function WL(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const l=Object.getOwnPropertyDescriptor(n,i);l&&Object.defineProperty(e,i,l.get?l:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(i){if(i.ep)return;i.ep=!0;const l=r(i);fetch(i.href,l)}})();var Doe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function si(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hg={exports:{}},Pu={};var yC;function KL(){if(yC)return Pu;yC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,i,l){var c=null;if(l!==void 0&&(c=""+l),i.key!==void 0&&(c=""+i.key),"key"in i){l={};for(var u in i)u!=="key"&&(l[u]=i[u])}else l=i;return i=l.ref,{$$typeof:e,type:n,key:c,ref:i!==void 0?i:null,props:l}}return Pu.Fragment=t,Pu.jsx=r,Pu.jsxs=r,Pu}var jC;function QL(){return jC||(jC=1,Hg.exports=KL()),Hg.exports}var a=QL(),Ug={exports:{}},rt={};var wC;function XL(){if(wC)return rt;wC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),v=Symbol.iterator;function g(P){return P===null||typeof P!="object"?null:(P=v&&P[v]||P["@@iterator"],typeof P=="function"?P:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,w={};function C(P,W,ne){this.props=P,this.context=W,this.refs=w,this.updater=ne||S}C.prototype.isReactComponent={},C.prototype.setState=function(P,W){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,W,"setState")},C.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function k(){}k.prototype=C.prototype;function A(P,W,ne){this.props=P,this.context=W,this.refs=w,this.updater=ne||S}var M=A.prototype=new k;M.constructor=A,y(M,C.prototype),M.isPureReactComponent=!0;var D=Array.isArray;function T(){}var I={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function z(P,W,ne){var de=ne.ref;return{$$typeof:e,type:P,key:W,ref:de!==void 0?de:null,props:ne}}function F(P,W){return z(P.type,W,P.props)}function B(P){return typeof P=="object"&&P!==null&&P.$$typeof===e}function E(P){var W={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ne){return W[ne]})}var J=/\/+/g;function X(P,W){return typeof P=="object"&&P!==null&&P.key!=null?E(""+P.key):W.toString(36)}function re(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(T,T):(P.status="pending",P.then(function(W){P.status==="pending"&&(P.status="fulfilled",P.value=W)},function(W){P.status==="pending"&&(P.status="rejected",P.reason=W)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function L(P,W,ne,de,q){var oe=typeof P;(oe==="undefined"||oe==="boolean")&&(P=null);var xe=!1;if(P===null)xe=!0;else switch(oe){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(P.$$typeof){case e:case t:xe=!0;break;case h:return xe=P._init,L(xe(P._payload),W,ne,de,q)}}if(xe)return q=q(P),xe=de===""?"."+X(P,0):de,D(q)?(ne="",xe!=null&&(ne=xe.replace(J,"$&/")+"/"),L(q,W,ne,"",function(ke){return ke})):q!=null&&(B(q)&&(q=F(q,ne+(q.key==null||P&&P.key===q.key?"":(""+q.key).replace(J,"$&/")+"/")+xe)),W.push(q)),1;xe=0;var he=de===""?".":de+":";if(D(P))for(var ee=0;ee<P.length;ee++)de=P[ee],oe=he+X(de,ee),xe+=L(de,W,ne,oe,q);else if(ee=g(P),typeof ee=="function")for(P=ee.call(P),ee=0;!(de=P.next()).done;)de=de.value,oe=he+X(de,ee++),xe+=L(de,W,ne,oe,q);else if(oe==="object"){if(typeof P.then=="function")return L(re(P),W,ne,de,q);throw W=String(P),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return xe}function U(P,W,ne){if(P==null)return P;var de=[],q=0;return L(P,de,"","",function(oe){return W.call(ne,oe,q++)}),de}function V(P){if(P._status===-1){var W=P._result;W=W(),W.then(function(ne){(P._status===0||P._status===-1)&&(P._status=1,P._result=ne)},function(ne){(P._status===0||P._status===-1)&&(P._status=2,P._result=ne)}),P._status===-1&&(P._status=0,P._result=W)}if(P._status===1)return P._result.default;throw P._result}var Ne=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},De={map:U,forEach:function(P,W,ne){U(P,function(){W.apply(this,arguments)},ne)},count:function(P){var W=0;return U(P,function(){W++}),W},toArray:function(P){return U(P,function(W){return W})||[]},only:function(P){if(!B(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return rt.Activity=x,rt.Children=De,rt.Component=C,rt.Fragment=r,rt.Profiler=i,rt.PureComponent=A,rt.StrictMode=n,rt.Suspense=f,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,rt.__COMPILER_RUNTIME={__proto__:null,c:function(P){return I.H.useMemoCache(P)}},rt.cache=function(P){return function(){return P.apply(null,arguments)}},rt.cacheSignal=function(){return null},rt.cloneElement=function(P,W,ne){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var de=y({},P.props),q=P.key;if(W!=null)for(oe in W.key!==void 0&&(q=""+W.key),W)!O.call(W,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&W.ref===void 0||(de[oe]=W[oe]);var oe=arguments.length-2;if(oe===1)de.children=ne;else if(1<oe){for(var xe=Array(oe),he=0;he<oe;he++)xe[he]=arguments[he+2];de.children=xe}return z(P.type,q,de)},rt.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},rt.createElement=function(P,W,ne){var de,q={},oe=null;if(W!=null)for(de in W.key!==void 0&&(oe=""+W.key),W)O.call(W,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(q[de]=W[de]);var xe=arguments.length-2;if(xe===1)q.children=ne;else if(1<xe){for(var he=Array(xe),ee=0;ee<xe;ee++)he[ee]=arguments[ee+2];q.children=he}if(P&&P.defaultProps)for(de in xe=P.defaultProps,xe)q[de]===void 0&&(q[de]=xe[de]);return z(P,oe,q)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(P){return{$$typeof:u,render:P}},rt.isValidElement=B,rt.lazy=function(P){return{$$typeof:h,_payload:{_status:-1,_result:P},_init:V}},rt.memo=function(P,W){return{$$typeof:m,type:P,compare:W===void 0?null:W}},rt.startTransition=function(P){var W=I.T,ne={};I.T=ne;try{var de=P(),q=I.S;q!==null&&q(ne,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(T,Ne)}catch(oe){Ne(oe)}finally{W!==null&&ne.types!==null&&(W.types=ne.types),I.T=W}},rt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},rt.use=function(P){return I.H.use(P)},rt.useActionState=function(P,W,ne){return I.H.useActionState(P,W,ne)},rt.useCallback=function(P,W){return I.H.useCallback(P,W)},rt.useContext=function(P){return I.H.useContext(P)},rt.useDebugValue=function(){},rt.useDeferredValue=function(P,W){return I.H.useDeferredValue(P,W)},rt.useEffect=function(P,W){return I.H.useEffect(P,W)},rt.useEffectEvent=function(P){return I.H.useEffectEvent(P)},rt.useId=function(){return I.H.useId()},rt.useImperativeHandle=function(P,W,ne){return I.H.useImperativeHandle(P,W,ne)},rt.useInsertionEffect=function(P,W){return I.H.useInsertionEffect(P,W)},rt.useLayoutEffect=function(P,W){return I.H.useLayoutEffect(P,W)},rt.useMemo=function(P,W){return I.H.useMemo(P,W)},rt.useOptimistic=function(P,W){return I.H.useOptimistic(P,W)},rt.useReducer=function(P,W,ne){return I.H.useReducer(P,W,ne)},rt.useRef=function(P){return I.H.useRef(P)},rt.useState=function(P){return I.H.useState(P)},rt.useSyncExternalStore=function(P,W,ne){return I.H.useSyncExternalStore(P,W,ne)},rt.useTransition=function(){return I.H.useTransition()},rt.version="19.2.4",rt}var NC;function Cc(){return NC||(NC=1,Ug.exports=XL()),Ug.exports}var j=Cc();const pe=si(j),m1=WL({__proto__:null,default:pe},[j]);var Yg={exports:{}},Iu={},Vg={exports:{}},Gg={};var SC;function ZL(){return SC||(SC=1,(function(e){function t(L,U){var V=L.length;L.push(U);e:for(;0<V;){var Ne=V-1>>>1,De=L[Ne];if(0<i(De,U))L[Ne]=U,L[V]=De,V=Ne;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var U=L[0],V=L.pop();if(V!==U){L[0]=V;e:for(var Ne=0,De=L.length,P=De>>>1;Ne<P;){var W=2*(Ne+1)-1,ne=L[W],de=W+1,q=L[de];if(0>i(ne,V))de<De&&0>i(q,ne)?(L[Ne]=q,L[de]=V,Ne=de):(L[Ne]=ne,L[W]=V,Ne=W);else if(de<De&&0>i(q,V))L[Ne]=q,L[de]=V,Ne=de;else break e}}return U}function i(L,U){var V=L.sortIndex-U.sortIndex;return V!==0?V:L.id-U.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var f=[],m=[],h=1,x=null,v=3,g=!1,S=!1,y=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function M(L){for(var U=r(m);U!==null;){if(U.callback===null)n(m);else if(U.startTime<=L)n(m),U.sortIndex=U.expirationTime,t(f,U);else break;U=r(m)}}function D(L){if(y=!1,M(L),!S)if(r(f)!==null)S=!0,T||(T=!0,E());else{var U=r(m);U!==null&&re(D,U.startTime-L)}}var T=!1,I=-1,O=5,z=-1;function F(){return w?!0:!(e.unstable_now()-z<O)}function B(){if(w=!1,T){var L=e.unstable_now();z=L;var U=!0;try{e:{S=!1,y&&(y=!1,k(I),I=-1),g=!0;var V=v;try{t:{for(M(L),x=r(f);x!==null&&!(x.expirationTime>L&&F());){var Ne=x.callback;if(typeof Ne=="function"){x.callback=null,v=x.priorityLevel;var De=Ne(x.expirationTime<=L);if(L=e.unstable_now(),typeof De=="function"){x.callback=De,M(L),U=!0;break t}x===r(f)&&n(f),M(L)}else n(f);x=r(f)}if(x!==null)U=!0;else{var P=r(m);P!==null&&re(D,P.startTime-L),U=!1}}break e}finally{x=null,v=V,g=!1}U=void 0}}finally{U?E():T=!1}}}var E;if(typeof A=="function")E=function(){A(B)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,X=J.port2;J.port1.onmessage=B,E=function(){X.postMessage(null)}}else E=function(){C(B,0)};function re(L,U){I=C(function(){L(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(L){switch(v){case 1:case 2:case 3:var U=3;break;default:U=v}var V=v;v=U;try{return L()}finally{v=V}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(L,U){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var V=v;v=L;try{return U()}finally{v=V}},e.unstable_scheduleCallback=function(L,U,V){var Ne=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Ne+V:Ne):V=Ne,L){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=V+De,L={id:h++,callback:U,priorityLevel:L,startTime:V,expirationTime:De,sortIndex:-1},V>Ne?(L.sortIndex=V,t(m,L),r(f)===null&&L===r(m)&&(y?(k(I),I=-1):y=!0,re(D,V-Ne))):(L.sortIndex=De,t(f,L),S||g||(S=!0,T||(T=!0,E()))),L},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(L){var U=v;return function(){var V=v;v=U;try{return L.apply(this,arguments)}finally{v=V}}}})(Gg)),Gg}var CC;function JL(){return CC||(CC=1,Vg.exports=ZL()),Vg.exports}var Wg={exports:{}},Xr={};var AC;function e6(){if(AC)return Xr;AC=1;var e=Cc();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)m+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(f,m,h){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:x==null?null:""+x,children:f,containerInfo:m,implementation:h}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Xr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Xr.createPortal=function(f,m){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(f,m,null,h)},Xr.flushSync=function(f){var m=c.T,h=n.p;try{if(c.T=null,n.p=2,f)return f()}finally{c.T=m,n.p=h,n.d.f()}},Xr.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(f,m))},Xr.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},Xr.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var h=m.as,x=u(h,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,g=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;h==="style"?n.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:v,fetchPriority:g}):h==="script"&&n.d.X(f,{crossOrigin:x,integrity:v,fetchPriority:g,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Xr.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var h=u(m.as,m.crossOrigin);n.d.M(f,{crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(f)},Xr.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var h=m.as,x=u(h,m.crossOrigin);n.d.L(f,h,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Xr.preloadModule=function(f,m){if(typeof f=="string")if(m){var h=u(m.as,m.crossOrigin);n.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(f)},Xr.requestFormReset=function(f){n.d.r(f)},Xr.unstable_batchedUpdates=function(f,m){return f(m)},Xr.useFormState=function(f,m,h){return c.H.useFormState(f,m,h)},Xr.useFormStatus=function(){return c.H.useHostTransitionStatus()},Xr.version="19.2.4",Xr}var kC;function i_(){if(kC)return Wg.exports;kC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Wg.exports=e6(),Wg.exports}var MC;function t6(){if(MC)return Iu;MC=1;var e=JL(),t=Cc(),r=i_();function n(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var o=s,d=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(d=o.return),s=o.return;while(s)}return o.tag===3?d:null}function c(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function u(s){if(s.tag===31){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function f(s){if(l(s)!==s)throw Error(n(188))}function m(s){var o=s.alternate;if(!o){if(o=l(s),o===null)throw Error(n(188));return o!==s?null:s}for(var d=s,p=o;;){var b=d.return;if(b===null)break;var N=b.alternate;if(N===null){if(p=b.return,p!==null){d=p;continue}break}if(b.child===N.child){for(N=b.child;N;){if(N===d)return f(b),s;if(N===p)return f(b),o;N=N.sibling}throw Error(n(188))}if(d.return!==p.return)d=b,p=N;else{for(var _=!1,R=b.child;R;){if(R===d){_=!0,d=b,p=N;break}if(R===p){_=!0,p=b,d=N;break}R=R.sibling}if(!_){for(R=N.child;R;){if(R===d){_=!0,d=N,p=b;break}if(R===p){_=!0,p=N,d=b;break}R=R.sibling}if(!_)throw Error(n(189))}}if(d.alternate!==p)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?s:o}function h(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=h(s),o!==null)return o;s=s.sibling}return null}var x=Object.assign,v=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),A=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function E(s){return s===null||typeof s!="object"?null:(s=B&&s[B]||s["@@iterator"],typeof s=="function"?s:null)}var J=Symbol.for("react.client.reference");function X(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===J?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case y:return"Fragment";case C:return"Profiler";case w:return"StrictMode";case D:return"Suspense";case T:return"SuspenseList";case z:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case S:return"Portal";case A:return s.displayName||"Context";case k:return(s._context.displayName||"Context")+".Consumer";case M:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case I:return o=s.displayName||null,o!==null?o:X(s.type)||"Memo";case O:o=s._payload,s=s._init;try{return X(s(o))}catch{}}return null}var re=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},Ne=[],De=-1;function P(s){return{current:s}}function W(s){0>De||(s.current=Ne[De],Ne[De]=null,De--)}function ne(s,o){De++,Ne[De]=s.current,s.current=o}var de=P(null),q=P(null),oe=P(null),xe=P(null);function he(s,o){switch(ne(oe,o),ne(q,s),ne(de,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?HS(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=HS(o),s=US(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}W(de),ne(de,s)}function ee(){W(de),W(q),W(oe)}function ke(s){s.memoizedState!==null&&ne(xe,s);var o=de.current,d=US(o,s.type);o!==d&&(ne(q,s),ne(de,d))}function He(s){q.current===s&&(W(de),W(q)),xe.current===s&&(W(xe),Eu._currentValue=V)}var ge,Le;function Ae(s){if(ge===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);ge=o&&o[1]||"",Le=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ge+s+Le}var Ee=!1;function at(s,o){if(!s||Ee)return"";Ee=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var je=function(){throw Error()};if(Object.defineProperty(je.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(je,[])}catch(fe){var ce=fe}Reflect.construct(s,[],je)}else{try{je.call()}catch(fe){ce=fe}s.call(je.prototype)}}else{try{throw Error()}catch(fe){ce=fe}(je=s())&&typeof je.catch=="function"&&je.catch(function(){})}}catch(fe){if(fe&&ce&&typeof fe.stack=="string")return[fe.stack,ce.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=p.DetermineComponentFrameRoot(),_=N[0],R=N[1];if(_&&R){var Y=_.split(`
`),se=R.split(`
`);for(b=p=0;p<Y.length&&!Y[p].includes("DetermineComponentFrameRoot");)p++;for(;b<se.length&&!se[b].includes("DetermineComponentFrameRoot");)b++;if(p===Y.length||b===se.length)for(p=Y.length-1,b=se.length-1;1<=p&&0<=b&&Y[p]!==se[b];)b--;for(;1<=p&&0<=b;p--,b--)if(Y[p]!==se[b]){if(p!==1||b!==1)do if(p--,b--,0>b||Y[p]!==se[b]){var ve=`
`+Y[p].replace(" at new "," at ");return s.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",s.displayName)),ve}while(1<=p&&0<=b);break}}}finally{Ee=!1,Error.prepareStackTrace=d}return(d=s?s.displayName||s.name:"")?Ae(d):""}function Dt(s,o){switch(s.tag){case 26:case 27:case 5:return Ae(s.type);case 16:return Ae("Lazy");case 13:return s.child!==o&&o!==null?Ae("Suspense Fallback"):Ae("Suspense");case 19:return Ae("SuspenseList");case 0:case 15:return at(s.type,!1);case 11:return at(s.type.render,!1);case 1:return at(s.type,!0);case 31:return Ae("Activity");default:return""}}function ar(s){try{var o="",d=null;do o+=Dt(s,d),d=s,s=s.return;while(s);return o}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var wt=Object.prototype.hasOwnProperty,Rt=e.unstable_scheduleCallback,Yt=e.unstable_cancelCallback,lr=e.unstable_shouldYield,Et=e.unstable_requestPaint,be=e.unstable_now,Ke=e.unstable_getCurrentPriorityLevel,G=e.unstable_ImmediatePriority,$=e.unstable_UserBlockingPriority,Z=e.unstable_NormalPriority,we=e.unstable_LowPriority,ze=e.unstable_IdlePriority,le=e.log,lt=e.unstable_setDisableYieldValue,Ue=null,Be=null;function Fe(s){if(typeof le=="function"&&lt(s),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(Ue,s)}catch{}}var et=Math.clz32?Math.clz32:Me,At=Math.log,gt=Math.LN2;function Me(s){return s>>>=0,s===0?32:31-(At(s)/gt|0)|0}var We=256,Pe=262144,ot=4194304;function yt(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ae(s,o,d){var p=s.pendingLanes;if(p===0)return 0;var b=0,N=s.suspendedLanes,_=s.pingedLanes;s=s.warmLanes;var R=p&134217727;return R!==0?(p=R&~N,p!==0?b=yt(p):(_&=R,_!==0?b=yt(_):d||(d=R&~s,d!==0&&(b=yt(d))))):(R=p&~N,R!==0?b=yt(R):_!==0?b=yt(_):d||(d=p&~s,d!==0&&(b=yt(d)))),b===0?0:o!==0&&o!==b&&(o&N)===0&&(N=b&-b,d=o&-o,N>=d||N===32&&(d&4194048)!==0)?o:b}function Se(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function Xe(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vt(){var s=ot;return ot<<=1,(ot&62914560)===0&&(ot=4194304),s}function Xt(s){for(var o=[],d=0;31>d;d++)o.push(s);return o}function Hn(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function io(s,o,d,p,b,N){var _=s.pendingLanes;s.pendingLanes=d,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=d,s.entangledLanes&=d,s.errorRecoveryDisabledLanes&=d,s.shellSuspendCounter=0;var R=s.entanglements,Y=s.expirationTimes,se=s.hiddenUpdates;for(d=_&~d;0<d;){var ve=31-et(d),je=1<<ve;R[ve]=0,Y[ve]=-1;var ce=se[ve];if(ce!==null)for(se[ve]=null,ve=0;ve<ce.length;ve++){var fe=ce[ve];fe!==null&&(fe.lane&=-536870913)}d&=~je}p!==0&&so(s,p,0),N!==0&&b===0&&s.tag!==0&&(s.suspendedLanes|=N&~(_&~o))}function so(s,o,d){s.pendingLanes|=o,s.suspendedLanes&=~o;var p=31-et(o);s.entangledLanes|=o,s.entanglements[p]=s.entanglements[p]|1073741824|d&261930}function rf(s,o){var d=s.entangledLanes|=o;for(s=s.entanglements;d;){var p=31-et(d),b=1<<p;b&o|s[p]&o&&(s[p]|=o),d&=~b}}function nf(s,o){var d=o&-o;return d=(d&42)!==0?1:Hc(d),(d&(s.suspendedLanes|o))!==0?0:d}function Hc(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Uc(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function af(){var s=U.p;return s!==0?s:(s=window.event,s===void 0?32:mC(s.type))}function sf(s,o){var d=U.p;try{return U.p=s,o()}finally{U.p=d}}var Ta=Math.random().toString(36).slice(2),Er="__reactFiber$"+Ta,Qr="__reactProps$"+Ta,as="__reactContainer$"+Ta,Yc="__reactEvents$"+Ta,Px="__reactListeners$"+Ta,Ix="__reactHandles$"+Ta,lf="__reactResources$"+Ta,nl="__reactMarker$"+Ta;function Vc(s){delete s[Er],delete s[Qr],delete s[Yc],delete s[Px],delete s[Ix]}function is(s){var o=s[Er];if(o)return o;for(var d=s.parentNode;d;){if(o=d[as]||d[Er]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(s=XS(s);s!==null;){if(d=s[Er])return d;s=XS(s)}return o}s=d,d=s.parentNode}return null}function ss(s){if(s=s[Er]||s[as]){var o=s.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return s}return null}function al(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(n(33))}function ls(s){var o=s[lf];return o||(o=s[lf]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function wr(s){s[nl]=!0}var of=new Set,H={};function Ce(s,o){or(s,o),or(s+"Capture",o)}function or(s,o){for(H[s]=o,s=0;s<o.length;s++)of.add(o[s])}var Nn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pa={},Ia={};function fi(s){return wt.call(Ia,s)?!0:wt.call(Pa,s)?!1:Nn.test(s)?Ia[s]=!0:(Pa[s]=!0,!1)}function mi(s,o,d){if(fi(o))if(d===null)s.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+d)}}function il(s,o,d){if(d===null)s.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+d)}}function Nr(s,o,d,p){if(p===null)s.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(d);return}s.setAttributeNS(o,d,""+p)}}function vr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Iw(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function $I(s,o,d){var p=Object.getOwnPropertyDescriptor(s.constructor.prototype,o);if(!s.hasOwnProperty(o)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var b=p.get,N=p.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return b.call(this)},set:function(_){d=""+_,N.call(this,_)}}),Object.defineProperty(s,o,{enumerable:p.enumerable}),{getValue:function(){return d},setValue:function(_){d=""+_},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Rx(s){if(!s._valueTracker){var o=Iw(s)?"checked":"value";s._valueTracker=$I(s,o,""+s[o])}}function Rw(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var d=o.getValue(),p="";return s&&(p=Iw(s)?s.checked?"true":"false":s.value),s=p,s!==d?(o.setValue(s),!0):!1}function cf(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var qI=/[\n"\\]/g;function Un(s){return s.replace(qI,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Lx(s,o,d,p,b,N,_,R){s.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?s.type=_:s.removeAttribute("type"),o!=null?_==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+vr(o)):s.value!==""+vr(o)&&(s.value=""+vr(o)):_!=="submit"&&_!=="reset"||s.removeAttribute("value"),o!=null?Fx(s,_,vr(o)):d!=null?Fx(s,_,vr(d)):p!=null&&s.removeAttribute("value"),b==null&&N!=null&&(s.defaultChecked=!!N),b!=null&&(s.checked=b&&typeof b!="function"&&typeof b!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?s.name=""+vr(R):s.removeAttribute("name")}function Lw(s,o,d,p,b,N,_,R){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(s.type=N),o!=null||d!=null){if(!(N!=="submit"&&N!=="reset"||o!=null)){Rx(s);return}d=d!=null?""+vr(d):"",o=o!=null?""+vr(o):d,R||o===s.value||(s.value=o),s.defaultValue=o}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,s.checked=R?s.checked:!!p,s.defaultChecked=!!p,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.name=_),Rx(s)}function Fx(s,o,d){o==="number"&&cf(s.ownerDocument)===s||s.defaultValue===""+d||(s.defaultValue=""+d)}function lo(s,o,d,p){if(s=s.options,o){o={};for(var b=0;b<d.length;b++)o["$"+d[b]]=!0;for(d=0;d<s.length;d++)b=o.hasOwnProperty("$"+s[d].value),s[d].selected!==b&&(s[d].selected=b),b&&p&&(s[d].defaultSelected=!0)}else{for(d=""+vr(d),o=null,b=0;b<s.length;b++){if(s[b].value===d){s[b].selected=!0,p&&(s[b].defaultSelected=!0);return}o!==null||s[b].disabled||(o=s[b])}o!==null&&(o.selected=!0)}}function Fw(s,o,d){if(o!=null&&(o=""+vr(o),o!==s.value&&(s.value=o),d==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=d!=null?""+vr(d):""}function zw(s,o,d,p){if(o==null){if(p!=null){if(d!=null)throw Error(n(92));if(re(p)){if(1<p.length)throw Error(n(93));p=p[0]}d=p}d==null&&(d=""),o=d}d=vr(o),s.defaultValue=d,p=s.textContent,p===d&&p!==""&&p!==null&&(s.value=p),Rx(s)}function oo(s,o){if(o){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=o;return}}s.textContent=o}var HI=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bw(s,o,d){var p=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":p?s.setProperty(o,d):typeof d!="number"||d===0||HI.has(o)?o==="float"?s.cssFloat=d:s[o]=(""+d).trim():s[o]=d+"px"}function $w(s,o,d){if(o!=null&&typeof o!="object")throw Error(n(62));if(s=s.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?s.setProperty(p,""):p==="float"?s.cssFloat="":s[p]="");for(var b in o)p=o[b],o.hasOwnProperty(b)&&d[b]!==p&&Bw(s,b,p)}else for(var N in o)o.hasOwnProperty(N)&&Bw(s,N,o[N])}function zx(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var UI=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),YI=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function uf(s){return YI.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function pi(){}var Bx=null;function $x(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var co=null,uo=null;function qw(s){var o=ss(s);if(o&&(s=o.stateNode)){var d=s[Qr]||null;e:switch(s=o.stateNode,o.type){case"input":if(Lx(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Un(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var p=d[o];if(p!==s&&p.form===s.form){var b=p[Qr]||null;if(!b)throw Error(n(90));Lx(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(o=0;o<d.length;o++)p=d[o],p.form===s.form&&Rw(p)}break e;case"textarea":Fw(s,d.value,d.defaultValue);break e;case"select":o=d.value,o!=null&&lo(s,!!d.multiple,o,!1)}}}var qx=!1;function Hw(s,o,d){if(qx)return s(o,d);qx=!0;try{var p=s(o);return p}finally{if(qx=!1,(co!==null||uo!==null)&&(Xf(),co&&(o=co,s=uo,uo=co=null,qw(o),s)))for(o=0;o<s.length;o++)qw(s[o])}}function Gc(s,o){var d=s.stateNode;if(d===null)return null;var p=d[Qr]||null;if(p===null)return null;d=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(n(231,o,typeof d));return d}var hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hx=!1;if(hi)try{var Wc={};Object.defineProperty(Wc,"passive",{get:function(){Hx=!0}}),window.addEventListener("test",Wc,Wc),window.removeEventListener("test",Wc,Wc)}catch{Hx=!1}var os=null,Ux=null,df=null;function Uw(){if(df)return df;var s,o=Ux,d=o.length,p,b="value"in os?os.value:os.textContent,N=b.length;for(s=0;s<d&&o[s]===b[s];s++);var _=d-s;for(p=1;p<=_&&o[d-p]===b[N-p];p++);return df=b.slice(s,1<p?1-p:void 0)}function ff(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function mf(){return!0}function Yw(){return!1}function cn(s){function o(d,p,b,N,_){this._reactName=d,this._targetInst=b,this.type=p,this.nativeEvent=N,this.target=_,this.currentTarget=null;for(var R in s)s.hasOwnProperty(R)&&(d=s[R],this[R]=d?d(N):N[R]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?mf:Yw,this.isPropagationStopped=Yw,this}return x(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=mf)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=mf)},persist:function(){},isPersistent:mf}),o}var sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pf=cn(sl),Kc=x({},sl,{view:0,detail:0}),VI=cn(Kc),Yx,Vx,Qc,hf=x({},Kc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wx,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Qc&&(Qc&&s.type==="mousemove"?(Yx=s.screenX-Qc.screenX,Vx=s.screenY-Qc.screenY):Vx=Yx=0,Qc=s),Yx)},movementY:function(s){return"movementY"in s?s.movementY:Vx}}),Vw=cn(hf),GI=x({},hf,{dataTransfer:0}),WI=cn(GI),KI=x({},Kc,{relatedTarget:0}),Gx=cn(KI),QI=x({},sl,{animationName:0,elapsedTime:0,pseudoElement:0}),XI=cn(QI),ZI=x({},sl,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),JI=cn(ZI),eR=x({},sl,{data:0}),Gw=cn(eR),tR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aR(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=nR[s])?!!o[s]:!1}function Wx(){return aR}var iR=x({},Kc,{key:function(s){if(s.key){var o=tR[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=ff(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?rR[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wx,charCode:function(s){return s.type==="keypress"?ff(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ff(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),sR=cn(iR),lR=x({},hf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ww=cn(lR),oR=x({},Kc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wx}),cR=cn(oR),uR=x({},sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),dR=cn(uR),fR=x({},hf,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),mR=cn(fR),pR=x({},sl,{newState:0,oldState:0}),hR=cn(pR),xR=[9,13,27,32],Kx=hi&&"CompositionEvent"in window,Xc=null;hi&&"documentMode"in document&&(Xc=document.documentMode);var vR=hi&&"TextEvent"in window&&!Xc,Kw=hi&&(!Kx||Xc&&8<Xc&&11>=Xc),Qw=" ",Xw=!1;function Zw(s,o){switch(s){case"keyup":return xR.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jw(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var fo=!1;function gR(s,o){switch(s){case"compositionend":return Jw(o);case"keypress":return o.which!==32?null:(Xw=!0,Qw);case"textInput":return s=o.data,s===Qw&&Xw?null:s;default:return null}}function bR(s,o){if(fo)return s==="compositionend"||!Kx&&Zw(s,o)?(s=Uw(),df=Ux=os=null,fo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Kw&&o.locale!=="ko"?null:o.data;default:return null}}var yR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eN(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!yR[s.type]:o==="textarea"}function tN(s,o,d,p){co?uo?uo.push(p):uo=[p]:co=p,o=am(o,"onChange"),0<o.length&&(d=new pf("onChange","change",null,d,p),s.push({event:d,listeners:o}))}var Zc=null,Jc=null;function jR(s){LS(s,0)}function xf(s){var o=al(s);if(Rw(o))return s}function rN(s,o){if(s==="change")return o}var nN=!1;if(hi){var Qx;if(hi){var Xx="oninput"in document;if(!Xx){var aN=document.createElement("div");aN.setAttribute("oninput","return;"),Xx=typeof aN.oninput=="function"}Qx=Xx}else Qx=!1;nN=Qx&&(!document.documentMode||9<document.documentMode)}function iN(){Zc&&(Zc.detachEvent("onpropertychange",sN),Jc=Zc=null)}function sN(s){if(s.propertyName==="value"&&xf(Jc)){var o=[];tN(o,Jc,s,$x(s)),Hw(jR,o)}}function wR(s,o,d){s==="focusin"?(iN(),Zc=o,Jc=d,Zc.attachEvent("onpropertychange",sN)):s==="focusout"&&iN()}function NR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return xf(Jc)}function SR(s,o){if(s==="click")return xf(o)}function CR(s,o){if(s==="input"||s==="change")return xf(o)}function AR(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Sn=typeof Object.is=="function"?Object.is:AR;function eu(s,o){if(Sn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var d=Object.keys(s),p=Object.keys(o);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var b=d[p];if(!wt.call(o,b)||!Sn(s[b],o[b]))return!1}return!0}function lN(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function oN(s,o){var d=lN(s);s=0;for(var p;d;){if(d.nodeType===3){if(p=s+d.textContent.length,s<=o&&p>=o)return{node:d,offset:o-s};s=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=lN(d)}}function cN(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?cN(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function uN(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=cf(s.document);o instanceof s.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)s=o.contentWindow;else break;o=cf(s.document)}return o}function Zx(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var kR=hi&&"documentMode"in document&&11>=document.documentMode,mo=null,Jx=null,tu=null,ev=!1;function dN(s,o,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;ev||mo==null||mo!==cf(p)||(p=mo,"selectionStart"in p&&Zx(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),tu&&eu(tu,p)||(tu=p,p=am(Jx,"onSelect"),0<p.length&&(o=new pf("onSelect","select",null,o,d),s.push({event:o,listeners:p}),o.target=mo)))}function ll(s,o){var d={};return d[s.toLowerCase()]=o.toLowerCase(),d["Webkit"+s]="webkit"+o,d["Moz"+s]="moz"+o,d}var po={animationend:ll("Animation","AnimationEnd"),animationiteration:ll("Animation","AnimationIteration"),animationstart:ll("Animation","AnimationStart"),transitionrun:ll("Transition","TransitionRun"),transitionstart:ll("Transition","TransitionStart"),transitioncancel:ll("Transition","TransitionCancel"),transitionend:ll("Transition","TransitionEnd")},tv={},fN={};hi&&(fN=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function ol(s){if(tv[s])return tv[s];if(!po[s])return s;var o=po[s],d;for(d in o)if(o.hasOwnProperty(d)&&d in fN)return tv[s]=o[d];return s}var mN=ol("animationend"),pN=ol("animationiteration"),hN=ol("animationstart"),MR=ol("transitionrun"),DR=ol("transitionstart"),ER=ol("transitioncancel"),xN=ol("transitionend"),vN=new Map,rv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rv.push("scrollEnd");function da(s,o){vN.set(s,o),Ce(o,[s])}var vf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Yn=[],ho=0,nv=0;function gf(){for(var s=ho,o=nv=ho=0;o<s;){var d=Yn[o];Yn[o++]=null;var p=Yn[o];Yn[o++]=null;var b=Yn[o];Yn[o++]=null;var N=Yn[o];if(Yn[o++]=null,p!==null&&b!==null){var _=p.pending;_===null?b.next=b:(b.next=_.next,_.next=b),p.pending=b}N!==0&&gN(d,b,N)}}function bf(s,o,d,p){Yn[ho++]=s,Yn[ho++]=o,Yn[ho++]=d,Yn[ho++]=p,nv|=p,s.lanes|=p,s=s.alternate,s!==null&&(s.lanes|=p)}function av(s,o,d,p){return bf(s,o,d,p),yf(s)}function cl(s,o){return bf(s,null,null,o),yf(s)}function gN(s,o,d){s.lanes|=d;var p=s.alternate;p!==null&&(p.lanes|=d);for(var b=!1,N=s.return;N!==null;)N.childLanes|=d,p=N.alternate,p!==null&&(p.childLanes|=d),N.tag===22&&(s=N.stateNode,s===null||s._visibility&1||(b=!0)),s=N,N=N.return;return s.tag===3?(N=s.stateNode,b&&o!==null&&(b=31-et(d),s=N.hiddenUpdates,p=s[b],p===null?s[b]=[o]:p.push(o),o.lane=d|536870912),N):null}function yf(s){if(50<Nu)throw Nu=0,mg=null,Error(n(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var xo={};function _R(s,o,d,p){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(s,o,d,p){return new _R(s,o,d,p)}function iv(s){return s=s.prototype,!(!s||!s.isReactComponent)}function xi(s,o){var d=s.alternate;return d===null?(d=Cn(s.tag,o,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=o,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&65011712,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,o=s.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d.refCleanup=s.refCleanup,d}function bN(s,o){s.flags&=65011714;var d=s.alternate;return d===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,o=d.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function jf(s,o,d,p,b,N){var _=0;if(p=s,typeof s=="function")iv(s)&&(_=1);else if(typeof s=="string")_=RL(s,d,de.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case z:return s=Cn(31,d,o,b),s.elementType=z,s.lanes=N,s;case y:return ul(d.children,b,N,o);case w:_=8,b|=24;break;case C:return s=Cn(12,d,o,b|2),s.elementType=C,s.lanes=N,s;case D:return s=Cn(13,d,o,b),s.elementType=D,s.lanes=N,s;case T:return s=Cn(19,d,o,b),s.elementType=T,s.lanes=N,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case A:_=10;break e;case k:_=9;break e;case M:_=11;break e;case I:_=14;break e;case O:_=16,p=null;break e}_=29,d=Error(n(130,s===null?"null":typeof s,"")),p=null}return o=Cn(_,d,o,b),o.elementType=s,o.type=p,o.lanes=N,o}function ul(s,o,d,p){return s=Cn(7,s,p,o),s.lanes=d,s}function sv(s,o,d){return s=Cn(6,s,null,o),s.lanes=d,s}function yN(s){var o=Cn(18,null,null,0);return o.stateNode=s,o}function lv(s,o,d){return o=Cn(4,s.children!==null?s.children:[],s.key,o),o.lanes=d,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var jN=new WeakMap;function Vn(s,o){if(typeof s=="object"&&s!==null){var d=jN.get(s);return d!==void 0?d:(o={value:s,source:o,stack:ar(o)},jN.set(s,o),o)}return{value:s,source:o,stack:ar(o)}}var vo=[],go=0,wf=null,ru=0,Gn=[],Wn=0,cs=null,Ra=1,La="";function vi(s,o){vo[go++]=ru,vo[go++]=wf,wf=s,ru=o}function wN(s,o,d){Gn[Wn++]=Ra,Gn[Wn++]=La,Gn[Wn++]=cs,cs=s;var p=Ra;s=La;var b=32-et(p)-1;p&=~(1<<b),d+=1;var N=32-et(o)+b;if(30<N){var _=b-b%5;N=(p&(1<<_)-1).toString(32),p>>=_,b-=_,Ra=1<<32-et(o)+b|d<<b|p,La=N+s}else Ra=1<<N|d<<b|p,La=s}function ov(s){s.return!==null&&(vi(s,1),wN(s,1,0))}function cv(s){for(;s===wf;)wf=vo[--go],vo[go]=null,ru=vo[--go],vo[go]=null;for(;s===cs;)cs=Gn[--Wn],Gn[Wn]=null,La=Gn[--Wn],Gn[Wn]=null,Ra=Gn[--Wn],Gn[Wn]=null}function NN(s,o){Gn[Wn++]=Ra,Gn[Wn++]=La,Gn[Wn++]=cs,Ra=o.id,La=o.overflow,cs=s}var qr=null,Gt=null,bt=!1,us=null,Kn=!1,uv=Error(n(519));function ds(s){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nu(Vn(o,s)),uv}function SN(s){var o=s.stateNode,d=s.type,p=s.memoizedProps;switch(o[Er]=s,o[Qr]=p,d){case"dialog":ft("cancel",o),ft("close",o);break;case"iframe":case"object":case"embed":ft("load",o);break;case"video":case"audio":for(d=0;d<Cu.length;d++)ft(Cu[d],o);break;case"source":ft("error",o);break;case"img":case"image":case"link":ft("error",o),ft("load",o);break;case"details":ft("toggle",o);break;case"input":ft("invalid",o),Lw(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":ft("invalid",o);break;case"textarea":ft("invalid",o),zw(o,p.value,p.defaultValue,p.children)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||p.suppressHydrationWarning===!0||$S(o.textContent,d)?(p.popover!=null&&(ft("beforetoggle",o),ft("toggle",o)),p.onScroll!=null&&ft("scroll",o),p.onScrollEnd!=null&&ft("scrollend",o),p.onClick!=null&&(o.onclick=pi),o=!0):o=!1,o||ds(s,!0)}function CN(s){for(qr=s.return;qr;)switch(qr.tag){case 5:case 31:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:qr=qr.return}}function bo(s){if(s!==qr)return!1;if(!bt)return CN(s),bt=!0,!1;var o=s.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=s.type,d=!(d!=="form"&&d!=="button")||Mg(s.type,s.memoizedProps)),d=!d),d&&Gt&&ds(s),CN(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));Gt=QS(s)}else if(o===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));Gt=QS(s)}else o===27?(o=Gt,Cs(s.type)?(s=Tg,Tg=null,Gt=s):Gt=o):Gt=qr?Xn(s.stateNode.nextSibling):null;return!0}function dl(){Gt=qr=null,bt=!1}function dv(){var s=us;return s!==null&&(mn===null?mn=s:mn.push.apply(mn,s),us=null),s}function nu(s){us===null?us=[s]:us.push(s)}var fv=P(null),fl=null,gi=null;function fs(s,o,d){ne(fv,o._currentValue),o._currentValue=d}function bi(s){s._currentValue=fv.current,W(fv)}function mv(s,o,d){for(;s!==null;){var p=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),s===d)break;s=s.return}}function pv(s,o,d,p){var b=s.child;for(b!==null&&(b.return=s);b!==null;){var N=b.dependencies;if(N!==null){var _=b.child;N=N.firstContext;e:for(;N!==null;){var R=N;N=b;for(var Y=0;Y<o.length;Y++)if(R.context===o[Y]){N.lanes|=d,R=N.alternate,R!==null&&(R.lanes|=d),mv(N.return,d,s),p||(_=null);break e}N=R.next}}else if(b.tag===18){if(_=b.return,_===null)throw Error(n(341));_.lanes|=d,N=_.alternate,N!==null&&(N.lanes|=d),mv(_,d,s),_=null}else _=b.child;if(_!==null)_.return=b;else for(_=b;_!==null;){if(_===s){_=null;break}if(b=_.sibling,b!==null){b.return=_.return,_=b;break}_=_.return}b=_}}function yo(s,o,d,p){s=null;for(var b=o,N=!1;b!==null;){if(!N){if((b.flags&524288)!==0)N=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var _=b.alternate;if(_===null)throw Error(n(387));if(_=_.memoizedProps,_!==null){var R=b.type;Sn(b.pendingProps.value,_.value)||(s!==null?s.push(R):s=[R])}}else if(b===xe.current){if(_=b.alternate,_===null)throw Error(n(387));_.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(s!==null?s.push(Eu):s=[Eu])}b=b.return}s!==null&&pv(o,s,d,p),o.flags|=262144}function Nf(s){for(s=s.firstContext;s!==null;){if(!Sn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ml(s){fl=s,gi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Hr(s){return AN(fl,s)}function Sf(s,o){return fl===null&&ml(s),AN(s,o)}function AN(s,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},gi===null){if(s===null)throw Error(n(308));gi=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else gi=gi.next=o;return d}var OR=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(d,p){s.push(p)}};this.abort=function(){o.aborted=!0,s.forEach(function(d){return d()})}},TR=e.unstable_scheduleCallback,PR=e.unstable_NormalPriority,Sr={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hv(){return{controller:new OR,data:new Map,refCount:0}}function au(s){s.refCount--,s.refCount===0&&TR(PR,function(){s.controller.abort()})}var iu=null,xv=0,jo=0,wo=null;function IR(s,o){if(iu===null){var d=iu=[];xv=0,jo=bg(),wo={status:"pending",value:void 0,then:function(p){d.push(p)}}}return xv++,o.then(kN,kN),o}function kN(){if(--xv===0&&iu!==null){wo!==null&&(wo.status="fulfilled");var s=iu;iu=null,jo=0,wo=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function RR(s,o){var d=[],p={status:"pending",value:null,reason:null,then:function(b){d.push(b)}};return s.then(function(){p.status="fulfilled",p.value=o;for(var b=0;b<d.length;b++)(0,d[b])(o)},function(b){for(p.status="rejected",p.reason=b,b=0;b<d.length;b++)(0,d[b])(void 0)}),p}var MN=L.S;L.S=function(s,o){dS=be(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&IR(s,o),MN!==null&&MN(s,o)};var pl=P(null);function vv(){var s=pl.current;return s!==null?s:qt.pooledCache}function Cf(s,o){o===null?ne(pl,pl.current):ne(pl,o.pool)}function DN(){var s=vv();return s===null?null:{parent:Sr._currentValue,pool:s}}var No=Error(n(460)),gv=Error(n(474)),Af=Error(n(542)),kf={then:function(){}};function EN(s){return s=s.status,s==="fulfilled"||s==="rejected"}function _N(s,o,d){switch(d=s[d],d===void 0?s.push(o):d!==o&&(o.then(pi,pi),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,TN(s),s;default:if(typeof o.status=="string")o.then(pi,pi);else{if(s=qt,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=o,s.status="pending",s.then(function(p){if(o.status==="pending"){var b=o;b.status="fulfilled",b.value=p}},function(p){if(o.status==="pending"){var b=o;b.status="rejected",b.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,TN(s),s}throw xl=o,No}}function hl(s){try{var o=s._init;return o(s._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(xl=d,No):d}}var xl=null;function ON(){if(xl===null)throw Error(n(459));var s=xl;return xl=null,s}function TN(s){if(s===No||s===Af)throw Error(n(483))}var So=null,su=0;function Mf(s){var o=su;return su+=1,So===null&&(So=[]),_N(So,s,o)}function lu(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function Df(s,o){throw o.$$typeof===v?Error(n(525)):(s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function PN(s){function o(te,Q){if(s){var ie=te.deletions;ie===null?(te.deletions=[Q],te.flags|=16):ie.push(Q)}}function d(te,Q){if(!s)return null;for(;Q!==null;)o(te,Q),Q=Q.sibling;return null}function p(te){for(var Q=new Map;te!==null;)te.key!==null?Q.set(te.key,te):Q.set(te.index,te),te=te.sibling;return Q}function b(te,Q){return te=xi(te,Q),te.index=0,te.sibling=null,te}function N(te,Q,ie){return te.index=ie,s?(ie=te.alternate,ie!==null?(ie=ie.index,ie<Q?(te.flags|=67108866,Q):ie):(te.flags|=67108866,Q)):(te.flags|=1048576,Q)}function _(te){return s&&te.alternate===null&&(te.flags|=67108866),te}function R(te,Q,ie,ye){return Q===null||Q.tag!==6?(Q=sv(ie,te.mode,ye),Q.return=te,Q):(Q=b(Q,ie),Q.return=te,Q)}function Y(te,Q,ie,ye){var Ge=ie.type;return Ge===y?ve(te,Q,ie.props.children,ye,ie.key):Q!==null&&(Q.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===O&&hl(Ge)===Q.type)?(Q=b(Q,ie.props),lu(Q,ie),Q.return=te,Q):(Q=jf(ie.type,ie.key,ie.props,null,te.mode,ye),lu(Q,ie),Q.return=te,Q)}function se(te,Q,ie,ye){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ie.containerInfo||Q.stateNode.implementation!==ie.implementation?(Q=lv(ie,te.mode,ye),Q.return=te,Q):(Q=b(Q,ie.children||[]),Q.return=te,Q)}function ve(te,Q,ie,ye,Ge){return Q===null||Q.tag!==7?(Q=ul(ie,te.mode,ye,Ge),Q.return=te,Q):(Q=b(Q,ie),Q.return=te,Q)}function je(te,Q,ie){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=sv(""+Q,te.mode,ie),Q.return=te,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case g:return ie=jf(Q.type,Q.key,Q.props,null,te.mode,ie),lu(ie,Q),ie.return=te,ie;case S:return Q=lv(Q,te.mode,ie),Q.return=te,Q;case O:return Q=hl(Q),je(te,Q,ie)}if(re(Q)||E(Q))return Q=ul(Q,te.mode,ie,null),Q.return=te,Q;if(typeof Q.then=="function")return je(te,Mf(Q),ie);if(Q.$$typeof===A)return je(te,Sf(te,Q),ie);Df(te,Q)}return null}function ce(te,Q,ie,ye){var Ge=Q!==null?Q.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return Ge!==null?null:R(te,Q,""+ie,ye);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case g:return ie.key===Ge?Y(te,Q,ie,ye):null;case S:return ie.key===Ge?se(te,Q,ie,ye):null;case O:return ie=hl(ie),ce(te,Q,ie,ye)}if(re(ie)||E(ie))return Ge!==null?null:ve(te,Q,ie,ye,null);if(typeof ie.then=="function")return ce(te,Q,Mf(ie),ye);if(ie.$$typeof===A)return ce(te,Q,Sf(te,ie),ye);Df(te,ie)}return null}function fe(te,Q,ie,ye,Ge){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return te=te.get(ie)||null,R(Q,te,""+ye,Ge);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case g:return te=te.get(ye.key===null?ie:ye.key)||null,Y(Q,te,ye,Ge);case S:return te=te.get(ye.key===null?ie:ye.key)||null,se(Q,te,ye,Ge);case O:return ye=hl(ye),fe(te,Q,ie,ye,Ge)}if(re(ye)||E(ye))return te=te.get(ie)||null,ve(Q,te,ye,Ge,null);if(typeof ye.then=="function")return fe(te,Q,ie,Mf(ye),Ge);if(ye.$$typeof===A)return fe(te,Q,ie,Sf(Q,ye),Ge);Df(Q,ye)}return null}function qe(te,Q,ie,ye){for(var Ge=null,Nt=null,Ye=Q,it=Q=0,xt=null;Ye!==null&&it<ie.length;it++){Ye.index>it?(xt=Ye,Ye=null):xt=Ye.sibling;var St=ce(te,Ye,ie[it],ye);if(St===null){Ye===null&&(Ye=xt);break}s&&Ye&&St.alternate===null&&o(te,Ye),Q=N(St,Q,it),Nt===null?Ge=St:Nt.sibling=St,Nt=St,Ye=xt}if(it===ie.length)return d(te,Ye),bt&&vi(te,it),Ge;if(Ye===null){for(;it<ie.length;it++)Ye=je(te,ie[it],ye),Ye!==null&&(Q=N(Ye,Q,it),Nt===null?Ge=Ye:Nt.sibling=Ye,Nt=Ye);return bt&&vi(te,it),Ge}for(Ye=p(Ye);it<ie.length;it++)xt=fe(Ye,te,it,ie[it],ye),xt!==null&&(s&&xt.alternate!==null&&Ye.delete(xt.key===null?it:xt.key),Q=N(xt,Q,it),Nt===null?Ge=xt:Nt.sibling=xt,Nt=xt);return s&&Ye.forEach(function(Es){return o(te,Es)}),bt&&vi(te,it),Ge}function Qe(te,Q,ie,ye){if(ie==null)throw Error(n(151));for(var Ge=null,Nt=null,Ye=Q,it=Q=0,xt=null,St=ie.next();Ye!==null&&!St.done;it++,St=ie.next()){Ye.index>it?(xt=Ye,Ye=null):xt=Ye.sibling;var Es=ce(te,Ye,St.value,ye);if(Es===null){Ye===null&&(Ye=xt);break}s&&Ye&&Es.alternate===null&&o(te,Ye),Q=N(Es,Q,it),Nt===null?Ge=Es:Nt.sibling=Es,Nt=Es,Ye=xt}if(St.done)return d(te,Ye),bt&&vi(te,it),Ge;if(Ye===null){for(;!St.done;it++,St=ie.next())St=je(te,St.value,ye),St!==null&&(Q=N(St,Q,it),Nt===null?Ge=St:Nt.sibling=St,Nt=St);return bt&&vi(te,it),Ge}for(Ye=p(Ye);!St.done;it++,St=ie.next())St=fe(Ye,te,it,St.value,ye),St!==null&&(s&&St.alternate!==null&&Ye.delete(St.key===null?it:St.key),Q=N(St,Q,it),Nt===null?Ge=St:Nt.sibling=St,Nt=St);return s&&Ye.forEach(function(GL){return o(te,GL)}),bt&&vi(te,it),Ge}function zt(te,Q,ie,ye){if(typeof ie=="object"&&ie!==null&&ie.type===y&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case g:e:{for(var Ge=ie.key;Q!==null;){if(Q.key===Ge){if(Ge=ie.type,Ge===y){if(Q.tag===7){d(te,Q.sibling),ye=b(Q,ie.props.children),ye.return=te,te=ye;break e}}else if(Q.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===O&&hl(Ge)===Q.type){d(te,Q.sibling),ye=b(Q,ie.props),lu(ye,ie),ye.return=te,te=ye;break e}d(te,Q);break}else o(te,Q);Q=Q.sibling}ie.type===y?(ye=ul(ie.props.children,te.mode,ye,ie.key),ye.return=te,te=ye):(ye=jf(ie.type,ie.key,ie.props,null,te.mode,ye),lu(ye,ie),ye.return=te,te=ye)}return _(te);case S:e:{for(Ge=ie.key;Q!==null;){if(Q.key===Ge)if(Q.tag===4&&Q.stateNode.containerInfo===ie.containerInfo&&Q.stateNode.implementation===ie.implementation){d(te,Q.sibling),ye=b(Q,ie.children||[]),ye.return=te,te=ye;break e}else{d(te,Q);break}else o(te,Q);Q=Q.sibling}ye=lv(ie,te.mode,ye),ye.return=te,te=ye}return _(te);case O:return ie=hl(ie),zt(te,Q,ie,ye)}if(re(ie))return qe(te,Q,ie,ye);if(E(ie)){if(Ge=E(ie),typeof Ge!="function")throw Error(n(150));return ie=Ge.call(ie),Qe(te,Q,ie,ye)}if(typeof ie.then=="function")return zt(te,Q,Mf(ie),ye);if(ie.$$typeof===A)return zt(te,Q,Sf(te,ie),ye);Df(te,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,Q!==null&&Q.tag===6?(d(te,Q.sibling),ye=b(Q,ie),ye.return=te,te=ye):(d(te,Q),ye=sv(ie,te.mode,ye),ye.return=te,te=ye),_(te)):d(te,Q)}return function(te,Q,ie,ye){try{su=0;var Ge=zt(te,Q,ie,ye);return So=null,Ge}catch(Ye){if(Ye===No||Ye===Af)throw Ye;var Nt=Cn(29,Ye,null,te.mode);return Nt.lanes=ye,Nt.return=te,Nt}}}var vl=PN(!0),IN=PN(!1),ms=!1;function bv(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yv(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ps(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function hs(s,o,d){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(kt&2)!==0){var b=p.pending;return b===null?o.next=o:(o.next=b.next,b.next=o),p.pending=o,o=yf(s),gN(s,null,d),o}return bf(s,p,o,d),yf(s)}function ou(s,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var p=o.lanes;p&=s.pendingLanes,d|=p,o.lanes=d,rf(s,d)}}function jv(s,o){var d=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var b=null,N=null;if(d=d.firstBaseUpdate,d!==null){do{var _={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};N===null?b=N=_:N=N.next=_,d=d.next}while(d!==null);N===null?b=N=o:N=N.next=o}else b=N=o;d={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:N,shared:p.shared,callbacks:p.callbacks},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=o:s.next=o,d.lastBaseUpdate=o}var wv=!1;function cu(){if(wv){var s=wo;if(s!==null)throw s}}function uu(s,o,d,p){wv=!1;var b=s.updateQueue;ms=!1;var N=b.firstBaseUpdate,_=b.lastBaseUpdate,R=b.shared.pending;if(R!==null){b.shared.pending=null;var Y=R,se=Y.next;Y.next=null,_===null?N=se:_.next=se,_=Y;var ve=s.alternate;ve!==null&&(ve=ve.updateQueue,R=ve.lastBaseUpdate,R!==_&&(R===null?ve.firstBaseUpdate=se:R.next=se,ve.lastBaseUpdate=Y))}if(N!==null){var je=b.baseState;_=0,ve=se=Y=null,R=N;do{var ce=R.lane&-536870913,fe=ce!==R.lane;if(fe?(ht&ce)===ce:(p&ce)===ce){ce!==0&&ce===jo&&(wv=!0),ve!==null&&(ve=ve.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var qe=s,Qe=R;ce=o;var zt=d;switch(Qe.tag){case 1:if(qe=Qe.payload,typeof qe=="function"){je=qe.call(zt,je,ce);break e}je=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=Qe.payload,ce=typeof qe=="function"?qe.call(zt,je,ce):qe,ce==null)break e;je=x({},je,ce);break e;case 2:ms=!0}}ce=R.callback,ce!==null&&(s.flags|=64,fe&&(s.flags|=8192),fe=b.callbacks,fe===null?b.callbacks=[ce]:fe.push(ce))}else fe={lane:ce,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ve===null?(se=ve=fe,Y=je):ve=ve.next=fe,_|=ce;if(R=R.next,R===null){if(R=b.shared.pending,R===null)break;fe=R,R=fe.next,fe.next=null,b.lastBaseUpdate=fe,b.shared.pending=null}}while(!0);ve===null&&(Y=je),b.baseState=Y,b.firstBaseUpdate=se,b.lastBaseUpdate=ve,N===null&&(b.shared.lanes=0),ys|=_,s.lanes=_,s.memoizedState=je}}function RN(s,o){if(typeof s!="function")throw Error(n(191,s));s.call(o)}function LN(s,o){var d=s.callbacks;if(d!==null)for(s.callbacks=null,s=0;s<d.length;s++)RN(d[s],o)}var Co=P(null),Ef=P(0);function FN(s,o){s=Mi,ne(Ef,s),ne(Co,o),Mi=s|o.baseLanes}function Nv(){ne(Ef,Mi),ne(Co,Co.current)}function Sv(){Mi=Ef.current,W(Co),W(Ef)}var An=P(null),Qn=null;function xs(s){var o=s.alternate;ne(gr,gr.current&1),ne(An,s),Qn===null&&(o===null||Co.current!==null||o.memoizedState!==null)&&(Qn=s)}function Cv(s){ne(gr,gr.current),ne(An,s),Qn===null&&(Qn=s)}function zN(s){s.tag===22?(ne(gr,gr.current),ne(An,s),Qn===null&&(Qn=s)):vs()}function vs(){ne(gr,gr.current),ne(An,An.current)}function kn(s){W(An),Qn===s&&(Qn=null),W(gr)}var gr=P(0);function _f(s){for(var o=s;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||_g(d)||Og(d)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var yi=0,nt=null,Lt=null,Cr=null,Of=!1,Ao=!1,gl=!1,Tf=0,du=0,ko=null,LR=0;function cr(){throw Error(n(321))}function Av(s,o){if(o===null)return!1;for(var d=0;d<o.length&&d<s.length;d++)if(!Sn(s[d],o[d]))return!1;return!0}function kv(s,o,d,p,b,N){return yi=N,nt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,L.H=s===null||s.memoizedState===null?w2:qv,gl=!1,N=d(p,b),gl=!1,Ao&&(N=$N(o,d,p,b)),BN(s),N}function BN(s){L.H=pu;var o=Lt!==null&&Lt.next!==null;if(yi=0,Cr=Lt=nt=null,Of=!1,du=0,ko=null,o)throw Error(n(300));s===null||Ar||(s=s.dependencies,s!==null&&Nf(s)&&(Ar=!0))}function $N(s,o,d,p){nt=s;var b=0;do{if(Ao&&(ko=null),du=0,Ao=!1,25<=b)throw Error(n(301));if(b+=1,Cr=Lt=null,s.updateQueue!=null){var N=s.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}L.H=N2,N=o(d,p)}while(Ao);return N}function FR(){var s=L.H,o=s.useState()[0];return o=typeof o.then=="function"?fu(o):o,s=s.useState()[0],(Lt!==null?Lt.memoizedState:null)!==s&&(nt.flags|=1024),o}function Mv(){var s=Tf!==0;return Tf=0,s}function Dv(s,o,d){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~d}function Ev(s){if(Of){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Of=!1}yi=0,Cr=Lt=nt=null,Ao=!1,du=Tf=0,ko=null}function tn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cr===null?nt.memoizedState=Cr=s:Cr=Cr.next=s,Cr}function br(){if(Lt===null){var s=nt.alternate;s=s!==null?s.memoizedState:null}else s=Lt.next;var o=Cr===null?nt.memoizedState:Cr.next;if(o!==null)Cr=o,Lt=s;else{if(s===null)throw nt.alternate===null?Error(n(467)):Error(n(310));Lt=s,s={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Cr===null?nt.memoizedState=Cr=s:Cr=Cr.next=s}return Cr}function Pf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fu(s){var o=du;return du+=1,ko===null&&(ko=[]),s=_N(ko,s,o),o=nt,(Cr===null?o.memoizedState:Cr.next)===null&&(o=o.alternate,L.H=o===null||o.memoizedState===null?w2:qv),s}function If(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return fu(s);if(s.$$typeof===A)return Hr(s)}throw Error(n(438,String(s)))}function _v(s){var o=null,d=nt.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var p=nt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(b){return b.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=Pf(),nt.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(s),p=0;p<s;p++)d[p]=F;return o.index++,d}function ji(s,o){return typeof o=="function"?o(s):o}function Rf(s){var o=br();return Ov(o,Lt,s)}function Ov(s,o,d){var p=s.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=d;var b=s.baseQueue,N=p.pending;if(N!==null){if(b!==null){var _=b.next;b.next=N.next,N.next=_}o.baseQueue=b=N,p.pending=null}if(N=s.baseState,b===null)s.memoizedState=N;else{o=b.next;var R=_=null,Y=null,se=o,ve=!1;do{var je=se.lane&-536870913;if(je!==se.lane?(ht&je)===je:(yi&je)===je){var ce=se.revertLane;if(ce===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),je===jo&&(ve=!0);else if((yi&ce)===ce){se=se.next,ce===jo&&(ve=!0);continue}else je={lane:0,revertLane:se.revertLane,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},Y===null?(R=Y=je,_=N):Y=Y.next=je,nt.lanes|=ce,ys|=ce;je=se.action,gl&&d(N,je),N=se.hasEagerState?se.eagerState:d(N,je)}else ce={lane:je,revertLane:se.revertLane,gesture:se.gesture,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},Y===null?(R=Y=ce,_=N):Y=Y.next=ce,nt.lanes|=je,ys|=je;se=se.next}while(se!==null&&se!==o);if(Y===null?_=N:Y.next=R,!Sn(N,s.memoizedState)&&(Ar=!0,ve&&(d=wo,d!==null)))throw d;s.memoizedState=N,s.baseState=_,s.baseQueue=Y,p.lastRenderedState=N}return b===null&&(p.lanes=0),[s.memoizedState,p.dispatch]}function Tv(s){var o=br(),d=o.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var p=d.dispatch,b=d.pending,N=o.memoizedState;if(b!==null){d.pending=null;var _=b=b.next;do N=s(N,_.action),_=_.next;while(_!==b);Sn(N,o.memoizedState)||(Ar=!0),o.memoizedState=N,o.baseQueue===null&&(o.baseState=N),d.lastRenderedState=N}return[N,p]}function qN(s,o,d){var p=nt,b=br(),N=bt;if(N){if(d===void 0)throw Error(n(407));d=d()}else d=o();var _=!Sn((Lt||b).memoizedState,d);if(_&&(b.memoizedState=d,Ar=!0),b=b.queue,Rv(YN.bind(null,p,b,s),[s]),b.getSnapshot!==o||_||Cr!==null&&Cr.memoizedState.tag&1){if(p.flags|=2048,Mo(9,{destroy:void 0},UN.bind(null,p,b,d,o),null),qt===null)throw Error(n(349));N||(yi&127)!==0||HN(p,o,d)}return d}function HN(s,o,d){s.flags|=16384,s={getSnapshot:o,value:d},o=nt.updateQueue,o===null?(o=Pf(),nt.updateQueue=o,o.stores=[s]):(d=o.stores,d===null?o.stores=[s]:d.push(s))}function UN(s,o,d,p){o.value=d,o.getSnapshot=p,VN(o)&&GN(s)}function YN(s,o,d){return d(function(){VN(o)&&GN(s)})}function VN(s){var o=s.getSnapshot;s=s.value;try{var d=o();return!Sn(s,d)}catch{return!0}}function GN(s){var o=cl(s,2);o!==null&&pn(o,s,2)}function Pv(s){var o=tn();if(typeof s=="function"){var d=s;if(s=d(),gl){Fe(!0);try{d()}finally{Fe(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:s},o}function WN(s,o,d,p){return s.baseState=d,Ov(s,Lt,typeof p=="function"?p:ji)}function zR(s,o,d,p,b){if(zf(s))throw Error(n(485));if(s=o.action,s!==null){var N={payload:b,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){N.listeners.push(_)}};L.T!==null?d(!0):N.isTransition=!1,p(N),d=o.pending,d===null?(N.next=o.pending=N,KN(o,N)):(N.next=d.next,o.pending=d.next=N)}}function KN(s,o){var d=o.action,p=o.payload,b=s.state;if(o.isTransition){var N=L.T,_={};L.T=_;try{var R=d(b,p),Y=L.S;Y!==null&&Y(_,R),QN(s,o,R)}catch(se){Iv(s,o,se)}finally{N!==null&&_.types!==null&&(N.types=_.types),L.T=N}}else try{N=d(b,p),QN(s,o,N)}catch(se){Iv(s,o,se)}}function QN(s,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){XN(s,o,p)},function(p){return Iv(s,o,p)}):XN(s,o,d)}function XN(s,o,d){o.status="fulfilled",o.value=d,ZN(o),s.state=d,o=s.pending,o!==null&&(d=o.next,d===o?s.pending=null:(d=d.next,o.next=d,KN(s,d)))}function Iv(s,o,d){var p=s.pending;if(s.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=d,ZN(o),o=o.next;while(o!==p)}s.action=null}function ZN(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function JN(s,o){return o}function e2(s,o){if(bt){var d=qt.formState;if(d!==null){e:{var p=nt;if(bt){if(Gt){t:{for(var b=Gt,N=Kn;b.nodeType!==8;){if(!N){b=null;break t}if(b=Xn(b.nextSibling),b===null){b=null;break t}}N=b.data,b=N==="F!"||N==="F"?b:null}if(b){Gt=Xn(b.nextSibling),p=b.data==="F!";break e}}ds(p)}p=!1}p&&(o=d[0])}}return d=tn(),d.memoizedState=d.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:JN,lastRenderedState:o},d.queue=p,d=b2.bind(null,nt,p),p.dispatch=d,p=Pv(!1),N=$v.bind(null,nt,!1,p.queue),p=tn(),b={state:o,dispatch:null,action:s,pending:null},p.queue=b,d=zR.bind(null,nt,b,N,d),b.dispatch=d,p.memoizedState=s,[o,d,!1]}function t2(s){var o=br();return r2(o,Lt,s)}function r2(s,o,d){if(o=Ov(s,o,JN)[0],s=Rf(ji)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=fu(o)}catch(_){throw _===No?Af:_}else p=o;o=br();var b=o.queue,N=b.dispatch;return d!==o.memoizedState&&(nt.flags|=2048,Mo(9,{destroy:void 0},BR.bind(null,b,d),null)),[p,N,s]}function BR(s,o){s.action=o}function n2(s){var o=br(),d=Lt;if(d!==null)return r2(o,d,s);br(),o=o.memoizedState,d=br();var p=d.queue.dispatch;return d.memoizedState=s,[o,p,!1]}function Mo(s,o,d,p){return s={tag:s,create:d,deps:p,inst:o,next:null},o=nt.updateQueue,o===null&&(o=Pf(),nt.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=s.next=s:(p=d.next,d.next=s,s.next=p,o.lastEffect=s),s}function a2(){return br().memoizedState}function Lf(s,o,d,p){var b=tn();nt.flags|=s,b.memoizedState=Mo(1|o,{destroy:void 0},d,p===void 0?null:p)}function Ff(s,o,d,p){var b=br();p=p===void 0?null:p;var N=b.memoizedState.inst;Lt!==null&&p!==null&&Av(p,Lt.memoizedState.deps)?b.memoizedState=Mo(o,N,d,p):(nt.flags|=s,b.memoizedState=Mo(1|o,N,d,p))}function i2(s,o){Lf(8390656,8,s,o)}function Rv(s,o){Ff(2048,8,s,o)}function $R(s){nt.flags|=4;var o=nt.updateQueue;if(o===null)o=Pf(),nt.updateQueue=o,o.events=[s];else{var d=o.events;d===null?o.events=[s]:d.push(s)}}function s2(s){var o=br().memoizedState;return $R({ref:o,nextImpl:s}),function(){if((kt&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function l2(s,o){return Ff(4,2,s,o)}function o2(s,o){return Ff(4,4,s,o)}function c2(s,o){if(typeof o=="function"){s=s();var d=o(s);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function u2(s,o,d){d=d!=null?d.concat([s]):null,Ff(4,4,c2.bind(null,o,s),d)}function Lv(){}function d2(s,o){var d=br();o=o===void 0?null:o;var p=d.memoizedState;return o!==null&&Av(o,p[1])?p[0]:(d.memoizedState=[s,o],s)}function f2(s,o){var d=br();o=o===void 0?null:o;var p=d.memoizedState;if(o!==null&&Av(o,p[1]))return p[0];if(p=s(),gl){Fe(!0);try{s()}finally{Fe(!1)}}return d.memoizedState=[p,o],p}function Fv(s,o,d){return d===void 0||(yi&1073741824)!==0&&(ht&261930)===0?s.memoizedState=o:(s.memoizedState=d,s=mS(),nt.lanes|=s,ys|=s,d)}function m2(s,o,d,p){return Sn(d,o)?d:Co.current!==null?(s=Fv(s,d,p),Sn(s,o)||(Ar=!0),s):(yi&42)===0||(yi&1073741824)!==0&&(ht&261930)===0?(Ar=!0,s.memoizedState=d):(s=mS(),nt.lanes|=s,ys|=s,o)}function p2(s,o,d,p,b){var N=U.p;U.p=N!==0&&8>N?N:8;var _=L.T,R={};L.T=R,$v(s,!1,o,d);try{var Y=b(),se=L.S;if(se!==null&&se(R,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var ve=RR(Y,p);mu(s,o,ve,En(s))}else mu(s,o,p,En(s))}catch(je){mu(s,o,{then:function(){},status:"rejected",reason:je},En())}finally{U.p=N,_!==null&&R.types!==null&&(_.types=R.types),L.T=_}}function qR(){}function zv(s,o,d,p){if(s.tag!==5)throw Error(n(476));var b=h2(s).queue;p2(s,b,o,V,d===null?qR:function(){return x2(s),d(p)})}function h2(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:V},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:d},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function x2(s){var o=h2(s);o.next===null&&(o=s.alternate.memoizedState),mu(s,o.next.queue,{},En())}function Bv(){return Hr(Eu)}function v2(){return br().memoizedState}function g2(){return br().memoizedState}function HR(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var d=En();s=ps(d);var p=hs(o,s,d);p!==null&&(pn(p,o,d),ou(p,o,d)),o={cache:hv()},s.payload=o;return}o=o.return}}function UR(s,o,d){var p=En();d={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},zf(s)?y2(o,d):(d=av(s,o,d,p),d!==null&&(pn(d,s,p),j2(d,o,p)))}function b2(s,o,d){var p=En();mu(s,o,d,p)}function mu(s,o,d,p){var b={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(zf(s))y2(o,b);else{var N=s.alternate;if(s.lanes===0&&(N===null||N.lanes===0)&&(N=o.lastRenderedReducer,N!==null))try{var _=o.lastRenderedState,R=N(_,d);if(b.hasEagerState=!0,b.eagerState=R,Sn(R,_))return bf(s,o,b,0),qt===null&&gf(),!1}catch{}if(d=av(s,o,b,p),d!==null)return pn(d,s,p),j2(d,o,p),!0}return!1}function $v(s,o,d,p){if(p={lane:2,revertLane:bg(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},zf(s)){if(o)throw Error(n(479))}else o=av(s,d,p,2),o!==null&&pn(o,s,2)}function zf(s){var o=s.alternate;return s===nt||o!==null&&o===nt}function y2(s,o){Ao=Of=!0;var d=s.pending;d===null?o.next=o:(o.next=d.next,d.next=o),s.pending=o}function j2(s,o,d){if((d&4194048)!==0){var p=o.lanes;p&=s.pendingLanes,d|=p,o.lanes=d,rf(s,d)}}var pu={readContext:Hr,use:If,useCallback:cr,useContext:cr,useEffect:cr,useImperativeHandle:cr,useLayoutEffect:cr,useInsertionEffect:cr,useMemo:cr,useReducer:cr,useRef:cr,useState:cr,useDebugValue:cr,useDeferredValue:cr,useTransition:cr,useSyncExternalStore:cr,useId:cr,useHostTransitionStatus:cr,useFormState:cr,useActionState:cr,useOptimistic:cr,useMemoCache:cr,useCacheRefresh:cr};pu.useEffectEvent=cr;var w2={readContext:Hr,use:If,useCallback:function(s,o){return tn().memoizedState=[s,o===void 0?null:o],s},useContext:Hr,useEffect:i2,useImperativeHandle:function(s,o,d){d=d!=null?d.concat([s]):null,Lf(4194308,4,c2.bind(null,o,s),d)},useLayoutEffect:function(s,o){return Lf(4194308,4,s,o)},useInsertionEffect:function(s,o){Lf(4,2,s,o)},useMemo:function(s,o){var d=tn();o=o===void 0?null:o;var p=s();if(gl){Fe(!0);try{s()}finally{Fe(!1)}}return d.memoizedState=[p,o],p},useReducer:function(s,o,d){var p=tn();if(d!==void 0){var b=d(o);if(gl){Fe(!0);try{d(o)}finally{Fe(!1)}}}else b=o;return p.memoizedState=p.baseState=b,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:b},p.queue=s,s=s.dispatch=UR.bind(null,nt,s),[p.memoizedState,s]},useRef:function(s){var o=tn();return s={current:s},o.memoizedState=s},useState:function(s){s=Pv(s);var o=s.queue,d=b2.bind(null,nt,o);return o.dispatch=d,[s.memoizedState,d]},useDebugValue:Lv,useDeferredValue:function(s,o){var d=tn();return Fv(d,s,o)},useTransition:function(){var s=Pv(!1);return s=p2.bind(null,nt,s.queue,!0,!1),tn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,d){var p=nt,b=tn();if(bt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=o(),qt===null)throw Error(n(349));(ht&127)!==0||HN(p,o,d)}b.memoizedState=d;var N={value:d,getSnapshot:o};return b.queue=N,i2(YN.bind(null,p,N,s),[s]),p.flags|=2048,Mo(9,{destroy:void 0},UN.bind(null,p,N,d,o),null),d},useId:function(){var s=tn(),o=qt.identifierPrefix;if(bt){var d=La,p=Ra;d=(p&~(1<<32-et(p)-1)).toString(32)+d,o="_"+o+"R_"+d,d=Tf++,0<d&&(o+="H"+d.toString(32)),o+="_"}else d=LR++,o="_"+o+"r_"+d.toString(32)+"_";return s.memoizedState=o},useHostTransitionStatus:Bv,useFormState:e2,useActionState:e2,useOptimistic:function(s){var o=tn();o.memoizedState=o.baseState=s;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=$v.bind(null,nt,!0,d),d.dispatch=o,[s,o]},useMemoCache:_v,useCacheRefresh:function(){return tn().memoizedState=HR.bind(null,nt)},useEffectEvent:function(s){var o=tn(),d={impl:s};return o.memoizedState=d,function(){if((kt&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}},qv={readContext:Hr,use:If,useCallback:d2,useContext:Hr,useEffect:Rv,useImperativeHandle:u2,useInsertionEffect:l2,useLayoutEffect:o2,useMemo:f2,useReducer:Rf,useRef:a2,useState:function(){return Rf(ji)},useDebugValue:Lv,useDeferredValue:function(s,o){var d=br();return m2(d,Lt.memoizedState,s,o)},useTransition:function(){var s=Rf(ji)[0],o=br().memoizedState;return[typeof s=="boolean"?s:fu(s),o]},useSyncExternalStore:qN,useId:v2,useHostTransitionStatus:Bv,useFormState:t2,useActionState:t2,useOptimistic:function(s,o){var d=br();return WN(d,Lt,s,o)},useMemoCache:_v,useCacheRefresh:g2};qv.useEffectEvent=s2;var N2={readContext:Hr,use:If,useCallback:d2,useContext:Hr,useEffect:Rv,useImperativeHandle:u2,useInsertionEffect:l2,useLayoutEffect:o2,useMemo:f2,useReducer:Tv,useRef:a2,useState:function(){return Tv(ji)},useDebugValue:Lv,useDeferredValue:function(s,o){var d=br();return Lt===null?Fv(d,s,o):m2(d,Lt.memoizedState,s,o)},useTransition:function(){var s=Tv(ji)[0],o=br().memoizedState;return[typeof s=="boolean"?s:fu(s),o]},useSyncExternalStore:qN,useId:v2,useHostTransitionStatus:Bv,useFormState:n2,useActionState:n2,useOptimistic:function(s,o){var d=br();return Lt!==null?WN(d,Lt,s,o):(d.baseState=s,[s,d.queue.dispatch])},useMemoCache:_v,useCacheRefresh:g2};N2.useEffectEvent=s2;function Hv(s,o,d,p){o=s.memoizedState,d=d(p,o),d=d==null?o:x({},o,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var Uv={enqueueSetState:function(s,o,d){s=s._reactInternals;var p=En(),b=ps(p);b.payload=o,d!=null&&(b.callback=d),o=hs(s,b,p),o!==null&&(pn(o,s,p),ou(o,s,p))},enqueueReplaceState:function(s,o,d){s=s._reactInternals;var p=En(),b=ps(p);b.tag=1,b.payload=o,d!=null&&(b.callback=d),o=hs(s,b,p),o!==null&&(pn(o,s,p),ou(o,s,p))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var d=En(),p=ps(d);p.tag=2,o!=null&&(p.callback=o),o=hs(s,p,d),o!==null&&(pn(o,s,d),ou(o,s,d))}};function S2(s,o,d,p,b,N,_){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,N,_):o.prototype&&o.prototype.isPureReactComponent?!eu(d,p)||!eu(b,N):!0}function C2(s,o,d,p){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,p),o.state!==s&&Uv.enqueueReplaceState(o,o.state,null)}function bl(s,o){var d=o;if("ref"in o){d={};for(var p in o)p!=="ref"&&(d[p]=o[p])}if(s=s.defaultProps){d===o&&(d=x({},d));for(var b in s)d[b]===void 0&&(d[b]=s[b])}return d}function A2(s){vf(s)}function k2(s){console.error(s)}function M2(s){vf(s)}function Bf(s,o){try{var d=s.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function D2(s,o,d){try{var p=s.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Yv(s,o,d){return d=ps(d),d.tag=3,d.payload={element:null},d.callback=function(){Bf(s,o)},d}function E2(s){return s=ps(s),s.tag=3,s}function _2(s,o,d,p){var b=d.type.getDerivedStateFromError;if(typeof b=="function"){var N=p.value;s.payload=function(){return b(N)},s.callback=function(){D2(o,d,p)}}var _=d.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(s.callback=function(){D2(o,d,p),typeof b!="function"&&(js===null?js=new Set([this]):js.add(this));var R=p.stack;this.componentDidCatch(p.value,{componentStack:R!==null?R:""})})}function YR(s,o,d,p,b){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=d.alternate,o!==null&&yo(o,d,b,!0),d=An.current,d!==null){switch(d.tag){case 31:case 13:return Qn===null?Zf():d.alternate===null&&ur===0&&(ur=3),d.flags&=-257,d.flags|=65536,d.lanes=b,p===kf?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([p]):o.add(p),xg(s,p,b)),!1;case 22:return d.flags|=65536,p===kf?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([p]):d.add(p)),xg(s,p,b)),!1}throw Error(n(435,d.tag))}return xg(s,p,b),Zf(),!1}if(bt)return o=An.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=b,p!==uv&&(s=Error(n(422),{cause:p}),nu(Vn(s,d)))):(p!==uv&&(o=Error(n(423),{cause:p}),nu(Vn(o,d))),s=s.current.alternate,s.flags|=65536,b&=-b,s.lanes|=b,p=Vn(p,d),b=Yv(s.stateNode,p,b),jv(s,b),ur!==4&&(ur=2)),!1;var N=Error(n(520),{cause:p});if(N=Vn(N,d),wu===null?wu=[N]:wu.push(N),ur!==4&&(ur=2),o===null)return!0;p=Vn(p,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,s=b&-b,d.lanes|=s,s=Yv(d.stateNode,p,s),jv(d,s),!1;case 1:if(o=d.type,N=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(js===null||!js.has(N))))return d.flags|=65536,b&=-b,d.lanes|=b,b=E2(b),_2(b,s,d,p),jv(d,b),!1}d=d.return}while(d!==null);return!1}var Vv=Error(n(461)),Ar=!1;function Ur(s,o,d,p){o.child=s===null?IN(o,null,d,p):vl(o,s.child,d,p)}function O2(s,o,d,p,b){d=d.render;var N=o.ref;if("ref"in p){var _={};for(var R in p)R!=="ref"&&(_[R]=p[R])}else _=p;return ml(o),p=kv(s,o,d,_,N,b),R=Mv(),s!==null&&!Ar?(Dv(s,o,b),wi(s,o,b)):(bt&&R&&ov(o),o.flags|=1,Ur(s,o,p,b),o.child)}function T2(s,o,d,p,b){if(s===null){var N=d.type;return typeof N=="function"&&!iv(N)&&N.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=N,P2(s,o,N,p,b)):(s=jf(d.type,null,p,o,o.mode,b),s.ref=o.ref,s.return=o,o.child=s)}if(N=s.child,!eg(s,b)){var _=N.memoizedProps;if(d=d.compare,d=d!==null?d:eu,d(_,p)&&s.ref===o.ref)return wi(s,o,b)}return o.flags|=1,s=xi(N,p),s.ref=o.ref,s.return=o,o.child=s}function P2(s,o,d,p,b){if(s!==null){var N=s.memoizedProps;if(eu(N,p)&&s.ref===o.ref)if(Ar=!1,o.pendingProps=p=N,eg(s,b))(s.flags&131072)!==0&&(Ar=!0);else return o.lanes=s.lanes,wi(s,o,b)}return Gv(s,o,d,p,b)}function I2(s,o,d,p){var b=p.children,N=s!==null?s.memoizedState:null;if(s===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((o.flags&128)!==0){if(N=N!==null?N.baseLanes|d:d,s!==null){for(p=o.child=s.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;p=b&~N}else p=0,o.child=null;return R2(s,o,N,d,p)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&Cf(o,N!==null?N.cachePool:null),N!==null?FN(o,N):Nv(),zN(o);else return p=o.lanes=536870912,R2(s,o,N!==null?N.baseLanes|d:d,d,p)}else N!==null?(Cf(o,N.cachePool),FN(o,N),vs(),o.memoizedState=null):(s!==null&&Cf(o,null),Nv(),vs());return Ur(s,o,b,d),o.child}function hu(s,o){return s!==null&&s.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function R2(s,o,d,p,b){var N=vv();return N=N===null?null:{parent:Sr._currentValue,pool:N},o.memoizedState={baseLanes:d,cachePool:N},s!==null&&Cf(o,null),Nv(),zN(o),s!==null&&yo(s,o,p,!0),o.childLanes=b,null}function $f(s,o){return o=Hf({mode:o.mode,children:o.children},s.mode),o.ref=s.ref,s.child=o,o.return=s,o}function L2(s,o,d){return vl(o,s.child,null,d),s=$f(o,o.pendingProps),s.flags|=2,kn(o),o.memoizedState=null,s}function VR(s,o,d){var p=o.pendingProps,b=(o.flags&128)!==0;if(o.flags&=-129,s===null){if(bt){if(p.mode==="hidden")return s=$f(o,p),o.lanes=536870912,hu(null,s);if(Cv(o),(s=Gt)?(s=KS(s,Kn),s=s!==null&&s.data==="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:cs!==null?{id:Ra,overflow:La}:null,retryLane:536870912,hydrationErrors:null},d=yN(s),d.return=o,o.child=d,qr=o,Gt=null)):s=null,s===null)throw ds(o);return o.lanes=536870912,null}return $f(o,p)}var N=s.memoizedState;if(N!==null){var _=N.dehydrated;if(Cv(o),b)if(o.flags&256)o.flags&=-257,o=L2(s,o,d);else if(o.memoizedState!==null)o.child=s.child,o.flags|=128,o=null;else throw Error(n(558));else if(Ar||yo(s,o,d,!1),b=(d&s.childLanes)!==0,Ar||b){if(p=qt,p!==null&&(_=nf(p,d),_!==0&&_!==N.retryLane))throw N.retryLane=_,cl(s,_),pn(p,s,_),Vv;Zf(),o=L2(s,o,d)}else s=N.treeContext,Gt=Xn(_.nextSibling),qr=o,bt=!0,us=null,Kn=!1,s!==null&&NN(o,s),o=$f(o,p),o.flags|=4096;return o}return s=xi(s.child,{mode:p.mode,children:p.children}),s.ref=o.ref,o.child=s,s.return=o,s}function qf(s,o){var d=o.ref;if(d===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(s===null||s.ref!==d)&&(o.flags|=4194816)}}function Gv(s,o,d,p,b){return ml(o),d=kv(s,o,d,p,void 0,b),p=Mv(),s!==null&&!Ar?(Dv(s,o,b),wi(s,o,b)):(bt&&p&&ov(o),o.flags|=1,Ur(s,o,d,b),o.child)}function F2(s,o,d,p,b,N){return ml(o),o.updateQueue=null,d=$N(o,p,d,b),BN(s),p=Mv(),s!==null&&!Ar?(Dv(s,o,N),wi(s,o,N)):(bt&&p&&ov(o),o.flags|=1,Ur(s,o,d,N),o.child)}function z2(s,o,d,p,b){if(ml(o),o.stateNode===null){var N=xo,_=d.contextType;typeof _=="object"&&_!==null&&(N=Hr(_)),N=new d(p,N),o.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Uv,o.stateNode=N,N._reactInternals=o,N=o.stateNode,N.props=p,N.state=o.memoizedState,N.refs={},bv(o),_=d.contextType,N.context=typeof _=="object"&&_!==null?Hr(_):xo,N.state=o.memoizedState,_=d.getDerivedStateFromProps,typeof _=="function"&&(Hv(o,d,_,p),N.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(_=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),_!==N.state&&Uv.enqueueReplaceState(N,N.state,null),uu(o,p,N,b),cu(),N.state=o.memoizedState),typeof N.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(s===null){N=o.stateNode;var R=o.memoizedProps,Y=bl(d,R);N.props=Y;var se=N.context,ve=d.contextType;_=xo,typeof ve=="object"&&ve!==null&&(_=Hr(ve));var je=d.getDerivedStateFromProps;ve=typeof je=="function"||typeof N.getSnapshotBeforeUpdate=="function",R=o.pendingProps!==R,ve||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(R||se!==_)&&C2(o,N,p,_),ms=!1;var ce=o.memoizedState;N.state=ce,uu(o,p,N,b),cu(),se=o.memoizedState,R||ce!==se||ms?(typeof je=="function"&&(Hv(o,d,je,p),se=o.memoizedState),(Y=ms||S2(o,d,Y,p,ce,se,_))?(ve||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(o.flags|=4194308)):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=se),N.props=p,N.state=se,N.context=_,p=Y):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{N=o.stateNode,yv(s,o),_=o.memoizedProps,ve=bl(d,_),N.props=ve,je=o.pendingProps,ce=N.context,se=d.contextType,Y=xo,typeof se=="object"&&se!==null&&(Y=Hr(se)),R=d.getDerivedStateFromProps,(se=typeof R=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(_!==je||ce!==Y)&&C2(o,N,p,Y),ms=!1,ce=o.memoizedState,N.state=ce,uu(o,p,N,b),cu();var fe=o.memoizedState;_!==je||ce!==fe||ms||s!==null&&s.dependencies!==null&&Nf(s.dependencies)?(typeof R=="function"&&(Hv(o,d,R,p),fe=o.memoizedState),(ve=ms||S2(o,d,ve,p,ce,fe,Y)||s!==null&&s.dependencies!==null&&Nf(s.dependencies))?(se||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(p,fe,Y),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(p,fe,Y)),typeof N.componentDidUpdate=="function"&&(o.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof N.componentDidUpdate!="function"||_===s.memoizedProps&&ce===s.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&ce===s.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=fe),N.props=p,N.state=fe,N.context=Y,p=ve):(typeof N.componentDidUpdate!="function"||_===s.memoizedProps&&ce===s.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&ce===s.memoizedState||(o.flags|=1024),p=!1)}return N=p,qf(s,o),p=(o.flags&128)!==0,N||p?(N=o.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:N.render(),o.flags|=1,s!==null&&p?(o.child=vl(o,s.child,null,b),o.child=vl(o,null,d,b)):Ur(s,o,d,b),o.memoizedState=N.state,s=o.child):s=wi(s,o,b),s}function B2(s,o,d,p){return dl(),o.flags|=256,Ur(s,o,d,p),o.child}var Wv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kv(s){return{baseLanes:s,cachePool:DN()}}function Qv(s,o,d){return s=s!==null?s.childLanes&~d:0,o&&(s|=Dn),s}function $2(s,o,d){var p=o.pendingProps,b=!1,N=(o.flags&128)!==0,_;if((_=N)||(_=s!==null&&s.memoizedState===null?!1:(gr.current&2)!==0),_&&(b=!0,o.flags&=-129),_=(o.flags&32)!==0,o.flags&=-33,s===null){if(bt){if(b?xs(o):vs(),(s=Gt)?(s=KS(s,Kn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:cs!==null?{id:Ra,overflow:La}:null,retryLane:536870912,hydrationErrors:null},d=yN(s),d.return=o,o.child=d,qr=o,Gt=null)):s=null,s===null)throw ds(o);return Og(s)?o.lanes=32:o.lanes=536870912,null}var R=p.children;return p=p.fallback,b?(vs(),b=o.mode,R=Hf({mode:"hidden",children:R},b),p=ul(p,b,d,null),R.return=o,p.return=o,R.sibling=p,o.child=R,p=o.child,p.memoizedState=Kv(d),p.childLanes=Qv(s,_,d),o.memoizedState=Wv,hu(null,p)):(xs(o),Xv(o,R))}var Y=s.memoizedState;if(Y!==null&&(R=Y.dehydrated,R!==null)){if(N)o.flags&256?(xs(o),o.flags&=-257,o=Zv(s,o,d)):o.memoizedState!==null?(vs(),o.child=s.child,o.flags|=128,o=null):(vs(),R=p.fallback,b=o.mode,p=Hf({mode:"visible",children:p.children},b),R=ul(R,b,d,null),R.flags|=2,p.return=o,R.return=o,p.sibling=R,o.child=p,vl(o,s.child,null,d),p=o.child,p.memoizedState=Kv(d),p.childLanes=Qv(s,_,d),o.memoizedState=Wv,o=hu(null,p));else if(xs(o),Og(R)){if(_=R.nextSibling&&R.nextSibling.dataset,_)var se=_.dgst;_=se,p=Error(n(419)),p.stack="",p.digest=_,nu({value:p,source:null,stack:null}),o=Zv(s,o,d)}else if(Ar||yo(s,o,d,!1),_=(d&s.childLanes)!==0,Ar||_){if(_=qt,_!==null&&(p=nf(_,d),p!==0&&p!==Y.retryLane))throw Y.retryLane=p,cl(s,p),pn(_,s,p),Vv;_g(R)||Zf(),o=Zv(s,o,d)}else _g(R)?(o.flags|=192,o.child=s.child,o=null):(s=Y.treeContext,Gt=Xn(R.nextSibling),qr=o,bt=!0,us=null,Kn=!1,s!==null&&NN(o,s),o=Xv(o,p.children),o.flags|=4096);return o}return b?(vs(),R=p.fallback,b=o.mode,Y=s.child,se=Y.sibling,p=xi(Y,{mode:"hidden",children:p.children}),p.subtreeFlags=Y.subtreeFlags&65011712,se!==null?R=xi(se,R):(R=ul(R,b,d,null),R.flags|=2),R.return=o,p.return=o,p.sibling=R,o.child=p,hu(null,p),p=o.child,R=s.child.memoizedState,R===null?R=Kv(d):(b=R.cachePool,b!==null?(Y=Sr._currentValue,b=b.parent!==Y?{parent:Y,pool:Y}:b):b=DN(),R={baseLanes:R.baseLanes|d,cachePool:b}),p.memoizedState=R,p.childLanes=Qv(s,_,d),o.memoizedState=Wv,hu(s.child,p)):(xs(o),d=s.child,s=d.sibling,d=xi(d,{mode:"visible",children:p.children}),d.return=o,d.sibling=null,s!==null&&(_=o.deletions,_===null?(o.deletions=[s],o.flags|=16):_.push(s)),o.child=d,o.memoizedState=null,d)}function Xv(s,o){return o=Hf({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function Hf(s,o){return s=Cn(22,s,null,o),s.lanes=0,s}function Zv(s,o,d){return vl(o,s.child,null,d),s=Xv(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function q2(s,o,d){s.lanes|=o;var p=s.alternate;p!==null&&(p.lanes|=o),mv(s.return,o,d)}function Jv(s,o,d,p,b,N){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:b,treeForkCount:N}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=p,_.tail=d,_.tailMode=b,_.treeForkCount=N)}function H2(s,o,d){var p=o.pendingProps,b=p.revealOrder,N=p.tail;p=p.children;var _=gr.current,R=(_&2)!==0;if(R?(_=_&1|2,o.flags|=128):_&=1,ne(gr,_),Ur(s,o,p,d),p=bt?ru:0,!R&&s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&q2(s,d,o);else if(s.tag===19)q2(s,d,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(b){case"forwards":for(d=o.child,b=null;d!==null;)s=d.alternate,s!==null&&_f(s)===null&&(b=d),d=d.sibling;d=b,d===null?(b=o.child,o.child=null):(b=d.sibling,d.sibling=null),Jv(o,!1,b,d,N,p);break;case"backwards":case"unstable_legacy-backwards":for(d=null,b=o.child,o.child=null;b!==null;){if(s=b.alternate,s!==null&&_f(s)===null){o.child=b;break}s=b.sibling,b.sibling=d,d=b,b=s}Jv(o,!0,d,null,N,p);break;case"together":Jv(o,!1,null,null,void 0,p);break;default:o.memoizedState=null}return o.child}function wi(s,o,d){if(s!==null&&(o.dependencies=s.dependencies),ys|=o.lanes,(d&o.childLanes)===0)if(s!==null){if(yo(s,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,d=xi(s,s.pendingProps),o.child=d,d.return=o;s.sibling!==null;)s=s.sibling,d=d.sibling=xi(s,s.pendingProps),d.return=o;d.sibling=null}return o.child}function eg(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&Nf(s)))}function GR(s,o,d){switch(o.tag){case 3:he(o,o.stateNode.containerInfo),fs(o,Sr,s.memoizedState.cache),dl();break;case 27:case 5:ke(o);break;case 4:he(o,o.stateNode.containerInfo);break;case 10:fs(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Cv(o),null;break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(xs(o),o.flags|=128,null):(d&o.child.childLanes)!==0?$2(s,o,d):(xs(o),s=wi(s,o,d),s!==null?s.sibling:null);xs(o);break;case 19:var b=(s.flags&128)!==0;if(p=(d&o.childLanes)!==0,p||(yo(s,o,d,!1),p=(d&o.childLanes)!==0),b){if(p)return H2(s,o,d);o.flags|=128}if(b=o.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),ne(gr,gr.current),p)break;return null;case 22:return o.lanes=0,I2(s,o,d,o.pendingProps);case 24:fs(o,Sr,s.memoizedState.cache)}return wi(s,o,d)}function U2(s,o,d){if(s!==null)if(s.memoizedProps!==o.pendingProps)Ar=!0;else{if(!eg(s,d)&&(o.flags&128)===0)return Ar=!1,GR(s,o,d);Ar=(s.flags&131072)!==0}else Ar=!1,bt&&(o.flags&1048576)!==0&&wN(o,ru,o.index);switch(o.lanes=0,o.tag){case 16:e:{var p=o.pendingProps;if(s=hl(o.elementType),o.type=s,typeof s=="function")iv(s)?(p=bl(s,p),o.tag=1,o=z2(null,o,s,p,d)):(o.tag=0,o=Gv(null,o,s,p,d));else{if(s!=null){var b=s.$$typeof;if(b===M){o.tag=11,o=O2(null,o,s,p,d);break e}else if(b===I){o.tag=14,o=T2(null,o,s,p,d);break e}}throw o=X(s)||s,Error(n(306,o,""))}}return o;case 0:return Gv(s,o,o.type,o.pendingProps,d);case 1:return p=o.type,b=bl(p,o.pendingProps),z2(s,o,p,b,d);case 3:e:{if(he(o,o.stateNode.containerInfo),s===null)throw Error(n(387));p=o.pendingProps;var N=o.memoizedState;b=N.element,yv(s,o),uu(o,p,null,d);var _=o.memoizedState;if(p=_.cache,fs(o,Sr,p),p!==N.cache&&pv(o,[Sr],d,!0),cu(),p=_.element,N.isDehydrated)if(N={element:p,isDehydrated:!1,cache:_.cache},o.updateQueue.baseState=N,o.memoizedState=N,o.flags&256){o=B2(s,o,p,d);break e}else if(p!==b){b=Vn(Error(n(424)),o),nu(b),o=B2(s,o,p,d);break e}else for(s=o.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,Gt=Xn(s.firstChild),qr=o,bt=!0,us=null,Kn=!0,d=IN(o,null,p,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(dl(),p===b){o=wi(s,o,d);break e}Ur(s,o,p,d)}o=o.child}return o;case 26:return qf(s,o),s===null?(d=tC(o.type,null,o.pendingProps,null))?o.memoizedState=d:bt||(d=o.type,s=o.pendingProps,p=im(oe.current).createElement(d),p[Er]=o,p[Qr]=s,Yr(p,d,s),wr(p),o.stateNode=p):o.memoizedState=tC(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return ke(o),s===null&&bt&&(p=o.stateNode=ZS(o.type,o.pendingProps,oe.current),qr=o,Kn=!0,b=Gt,Cs(o.type)?(Tg=b,Gt=Xn(p.firstChild)):Gt=b),Ur(s,o,o.pendingProps.children,d),qf(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&bt&&((b=p=Gt)&&(p=NL(p,o.type,o.pendingProps,Kn),p!==null?(o.stateNode=p,qr=o,Gt=Xn(p.firstChild),Kn=!1,b=!0):b=!1),b||ds(o)),ke(o),b=o.type,N=o.pendingProps,_=s!==null?s.memoizedProps:null,p=N.children,Mg(b,N)?p=null:_!==null&&Mg(b,_)&&(o.flags|=32),o.memoizedState!==null&&(b=kv(s,o,FR,null,null,d),Eu._currentValue=b),qf(s,o),Ur(s,o,p,d),o.child;case 6:return s===null&&bt&&((s=d=Gt)&&(d=SL(d,o.pendingProps,Kn),d!==null?(o.stateNode=d,qr=o,Gt=null,s=!0):s=!1),s||ds(o)),null;case 13:return $2(s,o,d);case 4:return he(o,o.stateNode.containerInfo),p=o.pendingProps,s===null?o.child=vl(o,null,p,d):Ur(s,o,p,d),o.child;case 11:return O2(s,o,o.type,o.pendingProps,d);case 7:return Ur(s,o,o.pendingProps,d),o.child;case 8:return Ur(s,o,o.pendingProps.children,d),o.child;case 12:return Ur(s,o,o.pendingProps.children,d),o.child;case 10:return p=o.pendingProps,fs(o,o.type,p.value),Ur(s,o,p.children,d),o.child;case 9:return b=o.type._context,p=o.pendingProps.children,ml(o),b=Hr(b),p=p(b),o.flags|=1,Ur(s,o,p,d),o.child;case 14:return T2(s,o,o.type,o.pendingProps,d);case 15:return P2(s,o,o.type,o.pendingProps,d);case 19:return H2(s,o,d);case 31:return VR(s,o,d);case 22:return I2(s,o,d,o.pendingProps);case 24:return ml(o),p=Hr(Sr),s===null?(b=vv(),b===null&&(b=qt,N=hv(),b.pooledCache=N,N.refCount++,N!==null&&(b.pooledCacheLanes|=d),b=N),o.memoizedState={parent:p,cache:b},bv(o),fs(o,Sr,b)):((s.lanes&d)!==0&&(yv(s,o),uu(o,null,null,d),cu()),b=s.memoizedState,N=o.memoizedState,b.parent!==p?(b={parent:p,cache:p},o.memoizedState=b,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=b),fs(o,Sr,p)):(p=N.cache,fs(o,Sr,p),p!==b.cache&&pv(o,[Sr],d,!0))),Ur(s,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function Ni(s){s.flags|=4}function tg(s,o,d,p,b){if((o=(s.mode&32)!==0)&&(o=!1),o){if(s.flags|=16777216,(b&335544128)===b)if(s.stateNode.complete)s.flags|=8192;else if(vS())s.flags|=8192;else throw xl=kf,gv}else s.flags&=-16777217}function Y2(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!sC(o))if(vS())s.flags|=8192;else throw xl=kf,gv}function Uf(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?Vt():536870912,s.lanes|=o,Oo|=o)}function xu(s,o){if(!bt)switch(s.tailMode){case"hidden":o=s.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function Wt(s){var o=s.alternate!==null&&s.alternate.child===s.child,d=0,p=0;if(o)for(var b=s.child;b!==null;)d|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=s,b=b.sibling;else for(b=s.child;b!==null;)d|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=s,b=b.sibling;return s.subtreeFlags|=p,s.childLanes=d,o}function WR(s,o,d){var p=o.pendingProps;switch(cv(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(o),null;case 1:return Wt(o),null;case 3:return d=o.stateNode,p=null,s!==null&&(p=s.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),bi(Sr),ee(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(bo(o)?Ni(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,dv())),Wt(o),null;case 26:var b=o.type,N=o.memoizedState;return s===null?(Ni(o),N!==null?(Wt(o),Y2(o,N)):(Wt(o),tg(o,b,null,p,d))):N?N!==s.memoizedState?(Ni(o),Wt(o),Y2(o,N)):(Wt(o),o.flags&=-16777217):(s=s.memoizedProps,s!==p&&Ni(o),Wt(o),tg(o,b,s,p,d)),null;case 27:if(He(o),d=oe.current,b=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==p&&Ni(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return Wt(o),null}s=de.current,bo(o)?SN(o):(s=ZS(b,p,d),o.stateNode=s,Ni(o))}return Wt(o),null;case 5:if(He(o),b=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==p&&Ni(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return Wt(o),null}if(N=de.current,bo(o))SN(o);else{var _=im(oe.current);switch(N){case 1:N=_.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:N=_.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":N=_.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":N=_.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":N=_.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof p.is=="string"?_.createElement("select",{is:p.is}):_.createElement("select"),p.multiple?N.multiple=!0:p.size&&(N.size=p.size);break;default:N=typeof p.is=="string"?_.createElement(b,{is:p.is}):_.createElement(b)}}N[Er]=o,N[Qr]=p;e:for(_=o.child;_!==null;){if(_.tag===5||_.tag===6)N.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===o)break e;for(;_.sibling===null;){if(_.return===null||_.return===o)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}o.stateNode=N;e:switch(Yr(N,b,p),b){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Ni(o)}}return Wt(o),tg(o,o.type,s===null?null:s.memoizedProps,o.pendingProps,d),null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==p&&Ni(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(n(166));if(s=oe.current,bo(o)){if(s=o.stateNode,d=o.memoizedProps,p=null,b=qr,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}s[Er]=o,s=!!(s.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||$S(s.nodeValue,d)),s||ds(o,!0)}else s=im(s).createTextNode(p),s[Er]=o,o.stateNode=s}return Wt(o),null;case 31:if(d=o.memoizedState,s===null||s.memoizedState!==null){if(p=bo(o),d!==null){if(s===null){if(!p)throw Error(n(318));if(s=o.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(557));s[Er]=o}else dl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Wt(o),s=!1}else d=dv(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=d),s=!0;if(!s)return o.flags&256?(kn(o),o):(kn(o),null);if((o.flags&128)!==0)throw Error(n(558))}return Wt(o),null;case 13:if(p=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(b=bo(o),p!==null&&p.dehydrated!==null){if(s===null){if(!b)throw Error(n(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[Er]=o}else dl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Wt(o),b=!1}else b=dv(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=b),b=!0;if(!b)return o.flags&256?(kn(o),o):(kn(o),null)}return kn(o),(o.flags&128)!==0?(o.lanes=d,o):(d=p!==null,s=s!==null&&s.memoizedState!==null,d&&(p=o.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool),N=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(N=p.memoizedState.cachePool.pool),N!==b&&(p.flags|=2048)),d!==s&&d&&(o.child.flags|=8192),Uf(o,o.updateQueue),Wt(o),null);case 4:return ee(),s===null&&Ng(o.stateNode.containerInfo),Wt(o),null;case 10:return bi(o.type),Wt(o),null;case 19:if(W(gr),p=o.memoizedState,p===null)return Wt(o),null;if(b=(o.flags&128)!==0,N=p.rendering,N===null)if(b)xu(p,!1);else{if(ur!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(N=_f(s),N!==null){for(o.flags|=128,xu(p,!1),s=N.updateQueue,o.updateQueue=s,Uf(o,s),o.subtreeFlags=0,s=d,d=o.child;d!==null;)bN(d,s),d=d.sibling;return ne(gr,gr.current&1|2),bt&&vi(o,p.treeForkCount),o.child}s=s.sibling}p.tail!==null&&be()>Kf&&(o.flags|=128,b=!0,xu(p,!1),o.lanes=4194304)}else{if(!b)if(s=_f(N),s!==null){if(o.flags|=128,b=!0,s=s.updateQueue,o.updateQueue=s,Uf(o,s),xu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!N.alternate&&!bt)return Wt(o),null}else 2*be()-p.renderingStartTime>Kf&&d!==536870912&&(o.flags|=128,b=!0,xu(p,!1),o.lanes=4194304);p.isBackwards?(N.sibling=o.child,o.child=N):(s=p.last,s!==null?s.sibling=N:o.child=N,p.last=N)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=be(),s.sibling=null,d=gr.current,ne(gr,b?d&1|2:d&1),bt&&vi(o,p.treeForkCount),s):(Wt(o),null);case 22:case 23:return kn(o),Sv(),p=o.memoizedState!==null,s!==null?s.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(d&536870912)!==0&&(o.flags&128)===0&&(Wt(o),o.subtreeFlags&6&&(o.flags|=8192)):Wt(o),d=o.updateQueue,d!==null&&Uf(o,d.retryQueue),d=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==d&&(o.flags|=2048),s!==null&&W(pl),null;case 24:return d=null,s!==null&&(d=s.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),bi(Sr),Wt(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function KR(s,o){switch(cv(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return bi(Sr),ee(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return He(o),null;case 31:if(o.memoizedState!==null){if(kn(o),o.alternate===null)throw Error(n(340));dl()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 13:if(kn(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));dl()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return W(gr),null;case 4:return ee(),null;case 10:return bi(o.type),null;case 22:case 23:return kn(o),Sv(),s!==null&&W(pl),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return bi(Sr),null;case 25:return null;default:return null}}function V2(s,o){switch(cv(o),o.tag){case 3:bi(Sr),ee();break;case 26:case 27:case 5:He(o);break;case 4:ee();break;case 31:o.memoizedState!==null&&kn(o);break;case 13:kn(o);break;case 19:W(gr);break;case 10:bi(o.type);break;case 22:case 23:kn(o),Sv(),s!==null&&W(pl);break;case 24:bi(Sr)}}function vu(s,o){try{var d=o.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var b=p.next;d=b;do{if((d.tag&s)===s){p=void 0;var N=d.create,_=d.inst;p=N(),_.destroy=p}d=d.next}while(d!==b)}}catch(R){Ot(o,o.return,R)}}function gs(s,o,d){try{var p=o.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var N=b.next;p=N;do{if((p.tag&s)===s){var _=p.inst,R=_.destroy;if(R!==void 0){_.destroy=void 0,b=o;var Y=d,se=R;try{se()}catch(ve){Ot(b,Y,ve)}}}p=p.next}while(p!==N)}}catch(ve){Ot(o,o.return,ve)}}function G2(s){var o=s.updateQueue;if(o!==null){var d=s.stateNode;try{LN(o,d)}catch(p){Ot(s,s.return,p)}}}function W2(s,o,d){d.props=bl(s.type,s.memoizedProps),d.state=s.memoizedState;try{d.componentWillUnmount()}catch(p){Ot(s,o,p)}}function gu(s,o){try{var d=s.ref;if(d!==null){switch(s.tag){case 26:case 27:case 5:var p=s.stateNode;break;case 30:p=s.stateNode;break;default:p=s.stateNode}typeof d=="function"?s.refCleanup=d(p):d.current=p}}catch(b){Ot(s,o,b)}}function Fa(s,o){var d=s.ref,p=s.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(b){Ot(s,o,b)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(b){Ot(s,o,b)}else d.current=null}function K2(s){var o=s.type,d=s.memoizedProps,p=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(b){Ot(s,s.return,b)}}function rg(s,o,d){try{var p=s.stateNode;vL(p,s.type,d,o),p[Qr]=o}catch(b){Ot(s,s.return,b)}}function Q2(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Cs(s.type)||s.tag===4}function ng(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Q2(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Cs(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function ag(s,o,d){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(s,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(s),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=pi));else if(p!==4&&(p===27&&Cs(s.type)&&(d=s.stateNode,o=null),s=s.child,s!==null))for(ag(s,o,d),s=s.sibling;s!==null;)ag(s,o,d),s=s.sibling}function Yf(s,o,d){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?d.insertBefore(s,o):d.appendChild(s);else if(p!==4&&(p===27&&Cs(s.type)&&(d=s.stateNode),s=s.child,s!==null))for(Yf(s,o,d),s=s.sibling;s!==null;)Yf(s,o,d),s=s.sibling}function X2(s){var o=s.stateNode,d=s.memoizedProps;try{for(var p=s.type,b=o.attributes;b.length;)o.removeAttributeNode(b[0]);Yr(o,p,d),o[Er]=s,o[Qr]=d}catch(N){Ot(s,s.return,N)}}var Si=!1,kr=!1,ig=!1,Z2=typeof WeakSet=="function"?WeakSet:Set,Rr=null;function QR(s,o){if(s=s.containerInfo,Ag=fm,s=uN(s),Zx(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var b=p.anchorOffset,N=p.focusNode;p=p.focusOffset;try{d.nodeType,N.nodeType}catch{d=null;break e}var _=0,R=-1,Y=-1,se=0,ve=0,je=s,ce=null;t:for(;;){for(var fe;je!==d||b!==0&&je.nodeType!==3||(R=_+b),je!==N||p!==0&&je.nodeType!==3||(Y=_+p),je.nodeType===3&&(_+=je.nodeValue.length),(fe=je.firstChild)!==null;)ce=je,je=fe;for(;;){if(je===s)break t;if(ce===d&&++se===b&&(R=_),ce===N&&++ve===p&&(Y=_),(fe=je.nextSibling)!==null)break;je=ce,ce=je.parentNode}je=fe}d=R===-1||Y===-1?null:{start:R,end:Y}}else d=null}d=d||{start:0,end:0}}else d=null;for(kg={focusedElem:s,selectionRange:d},fm=!1,Rr=o;Rr!==null;)if(o=Rr,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Rr=s;else for(;Rr!==null;){switch(o=Rr,N=o.alternate,s=o.flags,o.tag){case 0:if((s&4)!==0&&(s=o.updateQueue,s=s!==null?s.events:null,s!==null))for(d=0;d<s.length;d++)b=s[d],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&N!==null){s=void 0,d=o,b=N.memoizedProps,N=N.memoizedState,p=d.stateNode;try{var qe=bl(d.type,b);s=p.getSnapshotBeforeUpdate(qe,N),p.__reactInternalSnapshotBeforeUpdate=s}catch(Qe){Ot(d,d.return,Qe)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,d=s.nodeType,d===9)Eg(s);else if(d===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Eg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=o.sibling,s!==null){s.return=o.return,Rr=s;break}Rr=o.return}}function J2(s,o,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:Ai(s,d),p&4&&vu(5,d);break;case 1:if(Ai(s,d),p&4)if(s=d.stateNode,o===null)try{s.componentDidMount()}catch(_){Ot(d,d.return,_)}else{var b=bl(d.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(b,o,s.__reactInternalSnapshotBeforeUpdate)}catch(_){Ot(d,d.return,_)}}p&64&&G2(d),p&512&&gu(d,d.return);break;case 3:if(Ai(s,d),p&64&&(s=d.updateQueue,s!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{LN(s,o)}catch(_){Ot(d,d.return,_)}}break;case 27:o===null&&p&4&&X2(d);case 26:case 5:Ai(s,d),o===null&&p&4&&K2(d),p&512&&gu(d,d.return);break;case 12:Ai(s,d);break;case 31:Ai(s,d),p&4&&rS(s,d);break;case 13:Ai(s,d),p&4&&nS(s,d),p&64&&(s=d.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(d=iL.bind(null,d),CL(s,d))));break;case 22:if(p=d.memoizedState!==null||Si,!p){o=o!==null&&o.memoizedState!==null||kr,b=Si;var N=kr;Si=p,(kr=o)&&!N?ki(s,d,(d.subtreeFlags&8772)!==0):Ai(s,d),Si=b,kr=N}break;case 30:break;default:Ai(s,d)}}function eS(s){var o=s.alternate;o!==null&&(s.alternate=null,eS(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&Vc(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Zt=null,un=!1;function Ci(s,o,d){for(d=d.child;d!==null;)tS(s,o,d),d=d.sibling}function tS(s,o,d){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(Ue,d)}catch{}switch(d.tag){case 26:kr||Fa(d,o),Ci(s,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:kr||Fa(d,o);var p=Zt,b=un;Cs(d.type)&&(Zt=d.stateNode,un=!1),Ci(s,o,d),ku(d.stateNode),Zt=p,un=b;break;case 5:kr||Fa(d,o);case 6:if(p=Zt,b=un,Zt=null,Ci(s,o,d),Zt=p,un=b,Zt!==null)if(un)try{(Zt.nodeType===9?Zt.body:Zt.nodeName==="HTML"?Zt.ownerDocument.body:Zt).removeChild(d.stateNode)}catch(N){Ot(d,o,N)}else try{Zt.removeChild(d.stateNode)}catch(N){Ot(d,o,N)}break;case 18:Zt!==null&&(un?(s=Zt,GS(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,d.stateNode),Bo(s)):GS(Zt,d.stateNode));break;case 4:p=Zt,b=un,Zt=d.stateNode.containerInfo,un=!0,Ci(s,o,d),Zt=p,un=b;break;case 0:case 11:case 14:case 15:gs(2,d,o),kr||gs(4,d,o),Ci(s,o,d);break;case 1:kr||(Fa(d,o),p=d.stateNode,typeof p.componentWillUnmount=="function"&&W2(d,o,p)),Ci(s,o,d);break;case 21:Ci(s,o,d);break;case 22:kr=(p=kr)||d.memoizedState!==null,Ci(s,o,d),kr=p;break;default:Ci(s,o,d)}}function rS(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Bo(s)}catch(d){Ot(o,o.return,d)}}}function nS(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Bo(s)}catch(d){Ot(o,o.return,d)}}function XR(s){switch(s.tag){case 31:case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new Z2),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new Z2),o;default:throw Error(n(435,s.tag))}}function Vf(s,o){var d=XR(s);o.forEach(function(p){if(!d.has(p)){d.add(p);var b=sL.bind(null,s,p);p.then(b,b)}})}function dn(s,o){var d=o.deletions;if(d!==null)for(var p=0;p<d.length;p++){var b=d[p],N=s,_=o,R=_;e:for(;R!==null;){switch(R.tag){case 27:if(Cs(R.type)){Zt=R.stateNode,un=!1;break e}break;case 5:Zt=R.stateNode,un=!1;break e;case 3:case 4:Zt=R.stateNode.containerInfo,un=!0;break e}R=R.return}if(Zt===null)throw Error(n(160));tS(N,_,b),Zt=null,un=!1,N=b.alternate,N!==null&&(N.return=null),b.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)aS(o,s),o=o.sibling}var fa=null;function aS(s,o){var d=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:dn(o,s),fn(s),p&4&&(gs(3,s,s.return),vu(3,s),gs(5,s,s.return));break;case 1:dn(o,s),fn(s),p&512&&(kr||d===null||Fa(d,d.return)),p&64&&Si&&(s=s.updateQueue,s!==null&&(p=s.callbacks,p!==null&&(d=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var b=fa;if(dn(o,s),fn(s),p&512&&(kr||d===null||Fa(d,d.return)),p&4){var N=d!==null?d.memoizedState:null;if(p=s.memoizedState,d===null)if(p===null)if(s.stateNode===null){e:{p=s.type,d=s.memoizedProps,b=b.ownerDocument||b;t:switch(p){case"title":N=b.getElementsByTagName("title")[0],(!N||N[nl]||N[Er]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=b.createElement(p),b.head.insertBefore(N,b.querySelector("head > title"))),Yr(N,p,d),N[Er]=s,wr(N),p=N;break e;case"link":var _=aC("link","href",b).get(p+(d.href||""));if(_){for(var R=0;R<_.length;R++)if(N=_[R],N.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&N.getAttribute("rel")===(d.rel==null?null:d.rel)&&N.getAttribute("title")===(d.title==null?null:d.title)&&N.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){_.splice(R,1);break t}}N=b.createElement(p),Yr(N,p,d),b.head.appendChild(N);break;case"meta":if(_=aC("meta","content",b).get(p+(d.content||""))){for(R=0;R<_.length;R++)if(N=_[R],N.getAttribute("content")===(d.content==null?null:""+d.content)&&N.getAttribute("name")===(d.name==null?null:d.name)&&N.getAttribute("property")===(d.property==null?null:d.property)&&N.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&N.getAttribute("charset")===(d.charSet==null?null:d.charSet)){_.splice(R,1);break t}}N=b.createElement(p),Yr(N,p,d),b.head.appendChild(N);break;default:throw Error(n(468,p))}N[Er]=s,wr(N),p=N}s.stateNode=p}else iC(b,s.type,s.stateNode);else s.stateNode=nC(b,p,s.memoizedProps);else N!==p?(N===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):N.count--,p===null?iC(b,s.type,s.stateNode):nC(b,p,s.memoizedProps)):p===null&&s.stateNode!==null&&rg(s,s.memoizedProps,d.memoizedProps)}break;case 27:dn(o,s),fn(s),p&512&&(kr||d===null||Fa(d,d.return)),d!==null&&p&4&&rg(s,s.memoizedProps,d.memoizedProps);break;case 5:if(dn(o,s),fn(s),p&512&&(kr||d===null||Fa(d,d.return)),s.flags&32){b=s.stateNode;try{oo(b,"")}catch(qe){Ot(s,s.return,qe)}}p&4&&s.stateNode!=null&&(b=s.memoizedProps,rg(s,b,d!==null?d.memoizedProps:b)),p&1024&&(ig=!0);break;case 6:if(dn(o,s),fn(s),p&4){if(s.stateNode===null)throw Error(n(162));p=s.memoizedProps,d=s.stateNode;try{d.nodeValue=p}catch(qe){Ot(s,s.return,qe)}}break;case 3:if(om=null,b=fa,fa=sm(o.containerInfo),dn(o,s),fa=b,fn(s),p&4&&d!==null&&d.memoizedState.isDehydrated)try{Bo(o.containerInfo)}catch(qe){Ot(s,s.return,qe)}ig&&(ig=!1,iS(s));break;case 4:p=fa,fa=sm(s.stateNode.containerInfo),dn(o,s),fn(s),fa=p;break;case 12:dn(o,s),fn(s);break;case 31:dn(o,s),fn(s),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,Vf(s,p)));break;case 13:dn(o,s),fn(s),s.child.flags&8192&&s.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Wf=be()),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,Vf(s,p)));break;case 22:b=s.memoizedState!==null;var Y=d!==null&&d.memoizedState!==null,se=Si,ve=kr;if(Si=se||b,kr=ve||Y,dn(o,s),kr=ve,Si=se,fn(s),p&8192)e:for(o=s.stateNode,o._visibility=b?o._visibility&-2:o._visibility|1,b&&(d===null||Y||Si||kr||yl(s)),d=null,o=s;;){if(o.tag===5||o.tag===26){if(d===null){Y=d=o;try{if(N=Y.stateNode,b)_=N.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{R=Y.stateNode;var je=Y.memoizedProps.style,ce=je!=null&&je.hasOwnProperty("display")?je.display:null;R.style.display=ce==null||typeof ce=="boolean"?"":(""+ce).trim()}}catch(qe){Ot(Y,Y.return,qe)}}}else if(o.tag===6){if(d===null){Y=o;try{Y.stateNode.nodeValue=b?"":Y.memoizedProps}catch(qe){Ot(Y,Y.return,qe)}}}else if(o.tag===18){if(d===null){Y=o;try{var fe=Y.stateNode;b?WS(fe,!0):WS(Y.stateNode,!1)}catch(qe){Ot(Y,Y.return,qe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=s.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,Vf(s,d))));break;case 19:dn(o,s),fn(s),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,Vf(s,p)));break;case 30:break;case 21:break;default:dn(o,s),fn(s)}}function fn(s){var o=s.flags;if(o&2){try{for(var d,p=s.return;p!==null;){if(Q2(p)){d=p;break}p=p.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var b=d.stateNode,N=ng(s);Yf(s,N,b);break;case 5:var _=d.stateNode;d.flags&32&&(oo(_,""),d.flags&=-33);var R=ng(s);Yf(s,R,_);break;case 3:case 4:var Y=d.stateNode.containerInfo,se=ng(s);ag(s,se,Y);break;default:throw Error(n(161))}}catch(ve){Ot(s,s.return,ve)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function iS(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;iS(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Ai(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)J2(s,o.alternate,o),o=o.sibling}function yl(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:gs(4,o,o.return),yl(o);break;case 1:Fa(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&W2(o,o.return,d),yl(o);break;case 27:ku(o.stateNode);case 26:case 5:Fa(o,o.return),yl(o);break;case 22:o.memoizedState===null&&yl(o);break;case 30:yl(o);break;default:yl(o)}s=s.sibling}}function ki(s,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,b=s,N=o,_=N.flags;switch(N.tag){case 0:case 11:case 15:ki(b,N,d),vu(4,N);break;case 1:if(ki(b,N,d),p=N,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(se){Ot(p,p.return,se)}if(p=N,b=p.updateQueue,b!==null){var R=p.stateNode;try{var Y=b.shared.hiddenCallbacks;if(Y!==null)for(b.shared.hiddenCallbacks=null,b=0;b<Y.length;b++)RN(Y[b],R)}catch(se){Ot(p,p.return,se)}}d&&_&64&&G2(N),gu(N,N.return);break;case 27:X2(N);case 26:case 5:ki(b,N,d),d&&p===null&&_&4&&K2(N),gu(N,N.return);break;case 12:ki(b,N,d);break;case 31:ki(b,N,d),d&&_&4&&rS(b,N);break;case 13:ki(b,N,d),d&&_&4&&nS(b,N);break;case 22:N.memoizedState===null&&ki(b,N,d),gu(N,N.return);break;case 30:break;default:ki(b,N,d)}o=o.sibling}}function sg(s,o){var d=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==d&&(s!=null&&s.refCount++,d!=null&&au(d))}function lg(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&au(s))}function ma(s,o,d,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)sS(s,o,d,p),o=o.sibling}function sS(s,o,d,p){var b=o.flags;switch(o.tag){case 0:case 11:case 15:ma(s,o,d,p),b&2048&&vu(9,o);break;case 1:ma(s,o,d,p);break;case 3:ma(s,o,d,p),b&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&au(s)));break;case 12:if(b&2048){ma(s,o,d,p),s=o.stateNode;try{var N=o.memoizedProps,_=N.id,R=N.onPostCommit;typeof R=="function"&&R(_,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Y){Ot(o,o.return,Y)}}else ma(s,o,d,p);break;case 31:ma(s,o,d,p);break;case 13:ma(s,o,d,p);break;case 23:break;case 22:N=o.stateNode,_=o.alternate,o.memoizedState!==null?N._visibility&2?ma(s,o,d,p):bu(s,o):N._visibility&2?ma(s,o,d,p):(N._visibility|=2,Do(s,o,d,p,(o.subtreeFlags&10256)!==0||!1)),b&2048&&sg(_,o);break;case 24:ma(s,o,d,p),b&2048&&lg(o.alternate,o);break;default:ma(s,o,d,p)}}function Do(s,o,d,p,b){for(b=b&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var N=s,_=o,R=d,Y=p,se=_.flags;switch(_.tag){case 0:case 11:case 15:Do(N,_,R,Y,b),vu(8,_);break;case 23:break;case 22:var ve=_.stateNode;_.memoizedState!==null?ve._visibility&2?Do(N,_,R,Y,b):bu(N,_):(ve._visibility|=2,Do(N,_,R,Y,b)),b&&se&2048&&sg(_.alternate,_);break;case 24:Do(N,_,R,Y,b),b&&se&2048&&lg(_.alternate,_);break;default:Do(N,_,R,Y,b)}o=o.sibling}}function bu(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=s,p=o,b=p.flags;switch(p.tag){case 22:bu(d,p),b&2048&&sg(p.alternate,p);break;case 24:bu(d,p),b&2048&&lg(p.alternate,p);break;default:bu(d,p)}o=o.sibling}}var yu=8192;function Eo(s,o,d){if(s.subtreeFlags&yu)for(s=s.child;s!==null;)lS(s,o,d),s=s.sibling}function lS(s,o,d){switch(s.tag){case 26:Eo(s,o,d),s.flags&yu&&s.memoizedState!==null&&LL(d,fa,s.memoizedState,s.memoizedProps);break;case 5:Eo(s,o,d);break;case 3:case 4:var p=fa;fa=sm(s.stateNode.containerInfo),Eo(s,o,d),fa=p;break;case 22:s.memoizedState===null&&(p=s.alternate,p!==null&&p.memoizedState!==null?(p=yu,yu=16777216,Eo(s,o,d),yu=p):Eo(s,o,d));break;default:Eo(s,o,d)}}function oS(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function ju(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var p=o[d];Rr=p,uS(p,s)}oS(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)cS(s),s=s.sibling}function cS(s){switch(s.tag){case 0:case 11:case 15:ju(s),s.flags&2048&&gs(9,s,s.return);break;case 3:ju(s);break;case 12:ju(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Gf(s)):ju(s);break;default:ju(s)}}function Gf(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var p=o[d];Rr=p,uS(p,s)}oS(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:gs(8,o,o.return),Gf(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,Gf(o));break;default:Gf(o)}s=s.sibling}}function uS(s,o){for(;Rr!==null;){var d=Rr;switch(d.tag){case 0:case 11:case 15:gs(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:au(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,Rr=p;else e:for(d=s;Rr!==null;){p=Rr;var b=p.sibling,N=p.return;if(eS(p),p===d){Rr=null;break e}if(b!==null){b.return=N,Rr=b;break e}Rr=N}}}var ZR={getCacheForType:function(s){var o=Hr(Sr),d=o.data.get(s);return d===void 0&&(d=s(),o.data.set(s,d)),d},cacheSignal:function(){return Hr(Sr).controller.signal}},JR=typeof WeakMap=="function"?WeakMap:Map,kt=0,qt=null,dt=null,ht=0,_t=0,Mn=null,bs=!1,_o=!1,og=!1,Mi=0,ur=0,ys=0,jl=0,cg=0,Dn=0,Oo=0,wu=null,mn=null,ug=!1,Wf=0,dS=0,Kf=1/0,Qf=null,js=null,_r=0,ws=null,To=null,Di=0,dg=0,fg=null,fS=null,Nu=0,mg=null;function En(){return(kt&2)!==0&&ht!==0?ht&-ht:L.T!==null?bg():af()}function mS(){if(Dn===0)if((ht&536870912)===0||bt){var s=Pe;Pe<<=1,(Pe&3932160)===0&&(Pe=262144),Dn=s}else Dn=536870912;return s=An.current,s!==null&&(s.flags|=32),Dn}function pn(s,o,d){(s===qt&&(_t===2||_t===9)||s.cancelPendingCommit!==null)&&(Po(s,0),Ns(s,ht,Dn,!1)),Hn(s,d),((kt&2)===0||s!==qt)&&(s===qt&&((kt&2)===0&&(jl|=d),ur===4&&Ns(s,ht,Dn,!1)),za(s))}function pS(s,o,d){if((kt&6)!==0)throw Error(n(327));var p=!d&&(o&127)===0&&(o&s.expiredLanes)===0||Se(s,o),b=p?rL(s,o):hg(s,o,!0),N=p;do{if(b===0){_o&&!p&&Ns(s,o,0,!1);break}else{if(d=s.current.alternate,N&&!eL(d)){b=hg(s,o,!1),N=!1;continue}if(b===2){if(N=o,s.errorRecoveryDisabledLanes&N)var _=0;else _=s.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){o=_;e:{var R=s;b=wu;var Y=R.current.memoizedState.isDehydrated;if(Y&&(Po(R,_).flags|=256),_=hg(R,_,!1),_!==2){if(og&&!Y){R.errorRecoveryDisabledLanes|=N,jl|=N,b=4;break e}N=mn,mn=b,N!==null&&(mn===null?mn=N:mn.push.apply(mn,N))}b=_}if(N=!1,b!==2)continue}}if(b===1){Po(s,0),Ns(s,o,0,!0);break}e:{switch(p=s,N=b,N){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:Ns(p,o,Dn,!bs);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(b=Wf+300-be(),10<b)){if(Ns(p,o,Dn,!bs),ae(p,0,!0)!==0)break e;Di=o,p.timeoutHandle=YS(hS.bind(null,p,d,mn,Qf,ug,o,Dn,jl,Oo,bs,N,"Throttled",-0,0),b);break e}hS(p,d,mn,Qf,ug,o,Dn,jl,Oo,bs,N,null,-0,0)}}break}while(!0);za(s)}function hS(s,o,d,p,b,N,_,R,Y,se,ve,je,ce,fe){if(s.timeoutHandle=-1,je=o.subtreeFlags,je&8192||(je&16785408)===16785408){je={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pi},lS(o,N,je);var qe=(N&62914560)===N?Wf-be():(N&4194048)===N?dS-be():0;if(qe=FL(je,qe),qe!==null){Di=N,s.cancelPendingCommit=qe(NS.bind(null,s,o,N,d,p,b,_,R,Y,ve,je,null,ce,fe)),Ns(s,N,_,!se);return}}NS(s,o,N,d,p,b,_,R,Y)}function eL(s){for(var o=s;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var b=d[p],N=b.getSnapshot;b=b.value;try{if(!Sn(N(),b))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ns(s,o,d,p){o&=~cg,o&=~jl,s.suspendedLanes|=o,s.pingedLanes&=~o,p&&(s.warmLanes|=o),p=s.expirationTimes;for(var b=o;0<b;){var N=31-et(b),_=1<<N;p[N]=-1,b&=~_}d!==0&&so(s,d,o)}function Xf(){return(kt&6)===0?(Su(0),!1):!0}function pg(){if(dt!==null){if(_t===0)var s=dt.return;else s=dt,gi=fl=null,Ev(s),So=null,su=0,s=dt;for(;s!==null;)V2(s.alternate,s),s=s.return;dt=null}}function Po(s,o){var d=s.timeoutHandle;d!==-1&&(s.timeoutHandle=-1,yL(d)),d=s.cancelPendingCommit,d!==null&&(s.cancelPendingCommit=null,d()),Di=0,pg(),qt=s,dt=d=xi(s.current,null),ht=o,_t=0,Mn=null,bs=!1,_o=Se(s,o),og=!1,Oo=Dn=cg=jl=ys=ur=0,mn=wu=null,ug=!1,(o&8)!==0&&(o|=o&32);var p=s.entangledLanes;if(p!==0)for(s=s.entanglements,p&=o;0<p;){var b=31-et(p),N=1<<b;o|=s[b],p&=~N}return Mi=o,gf(),d}function xS(s,o){nt=null,L.H=pu,o===No||o===Af?(o=ON(),_t=3):o===gv?(o=ON(),_t=4):_t=o===Vv?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Mn=o,dt===null&&(ur=1,Bf(s,Vn(o,s.current)))}function vS(){var s=An.current;return s===null?!0:(ht&4194048)===ht?Qn===null:(ht&62914560)===ht||(ht&536870912)!==0?s===Qn:!1}function gS(){var s=L.H;return L.H=pu,s===null?pu:s}function bS(){var s=L.A;return L.A=ZR,s}function Zf(){ur=4,bs||(ht&4194048)!==ht&&An.current!==null||(_o=!0),(ys&134217727)===0&&(jl&134217727)===0||qt===null||Ns(qt,ht,Dn,!1)}function hg(s,o,d){var p=kt;kt|=2;var b=gS(),N=bS();(qt!==s||ht!==o)&&(Qf=null,Po(s,o)),o=!1;var _=ur;e:do try{if(_t!==0&&dt!==null){var R=dt,Y=Mn;switch(_t){case 8:pg(),_=6;break e;case 3:case 2:case 9:case 6:An.current===null&&(o=!0);var se=_t;if(_t=0,Mn=null,Io(s,R,Y,se),d&&_o){_=0;break e}break;default:se=_t,_t=0,Mn=null,Io(s,R,Y,se)}}tL(),_=ur;break}catch(ve){xS(s,ve)}while(!0);return o&&s.shellSuspendCounter++,gi=fl=null,kt=p,L.H=b,L.A=N,dt===null&&(qt=null,ht=0,gf()),_}function tL(){for(;dt!==null;)yS(dt)}function rL(s,o){var d=kt;kt|=2;var p=gS(),b=bS();qt!==s||ht!==o?(Qf=null,Kf=be()+500,Po(s,o)):_o=Se(s,o);e:do try{if(_t!==0&&dt!==null){o=dt;var N=Mn;t:switch(_t){case 1:_t=0,Mn=null,Io(s,o,N,1);break;case 2:case 9:if(EN(N)){_t=0,Mn=null,jS(o);break}o=function(){_t!==2&&_t!==9||qt!==s||(_t=7),za(s)},N.then(o,o);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:EN(N)?(_t=0,Mn=null,jS(o)):(_t=0,Mn=null,Io(s,o,N,7));break;case 5:var _=null;switch(dt.tag){case 26:_=dt.memoizedState;case 5:case 27:var R=dt;if(_?sC(_):R.stateNode.complete){_t=0,Mn=null;var Y=R.sibling;if(Y!==null)dt=Y;else{var se=R.return;se!==null?(dt=se,Jf(se)):dt=null}break t}}_t=0,Mn=null,Io(s,o,N,5);break;case 6:_t=0,Mn=null,Io(s,o,N,6);break;case 8:pg(),ur=6;break e;default:throw Error(n(462))}}nL();break}catch(ve){xS(s,ve)}while(!0);return gi=fl=null,L.H=p,L.A=b,kt=d,dt!==null?0:(qt=null,ht=0,gf(),ur)}function nL(){for(;dt!==null&&!lr();)yS(dt)}function yS(s){var o=U2(s.alternate,s,Mi);s.memoizedProps=s.pendingProps,o===null?Jf(s):dt=o}function jS(s){var o=s,d=o.alternate;switch(o.tag){case 15:case 0:o=F2(d,o,o.pendingProps,o.type,void 0,ht);break;case 11:o=F2(d,o,o.pendingProps,o.type.render,o.ref,ht);break;case 5:Ev(o);default:V2(d,o),o=dt=bN(o,Mi),o=U2(d,o,Mi)}s.memoizedProps=s.pendingProps,o===null?Jf(s):dt=o}function Io(s,o,d,p){gi=fl=null,Ev(o),So=null,su=0;var b=o.return;try{if(YR(s,b,o,d,ht)){ur=1,Bf(s,Vn(d,s.current)),dt=null;return}}catch(N){if(b!==null)throw dt=b,N;ur=1,Bf(s,Vn(d,s.current)),dt=null;return}o.flags&32768?(bt||p===1?s=!0:_o||(ht&536870912)!==0?s=!1:(bs=s=!0,(p===2||p===9||p===3||p===6)&&(p=An.current,p!==null&&p.tag===13&&(p.flags|=16384))),wS(o,s)):Jf(o)}function Jf(s){var o=s;do{if((o.flags&32768)!==0){wS(o,bs);return}s=o.return;var d=WR(o.alternate,o,Mi);if(d!==null){dt=d;return}if(o=o.sibling,o!==null){dt=o;return}dt=o=s}while(o!==null);ur===0&&(ur=5)}function wS(s,o){do{var d=KR(s.alternate,s);if(d!==null){d.flags&=32767,dt=d;return}if(d=s.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(s=s.sibling,s!==null)){dt=s;return}dt=s=d}while(s!==null);ur=6,dt=null}function NS(s,o,d,p,b,N,_,R,Y){s.cancelPendingCommit=null;do em();while(_r!==0);if((kt&6)!==0)throw Error(n(327));if(o!==null){if(o===s.current)throw Error(n(177));if(N=o.lanes|o.childLanes,N|=nv,io(s,d,N,_,R,Y),s===qt&&(dt=qt=null,ht=0),To=o,ws=s,Di=d,dg=N,fg=b,fS=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,lL(Z,function(){return MS(),null})):(s.callbackNode=null,s.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=L.T,L.T=null,b=U.p,U.p=2,_=kt,kt|=4;try{QR(s,o,d)}finally{kt=_,U.p=b,L.T=p}}_r=1,SS(),CS(),AS()}}function SS(){if(_r===1){_r=0;var s=ws,o=To,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=L.T,L.T=null;var p=U.p;U.p=2;var b=kt;kt|=4;try{aS(o,s);var N=kg,_=uN(s.containerInfo),R=N.focusedElem,Y=N.selectionRange;if(_!==R&&R&&R.ownerDocument&&cN(R.ownerDocument.documentElement,R)){if(Y!==null&&Zx(R)){var se=Y.start,ve=Y.end;if(ve===void 0&&(ve=se),"selectionStart"in R)R.selectionStart=se,R.selectionEnd=Math.min(ve,R.value.length);else{var je=R.ownerDocument||document,ce=je&&je.defaultView||window;if(ce.getSelection){var fe=ce.getSelection(),qe=R.textContent.length,Qe=Math.min(Y.start,qe),zt=Y.end===void 0?Qe:Math.min(Y.end,qe);!fe.extend&&Qe>zt&&(_=zt,zt=Qe,Qe=_);var te=oN(R,Qe),Q=oN(R,zt);if(te&&Q&&(fe.rangeCount!==1||fe.anchorNode!==te.node||fe.anchorOffset!==te.offset||fe.focusNode!==Q.node||fe.focusOffset!==Q.offset)){var ie=je.createRange();ie.setStart(te.node,te.offset),fe.removeAllRanges(),Qe>zt?(fe.addRange(ie),fe.extend(Q.node,Q.offset)):(ie.setEnd(Q.node,Q.offset),fe.addRange(ie))}}}}for(je=[],fe=R;fe=fe.parentNode;)fe.nodeType===1&&je.push({element:fe,left:fe.scrollLeft,top:fe.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<je.length;R++){var ye=je[R];ye.element.scrollLeft=ye.left,ye.element.scrollTop=ye.top}}fm=!!Ag,kg=Ag=null}finally{kt=b,U.p=p,L.T=d}}s.current=o,_r=2}}function CS(){if(_r===2){_r=0;var s=ws,o=To,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=L.T,L.T=null;var p=U.p;U.p=2;var b=kt;kt|=4;try{J2(s,o.alternate,o)}finally{kt=b,U.p=p,L.T=d}}_r=3}}function AS(){if(_r===4||_r===3){_r=0,Et();var s=ws,o=To,d=Di,p=fS;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?_r=5:(_r=0,To=ws=null,kS(s,s.pendingLanes));var b=s.pendingLanes;if(b===0&&(js=null),Uc(d),o=o.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(Ue,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=L.T,b=U.p,U.p=2,L.T=null;try{for(var N=s.onRecoverableError,_=0;_<p.length;_++){var R=p[_];N(R.value,{componentStack:R.stack})}}finally{L.T=o,U.p=b}}(Di&3)!==0&&em(),za(s),b=s.pendingLanes,(d&261930)!==0&&(b&42)!==0?s===mg?Nu++:(Nu=0,mg=s):Nu=0,Su(0)}}function kS(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,au(o)))}function em(){return SS(),CS(),AS(),MS()}function MS(){if(_r!==5)return!1;var s=ws,o=dg;dg=0;var d=Uc(Di),p=L.T,b=U.p;try{U.p=32>d?32:d,L.T=null,d=fg,fg=null;var N=ws,_=Di;if(_r=0,To=ws=null,Di=0,(kt&6)!==0)throw Error(n(331));var R=kt;if(kt|=4,cS(N.current),sS(N,N.current,_,d),kt=R,Su(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(Ue,N)}catch{}return!0}finally{U.p=b,L.T=p,kS(s,o)}}function DS(s,o,d){o=Vn(d,o),o=Yv(s.stateNode,o,2),s=hs(s,o,2),s!==null&&(Hn(s,2),za(s))}function Ot(s,o,d){if(s.tag===3)DS(s,s,d);else for(;o!==null;){if(o.tag===3){DS(o,s,d);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(js===null||!js.has(p))){s=Vn(d,s),d=E2(2),p=hs(o,d,2),p!==null&&(_2(d,p,o,s),Hn(p,2),za(p));break}}o=o.return}}function xg(s,o,d){var p=s.pingCache;if(p===null){p=s.pingCache=new JR;var b=new Set;p.set(o,b)}else b=p.get(o),b===void 0&&(b=new Set,p.set(o,b));b.has(d)||(og=!0,b.add(d),s=aL.bind(null,s,o,d),o.then(s,s))}function aL(s,o,d){var p=s.pingCache;p!==null&&p.delete(o),s.pingedLanes|=s.suspendedLanes&d,s.warmLanes&=~d,qt===s&&(ht&d)===d&&(ur===4||ur===3&&(ht&62914560)===ht&&300>be()-Wf?(kt&2)===0&&Po(s,0):cg|=d,Oo===ht&&(Oo=0)),za(s)}function ES(s,o){o===0&&(o=Vt()),s=cl(s,o),s!==null&&(Hn(s,o),za(s))}function iL(s){var o=s.memoizedState,d=0;o!==null&&(d=o.retryLane),ES(s,d)}function sL(s,o){var d=0;switch(s.tag){case 31:case 13:var p=s.stateNode,b=s.memoizedState;b!==null&&(d=b.retryLane);break;case 19:p=s.stateNode;break;case 22:p=s.stateNode._retryCache;break;default:throw Error(n(314))}p!==null&&p.delete(o),ES(s,d)}function lL(s,o){return Rt(s,o)}var tm=null,Ro=null,vg=!1,rm=!1,gg=!1,Ss=0;function za(s){s!==Ro&&s.next===null&&(Ro===null?tm=Ro=s:Ro=Ro.next=s),rm=!0,vg||(vg=!0,cL())}function Su(s,o){if(!gg&&rm){gg=!0;do for(var d=!1,p=tm;p!==null;){if(s!==0){var b=p.pendingLanes;if(b===0)var N=0;else{var _=p.suspendedLanes,R=p.pingedLanes;N=(1<<31-et(42|s)+1)-1,N&=b&~(_&~R),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(d=!0,PS(p,N))}else N=ht,N=ae(p,p===qt?N:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(N&3)===0||Se(p,N)||(d=!0,PS(p,N));p=p.next}while(d);gg=!1}}function oL(){_S()}function _S(){rm=vg=!1;var s=0;Ss!==0&&bL()&&(s=Ss);for(var o=be(),d=null,p=tm;p!==null;){var b=p.next,N=OS(p,o);N===0?(p.next=null,d===null?tm=b:d.next=b,b===null&&(Ro=d)):(d=p,(s!==0||(N&3)!==0)&&(rm=!0)),p=b}_r!==0&&_r!==5||Su(s),Ss!==0&&(Ss=0)}function OS(s,o){for(var d=s.suspendedLanes,p=s.pingedLanes,b=s.expirationTimes,N=s.pendingLanes&-62914561;0<N;){var _=31-et(N),R=1<<_,Y=b[_];Y===-1?((R&d)===0||(R&p)!==0)&&(b[_]=Xe(R,o)):Y<=o&&(s.expiredLanes|=R),N&=~R}if(o=qt,d=ht,d=ae(s,s===o?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p=s.callbackNode,d===0||s===o&&(_t===2||_t===9)||s.cancelPendingCommit!==null)return p!==null&&p!==null&&Yt(p),s.callbackNode=null,s.callbackPriority=0;if((d&3)===0||Se(s,d)){if(o=d&-d,o===s.callbackPriority)return o;switch(p!==null&&Yt(p),Uc(d)){case 2:case 8:d=$;break;case 32:d=Z;break;case 268435456:d=ze;break;default:d=Z}return p=TS.bind(null,s),d=Rt(d,p),s.callbackPriority=o,s.callbackNode=d,o}return p!==null&&p!==null&&Yt(p),s.callbackPriority=2,s.callbackNode=null,2}function TS(s,o){if(_r!==0&&_r!==5)return s.callbackNode=null,s.callbackPriority=0,null;var d=s.callbackNode;if(em()&&s.callbackNode!==d)return null;var p=ht;return p=ae(s,s===qt?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p===0?null:(pS(s,p,o),OS(s,be()),s.callbackNode!=null&&s.callbackNode===d?TS.bind(null,s):null)}function PS(s,o){if(em())return null;pS(s,o,!0)}function cL(){jL(function(){(kt&6)!==0?Rt(G,oL):_S()})}function bg(){if(Ss===0){var s=jo;s===0&&(s=We,We<<=1,(We&261888)===0&&(We=256)),Ss=s}return Ss}function IS(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:uf(""+s)}function RS(s,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,s.id&&d.setAttribute("form",s.id),o.parentNode.insertBefore(d,o),s=new FormData(s),d.parentNode.removeChild(d),s}function uL(s,o,d,p,b){if(o==="submit"&&d&&d.stateNode===b){var N=IS((b[Qr]||null).action),_=p.submitter;_&&(o=(o=_[Qr]||null)?IS(o.formAction):_.getAttribute("formAction"),o!==null&&(N=o,_=null));var R=new pf("action","action",null,p,b);s.push({event:R,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Ss!==0){var Y=_?RS(b,_):new FormData(b);zv(d,{pending:!0,data:Y,method:b.method,action:N},null,Y)}}else typeof N=="function"&&(R.preventDefault(),Y=_?RS(b,_):new FormData(b),zv(d,{pending:!0,data:Y,method:b.method,action:N},N,Y))},currentTarget:b}]})}}for(var yg=0;yg<rv.length;yg++){var jg=rv[yg],dL=jg.toLowerCase(),fL=jg[0].toUpperCase()+jg.slice(1);da(dL,"on"+fL)}da(mN,"onAnimationEnd"),da(pN,"onAnimationIteration"),da(hN,"onAnimationStart"),da("dblclick","onDoubleClick"),da("focusin","onFocus"),da("focusout","onBlur"),da(MR,"onTransitionRun"),da(DR,"onTransitionStart"),da(ER,"onTransitionCancel"),da(xN,"onTransitionEnd"),or("onMouseEnter",["mouseout","mouseover"]),or("onMouseLeave",["mouseout","mouseover"]),or("onPointerEnter",["pointerout","pointerover"]),or("onPointerLeave",["pointerout","pointerover"]),Ce("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ce("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ce("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ce("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ce("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ce("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cu));function LS(s,o){o=(o&4)!==0;for(var d=0;d<s.length;d++){var p=s[d],b=p.event;p=p.listeners;e:{var N=void 0;if(o)for(var _=p.length-1;0<=_;_--){var R=p[_],Y=R.instance,se=R.currentTarget;if(R=R.listener,Y!==N&&b.isPropagationStopped())break e;N=R,b.currentTarget=se;try{N(b)}catch(ve){vf(ve)}b.currentTarget=null,N=Y}else for(_=0;_<p.length;_++){if(R=p[_],Y=R.instance,se=R.currentTarget,R=R.listener,Y!==N&&b.isPropagationStopped())break e;N=R,b.currentTarget=se;try{N(b)}catch(ve){vf(ve)}b.currentTarget=null,N=Y}}}}function ft(s,o){var d=o[Yc];d===void 0&&(d=o[Yc]=new Set);var p=s+"__bubble";d.has(p)||(FS(o,s,2,!1),d.add(p))}function wg(s,o,d){var p=0;o&&(p|=4),FS(d,s,p,o)}var nm="_reactListening"+Math.random().toString(36).slice(2);function Ng(s){if(!s[nm]){s[nm]=!0,of.forEach(function(d){d!=="selectionchange"&&(mL.has(d)||wg(d,!1,s),wg(d,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[nm]||(o[nm]=!0,wg("selectionchange",!1,o))}}function FS(s,o,d,p){switch(mC(o)){case 2:var b=$L;break;case 8:b=qL;break;default:b=Fg}d=b.bind(null,o,d,s),b=void 0,!Hx||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(b=!0),p?b!==void 0?s.addEventListener(o,d,{capture:!0,passive:b}):s.addEventListener(o,d,!0):b!==void 0?s.addEventListener(o,d,{passive:b}):s.addEventListener(o,d,!1)}function Sg(s,o,d,p,b){var N=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var _=p.tag;if(_===3||_===4){var R=p.stateNode.containerInfo;if(R===b)break;if(_===4)for(_=p.return;_!==null;){var Y=_.tag;if((Y===3||Y===4)&&_.stateNode.containerInfo===b)return;_=_.return}for(;R!==null;){if(_=is(R),_===null)return;if(Y=_.tag,Y===5||Y===6||Y===26||Y===27){p=N=_;continue e}R=R.parentNode}}p=p.return}Hw(function(){var se=N,ve=$x(d),je=[];e:{var ce=vN.get(s);if(ce!==void 0){var fe=pf,qe=s;switch(s){case"keypress":if(ff(d)===0)break e;case"keydown":case"keyup":fe=sR;break;case"focusin":qe="focus",fe=Gx;break;case"focusout":qe="blur",fe=Gx;break;case"beforeblur":case"afterblur":fe=Gx;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=Vw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=WI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=cR;break;case mN:case pN:case hN:fe=XI;break;case xN:fe=dR;break;case"scroll":case"scrollend":fe=VI;break;case"wheel":fe=mR;break;case"copy":case"cut":case"paste":fe=JI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=Ww;break;case"toggle":case"beforetoggle":fe=hR}var Qe=(o&4)!==0,zt=!Qe&&(s==="scroll"||s==="scrollend"),te=Qe?ce!==null?ce+"Capture":null:ce;Qe=[];for(var Q=se,ie;Q!==null;){var ye=Q;if(ie=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||ie===null||te===null||(ye=Gc(Q,te),ye!=null&&Qe.push(Au(Q,ye,ie))),zt)break;Q=Q.return}0<Qe.length&&(ce=new fe(ce,qe,null,d,ve),je.push({event:ce,listeners:Qe}))}}if((o&7)===0){e:{if(ce=s==="mouseover"||s==="pointerover",fe=s==="mouseout"||s==="pointerout",ce&&d!==Bx&&(qe=d.relatedTarget||d.fromElement)&&(is(qe)||qe[as]))break e;if((fe||ce)&&(ce=ve.window===ve?ve:(ce=ve.ownerDocument)?ce.defaultView||ce.parentWindow:window,fe?(qe=d.relatedTarget||d.toElement,fe=se,qe=qe?is(qe):null,qe!==null&&(zt=l(qe),Qe=qe.tag,qe!==zt||Qe!==5&&Qe!==27&&Qe!==6)&&(qe=null)):(fe=null,qe=se),fe!==qe)){if(Qe=Vw,ye="onMouseLeave",te="onMouseEnter",Q="mouse",(s==="pointerout"||s==="pointerover")&&(Qe=Ww,ye="onPointerLeave",te="onPointerEnter",Q="pointer"),zt=fe==null?ce:al(fe),ie=qe==null?ce:al(qe),ce=new Qe(ye,Q+"leave",fe,d,ve),ce.target=zt,ce.relatedTarget=ie,ye=null,is(ve)===se&&(Qe=new Qe(te,Q+"enter",qe,d,ve),Qe.target=ie,Qe.relatedTarget=zt,ye=Qe),zt=ye,fe&&qe)t:{for(Qe=pL,te=fe,Q=qe,ie=0,ye=te;ye;ye=Qe(ye))ie++;ye=0;for(var Ge=Q;Ge;Ge=Qe(Ge))ye++;for(;0<ie-ye;)te=Qe(te),ie--;for(;0<ye-ie;)Q=Qe(Q),ye--;for(;ie--;){if(te===Q||Q!==null&&te===Q.alternate){Qe=te;break t}te=Qe(te),Q=Qe(Q)}Qe=null}else Qe=null;fe!==null&&zS(je,ce,fe,Qe,!1),qe!==null&&zt!==null&&zS(je,zt,qe,Qe,!0)}}e:{if(ce=se?al(se):window,fe=ce.nodeName&&ce.nodeName.toLowerCase(),fe==="select"||fe==="input"&&ce.type==="file")var Nt=rN;else if(eN(ce))if(nN)Nt=CR;else{Nt=NR;var Ye=wR}else fe=ce.nodeName,!fe||fe.toLowerCase()!=="input"||ce.type!=="checkbox"&&ce.type!=="radio"?se&&zx(se.elementType)&&(Nt=rN):Nt=SR;if(Nt&&(Nt=Nt(s,se))){tN(je,Nt,d,ve);break e}Ye&&Ye(s,ce,se),s==="focusout"&&se&&ce.type==="number"&&se.memoizedProps.value!=null&&Fx(ce,"number",ce.value)}switch(Ye=se?al(se):window,s){case"focusin":(eN(Ye)||Ye.contentEditable==="true")&&(mo=Ye,Jx=se,tu=null);break;case"focusout":tu=Jx=mo=null;break;case"mousedown":ev=!0;break;case"contextmenu":case"mouseup":case"dragend":ev=!1,dN(je,d,ve);break;case"selectionchange":if(kR)break;case"keydown":case"keyup":dN(je,d,ve)}var it;if(Kx)e:{switch(s){case"compositionstart":var xt="onCompositionStart";break e;case"compositionend":xt="onCompositionEnd";break e;case"compositionupdate":xt="onCompositionUpdate";break e}xt=void 0}else fo?Zw(s,d)&&(xt="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(xt="onCompositionStart");xt&&(Kw&&d.locale!=="ko"&&(fo||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&fo&&(it=Uw()):(os=ve,Ux="value"in os?os.value:os.textContent,fo=!0)),Ye=am(se,xt),0<Ye.length&&(xt=new Gw(xt,s,null,d,ve),je.push({event:xt,listeners:Ye}),it?xt.data=it:(it=Jw(d),it!==null&&(xt.data=it)))),(it=vR?gR(s,d):bR(s,d))&&(xt=am(se,"onBeforeInput"),0<xt.length&&(Ye=new Gw("onBeforeInput","beforeinput",null,d,ve),je.push({event:Ye,listeners:xt}),Ye.data=it)),uL(je,s,se,d,ve)}LS(je,o)})}function Au(s,o,d){return{instance:s,listener:o,currentTarget:d}}function am(s,o){for(var d=o+"Capture",p=[];s!==null;){var b=s,N=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||N===null||(b=Gc(s,d),b!=null&&p.unshift(Au(s,b,N)),b=Gc(s,o),b!=null&&p.push(Au(s,b,N))),s.tag===3)return p;s=s.return}return[]}function pL(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function zS(s,o,d,p,b){for(var N=o._reactName,_=[];d!==null&&d!==p;){var R=d,Y=R.alternate,se=R.stateNode;if(R=R.tag,Y!==null&&Y===p)break;R!==5&&R!==26&&R!==27||se===null||(Y=se,b?(se=Gc(d,N),se!=null&&_.unshift(Au(d,se,Y))):b||(se=Gc(d,N),se!=null&&_.push(Au(d,se,Y)))),d=d.return}_.length!==0&&s.push({event:o,listeners:_})}var hL=/\r\n?/g,xL=/\u0000|\uFFFD/g;function BS(s){return(typeof s=="string"?s:""+s).replace(hL,`
`).replace(xL,"")}function $S(s,o){return o=BS(o),BS(s)===o}function Ft(s,o,d,p,b,N){switch(d){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||oo(s,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&oo(s,""+p);break;case"className":il(s,"class",p);break;case"tabIndex":il(s,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":il(s,d,p);break;case"style":$w(s,p,N);break;case"data":if(o!=="object"){il(s,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||d!=="href")){s.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(d);break}p=uf(""+p),s.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){s.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(d==="formAction"?(o!=="input"&&Ft(s,o,"name",b.name,b,null),Ft(s,o,"formEncType",b.formEncType,b,null),Ft(s,o,"formMethod",b.formMethod,b,null),Ft(s,o,"formTarget",b.formTarget,b,null)):(Ft(s,o,"encType",b.encType,b,null),Ft(s,o,"method",b.method,b,null),Ft(s,o,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(d);break}p=uf(""+p),s.setAttribute(d,p);break;case"onClick":p!=null&&(s.onclick=pi);break;case"onScroll":p!=null&&ft("scroll",s);break;case"onScrollEnd":p!=null&&ft("scrollend",s);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(d=p.__html,d!=null){if(b.children!=null)throw Error(n(60));s.innerHTML=d}}break;case"multiple":s.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":s.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){s.removeAttribute("xlink:href");break}d=uf(""+p),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(d,""+p):s.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(d,""):s.removeAttribute(d);break;case"capture":case"download":p===!0?s.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(d,p):s.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?s.setAttribute(d,p):s.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?s.removeAttribute(d):s.setAttribute(d,p);break;case"popover":ft("beforetoggle",s),ft("toggle",s),mi(s,"popover",p);break;case"xlinkActuate":Nr(s,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Nr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Nr(s,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Nr(s,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Nr(s,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Nr(s,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Nr(s,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Nr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Nr(s,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":mi(s,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=UI.get(d)||d,mi(s,d,p))}}function Cg(s,o,d,p,b,N){switch(d){case"style":$w(s,p,N);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(d=p.__html,d!=null){if(b.children!=null)throw Error(n(60));s.innerHTML=d}}break;case"children":typeof p=="string"?oo(s,p):(typeof p=="number"||typeof p=="bigint")&&oo(s,""+p);break;case"onScroll":p!=null&&ft("scroll",s);break;case"onScrollEnd":p!=null&&ft("scrollend",s);break;case"onClick":p!=null&&(s.onclick=pi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!H.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(b=d.endsWith("Capture"),o=d.slice(2,b?d.length-7:void 0),N=s[Qr]||null,N=N!=null?N[d]:null,typeof N=="function"&&s.removeEventListener(o,N,b),typeof p=="function")){typeof N!="function"&&N!==null&&(d in s?s[d]=null:s.hasAttribute(d)&&s.removeAttribute(d)),s.addEventListener(o,p,b);break e}d in s?s[d]=p:p===!0?s.setAttribute(d,""):mi(s,d,p)}}}function Yr(s,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",s),ft("load",s);var p=!1,b=!1,N;for(N in d)if(d.hasOwnProperty(N)){var _=d[N];if(_!=null)switch(N){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Ft(s,o,N,_,d,null)}}b&&Ft(s,o,"srcSet",d.srcSet,d,null),p&&Ft(s,o,"src",d.src,d,null);return;case"input":ft("invalid",s);var R=N=_=b=null,Y=null,se=null;for(p in d)if(d.hasOwnProperty(p)){var ve=d[p];if(ve!=null)switch(p){case"name":b=ve;break;case"type":_=ve;break;case"checked":Y=ve;break;case"defaultChecked":se=ve;break;case"value":N=ve;break;case"defaultValue":R=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(n(137,o));break;default:Ft(s,o,p,ve,d,null)}}Lw(s,N,R,Y,se,_,b,!1);return;case"select":ft("invalid",s),p=_=N=null;for(b in d)if(d.hasOwnProperty(b)&&(R=d[b],R!=null))switch(b){case"value":N=R;break;case"defaultValue":_=R;break;case"multiple":p=R;default:Ft(s,o,b,R,d,null)}o=N,d=_,s.multiple=!!p,o!=null?lo(s,!!p,o,!1):d!=null&&lo(s,!!p,d,!0);return;case"textarea":ft("invalid",s),N=b=p=null;for(_ in d)if(d.hasOwnProperty(_)&&(R=d[_],R!=null))switch(_){case"value":p=R;break;case"defaultValue":b=R;break;case"children":N=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(n(91));break;default:Ft(s,o,_,R,d,null)}zw(s,p,b,N);return;case"option":for(Y in d)d.hasOwnProperty(Y)&&(p=d[Y],p!=null)&&(Y==="selected"?s.selected=p&&typeof p!="function"&&typeof p!="symbol":Ft(s,o,Y,p,d,null));return;case"dialog":ft("beforetoggle",s),ft("toggle",s),ft("cancel",s),ft("close",s);break;case"iframe":case"object":ft("load",s);break;case"video":case"audio":for(p=0;p<Cu.length;p++)ft(Cu[p],s);break;case"image":ft("error",s),ft("load",s);break;case"details":ft("toggle",s);break;case"embed":case"source":case"link":ft("error",s),ft("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in d)if(d.hasOwnProperty(se)&&(p=d[se],p!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Ft(s,o,se,p,d,null)}return;default:if(zx(o)){for(ve in d)d.hasOwnProperty(ve)&&(p=d[ve],p!==void 0&&Cg(s,o,ve,p,d,void 0));return}}for(R in d)d.hasOwnProperty(R)&&(p=d[R],p!=null&&Ft(s,o,R,p,d,null))}function vL(s,o,d,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,N=null,_=null,R=null,Y=null,se=null,ve=null;for(fe in d){var je=d[fe];if(d.hasOwnProperty(fe)&&je!=null)switch(fe){case"checked":break;case"value":break;case"defaultValue":Y=je;default:p.hasOwnProperty(fe)||Ft(s,o,fe,null,p,je)}}for(var ce in p){var fe=p[ce];if(je=d[ce],p.hasOwnProperty(ce)&&(fe!=null||je!=null))switch(ce){case"type":N=fe;break;case"name":b=fe;break;case"checked":se=fe;break;case"defaultChecked":ve=fe;break;case"value":_=fe;break;case"defaultValue":R=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(n(137,o));break;default:fe!==je&&Ft(s,o,ce,fe,p,je)}}Lx(s,_,R,Y,se,ve,N,b);return;case"select":fe=_=R=ce=null;for(N in d)if(Y=d[N],d.hasOwnProperty(N)&&Y!=null)switch(N){case"value":break;case"multiple":fe=Y;default:p.hasOwnProperty(N)||Ft(s,o,N,null,p,Y)}for(b in p)if(N=p[b],Y=d[b],p.hasOwnProperty(b)&&(N!=null||Y!=null))switch(b){case"value":ce=N;break;case"defaultValue":R=N;break;case"multiple":_=N;default:N!==Y&&Ft(s,o,b,N,p,Y)}o=R,d=_,p=fe,ce!=null?lo(s,!!d,ce,!1):!!p!=!!d&&(o!=null?lo(s,!!d,o,!0):lo(s,!!d,d?[]:"",!1));return;case"textarea":fe=ce=null;for(R in d)if(b=d[R],d.hasOwnProperty(R)&&b!=null&&!p.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Ft(s,o,R,null,p,b)}for(_ in p)if(b=p[_],N=d[_],p.hasOwnProperty(_)&&(b!=null||N!=null))switch(_){case"value":ce=b;break;case"defaultValue":fe=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(n(91));break;default:b!==N&&Ft(s,o,_,b,p,N)}Fw(s,ce,fe);return;case"option":for(var qe in d)ce=d[qe],d.hasOwnProperty(qe)&&ce!=null&&!p.hasOwnProperty(qe)&&(qe==="selected"?s.selected=!1:Ft(s,o,qe,null,p,ce));for(Y in p)ce=p[Y],fe=d[Y],p.hasOwnProperty(Y)&&ce!==fe&&(ce!=null||fe!=null)&&(Y==="selected"?s.selected=ce&&typeof ce!="function"&&typeof ce!="symbol":Ft(s,o,Y,ce,p,fe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in d)ce=d[Qe],d.hasOwnProperty(Qe)&&ce!=null&&!p.hasOwnProperty(Qe)&&Ft(s,o,Qe,null,p,ce);for(se in p)if(ce=p[se],fe=d[se],p.hasOwnProperty(se)&&ce!==fe&&(ce!=null||fe!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(n(137,o));break;default:Ft(s,o,se,ce,p,fe)}return;default:if(zx(o)){for(var zt in d)ce=d[zt],d.hasOwnProperty(zt)&&ce!==void 0&&!p.hasOwnProperty(zt)&&Cg(s,o,zt,void 0,p,ce);for(ve in p)ce=p[ve],fe=d[ve],!p.hasOwnProperty(ve)||ce===fe||ce===void 0&&fe===void 0||Cg(s,o,ve,ce,p,fe);return}}for(var te in d)ce=d[te],d.hasOwnProperty(te)&&ce!=null&&!p.hasOwnProperty(te)&&Ft(s,o,te,null,p,ce);for(je in p)ce=p[je],fe=d[je],!p.hasOwnProperty(je)||ce===fe||ce==null&&fe==null||Ft(s,o,je,ce,p,fe)}function qS(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gL(){if(typeof performance.getEntriesByType=="function"){for(var s=0,o=0,d=performance.getEntriesByType("resource"),p=0;p<d.length;p++){var b=d[p],N=b.transferSize,_=b.initiatorType,R=b.duration;if(N&&R&&qS(_)){for(_=0,R=b.responseEnd,p+=1;p<d.length;p++){var Y=d[p],se=Y.startTime;if(se>R)break;var ve=Y.transferSize,je=Y.initiatorType;ve&&qS(je)&&(Y=Y.responseEnd,_+=ve*(Y<R?1:(R-se)/(Y-se)))}if(--p,o+=8*(N+_)/(b.duration/1e3),s++,10<s)break}}if(0<s)return o/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Ag=null,kg=null;function im(s){return s.nodeType===9?s:s.ownerDocument}function HS(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function US(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function Mg(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Dg=null;function bL(){var s=window.event;return s&&s.type==="popstate"?s===Dg?!1:(Dg=s,!0):(Dg=null,!1)}var YS=typeof setTimeout=="function"?setTimeout:void 0,yL=typeof clearTimeout=="function"?clearTimeout:void 0,VS=typeof Promise=="function"?Promise:void 0,jL=typeof queueMicrotask=="function"?queueMicrotask:typeof VS<"u"?function(s){return VS.resolve(null).then(s).catch(wL)}:YS;function wL(s){setTimeout(function(){throw s})}function Cs(s){return s==="head"}function GS(s,o){var d=o,p=0;do{var b=d.nextSibling;if(s.removeChild(d),b&&b.nodeType===8)if(d=b.data,d==="/$"||d==="/&"){if(p===0){s.removeChild(b),Bo(o);return}p--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")p++;else if(d==="html")ku(s.ownerDocument.documentElement);else if(d==="head"){d=s.ownerDocument.head,ku(d);for(var N=d.firstChild;N;){var _=N.nextSibling,R=N.nodeName;N[nl]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&N.rel.toLowerCase()==="stylesheet"||d.removeChild(N),N=_}}else d==="body"&&ku(s.ownerDocument.body);d=b}while(d);Bo(o)}function WS(s,o){var d=s;s=0;do{var p=d.nextSibling;if(d.nodeType===1?o?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(o?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),p&&p.nodeType===8)if(d=p.data,d==="/$"){if(s===0)break;s--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||s++;d=p}while(d)}function Eg(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Eg(d),Vc(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}s.removeChild(d)}}function NL(s,o,d,p){for(;s.nodeType===1;){var b=d;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(p){if(!s[nl])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(N=s.getAttribute("rel"),N==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(N!==b.rel||s.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||s.getAttribute("title")!==(b.title==null?null:b.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(N=s.getAttribute("src"),(N!==(b.src==null?null:b.src)||s.getAttribute("type")!==(b.type==null?null:b.type)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&N&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var N=b.name==null?null:""+b.name;if(b.type==="hidden"&&s.getAttribute("name")===N)return s}else return s;if(s=Xn(s.nextSibling),s===null)break}return null}function SL(s,o,d){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!d||(s=Xn(s.nextSibling),s===null))return null;return s}function KS(s,o){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=Xn(s.nextSibling),s===null))return null;return s}function _g(s){return s.data==="$?"||s.data==="$~"}function Og(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function CL(s,o){var d=s.ownerDocument;if(s.data==="$~")s._reactRetry=o;else if(s.data!=="$?"||d.readyState!=="loading")o();else{var p=function(){o(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),s._reactRetry=p}}function Xn(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return s}var Tg=null;function QS(s){s=s.nextSibling;for(var o=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"||d==="/&"){if(o===0)return Xn(s.nextSibling);o--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||o++}s=s.nextSibling}return null}function XS(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(o===0)return s;o--}else d!=="/$"&&d!=="/&"||o++}s=s.previousSibling}return null}function ZS(s,o,d){switch(o=im(d),s){case"html":if(s=o.documentElement,!s)throw Error(n(452));return s;case"head":if(s=o.head,!s)throw Error(n(453));return s;case"body":if(s=o.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function ku(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);Vc(s)}var Zn=new Map,JS=new Set;function sm(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ei=U.d;U.d={f:AL,r:kL,D:ML,C:DL,L:EL,m:_L,X:TL,S:OL,M:PL};function AL(){var s=Ei.f(),o=Xf();return s||o}function kL(s){var o=ss(s);o!==null&&o.tag===5&&o.type==="form"?x2(o):Ei.r(s)}var Lo=typeof document>"u"?null:document;function eC(s,o,d){var p=Lo;if(p&&typeof o=="string"&&o){var b=Un(o);b='link[rel="'+s+'"][href="'+b+'"]',typeof d=="string"&&(b+='[crossorigin="'+d+'"]'),JS.has(b)||(JS.add(b),s={rel:s,crossOrigin:d,href:o},p.querySelector(b)===null&&(o=p.createElement("link"),Yr(o,"link",s),wr(o),p.head.appendChild(o)))}}function ML(s){Ei.D(s),eC("dns-prefetch",s,null)}function DL(s,o){Ei.C(s,o),eC("preconnect",s,o)}function EL(s,o,d){Ei.L(s,o,d);var p=Lo;if(p&&s&&o){var b='link[rel="preload"][as="'+Un(o)+'"]';o==="image"&&d&&d.imageSrcSet?(b+='[imagesrcset="'+Un(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(b+='[imagesizes="'+Un(d.imageSizes)+'"]')):b+='[href="'+Un(s)+'"]';var N=b;switch(o){case"style":N=Fo(s);break;case"script":N=zo(s)}Zn.has(N)||(s=x({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:s,as:o},d),Zn.set(N,s),p.querySelector(b)!==null||o==="style"&&p.querySelector(Mu(N))||o==="script"&&p.querySelector(Du(N))||(o=p.createElement("link"),Yr(o,"link",s),wr(o),p.head.appendChild(o)))}}function _L(s,o){Ei.m(s,o);var d=Lo;if(d&&s){var p=o&&typeof o.as=="string"?o.as:"script",b='link[rel="modulepreload"][as="'+Un(p)+'"][href="'+Un(s)+'"]',N=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=zo(s)}if(!Zn.has(N)&&(s=x({rel:"modulepreload",href:s},o),Zn.set(N,s),d.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Du(N)))return}p=d.createElement("link"),Yr(p,"link",s),wr(p),d.head.appendChild(p)}}}function OL(s,o,d){Ei.S(s,o,d);var p=Lo;if(p&&s){var b=ls(p).hoistableStyles,N=Fo(s);o=o||"default";var _=b.get(N);if(!_){var R={loading:0,preload:null};if(_=p.querySelector(Mu(N)))R.loading=5;else{s=x({rel:"stylesheet",href:s,"data-precedence":o},d),(d=Zn.get(N))&&Pg(s,d);var Y=_=p.createElement("link");wr(Y),Yr(Y,"link",s),Y._p=new Promise(function(se,ve){Y.onload=se,Y.onerror=ve}),Y.addEventListener("load",function(){R.loading|=1}),Y.addEventListener("error",function(){R.loading|=2}),R.loading|=4,lm(_,o,p)}_={type:"stylesheet",instance:_,count:1,state:R},b.set(N,_)}}}function TL(s,o){Ei.X(s,o);var d=Lo;if(d&&s){var p=ls(d).hoistableScripts,b=zo(s),N=p.get(b);N||(N=d.querySelector(Du(b)),N||(s=x({src:s,async:!0},o),(o=Zn.get(b))&&Ig(s,o),N=d.createElement("script"),wr(N),Yr(N,"link",s),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(b,N))}}function PL(s,o){Ei.M(s,o);var d=Lo;if(d&&s){var p=ls(d).hoistableScripts,b=zo(s),N=p.get(b);N||(N=d.querySelector(Du(b)),N||(s=x({src:s,async:!0,type:"module"},o),(o=Zn.get(b))&&Ig(s,o),N=d.createElement("script"),wr(N),Yr(N,"link",s),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(b,N))}}function tC(s,o,d,p){var b=(b=oe.current)?sm(b):null;if(!b)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=Fo(d.href),d=ls(b).hoistableStyles,p=d.get(o),p||(p={type:"style",instance:null,count:0,state:null},d.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){s=Fo(d.href);var N=ls(b).hoistableStyles,_=N.get(s);if(_||(b=b.ownerDocument||b,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(s,_),(N=b.querySelector(Mu(s)))&&!N._p&&(_.instance=N,_.state.loading=5),Zn.has(s)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Zn.set(s,d),N||IL(b,s,d,_.state))),o&&p===null)throw Error(n(528,""));return _}if(o&&p!==null)throw Error(n(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=zo(d),d=ls(b).hoistableScripts,p=d.get(o),p||(p={type:"script",instance:null,count:0,state:null},d.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function Fo(s){return'href="'+Un(s)+'"'}function Mu(s){return'link[rel="stylesheet"]['+s+"]"}function rC(s){return x({},s,{"data-precedence":s.precedence,precedence:null})}function IL(s,o,d,p){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=s.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),Yr(o,"link",d),wr(o),s.head.appendChild(o))}function zo(s){return'[src="'+Un(s)+'"]'}function Du(s){return"script[async]"+s}function nC(s,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var p=s.querySelector('style[data-href~="'+Un(d.href)+'"]');if(p)return o.instance=p,wr(p),p;var b=x({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(s.ownerDocument||s).createElement("style"),wr(p),Yr(p,"style",b),lm(p,d.precedence,s),o.instance=p;case"stylesheet":b=Fo(d.href);var N=s.querySelector(Mu(b));if(N)return o.state.loading|=4,o.instance=N,wr(N),N;p=rC(d),(b=Zn.get(b))&&Pg(p,b),N=(s.ownerDocument||s).createElement("link"),wr(N);var _=N;return _._p=new Promise(function(R,Y){_.onload=R,_.onerror=Y}),Yr(N,"link",p),o.state.loading|=4,lm(N,d.precedence,s),o.instance=N;case"script":return N=zo(d.src),(b=s.querySelector(Du(N)))?(o.instance=b,wr(b),b):(p=d,(b=Zn.get(N))&&(p=x({},d),Ig(p,b)),s=s.ownerDocument||s,b=s.createElement("script"),wr(b),Yr(b,"link",p),s.head.appendChild(b),o.instance=b);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,lm(p,d.precedence,s));return o.instance}function lm(s,o,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,N=b,_=0;_<p.length;_++){var R=p[_];if(R.dataset.precedence===o)N=R;else if(N!==b)break}N?N.parentNode.insertBefore(s,N.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(s,o.firstChild))}function Pg(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function Ig(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var om=null;function aC(s,o,d){if(om===null){var p=new Map,b=om=new Map;b.set(d,p)}else b=om,p=b.get(d),p||(p=new Map,b.set(d,p));if(p.has(s))return p;for(p.set(s,null),d=d.getElementsByTagName(s),b=0;b<d.length;b++){var N=d[b];if(!(N[nl]||N[Er]||s==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var _=N.getAttribute(o)||"";_=s+_;var R=p.get(_);R?R.push(N):p.set(_,[N])}}return p}function iC(s,o,d){s=s.ownerDocument||s,s.head.insertBefore(d,o==="title"?s.querySelector("head > title"):null)}function RL(s,o,d){if(d===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(s=o.disabled,typeof o.precedence=="string"&&s==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function sC(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function LL(s,o,d,p){if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var b=Fo(p.href),N=o.querySelector(Mu(b));if(N){o=N._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(s.count++,s=cm.bind(s),o.then(s,s)),d.state.loading|=4,d.instance=N,wr(N);return}N=o.ownerDocument||o,p=rC(p),(b=Zn.get(b))&&Pg(p,b),N=N.createElement("link"),wr(N);var _=N;_._p=new Promise(function(R,Y){_.onload=R,_.onerror=Y}),Yr(N,"link",p),d.instance=N}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(d,o),(o=d.state.preload)&&(d.state.loading&3)===0&&(s.count++,d=cm.bind(s),o.addEventListener("load",d),o.addEventListener("error",d))}}var Rg=0;function FL(s,o){return s.stylesheets&&s.count===0&&dm(s,s.stylesheets),0<s.count||0<s.imgCount?function(d){var p=setTimeout(function(){if(s.stylesheets&&dm(s,s.stylesheets),s.unsuspend){var N=s.unsuspend;s.unsuspend=null,N()}},6e4+o);0<s.imgBytes&&Rg===0&&(Rg=62500*gL());var b=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&dm(s,s.stylesheets),s.unsuspend)){var N=s.unsuspend;s.unsuspend=null,N()}},(s.imgBytes>Rg?50:800)+o);return s.unsuspend=d,function(){s.unsuspend=null,clearTimeout(p),clearTimeout(b)}}:null}function cm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dm(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var um=null;function dm(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,um=new Map,o.forEach(zL,s),um=null,cm.call(s))}function zL(s,o){if(!(o.state.loading&4)){var d=um.get(s);if(d)var p=d.get(null);else{d=new Map,um.set(s,d);for(var b=s.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<b.length;N++){var _=b[N];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(d.set(_.dataset.precedence,_),p=_)}p&&d.set(null,p)}b=o.instance,_=b.getAttribute("data-precedence"),N=d.get(_)||p,N===p&&d.set(null,b),d.set(_,b),this.count++,p=cm.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),N?N.parentNode.insertBefore(b,N.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(b,s.firstChild)),o.state.loading|=4}}var Eu={$$typeof:A,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function BL(s,o,d,p,b,N,_,R,Y){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xt(0),this.hiddenUpdates=Xt(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=N,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function lC(s,o,d,p,b,N,_,R,Y,se,ve,je){return s=new BL(s,o,d,_,Y,se,ve,je,R),o=1,N===!0&&(o|=24),N=Cn(3,null,null,o),s.current=N,N.stateNode=s,o=hv(),o.refCount++,s.pooledCache=o,o.refCount++,N.memoizedState={element:p,isDehydrated:d,cache:o},bv(N),s}function oC(s){return s?(s=xo,s):xo}function cC(s,o,d,p,b,N){b=oC(b),p.context===null?p.context=b:p.pendingContext=b,p=ps(o),p.payload={element:d},N=N===void 0?null:N,N!==null&&(p.callback=N),d=hs(s,p,o),d!==null&&(pn(d,s,o),ou(d,s,o))}function uC(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<o?d:o}}function Lg(s,o){uC(s,o),(s=s.alternate)&&uC(s,o)}function dC(s){if(s.tag===13||s.tag===31){var o=cl(s,67108864);o!==null&&pn(o,s,67108864),Lg(s,67108864)}}function fC(s){if(s.tag===13||s.tag===31){var o=En();o=Hc(o);var d=cl(s,o);d!==null&&pn(d,s,o),Lg(s,o)}}var fm=!0;function $L(s,o,d,p){var b=L.T;L.T=null;var N=U.p;try{U.p=2,Fg(s,o,d,p)}finally{U.p=N,L.T=b}}function qL(s,o,d,p){var b=L.T;L.T=null;var N=U.p;try{U.p=8,Fg(s,o,d,p)}finally{U.p=N,L.T=b}}function Fg(s,o,d,p){if(fm){var b=zg(p);if(b===null)Sg(s,o,p,mm,d),pC(s,p);else if(UL(b,s,o,d,p))p.stopPropagation();else if(pC(s,p),o&4&&-1<HL.indexOf(s)){for(;b!==null;){var N=ss(b);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var _=yt(N.pendingLanes);if(_!==0){var R=N;for(R.pendingLanes|=2,R.entangledLanes|=2;_;){var Y=1<<31-et(_);R.entanglements[1]|=Y,_&=~Y}za(N),(kt&6)===0&&(Kf=be()+500,Su(0))}}break;case 31:case 13:R=cl(N,2),R!==null&&pn(R,N,2),Xf(),Lg(N,2)}if(N=zg(p),N===null&&Sg(s,o,p,mm,d),N===b)break;b=N}b!==null&&p.stopPropagation()}else Sg(s,o,p,null,d)}}function zg(s){return s=$x(s),Bg(s)}var mm=null;function Bg(s){if(mm=null,s=is(s),s!==null){var o=l(s);if(o===null)s=null;else{var d=o.tag;if(d===13){if(s=c(o),s!==null)return s;s=null}else if(d===31){if(s=u(o),s!==null)return s;s=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return mm=s,null}function mC(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ke()){case G:return 2;case $:return 8;case Z:case we:return 32;case ze:return 268435456;default:return 32}default:return 32}}var $g=!1,As=null,ks=null,Ms=null,_u=new Map,Ou=new Map,Ds=[],HL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pC(s,o){switch(s){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":_u.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ou.delete(o.pointerId)}}function Tu(s,o,d,p,b,N){return s===null||s.nativeEvent!==N?(s={blockedOn:o,domEventName:d,eventSystemFlags:p,nativeEvent:N,targetContainers:[b]},o!==null&&(o=ss(o),o!==null&&dC(o)),s):(s.eventSystemFlags|=p,o=s.targetContainers,b!==null&&o.indexOf(b)===-1&&o.push(b),s)}function UL(s,o,d,p,b){switch(o){case"focusin":return As=Tu(As,s,o,d,p,b),!0;case"dragenter":return ks=Tu(ks,s,o,d,p,b),!0;case"mouseover":return Ms=Tu(Ms,s,o,d,p,b),!0;case"pointerover":var N=b.pointerId;return _u.set(N,Tu(_u.get(N)||null,s,o,d,p,b)),!0;case"gotpointercapture":return N=b.pointerId,Ou.set(N,Tu(Ou.get(N)||null,s,o,d,p,b)),!0}return!1}function hC(s){var o=is(s.target);if(o!==null){var d=l(o);if(d!==null){if(o=d.tag,o===13){if(o=c(d),o!==null){s.blockedOn=o,sf(s.priority,function(){fC(d)});return}}else if(o===31){if(o=u(d),o!==null){s.blockedOn=o,sf(s.priority,function(){fC(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function pm(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var d=zg(s.nativeEvent);if(d===null){d=s.nativeEvent;var p=new d.constructor(d.type,d);Bx=p,d.target.dispatchEvent(p),Bx=null}else return o=ss(d),o!==null&&dC(o),s.blockedOn=d,!1;o.shift()}return!0}function xC(s,o,d){pm(s)&&d.delete(o)}function YL(){$g=!1,As!==null&&pm(As)&&(As=null),ks!==null&&pm(ks)&&(ks=null),Ms!==null&&pm(Ms)&&(Ms=null),_u.forEach(xC),Ou.forEach(xC)}function hm(s,o){s.blockedOn===o&&(s.blockedOn=null,$g||($g=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,YL)))}var xm=null;function vC(s){xm!==s&&(xm=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){xm===s&&(xm=null);for(var o=0;o<s.length;o+=3){var d=s[o],p=s[o+1],b=s[o+2];if(typeof p!="function"){if(Bg(p||d)===null)continue;break}var N=ss(d);N!==null&&(s.splice(o,3),o-=3,zv(N,{pending:!0,data:b,method:d.method,action:p},p,b))}}))}function Bo(s){function o(Y){return hm(Y,s)}As!==null&&hm(As,s),ks!==null&&hm(ks,s),Ms!==null&&hm(Ms,s),_u.forEach(o),Ou.forEach(o);for(var d=0;d<Ds.length;d++){var p=Ds[d];p.blockedOn===s&&(p.blockedOn=null)}for(;0<Ds.length&&(d=Ds[0],d.blockedOn===null);)hC(d),d.blockedOn===null&&Ds.shift();if(d=(s.ownerDocument||s).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var b=d[p],N=d[p+1],_=b[Qr]||null;if(typeof N=="function")_||vC(d);else if(_){var R=null;if(N&&N.hasAttribute("formAction")){if(b=N,_=N[Qr]||null)R=_.formAction;else if(Bg(b)!==null)continue}else R=_.action;typeof R=="function"?d[p+1]=R:(d.splice(p,3),p-=3),vC(d)}}}function gC(){function s(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(_){return b=_})},focusReset:"manual",scroll:"manual"})}function o(){b!==null&&(b(),b=null),p||setTimeout(d,20)}function d(){if(!p&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,b=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(d,100),function(){p=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),b!==null&&(b(),b=null)}}}function qg(s){this._internalRoot=s}vm.prototype.render=qg.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));var d=o.current,p=En();cC(d,p,s,o,null,null)},vm.prototype.unmount=qg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;cC(s.current,2,null,s,null,null),Xf(),o[as]=null}};function vm(s){this._internalRoot=s}vm.prototype.unstable_scheduleHydration=function(s){if(s){var o=af();s={blockedOn:null,target:s,priority:o};for(var d=0;d<Ds.length&&o!==0&&o<Ds[d].priority;d++);Ds.splice(d,0,s),d===0&&hC(s)}};var bC=t.version;if(bC!=="19.2.4")throw Error(n(527,bC,"19.2.4"));U.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=m(o),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var VL={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gm.isDisabled&&gm.supportsFiber)try{Ue=gm.inject(VL),Be=gm}catch{}}return Iu.createRoot=function(s,o){if(!i(s))throw Error(n(299));var d=!1,p="",b=A2,N=k2,_=M2;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(b=o.onUncaughtError),o.onCaughtError!==void 0&&(N=o.onCaughtError),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),o=lC(s,1,!1,null,null,d,p,null,b,N,_,gC),s[as]=o.current,Ng(s),new qg(o)},Iu.hydrateRoot=function(s,o,d){if(!i(s))throw Error(n(299));var p=!1,b="",N=A2,_=k2,R=M2,Y=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onUncaughtError!==void 0&&(N=d.onUncaughtError),d.onCaughtError!==void 0&&(_=d.onCaughtError),d.onRecoverableError!==void 0&&(R=d.onRecoverableError),d.formState!==void 0&&(Y=d.formState)),o=lC(s,1,!0,o,d??null,p,b,Y,N,_,R,gC),o.context=oC(null),d=o.current,p=En(),p=Hc(p),b=ps(p),b.callback=null,hs(d,b,p),d=p,o.current.lanes=d,Hn(o,d),za(o),s[as]=o.current,Ng(s),new vm(o)},Iu.version="19.2.4",Iu}var DC;function r6(){if(DC)return Yg.exports;DC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Yg.exports=t6(),Yg.exports}var n6=r6();var EC="popstate";function a6(e={}){function t(n,i){let{pathname:l,search:c,hash:u}=n.location;return ry("",{pathname:l,search:c,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:od(i)}return s6(t,r,null,e)}function rr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Aa(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function i6(){return Math.random().toString(36).substring(2,10)}function _C(e,t){return{usr:e.state,key:e.key,idx:t}}function ry(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ac(t):t,state:r,key:t&&t.key||n||i6()}}function od({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ac(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function s6(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:l=!1}=n,c=i.history,u="POP",f=null,m=h();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function h(){return(c.state||{idx:null}).idx}function x(){u="POP";let w=h(),C=w==null?null:w-m;m=w,f&&f({action:u,location:y.location,delta:C})}function v(w,C){u="PUSH";let k=ry(y.location,w,C);m=h()+1;let A=_C(k,m),M=y.createHref(k);try{c.pushState(A,"",M)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(M)}l&&f&&f({action:u,location:y.location,delta:1})}function g(w,C){u="REPLACE";let k=ry(y.location,w,C);m=h();let A=_C(k,m),M=y.createHref(k);c.replaceState(A,"",M),l&&f&&f({action:u,location:y.location,delta:0})}function S(w){return l6(w)}let y={get action(){return u},get location(){return e(i,c)},listen(w){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(EC,x),f=w,()=>{i.removeEventListener(EC,x),f=null}},createHref(w){return t(i,w)},createURL:S,encodeLocation(w){let C=S(w);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:g,go(w){return c.go(w)}};return y}function l6(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),rr(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:od(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function s_(e,t,r="/"){return o6(e,t,r,!1)}function o6(e,t,r,n){let i=typeof t=="string"?Ac(t):t,l=$i(i.pathname||"/",r);if(l==null)return null;let c=l_(e);c6(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let m=y6(l);u=g6(c[f],m,n)}return u}function l_(e,t=[],r=[],n="",i=!1){let l=(c,u,f=i,m)=>{let h={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&f)return;rr(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let x=Li([n,h.relativePath]),v=r.concat(h);c.children&&c.children.length>0&&(rr(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),l_(c.children,t,v,x,f)),!(c.path==null&&!c.index)&&t.push({path:x,score:x6(x,c.index),routesMeta:v})};return e.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))l(c,u);else for(let f of o_(c.path))l(c,u,!0,f)}),t}function o_(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return i?[l,""]:[l];let c=o_(n.join("/")),u=[];return u.push(...c.map(f=>f===""?l:[l,f].join("/"))),i&&u.push(...c),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function c6(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:v6(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var u6=/^:[\w-]+$/,d6=3,f6=2,m6=1,p6=10,h6=-2,OC=e=>e==="*";function x6(e,t){let r=e.split("/"),n=r.length;return r.some(OC)&&(n+=h6),t&&(n+=f6),r.filter(i=>!OC(i)).reduce((i,l)=>i+(u6.test(l)?d6:l===""?m6:p6),n)}function v6(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function g6(e,t,r=!1){let{routesMeta:n}=e,i={},l="/",c=[];for(let u=0;u<n.length;++u){let f=n[u],m=u===n.length-1,h=l==="/"?t:t.slice(l.length)||"/",x=Np({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},h),v=f.route;if(!x&&m&&r&&!n[n.length-1].route.index&&(x=Np({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},h)),!x)return null;Object.assign(i,x.params),c.push({params:i,pathname:Li([l,x.pathname]),pathnameBase:S6(Li([l,x.pathnameBase])),route:v}),x.pathnameBase!=="/"&&(l=Li([l,x.pathnameBase]))}return c}function Np(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=b6(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let l=i[0],c=l.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((m,{paramName:h,isOptional:x},v)=>{if(h==="*"){let S=u[v]||"";c=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const g=u[v];return x&&!g?m[h]=void 0:m[h]=(g||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:e}}function b6(e,t=!1,r=!0){Aa(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(n.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function y6(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Aa(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function $i(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var j6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function w6(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Ac(e):e,l;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?l=TC(r.substring(1),"/"):l=TC(r,t)):l=t,{pathname:l,search:C6(n),hash:A6(i)}}function TC(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Kg(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function N6(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function p1(e){let t=N6(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function h1(e,t,r,n=!1){let i;typeof e=="string"?i=Ac(e):(i={...e},rr(!i.pathname||!i.pathname.includes("?"),Kg("?","pathname","search",i)),rr(!i.pathname||!i.pathname.includes("#"),Kg("#","pathname","hash",i)),rr(!i.search||!i.search.includes("#"),Kg("#","search","hash",i)));let l=e===""||i.pathname==="",c=l?"/":i.pathname,u;if(c==null)u=r;else{let x=t.length-1;if(!n&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),x-=1;i.pathname=v.join("/")}u=x>=0?t[x]:"/"}let f=w6(i,u),m=c&&c!=="/"&&c.endsWith("/"),h=(l||c===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(m||h)&&(f.pathname+="/"),f}var Li=e=>e.join("/").replace(/\/\/+/g,"/"),S6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),C6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,A6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,k6=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function M6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function D6(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var c_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function u_(e,t){let r=e;if(typeof r!="string"||!j6.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,i=!1;if(c_)try{let l=new URL(window.location.href),c=r.startsWith("//")?new URL(l.protocol+r):new URL(r),u=$i(c.pathname,t);c.origin===l.origin&&u!=null?r=u+c.search+c.hash:i=!0}catch{Aa(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:i,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var d_=["POST","PUT","PATCH","DELETE"];new Set(d_);var E6=["GET",...d_];new Set(E6);var kc=j.createContext(null);kc.displayName="DataRouter";var Ih=j.createContext(null);Ih.displayName="DataRouterState";var _6=j.createContext(!1),f_=j.createContext({isTransitioning:!1});f_.displayName="ViewTransition";var O6=j.createContext(new Map);O6.displayName="Fetchers";var T6=j.createContext(null);T6.displayName="Await";var qn=j.createContext(null);qn.displayName="Navigation";var Dd=j.createContext(null);Dd.displayName="Location";var Da=j.createContext({outlet:null,matches:[],isDataRoute:!1});Da.displayName="Route";var x1=j.createContext(null);x1.displayName="RouteError";var m_="REACT_ROUTER_ERROR",P6="REDIRECT",I6="ROUTE_ERROR_RESPONSE";function R6(e){if(e.startsWith(`${m_}:${P6}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function L6(e){if(e.startsWith(`${m_}:${I6}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new k6(t.status,t.statusText,t.data)}catch{}}function F6(e,{relative:t}={}){rr(Mc(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=j.useContext(qn),{hash:i,pathname:l,search:c}=Ed(e,{relative:t}),u=l;return r!=="/"&&(u=l==="/"?r:Li([r,l])),n.createHref({pathname:u,search:c,hash:i})}function Mc(){return j.useContext(Dd)!=null}function Ea(){return rr(Mc(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Dd).location}var p_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function h_(e){j.useContext(qn).static||j.useLayoutEffect(e)}function Gs(){let{isDataRoute:e}=j.useContext(Da);return e?J6():z6()}function z6(){rr(Mc(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(kc),{basename:t,navigator:r}=j.useContext(qn),{matches:n}=j.useContext(Da),{pathname:i}=Ea(),l=JSON.stringify(p1(n)),c=j.useRef(!1);return h_(()=>{c.current=!0}),j.useCallback((f,m={})=>{if(Aa(c.current,p_),!c.current)return;if(typeof f=="number"){r.go(f);return}let h=h1(f,JSON.parse(l),i,m.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Li([t,h.pathname])),(m.replace?r.replace:r.push)(h,m.state,m)},[t,r,l,i,e])}var B6=j.createContext(null);function $6(e){let t=j.useContext(Da).outlet;return j.useMemo(()=>t&&j.createElement(B6.Provider,{value:e},t),[t,e])}function Ed(e,{relative:t}={}){let{matches:r}=j.useContext(Da),{pathname:n}=Ea(),i=JSON.stringify(p1(r));return j.useMemo(()=>h1(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function q6(e,t){return x_(e,t)}function x_(e,t,r,n,i){rr(Mc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=j.useContext(qn),{matches:c}=j.useContext(Da),u=c[c.length-1],f=u?u.params:{},m=u?u.pathname:"/",h=u?u.pathnameBase:"/",x=u&&u.route;{let k=x&&x.path||"";g_(m,!x||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let v=Ea(),g;if(t){let k=typeof t=="string"?Ac(t):t;rr(h==="/"||k.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${k.pathname}" was given in the \`location\` prop.`),g=k}else g=v;let S=g.pathname||"/",y=S;if(h!=="/"){let k=h.replace(/^\//,"").split("/");y="/"+S.replace(/^\//,"").split("/").slice(k.length).join("/")}let w=s_(e,{pathname:y});Aa(x||w!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Aa(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=G6(w&&w.map(k=>Object.assign({},k,{params:Object.assign({},f,k.params),pathname:Li([h,l.encodeLocation?l.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?h:Li([h,l.encodeLocation?l.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),c,r,n,i);return t&&C?j.createElement(Dd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},C):C}function H6(){let e=Z6(),t=M6(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},l={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:l},"ErrorBoundary")," or"," ",j.createElement("code",{style:l},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:i},r):null,c)}var U6=j.createElement(H6,null),v_=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=L6(e.digest);r&&(e=r)}let t=e!==void 0?j.createElement(Da.Provider,{value:this.props.routeContext},j.createElement(x1.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?j.createElement(Y6,{error:e},t):t}};v_.contextType=_6;var Qg=new WeakMap;function Y6({children:e,error:t}){let{basename:r}=j.useContext(qn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=R6(t.digest);if(n){let i=Qg.get(t);if(i)throw i;let l=u_(n.location,r);if(c_&&!Qg.get(t))if(l.isExternal||n.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:n.replace}));throw Qg.set(t,c),c}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return e}function V6({routeContext:e,match:t,children:r}){let n=j.useContext(kc);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(Da.Provider,{value:e},r)}function G6(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,c=r?.errors;if(c!=null){let h=l.findIndex(x=>x.route.id&&c?.[x.route.id]!==void 0);rr(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,h+1))}let u=!1,f=-1;if(r)for(let h=0;h<l.length;h++){let x=l[h];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(f=h),x.route.id){let{loaderData:v,errors:g}=r,S=x.route.loader&&!v.hasOwnProperty(x.route.id)&&(!g||g[x.route.id]===void 0);if(x.route.lazy||S){u=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let m=r&&n?(h,x)=>{n(h,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:D6(r.matches),errorInfo:x})}:void 0;return l.reduceRight((h,x,v)=>{let g,S=!1,y=null,w=null;r&&(g=c&&x.route.id?c[x.route.id]:void 0,y=x.route.errorElement||U6,u&&(f<0&&v===0?(g_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,w=null):f===v&&(S=!0,w=x.route.hydrateFallbackElement||null)));let C=t.concat(l.slice(0,v+1)),k=()=>{let A;return g?A=y:S?A=w:x.route.Component?A=j.createElement(x.route.Component,null):x.route.element?A=x.route.element:A=h,j.createElement(V6,{match:x,routeContext:{outlet:h,matches:C,isDataRoute:r!=null},children:A})};return r&&(x.route.ErrorBoundary||x.route.errorElement||v===0)?j.createElement(v_,{location:r.location,revalidation:r.revalidation,component:y,error:g,children:k(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:m}):k()},null)}function v1(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function W6(e){let t=j.useContext(kc);return rr(t,v1(e)),t}function K6(e){let t=j.useContext(Ih);return rr(t,v1(e)),t}function Q6(e){let t=j.useContext(Da);return rr(t,v1(e)),t}function g1(e){let t=Q6(e),r=t.matches[t.matches.length-1];return rr(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function X6(){return g1("useRouteId")}function Z6(){let e=j.useContext(x1),t=K6("useRouteError"),r=g1("useRouteError");return e!==void 0?e:t.errors?.[r]}function J6(){let{router:e}=W6("useNavigate"),t=g1("useNavigate"),r=j.useRef(!1);return h_(()=>{r.current=!0}),j.useCallback(async(i,l={})=>{Aa(r.current,p_),r.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...l}))},[e,t])}var PC={};function g_(e,t,r){!t&&!PC[e]&&(PC[e]=!0,Aa(!1,r))}j.memo(e8);function e8({routes:e,future:t,state:r,onError:n}){return x_(e,void 0,r,n,t)}function ny({to:e,replace:t,state:r,relative:n}){rr(Mc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=j.useContext(qn);Aa(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=j.useContext(Da),{pathname:c}=Ea(),u=Gs(),f=h1(e,p1(l),c,n==="path"),m=JSON.stringify(f);return j.useEffect(()=>{u(JSON.parse(m),{replace:t,state:r,relative:n})},[u,m,n,t,r]),null}function b_(e){return $6(e.context)}function Jt(e){rr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function t8({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:l=!1,unstable_useTransitions:c}){rr(!Mc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),f=j.useMemo(()=>({basename:u,navigator:i,static:l,unstable_useTransitions:c,future:{}}),[u,i,l,c]);typeof r=="string"&&(r=Ac(r));let{pathname:m="/",search:h="",hash:x="",state:v=null,key:g="default"}=r,S=j.useMemo(()=>{let y=$i(m,u);return y==null?null:{location:{pathname:y,search:h,hash:x,state:v,key:g},navigationType:n}},[u,m,h,x,v,g,n]);return Aa(S!=null,`<Router basename="${u}"> is not able to match the URL "${m}${h}${x}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:j.createElement(qn.Provider,{value:f},j.createElement(Dd.Provider,{children:t,value:S}))}function r8({children:e,location:t}){return q6(ay(e),t)}function ay(e,t=[]){let r=[];return j.Children.forEach(e,(n,i)=>{if(!j.isValidElement(n))return;let l=[...t,i];if(n.type===j.Fragment){r.push.apply(r,ay(n.props.children,l));return}rr(n.type===Jt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=ay(n.props.children,l)),r.push(c)}),r}var lp="get",op="application/x-www-form-urlencoded";function Rh(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function n8(e){return Rh(e)&&e.tagName.toLowerCase()==="button"}function a8(e){return Rh(e)&&e.tagName.toLowerCase()==="form"}function i8(e){return Rh(e)&&e.tagName.toLowerCase()==="input"}function s8(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function l8(e,t){return e.button===0&&(!t||t==="_self")&&!s8(e)}var bm=null;function o8(){if(bm===null)try{new FormData(document.createElement("form"),0),bm=!1}catch{bm=!0}return bm}var c8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xg(e){return e!=null&&!c8.has(e)?(Aa(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${op}"`),null):e}function u8(e,t){let r,n,i,l,c;if(a8(e)){let u=e.getAttribute("action");n=u?$i(u,t):null,r=e.getAttribute("method")||lp,i=Xg(e.getAttribute("enctype"))||op,l=new FormData(e)}else if(n8(e)||i8(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||u.getAttribute("action");if(n=f?$i(f,t):null,r=e.getAttribute("formmethod")||u.getAttribute("method")||lp,i=Xg(e.getAttribute("formenctype"))||Xg(u.getAttribute("enctype"))||op,l=new FormData(u,e),!o8()){let{name:m,type:h,value:x}=e;if(h==="image"){let v=m?`${m}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else m&&l.append(m,x)}}else{if(Rh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=lp,n=null,i=op,c=e}return l&&i==="text/plain"&&(c=l,l=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function b1(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function d8(e,t,r,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${n}`:i.pathname=`${i.pathname}.${n}`:i.pathname==="/"?i.pathname=`_root.${n}`:t&&$i(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function f8(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function m8(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function p8(e,t,r){let n=await Promise.all(e.map(async i=>{let l=t.routes[i.route.id];if(l){let c=await f8(l,r);return c.links?c.links():[]}return[]}));return g8(n.flat(1).filter(m8).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function IC(e,t,r,n,i,l){let c=(f,m)=>r[m]?f.route.id!==r[m].route.id:!0,u=(f,m)=>r[m].pathname!==f.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==f.params["*"];return l==="assets"?t.filter((f,m)=>c(f,m)||u(f,m)):l==="data"?t.filter((f,m)=>{let h=n.routes[f.route.id];if(!h||!h.hasLoader)return!1;if(c(f,m)||u(f,m))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function h8(e,t,{includeHydrateFallback:r}={}){return x8(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function x8(e){return[...new Set(e)]}function v8(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function g8(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let l=JSON.stringify(v8(i));return r.has(l)||(r.add(l),n.push({key:l,link:i})),n},[])}function y_(){let e=j.useContext(kc);return b1(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function b8(){let e=j.useContext(Ih);return b1(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var y1=j.createContext(void 0);y1.displayName="FrameworkContext";function j_(){let e=j.useContext(y1);return b1(e,"You must render this element inside a <HydratedRouter> element"),e}function y8(e,t){let r=j.useContext(y1),[n,i]=j.useState(!1),[l,c]=j.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:m,onMouseLeave:h,onTouchStart:x}=t,v=j.useRef(null);j.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let y=C=>{C.forEach(k=>{c(k.isIntersecting)})},w=new IntersectionObserver(y,{threshold:.5});return v.current&&w.observe(v.current),()=>{w.disconnect()}}},[e]),j.useEffect(()=>{if(n){let y=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(y)}}},[n]);let g=()=>{i(!0)},S=()=>{i(!1),c(!1)};return r?e!=="intent"?[l,v,{}]:[l,v,{onFocus:Ru(u,g),onBlur:Ru(f,S),onMouseEnter:Ru(m,g),onMouseLeave:Ru(h,S),onTouchStart:Ru(x,g)}]:[!1,v,{}]}function Ru(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function j8({page:e,...t}){let{router:r}=y_(),n=j.useMemo(()=>s_(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?j.createElement(N8,{page:e,matches:n,...t}):null}function w8(e){let{manifest:t,routeModules:r}=j_(),[n,i]=j.useState([]);return j.useEffect(()=>{let l=!1;return p8(e,t,r).then(c=>{l||i(c)}),()=>{l=!0}},[e,t,r]),n}function N8({page:e,matches:t,...r}){let n=Ea(),{future:i,manifest:l,routeModules:c}=j_(),{basename:u}=y_(),{loaderData:f,matches:m}=b8(),h=j.useMemo(()=>IC(e,t,m,l,n,"data"),[e,t,m,l,n]),x=j.useMemo(()=>IC(e,t,m,l,n,"assets"),[e,t,m,l,n]),v=j.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let y=new Set,w=!1;if(t.forEach(k=>{let A=l.routes[k.route.id];!A||!A.hasLoader||(!h.some(M=>M.route.id===k.route.id)&&k.route.id in f&&c[k.route.id]?.shouldRevalidate||A.hasClientLoader?w=!0:y.add(k.route.id))}),y.size===0)return[];let C=d8(e,u,i.unstable_trailingSlashAwareDataRequests,"data");return w&&y.size>0&&C.searchParams.set("_routes",t.filter(k=>y.has(k.route.id)).map(k=>k.route.id).join(",")),[C.pathname+C.search]},[u,i.unstable_trailingSlashAwareDataRequests,f,n,l,h,t,e,c]),g=j.useMemo(()=>h8(x,l),[x,l]),S=w8(x);return j.createElement(j.Fragment,null,v.map(y=>j.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),g.map(y=>j.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),S.map(({key:y,link:w})=>j.createElement("link",{key:y,nonce:r.nonce,...w,crossOrigin:w.crossOrigin??r.crossOrigin})))}function S8(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var C8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{C8&&(window.__reactRouterVersion="7.13.0")}catch{}function A8({basename:e,children:t,unstable_useTransitions:r,window:n}){let i=j.useRef();i.current==null&&(i.current=a6({window:n,v5Compat:!0}));let l=i.current,[c,u]=j.useState({action:l.action,location:l.location}),f=j.useCallback(m=>{r===!1?u(m):j.startTransition(()=>u(m))},[r]);return j.useLayoutEffect(()=>l.listen(f),[l,f]),j.createElement(t8,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:r})}var w_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_l=j.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:l,replace:c,state:u,target:f,to:m,preventScrollReset:h,viewTransition:x,unstable_defaultShouldRevalidate:v,...g},S){let{basename:y,unstable_useTransitions:w}=j.useContext(qn),C=typeof m=="string"&&w_.test(m),k=u_(m,y);m=k.to;let A=F6(m,{relative:i}),[M,D,T]=y8(n,g),I=D8(m,{replace:c,state:u,target:f,preventScrollReset:h,relative:i,viewTransition:x,unstable_defaultShouldRevalidate:v,unstable_useTransitions:w});function O(F){t&&t(F),F.defaultPrevented||I(F)}let z=j.createElement("a",{...g,...T,href:k.absoluteURL||A,onClick:k.isExternal||l?t:O,ref:S8(S,D),target:f,"data-discover":!C&&r==="render"?"true":void 0});return M&&!C?j.createElement(j.Fragment,null,z,j.createElement(j8,{page:A})):z});_l.displayName="Link";var N_=j.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:l,to:c,viewTransition:u,children:f,...m},h){let x=Ed(c,{relative:m.relative}),v=Ea(),g=j.useContext(Ih),{navigator:S,basename:y}=j.useContext(qn),w=g!=null&&P8(x)&&u===!0,C=S.encodeLocation?S.encodeLocation(x).pathname:x.pathname,k=v.pathname,A=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(k=k.toLowerCase(),A=A?A.toLowerCase():null,C=C.toLowerCase()),A&&y&&(A=$i(A,y)||A);const M=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let D=k===C||!i&&k.startsWith(C)&&k.charAt(M)==="/",T=A!=null&&(A===C||!i&&A.startsWith(C)&&A.charAt(C.length)==="/"),I={isActive:D,isPending:T,isTransitioning:w},O=D?t:void 0,z;typeof n=="function"?z=n(I):z=[n,D?"active":null,T?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let F=typeof l=="function"?l(I):l;return j.createElement(_l,{...m,"aria-current":O,className:z,ref:h,style:F,to:c,viewTransition:u},typeof f=="function"?f(I):f)});N_.displayName="NavLink";var k8=j.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:l,method:c=lp,action:u,onSubmit:f,relative:m,preventScrollReset:h,viewTransition:x,unstable_defaultShouldRevalidate:v,...g},S)=>{let{unstable_useTransitions:y}=j.useContext(qn),w=O8(),C=T8(u,{relative:m}),k=c.toLowerCase()==="get"?"get":"post",A=typeof u=="string"&&w_.test(u),M=D=>{if(f&&f(D),D.defaultPrevented)return;D.preventDefault();let T=D.nativeEvent.submitter,I=T?.getAttribute("formmethod")||c,O=()=>w(T||D.currentTarget,{fetcherKey:t,method:I,navigate:r,replace:i,state:l,relative:m,preventScrollReset:h,viewTransition:x,unstable_defaultShouldRevalidate:v});y&&r!==!1?j.startTransition(()=>O()):O()};return j.createElement("form",{ref:S,method:k,action:C,onSubmit:n?f:M,...g,"data-discover":!A&&e==="render"?"true":void 0})});k8.displayName="Form";function M8(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S_(e){let t=j.useContext(kc);return rr(t,M8(e)),t}function D8(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:u,unstable_useTransitions:f}={}){let m=Gs(),h=Ea(),x=Ed(e,{relative:l});return j.useCallback(v=>{if(l8(v,t)){v.preventDefault();let g=r!==void 0?r:od(h)===od(x),S=()=>m(e,{replace:g,state:n,preventScrollReset:i,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:u});f?j.startTransition(()=>S()):S()}},[h,m,x,r,n,t,e,i,l,c,u,f])}var E8=0,_8=()=>`__${String(++E8)}__`;function O8(){let{router:e}=S_("useSubmit"),{basename:t}=j.useContext(qn),r=X6(),n=e.fetch,i=e.navigate;return j.useCallback(async(l,c={})=>{let{action:u,method:f,encType:m,formData:h,body:x}=u8(l,t);if(c.navigate===!1){let v=c.fetcherKey||_8();await n(v,r,c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:h,body:x,formMethod:c.method||f,formEncType:c.encType||m,flushSync:c.flushSync})}else await i(c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:h,body:x,formMethod:c.method||f,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:r,flushSync:c.flushSync,viewTransition:c.viewTransition})},[n,i,t,r])}function T8(e,{relative:t}={}){let{basename:r}=j.useContext(qn),n=j.useContext(Da);rr(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),l={...Ed(e||".",{relative:t})},c=Ea();if(e==null){l.search=c.search;let u=new URLSearchParams(l.search),f=u.getAll("index");if(f.some(h=>h==="")){u.delete("index"),f.filter(x=>x).forEach(x=>u.append("index",x));let h=u.toString();l.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:Li([r,l.pathname])),od(l)}function P8(e,{relative:t}={}){let r=j.useContext(f_);rr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=S_("useViewTransitionState"),i=Ed(e,{relative:t});if(!r.isTransitioning)return!1;let l=$i(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=$i(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Np(i.pathname,c)!=null||Np(i.pathname,l)!=null}var Dc=i_();const I8=si(Dc),R8="AKfycbxNnsmrDH4amuH7TBH-C7QGngbEMics1MQrmHpKIr2o6MGV5i36z-IAArogJdE4W_8a",j1="cf_access_token",w1="cf_token_expiry",N1="cf_user_name";function Sp(){const e=localStorage.getItem(w1);return e&&Date.now()>Number(e)?(cp(),null):localStorage.getItem(j1)}function RC(e,t=3500){localStorage.setItem(j1,e),localStorage.setItem(w1,String(Date.now()+t*1e3))}function cp(){localStorage.removeItem(j1),localStorage.removeItem(w1),localStorage.removeItem(N1)}function LC(){return!!Sp()}function FC(e){localStorage.setItem(N1,e)}function L8(){return localStorage.getItem(N1)||""}let iy=null;function F8(e){iy=e}async function Oe(e,t={},r=!0){const n=Sp();if(!n)throw new Error("Not authenticated. Please sign in.");const u=await(await fetch(`https://script.googleapis.com/v1/scripts/${R8}:run`,{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({function:"apiRouter",devMode:!1,parameters:[{action:e,params:t,userName:L8()}]})})).json();if(u.error){if(r&&(u.error.code===401||u.error.code===403||u.error.status==="UNAUTHENTICATED"||u.error.status==="PERMISSION_DENIED")&&iy)try{return await iy(),Oe(e,t,!1)}catch{}if(u.error.details&&u.error.details.length>0){const f=u.error.details[0];throw new Error(f.errorMessage||"Script execution error")}throw new Error(u.error.message||"API error")}if(u.response&&u.response.result!==void 0){const f=u.response.result;if(f&&!f.success){const h=new Error(f.error||"Unknown error");throw h.code=f.code,h}const m=f?f.data:null;if(m&&m.success===!1)throw new Error(m.message||"Operation failed");return m}throw new Error("Unexpected response format")}const zC=()=>Oe("auth:me"),z8=(e,t)=>Oe("auth:invite",{email:e,name:t}),Cp=()=>Oe("data:load-all"),C_=()=>Oe("members:list"),A_=e=>Oe("member:create",e),k_=e=>Oe("member:update",e),M_=e=>Oe("member:delete",{memberId:e}),D_=()=>Oe("banks:list"),E_=e=>Oe("bank:create",e),B8=e=>Oe("bank:update",e),__=e=>Oe("bank:delete",{accountId:e}),O_=()=>Oe("invaccounts:list"),T_=e=>Oe("invacct:create",e),$8=e=>Oe("invacct:update",e),P_=e=>Oe("invacct:delete",{accountId:e}),q8=()=>Oe("portfolios:list"),H8=e=>Oe("portfolio:create",e),U8=e=>Oe("portfolio:update",e),Y8=e=>Oe("portfolio:delete",{portfolioId:e}),V8=e=>Oe("mf:invest",e),G8=e=>Oe("mf:redeem",e),W8=e=>Oe("mf:switch",e),K8=(e,t)=>Oe("mf:allocations-update",{portfolioId:e,allocations:t}),Q8=()=>Oe("funds:all"),X8=e=>Oe("asset-allocation:save",e),I_=()=>Oe("goals:list"),R_=e=>Oe("goal:create",e),Z8=(e,t)=>Oe("goal:update",{goalId:e,...t}),L_=e=>Oe("goal:delete",{goalId:e}),J8=()=>Oe("goal:mappings-list"),eF=(e,t)=>Oe("goal:mappings-update",{goalId:e,mappings:t}),F_=()=>Oe("insurance:list"),z_=e=>Oe("insurance:create",e),tF=e=>Oe("insurance:update",e),B_=e=>Oe("insurance:delete",{policyId:e}),$_=()=>Oe("liabilities:list"),q_=e=>Oe("liability:create",e),rF=e=>Oe("liability:update",e),H_=e=>Oe("liability:delete",{liabilityId:e}),U_=()=>Oe("otherinv:list"),Y_=e=>Oe("otherinv:create",e),nF=e=>Oe("otherinv:update",e),V_=e=>Oe("otherinv:delete",{investmentId:e}),G_=()=>Oe("stock-portfolios:list"),W_=e=>Oe("stock-portfolio:create",e),aF=e=>Oe("stock-portfolio:update",e),K_=e=>Oe("stock-portfolio:delete",{portfolioId:e}),iF=()=>Oe("stocks:all"),sF=e=>Oe("stock:price",{symbol:e}),lF=e=>Oe("stock:buy",e),oF=e=>Oe("stock:sell",e),cF=e=>Oe("mf-transaction:delete",{transactionId:e}),uF=e=>Oe("mf-transaction:edit",e),dF=e=>Oe("stock-transaction:edit",e),fF=e=>Oe("stock-transaction:delete",{transactionId:e}),mF=()=>Oe("mf-holdings:list"),pF=()=>Oe("mf-transactions:list"),hF=()=>Oe("stock-holdings:list-all"),xF=()=>Oe("stock-transactions:list-all"),Q_=()=>Oe("reminders:list"),X_=e=>Oe("reminder:create",e),vF=e=>Oe("reminder:update",e),Z_=e=>Oe("reminder:delete",{reminderId:e}),gF=e=>Oe("healthcheck:save",e),J_=()=>Oe("healthcheck:get"),bF=()=>Oe("settings:list"),yF=e=>Oe("settings:update",e),jF=()=>Oe("market:data"),wF=()=>Oe("data:refresh-master"),NF=(e,t)=>Oe("email:send-dashboard-pdf",{pdfBase64:e,fileName:t});typeof window<"u"&&(window._cf={callAPI:Oe,checkTriggers:()=>Oe("test:triggers"),diagnose:()=>Oe("test:diagnose")});const SF="capital-friends",CF=1,jn="cache";let Lu=null;function Ec(){return Lu||(Lu=new Promise((e,t)=>{const r=indexedDB.open(SF,CF);r.onupgradeneeded=n=>{const i=n.target.result;i.objectStoreNames.contains(jn)||i.createObjectStore(jn,{keyPath:"key"})},r.onsuccess=()=>e(r.result),r.onerror=()=>{console.warn("[idb] Failed to open database:",r.error),Lu=null,t(r.error)}}),Lu)}async function eO(e){try{const t=await Ec();return new Promise(r=>{const i=t.transaction(jn,"readonly").objectStore(jn).get(e);i.onsuccess=()=>r(i.result?i.result.data:null),i.onerror=()=>r(null)})}catch{return null}}async function tO(e){try{const t=await Ec();return new Promise(r=>{const i=t.transaction(jn,"readonly").objectStore(jn).get(e);i.onsuccess=()=>r(i.result||null),i.onerror=()=>r(null)})}catch{return null}}async function rn(e,t){try{const r=await Ec();return new Promise(n=>{const i=r.transaction(jn,"readwrite");i.objectStore(jn).put({key:e,data:t,updatedAt:Date.now()}),i.oncomplete=()=>n(),i.onerror=()=>n()})}catch{}}async function AF(){try{const e=await Ec();return new Promise(t=>{const n=e.transaction(jn,"readonly").objectStore(jn).getAll();n.onsuccess=()=>{const i={};for(const l of n.result||[])i[l.key]=l.data;t(i)},n.onerror=()=>t({})})}catch{return{}}}async function Zg(e){try{const t=await Ec();return new Promise(r=>{const n=t.transaction(jn,"readwrite"),i=n.objectStore(jn),l=Date.now();for(const[c,u]of Object.entries(e))i.put({key:c,data:u,updatedAt:l});n.oncomplete=()=>r(),n.onerror=()=>r()})}catch{}}async function kF(){try{const e=await Ec();return new Promise(t=>{const r=e.transaction(jn,"readwrite");r.objectStore(jn).clear(),r.oncomplete=()=>t(),r.onerror=()=>t()})}catch{}}const rO=j.createContext(null),MF="868467315292-7hfrvkh8pq8f1e2l3v38m6qrupboa295.apps.googleusercontent.com",DF=["https://www.googleapis.com/auth/spreadsheets","https://www.googleapis.com/auth/drive","https://www.googleapis.com/auth/gmail.send","https://www.googleapis.com/auth/script.scriptapp","openid","email","profile"].join(" "),S1="cf_user_profile";function BC(){try{const e=localStorage.getItem(S1);return e?JSON.parse(e):null}catch{return null}}function EF(e){try{localStorage.setItem(S1,JSON.stringify(e))}catch{}}function $C(){localStorage.removeItem(S1)}function _F({children:e}){const t=LC()?BC():null,[r,n]=j.useState(t),[i,l]=j.useState(!t),[c,u]=j.useState(null),f=j.useRef(null);function m(C){n(C),C?EF(C):$C()}j.useEffect(()=>{const C=()=>{if(!window.google?.accounts?.oauth2){setTimeout(C,200);return}f.current=window.google.accounts.oauth2.initTokenClient({client_id:MF,scope:DF,callback:h}),F8(g),LC()?v():l(!1)};C()},[]);async function h(C){if(C.error){u(C.error_description||C.error),l(!1);return}try{l(!0),u(null),RC(C.access_token,C.expires_in);const k=await x(C.access_token);FC(k.name||"");const A=await zC();m({email:A.email||k.email,name:A.name||k.name,role:A.role,picture:k.picture||""})}catch(k){u(k.message),cp(),m(null)}finally{l(!1)}}async function x(C){const k=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${C}`}});if(!k.ok)throw new Error("Failed to fetch user profile");return k.json()}async function v(){const C=!!BC();try{const k=Sp(),A=await x(k);FC(A.name||"");const M=await zC();m({email:M.email||A.email,name:M.name||A.name,role:M.role,picture:A.picture||""})}catch{cp(),m(null)}finally{C||l(!1)}}function g(){return new Promise((C,k)=>{if(!f.current){k(new Error("Token client not initialized"));return}const A=f.current,M=A.callback;A.callback=D=>{A.callback=M,D.error?k(new Error(D.error)):(RC(D.access_token,D.expires_in),C())},A.requestAccessToken({prompt:""})})}const S=j.useCallback(()=>{f.current&&(u(null),f.current.requestAccessToken())},[]),y=j.useCallback(()=>{const C=Sp();C&&window.google?.accounts?.oauth2&&window.google.accounts.oauth2.revoke(C),cp(),$C(),kF(),sessionStorage.removeItem("cf_health_check"),n(null)},[]),w={user:r,loading:i,error:c,isAuthenticated:!!r,isOwner:r?.role==="owner",signIn:S,signOut:y};return a.jsx(rO.Provider,{value:w,children:e})}function eo(){const e=j.useContext(rO);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const nO=j.createContext();function OF({children:e}){const[t,r]=j.useState(()=>{const i=localStorage.getItem("cf-theme");return i||(window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark")});j.useEffect(()=>{localStorage.setItem("cf-theme",t),document.documentElement.setAttribute("data-theme",t)},[t]);const n=()=>r(i=>i==="dark"?"light":"dark");return a.jsx(nO.Provider,{value:{theme:t,toggle:n},children:e})}function aO(){return j.useContext(nO)}const iO=j.createContext(),sO="cf_hc_done";function TF(){try{return sessionStorage.getItem(sO)==="1"?!0:null}catch{return null}}function $o(e){try{sessionStorage.setItem(sO,e?"1":"0")}catch{}}function PF({children:e}){const{isAuthenticated:t}=eo(),r=t?TF():null,[n,i]=j.useState(!0),[l,c]=j.useState(!1),[u,f]=j.useState(null),[m,h]=j.useState(null),[x,v]=j.useState(null),[g,S]=j.useState(null),[y,w]=j.useState(null),[C,k]=j.useState(null),[A,M]=j.useState(null),[D,T]=j.useState(null),[I,O]=j.useState(null),[z,F]=j.useState(null),[B,E]=j.useState(null),[J,X]=j.useState(null),[re,L]=j.useState(null),[U,V]=j.useState(null),[Ne,De]=j.useState(null),[P,W]=j.useState(null),[ne,de]=j.useState(null),[q,oe]=j.useState(null),[xe,he]=j.useState(r!==null?r:null),[ee,ke]=j.useState(null),He=j.useRef(!1),ge=j.useCallback(H=>{H&&("members"in H&&h(H.members||[]),"bankAccounts"in H&&v(H.bankAccounts||[]),"investments"in H&&S(H.investments||[]),"insurancePolicies"in H&&w(H.insurancePolicies||[]),"liabilities"in H&&k(H.liabilities||[]),"otherInvestments"in H&&M(H.otherInvestments||[]),"stockPortfolios"in H&&T(H.stockPortfolios||[]),"stockHoldings"in H&&O(H.stockHoldings||[]),"stockTransactions"in H&&F(H.stockTransactions||[]),"mfPortfolios"in H&&E(H.mfPortfolios||[]),"mfHoldings"in H&&X((H.mfHoldings||[]).map(Ce=>Ce.schemeCode?Ce:{...Ce,schemeCode:Ce.fundCode})),"mfTransactions"in H&&L(H.mfTransactions||[]),"goals"in H&&V(H.goals||[]),"reminders"in H&&De(H.reminders||[]),"goalPortfolioMappings"in H&&W(H.goalPortfolioMappings||[]),"assetAllocations"in H&&de(H.assetAllocations||[]),"settings"in H&&oe(H.settings||{}))},[]),Le=j.useCallback(H=>{Zg({members:H.members||[],bankAccounts:H.bankAccounts||[],investments:H.investments||[],insurancePolicies:H.insurancePolicies||[],liabilities:H.liabilities||[],otherInvestments:H.otherInvestments||[],stockPortfolios:H.stockPortfolios||[],stockHoldings:H.stockHoldings||[],stockTransactions:H.stockTransactions||[],mfPortfolios:H.mfPortfolios||[],mfHoldings:H.mfHoldings||[],mfTransactions:H.mfTransactions||[],goals:H.goals||[],reminders:H.reminders||[],goalPortfolioMappings:H.goalPortfolioMappings||[],assetAllocations:H.assetAllocations||[]})},[]),Ae=j.useCallback(async(H=!1)=>{try{H?c(!0):i(!0),f(null);const Ce=await Cp();ge(Ce),Le(Ce)}catch(Ce){f(Ce.message)}finally{i(!1),c(!1)}},[ge,Le]),Ee=j.useCallback(async()=>{const H=await C_();h(H||[]),rn("members",H||[])},[]),at=j.useCallback(async()=>{const H=await D_();v(H||[]),rn("bankAccounts",H||[])},[]),Dt=j.useCallback(async()=>{const H=await O_();S(H||[]),rn("investments",H||[])},[]),ar=j.useCallback(async()=>{const H=await F_();w(H||[]),rn("insurancePolicies",H||[])},[]),wt=j.useCallback(async()=>{const H=await $_();k(H||[]),rn("liabilities",H||[])},[]),Rt=j.useCallback(async()=>{const H=await U_();M(H||[]),rn("otherInvestments",H||[])},[]),Yt=j.useCallback(async()=>{const[H,Ce]=await Promise.all([I_(),J8()]);V(H||[]),W(Ce||[]),rn("goals",H||[]),rn("goalPortfolioMappings",Ce||[])},[]),lr=j.useCallback(async()=>{const H=await Q_();De(H||[]),rn("reminders",H||[])},[]),Et=j.useCallback(async()=>{const[H,Ce,or]=await Promise.all([q8(),mF(),pF()]),Nn=(Ce||[]).map(Pa=>Pa.schemeCode?Pa:{...Pa,schemeCode:Pa.fundCode});E(H||[]),X(Nn),L(or||[]),Zg({mfPortfolios:H||[],mfHoldings:Nn,mfTransactions:or||[]})},[]),be=j.useCallback(async()=>{const[H,Ce,or]=await Promise.all([G_(),hF(),xF()]);T(H||[]),O(Ce||[]),F(or||[]),Zg({stockPortfolios:H||[],stockHoldings:Ce||[],stockTransactions:or||[]})},[]),Ke=j.useCallback(async()=>{const H=await bF();oe(H||{}),rn("settings",H||{})},[]),G=j.useCallback(async H=>{await yF(H),await Ke()},[Ke]),$=j.useCallback(async()=>{try{const H=await eO("healthCheckAnswers");if(H&&Object.keys(H).length>0){he(!0),ke(H),$o(!0);return}const Ce=await J_();Ce&&Object.keys(Ce).length>0?(he(!0),ke(Ce),$o(!0),rn("healthCheckAnswers",Ce)):(he(!1),$o(!1))}catch{he(!1),$o(!1)}},[]),Z=j.useCallback(async H=>{const Ce=await gF(H);return Ce?.success&&(he(!0),ke(H),$o(!0),rn("healthCheckAnswers",H)),Ce},[]);j.useEffect(()=>{if(!t){i(!1);return}if(He.current)return;He.current=!0;async function H(){const Ce=await AF(),or=Object.keys(Ce).length>0;or&&(ge(Ce),Ce.healthCheckAnswers&&Object.keys(Ce.healthCheckAnswers).length>0&&(he(!0),ke(Ce.healthCheckAnswers),$o(!0)),i(!1));try{or&&c(!0);const Nn=await Cp();ge(Nn),Le(Nn)}catch(Nn){or||f(Nn.message)}finally{i(!1),c(!1)}}H(),Ke().catch(()=>{}),r===null&&$().catch(()=>{})},[t,ge,Le,Ke,$]),j.useEffect(()=>{t||(He.current=!1)},[t]);const we=j.useCallback(async H=>{const Ce=await A_(H);if(H.email)try{await z8(H.email,H.memberName)}catch(or){console.warn("Auto-invite failed (non-blocking):",or.message)}return await Ee(),Ce},[Ee]),ze=j.useCallback(async(H,Ce)=>{await k_({memberId:H,...Ce}),await Ee()},[Ee]),le=j.useCallback(async H=>{await M_(H),await Ee()},[Ee]),lt=j.useCallback(async H=>{const Ce=await E_(H);return await at(),Ce},[at]),Ue=j.useCallback(async(H,Ce)=>{await B8({accountId:H,...Ce}),await at()},[at]),Be=j.useCallback(async H=>{await __(H),await at()},[at]),Fe=j.useCallback(async H=>{const Ce=await T_(H);return await Dt(),Ce},[Dt]),et=j.useCallback(async(H,Ce)=>{await $8({accountId:H,...Ce}),await Dt()},[Dt]),At=j.useCallback(async H=>{await P_(H),await Dt()},[Dt]),gt=j.useCallback(async H=>{const Ce=await z_(H);return await ar(),Ce},[ar]),Me=j.useCallback(async(H,Ce)=>{await tF({policyId:H,...Ce}),await ar()},[ar]),We=j.useCallback(async H=>{await B_(H),await ar()},[ar]),Pe=j.useCallback(async H=>{const Ce=await q_(H);return await wt(),Ce},[wt]),ot=j.useCallback(async(H,Ce)=>{await rF({liabilityId:H,...Ce}),await wt()},[wt]),yt=j.useCallback(async H=>{await H_(H),await wt()},[wt]),ae=j.useCallback(async H=>{const Ce=await Y_(H);return await Rt(),H.quickLoan&&await wt(),Ce},[Rt,wt]),Se=j.useCallback(async(H,Ce)=>{await nF({investmentId:H,...Ce}),await Rt(),await wt()},[Rt,wt]),Xe=j.useCallback(async H=>{await V_(H),await Rt()},[Rt]),Vt=j.useCallback(async H=>{const Ce=await R_(H);return await Yt(),Ce},[Yt]),Xt=j.useCallback(async(H,Ce)=>{await Z8(H,Ce),await Yt()},[Yt]),Hn=j.useCallback(async H=>{await L_(H),await Yt()},[Yt]),io=j.useCallback(async H=>{const Ce=await X_(H);return await lr(),Ce},[lr]),so=j.useCallback(async(H,Ce)=>{await vF({reminderId:H,...Ce}),await lr()},[lr]),rf=j.useCallback(async H=>{await Z_(H),await lr()},[lr]),nf=j.useCallback(async(H,Ce)=>{await eF(H,Ce),await Yt()},[Yt]),Hc=j.useCallback(async H=>{const Ce=await W_(H);return await be(),Ce},[be]),Uc=j.useCallback(async(H,Ce)=>{await aF({portfolioId:H,...Ce}),await be()},[be]),af=j.useCallback(async H=>{await K_(H),await be()},[be]),sf=j.useCallback(async H=>{const Ce=await lF(H);return await be(),Ce},[be]),Ta=j.useCallback(async H=>{const Ce=await oF(H);return await be(),Ce},[be]),Er=j.useCallback(async H=>{await dF(H),await be()},[be]),Qr=j.useCallback(async H=>{await fF(H),await be()},[be]),as=j.useCallback(async H=>{const Ce=await H8(H);return await Et(),Ce},[Et]),Yc=j.useCallback(async(H,Ce)=>{await U8({portfolioId:H,...Ce}),await Et()},[Et]),Px=j.useCallback(async H=>{await Y8(H),await Et()},[Et]),Ix=j.useCallback(async(H,Ce)=>{const or=await V8({...H,transactionType:Ce});return await Et(),or},[Et]),lf=j.useCallback(async H=>{const Ce=await G8(H);return await Et(),Ce},[Et]),nl=j.useCallback(async H=>{const Ce=await W8(H);return await Et(),Ce},[Et]),Vc=j.useCallback(async(H,Ce)=>{await K8(H,Ce),await Et()},[Et]),is=j.useCallback(async H=>{await cF(H),await Et()},[Et]),ss=j.useCallback(async H=>{await uF(H),await Et()},[Et]),al=j.useCallback(async H=>{const Ce=await X8(H);return de(or=>{const Nn=or||[],Pa=Nn.findIndex(Nr=>Nr.fundCode===H.fundCode),Ia={};H.equity&&(Ia.Equity=H.equity),H.debt&&(Ia.Debt=H.debt),H.cash&&(Ia.Cash=H.cash),H.realEstate&&(Ia["Real Estate"]=H.realEstate),H.commodities&&(Ia.Commodities=H.commodities),H.customAsset&&Object.entries(H.customAsset).forEach(([Nr,vr])=>{vr>0&&(Ia[Nr]=vr)});const fi={};H.giantCap&&(fi.Giant=H.giantCap),H.largeCap&&(fi.Large=H.largeCap),H.midCap&&(fi.Mid=H.midCap),H.smallCap&&(fi.Small=H.smallCap),H.microCap&&(fi.Micro=H.microCap),H.customCap&&Object.entries(H.customCap).forEach(([Nr,vr])=>{vr>0&&(fi[Nr]=vr)});const mi={};H.geoIndia&&(mi.India=H.geoIndia),H.geoGlobal&&(mi.Global=H.geoGlobal),H.customGeo&&Object.entries(H.customGeo).forEach(([Nr,vr])=>{vr>0&&(mi[Nr]=vr)});const il={fundCode:H.fundCode,fundName:H.fundName,assetAllocation:Ia,equityAllocation:fi,geoAllocation:mi};if(Pa>=0){const Nr=[...Nn];return Nr[Pa]=il,Nr}return[...Nn,il]}),Ce},[]),ls=(m||[]).filter(H=>H.status==="Active"),wr=(x||[]).filter(H=>H.status==="Active"),of=(g||[]).filter(H=>H.status==="Active");return a.jsx(iO.Provider,{value:{loading:n,isRefreshing:l,error:u,refreshData:Ae,members:m,banks:x,investmentAccounts:g,insurancePolicies:y,liabilityList:C,otherInvList:A,activeMembers:ls,activeBanks:wr,activeInvestmentAccounts:of,addMember:we,updateMember:ze,deleteMember:le,addBankAccount:lt,updateBankAccount:Ue,deleteBankAccount:Be,addInvestmentAccount:Fe,updateInvestmentAccount:et,deleteInvestmentAccount:At,addInsurance:gt,updateInsurance:Me,deleteInsurance:We,addLiability:Pe,updateLiability:ot,deleteLiability:yt,addOtherInvestment:ae,updateOtherInvestment:Se,deleteOtherInvestment:Xe,goalList:U,addGoal:Vt,updateGoal:Xt,deleteGoal:Hn,reminderList:Ne,addReminder:io,updateReminder:so,deleteReminder:rf,goalPortfolioMappings:P,updateGoalMappings:nf,assetAllocations:ne,updateAssetAllocation:al,stockPortfolios:D,stockHoldings:I,stockTransactions:z,addStockPortfolio:Hc,updateStockPortfolio:Uc,deleteStockPortfolio:af,buyStock:sf,sellStock:Ta,editStockTransaction:Er,deleteStockTransaction:Qr,mfPortfolios:B,mfHoldings:J,mfTransactions:re,addMFPortfolio:as,updateMFPortfolio:Yc,deleteMFPortfolio:Px,investMF:Ix,redeemMF:lf,switchMF:nl,updateHoldingAllocations:Vc,deleteMFTransaction:is,editMFTransaction:ss,settings:q,updateSettings:G,refreshSettings:Ke,healthCheckCompleted:xe,healthCheckAnswers:ee,completeHealthCheck:Z},children:e})}function pt(){return j.useContext(iO)}const lO=j.createContext();function IF({children:e}){const{activeMembers:t}=pt(),[r,n]=j.useState("all"),i=t.find(l=>l.memberId===r)||null;return a.jsx(lO.Provider,{value:{selectedMember:r,setSelectedMember:n,member:i,familyMembers:t},children:e})}function Fr(){return j.useContext(lO)}const oO=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();const RF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const LF=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase());const qC=e=>{const t=LF(e);return t.charAt(0).toUpperCase()+t.slice(1)};var FF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const zF=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const BF=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:l,iconNode:c,...u},f)=>j.createElement("svg",{ref:f,...FF,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:oO("lucide",i),...!l&&!zF(u)&&{"aria-hidden":"true"},...u},[...c.map(([m,h])=>j.createElement(m,h)),...Array.isArray(l)?l:[l]]));const Te=(e,t)=>{const r=j.forwardRef(({className:n,...i},l)=>j.createElement(BF,{ref:l,iconNode:t,className:oO(`lucide-${RF(qC(e))}`,`lucide-${e}`,n),...i}));return r.displayName=qC(e),r};const $F=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],qF=Te("arrow-down",$F);const HF=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],UF=Te("arrow-left",HF);const YF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],VF=Te("arrow-right",YF);const GF=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],WF=Te("arrow-up-down",GF);const KF=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],QF=Te("bell-off",KF);const XF=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],C1=Te("bell",XF);const ZF=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],cO=Te("briefcase",ZF);const JF=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],ez=Te("bug",JF);const tz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],rz=Te("calendar",tz);const nz=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],rc=Te("chart-column",nz);const az=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],HC=Te("chart-pie",az);const iz=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ap=Te("check",iz);const sz=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ul=Te("chevron-down",sz);const lz=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],oz=Te("chevron-left",lz);const cz=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ya=Te("chevron-right",cz);const uz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],uO=Te("circle-arrow-down",uz);const dz=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],fz=Te("circle-check-big",dz);const mz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],_c=Te("circle-check",mz);const pz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],dO=Te("circle-x",pz);const hz=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],fO=Te("clipboard-check",hz);const xz=[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]],vz=Te("construction",xz);const gz=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],bz=Te("copy",gz);const yz=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Lh=Te("credit-card",yz);const jz=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],wz=Te("database",jz);const Nz=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Sz=Te("dollar-sign",Nz);const Cz=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Az=Te("download",Cz);const kz=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],mO=Te("ellipsis-vertical",kz);const Mz=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Dz=Te("ellipsis",Mz);const Ez=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kp=Te("eye",Ez);const _z=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],sd=Te("eye-off",_z);const Oz=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Tz=Te("file-spreadsheet",Oz);const Pz=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Iz=Te("file-text",Pz);const Rz=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],pO=Te("funnel",Rz);const Lz=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],Fz=Te("github",Lz);const zz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],hO=Te("globe",zz);const Bz=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],_d=Te("heart",Bz);const $z=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],qz=Te("indian-rupee",$z);const Hz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Uz=Te("info",Hz);const Yz=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],Vz=Te("landmark",Yz);const Gz=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],xO=Te("layers",Gz);const Wz=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Kz=Te("layout-dashboard",Wz);const Qz=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],vO=Te("link-2",Qz);const Xz=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],ld=Te("list",Xz);const Zz=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],cd=Te("loader-circle",Zz);const Jz=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Jg=Te("lock",Jz);const eB=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],tB=Te("log-in",eB);const rB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],gO=Te("log-out",rB);const nB=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],A1=Te("mail",nB);const aB=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M12 8v6",key:"1ib9pf"}],["path",{d:"M9 11h6",key:"1fldmi"}]],iB=Te("message-square-plus",aB);const sB=[["path",{d:"M5 12h14",key:"1ays0h"}]],UC=Te("minus",sB);const lB=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],sy=Te("moon",lB);const oB=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],bO=Te("package",oB);const cB=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],ca=Te("pencil",cB);const uB=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],dB=Te("piggy-bank",uB);const fB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Wr=Te("plus",fB);const mB=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],nc=Te("refresh-cw",mB);const pB=[["path",{d:"m2 9 3-3 3 3",key:"1ltn5i"}],["path",{d:"M13 18H7a2 2 0 0 1-2-2V6",key:"1r6tfw"}],["path",{d:"m22 15-3 3-3-3",key:"4rnwn2"}],["path",{d:"M11 6h6a2 2 0 0 1 2 2v10",key:"2f72bc"}]],e0=Te("repeat-2",pB);const hB=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],xB=Te("repeat",hB);const vB=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],yO=Te("save",vB);const gB=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],k1=Te("search",gB);const bB=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],jO=Te("settings-2",bB);const yB=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wO=Te("settings",yB);const jB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],wB=Te("shield-alert",jB);const NB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ac=Te("shield",NB);const SB=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],CB=Te("smartphone",SB);const AB=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Mp=Te("sun",AB);const kB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Od=Te("target",kB);const MB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],cc=Te("trash-2",MB);const DB=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Dp=Te("trending-down",DB);const EB=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],uc=Te("trending-up",EB);const _B=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],$s=Te("triangle-alert",_B);const OB=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],YC=Te("trophy",OB);const TB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],PB=Te("user",TB);const IB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Yl=Te("users",IB);const RB=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],up=Te("wallet",RB);const LB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ni=Te("x",LB);const FB=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ly=Te("zap",FB),NO=j.createContext();function zB({children:e}){const[t,r]=j.useState([]),[n,i]=j.useState(null),l=j.useRef(0),c=j.useCallback((h,x="success",v=3e3)=>{const g=++l.current;r(S=>[...S,{id:g,message:h,type:x}]),setTimeout(()=>r(S=>S.filter(y=>y.id!==g)),v)},[]),u=j.useCallback(h=>{r(x=>x.filter(v=>v.id!==h))},[]),f=j.useCallback((h="Saving...")=>{i(h)},[]),m=j.useCallback(()=>{i(null)},[]);return a.jsxs(NO.Provider,{value:{showToast:c,showBlockUI:f,hideBlockUI:m},children:[e,n&&a.jsx("div",{className:"fixed inset-0 z-[200] bg-black/50 backdrop-blur-sm flex items-center justify-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-3 bg-[var(--bg-card)] rounded-xl px-8 py-6 border border-[var(--border)] shadow-2xl",children:[a.jsx("span",{className:"w-7 h-7 border-[2.5px] border-violet-400/30 border-t-violet-400 rounded-full animate-spin"}),a.jsx("span",{className:"text-sm font-semibold text-[var(--text-primary)]",children:n})]})}),t.length>0&&a.jsx("div",{className:"fixed bottom-20 sm:bottom-6 left-1/2 -translate-x-1/2 z-[100] flex flex-col gap-2 items-center pointer-events-none",children:t.map(h=>a.jsxs("div",{className:`pointer-events-auto flex items-center gap-2 px-4 py-2.5 rounded-lg shadow-xl border text-sm font-medium animate-fade-in ${h.type==="error"?"bg-rose-500/15 border-rose-500/30 text-[var(--accent-rose)]":h.type==="warning"?"bg-amber-500/15 border-amber-500/30 text-amber-400":"bg-emerald-500/15 border-emerald-500/30 text-emerald-400"}`,style:{backdropFilter:"blur(12px)"},children:[h.type==="error"?a.jsx(dO,{size:16}):h.type==="warning"?a.jsx($s,{size:16}):a.jsx(_c,{size:16}),a.jsx("span",{children:h.message}),a.jsx("button",{onClick:()=>u(h.id),className:"ml-1 opacity-60 hover:opacity-100 transition-opacity",children:a.jsx(ni,{size:14})})]},h.id))})]})}function li(){return j.useContext(NO)}const SO=j.createContext();function BB({children:e}){const[t,r]=j.useState(null),n=j.useRef(null),i=j.useCallback((u,{title:f="Confirm",confirmLabel:m="Yes, proceed",cancelLabel:h="Cancel",destructive:x=!0}={})=>new Promise(v=>{n.current=v,r({message:u,title:f,confirmLabel:m,cancelLabel:h,destructive:x})}),[]);function l(){n.current?.(!0),n.current=null,r(null)}function c(){n.current?.(!1),n.current=null,r(null)}return a.jsxs(SO.Provider,{value:{confirm:i},children:[e,t&&a.jsxs("div",{className:"fixed inset-0 z-[300] flex items-center justify-center px-4",onClick:c,children:[a.jsx("div",{className:"fixed inset-0 bg-black/60"}),a.jsxs("div",{className:"relative bg-[var(--bg-card)] border border-[var(--border)] rounded-xl shadow-2xl w-full max-w-sm p-5 animate-fade-in",onClick:u=>u.stopPropagation(),children:[a.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[a.jsx("span",{className:`shrink-0 w-9 h-9 rounded-full flex items-center justify-center ${t.destructive?"bg-rose-500/15":"bg-violet-500/15"}`,children:a.jsx($s,{size:18,className:t.destructive?"text-[var(--accent-rose)]":"text-violet-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-bold text-[var(--text-primary)]",children:t.title}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-1 leading-relaxed",children:t.message})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{onClick:c,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:t.cancelLabel}),a.jsx("button",{onClick:l,autoFocus:!0,className:`px-4 py-2 text-xs font-bold text-white rounded-lg transition-colors ${t.destructive?"bg-rose-600 hover:bg-rose-500":"bg-violet-600 hover:bg-violet-500"}`,children:t.confirmLabel})]})]})]})]})}function oi(){return j.useContext(SO).confirm}const CO=j.createContext(),VC="cf-mask-data";function $B(e){return!e||e.length<4?"":""+e.slice(-4)}function qB(e){return!e||e.length<4?"  ":"  "+e.slice(-4)}function HB(e){return!e||e.length<3?"":""+e.slice(-3)}function UB(e){if(!e)return"@";const[t,r]=e.split("@");if(!r)return"@";const n=t.charAt(0)+"",i=r.split("."),l=i[0].charAt(0)+""+(i.length>1?"."+i.slice(1).join("."):"");return n+"@"+l}function YB(e){return!e||e.length<4?"":""+e.slice(-4)}function VB(e){return!e||e.length<3?"":""+e.slice(-3)}function GB(e){return!e||e.length<4?"":""+e.slice(-4)}function WB(e){return!e||e.length<2?"":e.split(/\s+/).map(t=>t.charAt(0)+"").join(" ")}const KB={pan:$B,aadhaar:qB,mobile:HB,email:UB,account:YB,clientId:VB,policy:GB,name:WB};function QB({children:e}){const[t,r]=j.useState(()=>{try{return localStorage.getItem(VC)==="true"}catch{return!1}});j.useEffect(()=>{try{localStorage.setItem(VC,String(t))}catch{}},[t]);const n=j.useCallback(()=>r(l=>!l),[]),i=j.useCallback((l,c)=>{if(!t||l==null||l==="")return l;const u=KB[c];return u?u(String(l)):l},[t]);return a.jsx(CO.Provider,{value:{masked:t,toggleMask:n,mv:i},children:e})}function _a(){return j.useContext(CO)}function AO(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=AO(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ut(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=AO(e))&&(n&&(n+=" "),n+=t);return n}var XB=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function M1(e){if(typeof e!="string")return!1;var t=XB;return t.includes(e)}var ZB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],JB=new Set(ZB);function kO(e){return typeof e!="string"?!1:JB.has(e)}function MO(e){return typeof e=="string"&&e.startsWith("data-")}function dc(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(kO(r)||MO(r))&&(t[r]=e[r]);return t}function oy(e){if(e==null)return null;if(j.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return dc(t)}return typeof e=="object"&&!Array.isArray(e)?dc(e):null}function ia(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(kO(r)||MO(r)||M1(r))&&(t[r]=e[r]);return t}var e$=["children","width","height","viewBox","className","style","title","desc"];function cy(){return cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cy.apply(null,arguments)}function t$(e,t){if(e==null)return{};var r,n,i=r$(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function r$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var DO=j.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:l,className:c,style:u,title:f,desc:m}=e,h=t$(e,e$),x=l||{width:n,height:i,x:0,y:0},v=ut("recharts-surface",c);return j.createElement("svg",cy({},ia(h),{className:v,width:n,height:i,style:u,viewBox:"".concat(x.x," ").concat(x.y," ").concat(x.width," ").concat(x.height),ref:t}),j.createElement("title",null,f),j.createElement("desc",null,m),r)}),n$=["children","className"];function uy(){return uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uy.apply(null,arguments)}function a$(e,t){if(e==null)return{};var r,n,i=i$(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function i$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qs=j.forwardRef((e,t)=>{var{children:r,className:n}=e,i=a$(e,n$),l=ut("recharts-layer",n);return j.createElement("g",uy({className:l},ia(i),{ref:t}),r)}),s$=j.createContext(null);function Ut(e){return function(){return e}}const EO=Math.cos,Ep=Math.sin,Oa=Math.sqrt,_p=Math.PI,Fh=2*_p,dy=Math.PI,fy=2*dy,Al=1e-6,l$=fy-Al;function _O(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function o$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return _O;const r=10**t;return function(n){this._+=n[0];for(let i=1,l=n.length;i<l;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class c${constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?_O:o$(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,l,c){this._append`C${+t},${+r},${+n},${+i},${this._x1=+l},${this._y1=+c}`}arcTo(t,r,n,i,l){if(t=+t,r=+r,n=+n,i=+i,l=+l,l<0)throw new Error(`negative radius: ${l}`);let c=this._x1,u=this._y1,f=n-t,m=i-r,h=c-t,x=u-r,v=h*h+x*x;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>Al)if(!(Math.abs(x*f-m*h)>Al)||!l)this._append`L${this._x1=t},${this._y1=r}`;else{let g=n-c,S=i-u,y=f*f+m*m,w=g*g+S*S,C=Math.sqrt(y),k=Math.sqrt(v),A=l*Math.tan((dy-Math.acos((y+v-w)/(2*C*k)))/2),M=A/k,D=A/C;Math.abs(M-1)>Al&&this._append`L${t+M*h},${r+M*x}`,this._append`A${l},${l},0,0,${+(x*g>h*S)},${this._x1=t+D*f},${this._y1=r+D*m}`}}arc(t,r,n,i,l,c){if(t=+t,r=+r,n=+n,c=!!c,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),f=n*Math.sin(i),m=t+u,h=r+f,x=1^c,v=c?i-l:l-i;this._x1===null?this._append`M${m},${h}`:(Math.abs(this._x1-m)>Al||Math.abs(this._y1-h)>Al)&&this._append`L${m},${h}`,n&&(v<0&&(v=v%fy+fy),v>l$?this._append`A${n},${n},0,1,${x},${t-u},${r-f}A${n},${n},0,1,${x},${this._x1=m},${this._y1=h}`:v>Al&&this._append`A${n},${n},0,${+(v>=dy)},${x},${this._x1=t+n*Math.cos(l)},${this._y1=r+n*Math.sin(l)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function D1(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new c$(t)}function E1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function OO(e){this._context=e}OO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function zh(e){return new OO(e)}function TO(e){return e[0]}function PO(e){return e[1]}function IO(e,t){var r=Ut(!0),n=null,i=zh,l=null,c=D1(u);e=typeof e=="function"?e:e===void 0?TO:Ut(e),t=typeof t=="function"?t:t===void 0?PO:Ut(t);function u(f){var m,h=(f=E1(f)).length,x,v=!1,g;for(n==null&&(l=i(g=c())),m=0;m<=h;++m)!(m<h&&r(x=f[m],m,f))===v&&((v=!v)?l.lineStart():l.lineEnd()),v&&l.point(+e(x,m,f),+t(x,m,f));if(g)return l=null,g+""||null}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ut(+f),u):e},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ut(+f),u):t},u.defined=function(f){return arguments.length?(r=typeof f=="function"?f:Ut(!!f),u):r},u.curve=function(f){return arguments.length?(i=f,n!=null&&(l=i(n)),u):i},u.context=function(f){return arguments.length?(f==null?n=l=null:l=i(n=f),u):n},u}function ym(e,t,r){var n=null,i=Ut(!0),l=null,c=zh,u=null,f=D1(m);e=typeof e=="function"?e:e===void 0?TO:Ut(+e),t=typeof t=="function"?t:Ut(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?PO:Ut(+r);function m(x){var v,g,S,y=(x=E1(x)).length,w,C=!1,k,A=new Array(y),M=new Array(y);for(l==null&&(u=c(k=f())),v=0;v<=y;++v){if(!(v<y&&i(w=x[v],v,x))===C)if(C=!C)g=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=v-1;S>=g;--S)u.point(A[S],M[S]);u.lineEnd(),u.areaEnd()}C&&(A[v]=+e(w,v,x),M[v]=+t(w,v,x),u.point(n?+n(w,v,x):A[v],r?+r(w,v,x):M[v]))}if(k)return u=null,k+""||null}function h(){return IO().defined(i).curve(c).context(l)}return m.x=function(x){return arguments.length?(e=typeof x=="function"?x:Ut(+x),n=null,m):e},m.x0=function(x){return arguments.length?(e=typeof x=="function"?x:Ut(+x),m):e},m.x1=function(x){return arguments.length?(n=x==null?null:typeof x=="function"?x:Ut(+x),m):n},m.y=function(x){return arguments.length?(t=typeof x=="function"?x:Ut(+x),r=null,m):t},m.y0=function(x){return arguments.length?(t=typeof x=="function"?x:Ut(+x),m):t},m.y1=function(x){return arguments.length?(r=x==null?null:typeof x=="function"?x:Ut(+x),m):r},m.lineX0=m.lineY0=function(){return h().x(e).y(t)},m.lineY1=function(){return h().x(e).y(r)},m.lineX1=function(){return h().x(n).y(t)},m.defined=function(x){return arguments.length?(i=typeof x=="function"?x:Ut(!!x),m):i},m.curve=function(x){return arguments.length?(c=x,l!=null&&(u=c(l)),m):c},m.context=function(x){return arguments.length?(x==null?l=u=null:u=c(l=x),m):l},m}class RO{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function u$(e){return new RO(e,!0)}function d$(e){return new RO(e,!1)}const _1={draw(e,t){const r=Oa(t/_p);e.moveTo(r,0),e.arc(0,0,r,0,Fh)}},f$={draw(e,t){const r=Oa(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},LO=Oa(1/3),m$=LO*2,p$={draw(e,t){const r=Oa(t/m$),n=r*LO;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},h$={draw(e,t){const r=Oa(t),n=-r/2;e.rect(n,n,r,r)}},x$=.8908130915292852,FO=Ep(_p/10)/Ep(7*_p/10),v$=Ep(Fh/10)*FO,g$=-EO(Fh/10)*FO,b$={draw(e,t){const r=Oa(t*x$),n=v$*r,i=g$*r;e.moveTo(0,-r),e.lineTo(n,i);for(let l=1;l<5;++l){const c=Fh*l/5,u=EO(c),f=Ep(c);e.lineTo(f*r,-u*r),e.lineTo(u*n-f*i,f*n+u*i)}e.closePath()}},t0=Oa(3),y$={draw(e,t){const r=-Oa(t/(t0*3));e.moveTo(0,r*2),e.lineTo(-t0*r,-r),e.lineTo(t0*r,-r),e.closePath()}},Jn=-.5,ea=Oa(3)/2,my=1/Oa(12),j$=(my/2+1)*3,w$={draw(e,t){const r=Oa(t/j$),n=r/2,i=r*my,l=n,c=r*my+r,u=-l,f=c;e.moveTo(n,i),e.lineTo(l,c),e.lineTo(u,f),e.lineTo(Jn*n-ea*i,ea*n+Jn*i),e.lineTo(Jn*l-ea*c,ea*l+Jn*c),e.lineTo(Jn*u-ea*f,ea*u+Jn*f),e.lineTo(Jn*n+ea*i,Jn*i-ea*n),e.lineTo(Jn*l+ea*c,Jn*c-ea*l),e.lineTo(Jn*u+ea*f,Jn*f-ea*u),e.closePath()}};function N$(e,t){let r=null,n=D1(i);e=typeof e=="function"?e:Ut(e||_1),t=typeof t=="function"?t:Ut(t===void 0?64:+t);function i(){let l;if(r||(r=l=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),l)return r=null,l+""||null}return i.type=function(l){return arguments.length?(e=typeof l=="function"?l:Ut(l),i):e},i.size=function(l){return arguments.length?(t=typeof l=="function"?l:Ut(+l),i):t},i.context=function(l){return arguments.length?(r=l??null,i):r},i}function Op(){}function Tp(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function zO(e){this._context=e}zO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Tp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Tp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function S$(e){return new zO(e)}function BO(e){this._context=e}BO.prototype={areaStart:Op,areaEnd:Op,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Tp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function C$(e){return new BO(e)}function $O(e){this._context=e}$O.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Tp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function A$(e){return new $O(e)}function qO(e){this._context=e}qO.prototype={areaStart:Op,areaEnd:Op,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function k$(e){return new qO(e)}function GC(e){return e<0?-1:1}function WC(e,t,r){var n=e._x1-e._x0,i=t-e._x1,l=(e._y1-e._y0)/(n||i<0&&-0),c=(r-e._y1)/(i||n<0&&-0),u=(l*i+c*n)/(n+i);return(GC(l)+GC(c))*Math.min(Math.abs(l),Math.abs(c),.5*Math.abs(u))||0}function KC(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function r0(e,t,r){var n=e._x0,i=e._y0,l=e._x1,c=e._y1,u=(l-n)/3;e._context.bezierCurveTo(n+u,i+u*t,l-u,c-u*r,l,c)}function Pp(e){this._context=e}Pp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:r0(this,this._t0,KC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,r0(this,KC(this,r=WC(this,e,t)),r);break;default:r0(this,this._t0,r=WC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function HO(e){this._context=new UO(e)}(HO.prototype=Object.create(Pp.prototype)).point=function(e,t){Pp.prototype.point.call(this,t,e)};function UO(e){this._context=e}UO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,l){this._context.bezierCurveTo(t,e,n,r,l,i)}};function M$(e){return new Pp(e)}function D$(e){return new HO(e)}function YO(e){this._context=e}YO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=QC(e),i=QC(t),l=0,c=1;c<r;++l,++c)this._context.bezierCurveTo(n[0][l],i[0][l],n[1][l],i[1][l],e[c],t[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function QC(e){var t,r=e.length-1,n,i=new Array(r),l=new Array(r),c=new Array(r);for(i[0]=0,l[0]=2,c[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,l[t]=4,c[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,l[r-1]=7,c[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/l[t-1],l[t]-=n,c[t]-=n*c[t-1];for(i[r-1]=c[r-1]/l[r-1],t=r-2;t>=0;--t)i[t]=(c[t]-i[t+1])/l[t];for(l[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)l[t]=2*e[t+1]-i[t+1];return[i,l]}function E$(e){return new YO(e)}function Bh(e,t){this._context=e,this._t=t}Bh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function _$(e){return new Bh(e,.5)}function O$(e){return new Bh(e,0)}function T$(e){return new Bh(e,1)}function Vl(e,t){if((c=e.length)>1)for(var r=1,n,i,l=e[t[0]],c,u=l.length;r<c;++r)for(i=l,l=e[t[r]],n=0;n<u;++n)l[n][1]+=l[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function py(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function P$(e,t){return e[t]}function I$(e){const t=[];return t.key=e,t}function R$(){var e=Ut([]),t=py,r=Vl,n=P$;function i(l){var c=Array.from(e.apply(this,arguments),I$),u,f=c.length,m=-1,h;for(const x of l)for(u=0,++m;u<f;++u)(c[u][m]=[0,+n(x,c[u].key,m,l)]).data=x;for(u=0,h=E1(t(c));u<f;++u)c[h[u]].index=u;return r(c,h),c}return i.keys=function(l){return arguments.length?(e=typeof l=="function"?l:Ut(Array.from(l)),i):e},i.value=function(l){return arguments.length?(n=typeof l=="function"?l:Ut(+l),i):n},i.order=function(l){return arguments.length?(t=l==null?py:typeof l=="function"?l:Ut(Array.from(l)),i):t},i.offset=function(l){return arguments.length?(r=l??Vl,i):r},i}function L$(e,t){if((n=e.length)>0){for(var r,n,i=0,l=e[0].length,c;i<l;++i){for(c=r=0;r<n;++r)c+=e[r][i][1]||0;if(c)for(r=0;r<n;++r)e[r][i][1]/=c}Vl(e,t)}}function F$(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,l=n.length;r<l;++r){for(var c=0,u=0;c<i;++c)u+=e[c][r][1]||0;n[r][1]+=n[r][0]=-u/2}Vl(e,t)}}function z$(e,t){if(!(!((c=e.length)>0)||!((l=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,l,c;n<l;++n){for(var u=0,f=0,m=0;u<c;++u){for(var h=e[t[u]],x=h[n][1]||0,v=h[n-1][1]||0,g=(x-v)/2,S=0;S<u;++S){var y=e[t[S]],w=y[n][1]||0,C=y[n-1][1]||0;g+=w-C}f+=x,m+=g*x}i[n-1][1]+=i[n-1][0]=r,f&&(r-=m/f)}i[n-1][1]+=i[n-1][0]=r,Vl(e,t)}}var n0={},a0={},XC;function B$(){return XC||(XC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(a0)),a0}var i0={},ZC;function VO(){return ZC||(ZC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(i0)),i0}var s0={},JC;function O1(){return JC||(JC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(s0)),s0}var l0={},o0={},eA;function $$(){return eA||(eA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(o0)),o0}var tA;function T1(){return tA||(tA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$$(),r=O1();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const l=[],c=i.length;if(c===0)return l;let u=0,f="",m="",h=!1;for(i.charCodeAt(0)===46&&(l.push(""),u++);u<c;){const x=i[u];m?x==="\\"&&u+1<c?(u++,f+=i[u]):x===m?m="":f+=x:h?x==='"'||x==="'"?m=x:x==="]"?(h=!1,l.push(f),f=""):f+=x:x==="["?(h=!0,f&&(l.push(f),f="")):x==="."?f&&(l.push(f),f=""):f+=x,u++}return f&&l.push(f),l}e.toPath=n})(l0)),l0}var rA;function P1(){return rA||(rA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B$(),r=VO(),n=O1(),i=T1();function l(u,f,m){if(u==null)return m;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return m;const h=u[f];return h===void 0?r.isDeepKey(f)?l(u,i.toPath(f),m):m:h}case"number":case"symbol":{typeof f=="number"&&(f=n.toKey(f));const h=u[f];return h===void 0?m:h}default:{if(Array.isArray(f))return c(u,f,m);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return m;const h=u[f];return h===void 0?m:h}}}function c(u,f,m){if(f.length===0)return m;let h=u;for(let x=0;x<f.length;x++){if(h==null||t.isUnsafeProperty(f[x]))return m;h=h[f[x]]}return h===void 0?m:h}e.get=l})(n0)),n0}var c0,nA;function q$(){return nA||(nA=1,c0=P1().get),c0}var H$=q$();const ud=si(H$);var U$=4;function Is(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:U$,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function dr(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((i,l,c)=>{var u=r[c-1];return typeof u=="string"?i+u+l:u!==void 0?i+Is(u)+l:i+l},"")}var bn=e=>e===0?0:e>0?1:-1,qi=e=>typeof e=="number"&&e!=+e,Gl=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,tt=e=>(typeof e=="number"||e instanceof Number)&&!qi(e),Hi=e=>tt(e)||typeof e=="string",Y$=0,dd=e=>{var t=++Y$;return"".concat(e||"").concat(t)},Ln=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!tt(t)&&typeof t!="string")return n;var l;if(Gl(t)){if(r==null)return n;var c=t.indexOf("%");l=r*parseFloat(t.slice(0,c))/100}else l=+t;return qi(l)&&(l=n),i&&r!=null&&l>r&&(l=r),l},GO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function xa(e,t,r){return tt(e)&&tt(t)?Is(e+r*(t-e)):t}function V$(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):ud(n,t))===r)}var Bn=e=>e===null||typeof e>"u",Td=e=>Bn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Wa(e){return e!=null}function Pd(){}var G$=["type","size","sizeType"];function hy(){return hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hy.apply(null,arguments)}function aA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function iA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aA(Object(r),!0).forEach(function(n){W$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W$(e,t,r){return(t=K$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K$(e){var t=Q$(e,"string");return typeof t=="symbol"?t:t+""}function Q$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X$(e,t){if(e==null)return{};var r,n,i=Z$(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Z$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var WO={symbolCircle:_1,symbolCross:f$,symbolDiamond:p$,symbolSquare:h$,symbolStar:b$,symbolTriangle:y$,symbolWye:w$},J$=Math.PI/180,e9=e=>{var t="symbol".concat(Td(e));return WO[t]||_1},t9=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*J$;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},r9=(e,t)=>{WO["symbol".concat(Td(e))]=t},KO=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=X$(e,G$),l=iA(iA({},i),{},{type:t,size:r,sizeType:n}),c="circle";typeof t=="string"&&(c=t);var u=()=>{var v=e9(c),g=N$().type(v).size(t9(r,n,c)),S=g();if(S!==null)return S},{className:f,cx:m,cy:h}=l,x=ia(l);return tt(m)&&tt(h)&&tt(r)?j.createElement("path",hy({},x,{className:ut("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:u()})):null};KO.registerSymbol=r9;var QO=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,n9=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{M1(i)&&(n[i]=(l=>r[i](r,l)))}),n},a9=(e,t,r)=>n=>(e(t,r,n),null),i9=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var l=e[i];M1(i)&&typeof l=="function"&&(n||(n={}),n[i]=a9(l,t,r))}),n};function sA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function s9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sA(Object(r),!0).forEach(function(n){l9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l9(e,t,r){return(t=o9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o9(e){var t=c9(e,"string");return typeof t=="symbol"?t:t+""}function c9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ci(e,t){var r=s9({},e),n=t,i=Object.keys(t),l=i.reduce((c,u)=>(c[u]===void 0&&n[u]!==void 0&&(c[u]=n[u]),c),r);return l}var u0={},d0={},lA;function u9(){return lA||(lA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let l=0;l<r.length;l++){const c=r[l],u=n(c,l,r);i.has(u)||i.set(u,c)}return Array.from(i.values())}e.uniqBy=t})(d0)),d0}var f0={},oA;function d9(){return oA||(oA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...i){return r.apply(this,i.slice(0,n))}}e.ary=t})(f0)),f0}var m0={},cA;function XO(){return cA||(cA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(m0)),m0}var p0={},h0={},x0={},uA;function f9(){return uA||(uA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(x0)),x0}var dA;function I1(){return dA||(dA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f9();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(h0)),h0}var v0={},fA;function m9(){return fA||(fA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(v0)),v0}var mA;function p9(){return mA||(mA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I1(),r=m9();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(p0)),p0}var g0={},b0={},pA;function h9(){return pA||(pA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P1();function r(n){return function(i){return t.get(i,n)}}e.property=r})(b0)),b0}var y0={},j0={},w0={},N0={},hA;function ZO(){return hA||(hA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(N0)),N0}var S0={},xA;function JO(){return xA||(xA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(S0)),S0}var C0={},vA;function eT(){return vA||(vA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(C0)),C0}var gA;function x9(){return gA||(gA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZO(),r=JO(),n=eT();function i(h,x,v){return typeof v!="function"?i(h,x,()=>{}):l(h,x,function g(S,y,w,C,k,A){const M=v(S,y,w,C,k,A);return M!==void 0?!!M:l(S,y,g,A)},new Map)}function l(h,x,v,g){if(x===h)return!0;switch(typeof x){case"object":return c(h,x,v,g);case"function":return Object.keys(x).length>0?l(h,{...x},v,g):n.isEqualsSameValueZero(h,x);default:return t.isObject(h)?typeof x=="string"?x==="":!0:n.isEqualsSameValueZero(h,x)}}function c(h,x,v,g){if(x==null)return!0;if(Array.isArray(x))return f(h,x,v,g);if(x instanceof Map)return u(h,x,v,g);if(x instanceof Set)return m(h,x,v,g);const S=Object.keys(x);if(h==null||r.isPrimitive(h))return S.length===0;if(S.length===0)return!0;if(g?.has(x))return g.get(x)===h;g?.set(x,h);try{for(let y=0;y<S.length;y++){const w=S[y];if(!r.isPrimitive(h)&&!(w in h)||x[w]===void 0&&h[w]!==void 0||x[w]===null&&h[w]!==null||!v(h[w],x[w],w,h,x,g))return!1}return!0}finally{g?.delete(x)}}function u(h,x,v,g){if(x.size===0)return!0;if(!(h instanceof Map))return!1;for(const[S,y]of x.entries()){const w=h.get(S);if(v(w,y,S,h,x,g)===!1)return!1}return!0}function f(h,x,v,g){if(x.length===0)return!0;if(!Array.isArray(h))return!1;const S=new Set;for(let y=0;y<x.length;y++){const w=x[y];let C=!1;for(let k=0;k<h.length;k++){if(S.has(k))continue;const A=h[k];let M=!1;if(v(A,w,y,h,x,g)&&(M=!0),M){S.add(k),C=!0;break}}if(!C)return!1}return!0}function m(h,x,v,g){return x.size===0?!0:h instanceof Set?f([...h],[...x],v,g):!1}e.isMatchWith=i,e.isSetMatch=m})(w0)),w0}var bA;function tT(){return bA||(bA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x9();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(j0)),j0}var A0={},k0={},M0={},yA;function v9(){return yA||(yA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(M0)),M0}var D0={},jA;function R1(){return jA||(jA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(D0)),D0}var E0={},wA;function rT(){return wA||(wA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",l="[object Arguments]",c="[object Symbol]",u="[object Date]",f="[object Map]",m="[object Set]",h="[object Array]",x="[object Function]",v="[object ArrayBuffer]",g="[object Object]",S="[object Error]",y="[object DataView]",w="[object Uint8Array]",C="[object Uint8ClampedArray]",k="[object Uint16Array]",A="[object Uint32Array]",M="[object BigUint64Array]",D="[object Int8Array]",T="[object Int16Array]",I="[object Int32Array]",O="[object BigInt64Array]",z="[object Float32Array]",F="[object Float64Array]";e.argumentsTag=l,e.arrayBufferTag=v,e.arrayTag=h,e.bigInt64ArrayTag=O,e.bigUint64ArrayTag=M,e.booleanTag=i,e.dataViewTag=y,e.dateTag=u,e.errorTag=S,e.float32ArrayTag=z,e.float64ArrayTag=F,e.functionTag=x,e.int16ArrayTag=T,e.int32ArrayTag=I,e.int8ArrayTag=D,e.mapTag=f,e.numberTag=n,e.objectTag=g,e.regexpTag=t,e.setTag=m,e.stringTag=r,e.symbolTag=c,e.uint16ArrayTag=k,e.uint32ArrayTag=A,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=C})(E0)),E0}var _0={},NA;function g9(){return NA||(NA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(_0)),_0}var SA;function nT(){return SA||(SA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v9(),r=R1(),n=rT(),i=JO(),l=g9();function c(h,x){return u(h,void 0,h,new Map,x)}function u(h,x,v,g=new Map,S=void 0){const y=S?.(h,x,v,g);if(y!==void 0)return y;if(i.isPrimitive(h))return h;if(g.has(h))return g.get(h);if(Array.isArray(h)){const w=new Array(h.length);g.set(h,w);for(let C=0;C<h.length;C++)w[C]=u(h[C],C,v,g,S);return Object.hasOwn(h,"index")&&(w.index=h.index),Object.hasOwn(h,"input")&&(w.input=h.input),w}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const w=new RegExp(h.source,h.flags);return w.lastIndex=h.lastIndex,w}if(h instanceof Map){const w=new Map;g.set(h,w);for(const[C,k]of h)w.set(C,u(k,C,v,g,S));return w}if(h instanceof Set){const w=new Set;g.set(h,w);for(const C of h)w.add(u(C,void 0,v,g,S));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(l.isTypedArray(h)){const w=new(Object.getPrototypeOf(h)).constructor(h.length);g.set(h,w);for(let C=0;C<h.length;C++)w[C]=u(h[C],C,v,g,S);return w}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const w=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return g.set(h,w),f(w,h,v,g,S),w}if(typeof File<"u"&&h instanceof File){const w=new File([h],h.name,{type:h.type});return g.set(h,w),f(w,h,v,g,S),w}if(typeof Blob<"u"&&h instanceof Blob){const w=new Blob([h],{type:h.type});return g.set(h,w),f(w,h,v,g,S),w}if(h instanceof Error){const w=new h.constructor;return g.set(h,w),w.message=h.message,w.name=h.name,w.stack=h.stack,w.cause=h.cause,f(w,h,v,g,S),w}if(h instanceof Boolean){const w=new Boolean(h.valueOf());return g.set(h,w),f(w,h,v,g,S),w}if(h instanceof Number){const w=new Number(h.valueOf());return g.set(h,w),f(w,h,v,g,S),w}if(h instanceof String){const w=new String(h.valueOf());return g.set(h,w),f(w,h,v,g,S),w}if(typeof h=="object"&&m(h)){const w=Object.create(Object.getPrototypeOf(h));return g.set(h,w),f(w,h,v,g,S),w}return h}function f(h,x,v=h,g,S){const y=[...Object.keys(x),...t.getSymbols(x)];for(let w=0;w<y.length;w++){const C=y[w],k=Object.getOwnPropertyDescriptor(h,C);(k==null||k.writable)&&(h[C]=u(x[C],C,v,g,S))}}function m(h){switch(r.getTag(h)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=u,e.copyProperties=f})(k0)),k0}var CA;function b9(){return CA||(CA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nT();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(A0)),A0}var AA;function y9(){return AA||(AA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tT(),r=b9();function n(i){return i=r.cloneDeep(i),l=>t.isMatch(l,i)}e.matches=n})(y0)),y0}var O0={},T0={},P0={},kA;function j9(){return kA||(kA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nT(),r=R1(),n=rT();function i(l,c){return t.cloneDeepWith(l,(u,f,m,h)=>{const x=c?.(u,f,m,h);if(x!==void 0)return x;if(typeof l=="object"){if(r.getTag(l)===n.objectTag&&typeof l.constructor!="function"){const v={};return h.set(l,v),t.copyProperties(v,l,m,h),v}switch(Object.prototype.toString.call(l)){case n.numberTag:case n.stringTag:case n.booleanTag:{const v=new l.constructor(l?.valueOf());return t.copyProperties(v,l),v}case n.argumentsTag:{const v={};return t.copyProperties(v,l),v.length=l.length,v[Symbol.iterator]=l[Symbol.iterator],v}default:return}}})}e.cloneDeepWith=i})(P0)),P0}var MA;function w9(){return MA||(MA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j9();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(T0)),T0}var I0={},R0={},DA;function aT(){return DA||(DA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(R0)),R0}var L0={},EA;function N9(){return EA||(EA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R1();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(L0)),L0}var _A;function S9(){return _A||(_A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VO(),r=aT(),n=N9(),i=T1();function l(c,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&t.isDeepKey(u)&&c?.[u]==null?f=i.toPath(u):f=[u],f.length===0)return!1;let m=c;for(let h=0;h<f.length;h++){const x=f[h];if((m==null||!Object.hasOwn(m,x))&&!((Array.isArray(m)||n.isArguments(m))&&r.isIndex(x)&&x<m.length))return!1;m=m[x]}return!0}e.has=l})(I0)),I0}var OA;function C9(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tT(),r=O1(),n=w9(),i=P1(),l=S9();function c(u,f){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=r.toKey(u);break}}return f=n.cloneDeep(f),function(m){const h=i.get(m,u);return h===void 0?l.has(m,u):f===void 0?h===void 0:t.isMatch(h,f)}}e.matchesProperty=c})(O0)),O0}var TA;function A9(){return TA||(TA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XO(),r=h9(),n=y9(),i=C9();function l(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?i.matchesProperty(c[0],c[1]):n.matches(c);case"string":case"symbol":case"number":return r.property(c)}}e.iteratee=l})(g0)),g0}var PA;function k9(){return PA||(PA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u9(),r=d9(),n=XO(),i=p9(),l=A9();function c(u,f=n.identity){return i.isArrayLikeObject(u)?t.uniqBy(Array.from(u),r.ary(l.iteratee(f),1)):[]}e.uniqBy=c})(u0)),u0}var F0,IA;function M9(){return IA||(IA=1,F0=k9().uniqBy),F0}var D9=M9();const RA=si(D9);function E9(e,t,r){return t===!0?RA(e,r):typeof t=="function"?RA(e,t):e}var z0={exports:{}},B0={},$0={exports:{}},q0={};var LA;function _9(){if(LA)return q0;LA=1;var e=Cc();function t(x,v){return x===v&&(x!==0||1/x===1/v)||x!==x&&v!==v}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function u(x,v){var g=v(),S=n({inst:{value:g,getSnapshot:v}}),y=S[0].inst,w=S[1];return l(function(){y.value=g,y.getSnapshot=v,f(y)&&w({inst:y})},[x,g,v]),i(function(){return f(y)&&w({inst:y}),x(function(){f(y)&&w({inst:y})})},[x]),c(g),g}function f(x){var v=x.getSnapshot;x=x.value;try{var g=v();return!r(x,g)}catch{return!0}}function m(x,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return q0.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,q0}var FA;function O9(){return FA||(FA=1,$0.exports=_9()),$0.exports}var zA;function T9(){if(zA)return B0;zA=1;var e=Cc(),t=O9();function r(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,l=e.useRef,c=e.useEffect,u=e.useMemo,f=e.useDebugValue;return B0.useSyncExternalStoreWithSelector=function(m,h,x,v,g){var S=l(null);if(S.current===null){var y={hasValue:!1,value:null};S.current=y}else y=S.current;S=u(function(){function C(T){if(!k){if(k=!0,A=T,T=v(T),g!==void 0&&y.hasValue){var I=y.value;if(g(I,T))return M=I}return M=T}if(I=M,n(A,T))return I;var O=v(T);return g!==void 0&&g(I,O)?(A=T,I):(A=T,M=O)}var k=!1,A,M,D=x===void 0?null:x;return[function(){return C(h())},D===null?void 0:function(){return C(D())}]},[h,x,v,g]);var w=i(m,S[0],S[1]);return c(function(){y.hasValue=!0,y.value=w},[w]),f(w),w},B0}var BA;function P9(){return BA||(BA=1,z0.exports=T9()),z0.exports}var I9=P9(),L1=j.createContext(null),R9=e=>e,Tr=()=>{var e=j.useContext(L1);return e?e.store.dispatch:R9},dp=()=>{},L9=()=>dp,F9=(e,t)=>e===t;function st(e){var t=j.useContext(L1),r=j.useMemo(()=>t?n=>{if(n!=null)return e(n)}:dp,[t,e]);return I9.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:L9,t?t.store.getState:dp,t?t.store.getState:dp,r,F9)}function z9(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function B9(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function $9(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var $A=e=>Array.isArray(e)?e:[e];function q9(e){const t=Array.isArray(e[0])?e[0]:e;return $9(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function H9(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var U9=class{constructor(e){this.value=e}deref(){return this.value}},Y9=typeof WeakRef<"u"?WeakRef:U9,V9=0,qA=1;function jm(){return{s:V9,v:void 0,o:null,p:null}}function iT(e,t={}){let r=jm();const{resultEqualityCheck:n}=t;let i,l=0;function c(){let u=r;const{length:f}=arguments;for(let x=0,v=f;x<v;x++){const g=arguments[x];if(typeof g=="function"||typeof g=="object"&&g!==null){let S=u.o;S===null&&(u.o=S=new WeakMap);const y=S.get(g);y===void 0?(u=jm(),S.set(g,u)):u=y}else{let S=u.p;S===null&&(u.p=S=new Map);const y=S.get(g);y===void 0?(u=jm(),S.set(g,u)):u=y}}const m=u;let h;if(u.s===qA)h=u.v;else if(h=e.apply(null,arguments),l++,n){const x=i?.deref?.()??i;x!=null&&n(x,h)&&(h=x,l!==0&&l--),i=typeof h=="object"&&h!==null||typeof h=="function"?new Y9(h):h}return m.s=qA,m.v=h,h}return c.clearCache=()=>{r=jm(),c.resetResultsCount()},c.resultsCount=()=>l,c.resetResultsCount=()=>{l=0},c}function G9(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let l=0,c=0,u,f={},m=i.pop();typeof m=="object"&&(f=m,m=i.pop()),z9(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const h={...r,...f},{memoize:x,memoizeOptions:v=[],argsMemoize:g=iT,argsMemoizeOptions:S=[]}=h,y=$A(v),w=$A(S),C=q9(i),k=x(function(){return l++,m.apply(null,arguments)},...y),A=g(function(){c++;const D=H9(C,arguments);return u=k.apply(null,D),u},...w);return Object.assign(A,{resultFunc:m,memoizedResultFunc:k,dependencies:C,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>u,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:x,argsMemoize:g})};return Object.assign(n,{withTypes:()=>n}),n}var ue=G9(iT),W9=Object.assign((e,t=ue)=>{B9(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(l=>e[l]);return t(n,(...l)=>l.reduce((c,u,f)=>(c[r[f]]=u,c),{}))},{withTypes:()=>W9}),H0={},U0={},Y0={},HA;function K9(){return HA||(HA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,l)=>{if(n!==i){const c=t(n),u=t(i);if(c===u&&c===0){if(n<i)return l==="desc"?1:-1;if(n>i)return l==="desc"?-1:1}return l==="desc"?u-c:c-u}return 0};e.compareValues=r})(Y0)),Y0}var V0={},G0={},UA;function sT(){return UA||(UA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(G0)),G0}var YA;function Q9(){return YA||(YA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sT(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(l,c){return Array.isArray(l)?!1:typeof l=="number"||typeof l=="boolean"||l==null||t.isSymbol(l)?!0:typeof l=="string"&&(n.test(l)||!r.test(l))||c!=null&&Object.hasOwn(c,l)}e.isKey=i})(V0)),V0}var VA;function X9(){return VA||(VA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K9(),r=Q9(),n=T1();function i(l,c,u,f){if(l==null)return[];u=f?void 0:u,Array.isArray(l)||(l=Object.values(l)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(g=>String(g));const m=(g,S)=>{let y=g;for(let w=0;w<S.length&&y!=null;++w)y=y[S[w]];return y},h=(g,S)=>S==null||g==null?S:typeof g=="object"&&"key"in g?Object.hasOwn(S,g.key)?S[g.key]:m(S,g.path):typeof g=="function"?g(S):Array.isArray(g)?m(S,g):typeof S=="object"?S[g]:S,x=c.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||r.isKey(g)?g:{key:g,path:n.toPath(g)}));return l.map(g=>({original:g,criteria:x.map(S=>h(S,g))})).slice().sort((g,S)=>{for(let y=0;y<x.length;y++){const w=t.compareValues(g.criteria[y],S.criteria[y],u[y]);if(w!==0)return w}return 0}).map(g=>g.original)}e.orderBy=i})(U0)),U0}var W0={},GA;function Z9(){return GA||(GA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],l=Math.floor(n),c=(u,f)=>{for(let m=0;m<u.length;m++){const h=u[m];Array.isArray(h)&&f<l?c(h,f+1):i.push(h)}};return c(r,0),i}e.flatten=t})(W0)),W0}var K0={},WA;function lT(){return WA||(WA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aT(),r=I1(),n=ZO(),i=eT();function l(c,u,f){return n.isObject(f)&&(typeof u=="number"&&r.isArrayLike(f)&&t.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?i.isEqualsSameValueZero(f[u],c):!1}e.isIterateeCall=l})(K0)),K0}var KA;function J9(){return KA||(KA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X9(),r=Z9(),n=lT();function i(l,...c){const u=c.length;return u>1&&n.isIterateeCall(l,c[0],c[1])?c=[]:u>2&&n.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(l,r.flatten(c),["asc"])}e.sortBy=i})(H0)),H0}var Q0,QA;function eq(){return QA||(QA=1,Q0=J9().sortBy),Q0}var tq=eq();const $h=si(tq);var oT=e=>e.legend.settings,rq=e=>e.legend.size,nq=e=>e.legend.payload;ue([nq,oT],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?$h(n,r):n});var wm=1;function aq(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=j.useState({height:0,left:0,top:0,width:0}),n=j.useCallback(i=>{if(i!=null){var l=i.getBoundingClientRect(),c={height:l.height,left:l.left,top:l.top,width:l.width};(Math.abs(c.height-t.height)>wm||Math.abs(c.left-t.left)>wm||Math.abs(c.top-t.top)>wm||Math.abs(c.width-t.width)>wm)&&r({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Vr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var iq=typeof Symbol=="function"&&Symbol.observable||"@@observable",XA=iq,X0=()=>Math.random().toString(36).substring(7).split("").join("."),sq={INIT:`@@redux/INIT${X0()}`,REPLACE:`@@redux/REPLACE${X0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${X0()}`},Ip=sq;function F1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function cT(e,t,r){if(typeof e!="function")throw new Error(Vr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Vr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Vr(1));return r(cT)(e,t)}let n=e,i=t,l=new Map,c=l,u=0,f=!1;function m(){c===l&&(c=new Map,l.forEach((w,C)=>{c.set(C,w)}))}function h(){if(f)throw new Error(Vr(3));return i}function x(w){if(typeof w!="function")throw new Error(Vr(4));if(f)throw new Error(Vr(5));let C=!0;m();const k=u++;return c.set(k,w),function(){if(C){if(f)throw new Error(Vr(6));C=!1,m(),c.delete(k),l=null}}}function v(w){if(!F1(w))throw new Error(Vr(7));if(typeof w.type>"u")throw new Error(Vr(8));if(typeof w.type!="string")throw new Error(Vr(17));if(f)throw new Error(Vr(9));try{f=!0,i=n(i,w)}finally{f=!1}return(l=c).forEach(k=>{k()}),w}function g(w){if(typeof w!="function")throw new Error(Vr(10));n=w,v({type:Ip.REPLACE})}function S(){const w=x;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(Vr(11));function k(){const M=C;M.next&&M.next(h())}return k(),{unsubscribe:w(k)}},[XA](){return this}}}return v({type:Ip.INIT}),{dispatch:v,subscribe:x,getState:h,replaceReducer:g,[XA]:S}}function lq(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Ip.INIT})>"u")throw new Error(Vr(12));if(typeof r(void 0,{type:Ip.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Vr(13))})}function uT(e){const t=Object.keys(e),r={};for(let l=0;l<t.length;l++){const c=t[l];typeof e[c]=="function"&&(r[c]=e[c])}const n=Object.keys(r);let i;try{lq(r)}catch(l){i=l}return function(c={},u){if(i)throw i;let f=!1;const m={};for(let h=0;h<n.length;h++){const x=n[h],v=r[x],g=c[x],S=v(g,u);if(typeof S>"u")throw u&&u.type,new Error(Vr(14));m[x]=S,f=f||S!==g}return f=f||n.length!==Object.keys(c).length,f?m:c}}function Rp(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function oq(...e){return t=>(r,n)=>{const i=t(r,n);let l=()=>{throw new Error(Vr(15))};const c={getState:i.getState,dispatch:(f,...m)=>l(f,...m)},u=e.map(f=>f(c));return l=Rp(...u)(i.dispatch),{...i,dispatch:l}}}function dT(e){return F1(e)&&"type"in e&&typeof e.type=="string"}var fT=Symbol.for("immer-nothing"),ZA=Symbol.for("immer-draftable"),ln=Symbol.for("immer-state");function va(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Rn=Object,fc=Rn.getPrototypeOf,Lp="constructor",qh="prototype",xy="configurable",Fp="enumerable",fp="writable",fd="value",Ui=e=>!!e&&!!e[ln];function ka(e){return e?mT(e)||Uh(e)||!!e[ZA]||!!e[Lp]?.[ZA]||Yh(e)||Vh(e):!1}var cq=Rn[qh][Lp].toString(),JA=new WeakMap;function mT(e){if(!e||!z1(e))return!1;const t=fc(e);if(t===null||t===Rn[qh])return!0;const r=Rn.hasOwnProperty.call(t,Lp)&&t[Lp];if(r===Object)return!0;if(!Zo(r))return!1;let n=JA.get(r);return n===void 0&&(n=Function.toString.call(r),JA.set(r,n)),n===cq}function Hh(e,t,r=!0){Id(e)===0?(r?Reflect.ownKeys(e):Rn.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Id(e){const t=e[ln];return t?t.type_:Uh(e)?1:Yh(e)?2:Vh(e)?3:0}var ek=(e,t,r=Id(e))=>r===2?e.has(t):Rn[qh].hasOwnProperty.call(e,t),vy=(e,t,r=Id(e))=>r===2?e.get(t):e[t],zp=(e,t,r,n=Id(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function uq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Uh=Array.isArray,Yh=e=>e instanceof Map,Vh=e=>e instanceof Set,z1=e=>typeof e=="object",Zo=e=>typeof e=="function",Z0=e=>typeof e=="boolean";function dq(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Ti=e=>e.copy_||e.base_,B1=e=>e.modified_?e.copy_:e.base_;function gy(e,t){if(Yh(e))return new Map(e);if(Vh(e))return new Set(e);if(Uh(e))return Array[qh].slice.call(e);const r=mT(e);if(t===!0||t==="class_only"&&!r){const n=Rn.getOwnPropertyDescriptors(e);delete n[ln];let i=Reflect.ownKeys(n);for(let l=0;l<i.length;l++){const c=i[l],u=n[c];u[fp]===!1&&(u[fp]=!0,u[xy]=!0),(u.get||u.set)&&(n[c]={[xy]:!0,[fp]:!0,[Fp]:u[Fp],[fd]:e[c]})}return Rn.create(fc(e),n)}else{const n=fc(e);if(n!==null&&r)return{...e};const i=Rn.create(n);return Rn.assign(i,e)}}function $1(e,t=!1){return Gh(e)||Ui(e)||!ka(e)||(Id(e)>1&&Rn.defineProperties(e,{set:Nm,add:Nm,clear:Nm,delete:Nm}),Rn.freeze(e),t&&Hh(e,(r,n)=>{$1(n,!0)},!1)),e}function fq(){va(2)}var Nm={[fd]:fq};function Gh(e){return e===null||!z1(e)?!0:Rn.isFrozen(e)}var Bp="MapSet",by="Patches",tk="ArrayMethods",pT={};function Wl(e){const t=pT[e];return t||va(0,e),t}var rk=e=>!!pT[e],md,hT=()=>md,mq=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:rk(Bp)?Wl(Bp):void 0,arrayMethodsPlugin_:rk(tk)?Wl(tk):void 0});function nk(e,t){t&&(e.patchPlugin_=Wl(by),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function yy(e){jy(e),e.drafts_.forEach(pq),e.drafts_=null}function jy(e){e===md&&(md=e.parent_)}var ak=e=>md=mq(md,e);function pq(e){const t=e[ln];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ik(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[ln].modified_&&(yy(t),va(4)),ka(e)&&(e=sk(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[ln].base_,e,t)}else e=sk(t,r);return hq(t,e,!0),yy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==fT?e:void 0}function sk(e,t){if(Gh(t))return t;const r=t[ln];if(!r)return $p(t,e.handledSet_,e);if(!Wh(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);gT(r,e)}return r.copy_}function hq(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&$1(t,r)}function xT(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Wh=(e,t)=>e.scope_===t,xq=[];function vT(e,t,r,n){const i=Ti(e),l=e.type_;if(n!==void 0&&vy(i,n,l)===t){zp(i,n,r,l);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;Hh(i,(f,m)=>{if(Ui(m)){const h=u.get(m)||[];h.push(f),u.set(m,h)}})}const c=e.draftLocations_.get(t)??xq;for(const u of c)zp(i,u,r,l)}function vq(e,t,r){e.callbacks_.push(function(i){const l=t;if(!l||!Wh(l,i))return;i.mapSetPlugin_?.fixSetContents(l);const c=B1(l);vT(e,l.draft_??l,c,r),gT(l,i)})}function gT(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const i=n.getPath(e);i&&n.generatePatches_(e,i,t)}xT(e)}}function gq(e,t,r){const{scope_:n}=e;if(Ui(r)){const i=r[ln];Wh(i,n)&&i.callbacks_.push(function(){mp(e);const c=B1(i);vT(e,r,c,t)})}else ka(r)&&e.callbacks_.push(function(){const l=Ti(e);e.type_===3?l.has(r)&&$p(r,n.handledSet_,n):vy(l,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&$p(vy(e.copy_,t,e.type_),n.handledSet_,n)})}function $p(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Ui(e)||t.has(e)||!ka(e)||Gh(e)||(t.add(e),Hh(e,(n,i)=>{if(Ui(i)){const l=i[ln];if(Wh(l,r)){const c=B1(l);zp(e,n,c,e.type_),xT(l)}}else ka(i)&&$p(i,t,r)})),e}function bq(e,t){const r=Uh(e),n={type_:r?1:0,scope_:t?t.scope_:hT(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,l=qp;r&&(i=[n],l=pd);const{revoke:c,proxy:u}=Proxy.revocable(i,l);return n.draft_=u,n.revoke_=c,[u,n]}var qp={get(e,t){if(t===ln)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const i=Ti(e);if(!ek(i,t,e.type_))return yq(e,i,t);const l=i[t];if(e.finalized_||!ka(l)||n&&e.operationMethod&&r?.isMutatingArrayMethod(e.operationMethod)&&dq(t))return l;if(l===J0(e.base_,t)){mp(e);const c=e.type_===1?+t:t,u=Ny(e.scope_,l,e,c);return e.copy_[c]=u}return l},has(e,t){return t in Ti(e)},ownKeys(e){return Reflect.ownKeys(Ti(e))},set(e,t,r){const n=bT(Ti(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=J0(Ti(e),t),l=i?.[ln];if(l&&l.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(uq(r,i)&&(r!==void 0||ek(e.base_,t,e.type_)))return!0;mp(e),wy(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),gq(e,t,r)),!0},deleteProperty(e,t){return mp(e),J0(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),wy(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ti(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[fp]:!0,[xy]:e.type_!==1||t!=="length",[Fp]:n[Fp],[fd]:r[t]}},defineProperty(){va(11)},getPrototypeOf(e){return fc(e.base_)},setPrototypeOf(){va(12)}},pd={};for(let e in qp){let t=qp[e];pd[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}pd.deleteProperty=function(e,t){return pd.set.call(this,e,t,void 0)};pd.set=function(e,t,r){return qp.set.call(this,e[0],t,r,e[0])};function J0(e,t){const r=e[ln];return(r?Ti(r):e)[t]}function yq(e,t,r){const n=bT(t,r);return n?fd in n?n[fd]:n.get?.call(e.draft_):void 0}function bT(e,t){if(!(t in e))return;let r=fc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=fc(r)}}function wy(e){e.modified_||(e.modified_=!0,e.parent_&&wy(e.parent_))}function mp(e){e.copy_||(e.assigned_=new Map,e.copy_=gy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var jq=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(Zo(r)&&!Zo(n)){const c=n;n=r;const u=this;return function(m=c,...h){return u.produce(m,x=>n.call(this,x,...h))}}Zo(n)||va(6),i!==void 0&&!Zo(i)&&va(7);let l;if(ka(r)){const c=ak(this),u=Ny(c,r,void 0);let f=!0;try{l=n(u),f=!1}finally{f?yy(c):jy(c)}return nk(c,i),ik(l,c)}else if(!r||!z1(r)){if(l=n(r),l===void 0&&(l=r),l===fT&&(l=void 0),this.autoFreeze_&&$1(l,!0),i){const c=[],u=[];Wl(by).generateReplacementPatches_(r,l,{patches_:c,inversePatches_:u}),i(c,u)}return l}else va(1,r)},this.produceWithPatches=(r,n)=>{if(Zo(r))return(u,...f)=>this.produceWithPatches(u,m=>r(m,...f));let i,l;return[this.produce(r,n,(u,f)=>{i=u,l=f}),i,l]},Z0(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Z0(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Z0(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ka(t)||va(8),Ui(t)&&(t=wa(t));const r=ak(this),n=Ny(r,t,void 0);return n[ln].isManual_=!0,jy(r),n}finishDraft(t,r){const n=t&&t[ln];(!n||!n.isManual_)&&va(9);const{scope_:i}=n;return nk(i,r),ik(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const l=r[n];if(l.path.length===0&&l.op==="replace"){t=l.value;break}}n>-1&&(r=r.slice(n+1));const i=Wl(by).applyPatches_;return Ui(t)?i(t,r):this.produce(t,l=>i(l,r))}};function Ny(e,t,r,n){const[i,l]=Yh(t)?Wl(Bp).proxyMap_(t,r):Vh(t)?Wl(Bp).proxySet_(t,r):bq(t,r);return(r?.scope_??hT()).drafts_.push(i),l.callbacks_=r?.callbacks_??[],l.key_=n,r&&n!==void 0?vq(r,l,n):l.callbacks_.push(function(f){f.mapSetPlugin_?.fixSetContents(l);const{patchPlugin_:m}=f;l.modified_&&m&&m.generatePatches_(l,[],f)}),i}function wa(e){return Ui(e)||va(10,e),yT(e)}function yT(e){if(!ka(e)||Gh(e))return e;const t=e[ln];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=gy(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=gy(e,!0);return Hh(r,(i,l)=>{zp(r,i,yT(l))},n),t&&(t.finalized_=!1),r}var wq=new jq,jT=wq.produce;function wT(e){return({dispatch:r,getState:n})=>i=>l=>typeof l=="function"?l(r,n,e):i(l)}var Nq=wT(),Sq=wT,Cq=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Rp:Rp.apply(null,arguments)};function sa(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(Fn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>dT(n)&&n.type===e,r}var NT=class rd extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,rd.prototype)}static get[Symbol.species](){return rd}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new rd(...t[0].concat(this)):new rd(...t.concat(this))}};function lk(e){return ka(e)?jT(e,()=>{}):e}function Sm(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Aq(e){return typeof e=="boolean"}var kq=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:l=!0}=t??{};let c=new NT;return r&&(Aq(r)?c.push(Nq):c.push(Sq(r.extraArgument))),c},ST="RTK_autoBatch",er=()=>e=>({payload:e,meta:{[ST]:!0}}),ok=e=>t=>{setTimeout(t,e)},CT=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,l=!1,c=!1;const u=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:ok(10):e.type==="callback"?e.queueNotification:ok(e.timeout),m=()=>{c=!1,l&&(l=!1,u.forEach(h=>h()))};return Object.assign({},n,{subscribe(h){const x=()=>i&&h(),v=n.subscribe(x);return u.add(h),()=>{v(),u.delete(h)}},dispatch(h){try{return i=!h?.meta?.[ST],l=!i,l&&(c||(c=!0,f(m))),n.dispatch(h)}finally{i=!0}}})},Mq=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new NT(e);return n&&i.push(CT(typeof n=="object"?n:void 0)),i};function Dq(e){const t=kq(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:l=void 0,enhancers:c=void 0}=e||{};let u;if(typeof r=="function")u=r;else if(F1(r))u=uT(r);else throw new Error(Fn(1));let f;typeof n=="function"?f=n(t):f=t();let m=Rp;i&&(m=Cq({trace:!1,...typeof i=="object"&&i}));const h=oq(...f),x=Mq(h);let v=typeof c=="function"?c(x):x();const g=m(...v);return cT(u,l,g)}function AT(e){const t={},r=[];let n;const i={addCase(l,c){const u=typeof l=="string"?l:l.type;if(!u)throw new Error(Fn(28));if(u in t)throw new Error(Fn(29));return t[u]=c,i},addAsyncThunk(l,c){return c.pending&&(t[l.pending.type]=c.pending),c.rejected&&(t[l.rejected.type]=c.rejected),c.fulfilled&&(t[l.fulfilled.type]=c.fulfilled),c.settled&&r.push({matcher:l.settled,reducer:c.settled}),i},addMatcher(l,c){return r.push({matcher:l,reducer:c}),i},addDefaultCase(l){return n=l,i}};return e(i),[t,r,n]}function Eq(e){return typeof e=="function"}function _q(e,t){let[r,n,i]=AT(t),l;if(Eq(e))l=()=>lk(e());else{const u=lk(e);l=()=>u}function c(u=l(),f){let m=[r[f.type],...n.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return m.filter(h=>!!h).length===0&&(m=[i]),m.reduce((h,x)=>{if(x)if(Ui(h)){const g=x(h,f);return g===void 0?h:g}else{if(ka(h))return jT(h,v=>x(v,f));{const v=x(h,f);if(v===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return h},u)}return c.getInitialState=l,c}var Oq="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Tq=(e=21)=>{let t="",r=e;for(;r--;)t+=Oq[Math.random()*64|0];return t},Pq=Symbol.for("rtk-slice-createasyncthunk");function Iq(e,t){return`${e}/${t}`}function Rq({creators:e}={}){const t=e?.asyncThunk?.[Pq];return function(n){const{name:i,reducerPath:l=i}=n;if(!i)throw new Error(Fn(11));const c=(typeof n.reducers=="function"?n.reducers(Fq()):n.reducers)||{},u=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(A,M){const D=typeof A=="string"?A:A.type;if(!D)throw new Error(Fn(12));if(D in f.sliceCaseReducersByType)throw new Error(Fn(13));return f.sliceCaseReducersByType[D]=M,m},addMatcher(A,M){return f.sliceMatchers.push({matcher:A,reducer:M}),m},exposeAction(A,M){return f.actionCreators[A]=M,m},exposeCaseReducer(A,M){return f.sliceCaseReducersByName[A]=M,m}};u.forEach(A=>{const M=c[A],D={reducerName:A,type:Iq(i,A),createNotation:typeof n.reducers=="function"};Bq(M)?qq(D,M,m,t):zq(D,M,m)});function h(){const[A={},M=[],D=void 0]=typeof n.extraReducers=="function"?AT(n.extraReducers):[n.extraReducers],T={...A,...f.sliceCaseReducersByType};return _q(n.initialState,I=>{for(let O in T)I.addCase(O,T[O]);for(let O of f.sliceMatchers)I.addMatcher(O.matcher,O.reducer);for(let O of M)I.addMatcher(O.matcher,O.reducer);D&&I.addDefaultCase(D)})}const x=A=>A,v=new Map,g=new WeakMap;let S;function y(A,M){return S||(S=h()),S(A,M)}function w(){return S||(S=h()),S.getInitialState()}function C(A,M=!1){function D(I){let O=I[A];return typeof O>"u"&&M&&(O=Sm(g,D,w)),O}function T(I=x){const O=Sm(v,M,()=>new WeakMap);return Sm(O,I,()=>{const z={};for(const[F,B]of Object.entries(n.selectors??{}))z[F]=Lq(B,I,()=>Sm(g,I,w),M);return z})}return{reducerPath:A,getSelectors:T,get selectors(){return T(D)},selectSlice:D}}const k={name:i,reducer:y,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:w,...C(l),injectInto(A,{reducerPath:M,...D}={}){const T=M??l;return A.inject({reducerPath:T,reducer:y},D),{...k,...C(T,!0)}}};return k}}function Lq(e,t,r,n){function i(l,...c){let u=t(l);return typeof u>"u"&&n&&(u=r()),e(u,...c)}return i.unwrapped=e,i}var wn=Rq();function Fq(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function zq({type:e,reducerName:t,createNotation:r},n,i){let l,c;if("reducer"in n){if(r&&!$q(n))throw new Error(Fn(17));l=n.reducer,c=n.prepare}else l=n;i.addCase(e,l).exposeCaseReducer(t,l).exposeAction(t,c?sa(e,c):sa(e))}function Bq(e){return e._reducerDefinitionType==="asyncThunk"}function $q(e){return e._reducerDefinitionType==="reducerWithPrepare"}function qq({type:e,reducerName:t},r,n,i){if(!i)throw new Error(Fn(18));const{payloadCreator:l,fulfilled:c,pending:u,rejected:f,settled:m,options:h}=r,x=i(e,l,h);n.exposeAction(t,x),c&&n.addCase(x.fulfilled,c),u&&n.addCase(x.pending,u),f&&n.addCase(x.rejected,f),m&&n.addMatcher(x.settled,m),n.exposeCaseReducer(t,{fulfilled:c||Cm,pending:u||Cm,rejected:f||Cm,settled:m||Cm})}function Cm(){}var Hq="task",kT="listener",MT="completed",q1="cancelled",Uq=`task-${q1}`,Yq=`task-${MT}`,Sy=`${kT}-${q1}`,Vq=`${kT}-${MT}`,Kh=class{constructor(e){this.code=e,this.message=`${Hq} ${q1} (reason: ${e})`}name="TaskAbortError";message},H1=(e,t)=>{if(typeof e!="function")throw new TypeError(Fn(32))},Hp=()=>{},DT=(e,t=Hp)=>(e.catch(t),e),ET=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),zl=e=>{if(e.aborted)throw new Kh(e.reason)};function _T(e,t){let r=Hp;return new Promise((n,i)=>{const l=()=>i(new Kh(e.reason));if(e.aborted){l();return}r=ET(e,l),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Hp})}var Gq=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Kh?"cancelled":"rejected",error:r}}finally{t?.()}},Up=e=>t=>DT(_T(e,t).then(r=>(zl(e),r))),OT=e=>{const t=Up(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:ic}=Object,ck={},Qh="listenerMiddleware",Wq=(e,t)=>{const r=n=>ET(e,()=>n.abort(e.reason));return(n,i)=>{H1(n);const l=new AbortController;r(l);const c=Gq(async()=>{zl(e),zl(l.signal);const u=await n({pause:Up(l.signal),delay:OT(l.signal),signal:l.signal});return zl(l.signal),u},()=>l.abort(Yq));return i?.autoJoin&&t.push(c.catch(Hp)),{result:Up(e)(c),cancel(){l.abort(Uq)}}}},Kq=(e,t)=>{const r=async(n,i)=>{zl(t);let l=()=>{};const u=[new Promise((f,m)=>{let h=e({predicate:n,effect:(x,v)=>{v.unsubscribe(),f([x,v.getState(),v.getOriginalState()])}});l=()=>{h(),m()}})];i!=null&&u.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await _T(t,Promise.race(u));return zl(t),f}finally{l()}};return(n,i)=>DT(r(n,i))},TT=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:l}=e;if(t)i=sa(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Fn(21));return H1(l),{predicate:i,type:t,effect:l}},PT=ic(e=>{const{type:t,predicate:r,effect:n}=TT(e);return{id:Tq(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Fn(22))}}},{withTypes:()=>PT}),uk=(e,t)=>{const{type:r,effect:n,predicate:i}=TT(t);return Array.from(e.values()).find(l=>(typeof r=="string"?l.type===r:l.predicate===i)&&l.effect===n)},Cy=e=>{e.pending.forEach(t=>{t.abort(Sy)})},Qq=(e,t)=>()=>{for(const r of t.keys())Cy(r);e.clear()},dk=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},IT=ic(sa(`${Qh}/add`),{withTypes:()=>IT}),Xq=sa(`${Qh}/removeAll`),RT=ic(sa(`${Qh}/remove`),{withTypes:()=>RT}),Zq=(...e)=>{console.error(`${Qh}/error`,...e)},Rd=(e={})=>{const t=new Map,r=new Map,n=g=>{const S=r.get(g)??0;r.set(g,S+1)},i=g=>{const S=r.get(g)??1;S===1?r.delete(g):r.set(g,S-1)},{extra:l,onError:c=Zq}=e;H1(c);const u=g=>(g.unsubscribe=()=>t.delete(g.id),t.set(g.id,g),S=>{g.unsubscribe(),S?.cancelActive&&Cy(g)}),f=g=>{const S=uk(t,g)??PT(g);return u(S)};ic(f,{withTypes:()=>f});const m=g=>{const S=uk(t,g);return S&&(S.unsubscribe(),g.cancelActive&&Cy(S)),!!S};ic(m,{withTypes:()=>m});const h=async(g,S,y,w)=>{const C=new AbortController,k=Kq(f,C.signal),A=[];try{g.pending.add(C),n(g),await Promise.resolve(g.effect(S,ic({},y,{getOriginalState:w,condition:(M,D)=>k(M,D).then(Boolean),take:k,delay:OT(C.signal),pause:Up(C.signal),extra:l,signal:C.signal,fork:Wq(C.signal,A),unsubscribe:g.unsubscribe,subscribe:()=>{t.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((M,D,T)=>{M!==C&&(M.abort(Sy),T.delete(M))})},cancel:()=>{C.abort(Sy),g.pending.delete(C)},throwIfCancelled:()=>{zl(C.signal)}})))}catch(M){M instanceof Kh||dk(c,M,{raisedBy:"effect"})}finally{await Promise.all(A),C.abort(Vq),i(g),g.pending.delete(C)}},x=Qq(t,r);return{middleware:g=>S=>y=>{if(!dT(y))return S(y);if(IT.match(y))return f(y.payload);if(Xq.match(y)){x();return}if(RT.match(y))return m(y.payload);let w=g.getState();const C=()=>{if(w===ck)throw new Error(Fn(23));return w};let k;try{if(k=S(y),t.size>0){const A=g.getState(),M=Array.from(t.values());for(const D of M){let T=!1;try{T=D.predicate(y,A,w)}catch(I){T=!1,dk(c,I,{raisedBy:"predicate"})}T&&h(D,y,g,C)}}}finally{w=ck}return k},startListening:f,stopListening:m,clearListeners:x}};function Fn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Jq={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},LT=wn({name:"chartLayout",initialState:Jq,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,l;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(l=t.payload.left)!==null&&l!==void 0?l:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:eH,setLayout:tH,setChartSize:rH,setScale:nH}=LT.actions,aH=LT.reducer;function FT(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function $t(e){return Number.isFinite(e)}function Hs(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function fk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ec(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fk(Object(r),!0).forEach(function(n){iH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iH(e,t,r){return(t=sH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sH(e){var t=lH(e,"string");return typeof t=="symbol"?t:t+""}function lH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pr(e,t,r){return Bn(e)||Bn(t)?r:Hi(t)?ud(e,t,r):typeof t=="function"?t(e):r}var oH=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:l,verticalAlign:c,layout:u}=t;if((u==="vertical"||u==="horizontal"&&c==="middle")&&l!=="center"&&tt(e[l]))return ec(ec({},e),{},{[l]:e[l]+(n||0)});if((u==="horizontal"||u==="vertical"&&l==="center")&&c!=="middle"&&tt(e[c]))return ec(ec({},e),{},{[c]:e[c]+(i||0)})}return e},Ws=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",cH=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var l=0,c=0,u=0;u<r;++u){var f=e[u],m=f?.[i];if(m!=null){var h=m[1],x=m[0],v=qi(h)?x:h;v>=0?(m[0]=l,l+=v,m[1]=l):(m[0]=c,c+=v,m[1]=c)}}}},uH=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var l=0,c=0;c<r;++c){var u=e[c],f=u?.[i];if(f!=null){var m=qi(f[1])?f[0]:f[1];m>=0?(f[0]=l,l+=m,f[1]=l):(f[0]=0,f[1]=0)}}}},dH={sign:cH,expand:L$,none:Vl,silhouette:F$,wiggle:z$,positive:uH},fH=(e,t,r)=>{var n,i=(n=dH[r])!==null&&n!==void 0?n:Vl,l=R$().keys(t).value((u,f)=>Number(pr(u,f,0))).order(py).offset(i),c=l(e);return c.forEach((u,f)=>{u.forEach((m,h)=>{var x=pr(e[h],t[f],0);Array.isArray(x)&&x.length===2&&tt(x[0])&&tt(x[1])&&(m[0]=x[0],m[1]=x[1])})}),c},mH=e=>{var t=e.flat(2).filter(tt);return[Math.min(...t),Math.max(...t)]},pH=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],hH=(e,t,r)=>{if(e!=null)return pH(Object.keys(e).reduce((n,i)=>{var l=e[i];if(!l)return n;var{stackedData:c}=l,u=c.reduce((f,m)=>{var h=FT(m,t,r),x=mH(h);return!$t(x[0])||!$t(x[1])?f:[Math.min(f[0],x[0]),Math.max(f[1],x[1])]},[1/0,-1/0]);return[Math.min(u[0],n[0]),Math.max(u[1],n[1])]},[1/0,-1/0]))},mk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hk=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();return n}if(e&&t&&t.length>=2){for(var i=$h(t,h=>h.coordinate),l=1/0,c=1,u=i.length;c<u;c++){var f=i[c],m=i[c-1];l=Math.min((f?.coordinate||0)-(m?.coordinate||0),l)}return l===1/0?0:l}return r?void 0:0};function xk(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:l}=e;return ec(ec({},t),{},{dataKey:r,payload:n,value:i,name:l})}function zT(e,t){if(e)return String(e);if(typeof t=="string")return t}var xH=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},vH=(e,t)=>t==="centric"?e.angle:e.radius,Zi=e=>e.layout.width,Ji=e=>e.layout.height,gH=e=>e.layout.scale,BT=e=>e.layout.margin,Xh=ue(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Zh=ue(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),$T="data-recharts-item-index",qT="data-recharts-item-id",Ld=60;function vk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Am(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vk(Object(r),!0).forEach(function(n){bH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bH(e,t,r){return(t=yH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yH(e){var t=jH(e,"string");return typeof t=="symbol"?t:t+""}function jH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wH=e=>e.brush.height;function NH(e){var t=Zh(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Ld;return r+i}return r},0)}function SH(e){var t=Zh(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Ld;return r+i}return r},0)}function CH(e){var t=Xh(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function AH(e){var t=Xh(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var zr=ue([Zi,Ji,BT,wH,NH,SH,CH,AH,oT,rq],(e,t,r,n,i,l,c,u,f,m)=>{var h={left:(r.left||0)+i,right:(r.right||0)+l},x={top:(r.top||0)+c,bottom:(r.bottom||0)+u},v=Am(Am({},x),h),g=v.bottom;v.bottom+=n,v=oH(v,f,m);var S=e-v.left-v.right,y=t-v.top-v.bottom;return Am(Am({brushBottom:g},v),{},{width:Math.max(S,0),height:Math.max(y,0)})}),kH=ue(zr,e=>({x:e.left,y:e.top,width:e.width,height:e.height}));ue(Zi,Ji,(e,t)=>({x:0,y:0,width:e,height:t}));var MH=j.createContext(null),Ks=()=>j.useContext(MH)!=null,Jh=e=>e.brush,ex=ue([Jh,zr,BT],(e,t,r)=>({height:e.height,x:tt(e.x)?e.x:t.left,y:tt(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:tt(e.width)?e.width:t.width})),eb={},tb={},rb={},gk;function DH(){return gk||(gk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:l}={}){let c,u=null;const f=l!=null&&l.includes("leading"),m=l==null||l.includes("trailing"),h=()=>{u!==null&&(r.apply(c,u),c=void 0,u=null)},x=()=>{m&&h(),y()};let v=null;const g=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,x()},n)},S=()=>{v!==null&&(clearTimeout(v),v=null)},y=()=>{S(),c=void 0,u=null},w=()=>{h()},C=function(...k){if(i?.aborted)return;c=this,u=k;const A=v==null;g(),f&&A&&h()};return C.schedule=g,C.cancel=y,C.flush=w,i?.addEventListener("abort",y,{once:!0}),C}e.debounce=t})(rb)),rb}var bk;function EH(){return bk||(bk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DH();function r(n,i=0,l={}){typeof l!="object"&&(l={});const{leading:c=!1,trailing:u=!0,maxWait:f}=l,m=Array(2);c&&(m[0]="leading"),u&&(m[1]="trailing");let h,x=null;const v=t.debounce(function(...y){h=n.apply(this,y),x=null},i,{edges:m}),g=function(...y){return f!=null&&(x===null&&(x=Date.now()),Date.now()-x>=f)?(h=n.apply(this,y),x=Date.now(),v.cancel(),v.schedule(),h):(v.apply(this,y),h)},S=()=>(v.flush(),h);return g.cancel=v.cancel,g.flush=S,g}e.debounce=r})(tb)),tb}var yk;function _H(){return yk||(yk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EH();function r(n,i=0,l={}){const{leading:c=!0,trailing:u=!0}=l;return t.debounce(n,i,{leading:c,maxWait:i,trailing:u})}e.throttle=r})(eb)),eb}var nb,jk;function OH(){return jk||(jk=1,nb=_H().throttle),nb}var TH=OH();const PH=si(TH);var wk=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),l=2;l<n;l++)i[l-2]=arguments[l];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(r.replace(/%s/g,()=>i[c++]))}},Ka={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},HT=(e,t,r)=>{var{width:n=Ka.width,height:i=Ka.height,aspect:l,maxHeight:c}=r,u=Gl(n)?e:Number(n),f=Gl(i)?t:Number(i);return l&&l>0&&(u?f=u/l:f&&(u=f*l),c&&f!=null&&f>c&&(f=c)),{calculatedWidth:u,calculatedHeight:f}},IH={width:0,height:0,overflow:"visible"},RH={width:0,overflowX:"visible"},LH={height:0,overflowY:"visible"},FH={},zH=e=>{var{width:t,height:r}=e,n=Gl(t),i=Gl(r);return n&&i?IH:n?RH:i?LH:FH};function BH(e){var{width:t,height:r,aspect:n}=e,i=t,l=r;return i===void 0&&l===void 0?(i=Ka.width,l=Ka.height):i===void 0?i=n&&n>0?void 0:Ka.width:l===void 0&&(l=n&&n>0?void 0:Ka.height),{width:i,height:l}}function Ay(){return Ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ay.apply(null,arguments)}function Nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nk(Object(r),!0).forEach(function(n){$H(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $H(e,t,r){return(t=qH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qH(e){var t=HH(e,"string");return typeof t=="symbol"?t:t+""}function HH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UT=j.createContext(Ka.initialDimension);function UH(e){return Hs(e.width)&&Hs(e.height)}function YT(e){var{children:t,width:r,height:n}=e,i=j.useMemo(()=>({width:r,height:n}),[r,n]);return UH(i)?j.createElement(UT.Provider,{value:i},t):null}var U1=()=>j.useContext(UT),YH=j.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=Ka.initialDimension,width:i,height:l,minWidth:c=Ka.minWidth,minHeight:u,maxHeight:f,children:m,debounce:h=Ka.debounce,id:x,className:v,onResize:g,style:S={}}=e,y=j.useRef(null),w=j.useRef();w.current=g,j.useImperativeHandle(t,()=>y.current);var[C,k]=j.useState({containerWidth:n.width,containerHeight:n.height}),A=j.useCallback((O,z)=>{k(F=>{var B=Math.round(O),E=Math.round(z);return F.containerWidth===B&&F.containerHeight===E?F:{containerWidth:B,containerHeight:E}})},[]);j.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return Pd;var O=E=>{var J,X=E[0];if(X!=null){var{width:re,height:L}=X.contentRect;A(re,L),(J=w.current)===null||J===void 0||J.call(w,re,L)}};h>0&&(O=PH(O,h,{trailing:!0,leading:!1}));var z=new ResizeObserver(O),{width:F,height:B}=y.current.getBoundingClientRect();return A(F,B),z.observe(y.current),()=>{z.disconnect()}},[A,h]);var{containerWidth:M,containerHeight:D}=C;wk(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:T,calculatedHeight:I}=HT(M,D,{width:i,height:l,aspect:r,maxHeight:f});return wk(T!=null&&T>0||I!=null&&I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,I,i,l,c,u,r),j.createElement("div",{id:x?"".concat(x):void 0,className:ut("recharts-responsive-container",v),style:Sk(Sk({},S),{},{width:i,height:l,minWidth:c,minHeight:u,maxHeight:f}),ref:y},j.createElement("div",{style:zH({width:i,height:l})},j.createElement(YT,{width:T,height:I},m)))}),Y1=j.forwardRef((e,t)=>{var r=U1();if(Hs(r.width)&&Hs(r.height))return e.children;var{width:n,height:i}=BH({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:l,calculatedHeight:c}=HT(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return tt(l)&&tt(c)?j.createElement(YT,{width:l,height:c},e.children):j.createElement(YH,Ay({},e,{width:n,height:i,ref:t}))});function V1(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var tx=()=>{var e,t=Ks(),r=st(kH),n=st(ex),i=(e=st(Jh))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},VH={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},GH=()=>{var e;return(e=st(zr))!==null&&e!==void 0?e:VH},WH=()=>st(Zi),KH=()=>st(Ji),nr=e=>e.layout.layoutType,rx=()=>st(nr),VT=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},QH=()=>{var e=rx();return e!==void 0},Fd=e=>{var t=Tr(),r=Ks(),{width:n,height:i}=e,l=U1(),c=n,u=i;return l&&(c=l.width>0?l.width:n,u=l.height>0?l.height:i),j.useEffect(()=>{!r&&Hs(c)&&Hs(u)&&t(rH({width:c,height:u}))},[t,r,c,u]),null},GT=Symbol.for("immer-nothing"),Ck=Symbol.for("immer-draftable"),$n=Symbol.for("immer-state");function ga(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var hd=Object.getPrototypeOf;function mc(e){return!!e&&!!e[$n]}function Kl(e){return e?WT(e)||Array.isArray(e)||!!e[Ck]||!!e.constructor?.[Ck]||zd(e)||ax(e):!1}var XH=Object.prototype.constructor.toString(),Ak=new WeakMap;function WT(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=Ak.get(r);return n===void 0&&(n=Function.toString.call(r),Ak.set(r,n)),n===XH}function Yp(e,t,r=!0){nx(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function nx(e){const t=e[$n];return t?t.type_:Array.isArray(e)?1:zd(e)?2:ax(e)?3:0}function ky(e,t){return nx(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function KT(e,t,r){const n=nx(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function ZH(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function zd(e){return e instanceof Map}function ax(e){return e instanceof Set}function kl(e){return e.copy_||e.base_}function My(e,t){if(zd(e))return new Map(e);if(ax(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=WT(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[$n];let i=Reflect.ownKeys(n);for(let l=0;l<i.length;l++){const c=i[l],u=n[c];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[c]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[c]})}return Object.create(hd(e),n)}else{const n=hd(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function G1(e,t=!1){return ix(e)||mc(e)||!Kl(e)||(nx(e)>1&&Object.defineProperties(e,{set:km,add:km,clear:km,delete:km}),Object.freeze(e),t&&Object.values(e).forEach(r=>G1(r,!0))),e}function JH(){ga(2)}var km={value:JH};function ix(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var e7={};function Ql(e){const t=e7[e];return t||ga(0,e),t}var xd;function QT(){return xd}function t7(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function kk(e,t){t&&(Ql("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Dy(e){Ey(e),e.drafts_.forEach(r7),e.drafts_=null}function Ey(e){e===xd&&(xd=e.parent_)}function Mk(e){return xd=t7(xd,e)}function r7(e){const t=e[$n];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Dk(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[$n].modified_&&(Dy(t),ga(4)),Kl(e)&&(e=Vp(t,e),t.parent_||Gp(t,e)),t.patches_&&Ql("Patches").generateReplacementPatches_(r[$n].base_,e,t.patches_,t.inversePatches_)):e=Vp(t,r,[]),Dy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==GT?e:void 0}function Vp(e,t,r){if(ix(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[$n];if(!i)return Yp(t,(l,c)=>Ek(e,i,t,l,c,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return Gp(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const l=i.copy_;let c=l,u=!1;i.type_===3&&(c=new Set(l),l.clear(),u=!0),Yp(c,(f,m)=>Ek(e,i,l,f,m,r,u),n),Gp(e,l,!1),r&&e.patches_&&Ql("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function Ek(e,t,r,n,i,l,c){if(i==null||typeof i!="object"&&!c)return;const u=ix(i);if(!(u&&!c)){if(mc(i)){const f=l&&t&&t.type_!==3&&!ky(t.assigned_,n)?l.concat(n):void 0,m=Vp(e,i,f);if(KT(r,n,m),mc(m))e.canAutoFreeze_=!1;else return}else c&&r.add(i);if(Kl(i)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&u)return;Vp(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(zd(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Gp(e,i)}}}function Gp(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&G1(t,r)}function n7(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:QT(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,l=W1;r&&(i=[n],l=vd);const{revoke:c,proxy:u}=Proxy.revocable(i,l);return n.draft_=u,n.revoke_=c,u}var W1={get(e,t){if(t===$n)return e;const r=kl(e);if(!ky(r,t))return a7(e,r,t);const n=r[t];return e.finalized_||!Kl(n)?n:n===ab(e.base_,t)?(ib(e),e.copy_[t]=Oy(n,e)):n},has(e,t){return t in kl(e)},ownKeys(e){return Reflect.ownKeys(kl(e))},set(e,t,r){const n=XT(kl(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=ab(kl(e),t),l=i?.[$n];if(l&&l.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(ZH(r,i)&&(r!==void 0||ky(e.base_,t)))return!0;ib(e),_y(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ab(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ib(e),_y(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=kl(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){ga(11)},getPrototypeOf(e){return hd(e.base_)},setPrototypeOf(){ga(12)}},vd={};Yp(W1,(e,t)=>{vd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});vd.deleteProperty=function(e,t){return vd.set.call(this,e,t,void 0)};vd.set=function(e,t,r){return W1.set.call(this,e[0],t,r,e[0])};function ab(e,t){const r=e[$n];return(r?kl(r):e)[t]}function a7(e,t,r){const n=XT(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function XT(e,t){if(!(t in e))return;let r=hd(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=hd(r)}}function _y(e){e.modified_||(e.modified_=!0,e.parent_&&_y(e.parent_))}function ib(e){e.copy_||(e.copy_=My(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var i7=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const l=r;r=t;const c=this;return function(f=l,...m){return c.produce(f,h=>r.call(this,h,...m))}}typeof r!="function"&&ga(6),n!==void 0&&typeof n!="function"&&ga(7);let i;if(Kl(t)){const l=Mk(this),c=Oy(t,void 0);let u=!0;try{i=r(c),u=!1}finally{u?Dy(l):Ey(l)}return kk(l,n),Dk(i,l)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===GT&&(i=void 0),this.autoFreeze_&&G1(i,!0),n){const l=[],c=[];Ql("Patches").generateReplacementPatches_(t,i,l,c),n(l,c)}return i}else ga(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...u)=>this.produceWithPatches(c,f=>t(f,...u));let n,i;return[this.produce(t,r,(c,u)=>{n=c,i=u}),n,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Kl(e)||ga(8),mc(e)&&(e=s7(e));const t=Mk(this),r=Oy(e,void 0);return r[$n].isManual_=!0,Ey(t),r}finishDraft(e,t){const r=e&&e[$n];(!r||!r.isManual_)&&ga(9);const{scope_:n}=r;return kk(n,t),Dk(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=Ql("Patches").applyPatches_;return mc(e)?n(e,t):this.produce(e,i=>n(i,t))}};function Oy(e,t){const r=zd(e)?Ql("MapSet").proxyMap_(e,t):ax(e)?Ql("MapSet").proxySet_(e,t):n7(e,t);return(t?t.scope_:QT()).drafts_.push(r),r}function s7(e){return mc(e)||ga(10,e),ZT(e)}function ZT(e){if(!Kl(e)||ix(e))return e;const t=e[$n];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=My(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=My(e,!0);return Yp(r,(i,l)=>{KT(r,i,ZT(l))},n),t&&(t.finalized_=!1),r}var l7=new i7;l7.produce;var o7={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},JT=wn({name:"legend",initialState:o7,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:er()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=wa(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:er()},removeLegendPayload:{reducer(e,t){var r=wa(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:er()}}}),{setLegendSize:_oe,setLegendSettings:Ooe,addLegendPayload:c7,replaceLegendPayload:u7,removeLegendPayload:d7}=JT.actions,f7=JT.reducer;function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ty.apply(null,arguments)}function _k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_k(Object(r),!0).forEach(function(n){m7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_k(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m7(e,t,r){return(t=p7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p7(e){var t=h7(e,"string");return typeof t=="symbol"?t:t+""}function h7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x7(e){return Array.isArray(e)&&Hi(e[0])&&Hi(e[1])?e.join(" ~ "):e}var qo={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},v7=e=>{var{separator:t=qo.separator,contentStyle:r,itemStyle:n,labelStyle:i=qo.labelStyle,payload:l,formatter:c,itemSorter:u,wrapperClassName:f,labelClassName:m,label:h,labelFormatter:x,accessibilityLayer:v=qo.accessibilityLayer}=e,g=()=>{if(l&&l.length){var D={padding:0,margin:0},T=(u?$h(l,u):l).map((I,O)=>{if(I.type==="none")return null;var z=I.formatter||c||x7,{value:F,name:B}=I,E=F,J=B;if(z){var X=z(F,B,I,O,l);if(Array.isArray(X))[E,J]=X;else if(X!=null)E=X;else return null}var re=Fu(Fu({},qo.itemStyle),{},{color:I.color||qo.itemStyle.color},n);return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:re},Hi(J)?j.createElement("span",{className:"recharts-tooltip-item-name"},J):null,Hi(J)?j.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,j.createElement("span",{className:"recharts-tooltip-item-value"},E),j.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:D},T)}return null},S=Fu(Fu({},qo.contentStyle),r),y=Fu({margin:0},i),w=!Bn(h),C=w?h:"",k=ut("recharts-default-tooltip",f),A=ut("recharts-tooltip-label",m);w&&x&&l!==void 0&&l!==null&&(C=x(h,l));var M=v?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",Ty({className:k,style:S},M),j.createElement("p",{className:A,style:y},j.isValidElement(C)?C:"".concat(C)),g())},zu="recharts-tooltip-wrapper",g7={visibility:"hidden"};function b7(e){var{coordinate:t,translateX:r,translateY:n}=e;return ut(zu,{["".concat(zu,"-right")]:tt(r)&&t&&tt(t.x)&&r>=t.x,["".concat(zu,"-left")]:tt(r)&&t&&tt(t.x)&&r<t.x,["".concat(zu,"-bottom")]:tt(n)&&t&&tt(t.y)&&n>=t.y,["".concat(zu,"-top")]:tt(n)&&t&&tt(t.y)&&n<t.y})}function Ok(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:i,position:l,reverseDirection:c,tooltipDimension:u,viewBox:f,viewBoxDimension:m}=e;if(l&&tt(l[n]))return l[n];var h=r[n]-u-(i>0?i:0),x=r[n]+i;if(t[n])return c[n]?h:x;var v=f[n];if(v==null)return 0;if(c[n]){var g=h,S=v;return g<S?Math.max(x,v):Math.max(h,v)}if(m==null)return 0;var y=x+u,w=v+m;return y>w?Math.max(h,v):Math.max(x,v)}function y7(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function j7(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:i,position:l,reverseDirection:c,tooltipBox:u,useTranslate3d:f,viewBox:m}=e,h,x,v;return u.height>0&&u.width>0&&r?(x=Ok({allowEscapeViewBox:t,coordinate:r,key:"x",offset:i,position:l,reverseDirection:c,tooltipDimension:u.width,viewBox:m,viewBoxDimension:m.width}),v=Ok({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:l,reverseDirection:c,tooltipDimension:u.height,viewBox:m,viewBoxDimension:m.height}),h=y7({translateX:x,translateY:v,useTranslate3d:f})):h=g7,{cssProperties:h,cssClasses:b7({translateX:x,translateY:v,coordinate:r})}}function Tk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tk(Object(r),!0).forEach(function(n){Py(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Py(e,t,r){return(t=w7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w7(e){var t=N7(e,"string");return typeof t=="symbol"?t:t+""}function N7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class S7 extends j.PureComponent{constructor(){super(...arguments),Py(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Py(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,l;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:l,coordinate:c,hasPayload:u,isAnimationActive:f,offset:m,position:h,reverseDirection:x,useTranslate3d:v,viewBox:g,wrapperStyle:S,lastBoundingBox:y,innerRef:w,hasPortalFromProps:C}=this.props,k=typeof m=="number"?m:m.x,A=typeof m=="number"?m:m.y,{cssClasses:M,cssProperties:D}=j7({allowEscapeViewBox:r,coordinate:c,offsetLeft:k,offsetTop:A,position:h,reverseDirection:x,tooltipBox:{height:y.height,width:y.width},useTranslate3d:v,viewBox:g}),T=C?{}:Mm(Mm({transition:f&&t?"transform ".concat(n,"ms ").concat(i):void 0},D),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),I=Mm(Mm({},T),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},S);return j.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:M,style:I,ref:w},l)}}var eP=()=>{var e;return(e=st(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iy.apply(null,arguments)}function Pk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ik(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pk(Object(r),!0).forEach(function(n){C7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C7(e,t,r){return(t=A7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A7(e){var t=k7(e,"string");return typeof t=="symbol"?t:t+""}function k7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rk={curveBasisClosed:C$,curveBasisOpen:A$,curveBasis:S$,curveBumpX:u$,curveBumpY:d$,curveLinearClosed:k$,curveLinear:zh,curveMonotoneX:M$,curveMonotoneY:D$,curveNatural:E$,curveStep:_$,curveStepAfter:T$,curveStepBefore:O$},Wp=e=>$t(e.x)&&$t(e.y),Lk=e=>e.base!=null&&Wp(e.base)&&Wp(e),Bu=e=>e.x,$u=e=>e.y,M7=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Td(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=Rk["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return Rk[r]||zh},Fk={connectNulls:!1,type:"linear"},D7=e=>{var{type:t=Fk.type,points:r=[],baseLine:n,layout:i,connectNulls:l=Fk.connectNulls}=e,c=M7(t,i),u=l?r.filter(Wp):r;if(Array.isArray(n)){var f,m=r.map((S,y)=>Ik(Ik({},S),{},{base:n[y]}));i==="vertical"?f=ym().y($u).x1(Bu).x0(S=>S.base.x):f=ym().x(Bu).y1($u).y0(S=>S.base.y);var h=f.defined(Lk).curve(c),x=l?m.filter(Lk):m;return h(x)}var v;i==="vertical"&&tt(n)?v=ym().y($u).x1(Bu).x0(n):tt(n)?v=ym().x(Bu).y1($u).y0(n):v=IO().x(Bu).y($u);var g=v.defined(Wp).curve(c);return g(u)},K1=e=>{var{className:t,points:r,path:n,pathRef:i}=e,l=rx();if((!r||!r.length)&&!n)return null;var c={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||l,connectNulls:e.connectNulls},u=r&&r.length?D7(c):n;return j.createElement("path",Iy({},dc(e),n9(e),{className:ut("recharts-curve",t),d:u===null?void 0:u,ref:i}))},E7=["x","y","top","left","width","height","className"];function Ry(){return Ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ry.apply(null,arguments)}function zk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zk(Object(r),!0).forEach(function(n){O7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O7(e,t,r){return(t=T7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T7(e){var t=P7(e,"string");return typeof t=="symbol"?t:t+""}function P7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I7(e,t){if(e==null)return{};var r,n,i=R7(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function R7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var L7=(e,t,r,n,i,l)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(l,",").concat(t,"h").concat(r),F7=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:l=0,height:c=0,className:u}=e,f=I7(e,E7),m=_7({x:t,y:r,top:n,left:i,width:l,height:c},f);return!tt(t)||!tt(r)||!tt(l)||!tt(c)||!tt(n)||!tt(i)?null:j.createElement("path",Ry({},ia(m),{className:ut("recharts-cross",u),d:L7(t,r,l,c,n,i)}))};function z7(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Bk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $k(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bk(Object(r),!0).forEach(function(n){B7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function B7(e,t,r){return(t=$7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $7(e){var t=q7(e,"string");return typeof t=="symbol"?t:t+""}function q7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var H7=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),tP=(e,t,r)=>e.map(n=>"".concat(H7(n)," ").concat(t,"ms ").concat(r)).join(","),U7=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),gd=(e,t)=>Object.keys(t).reduce((r,n)=>$k($k({},r),{},{[n]:e(n,t[n])}),{});function qk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qk(Object(r),!0).forEach(function(n){Y7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y7(e,t,r){return(t=V7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V7(e){var t=G7(e,"string");return typeof t=="symbol"?t:t+""}function G7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kp=(e,t,r)=>e+(t-e)*r,Ly=e=>{var{from:t,to:r}=e;return t!==r},rP=(e,t,r)=>{var n=gd((i,l)=>{if(Ly(l)){var[c,u]=e(l.from,l.to,l.velocity);return Or(Or({},l),{},{from:c,velocity:u})}return l},t);return r<1?gd((i,l)=>Ly(l)&&n[i]!=null?Or(Or({},l),{},{velocity:Kp(l.velocity,n[i].velocity,r),from:Kp(l.from,n[i].from,r)}):l,t):rP(e,n,r-1)};function W7(e,t,r,n,i,l){var c,u=n.reduce((v,g)=>Or(Or({},v),{},{[g]:{from:e[g],velocity:0,to:t[g]}}),{}),f=()=>gd((v,g)=>g.from,u),m=()=>!Object.values(u).filter(Ly).length,h=null,x=v=>{c||(c=v);var g=v-c,S=g/r.dt;u=rP(r,u,S),i(Or(Or(Or({},e),t),f())),c=v,m()||(h=l.setTimeout(x))};return()=>(h=l.setTimeout(x),()=>{var v;(v=h)===null||v===void 0||v()})}function K7(e,t,r,n,i,l,c){var u=null,f=i.reduce((x,v)=>{var g=e[v],S=t[v];return g==null||S==null?x:Or(Or({},x),{},{[v]:[g,S]})},{}),m,h=x=>{m||(m=x);var v=(x-m)/n,g=gd((y,w)=>Kp(...w,r(v)),f);if(l(Or(Or(Or({},e),t),g)),v<1)u=c.setTimeout(h);else{var S=gd((y,w)=>Kp(...w,r(1)),f);l(Or(Or(Or({},e),t),S))}};return()=>(u=c.setTimeout(h),()=>{var x;(x=u)===null||x===void 0||x()})}const Q7=(e,t,r,n,i,l)=>{var c=U7(e,t);return r==null?()=>(i(Or(Or({},e),t)),()=>{}):r.isStepper===!0?W7(e,t,r,c,i,l):K7(e,t,r,n,c,i,l)};var Qp=1e-4,nP=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],aP=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Hk=(e,t)=>r=>{var n=nP(e,t);return aP(n,r)},X7=(e,t)=>r=>{var n=nP(e,t),i=[...n.map((l,c)=>l*c).slice(1),0];return aP(i,r)},Z7=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var i=n.map(l=>parseFloat(l));return[i[0],i[1],i[2],i[3]]},J7=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=Z7(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},eU=(e,t,r,n)=>{var i=Hk(e,r),l=Hk(t,n),c=X7(e,r),u=m=>m>1?1:m<0?0:m,f=m=>{for(var h=m>1?1:m,x=h,v=0;v<8;++v){var g=i(x)-h,S=c(x);if(Math.abs(g-h)<Qp||S<Qp)return l(x);x=u(x-g/S)}return l(x)};return f.isStepper=!1,f},Uk=function(){return eU(...J7(...arguments))},tU=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,l=(c,u,f)=>{var m=-(c-u)*r,h=f*n,x=f+(m-h)*i/1e3,v=f*i/1e3+c;return Math.abs(v-u)<Qp&&Math.abs(x)<Qp?[u,0]:[v,x]};return l.isStepper=!0,l.dt=i,l},rU=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Uk(e);case"spring":return tU();default:if(e.split("(")[0]==="cubic-bezier")return Uk(e)}return typeof e=="function"?e:null};function nU(e){var t,r=()=>null,n=!1,i=null,l=c=>{if(!n){if(Array.isArray(c)){if(!c.length)return;var u=c,[f,...m]=u;if(typeof f=="number"){i=e.setTimeout(l.bind(null,m),f);return}l(f),i=e.setTimeout(l.bind(null,m));return}typeof c=="string"&&(t=c,r(t)),typeof c=="object"&&(t=c,r(t)),typeof c=="function"&&c()}};return{stop:()=>{n=!0},start:c=>{n=!1,i&&(i(),i=null),l(c)},subscribe:c=>(r=c,()=>{r=()=>null}),getTimeoutController:()=>e}}class aU{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,l=c=>{c-n>=r?t(c):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(l))};return i=requestAnimationFrame(l),()=>{i!=null&&cancelAnimationFrame(i)}}}function iU(){return nU(new aU)}var sU=j.createContext(iU);function lU(e,t){var r=j.useContext(sU);return j.useMemo(()=>t??r(e),[e,t,r])}var oU=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Q1={isSsr:oU()},cU={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Yk={t:0},sb={t:1};function X1(e){var t=ci(e,cU),{isActive:r,canBegin:n,duration:i,easing:l,begin:c,onAnimationEnd:u,onAnimationStart:f,children:m}=t,h=r==="auto"?!Q1.isSsr:r,x=lU(t.animationId,t.animationManager),[v,g]=j.useState(h?Yk:sb),S=j.useRef(null);return j.useEffect(()=>{h||g(sb)},[h]),j.useEffect(()=>{if(!h||!n)return Pd;var y=Q7(Yk,sb,rU(l),i,g,x.getTimeoutController()),w=()=>{S.current=y()};return x.start([f,c,w,i,u]),()=>{x.stop(),S.current&&S.current(),u()}},[h,n,i,l,c,f,u,x]),m(v.t)}function Z1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=j.useRef(dd(t)),n=j.useRef(e);return n.current!==e&&(r.current=dd(t),n.current=e),r.current}var uU=["radius"],dU=["radius"],Vk,Gk,Wk,Kk,Qk,Xk,Zk,Jk,eM,tM;function rM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rM(Object(r),!0).forEach(function(n){fU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fU(e,t,r){return(t=mU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mU(e){var t=pU(e,"string");return typeof t=="symbol"?t:t+""}function pU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xp(){return Xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xp.apply(null,arguments)}function aM(e,t){if(e==null)return{};var r,n,i=hU(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function hU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ba(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var iM=(e,t,r,n,i)=>{var l=Is(r),c=Is(n),u=Math.min(Math.abs(l)/2,Math.abs(c)/2),f=c>=0?1:-1,m=l>=0?1:-1,h=c>=0&&l>=0||c<0&&l<0?1:0,x;if(u>0&&Array.isArray(i)){for(var v=[0,0,0,0],g=0,S=4;g<S;g++){var y,w=(y=i[g])!==null&&y!==void 0?y:0;v[g]=w>u?u:w}x=dr(Vk||(Vk=Ba(["M",",",""])),e,t+f*v[0]),v[0]>0&&(x+=dr(Gk||(Gk=Ba(["A ",",",",0,0,",",",",",""])),v[0],v[0],h,e+m*v[0],t)),x+=dr(Wk||(Wk=Ba(["L ",",",""])),e+r-m*v[1],t),v[1]>0&&(x+=dr(Kk||(Kk=Ba(["A ",",",",0,0,",`,
        `,",",""])),v[1],v[1],h,e+r,t+f*v[1])),x+=dr(Qk||(Qk=Ba(["L ",",",""])),e+r,t+n-f*v[2]),v[2]>0&&(x+=dr(Xk||(Xk=Ba(["A ",",",",0,0,",`,
        `,",",""])),v[2],v[2],h,e+r-m*v[2],t+n)),x+=dr(Zk||(Zk=Ba(["L ",",",""])),e+m*v[3],t+n),v[3]>0&&(x+=dr(Jk||(Jk=Ba(["A ",",",",0,0,",`,
        `,",",""])),v[3],v[3],h,e,t+n-f*v[3])),x+="Z"}else if(u>0&&i===+i&&i>0){var C=Math.min(u,i);x=dr(eM||(eM=Ba(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+f*C,C,C,h,e+m*C,t,e+r-m*C,t,C,C,h,e+r,t+f*C,e+r,t+n-f*C,C,C,h,e+r-m*C,t+n,e+m*C,t+n,C,C,h,e,t+n-f*C)}else x=dr(tM||(tM=Ba(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return x},sM={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},iP=e=>{var t=ci(e,sM),r=j.useRef(null),[n,i]=j.useState(-1);j.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var U=r.current.getTotalLength();U&&i(U)}catch{}},[]);var{x:l,y:c,width:u,height:f,radius:m,className:h}=t,{animationEasing:x,animationDuration:v,animationBegin:g,isAnimationActive:S,isUpdateAnimationActive:y}=t,w=j.useRef(u),C=j.useRef(f),k=j.useRef(l),A=j.useRef(c),M=j.useMemo(()=>({x:l,y:c,width:u,height:f,radius:m}),[l,c,u,f,m]),D=Z1(M,"rectangle-");if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var T=ut("recharts-rectangle",h);if(!y){var I=ia(t),{radius:O}=I,z=aM(I,uU);return j.createElement("path",Xp({},z,{x:Is(l),y:Is(c),width:Is(u),height:Is(f),radius:typeof m=="number"?m:void 0,className:T,d:iM(l,c,u,f,m)}))}var F=w.current,B=C.current,E=k.current,J=A.current,X="0px ".concat(n===-1?1:n,"px"),re="".concat(n,"px 0px"),L=tP(["strokeDasharray"],v,typeof x=="string"?x:sM.animationEasing);return j.createElement(X1,{animationId:D,key:D,canBegin:n>0,duration:v,easing:x,isActive:y,begin:g},U=>{var V=xa(F,u,U),Ne=xa(B,f,U),De=xa(E,l,U),P=xa(J,c,U);r.current&&(w.current=V,C.current=Ne,k.current=De,A.current=P);var W;S?U>0?W={transition:L,strokeDasharray:re}:W={strokeDasharray:X}:W={strokeDasharray:re};var ne=ia(t),{radius:de}=ne,q=aM(ne,dU);return j.createElement("path",Xp({},q,{radius:typeof m=="number"?m:void 0,className:T,d:iM(De,P,V,Ne,m),ref:r,style:nM(nM({},W),t.style)}))})};function lM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lM(Object(r),!0).forEach(function(n){xU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xU(e,t,r){return(t=vU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vU(e){var t=gU(e,"string");return typeof t=="symbol"?t:t+""}function gU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zp=Math.PI/180,bU=e=>e*180/Math.PI,Mr=(e,t,r,n)=>({x:e+Math.cos(-Zp*n)*r,y:t+Math.sin(-Zp*n)*r}),sP=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},yU=(e,t)=>{var{x:r,y:n}=e,{x:i,y:l}=t;return Math.sqrt((r-i)**2+(n-l)**2)},jU=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:l}=t,c=yU({x:r,y:n},{x:i,y:l});if(c<=0)return{radius:c,angle:0};var u=(r-i)/c,f=Math.acos(u);return n>l&&(f=2*Math.PI-f),{radius:c,angle:bU(f),angleInRadian:f}},wU=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),l=Math.min(n,i);return{startAngle:t-l*360,endAngle:r-l*360}},NU=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),l=Math.floor(n/360),c=Math.min(i,l);return e+c*360},SU=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:l}=jU({x:r,y:n},t),{innerRadius:c,outerRadius:u}=t;if(i<c||i>u||i===0)return null;var{startAngle:f,endAngle:m}=wU(t),h=l,x;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;x=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;x=h>=m&&h<=f}return x?oM(oM({},t),{},{radius:i,angle:NU(h,t)}):null};function lP(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:l}=e,c=Mr(t,r,n,i),u=Mr(t,r,n,l);return{points:[c,u],cx:t,cy:r,radius:n,startAngle:i,endAngle:l}}var cM,uM,dM,fM,mM,pM,hM;function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fy.apply(null,arguments)}function Tl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var CU=(e,t)=>{var r=bn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Dm=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:l,isExternal:c,cornerRadius:u,cornerIsExternal:f}=e,m=u*(c?1:-1)+n,h=Math.asin(u/m)/Zp,x=f?i:i+l*h,v=Mr(t,r,m,x),g=Mr(t,r,n,x),S=f?i-l*h:i,y=Mr(t,r,m*Math.cos(h*Zp),S);return{center:v,circleTangency:g,lineTangency:y,theta:h}},oP=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:c}=e,u=CU(l,c),f=l+u,m=Mr(t,r,i,l),h=Mr(t,r,i,f),x=dr(cM||(cM=Tl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),m.x,m.y,i,i,+(Math.abs(u)>180),+(l>f),h.x,h.y);if(n>0){var v=Mr(t,r,n,l),g=Mr(t,r,n,f);x+=dr(uM||(uM=Tl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),g.x,g.y,n,n,+(Math.abs(u)>180),+(l<=f),v.x,v.y)}else x+=dr(dM||(dM=Tl(["L ",","," Z"])),t,r);return x},AU=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:m}=e,h=bn(m-f),{circleTangency:x,lineTangency:v,theta:g}=Dm({cx:t,cy:r,radius:i,angle:f,sign:h,cornerRadius:l,cornerIsExternal:u}),{circleTangency:S,lineTangency:y,theta:w}=Dm({cx:t,cy:r,radius:i,angle:m,sign:-h,cornerRadius:l,cornerIsExternal:u}),C=u?Math.abs(f-m):Math.abs(f-m)-g-w;if(C<0)return c?dr(fM||(fM=Tl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),v.x,v.y,l,l,l*2,l,l,-l*2):oP({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:f,endAngle:m});var k=dr(mM||(mM=Tl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),v.x,v.y,l,l,+(h<0),x.x,x.y,i,i,+(C>180),+(h<0),S.x,S.y,l,l,+(h<0),y.x,y.y);if(n>0){var{circleTangency:A,lineTangency:M,theta:D}=Dm({cx:t,cy:r,radius:n,angle:f,sign:h,isExternal:!0,cornerRadius:l,cornerIsExternal:u}),{circleTangency:T,lineTangency:I,theta:O}=Dm({cx:t,cy:r,radius:n,angle:m,sign:-h,isExternal:!0,cornerRadius:l,cornerIsExternal:u}),z=u?Math.abs(f-m):Math.abs(f-m)-D-O;if(z<0&&l===0)return"".concat(k,"L").concat(t,",").concat(r,"Z");k+=dr(pM||(pM=Tl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),I.x,I.y,l,l,+(h<0),T.x,T.y,n,n,+(z>180),+(h>0),A.x,A.y,l,l,+(h<0),M.x,M.y)}else k+=dr(hM||(hM=Tl(["L",",","Z"])),t,r);return k},kU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},cP=e=>{var t=ci(e,kU),{cx:r,cy:n,innerRadius:i,outerRadius:l,cornerRadius:c,forceCornerRadius:u,cornerIsExternal:f,startAngle:m,endAngle:h,className:x}=t;if(l<i||m===h)return null;var v=ut("recharts-sector",x),g=l-i,S=Ln(c,g,0,!0),y;return S>0&&Math.abs(m-h)<360?y=AU({cx:r,cy:n,innerRadius:i,outerRadius:l,cornerRadius:Math.min(S,g/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:m,endAngle:h}):y=oP({cx:r,cy:n,innerRadius:i,outerRadius:l,startAngle:m,endAngle:h}),j.createElement("path",Fy({},ia(t),{className:v,d:y}))};function MU(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(QO(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:l,outerRadius:c,angle:u}=t,f=Mr(n,i,l,u),m=Mr(n,i,c,u);return[{x:f.x,y:f.y},{x:m.x,y:m.y}]}return lP(t)}}var lb={},ob={},cb={},xM;function DU(){return xM||(xM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sT();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(cb)),cb}var vM;function EU(){return vM||(vM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DU();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(ob)),ob}var gM;function _U(){return gM||(gM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lT(),r=EU();function n(i,l,c){c&&typeof c!="number"&&t.isIterateeCall(i,l,c)&&(l=c=void 0),i=r.toFinite(i),l===void 0?(l=i,i=0):l=r.toFinite(l),c=c===void 0?i<l?1:-1:r.toFinite(c);const u=Math.max(Math.ceil((l-i)/(c||1)),0),f=new Array(u);for(let m=0;m<u;m++)f[m]=i,i+=c;return f}e.range=n})(lb)),lb}var ub,bM;function OU(){return bM||(bM=1,ub=_U().range),ub}var TU=OU();const uP=si(TU);function Ls(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function PU(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function J1(e){let t,r,n;e.length!==2?(t=Ls,r=(u,f)=>Ls(e(u),f),n=(u,f)=>e(u)-f):(t=e===Ls||e===PU?e:IU,r=e,n=e);function i(u,f,m=0,h=u.length){if(m<h){if(t(f,f)!==0)return h;do{const x=m+h>>>1;r(u[x],f)<0?m=x+1:h=x}while(m<h)}return m}function l(u,f,m=0,h=u.length){if(m<h){if(t(f,f)!==0)return h;do{const x=m+h>>>1;r(u[x],f)<=0?m=x+1:h=x}while(m<h)}return m}function c(u,f,m=0,h=u.length){const x=i(u,f,m,h-1);return x>m&&n(u[x-1],f)>-n(u[x],f)?x-1:x}return{left:i,center:c,right:l}}function IU(){return 0}function dP(e){return e===null?NaN:+e}function*RU(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const LU=J1(Ls),Bd=LU.right;J1(dP).center;class yM extends Map{constructor(t,r=BU){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(jM(this,t))}has(t){return super.has(jM(this,t))}set(t,r){return super.set(FU(this,t),r)}delete(t){return super.delete(zU(this,t))}}function jM({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function FU({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function zU({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function BU(e){return e!==null&&typeof e=="object"?e.valueOf():e}function $U(e=Ls){if(e===Ls)return fP;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function fP(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const qU=Math.sqrt(50),HU=Math.sqrt(10),UU=Math.sqrt(2);function Jp(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),l=n/Math.pow(10,i),c=l>=qU?10:l>=HU?5:l>=UU?2:1;let u,f,m;return i<0?(m=Math.pow(10,-i)/c,u=Math.round(e*m),f=Math.round(t*m),u/m<e&&++u,f/m>t&&--f,m=-m):(m=Math.pow(10,i)*c,u=Math.round(e/m),f=Math.round(t/m),u*m<e&&++u,f*m>t&&--f),f<u&&.5<=r&&r<2?Jp(e,t,r*2):[u,f,m]}function zy(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,l,c]=n?Jp(t,e,r):Jp(e,t,r);if(!(l>=i))return[];const u=l-i+1,f=new Array(u);if(n)if(c<0)for(let m=0;m<u;++m)f[m]=(l-m)/-c;else for(let m=0;m<u;++m)f[m]=(l-m)*c;else if(c<0)for(let m=0;m<u;++m)f[m]=(i+m)/-c;else for(let m=0;m<u;++m)f[m]=(i+m)*c;return f}function By(e,t,r){return t=+t,e=+e,r=+r,Jp(e,t,r)[2]}function $y(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?By(t,e,r):By(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function wM(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function NM(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function mP(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?fP:$U(i);n>r;){if(n-r>600){const f=n-r+1,m=t-r+1,h=Math.log(f),x=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*x*(f-x)/f)*(m-f/2<0?-1:1),g=Math.max(r,Math.floor(t-m*x/f+v)),S=Math.min(n,Math.floor(t+(f-m)*x/f+v));mP(e,t,g,S,i)}const l=e[t];let c=r,u=n;for(qu(e,r,t),i(e[n],l)>0&&qu(e,r,n);c<u;){for(qu(e,c,u),++c,--u;i(e[c],l)<0;)++c;for(;i(e[u],l)>0;)--u}i(e[r],l)===0?qu(e,r,u):(++u,qu(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function qu(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function YU(e,t,r){if(e=Float64Array.from(RU(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return NM(e);if(t>=1)return wM(e);var n,i=(n-1)*t,l=Math.floor(i),c=wM(mP(e,l).subarray(0,l+1)),u=NM(e.subarray(l+1));return c+(u-c)*(i-l)}}function VU(e,t,r=dP){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,l=Math.floor(i),c=+r(e[l],l,e),u=+r(e[l+1],l+1,e);return c+(u-c)*(i-l)}}function GU(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,l=new Array(i);++n<i;)l[n]=e+n*r;return l}function ua(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function es(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const qy=Symbol("implicit");function ej(){var e=new yM,t=[],r=[],n=qy;function i(l){let c=e.get(l);if(c===void 0){if(n!==qy)return n;e.set(l,c=t.push(l)-1)}return r[c%r.length]}return i.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new yM;for(const c of l)e.has(c)||e.set(c,t.push(c)-1);return i},i.range=function(l){return arguments.length?(r=Array.from(l),i):r.slice()},i.unknown=function(l){return arguments.length?(n=l,i):n},i.copy=function(){return ej(t,r).unknown(n)},ua.apply(i,arguments),i}function tj(){var e=ej().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,l,c,u=!1,f=0,m=0,h=.5;delete e.unknown;function x(){var v=t().length,g=i<n,S=g?i:n,y=g?n:i;l=(y-S)/Math.max(1,v-f+m*2),u&&(l=Math.floor(l)),S+=(y-S-l*(v-f))*h,c=l*(1-f),u&&(S=Math.round(S),c=Math.round(c));var w=GU(v).map(function(C){return S+l*C});return r(g?w.reverse():w)}return e.domain=function(v){return arguments.length?(t(v),x()):t()},e.range=function(v){return arguments.length?([n,i]=v,n=+n,i=+i,x()):[n,i]},e.rangeRound=function(v){return[n,i]=v,n=+n,i=+i,u=!0,x()},e.bandwidth=function(){return c},e.step=function(){return l},e.round=function(v){return arguments.length?(u=!!v,x()):u},e.padding=function(v){return arguments.length?(f=Math.min(1,m=+v),x()):f},e.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),x()):f},e.paddingOuter=function(v){return arguments.length?(m=+v,x()):m},e.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),x()):h},e.copy=function(){return tj(t(),[n,i]).round(u).paddingInner(f).paddingOuter(m).align(h)},ua.apply(x(),arguments)}function pP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return pP(t())},e}function WU(){return pP(tj.apply(null,arguments).paddingInner(1))}function rj(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function hP(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function $d(){}var bd=.7,eh=1/bd,sc="\\s*([+-]?\\d+)\\s*",yd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ei="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",KU=/^#([0-9a-f]{3,8})$/,QU=new RegExp(`^rgb\\(${sc},${sc},${sc}\\)$`),XU=new RegExp(`^rgb\\(${ei},${ei},${ei}\\)$`),ZU=new RegExp(`^rgba\\(${sc},${sc},${sc},${yd}\\)$`),JU=new RegExp(`^rgba\\(${ei},${ei},${ei},${yd}\\)$`),eY=new RegExp(`^hsl\\(${yd},${ei},${ei}\\)$`),tY=new RegExp(`^hsla\\(${yd},${ei},${ei},${yd}\\)$`),SM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rj($d,jd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:CM,formatHex:CM,formatHex8:rY,formatHsl:nY,formatRgb:AM,toString:AM});function CM(){return this.rgb().formatHex()}function rY(){return this.rgb().formatHex8()}function nY(){return xP(this).formatHsl()}function AM(){return this.rgb().formatRgb()}function jd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=KU.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?kM(t):r===3?new yn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Em(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Em(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=QU.exec(e))?new yn(t[1],t[2],t[3],1):(t=XU.exec(e))?new yn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ZU.exec(e))?Em(t[1],t[2],t[3],t[4]):(t=JU.exec(e))?Em(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=eY.exec(e))?EM(t[1],t[2]/100,t[3]/100,1):(t=tY.exec(e))?EM(t[1],t[2]/100,t[3]/100,t[4]):SM.hasOwnProperty(e)?kM(SM[e]):e==="transparent"?new yn(NaN,NaN,NaN,0):null}function kM(e){return new yn(e>>16&255,e>>8&255,e&255,1)}function Em(e,t,r,n){return n<=0&&(e=t=r=NaN),new yn(e,t,r,n)}function aY(e){return e instanceof $d||(e=jd(e)),e?(e=e.rgb(),new yn(e.r,e.g,e.b,e.opacity)):new yn}function Hy(e,t,r,n){return arguments.length===1?aY(e):new yn(e,t,r,n??1)}function yn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}rj(yn,Hy,hP($d,{brighter(e){return e=e==null?eh:Math.pow(eh,e),new yn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?bd:Math.pow(bd,e),new yn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new yn(Bl(this.r),Bl(this.g),Bl(this.b),th(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:MM,formatHex:MM,formatHex8:iY,formatRgb:DM,toString:DM}));function MM(){return`#${Pl(this.r)}${Pl(this.g)}${Pl(this.b)}`}function iY(){return`#${Pl(this.r)}${Pl(this.g)}${Pl(this.b)}${Pl((isNaN(this.opacity)?1:this.opacity)*255)}`}function DM(){const e=th(this.opacity);return`${e===1?"rgb(":"rgba("}${Bl(this.r)}, ${Bl(this.g)}, ${Bl(this.b)}${e===1?")":`, ${e})`}`}function th(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Bl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Pl(e){return e=Bl(e),(e<16?"0":"")+e.toString(16)}function EM(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ba(e,t,r,n)}function xP(e){if(e instanceof ba)return new ba(e.h,e.s,e.l,e.opacity);if(e instanceof $d||(e=jd(e)),!e)return new ba;if(e instanceof ba)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),l=Math.max(t,r,n),c=NaN,u=l-i,f=(l+i)/2;return u?(t===l?c=(r-n)/u+(r<n)*6:r===l?c=(n-t)/u+2:c=(t-r)/u+4,u/=f<.5?l+i:2-l-i,c*=60):u=f>0&&f<1?0:c,new ba(c,u,f,e.opacity)}function sY(e,t,r,n){return arguments.length===1?xP(e):new ba(e,t,r,n??1)}function ba(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}rj(ba,sY,hP($d,{brighter(e){return e=e==null?eh:Math.pow(eh,e),new ba(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?bd:Math.pow(bd,e),new ba(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new yn(db(e>=240?e-240:e+120,i,n),db(e,i,n),db(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new ba(_M(this.h),_m(this.s),_m(this.l),th(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=th(this.opacity);return`${e===1?"hsl(":"hsla("}${_M(this.h)}, ${_m(this.s)*100}%, ${_m(this.l)*100}%${e===1?")":`, ${e})`}`}}));function _M(e){return e=(e||0)%360,e<0?e+360:e}function _m(e){return Math.max(0,Math.min(1,e||0))}function db(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const nj=e=>()=>e;function lY(e,t){return function(r){return e+r*t}}function oY(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function cY(e){return(e=+e)==1?vP:function(t,r){return r-t?oY(t,r,e):nj(isNaN(t)?r:t)}}function vP(e,t){var r=t-e;return r?lY(e,r):nj(isNaN(e)?t:e)}const OM=(function e(t){var r=cY(t);function n(i,l){var c=r((i=Hy(i)).r,(l=Hy(l)).r),u=r(i.g,l.g),f=r(i.b,l.b),m=vP(i.opacity,l.opacity);return function(h){return i.r=c(h),i.g=u(h),i.b=f(h),i.opacity=m(h),i+""}}return n.gamma=e,n})(1);function uY(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(l){for(i=0;i<r;++i)n[i]=e[i]*(1-l)+t[i]*l;return n}}function dY(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function fY(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),l=new Array(r),c;for(c=0;c<n;++c)i[c]=Oc(e[c],t[c]);for(;c<r;++c)l[c]=t[c];return function(u){for(c=0;c<n;++c)l[c]=i[c](u);return l}}function mY(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function rh(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function pY(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Oc(e[i],t[i]):n[i]=t[i];return function(l){for(i in r)n[i]=r[i](l);return n}}var Uy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fb=new RegExp(Uy.source,"g");function hY(e){return function(){return e}}function xY(e){return function(t){return e(t)+""}}function vY(e,t){var r=Uy.lastIndex=fb.lastIndex=0,n,i,l,c=-1,u=[],f=[];for(e=e+"",t=t+"";(n=Uy.exec(e))&&(i=fb.exec(t));)(l=i.index)>r&&(l=t.slice(r,l),u[c]?u[c]+=l:u[++c]=l),(n=n[0])===(i=i[0])?u[c]?u[c]+=i:u[++c]=i:(u[++c]=null,f.push({i:c,x:rh(n,i)})),r=fb.lastIndex;return r<t.length&&(l=t.slice(r),u[c]?u[c]+=l:u[++c]=l),u.length<2?f[0]?xY(f[0].x):hY(t):(t=f.length,function(m){for(var h=0,x;h<t;++h)u[(x=f[h]).i]=x.x(m);return u.join("")})}function Oc(e,t){var r=typeof t,n;return t==null||r==="boolean"?nj(t):(r==="number"?rh:r==="string"?(n=jd(t))?(t=n,OM):vY:t instanceof jd?OM:t instanceof Date?mY:dY(t)?uY:Array.isArray(t)?fY:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?pY:rh)(e,t)}function aj(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function gY(e,t){t===void 0&&(t=e,e=Oc);for(var r=0,n=t.length-1,i=t[0],l=new Array(n<0?0:n);r<n;)l[r]=e(i,i=t[++r]);return function(c){var u=Math.max(0,Math.min(n-1,Math.floor(c*=n)));return l[u](c-u)}}function bY(e){return function(){return e}}function nh(e){return+e}var TM=[0,1];function an(e){return e}function Yy(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:bY(isNaN(t)?NaN:.5)}function yY(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function jY(e,t,r){var n=e[0],i=e[1],l=t[0],c=t[1];return i<n?(n=Yy(i,n),l=r(c,l)):(n=Yy(n,i),l=r(l,c)),function(u){return l(n(u))}}function wY(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),l=new Array(n),c=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<n;)i[c]=Yy(e[c],e[c+1]),l[c]=r(t[c],t[c+1]);return function(u){var f=Bd(e,u,1,n)-1;return l[f](i[f](u))}}function qd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function sx(){var e=TM,t=TM,r=Oc,n,i,l,c=an,u,f,m;function h(){var v=Math.min(e.length,t.length);return c!==an&&(c=yY(e[0],e[v-1])),u=v>2?wY:jY,f=m=null,x}function x(v){return v==null||isNaN(v=+v)?l:(f||(f=u(e.map(n),t,r)))(n(c(v)))}return x.invert=function(v){return c(i((m||(m=u(t,e.map(n),rh)))(v)))},x.domain=function(v){return arguments.length?(e=Array.from(v,nh),h()):e.slice()},x.range=function(v){return arguments.length?(t=Array.from(v),h()):t.slice()},x.rangeRound=function(v){return t=Array.from(v),r=aj,h()},x.clamp=function(v){return arguments.length?(c=v?!0:an,h()):c!==an},x.interpolate=function(v){return arguments.length?(r=v,h()):r},x.unknown=function(v){return arguments.length?(l=v,x):l},function(v,g){return n=v,i=g,h()}}function ij(){return sx()(an,an)}function NY(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ah(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function pc(e){return e=ah(Math.abs(e)),e?e[1]:NaN}function SY(e,t){return function(r,n){for(var i=r.length,l=[],c=0,u=e[0],f=0;i>0&&u>0&&(f+u+1>n&&(u=Math.max(1,n-f)),l.push(r.substring(i-=u,i+u)),!((f+=u+1)>n));)u=e[c=(c+1)%e.length];return l.reverse().join(t)}}function CY(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var AY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wd(e){if(!(t=AY.exec(e)))throw new Error("invalid format: "+e);var t;return new sj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}wd.prototype=sj.prototype;function sj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}sj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function kY(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var ih;function MY(e,t){var r=ah(e,t);if(!r)return ih=void 0,e.toPrecision(t);var n=r[0],i=r[1],l=i-(ih=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,c=n.length;return l===c?n:l>c?n+new Array(l-c+1).join("0"):l>0?n.slice(0,l)+"."+n.slice(l):"0."+new Array(1-l).join("0")+ah(e,Math.max(0,t+l-1))[0]}function PM(e,t){var r=ah(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const IM={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:NY,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>PM(e*100,t),r:PM,s:MY,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function RM(e){return e}var LM=Array.prototype.map,FM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function DY(e){var t=e.grouping===void 0||e.thousands===void 0?RM:SY(LM.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?RM:CY(LM.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function m(x,v){x=wd(x);var g=x.fill,S=x.align,y=x.sign,w=x.symbol,C=x.zero,k=x.width,A=x.comma,M=x.precision,D=x.trim,T=x.type;T==="n"?(A=!0,T="g"):IM[T]||(M===void 0&&(M=12),D=!0,T="g"),(C||g==="0"&&S==="=")&&(C=!0,g="0",S="=");var I=(v&&v.prefix!==void 0?v.prefix:"")+(w==="$"?r:w==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():""),O=(w==="$"?n:/[%p]/.test(T)?c:"")+(v&&v.suffix!==void 0?v.suffix:""),z=IM[T],F=/[defgprs%]/.test(T);M=M===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function B(E){var J=I,X=O,re,L,U;if(T==="c")X=z(E)+X,E="";else{E=+E;var V=E<0||1/E<0;if(E=isNaN(E)?f:z(Math.abs(E),M),D&&(E=kY(E)),V&&+E==0&&y!=="+"&&(V=!1),J=(V?y==="("?y:u:y==="-"||y==="("?"":y)+J,X=(T==="s"&&!isNaN(E)&&ih!==void 0?FM[8+ih/3]:"")+X+(V&&y==="("?")":""),F){for(re=-1,L=E.length;++re<L;)if(U=E.charCodeAt(re),48>U||U>57){X=(U===46?i+E.slice(re+1):E.slice(re))+X,E=E.slice(0,re);break}}}A&&!C&&(E=t(E,1/0));var Ne=J.length+E.length+X.length,De=Ne<k?new Array(k-Ne+1).join(g):"";switch(A&&C&&(E=t(De+E,De.length?k-X.length:1/0),De=""),S){case"<":E=J+E+X+De;break;case"=":E=J+De+E+X;break;case"^":E=De.slice(0,Ne=De.length>>1)+J+E+X+De.slice(Ne);break;default:E=De+J+E+X;break}return l(E)}return B.toString=function(){return x+""},B}function h(x,v){var g=Math.max(-8,Math.min(8,Math.floor(pc(v)/3)))*3,S=Math.pow(10,-g),y=m((x=wd(x),x.type="f",x),{suffix:FM[8+g/3]});return function(w){return y(S*w)}}return{format:m,formatPrefix:h}}var Om,lj,gP;EY({thousands:",",grouping:[3],currency:["$",""]});function EY(e){return Om=DY(e),lj=Om.format,gP=Om.formatPrefix,Om}function _Y(e){return Math.max(0,-pc(Math.abs(e)))}function OY(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(pc(t)/3)))*3-pc(Math.abs(e)))}function TY(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,pc(t)-pc(e))+1}function bP(e,t,r,n){var i=$y(e,t,r),l;switch(n=wd(n??",f"),n.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(l=OY(i,c))&&(n.precision=l),gP(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(l=TY(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=l-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(l=_Y(i))&&(n.precision=l-(n.type==="%")*2);break}}return lj(n)}function Qs(e){var t=e.domain;return e.ticks=function(r){var n=t();return zy(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return bP(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,l=n.length-1,c=n[i],u=n[l],f,m,h=10;for(u<c&&(m=c,c=u,u=m,m=i,i=l,l=m);h-- >0;){if(m=By(c,u,r),m===f)return n[i]=c,n[l]=u,t(n);if(m>0)c=Math.floor(c/m)*m,u=Math.ceil(u/m)*m;else if(m<0)c=Math.ceil(c*m)/m,u=Math.floor(u*m)/m;else break;f=m}return e},e}function yP(){var e=ij();return e.copy=function(){return qd(e,yP())},ua.apply(e,arguments),Qs(e)}function jP(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,nh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return jP(e).unknown(t)},e=arguments.length?Array.from(e,nh):[0,1],Qs(r)}function wP(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],l=e[n],c;return l<i&&(c=r,r=n,n=c,c=i,i=l,l=c),e[r]=t.floor(i),e[n]=t.ceil(l),e}function zM(e){return Math.log(e)}function BM(e){return Math.exp(e)}function PY(e){return-Math.log(-e)}function IY(e){return-Math.exp(-e)}function RY(e){return isFinite(e)?+("1e"+e):e<0?0:e}function LY(e){return e===10?RY:e===Math.E?Math.exp:t=>Math.pow(e,t)}function FY(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function $M(e){return(t,r)=>-e(-t,r)}function oj(e){const t=e(zM,BM),r=t.domain;let n=10,i,l;function c(){return i=FY(n),l=LY(n),r()[0]<0?(i=$M(i),l=$M(l),e(PY,IY)):e(zM,BM),t}return t.base=function(u){return arguments.length?(n=+u,c()):n},t.domain=function(u){return arguments.length?(r(u),c()):r()},t.ticks=u=>{const f=r();let m=f[0],h=f[f.length-1];const x=h<m;x&&([m,h]=[h,m]);let v=i(m),g=i(h),S,y;const w=u==null?10:+u;let C=[];if(!(n%1)&&g-v<w){if(v=Math.floor(v),g=Math.ceil(g),m>0){for(;v<=g;++v)for(S=1;S<n;++S)if(y=v<0?S/l(-v):S*l(v),!(y<m)){if(y>h)break;C.push(y)}}else for(;v<=g;++v)for(S=n-1;S>=1;--S)if(y=v>0?S/l(-v):S*l(v),!(y<m)){if(y>h)break;C.push(y)}C.length*2<w&&(C=zy(m,h,w))}else C=zy(v,g,Math.min(g-v,w)).map(l);return x?C.reverse():C},t.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=n===10?"s":","),typeof f!="function"&&(!(n%1)&&(f=wd(f)).precision==null&&(f.trim=!0),f=lj(f)),u===1/0)return f;const m=Math.max(1,n*u/t.ticks().length);return h=>{let x=h/l(Math.round(i(h)));return x*n<n-.5&&(x*=n),x<=m?f(h):""}},t.nice=()=>r(wP(r(),{floor:u=>l(Math.floor(i(u))),ceil:u=>l(Math.ceil(i(u)))})),t}function NP(){const e=oj(sx()).domain([1,10]);return e.copy=()=>qd(e,NP()).base(e.base()),ua.apply(e,arguments),e}function qM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function HM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function cj(e){var t=1,r=e(qM(t),HM(t));return r.constant=function(n){return arguments.length?e(qM(t=+n),HM(t)):t},Qs(r)}function SP(){var e=cj(sx());return e.copy=function(){return qd(e,SP()).constant(e.constant())},ua.apply(e,arguments)}function UM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function zY(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function BY(e){return e<0?-e*e:e*e}function uj(e){var t=e(an,an),r=1;function n(){return r===1?e(an,an):r===.5?e(zY,BY):e(UM(r),UM(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Qs(t)}function dj(){var e=uj(sx());return e.copy=function(){return qd(e,dj()).exponent(e.exponent())},ua.apply(e,arguments),e}function $Y(){return dj.apply(null,arguments).exponent(.5)}function YM(e){return Math.sign(e)*e*e}function qY(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function CP(){var e=ij(),t=[0,1],r=!1,n;function i(l){var c=qY(e(l));return isNaN(c)?n:r?Math.round(c):c}return i.invert=function(l){return e.invert(YM(l))},i.domain=function(l){return arguments.length?(e.domain(l),i):e.domain()},i.range=function(l){return arguments.length?(e.range((t=Array.from(l,nh)).map(YM)),i):t.slice()},i.rangeRound=function(l){return i.range(l).round(!0)},i.round=function(l){return arguments.length?(r=!!l,i):r},i.clamp=function(l){return arguments.length?(e.clamp(l),i):e.clamp()},i.unknown=function(l){return arguments.length?(n=l,i):n},i.copy=function(){return CP(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ua.apply(i,arguments),Qs(i)}function AP(){var e=[],t=[],r=[],n;function i(){var c=0,u=Math.max(1,t.length);for(r=new Array(u-1);++c<u;)r[c-1]=VU(e,c/u);return l}function l(c){return c==null||isNaN(c=+c)?n:t[Bd(r,c)]}return l.invertExtent=function(c){var u=t.indexOf(c);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},l.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let u of c)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Ls),i()},l.range=function(c){return arguments.length?(t=Array.from(c),i()):t.slice()},l.unknown=function(c){return arguments.length?(n=c,l):n},l.quantiles=function(){return r.slice()},l.copy=function(){return AP().domain(e).range(t).unknown(n)},ua.apply(l,arguments)}function kP(){var e=0,t=1,r=1,n=[.5],i=[0,1],l;function c(f){return f!=null&&f<=f?i[Bd(n,f,0,r)]:l}function u(){var f=-1;for(n=new Array(r);++f<r;)n[f]=((f+1)*t-(f-r)*e)/(r+1);return c}return c.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,u()):[e,t]},c.range=function(f){return arguments.length?(r=(i=Array.from(f)).length-1,u()):i.slice()},c.invertExtent=function(f){var m=i.indexOf(f);return m<0?[NaN,NaN]:m<1?[e,n[0]]:m>=r?[n[r-1],t]:[n[m-1],n[m]]},c.unknown=function(f){return arguments.length&&(l=f),c},c.thresholds=function(){return n.slice()},c.copy=function(){return kP().domain([e,t]).range(i).unknown(l)},ua.apply(Qs(c),arguments)}function MP(){var e=[.5],t=[0,1],r,n=1;function i(l){return l!=null&&l<=l?t[Bd(e,l,0,n)]:r}return i.domain=function(l){return arguments.length?(e=Array.from(l),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(l){return arguments.length?(t=Array.from(l),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(l){var c=t.indexOf(l);return[e[c-1],e[c]]},i.unknown=function(l){return arguments.length?(r=l,i):r},i.copy=function(){return MP().domain(e).range(t).unknown(r)},ua.apply(i,arguments)}const mb=new Date,pb=new Date;function Pr(e,t,r,n){function i(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return i.floor=l=>(e(l=new Date(+l)),l),i.ceil=l=>(e(l=new Date(l-1)),t(l,1),e(l),l),i.round=l=>{const c=i(l),u=i.ceil(l);return l-c<u-l?c:u},i.offset=(l,c)=>(t(l=new Date(+l),c==null?1:Math.floor(c)),l),i.range=(l,c,u)=>{const f=[];if(l=i.ceil(l),u=u==null?1:Math.floor(u),!(l<c)||!(u>0))return f;let m;do f.push(m=new Date(+l)),t(l,u),e(l);while(m<l&&l<c);return f},i.filter=l=>Pr(c=>{if(c>=c)for(;e(c),!l(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;t(c,-1),!l(c););else for(;--u>=0;)for(;t(c,1),!l(c););}),r&&(i.count=(l,c)=>(mb.setTime(+l),pb.setTime(+c),e(mb),e(pb),Math.floor(r(mb,pb))),i.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?i.filter(n?c=>n(c)%l===0:c=>i.count(0,c)%l===0):i)),i}const sh=Pr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);sh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Pr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):sh);sh.range;const Pi=1e3,aa=Pi*60,Ii=aa*60,Yi=Ii*24,fj=Yi*7,VM=Yi*30,hb=Yi*365,Il=Pr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Pi)},(e,t)=>(t-e)/Pi,e=>e.getUTCSeconds());Il.range;const mj=Pr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Pi)},(e,t)=>{e.setTime(+e+t*aa)},(e,t)=>(t-e)/aa,e=>e.getMinutes());mj.range;const pj=Pr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*aa)},(e,t)=>(t-e)/aa,e=>e.getUTCMinutes());pj.range;const hj=Pr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Pi-e.getMinutes()*aa)},(e,t)=>{e.setTime(+e+t*Ii)},(e,t)=>(t-e)/Ii,e=>e.getHours());hj.range;const xj=Pr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ii)},(e,t)=>(t-e)/Ii,e=>e.getUTCHours());xj.range;const Hd=Pr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*aa)/Yi,e=>e.getDate()-1);Hd.range;const lx=Pr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Yi,e=>e.getUTCDate()-1);lx.range;const DP=Pr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Yi,e=>Math.floor(e/Yi));DP.range;function to(e){return Pr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*aa)/fj)}const ox=to(0),lh=to(1),HY=to(2),UY=to(3),hc=to(4),YY=to(5),VY=to(6);ox.range;lh.range;HY.range;UY.range;hc.range;YY.range;VY.range;function ro(e){return Pr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/fj)}const cx=ro(0),oh=ro(1),GY=ro(2),WY=ro(3),xc=ro(4),KY=ro(5),QY=ro(6);cx.range;oh.range;GY.range;WY.range;xc.range;KY.range;QY.range;const vj=Pr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());vj.range;const gj=Pr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());gj.range;const Vi=Pr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Vi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Pr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Vi.range;const Gi=Pr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Gi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Pr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Gi.range;function EP(e,t,r,n,i,l){const c=[[Il,1,Pi],[Il,5,5*Pi],[Il,15,15*Pi],[Il,30,30*Pi],[l,1,aa],[l,5,5*aa],[l,15,15*aa],[l,30,30*aa],[i,1,Ii],[i,3,3*Ii],[i,6,6*Ii],[i,12,12*Ii],[n,1,Yi],[n,2,2*Yi],[r,1,fj],[t,1,VM],[t,3,3*VM],[e,1,hb]];function u(m,h,x){const v=h<m;v&&([m,h]=[h,m]);const g=x&&typeof x.range=="function"?x:f(m,h,x),S=g?g.range(m,+h+1):[];return v?S.reverse():S}function f(m,h,x){const v=Math.abs(h-m)/x,g=J1(([,,w])=>w).right(c,v);if(g===c.length)return e.every($y(m/hb,h/hb,x));if(g===0)return sh.every(Math.max($y(m,h,x),1));const[S,y]=c[v/c[g-1][2]<c[g][2]/v?g-1:g];return S.every(y)}return[u,f]}const[XY,ZY]=EP(Gi,gj,cx,DP,xj,pj),[JY,eV]=EP(Vi,vj,ox,Hd,hj,mj);function xb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function vb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Hu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function tV(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,l=e.days,c=e.shortDays,u=e.months,f=e.shortMonths,m=Uu(i),h=Yu(i),x=Uu(l),v=Yu(l),g=Uu(c),S=Yu(c),y=Uu(u),w=Yu(u),C=Uu(f),k=Yu(f),A={a:U,A:V,b:Ne,B:De,c:null,d:ZM,e:ZM,f:SV,g:PV,G:RV,H:jV,I:wV,j:NV,L:_P,m:CV,M:AV,p:P,q:W,Q:tD,s:rD,S:kV,u:MV,U:DV,V:EV,w:_V,W:OV,x:null,X:null,y:TV,Y:IV,Z:LV,"%":eD},M={a:ne,A:de,b:q,B:oe,c:null,d:JM,e:JM,f:$V,g:XV,G:JV,H:FV,I:zV,j:BV,L:TP,m:qV,M:HV,p:xe,q:he,Q:tD,s:rD,S:UV,u:YV,U:VV,V:GV,w:WV,W:KV,x:null,X:null,y:QV,Y:ZV,Z:eG,"%":eD},D={a:F,A:B,b:E,B:J,c:X,d:QM,e:QM,f:vV,g:KM,G:WM,H:XM,I:XM,j:mV,L:xV,m:fV,M:pV,p:z,q:dV,Q:bV,s:yV,S:hV,u:sV,U:lV,V:oV,w:iV,W:cV,x:re,X:L,y:KM,Y:WM,Z:uV,"%":gV};A.x=T(r,A),A.X=T(n,A),A.c=T(t,A),M.x=T(r,M),M.X=T(n,M),M.c=T(t,M);function T(ee,ke){return function(He){var ge=[],Le=-1,Ae=0,Ee=ee.length,at,Dt,ar;for(He instanceof Date||(He=new Date(+He));++Le<Ee;)ee.charCodeAt(Le)===37&&(ge.push(ee.slice(Ae,Le)),(Dt=GM[at=ee.charAt(++Le)])!=null?at=ee.charAt(++Le):Dt=at==="e"?" ":"0",(ar=ke[at])&&(at=ar(He,Dt)),ge.push(at),Ae=Le+1);return ge.push(ee.slice(Ae,Le)),ge.join("")}}function I(ee,ke){return function(He){var ge=Hu(1900,void 0,1),Le=O(ge,ee,He+="",0),Ae,Ee;if(Le!=He.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(ke&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(Ae=vb(Hu(ge.y,0,1)),Ee=Ae.getUTCDay(),Ae=Ee>4||Ee===0?oh.ceil(Ae):oh(Ae),Ae=lx.offset(Ae,(ge.V-1)*7),ge.y=Ae.getUTCFullYear(),ge.m=Ae.getUTCMonth(),ge.d=Ae.getUTCDate()+(ge.w+6)%7):(Ae=xb(Hu(ge.y,0,1)),Ee=Ae.getDay(),Ae=Ee>4||Ee===0?lh.ceil(Ae):lh(Ae),Ae=Hd.offset(Ae,(ge.V-1)*7),ge.y=Ae.getFullYear(),ge.m=Ae.getMonth(),ge.d=Ae.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),Ee="Z"in ge?vb(Hu(ge.y,0,1)).getUTCDay():xb(Hu(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(Ee+5)%7:ge.w+ge.U*7-(Ee+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,vb(ge)):xb(ge)}}function O(ee,ke,He,ge){for(var Le=0,Ae=ke.length,Ee=He.length,at,Dt;Le<Ae;){if(ge>=Ee)return-1;if(at=ke.charCodeAt(Le++),at===37){if(at=ke.charAt(Le++),Dt=D[at in GM?ke.charAt(Le++):at],!Dt||(ge=Dt(ee,He,ge))<0)return-1}else if(at!=He.charCodeAt(ge++))return-1}return ge}function z(ee,ke,He){var ge=m.exec(ke.slice(He));return ge?(ee.p=h.get(ge[0].toLowerCase()),He+ge[0].length):-1}function F(ee,ke,He){var ge=g.exec(ke.slice(He));return ge?(ee.w=S.get(ge[0].toLowerCase()),He+ge[0].length):-1}function B(ee,ke,He){var ge=x.exec(ke.slice(He));return ge?(ee.w=v.get(ge[0].toLowerCase()),He+ge[0].length):-1}function E(ee,ke,He){var ge=C.exec(ke.slice(He));return ge?(ee.m=k.get(ge[0].toLowerCase()),He+ge[0].length):-1}function J(ee,ke,He){var ge=y.exec(ke.slice(He));return ge?(ee.m=w.get(ge[0].toLowerCase()),He+ge[0].length):-1}function X(ee,ke,He){return O(ee,t,ke,He)}function re(ee,ke,He){return O(ee,r,ke,He)}function L(ee,ke,He){return O(ee,n,ke,He)}function U(ee){return c[ee.getDay()]}function V(ee){return l[ee.getDay()]}function Ne(ee){return f[ee.getMonth()]}function De(ee){return u[ee.getMonth()]}function P(ee){return i[+(ee.getHours()>=12)]}function W(ee){return 1+~~(ee.getMonth()/3)}function ne(ee){return c[ee.getUTCDay()]}function de(ee){return l[ee.getUTCDay()]}function q(ee){return f[ee.getUTCMonth()]}function oe(ee){return u[ee.getUTCMonth()]}function xe(ee){return i[+(ee.getUTCHours()>=12)]}function he(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var ke=T(ee+="",A);return ke.toString=function(){return ee},ke},parse:function(ee){var ke=I(ee+="",!1);return ke.toString=function(){return ee},ke},utcFormat:function(ee){var ke=T(ee+="",M);return ke.toString=function(){return ee},ke},utcParse:function(ee){var ke=I(ee+="",!0);return ke.toString=function(){return ee},ke}}}var GM={"-":"",_:" ",0:"0"},Br=/^\s*\d+/,rV=/^%/,nV=/[\\^$*+?|[\]().{}]/g;function Ct(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",l=i.length;return n+(l<r?new Array(r-l+1).join(t)+i:i)}function aV(e){return e.replace(nV,"\\$&")}function Uu(e){return new RegExp("^(?:"+e.map(aV).join("|")+")","i")}function Yu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function iV(e,t,r){var n=Br.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function sV(e,t,r){var n=Br.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function lV(e,t,r){var n=Br.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function oV(e,t,r){var n=Br.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function cV(e,t,r){var n=Br.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function WM(e,t,r){var n=Br.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function KM(e,t,r){var n=Br.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function uV(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function dV(e,t,r){var n=Br.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function fV(e,t,r){var n=Br.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function QM(e,t,r){var n=Br.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function mV(e,t,r){var n=Br.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function XM(e,t,r){var n=Br.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function pV(e,t,r){var n=Br.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function hV(e,t,r){var n=Br.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function xV(e,t,r){var n=Br.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function vV(e,t,r){var n=Br.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function gV(e,t,r){var n=rV.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function bV(e,t,r){var n=Br.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function yV(e,t,r){var n=Br.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function ZM(e,t){return Ct(e.getDate(),t,2)}function jV(e,t){return Ct(e.getHours(),t,2)}function wV(e,t){return Ct(e.getHours()%12||12,t,2)}function NV(e,t){return Ct(1+Hd.count(Vi(e),e),t,3)}function _P(e,t){return Ct(e.getMilliseconds(),t,3)}function SV(e,t){return _P(e,t)+"000"}function CV(e,t){return Ct(e.getMonth()+1,t,2)}function AV(e,t){return Ct(e.getMinutes(),t,2)}function kV(e,t){return Ct(e.getSeconds(),t,2)}function MV(e){var t=e.getDay();return t===0?7:t}function DV(e,t){return Ct(ox.count(Vi(e)-1,e),t,2)}function OP(e){var t=e.getDay();return t>=4||t===0?hc(e):hc.ceil(e)}function EV(e,t){return e=OP(e),Ct(hc.count(Vi(e),e)+(Vi(e).getDay()===4),t,2)}function _V(e){return e.getDay()}function OV(e,t){return Ct(lh.count(Vi(e)-1,e),t,2)}function TV(e,t){return Ct(e.getFullYear()%100,t,2)}function PV(e,t){return e=OP(e),Ct(e.getFullYear()%100,t,2)}function IV(e,t){return Ct(e.getFullYear()%1e4,t,4)}function RV(e,t){var r=e.getDay();return e=r>=4||r===0?hc(e):hc.ceil(e),Ct(e.getFullYear()%1e4,t,4)}function LV(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ct(t/60|0,"0",2)+Ct(t%60,"0",2)}function JM(e,t){return Ct(e.getUTCDate(),t,2)}function FV(e,t){return Ct(e.getUTCHours(),t,2)}function zV(e,t){return Ct(e.getUTCHours()%12||12,t,2)}function BV(e,t){return Ct(1+lx.count(Gi(e),e),t,3)}function TP(e,t){return Ct(e.getUTCMilliseconds(),t,3)}function $V(e,t){return TP(e,t)+"000"}function qV(e,t){return Ct(e.getUTCMonth()+1,t,2)}function HV(e,t){return Ct(e.getUTCMinutes(),t,2)}function UV(e,t){return Ct(e.getUTCSeconds(),t,2)}function YV(e){var t=e.getUTCDay();return t===0?7:t}function VV(e,t){return Ct(cx.count(Gi(e)-1,e),t,2)}function PP(e){var t=e.getUTCDay();return t>=4||t===0?xc(e):xc.ceil(e)}function GV(e,t){return e=PP(e),Ct(xc.count(Gi(e),e)+(Gi(e).getUTCDay()===4),t,2)}function WV(e){return e.getUTCDay()}function KV(e,t){return Ct(oh.count(Gi(e)-1,e),t,2)}function QV(e,t){return Ct(e.getUTCFullYear()%100,t,2)}function XV(e,t){return e=PP(e),Ct(e.getUTCFullYear()%100,t,2)}function ZV(e,t){return Ct(e.getUTCFullYear()%1e4,t,4)}function JV(e,t){var r=e.getUTCDay();return e=r>=4||r===0?xc(e):xc.ceil(e),Ct(e.getUTCFullYear()%1e4,t,4)}function eG(){return"+0000"}function eD(){return"%"}function tD(e){return+e}function rD(e){return Math.floor(+e/1e3)}var Ho,IP,RP;tG({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tG(e){return Ho=tV(e),IP=Ho.format,Ho.parse,RP=Ho.utcFormat,Ho.utcParse,Ho}function rG(e){return new Date(e)}function nG(e){return e instanceof Date?+e:+new Date(+e)}function bj(e,t,r,n,i,l,c,u,f,m){var h=ij(),x=h.invert,v=h.domain,g=m(".%L"),S=m(":%S"),y=m("%I:%M"),w=m("%I %p"),C=m("%a %d"),k=m("%b %d"),A=m("%B"),M=m("%Y");function D(T){return(f(T)<T?g:u(T)<T?S:c(T)<T?y:l(T)<T?w:n(T)<T?i(T)<T?C:k:r(T)<T?A:M)(T)}return h.invert=function(T){return new Date(x(T))},h.domain=function(T){return arguments.length?v(Array.from(T,nG)):v().map(rG)},h.ticks=function(T){var I=v();return e(I[0],I[I.length-1],T??10)},h.tickFormat=function(T,I){return I==null?D:m(I)},h.nice=function(T){var I=v();return(!T||typeof T.range!="function")&&(T=t(I[0],I[I.length-1],T??10)),T?v(wP(I,T)):h},h.copy=function(){return qd(h,bj(e,t,r,n,i,l,c,u,f,m))},h}function aG(){return ua.apply(bj(JY,eV,Vi,vj,ox,Hd,hj,mj,Il,IP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function iG(){return ua.apply(bj(XY,ZY,Gi,gj,cx,lx,xj,pj,Il,RP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ux(){var e=0,t=1,r,n,i,l,c=an,u=!1,f;function m(x){return x==null||isNaN(x=+x)?f:c(i===0?.5:(x=(l(x)-r)*i,u?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t]=x,r=l(e=+e),n=l(t=+t),i=r===n?0:1/(n-r),m):[e,t]},m.clamp=function(x){return arguments.length?(u=!!x,m):u},m.interpolator=function(x){return arguments.length?(c=x,m):c};function h(x){return function(v){var g,S;return arguments.length?([g,S]=v,c=x(g,S),m):[c(0),c(1)]}}return m.range=h(Oc),m.rangeRound=h(aj),m.unknown=function(x){return arguments.length?(f=x,m):f},function(x){return l=x,r=x(e),n=x(t),i=r===n?0:1/(n-r),m}}function Xs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function LP(){var e=Qs(ux()(an));return e.copy=function(){return Xs(e,LP())},es.apply(e,arguments)}function FP(){var e=oj(ux()).domain([1,10]);return e.copy=function(){return Xs(e,FP()).base(e.base())},es.apply(e,arguments)}function zP(){var e=cj(ux());return e.copy=function(){return Xs(e,zP()).constant(e.constant())},es.apply(e,arguments)}function yj(){var e=uj(ux());return e.copy=function(){return Xs(e,yj()).exponent(e.exponent())},es.apply(e,arguments)}function sG(){return yj.apply(null,arguments).exponent(.5)}function BP(){var e=[],t=an;function r(n){if(n!=null&&!isNaN(n=+n))return t((Bd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ls),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,l)=>YU(e,l/n))},r.copy=function(){return BP(t).domain(e)},es.apply(r,arguments)}function dx(){var e=0,t=.5,r=1,n=1,i,l,c,u,f,m=an,h,x=!1,v;function g(y){return isNaN(y=+y)?v:(y=.5+((y=+h(y))-l)*(n*y<n*l?u:f),m(x?Math.max(0,Math.min(1,y)):y))}g.domain=function(y){return arguments.length?([e,t,r]=y,i=h(e=+e),l=h(t=+t),c=h(r=+r),u=i===l?0:.5/(l-i),f=l===c?0:.5/(c-l),n=l<i?-1:1,g):[e,t,r]},g.clamp=function(y){return arguments.length?(x=!!y,g):x},g.interpolator=function(y){return arguments.length?(m=y,g):m};function S(y){return function(w){var C,k,A;return arguments.length?([C,k,A]=w,m=gY(y,[C,k,A]),g):[m(0),m(.5),m(1)]}}return g.range=S(Oc),g.rangeRound=S(aj),g.unknown=function(y){return arguments.length?(v=y,g):v},function(y){return h=y,i=y(e),l=y(t),c=y(r),u=i===l?0:.5/(l-i),f=l===c?0:.5/(c-l),n=l<i?-1:1,g}}function $P(){var e=Qs(dx()(an));return e.copy=function(){return Xs(e,$P())},es.apply(e,arguments)}function qP(){var e=oj(dx()).domain([.1,1,10]);return e.copy=function(){return Xs(e,qP()).base(e.base())},es.apply(e,arguments)}function HP(){var e=cj(dx());return e.copy=function(){return Xs(e,HP()).constant(e.constant())},es.apply(e,arguments)}function jj(){var e=uj(dx());return e.copy=function(){return Xs(e,jj()).exponent(e.exponent())},es.apply(e,arguments)}function lG(){return jj.apply(null,arguments).exponent(.5)}const nd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:tj,scaleDiverging:$P,scaleDivergingLog:qP,scaleDivergingPow:jj,scaleDivergingSqrt:lG,scaleDivergingSymlog:HP,scaleIdentity:jP,scaleImplicit:qy,scaleLinear:yP,scaleLog:NP,scaleOrdinal:ej,scalePoint:WU,scalePow:dj,scaleQuantile:AP,scaleQuantize:kP,scaleRadial:CP,scaleSequential:LP,scaleSequentialLog:FP,scaleSequentialPow:yj,scaleSequentialQuantile:BP,scaleSequentialSqrt:sG,scaleSequentialSymlog:zP,scaleSqrt:$Y,scaleSymlog:SP,scaleThreshold:MP,scaleTime:aG,scaleUtc:iG,tickFormat:bP},Symbol.toStringTag,{value:"Module"}));var Zs=e=>e.chartData,wj=ue([Zs],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),UP=(e,t,r,n)=>n?wj(e):Zs(e);function Wi(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if($t(t)&&$t(r))return!0}return!1}function nD(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function YP(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,l;if($t(r))i=r;else if(typeof r=="function")return;if($t(n))l=n;else if(typeof n=="function")return;var c=[i,l];if(Wi(c))return c}}function oG(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Wi(n))return nD(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,l]=e,c,u;if(i==="auto")t!=null&&(c=Math.min(...t));else if(tt(i))c=i;else if(typeof i=="function")try{t!=null&&(c=i(t?.[0]))}catch{}else if(typeof i=="string"&&mk.test(i)){var f=mk.exec(i);if(f==null||f[1]==null||t==null)c=void 0;else{var m=+f[1];c=t[0]-m}}else c=t?.[0];if(l==="auto")t!=null&&(u=Math.max(...t));else if(tt(l))u=l;else if(typeof l=="function")try{t!=null&&(u=l(t?.[1]))}catch{}else if(typeof l=="string"&&pk.test(l)){var h=pk.exec(l);if(h==null||h[1]==null||t==null)u=void 0;else{var x=+h[1];u=t[1]+x}}else u=t?.[1];var v=[c,u];if(Wi(v))return t==null?v:nD(v,t,r)}}}var Tc=1e9,cG={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Sj,tr=!0,la="[DecimalError] ",$l=la+"Invalid argument: ",Nj=la+"Exponent out of range: ",Pc=Math.floor,Ml=Math.pow,uG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,In,Lr=1e7,Kt=7,VP=9007199254740991,ch=Pc(VP/Kt),$e={};$e.absoluteValue=$e.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};$e.comparedTo=$e.cmp=function(e){var t,r,n,i,l=this;if(e=new l.constructor(e),l.s!==e.s)return l.s||-e.s;if(l.e!==e.e)return l.e>e.e^l.s<0?1:-1;for(n=l.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(l.d[t]!==e.d[t])return l.d[t]>e.d[t]^l.s<0?1:-1;return n===i?0:n>i^l.s<0?1:-1};$e.decimalPlaces=$e.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Kt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};$e.dividedBy=$e.div=function(e){return Fi(this,new this.constructor(e))};$e.dividedToIntegerBy=$e.idiv=function(e){var t=this,r=t.constructor;return Ht(Fi(t,new r(e),0,1),r.precision)};$e.equals=$e.eq=function(e){return!this.cmp(e)};$e.exponent=function(){return Dr(this)};$e.greaterThan=$e.gt=function(e){return this.cmp(e)>0};$e.greaterThanOrEqualTo=$e.gte=function(e){return this.cmp(e)>=0};$e.isInteger=$e.isint=function(){return this.e>this.d.length-2};$e.isNegative=$e.isneg=function(){return this.s<0};$e.isPositive=$e.ispos=function(){return this.s>0};$e.isZero=function(){return this.s===0};$e.lessThan=$e.lt=function(e){return this.cmp(e)<0};$e.lessThanOrEqualTo=$e.lte=function(e){return this.cmp(e)<1};$e.logarithm=$e.log=function(e){var t,r=this,n=r.constructor,i=n.precision,l=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(In))throw Error(la+"NaN");if(r.s<1)throw Error(la+(r.s?"NaN":"-Infinity"));return r.eq(In)?new n(0):(tr=!1,t=Fi(Nd(r,l),Nd(e,l),l),tr=!0,Ht(t,i))};$e.minus=$e.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?KP(t,e):GP(t,(e.s=-e.s,e))};$e.modulo=$e.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(la+"NaN");return r.s?(tr=!1,t=Fi(r,e,0,1).times(e),tr=!0,r.minus(t)):Ht(new n(r),i)};$e.naturalExponential=$e.exp=function(){return WP(this)};$e.naturalLogarithm=$e.ln=function(){return Nd(this)};$e.negated=$e.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};$e.plus=$e.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?GP(t,e):KP(t,(e.s=-e.s,e))};$e.precision=$e.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error($l+e);if(t=Dr(i)+1,n=i.d.length-1,r=n*Kt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};$e.squareRoot=$e.sqrt=function(){var e,t,r,n,i,l,c,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(la+"NaN")}for(e=Dr(u),tr=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=Qa(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Pc((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new f(t)):n=new f(i.toString()),r=f.precision,i=c=r+3;;)if(l=n,n=l.plus(Fi(u,l,c+2)).times(.5),Qa(l.d).slice(0,c)===(t=Qa(n.d)).slice(0,c)){if(t=t.slice(c-3,c+1),i==c&&t=="4999"){if(Ht(l,r+1,0),l.times(l).eq(u)){n=l;break}}else if(t!="9999")break;c+=4}return tr=!0,Ht(n,r)};$e.times=$e.mul=function(e){var t,r,n,i,l,c,u,f,m,h=this,x=h.constructor,v=h.d,g=(e=new x(e)).d;if(!h.s||!e.s)return new x(0);for(e.s*=h.s,r=h.e+e.e,f=v.length,m=g.length,f<m&&(l=v,v=g,g=l,c=f,f=m,m=c),l=[],c=f+m,n=c;n--;)l.push(0);for(n=m;--n>=0;){for(t=0,i=f+n;i>n;)u=l[i]+g[n]*v[i-n-1]+t,l[i--]=u%Lr|0,t=u/Lr|0;l[i]=(l[i]+t)%Lr|0}for(;!l[--c];)l.pop();return t?++r:l.shift(),e.d=l,e.e=r,tr?Ht(e,x.precision):e};$e.toDecimalPlaces=$e.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ai(e,0,Tc),t===void 0?t=n.rounding:ai(t,0,8),Ht(r,e+Dr(r)+1,t))};$e.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Xl(n,!0):(ai(e,0,Tc),t===void 0?t=i.rounding:ai(t,0,8),n=Ht(new i(n),e+1,t),r=Xl(n,!0,e+1)),r};$e.toFixed=function(e,t){var r,n,i=this,l=i.constructor;return e===void 0?Xl(i):(ai(e,0,Tc),t===void 0?t=l.rounding:ai(t,0,8),n=Ht(new l(i),e+Dr(i)+1,t),r=Xl(n.abs(),!1,e+Dr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};$e.toInteger=$e.toint=function(){var e=this,t=e.constructor;return Ht(new t(e),Dr(e)+1,t.rounding)};$e.toNumber=function(){return+this};$e.toPower=$e.pow=function(e){var t,r,n,i,l,c,u=this,f=u.constructor,m=12,h=+(e=new f(e));if(!e.s)return new f(In);if(u=new f(u),!u.s){if(e.s<1)throw Error(la+"Infinity");return u}if(u.eq(In))return u;if(n=f.precision,e.eq(In))return Ht(u,n);if(t=e.e,r=e.d.length-1,c=t>=r,l=u.s,c){if((r=h<0?-h:h)<=VP){for(i=new f(In),t=Math.ceil(n/Kt+4),tr=!1;r%2&&(i=i.times(u),iD(i.d,t)),r=Pc(r/2),r!==0;)u=u.times(u),iD(u.d,t);return tr=!0,e.s<0?new f(In).div(i):Ht(i,n)}}else if(l<0)throw Error(la+"NaN");return l=l<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,tr=!1,i=e.times(Nd(u,n+m)),tr=!0,i=WP(i),i.s=l,i};$e.toPrecision=function(e,t){var r,n,i=this,l=i.constructor;return e===void 0?(r=Dr(i),n=Xl(i,r<=l.toExpNeg||r>=l.toExpPos)):(ai(e,1,Tc),t===void 0?t=l.rounding:ai(t,0,8),i=Ht(new l(i),e,t),r=Dr(i),n=Xl(i,e<=r||r<=l.toExpNeg,e)),n};$e.toSignificantDigits=$e.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ai(e,1,Tc),t===void 0?t=n.rounding:ai(t,0,8)),Ht(new n(r),e,t)};$e.toString=$e.valueOf=$e.val=$e.toJSON=$e[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Dr(e),r=e.constructor;return Xl(e,t<=r.toExpNeg||t>=r.toExpPos)};function GP(e,t){var r,n,i,l,c,u,f,m,h=e.constructor,x=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),tr?Ht(t,x):t;if(f=e.d,m=t.d,c=e.e,i=t.e,f=f.slice(),l=c-i,l){for(l<0?(n=f,l=-l,u=m.length):(n=m,i=c,u=f.length),c=Math.ceil(x/Kt),u=c>u?c+1:u+1,l>u&&(l=u,n.length=1),n.reverse();l--;)n.push(0);n.reverse()}for(u=f.length,l=m.length,u-l<0&&(l=u,n=m,m=f,f=n),r=0;l;)r=(f[--l]=f[l]+m[l]+r)/Lr|0,f[l]%=Lr;for(r&&(f.unshift(r),++i),u=f.length;f[--u]==0;)f.pop();return t.d=f,t.e=i,tr?Ht(t,x):t}function ai(e,t,r){if(e!==~~e||e<t||e>r)throw Error($l+e)}function Qa(e){var t,r,n,i=e.length-1,l="",c=e[0];if(i>0){for(l+=c,t=1;t<i;t++)n=e[t]+"",r=Kt-n.length,r&&(l+=Ts(r)),l+=n;c=e[t],n=c+"",r=Kt-n.length,r&&(l+=Ts(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return l+c}var Fi=(function(){function e(n,i){var l,c=0,u=n.length;for(n=n.slice();u--;)l=n[u]*i+c,n[u]=l%Lr|0,c=l/Lr|0;return c&&n.unshift(c),n}function t(n,i,l,c){var u,f;if(l!=c)f=l>c?1:-1;else for(u=f=0;u<l;u++)if(n[u]!=i[u]){f=n[u]>i[u]?1:-1;break}return f}function r(n,i,l){for(var c=0;l--;)n[l]-=c,c=n[l]<i[l]?1:0,n[l]=c*Lr+n[l]-i[l];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,l,c){var u,f,m,h,x,v,g,S,y,w,C,k,A,M,D,T,I,O,z=n.constructor,F=n.s==i.s?1:-1,B=n.d,E=i.d;if(!n.s)return new z(n);if(!i.s)throw Error(la+"Division by zero");for(f=n.e-i.e,I=E.length,D=B.length,g=new z(F),S=g.d=[],m=0;E[m]==(B[m]||0);)++m;if(E[m]>(B[m]||0)&&--f,l==null?k=l=z.precision:c?k=l+(Dr(n)-Dr(i))+1:k=l,k<0)return new z(0);if(k=k/Kt+2|0,m=0,I==1)for(h=0,E=E[0],k++;(m<D||h)&&k--;m++)A=h*Lr+(B[m]||0),S[m]=A/E|0,h=A%E|0;else{for(h=Lr/(E[0]+1)|0,h>1&&(E=e(E,h),B=e(B,h),I=E.length,D=B.length),M=I,y=B.slice(0,I),w=y.length;w<I;)y[w++]=0;O=E.slice(),O.unshift(0),T=E[0],E[1]>=Lr/2&&++T;do h=0,u=t(E,y,I,w),u<0?(C=y[0],I!=w&&(C=C*Lr+(y[1]||0)),h=C/T|0,h>1?(h>=Lr&&(h=Lr-1),x=e(E,h),v=x.length,w=y.length,u=t(x,y,v,w),u==1&&(h--,r(x,I<v?O:E,v))):(h==0&&(u=h=1),x=E.slice()),v=x.length,v<w&&x.unshift(0),r(y,x,w),u==-1&&(w=y.length,u=t(E,y,I,w),u<1&&(h++,r(y,I<w?O:E,w))),w=y.length):u===0&&(h++,y=[0]),S[m++]=h,u&&y[0]?y[w++]=B[M]||0:(y=[B[M]],w=1);while((M++<D||y[0]!==void 0)&&k--)}return S[0]||S.shift(),g.e=f,Ht(g,c?l+Dr(g)+1:l)}})();function WP(e,t){var r,n,i,l,c,u,f=0,m=0,h=e.constructor,x=h.precision;if(Dr(e)>16)throw Error(Nj+Dr(e));if(!e.s)return new h(In);for(tr=!1,u=x,c=new h(.03125);e.abs().gte(.1);)e=e.times(c),m+=5;for(n=Math.log(Ml(2,m))/Math.LN10*2+5|0,u+=n,r=i=l=new h(In),h.precision=u;;){if(i=Ht(i.times(e),u),r=r.times(++f),c=l.plus(Fi(i,r,u)),Qa(c.d).slice(0,u)===Qa(l.d).slice(0,u)){for(;m--;)l=Ht(l.times(l),u);return h.precision=x,t==null?(tr=!0,Ht(l,x)):l}l=c}}function Dr(e){for(var t=e.e*Kt,r=e.d[0];r>=10;r/=10)t++;return t}function gb(e,t,r){if(t>e.LN10.sd())throw tr=!0,r&&(e.precision=r),Error(la+"LN10 precision limit exceeded");return Ht(new e(e.LN10),t)}function Ts(e){for(var t="";e--;)t+="0";return t}function Nd(e,t){var r,n,i,l,c,u,f,m,h,x=1,v=10,g=e,S=g.d,y=g.constructor,w=y.precision;if(g.s<1)throw Error(la+(g.s?"NaN":"-Infinity"));if(g.eq(In))return new y(0);if(t==null?(tr=!1,m=w):m=t,g.eq(10))return t==null&&(tr=!0),gb(y,m);if(m+=v,y.precision=m,r=Qa(S),n=r.charAt(0),l=Dr(g),Math.abs(l)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(e),r=Qa(g.d),n=r.charAt(0),x++;l=Dr(g),n>1?(g=new y("0."+r),l++):g=new y(n+"."+r.slice(1))}else return f=gb(y,m+2,w).times(l+""),g=Nd(new y(n+"."+r.slice(1)),m-v).plus(f),y.precision=w,t==null?(tr=!0,Ht(g,w)):g;for(u=c=g=Fi(g.minus(In),g.plus(In),m),h=Ht(g.times(g),m),i=3;;){if(c=Ht(c.times(h),m),f=u.plus(Fi(c,new y(i),m)),Qa(f.d).slice(0,m)===Qa(u.d).slice(0,m))return u=u.times(2),l!==0&&(u=u.plus(gb(y,m+2,w).times(l+""))),u=Fi(u,new y(x),m),y.precision=w,t==null?(tr=!0,Ht(u,w)):u;u=f,i+=2}}function aD(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Pc(r/Kt),e.d=[],n=(r+1)%Kt,r<0&&(n+=Kt),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Kt;n<i;)e.d.push(+t.slice(n,n+=Kt));t=t.slice(n),n=Kt-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),tr&&(e.e>ch||e.e<-ch))throw Error(Nj+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ht(e,t,r){var n,i,l,c,u,f,m,h,x=e.d;for(c=1,l=x[0];l>=10;l/=10)c++;if(n=t-c,n<0)n+=Kt,i=t,m=x[h=0];else{if(h=Math.ceil((n+1)/Kt),l=x.length,h>=l)return e;for(m=l=x[h],c=1;l>=10;l/=10)c++;n%=Kt,i=n-Kt+c}if(r!==void 0&&(l=Ml(10,c-i-1),u=m/l%10|0,f=t<0||x[h+1]!==void 0||m%l,f=r<4?(u||f)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||f||r==6&&(n>0?i>0?m/Ml(10,c-i):0:x[h-1])%10&1||r==(e.s<0?8:7))),t<1||!x[0])return f?(l=Dr(e),x.length=1,t=t-l-1,x[0]=Ml(10,(Kt-t%Kt)%Kt),e.e=Pc(-t/Kt)||0):(x.length=1,x[0]=e.e=e.s=0),e;if(n==0?(x.length=h,l=1,h--):(x.length=h+1,l=Ml(10,Kt-n),x[h]=i>0?(m/Ml(10,c-i)%Ml(10,i)|0)*l:0),f)for(;;)if(h==0){(x[0]+=l)==Lr&&(x[0]=1,++e.e);break}else{if(x[h]+=l,x[h]!=Lr)break;x[h--]=0,l=1}for(n=x.length;x[--n]===0;)x.pop();if(tr&&(e.e>ch||e.e<-ch))throw Error(Nj+Dr(e));return e}function KP(e,t){var r,n,i,l,c,u,f,m,h,x,v=e.constructor,g=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),tr?Ht(t,g):t;if(f=e.d,x=t.d,n=t.e,m=e.e,f=f.slice(),c=m-n,c){for(h=c<0,h?(r=f,c=-c,u=x.length):(r=x,n=m,u=f.length),i=Math.max(Math.ceil(g/Kt),u)+2,c>i&&(c=i,r.length=1),r.reverse(),i=c;i--;)r.push(0);r.reverse()}else{for(i=f.length,u=x.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(f[i]!=x[i]){h=f[i]<x[i];break}c=0}for(h&&(r=f,f=x,x=r,t.s=-t.s),u=f.length,i=x.length-u;i>0;--i)f[u++]=0;for(i=x.length;i>c;){if(f[--i]<x[i]){for(l=i;l&&f[--l]===0;)f[l]=Lr-1;--f[l],f[i]+=Lr}f[i]-=x[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(t.d=f,t.e=n,tr?Ht(t,g):t):new v(0)}function Xl(e,t,r){var n,i=Dr(e),l=Qa(e.d),c=l.length;return t?(r&&(n=r-c)>0?l=l.charAt(0)+"."+l.slice(1)+Ts(n):c>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(i<0?"e":"e+")+i):i<0?(l="0."+Ts(-i-1)+l,r&&(n=r-c)>0&&(l+=Ts(n))):i>=c?(l+=Ts(i+1-c),r&&(n=r-i-1)>0&&(l=l+"."+Ts(n))):((n=i+1)<c&&(l=l.slice(0,n)+"."+l.slice(n)),r&&(n=r-c)>0&&(i+1===c&&(l+="."),l+=Ts(n))),e.s<0?"-"+l:l}function iD(e,t){if(e.length>t)return e.length=t,!0}function QP(e){var t,r,n;function i(l){var c=this;if(!(c instanceof i))return new i(l);if(c.constructor=i,l instanceof i){c.s=l.s,c.e=l.e,c.d=(l=l.d)?l.slice():l;return}if(typeof l=="number"){if(l*0!==0)throw Error($l+l);if(l>0)c.s=1;else if(l<0)l=-l,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(l===~~l&&l<1e7){c.e=0,c.d=[l];return}return aD(c,l.toString())}else if(typeof l!="string")throw Error($l+l);if(l.charCodeAt(0)===45?(l=l.slice(1),c.s=-1):c.s=1,uG.test(l))aD(c,l);else throw Error($l+l)}if(i.prototype=$e,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=QP,i.config=i.set=dG,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function dG(e){if(!e||typeof e!="object")throw Error(la+"Object expected");var t,r,n,i=["precision",1,Tc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Pc(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error($l+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error($l+r+": "+n);return this}var Sj=QP(cG);In=new Sj(1);const Pt=Sj;function XP(e){var t;return e===0?t=1:t=Math.floor(new Pt(e).abs().log(10).toNumber())+1,t}function ZP(e,t,r){for(var n=new Pt(e),i=0,l=[];n.lt(t)&&i<1e5;)l.push(n.toNumber()),n=n.add(r),i++;return l}var JP=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},e3=(e,t,r)=>{if(e.lte(0))return new Pt(0);var n=XP(e.toNumber()),i=new Pt(10).pow(n),l=e.div(i),c=n!==1?.05:.1,u=new Pt(Math.ceil(l.div(c).toNumber())).add(r).mul(c),f=u.mul(i);return t?new Pt(f.toNumber()):new Pt(Math.ceil(f.toNumber()))},fG=(e,t,r)=>{var n=new Pt(1),i=new Pt(e);if(!i.isint()&&r){var l=Math.abs(e);l<1?(n=new Pt(10).pow(XP(e)-1),i=new Pt(Math.floor(i.div(n).toNumber())).mul(n)):l>1&&(i=new Pt(Math.floor(e)))}else e===0?i=new Pt(Math.floor((t-1)/2)):r||(i=new Pt(Math.floor(e)));for(var c=Math.floor((t-1)/2),u=[],f=0;f<t;f++)u.push(i.add(new Pt(f-c).mul(n)).toNumber());return u},t3=function(t,r,n,i){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Pt(0),tickMin:new Pt(0),tickMax:new Pt(0)};var c=e3(new Pt(r).sub(t).div(n-1),i,l),u;t<=0&&r>=0?u=new Pt(0):(u=new Pt(t).add(r).div(2),u=u.sub(new Pt(u).mod(c)));var f=Math.ceil(u.sub(t).div(c).toNumber()),m=Math.ceil(new Pt(r).sub(u).div(c).toNumber()),h=f+m+1;return h>n?t3(t,r,n,i,l+1):(h<n&&(m=r>0?m+(n-h):m,f=r>0?f:f+(n-h)),{step:c,tickMin:u.sub(new Pt(f).mul(c)),tickMax:u.add(new Pt(m).mul(c))})},mG=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(i,2),[u,f]=JP([r,n]);if(u===-1/0||f===1/0){var m=f===1/0?[u,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),f];return r>n?m.reverse():m}if(u===f)return fG(u,i,l);var{step:h,tickMin:x,tickMax:v}=t3(u,f,c,l,0),g=ZP(x,v.add(new Pt(.1).mul(h)),h);return r>n?g.reverse():g},pG=function(t,r){var[n,i]=t,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,u]=JP([n,i]);if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var f=Math.max(r,2),m=e3(new Pt(u).sub(c).div(f-1),l,0),h=[...ZP(new Pt(c),new Pt(u),m),u];return l===!1&&(h=h.map(x=>Math.round(x))),n>i?h.reverse():h},hG=e=>e.rootProps.barCategoryGap,Ud=e=>e.rootProps.stackOffset,r3=e=>e.rootProps.reverseStackOrder,Cj=e=>e.options.chartName,Aj=e=>e.rootProps.syncId,n3=e=>e.rootProps.syncMethod,kj=e=>e.options.eventEmitter,ja={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},wl={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},$a={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},fx=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function a3(e,t,r){if(r!=="auto")return r;if(e!=null)return Ws(e,t)?"category":"number"}function sD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sD(Object(r),!0).forEach(function(n){xG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xG(e,t,r){return(t=vG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vG(e){var t=gG(e,"string");return typeof t=="symbol"?t:t+""}function gG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lD={allowDataOverflow:wl.allowDataOverflow,allowDecimals:wl.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:wl.angleAxisId,includeHidden:!1,name:void 0,reversed:wl.reversed,scale:wl.scale,tick:wl.tick,tickCount:void 0,ticks:void 0,type:wl.type,unit:void 0},oD={allowDataOverflow:$a.allowDataOverflow,allowDecimals:$a.allowDecimals,allowDuplicatedCategory:$a.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$a.radiusAxisId,includeHidden:$a.includeHidden,name:void 0,reversed:$a.reversed,scale:$a.scale,tick:$a.tick,tickCount:$a.tickCount,ticks:void 0,type:$a.type,unit:void 0},bG=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},Mj=ue([bG,VT],(e,t)=>{var r;if(e!=null)return e;var n=(r=a3(t,"angleAxis",lD.type))!==null&&r!==void 0?r:"category";return uh(uh({},lD),{},{type:n})}),yG=(e,t)=>e.polarAxis.radiusAxis[t],Dj=ue([yG,VT],(e,t)=>{var r;if(e!=null)return e;var n=(r=a3(t,"radiusAxis",oD.type))!==null&&r!==void 0?r:"category";return uh(uh({},oD),{},{type:n})}),mx=e=>e.polarOptions,Ej=ue([Zi,Ji,zr],sP),i3=ue([mx,Ej],(e,t)=>{if(e!=null)return Ln(e.innerRadius,t,0)}),s3=ue([mx,Ej],(e,t)=>{if(e!=null)return Ln(e.outerRadius,t,t*.8)}),jG=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},l3=ue([mx],jG);ue([Mj,l3],fx);var o3=ue([Ej,i3,s3],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ue([Dj,o3],fx);var c3=ue([nr,mx,i3,s3,Zi,Ji],(e,t,r,n,i,l)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:c,cy:u,startAngle:f,endAngle:m}=t;return{cx:Ln(c,i,i/2),cy:Ln(u,l,l/2),innerRadius:r,outerRadius:n,startAngle:f,endAngle:m,clockWise:!1}}}),sr=(e,t)=>t,Yd=(e,t,r)=>r;function u3(e){return e?.id}function d3(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:l}=r,c=new Map;return e.forEach(u=>{var f,m=(f=u.data)!==null&&f!==void 0?f:n;if(!(m==null||m.length===0)){var h=u3(u);m.forEach((x,v)=>{var g=l==null||i?v:String(pr(x,l,null)),S=pr(x,u.dataKey,0),y;c.has(g)?y=c.get(g):y={},Object.assign(y,{[h]:S}),c.set(g,y)})}}),Array.from(c.values())}function _j(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var px=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function hx(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function wG(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var $r=e=>{var t=nr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ic=e=>e.tooltip.settings.axisId;function NG(e){if(e in nd)return nd[e]();var t="scale".concat(Td(e));if(t in nd)return nd[t]()}function cD(e){var t=e.ticks,r=e.bandwidth,n=e.range(),i=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:(function(l){function c(){return l.apply(this,arguments)}return c.toString=function(){return l.toString()},c})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(l){var c=i[0],u=i[1];return c<=u?l>=c&&l<=u:l>=u&&l<=c},bandwidth:r?()=>r.call(e):void 0,ticks:t?l=>t.call(e,l):void 0,map:(l,c)=>{var u=e(l);if(u!=null){if(e.bandwidth&&c!==null&&c!==void 0&&c.position){var f=e.bandwidth();switch(c.position){case"middle":u+=f/2;break;case"end":u+=f;break}}return u}}}}function uD(e,t,r){if(typeof e=="function")return cD(e.copy().domain(t).range(r));if(e!=null){var n=NG(e);if(n!=null)return n.domain(t).range(r),cD(n)}}var f3=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Wi(t)){for(var r,n,i=0;i<t.length;i++){var l=t[i];$t(l)&&((r===void 0||l<r)&&(r=l),(n===void 0||l>n)&&(n=l))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function dD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dD(Object(r),!0).forEach(function(n){SG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SG(e,t,r){return(t=CG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CG(e){var t=AG(e,"string");return typeof t=="symbol"?t:t+""}function AG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vy=[0,"auto"],kG={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},MG=(e,t)=>e.cartesianAxis.xAxis[t],Js=(e,t)=>{var r=MG(e,t);return r??kG},DG={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Vy,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ld},EG=(e,t)=>e.cartesianAxis.yAxis[t],el=(e,t)=>{var r=EG(e,t);return r??DG},_G={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Oj=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??_G},xr=(e,t,r)=>{switch(t){case"xAxis":return Js(e,r);case"yAxis":return el(e,r);case"zAxis":return Oj(e,r);case"angleAxis":return Mj(e,r);case"radiusAxis":return Dj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},OG=(e,t,r)=>{switch(t){case"xAxis":return Js(e,r);case"yAxis":return el(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Rc=(e,t,r)=>{switch(t){case"xAxis":return Js(e,r);case"yAxis":return el(e,r);case"angleAxis":return Mj(e,r);case"radiusAxis":return Dj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},m3=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Tj(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var TG=e=>e.graphicalItems.cartesianItems,PG=ue([sr,Yd],Tj),Pj=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Vd=ue([TG,xr,PG],Pj,{memoizeOptions:{resultEqualityCheck:hx}}),p3=ue([Vd],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(_j)),h3=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),IG=ue([Vd],h3),Ij=e=>e.map(t=>t.data).filter(Boolean).flat(1),RG=ue([Vd],Ij,{memoizeOptions:{resultEqualityCheck:hx}}),Rj=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},Lj=ue([RG,UP],Rj),Fj=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:pr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:pr(i,n)}))):e.map(n=>({value:n})),xx=ue([Lj,xr,Vd],Fj);function x3(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function pp(e){if(Hi(e)||e instanceof Date){var t=Number(e);if($t(t))return t}}function fD(e){if(Array.isArray(e)){var t=[pp(e[0]),pp(e[1])];return Wi(t)?t:void 0}var r=pp(e);if(r!=null)return[r,r]}function Ki(e){return e.map(pp).filter(Wa)}function LG(e,t,r){return!r||typeof t!="number"||qi(t)?[]:r.length?Ki(r.flatMap(n=>{var i=pr(e,n.dataKey),l,c;if(Array.isArray(i)?[l,c]=i:l=c=i,!(!$t(l)||!$t(c)))return[t-l,t+c]})):[]}var Ir=e=>{var t=$r(e),r=Ic(e);return Rc(e,t,r)},Gd=ue([Ir],e=>e?.dataKey),FG=ue([p3,UP,Ir],d3),v3=(e,t,r,n)=>{var i={},l=t.reduce((c,u)=>{if(u.stackId==null)return c;var f=c[u.stackId];return f==null&&(f=[]),f.push(u),c[u.stackId]=f,c},i);return Object.fromEntries(Object.entries(l).map(c=>{var[u,f]=c,m=n?[...f].reverse():f,h=m.map(u3);return[u,{stackedData:fH(e,h,r),graphicalItems:m}]}))},zG=ue([FG,p3,Ud,r3],v3),g3=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:l}=t;if(n==null&&r!=="zAxis"){var c=hH(e,i,l);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},BG=ue([xr],e=>e.allowDataOverflow),zj=e=>{var t;if(e==null||!("domain"in e))return Vy;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Ki(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Vy},Bj=ue([xr],zj),$j=ue([Bj,BG],YP),$G=ue([zG,Zs,sr,$j],g3,{memoizeOptions:{resultEqualityCheck:px}}),vx=e=>e.errorBars,qG=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>x3(r,n)),fh=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var l=i.flat(),c=Math.min(...l),u=Math.max(...l);return[c,u]}},qj=(e,t,r,n,i)=>{var l,c;if(r.length>0&&e.forEach(u=>{r.forEach(f=>{var m,h,x=(m=n[f.id])===null||m===void 0?void 0:m.filter(C=>x3(i,C)),v=pr(u,(h=t.dataKey)!==null&&h!==void 0?h:f.dataKey),g=LG(u,v,x);if(g.length>=2){var S=Math.min(...g),y=Math.max(...g);(l==null||S<l)&&(l=S),(c==null||y>c)&&(c=y)}var w=fD(v);w!=null&&(l=l==null?w[0]:Math.min(l,w[0]),c=c==null?w[1]:Math.max(c,w[1]))})}),t?.dataKey!=null&&e.forEach(u=>{var f=fD(pr(u,t.dataKey));f!=null&&(l=l==null?f[0]:Math.min(l,f[0]),c=c==null?f[1]:Math.max(c,f[1]))}),$t(l)&&$t(c))return[l,c]},HG=ue([Lj,xr,IG,vx,sr],qj,{memoizeOptions:{resultEqualityCheck:px}});function UG(e){var{value:t}=e;if(Hi(t)||t instanceof Date)return t}var YG=(e,t,r)=>{var n=e.map(UG).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&GO(n))?uP(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},b3=e=>e.referenceElements.dots,Lc=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),VG=ue([b3,sr,Yd],Lc),y3=e=>e.referenceElements.areas,GG=ue([y3,sr,Yd],Lc),j3=e=>e.referenceElements.lines,WG=ue([j3,sr,Yd],Lc),w3=(e,t)=>{if(e!=null){var r=Ki(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},KG=ue(VG,sr,w3),N3=(e,t)=>{if(e!=null){var r=Ki(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},QG=ue([GG,sr],N3);function XG(e){var t;if(e.x!=null)return Ki([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Ki(r)}function ZG(e){var t;if(e.y!=null)return Ki([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Ki(r)}var S3=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?XG(n):ZG(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},JG=ue([WG,sr],S3),eW=ue(KG,JG,QG,(e,t,r)=>fh(e,r,t)),Hj=(e,t,r,n,i,l,c,u)=>{if(r!=null)return r;var f=c==="vertical"&&u==="xAxis"||c==="horizontal"&&u==="yAxis",m=f?fh(n,l,i):fh(l,i);return oG(t,m,e.allowDataOverflow)},tW=ue([xr,Bj,$j,$G,HG,eW,nr,sr],Hj,{memoizeOptions:{resultEqualityCheck:px}}),rW=[0,1],Uj=(e,t,r,n,i,l,c)=>{if(!((e==null||r==null||r.length===0)&&c===void 0)){var{dataKey:u,type:f}=e,m=Ws(t,l);if(m&&u==null){var h;return uP(0,(h=r?.length)!==null&&h!==void 0?h:0)}return f==="category"?YG(n,e,m):i==="expand"?rW:c}},Yj=ue([xr,nr,Lj,xx,Ud,sr,tW],Uj);function nW(e){return e in nd}var C3=(e,t,r)=>{if(e!=null){var{scale:n,type:i}=e;if(n==="auto")return i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof n=="string"){var l="scale".concat(Td(n));return nW(l)?l:"point"}}},tl=ue([xr,m3,Cj],C3);function Vj(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?uD(e.scale,r,n):uD(t,r,n)}var Gj=(e,t,r)=>{var n=zj(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Wi(e))return mG(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Wi(e))return pG(e,t.tickCount,t.allowDecimals)}},Wj=ue([Yj,Rc,tl],Gj),Kj=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Wi(t)&&Array.isArray(r)&&r.length>0){var i,l,c=t[0],u=(i=r[0])!==null&&i!==void 0?i:0,f=t[1],m=(l=r[r.length-1])!==null&&l!==void 0?l:0;return[Math.min(c,u),Math.max(f,m)]}return t},aW=ue([xr,Yj,Wj,sr],Kj),iW=ue(xx,xr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Ki(e.map(x=>x.value))).sort((x,v)=>x-v),i=n[0],l=n[n.length-1];if(i==null||l==null)return 1/0;var c=l-i;if(c===0)return 1/0;for(var u=0;u<n.length-1;u++){var f=n[u],m=n[u+1];if(!(f==null||m==null)){var h=m-f;r=Math.min(r,h)}}return r/c}}),A3=ue(iW,nr,hG,zr,(e,t,r,n,i)=>i,(e,t,r,n,i)=>{if(!$t(e))return 0;var l=t==="vertical"?n.height:n.width;if(i==="gap")return e*l/2;if(i==="no-gap"){var c=Ln(r,e*l),u=e*l/2;return u-c-(u-c)/l*c}return 0}),sW=(e,t,r)=>{var n=Js(e,t);return n==null||typeof n.padding!="string"?0:A3(e,"xAxis",t,r,n.padding)},lW=(e,t,r)=>{var n=el(e,t);return n==null||typeof n.padding!="string"?0:A3(e,"yAxis",t,r,n.padding)},oW=ue(Js,sW,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),cW=ue(el,lW,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),uW=ue([zr,oW,ex,Jh,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:l}=n;return i?[l.left,r.width-l.right]:[e.left+t.left,e.left+e.width-t.right]}),dW=ue([zr,nr,cW,ex,Jh,(e,t,r)=>r],(e,t,r,n,i,l)=>{var{padding:c}=i;return l?[n.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Wd=(e,t,r,n)=>{var i;switch(t){case"xAxis":return uW(e,r,n);case"yAxis":return dW(e,r,n);case"zAxis":return(i=Oj(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return l3(e);case"radiusAxis":return o3(e,r);default:return}},k3=ue([xr,Wd],fx),fW=ue([tl,aW],f3),gx=ue([xr,tl,fW,k3],Vj);ue([Vd,vx,sr],qG);function M3(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var bx=(e,t)=>t,yx=(e,t,r)=>r,mW=ue(Xh,bx,yx,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(M3)),pW=ue(Zh,bx,yx,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(M3)),D3=(e,t)=>({width:e.width,height:t.height}),hW=(e,t)=>{var r=typeof t.width=="number"?t.width:Ld;return{width:r,height:e.height}};ue(zr,Js,D3);var xW=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},vW=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},gW=ue(Ji,zr,mW,bx,yx,(e,t,r,n,i)=>{var l={},c;return r.forEach(u=>{var f=D3(t,u);c==null&&(c=xW(t,n,e));var m=n==="top"&&!i||n==="bottom"&&i;l[u.id]=c-Number(m)*f.height,c+=(m?-1:1)*f.height}),l}),bW=ue(Zi,zr,pW,bx,yx,(e,t,r,n,i)=>{var l={},c;return r.forEach(u=>{var f=hW(t,u);c==null&&(c=vW(t,n,e));var m=n==="left"&&!i||n==="right"&&i;l[u.id]=c-Number(m)*f.width,c+=(m?-1:1)*f.width}),l}),yW=(e,t)=>{var r=Js(e,t);if(r!=null)return gW(e,r.orientation,r.mirror)};ue([zr,Js,yW,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}});var jW=(e,t)=>{var r=el(e,t);if(r!=null)return bW(e,r.orientation,r.mirror)};ue([zr,el,jW,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}});ue(zr,el,(e,t)=>{var r=typeof t.width=="number"?t.width:Ld;return{width:r,height:e.height}});var E3=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:l,dataKey:c}=r,u=Ws(e,n),f=t.map(m=>m.value);if(c&&u&&l==="category"&&i&&GO(f))return f}},Qj=ue([nr,xx,xr,sr],E3),_3=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:l}=r,c=Ws(e,n);if(c&&(i==="number"||l!=="auto"))return t.map(u=>u.value)}},Xj=ue([nr,xx,Rc,sr],_3);ue([nr,OG,tl,gx,Qj,Xj,Wd,Wj,sr],(e,t,r,n,i,l,c,u,f)=>{if(t!=null){var m=Ws(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:l,duplicateDomain:i,isCategorical:m,niceTicks:u,range:c,realScaleType:r,scale:n}}});var wW=(e,t,r,n,i,l,c,u,f)=>{if(!(t==null||n==null)){var m=Ws(e,f),{type:h,ticks:x,tickCount:v}=t,g=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,S=h==="category"&&n.bandwidth?n.bandwidth()/g:0;S=f==="angleAxis"&&l!=null&&l.length>=2?bn(l[0]-l[1])*2*S:S;var y=x||i;return y?y.map((w,C)=>{var k=c?c.indexOf(w):w,A=n.map(k);return $t(A)?{index:C,coordinate:A+S,value:w,offset:S}:null}).filter(Wa):m&&u?u.map((w,C)=>{var k=n.map(w);return $t(k)?{coordinate:k+S,value:w,index:C,offset:S}:null}).filter(Wa):n.ticks?n.ticks(v).map((w,C)=>{var k=n.map(w);return $t(k)?{coordinate:k+S,value:w,index:C,offset:S}:null}).filter(Wa):n.domain().map((w,C)=>{var k=n.map(w);return $t(k)?{coordinate:k+S,value:c?c[w]:w,index:C,offset:S}:null}).filter(Wa)}};ue([nr,Rc,tl,gx,Wj,Wd,Qj,Xj,sr],wW);var NW=(e,t,r,n,i,l,c)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var u=Ws(e,c),{tickCount:f}=t,m=0;return m=c==="angleAxis"&&n?.length>=2?bn(n[0]-n[1])*2*m:m,u&&l?l.map((h,x)=>{var v=r.map(h);return $t(v)?{coordinate:v+m,value:h,index:x,offset:m}:null}).filter(Wa):r.ticks?r.ticks(f).map((h,x)=>{var v=r.map(h);return $t(v)?{coordinate:v+m,value:h,index:x,offset:m}:null}).filter(Wa):r.domain().map((h,x)=>{var v=r.map(h);return $t(v)?{coordinate:v+m,value:i?i[h]:h,index:x,offset:m}:null}).filter(Wa)}};ue([nr,Rc,gx,Wd,Qj,Xj,sr],NW);ue(xr,gx,(e,t)=>{if(!(e==null||t==null))return dh(dh({},e),{},{scale:t})});var SW=ue([xr,tl,Yj,k3],Vj);ue((e,t,r)=>Oj(e,r),SW,(e,t)=>{if(!(e==null||t==null))return dh(dh({},e),{},{scale:t})});var CW=ue([nr,Xh,Zh],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),O3=e=>e.options.defaultTooltipEventType,T3=e=>e.options.validateTooltipEventTypes;function P3(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Zj(e,t){var r=O3(e),n=T3(e);return P3(t,r,n)}function AW(e){return st(t=>Zj(t,e))}var I3=(e,t)=>{var r,n=Number(t);if(!(qi(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},kW=e=>e.tooltip.settings,Ps={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},MW={itemInteraction:{click:Ps,hover:Ps},axisInteraction:{click:Ps,hover:Ps},keyboardInteraction:Ps,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},R3=wn({name:"tooltip",initialState:MW,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:er()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=wa(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:er()},removeTooltipEntrySettings:{reducer(e,t){var r=wa(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:er()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:DW,replaceTooltipEntrySettings:EW,removeTooltipEntrySettings:_W,setTooltipSettingsState:OW,setActiveMouseOverItemIndex:L3,mouseLeaveItem:TW,mouseLeaveChart:F3,setActiveClickItemIndex:PW,setMouseOverAxisIndex:z3,setMouseClickAxisIndex:IW,setSyncInteraction:Gy,setKeyboardInteraction:Wy}=R3.actions,RW=R3.reducer;function mD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mD(Object(r),!0).forEach(function(n){LW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LW(e,t,r){return(t=FW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FW(e){var t=zW(e,"string");return typeof t=="symbol"?t:t+""}function zW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BW(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function $W(e){return e.index!=null}var B3=(e,t,r,n)=>{if(t==null)return Ps;var i=BW(e,t,r);if(i==null)return Ps;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var l=e.settings.active===!0;if($W(i)){if(l)return Tm(Tm({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Tm(Tm({},Ps),{},{coordinate:i.coordinate})};function qW(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function HW(e,t){var r=qW(e),n=t[0],i=t[1];if(r===void 0)return!1;var l=Math.min(n,i),c=Math.max(n,i);return r>=l&&r<=c}function UW(e,t,r){if(r==null||t==null)return!0;var n=pr(e,t);return n==null||!Wi(r)?!0:HW(n,r)}var Jj=(e,t,r,n)=>{var i=e?.index;if(i==null)return null;var l=Number(i);if(!$t(l))return i;var c=0,u=1/0;t.length>0&&(u=t.length-1);var f=Math.max(c,Math.min(l,u)),m=t[f];return m==null||UW(m,r,n)?String(f):null},$3=(e,t,r,n,i,l,c)=>{if(l!=null){var u=c[0],f=u?.getPosition(l);if(f!=null)return f;var m=i?.[Number(l)];if(m)return r==="horizontal"?{x:m.coordinate,y:(n.top+t)/2}:{x:(n.left+e)/2,y:m.coordinate}}},q3=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&n!=null){var l=e.tooltipItemPayloads[0];return l!=null?[l]:[]}return e.tooltipItemPayloads.filter(c=>{var u;return((u=c.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},H3=e=>e.options.tooltipPayloadSearcher,Fc=e=>e.tooltip;function pD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pD(Object(r),!0).forEach(function(n){YW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YW(e,t,r){return(t=VW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VW(e){var t=GW(e,"string");return typeof t=="symbol"?t:t+""}function GW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WW(e,t){return e??t}var U3=(e,t,r,n,i,l,c)=>{if(!(t==null||l==null)){var{chartData:u,computedData:f,dataStartIndex:m,dataEndIndex:h}=r,x=[];return e.reduce((v,g)=>{var S,{dataDefinedOnItem:y,settings:w}=g,C=WW(y,u),k=Array.isArray(C)?FT(C,m,h):C,A=(S=w?.dataKey)!==null&&S!==void 0?S:n,M=w?.nameKey,D;if(n&&Array.isArray(k)&&!Array.isArray(k[0])&&c==="axis"?D=V$(k,n,i):D=l(k,t,f,M),Array.isArray(D))D.forEach(I=>{var O=hD(hD({},w),{},{name:I.name,unit:I.unit,color:void 0,fill:void 0});v.push(xk({tooltipEntrySettings:O,dataKey:I.dataKey,payload:I.payload,value:pr(I.payload,I.dataKey),name:I.name}))});else{var T;v.push(xk({tooltipEntrySettings:w,dataKey:A,payload:D,value:pr(D,A),name:(T=pr(D,M))!==null&&T!==void 0?T:w?.name}))}return v},x)}},ew=ue([Ir,m3,Cj],C3),KW=ue([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),QW=ue([$r,Ic],Tj),zc=ue([KW,Ir,QW],Pj,{memoizeOptions:{resultEqualityCheck:hx}}),XW=ue([zc],e=>e.filter(_j)),ZW=ue([zc],Ij,{memoizeOptions:{resultEqualityCheck:hx}}),Bc=ue([ZW,Zs],Rj),JW=ue([XW,Zs,Ir],d3),tw=ue([Bc,Ir,zc],Fj),Y3=ue([Ir],zj),eK=ue([Ir],e=>e.allowDataOverflow),V3=ue([Y3,eK],YP),tK=ue([zc],e=>e.filter(_j)),rK=ue([JW,tK,Ud,r3],v3),nK=ue([rK,Zs,$r,V3],g3),aK=ue([zc],h3),iK=ue([Bc,Ir,aK,vx,$r],qj,{memoizeOptions:{resultEqualityCheck:px}}),sK=ue([b3,$r,Ic],Lc),lK=ue([sK,$r],w3),oK=ue([y3,$r,Ic],Lc),cK=ue([oK,$r],N3),uK=ue([j3,$r,Ic],Lc),dK=ue([uK,$r],S3),fK=ue([lK,dK,cK],fh),mK=ue([Ir,Y3,V3,nK,iK,fK,nr,$r],Hj),Kd=ue([Ir,nr,Bc,tw,Ud,$r,mK],Uj),pK=ue([Kd,Ir,ew],Gj),hK=ue([Ir,Kd,pK,$r],Kj),G3=e=>{var t=$r(e),r=Ic(e),n=!1;return Wd(e,t,r,n)},W3=ue([Ir,G3],fx),K3=ue([Ir,ew,hK,W3],Vj),xK=ue([nr,tw,Ir,$r],E3),vK=ue([nr,tw,Ir,$r],_3),gK=(e,t,r,n,i,l,c,u)=>{if(t){var{type:f}=t,m=Ws(e,u);if(n){var h=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,x=f==="category"&&n.bandwidth?n.bandwidth()/h:0;return x=u==="angleAxis"&&i!=null&&i?.length>=2?bn(i[0]-i[1])*2*x:x,m&&c?c.map((v,g)=>{var S=n.map(v);return $t(S)?{coordinate:S+x,value:v,index:g,offset:x}:null}).filter(Wa):n.domain().map((v,g)=>{var S=n.map(v);return $t(S)?{coordinate:S+x,value:l?l[v]:v,index:g,offset:x}:null}).filter(Wa)}}},ts=ue([nr,Ir,ew,K3,G3,xK,vK,$r],gK),rw=ue([O3,T3,kW],(e,t,r)=>P3(r.shared,e,t)),Q3=e=>e.tooltip.settings.trigger,nw=e=>e.tooltip.settings.defaultIndex,Qd=ue([Fc,rw,Q3,nw],B3),Sd=ue([Qd,Bc,Gd,Kd],Jj),X3=ue([ts,Sd],I3),Z3=ue([Qd],e=>{if(e)return e.dataKey}),bK=ue([Qd],e=>{if(e)return e.graphicalItemId}),J3=ue([Fc,rw,Q3,nw],q3),yK=ue([Zi,Ji,nr,zr,ts,nw,J3],$3),jK=ue([Qd,yK],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),wK=ue([Qd],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),NK=ue([J3,Sd,Zs,Gd,X3,H3,rw],U3);ue([NK],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function xD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xD(Object(r),!0).forEach(function(n){SK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SK(e,t,r){return(t=CK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CK(e){var t=AK(e,"string");return typeof t=="symbol"?t:t+""}function AK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kK=()=>st(Ir),MK=()=>{var e=kK(),t=st(ts),r=st(K3);return hk(!e||!r?void 0:vD(vD({},e),{},{scale:r}),t)};function gD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Uo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gD(Object(r),!0).forEach(function(n){DK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DK(e,t,r){return(t=EK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EK(e){var t=_K(e,"string");return typeof t=="symbol"?t:t+""}function _K(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OK=(e,t,r,n)=>{var i=t.find(l=>l&&l.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},TK=(e,t,r,n)=>{var i=t.find(m=>m&&m.index===r);if(i){if(e==="centric"){var l=i.coordinate,{radius:c}=n;return Uo(Uo(Uo({},n),Mr(n.cx,n.cy,c,l)),{},{angle:l,radius:c})}var u=i.coordinate,{angle:f}=n;return Uo(Uo(Uo({},n),Mr(n.cx,n.cy,u,f)),{},{angle:f,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function PK(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var e4=(e,t,r,n,i)=>{var l,c=(l=t?.length)!==null&&l!==void 0?l:0;if(c<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<c;u++){var f,m,h,x,v,g=u>0?(f=r[u-1])===null||f===void 0?void 0:f.coordinate:(m=r[c-1])===null||m===void 0?void 0:m.coordinate,S=(h=r[u])===null||h===void 0?void 0:h.coordinate,y=u>=c-1?(x=r[0])===null||x===void 0?void 0:x.coordinate:(v=r[u+1])===null||v===void 0?void 0:v.coordinate,w=void 0;if(!(g==null||S==null||y==null))if(bn(S-g)!==bn(y-S)){var C=[];if(bn(y-S)===bn(i[1]-i[0])){w=y;var k=S+i[1]-i[0];C[0]=Math.min(k,(k+g)/2),C[1]=Math.max(k,(k+g)/2)}else{w=g;var A=y+i[1]-i[0];C[0]=Math.min(S,(A+S)/2),C[1]=Math.max(S,(A+S)/2)}var M=[Math.min(S,(w+S)/2),Math.max(S,(w+S)/2)];if(e>M[0]&&e<=M[1]||e>=C[0]&&e<=C[1]){var D;return(D=r[u])===null||D===void 0?void 0:D.index}}else{var T=Math.min(g,y),I=Math.max(g,y);if(e>(T+S)/2&&e<=(I+S)/2){var O;return(O=r[u])===null||O===void 0?void 0:O.index}}}else if(t)for(var z=0;z<c;z++){var F=t[z];if(F!=null){var B=t[z+1],E=t[z-1];if(z===0&&B!=null&&e<=(F.coordinate+B.coordinate)/2||z===c-1&&E!=null&&e>(F.coordinate+E.coordinate)/2||z>0&&z<c-1&&E!=null&&B!=null&&e>(F.coordinate+E.coordinate)/2&&e<=(F.coordinate+B.coordinate)/2)return F.index}}return-1},IK=()=>st(Cj),aw=(e,t)=>t,t4=(e,t,r)=>r,iw=(e,t,r,n)=>n,RK=ue(ts,e=>$h(e,t=>t.coordinate)),sw=ue([Fc,aw,t4,iw],B3),lw=ue([sw,Bc,Gd,Kd],Jj),LK=(e,t,r)=>{if(t!=null){var n=Fc(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},r4=ue([Fc,aw,t4,iw],q3),mh=ue([Zi,Ji,nr,zr,ts,iw,r4],$3),FK=ue([sw,mh],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),n4=ue([ts,lw],I3),zK=ue([r4,lw,Zs,Gd,n4,H3,aw],U3),BK=ue([sw,lw],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),$K=(e,t,r,n,i,l,c)=>{if(!(!e||!r||!n||!i)&&PK(e,c)){var u=xH(e,t),f=e4(u,l,i,r,n),m=OK(t,i,f,e);return{activeIndex:String(f),activeCoordinate:m}}},qK=(e,t,r,n,i,l,c)=>{if(!(!e||!n||!i||!l||!r)){var u=SU(e,r);if(u){var f=vH(u,t),m=e4(f,c,l,n,i),h=TK(t,l,m,u);return{activeIndex:String(m),activeCoordinate:h}}}},HK=(e,t,r,n,i,l,c,u)=>{if(!(!e||!t||!n||!i||!l))return t==="horizontal"||t==="vertical"?$K(e,t,n,i,l,c,u):qK(e,t,r,n,i,l,c)},UK=ue(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),YK=ue(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(ja)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:wG}});function bD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bD(Object(r),!0).forEach(function(n){VK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VK(e,t,r){return(t=GK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GK(e){var t=WK(e,"string");return typeof t=="symbol"?t:t+""}function WK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KK={},QK={zIndexMap:Object.values(ja).reduce((e,t)=>yD(yD({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),KK)},XK=new Set(Object.values(ja));function ZK(e){return XK.has(e)}var a4=wn({name:"zIndex",initialState:QK,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:er()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!ZK(r)&&delete e.zIndexMap[r])},prepare:er()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:er()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:er()}}}),{registerZIndexPortal:JK,unregisterZIndexPortal:eQ,registerZIndexPortalElement:tQ,unregisterZIndexPortalElement:rQ}=a4.actions,nQ=a4.reducer;function Xd(e){var{zIndex:t,children:r}=e,n=QH(),i=n&&t!==void 0&&t!==0,l=Ks(),c=Tr();j.useLayoutEffect(()=>i?(c(JK({zIndex:t})),()=>{c(eQ({zIndex:t}))}):Pd,[c,t,i]);var u=st(f=>UK(f,t,l));return i?u?Dc.createPortal(r,u):null:r}function Ky(){return Ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ky.apply(null,arguments)}function jD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jD(Object(r),!0).forEach(function(n){aQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aQ(e,t,r){return(t=iQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iQ(e){var t=sQ(e,"string");return typeof t=="symbol"?t:t+""}function sQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lQ(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return j.isValidElement(t)?j.cloneElement(t,n):j.createElement(r,n)}function oQ(e){var t,{coordinate:r,payload:n,index:i,offset:l,tooltipAxisBandSize:c,layout:u,cursor:f,tooltipEventType:m,chartName:h}=e,x=r,v=n,g=i;if(!f||!x||h!=="ScatterChart"&&m!=="axis")return null;var S,y,w;if(h==="ScatterChart")S=x,y=F7,w=ja.cursorLine;else if(h==="BarChart")S=z7(u,x,l,c),y=iP,w=ja.cursorRectangle;else if(u==="radial"&&QO(x)){var{cx:C,cy:k,radius:A,startAngle:M,endAngle:D}=lP(x);S={cx:C,cy:k,startAngle:M,endAngle:D,innerRadius:A,outerRadius:A},y=cP,w=ja.cursorLine}else S={points:MU(u,x,l)},y=K1,w=ja.cursorLine;var T=typeof f=="object"&&"className"in f?f.className:void 0,I=Pm(Pm(Pm(Pm({stroke:"#ccc",pointerEvents:"none"},l),S),oy(f)),{},{payload:v,payloadIndex:g,className:ut("recharts-tooltip-cursor",T)});return j.createElement(Xd,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:w},j.createElement(lQ,{cursor:f,cursorComp:y,cursorProps:I}))}function cQ(e){var t=MK(),r=GH(),n=rx(),i=IK();return t==null||r==null||n==null||i==null?null:j.createElement(oQ,Ky({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var i4=j.createContext(null),uQ=()=>j.useContext(i4),bb={exports:{}},wD;function dQ(){return wD||(wD=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(f,m,h){this.fn=f,this.context=m,this.once=h||!1}function l(f,m,h,x,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var g=new i(h,x||f,v),S=r?r+m:m;return f._events[S]?f._events[S].fn?f._events[S]=[f._events[S],g]:f._events[S].push(g):(f._events[S]=g,f._eventsCount++),f}function c(f,m){--f._eventsCount===0?f._events=new n:delete f._events[m]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var m=[],h,x;if(this._eventsCount===0)return m;for(x in h=this._events)t.call(h,x)&&m.push(r?x.slice(1):x);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(h)):m},u.prototype.listeners=function(m){var h=r?r+m:m,x=this._events[h];if(!x)return[];if(x.fn)return[x.fn];for(var v=0,g=x.length,S=new Array(g);v<g;v++)S[v]=x[v].fn;return S},u.prototype.listenerCount=function(m){var h=r?r+m:m,x=this._events[h];return x?x.fn?1:x.length:0},u.prototype.emit=function(m,h,x,v,g,S){var y=r?r+m:m;if(!this._events[y])return!1;var w=this._events[y],C=arguments.length,k,A;if(w.fn){switch(w.once&&this.removeListener(m,w.fn,void 0,!0),C){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,h),!0;case 3:return w.fn.call(w.context,h,x),!0;case 4:return w.fn.call(w.context,h,x,v),!0;case 5:return w.fn.call(w.context,h,x,v,g),!0;case 6:return w.fn.call(w.context,h,x,v,g,S),!0}for(A=1,k=new Array(C-1);A<C;A++)k[A-1]=arguments[A];w.fn.apply(w.context,k)}else{var M=w.length,D;for(A=0;A<M;A++)switch(w[A].once&&this.removeListener(m,w[A].fn,void 0,!0),C){case 1:w[A].fn.call(w[A].context);break;case 2:w[A].fn.call(w[A].context,h);break;case 3:w[A].fn.call(w[A].context,h,x);break;case 4:w[A].fn.call(w[A].context,h,x,v);break;default:if(!k)for(D=1,k=new Array(C-1);D<C;D++)k[D-1]=arguments[D];w[A].fn.apply(w[A].context,k)}}return!0},u.prototype.on=function(m,h,x){return l(this,m,h,x,!1)},u.prototype.once=function(m,h,x){return l(this,m,h,x,!0)},u.prototype.removeListener=function(m,h,x,v){var g=r?r+m:m;if(!this._events[g])return this;if(!h)return c(this,g),this;var S=this._events[g];if(S.fn)S.fn===h&&(!v||S.once)&&(!x||S.context===x)&&c(this,g);else{for(var y=0,w=[],C=S.length;y<C;y++)(S[y].fn!==h||v&&!S[y].once||x&&S[y].context!==x)&&w.push(S[y]);w.length?this._events[g]=w.length===1?w[0]:w:c(this,g)}return this},u.prototype.removeAllListeners=function(m){var h;return m?(h=r?r+m:m,this._events[h]&&c(this,h)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(bb)),bb.exports}var fQ=dQ();const mQ=si(fQ);var Cd=new mQ,Qy="recharts.syncEvent.tooltip",ND="recharts.syncEvent.brush",pQ=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!qi(r))return e[r]}},hQ={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},s4=wn({name:"options",initialState:hQ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),xQ=s4.reducer,{createEventEmitter:vQ}=s4.actions;function gQ(e){return e.tooltip.syncInteraction}var bQ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},l4=wn({name:"chartData",initialState:bQ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:SD,setDataStartEndIndexes:yQ,setComputedData:Toe}=l4.actions,jQ=l4.reducer,wQ=["x","y"];function CD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CD(Object(r),!0).forEach(function(n){NQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NQ(e,t,r){return(t=SQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SQ(e){var t=CQ(e,"string");return typeof t=="symbol"?t:t+""}function CQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AQ(e,t){if(e==null)return{};var r,n,i=kQ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function kQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function MQ(){var e=st(Aj),t=st(kj),r=Tr(),n=st(n3),i=st(ts),l=rx(),c=tx(),u=st(f=>f.rootProps.className);j.useEffect(()=>{if(e==null)return Pd;var f=(m,h,x)=>{if(t!==x&&e===m){if(n==="index"){var v;if(c&&h!==null&&h!==void 0&&(v=h.payload)!==null&&v!==void 0&&v.coordinate&&h.payload.sourceViewBox){var g=h.payload.coordinate,{x:S,y}=g,w=AQ(g,wQ),{x:C,y:k,width:A,height:M}=h.payload.sourceViewBox,D=Yo(Yo({},w),{},{x:c.x+(A?(S-C)/A:0)*c.width,y:c.y+(M?(y-k)/M:0)*c.height});r(Yo(Yo({},h),{},{payload:Yo(Yo({},h.payload),{},{coordinate:D})}))}else r(h);return}if(i!=null){var T;if(typeof n=="function"){var I={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},O=n(i,I);T=i[O]}else n==="value"&&(T=i.find(L=>String(L.value)===h.payload.label));var{coordinate:z}=h.payload;if(T==null||h.payload.active===!1||z==null||c==null){r(Gy({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:F,y:B}=z,E=Math.min(F,c.x+c.width),J=Math.min(B,c.y+c.height),X={x:l==="horizontal"?T.coordinate:E,y:l==="horizontal"?J:T.coordinate},re=Gy({active:h.payload.active,coordinate:X,dataKey:h.payload.dataKey,index:String(T.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});r(re)}}};return Cd.on(Qy,f),()=>{Cd.off(Qy,f)}},[u,r,t,e,n,i,l,c])}function DQ(){var e=st(Aj),t=st(kj),r=Tr();j.useEffect(()=>{if(e==null)return Pd;var n=(i,l,c)=>{t!==c&&e===i&&r(yQ(l))};return Cd.on(ND,n),()=>{Cd.off(ND,n)}},[r,t,e])}function EQ(){var e=Tr();j.useEffect(()=>{e(vQ())},[e]),MQ(),DQ()}function _Q(e,t,r,n,i,l){var c=st(g=>LK(g,e,t)),u=st(kj),f=st(Aj),m=st(n3),h=st(gQ),x=h?.active,v=tx();j.useEffect(()=>{if(!x&&f!=null&&u!=null){var g=Gy({active:l,coordinate:r,dataKey:c,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:v,graphicalItemId:void 0});Cd.emit(Qy,f,g,u)}},[x,r,c,i,n,u,f,m,l,v])}function AD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AD(Object(r),!0).forEach(function(n){OQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OQ(e,t,r){return(t=TQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TQ(e){var t=PQ(e,"string");return typeof t=="symbol"?t:t+""}function PQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IQ(e){return e.dataKey}function RQ(e,t){return j.isValidElement(e)?j.cloneElement(e,t):typeof e=="function"?j.createElement(e,t):j.createElement(v7,t)}var MD=[],LQ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ow(e){var t,r,n=ci(e,LQ),{active:i,allowEscapeViewBox:l,animationDuration:c,animationEasing:u,content:f,filterNull:m,isAnimationActive:h,offset:x,payloadUniqBy:v,position:g,reverseDirection:S,useTranslate3d:y,wrapperStyle:w,cursor:C,shared:k,trigger:A,defaultIndex:M,portal:D,axisId:T}=n,I=Tr(),O=typeof M=="number"?String(M):M;j.useEffect(()=>{I(OW({shared:k,trigger:A,axisId:T,active:i,defaultIndex:O}))},[I,k,A,T,i,O]);var z=tx(),F=eP(),B=AW(k),{activeIndex:E,isActive:J}=(t=st(xe=>BK(xe,B,A,O)))!==null&&t!==void 0?t:{},X=st(xe=>zK(xe,B,A,O)),re=st(xe=>n4(xe,B,A,O)),L=st(xe=>FK(xe,B,A,O)),U=X,V=uQ(),Ne=(r=i??J)!==null&&r!==void 0?r:!1,[De,P]=aq([U,Ne]),W=B==="axis"?re:void 0;_Q(B,A,L,W,E,Ne);var ne=D??V;if(ne==null||z==null||B==null)return null;var de=U??MD;Ne||(de=MD),m&&de.length&&(de=E9(de.filter(xe=>xe.value!=null&&(xe.hide!==!0||n.includeHidden)),v,IQ));var q=de.length>0,oe=j.createElement(S7,{allowEscapeViewBox:l,animationDuration:c,animationEasing:u,isAnimationActive:h,active:Ne,coordinate:L,hasPayload:q,offset:x,position:g,reverseDirection:S,useTranslate3d:y,viewBox:z,wrapperStyle:w,lastBoundingBox:De,innerRef:P,hasPortalFromProps:!!D},RQ(f,kD(kD({},n),{},{payload:de,label:W,active:Ne,activeIndex:E,coordinate:L,accessibilityLayer:F})));return j.createElement(j.Fragment,null,Dc.createPortal(oe,ne),Ne&&j.createElement(cQ,{cursor:C,tooltipEventType:B,coordinate:L,payload:de,index:E}))}var $c=e=>null;$c.displayName="Cell";function FQ(e,t,r){return(t=zQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zQ(e){var t=BQ(e,"string");return typeof t=="symbol"?t:t+""}function BQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class $Q{constructor(t){FQ(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function DD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DD(Object(r),!0).forEach(function(n){HQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HQ(e,t,r){return(t=UQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UQ(e){var t=YQ(e,"string");return typeof t=="symbol"?t:t+""}function YQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VQ={cacheSize:2e3,enableCache:!0},o4=qQ({},VQ),ED=new $Q(o4.cacheSize),GQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},_D="recharts_measurement_span";function WQ(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",l=t.fontStyle||"",c=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(l,"|").concat(c,"|").concat(u)}var OD=(e,t)=>{try{var r=document.getElementById(_D);r||(r=document.createElement("span"),r.setAttribute("id",_D),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,GQ,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},TD=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Q1.isSsr)return{width:0,height:0};if(!o4.enableCache)return OD(t,r);var n=WQ(t,r),i=ED.get(n);if(i)return i;var l=OD(t,r);return ED.set(n,l),l},c4;function KQ(e,t,r){return(t=QQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QQ(e){var t=XQ(e,"string");return typeof t=="symbol"?t:t+""}function XQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ID=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ZQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,JQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,eX={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},tX=["cm","mm","pt","pc","in","Q","px"];function rX(e){return tX.includes(e)}var tc="NaN";function nX(e,t){return e*eX[t]}class Gr{static parse(t){var r,[,n,i]=(r=JQ.exec(t))!==null&&r!==void 0?r:[];return n==null?Gr.NaN:new Gr(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,qi(t)&&(this.unit=""),r!==""&&!ZQ.test(r)&&(this.num=NaN,this.unit=""),rX(r)&&(this.num=nX(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Gr(NaN,""):new Gr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Gr(NaN,""):new Gr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Gr(NaN,""):new Gr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Gr(NaN,""):new Gr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return qi(this.num)}}c4=Gr;KQ(Gr,"NaN",new c4(NaN,""));function u4(e){if(e==null||e.includes(tc))return tc;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,l]=(r=PD.exec(t))!==null&&r!==void 0?r:[],c=Gr.parse(n??""),u=Gr.parse(l??""),f=i==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return tc;t=t.replace(PD,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,h,x,v]=(m=ID.exec(t))!==null&&m!==void 0?m:[],g=Gr.parse(h??""),S=Gr.parse(v??""),y=x==="+"?g.add(S):g.subtract(S);if(y.isNaN())return tc;t=t.replace(ID,y.toString())}return t}var RD=/\(([^()]*)\)/;function aX(e){for(var t=e,r;(r=RD.exec(t))!=null;){var[,n]=r;t=t.replace(RD,u4(n))}return t}function iX(e){var t=e.replace(/\s+/g,"");return t=aX(t),t=u4(t),t}function sX(e){try{return iX(e)}catch{return tc}}function yb(e){var t=sX(e.slice(5,-1));return t===tc?"":t}var lX=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],oX=["dx","dy","angle","className","breakAll"];function Xy(){return Xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xy.apply(null,arguments)}function LD(e,t){if(e==null)return{};var r,n,i=cX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function cX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var d4=/[ \f\n\r\t\v\u2028\u2029]+/,f4=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];Bn(t)||(r?i=t.toString().split(""):i=t.toString().split(d4));var l=i.map(u=>({word:u,width:TD(u,n).width})),c=r?0:TD("",n).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}};function uX(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var m4=(e,t,r,n)=>e.reduce((i,l)=>{var{word:c,width:u}=l,f=i[i.length-1];if(f&&u!=null&&(t==null||n||f.width+u+r<Number(t)))f.words.push(c),f.width+=u+r;else{var m={words:[c],width:u};i.push(m)}return i},[]),p4=e=>e.reduce((t,r)=>t.width>r.width?t:r),dX="",FD=(e,t,r,n,i,l,c,u)=>{var f=e.slice(0,t),m=f4({breakAll:r,style:n,children:f+dX});if(!m)return[!1,[]];var h=m4(m.wordsWithComputedWidth,l,c,u),x=h.length>i||p4(h).width>Number(l);return[x,h]},fX=(e,t,r,n,i)=>{var{maxLines:l,children:c,style:u,breakAll:f}=e,m=tt(l),h=String(c),x=m4(t,n,r,i);if(!m||i)return x;var v=x.length>l||p4(x).width>Number(n);if(!v)return x;for(var g=0,S=h.length-1,y=0,w;g<=S&&y<=h.length-1;){var C=Math.floor((g+S)/2),k=C-1,[A,M]=FD(h,k,f,u,l,n,r,i),[D]=FD(h,C,f,u,l,n,r,i);if(!A&&!D&&(g=C+1),A&&D&&(S=C-1),!A&&D){w=M;break}y++}return w||x},zD=e=>{var t=Bn(e)?[]:e.toString().split(d4);return[{words:t,width:void 0}]},mX=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:l,maxLines:c}=e;if((t||r)&&!Q1.isSsr){var u,f,m=f4({breakAll:l,children:n,style:i});if(m){var{wordsWithComputedWidth:h,spaceWidth:x}=m;u=h,f=x}else return zD(n);return fX({breakAll:l,children:n,maxLines:c,style:i},u,f,t,!!r)}return zD(n)},h4="#808080",pX={angle:0,breakAll:!1,capHeight:"0.71em",fill:h4,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},cw=j.forwardRef((e,t)=>{var r=ci(e,pX),{x:n,y:i,lineHeight:l,capHeight:c,fill:u,scaleToFit:f,textAnchor:m,verticalAnchor:h}=r,x=LD(r,lX),v=j.useMemo(()=>mX({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width}),[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),{dx:g,dy:S,angle:y,className:w,breakAll:C}=x,k=LD(x,oX);if(!Hi(n)||!Hi(i)||v.length===0)return null;var A=Number(n)+(tt(g)?g:0),M=Number(i)+(tt(S)?S:0);if(!$t(A)||!$t(M))return null;var D;switch(h){case"start":D=yb("calc(".concat(c,")"));break;case"middle":D=yb("calc(".concat((v.length-1)/2," * -").concat(l," + (").concat(c," / 2))"));break;default:D=yb("calc(".concat(v.length-1," * -").concat(l,")"));break}var T=[],I=v[0];if(f&&I!=null){var O=I.width,{width:z}=x;T.push("scale(".concat(tt(z)&&tt(O)?z/O:1,")"))}return y&&T.push("rotate(".concat(y,", ").concat(A,", ").concat(M,")")),T.length&&(k.transform=T.join(" ")),j.createElement("text",Xy({},ia(k),{ref:t,x:A,y:M,className:ut("recharts-text",w),textAnchor:m,fill:u.includes("url")?h4:u}),v.map((F,B)=>{var E=F.words.join(C?"":" ");return j.createElement("tspan",{x:A,dy:B===0?D:l,key:"".concat(E,"-").concat(B)},E)}))});cw.displayName="Text";function BD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BD(Object(r),!0).forEach(function(n){hX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hX(e,t,r){return(t=xX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xX(e){var t=vX(e,"string");return typeof t=="symbol"?t:t+""}function vX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gX=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:i}=e,{x:l,y:c,height:u,upperWidth:f,lowerWidth:m}=V1(t),h=l,x=l+(f-m)/2,v=(h+x)/2,g=(f+m)/2,S=h+f/2,y=u>=0?1:-1,w=y*n,C=y>0?"end":"start",k=y>0?"start":"end",A=f>=0?1:-1,M=A*n,D=A>0?"end":"start",T=A>0?"start":"end",I=i;if(r==="top"){var O={x:h+f/2,y:c-w,horizontalAnchor:"middle",verticalAnchor:C};return I&&(O.height=Math.max(c-I.y,0),O.width=f),O}if(r==="bottom"){var z={x:x+m/2,y:c+u+w,horizontalAnchor:"middle",verticalAnchor:k};return I&&(z.height=Math.max(I.y+I.height-(c+u),0),z.width=m),z}if(r==="left"){var F={x:v-M,y:c+u/2,horizontalAnchor:D,verticalAnchor:"middle"};return I&&(F.width=Math.max(F.x-I.x,0),F.height=u),F}if(r==="right"){var B={x:v+g+M,y:c+u/2,horizontalAnchor:T,verticalAnchor:"middle"};return I&&(B.width=Math.max(I.x+I.width-B.x,0),B.height=u),B}var E=I?{width:g,height:u}:{};return r==="insideLeft"?qa({x:v+M,y:c+u/2,horizontalAnchor:T,verticalAnchor:"middle"},E):r==="insideRight"?qa({x:v+g-M,y:c+u/2,horizontalAnchor:D,verticalAnchor:"middle"},E):r==="insideTop"?qa({x:h+f/2,y:c+w,horizontalAnchor:"middle",verticalAnchor:k},E):r==="insideBottom"?qa({x:x+m/2,y:c+u-w,horizontalAnchor:"middle",verticalAnchor:C},E):r==="insideTopLeft"?qa({x:h+M,y:c+w,horizontalAnchor:T,verticalAnchor:k},E):r==="insideTopRight"?qa({x:h+f-M,y:c+w,horizontalAnchor:D,verticalAnchor:k},E):r==="insideBottomLeft"?qa({x:x+M,y:c+u-w,horizontalAnchor:T,verticalAnchor:C},E):r==="insideBottomRight"?qa({x:x+m-M,y:c+u-w,horizontalAnchor:D,verticalAnchor:C},E):r&&typeof r=="object"&&(tt(r.x)||Gl(r.x))&&(tt(r.y)||Gl(r.y))?qa({x:l+Ln(r.x,g),y:c+Ln(r.y,u),horizontalAnchor:"end",verticalAnchor:"end"},E):qa({x:S,y:c+u/2,horizontalAnchor:"middle",verticalAnchor:"middle"},E)},bX=["labelRef"],yX=["content"];function $D(e,t){if(e==null)return{};var r,n,i=jX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function jX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function qD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Im(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qD(Object(r),!0).forEach(function(n){wX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wX(e,t,r){return(t=NX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NX(e){var t=SX(e,"string");return typeof t=="symbol"?t:t+""}function SX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ph.apply(null,arguments)}var CX=j.createContext(null),AX=()=>{var e=j.useContext(CX),t=tx();return e||(t?V1(t):void 0)},kX=j.createContext(null),MX=()=>{var e=j.useContext(kX),t=st(c3);return e||t},DX=e=>{var{value:t,formatter:r}=e,n=Bn(e.children)?t:e.children;return typeof r=="function"?r(n):n},EX=e=>e!=null&&typeof e=="function",_X=(e,t)=>{var r=bn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},OX=(e,t,r,n,i)=>{var{offset:l,className:c}=e,{cx:u,cy:f,innerRadius:m,outerRadius:h,startAngle:x,endAngle:v,clockWise:g}=i,S=(m+h)/2,y=_X(x,v),w=y>=0?1:-1,C,k;switch(t){case"insideStart":C=x+w*l,k=g;break;case"insideEnd":C=v-w*l,k=!g;break;case"end":C=v+w*l,k=g;break;default:throw new Error("Unsupported position ".concat(t))}k=y<=0?k:!k;var A=Mr(u,f,S,C),M=Mr(u,f,S,C+(k?1:-1)*359),D="M".concat(A.x,",").concat(A.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(k?0:1,`,
    `).concat(M.x,",").concat(M.y),T=Bn(e.id)?dd("recharts-radial-line-"):e.id;return j.createElement("text",ph({},n,{dominantBaseline:"central",className:ut("recharts-radial-bar-label",c)}),j.createElement("defs",null,j.createElement("path",{id:T,d:D})),j.createElement("textPath",{xlinkHref:"#".concat(T)},r))},TX=(e,t,r)=>{var{cx:n,cy:i,innerRadius:l,outerRadius:c,startAngle:u,endAngle:f}=e,m=(u+f)/2;if(r==="outside"){var{x:h,y:x}=Mr(n,i,c+t,m);return{x:h,y:x,textAnchor:h>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,{x:g,y:S}=Mr(n,i,v,m);return{x:g,y:S,textAnchor:"middle",verticalAnchor:"middle"}},hp=e=>e!=null&&"cx"in e&&tt(e.cx),PX={angle:0,offset:5,zIndex:ja.label,position:"middle",textBreakAll:!1};function IX(e){if(!hp(e))return e;var{cx:t,cy:r,outerRadius:n}=e,i=n*2;return{x:t-n,y:r-n,width:i,upperWidth:i,lowerWidth:i,height:i}}function x4(e){var t=ci(e,PX),{viewBox:r,parentViewBox:n,position:i,value:l,children:c,content:u,className:f="",textBreakAll:m,labelRef:h}=t,x=MX(),v=AX(),g=i==="center"?v:x??v,S,y,w;r==null?S=g:hp(r)?S=r:S=V1(r);var C=IX(S);if(!S||Bn(l)&&Bn(c)&&!j.isValidElement(u)&&typeof u!="function")return null;var k=Im(Im({},t),{},{viewBox:S});if(j.isValidElement(u)){var{labelRef:A}=k,M=$D(k,bX);return j.cloneElement(u,M)}if(typeof u=="function"){var{content:D}=k,T=$D(k,yX);if(y=j.createElement(u,T),j.isValidElement(y))return y}else y=DX(t);var I=ia(t);if(hp(S)){if(i==="insideStart"||i==="insideEnd"||i==="end")return OX(t,i,y,I,S);w=TX(S,t.offset,t.position)}else{if(!C)return null;var O=gX({viewBox:C,position:i,offset:t.offset,parentViewBox:hp(n)?void 0:n});w=Im(Im({x:O.x,y:O.y,textAnchor:O.horizontalAnchor,verticalAnchor:O.verticalAnchor},O.width!==void 0?{width:O.width}:{}),O.height!==void 0?{height:O.height}:{})}return j.createElement(Xd,{zIndex:t.zIndex},j.createElement(cw,ph({ref:h,className:ut("recharts-label",f)},I,w,{textAnchor:uX(I.textAnchor)?I.textAnchor:w.textAnchor,breakAll:m}),y))}x4.displayName="Label";var jb={},wb={},HD;function RX(){return HD||(HD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(wb)),wb}var Nb={},UD;function LX(){return UD||(UD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Nb)),Nb}var YD;function FX(){return YD||(YD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RX(),r=LX(),n=I1();function i(l){if(n.isArrayLike(l))return t.last(r.toArray(l))}e.last=i})(jb)),jb}var Sb,VD;function zX(){return VD||(VD=1,Sb=FX().last),Sb}var BX=zX();const $X=si(BX);var qX=["valueAccessor"],HX=["dataKey","clockWise","id","textBreakAll","zIndex"];function hh(){return hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hh.apply(null,arguments)}function GD(e,t){if(e==null)return{};var r,n,i=UX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function UX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var YX=e=>Array.isArray(e.value)?$X(e.value):e.value,v4=j.createContext(void 0);v4.Provider;var g4=j.createContext(void 0),VX=g4.Provider;function GX(){return j.useContext(v4)}function WX(){return j.useContext(g4)}function xp(e){var{valueAccessor:t=YX}=e,r=GD(e,qX),{dataKey:n,clockWise:i,id:l,textBreakAll:c,zIndex:u}=r,f=GD(r,HX),m=GX(),h=WX(),x=m||h;return!x||!x.length?null:j.createElement(Xd,{zIndex:u??ja.label},j.createElement(qs,{className:"recharts-label-list"},x.map((v,g)=>{var S,y=Bn(n)?t(v,g):pr(v.payload,n),w=Bn(l)?{}:{id:"".concat(l,"-").concat(g)};return j.createElement(x4,hh({key:"label-".concat(g)},ia(v),f,w,{fill:(S=r.fill)!==null&&S!==void 0?S:v.fill,parentViewBox:v.parentViewBox,value:y,textBreakAll:c,viewBox:v.viewBox,index:g,zIndex:0}))})))}xp.displayName="LabelList";function KX(e){var{label:t}=e;return t?t===!0?j.createElement(xp,{key:"labelList-implicit"}):j.isValidElement(t)||EX(t)?j.createElement(xp,{key:"labelList-implicit",content:t}):typeof t=="object"?j.createElement(xp,hh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var b4=e=>e.graphicalItems.polarItems,QX=ue([sr,Yd],Tj),jx=ue([b4,xr,QX],Pj),XX=ue([jx],Ij),wx=ue([XX,wj],Rj),ZX=ue([wx,xr,jx],Fj);ue([wx,xr,jx],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var l,c=pr(n,(l=t.dataKey)!==null&&l!==void 0?l:i.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:pr(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var WD=()=>{},JX=ue([wx,xr,jx,vx,sr],qj),eZ=ue([xr,Bj,$j,WD,JX,WD,nr,sr],Hj),y4=ue([xr,nr,wx,ZX,Ud,sr,eZ],Uj),tZ=ue([y4,Rc,tl],Gj),rZ=ue([xr,y4,tZ,sr],Kj);ue([tl,rZ],f3);var nZ={radiusAxis:{},angleAxis:{}},j4=wn({name:"polarAxis",initialState:nZ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Poe,removeRadiusAxis:Ioe,addAngleAxis:Roe,removeAngleAxis:Loe}=j4.actions,aZ=j4.reducer;function iZ(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function KD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function QD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KD(Object(r),!0).forEach(function(n){sZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sZ(e,t,r){return(t=lZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lZ(e){var t=oZ(e,"string");return typeof t=="symbol"?t:t+""}function oZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cZ=(e,t)=>t,uw=ue([b4,cZ],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),uZ=[],dw=(e,t,r)=>r?.length===0?uZ:r,w4=ue([wj,uw,dw],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if(t?.data!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(l=>QD(QD({},t.presentationProps),l.props))),i!=null)return i}}),dZ=ue([w4,uw,dw],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var l,c=pr(n,t.nameKey,t.name),u;return r!=null&&(l=r[i])!==null&&l!==void 0&&(l=l.props)!==null&&l!==void 0&&l.fill?u=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?u=n.fill:u=t.fill,{value:zT(c,t.dataKey),color:u,payload:n,type:t.legendType}})}),fZ=ue([w4,uw,dw,zr],(e,t,r,n)=>{if(!(t==null||e==null))return hJ({offset:n,pieSettings:t,displayedData:e,cells:r})}),Cb={exports:{}},Bt={};var XD;function mZ(){if(XD)return Bt;XD=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),g=Symbol.for("react.client.reference");function S(y){if(typeof y=="object"&&y!==null){var w=y.$$typeof;switch(w){case e:switch(y=y.type,y){case r:case i:case n:case f:case m:case v:return y;default:switch(y=y&&y.$$typeof,y){case c:case u:case x:case h:return y;case l:return y;default:return w}}case t:return w}}}return Bt.ContextConsumer=l,Bt.ContextProvider=c,Bt.Element=e,Bt.ForwardRef=u,Bt.Fragment=r,Bt.Lazy=x,Bt.Memo=h,Bt.Portal=t,Bt.Profiler=i,Bt.StrictMode=n,Bt.Suspense=f,Bt.SuspenseList=m,Bt.isContextConsumer=function(y){return S(y)===l},Bt.isContextProvider=function(y){return S(y)===c},Bt.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},Bt.isForwardRef=function(y){return S(y)===u},Bt.isFragment=function(y){return S(y)===r},Bt.isLazy=function(y){return S(y)===x},Bt.isMemo=function(y){return S(y)===h},Bt.isPortal=function(y){return S(y)===t},Bt.isProfiler=function(y){return S(y)===i},Bt.isStrictMode=function(y){return S(y)===n},Bt.isSuspense=function(y){return S(y)===f},Bt.isSuspenseList=function(y){return S(y)===m},Bt.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===i||y===n||y===f||y===m||typeof y=="object"&&y!==null&&(y.$$typeof===x||y.$$typeof===h||y.$$typeof===c||y.$$typeof===l||y.$$typeof===u||y.$$typeof===g||y.getModuleId!==void 0)},Bt.typeOf=S,Bt}var ZD;function pZ(){return ZD||(ZD=1,Cb.exports=mZ()),Cb.exports}var hZ=pZ(),JD=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",eE=null,Ab=null,N4=e=>{if(e===eE&&Array.isArray(Ab))return Ab;var t=[];return j.Children.forEach(e,r=>{Bn(r)||(hZ.isFragment(r)?t=t.concat(N4(r.props.children)):t.push(r))}),Ab=t,eE=e,t};function S4(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>JD(i)):n=[JD(t)],N4(e).forEach(i=>{var l=ud(i,"type.displayName")||ud(i,"type.name");l&&n.indexOf(l)!==-1&&r.push(i)}),r}var kb={},tE;function xZ(){return tE||(tE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(kb)),kb}var Mb,rE;function vZ(){return rE||(rE=1,Mb=xZ().isPlainObject),Mb}var gZ=vZ();const bZ=si(gZ);var nE,aE,iE,sE,lE;function oE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oE(Object(r),!0).forEach(function(n){yZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yZ(e,t,r){return(t=jZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jZ(e){var t=wZ(e,"string");return typeof t=="symbol"?t:t+""}function wZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xh(){return xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xh.apply(null,arguments)}function Vu(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var uE=(e,t,r,n,i)=>{var l=r-n,c;return c=dr(nE||(nE=Vu(["M ",",",""])),e,t),c+=dr(aE||(aE=Vu(["L ",",",""])),e+r,t),c+=dr(iE||(iE=Vu(["L ",",",""])),e+r-l/2,t+i),c+=dr(sE||(sE=Vu(["L ",",",""])),e+r-l/2-n,t+i),c+=dr(lE||(lE=Vu(["L ",","," Z"])),e,t),c},NZ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},SZ=e=>{var t=ci(e,NZ),{x:r,y:n,upperWidth:i,lowerWidth:l,height:c,className:u}=t,{animationEasing:f,animationDuration:m,animationBegin:h,isUpdateAnimationActive:x}=t,v=j.useRef(null),[g,S]=j.useState(-1),y=j.useRef(i),w=j.useRef(l),C=j.useRef(c),k=j.useRef(r),A=j.useRef(n),M=Z1(e,"trapezoid-");if(j.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var X=v.current.getTotalLength();X&&S(X)}catch{}},[]),r!==+r||n!==+n||i!==+i||l!==+l||c!==+c||i===0&&l===0||c===0)return null;var D=ut("recharts-trapezoid",u);if(!x)return j.createElement("g",null,j.createElement("path",xh({},ia(t),{className:D,d:uE(r,n,i,l,c)})));var T=y.current,I=w.current,O=C.current,z=k.current,F=A.current,B="0px ".concat(g===-1?1:g,"px"),E="".concat(g,"px 0px"),J=tP(["strokeDasharray"],m,f);return j.createElement(X1,{animationId:M,key:M,canBegin:g>0,duration:m,easing:f,isActive:x,begin:h},X=>{var re=xa(T,i,X),L=xa(I,l,X),U=xa(O,c,X),V=xa(z,r,X),Ne=xa(F,n,X);v.current&&(y.current=re,w.current=L,C.current=U,k.current=V,A.current=Ne);var De=X>0?{transition:J,strokeDasharray:E}:{strokeDasharray:B};return j.createElement("path",xh({},ia(t),{className:D,d:uE(V,Ne,re,L,U),ref:v,style:cE(cE({},De),t.style)}))})},CZ=["option","shapeType","activeClassName"];function AZ(e,t){if(e==null)return{};var r,n,i=kZ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function kZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dE(Object(r),!0).forEach(function(n){MZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MZ(e,t,r){return(t=DZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DZ(e){var t=EZ(e,"string");return typeof t=="symbol"?t:t+""}function EZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _Z(e,t){return vh(vh({},t),e)}function OZ(e,t){return e==="symbols"}function fE(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return j.createElement(iP,r);case"trapezoid":return j.createElement(SZ,r);case"sector":return j.createElement(cP,r);case"symbols":if(OZ(t))return j.createElement(KO,r);break;case"curve":return j.createElement(K1,r);default:return null}}function TZ(e){return j.isValidElement(e)?e.props:e}function PZ(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,i=AZ(e,CZ),l;if(j.isValidElement(t))l=j.cloneElement(t,vh(vh({},i),TZ(t)));else if(typeof t=="function")l=t(i,i.index);else if(bZ(t)&&typeof t!="boolean"){var c=_Z(t,i);l=j.createElement(fE,{shapeType:r,elementProps:c})}else{var u=i;l=j.createElement(fE,{shapeType:r,elementProps:u})}return i.isActive?j.createElement(qs,{className:n},l):l}var IZ=(e,t,r)=>{var n=Tr();return(i,l)=>c=>{e?.(i,l,c),n(L3({activeIndex:String(l),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},RZ=e=>{var t=Tr();return(r,n)=>i=>{e?.(r,n,i),t(TW())}},LZ=(e,t,r)=>{var n=Tr();return(i,l)=>c=>{e?.(i,l,c),n(PW({activeIndex:String(l),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function FZ(e){var{tooltipEntrySettings:t}=e,r=Tr(),n=Ks(),i=j.useRef(null);return j.useLayoutEffect(()=>{n||(i.current===null?r(DW(t)):i.current!==t&&r(EW({prev:i.current,next:t})),i.current=t)},[t,r,n]),j.useLayoutEffect(()=>()=>{i.current&&(r(_W(i.current)),i.current=null)},[r]),null}function zZ(e){var{legendPayload:t}=e,r=Tr(),n=st(nr),i=j.useRef(null);return j.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(c7(t)):i.current!==t&&r(u7({prev:i.current,next:t})),i.current=t)},[r,n,t]),j.useLayoutEffect(()=>()=>{i.current&&(r(d7(i.current)),i.current=null)},[r]),null}var Db,BZ=()=>{var[e]=j.useState(()=>dd("uid-"));return e},$Z=(Db=m1.useId)!==null&&Db!==void 0?Db:BZ;function qZ(e,t){var r=$Z();return t||(e?"".concat(e,"-").concat(r):r)}var HZ=j.createContext(void 0),UZ=e=>{var{id:t,type:r,children:n}=e,i=qZ("recharts-".concat(r),t);return j.createElement(HZ.Provider,{value:i},n(i))},YZ={cartesianItems:[],polarItems:[]},C4=wn({name:"graphicalItems",initialState:YZ,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:er()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=wa(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:er()},removeCartesianGraphicalItem:{reducer(e,t){var r=wa(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:er()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:er()},removePolarGraphicalItem:{reducer(e,t){var r=wa(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:er()}}}),{addCartesianGraphicalItem:Foe,replaceCartesianGraphicalItem:zoe,removeCartesianGraphicalItem:Boe,addPolarGraphicalItem:VZ,removePolarGraphicalItem:GZ}=C4.actions,WZ=C4.reducer;function KZ(e){var t=Tr();return j.useLayoutEffect(()=>(t(VZ(e)),()=>{t(GZ(e))}),[t,e]),null}var QZ=["key"],XZ=["onMouseEnter","onClick","onMouseLeave"],ZZ=["id"],JZ=["id"];function mE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mE(Object(r),!0).forEach(function(n){eJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eJ(e,t,r){return(t=tJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tJ(e){var t=rJ(e,"string");return typeof t=="symbol"?t:t+""}function rJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Us(){return Us=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Us.apply(null,arguments)}function Nx(e,t){if(e==null)return{};var r,n,i=nJ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function nJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function aJ(e){var t=j.useMemo(()=>S4(e.children,$c),[e.children]),r=st(n=>dZ(n,e.id,t));return r==null?null:j.createElement(zZ,{legendPayload:r})}var iJ=j.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:l,fill:c,name:u,hide:f,tooltipType:m,id:h}=e,x={dataDefinedOnItem:n.map(v=>v.tooltipPayload),getPosition:v=>{var g;return(g=n[Number(v)])===null||g===void 0?void 0:g.tooltipPosition},settings:{stroke:i,strokeWidth:l,fill:c,dataKey:t,nameKey:r,name:zT(u,t),hide:f,type:m,color:c,unit:"",graphicalItemId:h}};return j.createElement(FZ,{tooltipEntrySettings:x})}),sJ=(e,t)=>e>t?"start":e<t?"end":"middle",lJ=(e,t,r)=>Ln(typeof t=="function"?t(e):t,r,r*.8),oJ=(e,t,r)=>{var{top:n,left:i,width:l,height:c}=t,u=sP(l,c),f=i+Ln(e.cx,l,l/2),m=n+Ln(e.cy,c,c/2),h=Ln(e.innerRadius,u,0),x=lJ(r,e.outerRadius,u),v=e.maxRadius||Math.sqrt(l*l+c*c)/2;return{cx:f,cy:m,innerRadius:h,outerRadius:x,maxRadius:v}},cJ=(e,t)=>{var r=bn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},uJ=(e,t)=>{if(j.isValidElement(e))return j.cloneElement(e,t);if(typeof e=="function")return e(t);var r=ut("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,i=Nx(t,QZ);return j.createElement(K1,Us({},i,{type:"linear",className:r}))},dJ=(e,t,r)=>{if(j.isValidElement(e))return j.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),j.isValidElement(n)))return n;var i=ut("recharts-pie-label-text",iZ(e));return j.createElement(cw,Us({},t,{alignmentBaseline:"middle",className:i}),n)};function fJ(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:l,dataKey:c}=r;if(!n||!i||!t)return null;var u=dc(r),f=oy(i),m=oy(l),h=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,x=t.map((v,g)=>{var S=(v.startAngle+v.endAngle)/2,y=Mr(v.cx,v.cy,v.outerRadius+h,S),w=mr(mr(mr(mr({},u),v),{},{stroke:"none"},f),{},{index:g,textAnchor:sJ(y.x,v.cx)},y),C=mr(mr(mr(mr({},u),v),{},{fill:"none",stroke:v.fill},m),{},{index:g,points:[Mr(v.cx,v.cy,v.outerRadius,S),y],key:"line"});return j.createElement(Xd,{zIndex:ja.label,key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(g)},j.createElement(qs,null,l&&uJ(l,C),dJ(i,w,pr(v,c))))});return j.createElement(qs,{className:"recharts-pie-labels"},x)}function mJ(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?j.createElement(KX,{label:i}):j.createElement(fJ,{sectors:t,props:r,showLabels:n})}function pJ(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:l,id:c}=e,u=st(Sd),f=st(Z3),m=st(bK),{onMouseEnter:h,onClick:x,onMouseLeave:v}=i,g=Nx(i,XZ),S=IZ(h,i.dataKey,c),y=RZ(v),w=LZ(x,i.dataKey,c);return t==null||t.length===0?null:j.createElement(j.Fragment,null,t.map((C,k)=>{if(C?.startAngle===0&&C?.endAngle===0&&t.length!==1)return null;var A=m==null||m===c,M=String(k)===u&&(f==null||i.dataKey===f)&&A,D=u?n:null,T=r&&M?r:D,I=mr(mr({},C),{},{stroke:C.stroke,tabIndex:-1,[$T]:k,[qT]:c});return j.createElement(qs,Us({key:"sector-".concat(C?.startAngle,"-").concat(C?.endAngle,"-").concat(C.midAngle,"-").concat(k),tabIndex:-1,className:"recharts-pie-sector"},i9(g,C,k),{onMouseEnter:S(C,k),onMouseLeave:y(C,k),onClick:w(C,k)}),j.createElement(PZ,Us({option:l??T,index:k,shapeType:"sector",isActive:M},I)))}))}function hJ(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:l}=e,{cornerRadius:c,startAngle:u,endAngle:f,dataKey:m,nameKey:h,tooltipType:x}=r,v=Math.abs(r.minAngle),g=cJ(u,f),S=Math.abs(g),y=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,w=n.filter(T=>pr(T,m,0)!==0).length,C=(S>=360?w:w-1)*y,k=S-w*v-C,A=n.reduce((T,I)=>{var O=pr(I,m,0);return T+(tt(O)?O:0)},0),M;if(A>0){var D;M=n.map((T,I)=>{var O=pr(T,m,0),z=pr(T,h,I),F=oJ(r,l,T),B=(tt(O)?O:0)/A,E,J=mr(mr({},T),i&&i[I]&&i[I].props);I?E=D.endAngle+bn(g)*y*(O!==0?1:0):E=u;var X=E+bn(g)*((O!==0?v:0)+B*k),re=(E+X)/2,L=(F.innerRadius+F.outerRadius)/2,U=[{name:z,value:O,payload:J,dataKey:m,type:x,graphicalItemId:r.id}],V=Mr(F.cx,F.cy,L,re);return D=mr(mr(mr(mr({},r.presentationProps),{},{percent:B,cornerRadius:typeof c=="string"?parseFloat(c):c,name:z,tooltipPayload:U,midAngle:re,middleRadius:L,tooltipPosition:V},J),F),{},{value:O,dataKey:m,startAngle:E,endAngle:X,payload:J,paddingAngle:bn(g)*y}),D})}return M}function xJ(e){var{showLabels:t,sectors:r,children:n}=e,i=j.useMemo(()=>!t||!r?[]:r.map(l=>({value:l.value,payload:l.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:l.cx,cy:l.cy,innerRadius:l.innerRadius,outerRadius:l.outerRadius,startAngle:l.startAngle,endAngle:l.endAngle,clockWise:!1},fill:l.fill})),[r,t]);return j.createElement(VX,{value:t?i:void 0},n)}function vJ(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:f,activeShape:m,inactiveShape:h,onAnimationStart:x,onAnimationEnd:v}=t,g=Z1(t,"recharts-pie-"),S=r.current,[y,w]=j.useState(!1),C=j.useCallback(()=>{typeof v=="function"&&v(),w(!1)},[v]),k=j.useCallback(()=>{typeof x=="function"&&x(),w(!0)},[x]);return j.createElement(xJ,{showLabels:!y,sectors:i},j.createElement(X1,{animationId:g,begin:c,duration:u,isActive:l,easing:f,onAnimationStart:k,onAnimationEnd:C,key:g},A=>{var M,D=[],T=i&&i[0],I=(M=T?.startAngle)!==null&&M!==void 0?M:0;return i?.forEach((O,z)=>{var F=S&&S[z],B=z>0?ud(O,"paddingAngle",0):0;if(F){var E=xa(F.endAngle-F.startAngle,O.endAngle-O.startAngle,A),J=mr(mr({},O),{},{startAngle:I+B,endAngle:I+E+B});D.push(J),I=J.endAngle}else{var{endAngle:X,startAngle:re}=O,L=xa(0,X-re,A),U=mr(mr({},O),{},{startAngle:I+B,endAngle:I+L+B});D.push(U),I=U.endAngle}}),r.current=D,j.createElement(qs,null,j.createElement(pJ,{sectors:D,activeShape:m,inactiveShape:h,allOtherPieProps:t,shape:t.shape,id:n}))}),j.createElement(mJ,{showLabels:!y,sectors:i,props:t}),t.children)}var gJ={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:ja.area};function bJ(e){var{id:t}=e,r=Nx(e,ZZ),{hide:n,className:i,rootTabIndex:l}=e,c=j.useMemo(()=>S4(e.children,$c),[e.children]),u=st(h=>fZ(h,t,c)),f=j.useRef(null),m=ut("recharts-pie",i);return n||u==null?(f.current=null,j.createElement(qs,{tabIndex:l,className:m})):j.createElement(Xd,{zIndex:e.zIndex},j.createElement(iJ,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:u,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),j.createElement(qs,{tabIndex:l,className:m},j.createElement(vJ,{props:mr(mr({},r),{},{sectors:u}),previousSectorsRef:f,id:t})))}function Sx(e){var t=ci(e,gJ),{id:r}=t,n=Nx(t,JZ),i=dc(n);return j.createElement(UZ,{id:r,type:"pie"},l=>j.createElement(j.Fragment,null,j.createElement(KZ,{type:"pie",id:l,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),j.createElement(aJ,Us({},n,{id:l})),j.createElement(bJ,Us({},n,{id:l}))))}Sx.displayName="Pie";function pE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pE(Object(r),!0).forEach(function(n){yJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yJ(e,t,r){return(t=jJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jJ(e){var t=wJ(e,"string");return typeof t=="symbol"?t:t+""}function wJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NJ={xAxis:{},yAxis:{},zAxis:{}},A4=wn({name:"cartesianAxis",initialState:NJ,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:er()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:er()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:er()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:er()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:er()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:er()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:er()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:er()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:er()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var l,c=i.widthHistory||[];if(c.length===3&&c[0]===c[2]&&n===c[1]&&n!==i.width&&Math.abs(n-((l=c[0])!==null&&l!==void 0?l:0))<=1)return;var u=[...c,n].slice(-3);e.yAxis[r]=hE(hE({},i),{},{width:n,widthHistory:u})}}}}),{addXAxis:$oe,replaceXAxis:qoe,removeXAxis:Hoe,addYAxis:Uoe,replaceYAxis:Yoe,removeYAxis:Voe,addZAxis:Goe,replaceZAxis:Woe,removeZAxis:Koe,updateYAxisWidth:Qoe}=A4.actions,SJ=A4.reducer,CJ=ue([zr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),AJ=ue([CJ,Zi,Ji],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),kJ=()=>st(AJ),MJ=e=>{var{chartData:t}=e,r=Tr(),n=Ks();return j.useEffect(()=>n?()=>{}:(r(SD(t)),()=>{r(SD(void 0))}),[t,r,n]),null},xE={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},k4=wn({name:"brush",initialState:xE,reducers:{setBrushSettings(e,t){return t.payload==null?xE:t.payload}}}),{setBrushSettings:Xoe}=k4.actions,DJ=k4.reducer,EJ={dots:[],areas:[],lines:[]},M4=wn({name:"referenceElements",initialState:EJ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=wa(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=wa(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=wa(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Zoe,removeDot:Joe,addArea:ece,removeArea:tce,addLine:rce,removeLine:nce}=M4.actions,_J=M4.reducer,OJ=j.createContext(void 0),TJ=e=>{var{children:t}=e,[r]=j.useState("".concat(dd("recharts"),"-clip")),n=kJ();if(n==null)return null;var{x:i,y:l,width:c,height:u}=n;return j.createElement(OJ.Provider,{value:r},j.createElement("defs",null,j.createElement("clipPath",{id:r},j.createElement("rect",{x:i,y:l,height:u,width:c}))),t)},PJ={},D4=wn({name:"errorBars",initialState:PJ,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(l=>l.dataKey===n.dataKey&&l.direction===n.direction?i:l))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:ace,replaceErrorBar:ice,removeErrorBar:sce}=D4.actions,IJ=D4.reducer,Eb={exports:{}},_b={};var vE;function RJ(){if(vE)return _b;vE=1;var e=Cc();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,l=e.useEffect,c=e.useMemo,u=e.useDebugValue;return _b.useSyncExternalStoreWithSelector=function(f,m,h,x,v){var g=i(null);if(g.current===null){var S={hasValue:!1,value:null};g.current=S}else S=g.current;g=c(function(){function w(D){if(!C){if(C=!0,k=D,D=x(D),v!==void 0&&S.hasValue){var T=S.value;if(v(T,D))return A=T}return A=D}if(T=A,r(k,D))return T;var I=x(D);return v!==void 0&&v(T,I)?(k=D,T):(k=D,A=I)}var C=!1,k,A,M=h===void 0?null:h;return[function(){return w(m())},M===null?void 0:function(){return w(M())}]},[m,h,x,v]);var y=n(f,g[0],g[1]);return l(function(){S.hasValue=!0,S.value=y},[y]),u(y),y},_b}var gE;function LJ(){return gE||(gE=1,Eb.exports=RJ()),Eb.exports}LJ();function FJ(e){e()}function zJ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){FJ(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var bE={notify(){},get:()=>[]};function BJ(e,t){let r,n=bE,i=0,l=!1;function c(y){h();const w=n.subscribe(y);let C=!1;return()=>{C||(C=!0,w(),x())}}function u(){n.notify()}function f(){S.onStateChange&&S.onStateChange()}function m(){return l}function h(){i++,r||(r=e.subscribe(f),n=zJ())}function x(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=bE)}function v(){l||(l=!0,h())}function g(){l&&(l=!1,x())}const S={addNestedSub:c,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:m,trySubscribe:v,tryUnsubscribe:g,getListeners:()=>n};return S}var $J=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qJ=$J(),HJ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",UJ=HJ(),YJ=()=>qJ||UJ?j.useLayoutEffect:j.useEffect,VJ=YJ();function yE(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function GJ(e,t){if(yE(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!yE(e[r[i]],t[r[i]]))return!1;return!0}var WJ=Symbol.for("react-redux-context"),KJ=typeof globalThis<"u"?globalThis:{};function QJ(){if(!j.createContext)return{};const e=KJ[WJ]??=new Map;let t=e.get(j.createContext);return t||(t=j.createContext(null),e.set(j.createContext,t)),t}var XJ=QJ();function ZJ(e){const{children:t,context:r,serverState:n,store:i}=e,l=j.useMemo(()=>{const f=BJ(i);return{store:i,subscription:f,getServerState:n?()=>n:void 0}},[i,n]),c=j.useMemo(()=>i.getState(),[i]);VJ(()=>{const{subscription:f}=l;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[l,c]);const u=r||XJ;return j.createElement(u.Provider,{value:l},t)}var JJ=ZJ,eee=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function tee(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function ree(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(eee.has(n)){if(e[n]==null&&t[n]==null)continue;if(!GJ(e[n],t[n]))return!1}else if(!tee(e[n],t[n]))return!1;return!0}var nee=(e,t)=>t,fw=ue([nee,nr,c3,$r,W3,ts,RK,zr],HK),mw=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},E4=sa("mouseClick"),_4=Rd();_4.startListening({actionCreator:E4,effect:(e,t)=>{var r=e.payload,n=fw(t.getState(),mw(r));n?.activeIndex!=null&&t.dispatch(IW({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Zy=sa("mouseMove"),O4=Rd(),Rm=null;O4.startListening({actionCreator:Zy,effect:(e,t)=>{var r=e.payload;Rm!==null&&cancelAnimationFrame(Rm);var n=mw(r);Rm=requestAnimationFrame(()=>{var i=t.getState(),l=Zj(i,i.tooltip.settings.shared);if(l==="axis"){var c=fw(i,n);c?.activeIndex!=null?t.dispatch(z3({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(F3())}Rm=null})}});function aee(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var jE={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},T4=wn({name:"rootProps",initialState:jE,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:jE.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),iee=T4.reducer,{updateOptions:see}=T4.actions,lee=null,oee={updatePolarOptions:(e,t)=>t.payload},P4=wn({name:"polarOptions",initialState:lee,reducers:oee}),{updatePolarOptions:cee}=P4.actions,uee=P4.reducer,I4=sa("keyDown"),R4=sa("focus"),pw=Rd();pw.startListening({actionCreator:I4,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,l=e.payload;if(!(l!=="ArrowRight"&&l!=="ArrowLeft"&&l!=="Enter")){var c=Jj(i,Bc(r),Gd(r),Kd(r)),u=c==null?-1:Number(c);if(!(!Number.isFinite(u)||u<0)){var f=ts(r);if(l==="Enter"){var m=mh(r,"axis","hover",String(i.index));t.dispatch(Wy({active:!i.active,activeIndex:i.index,activeCoordinate:m}));return}var h=CW(r),x=h==="left-to-right"?1:-1,v=l==="ArrowRight"?1:-1,g=u+v*x;if(!(f==null||g>=f.length||g<0)){var S=mh(r,"axis","hover",String(g));t.dispatch(Wy({active:!0,activeIndex:g.toString(),activeCoordinate:S}))}}}}}});pw.startListening({actionCreator:R4,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var l="0",c=mh(r,"axis","hover",String(l));t.dispatch(Wy({active:!0,activeIndex:l,activeCoordinate:c}))}}}});var ra=sa("externalEvent"),L4=Rd(),Ob=new Map;L4.startListening({actionCreator:ra,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,l=Ob.get(i);l!==void 0&&cancelAnimationFrame(l);var c=requestAnimationFrame(()=>{try{var u=t.getState(),f={activeCoordinate:jK(u),activeDataKey:Z3(u),activeIndex:Sd(u),activeLabel:X3(u),activeTooltipIndex:Sd(u),isTooltipActive:wK(u)};r(f,n)}finally{Ob.delete(i)}});Ob.set(i,c)}}});var dee=ue([Fc],e=>e.tooltipItemPayloads),fee=ue([dee,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(l=>l.settings.graphicalItemId===r);if(n!=null){var{getPosition:i}=n;if(i!=null)return i(t)}}}),F4=sa("touchMove"),z4=Rd();z4.startListening({actionCreator:F4,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=Zj(n,n.tooltip.settings.shared);if(i==="axis"){var l=r.touches[0];if(l==null)return;var c=fw(n,mw({clientX:l.clientX,clientY:l.clientY,currentTarget:r.currentTarget}));c?.activeIndex!=null&&t.dispatch(z3({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(i==="item"){var u,f=r.touches[0];if(document.elementFromPoint==null||f==null)return;var m=document.elementFromPoint(f.clientX,f.clientY);if(!m||!m.getAttribute)return;var h=m.getAttribute($T),x=(u=m.getAttribute(qT))!==null&&u!==void 0?u:void 0,v=zc(n).find(y=>y.id===x);if(h==null||v==null||x==null)return;var{dataKey:g}=v,S=fee(n,h,x);t.dispatch(L3({activeDataKey:g,activeIndex:h,activeCoordinate:S,activeGraphicalItemId:x}))}}}});var mee=uT({brush:DJ,cartesianAxis:SJ,chartData:jQ,errorBars:IJ,graphicalItems:WZ,layout:aH,legend:f7,options:xQ,polarAxis:aZ,polarOptions:uee,referenceElements:_J,rootProps:iee,tooltip:RW,zIndex:nQ}),pee=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Dq({reducer:mee,preloadedState:t,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([_4.middleware,O4.middleware,pw.middleware,L4.middleware,z4.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(CT({type:"raf"}))},devTools:{serialize:{replacer:aee},name:"recharts-".concat(r)}})};function hee(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Ks(),l=j.useRef(null);if(i)return r;l.current==null&&(l.current=pee(t,n));var c=L1;return j.createElement(JJ,{context:c,store:l.current},r)}function xee(e){var{layout:t,margin:r}=e,n=Tr(),i=Ks();return j.useEffect(()=>{i||(n(tH(t)),n(eH(r)))},[n,i,t,r]),null}var vee=j.memo(xee,ree);function gee(e){var t=Tr();return j.useEffect(()=>{t(see(e))},[t,e]),null}function wE(e){var{zIndex:t,isPanorama:r}=e,n=j.useRef(null),i=Tr();return j.useLayoutEffect(()=>(n.current&&i(tQ({zIndex:t,element:n.current,isPanorama:r})),()=>{i(rQ({zIndex:t,isPanorama:r}))}),[i,t,r]),j.createElement("g",{tabIndex:-1,ref:n})}function NE(e){var{children:t,isPanorama:r}=e,n=st(YK);if(!n||n.length===0)return t;var i=n.filter(c=>c<0),l=n.filter(c=>c>0);return j.createElement(j.Fragment,null,i.map(c=>j.createElement(wE,{key:c,zIndex:c,isPanorama:r})),t,l.map(c=>j.createElement(wE,{key:c,zIndex:c,isPanorama:r})))}var bee=["children"];function yee(e,t){if(e==null)return{};var r,n,i=jee(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function jee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gh.apply(null,arguments)}var wee={width:"100%",height:"100%",display:"block"},Nee=j.forwardRef((e,t)=>{var r=WH(),n=KH(),i=eP();if(!Hs(r)||!Hs(n))return null;var{children:l,otherAttributes:c,title:u,desc:f}=e,m,h;return c!=null&&(typeof c.tabIndex=="number"?m=c.tabIndex:m=i?0:void 0,typeof c.role=="string"?h=c.role:h=i?"application":void 0),j.createElement(DO,gh({},c,{title:u,desc:f,role:h,tabIndex:m,width:r,height:n,style:wee,ref:t}),l)}),See=e=>{var{children:t}=e,r=st(ex);if(!r)return null;var{width:n,height:i,y:l,x:c}=r;return j.createElement(DO,{width:n,height:i,x:c,y:l},t)},SE=j.forwardRef((e,t)=>{var{children:r}=e,n=yee(e,bee),i=Ks();return i?j.createElement(See,null,j.createElement(NE,{isPanorama:!0},r)):j.createElement(Nee,gh({ref:t},n),j.createElement(NE,{isPanorama:!1},r))});function Cee(){var e=Tr(),[t,r]=j.useState(null),n=st(gH);return j.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),l=i.width/t.offsetWidth;$t(l)&&l!==n&&e(nH(l))}},[t,e,n]),r}function CE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Aee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CE(Object(r),!0).forEach(function(n){kee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kee(e,t,r){return(t=Mee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mee(e){var t=Dee(e,"string");return typeof t=="symbol"?t:t+""}function Dee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fs(){return Fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fs.apply(null,arguments)}var Eee=()=>(EQ(),null);function bh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var _ee=j.forwardRef((e,t)=>{var r,n,i=j.useRef(null),[l,c]=j.useState({containerWidth:bh((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:bh((n=e.style)===null||n===void 0?void 0:n.height)}),u=j.useCallback((m,h)=>{c(x=>{var v=Math.round(m),g=Math.round(h);return x.containerWidth===v&&x.containerHeight===g?x:{containerWidth:v,containerHeight:g}})},[]),f=j.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null&&typeof ResizeObserver<"u"){var{width:h,height:x}=m.getBoundingClientRect();u(h,x);var v=S=>{var y=S[0];if(y!=null){var{width:w,height:C}=y.contentRect;u(w,C)}},g=new ResizeObserver(v);g.observe(m),i.current=g}},[t,u]);return j.useEffect(()=>()=>{var m=i.current;m?.disconnect()},[u]),j.createElement(j.Fragment,null,j.createElement(Fd,{width:l.containerWidth,height:l.containerHeight}),j.createElement("div",Fs({ref:f},e)))}),Oee=j.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,l]=j.useState({containerWidth:bh(r),containerHeight:bh(n)}),c=j.useCallback((f,m)=>{l(h=>{var x=Math.round(f),v=Math.round(m);return h.containerWidth===x&&h.containerHeight===v?h:{containerWidth:x,containerHeight:v}})},[]),u=j.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:m,height:h}=f.getBoundingClientRect();c(m,h)}},[t,c]);return j.createElement(j.Fragment,null,j.createElement(Fd,{width:i.containerWidth,height:i.containerHeight}),j.createElement("div",Fs({ref:u},e)))}),Tee=j.forwardRef((e,t)=>{var{width:r,height:n}=e;return j.createElement(j.Fragment,null,j.createElement(Fd,{width:r,height:n}),j.createElement("div",Fs({ref:t},e)))}),Pee=j.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?j.createElement(Oee,Fs({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?j.createElement(Tee,Fs({},e,{width:r,height:n,ref:t})):j.createElement(j.Fragment,null,j.createElement(Fd,{width:r,height:n}),j.createElement("div",Fs({ref:t},e)))});function Iee(e){return e?_ee:Pee}var Ree=j.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:l,onContextMenu:c,onDoubleClick:u,onMouseDown:f,onMouseEnter:m,onMouseLeave:h,onMouseMove:x,onMouseUp:v,onTouchEnd:g,onTouchMove:S,onTouchStart:y,style:w,width:C,responsive:k,dispatchTouchEvents:A=!0}=e,M=j.useRef(null),D=Tr(),[T,I]=j.useState(null),[O,z]=j.useState(null),F=Cee(),B=U1(),E=B?.width>0?B.width:C,J=B?.height>0?B.height:i,X=j.useCallback(ee=>{F(ee),typeof t=="function"&&t(ee),I(ee),z(ee),ee!=null&&(M.current=ee)},[F,t,I,z]),re=j.useCallback(ee=>{D(E4(ee)),D(ra({handler:l,reactEvent:ee}))},[D,l]),L=j.useCallback(ee=>{D(Zy(ee)),D(ra({handler:m,reactEvent:ee}))},[D,m]),U=j.useCallback(ee=>{D(F3()),D(ra({handler:h,reactEvent:ee}))},[D,h]),V=j.useCallback(ee=>{D(Zy(ee)),D(ra({handler:x,reactEvent:ee}))},[D,x]),Ne=j.useCallback(()=>{D(R4())},[D]),De=j.useCallback(ee=>{D(I4(ee.key))},[D]),P=j.useCallback(ee=>{D(ra({handler:c,reactEvent:ee}))},[D,c]),W=j.useCallback(ee=>{D(ra({handler:u,reactEvent:ee}))},[D,u]),ne=j.useCallback(ee=>{D(ra({handler:f,reactEvent:ee}))},[D,f]),de=j.useCallback(ee=>{D(ra({handler:v,reactEvent:ee}))},[D,v]),q=j.useCallback(ee=>{D(ra({handler:y,reactEvent:ee}))},[D,y]),oe=j.useCallback(ee=>{A&&D(F4(ee)),D(ra({handler:S,reactEvent:ee}))},[D,A,S]),xe=j.useCallback(ee=>{D(ra({handler:g,reactEvent:ee}))},[D,g]),he=Iee(k);return j.createElement(i4.Provider,{value:T},j.createElement(s$.Provider,{value:O},j.createElement(he,{width:E??w?.width,height:J??w?.height,className:ut("recharts-wrapper",n),style:Aee({position:"relative",cursor:"default",width:E,height:J},w),onClick:re,onContextMenu:P,onDoubleClick:W,onFocus:Ne,onKeyDown:De,onMouseDown:ne,onMouseEnter:L,onMouseLeave:U,onMouseMove:V,onMouseUp:de,onTouchEnd:xe,onTouchMove:oe,onTouchStart:q,ref:X},j.createElement(Eee,null),r)))}),Lee=["width","height","responsive","children","className","style","compact","title","desc"];function Fee(e,t){if(e==null)return{};var r,n,i=zee(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function zee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Bee=j.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:l,className:c,style:u,compact:f,title:m,desc:h}=e,x=Fee(e,Lee),v=dc(x);return f?j.createElement(j.Fragment,null,j.createElement(Fd,{width:r,height:n}),j.createElement(SE,{otherAttributes:v,title:m,desc:h},l)):j.createElement(Ree,{className:c,style:u,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},j.createElement(SE,{otherAttributes:v,title:m,desc:h,ref:t},j.createElement(TJ,null,l)))});function $ee(e){var t=Tr();return j.useEffect(()=>{t(cee(e))},[t,e]),null}var qee=["layout"];function Jy(){return Jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jy.apply(null,arguments)}function Hee(e,t){if(e==null)return{};var r,n,i=Uee(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Uee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Yee={top:5,right:5,bottom:5,left:5},B4={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Yee,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Vee=j.forwardRef(function(t,r){var n,i=ci(t.categoricalChartProps,B4),{layout:l}=i,c=Hee(i,qee),{chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:h}=t,x={chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:h,eventEmitter:void 0};return j.createElement(hee,{preloadedState:{options:x},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:u},j.createElement(MJ,{chartData:i.data}),j.createElement(vee,{layout:l,margin:i.margin}),j.createElement(gee,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),j.createElement($ee,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),j.createElement(Bee,Jy({},c,{ref:r})))});function AE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AE(Object(r),!0).forEach(function(n){Gee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gee(e,t,r){return(t=Wee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wee(e){var t=Kee(e,"string");return typeof t=="symbol"?t:t+""}function Kee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qee=["item"],Xee=kE(kE({},B4),{},{layout:"centric",startAngle:0,endAngle:360}),hw=j.forwardRef((e,t)=>{var r=ci(e,Xee);return j.createElement(Vee,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Qee,tooltipPayloadSearcher:pQ,categoricalChartProps:r,ref:t})});function Re(e){const t=e.match(/ ?-\s+(Direct|Regular|Growth)\b/i);if(t){const r=t.index+t[0].length-t[1].length;return{main:e.slice(0,t.index).trim(),plan:e.slice(r)}}return{main:e,plan:""}}function K(e){return e<0?`-${K(-e)}`:e>=1e7?`${(e/1e7).toFixed(2)} Cr`:e>=1e5?`${(e/1e5).toFixed(2)} L`:e>=1e3?`${(e/1e3).toFixed(0)}K`:`${e.toLocaleString("en-IN")}`}const $4="cf_market_data",Zee=300*1e3,ME=300*1e3;function Jee(){try{const e=sessionStorage.getItem($4);if(!e)return null;const t=JSON.parse(e);return Date.now()-t._ts>Zee?null:t}catch{return null}}function ete(e){try{sessionStorage.setItem($4,JSON.stringify({...e,_ts:Date.now()}))}catch{}}function tte(){const[e,t]=j.useState(()=>Jee()),[r,n]=j.useState([]),i=j.useRef(null),[l,c]=j.useState(!1),[u,f]=j.useState(!1);j.useEffect(()=>{let x=!1;async function v(){try{const S=await jF();if(!x&&S){const y={...S,_ts:Date.now()};t(y),ete(y)}}catch{}}v();const g=setInterval(v,ME);return()=>{x=!0,clearInterval(g)}},[]),j.useEffect(()=>{let x=!1;async function v(){try{const S=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum&vs_currencies=inr&include_24hr_change=true");if(!x&&S.ok){const y=await S.json(),w=[];y.bitcoin&&w.push({name:"BTC",price:y.bitcoin.inr,changePct:y.bitcoin.inr_24h_change||0,type:"crypto"}),y.ethereum&&w.push({name:"ETH",price:y.ethereum.inr,changePct:y.ethereum.inr_24h_change||0,type:"crypto"}),n(w)}}catch{}}v();const g=setInterval(v,ME);return()=>{x=!0,clearInterval(g)}},[]);const m=[];if(e?.indices&&m.push(...e.indices),e?.metals&&m.push(...e.metals),r.length>0&&m.push(...r),j.useEffect(()=>{if(!i.current)return;const x=i.current,v=x.parentElement;c(x.scrollWidth>v.clientWidth)},[m.length]),m.length===0)return null;const h=m.length*3;return a.jsxs("div",{className:"bg-[var(--bg-card)]/80 backdrop-blur-sm border-b border-[var(--border-light)] overflow-hidden",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),onTouchStart:()=>f(!0),onTouchEnd:()=>f(!1),children:[a.jsx("div",{className:"overflow-hidden",children:a.jsxs("div",{ref:i,className:"flex items-stretch w-max",style:l?{animation:`ticker-scroll ${h}s linear infinite`,animationPlayState:u?"paused":"running"}:{margin:"0 auto"},children:[m.map((x,v)=>a.jsx(DE,{item:x},x.name+v)),l&&m.map((x,v)=>a.jsx(DE,{item:x},"dup-"+x.name+v))]})}),a.jsx("style",{children:`
        @keyframes ticker-scroll {
          0% { transform: translateX(0); }
          100% { transform: translateX(-50%); }
        }
      `})]})}function DE({item:e}){const t=e.changePct>=0,r=t?a.jsx(uc,{size:10}):a.jsx(Dp,{size:10}),n=t?"text-emerald-400":"text-[var(--accent-rose)]",i=l=>l>=1e5?`${(l/1e5).toFixed(2)}L`:l>=1e3?`${l.toLocaleString("en-IN",{maximumFractionDigits:0})}`:`${l.toLocaleString("en-IN",{maximumFractionDigits:2})}`;return a.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 border-r border-[var(--border-light)] last:border-0 shrink-0",children:[a.jsx("span",{className:"text-[10px] font-semibold text-[var(--text-dim)] uppercase whitespace-nowrap",children:e.name}),a.jsx("span",{className:"text-[11px] font-bold text-[var(--text-primary)] tabular-nums whitespace-nowrap",children:e.unit?`${i(e.price)}`:i(e.price)}),e.changePct!==void 0&&e.changePct!==null&&a.jsxs("span",{className:`flex items-center gap-0.5 text-[10px] font-bold tabular-nums ${n}`,children:[r,t?"+":"",e.changePct.toFixed(2),"%"]})]})}function rte(){const{selectedMember:e}=Fr(),{mfPortfolios:t,mfHoldings:r,insurancePolicies:n,goalList:i,reminderList:l}=pt(),c=(v,g)=>{const S=v||[];return e==="all"?S:S.filter(y=>y[g]===e)},u=j.useMemo(()=>{let v=0,g=0,S=0;return c((t||[]).filter(C=>C.status!=="Inactive"),"ownerId").forEach(C=>{const k=(r||[]).filter(D=>D.portfolioId===C.portfolioId&&D.units>0),A=k.reduce((D,T)=>D+T.currentValue,0),M=(C.rebalanceThreshold||.05)*100;k.forEach(D=>{if(D.athNav>0&&D.belowATHPct>=10?g++:D.athNav>0&&D.belowATHPct>=5&&v++,D.targetAllocationPct>0&&A>0){const T=D.currentValue/A*100;Math.abs(T-D.targetAllocationPct)>M&&S++}})}),{buyOppCount:v+g,buyCount:v,strongBuyCount:g,rebalanceCount:S}},[e,t,r]),f=j.useMemo(()=>{const v=[],g=c((n||[]).filter(A=>A.status==="Active"),"memberId");g.some(A=>A.policyType==="Term Life")||v.push({type:"critical",title:"Missing Term Life Insurance",badge:"Add Policy",navigateTo:"/insurance"});const y=g.filter(A=>A.policyType==="Health").reduce((A,M)=>A+M.sumAssured,0);return y===0?v.push({type:"critical",title:"No Health Insurance",badge:"Add Policy",navigateTo:"/insurance"}):y<5e5&&v.push({type:"warning",title:"Inadequate Health Insurance",badge:K(y),navigateTo:"/insurance"}),c((i||[]).filter(A=>A.isActive!==!1&&A.goalType==="Emergency Fund"),"familyMemberId").forEach(A=>{const M=A.targetAmount>0?A.currentValue/A.targetAmount*100:0;M<100&&v.push({type:M>=75?"info":"warning",title:`Emergency Fund at ${M.toFixed(0)}%`,badge:K(A.targetAmount-A.currentValue)+" left",navigateTo:"/goals"})}),c((l||[]).filter(A=>A.isActive!==!1),"familyMemberId").filter(A=>new Date(A.dueDate)<new Date).forEach(A=>{const M=Math.ceil((new Date-new Date(A.dueDate))/864e5);v.push({type:"critical",title:A.title,badge:`${M}d overdue`,navigateTo:"/reminders"})}),c((i||[]).filter(A=>A.isActive!==!1&&A.status==="Needs Attention"),"familyMemberId").forEach(A=>{v.push({type:"warning",title:`${A.goalName} needs attention`,badge:A.priority,navigateTo:"/goals"})}),v},[e,n,i,l]),m=j.useMemo(()=>{const v=c((l||[]).filter(S=>S.isActive!==!1&&S.status!=="Completed"),"familyMemberId"),g=new Date;return v.map(S=>{const y=new Date(S.dueDate)-g,w=Math.ceil(y/(1440*60*1e3)),C=new Date(S.dueDate).toLocaleDateString("en-IN",{day:"2-digit",month:"short"});return{...S,days:w,dateStr:C}}).filter(S=>S.days>=0&&S.days<=30).sort((S,y)=>S.days-y.days).slice(0,5)},[e,l]),h=f.length+u.buyOppCount+u.rebalanceCount+m.length,x=f.filter(v=>v.type==="critical").length;return{criticalAlerts:f,investmentSignals:u,upcomingReminders:m,totalCount:h,criticalCount:x}}function EE(e){return e>=20?"bg-rose-500/20 text-[var(--accent-rose)]":e>=10?"bg-orange-500/20 text-[var(--accent-orange)]":e>=5?"bg-amber-500/20 text-[var(--accent-amber)]":"bg-slate-500/20 text-[var(--text-muted)]"}function _E(e){return e>=10?{label:"Strong Buy",cls:"bg-emerald-500/20 text-emerald-400 ring-1 ring-emerald-500/30"}:e>=5?{label:"Buy",cls:"bg-blue-500/20 text-blue-400"}:null}function q4(){const{mfHoldings:e,mfPortfolios:t}=pt(),r=j.useMemo(()=>t.filter(i=>i.status!=="Inactive").map(i=>{const l=e.filter(f=>f.portfolioId===i.portfolioId&&f.units>0),c=l.reduce((f,m)=>f+m.currentValue,0),u=l.filter(f=>f.athNav>0&&f.belowATHPct>=1).sort((f,m)=>m.belowATHPct-f.belowATHPct).map(f=>({...f,currentPct:c>0?f.currentValue/c*100:0}));return{...i,totalValue:c,opportunities:u}}).filter(i=>i.opportunities.length>0),[t,e]);return r.reduce((i,l)=>i+l.opportunities.length,0)===0?a.jsxs("div",{className:"py-8 text-center",children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No buy opportunities right now"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"All funds are near their all-time highs"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] px-1",children:"Funds below their All-Time High NAV. Higher discount = better opportunity."}),r.map((i,l)=>a.jsxs("div",{className:"border border-[var(--border-light)] border-l-2 border-l-emerald-500/50 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2.5 bg-[var(--bg-inset)]",children:[a.jsx("span",{className:"text-xs font-bold text-emerald-400 bg-emerald-500/15 w-5 h-5 rounded flex items-center justify-center",children:l+1}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:i.portfolioName}),a.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:i.ownerName}),a.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-emerald-500/15 text-emerald-400",children:[i.opportunities.length," funds"]})]}),a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),a.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Signal"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Below ATH"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"ATH NAV"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Current"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Value"})]})}),a.jsx("tbody",{children:i.opportunities.map(c=>{const u=_E(c.belowATHPct);return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[a.jsxs("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[200px]",children:[a.jsx("p",{className:"truncate",children:Re(c.fundName).main}),Re(c.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Re(c.fundName).plan})]}),a.jsx("td",{className:"py-2 px-2 text-center",children:u?a.jsx("span",{className:`inline-block text-[10px] font-bold px-2 py-0.5 rounded-full whitespace-nowrap ${u.cls}`,children:u.label}):a.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:"Watch"})}),a.jsx("td",{className:"py-2 px-2 text-right",children:a.jsxs("span",{className:`inline-block text-xs font-semibold px-1.5 py-0.5 rounded-full ${EE(c.belowATHPct)}`,children:["",c.belowATHPct.toFixed(1),"%"]})}),a.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:["",c.athNav.toFixed(2)]}),a.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:["",c.currentNav.toFixed(2)]}),a.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:K(c.currentValue)})]},c.holdingId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:i.opportunities.map(c=>{const u=_E(c.belowATHPct);return a.jsxs("div",{className:"px-3 py-2.5",children:[a.jsxs("div",{className:"flex items-start justify-between mb-1",children:[a.jsxs("div",{className:"flex-1 mr-2",children:[a.jsx("p",{className:"text-xs text-[var(--text-primary)] leading-tight",children:Re(c.fundName).main}),Re(c.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Re(c.fundName).plan})]}),a.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[u&&a.jsx("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded-full ${u.cls}`,children:u.label}),a.jsxs("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${EE(c.belowATHPct)}`,children:["",c.belowATHPct.toFixed(1),"%"]})]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)]",children:[a.jsxs("span",{children:["ATH ",c.athNav.toFixed(2),"  ",c.currentNav.toFixed(2)]}),a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:K(c.currentValue)})]})]},c.holdingId)})})]},i.portfolioId))]})}const H4=6048e5,nte=864e5,Cx=6e4,Ax=36e5,ate=1e3,OE=Symbol.for("constructDateFrom");function It(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&OE in e?e[OE](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ve(e,t){return It(t||e,e)}function Na(e,t,r){const n=Ve(e,r?.in);return isNaN(t)?It(r?.in||e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Ma(e,t,r){const n=Ve(e,r?.in);if(isNaN(t))return It(e,NaN);if(!t)return n;const i=n.getDate(),l=It(e,n.getTime());l.setMonth(n.getMonth()+t+1,0);const c=l.getDate();return i>=c?l:(n.setFullYear(l.getFullYear(),l.getMonth(),i),n)}function U4(e,t,r){return It(e,+Ve(e)+t)}function ite(e,t,r){return U4(e,t*Ax)}let ste={};function no(){return ste}function Qi(e,t){const r=no(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=Ve(e,t?.in),l=i.getDay(),c=(l<n?7:0)+l-n;return i.setDate(i.getDate()-c),i.setHours(0,0,0,0),i}function vc(e,t){return Qi(e,{...t,weekStartsOn:1})}function Y4(e,t){const r=Ve(e,t?.in),n=r.getFullYear(),i=It(r,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const l=vc(i),c=It(r,0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);const u=vc(c);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function yh(e){const t=Ve(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function rs(e,...t){const r=It.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function Zl(e,t){const r=Ve(e,t?.in);return r.setHours(0,0,0,0),r}function gc(e,t,r){const[n,i]=rs(r?.in,e,t),l=Zl(n),c=Zl(i),u=+l-yh(l),f=+c-yh(c);return Math.round((u-f)/nte)}function lte(e,t){const r=Y4(e,t),n=It(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),vc(n)}function Ad(e,t,r){const n=Ve(e,r?.in);return n.setTime(n.getTime()+t*Cx),n}function xw(e,t,r){return Ma(e,t*3,r)}function ote(e,t,r){return U4(e,t*1e3)}function jh(e,t,r){return Na(e,t*7,r)}function Sa(e,t,r){return Ma(e,t*12,r)}function TE(e,t){let r,n=t?.in;return e.forEach(i=>{!n&&typeof i=="object"&&(n=It.bind(null,i));const l=Ve(i,n);(!r||r<l||isNaN(+l))&&(r=l)}),It(n,r||NaN)}function PE(e,t){let r,n=t?.in;return e.forEach(i=>{!n&&typeof i=="object"&&(n=It.bind(null,i));const l=Ve(i,n);(!r||r>l||isNaN(+l))&&(r=l)}),It(n,r||NaN)}function cte(e,t,r){const[n,i]=rs(r?.in,e,t);return+Zl(n)==+Zl(i)}function ti(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function bc(e){return!(!ti(e)&&typeof e!="number"||isNaN(+Ve(e)))}function wh(e,t,r){const[n,i]=rs(r?.in,e,t),l=n.getFullYear()-i.getFullYear(),c=n.getMonth()-i.getMonth();return l*12+c}function Rs(e,t){const r=Ve(e,t?.in);return Math.trunc(r.getMonth()/3)+1}function Nh(e,t,r){const[n,i]=rs(r?.in,e,t),l=n.getFullYear()-i.getFullYear(),c=Rs(n)-Rs(i);return l*4+c}function Sh(e,t,r){const[n,i]=rs(r?.in,e,t);return n.getFullYear()-i.getFullYear()}function ute(e,t,r){const[n,i]=rs(r?.in,e,t),l=IE(n,i),c=Math.abs(gc(n,i));n.setDate(n.getDate()-l*c);const u=+(IE(n,i)===-l),f=l*(c-u);return f===0?0:f}function IE(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function V4(e,t){const r=Ve(e,t?.in);return r.setHours(23,59,59,999),r}function G4(e,t){const r=Ve(e,t?.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function e1(e,t){const r=Ve(e,t?.in),n=r.getMonth(),i=n-n%3;return r.setMonth(i,1),r.setHours(0,0,0,0),r}function W4(e,t){const r=Ve(e,t?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function K4(e,t){const r=Ve(e,t?.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function kx(e,t){const r=Ve(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function dte(e,t){const r=no(),n=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=Ve(e,t?.in),l=i.getDay(),c=(l<n?-7:0)+6-(l-n);return i.setDate(i.getDate()+c),i.setHours(23,59,59,999),i}const fte={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},mte=(e,t,r)=>{let n;const i=fte[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Tb(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const pte={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},hte={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},xte={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vte={date:Tb({formats:pte,defaultWidth:"full"}),time:Tb({formats:hte,defaultWidth:"full"}),dateTime:Tb({formats:xte,defaultWidth:"full"})},gte={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bte=(e,t,r,n)=>gte[e];function Gu(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,u=r?.width?String(r.width):c;i=e.formattingValues[u]||e.formattingValues[c]}else{const c=e.defaultWidth,u=r?.width?String(r.width):e.defaultWidth;i=e.values[u]||e.values[c]}const l=e.argumentCallback?e.argumentCallback(t):t;return i[l]}}const yte={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},jte={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},wte={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Nte={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ste={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Cte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ate=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},kte={ordinalNumber:Ate,era:Gu({values:yte,defaultWidth:"wide"}),quarter:Gu({values:jte,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Gu({values:wte,defaultWidth:"wide"}),day:Gu({values:Nte,defaultWidth:"wide"}),dayPeriod:Gu({values:Ste,defaultWidth:"wide",formattingValues:Cte,defaultFormattingWidth:"wide"})};function Wu(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],l=t.match(i);if(!l)return null;const c=l[0],u=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(u)?Dte(u,x=>x.test(c)):Mte(u,x=>x.test(c));let m;m=e.valueCallback?e.valueCallback(f):f,m=r.valueCallback?r.valueCallback(m):m;const h=t.slice(c.length);return{value:m,rest:h}}}function Mte(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Dte(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Ete(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],l=t.match(e.parsePattern);if(!l)return null;let c=e.valueCallback?e.valueCallback(l[0]):l[0];c=r.valueCallback?r.valueCallback(c):c;const u=t.slice(i.length);return{value:c,rest:u}}}const _te=/^(\d+)(th|st|nd|rd)?/i,Ote=/\d+/i,Tte={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Pte={any:[/^b/i,/^(a|c)/i]},Ite={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Rte={any:[/1/i,/2/i,/3/i,/4/i]},Lte={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Fte={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},zte={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Bte={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$te={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},qte={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Hte={ordinalNumber:Ete({matchPattern:_te,parsePattern:Ote,valueCallback:e=>parseInt(e,10)}),era:Wu({matchPatterns:Tte,defaultMatchWidth:"wide",parsePatterns:Pte,defaultParseWidth:"any"}),quarter:Wu({matchPatterns:Ite,defaultMatchWidth:"wide",parsePatterns:Rte,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Wu({matchPatterns:Lte,defaultMatchWidth:"wide",parsePatterns:Fte,defaultParseWidth:"any"}),day:Wu({matchPatterns:zte,defaultMatchWidth:"wide",parsePatterns:Bte,defaultParseWidth:"any"}),dayPeriod:Wu({matchPatterns:$te,defaultMatchWidth:"any",parsePatterns:qte,defaultParseWidth:"any"})},Q4={code:"en-US",formatDistance:mte,formatLong:vte,formatRelative:bte,localize:kte,match:Hte,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ute(e,t){const r=Ve(e,t?.in);return gc(r,kx(r))+1}function vw(e,t){const r=Ve(e,t?.in),n=+vc(r)-+lte(r);return Math.round(n/H4)+1}function gw(e,t){const r=Ve(e,t?.in),n=r.getFullYear(),i=no(),l=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=It(t?.in||e,0);c.setFullYear(n+1,0,l),c.setHours(0,0,0,0);const u=Qi(c,t),f=It(t?.in||e,0);f.setFullYear(n,0,l),f.setHours(0,0,0,0);const m=Qi(f,t);return+r>=+u?n+1:+r>=+m?n:n-1}function Yte(e,t){const r=no(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=gw(e,t),l=It(t?.in||e,0);return l.setFullYear(i,0,n),l.setHours(0,0,0,0),Qi(l,t)}function X4(e,t){const r=Ve(e,t?.in),n=+Qi(r,t)-+Yte(r,t);return Math.round(n/H4)+1}function Tt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const _s={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Tt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Tt(r+1,2)},d(e,t){return Tt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Tt(e.getHours()%12||12,t.length)},H(e,t){return Tt(e.getHours(),t.length)},m(e,t){return Tt(e.getMinutes(),t.length)},s(e,t){return Tt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Tt(i,t.length)}},Vo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},RE={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return _s.y(e,t)},Y:function(e,t,r,n){const i=gw(e,n),l=i>0?i:1-i;if(t==="YY"){const c=l%100;return Tt(c,2)}return t==="Yo"?r.ordinalNumber(l,{unit:"year"}):Tt(l,t.length)},R:function(e,t){const r=Y4(e);return Tt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Tt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Tt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Tt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return _s.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Tt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=X4(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):Tt(i,t.length)},I:function(e,t,r){const n=vw(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Tt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):_s.d(e,t)},D:function(e,t,r){const n=Ute(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Tt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),l=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return Tt(l,2);case"eo":return r.ordinalNumber(l,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),l=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return Tt(l,t.length);case"co":return r.ordinalNumber(l,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return Tt(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=Vo.noon:n===0?i=Vo.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=Vo.evening:n>=12?i=Vo.afternoon:n>=4?i=Vo.morning:i=Vo.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return _s.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):_s.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Tt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Tt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):_s.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):_s.s(e,t)},S:function(e,t){return _s.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return FE(n);case"XXXX":case"XX":return Dl(n);default:return Dl(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return FE(n);case"xxxx":case"xx":return Dl(n);default:return Dl(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+LE(n,":");default:return"GMT"+Dl(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+LE(n,":");default:return"GMT"+Dl(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Tt(n,t.length)},T:function(e,t,r){return Tt(+e,t.length)}};function LE(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),l=n%60;return l===0?r+String(i):r+String(i)+t+Tt(l,2)}function FE(e,t){return e%60===0?(e>0?"-":"+")+Tt(Math.abs(e)/60,2):Dl(e,t)}function Dl(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Tt(Math.trunc(n/60),2),l=Tt(n%60,2);return r+i+t+l}const zE=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Z4=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Vte=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return zE(e,t);let l;switch(n){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",zE(n,t)).replace("{{time}}",Z4(i,t))},t1={p:Z4,P:Vte},Gte=/^D+$/,Wte=/^Y+$/,Kte=["D","DD","YY","YYYY"];function Qte(e){return Gte.test(e)}function Xte(e){return Wte.test(e)}function Zte(e,t,r){const n=Jte(e,t,r);if(console.warn(n),Kte.includes(e))throw new RangeError(n)}function Jte(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ere=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tre=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rre=/^'([^]*?)'?$/,nre=/''/g,are=/[a-zA-Z]/;function BE(e,t,r){const n=no(),i=r?.locale??n.locale??Q4,l=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,c=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,u=Ve(e,r?.in);if(!bc(u))throw new RangeError("Invalid time value");let f=t.match(tre).map(h=>{const x=h[0];if(x==="p"||x==="P"){const v=t1[x];return v(h,i.formatLong)}return h}).join("").match(ere).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const x=h[0];if(x==="'")return{isToken:!1,value:ire(h)};if(RE[x])return{isToken:!0,value:h};if(x.match(are))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:h}});i.localize.preprocessor&&(f=i.localize.preprocessor(u,f));const m={firstWeekContainsDate:l,weekStartsOn:c,locale:i};return f.map(h=>{if(!h.isToken)return h.value;const x=h.value;(!r?.useAdditionalWeekYearTokens&&Xte(x)||!r?.useAdditionalDayOfYearTokens&&Qte(x))&&Zte(x,t,String(e));const v=RE[x[0]];return v(u,x,i.localize,m)}).join("")}function ire(e){const t=e.match(rre);return t?t[1].replace(nre,"'"):e}function $E(e,t){return Ve(e,t?.in).getDate()}function sre(e,t){return Ve(e,t?.in).getDay()}function lre(e,t){const r=Ve(e,t?.in),n=r.getFullYear(),i=r.getMonth(),l=It(r,0);return l.setFullYear(n,i+1,0),l.setHours(0,0,0,0),l.getDate()}function ore(){return Object.assign({},no())}function Jr(e,t){return Ve(e,t?.in).getHours()}function cre(e,t){const r=Ve(e,t?.in).getDay();return r===0?7:r}function en(e,t){return Ve(e,t?.in).getMinutes()}function gn(e,t){return Ve(e,t?.in).getMonth()}function zs(e){return Ve(e).getSeconds()}function r1(e){return+Ve(e)}function mt(e,t){return Ve(e,t?.in).getFullYear()}function zi(e,t){return+Ve(e)>+Ve(t)}function Xa(e,t){return+Ve(e)<+Ve(t)}function ure(e,t){return+Ve(e)==+Ve(t)}function dre(e,t){const r=fre(t)?new t(0):It(t,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function fre(e){return typeof e=="function"&&e.prototype?.constructor===e}const mre=10;class J4{subPriority=0;validate(t,r){return!0}}class pre extends J4{constructor(t,r,n,i,l){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=i,l&&(this.subPriority=l)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class hre extends J4{priority=mre;subPriority=-1;constructor(t,r){super(),this.context=t||(n=>It(r,n))}set(t,r){return r.timestampIsSet?t:It(t,dre(t,this.context))}}class Mt{run(t,r,n,i){const l=this.parse(t,r,n,i);return l?{setter:new pre(l.value,this.validate,this.set,this.priority,this.subPriority),rest:l.rest}:null}validate(t,r,n){return!0}}class xre extends Mt{priority=140;parse(t,r,n){switch(r){case"G":case"GG":case"GGG":return n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"});case"GGGGG":return n.era(t,{width:"narrow"});default:return n.era(t,{width:"wide"})||n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"})}}set(t,r,n){return r.era=n,t.setFullYear(n,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const yr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Va={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function jr(e,t){return e&&{value:t(e.value),rest:e.rest}}function ir(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function Ga(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,i=r[2]?parseInt(r[2],10):0,l=r[3]?parseInt(r[3],10):0,c=r[5]?parseInt(r[5],10):0;return{value:n*(i*Ax+l*Cx+c*ate),rest:t.slice(r[0].length)}}function eI(e){return ir(yr.anyDigitsSigned,e)}function hr(e,t){switch(e){case 1:return ir(yr.singleDigit,t);case 2:return ir(yr.twoDigits,t);case 3:return ir(yr.threeDigits,t);case 4:return ir(yr.fourDigits,t);default:return ir(new RegExp("^\\d{1,"+e+"}"),t)}}function Ch(e,t){switch(e){case 1:return ir(yr.singleDigitSigned,t);case 2:return ir(yr.twoDigitsSigned,t);case 3:return ir(yr.threeDigitsSigned,t);case 4:return ir(yr.fourDigitsSigned,t);default:return ir(new RegExp("^-?\\d{1,"+e+"}"),t)}}function bw(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function tI(e,t){const r=t>0,n=r?t:1-t;let i;if(n<=50)i=e||100;else{const l=n+50,c=Math.trunc(l/100)*100,u=e>=l%100;i=e+c-(u?100:0)}return r?i:1-i}function rI(e){return e%400===0||e%4===0&&e%100!==0}class vre extends Mt{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,r,n){const i=l=>({year:l,isTwoDigitYear:r==="yy"});switch(r){case"y":return jr(hr(4,t),i);case"yo":return jr(n.ordinalNumber(t,{unit:"year"}),i);default:return jr(hr(r.length,t),i)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,n){const i=t.getFullYear();if(n.isTwoDigitYear){const c=tI(n.year,i);return t.setFullYear(c,0,1),t.setHours(0,0,0,0),t}const l=!("era"in r)||r.era===1?n.year:1-n.year;return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}}class gre extends Mt{priority=130;parse(t,r,n){const i=l=>({year:l,isTwoDigitYear:r==="YY"});switch(r){case"Y":return jr(hr(4,t),i);case"Yo":return jr(n.ordinalNumber(t,{unit:"year"}),i);default:return jr(hr(r.length,t),i)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,n,i){const l=gw(t,i);if(n.isTwoDigitYear){const u=tI(n.year,l);return t.setFullYear(u,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),Qi(t,i)}const c=!("era"in r)||r.era===1?n.year:1-n.year;return t.setFullYear(c,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),Qi(t,i)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class bre extends Mt{priority=130;parse(t,r){return Ch(r==="R"?4:r.length,t)}set(t,r,n){const i=It(t,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),vc(i)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class yre extends Mt{priority=130;parse(t,r){return Ch(r==="u"?4:r.length,t)}set(t,r,n){return t.setFullYear(n,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class jre extends Mt{priority=120;parse(t,r,n){switch(r){case"Q":case"QQ":return hr(r.length,t);case"Qo":return n.ordinalNumber(t,{unit:"quarter"});case"QQQ":return n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(t,{width:"narrow",context:"formatting"});default:return n.quarter(t,{width:"wide",context:"formatting"})||n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,n){return t.setMonth((n-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class wre extends Mt{priority=120;parse(t,r,n){switch(r){case"q":case"qq":return hr(r.length,t);case"qo":return n.ordinalNumber(t,{unit:"quarter"});case"qqq":return n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(t,{width:"narrow",context:"standalone"});default:return n.quarter(t,{width:"wide",context:"standalone"})||n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,n){return t.setMonth((n-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class Nre extends Mt{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,r,n){const i=l=>l-1;switch(r){case"M":return jr(ir(yr.month,t),i);case"MM":return jr(hr(2,t),i);case"Mo":return jr(n.ordinalNumber(t,{unit:"month"}),i);case"MMM":return n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(t,{width:"narrow",context:"formatting"});default:return n.month(t,{width:"wide",context:"formatting"})||n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,n){return t.setMonth(n,1),t.setHours(0,0,0,0),t}}class Sre extends Mt{priority=110;parse(t,r,n){const i=l=>l-1;switch(r){case"L":return jr(ir(yr.month,t),i);case"LL":return jr(hr(2,t),i);case"Lo":return jr(n.ordinalNumber(t,{unit:"month"}),i);case"LLL":return n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(t,{width:"narrow",context:"standalone"});default:return n.month(t,{width:"wide",context:"standalone"})||n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,n){return t.setMonth(n,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function Cre(e,t,r){const n=Ve(e,r?.in),i=X4(n,r)-t;return n.setDate(n.getDate()-i*7),Ve(n,r?.in)}class Are extends Mt{priority=100;parse(t,r,n){switch(r){case"w":return ir(yr.week,t);case"wo":return n.ordinalNumber(t,{unit:"week"});default:return hr(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,n,i){return Qi(Cre(t,n,i),i)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function kre(e,t,r){const n=Ve(e,r?.in),i=vw(n,r)-t;return n.setDate(n.getDate()-i*7),n}class Mre extends Mt{priority=100;parse(t,r,n){switch(r){case"I":return ir(yr.week,t);case"Io":return n.ordinalNumber(t,{unit:"week"});default:return hr(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,n){return vc(kre(t,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const Dre=[31,28,31,30,31,30,31,31,30,31,30,31],Ere=[31,29,31,30,31,30,31,31,30,31,30,31];class _re extends Mt{priority=90;subPriority=1;parse(t,r,n){switch(r){case"d":return ir(yr.date,t);case"do":return n.ordinalNumber(t,{unit:"date"});default:return hr(r.length,t)}}validate(t,r){const n=t.getFullYear(),i=rI(n),l=t.getMonth();return i?r>=1&&r<=Ere[l]:r>=1&&r<=Dre[l]}set(t,r,n){return t.setDate(n),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class Ore extends Mt{priority=90;subpriority=1;parse(t,r,n){switch(r){case"D":case"DD":return ir(yr.dayOfYear,t);case"Do":return n.ordinalNumber(t,{unit:"date"});default:return hr(r.length,t)}}validate(t,r){const n=t.getFullYear();return rI(n)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,n){return t.setMonth(0,n),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function yw(e,t,r){const n=no(),i=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=Ve(e,r?.in),c=l.getDay(),f=(t%7+7)%7,m=7-i,h=t<0||t>6?t-(c+m)%7:(f+m)%7-(c+m)%7;return Na(l,h,r)}class Tre extends Mt{priority=90;parse(t,r,n){switch(r){case"E":case"EE":case"EEE":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,n,i){return t=yw(t,n,i),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class Pre extends Mt{priority=90;parse(t,r,n,i){const l=c=>{const u=Math.floor((c-1)/7)*7;return(c+i.weekStartsOn+6)%7+u};switch(r){case"e":case"ee":return jr(hr(r.length,t),l);case"eo":return jr(n.ordinalNumber(t,{unit:"day"}),l);case"eee":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeeee":return n.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,n,i){return t=yw(t,n,i),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class Ire extends Mt{priority=90;parse(t,r,n,i){const l=c=>{const u=Math.floor((c-1)/7)*7;return(c+i.weekStartsOn+6)%7+u};switch(r){case"c":case"cc":return jr(hr(r.length,t),l);case"co":return jr(n.ordinalNumber(t,{unit:"day"}),l);case"ccc":return n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"ccccc":return n.day(t,{width:"narrow",context:"standalone"});case"cccccc":return n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});default:return n.day(t,{width:"wide",context:"standalone"})||n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,n,i){return t=yw(t,n,i),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function Rre(e,t,r){const n=Ve(e,r?.in),i=cre(n,r),l=t-i;return Na(n,l,r)}class Lre extends Mt{priority=90;parse(t,r,n){const i=l=>l===0?7:l;switch(r){case"i":case"ii":return hr(r.length,t);case"io":return n.ordinalNumber(t,{unit:"day"});case"iii":return jr(n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),i);case"iiiii":return jr(n.day(t,{width:"narrow",context:"formatting"}),i);case"iiiiii":return jr(n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),i);default:return jr(n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),i)}}validate(t,r){return r>=1&&r<=7}set(t,r,n){return t=Rre(t,n),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class Fre extends Mt{priority=80;parse(t,r,n){switch(r){case"a":case"aa":case"aaa":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,n){return t.setHours(bw(n),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class zre extends Mt{priority=80;parse(t,r,n){switch(r){case"b":case"bb":case"bbb":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,n){return t.setHours(bw(n),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class Bre extends Mt{priority=80;parse(t,r,n){switch(r){case"B":case"BB":case"BBB":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,n){return t.setHours(bw(n),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class $re extends Mt{priority=70;parse(t,r,n){switch(r){case"h":return ir(yr.hour12h,t);case"ho":return n.ordinalNumber(t,{unit:"hour"});default:return hr(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,n){const i=t.getHours()>=12;return i&&n<12?t.setHours(n+12,0,0,0):!i&&n===12?t.setHours(0,0,0,0):t.setHours(n,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class qre extends Mt{priority=70;parse(t,r,n){switch(r){case"H":return ir(yr.hour23h,t);case"Ho":return n.ordinalNumber(t,{unit:"hour"});default:return hr(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,n){return t.setHours(n,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class Hre extends Mt{priority=70;parse(t,r,n){switch(r){case"K":return ir(yr.hour11h,t);case"Ko":return n.ordinalNumber(t,{unit:"hour"});default:return hr(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,n){return t.getHours()>=12&&n<12?t.setHours(n+12,0,0,0):t.setHours(n,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class Ure extends Mt{priority=70;parse(t,r,n){switch(r){case"k":return ir(yr.hour24h,t);case"ko":return n.ordinalNumber(t,{unit:"hour"});default:return hr(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,n){const i=n<=24?n%24:n;return t.setHours(i,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class Yre extends Mt{priority=60;parse(t,r,n){switch(r){case"m":return ir(yr.minute,t);case"mo":return n.ordinalNumber(t,{unit:"minute"});default:return hr(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,n){return t.setMinutes(n,0,0),t}incompatibleTokens=["t","T"]}class Vre extends Mt{priority=50;parse(t,r,n){switch(r){case"s":return ir(yr.second,t);case"so":return n.ordinalNumber(t,{unit:"second"});default:return hr(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,n){return t.setSeconds(n,0),t}incompatibleTokens=["t","T"]}class Gre extends Mt{priority=30;parse(t,r){const n=i=>Math.trunc(i*Math.pow(10,-r.length+3));return jr(hr(r.length,t),n)}set(t,r,n){return t.setMilliseconds(n),t}incompatibleTokens=["t","T"]}class Wre extends Mt{priority=10;parse(t,r){switch(r){case"X":return Ga(Va.basicOptionalMinutes,t);case"XX":return Ga(Va.basic,t);case"XXXX":return Ga(Va.basicOptionalSeconds,t);case"XXXXX":return Ga(Va.extendedOptionalSeconds,t);default:return Ga(Va.extended,t)}}set(t,r,n){return r.timestampIsSet?t:It(t,t.getTime()-yh(t)-n)}incompatibleTokens=["t","T","x"]}class Kre extends Mt{priority=10;parse(t,r){switch(r){case"x":return Ga(Va.basicOptionalMinutes,t);case"xx":return Ga(Va.basic,t);case"xxxx":return Ga(Va.basicOptionalSeconds,t);case"xxxxx":return Ga(Va.extendedOptionalSeconds,t);default:return Ga(Va.extended,t)}}set(t,r,n){return r.timestampIsSet?t:It(t,t.getTime()-yh(t)-n)}incompatibleTokens=["t","T","X"]}class Qre extends Mt{priority=40;parse(t){return eI(t)}set(t,r,n){return[It(t,n*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class Xre extends Mt{priority=20;parse(t){return eI(t)}set(t,r,n){return[It(t,n),{timestampIsSet:!0}]}incompatibleTokens="*"}const Zre={G:new xre,y:new vre,Y:new gre,R:new bre,u:new yre,Q:new jre,q:new wre,M:new Nre,L:new Sre,w:new Are,I:new Mre,d:new _re,D:new Ore,E:new Tre,e:new Pre,c:new Ire,i:new Lre,a:new Fre,b:new zre,B:new Bre,h:new $re,H:new qre,K:new Hre,k:new Ure,m:new Yre,s:new Vre,S:new Gre,X:new Wre,x:new Kre,t:new Qre,T:new Xre},Jre=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ene=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tne=/^'([^]*?)'?$/,rne=/''/g,nne=/\S/,ane=/[a-zA-Z]/;function ine(e,t,r,n){const i=()=>It(n?.in||r,NaN),l=ore(),c=n?.locale??l.locale??Q4,u=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,f=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??l.weekStartsOn??l.locale?.options?.weekStartsOn??0;if(!t)return e?i():Ve(r,n?.in);const m={firstWeekContainsDate:u,weekStartsOn:f,locale:c},h=[new hre(n?.in,r)],x=t.match(ene).map(w=>{const C=w[0];if(C in t1){const k=t1[C];return k(w,c.formatLong)}return w}).join("").match(Jre),v=[];for(let w of x){const C=w[0],k=Zre[C];if(k){const{incompatibleTokens:A}=k;if(Array.isArray(A)){const D=v.find(T=>A.includes(T.token)||T.token===C);if(D)throw new RangeError(`The format string mustn't contain \`${D.fullToken}\` and \`${w}\` at the same time`)}else if(k.incompatibleTokens==="*"&&v.length>0)throw new RangeError(`The format string mustn't contain \`${w}\` and any other token at the same time`);v.push({token:C,fullToken:w});const M=k.run(e,w,c.match,m);if(!M)return i();h.push(M.setter),e=M.rest}else{if(C.match(ane))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");if(w==="''"?w="'":C==="'"&&(w=sne(w)),e.indexOf(w)===0)e=e.slice(w.length);else return i()}}if(e.length>0&&nne.test(e))return i();const g=h.map(w=>w.priority).sort((w,C)=>C-w).filter((w,C,k)=>k.indexOf(w)===C).map(w=>h.filter(C=>C.priority===w).sort((C,k)=>k.subPriority-C.subPriority)).map(w=>w[0]);let S=Ve(r,n?.in);if(isNaN(+S))return i();const y={};for(const w of g){if(!w.validate(S,m))return i();const C=w.set(S,y,m);Array.isArray(C)?(S=C[0],Object.assign(y,C[1])):S=C}return S}function sne(e){return e.match(tne)[1].replace(rne,"'")}function lne(e,t,r){const[n,i]=rs(r?.in,e,t);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}function one(e,t,r){const[n,i]=rs(r?.in,e,t);return+e1(n)==+e1(i)}function cne(e,t,r){const[n,i]=rs(r?.in,e,t);return n.getFullYear()===i.getFullYear()}function kd(e,t,r){const n=+Ve(e,r?.in),[i,l]=[+Ve(t.start,r?.in),+Ve(t.end,r?.in)].sort((c,u)=>c-u);return n>=i&&n<=l}function une(e,t,r){return Na(e,-1,r)}function dne(e,t){const r=()=>It(t?.in,NaN),i=hne(e);let l;if(i.date){const m=xne(i.date,2);l=vne(m.restDateString,m.year)}if(!l||isNaN(+l))return r();const c=+l;let u=0,f;if(i.time&&(u=gne(i.time),isNaN(u)))return r();if(i.timezone){if(f=bne(i.timezone),isNaN(f))return r()}else{const m=new Date(c+u),h=Ve(0,t?.in);return h.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),h.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),h}return Ve(c+u+f,t?.in)}const Lm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},fne=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,mne=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,pne=/^([+-])(\d{2})(?::?(\d{2}))?$/;function hne(e){const t={},r=e.split(Lm.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Lm.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Lm.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const i=Lm.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function xne(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,l=n[2]?parseInt(n[2]):null;return{year:l===null?i:l*100,restDateString:e.slice((n[1]||n[2]).length)}}function vne(e,t){if(t===null)return new Date(NaN);const r=e.match(fne);if(!r)return new Date(NaN);const n=!!r[4],i=Ku(r[1]),l=Ku(r[2])-1,c=Ku(r[3]),u=Ku(r[4]),f=Ku(r[5])-1;if(n)return Sne(t,u,f)?yne(t,u,f):new Date(NaN);{const m=new Date(0);return!wne(t,l,c)||!Nne(t,i)?new Date(NaN):(m.setUTCFullYear(t,l,Math.max(i,c)),m)}}function Ku(e){return e?parseInt(e):1}function gne(e){const t=e.match(mne);if(!t)return NaN;const r=Pb(t[1]),n=Pb(t[2]),i=Pb(t[3]);return Cne(r,n,i)?r*Ax+n*Cx+i*1e3:NaN}function Pb(e){return e&&parseFloat(e.replace(",","."))||0}function bne(e){if(e==="Z")return 0;const t=e.match(pne);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return Ane(n,i)?r*(n*Ax+i*Cx):NaN}function yne(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const i=n.getUTCDay()||7,l=(t-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+l),n}const jne=[31,null,31,30,31,30,31,31,30,31,30,31];function nI(e){return e%400===0||e%4===0&&e%100!==0}function wne(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(jne[t]||(nI(e)?29:28))}function Nne(e,t){return t>=1&&t<=(nI(e)?366:365)}function Sne(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Cne(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Ane(e,t){return t>=0&&t<=59}function Tn(e,t,r){const n=Ve(e,r?.in),i=n.getFullYear(),l=n.getDate(),c=It(e,0);c.setFullYear(i,t,15),c.setHours(0,0,0,0);const u=lre(c);return n.setMonth(t,Math.min(l,u)),n}function vp(e,t,r){const n=Ve(e,r?.in);return n.setHours(t),n}function gp(e,t,r){const n=Ve(e,r?.in);return n.setMinutes(t),n}function Jo(e,t,r){const n=Ve(e,r?.in),i=Math.trunc(n.getMonth()/3)+1,l=t-i;return Tn(n,n.getMonth()+l*3)}function bp(e,t,r){const n=Ve(e,r?.in);return n.setSeconds(t),n}function Ua(e,t,r){const n=Ve(e,r?.in);return isNaN(+n)?It(e,NaN):(n.setFullYear(t),n)}function ql(e,t,r){return Ma(e,-t,r)}function aI(e,t,r){return xw(e,-1,r)}function qE(e,t,r){return jh(e,-1,r)}function Ys(e,t,r){return Sa(e,-t,r)}function Mx(){return typeof window<"u"}function qc(e){return iI(e)?(e.nodeName||"").toLowerCase():"#document"}function zn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ui(e){var t;return(t=(iI(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function iI(e){return Mx()?e instanceof Node||e instanceof zn(e).Node:!1}function sn(e){return Mx()?e instanceof Element||e instanceof zn(e).Element:!1}function ii(e){return Mx()?e instanceof HTMLElement||e instanceof zn(e).HTMLElement:!1}function HE(e){return!Mx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof zn(e).ShadowRoot}const kne=new Set(["inline","contents"]);function Zd(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=oa(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!kne.has(i)}const Mne=new Set(["table","td","th"]);function Dne(e){return Mne.has(qc(e))}const Ene=[":popover-open",":modal"];function Dx(e){return Ene.some(t=>{try{return e.matches(t)}catch{return!1}})}const _ne=["transform","translate","scale","rotate","perspective"],One=["transform","translate","scale","rotate","perspective","filter"],Tne=["paint","layout","strict","content"];function jw(e){const t=ww(),r=sn(e)?oa(e):e;return _ne.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||One.some(n=>(r.willChange||"").includes(n))||Tne.some(n=>(r.contain||"").includes(n))}function Pne(e){let t=Vs(e);for(;ii(t)&&!yc(t);){if(jw(t))return t;if(Dx(t))return null;t=Vs(t)}return null}function ww(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Ine=new Set(["html","body","#document"]);function yc(e){return Ine.has(qc(e))}function oa(e){return zn(e).getComputedStyle(e)}function Ex(e){return sn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Vs(e){if(qc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||HE(e)&&e.host||ui(e);return HE(t)?t.host:t}function sI(e){const t=Vs(e);return yc(t)?e.ownerDocument?e.ownerDocument.body:e.body:ii(t)&&Zd(t)?t:sI(t)}function Md(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=sI(e),l=i===((n=e.ownerDocument)==null?void 0:n.body),c=zn(i);if(l){const u=n1(c);return t.concat(c,c.visualViewport||[],Zd(i)?i:[],u&&r?Md(u):[])}return t.concat(i,Md(i,[],r))}function n1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const jc=Math.min,Hl=Math.max,Ah=Math.round,Fm=Math.floor,ri=e=>({x:e,y:e}),Rne={left:"right",right:"left",bottom:"top",top:"bottom"},Lne={start:"end",end:"start"};function Fne(e,t,r){return Hl(e,jc(t,r))}function _x(e,t){return typeof e=="function"?e(t):e}function wc(e){return e.split("-")[0]}function Jd(e){return e.split("-")[1]}function zne(e){return e==="x"?"y":"x"}function Nw(e){return e==="y"?"height":"width"}const Bne=new Set(["top","bottom"]);function Rl(e){return Bne.has(wc(e))?"y":"x"}function Sw(e){return zne(Rl(e))}function $ne(e,t,r){r===void 0&&(r=!1);const n=Jd(e),i=Sw(e),l=Nw(i);let c=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(c=kh(c)),[c,kh(c)]}function qne(e){const t=kh(e);return[a1(e),t,a1(t)]}function a1(e){return e.replace(/start|end/g,t=>Lne[t])}const UE=["left","right"],YE=["right","left"],Hne=["top","bottom"],Une=["bottom","top"];function Yne(e,t,r){switch(e){case"top":case"bottom":return r?t?YE:UE:t?UE:YE;case"left":case"right":return t?Hne:Une;default:return[]}}function Vne(e,t,r,n){const i=Jd(e);let l=Yne(wc(e),r==="start",n);return i&&(l=l.map(c=>c+"-"+i),t&&(l=l.concat(l.map(a1)))),l}function kh(e){return e.replace(/left|right|bottom|top/g,t=>Rne[t])}function Gne(e){return{top:0,right:0,bottom:0,left:0,...e}}function lI(e){return typeof e!="number"?Gne(e):{top:e,right:e,bottom:e,left:e}}function Mh(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}var Wne=typeof document<"u",Kne=function(){},Dh=Wne?j.useLayoutEffect:Kne;const Qne={...m1},Xne=Qne.useInsertionEffect,Zne=Xne||(e=>e());function Jne(e){const t=j.useRef(()=>{});return Zne(()=>{t.current=e}),j.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t.current==null?void 0:t.current(...n)},[])}function VE(e,t,r){let{reference:n,floating:i}=e;const l=Rl(t),c=Sw(t),u=Nw(c),f=wc(t),m=l==="y",h=n.x+n.width/2-i.width/2,x=n.y+n.height/2-i.height/2,v=n[u]/2-i[u]/2;let g;switch(f){case"top":g={x:h,y:n.y-i.height};break;case"bottom":g={x:h,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:x};break;case"left":g={x:n.x-i.width,y:x};break;default:g={x:n.x,y:n.y}}switch(Jd(t)){case"start":g[c]-=v*(r&&m?-1:1);break;case"end":g[c]+=v*(r&&m?-1:1);break}return g}async function eae(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:l,rects:c,elements:u,strategy:f}=e,{boundary:m="clippingAncestors",rootBoundary:h="viewport",elementContext:x="floating",altBoundary:v=!1,padding:g=0}=_x(t,e),S=lI(g),w=u[v?x==="floating"?"reference":"floating":x],C=Mh(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(w)))==null||r?w:w.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(u.floating)),boundary:m,rootBoundary:h,strategy:f})),k=x==="floating"?{x:n,y:i,width:c.floating.width,height:c.floating.height}:c.reference,A=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u.floating)),M=await(l.isElement==null?void 0:l.isElement(A))?await(l.getScale==null?void 0:l.getScale(A))||{x:1,y:1}:{x:1,y:1},D=Mh(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:k,offsetParent:A,strategy:f}):k);return{top:(C.top-D.top+S.top)/M.y,bottom:(D.bottom-C.bottom+S.bottom)/M.y,left:(C.left-D.left+S.left)/M.x,right:(D.right-C.right+S.right)/M.x}}const tae=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:l=[],platform:c}=r,u=l.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(t));let m=await c.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:x}=VE(m,n,f),v=n,g={},S=0;for(let w=0;w<u.length;w++){var y;const{name:C,fn:k}=u[w],{x:A,y:M,data:D,reset:T}=await k({x:h,y:x,initialPlacement:n,placement:v,strategy:i,middlewareData:g,rects:m,platform:{...c,detectOverflow:(y=c.detectOverflow)!=null?y:eae},elements:{reference:e,floating:t}});h=A??h,x=M??x,g={...g,[C]:{...g[C],...D}},T&&S<=50&&(S++,typeof T=="object"&&(T.placement&&(v=T.placement),T.rects&&(m=T.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:i}):T.rects),{x:h,y:x}=VE(m,v,f)),w=-1)}return{x:h,y:x,placement:v,strategy:i,middlewareData:g}},rae=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:l,platform:c,elements:u,middlewareData:f}=t,{element:m,padding:h=0}=_x(e,t)||{};if(m==null)return{};const x=lI(h),v={x:r,y:n},g=Sw(i),S=Nw(g),y=await c.getDimensions(m),w=g==="y",C=w?"top":"left",k=w?"bottom":"right",A=w?"clientHeight":"clientWidth",M=l.reference[S]+l.reference[g]-v[g]-l.floating[S],D=v[g]-l.reference[g],T=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let I=T?T[A]:0;(!I||!await(c.isElement==null?void 0:c.isElement(T)))&&(I=u.floating[A]||l.floating[S]);const O=M/2-D/2,z=I/2-y[S]/2-1,F=jc(x[C],z),B=jc(x[k],z),E=F,J=I-y[S]-B,X=I/2-y[S]/2+O,re=Fne(E,X,J),L=!f.arrow&&Jd(i)!=null&&X!==re&&l.reference[S]/2-(X<E?F:B)-y[S]/2<0,U=L?X<E?X-E:X-J:0;return{[g]:v[g]+U,data:{[g]:re,centerOffset:X-re-U,...L&&{alignmentOffset:U}},reset:L}}}),nae=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:l,rects:c,initialPlacement:u,platform:f,elements:m}=t,{mainAxis:h=!0,crossAxis:x=!0,fallbackPlacements:v,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:y=!0,...w}=_x(e,t);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const C=wc(i),k=Rl(u),A=wc(u)===u,M=await(f.isRTL==null?void 0:f.isRTL(m.floating)),D=v||(A||!y?[kh(u)]:qne(u)),T=S!=="none";!v&&T&&D.push(...Vne(u,y,S,M));const I=[u,...D],O=await f.detectOverflow(t,w),z=[];let F=((n=l.flip)==null?void 0:n.overflows)||[];if(h&&z.push(O[C]),x){const X=$ne(i,c,M);z.push(O[X[0]],O[X[1]])}if(F=[...F,{placement:i,overflows:z}],!z.every(X=>X<=0)){var B,E;const X=(((B=l.flip)==null?void 0:B.index)||0)+1,re=I[X];if(re&&(!(x==="alignment"?k!==Rl(re):!1)||F.every(V=>Rl(V.placement)===k?V.overflows[0]>0:!0)))return{data:{index:X,overflows:F},reset:{placement:re}};let L=(E=F.filter(U=>U.overflows[0]<=0).sort((U,V)=>U.overflows[1]-V.overflows[1])[0])==null?void 0:E.placement;if(!L)switch(g){case"bestFit":{var J;const U=(J=F.filter(V=>{if(T){const Ne=Rl(V.placement);return Ne===k||Ne==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(Ne=>Ne>0).reduce((Ne,De)=>Ne+De,0)]).sort((V,Ne)=>V[1]-Ne[1])[0])==null?void 0:J[0];U&&(L=U);break}case"initialPlacement":L=u;break}if(i!==L)return{reset:{placement:L}}}return{}}}},aae=new Set(["left","top"]);async function iae(e,t){const{placement:r,platform:n,elements:i}=e,l=await(n.isRTL==null?void 0:n.isRTL(i.floating)),c=wc(r),u=Jd(r),f=Rl(r)==="y",m=aae.has(c)?-1:1,h=l&&f?-1:1,x=_x(t,e);let{mainAxis:v,crossAxis:g,alignmentAxis:S}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return u&&typeof S=="number"&&(g=u==="end"?S*-1:S),f?{x:g*h,y:v*m}:{x:v*m,y:g*h}}const sae=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:l,placement:c,middlewareData:u}=t,f=await iae(t,e);return c===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:i+f.x,y:l+f.y,data:{...f,placement:c}}}}};function oI(e){const t=oa(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=ii(e),l=i?e.offsetWidth:r,c=i?e.offsetHeight:n,u=Ah(r)!==l||Ah(n)!==c;return u&&(r=l,n=c),{width:r,height:n,$:u}}function Cw(e){return sn(e)?e:e.contextElement}function lc(e){const t=Cw(e);if(!ii(t))return ri(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:l}=oI(t);let c=(l?Ah(r.width):r.width)/n,u=(l?Ah(r.height):r.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const lae=ri(0);function cI(e){const t=zn(e);return!ww()||!t.visualViewport?lae:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function oae(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==zn(e)?!1:t}function Jl(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),l=Cw(e);let c=ri(1);t&&(n?sn(n)&&(c=lc(n)):c=lc(e));const u=oae(l,r,n)?cI(l):ri(0);let f=(i.left+u.x)/c.x,m=(i.top+u.y)/c.y,h=i.width/c.x,x=i.height/c.y;if(l){const v=zn(l),g=n&&sn(n)?zn(n):n;let S=v,y=n1(S);for(;y&&n&&g!==S;){const w=lc(y),C=y.getBoundingClientRect(),k=oa(y),A=C.left+(y.clientLeft+parseFloat(k.paddingLeft))*w.x,M=C.top+(y.clientTop+parseFloat(k.paddingTop))*w.y;f*=w.x,m*=w.y,h*=w.x,x*=w.y,f+=A,m+=M,S=zn(y),y=n1(S)}}return Mh({width:h,height:x,x:f,y:m})}function Ox(e,t){const r=Ex(e).scrollLeft;return t?t.left+r:Jl(ui(e)).left+r}function uI(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Ox(e,r),i=r.top+t.scrollTop;return{x:n,y:i}}function cae(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const l=i==="fixed",c=ui(n),u=t?Dx(t.floating):!1;if(n===c||u&&l)return r;let f={scrollLeft:0,scrollTop:0},m=ri(1);const h=ri(0),x=ii(n);if((x||!x&&!l)&&((qc(n)!=="body"||Zd(c))&&(f=Ex(n)),ii(n))){const g=Jl(n);m=lc(n),h.x=g.x+n.clientLeft,h.y=g.y+n.clientTop}const v=c&&!x&&!l?uI(c,f):ri(0);return{width:r.width*m.x,height:r.height*m.y,x:r.x*m.x-f.scrollLeft*m.x+h.x+v.x,y:r.y*m.y-f.scrollTop*m.y+h.y+v.y}}function uae(e){return Array.from(e.getClientRects())}function dae(e){const t=ui(e),r=Ex(e),n=e.ownerDocument.body,i=Hl(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),l=Hl(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+Ox(e);const u=-r.scrollTop;return oa(n).direction==="rtl"&&(c+=Hl(t.clientWidth,n.clientWidth)-i),{width:i,height:l,x:c,y:u}}const GE=25;function fae(e,t){const r=zn(e),n=ui(e),i=r.visualViewport;let l=n.clientWidth,c=n.clientHeight,u=0,f=0;if(i){l=i.width,c=i.height;const h=ww();(!h||h&&t==="fixed")&&(u=i.offsetLeft,f=i.offsetTop)}const m=Ox(n);if(m<=0){const h=n.ownerDocument,x=h.body,v=getComputedStyle(x),g=h.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,S=Math.abs(n.clientWidth-x.clientWidth-g);S<=GE&&(l-=S)}else m<=GE&&(l+=m);return{width:l,height:c,x:u,y:f}}const mae=new Set(["absolute","fixed"]);function pae(e,t){const r=Jl(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,l=ii(e)?lc(e):ri(1),c=e.clientWidth*l.x,u=e.clientHeight*l.y,f=i*l.x,m=n*l.y;return{width:c,height:u,x:f,y:m}}function WE(e,t,r){let n;if(t==="viewport")n=fae(e,r);else if(t==="document")n=dae(ui(e));else if(sn(t))n=pae(t,r);else{const i=cI(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Mh(n)}function dI(e,t){const r=Vs(e);return r===t||!sn(r)||yc(r)?!1:oa(r).position==="fixed"||dI(r,t)}function hae(e,t){const r=t.get(e);if(r)return r;let n=Md(e,[],!1).filter(u=>sn(u)&&qc(u)!=="body"),i=null;const l=oa(e).position==="fixed";let c=l?Vs(e):e;for(;sn(c)&&!yc(c);){const u=oa(c),f=jw(c);!f&&u.position==="fixed"&&(i=null),(l?!f&&!i:!f&&u.position==="static"&&!!i&&mae.has(i.position)||Zd(c)&&!f&&dI(e,c))?n=n.filter(h=>h!==c):i=u,c=Vs(c)}return t.set(e,n),n}function xae(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const c=[...r==="clippingAncestors"?Dx(t)?[]:hae(t,this._c):[].concat(r),n],u=c[0],f=c.reduce((m,h)=>{const x=WE(t,h,i);return m.top=Hl(x.top,m.top),m.right=jc(x.right,m.right),m.bottom=jc(x.bottom,m.bottom),m.left=Hl(x.left,m.left),m},WE(t,u,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function vae(e){const{width:t,height:r}=oI(e);return{width:t,height:r}}function gae(e,t,r){const n=ii(t),i=ui(t),l=r==="fixed",c=Jl(e,!0,l,t);let u={scrollLeft:0,scrollTop:0};const f=ri(0);function m(){f.x=Ox(i)}if(n||!n&&!l)if((qc(t)!=="body"||Zd(i))&&(u=Ex(t)),n){const g=Jl(t,!0,l,t);f.x=g.x+t.clientLeft,f.y=g.y+t.clientTop}else i&&m();l&&!n&&i&&m();const h=i&&!n&&!l?uI(i,u):ri(0),x=c.left+u.scrollLeft-f.x-h.x,v=c.top+u.scrollTop-f.y-h.y;return{x,y:v,width:c.width,height:c.height}}function Ib(e){return oa(e).position==="static"}function KE(e,t){if(!ii(e)||oa(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ui(e)===r&&(r=r.ownerDocument.body),r}function fI(e,t){const r=zn(e);if(Dx(e))return r;if(!ii(e)){let i=Vs(e);for(;i&&!yc(i);){if(sn(i)&&!Ib(i))return i;i=Vs(i)}return r}let n=KE(e,t);for(;n&&Dne(n)&&Ib(n);)n=KE(n,t);return n&&yc(n)&&Ib(n)&&!jw(n)?r:n||Pne(e)||r}const bae=async function(e){const t=this.getOffsetParent||fI,r=this.getDimensions,n=await r(e.floating);return{reference:gae(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function yae(e){return oa(e).direction==="rtl"}const jae={convertOffsetParentRelativeRectToViewportRelativeRect:cae,getDocumentElement:ui,getClippingRect:xae,getOffsetParent:fI,getElementRects:bae,getClientRects:uae,getDimensions:vae,getScale:lc,isElement:sn,isRTL:yae};function mI(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function wae(e,t){let r=null,n;const i=ui(e);function l(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function c(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),l();const m=e.getBoundingClientRect(),{left:h,top:x,width:v,height:g}=m;if(u||t(),!v||!g)return;const S=Fm(x),y=Fm(i.clientWidth-(h+v)),w=Fm(i.clientHeight-(x+g)),C=Fm(h),A={rootMargin:-S+"px "+-y+"px "+-w+"px "+-C+"px",threshold:Hl(0,jc(1,f))||1};let M=!0;function D(T){const I=T[0].intersectionRatio;if(I!==f){if(!M)return c();I?c(!1,I):n=setTimeout(()=>{c(!1,1e-7)},1e3)}I===1&&!mI(m,e.getBoundingClientRect())&&c(),M=!1}try{r=new IntersectionObserver(D,{...A,root:i.ownerDocument})}catch{r=new IntersectionObserver(D,A)}r.observe(e)}return c(!0),l}function Nae(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=n,m=Cw(e),h=i||l?[...m?Md(m):[],...Md(t)]:[];h.forEach(C=>{i&&C.addEventListener("scroll",r,{passive:!0}),l&&C.addEventListener("resize",r)});const x=m&&u?wae(m,r):null;let v=-1,g=null;c&&(g=new ResizeObserver(C=>{let[k]=C;k&&k.target===m&&g&&(g.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var A;(A=g)==null||A.observe(t)})),r()}),m&&!f&&g.observe(m),g.observe(t));let S,y=f?Jl(e):null;f&&w();function w(){const C=Jl(e);y&&!mI(y,C)&&r(),y=C,S=requestAnimationFrame(w)}return r(),()=>{var C;h.forEach(k=>{i&&k.removeEventListener("scroll",r),l&&k.removeEventListener("resize",r)}),x?.(),(C=g)==null||C.disconnect(),g=null,f&&cancelAnimationFrame(S)}}const Sae=sae,Cae=nae,QE=rae,Aae=(e,t,r)=>{const n=new Map,i={platform:jae,...r},l={...i.platform,_c:n};return tae(e,t,{...i,platform:l})};var kae=typeof document<"u",Mae=function(){},yp=kae?j.useLayoutEffect:Mae;function Eh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Eh(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const l=i[n];if(!(l==="_owner"&&e.$$typeof)&&!Eh(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function pI(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function XE(e,t){const r=pI(e);return Math.round(t*r)/r}function Rb(e){const t=j.useRef(e);return yp(()=>{t.current=e}),t}function Dae(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:l,floating:c}={},transform:u=!0,whileElementsMounted:f,open:m}=e,[h,x]=j.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[v,g]=j.useState(n);Eh(v,n)||g(n);const[S,y]=j.useState(null),[w,C]=j.useState(null),k=j.useCallback(V=>{V!==T.current&&(T.current=V,y(V))},[]),A=j.useCallback(V=>{V!==I.current&&(I.current=V,C(V))},[]),M=l||S,D=c||w,T=j.useRef(null),I=j.useRef(null),O=j.useRef(h),z=f!=null,F=Rb(f),B=Rb(i),E=Rb(m),J=j.useCallback(()=>{if(!T.current||!I.current)return;const V={placement:t,strategy:r,middleware:v};B.current&&(V.platform=B.current),Aae(T.current,I.current,V).then(Ne=>{const De={...Ne,isPositioned:E.current!==!1};X.current&&!Eh(O.current,De)&&(O.current=De,Dc.flushSync(()=>{x(De)}))})},[v,t,r,B,E]);yp(()=>{m===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,x(V=>({...V,isPositioned:!1})))},[m]);const X=j.useRef(!1);yp(()=>(X.current=!0,()=>{X.current=!1}),[]),yp(()=>{if(M&&(T.current=M),D&&(I.current=D),M&&D){if(F.current)return F.current(M,D,J);J()}},[M,D,J,F,z]);const re=j.useMemo(()=>({reference:T,floating:I,setReference:k,setFloating:A}),[k,A]),L=j.useMemo(()=>({reference:M,floating:D}),[M,D]),U=j.useMemo(()=>{const V={position:r,left:0,top:0};if(!L.floating)return V;const Ne=XE(L.floating,h.x),De=XE(L.floating,h.y);return u?{...V,transform:"translate("+Ne+"px, "+De+"px)",...pI(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Ne,top:De}},[r,u,L.floating,h.x,h.y]);return j.useMemo(()=>({...h,update:J,refs:re,elements:L,floatingStyles:U}),[h,J,re,L,U])}const Eae=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?QE({element:n.current,padding:i}).fn(r):{}:n?QE({element:n,padding:i}).fn(r):{}}}},_ae=(e,t)=>({...Sae(e),options:[e,t]}),Oae=(e,t)=>({...Cae(e),options:[e,t]}),Tae=(e,t)=>({...Eae(e),options:[e,t]}),Pae={...m1};let ZE=!1,Iae=0;const JE=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Iae++;function Rae(){const[e,t]=j.useState(()=>ZE?JE():void 0);return Dh(()=>{e==null&&t(JE())},[]),j.useEffect(()=>{ZE=!0},[]),e}const Lae=Pae.useId,hI=Lae||Rae,Fae=j.forwardRef(function(t,r){const{context:{placement:n,elements:{floating:i},middlewareData:{arrow:l,shift:c}},width:u=14,height:f=7,tipRadius:m=0,strokeWidth:h=0,staticOffset:x,stroke:v,d:g,style:{transform:S,...y}={},...w}=t,C=hI(),[k,A]=j.useState(!1);if(Dh(()=>{if(!i)return;oa(i).direction==="rtl"&&A(!0)},[i]),!i)return null;const[M,D]=n.split("-"),T=M==="top"||M==="bottom";let I=x;(T&&c!=null&&c.x||!T&&c!=null&&c.y)&&(I=null);const O=h*2,z=O/2,F=u/2*(m/-8+1),B=f/2*m/4,E=!!g,J=I&&D==="end"?"bottom":"top";let X=I&&D==="end"?"right":"left";I&&k&&(X=D==="end"?"left":"right");const re=l?.x!=null?I||l.x:"",L=l?.y!=null?I||l.y:"",U=g||"M0,0"+(" H"+u)+(" L"+(u-F)+","+(f-B))+(" Q"+u/2+","+f+" "+F+","+(f-B))+" Z",V={top:E?"rotate(180deg)":"",left:E?"rotate(90deg)":"rotate(-90deg)",bottom:E?"":"rotate(180deg)",right:E?"rotate(-90deg)":"rotate(90deg)"}[M];return a.jsxs("svg",{...w,"aria-hidden":!0,ref:r,width:E?u:u+O,height:u,viewBox:"0 0 "+u+" "+(f>u?f:u),style:{position:"absolute",pointerEvents:"none",[X]:re,[J]:L,[M]:T||E?"100%":"calc(100% - "+O/2+"px)",transform:[V,S].filter(Ne=>!!Ne).join(" "),...y},children:[O>0&&a.jsx("path",{clipPath:"url(#"+C+")",fill:"none",stroke:v,strokeWidth:O+(g?0:1),d:U}),a.jsx("path",{stroke:O&&!g?w.fill:"none",d:U}),a.jsx("clipPath",{id:C,children:a.jsx("rect",{x:-z,y:z*(E?-1:1),width:u+O,height:u})})]})});function zae(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(i=>i(r))},on(t,r){e.has(t)||e.set(t,new Set),e.get(t).add(r)},off(t,r){var n;(n=e.get(t))==null||n.delete(r)}}}const Bae=j.createContext(null),$ae=j.createContext(null),qae=()=>{var e;return((e=j.useContext(Bae))==null?void 0:e.id)||null},Hae=()=>j.useContext($ae);function Uae(e){const{open:t=!1,onOpenChange:r,elements:n}=e,i=hI(),l=j.useRef({}),[c]=j.useState(()=>zae()),u=qae()!=null,[f,m]=j.useState(n.reference),h=Jne((g,S,y)=>{l.current.openEvent=g?S:void 0,c.emit("openchange",{open:g,event:S,reason:y,nested:u}),r?.(g,S,y)}),x=j.useMemo(()=>({setPositionReference:m}),[]),v=j.useMemo(()=>({reference:f||n.reference||null,floating:n.floating||null,domReference:n.reference}),[f,n.reference,n.floating]);return j.useMemo(()=>({dataRef:l,open:t,onOpenChange:h,elements:v,events:c,floatingId:i,refs:x}),[t,h,v,c,i,x])}function Yae(e){e===void 0&&(e={});const{nodeId:t}=e,r=Uae({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,i=n.elements,[l,c]=j.useState(null),[u,f]=j.useState(null),h=i?.domReference||l,x=j.useRef(null),v=Hae();Dh(()=>{h&&(x.current=h)},[h]);const g=Dae({...e,elements:{...i,...u&&{reference:u}}}),S=j.useCallback(A=>{const M=sn(A)?{getBoundingClientRect:()=>A.getBoundingClientRect(),getClientRects:()=>A.getClientRects(),contextElement:A}:A;f(M),g.refs.setReference(M)},[g.refs]),y=j.useCallback(A=>{(sn(A)||A===null)&&(x.current=A,c(A)),(sn(g.refs.reference.current)||g.refs.reference.current===null||A!==null&&!sn(A))&&g.refs.setReference(A)},[g.refs]),w=j.useMemo(()=>({...g.refs,setReference:y,setPositionReference:S,domReference:x}),[g.refs,y,S]),C=j.useMemo(()=>({...g.elements,domReference:h}),[g.elements,h]),k=j.useMemo(()=>({...g,...n,refs:w,elements:C,nodeId:t}),[g,w,C,t,n]);return Dh(()=>{n.dataRef.current.floatingContext=k;const A=v?.nodesRef.current.find(M=>M.id===t);A&&(A.context=k)}),j.useMemo(()=>({...g,context:k,refs:w,elements:C}),[g,w,C,k])}var i1=function(t,r){return i1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(n[l]=i[l])},i1(t,r)};function Kr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i1(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ct=function(){return ct=Object.assign||function(r){for(var n,i=1,l=arguments.length;i<l;i++){n=arguments[i];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(r[c]=n[c])}return r},ct.apply(this,arguments)};function Za(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,l;n<i;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return e.concat(l||Array.prototype.slice.call(t))}var Vae=function(e){var t=e.showTimeSelectOnly,r=t===void 0?!1:t,n=e.showTime,i=n===void 0?!1:n,l=e.className,c=e.children,u=e.inline,f=r?"Choose Time":"Choose Date".concat(i?" and Time":"");return pe.createElement("div",{className:l,"aria-label":f,role:u?void 0:"dialog","aria-modal":u?void 0:"true",translate:"no"},c)},Gae=function(e,t){var r=j.useRef(null),n=j.useRef(e);j.useEffect(function(){n.current=e},[e]);var i=j.useCallback(function(l){var c,u=l.composed&&l.composedPath&&l.composedPath().find(function(f){return f instanceof Node})||l.target;r.current&&!r.current.contains(u)&&(t&&u instanceof HTMLElement&&u.classList.contains(t)||(c=n.current)===null||c===void 0||c.call(n,l))},[t]);return j.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),r},Tx=function(e){var t=e.children,r=e.onClickOutside,n=e.className,i=e.containerRef,l=e.style,c=e.ignoreClass,u=Gae(r,c);return pe.createElement("div",{className:n,style:l,ref:function(f){u.current=f,i&&(i.current=f)}},t)},zm=null,e5=!1;function xI(){if(e5)return zm;e5=!0;try{var e="date-fns-tz";zm=require(e)}catch{zm=null}return zm}function t5(e,t){if(!t)return e;var r=xI();return r?r.toZonedTime(e,t):e}function _i(e,t){if(!t)return e;var r=xI();return r?r.fromZonedTime(e,t):e}var _e;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(_e||(_e={}));function vI(){var e=typeof window<"u"?window:globalThis;return e}var ef=12;function jt(e){if(e==null)return new Date;var t=typeof e=="string"?dne(e):Ve(e);return vn(t)?t:new Date}function Nl(e,t,r,n,i){i===void 0&&(i=jt());for(var l=Nc(r)||Nc(Aw()),c=Array.isArray(t)?t:[t],u=0,f=c;u<f.length;u++){var m=f[u],h=ine(e,m,i,{locale:l});if(vn(h)&&(!n||e===Qt(h,m,r)))return h}if(!n&&e&&e.length>=8){var x=new Date(e);if(bc(x))return x}return null}function Wae(e,t){if(t===void 0&&(t=jt()),!e)return null;var r=e.match(/\b(1\d{3}|2\d{3})\b/);if(!r||!r[1])return null;var n=parseInt(r[1],10),i=e.match(/(?:^|[/\-\s])?(0?[1-9]|1[0-2])(?:[/\-\s]|$)/),l=i&&i[1]?parseInt(i[1],10)-1:t.getMonth();return new Date(n,l,1)}function vn(e){return bc(e)}function Ll(e){return e==null?null:ti(e)&&bc(e)?e:null}function Qt(e,t,r){if(r==="en")return BE(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=r?Nc(r):void 0;return r&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),n=n||Nc(Aw()),BE(e,t,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function xn(e,t){var r=t.dateFormat,n=t.locale,i=Array.isArray(r)&&r.length>0?r[0]:r;return e&&Qt(e,i,n)||""}var gI=" - ";function Kae(e,t,r){if(!e&&!t)return"";var n=e?xn(e,r):"",i=t?xn(t,r):"",l=r.rangeSeparator||gI;return"".concat(n).concat(l).concat(i)}function Qae(e,t){if(!e?.length)return"";var r=e[0]?xn(e[0],t):"";if(e.length===1)return r;if(e.length===2&&e[1]){var n=xn(e[1],t);return"".concat(r,", ").concat(n)}var i=e.length-1;return"".concat(r," (+").concat(i,")")}function Oi(e,t){var r=t.hour,n=r===void 0?0:r,i=t.minute,l=i===void 0?0:i,c=t.second,u=c===void 0?0:c;return vp(gp(bp(e,u),l),n)}function Xae(e){return vw(e)}function Zae(e,t){return Qt(e,"ddd",t)}function ad(e){return Zl(e)}function Bs(e,t,r){var n=Nc(t||Aw());return Qi(e,{locale:n,weekStartsOn:r})}function Bi(e){return W4(e)}function id(e){return kx(e)}function r5(e){return e1(e)}function n5(){return Zl(jt())}function a5(e){return V4(e)}function Jae(e){return dte(e)}function eie(e){return G4(e)}function Ya(e,t){return e&&t?cne(e,t):!e&&!t}function nn(e,t){return e&&t?lne(e,t):!e&&!t}function _h(e,t){return e&&t?one(e,t):!e&&!t}function vt(e,t){return e&&t?cte(e,t):!e&&!t}function Fl(e,t){return e&&t?ure(e,t):!e&&!t}function El(e,t,r){var n,i=Zl(t),l=V4(r);try{n=kd(e,{start:i,end:l})}catch{n=!1}return n}function Aw(){var e=vI();return e.__localeId__}function Nc(e){if(typeof e=="string"){var t=vI();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function tie(e,t,r){return t(Qt(e,"EEEE",r))}function rie(e,t){return Qt(e,"EEEEEE",t)}function nie(e,t){return Qt(e,"EEE",t)}function kw(e,t){return Qt(Tn(jt(),e),"LLLL",t)}function bI(e,t){return Qt(Tn(jt(),e),"LLL",t)}function aie(e,t){return Qt(Jo(jt(),e),"QQQ",t)}function na(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.maxDate,l=r.excludeDates,c=r.excludeDateIntervals,u=r.includeDates,f=r.includeDateIntervals,m=r.filterDate,h=r.disabled;return h?!0:tf(e,{minDate:n,maxDate:i})||l&&l.some(function(x){return x instanceof Date?vt(e,x):vt(e,x.date)})||c&&c.some(function(x){var v=x.start,g=x.end;return kd(e,{start:v,end:g})})||u&&!u.some(function(x){return vt(e,x)})||f&&!f.some(function(x){var v=x.start,g=x.end;return kd(e,{start:v,end:g})})||m&&!m(jt(e))||!1}function Mw(e,t){var r=t===void 0?{}:t,n=r.excludeDates,i=r.excludeDateIntervals;return i&&i.length>0?i.some(function(l){var c=l.start,u=l.end;return kd(e,{start:c,end:u})}):n&&n.some(function(l){var c;return l instanceof Date?vt(e,l):vt(e,(c=l.date)!==null&&c!==void 0?c:new Date)})||!1}function yI(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.maxDate,l=r.excludeDates,c=r.includeDates,u=r.filterDate;return tf(e,{minDate:n?W4(n):void 0,maxDate:i?G4(i):void 0})||l?.some(function(f){return nn(e,f instanceof Date?f:f.date)})||c&&!c.some(function(f){return nn(e,f)})||u&&!u(jt(e))||!1}function Bm(e,t,r,n){var i=mt(e),l=gn(e),c=mt(t),u=gn(t),f=mt(n);return i===c&&i===f?l<=r&&r<=u:i<c?f===i&&l<=r||f===c&&u>=r||f<c&&f>i:!1}function iie(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.maxDate,l=r.excludeDates,c=r.includeDates;return tf(e,{minDate:n,maxDate:i})||l&&l.some(function(u){return nn(u instanceof Date?u:u.date,e)})||c&&!c.some(function(u){return nn(u,e)})||!1}function $m(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.maxDate,l=r.excludeDates,c=r.includeDates,u=r.filterDate,f=r.disabled;return f?!0:tf(e,{minDate:n,maxDate:i})||l?.some(function(m){return _h(e,m instanceof Date?m:m.date)})||c&&!c.some(function(m){return _h(e,m)})||u&&!u(jt(e))||!1}function qm(e,t,r){if(!t||!r||!bc(t)||!bc(r))return!1;var n=mt(t),i=mt(r);return n<=e&&i>=e}function jp(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.maxDate,l=r.excludeDates,c=r.includeDates,u=r.filterDate,f=r.disabled;if(f)return!0;var m=new Date(e,0,1);return tf(m,{minDate:n?kx(n):void 0,maxDate:i?K4(i):void 0})||l?.some(function(h){return Ya(m,h instanceof Date?h:h.date)})||c&&!c.some(function(h){return Ya(m,h)})||u&&!u(jt(m))||!1}function Hm(e,t,r,n){var i=mt(e),l=Rs(e),c=mt(t),u=Rs(t),f=mt(n);return i===c&&i===f?l<=r&&r<=u:i<c?f===i&&l<=r||f===c&&u>=r||f<c&&f>i:!1}function tf(e,t){var r,n=t===void 0?{}:t,i=n.minDate,l=n.maxDate;return(r=i&&gc(e,i)<0||l&&gc(e,l)>0)!==null&&r!==void 0?r:!1}function i5(e,t){return t.some(function(r){return Jr(r)===Jr(e)&&en(r)===en(e)&&zs(r)===zs(e)})}function s5(e,t){var r=t===void 0?{}:t,n=r.excludeTimes,i=r.includeTimes,l=r.filterTime;return n&&i5(e,n)||i&&!i5(e,i)||l&&!l(e)||!1}function l5(e,t){var r=t.minTime,n=t.maxTime;if(!r||!n)throw new Error("Both minTime and maxTime props required");var i=jt();i=vp(i,Jr(e)),i=gp(i,en(e)),i=bp(i,zs(e));var l=jt();l=vp(l,Jr(r)),l=gp(l,en(r)),l=bp(l,zs(r));var c=jt();c=vp(c,Jr(n)),c=gp(c,en(n)),c=bp(c,zs(n));var u;try{u=!kd(i,{start:l,end:c})}catch{u=!1}return u}function o5(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.includeDates,l=ql(e,1);return n&&wh(n,l)>0||i&&i.every(function(c){return wh(c,l)>0})||!1}function c5(e,t){var r=t===void 0?{}:t,n=r.maxDate,i=r.includeDates,l=Ma(e,1);return n&&wh(l,n)>0||i&&i.every(function(c){return wh(l,c)>0})||!1}function sie(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.includeDates,l=kx(e),c=aI(l);return n&&Nh(n,c)>0||i&&i.every(function(u){return Nh(u,c)>0})||!1}function lie(e,t){var r=t===void 0?{}:t,n=r.maxDate,i=r.includeDates,l=K4(e),c=xw(l,1);return n&&Nh(c,n)>0||i&&i.every(function(u){return Nh(c,u)>0})||!1}function u5(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.includeDates,l=Ys(e,1);return n&&Sh(n,l)>0||i&&i.every(function(c){return Sh(c,l)>0})||!1}function oie(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.yearItemNumber,l=i===void 0?ef:i,c=id(Ys(e,l)),u=Ri(c,l).endPeriod,f=n&&mt(n);return f&&f>u||!1}function d5(e,t){var r=t===void 0?{}:t,n=r.maxDate,i=r.includeDates,l=Sa(e,1);return n&&Sh(l,n)>0||i&&i.every(function(c){return Sh(l,c)>0})||!1}function cie(e,t){var r=t===void 0?{}:t,n=r.maxDate,i=r.yearItemNumber,l=i===void 0?ef:i,c=Sa(e,l),u=Ri(c,l).startPeriod,f=n&&mt(n);return f&&f<u||!1}function jI(e){var t=e.minDate,r=e.includeDates;if(r&&t){var n=r.filter(function(i){return gc(i,t)>=0});return PE(n)}else return r?PE(r):t}function wI(e){var t=e.maxDate,r=e.includeDates;if(r&&t){var n=r.filter(function(i){return gc(i,t)<=0});return TE(n)}else return r?TE(r):t}function f5(e,t){var r;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var n=new Map,i=0,l=e.length;i<l;i++){var c=e[i];if(ti(c)){var u=Qt(c,"MM.dd.yyyy"),f=n.get(u)||[];f.includes(t)||(f.push(t),n.set(u,f))}else if(typeof c=="object"){var m=Object.keys(c),h=(r=m[0])!==null&&r!==void 0?r:"",x=c[h];if(typeof h=="string"&&Array.isArray(x))for(var v=0,g=x.length;v<g;v++){var S=x[v];if(S){var u=Qt(S,"MM.dd.yyyy"),f=n.get(u)||[];f.includes(h)||(f.push(h),n.set(u,f))}}}}return n}function uie(e,t){return e.length!==t.length?!1:e.every(function(r,n){return r===t[n]})}function die(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var r=new Map;return e.forEach(function(n){var i=n.date,l=n.holidayName;if(ti(i)){var c=Qt(i,"MM.dd.yyyy"),u=r.get(c)||{className:"",holidayNames:[]};if(!("className"in u&&u.className===t&&uie(u.holidayNames,[l]))){u.className=t;var f=u.holidayNames;u.holidayNames=f?Za(Za([],f,!0),[l],!1):[l],r.set(c,u)}}}),r}function fie(e,t,r,n,i){for(var l=i.length,c=[],u=0;u<l;u++){var f=e,m=i[u];m&&(f=ite(f,Jr(m)),f=Ad(f,en(m)),f=ote(f,zs(m)));var h=Ad(e,(r+1)*n);zi(f,t)&&Xa(f,h)&&m!=null&&c.push(m)}return c}function Go(e){return e<10?"0".concat(e):"".concat(e)}function Ri(e,t){t===void 0&&(t=ef);var r=Math.ceil(mt(e)/t)*t,n=r-(t-1);return{startPeriod:n,endPeriod:r}}function mie(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+r-+t)/36e5)}function m5(e){var t=e.getSeconds(),r=e.getMilliseconds();return Ve(e.getTime()-t*1e3-r)}function NI(e,t){return m5(e).getTime()===m5(t).getTime()}function p5(e){if(!ti(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function Lb(e,t){if(!ti(e)||!ti(t))throw new Error("Invalid date received");var r=p5(e),n=p5(t);return Xa(r,n)}function SI(e){return e.key===_e.Space}var Fb=(function(e){Kr(t,e);function t(r){var n=e.call(this,r)||this;return n.inputRef=pe.createRef(),n.onTimeChange=function(i){var l,c;n.setState({time:i});var u=n.props.date,f=u instanceof Date&&!isNaN(+u),m=f?u:new Date;if(i?.includes(":")){var h=i.split(":"),x=h[0],v=h[1];m.setHours(Number(x)),m.setMinutes(Number(v))}(c=(l=n.props).onChange)===null||c===void 0||c.call(l,m)},n.renderTimeInput=function(){var i=n.state.time,l=n.props,c=l.date,u=l.timeString,f=l.customTimeInput;return f?j.cloneElement(f,{date:c,value:i,onChange:n.onTimeChange}):pe.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var m;(m=n.inputRef.current)===null||m===void 0||m.focus()},required:!0,value:i,onChange:function(m){n.onTimeChange(m.target.value||u)}})},n.state={time:n.props.timeString},n}return t.getDerivedStateFromProps=function(r,n){return r.timeString!==n.time?{time:r.timeString}:null},t.prototype.render=function(){return pe.createElement("div",{className:"react-datepicker__input-time-container"},pe.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),pe.createElement("div",{className:"react-datepicker-time__input-container"},pe.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t})(j.Component),pie=(function(e){Kr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.dayEl=j.createRef(),r.handleClick=function(n){!r.isDisabled()&&r.props.onClick&&r.props.onClick(n)},r.handleMouseEnter=function(n){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(n)},r.handleOnKeyDown=function(n){var i,l,c=n.key;c===_e.Space&&(n.preventDefault(),n.key=_e.Enter),(l=(i=r.props).handleOnKeyDown)===null||l===void 0||l.call(i,n)},r.isSameDay=function(n){return vt(r.props.day,n)},r.isKeyboardSelected=function(){var n;if(r.props.disabledKeyboardNavigation)return!1;var i=r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(c){return r.isSameDayOrWeek(c)}):r.isSameDayOrWeek(r.props.selected),l=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!i&&r.isSameDayOrWeek(r.props.preSelection)&&!l},r.isDisabled=function(n){return n===void 0&&(n=r.props.day),na(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate,disabled:r.props.disabled})},r.isExcluded=function(){return Mw(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return vt(r.props.day,Bs(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(n){return r.props.showWeekPicker&&vt(n,Bs(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(n){return r.isSameDay(n)||r.isSameWeek(n)},r.getHighLightedClass=function(){var n=r.props,i=n.day,l=n.highlightDates;if(!l)return!1;var c=Qt(i,"MM.dd.yyyy");return l.get(c)},r.getHolidaysClass=function(){var n,i=r.props,l=i.day,c=i.holidays;if(!c)return[void 0];var u=Qt(l,"MM.dd.yyyy");return c.has(u)?[(n=c.get(u))===null||n===void 0?void 0:n.className]:[void 0]},r.isInRange=function(){var n=r.props,i=n.day,l=n.startDate,c=n.endDate;return!l||!c?!1:El(i,l,c)},r.isInSelectingRange=function(){var n,i=r.props,l=i.day,c=i.selectsStart,u=i.selectsEnd,f=i.selectsRange,m=i.selectsDisabledDaysInRange,h=i.startDate,x=i.swapRange,v=i.endDate,g=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;if(r.isAfterMonth()||r.isBeforeMonth()||!(c||u||f)||!g||!m&&r.isDisabled())return!1;if(c&&v&&(Xa(g,v)||Fl(g,v)))return El(l,g,v);if(u&&h&&(zi(g,h)||Fl(g,h)))return El(l,h,g);if(f&&h&&!v){if(Fl(g,h)||zi(g,h))return El(l,h,g);if(x&&Xa(g,h))return El(l,g,h)}return!1},r.isSelectingRangeStart=function(){var n;if(!r.isInSelectingRange())return!1;var i=r.props,l=i.day,c=i.startDate,u=i.selectsStart,f=i.swapRange,m=i.selectsRange,h=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return u?vt(l,h):m&&f&&c&&h?vt(l,Xa(h,c)?h:c):vt(l,c)},r.isSelectingRangeEnd=function(){var n;if(!r.isInSelectingRange())return!1;var i=r.props,l=i.day,c=i.endDate,u=i.selectsEnd,f=i.selectsRange,m=i.swapRange,h=i.startDate,x=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return u?vt(l,x):f&&m&&h&&x?vt(l,Xa(x,h)?h:x):f?vt(l,x):vt(l,c)},r.isRangeStart=function(){var n=r.props,i=n.day,l=n.startDate,c=n.endDate;return!l||!c?!1:vt(l,i)},r.isRangeEnd=function(){var n=r.props,i=n.day,l=n.startDate,c=n.endDate;return!l||!c?!1:vt(c,i)},r.isWeekend=function(){var n=sre(r.props.day);return n===0||n===6},r.isAfterMonth=function(){return r.props.month!==void 0&&(r.props.month+1)%12===gn(r.props.day)},r.isBeforeMonth=function(){return r.props.month!==void 0&&(gn(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(jt())},r.isSelected=function(){var n;return r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(i){return r.isSameDayOrWeek(i)}):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(n){var i=r.props.dayClassName?r.props.dayClassName(n):void 0;return ut("react-datepicker__day",i,"react-datepicker__day--"+Zae(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var n=r.props,i=n.day,l=n.ariaLabelPrefixWhenEnabled,c=l===void 0?"Choose":l,u=n.ariaLabelPrefixWhenDisabled,f=u===void 0?"Not available":u,m=r.isDisabled()||r.isExcluded()?f:c;return"".concat(m," ").concat(Qt(i,"PPPP",r.props.locale))},r.getTitle=function(){var n=r.props,i=n.day,l=n.holidays,c=l===void 0?new Map:l,u=n.excludeDates,f=Qt(i,"MM.dd.yyyy"),m=[];return c.has(f)&&m.push.apply(m,c.get(f).holidayNames),r.isExcluded()&&m.push(u?.filter(function(h){return h instanceof Date?vt(h,i):vt(h?.date,i)}).map(function(h){if(!(h instanceof Date))return h?.message})),m.join(", ")},r.getTabIndex=function(){var n=r.props.selected,i=r.props.preSelection,l=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(n)&&vt(i,n))?0:-1;return l},r.handleFocusDay=function(){var n;r.shouldFocusDay()&&((n=r.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents($E(r.props.day),r.props.day):$E(r.props.day)},r.render=function(){return pe.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"gridcell",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&pe.createElement("span",{className:"overlay"},r.getTitle()))},r}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var r=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(r=!1),this.isDayActiveElement()&&(r=!0),this.isDuplicateDay()&&(r=!1)),r},t.prototype.isDayActiveElement=function(){var r,n,i;return((n=(r=this.props.containerRef)===null||r===void 0?void 0:r.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t})(j.Component),hie=(function(e){Kr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.weekNumberEl=j.createRef(),r.handleClick=function(n){r.props.onClick&&r.props.onClick(n)},r.handleOnKeyDown=function(n){var i,l,c=n.key;c===_e.Space&&(n.preventDefault(),n.key=_e.Enter),(l=(i=r.props).handleOnKeyDown)===null||l===void 0||l.call(i,n)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!vt(r.props.date,r.props.selected)&&vt(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||vt(r.props.date,r.props.selected)&&vt(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(n){var i=!1;r.getTabIndex()===0&&!n?.isInputFocused&&vt(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(i=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(r){this.handleFocusWeekNumber(r)},t.prototype.render=function(){var r=this.props,n=r.weekNumber,i=r.isWeekDisabled,l=r.ariaLabelPrefix,c=l===void 0?t.defaultProps.ariaLabelPrefix:l,u=r.onClick,f={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!u&&!i,"react-datepicker__week-number--selected":!!u&&vt(this.props.date,this.props.selected)};return pe.createElement("div",{ref:this.weekNumberEl,className:ut(f),"aria-label":"".concat(c," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},n)},t})(j.Component),xie=(function(e){Kr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.isDisabled=function(n){return na(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.handleDayClick=function(n,i){r.props.onDayClick&&r.props.onDayClick(n,i)},r.handleDayMouseEnter=function(n){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(n)},r.handleWeekClick=function(n,i,l){for(var c,u,f,m=new Date(n),h=0;h<7;h++){var x=new Date(n);x.setDate(x.getDate()+h);var v=!r.isDisabled(x);if(v){m=x;break}}typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(m,i,l),r.props.showWeekPicker&&r.handleDayClick(m,l),((c=r.props.shouldCloseOnSelect)!==null&&c!==void 0?c:t.defaultProps.shouldCloseOnSelect)&&((f=(u=r.props).setOpen)===null||f===void 0||f.call(u,!1))},r.formatWeekNumber=function(n){return r.props.formatWeekNumber?r.props.formatWeekNumber(n):Xae(n)},r.isWeekDisabled=function(){for(var n=r.startOfWeek(),i=Na(n,6),l=new Date(n);l<=i;){if(!r.isDisabled(l))return!1;l=Na(l,1)}return!0},r.renderDays=function(){var n=r.startOfWeek(),i=[],l=r.formatWeekNumber(n);if(r.props.showWeekNumber){var c=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,n,l):void 0;i.push(pe.createElement(hie,ct({key:"W"},t.defaultProps,r.props,{weekNumber:l,isWeekDisabled:r.isWeekDisabled(),date:n,onClick:c})))}return i.concat([0,1,2,3,4,5,6].map(function(u){var f=Na(n,u);return pe.createElement(pie,ct({},t.defaultProps,r.props,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:f.valueOf(),day:f,onClick:r.handleDayClick.bind(r,f),onMouseEnter:r.handleDayMouseEnter.bind(r,f)}))}))},r.startOfWeek=function(){return Bs(r.props.day,r.props.locale,r.props.calendarStartDay)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!vt(r.startOfWeek(),r.props.selected)&&vt(r.startOfWeek(),r.props.preSelection)},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":vt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},n=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return pe.createElement("div",{className:ut(r,n),role:"row"},this.renderDays())},t})(j.Component),Qu,vie=6,oc={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},zb=(Qu={},Qu[oc.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Qu[oc.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Qu[oc.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Qu),Um=1;function h5(e,t){return e?oc.FOUR_COLUMNS:t?oc.TWO_COLUMNS:oc.THREE_COLUMNS}var gie=(function(e){Kr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.MONTH_REFS=Za([],Array(12),!0).map(function(){return j.createRef()}),r.QUARTER_REFS=Za([],Array(4),!0).map(function(){return j.createRef()}),r.isDisabled=function(n){return na(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate,disabled:r.props.disabled})},r.isExcluded=function(n){return Mw(n,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(n,i){var l,c;(c=(l=r.props).onDayClick)===null||c===void 0||c.call(l,n,i,r.props.orderInDisplay)},r.handleDayMouseEnter=function(n){var i,l;(l=(i=r.props).onDayMouseEnter)===null||l===void 0||l.call(i,n)},r.handleMouseLeave=function(){var n,i;(i=(n=r.props).onMouseLeave)===null||i===void 0||i.call(n)},r.isRangeStartMonth=function(n){var i=r.props,l=i.day,c=i.startDate,u=i.endDate;return!c||!u?!1:nn(Tn(l,n),c)},r.isRangeStartQuarter=function(n){var i=r.props,l=i.day,c=i.startDate,u=i.endDate;return!c||!u?!1:_h(Jo(l,n),c)},r.isRangeEndMonth=function(n){var i=r.props,l=i.day,c=i.startDate,u=i.endDate;return!c||!u?!1:nn(Tn(l,n),u)},r.isRangeEndQuarter=function(n){var i=r.props,l=i.day,c=i.startDate,u=i.endDate;return!c||!u?!1:_h(Jo(l,n),u)},r.isInSelectingRangeMonth=function(n){var i,l=r.props,c=l.day,u=l.selectsStart,f=l.selectsEnd,m=l.selectsRange,h=l.startDate,x=l.endDate,v=(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection;return!(u||f||m)||!v?!1:u&&x?Bm(v,x,n,c):f&&h||m&&h&&!x?Bm(h,v,n,c):!1},r.isSelectingMonthRangeStart=function(n){var i;if(!r.isInSelectingRangeMonth(n))return!1;var l=r.props,c=l.day,u=l.startDate,f=l.selectsStart,m=Tn(c,n),h=(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection;return f?nn(m,h):nn(m,u)},r.isSelectingMonthRangeEnd=function(n){var i;if(!r.isInSelectingRangeMonth(n))return!1;var l=r.props,c=l.day,u=l.endDate,f=l.selectsEnd,m=l.selectsRange,h=Tn(c,n),x=(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection;return f||m?nn(h,x):nn(h,u)},r.isInSelectingRangeQuarter=function(n){var i,l=r.props,c=l.day,u=l.selectsStart,f=l.selectsEnd,m=l.selectsRange,h=l.startDate,x=l.endDate,v=(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection;return!(u||f||m)||!v?!1:u&&x?Hm(v,x,n,c):f&&h||m&&h&&!x?Hm(h,v,n,c):!1},r.isWeekInMonth=function(n){var i=r.props.day,l=Na(n,6);return nn(n,i)||nn(l,i)},r.isCurrentMonth=function(n,i){return mt(n)===mt(jt())&&i===gn(jt())},r.isCurrentQuarter=function(n,i){return mt(n)===mt(jt())&&i===Rs(jt())},r.isSelectedMonth=function(n,i,l){return gn(l)===i&&mt(n)===mt(l)},r.isSelectMonthInList=function(n,i,l){return l.some(function(c){return r.isSelectedMonth(n,i,c)})},r.isSelectedQuarter=function(n,i,l){return Rs(l)===i&&mt(n)===mt(l)},r.isSelectQuarterInList=function(n,i,l){return l.some(function(c){return r.isSelectedQuarter(n,i,c)})},r.isMonthSelected=function(){var n=r.props,i=n.day,l=n.selected,c=n.selectedDates,u=n.selectsMultiple,f=gn(i);return u?c?.some(function(m){return r.isSelectedMonth(i,f,m)}):!!l&&r.isSelectedMonth(i,f,l)},r.isQuarterSelected=function(){var n=r.props,i=n.day,l=n.selected,c=n.selectedDates,u=n.selectsMultiple,f=Rs(i);return u?c?.some(function(m){return r.isSelectedQuarter(i,f,m)}):!!l&&r.isSelectedQuarter(i,f,l)},r.renderWeeks=function(){if(!vn(r.props.day))return[];for(var n=[],i=r.props.fixedHeight,l=0,c=!1,u=Bs(Bi(r.props.day),r.props.locale,r.props.calendarStartDay),f=function(S){return r.props.showWeekPicker?Bs(S,r.props.locale,r.props.calendarStartDay):r.props.preSelection},m=function(S){return r.props.showWeekPicker?Bs(S,r.props.locale,r.props.calendarStartDay):r.props.selected},h=r.props.selected?m(r.props.selected):void 0,x=r.props.preSelection?f(r.props.preSelection):void 0;n.push(pe.createElement(xie,ct({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:l,day:u,month:gn(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:h,preSelection:x,showWeekNumber:r.props.showWeekNumbers}))),!c;){l++,u=jh(u,1);var v=i&&l>=vie,g=!i&&!r.isWeekInMonth(u);if(v||g)if(r.props.peekNextMonth)c=!0;else break}return n},r.onMonthClick=function(n,i){var l=r.isMonthDisabledForLabelDate(i),c=l.isDisabled,u=l.labelDate;c||r.handleDayClick(Bi(u),n)},r.onMonthMouseEnter=function(n){var i=r.isMonthDisabledForLabelDate(n),l=i.isDisabled,c=i.labelDate;l||r.handleDayMouseEnter(Bi(c))},r.handleMonthNavigation=function(n,i){var l,c,u,f;(c=(l=r.props).setPreSelection)===null||c===void 0||c.call(l,i),(f=(u=r.MONTH_REFS[n])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus()},r.handleKeyboardNavigation=function(n,i,l){var c,u=r.props,f=u.selected,m=u.preSelection,h=u.setPreSelection,x=u.minDate,v=u.maxDate,g=u.showFourColumnMonthYearPicker,S=u.showTwoColumnMonthYearPicker;if(m){var y=h5(g,S),w=r.getVerticalOffset(y),C=(c=zb[y])===null||c===void 0?void 0:c.grid,k=function(I,O,z){var F,B,E=O,J=z;switch(I){case _e.ArrowRight:E=Ma(O,Um),J=z===11?0:z+Um;break;case _e.ArrowLeft:E=ql(O,Um),J=z===0?11:z-Um;break;case _e.ArrowUp:E=ql(O,w),J=!((F=C?.[0])===null||F===void 0)&&F.includes(z)?z+12-w:z-w;break;case _e.ArrowDown:E=Ma(O,w),J=!((B=C?.[C.length-1])===null||B===void 0)&&B.includes(z)?z-12+w:z+w;break}return{newCalculatedDate:E,newCalculatedMonth:J}},A=function(I,O,z){for(var F=40,B=I,E=!1,J=0,X=k(B,O,z),re=X.newCalculatedDate,L=X.newCalculatedMonth;!E;){if(J>=F){re=O,L=z;break}if(x&&re<x){B=_e.ArrowRight;var U=k(B,re,L);re=U.newCalculatedDate,L=U.newCalculatedMonth}if(v&&re>v){B=_e.ArrowLeft;var U=k(B,re,L);re=U.newCalculatedDate,L=U.newCalculatedMonth}if(iie(re,r.props)){var U=k(B,re,L);re=U.newCalculatedDate,L=U.newCalculatedMonth}else E=!0;J++}return{newCalculatedDate:re,newCalculatedMonth:L}};if(i===_e.Enter){r.isMonthDisabled(l)||(r.onMonthClick(n,l),h?.(f));return}var M=A(i,m,l),D=M.newCalculatedDate,T=M.newCalculatedMonth;switch(i){case _e.ArrowRight:case _e.ArrowLeft:case _e.ArrowUp:case _e.ArrowDown:r.handleMonthNavigation(T,D);break}}},r.getVerticalOffset=function(n){var i,l;return(l=(i=zb[n])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&l!==void 0?l:0},r.onMonthKeyDown=function(n,i){var l=r.props,c=l.disabledKeyboardNavigation,u=l.handleOnMonthKeyDown,f=n.key;f!==_e.Tab&&n.preventDefault(),c||r.handleKeyboardNavigation(n,f,i),u&&u(n)},r.onQuarterClick=function(n,i){var l=Jo(r.props.day,i);$m(l,r.props)||r.handleDayClick(r5(l),n)},r.onQuarterMouseEnter=function(n){var i=Jo(r.props.day,n);$m(i,r.props)||r.handleDayMouseEnter(r5(i))},r.handleQuarterNavigation=function(n,i){var l,c,u,f;r.isDisabled(i)||r.isExcluded(i)||((c=(l=r.props).setPreSelection)===null||c===void 0||c.call(l,i),(f=(u=r.QUARTER_REFS[n-1])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus())},r.onQuarterKeyDown=function(n,i){var l,c,u=n.key;if(!r.props.disabledKeyboardNavigation)switch(u){case _e.Enter:r.onQuarterClick(n,i),(c=(l=r.props).setPreSelection)===null||c===void 0||c.call(l,r.props.selected);break;case _e.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(i===4?1:i+1,xw(r.props.preSelection,1));break;case _e.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(i===1?4:i-1,aI(r.props.preSelection));break}},r.isMonthDisabledForLabelDate=function(n){var i,l=r.props,c=l.day,u=l.disabled,f=l.minDate,m=l.maxDate,h=l.excludeDates,x=l.includeDates,v=Tn(c,n);return u?{isDisabled:!0,labelDate:Tn(c,n)}:{isDisabled:(i=(f||m||h||x)&&yI(v,r.props))!==null&&i!==void 0?i:!1,labelDate:v}},r.isMonthDisabled=function(n){var i=r.isMonthDisabledForLabelDate(n).isDisabled;return i},r.getMonthClassNames=function(n){var i=r.props,l=i.day,c=i.startDate,u=i.endDate,f=i.preSelection,m=i.monthClassName,h=m?m(Tn(l,n)):void 0,x=r.getSelection();return ut("react-datepicker__month-text","react-datepicker__month-".concat(n),h,{"react-datepicker__month-text--disabled":r.isMonthDisabled(n),"react-datepicker__month-text--selected":x?r.isSelectMonthInList(l,n,x):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&f&&r.isSelectedMonth(l,n,f)&&!r.isMonthSelected()&&!r.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":c&&u?Bm(c,u,n,l):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(n),"react-datepicker__month-text--range-end":r.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":r.isCurrentMonth(l,n)})},r.getTabIndex=function(n){if(r.props.preSelection==null)return"-1";var i=gn(r.props.preSelection),l=r.isMonthDisabledForLabelDate(i).isDisabled,c=n===i&&!(l||r.props.disabledKeyboardNavigation)?"0":"-1";return c},r.getQuarterTabIndex=function(n){if(r.props.preSelection==null)return"-1";var i=Rs(r.props.preSelection),l=$m(r.props.day,r.props),c=n===i&&!(l||r.props.disabledKeyboardNavigation)?"0":"-1";return c},r.getAriaLabel=function(n){var i=r.props,l=i.chooseDayAriaLabelPrefix,c=l===void 0?"Choose":l,u=i.disabledDayAriaLabelPrefix,f=u===void 0?"Not available":u,m=i.day,h=i.locale,x=Tn(m,n),v=r.isDisabled(x)||r.isExcluded(x)?f:c;return"".concat(v," ").concat(Qt(x,"MMMM yyyy",h))},r.getQuarterClassNames=function(n){var i=r.props,l=i.day,c=i.startDate,u=i.endDate,f=i.minDate,m=i.maxDate,h=i.excludeDates,x=i.includeDates,v=i.filterDate,g=i.preSelection,S=i.disabledKeyboardNavigation,y=i.disabled,w=(f||m||h||x||v||y)&&$m(Jo(l,n),r.props),C=r.getSelection();return ut("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":w,"react-datepicker__quarter-text--selected":C?r.isSelectQuarterInList(l,n,C):void 0,"react-datepicker__quarter-text--keyboard-selected":!S&&g&&r.isSelectedQuarter(l,n,g)&&!r.isQuarterSelected()&&!w,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":c&&u?Hm(c,u,n,l):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":r.isCurrentQuarter(l,n)})},r.getMonthContent=function(n){var i=r.props,l=i.showFullMonthYearPicker,c=i.renderMonthContent,u=i.locale,f=i.day,m=bI(n,u),h=kw(n,u);return c?c(n,m,h,f):l?h:m},r.getQuarterContent=function(n){var i,l=r.props,c=l.renderQuarterContent,u=l.locale,f=aie(n,u);return(i=c?.(n,f))!==null&&i!==void 0?i:f},r.renderMonths=function(){var n,i=r.props,l=i.showTwoColumnMonthYearPicker,c=i.showFourColumnMonthYearPicker,u=i.day,f=i.selected,m=(n=zb[h5(c,l)])===null||n===void 0?void 0:n.grid;return m?.map(function(h,x){return pe.createElement("div",{className:"react-datepicker__month-wrapper",key:x},h.map(function(v,g){return pe.createElement("div",{ref:r.MONTH_REFS[v],key:g,onClick:function(S){r.onMonthClick(S,v)},onKeyDown:function(S){SI(S)&&(S.preventDefault(),S.key=_e.Enter),r.onMonthKeyDown(S,v)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(v)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(v)}:void 0,tabIndex:Number(r.getTabIndex(v)),className:r.getMonthClassNames(v),"aria-disabled":r.isMonthDisabled(v),role:"option","aria-label":r.getAriaLabel(v),"aria-current":r.isCurrentMonth(u,v)?"date":void 0,"aria-selected":f?r.isSelectedMonth(u,v,f):void 0},r.getMonthContent(v))}))})},r.renderQuarters=function(){var n=r.props,i=n.day,l=n.selected,c=[1,2,3,4];return pe.createElement("div",{className:"react-datepicker__quarter-wrapper"},c.map(function(u,f){return pe.createElement("div",{key:f,ref:r.QUARTER_REFS[f],role:"option",onClick:function(m){r.onQuarterClick(m,u)},onKeyDown:function(m){r.onQuarterKeyDown(m,u)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(u)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(u)}:void 0,className:r.getQuarterClassNames(u),"aria-selected":l?r.isSelectedQuarter(i,u,l):void 0,tabIndex:Number(r.getQuarterTabIndex(u)),"aria-current":r.isCurrentQuarter(i,u)?"date":void 0},r.getQuarterContent(u))}))},r.getClassNames=function(){var n=r.props,i=n.selectingDate,l=n.selectsStart,c=n.selectsEnd,u=n.showMonthYearPicker,f=n.showQuarterYearPicker,m=n.showWeekPicker;return ut("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(l||c)},{"react-datepicker__monthPicker":u},{"react-datepicker__quarterPicker":f},{"react-datepicker__weekPicker":m})},r}return t.prototype.getSelection=function(){var r=this.props,n=r.selected,i=r.selectedDates,l=r.selectsMultiple;if(l)return i;if(n)return[n]},t.prototype.render=function(){var r=this.props,n=r.showMonthYearPicker,i=r.showQuarterYearPicker,l=r.day,c=r.ariaLabelPrefix,u=c===void 0?"Month ":c,f=u?u.trim()+" ":"",m=vn(l)?"".concat(f).concat(Qt(l,"MMMM, yyyy",this.props.locale)):"",h=n||i;return h?pe.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":m,role:"listbox"},n?this.renderMonths():this.renderQuarters()):pe.createElement("div",{role:"table"},this.props.dayNamesHeader&&pe.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),this.props.monthHeader&&pe.createElement("div",{role:"rowgroup"},this.props.monthHeader),pe.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":m,role:"rowgroup"},this.renderWeeks()),this.props.monthFooter&&pe.createElement("div",{role:"rowgroup"},this.props.monthFooter))},t})(j.Component),bie=(function(e){Kr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.monthOptionButtonsRef={},r.isSelectedMonth=function(n){return r.props.month===n},r.handleOptionKeyDown=function(n,i){var l;switch(i.key){case"Enter":i.preventDefault(),r.onChange(n);break;case"Escape":i.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{i.preventDefault();var c=(n+(i.key==="ArrowUp"?-1:1)+r.props.monthNames.length)%r.props.monthNames.length;(l=r.monthOptionButtonsRef[c])===null||l===void 0||l.focus();break}}},r.renderOptions=function(){return r.monthOptionButtonsRef={},r.props.monthNames.map(function(n,i){return pe.createElement("div",{ref:function(l){r.monthOptionButtonsRef[i]=l,r.isSelectedMonth(i)&&l?.focus()},role:"button",tabIndex:0,className:r.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:r.onChange.bind(r,i),onKeyDown:r.handleOptionKeyDown.bind(r,i),"aria-selected":r.isSelectedMonth(i)?"true":void 0},r.isSelectedMonth(i)?pe.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},r.onChange=function(n){return r.props.onChange(n)},r.handleClickOutside=function(){return r.props.onCancel()},r}return t.prototype.render=function(){return pe.createElement(Tx,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t})(j.Component),yie=(function(e){Kr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(n){return n.map(function(i,l){return pe.createElement("option",{key:i,value:l},i)})},r.renderSelectMode=function(n){return pe.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(i){return r.onChange(parseInt(i.target.value))}},r.renderSelectOptions(n))},r.renderReadView=function(n,i){return pe.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},pe.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),pe.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[r.props.month]))},r.renderDropdown=function(n){return pe.createElement(bie,ct({key:"dropdown"},r.props,{monthNames:n,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(n){var i=r.state.dropdownVisible,l=[r.renderReadView(!i,n)];return i&&l.unshift(r.renderDropdown(n)),l},r.onChange=function(n){r.toggleDropdown(),n!==r.props.month&&r.props.onChange(n)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(l){return bI(l,r.props.locale)}:function(l){return kw(l,r.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(n);break;case"select":i=this.renderSelectMode(n);break}return pe.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},t})(j.Component),x5=5;function jie(e,t,r){for(var n=[],i=e??Ys(r,x5),l=t??Sa(r,x5),c=Bi(i),u=Bi(l);!zi(c,u);)n.push(jt(c)),c=Ma(c,1);return n}var wie=(function(e){Kr(t,e);function t(r){var n=e.call(this,r)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(i){var l=r1(i),c=Ya(n.props.date,i)&&nn(n.props.date,i);return pe.createElement("div",{className:c?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:l,onClick:n.onChange.bind(n,l),"aria-selected":c?"true":void 0},c?pe.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Qt(i,n.props.dateFormat,n.props.locale))})},n.onChange=function(i){return n.props.onChange(i)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:jie(n.props.minDate,n.props.maxDate,n.props.date)},n}return t.prototype.render=function(){var r=ut({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return pe.createElement(Tx,{className:r,onClickOutside:this.handleClickOutside},this.renderOptions())},t})(j.Component),v5=5,Nie=(function(e){Kr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n,i,l=(n=r.props.minDate)!==null&&n!==void 0?n:Ys(r.props.date,v5),c=(i=r.props.maxDate)!==null&&i!==void 0?i:Sa(r.props.date,v5),u=Bi(l),f=Bi(c),m=[];!zi(u,f);){var h=r1(u);m.push(pe.createElement("option",{key:h,value:h},Qt(u,r.props.dateFormat,r.props.locale))),u=Ma(u,1)}return m},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return pe.createElement("select",{value:r1(Bi(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){var i=Qt(r.props.date,r.props.dateFormat,r.props.locale);return pe.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},pe.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),pe.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},r.renderDropdown=function(){return pe.createElement(wie,ct({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,i=[r.renderReadView(!n)];return n&&i.unshift(r.renderDropdown()),i},r.onChange=function(n){r.toggleDropdown();var i=jt(n);Ya(r.props.date,i)&&nn(r.props.date,i)||r.props.onChange(i)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return pe.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)},t})(j.Component),Sie=(function(e){Kr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={height:null},r.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,i,l;r.list&&(r.list.scrollTop=(l=r.centerLi&&t.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-((i=(n=r.header)===null||n===void 0?void 0:n.clientHeight)!==null&&i!==void 0?i:0):r.list.clientHeight,r.centerLi))!==null&&l!==void 0?l:0)})},r.handleClick=function(n){var i,l;(r.props.minTime||r.props.maxTime)&&l5(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&s5(n,r.props)||(l=(i=r.props).onChange)===null||l===void 0||l.call(i,n)},r.isSelectedTime=function(n){var i=Ll(r.props.selected);return i&&NI(i,n)},r.isDisabledTime=function(n){return(r.props.minTime||r.props.maxTime)&&l5(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&s5(n,r.props)},r.liClasses=function(n){var i,l=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(n):void 0];return r.isSelectedTime(n)&&l.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(n)&&l.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(Jr(n)*3600+en(n)*60+zs(n))%(((i=r.props.intervals)!==null&&i!==void 0?i:t.defaultProps.intervals)*60)!==0&&l.push("react-datepicker__time-list-item--injected"),l.join(" ")},r.handleOnKeyDown=function(n,i){var l,c;n.key===_e.Space&&(n.preventDefault(),n.key=_e.Enter),(n.key===_e.ArrowUp||n.key===_e.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===_e.ArrowDown||n.key===_e.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===_e.Enter&&r.handleClick(i),(c=(l=r.props).handleOnKeyDown)===null||c===void 0||c.call(l,n)},r.renderTimes=function(){for(var n,i=[],l=typeof r.props.format=="string"?r.props.format:"p",c=(n=r.props.intervals)!==null&&n!==void 0?n:t.defaultProps.intervals,u=Ll(r.props.selected)||Ll(r.props.openToDate)||jt(),f=ad(u),m=r.props.injectTimes&&r.props.injectTimes.sort(function(w,C){return w.getTime()-C.getTime()}),h=60*mie(u),x=h/c,v=0;v<x;v++){var g=Ad(f,v*c);if(i.push(g),m){var S=fie(f,g,v,c,m);i=i.concat(S)}}var y=i.reduce(function(w,C){return C.getTime()<=u.getTime()?C:w},i[0]);return i.map(function(w){return pe.createElement("li",{key:w.valueOf(),onClick:r.handleClick.bind(r,w),className:r.liClasses(w),ref:function(C){w===y&&(r.centerLi=C)},onKeyDown:function(C){r.handleOnKeyDown(C,w)},tabIndex:w===y?0:-1,role:"option","aria-selected":r.isSelectedTime(w)?"true":void 0,"aria-disabled":r.isDisabledTime(w)?"true":void 0},Qt(w,l,r.props.locale))})},r.renderTimeCaption=function(){return r.props.showTimeCaption===!1?pe.createElement(pe.Fragment,null):pe.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(r.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){r.header=n}},pe.createElement("div",{className:"react-datepicker-time__header"},r.props.timeCaption))},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var r;(r=this.resizeObserver)===null||r===void 0||r.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var r=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){r.updateContainerHeight()}),this.resizeObserver.observe(n))},t.prototype.updateContainerHeight=function(){if(this.props.monthRef&&this.header){var r=this.props.monthRef.clientHeight-this.header.clientHeight;this.state.height!==r&&this.setState({height:r})}},t.prototype.render=function(){var r=this,n,i=this.state.height;return pe.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),pe.createElement("div",{className:"react-datepicker__time"},pe.createElement("div",{className:"react-datepicker__time-box"},pe.createElement("ul",{className:"react-datepicker__time-list",ref:function(l){r.list=l},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(r,n){return n.offsetTop-(r/2-n.clientHeight/2)},t})(j.Component),g5=3,Cie=(function(e){Kr(t,e);function t(r){var n=e.call(this,r)||this;return n.YEAR_REFS=Za([],Array(n.props.yearItemNumber),!0).map(function(){return j.createRef()}),n.isDisabled=function(i){return na(i,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(i){return Mw(i,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var i;return(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection},n.updateFocusOnPaginate=function(i){var l=function(){var c,u;(u=(c=n.YEAR_REFS[i])===null||c===void 0?void 0:c.current)===null||u===void 0||u.focus()};window.requestAnimationFrame(l)},n.handleYearClick=function(i,l){n.props.onDayClick&&n.props.onDayClick(i,l)},n.handleYearNavigation=function(i,l){var c,u,f,m,h=n.props,x=h.date,v=h.yearItemNumber;if(!(x===void 0||v===void 0)){var g=Ri(x,v).startPeriod;n.isDisabled(l)||n.isExcluded(l)||((u=(c=n.props).setPreSelection)===null||u===void 0||u.call(c,l),i-g<0?n.updateFocusOnPaginate(v-(g-i)):i-g>=v?n.updateFocusOnPaginate(Math.abs(v-(i-g))):(m=(f=n.YEAR_REFS[i-g])===null||f===void 0?void 0:f.current)===null||m===void 0||m.focus())}},n.isSameDay=function(i,l){return vt(i,l)},n.isCurrentYear=function(i){return i===mt(jt())},n.isRangeStart=function(i){return n.props.startDate&&n.props.endDate&&Ya(Ua(jt(),i),n.props.startDate)},n.isRangeEnd=function(i){return n.props.startDate&&n.props.endDate&&Ya(Ua(jt(),i),n.props.endDate)},n.isInRange=function(i){return qm(i,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(i){var l=n.props,c=l.selectsStart,u=l.selectsEnd,f=l.selectsRange,m=l.startDate,h=l.endDate;return!(c||u||f)||!n.selectingDate()?!1:c&&h?qm(i,n.selectingDate(),h):u&&m||f&&m&&!h?qm(i,m,n.selectingDate()):!1},n.isSelectingRangeStart=function(i){var l;if(!n.isInSelectingRange(i))return!1;var c=n.props,u=c.startDate,f=c.selectsStart,m=Ua(jt(),i);return f?Ya(m,(l=n.selectingDate())!==null&&l!==void 0?l:null):Ya(m,u??null)},n.isSelectingRangeEnd=function(i){var l;if(!n.isInSelectingRange(i))return!1;var c=n.props,u=c.endDate,f=c.selectsEnd,m=c.selectsRange,h=Ua(jt(),i);return f||m?Ya(h,(l=n.selectingDate())!==null&&l!==void 0?l:null):Ya(h,u??null)},n.isKeyboardSelected=function(i){if(!(n.props.disabledKeyboardNavigation||n.props.date===void 0||n.props.preSelection==null)){var l=n.props,c=l.minDate,u=l.maxDate,f=l.excludeDates,m=l.includeDates,h=l.filterDate,x=l.selected,v=id(Ua(n.props.date,i)),g=(c||u||f||m||h)&&jp(i,n.props),S=!!x&&vt(v,id(x)),y=vt(v,id(n.props.preSelection));return!n.props.inline&&!S&&y&&!g}},n.isSelectedYear=function(i){var l=n.props,c=l.selectsMultiple,u=l.selected,f=l.selectedDates;return c?f?.some(function(m){return i===mt(m)}):!!u&&i===mt(u)},n.onYearClick=function(i,l){var c=n.props.date;c!==void 0&&n.handleYearClick(id(Ua(c,l)),i)},n.onYearKeyDown=function(i,l){var c,u,f=i.key,m=n.props,h=m.date,x=m.yearItemNumber,v=m.handleOnKeyDown;if(f!==_e.Tab&&i.preventDefault(),!n.props.disabledKeyboardNavigation)switch(f){case _e.Enter:if(n.props.selected==null)break;n.onYearClick(i,l),(u=(c=n.props).setPreSelection)===null||u===void 0||u.call(c,n.props.selected);break;case _e.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(l+1,Sa(n.props.preSelection,1));break;case _e.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(l-1,Ys(n.props.preSelection,1));break;case _e.ArrowUp:{if(h===void 0||x===void 0||n.props.preSelection==null)break;var g=Ri(h,x).startPeriod,S=g5,y=l-S;if(y<g){var w=x%S;l>=g&&l<g+w?S=w:S+=w,y=l-S}n.handleYearNavigation(y,Ys(n.props.preSelection,S));break}case _e.ArrowDown:{if(h===void 0||x===void 0||n.props.preSelection==null)break;var C=Ri(h,x).endPeriod,S=g5,y=l+S;if(y>C){var w=x%S;l<=C&&l>C-w?S=w:S+=w,y=l+S}n.handleYearNavigation(y,Sa(n.props.preSelection,S));break}}v&&v(i)},n.getYearClassNames=function(i){var l=n.props,c=l.date,u=l.disabled,f=l.minDate,m=l.maxDate,h=l.excludeDates,x=l.includeDates,v=l.filterDate,g=l.yearClassName;return ut("react-datepicker__year-text","react-datepicker__year-".concat(i),c?g?.(Ua(c,i)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(i),"react-datepicker__year-text--disabled":(f||m||h||x||v||u)&&jp(i,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(i),"react-datepicker__year-text--range-start":n.isRangeStart(i),"react-datepicker__year-text--range-end":n.isRangeEnd(i),"react-datepicker__year-text--in-range":n.isInRange(i),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(i),"react-datepicker__year-text--today":n.isCurrentYear(i)})},n.getYearTabIndex=function(i){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var l=mt(n.props.preSelection),c=jp(i,n.props);return i===l&&!c?"0":"-1"},n.getYearContent=function(i){return n.props.renderYearContent?n.props.renderYearContent(i):i},n}return t.prototype.render=function(){var r=this,n=[],i=this.props,l=i.date,c=i.yearItemNumber,u=i.onYearMouseEnter,f=i.onYearMouseLeave;if(l===void 0)return null;for(var m=Ri(l,c),h=m.startPeriod,x=m.endPeriod,v=function(y){n.push(pe.createElement("div",{ref:g.YEAR_REFS[y-h],onClick:function(w){r.onYearClick(w,y)},onKeyDown:function(w){SI(w)&&(w.preventDefault(),w.key=_e.Enter),r.onYearKeyDown(w,y)},tabIndex:Number(g.getYearTabIndex(y)),className:g.getYearClassNames(y),onMouseEnter:g.props.usePointerEvent?void 0:function(w){return u(w,y)},onPointerEnter:g.props.usePointerEvent?function(w){return u(w,y)}:void 0,onMouseLeave:g.props.usePointerEvent?void 0:function(w){return f(w,y)},onPointerLeave:g.props.usePointerEvent?function(w){return f(w,y)}:void 0,key:y,"aria-current":g.isCurrentYear(y)?"date":void 0},g.getYearContent(y)))},g=this,S=h;S<=x;S++)v(S);return pe.createElement("div",{className:"react-datepicker__year"},pe.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},t})(j.Component);function Aie(e,t,r,n){for(var i=[],l=0;l<2*t+1;l++){var c=e+t-l,u=!0;r&&(u=mt(r)<=c),n&&u&&(u=mt(n)>=c),u&&i.push(c)}return i}var kie=(function(e){Kr(t,e);function t(r){var n=e.call(this,r)||this;n.yearOptionButtonsRef={},n.handleOptionKeyDown=function(u,f){var m;switch(f.key){case"Enter":f.preventDefault(),n.onChange(u);break;case"Escape":f.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":{f.preventDefault();var h=u+(f.key==="ArrowUp"?1:-1);n.yearOptionButtonsRef[h]&&((m=n.yearOptionButtonsRef[h])===null||m===void 0||m.focus());break}}},n.renderOptions=function(){n.yearOptionButtonsRef={};var u=n.props.year,f=n.state.yearsList.map(function(x){return pe.createElement("div",{ref:function(v){n.yearOptionButtonsRef[x]=v,x===u&&v?.focus()},role:"button",tabIndex:0,className:u===x?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:x,onClick:n.onChange.bind(n,x),onKeyDown:n.handleOptionKeyDown.bind(n,x),"aria-selected":u===x?"true":void 0},u===x?pe.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",x)}),m=n.props.minDate?mt(n.props.minDate):null,h=n.props.maxDate?mt(n.props.maxDate):null;return(!h||!n.state.yearsList.find(function(x){return x===h}))&&f.unshift(pe.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},pe.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!m||!n.state.yearsList.find(function(x){return x===m}))&&f.push(pe.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},pe.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),f},n.onChange=function(u){n.props.onChange(u)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(u){var f=n.state.yearsList.map(function(m){return m+u});n.setState({yearsList:f})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var i=r.yearDropdownItemNumber,l=r.scrollableYearDropdown,c=i||(l?10:5);return n.state={yearsList:Aie(n.props.year,c,n.props.minDate,n.props.maxDate)},n.dropdownRef=j.createRef(),n}return t.prototype.componentDidMount=function(){var r=this.dropdownRef.current;if(r){var n=r.children?Array.from(r.children):null,i=n?n.find(function(l){return l.ariaSelected}):null;r.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}},t.prototype.render=function(){var r=ut({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return pe.createElement(Tx,{className:r,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t})(j.Component),Mie=(function(e){Kr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=r.props.minDate?mt(r.props.minDate):1900,i=r.props.maxDate?mt(r.props.maxDate):2100,l=[],c=n;c<=i;c++)l.push(pe.createElement("option",{key:c,value:c},c));return l},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return pe.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){return pe.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:r.toggleDropdown},pe.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),pe.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return pe.createElement(kie,ct({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,i=[r.renderReadView(!n)];return n&&i.unshift(r.renderDropdown()),i},r.onChange=function(n){r.toggleDropdown(),n!==r.props.year&&r.props.onChange(n)},r.toggleDropdown=function(n){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,n)})},r.handleYearChange=function(n,i){var l;(l=r.onSelect)===null||l===void 0||l.call(r,n,i),r.setOpen()},r.onSelect=function(n,i){var l,c;(c=(l=r.props).onSelect)===null||c===void 0||c.call(l,n,i)},r.setOpen=function(){var n,i;(i=(n=r.props).setOpen)===null||i===void 0||i.call(n,!0)},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return pe.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)},t})(j.Component),Die=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],CI="react-datepicker-ignore-onclickoutside",Eie=function(e){var t=(e.className||"").split(/\s+/);return Die.some(function(r){return t.indexOf(r)>=0})},_ie=(function(e){Kr(t,e);function t(r){var n=e.call(this,r)||this;return n.monthContainer=void 0,n.handleClickOutside=function(i){n.props.onClickOutside(i)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(i){var l,c;Eie(i.target)&&((c=(l=n.props).onDropdownFocus)===null||c===void 0||c.call(l,i))},n.getDateInView=function(){var i=n.props,l=i.preSelection,c=i.selected,u=i.openToDate,f=jI(n.props),m=wI(n.props),h=jt(),x=u||c||l;return x||(f&&Xa(h,f)?f:m&&zi(h,m)?m:h)},n.increaseMonth=function(){n.setState(function(i){var l=i.date;return{date:Ma(l,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(i){var l=i.date;return{date:ql(l,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(i,l,c){n.props.onSelect(i,l,c),n.props.setPreSelection&&n.props.setPreSelection(i)},n.handleDayMouseEnter=function(i){n.setState({selectingDate:i}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(i)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(i,l){n.setState({selectingDate:Ua(jt(),l)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(i,l)},n.handleYearMouseLeave=function(i,l){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(i,l)},n.handleYearChange=function(i){var l,c,u,f;(c=(l=n.props).onYearChange)===null||c===void 0||c.call(l,i),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(i),(f=(u=n.props).setOpen)===null||f===void 0||f.call(u,!0)),n.props.setPreSelection&&n.props.setPreSelection(i)},n.getEnabledPreSelectionDateForMonth=function(i){if(!na(i,n.props))return i;for(var l=Bi(i),c=eie(i),u=ute(c,l),f=null,m=0;m<=u;m++){var h=Na(l,m);if(!na(h,n.props)){f=h;break}}return f},n.handleMonthChange=function(i){var l,c,u,f=(l=n.getEnabledPreSelectionDateForMonth(i))!==null&&l!==void 0?l:i;n.handleCustomMonthChange(f),n.props.adjustDateOnChange&&(n.props.onSelect(f),(u=(c=n.props).setOpen)===null||u===void 0||u.call(c,!0)),n.props.setPreSelection&&n.props.setPreSelection(f)},n.handleCustomMonthChange=function(i){var l,c;(c=(l=n.props).onMonthChange)===null||c===void 0||c.call(l,i),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(i){n.handleYearChange(i),n.handleMonthChange(i)},n.changeYear=function(i){n.setState(function(l){var c=l.date;return{date:Ua(c,Number(i))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(i){n.setState(function(l){var c=l.date;return{date:Tn(c,Number(i))}},function(){var l,c;n.handleMonthChange(n.state.date),(c=(l=n.props).onMonthSelectedInChange)===null||c===void 0||c.call(l,0)})},n.changeMonthYear=function(i){n.setState(function(l){var c=l.date;return{date:Ua(Tn(c,gn(i)),mt(i))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(i,l){if(i===void 0&&(i=n.state.date),l===void 0&&(l=0),!vn(i))return[];var c=n.props.disabled,u=Bs(i,n.props.locale,n.props.calendarStartDay),f=[];return n.props.showWeekNumbers&&f.push(pe.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(c?"react-datepicker__day-name--disabled":""),role:"columnheader"},pe.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),pe.createElement("span",{"aria-hidden":"true"},n.props.weekLabel||"#"))),f.concat([0,1,2,3,4,5,6].map(function(m){var h=Na(u,m),x=n.formatWeekday(h,n.props.locale),v=Qt(h,"EEEE",n.props.locale),g=n.props.weekDayClassName?n.props.weekDayClassName(h):void 0;if(n.props.renderCustomDayName){var S=n.props.renderCustomDayName({day:h,shortName:x,fullName:v,locale:n.props.locale,customDayNameCount:l});return pe.createElement("div",{key:m,role:"columnheader",className:ut("react-datepicker__day-name",g,c?"react-datepicker__day-name--disabled":"")},S)}return pe.createElement("div",{key:m,role:"columnheader",className:ut("react-datepicker__day-name",g,c?"react-datepicker__day-name--disabled":"")},pe.createElement("span",{className:"react-datepicker__sr-only"},v),pe.createElement("span",{"aria-hidden":"true"},x))}))},n.formatWeekday=function(i,l){return n.props.formatWeekDay?tie(i,n.props.formatWeekDay,l):n.props.useWeekdaysShort?nie(i,l):rie(i,l)},n.decreaseYear=function(){n.setState(function(i){var l,c=i.date;return{date:Ys(c,n.props.showYearPicker?(l=n.props.yearItemNumber)!==null&&l!==void 0?l:t.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var i,l,c;if(!n.props.renderCustomHeader){var u=(i=n.props.monthsShown)!==null&&i!==void 0?i:t.defaultProps.monthsShown,f=n.props.showPreviousMonths?u-1:0,m=(l=n.props.monthSelectedIn)!==null&&l!==void 0?l:f,h=ql(n.state.date,m),x;switch(!0){case n.props.disabled:x=!0;break;case n.props.showMonthYearPicker:x=u5(n.state.date,n.props);break;case n.props.showYearPicker:x=oie(n.state.date,n.props);break;case n.props.showQuarterYearPicker:x=sie(n.state.date,n.props);break;default:x=o5(h,n.props);break}if(!(!((c=n.props.forceShowMonthNavigation)!==null&&c!==void 0?c:t.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&x||n.props.showTimeSelectOnly)){var v=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],g=["react-datepicker__navigation","react-datepicker__navigation--previous"],S=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(S=n.decreaseYear),x&&n.props.showDisabledMonthNavigation&&(g.push("react-datepicker__navigation--previous--disabled"),S=void 0);var y=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,w=n.props,C=w.previousMonthButtonLabel,k=C===void 0?t.defaultProps.previousMonthButtonLabel:C,A=w.previousYearButtonLabel,M=A===void 0?t.defaultProps.previousYearButtonLabel:A,D=n.props,T=D.previousMonthAriaLabel,I=T===void 0?typeof k=="string"?k:"Previous Month":T,O=D.previousYearAriaLabel,z=O===void 0?typeof M=="string"?M:"Previous Year":O;return pe.createElement("button",{type:"button",className:g.join(" "),onClick:S,onKeyDown:n.props.handleOnKeyDown,"aria-label":y?z:I},pe.createElement("span",{className:v.join(" ")},y?M:k))}}},n.increaseYear=function(){n.setState(function(i){var l,c=i.date;return{date:Sa(c,n.props.showYearPicker?(l=n.props.yearItemNumber)!==null&&l!==void 0?l:t.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var i;if(!n.props.renderCustomHeader){var l;switch(!0){case n.props.disabled:l=!0;break;case n.props.showMonthYearPicker:l=d5(n.state.date,n.props);break;case n.props.showYearPicker:l=cie(n.state.date,n.props);break;case n.props.showQuarterYearPicker:l=lie(n.state.date,n.props);break;default:l=c5(n.state.date,n.props);break}if(!(!((i=n.props.forceShowMonthNavigation)!==null&&i!==void 0?i:t.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&l||n.props.showTimeSelectOnly)){var c=["react-datepicker__navigation","react-datepicker__navigation--next"],u=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&c.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&c.push("react-datepicker__navigation--next--with-today-button");var f=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(f=n.increaseYear),l&&n.props.showDisabledMonthNavigation&&(c.push("react-datepicker__navigation--next--disabled"),f=void 0);var m=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,h=n.props,x=h.nextMonthButtonLabel,v=x===void 0?t.defaultProps.nextMonthButtonLabel:x,g=h.nextYearButtonLabel,S=g===void 0?t.defaultProps.nextYearButtonLabel:g,y=n.props,w=y.nextMonthAriaLabel,C=w===void 0?typeof v=="string"?v:"Next Month":w,k=y.nextYearAriaLabel,A=k===void 0?typeof S=="string"?S:"Next Year":k;return pe.createElement("button",{type:"button",className:c.join(" "),onClick:f,onKeyDown:n.props.handleOnKeyDown,"aria-label":m?A:C},pe.createElement("span",{className:u.join(" ")},m?S:v))}}},n.renderCurrentMonth=function(i){i===void 0&&(i=n.state.date);var l=["react-datepicker__current-month"];return n.props.showYearDropdown&&l.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&l.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&l.push("react-datepicker__current-month--hasMonthYearDropdown"),pe.createElement("h2",{className:l.join(" ")},vn(i)?Qt(i,n.props.dateFormat,n.props.locale):"")},n.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showYearDropdown||i))return pe.createElement(Mie,ct({},t.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:mt(n.state.date)}))},n.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthDropdown||i))return pe.createElement(yie,ct({},t.defaultProps,n.props,{month:gn(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthYearDropdown||i))return pe.createElement(Nie,ct({},t.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(i){n.props.onSelect(n5(),i),n.props.setPreSelection&&n.props.setPreSelection(n5())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return pe.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDayNamesHeader=function(i,l){return l===void 0&&(l=0),pe.createElement("div",{className:"react-datepicker__day-names",role:"row"},n.header(i,l))},n.renderDefaultHeader=function(i){var l=i.monthDate,c=i.i,u=pe.createElement("div",{className:ut("react-datepicker__header",{"react-datepicker__header--has-time-select":n.props.showTimeSelect,"react-datepicker__header--middle":n.props.monthHeaderPosition==="middle","react-datepicker__header--bottom":n.props.monthHeaderPosition==="bottom"})},n.renderCurrentMonth(l),pe.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(c!==0),n.renderMonthYearDropdown(c!==0),n.renderYearDropdown(c!==0)));return n.props.monthHeaderPosition==="top"?u:pe.createElement("div",{className:"react-datepicker__header-wrapper"},n.renderPreviousButton()||null,n.renderNextButton()||null,u)},n.renderCustomHeader=function(i){var l,c,u=i.monthDate,f=i.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var m=n.props,h=m.showYearPicker,x=m.yearItemNumber,v;if(h){var g=Ri(u,x),S=g.startPeriod,y=g.endPeriod;v={startYear:S,endYear:y}}var w=o5(n.state.date,n.props),C=c5(n.state.date,n.props),k=u5(n.state.date,n.props),A=d5(n.state.date,n.props);return pe.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(c=(l=n.props).renderCustomHeader)===null||c===void 0?void 0:c.call(l,ct(ct(ct({},n.state),h&&{visibleYearsRange:v}),{customHeaderCount:f,monthDate:u,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:w,nextMonthButtonDisabled:C,prevYearButtonDisabled:k,nextYearButtonDisabled:A})))},n.renderYearHeader=function(i){var l=i.monthDate,c=n.props,u=c.showYearPicker,f=c.yearItemNumber,m=f===void 0?t.defaultProps.yearItemNumber:f,h=Ri(l,m),x=h.startPeriod,v=h.endPeriod;return pe.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},u?"".concat(x," - ").concat(v):mt(l))},n.renderHeader=function(i){var l=i.monthDate,c=i.i,u=c===void 0?0:c,f={monthDate:l,i:u};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(f);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(f);default:return n.renderDefaultHeader(f)}},n.renderMonths=function(){var i,l;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var c=[],u=(i=n.props.monthsShown)!==null&&i!==void 0?i:t.defaultProps.monthsShown,f=n.props.showPreviousMonths?u-1:0,m=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Sa(n.state.date,f):ql(n.state.date,f),h=(l=n.props.monthSelectedIn)!==null&&l!==void 0?l:f,x=0;x<u;++x){var v=x-h+f,g=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Sa(m,v):Ma(m,v),S="month-".concat(x),y=x<u-1,w=x>0;c.push(pe.createElement("div",{key:S,ref:function(C){n.monthContainer=C??void 0},className:"react-datepicker__month-container"},n.props.monthHeaderPosition==="top"&&n.renderHeader({monthDate:g,i:x}),pe.createElement(gie,ct({},t.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:g,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:x,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:y,monthShowsDuplicateDaysStart:w,dayNamesHeader:n.renderDayNamesHeader(g,x),monthHeader:n.props.monthHeaderPosition==="middle"?n.renderHeader({monthDate:g,i:x}):void 0,monthFooter:n.props.monthHeaderPosition==="bottom"?n.renderHeader({monthDate:g,i:x}):void 0}))))}return c}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return pe.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),pe.createElement(Cie,ct({},t.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return pe.createElement(Sie,ct({},t.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var i,l;if(n.props.showTimeInput){if(n.props.selectsRange){var c=n.props,u=c.startDate,f=c.endDate,m=u?new Date(u):void 0,h=m&&vn(m)&&!!u,x=h?"".concat(Go(m.getHours()),":").concat(Go(m.getMinutes())):"",v=f?new Date(f):void 0,g=v&&vn(v)&&!!f,S=g?"".concat(Go(v.getHours()),":").concat(Go(v.getMinutes())):"";return pe.createElement(pe.Fragment,null,pe.createElement(Fb,ct({},t.defaultProps,n.props,{date:m,timeString:x,onChange:function(k){var A,M;(M=(A=n.props).onTimeChange)===null||M===void 0||M.call(A,k,"start")},timeInputLabel:((i=n.props.timeInputLabel)!==null&&i!==void 0?i:"Time")+" (Start)"})),pe.createElement(Fb,ct({},t.defaultProps,n.props,{date:v,timeString:S,onChange:function(k){var A,M;(M=(A=n.props).onTimeChange)===null||M===void 0||M.call(A,k,"end")},timeInputLabel:((l=n.props.timeInputLabel)!==null&&l!==void 0?l:"Time")+" (End)"})))}var y=n.props.selected?new Date(n.props.selected):void 0,w=y&&vn(y)&&!!n.props.selected,C=w?"".concat(Go(y.getHours()),":").concat(Go(y.getMinutes())):"";return pe.createElement(Fb,ct({},t.defaultProps,n.props,{date:y,timeString:C,onChange:function(k){var A,M;(M=(A=n.props).onTimeChange)===null||M===void 0||M.call(A,k)}}))}},n.renderAriaLiveRegion=function(){var i;if(!vn(n.state.date))return pe.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"});var l=Ri(n.state.date,(i=n.props.yearItemNumber)!==null&&i!==void 0?i:t.defaultProps.yearItemNumber),c=l.startPeriod,u=l.endPeriod,f;return n.props.showYearPicker?f="".concat(c," - ").concat(u):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?f=mt(n.state.date):f="".concat(kw(gn(n.state.date),n.props.locale)," ").concat(mt(n.state.date)),pe.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&f)},n.renderChildren=function(){if(n.props.children)return pe.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=j.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:CI,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:ef,monthHeaderPosition:"top"}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){r.setState({monthContainer:r.monthContainer})})())},t.prototype.componentDidUpdate=function(r){var n=this;if(this.props.preSelection&&vn(this.props.preSelection)&&(!vt(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var i=!nn(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!vt(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var r=this.props.container||Vae;return pe.createElement(Tx,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},pe.createElement("div",{style:{display:"contents"},ref:this.containerRef},pe.createElement(r,{className:ut("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.props.monthHeaderPosition==="top"&&this.renderPreviousButton(),this.props.monthHeaderPosition==="top"&&this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t})(j.Component),Oie=function(e){var t=e.icon,r=e.className,n=r===void 0?"":r,i=e.onClick,l="react-datepicker__calendar-icon";if(typeof t=="string")return pe.createElement("i",{className:"".concat(l," ").concat(t," ").concat(n),"aria-hidden":"true",onClick:i});if(pe.isValidElement(t)){var c=t;return pe.cloneElement(c,{className:"".concat(c.props.className||""," ").concat(l," ").concat(n),onClick:function(u){typeof c.props.onClick=="function"&&c.props.onClick(u),typeof i=="function"&&i(u)}})}return pe.createElement("svg",{className:"".concat(l," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},pe.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},AI=(function(e){Kr(t,e);function t(r){var n=e.call(this,r)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return I8.createPortal(this.props.children,this.el)},t})(j.Component),Tie="[tabindex], a, button, input, select, textarea",Pie=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},kI=(function(e){Kr(t,e);function t(r){var n=e.call(this,r)||this;return n.getTabChildren=function(){var i;return Array.prototype.slice.call((i=n.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(Tie),1,-1).filter(Pie)},n.handleFocusStart=function(){var i=n.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},n.handleFocusEnd=function(){var i=n.getTabChildren();i&&i.length>1&&i[0].focus()},n.tabLoopRef=j.createRef(),n}return t.prototype.render=function(){var r;return((r=this.props.enableTabLoop)!==null&&r!==void 0?r:t.defaultProps.enableTabLoop)?pe.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},pe.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,pe.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t})(j.Component);function Iie(e){function t(r){var n,i=typeof r.hidePopper=="boolean"?r.hidePopper:!0,l=j.useRef(null),c=Yae(ct({open:!i,whileElementsMounted:Nae,placement:r.popperPlacement,middleware:Za([Oae({padding:15}),_ae(10),Tae({element:l})],(n=r.popperModifiers)!==null&&n!==void 0?n:[],!0)},r.popperProps)),u=ct(ct({},r),{hidePopper:i,popperProps:ct(ct({},c),{arrowRef:l})});return pe.createElement(e,ct({},u))}return t.displayName="withFloating(".concat(e.displayName||e.name||"Component",")"),t}var Rie=function(e){var t=e.className,r=e.wrapperClassName,n=e.hidePopper,i=n===void 0?!0:n,l=e.popperComponent,c=e.targetComponent,u=e.enableTabLoop,f=e.popperOnKeyDown,m=e.portalId,h=e.portalHost,x=e.popperProps,v=e.showArrow,g=e.popperTargetRef,S=e.monthHeaderPosition;j.useEffect(function(){g?.current&&x.refs.setPositionReference(g.current)},[g,x.refs]);var y=void 0;if(!i){var w=ut("react-datepicker-popper",!v&&"react-datepicker-popper-offset",S==="middle"&&"react-datepicker-popper--header-middle",S==="bottom"&&"react-datepicker-popper--header-bottom",t);y=pe.createElement(kI,{enableTabLoop:u},pe.createElement("div",{ref:x.refs.setFloating,style:x.floatingStyles,className:w,"data-placement":x.placement,onKeyDown:f},l,v&&pe.createElement(Fae,{ref:x.arrowRef,context:x.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}e.popperContainer&&(y=j.createElement(e.popperContainer,{},y)),m&&!i&&(y=pe.createElement(AI,{portalId:m,portalHost:h},y));var C=ut("react-datepicker-wrapper",r);return pe.createElement(pe.Fragment,null,pe.createElement("div",{ref:x.refs.setReference,className:C},c),y)},Lie=Iie(Rie);function b5(e,t){return e&&t?gn(e)!==gn(t)||mt(e)!==mt(t):e!==t}var Bb="Date input not valid.",Fie=(function(e){Kr(t,e);function t(r){var n=e.call(this,r)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){var i=n.props.timeZone,l=n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:jt();return i?t5(l,i):l},n.modifyHolidays=function(){var i;return(i=n.props.holidays)===null||i===void 0?void 0:i.reduce(function(l,c){var u=Nl(c.date,"yyyy-MM-dd",void 0,!1);return u?Za(Za([],l,!0),[ct(ct({},c),{date:u})],!1):l},[])},n.calcInitialState=function(){var i=n.props.timeZone,l=n.getPreSelection(),c=jI(n.props),u=wI(n.props),f=c&&Xa(l,ad(c))?c:u&&zi(l,a5(u))?u:l,m=n.props.selectsRange?n.props.startDate:n.props.selected;return m&&i&&(m=t5(m,i)),{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:m??f,highlightDates:f5(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.getInputValue=function(){var i,l=n.props,c=l.locale,u=l.startDate,f=l.endDate,m=l.rangeSeparator,h=l.selected,x=l.selectedDates,v=l.selectsMultiple,g=l.selectsRange,S=l.formatMultipleDates,y=l.value,w=(i=n.props.dateFormat)!==null&&i!==void 0?i:t.defaultProps.dateFormat,C=n.state.inputValue;if(typeof y=="string")return y;if(typeof C=="string")return C;if(g)return Kae(u,f,{dateFormat:w,locale:c,rangeSeparator:m});if(v){if(S){var k=function(A){return xn(A,{dateFormat:w,locale:c})};return S(x??[],k)}return Qae(x??[],{dateFormat:w,locale:c})}return xn(h,{dateFormat:w,locale:c})},n.resetHiddenStatus=function(){n.setState(ct(ct({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(ct(ct({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var i,l;(l=(i=n.input)===null||i===void 0?void 0:i.focus)===null||l===void 0||l.call(i,{preventScroll:!0})},n.setBlur=function(){var i,l;(l=(i=n.input)===null||i===void 0?void 0:i.blur)===null||l===void 0||l.call(i),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(i,l){l===void 0&&(l=!1),n.setState({open:i,preSelection:i&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:$b},function(){i||n.setState(function(c){return{focused:l?c.focused:!1}},function(){!l&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return ti(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(i){var l,c,u=n.state.wasHidden,f=u?n.state.open:!0;u&&n.resetHiddenStatus(),n.state.preventFocus||((c=(l=n.props).onFocus)===null||c===void 0||c.call(l,i),f&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.resetInputValue=function(){n.setState(ct(ct({},n.state),{inputValue:null}))},n.handleBlur=function(i){var l,c;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((c=(l=n.props).onBlur)===null||c===void 0||c.call(l,i));var u=n.state.inputValue;if(typeof u=="string"&&u.length>0){var f=/[a-zA-Z0-9]/.test(u);!f&&n.props.selected&&n.setSelected(null,void 0,!0)}n.resetInputValue(),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(i){var l,c;(c=(l=n.props).onClickOutside)===null||c===void 0||c.call(l,i),!n.props.inline&&!i.defaultPrevented&&n.setOpen(!1),n.props.withPortal&&i.preventDefault()},n.handleChange=function(){for(var i,l,c,u,f,m,h,x,v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];var S=v[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,v),!S||typeof S.isDefaultPrevented!="function"||S.isDefaultPrevented()))){n.setState({inputValue:S?.target instanceof HTMLInputElement?S.target.value:null,lastPreSelectChange:zie});var y=n.props,w=y.selectsRange,C=y.startDate,k=y.endDate,A=(i=n.props.dateFormat)!==null&&i!==void 0?i:t.defaultProps.dateFormat,M=(l=n.props.strictParsing)!==null&&l!==void 0?l:t.defaultProps.strictParsing,D=S?.target instanceof HTMLInputElement?S.target.value:"";if(w){var T=n.props.rangeSeparator,I=T.trim(),O=D.split(A.includes(I)?T:I,2).map(function(U){return U.trim()}),z=O[0],F=O[1],B=Nl(z??"",A,n.props.locale,M),E=B?Nl(F??"",A,n.props.locale,M):null,J=((c=Ll(C))===null||c===void 0?void 0:c.getTime())!==B?.getTime(),X=((u=Ll(k))===null||u===void 0?void 0:u.getTime())!==E?.getTime();if(!J&&!X||B&&na(B,n.props)||E&&na(E,n.props))return;B&&n.setState({preSelection:B}),(m=(f=n.props).onChange)===null||m===void 0||m.call(f,[B,E],S)}else{var re=Nl(D,A,n.props.locale,M,(h=n.props.selected)!==null&&h!==void 0?h:void 0);if(re||!D)n.setSelected(re,S,!0);else if(!n.props.inline){var L=Wae(D,(x=n.state.preSelection)!==null&&x!==void 0?x:void 0);L&&(!n.props.minDate||!Xa(L,n.props.minDate))&&(!n.props.maxDate||!zi(L,n.props.maxDate))&&n.setState({preSelection:L})}}}},n.handleSelect=function(i,l,c){var u;if(!n.props.readOnly){var f=n.props,m=f.selectsRange,h=f.startDate,x=f.endDate,v=f.locale,g=f.swapRange,S=(u=n.props.dateFormat)!==null&&u!==void 0?u:t.defaultProps.dateFormat,y=!m||h&&!x&&(g||!Lb(i,h));if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&y&&n.sendFocusBackToInput(),n.props.onChangeRaw){var w=xn(i,{dateFormat:S,locale:v});n.props.onChangeRaw(l,{date:i,formattedDate:w})}n.setSelected(i,l,!1,c),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect?n.setPreSelection(i):y&&n.setOpen(!1)}},n.setSelected=function(i,l,c,u){var f,m,h=n.props.timeZone,x=i;if(x&&h&&(x=_i(x,h)),n.props.showYearPicker){if(x!==null&&jp(mt(x),n.props))return}else if(n.props.showMonthYearPicker){if(x!==null&&yI(x,n.props))return}else if(x!==null&&na(x,n.props))return;var v=n.props,g=v.onChange,S=v.selectsRange,y=v.startDate,w=v.endDate,C=v.selectsMultiple,k=v.selectedDates,A=v.minTime,M=v.swapRange;if(!Fl(n.props.selected,x)||n.props.allowSameDay||S||C)if(x!==null&&(n.props.selected&&(!c||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(x=Oi(x,{hour:Jr(n.props.selected),minute:en(n.props.selected),second:zs(n.props.selected)})),!c&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&A&&(x=Oi(x,{hour:A.getHours(),minute:A.getMinutes(),second:A.getSeconds()})),n.props.inline||n.setState({preSelection:x}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:u})),S){var D=g,T=!y&&!w,I=y&&!w,O=!y&&!!w,z=y&&w;T?D?.([x,null],l):I?x===null?D?.([null,null],l):Lb(x,y)?D?.(M?[x,y]:[x,null],l):D?.([y,x],l):O&&(x&&Lb(x,w)?D?.([x,w],l):D?.([x,null],l)),z&&D?.([x,null],l)}else if(C){var F=g;if(x!==null)if(!k?.length)F?.([x],l);else{var B=k.some(function(J){return vt(J,x)});if(B){var E=k.filter(function(J){return!vt(J,x)});F?.(E,l)}else F?.(Za(Za([],k,!0),[x],!1),l)}}else g?.(x,l);c||((m=(f=n.props).onSelect)===null||m===void 0||m.call(f,x,l),n.setState({inputValue:null}))},n.setPreSelection=function(i){if(!n.props.readOnly){var l=ti(n.props.minDate),c=ti(n.props.maxDate),u=!0;if(i){var f=ad(i);if(l&&c)u=El(i,n.props.minDate,n.props.maxDate);else if(l){var m=ad(n.props.minDate);u=zi(i,m)||Fl(f,m)}else if(c){var h=a5(n.props.maxDate);u=Xa(i,h)||Fl(f,h)}}u&&n.setState({preSelection:i})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(i,l){var c,u;if(!n.props.selectsMultiple){var f=n.props,m=f.selectsRange,h=f.startDate,x=f.endDate,v=f.onChange,g=f.timeZone;if(m){var S=v;if(l==="start"){if(h){var y=Oi(h,{hour:Jr(i),minute:en(i)});n.setState({preSelection:y}),g&&(y=_i(y,g)),S?.([y,x?g?_i(x,g):x:null],void 0)}}else if(l==="end"){if(x){var w=Oi(x,{hour:Jr(i),minute:en(i)});n.setState({preSelection:w}),g&&(w=_i(w,g)),S?.([h?g?_i(h,g):h:null,w],void 0)}}else{var C=h&&!x;if(C){var y=Oi(h,{hour:Jr(i),minute:en(i)});n.setState({preSelection:y}),g&&(y=_i(y,g)),S?.([y,null],void 0)}else if(h&&x){var w=Oi(x,{hour:Jr(i),minute:en(i)});n.setState({preSelection:w}),g&&(w=_i(w,g)),S?.([g?_i(h,g):h,w],void 0)}else{var k=Oi(n.getPreSelection(),{hour:Jr(i),minute:en(i)});n.setState({preSelection:k})}}}else{var A=n.props.selected?n.props.selected:n.getPreSelection(),k=n.props.selected?i:Oi(A,{hour:Jr(i),minute:en(i)});n.setState({preSelection:k}),k&&g&&(k=_i(k,g)),(u=(c=n.props).onChange)===null||u===void 0||u.call(c,k)}n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var i,l;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(l=(i=n.props).onInputClick)===null||l===void 0||l.call(i)},n.handleTimeOnlyArrowKey=function(i){var l,c,u,f,m=Ll(n.props.selected)||n.state.preSelection||jt(),h=(l=n.props.timeIntervals)!==null&&l!==void 0?l:30,x=(c=n.props.dateFormat)!==null&&c!==void 0?c:t.defaultProps.dateFormat,v=Array.isArray(x)?x[0]:x,g=ad(m),S=Jr(m)*60+en(m),y=1440-h,w;if(i===_e.ArrowUp){var C=Math.max(0,S-h);w=Ad(g,C)}else{var C=Math.min(y,S+h);w=Ad(g,C)}var k=Qt(w,v||t.defaultProps.dateFormat,n.props.locale);if(n.setState({preSelection:w,inputValue:k}),!(n.props.selectsRange||n.props.selectsMultiple)){var A=n.props.selected?n.props.selected:n.getPreSelection(),M=n.props.selected?w:Oi(A,{hour:Jr(w),minute:en(w)});(f=(u=n.props).onChange)===null||f===void 0||f.call(u,M),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),requestAnimationFrame(function(){n.scrollToTimeOption(w)})}},n.handleTimeOnlyEnterKey=function(i){var l,c,u,f,m=i.target,h=m.value,x=(l=n.props.dateFormat)!==null&&l!==void 0?l:t.defaultProps.dateFormat,v=n.props.timeFormat||"p",g=n.state.preSelection||Ll(n.props.selected)||jt(),S=Nl(h,x,n.props.locale,(c=n.props.strictParsing)!==null&&c!==void 0?c:!1,g),y=g;if(S&&vn(S))y=S;else{var w=((u=n.calendar)===null||u===void 0?void 0:u.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(".react-datepicker__time-list-item[tabindex='0']");if(w instanceof HTMLElement){var C=(f=w.textContent)===null||f===void 0?void 0:f.trim();if(C){var k=Nl(C,v,n.props.locale,!1,g);k&&vn(k)&&(y=k)}}}n.handleTimeChange(y),n.setOpen(!1),n.sendFocusBackToInput()},n.scrollToTimeOption=function(i){var l,c;if(!((l=n.calendar)===null||l===void 0)&&l.containerRef.current){for(var u=n.calendar.containerRef.current,f=Array.from(u.querySelectorAll(".react-datepicker__time-list-item")),m=null,h=1/0,x=n.props.timeFormat||"p",v=0,g=f;v<g.length;v++){var S=g[v],y=(c=S.textContent)===null||c===void 0?void 0:c.trim();if(y){var w=Nl(y,x,n.props.locale,!1,i);if(w&&vn(w)){if(NI(w,i)){m=S;break}var C=Math.abs(w.getTime()-i.getTime());C<h&&(h=C,m=S)}}}m&&(f.forEach(function(k){k.setAttribute("tabindex","-1")}),m.setAttribute("tabindex","0"),m.scrollIntoView({behavior:"smooth",block:"center"}))}},n.onInputKeyDown=function(i){var l,c,u,f,m,h;(c=(l=n.props).onKeyDown)===null||c===void 0||c.call(l,i);var x=i.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(x===_e.ArrowDown||x===_e.ArrowUp||x===_e.Enter)&&((u=n.onInputClick)===null||u===void 0||u.call(n));return}if(n.state.open&&n.props.showTimeSelectOnly){if(x===_e.ArrowDown||x===_e.ArrowUp){i.preventDefault(),n.handleTimeOnlyArrowKey(x);return}if(x===_e.Enter){i.preventDefault(),n.handleTimeOnlyEnterKey(i);return}}if(n.state.open){if(x===_e.ArrowDown||x===_e.ArrowUp){i.preventDefault();var v=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',g=((f=n.calendar)===null||f===void 0?void 0:f.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(v);g instanceof HTMLElement&&g.focus({preventScroll:!0});return}var S=jt(n.state.preSelection);x===_e.Enter?(i.preventDefault(),i.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===$b?(n.handleSelect(S,i),!n.props.shouldCloseOnSelect&&n.setPreSelection(S)):n.setOpen(!1)):x===_e.Escape?(i.preventDefault(),i.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):x===_e.Tab&&n.setOpen(!1),n.inputOk()||(h=(m=n.props).onInputError)===null||h===void 0||h.call(m,{code:1,msg:Bb})}},n.onPortalKeyDown=function(i){var l=i.key;l===_e.Escape&&(i.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(i){var l,c,u,f,m,h,x=n.props,v=x.minDate,g=x.maxDate,S=x.disabledKeyboardNavigation,y=x.showWeekPicker,w=x.shouldCloseOnSelect,C=x.locale,k=x.calendarStartDay,A=x.adjustDateOnChange,M=x.inline;if((c=(l=n.props).onKeyDown)===null||c===void 0||c.call(l,i),!S){var D=i.key,T=i.shiftKey,I=jt(n.state.preSelection),O=function(B,E){var J=E;switch(B){case _e.ArrowRight:J=y?jh(E,1):Na(E,1);break;case _e.ArrowLeft:J=y?qE(E):une(E);break;case _e.ArrowUp:J=qE(E);break;case _e.ArrowDown:J=jh(E,1);break;case _e.PageUp:J=T?Ys(E,1):ql(E,1);break;case _e.PageDown:J=T?Sa(E,1):Ma(E,1);break;case _e.Home:J=Bs(E,C,k);break;case _e.End:J=Jae(E);break}return J},z=function(B,E){for(var J=40,X=B,re=!1,L=0,U=O(B,E);!re;){if(L>=J){U=E;break}v&&U<v&&(X=_e.ArrowRight,U=na(v,n.props)?O(X,U):v),g&&U>g&&(X=_e.ArrowLeft,U=na(g,n.props)?O(X,U):g),na(U,n.props)?((X===_e.PageUp||X===_e.Home)&&(X=_e.ArrowRight),(X===_e.PageDown||X===_e.End)&&(X=_e.ArrowLeft),U=O(X,U)):re=!0,L++}return U};if(D===_e.Enter){i.preventDefault(),n.handleSelect(I,i),!w&&n.setPreSelection(I);return}else if(D===_e.Escape){i.preventDefault(),n.setOpen(!1),n.inputOk()||(f=(u=n.props).onInputError)===null||f===void 0||f.call(u,{code:1,msg:Bb});return}var F=null;switch(D){case _e.ArrowLeft:case _e.ArrowRight:case _e.ArrowUp:case _e.ArrowDown:case _e.PageUp:case _e.PageDown:case _e.Home:case _e.End:F=z(D,I);break}if(!F){(h=(m=n.props).onInputError)===null||h===void 0||h.call(m,{code:1,msg:Bb});return}i.preventDefault(),n.setState({lastPreSelectChange:$b}),A&&n.setSelected(F),n.setPreSelection(F),M&&n.setState({shouldFocusDayInline:!0})}},n.onPopperKeyDown=function(i){var l=i.key;l===_e.Escape&&(i.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),n.sendFocusBackToInput();var l=n.props,c=l.selectsRange,u=l.onChange;u?.(c?[null,null]:null,i),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(i){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(i)&&n.setOpen(!1)},n.handleMonthSelectedInChange=function(i){n.setState({monthSelectedIn:i})},n.renderCalendar=function(){var i,l;return!n.props.inline&&!n.isCalendarOpen()?null:pe.createElement(_ie,ct({showMonthYearDropdown:void 0,ref:function(c){n.calendar=c}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(i=n.props.dateFormatCalendar)!==null&&i!==void 0?i:t.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:die(n.modifyHolidays()),outsideClickIgnoreClass:n.props.outsideClickIgnoreClass,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(l=n.props.dropdownMode)!==null&&l!==void 0?l:t.defaultProps.dropdownMode,onMonthSelectedInChange:n.handleMonthSelectedInChange}),n.props.children)},n.renderAriaLiveRegion=function(){var i,l=n.props.locale,c=(i=n.props.dateFormat)!==null&&i!==void 0?i:t.defaultProps.dateFormat,u=n.props.showTimeInput||n.props.showTimeSelect,f=u?"PPPPp":"PPPP",m;return n.props.selectsRange?m="Selected start date: ".concat(xn(n.props.startDate,{dateFormat:f,locale:l}),". ").concat(n.props.endDate?"End date: "+xn(n.props.endDate,{dateFormat:f,locale:l}):""):n.props.showTimeSelectOnly?m="Selected time: ".concat(xn(n.props.selected,{dateFormat:c,locale:l})):n.props.showYearPicker?m="Selected year: ".concat(xn(n.props.selected,{dateFormat:"yyyy",locale:l})):n.props.showMonthYearPicker?m="Selected month: ".concat(xn(n.props.selected,{dateFormat:"MMMM yyyy",locale:l})):n.props.showQuarterYearPicker?m="Selected quarter: ".concat(xn(n.props.selected,{dateFormat:"yyyy, QQQ",locale:l})):m="Selected date: ".concat(xn(n.props.selected,{dateFormat:f,locale:l})),pe.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},m)},n.renderDateInput=function(){var i,l,c,u,f,m,h,x=ut(n.props.className,(i={},i[n.props.outsideClickIgnoreClass||t.defaultProps.outsideClickIgnoreClass]=n.state.open,i)),v=n.props.customInput||pe.createElement("input",{type:"text"}),g=n.props.customInputRef||"ref",S={},y=(c=n.props["aria-describedby"])!==null&&c!==void 0?c:n.props.ariaDescribedBy,w=(u=n.props["aria-invalid"])!==null&&u!==void 0?u:n.props.ariaInvalid,C=(f=n.props["aria-label"])!==null&&f!==void 0?f:n.props.ariaLabel,k=(m=n.props["aria-labelledby"])!==null&&m!==void 0?m:n.props.ariaLabelledBy,A=(h=n.props["aria-required"])!==null&&h!==void 0?h:n.props.ariaRequired;return y!=null&&(S["aria-describedby"]=y),w!=null&&(S["aria-invalid"]=w),C!=null&&(S["aria-label"]=C),k!=null&&(S["aria-labelledby"]=k),A!=null&&(S["aria-required"]=A),j.cloneElement(v,ct((l={},l[g]=function(M){n.input=M},l.value=n.getInputValue(),l.onBlur=n.handleBlur,l.onChange=n.handleChange,l.onClick=n.onInputClick,l.onFocus=n.handleFocus,l.onKeyDown=n.onInputKeyDown,l.id=n.props.id,l.name=n.props.name,l.form=n.props.form,l.autoFocus=n.props.autoFocus,l.placeholder=n.props.placeholderText,l.disabled=n.props.disabled,l.autoComplete=n.props.autoComplete,l.className=ut(v.props.className,x),l.title=n.props.title,l.readOnly=n.props.readOnly,l.required=n.props.required,l.tabIndex=n.props.tabIndex,l),S))},n.renderClearButton=function(){var i=n.props,l=i.isClearable,c=i.disabled,u=i.selected,f=i.startDate,m=i.endDate,h=i.clearButtonTitle,x=i.clearButtonClassName,v=x===void 0?"":x,g=i.ariaLabelClose,S=g===void 0?"Close":g,y=i.selectedDates,w=i.readOnly;return l&&!w&&(u!=null||f!=null||m!=null||y?.length)?pe.createElement("button",{type:"button",className:ut("react-datepicker__close-icon",v,{"react-datepicker__close-icon--disabled":c}),disabled:c,"aria-label":S,onClick:n.onClearClick,title:h,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:CI,readOnly:!1,rangeSeparator:gI,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:ef,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(r,n){var i,l,c,u;this.props.selectsRange&&b5(r.startDate,this.props.startDate)?this.setPreSelection(this.props.startDate):b5(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),this.props.selectsRange&&n.open===!1&&this.state.open===!0&&this.state.monthSelectedIn!==0&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:f5(this.props.highlightDates)}),!n.focused&&!Fl(r.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((l=(i=this.props).onCalendarOpen)===null||l===void 0||l.call(i)),n.open===!0&&this.state.open===!1&&((u=(c=this.props).onCalendarClose)===null||u===void 0||u.call(c)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var r=this.props,n=r.showIcon,i=r.icon,l=r.calendarIconClassname,c=r.calendarIconClassName,u=r.toggleCalendarOnIconClick,f=this.state.open;return l&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),pe.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&pe.createElement(Oie,ct({icon:i,className:ut(c,!c&&l,f&&"react-datepicker-ignore-onclickoutside")},u?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var n=this.state.open?pe.createElement(kI,{enableTabLoop:this.props.enableTabLoop},pe.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(n=pe.createElement(AI,ct({portalId:this.props.portalId},this.props),n)),pe.createElement(pe.Fragment,null,this.renderInputContainer(),n)}return pe.createElement(Lie,ct({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:r,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow,monthHeaderPosition:this.props.monthHeaderPosition}))},t})(j.Component),zie="input",$b="navigate";function fr({open:e,onClose:t,title:r,children:n,wide:i}){const l=j.useRef(null);return j.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),j.useEffect(()=>{function c(u){u.key==="Escape"&&t()}return e&&window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[e,t]),e?a.jsxs("div",{ref:l,className:"fixed inset-0 z-50 flex items-start justify-center pt-[5vh] sm:pt-[10vh] px-4",onClick:c=>{c.target===l.current&&t()},children:[a.jsx("div",{className:"fixed inset-0 bg-black/60"}),a.jsxs("div",{className:`relative bg-[var(--bg-card)] border border-[var(--border)] rounded-xl shadow-2xl w-full ${i?"max-w-2xl":"max-w-lg"} max-h-[80vh] flex flex-col animate-fade-in`,children:[a.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-[var(--border-light)] shrink-0",children:[a.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:r}),a.jsx("button",{onClick:t,className:"p-1.5 rounded-lg text-[var(--text-dim)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:a.jsx(ni,{size:16})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto px-5 py-4",children:n})]})]}):null}function me({label:e,required:t,error:r,children:n}){return a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:[e,t&&a.jsx("span",{className:"text-rose-500 ml-0.5",children:"*"})]}),n,r&&a.jsx("p",{className:"text-xs text-rose-500 mt-1",children:r})]})}function Ie({value:e,onChange:t,placeholder:r,type:n="text",sensitive:i,...l}){const{masked:c}=_a();return a.jsx("input",{type:n,value:e,onChange:u=>t(u.target.value),placeholder:r,className:`w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors ${i&&c?"sensitive-blur":""}`,...l})}function Ca({value:e,onChange:t,...r}){const n=e?new Date(e.length>10?e:e+"T00:00:00"):null;function i(l){if(!l){t("");return}const c=l.getFullYear(),u=String(l.getMonth()+1).padStart(2,"0"),f=String(l.getDate()).padStart(2,"0");t(`${c}-${u}-${f}`)}return a.jsxs("div",{className:"relative cf-datepicker",children:[a.jsx(Fie,{selected:n,onChange:i,dateFormat:"dd MMM yyyy",maxDate:new Date,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",placeholderText:"Select date",className:"w-full px-3 py-2 pr-9 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors",...r}),a.jsx(rz,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)] pointer-events-none"})]})}function Je({value:e,onChange:t,options:r,placeholder:n}){return a.jsxs("select",{value:e,onChange:i=>t(i.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors",children:[n&&a.jsx("option",{value:"",children:n}),r.map(i=>a.jsx("option",{value:i.value,children:i.label},i.value))]})}function Sc({value:e,onChange:t,placeholder:r,rows:n=3}){return a.jsx("textarea",{value:e,onChange:i=>t(i.target.value),placeholder:r,rows:n,className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors resize-none"})}function Bie({checked:e,onChange:t,label:r}){return a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e,onChange:n=>t(n.target.checked),className:"w-4 h-4 rounded border-[var(--border-input)] bg-[var(--bg-input)] text-violet-500 focus:ring-violet-500"}),a.jsx("span",{className:"text-sm text-[var(--text-secondary)]",children:r})]})}function on({onCancel:e,onSubmit:t,submitLabel:r="Save",loading:n}){return a.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4 mt-4 border-t border-[var(--border-light)]",children:[a.jsx("button",{onClick:e,disabled:n,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),a.jsxs("button",{onClick:t,disabled:n,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 flex items-center gap-1.5",children:[n&&a.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),n?"Saving...":r]})]})}function ns({onClick:e,label:t="Deactivate"}){return a.jsx("button",{onClick:e,className:"px-4 py-2 text-xs font-semibold text-rose-400 hover:text-rose-300 hover:bg-rose-500/10 rounded-lg transition-colors",children:t})}const y5=[{key:"sip",label:"Adjust SIP",icon:xB,color:"text-blue-400",dimColor:"text-blue-400/60 hover:text-blue-400",activeBg:"bg-blue-500/20 border border-blue-500/40"},{key:"lumpsum",label:"Lumpsum",icon:qz,color:"text-emerald-400",dimColor:"text-emerald-400/60 hover:text-emerald-400",activeBg:"bg-emerald-500/20 border border-emerald-500/40"},{key:"buysell",label:"Buy / Sell",icon:WF,color:"text-amber-400",dimColor:"text-amber-400/60 hover:text-amber-400",activeBg:"bg-amber-500/20 border border-amber-500/40"}];function On(e){return e>=1e5?`${(e/1e5).toFixed(1)}L`:e>=1e3?`${(e/1e3).toFixed(0)}K`:`${Math.round(e)}`}function Dw({exitOnly:e}){return a.jsx("div",{className:"py-4 text-center space-y-1",children:e?a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Only exit candidates here  use ",a.jsx("span",{className:"font-semibold text-amber-400",children:"Buy / Sell"})," tab"]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"No target allocations set"}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Use ",a.jsx("span",{className:"font-semibold text-violet-400",children:"Allocations"})," to set target % for each fund first"]})]})})}function Ew({children:e,dimmed:t}){return a.jsx("div",{className:`bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-3.5 py-3 space-y-2 ${t?"opacity-50":""}`,children:e})}function _w({fundName:e}){const{main:t,plan:r}=Re(e);return a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-[11px] font-medium text-[var(--text-primary)] leading-tight",children:t}),r&&a.jsx("p",{className:"text-[9px] text-[var(--text-dim)]",children:r})]})}function Ow({label:e,value:t,valueClass:r}){return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:e}),a.jsx("span",{className:`text-[11px] tabular-nums font-medium ${r||"text-[var(--text-secondary)]"}`,children:t})]})}function $ie({portfolio:e,holdings:t,totalValue:r}){const n=e.sipTarget||0,i=(e.rebalanceThreshold||.05)*100,l=t.some(v=>v.targetAllocationPct>0),c=t.some(v=>v.targetAllocationPct===0&&v.units>0);if(!l)return a.jsx(Dw,{exitOnly:c});if(n<=0)return a.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"No SIP target set for this portfolio"});const u=t.filter(v=>v.targetAllocationPct>0).map(v=>{const g=r>0?v.currentValue/r*100:0,S=Math.abs(g-v.targetAllocationPct),y=S>i,C=v.targetAllocationPct/100*r-v.currentValue,k=v.targetAllocationPct/100*n;return{...v,currentPct:g,drift:S,drifted:y,gap:C,normalSIP:k}}),m=u.filter(v=>v.drifted&&v.gap>0).reduce((v,g)=>v+g.gap,0),h=u.map(v=>({...v,suggestedSIP:v.drifted&&v.gap>0&&m>0?v.gap/m*n:v.drifted&&v.gap<=0?0:v.normalSIP}));return u.some(v=>v.drifted)?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Funds drifted >",i.toFixed(0),"%: overweight  0, underweight  extra SIP. Others keep normal SIP."]}),a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Allocation"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Normal SIP"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Rebalance SIP"})]})}),a.jsx("tbody",{children:h.map(v=>{const g=v.drifted&&v.gap<=0,S=v.drifted&&v.gap>0,y=!v.drifted;return a.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 ${y?"opacity-50":g?"opacity-60":""}`,children:[a.jsxs("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px]",children:[a.jsx("p",{className:"truncate",children:Re(v.fundName).main}),Re(v.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Re(v.fundName).plan})]}),a.jsxs("td",{className:"py-2 px-2 text-right tabular-nums",children:[a.jsxs("span",{className:g?"text-amber-400":S?"text-blue-400":"text-[var(--text-dim)]",children:[v.currentPct.toFixed(1),"%"]}),a.jsxs("span",{className:"text-[var(--text-dim)]",children:[" / ",v.targetAllocationPct.toFixed(1),"%"]})]}),a.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:On(v.normalSIP)}),a.jsx("td",{className:"py-2 px-2 text-right font-semibold tabular-nums",children:g?a.jsx("span",{className:"text-amber-400/70",children:"0"}):S?a.jsx("span",{className:"text-blue-400",children:On(v.suggestedSIP)}):a.jsx("span",{className:"text-[var(--text-dim)]",children:On(v.suggestedSIP)})})]},v.holdingId)})}),a.jsx("tfoot",{children:a.jsxs("tr",{className:"border-t border-[var(--border)]",children:[a.jsx("td",{className:"py-1.5 px-2 text-xs font-bold text-[var(--text-primary)]",colSpan:2,children:"Total"}),a.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums",children:On(n)}),a.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-blue-400 tabular-nums",children:On(n)})]})})]})}),a.jsxs("div",{className:"sm:hidden space-y-2",children:[h.map(v=>{const g=v.drifted&&v.gap<=0,S=v.drifted&&v.gap>0,y=!v.drifted;return a.jsxs(Ew,{dimmed:y||g,children:[a.jsx(_w,{fundName:v.fundName}),a.jsx(Ow,{label:"Allocation",value:a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:g?"text-amber-400":S?"text-blue-400":"",children:[v.currentPct.toFixed(1),"%"]})," ",a.jsxs("span",{className:"text-[var(--text-dim)]",children:["/ ",v.targetAllocationPct.toFixed(1),"%"]})]})}),a.jsxs("div",{className:"flex items-center justify-between pt-1 border-t border-[var(--border-light)]",children:[a.jsxs("div",{className:"text-center flex-1",children:[a.jsx("p",{className:"text-[9px] text-[var(--text-dim)] uppercase",children:"Normal"}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:On(v.normalSIP)})]}),a.jsx("div",{className:"text-[var(--text-dim)] text-xs px-2",children:""}),a.jsxs("div",{className:"text-center flex-1",children:[a.jsx("p",{className:"text-[9px] text-[var(--text-dim)] uppercase",children:"Rebalance"}),a.jsx("p",{className:`text-xs font-semibold tabular-nums ${g?"text-amber-400/70":S?"text-blue-400":"text-[var(--text-dim)]"}`,children:g?"0":On(v.suggestedSIP)})]})]})]},v.holdingId)}),a.jsxs("div",{className:"flex items-center justify-between bg-[var(--bg-inset)] rounded-xl border border-[var(--border-light)] px-3.5 py-2.5",children:[a.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)]",children:"Total SIP"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:On(n)}),a.jsx("span",{className:"text-[var(--text-dim)]",children:""}),a.jsx("span",{className:"text-xs font-bold text-blue-400 tabular-nums",children:On(n)})]})]})]})]}):a.jsxs("p",{className:"text-xs text-[var(--text-dim)] py-2",children:["SIPs are balanced (within ",i.toFixed(0),"% threshold)"]})}function qie({portfolio:e,holdings:t,totalValue:r}){const[n,i]=j.useState("");(e.rebalanceThreshold||.05)*100;const l=t.some(y=>y.targetAllocationPct>0),c=t.some(y=>y.targetAllocationPct===0&&y.units>0);if(!l)return a.jsx(Dw,{exitOnly:c});const u=t.filter(y=>y.targetAllocationPct>0).map(y=>{const w=r>0?y.currentValue/r*100:0;return{...y,currentPct:w}}),f=j.useMemo(()=>{if(r<=0||u.length===0)return 0;const y=u.filter(A=>{const M=A.targetAllocationPct/100*r;return A.currentValue<M});if(y.length===0)return 0;const w=y.reduce((A,M)=>A+M.targetAllocationPct,0);if(w>=100)return 0;const C=y.reduce((A,M)=>A+M.currentValue,0),k=(w/100*r-C)/(1-w/100);return k>0?Math.ceil(k/100)*100:0},[u,r]),m=Number(n)||e.lumpsumTarget||f,h=j.useMemo(()=>{const y=m>0?r+m:r,w=u.map(k=>{const A=k.targetAllocationPct/100*y,M=m>0?Math.max(0,A-k.currentValue):0,D=y>0?(k.currentValue+M)/y*100:0,T=k.currentValue>A+1;return{...k,invest:M,newPct:D,isOverweight:T}}),C=w.reduce((k,A)=>k+A.invest,0);if(m>0&&C>0&&Math.abs(C-m)>1){const k=m/C;return w.map(A=>({...A,invest:A.invest>0?A.invest*k:0,newPct:y>0?(A.currentValue+(A.invest>0?A.invest*k:0))/y*100:0}))}return w},[u,m,r]),x=h.reduce((y,w)=>y+w.invest,0),v=h.some(y=>y.isOverweight),g=Number(n),S=g>0&&f>0&&g<f;return a.jsxs("div",{className:"space-y-2",children:[f>0&&a.jsx("div",{className:"flex items-center gap-2 px-2.5 py-1.5 rounded-md bg-emerald-500/10 border border-emerald-500/20",children:a.jsxs("p",{className:"text-xs text-emerald-400",children:[a.jsx("span",{className:"font-bold",children:K(f)})," needed to bring all underweight funds to target %"]})}),a.jsxs("div",{className:"flex items-end gap-3",children:[a.jsx("div",{className:"flex-1 max-w-[200px]",children:a.jsx(me,{label:"Invest Amount ()",children:a.jsx(Ie,{type:"number",value:n,onChange:i,placeholder:f>0?`${K(f)}`:"Enter amount..."})})}),!g&&!e.lumpsumTarget&&f>0&&a.jsx("p",{className:"text-xs text-emerald-400/70 pb-2.5",children:"Using suggested"}),!g&&e.lumpsumTarget>=100&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] pb-2.5",children:"Using lumpsum target"})]}),S&&a.jsxs("p",{className:"text-xs text-amber-400/80 px-1",children:["Below minimum  distributes proportionally but won't fully rebalance. Need ",K(f)," for exact target %."]}),h.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Allocation"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Invest"})]})}),a.jsx("tbody",{children:h.map(y=>a.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 ${y.invest===0?"opacity-50":""}`,children:[a.jsxs("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px]",children:[a.jsx("p",{className:"truncate",children:Re(y.fundName).main}),Re(y.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Re(y.fundName).plan})]}),a.jsxs("td",{className:"py-2 px-2 text-right tabular-nums",children:[a.jsxs("span",{className:y.isOverweight?"text-amber-400":y.invest>0?"text-blue-400":"text-[var(--text-dim)]",children:[y.currentPct.toFixed(1),"%"]}),a.jsxs("span",{className:"text-[var(--text-dim)]",children:["  ",y.newPct.toFixed(1),"%"]})]}),a.jsx("td",{className:"py-2 px-2 text-right font-semibold tabular-nums",children:y.isOverweight?a.jsx("span",{className:"text-amber-400/70 text-xs",children:"Overweight"}):y.invest>0?a.jsx("span",{className:"text-emerald-400",children:On(y.invest)}):a.jsx("span",{className:"text-[var(--text-dim)] text-xs",children:"Balanced"})})]},y.holdingId))}),x>0&&a.jsx("tfoot",{children:a.jsxs("tr",{className:"border-t border-[var(--border)]",children:[a.jsx("td",{className:"py-1.5 px-2 text-xs font-bold text-[var(--text-primary)]",colSpan:2,children:"Total"}),a.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-emerald-400 tabular-nums",children:K(x)})]})})]})}),a.jsxs("div",{className:"sm:hidden space-y-2",children:[h.map(y=>a.jsxs(Ew,{dimmed:y.invest===0,children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsx(_w,{fundName:y.fundName}),a.jsx("div",{className:"text-right shrink-0",children:y.isOverweight?a.jsx("span",{className:"text-[10px] font-semibold px-2 py-0.5 rounded-full bg-amber-500/15 text-amber-400",children:"Overweight"}):y.invest>0?a.jsx("p",{className:"text-xs font-bold text-emerald-400 tabular-nums",children:On(y.invest)}):a.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:"Balanced"})})]}),a.jsx(Ow,{label:"Allocation",value:a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:y.isOverweight?"text-amber-400":y.invest>0?"text-blue-400":"",children:[y.currentPct.toFixed(1),"%"]})," ",a.jsxs("span",{className:"text-[var(--text-dim)]",children:[" ",y.newPct.toFixed(1),"%"]})]})})]},y.holdingId)),x>0&&a.jsxs("div",{className:"flex items-center justify-between bg-[var(--bg-inset)] rounded-xl border border-[var(--border-light)] px-3.5 py-2.5",children:[a.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)]",children:"Total Invest"}),a.jsx("span",{className:"text-sm font-bold text-emerald-400 tabular-nums",children:K(x)})]})]})]}):a.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2 text-center",children:"All funds balanced"}),v&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Overweight funds can't be fixed by buying. Use ",a.jsx("span",{className:"font-semibold text-amber-400",children:"Buy / Sell"})," tab to sell overweight and buy underweight."]})]})}function Hie({portfolio:e,holdings:t,totalValue:r}){const n=(e.rebalanceThreshold||.05)*100,i=t.some(u=>u.targetAllocationPct>0),l=t.some(u=>u.targetAllocationPct===0&&u.units>0);if(!i&&!l)return a.jsx(Dw,{});const c=t.filter(u=>u.targetAllocationPct>0||u.units>0).map(u=>{const f=r>0?u.currentValue/r*100:0,m=u.targetAllocationPct===0&&u.units>0,h=m||Math.abs(f-u.targetAllocationPct)>n,x=u.targetAllocationPct/100*r,v=h?x-u.currentValue:0;return{...u,currentPct:f,amount:v,isExit:m}}).filter(u=>Math.abs(u.amount)>=500);return c.length===0?a.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"Portfolio is balanced"}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Drift"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Action"})]})}),a.jsx("tbody",{children:c.map(u=>{const f=u.amount>0;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[a.jsxs("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px]",children:[a.jsx("p",{className:"truncate",children:Re(u.fundName).main}),Re(u.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Re(u.fundName).plan})]}),a.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:u.isExit?a.jsxs("span",{className:"text-[var(--accent-rose)]",children:[u.currentPct.toFixed(1),"%  Exit"]}):`${u.currentPct.toFixed(1)}%  ${u.targetAllocationPct.toFixed(1)}%`}),a.jsx("td",{className:"py-2 px-2 text-right",children:a.jsxs("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${f?"bg-emerald-500/20 text-emerald-400":"bg-rose-500/20 text-[var(--accent-rose)]"}`,children:[f?"Buy":u.isExit?"Exit":"Sell"," ",On(Math.abs(u.amount))]})})]},u.schemeCode||u.fundCode)})})]})}),a.jsx("div",{className:"sm:hidden space-y-2",children:c.map(u=>{const f=u.amount>0;return a.jsxs(Ew,{children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsx(_w,{fundName:u.fundName}),a.jsxs("span",{className:`text-[11px] font-bold px-2.5 py-1 rounded-full shrink-0 ${f?"bg-emerald-500/20 text-emerald-400":"bg-rose-500/20 text-[var(--accent-rose)]"}`,children:[f?"Buy":u.isExit?"Exit":"Sell"," ",On(Math.abs(u.amount))]})]}),a.jsx(Ow,{label:"Drift",value:u.isExit?a.jsxs("span",{className:"text-[var(--accent-rose)]",children:[u.currentPct.toFixed(1),"%  Exit"]}):a.jsxs(a.Fragment,{children:[a.jsxs("span",{children:[u.currentPct.toFixed(1),"%"]})," ",a.jsxs("span",{className:"text-[var(--text-dim)]",children:[" ",u.targetAllocationPct.toFixed(1),"%"]})]}),valueClass:f?"text-emerald-400":"text-amber-400"})]},u.schemeCode||u.fundCode)})})]})}function MI(){const{mfHoldings:e,mfPortfolios:t}=pt(),[r,n]=j.useState("buysell"),i=j.useMemo(()=>t.filter(f=>f.status!=="Inactive").map(f=>{const m=e.filter(y=>y.portfolioId===f.portfolioId&&y.units>0),h=m.reduce((y,w)=>y+w.currentValue,0),x=(f.rebalanceThreshold||.05)*100,v=m.filter(y=>{if(y.targetAllocationPct<=0)return!1;const w=h>0?y.currentValue/h*100:0;return Math.abs(w-y.targetAllocationPct)>x}).length,g=m.filter(y=>y.targetAllocationPct===0&&y.units>0&&y.currentValue>=500).length,S=m.some(y=>y.targetAllocationPct>0);return{...f,holdings:m,totalValue:h,driftedCount:v,exitCount:g,hasTargets:S}}).filter(f=>f.driftedCount>0||f.exitCount>0),[t,e]);if(i.length===0){const f=e.some(m=>m.targetAllocationPct>0);return a.jsx("div",{className:"py-8 text-center",children:f?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"All portfolios are balanced"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"No funds exceed their rebalance threshold"})]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No target allocations set"}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:["Use ",a.jsx("span",{className:"font-semibold text-violet-400",children:"Allocations"})," to set target % for each fund, then rebalance will show drift"]})]})})}const c=i.some(f=>(f.sipTarget||0)>=500)?y5:y5.filter(f=>f.key!=="sip"),u=c.some(f=>f.key===r)?r:c[0]?.key||"buysell";return a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"hidden sm:flex bg-[var(--bg-inset)] rounded-lg p-0.5",children:c.map(({key:f,label:m,icon:h,color:x,dimColor:v,activeBg:g})=>a.jsxs("button",{onClick:()=>n(f),className:`flex-1 flex items-center justify-center gap-1.5 py-2 rounded-md text-xs font-semibold transition-colors ${u===f?`${g} ${x} shadow-sm`:v}`,children:[a.jsx(h,{size:13})," ",m]},f))}),a.jsx("div",{className:"sm:hidden space-y-1.5",children:c.map(({key:f,label:m,icon:h,color:x,dimColor:v,activeBg:g})=>a.jsxs("button",{onClick:()=>n(f),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-semibold transition-colors ${u===f?`${g} ${x}`:`bg-[var(--bg-card)] border border-[var(--border)] ${v}`}`,children:[a.jsx(h,{size:16}),a.jsx("span",{children:m})]},f))}),i.map((f,m)=>a.jsxs("div",{className:"border border-[var(--border-light)] border-l-2 border-l-violet-500/50 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"px-3 py-2.5 bg-[var(--bg-inset)]",children:[a.jsxs("div",{className:"hidden sm:flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs font-bold text-violet-400 bg-violet-500/15 w-5 h-5 rounded flex items-center justify-center",children:m+1}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:f.portfolioName}),a.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:f.ownerName}),f.driftedCount>0&&a.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-amber-500/15 text-amber-400",children:[f.driftedCount," drifted"]}),f.exitCount>0&&a.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-rose-500/15 text-[var(--accent-rose)]",children:[f.exitCount," exit"]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-muted)]",children:[a.jsx("span",{className:"font-semibold text-[var(--text-secondary)]",children:K(f.totalValue)}),a.jsxs("span",{children:["Threshold: ",((f.rebalanceThreshold||.05)*100).toFixed(0),"%"]}),f.sipTarget>=100&&a.jsxs("span",{children:["SIP: ",K(f.sipTarget),"/mo"]})]})]}),a.jsxs("div",{className:"sm:hidden space-y-1.5",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs font-bold text-violet-400 bg-violet-500/15 w-5 h-5 rounded flex items-center justify-center shrink-0",children:m+1}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] flex-1 min-w-0 truncate",children:f.portfolioName})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap pl-7",children:[a.jsx("span",{className:"text-[11px] font-semibold text-[var(--text-secondary)] tabular-nums",children:K(f.totalValue)}),a.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:f.ownerName}),f.driftedCount>0&&a.jsxs("span",{className:"text-[10px] font-bold px-1.5 py-0.5 rounded-full bg-amber-500/15 text-amber-400",children:[f.driftedCount," drifted"]}),f.exitCount>0&&a.jsxs("span",{className:"text-[10px] font-bold px-1.5 py-0.5 rounded-full bg-rose-500/15 text-[var(--accent-rose)]",children:[f.exitCount," exit"]})]})]})]}),a.jsxs("div",{className:"px-3 py-2",children:[u==="sip"&&a.jsx($ie,{portfolio:f,holdings:f.holdings,totalValue:f.totalValue}),u==="lumpsum"&&a.jsx(qie,{portfolio:f,holdings:f.holdings,totalValue:f.totalValue}),u==="buysell"&&a.jsx(Hie,{portfolio:f,holdings:f.holdings,totalValue:f.totalValue})]})]},f.portfolioId))]})}const Uie="/logo-new.png",Yie={mf:{label:"Mutual Funds",color:"bg-violet-500",order:1,route:"/investments/mutual-funds"},stocks:{label:"Stocks",color:"bg-blue-500",order:2,route:"/investments/stocks"},PPF:{label:"PPF",color:"bg-cyan-600",order:3,route:"/investments/other"},EPF:{label:"EPF",color:"bg-cyan-500",order:4,route:"/investments/other"},NPS:{label:"NPS",color:"bg-sky-500",order:5,route:"/investments/other"},"Fixed Deposit":{label:"Fixed Deposit",color:"bg-teal-500",order:6,route:"/investments/other"},FD:{label:"Fixed Deposit",color:"bg-teal-500",order:6,route:"/investments/other"},RD:{label:"RD",color:"bg-teal-400",order:7,route:"/investments/other"},SSY:{label:"SSY",color:"bg-pink-400",order:8,route:"/investments/other"},NSC:{label:"NSC",color:"bg-indigo-400",order:9,route:"/investments/other"},Bonds:{label:"Bonds",color:"bg-cyan-400",order:10,route:"/investments/other"},Debt:{label:"Debt",color:"bg-cyan-500",order:11,route:"/investments/other"},"Physical Gold":{label:"Physical Gold",color:"bg-amber-500",order:12,route:"/investments/other"},"Digital Gold":{label:"Digital Gold",color:"bg-amber-400",order:12,route:"/investments/other"},"Sovereign Gold Bond":{label:"SGB",color:"bg-amber-600",order:12,route:"/investments/other"},Gold:{label:"Gold",color:"bg-amber-500",order:12,route:"/investments/other"},"Physical Silver":{label:"Physical Silver",color:"bg-slate-400",order:13,route:"/investments/other"},"Digital Silver":{label:"Digital Silver",color:"bg-slate-300",order:13,route:"/investments/other"},Silver:{label:"Silver",color:"bg-slate-400",order:13,route:"/investments/other"},"Real Estate":{label:"Real Estate",color:"bg-orange-500",order:14,route:"/investments/other"},Property:{label:"Real Estate",color:"bg-orange-500",order:14,route:"/investments/other"},Crypto:{label:"Crypto",color:"bg-violet-400",order:15,route:"/investments/other"},Alternative:{label:"Alternative",color:"bg-violet-400",order:15,route:"/investments/other"},Equity:{label:"Equity",color:"bg-emerald-500",order:16,route:"/investments/other"},Other:{label:"Other",color:"bg-gray-500",order:17,route:"/investments/other"}},Ym=["from-violet-500 to-indigo-500","from-rose-500 to-pink-500","from-blue-500 to-cyan-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],j5=["bg-violet-500","bg-rose-500","bg-blue-500","bg-amber-500","bg-emerald-500"],Vie=[{label:"Dashboard",path:"/dashboard",match:"/dashboard"},{label:"Family Members",path:"/family",match:"/family"},{label:"Bank Accounts",path:"/accounts/bank",match:"/accounts/bank"},{label:"Investment Accounts",path:"/accounts/investment",match:"/accounts/investment"},{label:"Insurance",path:"/insurance",match:"/insurance"},{label:"Mutual Funds",path:"/investments/mutual-funds",match:"/investments/mutual-funds"},{label:"Stocks",path:"/investments/stocks",match:"/investments/stocks"},{label:"Other Investments",path:"/investments/other",match:"/investments/other"},{label:"Liabilities",path:"/liabilities",match:"/liabilities"},{label:"Goals",path:"/goals",match:"/goals"}],Gie={mf:"#8b5cf6",stocks:"#3b82f6",PPF:"#14b8a6",EPF:"#f59e0b",NPS:"#ec4899","Fixed Deposit":"#06b6d4",FD:"#06b6d4",RD:"#2dd4bf",SSY:"#f472b6",NSC:"#818cf8",Bonds:"#22d3ee",Debt:"#0ea5e9","Physical Gold":"#fbbf24","Digital Gold":"#f59e0b","Sovereign Gold Bond":"#d97706",Gold:"#fbbf24","Physical Silver":"#94a3b8","Digital Silver":"#cbd5e1",Silver:"#94a3b8","Real Estate":"#f97316",Property:"#f97316",Crypto:"#a78bfa",Alternative:"#a78bfa",Equity:"#10b981",Other:"#6b7280"};function Wie(e){let t=0;for(let n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);return`hsl(${(t%360+360)%360}, 65%, 55%)`}function w5(e){return Gie[e]||Wie(e)}const Kie={stocks:"Equity",PPF:"Debt",EPF:"Debt",NPS:"Debt","Fixed Deposit":"Debt",FD:"Debt",RD:"Debt",SSY:"Debt",NSC:"Debt",Bonds:"Debt",Debt:"Debt","Physical Gold":"Gold","Digital Gold":"Gold","Sovereign Gold Bond":"Gold",Gold:"Gold","Physical Silver":"Gold","Digital Silver":"Gold",Silver:"Gold","Real Estate":"Real Estate",Property:"Real Estate",Crypto:"Alternative",Alternative:"Alternative",Equity:"Equity",Other:"Other"},Qie={Equity:"#8b5cf6",Debt:"#3b82f6",Gold:"#fbbf24","Real Estate":"#f97316",Cash:"#2dd4bf",Alternative:"#a78bfa",Other:"#6b7280"};function Xie(e){if(!e)return"Equity";const t=e.toLowerCase();return t.includes("gold")||t.includes("silver")||t.includes("commodity")?"Gold":t.includes("liquid")||t.includes("money market")||t.includes("overnight")?"Cash":t.includes("gilt")||t.includes("government securities")||t.includes("constant maturity")||t.includes("debt")||t.includes("bond")||t.includes("income fund")||t.includes("corporate bond")||t.includes("banking & psu")||t.includes("short duration")||t.includes("medium duration")||t.includes("long duration")||t.includes("short term")||t.includes("medium term")||t.includes("floater")||t.includes("floating rate")||t.includes("credit")||t.includes("accrual")||t.includes("savings fund")||t.includes("ultra short")?"Debt":t.includes("multi asset")?"Multi-Asset":t.includes("hybrid")||t.includes("balanced")||t.includes("dynamic asset")||t.includes("arbitrage")||t.includes("retirement")||t.includes("aggressive")||t.includes("conservative")||t.includes("children")||t.includes("pension")||t.includes("fund of fund")||t.includes("fof")?"Hybrid":"Equity"}const Zie={buyopp:"Buy Opportunities",rebalance:"Rebalance Alerts"};function Jie(){const{theme:e,toggle:t}=aO(),{selectedMember:r,setSelectedMember:n,familyMembers:i}=Fr(),{mfPortfolios:l,mfHoldings:c,stockPortfolios:u,stockHoldings:f,otherInvList:m,liabilityList:h,assetAllocations:x,refreshData:v,isRefreshing:g}=pt(),{user:S,signOut:y}=eo(),{masked:w,toggleMask:C,mv:k}=_a(),A=Gs(),M=Ea(),{criticalAlerts:D,upcomingReminders:T,investmentSignals:I}=rte(),[O,z]=j.useState(!1),[F,B]=j.useState(!1),[E,J]=j.useState(null),[X,re]=j.useState(!1),L=j.useRef(null),U=j.useRef(null),V=D.length+T.length,{buyOppCount:Ne,buyCount:De,strongBuyCount:P,rebalanceCount:W}=I;j.useEffect(()=>{function xe(he){L.current&&!L.current.contains(he.target)&&z(!1),U.current&&!U.current.contains(he.target)&&B(!1)}return(O||F)&&document.addEventListener("mousedown",xe),()=>document.removeEventListener("mousedown",xe)},[O,F]);const ne=i.findIndex(xe=>xe.memberId===r),de=ne>=0?i[ne]:null,q=j.useMemo(()=>{const xe=(be,Ke)=>r==="all"?be:be.filter(G=>G[Ke]===r),he={},ee=(be,Ke,G,$)=>{he[be]||(he[be]={items:[],invested:0}),he[be].items.push({label:Ke,value:G}),he[be].invested+=$};xe((l||[]).filter(be=>be.status==="Active"),"ownerId").forEach(be=>{const Ke=(c||[]).filter(Z=>Z.portfolioId===be.portfolioId&&Z.units>0),G=Ke.reduce((Z,we)=>Z+we.currentValue,0),$=Ke.reduce((Z,we)=>Z+we.investment,0);G>0&&ee("mf",be.portfolioName?.replace(/^PFL-/,"")||be.portfolioName,G,$)}),xe((u||[]).filter(be=>be.status==="Active"),"ownerId").forEach(be=>{const Ke=(f||[]).filter(Z=>Z.portfolioId===be.portfolioId),G=Ke.reduce((Z,we)=>Z+we.currentValue,0),$=Ke.reduce((Z,we)=>Z+we.totalInvestment,0);G>0&&ee("stocks",be.portfolioName,G,$)}),xe((m||[]).filter(be=>be.status==="Active"),"familyMemberId").forEach(be=>{const Ke=be.investmentType||"Other";ee(Ke,be.investmentName||Ke,be.currentValue,be.investedAmount||0)});const Le=Object.entries(he).map(([be,{items:Ke,invested:G}])=>{const $=Yie[be]||{label:be,color:"bg-gray-500",order:50,route:"/investments/other"},Z=Ke.reduce((we,ze)=>we+ze.value,0);return{key:be,label:$.label,color:$.color,order:$.order,route:$.route,total:Z,invested:G,items:Ke.sort((we,ze)=>ze.value-we.value)}}).filter(be=>be.total>0).sort((be,Ke)=>Ke.total-be.total),Ae={Equity:0,Debt:0,Gold:0,Cash:0,"Real Estate":0,Alternative:0,Other:0},Ee={};if(x)for(const be of x)Ee[be.fundCode]=be.assetAllocation;const at=(c||[]).filter(be=>be.units>0);(r==="all"?at:at.filter(be=>{const Ke=(l||[]).find(G=>G.portfolioId===be.portfolioId);return Ke&&Ke.ownerId===r&&Ke.status==="Active"})).forEach(be=>{const Ke=Ee[be.fundCode||be.schemeCode];if(Ke)for(const[G,$]of Object.entries(Ke)){const Z=be.currentValue*($/100);G==="Equity"?Ae.Equity+=Z:G==="Debt"?Ae.Debt+=Z:G==="Cash"?Ae.Cash+=Z:G==="Commodities"||G==="Gold"?Ae.Gold+=Z:G==="Real Estate"?Ae["Real Estate"]+=Z:Ae.Other+=Z}else{const G=Xie(be.fundName);G==="Equity"?Ae.Equity+=be.currentValue:G==="Debt"?Ae.Debt+=be.currentValue:G==="Cash"?Ae.Cash+=be.currentValue:G==="Gold"?Ae.Gold+=be.currentValue:G==="Hybrid"?(Ae.Equity+=be.currentValue*.65,Ae.Debt+=be.currentValue*.35):G==="Multi-Asset"?(Ae.Equity+=be.currentValue*.5,Ae.Debt+=be.currentValue*.3,Ae.Gold+=be.currentValue*.2):Ae.Equity+=be.currentValue}}),Le.filter(be=>be.key==="stocks").forEach(be=>{Ae.Equity+=be.total}),Le.filter(be=>be.key!=="mf"&&be.key!=="stocks").forEach(be=>{const Ke=Kie[be.key]||"Other";Ke in Ae?Ae[Ke]+=be.total:Ae.Other+=be.total});const ar=Object.entries(Ae).filter(([,be])=>be>0).map(([be,Ke])=>({cls:be,total:Ke,hex:Qie[be]||"#6b7280"})).sort((be,Ke)=>Ke.total-be.total),wt=xe((h||[]).filter(be=>be.status==="Active"),"familyMemberId"),Rt=wt.map(be=>({label:be.liabilityName||be.liabilityType||"Loan",value:be.outstandingBalance})),Yt=wt.reduce((be,Ke)=>be+Ke.outstandingBalance,0),lr=Le.reduce((be,Ke)=>be+Ke.total,0),Et=Le.reduce((be,Ke)=>be+Ke.invested,0);return{netWorth:lr-Yt,totalInv:lr,totalInvested:Et,sections:Le,totalLiab:Yt,liabilities:Rt,assetAllocation:ar}},[r,l,c,u,f,m,h,x]);function oe(){z(!1),B(!1)}return a.jsxs("header",{className:"sticky top-0 z-30 shrink-0",children:[a.jsx("div",{className:"relative z-10 bg-[var(--bg-header)]/95 backdrop-blur-sm border-b border-[var(--border)]",children:a.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 h-14",children:[a.jsxs(_l,{to:"/dashboard",className:"flex items-center gap-2",children:[a.jsx("img",{src:Uie,alt:"CF",className:"h-9 sm:h-12 w-auto"}),a.jsxs("span",{className:"hidden sm:flex items-baseline gap-1 text-lg tracking-tight",style:{fontFamily:"'Poppins', sans-serif"},children:[a.jsx("span",{className:"font-bold text-[var(--text-primary)]",children:"Capital"}),a.jsx("span",{className:"font-extrabold text-emerald-400",children:"Friends"})]})]}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[Ne>0&&a.jsxs("button",{onClick:()=>{J(E==="buyopp"?null:"buyopp"),oe()},className:`hidden sm:flex relative p-2 rounded-lg transition-colors ${E==="buyopp"?"text-emerald-300 bg-emerald-500/20":"text-emerald-400 hover:text-emerald-300 hover:bg-emerald-500/10"}`,title:`${Ne} Buy Opportunit${Ne===1?"y":"ies"}${P>0?` (${P} Strong)`:""}`,children:[a.jsx(Dp,{size:18}),a.jsx("span",{className:"absolute -top-0.5 -right-0.5 min-w-[16px] h-4 flex items-center justify-center text-[9px] font-bold text-white bg-emerald-500 rounded-full px-1",children:Ne})]}),W>0&&a.jsxs("button",{onClick:()=>{J(E==="rebalance"?null:"rebalance"),oe()},className:`hidden sm:flex relative p-2 rounded-lg transition-colors ${E==="rebalance"?"text-violet-300 bg-violet-500/20":"text-violet-400 hover:text-violet-300 hover:bg-violet-500/10"}`,title:`${W} fund${W===1?"":"s"} need rebalancing`,children:[a.jsx(nc,{size:18}),a.jsx("span",{className:"absolute -top-0.5 -right-0.5 min-w-[16px] h-4 flex items-center justify-center text-[9px] font-bold text-white bg-violet-500 rounded-full px-1",children:W})]}),a.jsx("button",{onClick:()=>v(!0),disabled:g,className:`p-1.5 sm:p-2 rounded-lg transition-colors ${g?"text-blue-400 cursor-not-allowed":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,title:"Sync data from Google Sheets",children:a.jsx(nc,{size:16,className:g?"animate-spin":""})}),a.jsx("button",{onClick:C,className:`hidden sm:block p-2 rounded-lg transition-colors ${w?"text-amber-400 bg-amber-500/10":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,title:w?"Data masked  click to reveal":"Mask sensitive data",children:w?a.jsx(sd,{size:18}):a.jsx(kp,{size:18})}),a.jsx("button",{onClick:t,className:"hidden sm:block p-2 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",title:`Switch to ${e==="dark"?"light":"dark"} mode`,children:e==="dark"?a.jsx(Mp,{size:18}):a.jsx(sy,{size:18})}),V>0&&a.jsxs("div",{className:"relative",ref:U,children:[a.jsxs("button",{onClick:()=>{B(!F),z(!1)},className:"relative p-2 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx(C1,{size:18}),a.jsx("span",{className:"absolute -top-0.5 -right-0.5 min-w-[16px] h-4 flex items-center justify-center text-[9px] font-bold text-white bg-rose-500 rounded-full px-1",children:V})]}),F&&a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-xl shadow-black/20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[a.jsx("div",{className:"px-3 py-2 border-b border-[var(--border-light)]",children:a.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:"Notifications"})}),a.jsxs("div",{className:"max-h-[300px] overflow-y-auto py-1",children:[D.map((xe,he)=>{const ee={critical:"bg-rose-500",warning:"bg-amber-500",info:"bg-blue-500"}[xe.type],ke={critical:"bg-rose-500/15 text-rose-400",warning:"bg-amber-500/15 text-amber-400",info:"bg-blue-500/15 text-blue-400"}[xe.type];return a.jsxs("button",{onClick:()=>{B(!1),A(xe.navigateTo)},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${ee}`}),a.jsx("span",{className:"text-xs text-[var(--text-secondary)] flex-1 text-left truncate",children:xe.title}),a.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded-full shrink-0 ${ke}`,children:xe.badge})]},`c-${he}`)}),D.length>0&&T.length>0&&a.jsx("div",{className:"mx-3 my-1 border-t border-[var(--border-light)]"}),T.map(xe=>{const he=xe.days<=7?"bg-rose-500/15 text-rose-400":xe.days<=15?"bg-amber-500/15 text-amber-400":"bg-slate-500/15 text-[var(--text-muted)]";return a.jsxs("button",{onClick:()=>{B(!1),A("/reminders")},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[a.jsx("span",{className:"w-2 h-2 rounded-full shrink-0 bg-amber-500"}),a.jsx("span",{className:"text-xs text-[var(--text-secondary)] flex-1 truncate",children:xe.title}),a.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded-full shrink-0 ${he}`,children:xe.days===0?"Today":xe.days<=30?`${xe.days}d`:xe.dateStr})]},`r-${xe.reminderId}`)})]})]})]}),a.jsxs("div",{className:"relative",ref:L,children:[a.jsxs("button",{onClick:()=>{z(!O),B(!1)},className:"flex items-center gap-1.5 pl-1 pr-2 py-1 rounded-full hover:bg-[var(--bg-hover)] transition-colors",children:[de?a.jsx("div",{className:`w-8 h-8 rounded-full bg-gradient-to-br ${Ym[ne%Ym.length]} flex items-center justify-center text-white text-xs font-bold shadow-sm`,children:de.memberName.charAt(0)}):a.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-500 flex items-center justify-center text-white shadow-sm",children:a.jsx(Yl,{size:14})}),a.jsx(Ul,{size:14,className:`text-[var(--text-muted)] transition-transform ${O?"rotate-180":""}`})]}),O&&a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-xl shadow-black/20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[a.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)]",children:a.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:"Viewing as"})}),a.jsxs("div",{className:"py-1.5",children:[a.jsxs("button",{onClick:()=>{n("all"),z(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${r==="all"?"bg-violet-500/10":"hover:bg-[var(--bg-hover)]"}`,children:[a.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-violet-500 to-indigo-500 flex items-center justify-center text-white shadow-sm shrink-0",children:a.jsx(Yl,{size:15})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:`text-sm font-semibold truncate ${r==="all"?"text-violet-400":"text-[var(--text-primary)]"}`,children:"Everyone"}),a.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:"All family members"})]}),r==="all"&&a.jsx(Ap,{size:16,className:"text-violet-400 shrink-0"})]}),i.length>0&&a.jsx("div",{className:"mx-4 my-1 border-t border-[var(--border-light)]"}),i.map((xe,he)=>{const ee=r===xe.memberId;return a.jsxs("button",{onClick:()=>{n(xe.memberId),z(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${ee?`${j5[he%j5.length]}/10`:"hover:bg-[var(--bg-hover)]"}`,children:[a.jsx("div",{className:`w-9 h-9 rounded-full bg-gradient-to-br ${Ym[he%Ym.length]} flex items-center justify-center text-white text-sm font-bold shadow-sm shrink-0`,children:xe.memberName.charAt(0)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold truncate text-[var(--text-primary)]",children:k(xe.memberName,"name")}),a.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:xe.relationship||"Family member"})]}),ee&&a.jsx(Ap,{size:16,className:"text-emerald-400 shrink-0"})]},xe.memberId)})]}),a.jsxs("div",{className:"sm:hidden border-t border-[var(--border-light)] py-1.5",children:[a.jsxs("button",{onClick:()=>{C(),z(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[w?a.jsx(sd,{size:16}):a.jsx(kp,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:w?"Unmask Data":"Mask Data"})]}),a.jsxs("button",{onClick:()=>{t(),z(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[e==="dark"?a.jsx(Mp,{size:16}):a.jsx(sy,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:e==="dark"?"Light Mode":"Dark Mode"})]})]}),a.jsxs("div",{className:"border-t border-[var(--border-light)] py-1.5",children:[a.jsxs(_l,{to:"/settings",onClick:()=>z(!1),className:"w-full flex items-center gap-3 px-4 py-2.5 text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx(wO,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:"Settings"})]}),S&&a.jsx("div",{className:"px-4 py-1.5",children:a.jsx("p",{className:"text-[11px] text-[var(--text-muted)] truncate",children:k(S.email,"email")})}),a.jsxs("button",{onClick:()=>{y(),z(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-left text-rose-400 hover:bg-rose-500/10 transition-colors",children:[a.jsx(gO,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:"Sign out"})]})]})]})]})]})]})}),a.jsx(tte,{}),a.jsx("nav",{className:"hidden lg:block bg-[var(--bg-header)]/90 backdrop-blur-sm border-b border-[var(--border)]",children:a.jsxs("div",{className:"flex items-center px-3 sm:px-4 py-1.5",children:[a.jsx("div",{className:"flex items-center gap-1 overflow-x-auto no-scrollbar flex-1 min-w-0",children:Vie.map(xe=>{const he=M.pathname.startsWith(xe.match);return a.jsx(_l,{to:xe.path,className:`whitespace-nowrap px-3 py-1.5 rounded-lg text-[13px] font-medium transition-colors ${he?"bg-violet-500/15 text-violet-400":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,children:xe.label},xe.path)})}),a.jsxs("button",{onClick:()=>{re(!0),oe()},className:`shrink-0 ml-3 flex items-center gap-1.5 px-3 py-1.5 rounded-lg transition-colors ${q.netWorth>=0?"bg-emerald-500/10 border border-emerald-500/20 hover:bg-emerald-500/15":"bg-rose-500/10 border border-rose-500/20 hover:bg-rose-500/15"}`,children:[a.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider ${q.netWorth>=0?"text-emerald-400/70":"text-rose-400/70"}`,children:"Net Worth"}),a.jsx("span",{className:`text-sm font-extrabold tabular-nums ${q.netWorth>=0?"text-emerald-400":"text-rose-400"}`,children:K(q.netWorth)}),a.jsx(ya,{size:12,className:q.netWorth>=0?"text-emerald-400/60":"text-rose-400/60"})]})]})}),a.jsxs("div",{className:"lg:hidden bg-[var(--bg-header)]/90 backdrop-blur-sm border-b border-[var(--border)] px-3 py-1.5 flex items-center gap-2 justify-end",children:[Ne>0&&a.jsxs("button",{onClick:()=>{J(E==="buyopp"?null:"buyopp"),oe()},className:"relative p-1.5 rounded-lg text-emerald-400 hover:bg-emerald-500/10 transition-colors",children:[a.jsx(Dp,{size:16}),a.jsx("span",{className:"absolute -top-0.5 -right-0.5 min-w-[14px] h-3.5 flex items-center justify-center text-[8px] font-bold text-white bg-emerald-500 rounded-full px-0.5",children:Ne})]}),W>0&&a.jsxs("button",{onClick:()=>{J(E==="rebalance"?null:"rebalance"),oe()},className:"relative p-1.5 rounded-lg text-violet-400 hover:bg-violet-500/10 transition-colors",children:[a.jsx(nc,{size:16}),a.jsx("span",{className:"absolute -top-0.5 -right-0.5 min-w-[14px] h-3.5 flex items-center justify-center text-[8px] font-bold text-white bg-violet-500 rounded-full px-0.5",children:W})]}),a.jsxs("button",{onClick:()=>{re(!0),oe()},className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg transition-colors ${q.netWorth>=0?"bg-emerald-500/10 border border-emerald-500/20 hover:bg-emerald-500/15":"bg-rose-500/10 border border-rose-500/20 hover:bg-rose-500/15"}`,children:[a.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider ${q.netWorth>=0?"text-emerald-400/70":"text-rose-400/70"}`,children:"Net Worth"}),a.jsx("span",{className:`text-sm font-extrabold tabular-nums ${q.netWorth>=0?"text-emerald-400":"text-rose-400"}`,children:K(q.netWorth)}),a.jsx(ya,{size:12,className:q.netWorth>=0?"text-emerald-400/60":"text-rose-400/60"})]})]}),X&&(()=>{const xe=q.sections.map(he=>({name:he.label,value:he.total,fill:w5(he.key),pct:q.totalInv>0?he.total/q.totalInv*100:0,color:he.color,route:he.route}));return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-3",onClick:()=>re(!1),children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),a.jsxs("div",{className:"relative w-full md:w-auto md:min-w-[720px] md:max-w-4xl max-h-[85vh] overflow-y-auto bg-[var(--bg-card)] rounded-2xl border border-[var(--border)] shadow-2xl shadow-black/40",onClick:he=>he.stopPropagation(),children:[a.jsx("button",{onClick:()=>re(!1),className:"absolute top-4 right-4 z-20 p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors",children:a.jsx(ni,{size:18,className:"text-[var(--text-secondary)]"})}),q.assetAllocation.length>0&&a.jsxs("div",{className:"px-6 pt-6 pb-3 border-b border-[var(--border-light)]",children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider text-center mb-2",children:"Asset Allocation"}),a.jsx("div",{className:"flex h-3 rounded-full overflow-hidden",children:q.assetAllocation.map(he=>a.jsx("div",{style:{width:`${he.total/q.totalInv*100}%`,backgroundColor:he.hex},title:`${he.cls}: ${(he.total/q.totalInv*100).toFixed(1)}%`},he.cls))}),a.jsx("div",{className:"flex flex-wrap justify-center gap-x-4 gap-y-1 mt-2",children:q.assetAllocation.map(he=>a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:he.hex}}),a.jsxs("span",{className:"text-[10px] text-[var(--text-muted)] tabular-nums",children:[he.cls," ",(he.total/q.totalInv*100).toFixed(0),"%"]})]},he.cls))})]}),a.jsxs("div",{className:"flex flex-col md:flex-row",children:[a.jsx("div",{className:"flex-shrink-0 md:w-[340px] pt-6 pb-4 md:pb-6 px-6 flex flex-col items-center justify-center md:border-r md:border-[var(--border-light)]",children:a.jsxs("div",{className:"relative w-[200px] h-[200px] md:w-[280px] md:h-[280px]",children:[a.jsx(Y1,{width:"100%",height:"100%",children:a.jsxs(hw,{children:[a.jsx(Sx,{data:xe,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:"55%",outerRadius:"85%",paddingAngle:3,stroke:"none",isAnimationActive:!1,activeShape:null,children:xe.map((he,ee)=>a.jsx($c,{fill:he.fill},ee))}),a.jsx(ow,{content:({active:he,payload:ee})=>{if(!he||!ee?.[0])return null;const ke=ee[0].payload;return a.jsxs("div",{className:"bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-2.5 py-1.5 shadow-lg text-xs",children:[a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:ke.name}),a.jsxs("span",{className:"text-[var(--text-muted)] ml-1.5",children:[K(ke.value)," (",ke.pct.toFixed(1),"%)"]})]})}})]})}),a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider",children:"Net Worth"}),a.jsx("p",{className:"text-lg md:text-xl font-bold text-[var(--text-primary)] tabular-nums",children:K(q.netWorth)})]})]})}),a.jsxs("div",{className:"flex-1 min-w-0 px-3 md:px-5 pt-4 md:pt-6 pb-5 flex flex-col justify-center",children:[a.jsxs("div",{className:"space-y-2",children:[q.sections.map(he=>{const ee=q.totalInv>0?he.total/q.totalInv*100:0,ke=w5(he.key);return a.jsxs(_l,{to:he.route,onClick:()=>re(!1),className:"flex items-center gap-2.5 py-2.5 px-3 rounded-xl transition-colors group",style:{backgroundColor:`${ke}12`},children:[a.jsx("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:ke}}),a.jsx("span",{className:"text-[13px] font-medium text-[var(--text-primary)] flex-1 min-w-0 truncate",children:he.label}),a.jsx("span",{className:"text-[13px] font-bold text-[var(--text-primary)] tabular-nums shrink-0 w-[80px] text-right",children:K(he.total)}),a.jsxs("span",{className:"text-[10px] font-medium tabular-nums shrink-0 w-[40px] text-center py-0.5 rounded-full",style:{backgroundColor:`${ke}20`,color:ke},children:[ee.toFixed(0),"%"]})]},he.key)}),q.totalLiab>0&&a.jsxs(_l,{to:"/liabilities",onClick:()=>re(!1),className:"flex items-center gap-2.5 py-2.5 px-3 rounded-xl transition-colors group bg-rose-500/[0.07]",children:[a.jsx("span",{className:"w-2 h-2 rounded-full shrink-0 bg-rose-500"}),a.jsxs("span",{className:"text-[13px] font-medium text-[var(--text-primary)] flex-1 min-w-0",children:[q.liabilities.length," ",q.liabilities.length===1?"Loan":"Loans"]}),a.jsxs("span",{className:"text-[13px] font-bold text-rose-400 tabular-nums shrink-0",children:["",K(q.totalLiab)]})]})]}),a.jsxs("div",{className:"mt-4 pt-3 mx-1 border-t border-[var(--border-light)] flex items-center justify-between",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] uppercase tracking-wider text-[var(--text-dim)]",children:"Net Worth"}),a.jsx("span",{className:`text-lg font-bold tabular-nums ${q.netWorth>=0?"text-emerald-400":"text-rose-400"}`,children:K(q.netWorth)})]}),a.jsxs("div",{className:"flex flex-col items-end text-[11px] text-[var(--text-dim)] tabular-nums",children:[a.jsxs("span",{children:[K(q.totalInv)," invested"]}),q.totalLiab>0&&a.jsxs("span",{className:"text-rose-400/70",children:["",K(q.totalLiab)," owed"]})]})]})]})]}),q.assetAllocation.length>0&&a.jsx("div",{className:"px-6 py-2.5 border-t border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] text-center",children:"Approximate. MF splits are estimated from fund names. Add Morningstar data in Fund Breakdown for accuracy."})})]})]})})(),E&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-16 sm:pt-24 px-3",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>J(null)}),a.jsxs("div",{className:"relative w-full max-w-3xl max-h-[75vh] rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-2xl shadow-black/40 overflow-hidden flex flex-col animate-in fade-in slide-in-from-top-4 duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-[var(--border-light)] shrink-0",children:[a.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:Zie[E]}),a.jsx("button",{onClick:()=>J(null),className:"p-1.5 rounded-lg hover:bg-[var(--bg-hover)] text-[var(--text-dim)] transition-colors",children:a.jsx(ni,{size:16})})]}),a.jsxs("div",{className:"overflow-y-auto p-4",children:[E==="buyopp"&&a.jsx(q4,{}),E==="rebalance"&&a.jsx(MI,{})]})]})]})]})}const ese=[{label:"Dashboard",icon:Kz,path:"/dashboard"},{label:"Invest",icon:up,path:"/investments/mutual-funds"},{label:"Accounts",icon:Lh,path:"/accounts/bank"},{label:"Goals",icon:Od,path:"/goals"},{label:"More",icon:Dz,path:"/more"}];function tse(){return a.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-40 bg-[var(--bg-sidebar)] border-t border-[var(--border)] safe-bottom",children:a.jsx("div",{className:"flex items-center justify-around h-[56px]",children:ese.map(({label:e,icon:t,path:r})=>a.jsx(N_,{to:r,className:({isActive:n})=>`relative flex flex-col items-center justify-center gap-0.5 w-full h-full text-xs font-medium transition-colors ${n?"text-[var(--sidebar-active-text)]":"text-[var(--text-dim)]"}`,children:({isActive:n})=>a.jsxs(a.Fragment,{children:[n&&a.jsx("span",{className:"absolute top-0 w-10 h-[2.5px] bg-[var(--sidebar-active-text)] rounded-b-full"}),a.jsx("div",{className:`flex items-center justify-center w-9 h-9 rounded-xl transition-colors ${n?"bg-[var(--sidebar-active-bg)]":""}`,children:a.jsx(t,{size:19,strokeWidth:n?2.2:1.5})}),a.jsx("span",{className:n?"font-semibold":"",children:e})]})},r))})})}const rse="/logo-new.png";function Oh(){return a.jsx("div",{className:"flex h-dvh items-center justify-center bg-[var(--bg-base)]",children:a.jsxs("div",{className:"flex flex-col items-center gap-6",children:[a.jsx("img",{src:rse,alt:"Capital Friends",className:"h-16 w-auto animate-pulse"}),a.jsx("div",{className:"w-40 h-1 rounded-full bg-[var(--border)] overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-violet-500 to-cyan-500 animate-loading-bar"})})]})})}const N5="jagadeeshmanne.hdfc@kphdfc";function DI({open:e,onClose:t}){const[r,n]=j.useState(!1);if(!e)return null;function i(){navigator.clipboard.writeText(N5).then(()=>{n(!0),setTimeout(()=>n(!1),2e3)})}return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",onClick:t,children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),a.jsxs("div",{className:"relative w-full max-w-sm mx-4 bg-[var(--bg-card)] rounded-2xl border border-[var(--border)] overflow-hidden",onClick:l=>l.stopPropagation(),children:[a.jsx("button",{onClick:t,className:"absolute top-3 right-3 z-20 p-1.5 rounded-full bg-[var(--bg-inset)] hover:bg-[var(--bg-hover)]",children:a.jsx(ni,{size:16,className:"text-[var(--text-muted)]"})}),a.jsxs("div",{className:"pt-6 pb-5 px-6 text-center",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-pink-500/20 flex items-center justify-center mx-auto mb-3",children:a.jsx(_d,{size:24,className:"text-pink-400"})}),a.jsx("h3",{className:"text-lg font-bold text-[var(--text-primary)]",children:"Support the Developer"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"Capital Friends is free and always will be. If it helps your family, a small donation means a lot!"}),a.jsx("div",{className:"mt-4 bg-white rounded-xl p-3 inline-block mx-auto",children:a.jsx("img",{src:"/upi-qr-code.png",alt:"UPI QR Code",className:"w-48 h-48 object-contain"})}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-3",children:"Scan with any UPI app"}),a.jsxs("div",{className:"mt-3 flex items-center justify-center gap-2",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border)]",children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"UPI ID"}),a.jsx("p",{className:"text-sm font-mono font-semibold text-[var(--text-primary)] select-all",children:N5})]}),a.jsx("button",{onClick:i,className:"shrink-0 px-3 py-2.5 rounded-lg text-xs font-semibold bg-pink-500/15 text-pink-400 hover:bg-pink-500/25 transition-colors flex items-center gap-1.5",children:r?a.jsxs(a.Fragment,{children:[a.jsx(Ap,{size:14})," Copied"]}):a.jsxs(a.Fragment,{children:[a.jsx(bz,{size:14})," Copy"]})})]}),a.jsxs("p",{className:"text-[11px] text-[var(--text-dim)] mt-4",children:["Developed with love by ",a.jsx("span",{className:"font-semibold text-[var(--text-muted)]",children:"Jagadeesh Manne"})]})]})]})]})}function nse(){const{loading:e,error:t}=pt(),[r,n]=j.useState(!1),[i,l]=j.useState(!1);return e?a.jsx(Oh,{}):t?a.jsx("div",{className:"flex h-dvh items-center justify-center bg-[var(--bg-base)]",children:a.jsxs("div",{className:"flex flex-col items-center gap-4 text-center px-6",children:[a.jsx("img",{src:"/logo-new.png",alt:"Capital Friends",className:"h-16 w-auto opacity-50"}),a.jsx("p",{className:"text-rose-400 text-sm font-medium",children:t}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 text-sm font-medium rounded-lg bg-violet-600 hover:bg-violet-500 text-white transition-colors",children:"Retry"})]})}):a.jsxs("div",{className:"flex flex-col h-dvh bg-[var(--bg-base)] overflow-hidden",children:[a.jsx(Jie,{}),a.jsxs("main",{className:"flex-1 overflow-y-auto overscroll-contain pb-20 lg:pb-0",children:[a.jsx("div",{className:"px-3 sm:px-4 py-3 sm:py-4 w-full max-w-7xl mx-auto",children:a.jsx(b_,{})}),a.jsx("footer",{className:"hidden lg:block border-t border-[var(--border-light)] mt-4",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-3",children:a.jsx("p",{className:"text-[11px] text-[var(--text-dim)]",children:"Capital Friends  Family Portfolio Manager"})})})]}),a.jsx(tse,{}),!i&&a.jsx("div",{className:"fixed bottom-20 lg:bottom-4 left-1/2 -translate-x-1/2 z-40 w-[calc(100%-32px)] max-w-md",children:a.jsxs("div",{className:"relative overflow-hidden rounded-xl border border-amber-500/25 p-3.5 shadow-lg backdrop-blur-sm",style:{background:"var(--bg-card)"},children:[a.jsx("button",{onClick:c=>{c.stopPropagation(),l(!0)},className:"absolute top-2 right-2 p-1 rounded-full hover:bg-[var(--bg-hover)] transition-colors",children:a.jsx(ni,{size:14,className:"text-[var(--text-dim)]"})}),a.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>{n(!0),l(!0)},children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-500/15 flex items-center justify-center shrink-0",children:a.jsx(_d,{size:20,className:"text-amber-400"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("p",{className:"text-[11px] text-[var(--text-dim)]",children:["Built with ",a.jsx("span",{className:"text-amber-400",children:""})," by Jagadeesh Manne"]}),a.jsx("p",{className:"text-sm font-semibold text-amber-400 mt-0.5",children:"Support the Developer"}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5",children:"If Capital Friends helps you, consider buying me a chai!"})]})]})]})}),a.jsx(DI,{open:r,onClose:()=>n(!1)})]})}function ase(){const{isAuthenticated:e,loading:t}=eo(),{healthCheckCompleted:r,loading:n}=pt(),i=Ea();return t&&!e?a.jsx(Oh,{phase:"auth"}):!e&&!t?a.jsx(ny,{to:"/",replace:!0}):n?a.jsx(Oh,{phase:"data"}):r===!1&&i.pathname!=="/health-check"?a.jsx(ny,{to:"/health-check",replace:!0}):a.jsx(b_,{})}const qb="/logo-new.png";function EI(){const{isAuthenticated:e,loading:t,error:r,signIn:n}=eo(),i=Gs(),[l,c]=j.useState(0),[u,f]=j.useState(!1),m=j.useRef(null),h=j.useCallback(()=>{m.current&&clearInterval(m.current),m.current=setInterval(()=>{f(S=>(S||c(y=>(y+1)%4),S))},5e3)},[]);j.useEffect(()=>(h(),()=>{m.current&&clearInterval(m.current)}),[h]);function x(S){c(S),h()}if(j.useEffect(()=>{e&&i("/dashboard",{replace:!0})},[e,i]),t)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#080d1a]",children:a.jsx("img",{src:qb,alt:"",className:"h-16 w-auto animate-pulse"})});const v=[{id:"ath",label:"ATH Tracking",icon:a.jsx(uc,{size:18}),color:"emerald",tagline:"Spot Buying Opportunities",desc:"See how far each mutual fund is from its All-Time High NAV. When a quality fund dips 10-20% below ATH, it's your signal to invest more  via SIP increase or lumpsum.",mock:a.jsx(sse,{})},{id:"rebalance",label:"Rebalancing",icon:a.jsx(nc,{size:18}),color:"violet",tagline:"Know Exactly What to Buy or Sell",desc:"Set target allocation for each fund. When your portfolio drifts, Capital Friends tells you exactly how much to adjust  via SIP changes, lumpsum top-ups, or buy/sell actions.",mock:a.jsx(lse,{})},{id:"goals",label:"Goal Linking",icon:a.jsx(Od,{size:18}),color:"cyan",tagline:"Link Portfolios to Goals",desc:"Create goals like retirement, child education, or emergency fund. Link MF portfolios with allocation percentages. Goal progress updates automatically as NAVs change daily.",mock:a.jsx(ose,{})},{id:"dashboard",label:"Family View",icon:a.jsx(Yl,{size:18}),color:"amber",tagline:"Everyone's Wealth, One Dashboard",desc:"Switch between family members in one click. See combined or individual net worth, investments, insurance, loans  everything your family owns, in one place.",mock:a.jsx(ise,{})}],g=v[l];return a.jsxs("div",{className:"min-h-screen bg-[#080d1a] text-slate-200",children:[a.jsx("header",{className:"sticky top-0 z-50 bg-[#0a0f1f]/95 backdrop-blur-sm border-b border-white/[0.06]",children:a.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 h-14",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("img",{src:qb,alt:"CF",className:"h-12 w-auto"}),a.jsxs("span",{className:"flex items-baseline gap-1 text-lg tracking-tight",style:{fontFamily:"'Poppins', sans-serif"},children:[a.jsx("span",{className:"font-bold text-white",children:"Capital"}),a.jsx("span",{className:"font-extrabold text-emerald-400",children:"Friends"})]})]}),a.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-violet-600 to-cyan-600 text-white text-sm font-semibold hover:from-violet-500 hover:to-cyan-500 transition-all cursor-pointer",children:[a.jsx(C5,{s:14})," Sign In"]})]})}),a.jsxs("section",{className:"relative px-5 sm:px-8 lg:px-16 pt-10 sm:pt-14 pb-8 sm:pb-10 overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 left-1/4 w-[600px] h-[400px] bg-violet-600/8 rounded-full blur-[120px] pointer-events-none"}),a.jsx("div",{className:"absolute top-20 right-1/4 w-[400px] h-[300px] bg-cyan-600/6 rounded-full blur-[100px] pointer-events-none"}),a.jsxs("div",{className:"relative text-center",children:[a.jsx("span",{className:"inline-block text-xs font-bold uppercase tracking-[0.2em] text-violet-400 bg-violet-500/10 border border-violet-500/20 rounded-full px-4 py-1.5 mb-5",children:"Always Free  100% Private  Your Google Sheet"}),a.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-extrabold leading-[1.1] tracking-tight text-white",children:["One dashboard for your family's"," ",a.jsx("span",{className:"bg-gradient-to-r from-violet-400 to-cyan-400 bg-clip-text text-transparent",children:"entire wealth"})]}),a.jsxs("p",{className:"mt-5 text-base sm:text-lg text-slate-400 leading-relaxed max-w-2xl mx-auto",children:["Mutual funds, stocks, FDs, gold, insurance, loans  track everything for every family member. Manual entry means ",a.jsx("strong",{className:"text-white",children:"no bank credentials, no privacy risk"}),"."]}),r&&a.jsx("p",{className:"mt-5 text-sm text-rose-400",children:r})]})]}),a.jsxs("section",{className:"bg-gradient-to-b from-[#0d0a1a] to-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-10 sm:py-14",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white inline-flex items-center gap-3 flex-wrap justify-center",children:[a.jsx($s,{size:28,className:"text-amber-400 shrink-0"}),a.jsxs("span",{children:["What happens if something happens to ",a.jsx("span",{className:"text-amber-400",children:"you"}),"?"]})]}),a.jsxs("p",{className:"mt-4 text-lg text-slate-400 leading-relaxed",children:["Your family should know about every investment, every policy, every loan. Not someday. ",a.jsx("strong",{className:"text-white",children:"Right now."})]})]}),a.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[a.jsx(S5,{icon:a.jsx(kp,{size:20}),color:"rose",title:"Without Capital Friends",items:["Scattered investments across 10+ platforms","Family has no idea what you own or owe","Insurance policies lost in email threads","Months of confusion, missed renewals, lost money"],bad:!0}),a.jsx(S5,{icon:a.jsx(ac,{size:20}),color:"emerald",title:"With Capital Friends",items:["One sheet  every investment, policy, and loan","Family receives email reports with full portfolio details","Reminders for SIPs, renewals, EMI payments","Complete clarity, instantly  when it matters most"]})]}),a.jsxs("p",{className:"text-center mt-8 text-base text-slate-500",children:["Built for ",a.jsx("strong",{className:"text-white",children:"you"})," to manage your wealth  and for your ",a.jsx("strong",{className:"text-white",children:"family"})," to access it when they need to."]})]}),a.jsxs("section",{className:"bg-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"How it Works"}),a.jsx("p",{className:"text-base text-slate-500",children:"Set up in 2 minutes  no bank credentials, no downloads"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-4",children:[a.jsx(Vm,{num:1,icon:a.jsx(tB,{size:24}),color:"violet",title:"Sign In with Google",desc:"Go to capitalfriends.in and sign in with your Google account. That's all  no registration form, no passwords."}),a.jsx(Vm,{num:2,icon:a.jsx(Tz,{size:24}),color:"emerald",title:"App Creates Your Sheet",desc:"The app creates a private Google Sheet in your own Google Drive. This sheet stores all your financial data. Only you can see it  not even the developer."}),a.jsx(Vm,{num:3,icon:a.jsx(fO,{size:24}),color:"cyan",title:"Financial Health Check",desc:"Answer 7 simple yes/no questions about your financial health. Get your score and personalized recommendations instantly."}),a.jsx(Vm,{num:4,icon:a.jsx(uc,{size:24}),color:"amber",title:"Start Tracking",desc:"Add family members, portfolios, goals, insurance, and loans. The app connects to AMFI for live mutual fund prices automatically."})]}),a.jsxs("p",{className:"text-center mt-10 text-sm text-slate-600",children:["Your sheet is named ",a.jsx("strong",{className:"text-slate-400",children:"Capital Friends - Your Name"})," and lives in your Google Drive. The web app is just a beautiful dashboard to view and manage it."]})]}),a.jsxs("section",{id:"features",className:"bg-[#0b1022] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",onMouseEnter:()=>f(!0),onMouseLeave:()=>{f(!1),h()},children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Features That Set Us Apart"}),a.jsx("p",{className:"text-base text-slate-500",children:"Things you won't find on other portfolio trackers"})]}),a.jsx("div",{className:"flex justify-center gap-2 sm:gap-3 mb-10 flex-wrap",children:v.map((S,y)=>{const w=y===l,C={emerald:"border-emerald-500",violet:"border-violet-500",cyan:"border-cyan-500",amber:"border-amber-500"},k={emerald:"text-emerald-400",violet:"text-violet-400",cyan:"text-cyan-400",amber:"text-amber-400"};return a.jsxs("button",{onClick:()=>x(y),className:`relative flex items-center gap-2 px-5 py-2.5 rounded-full border text-sm font-semibold transition-all cursor-pointer ${w?`${C[S.color]} bg-white/[0.05] ${k[S.color]}`:"border-white/[0.08] text-slate-500 hover:border-white/[0.15] hover:text-slate-300"}`,children:[a.jsx("span",{className:"shrink-0",children:S.icon}),S.label,w&&a.jsx("div",{className:"absolute bottom-0 left-4 right-4 h-0.5 bg-white/[0.06] rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full bg-current",style:{animation:"featureProgress 5s linear",animationPlayState:u?"paused":"running"}})})]},S.id)})}),a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-8 lg:gap-12",children:[a.jsxs("div",{className:"lg:flex-1 min-h-[280px]",children:[a.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:g.tagline}),a.jsx("p",{className:"mt-3 text-base text-slate-400 leading-relaxed",children:g.desc}),g.id==="ath"&&a.jsxs("div",{className:"mt-6 space-y-5",children:[a.jsx(Zr,{c:"emerald",t:"ATH tracking only for funds in your portfolios"}),a.jsx(Zr,{c:"emerald",t:"Color-coded signals: watch, consider, buy, strong buy"}),a.jsx(Zr,{c:"emerald",t:"Increase SIP or invest lumpsum when funds dip"}),a.jsx(Zr,{c:"emerald",t:"Daily NAV updates from AMFI data"})]}),g.id==="rebalance"&&a.jsxs("div",{className:"mt-6 space-y-5",children:[a.jsx(Zr,{c:"violet",t:"Adjust monthly SIP to rebalance gradually"}),a.jsx(Zr,{c:"violet",t:"Lumpsum top-up for quick rebalance"}),a.jsx(Zr,{c:"violet",t:"Buy/Sell amounts to match target"}),a.jsx(Zr,{c:"violet",t:"Configurable threshold per portfolio"})]}),g.id==="goals"&&a.jsxs("div",{className:"mt-6 space-y-5",children:[a.jsx(Zr,{c:"cyan",t:"Link multiple MF portfolios to each goal"}),a.jsx(Zr,{c:"cyan",t:"Built-in SIP + lumpsum calculator with inflation"}),a.jsx(Zr,{c:"cyan",t:"Auto-status: On Track, Needs Attention, Achieved"}),a.jsx(Zr,{c:"cyan",t:"Withdrawal planning for retirement goals"})]}),g.id==="dashboard"&&a.jsxs("div",{className:"mt-6 space-y-5",children:[a.jsx(Zr,{c:"amber",t:"One-click switch between family members"}),a.jsx(Zr,{c:"amber",t:"Combined net worth across everyone"}),a.jsx(Zr,{c:"amber",t:"MF, stocks, FD, gold, PPF, NPS, insurance"}),a.jsx(Zr,{c:"amber",t:"Email reports sent to family automatically"})]})]}),a.jsx("div",{className:"lg:flex-1 min-w-0 min-h-[380px] flex flex-col justify-center",children:g.mock})]}),a.jsx("style",{children:`
          @keyframes featureProgress {
            from { width: 0% }
            to { width: 100% }
          }
        `})]}),a.jsxs("section",{className:"bg-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Everything You Need"}),a.jsx("p",{className:"text-base text-slate-500",children:"One dashboard for your entire financial life"})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:[a.jsx(Os,{icon:a.jsx(rc,{size:20}),c:"rose",t:"Stock Portfolios",d:"Buy/sell tracking, average cost, P&L with live NSE prices"}),a.jsx(Os,{icon:a.jsx(dB,{size:20}),c:"orange",t:"FD, Gold, PPF, NPS",d:"Track any investment type  all counted in net worth"}),a.jsx(Os,{icon:a.jsx(ac,{size:20}),c:"teal",t:"Insurance Tracker",d:"Life, health, term policies with premiums & renewal dates"}),a.jsx(Os,{icon:a.jsx(Lh,{size:20}),c:"red",t:"Liabilities",d:"Loans & EMIs. Net worth = total assets minus debts"}),a.jsx(Os,{icon:a.jsx(C1,{size:20}),c:"yellow",t:"Smart Reminders",d:"SIP dates, renewals, EMI payments, maturity alerts"}),a.jsx(Os,{icon:a.jsx(Yl,{size:20}),c:"pink",t:"Family Sharing",d:"Invite family with Google accounts  shared dashboard"}),a.jsx(Os,{icon:a.jsx(nc,{size:20}),c:"blue",t:"Daily Auto-Refresh",d:"NAVs and stock prices update automatically every day"}),a.jsx(Os,{icon:a.jsx(Jg,{size:20}),c:"emerald",t:"Complete Privacy",d:"No servers, no database, no tracking  your Sheet only"})]})]}),a.jsxs("section",{className:"border-y border-white/[0.06]",children:[a.jsxs("div",{className:"bg-[#0b1022] px-5 sm:px-8 lg:px-16 py-10 sm:py-14 text-center",children:[a.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white inline-flex items-center gap-3",children:[a.jsx(Jg,{size:28,className:"text-emerald-400 shrink-0"}),"Your Data Never Leaves Google"]}),a.jsxs("p",{className:"mt-3 text-base sm:text-lg text-slate-400 leading-relaxed",children:["No backend server. No database. No tracking. The web app is a static site. Your spreadsheet lives in ",a.jsx("strong",{className:"text-white",children:"your Google Drive"}),". We literally cannot access your financial data."]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row",children:[a.jsx(Yb,{icon:a.jsx(ac,{size:20}),t:"Manual Entry Only",d:"No bank linking, no credentials shared. You type your data  no one else has access.",bg:"bg-[#0d1326]",c:"emerald"}),a.jsx(Yb,{icon:a.jsx(Jg,{size:20}),t:"Your Google Sheet",d:"A private spreadsheet in your Drive. Share only with family you choose.",bg:"bg-[#0f1530]",c:"violet"}),a.jsx(Yb,{icon:a.jsx(_d,{size:20}),t:"Always Free",d:"No premium tier, no hidden fees, no ads. Free today, free forever.",bg:"bg-[#111838]",c:"amber"})]})]}),a.jsxs("section",{className:"bg-gradient-to-t from-[#080d1a] to-[#0d1128] border-t border-white/[0.06] px-5 sm:px-8 lg:px-16 py-16 text-center",children:[a.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-white",children:"Start managing your family's wealth today"}),a.jsx("p",{className:"mt-3 text-base text-slate-500",children:"Always free. No credit card. No bank linking. Just your Google account."}),a.jsxs("button",{onClick:n,className:"mt-8 inline-flex items-center gap-2.5 px-8 py-3.5 bg-gradient-to-r from-violet-600 to-cyan-600 text-white font-bold text-base rounded-xl hover:from-violet-500 hover:to-cyan-500 shadow-lg shadow-violet-900/30 transition-all hover:scale-[1.02] cursor-pointer",children:[a.jsx(C5,{s:20})," Sign in with Google  It's Free"]}),r&&a.jsx("p",{className:"mt-3 text-sm text-rose-400",children:r})]}),a.jsxs("footer",{className:"border-t border-white/[0.04] px-5 sm:px-8 lg:px-16 py-5 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-1.5 opacity-30",children:[a.jsx("img",{src:qb,alt:"",className:"h-5 w-auto"}),a.jsxs("span",{className:"text-xs font-bold text-white",style:{fontFamily:"'Poppins', sans-serif"},children:["Capital",a.jsx("span",{class:"text-emerald-400",children:"Friends"})]})]}),a.jsx("p",{className:"text-xs text-slate-600",children:"Your data. Your Google Drive. Your control."})]})]})}function S5({icon:e,title:t,items:r,bad:n}){const i=n?"border-rose-500/15":"border-emerald-500/15",l=n?"bg-rose-500/[0.04]":"bg-emerald-500/[0.04]",c=n?"bg-rose-500/10 text-rose-400":"bg-emerald-500/10 text-emerald-400",u=n?"text-rose-400":"text-emerald-400";return a.jsxs("div",{className:`rounded-2xl border ${i} ${l} p-6`,children:[a.jsxs("h3",{className:`text-lg font-bold ${u} mb-4 flex items-center gap-2.5`,children:[a.jsx("span",{className:`flex items-center justify-center w-8 h-8 rounded-lg ${c} shrink-0`,children:e}),t]}),a.jsx("ul",{className:"space-y-3",children:r.map((f,m)=>a.jsxs("li",{className:"flex items-start gap-2.5",children:[n?a.jsx("span",{className:"text-rose-500/60 mt-0.5 shrink-0",children:""}):a.jsx(_c,{size:16,className:"text-emerald-500 mt-0.5 shrink-0"}),a.jsx("span",{className:"text-sm text-slate-300 leading-relaxed",children:f})]},m))})]})}function ise(){return a.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f]",children:[a.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Dashboard"}),a.jsx("div",{className:"flex gap-1.5",children:["Everyone","Jagadeesh","Priya","Arjun"].map((e,t)=>a.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full font-medium ${t===0?"bg-violet-500/20 text-violet-300":"text-slate-600"}`,children:e},e))})]}),a.jsxs("div",{className:"grid grid-cols-3 divide-x divide-white/[0.04]",children:[a.jsx(Hb,{l:"Net Worth",v:"45.2L",lc:"text-violet-400",vc:"text-white"}),a.jsx(Hb,{l:"Invested",v:"38.7L",lc:"text-slate-500",vc:"text-slate-300"}),a.jsx(Hb,{l:"P&L",v:"+6.5L",lc:"text-slate-500",vc:"text-emerald-400",extra:"+16.8%"})]}),a.jsxs("div",{className:"border-t border-white/[0.04]",children:[a.jsx(Ub,{n:"Axis Bluechip Fund",alloc:"30% / 25%",cur:"6.2L",pl:"+24.0%",ath:"5.2%",athC:"text-[#e67e00]",up:!0}),a.jsx(Ub,{n:"Parag Parikh Flexi Cap",alloc:"35% / 40%",cur:"4.8L",pl:"+37.1%",ath:"At ATH",athC:"text-emerald-500",up:!0}),a.jsx(Ub,{n:"SBI Small Cap Fund",alloc:"20% / 15%",cur:"1.8L",pl:"-10.0%",ath:"18.3%",athC:"text-[#d84315]",last:!0})]})]})}function sse(){const e=[{n:"HDFC Mid-Cap Opportunities",nav:"142.35",ath:"168.50",pct:"15.5%",color:"text-[#d84315]",signal:"Good Buy Signal",sigC:"text-[#d84315] bg-[#d84315]/15"},{n:"Axis Small Cap Fund",nav:"38.22",ath:"52.10",pct:"26.6%",color:"text-[#c62828]",signal:"Strong Buy",sigC:"text-[#c62828] bg-[#c62828]/15 font-bold"},{n:"Kotak Emerging Equity",nav:"89.10",ath:"92.40",pct:"3.6%",color:"text-[#b8860b]",signal:"Watch",sigC:"text-[#b8860b] bg-[#b8860b]/15"},{n:"Mirae Asset Large Cap",nav:"105.80",ath:"106.20",pct:"0.4%",color:"text-slate-500",signal:"Near ATH",sigC:"text-slate-500 bg-white/[0.04]"}];return a.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-semibold text-white",children:"Buy Opportunities"}),a.jsx("span",{className:"text-xs text-emerald-400 font-semibold bg-emerald-500/10 px-2.5 py-1 rounded-full",children:"2 signals"})]}),e.map((t,r)=>a.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${r<e.length-1?"border-b border-white/[0.03]":""}`,children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-slate-300 truncate",children:t.n}),a.jsxs("p",{className:"text-xs text-slate-600 mt-0.5",children:["NAV ","",t.nav,"  ATH ","",t.ath]})]}),a.jsxs("div",{className:"text-right shrink-0 ml-3",children:[a.jsxs("p",{className:`text-base font-bold tabular-nums ${t.color}`,children:[a.jsx(qF,{size:13,className:"inline -mt-0.5"})," ",t.pct]}),a.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded ${t.sigC}`,children:t.signal})]})]},r))]})}function lse(){const[e,t]=j.useState(0),r=["SIP Adjust","Lumpsum","Buy / Sell"],n=["New SIP","Lumpsum Top-up","Action"],l=[[{n:"Axis Bluechip",val:"SIP 6,000",cur:"30%",tgt:"25%",action:"Stop SIP",actionC:"text-amber-400"},{n:"Parag Parikh Flexi",val:"SIP 7,000",cur:"35%",tgt:"40%",action:"12,000/mo",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"SIP 4,000",cur:"20%",tgt:"15%",action:"Stop SIP",actionC:"text-amber-400"},{n:"HDFC Large Cap",val:"SIP 3,000",cur:"15%",tgt:"20%",action:"8,000/mo",actionC:"text-emerald-400"}],[{n:"Axis Bluechip",val:"3,00,000",cur:"30%",tgt:"25%",action:"No action",actionC:"text-slate-600"},{n:"Parag Parikh Flexi",val:"3,50,000",cur:"35%",tgt:"40%",action:"Invest 55,000",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"2,00,000",cur:"20%",tgt:"15%",action:"No action",actionC:"text-slate-600"},{n:"HDFC Large Cap",val:"1,50,000",cur:"15%",tgt:"20%",action:"Invest 45,000",actionC:"text-emerald-400"}],[{n:"Axis Bluechip",val:"3,00,000",cur:"30%",tgt:"25%",action:"Sell 50,000",actionC:"text-rose-400"},{n:"Parag Parikh Flexi",val:"3,50,000",cur:"35%",tgt:"40%",action:"Buy 50,000",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"2,00,000",cur:"20%",tgt:"15%",action:"Sell 50,000",actionC:"text-rose-400"},{n:"HDFC Large Cap",val:"1,50,000",cur:"15%",tgt:"20%",action:"Buy 50,000",actionC:"text-emerald-400"}]][e];return a.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-semibold text-white",children:"Rebalance Portfolio"}),a.jsx("span",{className:"text-xs text-violet-400 font-semibold bg-violet-500/10 px-2.5 py-1 rounded-full",children:"4 off-target"})]}),a.jsx("div",{className:"flex border-b border-white/[0.04]",children:r.map((c,u)=>a.jsx("button",{onClick:()=>t(u),className:`flex-1 text-xs font-semibold py-2.5 text-center cursor-pointer transition-colors ${u===e?"text-violet-400 border-b-2 border-violet-400":"text-slate-600 hover:text-slate-400"}`,children:c},c))}),a.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 border-b border-white/[0.04] bg-[#0a0f1f]/50 flex-wrap",children:[a.jsx("span",{className:"text-xs text-slate-500",children:"Portfolio Value"}),a.jsxs("span",{className:"text-sm text-white font-semibold tabular-nums",children:["","10,00,000"]}),e===0&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-xs text-slate-600",children:"|"}),a.jsx("span",{className:"text-xs text-slate-500",children:"Total SIP"}),a.jsxs("span",{className:"text-sm text-white font-semibold tabular-nums",children:["","20,000"]})]}),e===1&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-xs text-slate-600",children:"|"}),a.jsx("span",{className:"text-xs text-slate-500",children:"Lumpsum"}),a.jsx("input",{type:"text",readOnly:!0,value:"1,00,000",className:"bg-white/[0.04] border border-white/[0.08] rounded-md px-2 py-1 text-sm text-white font-semibold tabular-nums w-24 text-right cursor-default outline-none"})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"grid grid-cols-[1fr_50px_50px_1fr] gap-1 px-4 py-2.5 text-xs text-slate-600 font-semibold border-b border-white/[0.03]",children:[a.jsx("span",{children:"Fund / Value"}),a.jsx("span",{className:"text-center",children:"Current"}),a.jsx("span",{className:"text-center",children:"Target"}),a.jsx("span",{className:"text-right",children:n[e]})]}),l.map((c,u)=>a.jsxs("div",{className:`grid grid-cols-[1fr_50px_50px_1fr] gap-1 px-4 py-2.5 items-center ${u<l.length-1?"border-b border-white/[0.03]":""}`,children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("span",{className:"text-sm text-slate-300 truncate block",children:c.n}),a.jsxs("span",{className:"text-[10px] text-slate-600",children:["",c.val]})]}),a.jsx("span",{className:"text-sm text-center text-slate-400 tabular-nums",children:c.cur}),a.jsx("span",{className:"text-sm text-center text-slate-400 tabular-nums",children:c.tgt}),a.jsx("span",{className:`text-sm text-right font-semibold ${c.actionC}`,children:c.action})]},`${e}-${u}`))]})]})}function ose(){const e=[{n:"Retirement",tgt:"2Cr",cur:"28.5L",pct:14,sip:"45,000",yrs:"18 yrs",status:"On Track",sc:"text-blue-400 bg-blue-500/15",bc:"bg-blue-500"},{n:"Child Education",tgt:"50L",cur:"12.2L",pct:24,sip:"15,000",yrs:"12 yrs",status:"On Track",sc:"text-blue-400 bg-blue-500/15",bc:"bg-blue-500"},{n:"New Car",tgt:"15L",cur:"4.1L",pct:27,sip:"12,000",yrs:"3 yrs",status:"Needs Attention",sc:"text-amber-400 bg-amber-500/15",bc:"bg-amber-500"}];return a.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-semibold text-white",children:"Goals"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-slate-500",children:"2 On Track"}),a.jsx("span",{className:"text-xs text-amber-400",children:"1 Needs Attention"})]})]}),e.map((t,r)=>a.jsxs("div",{className:`px-4 py-3.5 ${r<e.length-1?"border-b border-white/[0.03]":""}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-semibold text-white",children:t.n}),a.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded-full ${t.sc}`,children:t.status})]}),a.jsxs("span",{className:"text-xs text-slate-500",children:["",t.sip,"/mo  ",t.yrs]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex-1 h-2.5 rounded-full bg-white/[0.06] overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${t.bc}`,style:{width:`${t.pct}%`}})}),a.jsxs("span",{className:"text-sm font-semibold text-slate-300 tabular-nums w-10 text-right",children:[t.pct,"%"]})]}),a.jsxs("div",{className:"flex justify-between mt-1.5 text-xs text-slate-600",children:[a.jsxs("span",{children:["",t.cur," of ","",t.tgt]}),a.jsxs("span",{className:"flex items-center gap-1 text-slate-500",children:[a.jsx(vO,{size:10})," 2 portfolios linked"]})]})]},r))]})}function C5({s:e=16}){return a.jsxs("svg",{viewBox:"0 0 24 24",width:e,height:e,className:"shrink-0",children:[a.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 01-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z",fill:"#4285F4"}),a.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),a.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),a.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}function Hb({l:e,v:t,lc:r,vc:n,extra:i}){return a.jsxs("div",{className:"py-3.5 text-center",children:[a.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider ${r}`,children:e}),a.jsxs("p",{className:`text-lg font-bold tabular-nums mt-0.5 ${n}`,children:[t,i&&a.jsx("span",{className:"text-sm ml-1 text-emerald-400",children:i})]})]})}function Ub({n:e,alloc:t,cur:r,pl:n,ath:i,athC:l,up:c,last:u}){return a.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${u?"":"border-b border-white/[0.03]"}`,children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-300",children:e}),a.jsxs("p",{className:"text-xs text-slate-600",children:["Alloc ",t,"  ",a.jsx("span",{className:l,children:i!=="At ATH"?`${i} below ATH`:i})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-200 tabular-nums",children:r}),a.jsx("p",{className:`text-sm font-semibold tabular-nums ${c?"text-emerald-400":"text-rose-400"}`,children:n})]})]})}function Zr({c:e,t}){const r={violet:"text-violet-400",cyan:"text-cyan-400",amber:"text-amber-400",emerald:"text-emerald-400"};return a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx(_c,{size:16,className:`${r[e]} shrink-0`}),a.jsx("span",{className:"text-sm text-slate-300",children:t})]})}function Vm({num:e,icon:t,color:r,title:n,desc:i}){const l={violet:["text-violet-400","bg-violet-500/10","border-violet-500/20","from-violet-500/20 to-violet-500/5"],emerald:["text-emerald-400","bg-emerald-500/10","border-emerald-500/20","from-emerald-500/20 to-emerald-500/5"],cyan:["text-cyan-400","bg-cyan-500/10","border-cyan-500/20","from-cyan-500/20 to-cyan-500/5"],amber:["text-amber-400","bg-amber-500/10","border-amber-500/20","from-amber-500/20 to-amber-500/5"]},[c,u,f,m]=l[r]||l.violet;return a.jsxs("div",{className:`relative rounded-2xl border ${f} bg-gradient-to-b ${m} p-6 text-center`,children:[a.jsx("span",{className:`inline-flex items-center justify-center w-12 h-12 rounded-xl ${u} ${c} mb-4`,children:t}),a.jsxs("span",{className:`absolute top-4 right-4 text-xs font-bold ${c} opacity-40`,children:["0",e]}),a.jsx("h3",{className:"text-base font-bold text-white mb-2",children:n}),a.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:i})]})}function Yb({icon:e,t,d:r,bg:n,c:i}){const l={emerald:"text-emerald-400",violet:"text-violet-400",amber:"text-amber-400"};return a.jsxs("div",{className:`flex-1 ${n} px-5 sm:px-8 lg:px-10 py-6 sm:py-8 border-b sm:border-b-0 sm:border-r border-white/[0.04] last:border-0`,children:[a.jsxs("p",{className:"text-base font-bold text-white flex items-center gap-2",children:[a.jsx("span",{className:`${l[i]} shrink-0`,children:e}),t]}),a.jsx("p",{className:"text-sm text-slate-500 mt-1.5 leading-relaxed",children:r})]})}const A5={violet:["text-violet-400","bg-violet-500/8","border-violet-500/10"],blue:["text-blue-400","bg-blue-500/8","border-blue-500/10"],emerald:["text-emerald-400","bg-emerald-500/8","border-emerald-500/10"],cyan:["text-cyan-400","bg-cyan-500/8","border-cyan-500/10"],rose:["text-rose-400","bg-rose-500/8","border-rose-500/10"],orange:["text-orange-400","bg-orange-500/8","border-orange-500/10"],teal:["text-teal-400","bg-teal-500/8","border-teal-500/10"],red:["text-red-400","bg-red-500/8","border-red-500/10"],yellow:["text-yellow-400","bg-yellow-500/8","border-yellow-500/10"],pink:["text-pink-400","bg-pink-500/8","border-pink-500/10"]};function Os({icon:e,c:t,t:r,d:n}){const[i,l,c]=A5[t]||A5.violet;return a.jsxs("div",{className:`rounded-xl border ${c} ${l} p-5`,children:[a.jsxs("p",{className:"text-base font-bold text-white flex items-center gap-2",children:[a.jsx("span",{className:`${i} shrink-0`,children:e}),r]}),a.jsx("p",{className:"text-sm text-slate-500 mt-1.5 leading-relaxed",children:n})]})}function cse(){const{isAuthenticated:e,loading:t}=eo();return t?a.jsx(Oh,{}):e?a.jsx(ny,{to:"/dashboard",replace:!0}):a.jsx(EI,{})}function use(){const e=Ea();return a.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-violet-500/15 rounded-2xl flex items-center justify-center mb-4",children:a.jsx(vz,{size:32,className:"text-violet-400"})}),a.jsx("h3",{className:"text-xl font-semibold text-[var(--text-primary)] mb-2",children:"Coming Soon"}),a.jsx("p",{className:"text-[var(--text-muted)] text-sm max-w-sm",children:"This page is under construction. Navigate using the sidebar to explore available sections."}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-3 font-mono",children:e.pathname})]})}const dse=["Savings Account","Current Account","Fixed Deposit (FD)","Recurring Deposit (RD)","NRE Account","NRO Account","Minor Account"].map(e=>({value:e,label:e}));function fse({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:i}=pt(),l=!!e,[c,u]=j.useState({accountName:e?.accountName||"",memberId:e?.memberId||"",bankName:e?.bankName||"",accountNumber:e?.accountNumber||"",ifscCode:e?.ifscCode||"",branchName:e?.branchName||"",accountType:e?.accountType||"",status:e?.status||"Active"}),[f,m]=j.useState({}),[h,x]=j.useState(!1);function v(w,C){u(k=>({...k,[w]:C})),m(k=>({...k,[w]:void 0}))}function g(){const w={};return c.accountName.trim()||(w.accountName="Required"),c.memberId||(w.memberId="Required"),c.bankName.trim()||(w.bankName="Required"),String(c.accountNumber||"").trim()||(w.accountNumber="Required"),c.ifscCode.trim()||(w.ifscCode="Required"),c.branchName.trim()||(w.branchName="Required"),c.accountType||(w.accountType="Required"),m(w),Object.keys(w).length===0}async function S(){if(g()){x(!0);try{await t({...c,ifscCode:c.ifscCode.toUpperCase()})}finally{x(!1)}}}const y=i.map(w=>({value:w.memberId,label:`${w.memberName} (${w.relationship})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Account Name",required:!0,error:f.accountName,children:a.jsx(Ie,{value:c.accountName,onChange:w=>v("accountName",w),placeholder:"e.g., HDFC Savings"})}),a.jsx(me,{label:"Family Member",required:!0,error:f.memberId,children:a.jsx(Je,{value:c.memberId,onChange:w=>v("memberId",w),options:y,placeholder:"Select member..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Bank Name",required:!0,error:f.bankName,children:a.jsx(Ie,{value:c.bankName,onChange:w=>v("bankName",w),placeholder:"e.g., HDFC Bank"})}),a.jsx(me,{label:"Account Type",required:!0,error:f.accountType,children:a.jsx(Je,{value:c.accountType,onChange:w=>v("accountType",w),options:dse,placeholder:"Select type..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Account Number",required:!0,error:f.accountNumber,children:a.jsx(Ie,{sensitive:!0,value:c.accountNumber,onChange:w=>v("accountNumber",w),placeholder:"e.g., 1234567890"})}),a.jsx(me,{label:"IFSC Code",required:!0,error:f.ifscCode,children:a.jsx(Ie,{value:c.ifscCode,onChange:w=>v("ifscCode",w.toUpperCase()),placeholder:"e.g., HDFC0001234",maxLength:11})})]}),a.jsx(me,{label:"Branch Name",required:!0,error:f.branchName,children:a.jsx(Ie,{value:c.branchName,onChange:w=>v("branchName",w),placeholder:"e.g., Hyderabad - Kondapur"})}),l&&a.jsx(me,{label:"Status",children:a.jsx(Je,{value:c.status,onChange:w=>v("status",w),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[l&&r?a.jsx(ns,{onClick:r}):a.jsx("div",{}),a.jsx(on,{onCancel:n,onSubmit:S,submitLabel:l?"Update":"Add Account",loading:h})]})]})}function di({title:e="Loading"}){return a.jsxs("div",{className:"flex flex-col items-center justify-center py-32 gap-3",children:[a.jsx("span",{className:"w-7 h-7 border-[2.5px] border-violet-400/30 border-t-violet-400 rounded-full animate-spin"}),a.jsxs("span",{className:"text-sm font-semibold text-[var(--text-primary)]",children:[e,"..."]})]})}const k5={"Savings Account":"bg-blue-500/15 text-[var(--accent-blue)]",Savings:"bg-blue-500/15 text-[var(--accent-blue)]",Salary:"bg-emerald-500/15 text-emerald-400","Current Account":"bg-violet-500/15 text-[var(--accent-violet)]","Fixed Deposit":"bg-amber-500/15 text-[var(--accent-amber)]","Fixed Deposit (FD)":"bg-amber-500/15 text-[var(--accent-amber)]"};function M5(){const{selectedMember:e,member:t}=Fr(),{banks:r,addBankAccount:n,updateBankAccount:i,deleteBankAccount:l}=pt(),{showToast:c,showBlockUI:u,hideBlockUI:f}=li(),m=oi(),{mv:h}=_a(),[x,v]=j.useState(null);if(r===null)return a.jsx(di,{title:"Loading bank accounts",cards:3});const g=j.useMemo(()=>{const k=r.filter(A=>A.status!=="Inactive");return e==="all"?k:k.filter(A=>A.memberId===e)},[r,e]),S=j.useMemo(()=>new Set(g.map(k=>k.bankName)).size,[g]),y=j.useMemo(()=>g.filter(k=>k.accountType==="Savings"||k.accountType==="Savings Account"||k.accountType==="Salary").length,[g]);async function w(k){u("Saving...");try{x?.edit?await i(x.edit.accountId,k):await n(k),c(x?.edit?"Bank account updated":"Bank account added"),v(null)}catch(A){c(A.message||"Failed to save bank account","error")}finally{f()}}async function C(){if(x?.edit&&await m("Deactivate this bank account?",{title:"Deactivate Account",confirmLabel:"Deactivate"})){u("Deactivating...");try{await l(x.edit.accountId),c("Bank account deactivated"),v(null)}catch(k){c(k.message||"Failed to deactivate bank account","error")}finally{f()}}}return a.jsxs("div",{className:"space-y-4",children:[g.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(Vz,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No bank accounts",t?` for ${t.memberName}`:""]}),a.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first bank account"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[a.jsx(Vb,{label:"Total Accounts",value:g.length}),a.jsx(Vb,{label:"Banks",value:S}),a.jsx(Vb,{label:"Savings / Salary",value:y})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Wr,{size:14})," Add Account"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[580px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Bank"}),!t&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account No."}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Branch"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:g.map(k=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-4",children:a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:k.accountName})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:k.bankName}),!t&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:h(k.memberName,"name")}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${k5[k.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:k.accountType})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:h(k.accountNumber,"account")}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-dim)]",children:k.branchName}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>v({edit:k}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(ca,{size:12})})})]},k.accountId))})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:g.map(k=>a.jsxs("div",{onClick:()=>v({edit:k}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:k.accountName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${k5[k.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:k.accountType})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[k.bankName,t?"":`  ${h(k.memberName,"name")}`]}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:h(k.accountNumber,"account")}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:k.branchName})]})]},k.accountId))})]})]}),a.jsx(fr,{open:!!x,onClose:()=>v(null),title:x?.edit?"Edit Bank Account":"Add Bank Account",children:a.jsx(fse,{initial:x?.edit||void 0,onSave:w,onDelete:x?.edit?C:void 0,onCancel:()=>v(null)})})]})}function Vb({label:e,value:t}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:t})]})}const mse=["Demat + Trading","Mutual Fund","Trading","Direct AMC","Broker"].map(e=>({value:e,label:e}));function pse({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:i,activeBanks:l}=pt(),c=!!e,[u,f]=j.useState({accountName:e?.accountName||"",memberId:e?.memberId||"",bankAccountId:e?.bankAccountId||"",accountType:e?.accountType||"",platformBroker:e?.platformBroker||"",accountClientId:e?.accountClientId||"",dematDpId:e?.dematDpId||"",registeredEmail:e?.registeredEmail||"",registeredPhone:e?.registeredPhone||"",status:e?.status||"Active"}),[m,h]=j.useState({}),[x,v]=j.useState(!1);function g(A,M){f(D=>({...D,[A]:M})),h(D=>({...D,[A]:void 0}))}function S(A){f(M=>({...M,memberId:A,bankAccountId:""})),h(M=>({...M,memberId:void 0}))}function y(){const A={};return u.accountName.trim()||(A.accountName="Required"),u.memberId||(A.memberId="Required"),u.bankAccountId||(A.bankAccountId="Required"),u.accountType||(A.accountType="Required"),u.platformBroker.trim()||(A.platformBroker="Required"),u.registeredEmail.trim()||(A.registeredEmail="Required"),u.registeredPhone.trim()||(A.registeredPhone="Required"),h(A),Object.keys(A).length===0}async function w(){if(y()){v(!0);try{await t(u)}finally{v(!1)}}}const C=i.map(A=>({value:A.memberId,label:`${A.memberName} (${A.relationship})`})),k=j.useMemo(()=>u.memberId?l.filter(A=>A.memberId===u.memberId).map(A=>({value:A.accountId,label:`${A.accountName} - ${A.bankName}`})):[],[l,u.memberId]);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Account Name",required:!0,error:m.accountName,children:a.jsx(Ie,{value:u.accountName,onChange:A=>g("accountName",A),placeholder:"e.g., Zerodha Demat"})}),a.jsx(me,{label:"Family Member",required:!0,error:m.memberId,children:a.jsx(Je,{value:u.memberId,onChange:S,options:C,placeholder:"Select member..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Linked Bank Account",required:!0,error:m.bankAccountId,children:a.jsx(Je,{value:u.bankAccountId,onChange:A=>g("bankAccountId",A),options:k,placeholder:u.memberId?k.length?"Select bank account...":"No bank accounts for this member":"Select member first..."})}),a.jsx(me,{label:"Account Type",required:!0,error:m.accountType,children:a.jsx(Je,{value:u.accountType,onChange:A=>g("accountType",A),options:mse,placeholder:"Select type..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Platform / Broker",required:!0,error:m.platformBroker,children:a.jsx(Ie,{value:u.platformBroker,onChange:A=>g("platformBroker",A),placeholder:"e.g., Zerodha, Groww"})}),a.jsx(me,{label:"Account / Client ID",error:m.accountClientId,children:a.jsx(Ie,{sensitive:!0,value:u.accountClientId,onChange:A=>g("accountClientId",A),placeholder:"e.g., ZR1234 (optional)"})})]}),a.jsx(me,{label:"Demat DP ID",error:m.dematDpId,children:a.jsx(Ie,{sensitive:!0,value:u.dematDpId,onChange:A=>g("dematDpId",A),placeholder:"16-digit DP ID (optional)",maxLength:16})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Registered Email",required:!0,error:m.registeredEmail,children:a.jsx(Ie,{sensitive:!0,type:"email",value:u.registeredEmail,onChange:A=>g("registeredEmail",A),placeholder:"email@example.com"})}),a.jsx(me,{label:"Registered Phone",required:!0,error:m.registeredPhone,children:a.jsx(Ie,{sensitive:!0,value:u.registeredPhone,onChange:A=>g("registeredPhone",A),placeholder:"9876543210"})})]}),c&&a.jsx(me,{label:"Status",children:a.jsx(Je,{value:u.status,onChange:A=>g("status",A),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[c&&r?a.jsx(ns,{onClick:r}):a.jsx("div",{}),a.jsx(on,{onCancel:n,onSubmit:w,submitLabel:c?"Update":"Add Account",loading:x})]})]})}const D5={"Demat + Trading":"bg-violet-500/15 text-[var(--accent-violet)]","Mutual Fund":"bg-blue-500/15 text-[var(--accent-blue)]",Trading:"bg-orange-500/15 text-[var(--accent-orange)]",Demat:"bg-amber-500/15 text-[var(--accent-amber)]","Direct AMC":"bg-emerald-500/15 text-emerald-400",Broker:"bg-rose-500/15 text-[var(--accent-rose)]"};function hse(){const{selectedMember:e,member:t}=Fr(),{investmentAccounts:r,addInvestmentAccount:n,updateInvestmentAccount:i,deleteInvestmentAccount:l}=pt(),{showToast:c,showBlockUI:u,hideBlockUI:f}=li(),m=oi(),{mv:h}=_a(),[x,v]=j.useState(null);if(r===null)return a.jsx(di,{title:"Loading investment accounts",cards:4});const g=j.useMemo(()=>{const A=r.filter(M=>M.status!=="Inactive");return e==="all"?A:A.filter(M=>M.memberId===e)},[r,e]),S=j.useMemo(()=>new Set(g.map(A=>A.platformBroker)).size,[g]),y=g.filter(A=>A.accountType==="Demat + Trading"||A.accountType==="Demat"||A.accountType==="Trading").length,w=g.filter(A=>A.accountType==="Mutual Fund"||A.accountType==="Direct AMC").length;async function C(A){u("Saving...");try{x?.edit?await i(x.edit.accountId,A):await n(A),c(x?.edit?"Investment account updated":"Investment account added"),v(null)}catch(M){c(M.message||"Failed to save investment account","error")}finally{f()}}async function k(){if(x?.edit&&await m("Deactivate this investment account?",{title:"Deactivate Account",confirmLabel:"Deactivate"})){u("Deactivating...");try{await l(x.edit.accountId),c("Investment account deactivated"),v(null)}catch(A){c(A.message||"Failed to deactivate investment account","error")}finally{f()}}}return a.jsxs("div",{className:"space-y-4",children:[g.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(cO,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No investment accounts",t?` for ${t.memberName}`:""]}),a.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first investment account"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(Gm,{label:"Total Accounts",value:g.length}),a.jsx(Gm,{label:"Platforms",value:S}),a.jsx(Gm,{label:"Demat / Trading",value:y}),a.jsx(Gm,{label:"Mutual Fund",value:w})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Wr,{size:14})," Add Account"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[620px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Platform"}),!t&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Client ID"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Bank"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:g.map(A=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-4",children:a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:A.accountName})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:A.platformBroker}),!t&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:h(A.memberName,"name")}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${D5[A.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:A.accountType})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:h(A.accountClientId,"clientId")}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-dim)]",children:A.bankAccountName}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>v({edit:A}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(ca,{size:12})})})]},A.accountId))})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:g.map(A=>a.jsxs("div",{onClick:()=>v({edit:A}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:A.accountName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${D5[A.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:A.accountType})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[A.platformBroker,t?"":`  ${h(A.memberName,"name")}`]}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Client: ",h(A.accountClientId,"clientId")]}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:A.bankAccountName})]})]},A.accountId))})]})]}),a.jsx(fr,{open:!!x,onClose:()=>v(null),title:x?.edit?"Edit Investment Account":"Add Investment Account",wide:!0,children:a.jsx(pse,{initial:x?.edit||void 0,onSave:C,onDelete:x?.edit?k:void 0,onCancel:()=>v(null)})})]})}function Gm({label:e,value:t}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:t})]})}const xse=["Term Life","Health","Motor","Home Insurance","Travel","Personal Accident","Life Insurance","Others"].map(e=>({value:e,label:e})),vse=[{value:"Active",label:"Active"},{value:"Expired",label:"Expired"},{value:"Surrendered",label:"Surrendered"},{value:"Lapsed",label:"Lapsed"},{value:"Inactive",label:"Inactive"}];function gse({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:i}=pt(),l=!!e,[c,u]=j.useState({policyType:e?.policyType||"",company:e?.company||"",policyNumber:e?.policyNumber||"",policyName:e?.policyName||"",insuredMember:e?.insuredMember||"",memberId:e?.memberId||"",sumAssured:e?.sumAssured||"",nominee:e?.nominee||"",premium:e?.premium||"",premiumFrequency:e?.premiumFrequency||"Annual",status:e?.status||"Active",notes:e?.notes||""}),[f,m]=j.useState({}),[h,x]=j.useState(!1);function v(C,k){u(A=>({...A,[C]:k})),m(A=>({...A,[C]:void 0}))}function g(C){const k=i.find(A=>A.memberId===C);u(A=>({...A,memberId:C,insuredMember:k?.memberName||""})),m(A=>({...A,memberId:void 0}))}function S(){const C={};return c.policyType||(C.policyType="Required"),c.company.trim()||(C.company="Required"),c.policyNumber.trim()||(C.policyNumber="Required"),c.policyName.trim()||(C.policyName="Required"),c.memberId||(C.memberId="Required"),(!c.sumAssured||Number(c.sumAssured)<=0)&&(C.sumAssured="Must be > 0"),m(C),Object.keys(C).length===0}async function y(){if(S()){x(!0);try{await t({...c,sumAssured:Number(c.sumAssured),premium:Number(c.premium)||0})}finally{x(!1)}}}const w=i.map(C=>({value:C.memberId,label:`${C.memberName} (${C.relationship})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Policy Type",required:!0,error:f.policyType,children:a.jsx(Je,{value:c.policyType,onChange:C=>v("policyType",C),options:xse,placeholder:"Select type..."})}),a.jsx(me,{label:"Insurance Company",required:!0,error:f.company,children:a.jsx(Ie,{value:c.company,onChange:C=>v("company",C),placeholder:"e.g., HDFC Life"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Policy Number",required:!0,error:f.policyNumber,children:a.jsx(Ie,{sensitive:!0,value:c.policyNumber,onChange:C=>v("policyNumber",C),placeholder:"e.g., HL-2024-78901"})}),a.jsx(me,{label:"Policy Name",required:!0,error:f.policyName,children:a.jsx(Ie,{value:c.policyName,onChange:C=>v("policyName",C),placeholder:"e.g., Click 2 Protect Life"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Insured Member",required:!0,error:f.memberId,children:a.jsx(Je,{value:c.memberId,onChange:g,options:w,placeholder:"Select member..."})}),a.jsx(me,{label:"Nominee",children:a.jsx(Je,{value:c.nominee,onChange:C=>v("nominee",C),options:w.map(C=>({...C,label:C.label.split(" (")[0]})),placeholder:"Select nominee (optional)..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(me,{label:"Sum Assured ()",required:!0,error:f.sumAssured,children:a.jsx(Ie,{type:"number",value:c.sumAssured,onChange:C=>v("sumAssured",C),placeholder:"e.g., 10000000"})}),a.jsx(me,{label:"Premium ()",children:a.jsx(Ie,{type:"number",value:c.premium,onChange:C=>v("premium",C),placeholder:"e.g., 12500"})}),a.jsx(me,{label:"Premium Frequency",children:a.jsx(Je,{value:c.premiumFrequency,onChange:C=>v("premiumFrequency",C),options:[{value:"Annual",label:"Annual"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"}]})})]}),l&&a.jsx(me,{label:"Status",children:a.jsx(Je,{value:c.status,onChange:C=>v("status",C),options:vse})}),a.jsx(me,{label:"Notes",children:a.jsx(Sc,{value:c.notes,onChange:C=>v("notes",C),placeholder:"Additional information..."})}),a.jsxs("div",{className:"flex items-center justify-between",children:[l&&r?a.jsx(ns,{onClick:r}):a.jsx("div",{}),a.jsx(on,{onCancel:n,onSubmit:y,submitLabel:l?"Update":"Add Policy",loading:h})]})]})}const E5={"Term Life":"bg-rose-500/15 text-[var(--accent-rose)]",Health:"bg-emerald-500/15 text-emerald-400",Motor:"bg-blue-500/15 text-[var(--accent-blue)]","Home Insurance":"bg-amber-500/15 text-[var(--accent-amber)]",Travel:"bg-violet-500/15 text-[var(--accent-violet)]","Life Insurance":"bg-rose-500/15 text-[var(--accent-rose)]","Personal Accident":"bg-orange-500/15 text-[var(--accent-orange)]"};function bse(){const{selectedMember:e,member:t}=Fr(),{insurancePolicies:r,addInsurance:n,updateInsurance:i,deleteInsurance:l}=pt(),{showToast:c,showBlockUI:u,hideBlockUI:f}=li(),m=oi(),{mv:h}=_a(),[x,v]=j.useState(null);if(r===null)return a.jsx(di,{title:"Loading insurance",cards:5});const g=j.useMemo(()=>{const M=r.filter(D=>D.status!=="Inactive");return e==="all"?M:M.filter(D=>D.memberId===e)},[r,e]),S=g.reduce((M,D)=>M+(D.sumAssured||0),0),y=g.reduce((M,D)=>M+(D.premium||0),0),w=g.filter(M=>M.policyType==="Term Life"||M.policyType==="Life Insurance").reduce((M,D)=>M+(D.sumAssured||0),0),C=g.filter(M=>M.policyType==="Health").reduce((M,D)=>M+(D.sumAssured||0),0);async function k(M){u("Saving...");try{x?.edit?await i(x.edit.policyId,M):await n(M),c(x?.edit?"Insurance policy updated":"Insurance policy added"),v(null)}catch(D){c(D.message||"Failed to save insurance policy","error")}finally{f()}}async function A(){if(x?.edit&&await m("Deactivate this insurance policy?",{title:"Deactivate Policy",confirmLabel:"Deactivate"})){u("Deactivating...");try{await l(x.edit.policyId),c("Insurance policy deactivated"),v(null)}catch(M){c(M.message||"Failed to deactivate insurance policy","error")}finally{f()}}}return a.jsxs("div",{className:"space-y-4",children:[g.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(ac,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No insurance policies",t?` for ${t.memberName}`:""]}),a.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first policy"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[a.jsx(Xu,{label:"Policies",value:g.length}),a.jsx(Xu,{label:"Total Cover",value:K(S),bold:!0}),a.jsx(Xu,{label:"Life Cover",value:K(w)}),a.jsx(Xu,{label:"Health Cover",value:K(C)}),a.jsx(Xu,{label:"Annual Premium",value:K(y)})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[a.jsx("p",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider mb-3",children:"Coverage Adequacy"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(_5,{label:"Life Insurance",current:w,recommended:"10-15x annual income",tip:"Term life cover should be 10-15x your annual income to protect dependents",icon:"heart"}),a.jsx(_5,{label:"Health Insurance",current:C,recommended:"50L - 1Cr family floater",tip:"Considering medical inflation, a 50L-1Cr family floater is recommended",icon:"shield"})]})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Wr,{size:14})," Add Policy"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Policy"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Company"}),!t&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Insured"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Sum Assured"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Premium"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:g.map(M=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:M.policyName}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:h(M.policyNumber,"policy")})]}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${E5[M.policyType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.policyType})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:M.company}),!t&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:M.insuredMember}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(M.sumAssured)}),a.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:[K(M.premium),"/",M.premiumFrequency==="Annual"?"yr":"mo"]}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>v({edit:M}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(ca,{size:12})})})]},M.policyId))})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:g.map(M=>a.jsxs("div",{onClick:()=>v({edit:M}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:M.policyName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${E5[M.policyType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.policyType})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[M.company,t?"":`  ${M.insuredMember}`]}),a.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Cover"}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(M.sumAssured)})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Premium"}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:[K(M.premium),"/",M.premiumFrequency==="Annual"?"yr":"mo"]})]})]})]},M.policyId))})]})]}),a.jsx(fr,{open:!!x,onClose:()=>v(null),title:x?.edit?"Edit Insurance Policy":"Add Insurance Policy",wide:!0,children:a.jsx(gse,{initial:x?.edit||void 0,onSave:k,onDelete:x?.edit?A:void 0,onCancel:()=>v(null)})})]})}function _5({label:e,current:t,recommended:r,tip:n}){const i=t===0;return a.jsxs("div",{className:`rounded-lg border px-3 py-2.5 ${i?"border-rose-500/30 bg-rose-500/5":"border-[var(--border)] bg-[var(--bg-inset)]"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:e}),i?a.jsx("span",{className:"text-xs font-bold text-[var(--accent-rose)]",children:"Not covered"}):a.jsx("span",{className:"text-xs font-semibold text-emerald-400",children:K(t)})]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Recommended: ",r]}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5 italic",children:n})]})}function Xu({label:e,value:t,bold:r}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:`text-sm tabular-nums ${r?"font-bold":"font-semibold"} text-[var(--text-primary)]`,children:t})]})}const yse=["Home Loan","Car Loan","Personal Loan","Education Loan","Gold Loan","Credit Card","Business Loan","Loan Against Property","Other"].map(e=>({value:e,label:e})),jse=[{value:"Active",label:"Active"},{value:"Closed",label:"Closed"},{value:"Inactive",label:"Inactive"}];function wse({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:i,otherInvList:l}=pt(),c=!!e,[u,f]=j.useState({liabilityType:e?.liabilityType||"",lenderName:e?.lenderName||"",familyMemberId:e?.familyMemberId||"",outstandingBalance:e?.outstandingBalance||"",emiAmount:e?.emiAmount||"",interestRate:e?.interestRate||"",linkedInvestmentId:e?.linkedInvestmentId||"",status:e?.status||"Active",notes:e?.notes||""}),[m,h]=j.useState({}),[x,v]=j.useState(!1);function g(A,M){f(D=>({...D,[A]:M})),h(D=>({...D,[A]:void 0}))}function S(){const A={};return u.liabilityType||(A.liabilityType="Required"),u.lenderName.trim()||(A.lenderName="Required"),(!u.outstandingBalance||Number(u.outstandingBalance)<=0)&&(A.outstandingBalance="Must be > 0"),h(A),Object.keys(A).length===0}async function y(){if(S()){v(!0);try{await t({...u,outstandingBalance:Number(u.outstandingBalance),emiAmount:Number(u.emiAmount)||0,interestRate:Number(u.interestRate)||0,linkedInvestmentId:u.linkedInvestmentId||""})}finally{v(!1)}}}const w=i.map(A=>({value:A.memberId,label:`${A.memberName} (${A.relationship})`})),C=(l||[]).filter(A=>A.status!=="Inactive"),k=[{value:"",label:"None"},...C.map(A=>({value:A.investmentId,label:`${A.investmentName} (${A.investmentType}  ${K(A.currentValue)})`}))];return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Liability Type",required:!0,error:m.liabilityType,children:a.jsx(Je,{value:u.liabilityType,onChange:A=>g("liabilityType",A),options:yse,placeholder:"Select type..."})}),a.jsx(me,{label:"Lender / Bank",required:!0,error:m.lenderName,children:a.jsx(Ie,{value:u.lenderName,onChange:A=>g("lenderName",A),placeholder:"e.g., HDFC Bank"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Family Member",children:a.jsx(Je,{value:u.familyMemberId,onChange:A=>g("familyMemberId",A),options:w,placeholder:"Select member (optional)..."})}),a.jsx(me,{label:"Outstanding Balance ()",required:!0,error:m.outstandingBalance,children:a.jsx(Ie,{type:"number",value:u.outstandingBalance,onChange:A=>g("outstandingBalance",A),placeholder:"e.g., 3500000"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"EMI Amount ()",children:a.jsx(Ie,{type:"number",value:u.emiAmount,onChange:A=>g("emiAmount",A),placeholder:"e.g., 32000"})}),a.jsx(me,{label:"Interest Rate (%)",children:a.jsx(Ie,{type:"number",value:u.interestRate,onChange:A=>g("interestRate",A),placeholder:"e.g., 8.5",step:"0.01"})})]}),a.jsx(me,{label:"Linked Investment",children:a.jsx(Je,{value:u.linkedInvestmentId,onChange:A=>g("linkedInvestmentId",A),options:k,placeholder:"Link to an investment (optional)..."})}),c&&a.jsx(me,{label:"Status",children:a.jsx(Je,{value:u.status,onChange:A=>g("status",A),options:jse})}),a.jsx(me,{label:"Notes",children:a.jsx(Sc,{value:u.notes,onChange:A=>g("notes",A),placeholder:"e.g., Flat in Kondapur"})}),a.jsxs("div",{className:"flex items-center justify-between",children:[c&&r?a.jsx(ns,{onClick:r}):a.jsx("div",{}),a.jsx(on,{onCancel:n,onSubmit:y,submitLabel:c?"Update":"Add Liability",loading:x})]})]})}const O5={"Home Loan":"bg-blue-500/15 text-[var(--accent-blue)]","Car Loan":"bg-amber-500/15 text-[var(--accent-amber)]","Gold Loan":"bg-orange-500/15 text-[var(--accent-orange)]","Personal Loan":"bg-violet-500/15 text-[var(--accent-violet)]","Education Loan":"bg-emerald-500/15 text-emerald-400","Credit Card":"bg-rose-500/15 text-[var(--accent-rose)]"};function Nse(){const{selectedMember:e,member:t}=Fr(),{liabilityList:r,otherInvList:n,addLiability:i,updateLiability:l,deleteLiability:c}=pt(),{showToast:u,showBlockUI:f,hideBlockUI:m}=li(),h=oi(),[x,v]=j.useState(null);if(r===null)return a.jsx(di,{title:"Loading liabilities",cards:4});const g=j.useMemo(()=>{const D=r.filter(T=>T.status!=="Inactive");return e==="all"?D:D.filter(T=>T.familyMemberId===e)},[r,e]),S=g.reduce((D,T)=>D+(T.outstandingBalance||0),0),y=g.reduce((D,T)=>D+(T.emiAmount||0),0),w=g.filter(D=>D.status==="Active").length,C=j.useMemo(()=>{const D={};return n&&n.forEach(T=>{D[T.investmentId]=T}),D},[n]),k=j.useMemo(()=>{const D={};return n&&n.forEach(T=>{T.linkedLiabilityId&&T.linkedLiabilityId.split(",").map(I=>I.trim()).filter(Boolean).forEach(I=>{D[I]=T})}),D},[n]);async function A(D){f("Saving...");try{x?.edit?await l(x.edit.liabilityId,D):await i(D),u(x?.edit?"Liability updated":"Liability added"),v(null)}catch(T){u(T.message||"Failed to save liability","error")}finally{m()}}async function M(){if(x?.edit&&await h("Deactivate this liability?",{title:"Deactivate Liability",confirmLabel:"Deactivate"})){f("Deactivating...");try{await c(x.edit.liabilityId),u("Liability deactivated"),v(null)}catch(D){u(D.message||"Failed to deactivate liability","error")}finally{m()}}}return a.jsxs("div",{className:"space-y-4",children:[g.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(Lh,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No liabilities",t?` for ${t.memberName}`:""]}),a.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add a liability"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(Wm,{label:"Liabilities",value:`${w} active`}),a.jsx(Wm,{label:"Outstanding",value:K(S),color:"rose",bold:!0}),a.jsx(Wm,{label:"Monthly EMI",value:K(y),color:"rose"}),a.jsx(Wm,{label:"Avg. Interest",value:g.length>0?`${(g.reduce((D,T)=>D+(T.interestRate||0),0)/g.length).toFixed(1)}%`:""})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Wr,{size:14})," Add Liability"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[640px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Lender"}),!t&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Outstanding"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"EMI"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Interest"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Remaining"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Asset"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:g.map(D=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${O5[D.liabilityType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:D.liabilityType}),D.notes&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:D.notes})]}),a.jsx("td",{className:"py-2.5 px-3 text-sm font-medium text-[var(--text-primary)]",children:D.lenderName}),!t&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:D.familyMemberName}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:K(D.outstandingBalance)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:D.emiAmount?`${K(D.emiAmount)}/mo`:""}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:D.interestRate?`${D.interestRate}%`:""}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:D.emiAmount>0&&D.outstandingBalance>0?`${Math.ceil(D.outstandingBalance/D.emiAmount)} mo`:""}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:(()=>{const T=D.linkedInvestmentId&&C[D.linkedInvestmentId]||k[D.liabilityId];return T?a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-primary)]",children:T.investmentName}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:T.investmentType})]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})()}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>v({edit:D}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(ca,{size:12})})})]},D.liabilityId))})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:g.map(D=>a.jsxs("div",{onClick:()=>v({edit:D}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${O5[D.liabilityType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:D.liabilityType}),a.jsx("p",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:K(D.outstandingBalance)})]}),a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:D.lenderName}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[D.familyMemberName,D.notes?`  ${D.notes}`:""]}),a.jsxs("div",{className:"text-right",children:[D.emiAmount>0&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:["EMI: ",K(D.emiAmount),"/mo"]}),D.emiAmount>0&&D.outstandingBalance>0&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:[Math.ceil(D.outstandingBalance/D.emiAmount)," months left"]})]})]}),(()=>{const T=D.linkedInvestmentId&&C[D.linkedInvestmentId]||k[D.liabilityId];return T?a.jsxs("div",{className:"mt-1.5 flex items-center justify-between bg-blue-500/5 rounded px-2 py-1",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Linked"}),a.jsx("span",{className:"text-xs text-[var(--text-secondary)]",children:T.investmentName})]}):null})()]},D.liabilityId))})]})]}),a.jsx(fr,{open:!!x,onClose:()=>v(null),title:x?.edit?"Edit Liability":"Add Liability",children:a.jsx(wse,{initial:x?.edit||void 0,onSave:A,onDelete:x?.edit?M:void 0,onCancel:()=>v(null)})})]})}function Wm({label:e,value:t,color:r,bold:n}){const i=r==="rose"?"text-[var(--accent-rose)]":"text-[var(--text-primary)]";return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:`text-sm tabular-nums ${n?"font-bold":"font-semibold"} ${i}`,children:t})]})}const Sse="cf_market_data",_I=[{value:"Fixed Deposit",category:"Debt"},{value:"PPF",category:"Debt"},{value:"EPF",category:"Debt"},{value:"NPS",category:"Debt"},{value:"Sovereign Gold Bond",category:"Gold"},{value:"Physical Gold",category:"Gold"},{value:"Digital Gold",category:"Gold"},{value:"Real Estate",category:"Property"},{value:"Bonds",category:"Debt"},{value:"Physical Silver",category:"Silver"},{value:"Digital Silver",category:"Silver"},{value:"Crypto",category:"Alternative"},{value:"Other",category:"Other"}],Gb={"Real Estate":"Home Loan"},Cse=_I.map(e=>({value:e.value,label:e.value})),Ase=["Equity","Debt","Gold","Silver","Property","Alternative","Other"].map(e=>({value:e,label:e})),kse=[{value:"Active",label:"Active"},{value:"Sold",label:"Sold"},{value:"Matured",label:"Matured"},{value:"Inactive",label:"Inactive"}],T5=[{value:"24K",label:"24K (99.9%)",factor:.999},{value:"22K",label:"22K (91.6%)",factor:.916},{value:"18K",label:"18K (75.0%)",factor:.75}],P5=[{value:"999",label:"999 Fine (99.9%)",factor:.999},{value:"925",label:"925 Sterling (92.5%)",factor:.925}];function wp(e){return["Physical Gold","Digital Gold","Sovereign Gold Bond"].includes(e)}function Mse(e){return["Physical Silver","Digital Silver"].includes(e)||e&&e.toLowerCase().includes("silver")}function Wb(e){return wp(e)||Mse(e)}function Dse(e){try{const t=sessionStorage.getItem(Sse);if(!t)return null;const r=JSON.parse(t);if(!r.metals)return null;const n=e==="gold"?"Gold":"Silver",i=r.metals.find(l=>l.name.toLowerCase().includes(n.toLowerCase()));return i?i.price:null}catch{return null}}function Ese({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:i,liabilityList:l}=pt(),c=!!e;function u(L){return _I.find(U=>U.value===L)?.category||"Other"}const f=e?.dynamicFields?typeof e.dynamicFields=="string"?JSON.parse(e.dynamicFields):e.dynamicFields:{},[m,h]=j.useState({investmentType:e?.investmentType||"",investmentCategory:e?.investmentCategory||"",investmentName:e?.investmentName||"",customType:e?.customType||"",familyMemberId:e?.familyMemberId||"",investedAmount:e?.investedAmount||"",currentValue:e?.currentValue||"",linkedLiabilityIds:e?.linkedLiabilityId?e.linkedLiabilityId.split(",").map(L=>L.trim()).filter(Boolean):[],status:e?.status||"Active",notes:e?.notes||""}),[x,v]=j.useState(f.weightGrams||""),[g,S]=j.useState(f.purity||""),[y,w]=j.useState(null),[C,k]=j.useState(!1),[A,M]=j.useState({lenderName:"",outstandingBalance:"",emiAmount:"",interestRate:""});j.useEffect(()=>{if(!Wb(m.investmentType)||!x||Number(x)<=0){w(null);return}const L=wp(m.investmentType)?"gold":"silver",U=Dse(L);if(!U){w(null);return}const Ne=(L==="gold"?T5:P5).find(P=>P.value===g),De=Ne?Ne.factor:1;w(Math.round(Number(x)*U*De))},[m.investmentType,x,g]);const[D,T]=j.useState({}),[I,O]=j.useState(!1);function z(L,U){h(V=>({...V,[L]:U})),T(V=>({...V,[L]:void 0}))}function F(L){h(U=>({...U,investmentType:L,investmentCategory:u(L)})),T(U=>({...U,investmentType:void 0}))}function B(L,U){M(V=>({...V,[L]:U}))}function E(){const L={};return m.investmentType||(L.investmentType="Required"),m.investmentType==="Other"&&!m.customType?.trim()&&(L.customType="Specify the type"),m.investmentName.trim()||(L.investmentName="Required"),(!m.currentValue||Number(m.currentValue)<0)&&(L.currentValue="Required"),C&&(A.lenderName.trim()||(L.qlLender="Required"),(!A.outstandingBalance||Number(A.outstandingBalance)<=0)&&(L.qlOutstanding="Must be > 0")),T(L),Object.keys(L).length===0}async function J(){if(!E())return;const L={...m,investmentType:m.investmentType==="Other"?m.customType.trim():m.investmentType,familyMember:m.familyMemberId,investedAmount:Number(m.investedAmount)||0,currentValue:Number(m.currentValue)||0,linkedLiabilityId:m.linkedLiabilityIds.join(",")};delete L.linkedLiabilityIds,delete L.customType,Wb(m.investmentType)&&(L.dynamicFields=JSON.stringify({weightGrams:Number(x)||0,purity:g||""})),C&&A.lenderName&&(L.quickLoan={liabilityType:Gb[m.investmentType]||"Personal Loan",lender:A.lenderName,outstanding:Number(A.outstandingBalance)||0,emiAmount:Number(A.emiAmount)||0,interestRate:Number(A.interestRate)||0}),O(!0);try{await t(L)}finally{O(!1)}}const X=(l||[]).filter(L=>L.status!=="Inactive"),re=(i||[]).map(L=>({value:L.memberId,label:`${L.memberName} (${L.relationship})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Investment Type",required:!0,error:D.investmentType,children:a.jsx(Je,{value:m.investmentType,onChange:F,options:Cse,placeholder:"Select type..."})}),a.jsx(me,{label:"Category",children:a.jsx(Je,{value:m.investmentCategory,onChange:L=>z("investmentCategory",L),options:Ase,placeholder:"Auto-selected..."})})]}),m.investmentType==="Other"&&a.jsx(me,{label:"Custom Type",required:!0,error:D.customType,children:a.jsx(Ie,{value:m.customType||"",onChange:L=>z("customType",L),placeholder:"e.g., Art, Collectibles, ULIP..."})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Investment Name",required:!0,error:D.investmentName,children:a.jsx(Ie,{value:m.investmentName,onChange:L=>z("investmentName",L),placeholder:"e.g., HDFC FD - 7.5%"})}),a.jsx(me,{label:"Family Member",children:a.jsx(Je,{value:m.familyMemberId,onChange:L=>z("familyMemberId",L),options:re,placeholder:"Select member (optional)..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Invested Amount",children:a.jsx(Ie,{type:"number",value:m.investedAmount,onChange:L=>z("investedAmount",L),placeholder:"e.g., 500000"})}),a.jsx(me,{label:"Current Value",required:!0,error:D.currentValue,children:a.jsx(Ie,{type:"number",value:m.currentValue,onChange:L=>z("currentValue",L),placeholder:"e.g., 537500"})})]}),Wb(m.investmentType)&&a.jsxs("div",{className:"p-3 bg-[var(--bg-inset)] rounded-lg space-y-3",children:[a.jsxs("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider",children:[wp(m.investmentType)?"Gold":"Silver"," Details"]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(me,{label:"Weight (grams)",children:a.jsx(Ie,{type:"number",value:x,onChange:v,placeholder:"e.g., 50"})}),a.jsx(me,{label:"Purity",children:a.jsx(Je,{value:g,onChange:S,options:(wp(m.investmentType)?T5:P5).map(L=>({value:L.value,label:L.label})),placeholder:"Select purity..."})})]}),y!==null&&a.jsxs("div",{className:"flex items-center justify-between bg-[var(--bg-card)] rounded-lg px-3 py-2 border border-[var(--border)]",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Estimated market value"}),a.jsx("p",{className:"text-sm font-bold text-emerald-400 tabular-nums",children:K(y)})]}),a.jsx("button",{type:"button",onClick:()=>z("currentValue",String(y)),className:"text-xs font-semibold text-violet-400 hover:text-violet-300 px-3 py-1.5 rounded-lg bg-violet-500/10 border border-violet-500/20 transition-colors",children:"Use this value"})]})]}),Gb[m.investmentType]&&a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-4",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider mb-2",children:"Linked Loans"}),m.linkedLiabilityIds.length>0&&a.jsx("div",{className:"space-y-1.5 mb-3",children:m.linkedLiabilityIds.map(L=>{const U=X.find(V=>V.liabilityId===L);return U?a.jsxs("div",{className:"flex items-center justify-between bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border)]",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:[U.liabilityType,"  ",U.lenderName]}),a.jsx("p",{className:"text-xs text-[var(--accent-rose)] tabular-nums",children:K(U.outstandingBalance)})]}),a.jsx("button",{type:"button",onClick:()=>z("linkedLiabilityIds",m.linkedLiabilityIds.filter(V=>V!==L)),className:"text-xs text-[var(--text-dim)] hover:text-[var(--accent-rose)] transition-colors px-2 py-1",children:"Remove"})]},L):null})}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("div",{className:"flex-1",children:a.jsx(Je,{value:"",onChange:L=>{L&&!m.linkedLiabilityIds.includes(L)&&(z("linkedLiabilityIds",[...m.linkedLiabilityIds,L]),k(!1))},options:[{value:"",label:"Link an existing loan..."},...X.filter(L=>!m.linkedLiabilityIds.includes(L.liabilityId)).map(L=>({value:L.liabilityId,label:`${L.liabilityType}  ${L.lenderName} (${K(L.outstandingBalance)})`}))]})})}),!c&&a.jsx("div",{className:"mt-2",children:a.jsx("button",{type:"button",onClick:()=>k(!C),className:"text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:C?" Cancel quick loan":`+ Create new loan (${Gb[m.investmentType]})`})}),C&&a.jsxs("div",{className:"mt-3 p-3 bg-[var(--bg-inset)] rounded-lg space-y-3",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider",children:"Quick Loan"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(me,{label:"Lender",required:!0,error:D.qlLender,children:a.jsx(Ie,{value:A.lenderName,onChange:L=>B("lenderName",L),placeholder:"e.g., HDFC Bank"})}),a.jsx(me,{label:"Outstanding Balance",required:!0,error:D.qlOutstanding,children:a.jsx(Ie,{type:"number",value:A.outstandingBalance,onChange:L=>B("outstandingBalance",L),placeholder:"e.g., 3500000"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(me,{label:"EMI (monthly)",children:a.jsx(Ie,{type:"number",value:A.emiAmount,onChange:L=>B("emiAmount",L),placeholder:"e.g., 32000"})}),a.jsx(me,{label:"Interest Rate %",children:a.jsx(Ie,{type:"number",value:A.interestRate,onChange:L=>B("interestRate",L),placeholder:"e.g., 8.5"})})]})]})]}),c&&a.jsx(me,{label:"Status",children:a.jsx(Je,{value:m.status,onChange:L=>z("status",L),options:kse})}),a.jsx(me,{label:"Notes",children:a.jsx(Sc,{value:m.notes,onChange:L=>z("notes",L),placeholder:"Additional information..."})}),a.jsxs("div",{className:"flex items-center justify-between",children:[c&&r?a.jsx(ns,{onClick:r}):a.jsx("div",{}),a.jsx(on,{onCancel:n,onSubmit:J,submitLabel:c?"Update":"Add Investment",loading:I})]})]})}const I5={Debt:"bg-blue-500/15 text-[var(--accent-blue)]",Gold:"bg-amber-500/15 text-[var(--accent-amber)]",Property:"bg-orange-500/15 text-[var(--accent-orange)]",Equity:"bg-emerald-500/15 text-emerald-400",Alternative:"bg-violet-500/15 text-[var(--accent-violet)]"};function _se(){const{selectedMember:e,member:t}=Fr(),{otherInvList:r,liabilityList:n,addOtherInvestment:i,updateOtherInvestment:l,deleteOtherInvestment:c}=pt(),{showToast:u,showBlockUI:f,hideBlockUI:m}=li(),h=oi(),[x,v]=j.useState(null);if(r===null)return a.jsx(di,{title:"Loading investments",cards:5});const g=j.useMemo(()=>{const M=r.filter(D=>D.status!=="Inactive");return e==="all"?M:M.filter(D=>D.familyMemberId===e)},[r,e]),S=g.reduce((M,D)=>M+(D.investedAmount||0),0),y=g.reduce((M,D)=>M+(D.currentValue||0),0),w=j.useMemo(()=>{const M={};return n.forEach(D=>{M[D.liabilityId]=D}),M},[n]),C=g.reduce((M,D)=>{if(!D.linkedLiabilityId)return M;const T=D.linkedLiabilityId.split(",").map(I=>I.trim()).filter(Boolean);return M+T.reduce((I,O)=>I+(w[O]?.outstandingBalance||0),0)},0);async function k(M){f("Saving...");try{x?.edit?await l(x.edit.investmentId,M):await i(M),u(x?.edit?"Investment updated":"Investment added"),v(null)}catch(D){u(D.message||"Failed to save investment","error")}finally{m()}}async function A(){if(x?.edit&&await h("Deactivate this investment?",{title:"Deactivate Investment",confirmLabel:"Deactivate"})){f("Deactivating...");try{await c(x.edit.investmentId),u("Investment deactivated"),v(null)}catch(M){u(M.message||"Failed to deactivate investment","error")}finally{m()}}}return a.jsxs("div",{className:"space-y-4",children:[g.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(bO,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No other investments",t?` for ${t.memberName}`:""]}),a.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add an investment"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(Km,{label:"Invested",value:K(S)}),a.jsx(Km,{label:"Current Value",value:K(y),bold:!0}),C>0&&a.jsx(Km,{label:"Linked Loans",value:K(C),color:"rose"}),a.jsx(Km,{label:"Holdings",value:g.length})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Wr,{size:14})," Add Investment"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[720px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Investment"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Category"}),!t&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Invested"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Loan"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:g.map(M=>{const D=(M.currentValue||0)-(M.investedAmount||0),T=D>=0;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:M.investmentName}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:M.investmentType})]}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${I5[M.investmentCategory]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.investmentCategory})}),!t&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:M.familyMemberName}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:K(M.investedAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(M.currentValue)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:M.investedAmount>0?a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${T?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[T?"+":"",K(D)]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:(()=>{const O=(M.linkedLiabilityId?M.linkedLiabilityId.split(",").map(z=>z.trim()).filter(Boolean):[]).map(z=>w[z]).filter(Boolean);return O.length===0?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):a.jsx("div",{className:"space-y-0.5",children:O.map(z=>a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:K(z.outstandingBalance)}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:z.liabilityType})]},z.liabilityId))})})()}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>v({edit:M}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(ca,{size:12})})})]},M.investmentId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:g.map(M=>{const D=(M.currentValue||0)-(M.investedAmount||0),T=D>=0;return a.jsxs("div",{onClick:()=>v({edit:M}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:M.investmentName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${I5[M.investmentCategory]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.investmentCategory})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[M.familyMemberName,"  ",M.investmentType]}),a.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Invested"}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:K(M.investedAmount)})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Current"}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(M.currentValue)})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"P&L"}),M.investedAmount>0?a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${T?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[T?"+":"",K(D)]}):a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:""})]})]}),(()=>{const O=(M.linkedLiabilityId?M.linkedLiabilityId.split(",").map(z=>z.trim()).filter(Boolean):[]).map(z=>w[z]).filter(Boolean);return O.length===0?null:O.map(z=>a.jsxs("div",{className:"mt-1.5 flex items-center justify-between bg-rose-500/5 rounded px-2 py-1",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:z.liabilityType}),a.jsx("span",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:K(z.outstandingBalance)})]},z.liabilityId))})()]},M.investmentId)})})]})]}),a.jsx(fr,{open:!!x,onClose:()=>v(null),title:x?.edit?"Edit Investment":"Add Investment",wide:!0,children:a.jsx(Ese,{initial:x?.edit||void 0,onSave:k,onDelete:x?.edit?A:void 0,onCancel:()=>v(null)})})]})}function Km({label:e,value:t,sub:r,positive:n,bold:i,color:l}){const c=l==="rose"?"text-[var(--accent-rose)]":n===void 0?"text-[var(--text-primary)]":n?"text-emerald-400":"text-[var(--accent-rose)]";return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:`text-sm tabular-nums ${i?"font-bold":"font-semibold"} ${c}`,children:t}),r&&a.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${n?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}function Ose({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:i,activeInvestmentAccounts:l}=pt(),c=!!e,[u,f]=j.useState({portfolioName:(e?.portfolioName||"").replace(/^PFL-/,""),investmentAccountId:e?.investmentAccountId||"",ownerId:e?.ownerId||"",initialInvestment:e?.initialInvestment||0,sipTarget:e?.sipTarget||"",lumpsumTarget:e?.lumpsumTarget||"",rebalanceThreshold:e?e.rebalanceThreshold*100:5}),[m,h]=j.useState({}),[x,v]=j.useState(!1),[g,S]=j.useState(!1);function y(D,T){f(I=>({...I,[D]:T})),h(I=>({...I,[D]:void 0}))}function w(D){f(T=>({...T,ownerId:D,investmentAccountId:""})),h(T=>({...T,ownerId:void 0}))}const C=l.filter(D=>u.ownerId?D.memberId===u.ownerId:!0).map(D=>({value:D.accountId,label:`${D.accountName} - ${D.platformBroker}`})),k=i.map(D=>({value:D.memberId,label:`${D.memberName} (${D.relationship})`}));function A(){const D={};return u.portfolioName.trim()||(D.portfolioName="Required"),u.ownerId||(D.ownerId="Required"),u.investmentAccountId||(D.investmentAccountId="Required"),h(D),Object.keys(D).length===0}async function M(){if(A()){v(!0);try{const D=l.find(I=>I.accountId===u.investmentAccountId),T=D?`${D.accountName} - ${D.platformBroker}`:u.investmentAccountId;await t({...u,investmentAccount:T,initialInvestment:Number(u.initialInvestment)||0,sipTarget:Number(u.sipTarget)||0,lumpsumTarget:Number(u.lumpsumTarget)||0,rebalanceThreshold:Number(u.rebalanceThreshold)})}finally{v(!1)}}}return a.jsxs("div",{className:"space-y-5",children:[a.jsx(me,{label:"Portfolio Name",required:!0,error:m.portfolioName,children:a.jsx(Ie,{value:u.portfolioName,onChange:D=>y("portfolioName",D),placeholder:"e.g., Long Term Wealth"})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Owner",required:!0,error:m.ownerId,children:a.jsx(Je,{value:u.ownerId,onChange:w,options:k,placeholder:"Select member..."})}),a.jsx(me,{label:"Investment Account",required:!0,error:m.investmentAccountId,children:a.jsx(Je,{value:u.investmentAccountId,onChange:D=>y("investmentAccountId",D),options:C,placeholder:u.ownerId?C.length?"Select account...":"No MF accounts":"Select owner first..."})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(me,{label:"SIP Target (/month)",children:a.jsx(Ie,{type:"number",value:u.sipTarget,onChange:D=>y("sipTarget",D),placeholder:"e.g., 50000"})}),a.jsx(me,{label:"Lumpsum Target ()",children:a.jsx(Ie,{type:"number",value:u.lumpsumTarget,onChange:D=>y("lumpsumTarget",D),placeholder:"e.g., 200000"})})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-xs font-semibold text-[var(--text-muted)] whitespace-nowrap",children:"Rebalance Threshold"}),a.jsx("div",{className:"w-20 shrink-0",children:a.jsx("input",{type:"number",value:u.rebalanceThreshold,onChange:D=>y("rebalanceThreshold",D.target.value),placeholder:"5",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})}),a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"%"})]}),!c&&a.jsx(me,{label:"Initial Investment ()",children:a.jsx(Ie,{type:"number",value:u.initialInvestment,onChange:D=>y("initialInvestment",D),placeholder:"0 if unknown"})}),c&&r&&g&&a.jsxs("div",{className:"flex items-center gap-3 px-3 py-2.5 bg-rose-500/10 border border-rose-500/20 rounded-lg",children:[a.jsx($s,{size:15,className:"text-rose-400 shrink-0"}),a.jsx("p",{className:"text-xs text-rose-300/90 flex-1",children:"This will deactivate the portfolio and hide it from views. Are you sure?"}),a.jsxs("div",{className:"flex gap-2 shrink-0",children:[a.jsx("button",{onClick:()=>S(!1),className:"px-2.5 py-1 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded transition-colors",children:"No"}),a.jsx("button",{onClick:r,className:"px-2.5 py-1 text-xs font-semibold text-white bg-rose-600 hover:bg-rose-500 rounded transition-colors",children:"Yes, Deactivate"})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 mt-4 border-t border-[var(--border-light)]",children:[c&&r?a.jsxs("button",{onClick:()=>S(!0),disabled:x,className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-amber-400 border border-amber-500/30 hover:bg-amber-500/15 hover:border-amber-500/50 rounded-lg transition-colors disabled:opacity-40",children:[a.jsx($s,{size:13}),"Deactivate"]}):a.jsx("div",{}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:n,disabled:x,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),a.jsxs("button",{onClick:M,disabled:x,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 flex items-center gap-1.5",children:[x&&a.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),x?"Saving...":c?"Update":"Create Portfolio"]})]})]})]})}function Xi(e){return Array.isArray?Array.isArray(e):PI(e)==="[object Array]"}function Tse(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Pse(e){return e==null?"":Tse(e)}function Ja(e){return typeof e=="string"}function OI(e){return typeof e=="number"}function Ise(e){return e===!0||e===!1||Rse(e)&&PI(e)=="[object Boolean]"}function TI(e){return typeof e=="object"}function Rse(e){return TI(e)&&e!==null}function Pn(e){return e!=null}function Kb(e){return!e.trim().length}function PI(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const Lse="Incorrect 'index' type",Fse=e=>`Invalid value for key ${e}`,zse=e=>`Pattern length exceeds max of ${e}.`,Bse=e=>`Missing ${e} property in key`,$se=e=>`Property 'weight' in key '${e}' must be a positive integer`,R5=Object.prototype.hasOwnProperty;class qse{constructor(t){this._keys=[],this._keyMap={};let r=0;t.forEach(n=>{let i=II(n);this._keys.push(i),this._keyMap[i.id]=i,r+=i.weight}),this._keys.forEach(n=>{n.weight/=r})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function II(e){let t=null,r=null,n=null,i=1,l=null;if(Ja(e)||Xi(e))n=e,t=L5(e),r=s1(e);else{if(!R5.call(e,"name"))throw new Error(Bse("name"));const c=e.name;if(n=c,R5.call(e,"weight")&&(i=e.weight,i<=0))throw new Error($se(c));t=L5(c),r=s1(c),l=e.getFn}return{path:t,id:r,weight:i,src:n,getFn:l}}function L5(e){return Xi(e)?e:e.split(".")}function s1(e){return Xi(e)?e.join("."):e}function Hse(e,t){let r=[],n=!1;const i=(l,c,u)=>{if(Pn(l))if(!c[u])r.push(l);else{let f=c[u];const m=l[f];if(!Pn(m))return;if(u===c.length-1&&(Ja(m)||OI(m)||Ise(m)))r.push(Pse(m));else if(Xi(m)){n=!0;for(let h=0,x=m.length;h<x;h+=1)i(m[h],c,u+1)}else c.length&&i(m,c,u+1)}};return i(e,Ja(t)?t.split("."):t,0),n?r:r[0]}const Use={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Yse={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},Vse={location:0,threshold:.6,distance:100},Gse={useExtendedSearch:!1,getFn:Hse,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Ze={...Yse,...Use,...Vse,...Gse};const Wse=/[^ ]+/g;function Kse(e=1,t=3){const r=new Map,n=Math.pow(10,t);return{get(i){const l=i.match(Wse).length;if(r.has(l))return r.get(l);const c=1/Math.pow(l,.5*e),u=parseFloat(Math.round(c*n)/n);return r.set(l,u),u},clear(){r.clear()}}}class Tw{constructor({getFn:t=Ze.getFn,fieldNormWeight:r=Ze.fieldNormWeight}={}){this.norm=Kse(r,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((r,n)=>{this._keysMap[r.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Ja(this.docs[0])?this.docs.forEach((t,r)=>{this._addString(t,r)}):this.docs.forEach((t,r)=>{this._addObject(t,r)}),this.norm.clear())}add(t){const r=this.size();Ja(t)?this._addString(t,r):this._addObject(t,r)}removeAt(t){this.records.splice(t,1);for(let r=t,n=this.size();r<n;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(t,r){return t[this._keysMap[r]]}size(){return this.records.length}_addString(t,r){if(!Pn(t)||Kb(t))return;let n={v:t,i:r,n:this.norm.get(t)};this.records.push(n)}_addObject(t,r){let n={i:r,$:{}};this.keys.forEach((i,l)=>{let c=i.getFn?i.getFn(t):this.getFn(t,i.path);if(Pn(c)){if(Xi(c)){let u=[];const f=[{nestedArrIndex:-1,value:c}];for(;f.length;){const{nestedArrIndex:m,value:h}=f.pop();if(Pn(h))if(Ja(h)&&!Kb(h)){let x={v:h,i:m,n:this.norm.get(h)};u.push(x)}else Xi(h)&&h.forEach((x,v)=>{f.push({nestedArrIndex:v,value:x})})}n.$[l]=u}else if(Ja(c)&&!Kb(c)){let u={v:c,n:this.norm.get(c)};n.$[l]=u}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function RI(e,t,{getFn:r=Ze.getFn,fieldNormWeight:n=Ze.fieldNormWeight}={}){const i=new Tw({getFn:r,fieldNormWeight:n});return i.setKeys(e.map(II)),i.setSources(t),i.create(),i}function Qse(e,{getFn:t=Ze.getFn,fieldNormWeight:r=Ze.fieldNormWeight}={}){const{keys:n,records:i}=e,l=new Tw({getFn:t,fieldNormWeight:r});return l.setKeys(n),l.setIndexRecords(i),l}function Qm(e,{errors:t=0,currentLocation:r=0,expectedLocation:n=0,distance:i=Ze.distance,ignoreLocation:l=Ze.ignoreLocation}={}){const c=t/e.length;if(l)return c;const u=Math.abs(n-r);return i?c+u/i:u?1:c}function Xse(e=[],t=Ze.minMatchCharLength){let r=[],n=-1,i=-1,l=0;for(let c=e.length;l<c;l+=1){let u=e[l];u&&n===-1?n=l:!u&&n!==-1&&(i=l-1,i-n+1>=t&&r.push([n,i]),n=-1)}return e[l-1]&&l-n>=t&&r.push([n,l-1]),r}const Ol=32;function Zse(e,t,r,{location:n=Ze.location,distance:i=Ze.distance,threshold:l=Ze.threshold,findAllMatches:c=Ze.findAllMatches,minMatchCharLength:u=Ze.minMatchCharLength,includeMatches:f=Ze.includeMatches,ignoreLocation:m=Ze.ignoreLocation}={}){if(t.length>Ol)throw new Error(zse(Ol));const h=t.length,x=e.length,v=Math.max(0,Math.min(n,x));let g=l,S=v;const y=u>1||f,w=y?Array(x):[];let C;for(;(C=e.indexOf(t,S))>-1;){let I=Qm(t,{currentLocation:C,expectedLocation:v,distance:i,ignoreLocation:m});if(g=Math.min(I,g),S=C+h,y){let O=0;for(;O<h;)w[C+O]=1,O+=1}}S=-1;let k=[],A=1,M=h+x;const D=1<<h-1;for(let I=0;I<h;I+=1){let O=0,z=M;for(;O<z;)Qm(t,{errors:I,currentLocation:v+z,expectedLocation:v,distance:i,ignoreLocation:m})<=g?O=z:M=z,z=Math.floor((M-O)/2+O);M=z;let F=Math.max(1,v-z+1),B=c?x:Math.min(v+z,x)+h,E=Array(B+2);E[B+1]=(1<<I)-1;for(let X=B;X>=F;X-=1){let re=X-1,L=r[e.charAt(re)];if(y&&(w[re]=+!!L),E[X]=(E[X+1]<<1|1)&L,I&&(E[X]|=(k[X+1]|k[X])<<1|1|k[X+1]),E[X]&D&&(A=Qm(t,{errors:I,currentLocation:re,expectedLocation:v,distance:i,ignoreLocation:m}),A<=g)){if(g=A,S=re,S<=v)break;F=Math.max(1,2*v-S)}}if(Qm(t,{errors:I+1,currentLocation:v,expectedLocation:v,distance:i,ignoreLocation:m})>g)break;k=E}const T={isMatch:S>=0,score:Math.max(.001,A)};if(y){const I=Xse(w,u);I.length?f&&(T.indices=I):T.isMatch=!1}return T}function Jse(e){let t={};for(let r=0,n=e.length;r<n;r+=1){const i=e.charAt(r);t[i]=(t[i]||0)|1<<n-r-1}return t}const Th=String.prototype.normalize?(e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(e=>e);class LI{constructor(t,{location:r=Ze.location,threshold:n=Ze.threshold,distance:i=Ze.distance,includeMatches:l=Ze.includeMatches,findAllMatches:c=Ze.findAllMatches,minMatchCharLength:u=Ze.minMatchCharLength,isCaseSensitive:f=Ze.isCaseSensitive,ignoreDiacritics:m=Ze.ignoreDiacritics,ignoreLocation:h=Ze.ignoreLocation}={}){if(this.options={location:r,threshold:n,distance:i,includeMatches:l,findAllMatches:c,minMatchCharLength:u,isCaseSensitive:f,ignoreDiacritics:m,ignoreLocation:h},t=f?t:t.toLowerCase(),t=m?Th(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const x=(g,S)=>{this.chunks.push({pattern:g,alphabet:Jse(g),startIndex:S})},v=this.pattern.length;if(v>Ol){let g=0;const S=v%Ol,y=v-S;for(;g<y;)x(this.pattern.substr(g,Ol),g),g+=Ol;if(S){const w=v-Ol;x(this.pattern.substr(w),w)}}else x(this.pattern,0)}searchIn(t){const{isCaseSensitive:r,ignoreDiacritics:n,includeMatches:i}=this.options;if(t=r?t:t.toLowerCase(),t=n?Th(t):t,this.pattern===t){let y={isMatch:!0,score:0};return i&&(y.indices=[[0,t.length-1]]),y}const{location:l,distance:c,threshold:u,findAllMatches:f,minMatchCharLength:m,ignoreLocation:h}=this.options;let x=[],v=0,g=!1;this.chunks.forEach(({pattern:y,alphabet:w,startIndex:C})=>{const{isMatch:k,score:A,indices:M}=Zse(t,y,w,{location:l+C,distance:c,threshold:u,findAllMatches:f,minMatchCharLength:m,includeMatches:i,ignoreLocation:h});k&&(g=!0),v+=A,k&&M&&(x=[...x,...M])});let S={isMatch:g,score:g?v/this.chunks.length:1};return g&&i&&(S.indices=x),S}}class rl{constructor(t){this.pattern=t}static isMultiMatch(t){return F5(t,this.multiRegex)}static isSingleMatch(t){return F5(t,this.singleRegex)}search(){}}function F5(e,t){const r=e.match(t);return r?r[1]:null}class ele extends rl{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const r=t===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class tle extends rl{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const n=t.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class rle extends rl{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const r=t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class nle extends rl{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const r=!t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class ale extends rl{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const r=t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class ile extends rl{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const r=!t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class FI extends rl{constructor(t,{location:r=Ze.location,threshold:n=Ze.threshold,distance:i=Ze.distance,includeMatches:l=Ze.includeMatches,findAllMatches:c=Ze.findAllMatches,minMatchCharLength:u=Ze.minMatchCharLength,isCaseSensitive:f=Ze.isCaseSensitive,ignoreDiacritics:m=Ze.ignoreDiacritics,ignoreLocation:h=Ze.ignoreLocation}={}){super(t),this._bitapSearch=new LI(t,{location:r,threshold:n,distance:i,includeMatches:l,findAllMatches:c,minMatchCharLength:u,isCaseSensitive:f,ignoreDiacritics:m,ignoreLocation:h})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class zI extends rl{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let r=0,n;const i=[],l=this.pattern.length;for(;(n=t.indexOf(this.pattern,r))>-1;)r=n+l,i.push([n,r-1]);const c=!!i.length;return{isMatch:c,score:c?0:1,indices:i}}}const l1=[ele,zI,rle,nle,ile,ale,tle,FI],z5=l1.length,sle=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,lle="|";function ole(e,t={}){return e.split(lle).map(r=>{let n=r.trim().split(sle).filter(l=>l&&!!l.trim()),i=[];for(let l=0,c=n.length;l<c;l+=1){const u=n[l];let f=!1,m=-1;for(;!f&&++m<z5;){const h=l1[m];let x=h.isMultiMatch(u);x&&(i.push(new h(x,t)),f=!0)}if(!f)for(m=-1;++m<z5;){const h=l1[m];let x=h.isSingleMatch(u);if(x){i.push(new h(x,t));break}}}return i})}const cle=new Set([FI.type,zI.type]);class ule{constructor(t,{isCaseSensitive:r=Ze.isCaseSensitive,ignoreDiacritics:n=Ze.ignoreDiacritics,includeMatches:i=Ze.includeMatches,minMatchCharLength:l=Ze.minMatchCharLength,ignoreLocation:c=Ze.ignoreLocation,findAllMatches:u=Ze.findAllMatches,location:f=Ze.location,threshold:m=Ze.threshold,distance:h=Ze.distance}={}){this.query=null,this.options={isCaseSensitive:r,ignoreDiacritics:n,includeMatches:i,minMatchCharLength:l,findAllMatches:u,ignoreLocation:c,location:f,threshold:m,distance:h},t=r?t:t.toLowerCase(),t=n?Th(t):t,this.pattern=t,this.query=ole(this.pattern,this.options)}static condition(t,r){return r.useExtendedSearch}searchIn(t){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:i,ignoreDiacritics:l}=this.options;t=i?t:t.toLowerCase(),t=l?Th(t):t;let c=0,u=[],f=0;for(let m=0,h=r.length;m<h;m+=1){const x=r[m];u.length=0,c=0;for(let v=0,g=x.length;v<g;v+=1){const S=x[v],{isMatch:y,indices:w,score:C}=S.search(t);if(y){if(c+=1,f+=C,n){const k=S.constructor.type;cle.has(k)?u=[...u,...w]:u.push(w)}}else{f=0,c=0,u.length=0;break}}if(c){let v={isMatch:!0,score:f/c};return n&&(v.indices=u),v}}return{isMatch:!1,score:1}}}const o1=[];function dle(...e){o1.push(...e)}function c1(e,t){for(let r=0,n=o1.length;r<n;r+=1){let i=o1[r];if(i.condition(e,t))return new i(e,t)}return new LI(e,t)}const Ph={AND:"$and",OR:"$or"},u1={PATH:"$path",PATTERN:"$val"},d1=e=>!!(e[Ph.AND]||e[Ph.OR]),fle=e=>!!e[u1.PATH],mle=e=>!Xi(e)&&TI(e)&&!d1(e),B5=e=>({[Ph.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function BI(e,t,{auto:r=!0}={}){const n=i=>{let l=Object.keys(i);const c=fle(i);if(!c&&l.length>1&&!d1(i))return n(B5(i));if(mle(i)){const f=c?i[u1.PATH]:l[0],m=c?i[u1.PATTERN]:i[f];if(!Ja(m))throw new Error(Fse(f));const h={keyId:s1(f),pattern:m};return r&&(h.searcher=c1(m,t)),h}let u={children:[],operator:l[0]};return l.forEach(f=>{const m=i[f];Xi(m)&&m.forEach(h=>{u.children.push(n(h))})}),u};return d1(e)||(e=B5(e)),n(e)}function ple(e,{ignoreFieldNorm:t=Ze.ignoreFieldNorm}){e.forEach(r=>{let n=1;r.matches.forEach(({key:i,norm:l,score:c})=>{const u=i?i.weight:null;n*=Math.pow(c===0&&u?Number.EPSILON:c,(u||1)*(t?1:l))}),r.score=n})}function hle(e,t){const r=e.matches;t.matches=[],Pn(r)&&r.forEach(n=>{if(!Pn(n.indices)||!n.indices.length)return;const{indices:i,value:l}=n;let c={indices:i,value:l};n.key&&(c.key=n.key.src),n.idx>-1&&(c.refIndex=n.idx),t.matches.push(c)})}function xle(e,t){t.score=e.score}function vle(e,t,{includeMatches:r=Ze.includeMatches,includeScore:n=Ze.includeScore}={}){const i=[];return r&&i.push(hle),n&&i.push(xle),e.map(l=>{const{idx:c}=l,u={item:t[c],refIndex:c};return i.length&&i.forEach(f=>{f(l,u)}),u})}class ao{constructor(t,r={},n){this.options={...Ze,...r},this.options.useExtendedSearch,this._keyStore=new qse(this.options.keys),this.setCollection(t,n)}setCollection(t,r){if(this._docs=t,r&&!(r instanceof Tw))throw new Error(Lse);this._myIndex=r||RI(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){Pn(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const r=[];for(let n=0,i=this._docs.length;n<i;n+=1){const l=this._docs[n];t(l,n)&&(this.removeAt(n),n-=1,i-=1,r.push(l))}return r}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:r=-1}={}){const{includeMatches:n,includeScore:i,shouldSort:l,sortFn:c,ignoreFieldNorm:u}=this.options;let f=Ja(t)?Ja(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return ple(f,{ignoreFieldNorm:u}),l&&f.sort(c),OI(r)&&r>-1&&(f=f.slice(0,r)),vle(f,this._docs,{includeMatches:n,includeScore:i})}_searchStringList(t){const r=c1(t,this.options),{records:n}=this._myIndex,i=[];return n.forEach(({v:l,i:c,n:u})=>{if(!Pn(l))return;const{isMatch:f,score:m,indices:h}=r.searchIn(l);f&&i.push({item:l,idx:c,matches:[{score:m,value:l,norm:u,indices:h}]})}),i}_searchLogical(t){const r=BI(t,this.options),n=(u,f,m)=>{if(!u.children){const{keyId:x,searcher:v}=u,g=this._findMatches({key:this._keyStore.get(x),value:this._myIndex.getValueForItemAtKeyId(f,x),searcher:v});return g&&g.length?[{idx:m,item:f,matches:g}]:[]}const h=[];for(let x=0,v=u.children.length;x<v;x+=1){const g=u.children[x],S=n(g,f,m);if(S.length)h.push(...S);else if(u.operator===Ph.AND)return[]}return h},i=this._myIndex.records,l={},c=[];return i.forEach(({$:u,i:f})=>{if(Pn(u)){let m=n(r,u,f);m.length&&(l[f]||(l[f]={idx:f,item:u,matches:[]},c.push(l[f])),m.forEach(({matches:h})=>{l[f].matches.push(...h)}))}}),c}_searchObjectList(t){const r=c1(t,this.options),{keys:n,records:i}=this._myIndex,l=[];return i.forEach(({$:c,i:u})=>{if(!Pn(c))return;let f=[];n.forEach((m,h)=>{f.push(...this._findMatches({key:m,value:c[h],searcher:r}))}),f.length&&l.push({idx:u,item:c,matches:f})}),l}_findMatches({key:t,value:r,searcher:n}){if(!Pn(r))return[];let i=[];if(Xi(r))r.forEach(({v:l,i:c,n:u})=>{if(!Pn(l))return;const{isMatch:f,score:m,indices:h}=n.searchIn(l);f&&i.push({score:m,key:t,value:l,idx:c,norm:u,indices:h})});else{const{v:l,n:c}=r,{isMatch:u,score:f,indices:m}=n.searchIn(l);u&&i.push({score:f,key:t,value:l,norm:c,indices:m})}return i}}ao.version="7.1.0";ao.createIndex=RI;ao.parseIndex=Qse;ao.config=Ze;ao.parseQuery=BI;dle(ule);let pa=null,Zu=null;function gle(e){if(!e)return!1;const t=new Date(e),r=new Date;return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()&&t.getDate()===r.getDate()}function ble(){return pa?Promise.resolve(pa):Zu||(Zu=tO("fundsList").then(e=>e&&Array.isArray(e.data)&&gle(e.updatedAt)?(pa=e.data,pa):Q8().then(t=>(pa=Array.isArray(t)?t:[],rn("fundsList",pa),pa))).catch(()=>(Zu=null,[])),Zu)}function Pw({value:e,onSelect:t,placeholder:r,disabled:n}){const[i,l]=j.useState(""),[c,u]=j.useState(pa||[]),[f,m]=j.useState(!pa),[h,x]=j.useState(!1),v=j.useRef(null);j.useEffect(()=>{if(pa){u(pa),m(!1);return}ble().then(k=>{u(k),m(!1)})},[]),j.useEffect(()=>{function k(A){v.current&&!v.current.contains(A.target)&&x(!1)}return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]);const g=j.useMemo(()=>c.length?new ao(c,{keys:["fundName"],threshold:.3,distance:50,minMatchCharLength:2,includeScore:!0,ignoreLocation:!1,findAllMatches:!0}):null,[c]),S=j.useMemo(()=>!g||i.length<2?[]:g.search(i).slice(0,50).map(k=>k.item),[g,i]);function y(k){l(k),x(k.length>=2)}function w(k){t({schemeCode:k.fundCode||k.schemeCode,fundName:k.fundName,nav:k.nav,navDate:k.navDate}),l(""),x(!1)}function C(){t({schemeCode:"",fundName:"",nav:0,navDate:""}),l("")}return e?.fundName?a.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg px-3 py-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate",children:Re(e.fundName).main}),Re(e.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Re(e.fundName).plan})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:e.schemeCode}),e.nav>0&&a.jsxs("span",{className:"text-xs font-medium text-emerald-400",children:["NAV: ",e.nav.toFixed(2),e.navDate?` (${e.navDate})`:""]})]})]}),a.jsx("button",{type:"button",onClick:C,className:"shrink-0 p-1 rounded-md hover:bg-[var(--bg-hover)] text-[var(--text-dim)] hover:text-[var(--text-secondary)] transition-colors",children:a.jsx(ni,{size:14})})]}):a.jsxs("div",{ref:v,className:"relative",children:[a.jsxs("div",{className:"relative",children:[f?a.jsx(cd,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-400 animate-spin"}):a.jsx(k1,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)]"}),a.jsx("input",{type:"text",value:i,onChange:k=>y(k.target.value),onFocus:()=>i.length>=2&&x(!0),placeholder:f?"Loading funds...":r||"Search fund name...",disabled:n||f,className:"w-full bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg pl-9 pr-3 py-2 text-sm text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-violet-500/50 disabled:opacity-50 transition-colors"})]}),h&&S.length>0&&a.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl max-h-[240px] overflow-y-auto",children:S.map(k=>a.jsxs("button",{type:"button",onClick:()=>w(k),className:"w-full text-left px-3 py-2.5 hover:bg-[var(--bg-hover)] transition-colors border-b border-[var(--border-light)] last:border-0",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:Re(k.fundName).main}),Re(k.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Re(k.fundName).plan})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:k.fundCode||k.schemeCode}),k.nav>0&&a.jsxs("span",{className:"text-xs text-emerald-400 tabular-nums",children:["NAV: ",k.nav.toFixed(2),k.navDate?` (${k.navDate})`:""]})]})]},k.fundCode||k.schemeCode))}),h&&i.length>=2&&S.length===0&&!f&&a.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl p-4 text-center",children:a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:['No funds found for "',i,'"']})})]})}const yle=[{value:"INITIAL",label:"Add Existing Holdings"},{value:"SIP",label:"SIP Investment"},{value:"LUMPSUM",label:"Lumpsum Investment"}];function jle({portfolioId:e,fundCode:t,fundName:r,transactionType:n,onSave:i,onCancel:l}){const{mfPortfolios:c,mfHoldings:u}=pt(),{selectedMember:f}=Fr(),m=j.useMemo(()=>{const E=c.filter(J=>J.status==="Active");return f==="all"?E:E.filter(J=>J.ownerId===f)},[c,f]),[h,x]=j.useState({portfolioId:e||"",fundCode:t||"",fundName:r||"",nav:0,navDate:"",transactionType:n||"SIP",date:new Date().toISOString().split("T")[0],units:"",price:"",notes:""}),[v,g]=j.useState({}),[S,y]=j.useState(!1),[w,C]=j.useState(!t);function k(E,J){x(X=>({...X,[E]:J})),g(X=>({...X,[E]:void 0}))}function A({schemeCode:E,fundName:J,nav:X,navDate:re}){x(L=>({...L,fundCode:E,fundName:J,nav:X||0,navDate:re||"",price:X>0?String(X):L.price})),g(L=>({...L,fundCode:void 0,fundName:void 0})),C(!1)}function M(E){x(J=>({...J,fundCode:E.schemeCode,fundName:E.fundName,nav:E.currentNav||0,navDate:"",price:E.currentNav>0?String(E.currentNav):J.price})),g(J=>({...J,fundCode:void 0})),C(!1)}const D=j.useMemo(()=>h.portfolioId?u.filter(E=>E.portfolioId===h.portfolioId).sort((E,J)=>J.currentValue-E.currentValue):[],[u,h.portfolioId]),T=j.useMemo(()=>!h.portfolioId||!h.fundCode?null:u.find(E=>E.portfolioId===h.portfolioId&&E.schemeCode===h.fundCode),[u,h.portfolioId,h.fundCode]),I=h.fundCode&&!T,O=j.useMemo(()=>(Number(h.units)||0)*(Number(h.price)||0),[h.units,h.price]);function z(){const E={};return h.portfolioId||(E.portfolioId="Required"),h.fundCode||(E.fundCode="Select a fund"),h.date||(E.date="Required"),(!h.units||Number(h.units)<=0)&&(E.units="Must be > 0"),(!h.price||Number(h.price)<=0)&&(E.price="Must be > 0"),g(E),Object.keys(E).length===0}async function F(){if(z()){y(!0);try{await i({portfolioId:h.portfolioId,fundCode:h.fundCode,fundName:h.fundName,transactionType:h.transactionType,purchaseDate:h.date,units:h.units,avgPrice:h.price,notes:h.notes})}finally{y(!1)}}}const B=m.map(E=>{const J=E.portfolioName?.replace(/^PFL-/,"")||E.portfolioName,X=E.ownerName?`${J} (${E.ownerName})`:J;return{value:E.portfolioId,label:X}});return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Portfolio",required:!0,error:v.portfolioId,children:a.jsx(Je,{value:h.portfolioId,onChange:E=>{k("portfolioId",E),t||(k("fundCode",""),k("fundName",""),C(!1))},options:B,placeholder:"Select portfolio..."})}),a.jsx(me,{label:"Transaction Type",required:!0,children:a.jsx(Je,{value:h.transactionType,onChange:E=>k("transactionType",E),options:yle})})]}),a.jsx(me,{label:"Fund",required:!0,error:v.fundCode,children:h.fundCode&&!w?a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:Re(h.fundName).main}),Re(h.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Re(h.fundName).plan})]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[h.fundCode,h.nav>0&&a.jsxs("span",{className:"ml-2 text-emerald-400",children:["NAV: ",h.nav.toFixed(2)]})]})]}),a.jsx("button",{type:"button",onClick:()=>{k("fundCode",""),k("fundName",""),C(!0)},className:"text-xs text-[var(--text-muted)] hover:text-[var(--text-primary)] underline shrink-0",children:"Change"})]}):a.jsxs("div",{className:"space-y-3",children:[D.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)] mb-1.5",children:"Portfolio Funds"}),a.jsx("div",{className:"rounded-lg border border-[var(--border)] bg-[var(--bg-inset)] overflow-hidden max-h-44 overflow-y-auto",children:D.map(E=>a.jsxs("button",{type:"button",onClick:()=>M(E),className:"w-full flex items-center gap-3 px-3 py-2 text-left hover:bg-[var(--bg-hover)] border-b border-[var(--border-light)] last:border-b-0 transition-colors group",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate group-hover:text-white transition-colors",children:Re(E.fundName).main}),Re(E.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Re(E.fundName).plan})]}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5",children:E.units>0?`${E.units.toFixed(0)} units  ${K(E.currentValue)}`:"Planned"})]}),a.jsx(Ul,{size:12,className:"text-[var(--text-dim)] -rotate-90 shrink-0 opacity-0 group-hover:opacity-100 transition-opacity"})]},E.holdingId))})]}),a.jsxs("div",{children:[D.length>0&&a.jsxs("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)] mb-1.5 flex items-center gap-1",children:[a.jsx(k1,{size:10})," Or search new fund"]}),a.jsx(Pw,{value:null,onSelect:A,placeholder:"Search fund by name or code..."})]})]})}),T&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Existing holding  will average out"}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Current: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:T.units.toFixed(2)})," units @ ",T.avgNav.toFixed(2)," avg NAV | Value: ",K(T.currentValue),T.targetAllocationPct>0&&a.jsxs("span",{children:["  Target: ",T.targetAllocationPct.toFixed(1),"%"]})]})]}),I&&a.jsxs("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:[a.jsx("p",{className:"text-xs text-violet-400 font-semibold",children:"New fund  will be added to portfolio"}),a.jsx("p",{className:"text-xs text-violet-300/70 mt-0.5",children:"Use Allocations to plan how much to invest before buying"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(me,{label:"Date",required:!0,error:v.date,children:a.jsx(Ca,{value:h.date,onChange:E=>k("date",E)})}),a.jsx(me,{label:"Units",required:!0,error:v.units,children:a.jsx(Ie,{type:"number",value:h.units,onChange:E=>k("units",E),placeholder:"e.g., 150.50"})}),a.jsx(me,{label:"NAV ()",required:!0,error:v.price,children:a.jsx(Ie,{type:"number",value:h.price,onChange:E=>k("price",E),placeholder:"e.g., 178.45"})})]}),O>0&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:K(O)}),T&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:["New avg NAV: ",((T.investment+O)/(T.units+Number(h.units))).toFixed(2)," Total units: ",(T.units+Number(h.units)).toFixed(2)]})]}),a.jsx(me,{label:"Notes",children:a.jsx(Ie,{value:h.notes,onChange:E=>k("notes",E),placeholder:"Optional notes..."})}),a.jsx(on,{onCancel:l,onSubmit:F,submitLabel:h.transactionType==="SIP"?"Record SIP":h.transactionType==="LUMPSUM"?"Record Lumpsum":"Add Holdings",loading:S})]})}function wle({portfolioId:e,fundCode:t,onSave:r,onCancel:n}){const{mfPortfolios:i,mfHoldings:l}=pt(),{selectedMember:c}=Fr(),u=j.useMemo(()=>{const F=i.filter(B=>B.status==="Active");return c==="all"?F:F.filter(B=>B.ownerId===c)},[i,c]),f=j.useMemo(()=>!e||!t?null:l.find(F=>F.portfolioId===e&&F.schemeCode===t),[l,e,t]),[m,h]=j.useState({portfolioId:e||"",fundCode:t||"",fundName:f?.fundName||"",date:new Date().toISOString().split("T")[0],units:"",price:f?.currentNav>0?String(f.currentNav):"",notes:""}),[x,v]=j.useState({}),[g,S]=j.useState(!1);function y(F,B){h(E=>({...E,[F]:B})),v(E=>({...E,[F]:void 0}))}const w=j.useMemo(()=>m.portfolioId?l.filter(F=>F.portfolioId===m.portfolioId&&F.units>0):[],[l,m.portfolioId]),C=w.find(F=>F.schemeCode===m.fundCode);function k(F){const B=w.find(E=>E.schemeCode===F);h(E=>({...E,fundCode:F,fundName:B?.fundName||"",price:B?.currentNav?.toString()||""})),v(E=>({...E,fundCode:void 0}))}function A(F){h(B=>({...B,portfolioId:F,fundCode:"",fundName:"",units:"",price:""})),v(B=>({...B,portfolioId:void 0}))}const M=j.useMemo(()=>(Number(m.units)||0)*(Number(m.price)||0),[m.units,m.price]),D=C?M-Number(m.units)*C.avgNav:0;function T(){const F={};return m.portfolioId||(F.portfolioId="Required"),m.fundCode||(F.fundCode="Required"),m.date||(F.date="Required"),(!m.units||Number(m.units)<=0)&&(F.units="Must be > 0"),C&&Number(m.units)>C.units&&(F.units=`Max ${C.units.toFixed(2)} units`),(!m.price||Number(m.price)<=0)&&(F.price="Must be > 0"),v(F),Object.keys(F).length===0}async function I(){if(T()){S(!0);try{await r(m)}finally{S(!1)}}}const O=u.map(F=>{const B=F.portfolioName?.replace(/^PFL-/,"")||F.portfolioName,E=F.ownerName?`${B} (${F.ownerName})`:B;return{value:F.portfolioId,label:E}}),z=w.map(F=>({value:F.schemeCode,label:`${F.fundName}  ${F.units.toFixed(0)} units  ${K(F.currentValue)}`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(me,{label:"Portfolio",required:!0,error:x.portfolioId,children:a.jsx(Je,{value:m.portfolioId,onChange:A,options:O,placeholder:"Select portfolio..."})}),a.jsx(me,{label:"Fund to Redeem",required:!0,error:x.fundCode,children:a.jsx(Je,{value:m.fundCode,onChange:k,options:z,placeholder:m.portfolioId?w.length?"Select fund...":"No holdings":"Select portfolio first..."})}),C&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:Re(C.fundName).main}),Re(C.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Re(C.fundName).plan})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:C.units.toFixed(2)})," units @ ",C.avgNav.toFixed(2)," avg | Current NAV: ",C.currentNav.toFixed(2)]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(me,{label:"Date",required:!0,error:x.date,children:a.jsx(Ca,{value:m.date,onChange:F=>y("date",F)})}),a.jsx(me,{label:"Units",required:!0,error:x.units,children:a.jsx(Ie,{type:"number",value:m.units,onChange:F=>y("units",F),placeholder:C?`Max: ${C.units.toFixed(2)}`:""})}),a.jsx(me,{label:"NAV ()",required:!0,error:x.price,children:a.jsx(Ie,{type:"number",value:m.price,onChange:F=>y("price",F),placeholder:"e.g., 178.45"})})]}),M>0&&a.jsx("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Redemption Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:K(M)})]}),C&&a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. Gain/Loss"}),a.jsxs("p",{className:`text-sm font-bold tabular-nums ${D>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[D>=0?"+":"",K(D)]})]})]})}),a.jsx(me,{label:"Notes",children:a.jsx(Ie,{value:m.notes,onChange:F=>y("notes",F),placeholder:"Optional notes..."})}),a.jsx(on,{onCancel:n,onSubmit:I,submitLabel:"Redeem",loading:g})]})}function Nle({portfolioId:e,onSave:t,onCancel:r}){const{mfPortfolios:n,mfHoldings:i}=pt(),{selectedMember:l}=Fr(),c=j.useMemo(()=>{const E=n.filter(J=>J.status==="Active");return l==="all"?E:E.filter(J=>J.ownerId===l)},[n,l]),[u,f]=j.useState({portfolioId:e||"",fromFundCode:"",fromFundName:"",toFundCode:"",toFundName:"",date:new Date().toISOString().split("T")[0],units:"",fromPrice:"",toPrice:"",targetAllocation:"",notes:""}),[m,h]=j.useState({}),[x,v]=j.useState(!1);function g(E,J){f(X=>({...X,[E]:J})),h(X=>({...X,[E]:void 0}))}function S(E){f(J=>({...J,portfolioId:E,fromFundCode:"",fromFundName:"",toFundCode:"",toFundName:"",units:"",fromPrice:"",toPrice:"",targetAllocation:""})),h(J=>({...J,portfolioId:void 0}))}const y=j.useMemo(()=>u.portfolioId?i.filter(E=>E.portfolioId===u.portfolioId&&E.units>0):[],[i,u.portfolioId]),w=y.find(E=>E.schemeCode===u.fromFundCode),C=j.useMemo(()=>!u.portfolioId||!u.toFundCode?null:i.find(E=>E.portfolioId===u.portfolioId&&E.schemeCode===u.toFundCode),[i,u.portfolioId,u.toFundCode]),k=u.toFundCode&&!C;function A(E){const J=y.find(X=>X.schemeCode===E);f(X=>({...X,fromFundCode:E,fromFundName:J?.fundName||"",fromPrice:J?.currentNav?.toString()||""})),h(X=>({...X,fromFundCode:void 0}))}function M({schemeCode:E,fundName:J}){const X=i.find(re=>re.portfolioId===u.portfolioId&&re.schemeCode===E);f(re=>({...re,toFundCode:E,toFundName:J,toPrice:X?.currentNav?.toString()||re.toPrice,targetAllocation:""})),h(re=>({...re,toFundCode:void 0}))}const D=j.useMemo(()=>(Number(u.units)||0)*(Number(u.fromPrice)||0),[u.units,u.fromPrice]),T=D>0&&Number(u.toPrice)>0?D/Number(u.toPrice):0,I=w?D-Number(u.units)*w.avgNav:0;function O(){const E={};return u.portfolioId||(E.portfolioId="Required"),u.fromFundCode||(E.fromFundCode="Required"),u.toFundCode||(E.toFundCode="Required"),u.fromFundCode&&u.toFundCode&&u.fromFundCode===u.toFundCode&&(E.toFundCode="Must be different from source fund"),u.date||(E.date="Required"),(!u.units||Number(u.units)<=0)&&(E.units="Must be > 0"),w&&Number(u.units)>w.units&&(E.units=`Max ${w.units.toFixed(2)} units`),(!u.fromPrice||Number(u.fromPrice)<=0)&&(E.fromPrice="Must be > 0"),(!u.toPrice||Number(u.toPrice)<=0)&&(E.toPrice="Must be > 0"),h(E),Object.keys(E).length===0}async function z(){if(O()){v(!0);try{await t(u)}finally{v(!1)}}}const F=c.map(E=>{const J=E.portfolioName?.replace(/^PFL-/,"")||E.portfolioName,X=E.ownerName?`${J} (${E.ownerName})`:J;return{value:E.portfolioId,label:X}}),B=y.map(E=>({value:E.schemeCode,label:E.fundName}));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(me,{label:"Portfolio",required:!0,error:m.portfolioId,children:a.jsx(Je,{value:u.portfolioId,onChange:S,options:F,placeholder:"Select portfolio..."})}),a.jsx(me,{label:"Switch From (Sell)",required:!0,error:m.fromFundCode,children:a.jsx(Je,{value:u.fromFundCode,onChange:A,options:B,placeholder:u.portfolioId?y.length?"Select fund to switch from...":"No holdings":"Select portfolio first..."})}),w&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:Re(w.fundName).main}),Re(w.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Re(w.fundName).plan})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:w.units.toFixed(2)})," units @ ",w.avgNav.toFixed(2)," avg | Current NAV: ",w.currentNav.toFixed(2)]})]}),a.jsx(me,{label:"Switch To (Buy)",required:!0,error:m.toFundCode,children:a.jsx(Pw,{value:u.toFundCode?{schemeCode:u.toFundCode,fundName:u.toFundName}:null,onSelect:M,placeholder:"Search fund to switch into...",disabled:!u.portfolioId})}),C&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Existing holding  units will be added, NAV averaged out"}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Current: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:C.units.toFixed(2)})," units @ ",C.avgNav.toFixed(2)," avg | Alloc: ",C.targetAllocationPct.toFixed(1),"%"]})]}),k&&u.toFundCode&&a.jsx("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:a.jsx("p",{className:"text-xs text-violet-400 font-semibold",children:"New fund  will be added to portfolio"})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Switch Date",required:!0,error:m.date,children:a.jsx(Ca,{value:u.date,onChange:E=>g("date",E)})}),a.jsx(me,{label:"Units to Switch",required:!0,error:m.units,children:a.jsx(Ie,{type:"number",value:u.units,onChange:E=>g("units",E),placeholder:w?`Max: ${w.units.toFixed(2)}`:""})})]}),a.jsxs("div",{className:`grid grid-cols-1 ${k?"sm:grid-cols-3":"sm:grid-cols-2"} gap-4`,children:[a.jsx(me,{label:"From Fund NAV ()",required:!0,error:m.fromPrice,children:a.jsx(Ie,{type:"number",value:u.fromPrice,onChange:E=>g("fromPrice",E),placeholder:"e.g., 178.45"})}),a.jsx(me,{label:"To Fund NAV ()",required:!0,error:m.toPrice,children:a.jsx(Ie,{type:"number",value:u.toPrice,onChange:E=>g("toPrice",E),placeholder:"e.g., 82.10"})}),k&&a.jsx(me,{label:"Target Allocation (%)",children:a.jsx(Ie,{type:"number",value:u.targetAllocation,onChange:E=>g("targetAllocation",E),placeholder:"e.g., 20"})})]}),D>0&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Switch Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:K(D)})]}),T>0&&a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Units Bought"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:T.toFixed(4)})]}),w&&a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. Gain/Loss"}),a.jsxs("p",{className:`text-sm font-bold tabular-nums ${I>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[I>=0?"+":"",K(I)]})]})]}),C&&T>0&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1 border-t border-[var(--border-light)] pt-1",children:["New total: ",(C.units+T).toFixed(2)," units  New avg NAV: ",((C.investment+D)/(C.units+T)).toFixed(2)]})]}),a.jsx(me,{label:"Notes",children:a.jsx(Ie,{value:u.notes,onChange:E=>g("notes",E),placeholder:"Optional notes..."})}),a.jsx(on,{onCancel:r,onSubmit:z,submitLabel:"Switch Funds",loading:x})]})}function Sle({portfolioId:e,onSave:t,onCancel:r}){const{mfHoldings:n,mfPortfolios:i}=pt(),l=i.find(O=>O.portfolioId===e),c=j.useMemo(()=>n.filter(O=>O.portfolioId===e),[n,e]),[u,f]=j.useState(()=>c.map(O=>({schemeCode:O.schemeCode,fundName:O.fundName,units:O.units,currentValue:O.currentValue,currentAllocationPct:O.currentAllocationPct,targetAllocationPct:O.targetAllocationPct,isNew:!1}))),[m,h]=j.useState(null),[x,v]=j.useState(""),[g,S]=j.useState(""),[y,w]=j.useState(!1),C=u.reduce((O,z)=>O+z.targetAllocationPct,0),k=u.reduce((O,z)=>O+z.currentValue,0);function A(O,z){f(F=>F.map(B=>B.schemeCode===O?{...B,targetAllocationPct:Number(z)||0}:B)),S("")}function M(O){const z=u.find(F=>F.schemeCode===O);z&&z.units>0||f(F=>F.filter(B=>B.schemeCode!==O))}function D(){if(m){if(u.find(O=>O.schemeCode===m.schemeCode)){S("Fund already exists in portfolio");return}f(O=>[...O,{schemeCode:m.schemeCode,fundName:m.fundName,units:0,currentValue:0,currentAllocationPct:0,targetAllocationPct:Number(x)||0,isNew:!0}]),h(null),v(""),S("")}}async function T(){if(C>100){S(`Total allocation is ${C.toFixed(1)}%  must be  100%`);return}w(!0);try{await t(u.map(O=>({schemeCode:O.schemeCode,fundName:O.fundName,targetAllocationPct:O.targetAllocationPct,isNew:O.isNew})))}finally{w(!1)}}const I=l?.sipTarget||0;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:l?.portfolioName}),a.jsx("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)] mt-0.5 flex-wrap",children:a.jsxs("span",{children:["Current Value: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:K(k)})]})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Fund"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold whitespace-nowrap w-24",children:"Amount"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold whitespace-nowrap w-20",children:"Current %"}),a.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold whitespace-nowrap w-24",children:"Target %"}),a.jsx("th",{className:"w-8 px-2"})]})}),a.jsx("tbody",{children:u.map(O=>{const z=O.isNew&&O.targetAllocationPct>0&&O.targetAllocationPct<100&&k>0?O.targetAllocationPct/(100-O.targetAllocationPct)*k:0,F=O.isNew&&O.targetAllocationPct>0&&I>=100?O.targetAllocationPct/100*I:0;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[a.jsxs("td",{className:"py-2 px-2",children:[a.jsxs("p",{className:"text-xs text-[var(--text-primary)] leading-tight",children:[Re(O.fundName).main,O.isNew&&a.jsx("span",{className:"text-violet-400 ml-1 text-[10px]",children:"(new)"})]}),(z>0||F>0)&&a.jsxs("p",{className:"text-xs text-blue-400 mt-0.5",children:["Invest: ",z>0&&a.jsx("span",{className:"font-semibold",children:K(z)}),z>0&&F>0&&"  ",F>0&&a.jsxs("span",{className:"font-semibold",children:[K(F),"/mo SIP"]})]})]}),a.jsx("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums whitespace-nowrap",children:O.currentValue>0?K(O.currentValue):""}),a.jsxs("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums whitespace-nowrap",children:[O.currentAllocationPct.toFixed(1),"%"]}),a.jsx("td",{className:"py-2 px-2",children:a.jsx("input",{type:"number",value:O.targetAllocationPct,onChange:B=>A(O.schemeCode,B.target.value),className:"w-20 mx-auto block bg-[var(--bg-inset)] border border-[var(--border)] rounded px-2 py-1 text-xs text-center text-[var(--text-primary)] focus:outline-none focus:border-violet-500/50"})}),a.jsx("td",{className:"py-2 px-2 text-center",children:O.units===0&&a.jsx("button",{onClick:()=>M(O.schemeCode),className:"p-1 rounded hover:bg-rose-500/15 text-[var(--text-dim)] hover:text-[var(--accent-rose)] transition-colors",children:a.jsx(cc,{size:12})})})]},O.schemeCode)})}),a.jsx("tfoot",{children:a.jsxs("tr",{className:"border-t border-[var(--border)]",children:[a.jsx("td",{className:"py-2 px-2 text-xs font-bold text-[var(--text-primary)]",children:"Total"}),a.jsx("td",{className:"py-2 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums whitespace-nowrap",children:K(k)}),a.jsxs("td",{className:"py-2 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums whitespace-nowrap",children:[u.reduce((O,z)=>O+z.currentAllocationPct,0).toFixed(1),"%"]}),a.jsx("td",{className:"py-2 px-2 text-center",children:a.jsxs("span",{className:`text-xs font-bold tabular-nums ${C>100?"text-[var(--accent-rose)]":C===100?"text-emerald-400":"text-amber-400"}`,children:[C.toFixed(1),"%"]})}),a.jsx("td",{})]})})]})}),a.jsxs("div",{className:"sm:hidden space-y-2",children:[u.map(O=>{const z=O.isNew&&O.targetAllocationPct>0&&O.targetAllocationPct<100&&k>0?O.targetAllocationPct/(100-O.targetAllocationPct)*k:0,F=O.isNew&&O.targetAllocationPct>0&&I>=100?O.targetAllocationPct/100*I:0;return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-3.5 py-3 space-y-2",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:[Re(O.fundName).main,O.isNew&&a.jsx("span",{className:"text-violet-400 ml-1 text-[10px] font-semibold",children:"(new)"})]}),a.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5 text-[11px] text-[var(--text-dim)] flex-wrap",children:[O.currentValue>0&&a.jsx("span",{className:"tabular-nums",children:K(O.currentValue)}),O.currentValue>0&&a.jsx("span",{children:""}),a.jsxs("span",{className:"tabular-nums",children:["Current ",O.currentAllocationPct.toFixed(1),"%"]})]})]}),O.units===0&&a.jsx("button",{onClick:()=>M(O.schemeCode),className:"p-1.5 rounded-lg hover:bg-rose-500/15 text-[var(--text-dim)] hover:text-[var(--accent-rose)] transition-colors shrink-0",children:a.jsx(cc,{size:14})})]}),a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx("span",{className:"text-[10px] text-[var(--text-dim)] w-10 shrink-0",children:"Target"}),a.jsx("input",{type:"range",min:"0",max:"50",step:"0.5",value:O.targetAllocationPct,onChange:B=>A(O.schemeCode,B.target.value),className:"flex-1 h-1.5 rounded-full appearance-none cursor-pointer accent-violet-500",style:{background:`linear-gradient(to right, rgb(139 92 246) 0%, rgb(139 92 246) ${O.targetAllocationPct/50*100}%, var(--bg-inset) ${O.targetAllocationPct/50*100}%, var(--bg-inset) 100%)`}}),a.jsx("input",{type:"number",value:O.targetAllocationPct,onChange:B=>A(O.schemeCode,B.target.value),className:"w-14 bg-[var(--bg-inset)] border border-[var(--border)] rounded px-1.5 py-1 text-xs text-center text-[var(--text-primary)] tabular-nums focus:outline-none focus:border-violet-500/50 shrink-0"}),a.jsx("span",{className:"text-[10px] text-[var(--text-dim)] shrink-0",children:"%"})]}),(z>0||F>0)&&a.jsxs("p",{className:"text-[11px] text-blue-400",children:["Invest: ",z>0&&a.jsx("span",{className:"font-semibold",children:K(z)}),z>0&&F>0&&"  ",F>0&&a.jsxs("span",{className:"font-semibold",children:[K(F),"/mo SIP"]})]})]},O.schemeCode)}),a.jsxs("div",{className:"flex items-center justify-between bg-[var(--bg-inset)] rounded-xl border border-[var(--border-light)] px-3.5 py-2.5",children:[a.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)]",children:"Total Target"}),a.jsxs("span",{className:`text-sm font-bold tabular-nums ${C>100?"text-[var(--accent-rose)]":C===100?"text-emerald-400":"text-amber-400"}`,children:[C.toFixed(1),"%"]})]})]}),a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider mb-1",children:"Add New Fund"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"Set target % to see how much to invest. After buying, use Invest to record the transaction."}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Pw,{value:m,onSelect:O=>h(O.schemeCode?O:null),placeholder:"Search fund to add..."}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-28",children:a.jsx("input",{type:"number",value:x,onChange:O=>v(O.target.value),placeholder:"Target %",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})}),a.jsxs("button",{onClick:D,disabled:!m,className:"flex items-center gap-1 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors disabled:opacity-40 disabled:cursor-not-allowed",children:[a.jsx(Wr,{size:14})," Add"]})]})]})]})]}),g&&a.jsx("p",{className:"text-xs text-[var(--accent-rose)] font-medium",children:g}),a.jsx(on,{onCancel:r,onSubmit:T,submitLabel:"Save Allocations",loading:y})]})}const Qb=["Equity","Debt","Cash","Commodities","Real Estate","Other"],Xb=["Giant","Large","Mid","Small","Micro"],Zb=["India","Global"];function Cle({fund:e,initial:t,onSave:r,onCancel:n}){const[i,l]=j.useState(()=>{const D={};return Qb.forEach(T=>{D[T]=t?.assetAllocation?.[T]||0}),t?.assetAllocation&&Object.keys(t.assetAllocation).forEach(T=>{T in D||(D[T]=t.assetAllocation[T])}),D}),[c,u]=j.useState(()=>{const D={};return Xb.forEach(T=>{D[T]=t?.equityAllocation?.[T]||0}),t?.equityAllocation&&Object.keys(t.equityAllocation).forEach(T=>{T in D||(D[T]=t.equityAllocation[T])}),D}),[f,m]=j.useState(()=>{const D={};return Zb.forEach(T=>{D[T]=t?.geoAllocation?.[T]||0}),t?.geoAllocation&&Object.keys(t.geoAllocation).forEach(T=>{T in D||(D[T]=t.geoAllocation[T])}),D}),[h,x]=j.useState(!1),v=Object.values(i).reduce((D,T)=>D+T,0),g=Object.values(c).reduce((D,T)=>D+T,0),S=Object.values(f).reduce((D,T)=>D+T,0),y=i.Equity||0,w=v===100||v===0,C=g===100||g===0||y===0,k=S===100||S===0||y===0,A=w&&C&&k;async function M(){if(A){x(!0);try{const D={fundCode:e.fundCode,fundName:e.fundName,equity:i.Equity||0,debt:i.Debt||0,cash:i.Cash||0,commodities:i.Commodities||0,realEstate:i["Real Estate"]||0,customAsset:{},giantCap:c.Giant||0,largeCap:c.Large||0,midCap:c.Mid||0,smallCap:c.Small||0,microCap:c.Micro||0,customCap:{},geoIndia:f.India||0,geoGlobal:f.Global||0,customGeo:{}};Object.entries(i).forEach(([T,I])=>{!Qb.includes(T)&&I>0&&(D.customAsset[T]=I)}),Object.entries(c).forEach(([T,I])=>{!Xb.includes(T)&&I>0&&(D.customCap[T]=I)}),Object.entries(f).forEach(([T,I])=>{!Zb.includes(T)&&I>0&&(D.customGeo[T]=I)}),await r(D)}finally{x(!1)}}}return a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-4 py-2.5",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)] truncate",children:Re(e.fundName).main}),Re(e.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Re(e.fundName).plan})]}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] tabular-nums mt-0.5",children:e.fundCode})]}),a.jsx(Jb,{title:"Asset Class %",fields:i,setFields:l,standardKeys:Qb,total:v,valid:w}),y>0&&a.jsx(Jb,{title:"Market Cap %",subtitle:"Equity breakdown",fields:c,setFields:u,standardKeys:Xb,total:g,valid:C}),y>0&&a.jsx(Jb,{title:"Geography %",fields:f,setFields:m,standardKeys:Zb,total:S,valid:k}),a.jsxs("div",{className:"flex items-center justify-end gap-2 pt-3 border-t border-[var(--border-light)]",children:[a.jsx("button",{onClick:n,disabled:h,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),a.jsxs("button",{onClick:M,disabled:h||!A,className:"flex items-center gap-1.5 px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50",children:[h?a.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):a.jsx(yO,{size:12}),h?"Saving...":"Save"]})]})]})}function Jb({title:e,subtitle:t,fields:r,setFields:n,standardKeys:i,total:l,valid:c}){const[u,f]=j.useState(!1),[m,h]=j.useState("");function x(y,w){n(C=>({...C,[y]:Number(w)||0}))}function v(){const y=m.trim();!y||y in r||(n(w=>({...w,[y]:0})),h(""),f(!1))}function g(y){n(w=>{const C={...w};return delete C[y],C})}const S=Object.keys(r);return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("p",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider",children:e}),t&&a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["(",t,")"]})]}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-1.5",children:S.map(y=>{const w=!i.includes(y);return a.jsxs("div",{className:"relative",children:[a.jsxs("label",{className:"block text-[10px] text-[var(--text-dim)] mb-0.5 flex items-center gap-1",children:[y,w&&a.jsx("button",{onClick:()=>g(y),className:"text-[var(--text-dim)] hover:text-rose-400 transition-colors",children:a.jsx(ni,{size:8})})]}),a.jsx("input",{type:"number",min:"0",max:"100",value:r[y]||"",onChange:C=>x(y,C.target.value),className:"w-[72px] px-1.5 py-1 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-md tabular-nums text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})]},y)})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:`text-[10px] tabular-nums ${c?"text-[var(--text-dim)]":"text-[var(--accent-rose)] font-semibold"}`,children:["Total: ",l,"% ",!c&&" must equal 100%",c&&l===100&&a.jsx("span",{className:"text-emerald-400 ml-1",children:""})]}),u?a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("input",{autoFocus:!0,value:m,onChange:y=>h(y.target.value),onKeyDown:y=>{y.key==="Enter"&&v(),y.key==="Escape"&&f(!1)},placeholder:"Field name",className:"w-24 px-1.5 py-0.5 text-[10px] bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-md focus:outline-none focus:border-[var(--sidebar-active-text)]"}),a.jsx("button",{onClick:v,className:"text-[10px] font-semibold text-emerald-400 hover:text-emerald-300",children:"Add"}),a.jsx("button",{onClick:()=>{f(!1),h("")},className:"text-[10px] text-[var(--text-dim)] hover:text-[var(--text-primary)]",children:a.jsx(ni,{size:10})})]}):a.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-0.5 text-[10px] font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[a.jsx(Wr,{size:10})," Add Field"]})]})]})}const Ju=e=>e?.replace(/^PFL-/,"")||e;function Ale(e){if(!e)return"Other";const t=e.toLowerCase();return t.includes("gold")||t.includes("silver")||t.includes("commodity")?"Commodity":t.includes("liquid")||t.includes("money market")||t.includes("overnight")?"Liquid":t.includes("gilt")||t.includes("government securities")||t.includes("constant maturity")?"Gilt":t.includes("elss")||t.includes("tax saver")?"ELSS":t.includes("debt")||t.includes("bond")||t.includes("income fund")||t.includes("corporate bond")||t.includes("banking & psu")||t.includes("short duration")||t.includes("medium duration")||t.includes("long duration")||t.includes("short term")||t.includes("medium term")||t.includes("floater")||t.includes("floating rate")||t.includes("credit")||t.includes("accrual")||t.includes("savings fund")||t.includes("ultra short")?"Debt":t.includes("multi asset")?"Multi-Asset":t.includes("hybrid")||t.includes("balanced")||t.includes("dynamic asset")||t.includes("arbitrage")||t.includes("retirement")||t.includes("children")||t.includes("pension")?"Hybrid":t.includes("equity")||t.includes("flexi cap")||t.includes("large cap")||t.includes("mid cap")||t.includes("small cap")||t.includes("multi cap")||t.includes("focused")||t.includes("contra")||t.includes("value fund")||t.includes("thematic")||t.includes("sectoral")||t.includes("consumption")||t.includes("infrastructure")||t.includes("pharma")||t.includes("healthcare")||t.includes("technology")||t.includes("fmcg")||t.includes("mnc")||t.includes("opportunities fund")||t.includes("midcap")||t.includes("smallcap")||t.includes("largecap")||t.includes("large & mid")?"Equity":t.includes("index")||t.includes("etf")||t.includes("nifty")||t.includes("sensex")?"Index":t.includes("fund of fund")||t.includes("fof")||t.includes("aggressive")||t.includes("conservative")?"Hybrid":"Other"}const kle={Equity:"#8b5cf6",Debt:"#0ea5e9",Cash:"#2dd4bf",Commodities:"#eab308","Real Estate":"#f97316",Other:"#94a3b8"},Mle={Giant:"#6366f1",Large:"#3b82f6",Mid:"#f59e0b",Small:"#ef4444",Micro:"#ec4899"},Dle={India:"#f97316",Global:"#06b6d4"},Ele={Equity:"bg-violet-500",Debt:"bg-sky-500",Cash:"bg-teal-400",Commodities:"bg-yellow-500","Real Estate":"bg-orange-500",Other:"bg-slate-400"},_le={Giant:"bg-indigo-500",Large:"bg-blue-500",Mid:"bg-amber-500",Small:"bg-rose-500",Micro:"bg-pink-500"},Ole={India:"bg-orange-500",Global:"bg-cyan-500"};function f1(e){if(!e)return null;if(e instanceof Date)return isNaN(e.getTime())?null:e;const t=String(e),r=t.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})/);if(r)return new Date(Number(r[3]),Number(r[2])-1,Number(r[1]));const n=new Date(t);return isNaN(n.getTime())?null:n}function $5(e){return e>=20?{color:"#c62828",fontWeight:700}:e>=10?{color:"#d84315",fontWeight:700}:e>=5?{color:"#e67e00",fontWeight:600}:e>=1?{color:"#b8860b",fontWeight:600}:{color:"var(--text-dim)",fontWeight:400}}function Tle(){const{selectedMember:e}=Fr(),{mfPortfolios:t,mfHoldings:r,mfTransactions:n,activeMembers:i,activeInvestmentAccounts:l,addMFPortfolio:c,updateMFPortfolio:u,deleteMFPortfolio:f,investMF:m,redeemMF:h,switchMF:x,updateHoldingAllocations:v,deleteMFTransaction:g,editMFTransaction:S,assetAllocations:y,updateAssetAllocation:w}=pt(),{showToast:C,showBlockUI:k,hideBlockUI:A}=li(),M=oi(),{mv:D}=_a(),[T,I]=j.useState(null),[O,z]=j.useState("all"),[F,B]=j.useState("holdings"),[E,J]=j.useState(!1),[X,re]=j.useState("all"),[L,U]=j.useState(null),[V,Ne]=j.useState(!1),[De,P]=j.useState(null),W=j.useMemo(()=>t?t.filter(G=>G.status!=="Inactive").map(G=>{let $=l.find(ze=>ze.accountId===G.investmentAccountId);!$&&G.investmentAccountId&&($=l.find(ze=>`${ze.accountName} - ${ze.platformBroker}`===G.investmentAccountId));const Z=$?.memberId||G.ownerId||"",we=Z?i.find(ze=>ze.memberId===Z):null;return{...G,investmentAccountId:$?.accountId||G.investmentAccountId,ownerId:Z,ownerName:we?.memberName||G.ownerName||"",platform:$?.platformBroker||G.investmentAccountName||"",clientId:$?.accountClientId||""}}):[],[t,l,i]),ne=j.useMemo(()=>W.length?e==="all"?W:W.filter(G=>G.ownerId===e):[],[W,e]),de=j.useMemo(()=>r?ne.map(G=>{const $=r.filter(we=>we.portfolioId===G.portfolioId),Z=(n||[]).filter(we=>we.portfolioId===G.portfolioId);return{...G,holdings:$,txns:Z,fundCount:$.length}}):[],[ne,r,n]),q=j.useMemo(()=>{const G=O==="all"?de:de.filter(gt=>gt.portfolioId===O),$=G.reduce((gt,Me)=>gt+Me.totalInvestment,0),Z=G.reduce((gt,Me)=>gt+Me.currentValue,0),we=G.reduce((gt,Me)=>gt+Me.unrealizedPL,0),ze=G.reduce((gt,Me)=>gt+Me.realizedPL,0),le=we+ze,lt=$>0?le/$*100:0,Ue=$>0?we/$*100:0,Be=$>0?ze/$*100:0,Fe=G.reduce((gt,Me)=>gt+Me.fundCount,0),At=(r?O==="all"?r.filter(gt=>G.some(Me=>Me.portfolioId===gt.portfolioId)):r.filter(gt=>gt.portfolioId===O):[]).reduce((gt,Me)=>gt+(Me.ongoingSIP||0),0);return{invested:$,current:Z,unrealizedPL:we,unrealizedPLPct:Ue,realizedPL:ze,realizedPLPct:Be,totalPL:le,totalPLPct:lt,funds:Fe,monthlySIP:At}},[de,O,r]),oe=j.useMemo(()=>r?O==="all"?r.filter(G=>ne.some($=>$.portfolioId===G.portfolioId)):r.filter(G=>G.portfolioId===O):[],[r,ne,O]),xe=j.useMemo(()=>n?(O==="all"?n.filter($=>ne.some(Z=>Z.portfolioId===$.portfolioId)):n.filter($=>$.portfolioId===O)).sort(($,Z)=>(f1(Z.date)||0)-(f1($.date)||0)):[],[n,ne,O]),he=j.useMemo(()=>{const G=new Set;return xe.forEach($=>{$.fundName&&G.add($.fundName)}),[...G].sort()},[xe]),ee=j.useMemo(()=>X==="all"?xe:xe.filter(G=>G.fundName===X),[xe,X]),ke=j.useMemo(()=>{const G={};return oe.forEach($=>{G[$.portfolioId]=(G[$.portfolioId]||0)+$.currentValue}),oe.map($=>{const Z=G[$.portfolioId]||0,we=Z>0?$.currentValue/Z*100:0,ze=$.investment>0?$.pl/$.investment*100:0,le=$.holdingId||`${$.portfolioId}::${$.schemeCode||$.fundCode}`;return{...$,currentAllocationPct:we,plPct:ze,_key:le}})},[oe]),He=j.useMemo(()=>{if(O!=="all")return null;const G=[],$={};return ke.forEach(Z=>{$[Z.portfolioId]||($[Z.portfolioId]={portfolioId:Z.portfolioId,holdings:[]},G.push($[Z.portfolioId])),$[Z.portfolioId].holdings.push(Z)}),G},[ke,O]),ge=j.useMemo(()=>{if(!r)return{};const G={};return de.forEach($=>{const Z=r.filter(Ue=>Ue.portfolioId===$.portfolioId&&Ue.units>0),we=Z.reduce((Ue,Be)=>Ue+Be.currentValue,0),ze=($.rebalanceThreshold||.05)*100;let le=0,lt=0;Z.forEach(Ue=>{Ue.athNav>0&&Ue.belowATHPct>=5&&le++;const Be=we>0?Ue.currentValue/we*100:0;Ue.targetAllocationPct>0&&Math.abs(Be-Ue.targetAllocationPct)>ze&&lt++}),G[$.portfolioId]={buyOpp:le,rebalance:lt}}),G},[de,r]);j.useMemo(()=>{if(O!=="all")return ge[O]||{buyOpp:0,rebalance:0};let G=0,$=0;return Object.values(ge).forEach(Z=>{G+=Z.buyOpp,$+=Z.rebalance}),{buyOpp:G,rebalance:$}},[O,ge]);const Le=j.useMemo(()=>{if(!oe.length)return null;const G={};if(y)for(const Me of y)G[Me.fundCode]={asset:Me.assetAllocation,equity:Me.equityAllocation,geo:Me.geoAllocation};const $={Equity:0,Debt:0,Cash:0,Commodities:0,"Real Estate":0,Other:0},Z={Giant:0,Large:0,Mid:0,Small:0,Micro:0},we={India:0,Global:0};let ze=0,le=!1,lt=0;for(const Me of oe){if(Me.units<=0)continue;ze+=Me.currentValue;const We=G[Me.fundCode||Me.schemeCode];if(We?.asset){le=!0,lt++;for(const[Pe,ot]of Object.entries(We.asset)){const yt=Me.currentValue*(ot/100);Pe in $?$[Pe]+=yt:Pe==="Gold"?$.Commodities+=yt:$.Other+=yt}if(We.equity){const Pe=Me.currentValue*((We.asset.Equity||0)/100);for(const[ot,yt]of Object.entries(We.equity)){const ae=Pe*(yt/100);ot in Z?Z[ot]+=ae:ot==="Large Cap"?Z.Large+=ae:ot==="Mid Cap"?Z.Mid+=ae:Z.Small+=ae}}if(We.geo){const Pe=Me.currentValue*((We.asset.Equity||0)/100);for(const[ot,yt]of Object.entries(We.geo)){const ae=Pe*(yt/100);ot in we?we[ot]+=ae:we.Global+=ae}}}else{let Pe=Me.category;(!Pe||Pe==="Other")&&(Pe=Ale(Me.fundName)),Pe==="Equity"||Pe==="ELSS"||Pe==="Index"?$.Equity+=Me.currentValue:Pe==="Debt"||Pe==="Gilt"?$.Debt+=Me.currentValue:Pe==="Liquid"?$.Cash+=Me.currentValue:Pe==="Commodity"?$.Commodities+=Me.currentValue:Pe==="Multi-Asset"?($.Equity+=Me.currentValue*.5,$.Debt+=Me.currentValue*.3,$.Commodities+=Me.currentValue*.2):Pe==="Hybrid"||Pe==="FoF"?($.Equity+=Me.currentValue*.65,$.Debt+=Me.currentValue*.35):$.Other+=Me.currentValue}}if(ze===0)return null;const Be=((Me,We)=>Object.entries(Me).filter(([,Pe])=>Pe>0).sort(([,Pe],[,ot])=>ot-Pe).map(([Pe,ot])=>({name:Pe,value:ot,pct:ot/ze*100,fill:We[Pe]||"#94a3b8"})))($,kle),Fe=Object.values(Z).reduce((Me,We)=>Me+We,0),et=Fe>0?Object.entries(Z).filter(([,Me])=>Me>0).sort(([,Me],[,We])=>We-Me).map(([Me,We])=>({name:Me,value:We,pct:We/Fe*100,fill:Mle[Me]||"#94a3b8"})):[],At=Object.values(we).reduce((Me,We)=>Me+We,0),gt=At>0?Object.entries(we).filter(([,Me])=>Me>0).sort(([,Me],[,We])=>We-Me).map(([Me,We])=>({name:Me,value:We,pct:We/At*100,fill:Dle[Me]||"#94a3b8"})):[];return{assetList:Be,capList:et,geoList:gt,hasDetailedAlloc:le,configuredCount:lt,totalFunds:oe.filter(Me=>Me.units>0).length}},[oe,y]),Ae=j.useMemo(()=>{if(!oe.length)return[];const G={};return oe.forEach($=>{if(!$.fundCode&&!$.schemeCode)return;const Z=($.fundCode||$.schemeCode).toString();G[Z]||(G[Z]={fundCode:Z,fundName:$.fundName||""})}),Object.values(G).sort(($,Z)=>$.fundName.localeCompare(Z.fundName))},[oe]);if(t===null||r===null)return a.jsx(di,{title:"Loading mutual funds",cards:5});const Ee=de.find(G=>G.portfolioId===O),at=O==="all"?`All Portfolios (${ne.length})`:`${Ju(Ee?.portfolioName)}  ${D(Ee?.ownerName,"name")}`;async function Dt(G){k("Saving...");try{T?.editPortfolio?await u(T.editPortfolio.portfolioId,G):await c(G),C(T?.editPortfolio?"Portfolio updated":"Portfolio created"),I(null)}catch($){C($.message||"Failed to save portfolio","error")}finally{A()}}async function ar(){if(T?.editPortfolio&&await M("Deactivate this portfolio?",{title:"Deactivate Portfolio",confirmLabel:"Deactivate"})){k("Deactivating...");try{await f(T.editPortfolio.portfolioId),C("Portfolio deactivated"),z("all"),I(null)}catch(G){C(G.message||"Failed to deactivate portfolio","error")}finally{A()}}}async function wt(G){k("Recording investment...");try{await m(G,G.transactionType),C("Investment recorded"),I(null)}catch($){C($.message||"Failed to record investment","error")}finally{A()}}async function Rt(G){k("Recording redemption...");try{await h(G),C("Redemption recorded"),I(null)}catch($){C($.message||"Failed to record redemption","error")}finally{A()}}async function Yt(G){k("Recording switch...");try{await x(G),C("Switch recorded"),I(null)}catch($){C($.message||"Failed to record switch","error")}finally{A()}}async function lr(G){if(await M("Delete this transaction? This will recalculate your holdings.",{title:"Delete Transaction",confirmLabel:"Delete"})){k("Deleting...");try{await g(G),C("Transaction deleted"),U(null)}catch($){C($.message||"Failed to delete transaction","error")}finally{A()}}}async function Et(G){k("Updating...");try{await S(G),C("Transaction updated"),I(null)}catch($){C($.message||"Failed to update transaction","error")}finally{A()}}async function be(G){if(T?.allocations){k("Saving allocations...");try{await v(T.allocations,G),C("Allocations updated"),I(null)}catch($){C($.message||"Failed to update allocations","error")}finally{A()}}}async function Ke(G){k("Saving classification...");try{await w(G),C("Fund classified"),I(null)}catch($){C($.message||"Failed to save classification","error")}finally{A()}}return a.jsxs("div",{className:"space-y-4",children:[ne.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(up,{size:32,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No mutual fund portfolios yet"}),a.jsx("button",{onClick:()=>I("addPortfolio"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first portfolio"})]}):a.jsxs(a.Fragment,{children:[!De&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[a.jsxs("div",{className:"relative w-full sm:w-auto",children:[a.jsxs("button",{onClick:()=>J(!E),className:"flex items-center gap-2 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm font-semibold text-[var(--text-primary)] hover:border-[var(--border-light)] transition-colors w-full sm:min-w-[220px]",children:[a.jsx(up,{size:14,className:"text-violet-400 shrink-0"}),a.jsx("span",{className:"truncate",children:at}),a.jsx(Ul,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${E?"rotate-180":""}`})]}),E&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>J(!1)}),a.jsxs("div",{className:"absolute left-0 right-0 sm:right-auto top-full mt-1 z-40 bg-[var(--bg-dropdown)] border border-white/10 rounded-lg shadow-2xl sm:min-w-[300px] py-1 overflow-hidden",children:[a.jsxs("button",{onClick:()=>{z("all"),J(!1),B("holdings")},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${O==="all"?"bg-[var(--sidebar-active-bg)] text-[var(--text-primary)] font-semibold":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:["All Portfolios (",ne.length,")"]}),a.jsx("div",{className:"border-t border-[var(--border-light)]"}),de.map(G=>{const $=G.totalPL>=0,Z=ge[G.portfolioId]||{};return a.jsx("button",{onClick:()=>{z(G.portfolioId),J(!1),B("holdings")},className:`w-full text-left px-4 py-2.5 transition-colors ${O===G.portfolioId?"bg-[var(--sidebar-active-bg)]":"hover:bg-[var(--bg-hover)]"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("p",{className:`text-sm ${O===G.portfolioId?"font-semibold text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:Ju(G.portfolioName)}),Z.buyOpp>0&&a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 shrink-0",title:`${Z.buyOpp} buy opportunities`}),Z.rebalance>0&&a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-400 shrink-0",title:`${Z.rebalance} funds need rebalancing`})]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[D(G.ownerName,"name"),"  ",G.platform,"  ",G.fundCount," funds"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(G.currentValue)}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${$?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[$?"+":"",G.totalPLPct.toFixed(1),"%"]})]})]})},G.portfolioId)})]})]})]}),a.jsxs("div",{className:"flex items-center gap-1.5 overflow-x-auto no-scrollbar",children:[Ee&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>I({allocations:Ee.portfolioId}),className:"shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(jO,{size:12})," Allocations"]}),a.jsxs("button",{onClick:()=>I({editPortfolio:Ee}),className:"shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(ca,{size:12})," Edit"]})]}),a.jsxs("button",{onClick:()=>I("addPortfolio"),className:"shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Wr,{size:13})," New Portfolio"]})]})]}),Ee&&a.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-dim)] px-1 flex-wrap",children:[a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Platform:"})," ",Ee.platform]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Client ID:"})," ",D(Ee.clientId,"clientId")]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Funds:"})," ",Ee.fundCount]}),Ee.sipTarget>=100&&a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"SIP Target:"})," ",K(Ee.sipTarget),"/mo"]}),Ee.lumpsumTarget>=100&&a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Lumpsum Target:"})," ",K(Ee.lumpsumTarget)]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Rebalance Threshold:"})," ",(Ee.rebalanceThreshold*100).toFixed(0),"%"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[a.jsx(Wo,{label:"Invested",value:K(q.invested)}),a.jsx(Wo,{label:"Current Value",value:K(q.current),bold:!0}),a.jsx(Wo,{label:"Unrealized P&L",value:`${q.unrealizedPL>=0?"+":""}${K(q.unrealizedPL)}`,sub:`${q.unrealizedPLPct>=0?"+":""}${q.unrealizedPLPct.toFixed(1)}%`,positive:q.unrealizedPL>=0}),a.jsx(Wo,{label:"Realized P&L",value:`${q.realizedPL>=0?"+":""}${K(q.realizedPL)}`,sub:`${q.realizedPLPct>=0?"+":""}${q.realizedPLPct.toFixed(1)}%`,positive:q.realizedPL>=0}),a.jsx(Wo,{label:"Total P&L",value:`${q.totalPL>=0?"+":""}${K(q.totalPL)}`,sub:`${q.totalPLPct>=0?"+":""}${q.totalPLPct.toFixed(1)}%`,positive:q.totalPL>=0,bold:!0}),a.jsx(Wo,{label:"Monthly SIP",value:K(q.monthlySIP),sub:`${q.funds} funds`})]}),De?(()=>{const G=De,$=$5(G.belowATHPct),Z=G.pl>=0,we=de.find(le=>le.portfolioId===G.portfolioId),ze=xe.filter(le=>le.fundCode===G.schemeCode&&le.portfolioId===G.portfolioId);return a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-2.5",children:[a.jsx("button",{onClick:()=>P(null),className:"p-1 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors mt-0.5 shrink-0",children:a.jsx(UF,{size:16})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] leading-tight",children:Re(G.fundName).main}),Re(G.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5",children:Re(G.fundName).plan})]}),we&&a.jsxs("div",{className:"text-right shrink-0 mt-0.5",children:[a.jsx("p",{className:"text-[10px] font-semibold text-[var(--text-secondary)]",children:D(we.ownerName,"name")}),a.jsxs("p",{className:"text-[10px] text-violet-400 bg-violet-500/10 px-2 py-0.5 rounded mt-0.5 inline-block",children:[Ju(we.portfolioName),"  ",we.platform]})]})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-2.5 flex items-baseline justify-between",children:[a.jsx("p",{className:"text-lg font-bold text-[var(--text-primary)] tabular-nums",children:K(G.currentValue)}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Z?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Z?"+":"",K(G.pl)," (",Z?"+":"",G.plPct.toFixed(1),"%)"]})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] divide-y divide-[var(--border-light)]",children:[a.jsx(Ko,{label:"Invested",value:K(G.investment)}),a.jsx(Ko,{label:"Units",value:G.units.toFixed(3)}),a.jsx(Ko,{label:"NAV (Current / Avg)",value:`${G.currentNav.toFixed(2)} / ${G.avgNav.toFixed(2)}`}),a.jsx(Ko,{label:"Allocation (Current / Target)",value:`${G.currentAllocationPct.toFixed(1)}% / ${G.targetAllocationPct.toFixed(1)}%`}),G.athNav>0&&a.jsx(Ko,{label:"ATH",value:G.belowATHPct>0?`${G.belowATHPct.toFixed(1)}% (${G.athNav.toFixed(0)})`:"At All-Time High",valueStyle:G.belowATHPct>0?$:{color:"#34d399"}}),G.ongoingSIP>0&&a.jsx(Ko,{label:"Monthly SIP",value:K(G.ongoingSIP),valueClass:"text-blue-400"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>I({invest:{portfolioId:G.portfolioId,fundCode:G.schemeCode,fundName:G.fundName}}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-emerald-400 bg-[var(--bg-card)] border border-[var(--border)] hover:bg-emerald-500/10 rounded-lg transition-colors",children:[a.jsx(Wr,{size:14})," Invest"]}),a.jsxs("button",{onClick:()=>I({redeem:{portfolioId:G.portfolioId,fundCode:G.schemeCode}}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-rose-400 bg-[var(--bg-card)] border border-[var(--border)] hover:bg-rose-500/10 rounded-lg transition-colors",children:[a.jsx(UC,{size:14})," Redeem"]}),a.jsxs("button",{onClick:()=>I({switchFunds:G.portfolioId}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-amber-400 bg-[var(--bg-card)] border border-[var(--border)] hover:bg-amber-500/10 rounded-lg transition-colors",children:[a.jsx(e0,{size:14})," Switch"]})]}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-dim)] px-1 mb-2",children:["Transactions (",ze.length,")"]}),ze.length>0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"NAV"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Gain/Loss"}),a.jsx("th",{className:"w-8"})]})}),a.jsx("tbody",{children:ze.map((le,lt)=>{const Ue=le.type==="BUY",Be=!Ue&&le.gainLoss!=null&&le.gainLoss!==0,Fe=Be&&le.gainLoss>=0,et={INITIAL:{bg:"bg-purple-500/15",text:"text-purple-400"},SIP:{bg:"bg-blue-500/15",text:"text-blue-400"},LUMPSUM:{bg:"bg-emerald-500/15",text:"text-emerald-400"},WITHDRAWAL:{bg:"bg-rose-500/15",text:"text-[var(--accent-rose)]"},SWITCH:{bg:"bg-amber-500/15",text:"text-amber-400"}}[le.transactionType]||{bg:"bg-gray-500/15",text:"text-[var(--text-muted)]"};return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:le.date}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${Ue?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:le.type}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${et.bg} ${et.text}`,children:le.transactionType})]})}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:le.units.toFixed(2)}),a.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:["",le.price.toFixed(2)]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(le.totalAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:Be?a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${Fe?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Fe?"+":"",K(le.gainLoss)]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),a.jsx("td",{className:"py-2.5 px-1",children:a.jsx(Xm,{txn:le,isOpen:L===le.transactionId,onToggle:()=>U(L===le.transactionId?null:le.transactionId),onEdit:()=>{U(null),I({editTxn:le})},onDelete:()=>{U(null),lr(le.transactionId)}})})]},le.transactionId||`fd-txn-${lt}`)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:ze.map((le,lt)=>{const Ue=le.type==="BUY",Be=!Ue&&le.gainLoss!=null&&le.gainLoss!==0,Fe=Be&&le.gainLoss>=0;return a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${Ue?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:le.type}),a.jsx("span",{className:"text-xs font-semibold text-[var(--text-dim)]",children:le.transactionType})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:le.date}),a.jsx(Xm,{txn:le,isOpen:L===le.transactionId,onToggle:()=>U(L===le.transactionId?null:le.transactionId),onEdit:()=>{U(null),I({editTxn:le})},onDelete:()=>{U(null),lr(le.transactionId)}})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsxs("p",{className:"text-[var(--text-dim)]",children:[le.units.toFixed(2)," units @ ",le.price.toFixed(2)]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(le.totalAmount)}),Be&&a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Fe?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["G/L: ",Fe?"+":"",K(le.gainLoss)]})]})]}),le.notes&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:le.notes})]},le.transactionId||`fd-txn-m-${lt}`)})})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-8 flex flex-col items-center gap-2",children:[a.jsx(ld,{size:24,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"No transactions yet"})]})]})]})})():a.jsxs(a.Fragment,{children:[Le&&Le.assetList.length>0&&a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsxs("button",{onClick:()=>Ne(G=>!G),className:"w-full flex items-center justify-between px-4 py-2.5 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("span",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Portfolio Breakdown"}),a.jsx(Ul,{size:14,className:`text-[var(--text-dim)] transition-transform duration-200 ${V?"rotate-180":""}`})]}),V&&a.jsxs("div",{className:"px-4 pb-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(ey,{title:"Asset Class",data:Le.assetList,bgMap:Ele}),Le.capList.length>0?a.jsx(ey,{title:"Market Cap",data:Le.capList,bgMap:_le}):a.jsx("div",{className:"flex items-center justify-center rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)] p-4",children:a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)] text-center",children:["Classify funds for",a.jsx("br",{}),"market cap breakdown"]})}),Le.geoList?.length>0?a.jsx(ey,{title:"Geography",data:Le.geoList,bgMap:Ole}):a.jsx("div",{className:"flex items-center justify-center rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)] p-4",children:a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)] text-center",children:["Classify funds for",a.jsx("br",{}),"geography breakdown"]})})]}),!Le.hasDetailedAlloc&&a.jsx("p",{className:"text-[9px] text-[var(--text-dim)]/50 mt-2 text-center",children:"Based on fund category. Go to Fund Breakdown tab to add detailed data from Morningstar."}),Le.hasDetailedAlloc&&Le.configuredCount<Le.totalFunds&&a.jsxs("p",{className:"text-[9px] text-amber-400/70 mt-2 text-center",children:[Le.totalFunds-Le.configuredCount," of ",Le.totalFunds," funds not yet classified"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto no-scrollbar",children:[a.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5 shrink-0",children:[a.jsxs("button",{onClick:()=>B("holdings"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors whitespace-nowrap ${F==="holdings"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(xO,{size:12})," Holdings (",oe.length,")"]}),a.jsxs("button",{onClick:()=>B("transactions"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors whitespace-nowrap ${F==="transactions"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(ld,{size:12})," All Transactions (",xe.length,")"]}),a.jsxs("button",{onClick:()=>B("breakdown"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors whitespace-nowrap ${F==="breakdown"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(HC,{size:12})," Fund Breakdown (",Ae.length,")"]})]}),a.jsxs("div",{className:"flex items-center gap-1.5 ml-auto shrink-0",children:[a.jsxs("button",{onClick:()=>O!=="all"&&I({invest:O}),disabled:O==="all",className:`shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium rounded-lg border transition-colors ${O==="all"?"border-[var(--border)] text-[var(--text-dim)] cursor-not-allowed opacity-50 bg-[var(--bg-card)]":"text-emerald-400 hover:text-emerald-300 bg-[var(--bg-card)] border-[var(--border)] hover:bg-[var(--bg-hover)]"}`,children:[a.jsx(uc,{size:12})," Invest"]}),a.jsxs("button",{onClick:()=>O!=="all"&&oe.length>0&&I({redeem:O}),disabled:O==="all"||oe.length===0,className:`shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium rounded-lg border transition-colors ${O==="all"||oe.length===0?"border-[var(--border)] text-[var(--text-dim)] cursor-not-allowed opacity-50 bg-[var(--bg-card)]":"text-rose-400 hover:text-rose-300 bg-[var(--bg-card)] border-[var(--border)] hover:bg-[var(--bg-hover)]"}`,children:[a.jsx(uO,{size:12})," Redeem"]}),a.jsxs("button",{onClick:()=>O!=="all"&&oe.length>0&&I({switchFunds:O}),disabled:O==="all"||oe.length===0,className:`shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium rounded-lg border transition-colors ${O==="all"||oe.length===0?"border-[var(--border)] text-[var(--text-dim)] cursor-not-allowed opacity-50 bg-[var(--bg-card)]":"text-amber-400 hover:text-amber-300 bg-[var(--bg-card)] border-[var(--border)] hover:bg-[var(--bg-hover)]"}`,children:[a.jsx(e0,{size:12})," Switch"]})]})]}),F==="holdings"&&a.jsx(a.Fragment,{children:oe.length>0?a.jsx("div",{className:O==="all"?"space-y-4":"",children:(O==="all"?He:[{portfolioId:O,holdings:ke}]).map(G=>{const $=de.find(le=>le.portfolioId===G.portfolioId),Z=G.holdings,we=Z.reduce((le,lt)=>le+lt.pl,0),ze=we>=0;return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[O==="all"&&$&&a.jsxs("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:Ju($.portfolioName)}),a.jsxs("div",{className:"flex items-center gap-3 text-xs tabular-nums",children:[a.jsx("span",{className:"text-[var(--text-muted)]",children:K($.currentValue||0)}),a.jsxs("span",{className:`font-bold ${ze?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ze?"+":"",K(we)]})]})]}),a.jsxs("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5",children:[D($.ownerName,"name"),"  ",Z.filter(le=>le.units>0).length," funds"]})]}),a.jsx("div",{className:"hidden lg:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:`border-b border-[var(--border-light)] ${O!=="all"?"bg-[var(--bg-inset)]":""}`,children:[a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Fund Name"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),a.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"NAV"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Avg"})]}),a.jsxs("th",{className:"text-center py-2 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"ATH"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Below Peak"})]}),a.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"Allocation %"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Target"})]}),a.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"Amount"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Invested"})]}),a.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"P&L"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"on Holdings"})]}),a.jsx("th",{className:"py-2 px-2 w-8"})]})}),a.jsx("tbody",{children:Z.map(le=>{const lt=$5(le.belowATHPct),Ue=le.units===0,Be=de.find(We=>We.portfolioId===le.portfolioId),Fe=Be?.currentValue||0,et=le.pl,At=et>=0,gt=Ue&&le.targetAllocationPct>0&&le.targetAllocationPct<100&&Fe>0?le.targetAllocationPct/(100-le.targetAllocationPct)*Fe:0,Me=Ue&&le.targetAllocationPct>0&&Be?.sipTarget>=100?le.targetAllocationPct/100*Be.sipTarget:0;return a.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 transition-colors ${Ue?"opacity-60":"hover:bg-[var(--bg-hover)]"}`,children:[a.jsx("td",{className:"py-3.5 px-3 max-w-[240px]",children:a.jsxs("div",{children:[a.jsxs("button",{onClick:We=>{We.stopPropagation(),Ue||P(le)},className:`text-xs leading-tight text-left ${Ue?"text-[var(--text-secondary)] cursor-default":"text-[var(--text-secondary)] hover:text-violet-400 transition-colors cursor-pointer"}`,children:[Re(le.fundName).main,Ue&&a.jsx("span",{className:"ml-1.5 text-xs font-semibold text-violet-400 bg-violet-500/15 px-1.5 py-0.5 rounded",children:"Planned"}),Re(le.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] font-normal mt-0.5",children:Re(le.fundName).plan})]}),Ue&&(gt>0||Me>0)&&a.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[gt>0&&a.jsxs("span",{className:"text-xs text-emerald-400 font-semibold",children:["Buy ",K(gt)]}),Me>0&&a.jsxs("span",{className:"text-xs text-blue-400 font-semibold",children:["SIP ",K(Me),"/mo"]})]})]})}),a.jsx("td",{className:"py-3.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:Ue?"":le.units.toFixed(2)}),a.jsx("td",{className:"py-3.5 px-3 text-right",children:Ue?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:["",le.currentNav.toFixed(2)]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums mt-0.5",children:["",le.avgNav.toFixed(2)]})]})}),a.jsx("td",{className:"py-3.5 px-2 text-center",children:Ue?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):le.athNav>0&&le.belowATHPct>0?a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-bold tabular-nums",style:lt,children:["",le.belowATHPct.toFixed(1),"%"]}),a.jsxs("p",{className:"text-[11px] text-[var(--text-muted)] tabular-nums mt-0.5",children:["",le.athNav.toFixed(0)]})]}):le.athNav>0?a.jsx("span",{className:"text-[10px] text-emerald-400/70 font-semibold",children:"AT HIGH"}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),a.jsx("td",{className:"py-3.5 px-3 text-right",children:Ue?a.jsxs("p",{className:"text-xs font-semibold text-violet-400 tabular-nums",children:[le.targetAllocationPct.toFixed(1),"%"]}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:[le.currentAllocationPct.toFixed(1),"%"]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums mt-0.5",children:[le.targetAllocationPct.toFixed(1),"%"]})]})}),a.jsx("td",{className:"py-3.5 px-3 text-right",children:Ue?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(le.currentValue)}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums mt-0.5",children:K(le.investment)})]})}),a.jsx("td",{className:"py-3.5 px-3 text-right",children:Ue?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${At?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[At?"+":"",K(et)]}),a.jsxs("p",{className:`text-xs font-bold tabular-nums mt-0.5 ${At?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[At?"+":"",le.plPct.toFixed(1),"%"]})]})}),a.jsx("td",{className:"py-3.5 px-2 text-center",children:a.jsxs("div",{className:"flex items-center gap-0.5 justify-center",children:[a.jsx("button",{onClick:We=>{We.stopPropagation(),I({invest:{portfolioId:le.portfolioId,fundCode:le.schemeCode,fundName:le.fundName}})},className:"w-6 h-6 flex items-center justify-center rounded-full bg-emerald-500/15 text-emerald-400 hover:bg-emerald-500/25 transition-colors",title:"Buy / Invest",children:a.jsx(Wr,{size:14,strokeWidth:2.5})}),!Ue&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:We=>{We.stopPropagation(),I({redeem:{portfolioId:le.portfolioId,fundCode:le.schemeCode}})},className:"w-6 h-6 flex items-center justify-center rounded-full bg-rose-500/15 text-rose-400 hover:bg-rose-500/25 transition-colors",title:"Sell / Redeem",children:a.jsx(UC,{size:14,strokeWidth:2.5})}),a.jsx("button",{onClick:We=>{We.stopPropagation(),I({switchFunds:le.portfolioId})},className:"w-6 h-6 flex items-center justify-center rounded-full bg-amber-500/15 text-amber-400 hover:bg-amber-500/25 transition-colors",title:"Switch Fund",children:a.jsx(e0,{size:14,strokeWidth:2.5})})]})]})})]},le._key)})})]})}),a.jsx("div",{className:"lg:hidden space-y-2 p-3",children:Z.map(le=>{const lt=le.units===0,Ue=le.pl>=0,Fe=de.find(At=>At.portfolioId===le.portfolioId)?.currentValue||0,et=lt&&le.targetAllocationPct>0&&le.targetAllocationPct<100&&Fe>0?le.targetAllocationPct/(100-le.targetAllocationPct)*Fe:0;return lt?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3 opacity-60",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-[11px] text-[var(--text-primary)] leading-tight",children:Re(le.fundName).main}),Re(le.fundName).plan&&a.jsx("p",{className:"text-[9px] text-[var(--text-dim)]",children:Re(le.fundName).plan})]}),a.jsx("span",{className:"text-[10px] font-semibold text-violet-400 bg-violet-500/15 px-1.5 py-0.5 rounded shrink-0",children:"Planned"})]}),a.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[a.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:["Target ",le.targetAllocationPct.toFixed(1),"%"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[et>0&&a.jsx("span",{className:"text-xs text-emerald-400 font-semibold",children:K(et)}),a.jsxs("button",{onClick:()=>I({invest:{portfolioId:le.portfolioId,fundCode:le.schemeCode,fundName:le.fundName}}),className:"flex items-center gap-1 text-[10px] font-semibold text-emerald-400 px-2 py-0.5 rounded bg-emerald-500/10",children:[a.jsx(Wr,{size:10,strokeWidth:2.5})," Buy"]})]})]})]},le._key):a.jsxs("button",{onClick:()=>P(le),className:"w-full bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3 text-left hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-[11px] font-medium text-[var(--text-primary)] leading-tight",children:Re(le.fundName).main}),Re(le.fundName).plan&&a.jsx("p",{className:"text-[9px] text-[var(--text-dim)]",children:Re(le.fundName).plan})]}),a.jsxs("div",{className:"text-right shrink-0",children:[a.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums",children:K(le.currentValue)}),a.jsxs("p",{className:`text-[11px] font-semibold tabular-nums ${Ue?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Ue?"+":"",K(le.pl)," (",Ue?"+":"",le.plPct.toFixed(1),"%)"]})]})]}),a.jsxs("div",{className:"flex items-center justify-between mt-1.5 text-[11px] tabular-nums",children:[a.jsxs("span",{className:"text-[var(--text-dim)]",children:["Invested ",K(le.investment)]}),a.jsx(ya,{size:12,className:"text-[var(--text-dim)]"})]})]},le._key)})})]},G.portfolioId)})}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(up,{size:28,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No holdings",Ee?" in this portfolio":""]}),a.jsx("button",{onClick:()=>I({invest:O!=="all"?O:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Add your first fund"})]})}),F==="transactions"&&a.jsxs(a.Fragment,{children:[he.length>1&&a.jsxs("div",{className:"flex items-center gap-2 px-1",children:[a.jsx(pO,{size:12,className:"text-[var(--text-dim)]"}),a.jsxs("select",{value:X,onChange:G=>re(G.target.value),className:"text-xs bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg px-3 py-1.5 max-w-[350px] truncate",children:[a.jsxs("option",{value:"all",children:["All Funds (",xe.length,")"]}),he.map(G=>a.jsxs("option",{value:G,children:[G," (",xe.filter($=>$.fundName===G).length,")"]},G))]}),X!=="all"&&a.jsx("button",{onClick:()=>re("all"),className:"text-xs text-[var(--text-dim)] hover:text-[var(--text-muted)] underline",children:"Clear"})]}),ee.length>0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Fund"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"NAV"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Gain/Loss"}),a.jsx("th",{className:"w-8"})]})}),a.jsx("tbody",{children:ee.map((G,$)=>{const Z=G.type==="BUY",we=!Z&&G.gainLoss!=null&&G.gainLoss!==0,ze=we&&G.gainLoss>=0,le=O==="all"?de.find(Ue=>Ue.portfolioId===G.portfolioId):null,lt={INITIAL:{bg:"bg-purple-500/15",text:"text-purple-400"},SIP:{bg:"bg-blue-500/15",text:"text-blue-400"},LUMPSUM:{bg:"bg-emerald-500/15",text:"text-emerald-400"},WITHDRAWAL:{bg:"bg-rose-500/15",text:"text-[var(--accent-rose)]"},SWITCH:{bg:"bg-amber-500/15",text:"text-amber-400"}}[G.transactionType]||{bg:"bg-gray-500/15",text:"text-[var(--text-muted)]"};return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:G.date}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${Z?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:G.type}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${lt.bg} ${lt.text}`,children:G.transactionType})]})}),a.jsxs("td",{className:"py-2.5 px-3",children:[a.jsxs("div",{className:"max-w-[200px]",children:[a.jsx("p",{className:"text-xs text-[var(--text-primary)] truncate",children:Re(G.fundName).main}),Re(G.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Re(G.fundName).plan})]}),le&&a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:Ju(le.portfolioName)})]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:G.units.toFixed(2)}),a.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:["",G.price.toFixed(2)]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(G.totalAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:we?a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${ze?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ze?"+":"",K(G.gainLoss)]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),a.jsx("td",{className:"py-2.5 px-1",children:a.jsx(Xm,{txn:G,isOpen:L===G.transactionId,onToggle:()=>U(L===G.transactionId?null:G.transactionId),onEdit:()=>{U(null),I({editTxn:G})},onDelete:()=>{U(null),lr(G.transactionId)}})})]},G.transactionId||`txn-${$}`)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:ee.map((G,$)=>{const Z=G.type==="BUY",we=!Z&&G.gainLoss!=null&&G.gainLoss!==0,ze=we&&G.gainLoss>=0;return a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${Z?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:G.type}),a.jsx("span",{className:"text-xs font-semibold text-[var(--text-dim)]",children:G.transactionType})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:G.date}),a.jsx(Xm,{txn:G,isOpen:L===G.transactionId,onToggle:()=>U(L===G.transactionId?null:G.transactionId),onEdit:()=>{U(null),I({editTxn:G})},onDelete:()=>{U(null),lr(G.transactionId)}})]})]}),a.jsxs("div",{className:"mb-1",children:[a.jsx("p",{className:"text-[11px] text-[var(--text-primary)] truncate",children:Re(G.fundName).main}),Re(G.fundName).plan&&a.jsx("p",{className:"text-[9px] text-[var(--text-dim)]",children:Re(G.fundName).plan})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsxs("p",{className:"text-[var(--text-dim)]",children:[G.units.toFixed(2)," units @ ",G.price.toFixed(2)]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(G.totalAmount)}),we&&a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${ze?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["G/L: ",ze?"+":"",K(G.gainLoss)]})]})]}),G.notes&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:G.notes})]},G.transactionId||`txn-m-${$}`)})})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(ld,{size:28,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:X!=="all"?"No transactions for this fund":"No transactions yet"}),X!=="all"?a.jsx("button",{onClick:()=>re("all"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Show all transactions"}):a.jsx("button",{onClick:()=>I({invest:O!=="all"?O:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Make your first investment"})]})]}),F==="breakdown"&&a.jsx(a.Fragment,{children:Ae.length>0?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Copy allocation data from ",a.jsx("span",{className:"font-semibold text-[var(--text-muted)]",children:"morningstar.in"}),"  Fund  Portfolio tab"]}),Ae.map(G=>{const $=y?.find(Z=>Z.fundCode===G.fundCode);return a.jsx(Lle,{fund:G,existing:$,onConfigure:()=>I({classifyFund:{fund:G,existing:$}})},G.fundCode)})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(HC,{size:28,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No funds to configure"})]})})]})]}),a.jsx(fr,{open:T==="addPortfolio"||!!T?.editPortfolio,onClose:()=>I(null),title:T?.editPortfolio?"Edit Portfolio":"New MF Portfolio",children:a.jsx(Ose,{initial:T?.editPortfolio||void 0,onSave:Dt,onDelete:T?.editPortfolio?ar:void 0,onCancel:()=>I(null)})}),a.jsx(fr,{open:!!T?.invest,onClose:()=>I(null),title:"Invest in Mutual Fund",wide:!0,children:a.jsx(jle,{portfolioId:typeof T?.invest=="object"?T.invest.portfolioId:typeof T?.invest=="string"?T.invest:void 0,fundCode:typeof T?.invest=="object"?T.invest.fundCode:void 0,fundName:typeof T?.invest=="object"?T.invest.fundName:void 0,onSave:wt,onCancel:()=>I(null)},T?.invest?.fundCode||T?.invest?.portfolioId||T?.invest)}),a.jsx(fr,{open:!!T?.redeem,onClose:()=>I(null),title:"Redeem Mutual Fund",wide:!0,children:a.jsx(wle,{portfolioId:typeof T?.redeem=="object"?T.redeem.portfolioId:typeof T?.redeem=="string"?T.redeem:void 0,fundCode:typeof T?.redeem=="object"?T.redeem.fundCode:void 0,onSave:Rt,onCancel:()=>I(null)},T?.redeem?.fundCode||T?.redeem?.portfolioId||T?.redeem)}),a.jsx(fr,{open:!!T?.switchFunds,onClose:()=>I(null),title:"Switch Funds",wide:!0,children:a.jsx(Nle,{portfolioId:typeof T?.switchFunds=="string"?T.switchFunds:void 0,onSave:Yt,onCancel:()=>I(null)})}),a.jsx(fr,{open:!!T?.allocations,onClose:()=>I(null),title:"Manage Portfolio Allocation",wide:!0,children:T?.allocations&&a.jsx(Sle,{portfolioId:T.allocations,onSave:be,onCancel:()=>I(null)})}),a.jsx(fr,{open:T==="rebalance",onClose:()=>I(null),title:"Rebalance Alerts",wide:!0,children:T==="rebalance"&&a.jsx(MI,{})}),a.jsx(fr,{open:T==="buyOpp",onClose:()=>I(null),title:"Buy Opportunities",wide:!0,children:T==="buyOpp"&&a.jsx(q4,{})}),a.jsx(fr,{open:!!T?.editTxn,onClose:()=>I(null),title:"Edit Transaction",children:T?.editTxn&&a.jsx(Ple,{txn:T.editTxn,onSave:Et,onCancel:()=>I(null)})}),a.jsx(fr,{open:!!T?.classifyFund,onClose:()=>I(null),title:"Classify Fund",children:T?.classifyFund&&a.jsx(Cle,{fund:T.classifyFund.fund,initial:T.classifyFund.existing,onSave:Ke,onCancel:()=>I(null)})})]})}function Wo({label:e,value:t,sub:r,positive:n,bold:i}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:`text-sm tabular-nums ${i?"font-bold":"font-semibold"} ${n===void 0?"text-[var(--text-primary)]":n?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:t}),r&&a.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${n?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}function Ko({label:e,value:t,valueStyle:r,valueClass:n}){return a.jsxs("div",{className:"flex items-center justify-between px-3.5 py-2",children:[a.jsx("p",{className:"text-[11px] text-[var(--text-dim)]",children:e}),a.jsx("p",{className:`text-xs font-semibold tabular-nums ${n||"text-[var(--text-primary)]"}`,style:r,children:t})]})}function Xm({txn:e,isOpen:t,onToggle:r,onEdit:n,onDelete:i}){const l=j.useRef(null),[c,u]=j.useState({top:0,right:0});if(!e.transactionId)return null;function f(m){if(m.stopPropagation(),!t&&l.current){const h=l.current.getBoundingClientRect();u({top:h.bottom+4,right:window.innerWidth-h.right})}r()}return a.jsxs(a.Fragment,{children:[a.jsx("button",{ref:l,onClick:f,className:"p-1 rounded-md text-[var(--text-dim)] hover:text-[var(--text-muted)] hover:bg-[var(--bg-hover)] transition-colors",title:"Actions",children:a.jsx(mO,{size:14})}),t&&Dc.createPortal(a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{position:"fixed",inset:0,zIndex:9998},onClick:m=>{m.stopPropagation(),r()}}),a.jsxs("div",{style:{position:"fixed",top:c.top,right:c.right,zIndex:9999},className:"bg-[var(--bg-dropdown)] border border-white/10 rounded-lg shadow-2xl py-1 min-w-[120px] animate-fade-in",children:[a.jsxs("button",{onClick:m=>{m.stopPropagation(),n()},className:"w-full text-left px-3 py-2 text-xs text-[var(--text-secondary)] hover:bg-[var(--bg-hover)] hover:text-[var(--text-primary)] flex items-center gap-2 transition-colors",children:[a.jsx(ca,{size:12})," Edit"]}),a.jsxs("button",{onClick:m=>{m.stopPropagation(),i()},className:"w-full text-left px-3 py-2 text-xs text-[var(--accent-rose)] hover:bg-rose-500/10 flex items-center gap-2 transition-colors",children:[a.jsx(cc,{size:12})," Delete"]})]})]}),document.body)]})}function Ple({txn:e,onSave:t,onCancel:r}){const[n,i]=j.useState(()=>{const y=f1(e.date);return y?y.toISOString().split("T")[0]:""}),[l,c]=j.useState(String(e.units||"")),[u,f]=j.useState(String(e.price||"")),[m,h]=j.useState(e.notes||""),[x,v]=j.useState(!1),g=(Number(l)||0)*(Number(u)||0);async function S(){if(!(!l||Number(l)<=0)&&!(!u||Number(u)<=0)){v(!0);try{await t({transactionId:e.transactionId,date:n,units:l,price:u,notes:m})}finally{v(!1)}}}return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:Re(e.fundName).main}),Re(e.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Re(e.fundName).plan}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[e.type,"  ",e.transactionType,"  ",e.transactionId]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Date"}),a.jsx(Ca,{value:n,onChange:i})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Units"}),a.jsx("input",{type:"number",value:l,onChange:y=>c(y.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"NAV (price)"}),a.jsx("input",{type:"number",value:u,onChange:y=>f(y.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]})]}),g>0&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:K(g)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Notes"}),a.jsx("input",{type:"text",value:m,onChange:y=>h(y.target.value),placeholder:"Optional notes...",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-[var(--border-light)]",children:[a.jsx("button",{onClick:r,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:"Cancel"}),a.jsx("button",{onClick:S,disabled:x||!l||Number(l)<=0||!u||Number(u)<=0,className:"px-4 py-2 text-xs font-bold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Saving...":"Update Transaction"})]})]})}const q5=[{key:"Equity",bg:"bg-violet-500"},{key:"Debt",bg:"bg-sky-500"},{key:"Cash",bg:"bg-teal-400"},{key:"Commodities",bg:"bg-yellow-500"},{key:"Real Estate",bg:"bg-orange-500"},{key:"Other",bg:"bg-slate-400"}],Ile={Giant:"G",Large:"L",Mid:"M",Small:"S",Micro:"Mi"},Rle={India:"IN",Global:"GL"};function Lle({fund:e,existing:t,onConfigure:r}){const n=t?.assetAllocation&&Object.keys(t.assetAllocation).length>0,i=t?.equityAllocation&&Object.keys(t.equityAllocation).length>0,l=t?.geoAllocation&&Object.keys(t.geoAllocation).length>0;return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate",children:Re(e.fundName).main}),Re(e.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Re(e.fundName).plan})]}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] tabular-nums mt-0.5",children:e.fundCode})]}),a.jsx("button",{onClick:r,className:"p-1.5 rounded-lg text-[var(--text-dim)] hover:text-violet-400 hover:bg-violet-500/10 transition-colors shrink-0 ml-3",title:"Classify fund",children:a.jsx(jO,{size:14})})]}),n?a.jsxs("div",{className:"px-4 pb-3",children:[a.jsx("div",{className:"h-2 rounded-full overflow-hidden bg-[var(--bg-inset)] flex mb-1.5",children:q5.map(({key:c,bg:u})=>{const f=t.assetAllocation[c]||0;return f>0?a.jsx("div",{className:`h-full ${u}`,style:{width:`${f}%`}},c):null})}),a.jsxs("div",{className:"flex flex-wrap gap-x-3 gap-y-0.5",children:[q5.map(({key:c,bg:u})=>{const f=t.assetAllocation[c]||0;return f>0?a.jsxs("span",{className:"flex items-center gap-1 text-[11px] text-[var(--text-muted)] tabular-nums",children:[a.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${u}`}),f,"% ",c]},c):null}),i&&a.jsxs("span",{className:"text-[11px] text-[var(--text-dim)] tabular-nums ml-1",children:["| ",Object.entries(Ile).map(([c,u])=>{const f=t.equityAllocation[c]||0;return f>0?`${u}${f}`:""}).filter(Boolean).join(" ")]}),l&&a.jsxs("span",{className:"text-[11px] text-[var(--text-dim)] tabular-nums ml-1",children:["| ",Object.entries(Rle).map(([c,u])=>{const f=t.geoAllocation[c]||0;return f>0?`${u}${f}`:""}).filter(Boolean).join(" ")]})]})]}):a.jsxs("div",{className:"px-4 pb-3",children:[a.jsx("div",{className:"h-2 rounded-full bg-[var(--bg-inset)] mb-1"}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] italic",children:"Not configured  click  to classify"})]})]})}function ey({title:e,data:t,bgMap:r}){return a.jsxs("div",{className:"rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)] p-3",children:[a.jsx("p",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider mb-2 text-center",children:e}),a.jsx("div",{className:"w-full h-[120px]",children:a.jsx(Y1,{width:"100%",height:"100%",children:a.jsxs(hw,{children:[a.jsx(Sx,{data:t,dataKey:"pct",nameKey:"name",cx:"50%",cy:"50%",innerRadius:30,outerRadius:48,paddingAngle:2,stroke:"none",children:t.map((n,i)=>a.jsx($c,{fill:n.fill},i))}),a.jsx(ow,{content:({payload:n})=>{if(!n?.length)return null;const i=n[0].payload;return a.jsxs("div",{className:"bg-[var(--bg-dropdown)] border border-white/10 rounded-lg px-2.5 py-1.5 shadow-xl",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:i.name}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:[i.pct.toFixed(1),"%"]})]})}})]})})}),a.jsx("div",{className:"flex flex-wrap justify-center gap-x-3 gap-y-0.5 mt-1",children:t.map(n=>a.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-[var(--text-muted)] tabular-nums",children:[a.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${r[n.name]||"bg-slate-500"}`}),n.name," ",n.pct.toFixed(0),"%"]},n.name))})]})}function Fle({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:i,activeInvestmentAccounts:l}=pt(),c=!!e,[u,f]=j.useState({portfolioName:e?.portfolioName||"",ownerId:e?.ownerId||"",investmentAccountId:e?.investmentAccountId||""}),[m,h]=j.useState({}),[x,v]=j.useState(!1);function g(A,M){f(D=>({...D,[A]:M})),h(D=>({...D,[A]:void 0}))}function S(A){f(M=>({...M,ownerId:A,investmentAccountId:""})),h(M=>({...M,ownerId:void 0}))}const y=j.useMemo(()=>u.ownerId?l.filter(A=>A.memberId===u.ownerId&&(A.accountType==="Demat + Trading"||A.accountType==="Trading")).map(A=>({value:A.accountId,label:`${A.accountName} - ${A.platformBroker}`})):[],[l,u.ownerId]);function w(){const A={};return u.portfolioName.trim()||(A.portfolioName="Required"),u.ownerId||(A.ownerId="Required"),u.investmentAccountId||(A.investmentAccountId="Required"),h(A),Object.keys(A).length===0}async function C(){if(w()){v(!0);try{await t(u)}finally{v(!1)}}}const k=i.map(A=>({value:A.memberId,label:`${A.memberName} (${A.relationship})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(me,{label:"Portfolio Name",required:!0,error:m.portfolioName,children:a.jsx(Ie,{value:u.portfolioName,onChange:A=>g("portfolioName",A),placeholder:"e.g., Long-Term Growth"})}),a.jsx(me,{label:"Owner",required:!0,error:m.ownerId,children:a.jsx(Je,{value:u.ownerId,onChange:S,options:k,placeholder:"Select family member..."})}),a.jsx(me,{label:"Investment Account",required:!0,error:m.investmentAccountId,children:a.jsx(Je,{value:u.investmentAccountId,onChange:A=>g("investmentAccountId",A),options:y,placeholder:u.ownerId?y.length?"Select demat account...":"No demat accounts for this member":"Select owner first..."})}),c&&r&&a.jsx(ns,{onClick:r}),a.jsx(on,{onCancel:n,onSubmit:C,submitLabel:c?"Update":"Create Portfolio",loading:x})]})}let ha=null,ed=null;function zle(e){if(!e)return!1;const t=new Date(e),r=new Date;return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()&&t.getDate()===r.getDate()}function Ble(){return ha?Promise.resolve(ha):ed||(ed=tO("stocksList").then(e=>e&&Array.isArray(e.data)&&zle(e.updatedAt)?(ha=e.data,ha):iF().then(t=>(ha=Array.isArray(t)?t:[],rn("stocksList",ha),ha))).catch(()=>(ed=null,[])),ed)}function $le({value:e,onSelect:t,placeholder:r,disabled:n}){const[i,l]=j.useState(""),[c,u]=j.useState(ha||[]),[f,m]=j.useState(!ha),[h,x]=j.useState(!1),[v,g]=j.useState(!1),S=j.useRef(null);j.useEffect(()=>{if(ha){u(ha),m(!1);return}Ble().then(M=>{u(M),m(!1)})},[]),j.useEffect(()=>{function M(D){S.current&&!S.current.contains(D.target)&&x(!1)}return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[]);const y=j.useMemo(()=>c.length?new ao(c,{keys:[{name:"symbol",weight:2},{name:"companyName",weight:1}],threshold:.3,distance:80,minMatchCharLength:1,includeScore:!0,ignoreLocation:!1,findAllMatches:!0}):null,[c]),w=j.useMemo(()=>!y||i.length<1?[]:y.search(i).slice(0,50).map(M=>M.item),[y,i]);function C(M){l(M),x(M.length>=1)}function k(M){t({symbol:M.symbol,companyName:M.companyName,exchange:M.exchange,sector:M.sector}),l(""),x(!1),g(!0),sF(M.symbol).then(D=>{D?.price>0&&t({symbol:M.symbol,companyName:M.companyName,exchange:M.exchange,sector:M.sector,price:D.price})}).catch(()=>{}).finally(()=>g(!1))}function A(){t({symbol:"",companyName:""}),l("")}return e?.symbol?a.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg px-3 py-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:[a.jsx("span",{className:"font-bold",children:e.symbol}),"  ",e.companyName]}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.sector&&a.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:e.sector}),v&&a.jsx(cd,{size:10,className:"text-violet-400 animate-spin"}),!v&&e.price>0&&a.jsxs("span",{className:"text-[10px] font-semibold text-emerald-400 tabular-nums",children:["CMP: ",e.price.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),a.jsx("button",{type:"button",onClick:A,className:"shrink-0 p-1 rounded-md hover:bg-[var(--bg-hover)] text-[var(--text-dim)] hover:text-[var(--text-secondary)] transition-colors",children:a.jsx(ni,{size:14})})]}):a.jsxs("div",{ref:S,className:"relative",children:[a.jsxs("div",{className:"relative",children:[f?a.jsx(cd,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-400 animate-spin"}):a.jsx(k1,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)]"}),a.jsx("input",{type:"text",value:i,onChange:M=>C(M.target.value),onFocus:()=>i.length>=1&&x(!0),placeholder:f?"Loading stocks...":r||"Search stock symbol or name...",disabled:n||f,className:"w-full bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg pl-9 pr-3 py-2 text-sm text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-violet-500/50 disabled:opacity-50 transition-colors"})]}),h&&w.length>0&&a.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl max-h-[240px] overflow-y-auto",children:w.map(M=>a.jsxs("button",{type:"button",onClick:()=>k(M),className:"w-full text-left px-3 py-2.5 hover:bg-[var(--bg-hover)] transition-colors border-b border-[var(--border-light)] last:border-0",children:[a.jsxs("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:[a.jsx("span",{className:"font-bold",children:M.symbol}),"  ",M.companyName]}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[M.sector&&a.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:M.sector}),M.industry&&a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:[" ",M.industry]})]})]},M.symbol))}),h&&i.length>=1&&w.length===0&&!f&&a.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl p-4 text-center",children:a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:['No stocks found for "',i,'"']})})]})}function qle({portfolioId:e,onSave:t,onCancel:r}){const{stockPortfolios:n}=pt(),{selectedMember:i}=Fr(),l=j.useMemo(()=>{const k=n.filter(A=>A.status==="Active");return i==="all"?k:k.filter(A=>A.ownerId===i)},[n,i]),[c,u]=j.useState({portfolioId:e||"",symbol:"",companyName:"",exchange:"NSE",date:new Date().toISOString().split("T")[0],quantity:"",pricePerShare:"",brokerage:"0",notes:""}),[f,m]=j.useState({}),[h,x]=j.useState(!1);function v(k,A){u(M=>({...M,[k]:A})),m(M=>({...M,[k]:void 0}))}const g=j.useMemo(()=>{const k=Number(c.quantity)||0,A=Number(c.pricePerShare)||0;return k*A},[c.quantity,c.pricePerShare]),S=j.useMemo(()=>g+(Number(c.brokerage)||0),[g,c.brokerage]);function y(){const k={};return c.portfolioId||(k.portfolioId="Required"),c.symbol.trim()||(k.symbol="Required"),c.companyName.trim()||(k.companyName="Required"),c.date||(k.date="Required"),(!c.quantity||Number(c.quantity)<=0)&&(k.quantity="Must be > 0"),(!c.pricePerShare||Number(c.pricePerShare)<=0)&&(k.pricePerShare="Must be > 0"),m(k),Object.keys(k).length===0}async function w(){if(y()){x(!0);try{await t(c)}finally{x(!1)}}}const C=l.map(k=>{const A=k.portfolioName?.replace(/^PFL-/,"")||k.portfolioName,M=k.ownerName?`${A} (${k.ownerName})`:A;return{value:k.portfolioId,label:M}});return a.jsxs("div",{className:"space-y-4",children:[a.jsx(me,{label:"Portfolio",required:!0,error:f.portfolioId,children:a.jsx(Je,{value:c.portfolioId,onChange:k=>v("portfolioId",k),options:C,placeholder:"Select portfolio..."})}),a.jsx(me,{label:"Stock",required:!0,error:f.symbol,children:a.jsx($le,{value:c.symbol?{symbol:c.symbol,companyName:c.companyName,sector:c.sector,price:c.currentPrice}:null,onSelect:k=>{u(A=>({...A,symbol:k.symbol||"",companyName:k.companyName||"",sector:k.sector||"",currentPrice:k.price||A.currentPrice||0})),m(A=>({...A,symbol:void 0,companyName:void 0}))},placeholder:"Search by symbol or company name..."})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(me,{label:"Purchase Date",required:!0,error:f.date,children:a.jsx(Ca,{value:c.date,onChange:k=>v("date",k)})}),a.jsx(me,{label:"Quantity (Shares)",required:!0,error:f.quantity,children:a.jsx(Ie,{type:"number",value:c.quantity,onChange:k=>v("quantity",k),placeholder:"e.g., 100"})}),a.jsx(me,{label:"Price per Share ()",required:!0,error:f.pricePerShare,children:a.jsx(Ie,{type:"number",value:c.pricePerShare,onChange:k=>v("pricePerShare",k),placeholder:"e.g., 2500"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Brokerage ()",children:a.jsx(Ie,{type:"number",value:c.brokerage,onChange:k=>v("brokerage",k),placeholder:"0"})}),a.jsx("div",{className:"flex flex-col justify-end",children:a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:K(g)}),Number(c.brokerage)>0&&a.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:["Net: ",K(S)]})]})})]}),a.jsx(me,{label:"Notes",children:a.jsx(Ie,{value:c.notes,onChange:k=>v("notes",k),placeholder:"Optional notes..."})}),a.jsx(on,{onCancel:r,onSubmit:w,submitLabel:"Buy Stock",loading:h})]})}function Hle({portfolioId:e,onSave:t,onCancel:r}){const{stockPortfolios:n,stockHoldings:i}=pt(),{selectedMember:l}=Fr(),c=j.useMemo(()=>{const z=n.filter(F=>F.status==="Active");return l==="all"?z:z.filter(F=>F.ownerId===l)},[n,l]),[u,f]=j.useState({portfolioId:e||"",symbol:"",companyName:"",date:new Date().toISOString().split("T")[0],quantity:"",pricePerShare:"",brokerage:"0",notes:""}),[m,h]=j.useState({}),[x,v]=j.useState(!1);function g(z,F){f(B=>({...B,[z]:F})),h(B=>({...B,[z]:void 0}))}const S=j.useMemo(()=>u.portfolioId?i.filter(z=>z.portfolioId===u.portfolioId&&z.quantity>0):[],[i,u.portfolioId]),y=S.find(z=>z.symbol===u.symbol),w=y?.quantity||0,C=j.useMemo(()=>{const z=Number(u.quantity)||0,F=Number(u.pricePerShare)||0;return z*F},[u.quantity,u.pricePerShare]),k=j.useMemo(()=>C-(Number(u.brokerage)||0),[C,u.brokerage]);function A(z){const F=S.find(B=>B.symbol===z);f(B=>({...B,symbol:z,companyName:F?.companyName||""})),h(B=>({...B,symbol:void 0}))}function M(z){f(F=>({...F,portfolioId:z,symbol:"",companyName:"",quantity:""})),h(F=>({...F,portfolioId:void 0}))}function D(){const z={};return u.portfolioId||(z.portfolioId="Required"),u.symbol||(z.symbol="Required"),u.date||(z.date="Required"),(!u.quantity||Number(u.quantity)<=0)&&(z.quantity="Must be > 0"),Number(u.quantity)>w&&(z.quantity=`Max ${w} shares`),(!u.pricePerShare||Number(u.pricePerShare)<=0)&&(z.pricePerShare="Must be > 0"),h(z),Object.keys(z).length===0}async function T(){if(D()){v(!0);try{await t(u)}finally{v(!1)}}}const I=c.map(z=>{const F=z.portfolioName?.replace(/^PFL-/,"")||z.portfolioName,B=z.ownerName?`${F} (${z.ownerName})`:F;return{value:z.portfolioId,label:B}}),O=S.map(z=>({value:z.symbol,label:`${z.symbol}  ${z.quantity} shares`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(me,{label:"Portfolio",required:!0,error:m.portfolioId,children:a.jsx(Je,{value:u.portfolioId,onChange:M,options:I,placeholder:"Select portfolio..."})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Stock to Sell",required:!0,error:m.symbol,children:a.jsx(Je,{value:u.symbol,onChange:A,options:O,placeholder:u.portfolioId?S.length?"Select stock...":"No holdings in this portfolio":"Select portfolio first..."})}),y&&a.jsx("div",{className:"flex flex-col justify-end",children:a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:y.companyName}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:w})," shares @ ",K(y.avgBuyPrice)," avg"]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Sale Date",required:!0,error:m.date,children:a.jsx(Ca,{value:u.date,onChange:z=>g("date",z)})}),a.jsx(me,{label:"Quantity to Sell",required:!0,error:m.quantity,children:a.jsx(Ie,{type:"number",value:u.quantity,onChange:z=>g("quantity",z),placeholder:w?`Max: ${w}`:""})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Sale Price per Share ()",required:!0,error:m.pricePerShare,children:a.jsx(Ie,{type:"number",value:u.pricePerShare,onChange:z=>g("pricePerShare",z),placeholder:"e.g., 2750"})}),a.jsx(me,{label:"Brokerage ()",children:a.jsx(Ie,{type:"number",value:u.brokerage,onChange:z=>g("brokerage",z),placeholder:"0"})})]}),C>0&&a.jsx("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Net Sale Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:K(k)})]}),y&&a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. P&L"}),(()=>{const z=Number(u.quantity)*y.avgBuyPrice,F=k-z,B=F>=0;return a.jsxs("p",{className:`text-sm font-bold tabular-nums ${B?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[B?"+":"",K(F)]})})()]})]})}),a.jsx(me,{label:"Notes",children:a.jsx(Ie,{value:u.notes,onChange:z=>g("notes",z),placeholder:"Optional notes..."})}),a.jsx(on,{onCancel:r,onSubmit:T,submitLabel:"Sell Stock",loading:x})]})}function Ule(){const{selectedMember:e}=Fr(),{stockPortfolios:t,stockHoldings:r,stockTransactions:n,activeInvestmentAccounts:i,activeMembers:l,addStockPortfolio:c,updateStockPortfolio:u,deleteStockPortfolio:f,buyStock:m,sellStock:h,editStockTransaction:x,deleteStockTransaction:v}=pt(),{showToast:g,showBlockUI:S,hideBlockUI:y}=li(),w=oi(),{mv:C}=_a(),[k,A]=j.useState(null),[M,D]=j.useState("all"),[T,I]=j.useState("holdings"),[O,z]=j.useState(!1),[F,B]=j.useState(null),E=j.useMemo(()=>{if(!t)return[];const q=t.filter(oe=>oe.status!=="Inactive").map(oe=>{const xe=oe.ownerId?l.find(he=>he.memberId===oe.ownerId):null;return{...oe,ownerName:xe?.memberName||oe.ownerName||""}});return e==="all"?q:q.filter(oe=>oe.ownerId===e)},[t,e,l]),J=j.useMemo(()=>r?E.map(q=>{const oe=r.filter(Ee=>Ee.portfolioId===q.portfolioId),xe=(n||[]).filter(Ee=>Ee.portfolioId===q.portfolioId),he=oe.reduce((Ee,at)=>Ee+at.totalInvestment,0),ee=oe.reduce((Ee,at)=>Ee+at.currentValue,0),ke=ee-he,He=xe.filter(Ee=>Ee.type==="SELL"&&Ee.realizedPL!=null).reduce((Ee,at)=>Ee+at.realizedPL,0),ge=ke+He,Le=he>0?ge/he*100:0,Ae=i.find(Ee=>Ee.accountId===q.investmentAccountId);return{...q,holdings:oe,txns:xe,invested:he,current:ee,unrealizedPL:ke,realizedPL:He,totalPL:ge,totalPLPct:Le,stockCount:oe.length,platform:Ae?.platformBroker||q.investmentAccountName||"",clientId:Ae?.accountClientId||""}}):[],[E,r,n,i]),X=j.useMemo(()=>{const q=M==="all"?J:J.filter(Ae=>Ae.portfolioId===M),oe=q.reduce((Ae,Ee)=>Ae+Ee.invested,0),xe=q.reduce((Ae,Ee)=>Ae+Ee.current,0),he=q.reduce((Ae,Ee)=>Ae+Ee.unrealizedPL,0),ee=q.reduce((Ae,Ee)=>Ae+Ee.realizedPL,0),ke=he+ee,He=oe>0?ke/oe*100:0,ge=oe>0?he/oe*100:0,Le=q.reduce((Ae,Ee)=>Ae+Ee.stockCount,0);return{invested:oe,current:xe,unrealizedPL:he,unrealizedPLPct:ge,realizedPL:ee,totalPL:ke,totalPLPct:He,stocks:Le}},[J,M]),re=j.useMemo(()=>r?M==="all"?r.filter(q=>E.some(oe=>oe.portfolioId===q.portfolioId)):r.filter(q=>q.portfolioId===M):[],[r,E,M]),L=j.useMemo(()=>n?(M==="all"?n.filter(oe=>E.some(xe=>xe.portfolioId===oe.portfolioId)):n.filter(oe=>oe.portfolioId===M)).sort((oe,xe)=>new Date(xe.date)-new Date(oe.date)):[],[n,E,M]);if(t===null||r===null)return a.jsx(di,{title:"Loading stocks",cards:5});const U=J.find(q=>q.portfolioId===M),V=M==="all"?`All Portfolios (${E.length})`:U?.ownerName?`${U?.portfolioName}  ${C(U?.ownerName,"name")}`:U?.portfolioName;async function Ne(q){S("Saving...");try{k?.editPortfolio?await u(k.editPortfolio.portfolioId,q):await c(q),g(k?.editPortfolio?"Portfolio updated":"Portfolio created"),A(null)}catch(oe){g(oe.message||"Failed to save portfolio","error")}finally{y()}}async function De(){if(k?.editPortfolio&&await w("Deactivate this portfolio?",{title:"Deactivate Portfolio",confirmLabel:"Deactivate"})){S("Deactivating...");try{await f(k.editPortfolio.portfolioId),g("Portfolio deactivated"),D("all"),A(null)}catch(q){g(q.message||"Failed to deactivate portfolio","error")}finally{y()}}}async function P(q){S("Recording purchase...");try{await m(q),g("Stock purchase recorded"),A(null)}catch(oe){g(oe.message||"Failed to record purchase","error")}finally{y()}}async function W(q){S("Recording sale...");try{await h(q),g("Stock sale recorded"),A(null)}catch(oe){g(oe.message||"Failed to record sale","error")}finally{y()}}async function ne(q){if(await w("Delete this transaction? This will recalculate your holdings.",{title:"Delete Transaction",confirmLabel:"Delete"})){S("Deleting...");try{await v(q),g("Transaction deleted"),B(null)}catch(oe){g(oe.message||"Failed to delete transaction","error")}finally{y()}}}async function de(q){S("Updating...");try{await x(q),g("Transaction updated"),A(null)}catch(oe){g(oe.message||"Failed to update transaction","error")}finally{y()}}return a.jsxs("div",{className:"space-y-4",children:[E.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(rc,{size:32,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No stock portfolios yet"}),a.jsx("button",{onClick:()=>A("addPortfolio"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first portfolio"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>z(!O),className:"flex items-center gap-2 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm font-semibold text-[var(--text-primary)] hover:border-[var(--border-light)] transition-colors min-w-[220px]",children:[a.jsx(rc,{size:14,className:"text-violet-400 shrink-0"}),a.jsx("span",{className:"truncate",children:V}),a.jsx(Ul,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${O?"rotate-180":""}`})]}),O&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>z(!1)}),a.jsxs("div",{className:"absolute left-0 top-full mt-1 z-40 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl min-w-[280px] py-1 overflow-hidden",children:[a.jsxs("button",{onClick:()=>{D("all"),z(!1),I("holdings")},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${M==="all"?"bg-[var(--sidebar-active-bg)] text-[var(--text-primary)] font-semibold":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:["All Portfolios (",E.length,")"]}),a.jsx("div",{className:"border-t border-[var(--border-light)]"}),J.map(q=>{const oe=q.totalPL>=0;return a.jsx("button",{onClick:()=>{D(q.portfolioId),z(!1),I("holdings")},className:`w-full text-left px-4 py-2.5 transition-colors ${M===q.portfolioId?"bg-[var(--sidebar-active-bg)]":"hover:bg-[var(--bg-hover)]"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-sm ${M===q.portfolioId?"font-semibold text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:q.portfolioName}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[C(q.ownerName,"name"),"  ",q.platform]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(q.current)}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${oe?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[oe?"+":"",q.totalPLPct.toFixed(1),"%"]})]})]})},q.portfolioId)})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[U&&a.jsxs("button",{onClick:()=>A({editPortfolio:U}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(ca,{size:12})," Edit"]}),a.jsxs("button",{onClick:()=>A("addPortfolio"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Wr,{size:14})," New Portfolio"]})]})]}),U&&a.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-dim)] px-1 flex-wrap",children:[a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Platform:"})," ",U.platform]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Client ID:"})," ",C(U.clientId,"clientId")]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Stocks:"})," ",U.stockCount]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[a.jsx(td,{label:"Invested",value:K(X.invested)}),a.jsx(td,{label:"Current Value",value:K(X.current),bold:!0}),a.jsx(td,{label:"Unrealized P&L",value:`${X.unrealizedPL>=0?"+":""}${K(X.unrealizedPL)}`,sub:`${X.unrealizedPLPct>=0?"+":""}${X.unrealizedPLPct.toFixed(1)}%`,positive:X.unrealizedPL>=0}),a.jsx(td,{label:"Realized P&L",value:`${X.realizedPL>=0?"+":""}${K(X.realizedPL)}`,positive:X.realizedPL>=0}),a.jsx(td,{label:"Total P&L",value:`${X.totalPL>=0?"+":""}${K(X.totalPL)}`,sub:`${X.totalPLPct>=0?"+":""}${X.totalPLPct.toFixed(1)}%`,positive:X.totalPL>=0,bold:!0})]}),a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5",children:[a.jsxs("button",{onClick:()=>I("holdings"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${T==="holdings"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(xO,{size:12})," Holdings (",re.length,")"]}),a.jsxs("button",{onClick:()=>I("transactions"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${T==="transactions"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(ld,{size:12})," Transactions (",L.length,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>M!=="all"&&A({buy:M}),disabled:M==="all",className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${M==="all"?"bg-emerald-600/40 text-white/50 cursor-not-allowed":"text-white bg-emerald-600 hover:bg-emerald-500"}`,title:M==="all"?"Select a portfolio first":"",children:[a.jsx(uc,{size:14})," Buy"]}),a.jsxs("button",{onClick:()=>M!=="all"&&re.length>0&&A({sell:M}),disabled:M==="all"||re.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${M==="all"||re.length===0?"bg-rose-600/40 text-white/50 cursor-not-allowed":"text-white bg-rose-600 hover:bg-rose-500"}`,title:M==="all"?"Select a portfolio first":"",children:[a.jsx(Dp,{size:14})," Sell"]})]})]}),T==="holdings"&&a.jsx(a.Fragment,{children:re.length>0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Stock"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Qty"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Avg Price"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current Price"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Invested"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current Value"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Returns"})]})}),a.jsxs("tbody",{children:[re.map(q=>{const oe=q.unrealizedPL>=0,xe=M==="all"?J.find(he=>he.portfolioId===q.portfolioId):null;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:q.companyName}),a.jsxs("p",{className:"text-xs font-mono text-[var(--text-dim)]",children:[q.symbol,xe&&a.jsxs("span",{className:"ml-1.5 text-[var(--text-dim)] font-sans",children:[" ",xe.portfolioName]})]})]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:q.quantity}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:K(q.avgBuyPrice)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(q.currentPrice)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:K(q.totalInvestment)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(q.currentValue)}),a.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-semibold tabular-nums ${oe?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[oe?"+":"",K(q.unrealizedPL)]}),a.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-bold tabular-nums ${oe?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[oe?"+":"",q.unrealizedPLPct.toFixed(1),"%"]})]},`${q.portfolioId}-${q.symbol}`)}),a.jsxs("tr",{className:"bg-[var(--bg-inset)] border-t-2 border-[var(--border-light)]",children:[a.jsxs("td",{className:"py-2.5 px-4 text-xs font-semibold text-[var(--text-muted)]",children:["Total (",re.length," stocks)"]}),a.jsx("td",{colSpan:3,className:"py-2.5 px-3"}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(X.invested)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(X.current)}),a.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-semibold tabular-nums ${X.unrealizedPL>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[X.unrealizedPL>=0?"+":"",K(X.unrealizedPL)]}),a.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-bold tabular-nums ${X.unrealizedPL>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[X.unrealizedPLPct>=0?"+":"",X.unrealizedPLPct.toFixed(1),"%"]})]})]})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:re.map(q=>{const oe=q.unrealizedPL>=0,xe=M==="all"?J.find(he=>he.portfolioId===q.portfolioId):null;return a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:q.companyName}),a.jsxs("p",{className:"text-xs font-mono text-[var(--text-dim)]",children:[q.symbol,xe&&a.jsxs("span",{className:"ml-1 font-sans",children:[" ",xe.portfolioName]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:`text-xs font-bold tabular-nums ${oe?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[oe?"+":"",q.unrealizedPLPct.toFixed(1),"%"]}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${oe?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[oe?"+":"",K(q.unrealizedPL)]})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs gap-2",children:[a.jsxs("div",{className:"text-[var(--text-dim)] min-w-0 truncate",children:[a.jsxs("span",{children:[q.quantity," shares"]}),a.jsx("span",{className:"mx-1",children:""}),a.jsxs("span",{children:["Avg ",K(q.avgBuyPrice)]}),a.jsx("span",{className:"mx-1",children:""}),a.jsxs("span",{children:["CMP ",K(q.currentPrice)]})]}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums shrink-0",children:K(q.currentValue)})]})]},`${q.portfolioId}-${q.symbol}`)})})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(rc,{size:28,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No holdings",U?" in this portfolio":""]}),a.jsx("button",{onClick:()=>A({buy:M!=="all"?M:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Buy your first stock"})]})}),T==="transactions"&&a.jsx(a.Fragment,{children:L.length>0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Stock"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Qty"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Price"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Brokerage"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Net"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Realized P&L"}),a.jsx("th",{className:"w-8 py-2 px-2"})]})}),a.jsx("tbody",{children:L.map(q=>{const oe=q.type==="BUY",xe=!oe&&q.realizedPL!=null,he=xe&&q.realizedPL>=0,ee=M==="all"?J.find(ke=>ke.portfolioId===q.portfolioId):null;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-secondary)]",children:q.date}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${oe?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:q.type})}),a.jsxs("td",{className:"py-2.5 px-3",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:q.symbol}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] truncate max-w-[140px]",children:[q.companyName,ee&&a.jsxs("span",{children:["  ",ee.portfolioName]})]})]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:q.quantity}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:K(q.pricePerShare)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:K(q.totalAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-dim)] tabular-nums",children:q.brokerage>0?K(q.brokerage):""}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(q.netAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:xe?a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${he?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[he?"+":"",K(q.realizedPL)]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx(H5,{txn:q,isOpen:F===q.transactionId,onToggle:()=>B(F===q.transactionId?null:q.transactionId),onEdit:()=>{B(null),A({editTxn:q})},onDelete:()=>{B(null),ne(q.transactionId)}})})]},q.transactionId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:L.map(q=>{const oe=q.type==="BUY",xe=!oe&&q.realizedPL!=null,he=xe&&q.realizedPL>=0;return a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${oe?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:q.type}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:q.symbol})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:q.date}),a.jsx(H5,{txn:q,isOpen:F===q.transactionId,onToggle:()=>B(F===q.transactionId?null:q.transactionId),onEdit:()=>{B(null),A({editTxn:q})},onDelete:()=>{B(null),ne(q.transactionId)}})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[q.quantity," shares @ ",K(q.pricePerShare)]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(q.netAmount)}),xe&&a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${he?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["P&L: ",he?"+":"",K(q.realizedPL)]})]})]}),q.notes&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:q.notes})]},q.transactionId)})})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(ld,{size:28,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions yet"}),a.jsx("button",{onClick:()=>A({buy:M!=="all"?M:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Make your first purchase"})]})})]}),a.jsx(fr,{open:k==="addPortfolio"||!!k?.editPortfolio,onClose:()=>A(null),title:k?.editPortfolio?"Edit Portfolio":"New Stock Portfolio",children:a.jsx(Fle,{initial:k?.editPortfolio||void 0,onSave:Ne,onDelete:k?.editPortfolio?De:void 0,onCancel:()=>A(null)})}),a.jsx(fr,{open:!!k?.buy,onClose:()=>A(null),title:"Buy Stock",wide:!0,children:a.jsx(qle,{portfolioId:typeof k?.buy=="string"?k.buy:void 0,onSave:P,onCancel:()=>A(null)})}),a.jsx(fr,{open:!!k?.sell,onClose:()=>A(null),title:"Sell Stock",wide:!0,children:a.jsx(Hle,{portfolioId:typeof k?.sell=="string"?k.sell:void 0,onSave:W,onCancel:()=>A(null)})}),a.jsx(fr,{open:!!k?.editTxn,onClose:()=>A(null),title:"Edit Transaction",children:k?.editTxn&&a.jsx(Yle,{txn:k.editTxn,onSave:de,onCancel:()=>A(null)})})]})}function td({label:e,value:t,sub:r,positive:n,bold:i}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:`text-sm tabular-nums ${i?"font-bold":"font-semibold"} ${n===void 0?"text-[var(--text-primary)]":n?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:t}),r&&a.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${n?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}function H5({txn:e,isOpen:t,onToggle:r,onEdit:n,onDelete:i}){const l=j.useRef(null),[c,u]=j.useState({top:0,right:0});if(!e.transactionId)return null;function f(m){if(m.stopPropagation(),!t&&l.current){const h=l.current.getBoundingClientRect();u({top:h.bottom+4,right:window.innerWidth-h.right})}r()}return a.jsxs(a.Fragment,{children:[a.jsx("button",{ref:l,onClick:f,className:"p-1 rounded-md text-[var(--text-dim)] hover:text-[var(--text-muted)] hover:bg-[var(--bg-hover)] transition-colors",title:"Actions",children:a.jsx(mO,{size:14})}),t&&Dc.createPortal(a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{position:"fixed",inset:0,zIndex:9998},onClick:m=>{m.stopPropagation(),r()}}),a.jsxs("div",{style:{position:"fixed",top:c.top,right:c.right,zIndex:9999},className:"bg-[var(--bg-dropdown)] border border-white/10 rounded-lg shadow-2xl py-1 min-w-[120px] animate-fade-in",children:[a.jsxs("button",{onClick:m=>{m.stopPropagation(),n()},className:"w-full text-left px-3 py-2 text-xs text-[var(--text-secondary)] hover:bg-[var(--bg-hover)] hover:text-[var(--text-primary)] flex items-center gap-2 transition-colors",children:[a.jsx(ca,{size:12})," Edit"]}),a.jsxs("button",{onClick:m=>{m.stopPropagation(),i()},className:"w-full text-left px-3 py-2 text-xs text-[var(--accent-rose)] hover:bg-rose-500/10 flex items-center gap-2 transition-colors",children:[a.jsx(cc,{size:12})," Delete"]})]})]}),document.body)]})}function Yle({txn:e,onSave:t,onCancel:r}){const[n,i]=j.useState(()=>{if(!e.date)return"";const A=String(e.date),M=A.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})/);if(M)return new Date(Number(M[3]),Number(M[2])-1,Number(M[1])).toISOString().split("T")[0];const D=new Date(A);return isNaN(D.getTime())?"":D.toISOString().split("T")[0]}),[l,c]=j.useState(String(e.quantity||"")),[u,f]=j.useState(String(e.pricePerShare||"")),[m,h]=j.useState(String(e.brokerage||"0")),[x,v]=j.useState(e.notes||""),[g,S]=j.useState(!1),y=(Number(l)||0)*(Number(u)||0),w=Number(m)||0,C=e.type==="BUY"?y+w:y-w;async function k(){if(!(!l||Number(l)<=0)&&!(!u||Number(u)<=0)){S(!0);try{await t({transactionId:e.transactionId,date:n,quantity:l,pricePerShare:u,brokerage:m,notes:x})}finally{S(!1)}}}return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:e.companyName}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[e.symbol,"  ",e.type,"  ",e.transactionId]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Date"}),a.jsx(Ca,{value:n,onChange:i})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Quantity"}),a.jsx("input",{type:"number",value:l,onChange:A=>c(A.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Price per Share"}),a.jsx("input",{type:"number",value:u,onChange:A=>f(A.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Brokerage"}),a.jsx("input",{type:"number",value:m,onChange:A=>h(A.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]})]}),y>0&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)] flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:K(y)})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Net Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:K(C)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Notes"}),a.jsx("input",{type:"text",value:x,onChange:A=>v(A.target.value),placeholder:"Optional notes...",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-[var(--border-light)]",children:[a.jsx("button",{onClick:r,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:"Cancel"}),a.jsx("button",{onClick:k,disabled:g||!l||Number(l)<=0||!u||Number(u)<=0,className:"px-4 py-2 text-xs font-bold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Saving...":"Update Transaction"})]})]})}const Vle=["Self","Spouse","Father","Mother","Son","Daughter","Brother","Sister","Other"].map(e=>({value:e,label:e})),Zm={pan:/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/,aadhar:/^\d{12}$/,email:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,mobile:/^\d{10}$/};function Gle({initial:e,onSave:t,onDelete:r,onCancel:n}){const i=!!e,[l,c]=j.useState({memberName:e?.memberName||"",relationship:e?.relationship||"",pan:e?.pan||"",aadhar:e?.aadhar||"",email:e?.email||"",mobile:e?.mobile||"",includeInEmailReports:e?.includeInEmailReports??!0,status:e?.status||"Active"}),[u,f]=j.useState({}),[m,h]=j.useState(!1),[x,v]=j.useState(()=>{const A=e?.dynamicFields||{};return Object.entries(A).map(([M,D])=>({key:M,value:D}))});function g(A,M){c(D=>({...D,[A]:M})),f(D=>({...D,[A]:void 0}))}function S(){const A={};return l.memberName.trim()||(A.memberName="Required"),l.relationship||(A.relationship="Required"),Zm.pan.test(l.pan.toUpperCase())||(A.pan="Format: ABCDE1234F"),Zm.aadhar.test(l.aadhar)||(A.aadhar="12 digits required"),Zm.email.test(l.email)||(A.email="Invalid email"),Zm.mobile.test(l.mobile)||(A.mobile="10 digits required"),f(A),Object.keys(A).length===0}function y(){v(A=>[...A,{key:"",value:""}])}function w(A,M,D){v(T=>T.map((I,O)=>O===A?{...I,[M]:D}:I))}function C(A){v(M=>M.filter((D,T)=>T!==A))}async function k(){if(!S())return;const A={};x.forEach(({key:M,value:D})=>{const T=M.trim();T&&(A[T]=D)}),h(!0);try{await t({...l,pan:l.pan.toUpperCase(),dynamicFields:A})}finally{h(!1)}}return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Member Name",required:!0,error:u.memberName,children:a.jsx(Ie,{value:l.memberName,onChange:A=>g("memberName",A),placeholder:"e.g., Jagadeesh"})}),a.jsx(me,{label:"Relationship",required:!0,error:u.relationship,children:a.jsx(Je,{value:l.relationship,onChange:A=>g("relationship",A),options:Vle,placeholder:"Select..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"PAN",required:!0,error:u.pan,children:a.jsx(Ie,{sensitive:!0,value:l.pan,onChange:A=>g("pan",A.toUpperCase()),placeholder:"ABCDE1234F",maxLength:10})}),a.jsx(me,{label:"Aadhar",required:!0,error:u.aadhar,children:a.jsx(Ie,{sensitive:!0,value:l.aadhar,onChange:A=>g("aadhar",A.replace(/\D/g,"")),placeholder:"123456789012",maxLength:12})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Email",required:!0,error:u.email,children:a.jsx(Ie,{sensitive:!0,type:"email",value:l.email,onChange:A=>g("email",A),placeholder:"email@example.com"})}),a.jsx(me,{label:"Mobile",required:!0,error:u.mobile,children:a.jsx(Ie,{sensitive:!0,value:l.mobile,onChange:A=>g("mobile",A.replace(/\D/g,"")),placeholder:"9876543210",maxLength:10})})]}),a.jsx(Bie,{checked:l.includeInEmailReports,onChange:A=>g("includeInEmailReports",A),label:"Include in email reports"}),i&&a.jsx(me,{label:"Status",children:a.jsx(Je,{value:l.status,onChange:A=>g("status",A),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)]",children:"Custom Fields"}),a.jsxs("button",{onClick:y,type:"button",className:"flex items-center gap-1 text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[a.jsx(Wr,{size:12})," Add Field"]})]}),x.length===0&&a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"No custom fields. Add DOB, occupation, blood group, etc."}),a.jsx("div",{className:"space-y-2",children:x.map((A,M)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{value:A.key,onChange:D=>w(M,"key",D.target.value),placeholder:"Field name",className:"flex-1 px-2.5 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] transition-colors"}),a.jsx("input",{value:A.value,onChange:D=>w(M,"value",D.target.value),placeholder:"Value",className:"flex-1 px-2.5 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] transition-colors"}),a.jsx("button",{onClick:()=>C(M),type:"button",className:"p-1 text-[var(--text-dim)] hover:text-rose-400 transition-colors",children:a.jsx(cc,{size:13})})]},M))})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[i&&r?a.jsx(ns,{onClick:r}):a.jsx("div",{}),a.jsx(on,{onCancel:n,onSubmit:k,submitLabel:i?"Update":"Add Member",loading:m})]})]})}const Jm=["from-violet-500 to-indigo-500","from-rose-500 to-pink-500","from-blue-500 to-cyan-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],U5={Self:"bg-violet-500/15 text-[var(--accent-violet)]",Spouse:"bg-rose-500/15 text-[var(--accent-rose)]",Father:"bg-blue-500/15 text-[var(--accent-blue)]",Mother:"bg-amber-500/15 text-[var(--accent-amber)]",Son:"bg-emerald-500/15 text-emerald-400",Daughter:"bg-emerald-500/15 text-emerald-400"};function Wle(){const{members:e,addMember:t,updateMember:r,deleteMember:n}=pt(),{showToast:i,showBlockUI:l,hideBlockUI:c}=li(),u=oi(),{mv:f}=_a(),[m,h]=j.useState(null);if(e===null)return a.jsx(di,{title:"Loading family",cards:3});const x=e.filter(S=>S.status!=="Inactive");async function v(S){l("Saving member...");try{m?.edit?await r(m.edit.memberId,S):await t(S),i(m?.edit?"Member updated":"Member added"),h(null)}catch(y){i(y.message||"Failed to save member","error")}finally{c()}}async function g(){if(m?.edit&&await u("Deactivate this family member?",{title:"Deactivate Member",confirmLabel:"Deactivate"})){l("Deactivating...");try{await n(m.edit.memberId),i("Member deactivated"),h(null)}catch(S){i(S.message||"Failed to deactivate member","error")}finally{c()}}}return[...new Set(x.flatMap(S=>Object.keys(S.dynamicFields||{})))],a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>h("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Wr,{size:14})," Add Member"]})}),x.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(Yl,{size:32,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No family members yet"}),a.jsx("button",{onClick:()=>h("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first member"})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[640px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Relationship"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"PAN"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Aadhaar"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Mobile"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:x.map((S,y)=>{const w=S.dynamicFields||{},C=Object.entries(w);return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-4",children:a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white bg-gradient-to-br ${Jm[y%Jm.length]}`,children:S.memberName.charAt(0)}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:f(S.memberName,"name")}),C.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mt-0.5",children:[C.slice(0,3).map(([k,A])=>a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)] bg-[var(--bg-inset)] px-1.5 py-0.5 rounded",children:[k,": ",A]},k)),C.length>3&&a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["+",C.length-3," more"]})]})]})]})}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${U5[S.relationship]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:S.relationship})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] font-mono tabular-nums",children:f(S.pan,"pan")||""}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] font-mono tabular-nums",children:f(S.aadhar,"aadhaar")||""}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] truncate max-w-[180px]",children:f(S.email,"email")}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:f(S.mobile,"mobile")}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>h({edit:S}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(ca,{size:12})})})]},S.memberId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:x.map((S,y)=>{const w=S.dynamicFields||{},C=Object.entries(w);return a.jsxs("div",{onClick:()=>h({edit:S}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center gap-2.5 mb-1.5",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white bg-gradient-to-br ${Jm[y%Jm.length]}`,children:S.memberName.charAt(0)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:f(S.memberName,"name")}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${U5[S.relationship]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:S.relationship})]}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] truncate",children:f(S.email,"email")})]})]}),a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-1",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:f(S.mobile,"mobile")}),a.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)] font-mono",children:["PAN: ",f(S.pan,"pan")||""]}),S.aadhar&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] font-mono",children:["Aadhaar: ",f(S.aadhar,"aadhaar")]})]})]}),C.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mt-1.5",children:[C.slice(0,3).map(([k,A])=>a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)] bg-[var(--bg-inset)] px-1.5 py-0.5 rounded",children:[k,": ",A]},k)),C.length>3&&a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["+",C.length-3," more"]})]})]},S.memberId)})})]}),a.jsx(fr,{open:!!m,onClose:()=>h(null),title:m?.edit?"Edit Member":"Add Family Member",wide:!0,children:a.jsx(Gle,{initial:m?.edit||void 0,onSave:v,onDelete:m?.edit?g:void 0,onCancel:()=>h(null)})})]})}const Y5=["Retirement","Emergency Fund","Child Education","Home Purchase","Car","Travel","Wedding","Custom"].map(e=>({value:e,label:e})),V5=[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}],ep={Retirement:{inflation:6,cagr:12},"Emergency Fund":{inflation:0,cagr:7},"Child Education":{inflation:10,cagr:12},"Home Purchase":{inflation:8,cagr:12},Wedding:{inflation:6,cagr:12},Car:{inflation:5,cagr:10},Travel:{inflation:6,cagr:10},Custom:{inflation:6,cagr:12}},G5=[{label:"Basics",icon:Od},{label:"Financials",icon:Sz},{label:"Review",icon:_c}];function Kle({initial:e,onSave:t,onDelete:r,onCancel:n}){const i=!!e,{activeMembers:l}=pt(),c=(l||[]).map(O=>({value:O.memberId,label:O.relationship?`${O.memberName} (${O.relationship})`:O.memberName})),[u,f]=j.useState(0),[m,h]=j.useState(()=>{if(i){const O=(e.expectedInflation||.06)*100,z=(e.expectedCAGR||.12)*100,F=e.targetDate?Math.max(0,(new Date(e.targetDate)-new Date)/(365.25*24*60*60*1e3)):0,B=O/100;let E=e.targetAmount||0;B>0&&F>0&&e.goalType!=="Emergency Fund"&&(E=e.targetAmount/Math.pow(1+B,F));const J=l.find(X=>X.memberName===e.familyMemberName);return{goalType:e.goalType||"",goalName:e.goalName||"",familyMemberId:J?.memberId||"",todaysCost:Math.round(E).toString(),targetDate:e.targetDate||"",lumpsum:(e.lumpsumInvested||0).toString(),monthlySIP:(e.monthlyInvestment||0).toString(),inflation:O.toString(),cagr:z.toString(),priority:e.priority||"Medium",notes:e.notes||"",monthlyExpenses:(e.monthlyExpenses||"").toString(),emergencyMonths:(e.emergencyMonths||6).toString()}}return{goalType:"",goalName:"",familyMemberId:"",todaysCost:"",targetDate:"",lumpsum:"",monthlySIP:"",inflation:"6",cagr:"12",priority:"Medium",notes:"",monthlyExpenses:"",emergencyMonths:"6"}}),[x,v]=j.useState({}),[g,S]=j.useState(!1);function y(O,z){h(F=>({...F,[O]:z})),v(F=>({...F,[O]:void 0}))}j.useEffect(()=>{if(i||!m.goalType)return;const O=ep[m.goalType]||ep.Custom;h(z=>({...z,inflation:O.inflation.toString(),cagr:O.cagr.toString()}))},[m.goalType,i]);const w=m.goalType==="Retirement",C=m.goalType==="Emergency Fund",k=j.useMemo(()=>{const O=(Number(m.inflation)||0)/100,F=(Number(m.cagr)||0)/100/12,B=Number(m.lumpsum)||0,E=Number(m.monthlyExpenses)||0,J=Number(m.emergencyMonths)||6,X=m.targetDate?Math.max(0,(new Date(m.targetDate)-new Date)/(365.25*24*60*60*1e3)):0,re=Math.round(X*12);let L=0,U=0;w?(L=E*12*25,U=L*Math.pow(1+O,X)):C?(L=E*J,U=L):(L=Number(m.todaysCost)||0,U=O>0&&X>0?L*Math.pow(1+O,X):L),U=Math.round(U);const V=B>0&&re>0?B*Math.pow(1+F,re):B;let Ne=0;if(U>0&&re>0){const de=U-V;de>0&&F>0?Ne=de/((Math.pow(1+F,re)-1)/F):de>0&&(Ne=de/re),Ne=Math.max(0,Math.ceil(Ne))}const De=Ne>0&&F>0&&re>0?Ne*((Math.pow(1+F,re)-1)/F):Ne*re,P=Math.round(B+Ne*re),W=Math.round(U-P),ne=B>0&&V>=U;return{todaysCost:L,inflatedTarget:U,yearsToGo:X,months:re,fvLumpsum:Math.round(V),requiredSIP:Ne,fvRequiredSIP:Math.round(De),planTotalInvested:P,planReturns:W,lumpsumCoversGoal:ne,hasTarget:U>0}},[m.todaysCost,m.targetDate,m.lumpsum,m.inflation,m.cagr,m.monthlyExpenses,m.emergencyMonths,w,C]);function A(O){const z={};return O===0&&(m.goalType||(z.goalType="Required"),m.goalName.trim()||(z.goalName="Required")),O===1&&(m.targetDate||(z.targetDate="Required"),w||C?(!m.monthlyExpenses||Number(m.monthlyExpenses)<=0)&&(z.monthlyExpenses="Required"):(!m.todaysCost||Number(m.todaysCost)<=0)&&(z.todaysCost="Must be > 0")),v(z),Object.keys(z).length===0}function M(){const O={};return m.goalType||(O.goalType="Required"),m.goalName.trim()||(O.goalName="Required"),m.targetDate||(O.targetDate="Required"),w||C?(!m.monthlyExpenses||Number(m.monthlyExpenses)<=0)&&(O.monthlyExpenses="Required"):(!m.todaysCost||Number(m.todaysCost)<=0)&&(O.todaysCost="Must be > 0"),v(O),Object.keys(O).length===0}function D(){A(u)&&f(O=>Math.min(O+1,2))}async function T(){if(!M())return;const O=m.familyMemberId&&l.find(z=>z.memberId===m.familyMemberId)?.memberName||"Family";S(!0);try{await t({goalType:m.goalType,goalName:m.goalName,familyMemberId:m.familyMemberId||"",familyMember:O,targetAmount:k.inflatedTarget,targetDate:m.targetDate,priority:m.priority,notes:m.notes,expectedInflation:(Number(m.inflation)||0)/100,expectedCAGR:(Number(m.cagr)||0)/100,monthlyInvestment:k.requiredSIP||0,lumpsumInvested:Number(m.lumpsum)||0,monthlyExpenses:w||C?Number(m.monthlyExpenses)||0:void 0,emergencyMonths:C?Number(m.emergencyMonths)||6:void 0,isRetirement:w,currentCost:k.todaysCost})}finally{S(!1)}}const I=m.familyMemberId&&l.find(O=>O.memberId===m.familyMemberId)?.memberName||"Family";return i?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Goal Type",required:!0,error:x.goalType,children:a.jsx(Je,{value:m.goalType,onChange:O=>y("goalType",O),options:Y5,placeholder:"Select type..."})}),a.jsx(me,{label:"Goal Name",required:!0,error:x.goalName,children:a.jsx(Ie,{value:m.goalName,onChange:O=>y("goalName",O),placeholder:"e.g., Retirement Fund (2045)"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"For",error:x.familyMemberId,children:a.jsx(Je,{value:m.familyMemberId,onChange:O=>y("familyMemberId",O),options:c,placeholder:"Family (Default)"})}),a.jsx(me,{label:"Target Date",required:!0,error:x.targetDate,children:a.jsx(Ca,{value:m.targetDate,onChange:O=>y("targetDate",O),maxDate:null})})]}),w||C?a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Monthly Expenses",required:!0,error:x.monthlyExpenses,children:a.jsx(Ie,{type:"number",value:m.monthlyExpenses,onChange:O=>y("monthlyExpenses",O),placeholder:"e.g., 50000"})}),C&&a.jsx(me,{label:"Emergency Months",children:a.jsx(Ie,{type:"number",value:m.emergencyMonths,onChange:O=>y("emergencyMonths",O),placeholder:"6"})})]}):a.jsx(me,{label:"Today's Cost",required:!0,error:x.todaysCost,children:a.jsx(Ie,{type:"number",value:m.todaysCost,onChange:O=>y("todaysCost",O),placeholder:"e.g., 1000000"})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[a.jsx(me,{label:"Inflation %",children:a.jsx(Ie,{type:"number",value:m.inflation,onChange:O=>y("inflation",O),placeholder:"6"})}),a.jsx(me,{label:"Expected CAGR %",children:a.jsx(Ie,{type:"number",value:m.cagr,onChange:O=>y("cagr",O),placeholder:"12"})}),a.jsx(me,{label:"Lumpsum Invested",children:a.jsx(Ie,{type:"number",value:m.lumpsum,onChange:O=>y("lumpsum",O),placeholder:"0"})})]}),k.hasTarget&&a.jsx(W5,{calc:k,inflation:m.inflation,isRetirement:w,isEmergency:C}),a.jsx(me,{label:"Priority",children:a.jsx(Je,{value:m.priority,onChange:O=>y("priority",O),options:V5})}),a.jsx(me,{label:"Notes",children:a.jsx(Sc,{value:m.notes,onChange:O=>y("notes",O),placeholder:"Optional notes...",rows:2})}),a.jsxs("div",{className:"flex items-center justify-between",children:[r?a.jsx(ns,{onClick:r}):a.jsx("div",{}),a.jsx(on,{onCancel:n,onSubmit:T,submitLabel:"Update Goal",loading:g})]})]}):a.jsxs("div",{className:"space-y-5",children:[a.jsx("div",{className:"flex items-center gap-1 mb-2",children:G5.map((O,z)=>{const F=O.icon,B=z===u,E=z<u;return a.jsxs("div",{className:"flex items-center flex-1",children:[a.jsxs("button",{onClick:()=>{z<u&&f(z)},className:`flex items-center gap-1.5 text-xs font-semibold transition-colors ${B?"text-violet-400":E?"text-emerald-400 cursor-pointer":"text-[var(--text-dim)]"}`,children:[a.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold border ${B?"border-violet-400 bg-violet-500/15":E?"border-emerald-400 bg-emerald-500/15":"border-[var(--border)] bg-[var(--bg-inset)]"}`,children:E?a.jsx(_c,{size:12}):a.jsx(F,{size:12})}),a.jsx("span",{className:"hidden sm:inline",children:O.label})]}),z<G5.length-1&&a.jsx("div",{className:`flex-1 h-px mx-2 ${E?"bg-emerald-400/40":"bg-[var(--border)]"}`})]},O.label)})}),u===0&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Tell us about your financial goal"}),a.jsx(me,{label:"Goal Type",required:!0,error:x.goalType,children:a.jsx(Je,{value:m.goalType,onChange:O=>y("goalType",O),options:Y5,placeholder:"Select type..."})}),m.goalType&&a.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)]",children:[a.jsx(uc,{size:12,className:"text-[var(--text-dim)] shrink-0"}),a.jsxs("p",{className:"text-[11px] text-[var(--text-muted)]",children:["Default: ",ep[m.goalType]?.inflation||6,"% inflation, ",ep[m.goalType]?.cagr||12,"% CAGR",w&&"  Uses 25x annual expenses rule",C&&"  No inflation applied"]})]}),a.jsx(me,{label:"Goal Name",required:!0,error:x.goalName,children:a.jsx(Ie,{value:m.goalName,onChange:O=>y("goalName",O),placeholder:"e.g., Retirement Fund (2045)"})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"For",error:x.familyMemberId,children:a.jsx(Je,{value:m.familyMemberId,onChange:O=>y("familyMemberId",O),options:c,placeholder:"Family (Default)"})}),a.jsx(me,{label:"Priority",children:a.jsx(Je,{value:m.priority,onChange:O=>y("priority",O),options:V5})})]})]}),u===1&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:w?"Set your retirement timeline and monthly expenses":C?"Set your emergency fund requirements":"Set your target and investment plan"}),w||C?a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Target Date",required:!0,error:x.targetDate,children:a.jsx(Ca,{value:m.targetDate,onChange:O=>y("targetDate",O),maxDate:null})}),a.jsx(me,{label:"Monthly Expenses (Today)",required:!0,error:x.monthlyExpenses,children:a.jsx(Ie,{type:"number",value:m.monthlyExpenses,onChange:O=>y("monthlyExpenses",O),placeholder:"e.g., 50000"})}),C&&a.jsx(me,{label:"Emergency Fund (Months)",children:a.jsx(Ie,{type:"number",value:m.emergencyMonths,onChange:O=>y("emergencyMonths",O),placeholder:"6"})}),w&&a.jsx("div",{className:"sm:col-span-2",children:a.jsxs("p",{className:"text-[11px] text-[var(--text-dim)]",children:["Corpus = Monthly Expenses x 12 x 25 = ",K(k.todaysCost)," (today)"]})})]}):a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Target Date",required:!0,error:x.targetDate,children:a.jsx(Ca,{value:m.targetDate,onChange:O=>y("targetDate",O),maxDate:null})}),a.jsx(me,{label:"Today's Cost",required:!0,error:x.todaysCost,children:a.jsx(Ie,{type:"number",value:m.todaysCost,onChange:O=>y("todaysCost",O),placeholder:"e.g., 1000000"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(me,{label:`Inflation Rate (%)${C?"  N/A":""}`,children:a.jsx(Ie,{type:"number",value:m.inflation,onChange:O=>y("inflation",O),placeholder:"6"})}),a.jsx(me,{label:"Expected Returns (CAGR %)",children:a.jsx(Ie,{type:"number",value:m.cagr,onChange:O=>y("cagr",O),placeholder:"12"})})]}),k.hasTarget&&a.jsx(W5,{calc:k,inflation:m.inflation,isRetirement:w,isEmergency:C}),a.jsx(me,{label:"Lumpsum You Plan to Invest (Optional)",children:a.jsx(Ie,{type:"number",value:m.lumpsum,onChange:O=>y("lumpsum",O),placeholder:"e.g., 500000"})}),k.hasTarget&&k.months>0&&a.jsx(K5,{calc:k,lumpsum:m.lumpsum}),a.jsx(me,{label:"Notes",children:a.jsx(Sc,{value:m.notes,onChange:O=>y("notes",O),placeholder:"Optional notes...",rows:2})})]}),u===2&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Review your goal before saving"}),a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-4 space-y-3",children:[a.jsx(hn,{label:"Goal",value:m.goalName,bold:!0}),a.jsx(hn,{label:"Type",value:m.goalType,color:"violet"}),a.jsx(hn,{label:"Member",value:I}),a.jsx(hn,{label:"Priority",value:m.priority,badge:m.priority==="High"?"rose":m.priority==="Low"?"blue":"amber"}),a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3 space-y-2",children:[(w||C)&&a.jsx(hn,{label:"Monthly Expenses",value:K(Number(m.monthlyExpenses)||0)}),C&&a.jsx(hn,{label:"Emergency Months",value:m.emergencyMonths}),!w&&!C&&a.jsx(hn,{label:"Today's Cost",value:K(k.todaysCost)}),a.jsx(hn,{label:"Inflation",value:`${m.inflation}% p.a.`}),a.jsx(hn,{label:"Expected CAGR",value:`${m.cagr}% p.a.`}),a.jsx(hn,{label:"Future Value (Inflated)",value:K(k.inflatedTarget),bold:!0,color:"violet"})]}),a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3 space-y-2",children:[a.jsx(hn,{label:"Lumpsum",value:K(Number(m.lumpsum)||0)}),a.jsx(hn,{label:"Required SIP",value:`${K(k.requiredSIP)}/mo`,color:"emerald"}),a.jsx(hn,{label:"Target Date",value:m.targetDate}),a.jsx(hn,{label:"Time Remaining",value:k.yearsToGo>0?`${k.yearsToGo.toFixed(1)} years`:""})]})]}),k.hasTarget&&k.months>0&&a.jsx(K5,{calc:k,lumpsum:m.lumpsum,compact:!0})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-[var(--border-light)]",children:[a.jsx("div",{children:u>0&&a.jsxs("button",{onClick:()=>f(O=>O-1),className:"flex items-center gap-1 px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx(oz,{size:14})," Back"]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:n,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),u<2?a.jsxs("button",{onClick:D,className:"flex items-center gap-1 px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors",children:["Next ",a.jsx(ya,{size:14})]}):a.jsx("button",{onClick:T,disabled:g,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Saving...":"Create Goal"})]})]})]})}function W5({calc:e,inflation:t,isRetirement:r,isEmergency:n}){return n?a.jsx("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-blue-500/5 border border-blue-500/15",children:a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Emergency Fund: ",a.jsx("span",{className:"font-bold text-[var(--text-primary)]",children:K(e.inflatedTarget)}),a.jsx("span",{className:"text-[var(--text-dim)]",children:" (no inflation applied)"})]})}):a.jsxs("div",{className:"flex items-center justify-between gap-2 px-3 py-2 rounded-lg bg-violet-500/5 border border-violet-500/15",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-semibold text-[var(--text-dim)] uppercase tracking-wider",children:r?"Corpus Today":"Today's Cost"}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-secondary)]",children:K(e.todaysCost)})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[t,"% x ",e.yearsToGo.toFixed(1),"yrs"]}),a.jsx(ya,{size:12,className:"text-violet-400 mx-auto"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] font-semibold text-violet-400 uppercase tracking-wider",children:"Future Value"}),a.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)]",children:K(e.inflatedTarget)})]})]})}function K5({calc:e,lumpsum:t,compact:r}){const n=Number(t)||0;return r?a.jsxs("div",{className:"rounded-lg border p-3 bg-violet-500/5 border-violet-500/15",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Required Monthly SIP"}),a.jsxs("span",{className:"text-sm font-bold text-violet-400 tabular-nums",children:[e.lumpsumCoversGoal?"0":K(e.requiredSIP),"/mo"]})]}),e.lumpsumCoversGoal&&a.jsx("p",{className:"text-[10px] text-emerald-400 mt-1",children:"Lumpsum alone covers this goal!"})]}):a.jsxs("div",{className:"rounded-lg border p-3 space-y-2 bg-violet-500/5 border-violet-500/15",children:[e.lumpsumCoversGoal?a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(_c,{size:12,className:"text-emerald-400"}),a.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-emerald-400",children:"Lumpsum Covers Goal"})]}):a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-violet-400",children:"Required Monthly SIP"}),a.jsxs("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:[K(e.requiredSIP),"/mo"]})]}),e.planTotalInvested>0&&a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-2 space-y-1",children:[n>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-[11px] text-[var(--text-dim)]",children:["Lumpsum ",K(n)," grows to"]}),a.jsx("span",{className:"text-[11px] font-semibold text-emerald-400 tabular-nums",children:K(e.fvLumpsum)})]}),e.requiredSIP>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-[11px] text-[var(--text-dim)]",children:["SIP ",K(e.requiredSIP),"/mo x ",e.months," months"]}),a.jsx("span",{className:"text-[11px] font-semibold text-blue-400 tabular-nums",children:K(e.fvRequiredSIP)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[11px] text-[var(--text-dim)]",children:"Total You Invest"}),a.jsx("span",{className:"text-[11px] font-semibold text-[var(--text-primary)] tabular-nums",children:K(e.planTotalInvested)})]}),e.planReturns>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[11px] text-[var(--text-dim)]",children:"Wealth Created"}),a.jsxs("span",{className:"text-[11px] font-semibold text-emerald-400 tabular-nums",children:["+",K(e.planReturns)]})]})]})]})}function hn({label:e,value:t,bold:r,color:n,badge:i}){const l=n==="violet"?"text-violet-400":n==="emerald"?"text-emerald-400":"text-[var(--text-primary)]";if(i){const c=i==="rose"?"bg-rose-500/15 text-rose-400":i==="blue"?"bg-blue-500/15 text-blue-400":"bg-amber-500/15 text-amber-400";return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:e}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${c}`,children:t})]})}return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:e}),a.jsx("span",{className:`text-xs ${r?"font-bold text-sm":"font-semibold"} ${l}`,children:t})]})}function Qle({goal:e,onClose:t}){const{goalPortfolioMappings:r,mfPortfolios:n,mfHoldings:i}=pt(),l=j.useMemo(()=>{const u=r.filter(x=>x.goalId===e.goalId);if(u.length===0)return null;const f=u.map(x=>{const v=n.find(C=>C.portfolioId===x.portfolioId);if(!v)return null;const g=i.filter(C=>C.portfolioId===x.portfolioId&&C.units>0),S=g.reduce((C,k)=>C+k.currentValue,0),y=S*x.allocationPct/100,w=g.map(C=>{const k=S>0?C.currentValue/S:0,A=y*k,M=C.currentNav>0?A/C.currentNav:0,D=A-M*C.avgNav;return{fundName:C.fundName,currentValue:C.currentValue,withdrawValue:A,withdrawUnits:Math.min(M,C.units),currentNav:C.currentNav,taxableGain:D,availableUnits:C.units}}).filter(C=>C.withdrawValue>0);return{portfolioName:v.portfolioName,ownerName:v.ownerName,allocationPct:x.allocationPct,portfolioValue:S,linkedValue:y,fundWithdrawals:w}}).filter(Boolean),m=f.reduce((x,v)=>x+v.linkedValue,0),h=f.reduce((x,v)=>x+v.fundWithdrawals.reduce((g,S)=>g+S.taxableGain,0),0);return{portfolioDetails:f,totalLinked:m,totalTaxableGain:h}},[e,r,n,i]);if(!l)return a.jsxs("div",{className:"py-8 text-center space-y-2",children:[a.jsx($s,{size:24,className:"mx-auto text-amber-400"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No portfolios linked to this goal"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Link portfolios first to generate a withdrawal plan"}),a.jsx("button",{onClick:t,className:"mt-2 px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})]});const c=e.targetAmount>0?l.totalLinked/e.targetAmount*100:0;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-4 space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Goal Target"}),a.jsx("span",{className:"text-sm font-bold text-[var(--text-primary)]",children:K(e.targetAmount)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Available from Linked Portfolios"}),a.jsx("span",{className:`text-sm font-bold ${l.totalLinked>=e.targetAmount?"text-emerald-400":"text-amber-400"}`,children:K(l.totalLinked)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-card)] rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${c>=100?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${Math.min(c,100)}%`}})}),a.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[c.toFixed(0),"%"]})]}),l.totalTaxableGain>0&&a.jsxs("div",{className:"flex items-center justify-between pt-1",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Estimated Taxable Gain"}),a.jsx("span",{className:"text-xs font-semibold text-amber-400",children:K(l.totalTaxableGain)})]})]}),l.portfolioDetails.map(u=>a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] overflow-hidden",children:[a.jsxs("div",{className:"px-4 py-2.5 bg-[var(--bg-card)] border-b border-[var(--border-light)] flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:u.portfolioName}),a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[u.ownerName,"  ",u.allocationPct,"% allocated to goal"]})]}),a.jsx("span",{className:"text-xs font-bold text-[var(--text-primary)]",children:K(u.linkedValue)})]}),a.jsx("div",{className:"px-4 py-2",children:a.jsxs("table",{className:"w-full text-xs",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-[var(--text-dim)]",children:[a.jsx("th",{className:"text-left py-1 font-medium",children:"Fund"}),a.jsx("th",{className:"text-right py-1 font-medium",children:"Units"}),a.jsx("th",{className:"text-right py-1 font-medium",children:"Amount"}),a.jsx("th",{className:"text-right py-1 font-medium",children:"Gain"})]})}),a.jsx("tbody",{children:u.fundWithdrawals.map(f=>a.jsxs("tr",{className:"border-t border-[var(--border-light)]",children:[a.jsxs("td",{className:"py-1.5 text-[var(--text-secondary)] max-w-[180px]",children:[a.jsx("p",{className:"truncate",children:Re(f.fundName).main}),Re(f.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Re(f.fundName).plan})]}),a.jsx("td",{className:"py-1.5 text-right text-[var(--text-muted)] tabular-nums",children:f.withdrawUnits.toFixed(2)}),a.jsx("td",{className:"py-1.5 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:K(f.withdrawValue)}),a.jsx("td",{className:`py-1.5 text-right tabular-nums font-semibold ${f.taxableGain>=0?"text-emerald-400":"text-rose-400"}`,children:K(Math.abs(f.taxableGain))})]},f.fundName))})]})})]},u.portfolioName)),a.jsx("div",{className:"flex items-center justify-end gap-2 pt-4 border-t border-[var(--border-light)]",children:a.jsx("button",{onClick:t,className:"px-5 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})})]})}const Xle={"On Track":"bg-blue-500/15 text-[var(--accent-blue)]",Behind:"bg-amber-500/15 text-[var(--accent-amber)]",Critical:"bg-rose-500/15 text-[var(--accent-rose)]","Needs Attention":"bg-amber-500/15 text-[var(--accent-amber)]",Achieved:"bg-emerald-500/15 text-emerald-400",Paused:"bg-slate-500/15 text-[var(--text-muted)]"},Zle={High:"bg-rose-500/15 text-[var(--accent-rose)]",Medium:"bg-amber-500/15 text-[var(--accent-amber)]",Low:"bg-blue-500/15 text-[var(--accent-blue)]"},Jle={"On Track":"bg-blue-500",Behind:"bg-amber-500",Critical:"bg-rose-500","Needs Attention":"bg-amber-500",Achieved:"bg-emerald-500",Paused:"bg-slate-500"};function eoe(){const{selectedMember:e,member:t}=Fr(),{goalList:r,addGoal:n,updateGoal:i,deleteGoal:l,goalPortfolioMappings:c,updateGoalMappings:u,mfHoldings:f,activeMembers:m,mfPortfolios:h,stockPortfolios:x,otherInvList:v}=pt(),{showToast:g,showBlockUI:S,hideBlockUI:y}=li(),w=oi(),[C,k]=j.useState(null),[A,M]=j.useState(null),[D,T]=j.useState(null),I=j.useRef(new Set),[O,z]=j.useState(null),[F,B]=j.useState([]),[E,J]=j.useState(!1),[X,re]=j.useState(!1),L=j.useMemo(()=>{if(!r)return[];const $=r.filter(Z=>Z.isActive!==!1);return e==="all"?$:$.filter(Z=>Z.familyMemberId===e)},[r,e]);function U($){if(!$.familyMemberName||$.familyMemberName==="Family")return $.familyMemberName||"Family";const Z=(m||[]).find(we=>we.memberName===$.familyMemberName);return Z?.relationship?`${$.familyMemberName} (${Z.relationship})`:$.familyMemberName}const V=L.reduce(($,Z)=>$+(Z.targetAmount||0),0),Ne=L.reduce(($,Z)=>$+(Z.currentValue||0),0),De=L.reduce(($,Z)=>$+(Z.monthlyInvestment||0),0),P=L.reduce(($,Z)=>$+(Z.lumpsumNeeded||0),0),W=V>0?Ne/V*100:0,ne=L.filter($=>$.status==="Needs Attention").length,de=L.filter($=>$.status==="Achieved").length,q=new Set(["Equity","ELSS","Index"]),oe=j.useMemo(()=>{if(!L.length||!c?.length||!f?.length)return[];const $=new Date,Z=[];for(const we of L){if(we.status==="Achieved")continue;const le=(new Date(we.targetDate)-$)/(365.25*24*60*60*1e3);if(le>3||le<=0)continue;const lt=c.filter(At=>At.goalId===we.goalId);if(!lt.length)continue;let Ue=0,Be=0;for(const At of lt){const gt=f.filter(Me=>Me.portfolioId===At.portfolioId&&Me.units>0);for(const Me of gt){const We=Me.currentValue*(At.allocationPct/100);Ue+=We,q.has(Me.category)?Be+=We:Me.category==="Hybrid"&&(Be+=We*.65)}}const Fe=Ue>0?Be/Ue*100:0,et=le<1?30:le<2?50:70;Fe>et&&Z.push({goalId:we.goalId,goalName:we.goalName,yearsLeft:le.toFixed(1),equityPct:Math.round(Fe),maxEquity:et,excessPct:Math.round(Fe-et)})}return Z},[L,c,f]);j.useEffect(()=>{const $=new Set(L.filter(we=>we.status==="Achieved").map(we=>we.goalId)),Z=I.current;for(const we of $)if(!Z.has(we)){const ze=L.find(le=>le.goalId===we);ze&&(T(ze),setTimeout(()=>T(null),5e3))}I.current=$},[L]);function xe($){return $?$.startsWith("PFL-STK-")?"Stock":$.startsWith("INV-")?"Other":"MF":"MF"}const he=j.useMemo(()=>{const $={};return(h||[]).forEach(Z=>{$[Z.portfolioId]={name:Z.portfolioName?.replace(/^PFL-/,"")||Z.portfolioName,value:Z.currentValue||0,type:"MF",owner:Z.ownerName||""}}),(x||[]).forEach(Z=>{$[Z.portfolioId]={name:Z.portfolioName,value:Z.currentValue||0,type:"Stock",owner:Z.ownerName||""}}),(v||[]).forEach(Z=>{$[Z.investmentId]={name:Z.investmentName,value:Z.currentValue||0,type:"Other",owner:Z.familyMemberName||""}}),$},[h,x,v]),ee=j.useMemo(()=>{const $=[];return(h||[]).filter(Z=>Z.status!=="Inactive").forEach(Z=>{$.push({id:Z.portfolioId,name:Z.portfolioName?.replace(/^PFL-/,"")||Z.portfolioName,value:Z.currentValue||0,type:"MF",owner:Z.ownerName||""})}),(x||[]).filter(Z=>Z.status!=="Inactive").forEach(Z=>{$.push({id:Z.portfolioId,name:Z.portfolioName,value:Z.currentValue||0,type:"Stock",owner:Z.ownerName||""})}),(v||[]).filter(Z=>Z.status==="Active").forEach(Z=>{$.push({id:Z.investmentId,name:Z.investmentName,value:Z.currentValue||0,type:"Other",owner:Z.familyMemberName||""})}),$},[h,x,v]),ke=ee.filter($=>$.type==="MF"),He=ee.filter($=>$.type==="Stock"),ge=ee.filter($=>$.type==="Other"),Le=j.useMemo(()=>{const $={};return(c||[]).forEach(Z=>{if(Z.goalId===O)return;$[Z.portfolioId]||($[Z.portfolioId]={total:0,goals:[]}),$[Z.portfolioId].total+=Z.allocationPct;const we=(r||[]).find(ze=>ze.goalId===Z.goalId);$[Z.portfolioId].goals.push({goalName:we?.goalName||Z.goalId,pct:Z.allocationPct})}),$},[c,O,r]),Ae=j.useMemo(()=>{const $=[];for(const Z of F){const ze=(Le[Z.portfolioId]?.total||0)+(Z.allocationPct||0);if(ze>100){const le=ee.find(lt=>lt.id===Z.portfolioId);$.push({name:le?.name||Z.portfolioId,combined:ze,excess:ze-100})}}return $},[F,Le,ee]),Ee=Ae.length===0;function at($){const Z=(c||[]).filter(we=>we.goalId===$).map(we=>({portfolioId:we.portfolioId,allocationPct:we.allocationPct,investmentType:we.investmentType||xe(we.portfolioId)}));B(Z),z($),J(!1)}function Dt(){z(null),B([]),J(!1)}function ar($){O===$?Dt():at($)}function wt(){const $=new Set(F.map(we=>we.portfolioId)),Z=ee.find(we=>!$.has(we.id)&&(Le[we.id]?.total||0)<100);Z&&(B(we=>[...we,{portfolioId:Z.id,allocationPct:0,investmentType:Z.type}]),J(!0))}function Rt($){B(Z=>Z.filter((we,ze)=>ze!==$)),J(!0)}function Yt($,Z,we){B(ze=>ze.map((le,lt)=>{if(lt!==$)return le;if(Z==="allocationPct"){const Ue=Le[le.portfolioId]?.total||0,Be=Math.max(0,100-Ue);return{...le,allocationPct:Math.max(0,Math.min(Be,Number(we)||0))}}if(Z==="portfolioId"){const Ue=ee.find(et=>et.id===we),Be=Le[we]?.total||0,Fe=Math.max(0,100-Be);return{...le,portfolioId:we,investmentType:Ue?.type||xe(we),allocationPct:Math.min(le.allocationPct,Fe)}}return le})),J(!0)}async function lr(){if(Ee){re(!0),S("Saving...");try{await u(O,F.filter($=>$.allocationPct>0)),g("Allocation updated"),Dt()}catch($){g($.message||"Failed to save","error")}finally{y(),re(!1)}}}if(r===null)return a.jsx(di,{title:"Loading goals",cards:5});async function Et($){S("Saving...");try{C?.edit?await i(C.edit.goalId,$):await n($),g(C?.edit?"Goal updated":"Goal added"),k(null)}catch(Z){g(Z.message||"Failed to save goal","error")}finally{y()}}async function be(){if(C?.edit&&await w("Delete this goal?",{title:"Delete Goal",confirmLabel:"Delete"})){const $=C.edit.goalId,Z=(c||[]).filter(we=>we.goalId===$);S("Deleting...");try{if(await l($),k(null),Z.length>0){const we=Z.some(ze=>(c||[]).some(le=>le.portfolioId===ze.portfolioId&&le.goalId!==$));g(we?"Goal deleted  shared allocations freed":"Goal deleted")}else g("Goal deleted")}catch(we){g(we.message||"Failed to delete goal","error")}finally{y()}}}function Ke($){return!$.targetAmount||$.targetAmount===0?0:Math.min(($.currentValue||0)/$.targetAmount*100,100)}function G($){if(!$.targetDate)return null;const we=(new Date($.targetDate)-new Date)/(365.25*24*60*60*1e3);return we>0?we.toFixed(1):"0"}return a.jsxs("div",{className:"space-y-4",children:[L.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(Od,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No goals set",t?` for ${t.memberName}`:""]}),a.jsx("button",{onClick:()=>k("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first goal"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[a.jsx(Qo,{label:"Target",value:K(V),bold:!0}),a.jsx(Qo,{label:"Current Value",value:K(Ne),bold:!0}),a.jsx(Qo,{label:"Gap",value:K(Math.max(V-Ne,0)),positive:V<=Ne,bold:!0}),a.jsx(Qo,{label:"Progress",value:`${W.toFixed(1)}%`,sub:`${L.length} goal${L.length!==1?"s":""}${de>0?`  ${de} done`:""}`,positive:W>=50,bold:!0}),a.jsx(Qo,{label:"Required SIP",value:K(De),sub:ne>0?`${ne} need attention`:"per month"}),a.jsx(Qo,{label:"Required Lumpsum",value:K(P),sub:"one-time today"})]}),D&&a.jsxs("div",{className:"relative bg-gradient-to-r from-emerald-500/10 via-yellow-500/10 to-emerald-500/10 rounded-xl border border-emerald-500/30 px-4 py-3 flex items-center gap-3 animate-fade-in overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:20}).map(($,Z)=>a.jsx("span",{className:"absolute text-sm animate-confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*2}s`},children:["","","","",""][Z%5]},Z))}),a.jsx(YC,{size:20,className:"text-yellow-400 shrink-0 relative z-10"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-sm font-bold text-emerald-400",children:"Goal Achieved!"}),a.jsxs("p",{className:"text-xs text-[var(--text-secondary)]",children:[D.goalName,"  Congratulations!"]})]}),a.jsx("button",{onClick:()=>T(null),className:"ml-auto text-xs text-[var(--text-dim)] hover:text-[var(--text-primary)] relative z-10",children:"Dismiss"})]}),oe.length>0&&a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-amber-500/20 p-4 space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(wB,{size:14,className:"text-amber-400"}),a.jsx("p",{className:"text-xs font-bold text-amber-400 uppercase tracking-wider",children:"De-risking Alerts"})]}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"These goals are approaching their deadline with high equity exposure. Consider moving funds to debt/liquid for capital protection."}),a.jsx("div",{className:"space-y-1.5",children:oe.map($=>a.jsxs("div",{className:"flex items-center justify-between bg-amber-500/5 rounded-lg px-3 py-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:$.goalName}),a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[$.yearsLeft," yrs left"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-xs font-bold text-amber-400",children:[$.equityPct,"% equity"]}),a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["Recommended max ",$.maxEquity,"%"]})]})]},$.goalId))})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>k("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Wr,{size:14})," Add Goal"]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:L.map($=>{const Z=Ke($),we=G($),ze=O===$.goalId,le=ze?F:(c||[]).filter(Be=>Be.goalId===$.goalId),lt=(c||[]).filter(Be=>Be.goalId===$.goalId).length,Ue=le.reduce((Be,Fe)=>{const et=he[Fe.portfolioId];return Be+(et?et.value*Fe.allocationPct/100:0)},0);return a.jsxs("div",{className:`bg-[var(--bg-card)] rounded-xl border overflow-hidden transition-colors ${ze?"border-violet-500/40":"border-[var(--border)]"}`,children:[a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold text-[var(--text-primary)] truncate",children:$.goalName}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:U($)}),a.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded ${Zle[$.priority]||""}`,children:$.priority})]})]}),a.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded-full shrink-0 ${Xle[$.status]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:$.status})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-inset)] rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full transition-all ${Jle[$.status]||"bg-blue-500"}`,style:{width:`${Z}%`}})}),a.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums w-10 text-right",children:[Z.toFixed(0),"%"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1.5 mb-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Current"}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K($.currentValue)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Target"}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K($.targetAmount)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Required SIP"}),a.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:[K($.monthlyInvestment),"/mo"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Timeline"}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:$.status==="Achieved"?"Done":we?`${we} yrs left`:""})]})]}),a.jsxs("div",{className:"flex items-center gap-1 pt-2 border-t border-[var(--border-light)]",children:[a.jsxs("button",{onClick:Be=>{Be.stopPropagation(),ar($.goalId)},className:`flex items-center gap-1 px-2.5 py-1.5 text-[10px] font-semibold rounded-lg transition-colors ${ze?"bg-violet-500/20 text-violet-400":lt>0?"text-violet-400 hover:bg-violet-500/10":"text-amber-400 hover:bg-amber-500/10"}`,children:[a.jsx(vO,{size:11}),ze?"Linking...":lt>0?`${lt} linked`:"Link",!ze&&lt===0&&a.jsx("span",{className:"w-1.5 h-1.5 bg-amber-400 rounded-full animate-pulse"})]}),$.status==="Achieved"&&a.jsxs("button",{onClick:()=>M($),className:"flex items-center gap-1 px-2.5 py-1.5 text-[10px] font-semibold text-[var(--text-dim)] hover:text-emerald-400 hover:bg-emerald-500/10 rounded-lg transition-colors",children:[a.jsx(uO,{size:11})," Withdraw"]}),a.jsxs("button",{onClick:()=>k({edit:$}),className:"flex items-center gap-1 px-2.5 py-1.5 text-[10px] font-semibold text-[var(--text-dim)] hover:text-[var(--text-primary)] hover:bg-white/5 rounded-lg transition-colors ml-auto",children:[a.jsx(ca,{size:11})," Edit"]})]})]}),ze&&a.jsxs("div",{className:"px-4 pb-4 space-y-2 border-t border-violet-500/20 bg-violet-500/[0.03]",children:[a.jsxs("div",{className:"flex items-center justify-between pt-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ul,{size:12,className:"text-violet-400"}),a.jsx("span",{className:"text-xs font-semibold text-violet-400",children:"Link Investments"})]}),Ue>0&&a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["Linked value: ",K(Ue)]})]}),F.map((Be,Fe)=>{const et=ee.find(Pe=>Pe.id===Be.portfolioId),At=Le[Be.portfolioId],gt=At?.total||0,Me=100-gt,We=gt+(Be.allocationPct||0);return a.jsxs("div",{className:`bg-[var(--bg-card)] rounded-lg border p-2.5 space-y-1.5 ${We>100?"border-rose-500/40":"border-[var(--border-light)]"}`,children:[a.jsxs("select",{value:Be.portfolioId,onChange:Pe=>Yt(Fe,"portfolioId",Pe.target.value),className:"w-full px-2 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)]",children:[ke.length>0&&a.jsx("optgroup",{label:"MF Portfolios",children:ke.map(Pe=>{const ot=(Le[Pe.id]?.total||0)>=100,yt=F.some((ae,Se)=>Se!==Fe&&ae.portfolioId===Pe.id);return a.jsxs("option",{value:Pe.id,disabled:yt||ot,children:[Pe.name,Pe.owner?` (${Pe.owner})`:"","  ",K(Pe.value),ot?" (Fully allocated)":""]},Pe.id)})}),He.length>0&&a.jsx("optgroup",{label:"Stock Portfolios",children:He.map(Pe=>{const ot=(Le[Pe.id]?.total||0)>=100,yt=F.some((ae,Se)=>Se!==Fe&&ae.portfolioId===Pe.id);return a.jsxs("option",{value:Pe.id,disabled:yt||ot,children:[Pe.name,Pe.owner?` (${Pe.owner})`:"","  ",K(Pe.value),ot?" (Fully allocated)":""]},Pe.id)})}),ge.length>0&&a.jsx("optgroup",{label:"Other Investments",children:ge.map(Pe=>{const ot=(Le[Pe.id]?.total||0)>=100,yt=F.some((ae,Se)=>Se!==Fe&&ae.portfolioId===Pe.id);return a.jsxs("option",{value:Pe.id,disabled:yt||ot,children:[Pe.name,Pe.owner?` (${Pe.owner})`:"","  ",K(Pe.value),ot?" (Fully allocated)":""]},Pe.id)})})]}),gt>0&&a.jsxs("div",{className:`text-[10px] px-2 py-1 rounded ${We>100?"bg-rose-500/10 text-rose-400":"bg-blue-500/10 text-blue-400"}`,children:[At.goals.map(Pe=>`${Pe.goalName} (${Pe.pct}%)`).join(", "),"  ",a.jsxs("span",{className:"font-bold",children:["Available: ",Math.max(0,Me),"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:"Allocation"}),a.jsx("input",{type:"number",value:Be.allocationPct,onChange:Pe=>Yt(Fe,"allocationPct",Pe.target.value),className:"w-16 px-2 py-1 text-xs text-center bg-[var(--bg-input)] border border-[var(--border-input)] rounded-md text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)]",min:"0",max:Me}),a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"%"}),a.jsx("button",{onClick:()=>Rt(Fe),className:"p-1 text-[var(--text-dim)] hover:text-rose-400 rounded transition-colors ml-1",children:a.jsx(cc,{size:12})})]}),et&&a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["Contributes ",K(et.value*Be.allocationPct/100)]})]})]},Fe)}),Ae.length>0&&a.jsxs("div",{className:"bg-rose-500/10 border border-rose-500/20 rounded-lg px-3 py-2 space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx($s,{size:12,className:"text-rose-400 shrink-0"}),a.jsx("span",{className:"text-[10px] font-bold text-rose-400 uppercase",children:"Over-allocated"})]}),Ae.map((Be,Fe)=>a.jsxs("p",{className:"text-[10px] text-rose-300",children:[Be.name,": ",Be.combined,"% total (exceeds by ",Be.excess,"%)"]},Fe))]}),(()=>{const Be=new Set(F.map(et=>et.portfolioId));return ee.some(et=>!Be.has(et.id)&&(Le[et.id]?.total||0)<100)&&a.jsxs("button",{onClick:wt,className:"flex items-center gap-1.5 text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[a.jsx(Wr,{size:14})," Link Investment"]})})(),a.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2 border-t border-[var(--border-light)]",children:[a.jsx("button",{onClick:Dt,className:"px-4 py-1.5 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),a.jsx("button",{onClick:lr,disabled:!E||!Ee||X,className:"px-5 py-1.5 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Save"})]})]})]},$.goalId)})}),de>0&&a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-emerald-500/20 p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(YC,{size:14,className:"text-yellow-400"}),a.jsx("p",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Achieved Goals"})]}),a.jsx("div",{className:"flex gap-3 overflow-x-auto no-scrollbar pb-1",children:L.filter($=>$.status==="Achieved").map($=>a.jsxs("div",{className:"shrink-0 bg-emerald-500/10 border border-emerald-500/20 rounded-lg px-3 py-2 min-w-[160px]",children:[a.jsx("p",{className:"text-xs font-semibold text-emerald-400",children:$.goalName}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] mt-1",children:K($.targetAmount)}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5",children:U($)})]},$.goalId))})]})]}),a.jsx(fr,{open:!!C,onClose:()=>k(null),title:C?.edit?"Edit Goal":"Add Goal",wide:!0,children:a.jsx(Kle,{initial:C?.edit||void 0,onSave:Et,onDelete:C?.edit?be:void 0,onCancel:()=>k(null)})}),a.jsx(fr,{open:!!A,onClose:()=>M(null),title:`Withdrawal Plan  ${A?.goalName||""}`,wide:!0,children:A&&a.jsx(Qle,{goal:A,onClose:()=>M(null)})})]})}function Qo({label:e,value:t,sub:r,positive:n,bold:i}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:`text-sm tabular-nums ${i?"font-bold":"font-semibold"} ${n===void 0?"text-[var(--text-primary)]":n?"text-emerald-400":"text-[var(--accent-amber)]"}`,children:t}),r&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:r})]})}const toe=[{label:"Family Members",desc:"Manage family profiles",icon:Yl,path:"/family",color:"bg-violet-500/15 text-violet-400"},{label:"Investment Accounts",desc:"Demat & trading accounts",icon:cO,path:"/accounts/investment",color:"bg-blue-500/15 text-blue-400"},{label:"Insurance",desc:"Life & health policies",icon:ac,path:"/insurance",color:"bg-cyan-500/15 text-cyan-400"},{label:"Stocks",desc:"Stock portfolio holdings",icon:rc,path:"/investments/stocks",color:"bg-indigo-500/15 text-indigo-400"},{label:"Other Investments",desc:"FD, PPF, Gold, NPS & more",icon:bO,path:"/investments/other",color:"bg-teal-500/15 text-teal-400"},{label:"Liabilities",desc:"Loans & outstanding balances",icon:Lh,path:"/liabilities",color:"bg-rose-500/15 text-rose-400"},{label:"Reminders",desc:"View and manage reminders",icon:C1,path:"/reminders",color:"bg-amber-500/15 text-[var(--accent-amber)]"}],roe=[{label:"Health Check",desc:"Financial health questionnaire",icon:ly,path:"/health-check",color:"bg-emerald-500/15 text-emerald-400"},{label:"Settings",desc:"App configuration",icon:wO,path:"/settings",color:"bg-slate-500/15 text-[var(--text-muted)]"},{label:"About",desc:"Capital Friends v2.0",icon:Uz,path:"/about",color:"bg-violet-500/15 text-[var(--accent-violet)]"}];function Q5({item:e,onClick:t}){return a.jsxs("button",{onClick:t,className:"w-full flex items-center gap-3 bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-3.5 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[a.jsx("div",{className:`w-9 h-9 rounded-lg flex items-center justify-center shrink-0 ${e.color}`,children:a.jsx(e.icon,{size:17})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:e.label}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)]",children:e.desc})]}),a.jsx(ya,{size:14,className:"text-[var(--text-dim)] shrink-0"})]})}function noe(){const e=Gs(),[t,r]=j.useState(!1);return a.jsxs("div",{className:"space-y-5",children:[a.jsx("h1",{className:"text-base font-bold text-[var(--text-primary)]",children:"More"}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-dim)] px-1",children:"Navigate"}),a.jsx("div",{className:"space-y-1.5",children:toe.map(n=>a.jsx(Q5,{item:n,onClick:()=>e(n.path)},n.label))})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-dim)] px-1",children:"Tools & Settings"}),a.jsx("div",{className:"space-y-1.5",children:roe.map(n=>a.jsx(Q5,{item:n,onClick:()=>e(n.path)},n.label))})]}),a.jsx("button",{onClick:()=>r(!0),className:"w-full text-left bg-gradient-to-r from-pink-500/10 via-violet-500/10 to-pink-500/10 rounded-xl border border-pink-500/25 p-4 hover:from-pink-500/15 hover:via-violet-500/15 hover:to-pink-500/15 transition-colors",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center shrink-0 bg-pink-500/20 text-pink-400",children:a.jsx(_d,{size:20})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold text-pink-400",children:"Support Developer"}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5",children:"Help maintain this app with a small donation"})]}),a.jsx(ya,{size:14,className:"text-pink-400/60 shrink-0"})]})}),a.jsx(DI,{open:t,onClose:()=>r(!1)})]})}const tp=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function aoe(){const e=Gs(),{theme:t,toggle:r}=aO(),{members:n,settings:i,updateSettings:l,updateMember:c,healthCheckCompleted:u}=pt(),{user:f,signOut:m}=eo(),{masked:h,toggleMask:x,mv:v}=_a(),g=n.filter(re=>re.status==="Active"),[S,y]=j.useState("Daily"),[w,C]=j.useState("09"),[k,A]=j.useState("Monday"),[M,D]=j.useState(!1),[T,I]=j.useState(!1),[O,z]=j.useState(!1),[F,B]=j.useState(null);j.useEffect(()=>{!i||!Object.keys(i).length||(i.EmailFrequency&&y(i.EmailFrequency),i.EmailHour!=null&&C(String(i.EmailHour).padStart(2,"0")),i.EmailDayOfWeek!=null&&A(tp[Number(i.EmailDayOfWeek)]||"Monday"))},[i]);async function E(){D(!0),I(!1);try{const re=tp.indexOf(k);await l({EmailFrequency:S==="None"?"None":S,EmailConfigured:S==="None"?"FALSE":"TRUE",EmailHour:String(parseInt(w,10)),EmailMinute:"0",EmailDayOfWeek:String(re>=0?re:1)}),I(!0),setTimeout(()=>I(!1),2e3)}catch(re){alert("Failed to save: "+re.message)}finally{D(!1)}}async function J(){z(!0),B(null);try{const re=await wF();B(re)}catch(re){B({error:re.message})}finally{z(!1)}}function X(re){if(!re)return"Never";try{const L=new Date(re);if(isNaN(L.getTime()))return"Unknown";const U=Date.now(),V=Math.floor((U-L.getTime())/(1e3*60));if(V<1)return"Just now";if(V<60)return V+" min ago";const Ne=Math.floor(V/60);return Ne<24?Ne+"h ago":L.toLocaleDateString("en-IN",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}catch{return"Unknown"}}return a.jsxs("div",{className:"space-y-4 max-w-xl mx-auto",children:[a.jsxs(Sl,{children:[a.jsx(Cl,{icon:a.jsx(PB,{size:14}),title:"Account"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(_n,{label:"Signed in as",children:a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate max-w-[200px]",children:v(f?.email,"email")||""})}),a.jsx(_n,{label:"Name",children:a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:f?.name||""})}),a.jsx("div",{className:"pt-1",children:a.jsxs("button",{onClick:m,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-red-500 border border-red-200 dark:border-red-800/40 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[a.jsx(gO,{size:12}),"Sign Out"]})})]})]}),a.jsxs(Sl,{children:[a.jsx(Cl,{icon:a.jsx(ly,{size:14}),title:"Financial Health Check"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(_n,{label:"Status",children:a.jsx("span",{className:`text-xs font-semibold ${u?"text-emerald-400":"text-[var(--accent-amber)]"}`,children:u?"Completed":"Not completed"})}),a.jsx("div",{className:"flex justify-end pt-1",children:a.jsxs("button",{onClick:()=>e("/health-check"),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-lg border border-[var(--border)] text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx(ly,{size:12}),u?"Update Answers":"Take Health Check"]})})]})]}),a.jsxs(Sl,{children:[a.jsx(Cl,{icon:a.jsx(wz,{size:14}),title:"Data & Sync"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(_n,{label:"Last synced",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:X(i.masterDataLastSync)}),i._stale&&a.jsx("span",{className:"text-[10px] font-bold text-amber-600 px-1.5 py-0.5 rounded bg-amber-100 dark:bg-amber-900/30",children:"STALE"})]})}),i._navDataDate&&a.jsx(_n,{label:"NAV data as of",children:a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:i._navDataDate})}),a.jsx(_n,{label:"Auto-refresh",children:a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Daily at ~6:30 AM"})}),a.jsxs("div",{className:"flex items-center justify-between pt-1",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Refresh MF NAVs, ATH & Stock prices"}),a.jsxs("button",{onClick:J,disabled:O,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-lg bg-violet-600 text-white hover:bg-violet-500 transition-colors disabled:opacity-50",children:[a.jsx(nc,{size:12,className:O?"animate-spin":""}),O?"Refreshing...":"Refresh Now"]})]}),F&&a.jsx("div",{className:`text-xs px-3 py-2 rounded-lg ${F.error?"bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400":"bg-green-50 text-green-600 dark:bg-green-900/20 dark:text-green-400"}`,children:F.error?"Failed: "+F.error:`Done  MF: ${F.mf?.count||0} | ATH: ${F.ath?.count||0} | Stocks: ${F.stocks?.count||0} (${F.duration})`})]})]}),a.jsxs(Sl,{children:[a.jsx(Cl,{icon:a.jsx(Mp,{size:14}),title:"Appearance"}),a.jsx("div",{className:"px-4 py-4",children:a.jsx(_n,{label:"Theme",children:a.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-3 py-1.5 text-xs font-semibold rounded-lg border border-[var(--border)] bg-[var(--bg-inset)] text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[t==="dark"?a.jsx(sy,{size:12}):a.jsx(Mp,{size:12}),t==="dark"?"Dark":"Light"]})})})]}),a.jsxs(Sl,{children:[a.jsx(Cl,{icon:a.jsx(A1,{size:14}),title:"Email Reports"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(_n,{label:"Frequency",children:a.jsx(ty,{value:S,onChange:y,options:["Daily","Weekly","Monthly","None"]})}),S!=="None"&&a.jsx(_n,{label:"Send time",children:a.jsx(ty,{value:w,onChange:C,options:Array.from({length:24},(re,L)=>String(L).padStart(2,"0")),suffix:":00"})}),S==="Weekly"&&a.jsx(_n,{label:"Day",children:a.jsx(ty,{value:k,onChange:A,options:tp.slice(1).concat(tp[0])})}),a.jsx("div",{className:"flex justify-end pt-1",children:a.jsx("button",{onClick:E,disabled:M,className:"px-4 py-1.5 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50",children:M?"Saving...":T?"Saved!":"Save"})}),g.length>0&&a.jsx(a.Fragment,{children:a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"Send report to"}),a.jsx("div",{className:"space-y-2",children:g.map(re=>a.jsx(ioe,{member:re,onToggle:c},re.memberId))})]})}),g.length===0&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] pt-1",children:"Add family members to configure email recipients."})]})]}),a.jsxs(Sl,{children:[a.jsx(Cl,{icon:a.jsx(sd,{size:14}),title:"Privacy"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(_n,{label:"Mask sensitive data",children:a.jsx("button",{onClick:x,className:`relative w-9 h-5 rounded-full transition-colors shrink-0 ${h?"bg-amber-500":"bg-[var(--bg-inset)] border border-[var(--border)]"}`,children:a.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full transition-all ${h?"left-[18px] bg-white":"left-0.5 bg-[var(--text-dim)]"}`})})}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[h?"Sensitive data is hidden. ":"","Masks PAN, Aadhaar, mobile, email, account numbers, client IDs, and policy numbers across the app. Use the ",h?a.jsx(sd,{size:11,className:"inline text-amber-400"}):a.jsx(kp,{size:11,className:"inline"})," icon in the header to quickly toggle."]}),h&&a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[a.jsx(sd,{size:14,className:"text-amber-400 shrink-0"}),a.jsx("p",{className:"text-xs text-amber-400 font-medium",children:"Data masking is active  safe for screen sharing"})]})]})]}),a.jsxs(Sl,{children:[a.jsx(Cl,{icon:a.jsx(hO,{size:14}),title:"Display"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(_n,{label:"Currency",children:a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"INR ()"})}),a.jsx(_n,{label:"Date format",children:a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"DD/MM/YYYY"})})]})]})]})}function Sl({children:e}){return a.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:e})}function Cl({icon:e,title:t}){return a.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[var(--text-muted)]",children:e}),a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:t})]})})}function _n({label:e,children:t}){return a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] shrink-0",children:e}),t]})}function ty({value:e,onChange:t,options:r,suffix:n}){return a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:e,onChange:i=>t(i.target.value),className:"appearance-none pl-3 pr-7 py-1.5 text-xs font-semibold bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-violet-500 cursor-pointer",children:r.map(i=>a.jsxs("option",{value:i,children:[i,n||""]},i))}),a.jsx(Ul,{size:10,className:"absolute right-2 top-1/2 -translate-y-1/2 text-[var(--text-dim)] pointer-events-none"})]})}function ioe({member:e,onToggle:t}){const{mv:r}=_a(),n=e.includeInEmailReports==="Yes"||e.includeInEmailReports===!0,[i,l]=j.useState(!1);async function c(){l(!0);try{await t(e.memberId,{...e,includeInEmailReports:n?"No":"Yes"})}catch{}finally{l(!1)}}return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-violet-100 dark:bg-violet-900/30 flex items-center justify-center shrink-0",children:a.jsx("span",{className:"text-[10px] font-bold text-violet-600",children:e.memberName?.charAt(0)?.toUpperCase()})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate",children:r(e.memberName,"name")}),e.email&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] truncate",children:r(e.email,"email")})]})]}),a.jsx("button",{onClick:c,disabled:i,className:`relative w-9 h-5 rounded-full transition-colors shrink-0 disabled:opacity-50 ${n?"bg-violet-500":"bg-[var(--bg-inset)] border border-[var(--border)]"}`,children:a.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full transition-all ${n?"left-[18px] bg-white":"left-0.5 bg-[var(--text-dim)]"}`})})]})}const soe=["SIP Due Date","Insurance Renewal","FD Maturity","Loan EMI","Investment Review","Custom"].map(e=>({value:e,label:e})),loe=[{value:"One-time",label:"One-time"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"},{value:"Yearly",label:"Yearly"}],ooe=[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}];function coe({initial:e,onSave:t,onDelete:r,onCancel:n}){const i=!!e,{activeMembers:l}=pt(),c=l.map(w=>({value:w.memberId,label:w.memberName})),[u,f]=j.useState({reminderType:e?.reminderType||"",title:e?.title||"",description:e?.description||"",familyMemberId:e?.familyMemberId||"",dueDate:e?.dueDate||"",advanceNoticeDays:e?.advanceNoticeDays?.toString()||"7",frequency:e?.frequency||"One-time",priority:e?.priority||"Medium",status:e?.status||"Pending"}),[m,h]=j.useState({}),[x,v]=j.useState(!1);function g(w,C){f(k=>({...k,[w]:C})),h(k=>({...k,[w]:void 0}))}function S(){const w={};return u.reminderType||(w.reminderType="Required"),u.title.trim()||(w.title="Required"),u.familyMemberId||(w.familyMemberId="Required"),u.dueDate||(w.dueDate="Required"),h(w),Object.keys(w).length===0}async function y(){if(S()){v(!0);try{await t({...u,advanceNoticeDays:Number(u.advanceNoticeDays)||7})}finally{v(!1)}}}return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Reminder Type",required:!0,error:m.reminderType,children:a.jsx(Je,{value:u.reminderType,onChange:w=>g("reminderType",w),options:soe,placeholder:"Select type..."})}),a.jsx(me,{label:"Title",required:!0,error:m.title,children:a.jsx(Ie,{value:u.title,onChange:w=>g("title",w),placeholder:"e.g., HDFC SIP Due"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Family Member",required:!0,error:m.familyMemberId,children:a.jsx(Je,{value:u.familyMemberId,onChange:w=>g("familyMemberId",w),options:c,placeholder:"Select member..."})}),a.jsx(me,{label:"Due Date",required:!0,error:m.dueDate,children:a.jsx(Ca,{value:u.dueDate,onChange:w=>g("dueDate",w),maxDate:null})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(me,{label:"Frequency",children:a.jsx(Je,{value:u.frequency,onChange:w=>g("frequency",w),options:loe})}),a.jsx(me,{label:"Priority",children:a.jsx(Je,{value:u.priority,onChange:w=>g("priority",w),options:ooe})}),a.jsx(me,{label:"Advance Notice (days)",children:a.jsx(Ie,{type:"number",value:u.advanceNoticeDays,onChange:w=>g("advanceNoticeDays",w),placeholder:"7"})})]}),i&&a.jsx(me,{label:"Status",children:a.jsx(Je,{value:u.status,onChange:w=>g("status",w),options:[{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"}]})}),a.jsx(me,{label:"Description",children:a.jsx(Sc,{value:u.description,onChange:w=>g("description",w),placeholder:"Optional details...",rows:2})}),a.jsxs("div",{className:"flex items-center justify-between",children:[i&&r?a.jsx(ns,{onClick:r,label:"Delete"}):a.jsx("div",{}),a.jsx(on,{onCancel:n,onSubmit:y,submitLabel:i?"Update Reminder":"Add Reminder",loading:x})]})]})}const rp={"SIP Due Date":"bg-violet-500/15 text-[var(--accent-violet)]","Insurance Renewal":"bg-amber-500/15 text-[var(--accent-amber)]","FD Maturity":"bg-blue-500/15 text-[var(--accent-blue)]","Loan EMI":"bg-rose-500/15 text-[var(--accent-rose)]","Investment Review":"bg-emerald-500/15 text-emerald-400",Custom:"bg-slate-500/15 text-[var(--text-muted)]"},X5={High:"bg-rose-500",Medium:"bg-amber-500",Low:"bg-blue-500"};function Xo(e){if(!e)return 1/0;const t=new Date(e)-new Date;return Math.ceil(t/(1440*60*1e3))}function uoe(){const{selectedMember:e,member:t}=Fr(),{reminderList:r,addReminder:n,updateReminder:i,deleteReminder:l}=pt(),{showToast:c,showBlockUI:u,hideBlockUI:f}=li(),m=oi(),[h,x]=j.useState(null),v=j.useMemo(()=>{const M=r.filter(D=>D.isActive!==!1);return e==="all"?M:M.filter(D=>D.familyMemberId===e)},[r,e]),g=v.filter(M=>Xo(M.dueDate)<0).length,S=v.filter(M=>{const D=Xo(M.dueDate);return D>=0&&D<=7}).length,y=v.filter(M=>{const D=Xo(M.dueDate);return D>7&&D<=30}).length,w=[...v].sort((M,D)=>{const T=Xo(M.dueDate),I=Xo(D.dueDate);return T-I});async function C(M){u("Saving...");try{h?.edit?await i(h.edit.reminderId,M):await n(M),c(h?.edit?"Reminder updated":"Reminder added"),x(null)}catch(D){c(D.message||"Failed to save reminder","error")}finally{f()}}async function k(){if(h?.edit&&await m("Delete this reminder?",{title:"Delete Reminder",confirmLabel:"Delete"})){u("Deleting...");try{await l(h.edit.reminderId),c("Reminder deleted"),x(null)}catch(M){c(M.message||"Failed to delete reminder","error")}finally{f()}}}function A(M){const D=Xo(M);return D<0?{label:`${Math.abs(D)}d overdue`,cls:"bg-rose-500/20 text-[var(--accent-rose)]"}:D===0?{label:"Today",cls:"bg-rose-500/20 text-[var(--accent-rose)]"}:D<=7?{label:`${D}d`,cls:"bg-amber-500/20 text-[var(--accent-amber)]"}:D<=30?{label:`${D}d`,cls:"bg-blue-500/20 text-[var(--accent-blue)]"}:{label:`${D}d`,cls:"bg-slate-500/20 text-[var(--text-muted)]"}}return a.jsxs("div",{className:"space-y-4",children:[v.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(QF,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No reminders",t?` for ${t.memberName}`:""]}),a.jsx("button",{onClick:()=>x("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add a reminder"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(np,{label:"Active",value:v.length}),g>0&&a.jsx(np,{label:"Overdue",value:g,color:"rose"}),S>0&&a.jsx(np,{label:"Due This Week",value:S,color:"amber"}),a.jsx(np,{label:"Next 30 Days",value:y})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>x("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Wr,{size:14})," Add Reminder"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[680px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Reminder"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),!t&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Due Date"}),a.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Frequency"}),a.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:w.map(M=>{const D=A(M.dueDate);return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${X5[M.priority]||"bg-slate-400"}`}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:M.title}),M.description&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] truncate max-w-[200px]",children:M.description})]})]})}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${rp[M.reminderType]||rp.Custom}`,children:M.reminderType})}),!t&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:M.familyMemberName}),a.jsx("td",{className:"py-2.5 px-3 text-center",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:M.dueDate}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${D.cls}`,children:D.label})]})}),a.jsx("td",{className:"py-2.5 px-3 text-center text-xs text-[var(--text-muted)]",children:M.frequency}),a.jsx("td",{className:"py-2.5 px-3 text-center",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${M.status==="Pending"?"bg-amber-500/15 text-[var(--accent-amber)]":"bg-emerald-500/15 text-emerald-400"}`,children:M.status})}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>x({edit:M}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(ca,{size:12})})})]},M.reminderId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:w.map(M=>{const D=A(M.dueDate);return a.jsxs("div",{onClick:()=>x({edit:M}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${X5[M.priority]||"bg-slate-400"}`}),a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:M.title})]}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ml-2 ${rp[M.reminderType]||rp.Custom}`,children:M.reminderType})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[M.familyMemberName,"  ",M.frequency]}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${D.cls}`,children:D.label})]})]},M.reminderId)})})]})]}),a.jsx(fr,{open:!!h,onClose:()=>x(null),title:h?.edit?"Edit Reminder":"Add Reminder",wide:!0,children:a.jsx(coe,{initial:h?.edit||void 0,onSave:C,onDelete:h?.edit?k:void 0,onCancel:()=>x(null)})})]})}function np({label:e,value:t,color:r}){const n=r==="rose"?"text-[var(--accent-rose)]":r==="amber"?"text-[var(--accent-amber)]":"text-[var(--text-primary)]";return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:`text-sm font-bold tabular-nums ${n}`,children:t})]})}const Z5={BUY:"bg-emerald-500/15 text-emerald-400",SELL:"bg-rose-500/15 text-[var(--accent-rose)]"},doe={INITIAL:"bg-violet-500/15 text-[var(--accent-violet)]",SIP:"bg-blue-500/15 text-[var(--accent-blue)]",LUMPSUM:"bg-emerald-500/15 text-emerald-400",WITHDRAWAL:"bg-amber-500/15 text-[var(--accent-amber)]",SWITCH:"bg-orange-500/15 text-[var(--accent-orange)]"};function foe(){const{selectedMember:e}=Fr(),{mfTransactions:t,mfPortfolios:r,stockTransactions:n,stockPortfolios:i}=pt(),[l,c]=j.useState("mf"),[u,f]=j.useState("all"),m=j.useMemo(()=>{let y=[...t].sort((w,C)=>new Date(C.date)-new Date(w.date));if(e!=="all"){const w=new Set(r.filter(C=>C.ownerId===e).map(C=>C.portfolioId));y=y.filter(C=>w.has(C.portfolioId))}return u!=="all"&&(y=y.filter(w=>w.type===u)),y},[t,r,e,u]),h=j.useMemo(()=>{let y=[...n].sort((w,C)=>new Date(C.date)-new Date(w.date));if(e!=="all"){const w=new Set(i.filter(C=>C.ownerId===e).map(C=>C.portfolioId));y=y.filter(C=>w.has(C.portfolioId))}return u!=="all"&&(y=y.filter(w=>w.type===u)),y},[n,i,e,u]),x=l==="mf"?m:h,v=x.filter(y=>y.type==="BUY").reduce((y,w)=>y+(w.totalAmount||0),0),g=x.filter(y=>y.type==="SELL").reduce((y,w)=>y+(w.totalAmount||0),0),S=x.reduce((y,w)=>y+(w.gainLoss||w.realizedPL||0),0);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(ap,{label:"Transactions",value:x.length}),a.jsx(ap,{label:"Total Bought",value:K(v)}),a.jsx(ap,{label:"Total Sold",value:K(g)}),a.jsx(ap,{label:"Realized P&L",value:`${S>=0?"+":""}${K(Math.abs(S))}`,positive:S>=0,bold:!0})]}),a.jsxs("div",{className:"flex items-center justify-between px-1",children:[a.jsx("div",{className:"flex gap-1",children:["mf","stocks"].map(y=>a.jsx("button",{onClick:()=>c(y),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${l===y?"bg-violet-500/20 text-violet-400 border border-violet-500/30":"text-[var(--text-dim)] hover:text-[var(--text-primary)] border border-transparent"}`,children:y==="mf"?"Mutual Funds":"Stocks"},y))}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(pO,{size:12,className:"text-[var(--text-dim)]"}),["all","BUY","SELL"].map(y=>a.jsx("button",{onClick:()=>f(y),className:`px-2 py-1 text-xs font-semibold rounded transition-colors ${u===y?"bg-[var(--bg-card)] text-[var(--text-primary)] border border-[var(--border)]":"text-[var(--text-dim)] hover:text-[var(--text-muted)]"}`,children:y==="all"?"All":y},y))]})]}),a.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:x.length===0?a.jsxs("div",{className:"py-12 flex flex-col items-center gap-3",children:[a.jsx(Iz,{size:32,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions found"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:l==="mf"?"Fund":"Stock"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Portfolio"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:l==="mf"?"Units":"Qty"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:l==="mf"?"NAV":"Price"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"})]})}),a.jsx("tbody",{children:x.map(y=>{const w=y.gainLoss||y.realizedPL||0;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-muted)] tabular-nums",children:y.date}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${Z5[y.type]||""}`,children:y.type}),y.transactionType&&a.jsx("span",{className:`text-[10px] font-semibold px-1 py-0.5 rounded ${doe[y.transactionType]||""}`,children:y.transactionType})]})}),a.jsxs("td",{className:"py-2.5 px-3",children:[y.fundName?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate max-w-[180px]",children:Re(y.fundName).main}),Re(y.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Re(y.fundName).plan})]}):a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate max-w-[180px]",children:y.companyName}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:y.fundCode||y.symbol})]}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)]",children:y.portfolioName||""}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:(y.units||y.quantity||0).toFixed(l==="mf"?2:0)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:K(y.price||y.pricePerShare||0)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(y.totalAmount||0)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:w!==0?a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${w>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[w>=0?"+":"",K(Math.abs(w))]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})]},y.transactionId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:x.map(y=>(y.gainLoss||y.realizedPL,a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("div",{className:"flex-1 min-w-0 mr-2",children:y.fundName?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:Re(y.fundName).main}),Re(y.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Re(y.fundName).plan})]}):a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:y.companyName})}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded shrink-0 ${Z5[y.type]||""}`,children:y.type})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[y.date,"  ",y.portfolioName]}),a.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[a.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[(y.units||y.quantity||0).toFixed(l==="mf"?2:0)," @ ",K(y.price||y.pricePerShare||0)]}),a.jsx("span",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(y.totalAmount||0)})]})]},y.transactionId)))})]})})]})}function ap({label:e,value:t,positive:r,bold:n}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:`text-sm tabular-nums ${n?"font-bold":"font-semibold"} ${r===void 0?"text-[var(--text-primary)]":r?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:t})]})}const Ha=[{id:"healthIns",question:"Does your family have Health Insurance?",tip:"50L to 1Cr family floater recommended (considering inflation & future expenses)",category:"Insurance",autoFromPolicies:!0},{id:"termLife",question:"Do you have adequate Term Life Insurance?",tip:"Recommended: 10-15x annual income",category:"Insurance",autoFromPolicies:!0},{id:"emergencyFund",question:"Do you have an Emergency Fund?",tip:"6-12 months of monthly expenses in liquid assets",category:"Savings"},{id:"familyAware",question:"Is your family aware of all investments?",tip:"Ensure nominees and family know about all assets",category:"Planning"},{id:"hasWill",question:"Do you have a Will?",tip:"Legal document for asset distribution",category:"Planning"},{id:"nominees",question:"Have you updated Nominees on all accounts?",tip:"Bank, demat, insurance, MF  all should have nominees",category:"Planning"},{id:"goals",question:"Do you have clearly defined Financial Goals?",tip:"Retirement, education, home  with target amounts and dates",category:"Goals"}];function moe(){const e=Gs(),{members:t,insurancePolicies:r,goalList:n,otherInvList:i,healthCheckCompleted:l,completeHealthCheck:c}=pt(),u=t.filter(F=>F.status==="Active"),f=l===!1,[m,h]=j.useState(!1),[x,v]=j.useState(!0),[g,S]=j.useState(null),y=j.useMemo(()=>{const F={},B=r.filter(re=>re.policyType==="Health"&&re.status==="Active");F.healthIns=B.length>0;const E=r.filter(re=>re.policyType==="Term Life"&&re.status==="Active");F.termLife=E.length>0;const J=n.filter(re=>re.goalType==="Emergency Fund"&&re.isActive),X=i.filter(re=>re.investmentType==="FD"||re.investmentType==="PPF");return F.emergencyFund=J.length>0||X.length>0,F.goals=n.filter(re=>re.isActive).length>=2,F},[r,n,i]);j.useEffect(()=>{let F=!1;async function B(){const E=await eO("healthCheckAnswers");!F&&E&&(S(E),v(!1));try{const J=await J_();!F&&J&&(S(J),rn("healthCheckAnswers",J))}catch{}F||v(!1)}return B(),()=>{F=!0}},[]);const[w,C]=j.useState(()=>{const F={};return Ha.forEach(B=>{F[B.id]=B.autoFromPolicies?y[B.id]?"yes":"no":y[B.id]?"yes":""}),F});j.useEffect(()=>{g&&C(F=>{const B={...F};return Ha.forEach(E=>{if(E.autoFromPolicies)B[E.id]=y[E.id]?"yes":"no";else{const J=g[E.id];J==="Yes"?B[E.id]="yes":J==="No"&&(B[E.id]="no")}}),B})},[g,y]);const k=Object.values(w).filter(F=>F).length,A=Object.values(w).filter(F=>F==="yes").length,M=k===Ha.length,D=k>0?Math.round(A/Ha.length*100):0;function T(){return D>=80?"text-emerald-400":D>=50?"text-[var(--accent-amber)]":"text-[var(--accent-rose)]"}function I(){return D>=80?"Excellent":D>=60?"Good":D>=40?"Needs Work":"Critical"}const O=j.useMemo(()=>{const F=[];return w.healthIns!=="yes"&&F.push({severity:"critical",text:"Get Health Insurance for your family",action:"Minimum 5L cover recommended"}),w.termLife!=="yes"&&F.push({severity:"critical",text:"Get Term Life Insurance (10-15x annual income)",action:"Compare plans online"}),w.emergencyFund!=="yes"&&F.push({severity:"warning",text:"Build an Emergency Fund",action:"Save 6-12 months expenses in liquid fund/FD"}),w.familyAware!=="yes"&&F.push({severity:"warning",text:"Share investment details with family",action:"Create a document with all account info"}),w.hasWill!=="yes"&&F.push({severity:"warning",text:"Create a legal Will",action:"Consult a lawyer for Will registration"}),w.nominees!=="yes"&&F.push({severity:"warning",text:"Update nominees on all accounts",action:"Check bank, demat, insurance, MF accounts"}),w.goals!=="yes"&&F.push({severity:"info",text:"Define clear financial goals",action:"Use the Goal Planner to set targets"}),F},[w]),z=j.useCallback(async()=>{if(M){h(!0);try{const F={};Ha.forEach(B=>{F[B.id]=w[B.id]==="yes"?"Yes":"No"}),F.score=A,F.total=Ha.length,await c(F),e("/dashboard")}catch(F){console.error("Failed to save health check:",F)}finally{h(!1)}}},[M,w,A,c,e]);return a.jsxs("div",{className:"space-y-4 max-w-2xl mx-auto",children:[f&&a.jsxs("div",{className:"bg-violet-500/10 border border-violet-500/20 rounded-xl p-4",children:[a.jsx("h2",{className:"text-base font-bold text-violet-400 mb-1",children:"Welcome to Capital Friends!"}),a.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Before you start, please complete this quick Financial Health Check. It takes less than a minute and helps you understand where your family stands financially."})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fO,{size:16,className:"text-violet-400"}),a.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:"Financial Health Score"})]}),a.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[k,"/",Ha.length," answered"]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative w-20 h-20",children:[a.jsxs("svg",{className:"w-20 h-20 -rotate-90",viewBox:"0 0 36 36",children:[a.jsx("path",{d:"M18 2.0845a 15.9155 15.9155 0 0 1 0 31.831a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"var(--border)",strokeWidth:"3"}),a.jsx("path",{d:"M18 2.0845a 15.9155 15.9155 0 0 1 0 31.831a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:`${D}, 100`,className:T(),strokeLinecap:"round"})]}),a.jsxs("span",{className:`absolute inset-0 flex items-center justify-center text-lg font-bold ${T()}`,children:[D,"%"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:`text-base font-bold ${T()}`,children:I()}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:[A," of ",Ha.length," checks passed"]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[u.length," family members tracked"]})]})]})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Health Check Questions"})}),a.jsx("div",{className:"divide-y divide-[var(--border-light)]",children:Ha.map((F,B)=>{const E=F.autoFromPolicies;return a.jsxs("div",{className:`px-4 py-3 ${E?"opacity-80":""}`,children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"text-sm text-[var(--text-primary)]",children:[a.jsxs("span",{className:"text-[var(--text-dim)] mr-2",children:[B+1,"."]}),F.question]}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5 ml-5",children:F.tip})]}),a.jsxs("div",{className:"flex gap-1 shrink-0",children:[a.jsx("button",{onClick:()=>!E&&C(J=>({...J,[F.id]:"yes"})),disabled:E,className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${w[F.id]==="yes"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"bg-[var(--bg-inset)] text-[var(--text-dim)] border border-[var(--border)] hover:text-[var(--text-primary)]"} ${E?"cursor-not-allowed":""}`,children:"Yes"}),a.jsx("button",{onClick:()=>!E&&C(J=>({...J,[F.id]:"no"})),disabled:E,className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${w[F.id]==="no"?"bg-rose-500/20 text-[var(--accent-rose)] border border-rose-500/30":"bg-[var(--bg-inset)] text-[var(--text-dim)] border border-[var(--border)] hover:text-[var(--text-primary)]"} ${E?"cursor-not-allowed":""}`,children:"No"})]})]}),E&&a.jsx("p",{className:"text-xs text-violet-400 mt-1 ml-5",children:y[F.id]?"Auto-detected: policy found in your data":"Auto-set: add a policy under Insurance to update"})]},F.id)})})]}),O.length>0&&M&&a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Recommendations"})}),a.jsx("div",{className:"divide-y divide-[var(--border-light)]",children:O.map((F,B)=>{const E=F.severity==="critical"?a.jsx(dO,{size:14,className:"text-[var(--accent-rose)]"}):F.severity==="warning"?a.jsx($s,{size:14,className:"text-[var(--accent-amber)]"}):a.jsx(fz,{size:14,className:"text-[var(--accent-blue)]"});return a.jsxs("div",{className:"flex items-start gap-3 px-4 py-3",children:[a.jsx("span",{className:"shrink-0 mt-0.5",children:E}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-[var(--text-primary)]",children:F.text}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:F.action})]})]},B)})})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[!M&&a.jsxs("p",{className:"text-xs text-[var(--accent-amber)] mb-3",children:["Please answer all ",Ha.length," questions before saving."]}),a.jsx("button",{onClick:z,disabled:!M||m,className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg text-sm font-bold transition-colors ${M&&!m?"bg-violet-600 hover:bg-violet-500 text-white":"bg-[var(--bg-inset)] text-[var(--text-dim)] cursor-not-allowed"}`,children:m?a.jsxs(a.Fragment,{children:[a.jsx(cd,{size:16,className:"animate-spin"}),"Saving..."]}):f?a.jsxs(a.Fragment,{children:["Save & Continue to Dashboard",a.jsx(VF,{size:16})]}):a.jsxs(a.Fragment,{children:[a.jsx(yO,{size:16}),"Update Health Check"]})})]})]})}const poe=[{icon:rc,color:"text-violet-400 bg-violet-500/15",text:"Track Mutual Funds, Stocks & Other Investments"},{icon:Yl,color:"text-blue-400 bg-blue-500/15",text:"Family member-wise portfolio management"},{icon:Od,color:"text-emerald-400 bg-emerald-500/15",text:"Goal planning with portfolio mapping"},{icon:ac,color:"text-cyan-400 bg-cyan-500/15",text:"Insurance, Liabilities & Bank Accounts"},{icon:CB,color:"text-amber-400 bg-amber-500/15",text:"ATH-based Buy Opportunities & Smart Rebalancing"},{icon:A1,color:"text-rose-400 bg-rose-500/15",text:"Email reports, Reminders & Financial Health Check"}];function hoe(){return a.jsxs("div",{className:"space-y-4 max-w-lg mx-auto",children:[a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-6 text-center",children:[a.jsx("img",{src:"/logo-new.png",alt:"Capital Friends",className:"h-16 w-auto mx-auto mb-3"}),a.jsxs("h1",{className:"text-lg font-bold text-[var(--text-primary)]",style:{fontFamily:"'Poppins', sans-serif"},children:[a.jsx("span",{children:"Capital"}),a.jsx("span",{className:"text-emerald-400",children:"Friends"})]}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"Family Portfolio Manager"}),a.jsxs("div",{className:"flex items-center justify-center gap-3 mt-3",children:[a.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-lg text-[11px] font-semibold bg-violet-500/10 text-violet-400",children:"v2.0"}),a.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-lg text-[11px] font-medium bg-emerald-500/10 text-emerald-400",children:"Open Source"})]})]}),a.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:a.jsx("p",{className:"text-[13px] text-[var(--text-secondary)] leading-relaxed",children:"Capital Friends helps Indian families track, manage, and grow their wealth  all from a single Google Sheet powered by a modern web app."})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Features"})}),a.jsx("div",{className:"px-4 py-3 space-y-3",children:poe.map(e=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-7 h-7 rounded-lg flex items-center justify-center shrink-0 ${e.color}`,children:a.jsx(e.icon,{size:14})}),a.jsx("p",{className:"text-xs text-[var(--text-secondary)]",children:e.text})]},e.text))})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Links & Feedback"})}),a.jsxs("div",{className:"divide-y divide-[var(--border-light)]",children:[a.jsxs("a",{href:"https://github.com/jagadeeshkmanne/capital-friends",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center shrink-0 bg-slate-500/15 text-[var(--text-muted)]",children:a.jsx(Fz,{size:17})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:"GitHub Repository"}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)]",children:"View source code and contribute"})]}),a.jsx(ya,{size:14,className:"text-[var(--text-dim)] shrink-0"})]}),a.jsxs("a",{href:"https://capitalfriends.in",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center shrink-0 bg-emerald-500/15 text-emerald-400",children:a.jsx(hO,{size:17})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:"capitalfriends.in"}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)]",children:"Official website"})]}),a.jsx(ya,{size:14,className:"text-[var(--text-dim)] shrink-0"})]}),a.jsxs("a",{href:"https://github.com/jagadeeshkmanne/capital-friends/issues/new?labels=enhancement&template=feature_request.md&title=%5BFeature%5D+",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center shrink-0 bg-violet-500/15 text-violet-400",children:a.jsx(iB,{size:17})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:"Request a Feature"}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)]",children:"Suggest new features or improvements"})]}),a.jsx(ya,{size:14,className:"text-[var(--text-dim)] shrink-0"})]}),a.jsxs("a",{href:"https://github.com/jagadeeshkmanne/capital-friends/issues/new?labels=bug&template=bug_report.md&title=%5BBug%5D+",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center shrink-0 bg-rose-500/15 text-rose-400",children:a.jsx(ez,{size:17})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:"Report a Bug"}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)]",children:"Found something wrong? Let us know"})]}),a.jsx(ya,{size:14,className:"text-[var(--text-dim)] shrink-0"})]})]})]}),a.jsxs("div",{className:"text-center py-3",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Built with ",a.jsx(_d,{size:10,className:"inline text-pink-400 mx-0.5"})," by Jagadeesh Manne"]}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-1",children:"React + Vite + Tailwind CSS + Google Apps Script"})]})]})}function xoe(){return Date.now().toString(36).toUpperCase()}function voe(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",t=r=>Array.from({length:r},()=>e[Math.floor(Math.random()*26)]).join("");return t(5)+Math.floor(1e3+Math.random()*9e3)+t(1)}function goe(){return String(Math.floor(2e11+Math.random()*8e11))}function J5(){return"9"+String(Math.floor(1e8+Math.random()*9e8))}function boe(){return String(Math.floor(1e9+Math.random()*9e9))}function yoe(){const e=xoe();return{member:{memberName:`Test Member ${e}`,relationship:"Self",pan:voe(),aadhar:goe(),email:`test-${e.toLowerCase()}@example.com`,mobile:J5(),includeInEmailReports:!0},bank:{accountName:`Test Savings ${e}`,bankName:"Test Bank",accountNumber:boe(),ifscCode:"TEST0001234",accountType:"Savings",branchName:"Test Branch"},investmentAccount:{accountName:`Test Demat ${e}`,accountType:"Demat",platformBroker:"Test Broker Platform",accountClientId:`CLI-${e}`,registeredEmail:`test-${e.toLowerCase()}@example.com`,registeredPhone:J5()},insurance:{policyType:"Term Life",company:"Test Insurance Co",policyNumber:`POL-${e}`,policyName:`Test Term Plan ${e}`,sumAssured:5e6,nominee:"Test Nominee",dynamicFields:{Premium:15e3,"Premium Frequency":"Annual"}},liability:{liabilityType:"Home Loan",lenderName:"Test Bank",outstandingBalance:45e5,dynamicFields:{"Principal Amount":5e6,"Interest Rate":8.5,"EMI Amount":45e3},notes:`Test liability ${e}`},otherInvestment:{investmentType:"Fixed Deposit",investmentName:`Test FD ${e}`,investedAmount:1e5,currentValue:105e3,investmentCategory:"Debt"},stockPortfolio:{portfolioName:`Test Stock Portfolio ${e}`,broker:"Test Broker"},reminder:{title:`Test Reminder ${e}`,description:"Automated test reminder",dueDate:new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0],category:"Insurance",priority:"Medium"},goal:{goalName:`Test Goal ${e}`,goalType:"Custom",targetAmount:1e6,targetDate:"2040-01-01",priority:"Medium",expectedInflation:.06,expectedCAGR:.12}}}function joe({status:e,text:t}){const r={pass:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",fail:"bg-rose-500/20 text-rose-400 border-rose-500/30",skip:"bg-amber-500/20 text-amber-400 border-amber-500/30",running:"bg-blue-500/20 text-blue-400 border-blue-500/30",pending:"bg-gray-500/20 text-gray-400 border-gray-500/30"};return a.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded border ${r[e]||r.pending}`,children:t||e.toUpperCase()})}function woe(){const{user:e}=eo(),[t,r]=j.useState([]),[n,i]=j.useState(!1),[l,c]=j.useState(null),[u,f]=j.useState(!1),m=j.useCallback((w,C,k="")=>{r(A=>[...A,{test:w,status:C,detail:k,time:new Date().toLocaleTimeString()}])},[]),h=j.useCallback((w,C="")=>{r(k=>{const A=[...k];return A.length>0&&(A[A.length-1]={...A[A.length-1],status:w,detail:C}),A})},[]),x=async()=>{f(!0),c(null);try{const w=await Oe("test:diagnose");c(w)}catch(w){c({error:w.message})}finally{f(!1)}},v=async()=>{i(!0),r([]);const w=yoe();let C=null,k=null,A=null,M=null,D=null,T=null,I=null,O=null,z=null,F=null;try{m("API Echo Test","running");try{const E=await Oe("test:echo",{hello:"world"});E&&E.echo&&E.echo.hello==="world"?h("pass","Echo response received correctly"):h("fail","Unexpected response: "+JSON.stringify(E))}catch(E){h("fail",E.message)}m("Diagnostics","running");try{const E=await Oe("test:diagnose"),J=Object.entries(E.sheets||{}).filter(([,re])=>!re.exists).map(([re])=>re);if(J.length>0)h("fail",`Missing sheets: ${J.join(", ")}`);else{const re=Object.keys(E.sheets).length;h("pass",`All ${re} sheets exist. SpreadsheetId: ${E.spreadsheetId}`)}const X=Object.entries(E.dataTests||{}).filter(([,re])=>!re.success).map(([re,L])=>`${re}: ${L.error}`);X.length>0&&m("Data Function Errors","fail",X.join("; "))}catch(E){h("fail",E.message)}m("Load All Data (bulk)","running");try{const E=await Cp(),J=Object.entries(E).map(([X,re])=>`${X}: ${Array.isArray(re)?re.length:"?"}`);h("pass",J.join(", "))}catch(E){h("fail",E.message)}m("Members  Create","running");try{const E=await A_(w.member);C=E?.memberId,k=w.member.memberName,C?h("pass",`Created: ${C}`):h("fail","No memberId returned: "+JSON.stringify(E))}catch(E){h("fail",E.message)}m("Members  List","running");try{const E=await C_();Array.isArray(E)&&E.some(X=>X.memberId===C)?h("pass",`Found ${C} in ${E.length} member(s)`):h("fail",`Member ${C} not found. Got ${Array.isArray(E)?E.length:0} members: ${JSON.stringify(E).substring(0,200)}`)}catch(E){h("fail",E.message)}if(C){m("Members  Update","running");try{await k_({...w.member,memberId:C,memberName:"Updated Test Member"}),k="Updated Test Member",h("pass",'Updated name to "Updated Test Member"')}catch(E){h("fail",E.message)}}m("Banks  Create","running");try{const E=await E_({...w.bank,memberId:C||"FM-001"});A=E?.accountId,h(A?"pass":"fail",A?`Created: ${A}`:"No accountId: "+JSON.stringify(E))}catch(E){h("fail",E.message)}m("Banks  List","running");try{const E=await D_();h("pass",`${Array.isArray(E)?E.length:0} account(s)`)}catch(E){h("fail",E.message)}m("Investment Accounts  Create","running");try{const E=await T_({...w.investmentAccount,memberId:C||"FM-001",bankAccountId:A||"BA-001"});M=E?.accountId,h(M?"pass":"fail",M?`Created: ${M}`:"No accountId: "+JSON.stringify(E))}catch(E){h("fail",E.message)}m("Investment Accounts  List","running");try{const E=await O_();h("pass",`${Array.isArray(E)?E.length:0} account(s)`)}catch(E){h("fail",E.message)}m("Insurance  Create","running");try{const E=await z_({...w.insurance,memberId:C||"FM-001",insuredMember:k||"Test Member"});D=E?.policyId,h(D?"pass":"fail",D?`Created: ${D}`:"No policyId: "+JSON.stringify(E))}catch(E){h("fail",E.message)}m("Insurance  List","running");try{const E=await F_();h("pass",`${Array.isArray(E)?E.length:0} policy/policies`)}catch(E){h("fail",E.message)}m("Liabilities  Create","running");try{const E=await q_({...w.liability,familyMember:C||"FM-001"});T=E?.liabilityId,h(T?"pass":"fail",T?`Created: ${T}`:"No liabilityId: "+JSON.stringify(E))}catch(E){h("fail",E.message)}m("Liabilities  List","running");try{const E=await $_();h("pass",`${Array.isArray(E)?E.length:0} liability/liabilities`)}catch(E){h("fail",E.message)}m("Other Investments  Create","running");try{const E=await Y_({...w.otherInvestment,familyMember:C||"FM-001"});I=E?.investmentId,h(I?"pass":"fail",I?`Created: ${I}`:"No investmentId: "+JSON.stringify(E))}catch(E){h("fail",E.message)}m("Other Investments  List","running");try{const E=await U_();h("pass",`${Array.isArray(E)?E.length:0} investment(s)`)}catch(E){h("fail",E.message)}m("Stock Portfolios  Create","running");try{const E=await W_({...w.stockPortfolio,owner:C||"FM-001"});O=E?.portfolioId,h(O?"pass":"fail",O?`Created: ${O}`:"No portfolioId: "+JSON.stringify(E))}catch(E){h("fail",E.message)}m("Stock Portfolios  List","running");try{const E=await G_();h("pass",`${Array.isArray(E)?E.length:0} portfolio(s)`)}catch(E){h("fail",E.message)}m("Reminders  Create","running");try{const E=await X_(w.reminder);z=E?.reminderId,h(z?"pass":"fail",z?`Created: ${z}`:"No reminderId: "+JSON.stringify(E))}catch(E){h("fail",E.message)}m("Reminders  List","running");try{const E=await Q_();h("pass",`${Array.isArray(E)?E.length:0} reminder(s)`)}catch(E){h("fail",E.message)}m("Goals  Create","running");try{const E=await R_(w.goal);F=E?.goalId,h(F?"pass":"fail",F?`Created: ${F}`:"No goalId: "+JSON.stringify(E))}catch(E){h("fail",E.message)}m("Goals  List","running");try{const E=await I_();h("pass",`${Array.isArray(E)?E.length:0} goal(s)`)}catch(E){h("fail",E.message)}m("Cleanup  Delete test data","running");const B=[];if(F)try{await L_(F)}catch(E){B.push("goal: "+E.message)}if(z)try{await Z_(z)}catch(E){B.push("reminder: "+E.message)}if(O)try{await K_(O)}catch(E){B.push("stockPortfolio: "+E.message)}if(I)try{await V_(I)}catch(E){B.push("otherInv: "+E.message)}if(T)try{await H_(T)}catch(E){B.push("liability: "+E.message)}if(D)try{await B_(D)}catch(E){B.push("insurance: "+E.message)}if(M)try{await P_(M)}catch(E){B.push("invAcct: "+E.message)}if(A)try{await __(A)}catch(E){B.push("bank: "+E.message)}if(C)try{await M_(C)}catch(E){B.push("member: "+E.message)}B.length>0?h("fail",B.join("; ")):h("pass","All test data cleaned up"),m("Final Load All (post-cleanup)","running");try{const E=await Cp(),J=Object.entries(E).map(([X,re])=>`${X}: ${Array.isArray(re)?re.length:"?"}`);h("pass",J.join(", "))}catch(E){h("fail",E.message)}}catch(B){m("UNEXPECTED ERROR","fail",B.message)}finally{i(!1)}},g=t.filter(w=>w.status==="pass").length,S=t.filter(w=>w.status==="fail").length,y=t.filter(w=>w.status!=="running").length;return a.jsx("div",{className:"min-h-screen bg-[var(--bg-main)] p-4 max-w-3xl mx-auto",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-bold text-[var(--text-primary)]",children:"API Test Suite"}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Signed in as ",e?.email||"unknown"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:x,disabled:u||n,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-[var(--bg-card)] border border-[var(--border)] text-[var(--text-secondary)] hover:bg-[var(--bg-elevated)] disabled:opacity-50 cursor-pointer",children:u?"Running...":"Diagnostics"}),a.jsx("button",{onClick:v,disabled:n,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-violet-600 text-white hover:bg-violet-700 disabled:opacity-50 cursor-pointer",children:n?"Running Tests...":"Run All Tests"})]})]}),y>0&&a.jsxs("div",{className:"flex gap-3 text-xs",children:[a.jsxs("span",{className:"text-emerald-400",children:["Pass: ",g]}),a.jsxs("span",{className:"text-rose-400",children:["Fail: ",S]}),a.jsxs("span",{className:"text-[var(--text-dim)]",children:["Total: ",y]})]}),l&&a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4 space-y-3",children:[a.jsx("h2",{className:"text-sm font-semibold text-[var(--text-primary)]",children:"Diagnostics Report"}),l.error?a.jsx("p",{className:"text-xs text-rose-400",children:l.error}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-xs text-[var(--text-secondary)] space-y-1",children:[a.jsxs("p",{children:[a.jsx("span",{className:"text-[var(--text-dim)]",children:"Spreadsheet:"})," ",l.spreadsheetName]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-[var(--text-dim)]",children:"ID:"})," ",a.jsx("code",{className:"text-[10px]",children:l.spreadsheetId})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-medium text-[var(--text-primary)] mb-1",children:"Sheets"}),a.jsx("div",{className:"grid grid-cols-2 gap-1",children:Object.entries(l.sheets||{}).map(([w,C])=>a.jsxs("div",{className:"flex items-center justify-between text-[11px] px-2 py-1 rounded bg-[var(--bg-elevated)]",children:[a.jsx("span",{className:"text-[var(--text-secondary)] truncate",children:w}),C.exists?a.jsxs("span",{className:"text-emerald-400 ml-1",children:[C.dataRows,"r"]}):a.jsx("span",{className:"text-rose-400 ml-1",children:"MISSING"})]},w))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-medium text-[var(--text-primary)] mb-1",children:"Data Functions"}),a.jsx("div",{className:"space-y-1",children:Object.entries(l.dataTests||{}).map(([w,C])=>a.jsxs("div",{className:"flex items-center justify-between text-[11px] px-2 py-1 rounded bg-[var(--bg-elevated)]",children:[a.jsx("span",{className:"text-[var(--text-secondary)]",children:w}),C.success?a.jsxs("span",{className:"text-emerald-400",children:[C.count," items"]}):a.jsx("span",{className:"text-rose-400 truncate ml-2 max-w-[200px]",title:C.error,children:C.error})]},w))})]}),l.safeCallErrors&&l.safeCallErrors.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-medium text-rose-400 mb-1",children:"SafeCall Errors"}),l.safeCallErrors.map((w,C)=>a.jsxs("p",{className:"text-[11px] text-rose-400",children:[w.fn,": ",w.error]},C))]})]})]}),t.length>0&&a.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:a.jsx("div",{className:"divide-y divide-[var(--border)]",children:t.map((w,C)=>a.jsxs("div",{className:"px-4 py-2 flex items-start gap-3",children:[a.jsx("div",{className:"mt-0.5 shrink-0",children:a.jsx(joe,{status:w.status})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:w.test}),w.detail&&a.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5 break-all",children:w.detail})]}),a.jsx("span",{className:"text-[10px] text-[var(--text-dim)] shrink-0",children:w.time})]},C))})}),t.length===0&&!l&&a.jsxs("div",{className:"text-center py-12 text-[var(--text-dim)]",children:[a.jsx("p",{className:"text-sm",children:'Click "Run All Tests" to test all CRUD operations'}),a.jsx("p",{className:"text-xs mt-1",children:'or "Diagnostics" to check spreadsheet structure'})]})]})})}const Noe="modulepreload",Soe=function(e){return"/"+e},e_={},ip=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let f=function(m){return Promise.all(m.map(h=>Promise.resolve(h).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");i=f(r.map(m=>{if(m=Soe(m),m in e_)return;e_[m]=!0;const h=m.endsWith(".css"),x=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${x}`))return;const v=document.createElement("link");if(v.rel=h?"stylesheet":Noe,h||(v.as="script"),v.crossOrigin="",v.href=m,u&&v.setAttribute("nonce",u),document.head.appendChild(v),h)return new Promise((g,S)=>{v.addEventListener("load",g),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return i.then(c=>{for(const u of c||[])u.status==="rejected"&&l(u.reason);return t().catch(l)})};function t_(e){return e>=0?"text-emerald-400":"text-red-400"}function sp(e){return e>=0?"+":""}function Coe(e){if(!e)return"Other";const t=e.toLowerCase();return t.includes("gold")||t.includes("silver")||t.includes("commodity")?"Commodity":t.includes("liquid")||t.includes("money market")||t.includes("overnight")?"Liquid":t.includes("gilt")||t.includes("government securities")||t.includes("constant maturity")?"Gilt":t.includes("elss")||t.includes("tax saver")?"ELSS":t.includes("debt")||t.includes("bond")||t.includes("income fund")||t.includes("corporate bond")||t.includes("banking & psu")||t.includes("short duration")||t.includes("medium duration")||t.includes("long duration")||t.includes("short term")||t.includes("medium term")||t.includes("floater")||t.includes("floating rate")||t.includes("credit")||t.includes("accrual")||t.includes("savings fund")||t.includes("ultra short")?"Debt":t.includes("multi asset")?"Multi-Asset":t.includes("hybrid")||t.includes("balanced")||t.includes("dynamic asset")||t.includes("arbitrage")||t.includes("retirement")||t.includes("children")||t.includes("pension")?"Hybrid":t.includes("equity")||t.includes("flexi cap")||t.includes("large cap")||t.includes("mid cap")||t.includes("small cap")||t.includes("multi cap")||t.includes("focused")||t.includes("contra")||t.includes("value fund")||t.includes("thematic")||t.includes("sectoral")||t.includes("consumption")||t.includes("infrastructure")||t.includes("pharma")||t.includes("healthcare")||t.includes("technology")||t.includes("fmcg")||t.includes("mnc")||t.includes("opportunities fund")||t.includes("midcap")||t.includes("smallcap")||t.includes("largecap")||t.includes("large & mid")?"Equity":t.includes("index")||t.includes("etf")||t.includes("nifty")||t.includes("sensex")?"Index":t.includes("fund of fund")||t.includes("fof")||t.includes("aggressive")||t.includes("conservative")?"Hybrid":"Other"}const Aoe={Equity:"#8b5cf6",Debt:"#60a5fa",Gold:"#fbbf24",Commodities:"#eab308","Real Estate":"#f97316",Hybrid:"#818cf8",Cash:"#94a3b8",Other:"#94a3b8"},r_=["#f97316","#8b5cf6","#fbbf24","#f59e0b","#34d399","#ec4899","#60a5fa","#3b82f6","#06b6d4","#10b981","#ef4444","#a855f7"],n_=["linear-gradient(135deg, #8b5cf6, #6366f1)","linear-gradient(135deg, #ec4899, #f43f5e)","linear-gradient(135deg, #3b82f6, #06b6d4)","linear-gradient(135deg, #f59e0b, #f97316)","linear-gradient(135deg, #10b981, #34d399)","linear-gradient(135deg, #ef4444, #dc2626)"],a_={Self:{bg:"rgba(139,92,246,0.1)",color:"#a78bfa"},Spouse:{bg:"rgba(236,72,153,0.1)",color:"#ec4899"},Father:{bg:"rgba(59,130,246,0.1)",color:"#60a5fa"},Mother:{bg:"rgba(245,158,11,0.1)",color:"#f59e0b"},Child:{bg:"rgba(59,130,246,0.1)",color:"#60a5fa"}};function ta({label:e,color:t,badge:r,linkText:n,onClick:i}){return a.jsxs("div",{className:"-mx-6 -mt-6 px-6 py-3.5 mb-4 flex items-center justify-between rounded-t-xl",style:{background:"rgba(128,128,128,0.04)",borderBottom:"1px solid rgba(128,128,128,0.08)"},children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-[3px] h-3.5 rounded-sm opacity-60",style:{background:t||"currentColor"}}),a.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",style:{color:t||"var(--text-muted)"},children:e}),r!=null&&a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold",style:{background:t?`${t}15`:"rgba(128,128,128,0.1)",color:t||"var(--text-muted)"},children:r})]}),n&&a.jsxs("button",{onClick:i,className:"text-xs font-medium text-blue-400 hover:text-blue-300 transition-colors",children:[n," "]})]})}function koe(){const e=Gs(),{selectedMember:t,familyMembers:r}=Fr(),{masked:n,mv:i}=_a(),{mfPortfolios:l,mfHoldings:c,stockPortfolios:u,stockHoldings:f,otherInvList:m,liabilityList:h,banks:x,investmentAccounts:v,insurancePolicies:g,reminderList:S,goalList:y,assetAllocations:w,activeMembers:C,activeBanks:k,activeInvestmentAccounts:A}=pt(),[M,D]=j.useState(!1),[T,I]=j.useState(!1),[O,z]=j.useState(!1),F=j.useRef(null),B=j.useRef(null);j.useEffect(()=>{Promise.all([ip(()=>import("./html2canvas-pro.esm-BFE-rsXj.js"),[]),ip(()=>import("./jspdf.es.min-Cl7zJo3B.js").then(P=>P.j),[])]).then(([P,W])=>{B.current={html2canvas:P.default,jsPDF:W.jsPDF}}).catch(P=>{P.message?.includes("dynamically imported module")&&window.location.reload()})},[]);const E=j.useMemo(()=>(C||[]).find(W=>W.relationship==="Self")?.pan||"",[C]),J=j.useCallback(async()=>{if(!F.current)throw new Error("Dashboard not ready");let P,W;if(B.current)({html2canvas:P,jsPDF:W}=B.current);else{const[wt,Rt]=await Promise.all([ip(()=>import("./html2canvas-pro.esm-BFE-rsXj.js"),[]),ip(()=>import("./jspdf.es.min-Cl7zJo3B.js").then(Yt=>Yt.j),[])]);P=wt.default,W=Rt.jsPDF}const ne=F.current,de=await P(ne,{scale:2,useCORS:!0,backgroundColor:"#0f172a",logging:!1}),q={orientation:"p",unit:"mm",format:"a4"};E&&(q.encryption={userPassword:E,ownerPassword:E,userPermissions:["print","copy"]});const oe=new W(q),xe=oe.internal.pageSize.getWidth(),he=oe.internal.pageSize.getHeight(),ee=6,ke=xe-ee*2,He=he-ee*2,ge=ke/de.width,Le=Math.floor(He/ge);let Ae=0,Ee=0;for(;Ae<de.height;){Ee>0&&oe.addPage(),oe.setFillColor(15,23,42),oe.rect(0,0,xe,he,"F");const wt=Math.min(Le,de.height-Ae),Rt=document.createElement("canvas");Rt.width=de.width,Rt.height=wt,Rt.getContext("2d").drawImage(de,0,Ae,de.width,wt,0,0,de.width,wt);const lr=Rt.toDataURL("image/png"),Et=wt*ge;oe.addImage(lr,"PNG",ee,ee,ke,Et),Ae+=Le,Ee++}const at=t==="all"?"Family":r?.find(wt=>wt.memberId===t)?.name||"Dashboard",Dt=new Date().toISOString().slice(0,10),ar=`Capital-Friends-${at}-${Dt}.pdf`;return{pdf:oe,fileName:ar}},[t,r,E]),X=j.useCallback(async()=>{if(!O){z(!0);try{const{pdf:P,fileName:W}=await J();P.save(W),E&&setTimeout(()=>alert(`PDF is password-protected.
Password: Your PAN (${E.slice(0,2)}****${E.slice(-2)})`),300)}catch(P){console.error("PDF export failed:",P),window.print()}finally{z(!1)}}},[O,J,E]),re=j.useCallback(async()=>{if(!(M||T)){D(!0);try{const{pdf:P,fileName:W}=await J(),ne=P.output("datauristring").split(",")[1];await NF(ne,W),I(!0),setTimeout(()=>I(!1),3e3)}catch(P){alert("Failed to send email: "+P.message)}finally{D(!1)}}},[M,T,J]),L=E?"Download as PDF (password: your PAN)":"Download as PDF",U=(P,W)=>t==="all"?P:P.filter(ne=>ne[W]===t),V=j.useMemo(()=>{const P=U((l||[]).filter(ae=>ae.status==="Active"),"ownerId"),W=new Set(P.map(ae=>ae.portfolioId)),ne=(c||[]).filter(ae=>W.has(ae.portfolioId)&&ae.units>0),de=ne.reduce((ae,Se)=>ae+Se.investment,0),q=ne.reduce((ae,Se)=>ae+Se.currentValue,0),oe=q-de,xe=U((u||[]).filter(ae=>ae.status==="Active"),"ownerId"),he=new Set(xe.map(ae=>ae.portfolioId)),ee=(f||[]).filter(ae=>he.has(ae.portfolioId)),ke=ee.reduce((ae,Se)=>ae+Se.totalInvestment,0),He=ee.reduce((ae,Se)=>ae+Se.currentValue,0),ge=He-ke,Le=U((m||[]).filter(ae=>ae.status==="Active"),"familyMemberId"),Ae=Le.reduce((ae,Se)=>ae+Se.investedAmount,0),Ee=Le.reduce((ae,Se)=>ae+Se.currentValue,0),at=Ee-Ae,Dt=U((h||[]).filter(ae=>ae.status==="Active"),"familyMemberId"),ar=Dt.reduce((ae,Se)=>ae+Se.outstandingBalance,0),wt=Dt.reduce((ae,Se)=>ae+Se.emiAmount,0),Rt=U((g||[]).filter(ae=>ae.status==="Active"),"memberId"),Yt=Rt.filter(ae=>ae.policyType==="Term Life").reduce((ae,Se)=>ae+Se.sumAssured,0),lr=Rt.filter(ae=>ae.policyType==="Health").reduce((ae,Se)=>ae+Se.sumAssured,0),Et=Rt.reduce((ae,Se)=>ae+(Se.premium||0),0),be=U((x||[]).filter(ae=>ae.status==="Active"),"memberId"),Ke=U((v||[]).filter(ae=>ae.status==="Active"),"memberId"),G=U((y||[]).filter(ae=>ae.isActive!==!1),"familyMemberId"),$=U((S||[]).filter(ae=>ae.isActive!==!1&&ae.status!=="Completed"),"familyMemberId"),Z=t==="all"?C||[]:(C||[]).filter(ae=>ae.memberId===t),we=q+He+Ee,ze=we-ar,le=de+ke+Ae,lt=we-le,Ue=le>0?lt/le*100:0,Be={};if(w)for(const ae of w)ae.assetAllocation&&(Be[ae.fundCode]=ae.assetAllocation);const Fe={Equity:0,Debt:0,Gold:0,Hybrid:0,Commodities:0,"Real Estate":0,Cash:0,Other:0};ne.forEach(ae=>{const Se=Be[ae.schemeCode||ae.fundCode];if(Se)for(const[Xe,Vt]of Object.entries(Se))Xe in Fe?Fe[Xe]+=ae.currentValue*(Vt/100):Fe.Other+=ae.currentValue*(Vt/100);else{let Xe=ae.category;(!Xe||Xe==="Other")&&(Xe=Coe(ae.fundName)),Xe==="Equity"||Xe==="ELSS"||Xe==="Index"?Fe.Equity+=ae.currentValue:Xe==="Debt"||Xe==="Gilt"?Fe.Debt+=ae.currentValue:Xe==="Liquid"?Fe.Cash+=ae.currentValue:Xe==="Commodity"?Fe.Commodities+=ae.currentValue:Xe==="Multi-Asset"?(Fe.Equity+=ae.currentValue*.5,Fe.Debt+=ae.currentValue*.3,Fe.Commodities+=ae.currentValue*.2):Xe==="Hybrid"||Xe==="FoF"?(Fe.Equity+=ae.currentValue*.65,Fe.Debt+=ae.currentValue*.35):Fe.Other+=ae.currentValue}}),Fe.Equity+=He,Le.forEach(ae=>{const Se=(ae.investmentType||"").toLowerCase();Se.includes("gold")||Se.includes("sgb")||Se.includes("sovereign gold")?Fe.Gold+=ae.currentValue:Se.includes("silver")||Se.includes("commodity")?Fe.Commodities+=ae.currentValue:Se.includes("fd")||Se.includes("fixed")||Se.includes("bond")||Se.includes("ppf")||Se.includes("epf")||Se.includes("nps")||Se.includes("rd")||Se.includes("nsc")||Se.includes("ssy")?Fe.Debt+=ae.currentValue:Se.includes("real estate")||Se.includes("property")?Fe["Real Estate"]+=ae.currentValue:Fe.Other+=ae.currentValue});const et=Object.entries(Fe).filter(([,ae])=>ae>0).sort(([,ae],[,Se])=>Se-ae).map(([ae,Se])=>({name:ae,value:Se,pct:we>0?Se/we*100:0,fill:Aoe[ae]||"#94a3b8"})),At={};q>0&&(At["Mutual Funds"]=(At["Mutual Funds"]||0)+q),He>0&&(At.Stocks=(At.Stocks||0)+He),Le.forEach(ae=>{const Se=ae.investmentType||"Other";At[Se]=(At[Se]||0)+ae.currentValue});const gt=Object.entries(At).filter(([,ae])=>ae>0).sort(([,ae],[,Se])=>Se-ae).map(([ae,Se],Xe)=>({name:ae,value:Se,pct:we>0?Se/we*100:0,fill:r_[Xe%r_.length]})),Me=[];P.forEach(ae=>{(c||[]).filter(Xe=>Xe.portfolioId===ae.portfolioId&&Xe.units>0).forEach(Xe=>{if(Xe.athNav>0&&Xe.belowATHPct>=5){const{main:Vt}=Re(Xe.fundName);Me.push({fundName:Vt,portfolioName:ae.portfolioName,ownerName:ae.ownerName,belowATHPct:Xe.belowATHPct,isStrongBuy:Xe.belowATHPct>=10})}})}),Me.sort((ae,Se)=>Se.belowATHPct-ae.belowATHPct);const We=[];P.forEach(ae=>{const Se=(c||[]).filter(Xt=>Xt.portfolioId===ae.portfolioId&&Xt.units>0),Xe=Se.reduce((Xt,Hn)=>Xt+Hn.currentValue,0),Vt=(ae.rebalanceThreshold||.05)*100;Se.forEach(Xt=>{if(Xt.targetAllocationPct>0&&Xe>0){const Hn=Xt.currentValue/Xe*100,io=Hn-Xt.targetAllocationPct;if(Math.abs(io)>Vt){const{main:so}=Re(Xt.fundName);We.push({fundName:so,portfolioName:ae.portfolioName,ownerName:ae.ownerName,currentPct:Math.round(Hn),targetPct:Math.round(Xt.targetAllocationPct),drift:Math.round(io)})}}})}),We.sort((ae,Se)=>Math.abs(Se.drift)-Math.abs(ae.drift));const Pe=[];if(q>0){const ae=[...new Set(P.map(Xe=>Xe.ownerName))].join(", "),Se=[...new Set(P.map(Xe=>{const Vt=(v||[]).find(Xt=>Xt.accountId===Xe.investmentAccountId);return Vt?Vt.platformBroker:Xe.investmentAccountName||""}).filter(Boolean))].join(", ");Pe.push({type:"Mutual Funds",platform:Se,owner:ae,invested:de,current:q,pl:oe})}if(He>0){const ae=[...new Set(xe.map(Xe=>Xe.ownerName))].join(", "),Se=[...new Set(xe.map(Xe=>{const Vt=(v||[]).find(Xt=>Xt.accountId===Xe.investmentAccountId);return Vt?Vt.platformBroker:Xe.investmentAccountName||""}).filter(Boolean))].join(", ");Pe.push({type:"Stocks",platform:Se,owner:ae,invested:ke,current:He,pl:ge})}const ot={};Le.forEach(ae=>{const Se=ae.investmentType||"Other";ot[Se]||(ot[Se]={invested:0,current:0,owners:new Set,platforms:new Set}),ot[Se].invested+=ae.investedAmount,ot[Se].current+=ae.currentValue,ot[Se].owners.add(ae.familyMemberName),ae.investmentName&&ot[Se].platforms.add(ae.investmentName)}),Object.entries(ot).forEach(([ae,Se])=>{const Xe=Se.current-Se.invested;Pe.push({type:ae,platform:Se.platforms.size<=2?[...Se.platforms].join(", "):`${Se.platforms.size} investments`,owner:[...Se.owners].join(", "),invested:Se.invested,current:Se.current,pl:Se.invested>0?Xe:null})});const yt={};return P.forEach(ae=>{const Xe=ne.filter(Vt=>Vt.portfolioId===ae.portfolioId).reduce((Vt,Xt)=>Vt+Xt.currentValue,0);yt[ae.ownerId]=(yt[ae.ownerId]||0)+Xe}),xe.forEach(ae=>{const Xe=ee.filter(Vt=>Vt.portfolioId===ae.portfolioId).reduce((Vt,Xt)=>Vt+Xt.currentValue,0);yt[ae.ownerId]=(yt[ae.ownerId]||0)+Xe}),Le.forEach(ae=>{yt[ae.familyMemberId]=(yt[ae.familyMemberId]||0)+ae.currentValue}),Dt.forEach(ae=>{yt[ae.familyMemberId]=(yt[ae.familyMemberId]||0)-ae.outstandingBalance}),{mfCurrentValue:q,mfInvested:de,mfPL:oe,stkCurrentValue:He,stkInvested:ke,stkPL:ge,otherCurrentValue:Ee,otherInvested:Ae,otherPL:at,totalLiabilities:ar,totalEMI:wt,lifeCover:Yt,healthCover:lr,totalPremium:Et,totalAssets:we,totalInvested:le,totalPL:lt,plPct:Ue,netWorth:ze,assetClassList:et,allocByType:gt,buyOpportunities:Me,rebalanceItems:We,investmentRows:Pe,activeLiabilities:Dt,activeInsurance:Rt,activeGoals:G,activeReminders:$,filteredBanks:be,filteredInvAccounts:Ke,filteredMembers:Z,memberNetWorth:yt,activeMFPortfolios:P,activeStockPortfolios:xe}},[t,l,c,u,f,m,h,x,v,g,y,S,w,C]),Ne=j.useMemo(()=>{const P=[],W=U((g||[]).filter(he=>he.status==="Active"),"memberId");W.some(he=>he.policyType==="Term Life")||P.push({type:"critical",title:"No Term Life Insurance",description:"Family loses its sole income source if primary earner passes away. Get 10-15x annual income cover.",action:"Add Policy",navigateTo:"/insurance"});const de=W.filter(he=>he.policyType==="Health").reduce((he,ee)=>he+ee.sumAssured,0);return de===0?P.push({type:"critical",title:"No Health Insurance",description:"Medical emergencies without cover can wipe out years of savings. Get minimum 10L family cover.",action:"Add Policy",navigateTo:"/insurance"}):de<5e5&&P.push({type:"warning",title:"Inadequate Health Insurance",description:`Current cover ${K(de)} may not cover a single hospital stay. Consider upgrading.`,navigateTo:"/insurance"}),U((y||[]).filter(he=>he.isActive!==!1&&he.goalType==="Emergency Fund"),"familyMemberId").forEach(he=>{const ee=he.targetAmount>0?he.currentValue/he.targetAmount*100:0;if(ee<100){const ke=he.targetAmount-he.currentValue;P.push({type:(ee>=75,"warning"),title:`Emergency Fund at ${ee.toFixed(0)}%`,description:`Job loss or medical emergency forces debt. ${K(ke)} more needed for full cushion.`,action:"View Goal",navigateTo:"/goals"})}}),U((S||[]).filter(he=>he.isActive!==!1),"familyMemberId").filter(he=>new Date(he.dueDate)<new Date).forEach(he=>{const ee=Math.ceil((new Date-new Date(he.dueDate))/864e5);P.push({type:"critical",title:he.title,description:`${ee} day${ee!==1?"s":""} overdue. ${he.description||""}`.trim(),navigateTo:"/reminders"})}),U((y||[]).filter(he=>he.isActive!==!1&&he.status==="Needs Attention"),"familyMemberId").forEach(he=>{P.push({type:"warning",title:`${he.goalName} needs attention`,description:"Progress is behind schedule. Consider increasing monthly investment.",action:"View Goal",navigateTo:"/goals"})}),P.slice(0,6)},[t,g,y,S]),De=j.useMemo(()=>{const P=U((S||[]).filter(ne=>ne.isActive!==!1&&ne.status!=="Completed"),"familyMemberId"),W=new Date;return P.map(ne=>{const de=new Date(ne.dueDate)-W,q=Math.ceil(de/(1440*60*1e3));return{...ne,days:q}}).filter(ne=>ne.days>=0).sort((ne,de)=>ne.days-de.days).slice(0,5)},[t,S]);return l===null||c===null?a.jsx(di,{title:"Loading dashboard",cards:4}):a.jsxs("div",{className:"max-w-[1280px] mx-auto",ref:F,children:[a.jsx("style",{children:`
        @media print {
          @page { margin: 8mm; size: A4; }
          *, *::before, *::after { color-adjust: exact !important; -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }
          html, body { background: #0f172a !important; color: #e2e8f0 !important; overflow: visible !important; height: auto !important; }
          nav, header, footer, .print\\:hidden, [class*="BottomNav"], [class*="Sidebar"],
          [class*="safe-bottom"] { display: none !important; }
          div, main, section { overflow: visible !important; height: auto !important; max-height: none !important; }
          .flex.flex-col.h-dvh { height: auto !important; overflow: visible !important; display: block !important; }
          main.flex-1 { overflow: visible !important; padding-bottom: 0 !important; }
          .max-w-\\[1280px\\], .max-w-7xl { max-width: 100% !important; padding: 0 !important; margin: 0 auto !important; }
          .grid.grid-cols-1.md\\:grid-cols-2 { display: flex !important; flex-direction: column !important; gap: 8px !important; }
          .grid.grid-cols-1.md\\:grid-cols-2 > * { width: 100% !important; }
          .grid.grid-cols-1.md\\:grid-cols-3 { display: flex !important; flex-wrap: wrap !important; gap: 8px !important; }
          .grid.grid-cols-1.md\\:grid-cols-3 > * { flex: 1 1 30% !important; min-width: 180px !important; }
          .rounded-xl { break-inside: avoid; page-break-inside: avoid; }
          [class*="fixed"] { position: static !important; display: none !important; }
        }
      `}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"md:col-span-2 rounded-xl border border-[var(--border)] p-7",style:{background:"linear-gradient(135deg, var(--bg-card) 0%, var(--bg-card) 100%)"},children:[a.jsxs("div",{className:"-mx-7 -mt-7 px-7 py-3.5 mb-4 flex items-center justify-between rounded-t-xl",style:{background:"rgba(128,128,128,0.04)",borderBottom:"1px solid rgba(128,128,128,0.08)"},children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-[3px] h-3.5 rounded-sm opacity-60",style:{background:"var(--text-muted)"}}),a.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-[var(--text-muted)]",children:"Net Worth"})]}),a.jsxs("div",{className:"flex items-center gap-1.5 print:hidden",children:[a.jsxs("button",{onClick:X,disabled:O,className:"flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg text-xs font-medium text-[var(--text-secondary)] hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-50",title:L,children:[O?a.jsx(cd,{size:13,className:"animate-spin"}):a.jsx(Az,{size:13}),a.jsx("span",{className:"hidden sm:inline",children:O?"Exporting...":"PDF"})]}),a.jsxs("button",{onClick:re,disabled:M,className:"flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg text-xs font-medium transition-colors disabled:opacity-50",style:{color:T?"#34d399":"var(--text-secondary)"},title:"Email wealth report",children:[T?a.jsx(Ap,{size:13}):a.jsx(A1,{size:13}),a.jsx("span",{className:"hidden sm:inline",children:M?"Sending...":T?"Sent!":"Email"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-[34px] font-bold text-[var(--text-primary)] tabular-nums leading-tight",children:K(V.netWorth)}),V.totalInvested>0&&a.jsxs("div",{className:"text-sm mt-1.5",children:[a.jsxs("span",{className:`font-semibold ${t_(V.totalPL)}`,children:[sp(V.totalPL),K(Math.abs(V.totalPL))]}),a.jsxs("span",{className:"text-[var(--text-dim)] ml-1",children:["(",sp(V.totalPL),V.plPct.toFixed(1),"% returns)"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-xs text-[var(--text-dim)]",children:"Total Assets"}),a.jsx("div",{className:"text-lg font-semibold text-[var(--text-secondary)] tabular-nums",children:K(V.totalAssets)}),V.totalLiabilities>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-xs text-[var(--text-dim)] mt-2",children:"Liabilities"}),a.jsx("div",{className:"text-lg font-semibold text-red-400 tabular-nums",children:K(V.totalLiabilities)})]})]})]}),V.assetClassList.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("div",{className:"flex h-2.5 rounded-[5px] overflow-hidden gap-0.5",children:V.assetClassList.map(P=>a.jsx("div",{style:{width:`${P.pct}%`,background:P.fill},title:`${P.name} ${P.pct.toFixed(0)}%`},P.name))}),a.jsx("div",{className:"flex gap-4 mt-2 text-xs flex-wrap",children:V.assetClassList.map(P=>a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"inline-block w-2 h-2 rounded-full",style:{background:P.fill}}),a.jsxs("span",{className:"text-[var(--text-secondary)] font-medium",children:[P.name," ",P.pct.toFixed(0),"%"]})]},P.name))})]})]}),V.allocByType.length>0&&a.jsxs("div",{className:"md:col-span-2 rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6",style:{padding:"20px"},children:[a.jsx(ta,{label:"Asset Allocation",color:"var(--text-muted)"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5 items-center",children:[a.jsxs("div",{className:"flex flex-col items-center justify-center",children:[a.jsxs("div",{className:"relative w-[240px] h-[240px]",children:[a.jsx(Y1,{width:"100%",height:"100%",children:a.jsxs(hw,{children:[a.jsx(Sx,{data:V.allocByType,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:67,outerRadius:110,paddingAngle:2,stroke:"none",children:V.allocByType.map((P,W)=>a.jsx($c,{fill:P.fill},W))}),a.jsx(ow,{content:({active:P,payload:W})=>{if(!P||!W?.[0])return null;const ne=W[0].payload;return a.jsxs("div",{className:"bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-2.5 py-1.5 shadow-lg text-xs",children:[a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:ne.name}),a.jsxs("span",{className:"text-[var(--text-muted)] ml-1.5",children:[K(ne.value)," (",ne.pct.toFixed(0),"%)"]})]})}})]})}),a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[a.jsx("div",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider",children:"Net Worth"}),a.jsx("div",{className:"text-2xl font-bold text-[var(--text-primary)] tabular-nums",children:K(V.netWorth)})]})]}),a.jsxs("div",{className:"mt-3 text-center text-xs",children:[a.jsxs("span",{className:"text-[var(--text-muted)]",children:[K(V.totalInvested)," invested"]}),V.totalLiabilities>0&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-[var(--text-dim)] mx-1",children:""}),a.jsxs("span",{className:"text-red-400",children:["",K(V.totalLiabilities)," owed"]})]})]})]}),a.jsxs("div",{children:[V.allocByType.map(P=>a.jsxs("div",{className:"flex items-center justify-between py-2.5 px-3.5 mb-1.5 rounded-lg text-[13px]",style:{background:"rgba(128,128,128,0.05)"},children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"inline-block w-2 h-2 rounded-full",style:{background:P.fill}}),a.jsx("span",{className:"text-[var(--text-secondary)] font-medium",children:P.name})]}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[var(--text-secondary)] font-semibold tabular-nums",children:K(P.value)}),a.jsxs("span",{className:"inline-flex items-center justify-center min-w-[36px] px-2 py-0.5 rounded-[5px] text-xs font-semibold tabular-nums",style:{background:"rgba(128,128,128,0.08)",color:P.fill},children:[P.pct.toFixed(0),"%"]})]})]},P.name)),V.totalLiabilities>0&&a.jsxs("div",{className:"flex items-center justify-between py-2.5 px-3.5 mb-1.5 rounded-lg text-[13px]",style:{background:"rgba(248,113,113,0.06)"},children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-red-400"}),a.jsxs("span",{className:"text-red-400 font-medium",children:[V.activeLiabilities.length," ",V.activeLiabilities.length===1?"Loan":"Loans"]})]}),a.jsxs("span",{className:"text-red-400 font-semibold tabular-nums",children:["",K(V.totalLiabilities)]})]})]})]})]}),Ne.length>0&&a.jsxs("div",{className:"md:col-span-2 rounded-xl border bg-[var(--bg-card)] p-6",style:{borderColor:"rgba(244,63,94,0.12)"},children:[a.jsx(ta,{label:"Action Required",color:"#fb7185",badge:Ne.length}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Ne.map((P,W)=>{const ne=P.type==="critical",de=Ne.length%2===1&&W===Ne.length-1;return a.jsx("div",{className:`rounded-[10px] p-3.5 ${de?"md:col-span-2":""}`,style:{background:ne?"rgba(244,63,94,0.07)":"rgba(251,191,36,0.05)",border:`1px solid ${ne?"rgba(244,63,94,0.18)":"rgba(251,191,36,0.12)"}`},children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-[26px] h-[26px] rounded-[7px] flex items-center justify-center text-[13px] shrink-0",style:{background:ne?"rgba(244,63,94,0.12)":"rgba(251,191,36,0.1)",color:ne?"#fb7185":"#fbbf24"},children:ne?"":""}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm font-semibold",style:{color:ne?"#fb7185":"#fbbf24"},children:P.title}),P.description&&a.jsx("div",{className:"text-[13px] text-[var(--text-muted)] mt-0.5 leading-relaxed",children:P.description}),P.action&&P.navigateTo&&a.jsxs("button",{onClick:()=>e(P.navigateTo),className:"text-xs font-medium mt-1.5 cursor-pointer",style:{color:ne?"#fb7185":"#fbbf24"},children:[P.action," "]})]})]})},W)})})]}),V.buyOpportunities.length>0&&a.jsxs("div",{className:`rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors ${V.rebalanceItems.length===0?"md:col-span-2":""}`,onClick:()=>e("/investments/mutual-funds"),children:[a.jsx(ta,{label:"Buy Opportunities",color:"#34d399",badge:V.buyOpportunities.length,linkText:"Mutual Funds",onClick:P=>{P.stopPropagation(),e("/investments/mutual-funds")}}),a.jsx("div",{className:"text-xs text-[var(--text-dim)] mb-2.5",children:"Funds trading below All-Time High"}),V.buyOpportunities.map((P,W)=>a.jsxs("div",{className:"flex items-center justify-between py-2.5",style:{borderBottom:W<V.buyOpportunities.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-[13px] text-[var(--text-primary)] font-medium truncate",children:P.fundName}),a.jsxs("div",{className:"text-xs text-[var(--text-dim)] mt-1.5",children:[P.ownerName,"'s ",P.portfolioName]})]}),a.jsxs("div",{className:"text-right shrink-0 ml-3",children:[a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-bold",style:{background:P.isStrongBuy?"rgba(34,211,238,0.12)":"rgba(251,191,36,0.10)",color:P.isStrongBuy?"#22d3ee":"#fbbf24"},children:P.isStrongBuy?"Strong Buy":"Buy"}),a.jsxs("div",{className:"text-xs mt-0.5 font-medium tabular-nums",style:{color:P.isStrongBuy?"#22d3ee":"#fbbf24"},children:[" ",P.belowATHPct.toFixed(1),"% below ATH"]})]})]},W)),a.jsxs("div",{className:"mt-3.5 py-3 px-3.5 rounded-r-md text-[11px] text-[var(--text-muted)] leading-relaxed",style:{background:"rgba(251,191,36,0.06)",borderLeft:"3px solid rgba(251,191,36,0.3)"},onClick:P=>P.stopPropagation(),children:[a.jsx("span",{className:"text-amber-400 font-semibold",children:"Note:"})," A fund significantly below ATH may indicate market correction ",a.jsx("em",{children:"or"})," fund-specific issues (poor management, regulatory action, etc.). Always research before investing."]})]}),V.rebalanceItems.length>0&&a.jsxs("div",{className:`rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors ${V.buyOpportunities.length===0?"md:col-span-2":""}`,onClick:()=>e("/investments/mutual-funds"),children:[a.jsx(ta,{label:"Rebalance Needed",color:"#a78bfa",badge:V.rebalanceItems.length,linkText:"Portfolios",onClick:P=>{P.stopPropagation(),e("/investments/mutual-funds")}}),a.jsx("div",{className:"text-xs text-[var(--text-dim)] mb-2.5",children:"Allocation drifted beyond threshold"}),V.rebalanceItems.map((P,W)=>a.jsxs("div",{className:"flex items-center justify-between py-2.5",style:{borderBottom:W<V.rebalanceItems.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-[13px] text-[var(--text-primary)] font-medium truncate",children:P.fundName}),a.jsxs("div",{className:"text-xs text-[var(--text-dim)] mt-1.5",children:[P.ownerName,"'s ",P.portfolioName]})]}),a.jsxs("div",{className:"text-right shrink-0 ml-3",children:[a.jsxs("div",{className:"text-xs text-violet-400 font-semibold tabular-nums",children:[P.currentPct,"%  ",P.targetPct,"%"]}),a.jsxs("div",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:[P.drift>0?"+":"",P.drift,"% ",P.drift>0?"over":"under"," target"]})]})]},W))]}),V.investmentRows.length>0&&a.jsxs("div",{className:"md:col-span-2 rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors",onClick:()=>e("/investments/mutual-funds"),children:[a.jsx(ta,{label:"Investments",color:"var(--text-muted)",linkText:"View All",onClick:P=>{P.stopPropagation(),e("/investments/mutual-funds")}}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Type"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Platform"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Owner"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Invested"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Current"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-right pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"P&L"})]})}),a.jsx("tbody",{children:V.investmentRows.map((P,W)=>{const ne=P.pl,de=P.invested>0&&ne!=null?ne/P.invested*100:null;return a.jsxs("tr",{children:[a.jsx("td",{className:"text-[13px] font-medium text-[var(--text-primary)] py-3.5",style:{borderBottom:W<V.investmentRows.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:P.type}),a.jsx("td",{className:"text-[13px] text-[var(--text-secondary)] py-3.5",style:{borderBottom:W<V.investmentRows.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:P.platform||""}),a.jsx("td",{className:"text-[13px] text-[var(--text-secondary)] py-3.5",style:{borderBottom:W<V.investmentRows.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:P.owner}),a.jsx("td",{className:"text-[13px] text-[var(--text-secondary)] py-3.5 tabular-nums",style:{borderBottom:W<V.investmentRows.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:P.invested>0?K(P.invested):""}),a.jsx("td",{className:"text-[13px] font-semibold text-[var(--text-primary)] py-3.5 tabular-nums",style:{borderBottom:W<V.investmentRows.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:K(P.current)}),a.jsx("td",{className:"text-[13px] py-3.5 text-right tabular-nums",style:{borderBottom:W<V.investmentRows.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:ne!=null&&P.invested>0?a.jsxs("span",{className:`font-semibold ${t_(ne)}`,children:[sp(ne),K(Math.abs(ne)),de!=null&&a.jsxs("span",{className:"text-[var(--text-dim)] font-normal ml-1",children:["(",sp(ne),de.toFixed(1),"%)"]})]}):a.jsx("span",{className:"text-[var(--text-dim)]",children:""})})]},W)})})]})})]}),V.activeLiabilities.length>0&&a.jsxs("div",{className:`rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors ${De.length===0?"md:col-span-2":""}`,onClick:()=>e("/liabilities"),children:[a.jsx(ta,{label:"Liabilities",color:"#f87171",linkText:"View",onClick:P=>{P.stopPropagation(),e("/liabilities")}}),a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("div",{className:"text-[22px] font-bold text-red-400 tabular-nums",children:K(V.totalLiabilities)}),V.totalEMI>0&&a.jsxs("div",{className:"text-xs text-right",children:[a.jsx("span",{className:"text-[var(--text-dim)]",children:"Total EMI:"})," ",a.jsxs("span",{className:"text-red-400 font-semibold tabular-nums",children:[K(V.totalEMI),"/m"]})]})]}),a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Loan"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"EMI"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-right pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Outstanding"})]})}),a.jsx("tbody",{children:V.activeLiabilities.map((P,W)=>a.jsxs("tr",{children:[a.jsxs("td",{className:"py-3.5",style:{borderBottom:W<V.activeLiabilities.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:[a.jsxs("div",{className:"text-[13px] font-medium text-[var(--text-primary)]",children:[P.lenderName," ",P.liabilityType]}),a.jsxs("div",{className:"text-xs text-[var(--text-dim)] mt-1.5",children:[P.familyMemberName,P.notes?`  ${P.notes}`:""]})]}),a.jsx("td",{className:"text-xs text-[var(--text-secondary)] py-3.5 tabular-nums",style:{borderBottom:W<V.activeLiabilities.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:P.emiAmount>0?`${K(P.emiAmount)}/m`:""}),a.jsx("td",{className:"text-sm font-semibold text-red-400 py-3.5 text-right tabular-nums",style:{borderBottom:W<V.activeLiabilities.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:K(P.outstandingBalance)})]},P.liabilityId||W))})]})]}),De.length>0&&a.jsxs("div",{className:`rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors ${V.activeLiabilities.length===0?"md:col-span-2":""}`,onClick:()=>e("/reminders"),children:[a.jsx(ta,{label:"Upcoming Reminders",color:"var(--text-muted)",badge:De.length,linkText:"View All",onClick:P=>{P.stopPropagation(),e("/reminders")}}),De.map((P,W)=>{let ne,de,q;return P.days===0?(ne="#fbbf24",de="rgba(251,191,36,0.1)",q="Today"):P.days<=7?(ne="#60a5fa",de="transparent",q=`${P.days} day${P.days!==1?"s":""}`):(ne="#94a3b8",de="transparent",q=`${P.days} days`),a.jsxs("div",{className:"flex items-center justify-between py-2.5",style:{borderBottom:W<De.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-[13px] text-[var(--text-primary)] font-medium truncate",children:P.title}),a.jsxs("div",{className:"text-xs text-[var(--text-dim)] mt-1.5",children:[P.familyMemberName,P.frequency?`  ${P.frequency}`:""]})]}),P.days===0?a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold shrink-0",style:{background:de,color:ne},children:q}):a.jsx("span",{className:"text-xs font-medium shrink-0 tabular-nums",style:{color:ne},children:q})]},P.reminderId||W)})]}),V.activeInsurance.length>0&&a.jsxs("div",{className:`rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors ${V.activeGoals.length===0?"md:col-span-2":""}`,onClick:()=>e("/insurance"),children:[a.jsx(ta,{label:"Insurance Coverage",color:"var(--text-muted)",linkText:"View All",onClick:P=>{P.stopPropagation(),e("/insurance")}}),a.jsxs("div",{className:"flex gap-3 mb-4 flex-wrap",children:[V.lifeCover>0&&a.jsxs("div",{className:"flex items-center gap-1 text-[13px]",children:[a.jsx("span",{className:"text-[var(--text-dim)]",children:"Life:"}),a.jsx("span",{className:"font-semibold text-cyan-400",children:K(V.lifeCover)})]}),V.healthCover>0&&a.jsxs("div",{className:"flex items-center gap-1 text-[13px]",children:[a.jsx("span",{className:"text-[var(--text-dim)]",children:"Health:"}),a.jsx("span",{className:"font-semibold text-emerald-400",children:K(V.healthCover)})]}),V.totalPremium>0&&a.jsxs("div",{className:"flex items-center gap-1 text-[13px]",children:[a.jsx("span",{className:"text-[var(--text-dim)]",children:"Premium:"}),a.jsxs("span",{className:"font-medium text-[var(--text-muted)]",children:[K(V.totalPremium),"/yr"]})]})]}),a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Policy"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Nominee"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Policy No."}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-right pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Cover"})]})}),a.jsx("tbody",{children:V.activeInsurance.map((P,W)=>{const ne=P.policyType==="Term Life"?"#22d3ee":P.policyType==="Health"?"#34d399":"#94a3b8";return a.jsxs("tr",{children:[a.jsxs("td",{className:"py-3.5",style:{borderBottom:W<V.activeInsurance.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:[a.jsx("div",{className:"text-[13px] font-medium text-[var(--text-primary)]",children:P.policyName}),a.jsxs("div",{className:"text-xs text-[var(--text-dim)] mt-1.5",children:[P.policyType,"  ",P.insuredMember]})]}),a.jsx("td",{className:"text-xs text-[var(--text-secondary)] py-3.5",style:{borderBottom:W<V.activeInsurance.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:P.nominee||""}),a.jsx("td",{className:"text-xs text-[var(--text-secondary)] font-medium py-3.5 tabular-nums",style:{borderBottom:W<V.activeInsurance.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:i(P.policyNumber,"policy")}),a.jsx("td",{className:"text-sm font-semibold py-3.5 text-right tabular-nums",style:{color:ne,borderBottom:W<V.activeInsurance.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:K(P.sumAssured)})]},P.policyId||W)})})]})]}),V.activeGoals.length>0&&a.jsxs("div",{className:`rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors ${V.activeInsurance.length===0?"md:col-span-2":""}`,onClick:()=>e("/goals"),children:[a.jsx(ta,{label:"Financial Goals",color:"var(--text-muted)",linkText:"View All",onClick:P=>{P.stopPropagation(),e("/goals")}}),V.activeGoals.map((P,W)=>{const ne=P.targetAmount>0?Math.min(P.currentValue/P.targetAmount*100,100):0,de=P.targetDate?new Date(P.targetDate).getFullYear():null;let q,oe;return ne>=100?(q="#34d399",oe="Achieved"):P.status==="Needs Attention"?(q="#fbbf24",oe="Needs Attention"):P.status==="On Track"?(q="#60a5fa",oe="On Track"):(q="#a78bfa",oe=P.status||"In Progress"),a.jsxs("div",{className:W<V.activeGoals.length-1?"mb-4":"",children:[a.jsxs("div",{className:"flex items-center justify-between text-[13px]",children:[a.jsx("span",{className:"font-medium text-[var(--text-secondary)]",children:P.goalName}),a.jsxs("span",{className:"text-[var(--text-muted)] font-medium tabular-nums",children:[K(P.currentValue)," ",a.jsxs("span",{className:"text-[var(--text-dim)] font-normal",children:["/ ",K(P.targetAmount)]})]})]}),a.jsx("div",{className:"h-[5px] rounded-[3px] overflow-hidden mt-2",style:{background:"var(--bg-inset)"},children:a.jsx("div",{className:"h-full rounded-[3px]",style:{width:`${ne}%`,background:q}})}),a.jsxs("div",{className:"flex items-center justify-between text-xs mt-2",children:[a.jsx("span",{className:"font-medium",style:{color:q},children:oe}),a.jsxs("span",{className:"text-[var(--text-dim)] tabular-nums",children:[ne.toFixed(ne>=100?0:1),"%",de?`  ${de}`:""]})]})]},P.goalId||W)})]}),a.jsx("div",{className:"md:col-span-2",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[V.filteredMembers.length>0&&a.jsxs("div",{className:"rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors",onClick:()=>e("/family"),children:[a.jsx(ta,{label:"Family Members",color:"var(--text-muted)",linkText:"View",onClick:P=>{P.stopPropagation(),e("/family")}}),a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Member"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Role"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-right pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Net Worth"})]})}),a.jsx("tbody",{children:V.filteredMembers.map((P,W)=>{const ne=V.memberNetWorth[P.memberId]||0,de=V.netWorth||1,q=de>0?Math.round(ne/de*100):0,oe=a_[P.relationship]||a_.Child;return a.jsxs("tr",{children:[a.jsx("td",{className:"py-3.5",style:{borderBottom:W<V.filteredMembers.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-[26px] h-[26px] rounded-full flex items-center justify-center text-[11px] font-bold text-white shrink-0",style:{background:n_[W%n_.length]},children:P.memberName?.charAt(0)||"?"}),a.jsx("span",{className:"text-[13px] font-medium text-[var(--text-primary)]",children:P.memberName})]})}),a.jsx("td",{className:"py-3.5",style:{borderBottom:W<V.filteredMembers.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold",style:{background:oe.bg,color:oe.color},children:P.relationship})}),a.jsxs("td",{className:"text-[13px] font-semibold text-[var(--text-primary)] py-3.5 text-right tabular-nums",style:{borderBottom:W<V.filteredMembers.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:[K(ne),V.filteredMembers.length>1&&a.jsxs("span",{className:"text-[var(--text-dim)] font-normal ml-1",children:["(",q,"%)"]})]})]},P.memberId)})})]})]}),V.filteredBanks.length>0&&a.jsxs("div",{className:"rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors",onClick:()=>e("/accounts/bank"),children:[a.jsx(ta,{label:"Bank Accounts",color:"var(--text-muted)",linkText:"View",onClick:P=>{P.stopPropagation(),e("/accounts/bank")}}),a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Account"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Owner"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-right pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"A/C Number"})]})}),a.jsx("tbody",{children:V.filteredBanks.map((P,W)=>a.jsxs("tr",{children:[a.jsx("td",{className:"text-[13px] font-medium text-[var(--text-primary)] py-3.5",style:{borderBottom:W<V.filteredBanks.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:P.accountName}),a.jsx("td",{className:"text-[13px] text-[var(--text-secondary)] py-3.5",style:{borderBottom:W<V.filteredBanks.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:P.memberName}),a.jsx("td",{className:"text-[13px] text-[var(--text-secondary)] font-medium py-3.5 text-right tabular-nums",style:{borderBottom:W<V.filteredBanks.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:i(P.accountNumber,"account")})]},P.accountId||W))})]})]}),V.filteredInvAccounts.length>0&&a.jsxs("div",{className:"rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors",onClick:()=>e("/accounts/investment"),children:[a.jsx(ta,{label:"Investment Accounts",color:"var(--text-muted)",linkText:"View",onClick:P=>{P.stopPropagation(),e("/accounts/investment")}}),a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Platform"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Owner"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-right pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Client ID"})]})}),a.jsx("tbody",{children:V.filteredInvAccounts.map((P,W)=>a.jsxs("tr",{children:[a.jsx("td",{className:"text-[13px] font-medium text-[var(--text-primary)] py-3.5",style:{borderBottom:W<V.filteredInvAccounts.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:P.platformBroker}),a.jsx("td",{className:"text-[13px] text-[var(--text-secondary)] py-3.5",style:{borderBottom:W<V.filteredInvAccounts.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:P.memberName}),a.jsx("td",{className:"text-[13px] text-[var(--text-secondary)] font-medium py-3.5 text-right tabular-nums",style:{borderBottom:W<V.filteredInvAccounts.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:i(P.accountClientId,"clientId")})]},P.accountId||W))})]})]})]})}),a.jsxs("div",{className:"md:col-span-2 mt-3 py-3 px-6 flex items-center justify-between",style:{borderTop:"1px solid rgba(128,128,128,0.08)"},children:[a.jsxs("a",{href:"https://capitalfriends.in",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 no-underline",children:[a.jsx("img",{src:"/logo-new.png",alt:"Capital Friends",className:"h-6 w-auto"}),a.jsxs("span",{style:{fontFamily:"'Poppins', sans-serif",fontSize:"12px"},children:[a.jsx("span",{className:"font-bold text-[var(--text-primary)]",children:"Capital"}),a.jsx("span",{className:"font-extrabold text-emerald-400",children:"Friends"})]})]}),a.jsx("span",{className:"text-[11px] text-[var(--text-dim)]",children:"capitalfriends.in"})]})]})]})}function Moe(){return a.jsxs(r8,{children:[a.jsx(Jt,{index:!0,element:a.jsx(cse,{})}),a.jsx(Jt,{path:"login",element:a.jsx(EI,{})}),a.jsx(Jt,{element:a.jsx(ase,{}),children:a.jsxs(Jt,{element:a.jsx(nse,{}),children:[a.jsx(Jt,{path:"dashboard",element:a.jsx(koe,{})}),a.jsx(Jt,{path:"family",element:a.jsx(Wle,{})}),a.jsx(Jt,{path:"accounts/bank",element:a.jsx(M5,{})}),a.jsx(Jt,{path:"accounts/investment",element:a.jsx(hse,{})}),a.jsx(Jt,{path:"insurance",element:a.jsx(bse,{})}),a.jsx(Jt,{path:"investments/mutual-funds",element:a.jsx(Tle,{})}),a.jsx(Jt,{path:"investments/stocks",element:a.jsx(Ule,{})}),a.jsx(Jt,{path:"investments/other",element:a.jsx(_se,{})}),a.jsx(Jt,{path:"liabilities",element:a.jsx(Nse,{})}),a.jsx(Jt,{path:"goals",element:a.jsx(eoe,{})}),a.jsx(Jt,{path:"reports",element:a.jsx(foe,{})}),a.jsx(Jt,{path:"reminders",element:a.jsx(uoe,{})}),a.jsx(Jt,{path:"health-check",element:a.jsx(moe,{})}),a.jsx(Jt,{path:"about",element:a.jsx(hoe,{})}),a.jsx(Jt,{path:"test",element:a.jsx(woe,{})}),a.jsx(Jt,{path:"settings",element:a.jsx(aoe,{})}),a.jsx(Jt,{path:"more",element:a.jsx(noe,{})}),a.jsx(Jt,{path:"accounts",element:a.jsx(M5,{})}),a.jsx(Jt,{path:"*",element:a.jsx(use,{})})]})})]})}n6.createRoot(document.getElementById("root")).render(a.jsx(A8,{children:a.jsx(_F,{children:a.jsx(OF,{children:a.jsx(QB,{children:a.jsx(zB,{children:a.jsx(BB,{children:a.jsx(PF,{children:a.jsx(IF,{children:a.jsx(Moe,{})})})})})})})})}));export{ip as _,Doe as c,si as g};
