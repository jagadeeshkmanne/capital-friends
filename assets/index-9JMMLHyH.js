function Lj(s,l){for(var r=0;r<l.length;r++){const t=l[r];if(typeof t!="string"&&!Array.isArray(t)){for(const o in t)if(o!=="default"&&!(o in s)){const u=Object.getOwnPropertyDescriptor(t,o);u&&Object.defineProperty(s,o,u.get?u:{enumerable:!0,get:()=>t[o]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&t(d)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function t(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();function sg(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Km={exports:{}},Ni={};var i0;function Ij(){if(i0)return Ni;i0=1;var s=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function r(t,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:t,key:d,ref:o!==void 0?o:null,props:u}}return Ni.Fragment=l,Ni.jsx=r,Ni.jsxs=r,Ni}var o0;function Pj(){return o0||(o0=1,Km.exports=Ij()),Km.exports}var n=Pj(),Xm={exports:{}},Ee={};var c0;function zj(){if(c0)return Ee;c0=1;var s=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),t=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function w(L){return L===null||typeof L!="object"?null:(L=S&&L[S]||L["@@iterator"],typeof L=="function"?L:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,y={};function N(L,ne,de){this.props=L,this.context=ne,this.refs=y,this.updater=de||M}N.prototype.isReactComponent={},N.prototype.setState=function(L,ne){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,ne,"setState")},N.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function k(){}k.prototype=N.prototype;function g(L,ne,de){this.props=L,this.context=ne,this.refs=y,this.updater=de||M}var O=g.prototype=new k;O.constructor=g,D(O,N.prototype),O.isPureReactComponent=!0;var Y=Array.isArray;function z(){}var U={H:null,A:null,T:null,S:null},_=Object.prototype.hasOwnProperty;function B(L,ne,de){var fe=de.ref;return{$$typeof:s,type:L,key:ne,ref:fe!==void 0?fe:null,props:de}}function H(L,ne){return B(L.type,ne,L.props)}function Q(L){return typeof L=="object"&&L!==null&&L.$$typeof===s}function E(L){var ne={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(de){return ne[de]})}var le=/\/+/g;function G(L,ne){return typeof L=="object"&&L!==null&&L.key!=null?E(""+L.key):ne.toString(36)}function J(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(z,z):(L.status="pending",L.then(function(ne){L.status==="pending"&&(L.status="fulfilled",L.value=ne)},function(ne){L.status==="pending"&&(L.status="rejected",L.reason=ne)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function F(L,ne,de,fe,Se){var P=typeof L;(P==="undefined"||P==="boolean")&&(L=null);var re=!1;if(L===null)re=!0;else switch(P){case"bigint":case"string":case"number":re=!0;break;case"object":switch(L.$$typeof){case s:case l:re=!0;break;case v:return re=L._init,F(re(L._payload),ne,de,fe,Se)}}if(re)return Se=Se(L),re=fe===""?"."+G(L,0):fe,Y(Se)?(de="",re!=null&&(de=re.replace(le,"$&/")+"/"),F(Se,ne,de,"",function(pe){return pe})):Se!=null&&(Q(Se)&&(Se=H(Se,de+(Se.key==null||L&&L.key===Se.key?"":(""+Se.key).replace(le,"$&/")+"/")+re)),ne.push(Se)),1;re=0;var ve=fe===""?".":fe+":";if(Y(L))for(var be=0;be<L.length;be++)fe=L[be],P=ve+G(fe,be),re+=F(fe,ne,de,P,Se);else if(be=w(L),typeof be=="function")for(L=be.call(L),be=0;!(fe=L.next()).done;)fe=fe.value,P=ve+G(fe,be++),re+=F(fe,ne,de,P,Se);else if(P==="object"){if(typeof L.then=="function")return F(J(L),ne,de,fe,Se);throw ne=String(L),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return re}function A(L,ne,de){if(L==null)return L;var fe=[],Se=0;return F(L,fe,"","",function(P){return ne.call(de,P,Se++)}),fe}function R(L){if(L._status===-1){var ne=L._result;ne=ne(),ne.then(function(de){(L._status===0||L._status===-1)&&(L._status=1,L._result=de)},function(de){(L._status===0||L._status===-1)&&(L._status=2,L._result=de)}),L._status===-1&&(L._status=0,L._result=ne)}if(L._status===1)return L._result.default;throw L._result}var ce=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},ue={map:A,forEach:function(L,ne,de){A(L,function(){ne.apply(this,arguments)},de)},count:function(L){var ne=0;return A(L,function(){ne++}),ne},toArray:function(L){return A(L,function(ne){return ne})||[]},only:function(L){if(!Q(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Ee.Activity=b,Ee.Children=ue,Ee.Component=N,Ee.Fragment=r,Ee.Profiler=o,Ee.PureComponent=g,Ee.StrictMode=t,Ee.Suspense=x,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(L){return U.H.useMemoCache(L)}},Ee.cache=function(L){return function(){return L.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(L,ne,de){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var fe=D({},L.props),Se=L.key;if(ne!=null)for(P in ne.key!==void 0&&(Se=""+ne.key),ne)!_.call(ne,P)||P==="key"||P==="__self"||P==="__source"||P==="ref"&&ne.ref===void 0||(fe[P]=ne[P]);var P=arguments.length-2;if(P===1)fe.children=de;else if(1<P){for(var re=Array(P),ve=0;ve<P;ve++)re[ve]=arguments[ve+2];fe.children=re}return B(L.type,Se,fe)},Ee.createContext=function(L){return L={$$typeof:d,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:u,_context:L},L},Ee.createElement=function(L,ne,de){var fe,Se={},P=null;if(ne!=null)for(fe in ne.key!==void 0&&(P=""+ne.key),ne)_.call(ne,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Se[fe]=ne[fe]);var re=arguments.length-2;if(re===1)Se.children=de;else if(1<re){for(var ve=Array(re),be=0;be<re;be++)ve[be]=arguments[be+2];Se.children=ve}if(L&&L.defaultProps)for(fe in re=L.defaultProps,re)Se[fe]===void 0&&(Se[fe]=re[fe]);return B(L,P,Se)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(L){return{$$typeof:m,render:L}},Ee.isValidElement=Q,Ee.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:R}},Ee.memo=function(L,ne){return{$$typeof:p,type:L,compare:ne===void 0?null:ne}},Ee.startTransition=function(L){var ne=U.T,de={};U.T=de;try{var fe=L(),Se=U.S;Se!==null&&Se(de,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(z,ce)}catch(P){ce(P)}finally{ne!==null&&de.types!==null&&(ne.types=de.types),U.T=ne}},Ee.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},Ee.use=function(L){return U.H.use(L)},Ee.useActionState=function(L,ne,de){return U.H.useActionState(L,ne,de)},Ee.useCallback=function(L,ne){return U.H.useCallback(L,ne)},Ee.useContext=function(L){return U.H.useContext(L)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(L,ne){return U.H.useDeferredValue(L,ne)},Ee.useEffect=function(L,ne){return U.H.useEffect(L,ne)},Ee.useEffectEvent=function(L){return U.H.useEffectEvent(L)},Ee.useId=function(){return U.H.useId()},Ee.useImperativeHandle=function(L,ne,de){return U.H.useImperativeHandle(L,ne,de)},Ee.useInsertionEffect=function(L,ne){return U.H.useInsertionEffect(L,ne)},Ee.useLayoutEffect=function(L,ne){return U.H.useLayoutEffect(L,ne)},Ee.useMemo=function(L,ne){return U.H.useMemo(L,ne)},Ee.useOptimistic=function(L,ne){return U.H.useOptimistic(L,ne)},Ee.useReducer=function(L,ne,de){return U.H.useReducer(L,ne,de)},Ee.useRef=function(L){return U.H.useRef(L)},Ee.useState=function(L){return U.H.useState(L)},Ee.useSyncExternalStore=function(L,ne,de){return U.H.useSyncExternalStore(L,ne,de)},Ee.useTransition=function(){return U.H.useTransition()},Ee.version="19.2.4",Ee}var u0;function Hf(){return u0||(u0=1,Xm.exports=zj()),Xm.exports}var j=Hf();const ae=sg(j),lg=Lj({__proto__:null,default:ae},[j]);var Wm={exports:{}},ji={},Zm={exports:{}},Jm={};var d0;function Fj(){return d0||(d0=1,(function(s){function l(F,A){var R=F.length;F.push(A);e:for(;0<R;){var ce=R-1>>>1,ue=F[ce];if(0<o(ue,A))F[ce]=A,F[R]=ue,R=ce;else break e}}function r(F){return F.length===0?null:F[0]}function t(F){if(F.length===0)return null;var A=F[0],R=F.pop();if(R!==A){F[0]=R;e:for(var ce=0,ue=F.length,L=ue>>>1;ce<L;){var ne=2*(ce+1)-1,de=F[ne],fe=ne+1,Se=F[fe];if(0>o(de,R))fe<ue&&0>o(Se,de)?(F[ce]=Se,F[fe]=R,ce=fe):(F[ce]=de,F[ne]=R,ce=ne);else if(fe<ue&&0>o(Se,R))F[ce]=Se,F[fe]=R,ce=fe;else break e}}return A}function o(F,A){var R=F.sortIndex-A.sortIndex;return R!==0?R:F.id-A.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();s.unstable_now=function(){return d.now()-m}}var x=[],p=[],v=1,b=null,S=3,w=!1,M=!1,D=!1,y=!1,N=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;function O(F){for(var A=r(p);A!==null;){if(A.callback===null)t(p);else if(A.startTime<=F)t(p),A.sortIndex=A.expirationTime,l(x,A);else break;A=r(p)}}function Y(F){if(D=!1,O(F),!M)if(r(x)!==null)M=!0,z||(z=!0,E());else{var A=r(p);A!==null&&J(Y,A.startTime-F)}}var z=!1,U=-1,_=5,B=-1;function H(){return y?!0:!(s.unstable_now()-B<_)}function Q(){if(y=!1,z){var F=s.unstable_now();B=F;var A=!0;try{e:{M=!1,D&&(D=!1,k(U),U=-1),w=!0;var R=S;try{t:{for(O(F),b=r(x);b!==null&&!(b.expirationTime>F&&H());){var ce=b.callback;if(typeof ce=="function"){b.callback=null,S=b.priorityLevel;var ue=ce(b.expirationTime<=F);if(F=s.unstable_now(),typeof ue=="function"){b.callback=ue,O(F),A=!0;break t}b===r(x)&&t(x),O(F)}else t(x);b=r(x)}if(b!==null)A=!0;else{var L=r(p);L!==null&&J(Y,L.startTime-F),A=!1}}break e}finally{b=null,S=R,w=!1}A=void 0}}finally{A?E():z=!1}}}var E;if(typeof g=="function")E=function(){g(Q)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,G=le.port2;le.port1.onmessage=Q,E=function(){G.postMessage(null)}}else E=function(){N(Q,0)};function J(F,A){U=N(function(){F(s.unstable_now())},A)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(F){switch(S){case 1:case 2:case 3:var A=3;break;default:A=S}var R=S;S=A;try{return F()}finally{S=R}},s.unstable_requestPaint=function(){y=!0},s.unstable_runWithPriority=function(F,A){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var R=S;S=F;try{return A()}finally{S=R}},s.unstable_scheduleCallback=function(F,A,R){var ce=s.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?ce+R:ce):R=ce,F){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=R+ue,F={id:v++,callback:A,priorityLevel:F,startTime:R,expirationTime:ue,sortIndex:-1},R>ce?(F.sortIndex=R,l(p,F),r(x)===null&&F===r(p)&&(D?(k(U),U=-1):D=!0,J(Y,R-ce))):(F.sortIndex=ue,l(x,F),M||w||(M=!0,z||(z=!0,E()))),F},s.unstable_shouldYield=H,s.unstable_wrapCallback=function(F){var A=S;return function(){var R=S;S=A;try{return F.apply(this,arguments)}finally{S=R}}}})(Jm)),Jm}var m0;function Bj(){return m0||(m0=1,Zm.exports=Fj()),Zm.exports}var ef={exports:{}},Vt={};var f0;function Hj(){if(f0)return Vt;f0=1;var s=Hf();function l(x){var p="https://react.dev/errors/"+x;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+x+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var t={d:{f:r,r:function(){throw Error(l(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(x,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:x,containerInfo:p,implementation:v}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(x,p){if(x==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=t,Vt.createPortal=function(x,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(l(299));return u(x,p,null,v)},Vt.flushSync=function(x){var p=d.T,v=t.p;try{if(d.T=null,t.p=2,x)return x()}finally{d.T=p,t.p=v,t.d.f()}},Vt.preconnect=function(x,p){typeof x=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,t.d.C(x,p))},Vt.prefetchDNS=function(x){typeof x=="string"&&t.d.D(x)},Vt.preinit=function(x,p){if(typeof x=="string"&&p&&typeof p.as=="string"){var v=p.as,b=m(v,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?t.d.S(x,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:w}):v==="script"&&t.d.X(x,{crossOrigin:b,integrity:S,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Vt.preinitModule=function(x,p){if(typeof x=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=m(p.as,p.crossOrigin);t.d.M(x,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&t.d.M(x)},Vt.preload=function(x,p){if(typeof x=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=m(v,p.crossOrigin);t.d.L(x,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Vt.preloadModule=function(x,p){if(typeof x=="string")if(p){var v=m(p.as,p.crossOrigin);t.d.m(x,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else t.d.m(x)},Vt.requestFormReset=function(x){t.d.r(x)},Vt.unstable_batchedUpdates=function(x,p){return x(p)},Vt.useFormState=function(x,p,v){return d.H.useFormState(x,p,v)},Vt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Vt.version="19.2.4",Vt}var p0;function ig(){if(p0)return ef.exports;p0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(l){console.error(l)}}return s(),ef.exports=Hj(),ef.exports}var x0;function Yj(){if(x0)return ji;x0=1;var s=Bj(),l=Hf(),r=ig();function t(e){var a="https://react.dev/errors/"+e;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)a+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var a=e,i=e;if(e.alternate)for(;a.return;)a=a.return;else{e=a;do a=e,(a.flags&4098)!==0&&(i=a.return),e=a.return;while(e)}return a.tag===3?i:null}function d(e){if(e.tag===13){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function m(e){if(e.tag===31){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function x(e){if(u(e)!==e)throw Error(t(188))}function p(e){var a=e.alternate;if(!a){if(a=u(e),a===null)throw Error(t(188));return a!==e?null:e}for(var i=e,c=a;;){var f=i.return;if(f===null)break;var h=f.alternate;if(h===null){if(c=f.return,c!==null){i=c;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===i)return x(f),e;if(h===c)return x(f),a;h=h.sibling}throw Error(t(188))}if(i.return!==c.return)i=f,c=h;else{for(var C=!1,T=f.child;T;){if(T===i){C=!0,i=f,c=h;break}if(T===c){C=!0,c=f,i=h;break}T=T.sibling}if(!C){for(T=h.child;T;){if(T===i){C=!0,i=h,c=f;break}if(T===c){C=!0,c=h,i=f;break}T=T.sibling}if(!C)throw Error(t(189))}}if(i.alternate!==c)throw Error(t(190))}if(i.tag!==3)throw Error(t(188));return i.stateNode.current===i?e:a}function v(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e;for(e=e.child;e!==null;){if(a=v(e),a!==null)return a;e=e.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),g=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function E(e){return e===null||typeof e!="object"?null:(e=Q&&e[Q]||e["@@iterator"],typeof e=="function"?e:null)}var le=Symbol.for("react.client.reference");function G(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===le?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case N:return"Profiler";case y:return"StrictMode";case Y:return"Suspense";case z:return"SuspenseList";case B:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case g:return e.displayName||"Context";case k:return(e._context.displayName||"Context")+".Consumer";case O:var a=e.render;return e=e.displayName,e||(e=a.displayName||a.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case U:return a=e.displayName||null,a!==null?a:G(e.type)||"Memo";case _:a=e._payload,e=e._init;try{return G(e(a))}catch{}}return null}var J=Array.isArray,F=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},ce=[],ue=-1;function L(e){return{current:e}}function ne(e){0>ue||(e.current=ce[ue],ce[ue]=null,ue--)}function de(e,a){ue++,ce[ue]=e.current,e.current=a}var fe=L(null),Se=L(null),P=L(null),re=L(null);function ve(e,a){switch(de(P,a),de(Se,e),de(fe,null),a.nodeType){case 9:case 11:e=(e=a.documentElement)&&(e=e.namespaceURI)?Tv(e):0;break;default:if(e=a.tagName,a=a.namespaceURI)a=Tv(a),e=Ev(a,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ne(fe),de(fe,e)}function be(){ne(fe),ne(Se),ne(P)}function pe(e){e.memoizedState!==null&&de(re,e);var a=fe.current,i=Ev(a,e.type);a!==i&&(de(Se,e),de(fe,i))}function De(e){Se.current===e&&(ne(fe),ne(Se)),re.current===e&&(ne(re),vi._currentValue=R)}var Fe,$e;function We(e){if(Fe===void 0)try{throw Error()}catch(i){var a=i.stack.trim().match(/\n( *(at )?)/);Fe=a&&a[1]||"",$e=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fe+e+$e}var xt=!1;function ht(e,a){if(!e||xt)return"";xt=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(te){var Z=te}Reflect.construct(e,[],oe)}else{try{oe.call()}catch(te){Z=te}e.call(oe.prototype)}}else{try{throw Error()}catch(te){Z=te}(oe=e())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(te){if(te&&Z&&typeof te.stack=="string")return[te.stack,Z.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=c.DetermineComponentFrameRoot(),C=h[0],T=h[1];if(C&&T){var I=C.split(`
`),W=T.split(`
`);for(f=c=0;c<I.length&&!I[c].includes("DetermineComponentFrameRoot");)c++;for(;f<W.length&&!W[f].includes("DetermineComponentFrameRoot");)f++;if(c===I.length||f===W.length)for(c=I.length-1,f=W.length-1;1<=c&&0<=f&&I[c]!==W[f];)f--;for(;1<=c&&0<=f;c--,f--)if(I[c]!==W[f]){if(c!==1||f!==1)do if(c--,f--,0>f||I[c]!==W[f]){var se=`
`+I[c].replace(" at new "," at ");return e.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",e.displayName)),se}while(1<=c&&0<=f);break}}}finally{xt=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?We(i):""}function Wt(e,a){switch(e.tag){case 26:case 27:case 5:return We(e.type);case 16:return We("Lazy");case 13:return e.child!==a&&a!==null?We("Suspense Fallback"):We("Suspense");case 19:return We("SuspenseList");case 0:case 15:return ht(e.type,!1);case 11:return ht(e.type.render,!1);case 1:return ht(e.type,!0);case 31:return We("Activity");default:return""}}function Ze(e){try{var a="",i=null;do a+=Wt(e,i),i=e,e=e.return;while(e);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var qe=Object.prototype.hasOwnProperty,It=s.unstable_scheduleCallback,Ya=s.unstable_cancelCallback,Me=s.unstable_shouldYield,lt=s.unstable_requestPaint,it=s.unstable_now,na=s.unstable_getCurrentPriorityLevel,Tt=s.unstable_ImmediatePriority,Ut=s.unstable_UserBlockingPriority,Ja=s.unstable_NormalPriority,_u=s.unstable_LowPriority,Ji=s.unstable_IdlePriority,Ou=s.log,Ru=s.unstable_setDisableYieldValue,Er=null,Zt=null;function en(e){if(typeof Ou=="function"&&Ru(e),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(Er,e)}catch{}}var Jt=Math.clz32?Math.clz32:Pu,Lu=Math.log,Iu=Math.LN2;function Pu(e){return e>>>=0,e===0?32:31-(Lu(e)/Iu|0)|0}var fs=256,ps=262144,xs=4194304;function wn(e){var a=e&42;if(a!==0)return a;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function hs(e,a,i){var c=e.pendingLanes;if(c===0)return 0;var f=0,h=e.suspendedLanes,C=e.pingedLanes;e=e.warmLanes;var T=c&134217727;return T!==0?(c=T&~h,c!==0?f=wn(c):(C&=T,C!==0?f=wn(C):i||(i=T&~e,i!==0&&(f=wn(i))))):(T=c&~h,T!==0?f=wn(T):C!==0?f=wn(C):i||(i=c&~e,i!==0&&(f=wn(i)))),f===0?0:a!==0&&a!==f&&(a&h)===0&&(h=f&-f,i=a&-a,h>=i||h===32&&(i&4194048)!==0)?a:f}function _r(e,a){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&a)===0}function zu(e,a){switch(e){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eo(){var e=xs;return xs<<=1,(xs&62914560)===0&&(xs=4194304),e}function Al(e){for(var a=[],i=0;31>i;i++)a.push(e);return a}function Or(e,a){e.pendingLanes|=a,a!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fu(e,a,i,c,f,h){var C=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,W=e.hiddenUpdates;for(i=C&~i;0<i;){var se=31-Jt(i),oe=1<<se;T[se]=0,I[se]=-1;var Z=W[se];if(Z!==null)for(W[se]=null,se=0;se<Z.length;se++){var te=Z[se];te!==null&&(te.lane&=-536870913)}i&=~oe}c!==0&&to(e,c,0),h!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=h&~(C&~a))}function to(e,a,i){e.pendingLanes|=a,e.suspendedLanes&=~a;var c=31-Jt(a);e.entangledLanes|=a,e.entanglements[c]=e.entanglements[c]|1073741824|i&261930}function ao(e,a){var i=e.entangledLanes|=a;for(e=e.entanglements;i;){var c=31-Jt(i),f=1<<c;f&a|e[c]&a&&(e[c]|=a),i&=~f}}function no(e,a){var i=a&-a;return i=(i&42)!==0?1:Tl(i),(i&(e.suspendedLanes|a))!==0?0:i}function Tl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function El(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ro(){var e=A.p;return e!==0?e:(e=window.event,e===void 0?32:e0(e.type))}function so(e,a){var i=A.p;try{return A.p=e,a()}finally{A.p=i}}var tn=Math.random().toString(36).slice(2),Et="__reactFiber$"+tn,$t="__reactProps$"+tn,Jn="__reactContainer$"+tn,_l="__reactEvents$"+tn,Bu="__reactListeners$"+tn,Hu="__reactHandles$"+tn,$="__reactResources$"+tn,xe="__reactMarker$"+tn;function Pt(e){delete e[Et],delete e[$t],delete e[_l],delete e[Bu],delete e[Hu]}function qa(e){var a=e[Et];if(a)return a;for(var i=e.parentNode;i;){if(a=i[Jn]||i[Et]){if(i=a.alternate,a.child!==null||i!==null&&i.child!==null)for(e=zv(e);e!==null;){if(i=e[Et])return i;e=zv(e)}return a}e=i,i=e.parentNode}return null}function vs(e){if(e=e[Et]||e[Jn]){var a=e.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return e}return null}function Ol(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e.stateNode;throw Error(t(33))}function bs(e){var a=e[$];return a||(a=e[$]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Rt(e){e[xe]=!0}var bp=new Set,gp={};function Rr(e,a){gs(e,a),gs(e+"Capture",a)}function gs(e,a){for(gp[e]=a,e=0;e<a.length;e++)bp.add(a[e])}var D1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yp={},Np={};function k1(e){return qe.call(Np,e)?!0:qe.call(yp,e)?!1:D1.test(e)?Np[e]=!0:(yp[e]=!0,!1)}function lo(e,a,i){if(k1(a))if(i===null)e.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(a);return}}e.setAttribute(a,""+i)}}function io(e,a,i){if(i===null)e.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttribute(a,""+i)}}function Sn(e,a,i,c){if(c===null)e.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(a,i,""+c)}}function Aa(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jp(e){var a=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function M1(e,a,i){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,a);if(!e.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,h=c.set;return Object.defineProperty(e,a,{configurable:!0,get:function(){return f.call(this)},set:function(C){i=""+C,h.call(this,C)}}),Object.defineProperty(e,a,{enumerable:c.enumerable}),{getValue:function(){return i},setValue:function(C){i=""+C},stopTracking:function(){e._valueTracker=null,delete e[a]}}}}function Yu(e){if(!e._valueTracker){var a=jp(e)?"checked":"value";e._valueTracker=M1(e,a,""+e[a])}}function wp(e){if(!e)return!1;var a=e._valueTracker;if(!a)return!0;var i=a.getValue(),c="";return e&&(c=jp(e)?e.checked?"true":"false":e.value),e=c,e!==i?(a.setValue(e),!0):!1}function oo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var A1=/[\n"\\]/g;function Ta(e){return e.replace(A1,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function qu(e,a,i,c,f,h,C,T){e.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.type=C:e.removeAttribute("type"),a!=null?C==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+Aa(a)):e.value!==""+Aa(a)&&(e.value=""+Aa(a)):C!=="submit"&&C!=="reset"||e.removeAttribute("value"),a!=null?Uu(e,C,Aa(a)):i!=null?Uu(e,C,Aa(i)):c!=null&&e.removeAttribute("value"),f==null&&h!=null&&(e.defaultChecked=!!h),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Aa(T):e.removeAttribute("name")}function Sp(e,a,i,c,f,h,C,T){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),a!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||a!=null)){Yu(e);return}i=i!=null?""+Aa(i):"",a=a!=null?""+Aa(a):i,T||a===e.value||(e.value=a),e.defaultValue=a}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=T?e.checked:!!c,e.defaultChecked=!!c,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(e.name=C),Yu(e)}function Uu(e,a,i){a==="number"&&oo(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function ys(e,a,i,c){if(e=e.options,a){a={};for(var f=0;f<i.length;f++)a["$"+i[f]]=!0;for(i=0;i<e.length;i++)f=a.hasOwnProperty("$"+e[i].value),e[i].selected!==f&&(e[i].selected=f),f&&c&&(e[i].defaultSelected=!0)}else{for(i=""+Aa(i),a=null,f=0;f<e.length;f++){if(e[f].value===i){e[f].selected=!0,c&&(e[f].defaultSelected=!0);return}a!==null||e[f].disabled||(a=e[f])}a!==null&&(a.selected=!0)}}function Cp(e,a,i){if(a!=null&&(a=""+Aa(a),a!==e.value&&(e.value=a),i==null)){e.defaultValue!==a&&(e.defaultValue=a);return}e.defaultValue=i!=null?""+Aa(i):""}function Dp(e,a,i,c){if(a==null){if(c!=null){if(i!=null)throw Error(t(92));if(J(c)){if(1<c.length)throw Error(t(93));c=c[0]}i=c}i==null&&(i=""),a=i}i=Aa(a),e.defaultValue=i,c=e.textContent,c===i&&c!==""&&c!==null&&(e.value=c),Yu(e)}function Ns(e,a){if(a){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=a;return}}e.textContent=a}var T1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kp(e,a,i){var c=a.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?c?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="":c?e.setProperty(a,i):typeof i!="number"||i===0||T1.has(a)?a==="float"?e.cssFloat=i:e[a]=(""+i).trim():e[a]=i+"px"}function Mp(e,a,i){if(a!=null&&typeof a!="object")throw Error(t(62));if(e=e.style,i!=null){for(var c in i)!i.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var f in a)c=a[f],a.hasOwnProperty(f)&&i[f]!==c&&kp(e,f,c)}else for(var h in a)a.hasOwnProperty(h)&&kp(e,h,a[h])}function $u(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var E1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function co(e){return _1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Cn(){}var Vu=null;function Gu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var js=null,ws=null;function Ap(e){var a=vs(e);if(a&&(e=a.stateNode)){var i=e[$t]||null;e:switch(e=a.stateNode,a.type){case"input":if(qu(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),a=i.name,i.type==="radio"&&a!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Ta(""+a)+'"][type="radio"]'),a=0;a<i.length;a++){var c=i[a];if(c!==e&&c.form===e.form){var f=c[$t]||null;if(!f)throw Error(t(90));qu(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<i.length;a++)c=i[a],c.form===e.form&&wp(c)}break e;case"textarea":Cp(e,i.value,i.defaultValue);break e;case"select":a=i.value,a!=null&&ys(e,!!i.multiple,a,!1)}}}var Qu=!1;function Tp(e,a,i){if(Qu)return e(a,i);Qu=!0;try{var c=e(a);return c}finally{if(Qu=!1,(js!==null||ws!==null)&&(Wo(),js&&(a=js,e=ws,ws=js=null,Ap(a),e)))for(a=0;a<e.length;a++)Ap(e[a])}}function Rl(e,a){var i=e.stateNode;if(i===null)return null;var c=i[$t]||null;if(c===null)return null;i=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(t(231,a,typeof i));return i}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ku=!1;if(Dn)try{var Ll={};Object.defineProperty(Ll,"passive",{get:function(){Ku=!0}}),window.addEventListener("test",Ll,Ll),window.removeEventListener("test",Ll,Ll)}catch{Ku=!1}var er=null,Xu=null,uo=null;function Ep(){if(uo)return uo;var e,a=Xu,i=a.length,c,f="value"in er?er.value:er.textContent,h=f.length;for(e=0;e<i&&a[e]===f[e];e++);var C=i-e;for(c=1;c<=C&&a[i-c]===f[h-c];c++);return uo=f.slice(e,1<c?1-c:void 0)}function mo(e){var a=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&a===13&&(e=13)):e=a,e===10&&(e=13),32<=e||e===13?e:0}function fo(){return!0}function _p(){return!1}function ra(e){function a(i,c,f,h,C){this._reactName=i,this._targetInst=f,this.type=c,this.nativeEvent=h,this.target=C,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(i=e[T],this[T]=i?i(h):h[T]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?fo:_p,this.isPropagationStopped=_p,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=fo)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=fo)},persist:function(){},isPersistent:fo}),a}var Lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},po=ra(Lr),Il=b({},Lr,{view:0,detail:0}),O1=ra(Il),Wu,Zu,Pl,xo=b({},Il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ed,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pl&&(Pl&&e.type==="mousemove"?(Wu=e.screenX-Pl.screenX,Zu=e.screenY-Pl.screenY):Zu=Wu=0,Pl=e),Wu)},movementY:function(e){return"movementY"in e?e.movementY:Zu}}),Op=ra(xo),R1=b({},xo,{dataTransfer:0}),L1=ra(R1),I1=b({},Il,{relatedTarget:0}),Ju=ra(I1),P1=b({},Lr,{animationName:0,elapsedTime:0,pseudoElement:0}),z1=ra(P1),F1=b({},Lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),B1=ra(F1),H1=b({},Lr,{data:0}),Rp=ra(H1),Y1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $1(e){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(e):(e=U1[e])?!!a[e]:!1}function ed(){return $1}var V1=b({},Il,{key:function(e){if(e.key){var a=Y1[e.key]||e.key;if(a!=="Unidentified")return a}return e.type==="keypress"?(e=mo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?q1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ed,charCode:function(e){return e.type==="keypress"?mo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),G1=ra(V1),Q1=b({},xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lp=ra(Q1),K1=b({},Il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ed}),X1=ra(K1),W1=b({},Lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Z1=ra(W1),J1=b({},xo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),eN=ra(J1),tN=b({},Lr,{newState:0,oldState:0}),aN=ra(tN),nN=[9,13,27,32],td=Dn&&"CompositionEvent"in window,zl=null;Dn&&"documentMode"in document&&(zl=document.documentMode);var rN=Dn&&"TextEvent"in window&&!zl,Ip=Dn&&(!td||zl&&8<zl&&11>=zl),Pp=" ",zp=!1;function Fp(e,a){switch(e){case"keyup":return nN.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ss=!1;function sN(e,a){switch(e){case"compositionend":return Bp(a);case"keypress":return a.which!==32?null:(zp=!0,Pp);case"textInput":return e=a.data,e===Pp&&zp?null:e;default:return null}}function lN(e,a){if(Ss)return e==="compositionend"||!td&&Fp(e,a)?(e=Ep(),uo=Xu=er=null,Ss=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Ip&&a.locale!=="ko"?null:a.data;default:return null}}var iN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hp(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a==="input"?!!iN[e.type]:a==="textarea"}function Yp(e,a,i,c){js?ws?ws.push(c):ws=[c]:js=c,a=rc(a,"onChange"),0<a.length&&(i=new po("onChange","change",null,i,c),e.push({event:i,listeners:a}))}var Fl=null,Bl=null;function oN(e){Sv(e,0)}function ho(e){var a=Ol(e);if(wp(a))return e}function qp(e,a){if(e==="change")return a}var Up=!1;if(Dn){var ad;if(Dn){var nd="oninput"in document;if(!nd){var $p=document.createElement("div");$p.setAttribute("oninput","return;"),nd=typeof $p.oninput=="function"}ad=nd}else ad=!1;Up=ad&&(!document.documentMode||9<document.documentMode)}function Vp(){Fl&&(Fl.detachEvent("onpropertychange",Gp),Bl=Fl=null)}function Gp(e){if(e.propertyName==="value"&&ho(Bl)){var a=[];Yp(a,Bl,e,Gu(e)),Tp(oN,a)}}function cN(e,a,i){e==="focusin"?(Vp(),Fl=a,Bl=i,Fl.attachEvent("onpropertychange",Gp)):e==="focusout"&&Vp()}function uN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ho(Bl)}function dN(e,a){if(e==="click")return ho(a)}function mN(e,a){if(e==="input"||e==="change")return ho(a)}function fN(e,a){return e===a&&(e!==0||1/e===1/a)||e!==e&&a!==a}var ha=typeof Object.is=="function"?Object.is:fN;function Hl(e,a){if(ha(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;var i=Object.keys(e),c=Object.keys(a);if(i.length!==c.length)return!1;for(c=0;c<i.length;c++){var f=i[c];if(!qe.call(a,f)||!ha(e[f],a[f]))return!1}return!0}function Qp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kp(e,a){var i=Qp(e);e=0;for(var c;i;){if(i.nodeType===3){if(c=e+i.textContent.length,e<=a&&c>=a)return{node:i,offset:a-e};e=c}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Qp(i)}}function Xp(e,a){return e&&a?e===a?!0:e&&e.nodeType===3?!1:a&&a.nodeType===3?Xp(e,a.parentNode):"contains"in e?e.contains(a):e.compareDocumentPosition?!!(e.compareDocumentPosition(a)&16):!1:!1}function Wp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var a=oo(e.document);a instanceof e.HTMLIFrameElement;){try{var i=typeof a.contentWindow.location.href=="string"}catch{i=!1}if(i)e=a.contentWindow;else break;a=oo(e.document)}return a}function rd(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a&&(a==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||a==="textarea"||e.contentEditable==="true")}var pN=Dn&&"documentMode"in document&&11>=document.documentMode,Cs=null,sd=null,Yl=null,ld=!1;function Zp(e,a,i){var c=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ld||Cs==null||Cs!==oo(c)||(c=Cs,"selectionStart"in c&&rd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Yl&&Hl(Yl,c)||(Yl=c,c=rc(sd,"onSelect"),0<c.length&&(a=new po("onSelect","select",null,a,i),e.push({event:a,listeners:c}),a.target=Cs)))}function Ir(e,a){var i={};return i[e.toLowerCase()]=a.toLowerCase(),i["Webkit"+e]="webkit"+a,i["Moz"+e]="moz"+a,i}var Ds={animationend:Ir("Animation","AnimationEnd"),animationiteration:Ir("Animation","AnimationIteration"),animationstart:Ir("Animation","AnimationStart"),transitionrun:Ir("Transition","TransitionRun"),transitionstart:Ir("Transition","TransitionStart"),transitioncancel:Ir("Transition","TransitionCancel"),transitionend:Ir("Transition","TransitionEnd")},id={},Jp={};Dn&&(Jp=document.createElement("div").style,"AnimationEvent"in window||(delete Ds.animationend.animation,delete Ds.animationiteration.animation,delete Ds.animationstart.animation),"TransitionEvent"in window||delete Ds.transitionend.transition);function Pr(e){if(id[e])return id[e];if(!Ds[e])return e;var a=Ds[e],i;for(i in a)if(a.hasOwnProperty(i)&&i in Jp)return id[e]=a[i];return e}var ex=Pr("animationend"),tx=Pr("animationiteration"),ax=Pr("animationstart"),xN=Pr("transitionrun"),hN=Pr("transitionstart"),vN=Pr("transitioncancel"),nx=Pr("transitionend"),rx=new Map,od="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");od.push("scrollEnd");function Ua(e,a){rx.set(e,a),Rr(a,[e])}var vo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ea=[],ks=0,cd=0;function bo(){for(var e=ks,a=cd=ks=0;a<e;){var i=Ea[a];Ea[a++]=null;var c=Ea[a];Ea[a++]=null;var f=Ea[a];Ea[a++]=null;var h=Ea[a];if(Ea[a++]=null,c!==null&&f!==null){var C=c.pending;C===null?f.next=f:(f.next=C.next,C.next=f),c.pending=f}h!==0&&sx(i,f,h)}}function go(e,a,i,c){Ea[ks++]=e,Ea[ks++]=a,Ea[ks++]=i,Ea[ks++]=c,cd|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function ud(e,a,i,c){return go(e,a,i,c),yo(e)}function zr(e,a){return go(e,null,null,a),yo(e)}function sx(e,a,i){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i);for(var f=!1,h=e.return;h!==null;)h.childLanes|=i,c=h.alternate,c!==null&&(c.childLanes|=i),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(f=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,f&&a!==null&&(f=31-Jt(i),e=h.hiddenUpdates,c=e[f],c===null?e[f]=[a]:c.push(a),a.lane=i|536870912),h):null}function yo(e){if(50<ui)throw ui=0,gm=null,Error(t(185));for(var a=e.return;a!==null;)e=a,a=e.return;return e.tag===3?e.stateNode:null}var Ms={};function bN(e,a,i,c){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function va(e,a,i,c){return new bN(e,a,i,c)}function dd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kn(e,a){var i=e.alternate;return i===null?(i=va(e.tag,a,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=a,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,a=e.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function lx(e,a){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=a,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,a=i.dependencies,e.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),e}function No(e,a,i,c,f,h){var C=0;if(c=e,typeof e=="function")dd(e)&&(C=1);else if(typeof e=="string")C=wj(e,i,fe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case B:return e=va(31,i,a,f),e.elementType=B,e.lanes=h,e;case D:return Fr(i.children,f,h,a);case y:C=8,f|=24;break;case N:return e=va(12,i,a,f|2),e.elementType=N,e.lanes=h,e;case Y:return e=va(13,i,a,f),e.elementType=Y,e.lanes=h,e;case z:return e=va(19,i,a,f),e.elementType=z,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case g:C=10;break e;case k:C=9;break e;case O:C=11;break e;case U:C=14;break e;case _:C=16,c=null;break e}C=29,i=Error(t(130,e===null?"null":typeof e,"")),c=null}return a=va(C,i,a,f),a.elementType=e,a.type=c,a.lanes=h,a}function Fr(e,a,i,c){return e=va(7,e,c,a),e.lanes=i,e}function md(e,a,i){return e=va(6,e,null,a),e.lanes=i,e}function ix(e){var a=va(18,null,null,0);return a.stateNode=e,a}function fd(e,a,i){return a=va(4,e.children!==null?e.children:[],e.key,a),a.lanes=i,a.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},a}var ox=new WeakMap;function _a(e,a){if(typeof e=="object"&&e!==null){var i=ox.get(e);return i!==void 0?i:(a={value:e,source:a,stack:Ze(a)},ox.set(e,a),a)}return{value:e,source:a,stack:Ze(a)}}var As=[],Ts=0,jo=null,ql=0,Oa=[],Ra=0,tr=null,an=1,nn="";function Mn(e,a){As[Ts++]=ql,As[Ts++]=jo,jo=e,ql=a}function cx(e,a,i){Oa[Ra++]=an,Oa[Ra++]=nn,Oa[Ra++]=tr,tr=e;var c=an;e=nn;var f=32-Jt(c)-1;c&=~(1<<f),i+=1;var h=32-Jt(a)+f;if(30<h){var C=f-f%5;h=(c&(1<<C)-1).toString(32),c>>=C,f-=C,an=1<<32-Jt(a)+f|i<<f|c,nn=h+e}else an=1<<h|i<<f|c,nn=e}function pd(e){e.return!==null&&(Mn(e,1),cx(e,1,0))}function xd(e){for(;e===jo;)jo=As[--Ts],As[Ts]=null,ql=As[--Ts],As[Ts]=null;for(;e===tr;)tr=Oa[--Ra],Oa[Ra]=null,nn=Oa[--Ra],Oa[Ra]=null,an=Oa[--Ra],Oa[Ra]=null}function ux(e,a){Oa[Ra++]=an,Oa[Ra++]=nn,Oa[Ra++]=tr,an=a.id,nn=a.overflow,tr=e}var zt=null,ct=null,Ue=!1,ar=null,La=!1,hd=Error(t(519));function nr(e){var a=Error(t(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ul(_a(a,e)),hd}function dx(e){var a=e.stateNode,i=e.type,c=e.memoizedProps;switch(a[Et]=e,a[$t]=c,i){case"dialog":Ie("cancel",a),Ie("close",a);break;case"iframe":case"object":case"embed":Ie("load",a);break;case"video":case"audio":for(i=0;i<mi.length;i++)Ie(mi[i],a);break;case"source":Ie("error",a);break;case"img":case"image":case"link":Ie("error",a),Ie("load",a);break;case"details":Ie("toggle",a);break;case"input":Ie("invalid",a),Sp(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ie("invalid",a);break;case"textarea":Ie("invalid",a),Dp(a,c.value,c.defaultValue,c.children)}i=c.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||a.textContent===""+i||c.suppressHydrationWarning===!0||Mv(a.textContent,i)?(c.popover!=null&&(Ie("beforetoggle",a),Ie("toggle",a)),c.onScroll!=null&&Ie("scroll",a),c.onScrollEnd!=null&&Ie("scrollend",a),c.onClick!=null&&(a.onclick=Cn),a=!0):a=!1,a||nr(e,!0)}function mx(e){for(zt=e.return;zt;)switch(zt.tag){case 5:case 31:case 13:La=!1;return;case 27:case 3:La=!0;return;default:zt=zt.return}}function Es(e){if(e!==zt)return!1;if(!Ue)return mx(e),Ue=!0,!1;var a=e.tag,i;if((i=a!==3&&a!==27)&&((i=a===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Rm(e.type,e.memoizedProps)),i=!i),i&&ct&&nr(e),mx(e),a===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(t(317));ct=Pv(e)}else if(a===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(t(317));ct=Pv(e)}else a===27?(a=ct,vr(e.type)?(e=Fm,Fm=null,ct=e):ct=a):ct=zt?Pa(e.stateNode.nextSibling):null;return!0}function Br(){ct=zt=null,Ue=!1}function vd(){var e=ar;return e!==null&&(oa===null?oa=e:oa.push.apply(oa,e),ar=null),e}function Ul(e){ar===null?ar=[e]:ar.push(e)}var bd=L(null),Hr=null,An=null;function rr(e,a,i){de(bd,a._currentValue),a._currentValue=i}function Tn(e){e._currentValue=bd.current,ne(bd)}function gd(e,a,i){for(;e!==null;){var c=e.alternate;if((e.childLanes&a)!==a?(e.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),e===i)break;e=e.return}}function yd(e,a,i,c){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var h=f.dependencies;if(h!==null){var C=f.child;h=h.firstContext;e:for(;h!==null;){var T=h;h=f;for(var I=0;I<a.length;I++)if(T.context===a[I]){h.lanes|=i,T=h.alternate,T!==null&&(T.lanes|=i),gd(h.return,i,e),c||(C=null);break e}h=T.next}}else if(f.tag===18){if(C=f.return,C===null)throw Error(t(341));C.lanes|=i,h=C.alternate,h!==null&&(h.lanes|=i),gd(C,i,e),C=null}else C=f.child;if(C!==null)C.return=f;else for(C=f;C!==null;){if(C===e){C=null;break}if(f=C.sibling,f!==null){f.return=C.return,C=f;break}C=C.return}f=C}}function _s(e,a,i,c){e=null;for(var f=a,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var C=f.alternate;if(C===null)throw Error(t(387));if(C=C.memoizedProps,C!==null){var T=f.type;ha(f.pendingProps.value,C.value)||(e!==null?e.push(T):e=[T])}}else if(f===re.current){if(C=f.alternate,C===null)throw Error(t(387));C.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(vi):e=[vi])}f=f.return}e!==null&&yd(a,e,i,c),a.flags|=262144}function wo(e){for(e=e.firstContext;e!==null;){if(!ha(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Yr(e){Hr=e,An=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ft(e){return fx(Hr,e)}function So(e,a){return Hr===null&&Yr(e),fx(e,a)}function fx(e,a){var i=a._currentValue;if(a={context:a,memoizedValue:i,next:null},An===null){if(e===null)throw Error(t(308));An=a,e.dependencies={lanes:0,firstContext:a},e.flags|=524288}else An=An.next=a;return i}var gN=typeof AbortController<"u"?AbortController:function(){var e=[],a=this.signal={aborted:!1,addEventListener:function(i,c){e.push(c)}};this.abort=function(){a.aborted=!0,e.forEach(function(i){return i()})}},yN=s.unstable_scheduleCallback,NN=s.unstable_NormalPriority,Ct={$$typeof:g,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nd(){return{controller:new gN,data:new Map,refCount:0}}function $l(e){e.refCount--,e.refCount===0&&yN(NN,function(){e.controller.abort()})}var Vl=null,jd=0,Os=0,Rs=null;function jN(e,a){if(Vl===null){var i=Vl=[];jd=0,Os=Cm(),Rs={status:"pending",value:void 0,then:function(c){i.push(c)}}}return jd++,a.then(px,px),a}function px(){if(--jd===0&&Vl!==null){Rs!==null&&(Rs.status="fulfilled");var e=Vl;Vl=null,Os=0,Rs=null;for(var a=0;a<e.length;a++)(0,e[a])()}}function wN(e,a){var i=[],c={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return e.then(function(){c.status="fulfilled",c.value=a;for(var f=0;f<i.length;f++)(0,i[f])(a)},function(f){for(c.status="rejected",c.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),c}var xx=F.S;F.S=function(e,a){Zh=it(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&jN(e,a),xx!==null&&xx(e,a)};var qr=L(null);function wd(){var e=qr.current;return e!==null?e:ot.pooledCache}function Co(e,a){a===null?de(qr,qr.current):de(qr,a.pool)}function hx(){var e=wd();return e===null?null:{parent:Ct._currentValue,pool:e}}var Ls=Error(t(460)),Sd=Error(t(474)),Do=Error(t(542)),ko={then:function(){}};function vx(e){return e=e.status,e==="fulfilled"||e==="rejected"}function bx(e,a,i){switch(i=e[i],i===void 0?e.push(a):i!==a&&(a.then(Cn,Cn),a=i),a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,yx(e),e;default:if(typeof a.status=="string")a.then(Cn,Cn);else{if(e=ot,e!==null&&100<e.shellSuspendCounter)throw Error(t(482));e=a,e.status="pending",e.then(function(c){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=c}},function(c){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,yx(e),e}throw $r=a,Ls}}function Ur(e){try{var a=e._init;return a(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?($r=i,Ls):i}}var $r=null;function gx(){if($r===null)throw Error(t(459));var e=$r;return $r=null,e}function yx(e){if(e===Ls||e===Do)throw Error(t(483))}var Is=null,Gl=0;function Mo(e){var a=Gl;return Gl+=1,Is===null&&(Is=[]),bx(Is,e,a)}function Ql(e,a){a=a.props.ref,e.ref=a!==void 0?a:null}function Ao(e,a){throw a.$$typeof===S?Error(t(525)):(e=Object.prototype.toString.call(a),Error(t(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)))}function Nx(e){function a(V,q){if(e){var X=V.deletions;X===null?(V.deletions=[q],V.flags|=16):X.push(q)}}function i(V,q){if(!e)return null;for(;q!==null;)a(V,q),q=q.sibling;return null}function c(V){for(var q=new Map;V!==null;)V.key!==null?q.set(V.key,V):q.set(V.index,V),V=V.sibling;return q}function f(V,q){return V=kn(V,q),V.index=0,V.sibling=null,V}function h(V,q,X){return V.index=X,e?(X=V.alternate,X!==null?(X=X.index,X<q?(V.flags|=67108866,q):X):(V.flags|=67108866,q)):(V.flags|=1048576,q)}function C(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function T(V,q,X,ie){return q===null||q.tag!==6?(q=md(X,V.mode,ie),q.return=V,q):(q=f(q,X),q.return=V,q)}function I(V,q,X,ie){var Ce=X.type;return Ce===D?se(V,q,X.props.children,ie,X.key):q!==null&&(q.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===_&&Ur(Ce)===q.type)?(q=f(q,X.props),Ql(q,X),q.return=V,q):(q=No(X.type,X.key,X.props,null,V.mode,ie),Ql(q,X),q.return=V,q)}function W(V,q,X,ie){return q===null||q.tag!==4||q.stateNode.containerInfo!==X.containerInfo||q.stateNode.implementation!==X.implementation?(q=fd(X,V.mode,ie),q.return=V,q):(q=f(q,X.children||[]),q.return=V,q)}function se(V,q,X,ie,Ce){return q===null||q.tag!==7?(q=Fr(X,V.mode,ie,Ce),q.return=V,q):(q=f(q,X),q.return=V,q)}function oe(V,q,X){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=md(""+q,V.mode,X),q.return=V,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case w:return X=No(q.type,q.key,q.props,null,V.mode,X),Ql(X,q),X.return=V,X;case M:return q=fd(q,V.mode,X),q.return=V,q;case _:return q=Ur(q),oe(V,q,X)}if(J(q)||E(q))return q=Fr(q,V.mode,X,null),q.return=V,q;if(typeof q.then=="function")return oe(V,Mo(q),X);if(q.$$typeof===g)return oe(V,So(V,q),X);Ao(V,q)}return null}function Z(V,q,X,ie){var Ce=q!==null?q.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Ce!==null?null:T(V,q,""+X,ie);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case w:return X.key===Ce?I(V,q,X,ie):null;case M:return X.key===Ce?W(V,q,X,ie):null;case _:return X=Ur(X),Z(V,q,X,ie)}if(J(X)||E(X))return Ce!==null?null:se(V,q,X,ie,null);if(typeof X.then=="function")return Z(V,q,Mo(X),ie);if(X.$$typeof===g)return Z(V,q,So(V,X),ie);Ao(V,X)}return null}function te(V,q,X,ie,Ce){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return V=V.get(X)||null,T(q,V,""+ie,Ce);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case w:return V=V.get(ie.key===null?X:ie.key)||null,I(q,V,ie,Ce);case M:return V=V.get(ie.key===null?X:ie.key)||null,W(q,V,ie,Ce);case _:return ie=Ur(ie),te(V,q,X,ie,Ce)}if(J(ie)||E(ie))return V=V.get(X)||null,se(q,V,ie,Ce,null);if(typeof ie.then=="function")return te(V,q,X,Mo(ie),Ce);if(ie.$$typeof===g)return te(V,q,X,So(q,ie),Ce);Ao(q,ie)}return null}function Ne(V,q,X,ie){for(var Ce=null,Ge=null,je=q,Oe=q=0,He=null;je!==null&&Oe<X.length;Oe++){je.index>Oe?(He=je,je=null):He=je.sibling;var Qe=Z(V,je,X[Oe],ie);if(Qe===null){je===null&&(je=He);break}e&&je&&Qe.alternate===null&&a(V,je),q=h(Qe,q,Oe),Ge===null?Ce=Qe:Ge.sibling=Qe,Ge=Qe,je=He}if(Oe===X.length)return i(V,je),Ue&&Mn(V,Oe),Ce;if(je===null){for(;Oe<X.length;Oe++)je=oe(V,X[Oe],ie),je!==null&&(q=h(je,q,Oe),Ge===null?Ce=je:Ge.sibling=je,Ge=je);return Ue&&Mn(V,Oe),Ce}for(je=c(je);Oe<X.length;Oe++)He=te(je,V,Oe,X[Oe],ie),He!==null&&(e&&He.alternate!==null&&je.delete(He.key===null?Oe:He.key),q=h(He,q,Oe),Ge===null?Ce=He:Ge.sibling=He,Ge=He);return e&&je.forEach(function(jr){return a(V,jr)}),Ue&&Mn(V,Oe),Ce}function ke(V,q,X,ie){if(X==null)throw Error(t(151));for(var Ce=null,Ge=null,je=q,Oe=q=0,He=null,Qe=X.next();je!==null&&!Qe.done;Oe++,Qe=X.next()){je.index>Oe?(He=je,je=null):He=je.sibling;var jr=Z(V,je,Qe.value,ie);if(jr===null){je===null&&(je=He);break}e&&je&&jr.alternate===null&&a(V,je),q=h(jr,q,Oe),Ge===null?Ce=jr:Ge.sibling=jr,Ge=jr,je=He}if(Qe.done)return i(V,je),Ue&&Mn(V,Oe),Ce;if(je===null){for(;!Qe.done;Oe++,Qe=X.next())Qe=oe(V,Qe.value,ie),Qe!==null&&(q=h(Qe,q,Oe),Ge===null?Ce=Qe:Ge.sibling=Qe,Ge=Qe);return Ue&&Mn(V,Oe),Ce}for(je=c(je);!Qe.done;Oe++,Qe=X.next())Qe=te(je,V,Oe,Qe.value,ie),Qe!==null&&(e&&Qe.alternate!==null&&je.delete(Qe.key===null?Oe:Qe.key),q=h(Qe,q,Oe),Ge===null?Ce=Qe:Ge.sibling=Qe,Ge=Qe);return e&&je.forEach(function(Rj){return a(V,Rj)}),Ue&&Mn(V,Oe),Ce}function st(V,q,X,ie){if(typeof X=="object"&&X!==null&&X.type===D&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case w:e:{for(var Ce=X.key;q!==null;){if(q.key===Ce){if(Ce=X.type,Ce===D){if(q.tag===7){i(V,q.sibling),ie=f(q,X.props.children),ie.return=V,V=ie;break e}}else if(q.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===_&&Ur(Ce)===q.type){i(V,q.sibling),ie=f(q,X.props),Ql(ie,X),ie.return=V,V=ie;break e}i(V,q);break}else a(V,q);q=q.sibling}X.type===D?(ie=Fr(X.props.children,V.mode,ie,X.key),ie.return=V,V=ie):(ie=No(X.type,X.key,X.props,null,V.mode,ie),Ql(ie,X),ie.return=V,V=ie)}return C(V);case M:e:{for(Ce=X.key;q!==null;){if(q.key===Ce)if(q.tag===4&&q.stateNode.containerInfo===X.containerInfo&&q.stateNode.implementation===X.implementation){i(V,q.sibling),ie=f(q,X.children||[]),ie.return=V,V=ie;break e}else{i(V,q);break}else a(V,q);q=q.sibling}ie=fd(X,V.mode,ie),ie.return=V,V=ie}return C(V);case _:return X=Ur(X),st(V,q,X,ie)}if(J(X))return Ne(V,q,X,ie);if(E(X)){if(Ce=E(X),typeof Ce!="function")throw Error(t(150));return X=Ce.call(X),ke(V,q,X,ie)}if(typeof X.then=="function")return st(V,q,Mo(X),ie);if(X.$$typeof===g)return st(V,q,So(V,X),ie);Ao(V,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,q!==null&&q.tag===6?(i(V,q.sibling),ie=f(q,X),ie.return=V,V=ie):(i(V,q),ie=md(X,V.mode,ie),ie.return=V,V=ie),C(V)):i(V,q)}return function(V,q,X,ie){try{Gl=0;var Ce=st(V,q,X,ie);return Is=null,Ce}catch(je){if(je===Ls||je===Do)throw je;var Ge=va(29,je,null,V.mode);return Ge.lanes=ie,Ge.return=V,Ge}}}var Vr=Nx(!0),jx=Nx(!1),sr=!1;function Cd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dd(e,a){e=e.updateQueue,a.updateQueue===e&&(a.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function lr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ir(e,a,i){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Ke&2)!==0){var f=c.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),c.pending=a,a=yo(e),sx(e,null,i),a}return go(e,c,a,i),yo(e)}function Kl(e,a,i){if(a=a.updateQueue,a!==null&&(a=a.shared,(i&4194048)!==0)){var c=a.lanes;c&=e.pendingLanes,i|=c,a.lanes=i,ao(e,i)}}function kd(e,a){var i=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,i===c)){var f=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var C={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?f=h=C:h=h.next=C,i=i.next}while(i!==null);h===null?f=h=a:h=h.next=a}else f=h=a;i={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:c.shared,callbacks:c.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=a:e.next=a,i.lastBaseUpdate=a}var Md=!1;function Xl(){if(Md){var e=Rs;if(e!==null)throw e}}function Wl(e,a,i,c){Md=!1;var f=e.updateQueue;sr=!1;var h=f.firstBaseUpdate,C=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var I=T,W=I.next;I.next=null,C===null?h=W:C.next=W,C=I;var se=e.alternate;se!==null&&(se=se.updateQueue,T=se.lastBaseUpdate,T!==C&&(T===null?se.firstBaseUpdate=W:T.next=W,se.lastBaseUpdate=I))}if(h!==null){var oe=f.baseState;C=0,se=W=I=null,T=h;do{var Z=T.lane&-536870913,te=Z!==T.lane;if(te?(Be&Z)===Z:(c&Z)===Z){Z!==0&&Z===Os&&(Md=!0),se!==null&&(se=se.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ne=e,ke=T;Z=a;var st=i;switch(ke.tag){case 1:if(Ne=ke.payload,typeof Ne=="function"){oe=Ne.call(st,oe,Z);break e}oe=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=ke.payload,Z=typeof Ne=="function"?Ne.call(st,oe,Z):Ne,Z==null)break e;oe=b({},oe,Z);break e;case 2:sr=!0}}Z=T.callback,Z!==null&&(e.flags|=64,te&&(e.flags|=8192),te=f.callbacks,te===null?f.callbacks=[Z]:te.push(Z))}else te={lane:Z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},se===null?(W=se=te,I=oe):se=se.next=te,C|=Z;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;te=T,T=te.next,te.next=null,f.lastBaseUpdate=te,f.shared.pending=null}}while(!0);se===null&&(I=oe),f.baseState=I,f.firstBaseUpdate=W,f.lastBaseUpdate=se,h===null&&(f.shared.lanes=0),mr|=C,e.lanes=C,e.memoizedState=oe}}function wx(e,a){if(typeof e!="function")throw Error(t(191,e));e.call(a)}function Sx(e,a){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)wx(i[e],a)}var Ps=L(null),To=L(0);function Cx(e,a){e=Fn,de(To,e),de(Ps,a),Fn=e|a.baseLanes}function Ad(){de(To,Fn),de(Ps,Ps.current)}function Td(){Fn=To.current,ne(Ps),ne(To)}var ba=L(null),Ia=null;function or(e){var a=e.alternate;de(Nt,Nt.current&1),de(ba,e),Ia===null&&(a===null||Ps.current!==null||a.memoizedState!==null)&&(Ia=e)}function Ed(e){de(Nt,Nt.current),de(ba,e),Ia===null&&(Ia=e)}function Dx(e){e.tag===22?(de(Nt,Nt.current),de(ba,e),Ia===null&&(Ia=e)):cr()}function cr(){de(Nt,Nt.current),de(ba,ba.current)}function ga(e){ne(ba),Ia===e&&(Ia=null),ne(Nt)}var Nt=L(0);function Eo(e){for(var a=e;a!==null;){if(a.tag===13){var i=a.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Pm(i)||zm(i)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var En=0,_e=null,nt=null,Dt=null,_o=!1,zs=!1,Gr=!1,Oo=0,Zl=0,Fs=null,SN=0;function bt(){throw Error(t(321))}function _d(e,a){if(a===null)return!1;for(var i=0;i<a.length&&i<e.length;i++)if(!ha(e[i],a[i]))return!1;return!0}function Od(e,a,i,c,f,h){return En=h,_e=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,F.H=e===null||e.memoizedState===null?ch:Qd,Gr=!1,h=i(c,f),Gr=!1,zs&&(h=Mx(a,i,c,f)),kx(e),h}function kx(e){F.H=ti;var a=nt!==null&&nt.next!==null;if(En=0,Dt=nt=_e=null,_o=!1,Zl=0,Fs=null,a)throw Error(t(300));e===null||kt||(e=e.dependencies,e!==null&&wo(e)&&(kt=!0))}function Mx(e,a,i,c){_e=e;var f=0;do{if(zs&&(Fs=null),Zl=0,zs=!1,25<=f)throw Error(t(301));if(f+=1,Dt=nt=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}F.H=uh,h=a(i,c)}while(zs);return h}function CN(){var e=F.H,a=e.useState()[0];return a=typeof a.then=="function"?Jl(a):a,e=e.useState()[0],(nt!==null?nt.memoizedState:null)!==e&&(_e.flags|=1024),a}function Rd(){var e=Oo!==0;return Oo=0,e}function Ld(e,a,i){a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~i}function Id(e){if(_o){for(e=e.memoizedState;e!==null;){var a=e.queue;a!==null&&(a.pending=null),e=e.next}_o=!1}En=0,Dt=nt=_e=null,zs=!1,Zl=Oo=0,Fs=null}function ea(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?_e.memoizedState=Dt=e:Dt=Dt.next=e,Dt}function jt(){if(nt===null){var e=_e.alternate;e=e!==null?e.memoizedState:null}else e=nt.next;var a=Dt===null?_e.memoizedState:Dt.next;if(a!==null)Dt=a,nt=e;else{if(e===null)throw _e.alternate===null?Error(t(467)):Error(t(310));nt=e,e={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Dt===null?_e.memoizedState=Dt=e:Dt=Dt.next=e}return Dt}function Ro(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jl(e){var a=Zl;return Zl+=1,Fs===null&&(Fs=[]),e=bx(Fs,e,a),a=_e,(Dt===null?a.memoizedState:Dt.next)===null&&(a=a.alternate,F.H=a===null||a.memoizedState===null?ch:Qd),e}function Lo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Jl(e);if(e.$$typeof===g)return Ft(e)}throw Error(t(438,String(e)))}function Pd(e){var a=null,i=_e.updateQueue;if(i!==null&&(a=i.memoCache),a==null){var c=_e.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),i===null&&(i=Ro(),_e.updateQueue=i),i.memoCache=a,i=a.data[a.index],i===void 0)for(i=a.data[a.index]=Array(e),c=0;c<e;c++)i[c]=H;return a.index++,i}function _n(e,a){return typeof a=="function"?a(e):a}function Io(e){var a=jt();return zd(a,nt,e)}function zd(e,a,i){var c=e.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=i;var f=e.baseQueue,h=c.pending;if(h!==null){if(f!==null){var C=f.next;f.next=h.next,h.next=C}a.baseQueue=f=h,c.pending=null}if(h=e.baseState,f===null)e.memoizedState=h;else{a=f.next;var T=C=null,I=null,W=a,se=!1;do{var oe=W.lane&-536870913;if(oe!==W.lane?(Be&oe)===oe:(En&oe)===oe){var Z=W.revertLane;if(Z===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),oe===Os&&(se=!0);else if((En&Z)===Z){W=W.next,Z===Os&&(se=!0);continue}else oe={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},I===null?(T=I=oe,C=h):I=I.next=oe,_e.lanes|=Z,mr|=Z;oe=W.action,Gr&&i(h,oe),h=W.hasEagerState?W.eagerState:i(h,oe)}else Z={lane:oe,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},I===null?(T=I=Z,C=h):I=I.next=Z,_e.lanes|=oe,mr|=oe;W=W.next}while(W!==null&&W!==a);if(I===null?C=h:I.next=T,!ha(h,e.memoizedState)&&(kt=!0,se&&(i=Rs,i!==null)))throw i;e.memoizedState=h,e.baseState=C,e.baseQueue=I,c.lastRenderedState=h}return f===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Fd(e){var a=jt(),i=a.queue;if(i===null)throw Error(t(311));i.lastRenderedReducer=e;var c=i.dispatch,f=i.pending,h=a.memoizedState;if(f!==null){i.pending=null;var C=f=f.next;do h=e(h,C.action),C=C.next;while(C!==f);ha(h,a.memoizedState)||(kt=!0),a.memoizedState=h,a.baseQueue===null&&(a.baseState=h),i.lastRenderedState=h}return[h,c]}function Ax(e,a,i){var c=_e,f=jt(),h=Ue;if(h){if(i===void 0)throw Error(t(407));i=i()}else i=a();var C=!ha((nt||f).memoizedState,i);if(C&&(f.memoizedState=i,kt=!0),f=f.queue,Yd(_x.bind(null,c,f,e),[e]),f.getSnapshot!==a||C||Dt!==null&&Dt.memoizedState.tag&1){if(c.flags|=2048,Bs(9,{destroy:void 0},Ex.bind(null,c,f,i,a),null),ot===null)throw Error(t(349));h||(En&127)!==0||Tx(c,a,i)}return i}function Tx(e,a,i){e.flags|=16384,e={getSnapshot:a,value:i},a=_e.updateQueue,a===null?(a=Ro(),_e.updateQueue=a,a.stores=[e]):(i=a.stores,i===null?a.stores=[e]:i.push(e))}function Ex(e,a,i,c){a.value=i,a.getSnapshot=c,Ox(a)&&Rx(e)}function _x(e,a,i){return i(function(){Ox(a)&&Rx(e)})}function Ox(e){var a=e.getSnapshot;e=e.value;try{var i=a();return!ha(e,i)}catch{return!0}}function Rx(e){var a=zr(e,2);a!==null&&ca(a,e,2)}function Bd(e){var a=ea();if(typeof e=="function"){var i=e;if(e=i(),Gr){en(!0);try{i()}finally{en(!1)}}}return a.memoizedState=a.baseState=e,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:e},a}function Lx(e,a,i,c){return e.baseState=i,zd(e,nt,typeof c=="function"?c:_n)}function DN(e,a,i,c,f){if(Fo(e))throw Error(t(485));if(e=a.action,e!==null){var h={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){h.listeners.push(C)}};F.T!==null?i(!0):h.isTransition=!1,c(h),i=a.pending,i===null?(h.next=a.pending=h,Ix(a,h)):(h.next=i.next,a.pending=i.next=h)}}function Ix(e,a){var i=a.action,c=a.payload,f=e.state;if(a.isTransition){var h=F.T,C={};F.T=C;try{var T=i(f,c),I=F.S;I!==null&&I(C,T),Px(e,a,T)}catch(W){Hd(e,a,W)}finally{h!==null&&C.types!==null&&(h.types=C.types),F.T=h}}else try{h=i(f,c),Px(e,a,h)}catch(W){Hd(e,a,W)}}function Px(e,a,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(c){zx(e,a,c)},function(c){return Hd(e,a,c)}):zx(e,a,i)}function zx(e,a,i){a.status="fulfilled",a.value=i,Fx(a),e.state=i,a=e.pending,a!==null&&(i=a.next,i===a?e.pending=null:(i=i.next,a.next=i,Ix(e,i)))}function Hd(e,a,i){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=i,Fx(a),a=a.next;while(a!==c)}e.action=null}function Fx(e){e=e.listeners;for(var a=0;a<e.length;a++)(0,e[a])()}function Bx(e,a){return a}function Hx(e,a){if(Ue){var i=ot.formState;if(i!==null){e:{var c=_e;if(Ue){if(ct){t:{for(var f=ct,h=La;f.nodeType!==8;){if(!h){f=null;break t}if(f=Pa(f.nextSibling),f===null){f=null;break t}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){ct=Pa(f.nextSibling),c=f.data==="F!";break e}}nr(c)}c=!1}c&&(a=i[0])}}return i=ea(),i.memoizedState=i.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bx,lastRenderedState:a},i.queue=c,i=lh.bind(null,_e,c),c.dispatch=i,c=Bd(!1),h=Gd.bind(null,_e,!1,c.queue),c=ea(),f={state:a,dispatch:null,action:e,pending:null},c.queue=f,i=DN.bind(null,_e,f,h,i),f.dispatch=i,c.memoizedState=e,[a,i,!1]}function Yx(e){var a=jt();return qx(a,nt,e)}function qx(e,a,i){if(a=zd(e,a,Bx)[0],e=Io(_n)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Jl(a)}catch(C){throw C===Ls?Do:C}else c=a;a=jt();var f=a.queue,h=f.dispatch;return i!==a.memoizedState&&(_e.flags|=2048,Bs(9,{destroy:void 0},kN.bind(null,f,i),null)),[c,h,e]}function kN(e,a){e.action=a}function Ux(e){var a=jt(),i=nt;if(i!==null)return qx(a,i,e);jt(),a=a.memoizedState,i=jt();var c=i.queue.dispatch;return i.memoizedState=e,[a,c,!1]}function Bs(e,a,i,c){return e={tag:e,create:i,deps:c,inst:a,next:null},a=_e.updateQueue,a===null&&(a=Ro(),_e.updateQueue=a),i=a.lastEffect,i===null?a.lastEffect=e.next=e:(c=i.next,i.next=e,e.next=c,a.lastEffect=e),e}function $x(){return jt().memoizedState}function Po(e,a,i,c){var f=ea();_e.flags|=e,f.memoizedState=Bs(1|a,{destroy:void 0},i,c===void 0?null:c)}function zo(e,a,i,c){var f=jt();c=c===void 0?null:c;var h=f.memoizedState.inst;nt!==null&&c!==null&&_d(c,nt.memoizedState.deps)?f.memoizedState=Bs(a,h,i,c):(_e.flags|=e,f.memoizedState=Bs(1|a,h,i,c))}function Vx(e,a){Po(8390656,8,e,a)}function Yd(e,a){zo(2048,8,e,a)}function MN(e){_e.flags|=4;var a=_e.updateQueue;if(a===null)a=Ro(),_e.updateQueue=a,a.events=[e];else{var i=a.events;i===null?a.events=[e]:i.push(e)}}function Gx(e){var a=jt().memoizedState;return MN({ref:a,nextImpl:e}),function(){if((Ke&2)!==0)throw Error(t(440));return a.impl.apply(void 0,arguments)}}function Qx(e,a){return zo(4,2,e,a)}function Kx(e,a){return zo(4,4,e,a)}function Xx(e,a){if(typeof a=="function"){e=e();var i=a(e);return function(){typeof i=="function"?i():a(null)}}if(a!=null)return e=e(),a.current=e,function(){a.current=null}}function Wx(e,a,i){i=i!=null?i.concat([e]):null,zo(4,4,Xx.bind(null,a,e),i)}function qd(){}function Zx(e,a){var i=jt();a=a===void 0?null:a;var c=i.memoizedState;return a!==null&&_d(a,c[1])?c[0]:(i.memoizedState=[e,a],e)}function Jx(e,a){var i=jt();a=a===void 0?null:a;var c=i.memoizedState;if(a!==null&&_d(a,c[1]))return c[0];if(c=e(),Gr){en(!0);try{e()}finally{en(!1)}}return i.memoizedState=[c,a],c}function Ud(e,a,i){return i===void 0||(En&1073741824)!==0&&(Be&261930)===0?e.memoizedState=a:(e.memoizedState=i,e=ev(),_e.lanes|=e,mr|=e,i)}function eh(e,a,i,c){return ha(i,a)?i:Ps.current!==null?(e=Ud(e,i,c),ha(e,a)||(kt=!0),e):(En&42)===0||(En&1073741824)!==0&&(Be&261930)===0?(kt=!0,e.memoizedState=i):(e=ev(),_e.lanes|=e,mr|=e,a)}function th(e,a,i,c,f){var h=A.p;A.p=h!==0&&8>h?h:8;var C=F.T,T={};F.T=T,Gd(e,!1,a,i);try{var I=f(),W=F.S;if(W!==null&&W(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var se=wN(I,c);ei(e,a,se,ja(e))}else ei(e,a,c,ja(e))}catch(oe){ei(e,a,{then:function(){},status:"rejected",reason:oe},ja())}finally{A.p=h,C!==null&&T.types!==null&&(C.types=T.types),F.T=C}}function AN(){}function $d(e,a,i,c){if(e.tag!==5)throw Error(t(476));var f=ah(e).queue;th(e,f,a,R,i===null?AN:function(){return nh(e),i(c)})}function ah(e){var a=e.memoizedState;if(a!==null)return a;a={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:R},next:null};var i={};return a.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:i},next:null},e.memoizedState=a,e=e.alternate,e!==null&&(e.memoizedState=a),a}function nh(e){var a=ah(e);a.next===null&&(a=e.alternate.memoizedState),ei(e,a.next.queue,{},ja())}function Vd(){return Ft(vi)}function rh(){return jt().memoizedState}function sh(){return jt().memoizedState}function TN(e){for(var a=e.return;a!==null;){switch(a.tag){case 24:case 3:var i=ja();e=lr(i);var c=ir(a,e,i);c!==null&&(ca(c,a,i),Kl(c,a,i)),a={cache:Nd()},e.payload=a;return}a=a.return}}function EN(e,a,i){var c=ja();i={lane:c,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Fo(e)?ih(a,i):(i=ud(e,a,i,c),i!==null&&(ca(i,e,c),oh(i,a,c)))}function lh(e,a,i){var c=ja();ei(e,a,i,c)}function ei(e,a,i,c){var f={lane:c,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Fo(e))ih(a,f);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=a.lastRenderedReducer,h!==null))try{var C=a.lastRenderedState,T=h(C,i);if(f.hasEagerState=!0,f.eagerState=T,ha(T,C))return go(e,a,f,0),ot===null&&bo(),!1}catch{}if(i=ud(e,a,f,c),i!==null)return ca(i,e,c),oh(i,a,c),!0}return!1}function Gd(e,a,i,c){if(c={lane:2,revertLane:Cm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Fo(e)){if(a)throw Error(t(479))}else a=ud(e,i,c,2),a!==null&&ca(a,e,2)}function Fo(e){var a=e.alternate;return e===_e||a!==null&&a===_e}function ih(e,a){zs=_o=!0;var i=e.pending;i===null?a.next=a:(a.next=i.next,i.next=a),e.pending=a}function oh(e,a,i){if((i&4194048)!==0){var c=a.lanes;c&=e.pendingLanes,i|=c,a.lanes=i,ao(e,i)}}var ti={readContext:Ft,use:Lo,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt};ti.useEffectEvent=bt;var ch={readContext:Ft,use:Lo,useCallback:function(e,a){return ea().memoizedState=[e,a===void 0?null:a],e},useContext:Ft,useEffect:Vx,useImperativeHandle:function(e,a,i){i=i!=null?i.concat([e]):null,Po(4194308,4,Xx.bind(null,a,e),i)},useLayoutEffect:function(e,a){return Po(4194308,4,e,a)},useInsertionEffect:function(e,a){Po(4,2,e,a)},useMemo:function(e,a){var i=ea();a=a===void 0?null:a;var c=e();if(Gr){en(!0);try{e()}finally{en(!1)}}return i.memoizedState=[c,a],c},useReducer:function(e,a,i){var c=ea();if(i!==void 0){var f=i(a);if(Gr){en(!0);try{i(a)}finally{en(!1)}}}else f=a;return c.memoizedState=c.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},c.queue=e,e=e.dispatch=EN.bind(null,_e,e),[c.memoizedState,e]},useRef:function(e){var a=ea();return e={current:e},a.memoizedState=e},useState:function(e){e=Bd(e);var a=e.queue,i=lh.bind(null,_e,a);return a.dispatch=i,[e.memoizedState,i]},useDebugValue:qd,useDeferredValue:function(e,a){var i=ea();return Ud(i,e,a)},useTransition:function(){var e=Bd(!1);return e=th.bind(null,_e,e.queue,!0,!1),ea().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,a,i){var c=_e,f=ea();if(Ue){if(i===void 0)throw Error(t(407));i=i()}else{if(i=a(),ot===null)throw Error(t(349));(Be&127)!==0||Tx(c,a,i)}f.memoizedState=i;var h={value:i,getSnapshot:a};return f.queue=h,Vx(_x.bind(null,c,h,e),[e]),c.flags|=2048,Bs(9,{destroy:void 0},Ex.bind(null,c,h,i,a),null),i},useId:function(){var e=ea(),a=ot.identifierPrefix;if(Ue){var i=nn,c=an;i=(c&~(1<<32-Jt(c)-1)).toString(32)+i,a="_"+a+"R_"+i,i=Oo++,0<i&&(a+="H"+i.toString(32)),a+="_"}else i=SN++,a="_"+a+"r_"+i.toString(32)+"_";return e.memoizedState=a},useHostTransitionStatus:Vd,useFormState:Hx,useActionState:Hx,useOptimistic:function(e){var a=ea();a.memoizedState=a.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=i,a=Gd.bind(null,_e,!0,i),i.dispatch=a,[e,a]},useMemoCache:Pd,useCacheRefresh:function(){return ea().memoizedState=TN.bind(null,_e)},useEffectEvent:function(e){var a=ea(),i={impl:e};return a.memoizedState=i,function(){if((Ke&2)!==0)throw Error(t(440));return i.impl.apply(void 0,arguments)}}},Qd={readContext:Ft,use:Lo,useCallback:Zx,useContext:Ft,useEffect:Yd,useImperativeHandle:Wx,useInsertionEffect:Qx,useLayoutEffect:Kx,useMemo:Jx,useReducer:Io,useRef:$x,useState:function(){return Io(_n)},useDebugValue:qd,useDeferredValue:function(e,a){var i=jt();return eh(i,nt.memoizedState,e,a)},useTransition:function(){var e=Io(_n)[0],a=jt().memoizedState;return[typeof e=="boolean"?e:Jl(e),a]},useSyncExternalStore:Ax,useId:rh,useHostTransitionStatus:Vd,useFormState:Yx,useActionState:Yx,useOptimistic:function(e,a){var i=jt();return Lx(i,nt,e,a)},useMemoCache:Pd,useCacheRefresh:sh};Qd.useEffectEvent=Gx;var uh={readContext:Ft,use:Lo,useCallback:Zx,useContext:Ft,useEffect:Yd,useImperativeHandle:Wx,useInsertionEffect:Qx,useLayoutEffect:Kx,useMemo:Jx,useReducer:Fd,useRef:$x,useState:function(){return Fd(_n)},useDebugValue:qd,useDeferredValue:function(e,a){var i=jt();return nt===null?Ud(i,e,a):eh(i,nt.memoizedState,e,a)},useTransition:function(){var e=Fd(_n)[0],a=jt().memoizedState;return[typeof e=="boolean"?e:Jl(e),a]},useSyncExternalStore:Ax,useId:rh,useHostTransitionStatus:Vd,useFormState:Ux,useActionState:Ux,useOptimistic:function(e,a){var i=jt();return nt!==null?Lx(i,nt,e,a):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Pd,useCacheRefresh:sh};uh.useEffectEvent=Gx;function Kd(e,a,i,c){a=e.memoizedState,i=i(c,a),i=i==null?a:b({},a,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Xd={enqueueSetState:function(e,a,i){e=e._reactInternals;var c=ja(),f=lr(c);f.payload=a,i!=null&&(f.callback=i),a=ir(e,f,c),a!==null&&(ca(a,e,c),Kl(a,e,c))},enqueueReplaceState:function(e,a,i){e=e._reactInternals;var c=ja(),f=lr(c);f.tag=1,f.payload=a,i!=null&&(f.callback=i),a=ir(e,f,c),a!==null&&(ca(a,e,c),Kl(a,e,c))},enqueueForceUpdate:function(e,a){e=e._reactInternals;var i=ja(),c=lr(i);c.tag=2,a!=null&&(c.callback=a),a=ir(e,c,i),a!==null&&(ca(a,e,i),Kl(a,e,i))}};function dh(e,a,i,c,f,h,C){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,h,C):a.prototype&&a.prototype.isPureReactComponent?!Hl(i,c)||!Hl(f,h):!0}function mh(e,a,i,c){e=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(i,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(i,c),a.state!==e&&Xd.enqueueReplaceState(a,a.state,null)}function Qr(e,a){var i=a;if("ref"in a){i={};for(var c in a)c!=="ref"&&(i[c]=a[c])}if(e=e.defaultProps){i===a&&(i=b({},i));for(var f in e)i[f]===void 0&&(i[f]=e[f])}return i}function fh(e){vo(e)}function ph(e){console.error(e)}function xh(e){vo(e)}function Bo(e,a){try{var i=e.onUncaughtError;i(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function hh(e,a,i){try{var c=e.onCaughtError;c(i.value,{componentStack:i.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Wd(e,a,i){return i=lr(i),i.tag=3,i.payload={element:null},i.callback=function(){Bo(e,a)},i}function vh(e){return e=lr(e),e.tag=3,e}function bh(e,a,i,c){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var h=c.value;e.payload=function(){return f(h)},e.callback=function(){hh(a,i,c)}}var C=i.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(e.callback=function(){hh(a,i,c),typeof f!="function"&&(fr===null?fr=new Set([this]):fr.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})})}function _N(e,a,i,c,f){if(i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=i.alternate,a!==null&&_s(a,i,f,!0),i=ba.current,i!==null){switch(i.tag){case 31:case 13:return Ia===null?Zo():i.alternate===null&&gt===0&&(gt=3),i.flags&=-257,i.flags|=65536,i.lanes=f,c===ko?i.flags|=16384:(a=i.updateQueue,a===null?i.updateQueue=new Set([c]):a.add(c),jm(e,c,f)),!1;case 22:return i.flags|=65536,c===ko?i.flags|=16384:(a=i.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},i.updateQueue=a):(i=a.retryQueue,i===null?a.retryQueue=new Set([c]):i.add(c)),jm(e,c,f)),!1}throw Error(t(435,i.tag))}return jm(e,c,f),Zo(),!1}if(Ue)return a=ba.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,c!==hd&&(e=Error(t(422),{cause:c}),Ul(_a(e,i)))):(c!==hd&&(a=Error(t(423),{cause:c}),Ul(_a(a,i))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,c=_a(c,i),f=Wd(e.stateNode,c,f),kd(e,f),gt!==4&&(gt=2)),!1;var h=Error(t(520),{cause:c});if(h=_a(h,i),ci===null?ci=[h]:ci.push(h),gt!==4&&(gt=2),a===null)return!0;c=_a(c,i),i=a;do{switch(i.tag){case 3:return i.flags|=65536,e=f&-f,i.lanes|=e,e=Wd(i.stateNode,c,e),kd(i,e),!1;case 1:if(a=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(fr===null||!fr.has(h))))return i.flags|=65536,f&=-f,i.lanes|=f,f=vh(f),bh(f,e,i,c),kd(i,f),!1}i=i.return}while(i!==null);return!1}var Zd=Error(t(461)),kt=!1;function Bt(e,a,i,c){a.child=e===null?jx(a,null,i,c):Vr(a,e.child,i,c)}function gh(e,a,i,c,f){i=i.render;var h=a.ref;if("ref"in c){var C={};for(var T in c)T!=="ref"&&(C[T]=c[T])}else C=c;return Yr(a),c=Od(e,a,i,C,h,f),T=Rd(),e!==null&&!kt?(Ld(e,a,f),On(e,a,f)):(Ue&&T&&pd(a),a.flags|=1,Bt(e,a,c,f),a.child)}function yh(e,a,i,c,f){if(e===null){var h=i.type;return typeof h=="function"&&!dd(h)&&h.defaultProps===void 0&&i.compare===null?(a.tag=15,a.type=h,Nh(e,a,h,c,f)):(e=No(i.type,null,c,a,a.mode,f),e.ref=a.ref,e.return=a,a.child=e)}if(h=e.child,!lm(e,f)){var C=h.memoizedProps;if(i=i.compare,i=i!==null?i:Hl,i(C,c)&&e.ref===a.ref)return On(e,a,f)}return a.flags|=1,e=kn(h,c),e.ref=a.ref,e.return=a,a.child=e}function Nh(e,a,i,c,f){if(e!==null){var h=e.memoizedProps;if(Hl(h,c)&&e.ref===a.ref)if(kt=!1,a.pendingProps=c=h,lm(e,f))(e.flags&131072)!==0&&(kt=!0);else return a.lanes=e.lanes,On(e,a,f)}return Jd(e,a,i,c,f)}function jh(e,a,i,c){var f=c.children,h=e!==null?e.memoizedState:null;if(e===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((a.flags&128)!==0){if(h=h!==null?h.baseLanes|i:i,e!==null){for(c=a.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~h}else c=0,a.child=null;return wh(e,a,h,i,c)}if((i&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},e!==null&&Co(a,h!==null?h.cachePool:null),h!==null?Cx(a,h):Ad(),Dx(a);else return c=a.lanes=536870912,wh(e,a,h!==null?h.baseLanes|i:i,i,c)}else h!==null?(Co(a,h.cachePool),Cx(a,h),cr(),a.memoizedState=null):(e!==null&&Co(a,null),Ad(),cr());return Bt(e,a,f,i),a.child}function ai(e,a){return e!==null&&e.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function wh(e,a,i,c,f){var h=wd();return h=h===null?null:{parent:Ct._currentValue,pool:h},a.memoizedState={baseLanes:i,cachePool:h},e!==null&&Co(a,null),Ad(),Dx(a),e!==null&&_s(e,a,c,!0),a.childLanes=f,null}function Ho(e,a){return a=qo({mode:a.mode,children:a.children},e.mode),a.ref=e.ref,e.child=a,a.return=e,a}function Sh(e,a,i){return Vr(a,e.child,null,i),e=Ho(a,a.pendingProps),e.flags|=2,ga(a),a.memoizedState=null,e}function ON(e,a,i){var c=a.pendingProps,f=(a.flags&128)!==0;if(a.flags&=-129,e===null){if(Ue){if(c.mode==="hidden")return e=Ho(a,c),a.lanes=536870912,ai(null,e);if(Ed(a),(e=ct)?(e=Iv(e,La),e=e!==null&&e.data==="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:tr!==null?{id:an,overflow:nn}:null,retryLane:536870912,hydrationErrors:null},i=ix(e),i.return=a,a.child=i,zt=a,ct=null)):e=null,e===null)throw nr(a);return a.lanes=536870912,null}return Ho(a,c)}var h=e.memoizedState;if(h!==null){var C=h.dehydrated;if(Ed(a),f)if(a.flags&256)a.flags&=-257,a=Sh(e,a,i);else if(a.memoizedState!==null)a.child=e.child,a.flags|=128,a=null;else throw Error(t(558));else if(kt||_s(e,a,i,!1),f=(i&e.childLanes)!==0,kt||f){if(c=ot,c!==null&&(C=no(c,i),C!==0&&C!==h.retryLane))throw h.retryLane=C,zr(e,C),ca(c,e,C),Zd;Zo(),a=Sh(e,a,i)}else e=h.treeContext,ct=Pa(C.nextSibling),zt=a,Ue=!0,ar=null,La=!1,e!==null&&ux(a,e),a=Ho(a,c),a.flags|=4096;return a}return e=kn(e.child,{mode:c.mode,children:c.children}),e.ref=a.ref,a.child=e,e.return=a,e}function Yo(e,a){var i=a.ref;if(i===null)e!==null&&e.ref!==null&&(a.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(t(284));(e===null||e.ref!==i)&&(a.flags|=4194816)}}function Jd(e,a,i,c,f){return Yr(a),i=Od(e,a,i,c,void 0,f),c=Rd(),e!==null&&!kt?(Ld(e,a,f),On(e,a,f)):(Ue&&c&&pd(a),a.flags|=1,Bt(e,a,i,f),a.child)}function Ch(e,a,i,c,f,h){return Yr(a),a.updateQueue=null,i=Mx(a,c,i,f),kx(e),c=Rd(),e!==null&&!kt?(Ld(e,a,h),On(e,a,h)):(Ue&&c&&pd(a),a.flags|=1,Bt(e,a,i,h),a.child)}function Dh(e,a,i,c,f){if(Yr(a),a.stateNode===null){var h=Ms,C=i.contextType;typeof C=="object"&&C!==null&&(h=Ft(C)),h=new i(c,h),a.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Xd,a.stateNode=h,h._reactInternals=a,h=a.stateNode,h.props=c,h.state=a.memoizedState,h.refs={},Cd(a),C=i.contextType,h.context=typeof C=="object"&&C!==null?Ft(C):Ms,h.state=a.memoizedState,C=i.getDerivedStateFromProps,typeof C=="function"&&(Kd(a,i,C,c),h.state=a.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(C=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),C!==h.state&&Xd.enqueueReplaceState(h,h.state,null),Wl(a,c,h,f),Xl(),h.state=a.memoizedState),typeof h.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(e===null){h=a.stateNode;var T=a.memoizedProps,I=Qr(i,T);h.props=I;var W=h.context,se=i.contextType;C=Ms,typeof se=="object"&&se!==null&&(C=Ft(se));var oe=i.getDerivedStateFromProps;se=typeof oe=="function"||typeof h.getSnapshotBeforeUpdate=="function",T=a.pendingProps!==T,se||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T||W!==C)&&mh(a,h,c,C),sr=!1;var Z=a.memoizedState;h.state=Z,Wl(a,c,h,f),Xl(),W=a.memoizedState,T||Z!==W||sr?(typeof oe=="function"&&(Kd(a,i,oe,c),W=a.memoizedState),(I=sr||dh(a,i,I,c,Z,W,C))?(se||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(a.flags|=4194308)):(typeof h.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=W),h.props=c,h.state=W,h.context=C,c=I):(typeof h.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{h=a.stateNode,Dd(e,a),C=a.memoizedProps,se=Qr(i,C),h.props=se,oe=a.pendingProps,Z=h.context,W=i.contextType,I=Ms,typeof W=="object"&&W!==null&&(I=Ft(W)),T=i.getDerivedStateFromProps,(W=typeof T=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(C!==oe||Z!==I)&&mh(a,h,c,I),sr=!1,Z=a.memoizedState,h.state=Z,Wl(a,c,h,f),Xl();var te=a.memoizedState;C!==oe||Z!==te||sr||e!==null&&e.dependencies!==null&&wo(e.dependencies)?(typeof T=="function"&&(Kd(a,i,T,c),te=a.memoizedState),(se=sr||dh(a,i,se,c,Z,te,I)||e!==null&&e.dependencies!==null&&wo(e.dependencies))?(W||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(c,te,I),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(c,te,I)),typeof h.componentDidUpdate=="function"&&(a.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof h.componentDidUpdate!="function"||C===e.memoizedProps&&Z===e.memoizedState||(a.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&Z===e.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=te),h.props=c,h.state=te,h.context=I,c=se):(typeof h.componentDidUpdate!="function"||C===e.memoizedProps&&Z===e.memoizedState||(a.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&Z===e.memoizedState||(a.flags|=1024),c=!1)}return h=c,Yo(e,a),c=(a.flags&128)!==0,h||c?(h=a.stateNode,i=c&&typeof i.getDerivedStateFromError!="function"?null:h.render(),a.flags|=1,e!==null&&c?(a.child=Vr(a,e.child,null,f),a.child=Vr(a,null,i,f)):Bt(e,a,i,f),a.memoizedState=h.state,e=a.child):e=On(e,a,f),e}function kh(e,a,i,c){return Br(),a.flags|=256,Bt(e,a,i,c),a.child}var em={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tm(e){return{baseLanes:e,cachePool:hx()}}function am(e,a,i){return e=e!==null?e.childLanes&~i:0,a&&(e|=Na),e}function Mh(e,a,i){var c=a.pendingProps,f=!1,h=(a.flags&128)!==0,C;if((C=h)||(C=e!==null&&e.memoizedState===null?!1:(Nt.current&2)!==0),C&&(f=!0,a.flags&=-129),C=(a.flags&32)!==0,a.flags&=-33,e===null){if(Ue){if(f?or(a):cr(),(e=ct)?(e=Iv(e,La),e=e!==null&&e.data!=="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:tr!==null?{id:an,overflow:nn}:null,retryLane:536870912,hydrationErrors:null},i=ix(e),i.return=a,a.child=i,zt=a,ct=null)):e=null,e===null)throw nr(a);return zm(e)?a.lanes=32:a.lanes=536870912,null}var T=c.children;return c=c.fallback,f?(cr(),f=a.mode,T=qo({mode:"hidden",children:T},f),c=Fr(c,f,i,null),T.return=a,c.return=a,T.sibling=c,a.child=T,c=a.child,c.memoizedState=tm(i),c.childLanes=am(e,C,i),a.memoizedState=em,ai(null,c)):(or(a),nm(a,T))}var I=e.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(h)a.flags&256?(or(a),a.flags&=-257,a=rm(e,a,i)):a.memoizedState!==null?(cr(),a.child=e.child,a.flags|=128,a=null):(cr(),T=c.fallback,f=a.mode,c=qo({mode:"visible",children:c.children},f),T=Fr(T,f,i,null),T.flags|=2,c.return=a,T.return=a,c.sibling=T,a.child=c,Vr(a,e.child,null,i),c=a.child,c.memoizedState=tm(i),c.childLanes=am(e,C,i),a.memoizedState=em,a=ai(null,c));else if(or(a),zm(T)){if(C=T.nextSibling&&T.nextSibling.dataset,C)var W=C.dgst;C=W,c=Error(t(419)),c.stack="",c.digest=C,Ul({value:c,source:null,stack:null}),a=rm(e,a,i)}else if(kt||_s(e,a,i,!1),C=(i&e.childLanes)!==0,kt||C){if(C=ot,C!==null&&(c=no(C,i),c!==0&&c!==I.retryLane))throw I.retryLane=c,zr(e,c),ca(C,e,c),Zd;Pm(T)||Zo(),a=rm(e,a,i)}else Pm(T)?(a.flags|=192,a.child=e.child,a=null):(e=I.treeContext,ct=Pa(T.nextSibling),zt=a,Ue=!0,ar=null,La=!1,e!==null&&ux(a,e),a=nm(a,c.children),a.flags|=4096);return a}return f?(cr(),T=c.fallback,f=a.mode,I=e.child,W=I.sibling,c=kn(I,{mode:"hidden",children:c.children}),c.subtreeFlags=I.subtreeFlags&65011712,W!==null?T=kn(W,T):(T=Fr(T,f,i,null),T.flags|=2),T.return=a,c.return=a,c.sibling=T,a.child=c,ai(null,c),c=a.child,T=e.child.memoizedState,T===null?T=tm(i):(f=T.cachePool,f!==null?(I=Ct._currentValue,f=f.parent!==I?{parent:I,pool:I}:f):f=hx(),T={baseLanes:T.baseLanes|i,cachePool:f}),c.memoizedState=T,c.childLanes=am(e,C,i),a.memoizedState=em,ai(e.child,c)):(or(a),i=e.child,e=i.sibling,i=kn(i,{mode:"visible",children:c.children}),i.return=a,i.sibling=null,e!==null&&(C=a.deletions,C===null?(a.deletions=[e],a.flags|=16):C.push(e)),a.child=i,a.memoizedState=null,i)}function nm(e,a){return a=qo({mode:"visible",children:a},e.mode),a.return=e,e.child=a}function qo(e,a){return e=va(22,e,null,a),e.lanes=0,e}function rm(e,a,i){return Vr(a,e.child,null,i),e=nm(a,a.pendingProps.children),e.flags|=2,a.memoizedState=null,e}function Ah(e,a,i){e.lanes|=a;var c=e.alternate;c!==null&&(c.lanes|=a),gd(e.return,a,i)}function sm(e,a,i,c,f,h){var C=e.memoizedState;C===null?e.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:i,tailMode:f,treeForkCount:h}:(C.isBackwards=a,C.rendering=null,C.renderingStartTime=0,C.last=c,C.tail=i,C.tailMode=f,C.treeForkCount=h)}function Th(e,a,i){var c=a.pendingProps,f=c.revealOrder,h=c.tail;c=c.children;var C=Nt.current,T=(C&2)!==0;if(T?(C=C&1|2,a.flags|=128):C&=1,de(Nt,C),Bt(e,a,c,i),c=Ue?ql:0,!T&&e!==null&&(e.flags&128)!==0)e:for(e=a.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ah(e,i,a);else if(e.tag===19)Ah(e,i,a);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break e;for(;e.sibling===null;){if(e.return===null||e.return===a)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(i=a.child,f=null;i!==null;)e=i.alternate,e!==null&&Eo(e)===null&&(f=i),i=i.sibling;i=f,i===null?(f=a.child,a.child=null):(f=i.sibling,i.sibling=null),sm(a,!1,f,i,h,c);break;case"backwards":case"unstable_legacy-backwards":for(i=null,f=a.child,a.child=null;f!==null;){if(e=f.alternate,e!==null&&Eo(e)===null){a.child=f;break}e=f.sibling,f.sibling=i,i=f,f=e}sm(a,!0,i,null,h,c);break;case"together":sm(a,!1,null,null,void 0,c);break;default:a.memoizedState=null}return a.child}function On(e,a,i){if(e!==null&&(a.dependencies=e.dependencies),mr|=a.lanes,(i&a.childLanes)===0)if(e!==null){if(_s(e,a,i,!1),(i&a.childLanes)===0)return null}else return null;if(e!==null&&a.child!==e.child)throw Error(t(153));if(a.child!==null){for(e=a.child,i=kn(e,e.pendingProps),a.child=i,i.return=a;e.sibling!==null;)e=e.sibling,i=i.sibling=kn(e,e.pendingProps),i.return=a;i.sibling=null}return a.child}function lm(e,a){return(e.lanes&a)!==0?!0:(e=e.dependencies,!!(e!==null&&wo(e)))}function RN(e,a,i){switch(a.tag){case 3:ve(a,a.stateNode.containerInfo),rr(a,Ct,e.memoizedState.cache),Br();break;case 27:case 5:pe(a);break;case 4:ve(a,a.stateNode.containerInfo);break;case 10:rr(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Ed(a),null;break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(or(a),a.flags|=128,null):(i&a.child.childLanes)!==0?Mh(e,a,i):(or(a),e=On(e,a,i),e!==null?e.sibling:null);or(a);break;case 19:var f=(e.flags&128)!==0;if(c=(i&a.childLanes)!==0,c||(_s(e,a,i,!1),c=(i&a.childLanes)!==0),f){if(c)return Th(e,a,i);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),de(Nt,Nt.current),c)break;return null;case 22:return a.lanes=0,jh(e,a,i,a.pendingProps);case 24:rr(a,Ct,e.memoizedState.cache)}return On(e,a,i)}function Eh(e,a,i){if(e!==null)if(e.memoizedProps!==a.pendingProps)kt=!0;else{if(!lm(e,i)&&(a.flags&128)===0)return kt=!1,RN(e,a,i);kt=(e.flags&131072)!==0}else kt=!1,Ue&&(a.flags&1048576)!==0&&cx(a,ql,a.index);switch(a.lanes=0,a.tag){case 16:e:{var c=a.pendingProps;if(e=Ur(a.elementType),a.type=e,typeof e=="function")dd(e)?(c=Qr(e,c),a.tag=1,a=Dh(null,a,e,c,i)):(a.tag=0,a=Jd(null,a,e,c,i));else{if(e!=null){var f=e.$$typeof;if(f===O){a.tag=11,a=gh(null,a,e,c,i);break e}else if(f===U){a.tag=14,a=yh(null,a,e,c,i);break e}}throw a=G(e)||e,Error(t(306,a,""))}}return a;case 0:return Jd(e,a,a.type,a.pendingProps,i);case 1:return c=a.type,f=Qr(c,a.pendingProps),Dh(e,a,c,f,i);case 3:e:{if(ve(a,a.stateNode.containerInfo),e===null)throw Error(t(387));c=a.pendingProps;var h=a.memoizedState;f=h.element,Dd(e,a),Wl(a,c,null,i);var C=a.memoizedState;if(c=C.cache,rr(a,Ct,c),c!==h.cache&&yd(a,[Ct],i,!0),Xl(),c=C.element,h.isDehydrated)if(h={element:c,isDehydrated:!1,cache:C.cache},a.updateQueue.baseState=h,a.memoizedState=h,a.flags&256){a=kh(e,a,c,i);break e}else if(c!==f){f=_a(Error(t(424)),a),Ul(f),a=kh(e,a,c,i);break e}else for(e=a.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ct=Pa(e.firstChild),zt=a,Ue=!0,ar=null,La=!0,i=jx(a,null,c,i),a.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Br(),c===f){a=On(e,a,i);break e}Bt(e,a,c,i)}a=a.child}return a;case 26:return Yo(e,a),e===null?(i=Yv(a.type,null,a.pendingProps,null))?a.memoizedState=i:Ue||(i=a.type,e=a.pendingProps,c=sc(P.current).createElement(i),c[Et]=a,c[$t]=e,Ht(c,i,e),Rt(c),a.stateNode=c):a.memoizedState=Yv(a.type,e.memoizedProps,a.pendingProps,e.memoizedState),null;case 27:return pe(a),e===null&&Ue&&(c=a.stateNode=Fv(a.type,a.pendingProps,P.current),zt=a,La=!0,f=ct,vr(a.type)?(Fm=f,ct=Pa(c.firstChild)):ct=f),Bt(e,a,a.pendingProps.children,i),Yo(e,a),e===null&&(a.flags|=4194304),a.child;case 5:return e===null&&Ue&&((f=c=ct)&&(c=uj(c,a.type,a.pendingProps,La),c!==null?(a.stateNode=c,zt=a,ct=Pa(c.firstChild),La=!1,f=!0):f=!1),f||nr(a)),pe(a),f=a.type,h=a.pendingProps,C=e!==null?e.memoizedProps:null,c=h.children,Rm(f,h)?c=null:C!==null&&Rm(f,C)&&(a.flags|=32),a.memoizedState!==null&&(f=Od(e,a,CN,null,null,i),vi._currentValue=f),Yo(e,a),Bt(e,a,c,i),a.child;case 6:return e===null&&Ue&&((e=i=ct)&&(i=dj(i,a.pendingProps,La),i!==null?(a.stateNode=i,zt=a,ct=null,e=!0):e=!1),e||nr(a)),null;case 13:return Mh(e,a,i);case 4:return ve(a,a.stateNode.containerInfo),c=a.pendingProps,e===null?a.child=Vr(a,null,c,i):Bt(e,a,c,i),a.child;case 11:return gh(e,a,a.type,a.pendingProps,i);case 7:return Bt(e,a,a.pendingProps,i),a.child;case 8:return Bt(e,a,a.pendingProps.children,i),a.child;case 12:return Bt(e,a,a.pendingProps.children,i),a.child;case 10:return c=a.pendingProps,rr(a,a.type,c.value),Bt(e,a,c.children,i),a.child;case 9:return f=a.type._context,c=a.pendingProps.children,Yr(a),f=Ft(f),c=c(f),a.flags|=1,Bt(e,a,c,i),a.child;case 14:return yh(e,a,a.type,a.pendingProps,i);case 15:return Nh(e,a,a.type,a.pendingProps,i);case 19:return Th(e,a,i);case 31:return ON(e,a,i);case 22:return jh(e,a,i,a.pendingProps);case 24:return Yr(a),c=Ft(Ct),e===null?(f=wd(),f===null&&(f=ot,h=Nd(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=i),f=h),a.memoizedState={parent:c,cache:f},Cd(a),rr(a,Ct,f)):((e.lanes&i)!==0&&(Dd(e,a),Wl(a,null,null,i),Xl()),f=e.memoizedState,h=a.memoizedState,f.parent!==c?(f={parent:c,cache:c},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),rr(a,Ct,c)):(c=h.cache,rr(a,Ct,c),c!==f.cache&&yd(a,[Ct],i,!0))),Bt(e,a,a.pendingProps.children,i),a.child;case 29:throw a.pendingProps}throw Error(t(156,a.tag))}function Rn(e){e.flags|=4}function im(e,a,i,c,f){if((a=(e.mode&32)!==0)&&(a=!1),a){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(rv())e.flags|=8192;else throw $r=ko,Sd}else e.flags&=-16777217}function _h(e,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Gv(a))if(rv())e.flags|=8192;else throw $r=ko,Sd}function Uo(e,a){a!==null&&(e.flags|=4),e.flags&16384&&(a=e.tag!==22?eo():536870912,e.lanes|=a,Us|=a)}function ni(e,a){if(!Ue)switch(e.tailMode){case"hidden":a=e.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?a||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function ut(e){var a=e.alternate!==null&&e.alternate.child===e.child,i=0,c=0;if(a)for(var f=e.child;f!==null;)i|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)i|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=c,e.childLanes=i,a}function LN(e,a,i){var c=a.pendingProps;switch(xd(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(a),null;case 1:return ut(a),null;case 3:return i=a.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Tn(Ct),be(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Es(a)?Rn(a):e===null||e.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,vd())),ut(a),null;case 26:var f=a.type,h=a.memoizedState;return e===null?(Rn(a),h!==null?(ut(a),_h(a,h)):(ut(a),im(a,f,null,c,i))):h?h!==e.memoizedState?(Rn(a),ut(a),_h(a,h)):(ut(a),a.flags&=-16777217):(e=e.memoizedProps,e!==c&&Rn(a),ut(a),im(a,f,e,c,i)),null;case 27:if(De(a),i=P.current,f=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==c&&Rn(a);else{if(!c){if(a.stateNode===null)throw Error(t(166));return ut(a),null}e=fe.current,Es(a)?dx(a):(e=Fv(f,c,i),a.stateNode=e,Rn(a))}return ut(a),null;case 5:if(De(a),f=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==c&&Rn(a);else{if(!c){if(a.stateNode===null)throw Error(t(166));return ut(a),null}if(h=fe.current,Es(a))dx(a);else{var C=sc(P.current);switch(h){case 1:h=C.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:h=C.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":h=C.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":h=C.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":h=C.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof c.is=="string"?C.createElement("select",{is:c.is}):C.createElement("select"),c.multiple?h.multiple=!0:c.size&&(h.size=c.size);break;default:h=typeof c.is=="string"?C.createElement(f,{is:c.is}):C.createElement(f)}}h[Et]=a,h[$t]=c;e:for(C=a.child;C!==null;){if(C.tag===5||C.tag===6)h.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===a)break e;for(;C.sibling===null;){if(C.return===null||C.return===a)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}a.stateNode=h;e:switch(Ht(h,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Rn(a)}}return ut(a),im(a,a.type,e===null?null:e.memoizedProps,a.pendingProps,i),null;case 6:if(e&&a.stateNode!=null)e.memoizedProps!==c&&Rn(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(t(166));if(e=P.current,Es(a)){if(e=a.stateNode,i=a.memoizedProps,c=null,f=zt,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}e[Et]=a,e=!!(e.nodeValue===i||c!==null&&c.suppressHydrationWarning===!0||Mv(e.nodeValue,i)),e||nr(a,!0)}else e=sc(e).createTextNode(c),e[Et]=a,a.stateNode=e}return ut(a),null;case 31:if(i=a.memoizedState,e===null||e.memoizedState!==null){if(c=Es(a),i!==null){if(e===null){if(!c)throw Error(t(318));if(e=a.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(t(557));e[Et]=a}else Br(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ut(a),e=!1}else i=vd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return a.flags&256?(ga(a),a):(ga(a),null);if((a.flags&128)!==0)throw Error(t(558))}return ut(a),null;case 13:if(c=a.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Es(a),c!==null&&c.dehydrated!==null){if(e===null){if(!f)throw Error(t(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(t(317));f[Et]=a}else Br(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ut(a),f=!1}else f=vd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return a.flags&256?(ga(a),a):(ga(a),null)}return ga(a),(a.flags&128)!==0?(a.lanes=i,a):(i=c!==null,e=e!==null&&e.memoizedState!==null,i&&(c=a.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),h=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(h=c.memoizedState.cachePool.pool),h!==f&&(c.flags|=2048)),i!==e&&i&&(a.child.flags|=8192),Uo(a,a.updateQueue),ut(a),null);case 4:return be(),e===null&&Am(a.stateNode.containerInfo),ut(a),null;case 10:return Tn(a.type),ut(a),null;case 19:if(ne(Nt),c=a.memoizedState,c===null)return ut(a),null;if(f=(a.flags&128)!==0,h=c.rendering,h===null)if(f)ni(c,!1);else{if(gt!==0||e!==null&&(e.flags&128)!==0)for(e=a.child;e!==null;){if(h=Eo(e),h!==null){for(a.flags|=128,ni(c,!1),e=h.updateQueue,a.updateQueue=e,Uo(a,e),a.subtreeFlags=0,e=i,i=a.child;i!==null;)lx(i,e),i=i.sibling;return de(Nt,Nt.current&1|2),Ue&&Mn(a,c.treeForkCount),a.child}e=e.sibling}c.tail!==null&&it()>Ko&&(a.flags|=128,f=!0,ni(c,!1),a.lanes=4194304)}else{if(!f)if(e=Eo(h),e!==null){if(a.flags|=128,f=!0,e=e.updateQueue,a.updateQueue=e,Uo(a,e),ni(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Ue)return ut(a),null}else 2*it()-c.renderingStartTime>Ko&&i!==536870912&&(a.flags|=128,f=!0,ni(c,!1),a.lanes=4194304);c.isBackwards?(h.sibling=a.child,a.child=h):(e=c.last,e!==null?e.sibling=h:a.child=h,c.last=h)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=it(),e.sibling=null,i=Nt.current,de(Nt,f?i&1|2:i&1),Ue&&Mn(a,c.treeForkCount),e):(ut(a),null);case 22:case 23:return ga(a),Td(),c=a.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(i&536870912)!==0&&(a.flags&128)===0&&(ut(a),a.subtreeFlags&6&&(a.flags|=8192)):ut(a),i=a.updateQueue,i!==null&&Uo(a,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==i&&(a.flags|=2048),e!==null&&ne(qr),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),a.memoizedState.cache!==i&&(a.flags|=2048),Tn(Ct),ut(a),null;case 25:return null;case 30:return null}throw Error(t(156,a.tag))}function IN(e,a){switch(xd(a),a.tag){case 1:return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 3:return Tn(Ct),be(),e=a.flags,(e&65536)!==0&&(e&128)===0?(a.flags=e&-65537|128,a):null;case 26:case 27:case 5:return De(a),null;case 31:if(a.memoizedState!==null){if(ga(a),a.alternate===null)throw Error(t(340));Br()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 13:if(ga(a),e=a.memoizedState,e!==null&&e.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Br()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 19:return ne(Nt),null;case 4:return be(),null;case 10:return Tn(a.type),null;case 22:case 23:return ga(a),Td(),e!==null&&ne(qr),e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 24:return Tn(Ct),null;case 25:return null;default:return null}}function Oh(e,a){switch(xd(a),a.tag){case 3:Tn(Ct),be();break;case 26:case 27:case 5:De(a);break;case 4:be();break;case 31:a.memoizedState!==null&&ga(a);break;case 13:ga(a);break;case 19:ne(Nt);break;case 10:Tn(a.type);break;case 22:case 23:ga(a),Td(),e!==null&&ne(qr);break;case 24:Tn(Ct)}}function ri(e,a){try{var i=a.updateQueue,c=i!==null?i.lastEffect:null;if(c!==null){var f=c.next;i=f;do{if((i.tag&e)===e){c=void 0;var h=i.create,C=i.inst;c=h(),C.destroy=c}i=i.next}while(i!==f)}}catch(T){et(a,a.return,T)}}function ur(e,a,i){try{var c=a.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var h=f.next;c=h;do{if((c.tag&e)===e){var C=c.inst,T=C.destroy;if(T!==void 0){C.destroy=void 0,f=a;var I=i,W=T;try{W()}catch(se){et(f,I,se)}}}c=c.next}while(c!==h)}}catch(se){et(a,a.return,se)}}function Rh(e){var a=e.updateQueue;if(a!==null){var i=e.stateNode;try{Sx(a,i)}catch(c){et(e,e.return,c)}}}function Lh(e,a,i){i.props=Qr(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(c){et(e,a,c)}}function si(e,a){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof i=="function"?e.refCleanup=i(c):i.current=c}}catch(f){et(e,a,f)}}function rn(e,a){var i=e.ref,c=e.refCleanup;if(i!==null)if(typeof c=="function")try{c()}catch(f){et(e,a,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){et(e,a,f)}else i.current=null}function Ih(e){var a=e.type,i=e.memoizedProps,c=e.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":i.autoFocus&&c.focus();break e;case"img":i.src?c.src=i.src:i.srcSet&&(c.srcset=i.srcSet)}}catch(f){et(e,e.return,f)}}function om(e,a,i){try{var c=e.stateNode;rj(c,e.type,i,a),c[$t]=a}catch(f){et(e,e.return,f)}}function Ph(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&vr(e.type)||e.tag===4}function cm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ph(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&vr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function um(e,a,i){var c=e.tag;if(c===5||c===6)e=e.stateNode,a?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,a):(a=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.appendChild(e),i=i._reactRootContainer,i!=null||a.onclick!==null||(a.onclick=Cn));else if(c!==4&&(c===27&&vr(e.type)&&(i=e.stateNode,a=null),e=e.child,e!==null))for(um(e,a,i),e=e.sibling;e!==null;)um(e,a,i),e=e.sibling}function $o(e,a,i){var c=e.tag;if(c===5||c===6)e=e.stateNode,a?i.insertBefore(e,a):i.appendChild(e);else if(c!==4&&(c===27&&vr(e.type)&&(i=e.stateNode),e=e.child,e!==null))for($o(e,a,i),e=e.sibling;e!==null;)$o(e,a,i),e=e.sibling}function zh(e){var a=e.stateNode,i=e.memoizedProps;try{for(var c=e.type,f=a.attributes;f.length;)a.removeAttributeNode(f[0]);Ht(a,c,i),a[Et]=e,a[$t]=i}catch(h){et(e,e.return,h)}}var Ln=!1,Mt=!1,dm=!1,Fh=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function PN(e,a){if(e=e.containerInfo,_m=mc,e=Wp(e),rd(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var c=i.getSelection&&i.getSelection();if(c&&c.rangeCount!==0){i=c.anchorNode;var f=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var C=0,T=-1,I=-1,W=0,se=0,oe=e,Z=null;t:for(;;){for(var te;oe!==i||f!==0&&oe.nodeType!==3||(T=C+f),oe!==h||c!==0&&oe.nodeType!==3||(I=C+c),oe.nodeType===3&&(C+=oe.nodeValue.length),(te=oe.firstChild)!==null;)Z=oe,oe=te;for(;;){if(oe===e)break t;if(Z===i&&++W===f&&(T=C),Z===h&&++se===c&&(I=C),(te=oe.nextSibling)!==null)break;oe=Z,Z=oe.parentNode}oe=te}i=T===-1||I===-1?null:{start:T,end:I}}else i=null}i=i||{start:0,end:0}}else i=null;for(Om={focusedElem:e,selectionRange:i},mc=!1,Lt=a;Lt!==null;)if(a=Lt,e=a.child,(a.subtreeFlags&1028)!==0&&e!==null)e.return=a,Lt=e;else for(;Lt!==null;){switch(a=Lt,h=a.alternate,e=a.flags,a.tag){case 0:if((e&4)!==0&&(e=a.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)f=e[i],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,i=a,f=h.memoizedProps,h=h.memoizedState,c=i.stateNode;try{var Ne=Qr(i.type,f);e=c.getSnapshotBeforeUpdate(Ne,h),c.__reactInternalSnapshotBeforeUpdate=e}catch(ke){et(i,i.return,ke)}}break;case 3:if((e&1024)!==0){if(e=a.stateNode.containerInfo,i=e.nodeType,i===9)Im(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Im(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(t(163))}if(e=a.sibling,e!==null){e.return=a.return,Lt=e;break}Lt=a.return}}function Bh(e,a,i){var c=i.flags;switch(i.tag){case 0:case 11:case 15:Pn(e,i),c&4&&ri(5,i);break;case 1:if(Pn(e,i),c&4)if(e=i.stateNode,a===null)try{e.componentDidMount()}catch(C){et(i,i.return,C)}else{var f=Qr(i.type,a.memoizedProps);a=a.memoizedState;try{e.componentDidUpdate(f,a,e.__reactInternalSnapshotBeforeUpdate)}catch(C){et(i,i.return,C)}}c&64&&Rh(i),c&512&&si(i,i.return);break;case 3:if(Pn(e,i),c&64&&(e=i.updateQueue,e!==null)){if(a=null,i.child!==null)switch(i.child.tag){case 27:case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}try{Sx(e,a)}catch(C){et(i,i.return,C)}}break;case 27:a===null&&c&4&&zh(i);case 26:case 5:Pn(e,i),a===null&&c&4&&Ih(i),c&512&&si(i,i.return);break;case 12:Pn(e,i);break;case 31:Pn(e,i),c&4&&qh(e,i);break;case 13:Pn(e,i),c&4&&Uh(e,i),c&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=VN.bind(null,i),mj(e,i))));break;case 22:if(c=i.memoizedState!==null||Ln,!c){a=a!==null&&a.memoizedState!==null||Mt,f=Ln;var h=Mt;Ln=c,(Mt=a)&&!h?zn(e,i,(i.subtreeFlags&8772)!==0):Pn(e,i),Ln=f,Mt=h}break;case 30:break;default:Pn(e,i)}}function Hh(e){var a=e.alternate;a!==null&&(e.alternate=null,Hh(a)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(a=e.stateNode,a!==null&&Pt(a)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var mt=null,sa=!1;function In(e,a,i){for(i=i.child;i!==null;)Yh(e,a,i),i=i.sibling}function Yh(e,a,i){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Er,i)}catch{}switch(i.tag){case 26:Mt||rn(i,a),In(e,a,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Mt||rn(i,a);var c=mt,f=sa;vr(i.type)&&(mt=i.stateNode,sa=!1),In(e,a,i),pi(i.stateNode),mt=c,sa=f;break;case 5:Mt||rn(i,a);case 6:if(c=mt,f=sa,mt=null,In(e,a,i),mt=c,sa=f,mt!==null)if(sa)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(i.stateNode)}catch(h){et(i,a,h)}else try{mt.removeChild(i.stateNode)}catch(h){et(i,a,h)}break;case 18:mt!==null&&(sa?(e=mt,Rv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Zs(e)):Rv(mt,i.stateNode));break;case 4:c=mt,f=sa,mt=i.stateNode.containerInfo,sa=!0,In(e,a,i),mt=c,sa=f;break;case 0:case 11:case 14:case 15:ur(2,i,a),Mt||ur(4,i,a),In(e,a,i);break;case 1:Mt||(rn(i,a),c=i.stateNode,typeof c.componentWillUnmount=="function"&&Lh(i,a,c)),In(e,a,i);break;case 21:In(e,a,i);break;case 22:Mt=(c=Mt)||i.memoizedState!==null,In(e,a,i),Mt=c;break;default:In(e,a,i)}}function qh(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Zs(e)}catch(i){et(a,a.return,i)}}}function Uh(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Zs(e)}catch(i){et(a,a.return,i)}}function zN(e){switch(e.tag){case 31:case 13:case 19:var a=e.stateNode;return a===null&&(a=e.stateNode=new Fh),a;case 22:return e=e.stateNode,a=e._retryCache,a===null&&(a=e._retryCache=new Fh),a;default:throw Error(t(435,e.tag))}}function Vo(e,a){var i=zN(e);a.forEach(function(c){if(!i.has(c)){i.add(c);var f=GN.bind(null,e,c);c.then(f,f)}})}function la(e,a){var i=a.deletions;if(i!==null)for(var c=0;c<i.length;c++){var f=i[c],h=e,C=a,T=C;e:for(;T!==null;){switch(T.tag){case 27:if(vr(T.type)){mt=T.stateNode,sa=!1;break e}break;case 5:mt=T.stateNode,sa=!1;break e;case 3:case 4:mt=T.stateNode.containerInfo,sa=!0;break e}T=T.return}if(mt===null)throw Error(t(160));Yh(h,C,f),mt=null,sa=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)$h(a,e),a=a.sibling}var $a=null;function $h(e,a){var i=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:la(a,e),ia(e),c&4&&(ur(3,e,e.return),ri(3,e),ur(5,e,e.return));break;case 1:la(a,e),ia(e),c&512&&(Mt||i===null||rn(i,i.return)),c&64&&Ln&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?c:i.concat(c))));break;case 26:var f=$a;if(la(a,e),ia(e),c&512&&(Mt||i===null||rn(i,i.return)),c&4){var h=i!==null?i.memoizedState:null;if(c=e.memoizedState,i===null)if(c===null)if(e.stateNode===null){e:{c=e.type,i=e.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":h=f.getElementsByTagName("title")[0],(!h||h[xe]||h[Et]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(c),f.head.insertBefore(h,f.querySelector("head > title"))),Ht(h,c,i),h[Et]=e,Rt(h),c=h;break e;case"link":var C=$v("link","href",f).get(c+(i.href||""));if(C){for(var T=0;T<C.length;T++)if(h=C[T],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){C.splice(T,1);break t}}h=f.createElement(c),Ht(h,c,i),f.head.appendChild(h);break;case"meta":if(C=$v("meta","content",f).get(c+(i.content||""))){for(T=0;T<C.length;T++)if(h=C[T],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){C.splice(T,1);break t}}h=f.createElement(c),Ht(h,c,i),f.head.appendChild(h);break;default:throw Error(t(468,c))}h[Et]=e,Rt(h),c=h}e.stateNode=c}else Vv(f,e.type,e.stateNode);else e.stateNode=Uv(f,c,e.memoizedProps);else h!==c?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,c===null?Vv(f,e.type,e.stateNode):Uv(f,c,e.memoizedProps)):c===null&&e.stateNode!==null&&om(e,e.memoizedProps,i.memoizedProps)}break;case 27:la(a,e),ia(e),c&512&&(Mt||i===null||rn(i,i.return)),i!==null&&c&4&&om(e,e.memoizedProps,i.memoizedProps);break;case 5:if(la(a,e),ia(e),c&512&&(Mt||i===null||rn(i,i.return)),e.flags&32){f=e.stateNode;try{Ns(f,"")}catch(Ne){et(e,e.return,Ne)}}c&4&&e.stateNode!=null&&(f=e.memoizedProps,om(e,f,i!==null?i.memoizedProps:f)),c&1024&&(dm=!0);break;case 6:if(la(a,e),ia(e),c&4){if(e.stateNode===null)throw Error(t(162));c=e.memoizedProps,i=e.stateNode;try{i.nodeValue=c}catch(Ne){et(e,e.return,Ne)}}break;case 3:if(oc=null,f=$a,$a=lc(a.containerInfo),la(a,e),$a=f,ia(e),c&4&&i!==null&&i.memoizedState.isDehydrated)try{Zs(a.containerInfo)}catch(Ne){et(e,e.return,Ne)}dm&&(dm=!1,Vh(e));break;case 4:c=$a,$a=lc(e.stateNode.containerInfo),la(a,e),ia(e),$a=c;break;case 12:la(a,e),ia(e);break;case 31:la(a,e),ia(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Vo(e,c)));break;case 13:la(a,e),ia(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Qo=it()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Vo(e,c)));break;case 22:f=e.memoizedState!==null;var I=i!==null&&i.memoizedState!==null,W=Ln,se=Mt;if(Ln=W||f,Mt=se||I,la(a,e),Mt=se,Ln=W,ia(e),c&8192)e:for(a=e.stateNode,a._visibility=f?a._visibility&-2:a._visibility|1,f&&(i===null||I||Ln||Mt||Kr(e)),i=null,a=e;;){if(a.tag===5||a.tag===26){if(i===null){I=i=a;try{if(h=I.stateNode,f)C=h.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{T=I.stateNode;var oe=I.memoizedProps.style,Z=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;T.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(Ne){et(I,I.return,Ne)}}}else if(a.tag===6){if(i===null){I=a;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(Ne){et(I,I.return,Ne)}}}else if(a.tag===18){if(i===null){I=a;try{var te=I.stateNode;f?Lv(te,!0):Lv(I.stateNode,!1)}catch(Ne){et(I,I.return,Ne)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;i===a&&(i=null),a=a.return}i===a&&(i=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=e.updateQueue,c!==null&&(i=c.retryQueue,i!==null&&(c.retryQueue=null,Vo(e,i))));break;case 19:la(a,e),ia(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Vo(e,c)));break;case 30:break;case 21:break;default:la(a,e),ia(e)}}function ia(e){var a=e.flags;if(a&2){try{for(var i,c=e.return;c!==null;){if(Ph(c)){i=c;break}c=c.return}if(i==null)throw Error(t(160));switch(i.tag){case 27:var f=i.stateNode,h=cm(e);$o(e,h,f);break;case 5:var C=i.stateNode;i.flags&32&&(Ns(C,""),i.flags&=-33);var T=cm(e);$o(e,T,C);break;case 3:case 4:var I=i.stateNode.containerInfo,W=cm(e);um(e,W,I);break;default:throw Error(t(161))}}catch(se){et(e,e.return,se)}e.flags&=-3}a&4096&&(e.flags&=-4097)}function Vh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var a=e;Vh(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),e=e.sibling}}function Pn(e,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Bh(e,a.alternate,a),a=a.sibling}function Kr(e){for(e=e.child;e!==null;){var a=e;switch(a.tag){case 0:case 11:case 14:case 15:ur(4,a,a.return),Kr(a);break;case 1:rn(a,a.return);var i=a.stateNode;typeof i.componentWillUnmount=="function"&&Lh(a,a.return,i),Kr(a);break;case 27:pi(a.stateNode);case 26:case 5:rn(a,a.return),Kr(a);break;case 22:a.memoizedState===null&&Kr(a);break;case 30:Kr(a);break;default:Kr(a)}e=e.sibling}}function zn(e,a,i){for(i=i&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,f=e,h=a,C=h.flags;switch(h.tag){case 0:case 11:case 15:zn(f,h,i),ri(4,h);break;case 1:if(zn(f,h,i),c=h,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(W){et(c,c.return,W)}if(c=h,f=c.updateQueue,f!==null){var T=c.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)wx(I[f],T)}catch(W){et(c,c.return,W)}}i&&C&64&&Rh(h),si(h,h.return);break;case 27:zh(h);case 26:case 5:zn(f,h,i),i&&c===null&&C&4&&Ih(h),si(h,h.return);break;case 12:zn(f,h,i);break;case 31:zn(f,h,i),i&&C&4&&qh(f,h);break;case 13:zn(f,h,i),i&&C&4&&Uh(f,h);break;case 22:h.memoizedState===null&&zn(f,h,i),si(h,h.return);break;case 30:break;default:zn(f,h,i)}a=a.sibling}}function mm(e,a){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(e=a.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&$l(i))}function fm(e,a){e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&$l(e))}function Va(e,a,i,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Gh(e,a,i,c),a=a.sibling}function Gh(e,a,i,c){var f=a.flags;switch(a.tag){case 0:case 11:case 15:Va(e,a,i,c),f&2048&&ri(9,a);break;case 1:Va(e,a,i,c);break;case 3:Va(e,a,i,c),f&2048&&(e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&$l(e)));break;case 12:if(f&2048){Va(e,a,i,c),e=a.stateNode;try{var h=a.memoizedProps,C=h.id,T=h.onPostCommit;typeof T=="function"&&T(C,a.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){et(a,a.return,I)}}else Va(e,a,i,c);break;case 31:Va(e,a,i,c);break;case 13:Va(e,a,i,c);break;case 23:break;case 22:h=a.stateNode,C=a.alternate,a.memoizedState!==null?h._visibility&2?Va(e,a,i,c):li(e,a):h._visibility&2?Va(e,a,i,c):(h._visibility|=2,Hs(e,a,i,c,(a.subtreeFlags&10256)!==0||!1)),f&2048&&mm(C,a);break;case 24:Va(e,a,i,c),f&2048&&fm(a.alternate,a);break;default:Va(e,a,i,c)}}function Hs(e,a,i,c,f){for(f=f&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var h=e,C=a,T=i,I=c,W=C.flags;switch(C.tag){case 0:case 11:case 15:Hs(h,C,T,I,f),ri(8,C);break;case 23:break;case 22:var se=C.stateNode;C.memoizedState!==null?se._visibility&2?Hs(h,C,T,I,f):li(h,C):(se._visibility|=2,Hs(h,C,T,I,f)),f&&W&2048&&mm(C.alternate,C);break;case 24:Hs(h,C,T,I,f),f&&W&2048&&fm(C.alternate,C);break;default:Hs(h,C,T,I,f)}a=a.sibling}}function li(e,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var i=e,c=a,f=c.flags;switch(c.tag){case 22:li(i,c),f&2048&&mm(c.alternate,c);break;case 24:li(i,c),f&2048&&fm(c.alternate,c);break;default:li(i,c)}a=a.sibling}}var ii=8192;function Ys(e,a,i){if(e.subtreeFlags&ii)for(e=e.child;e!==null;)Qh(e,a,i),e=e.sibling}function Qh(e,a,i){switch(e.tag){case 26:Ys(e,a,i),e.flags&ii&&e.memoizedState!==null&&Sj(i,$a,e.memoizedState,e.memoizedProps);break;case 5:Ys(e,a,i);break;case 3:case 4:var c=$a;$a=lc(e.stateNode.containerInfo),Ys(e,a,i),$a=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=ii,ii=16777216,Ys(e,a,i),ii=c):Ys(e,a,i));break;default:Ys(e,a,i)}}function Kh(e){var a=e.alternate;if(a!==null&&(e=a.child,e!==null)){a.child=null;do a=e.sibling,e.sibling=null,e=a;while(e!==null)}}function oi(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var i=0;i<a.length;i++){var c=a[i];Lt=c,Wh(c,e)}Kh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Xh(e),e=e.sibling}function Xh(e){switch(e.tag){case 0:case 11:case 15:oi(e),e.flags&2048&&ur(9,e,e.return);break;case 3:oi(e);break;case 12:oi(e);break;case 22:var a=e.stateNode;e.memoizedState!==null&&a._visibility&2&&(e.return===null||e.return.tag!==13)?(a._visibility&=-3,Go(e)):oi(e);break;default:oi(e)}}function Go(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var i=0;i<a.length;i++){var c=a[i];Lt=c,Wh(c,e)}Kh(e)}for(e=e.child;e!==null;){switch(a=e,a.tag){case 0:case 11:case 15:ur(8,a,a.return),Go(a);break;case 22:i=a.stateNode,i._visibility&2&&(i._visibility&=-3,Go(a));break;default:Go(a)}e=e.sibling}}function Wh(e,a){for(;Lt!==null;){var i=Lt;switch(i.tag){case 0:case 11:case 15:ur(8,i,a);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var c=i.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:$l(i.memoizedState.cache)}if(c=i.child,c!==null)c.return=i,Lt=c;else e:for(i=e;Lt!==null;){c=Lt;var f=c.sibling,h=c.return;if(Hh(c),c===i){Lt=null;break e}if(f!==null){f.return=h,Lt=f;break e}Lt=h}}}var FN={getCacheForType:function(e){var a=Ft(Ct),i=a.data.get(e);return i===void 0&&(i=e(),a.data.set(e,i)),i},cacheSignal:function(){return Ft(Ct).controller.signal}},BN=typeof WeakMap=="function"?WeakMap:Map,Ke=0,ot=null,Le=null,Be=0,Je=0,ya=null,dr=!1,qs=!1,pm=!1,Fn=0,gt=0,mr=0,Xr=0,xm=0,Na=0,Us=0,ci=null,oa=null,hm=!1,Qo=0,Zh=0,Ko=1/0,Xo=null,fr=null,_t=0,pr=null,$s=null,Bn=0,vm=0,bm=null,Jh=null,ui=0,gm=null;function ja(){return(Ke&2)!==0&&Be!==0?Be&-Be:F.T!==null?Cm():ro()}function ev(){if(Na===0)if((Be&536870912)===0||Ue){var e=ps;ps<<=1,(ps&3932160)===0&&(ps=262144),Na=e}else Na=536870912;return e=ba.current,e!==null&&(e.flags|=32),Na}function ca(e,a,i){(e===ot&&(Je===2||Je===9)||e.cancelPendingCommit!==null)&&(Vs(e,0),xr(e,Be,Na,!1)),Or(e,i),((Ke&2)===0||e!==ot)&&(e===ot&&((Ke&2)===0&&(Xr|=i),gt===4&&xr(e,Be,Na,!1)),sn(e))}function tv(e,a,i){if((Ke&6)!==0)throw Error(t(327));var c=!i&&(a&127)===0&&(a&e.expiredLanes)===0||_r(e,a),f=c?qN(e,a):Nm(e,a,!0),h=c;do{if(f===0){qs&&!c&&xr(e,a,0,!1);break}else{if(i=e.current.alternate,h&&!HN(i)){f=Nm(e,a,!1),h=!1;continue}if(f===2){if(h=a,e.errorRecoveryDisabledLanes&h)var C=0;else C=e.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){a=C;e:{var T=e;f=ci;var I=T.current.memoizedState.isDehydrated;if(I&&(Vs(T,C).flags|=256),C=Nm(T,C,!1),C!==2){if(pm&&!I){T.errorRecoveryDisabledLanes|=h,Xr|=h,f=4;break e}h=oa,oa=f,h!==null&&(oa===null?oa=h:oa.push.apply(oa,h))}f=C}if(h=!1,f!==2)continue}}if(f===1){Vs(e,0),xr(e,a,0,!0);break}e:{switch(c=e,h=f,h){case 0:case 1:throw Error(t(345));case 4:if((a&4194048)!==a)break;case 6:xr(c,a,Na,!dr);break e;case 2:oa=null;break;case 3:case 5:break;default:throw Error(t(329))}if((a&62914560)===a&&(f=Qo+300-it(),10<f)){if(xr(c,a,Na,!dr),hs(c,0,!0)!==0)break e;Bn=a,c.timeoutHandle=_v(av.bind(null,c,i,oa,Xo,hm,a,Na,Xr,Us,dr,h,"Throttled",-0,0),f);break e}av(c,i,oa,Xo,hm,a,Na,Xr,Us,dr,h,null,-0,0)}}break}while(!0);sn(e)}function av(e,a,i,c,f,h,C,T,I,W,se,oe,Z,te){if(e.timeoutHandle=-1,oe=a.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Cn},Qh(a,h,oe);var Ne=(h&62914560)===h?Qo-it():(h&4194048)===h?Zh-it():0;if(Ne=Cj(oe,Ne),Ne!==null){Bn=h,e.cancelPendingCommit=Ne(uv.bind(null,e,a,h,i,c,f,C,T,I,se,oe,null,Z,te)),xr(e,h,C,!W);return}}uv(e,a,h,i,c,f,C,T,I)}function HN(e){for(var a=e;;){var i=a.tag;if((i===0||i===11||i===15)&&a.flags&16384&&(i=a.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var c=0;c<i.length;c++){var f=i[c],h=f.getSnapshot;f=f.value;try{if(!ha(h(),f))return!1}catch{return!1}}if(i=a.child,a.subtreeFlags&16384&&i!==null)i.return=a,a=i;else{if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function xr(e,a,i,c){a&=~xm,a&=~Xr,e.suspendedLanes|=a,e.pingedLanes&=~a,c&&(e.warmLanes|=a),c=e.expirationTimes;for(var f=a;0<f;){var h=31-Jt(f),C=1<<h;c[h]=-1,f&=~C}i!==0&&to(e,i,a)}function Wo(){return(Ke&6)===0?(di(0),!1):!0}function ym(){if(Le!==null){if(Je===0)var e=Le.return;else e=Le,An=Hr=null,Id(e),Is=null,Gl=0,e=Le;for(;e!==null;)Oh(e.alternate,e),e=e.return;Le=null}}function Vs(e,a){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,ij(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Bn=0,ym(),ot=e,Le=i=kn(e.current,null),Be=a,Je=0,ya=null,dr=!1,qs=_r(e,a),pm=!1,Us=Na=xm=Xr=mr=gt=0,oa=ci=null,hm=!1,(a&8)!==0&&(a|=a&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=a;0<c;){var f=31-Jt(c),h=1<<f;a|=e[f],c&=~h}return Fn=a,bo(),i}function nv(e,a){_e=null,F.H=ti,a===Ls||a===Do?(a=gx(),Je=3):a===Sd?(a=gx(),Je=4):Je=a===Zd?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ya=a,Le===null&&(gt=1,Bo(e,_a(a,e.current)))}function rv(){var e=ba.current;return e===null?!0:(Be&4194048)===Be?Ia===null:(Be&62914560)===Be||(Be&536870912)!==0?e===Ia:!1}function sv(){var e=F.H;return F.H=ti,e===null?ti:e}function lv(){var e=F.A;return F.A=FN,e}function Zo(){gt=4,dr||(Be&4194048)!==Be&&ba.current!==null||(qs=!0),(mr&134217727)===0&&(Xr&134217727)===0||ot===null||xr(ot,Be,Na,!1)}function Nm(e,a,i){var c=Ke;Ke|=2;var f=sv(),h=lv();(ot!==e||Be!==a)&&(Xo=null,Vs(e,a)),a=!1;var C=gt;e:do try{if(Je!==0&&Le!==null){var T=Le,I=ya;switch(Je){case 8:ym(),C=6;break e;case 3:case 2:case 9:case 6:ba.current===null&&(a=!0);var W=Je;if(Je=0,ya=null,Gs(e,T,I,W),i&&qs){C=0;break e}break;default:W=Je,Je=0,ya=null,Gs(e,T,I,W)}}YN(),C=gt;break}catch(se){nv(e,se)}while(!0);return a&&e.shellSuspendCounter++,An=Hr=null,Ke=c,F.H=f,F.A=h,Le===null&&(ot=null,Be=0,bo()),C}function YN(){for(;Le!==null;)iv(Le)}function qN(e,a){var i=Ke;Ke|=2;var c=sv(),f=lv();ot!==e||Be!==a?(Xo=null,Ko=it()+500,Vs(e,a)):qs=_r(e,a);e:do try{if(Je!==0&&Le!==null){a=Le;var h=ya;t:switch(Je){case 1:Je=0,ya=null,Gs(e,a,h,1);break;case 2:case 9:if(vx(h)){Je=0,ya=null,ov(a);break}a=function(){Je!==2&&Je!==9||ot!==e||(Je=7),sn(e)},h.then(a,a);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:vx(h)?(Je=0,ya=null,ov(a)):(Je=0,ya=null,Gs(e,a,h,7));break;case 5:var C=null;switch(Le.tag){case 26:C=Le.memoizedState;case 5:case 27:var T=Le;if(C?Gv(C):T.stateNode.complete){Je=0,ya=null;var I=T.sibling;if(I!==null)Le=I;else{var W=T.return;W!==null?(Le=W,Jo(W)):Le=null}break t}}Je=0,ya=null,Gs(e,a,h,5);break;case 6:Je=0,ya=null,Gs(e,a,h,6);break;case 8:ym(),gt=6;break e;default:throw Error(t(462))}}UN();break}catch(se){nv(e,se)}while(!0);return An=Hr=null,F.H=c,F.A=f,Ke=i,Le!==null?0:(ot=null,Be=0,bo(),gt)}function UN(){for(;Le!==null&&!Me();)iv(Le)}function iv(e){var a=Eh(e.alternate,e,Fn);e.memoizedProps=e.pendingProps,a===null?Jo(e):Le=a}function ov(e){var a=e,i=a.alternate;switch(a.tag){case 15:case 0:a=Ch(i,a,a.pendingProps,a.type,void 0,Be);break;case 11:a=Ch(i,a,a.pendingProps,a.type.render,a.ref,Be);break;case 5:Id(a);default:Oh(i,a),a=Le=lx(a,Fn),a=Eh(i,a,Fn)}e.memoizedProps=e.pendingProps,a===null?Jo(e):Le=a}function Gs(e,a,i,c){An=Hr=null,Id(a),Is=null,Gl=0;var f=a.return;try{if(_N(e,f,a,i,Be)){gt=1,Bo(e,_a(i,e.current)),Le=null;return}}catch(h){if(f!==null)throw Le=f,h;gt=1,Bo(e,_a(i,e.current)),Le=null;return}a.flags&32768?(Ue||c===1?e=!0:qs||(Be&536870912)!==0?e=!1:(dr=e=!0,(c===2||c===9||c===3||c===6)&&(c=ba.current,c!==null&&c.tag===13&&(c.flags|=16384))),cv(a,e)):Jo(a)}function Jo(e){var a=e;do{if((a.flags&32768)!==0){cv(a,dr);return}e=a.return;var i=LN(a.alternate,a,Fn);if(i!==null){Le=i;return}if(a=a.sibling,a!==null){Le=a;return}Le=a=e}while(a!==null);gt===0&&(gt=5)}function cv(e,a){do{var i=IN(e.alternate,e);if(i!==null){i.flags&=32767,Le=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!a&&(e=e.sibling,e!==null)){Le=e;return}Le=e=i}while(e!==null);gt=6,Le=null}function uv(e,a,i,c,f,h,C,T,I){e.cancelPendingCommit=null;do ec();while(_t!==0);if((Ke&6)!==0)throw Error(t(327));if(a!==null){if(a===e.current)throw Error(t(177));if(h=a.lanes|a.childLanes,h|=cd,Fu(e,i,h,C,T,I),e===ot&&(Le=ot=null,Be=0),$s=a,pr=e,Bn=i,vm=h,bm=f,Jh=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,QN(Ja,function(){return xv(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=F.T,F.T=null,f=A.p,A.p=2,C=Ke,Ke|=4;try{PN(e,a,i)}finally{Ke=C,A.p=f,F.T=c}}_t=1,dv(),mv(),fv()}}function dv(){if(_t===1){_t=0;var e=pr,a=$s,i=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||i){i=F.T,F.T=null;var c=A.p;A.p=2;var f=Ke;Ke|=4;try{$h(a,e);var h=Om,C=Wp(e.containerInfo),T=h.focusedElem,I=h.selectionRange;if(C!==T&&T&&T.ownerDocument&&Xp(T.ownerDocument.documentElement,T)){if(I!==null&&rd(T)){var W=I.start,se=I.end;if(se===void 0&&(se=W),"selectionStart"in T)T.selectionStart=W,T.selectionEnd=Math.min(se,T.value.length);else{var oe=T.ownerDocument||document,Z=oe&&oe.defaultView||window;if(Z.getSelection){var te=Z.getSelection(),Ne=T.textContent.length,ke=Math.min(I.start,Ne),st=I.end===void 0?ke:Math.min(I.end,Ne);!te.extend&&ke>st&&(C=st,st=ke,ke=C);var V=Kp(T,ke),q=Kp(T,st);if(V&&q&&(te.rangeCount!==1||te.anchorNode!==V.node||te.anchorOffset!==V.offset||te.focusNode!==q.node||te.focusOffset!==q.offset)){var X=oe.createRange();X.setStart(V.node,V.offset),te.removeAllRanges(),ke>st?(te.addRange(X),te.extend(q.node,q.offset)):(X.setEnd(q.node,q.offset),te.addRange(X))}}}}for(oe=[],te=T;te=te.parentNode;)te.nodeType===1&&oe.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<oe.length;T++){var ie=oe[T];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}mc=!!_m,Om=_m=null}finally{Ke=f,A.p=c,F.T=i}}e.current=a,_t=2}}function mv(){if(_t===2){_t=0;var e=pr,a=$s,i=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||i){i=F.T,F.T=null;var c=A.p;A.p=2;var f=Ke;Ke|=4;try{Bh(e,a.alternate,a)}finally{Ke=f,A.p=c,F.T=i}}_t=3}}function fv(){if(_t===4||_t===3){_t=0,lt();var e=pr,a=$s,i=Bn,c=Jh;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?_t=5:(_t=0,$s=pr=null,pv(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(fr=null),El(i),a=a.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Er,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=F.T,f=A.p,A.p=2,F.T=null;try{for(var h=e.onRecoverableError,C=0;C<c.length;C++){var T=c[C];h(T.value,{componentStack:T.stack})}}finally{F.T=a,A.p=f}}(Bn&3)!==0&&ec(),sn(e),f=e.pendingLanes,(i&261930)!==0&&(f&42)!==0?e===gm?ui++:(ui=0,gm=e):ui=0,di(0)}}function pv(e,a){(e.pooledCacheLanes&=a)===0&&(a=e.pooledCache,a!=null&&(e.pooledCache=null,$l(a)))}function ec(){return dv(),mv(),fv(),xv()}function xv(){if(_t!==5)return!1;var e=pr,a=vm;vm=0;var i=El(Bn),c=F.T,f=A.p;try{A.p=32>i?32:i,F.T=null,i=bm,bm=null;var h=pr,C=Bn;if(_t=0,$s=pr=null,Bn=0,(Ke&6)!==0)throw Error(t(331));var T=Ke;if(Ke|=4,Xh(h.current),Gh(h,h.current,C,i),Ke=T,di(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Er,h)}catch{}return!0}finally{A.p=f,F.T=c,pv(e,a)}}function hv(e,a,i){a=_a(i,a),a=Wd(e.stateNode,a,2),e=ir(e,a,2),e!==null&&(Or(e,2),sn(e))}function et(e,a,i){if(e.tag===3)hv(e,e,i);else for(;a!==null;){if(a.tag===3){hv(a,e,i);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(fr===null||!fr.has(c))){e=_a(i,e),i=vh(2),c=ir(a,i,2),c!==null&&(bh(i,c,a,e),Or(c,2),sn(c));break}}a=a.return}}function jm(e,a,i){var c=e.pingCache;if(c===null){c=e.pingCache=new BN;var f=new Set;c.set(a,f)}else f=c.get(a),f===void 0&&(f=new Set,c.set(a,f));f.has(i)||(pm=!0,f.add(i),e=$N.bind(null,e,a,i),a.then(e,e))}function $N(e,a,i){var c=e.pingCache;c!==null&&c.delete(a),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,ot===e&&(Be&i)===i&&(gt===4||gt===3&&(Be&62914560)===Be&&300>it()-Qo?(Ke&2)===0&&Vs(e,0):xm|=i,Us===Be&&(Us=0)),sn(e)}function vv(e,a){a===0&&(a=eo()),e=zr(e,a),e!==null&&(Or(e,a),sn(e))}function VN(e){var a=e.memoizedState,i=0;a!==null&&(i=a.retryLane),vv(e,i)}function GN(e,a){var i=0;switch(e.tag){case 31:case 13:var c=e.stateNode,f=e.memoizedState;f!==null&&(i=f.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(t(314))}c!==null&&c.delete(a),vv(e,i)}function QN(e,a){return It(e,a)}var tc=null,Qs=null,wm=!1,ac=!1,Sm=!1,hr=0;function sn(e){e!==Qs&&e.next===null&&(Qs===null?tc=Qs=e:Qs=Qs.next=e),ac=!0,wm||(wm=!0,XN())}function di(e,a){if(!Sm&&ac){Sm=!0;do for(var i=!1,c=tc;c!==null;){if(e!==0){var f=c.pendingLanes;if(f===0)var h=0;else{var C=c.suspendedLanes,T=c.pingedLanes;h=(1<<31-Jt(42|e)+1)-1,h&=f&~(C&~T),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,Nv(c,h))}else h=Be,h=hs(c,c===ot?h:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(h&3)===0||_r(c,h)||(i=!0,Nv(c,h));c=c.next}while(i);Sm=!1}}function KN(){bv()}function bv(){ac=wm=!1;var e=0;hr!==0&&lj()&&(e=hr);for(var a=it(),i=null,c=tc;c!==null;){var f=c.next,h=gv(c,a);h===0?(c.next=null,i===null?tc=f:i.next=f,f===null&&(Qs=i)):(i=c,(e!==0||(h&3)!==0)&&(ac=!0)),c=f}_t!==0&&_t!==5||di(e),hr!==0&&(hr=0)}function gv(e,a){for(var i=e.suspendedLanes,c=e.pingedLanes,f=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var C=31-Jt(h),T=1<<C,I=f[C];I===-1?((T&i)===0||(T&c)!==0)&&(f[C]=zu(T,a)):I<=a&&(e.expiredLanes|=T),h&=~T}if(a=ot,i=Be,i=hs(e,e===a?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,i===0||e===a&&(Je===2||Je===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&Ya(c),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||_r(e,i)){if(a=i&-i,a===e.callbackPriority)return a;switch(c!==null&&Ya(c),El(i)){case 2:case 8:i=Ut;break;case 32:i=Ja;break;case 268435456:i=Ji;break;default:i=Ja}return c=yv.bind(null,e),i=It(i,c),e.callbackPriority=a,e.callbackNode=i,a}return c!==null&&c!==null&&Ya(c),e.callbackPriority=2,e.callbackNode=null,2}function yv(e,a){if(_t!==0&&_t!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(ec()&&e.callbackNode!==i)return null;var c=Be;return c=hs(e,e===ot?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(tv(e,c,a),gv(e,it()),e.callbackNode!=null&&e.callbackNode===i?yv.bind(null,e):null)}function Nv(e,a){if(ec())return null;tv(e,a,!0)}function XN(){oj(function(){(Ke&6)!==0?It(Tt,KN):bv()})}function Cm(){if(hr===0){var e=Os;e===0&&(e=fs,fs<<=1,(fs&261888)===0&&(fs=256)),hr=e}return hr}function jv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:co(""+e)}function wv(e,a){var i=a.ownerDocument.createElement("input");return i.name=a.name,i.value=a.value,e.id&&i.setAttribute("form",e.id),a.parentNode.insertBefore(i,a),e=new FormData(e),i.parentNode.removeChild(i),e}function WN(e,a,i,c,f){if(a==="submit"&&i&&i.stateNode===f){var h=jv((f[$t]||null).action),C=c.submitter;C&&(a=(a=C[$t]||null)?jv(a.formAction):C.getAttribute("formAction"),a!==null&&(h=a,C=null));var T=new po("action","action",null,c,f);e.push({event:T,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(hr!==0){var I=C?wv(f,C):new FormData(f);$d(i,{pending:!0,data:I,method:f.method,action:h},null,I)}}else typeof h=="function"&&(T.preventDefault(),I=C?wv(f,C):new FormData(f),$d(i,{pending:!0,data:I,method:f.method,action:h},h,I))},currentTarget:f}]})}}for(var Dm=0;Dm<od.length;Dm++){var km=od[Dm],ZN=km.toLowerCase(),JN=km[0].toUpperCase()+km.slice(1);Ua(ZN,"on"+JN)}Ua(ex,"onAnimationEnd"),Ua(tx,"onAnimationIteration"),Ua(ax,"onAnimationStart"),Ua("dblclick","onDoubleClick"),Ua("focusin","onFocus"),Ua("focusout","onBlur"),Ua(xN,"onTransitionRun"),Ua(hN,"onTransitionStart"),Ua(vN,"onTransitionCancel"),Ua(nx,"onTransitionEnd"),gs("onMouseEnter",["mouseout","mouseover"]),gs("onMouseLeave",["mouseout","mouseover"]),gs("onPointerEnter",["pointerout","pointerover"]),gs("onPointerLeave",["pointerout","pointerover"]),Rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ej=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mi));function Sv(e,a){a=(a&4)!==0;for(var i=0;i<e.length;i++){var c=e[i],f=c.event;c=c.listeners;e:{var h=void 0;if(a)for(var C=c.length-1;0<=C;C--){var T=c[C],I=T.instance,W=T.currentTarget;if(T=T.listener,I!==h&&f.isPropagationStopped())break e;h=T,f.currentTarget=W;try{h(f)}catch(se){vo(se)}f.currentTarget=null,h=I}else for(C=0;C<c.length;C++){if(T=c[C],I=T.instance,W=T.currentTarget,T=T.listener,I!==h&&f.isPropagationStopped())break e;h=T,f.currentTarget=W;try{h(f)}catch(se){vo(se)}f.currentTarget=null,h=I}}}}function Ie(e,a){var i=a[_l];i===void 0&&(i=a[_l]=new Set);var c=e+"__bubble";i.has(c)||(Cv(a,e,2,!1),i.add(c))}function Mm(e,a,i){var c=0;a&&(c|=4),Cv(i,e,c,a)}var nc="_reactListening"+Math.random().toString(36).slice(2);function Am(e){if(!e[nc]){e[nc]=!0,bp.forEach(function(i){i!=="selectionchange"&&(ej.has(i)||Mm(i,!1,e),Mm(i,!0,e))});var a=e.nodeType===9?e:e.ownerDocument;a===null||a[nc]||(a[nc]=!0,Mm("selectionchange",!1,a))}}function Cv(e,a,i,c){switch(e0(a)){case 2:var f=Mj;break;case 8:f=Aj;break;default:f=Um}i=f.bind(null,a,i,e),f=void 0,!Ku||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),c?f!==void 0?e.addEventListener(a,i,{capture:!0,passive:f}):e.addEventListener(a,i,!0):f!==void 0?e.addEventListener(a,i,{passive:f}):e.addEventListener(a,i,!1)}function Tm(e,a,i,c,f){var h=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var C=c.tag;if(C===3||C===4){var T=c.stateNode.containerInfo;if(T===f)break;if(C===4)for(C=c.return;C!==null;){var I=C.tag;if((I===3||I===4)&&C.stateNode.containerInfo===f)return;C=C.return}for(;T!==null;){if(C=qa(T),C===null)return;if(I=C.tag,I===5||I===6||I===26||I===27){c=h=C;continue e}T=T.parentNode}}c=c.return}Tp(function(){var W=h,se=Gu(i),oe=[];e:{var Z=rx.get(e);if(Z!==void 0){var te=po,Ne=e;switch(e){case"keypress":if(mo(i)===0)break e;case"keydown":case"keyup":te=G1;break;case"focusin":Ne="focus",te=Ju;break;case"focusout":Ne="blur",te=Ju;break;case"beforeblur":case"afterblur":te=Ju;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Op;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=L1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=X1;break;case ex:case tx:case ax:te=z1;break;case nx:te=Z1;break;case"scroll":case"scrollend":te=O1;break;case"wheel":te=eN;break;case"copy":case"cut":case"paste":te=B1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Lp;break;case"toggle":case"beforetoggle":te=aN}var ke=(a&4)!==0,st=!ke&&(e==="scroll"||e==="scrollend"),V=ke?Z!==null?Z+"Capture":null:Z;ke=[];for(var q=W,X;q!==null;){var ie=q;if(X=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||X===null||V===null||(ie=Rl(q,V),ie!=null&&ke.push(fi(q,ie,X))),st)break;q=q.return}0<ke.length&&(Z=new te(Z,Ne,null,i,se),oe.push({event:Z,listeners:ke}))}}if((a&7)===0){e:{if(Z=e==="mouseover"||e==="pointerover",te=e==="mouseout"||e==="pointerout",Z&&i!==Vu&&(Ne=i.relatedTarget||i.fromElement)&&(qa(Ne)||Ne[Jn]))break e;if((te||Z)&&(Z=se.window===se?se:(Z=se.ownerDocument)?Z.defaultView||Z.parentWindow:window,te?(Ne=i.relatedTarget||i.toElement,te=W,Ne=Ne?qa(Ne):null,Ne!==null&&(st=u(Ne),ke=Ne.tag,Ne!==st||ke!==5&&ke!==27&&ke!==6)&&(Ne=null)):(te=null,Ne=W),te!==Ne)){if(ke=Op,ie="onMouseLeave",V="onMouseEnter",q="mouse",(e==="pointerout"||e==="pointerover")&&(ke=Lp,ie="onPointerLeave",V="onPointerEnter",q="pointer"),st=te==null?Z:Ol(te),X=Ne==null?Z:Ol(Ne),Z=new ke(ie,q+"leave",te,i,se),Z.target=st,Z.relatedTarget=X,ie=null,qa(se)===W&&(ke=new ke(V,q+"enter",Ne,i,se),ke.target=X,ke.relatedTarget=st,ie=ke),st=ie,te&&Ne)t:{for(ke=tj,V=te,q=Ne,X=0,ie=V;ie;ie=ke(ie))X++;ie=0;for(var Ce=q;Ce;Ce=ke(Ce))ie++;for(;0<X-ie;)V=ke(V),X--;for(;0<ie-X;)q=ke(q),ie--;for(;X--;){if(V===q||q!==null&&V===q.alternate){ke=V;break t}V=ke(V),q=ke(q)}ke=null}else ke=null;te!==null&&Dv(oe,Z,te,ke,!1),Ne!==null&&st!==null&&Dv(oe,st,Ne,ke,!0)}}e:{if(Z=W?Ol(W):window,te=Z.nodeName&&Z.nodeName.toLowerCase(),te==="select"||te==="input"&&Z.type==="file")var Ge=qp;else if(Hp(Z))if(Up)Ge=mN;else{Ge=uN;var je=cN}else te=Z.nodeName,!te||te.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?W&&$u(W.elementType)&&(Ge=qp):Ge=dN;if(Ge&&(Ge=Ge(e,W))){Yp(oe,Ge,i,se);break e}je&&je(e,Z,W),e==="focusout"&&W&&Z.type==="number"&&W.memoizedProps.value!=null&&Uu(Z,"number",Z.value)}switch(je=W?Ol(W):window,e){case"focusin":(Hp(je)||je.contentEditable==="true")&&(Cs=je,sd=W,Yl=null);break;case"focusout":Yl=sd=Cs=null;break;case"mousedown":ld=!0;break;case"contextmenu":case"mouseup":case"dragend":ld=!1,Zp(oe,i,se);break;case"selectionchange":if(pN)break;case"keydown":case"keyup":Zp(oe,i,se)}var Oe;if(td)e:{switch(e){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Ss?Fp(e,i)&&(He="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(He="onCompositionStart");He&&(Ip&&i.locale!=="ko"&&(Ss||He!=="onCompositionStart"?He==="onCompositionEnd"&&Ss&&(Oe=Ep()):(er=se,Xu="value"in er?er.value:er.textContent,Ss=!0)),je=rc(W,He),0<je.length&&(He=new Rp(He,e,null,i,se),oe.push({event:He,listeners:je}),Oe?He.data=Oe:(Oe=Bp(i),Oe!==null&&(He.data=Oe)))),(Oe=rN?sN(e,i):lN(e,i))&&(He=rc(W,"onBeforeInput"),0<He.length&&(je=new Rp("onBeforeInput","beforeinput",null,i,se),oe.push({event:je,listeners:He}),je.data=Oe)),WN(oe,e,W,i,se)}Sv(oe,a)})}function fi(e,a,i){return{instance:e,listener:a,currentTarget:i}}function rc(e,a){for(var i=a+"Capture",c=[];e!==null;){var f=e,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=Rl(e,i),f!=null&&c.unshift(fi(e,f,h)),f=Rl(e,a),f!=null&&c.push(fi(e,f,h))),e.tag===3)return c;e=e.return}return[]}function tj(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Dv(e,a,i,c,f){for(var h=a._reactName,C=[];i!==null&&i!==c;){var T=i,I=T.alternate,W=T.stateNode;if(T=T.tag,I!==null&&I===c)break;T!==5&&T!==26&&T!==27||W===null||(I=W,f?(W=Rl(i,h),W!=null&&C.unshift(fi(i,W,I))):f||(W=Rl(i,h),W!=null&&C.push(fi(i,W,I)))),i=i.return}C.length!==0&&e.push({event:a,listeners:C})}var aj=/\r\n?/g,nj=/\u0000|\uFFFD/g;function kv(e){return(typeof e=="string"?e:""+e).replace(aj,`
`).replace(nj,"")}function Mv(e,a){return a=kv(a),kv(e)===a}function rt(e,a,i,c,f,h){switch(i){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Ns(e,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Ns(e,""+c);break;case"className":io(e,"class",c);break;case"tabIndex":io(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":io(e,i,c);break;case"style":Mp(e,c,h);break;case"data":if(a!=="object"){io(e,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||i!=="href")){e.removeAttribute(i);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(i);break}c=co(""+c),e.setAttribute(i,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(a!=="input"&&rt(e,a,"name",f.name,f,null),rt(e,a,"formEncType",f.formEncType,f,null),rt(e,a,"formMethod",f.formMethod,f,null),rt(e,a,"formTarget",f.formTarget,f,null)):(rt(e,a,"encType",f.encType,f,null),rt(e,a,"method",f.method,f,null),rt(e,a,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(i);break}c=co(""+c),e.setAttribute(i,c);break;case"onClick":c!=null&&(e.onclick=Cn);break;case"onScroll":c!=null&&Ie("scroll",e);break;case"onScrollEnd":c!=null&&Ie("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(t(61));if(i=c.__html,i!=null){if(f.children!=null)throw Error(t(60));e.innerHTML=i}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}i=co(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(i,""+c):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":c===!0?e.setAttribute(i,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(i,c):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(i,c):e.removeAttribute(i);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(i):e.setAttribute(i,c);break;case"popover":Ie("beforetoggle",e),Ie("toggle",e),lo(e,"popover",c);break;case"xlinkActuate":Sn(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Sn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Sn(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Sn(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Sn(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Sn(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":lo(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=E1.get(i)||i,lo(e,i,c))}}function Em(e,a,i,c,f,h){switch(i){case"style":Mp(e,c,h);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(t(61));if(i=c.__html,i!=null){if(f.children!=null)throw Error(t(60));e.innerHTML=i}}break;case"children":typeof c=="string"?Ns(e,c):(typeof c=="number"||typeof c=="bigint")&&Ns(e,""+c);break;case"onScroll":c!=null&&Ie("scroll",e);break;case"onScrollEnd":c!=null&&Ie("scrollend",e);break;case"onClick":c!=null&&(e.onclick=Cn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gp.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),a=i.slice(2,f?i.length-7:void 0),h=e[$t]||null,h=h!=null?h[i]:null,typeof h=="function"&&e.removeEventListener(a,h,f),typeof c=="function")){typeof h!="function"&&h!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(a,c,f);break e}i in e?e[i]=c:c===!0?e.setAttribute(i,""):lo(e,i,c)}}}function Ht(e,a,i){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",e),Ie("load",e);var c=!1,f=!1,h;for(h in i)if(i.hasOwnProperty(h)){var C=i[h];if(C!=null)switch(h){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(t(137,a));default:rt(e,a,h,C,i,null)}}f&&rt(e,a,"srcSet",i.srcSet,i,null),c&&rt(e,a,"src",i.src,i,null);return;case"input":Ie("invalid",e);var T=h=C=f=null,I=null,W=null;for(c in i)if(i.hasOwnProperty(c)){var se=i[c];if(se!=null)switch(c){case"name":f=se;break;case"type":C=se;break;case"checked":I=se;break;case"defaultChecked":W=se;break;case"value":h=se;break;case"defaultValue":T=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(t(137,a));break;default:rt(e,a,c,se,i,null)}}Sp(e,h,T,I,W,C,f,!1);return;case"select":Ie("invalid",e),c=C=h=null;for(f in i)if(i.hasOwnProperty(f)&&(T=i[f],T!=null))switch(f){case"value":h=T;break;case"defaultValue":C=T;break;case"multiple":c=T;default:rt(e,a,f,T,i,null)}a=h,i=C,e.multiple=!!c,a!=null?ys(e,!!c,a,!1):i!=null&&ys(e,!!c,i,!0);return;case"textarea":Ie("invalid",e),h=f=c=null;for(C in i)if(i.hasOwnProperty(C)&&(T=i[C],T!=null))switch(C){case"value":c=T;break;case"defaultValue":f=T;break;case"children":h=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(t(91));break;default:rt(e,a,C,T,i,null)}Dp(e,c,f,h);return;case"option":for(I in i)i.hasOwnProperty(I)&&(c=i[I],c!=null)&&(I==="selected"?e.selected=c&&typeof c!="function"&&typeof c!="symbol":rt(e,a,I,c,i,null));return;case"dialog":Ie("beforetoggle",e),Ie("toggle",e),Ie("cancel",e),Ie("close",e);break;case"iframe":case"object":Ie("load",e);break;case"video":case"audio":for(c=0;c<mi.length;c++)Ie(mi[c],e);break;case"image":Ie("error",e),Ie("load",e);break;case"details":Ie("toggle",e);break;case"embed":case"source":case"link":Ie("error",e),Ie("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in i)if(i.hasOwnProperty(W)&&(c=i[W],c!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(t(137,a));default:rt(e,a,W,c,i,null)}return;default:if($u(a)){for(se in i)i.hasOwnProperty(se)&&(c=i[se],c!==void 0&&Em(e,a,se,c,i,void 0));return}}for(T in i)i.hasOwnProperty(T)&&(c=i[T],c!=null&&rt(e,a,T,c,i,null))}function rj(e,a,i,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,C=null,T=null,I=null,W=null,se=null;for(te in i){var oe=i[te];if(i.hasOwnProperty(te)&&oe!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":I=oe;default:c.hasOwnProperty(te)||rt(e,a,te,null,c,oe)}}for(var Z in c){var te=c[Z];if(oe=i[Z],c.hasOwnProperty(Z)&&(te!=null||oe!=null))switch(Z){case"type":h=te;break;case"name":f=te;break;case"checked":W=te;break;case"defaultChecked":se=te;break;case"value":C=te;break;case"defaultValue":T=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(t(137,a));break;default:te!==oe&&rt(e,a,Z,te,c,oe)}}qu(e,C,T,I,W,se,h,f);return;case"select":te=C=T=Z=null;for(h in i)if(I=i[h],i.hasOwnProperty(h)&&I!=null)switch(h){case"value":break;case"multiple":te=I;default:c.hasOwnProperty(h)||rt(e,a,h,null,c,I)}for(f in c)if(h=c[f],I=i[f],c.hasOwnProperty(f)&&(h!=null||I!=null))switch(f){case"value":Z=h;break;case"defaultValue":T=h;break;case"multiple":C=h;default:h!==I&&rt(e,a,f,h,c,I)}a=T,i=C,c=te,Z!=null?ys(e,!!i,Z,!1):!!c!=!!i&&(a!=null?ys(e,!!i,a,!0):ys(e,!!i,i?[]:"",!1));return;case"textarea":te=Z=null;for(T in i)if(f=i[T],i.hasOwnProperty(T)&&f!=null&&!c.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:rt(e,a,T,null,c,f)}for(C in c)if(f=c[C],h=i[C],c.hasOwnProperty(C)&&(f!=null||h!=null))switch(C){case"value":Z=f;break;case"defaultValue":te=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(t(91));break;default:f!==h&&rt(e,a,C,f,c,h)}Cp(e,Z,te);return;case"option":for(var Ne in i)Z=i[Ne],i.hasOwnProperty(Ne)&&Z!=null&&!c.hasOwnProperty(Ne)&&(Ne==="selected"?e.selected=!1:rt(e,a,Ne,null,c,Z));for(I in c)Z=c[I],te=i[I],c.hasOwnProperty(I)&&Z!==te&&(Z!=null||te!=null)&&(I==="selected"?e.selected=Z&&typeof Z!="function"&&typeof Z!="symbol":rt(e,a,I,Z,c,te));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in i)Z=i[ke],i.hasOwnProperty(ke)&&Z!=null&&!c.hasOwnProperty(ke)&&rt(e,a,ke,null,c,Z);for(W in c)if(Z=c[W],te=i[W],c.hasOwnProperty(W)&&Z!==te&&(Z!=null||te!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(t(137,a));break;default:rt(e,a,W,Z,c,te)}return;default:if($u(a)){for(var st in i)Z=i[st],i.hasOwnProperty(st)&&Z!==void 0&&!c.hasOwnProperty(st)&&Em(e,a,st,void 0,c,Z);for(se in c)Z=c[se],te=i[se],!c.hasOwnProperty(se)||Z===te||Z===void 0&&te===void 0||Em(e,a,se,Z,c,te);return}}for(var V in i)Z=i[V],i.hasOwnProperty(V)&&Z!=null&&!c.hasOwnProperty(V)&&rt(e,a,V,null,c,Z);for(oe in c)Z=c[oe],te=i[oe],!c.hasOwnProperty(oe)||Z===te||Z==null&&te==null||rt(e,a,oe,Z,c,te)}function Av(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sj(){if(typeof performance.getEntriesByType=="function"){for(var e=0,a=0,i=performance.getEntriesByType("resource"),c=0;c<i.length;c++){var f=i[c],h=f.transferSize,C=f.initiatorType,T=f.duration;if(h&&T&&Av(C)){for(C=0,T=f.responseEnd,c+=1;c<i.length;c++){var I=i[c],W=I.startTime;if(W>T)break;var se=I.transferSize,oe=I.initiatorType;se&&Av(oe)&&(I=I.responseEnd,C+=se*(I<T?1:(T-W)/(I-W)))}if(--c,a+=8*(h+C)/(f.duration/1e3),e++,10<e)break}}if(0<e)return a/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var _m=null,Om=null;function sc(e){return e.nodeType===9?e:e.ownerDocument}function Tv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ev(e,a){if(e===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&a==="foreignObject"?0:e}function Rm(e,a){return e==="textarea"||e==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Lm=null;function lj(){var e=window.event;return e&&e.type==="popstate"?e===Lm?!1:(Lm=e,!0):(Lm=null,!1)}var _v=typeof setTimeout=="function"?setTimeout:void 0,ij=typeof clearTimeout=="function"?clearTimeout:void 0,Ov=typeof Promise=="function"?Promise:void 0,oj=typeof queueMicrotask=="function"?queueMicrotask:typeof Ov<"u"?function(e){return Ov.resolve(null).then(e).catch(cj)}:_v;function cj(e){setTimeout(function(){throw e})}function vr(e){return e==="head"}function Rv(e,a){var i=a,c=0;do{var f=i.nextSibling;if(e.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"||i==="/&"){if(c===0){e.removeChild(f),Zs(a);return}c--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")c++;else if(i==="html")pi(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,pi(i);for(var h=i.firstChild;h;){var C=h.nextSibling,T=h.nodeName;h[xe]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&h.rel.toLowerCase()==="stylesheet"||i.removeChild(h),h=C}}else i==="body"&&pi(e.ownerDocument.body);i=f}while(i);Zs(a)}function Lv(e,a){var i=e;e=0;do{var c=i.nextSibling;if(i.nodeType===1?a?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(a?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=c}while(i)}function Im(e){var a=e.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var i=a;switch(a=a.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Im(i),Pt(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function uj(e,a,i,c){for(;e.nodeType===1;){var f=i;if(e.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[xe])switch(a){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(a==="input"&&e.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Pa(e.nextSibling),e===null)break}return null}function dj(e,a,i){if(a==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Pa(e.nextSibling),e===null))return null;return e}function Iv(e,a){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Pa(e.nextSibling),e===null))return null;return e}function Pm(e){return e.data==="$?"||e.data==="$~"}function zm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function mj(e,a){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=a;else if(e.data!=="$?"||i.readyState!=="loading")a();else{var c=function(){a(),i.removeEventListener("DOMContentLoaded",c)};i.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function Pa(e){for(;e!=null;e=e.nextSibling){var a=e.nodeType;if(a===1||a===3)break;if(a===8){if(a=e.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return e}var Fm=null;function Pv(e){e=e.nextSibling;for(var a=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(a===0)return Pa(e.nextSibling);a--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||a++}e=e.nextSibling}return null}function zv(e){e=e.previousSibling;for(var a=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(a===0)return e;a--}else i!=="/$"&&i!=="/&"||a++}e=e.previousSibling}return null}function Fv(e,a,i){switch(a=sc(i),e){case"html":if(e=a.documentElement,!e)throw Error(t(452));return e;case"head":if(e=a.head,!e)throw Error(t(453));return e;case"body":if(e=a.body,!e)throw Error(t(454));return e;default:throw Error(t(451))}}function pi(e){for(var a=e.attributes;a.length;)e.removeAttributeNode(a[0]);Pt(e)}var za=new Map,Bv=new Set;function lc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Hn=A.d;A.d={f:fj,r:pj,D:xj,C:hj,L:vj,m:bj,X:yj,S:gj,M:Nj};function fj(){var e=Hn.f(),a=Wo();return e||a}function pj(e){var a=vs(e);a!==null&&a.tag===5&&a.type==="form"?nh(a):Hn.r(e)}var Ks=typeof document>"u"?null:document;function Hv(e,a,i){var c=Ks;if(c&&typeof a=="string"&&a){var f=Ta(a);f='link[rel="'+e+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),Bv.has(f)||(Bv.add(f),e={rel:e,crossOrigin:i,href:a},c.querySelector(f)===null&&(a=c.createElement("link"),Ht(a,"link",e),Rt(a),c.head.appendChild(a)))}}function xj(e){Hn.D(e),Hv("dns-prefetch",e,null)}function hj(e,a){Hn.C(e,a),Hv("preconnect",e,a)}function vj(e,a,i){Hn.L(e,a,i);var c=Ks;if(c&&e&&a){var f='link[rel="preload"][as="'+Ta(a)+'"]';a==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+Ta(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+Ta(i.imageSizes)+'"]')):f+='[href="'+Ta(e)+'"]';var h=f;switch(a){case"style":h=Xs(e);break;case"script":h=Ws(e)}za.has(h)||(e=b({rel:"preload",href:a==="image"&&i&&i.imageSrcSet?void 0:e,as:a},i),za.set(h,e),c.querySelector(f)!==null||a==="style"&&c.querySelector(xi(h))||a==="script"&&c.querySelector(hi(h))||(a=c.createElement("link"),Ht(a,"link",e),Rt(a),c.head.appendChild(a)))}}function bj(e,a){Hn.m(e,a);var i=Ks;if(i&&e){var c=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+Ta(c)+'"][href="'+Ta(e)+'"]',h=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Ws(e)}if(!za.has(h)&&(e=b({rel:"modulepreload",href:e},a),za.set(h,e),i.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(hi(h)))return}c=i.createElement("link"),Ht(c,"link",e),Rt(c),i.head.appendChild(c)}}}function gj(e,a,i){Hn.S(e,a,i);var c=Ks;if(c&&e){var f=bs(c).hoistableStyles,h=Xs(e);a=a||"default";var C=f.get(h);if(!C){var T={loading:0,preload:null};if(C=c.querySelector(xi(h)))T.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":a},i),(i=za.get(h))&&Bm(e,i);var I=C=c.createElement("link");Rt(I),Ht(I,"link",e),I._p=new Promise(function(W,se){I.onload=W,I.onerror=se}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,ic(C,a,c)}C={type:"stylesheet",instance:C,count:1,state:T},f.set(h,C)}}}function yj(e,a){Hn.X(e,a);var i=Ks;if(i&&e){var c=bs(i).hoistableScripts,f=Ws(e),h=c.get(f);h||(h=i.querySelector(hi(f)),h||(e=b({src:e,async:!0},a),(a=za.get(f))&&Hm(e,a),h=i.createElement("script"),Rt(h),Ht(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(f,h))}}function Nj(e,a){Hn.M(e,a);var i=Ks;if(i&&e){var c=bs(i).hoistableScripts,f=Ws(e),h=c.get(f);h||(h=i.querySelector(hi(f)),h||(e=b({src:e,async:!0,type:"module"},a),(a=za.get(f))&&Hm(e,a),h=i.createElement("script"),Rt(h),Ht(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(f,h))}}function Yv(e,a,i,c){var f=(f=P.current)?lc(f):null;if(!f)throw Error(t(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(a=Xs(i.href),i=bs(f).hoistableStyles,c=i.get(a),c||(c={type:"style",instance:null,count:0,state:null},i.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Xs(i.href);var h=bs(f).hoistableStyles,C=h.get(e);if(C||(f=f.ownerDocument||f,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,C),(h=f.querySelector(xi(e)))&&!h._p&&(C.instance=h,C.state.loading=5),za.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},za.set(e,i),h||jj(f,e,i,C.state))),a&&c===null)throw Error(t(528,""));return C}if(a&&c!==null)throw Error(t(529,""));return null;case"script":return a=i.async,i=i.src,typeof i=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Ws(i),i=bs(f).hoistableScripts,c=i.get(a),c||(c={type:"script",instance:null,count:0,state:null},i.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(t(444,e))}}function Xs(e){return'href="'+Ta(e)+'"'}function xi(e){return'link[rel="stylesheet"]['+e+"]"}function qv(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function jj(e,a,i,c){e.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=e.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),Ht(a,"link",i),Rt(a),e.head.appendChild(a))}function Ws(e){return'[src="'+Ta(e)+'"]'}function hi(e){return"script[async]"+e}function Uv(e,a,i){if(a.count++,a.instance===null)switch(a.type){case"style":var c=e.querySelector('style[data-href~="'+Ta(i.href)+'"]');if(c)return a.instance=c,Rt(c),c;var f=b({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Rt(c),Ht(c,"style",f),ic(c,i.precedence,e),a.instance=c;case"stylesheet":f=Xs(i.href);var h=e.querySelector(xi(f));if(h)return a.state.loading|=4,a.instance=h,Rt(h),h;c=qv(i),(f=za.get(f))&&Bm(c,f),h=(e.ownerDocument||e).createElement("link"),Rt(h);var C=h;return C._p=new Promise(function(T,I){C.onload=T,C.onerror=I}),Ht(h,"link",c),a.state.loading|=4,ic(h,i.precedence,e),a.instance=h;case"script":return h=Ws(i.src),(f=e.querySelector(hi(h)))?(a.instance=f,Rt(f),f):(c=i,(f=za.get(h))&&(c=b({},i),Hm(c,f)),e=e.ownerDocument||e,f=e.createElement("script"),Rt(f),Ht(f,"link",c),e.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(t(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,ic(c,i.precedence,e));return a.instance}function ic(e,a,i){for(var c=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,h=f,C=0;C<c.length;C++){var T=c[C];if(T.dataset.precedence===a)h=T;else if(h!==f)break}h?h.parentNode.insertBefore(e,h.nextSibling):(a=i.nodeType===9?i.head:i,a.insertBefore(e,a.firstChild))}function Bm(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.title==null&&(e.title=a.title)}function Hm(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.integrity==null&&(e.integrity=a.integrity)}var oc=null;function $v(e,a,i){if(oc===null){var c=new Map,f=oc=new Map;f.set(i,c)}else f=oc,c=f.get(i),c||(c=new Map,f.set(i,c));if(c.has(e))return c;for(c.set(e,null),i=i.getElementsByTagName(e),f=0;f<i.length;f++){var h=i[f];if(!(h[xe]||h[Et]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var C=h.getAttribute(a)||"";C=e+C;var T=c.get(C);T?T.push(h):c.set(C,[h])}}return c}function Vv(e,a,i){e=e.ownerDocument||e,e.head.insertBefore(i,a==="title"?e.querySelector("head > title"):null)}function wj(e,a,i){if(i===1||a.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(e=a.disabled,typeof a.precedence=="string"&&e==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Gv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Sj(e,a,i,c){if(i.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Xs(c.href),h=a.querySelector(xi(f));if(h){a=h._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(e.count++,e=cc.bind(e),a.then(e,e)),i.state.loading|=4,i.instance=h,Rt(h);return}h=a.ownerDocument||a,c=qv(c),(f=za.get(f))&&Bm(c,f),h=h.createElement("link"),Rt(h);var C=h;C._p=new Promise(function(T,I){C.onload=T,C.onerror=I}),Ht(h,"link",c),i.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,a),(a=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=cc.bind(e),a.addEventListener("load",i),a.addEventListener("error",i))}}var Ym=0;function Cj(e,a){return e.stylesheets&&e.count===0&&dc(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var c=setTimeout(function(){if(e.stylesheets&&dc(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+a);0<e.imgBytes&&Ym===0&&(Ym=62500*sj());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&dc(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>Ym?50:800)+a);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var uc=null;function dc(e,a){e.stylesheets=null,e.unsuspend!==null&&(e.count++,uc=new Map,a.forEach(Dj,e),uc=null,cc.call(e))}function Dj(e,a){if(!(a.state.loading&4)){var i=uc.get(e);if(i)var c=i.get(null);else{i=new Map,uc.set(e,i);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var C=f[h];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(i.set(C.dataset.precedence,C),c=C)}c&&i.set(null,c)}f=a.instance,C=f.getAttribute("data-precedence"),h=i.get(C)||c,h===c&&i.set(null,f),i.set(C,f),this.count++,c=cc.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),h?h.parentNode.insertBefore(f,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),a.state.loading|=4}}var vi={$$typeof:g,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function kj(e,a,i,c,f,h,C,T,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Al(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Al(0),this.hiddenUpdates=Al(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Qv(e,a,i,c,f,h,C,T,I,W,se,oe){return e=new kj(e,a,i,C,I,W,se,oe,T),a=1,h===!0&&(a|=24),h=va(3,null,null,a),e.current=h,h.stateNode=e,a=Nd(),a.refCount++,e.pooledCache=a,a.refCount++,h.memoizedState={element:c,isDehydrated:i,cache:a},Cd(h),e}function Kv(e){return e?(e=Ms,e):Ms}function Xv(e,a,i,c,f,h){f=Kv(f),c.context===null?c.context=f:c.pendingContext=f,c=lr(a),c.payload={element:i},h=h===void 0?null:h,h!==null&&(c.callback=h),i=ir(e,c,a),i!==null&&(ca(i,e,a),Kl(i,e,a))}function Wv(e,a){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<a?i:a}}function qm(e,a){Wv(e,a),(e=e.alternate)&&Wv(e,a)}function Zv(e){if(e.tag===13||e.tag===31){var a=zr(e,67108864);a!==null&&ca(a,e,67108864),qm(e,67108864)}}function Jv(e){if(e.tag===13||e.tag===31){var a=ja();a=Tl(a);var i=zr(e,a);i!==null&&ca(i,e,a),qm(e,a)}}var mc=!0;function Mj(e,a,i,c){var f=F.T;F.T=null;var h=A.p;try{A.p=2,Um(e,a,i,c)}finally{A.p=h,F.T=f}}function Aj(e,a,i,c){var f=F.T;F.T=null;var h=A.p;try{A.p=8,Um(e,a,i,c)}finally{A.p=h,F.T=f}}function Um(e,a,i,c){if(mc){var f=$m(c);if(f===null)Tm(e,a,c,fc,i),t0(e,c);else if(Ej(f,e,a,i,c))c.stopPropagation();else if(t0(e,c),a&4&&-1<Tj.indexOf(e)){for(;f!==null;){var h=vs(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var C=wn(h.pendingLanes);if(C!==0){var T=h;for(T.pendingLanes|=2,T.entangledLanes|=2;C;){var I=1<<31-Jt(C);T.entanglements[1]|=I,C&=~I}sn(h),(Ke&6)===0&&(Ko=it()+500,di(0))}}break;case 31:case 13:T=zr(h,2),T!==null&&ca(T,h,2),Wo(),qm(h,2)}if(h=$m(c),h===null&&Tm(e,a,c,fc,i),h===f)break;f=h}f!==null&&c.stopPropagation()}else Tm(e,a,c,null,i)}}function $m(e){return e=Gu(e),Vm(e)}var fc=null;function Vm(e){if(fc=null,e=qa(e),e!==null){var a=u(e);if(a===null)e=null;else{var i=a.tag;if(i===13){if(e=d(a),e!==null)return e;e=null}else if(i===31){if(e=m(a),e!==null)return e;e=null}else if(i===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;e=null}else a!==e&&(e=null)}}return fc=e,null}function e0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(na()){case Tt:return 2;case Ut:return 8;case Ja:case _u:return 32;case Ji:return 268435456;default:return 32}default:return 32}}var Gm=!1,br=null,gr=null,yr=null,bi=new Map,gi=new Map,Nr=[],Tj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function t0(e,a){switch(e){case"focusin":case"focusout":br=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":bi.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":gi.delete(a.pointerId)}}function yi(e,a,i,c,f,h){return e===null||e.nativeEvent!==h?(e={blockedOn:a,domEventName:i,eventSystemFlags:c,nativeEvent:h,targetContainers:[f]},a!==null&&(a=vs(a),a!==null&&Zv(a)),e):(e.eventSystemFlags|=c,a=e.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),e)}function Ej(e,a,i,c,f){switch(a){case"focusin":return br=yi(br,e,a,i,c,f),!0;case"dragenter":return gr=yi(gr,e,a,i,c,f),!0;case"mouseover":return yr=yi(yr,e,a,i,c,f),!0;case"pointerover":var h=f.pointerId;return bi.set(h,yi(bi.get(h)||null,e,a,i,c,f)),!0;case"gotpointercapture":return h=f.pointerId,gi.set(h,yi(gi.get(h)||null,e,a,i,c,f)),!0}return!1}function a0(e){var a=qa(e.target);if(a!==null){var i=u(a);if(i!==null){if(a=i.tag,a===13){if(a=d(i),a!==null){e.blockedOn=a,so(e.priority,function(){Jv(i)});return}}else if(a===31){if(a=m(i),a!==null){e.blockedOn=a,so(e.priority,function(){Jv(i)});return}}else if(a===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pc(e){if(e.blockedOn!==null)return!1;for(var a=e.targetContainers;0<a.length;){var i=$m(e.nativeEvent);if(i===null){i=e.nativeEvent;var c=new i.constructor(i.type,i);Vu=c,i.target.dispatchEvent(c),Vu=null}else return a=vs(i),a!==null&&Zv(a),e.blockedOn=i,!1;a.shift()}return!0}function n0(e,a,i){pc(e)&&i.delete(a)}function _j(){Gm=!1,br!==null&&pc(br)&&(br=null),gr!==null&&pc(gr)&&(gr=null),yr!==null&&pc(yr)&&(yr=null),bi.forEach(n0),gi.forEach(n0)}function xc(e,a){e.blockedOn===a&&(e.blockedOn=null,Gm||(Gm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,_j)))}var hc=null;function r0(e){hc!==e&&(hc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){hc===e&&(hc=null);for(var a=0;a<e.length;a+=3){var i=e[a],c=e[a+1],f=e[a+2];if(typeof c!="function"){if(Vm(c||i)===null)continue;break}var h=vs(i);h!==null&&(e.splice(a,3),a-=3,$d(h,{pending:!0,data:f,method:i.method,action:c},c,f))}}))}function Zs(e){function a(I){return xc(I,e)}br!==null&&xc(br,e),gr!==null&&xc(gr,e),yr!==null&&xc(yr,e),bi.forEach(a),gi.forEach(a);for(var i=0;i<Nr.length;i++){var c=Nr[i];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Nr.length&&(i=Nr[0],i.blockedOn===null);)a0(i),i.blockedOn===null&&Nr.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(c=0;c<i.length;c+=3){var f=i[c],h=i[c+1],C=f[$t]||null;if(typeof h=="function")C||r0(i);else if(C){var T=null;if(h&&h.hasAttribute("formAction")){if(f=h,C=h[$t]||null)T=C.formAction;else if(Vm(f)!==null)continue}else T=C.action;typeof T=="function"?i[c+1]=T:(i.splice(c,3),c-=3),r0(i)}}}function s0(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(C){return f=C})},focusReset:"manual",scroll:"manual"})}function a(){f!==null&&(f(),f=null),c||setTimeout(i,20)}function i(){if(!c&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(i,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),f!==null&&(f(),f=null)}}}function Qm(e){this._internalRoot=e}vc.prototype.render=Qm.prototype.render=function(e){var a=this._internalRoot;if(a===null)throw Error(t(409));var i=a.current,c=ja();Xv(i,c,e,a,null,null)},vc.prototype.unmount=Qm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var a=e.containerInfo;Xv(e.current,2,null,e,null,null),Wo(),a[Jn]=null}};function vc(e){this._internalRoot=e}vc.prototype.unstable_scheduleHydration=function(e){if(e){var a=ro();e={blockedOn:null,target:e,priority:a};for(var i=0;i<Nr.length&&a!==0&&a<Nr[i].priority;i++);Nr.splice(i,0,e),i===0&&a0(e)}};var l0=l.version;if(l0!=="19.2.4")throw Error(t(527,l0,"19.2.4"));A.findDOMNode=function(e){var a=e._reactInternals;if(a===void 0)throw typeof e.render=="function"?Error(t(188)):(e=Object.keys(e).join(","),Error(t(268,e)));return e=p(a),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Oj={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{Er=bc.inject(Oj),Zt=bc}catch{}}return ji.createRoot=function(e,a){if(!o(e))throw Error(t(299));var i=!1,c="",f=fh,h=ph,C=xh;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(h=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError)),a=Qv(e,1,!1,null,null,i,c,null,f,h,C,s0),e[Jn]=a.current,Am(e),new Qm(a)},ji.hydrateRoot=function(e,a,i){if(!o(e))throw Error(t(299));var c=!1,f="",h=fh,C=ph,T=xh,I=null;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(C=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.formState!==void 0&&(I=i.formState)),a=Qv(e,1,!0,a,i??null,c,f,I,h,C,T,s0),a.context=Kv(null),i=a.current,c=ja(),c=Tl(c),f=lr(c),f.callback=null,ir(i,f,c),i=c,a.current.lanes=i,Or(a,i),sn(a),e[Jn]=a.current,Am(e),new vc(a)},ji.version="19.2.4",ji}var h0;function qj(){if(h0)return Wm.exports;h0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(l){console.error(l)}}return s(),Wm.exports=Yj(),Wm.exports}var Uj=qj();var v0="popstate";function $j(s={}){function l(t,o){let{pathname:u,search:d,hash:m}=t.location;return Sf("",{pathname:u,search:d,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(t,o){return typeof o=="string"?o:Fi(o)}return Gj(l,r,null,s)}function pt(s,l){if(s===!1||s===null||typeof s>"u")throw new Error(l)}function Xa(s,l){if(!s){typeof console<"u"&&console.warn(l);try{throw new Error(l)}catch{}}}function Vj(){return Math.random().toString(36).substring(2,10)}function b0(s,l){return{usr:s.state,key:s.key,idx:l}}function Sf(s,l,r=null,t){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof l=="string"?jl(l):l,state:r,key:l&&l.key||t||Vj()}}function Fi({pathname:s="/",search:l="",hash:r=""}){return l&&l!=="?"&&(s+=l.charAt(0)==="?"?l:"?"+l),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function jl(s){let l={};if(s){let r=s.indexOf("#");r>=0&&(l.hash=s.substring(r),s=s.substring(0,r));let t=s.indexOf("?");t>=0&&(l.search=s.substring(t),s=s.substring(0,t)),s&&(l.pathname=s)}return l}function Gj(s,l,r,t={}){let{window:o=document.defaultView,v5Compat:u=!1}=t,d=o.history,m="POP",x=null,p=v();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function v(){return(d.state||{idx:null}).idx}function b(){m="POP";let y=v(),N=y==null?null:y-p;p=y,x&&x({action:m,location:D.location,delta:N})}function S(y,N){m="PUSH";let k=Sf(D.location,y,N);p=v()+1;let g=b0(k,p),O=D.createHref(k);try{d.pushState(g,"",O)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;o.location.assign(O)}u&&x&&x({action:m,location:D.location,delta:1})}function w(y,N){m="REPLACE";let k=Sf(D.location,y,N);p=v();let g=b0(k,p),O=D.createHref(k);d.replaceState(g,"",O),u&&x&&x({action:m,location:D.location,delta:0})}function M(y){return Qj(y)}let D={get action(){return m},get location(){return s(o,d)},listen(y){if(x)throw new Error("A history only accepts one active listener");return o.addEventListener(v0,b),x=y,()=>{o.removeEventListener(v0,b),x=null}},createHref(y){return l(o,y)},createURL:M,encodeLocation(y){let N=M(y);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:S,replace:w,go(y){return d.go(y)}};return D}function Qj(s,l=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),pt(r,"No window.location.(origin|href) available to create URL");let t=typeof s=="string"?s:Fi(s);return t=t.replace(/ $/,"%20"),!l&&t.startsWith("//")&&(t=r+t),new URL(t,r)}function og(s,l,r="/"){return Kj(s,l,r,!1)}function Kj(s,l,r,t){let o=typeof l=="string"?jl(l):l,u=Qn(o.pathname||"/",r);if(u==null)return null;let d=cg(s);Xj(d);let m=null;for(let x=0;m==null&&x<d.length;++x){let p=iw(u);m=sw(d[x],p,t)}return m}function cg(s,l=[],r=[],t="",o=!1){let u=(d,m,x=o,p)=>{let v={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:m,route:d};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(t)&&x)return;pt(v.relativePath.startsWith(t),`Absolute route path "${v.relativePath}" nested under path "${t}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(t.length)}let b=$n([t,v.relativePath]),S=r.concat(v);d.children&&d.children.length>0&&(pt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),cg(d.children,l,S,b,x)),!(d.path==null&&!d.index)&&l.push({path:b,score:nw(b,d.index),routesMeta:S})};return s.forEach((d,m)=>{if(d.path===""||!d.path?.includes("?"))u(d,m);else for(let x of ug(d.path))u(d,m,!0,x)}),l}function ug(s){let l=s.split("/");if(l.length===0)return[];let[r,...t]=l,o=r.endsWith("?"),u=r.replace(/\?$/,"");if(t.length===0)return o?[u,""]:[u];let d=ug(t.join("/")),m=[];return m.push(...d.map(x=>x===""?u:[u,x].join("/"))),o&&m.push(...d),m.map(x=>s.startsWith("/")&&x===""?"/":x)}function Xj(s){s.sort((l,r)=>l.score!==r.score?r.score-l.score:rw(l.routesMeta.map(t=>t.childrenIndex),r.routesMeta.map(t=>t.childrenIndex)))}var Wj=/^:[\w-]+$/,Zj=3,Jj=2,ew=1,tw=10,aw=-2,g0=s=>s==="*";function nw(s,l){let r=s.split("/"),t=r.length;return r.some(g0)&&(t+=aw),l&&(t+=Jj),r.filter(o=>!g0(o)).reduce((o,u)=>o+(Wj.test(u)?Zj:u===""?ew:tw),t)}function rw(s,l){return s.length===l.length&&s.slice(0,-1).every((t,o)=>t===l[o])?s[s.length-1]-l[l.length-1]:0}function sw(s,l,r=!1){let{routesMeta:t}=s,o={},u="/",d=[];for(let m=0;m<t.length;++m){let x=t[m],p=m===t.length-1,v=u==="/"?l:l.slice(u.length)||"/",b=Xc({path:x.relativePath,caseSensitive:x.caseSensitive,end:p},v),S=x.route;if(!b&&p&&r&&!t[t.length-1].route.index&&(b=Xc({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),d.push({params:o,pathname:$n([u,b.pathname]),pathnameBase:dw($n([u,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(u=$n([u,b.pathnameBase]))}return d}function Xc(s,l){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[r,t]=lw(s.path,s.caseSensitive,s.end),o=l.match(r);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:t.reduce((p,{paramName:v,isOptional:b},S)=>{if(v==="*"){let M=m[S]||"";d=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const w=m[S];return b&&!w?p[v]=void 0:p[v]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:d,pattern:s}}function lw(s,l=!1,r=!0){Xa(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let t=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,x)=>(t.push({paramName:m,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(t.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,l?void 0:"i"),t]}function iw(s){try{return s.split("/").map(l=>decodeURIComponent(l).replace(/\//g,"%2F")).join("/")}catch(l){return Xa(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${l}).`),s}}function Qn(s,l){if(l==="/")return s;if(!s.toLowerCase().startsWith(l.toLowerCase()))return null;let r=l.endsWith("/")?l.length-1:l.length,t=s.charAt(r);return t&&t!=="/"?null:s.slice(r)||"/"}var ow=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function cw(s,l="/"){let{pathname:r,search:t="",hash:o=""}=typeof s=="string"?jl(s):s,u;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?u=y0(r.substring(1),"/"):u=y0(r,l)):u=l,{pathname:u,search:mw(t),hash:fw(o)}}function y0(s,l){let r=l.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function tf(s,l,r,t){return`Cannot include a '${s}' character in a manually specified \`to.${l}\` field [${JSON.stringify(t)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uw(s){return s.filter((l,r)=>r===0||l.route.path&&l.route.path.length>0)}function Yf(s){let l=uw(s);return l.map((r,t)=>t===l.length-1?r.pathname:r.pathnameBase)}function qf(s,l,r,t=!1){let o;typeof s=="string"?o=jl(s):(o={...s},pt(!o.pathname||!o.pathname.includes("?"),tf("?","pathname","search",o)),pt(!o.pathname||!o.pathname.includes("#"),tf("#","pathname","hash",o)),pt(!o.search||!o.search.includes("#"),tf("#","search","hash",o)));let u=s===""||o.pathname==="",d=u?"/":o.pathname,m;if(d==null)m=r;else{let b=l.length-1;if(!t&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}m=b>=0?l[b]:"/"}let x=cw(o,m),p=d&&d!=="/"&&d.endsWith("/"),v=(u||d===".")&&r.endsWith("/");return!x.pathname.endsWith("/")&&(p||v)&&(x.pathname+="/"),x}var $n=s=>s.join("/").replace(/\/\/+/g,"/"),dw=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),mw=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,fw=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,pw=class{constructor(s,l,r,t=!1){this.status=s,this.statusText=l||"",this.internal=t,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function xw(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function hw(s){return s.map(l=>l.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var dg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function mg(s,l){let r=s;if(typeof r!="string"||!ow.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let t=r,o=!1;if(dg)try{let u=new URL(window.location.href),d=r.startsWith("//")?new URL(u.protocol+r):new URL(r),m=Qn(d.pathname,l);d.origin===u.origin&&m!=null?r=m+d.search+d.hash:o=!0}catch{Xa(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:t,isExternal:o,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var fg=["POST","PUT","PATCH","DELETE"];new Set(fg);var vw=["GET",...fg];new Set(vw);var wl=j.createContext(null);wl.displayName="DataRouter";var bu=j.createContext(null);bu.displayName="DataRouterState";var bw=j.createContext(!1),pg=j.createContext({isTransitioning:!1});pg.displayName="ViewTransition";var gw=j.createContext(new Map);gw.displayName="Fetchers";var yw=j.createContext(null);yw.displayName="Await";var ka=j.createContext(null);ka.displayName="Navigation";var $i=j.createContext(null);$i.displayName="Location";var Za=j.createContext({outlet:null,matches:[],isDataRoute:!1});Za.displayName="Route";var Uf=j.createContext(null);Uf.displayName="RouteError";var xg="REACT_ROUTER_ERROR",Nw="REDIRECT",jw="ROUTE_ERROR_RESPONSE";function ww(s){if(s.startsWith(`${xg}:${Nw}:{`))try{let l=JSON.parse(s.slice(28));if(typeof l=="object"&&l&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.location=="string"&&typeof l.reloadDocument=="boolean"&&typeof l.replace=="boolean")return l}catch{}}function Sw(s){if(s.startsWith(`${xg}:${jw}:{`))try{let l=JSON.parse(s.slice(40));if(typeof l=="object"&&l&&typeof l.status=="number"&&typeof l.statusText=="string")return new pw(l.status,l.statusText,l.data)}catch{}}function Cw(s,{relative:l}={}){pt(Sl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:t}=j.useContext(ka),{hash:o,pathname:u,search:d}=Vi(s,{relative:l}),m=u;return r!=="/"&&(m=u==="/"?r:$n([r,u])),t.createHref({pathname:m,search:d,hash:o})}function Sl(){return j.useContext($i)!=null}function Ha(){return pt(Sl(),"useLocation() may be used only in the context of a <Router> component."),j.useContext($i).location}var hg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vg(s){j.useContext(ka).static||j.useLayoutEffect(s)}function us(){let{isDataRoute:s}=j.useContext(Za);return s?Bw():Dw()}function Dw(){pt(Sl(),"useNavigate() may be used only in the context of a <Router> component.");let s=j.useContext(wl),{basename:l,navigator:r}=j.useContext(ka),{matches:t}=j.useContext(Za),{pathname:o}=Ha(),u=JSON.stringify(Yf(t)),d=j.useRef(!1);return vg(()=>{d.current=!0}),j.useCallback((x,p={})=>{if(Xa(d.current,hg),!d.current)return;if(typeof x=="number"){r.go(x);return}let v=qf(x,JSON.parse(u),o,p.relative==="path");s==null&&l!=="/"&&(v.pathname=v.pathname==="/"?l:$n([l,v.pathname])),(p.replace?r.replace:r.push)(v,p.state,p)},[l,r,u,o,s])}var kw=j.createContext(null);function Mw(s){let l=j.useContext(Za).outlet;return j.useMemo(()=>l&&j.createElement(kw.Provider,{value:s},l),[l,s])}function Vi(s,{relative:l}={}){let{matches:r}=j.useContext(Za),{pathname:t}=Ha(),o=JSON.stringify(Yf(r));return j.useMemo(()=>qf(s,JSON.parse(o),t,l==="path"),[s,o,t,l])}function Aw(s,l){return bg(s,l)}function bg(s,l,r,t,o){pt(Sl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=j.useContext(ka),{matches:d}=j.useContext(Za),m=d[d.length-1],x=m?m.params:{},p=m?m.pathname:"/",v=m?m.pathnameBase:"/",b=m&&m.route;{let k=b&&b.path||"";yg(p,!b||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let S=Ha(),w;if(l){let k=typeof l=="string"?jl(l):l;pt(v==="/"||k.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${k.pathname}" was given in the \`location\` prop.`),w=k}else w=S;let M=w.pathname||"/",D=M;if(v!=="/"){let k=v.replace(/^\//,"").split("/");D="/"+M.replace(/^\//,"").split("/").slice(k.length).join("/")}let y=og(s,{pathname:D});Xa(b||y!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Xa(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=Rw(y&&y.map(k=>Object.assign({},k,{params:Object.assign({},x,k.params),pathname:$n([v,u.encodeLocation?u.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?v:$n([v,u.encodeLocation?u.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),d,r,t,o);return l&&N?j.createElement($i.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},N):N}function Tw(){let s=Fw(),l=xw(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),r=s instanceof Error?s.stack:null,t="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:t},u={padding:"2px 4px",backgroundColor:t},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:u},"ErrorBoundary")," or"," ",j.createElement("code",{style:u},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},l),r?j.createElement("pre",{style:o},r):null,d)}var Ew=j.createElement(Tw,null),gg=class extends j.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,l){return l.location!==s.location||l.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:l.error,location:l.location,revalidation:s.revalidation||l.revalidation}}componentDidCatch(s,l){this.props.onError?this.props.onError(s,l):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const r=Sw(s.digest);r&&(s=r)}let l=s!==void 0?j.createElement(Za.Provider,{value:this.props.routeContext},j.createElement(Uf.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?j.createElement(_w,{error:s},l):l}};gg.contextType=bw;var af=new WeakMap;function _w({children:s,error:l}){let{basename:r}=j.useContext(ka);if(typeof l=="object"&&l&&"digest"in l&&typeof l.digest=="string"){let t=ww(l.digest);if(t){let o=af.get(l);if(o)throw o;let u=mg(t.location,r);if(dg&&!af.get(l))if(u.isExternal||t.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:t.replace}));throw af.set(l,d),d}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return s}function Ow({routeContext:s,match:l,children:r}){let t=j.useContext(wl);return t&&t.static&&t.staticContext&&(l.route.errorElement||l.route.ErrorBoundary)&&(t.staticContext._deepestRenderedBoundaryId=l.route.id),j.createElement(Za.Provider,{value:s},r)}function Rw(s,l=[],r=null,t=null,o=null){if(s==null){if(!r)return null;if(r.errors)s=r.matches;else if(l.length===0&&!r.initialized&&r.matches.length>0)s=r.matches;else return null}let u=s,d=r?.errors;if(d!=null){let v=u.findIndex(b=>b.route.id&&d?.[b.route.id]!==void 0);pt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let m=!1,x=-1;if(r)for(let v=0;v<u.length;v++){let b=u[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(x=v),b.route.id){let{loaderData:S,errors:w}=r,M=b.route.loader&&!S.hasOwnProperty(b.route.id)&&(!w||w[b.route.id]===void 0);if(b.route.lazy||M){m=!0,x>=0?u=u.slice(0,x+1):u=[u[0]];break}}}let p=r&&t?(v,b)=>{t(v,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:hw(r.matches),errorInfo:b})}:void 0;return u.reduceRight((v,b,S)=>{let w,M=!1,D=null,y=null;r&&(w=d&&b.route.id?d[b.route.id]:void 0,D=b.route.errorElement||Ew,m&&(x<0&&S===0?(yg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,y=null):x===S&&(M=!0,y=b.route.hydrateFallbackElement||null)));let N=l.concat(u.slice(0,S+1)),k=()=>{let g;return w?g=D:M?g=y:b.route.Component?g=j.createElement(b.route.Component,null):b.route.element?g=b.route.element:g=v,j.createElement(Ow,{match:b,routeContext:{outlet:v,matches:N,isDataRoute:r!=null},children:g})};return r&&(b.route.ErrorBoundary||b.route.errorElement||S===0)?j.createElement(gg,{location:r.location,revalidation:r.revalidation,component:D,error:w,children:k(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:p}):k()},null)}function $f(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lw(s){let l=j.useContext(wl);return pt(l,$f(s)),l}function Iw(s){let l=j.useContext(bu);return pt(l,$f(s)),l}function Pw(s){let l=j.useContext(Za);return pt(l,$f(s)),l}function Vf(s){let l=Pw(s),r=l.matches[l.matches.length-1];return pt(r.route.id,`${s} can only be used on routes that contain a unique "id"`),r.route.id}function zw(){return Vf("useRouteId")}function Fw(){let s=j.useContext(Uf),l=Iw("useRouteError"),r=Vf("useRouteError");return s!==void 0?s:l.errors?.[r]}function Bw(){let{router:s}=Lw("useNavigate"),l=Vf("useNavigate"),r=j.useRef(!1);return vg(()=>{r.current=!0}),j.useCallback(async(o,u={})=>{Xa(r.current,hg),r.current&&(typeof o=="number"?await s.navigate(o):await s.navigate(o,{fromRouteId:l,...u}))},[s,l])}var N0={};function yg(s,l,r){!l&&!N0[s]&&(N0[s]=!0,Xa(!1,r))}j.memo(Hw);function Hw({routes:s,future:l,state:r,onError:t}){return bg(s,void 0,r,t,l)}function Wc({to:s,replace:l,state:r,relative:t}){pt(Sl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=j.useContext(ka);Xa(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=j.useContext(Za),{pathname:d}=Ha(),m=us(),x=qf(s,Yf(u),d,t==="path"),p=JSON.stringify(x);return j.useEffect(()=>{m(JSON.parse(p),{replace:l,state:r,relative:t})},[m,p,t,l,r]),null}function Ng(s){return Mw(s.context)}function ft(s){pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Yw({basename:s="/",children:l=null,location:r,navigationType:t="POP",navigator:o,static:u=!1,unstable_useTransitions:d}){pt(!Sl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=s.replace(/^\/*/,"/"),x=j.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:d,future:{}}),[m,o,u,d]);typeof r=="string"&&(r=jl(r));let{pathname:p="/",search:v="",hash:b="",state:S=null,key:w="default"}=r,M=j.useMemo(()=>{let D=Qn(p,m);return D==null?null:{location:{pathname:D,search:v,hash:b,state:S,key:w},navigationType:t}},[m,p,v,b,S,w,t]);return Xa(M!=null,`<Router basename="${m}"> is not able to match the URL "${p}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:j.createElement(ka.Provider,{value:x},j.createElement($i.Provider,{children:l,value:M}))}function qw({children:s,location:l}){return Aw(Cf(s),l)}function Cf(s,l=[]){let r=[];return j.Children.forEach(s,(t,o)=>{if(!j.isValidElement(t))return;let u=[...l,o];if(t.type===j.Fragment){r.push.apply(r,Cf(t.props.children,u));return}pt(t.type===ft,`[${typeof t.type=="string"?t.type:t.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pt(!t.props.index||!t.props.children,"An index route cannot have child routes.");let d={id:t.props.id||u.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,middleware:t.props.middleware,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:t.props.hasErrorBoundary===!0||t.props.ErrorBoundary!=null||t.props.errorElement!=null,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(d.children=Cf(t.props.children,u)),r.push(d)}),r}var Bc="get",Hc="application/x-www-form-urlencoded";function gu(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function Uw(s){return gu(s)&&s.tagName.toLowerCase()==="button"}function $w(s){return gu(s)&&s.tagName.toLowerCase()==="form"}function Vw(s){return gu(s)&&s.tagName.toLowerCase()==="input"}function Gw(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Qw(s,l){return s.button===0&&(!l||l==="_self")&&!Gw(s)}var gc=null;function Kw(){if(gc===null)try{new FormData(document.createElement("form"),0),gc=!1}catch{gc=!0}return gc}var Xw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nf(s){return s!=null&&!Xw.has(s)?(Xa(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hc}"`),null):s}function Ww(s,l){let r,t,o,u,d;if($w(s)){let m=s.getAttribute("action");t=m?Qn(m,l):null,r=s.getAttribute("method")||Bc,o=nf(s.getAttribute("enctype"))||Hc,u=new FormData(s)}else if(Uw(s)||Vw(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=s.getAttribute("formaction")||m.getAttribute("action");if(t=x?Qn(x,l):null,r=s.getAttribute("formmethod")||m.getAttribute("method")||Bc,o=nf(s.getAttribute("formenctype"))||nf(m.getAttribute("enctype"))||Hc,u=new FormData(m,s),!Kw()){let{name:p,type:v,value:b}=s;if(v==="image"){let S=p?`${p}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else p&&u.append(p,b)}}else{if(gu(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Bc,t=null,o=Hc,d=s}return u&&o==="text/plain"&&(d=u,u=void 0),{action:t,method:r.toLowerCase(),encType:o,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Gf(s,l){if(s===!1||s===null||typeof s>"u")throw new Error(l)}function Zw(s,l,r,t){let o=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${t}`:o.pathname=`${o.pathname}.${t}`:o.pathname==="/"?o.pathname=`_root.${t}`:l&&Qn(o.pathname,l)==="/"?o.pathname=`${l.replace(/\/$/,"")}/_root.${t}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${t}`,o}async function Jw(s,l){if(s.id in l)return l[s.id];try{let r=await import(s.module);return l[s.id]=r,r}catch(r){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function e2(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function t2(s,l,r){let t=await Promise.all(s.map(async o=>{let u=l.routes[o.route.id];if(u){let d=await Jw(u,r);return d.links?d.links():[]}return[]}));return s2(t.flat(1).filter(e2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function j0(s,l,r,t,o,u){let d=(x,p)=>r[p]?x.route.id!==r[p].route.id:!0,m=(x,p)=>r[p].pathname!==x.pathname||r[p].route.path?.endsWith("*")&&r[p].params["*"]!==x.params["*"];return u==="assets"?l.filter((x,p)=>d(x,p)||m(x,p)):u==="data"?l.filter((x,p)=>{let v=t.routes[x.route.id];if(!v||!v.hasLoader)return!1;if(d(x,p)||m(x,p))return!0;if(x.route.shouldRevalidate){let b=x.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function a2(s,l,{includeHydrateFallback:r}={}){return n2(s.map(t=>{let o=l.routes[t.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function n2(s){return[...new Set(s)]}function r2(s){let l={},r=Object.keys(s).sort();for(let t of r)l[t]=s[t];return l}function s2(s,l){let r=new Set;return new Set(l),s.reduce((t,o)=>{let u=JSON.stringify(r2(o));return r.has(u)||(r.add(u),t.push({key:u,link:o})),t},[])}function jg(){let s=j.useContext(wl);return Gf(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function l2(){let s=j.useContext(bu);return Gf(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Qf=j.createContext(void 0);Qf.displayName="FrameworkContext";function wg(){let s=j.useContext(Qf);return Gf(s,"You must render this element inside a <HydratedRouter> element"),s}function i2(s,l){let r=j.useContext(Qf),[t,o]=j.useState(!1),[u,d]=j.useState(!1),{onFocus:m,onBlur:x,onMouseEnter:p,onMouseLeave:v,onTouchStart:b}=l,S=j.useRef(null);j.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let D=N=>{N.forEach(k=>{d(k.isIntersecting)})},y=new IntersectionObserver(D,{threshold:.5});return S.current&&y.observe(S.current),()=>{y.disconnect()}}},[s]),j.useEffect(()=>{if(t){let D=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(D)}}},[t]);let w=()=>{o(!0)},M=()=>{o(!1),d(!1)};return r?s!=="intent"?[u,S,{}]:[u,S,{onFocus:wi(m,w),onBlur:wi(x,M),onMouseEnter:wi(p,w),onMouseLeave:wi(v,M),onTouchStart:wi(b,w)}]:[!1,S,{}]}function wi(s,l){return r=>{s&&s(r),r.defaultPrevented||l(r)}}function o2({page:s,...l}){let{router:r}=jg(),t=j.useMemo(()=>og(r.routes,s,r.basename),[r.routes,s,r.basename]);return t?j.createElement(u2,{page:s,matches:t,...l}):null}function c2(s){let{manifest:l,routeModules:r}=wg(),[t,o]=j.useState([]);return j.useEffect(()=>{let u=!1;return t2(s,l,r).then(d=>{u||o(d)}),()=>{u=!0}},[s,l,r]),t}function u2({page:s,matches:l,...r}){let t=Ha(),{future:o,manifest:u,routeModules:d}=wg(),{basename:m}=jg(),{loaderData:x,matches:p}=l2(),v=j.useMemo(()=>j0(s,l,p,u,t,"data"),[s,l,p,u,t]),b=j.useMemo(()=>j0(s,l,p,u,t,"assets"),[s,l,p,u,t]),S=j.useMemo(()=>{if(s===t.pathname+t.search+t.hash)return[];let D=new Set,y=!1;if(l.forEach(k=>{let g=u.routes[k.route.id];!g||!g.hasLoader||(!v.some(O=>O.route.id===k.route.id)&&k.route.id in x&&d[k.route.id]?.shouldRevalidate||g.hasClientLoader?y=!0:D.add(k.route.id))}),D.size===0)return[];let N=Zw(s,m,o.unstable_trailingSlashAwareDataRequests,"data");return y&&D.size>0&&N.searchParams.set("_routes",l.filter(k=>D.has(k.route.id)).map(k=>k.route.id).join(",")),[N.pathname+N.search]},[m,o.unstable_trailingSlashAwareDataRequests,x,t,u,v,l,s,d]),w=j.useMemo(()=>a2(b,u),[b,u]),M=c2(b);return j.createElement(j.Fragment,null,S.map(D=>j.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...r})),w.map(D=>j.createElement("link",{key:D,rel:"modulepreload",href:D,...r})),M.map(({key:D,link:y})=>j.createElement("link",{key:D,nonce:r.nonce,...y,crossOrigin:y.crossOrigin??r.crossOrigin})))}function d2(...s){return l=>{s.forEach(r=>{typeof r=="function"?r(l):r!=null&&(r.current=l)})}}var m2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{m2&&(window.__reactRouterVersion="7.13.0")}catch{}function f2({basename:s,children:l,unstable_useTransitions:r,window:t}){let o=j.useRef();o.current==null&&(o.current=$j({window:t,v5Compat:!0}));let u=o.current,[d,m]=j.useState({action:u.action,location:u.location}),x=j.useCallback(p=>{r===!1?m(p):j.startTransition(()=>m(p))},[r]);return j.useLayoutEffect(()=>u.listen(x),[u,x]),j.createElement(Yw,{basename:s,children:l,location:d.location,navigationType:d.action,navigator:u,unstable_useTransitions:r})}var Sg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ll=j.forwardRef(function({onClick:l,discover:r="render",prefetch:t="none",relative:o,reloadDocument:u,replace:d,state:m,target:x,to:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:S,...w},M){let{basename:D,unstable_useTransitions:y}=j.useContext(ka),N=typeof p=="string"&&Sg.test(p),k=mg(p,D);p=k.to;let g=Cw(p,{relative:o}),[O,Y,z]=i2(t,w),U=h2(p,{replace:d,state:m,target:x,preventScrollReset:v,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:S,unstable_useTransitions:y});function _(H){l&&l(H),H.defaultPrevented||U(H)}let B=j.createElement("a",{...w,...z,href:k.absoluteURL||g,onClick:k.isExternal||u?l:_,ref:d2(M,Y),target:x,"data-discover":!N&&r==="render"?"true":void 0});return O&&!N?j.createElement(j.Fragment,null,B,j.createElement(o2,{page:g})):B});ll.displayName="Link";var Kf=j.forwardRef(function({"aria-current":l="page",caseSensitive:r=!1,className:t="",end:o=!1,style:u,to:d,viewTransition:m,children:x,...p},v){let b=Vi(d,{relative:p.relative}),S=Ha(),w=j.useContext(bu),{navigator:M,basename:D}=j.useContext(ka),y=w!=null&&N2(b)&&m===!0,N=M.encodeLocation?M.encodeLocation(b).pathname:b.pathname,k=S.pathname,g=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;r||(k=k.toLowerCase(),g=g?g.toLowerCase():null,N=N.toLowerCase()),g&&D&&(g=Qn(g,D)||g);const O=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let Y=k===N||!o&&k.startsWith(N)&&k.charAt(O)==="/",z=g!=null&&(g===N||!o&&g.startsWith(N)&&g.charAt(N.length)==="/"),U={isActive:Y,isPending:z,isTransitioning:y},_=Y?l:void 0,B;typeof t=="function"?B=t(U):B=[t,Y?"active":null,z?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let H=typeof u=="function"?u(U):u;return j.createElement(ll,{...p,"aria-current":_,className:B,ref:v,style:H,to:d,viewTransition:m},typeof x=="function"?x(U):x)});Kf.displayName="NavLink";var p2=j.forwardRef(({discover:s="render",fetcherKey:l,navigate:r,reloadDocument:t,replace:o,state:u,method:d=Bc,action:m,onSubmit:x,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:S,...w},M)=>{let{unstable_useTransitions:D}=j.useContext(ka),y=g2(),N=y2(m,{relative:p}),k=d.toLowerCase()==="get"?"get":"post",g=typeof m=="string"&&Sg.test(m),O=Y=>{if(x&&x(Y),Y.defaultPrevented)return;Y.preventDefault();let z=Y.nativeEvent.submitter,U=z?.getAttribute("formmethod")||d,_=()=>y(z||Y.currentTarget,{fetcherKey:l,method:U,navigate:r,replace:o,state:u,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:S});D&&r!==!1?j.startTransition(()=>_()):_()};return j.createElement("form",{ref:M,method:k,action:N,onSubmit:t?x:O,...w,"data-discover":!g&&s==="render"?"true":void 0})});p2.displayName="Form";function x2(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cg(s){let l=j.useContext(wl);return pt(l,x2(s)),l}function h2(s,{target:l,replace:r,state:t,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:m,unstable_useTransitions:x}={}){let p=us(),v=Ha(),b=Vi(s,{relative:u});return j.useCallback(S=>{if(Qw(S,l)){S.preventDefault();let w=r!==void 0?r:Fi(v)===Fi(b),M=()=>p(s,{replace:w,state:t,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:m});x?j.startTransition(()=>M()):M()}},[v,p,b,r,t,l,s,o,u,d,m,x])}var v2=0,b2=()=>`__${String(++v2)}__`;function g2(){let{router:s}=Cg("useSubmit"),{basename:l}=j.useContext(ka),r=zw(),t=s.fetch,o=s.navigate;return j.useCallback(async(u,d={})=>{let{action:m,method:x,encType:p,formData:v,body:b}=Ww(u,l);if(d.navigate===!1){let S=d.fetcherKey||b2();await t(S,r,d.action||m,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:v,body:b,formMethod:d.method||x,formEncType:d.encType||p,flushSync:d.flushSync})}else await o(d.action||m,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:v,body:b,formMethod:d.method||x,formEncType:d.encType||p,replace:d.replace,state:d.state,fromRouteId:r,flushSync:d.flushSync,viewTransition:d.viewTransition})},[t,o,l,r])}function y2(s,{relative:l}={}){let{basename:r}=j.useContext(ka),t=j.useContext(Za);pt(t,"useFormAction must be used inside a RouteContext");let[o]=t.matches.slice(-1),u={...Vi(s||".",{relative:l})},d=Ha();if(s==null){u.search=d.search;let m=new URLSearchParams(u.search),x=m.getAll("index");if(x.some(v=>v==="")){m.delete("index"),x.filter(b=>b).forEach(b=>m.append("index",b));let v=m.toString();u.search=v?`?${v}`:""}}return(!s||s===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:$n([r,u.pathname])),Fi(u)}function N2(s,{relative:l}={}){let r=j.useContext(pg);pt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:t}=Cg("useViewTransitionState"),o=Vi(s,{relative:l});if(!r.isTransitioning)return!1;let u=Qn(r.currentLocation.pathname,t)||r.currentLocation.pathname,d=Qn(r.nextLocation.pathname,t)||r.nextLocation.pathname;return Xc(o.pathname,d)!=null||Xc(o.pathname,u)!=null}var Dg=ig();const j2=sg(Dg),w2="AKfycbwzidy2QurRq6iQp4w6Tf6gZ1xPb1diY2IwT6BMwl3gpvwkpVTlYriHbILmSO_4ZBDF",Xf="cf_access_token",Wf="cf_token_expiry",Zf="cf_user_name";function Zc(){const s=localStorage.getItem(Wf);return s&&Date.now()>Number(s)?(Yc(),null):localStorage.getItem(Xf)}function w0(s,l=3500){localStorage.setItem(Xf,s),localStorage.setItem(Wf,String(Date.now()+l*1e3))}function Yc(){localStorage.removeItem(Xf),localStorage.removeItem(Wf),localStorage.removeItem(Zf)}function S0(){return!!Zc()}function C0(s){localStorage.setItem(Zf,s)}function S2(){return localStorage.getItem(Zf)||""}let Df=null;function C2(s){Df=s}async function ge(s,l={},r=!0){const t=Zc();if(!t)throw new Error("Not authenticated. Please sign in.");const m=await(await fetch(`https://script.googleapis.com/v1/scripts/${w2}:run`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({function:"apiRouter",devMode:!1,parameters:[{action:s,params:l,userName:S2()}]})})).json();if(m.error){if(r&&(m.error.code===401||m.error.code===403||m.error.status==="UNAUTHENTICATED"||m.error.status==="PERMISSION_DENIED")&&Df)try{return await Df(),ge(s,l,!1)}catch{}if(m.error.details&&m.error.details.length>0){const x=m.error.details[0];throw new Error(x.errorMessage||"Script execution error")}throw new Error(m.error.message||"API error")}if(m.response&&m.response.result!==void 0){const x=m.response.result;if(x&&!x.success){const v=new Error(x.error||"Unknown error");throw v.code=x.code,v}const p=x?x.data:null;if(p&&p.success===!1)throw new Error(p.message||"Operation failed");return p}throw new Error("Unexpected response format")}const D0=()=>ge("auth:me"),D2=(s,l)=>ge("auth:invite",{email:s,name:l}),Jc=()=>ge("data:load-all"),kg=()=>ge("members:list"),Mg=s=>ge("member:create",s),Ag=s=>ge("member:update",s),Tg=s=>ge("member:delete",{memberId:s}),Eg=()=>ge("banks:list"),_g=s=>ge("bank:create",s),k2=s=>ge("bank:update",s),Og=s=>ge("bank:delete",{accountId:s}),Rg=()=>ge("invaccounts:list"),Lg=s=>ge("invacct:create",s),M2=s=>ge("invacct:update",s),Ig=s=>ge("invacct:delete",{accountId:s}),A2=()=>ge("portfolios:list"),T2=s=>ge("portfolio:create",s),E2=s=>ge("portfolio:update",s),_2=s=>ge("portfolio:delete",{portfolioId:s}),O2=s=>ge("mf:invest",s),R2=s=>ge("mf:redeem",s),L2=s=>ge("mf:switch",s),I2=(s,l)=>ge("mf:allocations-update",{portfolioId:s,allocations:l}),P2=()=>ge("funds:all"),Pg=()=>ge("goals:list"),zg=s=>ge("goal:create",s),z2=(s,l)=>ge("goal:update",{goalId:s,...l}),Fg=s=>ge("goal:delete",{goalId:s}),F2=()=>ge("goal:mappings-list"),B2=(s,l)=>ge("goal:mappings-update",{goalId:s,mappings:l}),Bg=()=>ge("insurance:list"),Hg=s=>ge("insurance:create",s),H2=s=>ge("insurance:update",s),Yg=s=>ge("insurance:delete",{policyId:s}),qg=()=>ge("liabilities:list"),Ug=s=>ge("liability:create",s),Y2=s=>ge("liability:update",s),$g=s=>ge("liability:delete",{liabilityId:s}),Vg=()=>ge("otherinv:list"),Gg=s=>ge("otherinv:create",s),q2=s=>ge("otherinv:update",s),Qg=s=>ge("otherinv:delete",{investmentId:s}),Kg=()=>ge("stock-portfolios:list"),Xg=s=>ge("stock-portfolio:create",s),U2=s=>ge("stock-portfolio:update",s),Wg=s=>ge("stock-portfolio:delete",{portfolioId:s}),$2=s=>ge("stock:buy",s),V2=s=>ge("stock:sell",s),G2=()=>ge("mf-holdings:list"),Q2=()=>ge("mf-transactions:list"),K2=()=>ge("stock-holdings:list-all"),X2=()=>ge("stock-transactions:list-all"),Zg=()=>ge("reminders:list"),Jg=s=>ge("reminder:create",s),W2=s=>ge("reminder:update",s),ey=s=>ge("reminder:delete",{reminderId:s}),Z2=s=>ge("healthcheck:save",s),ty=()=>ge("healthcheck:get"),J2=()=>ge("settings:list"),eS=s=>ge("settings:update",s),tS=()=>ge("market:data"),aS=()=>ge("data:refresh-master");typeof window<"u"&&(window._cf={callAPI:ge,checkTriggers:()=>ge("test:triggers"),diagnose:()=>ge("test:diagnose")});const nS="capital-friends",rS=1,xa="cache";let Si=null;function Cl(){return Si||(Si=new Promise((s,l)=>{const r=indexedDB.open(nS,rS);r.onupgradeneeded=t=>{const o=t.target.result;o.objectStoreNames.contains(xa)||o.createObjectStore(xa,{keyPath:"key"})},r.onsuccess=()=>s(r.result),r.onerror=()=>{console.warn("[idb] Failed to open database:",r.error),Si=null,l(r.error)}}),Si)}async function ay(s){try{const l=await Cl();return new Promise(r=>{const o=l.transaction(xa,"readonly").objectStore(xa).get(s);o.onsuccess=()=>r(o.result?o.result.data:null),o.onerror=()=>r(null)})}catch{return null}}async function sS(s){try{const l=await Cl();return new Promise(r=>{const o=l.transaction(xa,"readonly").objectStore(xa).get(s);o.onsuccess=()=>r(o.result||null),o.onerror=()=>r(null)})}catch{return null}}async function da(s,l){try{const r=await Cl();return new Promise(t=>{const o=r.transaction(xa,"readwrite");o.objectStore(xa).put({key:s,data:l,updatedAt:Date.now()}),o.oncomplete=()=>t(),o.onerror=()=>t()})}catch{}}async function lS(){try{const s=await Cl();return new Promise(l=>{const t=s.transaction(xa,"readonly").objectStore(xa).getAll();t.onsuccess=()=>{const o={};for(const u of t.result||[])o[u.key]=u.data;l(o)},t.onerror=()=>l({})})}catch{return{}}}async function rf(s){try{const l=await Cl();return new Promise(r=>{const t=l.transaction(xa,"readwrite"),o=t.objectStore(xa),u=Date.now();for(const[d,m]of Object.entries(s))o.put({key:d,data:m,updatedAt:u});t.oncomplete=()=>r(),t.onerror=()=>r()})}catch{}}async function iS(){try{const s=await Cl();return new Promise(l=>{const r=s.transaction(xa,"readwrite");r.objectStore(xa).clear(),r.oncomplete=()=>l(),r.onerror=()=>l()})}catch{}}const ny=j.createContext(null),oS="868467315292-7hfrvkh8pq8f1e2l3v38m6qrupboa295.apps.googleusercontent.com",cS=["https://www.googleapis.com/auth/spreadsheets","https://www.googleapis.com/auth/drive","https://www.googleapis.com/auth/gmail.send","https://www.googleapis.com/auth/script.scriptapp","openid","email","profile"].join(" "),Jf="cf_user_profile";function k0(){try{const s=localStorage.getItem(Jf);return s?JSON.parse(s):null}catch{return null}}function uS(s){try{localStorage.setItem(Jf,JSON.stringify(s))}catch{}}function M0(){localStorage.removeItem(Jf)}function dS({children:s}){const l=S0()?k0():null,[r,t]=j.useState(l),[o,u]=j.useState(!l),[d,m]=j.useState(null),x=j.useRef(null);function p(N){t(N),N?uS(N):M0()}j.useEffect(()=>{const N=()=>{if(!window.google?.accounts?.oauth2){setTimeout(N,200);return}x.current=window.google.accounts.oauth2.initTokenClient({client_id:oS,scope:cS,callback:v}),C2(w),S0()?S():u(!1)};N()},[]);async function v(N){if(N.error){m(N.error_description||N.error),u(!1);return}try{u(!0),m(null),w0(N.access_token,N.expires_in);const k=await b(N.access_token);C0(k.name||"");const g=await D0();p({email:g.email||k.email,name:g.name||k.name,role:g.role,picture:k.picture||""})}catch(k){m(k.message),Yc(),p(null)}finally{u(!1)}}async function b(N){const k=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${N}`}});if(!k.ok)throw new Error("Failed to fetch user profile");return k.json()}async function S(){const N=!!k0();try{const k=Zc(),g=await b(k);C0(g.name||"");const O=await D0();p({email:O.email||g.email,name:O.name||g.name,role:O.role,picture:g.picture||""})}catch{Yc(),p(null)}finally{N||u(!1)}}function w(){return new Promise((N,k)=>{if(!x.current){k(new Error("Token client not initialized"));return}const g=x.current,O=g.callback;g.callback=Y=>{g.callback=O,Y.error?k(new Error(Y.error)):(w0(Y.access_token,Y.expires_in),N())},g.requestAccessToken({prompt:""})})}const M=j.useCallback(()=>{x.current&&(m(null),x.current.requestAccessToken())},[]),D=j.useCallback(()=>{const N=Zc();N&&window.google?.accounts?.oauth2&&window.google.accounts.oauth2.revoke(N),Yc(),M0(),iS(),sessionStorage.removeItem("cf_health_check"),t(null)},[]),y={user:r,loading:o,error:d,isAuthenticated:!!r,isOwner:r?.role==="owner",signIn:M,signOut:D};return n.jsx(ny.Provider,{value:y,children:s})}function ds(){const s=j.useContext(ny);if(!s)throw new Error("useAuth must be used within AuthProvider");return s}const ry=j.createContext();function mS({children:s}){const[l,r]=j.useState(()=>{const o=localStorage.getItem("cf-theme");return o||(window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark")});j.useEffect(()=>{localStorage.setItem("cf-theme",l),document.documentElement.setAttribute("data-theme",l)},[l]);const t=()=>r(o=>o==="dark"?"light":"dark");return n.jsx(ry.Provider,{value:{theme:l,toggle:t},children:s})}function sy(){return j.useContext(ry)}const ly=j.createContext(),iy="cf_hc_done";function fS(){try{return sessionStorage.getItem(iy)==="1"?!0:null}catch{return null}}function Js(s){try{sessionStorage.setItem(iy,s?"1":"0")}catch{}}function pS({children:s}){const{isAuthenticated:l}=ds(),r=l?fS():null,[t,o]=j.useState(!0),[u,d]=j.useState(!1),[m,x]=j.useState(null),[p,v]=j.useState(null),[b,S]=j.useState(null),[w,M]=j.useState(null),[D,y]=j.useState(null),[N,k]=j.useState(null),[g,O]=j.useState(null),[Y,z]=j.useState(null),[U,_]=j.useState(null),[B,H]=j.useState(null),[Q,E]=j.useState(null),[le,G]=j.useState(null),[J,F]=j.useState(null),[A,R]=j.useState(null),[ce,ue]=j.useState(null),[L,ne]=j.useState(null),[de,fe]=j.useState(null),[Se,P]=j.useState(r!==null?r:null),re=j.useRef(!1),ve=j.useCallback($=>{$&&("members"in $&&v($.members||[]),"bankAccounts"in $&&S($.bankAccounts||[]),"investments"in $&&M($.investments||[]),"insurancePolicies"in $&&y($.insurancePolicies||[]),"liabilities"in $&&k($.liabilities||[]),"otherInvestments"in $&&O($.otherInvestments||[]),"stockPortfolios"in $&&z($.stockPortfolios||[]),"stockHoldings"in $&&_($.stockHoldings||[]),"stockTransactions"in $&&H($.stockTransactions||[]),"mfPortfolios"in $&&E($.mfPortfolios||[]),"mfHoldings"in $&&G($.mfHoldings||[]),"mfTransactions"in $&&F($.mfTransactions||[]),"goals"in $&&R($.goals||[]),"reminders"in $&&ue($.reminders||[]),"goalPortfolioMappings"in $&&ne($.goalPortfolioMappings||[]),"settings"in $&&fe($.settings||{}))},[]),be=j.useCallback($=>{rf({members:$.members||[],bankAccounts:$.bankAccounts||[],investments:$.investments||[],insurancePolicies:$.insurancePolicies||[],liabilities:$.liabilities||[],otherInvestments:$.otherInvestments||[],stockPortfolios:$.stockPortfolios||[],stockHoldings:$.stockHoldings||[],stockTransactions:$.stockTransactions||[],mfPortfolios:$.mfPortfolios||[],mfHoldings:$.mfHoldings||[],mfTransactions:$.mfTransactions||[],goals:$.goals||[],reminders:$.reminders||[],goalPortfolioMappings:$.goalPortfolioMappings||[]})},[]),pe=j.useCallback(async($=!1)=>{try{$?d(!0):o(!0),x(null);const xe=await Jc();ve(xe),be(xe)}catch(xe){x(xe.message)}finally{o(!1),d(!1)}},[ve,be]),De=j.useCallback(async()=>{const $=await kg();v($||[]),da("members",$||[])},[]),Fe=j.useCallback(async()=>{const $=await Eg();S($||[]),da("bankAccounts",$||[])},[]),$e=j.useCallback(async()=>{const $=await Rg();M($||[]),da("investments",$||[])},[]),We=j.useCallback(async()=>{const $=await Bg();y($||[]),da("insurancePolicies",$||[])},[]),xt=j.useCallback(async()=>{const $=await qg();k($||[]),da("liabilities",$||[])},[]),ht=j.useCallback(async()=>{const $=await Vg();O($||[]),da("otherInvestments",$||[])},[]),Wt=j.useCallback(async()=>{const[$,xe]=await Promise.all([Pg(),F2()]);R($||[]),ne(xe||[]),da("goals",$||[]),da("goalPortfolioMappings",xe||[])},[]),Ze=j.useCallback(async()=>{const $=await Zg();ue($||[]),da("reminders",$||[])},[]),qe=j.useCallback(async()=>{const[$,xe,Pt]=await Promise.all([A2(),G2(),Q2()]);E($||[]),G(xe||[]),F(Pt||[]),rf({mfPortfolios:$||[],mfHoldings:xe||[],mfTransactions:Pt||[]})},[]),It=j.useCallback(async()=>{const[$,xe,Pt]=await Promise.all([Kg(),K2(),X2()]);z($||[]),_(xe||[]),H(Pt||[]),rf({stockPortfolios:$||[],stockHoldings:xe||[],stockTransactions:Pt||[]})},[]),Ya=j.useCallback(async()=>{const $=await J2();fe($||{}),da("settings",$||{})},[]),Me=j.useCallback(async $=>{await eS($),await Ya()},[Ya]),lt=j.useCallback(async()=>{try{const $=await ay("healthCheckAnswers");if($&&Object.keys($).length>0){P(!0),Js(!0);return}const xe=await ty();xe&&Object.keys(xe).length>0?(P(!0),Js(!0),da("healthCheckAnswers",xe)):(P(!1),Js(!1))}catch{P(!1),Js(!1)}},[]),it=j.useCallback(async $=>{const xe=await Z2($);return xe?.success&&(P(!0),Js(!0),da("healthCheckAnswers",$)),xe},[]);j.useEffect(()=>{if(!l){o(!1);return}if(re.current)return;re.current=!0;async function $(){const xe=await lS(),Pt=Object.keys(xe).length>0;Pt&&(ve(xe),xe.healthCheckAnswers&&Object.keys(xe.healthCheckAnswers).length>0&&(P(!0),Js(!0)),o(!1));try{Pt&&d(!0);const qa=await Jc();ve(qa),be(qa)}catch(qa){Pt||x(qa.message)}finally{o(!1),d(!1)}}$(),Ya().catch(()=>{}),r===null&&lt().catch(()=>{})},[l,ve,be,Ya,lt]),j.useEffect(()=>{l||(re.current=!1)},[l]);const na=j.useCallback(async $=>{const xe=await Mg($);if($.email)try{await D2($.email,$.memberName)}catch(Pt){console.warn("Auto-invite failed (non-blocking):",Pt.message)}return await De(),xe},[De]),Tt=j.useCallback(async($,xe)=>{await Ag({memberId:$,...xe}),await De()},[De]),Ut=j.useCallback(async $=>{await Tg($),await De()},[De]),Ja=j.useCallback(async $=>{const xe=await _g($);return await Fe(),xe},[Fe]),_u=j.useCallback(async($,xe)=>{await k2({accountId:$,...xe}),await Fe()},[Fe]),Ji=j.useCallback(async $=>{await Og($),await Fe()},[Fe]),Ou=j.useCallback(async $=>{const xe=await Lg($);return await $e(),xe},[$e]),Ru=j.useCallback(async($,xe)=>{await M2({accountId:$,...xe}),await $e()},[$e]),Er=j.useCallback(async $=>{await Ig($),await $e()},[$e]),Zt=j.useCallback(async $=>{const xe=await Hg($);return await We(),xe},[We]),en=j.useCallback(async($,xe)=>{await H2({policyId:$,...xe}),await We()},[We]),Jt=j.useCallback(async $=>{await Yg($),await We()},[We]),Lu=j.useCallback(async $=>{const xe=await Ug($);return await xt(),xe},[xt]),Iu=j.useCallback(async($,xe)=>{await Y2({liabilityId:$,...xe}),await xt()},[xt]),Pu=j.useCallback(async $=>{await $g($),await xt()},[xt]),fs=j.useCallback(async $=>{const xe=await Gg($);return await ht(),$.quickLoan&&await xt(),xe},[ht,xt]),ps=j.useCallback(async($,xe)=>{await q2({investmentId:$,...xe}),await ht()},[ht]),xs=j.useCallback(async $=>{await Qg($),await ht()},[ht]),wn=j.useCallback(async $=>{const xe=await zg($);return await Wt(),xe},[Wt]),hs=j.useCallback(async($,xe)=>{await z2($,xe),await Wt()},[Wt]),_r=j.useCallback(async $=>{await Fg($),await Wt()},[Wt]),zu=j.useCallback(async $=>{const xe=await Jg($);return await Ze(),xe},[Ze]),eo=j.useCallback(async($,xe)=>{await W2({reminderId:$,...xe}),await Ze()},[Ze]),Al=j.useCallback(async $=>{await ey($),await Ze()},[Ze]),Or=j.useCallback(async($,xe)=>{await B2($,xe),await Wt()},[Wt]),Fu=j.useCallback(async $=>{const xe=await Xg($);return await It(),xe},[It]),to=j.useCallback(async($,xe)=>{await U2({portfolioId:$,...xe}),await It()},[It]),ao=j.useCallback(async $=>{await Wg($),await It()},[It]),no=j.useCallback(async $=>{const xe=await $2($);return await It(),xe},[It]),Tl=j.useCallback(async $=>{const xe=await V2($);return await It(),xe},[It]),El=j.useCallback(async $=>{const xe=await T2($);return await qe(),xe},[qe]),ro=j.useCallback(async($,xe)=>{await E2({portfolioId:$,...xe}),await qe()},[qe]),so=j.useCallback(async $=>{await _2($),await qe()},[qe]),tn=j.useCallback(async($,xe)=>{const Pt=await O2({...$,transactionType:xe});return await qe(),Pt},[qe]),Et=j.useCallback(async $=>{const xe=await R2($);return await qe(),xe},[qe]),$t=j.useCallback(async $=>{const xe=await L2($);return await qe(),xe},[qe]),Jn=j.useCallback(async($,xe)=>{await I2($,xe),await qe()},[qe]),_l=(p||[]).filter($=>$.status==="Active"),Bu=(b||[]).filter($=>$.status==="Active"),Hu=(w||[]).filter($=>$.status==="Active");return n.jsx(ly.Provider,{value:{loading:t,isRefreshing:u,error:m,refreshData:pe,members:p,banks:b,investmentAccounts:w,insurancePolicies:D,liabilityList:N,otherInvList:g,activeMembers:_l,activeBanks:Bu,activeInvestmentAccounts:Hu,addMember:na,updateMember:Tt,deleteMember:Ut,addBankAccount:Ja,updateBankAccount:_u,deleteBankAccount:Ji,addInvestmentAccount:Ou,updateInvestmentAccount:Ru,deleteInvestmentAccount:Er,addInsurance:Zt,updateInsurance:en,deleteInsurance:Jt,addLiability:Lu,updateLiability:Iu,deleteLiability:Pu,addOtherInvestment:fs,updateOtherInvestment:ps,deleteOtherInvestment:xs,goalList:A,addGoal:wn,updateGoal:hs,deleteGoal:_r,reminderList:ce,addReminder:zu,updateReminder:eo,deleteReminder:Al,goalPortfolioMappings:L,updateGoalMappings:Or,stockPortfolios:Y,stockHoldings:U,stockTransactions:B,addStockPortfolio:Fu,updateStockPortfolio:to,deleteStockPortfolio:ao,buyStock:no,sellStock:Tl,mfPortfolios:Q,mfHoldings:le,mfTransactions:J,addMFPortfolio:El,updateMFPortfolio:ro,deleteMFPortfolio:so,investMF:tn,redeemMF:Et,switchMF:$t,updateHoldingAllocations:Jn,settings:de,updateSettings:Me,refreshSettings:Ya,healthCheckCompleted:Se,completeHealthCheck:it},children:s})}function ze(){return j.useContext(ly)}const oy=j.createContext();function xS({children:s}){const{activeMembers:l}=ze(),[r,t]=j.useState("all"),o=l.find(u=>u.memberId===r)||null;return n.jsx(oy.Provider,{value:{selectedMember:r,setSelectedMember:t,member:o,familyMembers:l},children:s})}function Yt(){return j.useContext(oy)}const cy=(...s)=>s.filter((l,r,t)=>!!l&&l.trim()!==""&&t.indexOf(l)===r).join(" ").trim();const hS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const vS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(l,r,t)=>t?t.toUpperCase():r.toLowerCase());const A0=s=>{const l=vS(s);return l.charAt(0).toUpperCase()+l.slice(1)};var bS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const gS=s=>{for(const l in s)if(l.startsWith("aria-")||l==="role"||l==="title")return!0;return!1};const yS=j.forwardRef(({color:s="currentColor",size:l=24,strokeWidth:r=2,absoluteStrokeWidth:t,className:o="",children:u,iconNode:d,...m},x)=>j.createElement("svg",{ref:x,...bS,width:l,height:l,stroke:s,strokeWidth:t?Number(r)*24/Number(l):r,className:cy("lucide",o),...!u&&!gS(m)&&{"aria-hidden":"true"},...m},[...d.map(([p,v])=>j.createElement(p,v)),...Array.isArray(u)?u:[u]]));const ye=(s,l)=>{const r=j.forwardRef(({className:t,...o},u)=>j.createElement(yS,{ref:u,iconNode:l,className:cy(`lucide-${hS(A0(s))}`,`lucide-${s}`,t),...o}));return r.displayName=A0(s),r};const NS=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],jS=ye("arrow-down",NS);const wS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],SS=ye("arrow-right",wS);const CS=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],DS=ye("arrow-up-down",CS);const kS=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],MS=ye("bell-off",kS);const AS=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],yu=ye("bell",AS);const TS=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],uy=ye("briefcase",TS);const ES=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],_S=ye("calendar",ES);const OS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ii=ye("chart-column",OS);const RS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],T0=ye("check",RS);const LS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],dl=ye("chevron-down",LS);const IS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],dy=ye("chevron-left",IS);const PS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Pi=ye("chevron-right",PS);const zS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],my=ye("circle-arrow-down",zS);const FS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],BS=ye("circle-check-big",FS);const HS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Dl=ye("circle-check",HS);const YS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],fy=ye("circle-x",YS);const qS=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],py=ye("clipboard-check",qS);const US=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],$S=ye("coffee",US);const VS=[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]],GS=ye("construction",VS);const QS=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Bi=ye("credit-card",QS);const KS=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],XS=ye("database",KS);const WS=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ZS=ye("dollar-sign",WS);const JS=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],eC=ye("ellipsis",JS);const tC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ep=ye("eye",tC);const aC=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],qc=ye("eye-off",aC);const nC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],rC=ye("file-spreadsheet",nC);const sC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],xy=ye("file-text",sC);const lC=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],iC=ye("funnel",lC);const oC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],cC=ye("globe",oC);const uC=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],eu=ye("heart",uC);const dC=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],mC=ye("indian-rupee",dC);const fC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],pC=ye("info",fC);const xC=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],hy=ye("landmark",xC);const hC=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],vy=ye("layers",hC);const vC=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],tu=ye("link-2",vC);const bC=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],au=ye("list",bC);const gC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],by=ye("loader-circle",gC);const yC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],sf=ye("lock",yC);const NC=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],jC=ye("log-in",NC);const wC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],gy=ye("log-out",wC);const SC=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],CC=ye("mail",SC);const DC=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],kC=ye("menu",DC);const MC=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],yy=ye("moon",MC);const AC=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ny=ye("package",AC);const TC=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],bn=ye("pencil",TC);const EC=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],_C=ye("piggy-bank",EC);const OC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ma=ye("plus",OC);const RC=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Hi=ye("refresh-cw",RC);const LC=[["path",{d:"m2 9 3-3 3 3",key:"1ltn5i"}],["path",{d:"M13 18H7a2 2 0 0 1-2-2V6",key:"1r6tfw"}],["path",{d:"m22 15-3 3-3-3",key:"4rnwn2"}],["path",{d:"M11 6h6a2 2 0 0 1 2 2v10",key:"2f72bc"}]],IC=ye("repeat-2",LC);const PC=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],zC=ye("repeat",PC);const FC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],BC=ye("save",FC);const HC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],YC=ye("search",HC);const qC=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],UC=ye("settings-2",qC);const $C=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],tp=ye("settings",$C);const VC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],zi=ye("shield",VC);const GC=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],kf=ye("sun",GC);const QC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Gi=ye("target",QC);const KC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ap=ye("trash-2",KC);const XC=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Nu=ye("trending-down",XC);const WC=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ml=ye("trending-up",WC);const ZC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ju=ye("triangle-alert",ZC);const JC=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],E0=ye("trophy",JC);const e5=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],t5=ye("user",e5);const a5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],fl=ye("users",a5);const n5=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],ol=ye("wallet",n5);const r5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Qi=ye("x",r5);const s5=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Mf=ye("zap",s5),jy=j.createContext();function l5({children:s}){const[l,r]=j.useState([]),[t,o]=j.useState(null),u=j.useRef(0),d=j.useCallback((v,b="success")=>{const S=++u.current;r(w=>[...w,{id:S,message:v,type:b}]),setTimeout(()=>r(w=>w.filter(M=>M.id!==S)),3e3)},[]),m=j.useCallback(v=>{r(b=>b.filter(S=>S.id!==v))},[]),x=j.useCallback((v="Saving...")=>{o(v)},[]),p=j.useCallback(()=>{o(null)},[]);return n.jsxs(jy.Provider,{value:{showToast:d,showBlockUI:x,hideBlockUI:p},children:[s,t&&n.jsx("div",{className:"fixed inset-0 z-[200] bg-black/50 backdrop-blur-sm flex items-center justify-center",children:n.jsxs("div",{className:"flex flex-col items-center gap-3 bg-[var(--bg-card)] rounded-xl px-8 py-6 border border-[var(--border)] shadow-2xl",children:[n.jsx("span",{className:"w-7 h-7 border-[2.5px] border-violet-400/30 border-t-violet-400 rounded-full animate-spin"}),n.jsx("span",{className:"text-sm font-semibold text-[var(--text-primary)]",children:t})]})}),l.length>0&&n.jsx("div",{className:"fixed bottom-20 sm:bottom-6 left-1/2 -translate-x-1/2 z-[100] flex flex-col gap-2 items-center pointer-events-none",children:l.map(v=>n.jsxs("div",{className:`pointer-events-auto flex items-center gap-2 px-4 py-2.5 rounded-lg shadow-xl border text-sm font-medium animate-fade-in ${v.type==="error"?"bg-rose-500/15 border-rose-500/30 text-[var(--accent-rose)]":"bg-emerald-500/15 border-emerald-500/30 text-emerald-400"}`,style:{backdropFilter:"blur(12px)"},children:[v.type==="error"?n.jsx(fy,{size:16}):n.jsx(Dl,{size:16}),n.jsx("span",{children:v.message}),n.jsx("button",{onClick:()=>m(v.id),className:"ml-1 opacity-60 hover:opacity-100 transition-opacity",children:n.jsx(Qi,{size:14})})]},v.id))})]})}function gn(){return j.useContext(jy)}const wy=j.createContext(),_0="cf-mask-data";function i5(s){return!s||s.length<4?"":""+s.slice(-4)}function o5(s){return!s||s.length<4?"  ":"  "+s.slice(-4)}function c5(s){return!s||s.length<3?"":""+s.slice(-3)}function u5(s){if(!s)return"@";const[l,r]=s.split("@");if(!r)return"@";const t=l.charAt(0)+"",o=r.split("."),u=o[0].charAt(0)+""+(o.length>1?"."+o.slice(1).join("."):"");return t+"@"+u}function d5(s){return!s||s.length<4?"":""+s.slice(-4)}function m5(s){return!s||s.length<3?"":""+s.slice(-3)}function f5(s){return!s||s.length<4?"":""+s.slice(-4)}const p5={pan:i5,aadhaar:o5,mobile:c5,email:u5,account:d5,clientId:m5,policy:f5};function x5({children:s}){const[l,r]=j.useState(()=>{try{return localStorage.getItem(_0)==="true"}catch{return!1}});j.useEffect(()=>{try{localStorage.setItem(_0,String(l))}catch{}},[l]);const t=j.useCallback(()=>r(u=>!u),[]),o=j.useCallback((u,d)=>{if(!l||u==null||u==="")return u;const m=p5[d];return m?m(String(u)):u},[l]);return n.jsx(wy.Provider,{value:{masked:l,toggleMask:t,mv:o},children:s})}function yn(){return j.useContext(wy)}const O0=[{label:"Family",icon:fl,path:"/family"},{label:"Accounts",icon:Bi,children:[{label:"Bank Accounts",icon:hy,path:"/accounts/bank"},{label:"Investment A/c",icon:uy,path:"/accounts/investment"}]},{label:"Insurance",icon:zi,path:"/insurance"},{label:"Investments",icon:ol,children:[{label:"Mutual Funds",icon:ol,path:"/investments/mutual-funds"},{label:"Stocks",icon:Ii,path:"/investments/stocks"},{label:"Other Investments",icon:Ny,path:"/investments/other"}]},{label:"Liabilities",icon:Bi,path:"/liabilities"},{label:"Goals",icon:Gi,path:"/goals"},{label:"Settings",icon:tp,path:"/settings"}];function h5({open:s,onClose:l}){const r=Ha(),t=O0.filter(m=>m.children?.some(x=>r.pathname.startsWith(x.path))).map(m=>m.label),[o,u]=j.useState(new Set(t));function d(m){u(x=>{const p=new Set(x);return p.has(m)?p.delete(m):p.add(m),p})}return n.jsxs(n.Fragment,{children:[s&&n.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 lg:hidden",onClick:l}),n.jsxs("aside",{className:`
        fixed top-0 left-0 z-50 h-full w-56
        bg-[var(--bg-sidebar)] border-r border-[var(--border)]
        flex flex-col transition-transform duration-300
        lg:hidden
        ${s?"translate-x-0":"-translate-x-full"}
      `,children:[n.jsxs("div",{className:"flex items-center justify-between px-3 h-12 border-b border-[var(--border)] shrink-0",children:[n.jsx("p",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Menu"}),n.jsx("button",{onClick:l,className:"p-1.5 rounded-md text-[var(--text-dim)] hover:text-[var(--text-primary)]",children:n.jsx(Qi,{size:16})})]}),n.jsx("nav",{className:"flex-1 py-2 overflow-y-auto overflow-x-hidden",children:O0.map(m=>m.children?n.jsx(v5,{item:m,isOpen:o.has(m.label),onToggle:()=>d(m.label),onNavigate:l,currentPath:r.pathname},m.label):n.jsx(Sy,{item:m,onNavigate:l},m.path))})]})]})}function Sy({item:s,onNavigate:l,nested:r}){const{label:t,icon:o,path:u}=s;return n.jsx(Kf,{to:u,onClick:l,end:u==="/",className:({isActive:d})=>`group flex items-center gap-2.5 ${r?"pl-11 pr-4 py-[7px]":"px-4 py-2.5"} text-[13px] font-medium transition-all border-r-2 ${d?"bg-[var(--sidebar-active-bg)] text-[var(--sidebar-active-text)] border-[var(--sidebar-active-text)]":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] border-transparent"}`,children:({isActive:d})=>n.jsxs(n.Fragment,{children:[n.jsx(o,{size:r?14:17,strokeWidth:d?2.2:1.7}),n.jsx("span",{children:t})]})})}function v5({item:s,isOpen:l,onToggle:r,onNavigate:t,currentPath:o}){const{label:u,icon:d,children:m}=s,x=m.some(p=>o.startsWith(p.path));return n.jsxs("div",{children:[n.jsxs("button",{onClick:r,className:`w-full group flex items-center gap-2.5 px-4 py-2.5 text-[13px] font-medium transition-all border-r-2 border-transparent ${x?"text-[var(--sidebar-active-text)]":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,children:[n.jsx(d,{size:17,strokeWidth:x?2.2:1.7}),n.jsx("span",{className:"flex-1 text-left",children:u}),n.jsx(dl,{size:13,className:`text-[var(--text-dim)] transition-transform duration-200 ${l?"rotate-180":""}`})]}),l&&n.jsx("div",{className:"py-0.5",children:m.map(p=>n.jsx(Sy,{item:p,onNavigate:t,nested:!0},p.path))})]})}function K(s){return s>=1e7?`${(s/1e7).toFixed(2)} Cr`:s>=1e5?`${(s/1e5).toFixed(2)} L`:s>=1e3?`${(s/1e3).toFixed(0)}K`:`${s.toLocaleString("en-IN")}`}const Cy="cf_market_data",b5=300*1e3,R0=300*1e3;function g5(){try{const s=sessionStorage.getItem(Cy);if(!s)return null;const l=JSON.parse(s);return Date.now()-l._ts>b5?null:l}catch{return null}}function y5(s){try{sessionStorage.setItem(Cy,JSON.stringify({...s,_ts:Date.now()}))}catch{}}function N5(){const[s,l]=j.useState(()=>g5()),[r,t]=j.useState([]),o=j.useRef(null),[u,d]=j.useState(!1),[m,x]=j.useState(!1);j.useEffect(()=>{let b=!1;async function S(){try{const M=await tS();if(!b&&M){const D={...M,_ts:Date.now()};l(D),y5(D)}}catch{}}S();const w=setInterval(S,R0);return()=>{b=!0,clearInterval(w)}},[]),j.useEffect(()=>{let b=!1;async function S(){try{const M=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum&vs_currencies=inr&include_24hr_change=true");if(!b&&M.ok){const D=await M.json(),y=[];D.bitcoin&&y.push({name:"BTC",price:D.bitcoin.inr,changePct:D.bitcoin.inr_24h_change||0,type:"crypto"}),D.ethereum&&y.push({name:"ETH",price:D.ethereum.inr,changePct:D.ethereum.inr_24h_change||0,type:"crypto"}),t(y)}}catch{}}S();const w=setInterval(S,R0);return()=>{b=!0,clearInterval(w)}},[]);const p=[];if(s?.indices&&p.push(...s.indices),s?.metals&&p.push(...s.metals),r.length>0&&p.push(...r),j.useEffect(()=>{if(!o.current)return;const b=o.current,S=b.parentElement;d(b.scrollWidth>S.clientWidth)},[p.length]),p.length===0)return null;const v=p.length*3;return n.jsxs("div",{className:"bg-[var(--bg-card)]/80 backdrop-blur-sm border-b border-[var(--border-light)] overflow-hidden",onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),onTouchStart:()=>x(!0),onTouchEnd:()=>x(!1),children:[n.jsx("div",{className:"overflow-hidden",children:n.jsxs("div",{ref:o,className:"flex items-stretch w-max",style:u?{animation:`ticker-scroll ${v}s linear infinite`,animationPlayState:m?"paused":"running"}:{margin:"0 auto"},children:[p.map((b,S)=>n.jsx(L0,{item:b},b.name+S)),u&&p.map((b,S)=>n.jsx(L0,{item:b},"dup-"+b.name+S))]})}),n.jsx("style",{children:`
        @keyframes ticker-scroll {
          0% { transform: translateX(0); }
          100% { transform: translateX(-50%); }
        }
      `})]})}function L0({item:s}){const l=s.changePct>=0,r=l?n.jsx(ml,{size:10}):n.jsx(Nu,{size:10}),t=l?"text-emerald-400":"text-[var(--accent-rose)]",o=u=>u>=1e5?`${(u/1e5).toFixed(2)}L`:u>=1e3?`${u.toLocaleString("en-IN",{maximumFractionDigits:0})}`:`${u.toLocaleString("en-IN",{maximumFractionDigits:2})}`;return n.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 border-r border-[var(--border-light)] last:border-0 shrink-0",children:[n.jsx("span",{className:"text-[10px] font-semibold text-[var(--text-dim)] uppercase whitespace-nowrap",children:s.name}),n.jsx("span",{className:"text-[11px] font-bold text-[var(--text-primary)] tabular-nums whitespace-nowrap",children:s.unit?`${o(s.price)}`:o(s.price)}),s.changePct!==void 0&&s.changePct!==null&&n.jsxs("span",{className:`flex items-center gap-0.5 text-[10px] font-bold tabular-nums ${t}`,children:[r,l?"+":"",s.changePct.toFixed(2),"%"]})]})}function j5(){const{selectedMember:s}=Yt(),{mfPortfolios:l,mfHoldings:r,insurancePolicies:t,goalList:o,reminderList:u}=ze(),d=(S,w)=>{const M=S||[];return s==="all"?M:M.filter(D=>D[w]===s)},m=j.useMemo(()=>{let S=0,w=0;return d((l||[]).filter(D=>D.status!=="Inactive"),"ownerId").forEach(D=>{const y=(r||[]).filter(g=>g.portfolioId===D.portfolioId&&g.units>0),N=y.reduce((g,O)=>g+O.currentValue,0),k=(D.rebalanceThreshold||.05)*100;y.forEach(g=>{if(g.athNav>0&&g.belowATHPct>=5&&S++,g.targetAllocationPct>0&&N>0){const O=g.currentValue/N*100;Math.abs(O-g.targetAllocationPct)>k&&w++}})}),{buyOppCount:S,rebalanceCount:w}},[s,l,r]),x=j.useMemo(()=>{const S=[],w=d((t||[]).filter(g=>g.status==="Active"),"memberId");w.some(g=>g.policyType==="Term Life")||S.push({type:"critical",title:"Missing Term Life Insurance",badge:"Add Policy",navigateTo:"/insurance"});const D=w.filter(g=>g.policyType==="Health").reduce((g,O)=>g+O.sumAssured,0);return D===0?S.push({type:"critical",title:"No Health Insurance",badge:"Add Policy",navigateTo:"/insurance"}):D<5e5&&S.push({type:"warning",title:"Inadequate Health Insurance",badge:K(D),navigateTo:"/insurance"}),d((o||[]).filter(g=>g.isActive!==!1&&g.goalType==="Emergency Fund"),"familyMemberId").forEach(g=>{const O=g.targetAmount>0?g.currentValue/g.targetAmount*100:0;O<100&&S.push({type:O>=75?"info":"warning",title:`Emergency Fund at ${O.toFixed(0)}%`,badge:K(g.targetAmount-g.currentValue)+" left",navigateTo:"/goals"})}),d((u||[]).filter(g=>g.isActive!==!1),"familyMemberId").filter(g=>new Date(g.dueDate)<new Date).forEach(g=>{const O=Math.ceil((new Date-new Date(g.dueDate))/864e5);S.push({type:"critical",title:g.title,badge:`${O}d overdue`,navigateTo:"/reminders"})}),d((o||[]).filter(g=>g.isActive!==!1&&g.status==="Needs Attention"),"familyMemberId").forEach(g=>{S.push({type:"warning",title:`${g.goalName} needs attention`,badge:g.priority,navigateTo:"/goals"})}),S},[s,t,o,u]),p=j.useMemo(()=>{const S=d((u||[]).filter(M=>M.isActive!==!1&&M.status!=="Completed"),"familyMemberId"),w=new Date;return S.map(M=>{const D=new Date(M.dueDate)-w,y=Math.ceil(D/(1440*60*1e3)),N=new Date(M.dueDate).toLocaleDateString("en-IN",{day:"2-digit",month:"short"});return{...M,days:y,dateStr:N}}).filter(M=>M.days>=0&&M.days<=30).sort((M,D)=>M.days-D.days).slice(0,5)},[s,u]),v=x.length+m.buyOppCount+m.rebalanceCount+p.length,b=x.filter(S=>S.type==="critical").length;return{criticalAlerts:x,investmentSignals:m,upcomingReminders:p,totalCount:v,criticalCount:b}}function I0(s){return s>=20?"bg-rose-500/20 text-[var(--accent-rose)]":s>=10?"bg-orange-500/20 text-[var(--accent-orange)]":s>=5?"bg-amber-500/20 text-[var(--accent-amber)]":"bg-slate-500/20 text-[var(--text-muted)]"}function Dy(){const{mfHoldings:s,mfPortfolios:l}=ze(),r=j.useMemo(()=>l.filter(o=>o.status!=="Inactive").map(o=>{const u=s.filter(x=>x.portfolioId===o.portfolioId&&x.units>0),d=u.reduce((x,p)=>x+p.currentValue,0),m=u.filter(x=>x.athNav>0&&x.belowATHPct>=1).sort((x,p)=>p.belowATHPct-x.belowATHPct).map(x=>({...x,currentPct:d>0?x.currentValue/d*100:0}));return{...o,totalValue:d,opportunities:m}}).filter(o=>o.opportunities.length>0),[l,s]);return r.reduce((o,u)=>o+u.opportunities.length,0)===0?n.jsxs("div",{className:"py-8 text-center",children:[n.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No buy opportunities right now"}),n.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"All funds are near their all-time highs"})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)] px-1",children:"Funds below their All-Time High NAV. Higher discount = better opportunity."}),r.map((o,u)=>n.jsxs("div",{className:"border border-[var(--border-light)] border-l-2 border-l-emerald-500/50 rounded-lg overflow-hidden",children:[n.jsxs("div",{className:"flex items-center gap-2 px-3 py-2.5 bg-[var(--bg-inset)]",children:[n.jsx("span",{className:"text-xs font-bold text-emerald-400 bg-emerald-500/15 w-5 h-5 rounded flex items-center justify-center",children:u+1}),n.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:o.portfolioName}),n.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:o.ownerName}),n.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-emerald-500/15 text-emerald-400",children:[o.opportunities.length," funds"]})]}),n.jsx("div",{className:"hidden sm:block overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[n.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),n.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"ATH NAV"}),n.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Current"}),n.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Below ATH"}),n.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Alloc"}),n.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Value"})]})}),n.jsx("tbody",{children:o.opportunities.map(d=>n.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[n.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[200px] truncate",children:d.fundName}),n.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:["",d.athNav.toFixed(2)]}),n.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:["",d.currentNav.toFixed(2)]}),n.jsx("td",{className:"py-2 px-2 text-right",children:n.jsxs("span",{className:`inline-block text-xs font-semibold px-1.5 py-0.5 rounded-full ${I0(d.belowATHPct)}`,children:["",d.belowATHPct.toFixed(1),"%"]})}),n.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:[d.currentPct.toFixed(1),"% / ",d.targetAllocationPct.toFixed(1),"%"]}),n.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:K(d.currentValue)})]},d.holdingId))})]})}),n.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:o.opportunities.map(d=>n.jsxs("div",{className:"px-3 py-2.5",children:[n.jsxs("div",{className:"flex items-start justify-between mb-1",children:[n.jsx("p",{className:"text-xs text-[var(--text-primary)] leading-tight flex-1 mr-2",children:d.fundName}),n.jsxs("span",{className:`shrink-0 text-xs font-semibold px-1.5 py-0.5 rounded-full ${I0(d.belowATHPct)}`,children:["",d.belowATHPct.toFixed(1),"%"]})]}),n.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)]",children:[n.jsxs("span",{children:["ATH ",d.athNav.toFixed(2),"  ",d.currentNav.toFixed(2)]}),n.jsxs("span",{children:["Alloc: ",d.currentPct.toFixed(1),"%"]}),n.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:K(d.currentValue)})]})]},d.holdingId))})]},o.portfolioId))]})}function ky(s){var l,r,t="";if(typeof s=="string"||typeof s=="number")t+=s;else if(typeof s=="object")if(Array.isArray(s)){var o=s.length;for(l=0;l<o;l++)s[l]&&(r=ky(s[l]))&&(t&&(t+=" "),t+=r)}else for(r in s)s[r]&&(t&&(t+=" "),t+=r);return t}function Ot(){for(var s,l,r=0,t="",o=arguments.length;r<o;r++)(s=arguments[r])&&(l=ky(s))&&(t&&(t+=" "),t+=l);return t}const My=6048e5,w5=864e5,wu=6e4,Su=36e5,S5=1e3,P0=Symbol.for("constructDateFrom");function at(s,l){return typeof s=="function"?s(l):s&&typeof s=="object"&&P0 in s?s[P0](l):s instanceof Date?new s.constructor(l):new Date(l)}function we(s,l){return at(l||s,s)}function Qa(s,l,r){const t=we(s,r?.in);return isNaN(l)?at(r?.in||s,NaN):(l&&t.setDate(t.getDate()+l),t)}function Wa(s,l,r){const t=we(s,r?.in);if(isNaN(l))return at(s,NaN);if(!l)return t;const o=t.getDate(),u=at(s,t.getTime());u.setMonth(t.getMonth()+l+1,0);const d=u.getDate();return o>=d?u:(t.setFullYear(u.getFullYear(),u.getMonth(),o),t)}function Ay(s,l,r){return at(s,+we(s)+l)}function C5(s,l,r){return Ay(s,l*Su)}let D5={};function ms(){return D5}function Kn(s,l){const r=ms(),t=l?.weekStartsOn??l?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=we(s,l?.in),u=o.getDay(),d=(u<t?7:0)+u-t;return o.setDate(o.getDate()-d),o.setHours(0,0,0,0),o}function pl(s,l){return Kn(s,{...l,weekStartsOn:1})}function Ty(s,l){const r=we(s,l?.in),t=r.getFullYear(),o=at(r,0);o.setFullYear(t+1,0,4),o.setHours(0,0,0,0);const u=pl(o),d=at(r,0);d.setFullYear(t,0,4),d.setHours(0,0,0,0);const m=pl(d);return r.getTime()>=u.getTime()?t+1:r.getTime()>=m.getTime()?t:t-1}function nu(s){const l=we(s),r=new Date(Date.UTC(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds()));return r.setUTCFullYear(l.getFullYear()),+s-+r}function Wn(s,...l){const r=at.bind(null,l.find(t=>typeof t=="object"));return l.map(r)}function os(s,l){const r=we(s,l?.in);return r.setHours(0,0,0,0),r}function xl(s,l,r){const[t,o]=Wn(r?.in,s,l),u=os(t),d=os(o),m=+u-nu(u),x=+d-nu(d);return Math.round((m-x)/w5)}function k5(s,l){const r=Ty(s,l),t=at(s,0);return t.setFullYear(r,0,4),t.setHours(0,0,0,0),pl(t)}function Yi(s,l,r){const t=we(s,r?.in);return t.setTime(t.getTime()+l*wu),t}function np(s,l,r){return Wa(s,l*3,r)}function M5(s,l,r){return Ay(s,l*1e3)}function ru(s,l,r){return Qa(s,l*7,r)}function Ka(s,l,r){return Wa(s,l*12,r)}function z0(s,l){let r,t=l?.in;return s.forEach(o=>{!t&&typeof o=="object"&&(t=at.bind(null,o));const u=we(o,t);(!r||r<u||isNaN(+u))&&(r=u)}),at(t,r||NaN)}function F0(s,l){let r,t=l?.in;return s.forEach(o=>{!t&&typeof o=="object"&&(t=at.bind(null,o));const u=we(o,t);(!r||r>u||isNaN(+u))&&(r=u)}),at(t,r||NaN)}function A5(s,l,r){const[t,o]=Wn(r?.in,s,l);return+os(t)==+os(o)}function xn(s){return s instanceof Date||typeof s=="object"&&Object.prototype.toString.call(s)==="[object Date]"}function hl(s){return!(!xn(s)&&typeof s!="number"||isNaN(+we(s)))}function su(s,l,r){const[t,o]=Wn(r?.in,s,l),u=t.getFullYear()-o.getFullYear(),d=t.getMonth()-o.getMonth();return u*12+d}function Cr(s,l){const r=we(s,l?.in);return Math.trunc(r.getMonth()/3)+1}function lu(s,l,r){const[t,o]=Wn(r?.in,s,l),u=t.getFullYear()-o.getFullYear(),d=Cr(t)-Cr(o);return u*4+d}function iu(s,l,r){const[t,o]=Wn(r?.in,s,l);return t.getFullYear()-o.getFullYear()}function T5(s,l,r){const[t,o]=Wn(r?.in,s,l),u=B0(t,o),d=Math.abs(xl(t,o));t.setDate(t.getDate()-u*d);const m=+(B0(t,o)===-u),x=u*(d-m);return x===0?0:x}function B0(s,l){const r=s.getFullYear()-l.getFullYear()||s.getMonth()-l.getMonth()||s.getDate()-l.getDate()||s.getHours()-l.getHours()||s.getMinutes()-l.getMinutes()||s.getSeconds()-l.getSeconds()||s.getMilliseconds()-l.getMilliseconds();return r<0?-1:r>0?1:r}function Ey(s,l){const r=we(s,l?.in);return r.setHours(23,59,59,999),r}function _y(s,l){const r=we(s,l?.in),t=r.getMonth();return r.setFullYear(r.getFullYear(),t+1,0),r.setHours(23,59,59,999),r}function Af(s,l){const r=we(s,l?.in),t=r.getMonth(),o=t-t%3;return r.setMonth(o,1),r.setHours(0,0,0,0),r}function Oy(s,l){const r=we(s,l?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function Ry(s,l){const r=we(s,l?.in),t=r.getFullYear();return r.setFullYear(t+1,0,0),r.setHours(23,59,59,999),r}function Cu(s,l){const r=we(s,l?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function E5(s,l){const r=ms(),t=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=we(s,l?.in),u=o.getDay(),d=(u<t?-7:0)+6-(u-t);return o.setDate(o.getDate()+d),o.setHours(23,59,59,999),o}const _5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},O5=(s,l,r)=>{let t;const o=_5[s];return typeof o=="string"?t=o:l===1?t=o.one:t=o.other.replace("{{count}}",l.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+t:t+" ago":t};function lf(s){return(l={})=>{const r=l.width?String(l.width):s.defaultWidth;return s.formats[r]||s.formats[s.defaultWidth]}}const R5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},L5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},I5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},P5={date:lf({formats:R5,defaultWidth:"full"}),time:lf({formats:L5,defaultWidth:"full"}),dateTime:lf({formats:I5,defaultWidth:"full"})},z5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},F5=(s,l,r,t)=>z5[s];function Ci(s){return(l,r)=>{const t=r?.context?String(r.context):"standalone";let o;if(t==="formatting"&&s.formattingValues){const d=s.defaultFormattingWidth||s.defaultWidth,m=r?.width?String(r.width):d;o=s.formattingValues[m]||s.formattingValues[d]}else{const d=s.defaultWidth,m=r?.width?String(r.width):s.defaultWidth;o=s.values[m]||s.values[d]}const u=s.argumentCallback?s.argumentCallback(l):l;return o[u]}}const B5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},H5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Y5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},q5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},U5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},$5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},V5=(s,l)=>{const r=Number(s),t=r%100;if(t>20||t<10)switch(t%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},G5={ordinalNumber:V5,era:Ci({values:B5,defaultWidth:"wide"}),quarter:Ci({values:H5,defaultWidth:"wide",argumentCallback:s=>s-1}),month:Ci({values:Y5,defaultWidth:"wide"}),day:Ci({values:q5,defaultWidth:"wide"}),dayPeriod:Ci({values:U5,defaultWidth:"wide",formattingValues:$5,defaultFormattingWidth:"wide"})};function Di(s){return(l,r={})=>{const t=r.width,o=t&&s.matchPatterns[t]||s.matchPatterns[s.defaultMatchWidth],u=l.match(o);if(!u)return null;const d=u[0],m=t&&s.parsePatterns[t]||s.parsePatterns[s.defaultParseWidth],x=Array.isArray(m)?K5(m,b=>b.test(d)):Q5(m,b=>b.test(d));let p;p=s.valueCallback?s.valueCallback(x):x,p=r.valueCallback?r.valueCallback(p):p;const v=l.slice(d.length);return{value:p,rest:v}}}function Q5(s,l){for(const r in s)if(Object.prototype.hasOwnProperty.call(s,r)&&l(s[r]))return r}function K5(s,l){for(let r=0;r<s.length;r++)if(l(s[r]))return r}function X5(s){return(l,r={})=>{const t=l.match(s.matchPattern);if(!t)return null;const o=t[0],u=l.match(s.parsePattern);if(!u)return null;let d=s.valueCallback?s.valueCallback(u[0]):u[0];d=r.valueCallback?r.valueCallback(d):d;const m=l.slice(o.length);return{value:d,rest:m}}}const W5=/^(\d+)(th|st|nd|rd)?/i,Z5=/\d+/i,J5={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},eD={any:[/^b/i,/^(a|c)/i]},tD={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},aD={any:[/1/i,/2/i,/3/i,/4/i]},nD={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},rD={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},sD={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},lD={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},iD={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},oD={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},cD={ordinalNumber:X5({matchPattern:W5,parsePattern:Z5,valueCallback:s=>parseInt(s,10)}),era:Di({matchPatterns:J5,defaultMatchWidth:"wide",parsePatterns:eD,defaultParseWidth:"any"}),quarter:Di({matchPatterns:tD,defaultMatchWidth:"wide",parsePatterns:aD,defaultParseWidth:"any",valueCallback:s=>s+1}),month:Di({matchPatterns:nD,defaultMatchWidth:"wide",parsePatterns:rD,defaultParseWidth:"any"}),day:Di({matchPatterns:sD,defaultMatchWidth:"wide",parsePatterns:lD,defaultParseWidth:"any"}),dayPeriod:Di({matchPatterns:iD,defaultMatchWidth:"any",parsePatterns:oD,defaultParseWidth:"any"})},Ly={code:"en-US",formatDistance:O5,formatLong:P5,formatRelative:F5,localize:G5,match:cD,options:{weekStartsOn:0,firstWeekContainsDate:1}};function uD(s,l){const r=we(s,l?.in);return xl(r,Cu(r))+1}function rp(s,l){const r=we(s,l?.in),t=+pl(r)-+k5(r);return Math.round(t/My)+1}function sp(s,l){const r=we(s,l?.in),t=r.getFullYear(),o=ms(),u=l?.firstWeekContainsDate??l?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,d=at(l?.in||s,0);d.setFullYear(t+1,0,u),d.setHours(0,0,0,0);const m=Kn(d,l),x=at(l?.in||s,0);x.setFullYear(t,0,u),x.setHours(0,0,0,0);const p=Kn(x,l);return+r>=+m?t+1:+r>=+p?t:t-1}function dD(s,l){const r=ms(),t=l?.firstWeekContainsDate??l?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=sp(s,l),u=at(l?.in||s,0);return u.setFullYear(o,0,t),u.setHours(0,0,0,0),Kn(u,l)}function Iy(s,l){const r=we(s,l?.in),t=+Kn(r,l)-+dD(r,l);return Math.round(t/My)+1}function tt(s,l){const r=s<0?"-":"",t=Math.abs(s).toString().padStart(l,"0");return r+t}const wr={y(s,l){const r=s.getFullYear(),t=r>0?r:1-r;return tt(l==="yy"?t%100:t,l.length)},M(s,l){const r=s.getMonth();return l==="M"?String(r+1):tt(r+1,2)},d(s,l){return tt(s.getDate(),l.length)},a(s,l){const r=s.getHours()/12>=1?"pm":"am";switch(l){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(s,l){return tt(s.getHours()%12||12,l.length)},H(s,l){return tt(s.getHours(),l.length)},m(s,l){return tt(s.getMinutes(),l.length)},s(s,l){return tt(s.getSeconds(),l.length)},S(s,l){const r=l.length,t=s.getMilliseconds(),o=Math.trunc(t*Math.pow(10,r-3));return tt(o,l.length)}},el={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},H0={G:function(s,l,r){const t=s.getFullYear()>0?1:0;switch(l){case"G":case"GG":case"GGG":return r.era(t,{width:"abbreviated"});case"GGGGG":return r.era(t,{width:"narrow"});default:return r.era(t,{width:"wide"})}},y:function(s,l,r){if(l==="yo"){const t=s.getFullYear(),o=t>0?t:1-t;return r.ordinalNumber(o,{unit:"year"})}return wr.y(s,l)},Y:function(s,l,r,t){const o=sp(s,t),u=o>0?o:1-o;if(l==="YY"){const d=u%100;return tt(d,2)}return l==="Yo"?r.ordinalNumber(u,{unit:"year"}):tt(u,l.length)},R:function(s,l){const r=Ty(s);return tt(r,l.length)},u:function(s,l){const r=s.getFullYear();return tt(r,l.length)},Q:function(s,l,r){const t=Math.ceil((s.getMonth()+1)/3);switch(l){case"Q":return String(t);case"QQ":return tt(t,2);case"Qo":return r.ordinalNumber(t,{unit:"quarter"});case"QQQ":return r.quarter(t,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(t,{width:"narrow",context:"formatting"});default:return r.quarter(t,{width:"wide",context:"formatting"})}},q:function(s,l,r){const t=Math.ceil((s.getMonth()+1)/3);switch(l){case"q":return String(t);case"qq":return tt(t,2);case"qo":return r.ordinalNumber(t,{unit:"quarter"});case"qqq":return r.quarter(t,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(t,{width:"narrow",context:"standalone"});default:return r.quarter(t,{width:"wide",context:"standalone"})}},M:function(s,l,r){const t=s.getMonth();switch(l){case"M":case"MM":return wr.M(s,l);case"Mo":return r.ordinalNumber(t+1,{unit:"month"});case"MMM":return r.month(t,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(t,{width:"narrow",context:"formatting"});default:return r.month(t,{width:"wide",context:"formatting"})}},L:function(s,l,r){const t=s.getMonth();switch(l){case"L":return String(t+1);case"LL":return tt(t+1,2);case"Lo":return r.ordinalNumber(t+1,{unit:"month"});case"LLL":return r.month(t,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(t,{width:"narrow",context:"standalone"});default:return r.month(t,{width:"wide",context:"standalone"})}},w:function(s,l,r,t){const o=Iy(s,t);return l==="wo"?r.ordinalNumber(o,{unit:"week"}):tt(o,l.length)},I:function(s,l,r){const t=rp(s);return l==="Io"?r.ordinalNumber(t,{unit:"week"}):tt(t,l.length)},d:function(s,l,r){return l==="do"?r.ordinalNumber(s.getDate(),{unit:"date"}):wr.d(s,l)},D:function(s,l,r){const t=uD(s);return l==="Do"?r.ordinalNumber(t,{unit:"dayOfYear"}):tt(t,l.length)},E:function(s,l,r){const t=s.getDay();switch(l){case"E":case"EE":case"EEE":return r.day(t,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(t,{width:"short",context:"formatting"});default:return r.day(t,{width:"wide",context:"formatting"})}},e:function(s,l,r,t){const o=s.getDay(),u=(o-t.weekStartsOn+8)%7||7;switch(l){case"e":return String(u);case"ee":return tt(u,2);case"eo":return r.ordinalNumber(u,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(s,l,r,t){const o=s.getDay(),u=(o-t.weekStartsOn+8)%7||7;switch(l){case"c":return String(u);case"cc":return tt(u,l.length);case"co":return r.ordinalNumber(u,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(s,l,r){const t=s.getDay(),o=t===0?7:t;switch(l){case"i":return String(o);case"ii":return tt(o,l.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(t,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(t,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(t,{width:"short",context:"formatting"});default:return r.day(t,{width:"wide",context:"formatting"})}},a:function(s,l,r){const o=s.getHours()/12>=1?"pm":"am";switch(l){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(s,l,r){const t=s.getHours();let o;switch(t===12?o=el.noon:t===0?o=el.midnight:o=t/12>=1?"pm":"am",l){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(s,l,r){const t=s.getHours();let o;switch(t>=17?o=el.evening:t>=12?o=el.afternoon:t>=4?o=el.morning:o=el.night,l){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(s,l,r){if(l==="ho"){let t=s.getHours()%12;return t===0&&(t=12),r.ordinalNumber(t,{unit:"hour"})}return wr.h(s,l)},H:function(s,l,r){return l==="Ho"?r.ordinalNumber(s.getHours(),{unit:"hour"}):wr.H(s,l)},K:function(s,l,r){const t=s.getHours()%12;return l==="Ko"?r.ordinalNumber(t,{unit:"hour"}):tt(t,l.length)},k:function(s,l,r){let t=s.getHours();return t===0&&(t=24),l==="ko"?r.ordinalNumber(t,{unit:"hour"}):tt(t,l.length)},m:function(s,l,r){return l==="mo"?r.ordinalNumber(s.getMinutes(),{unit:"minute"}):wr.m(s,l)},s:function(s,l,r){return l==="so"?r.ordinalNumber(s.getSeconds(),{unit:"second"}):wr.s(s,l)},S:function(s,l){return wr.S(s,l)},X:function(s,l,r){const t=s.getTimezoneOffset();if(t===0)return"Z";switch(l){case"X":return q0(t);case"XXXX":case"XX":return es(t);default:return es(t,":")}},x:function(s,l,r){const t=s.getTimezoneOffset();switch(l){case"x":return q0(t);case"xxxx":case"xx":return es(t);default:return es(t,":")}},O:function(s,l,r){const t=s.getTimezoneOffset();switch(l){case"O":case"OO":case"OOO":return"GMT"+Y0(t,":");default:return"GMT"+es(t,":")}},z:function(s,l,r){const t=s.getTimezoneOffset();switch(l){case"z":case"zz":case"zzz":return"GMT"+Y0(t,":");default:return"GMT"+es(t,":")}},t:function(s,l,r){const t=Math.trunc(+s/1e3);return tt(t,l.length)},T:function(s,l,r){return tt(+s,l.length)}};function Y0(s,l=""){const r=s>0?"-":"+",t=Math.abs(s),o=Math.trunc(t/60),u=t%60;return u===0?r+String(o):r+String(o)+l+tt(u,2)}function q0(s,l){return s%60===0?(s>0?"-":"+")+tt(Math.abs(s)/60,2):es(s,l)}function es(s,l=""){const r=s>0?"-":"+",t=Math.abs(s),o=tt(Math.trunc(t/60),2),u=tt(t%60,2);return r+o+l+u}const U0=(s,l)=>{switch(s){case"P":return l.date({width:"short"});case"PP":return l.date({width:"medium"});case"PPP":return l.date({width:"long"});default:return l.date({width:"full"})}},Py=(s,l)=>{switch(s){case"p":return l.time({width:"short"});case"pp":return l.time({width:"medium"});case"ppp":return l.time({width:"long"});default:return l.time({width:"full"})}},mD=(s,l)=>{const r=s.match(/(P+)(p+)?/)||[],t=r[1],o=r[2];if(!o)return U0(s,l);let u;switch(t){case"P":u=l.dateTime({width:"short"});break;case"PP":u=l.dateTime({width:"medium"});break;case"PPP":u=l.dateTime({width:"long"});break;default:u=l.dateTime({width:"full"});break}return u.replace("{{date}}",U0(t,l)).replace("{{time}}",Py(o,l))},Tf={p:Py,P:mD},fD=/^D+$/,pD=/^Y+$/,xD=["D","DD","YY","YYYY"];function hD(s){return fD.test(s)}function vD(s){return pD.test(s)}function bD(s,l,r){const t=gD(s,l,r);if(console.warn(t),xD.includes(s))throw new RangeError(t)}function gD(s,l,r){const t=s[0]==="Y"?"years":"days of the month";return`Use \`${s.toLowerCase()}\` instead of \`${s}\` (in \`${l}\`) for formatting ${t} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const yD=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ND=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jD=/^'([^]*?)'?$/,wD=/''/g,SD=/[a-zA-Z]/;function $0(s,l,r){const t=ms(),o=r?.locale??t.locale??Ly,u=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,d=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,m=we(s,r?.in);if(!hl(m))throw new RangeError("Invalid time value");let x=l.match(ND).map(v=>{const b=v[0];if(b==="p"||b==="P"){const S=Tf[b];return S(v,o.formatLong)}return v}).join("").match(yD).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const b=v[0];if(b==="'")return{isToken:!1,value:CD(v)};if(H0[b])return{isToken:!0,value:v};if(b.match(SD))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:v}});o.localize.preprocessor&&(x=o.localize.preprocessor(m,x));const p={firstWeekContainsDate:u,weekStartsOn:d,locale:o};return x.map(v=>{if(!v.isToken)return v.value;const b=v.value;(!r?.useAdditionalWeekYearTokens&&vD(b)||!r?.useAdditionalDayOfYearTokens&&hD(b))&&bD(b,l,String(s));const S=H0[b[0]];return S(m,b,o.localize,p)}).join("")}function CD(s){const l=s.match(jD);return l?l[1].replace(wD,"'"):s}function V0(s,l){return we(s,l?.in).getDate()}function DD(s,l){return we(s,l?.in).getDay()}function kD(s,l){const r=we(s,l?.in),t=r.getFullYear(),o=r.getMonth(),u=at(r,0);return u.setFullYear(t,o+1,0),u.setHours(0,0,0,0),u.getDate()}function MD(){return Object.assign({},ms())}function Qt(s,l){return we(s,l?.in).getHours()}function AD(s,l){const r=we(s,l?.in).getDay();return r===0?7:r}function Kt(s,l){return we(s,l?.in).getMinutes()}function pa(s,l){return we(s,l?.in).getMonth()}function Dr(s){return we(s).getSeconds()}function Ef(s){return+we(s)}function Pe(s,l){return we(s,l?.in).getFullYear()}function Vn(s,l){return+we(s)>+we(l)}function mn(s,l){return+we(s)<+we(l)}function TD(s,l){return+we(s)==+we(l)}function ED(s,l){const r=_D(l)?new l(0):at(l,0);return r.setFullYear(s.getFullYear(),s.getMonth(),s.getDate()),r.setHours(s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()),r}function _D(s){return typeof s=="function"&&s.prototype?.constructor===s}const OD=10;class zy{subPriority=0;validate(l,r){return!0}}class RD extends zy{constructor(l,r,t,o,u){super(),this.value=l,this.validateValue=r,this.setValue=t,this.priority=o,u&&(this.subPriority=u)}validate(l,r){return this.validateValue(l,this.value,r)}set(l,r,t){return this.setValue(l,r,this.value,t)}}class LD extends zy{priority=OD;subPriority=-1;constructor(l,r){super(),this.context=l||(t=>at(r,t))}set(l,r){return r.timestampIsSet?l:at(l,ED(l,this.context))}}class Xe{run(l,r,t,o){const u=this.parse(l,r,t,o);return u?{setter:new RD(u.value,this.validate,this.set,this.priority,this.subPriority),rest:u.rest}:null}validate(l,r,t){return!0}}class ID extends Xe{priority=140;parse(l,r,t){switch(r){case"G":case"GG":case"GGG":return t.era(l,{width:"abbreviated"})||t.era(l,{width:"narrow"});case"GGGGG":return t.era(l,{width:"narrow"});default:return t.era(l,{width:"wide"})||t.era(l,{width:"abbreviated"})||t.era(l,{width:"narrow"})}}set(l,r,t){return r.era=t,l.setFullYear(t,0,1),l.setHours(0,0,0,0),l}incompatibleTokens=["R","u","t","T"]}const wt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},un={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function St(s,l){return s&&{value:l(s.value),rest:s.rest}}function vt(s,l){const r=l.match(s);return r?{value:parseInt(r[0],10),rest:l.slice(r[0].length)}:null}function dn(s,l){const r=l.match(s);if(!r)return null;if(r[0]==="Z")return{value:0,rest:l.slice(1)};const t=r[1]==="+"?1:-1,o=r[2]?parseInt(r[2],10):0,u=r[3]?parseInt(r[3],10):0,d=r[5]?parseInt(r[5],10):0;return{value:t*(o*Su+u*wu+d*S5),rest:l.slice(r[0].length)}}function Fy(s){return vt(wt.anyDigitsSigned,s)}function yt(s,l){switch(s){case 1:return vt(wt.singleDigit,l);case 2:return vt(wt.twoDigits,l);case 3:return vt(wt.threeDigits,l);case 4:return vt(wt.fourDigits,l);default:return vt(new RegExp("^\\d{1,"+s+"}"),l)}}function ou(s,l){switch(s){case 1:return vt(wt.singleDigitSigned,l);case 2:return vt(wt.twoDigitsSigned,l);case 3:return vt(wt.threeDigitsSigned,l);case 4:return vt(wt.fourDigitsSigned,l);default:return vt(new RegExp("^-?\\d{1,"+s+"}"),l)}}function lp(s){switch(s){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function By(s,l){const r=l>0,t=r?l:1-l;let o;if(t<=50)o=s||100;else{const u=t+50,d=Math.trunc(u/100)*100,m=s>=u%100;o=s+d-(m?100:0)}return r?o:1-o}function Hy(s){return s%400===0||s%4===0&&s%100!==0}class PD extends Xe{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(l,r,t){const o=u=>({year:u,isTwoDigitYear:r==="yy"});switch(r){case"y":return St(yt(4,l),o);case"yo":return St(t.ordinalNumber(l,{unit:"year"}),o);default:return St(yt(r.length,l),o)}}validate(l,r){return r.isTwoDigitYear||r.year>0}set(l,r,t){const o=l.getFullYear();if(t.isTwoDigitYear){const d=By(t.year,o);return l.setFullYear(d,0,1),l.setHours(0,0,0,0),l}const u=!("era"in r)||r.era===1?t.year:1-t.year;return l.setFullYear(u,0,1),l.setHours(0,0,0,0),l}}class zD extends Xe{priority=130;parse(l,r,t){const o=u=>({year:u,isTwoDigitYear:r==="YY"});switch(r){case"Y":return St(yt(4,l),o);case"Yo":return St(t.ordinalNumber(l,{unit:"year"}),o);default:return St(yt(r.length,l),o)}}validate(l,r){return r.isTwoDigitYear||r.year>0}set(l,r,t,o){const u=sp(l,o);if(t.isTwoDigitYear){const m=By(t.year,u);return l.setFullYear(m,0,o.firstWeekContainsDate),l.setHours(0,0,0,0),Kn(l,o)}const d=!("era"in r)||r.era===1?t.year:1-t.year;return l.setFullYear(d,0,o.firstWeekContainsDate),l.setHours(0,0,0,0),Kn(l,o)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class FD extends Xe{priority=130;parse(l,r){return ou(r==="R"?4:r.length,l)}set(l,r,t){const o=at(l,0);return o.setFullYear(t,0,4),o.setHours(0,0,0,0),pl(o)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class BD extends Xe{priority=130;parse(l,r){return ou(r==="u"?4:r.length,l)}set(l,r,t){return l.setFullYear(t,0,1),l.setHours(0,0,0,0),l}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class HD extends Xe{priority=120;parse(l,r,t){switch(r){case"Q":case"QQ":return yt(r.length,l);case"Qo":return t.ordinalNumber(l,{unit:"quarter"});case"QQQ":return t.quarter(l,{width:"abbreviated",context:"formatting"})||t.quarter(l,{width:"narrow",context:"formatting"});case"QQQQQ":return t.quarter(l,{width:"narrow",context:"formatting"});default:return t.quarter(l,{width:"wide",context:"formatting"})||t.quarter(l,{width:"abbreviated",context:"formatting"})||t.quarter(l,{width:"narrow",context:"formatting"})}}validate(l,r){return r>=1&&r<=4}set(l,r,t){return l.setMonth((t-1)*3,1),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class YD extends Xe{priority=120;parse(l,r,t){switch(r){case"q":case"qq":return yt(r.length,l);case"qo":return t.ordinalNumber(l,{unit:"quarter"});case"qqq":return t.quarter(l,{width:"abbreviated",context:"standalone"})||t.quarter(l,{width:"narrow",context:"standalone"});case"qqqqq":return t.quarter(l,{width:"narrow",context:"standalone"});default:return t.quarter(l,{width:"wide",context:"standalone"})||t.quarter(l,{width:"abbreviated",context:"standalone"})||t.quarter(l,{width:"narrow",context:"standalone"})}}validate(l,r){return r>=1&&r<=4}set(l,r,t){return l.setMonth((t-1)*3,1),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class qD extends Xe{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(l,r,t){const o=u=>u-1;switch(r){case"M":return St(vt(wt.month,l),o);case"MM":return St(yt(2,l),o);case"Mo":return St(t.ordinalNumber(l,{unit:"month"}),o);case"MMM":return t.month(l,{width:"abbreviated",context:"formatting"})||t.month(l,{width:"narrow",context:"formatting"});case"MMMMM":return t.month(l,{width:"narrow",context:"formatting"});default:return t.month(l,{width:"wide",context:"formatting"})||t.month(l,{width:"abbreviated",context:"formatting"})||t.month(l,{width:"narrow",context:"formatting"})}}validate(l,r){return r>=0&&r<=11}set(l,r,t){return l.setMonth(t,1),l.setHours(0,0,0,0),l}}class UD extends Xe{priority=110;parse(l,r,t){const o=u=>u-1;switch(r){case"L":return St(vt(wt.month,l),o);case"LL":return St(yt(2,l),o);case"Lo":return St(t.ordinalNumber(l,{unit:"month"}),o);case"LLL":return t.month(l,{width:"abbreviated",context:"standalone"})||t.month(l,{width:"narrow",context:"standalone"});case"LLLLL":return t.month(l,{width:"narrow",context:"standalone"});default:return t.month(l,{width:"wide",context:"standalone"})||t.month(l,{width:"abbreviated",context:"standalone"})||t.month(l,{width:"narrow",context:"standalone"})}}validate(l,r){return r>=0&&r<=11}set(l,r,t){return l.setMonth(t,1),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function $D(s,l,r){const t=we(s,r?.in),o=Iy(t,r)-l;return t.setDate(t.getDate()-o*7),we(t,r?.in)}class VD extends Xe{priority=100;parse(l,r,t){switch(r){case"w":return vt(wt.week,l);case"wo":return t.ordinalNumber(l,{unit:"week"});default:return yt(r.length,l)}}validate(l,r){return r>=1&&r<=53}set(l,r,t,o){return Kn($D(l,t,o),o)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function GD(s,l,r){const t=we(s,r?.in),o=rp(t,r)-l;return t.setDate(t.getDate()-o*7),t}class QD extends Xe{priority=100;parse(l,r,t){switch(r){case"I":return vt(wt.week,l);case"Io":return t.ordinalNumber(l,{unit:"week"});default:return yt(r.length,l)}}validate(l,r){return r>=1&&r<=53}set(l,r,t){return pl(GD(l,t))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const KD=[31,28,31,30,31,30,31,31,30,31,30,31],XD=[31,29,31,30,31,30,31,31,30,31,30,31];class WD extends Xe{priority=90;subPriority=1;parse(l,r,t){switch(r){case"d":return vt(wt.date,l);case"do":return t.ordinalNumber(l,{unit:"date"});default:return yt(r.length,l)}}validate(l,r){const t=l.getFullYear(),o=Hy(t),u=l.getMonth();return o?r>=1&&r<=XD[u]:r>=1&&r<=KD[u]}set(l,r,t){return l.setDate(t),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class ZD extends Xe{priority=90;subpriority=1;parse(l,r,t){switch(r){case"D":case"DD":return vt(wt.dayOfYear,l);case"Do":return t.ordinalNumber(l,{unit:"date"});default:return yt(r.length,l)}}validate(l,r){const t=l.getFullYear();return Hy(t)?r>=1&&r<=366:r>=1&&r<=365}set(l,r,t){return l.setMonth(0,t),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function ip(s,l,r){const t=ms(),o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,u=we(s,r?.in),d=u.getDay(),x=(l%7+7)%7,p=7-o,v=l<0||l>6?l-(d+p)%7:(x+p)%7-(d+p)%7;return Qa(u,v,r)}class JD extends Xe{priority=90;parse(l,r,t){switch(r){case"E":case"EE":case"EEE":return t.day(l,{width:"abbreviated",context:"formatting"})||t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"});case"EEEEE":return t.day(l,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"});default:return t.day(l,{width:"wide",context:"formatting"})||t.day(l,{width:"abbreviated",context:"formatting"})||t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"})}}validate(l,r){return r>=0&&r<=6}set(l,r,t,o){return l=ip(l,t,o),l.setHours(0,0,0,0),l}incompatibleTokens=["D","i","e","c","t","T"]}class ek extends Xe{priority=90;parse(l,r,t,o){const u=d=>{const m=Math.floor((d-1)/7)*7;return(d+o.weekStartsOn+6)%7+m};switch(r){case"e":case"ee":return St(yt(r.length,l),u);case"eo":return St(t.ordinalNumber(l,{unit:"day"}),u);case"eee":return t.day(l,{width:"abbreviated",context:"formatting"})||t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"});case"eeeee":return t.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"});default:return t.day(l,{width:"wide",context:"formatting"})||t.day(l,{width:"abbreviated",context:"formatting"})||t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"})}}validate(l,r){return r>=0&&r<=6}set(l,r,t,o){return l=ip(l,t,o),l.setHours(0,0,0,0),l}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class tk extends Xe{priority=90;parse(l,r,t,o){const u=d=>{const m=Math.floor((d-1)/7)*7;return(d+o.weekStartsOn+6)%7+m};switch(r){case"c":case"cc":return St(yt(r.length,l),u);case"co":return St(t.ordinalNumber(l,{unit:"day"}),u);case"ccc":return t.day(l,{width:"abbreviated",context:"standalone"})||t.day(l,{width:"short",context:"standalone"})||t.day(l,{width:"narrow",context:"standalone"});case"ccccc":return t.day(l,{width:"narrow",context:"standalone"});case"cccccc":return t.day(l,{width:"short",context:"standalone"})||t.day(l,{width:"narrow",context:"standalone"});default:return t.day(l,{width:"wide",context:"standalone"})||t.day(l,{width:"abbreviated",context:"standalone"})||t.day(l,{width:"short",context:"standalone"})||t.day(l,{width:"narrow",context:"standalone"})}}validate(l,r){return r>=0&&r<=6}set(l,r,t,o){return l=ip(l,t,o),l.setHours(0,0,0,0),l}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function ak(s,l,r){const t=we(s,r?.in),o=AD(t,r),u=l-o;return Qa(t,u,r)}class nk extends Xe{priority=90;parse(l,r,t){const o=u=>u===0?7:u;switch(r){case"i":case"ii":return yt(r.length,l);case"io":return t.ordinalNumber(l,{unit:"day"});case"iii":return St(t.day(l,{width:"abbreviated",context:"formatting"})||t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"}),o);case"iiiii":return St(t.day(l,{width:"narrow",context:"formatting"}),o);case"iiiiii":return St(t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"}),o);default:return St(t.day(l,{width:"wide",context:"formatting"})||t.day(l,{width:"abbreviated",context:"formatting"})||t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"}),o)}}validate(l,r){return r>=1&&r<=7}set(l,r,t){return l=ak(l,t),l.setHours(0,0,0,0),l}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class rk extends Xe{priority=80;parse(l,r,t){switch(r){case"a":case"aa":case"aaa":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"})||t.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaaa":return t.dayPeriod(l,{width:"narrow",context:"formatting"});default:return t.dayPeriod(l,{width:"wide",context:"formatting"})||t.dayPeriod(l,{width:"abbreviated",context:"formatting"})||t.dayPeriod(l,{width:"narrow",context:"formatting"})}}set(l,r,t){return l.setHours(lp(t),0,0,0),l}incompatibleTokens=["b","B","H","k","t","T"]}class sk extends Xe{priority=80;parse(l,r,t){switch(r){case"b":case"bb":case"bbb":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"})||t.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbbb":return t.dayPeriod(l,{width:"narrow",context:"formatting"});default:return t.dayPeriod(l,{width:"wide",context:"formatting"})||t.dayPeriod(l,{width:"abbreviated",context:"formatting"})||t.dayPeriod(l,{width:"narrow",context:"formatting"})}}set(l,r,t){return l.setHours(lp(t),0,0,0),l}incompatibleTokens=["a","B","H","k","t","T"]}class lk extends Xe{priority=80;parse(l,r,t){switch(r){case"B":case"BB":case"BBB":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"})||t.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBBB":return t.dayPeriod(l,{width:"narrow",context:"formatting"});default:return t.dayPeriod(l,{width:"wide",context:"formatting"})||t.dayPeriod(l,{width:"abbreviated",context:"formatting"})||t.dayPeriod(l,{width:"narrow",context:"formatting"})}}set(l,r,t){return l.setHours(lp(t),0,0,0),l}incompatibleTokens=["a","b","t","T"]}class ik extends Xe{priority=70;parse(l,r,t){switch(r){case"h":return vt(wt.hour12h,l);case"ho":return t.ordinalNumber(l,{unit:"hour"});default:return yt(r.length,l)}}validate(l,r){return r>=1&&r<=12}set(l,r,t){const o=l.getHours()>=12;return o&&t<12?l.setHours(t+12,0,0,0):!o&&t===12?l.setHours(0,0,0,0):l.setHours(t,0,0,0),l}incompatibleTokens=["H","K","k","t","T"]}class ok extends Xe{priority=70;parse(l,r,t){switch(r){case"H":return vt(wt.hour23h,l);case"Ho":return t.ordinalNumber(l,{unit:"hour"});default:return yt(r.length,l)}}validate(l,r){return r>=0&&r<=23}set(l,r,t){return l.setHours(t,0,0,0),l}incompatibleTokens=["a","b","h","K","k","t","T"]}class ck extends Xe{priority=70;parse(l,r,t){switch(r){case"K":return vt(wt.hour11h,l);case"Ko":return t.ordinalNumber(l,{unit:"hour"});default:return yt(r.length,l)}}validate(l,r){return r>=0&&r<=11}set(l,r,t){return l.getHours()>=12&&t<12?l.setHours(t+12,0,0,0):l.setHours(t,0,0,0),l}incompatibleTokens=["h","H","k","t","T"]}class uk extends Xe{priority=70;parse(l,r,t){switch(r){case"k":return vt(wt.hour24h,l);case"ko":return t.ordinalNumber(l,{unit:"hour"});default:return yt(r.length,l)}}validate(l,r){return r>=1&&r<=24}set(l,r,t){const o=t<=24?t%24:t;return l.setHours(o,0,0,0),l}incompatibleTokens=["a","b","h","H","K","t","T"]}class dk extends Xe{priority=60;parse(l,r,t){switch(r){case"m":return vt(wt.minute,l);case"mo":return t.ordinalNumber(l,{unit:"minute"});default:return yt(r.length,l)}}validate(l,r){return r>=0&&r<=59}set(l,r,t){return l.setMinutes(t,0,0),l}incompatibleTokens=["t","T"]}class mk extends Xe{priority=50;parse(l,r,t){switch(r){case"s":return vt(wt.second,l);case"so":return t.ordinalNumber(l,{unit:"second"});default:return yt(r.length,l)}}validate(l,r){return r>=0&&r<=59}set(l,r,t){return l.setSeconds(t,0),l}incompatibleTokens=["t","T"]}class fk extends Xe{priority=30;parse(l,r){const t=o=>Math.trunc(o*Math.pow(10,-r.length+3));return St(yt(r.length,l),t)}set(l,r,t){return l.setMilliseconds(t),l}incompatibleTokens=["t","T"]}class pk extends Xe{priority=10;parse(l,r){switch(r){case"X":return dn(un.basicOptionalMinutes,l);case"XX":return dn(un.basic,l);case"XXXX":return dn(un.basicOptionalSeconds,l);case"XXXXX":return dn(un.extendedOptionalSeconds,l);default:return dn(un.extended,l)}}set(l,r,t){return r.timestampIsSet?l:at(l,l.getTime()-nu(l)-t)}incompatibleTokens=["t","T","x"]}class xk extends Xe{priority=10;parse(l,r){switch(r){case"x":return dn(un.basicOptionalMinutes,l);case"xx":return dn(un.basic,l);case"xxxx":return dn(un.basicOptionalSeconds,l);case"xxxxx":return dn(un.extendedOptionalSeconds,l);default:return dn(un.extended,l)}}set(l,r,t){return r.timestampIsSet?l:at(l,l.getTime()-nu(l)-t)}incompatibleTokens=["t","T","X"]}class hk extends Xe{priority=40;parse(l){return Fy(l)}set(l,r,t){return[at(l,t*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class vk extends Xe{priority=20;parse(l){return Fy(l)}set(l,r,t){return[at(l,t),{timestampIsSet:!0}]}incompatibleTokens="*"}const bk={G:new ID,y:new PD,Y:new zD,R:new FD,u:new BD,Q:new HD,q:new YD,M:new qD,L:new UD,w:new VD,I:new QD,d:new WD,D:new ZD,E:new JD,e:new ek,c:new tk,i:new nk,a:new rk,b:new sk,B:new lk,h:new ik,H:new ok,K:new ck,k:new uk,m:new dk,s:new mk,S:new fk,X:new pk,x:new xk,t:new hk,T:new vk},gk=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yk=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Nk=/^'([^]*?)'?$/,jk=/''/g,wk=/\S/,Sk=/[a-zA-Z]/;function Ck(s,l,r,t){const o=()=>at(t?.in||r,NaN),u=MD(),d=t?.locale??u.locale??Ly,m=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??u.firstWeekContainsDate??u.locale?.options?.firstWeekContainsDate??1,x=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??u.weekStartsOn??u.locale?.options?.weekStartsOn??0;if(!l)return s?o():we(r,t?.in);const p={firstWeekContainsDate:m,weekStartsOn:x,locale:d},v=[new LD(t?.in,r)],b=l.match(yk).map(y=>{const N=y[0];if(N in Tf){const k=Tf[N];return k(y,d.formatLong)}return y}).join("").match(gk),S=[];for(let y of b){const N=y[0],k=bk[N];if(k){const{incompatibleTokens:g}=k;if(Array.isArray(g)){const Y=S.find(z=>g.includes(z.token)||z.token===N);if(Y)throw new RangeError(`The format string mustn't contain \`${Y.fullToken}\` and \`${y}\` at the same time`)}else if(k.incompatibleTokens==="*"&&S.length>0)throw new RangeError(`The format string mustn't contain \`${y}\` and any other token at the same time`);S.push({token:N,fullToken:y});const O=k.run(s,y,d.match,p);if(!O)return o();v.push(O.setter),s=O.rest}else{if(N.match(Sk))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");if(y==="''"?y="'":N==="'"&&(y=Dk(y)),s.indexOf(y)===0)s=s.slice(y.length);else return o()}}if(s.length>0&&wk.test(s))return o();const w=v.map(y=>y.priority).sort((y,N)=>N-y).filter((y,N,k)=>k.indexOf(y)===N).map(y=>v.filter(N=>N.priority===y).sort((N,k)=>k.subPriority-N.subPriority)).map(y=>y[0]);let M=we(r,t?.in);if(isNaN(+M))return o();const D={};for(const y of w){if(!y.validate(M,p))return o();const N=y.set(M,D,p);Array.isArray(N)?(M=N[0],Object.assign(D,N[1])):M=N}return M}function Dk(s){return s.match(Nk)[1].replace(jk,"'")}function kk(s,l,r){const[t,o]=Wn(r?.in,s,l);return t.getFullYear()===o.getFullYear()&&t.getMonth()===o.getMonth()}function Mk(s,l,r){const[t,o]=Wn(r?.in,s,l);return+Af(t)==+Af(o)}function Ak(s,l,r){const[t,o]=Wn(r?.in,s,l);return t.getFullYear()===o.getFullYear()}function qi(s,l,r){const t=+we(s,r?.in),[o,u]=[+we(l.start,r?.in),+we(l.end,r?.in)].sort((d,m)=>d-m);return t>=o&&t<=u}function Tk(s,l,r){return Qa(s,-1,r)}function Ek(s,l){const r=()=>at(l?.in,NaN),o=Lk(s);let u;if(o.date){const p=Ik(o.date,2);u=Pk(p.restDateString,p.year)}if(!u||isNaN(+u))return r();const d=+u;let m=0,x;if(o.time&&(m=zk(o.time),isNaN(m)))return r();if(o.timezone){if(x=Fk(o.timezone),isNaN(x))return r()}else{const p=new Date(d+m),v=we(0,l?.in);return v.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),v.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),v}return we(d+m+x,l?.in)}const yc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},_k=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Ok=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Rk=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Lk(s){const l={},r=s.split(yc.dateTimeDelimiter);let t;if(r.length>2)return l;if(/:/.test(r[0])?t=r[0]:(l.date=r[0],t=r[1],yc.timeZoneDelimiter.test(l.date)&&(l.date=s.split(yc.timeZoneDelimiter)[0],t=s.substr(l.date.length,s.length))),t){const o=yc.timezone.exec(t);o?(l.time=t.replace(o[1],""),l.timezone=o[1]):l.time=t}return l}function Ik(s,l){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+l)+"})|(\\d{2}|[+-]\\d{"+(2+l)+"})$)"),t=s.match(r);if(!t)return{year:NaN,restDateString:""};const o=t[1]?parseInt(t[1]):null,u=t[2]?parseInt(t[2]):null;return{year:u===null?o:u*100,restDateString:s.slice((t[1]||t[2]).length)}}function Pk(s,l){if(l===null)return new Date(NaN);const r=s.match(_k);if(!r)return new Date(NaN);const t=!!r[4],o=ki(r[1]),u=ki(r[2])-1,d=ki(r[3]),m=ki(r[4]),x=ki(r[5])-1;if(t)return Uk(l,m,x)?Bk(l,m,x):new Date(NaN);{const p=new Date(0);return!Yk(l,u,d)||!qk(l,o)?new Date(NaN):(p.setUTCFullYear(l,u,Math.max(o,d)),p)}}function ki(s){return s?parseInt(s):1}function zk(s){const l=s.match(Ok);if(!l)return NaN;const r=of(l[1]),t=of(l[2]),o=of(l[3]);return $k(r,t,o)?r*Su+t*wu+o*1e3:NaN}function of(s){return s&&parseFloat(s.replace(",","."))||0}function Fk(s){if(s==="Z")return 0;const l=s.match(Rk);if(!l)return 0;const r=l[1]==="+"?-1:1,t=parseInt(l[2]),o=l[3]&&parseInt(l[3])||0;return Vk(t,o)?r*(t*Su+o*wu):NaN}function Bk(s,l,r){const t=new Date(0);t.setUTCFullYear(s,0,4);const o=t.getUTCDay()||7,u=(l-1)*7+r+1-o;return t.setUTCDate(t.getUTCDate()+u),t}const Hk=[31,null,31,30,31,30,31,31,30,31,30,31];function Yy(s){return s%400===0||s%4===0&&s%100!==0}function Yk(s,l,r){return l>=0&&l<=11&&r>=1&&r<=(Hk[l]||(Yy(s)?29:28))}function qk(s,l){return l>=1&&l<=(Yy(s)?366:365)}function Uk(s,l,r){return l>=1&&l<=53&&r>=0&&r<=6}function $k(s,l,r){return s===24?l===0&&r===0:r>=0&&r<60&&l>=0&&l<60&&s>=0&&s<25}function Vk(s,l){return l>=0&&l<=59}function Sa(s,l,r){const t=we(s,r?.in),o=t.getFullYear(),u=t.getDate(),d=at(s,0);d.setFullYear(o,l,15),d.setHours(0,0,0,0);const m=kD(d);return t.setMonth(l,Math.min(u,m)),t}function Uc(s,l,r){const t=we(s,r?.in);return t.setHours(l),t}function $c(s,l,r){const t=we(s,r?.in);return t.setMinutes(l),t}function sl(s,l,r){const t=we(s,r?.in),o=Math.trunc(t.getMonth()/3)+1,u=l-o;return Sa(t,t.getMonth()+u*3)}function Vc(s,l,r){const t=we(s,r?.in);return t.setSeconds(l),t}function on(s,l,r){const t=we(s,r?.in);return isNaN(+t)?at(s,NaN):(t.setFullYear(l),t)}function ls(s,l,r){return Wa(s,-l,r)}function qy(s,l,r){return np(s,-1,r)}function G0(s,l,r){return ru(s,-1,r)}function Mr(s,l,r){return Ka(s,-l,r)}function Du(){return typeof window<"u"}function kl(s){return Uy(s)?(s.nodeName||"").toLowerCase():"#document"}function Da(s){var l;return(s==null||(l=s.ownerDocument)==null?void 0:l.defaultView)||window}function Nn(s){var l;return(l=(Uy(s)?s.ownerDocument:s.document)||window.document)==null?void 0:l.documentElement}function Uy(s){return Du()?s instanceof Node||s instanceof Da(s).Node:!1}function aa(s){return Du()?s instanceof Element||s instanceof Da(s).Element:!1}function vn(s){return Du()?s instanceof HTMLElement||s instanceof Da(s).HTMLElement:!1}function Q0(s){return!Du()||typeof ShadowRoot>"u"?!1:s instanceof ShadowRoot||s instanceof Da(s).ShadowRoot}const Gk=new Set(["inline","contents"]);function Ki(s){const{overflow:l,overflowX:r,overflowY:t,display:o}=Ba(s);return/auto|scroll|overlay|hidden|clip/.test(l+t+r)&&!Gk.has(o)}const Qk=new Set(["table","td","th"]);function Kk(s){return Qk.has(kl(s))}const Xk=[":popover-open",":modal"];function ku(s){return Xk.some(l=>{try{return s.matches(l)}catch{return!1}})}const Wk=["transform","translate","scale","rotate","perspective"],Zk=["transform","translate","scale","rotate","perspective","filter"],Jk=["paint","layout","strict","content"];function op(s){const l=cp(),r=aa(s)?Ba(s):s;return Wk.some(t=>r[t]?r[t]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!l&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!l&&(r.filter?r.filter!=="none":!1)||Zk.some(t=>(r.willChange||"").includes(t))||Jk.some(t=>(r.contain||"").includes(t))}function eM(s){let l=Ar(s);for(;vn(l)&&!vl(l);){if(op(l))return l;if(ku(l))return null;l=Ar(l)}return null}function cp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const tM=new Set(["html","body","#document"]);function vl(s){return tM.has(kl(s))}function Ba(s){return Da(s).getComputedStyle(s)}function Mu(s){return aa(s)?{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}:{scrollLeft:s.scrollX,scrollTop:s.scrollY}}function Ar(s){if(kl(s)==="html")return s;const l=s.assignedSlot||s.parentNode||Q0(s)&&s.host||Nn(s);return Q0(l)?l.host:l}function $y(s){const l=Ar(s);return vl(l)?s.ownerDocument?s.ownerDocument.body:s.body:vn(l)&&Ki(l)?l:$y(l)}function Ui(s,l,r){var t;l===void 0&&(l=[]),r===void 0&&(r=!0);const o=$y(s),u=o===((t=s.ownerDocument)==null?void 0:t.body),d=Da(o);if(u){const m=_f(d);return l.concat(d,d.visualViewport||[],Ki(o)?o:[],m&&r?Ui(m):[])}return l.concat(o,Ui(o,[],r))}function _f(s){return s.parent&&Object.getPrototypeOf(s.parent)?s.frameElement:null}const bl=Math.min,is=Math.max,cu=Math.round,Nc=Math.floor,hn=s=>({x:s,y:s}),aM={left:"right",right:"left",bottom:"top",top:"bottom"},nM={start:"end",end:"start"};function rM(s,l,r){return is(s,bl(l,r))}function Au(s,l){return typeof s=="function"?s(l):s}function gl(s){return s.split("-")[0]}function Xi(s){return s.split("-")[1]}function sM(s){return s==="x"?"y":"x"}function up(s){return s==="y"?"height":"width"}const lM=new Set(["top","bottom"]);function ns(s){return lM.has(gl(s))?"y":"x"}function dp(s){return sM(ns(s))}function iM(s,l,r){r===void 0&&(r=!1);const t=Xi(s),o=dp(s),u=up(o);let d=o==="x"?t===(r?"end":"start")?"right":"left":t==="start"?"bottom":"top";return l.reference[u]>l.floating[u]&&(d=uu(d)),[d,uu(d)]}function oM(s){const l=uu(s);return[Of(s),l,Of(l)]}function Of(s){return s.replace(/start|end/g,l=>nM[l])}const K0=["left","right"],X0=["right","left"],cM=["top","bottom"],uM=["bottom","top"];function dM(s,l,r){switch(s){case"top":case"bottom":return r?l?X0:K0:l?K0:X0;case"left":case"right":return l?cM:uM;default:return[]}}function mM(s,l,r,t){const o=Xi(s);let u=dM(gl(s),r==="start",t);return o&&(u=u.map(d=>d+"-"+o),l&&(u=u.concat(u.map(Of)))),u}function uu(s){return s.replace(/left|right|bottom|top/g,l=>aM[l])}function fM(s){return{top:0,right:0,bottom:0,left:0,...s}}function Vy(s){return typeof s!="number"?fM(s):{top:s,right:s,bottom:s,left:s}}function du(s){const{x:l,y:r,width:t,height:o}=s;return{width:t,height:o,top:r,left:l,right:l+t,bottom:r+o,x:l,y:r}}var pM=typeof document<"u",xM=function(){},mu=pM?j.useLayoutEffect:xM;const hM={...lg},vM=hM.useInsertionEffect,bM=vM||(s=>s());function gM(s){const l=j.useRef(()=>{});return bM(()=>{l.current=s}),j.useCallback(function(){for(var r=arguments.length,t=new Array(r),o=0;o<r;o++)t[o]=arguments[o];return l.current==null?void 0:l.current(...t)},[])}function W0(s,l,r){let{reference:t,floating:o}=s;const u=ns(l),d=dp(l),m=up(d),x=gl(l),p=u==="y",v=t.x+t.width/2-o.width/2,b=t.y+t.height/2-o.height/2,S=t[m]/2-o[m]/2;let w;switch(x){case"top":w={x:v,y:t.y-o.height};break;case"bottom":w={x:v,y:t.y+t.height};break;case"right":w={x:t.x+t.width,y:b};break;case"left":w={x:t.x-o.width,y:b};break;default:w={x:t.x,y:t.y}}switch(Xi(l)){case"start":w[d]-=S*(r&&p?-1:1);break;case"end":w[d]+=S*(r&&p?-1:1);break}return w}async function yM(s,l){var r;l===void 0&&(l={});const{x:t,y:o,platform:u,rects:d,elements:m,strategy:x}=s,{boundary:p="clippingAncestors",rootBoundary:v="viewport",elementContext:b="floating",altBoundary:S=!1,padding:w=0}=Au(l,s),M=Vy(w),y=m[S?b==="floating"?"reference":"floating":b],N=du(await u.getClippingRect({element:(r=await(u.isElement==null?void 0:u.isElement(y)))==null||r?y:y.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(m.floating)),boundary:p,rootBoundary:v,strategy:x})),k=b==="floating"?{x:t,y:o,width:d.floating.width,height:d.floating.height}:d.reference,g=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m.floating)),O=await(u.isElement==null?void 0:u.isElement(g))?await(u.getScale==null?void 0:u.getScale(g))||{x:1,y:1}:{x:1,y:1},Y=du(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:m,rect:k,offsetParent:g,strategy:x}):k);return{top:(N.top-Y.top+M.top)/O.y,bottom:(Y.bottom-N.bottom+M.bottom)/O.y,left:(N.left-Y.left+M.left)/O.x,right:(Y.right-N.right+M.right)/O.x}}const NM=async(s,l,r)=>{const{placement:t="bottom",strategy:o="absolute",middleware:u=[],platform:d}=r,m=u.filter(Boolean),x=await(d.isRTL==null?void 0:d.isRTL(l));let p=await d.getElementRects({reference:s,floating:l,strategy:o}),{x:v,y:b}=W0(p,t,x),S=t,w={},M=0;for(let y=0;y<m.length;y++){var D;const{name:N,fn:k}=m[y],{x:g,y:O,data:Y,reset:z}=await k({x:v,y:b,initialPlacement:t,placement:S,strategy:o,middlewareData:w,rects:p,platform:{...d,detectOverflow:(D=d.detectOverflow)!=null?D:yM},elements:{reference:s,floating:l}});v=g??v,b=O??b,w={...w,[N]:{...w[N],...Y}},z&&M<=50&&(M++,typeof z=="object"&&(z.placement&&(S=z.placement),z.rects&&(p=z.rects===!0?await d.getElementRects({reference:s,floating:l,strategy:o}):z.rects),{x:v,y:b}=W0(p,S,x)),y=-1)}return{x:v,y:b,placement:S,strategy:o,middlewareData:w}},jM=s=>({name:"arrow",options:s,async fn(l){const{x:r,y:t,placement:o,rects:u,platform:d,elements:m,middlewareData:x}=l,{element:p,padding:v=0}=Au(s,l)||{};if(p==null)return{};const b=Vy(v),S={x:r,y:t},w=dp(o),M=up(w),D=await d.getDimensions(p),y=w==="y",N=y?"top":"left",k=y?"bottom":"right",g=y?"clientHeight":"clientWidth",O=u.reference[M]+u.reference[w]-S[w]-u.floating[M],Y=S[w]-u.reference[w],z=await(d.getOffsetParent==null?void 0:d.getOffsetParent(p));let U=z?z[g]:0;(!U||!await(d.isElement==null?void 0:d.isElement(z)))&&(U=m.floating[g]||u.floating[M]);const _=O/2-Y/2,B=U/2-D[M]/2-1,H=bl(b[N],B),Q=bl(b[k],B),E=H,le=U-D[M]-Q,G=U/2-D[M]/2+_,J=rM(E,G,le),F=!x.arrow&&Xi(o)!=null&&G!==J&&u.reference[M]/2-(G<E?H:Q)-D[M]/2<0,A=F?G<E?G-E:G-le:0;return{[w]:S[w]+A,data:{[w]:J,centerOffset:G-J-A,...F&&{alignmentOffset:A}},reset:F}}}),wM=function(s){return s===void 0&&(s={}),{name:"flip",options:s,async fn(l){var r,t;const{placement:o,middlewareData:u,rects:d,initialPlacement:m,platform:x,elements:p}=l,{mainAxis:v=!0,crossAxis:b=!0,fallbackPlacements:S,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:M="none",flipAlignment:D=!0,...y}=Au(s,l);if((r=u.arrow)!=null&&r.alignmentOffset)return{};const N=gl(o),k=ns(m),g=gl(m)===m,O=await(x.isRTL==null?void 0:x.isRTL(p.floating)),Y=S||(g||!D?[uu(m)]:oM(m)),z=M!=="none";!S&&z&&Y.push(...mM(m,D,M,O));const U=[m,...Y],_=await x.detectOverflow(l,y),B=[];let H=((t=u.flip)==null?void 0:t.overflows)||[];if(v&&B.push(_[N]),b){const G=iM(o,d,O);B.push(_[G[0]],_[G[1]])}if(H=[...H,{placement:o,overflows:B}],!B.every(G=>G<=0)){var Q,E;const G=(((Q=u.flip)==null?void 0:Q.index)||0)+1,J=U[G];if(J&&(!(b==="alignment"?k!==ns(J):!1)||H.every(R=>ns(R.placement)===k?R.overflows[0]>0:!0)))return{data:{index:G,overflows:H},reset:{placement:J}};let F=(E=H.filter(A=>A.overflows[0]<=0).sort((A,R)=>A.overflows[1]-R.overflows[1])[0])==null?void 0:E.placement;if(!F)switch(w){case"bestFit":{var le;const A=(le=H.filter(R=>{if(z){const ce=ns(R.placement);return ce===k||ce==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(ce=>ce>0).reduce((ce,ue)=>ce+ue,0)]).sort((R,ce)=>R[1]-ce[1])[0])==null?void 0:le[0];A&&(F=A);break}case"initialPlacement":F=m;break}if(o!==F)return{reset:{placement:F}}}return{}}}},SM=new Set(["left","top"]);async function CM(s,l){const{placement:r,platform:t,elements:o}=s,u=await(t.isRTL==null?void 0:t.isRTL(o.floating)),d=gl(r),m=Xi(r),x=ns(r)==="y",p=SM.has(d)?-1:1,v=u&&x?-1:1,b=Au(l,s);let{mainAxis:S,crossAxis:w,alignmentAxis:M}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return m&&typeof M=="number"&&(w=m==="end"?M*-1:M),x?{x:w*v,y:S*p}:{x:S*p,y:w*v}}const DM=function(s){return s===void 0&&(s=0),{name:"offset",options:s,async fn(l){var r,t;const{x:o,y:u,placement:d,middlewareData:m}=l,x=await CM(l,s);return d===((r=m.offset)==null?void 0:r.placement)&&(t=m.arrow)!=null&&t.alignmentOffset?{}:{x:o+x.x,y:u+x.y,data:{...x,placement:d}}}}};function Gy(s){const l=Ba(s);let r=parseFloat(l.width)||0,t=parseFloat(l.height)||0;const o=vn(s),u=o?s.offsetWidth:r,d=o?s.offsetHeight:t,m=cu(r)!==u||cu(t)!==d;return m&&(r=u,t=d),{width:r,height:t,$:m}}function mp(s){return aa(s)?s:s.contextElement}function cl(s){const l=mp(s);if(!vn(l))return hn(1);const r=l.getBoundingClientRect(),{width:t,height:o,$:u}=Gy(l);let d=(u?cu(r.width):r.width)/t,m=(u?cu(r.height):r.height)/o;return(!d||!Number.isFinite(d))&&(d=1),(!m||!Number.isFinite(m))&&(m=1),{x:d,y:m}}const kM=hn(0);function Qy(s){const l=Da(s);return!cp()||!l.visualViewport?kM:{x:l.visualViewport.offsetLeft,y:l.visualViewport.offsetTop}}function MM(s,l,r){return l===void 0&&(l=!1),!r||l&&r!==Da(s)?!1:l}function cs(s,l,r,t){l===void 0&&(l=!1),r===void 0&&(r=!1);const o=s.getBoundingClientRect(),u=mp(s);let d=hn(1);l&&(t?aa(t)&&(d=cl(t)):d=cl(s));const m=MM(u,r,t)?Qy(u):hn(0);let x=(o.left+m.x)/d.x,p=(o.top+m.y)/d.y,v=o.width/d.x,b=o.height/d.y;if(u){const S=Da(u),w=t&&aa(t)?Da(t):t;let M=S,D=_f(M);for(;D&&t&&w!==M;){const y=cl(D),N=D.getBoundingClientRect(),k=Ba(D),g=N.left+(D.clientLeft+parseFloat(k.paddingLeft))*y.x,O=N.top+(D.clientTop+parseFloat(k.paddingTop))*y.y;x*=y.x,p*=y.y,v*=y.x,b*=y.y,x+=g,p+=O,M=Da(D),D=_f(M)}}return du({width:v,height:b,x,y:p})}function Tu(s,l){const r=Mu(s).scrollLeft;return l?l.left+r:cs(Nn(s)).left+r}function Ky(s,l){const r=s.getBoundingClientRect(),t=r.left+l.scrollLeft-Tu(s,r),o=r.top+l.scrollTop;return{x:t,y:o}}function AM(s){let{elements:l,rect:r,offsetParent:t,strategy:o}=s;const u=o==="fixed",d=Nn(t),m=l?ku(l.floating):!1;if(t===d||m&&u)return r;let x={scrollLeft:0,scrollTop:0},p=hn(1);const v=hn(0),b=vn(t);if((b||!b&&!u)&&((kl(t)!=="body"||Ki(d))&&(x=Mu(t)),vn(t))){const w=cs(t);p=cl(t),v.x=w.x+t.clientLeft,v.y=w.y+t.clientTop}const S=d&&!b&&!u?Ky(d,x):hn(0);return{width:r.width*p.x,height:r.height*p.y,x:r.x*p.x-x.scrollLeft*p.x+v.x+S.x,y:r.y*p.y-x.scrollTop*p.y+v.y+S.y}}function TM(s){return Array.from(s.getClientRects())}function EM(s){const l=Nn(s),r=Mu(s),t=s.ownerDocument.body,o=is(l.scrollWidth,l.clientWidth,t.scrollWidth,t.clientWidth),u=is(l.scrollHeight,l.clientHeight,t.scrollHeight,t.clientHeight);let d=-r.scrollLeft+Tu(s);const m=-r.scrollTop;return Ba(t).direction==="rtl"&&(d+=is(l.clientWidth,t.clientWidth)-o),{width:o,height:u,x:d,y:m}}const Z0=25;function _M(s,l){const r=Da(s),t=Nn(s),o=r.visualViewport;let u=t.clientWidth,d=t.clientHeight,m=0,x=0;if(o){u=o.width,d=o.height;const v=cp();(!v||v&&l==="fixed")&&(m=o.offsetLeft,x=o.offsetTop)}const p=Tu(t);if(p<=0){const v=t.ownerDocument,b=v.body,S=getComputedStyle(b),w=v.compatMode==="CSS1Compat"&&parseFloat(S.marginLeft)+parseFloat(S.marginRight)||0,M=Math.abs(t.clientWidth-b.clientWidth-w);M<=Z0&&(u-=M)}else p<=Z0&&(u+=p);return{width:u,height:d,x:m,y:x}}const OM=new Set(["absolute","fixed"]);function RM(s,l){const r=cs(s,!0,l==="fixed"),t=r.top+s.clientTop,o=r.left+s.clientLeft,u=vn(s)?cl(s):hn(1),d=s.clientWidth*u.x,m=s.clientHeight*u.y,x=o*u.x,p=t*u.y;return{width:d,height:m,x,y:p}}function J0(s,l,r){let t;if(l==="viewport")t=_M(s,r);else if(l==="document")t=EM(Nn(s));else if(aa(l))t=RM(l,r);else{const o=Qy(s);t={x:l.x-o.x,y:l.y-o.y,width:l.width,height:l.height}}return du(t)}function Xy(s,l){const r=Ar(s);return r===l||!aa(r)||vl(r)?!1:Ba(r).position==="fixed"||Xy(r,l)}function LM(s,l){const r=l.get(s);if(r)return r;let t=Ui(s,[],!1).filter(m=>aa(m)&&kl(m)!=="body"),o=null;const u=Ba(s).position==="fixed";let d=u?Ar(s):s;for(;aa(d)&&!vl(d);){const m=Ba(d),x=op(d);!x&&m.position==="fixed"&&(o=null),(u?!x&&!o:!x&&m.position==="static"&&!!o&&OM.has(o.position)||Ki(d)&&!x&&Xy(s,d))?t=t.filter(v=>v!==d):o=m,d=Ar(d)}return l.set(s,t),t}function IM(s){let{element:l,boundary:r,rootBoundary:t,strategy:o}=s;const d=[...r==="clippingAncestors"?ku(l)?[]:LM(l,this._c):[].concat(r),t],m=d[0],x=d.reduce((p,v)=>{const b=J0(l,v,o);return p.top=is(b.top,p.top),p.right=bl(b.right,p.right),p.bottom=bl(b.bottom,p.bottom),p.left=is(b.left,p.left),p},J0(l,m,o));return{width:x.right-x.left,height:x.bottom-x.top,x:x.left,y:x.top}}function PM(s){const{width:l,height:r}=Gy(s);return{width:l,height:r}}function zM(s,l,r){const t=vn(l),o=Nn(l),u=r==="fixed",d=cs(s,!0,u,l);let m={scrollLeft:0,scrollTop:0};const x=hn(0);function p(){x.x=Tu(o)}if(t||!t&&!u)if((kl(l)!=="body"||Ki(o))&&(m=Mu(l)),t){const w=cs(l,!0,u,l);x.x=w.x+l.clientLeft,x.y=w.y+l.clientTop}else o&&p();u&&!t&&o&&p();const v=o&&!t&&!u?Ky(o,m):hn(0),b=d.left+m.scrollLeft-x.x-v.x,S=d.top+m.scrollTop-x.y-v.y;return{x:b,y:S,width:d.width,height:d.height}}function cf(s){return Ba(s).position==="static"}function eb(s,l){if(!vn(s)||Ba(s).position==="fixed")return null;if(l)return l(s);let r=s.offsetParent;return Nn(s)===r&&(r=r.ownerDocument.body),r}function Wy(s,l){const r=Da(s);if(ku(s))return r;if(!vn(s)){let o=Ar(s);for(;o&&!vl(o);){if(aa(o)&&!cf(o))return o;o=Ar(o)}return r}let t=eb(s,l);for(;t&&Kk(t)&&cf(t);)t=eb(t,l);return t&&vl(t)&&cf(t)&&!op(t)?r:t||eM(s)||r}const FM=async function(s){const l=this.getOffsetParent||Wy,r=this.getDimensions,t=await r(s.floating);return{reference:zM(s.reference,await l(s.floating),s.strategy),floating:{x:0,y:0,width:t.width,height:t.height}}};function BM(s){return Ba(s).direction==="rtl"}const HM={convertOffsetParentRelativeRectToViewportRelativeRect:AM,getDocumentElement:Nn,getClippingRect:IM,getOffsetParent:Wy,getElementRects:FM,getClientRects:TM,getDimensions:PM,getScale:cl,isElement:aa,isRTL:BM};function Zy(s,l){return s.x===l.x&&s.y===l.y&&s.width===l.width&&s.height===l.height}function YM(s,l){let r=null,t;const o=Nn(s);function u(){var m;clearTimeout(t),(m=r)==null||m.disconnect(),r=null}function d(m,x){m===void 0&&(m=!1),x===void 0&&(x=1),u();const p=s.getBoundingClientRect(),{left:v,top:b,width:S,height:w}=p;if(m||l(),!S||!w)return;const M=Nc(b),D=Nc(o.clientWidth-(v+S)),y=Nc(o.clientHeight-(b+w)),N=Nc(v),g={rootMargin:-M+"px "+-D+"px "+-y+"px "+-N+"px",threshold:is(0,bl(1,x))||1};let O=!0;function Y(z){const U=z[0].intersectionRatio;if(U!==x){if(!O)return d();U?d(!1,U):t=setTimeout(()=>{d(!1,1e-7)},1e3)}U===1&&!Zy(p,s.getBoundingClientRect())&&d(),O=!1}try{r=new IntersectionObserver(Y,{...g,root:o.ownerDocument})}catch{r=new IntersectionObserver(Y,g)}r.observe(s)}return d(!0),u}function qM(s,l,r,t){t===void 0&&(t={});const{ancestorScroll:o=!0,ancestorResize:u=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:m=typeof IntersectionObserver=="function",animationFrame:x=!1}=t,p=mp(s),v=o||u?[...p?Ui(p):[],...Ui(l)]:[];v.forEach(N=>{o&&N.addEventListener("scroll",r,{passive:!0}),u&&N.addEventListener("resize",r)});const b=p&&m?YM(p,r):null;let S=-1,w=null;d&&(w=new ResizeObserver(N=>{let[k]=N;k&&k.target===p&&w&&(w.unobserve(l),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var g;(g=w)==null||g.observe(l)})),r()}),p&&!x&&w.observe(p),w.observe(l));let M,D=x?cs(s):null;x&&y();function y(){const N=cs(s);D&&!Zy(D,N)&&r(),D=N,M=requestAnimationFrame(y)}return r(),()=>{var N;v.forEach(k=>{o&&k.removeEventListener("scroll",r),u&&k.removeEventListener("resize",r)}),b?.(),(N=w)==null||N.disconnect(),w=null,x&&cancelAnimationFrame(M)}}const UM=DM,$M=wM,tb=jM,VM=(s,l,r)=>{const t=new Map,o={platform:HM,...r},u={...o.platform,_c:t};return NM(s,l,{...o,platform:u})};var GM=typeof document<"u",QM=function(){},Gc=GM?j.useLayoutEffect:QM;function fu(s,l){if(s===l)return!0;if(typeof s!=typeof l)return!1;if(typeof s=="function"&&s.toString()===l.toString())return!0;let r,t,o;if(s&&l&&typeof s=="object"){if(Array.isArray(s)){if(r=s.length,r!==l.length)return!1;for(t=r;t--!==0;)if(!fu(s[t],l[t]))return!1;return!0}if(o=Object.keys(s),r=o.length,r!==Object.keys(l).length)return!1;for(t=r;t--!==0;)if(!{}.hasOwnProperty.call(l,o[t]))return!1;for(t=r;t--!==0;){const u=o[t];if(!(u==="_owner"&&s.$$typeof)&&!fu(s[u],l[u]))return!1}return!0}return s!==s&&l!==l}function Jy(s){return typeof window>"u"?1:(s.ownerDocument.defaultView||window).devicePixelRatio||1}function ab(s,l){const r=Jy(s);return Math.round(l*r)/r}function uf(s){const l=j.useRef(s);return Gc(()=>{l.current=s}),l}function KM(s){s===void 0&&(s={});const{placement:l="bottom",strategy:r="absolute",middleware:t=[],platform:o,elements:{reference:u,floating:d}={},transform:m=!0,whileElementsMounted:x,open:p}=s,[v,b]=j.useState({x:0,y:0,strategy:r,placement:l,middlewareData:{},isPositioned:!1}),[S,w]=j.useState(t);fu(S,t)||w(t);const[M,D]=j.useState(null),[y,N]=j.useState(null),k=j.useCallback(R=>{R!==z.current&&(z.current=R,D(R))},[]),g=j.useCallback(R=>{R!==U.current&&(U.current=R,N(R))},[]),O=u||M,Y=d||y,z=j.useRef(null),U=j.useRef(null),_=j.useRef(v),B=x!=null,H=uf(x),Q=uf(o),E=uf(p),le=j.useCallback(()=>{if(!z.current||!U.current)return;const R={placement:l,strategy:r,middleware:S};Q.current&&(R.platform=Q.current),VM(z.current,U.current,R).then(ce=>{const ue={...ce,isPositioned:E.current!==!1};G.current&&!fu(_.current,ue)&&(_.current=ue,Dg.flushSync(()=>{b(ue)}))})},[S,l,r,Q,E]);Gc(()=>{p===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,b(R=>({...R,isPositioned:!1})))},[p]);const G=j.useRef(!1);Gc(()=>(G.current=!0,()=>{G.current=!1}),[]),Gc(()=>{if(O&&(z.current=O),Y&&(U.current=Y),O&&Y){if(H.current)return H.current(O,Y,le);le()}},[O,Y,le,H,B]);const J=j.useMemo(()=>({reference:z,floating:U,setReference:k,setFloating:g}),[k,g]),F=j.useMemo(()=>({reference:O,floating:Y}),[O,Y]),A=j.useMemo(()=>{const R={position:r,left:0,top:0};if(!F.floating)return R;const ce=ab(F.floating,v.x),ue=ab(F.floating,v.y);return m?{...R,transform:"translate("+ce+"px, "+ue+"px)",...Jy(F.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ce,top:ue}},[r,m,F.floating,v.x,v.y]);return j.useMemo(()=>({...v,update:le,refs:J,elements:F,floatingStyles:A}),[v,le,J,F,A])}const XM=s=>{function l(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:s,fn(r){const{element:t,padding:o}=typeof s=="function"?s(r):s;return t&&l(t)?t.current!=null?tb({element:t.current,padding:o}).fn(r):{}:t?tb({element:t,padding:o}).fn(r):{}}}},WM=(s,l)=>({...UM(s),options:[s,l]}),ZM=(s,l)=>({...$M(s),options:[s,l]}),JM=(s,l)=>({...XM(s),options:[s,l]}),e4={...lg};let nb=!1,t4=0;const rb=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+t4++;function a4(){const[s,l]=j.useState(()=>nb?rb():void 0);return mu(()=>{s==null&&l(rb())},[]),j.useEffect(()=>{nb=!0},[]),s}const n4=e4.useId,e1=n4||a4,r4=j.forwardRef(function(l,r){const{context:{placement:t,elements:{floating:o},middlewareData:{arrow:u,shift:d}},width:m=14,height:x=7,tipRadius:p=0,strokeWidth:v=0,staticOffset:b,stroke:S,d:w,style:{transform:M,...D}={},...y}=l,N=e1(),[k,g]=j.useState(!1);if(mu(()=>{if(!o)return;Ba(o).direction==="rtl"&&g(!0)},[o]),!o)return null;const[O,Y]=t.split("-"),z=O==="top"||O==="bottom";let U=b;(z&&d!=null&&d.x||!z&&d!=null&&d.y)&&(U=null);const _=v*2,B=_/2,H=m/2*(p/-8+1),Q=x/2*p/4,E=!!w,le=U&&Y==="end"?"bottom":"top";let G=U&&Y==="end"?"right":"left";U&&k&&(G=Y==="end"?"left":"right");const J=u?.x!=null?U||u.x:"",F=u?.y!=null?U||u.y:"",A=w||"M0,0"+(" H"+m)+(" L"+(m-H)+","+(x-Q))+(" Q"+m/2+","+x+" "+H+","+(x-Q))+" Z",R={top:E?"rotate(180deg)":"",left:E?"rotate(90deg)":"rotate(-90deg)",bottom:E?"":"rotate(180deg)",right:E?"rotate(-90deg)":"rotate(90deg)"}[O];return n.jsxs("svg",{...y,"aria-hidden":!0,ref:r,width:E?m:m+_,height:m,viewBox:"0 0 "+m+" "+(x>m?x:m),style:{position:"absolute",pointerEvents:"none",[G]:J,[le]:F,[O]:z||E?"100%":"calc(100% - "+_/2+"px)",transform:[R,M].filter(ce=>!!ce).join(" "),...D},children:[_>0&&n.jsx("path",{clipPath:"url(#"+N+")",fill:"none",stroke:S,strokeWidth:_+(w?0:1),d:A}),n.jsx("path",{stroke:_&&!w?y.fill:"none",d:A}),n.jsx("clipPath",{id:N,children:n.jsx("rect",{x:-B,y:B*(E?-1:1),width:m+_,height:m})})]})});function s4(){const s=new Map;return{emit(l,r){var t;(t=s.get(l))==null||t.forEach(o=>o(r))},on(l,r){s.has(l)||s.set(l,new Set),s.get(l).add(r)},off(l,r){var t;(t=s.get(l))==null||t.delete(r)}}}const l4=j.createContext(null),i4=j.createContext(null),o4=()=>{var s;return((s=j.useContext(l4))==null?void 0:s.id)||null},c4=()=>j.useContext(i4);function u4(s){const{open:l=!1,onOpenChange:r,elements:t}=s,o=e1(),u=j.useRef({}),[d]=j.useState(()=>s4()),m=o4()!=null,[x,p]=j.useState(t.reference),v=gM((w,M,D)=>{u.current.openEvent=w?M:void 0,d.emit("openchange",{open:w,event:M,reason:D,nested:m}),r?.(w,M,D)}),b=j.useMemo(()=>({setPositionReference:p}),[]),S=j.useMemo(()=>({reference:x||t.reference||null,floating:t.floating||null,domReference:t.reference}),[x,t.reference,t.floating]);return j.useMemo(()=>({dataRef:u,open:l,onOpenChange:v,elements:S,events:d,floatingId:o,refs:b}),[l,v,S,d,o,b])}function d4(s){s===void 0&&(s={});const{nodeId:l}=s,r=u4({...s,elements:{reference:null,floating:null,...s.elements}}),t=s.rootContext||r,o=t.elements,[u,d]=j.useState(null),[m,x]=j.useState(null),v=o?.domReference||u,b=j.useRef(null),S=c4();mu(()=>{v&&(b.current=v)},[v]);const w=KM({...s,elements:{...o,...m&&{reference:m}}}),M=j.useCallback(g=>{const O=aa(g)?{getBoundingClientRect:()=>g.getBoundingClientRect(),getClientRects:()=>g.getClientRects(),contextElement:g}:g;x(O),w.refs.setReference(O)},[w.refs]),D=j.useCallback(g=>{(aa(g)||g===null)&&(b.current=g,d(g)),(aa(w.refs.reference.current)||w.refs.reference.current===null||g!==null&&!aa(g))&&w.refs.setReference(g)},[w.refs]),y=j.useMemo(()=>({...w.refs,setReference:D,setPositionReference:M,domReference:b}),[w.refs,D,M]),N=j.useMemo(()=>({...w.elements,domReference:v}),[w.elements,v]),k=j.useMemo(()=>({...w,...t,refs:y,elements:N,nodeId:l}),[w,y,N,l,t]);return mu(()=>{t.dataRef.current.floatingContext=k;const g=S?.nodesRef.current.find(O=>O.id===l);g&&(g.context=k)}),j.useMemo(()=>({...w,context:k,refs:y,elements:N}),[w,y,N,k])}var Rf=function(l,r){return Rf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(t[u]=o[u])},Rf(l,r)};function qt(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");Rf(s,l);function r(){this.constructor=s}s.prototype=l===null?Object.create(l):(r.prototype=l.prototype,new r)}var Re=function(){return Re=Object.assign||function(r){for(var t,o=1,u=arguments.length;o<u;o++){t=arguments[o];for(var d in t)Object.prototype.hasOwnProperty.call(t,d)&&(r[d]=t[d])}return r},Re.apply(this,arguments)};function fn(s,l,r){if(r||arguments.length===2)for(var t=0,o=l.length,u;t<o;t++)(u||!(t in l))&&(u||(u=Array.prototype.slice.call(l,0,t)),u[t]=l[t]);return s.concat(u||Array.prototype.slice.call(l))}var m4=function(s){var l=s.showTimeSelectOnly,r=l===void 0?!1:l,t=s.showTime,o=t===void 0?!1:t,u=s.className,d=s.children,m=s.inline,x=r?"Choose Time":"Choose Date".concat(o?" and Time":"");return ae.createElement("div",{className:u,"aria-label":x,role:m?void 0:"dialog","aria-modal":m?void 0:"true",translate:"no"},d)},f4=function(s,l){var r=j.useRef(null),t=j.useRef(s);j.useEffect(function(){t.current=s},[s]);var o=j.useCallback(function(u){var d,m=u.composed&&u.composedPath&&u.composedPath().find(function(x){return x instanceof Node})||u.target;r.current&&!r.current.contains(m)&&(l&&m instanceof HTMLElement&&m.classList.contains(l)||(d=t.current)===null||d===void 0||d.call(t,u))},[l]);return j.useEffect(function(){return document.addEventListener("mousedown",o),function(){document.removeEventListener("mousedown",o)}},[o]),r},Eu=function(s){var l=s.children,r=s.onClickOutside,t=s.className,o=s.containerRef,u=s.style,d=s.ignoreClass,m=f4(r,d);return ae.createElement("div",{className:t,style:u,ref:function(x){m.current=x,o&&(o.current=x)}},l)},jc=null,sb=!1;function t1(){if(sb)return jc;sb=!0;try{var s="date-fns-tz";jc=require(s)}catch{jc=null}return jc}function lb(s,l){if(!l)return s;var r=t1();return r?r.toZonedTime(s,l):s}function Yn(s,l){if(!l)return s;var r=t1();return r?r.fromZonedTime(s,l):s}var he;(function(s){s.ArrowUp="ArrowUp",s.ArrowDown="ArrowDown",s.ArrowLeft="ArrowLeft",s.ArrowRight="ArrowRight",s.PageUp="PageUp",s.PageDown="PageDown",s.Home="Home",s.End="End",s.Enter="Enter",s.Space=" ",s.Tab="Tab",s.Escape="Escape",s.Backspace="Backspace",s.X="x"})(he||(he={}));function a1(){var s=typeof window<"u"?window:globalThis;return s}var Wi=12;function Ve(s){if(s==null)return new Date;var l=typeof s=="string"?Ek(s):we(s);return fa(l)?l:new Date}function Wr(s,l,r,t,o){o===void 0&&(o=Ve());for(var u=yl(r)||yl(fp()),d=Array.isArray(l)?l:[l],m=0,x=d;m<x.length;m++){var p=x[m],v=Ck(s,p,o,{locale:u});if(fa(v)&&(!t||s===dt(v,p,r)))return v}if(!t&&s&&s.length>=8){var b=new Date(s);if(hl(b))return b}return null}function p4(s,l){if(l===void 0&&(l=Ve()),!s)return null;var r=s.match(/\b(1\d{3}|2\d{3})\b/);if(!r||!r[1])return null;var t=parseInt(r[1],10),o=s.match(/(?:^|[/\-\s])?(0?[1-9]|1[0-2])(?:[/\-\s]|$)/),u=o&&o[1]?parseInt(o[1],10)-1:l.getMonth();return new Date(t,u,1)}function fa(s){return hl(s)}function rs(s){return s==null?null:xn(s)&&hl(s)?s:null}function dt(s,l,r){if(r==="en")return $0(s,l,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var t=r?yl(r):void 0;return r&&!t&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),t=t||yl(fp()),$0(s,l,{locale:t,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function ma(s,l){var r=l.dateFormat,t=l.locale,o=Array.isArray(r)&&r.length>0?r[0]:r;return s&&dt(s,o,t)||""}var n1=" - ";function x4(s,l,r){if(!s&&!l)return"";var t=s?ma(s,r):"",o=l?ma(l,r):"",u=r.rangeSeparator||n1;return"".concat(t).concat(u).concat(o)}function h4(s,l){if(!s?.length)return"";var r=s[0]?ma(s[0],l):"";if(s.length===1)return r;if(s.length===2&&s[1]){var t=ma(s[1],l);return"".concat(r,", ").concat(t)}var o=s.length-1;return"".concat(r," (+").concat(o,")")}function qn(s,l){var r=l.hour,t=r===void 0?0:r,o=l.minute,u=o===void 0?0:o,d=l.second,m=d===void 0?0:d;return Uc($c(Vc(s,m),u),t)}function v4(s){return rp(s)}function b4(s,l){return dt(s,"ddd",l)}function Ri(s){return os(s)}function kr(s,l,r){var t=yl(l||fp());return Kn(s,{locale:t,weekStartsOn:r})}function Gn(s){return Oy(s)}function Li(s){return Cu(s)}function ib(s){return Af(s)}function ob(){return os(Ve())}function cb(s){return Ey(s)}function g4(s){return E5(s)}function y4(s){return _y(s)}function cn(s,l){return s&&l?Ak(s,l):!s&&!l}function ta(s,l){return s&&l?kk(s,l):!s&&!l}function pu(s,l){return s&&l?Mk(s,l):!s&&!l}function Ye(s,l){return s&&l?A5(s,l):!s&&!l}function ss(s,l){return s&&l?TD(s,l):!s&&!l}function ts(s,l,r){var t,o=os(l),u=Ey(r);try{t=qi(s,{start:o,end:u})}catch{t=!1}return t}function fp(){var s=a1();return s.__localeId__}function yl(s){if(typeof s=="string"){var l=a1();return l.__localeData__?l.__localeData__[s]:void 0}else return s}function N4(s,l,r){return l(dt(s,"EEEE",r))}function j4(s,l){return dt(s,"EEEEEE",l)}function w4(s,l){return dt(s,"EEE",l)}function pp(s,l){return dt(Sa(Ve(),s),"LLLL",l)}function r1(s,l){return dt(Sa(Ve(),s),"LLL",l)}function S4(s,l){return dt(sl(Ve(),s),"QQQ",l)}function Fa(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.excludeDateIntervals,m=r.includeDates,x=r.includeDateIntervals,p=r.filterDate,v=r.disabled;return v?!0:Zi(s,{minDate:t,maxDate:o})||u&&u.some(function(b){return b instanceof Date?Ye(s,b):Ye(s,b.date)})||d&&d.some(function(b){var S=b.start,w=b.end;return qi(s,{start:S,end:w})})||m&&!m.some(function(b){return Ye(s,b)})||x&&!x.some(function(b){var S=b.start,w=b.end;return qi(s,{start:S,end:w})})||p&&!p(Ve(s))||!1}function xp(s,l){var r=l===void 0?{}:l,t=r.excludeDates,o=r.excludeDateIntervals;return o&&o.length>0?o.some(function(u){var d=u.start,m=u.end;return qi(s,{start:d,end:m})}):t&&t.some(function(u){var d;return u instanceof Date?Ye(s,u):Ye(s,(d=u.date)!==null&&d!==void 0?d:new Date)})||!1}function s1(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.includeDates,m=r.filterDate;return Zi(s,{minDate:t?Oy(t):void 0,maxDate:o?_y(o):void 0})||u?.some(function(x){return ta(s,x instanceof Date?x:x.date)})||d&&!d.some(function(x){return ta(s,x)})||m&&!m(Ve(s))||!1}function wc(s,l,r,t){var o=Pe(s),u=pa(s),d=Pe(l),m=pa(l),x=Pe(t);return o===d&&o===x?u<=r&&r<=m:o<d?x===o&&u<=r||x===d&&m>=r||x<d&&x>o:!1}function C4(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.includeDates;return Zi(s,{minDate:t,maxDate:o})||u&&u.some(function(m){return ta(m instanceof Date?m:m.date,s)})||d&&!d.some(function(m){return ta(m,s)})||!1}function Sc(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.includeDates,m=r.filterDate,x=r.disabled;return x?!0:Zi(s,{minDate:t,maxDate:o})||u?.some(function(p){return pu(s,p instanceof Date?p:p.date)})||d&&!d.some(function(p){return pu(s,p)})||m&&!m(Ve(s))||!1}function Cc(s,l,r){if(!l||!r||!hl(l)||!hl(r))return!1;var t=Pe(l),o=Pe(r);return t<=s&&o>=s}function Qc(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.includeDates,m=r.filterDate,x=r.disabled;if(x)return!0;var p=new Date(s,0,1);return Zi(p,{minDate:t?Cu(t):void 0,maxDate:o?Ry(o):void 0})||u?.some(function(v){return cn(p,v instanceof Date?v:v.date)})||d&&!d.some(function(v){return cn(p,v)})||m&&!m(Ve(p))||!1}function Dc(s,l,r,t){var o=Pe(s),u=Cr(s),d=Pe(l),m=Cr(l),x=Pe(t);return o===d&&o===x?u<=r&&r<=m:o<d?x===o&&u<=r||x===d&&m>=r||x<d&&x>o:!1}function Zi(s,l){var r,t=l===void 0?{}:l,o=t.minDate,u=t.maxDate;return(r=o&&xl(s,o)<0||u&&xl(s,u)>0)!==null&&r!==void 0?r:!1}function ub(s,l){return l.some(function(r){return Qt(r)===Qt(s)&&Kt(r)===Kt(s)&&Dr(r)===Dr(s)})}function db(s,l){var r=l===void 0?{}:l,t=r.excludeTimes,o=r.includeTimes,u=r.filterTime;return t&&ub(s,t)||o&&!ub(s,o)||u&&!u(s)||!1}function mb(s,l){var r=l.minTime,t=l.maxTime;if(!r||!t)throw new Error("Both minTime and maxTime props required");var o=Ve();o=Uc(o,Qt(s)),o=$c(o,Kt(s)),o=Vc(o,Dr(s));var u=Ve();u=Uc(u,Qt(r)),u=$c(u,Kt(r)),u=Vc(u,Dr(r));var d=Ve();d=Uc(d,Qt(t)),d=$c(d,Kt(t)),d=Vc(d,Dr(t));var m;try{m=!qi(o,{start:u,end:d})}catch{m=!1}return m}function fb(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.includeDates,u=ls(s,1);return t&&su(t,u)>0||o&&o.every(function(d){return su(d,u)>0})||!1}function pb(s,l){var r=l===void 0?{}:l,t=r.maxDate,o=r.includeDates,u=Wa(s,1);return t&&su(u,t)>0||o&&o.every(function(d){return su(u,d)>0})||!1}function D4(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.includeDates,u=Cu(s),d=qy(u);return t&&lu(t,d)>0||o&&o.every(function(m){return lu(m,d)>0})||!1}function k4(s,l){var r=l===void 0?{}:l,t=r.maxDate,o=r.includeDates,u=Ry(s),d=np(u,1);return t&&lu(d,t)>0||o&&o.every(function(m){return lu(d,m)>0})||!1}function xb(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.includeDates,u=Mr(s,1);return t&&iu(t,u)>0||o&&o.every(function(d){return iu(d,u)>0})||!1}function M4(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.yearItemNumber,u=o===void 0?Wi:o,d=Li(Mr(s,u)),m=Un(d,u).endPeriod,x=t&&Pe(t);return x&&x>m||!1}function hb(s,l){var r=l===void 0?{}:l,t=r.maxDate,o=r.includeDates,u=Ka(s,1);return t&&iu(u,t)>0||o&&o.every(function(d){return iu(u,d)>0})||!1}function A4(s,l){var r=l===void 0?{}:l,t=r.maxDate,o=r.yearItemNumber,u=o===void 0?Wi:o,d=Ka(s,u),m=Un(d,u).startPeriod,x=t&&Pe(t);return x&&x<m||!1}function l1(s){var l=s.minDate,r=s.includeDates;if(r&&l){var t=r.filter(function(o){return xl(o,l)>=0});return F0(t)}else return r?F0(r):l}function i1(s){var l=s.maxDate,r=s.includeDates;if(r&&l){var t=r.filter(function(o){return xl(o,l)<=0});return z0(t)}else return r?z0(r):l}function vb(s,l){var r;s===void 0&&(s=[]),l===void 0&&(l="react-datepicker__day--highlighted");for(var t=new Map,o=0,u=s.length;o<u;o++){var d=s[o];if(xn(d)){var m=dt(d,"MM.dd.yyyy"),x=t.get(m)||[];x.includes(l)||(x.push(l),t.set(m,x))}else if(typeof d=="object"){var p=Object.keys(d),v=(r=p[0])!==null&&r!==void 0?r:"",b=d[v];if(typeof v=="string"&&Array.isArray(b))for(var S=0,w=b.length;S<w;S++){var M=b[S];if(M){var m=dt(M,"MM.dd.yyyy"),x=t.get(m)||[];x.includes(v)||(x.push(v),t.set(m,x))}}}}return t}function T4(s,l){return s.length!==l.length?!1:s.every(function(r,t){return r===l[t]})}function E4(s,l){s===void 0&&(s=[]),l===void 0&&(l="react-datepicker__day--holidays");var r=new Map;return s.forEach(function(t){var o=t.date,u=t.holidayName;if(xn(o)){var d=dt(o,"MM.dd.yyyy"),m=r.get(d)||{className:"",holidayNames:[]};if(!("className"in m&&m.className===l&&T4(m.holidayNames,[u]))){m.className=l;var x=m.holidayNames;m.holidayNames=x?fn(fn([],x,!0),[u],!1):[u],r.set(d,m)}}}),r}function _4(s,l,r,t,o){for(var u=o.length,d=[],m=0;m<u;m++){var x=s,p=o[m];p&&(x=C5(x,Qt(p)),x=Yi(x,Kt(p)),x=M5(x,Dr(p)));var v=Yi(s,(r+1)*t);Vn(x,l)&&mn(x,v)&&p!=null&&d.push(p)}return d}function tl(s){return s<10?"0".concat(s):"".concat(s)}function Un(s,l){l===void 0&&(l=Wi);var r=Math.ceil(Pe(s)/l)*l,t=r-(l-1);return{startPeriod:t,endPeriod:r}}function O4(s){var l=new Date(s.getFullYear(),s.getMonth(),s.getDate()),r=new Date(s.getFullYear(),s.getMonth(),s.getDate(),24);return Math.round((+r-+l)/36e5)}function bb(s){var l=s.getSeconds(),r=s.getMilliseconds();return we(s.getTime()-l*1e3-r)}function o1(s,l){return bb(s).getTime()===bb(l).getTime()}function gb(s){if(!xn(s))throw new Error("Invalid date");var l=new Date(s);return l.setHours(0,0,0,0),l}function df(s,l){if(!xn(s)||!xn(l))throw new Error("Invalid date received");var r=gb(s),t=gb(l);return mn(r,t)}function c1(s){return s.key===he.Space}var mf=(function(s){qt(l,s);function l(r){var t=s.call(this,r)||this;return t.inputRef=ae.createRef(),t.onTimeChange=function(o){var u,d;t.setState({time:o});var m=t.props.date,x=m instanceof Date&&!isNaN(+m),p=x?m:new Date;if(o?.includes(":")){var v=o.split(":"),b=v[0],S=v[1];p.setHours(Number(b)),p.setMinutes(Number(S))}(d=(u=t.props).onChange)===null||d===void 0||d.call(u,p)},t.renderTimeInput=function(){var o=t.state.time,u=t.props,d=u.date,m=u.timeString,x=u.customTimeInput;return x?j.cloneElement(x,{date:d,value:o,onChange:t.onTimeChange}):ae.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:t.inputRef,onClick:function(){var p;(p=t.inputRef.current)===null||p===void 0||p.focus()},required:!0,value:o,onChange:function(p){t.onTimeChange(p.target.value||m)}})},t.state={time:t.props.timeString},t}return l.getDerivedStateFromProps=function(r,t){return r.timeString!==t.time?{time:r.timeString}:null},l.prototype.render=function(){return ae.createElement("div",{className:"react-datepicker__input-time-container"},ae.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ae.createElement("div",{className:"react-datepicker-time__input-container"},ae.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},l})(j.Component),R4=(function(s){qt(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.dayEl=j.createRef(),r.handleClick=function(t){!r.isDisabled()&&r.props.onClick&&r.props.onClick(t)},r.handleMouseEnter=function(t){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(t)},r.handleOnKeyDown=function(t){var o,u,d=t.key;d===he.Space&&(t.preventDefault(),t.key=he.Enter),(u=(o=r.props).handleOnKeyDown)===null||u===void 0||u.call(o,t)},r.isSameDay=function(t){return Ye(r.props.day,t)},r.isKeyboardSelected=function(){var t;if(r.props.disabledKeyboardNavigation)return!1;var o=r.props.selectsMultiple?(t=r.props.selectedDates)===null||t===void 0?void 0:t.some(function(d){return r.isSameDayOrWeek(d)}):r.isSameDayOrWeek(r.props.selected),u=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!o&&r.isSameDayOrWeek(r.props.preSelection)&&!u},r.isDisabled=function(t){return t===void 0&&(t=r.props.day),Fa(t,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate,disabled:r.props.disabled})},r.isExcluded=function(){return xp(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return Ye(r.props.day,kr(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(t){return r.props.showWeekPicker&&Ye(t,kr(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(t){return r.isSameDay(t)||r.isSameWeek(t)},r.getHighLightedClass=function(){var t=r.props,o=t.day,u=t.highlightDates;if(!u)return!1;var d=dt(o,"MM.dd.yyyy");return u.get(d)},r.getHolidaysClass=function(){var t,o=r.props,u=o.day,d=o.holidays;if(!d)return[void 0];var m=dt(u,"MM.dd.yyyy");return d.has(m)?[(t=d.get(m))===null||t===void 0?void 0:t.className]:[void 0]},r.isInRange=function(){var t=r.props,o=t.day,u=t.startDate,d=t.endDate;return!u||!d?!1:ts(o,u,d)},r.isInSelectingRange=function(){var t,o=r.props,u=o.day,d=o.selectsStart,m=o.selectsEnd,x=o.selectsRange,p=o.selectsDisabledDaysInRange,v=o.startDate,b=o.swapRange,S=o.endDate,w=(t=r.props.selectingDate)!==null&&t!==void 0?t:r.props.preSelection;if(r.isAfterMonth()||r.isBeforeMonth()||!(d||m||x)||!w||!p&&r.isDisabled())return!1;if(d&&S&&(mn(w,S)||ss(w,S)))return ts(u,w,S);if(m&&v&&(Vn(w,v)||ss(w,v)))return ts(u,v,w);if(x&&v&&!S){if(ss(w,v)||Vn(w,v))return ts(u,v,w);if(b&&mn(w,v))return ts(u,w,v)}return!1},r.isSelectingRangeStart=function(){var t;if(!r.isInSelectingRange())return!1;var o=r.props,u=o.day,d=o.startDate,m=o.selectsStart,x=o.swapRange,p=o.selectsRange,v=(t=r.props.selectingDate)!==null&&t!==void 0?t:r.props.preSelection;return m?Ye(u,v):p&&x&&d&&v?Ye(u,mn(v,d)?v:d):Ye(u,d)},r.isSelectingRangeEnd=function(){var t;if(!r.isInSelectingRange())return!1;var o=r.props,u=o.day,d=o.endDate,m=o.selectsEnd,x=o.selectsRange,p=o.swapRange,v=o.startDate,b=(t=r.props.selectingDate)!==null&&t!==void 0?t:r.props.preSelection;return m?Ye(u,b):x&&p&&v&&b?Ye(u,mn(b,v)?v:b):x?Ye(u,b):Ye(u,d)},r.isRangeStart=function(){var t=r.props,o=t.day,u=t.startDate,d=t.endDate;return!u||!d?!1:Ye(u,o)},r.isRangeEnd=function(){var t=r.props,o=t.day,u=t.startDate,d=t.endDate;return!u||!d?!1:Ye(d,o)},r.isWeekend=function(){var t=DD(r.props.day);return t===0||t===6},r.isAfterMonth=function(){return r.props.month!==void 0&&(r.props.month+1)%12===pa(r.props.day)},r.isBeforeMonth=function(){return r.props.month!==void 0&&(pa(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(Ve())},r.isSelected=function(){var t;return r.props.selectsMultiple?(t=r.props.selectedDates)===null||t===void 0?void 0:t.some(function(o){return r.isSameDayOrWeek(o)}):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(t){var o=r.props.dayClassName?r.props.dayClassName(t):void 0;return Ot("react-datepicker__day",o,"react-datepicker__day--"+b4(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var t=r.props,o=t.day,u=t.ariaLabelPrefixWhenEnabled,d=u===void 0?"Choose":u,m=t.ariaLabelPrefixWhenDisabled,x=m===void 0?"Not available":m,p=r.isDisabled()||r.isExcluded()?x:d;return"".concat(p," ").concat(dt(o,"PPPP",r.props.locale))},r.getTitle=function(){var t=r.props,o=t.day,u=t.holidays,d=u===void 0?new Map:u,m=t.excludeDates,x=dt(o,"MM.dd.yyyy"),p=[];return d.has(x)&&p.push.apply(p,d.get(x).holidayNames),r.isExcluded()&&p.push(m?.filter(function(v){return v instanceof Date?Ye(v,o):Ye(v?.date,o)}).map(function(v){if(!(v instanceof Date))return v?.message})),p.join(", ")},r.getTabIndex=function(){var t=r.props.selected,o=r.props.preSelection,u=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(t)&&Ye(o,t))?0:-1;return u},r.handleFocusDay=function(){var t;r.shouldFocusDay()&&((t=r.dayEl.current)===null||t===void 0||t.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(V0(r.props.day),r.props.day):V0(r.props.day)},r.render=function(){return ae.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"gridcell",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&ae.createElement("span",{className:"overlay"},r.getTitle()))},r}return l.prototype.componentDidMount=function(){this.handleFocusDay()},l.prototype.componentDidUpdate=function(){this.handleFocusDay()},l.prototype.shouldFocusDay=function(){var r=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(r=!1),this.isDayActiveElement()&&(r=!0),this.isDuplicateDay()&&(r=!1)),r},l.prototype.isDayActiveElement=function(){var r,t,o;return((t=(r=this.props.containerRef)===null||r===void 0?void 0:r.current)===null||t===void 0?void 0:t.contains(document.activeElement))&&((o=document.activeElement)===null||o===void 0?void 0:o.classList.contains("react-datepicker__day"))},l.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},l})(j.Component),L4=(function(s){qt(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.weekNumberEl=j.createRef(),r.handleClick=function(t){r.props.onClick&&r.props.onClick(t)},r.handleOnKeyDown=function(t){var o,u,d=t.key;d===he.Space&&(t.preventDefault(),t.key=he.Enter),(u=(o=r.props).handleOnKeyDown)===null||u===void 0||u.call(o,t)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!Ye(r.props.date,r.props.selected)&&Ye(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||Ye(r.props.date,r.props.selected)&&Ye(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(t){var o=!1;r.getTabIndex()===0&&!t?.isInputFocused&&Ye(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(o=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(o=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(o=!0)),o&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return Object.defineProperty(l,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),l.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},l.prototype.componentDidUpdate=function(r){this.handleFocusWeekNumber(r)},l.prototype.render=function(){var r=this.props,t=r.weekNumber,o=r.isWeekDisabled,u=r.ariaLabelPrefix,d=u===void 0?l.defaultProps.ariaLabelPrefix:u,m=r.onClick,x={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!m&&!o,"react-datepicker__week-number--selected":!!m&&Ye(this.props.date,this.props.selected)};return ae.createElement("div",{ref:this.weekNumberEl,className:Ot(x),"aria-label":"".concat(d," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},t)},l})(j.Component),I4=(function(s){qt(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.isDisabled=function(t){return Fa(t,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.handleDayClick=function(t,o){r.props.onDayClick&&r.props.onDayClick(t,o)},r.handleDayMouseEnter=function(t){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(t)},r.handleWeekClick=function(t,o,u){for(var d,m,x,p=new Date(t),v=0;v<7;v++){var b=new Date(t);b.setDate(b.getDate()+v);var S=!r.isDisabled(b);if(S){p=b;break}}typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(p,o,u),r.props.showWeekPicker&&r.handleDayClick(p,u),((d=r.props.shouldCloseOnSelect)!==null&&d!==void 0?d:l.defaultProps.shouldCloseOnSelect)&&((x=(m=r.props).setOpen)===null||x===void 0||x.call(m,!1))},r.formatWeekNumber=function(t){return r.props.formatWeekNumber?r.props.formatWeekNumber(t):v4(t)},r.isWeekDisabled=function(){for(var t=r.startOfWeek(),o=Qa(t,6),u=new Date(t);u<=o;){if(!r.isDisabled(u))return!1;u=Qa(u,1)}return!0},r.renderDays=function(){var t=r.startOfWeek(),o=[],u=r.formatWeekNumber(t);if(r.props.showWeekNumber){var d=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,t,u):void 0;o.push(ae.createElement(L4,Re({key:"W"},l.defaultProps,r.props,{weekNumber:u,isWeekDisabled:r.isWeekDisabled(),date:t,onClick:d})))}return o.concat([0,1,2,3,4,5,6].map(function(m){var x=Qa(t,m);return ae.createElement(R4,Re({},l.defaultProps,r.props,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:x.valueOf(),day:x,onClick:r.handleDayClick.bind(r,x),onMouseEnter:r.handleDayMouseEnter.bind(r,x)}))}))},r.startOfWeek=function(){return kr(r.props.day,r.props.locale,r.props.calendarStartDay)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!Ye(r.startOfWeek(),r.props.selected)&&Ye(r.startOfWeek(),r.props.preSelection)},r}return Object.defineProperty(l,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),l.prototype.render=function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":Ye(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},t=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return ae.createElement("div",{className:Ot(r,t),role:"row"},this.renderDays())},l})(j.Component),Mi,P4=6,ul={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},ff=(Mi={},Mi[ul.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Mi[ul.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Mi[ul.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Mi),kc=1;function yb(s,l){return s?ul.FOUR_COLUMNS:l?ul.TWO_COLUMNS:ul.THREE_COLUMNS}var z4=(function(s){qt(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.MONTH_REFS=fn([],Array(12),!0).map(function(){return j.createRef()}),r.QUARTER_REFS=fn([],Array(4),!0).map(function(){return j.createRef()}),r.isDisabled=function(t){return Fa(t,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate,disabled:r.props.disabled})},r.isExcluded=function(t){return xp(t,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(t,o){var u,d;(d=(u=r.props).onDayClick)===null||d===void 0||d.call(u,t,o,r.props.orderInDisplay)},r.handleDayMouseEnter=function(t){var o,u;(u=(o=r.props).onDayMouseEnter)===null||u===void 0||u.call(o,t)},r.handleMouseLeave=function(){var t,o;(o=(t=r.props).onMouseLeave)===null||o===void 0||o.call(t)},r.isRangeStartMonth=function(t){var o=r.props,u=o.day,d=o.startDate,m=o.endDate;return!d||!m?!1:ta(Sa(u,t),d)},r.isRangeStartQuarter=function(t){var o=r.props,u=o.day,d=o.startDate,m=o.endDate;return!d||!m?!1:pu(sl(u,t),d)},r.isRangeEndMonth=function(t){var o=r.props,u=o.day,d=o.startDate,m=o.endDate;return!d||!m?!1:ta(Sa(u,t),m)},r.isRangeEndQuarter=function(t){var o=r.props,u=o.day,d=o.startDate,m=o.endDate;return!d||!m?!1:pu(sl(u,t),m)},r.isInSelectingRangeMonth=function(t){var o,u=r.props,d=u.day,m=u.selectsStart,x=u.selectsEnd,p=u.selectsRange,v=u.startDate,b=u.endDate,S=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return!(m||x||p)||!S?!1:m&&b?wc(S,b,t,d):x&&v||p&&v&&!b?wc(v,S,t,d):!1},r.isSelectingMonthRangeStart=function(t){var o;if(!r.isInSelectingRangeMonth(t))return!1;var u=r.props,d=u.day,m=u.startDate,x=u.selectsStart,p=Sa(d,t),v=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return x?ta(p,v):ta(p,m)},r.isSelectingMonthRangeEnd=function(t){var o;if(!r.isInSelectingRangeMonth(t))return!1;var u=r.props,d=u.day,m=u.endDate,x=u.selectsEnd,p=u.selectsRange,v=Sa(d,t),b=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return x||p?ta(v,b):ta(v,m)},r.isInSelectingRangeQuarter=function(t){var o,u=r.props,d=u.day,m=u.selectsStart,x=u.selectsEnd,p=u.selectsRange,v=u.startDate,b=u.endDate,S=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return!(m||x||p)||!S?!1:m&&b?Dc(S,b,t,d):x&&v||p&&v&&!b?Dc(v,S,t,d):!1},r.isWeekInMonth=function(t){var o=r.props.day,u=Qa(t,6);return ta(t,o)||ta(u,o)},r.isCurrentMonth=function(t,o){return Pe(t)===Pe(Ve())&&o===pa(Ve())},r.isCurrentQuarter=function(t,o){return Pe(t)===Pe(Ve())&&o===Cr(Ve())},r.isSelectedMonth=function(t,o,u){return pa(u)===o&&Pe(t)===Pe(u)},r.isSelectMonthInList=function(t,o,u){return u.some(function(d){return r.isSelectedMonth(t,o,d)})},r.isSelectedQuarter=function(t,o,u){return Cr(u)===o&&Pe(t)===Pe(u)},r.isSelectQuarterInList=function(t,o,u){return u.some(function(d){return r.isSelectedQuarter(t,o,d)})},r.isMonthSelected=function(){var t=r.props,o=t.day,u=t.selected,d=t.selectedDates,m=t.selectsMultiple,x=pa(o);return m?d?.some(function(p){return r.isSelectedMonth(o,x,p)}):!!u&&r.isSelectedMonth(o,x,u)},r.isQuarterSelected=function(){var t=r.props,o=t.day,u=t.selected,d=t.selectedDates,m=t.selectsMultiple,x=Cr(o);return m?d?.some(function(p){return r.isSelectedQuarter(o,x,p)}):!!u&&r.isSelectedQuarter(o,x,u)},r.renderWeeks=function(){if(!fa(r.props.day))return[];for(var t=[],o=r.props.fixedHeight,u=0,d=!1,m=kr(Gn(r.props.day),r.props.locale,r.props.calendarStartDay),x=function(M){return r.props.showWeekPicker?kr(M,r.props.locale,r.props.calendarStartDay):r.props.preSelection},p=function(M){return r.props.showWeekPicker?kr(M,r.props.locale,r.props.calendarStartDay):r.props.selected},v=r.props.selected?p(r.props.selected):void 0,b=r.props.preSelection?x(r.props.preSelection):void 0;t.push(ae.createElement(I4,Re({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:u,day:m,month:pa(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:v,preSelection:b,showWeekNumber:r.props.showWeekNumbers}))),!d;){u++,m=ru(m,1);var S=o&&u>=P4,w=!o&&!r.isWeekInMonth(m);if(S||w)if(r.props.peekNextMonth)d=!0;else break}return t},r.onMonthClick=function(t,o){var u=r.isMonthDisabledForLabelDate(o),d=u.isDisabled,m=u.labelDate;d||r.handleDayClick(Gn(m),t)},r.onMonthMouseEnter=function(t){var o=r.isMonthDisabledForLabelDate(t),u=o.isDisabled,d=o.labelDate;u||r.handleDayMouseEnter(Gn(d))},r.handleMonthNavigation=function(t,o){var u,d,m,x;(d=(u=r.props).setPreSelection)===null||d===void 0||d.call(u,o),(x=(m=r.MONTH_REFS[t])===null||m===void 0?void 0:m.current)===null||x===void 0||x.focus()},r.handleKeyboardNavigation=function(t,o,u){var d,m=r.props,x=m.selected,p=m.preSelection,v=m.setPreSelection,b=m.minDate,S=m.maxDate,w=m.showFourColumnMonthYearPicker,M=m.showTwoColumnMonthYearPicker;if(p){var D=yb(w,M),y=r.getVerticalOffset(D),N=(d=ff[D])===null||d===void 0?void 0:d.grid,k=function(U,_,B){var H,Q,E=_,le=B;switch(U){case he.ArrowRight:E=Wa(_,kc),le=B===11?0:B+kc;break;case he.ArrowLeft:E=ls(_,kc),le=B===0?11:B-kc;break;case he.ArrowUp:E=ls(_,y),le=!((H=N?.[0])===null||H===void 0)&&H.includes(B)?B+12-y:B-y;break;case he.ArrowDown:E=Wa(_,y),le=!((Q=N?.[N.length-1])===null||Q===void 0)&&Q.includes(B)?B-12+y:B+y;break}return{newCalculatedDate:E,newCalculatedMonth:le}},g=function(U,_,B){for(var H=40,Q=U,E=!1,le=0,G=k(Q,_,B),J=G.newCalculatedDate,F=G.newCalculatedMonth;!E;){if(le>=H){J=_,F=B;break}if(b&&J<b){Q=he.ArrowRight;var A=k(Q,J,F);J=A.newCalculatedDate,F=A.newCalculatedMonth}if(S&&J>S){Q=he.ArrowLeft;var A=k(Q,J,F);J=A.newCalculatedDate,F=A.newCalculatedMonth}if(C4(J,r.props)){var A=k(Q,J,F);J=A.newCalculatedDate,F=A.newCalculatedMonth}else E=!0;le++}return{newCalculatedDate:J,newCalculatedMonth:F}};if(o===he.Enter){r.isMonthDisabled(u)||(r.onMonthClick(t,u),v?.(x));return}var O=g(o,p,u),Y=O.newCalculatedDate,z=O.newCalculatedMonth;switch(o){case he.ArrowRight:case he.ArrowLeft:case he.ArrowUp:case he.ArrowDown:r.handleMonthNavigation(z,Y);break}}},r.getVerticalOffset=function(t){var o,u;return(u=(o=ff[t])===null||o===void 0?void 0:o.verticalNavigationOffset)!==null&&u!==void 0?u:0},r.onMonthKeyDown=function(t,o){var u=r.props,d=u.disabledKeyboardNavigation,m=u.handleOnMonthKeyDown,x=t.key;x!==he.Tab&&t.preventDefault(),d||r.handleKeyboardNavigation(t,x,o),m&&m(t)},r.onQuarterClick=function(t,o){var u=sl(r.props.day,o);Sc(u,r.props)||r.handleDayClick(ib(u),t)},r.onQuarterMouseEnter=function(t){var o=sl(r.props.day,t);Sc(o,r.props)||r.handleDayMouseEnter(ib(o))},r.handleQuarterNavigation=function(t,o){var u,d,m,x;r.isDisabled(o)||r.isExcluded(o)||((d=(u=r.props).setPreSelection)===null||d===void 0||d.call(u,o),(x=(m=r.QUARTER_REFS[t-1])===null||m===void 0?void 0:m.current)===null||x===void 0||x.focus())},r.onQuarterKeyDown=function(t,o){var u,d,m=t.key;if(!r.props.disabledKeyboardNavigation)switch(m){case he.Enter:r.onQuarterClick(t,o),(d=(u=r.props).setPreSelection)===null||d===void 0||d.call(u,r.props.selected);break;case he.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(o===4?1:o+1,np(r.props.preSelection,1));break;case he.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(o===1?4:o-1,qy(r.props.preSelection));break}},r.isMonthDisabledForLabelDate=function(t){var o,u=r.props,d=u.day,m=u.disabled,x=u.minDate,p=u.maxDate,v=u.excludeDates,b=u.includeDates,S=Sa(d,t);return m?{isDisabled:!0,labelDate:Sa(d,t)}:{isDisabled:(o=(x||p||v||b)&&s1(S,r.props))!==null&&o!==void 0?o:!1,labelDate:S}},r.isMonthDisabled=function(t){var o=r.isMonthDisabledForLabelDate(t).isDisabled;return o},r.getMonthClassNames=function(t){var o=r.props,u=o.day,d=o.startDate,m=o.endDate,x=o.preSelection,p=o.monthClassName,v=p?p(Sa(u,t)):void 0,b=r.getSelection();return Ot("react-datepicker__month-text","react-datepicker__month-".concat(t),v,{"react-datepicker__month-text--disabled":r.isMonthDisabled(t),"react-datepicker__month-text--selected":b?r.isSelectMonthInList(u,t,b):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&x&&r.isSelectedMonth(u,t,x)&&!r.isMonthSelected()&&!r.isMonthDisabled(t),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(t),"react-datepicker__month-text--in-range":d&&m?wc(d,m,t,u):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(t),"react-datepicker__month-text--range-end":r.isRangeEndMonth(t),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(t),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(t),"react-datepicker__month-text--today":r.isCurrentMonth(u,t)})},r.getTabIndex=function(t){if(r.props.preSelection==null)return"-1";var o=pa(r.props.preSelection),u=r.isMonthDisabledForLabelDate(o).isDisabled,d=t===o&&!(u||r.props.disabledKeyboardNavigation)?"0":"-1";return d},r.getQuarterTabIndex=function(t){if(r.props.preSelection==null)return"-1";var o=Cr(r.props.preSelection),u=Sc(r.props.day,r.props),d=t===o&&!(u||r.props.disabledKeyboardNavigation)?"0":"-1";return d},r.getAriaLabel=function(t){var o=r.props,u=o.chooseDayAriaLabelPrefix,d=u===void 0?"Choose":u,m=o.disabledDayAriaLabelPrefix,x=m===void 0?"Not available":m,p=o.day,v=o.locale,b=Sa(p,t),S=r.isDisabled(b)||r.isExcluded(b)?x:d;return"".concat(S," ").concat(dt(b,"MMMM yyyy",v))},r.getQuarterClassNames=function(t){var o=r.props,u=o.day,d=o.startDate,m=o.endDate,x=o.minDate,p=o.maxDate,v=o.excludeDates,b=o.includeDates,S=o.filterDate,w=o.preSelection,M=o.disabledKeyboardNavigation,D=o.disabled,y=(x||p||v||b||S||D)&&Sc(sl(u,t),r.props),N=r.getSelection();return Ot("react-datepicker__quarter-text","react-datepicker__quarter-".concat(t),{"react-datepicker__quarter-text--disabled":y,"react-datepicker__quarter-text--selected":N?r.isSelectQuarterInList(u,t,N):void 0,"react-datepicker__quarter-text--keyboard-selected":!M&&w&&r.isSelectedQuarter(u,t,w)&&!r.isQuarterSelected()&&!y,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(t),"react-datepicker__quarter-text--in-range":d&&m?Dc(d,m,t,u):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(t),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(t),"react-datepicker__quarter-text--today":r.isCurrentQuarter(u,t)})},r.getMonthContent=function(t){var o=r.props,u=o.showFullMonthYearPicker,d=o.renderMonthContent,m=o.locale,x=o.day,p=r1(t,m),v=pp(t,m);return d?d(t,p,v,x):u?v:p},r.getQuarterContent=function(t){var o,u=r.props,d=u.renderQuarterContent,m=u.locale,x=S4(t,m);return(o=d?.(t,x))!==null&&o!==void 0?o:x},r.renderMonths=function(){var t,o=r.props,u=o.showTwoColumnMonthYearPicker,d=o.showFourColumnMonthYearPicker,m=o.day,x=o.selected,p=(t=ff[yb(d,u)])===null||t===void 0?void 0:t.grid;return p?.map(function(v,b){return ae.createElement("div",{className:"react-datepicker__month-wrapper",key:b},v.map(function(S,w){return ae.createElement("div",{ref:r.MONTH_REFS[S],key:w,onClick:function(M){r.onMonthClick(M,S)},onKeyDown:function(M){c1(M)&&(M.preventDefault(),M.key=he.Enter),r.onMonthKeyDown(M,S)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(S)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(S)}:void 0,tabIndex:Number(r.getTabIndex(S)),className:r.getMonthClassNames(S),"aria-disabled":r.isMonthDisabled(S),role:"option","aria-label":r.getAriaLabel(S),"aria-current":r.isCurrentMonth(m,S)?"date":void 0,"aria-selected":x?r.isSelectedMonth(m,S,x):void 0},r.getMonthContent(S))}))})},r.renderQuarters=function(){var t=r.props,o=t.day,u=t.selected,d=[1,2,3,4];return ae.createElement("div",{className:"react-datepicker__quarter-wrapper"},d.map(function(m,x){return ae.createElement("div",{key:x,ref:r.QUARTER_REFS[x],role:"option",onClick:function(p){r.onQuarterClick(p,m)},onKeyDown:function(p){r.onQuarterKeyDown(p,m)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(m)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(m)}:void 0,className:r.getQuarterClassNames(m),"aria-selected":u?r.isSelectedQuarter(o,m,u):void 0,tabIndex:Number(r.getQuarterTabIndex(m)),"aria-current":r.isCurrentQuarter(o,m)?"date":void 0},r.getQuarterContent(m))}))},r.getClassNames=function(){var t=r.props,o=t.selectingDate,u=t.selectsStart,d=t.selectsEnd,m=t.showMonthYearPicker,x=t.showQuarterYearPicker,p=t.showWeekPicker;return Ot("react-datepicker__month",{"react-datepicker__month--selecting-range":o&&(u||d)},{"react-datepicker__monthPicker":m},{"react-datepicker__quarterPicker":x},{"react-datepicker__weekPicker":p})},r}return l.prototype.getSelection=function(){var r=this.props,t=r.selected,o=r.selectedDates,u=r.selectsMultiple;if(u)return o;if(t)return[t]},l.prototype.render=function(){var r=this.props,t=r.showMonthYearPicker,o=r.showQuarterYearPicker,u=r.day,d=r.ariaLabelPrefix,m=d===void 0?"Month ":d,x=m?m.trim()+" ":"",p=fa(u)?"".concat(x).concat(dt(u,"MMMM, yyyy",this.props.locale)):"",v=t||o;return v?ae.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":p,role:"listbox"},t?this.renderMonths():this.renderQuarters()):ae.createElement("div",{role:"table"},this.props.dayNamesHeader&&ae.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),this.props.monthHeader&&ae.createElement("div",{role:"rowgroup"},this.props.monthHeader),ae.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":p,role:"rowgroup"},this.renderWeeks()),this.props.monthFooter&&ae.createElement("div",{role:"rowgroup"},this.props.monthFooter))},l})(j.Component),F4=(function(s){qt(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.monthOptionButtonsRef={},r.isSelectedMonth=function(t){return r.props.month===t},r.handleOptionKeyDown=function(t,o){var u;switch(o.key){case"Enter":o.preventDefault(),r.onChange(t);break;case"Escape":o.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{o.preventDefault();var d=(t+(o.key==="ArrowUp"?-1:1)+r.props.monthNames.length)%r.props.monthNames.length;(u=r.monthOptionButtonsRef[d])===null||u===void 0||u.focus();break}}},r.renderOptions=function(){return r.monthOptionButtonsRef={},r.props.monthNames.map(function(t,o){return ae.createElement("div",{ref:function(u){r.monthOptionButtonsRef[o]=u,r.isSelectedMonth(o)&&u?.focus()},role:"button",tabIndex:0,className:r.isSelectedMonth(o)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:t,onClick:r.onChange.bind(r,o),onKeyDown:r.handleOptionKeyDown.bind(r,o),"aria-selected":r.isSelectedMonth(o)?"true":void 0},r.isSelectedMonth(o)?ae.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",t)})},r.onChange=function(t){return r.props.onChange(t)},r.handleClickOutside=function(){return r.props.onCancel()},r}return l.prototype.render=function(){return ae.createElement(Eu,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},l})(j.Component),B4=(function(s){qt(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(t){return t.map(function(o,u){return ae.createElement("option",{key:o,value:u},o)})},r.renderSelectMode=function(t){return ae.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(o){return r.onChange(parseInt(o.target.value))}},r.renderSelectOptions(t))},r.renderReadView=function(t,o){return ae.createElement("button",{key:"read",type:"button",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},ae.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ae.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},o[r.props.month]))},r.renderDropdown=function(t){return ae.createElement(F4,Re({key:"dropdown"},r.props,{monthNames:t,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(t){var o=r.state.dropdownVisible,u=[r.renderReadView(!o,t)];return o&&u.unshift(r.renderDropdown(t)),u},r.onChange=function(t){r.toggleDropdown(),t!==r.props.month&&r.props.onChange(t)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return l.prototype.render=function(){var r=this,t=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(u){return r1(u,r.props.locale)}:function(u){return pp(u,r.props.locale)}),o;switch(this.props.dropdownMode){case"scroll":o=this.renderScrollMode(t);break;case"select":o=this.renderSelectMode(t);break}return ae.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},o)},l})(j.Component),Nb=5;function H4(s,l,r){for(var t=[],o=s??Mr(r,Nb),u=l??Ka(r,Nb),d=Gn(o),m=Gn(u);!Vn(d,m);)t.push(Ve(d)),d=Wa(d,1);return t}var Y4=(function(s){qt(l,s);function l(r){var t=s.call(this,r)||this;return t.renderOptions=function(){return t.state.monthYearsList.map(function(o){var u=Ef(o),d=cn(t.props.date,o)&&ta(t.props.date,o);return ae.createElement("div",{className:d?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:u,onClick:t.onChange.bind(t,u),"aria-selected":d?"true":void 0},d?ae.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",dt(o,t.props.dateFormat,t.props.locale))})},t.onChange=function(o){return t.props.onChange(o)},t.handleClickOutside=function(){t.props.onCancel()},t.state={monthYearsList:H4(t.props.minDate,t.props.maxDate,t.props.date)},t}return l.prototype.render=function(){var r=Ot({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ae.createElement(Eu,{className:r,onClickOutside:this.handleClickOutside},this.renderOptions())},l})(j.Component),jb=5,q4=(function(s){qt(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var t,o,u=(t=r.props.minDate)!==null&&t!==void 0?t:Mr(r.props.date,jb),d=(o=r.props.maxDate)!==null&&o!==void 0?o:Ka(r.props.date,jb),m=Gn(u),x=Gn(d),p=[];!Vn(m,x);){var v=Ef(m);p.push(ae.createElement("option",{key:v,value:v},dt(m,r.props.dateFormat,r.props.locale))),m=Wa(m,1)}return p},r.onSelectChange=function(t){r.onChange(parseInt(t.target.value))},r.renderSelectMode=function(){return ae.createElement("select",{value:Ef(Gn(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(t){var o=dt(r.props.date,r.props.dateFormat,r.props.locale);return ae.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},ae.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ae.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},o))},r.renderDropdown=function(){return ae.createElement(Y4,Re({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var t=r.state.dropdownVisible,o=[r.renderReadView(!t)];return t&&o.unshift(r.renderDropdown()),o},r.onChange=function(t){r.toggleDropdown();var o=Ve(t);cn(r.props.date,o)&&ta(r.props.date,o)||r.props.onChange(o)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return l.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return ae.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)},l})(j.Component),U4=(function(s){qt(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.state={height:null},r.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var t,o,u;r.list&&(r.list.scrollTop=(u=r.centerLi&&l.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-((o=(t=r.header)===null||t===void 0?void 0:t.clientHeight)!==null&&o!==void 0?o:0):r.list.clientHeight,r.centerLi))!==null&&u!==void 0?u:0)})},r.handleClick=function(t){var o,u;(r.props.minTime||r.props.maxTime)&&mb(t,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&db(t,r.props)||(u=(o=r.props).onChange)===null||u===void 0||u.call(o,t)},r.isSelectedTime=function(t){var o=rs(r.props.selected);return o&&o1(o,t)},r.isDisabledTime=function(t){return(r.props.minTime||r.props.maxTime)&&mb(t,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&db(t,r.props)},r.liClasses=function(t){var o,u=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(t):void 0];return r.isSelectedTime(t)&&u.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(t)&&u.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(Qt(t)*3600+Kt(t)*60+Dr(t))%(((o=r.props.intervals)!==null&&o!==void 0?o:l.defaultProps.intervals)*60)!==0&&u.push("react-datepicker__time-list-item--injected"),u.join(" ")},r.handleOnKeyDown=function(t,o){var u,d;t.key===he.Space&&(t.preventDefault(),t.key=he.Enter),(t.key===he.ArrowUp||t.key===he.ArrowLeft)&&t.target instanceof HTMLElement&&t.target.previousSibling&&(t.preventDefault(),t.target.previousSibling instanceof HTMLElement&&t.target.previousSibling.focus()),(t.key===he.ArrowDown||t.key===he.ArrowRight)&&t.target instanceof HTMLElement&&t.target.nextSibling&&(t.preventDefault(),t.target.nextSibling instanceof HTMLElement&&t.target.nextSibling.focus()),t.key===he.Enter&&r.handleClick(o),(d=(u=r.props).handleOnKeyDown)===null||d===void 0||d.call(u,t)},r.renderTimes=function(){for(var t,o=[],u=typeof r.props.format=="string"?r.props.format:"p",d=(t=r.props.intervals)!==null&&t!==void 0?t:l.defaultProps.intervals,m=rs(r.props.selected)||rs(r.props.openToDate)||Ve(),x=Ri(m),p=r.props.injectTimes&&r.props.injectTimes.sort(function(y,N){return y.getTime()-N.getTime()}),v=60*O4(m),b=v/d,S=0;S<b;S++){var w=Yi(x,S*d);if(o.push(w),p){var M=_4(x,w,S,d,p);o=o.concat(M)}}var D=o.reduce(function(y,N){return N.getTime()<=m.getTime()?N:y},o[0]);return o.map(function(y){return ae.createElement("li",{key:y.valueOf(),onClick:r.handleClick.bind(r,y),className:r.liClasses(y),ref:function(N){y===D&&(r.centerLi=N)},onKeyDown:function(N){r.handleOnKeyDown(N,y)},tabIndex:y===D?0:-1,role:"option","aria-selected":r.isSelectedTime(y)?"true":void 0,"aria-disabled":r.isDisabledTime(y)?"true":void 0},dt(y,u,r.props.locale))})},r.renderTimeCaption=function(){return r.props.showTimeCaption===!1?ae.createElement(ae.Fragment,null):ae.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(r.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(t){r.header=t}},ae.createElement("div",{className:"react-datepicker-time__header"},r.props.timeCaption))},r}return Object.defineProperty(l,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),l.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},l.prototype.componentWillUnmount=function(){var r;(r=this.resizeObserver)===null||r===void 0||r.disconnect()},l.prototype.observeDatePickerHeightChanges=function(){var r=this,t=this.props.monthRef;this.updateContainerHeight(),t&&(this.resizeObserver=new ResizeObserver(function(){r.updateContainerHeight()}),this.resizeObserver.observe(t))},l.prototype.updateContainerHeight=function(){if(this.props.monthRef&&this.header){var r=this.props.monthRef.clientHeight-this.header.clientHeight;this.state.height!==r&&this.setState({height:r})}},l.prototype.render=function(){var r=this,t,o=this.state.height;return ae.createElement("div",{className:"react-datepicker__time-container ".concat(((t=this.props.todayButton)!==null&&t!==void 0?t:l.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ae.createElement("div",{className:"react-datepicker__time"},ae.createElement("div",{className:"react-datepicker__time-box"},ae.createElement("ul",{className:"react-datepicker__time-list",ref:function(u){r.list=u},style:o?{height:o}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},l.calcCenterPosition=function(r,t){return t.offsetTop-(r/2-t.clientHeight/2)},l})(j.Component),wb=3,$4=(function(s){qt(l,s);function l(r){var t=s.call(this,r)||this;return t.YEAR_REFS=fn([],Array(t.props.yearItemNumber),!0).map(function(){return j.createRef()}),t.isDisabled=function(o){return Fa(o,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(o){return xp(o,{excludeDates:t.props.excludeDates})},t.selectingDate=function(){var o;return(o=t.props.selectingDate)!==null&&o!==void 0?o:t.props.preSelection},t.updateFocusOnPaginate=function(o){var u=function(){var d,m;(m=(d=t.YEAR_REFS[o])===null||d===void 0?void 0:d.current)===null||m===void 0||m.focus()};window.requestAnimationFrame(u)},t.handleYearClick=function(o,u){t.props.onDayClick&&t.props.onDayClick(o,u)},t.handleYearNavigation=function(o,u){var d,m,x,p,v=t.props,b=v.date,S=v.yearItemNumber;if(!(b===void 0||S===void 0)){var w=Un(b,S).startPeriod;t.isDisabled(u)||t.isExcluded(u)||((m=(d=t.props).setPreSelection)===null||m===void 0||m.call(d,u),o-w<0?t.updateFocusOnPaginate(S-(w-o)):o-w>=S?t.updateFocusOnPaginate(Math.abs(S-(o-w))):(p=(x=t.YEAR_REFS[o-w])===null||x===void 0?void 0:x.current)===null||p===void 0||p.focus())}},t.isSameDay=function(o,u){return Ye(o,u)},t.isCurrentYear=function(o){return o===Pe(Ve())},t.isRangeStart=function(o){return t.props.startDate&&t.props.endDate&&cn(on(Ve(),o),t.props.startDate)},t.isRangeEnd=function(o){return t.props.startDate&&t.props.endDate&&cn(on(Ve(),o),t.props.endDate)},t.isInRange=function(o){return Cc(o,t.props.startDate,t.props.endDate)},t.isInSelectingRange=function(o){var u=t.props,d=u.selectsStart,m=u.selectsEnd,x=u.selectsRange,p=u.startDate,v=u.endDate;return!(d||m||x)||!t.selectingDate()?!1:d&&v?Cc(o,t.selectingDate(),v):m&&p||x&&p&&!v?Cc(o,p,t.selectingDate()):!1},t.isSelectingRangeStart=function(o){var u;if(!t.isInSelectingRange(o))return!1;var d=t.props,m=d.startDate,x=d.selectsStart,p=on(Ve(),o);return x?cn(p,(u=t.selectingDate())!==null&&u!==void 0?u:null):cn(p,m??null)},t.isSelectingRangeEnd=function(o){var u;if(!t.isInSelectingRange(o))return!1;var d=t.props,m=d.endDate,x=d.selectsEnd,p=d.selectsRange,v=on(Ve(),o);return x||p?cn(v,(u=t.selectingDate())!==null&&u!==void 0?u:null):cn(v,m??null)},t.isKeyboardSelected=function(o){if(!(t.props.disabledKeyboardNavigation||t.props.date===void 0||t.props.preSelection==null)){var u=t.props,d=u.minDate,m=u.maxDate,x=u.excludeDates,p=u.includeDates,v=u.filterDate,b=u.selected,S=Li(on(t.props.date,o)),w=(d||m||x||p||v)&&Qc(o,t.props),M=!!b&&Ye(S,Li(b)),D=Ye(S,Li(t.props.preSelection));return!t.props.inline&&!M&&D&&!w}},t.isSelectedYear=function(o){var u=t.props,d=u.selectsMultiple,m=u.selected,x=u.selectedDates;return d?x?.some(function(p){return o===Pe(p)}):!!m&&o===Pe(m)},t.onYearClick=function(o,u){var d=t.props.date;d!==void 0&&t.handleYearClick(Li(on(d,u)),o)},t.onYearKeyDown=function(o,u){var d,m,x=o.key,p=t.props,v=p.date,b=p.yearItemNumber,S=p.handleOnKeyDown;if(x!==he.Tab&&o.preventDefault(),!t.props.disabledKeyboardNavigation)switch(x){case he.Enter:if(t.props.selected==null)break;t.onYearClick(o,u),(m=(d=t.props).setPreSelection)===null||m===void 0||m.call(d,t.props.selected);break;case he.ArrowRight:if(t.props.preSelection==null)break;t.handleYearNavigation(u+1,Ka(t.props.preSelection,1));break;case he.ArrowLeft:if(t.props.preSelection==null)break;t.handleYearNavigation(u-1,Mr(t.props.preSelection,1));break;case he.ArrowUp:{if(v===void 0||b===void 0||t.props.preSelection==null)break;var w=Un(v,b).startPeriod,M=wb,D=u-M;if(D<w){var y=b%M;u>=w&&u<w+y?M=y:M+=y,D=u-M}t.handleYearNavigation(D,Mr(t.props.preSelection,M));break}case he.ArrowDown:{if(v===void 0||b===void 0||t.props.preSelection==null)break;var N=Un(v,b).endPeriod,M=wb,D=u+M;if(D>N){var y=b%M;u<=N&&u>N-y?M=y:M+=y,D=u+M}t.handleYearNavigation(D,Ka(t.props.preSelection,M));break}}S&&S(o)},t.getYearClassNames=function(o){var u=t.props,d=u.date,m=u.disabled,x=u.minDate,p=u.maxDate,v=u.excludeDates,b=u.includeDates,S=u.filterDate,w=u.yearClassName;return Ot("react-datepicker__year-text","react-datepicker__year-".concat(o),d?w?.(on(d,o)):void 0,{"react-datepicker__year-text--selected":t.isSelectedYear(o),"react-datepicker__year-text--disabled":(x||p||v||b||S||m)&&Qc(o,t.props),"react-datepicker__year-text--keyboard-selected":t.isKeyboardSelected(o),"react-datepicker__year-text--range-start":t.isRangeStart(o),"react-datepicker__year-text--range-end":t.isRangeEnd(o),"react-datepicker__year-text--in-range":t.isInRange(o),"react-datepicker__year-text--in-selecting-range":t.isInSelectingRange(o),"react-datepicker__year-text--selecting-range-start":t.isSelectingRangeStart(o),"react-datepicker__year-text--selecting-range-end":t.isSelectingRangeEnd(o),"react-datepicker__year-text--today":t.isCurrentYear(o)})},t.getYearTabIndex=function(o){if(t.props.disabledKeyboardNavigation||t.props.preSelection==null)return"-1";var u=Pe(t.props.preSelection),d=Qc(o,t.props);return o===u&&!d?"0":"-1"},t.getYearContent=function(o){return t.props.renderYearContent?t.props.renderYearContent(o):o},t}return l.prototype.render=function(){var r=this,t=[],o=this.props,u=o.date,d=o.yearItemNumber,m=o.onYearMouseEnter,x=o.onYearMouseLeave;if(u===void 0)return null;for(var p=Un(u,d),v=p.startPeriod,b=p.endPeriod,S=function(D){t.push(ae.createElement("div",{ref:w.YEAR_REFS[D-v],onClick:function(y){r.onYearClick(y,D)},onKeyDown:function(y){c1(y)&&(y.preventDefault(),y.key=he.Enter),r.onYearKeyDown(y,D)},tabIndex:Number(w.getYearTabIndex(D)),className:w.getYearClassNames(D),onMouseEnter:w.props.usePointerEvent?void 0:function(y){return m(y,D)},onPointerEnter:w.props.usePointerEvent?function(y){return m(y,D)}:void 0,onMouseLeave:w.props.usePointerEvent?void 0:function(y){return x(y,D)},onPointerLeave:w.props.usePointerEvent?function(y){return x(y,D)}:void 0,key:D,"aria-current":w.isCurrentYear(D)?"date":void 0},w.getYearContent(D)))},w=this,M=v;M<=b;M++)S(M);return ae.createElement("div",{className:"react-datepicker__year"},ae.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},t))},l})(j.Component);function V4(s,l,r,t){for(var o=[],u=0;u<2*l+1;u++){var d=s+l-u,m=!0;r&&(m=Pe(r)<=d),t&&m&&(m=Pe(t)>=d),m&&o.push(d)}return o}var G4=(function(s){qt(l,s);function l(r){var t=s.call(this,r)||this;t.yearOptionButtonsRef={},t.handleOptionKeyDown=function(m,x){var p;switch(x.key){case"Enter":x.preventDefault(),t.onChange(m);break;case"Escape":x.preventDefault(),t.props.onCancel();break;case"ArrowUp":case"ArrowDown":{x.preventDefault();var v=m+(x.key==="ArrowUp"?1:-1);t.yearOptionButtonsRef[v]&&((p=t.yearOptionButtonsRef[v])===null||p===void 0||p.focus());break}}},t.renderOptions=function(){t.yearOptionButtonsRef={};var m=t.props.year,x=t.state.yearsList.map(function(b){return ae.createElement("div",{ref:function(S){t.yearOptionButtonsRef[b]=S,b===m&&S?.focus()},role:"button",tabIndex:0,className:m===b?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:b,onClick:t.onChange.bind(t,b),onKeyDown:t.handleOptionKeyDown.bind(t,b),"aria-selected":m===b?"true":void 0},m===b?ae.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",b)}),p=t.props.minDate?Pe(t.props.minDate):null,v=t.props.maxDate?Pe(t.props.maxDate):null;return(!v||!t.state.yearsList.find(function(b){return b===v}))&&x.unshift(ae.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:t.incrementYears},ae.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!p||!t.state.yearsList.find(function(b){return b===p}))&&x.push(ae.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:t.decrementYears},ae.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),x},t.onChange=function(m){t.props.onChange(m)},t.handleClickOutside=function(){t.props.onCancel()},t.shiftYears=function(m){var x=t.state.yearsList.map(function(p){return p+m});t.setState({yearsList:x})},t.incrementYears=function(){return t.shiftYears(1)},t.decrementYears=function(){return t.shiftYears(-1)};var o=r.yearDropdownItemNumber,u=r.scrollableYearDropdown,d=o||(u?10:5);return t.state={yearsList:V4(t.props.year,d,t.props.minDate,t.props.maxDate)},t.dropdownRef=j.createRef(),t}return l.prototype.componentDidMount=function(){var r=this.dropdownRef.current;if(r){var t=r.children?Array.from(r.children):null,o=t?t.find(function(u){return u.ariaSelected}):null;r.scrollTop=o&&o instanceof HTMLElement?o.offsetTop+(o.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}},l.prototype.render=function(){var r=Ot({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ae.createElement(Eu,{className:r,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},l})(j.Component),Q4=(function(s){qt(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var t=r.props.minDate?Pe(r.props.minDate):1900,o=r.props.maxDate?Pe(r.props.maxDate):2100,u=[],d=t;d<=o;d++)u.push(ae.createElement("option",{key:d,value:d},d));return u},r.onSelectChange=function(t){r.onChange(parseInt(t.target.value))},r.renderSelectMode=function(){return ae.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(t){return ae.createElement("button",{key:"read",type:"button",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:r.toggleDropdown},ae.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ae.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return ae.createElement(G4,Re({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var t=r.state.dropdownVisible,o=[r.renderReadView(!t)];return t&&o.unshift(r.renderDropdown()),o},r.onChange=function(t){r.toggleDropdown(),t!==r.props.year&&r.props.onChange(t)},r.toggleDropdown=function(t){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,t)})},r.handleYearChange=function(t,o){var u;(u=r.onSelect)===null||u===void 0||u.call(r,t,o),r.setOpen()},r.onSelect=function(t,o){var u,d;(d=(u=r.props).onSelect)===null||d===void 0||d.call(u,t,o)},r.setOpen=function(){var t,o;(o=(t=r.props).setOpen)===null||o===void 0||o.call(t,!0)},r}return l.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return ae.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)},l})(j.Component),K4=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],u1="react-datepicker-ignore-onclickoutside",X4=function(s){var l=(s.className||"").split(/\s+/);return K4.some(function(r){return l.indexOf(r)>=0})},W4=(function(s){qt(l,s);function l(r){var t=s.call(this,r)||this;return t.monthContainer=void 0,t.handleClickOutside=function(o){t.props.onClickOutside(o)},t.setClickOutsideRef=function(){return t.containerRef.current},t.handleDropdownFocus=function(o){var u,d;X4(o.target)&&((d=(u=t.props).onDropdownFocus)===null||d===void 0||d.call(u,o))},t.getDateInView=function(){var o=t.props,u=o.preSelection,d=o.selected,m=o.openToDate,x=l1(t.props),p=i1(t.props),v=Ve(),b=m||d||u;return b||(x&&mn(v,x)?x:p&&Vn(v,p)?p:v)},t.increaseMonth=function(){t.setState(function(o){var u=o.date;return{date:Wa(u,1)}},function(){return t.handleMonthChange(t.state.date)})},t.decreaseMonth=function(){t.setState(function(o){var u=o.date;return{date:ls(u,1)}},function(){return t.handleMonthChange(t.state.date)})},t.handleDayClick=function(o,u,d){t.props.onSelect(o,u,d),t.props.setPreSelection&&t.props.setPreSelection(o)},t.handleDayMouseEnter=function(o){t.setState({selectingDate:o}),t.props.onDayMouseEnter&&t.props.onDayMouseEnter(o)},t.handleMonthMouseLeave=function(){t.setState({selectingDate:void 0}),t.props.onMonthMouseLeave&&t.props.onMonthMouseLeave()},t.handleYearMouseEnter=function(o,u){t.setState({selectingDate:on(Ve(),u)}),t.props.onYearMouseEnter&&t.props.onYearMouseEnter(o,u)},t.handleYearMouseLeave=function(o,u){t.props.onYearMouseLeave&&t.props.onYearMouseLeave(o,u)},t.handleYearChange=function(o){var u,d,m,x;(d=(u=t.props).onYearChange)===null||d===void 0||d.call(u,o),t.setState({isRenderAriaLiveMessage:!0}),t.props.adjustDateOnChange&&(t.props.onSelect(o),(x=(m=t.props).setOpen)===null||x===void 0||x.call(m,!0)),t.props.setPreSelection&&t.props.setPreSelection(o)},t.getEnabledPreSelectionDateForMonth=function(o){if(!Fa(o,t.props))return o;for(var u=Gn(o),d=y4(o),m=T5(d,u),x=null,p=0;p<=m;p++){var v=Qa(u,p);if(!Fa(v,t.props)){x=v;break}}return x},t.handleMonthChange=function(o){var u,d,m,x=(u=t.getEnabledPreSelectionDateForMonth(o))!==null&&u!==void 0?u:o;t.handleCustomMonthChange(x),t.props.adjustDateOnChange&&(t.props.onSelect(x),(m=(d=t.props).setOpen)===null||m===void 0||m.call(d,!0)),t.props.setPreSelection&&t.props.setPreSelection(x)},t.handleCustomMonthChange=function(o){var u,d;(d=(u=t.props).onMonthChange)===null||d===void 0||d.call(u,o),t.setState({isRenderAriaLiveMessage:!0})},t.handleMonthYearChange=function(o){t.handleYearChange(o),t.handleMonthChange(o)},t.changeYear=function(o){t.setState(function(u){var d=u.date;return{date:on(d,Number(o))}},function(){return t.handleYearChange(t.state.date)})},t.changeMonth=function(o){t.setState(function(u){var d=u.date;return{date:Sa(d,Number(o))}},function(){var u,d;t.handleMonthChange(t.state.date),(d=(u=t.props).onMonthSelectedInChange)===null||d===void 0||d.call(u,0)})},t.changeMonthYear=function(o){t.setState(function(u){var d=u.date;return{date:on(Sa(d,pa(o)),Pe(o))}},function(){return t.handleMonthYearChange(t.state.date)})},t.header=function(o,u){if(o===void 0&&(o=t.state.date),u===void 0&&(u=0),!fa(o))return[];var d=t.props.disabled,m=kr(o,t.props.locale,t.props.calendarStartDay),x=[];return t.props.showWeekNumbers&&x.push(ae.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(d?"react-datepicker__day-name--disabled":""),role:"columnheader"},ae.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),ae.createElement("span",{"aria-hidden":"true"},t.props.weekLabel||"#"))),x.concat([0,1,2,3,4,5,6].map(function(p){var v=Qa(m,p),b=t.formatWeekday(v,t.props.locale),S=dt(v,"EEEE",t.props.locale),w=t.props.weekDayClassName?t.props.weekDayClassName(v):void 0;if(t.props.renderCustomDayName){var M=t.props.renderCustomDayName({day:v,shortName:b,fullName:S,locale:t.props.locale,customDayNameCount:u});return ae.createElement("div",{key:p,role:"columnheader",className:Ot("react-datepicker__day-name",w,d?"react-datepicker__day-name--disabled":"")},M)}return ae.createElement("div",{key:p,role:"columnheader",className:Ot("react-datepicker__day-name",w,d?"react-datepicker__day-name--disabled":"")},ae.createElement("span",{className:"react-datepicker__sr-only"},S),ae.createElement("span",{"aria-hidden":"true"},b))}))},t.formatWeekday=function(o,u){return t.props.formatWeekDay?N4(o,t.props.formatWeekDay,u):t.props.useWeekdaysShort?w4(o,u):j4(o,u)},t.decreaseYear=function(){t.setState(function(o){var u,d=o.date;return{date:Mr(d,t.props.showYearPicker?(u=t.props.yearItemNumber)!==null&&u!==void 0?u:l.defaultProps.yearItemNumber:1)}},function(){return t.handleYearChange(t.state.date)})},t.clearSelectingDate=function(){t.setState({selectingDate:void 0})},t.renderPreviousButton=function(){var o,u,d;if(!t.props.renderCustomHeader){var m=(o=t.props.monthsShown)!==null&&o!==void 0?o:l.defaultProps.monthsShown,x=t.props.showPreviousMonths?m-1:0,p=(u=t.props.monthSelectedIn)!==null&&u!==void 0?u:x,v=ls(t.state.date,p),b;switch(!0){case t.props.disabled:b=!0;break;case t.props.showMonthYearPicker:b=xb(t.state.date,t.props);break;case t.props.showYearPicker:b=M4(t.state.date,t.props);break;case t.props.showQuarterYearPicker:b=D4(t.state.date,t.props);break;default:b=fb(v,t.props);break}if(!(!((d=t.props.forceShowMonthNavigation)!==null&&d!==void 0?d:l.defaultProps.forceShowMonthNavigation)&&!t.props.showDisabledMonthNavigation&&b||t.props.showTimeSelectOnly)){var S=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],w=["react-datepicker__navigation","react-datepicker__navigation--previous"],M=t.decreaseMonth;(t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker)&&(M=t.decreaseYear),b&&t.props.showDisabledMonthNavigation&&(w.push("react-datepicker__navigation--previous--disabled"),M=void 0);var D=t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker,y=t.props,N=y.previousMonthButtonLabel,k=N===void 0?l.defaultProps.previousMonthButtonLabel:N,g=y.previousYearButtonLabel,O=g===void 0?l.defaultProps.previousYearButtonLabel:g,Y=t.props,z=Y.previousMonthAriaLabel,U=z===void 0?typeof k=="string"?k:"Previous Month":z,_=Y.previousYearAriaLabel,B=_===void 0?typeof O=="string"?O:"Previous Year":_;return ae.createElement("button",{type:"button",className:w.join(" "),onClick:M,onKeyDown:t.props.handleOnKeyDown,"aria-label":D?B:U},ae.createElement("span",{className:S.join(" ")},D?O:k))}}},t.increaseYear=function(){t.setState(function(o){var u,d=o.date;return{date:Ka(d,t.props.showYearPicker?(u=t.props.yearItemNumber)!==null&&u!==void 0?u:l.defaultProps.yearItemNumber:1)}},function(){return t.handleYearChange(t.state.date)})},t.renderNextButton=function(){var o;if(!t.props.renderCustomHeader){var u;switch(!0){case t.props.disabled:u=!0;break;case t.props.showMonthYearPicker:u=hb(t.state.date,t.props);break;case t.props.showYearPicker:u=A4(t.state.date,t.props);break;case t.props.showQuarterYearPicker:u=k4(t.state.date,t.props);break;default:u=pb(t.state.date,t.props);break}if(!(!((o=t.props.forceShowMonthNavigation)!==null&&o!==void 0?o:l.defaultProps.forceShowMonthNavigation)&&!t.props.showDisabledMonthNavigation&&u||t.props.showTimeSelectOnly)){var d=["react-datepicker__navigation","react-datepicker__navigation--next"],m=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];t.props.showTimeSelect&&d.push("react-datepicker__navigation--next--with-time"),t.props.todayButton&&d.push("react-datepicker__navigation--next--with-today-button");var x=t.increaseMonth;(t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker)&&(x=t.increaseYear),u&&t.props.showDisabledMonthNavigation&&(d.push("react-datepicker__navigation--next--disabled"),x=void 0);var p=t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker,v=t.props,b=v.nextMonthButtonLabel,S=b===void 0?l.defaultProps.nextMonthButtonLabel:b,w=v.nextYearButtonLabel,M=w===void 0?l.defaultProps.nextYearButtonLabel:w,D=t.props,y=D.nextMonthAriaLabel,N=y===void 0?typeof S=="string"?S:"Next Month":y,k=D.nextYearAriaLabel,g=k===void 0?typeof M=="string"?M:"Next Year":k;return ae.createElement("button",{type:"button",className:d.join(" "),onClick:x,onKeyDown:t.props.handleOnKeyDown,"aria-label":p?g:N},ae.createElement("span",{className:m.join(" ")},p?M:S))}}},t.renderCurrentMonth=function(o){o===void 0&&(o=t.state.date);var u=["react-datepicker__current-month"];return t.props.showYearDropdown&&u.push("react-datepicker__current-month--hasYearDropdown"),t.props.showMonthDropdown&&u.push("react-datepicker__current-month--hasMonthDropdown"),t.props.showMonthYearDropdown&&u.push("react-datepicker__current-month--hasMonthYearDropdown"),ae.createElement("h2",{className:u.join(" ")},fa(o)?dt(o,t.props.dateFormat,t.props.locale):"")},t.renderYearDropdown=function(o){if(o===void 0&&(o=!1),!(!t.props.showYearDropdown||o))return ae.createElement(Q4,Re({},l.defaultProps,t.props,{date:t.state.date,onChange:t.changeYear,year:Pe(t.state.date)}))},t.renderMonthDropdown=function(o){if(o===void 0&&(o=!1),!(!t.props.showMonthDropdown||o))return ae.createElement(B4,Re({},l.defaultProps,t.props,{month:pa(t.state.date),onChange:t.changeMonth}))},t.renderMonthYearDropdown=function(o){if(o===void 0&&(o=!1),!(!t.props.showMonthYearDropdown||o))return ae.createElement(q4,Re({},l.defaultProps,t.props,{date:t.state.date,onChange:t.changeMonthYear}))},t.handleTodayButtonClick=function(o){t.props.onSelect(ob(),o),t.props.setPreSelection&&t.props.setPreSelection(ob())},t.renderTodayButton=function(){if(!(!t.props.todayButton||t.props.showTimeSelectOnly))return ae.createElement("div",{className:"react-datepicker__today-button",onClick:t.handleTodayButtonClick},t.props.todayButton)},t.renderDayNamesHeader=function(o,u){return u===void 0&&(u=0),ae.createElement("div",{className:"react-datepicker__day-names",role:"row"},t.header(o,u))},t.renderDefaultHeader=function(o){var u=o.monthDate,d=o.i,m=ae.createElement("div",{className:Ot("react-datepicker__header",{"react-datepicker__header--has-time-select":t.props.showTimeSelect,"react-datepicker__header--middle":t.props.monthHeaderPosition==="middle","react-datepicker__header--bottom":t.props.monthHeaderPosition==="bottom"})},t.renderCurrentMonth(u),ae.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(t.props.dropdownMode),onFocus:t.handleDropdownFocus},t.renderMonthDropdown(d!==0),t.renderMonthYearDropdown(d!==0),t.renderYearDropdown(d!==0)));return t.props.monthHeaderPosition==="top"?m:ae.createElement("div",{className:"react-datepicker__header-wrapper"},t.renderPreviousButton()||null,t.renderNextButton()||null,m)},t.renderCustomHeader=function(o){var u,d,m=o.monthDate,x=o.i;if(t.props.showTimeSelect&&!t.state.monthContainer||t.props.showTimeSelectOnly)return null;var p=t.props,v=p.showYearPicker,b=p.yearItemNumber,S;if(v){var w=Un(m,b),M=w.startPeriod,D=w.endPeriod;S={startYear:M,endYear:D}}var y=fb(t.state.date,t.props),N=pb(t.state.date,t.props),k=xb(t.state.date,t.props),g=hb(t.state.date,t.props);return ae.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:t.props.onDropdownFocus},(d=(u=t.props).renderCustomHeader)===null||d===void 0?void 0:d.call(u,Re(Re(Re({},t.state),v&&{visibleYearsRange:S}),{customHeaderCount:x,monthDate:m,changeMonth:t.changeMonth,changeYear:t.changeYear,decreaseMonth:t.decreaseMonth,increaseMonth:t.increaseMonth,decreaseYear:t.decreaseYear,increaseYear:t.increaseYear,prevMonthButtonDisabled:y,nextMonthButtonDisabled:N,prevYearButtonDisabled:k,nextYearButtonDisabled:g})))},t.renderYearHeader=function(o){var u=o.monthDate,d=t.props,m=d.showYearPicker,x=d.yearItemNumber,p=x===void 0?l.defaultProps.yearItemNumber:x,v=Un(u,p),b=v.startPeriod,S=v.endPeriod;return ae.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},m?"".concat(b," - ").concat(S):Pe(u))},t.renderHeader=function(o){var u=o.monthDate,d=o.i,m=d===void 0?0:d,x={monthDate:u,i:m};switch(!0){case t.props.renderCustomHeader!==void 0:return t.renderCustomHeader(x);case(t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker):return t.renderYearHeader(x);default:return t.renderDefaultHeader(x)}},t.renderMonths=function(){var o,u;if(!(t.props.showTimeSelectOnly||t.props.showYearPicker)){for(var d=[],m=(o=t.props.monthsShown)!==null&&o!==void 0?o:l.defaultProps.monthsShown,x=t.props.showPreviousMonths?m-1:0,p=t.props.showMonthYearPicker||t.props.showQuarterYearPicker?Ka(t.state.date,x):ls(t.state.date,x),v=(u=t.props.monthSelectedIn)!==null&&u!==void 0?u:x,b=0;b<m;++b){var S=b-v+x,w=t.props.showMonthYearPicker||t.props.showQuarterYearPicker?Ka(p,S):Wa(p,S),M="month-".concat(b),D=b<m-1,y=b>0;d.push(ae.createElement("div",{key:M,ref:function(N){t.monthContainer=N??void 0},className:"react-datepicker__month-container"},t.props.monthHeaderPosition==="top"&&t.renderHeader({monthDate:w,i:b}),ae.createElement(z4,Re({},l.defaultProps,t.props,{containerRef:t.containerRef,ariaLabelPrefix:t.props.monthAriaLabelPrefix,day:w,onDayClick:t.handleDayClick,handleOnKeyDown:t.props.handleOnDayKeyDown,handleOnMonthKeyDown:t.props.handleOnKeyDown,onDayMouseEnter:t.handleDayMouseEnter,onMouseLeave:t.handleMonthMouseLeave,orderInDisplay:b,selectingDate:t.state.selectingDate,monthShowsDuplicateDaysEnd:D,monthShowsDuplicateDaysStart:y,dayNamesHeader:t.renderDayNamesHeader(w,b),monthHeader:t.props.monthHeaderPosition==="middle"?t.renderHeader({monthDate:w,i:b}):void 0,monthFooter:t.props.monthHeaderPosition==="bottom"?t.renderHeader({monthDate:w,i:b}):void 0}))))}return d}},t.renderYears=function(){if(!t.props.showTimeSelectOnly&&t.props.showYearPicker)return ae.createElement("div",{className:"react-datepicker__year--container"},t.renderHeader({monthDate:t.state.date}),ae.createElement($4,Re({},l.defaultProps,t.props,{selectingDate:t.state.selectingDate,date:t.state.date,onDayClick:t.handleDayClick,clearSelectingDate:t.clearSelectingDate,onYearMouseEnter:t.handleYearMouseEnter,onYearMouseLeave:t.handleYearMouseLeave})))},t.renderTimeSection=function(){if(t.props.showTimeSelect&&(t.state.monthContainer||t.props.showTimeSelectOnly))return ae.createElement(U4,Re({},l.defaultProps,t.props,{onChange:t.props.onTimeChange,format:t.props.timeFormat,intervals:t.props.timeIntervals,monthRef:t.state.monthContainer}))},t.renderInputTimeSection=function(){var o,u;if(t.props.showTimeInput){if(t.props.selectsRange){var d=t.props,m=d.startDate,x=d.endDate,p=m?new Date(m):void 0,v=p&&fa(p)&&!!m,b=v?"".concat(tl(p.getHours()),":").concat(tl(p.getMinutes())):"",S=x?new Date(x):void 0,w=S&&fa(S)&&!!x,M=w?"".concat(tl(S.getHours()),":").concat(tl(S.getMinutes())):"";return ae.createElement(ae.Fragment,null,ae.createElement(mf,Re({},l.defaultProps,t.props,{date:p,timeString:b,onChange:function(k){var g,O;(O=(g=t.props).onTimeChange)===null||O===void 0||O.call(g,k,"start")},timeInputLabel:((o=t.props.timeInputLabel)!==null&&o!==void 0?o:"Time")+" (Start)"})),ae.createElement(mf,Re({},l.defaultProps,t.props,{date:S,timeString:M,onChange:function(k){var g,O;(O=(g=t.props).onTimeChange)===null||O===void 0||O.call(g,k,"end")},timeInputLabel:((u=t.props.timeInputLabel)!==null&&u!==void 0?u:"Time")+" (End)"})))}var D=t.props.selected?new Date(t.props.selected):void 0,y=D&&fa(D)&&!!t.props.selected,N=y?"".concat(tl(D.getHours()),":").concat(tl(D.getMinutes())):"";return ae.createElement(mf,Re({},l.defaultProps,t.props,{date:D,timeString:N,onChange:function(k){var g,O;(O=(g=t.props).onTimeChange)===null||O===void 0||O.call(g,k)}}))}},t.renderAriaLiveRegion=function(){var o;if(!fa(t.state.date))return ae.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"});var u=Un(t.state.date,(o=t.props.yearItemNumber)!==null&&o!==void 0?o:l.defaultProps.yearItemNumber),d=u.startPeriod,m=u.endPeriod,x;return t.props.showYearPicker?x="".concat(d," - ").concat(m):t.props.showMonthYearPicker||t.props.showQuarterYearPicker?x=Pe(t.state.date):x="".concat(pp(pa(t.state.date),t.props.locale)," ").concat(Pe(t.state.date)),ae.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},t.state.isRenderAriaLiveMessage&&x)},t.renderChildren=function(){if(t.props.children)return ae.createElement("div",{className:"react-datepicker__children-container"},t.props.children)},t.containerRef=j.createRef(),t.state={date:t.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},t}return Object.defineProperty(l,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:u1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Wi,monthHeaderPosition:"top"}},enumerable:!1,configurable:!0}),l.prototype.componentDidMount=function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){r.setState({monthContainer:r.monthContainer})})())},l.prototype.componentDidUpdate=function(r){var t=this;if(this.props.preSelection&&fa(this.props.preSelection)&&(!Ye(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var o=!ta(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return o&&t.handleCustomMonthChange(t.state.date)})}else this.props.openToDate&&!Ye(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})},l.prototype.render=function(){var r=this.props.container||m4;return ae.createElement(Eu,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},ae.createElement("div",{style:{display:"contents"},ref:this.containerRef},ae.createElement(r,{className:Ot("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.props.monthHeaderPosition==="top"&&this.renderPreviousButton(),this.props.monthHeaderPosition==="top"&&this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},l})(j.Component),Z4=function(s){var l=s.icon,r=s.className,t=r===void 0?"":r,o=s.onClick,u="react-datepicker__calendar-icon";if(typeof l=="string")return ae.createElement("i",{className:"".concat(u," ").concat(l," ").concat(t),"aria-hidden":"true",onClick:o});if(ae.isValidElement(l)){var d=l;return ae.cloneElement(d,{className:"".concat(d.props.className||""," ").concat(u," ").concat(t),onClick:function(m){typeof d.props.onClick=="function"&&d.props.onClick(m),typeof o=="function"&&o(m)}})}return ae.createElement("svg",{className:"".concat(u," ").concat(t),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:o},ae.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},d1=(function(s){qt(l,s);function l(r){var t=s.call(this,r)||this;return t.portalRoot=null,t.el=document.createElement("div"),t}return l.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},l.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},l.prototype.render=function(){return j2.createPortal(this.props.children,this.el)},l})(j.Component),J4="[tabindex], a, button, input, select, textarea",e3=function(s){return(s instanceof HTMLAnchorElement||!s.disabled)&&s.tabIndex!==-1},m1=(function(s){qt(l,s);function l(r){var t=s.call(this,r)||this;return t.getTabChildren=function(){var o;return Array.prototype.slice.call((o=t.tabLoopRef.current)===null||o===void 0?void 0:o.querySelectorAll(J4),1,-1).filter(e3)},t.handleFocusStart=function(){var o=t.getTabChildren();o&&o.length>1&&o[o.length-1].focus()},t.handleFocusEnd=function(){var o=t.getTabChildren();o&&o.length>1&&o[0].focus()},t.tabLoopRef=j.createRef(),t}return l.prototype.render=function(){var r;return((r=this.props.enableTabLoop)!==null&&r!==void 0?r:l.defaultProps.enableTabLoop)?ae.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ae.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ae.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},l.defaultProps={enableTabLoop:!0},l})(j.Component);function t3(s){function l(r){var t,o=typeof r.hidePopper=="boolean"?r.hidePopper:!0,u=j.useRef(null),d=d4(Re({open:!o,whileElementsMounted:qM,placement:r.popperPlacement,middleware:fn([ZM({padding:15}),WM(10),JM({element:u})],(t=r.popperModifiers)!==null&&t!==void 0?t:[],!0)},r.popperProps)),m=Re(Re({},r),{hidePopper:o,popperProps:Re(Re({},d),{arrowRef:u})});return ae.createElement(s,Re({},m))}return l.displayName="withFloating(".concat(s.displayName||s.name||"Component",")"),l}var a3=function(s){var l=s.className,r=s.wrapperClassName,t=s.hidePopper,o=t===void 0?!0:t,u=s.popperComponent,d=s.targetComponent,m=s.enableTabLoop,x=s.popperOnKeyDown,p=s.portalId,v=s.portalHost,b=s.popperProps,S=s.showArrow,w=s.popperTargetRef,M=s.monthHeaderPosition;j.useEffect(function(){w?.current&&b.refs.setPositionReference(w.current)},[w,b.refs]);var D=void 0;if(!o){var y=Ot("react-datepicker-popper",!S&&"react-datepicker-popper-offset",M==="middle"&&"react-datepicker-popper--header-middle",M==="bottom"&&"react-datepicker-popper--header-bottom",l);D=ae.createElement(m1,{enableTabLoop:m},ae.createElement("div",{ref:b.refs.setFloating,style:b.floatingStyles,className:y,"data-placement":b.placement,onKeyDown:x},u,S&&ae.createElement(r4,{ref:b.arrowRef,context:b.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}s.popperContainer&&(D=j.createElement(s.popperContainer,{},D)),p&&!o&&(D=ae.createElement(d1,{portalId:p,portalHost:v},D));var N=Ot("react-datepicker-wrapper",r);return ae.createElement(ae.Fragment,null,ae.createElement("div",{ref:b.refs.setReference,className:N},d),D)},n3=t3(a3);function Sb(s,l){return s&&l?pa(s)!==pa(l)||Pe(s)!==Pe(l):s!==l}var pf="Date input not valid.",r3=(function(s){qt(l,s);function l(r){var t=s.call(this,r)||this;return t.calendar=null,t.input=null,t.getPreSelection=function(){var o=t.props.timeZone,u=t.props.openToDate?t.props.openToDate:t.props.selectsEnd&&t.props.startDate?t.props.startDate:t.props.selectsStart&&t.props.endDate?t.props.endDate:Ve();return o?lb(u,o):u},t.modifyHolidays=function(){var o;return(o=t.props.holidays)===null||o===void 0?void 0:o.reduce(function(u,d){var m=Wr(d.date,"yyyy-MM-dd",void 0,!1);return m?fn(fn([],u,!0),[Re(Re({},d),{date:m})],!1):u},[])},t.calcInitialState=function(){var o=t.props.timeZone,u=t.getPreSelection(),d=l1(t.props),m=i1(t.props),x=d&&mn(u,Ri(d))?d:m&&Vn(u,cb(m))?m:u,p=t.props.selectsRange?t.props.startDate:t.props.selected;return p&&o&&(p=lb(p,o)),{open:t.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:p??x,highlightDates:vb(t.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},t.getInputValue=function(){var o,u=t.props,d=u.locale,m=u.startDate,x=u.endDate,p=u.rangeSeparator,v=u.selected,b=u.selectedDates,S=u.selectsMultiple,w=u.selectsRange,M=u.formatMultipleDates,D=u.value,y=(o=t.props.dateFormat)!==null&&o!==void 0?o:l.defaultProps.dateFormat,N=t.state.inputValue;if(typeof D=="string")return D;if(typeof N=="string")return N;if(w)return x4(m,x,{dateFormat:y,locale:d,rangeSeparator:p});if(S){if(M){var k=function(g){return ma(g,{dateFormat:y,locale:d})};return M(b??[],k)}return h4(b??[],{dateFormat:y,locale:d})}return ma(v,{dateFormat:y,locale:d})},t.resetHiddenStatus=function(){t.setState(Re(Re({},t.state),{wasHidden:!1}))},t.setHiddenStatus=function(){t.setState(Re(Re({},t.state),{wasHidden:!0}))},t.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&t.setHiddenStatus()},t.clearPreventFocusTimeout=function(){t.preventFocusTimeout&&clearTimeout(t.preventFocusTimeout)},t.setFocus=function(){var o,u;(u=(o=t.input)===null||o===void 0?void 0:o.focus)===null||u===void 0||u.call(o,{preventScroll:!0})},t.setBlur=function(){var o,u;(u=(o=t.input)===null||o===void 0?void 0:o.blur)===null||u===void 0||u.call(o),t.cancelFocusInput()},t.deferBlur=function(){requestAnimationFrame(function(){t.setBlur()})},t.setOpen=function(o,u){u===void 0&&(u=!1),t.setState({open:o,preSelection:o&&t.state.open?t.state.preSelection:t.calcInitialState().preSelection,lastPreSelectChange:xf},function(){o||t.setState(function(d){return{focused:u?d.focused:!1}},function(){!u&&t.deferBlur(),t.setState({inputValue:null})})})},t.inputOk=function(){return xn(t.state.preSelection)},t.isCalendarOpen=function(){return t.props.open===void 0?t.state.open&&!t.props.disabled&&!t.props.readOnly:t.props.open},t.handleFocus=function(o){var u,d,m=t.state.wasHidden,x=m?t.state.open:!0;m&&t.resetHiddenStatus(),t.state.preventFocus||((d=(u=t.props).onFocus)===null||d===void 0||d.call(u,o),x&&!t.props.preventOpenOnFocus&&!t.props.readOnly&&t.setOpen(!0)),t.setState({focused:!0})},t.sendFocusBackToInput=function(){t.preventFocusTimeout&&t.clearPreventFocusTimeout(),t.setState({preventFocus:!0},function(){t.preventFocusTimeout=setTimeout(function(){t.setFocus(),t.setState({preventFocus:!1})})})},t.cancelFocusInput=function(){clearTimeout(t.inputFocusTimeout),t.inputFocusTimeout=void 0},t.deferFocusInput=function(){t.cancelFocusInput(),t.inputFocusTimeout=setTimeout(function(){return t.setFocus()},1)},t.handleDropdownFocus=function(){t.cancelFocusInput()},t.resetInputValue=function(){t.setState(Re(Re({},t.state),{inputValue:null}))},t.handleBlur=function(o){var u,d;(!t.state.open||t.props.withPortal||t.props.showTimeInput)&&((d=(u=t.props).onBlur)===null||d===void 0||d.call(u,o));var m=t.state.inputValue;if(typeof m=="string"&&m.length>0){var x=/[a-zA-Z0-9]/.test(m);!x&&t.props.selected&&t.setSelected(null,void 0,!0)}t.resetInputValue(),t.state.open&&t.props.open===!1&&t.setOpen(!1),t.setState({focused:!1})},t.handleCalendarClickOutside=function(o){var u,d;(d=(u=t.props).onClickOutside)===null||d===void 0||d.call(u,o),!t.props.inline&&!o.defaultPrevented&&t.setOpen(!1),t.props.withPortal&&o.preventDefault()},t.handleChange=function(){for(var o,u,d,m,x,p,v,b,S=[],w=0;w<arguments.length;w++)S[w]=arguments[w];var M=S[0];if(!(t.props.onChangeRaw&&(t.props.onChangeRaw.apply(t,S),!M||typeof M.isDefaultPrevented!="function"||M.isDefaultPrevented()))){t.setState({inputValue:M?.target instanceof HTMLInputElement?M.target.value:null,lastPreSelectChange:s3});var D=t.props,y=D.selectsRange,N=D.startDate,k=D.endDate,g=(o=t.props.dateFormat)!==null&&o!==void 0?o:l.defaultProps.dateFormat,O=(u=t.props.strictParsing)!==null&&u!==void 0?u:l.defaultProps.strictParsing,Y=M?.target instanceof HTMLInputElement?M.target.value:"";if(y){var z=t.props.rangeSeparator,U=z.trim(),_=Y.split(g.includes(U)?z:U,2).map(function(A){return A.trim()}),B=_[0],H=_[1],Q=Wr(B??"",g,t.props.locale,O),E=Q?Wr(H??"",g,t.props.locale,O):null,le=((d=rs(N))===null||d===void 0?void 0:d.getTime())!==Q?.getTime(),G=((m=rs(k))===null||m===void 0?void 0:m.getTime())!==E?.getTime();if(!le&&!G||Q&&Fa(Q,t.props)||E&&Fa(E,t.props))return;Q&&t.setState({preSelection:Q}),(p=(x=t.props).onChange)===null||p===void 0||p.call(x,[Q,E],M)}else{var J=Wr(Y,g,t.props.locale,O,(v=t.props.selected)!==null&&v!==void 0?v:void 0);if(J||!Y)t.setSelected(J,M,!0);else if(!t.props.inline){var F=p4(Y,(b=t.state.preSelection)!==null&&b!==void 0?b:void 0);F&&(!t.props.minDate||!mn(F,t.props.minDate))&&(!t.props.maxDate||!Vn(F,t.props.maxDate))&&t.setState({preSelection:F})}}}},t.handleSelect=function(o,u,d){var m;if(!t.props.readOnly){var x=t.props,p=x.selectsRange,v=x.startDate,b=x.endDate,S=x.locale,w=x.swapRange,M=(m=t.props.dateFormat)!==null&&m!==void 0?m:l.defaultProps.dateFormat,D=!p||v&&!b&&(w||!df(o,v));if(t.props.shouldCloseOnSelect&&!t.props.showTimeSelect&&D&&t.sendFocusBackToInput(),t.props.onChangeRaw){var y=ma(o,{dateFormat:M,locale:S});t.props.onChangeRaw(u,{date:o,formattedDate:y})}t.setSelected(o,u,!1,d),t.props.showDateSelect&&t.setState({isRenderAriaLiveMessage:!0}),!t.props.shouldCloseOnSelect||t.props.showTimeSelect?t.setPreSelection(o):D&&t.setOpen(!1)}},t.setSelected=function(o,u,d,m){var x,p,v=t.props.timeZone,b=o;if(b&&v&&(b=Yn(b,v)),t.props.showYearPicker){if(b!==null&&Qc(Pe(b),t.props))return}else if(t.props.showMonthYearPicker){if(b!==null&&s1(b,t.props))return}else if(b!==null&&Fa(b,t.props))return;var S=t.props,w=S.onChange,M=S.selectsRange,D=S.startDate,y=S.endDate,N=S.selectsMultiple,k=S.selectedDates,g=S.minTime,O=S.swapRange;if(!ss(t.props.selected,b)||t.props.allowSameDay||M||N)if(b!==null&&(t.props.selected&&(!d||!t.props.showTimeSelect&&!t.props.showTimeSelectOnly&&!t.props.showTimeInput)&&(b=qn(b,{hour:Qt(t.props.selected),minute:Kt(t.props.selected),second:Dr(t.props.selected)})),!d&&(t.props.showTimeSelect||t.props.showTimeSelectOnly)&&g&&(b=qn(b,{hour:g.getHours(),minute:g.getMinutes(),second:g.getSeconds()})),t.props.inline||t.setState({preSelection:b}),t.props.focusSelectedMonth||t.setState({monthSelectedIn:m})),M){var Y=w,z=!D&&!y,U=D&&!y,_=!D&&!!y,B=D&&y;z?Y?.([b,null],u):U?b===null?Y?.([null,null],u):df(b,D)?Y?.(O?[b,D]:[b,null],u):Y?.([D,b],u):_&&(b&&df(b,y)?Y?.([b,y],u):Y?.([b,null],u)),B&&Y?.([b,null],u)}else if(N){var H=w;if(b!==null)if(!k?.length)H?.([b],u);else{var Q=k.some(function(le){return Ye(le,b)});if(Q){var E=k.filter(function(le){return!Ye(le,b)});H?.(E,u)}else H?.(fn(fn([],k,!0),[b],!1),u)}}else w?.(b,u);d||((p=(x=t.props).onSelect)===null||p===void 0||p.call(x,b,u),t.setState({inputValue:null}))},t.setPreSelection=function(o){if(!t.props.readOnly){var u=xn(t.props.minDate),d=xn(t.props.maxDate),m=!0;if(o){var x=Ri(o);if(u&&d)m=ts(o,t.props.minDate,t.props.maxDate);else if(u){var p=Ri(t.props.minDate);m=Vn(o,p)||ss(x,p)}else if(d){var v=cb(t.props.maxDate);m=mn(o,v)||ss(x,v)}}m&&t.setState({preSelection:o})}},t.toggleCalendar=function(){t.setOpen(!t.state.open)},t.handleTimeChange=function(o,u){var d,m;if(!t.props.selectsMultiple){var x=t.props,p=x.selectsRange,v=x.startDate,b=x.endDate,S=x.onChange,w=x.timeZone;if(p){var M=S;if(u==="start"){if(v){var D=qn(v,{hour:Qt(o),minute:Kt(o)});t.setState({preSelection:D}),w&&(D=Yn(D,w)),M?.([D,b?w?Yn(b,w):b:null],void 0)}}else if(u==="end"){if(b){var y=qn(b,{hour:Qt(o),minute:Kt(o)});t.setState({preSelection:y}),w&&(y=Yn(y,w)),M?.([v?w?Yn(v,w):v:null,y],void 0)}}else{var N=v&&!b;if(N){var D=qn(v,{hour:Qt(o),minute:Kt(o)});t.setState({preSelection:D}),w&&(D=Yn(D,w)),M?.([D,null],void 0)}else if(v&&b){var y=qn(b,{hour:Qt(o),minute:Kt(o)});t.setState({preSelection:y}),w&&(y=Yn(y,w)),M?.([w?Yn(v,w):v,y],void 0)}else{var k=qn(t.getPreSelection(),{hour:Qt(o),minute:Kt(o)});t.setState({preSelection:k})}}}else{var g=t.props.selected?t.props.selected:t.getPreSelection(),k=t.props.selected?o:qn(g,{hour:Qt(o),minute:Kt(o)});t.setState({preSelection:k}),k&&w&&(k=Yn(k,w)),(m=(d=t.props).onChange)===null||m===void 0||m.call(d,k)}t.props.shouldCloseOnSelect&&!t.props.showTimeInput&&(t.sendFocusBackToInput(),t.setOpen(!1)),t.props.showTimeInput&&t.setOpen(!0),(t.props.showTimeSelectOnly||t.props.showTimeSelect)&&t.setState({isRenderAriaLiveMessage:!0}),t.setState({inputValue:null})}},t.onInputClick=function(){var o,u;!t.props.disabled&&!t.props.readOnly&&t.setOpen(!0),(u=(o=t.props).onInputClick)===null||u===void 0||u.call(o)},t.handleTimeOnlyArrowKey=function(o){var u,d,m,x,p=rs(t.props.selected)||t.state.preSelection||Ve(),v=(u=t.props.timeIntervals)!==null&&u!==void 0?u:30,b=(d=t.props.dateFormat)!==null&&d!==void 0?d:l.defaultProps.dateFormat,S=Array.isArray(b)?b[0]:b,w=Ri(p),M=Qt(p)*60+Kt(p),D=1440-v,y;if(o===he.ArrowUp){var N=Math.max(0,M-v);y=Yi(w,N)}else{var N=Math.min(D,M+v);y=Yi(w,N)}var k=dt(y,S||l.defaultProps.dateFormat,t.props.locale);if(t.setState({preSelection:y,inputValue:k}),!(t.props.selectsRange||t.props.selectsMultiple)){var g=t.props.selected?t.props.selected:t.getPreSelection(),O=t.props.selected?y:qn(g,{hour:Qt(y),minute:Kt(y)});(x=(m=t.props).onChange)===null||x===void 0||x.call(m,O),(t.props.showTimeSelectOnly||t.props.showTimeSelect)&&t.setState({isRenderAriaLiveMessage:!0}),requestAnimationFrame(function(){t.scrollToTimeOption(y)})}},t.handleTimeOnlyEnterKey=function(o){var u,d,m,x,p=o.target,v=p.value,b=(u=t.props.dateFormat)!==null&&u!==void 0?u:l.defaultProps.dateFormat,S=t.props.timeFormat||"p",w=t.state.preSelection||rs(t.props.selected)||Ve(),M=Wr(v,b,t.props.locale,(d=t.props.strictParsing)!==null&&d!==void 0?d:!1,w),D=w;if(M&&fa(M))D=M;else{var y=((m=t.calendar)===null||m===void 0?void 0:m.containerRef.current)instanceof Element&&t.calendar.containerRef.current.querySelector(".react-datepicker__time-list-item[tabindex='0']");if(y instanceof HTMLElement){var N=(x=y.textContent)===null||x===void 0?void 0:x.trim();if(N){var k=Wr(N,S,t.props.locale,!1,w);k&&fa(k)&&(D=k)}}}t.handleTimeChange(D),t.setOpen(!1),t.sendFocusBackToInput()},t.scrollToTimeOption=function(o){var u,d;if(!((u=t.calendar)===null||u===void 0)&&u.containerRef.current){for(var m=t.calendar.containerRef.current,x=Array.from(m.querySelectorAll(".react-datepicker__time-list-item")),p=null,v=1/0,b=t.props.timeFormat||"p",S=0,w=x;S<w.length;S++){var M=w[S],D=(d=M.textContent)===null||d===void 0?void 0:d.trim();if(D){var y=Wr(D,b,t.props.locale,!1,o);if(y&&fa(y)){if(o1(y,o)){p=M;break}var N=Math.abs(y.getTime()-o.getTime());N<v&&(v=N,p=M)}}}p&&(x.forEach(function(k){k.setAttribute("tabindex","-1")}),p.setAttribute("tabindex","0"),p.scrollIntoView({behavior:"smooth",block:"center"}))}},t.onInputKeyDown=function(o){var u,d,m,x,p,v;(d=(u=t.props).onKeyDown)===null||d===void 0||d.call(u,o);var b=o.key;if(!t.state.open&&!t.props.inline&&!t.props.preventOpenOnFocus){(b===he.ArrowDown||b===he.ArrowUp||b===he.Enter)&&((m=t.onInputClick)===null||m===void 0||m.call(t));return}if(t.state.open&&t.props.showTimeSelectOnly){if(b===he.ArrowDown||b===he.ArrowUp){o.preventDefault(),t.handleTimeOnlyArrowKey(b);return}if(b===he.Enter){o.preventDefault(),t.handleTimeOnlyEnterKey(o);return}}if(t.state.open){if(b===he.ArrowDown||b===he.ArrowUp){o.preventDefault();var S=t.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":t.props.showWeekPicker&&t.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':t.props.showFullMonthYearPicker||t.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',w=((x=t.calendar)===null||x===void 0?void 0:x.containerRef.current)instanceof Element&&t.calendar.containerRef.current.querySelector(S);w instanceof HTMLElement&&w.focus({preventScroll:!0});return}var M=Ve(t.state.preSelection);b===he.Enter?(o.preventDefault(),o.target.blur(),t.inputOk()&&t.state.lastPreSelectChange===xf?(t.handleSelect(M,o),!t.props.shouldCloseOnSelect&&t.setPreSelection(M)):t.setOpen(!1)):b===he.Escape?(o.preventDefault(),o.target.blur(),t.sendFocusBackToInput(),t.setOpen(!1)):b===he.Tab&&t.setOpen(!1),t.inputOk()||(v=(p=t.props).onInputError)===null||v===void 0||v.call(p,{code:1,msg:pf})}},t.onPortalKeyDown=function(o){var u=o.key;u===he.Escape&&(o.preventDefault(),t.setState({preventFocus:!0},function(){t.setOpen(!1),setTimeout(function(){t.setFocus(),t.setState({preventFocus:!1})})}))},t.onDayKeyDown=function(o){var u,d,m,x,p,v,b=t.props,S=b.minDate,w=b.maxDate,M=b.disabledKeyboardNavigation,D=b.showWeekPicker,y=b.shouldCloseOnSelect,N=b.locale,k=b.calendarStartDay,g=b.adjustDateOnChange,O=b.inline;if((d=(u=t.props).onKeyDown)===null||d===void 0||d.call(u,o),!M){var Y=o.key,z=o.shiftKey,U=Ve(t.state.preSelection),_=function(Q,E){var le=E;switch(Q){case he.ArrowRight:le=D?ru(E,1):Qa(E,1);break;case he.ArrowLeft:le=D?G0(E):Tk(E);break;case he.ArrowUp:le=G0(E);break;case he.ArrowDown:le=ru(E,1);break;case he.PageUp:le=z?Mr(E,1):ls(E,1);break;case he.PageDown:le=z?Ka(E,1):Wa(E,1);break;case he.Home:le=kr(E,N,k);break;case he.End:le=g4(E);break}return le},B=function(Q,E){for(var le=40,G=Q,J=!1,F=0,A=_(Q,E);!J;){if(F>=le){A=E;break}S&&A<S&&(G=he.ArrowRight,A=Fa(S,t.props)?_(G,A):S),w&&A>w&&(G=he.ArrowLeft,A=Fa(w,t.props)?_(G,A):w),Fa(A,t.props)?((G===he.PageUp||G===he.Home)&&(G=he.ArrowRight),(G===he.PageDown||G===he.End)&&(G=he.ArrowLeft),A=_(G,A)):J=!0,F++}return A};if(Y===he.Enter){o.preventDefault(),t.handleSelect(U,o),!y&&t.setPreSelection(U);return}else if(Y===he.Escape){o.preventDefault(),t.setOpen(!1),t.inputOk()||(x=(m=t.props).onInputError)===null||x===void 0||x.call(m,{code:1,msg:pf});return}var H=null;switch(Y){case he.ArrowLeft:case he.ArrowRight:case he.ArrowUp:case he.ArrowDown:case he.PageUp:case he.PageDown:case he.Home:case he.End:H=B(Y,U);break}if(!H){(v=(p=t.props).onInputError)===null||v===void 0||v.call(p,{code:1,msg:pf});return}o.preventDefault(),t.setState({lastPreSelectChange:xf}),g&&t.setSelected(H),t.setPreSelection(H),O&&t.setState({shouldFocusDayInline:!0})}},t.onPopperKeyDown=function(o){var u=o.key;u===he.Escape&&(o.preventDefault(),t.sendFocusBackToInput(),t.setOpen(!1))},t.onClearClick=function(o){o&&o.preventDefault&&o.preventDefault(),t.sendFocusBackToInput();var u=t.props,d=u.selectsRange,m=u.onChange;m?.(d?[null,null]:null,o),t.setState({inputValue:null})},t.clear=function(){t.onClearClick()},t.onScroll=function(o){typeof t.props.closeOnScroll=="boolean"&&t.props.closeOnScroll?(o.target===document||o.target===document.documentElement||o.target===document.body)&&t.setOpen(!1):typeof t.props.closeOnScroll=="function"&&t.props.closeOnScroll(o)&&t.setOpen(!1)},t.handleMonthSelectedInChange=function(o){t.setState({monthSelectedIn:o})},t.renderCalendar=function(){var o,u;return!t.props.inline&&!t.isCalendarOpen()?null:ae.createElement(W4,Re({showMonthYearDropdown:void 0,ref:function(d){t.calendar=d}},t.props,t.state,{setOpen:t.setOpen,dateFormat:(o=t.props.dateFormatCalendar)!==null&&o!==void 0?o:l.defaultProps.dateFormatCalendar,onSelect:t.handleSelect,onClickOutside:t.handleCalendarClickOutside,holidays:E4(t.modifyHolidays()),outsideClickIgnoreClass:t.props.outsideClickIgnoreClass,onDropdownFocus:t.handleDropdownFocus,onTimeChange:t.handleTimeChange,className:t.props.calendarClassName,container:t.props.calendarContainer,handleOnKeyDown:t.props.onKeyDown,handleOnDayKeyDown:t.onDayKeyDown,setPreSelection:t.setPreSelection,dropdownMode:(u=t.props.dropdownMode)!==null&&u!==void 0?u:l.defaultProps.dropdownMode,onMonthSelectedInChange:t.handleMonthSelectedInChange}),t.props.children)},t.renderAriaLiveRegion=function(){var o,u=t.props.locale,d=(o=t.props.dateFormat)!==null&&o!==void 0?o:l.defaultProps.dateFormat,m=t.props.showTimeInput||t.props.showTimeSelect,x=m?"PPPPp":"PPPP",p;return t.props.selectsRange?p="Selected start date: ".concat(ma(t.props.startDate,{dateFormat:x,locale:u}),". ").concat(t.props.endDate?"End date: "+ma(t.props.endDate,{dateFormat:x,locale:u}):""):t.props.showTimeSelectOnly?p="Selected time: ".concat(ma(t.props.selected,{dateFormat:d,locale:u})):t.props.showYearPicker?p="Selected year: ".concat(ma(t.props.selected,{dateFormat:"yyyy",locale:u})):t.props.showMonthYearPicker?p="Selected month: ".concat(ma(t.props.selected,{dateFormat:"MMMM yyyy",locale:u})):t.props.showQuarterYearPicker?p="Selected quarter: ".concat(ma(t.props.selected,{dateFormat:"yyyy, QQQ",locale:u})):p="Selected date: ".concat(ma(t.props.selected,{dateFormat:x,locale:u})),ae.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},p)},t.renderDateInput=function(){var o,u,d,m,x,p,v,b=Ot(t.props.className,(o={},o[t.props.outsideClickIgnoreClass||l.defaultProps.outsideClickIgnoreClass]=t.state.open,o)),S=t.props.customInput||ae.createElement("input",{type:"text"}),w=t.props.customInputRef||"ref",M={},D=(d=t.props["aria-describedby"])!==null&&d!==void 0?d:t.props.ariaDescribedBy,y=(m=t.props["aria-invalid"])!==null&&m!==void 0?m:t.props.ariaInvalid,N=(x=t.props["aria-label"])!==null&&x!==void 0?x:t.props.ariaLabel,k=(p=t.props["aria-labelledby"])!==null&&p!==void 0?p:t.props.ariaLabelledBy,g=(v=t.props["aria-required"])!==null&&v!==void 0?v:t.props.ariaRequired;return D!=null&&(M["aria-describedby"]=D),y!=null&&(M["aria-invalid"]=y),N!=null&&(M["aria-label"]=N),k!=null&&(M["aria-labelledby"]=k),g!=null&&(M["aria-required"]=g),j.cloneElement(S,Re((u={},u[w]=function(O){t.input=O},u.value=t.getInputValue(),u.onBlur=t.handleBlur,u.onChange=t.handleChange,u.onClick=t.onInputClick,u.onFocus=t.handleFocus,u.onKeyDown=t.onInputKeyDown,u.id=t.props.id,u.name=t.props.name,u.form=t.props.form,u.autoFocus=t.props.autoFocus,u.placeholder=t.props.placeholderText,u.disabled=t.props.disabled,u.autoComplete=t.props.autoComplete,u.className=Ot(S.props.className,b),u.title=t.props.title,u.readOnly=t.props.readOnly,u.required=t.props.required,u.tabIndex=t.props.tabIndex,u),M))},t.renderClearButton=function(){var o=t.props,u=o.isClearable,d=o.disabled,m=o.selected,x=o.startDate,p=o.endDate,v=o.clearButtonTitle,b=o.clearButtonClassName,S=b===void 0?"":b,w=o.ariaLabelClose,M=w===void 0?"Close":w,D=o.selectedDates,y=o.readOnly;return u&&!y&&(m!=null||x!=null||p!=null||D?.length)?ae.createElement("button",{type:"button",className:Ot("react-datepicker__close-icon",S,{"react-datepicker__close-icon--disabled":d}),disabled:d,"aria-label":M,onClick:t.onClearClick,title:v,tabIndex:-1}):null},t.state=t.calcInitialState(),t.preventFocusTimeout=void 0,t}return Object.defineProperty(l,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:u1,readOnly:!1,rangeSeparator:n1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Wi,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),l.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},l.prototype.componentDidUpdate=function(r,t){var o,u,d,m;this.props.selectsRange&&Sb(r.startDate,this.props.startDate)?this.setPreSelection(this.props.startDate):Sb(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),this.props.selectsRange&&t.open===!1&&this.state.open===!0&&this.state.monthSelectedIn!==0&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:vb(this.props.highlightDates)}),!t.focused&&!ss(r.selected,this.props.selected)&&this.setState({inputValue:null}),t.open!==this.state.open&&(t.open===!1&&this.state.open===!0&&((u=(o=this.props).onCalendarOpen)===null||u===void 0||u.call(o)),t.open===!0&&this.state.open===!1&&((m=(d=this.props).onCalendarClose)===null||m===void 0||m.call(d)))},l.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},l.prototype.renderInputContainer=function(){var r=this.props,t=r.showIcon,o=r.icon,u=r.calendarIconClassname,d=r.calendarIconClassName,m=r.toggleCalendarOnIconClick,x=this.state.open;return u&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ae.createElement("div",{className:"react-datepicker__input-container".concat(t?" react-datepicker__view-calendar-icon":"")},t&&ae.createElement(Z4,Re({icon:o,className:Ot(d,!d&&u,x&&"react-datepicker-ignore-onclickoutside")},m?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},l.prototype.render=function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var t=this.state.open?ae.createElement(m1,{enableTabLoop:this.props.enableTabLoop},ae.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(t=ae.createElement(d1,Re({portalId:this.props.portalId},this.props),t)),ae.createElement(ae.Fragment,null,this.renderInputContainer(),t)}return ae.createElement(n3,Re({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:r,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow,monthHeaderPosition:this.props.monthHeaderPosition}))},l})(j.Component),s3="input",xf="navigate";function At({open:s,onClose:l,title:r,children:t,wide:o}){const u=j.useRef(null);return j.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[s]),j.useEffect(()=>{function d(m){m.key==="Escape"&&l()}return s&&window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[s,l]),s?n.jsxs("div",{ref:u,className:"fixed inset-0 z-50 flex items-start justify-center pt-[5vh] sm:pt-[10vh] px-4",onClick:d=>{d.target===u.current&&l()},children:[n.jsx("div",{className:"fixed inset-0 bg-black/60"}),n.jsxs("div",{className:`relative bg-[var(--bg-card)] border border-[var(--border)] rounded-xl shadow-2xl w-full ${o?"max-w-2xl":"max-w-lg"} max-h-[80vh] flex flex-col animate-fade-in`,children:[n.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-[var(--border-light)] shrink-0",children:[n.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:r}),n.jsx("button",{onClick:l,className:"p-1.5 rounded-lg text-[var(--text-dim)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:n.jsx(Qi,{size:16})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto px-5 py-4",children:t})]})]}):null}function ee({label:s,required:l,error:r,children:t}){return n.jsxs("div",{children:[n.jsxs("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:[s,l&&n.jsx("span",{className:"text-rose-500 ml-0.5",children:"*"})]}),t,r&&n.jsx("p",{className:"text-xs text-rose-500 mt-1",children:r})]})}function me({value:s,onChange:l,placeholder:r,type:t="text",sensitive:o,...u}){const{masked:d}=yn();return n.jsx("input",{type:t,value:s,onChange:m=>l(m.target.value),placeholder:r,className:`w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors ${o&&d?"sensitive-blur":""}`,...u})}function f1({value:s,onChange:l,...r}){const t=s?new Date(s+"T00:00:00"):null;function o(u){if(!u){l("");return}const d=u.getFullYear(),m=String(u.getMonth()+1).padStart(2,"0"),x=String(u.getDate()).padStart(2,"0");l(`${d}-${m}-${x}`)}return n.jsxs("div",{className:"relative cf-datepicker",children:[n.jsx(r3,{selected:t,onChange:o,dateFormat:"dd MMM yyyy",maxDate:new Date,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",placeholderText:"Select date",className:"w-full px-3 py-2 pr-9 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors",...r}),n.jsx(_S,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)] pointer-events-none"})]})}function Te({value:s,onChange:l,options:r,placeholder:t}){return n.jsxs("select",{value:s,onChange:o=>l(o.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors",children:[t&&n.jsx("option",{value:"",children:t}),r.map(o=>n.jsx("option",{value:o.value,children:o.label},o.value))]})}function Nl({value:s,onChange:l,placeholder:r,rows:t=3}){return n.jsx("textarea",{value:s,onChange:o=>l(o.target.value),placeholder:r,rows:t,className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors resize-none"})}function l3({checked:s,onChange:l,label:r}){return n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:s,onChange:t=>l(t.target.checked),className:"w-4 h-4 rounded border-[var(--border-input)] bg-[var(--bg-input)] text-violet-500 focus:ring-violet-500"}),n.jsx("span",{className:"text-sm text-[var(--text-secondary)]",children:r})]})}function Xt({onCancel:s,onSubmit:l,submitLabel:r="Save",loading:t}){return n.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4 mt-4 border-t border-[var(--border-light)]",children:[n.jsx("button",{onClick:s,disabled:t,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),n.jsxs("button",{onClick:l,disabled:t,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 flex items-center gap-1.5",children:[t&&n.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),t?"Saving...":r]})]})}function jn({onClick:s,label:l="Deactivate"}){return n.jsx("button",{onClick:s,className:"px-4 py-2 text-xs font-semibold text-rose-400 hover:text-rose-300 hover:bg-rose-500/10 rounded-lg transition-colors",children:l})}const Cb=[{key:"sip",label:"Adjust SIP",icon:zC,color:"text-blue-400",dimColor:"text-blue-400/60 hover:text-blue-400",activeBg:"bg-blue-500/20 border border-blue-500/40"},{key:"lumpsum",label:"Lumpsum",icon:mC,color:"text-emerald-400",dimColor:"text-emerald-400/60 hover:text-emerald-400",activeBg:"bg-emerald-500/20 border border-emerald-500/40"},{key:"buysell",label:"Buy / Sell",icon:DS,color:"text-amber-400",dimColor:"text-amber-400/60 hover:text-amber-400",activeBg:"bg-amber-500/20 border border-amber-500/40"}];function il(s){return s>=1e5?`${(s/1e5).toFixed(1)}L`:s>=1e3?`${(s/1e3).toFixed(0)}K`:`${Math.round(s)}`}function i3({portfolio:s,holdings:l,totalValue:r}){const t=s.sipTarget||0;if(t<=0)return n.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"No SIP target set"});const o=l.filter(p=>p.targetAllocationPct>0).map(p=>{const v=r>0?p.currentValue/r*100:0,S=p.targetAllocationPct/100*r-p.currentValue,w=p.targetAllocationPct/100*t;return{...p,currentPct:v,gap:S,normalSIP:w}}),d=o.filter(p=>p.gap>0).reduce((p,v)=>p+v.gap,0),m=o.map(p=>({...p,suggestedSIP:p.gap>0&&d>0?p.gap/d*t:0}));return m.some(p=>Math.abs(p.suggestedSIP-p.normalSIP)>10)?n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)] px-1",children:"Overweight funds get 0 SIP. All SIP goes to underweight funds to rebalance over time."}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[n.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),n.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Allocation"}),n.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Normal SIP"}),n.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Rebalance SIP"})]})}),n.jsx("tbody",{children:m.map(p=>{const v=p.gap<=0;return n.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 ${v?"opacity-60":""}`,children:[n.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:p.fundName}),n.jsxs("td",{className:"py-2 px-2 text-right tabular-nums",children:[n.jsxs("span",{className:v?"text-amber-400":"text-[var(--text-dim)]",children:[p.currentPct.toFixed(1),"%"]}),n.jsxs("span",{className:"text-[var(--text-dim)]",children:[" / ",p.targetAllocationPct.toFixed(1),"%"]})]}),n.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:il(p.normalSIP)}),n.jsx("td",{className:"py-2 px-2 text-right font-semibold tabular-nums",children:v?n.jsx("span",{className:"text-amber-400/70",children:"0"}):n.jsx("span",{className:"text-blue-400",children:il(p.suggestedSIP)})})]},p.holdingId)})}),n.jsx("tfoot",{children:n.jsxs("tr",{className:"border-t border-[var(--border)]",children:[n.jsx("td",{className:"py-1.5 px-2 text-xs font-bold text-[var(--text-primary)]",colSpan:2,children:"Total"}),n.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums",children:il(t)}),n.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-blue-400 tabular-nums",children:il(t)})]})})]})})]}):n.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"SIPs are balanced"})}function o3({portfolio:s,holdings:l,totalValue:r}){const[t,o]=j.useState("");(s.rebalanceThreshold||.05)*100;const u=Number(t)||s.lumpsumTarget||0,d=l.map(x=>{const p=r>0?x.currentValue/r*100:0;return{...x,currentPct:p}}),m=j.useMemo(()=>{if(u<=0)return[];const x=r+u,p=d.map(b=>{const S=b.targetAllocationPct/100*x,w=Math.max(0,S-b.currentValue),M=x>0?(b.currentValue+w)/x*100:0;return{...b,invest:w,newPct:M}}).filter(b=>b.invest>0),v=p.reduce((b,S)=>b+S.invest,0);if(v>0&&Math.abs(v-u)>1){const b=u/v;return p.map(S=>({...S,invest:S.invest*b,newPct:r+u>0?(S.currentValue+S.invest*b)/(r+u)*100:0}))}return p},[d,u,r]);return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-end gap-3",children:[n.jsx("div",{className:"flex-1 max-w-[200px]",children:n.jsx(ee,{label:"Amount ()",children:n.jsx(me,{type:"number",value:t,onChange:o,placeholder:s.lumpsumTarget?`Default: ${K(s.lumpsumTarget)}`:"Enter amount..."})})}),s.lumpsumTarget>0&&!t&&n.jsx("p",{className:"text-xs text-[var(--text-dim)] pb-2.5",children:"Using target"})]}),u>0&&m.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[n.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),n.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Drift"}),n.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Invest"})]})}),n.jsx("tbody",{children:m.map(x=>n.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[n.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:x.fundName}),n.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:[x.currentPct.toFixed(1),"%  ",x.newPct.toFixed(1),"%"]}),n.jsx("td",{className:"py-2 px-2 text-right font-semibold text-emerald-400 tabular-nums",children:il(x.invest)})]},x.holdingId))}),n.jsx("tfoot",{children:n.jsxs("tr",{className:"border-t border-[var(--border)]",children:[n.jsx("td",{className:"py-1.5 px-2 text-xs font-bold text-[var(--text-primary)]",colSpan:2,children:"Total"}),n.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-emerald-400 tabular-nums",children:K(u)})]})})]})}):u>0?n.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2 text-center",children:"Balanced  distributes proportionally"}):null]})}function c3({portfolio:s,holdings:l,totalValue:r}){const t=(s.rebalanceThreshold||.05)*100,o=l.map(u=>{const d=r>0?u.currentValue/r*100:0,m=Math.abs(d-u.targetAllocationPct)>t,x=u.targetAllocationPct/100*r,p=m?x-u.currentValue:0;return{...u,currentPct:d,amount:p}}).filter(u=>Math.abs(u.amount)>=500);return o.length===0?n.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"Portfolio is balanced"}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[n.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),n.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Drift"}),n.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Action"})]})}),n.jsx("tbody",{children:o.map(u=>{const d=u.amount>0;return n.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[n.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:u.fundName}),n.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:[u.currentPct.toFixed(1),"%  ",u.targetAllocationPct.toFixed(1),"%"]}),n.jsx("td",{className:"py-2 px-2 text-right",children:n.jsxs("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${d?"bg-emerald-500/20 text-emerald-400":"bg-rose-500/20 text-[var(--accent-rose)]"}`,children:[d?"Buy":"Sell"," ",il(Math.abs(u.amount))]})})]},u.holdingId)})})]})})}function p1(){const{mfHoldings:s,mfPortfolios:l}=ze(),[r,t]=j.useState("sip"),o=j.useMemo(()=>l.filter(u=>u.status!=="Inactive").map(u=>{const d=s.filter(v=>v.portfolioId===u.portfolioId&&v.units>0),m=d.reduce((v,b)=>v+b.currentValue,0),x=(u.rebalanceThreshold||.05)*100,p=d.filter(v=>{const b=m>0?v.currentValue/m*100:0;return Math.abs(b-v.targetAllocationPct)>x}).length;return{...u,holdings:d,totalValue:m,driftedCount:p}}).filter(u=>u.driftedCount>0),[l,s]);return o.length===0?n.jsxs("div",{className:"py-8 text-center",children:[n.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"All portfolios are balanced"}),n.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"No funds exceed their rebalance threshold"})]}):(Cb.find(u=>u.key===r),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex bg-[var(--bg-inset)] rounded-lg p-0.5",children:Cb.map(({key:u,label:d,icon:m,color:x,dimColor:p,activeBg:v})=>n.jsxs("button",{onClick:()=>t(u),className:`flex-1 flex items-center justify-center gap-1.5 py-2 rounded-md text-xs font-semibold transition-colors ${r===u?`${v} ${x} shadow-sm`:p}`,children:[n.jsx(m,{size:13})," ",d]},u))}),o.map((u,d)=>n.jsxs("div",{className:"border border-[var(--border-light)] border-l-2 border-l-violet-500/50 rounded-lg overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between px-3 py-2.5 bg-[var(--bg-inset)]",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xs font-bold text-violet-400 bg-violet-500/15 w-5 h-5 rounded flex items-center justify-center",children:d+1}),n.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:u.portfolioName}),n.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:u.ownerName}),n.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-amber-500/15 text-amber-400",children:[u.driftedCount," drifted"]})]}),n.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-muted)]",children:[n.jsx("span",{className:"font-semibold text-[var(--text-secondary)]",children:K(u.totalValue)}),n.jsxs("span",{children:["Threshold: ",((u.rebalanceThreshold||.05)*100).toFixed(0),"%"]}),u.sipTarget>0&&n.jsxs("span",{children:["SIP: ",K(u.sipTarget),"/mo"]})]})]}),n.jsxs("div",{className:"px-3 py-2",children:[r==="sip"&&n.jsx(i3,{portfolio:u,holdings:u.holdings,totalValue:u.totalValue}),r==="lumpsum"&&n.jsx(o3,{portfolio:u,holdings:u.holdings,totalValue:u.totalValue}),r==="buysell"&&n.jsx(c3,{portfolio:u,holdings:u.holdings,totalValue:u.totalValue})]})]},u.portfolioId))]}))}const u3="https://raw.githubusercontent.com/jagadeeshkmanne/capital-friends/main/logo.png",Db={mf:{label:"Mutual Funds",color:"bg-violet-500",order:1,route:"/investments/mutual-funds"},stocks:{label:"Stocks",color:"bg-blue-500",order:2,route:"/investments/stocks"},Debt:{label:"Debt",color:"bg-cyan-500",order:3,route:"/investments/other"},Gold:{label:"Gold",color:"bg-amber-500",order:4,route:"/investments/other"},Silver:{label:"Silver",color:"bg-slate-400",order:5,route:"/investments/other"},Property:{label:"Real Estate",color:"bg-orange-500",order:6,route:"/investments/other"},Alternative:{label:"Alternative",color:"bg-violet-400",order:7,route:"/investments/other"},Equity:{label:"Equity",color:"bg-emerald-500",order:8,route:"/investments/other"},Other:{label:"Other",color:"bg-gray-500",order:9,route:"/investments/other"}},Mc=["from-violet-500 to-indigo-500","from-rose-500 to-pink-500","from-blue-500 to-cyan-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],kb=["bg-violet-500","bg-rose-500","bg-blue-500","bg-amber-500","bg-emerald-500"],d3=[{label:"Family Members",path:"/family",match:"/family"},{label:"Bank Accounts",path:"/accounts/bank",match:"/accounts/bank"},{label:"Investment Accounts",path:"/accounts/investment",match:"/accounts/investment"},{label:"Insurance",path:"/insurance",match:"/insurance"},{label:"Mutual Funds",path:"/investments/mutual-funds",match:"/investments/mutual-funds"},{label:"Stocks",path:"/investments/stocks",match:"/investments/stocks"},{label:"Other Investments",path:"/investments/other",match:"/investments/other"},{label:"Goals",path:"/goals",match:"/goals"}],m3={buyopp:"Buying Opportunities",rebalance:"Rebalance Alerts"};function f3({onMenuClick:s}){const{theme:l,toggle:r}=sy(),{selectedMember:t,setSelectedMember:o,familyMembers:u}=Yt(),{mfPortfolios:d,mfHoldings:m,stockPortfolios:x,stockHoldings:p,otherInvList:v,liabilityList:b}=ze(),{user:S,signOut:w}=ds(),{masked:M,toggleMask:D,mv:y}=yn(),N=us(),k=Ha(),{criticalAlerts:g,upcomingReminders:O,investmentSignals:Y}=j5(),[z,U]=j.useState(!1),[_,B]=j.useState(!1),[H,Q]=j.useState(null),[E,le]=j.useState(!1),[G,J]=j.useState(!1),[F,A]=j.useState(!0),R=j.useRef(null),ce=j.useRef(null),ue=j.useRef(null),L=g.length+O.length,{buyOppCount:ne,rebalanceCount:de}=Y;j.useEffect(()=>{function pe(De){R.current&&!R.current.contains(De.target)&&U(!1),ce.current&&!ce.current.contains(De.target)&&B(!1)}return(z||_)&&document.addEventListener("mousedown",pe),()=>document.removeEventListener("mousedown",pe)},[z,_]);const fe=u.findIndex(pe=>pe.memberId===t),Se=fe>=0?u[fe]:null,P=j.useMemo(()=>{const pe=(Me,lt)=>t==="all"?Me:Me.filter(it=>it[lt]===t),De={},Fe=(Me,lt,it,na)=>{De[Me]||(De[Me]={items:[],invested:0}),De[Me].items.push({label:lt,value:it}),De[Me].invested+=na};pe((d||[]).filter(Me=>Me.status==="Active"),"ownerId").forEach(Me=>{const lt=(m||[]).filter(Tt=>Tt.portfolioId===Me.portfolioId&&Tt.units>0),it=lt.reduce((Tt,Ut)=>Tt+Ut.currentValue,0),na=lt.reduce((Tt,Ut)=>Tt+Ut.investment,0);it>0&&Fe("mf",Me.portfolioName?.replace(/^PFL-/,"")||Me.portfolioName,it,na)}),pe((x||[]).filter(Me=>Me.status==="Active"),"ownerId").forEach(Me=>{const lt=(p||[]).filter(Tt=>Tt.portfolioId===Me.portfolioId),it=lt.reduce((Tt,Ut)=>Tt+Ut.currentValue,0),na=lt.reduce((Tt,Ut)=>Tt+Ut.totalInvestment,0);it>0&&Fe("stocks",Me.portfolioName,it,na)}),pe((v||[]).filter(Me=>Me.status==="Active"),"familyMemberId").forEach(Me=>{const lt=Me.investmentCategory||"Other";Fe(lt,Me.investmentName||Me.investmentType||"Other",Me.currentValue,Me.investedAmount||0)});const ht=Object.entries(De).map(([Me,{items:lt,invested:it}])=>{const na=Db[Me]||Db.Other,Tt=lt.reduce((Ut,Ja)=>Ut+Ja.value,0);return{key:Me,label:na.label,color:na.color,order:na.order,route:na.route,total:Tt,invested:it,items:lt.sort((Ut,Ja)=>Ja.value-Ut.value)}}).filter(Me=>Me.total>0).sort((Me,lt)=>Me.order-lt.order),Wt=pe((b||[]).filter(Me=>Me.status==="Active"),"familyMemberId"),Ze=Wt.map(Me=>({label:Me.liabilityName||Me.liabilityType||"Loan",value:Me.outstandingBalance})),qe=Wt.reduce((Me,lt)=>Me+lt.outstandingBalance,0),It=ht.reduce((Me,lt)=>Me+lt.total,0),Ya=ht.reduce((Me,lt)=>Me+lt.invested,0);return{netWorth:It-qe,totalInv:It,totalInvested:Ya,sections:ht,totalLiab:qe,liabilities:Ze}},[t,d,m,x,p,v,b]);function re(){U(!1),B(!1)}function ve(){if(!ue.current)return;const{scrollLeft:pe,scrollWidth:De,clientWidth:Fe}=ue.current;J(pe>5),A(pe+Fe<De-5)}function be(pe){if(!ue.current)return;const Fe=(ue.current.querySelector("a")?.offsetWidth||240)+12;ue.current.scrollBy({left:pe*Fe,behavior:"smooth"})}return j.useEffect(()=>{ve()},[P,E]),n.jsxs("header",{className:"sticky top-0 z-30 shrink-0",children:[n.jsx("style",{children:`
        @keyframes glow-emerald {
          0%, 100% { box-shadow: 0 0 6px rgba(16,185,129,0.3), 0 0 12px rgba(16,185,129,0.15); }
          50% { box-shadow: 0 0 12px rgba(16,185,129,0.5), 0 0 24px rgba(16,185,129,0.25); }
        }
        @keyframes glow-violet {
          0%, 100% { box-shadow: 0 0 6px rgba(139,92,246,0.3), 0 0 12px rgba(139,92,246,0.15); }
          50% { box-shadow: 0 0 12px rgba(139,92,246,0.5), 0 0 24px rgba(139,92,246,0.25); }
        }
        .glow-emerald { animation: glow-emerald 2s ease-in-out infinite; }
        .glow-violet { animation: glow-violet 2s ease-in-out infinite; }
      `}),n.jsx("div",{className:"relative z-10 bg-[var(--bg-header)]/95 backdrop-blur-sm border-b border-[var(--border)]",children:n.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 h-14",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:s,className:"lg:hidden p-2 -ml-1.5 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:n.jsx(kC,{size:20})}),n.jsx("img",{src:u3,alt:"Capital Friends",className:"h-10"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[ne>0&&n.jsxs("button",{onClick:()=>{Q(H==="buyopp"?null:"buyopp"),re()},className:`glow-emerald flex items-center gap-1.5 text-xs font-bold whitespace-nowrap px-3 py-1.5 rounded-full transition-all ${H==="buyopp"?"bg-emerald-500/30 text-emerald-300 ring-1 ring-emerald-400/50":"bg-emerald-500/15 text-emerald-400 hover:bg-emerald-500/25"}`,children:[n.jsx(Nu,{size:13,strokeWidth:2.5}),n.jsx("span",{className:"hidden sm:inline",children:"Buying Opportunities"}),n.jsx("span",{className:"text-[11px] bg-emerald-500/30 px-1.5 py-0.5 rounded-full",children:ne})]}),de>0&&n.jsxs("button",{onClick:()=>{Q(H==="rebalance"?null:"rebalance"),re()},className:`glow-violet flex items-center gap-1.5 text-xs font-bold whitespace-nowrap px-3 py-1.5 rounded-full transition-all ${H==="rebalance"?"bg-violet-500/30 text-violet-300 ring-1 ring-violet-400/50":"bg-violet-500/15 text-violet-400 hover:bg-violet-500/25"}`,children:[n.jsx(Hi,{size:13,strokeWidth:2.5}),n.jsx("span",{className:"hidden sm:inline",children:"Rebalance Alerts"}),n.jsx("span",{className:"text-[11px] bg-violet-500/30 px-1.5 py-0.5 rounded-full",children:de})]}),n.jsx("button",{onClick:D,className:`p-2 rounded-lg transition-colors ${M?"text-amber-400 bg-amber-500/10":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,title:M?"Data masked  click to reveal":"Mask sensitive data",children:M?n.jsx(qc,{size:18}):n.jsx(ep,{size:18})}),n.jsx("button",{onClick:r,className:"p-2 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",title:`Switch to ${l==="dark"?"light":"dark"} mode`,children:l==="dark"?n.jsx(kf,{size:18}):n.jsx(yy,{size:18})}),L>0&&n.jsxs("div",{className:"relative",ref:ce,children:[n.jsxs("button",{onClick:()=>{B(!_),U(!1)},className:"relative p-2 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[n.jsx(yu,{size:18}),n.jsx("span",{className:"absolute -top-0.5 -right-0.5 min-w-[16px] h-4 flex items-center justify-center text-[9px] font-bold text-white bg-rose-500 rounded-full px-1",children:L})]}),_&&n.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-xl shadow-black/20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[n.jsx("div",{className:"px-3 py-2 border-b border-[var(--border-light)]",children:n.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:"Notifications"})}),n.jsxs("div",{className:"max-h-[300px] overflow-y-auto py-1",children:[g.map((pe,De)=>{const Fe={critical:"bg-rose-500",warning:"bg-amber-500",info:"bg-blue-500"}[pe.type],$e={critical:"bg-rose-500/15 text-rose-400",warning:"bg-amber-500/15 text-amber-400",info:"bg-blue-500/15 text-blue-400"}[pe.type];return n.jsxs("button",{onClick:()=>{B(!1),N(pe.navigateTo)},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-[var(--bg-hover)] transition-colors",children:[n.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${Fe}`}),n.jsx("span",{className:"text-xs text-[var(--text-secondary)] flex-1 text-left truncate",children:pe.title}),n.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded-full shrink-0 ${$e}`,children:pe.badge})]},`c-${De}`)}),g.length>0&&O.length>0&&n.jsx("div",{className:"mx-3 my-1 border-t border-[var(--border-light)]"}),O.map(pe=>{const De=pe.days<=7?"bg-rose-500/15 text-rose-400":pe.days<=15?"bg-amber-500/15 text-amber-400":"bg-slate-500/15 text-[var(--text-muted)]";return n.jsxs("button",{onClick:()=>{B(!1),N("/reminders")},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[n.jsx("span",{className:"w-2 h-2 rounded-full shrink-0 bg-amber-500"}),n.jsx("span",{className:"text-xs text-[var(--text-secondary)] flex-1 truncate",children:pe.title}),n.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded-full shrink-0 ${De}`,children:pe.days===0?"Today":pe.days<=30?`${pe.days}d`:pe.dateStr})]},`r-${pe.reminderId}`)})]})]})]}),n.jsxs("div",{className:"relative",ref:R,children:[n.jsxs("button",{onClick:()=>{U(!z),B(!1)},className:"flex items-center gap-1.5 pl-1 pr-2 py-1 rounded-full hover:bg-[var(--bg-hover)] transition-colors",children:[Se?n.jsx("div",{className:`w-8 h-8 rounded-full bg-gradient-to-br ${Mc[fe%Mc.length]} flex items-center justify-center text-white text-xs font-bold shadow-sm`,children:Se.memberName.charAt(0)}):n.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-500 flex items-center justify-center text-white shadow-sm",children:n.jsx(fl,{size:14})}),n.jsx(dl,{size:14,className:`text-[var(--text-muted)] transition-transform ${z?"rotate-180":""}`})]}),z&&n.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-xl shadow-black/20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[n.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)]",children:n.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:"Viewing as"})}),n.jsxs("div",{className:"py-1.5",children:[n.jsxs("button",{onClick:()=>{o("all"),U(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${t==="all"?"bg-violet-500/10":"hover:bg-[var(--bg-hover)]"}`,children:[n.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-violet-500 to-indigo-500 flex items-center justify-center text-white shadow-sm shrink-0",children:n.jsx(fl,{size:15})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:`text-sm font-semibold truncate ${t==="all"?"text-violet-400":"text-[var(--text-primary)]"}`,children:"Everyone"}),n.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:"All family members"})]}),t==="all"&&n.jsx(T0,{size:16,className:"text-violet-400 shrink-0"})]}),u.length>0&&n.jsx("div",{className:"mx-4 my-1 border-t border-[var(--border-light)]"}),u.map((pe,De)=>{const Fe=t===pe.memberId;return n.jsxs("button",{onClick:()=>{o(pe.memberId),U(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${Fe?`${kb[De%kb.length]}/10`:"hover:bg-[var(--bg-hover)]"}`,children:[n.jsx("div",{className:`w-9 h-9 rounded-full bg-gradient-to-br ${Mc[De%Mc.length]} flex items-center justify-center text-white text-sm font-bold shadow-sm shrink-0`,children:pe.memberName.charAt(0)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-semibold truncate text-[var(--text-primary)]",children:pe.memberName}),n.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:pe.relationship||"Family member"})]}),Fe&&n.jsx(T0,{size:16,className:"text-emerald-400 shrink-0"})]},pe.memberId)})]}),n.jsxs("div",{className:"border-t border-[var(--border-light)] py-1.5",children:[n.jsxs(ll,{to:"/settings",onClick:()=>U(!1),className:"w-full flex items-center gap-3 px-4 py-2.5 text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[n.jsx(tp,{size:16}),n.jsx("span",{className:"text-sm font-medium",children:"Settings"})]}),S&&n.jsx("div",{className:"px-4 py-1.5",children:n.jsx("p",{className:"text-[11px] text-[var(--text-muted)] truncate",children:y(S.email,"email")})}),n.jsxs("button",{onClick:()=>{w(),U(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-left text-rose-400 hover:bg-rose-500/10 transition-colors",children:[n.jsx(gy,{size:16}),n.jsx("span",{className:"text-sm font-medium",children:"Sign out"})]})]})]})]})]})]})}),n.jsx(N5,{}),n.jsx("nav",{className:"bg-[var(--bg-header)]/90 backdrop-blur-sm border-b border-[var(--border)]",children:n.jsxs("div",{className:"flex items-center px-3 sm:px-4 py-1.5",children:[n.jsx("div",{className:"flex items-center gap-1 overflow-x-auto no-scrollbar flex-1 min-w-0",children:d3.map(pe=>{const De=k.pathname.startsWith(pe.match);return n.jsx(ll,{to:pe.path,className:`whitespace-nowrap px-3 py-1.5 rounded-lg text-[13px] font-medium transition-colors ${De?"bg-violet-500/15 text-violet-400":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,children:pe.label},pe.path)})}),n.jsxs("button",{onClick:()=>le(!E),className:"shrink-0 ml-3 flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-emerald-500/10 border border-emerald-500/20 hover:bg-emerald-500/15 transition-colors",children:[n.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-emerald-400/70",children:"Net Worth"}),n.jsx("span",{className:"text-sm font-extrabold text-emerald-400 tabular-nums",children:K(P.netWorth)}),n.jsx(dl,{size:12,className:`text-emerald-400/60 transition-transform duration-200 ${E?"rotate-180":""}`})]})]})}),E&&n.jsx("div",{className:"bg-[var(--bg-card)]/90 backdrop-blur-sm border-b border-[var(--border-light)] animate-in slide-in-from-top-2 fade-in duration-200",children:n.jsxs("div",{className:"relative max-w-7xl mx-auto",children:[G&&n.jsx("button",{onClick:()=>be(-1),className:"absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 z-10 w-7 h-7 flex items-center justify-center rounded-full bg-[var(--bg-card)] border border-[var(--border)] shadow-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:n.jsx(dy,{size:14})}),n.jsxs("div",{ref:ue,onScroll:ve,className:"flex gap-3 px-12 sm:px-14 py-3 overflow-x-auto scroll-smooth snap-x snap-mandatory no-scrollbar",children:[P.sections?.map(pe=>n.jsxs(ll,{to:pe.route,className:"group snap-start shrink-0 w-[calc(50%-6px)] sm:w-[calc(33.333%-8px)] lg:w-[calc(25%-9px)] rounded-lg p-3 bg-[var(--bg-inset)] hover:bg-[var(--bg-hover)] border border-[var(--border-light)] transition-colors",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[n.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] font-bold uppercase tracking-wider text-[var(--text-muted)]",children:[n.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${pe.color}`}),pe.label]}),n.jsx(Pi,{size:10,className:"text-[var(--text-dim)] opacity-0 group-hover:opacity-100 transition-opacity"})]}),n.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums mb-1",children:K(pe.total)}),pe.items.length>0&&n.jsx("div",{className:"space-y-0.5",children:pe.items.map(De=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-[11px] text-[var(--text-dim)] truncate mr-2",children:De.label}),n.jsx("span",{className:"text-[11px] text-[var(--text-muted)] tabular-nums shrink-0",children:K(De.value)})]},De.label))})]},pe.key)),P.totalLiab>0&&n.jsxs(ll,{to:"/liabilities",className:"group snap-start shrink-0 w-[calc(50%-6px)] sm:w-[calc(33.333%-8px)] lg:w-[calc(25%-9px)] rounded-lg p-3 bg-[var(--bg-inset)] hover:bg-[var(--bg-hover)] border border-[var(--border-light)] transition-colors",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[n.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] font-bold uppercase tracking-wider text-[var(--text-muted)]",children:[n.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-rose-500"}),"Liabilities"]}),n.jsx(Pi,{size:10,className:"text-[var(--text-dim)] opacity-0 group-hover:opacity-100 transition-opacity"})]}),n.jsxs("p",{className:"text-base font-bold text-[var(--accent-rose)] tabular-nums mb-1",children:["",K(P.totalLiab)]}),P.liabilities?.length>0&&n.jsx("div",{className:"space-y-0.5",children:P.liabilities.map(pe=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-[11px] text-[var(--text-dim)] truncate mr-2",children:pe.label}),n.jsx("span",{className:"text-[11px] text-[var(--accent-rose)]/70 tabular-nums shrink-0",children:K(pe.value)})]},pe.label))})]})]}),F&&n.jsx("button",{onClick:()=>be(1),className:"absolute right-2 sm:right-3 top-1/2 -translate-y-1/2 z-10 w-7 h-7 flex items-center justify-center rounded-full bg-[var(--bg-card)] border border-[var(--border)] shadow-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:n.jsx(Pi,{size:14})})]})}),H&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-16 sm:pt-24 px-3",children:[n.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>Q(null)}),n.jsxs("div",{className:"relative w-full max-w-3xl max-h-[75vh] rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-2xl shadow-black/40 overflow-hidden flex flex-col animate-in fade-in slide-in-from-top-4 duration-200",children:[n.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-[var(--border-light)] shrink-0",children:[n.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:m3[H]}),n.jsx("button",{onClick:()=>Q(null),className:"p-1.5 rounded-lg hover:bg-[var(--bg-hover)] text-[var(--text-dim)] transition-colors",children:n.jsx(Qi,{size:16})})]}),n.jsxs("div",{className:"overflow-y-auto p-4",children:[H==="buyopp"&&n.jsx(Dy,{}),H==="rebalance"&&n.jsx(p1,{})]})]})]})]})}const p3=[{label:"Invest",icon:ol,path:"/investments/mutual-funds"},{label:"Accounts",icon:Bi,path:"/accounts/bank"},{label:"Goals",icon:Gi,path:"/goals"},{label:"Reminders",icon:yu,path:"/reminders"},{label:"More",icon:eC,path:"/more"}];function x3(){return n.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-40 bg-[var(--bg-sidebar)] border-t border-[var(--border)] safe-bottom",children:n.jsx("div",{className:"flex items-center justify-around h-[56px]",children:p3.map(({label:s,icon:l,path:r})=>n.jsx(Kf,{to:r,className:({isActive:t})=>`relative flex flex-col items-center justify-center gap-0.5 w-full h-full text-xs font-medium transition-colors ${t?"text-[var(--sidebar-active-text)]":"text-[var(--text-dim)]"}`,children:({isActive:t})=>n.jsxs(n.Fragment,{children:[t&&n.jsx("span",{className:"absolute top-0 w-10 h-[2.5px] bg-[var(--sidebar-active-text)] rounded-b-full"}),n.jsx("div",{className:`flex items-center justify-center w-9 h-9 rounded-xl transition-colors ${t?"bg-[var(--sidebar-active-bg)]":""}`,children:n.jsx(l,{size:19,strokeWidth:t?2.2:1.5})}),n.jsx("span",{className:t?"font-semibold":"",children:s})]})},r))})})}const h3="/logo-small.png",hf=[{key:"auth",label:"Signing in"},{key:"data",label:"Loading your data"},{key:"health",label:"Checking health status"},{key:"ready",label:"Almost ready"}];function xu({phase:s="auth"}){const[l,r]=j.useState("");j.useEffect(()=>{const o=setInterval(()=>{r(u=>u.length>=3?"":u+".")},500);return()=>clearInterval(o)},[]);const t=hf.findIndex(o=>o.key===s);return n.jsx("div",{className:"flex h-dvh items-center justify-center bg-[var(--bg-base)]",children:n.jsxs("div",{className:"flex flex-col items-center gap-8",children:[n.jsx("img",{src:h3,alt:"Capital Friends",className:"h-16 w-16 animate-pulse"}),n.jsxs("div",{className:"flex flex-col items-center gap-4 min-w-[220px]",children:[hf.map((o,u)=>{const d=u===t,m=u<t;return n.jsxs("div",{className:"flex items-center gap-3 w-full",children:[n.jsx("div",{className:`flex-shrink-0 w-5 h-5 rounded-full flex items-center justify-center text-xs font-medium transition-all duration-300 ${m?"bg-green-500 text-white":d?"bg-violet-500 text-white animate-pulse":"bg-[var(--border)] text-[var(--text-muted)]"}`,children:m?"":u+1}),n.jsxs("span",{className:`text-sm transition-all duration-300 ${m?"text-green-400":d?"text-[var(--text-primary)] font-medium":"text-[var(--text-muted)]"}`,children:[o.label,d?l:""]})]},o.key)}),n.jsx("div",{className:"w-full h-1 rounded-full bg-[var(--border)] overflow-hidden mt-2",children:n.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-violet-500 to-cyan-500 transition-all duration-500 ease-out",style:{width:`${(t+1)/hf.length*100}%`}})})]})]})})}function v3(){const[s,l]=j.useState(!1),{loading:r,error:t}=ze();return r?n.jsx(xu,{}):t?n.jsx("div",{className:"flex h-dvh items-center justify-center bg-[var(--bg-base)]",children:n.jsxs("div",{className:"flex flex-col items-center gap-4 text-center px-6",children:[n.jsx("img",{src:"/logo-small.png",alt:"Capital Friends",className:"h-16 w-16 opacity-50"}),n.jsx("p",{className:"text-rose-400 text-sm font-medium",children:t}),n.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 text-sm font-medium rounded-lg bg-violet-600 hover:bg-violet-500 text-white transition-colors",children:"Retry"})]})}):n.jsxs("div",{className:"flex flex-col h-dvh bg-[var(--bg-base)] overflow-hidden",children:[n.jsx(f3,{onMenuClick:()=>l(!0)}),n.jsx(h5,{open:s,onClose:()=>l(!1)}),n.jsx("main",{className:"flex-1 overflow-y-auto overscroll-contain pb-20 lg:pb-0",children:n.jsx("div",{className:"px-3 sm:px-4 py-3 sm:py-4 w-full max-w-7xl mx-auto",children:n.jsx(Ng,{})})}),n.jsx(x3,{})]})}function b3(){const{isAuthenticated:s,loading:l}=ds(),{healthCheckCompleted:r,loading:t}=ze(),o=Ha();return l&&!s?n.jsx(xu,{phase:"auth"}):!s&&!l?n.jsx(Wc,{to:"/",replace:!0}):t?n.jsx(xu,{phase:"data"}):r===!1&&o.pathname!=="/health-check"?n.jsx(Wc,{to:"/health-check",replace:!0}):n.jsx(Ng,{})}const Mb="https://raw.githubusercontent.com/jagadeeshkmanne/capital-friends/main/logo.png";function x1(){const{isAuthenticated:s,loading:l,error:r,signIn:t}=ds(),o=us(),[u,d]=j.useState(0),[m,x]=j.useState(!1),p=j.useRef(null),v=j.useCallback(()=>{p.current&&clearInterval(p.current),p.current=setInterval(()=>{x(M=>(M||d(D=>(D+1)%4),M))},5e3)},[]);j.useEffect(()=>(v(),()=>{p.current&&clearInterval(p.current)}),[v]);function b(M){d(M),v()}if(j.useEffect(()=>{s&&o("/dashboard",{replace:!0})},[s,o]),l)return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#080d1a]",children:n.jsx("img",{src:"/logo-small.png",alt:"",className:"h-16 w-16 animate-pulse"})});const S=[{id:"ath",label:"ATH Tracking",icon:n.jsx(ml,{size:18}),color:"emerald",tagline:"Spot Buying Opportunities",desc:"See how far each mutual fund is from its All-Time High NAV. When a quality fund dips 10-20% below ATH, it's your signal to invest more  via SIP increase or lumpsum.",mock:n.jsx(y3,{})},{id:"rebalance",label:"Rebalancing",icon:n.jsx(Hi,{size:18}),color:"violet",tagline:"Know Exactly What to Buy or Sell",desc:"Set target allocation for each fund. When your portfolio drifts, Capital Friends tells you exactly how much to adjust  via SIP changes, lumpsum top-ups, or buy/sell actions.",mock:n.jsx(N3,{})},{id:"goals",label:"Goal Linking",icon:n.jsx(Gi,{size:18}),color:"cyan",tagline:"Link Portfolios to Goals",desc:"Create goals like retirement, child education, or emergency fund. Link MF portfolios with allocation percentages. Goal progress updates automatically as NAVs change daily.",mock:n.jsx(j3,{})},{id:"dashboard",label:"Family View",icon:n.jsx(fl,{size:18}),color:"amber",tagline:"Everyone's Wealth, One Dashboard",desc:"Switch between family members in one click. See combined or individual net worth, investments, insurance, loans  everything your family owns, in one place.",mock:n.jsx(g3,{})}],w=S[u];return n.jsxs("div",{className:"min-h-screen bg-[#080d1a] text-slate-200",children:[n.jsx("header",{className:"sticky top-0 z-50 bg-[#0a0f1f]/95 backdrop-blur-sm border-b border-white/[0.06]",children:n.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 h-14",children:[n.jsx("img",{src:Mb,alt:"Capital Friends",className:"h-12"}),n.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-violet-600 to-cyan-600 text-white text-sm font-semibold hover:from-violet-500 hover:to-cyan-500 transition-all cursor-pointer",children:[n.jsx(Tb,{s:14})," Sign In"]})]})}),n.jsxs("section",{className:"relative px-5 sm:px-8 lg:px-16 pt-10 sm:pt-14 pb-8 sm:pb-10 overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 left-1/4 w-[600px] h-[400px] bg-violet-600/8 rounded-full blur-[120px] pointer-events-none"}),n.jsx("div",{className:"absolute top-20 right-1/4 w-[400px] h-[300px] bg-cyan-600/6 rounded-full blur-[100px] pointer-events-none"}),n.jsxs("div",{className:"relative text-center",children:[n.jsx("span",{className:"inline-block text-xs font-bold uppercase tracking-[0.2em] text-violet-400 bg-violet-500/10 border border-violet-500/20 rounded-full px-4 py-1.5 mb-5",children:"Always Free  100% Private  Your Google Sheet"}),n.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-extrabold leading-[1.1] tracking-tight text-white",children:["One dashboard for your family's"," ",n.jsx("span",{className:"bg-gradient-to-r from-violet-400 to-cyan-400 bg-clip-text text-transparent",children:"entire wealth"})]}),n.jsxs("p",{className:"mt-5 text-base sm:text-lg text-slate-400 leading-relaxed max-w-2xl mx-auto",children:["Mutual funds, stocks, FDs, gold, insurance, loans  track everything for every family member. Manual entry means ",n.jsx("strong",{className:"text-white",children:"no bank credentials, no privacy risk"}),"."]}),r&&n.jsx("p",{className:"mt-5 text-sm text-rose-400",children:r})]})]}),n.jsxs("section",{className:"bg-gradient-to-b from-[#0d0a1a] to-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-10 sm:py-14",children:[n.jsxs("div",{className:"text-center mb-10",children:[n.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white inline-flex items-center gap-3 flex-wrap justify-center",children:[n.jsx(ju,{size:28,className:"text-amber-400 shrink-0"}),n.jsxs("span",{children:["What happens if something happens to ",n.jsx("span",{className:"text-amber-400",children:"you"}),"?"]})]}),n.jsxs("p",{className:"mt-4 text-lg text-slate-400 leading-relaxed",children:["Your family should know about every investment, every policy, every loan. Not someday. ",n.jsx("strong",{className:"text-white",children:"Right now."})]})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsx(Ab,{icon:n.jsx(ep,{size:20}),color:"rose",title:"Without Capital Friends",items:["Scattered investments across 10+ platforms","Family has no idea what you own or owe","Insurance policies lost in email threads","Months of confusion, missed renewals, lost money"],bad:!0}),n.jsx(Ab,{icon:n.jsx(zi,{size:20}),color:"emerald",title:"With Capital Friends",items:["One sheet  every investment, policy, and loan","Family receives email reports with full portfolio details","Reminders for SIPs, renewals, EMI payments","Complete clarity, instantly  when it matters most"]})]}),n.jsxs("p",{className:"text-center mt-8 text-base text-slate-500",children:["Built for ",n.jsx("strong",{className:"text-white",children:"you"})," to manage your wealth  and for your ",n.jsx("strong",{className:"text-white",children:"family"})," to access it when they need to."]})]}),n.jsxs("section",{className:"bg-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"How it Works"}),n.jsx("p",{className:"text-base text-slate-500",children:"Set up in 2 minutes  no bank credentials, no downloads"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-4",children:[n.jsx(Ac,{num:1,icon:n.jsx(jC,{size:24}),color:"violet",title:"Sign In with Google",desc:"Go to capitalfriends.in and sign in with your Google account. That's all  no registration form, no passwords."}),n.jsx(Ac,{num:2,icon:n.jsx(rC,{size:24}),color:"emerald",title:"App Creates Your Sheet",desc:"The app creates a private Google Sheet in your own Google Drive. This sheet stores all your financial data. Only you can see it  not even the developer."}),n.jsx(Ac,{num:3,icon:n.jsx(py,{size:24}),color:"cyan",title:"Financial Health Check",desc:"Answer 7 simple yes/no questions about your financial health. Get your score and personalized recommendations instantly."}),n.jsx(Ac,{num:4,icon:n.jsx(ml,{size:24}),color:"amber",title:"Start Tracking",desc:"Add family members, portfolios, goals, insurance, and loans. The app connects to AMFI for live mutual fund prices automatically."})]}),n.jsxs("p",{className:"text-center mt-10 text-sm text-slate-600",children:["Your sheet is named ",n.jsx("strong",{className:"text-slate-400",children:"Capital Friends - Your Name"})," and lives in your Google Drive. The web app is just a beautiful dashboard to view and manage it."]})]}),n.jsxs("section",{id:"features",className:"bg-[#0b1022] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",onMouseEnter:()=>x(!0),onMouseLeave:()=>{x(!1),v()},children:[n.jsxs("div",{className:"text-center mb-10",children:[n.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Features That Set Us Apart"}),n.jsx("p",{className:"text-base text-slate-500",children:"Things you won't find on other portfolio trackers"})]}),n.jsx("div",{className:"flex justify-center gap-2 sm:gap-3 mb-10 flex-wrap",children:S.map((M,D)=>{const y=D===u,N={emerald:"border-emerald-500",violet:"border-violet-500",cyan:"border-cyan-500",amber:"border-amber-500"},k={emerald:"text-emerald-400",violet:"text-violet-400",cyan:"text-cyan-400",amber:"text-amber-400"};return n.jsxs("button",{onClick:()=>b(D),className:`relative flex items-center gap-2 px-5 py-2.5 rounded-full border text-sm font-semibold transition-all cursor-pointer ${y?`${N[M.color]} bg-white/[0.05] ${k[M.color]}`:"border-white/[0.08] text-slate-500 hover:border-white/[0.15] hover:text-slate-300"}`,children:[n.jsx("span",{className:"shrink-0",children:M.icon}),M.label,y&&n.jsx("div",{className:"absolute bottom-0 left-4 right-4 h-0.5 bg-white/[0.06] rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full rounded-full bg-current",style:{animation:"featureProgress 5s linear",animationPlayState:m?"paused":"running"}})})]},M.id)})}),n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-8 lg:gap-12",children:[n.jsxs("div",{className:"lg:flex-1 min-h-[280px]",children:[n.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:w.tagline}),n.jsx("p",{className:"mt-3 text-base text-slate-400 leading-relaxed",children:w.desc}),w.id==="ath"&&n.jsxs("div",{className:"mt-6 space-y-5",children:[n.jsx(Gt,{c:"emerald",t:"ATH tracking only for funds in your portfolios"}),n.jsx(Gt,{c:"emerald",t:"Color-coded signals: watch, consider, buy, strong buy"}),n.jsx(Gt,{c:"emerald",t:"Increase SIP or invest lumpsum when funds dip"}),n.jsx(Gt,{c:"emerald",t:"Daily NAV updates from AMFI data"})]}),w.id==="rebalance"&&n.jsxs("div",{className:"mt-6 space-y-5",children:[n.jsx(Gt,{c:"violet",t:"Adjust monthly SIP to rebalance gradually"}),n.jsx(Gt,{c:"violet",t:"Lumpsum top-up for quick rebalance"}),n.jsx(Gt,{c:"violet",t:"Buy/Sell amounts to match target"}),n.jsx(Gt,{c:"violet",t:"Configurable threshold per portfolio"})]}),w.id==="goals"&&n.jsxs("div",{className:"mt-6 space-y-5",children:[n.jsx(Gt,{c:"cyan",t:"Link multiple MF portfolios to each goal"}),n.jsx(Gt,{c:"cyan",t:"Built-in SIP + lumpsum calculator with inflation"}),n.jsx(Gt,{c:"cyan",t:"Auto-status: On Track, Needs Attention, Achieved"}),n.jsx(Gt,{c:"cyan",t:"Withdrawal planning for retirement goals"})]}),w.id==="dashboard"&&n.jsxs("div",{className:"mt-6 space-y-5",children:[n.jsx(Gt,{c:"amber",t:"One-click switch between family members"}),n.jsx(Gt,{c:"amber",t:"Combined net worth across everyone"}),n.jsx(Gt,{c:"amber",t:"MF, stocks, FD, gold, PPF, NPS, insurance"}),n.jsx(Gt,{c:"amber",t:"Email reports sent to family automatically"})]})]}),n.jsx("div",{className:"lg:flex-1 min-w-0 min-h-[380px] flex flex-col justify-center",children:w.mock})]}),n.jsx("style",{children:`
          @keyframes featureProgress {
            from { width: 0% }
            to { width: 100% }
          }
        `})]}),n.jsxs("section",{className:"bg-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",children:[n.jsxs("div",{className:"text-center mb-10",children:[n.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Everything You Need"}),n.jsx("p",{className:"text-base text-slate-500",children:"One dashboard for your entire financial life"})]}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:[n.jsx(Sr,{icon:n.jsx(Ii,{size:20}),c:"rose",t:"Stock Portfolios",d:"Buy/sell tracking, average cost, P&L with live NSE prices"}),n.jsx(Sr,{icon:n.jsx(_C,{size:20}),c:"orange",t:"FD, Gold, PPF, NPS",d:"Track any investment type  all counted in net worth"}),n.jsx(Sr,{icon:n.jsx(zi,{size:20}),c:"teal",t:"Insurance Tracker",d:"Life, health, term policies with premiums & renewal dates"}),n.jsx(Sr,{icon:n.jsx(Bi,{size:20}),c:"red",t:"Liabilities",d:"Loans & EMIs. Net worth = total assets minus debts"}),n.jsx(Sr,{icon:n.jsx(yu,{size:20}),c:"yellow",t:"Smart Reminders",d:"SIP dates, renewals, EMI payments, maturity alerts"}),n.jsx(Sr,{icon:n.jsx(fl,{size:20}),c:"pink",t:"Family Sharing",d:"Invite family with Google accounts  shared dashboard"}),n.jsx(Sr,{icon:n.jsx(Hi,{size:20}),c:"blue",t:"Daily Auto-Refresh",d:"NAVs and stock prices update automatically every day"}),n.jsx(Sr,{icon:n.jsx(sf,{size:20}),c:"emerald",t:"Complete Privacy",d:"No servers, no database, no tracking  your Sheet only"})]})]}),n.jsxs("section",{className:"border-y border-white/[0.06]",children:[n.jsxs("div",{className:"bg-[#0b1022] px-5 sm:px-8 lg:px-16 py-10 sm:py-14 text-center",children:[n.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white inline-flex items-center gap-3",children:[n.jsx(sf,{size:28,className:"text-emerald-400 shrink-0"}),"Your Data Never Leaves Google"]}),n.jsxs("p",{className:"mt-3 text-base sm:text-lg text-slate-400 leading-relaxed",children:["No backend server. No database. No tracking. The web app is a static site. Your spreadsheet lives in ",n.jsx("strong",{className:"text-white",children:"your Google Drive"}),". We literally cannot access your financial data."]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row",children:[n.jsx(gf,{icon:n.jsx(zi,{size:20}),t:"Manual Entry Only",d:"No bank linking, no credentials shared. You type your data  no one else has access.",bg:"bg-[#0d1326]",c:"emerald"}),n.jsx(gf,{icon:n.jsx(sf,{size:20}),t:"Your Google Sheet",d:"A private spreadsheet in your Drive. Share only with family you choose.",bg:"bg-[#0f1530]",c:"violet"}),n.jsx(gf,{icon:n.jsx(eu,{size:20}),t:"Always Free",d:"No premium tier, no hidden fees, no ads. Free today, free forever.",bg:"bg-[#111838]",c:"amber"})]})]}),n.jsxs("section",{className:"bg-gradient-to-t from-[#080d1a] to-[#0d1128] border-t border-white/[0.06] px-5 sm:px-8 lg:px-16 py-16 text-center",children:[n.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-white",children:"Start managing your family's wealth today"}),n.jsx("p",{className:"mt-3 text-base text-slate-500",children:"Always free. No credit card. No bank linking. Just your Google account."}),n.jsxs("button",{onClick:t,className:"mt-8 inline-flex items-center gap-2.5 px-8 py-3.5 bg-gradient-to-r from-violet-600 to-cyan-600 text-white font-bold text-base rounded-xl hover:from-violet-500 hover:to-cyan-500 shadow-lg shadow-violet-900/30 transition-all hover:scale-[1.02] cursor-pointer",children:[n.jsx(Tb,{s:20})," Sign in with Google  It's Free"]}),r&&n.jsx("p",{className:"mt-3 text-sm text-rose-400",children:r})]}),n.jsxs("footer",{className:"border-t border-white/[0.04] px-5 sm:px-8 lg:px-16 py-5 flex items-center justify-between",children:[n.jsx("img",{src:Mb,alt:"",className:"h-5 opacity-30"}),n.jsx("p",{className:"text-xs text-slate-600",children:"Your data. Your Google Drive. Your control."})]})]})}function Ab({icon:s,title:l,items:r,bad:t}){const o=t?"border-rose-500/15":"border-emerald-500/15",u=t?"bg-rose-500/[0.04]":"bg-emerald-500/[0.04]",d=t?"bg-rose-500/10 text-rose-400":"bg-emerald-500/10 text-emerald-400",m=t?"text-rose-400":"text-emerald-400";return n.jsxs("div",{className:`rounded-2xl border ${o} ${u} p-6`,children:[n.jsxs("h3",{className:`text-lg font-bold ${m} mb-4 flex items-center gap-2.5`,children:[n.jsx("span",{className:`flex items-center justify-center w-8 h-8 rounded-lg ${d} shrink-0`,children:s}),l]}),n.jsx("ul",{className:"space-y-3",children:r.map((x,p)=>n.jsxs("li",{className:"flex items-start gap-2.5",children:[t?n.jsx("span",{className:"text-rose-500/60 mt-0.5 shrink-0",children:""}):n.jsx(Dl,{size:16,className:"text-emerald-500 mt-0.5 shrink-0"}),n.jsx("span",{className:"text-sm text-slate-300 leading-relaxed",children:x})]},p))})]})}function g3(){return n.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[n.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f]",children:[n.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Dashboard"}),n.jsx("div",{className:"flex gap-1.5",children:["Everyone","Jagadeesh","Priya","Arjun"].map((s,l)=>n.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full font-medium ${l===0?"bg-violet-500/20 text-violet-300":"text-slate-600"}`,children:s},s))})]}),n.jsxs("div",{className:"grid grid-cols-3 divide-x divide-white/[0.04]",children:[n.jsx(vf,{l:"Net Worth",v:"45.2L",lc:"text-violet-400",vc:"text-white"}),n.jsx(vf,{l:"Invested",v:"38.7L",lc:"text-slate-500",vc:"text-slate-300"}),n.jsx(vf,{l:"P&L",v:"+6.5L",lc:"text-slate-500",vc:"text-emerald-400",extra:"+16.8%"})]}),n.jsxs("div",{className:"border-t border-white/[0.04]",children:[n.jsx(bf,{n:"Axis Bluechip Fund",alloc:"30% / 25%",cur:"6.2L",pl:"+24.0%",ath:"5.2%",athC:"text-[#e67e00]",up:!0}),n.jsx(bf,{n:"Parag Parikh Flexi Cap",alloc:"35% / 40%",cur:"4.8L",pl:"+37.1%",ath:"At ATH",athC:"text-emerald-500",up:!0}),n.jsx(bf,{n:"SBI Small Cap Fund",alloc:"20% / 15%",cur:"1.8L",pl:"-10.0%",ath:"18.3%",athC:"text-[#d84315]",last:!0})]})]})}function y3(){const s=[{n:"HDFC Mid-Cap Opportunities",nav:"142.35",ath:"168.50",pct:"15.5%",color:"text-[#d84315]",signal:"Good Buy Signal",sigC:"text-[#d84315] bg-[#d84315]/15"},{n:"Axis Small Cap Fund",nav:"38.22",ath:"52.10",pct:"26.6%",color:"text-[#c62828]",signal:"Strong Buy",sigC:"text-[#c62828] bg-[#c62828]/15 font-bold"},{n:"Kotak Emerging Equity",nav:"89.10",ath:"92.40",pct:"3.6%",color:"text-[#b8860b]",signal:"Watch",sigC:"text-[#b8860b] bg-[#b8860b]/15"},{n:"Mirae Asset Large Cap",nav:"105.80",ath:"106.20",pct:"0.4%",color:"text-slate-500",signal:"Near ATH",sigC:"text-slate-500 bg-white/[0.04]"}];return n.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[n.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-semibold text-white",children:"Buy Opportunities"}),n.jsx("span",{className:"text-xs text-emerald-400 font-semibold bg-emerald-500/10 px-2.5 py-1 rounded-full",children:"2 signals"})]}),s.map((l,r)=>n.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${r<s.length-1?"border-b border-white/[0.03]":""}`,children:[n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-slate-300 truncate",children:l.n}),n.jsxs("p",{className:"text-xs text-slate-600 mt-0.5",children:["NAV ","",l.nav,"  ATH ","",l.ath]})]}),n.jsxs("div",{className:"text-right shrink-0 ml-3",children:[n.jsxs("p",{className:`text-base font-bold tabular-nums ${l.color}`,children:[n.jsx(jS,{size:13,className:"inline -mt-0.5"})," ",l.pct]}),n.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded ${l.sigC}`,children:l.signal})]})]},r))]})}function N3(){const[s,l]=j.useState(0),r=["SIP Adjust","Lumpsum","Buy / Sell"],t=["New SIP","Lumpsum Top-up","Action"],u=[[{n:"Axis Bluechip",val:"SIP 6,000",cur:"30%",tgt:"25%",action:"Stop SIP",actionC:"text-amber-400"},{n:"Parag Parikh Flexi",val:"SIP 7,000",cur:"35%",tgt:"40%",action:"12,000/mo",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"SIP 4,000",cur:"20%",tgt:"15%",action:"Stop SIP",actionC:"text-amber-400"},{n:"HDFC Large Cap",val:"SIP 3,000",cur:"15%",tgt:"20%",action:"8,000/mo",actionC:"text-emerald-400"}],[{n:"Axis Bluechip",val:"3,00,000",cur:"30%",tgt:"25%",action:"No action",actionC:"text-slate-600"},{n:"Parag Parikh Flexi",val:"3,50,000",cur:"35%",tgt:"40%",action:"Invest 55,000",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"2,00,000",cur:"20%",tgt:"15%",action:"No action",actionC:"text-slate-600"},{n:"HDFC Large Cap",val:"1,50,000",cur:"15%",tgt:"20%",action:"Invest 45,000",actionC:"text-emerald-400"}],[{n:"Axis Bluechip",val:"3,00,000",cur:"30%",tgt:"25%",action:"Sell 50,000",actionC:"text-rose-400"},{n:"Parag Parikh Flexi",val:"3,50,000",cur:"35%",tgt:"40%",action:"Buy 50,000",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"2,00,000",cur:"20%",tgt:"15%",action:"Sell 50,000",actionC:"text-rose-400"},{n:"HDFC Large Cap",val:"1,50,000",cur:"15%",tgt:"20%",action:"Buy 50,000",actionC:"text-emerald-400"}]][s];return n.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[n.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-semibold text-white",children:"Rebalance Portfolio"}),n.jsx("span",{className:"text-xs text-violet-400 font-semibold bg-violet-500/10 px-2.5 py-1 rounded-full",children:"4 off-target"})]}),n.jsx("div",{className:"flex border-b border-white/[0.04]",children:r.map((d,m)=>n.jsx("button",{onClick:()=>l(m),className:`flex-1 text-xs font-semibold py-2.5 text-center cursor-pointer transition-colors ${m===s?"text-violet-400 border-b-2 border-violet-400":"text-slate-600 hover:text-slate-400"}`,children:d},d))}),n.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 border-b border-white/[0.04] bg-[#0a0f1f]/50 flex-wrap",children:[n.jsx("span",{className:"text-xs text-slate-500",children:"Portfolio Value"}),n.jsxs("span",{className:"text-sm text-white font-semibold tabular-nums",children:["","10,00,000"]}),s===0&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-xs text-slate-600",children:"|"}),n.jsx("span",{className:"text-xs text-slate-500",children:"Total SIP"}),n.jsxs("span",{className:"text-sm text-white font-semibold tabular-nums",children:["","20,000"]})]}),s===1&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-xs text-slate-600",children:"|"}),n.jsx("span",{className:"text-xs text-slate-500",children:"Lumpsum"}),n.jsx("input",{type:"text",readOnly:!0,value:"1,00,000",className:"bg-white/[0.04] border border-white/[0.08] rounded-md px-2 py-1 text-sm text-white font-semibold tabular-nums w-24 text-right cursor-default outline-none"})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"grid grid-cols-[1fr_50px_50px_1fr] gap-1 px-4 py-2.5 text-xs text-slate-600 font-semibold border-b border-white/[0.03]",children:[n.jsx("span",{children:"Fund / Value"}),n.jsx("span",{className:"text-center",children:"Current"}),n.jsx("span",{className:"text-center",children:"Target"}),n.jsx("span",{className:"text-right",children:t[s]})]}),u.map((d,m)=>n.jsxs("div",{className:`grid grid-cols-[1fr_50px_50px_1fr] gap-1 px-4 py-2.5 items-center ${m<u.length-1?"border-b border-white/[0.03]":""}`,children:[n.jsxs("div",{className:"min-w-0",children:[n.jsx("span",{className:"text-sm text-slate-300 truncate block",children:d.n}),n.jsxs("span",{className:"text-[10px] text-slate-600",children:["",d.val]})]}),n.jsx("span",{className:"text-sm text-center text-slate-400 tabular-nums",children:d.cur}),n.jsx("span",{className:"text-sm text-center text-slate-400 tabular-nums",children:d.tgt}),n.jsx("span",{className:`text-sm text-right font-semibold ${d.actionC}`,children:d.action})]},`${s}-${m}`))]})]})}function j3(){const s=[{n:"Retirement",tgt:"2Cr",cur:"28.5L",pct:14,sip:"45,000",yrs:"18 yrs",status:"On Track",sc:"text-blue-400 bg-blue-500/15",bc:"bg-blue-500"},{n:"Child Education",tgt:"50L",cur:"12.2L",pct:24,sip:"15,000",yrs:"12 yrs",status:"On Track",sc:"text-blue-400 bg-blue-500/15",bc:"bg-blue-500"},{n:"New Car",tgt:"15L",cur:"4.1L",pct:27,sip:"12,000",yrs:"3 yrs",status:"Needs Attention",sc:"text-amber-400 bg-amber-500/15",bc:"bg-amber-500"}];return n.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[n.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-semibold text-white",children:"Goals"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xs text-slate-500",children:"2 On Track"}),n.jsx("span",{className:"text-xs text-amber-400",children:"1 Needs Attention"})]})]}),s.map((l,r)=>n.jsxs("div",{className:`px-4 py-3.5 ${r<s.length-1?"border-b border-white/[0.03]":""}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm font-semibold text-white",children:l.n}),n.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded-full ${l.sc}`,children:l.status})]}),n.jsxs("span",{className:"text-xs text-slate-500",children:["",l.sip,"/mo  ",l.yrs]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex-1 h-2.5 rounded-full bg-white/[0.06] overflow-hidden",children:n.jsx("div",{className:`h-full rounded-full ${l.bc}`,style:{width:`${l.pct}%`}})}),n.jsxs("span",{className:"text-sm font-semibold text-slate-300 tabular-nums w-10 text-right",children:[l.pct,"%"]})]}),n.jsxs("div",{className:"flex justify-between mt-1.5 text-xs text-slate-600",children:[n.jsxs("span",{children:["",l.cur," of ","",l.tgt]}),n.jsxs("span",{className:"flex items-center gap-1 text-slate-500",children:[n.jsx(tu,{size:10})," 2 portfolios linked"]})]})]},r))]})}function Tb({s=16}){return n.jsxs("svg",{viewBox:"0 0 24 24",width:s,height:s,className:"shrink-0",children:[n.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 01-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z",fill:"#4285F4"}),n.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),n.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),n.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}function vf({l:s,v:l,lc:r,vc:t,extra:o}){return n.jsxs("div",{className:"py-3.5 text-center",children:[n.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider ${r}`,children:s}),n.jsxs("p",{className:`text-lg font-bold tabular-nums mt-0.5 ${t}`,children:[l,o&&n.jsx("span",{className:"text-sm ml-1 text-emerald-400",children:o})]})]})}function bf({n:s,alloc:l,cur:r,pl:t,ath:o,athC:u,up:d,last:m}){return n.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${m?"":"border-b border-white/[0.03]"}`,children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-slate-300",children:s}),n.jsxs("p",{className:"text-xs text-slate-600",children:["Alloc ",l,"  ",n.jsx("span",{className:u,children:o!=="At ATH"?`${o} below ATH`:o})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm font-semibold text-slate-200 tabular-nums",children:r}),n.jsx("p",{className:`text-sm font-semibold tabular-nums ${d?"text-emerald-400":"text-rose-400"}`,children:t})]})]})}function Gt({c:s,t:l}){const r={violet:"text-violet-400",cyan:"text-cyan-400",amber:"text-amber-400",emerald:"text-emerald-400"};return n.jsxs("div",{className:"flex items-center gap-2.5",children:[n.jsx(Dl,{size:16,className:`${r[s]} shrink-0`}),n.jsx("span",{className:"text-sm text-slate-300",children:l})]})}function Ac({num:s,icon:l,color:r,title:t,desc:o}){const u={violet:["text-violet-400","bg-violet-500/10","border-violet-500/20","from-violet-500/20 to-violet-500/5"],emerald:["text-emerald-400","bg-emerald-500/10","border-emerald-500/20","from-emerald-500/20 to-emerald-500/5"],cyan:["text-cyan-400","bg-cyan-500/10","border-cyan-500/20","from-cyan-500/20 to-cyan-500/5"],amber:["text-amber-400","bg-amber-500/10","border-amber-500/20","from-amber-500/20 to-amber-500/5"]},[d,m,x,p]=u[r]||u.violet;return n.jsxs("div",{className:`relative rounded-2xl border ${x} bg-gradient-to-b ${p} p-6 text-center`,children:[n.jsx("span",{className:`inline-flex items-center justify-center w-12 h-12 rounded-xl ${m} ${d} mb-4`,children:l}),n.jsxs("span",{className:`absolute top-4 right-4 text-xs font-bold ${d} opacity-40`,children:["0",s]}),n.jsx("h3",{className:"text-base font-bold text-white mb-2",children:t}),n.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:o})]})}function gf({icon:s,t:l,d:r,bg:t,c:o}){const u={emerald:"text-emerald-400",violet:"text-violet-400",amber:"text-amber-400"};return n.jsxs("div",{className:`flex-1 ${t} px-5 sm:px-8 lg:px-10 py-6 sm:py-8 border-b sm:border-b-0 sm:border-r border-white/[0.04] last:border-0`,children:[n.jsxs("p",{className:"text-base font-bold text-white flex items-center gap-2",children:[n.jsx("span",{className:`${u[o]} shrink-0`,children:s}),l]}),n.jsx("p",{className:"text-sm text-slate-500 mt-1.5 leading-relaxed",children:r})]})}const Eb={violet:["text-violet-400","bg-violet-500/8","border-violet-500/10"],blue:["text-blue-400","bg-blue-500/8","border-blue-500/10"],emerald:["text-emerald-400","bg-emerald-500/8","border-emerald-500/10"],cyan:["text-cyan-400","bg-cyan-500/8","border-cyan-500/10"],rose:["text-rose-400","bg-rose-500/8","border-rose-500/10"],orange:["text-orange-400","bg-orange-500/8","border-orange-500/10"],teal:["text-teal-400","bg-teal-500/8","border-teal-500/10"],red:["text-red-400","bg-red-500/8","border-red-500/10"],yellow:["text-yellow-400","bg-yellow-500/8","border-yellow-500/10"],pink:["text-pink-400","bg-pink-500/8","border-pink-500/10"]};function Sr({icon:s,c:l,t:r,d:t}){const[o,u,d]=Eb[l]||Eb.violet;return n.jsxs("div",{className:`rounded-xl border ${d} ${u} p-5`,children:[n.jsxs("p",{className:"text-base font-bold text-white flex items-center gap-2",children:[n.jsx("span",{className:`${o} shrink-0`,children:s}),r]}),n.jsx("p",{className:"text-sm text-slate-500 mt-1.5 leading-relaxed",children:t})]})}function w3(){const{isAuthenticated:s,loading:l}=ds();return l?n.jsx(xu,{}):s?n.jsx(Wc,{to:"/investments/mutual-funds",replace:!0}):n.jsx(x1,{})}function S3(){const s=Ha();return n.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-violet-500/15 rounded-2xl flex items-center justify-center mb-4",children:n.jsx(GS,{size:32,className:"text-violet-400"})}),n.jsx("h3",{className:"text-xl font-semibold text-[var(--text-primary)] mb-2",children:"Coming Soon"}),n.jsx("p",{className:"text-[var(--text-muted)] text-sm max-w-sm",children:"This page is under construction. Navigate using the sidebar to explore available sections."}),n.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-3 font-mono",children:s.pathname})]})}const C3=["Savings Account","Current Account","Fixed Deposit (FD)","Recurring Deposit (RD)","NRE Account","NRO Account","Minor Account"].map(s=>({value:s,label:s}));function D3({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o}=ze(),u=!!s,[d,m]=j.useState({accountName:s?.accountName||"",memberId:s?.memberId||"",bankName:s?.bankName||"",accountNumber:s?.accountNumber||"",ifscCode:s?.ifscCode||"",branchName:s?.branchName||"",accountType:s?.accountType||"",status:s?.status||"Active"}),[x,p]=j.useState({}),[v,b]=j.useState(!1);function S(y,N){m(k=>({...k,[y]:N})),p(k=>({...k,[y]:void 0}))}function w(){const y={};return d.accountName.trim()||(y.accountName="Required"),d.memberId||(y.memberId="Required"),d.bankName.trim()||(y.bankName="Required"),String(d.accountNumber||"").trim()||(y.accountNumber="Required"),d.ifscCode.trim()||(y.ifscCode="Required"),d.branchName.trim()||(y.branchName="Required"),d.accountType||(y.accountType="Required"),p(y),Object.keys(y).length===0}async function M(){if(w()){b(!0);try{await l({...d,ifscCode:d.ifscCode.toUpperCase()})}finally{b(!1)}}}const D=o.map(y=>({value:y.memberId,label:`${y.memberName} (${y.relationship})`}));return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Account Name",required:!0,error:x.accountName,children:n.jsx(me,{value:d.accountName,onChange:y=>S("accountName",y),placeholder:"e.g., HDFC Savings"})}),n.jsx(ee,{label:"Family Member",required:!0,error:x.memberId,children:n.jsx(Te,{value:d.memberId,onChange:y=>S("memberId",y),options:D,placeholder:"Select member..."})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Bank Name",required:!0,error:x.bankName,children:n.jsx(me,{value:d.bankName,onChange:y=>S("bankName",y),placeholder:"e.g., HDFC Bank"})}),n.jsx(ee,{label:"Account Type",required:!0,error:x.accountType,children:n.jsx(Te,{value:d.accountType,onChange:y=>S("accountType",y),options:C3,placeholder:"Select type..."})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Account Number",required:!0,error:x.accountNumber,children:n.jsx(me,{sensitive:!0,value:d.accountNumber,onChange:y=>S("accountNumber",y),placeholder:"e.g., 1234567890"})}),n.jsx(ee,{label:"IFSC Code",required:!0,error:x.ifscCode,children:n.jsx(me,{value:d.ifscCode,onChange:y=>S("ifscCode",y.toUpperCase()),placeholder:"e.g., HDFC0001234",maxLength:11})})]}),n.jsx(ee,{label:"Branch Name",required:!0,error:x.branchName,children:n.jsx(me,{value:d.branchName,onChange:y=>S("branchName",y),placeholder:"e.g., Hyderabad - Kondapur"})}),u&&n.jsx(ee,{label:"Status",children:n.jsx(Te,{value:d.status,onChange:y=>S("status",y),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),n.jsxs("div",{className:"flex items-center justify-between",children:[u&&r?n.jsx(jn,{onClick:r}):n.jsx("div",{}),n.jsx(Xt,{onCancel:t,onSubmit:M,submitLabel:u?"Update":"Add Account",loading:v})]})]})}function Zn({title:s="Loading"}){return n.jsxs("div",{className:"flex flex-col items-center justify-center py-32 gap-3",children:[n.jsx("span",{className:"w-7 h-7 border-[2.5px] border-violet-400/30 border-t-violet-400 rounded-full animate-spin"}),n.jsxs("span",{className:"text-sm font-semibold text-[var(--text-primary)]",children:[s,"..."]})]})}const _b={"Savings Account":"bg-blue-500/15 text-[var(--accent-blue)]",Savings:"bg-blue-500/15 text-[var(--accent-blue)]",Salary:"bg-emerald-500/15 text-emerald-400","Current Account":"bg-violet-500/15 text-[var(--accent-violet)]","Fixed Deposit":"bg-amber-500/15 text-[var(--accent-amber)]","Fixed Deposit (FD)":"bg-amber-500/15 text-[var(--accent-amber)]"};function Ob(){const{selectedMember:s,member:l}=Yt(),{banks:r,addBankAccount:t,updateBankAccount:o,deleteBankAccount:u}=ze(),{showToast:d,showBlockUI:m,hideBlockUI:x}=gn(),{mv:p}=yn(),[v,b]=j.useState(null);if(r===null)return n.jsx(Zn,{title:"Loading bank accounts",cards:3});const S=j.useMemo(()=>{const N=r.filter(k=>k.status!=="Inactive");return s==="all"?N:N.filter(k=>k.memberId===s)},[r,s]),w=j.useMemo(()=>new Set(S.map(N=>N.bankName)).size,[S]),M=j.useMemo(()=>S.filter(N=>N.accountType==="Savings"||N.accountType==="Savings Account"||N.accountType==="Salary").length,[S]);async function D(N){m("Saving...");try{v?.edit?await o(v.edit.accountId,N):await t(N),d(v?.edit?"Bank account updated":"Bank account added"),b(null)}catch(k){d(k.message||"Failed to save bank account","error")}finally{x()}}async function y(){if(v?.edit&&confirm("Deactivate this bank account?")){m("Deactivating...");try{await u(v.edit.accountId),d("Bank account deactivated"),b(null)}catch(N){d(N.message||"Failed to deactivate bank account","error")}finally{x()}}}return n.jsxs("div",{className:"space-y-4",children:[S.length===0?n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[n.jsx(hy,{size:32,className:"text-[var(--text-dim)]"}),n.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No bank accounts",l?` for ${l.memberName}`:""]}),n.jsx("button",{onClick:()=>b("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first bank account"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsx(yf,{label:"Total Accounts",value:S.length}),n.jsx(yf,{label:"Banks",value:w}),n.jsx(yf,{label:"Savings / Salary",value:M})]}),n.jsx("div",{className:"flex items-center justify-end px-1",children:n.jsxs("button",{onClick:()=>b("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[n.jsx(Ma,{size:14})," Add Account"]})}),n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[n.jsx("div",{className:"hidden sm:block overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm min-w-[580px]",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[n.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Bank"}),!l&&n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account No."}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Branch"}),n.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),n.jsx("tbody",{children:S.map(N=>n.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[n.jsx("td",{className:"py-2.5 px-4",children:n.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:N.accountName})}),n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:N.bankName}),!l&&n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:N.memberName}),n.jsx("td",{className:"py-2.5 px-3",children:n.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${_b[N.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:N.accountType})}),n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:p(N.accountNumber,"account")}),n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-dim)]",children:N.branchName}),n.jsx("td",{className:"py-2.5 px-2",children:n.jsx("button",{onClick:()=>b({edit:N}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:n.jsx(bn,{size:12})})})]},N.accountId))})]})}),n.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:S.map(N=>n.jsxs("div",{onClick:()=>b({edit:N}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:N.accountName}),n.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${_b[N.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:N.accountType})]}),n.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[N.bankName,l?"":`  ${N.memberName}`]}),n.jsxs("div",{className:"flex items-center justify-between mt-1",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:p(N.accountNumber,"account")}),n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:N.branchName})]})]},N.accountId))})]})]}),n.jsx(At,{open:!!v,onClose:()=>b(null),title:v?.edit?"Edit Bank Account":"Add Bank Account",children:n.jsx(D3,{initial:v?.edit||void 0,onSave:D,onDelete:v?.edit?y:void 0,onCancel:()=>b(null)})})]})}function yf({label:s,value:l}){return n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),n.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:l})]})}const k3=["Demat + Trading","Mutual Fund","Trading","Direct AMC","Broker"].map(s=>({value:s,label:s}));function M3({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o,activeBanks:u}=ze(),d=!!s,[m,x]=j.useState({accountName:s?.accountName||"",memberId:s?.memberId||"",bankAccountId:s?.bankAccountId||"",accountType:s?.accountType||"",platformBroker:s?.platformBroker||"",accountClientId:s?.accountClientId||"",dematDpId:s?.dematDpId||"",registeredEmail:s?.registeredEmail||"",registeredPhone:s?.registeredPhone||"",status:s?.status||"Active"}),[p,v]=j.useState({}),[b,S]=j.useState(!1);function w(g,O){x(Y=>({...Y,[g]:O})),v(Y=>({...Y,[g]:void 0}))}function M(g){x(O=>({...O,memberId:g,bankAccountId:""})),v(O=>({...O,memberId:void 0}))}function D(){const g={};return m.accountName.trim()||(g.accountName="Required"),m.memberId||(g.memberId="Required"),m.bankAccountId||(g.bankAccountId="Required"),m.accountType||(g.accountType="Required"),m.platformBroker.trim()||(g.platformBroker="Required"),m.registeredEmail.trim()||(g.registeredEmail="Required"),m.registeredPhone.trim()||(g.registeredPhone="Required"),v(g),Object.keys(g).length===0}async function y(){if(D()){S(!0);try{await l(m)}finally{S(!1)}}}const N=o.map(g=>({value:g.memberId,label:`${g.memberName} (${g.relationship})`})),k=j.useMemo(()=>m.memberId?u.filter(g=>g.memberId===m.memberId).map(g=>({value:g.accountId,label:`${g.accountName} - ${g.bankName}`})):[],[u,m.memberId]);return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Account Name",required:!0,error:p.accountName,children:n.jsx(me,{value:m.accountName,onChange:g=>w("accountName",g),placeholder:"e.g., Zerodha Demat"})}),n.jsx(ee,{label:"Family Member",required:!0,error:p.memberId,children:n.jsx(Te,{value:m.memberId,onChange:M,options:N,placeholder:"Select member..."})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Linked Bank Account",required:!0,error:p.bankAccountId,children:n.jsx(Te,{value:m.bankAccountId,onChange:g=>w("bankAccountId",g),options:k,placeholder:m.memberId?k.length?"Select bank account...":"No bank accounts for this member":"Select member first..."})}),n.jsx(ee,{label:"Account Type",required:!0,error:p.accountType,children:n.jsx(Te,{value:m.accountType,onChange:g=>w("accountType",g),options:k3,placeholder:"Select type..."})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Platform / Broker",required:!0,error:p.platformBroker,children:n.jsx(me,{value:m.platformBroker,onChange:g=>w("platformBroker",g),placeholder:"e.g., Zerodha, Groww"})}),n.jsx(ee,{label:"Account / Client ID",error:p.accountClientId,children:n.jsx(me,{sensitive:!0,value:m.accountClientId,onChange:g=>w("accountClientId",g),placeholder:"e.g., ZR1234 (optional)"})})]}),n.jsx(ee,{label:"Demat DP ID",error:p.dematDpId,children:n.jsx(me,{sensitive:!0,value:m.dematDpId,onChange:g=>w("dematDpId",g),placeholder:"16-digit DP ID (optional)",maxLength:16})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Registered Email",required:!0,error:p.registeredEmail,children:n.jsx(me,{sensitive:!0,type:"email",value:m.registeredEmail,onChange:g=>w("registeredEmail",g),placeholder:"email@example.com"})}),n.jsx(ee,{label:"Registered Phone",required:!0,error:p.registeredPhone,children:n.jsx(me,{sensitive:!0,value:m.registeredPhone,onChange:g=>w("registeredPhone",g),placeholder:"9876543210"})})]}),d&&n.jsx(ee,{label:"Status",children:n.jsx(Te,{value:m.status,onChange:g=>w("status",g),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),n.jsxs("div",{className:"flex items-center justify-between",children:[d&&r?n.jsx(jn,{onClick:r}):n.jsx("div",{}),n.jsx(Xt,{onCancel:t,onSubmit:y,submitLabel:d?"Update":"Add Account",loading:b})]})]})}const Rb={"Demat + Trading":"bg-violet-500/15 text-[var(--accent-violet)]","Mutual Fund":"bg-blue-500/15 text-[var(--accent-blue)]",Trading:"bg-orange-500/15 text-[var(--accent-orange)]",Demat:"bg-amber-500/15 text-[var(--accent-amber)]","Direct AMC":"bg-emerald-500/15 text-emerald-400",Broker:"bg-rose-500/15 text-[var(--accent-rose)]"};function A3(){const{selectedMember:s,member:l}=Yt(),{investmentAccounts:r,addInvestmentAccount:t,updateInvestmentAccount:o,deleteInvestmentAccount:u}=ze(),{showToast:d,showBlockUI:m,hideBlockUI:x}=gn(),{mv:p}=yn(),[v,b]=j.useState(null);if(r===null)return n.jsx(Zn,{title:"Loading investment accounts",cards:4});const S=j.useMemo(()=>{const k=r.filter(g=>g.status!=="Inactive");return s==="all"?k:k.filter(g=>g.memberId===s)},[r,s]),w=j.useMemo(()=>new Set(S.map(k=>k.platformBroker)).size,[S]),M=S.filter(k=>k.accountType==="Demat + Trading"||k.accountType==="Demat"||k.accountType==="Trading").length,D=S.filter(k=>k.accountType==="Mutual Fund"||k.accountType==="Direct AMC").length;async function y(k){m("Saving...");try{v?.edit?await o(v.edit.accountId,k):await t(k),d(v?.edit?"Investment account updated":"Investment account added"),b(null)}catch(g){d(g.message||"Failed to save investment account","error")}finally{x()}}async function N(){if(v?.edit&&confirm("Deactivate this investment account?")){m("Deactivating...");try{await u(v.edit.accountId),d("Investment account deactivated"),b(null)}catch(k){d(k.message||"Failed to deactivate investment account","error")}finally{x()}}}return n.jsxs("div",{className:"space-y-4",children:[S.length===0?n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[n.jsx(uy,{size:32,className:"text-[var(--text-dim)]"}),n.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No investment accounts",l?` for ${l.memberName}`:""]}),n.jsx("button",{onClick:()=>b("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first investment account"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[n.jsx(Tc,{label:"Total Accounts",value:S.length}),n.jsx(Tc,{label:"Platforms",value:w}),n.jsx(Tc,{label:"Demat / Trading",value:M}),n.jsx(Tc,{label:"Mutual Fund",value:D})]}),n.jsx("div",{className:"flex items-center justify-end px-1",children:n.jsxs("button",{onClick:()=>b("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[n.jsx(Ma,{size:14})," Add Account"]})}),n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[n.jsx("div",{className:"hidden sm:block overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm min-w-[620px]",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[n.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Platform"}),!l&&n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Client ID"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Bank"}),n.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),n.jsx("tbody",{children:S.map(k=>n.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[n.jsx("td",{className:"py-2.5 px-4",children:n.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:k.accountName})}),n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:k.platformBroker}),!l&&n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:k.memberName}),n.jsx("td",{className:"py-2.5 px-3",children:n.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Rb[k.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:k.accountType})}),n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:p(k.accountClientId,"clientId")}),n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-dim)]",children:k.bankAccountName}),n.jsx("td",{className:"py-2.5 px-2",children:n.jsx("button",{onClick:()=>b({edit:k}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:n.jsx(bn,{size:12})})})]},k.accountId))})]})}),n.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:S.map(k=>n.jsxs("div",{onClick:()=>b({edit:k}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:k.accountName}),n.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Rb[k.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:k.accountType})]}),n.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[k.platformBroker,l?"":`  ${k.memberName}`]}),n.jsxs("div",{className:"flex items-center justify-between mt-1",children:[n.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Client: ",p(k.accountClientId,"clientId")]}),n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:k.bankAccountName})]})]},k.accountId))})]})]}),n.jsx(At,{open:!!v,onClose:()=>b(null),title:v?.edit?"Edit Investment Account":"Add Investment Account",wide:!0,children:n.jsx(M3,{initial:v?.edit||void 0,onSave:y,onDelete:v?.edit?N:void 0,onCancel:()=>b(null)})})]})}function Tc({label:s,value:l}){return n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),n.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:l})]})}const T3=["Term Life","Health","Motor","Home Insurance","Travel","Personal Accident","Life Insurance","Others"].map(s=>({value:s,label:s})),E3=[{value:"Active",label:"Active"},{value:"Expired",label:"Expired"},{value:"Surrendered",label:"Surrendered"},{value:"Lapsed",label:"Lapsed"},{value:"Inactive",label:"Inactive"}];function _3({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o}=ze(),u=!!s,[d,m]=j.useState({policyType:s?.policyType||"",company:s?.company||"",policyNumber:s?.policyNumber||"",policyName:s?.policyName||"",insuredMember:s?.insuredMember||"",memberId:s?.memberId||"",sumAssured:s?.sumAssured||"",nominee:s?.nominee||"",premium:s?.premium||"",premiumFrequency:s?.premiumFrequency||"Annual",status:s?.status||"Active",notes:s?.notes||""}),[x,p]=j.useState({}),[v,b]=j.useState(!1);function S(N,k){m(g=>({...g,[N]:k})),p(g=>({...g,[N]:void 0}))}function w(N){const k=o.find(g=>g.memberId===N);m(g=>({...g,memberId:N,insuredMember:k?.memberName||""})),p(g=>({...g,memberId:void 0}))}function M(){const N={};return d.policyType||(N.policyType="Required"),d.company.trim()||(N.company="Required"),d.policyNumber.trim()||(N.policyNumber="Required"),d.policyName.trim()||(N.policyName="Required"),d.memberId||(N.memberId="Required"),(!d.sumAssured||Number(d.sumAssured)<=0)&&(N.sumAssured="Must be > 0"),p(N),Object.keys(N).length===0}async function D(){if(M()){b(!0);try{await l({...d,sumAssured:Number(d.sumAssured),premium:Number(d.premium)||0})}finally{b(!1)}}}const y=o.map(N=>({value:N.memberId,label:`${N.memberName} (${N.relationship})`}));return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Policy Type",required:!0,error:x.policyType,children:n.jsx(Te,{value:d.policyType,onChange:N=>S("policyType",N),options:T3,placeholder:"Select type..."})}),n.jsx(ee,{label:"Insurance Company",required:!0,error:x.company,children:n.jsx(me,{value:d.company,onChange:N=>S("company",N),placeholder:"e.g., HDFC Life"})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Policy Number",required:!0,error:x.policyNumber,children:n.jsx(me,{sensitive:!0,value:d.policyNumber,onChange:N=>S("policyNumber",N),placeholder:"e.g., HL-2024-78901"})}),n.jsx(ee,{label:"Policy Name",required:!0,error:x.policyName,children:n.jsx(me,{value:d.policyName,onChange:N=>S("policyName",N),placeholder:"e.g., Click 2 Protect Life"})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Insured Member",required:!0,error:x.memberId,children:n.jsx(Te,{value:d.memberId,onChange:w,options:y,placeholder:"Select member..."})}),n.jsx(ee,{label:"Nominee",children:n.jsx(Te,{value:d.nominee,onChange:N=>S("nominee",N),options:y.map(N=>({...N,label:N.label.split(" (")[0]})),placeholder:"Select nominee (optional)..."})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsx(ee,{label:"Sum Assured ()",required:!0,error:x.sumAssured,children:n.jsx(me,{type:"number",value:d.sumAssured,onChange:N=>S("sumAssured",N),placeholder:"e.g., 10000000"})}),n.jsx(ee,{label:"Premium ()",children:n.jsx(me,{type:"number",value:d.premium,onChange:N=>S("premium",N),placeholder:"e.g., 12500"})}),n.jsx(ee,{label:"Premium Frequency",children:n.jsx(Te,{value:d.premiumFrequency,onChange:N=>S("premiumFrequency",N),options:[{value:"Annual",label:"Annual"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"}]})})]}),u&&n.jsx(ee,{label:"Status",children:n.jsx(Te,{value:d.status,onChange:N=>S("status",N),options:E3})}),n.jsx(ee,{label:"Notes",children:n.jsx(Nl,{value:d.notes,onChange:N=>S("notes",N),placeholder:"Additional information..."})}),n.jsxs("div",{className:"flex items-center justify-between",children:[u&&r?n.jsx(jn,{onClick:r}):n.jsx("div",{}),n.jsx(Xt,{onCancel:t,onSubmit:D,submitLabel:u?"Update":"Add Policy",loading:v})]})]})}const Lb={"Term Life":"bg-rose-500/15 text-[var(--accent-rose)]",Health:"bg-emerald-500/15 text-emerald-400",Motor:"bg-blue-500/15 text-[var(--accent-blue)]","Home Insurance":"bg-amber-500/15 text-[var(--accent-amber)]",Travel:"bg-violet-500/15 text-[var(--accent-violet)]","Life Insurance":"bg-rose-500/15 text-[var(--accent-rose)]","Personal Accident":"bg-orange-500/15 text-[var(--accent-orange)]"};function O3(){const{selectedMember:s,member:l}=Yt(),{insurancePolicies:r,addInsurance:t,updateInsurance:o,deleteInsurance:u}=ze(),{showToast:d,showBlockUI:m,hideBlockUI:x}=gn(),{mv:p}=yn(),[v,b]=j.useState(null);if(r===null)return n.jsx(Zn,{title:"Loading insurance",cards:5});const S=j.useMemo(()=>{const g=r.filter(O=>O.status!=="Inactive");return s==="all"?g:g.filter(O=>O.memberId===s)},[r,s]),w=S.reduce((g,O)=>g+(O.sumAssured||0),0),M=S.reduce((g,O)=>g+(O.premium||0),0),D=S.filter(g=>g.policyType==="Term Life"||g.policyType==="Life Insurance").reduce((g,O)=>g+(O.sumAssured||0),0),y=S.filter(g=>g.policyType==="Health").reduce((g,O)=>g+(O.sumAssured||0),0);async function N(g){m("Saving...");try{v?.edit?await o(v.edit.policyId,g):await t(g),d(v?.edit?"Insurance policy updated":"Insurance policy added"),b(null)}catch(O){d(O.message||"Failed to save insurance policy","error")}finally{x()}}async function k(){if(v?.edit&&confirm("Deactivate this insurance policy?")){m("Deactivating...");try{await u(v.edit.policyId),d("Insurance policy deactivated"),b(null)}catch(g){d(g.message||"Failed to deactivate insurance policy","error")}finally{x()}}}return n.jsxs("div",{className:"space-y-4",children:[S.length===0?n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[n.jsx(zi,{size:32,className:"text-[var(--text-dim)]"}),n.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No insurance policies",l?` for ${l.memberName}`:""]}),n.jsx("button",{onClick:()=>b("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first policy"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[n.jsx(Ai,{label:"Policies",value:S.length}),n.jsx(Ai,{label:"Total Cover",value:K(w),bold:!0}),n.jsx(Ai,{label:"Life Cover",value:K(D)}),n.jsx(Ai,{label:"Health Cover",value:K(y)}),n.jsx(Ai,{label:"Annual Premium",value:K(M)})]}),n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[n.jsx("p",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider mb-3",children:"Coverage Adequacy"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsx(Ib,{label:"Life Insurance",current:D,recommended:"10-15x annual income",tip:"Term life cover should be 10-15x your annual income to protect dependents",icon:"heart"}),n.jsx(Ib,{label:"Health Insurance",current:y,recommended:"50L - 1Cr family floater",tip:"Considering medical inflation, a 50L-1Cr family floater is recommended",icon:"shield"})]})]}),n.jsx("div",{className:"flex items-center justify-end px-1",children:n.jsxs("button",{onClick:()=>b("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[n.jsx(Ma,{size:14})," Add Policy"]})}),n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[n.jsx("div",{className:"hidden sm:block overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[n.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Policy"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Company"}),!l&&n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Insured"}),n.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Sum Assured"}),n.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Premium"}),n.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),n.jsx("tbody",{children:S.map(g=>n.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[n.jsxs("td",{className:"py-2.5 px-4",children:[n.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:g.policyName}),n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:p(g.policyNumber,"policy")})]}),n.jsx("td",{className:"py-2.5 px-3",children:n.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Lb[g.policyType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:g.policyType})}),n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:g.company}),!l&&n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:g.insuredMember}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(g.sumAssured)}),n.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:[K(g.premium),"/",g.premiumFrequency==="Annual"?"yr":"mo"]}),n.jsx("td",{className:"py-2.5 px-2",children:n.jsx("button",{onClick:()=>b({edit:g}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:n.jsx(bn,{size:12})})})]},g.policyId))})]})}),n.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:S.map(g=>n.jsxs("div",{onClick:()=>b({edit:g}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:g.policyName}),n.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${Lb[g.policyType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:g.policyType})]}),n.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[g.company,l?"":`  ${g.insuredMember}`]}),n.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Cover"}),n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(g.sumAssured)})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Premium"}),n.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:[K(g.premium),"/",g.premiumFrequency==="Annual"?"yr":"mo"]})]})]})]},g.policyId))})]})]}),n.jsx(At,{open:!!v,onClose:()=>b(null),title:v?.edit?"Edit Insurance Policy":"Add Insurance Policy",wide:!0,children:n.jsx(_3,{initial:v?.edit||void 0,onSave:N,onDelete:v?.edit?k:void 0,onCancel:()=>b(null)})})]})}function Ib({label:s,current:l,recommended:r,tip:t}){const o=l===0;return n.jsxs("div",{className:`rounded-lg border px-3 py-2.5 ${o?"border-rose-500/30 bg-rose-500/5":"border-[var(--border)] bg-[var(--bg-inset)]"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:s}),o?n.jsx("span",{className:"text-xs font-bold text-[var(--accent-rose)]",children:"Not covered"}):n.jsx("span",{className:"text-xs font-semibold text-emerald-400",children:K(l)})]}),n.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Recommended: ",r]}),n.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5 italic",children:t})]})}function Ai({label:s,value:l,bold:r}){return n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),n.jsx("p",{className:`text-sm tabular-nums ${r?"font-bold":"font-semibold"} text-[var(--text-primary)]`,children:l})]})}const R3=["Home Loan","Car Loan","Personal Loan","Education Loan","Gold Loan","Credit Card","Business Loan","Loan Against Property","Other"].map(s=>({value:s,label:s})),L3=[{value:"Active",label:"Active"},{value:"Closed",label:"Closed"},{value:"Inactive",label:"Inactive"}];function I3({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o}=ze(),u=!!s,[d,m]=j.useState({liabilityType:s?.liabilityType||"",lenderName:s?.lenderName||"",familyMemberId:s?.familyMemberId||"",outstandingBalance:s?.outstandingBalance||"",emiAmount:s?.emiAmount||"",interestRate:s?.interestRate||"",status:s?.status||"Active",notes:s?.notes||""}),[x,p]=j.useState({}),[v,b]=j.useState(!1);function S(y,N){m(k=>({...k,[y]:N})),p(k=>({...k,[y]:void 0}))}function w(){const y={};return d.liabilityType||(y.liabilityType="Required"),d.lenderName.trim()||(y.lenderName="Required"),(!d.outstandingBalance||Number(d.outstandingBalance)<=0)&&(y.outstandingBalance="Must be > 0"),p(y),Object.keys(y).length===0}async function M(){if(w()){b(!0);try{await l({...d,outstandingBalance:Number(d.outstandingBalance),emiAmount:Number(d.emiAmount)||0,interestRate:Number(d.interestRate)||0})}finally{b(!1)}}}const D=o.map(y=>({value:y.memberId,label:`${y.memberName} (${y.relationship})`}));return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Liability Type",required:!0,error:x.liabilityType,children:n.jsx(Te,{value:d.liabilityType,onChange:y=>S("liabilityType",y),options:R3,placeholder:"Select type..."})}),n.jsx(ee,{label:"Lender / Bank",required:!0,error:x.lenderName,children:n.jsx(me,{value:d.lenderName,onChange:y=>S("lenderName",y),placeholder:"e.g., HDFC Bank"})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Family Member",children:n.jsx(Te,{value:d.familyMemberId,onChange:y=>S("familyMemberId",y),options:D,placeholder:"Select member (optional)..."})}),n.jsx(ee,{label:"Outstanding Balance ()",required:!0,error:x.outstandingBalance,children:n.jsx(me,{type:"number",value:d.outstandingBalance,onChange:y=>S("outstandingBalance",y),placeholder:"e.g., 3500000"})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"EMI Amount ()",children:n.jsx(me,{type:"number",value:d.emiAmount,onChange:y=>S("emiAmount",y),placeholder:"e.g., 32000"})}),n.jsx(ee,{label:"Interest Rate (%)",children:n.jsx(me,{type:"number",value:d.interestRate,onChange:y=>S("interestRate",y),placeholder:"e.g., 8.5",step:"0.01"})})]}),u&&n.jsx(ee,{label:"Status",children:n.jsx(Te,{value:d.status,onChange:y=>S("status",y),options:L3})}),n.jsx(ee,{label:"Notes",children:n.jsx(Nl,{value:d.notes,onChange:y=>S("notes",y),placeholder:"e.g., Flat in Kondapur"})}),n.jsxs("div",{className:"flex items-center justify-between",children:[u&&r?n.jsx(jn,{onClick:r}):n.jsx("div",{}),n.jsx(Xt,{onCancel:t,onSubmit:M,submitLabel:u?"Update":"Add Liability",loading:v})]})]})}const Pb={"Home Loan":"bg-blue-500/15 text-[var(--accent-blue)]","Car Loan":"bg-amber-500/15 text-[var(--accent-amber)]","Gold Loan":"bg-orange-500/15 text-[var(--accent-orange)]","Personal Loan":"bg-violet-500/15 text-[var(--accent-violet)]","Education Loan":"bg-emerald-500/15 text-emerald-400","Credit Card":"bg-rose-500/15 text-[var(--accent-rose)]"};function P3(){const{selectedMember:s,member:l}=Yt(),{liabilityList:r,addLiability:t,updateLiability:o,deleteLiability:u}=ze(),{showToast:d,showBlockUI:m,hideBlockUI:x}=gn(),[p,v]=j.useState(null);if(r===null)return n.jsx(Zn,{title:"Loading liabilities",cards:4});const b=j.useMemo(()=>{const N=r.filter(k=>k.status!=="Inactive");return s==="all"?N:N.filter(k=>k.familyMemberId===s)},[r,s]),S=b.reduce((N,k)=>N+(k.outstandingBalance||0),0),w=b.reduce((N,k)=>N+(k.emiAmount||0),0),M=b.filter(N=>N.status==="Active").length;async function D(N){m("Saving...");try{p?.edit?await o(p.edit.liabilityId,N):await t(N),d(p?.edit?"Liability updated":"Liability added"),v(null)}catch(k){d(k.message||"Failed to save liability","error")}finally{x()}}async function y(){if(p?.edit&&confirm("Deactivate this liability?")){m("Deactivating...");try{await u(p.edit.liabilityId),d("Liability deactivated"),v(null)}catch(N){d(N.message||"Failed to deactivate liability","error")}finally{x()}}}return n.jsxs("div",{className:"space-y-4",children:[b.length===0?n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[n.jsx(Bi,{size:32,className:"text-[var(--text-dim)]"}),n.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No liabilities",l?` for ${l.memberName}`:""]}),n.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add a liability"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[n.jsx(Ec,{label:"Liabilities",value:`${M} active`}),n.jsx(Ec,{label:"Outstanding",value:K(S),color:"rose",bold:!0}),n.jsx(Ec,{label:"Monthly EMI",value:K(w),color:"rose"}),n.jsx(Ec,{label:"Avg. Interest",value:b.length>0?`${(b.reduce((N,k)=>N+(k.interestRate||0),0)/b.length).toFixed(1)}%`:""})]}),n.jsx("div",{className:"flex items-center justify-end px-1",children:n.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[n.jsx(Ma,{size:14})," Add Liability"]})}),n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[n.jsx("div",{className:"hidden sm:block overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm min-w-[640px]",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[n.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Lender"}),!l&&n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),n.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Outstanding"}),n.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"EMI"}),n.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Interest"}),n.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Remaining"}),n.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),n.jsx("tbody",{children:b.map(N=>n.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[n.jsxs("td",{className:"py-2.5 px-4",children:[n.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Pb[N.liabilityType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:N.liabilityType}),N.notes&&n.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:N.notes})]}),n.jsx("td",{className:"py-2.5 px-3 text-sm font-medium text-[var(--text-primary)]",children:N.lenderName}),!l&&n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:N.familyMemberName}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:K(N.outstandingBalance)}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:N.emiAmount?`${K(N.emiAmount)}/mo`:""}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:N.interestRate?`${N.interestRate}%`:""}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:N.emiAmount>0&&N.outstandingBalance>0?`${Math.ceil(N.outstandingBalance/N.emiAmount)} mo`:""}),n.jsx("td",{className:"py-2.5 px-2",children:n.jsx("button",{onClick:()=>v({edit:N}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:n.jsx(bn,{size:12})})})]},N.liabilityId))})]})}),n.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(N=>n.jsxs("div",{onClick:()=>v({edit:N}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Pb[N.liabilityType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:N.liabilityType}),n.jsx("p",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:K(N.outstandingBalance)})]}),n.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:N.lenderName}),n.jsxs("div",{className:"flex items-center justify-between mt-1",children:[n.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[N.familyMemberName,N.notes?`  ${N.notes}`:""]}),n.jsxs("div",{className:"text-right",children:[N.emiAmount>0&&n.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:["EMI: ",K(N.emiAmount),"/mo"]}),N.emiAmount>0&&N.outstandingBalance>0&&n.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:[Math.ceil(N.outstandingBalance/N.emiAmount)," months left"]})]})]})]},N.liabilityId))})]})]}),n.jsx(At,{open:!!p,onClose:()=>v(null),title:p?.edit?"Edit Liability":"Add Liability",children:n.jsx(I3,{initial:p?.edit||void 0,onSave:D,onDelete:p?.edit?y:void 0,onCancel:()=>v(null)})})]})}function Ec({label:s,value:l,color:r,bold:t}){const o=r==="rose"?"text-[var(--accent-rose)]":"text-[var(--text-primary)]";return n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),n.jsx("p",{className:`text-sm tabular-nums ${t?"font-bold":"font-semibold"} ${o}`,children:l})]})}const z3="cf_market_data",h1=[{value:"Fixed Deposit",category:"Debt"},{value:"PPF",category:"Debt"},{value:"EPF",category:"Debt"},{value:"NPS",category:"Debt"},{value:"Sovereign Gold Bond",category:"Gold"},{value:"Physical Gold",category:"Gold"},{value:"Digital Gold",category:"Gold"},{value:"Real Estate",category:"Property"},{value:"Bonds",category:"Debt"},{value:"Physical Silver",category:"Silver"},{value:"Digital Silver",category:"Silver"},{value:"Crypto",category:"Alternative"},{value:"Other",category:"Other"}],zb={"Real Estate":"Home Loan","Physical Gold":"Gold Loan","Sovereign Gold Bond":"Gold Loan","Fixed Deposit":"Loan Against FD"},F3=h1.map(s=>({value:s.value,label:s.value})),B3=["Equity","Debt","Gold","Silver","Property","Alternative","Other"].map(s=>({value:s,label:s})),H3=[{value:"Active",label:"Active"},{value:"Sold",label:"Sold"},{value:"Matured",label:"Matured"},{value:"Inactive",label:"Inactive"}],Fb=[{value:"24K",label:"24K (99.9%)",factor:.999},{value:"22K",label:"22K (91.6%)",factor:.916},{value:"18K",label:"18K (75.0%)",factor:.75}],Bb=[{value:"999",label:"999 Fine (99.9%)",factor:.999},{value:"925",label:"925 Sterling (92.5%)",factor:.925}];function Kc(s){return["Physical Gold","Digital Gold","Sovereign Gold Bond"].includes(s)}function Y3(s){return["Physical Silver","Digital Silver"].includes(s)||s&&s.toLowerCase().includes("silver")}function Nf(s){return Kc(s)||Y3(s)}function q3(s){try{const l=sessionStorage.getItem(z3);if(!l)return null;const r=JSON.parse(l);if(!r.metals)return null;const t=s==="gold"?"Gold":"Silver",o=r.metals.find(u=>u.name.toLowerCase().includes(t.toLowerCase()));return o?o.price:null}catch{return null}}function U3({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o,liabilityList:u}=ze(),d=!!s;function m(R){return h1.find(ce=>ce.value===R)?.category||"Other"}const x=s?.dynamicFields?typeof s.dynamicFields=="string"?JSON.parse(s.dynamicFields):s.dynamicFields:{},[p,v]=j.useState({investmentType:s?.investmentType||"",investmentCategory:s?.investmentCategory||"",investmentName:s?.investmentName||"",familyMemberId:s?.familyMemberId||"",investedAmount:s?.investedAmount||"",currentValue:s?.currentValue||"",linkedLiabilityId:s?.linkedLiabilityId||"",status:s?.status||"Active",notes:s?.notes||""}),[b,S]=j.useState(x.weightGrams||""),[w,M]=j.useState(x.purity||""),[D,y]=j.useState(null),[N,k]=j.useState(!1),[g,O]=j.useState({lenderName:"",outstandingBalance:"",emiAmount:"",interestRate:""});j.useEffect(()=>{if(!Nf(p.investmentType)||!b||Number(b)<=0){y(null);return}const R=Kc(p.investmentType)?"gold":"silver",ce=q3(R);if(!ce){y(null);return}const L=(R==="gold"?Fb:Bb).find(de=>de.value===w),ne=L?L.factor:1;y(Math.round(Number(b)*ce*ne))},[p.investmentType,b,w]);const[Y,z]=j.useState({}),[U,_]=j.useState(!1);function B(R,ce){v(ue=>({...ue,[R]:ce})),z(ue=>({...ue,[R]:void 0}))}function H(R){v(ce=>({...ce,investmentType:R,investmentCategory:m(R)})),z(ce=>({...ce,investmentType:void 0}))}function Q(R,ce){O(ue=>({...ue,[R]:ce}))}function E(){const R={};return p.investmentType||(R.investmentType="Required"),p.investmentName.trim()||(R.investmentName="Required"),(!p.currentValue||Number(p.currentValue)<0)&&(R.currentValue="Required"),N&&(g.lenderName.trim()||(R.qlLender="Required"),(!g.outstandingBalance||Number(g.outstandingBalance)<=0)&&(R.qlOutstanding="Must be > 0")),z(R),Object.keys(R).length===0}async function le(){if(!E())return;const R={...p,investedAmount:Number(p.investedAmount)||0,currentValue:Number(p.currentValue)||0};Nf(p.investmentType)&&(R.dynamicFields=JSON.stringify({weightGrams:Number(b)||0,purity:w||""})),N&&g.lenderName&&(R.quickLoan={liabilityType:zb[p.investmentType]||"Personal Loan",lenderName:g.lenderName,outstandingBalance:Number(g.outstandingBalance)||0,emiAmount:Number(g.emiAmount)||0,interestRate:Number(g.interestRate)||0}),_(!0);try{await l(R)}finally{_(!1)}}const G=u.filter(R=>R.status!=="Inactive"),J=[{value:"",label:"None"},...G.map(R=>({value:R.liabilityId,label:`${R.liabilityType}  ${R.lenderName} (${K(R.outstandingBalance)})`}))],F=o.map(R=>({value:R.memberId,label:`${R.memberName} (${R.relationship})`})),A=zb[p.investmentType];return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Investment Type",required:!0,error:Y.investmentType,children:n.jsx(Te,{value:p.investmentType,onChange:H,options:F3,placeholder:"Select type..."})}),n.jsx(ee,{label:"Category",children:n.jsx(Te,{value:p.investmentCategory,onChange:R=>B("investmentCategory",R),options:B3,placeholder:"Auto-selected..."})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Investment Name",required:!0,error:Y.investmentName,children:n.jsx(me,{value:p.investmentName,onChange:R=>B("investmentName",R),placeholder:"e.g., HDFC FD - 7.5%"})}),n.jsx(ee,{label:"Family Member",children:n.jsx(Te,{value:p.familyMemberId,onChange:R=>B("familyMemberId",R),options:F,placeholder:"Select member (optional)..."})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Invested Amount",children:n.jsx(me,{type:"number",value:p.investedAmount,onChange:R=>B("investedAmount",R),placeholder:"e.g., 500000"})}),n.jsx(ee,{label:"Current Value",required:!0,error:Y.currentValue,children:n.jsx(me,{type:"number",value:p.currentValue,onChange:R=>B("currentValue",R),placeholder:"e.g., 537500"})})]}),Nf(p.investmentType)&&n.jsxs("div",{className:"p-3 bg-[var(--bg-inset)] rounded-lg space-y-3",children:[n.jsxs("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider",children:[Kc(p.investmentType)?"Gold":"Silver"," Details"]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsx(ee,{label:"Weight (grams)",children:n.jsx(me,{type:"number",value:b,onChange:S,placeholder:"e.g., 50"})}),n.jsx(ee,{label:"Purity",children:n.jsx(Te,{value:w,onChange:M,options:(Kc(p.investmentType)?Fb:Bb).map(R=>({value:R.value,label:R.label})),placeholder:"Select purity..."})})]}),D!==null&&n.jsxs("div",{className:"flex items-center justify-between bg-[var(--bg-card)] rounded-lg px-3 py-2 border border-[var(--border)]",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Estimated market value"}),n.jsx("p",{className:"text-sm font-bold text-emerald-400 tabular-nums",children:K(D)})]}),n.jsx("button",{type:"button",onClick:()=>B("currentValue",String(D)),className:"text-xs font-semibold text-violet-400 hover:text-violet-300 px-3 py-1.5 rounded-lg bg-violet-500/10 border border-violet-500/20 transition-colors",children:"Use this value"})]})]}),n.jsxs("div",{className:"border-t border-[var(--border-light)] pt-4",children:[n.jsx(ee,{label:"Linked Loan / Liability",children:n.jsx(Te,{value:p.linkedLiabilityId,onChange:R=>{B("linkedLiabilityId",R),R&&k(!1)},options:J})}),!p.linkedLiabilityId&&!d&&n.jsx("div",{className:"mt-2",children:n.jsx("button",{type:"button",onClick:()=>k(!N),className:"text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:N?" Cancel quick loan":`+ Create new loan${A?` (${A})`:""}`})}),N&&n.jsxs("div",{className:"mt-3 p-3 bg-[var(--bg-inset)] rounded-lg space-y-3",children:[n.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider",children:"Quick Loan"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsx(ee,{label:"Lender",required:!0,error:Y.qlLender,children:n.jsx(me,{value:g.lenderName,onChange:R=>Q("lenderName",R),placeholder:"e.g., HDFC Bank"})}),n.jsx(ee,{label:"Outstanding Balance",required:!0,error:Y.qlOutstanding,children:n.jsx(me,{type:"number",value:g.outstandingBalance,onChange:R=>Q("outstandingBalance",R),placeholder:"e.g., 3500000"})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsx(ee,{label:"EMI (monthly)",children:n.jsx(me,{type:"number",value:g.emiAmount,onChange:R=>Q("emiAmount",R),placeholder:"e.g., 32000"})}),n.jsx(ee,{label:"Interest Rate %",children:n.jsx(me,{type:"number",value:g.interestRate,onChange:R=>Q("interestRate",R),placeholder:"e.g., 8.5"})})]})]})]}),d&&n.jsx(ee,{label:"Status",children:n.jsx(Te,{value:p.status,onChange:R=>B("status",R),options:H3})}),n.jsx(ee,{label:"Notes",children:n.jsx(Nl,{value:p.notes,onChange:R=>B("notes",R),placeholder:"Additional information..."})}),n.jsxs("div",{className:"flex items-center justify-between",children:[d&&r?n.jsx(jn,{onClick:r}):n.jsx("div",{}),n.jsx(Xt,{onCancel:t,onSubmit:le,submitLabel:d?"Update":"Add Investment",loading:U})]})]})}const Hb={Debt:"bg-blue-500/15 text-[var(--accent-blue)]",Gold:"bg-amber-500/15 text-[var(--accent-amber)]",Property:"bg-orange-500/15 text-[var(--accent-orange)]",Equity:"bg-emerald-500/15 text-emerald-400",Alternative:"bg-violet-500/15 text-[var(--accent-violet)]"};function $3(){const{selectedMember:s,member:l}=Yt(),{otherInvList:r,liabilityList:t,addOtherInvestment:o,updateOtherInvestment:u,deleteOtherInvestment:d}=ze(),{showToast:m,showBlockUI:x,hideBlockUI:p}=gn(),[v,b]=j.useState(null);if(r===null)return n.jsx(Zn,{title:"Loading investments",cards:5});const S=j.useMemo(()=>{const z=r.filter(U=>U.status!=="Inactive");return s==="all"?z:z.filter(U=>U.familyMemberId===s)},[r,s]),w=S.reduce((z,U)=>z+(U.investedAmount||0),0),M=S.reduce((z,U)=>z+(U.currentValue||0),0),D=M-w,y=D>=0,N=w>0?D/w*100:0,k=j.useMemo(()=>{const z={};return t.forEach(U=>{z[U.liabilityId]=U}),z},[t]),g=S.reduce((z,U)=>{const _=U.linkedLiabilityId?k[U.linkedLiabilityId]:null;return z+(_?.outstandingBalance||0)},0);async function O(z){x("Saving...");try{v?.edit?await u(v.edit.investmentId,z):await o(z),m(v?.edit?"Investment updated":"Investment added"),b(null)}catch(U){m(U.message||"Failed to save investment","error")}finally{p()}}async function Y(){if(v?.edit&&confirm("Deactivate this investment?")){x("Deactivating...");try{await d(v.edit.investmentId),m("Investment deactivated"),b(null)}catch(z){m(z.message||"Failed to deactivate investment","error")}finally{p()}}}return n.jsxs("div",{className:"space-y-4",children:[S.length===0?n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[n.jsx(Ny,{size:32,className:"text-[var(--text-dim)]"}),n.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No other investments",l?` for ${l.memberName}`:""]}),n.jsx("button",{onClick:()=>b("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add an investment"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[n.jsx(Ti,{label:"Invested",value:K(w)}),n.jsx(Ti,{label:"Current Value",value:K(M),bold:!0}),n.jsx(Ti,{label:"P&L",value:`${y?"+":""}${K(Math.abs(D))}`,sub:`${y?"+":""}${N.toFixed(1)}%`,positive:y,bold:!0}),g>0&&n.jsx(Ti,{label:"Linked Loans",value:K(g),color:"rose"}),n.jsx(Ti,{label:"Holdings",value:S.length})]}),n.jsx("div",{className:"flex items-center justify-end px-1",children:n.jsxs("button",{onClick:()=>b("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[n.jsx(Ma,{size:14})," Add Investment"]})}),n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[n.jsx("div",{className:"hidden sm:block overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm min-w-[720px]",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[n.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Investment"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Category"}),!l&&n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),n.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Invested"}),n.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current"}),n.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"}),n.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Loan"}),n.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),n.jsx("tbody",{children:S.map(z=>{const U=(z.currentValue||0)-(z.investedAmount||0),_=U>=0,B=z.linkedLiabilityId?k[z.linkedLiabilityId]:null;return n.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[n.jsxs("td",{className:"py-2.5 px-4",children:[n.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:z.investmentName}),n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:z.investmentType})]}),n.jsx("td",{className:"py-2.5 px-3",children:n.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Hb[z.investmentCategory]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:z.investmentCategory})}),!l&&n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:z.familyMemberName}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:K(z.investedAmount)}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(z.currentValue)}),n.jsx("td",{className:"py-2.5 px-3 text-right",children:n.jsxs("span",{className:`text-xs font-semibold tabular-nums ${_?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[_?"+":"",K(U)]})}),n.jsx("td",{className:"py-2.5 px-3 text-right",children:B?n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:K(B.outstandingBalance)}),n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:B.liabilityType})]}):n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),n.jsx("td",{className:"py-2.5 px-2",children:n.jsx("button",{onClick:()=>b({edit:z}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:n.jsx(bn,{size:12})})})]},z.investmentId)})})]})}),n.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:S.map(z=>{const U=(z.currentValue||0)-(z.investedAmount||0),_=U>=0,B=z.linkedLiabilityId?k[z.linkedLiabilityId]:null;return n.jsxs("div",{onClick:()=>b({edit:z}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:z.investmentName}),n.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${Hb[z.investmentCategory]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:z.investmentCategory})]}),n.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[z.familyMemberName,"  ",z.investmentType]}),n.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Invested"}),n.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:K(z.investedAmount)})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Current"}),n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(z.currentValue)})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"P&L"}),n.jsxs("p",{className:`text-xs font-semibold tabular-nums ${_?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[_?"+":"",K(U)]})]})]}),B&&n.jsxs("div",{className:"mt-1.5 flex items-center justify-between bg-rose-500/5 rounded px-2 py-1",children:[n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:B.liabilityType}),n.jsx("span",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:K(B.outstandingBalance)})]})]},z.investmentId)})})]})]}),n.jsx(At,{open:!!v,onClose:()=>b(null),title:v?.edit?"Edit Investment":"Add Investment",wide:!0,children:n.jsx(U3,{initial:v?.edit||void 0,onSave:O,onDelete:v?.edit?Y:void 0,onCancel:()=>b(null)})})]})}function Ti({label:s,value:l,sub:r,positive:t,bold:o,color:u}){const d=u==="rose"?"text-[var(--accent-rose)]":t===void 0?"text-[var(--text-primary)]":t?"text-emerald-400":"text-[var(--accent-rose)]";return n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),n.jsx("p",{className:`text-sm tabular-nums ${o?"font-bold":"font-semibold"} ${d}`,children:l}),r&&n.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${t?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}function V3({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o,activeInvestmentAccounts:u}=ze(),d=!!s,[m,x]=j.useState({portfolioName:(s?.portfolioName||"").replace(/^PFL-/,""),investmentAccountId:s?.investmentAccountId||"",ownerId:s?.ownerId||"",initialInvestment:s?.initialInvestment||0,sipTarget:s?.sipTarget||"",lumpsumTarget:s?.lumpsumTarget||"",rebalanceThreshold:s?s.rebalanceThreshold*100:5}),[p,v]=j.useState({}),[b,S]=j.useState(!1);function w(g,O){x(Y=>({...Y,[g]:O})),v(Y=>({...Y,[g]:void 0}))}function M(g){x(O=>({...O,ownerId:g,investmentAccountId:""})),v(O=>({...O,ownerId:void 0}))}const D=u.filter(g=>m.ownerId?g.memberId===m.ownerId:!0).map(g=>({value:g.accountId,label:`${g.accountName} - ${g.platformBroker}`})),y=o.map(g=>({value:g.memberId,label:`${g.memberName} (${g.relationship})`}));function N(){const g={};return m.portfolioName.trim()||(g.portfolioName="Required"),m.ownerId||(g.ownerId="Required"),m.investmentAccountId||(g.investmentAccountId="Required"),v(g),Object.keys(g).length===0}async function k(){if(N()){S(!0);try{const g=u.find(Y=>Y.accountId===m.investmentAccountId),O=g?`${g.accountName} - ${g.platformBroker}`:m.investmentAccountId;await l({...m,investmentAccount:O,initialInvestment:Number(m.initialInvestment)||0,sipTarget:Number(m.sipTarget)||0,lumpsumTarget:Number(m.lumpsumTarget)||0,rebalanceThreshold:Number(m.rebalanceThreshold)})}finally{S(!1)}}}return n.jsxs("div",{className:"space-y-4",children:[n.jsx(ee,{label:"Portfolio Name",required:!0,error:p.portfolioName,children:n.jsx(me,{value:m.portfolioName,onChange:g=>w("portfolioName",g),placeholder:"e.g., Long Term Wealth"})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Owner",required:!0,error:p.ownerId,children:n.jsx(Te,{value:m.ownerId,onChange:M,options:y,placeholder:"Select member..."})}),n.jsx(ee,{label:"Investment Account",required:!0,error:p.investmentAccountId,children:n.jsx(Te,{value:m.investmentAccountId,onChange:g=>w("investmentAccountId",g),options:D,placeholder:m.ownerId?D.length?"Select account...":"No MF accounts":"Select owner first..."})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsx(ee,{label:"SIP Target (/month)",children:n.jsx(me,{type:"number",value:m.sipTarget,onChange:g=>w("sipTarget",g),placeholder:"e.g., 50000"})}),n.jsx(ee,{label:"Lumpsum Target ()",children:n.jsx(me,{type:"number",value:m.lumpsumTarget,onChange:g=>w("lumpsumTarget",g),placeholder:"e.g., 200000"})}),n.jsx(ee,{label:"Rebalance Threshold (%)",children:n.jsx(me,{type:"number",value:m.rebalanceThreshold,onChange:g=>w("rebalanceThreshold",g),placeholder:"e.g., 5"})})]}),!d&&n.jsx(ee,{label:"Initial Investment ()",children:n.jsx(me,{type:"number",value:m.initialInvestment,onChange:g=>w("initialInvestment",g),placeholder:"0 if unknown"})}),n.jsxs("div",{className:"flex items-center justify-between",children:[d&&r?n.jsx(jn,{onClick:r}):n.jsx("div",{}),n.jsx(Xt,{onCancel:t,onSubmit:k,submitLabel:d?"Update":"Create Portfolio",loading:b})]})]})}function Xn(s){return Array.isArray?Array.isArray(s):g1(s)==="[object Array]"}function G3(s){if(typeof s=="string")return s;let l=s+"";return l=="0"&&1/s==-1/0?"-0":l}function Q3(s){return s==null?"":G3(s)}function pn(s){return typeof s=="string"}function v1(s){return typeof s=="number"}function K3(s){return s===!0||s===!1||X3(s)&&g1(s)=="[object Boolean]"}function b1(s){return typeof s=="object"}function X3(s){return b1(s)&&s!==null}function Ca(s){return s!=null}function jf(s){return!s.trim().length}function g1(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}const W3="Incorrect 'index' type",Z3=s=>`Invalid value for key ${s}`,J3=s=>`Pattern length exceeds max of ${s}.`,eA=s=>`Missing ${s} property in key`,tA=s=>`Property 'weight' in key '${s}' must be a positive integer`,Yb=Object.prototype.hasOwnProperty;class aA{constructor(l){this._keys=[],this._keyMap={};let r=0;l.forEach(t=>{let o=y1(t);this._keys.push(o),this._keyMap[o.id]=o,r+=o.weight}),this._keys.forEach(t=>{t.weight/=r})}get(l){return this._keyMap[l]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function y1(s){let l=null,r=null,t=null,o=1,u=null;if(pn(s)||Xn(s))t=s,l=qb(s),r=Lf(s);else{if(!Yb.call(s,"name"))throw new Error(eA("name"));const d=s.name;if(t=d,Yb.call(s,"weight")&&(o=s.weight,o<=0))throw new Error(tA(d));l=qb(d),r=Lf(d),u=s.getFn}return{path:l,id:r,weight:o,src:t,getFn:u}}function qb(s){return Xn(s)?s:s.split(".")}function Lf(s){return Xn(s)?s.join("."):s}function nA(s,l){let r=[],t=!1;const o=(u,d,m)=>{if(Ca(u))if(!d[m])r.push(u);else{let x=d[m];const p=u[x];if(!Ca(p))return;if(m===d.length-1&&(pn(p)||v1(p)||K3(p)))r.push(Q3(p));else if(Xn(p)){t=!0;for(let v=0,b=p.length;v<b;v+=1)o(p[v],d,m+1)}else d.length&&o(p,d,m+1)}};return o(s,pn(l)?l.split("."):l,0),t?r:r[0]}const rA={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},sA={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(s,l)=>s.score===l.score?s.idx<l.idx?-1:1:s.score<l.score?-1:1},lA={location:0,threshold:.6,distance:100},iA={useExtendedSearch:!1,getFn:nA,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Ae={...sA,...rA,...lA,...iA};const oA=/[^ ]+/g;function cA(s=1,l=3){const r=new Map,t=Math.pow(10,l);return{get(o){const u=o.match(oA).length;if(r.has(u))return r.get(u);const d=1/Math.pow(u,.5*s),m=parseFloat(Math.round(d*t)/t);return r.set(u,m),m},clear(){r.clear()}}}class hp{constructor({getFn:l=Ae.getFn,fieldNormWeight:r=Ae.fieldNormWeight}={}){this.norm=cA(r,3),this.getFn=l,this.isCreated=!1,this.setIndexRecords()}setSources(l=[]){this.docs=l}setIndexRecords(l=[]){this.records=l}setKeys(l=[]){this.keys=l,this._keysMap={},l.forEach((r,t)=>{this._keysMap[r.id]=t})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,pn(this.docs[0])?this.docs.forEach((l,r)=>{this._addString(l,r)}):this.docs.forEach((l,r)=>{this._addObject(l,r)}),this.norm.clear())}add(l){const r=this.size();pn(l)?this._addString(l,r):this._addObject(l,r)}removeAt(l){this.records.splice(l,1);for(let r=l,t=this.size();r<t;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(l,r){return l[this._keysMap[r]]}size(){return this.records.length}_addString(l,r){if(!Ca(l)||jf(l))return;let t={v:l,i:r,n:this.norm.get(l)};this.records.push(t)}_addObject(l,r){let t={i:r,$:{}};this.keys.forEach((o,u)=>{let d=o.getFn?o.getFn(l):this.getFn(l,o.path);if(Ca(d)){if(Xn(d)){let m=[];const x=[{nestedArrIndex:-1,value:d}];for(;x.length;){const{nestedArrIndex:p,value:v}=x.pop();if(Ca(v))if(pn(v)&&!jf(v)){let b={v,i:p,n:this.norm.get(v)};m.push(b)}else Xn(v)&&v.forEach((b,S)=>{x.push({nestedArrIndex:S,value:b})})}t.$[u]=m}else if(pn(d)&&!jf(d)){let m={v:d,n:this.norm.get(d)};t.$[u]=m}}}),this.records.push(t)}toJSON(){return{keys:this.keys,records:this.records}}}function N1(s,l,{getFn:r=Ae.getFn,fieldNormWeight:t=Ae.fieldNormWeight}={}){const o=new hp({getFn:r,fieldNormWeight:t});return o.setKeys(s.map(y1)),o.setSources(l),o.create(),o}function uA(s,{getFn:l=Ae.getFn,fieldNormWeight:r=Ae.fieldNormWeight}={}){const{keys:t,records:o}=s,u=new hp({getFn:l,fieldNormWeight:r});return u.setKeys(t),u.setIndexRecords(o),u}function _c(s,{errors:l=0,currentLocation:r=0,expectedLocation:t=0,distance:o=Ae.distance,ignoreLocation:u=Ae.ignoreLocation}={}){const d=l/s.length;if(u)return d;const m=Math.abs(t-r);return o?d+m/o:m?1:d}function dA(s=[],l=Ae.minMatchCharLength){let r=[],t=-1,o=-1,u=0;for(let d=s.length;u<d;u+=1){let m=s[u];m&&t===-1?t=u:!m&&t!==-1&&(o=u-1,o-t+1>=l&&r.push([t,o]),t=-1)}return s[u-1]&&u-t>=l&&r.push([t,u-1]),r}const as=32;function mA(s,l,r,{location:t=Ae.location,distance:o=Ae.distance,threshold:u=Ae.threshold,findAllMatches:d=Ae.findAllMatches,minMatchCharLength:m=Ae.minMatchCharLength,includeMatches:x=Ae.includeMatches,ignoreLocation:p=Ae.ignoreLocation}={}){if(l.length>as)throw new Error(J3(as));const v=l.length,b=s.length,S=Math.max(0,Math.min(t,b));let w=u,M=S;const D=m>1||x,y=D?Array(b):[];let N;for(;(N=s.indexOf(l,M))>-1;){let U=_c(l,{currentLocation:N,expectedLocation:S,distance:o,ignoreLocation:p});if(w=Math.min(U,w),M=N+v,D){let _=0;for(;_<v;)y[N+_]=1,_+=1}}M=-1;let k=[],g=1,O=v+b;const Y=1<<v-1;for(let U=0;U<v;U+=1){let _=0,B=O;for(;_<B;)_c(l,{errors:U,currentLocation:S+B,expectedLocation:S,distance:o,ignoreLocation:p})<=w?_=B:O=B,B=Math.floor((O-_)/2+_);O=B;let H=Math.max(1,S-B+1),Q=d?b:Math.min(S+B,b)+v,E=Array(Q+2);E[Q+1]=(1<<U)-1;for(let G=Q;G>=H;G-=1){let J=G-1,F=r[s.charAt(J)];if(D&&(y[J]=+!!F),E[G]=(E[G+1]<<1|1)&F,U&&(E[G]|=(k[G+1]|k[G])<<1|1|k[G+1]),E[G]&Y&&(g=_c(l,{errors:U,currentLocation:J,expectedLocation:S,distance:o,ignoreLocation:p}),g<=w)){if(w=g,M=J,M<=S)break;H=Math.max(1,2*S-M)}}if(_c(l,{errors:U+1,currentLocation:S,expectedLocation:S,distance:o,ignoreLocation:p})>w)break;k=E}const z={isMatch:M>=0,score:Math.max(.001,g)};if(D){const U=dA(y,m);U.length?x&&(z.indices=U):z.isMatch=!1}return z}function fA(s){let l={};for(let r=0,t=s.length;r<t;r+=1){const o=s.charAt(r);l[o]=(l[o]||0)|1<<t-r-1}return l}const hu=String.prototype.normalize?(s=>s.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(s=>s);class j1{constructor(l,{location:r=Ae.location,threshold:t=Ae.threshold,distance:o=Ae.distance,includeMatches:u=Ae.includeMatches,findAllMatches:d=Ae.findAllMatches,minMatchCharLength:m=Ae.minMatchCharLength,isCaseSensitive:x=Ae.isCaseSensitive,ignoreDiacritics:p=Ae.ignoreDiacritics,ignoreLocation:v=Ae.ignoreLocation}={}){if(this.options={location:r,threshold:t,distance:o,includeMatches:u,findAllMatches:d,minMatchCharLength:m,isCaseSensitive:x,ignoreDiacritics:p,ignoreLocation:v},l=x?l:l.toLowerCase(),l=p?hu(l):l,this.pattern=l,this.chunks=[],!this.pattern.length)return;const b=(w,M)=>{this.chunks.push({pattern:w,alphabet:fA(w),startIndex:M})},S=this.pattern.length;if(S>as){let w=0;const M=S%as,D=S-M;for(;w<D;)b(this.pattern.substr(w,as),w),w+=as;if(M){const y=S-as;b(this.pattern.substr(y),y)}}else b(this.pattern,0)}searchIn(l){const{isCaseSensitive:r,ignoreDiacritics:t,includeMatches:o}=this.options;if(l=r?l:l.toLowerCase(),l=t?hu(l):l,this.pattern===l){let D={isMatch:!0,score:0};return o&&(D.indices=[[0,l.length-1]]),D}const{location:u,distance:d,threshold:m,findAllMatches:x,minMatchCharLength:p,ignoreLocation:v}=this.options;let b=[],S=0,w=!1;this.chunks.forEach(({pattern:D,alphabet:y,startIndex:N})=>{const{isMatch:k,score:g,indices:O}=mA(l,D,y,{location:u+N,distance:d,threshold:m,findAllMatches:x,minMatchCharLength:p,includeMatches:o,ignoreLocation:v});k&&(w=!0),S+=g,k&&O&&(b=[...b,...O])});let M={isMatch:w,score:w?S/this.chunks.length:1};return w&&o&&(M.indices=b),M}}class Tr{constructor(l){this.pattern=l}static isMultiMatch(l){return Ub(l,this.multiRegex)}static isSingleMatch(l){return Ub(l,this.singleRegex)}search(){}}function Ub(s,l){const r=s.match(l);return r?r[1]:null}class pA extends Tr{constructor(l){super(l)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(l){const r=l===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class xA extends Tr{constructor(l){super(l)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(l){const t=l.indexOf(this.pattern)===-1;return{isMatch:t,score:t?0:1,indices:[0,l.length-1]}}}class hA extends Tr{constructor(l){super(l)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(l){const r=l.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class vA extends Tr{constructor(l){super(l)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(l){const r=!l.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,l.length-1]}}}class bA extends Tr{constructor(l){super(l)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(l){const r=l.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[l.length-this.pattern.length,l.length-1]}}}class gA extends Tr{constructor(l){super(l)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(l){const r=!l.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,l.length-1]}}}class w1 extends Tr{constructor(l,{location:r=Ae.location,threshold:t=Ae.threshold,distance:o=Ae.distance,includeMatches:u=Ae.includeMatches,findAllMatches:d=Ae.findAllMatches,minMatchCharLength:m=Ae.minMatchCharLength,isCaseSensitive:x=Ae.isCaseSensitive,ignoreDiacritics:p=Ae.ignoreDiacritics,ignoreLocation:v=Ae.ignoreLocation}={}){super(l),this._bitapSearch=new j1(l,{location:r,threshold:t,distance:o,includeMatches:u,findAllMatches:d,minMatchCharLength:m,isCaseSensitive:x,ignoreDiacritics:p,ignoreLocation:v})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(l){return this._bitapSearch.searchIn(l)}}class S1 extends Tr{constructor(l){super(l)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(l){let r=0,t;const o=[],u=this.pattern.length;for(;(t=l.indexOf(this.pattern,r))>-1;)r=t+u,o.push([t,r-1]);const d=!!o.length;return{isMatch:d,score:d?0:1,indices:o}}}const If=[pA,S1,hA,vA,gA,bA,xA,w1],$b=If.length,yA=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,NA="|";function jA(s,l={}){return s.split(NA).map(r=>{let t=r.trim().split(yA).filter(u=>u&&!!u.trim()),o=[];for(let u=0,d=t.length;u<d;u+=1){const m=t[u];let x=!1,p=-1;for(;!x&&++p<$b;){const v=If[p];let b=v.isMultiMatch(m);b&&(o.push(new v(b,l)),x=!0)}if(!x)for(p=-1;++p<$b;){const v=If[p];let b=v.isSingleMatch(m);if(b){o.push(new v(b,l));break}}}return o})}const wA=new Set([w1.type,S1.type]);class SA{constructor(l,{isCaseSensitive:r=Ae.isCaseSensitive,ignoreDiacritics:t=Ae.ignoreDiacritics,includeMatches:o=Ae.includeMatches,minMatchCharLength:u=Ae.minMatchCharLength,ignoreLocation:d=Ae.ignoreLocation,findAllMatches:m=Ae.findAllMatches,location:x=Ae.location,threshold:p=Ae.threshold,distance:v=Ae.distance}={}){this.query=null,this.options={isCaseSensitive:r,ignoreDiacritics:t,includeMatches:o,minMatchCharLength:u,findAllMatches:m,ignoreLocation:d,location:x,threshold:p,distance:v},l=r?l:l.toLowerCase(),l=t?hu(l):l,this.pattern=l,this.query=jA(this.pattern,this.options)}static condition(l,r){return r.useExtendedSearch}searchIn(l){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:t,isCaseSensitive:o,ignoreDiacritics:u}=this.options;l=o?l:l.toLowerCase(),l=u?hu(l):l;let d=0,m=[],x=0;for(let p=0,v=r.length;p<v;p+=1){const b=r[p];m.length=0,d=0;for(let S=0,w=b.length;S<w;S+=1){const M=b[S],{isMatch:D,indices:y,score:N}=M.search(l);if(D){if(d+=1,x+=N,t){const k=M.constructor.type;wA.has(k)?m=[...m,...y]:m.push(y)}}else{x=0,d=0,m.length=0;break}}if(d){let S={isMatch:!0,score:x/d};return t&&(S.indices=m),S}}return{isMatch:!1,score:1}}}const Pf=[];function CA(...s){Pf.push(...s)}function zf(s,l){for(let r=0,t=Pf.length;r<t;r+=1){let o=Pf[r];if(o.condition(s,l))return new o(s,l)}return new j1(s,l)}const vu={AND:"$and",OR:"$or"},Ff={PATH:"$path",PATTERN:"$val"},Bf=s=>!!(s[vu.AND]||s[vu.OR]),DA=s=>!!s[Ff.PATH],kA=s=>!Xn(s)&&b1(s)&&!Bf(s),Vb=s=>({[vu.AND]:Object.keys(s).map(l=>({[l]:s[l]}))});function C1(s,l,{auto:r=!0}={}){const t=o=>{let u=Object.keys(o);const d=DA(o);if(!d&&u.length>1&&!Bf(o))return t(Vb(o));if(kA(o)){const x=d?o[Ff.PATH]:u[0],p=d?o[Ff.PATTERN]:o[x];if(!pn(p))throw new Error(Z3(x));const v={keyId:Lf(x),pattern:p};return r&&(v.searcher=zf(p,l)),v}let m={children:[],operator:u[0]};return u.forEach(x=>{const p=o[x];Xn(p)&&p.forEach(v=>{m.children.push(t(v))})}),m};return Bf(s)||(s=Vb(s)),t(s)}function MA(s,{ignoreFieldNorm:l=Ae.ignoreFieldNorm}){s.forEach(r=>{let t=1;r.matches.forEach(({key:o,norm:u,score:d})=>{const m=o?o.weight:null;t*=Math.pow(d===0&&m?Number.EPSILON:d,(m||1)*(l?1:u))}),r.score=t})}function AA(s,l){const r=s.matches;l.matches=[],Ca(r)&&r.forEach(t=>{if(!Ca(t.indices)||!t.indices.length)return;const{indices:o,value:u}=t;let d={indices:o,value:u};t.key&&(d.key=t.key.src),t.idx>-1&&(d.refIndex=t.idx),l.matches.push(d)})}function TA(s,l){l.score=s.score}function EA(s,l,{includeMatches:r=Ae.includeMatches,includeScore:t=Ae.includeScore}={}){const o=[];return r&&o.push(AA),t&&o.push(TA),s.map(u=>{const{idx:d}=u,m={item:l[d],refIndex:d};return o.length&&o.forEach(x=>{x(u,m)}),m})}class Ml{constructor(l,r={},t){this.options={...Ae,...r},this.options.useExtendedSearch,this._keyStore=new aA(this.options.keys),this.setCollection(l,t)}setCollection(l,r){if(this._docs=l,r&&!(r instanceof hp))throw new Error(W3);this._myIndex=r||N1(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(l){Ca(l)&&(this._docs.push(l),this._myIndex.add(l))}remove(l=()=>!1){const r=[];for(let t=0,o=this._docs.length;t<o;t+=1){const u=this._docs[t];l(u,t)&&(this.removeAt(t),t-=1,o-=1,r.push(u))}return r}removeAt(l){this._docs.splice(l,1),this._myIndex.removeAt(l)}getIndex(){return this._myIndex}search(l,{limit:r=-1}={}){const{includeMatches:t,includeScore:o,shouldSort:u,sortFn:d,ignoreFieldNorm:m}=this.options;let x=pn(l)?pn(this._docs[0])?this._searchStringList(l):this._searchObjectList(l):this._searchLogical(l);return MA(x,{ignoreFieldNorm:m}),u&&x.sort(d),v1(r)&&r>-1&&(x=x.slice(0,r)),EA(x,this._docs,{includeMatches:t,includeScore:o})}_searchStringList(l){const r=zf(l,this.options),{records:t}=this._myIndex,o=[];return t.forEach(({v:u,i:d,n:m})=>{if(!Ca(u))return;const{isMatch:x,score:p,indices:v}=r.searchIn(u);x&&o.push({item:u,idx:d,matches:[{score:p,value:u,norm:m,indices:v}]})}),o}_searchLogical(l){const r=C1(l,this.options),t=(m,x,p)=>{if(!m.children){const{keyId:b,searcher:S}=m,w=this._findMatches({key:this._keyStore.get(b),value:this._myIndex.getValueForItemAtKeyId(x,b),searcher:S});return w&&w.length?[{idx:p,item:x,matches:w}]:[]}const v=[];for(let b=0,S=m.children.length;b<S;b+=1){const w=m.children[b],M=t(w,x,p);if(M.length)v.push(...M);else if(m.operator===vu.AND)return[]}return v},o=this._myIndex.records,u={},d=[];return o.forEach(({$:m,i:x})=>{if(Ca(m)){let p=t(r,m,x);p.length&&(u[x]||(u[x]={idx:x,item:m,matches:[]},d.push(u[x])),p.forEach(({matches:v})=>{u[x].matches.push(...v)}))}}),d}_searchObjectList(l){const r=zf(l,this.options),{keys:t,records:o}=this._myIndex,u=[];return o.forEach(({$:d,i:m})=>{if(!Ca(d))return;let x=[];t.forEach((p,v)=>{x.push(...this._findMatches({key:p,value:d[v],searcher:r}))}),x.length&&u.push({idx:m,item:d,matches:x})}),u}_findMatches({key:l,value:r,searcher:t}){if(!Ca(r))return[];let o=[];if(Xn(r))r.forEach(({v:u,i:d,n:m})=>{if(!Ca(u))return;const{isMatch:x,score:p,indices:v}=t.searchIn(u);x&&o.push({score:p,key:l,value:u,idx:d,norm:m,indices:v})});else{const{v:u,n:d}=r,{isMatch:m,score:x,indices:p}=t.searchIn(u);m&&o.push({score:x,key:l,value:u,norm:d,indices:p})}return o}}Ml.version="7.1.0";Ml.createIndex=N1;Ml.parseIndex=uA;Ml.config=Ae;Ml.parseQuery=C1;CA(SA);let Ga=null,Ei=null;function _A(s){if(!s)return!1;const l=new Date(s),r=new Date;return l.getFullYear()===r.getFullYear()&&l.getMonth()===r.getMonth()&&l.getDate()===r.getDate()}function OA(){return Ga?Promise.resolve(Ga):Ei||(Ei=sS("fundsList").then(s=>s&&Array.isArray(s.data)&&_A(s.updatedAt)?(Ga=s.data,Ga):P2().then(l=>(Ga=Array.isArray(l)?l:[],da("fundsList",Ga),Ga))).catch(()=>(Ei=null,[])),Ei)}function vp({value:s,onSelect:l,placeholder:r,disabled:t}){const[o,u]=j.useState(""),[d,m]=j.useState(Ga||[]),[x,p]=j.useState(!Ga),[v,b]=j.useState(!1),S=j.useRef(null);j.useEffect(()=>{if(Ga){m(Ga),p(!1);return}OA().then(k=>{m(k),p(!1)})},[]),j.useEffect(()=>{function k(g){S.current&&!S.current.contains(g.target)&&b(!1)}return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]);const w=j.useMemo(()=>d.length?new Ml(d,{keys:["fundName"],threshold:.3,distance:50,minMatchCharLength:2,includeScore:!0,ignoreLocation:!1,findAllMatches:!0}):null,[d]),M=j.useMemo(()=>!w||o.length<2?[]:w.search(o).slice(0,50).map(k=>k.item),[w,o]);function D(k){u(k),b(k.length>=2)}function y(k){l({schemeCode:k.fundCode||k.schemeCode,fundName:k.fundName,nav:k.nav,navDate:k.navDate}),u(""),b(!1)}function N(){l({schemeCode:"",fundName:"",nav:0,navDate:""}),u("")}return s?.fundName?n.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg px-3 py-2",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate",children:s.fundName}),n.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:s.schemeCode}),s.nav>0&&n.jsxs("span",{className:"text-xs font-medium text-emerald-400",children:["NAV: ",s.nav.toFixed(2),s.navDate?` (${s.navDate})`:""]})]})]}),n.jsx("button",{type:"button",onClick:N,className:"shrink-0 p-1 rounded-md hover:bg-[var(--bg-hover)] text-[var(--text-dim)] hover:text-[var(--text-secondary)] transition-colors",children:n.jsx(Qi,{size:14})})]}):n.jsxs("div",{ref:S,className:"relative",children:[n.jsxs("div",{className:"relative",children:[x?n.jsx(by,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-400 animate-spin"}):n.jsx(YC,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)]"}),n.jsx("input",{type:"text",value:o,onChange:k=>D(k.target.value),onFocus:()=>o.length>=2&&b(!0),placeholder:x?"Loading funds...":r||"Search fund name...",disabled:t||x,className:"w-full bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg pl-9 pr-3 py-2 text-sm text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-violet-500/50 disabled:opacity-50 transition-colors"})]}),v&&M.length>0&&n.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl max-h-[240px] overflow-y-auto",children:M.map(k=>n.jsxs("button",{type:"button",onClick:()=>y(k),className:"w-full text-left px-3 py-2.5 hover:bg-[var(--bg-hover)] transition-colors border-b border-[var(--border-light)] last:border-0",children:[n.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:k.fundName}),n.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:k.fundCode||k.schemeCode}),k.nav>0&&n.jsxs("span",{className:"text-xs text-emerald-400 tabular-nums",children:["NAV: ",k.nav.toFixed(2),k.navDate?` (${k.navDate})`:""]})]})]},k.fundCode||k.schemeCode))}),v&&o.length>=2&&M.length===0&&!x&&n.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl p-4 text-center",children:n.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:['No funds found for "',o,'"']})})]})}const RA=[{value:"INITIAL",label:"Add Existing Holdings"},{value:"SIP",label:"SIP Investment"},{value:"LUMPSUM",label:"Lumpsum Investment"}];function LA({portfolioId:s,transactionType:l,onSave:r,onCancel:t}){const{mfPortfolios:o,mfHoldings:u}=ze(),{selectedMember:d}=Yt(),m=j.useMemo(()=>{const z=o.filter(U=>U.status==="Active");return d==="all"?z:z.filter(U=>U.ownerId===d)},[o,d]),[x,p]=j.useState({portfolioId:s||"",fundCode:"",fundName:"",nav:0,navDate:"",transactionType:l||"SIP",date:new Date().toISOString().split("T")[0],units:"",price:"",notes:""}),[v,b]=j.useState({}),[S,w]=j.useState(!1);function M(z,U){p(_=>({..._,[z]:U})),b(_=>({..._,[z]:void 0}))}function D({schemeCode:z,fundName:U,nav:_,navDate:B}){p(H=>({...H,fundCode:z,fundName:U,nav:_||0,navDate:B||"",price:_>0?String(_):H.price})),b(H=>({...H,fundCode:void 0,fundName:void 0}))}const y=j.useMemo(()=>!x.portfolioId||!x.fundCode?null:u.find(z=>z.portfolioId===x.portfolioId&&z.schemeCode===x.fundCode),[u,x.portfolioId,x.fundCode]),N=x.fundCode&&!y,k=j.useMemo(()=>(Number(x.units)||0)*(Number(x.price)||0),[x.units,x.price]);function g(){const z={};return x.portfolioId||(z.portfolioId="Required"),x.fundCode||(z.fundCode="Select a fund"),x.date||(z.date="Required"),(!x.units||Number(x.units)<=0)&&(z.units="Must be > 0"),(!x.price||Number(x.price)<=0)&&(z.price="Must be > 0"),b(z),Object.keys(z).length===0}async function O(){if(g()){w(!0);try{await r({portfolioId:x.portfolioId,fundCode:x.fundCode,fundName:x.fundName,transactionType:x.transactionType,purchaseDate:x.date,units:x.units,avgPrice:x.price,notes:x.notes})}finally{w(!1)}}}const Y=m.map(z=>({value:z.portfolioId,label:`${z.portfolioName} (${z.ownerName})`}));return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Portfolio",required:!0,error:v.portfolioId,children:n.jsx(Te,{value:x.portfolioId,onChange:z=>M("portfolioId",z),options:Y,placeholder:"Select portfolio..."})}),n.jsx(ee,{label:"Transaction Type",required:!0,children:n.jsx(Te,{value:x.transactionType,onChange:z=>M("transactionType",z),options:RA})})]}),n.jsx(ee,{label:"Fund",required:!0,error:v.fundCode,children:n.jsx(vp,{value:x.fundCode?{schemeCode:x.fundCode,fundName:x.fundName,nav:x.nav||0,navDate:x.navDate||""}:null,onSelect:D,placeholder:"Search fund by name, code, or category..."})}),y&&n.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Existing holding  will average out"}),n.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Current: ",n.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:y.units.toFixed(2)})," units @ ",y.avgNav.toFixed(2)," avg NAV | Value: ",K(y.currentValue),y.targetAllocationPct>0&&n.jsxs("span",{children:["  Target: ",y.targetAllocationPct.toFixed(1),"%"]})]})]}),N&&n.jsxs("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:[n.jsx("p",{className:"text-xs text-violet-400 font-semibold",children:"New fund  will be added to portfolio"}),n.jsx("p",{className:"text-xs text-violet-300/70 mt-0.5",children:"Use Allocations to plan how much to invest before buying"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsx(ee,{label:"Date",required:!0,error:v.date,children:n.jsx(f1,{value:x.date,onChange:z=>M("date",z)})}),n.jsx(ee,{label:"Units",required:!0,error:v.units,children:n.jsx(me,{type:"number",value:x.units,onChange:z=>M("units",z),placeholder:"e.g., 150.50"})}),n.jsx(ee,{label:"NAV ()",required:!0,error:v.price,children:n.jsx(me,{type:"number",value:x.price,onChange:z=>M("price",z),placeholder:"e.g., 178.45"})})]}),k>0&&n.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),n.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:K(k)}),y&&n.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:["New avg NAV: ",((y.investment+k)/(y.units+Number(x.units))).toFixed(2)," Total units: ",(y.units+Number(x.units)).toFixed(2)]})]}),n.jsx(ee,{label:"Notes",children:n.jsx(me,{value:x.notes,onChange:z=>M("notes",z),placeholder:"Optional notes..."})}),n.jsx(Xt,{onCancel:t,onSubmit:O,submitLabel:x.transactionType==="SIP"?"Record SIP":x.transactionType==="LUMPSUM"?"Record Lumpsum":"Add Holdings",loading:S})]})}function IA({portfolioId:s,onSave:l,onCancel:r}){const{mfPortfolios:t,mfHoldings:o}=ze(),{selectedMember:u}=Yt(),d=j.useMemo(()=>{const _=t.filter(B=>B.status==="Active");return u==="all"?_:_.filter(B=>B.ownerId===u)},[t,u]),[m,x]=j.useState({portfolioId:s||"",fundCode:"",fundName:"",date:new Date().toISOString().split("T")[0],units:"",price:"",notes:""}),[p,v]=j.useState({}),[b,S]=j.useState(!1);function w(_,B){x(H=>({...H,[_]:B})),v(H=>({...H,[_]:void 0}))}const M=j.useMemo(()=>m.portfolioId?o.filter(_=>_.portfolioId===m.portfolioId&&_.units>0):[],[o,m.portfolioId]),D=M.find(_=>_.schemeCode===m.fundCode);function y(_){const B=M.find(H=>H.schemeCode===_);x(H=>({...H,fundCode:_,fundName:B?.fundName||"",price:B?.currentNav?.toString()||""})),v(H=>({...H,fundCode:void 0}))}function N(_){x(B=>({...B,portfolioId:_,fundCode:"",fundName:"",units:"",price:""})),v(B=>({...B,portfolioId:void 0}))}const k=j.useMemo(()=>(Number(m.units)||0)*(Number(m.price)||0),[m.units,m.price]),g=D?k-Number(m.units)*D.avgNav:0;function O(){const _={};return m.portfolioId||(_.portfolioId="Required"),m.fundCode||(_.fundCode="Required"),m.date||(_.date="Required"),(!m.units||Number(m.units)<=0)&&(_.units="Must be > 0"),D&&Number(m.units)>D.units&&(_.units=`Max ${D.units.toFixed(2)} units`),(!m.price||Number(m.price)<=0)&&(_.price="Must be > 0"),v(_),Object.keys(_).length===0}async function Y(){if(O()){S(!0);try{await l(m)}finally{S(!1)}}}const z=d.map(_=>({value:_.portfolioId,label:`${_.portfolioName} (${_.ownerName})`})),U=M.map(_=>({value:_.schemeCode,label:`${_.fundName}`}));return n.jsxs("div",{className:"space-y-4",children:[n.jsx(ee,{label:"Portfolio",required:!0,error:p.portfolioId,children:n.jsx(Te,{value:m.portfolioId,onChange:N,options:z,placeholder:"Select portfolio..."})}),n.jsx(ee,{label:"Fund to Redeem",required:!0,error:p.fundCode,children:n.jsx(Te,{value:m.fundCode,onChange:y,options:U,placeholder:m.portfolioId?M.length?"Select fund...":"No holdings":"Select portfolio first..."})}),D&&n.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:D.fundName}),n.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",n.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:D.units.toFixed(2)})," units @ ",D.avgNav.toFixed(2)," avg | Current NAV: ",D.currentNav.toFixed(2)]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsx(ee,{label:"Date",required:!0,error:p.date,children:n.jsx(f1,{value:m.date,onChange:_=>w("date",_)})}),n.jsx(ee,{label:"Units",required:!0,error:p.units,children:n.jsx(me,{type:"number",value:m.units,onChange:_=>w("units",_),placeholder:D?`Max: ${D.units.toFixed(2)}`:""})}),n.jsx(ee,{label:"NAV ()",required:!0,error:p.price,children:n.jsx(me,{type:"number",value:m.price,onChange:_=>w("price",_),placeholder:"e.g., 178.45"})})]}),k>0&&n.jsx("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Redemption Amount"}),n.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:K(k)})]}),D&&n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. Gain/Loss"}),n.jsxs("p",{className:`text-sm font-bold tabular-nums ${g>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[g>=0?"+":"",K(g)]})]})]})}),n.jsx(ee,{label:"Notes",children:n.jsx(me,{value:m.notes,onChange:_=>w("notes",_),placeholder:"Optional notes..."})}),n.jsx(Xt,{onCancel:r,onSubmit:Y,submitLabel:"Redeem",loading:b})]})}function PA({portfolioId:s,onSave:l,onCancel:r}){const{mfPortfolios:t,mfHoldings:o}=ze(),{selectedMember:u}=Yt(),d=j.useMemo(()=>{const E=t.filter(le=>le.status==="Active");return u==="all"?E:E.filter(le=>le.ownerId===u)},[t,u]),[m,x]=j.useState({portfolioId:s||"",fromFundCode:"",fromFundName:"",toFundCode:"",toFundName:"",date:new Date().toISOString().split("T")[0],units:"",fromPrice:"",toPrice:"",targetAllocation:"",notes:""}),[p,v]=j.useState({}),[b,S]=j.useState(!1);function w(E,le){x(G=>({...G,[E]:le})),v(G=>({...G,[E]:void 0}))}function M(E){x(le=>({...le,portfolioId:E,fromFundCode:"",fromFundName:"",toFundCode:"",toFundName:"",units:"",fromPrice:"",toPrice:"",targetAllocation:""})),v(le=>({...le,portfolioId:void 0}))}const D=j.useMemo(()=>m.portfolioId?o.filter(E=>E.portfolioId===m.portfolioId&&E.units>0):[],[o,m.portfolioId]),y=D.find(E=>E.schemeCode===m.fromFundCode),N=j.useMemo(()=>!m.portfolioId||!m.toFundCode?null:o.find(E=>E.portfolioId===m.portfolioId&&E.schemeCode===m.toFundCode),[o,m.portfolioId,m.toFundCode]),k=m.toFundCode&&!N;function g(E){const le=D.find(G=>G.schemeCode===E);x(G=>({...G,fromFundCode:E,fromFundName:le?.fundName||"",fromPrice:le?.currentNav?.toString()||""})),v(G=>({...G,fromFundCode:void 0}))}function O({schemeCode:E,fundName:le}){const G=o.find(J=>J.portfolioId===m.portfolioId&&J.schemeCode===E);x(J=>({...J,toFundCode:E,toFundName:le,toPrice:G?.currentNav?.toString()||J.toPrice,targetAllocation:""})),v(J=>({...J,toFundCode:void 0}))}const Y=j.useMemo(()=>(Number(m.units)||0)*(Number(m.fromPrice)||0),[m.units,m.fromPrice]),z=Y>0&&Number(m.toPrice)>0?Y/Number(m.toPrice):0,U=y?Y-Number(m.units)*y.avgNav:0;function _(){const E={};return m.portfolioId||(E.portfolioId="Required"),m.fromFundCode||(E.fromFundCode="Required"),m.toFundCode||(E.toFundCode="Required"),m.fromFundCode&&m.toFundCode&&m.fromFundCode===m.toFundCode&&(E.toFundCode="Must be different from source fund"),m.date||(E.date="Required"),(!m.units||Number(m.units)<=0)&&(E.units="Must be > 0"),y&&Number(m.units)>y.units&&(E.units=`Max ${y.units.toFixed(2)} units`),(!m.fromPrice||Number(m.fromPrice)<=0)&&(E.fromPrice="Must be > 0"),(!m.toPrice||Number(m.toPrice)<=0)&&(E.toPrice="Must be > 0"),v(E),Object.keys(E).length===0}async function B(){if(_()){S(!0);try{await l(m)}finally{S(!1)}}}const H=d.map(E=>({value:E.portfolioId,label:`${E.portfolioName} (${E.ownerName})`})),Q=D.map(E=>({value:E.schemeCode,label:E.fundName}));return n.jsxs("div",{className:"space-y-4",children:[n.jsx(ee,{label:"Portfolio",required:!0,error:p.portfolioId,children:n.jsx(Te,{value:m.portfolioId,onChange:M,options:H,placeholder:"Select portfolio..."})}),n.jsx(ee,{label:"Switch From (Sell)",required:!0,error:p.fromFundCode,children:n.jsx(Te,{value:m.fromFundCode,onChange:g,options:Q,placeholder:m.portfolioId?D.length?"Select fund to switch from...":"No holdings":"Select portfolio first..."})}),y&&n.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:y.fundName}),n.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",n.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:y.units.toFixed(2)})," units @ ",y.avgNav.toFixed(2)," avg | Current NAV: ",y.currentNav.toFixed(2)]})]}),n.jsx(ee,{label:"Switch To (Buy)",required:!0,error:p.toFundCode,children:n.jsx(vp,{value:m.toFundCode?{schemeCode:m.toFundCode,fundName:m.toFundName}:null,onSelect:O,placeholder:"Search fund to switch into...",disabled:!m.portfolioId})}),N&&n.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Existing holding  units will be added, NAV averaged out"}),n.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Current: ",n.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:N.units.toFixed(2)})," units @ ",N.avgNav.toFixed(2)," avg | Alloc: ",N.targetAllocationPct.toFixed(1),"%"]})]}),k&&m.toFundCode&&n.jsx("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:n.jsx("p",{className:"text-xs text-violet-400 font-semibold",children:"New fund  will be added to portfolio"})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Switch Date",required:!0,error:p.date,children:n.jsx(me,{type:"date",value:m.date,onChange:E=>w("date",E)})}),n.jsx(ee,{label:"Units to Switch",required:!0,error:p.units,children:n.jsx(me,{type:"number",value:m.units,onChange:E=>w("units",E),placeholder:y?`Max: ${y.units.toFixed(2)}`:""})})]}),n.jsxs("div",{className:`grid grid-cols-1 ${k?"sm:grid-cols-3":"sm:grid-cols-2"} gap-4`,children:[n.jsx(ee,{label:"From Fund NAV ()",required:!0,error:p.fromPrice,children:n.jsx(me,{type:"number",value:m.fromPrice,onChange:E=>w("fromPrice",E),placeholder:"e.g., 178.45"})}),n.jsx(ee,{label:"To Fund NAV ()",required:!0,error:p.toPrice,children:n.jsx(me,{type:"number",value:m.toPrice,onChange:E=>w("toPrice",E),placeholder:"e.g., 82.10"})}),k&&n.jsx(ee,{label:"Target Allocation (%)",children:n.jsx(me,{type:"number",value:m.targetAllocation,onChange:E=>w("targetAllocation",E),placeholder:"e.g., 20"})})]}),Y>0&&n.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Switch Amount"}),n.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:K(Y)})]}),z>0&&n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Units Bought"}),n.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:z.toFixed(4)})]}),y&&n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. Gain/Loss"}),n.jsxs("p",{className:`text-sm font-bold tabular-nums ${U>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[U>=0?"+":"",K(U)]})]})]}),N&&z>0&&n.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1 border-t border-[var(--border-light)] pt-1",children:["New total: ",(N.units+z).toFixed(2)," units  New avg NAV: ",((N.investment+Y)/(N.units+z)).toFixed(2)]})]}),n.jsx(ee,{label:"Notes",children:n.jsx(me,{value:m.notes,onChange:E=>w("notes",E),placeholder:"Optional notes..."})}),n.jsx(Xt,{onCancel:r,onSubmit:B,submitLabel:"Switch Funds",loading:b})]})}function zA({portfolioId:s,onSave:l,onCancel:r}){const{mfHoldings:t,mfPortfolios:o}=ze(),u=o.find(A=>A.portfolioId===s),d=j.useMemo(()=>t.filter(A=>A.portfolioId===s),[t,s]),[m,x]=j.useState(()=>d.map(A=>({schemeCode:A.schemeCode,fundName:A.fundName,units:A.units,currentValue:A.currentValue,currentAllocationPct:A.currentAllocationPct,targetAllocationPct:A.targetAllocationPct,isNew:!1}))),[p,v]=j.useState(null),[b,S]=j.useState(""),[w,M]=j.useState(""),[D,y]=j.useState(!1),[N,k]=j.useState(""),g=m.reduce((A,R)=>A+R.targetAllocationPct,0),O=m.reduce((A,R)=>A+R.currentValue,0),Y=(u?.rebalanceThreshold||.05)*100;function z(A,R){x(ce=>ce.map(ue=>ue.schemeCode===A?{...ue,targetAllocationPct:Number(R)||0}:ue)),M("")}function U(A){const R=m.find(ce=>ce.schemeCode===A);R&&R.units>0||x(ce=>ce.filter(ue=>ue.schemeCode!==A))}function _(){if(p){if(m.find(A=>A.schemeCode===p.schemeCode)){M("Fund already exists in portfolio");return}x(A=>[...A,{schemeCode:p.schemeCode,fundName:p.fundName,units:0,currentValue:0,currentAllocationPct:0,targetAllocationPct:Number(b)||0,isNew:!0}]),v(null),S(""),M("")}}async function B(){if(g>100){M(`Total allocation is ${g.toFixed(1)}%  must be  100%`);return}y(!0);try{await l(m.map(A=>({schemeCode:A.schemeCode,fundName:A.fundName,targetAllocationPct:A.targetAllocationPct,isNew:A.isNew})))}finally{y(!1)}}const H=m.map(A=>{const R=O>0?A.targetAllocationPct/100*O:0,ce=R-A.currentValue;return{...A,targetValue:R,gap:ce}}),Q=u?.sipTarget||0,E=m.map(A=>({...A,sipAmount:Q>0?A.targetAllocationPct/100*Q:0})),le=Number(N)||u?.lumpsumTarget||0,G=j.useMemo(()=>{if(le<=0)return[];const A=O+le,R=m.map(ue=>{const L=Math.abs(ue.currentAllocationPct-ue.targetAllocationPct),ne=L>Y,de=ue.targetAllocationPct/100*A,fe=Math.max(0,de-ue.currentValue),Se=ue.targetAllocationPct/100*le,P=ne?fe:Se,re=ue.currentValue+P,ve=A>0?re/A*100:0;return{...ue,allocation:P,simpleAllocation:Se,smartAllocation:fe,needsRebalance:ne,deviation:L,newValue:re,newPct:ve}}),ce=R.reduce((ue,L)=>ue+L.allocation,0);if(ce>0&&Math.abs(ce-le)>1){const ue=le/ce;R.forEach(L=>{L.allocation=L.allocation*ue,L.newValue=L.currentValue+L.allocation,L.newPct=A>0?L.newValue/A*100:0})}return R},[m,le,O,Y]),[J,F]=j.useState("allocations");return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:u?.portfolioName}),n.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)] mt-0.5 flex-wrap",children:[n.jsxs("span",{children:["Current Value: ",n.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:K(O)})]}),Q>0&&n.jsxs("span",{children:["SIP Target: ",K(Q),"/mo"]}),u?.lumpsumTarget>0&&n.jsxs("span",{children:["Lumpsum: ",K(u.lumpsumTarget)]}),n.jsxs("span",{children:["Rebalance Threshold: ",Y.toFixed(0),"%"]})]})]}),n.jsx("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5 overflow-x-auto",children:[{id:"allocations",label:"Allocations"},{id:"gap",label:"Gap Analysis"},{id:"sip",label:"SIP Plan"},{id:"rebalance",label:"Rebalance Lumpsum"}].map(A=>n.jsx("button",{onClick:()=>F(A.id),className:`px-3 py-1.5 text-xs font-semibold rounded-md transition-colors whitespace-nowrap ${J===A.id?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:A.label},A.id))}),J==="allocations"&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[n.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Fund"}),n.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Units"}),n.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Current %"}),n.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Target %"}),n.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold w-8"})]})}),n.jsx("tbody",{children:m.map(A=>{const R=A.isNew&&A.targetAllocationPct>0&&A.targetAllocationPct<100&&O>0?A.targetAllocationPct/(100-A.targetAllocationPct)*O:0,ce=A.isNew&&A.targetAllocationPct>0&&Q>0?A.targetAllocationPct/100*Q:0;return n.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[n.jsxs("td",{className:"py-2 px-2",children:[n.jsx("p",{className:"text-xs text-[var(--text-primary)] leading-tight max-w-[200px] truncate",children:A.fundName}),n.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[A.schemeCode,A.isNew&&n.jsx("span",{className:"text-violet-400 ml-1",children:"(new)"})]}),(R>0||ce>0)&&n.jsxs("p",{className:"text-xs text-blue-400 mt-0.5",children:["Invest: ",R>0&&n.jsx("span",{className:"font-semibold",children:K(R)}),R>0&&ce>0&&"  ",ce>0&&n.jsxs("span",{className:"font-semibold",children:[K(ce),"/mo SIP"]})]})]}),n.jsx("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:A.units.toFixed(2)}),n.jsxs("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:[A.currentAllocationPct.toFixed(1),"%"]}),n.jsx("td",{className:"py-2 px-2",children:n.jsx("input",{type:"number",value:A.targetAllocationPct,onChange:ue=>z(A.schemeCode,ue.target.value),className:"w-20 mx-auto block bg-[var(--bg-inset)] border border-[var(--border)] rounded px-2 py-1 text-xs text-center text-[var(--text-primary)] focus:outline-none focus:border-violet-500/50"})}),n.jsx("td",{className:"py-2 px-2 text-center",children:A.units===0&&n.jsx("button",{onClick:()=>U(A.schemeCode),className:"p-1 rounded hover:bg-rose-500/15 text-[var(--text-dim)] hover:text-[var(--accent-rose)] transition-colors",children:n.jsx(ap,{size:12})})})]},A.schemeCode)})}),n.jsx("tfoot",{children:n.jsxs("tr",{className:"border-t border-[var(--border)]",children:[n.jsx("td",{className:"py-2 px-2 text-xs font-bold text-[var(--text-primary)]",children:"Total"}),n.jsx("td",{}),n.jsxs("td",{className:"py-2 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[m.reduce((A,R)=>A+R.currentAllocationPct,0).toFixed(1),"%"]}),n.jsx("td",{className:"py-2 px-2 text-center",children:n.jsxs("span",{className:`text-xs font-bold tabular-nums ${g>100?"text-[var(--accent-rose)]":g===100?"text-emerald-400":"text-amber-400"}`,children:[g.toFixed(1),"%"]})}),n.jsx("td",{})]})})]})}),n.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3",children:[n.jsx("p",{className:"text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider mb-1",children:"Add New Fund"}),n.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"Set target % to see how much to invest. After buying, use Invest to record the transaction."}),n.jsxs("div",{className:"flex items-end gap-2",children:[n.jsx("div",{className:"flex-1",children:n.jsx(vp,{value:p,onSelect:A=>v(A.schemeCode?A:null),placeholder:"Search fund to add..."})}),n.jsx("div",{className:"w-20",children:n.jsx(me,{type:"number",value:b,onChange:S,placeholder:"%"})}),n.jsxs("button",{onClick:_,disabled:!p,className:"shrink-0 flex items-center gap-1 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors disabled:opacity-40 disabled:cursor-not-allowed",children:[n.jsx(Ma,{size:14})," Add"]})]})]})]}),J==="gap"&&n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[n.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Fund"}),n.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Current Value"}),n.jsxs("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:[n.jsx("div",{children:"Allocation"}),n.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Curr / Target"})]}),n.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Target Value"}),n.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Gap"})]})}),n.jsx("tbody",{children:H.map(A=>n.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[n.jsx("td",{className:"py-2 px-2 text-xs text-[var(--text-primary)] max-w-[180px] truncate",children:A.fundName}),n.jsx("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:K(A.currentValue)}),n.jsxs("td",{className:"py-2 px-2 text-right",children:[n.jsxs("span",{className:"text-xs text-[var(--text-secondary)] tabular-nums",children:[A.currentAllocationPct.toFixed(1),"%"]}),n.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[" / ",A.targetAllocationPct.toFixed(1),"%"]})]}),n.jsx("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:K(A.targetValue)}),n.jsx("td",{className:"py-2 px-2 text-right",children:n.jsxs("span",{className:`text-xs font-semibold tabular-nums ${A.gap>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[A.gap>=0?"+":"",K(A.gap)]})})]},A.schemeCode))})]})}),J==="sip"&&n.jsx("div",{className:"space-y-2",children:Q>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[n.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Fund"}),n.jsxs("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:[n.jsx("div",{children:"Allocation"}),n.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Curr / Target"})]}),n.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Monthly SIP"})]})}),n.jsx("tbody",{children:E.filter(A=>A.targetAllocationPct>0).map(A=>n.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[n.jsx("td",{className:"py-2 px-2 text-xs text-[var(--text-primary)] max-w-[200px] truncate",children:A.fundName}),n.jsxs("td",{className:"py-2 px-2 text-right",children:[n.jsxs("span",{className:"text-xs text-[var(--text-secondary)] tabular-nums",children:[A.currentAllocationPct.toFixed(1),"%"]}),n.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[" / ",A.targetAllocationPct.toFixed(1),"%"]})]}),n.jsx("td",{className:"py-2 px-2 text-right text-xs font-semibold text-blue-400 tabular-nums",children:K(A.sipAmount)})]},A.schemeCode))}),n.jsx("tfoot",{children:n.jsxs("tr",{className:"border-t border-[var(--border)]",children:[n.jsx("td",{className:"py-2 px-2 text-xs font-bold text-[var(--text-primary)]",children:"Total"}),n.jsx("td",{}),n.jsx("td",{className:"py-2 px-2 text-right text-xs font-bold text-blue-400 tabular-nums",children:K(Q)})]})})]})}):n.jsx("p",{className:"text-xs text-[var(--text-muted)] text-center py-4",children:"No SIP target set for this portfolio. Edit portfolio to set one."})}),J==="rebalance"&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-end gap-3",children:[n.jsx("div",{className:"flex-1",children:n.jsx(ee,{label:"Lumpsum Amount ()",children:n.jsx(me,{type:"number",value:N,onChange:k,placeholder:u?.lumpsumTarget?`Default: ${K(u.lumpsumTarget)}`:"Enter amount to invest..."})})}),u?.lumpsumTarget>0&&!N&&n.jsx("p",{className:"text-xs text-[var(--text-dim)] pb-2",children:"Using portfolio lumpsum target"})]}),le>0?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:n.jsxs("p",{className:"text-xs text-violet-300 leading-relaxed",children:["Smart rebalance: Funds deviating >",Y.toFixed(0),"% from target get adjusted allocation. Overweight funds get 0. Underweight funds get more to bring them toward target."]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[n.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Fund"}),n.jsxs("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:[n.jsx("div",{children:"Allocation"}),n.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Curr  After"})]}),n.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Current Value"}),n.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Invest"}),n.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"After Value"})]})}),n.jsx("tbody",{children:G.map(A=>{const R=A.allocation<1;return n.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 ${R?"opacity-50":""}`,children:[n.jsxs("td",{className:"py-2 px-2",children:[n.jsx("p",{className:"text-xs text-[var(--text-primary)] max-w-[160px] truncate",children:A.fundName}),A.needsRebalance&&n.jsxs("span",{className:"text-xs text-amber-400 font-semibold",children:[A.currentAllocationPct>A.targetAllocationPct?"overweight":"underweight"," (",A.deviation.toFixed(1),"%)"]})]}),n.jsxs("td",{className:"py-2 px-2 text-right",children:[n.jsxs("span",{className:"text-xs text-[var(--text-secondary)] tabular-nums",children:[A.currentAllocationPct.toFixed(1),"%"]}),n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"  "}),n.jsxs("span",{className:`text-xs font-semibold tabular-nums ${Math.abs(A.newPct-A.targetAllocationPct)<Y?"text-emerald-400":"text-amber-400"}`,children:[A.newPct.toFixed(1),"%"]}),n.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["target: ",A.targetAllocationPct.toFixed(1),"%"]})]}),n.jsx("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:K(A.currentValue)}),n.jsx("td",{className:"py-2 px-2 text-right",children:A.allocation>=1?n.jsx("span",{className:"text-xs font-bold text-emerald-400 tabular-nums",children:K(A.allocation)}):n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"0"})}),n.jsx("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:K(A.newValue)})]},A.schemeCode)})}),n.jsx("tfoot",{children:n.jsxs("tr",{className:"border-t border-[var(--border)]",children:[n.jsx("td",{className:"py-2 px-2 text-xs font-bold text-[var(--text-primary)]",children:"Total"}),n.jsx("td",{}),n.jsx("td",{className:"py-2 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums",children:K(O)}),n.jsx("td",{className:"py-2 px-2 text-right text-xs font-bold text-emerald-400 tabular-nums",children:K(le)}),n.jsx("td",{className:"py-2 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums",children:K(O+le)})]})})]})})]}):n.jsx("p",{className:"text-xs text-[var(--text-muted)] text-center py-4",children:"Enter an amount above to see rebalance distribution."})]}),w&&n.jsx("p",{className:"text-xs text-[var(--accent-rose)] font-medium",children:w}),n.jsx(Xt,{onCancel:r,onSubmit:B,submitLabel:"Save Allocations",loading:D})]})}const _i=s=>s?.replace(/^PFL-/,"")||s;function Gb(s){return s>=20?{color:"#c62828",fontWeight:700}:s>=10?{color:"#d84315",fontWeight:700}:s>=5?{color:"#e67e00",fontWeight:400}:s>=1?{color:"#b8860b",fontWeight:400}:{color:"var(--text-dim)",fontWeight:400}}function FA(){const{selectedMember:s}=Yt(),{mfPortfolios:l,mfHoldings:r,mfTransactions:t,activeMembers:o,activeInvestmentAccounts:u,addMFPortfolio:d,updateMFPortfolio:m,deleteMFPortfolio:x,investMF:p,redeemMF:v,switchMF:b,updateHoldingAllocations:S}=ze(),{showToast:w,showBlockUI:M,hideBlockUI:D}=gn(),{mv:y}=yn(),[N,k]=j.useState(null),[g,O]=j.useState("all"),[Y,z]=j.useState("holdings"),[U,_]=j.useState(!1),B=j.useMemo(()=>l?l.filter(P=>P.status!=="Inactive").map(P=>{let re=u.find(pe=>pe.accountId===P.investmentAccountId);!re&&P.investmentAccountId&&(re=u.find(pe=>`${pe.accountName} - ${pe.platformBroker}`===P.investmentAccountId));const ve=re?.memberId||P.ownerId||"",be=ve?o.find(pe=>pe.memberId===ve):null;return{...P,investmentAccountId:re?.accountId||P.investmentAccountId,ownerId:ve,ownerName:be?.memberName||P.ownerName||"",platform:re?.platformBroker||P.investmentAccountName||"",clientId:re?.accountClientId||""}}):[],[l,u,o]),H=j.useMemo(()=>B.length?s==="all"?B:B.filter(P=>P.ownerId===s):[],[B,s]),Q=j.useMemo(()=>r?H.map(P=>{const re=r.filter(be=>be.portfolioId===P.portfolioId),ve=(t||[]).filter(be=>be.portfolioId===P.portfolioId);return{...P,holdings:re,txns:ve,fundCount:re.length}}):[],[H,r,t]),E=j.useMemo(()=>{const P=g==="all"?Q:Q.filter(Ze=>Ze.portfolioId===g),re=P.reduce((Ze,qe)=>Ze+qe.totalInvestment,0),ve=P.reduce((Ze,qe)=>Ze+qe.currentValue,0),be=P.reduce((Ze,qe)=>Ze+qe.unrealizedPL,0),pe=P.reduce((Ze,qe)=>Ze+qe.realizedPL,0),De=be+pe,Fe=re>0?De/re*100:0,$e=re>0?be/re*100:0,We=re>0?pe/re*100:0,xt=P.reduce((Ze,qe)=>Ze+qe.fundCount,0),Wt=(r?g==="all"?r.filter(Ze=>P.some(qe=>qe.portfolioId===Ze.portfolioId)):r.filter(Ze=>Ze.portfolioId===g):[]).reduce((Ze,qe)=>Ze+(qe.sipAmount||0),0);return{invested:re,current:ve,unrealizedPL:be,unrealizedPLPct:$e,realizedPL:pe,realizedPLPct:We,totalPL:De,totalPLPct:Fe,funds:xt,monthlySIP:Wt}},[Q,g,r]),le=j.useMemo(()=>r?g==="all"?r.filter(P=>H.some(re=>re.portfolioId===P.portfolioId)):r.filter(P=>P.portfolioId===g):[],[r,H,g]),G=j.useMemo(()=>t?(g==="all"?t.filter(re=>H.some(ve=>ve.portfolioId===re.portfolioId)):t.filter(re=>re.portfolioId===g)).sort((re,ve)=>new Date(ve.date)-new Date(re.date)):[],[t,H,g]),J=j.useMemo(()=>{const P={};return le.forEach(re=>{P[re.portfolioId]=(P[re.portfolioId]||0)+re.currentValue}),le.map(re=>{const ve=P[re.portfolioId]||0,be=ve>0?re.currentValue/ve*100:0;return{...re,currentAllocationPct:be}})},[le]),F=j.useMemo(()=>{if(!r)return{};const P={};return Q.forEach(re=>{const ve=r.filter($e=>$e.portfolioId===re.portfolioId&&$e.units>0),be=ve.reduce(($e,We)=>$e+We.currentValue,0),pe=(re.rebalanceThreshold||.05)*100;let De=0,Fe=0;ve.forEach($e=>{$e.athNav>0&&$e.belowATHPct>=5&&De++;const We=be>0?$e.currentValue/be*100:0;Math.abs(We-$e.targetAllocationPct)>pe&&Fe++}),P[re.portfolioId]={buyOpp:De,rebalance:Fe}}),P},[Q,r]),A=j.useMemo(()=>{if(g!=="all")return F[g]||{buyOpp:0,rebalance:0};let P=0,re=0;return Object.values(F).forEach(ve=>{P+=ve.buyOpp,re+=ve.rebalance}),{buyOpp:P,rebalance:re}},[g,F]);if(l===null||r===null)return n.jsx(Zn,{title:"Loading mutual funds",cards:5});const R=Q.find(P=>P.portfolioId===g),ce=g==="all"?`All Portfolios (${H.length})`:`${_i(R?.portfolioName)}  ${R?.ownerName}`;async function ue(P){M("Saving...");try{N?.editPortfolio?await m(N.editPortfolio.portfolioId,P):await d(P),w(N?.editPortfolio?"Portfolio updated":"Portfolio created"),k(null)}catch(re){w(re.message||"Failed to save portfolio","error")}finally{D()}}async function L(){if(N?.editPortfolio&&confirm("Deactivate this portfolio?")){M("Deactivating...");try{await x(N.editPortfolio.portfolioId),w("Portfolio deactivated"),O("all"),k(null)}catch(P){w(P.message||"Failed to deactivate portfolio","error")}finally{D()}}}async function ne(P){M("Recording investment...");try{await p(P,P.transactionType),w("Investment recorded"),k(null)}catch(re){w(re.message||"Failed to record investment","error")}finally{D()}}async function de(P){M("Recording redemption...");try{await v(P),w("Redemption recorded"),k(null)}catch(re){w(re.message||"Failed to record redemption","error")}finally{D()}}async function fe(P){M("Recording switch...");try{await b(P),w("Switch recorded"),k(null)}catch(re){w(re.message||"Failed to record switch","error")}finally{D()}}async function Se(P){if(N?.allocations){M("Saving allocations...");try{await S(N.allocations,P),w("Allocations updated"),k(null)}catch(re){w(re.message||"Failed to update allocations","error")}finally{D()}}}return n.jsxs("div",{className:"space-y-4",children:[H.length===0?n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[n.jsx(ol,{size:32,className:"text-[var(--text-dim)]"}),n.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No mutual fund portfolios yet"}),n.jsx("button",{onClick:()=>k("addPortfolio"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first portfolio"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>_(!U),className:"flex items-center gap-2 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm font-semibold text-[var(--text-primary)] hover:border-[var(--border-light)] transition-colors min-w-[220px]",children:[n.jsx(ol,{size:14,className:"text-violet-400 shrink-0"}),n.jsx("span",{className:"truncate",children:ce}),n.jsx(dl,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${U?"rotate-180":""}`})]}),U&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>_(!1)}),n.jsxs("div",{className:"absolute left-0 top-full mt-1 z-40 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl min-w-[300px] py-1 overflow-hidden",children:[n.jsxs("button",{onClick:()=>{O("all"),_(!1),z("holdings")},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${g==="all"?"bg-[var(--sidebar-active-bg)] text-[var(--text-primary)] font-semibold":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:["All Portfolios (",H.length,")"]}),n.jsx("div",{className:"border-t border-[var(--border-light)]"}),Q.map(P=>{const re=P.totalPL>=0,ve=F[P.portfolioId]||{};return n.jsx("button",{onClick:()=>{O(P.portfolioId),_(!1),z("holdings")},className:`w-full text-left px-4 py-2.5 transition-colors ${g===P.portfolioId?"bg-[var(--sidebar-active-bg)]":"hover:bg-[var(--bg-hover)]"}`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("p",{className:`text-sm ${g===P.portfolioId?"font-semibold text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:_i(P.portfolioName)}),ve.buyOpp>0&&n.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 shrink-0",title:`${ve.buyOpp} buy opportunities`}),ve.rebalance>0&&n.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-400 shrink-0",title:`${ve.rebalance} funds need rebalancing`})]}),n.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[P.ownerName,"  ",P.platform,"  ",P.fundCount," funds"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(P.currentValue)}),n.jsxs("p",{className:`text-xs font-semibold tabular-nums ${re?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[re?"+":"",P.totalPLPct.toFixed(1),"%"]})]})]})},P.portfolioId)})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs("button",{onClick:()=>k("buyOpp"),disabled:A.buyOpp===0,className:`flex items-center gap-1.5 px-3 py-2 text-xs font-medium rounded-lg transition-colors ${A.buyOpp>0?"text-emerald-400 hover:text-emerald-300 bg-[var(--bg-card)] border border-emerald-500/30 animate-glow-emerald":"text-[var(--text-dim)] bg-[var(--bg-card)] border border-[var(--border)] opacity-50 cursor-not-allowed"}`,children:[n.jsx(Nu,{size:12})," Buy Opp.",A.buyOpp>0&&n.jsx("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-emerald-500/15",children:A.buyOpp})]}),n.jsxs("button",{onClick:()=>k("rebalance"),disabled:A.rebalance===0,className:`flex items-center gap-1.5 px-3 py-2 text-xs font-medium rounded-lg transition-colors ${A.rebalance>0?"text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-violet-500/30 animate-glow-violet":"text-[var(--text-dim)] bg-[var(--bg-card)] border border-[var(--border)] opacity-50 cursor-not-allowed"}`,children:[n.jsx(Hi,{size:12})," Rebalance",A.rebalance>0&&n.jsx("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-violet-500/15",children:A.rebalance})]}),R&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>k({allocations:R.portfolioId}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[n.jsx(UC,{size:12})," Allocations"]}),n.jsxs("button",{onClick:()=>k({editPortfolio:R}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[n.jsx(bn,{size:12})," Edit"]})]}),n.jsxs("button",{onClick:()=>k("addPortfolio"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[n.jsx(Ma,{size:14})," New Portfolio"]})]})]}),R&&n.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-dim)] px-1 flex-wrap",children:[n.jsxs("span",{children:[n.jsx("span",{className:"font-semibold",children:"Platform:"})," ",R.platform]}),n.jsxs("span",{children:[n.jsx("span",{className:"font-semibold",children:"Client ID:"})," ",y(R.clientId,"clientId")]}),n.jsxs("span",{children:[n.jsx("span",{className:"font-semibold",children:"Funds:"})," ",R.fundCount]}),R.sipTarget>0&&n.jsxs("span",{children:[n.jsx("span",{className:"font-semibold",children:"SIP Target:"})," ",K(R.sipTarget),"/mo"]}),R.lumpsumTarget>0&&n.jsxs("span",{children:[n.jsx("span",{className:"font-semibold",children:"Lumpsum Target:"})," ",K(R.lumpsumTarget)]}),n.jsxs("span",{children:[n.jsx("span",{className:"font-semibold",children:"Rebalance Threshold:"})," ",(R.rebalanceThreshold*100).toFixed(0),"%"]})]}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[n.jsx(al,{label:"Invested",value:K(E.invested)}),n.jsx(al,{label:"Current Value",value:K(E.current),bold:!0}),n.jsx(al,{label:"Unrealized P&L",value:`${E.unrealizedPL>=0?"+":""}${K(E.unrealizedPL)}`,sub:`${E.unrealizedPLPct>=0?"+":""}${E.unrealizedPLPct.toFixed(1)}%`,positive:E.unrealizedPL>=0}),n.jsx(al,{label:"Realized P&L",value:`${E.realizedPL>=0?"+":""}${K(E.realizedPL)}`,sub:`${E.realizedPLPct>=0?"+":""}${E.realizedPLPct.toFixed(1)}%`,positive:E.realizedPL>=0}),n.jsx(al,{label:"Total P&L",value:`${E.totalPL>=0?"+":""}${K(E.totalPL)}`,sub:`${E.totalPLPct>=0?"+":""}${E.totalPLPct.toFixed(1)}%`,positive:E.totalPL>=0,bold:!0}),n.jsx(al,{label:"Monthly SIP",value:K(E.monthlySIP),sub:`${E.funds} funds`})]}),n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[n.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5",children:[n.jsxs("button",{onClick:()=>z("holdings"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${Y==="holdings"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[n.jsx(vy,{size:12})," Holdings (",le.length,")"]}),n.jsxs("button",{onClick:()=>z("transactions"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${Y==="transactions"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[n.jsx(au,{size:12})," Transactions (",G.length,")"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[g==="all"&&n.jsx("span",{className:"text-xs text-[var(--text-dim)] mr-1 hidden sm:inline",children:"Select a portfolio to take actions"}),n.jsxs("button",{onClick:()=>g!=="all"&&k({invest:g}),disabled:g==="all",className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${g==="all"?"bg-emerald-600/40 text-white/50 cursor-not-allowed":"text-white bg-emerald-600 hover:bg-emerald-500"}`,title:g==="all"?"Select a portfolio first":"",children:[n.jsx(ml,{size:14})," Invest"]}),n.jsxs("button",{onClick:()=>g!=="all"&&le.length>0&&k({redeem:g}),disabled:g==="all"||le.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${g==="all"||le.length===0?"bg-rose-600/40 text-white/50 cursor-not-allowed":"text-white bg-rose-600 hover:bg-rose-500"}`,title:g==="all"?"Select a portfolio first":"",children:[n.jsx(my,{size:14})," Redeem"]}),n.jsxs("button",{onClick:()=>g!=="all"&&le.length>0&&k({switchFunds:g}),disabled:g==="all"||le.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${g==="all"||le.length===0?"bg-amber-600/40 text-white/50 cursor-not-allowed":"text-white bg-amber-600 hover:bg-amber-500"}`,title:g==="all"?"Select a portfolio first":"",children:[n.jsx(IC,{size:14})," Switch"]})]})]}),Y==="holdings"&&n.jsx(n.Fragment,{children:le.length>0?n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[n.jsx("div",{className:"hidden lg:block overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[n.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Fund Name"}),n.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),n.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[n.jsx("div",{children:"NAV"}),n.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Avg"})]}),n.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[n.jsx("div",{children:"Allocation %"}),n.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Target"})]}),n.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[n.jsx("div",{children:"Amount"}),n.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Invested"})]}),n.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[n.jsx("div",{children:"P&L"}),n.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"on Holdings"})]})]})}),n.jsx("tbody",{children:J.map(P=>{const re=Gb(P.belowATHPct),ve=g==="all"?Q.find(ht=>ht.portfolioId===P.portfolioId):null,be=P.units===0,pe=Q.find(ht=>ht.portfolioId===P.portfolioId),De=pe?.currentValue||0,Fe=P.pl,$e=Fe>=0,We=be&&P.targetAllocationPct>0&&P.targetAllocationPct<100&&De>0?P.targetAllocationPct/(100-P.targetAllocationPct)*De:0,xt=be&&P.targetAllocationPct>0&&pe?.sipTarget>0?P.targetAllocationPct/100*pe.sipTarget:0;return n.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors ${be?"opacity-60":""}`,children:[n.jsxs("td",{className:"py-2.5 px-3 max-w-[240px]",children:[n.jsxs("p",{className:"text-xs text-[var(--text-primary)] leading-tight",children:[P.fundName,be&&n.jsx("span",{className:"ml-1.5 text-xs font-semibold text-violet-400 bg-violet-500/15 px-1.5 py-0.5 rounded",children:"Planned"})]}),ve&&n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:_i(ve.portfolioName)}),be&&(We>0||xt>0)&&n.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[We>0&&n.jsxs("span",{className:"text-xs text-emerald-400 font-semibold",children:["Buy ",K(We)]}),xt>0&&n.jsxs("span",{className:"text-xs text-blue-400 font-semibold",children:["SIP ",K(xt),"/mo"]})]})]}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:be?"":P.units.toFixed(2)}),n.jsx("td",{className:"py-2.5 px-3 text-right",children:be?n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):n.jsxs(n.Fragment,{children:[n.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:["",P.currentNav.toFixed(2)]}),n.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:["",P.avgNav.toFixed(2)]}),P.athNav>0&&P.belowATHPct>0&&n.jsxs("p",{className:"text-xs tabular-nums",style:re,children:["ATH ",P.athNav.toFixed(2)," ",P.belowATHPct.toFixed(1),"%"]})]})}),n.jsx("td",{className:"py-2.5 px-3 text-right",children:be?n.jsxs("p",{className:"text-xs font-semibold text-violet-400 tabular-nums",children:[P.targetAllocationPct.toFixed(1),"%"]}):n.jsxs(n.Fragment,{children:[n.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:[P.currentAllocationPct.toFixed(1),"%"]}),n.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:[P.targetAllocationPct.toFixed(1),"%"]})]})}),n.jsx("td",{className:"py-2.5 px-3 text-right",children:be?n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(P.currentValue)}),n.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:K(P.investment)})]})}),n.jsx("td",{className:"py-2.5 px-3 text-right",children:be?n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):n.jsxs(n.Fragment,{children:[n.jsxs("p",{className:`text-xs font-semibold tabular-nums ${$e?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[$e?"+":"",K(Fe)]}),n.jsxs("p",{className:`text-xs font-bold tabular-nums ${$e?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[$e?"+":"",P.plPct.toFixed(1),"%"]})]})})]},P.holdingId)})})]})}),n.jsx("div",{className:"lg:hidden divide-y divide-[var(--border-light)]",children:J.map(P=>{const re=Gb(P.belowATHPct),ve=g==="all"?Q.find(ht=>ht.portfolioId===P.portfolioId):null,be=P.units===0,pe=Q.find(ht=>ht.portfolioId===P.portfolioId),De=pe?.currentValue||0,Fe=P.pl,$e=Fe>=0,We=be&&P.targetAllocationPct>0&&P.targetAllocationPct<100&&De>0?P.targetAllocationPct/(100-P.targetAllocationPct)*De:0,xt=be&&P.targetAllocationPct>0&&pe?.sipTarget>0?P.targetAllocationPct/100*pe.sipTarget:0;return n.jsxs("div",{className:`px-4 py-3 ${be?"opacity-60":""}`,children:[n.jsxs("div",{className:"flex items-start justify-between mb-1.5",children:[n.jsxs("div",{className:"flex-1 mr-3",children:[n.jsxs("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:[P.fundName,be&&n.jsx("span",{className:"ml-1.5 text-xs font-semibold text-violet-400 bg-violet-500/15 px-1.5 py-0.5 rounded",children:"Planned"})]}),ve&&n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:_i(ve.portfolioName)}),be&&(We>0||xt>0)&&n.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[We>0&&n.jsxs("span",{className:"text-xs text-emerald-400 font-semibold",children:["Buy ",K(We)]}),xt>0&&n.jsxs("span",{className:"text-xs text-blue-400 font-semibold",children:["SIP ",K(xt),"/mo"]})]})]}),be?n.jsxs("p",{className:"text-xs font-semibold text-violet-400 tabular-nums shrink-0",children:["Target: ",P.targetAllocationPct.toFixed(1),"%"]}):n.jsxs("div",{className:"text-right shrink-0",children:[n.jsxs("p",{className:`text-xs font-bold tabular-nums ${$e?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[$e?"+":"",K(Fe)]}),n.jsxs("p",{className:`text-xs font-semibold tabular-nums ${$e?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[$e?"+":"",P.plPct.toFixed(1),"%"]})]})]}),be?null:n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between text-xs text-[var(--text-dim)]",children:[n.jsxs("div",{children:[n.jsxs("span",{children:[P.units.toFixed(2)," units"]}),n.jsx("span",{className:"mx-1",children:""}),n.jsxs("span",{children:["NAV ",P.currentNav.toFixed(2)," / ",P.avgNav.toFixed(2)]})]}),n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(P.currentValue)})]}),n.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-[var(--text-dim)] flex-wrap",children:[n.jsxs("span",{children:["Alloc: ",P.currentAllocationPct.toFixed(1),"% / ",P.targetAllocationPct.toFixed(1),"%"]}),P.athNav>0&&P.belowATHPct>0&&n.jsxs("span",{style:re,children:["ATH ",P.belowATHPct.toFixed(1),"%"]})]})]})]},P.holdingId)})})]}):n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[n.jsx(ol,{size:28,className:"text-[var(--text-dim)]"}),n.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No holdings",R?" in this portfolio":""]}),n.jsx("button",{onClick:()=>k({invest:g!=="all"?g:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Add your first fund"})]})}),Y==="transactions"&&n.jsx(n.Fragment,{children:G.length>0?n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[n.jsx("div",{className:"hidden sm:block overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[n.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Fund"}),n.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),n.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"NAV"}),n.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),n.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Gain/Loss"})]})}),n.jsx("tbody",{children:G.map(P=>{const re=P.type==="BUY",ve=!re&&P.gainLoss!=null&&P.gainLoss!==0,be=ve&&P.gainLoss>=0,pe=g==="all"?Q.find(Fe=>Fe.portfolioId===P.portfolioId):null,De={INITIAL:{bg:"bg-purple-500/15",text:"text-purple-400"},SIP:{bg:"bg-blue-500/15",text:"text-blue-400"},LUMPSUM:{bg:"bg-emerald-500/15",text:"text-emerald-400"},WITHDRAWAL:{bg:"bg-rose-500/15",text:"text-[var(--accent-rose)]"},SWITCH:{bg:"bg-amber-500/15",text:"text-amber-400"}}[P.transactionType]||{bg:"bg-gray-500/15",text:"text-[var(--text-muted)]"};return n.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:P.date}),n.jsx("td",{className:"py-2.5 px-3",children:n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${re?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:P.type}),n.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${De.bg} ${De.text}`,children:P.transactionType})]})}),n.jsxs("td",{className:"py-2.5 px-3",children:[n.jsx("p",{className:"text-xs text-[var(--text-primary)] truncate max-w-[200px]",children:P.fundName}),pe&&n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:_i(pe.portfolioName)})]}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:P.units.toFixed(2)}),n.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:["",P.price.toFixed(2)]}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(P.totalAmount)}),n.jsx("td",{className:"py-2.5 px-3 text-right",children:ve?n.jsxs("span",{className:`text-xs font-semibold tabular-nums ${be?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[be?"+":"",K(P.gainLoss)]}):n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})]},P.transactionId)})})]})}),n.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:G.map(P=>{const re=P.type==="BUY",ve=!re&&P.gainLoss!=null&&P.gainLoss!==0,be=ve&&P.gainLoss>=0;return n.jsxs("div",{className:"px-4 py-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${re?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:P.type}),n.jsx("span",{className:"text-xs font-semibold text-[var(--text-dim)]",children:P.transactionType})]}),n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:P.date})]}),n.jsx("p",{className:"text-xs text-[var(--text-primary)] truncate mb-1",children:P.fundName}),n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[n.jsxs("p",{className:"text-[var(--text-dim)]",children:[P.units.toFixed(2)," units @ ",P.price.toFixed(2)]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(P.totalAmount)}),ve&&n.jsxs("p",{className:`text-xs font-semibold tabular-nums ${be?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["G/L: ",be?"+":"",K(P.gainLoss)]})]})]}),P.notes&&n.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:P.notes})]},P.transactionId)})})]}):n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[n.jsx(au,{size:28,className:"text-[var(--text-dim)]"}),n.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions yet"}),n.jsx("button",{onClick:()=>k({invest:g!=="all"?g:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Make your first investment"})]})})]}),n.jsx(At,{open:N==="addPortfolio"||!!N?.editPortfolio,onClose:()=>k(null),title:N?.editPortfolio?"Edit Portfolio":"New MF Portfolio",children:n.jsx(V3,{initial:N?.editPortfolio||void 0,onSave:ue,onDelete:N?.editPortfolio?L:void 0,onCancel:()=>k(null)})}),n.jsx(At,{open:!!N?.invest,onClose:()=>k(null),title:"Invest in Mutual Fund",wide:!0,children:n.jsx(LA,{portfolioId:typeof N?.invest=="string"?N.invest:void 0,onSave:ne,onCancel:()=>k(null)})}),n.jsx(At,{open:!!N?.redeem,onClose:()=>k(null),title:"Redeem Mutual Fund",wide:!0,children:n.jsx(IA,{portfolioId:typeof N?.redeem=="string"?N.redeem:void 0,onSave:de,onCancel:()=>k(null)})}),n.jsx(At,{open:!!N?.switchFunds,onClose:()=>k(null),title:"Switch Funds",wide:!0,children:n.jsx(PA,{portfolioId:typeof N?.switchFunds=="string"?N.switchFunds:void 0,onSave:fe,onCancel:()=>k(null)})}),n.jsx(At,{open:!!N?.allocations,onClose:()=>k(null),title:"Manage Portfolio Allocation",wide:!0,children:N?.allocations&&n.jsx(zA,{portfolioId:N.allocations,onSave:Se,onCancel:()=>k(null)})}),n.jsx(At,{open:N==="rebalance",onClose:()=>k(null),title:"Rebalance Portfolios",wide:!0,children:N==="rebalance"&&n.jsx(p1,{})}),n.jsx(At,{open:N==="buyOpp",onClose:()=>k(null),title:"Buy Opportunities",wide:!0,children:N==="buyOpp"&&n.jsx(Dy,{})})]})}function al({label:s,value:l,sub:r,positive:t,bold:o}){return n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),n.jsx("p",{className:`text-sm tabular-nums ${o?"font-bold":"font-semibold"} ${t===void 0?"text-[var(--text-primary)]":t?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:l}),r&&n.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${t?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}function BA({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o,activeInvestmentAccounts:u}=ze(),d=!!s,[m,x]=j.useState({portfolioName:s?.portfolioName||"",ownerId:s?.ownerId||"",investmentAccountId:s?.investmentAccountId||""}),[p,v]=j.useState({}),[b,S]=j.useState(!1);function w(g,O){x(Y=>({...Y,[g]:O})),v(Y=>({...Y,[g]:void 0}))}function M(g){x(O=>({...O,ownerId:g,investmentAccountId:""})),v(O=>({...O,ownerId:void 0}))}const D=j.useMemo(()=>m.ownerId?u.filter(g=>g.memberId===m.ownerId&&(g.accountType==="Demat + Trading"||g.accountType==="Trading")).map(g=>({value:g.accountId,label:`${g.accountName} - ${g.platformBroker}`})):[],[u,m.ownerId]);function y(){const g={};return m.portfolioName.trim()||(g.portfolioName="Required"),m.ownerId||(g.ownerId="Required"),m.investmentAccountId||(g.investmentAccountId="Required"),v(g),Object.keys(g).length===0}async function N(){if(y()){S(!0);try{await l(m)}finally{S(!1)}}}const k=o.map(g=>({value:g.memberId,label:`${g.memberName} (${g.relationship})`}));return n.jsxs("div",{className:"space-y-4",children:[n.jsx(ee,{label:"Portfolio Name",required:!0,error:p.portfolioName,children:n.jsx(me,{value:m.portfolioName,onChange:g=>w("portfolioName",g),placeholder:"e.g., Long-Term Growth"})}),n.jsx(ee,{label:"Owner",required:!0,error:p.ownerId,children:n.jsx(Te,{value:m.ownerId,onChange:M,options:k,placeholder:"Select family member..."})}),n.jsx(ee,{label:"Investment Account",required:!0,error:p.investmentAccountId,children:n.jsx(Te,{value:m.investmentAccountId,onChange:g=>w("investmentAccountId",g),options:D,placeholder:m.ownerId?D.length?"Select demat account...":"No demat accounts for this member":"Select owner first..."})}),n.jsxs("div",{className:"flex items-center justify-between",children:[d&&r?n.jsx(jn,{onClick:r}):n.jsx("div",{}),n.jsx(Xt,{onCancel:t,onSubmit:N,submitLabel:d?"Update":"Create Portfolio",loading:b})]})]})}function HA({portfolioId:s,onSave:l,onCancel:r}){const{stockPortfolios:t}=ze(),{selectedMember:o}=Yt(),u=j.useMemo(()=>{const k=t.filter(g=>g.status==="Active");return o==="all"?k:k.filter(g=>g.ownerId===o)},[t,o]),[d,m]=j.useState({portfolioId:s||"",symbol:"",companyName:"",exchange:"NSE",date:new Date().toISOString().split("T")[0],quantity:"",pricePerShare:"",brokerage:"0",notes:""}),[x,p]=j.useState({}),[v,b]=j.useState(!1);function S(k,g){m(O=>({...O,[k]:g})),p(O=>({...O,[k]:void 0}))}const w=j.useMemo(()=>{const k=Number(d.quantity)||0,g=Number(d.pricePerShare)||0;return k*g},[d.quantity,d.pricePerShare]),M=j.useMemo(()=>w+(Number(d.brokerage)||0),[w,d.brokerage]);function D(){const k={};return d.portfolioId||(k.portfolioId="Required"),d.symbol.trim()||(k.symbol="Required"),d.companyName.trim()||(k.companyName="Required"),d.date||(k.date="Required"),(!d.quantity||Number(d.quantity)<=0)&&(k.quantity="Must be > 0"),(!d.pricePerShare||Number(d.pricePerShare)<=0)&&(k.pricePerShare="Must be > 0"),p(k),Object.keys(k).length===0}async function y(){if(D()){b(!0);try{await l(d)}finally{b(!1)}}}const N=u.map(k=>({value:k.portfolioId,label:`${k.portfolioName} (${k.ownerName})`}));return n.jsxs("div",{className:"space-y-4",children:[n.jsx(ee,{label:"Portfolio",required:!0,error:x.portfolioId,children:n.jsx(Te,{value:d.portfolioId,onChange:k=>S("portfolioId",k),options:N,placeholder:"Select portfolio..."})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Stock Symbol",required:!0,error:x.symbol,children:n.jsx(me,{value:d.symbol,onChange:k=>S("symbol",k.toUpperCase()),placeholder:"e.g., RELIANCE"})}),n.jsx(ee,{label:"Company Name",required:!0,error:x.companyName,children:n.jsx(me,{value:d.companyName,onChange:k=>S("companyName",k),placeholder:"e.g., Reliance Industries Ltd"})})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:n.jsx(ee,{label:"Purchase Date",required:!0,error:x.date,children:n.jsx(me,{type:"date",value:d.date,onChange:k=>S("date",k)})})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Quantity (Shares)",required:!0,error:x.quantity,children:n.jsx(me,{type:"number",value:d.quantity,onChange:k=>S("quantity",k),placeholder:"e.g., 100"})}),n.jsx(ee,{label:"Price per Share ()",required:!0,error:x.pricePerShare,children:n.jsx(me,{type:"number",value:d.pricePerShare,onChange:k=>S("pricePerShare",k),placeholder:"e.g., 2500"})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Brokerage ()",children:n.jsx(me,{type:"number",value:d.brokerage,onChange:k=>S("brokerage",k),placeholder:"0"})}),n.jsx("div",{className:"flex flex-col justify-end",children:n.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),n.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:K(w)}),Number(d.brokerage)>0&&n.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:["Net: ",K(M)]})]})})]}),n.jsx(ee,{label:"Notes",children:n.jsx(me,{value:d.notes,onChange:k=>S("notes",k),placeholder:"Optional notes..."})}),n.jsx(Xt,{onCancel:r,onSubmit:y,submitLabel:"Buy Stock",loading:v})]})}function YA({portfolioId:s,onSave:l,onCancel:r}){const{stockPortfolios:t,stockHoldings:o}=ze(),{selectedMember:u}=Yt(),d=j.useMemo(()=>{const B=t.filter(H=>H.status==="Active");return u==="all"?B:B.filter(H=>H.ownerId===u)},[t,u]),[m,x]=j.useState({portfolioId:s||"",symbol:"",companyName:"",date:new Date().toISOString().split("T")[0],quantity:"",pricePerShare:"",brokerage:"0",notes:""}),[p,v]=j.useState({}),[b,S]=j.useState(!1);function w(B,H){x(Q=>({...Q,[B]:H})),v(Q=>({...Q,[B]:void 0}))}const M=j.useMemo(()=>m.portfolioId?o.filter(B=>B.portfolioId===m.portfolioId&&B.quantity>0):[],[o,m.portfolioId]),D=M.find(B=>B.symbol===m.symbol),y=D?.quantity||0,N=j.useMemo(()=>{const B=Number(m.quantity)||0,H=Number(m.pricePerShare)||0;return B*H},[m.quantity,m.pricePerShare]),k=j.useMemo(()=>N-(Number(m.brokerage)||0),[N,m.brokerage]);function g(B){const H=M.find(Q=>Q.symbol===B);x(Q=>({...Q,symbol:B,companyName:H?.companyName||""})),v(Q=>({...Q,symbol:void 0}))}function O(B){x(H=>({...H,portfolioId:B,symbol:"",companyName:"",quantity:""})),v(H=>({...H,portfolioId:void 0}))}function Y(){const B={};return m.portfolioId||(B.portfolioId="Required"),m.symbol||(B.symbol="Required"),m.date||(B.date="Required"),(!m.quantity||Number(m.quantity)<=0)&&(B.quantity="Must be > 0"),Number(m.quantity)>y&&(B.quantity=`Max ${y} shares`),(!m.pricePerShare||Number(m.pricePerShare)<=0)&&(B.pricePerShare="Must be > 0"),v(B),Object.keys(B).length===0}async function z(){if(Y()){S(!0);try{await l(m)}finally{S(!1)}}}const U=d.map(B=>({value:B.portfolioId,label:`${B.portfolioName} (${B.ownerName})`})),_=M.map(B=>({value:B.symbol,label:`${B.symbol}  ${B.quantity} shares`}));return n.jsxs("div",{className:"space-y-4",children:[n.jsx(ee,{label:"Portfolio",required:!0,error:p.portfolioId,children:n.jsx(Te,{value:m.portfolioId,onChange:O,options:U,placeholder:"Select portfolio..."})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Stock to Sell",required:!0,error:p.symbol,children:n.jsx(Te,{value:m.symbol,onChange:g,options:_,placeholder:m.portfolioId?M.length?"Select stock...":"No holdings in this portfolio":"Select portfolio first..."})}),D&&n.jsx("div",{className:"flex flex-col justify-end",children:n.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:D.companyName}),n.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",n.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:y})," shares @ ",K(D.avgBuyPrice)," avg"]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Sale Date",required:!0,error:p.date,children:n.jsx(me,{type:"date",value:m.date,onChange:B=>w("date",B)})}),n.jsx(ee,{label:"Quantity to Sell",required:!0,error:p.quantity,children:n.jsx(me,{type:"number",value:m.quantity,onChange:B=>w("quantity",B),placeholder:y?`Max: ${y}`:""})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Sale Price per Share ()",required:!0,error:p.pricePerShare,children:n.jsx(me,{type:"number",value:m.pricePerShare,onChange:B=>w("pricePerShare",B),placeholder:"e.g., 2750"})}),n.jsx(ee,{label:"Brokerage ()",children:n.jsx(me,{type:"number",value:m.brokerage,onChange:B=>w("brokerage",B),placeholder:"0"})})]}),N>0&&n.jsx("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Net Sale Amount"}),n.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:K(k)})]}),D&&n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. P&L"}),(()=>{const B=Number(m.quantity)*D.avgBuyPrice,H=k-B,Q=H>=0;return n.jsxs("p",{className:`text-sm font-bold tabular-nums ${Q?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Q?"+":"",K(H)]})})()]})]})}),n.jsx(ee,{label:"Notes",children:n.jsx(me,{value:m.notes,onChange:B=>w("notes",B),placeholder:"Optional notes..."})}),n.jsx(Xt,{onCancel:r,onSubmit:z,submitLabel:"Sell Stock",loading:b})]})}function qA(){const{selectedMember:s}=Yt(),{stockPortfolios:l,stockHoldings:r,stockTransactions:t,activeInvestmentAccounts:o,addStockPortfolio:u,updateStockPortfolio:d,deleteStockPortfolio:m,buyStock:x,sellStock:p}=ze(),{showToast:v,showBlockUI:b,hideBlockUI:S}=gn(),{mv:w}=yn(),[M,D]=j.useState(null),[y,N]=j.useState("all"),[k,g]=j.useState("holdings"),[O,Y]=j.useState(!1),z=j.useMemo(()=>{if(!l)return[];const A=l.filter(R=>R.status!=="Inactive");return s==="all"?A:A.filter(R=>R.ownerId===s)},[l,s]),U=j.useMemo(()=>r?z.map(A=>{const R=r.filter(re=>re.portfolioId===A.portfolioId),ce=(t||[]).filter(re=>re.portfolioId===A.portfolioId),ue=R.reduce((re,ve)=>re+ve.totalInvestment,0),L=R.reduce((re,ve)=>re+ve.currentValue,0),ne=L-ue,de=ce.filter(re=>re.type==="SELL"&&re.realizedPL!=null).reduce((re,ve)=>re+ve.realizedPL,0),fe=ne+de,Se=ue>0?fe/ue*100:0,P=o.find(re=>re.accountId===A.investmentAccountId);return{...A,holdings:R,txns:ce,invested:ue,current:L,unrealizedPL:ne,realizedPL:de,totalPL:fe,totalPLPct:Se,stockCount:R.length,platform:P?.platformBroker||A.investmentAccountName||"",clientId:P?.accountClientId||""}}):[],[z,r,t,o]),_=j.useMemo(()=>{const A=y==="all"?U:U.filter(P=>P.portfolioId===y),R=A.reduce((P,re)=>P+re.invested,0),ce=A.reduce((P,re)=>P+re.current,0),ue=A.reduce((P,re)=>P+re.unrealizedPL,0),L=A.reduce((P,re)=>P+re.realizedPL,0),ne=ue+L,de=R>0?ne/R*100:0,fe=R>0?ue/R*100:0,Se=A.reduce((P,re)=>P+re.stockCount,0);return{invested:R,current:ce,unrealizedPL:ue,unrealizedPLPct:fe,realizedPL:L,totalPL:ne,totalPLPct:de,stocks:Se}},[U,y]),B=j.useMemo(()=>r?y==="all"?r.filter(A=>z.some(R=>R.portfolioId===A.portfolioId)):r.filter(A=>A.portfolioId===y):[],[r,z,y]),H=j.useMemo(()=>t?(y==="all"?t.filter(R=>z.some(ce=>ce.portfolioId===R.portfolioId)):t.filter(R=>R.portfolioId===y)).sort((R,ce)=>new Date(ce.date)-new Date(R.date)):[],[t,z,y]);if(l===null||r===null)return n.jsx(Zn,{title:"Loading stocks",cards:5});const Q=U.find(A=>A.portfolioId===y),E=y==="all"?`All Portfolios (${z.length})`:`${Q?.portfolioName}  ${Q?.ownerName}`;async function le(A){b("Saving...");try{M?.editPortfolio?await d(M.editPortfolio.portfolioId,A):await u(A),v(M?.editPortfolio?"Portfolio updated":"Portfolio created"),D(null)}catch(R){v(R.message||"Failed to save portfolio","error")}finally{S()}}async function G(){if(M?.editPortfolio&&confirm("Deactivate this portfolio?")){b("Deactivating...");try{await m(M.editPortfolio.portfolioId),v("Portfolio deactivated"),N("all"),D(null)}catch(A){v(A.message||"Failed to deactivate portfolio","error")}finally{S()}}}async function J(A){b("Recording purchase...");try{await x(A),v("Stock purchase recorded"),D(null)}catch(R){v(R.message||"Failed to record purchase","error")}finally{S()}}async function F(A){b("Recording sale...");try{await p(A),v("Stock sale recorded"),D(null)}catch(R){v(R.message||"Failed to record sale","error")}finally{S()}}return n.jsxs("div",{className:"space-y-4",children:[z.length===0?n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[n.jsx(Ii,{size:32,className:"text-[var(--text-dim)]"}),n.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No stock portfolios yet"}),n.jsx("button",{onClick:()=>D("addPortfolio"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first portfolio"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>Y(!O),className:"flex items-center gap-2 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm font-semibold text-[var(--text-primary)] hover:border-[var(--border-light)] transition-colors min-w-[220px]",children:[n.jsx(Ii,{size:14,className:"text-violet-400 shrink-0"}),n.jsx("span",{className:"truncate",children:E}),n.jsx(dl,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${O?"rotate-180":""}`})]}),O&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>Y(!1)}),n.jsxs("div",{className:"absolute left-0 top-full mt-1 z-40 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl min-w-[280px] py-1 overflow-hidden",children:[n.jsxs("button",{onClick:()=>{N("all"),Y(!1),g("holdings")},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${y==="all"?"bg-[var(--sidebar-active-bg)] text-[var(--text-primary)] font-semibold":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:["All Portfolios (",z.length,")"]}),n.jsx("div",{className:"border-t border-[var(--border-light)]"}),U.map(A=>{const R=A.totalPL>=0;return n.jsx("button",{onClick:()=>{N(A.portfolioId),Y(!1),g("holdings")},className:`w-full text-left px-4 py-2.5 transition-colors ${y===A.portfolioId?"bg-[var(--sidebar-active-bg)]":"hover:bg-[var(--bg-hover)]"}`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${y===A.portfolioId?"font-semibold text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:A.portfolioName}),n.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[A.ownerName,"  ",A.platform]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(A.current)}),n.jsxs("p",{className:`text-xs font-semibold tabular-nums ${R?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[R?"+":"",A.totalPLPct.toFixed(1),"%"]})]})]})},A.portfolioId)})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[Q&&n.jsxs("button",{onClick:()=>D({editPortfolio:Q}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[n.jsx(bn,{size:12})," Edit"]}),n.jsxs("button",{onClick:()=>D("addPortfolio"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[n.jsx(Ma,{size:14})," New Portfolio"]})]})]}),Q&&n.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-dim)] px-1",children:[n.jsxs("span",{children:[n.jsx("span",{className:"font-semibold",children:"Platform:"})," ",Q.platform]}),n.jsxs("span",{children:[n.jsx("span",{className:"font-semibold",children:"Client ID:"})," ",w(Q.clientId,"clientId")]}),n.jsxs("span",{children:[n.jsx("span",{className:"font-semibold",children:"Stocks:"})," ",Q.stockCount]})]}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[n.jsx(Oi,{label:"Invested",value:K(_.invested)}),n.jsx(Oi,{label:"Current Value",value:K(_.current),bold:!0}),n.jsx(Oi,{label:"Unrealized P&L",value:`${_.unrealizedPL>=0?"+":""}${K(_.unrealizedPL)}`,sub:`${_.unrealizedPLPct>=0?"+":""}${_.unrealizedPLPct.toFixed(1)}%`,positive:_.unrealizedPL>=0}),n.jsx(Oi,{label:"Realized P&L",value:`${_.realizedPL>=0?"+":""}${K(_.realizedPL)}`,positive:_.realizedPL>=0}),n.jsx(Oi,{label:"Total P&L",value:`${_.totalPL>=0?"+":""}${K(_.totalPL)}`,sub:`${_.totalPLPct>=0?"+":""}${_.totalPLPct.toFixed(1)}%`,positive:_.totalPL>=0,bold:!0})]}),n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[n.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5",children:[n.jsxs("button",{onClick:()=>g("holdings"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${k==="holdings"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[n.jsx(vy,{size:12})," Holdings (",B.length,")"]}),n.jsxs("button",{onClick:()=>g("transactions"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${k==="transactions"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[n.jsx(au,{size:12})," Transactions (",H.length,")"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:()=>y!=="all"&&D({buy:y}),disabled:y==="all",className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${y==="all"?"bg-emerald-600/40 text-white/50 cursor-not-allowed":"text-white bg-emerald-600 hover:bg-emerald-500"}`,title:y==="all"?"Select a portfolio first":"",children:[n.jsx(ml,{size:14})," Buy"]}),n.jsxs("button",{onClick:()=>y!=="all"&&B.length>0&&D({sell:y}),disabled:y==="all"||B.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${y==="all"||B.length===0?"bg-rose-600/40 text-white/50 cursor-not-allowed":"text-white bg-rose-600 hover:bg-rose-500"}`,title:y==="all"?"Select a portfolio first":"",children:[n.jsx(Nu,{size:14})," Sell"]})]})]}),k==="holdings"&&n.jsx(n.Fragment,{children:B.length>0?n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[n.jsx("div",{className:"hidden sm:block overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[n.jsx("th",{className:"text-left py-2 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Stock"}),n.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Qty"}),n.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Avg Price"}),n.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current Price"}),n.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Invested"}),n.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current Value"}),n.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"}),n.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Returns"})]})}),n.jsxs("tbody",{children:[B.map(A=>{const R=A.unrealizedPL>=0,ce=y==="all"?U.find(ue=>ue.portfolioId===A.portfolioId):null;return n.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[n.jsxs("td",{className:"py-2.5 px-4",children:[n.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:A.companyName}),n.jsxs("p",{className:"text-xs font-mono text-[var(--text-dim)]",children:[A.symbol,ce&&n.jsxs("span",{className:"ml-1.5 text-[var(--text-dim)] font-sans",children:[" ",ce.portfolioName]})]})]}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:A.quantity}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:K(A.avgBuyPrice)}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(A.currentPrice)}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:K(A.totalInvestment)}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(A.currentValue)}),n.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-semibold tabular-nums ${R?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[R?"+":"",K(A.unrealizedPL)]}),n.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-bold tabular-nums ${R?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[R?"+":"",A.unrealizedPLPct.toFixed(1),"%"]})]},A.holdingId)}),n.jsxs("tr",{className:"bg-[var(--bg-inset)] border-t-2 border-[var(--border-light)]",children:[n.jsxs("td",{className:"py-2.5 px-4 text-xs font-semibold text-[var(--text-muted)]",children:["Total (",B.length," stocks)"]}),n.jsx("td",{colSpan:3,className:"py-2.5 px-3"}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(_.invested)}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(_.current)}),n.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-semibold tabular-nums ${_.unrealizedPL>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[_.unrealizedPL>=0?"+":"",K(_.unrealizedPL)]}),n.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-bold tabular-nums ${_.unrealizedPL>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[_.unrealizedPLPct>=0?"+":"",_.unrealizedPLPct.toFixed(1),"%"]})]})]})]})}),n.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:B.map(A=>{const R=A.unrealizedPL>=0,ce=y==="all"?U.find(ue=>ue.portfolioId===A.portfolioId):null;return n.jsxs("div",{className:"px-4 py-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:A.companyName}),n.jsxs("p",{className:"text-xs font-mono text-[var(--text-dim)]",children:[A.symbol,ce&&n.jsxs("span",{className:"ml-1 font-sans",children:[" ",ce.portfolioName]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:`text-xs font-bold tabular-nums ${R?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[R?"+":"",A.unrealizedPLPct.toFixed(1),"%"]}),n.jsxs("p",{className:`text-xs font-semibold tabular-nums ${R?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[R?"+":"",K(A.unrealizedPL)]})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[n.jsxs("div",{className:"text-[var(--text-dim)]",children:[n.jsxs("span",{children:[A.quantity," shares"]}),n.jsx("span",{className:"mx-1",children:""}),n.jsxs("span",{children:["Avg ",K(A.avgBuyPrice)]}),n.jsx("span",{className:"mx-1",children:""}),n.jsxs("span",{children:["CMP ",K(A.currentPrice)]})]}),n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(A.currentValue)})]})]},A.holdingId)})})]}):n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[n.jsx(Ii,{size:28,className:"text-[var(--text-dim)]"}),n.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No holdings",Q?" in this portfolio":""]}),n.jsx("button",{onClick:()=>D({buy:y!=="all"?y:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Buy your first stock"})]})}),k==="transactions"&&n.jsx(n.Fragment,{children:H.length>0?n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[n.jsx("div",{className:"hidden sm:block overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[n.jsx("th",{className:"text-left py-2 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Stock"}),n.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Qty"}),n.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Price"}),n.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),n.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Brokerage"}),n.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Net"}),n.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Realized P&L"})]})}),n.jsx("tbody",{children:H.map(A=>{const R=A.type==="BUY",ce=!R&&A.realizedPL!=null,ue=ce&&A.realizedPL>=0,L=y==="all"?U.find(ne=>ne.portfolioId===A.portfolioId):null;return n.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[n.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-secondary)]",children:A.date}),n.jsx("td",{className:"py-2.5 px-3",children:n.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${R?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:A.type})}),n.jsxs("td",{className:"py-2.5 px-3",children:[n.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:A.symbol}),n.jsxs("p",{className:"text-xs text-[var(--text-dim)] truncate max-w-[140px]",children:[A.companyName,L&&n.jsxs("span",{children:["  ",L.portfolioName]})]})]}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:A.quantity}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:K(A.pricePerShare)}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:K(A.totalAmount)}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-dim)] tabular-nums",children:A.brokerage>0?K(A.brokerage):""}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(A.netAmount)}),n.jsx("td",{className:"py-2.5 px-3 text-right",children:ce?n.jsxs("span",{className:`text-xs font-semibold tabular-nums ${ue?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ue?"+":"",K(A.realizedPL)]}):n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})]},A.transactionId)})})]})}),n.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:H.map(A=>{const R=A.type==="BUY",ce=!R&&A.realizedPL!=null,ue=ce&&A.realizedPL>=0;return n.jsxs("div",{className:"px-4 py-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${R?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:A.type}),n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:A.symbol})]}),n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:A.date})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[A.quantity," shares @ ",K(A.pricePerShare)]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(A.netAmount)}),ce&&n.jsxs("p",{className:`text-xs font-semibold tabular-nums ${ue?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["P&L: ",ue?"+":"",K(A.realizedPL)]})]})]}),A.notes&&n.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:A.notes})]},A.transactionId)})})]}):n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[n.jsx(au,{size:28,className:"text-[var(--text-dim)]"}),n.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions yet"}),n.jsx("button",{onClick:()=>D({buy:y!=="all"?y:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Make your first purchase"})]})})]}),n.jsx(At,{open:M==="addPortfolio"||!!M?.editPortfolio,onClose:()=>D(null),title:M?.editPortfolio?"Edit Portfolio":"New Stock Portfolio",children:n.jsx(BA,{initial:M?.editPortfolio||void 0,onSave:le,onDelete:M?.editPortfolio?G:void 0,onCancel:()=>D(null)})}),n.jsx(At,{open:!!M?.buy,onClose:()=>D(null),title:"Buy Stock",wide:!0,children:n.jsx(HA,{portfolioId:typeof M?.buy=="string"?M.buy:void 0,onSave:J,onCancel:()=>D(null)})}),n.jsx(At,{open:!!M?.sell,onClose:()=>D(null),title:"Sell Stock",wide:!0,children:n.jsx(YA,{portfolioId:typeof M?.sell=="string"?M.sell:void 0,onSave:F,onCancel:()=>D(null)})})]})}function Oi({label:s,value:l,sub:r,positive:t,bold:o}){return n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),n.jsx("p",{className:`text-sm tabular-nums ${o?"font-bold":"font-semibold"} ${t===void 0?"text-[var(--text-primary)]":t?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:l}),r&&n.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${t?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}const UA=["Self","Spouse","Father","Mother","Son","Daughter","Brother","Sister","Other"].map(s=>({value:s,label:s})),Oc={pan:/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/,aadhar:/^\d{12}$/,email:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,mobile:/^\d{10}$/};function $A({initial:s,onSave:l,onDelete:r,onCancel:t}){const o=!!s,[u,d]=j.useState({memberName:s?.memberName||"",relationship:s?.relationship||"",pan:s?.pan||"",aadhar:s?.aadhar||"",email:s?.email||"",mobile:s?.mobile||"",includeInEmailReports:s?.includeInEmailReports??!0,status:s?.status||"Active"}),[m,x]=j.useState({}),[p,v]=j.useState(!1),[b,S]=j.useState(()=>{const g=s?.dynamicFields||{};return Object.entries(g).map(([O,Y])=>({key:O,value:Y}))});function w(g,O){d(Y=>({...Y,[g]:O})),x(Y=>({...Y,[g]:void 0}))}function M(){const g={};return u.memberName.trim()||(g.memberName="Required"),u.relationship||(g.relationship="Required"),Oc.pan.test(u.pan.toUpperCase())||(g.pan="Format: ABCDE1234F"),Oc.aadhar.test(u.aadhar)||(g.aadhar="12 digits required"),Oc.email.test(u.email)||(g.email="Invalid email"),Oc.mobile.test(u.mobile)||(g.mobile="10 digits required"),x(g),Object.keys(g).length===0}function D(){S(g=>[...g,{key:"",value:""}])}function y(g,O,Y){S(z=>z.map((U,_)=>_===g?{...U,[O]:Y}:U))}function N(g){S(O=>O.filter((Y,z)=>z!==g))}async function k(){if(!M())return;const g={};b.forEach(({key:O,value:Y})=>{const z=O.trim();z&&(g[z]=Y)}),v(!0);try{await l({...u,pan:u.pan.toUpperCase(),dynamicFields:g})}finally{v(!1)}}return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Member Name",required:!0,error:m.memberName,children:n.jsx(me,{value:u.memberName,onChange:g=>w("memberName",g),placeholder:"e.g., Jagadeesh"})}),n.jsx(ee,{label:"Relationship",required:!0,error:m.relationship,children:n.jsx(Te,{value:u.relationship,onChange:g=>w("relationship",g),options:UA,placeholder:"Select..."})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"PAN",required:!0,error:m.pan,children:n.jsx(me,{sensitive:!0,value:u.pan,onChange:g=>w("pan",g.toUpperCase()),placeholder:"ABCDE1234F",maxLength:10})}),n.jsx(ee,{label:"Aadhar",required:!0,error:m.aadhar,children:n.jsx(me,{sensitive:!0,value:u.aadhar,onChange:g=>w("aadhar",g.replace(/\D/g,"")),placeholder:"123456789012",maxLength:12})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Email",required:!0,error:m.email,children:n.jsx(me,{sensitive:!0,type:"email",value:u.email,onChange:g=>w("email",g),placeholder:"email@example.com"})}),n.jsx(ee,{label:"Mobile",required:!0,error:m.mobile,children:n.jsx(me,{sensitive:!0,value:u.mobile,onChange:g=>w("mobile",g.replace(/\D/g,"")),placeholder:"9876543210",maxLength:10})})]}),n.jsx(l3,{checked:u.includeInEmailReports,onChange:g=>w("includeInEmailReports",g),label:"Include in email reports"}),o&&n.jsx(ee,{label:"Status",children:n.jsx(Te,{value:u.status,onChange:g=>w("status",g),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)]",children:"Custom Fields"}),n.jsxs("button",{onClick:D,type:"button",className:"flex items-center gap-1 text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[n.jsx(Ma,{size:12})," Add Field"]})]}),b.length===0&&n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"No custom fields. Add DOB, occupation, blood group, etc."}),n.jsx("div",{className:"space-y-2",children:b.map((g,O)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{value:g.key,onChange:Y=>y(O,"key",Y.target.value),placeholder:"Field name",className:"flex-1 px-2.5 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] transition-colors"}),n.jsx("input",{value:g.value,onChange:Y=>y(O,"value",Y.target.value),placeholder:"Value",className:"flex-1 px-2.5 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] transition-colors"}),n.jsx("button",{onClick:()=>N(O),type:"button",className:"p-1 text-[var(--text-dim)] hover:text-rose-400 transition-colors",children:n.jsx(ap,{size:13})})]},O))})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[o&&r?n.jsx(jn,{onClick:r}):n.jsx("div",{}),n.jsx(Xt,{onCancel:t,onSubmit:k,submitLabel:o?"Update":"Add Member",loading:p})]})]})}const Rc=["from-violet-500 to-indigo-500","from-rose-500 to-pink-500","from-blue-500 to-cyan-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],Qb={Self:"bg-violet-500/15 text-[var(--accent-violet)]",Spouse:"bg-rose-500/15 text-[var(--accent-rose)]",Father:"bg-blue-500/15 text-[var(--accent-blue)]",Mother:"bg-amber-500/15 text-[var(--accent-amber)]",Son:"bg-emerald-500/15 text-emerald-400",Daughter:"bg-emerald-500/15 text-emerald-400"};function VA(){const{members:s,addMember:l,updateMember:r,deleteMember:t}=ze(),{showToast:o,showBlockUI:u,hideBlockUI:d}=gn(),{mv:m}=yn(),[x,p]=j.useState(null);if(s===null)return n.jsx(Zn,{title:"Loading family",cards:3});const v=s.filter(w=>w.status!=="Inactive");async function b(w){u("Saving member...");try{x?.edit?await r(x.edit.memberId,w):await l(w),o(x?.edit?"Member updated":"Member added"),p(null)}catch(M){o(M.message||"Failed to save member","error")}finally{d()}}async function S(){if(x?.edit&&confirm("Deactivate this family member?")){u("Deactivating...");try{await t(x.edit.memberId),o("Member deactivated"),p(null)}catch(w){o(w.message||"Failed to deactivate member","error")}finally{d()}}}return[...new Set(v.flatMap(w=>Object.keys(w.dynamicFields||{})))],n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex items-center justify-end px-1",children:n.jsxs("button",{onClick:()=>p("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[n.jsx(Ma,{size:14})," Add Member"]})}),v.length===0?n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[n.jsx(fl,{size:32,className:"text-[var(--text-dim)]"}),n.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No family members yet"}),n.jsx("button",{onClick:()=>p("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first member"})]}):n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[n.jsx("div",{className:"hidden sm:block overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm min-w-[640px]",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[n.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Relationship"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"PAN"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Aadhaar"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Email"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Mobile"}),n.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),n.jsx("tbody",{children:v.map((w,M)=>{const D=w.dynamicFields||{},y=Object.entries(D);return n.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[n.jsx("td",{className:"py-2.5 px-4",children:n.jsxs("div",{className:"flex items-center gap-2.5",children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white bg-gradient-to-br ${Rc[M%Rc.length]}`,children:w.memberName.charAt(0)}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:w.memberName}),y.length>0&&n.jsxs("div",{className:"flex flex-wrap gap-1 mt-0.5",children:[y.slice(0,3).map(([N,k])=>n.jsxs("span",{className:"text-[10px] text-[var(--text-dim)] bg-[var(--bg-inset)] px-1.5 py-0.5 rounded",children:[N,": ",k]},N)),y.length>3&&n.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["+",y.length-3," more"]})]})]})]})}),n.jsx("td",{className:"py-2.5 px-3",children:n.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Qb[w.relationship]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:w.relationship})}),n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] font-mono tabular-nums",children:m(w.pan,"pan")||""}),n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] font-mono tabular-nums",children:m(w.aadhar,"aadhaar")||""}),n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] truncate max-w-[180px]",children:m(w.email,"email")}),n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:m(w.mobile,"mobile")}),n.jsx("td",{className:"py-2.5 px-2",children:n.jsx("button",{onClick:()=>p({edit:w}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:n.jsx(bn,{size:12})})})]},w.memberId)})})]})}),n.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:v.map((w,M)=>{const D=w.dynamicFields||{},y=Object.entries(D);return n.jsxs("div",{onClick:()=>p({edit:w}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[n.jsxs("div",{className:"flex items-center gap-2.5 mb-1.5",children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white bg-gradient-to-br ${Rc[M%Rc.length]}`,children:w.memberName.charAt(0)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:w.memberName}),n.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Qb[w.relationship]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:w.relationship})]}),n.jsx("p",{className:"text-xs text-[var(--text-muted)] truncate",children:m(w.email,"email")})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:m(w.mobile,"mobile")}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("p",{className:"text-xs text-[var(--text-dim)] font-mono",children:["PAN: ",m(w.pan,"pan")||""]}),w.aadhar&&n.jsxs("p",{className:"text-xs text-[var(--text-dim)] font-mono",children:["Aadhaar: ",m(w.aadhar,"aadhaar")]})]})]}),y.length>0&&n.jsxs("div",{className:"flex flex-wrap gap-1 mt-1.5",children:[y.slice(0,3).map(([N,k])=>n.jsxs("span",{className:"text-[10px] text-[var(--text-dim)] bg-[var(--bg-inset)] px-1.5 py-0.5 rounded",children:[N,": ",k]},N)),y.length>3&&n.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["+",y.length-3," more"]})]})]},w.memberId)})})]}),n.jsx(At,{open:!!x,onClose:()=>p(null),title:x?.edit?"Edit Member":"Add Family Member",wide:!0,children:n.jsx($A,{initial:x?.edit||void 0,onSave:b,onDelete:x?.edit?S:void 0,onCancel:()=>p(null)})})]})}const Kb=["Retirement","Emergency Fund","Child Education","Home Purchase","Car","Travel","Wedding","Custom"].map(s=>({value:s,label:s})),Xb=[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}],GA=[{value:"On Track",label:"On Track"},{value:"Needs Attention",label:"Needs Attention"},{value:"Achieved",label:"Achieved"},{value:"Paused",label:"Paused"}],Lc={Retirement:{inflation:6,cagr:12},"Emergency Fund":{inflation:0,cagr:7},"Child Education":{inflation:10,cagr:12},"Home Purchase":{inflation:8,cagr:12},Wedding:{inflation:6,cagr:12},Car:{inflation:5,cagr:10},Travel:{inflation:6,cagr:10},Custom:{inflation:6,cagr:12}},Wb=[{label:"Basics",icon:Gi},{label:"Financials",icon:ZS},{label:"Review",icon:Dl}];function QA({initial:s,onSave:l,onDelete:r,onCancel:t}){const o=!!s,{activeMembers:u}=ze(),d=[{value:"",label:"Family (Default)"},...u.map(_=>({value:_.memberId,label:_.memberName}))],[m,x]=j.useState(0),[p,v]=j.useState(()=>{if(o){const _=(s.expectedInflation||.06)*100,B=(s.expectedCAGR||.12)*100,H=s.targetDate?Math.max(0,(new Date(s.targetDate)-new Date)/(365.25*24*60*60*1e3)):0,Q=_/100;let E=s.targetAmount||0;return Q>0&&H>0&&s.goalType!=="Emergency Fund"&&(E=s.targetAmount/Math.pow(1+Q,H)),{goalType:s.goalType||"",goalName:s.goalName||"",familyMemberId:s.familyMemberId||"",todaysCost:Math.round(E).toString(),targetDate:s.targetDate||"",lumpsum:(s.lumpsumInvested||0).toString(),monthlySIP:(s.monthlyInvestment||0).toString(),inflation:_.toString(),cagr:B.toString(),priority:s.priority||"Medium",status:s.status||"On Track",notes:s.notes||"",monthlyExpenses:(s.monthlyExpenses||"").toString(),emergencyMonths:(s.emergencyMonths||6).toString()}}return{goalType:"",goalName:"",familyMemberId:"",todaysCost:"",targetDate:"",lumpsum:"",monthlySIP:"",inflation:"6",cagr:"12",priority:"Medium",status:"On Track",notes:"",monthlyExpenses:"",emergencyMonths:"6"}}),[b,S]=j.useState({}),[w,M]=j.useState(!1);function D(_,B){v(H=>({...H,[_]:B})),S(H=>({...H,[_]:void 0}))}j.useEffect(()=>{if(o||!p.goalType)return;const _=Lc[p.goalType]||Lc.Custom;v(B=>({...B,inflation:_.inflation.toString(),cagr:_.cagr.toString()}))},[p.goalType,o]);const y=p.goalType==="Retirement",N=p.goalType==="Emergency Fund",k=j.useMemo(()=>{const _=(Number(p.inflation)||0)/100,H=(Number(p.cagr)||0)/100/12,Q=Number(p.lumpsum)||0,E=Number(p.monthlySIP)||0,le=Number(p.monthlyExpenses)||0,G=Number(p.emergencyMonths)||6,J=p.targetDate?Math.max(0,(new Date(p.targetDate)-new Date)/(365.25*24*60*60*1e3)):0,F=Math.round(J*12);let A=0,R=0;y?(A=le*12*25,R=A*Math.pow(1+_,J)):N?(A=le*G,R=A):(A=Number(p.todaysCost)||0,R=_>0&&J>0?A*Math.pow(1+_,J):A),R=Math.round(R);const ce=Q>0&&F>0?Q*Math.pow(1+H,F):Q,ue=E>0&&H>0&&F>0?E*((Math.pow(1+H,F)-1)/H):E*F,L=Math.round(ce+ue),ne=Math.round(Q+E*F),de=L-ne;let fe=0;if(R>0&&F>0){const re=R-ce;re>0&&H>0?fe=re/((Math.pow(1+H,F)-1)/H):re>0&&(fe=re/F),fe=Math.max(0,Math.ceil(fe))}const Se=R>0&&L>=R,P=R>0?L/R*100:0;return{todaysCost:A,inflatedTarget:R,yearsToGo:J,months:F,fvLumpsum:Math.round(ce),fvSIP:Math.round(ue),projectedValue:L,totalInvested:ne,totalReturns:de,requiredSIP:fe,isOnTrack:Se,pctOfTarget:P,hasTarget:R>0,hasInputs:Q>0||E>0}},[p.todaysCost,p.targetDate,p.lumpsum,p.monthlySIP,p.inflation,p.cagr,p.monthlyExpenses,p.emergencyMonths,y,N]);function g(_){const B={};return _===0&&(p.goalType||(B.goalType="Required"),p.goalName.trim()||(B.goalName="Required")),_===1&&(p.targetDate||(B.targetDate="Required"),y||N?(!p.monthlyExpenses||Number(p.monthlyExpenses)<=0)&&(B.monthlyExpenses="Required"):(!p.todaysCost||Number(p.todaysCost)<=0)&&(B.todaysCost="Must be > 0")),S(B),Object.keys(B).length===0}function O(){const _={};return p.goalType||(_.goalType="Required"),p.goalName.trim()||(_.goalName="Required"),p.targetDate||(_.targetDate="Required"),y||N?(!p.monthlyExpenses||Number(p.monthlyExpenses)<=0)&&(_.monthlyExpenses="Required"):(!p.todaysCost||Number(p.todaysCost)<=0)&&(_.todaysCost="Must be > 0"),S(_),Object.keys(_).length===0}function Y(){g(m)&&x(_=>Math.min(_+1,2))}async function z(){if(!O())return;const _=p.familyMemberId&&u.find(B=>B.memberId===p.familyMemberId)?.memberName||"Family";M(!0);try{await l({goalType:p.goalType,goalName:p.goalName,familyMemberId:p.familyMemberId||"",familyMember:_,targetAmount:k.inflatedTarget,targetDate:p.targetDate,priority:p.priority,status:p.status,notes:p.notes,expectedInflation:(Number(p.inflation)||0)/100,expectedCAGR:(Number(p.cagr)||0)/100,monthlyInvestment:Number(p.monthlySIP)||0,lumpsumInvested:Number(p.lumpsum)||0,monthlyExpenses:y||N?Number(p.monthlyExpenses)||0:void 0,emergencyMonths:N?Number(p.emergencyMonths)||6:void 0,isRetirement:y,currentCost:k.todaysCost})}finally{M(!1)}}const U=p.familyMemberId&&u.find(_=>_.memberId===p.familyMemberId)?.memberName||"Family";return o?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Goal Type",required:!0,error:b.goalType,children:n.jsx(Te,{value:p.goalType,onChange:_=>D("goalType",_),options:Kb,placeholder:"Select type..."})}),n.jsx(ee,{label:"Goal Name",required:!0,error:b.goalName,children:n.jsx(me,{value:p.goalName,onChange:_=>D("goalName",_),placeholder:"e.g., Retirement Fund (2045)"})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Family Member",error:b.familyMemberId,children:n.jsx(Te,{value:p.familyMemberId,onChange:_=>D("familyMemberId",_),options:d,placeholder:"Family (Default)"})}),n.jsx(ee,{label:"Target Date",required:!0,error:b.targetDate,children:n.jsx(me,{type:"date",value:p.targetDate,onChange:_=>D("targetDate",_)})})]}),y||N?n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Monthly Expenses",required:!0,error:b.monthlyExpenses,children:n.jsx(me,{type:"number",value:p.monthlyExpenses,onChange:_=>D("monthlyExpenses",_),placeholder:"e.g., 50000"})}),N&&n.jsx(ee,{label:"Emergency Months",children:n.jsx(me,{type:"number",value:p.emergencyMonths,onChange:_=>D("emergencyMonths",_),placeholder:"6"})})]}):n.jsx(ee,{label:"Today's Cost",required:!0,error:b.todaysCost,children:n.jsx(me,{type:"number",value:p.todaysCost,onChange:_=>D("todaysCost",_),placeholder:"e.g., 1000000"})}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[n.jsx(ee,{label:"Inflation %",children:n.jsx(me,{type:"number",value:p.inflation,onChange:_=>D("inflation",_),placeholder:"6"})}),n.jsx(ee,{label:"Expected CAGR %",children:n.jsx(me,{type:"number",value:p.cagr,onChange:_=>D("cagr",_),placeholder:"12"})}),n.jsx(ee,{label:"Lumpsum",children:n.jsx(me,{type:"number",value:p.lumpsum,onChange:_=>D("lumpsum",_),placeholder:"0"})}),n.jsx(ee,{label:"Monthly SIP",children:n.jsx(me,{type:"number",value:p.monthlySIP,onChange:_=>D("monthlySIP",_),placeholder:"0"})})]}),k.hasTarget&&n.jsx(Zb,{calc:k,inflation:p.inflation,isRetirement:y,isEmergency:N}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Priority",children:n.jsx(Te,{value:p.priority,onChange:_=>D("priority",_),options:Xb})}),n.jsx(ee,{label:"Status",children:n.jsx(Te,{value:p.status,onChange:_=>D("status",_),options:GA})})]}),n.jsx(ee,{label:"Notes",children:n.jsx(Nl,{value:p.notes,onChange:_=>D("notes",_),placeholder:"Optional notes...",rows:2})}),n.jsxs("div",{className:"flex items-center justify-between",children:[r?n.jsx(jn,{onClick:r}):n.jsx("div",{}),n.jsx(Xt,{onCancel:t,onSubmit:z,submitLabel:"Update Goal",loading:w})]})]}):n.jsxs("div",{className:"space-y-5",children:[n.jsx("div",{className:"flex items-center gap-1 mb-2",children:Wb.map((_,B)=>{const H=_.icon,Q=B===m,E=B<m;return n.jsxs("div",{className:"flex items-center flex-1",children:[n.jsxs("button",{onClick:()=>{B<m&&x(B)},className:`flex items-center gap-1.5 text-xs font-semibold transition-colors ${Q?"text-violet-400":E?"text-emerald-400 cursor-pointer":"text-[var(--text-dim)]"}`,children:[n.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold border ${Q?"border-violet-400 bg-violet-500/15":E?"border-emerald-400 bg-emerald-500/15":"border-[var(--border)] bg-[var(--bg-inset)]"}`,children:E?n.jsx(Dl,{size:12}):n.jsx(H,{size:12})}),n.jsx("span",{className:"hidden sm:inline",children:_.label})]}),B<Wb.length-1&&n.jsx("div",{className:`flex-1 h-px mx-2 ${E?"bg-emerald-400/40":"bg-[var(--border)]"}`})]},_.label)})}),m===0&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Tell us about your financial goal"}),n.jsx(ee,{label:"Goal Type",required:!0,error:b.goalType,children:n.jsx(Te,{value:p.goalType,onChange:_=>D("goalType",_),options:Kb,placeholder:"Select type..."})}),p.goalType&&n.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)]",children:[n.jsx(ml,{size:12,className:"text-[var(--text-dim)] shrink-0"}),n.jsxs("p",{className:"text-[11px] text-[var(--text-muted)]",children:["Default: ",Lc[p.goalType]?.inflation||6,"% inflation, ",Lc[p.goalType]?.cagr||12,"% CAGR",y&&"  Uses 25x annual expenses rule",N&&"  No inflation applied"]})]}),n.jsx(ee,{label:"Goal Name",required:!0,error:b.goalName,children:n.jsx(me,{value:p.goalName,onChange:_=>D("goalName",_),placeholder:"e.g., Retirement Fund (2045)"})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Family Member",error:b.familyMemberId,children:n.jsx(Te,{value:p.familyMemberId,onChange:_=>D("familyMemberId",_),options:d,placeholder:"Family (Default)"})}),n.jsx(ee,{label:"Priority",children:n.jsx(Te,{value:p.priority,onChange:_=>D("priority",_),options:Xb})})]})]}),m===1&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:y?"Set your retirement timeline and monthly expenses":N?"Set your emergency fund requirements":"Set your target and investment plan"}),n.jsx(ee,{label:"Target Date",required:!0,error:b.targetDate,children:n.jsx(me,{type:"date",value:p.targetDate,onChange:_=>D("targetDate",_)})}),y||N?n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Monthly Expenses (Today)",required:!0,error:b.monthlyExpenses,children:n.jsx(me,{type:"number",value:p.monthlyExpenses,onChange:_=>D("monthlyExpenses",_),placeholder:"e.g., 50000"})}),N&&n.jsx(ee,{label:"Emergency Fund (Months)",children:n.jsx(me,{type:"number",value:p.emergencyMonths,onChange:_=>D("emergencyMonths",_),placeholder:"6"})}),y&&n.jsx("div",{className:"sm:col-span-2",children:n.jsxs("p",{className:"text-[11px] text-[var(--text-dim)]",children:["Corpus = Monthly Expenses x 12 x 25 = ",K(k.todaysCost)," (today)"]})})]}):n.jsx(ee,{label:"Today's Cost",required:!0,error:b.todaysCost,children:n.jsx(me,{type:"number",value:p.todaysCost,onChange:_=>D("todaysCost",_),placeholder:"e.g., 1000000"})}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(ee,{label:`Inflation Rate (%)${N?"  N/A":""}`,children:n.jsx(me,{type:"number",value:p.inflation,onChange:_=>D("inflation",_),placeholder:"6"})}),n.jsx(ee,{label:"Expected Returns (CAGR %)",children:n.jsx(me,{type:"number",value:p.cagr,onChange:_=>D("cagr",_),placeholder:"12"})})]}),k.hasTarget&&n.jsx(Zb,{calc:k,inflation:p.inflation,isRetirement:y,isEmergency:N}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Lumpsum Investment (Optional)",children:n.jsx(me,{type:"number",value:p.lumpsum,onChange:_=>D("lumpsum",_),placeholder:"0"})}),n.jsx(ee,{label:"Monthly SIP",children:n.jsx(me,{type:"number",value:p.monthlySIP,onChange:_=>D("monthlySIP",_),placeholder:"0"})})]}),k.hasTarget&&k.months>0&&n.jsx(Jb,{calc:k,sip:p.monthlySIP,lumpsum:p.lumpsum}),n.jsx(ee,{label:"Notes",children:n.jsx(Nl,{value:p.notes,onChange:_=>D("notes",_),placeholder:"Optional notes...",rows:2})})]}),m===2&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Review your goal before saving"}),n.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-4 space-y-3",children:[n.jsx(ua,{label:"Goal",value:p.goalName,bold:!0}),n.jsx(ua,{label:"Type",value:p.goalType,color:"violet"}),n.jsx(ua,{label:"Member",value:U}),n.jsx(ua,{label:"Priority",value:p.priority,badge:p.priority==="High"?"rose":p.priority==="Low"?"blue":"amber"}),n.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3 space-y-2",children:[(y||N)&&n.jsx(ua,{label:"Monthly Expenses",value:K(Number(p.monthlyExpenses)||0)}),N&&n.jsx(ua,{label:"Emergency Months",value:p.emergencyMonths}),!y&&!N&&n.jsx(ua,{label:"Today's Cost",value:K(k.todaysCost)}),n.jsx(ua,{label:"Inflation",value:`${p.inflation}% p.a.`}),n.jsx(ua,{label:"Expected CAGR",value:`${p.cagr}% p.a.`}),n.jsx(ua,{label:"Future Value (Inflated)",value:K(k.inflatedTarget),bold:!0,color:"violet"})]}),n.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3 space-y-2",children:[n.jsx(ua,{label:"Lumpsum",value:K(Number(p.lumpsum)||0)}),n.jsx(ua,{label:"Monthly SIP",value:`${K(Number(p.monthlySIP)||0)}/mo`,color:"emerald"}),n.jsx(ua,{label:"Target Date",value:p.targetDate}),n.jsx(ua,{label:"Time Remaining",value:k.yearsToGo>0?`${k.yearsToGo.toFixed(1)} years`:""})]})]}),k.hasTarget&&k.months>0&&k.hasInputs&&n.jsx(Jb,{calc:k,sip:p.monthlySIP,lumpsum:p.lumpsum,compact:!0})]}),n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-[var(--border-light)]",children:[n.jsx("div",{children:m>0&&n.jsxs("button",{onClick:()=>x(_=>_-1),className:"flex items-center gap-1 px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:[n.jsx(dy,{size:14})," Back"]})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:t,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),m<2?n.jsxs("button",{onClick:Y,className:"flex items-center gap-1 px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors",children:["Next ",n.jsx(Pi,{size:14})]}):n.jsx("button",{onClick:z,disabled:w,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Saving...":"Create Goal"})]})]})]})}function Zb({calc:s,inflation:l,isRetirement:r,isEmergency:t}){return t?n.jsx("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-blue-500/5 border border-blue-500/15",children:n.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Emergency Fund: ",n.jsx("span",{className:"font-bold text-[var(--text-primary)]",children:K(s.inflatedTarget)}),n.jsx("span",{className:"text-[var(--text-dim)]",children:" (no inflation applied)"})]})}):n.jsxs("div",{className:"flex items-center justify-between gap-2 px-3 py-2 rounded-lg bg-violet-500/5 border border-violet-500/15",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] font-semibold text-[var(--text-dim)] uppercase tracking-wider",children:r?"Corpus Today":"Today's Cost"}),n.jsx("p",{className:"text-xs font-semibold text-[var(--text-secondary)]",children:K(s.todaysCost)})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[l,"% x ",s.yearsToGo.toFixed(1),"yrs"]}),n.jsx(Pi,{size:12,className:"text-violet-400 mx-auto"})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-[10px] font-semibold text-violet-400 uppercase tracking-wider",children:"Future Value"}),n.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)]",children:K(s.inflatedTarget)})]})]})}function Jb({calc:s,sip:l,lumpsum:r,compact:t}){const o=Number(l)||0,u=Number(r)||0;return n.jsxs("div",{className:`rounded-lg border p-3 space-y-2 ${s.isOnTrack?"bg-emerald-500/5 border-emerald-500/20":"bg-amber-500/5 border-amber-500/20"}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[s.isOnTrack?n.jsx(Dl,{size:12,className:"text-emerald-400"}):n.jsx(ju,{size:12,className:"text-amber-400"}),n.jsx("p",{className:`text-[10px] font-bold uppercase tracking-wider ${s.isOnTrack?"text-emerald-400":"text-amber-400"}`,children:s.isOnTrack?"On Track":"SIP May Be Insufficient"})]}),n.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["@","0","CAGR assumed"]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Required Monthly SIP"}),n.jsxs("span",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:[K(s.requiredSIP),"/mo"]})]}),!t&&s.hasInputs&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Projected Value"}),n.jsx("span",{className:`text-sm font-bold tabular-nums ${s.isOnTrack?"text-emerald-400":"text-amber-400"}`,children:K(s.projectedValue)})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex-1 h-1.5 bg-[var(--bg-card)] rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full rounded-full ${s.isOnTrack?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${Math.min(s.pctOfTarget,100)}%`}})}),n.jsxs("span",{className:"text-xs font-bold tabular-nums text-[var(--text-primary)]",children:[Math.round(s.pctOfTarget),"%"]})]}),n.jsxs("div",{className:"border-t border-[var(--border-light)] pt-2 space-y-1",children:[u>0&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-[11px] text-[var(--text-dim)]",children:["Lumpsum ",K(u)," grows to"]}),n.jsx("span",{className:"text-[11px] font-semibold text-emerald-400 tabular-nums",children:K(s.fvLumpsum)})]}),o>0&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-[11px] text-[var(--text-dim)]",children:["SIP ",K(o),"/mo x ",s.months," mo"]}),n.jsx("span",{className:"text-[11px] font-semibold text-blue-400 tabular-nums",children:K(s.fvSIP)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-[11px] text-[var(--text-dim)]",children:"Total Invested"}),n.jsx("span",{className:"text-[11px] font-semibold text-[var(--text-primary)] tabular-nums",children:K(s.totalInvested)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-[11px] text-[var(--text-dim)]",children:"Wealth Created"}),n.jsxs("span",{className:"text-[11px] font-semibold text-emerald-400 tabular-nums",children:["+",K(s.totalReturns)]})]})]})]})]})}function ua({label:s,value:l,bold:r,color:t,badge:o}){const u=t==="violet"?"text-violet-400":t==="emerald"?"text-emerald-400":"text-[var(--text-primary)]";if(o){const d=o==="rose"?"bg-rose-500/15 text-rose-400":o==="blue"?"bg-blue-500/15 text-blue-400":"bg-amber-500/15 text-amber-400";return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:s}),n.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${d}`,children:l})]})}return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:s}),n.jsx("span",{className:`text-xs ${r?"font-bold text-sm":"font-semibold"} ${u}`,children:l})]})}function KA({goal:s,onClose:l}){const{mfPortfolios:r,goalPortfolioMappings:t,updateGoalMappings:o}=ze(),u=r.filter(y=>y.status!=="Inactive"),d=j.useMemo(()=>t.filter(y=>y.goalId===s.goalId).map(y=>({portfolioId:y.portfolioId,allocationPct:y.allocationPct})),[t,s.goalId]),[m,x]=j.useState(d.length>0?d:[]),p=m.reduce((y,N)=>y+(N.allocationPct||0),0),v=p===100||m.length===0;function b(){const y=new Set(m.map(k=>k.portfolioId)),N=u.find(k=>!y.has(k.portfolioId));N&&x(k=>[...k,{portfolioId:N.portfolioId,allocationPct:0}])}function S(y){x(N=>N.filter((k,g)=>g!==y))}function w(y,N,k){x(g=>g.map((O,Y)=>Y===y?{...O,[N]:N==="allocationPct"?Math.max(0,Math.min(100,Number(k)||0)):k}:O))}function M(){o(s.goalId,m),l()}const D=m.reduce((y,N)=>{const k=u.find(g=>g.portfolioId===N.portfolioId);return y+(k?k.currentValue*N.allocationPct/100:0)},0);return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Goal Target"}),n.jsx("span",{className:"text-sm font-bold text-[var(--text-primary)]",children:K(s.targetAmount)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Linked Portfolio Value"}),n.jsx("span",{className:"text-sm font-semibold text-emerald-400",children:K(D)})]})]}),m.length===0?n.jsxs("div",{className:"py-6 text-center",children:[n.jsx(tu,{size:24,className:"mx-auto mb-2 text-[var(--text-dim)]"}),n.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"No portfolios linked to this goal"})]}):n.jsx("div",{className:"space-y-2",children:m.map((y,N)=>{const k=u.find(g=>g.portfolioId===y.portfolioId);return n.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-3",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("select",{value:y.portfolioId,onChange:g=>w(N,"portfolioId",g.target.value),className:"w-full px-2 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)]",children:u.map(g=>n.jsxs("option",{value:g.portfolioId,disabled:m.some((O,Y)=>Y!==N&&O.portfolioId===g.portfolioId),children:[g.portfolioName," (",g.ownerName,")  ",K(g.currentValue)]},g.portfolioId))}),k&&n.jsxs("p",{className:"text-[10px] text-[var(--text-dim)] mt-1 px-1",children:["Contributes ",K(k.currentValue*y.allocationPct/100)," to this goal"]})]}),n.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[n.jsx("input",{type:"number",value:y.allocationPct,onChange:g=>w(N,"allocationPct",g.target.value),className:"w-16 px-2 py-1.5 text-xs text-center bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)]",min:"0",max:"100"}),n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"%"}),n.jsx("button",{onClick:()=>S(N),className:"p-1.5 text-[var(--text-dim)] hover:text-rose-400 rounded transition-colors",children:n.jsx(ap,{size:12})})]})]},N)})}),m.length>0&&n.jsxs("div",{className:"flex items-center justify-between px-1",children:[n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Total Allocation"}),n.jsxs("span",{className:`text-xs font-bold ${p===100?"text-emerald-400":p>100?"text-rose-400":"text-amber-400"}`,children:[p,"%",p!==100&&n.jsx("span",{className:"font-normal text-[var(--text-dim)]",children:" (must be 100%)"})]})]}),m.length<u.length&&n.jsxs("button",{onClick:b,className:"flex items-center gap-1.5 text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[n.jsx(Ma,{size:14})," Link Portfolio"]}),n.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4 border-t border-[var(--border-light)]",children:[n.jsx("button",{onClick:l,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),n.jsx("button",{onClick:M,disabled:!v,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Save Mapping"})]})]})}function XA({goal:s,onClose:l}){const{goalPortfolioMappings:r,mfPortfolios:t,mfHoldings:o}=ze(),u=j.useMemo(()=>{const m=r.filter(b=>b.goalId===s.goalId);if(m.length===0)return null;const x=m.map(b=>{const S=t.find(N=>N.portfolioId===b.portfolioId);if(!S)return null;const w=o.filter(N=>N.portfolioId===b.portfolioId&&N.units>0),M=w.reduce((N,k)=>N+k.currentValue,0),D=M*b.allocationPct/100,y=w.map(N=>{const k=M>0?N.currentValue/M:0,g=D*k,O=N.currentNav>0?g/N.currentNav:0,Y=g-O*N.avgNav;return{fundName:N.fundName,currentValue:N.currentValue,withdrawValue:g,withdrawUnits:Math.min(O,N.units),currentNav:N.currentNav,taxableGain:Y,availableUnits:N.units}}).filter(N=>N.withdrawValue>0);return{portfolioName:S.portfolioName,ownerName:S.ownerName,allocationPct:b.allocationPct,portfolioValue:M,linkedValue:D,fundWithdrawals:y}}).filter(Boolean),p=x.reduce((b,S)=>b+S.linkedValue,0),v=x.reduce((b,S)=>b+S.fundWithdrawals.reduce((w,M)=>w+M.taxableGain,0),0);return{portfolioDetails:x,totalLinked:p,totalTaxableGain:v}},[s,r,t,o]);if(!u)return n.jsxs("div",{className:"py-8 text-center space-y-2",children:[n.jsx(ju,{size:24,className:"mx-auto text-amber-400"}),n.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No portfolios linked to this goal"}),n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Link portfolios first to generate a withdrawal plan"}),n.jsx("button",{onClick:l,className:"mt-2 px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})]});const d=s.targetAmount>0?u.totalLinked/s.targetAmount*100:0;return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-4 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Goal Target"}),n.jsx("span",{className:"text-sm font-bold text-[var(--text-primary)]",children:K(s.targetAmount)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Available from Linked Portfolios"}),n.jsx("span",{className:`text-sm font-bold ${u.totalLinked>=s.targetAmount?"text-emerald-400":"text-amber-400"}`,children:K(u.totalLinked)})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-card)] rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full rounded-full ${d>=100?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${Math.min(d,100)}%`}})}),n.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[d.toFixed(0),"%"]})]}),u.totalTaxableGain>0&&n.jsxs("div",{className:"flex items-center justify-between pt-1",children:[n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Estimated Taxable Gain"}),n.jsx("span",{className:"text-xs font-semibold text-amber-400",children:K(u.totalTaxableGain)})]})]}),u.portfolioDetails.map(m=>n.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] overflow-hidden",children:[n.jsxs("div",{className:"px-4 py-2.5 bg-[var(--bg-card)] border-b border-[var(--border-light)] flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:m.portfolioName}),n.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[m.ownerName,"  ",m.allocationPct,"% allocated to goal"]})]}),n.jsx("span",{className:"text-xs font-bold text-[var(--text-primary)]",children:K(m.linkedValue)})]}),n.jsx("div",{className:"px-4 py-2",children:n.jsxs("table",{className:"w-full text-xs",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-[var(--text-dim)]",children:[n.jsx("th",{className:"text-left py-1 font-medium",children:"Fund"}),n.jsx("th",{className:"text-right py-1 font-medium",children:"Units"}),n.jsx("th",{className:"text-right py-1 font-medium",children:"Amount"}),n.jsx("th",{className:"text-right py-1 font-medium",children:"Gain"})]})}),n.jsx("tbody",{children:m.fundWithdrawals.map(x=>n.jsxs("tr",{className:"border-t border-[var(--border-light)]",children:[n.jsx("td",{className:"py-1.5 text-[var(--text-secondary)] max-w-[180px] truncate",children:x.fundName}),n.jsx("td",{className:"py-1.5 text-right text-[var(--text-muted)] tabular-nums",children:x.withdrawUnits.toFixed(2)}),n.jsx("td",{className:"py-1.5 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:K(x.withdrawValue)}),n.jsx("td",{className:`py-1.5 text-right tabular-nums font-semibold ${x.taxableGain>=0?"text-emerald-400":"text-rose-400"}`,children:K(Math.abs(x.taxableGain))})]},x.fundName))})]})})]},m.portfolioName)),n.jsx("div",{className:"flex items-center justify-end gap-2 pt-4 border-t border-[var(--border-light)]",children:n.jsx("button",{onClick:l,className:"px-5 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})})]})}const eg={"On Track":"bg-blue-500/15 text-[var(--accent-blue)]","Needs Attention":"bg-amber-500/15 text-[var(--accent-amber)]",Achieved:"bg-emerald-500/15 text-emerald-400",Paused:"bg-slate-500/15 text-[var(--text-muted)]"},WA={High:"bg-rose-500/15 text-[var(--accent-rose)]",Medium:"bg-amber-500/15 text-[var(--accent-amber)]",Low:"bg-blue-500/15 text-[var(--accent-blue)]"},tg={"On Track":"bg-blue-500","Needs Attention":"bg-amber-500",Achieved:"bg-emerald-500",Paused:"bg-slate-500"};function ZA(){const{selectedMember:s,member:l}=Yt(),{goalList:r,addGoal:t,updateGoal:o,deleteGoal:u,goalPortfolioMappings:d}=ze(),{showToast:m,showBlockUI:x,hideBlockUI:p}=gn(),[v,b]=j.useState(null),[S,w]=j.useState(null),[M,D]=j.useState(null),[y,N]=j.useState(null),k=j.useRef(new Set),g=j.useMemo(()=>{if(!r)return[];const G=r.filter(J=>J.isActive!==!1);return s==="all"?G:G.filter(J=>J.familyMemberId===s)},[r,s]),O=g.reduce((G,J)=>G+(J.targetAmount||0),0),Y=g.reduce((G,J)=>G+(J.currentValue||0),0),z=g.reduce((G,J)=>G+(J.monthlyInvestment||0),0),U=O>0?Y/O*100:0,_=g.filter(G=>G.status==="Needs Attention").length,B=g.filter(G=>G.status==="Achieved").length;if(j.useEffect(()=>{const G=new Set(g.filter(F=>F.status==="Achieved").map(F=>F.goalId)),J=k.current;for(const F of G)if(!J.has(F)){const A=g.find(R=>R.goalId===F);A&&(N(A),setTimeout(()=>N(null),5e3))}k.current=G},[g]),r===null)return n.jsx(Zn,{title:"Loading goals",cards:5});async function H(G){x("Saving...");try{v?.edit?await o(v.edit.goalId,G):await t(G),m(v?.edit?"Goal updated":"Goal added"),b(null)}catch(J){m(J.message||"Failed to save goal","error")}finally{p()}}async function Q(){if(v?.edit&&confirm("Delete this goal?")){x("Deleting...");try{await u(v.edit.goalId),m("Goal deleted"),b(null)}catch(G){m(G.message||"Failed to delete goal","error")}finally{p()}}}function E(G){return!G.targetAmount||G.targetAmount===0?0:Math.min((G.currentValue||0)/G.targetAmount*100,100)}function le(G){if(!G.targetDate)return null;const F=(new Date(G.targetDate)-new Date)/(365.25*24*60*60*1e3);return F>0?F.toFixed(1):"0"}return n.jsxs("div",{className:"space-y-4",children:[g.length===0?n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[n.jsx(Gi,{size:32,className:"text-[var(--text-dim)]"}),n.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No goals set",l?` for ${l.memberName}`:""]}),n.jsx("button",{onClick:()=>b("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first goal"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[n.jsx(nl,{label:"Goals",value:g.length,sub:B>0?`${B} achieved`:void 0}),n.jsx(nl,{label:"Target",value:K(O),bold:!0}),n.jsx(nl,{label:"Current Value",value:K(Y),bold:!0}),n.jsx(nl,{label:"Total Gap",value:K(Math.max(O-Y,0)),sub:O>Y?"remaining to target":"all targets met",positive:O<=Y,bold:!0}),n.jsx(nl,{label:"Overall Progress",value:`${U.toFixed(1)}%`,positive:U>=50,bold:!0}),n.jsx(nl,{label:"Monthly SIP",value:K(z),sub:_>0?`${_} need attention`:void 0})]}),y&&n.jsxs("div",{className:"relative bg-gradient-to-r from-emerald-500/10 via-yellow-500/10 to-emerald-500/10 rounded-xl border border-emerald-500/30 px-4 py-3 flex items-center gap-3 animate-fade-in overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:20}).map((G,J)=>n.jsx("span",{className:"absolute text-sm animate-confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*2}s`},children:["","","","",""][J%5]},J))}),n.jsx(E0,{size:20,className:"text-yellow-400 shrink-0 relative z-10"}),n.jsxs("div",{className:"relative z-10",children:[n.jsx("p",{className:"text-sm font-bold text-emerald-400",children:"Goal Achieved!"}),n.jsxs("p",{className:"text-xs text-[var(--text-secondary)]",children:[y.goalName,"  Congratulations!"]})]}),n.jsx("button",{onClick:()=>N(null),className:"ml-auto text-xs text-[var(--text-dim)] hover:text-[var(--text-primary)] relative z-10",children:"Dismiss"})]}),B>0&&n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-emerald-500/20 p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(E0,{size:14,className:"text-yellow-400"}),n.jsx("p",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Achieved Goals"})]}),n.jsx("div",{className:"flex gap-3 overflow-x-auto no-scrollbar pb-1",children:g.filter(G=>G.status==="Achieved").map(G=>n.jsxs("div",{className:"shrink-0 bg-emerald-500/10 border border-emerald-500/20 rounded-lg px-3 py-2 min-w-[160px]",children:[n.jsx("p",{className:"text-xs font-semibold text-emerald-400",children:G.goalName}),n.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] mt-1",children:K(G.targetAmount)}),n.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5",children:G.familyMemberName})]},G.goalId))})]}),n.jsx("div",{className:"flex items-center justify-end gap-2 px-1",children:n.jsxs("button",{onClick:()=>b("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[n.jsx(Ma,{size:14})," Add Goal"]})}),n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[n.jsx("div",{className:"hidden lg:block overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[n.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Goal"}),!l&&n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),n.jsxs("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[n.jsx("div",{children:"Amount"}),n.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Target"})]}),n.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider min-w-[120px]",children:"Progress"}),n.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Monthly SIP"}),n.jsxs("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[n.jsx("div",{children:"Timeline"}),n.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Years Left"})]}),n.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),n.jsx("tbody",{children:g.map(G=>{const J=E(G),F=le(G);return n.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[n.jsxs("td",{className:"py-2.5 px-4",children:[n.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:G.goalName}),n.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[n.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${WA[G.priority]||""}`,children:G.priority}),G.notes&&n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:G.notes})]})]}),!l&&n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:G.familyMemberName}),n.jsxs("td",{className:"py-2.5 px-3 text-right",children:[n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(G.currentValue)}),n.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:K(G.targetAmount)})]}),n.jsx("td",{className:"py-2.5 px-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-inset)] rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full rounded-full ${tg[G.status]||"bg-blue-500"}`,style:{width:`${J}%`}})}),n.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums w-10 text-right",children:[J.toFixed(0),"%"]})]})}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(G.monthlyInvestment)}),n.jsx("td",{className:"py-2.5 px-3 text-center text-xs text-[var(--text-muted)] tabular-nums",children:G.status==="Achieved"?"Done":F?`${F} yrs`:""}),n.jsx("td",{className:"py-2.5 px-3 text-center",children:n.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${eg[G.status]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:G.status})}),n.jsx("td",{className:"py-2.5 px-2",children:n.jsxs("div",{className:"flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition-all",children:[n.jsx("button",{onClick:()=>D(G),className:"p-1 rounded text-[var(--text-dim)] hover:text-emerald-400 transition-colors",title:"Withdrawal plan",children:n.jsx(my,{size:12})}),n.jsx("button",{onClick:()=>w(G),className:"p-1 rounded text-[var(--text-dim)] hover:text-violet-400 transition-colors",title:"Link portfolios",children:n.jsx(tu,{size:12})}),n.jsx("button",{onClick:()=>b({edit:G}),className:"p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-colors",children:n.jsx(bn,{size:12})})]})})]},G.goalId)})})]})}),n.jsx("div",{className:"lg:hidden divide-y divide-[var(--border-light)]",children:g.map(G=>{const J=E(G),F=le(G);return n.jsxs("div",{onClick:()=>b({edit:G}),className:"px-4 py-4 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:G.goalName}),n.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[n.jsxs("span",{className:"text-xs text-[var(--text-muted)]",children:[G.familyMemberName,"  SIP ",K(G.monthlyInvestment),"/mo"]}),d.filter(A=>A.goalId===G.goalId).length>0&&n.jsxs("span",{className:"text-[10px] font-semibold text-violet-400 flex items-center gap-0.5",children:[n.jsx(tu,{size:9}),d.filter(A=>A.goalId===G.goalId).length]})]})]}),n.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${eg[G.status]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:G.status})]}),n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-inset)] rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full rounded-full ${tg[G.status]||"bg-blue-500"}`,style:{width:`${J}%`}})}),n.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[J.toFixed(0),"%"]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-xs text-[var(--text-muted)]",children:[K(G.currentValue)," ",n.jsx("span",{className:"text-[var(--text-dim)]",children:"of"})," ",K(G.targetAmount)]}),n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:G.status==="Achieved"?"Done":F?`${F} yrs left`:""})]})]},G.goalId)})})]})]}),n.jsx(At,{open:!!v,onClose:()=>b(null),title:v?.edit?"Edit Goal":"Add Goal",wide:!0,children:n.jsx(QA,{initial:v?.edit||void 0,onSave:H,onDelete:v?.edit?Q:void 0,onCancel:()=>b(null)})}),n.jsx(At,{open:!!S,onClose:()=>w(null),title:`Link Portfolios  ${S?.goalName||""}`,wide:!0,children:S&&n.jsx(KA,{goal:S,onClose:()=>w(null)})}),n.jsx(At,{open:!!M,onClose:()=>D(null),title:`Withdrawal Plan  ${M?.goalName||""}`,wide:!0,children:M&&n.jsx(XA,{goal:M,onClose:()=>D(null)})})]})}function nl({label:s,value:l,sub:r,positive:t,bold:o}){return n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),n.jsx("p",{className:`text-sm tabular-nums ${o?"font-bold":"font-semibold"} ${t===void 0?"text-[var(--text-primary)]":t?"text-emerald-400":"text-[var(--accent-amber)]"}`,children:l}),r&&n.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:r})]})}const JA=[{label:"Reports & Transactions",desc:"View transaction history",icon:xy,path:"/reports",color:"bg-blue-500/15 text-[var(--accent-blue)]"},{label:"Reminders",desc:"View and manage reminders",icon:yu,path:"/reminders",color:"bg-amber-500/15 text-[var(--accent-amber)]"},{label:"Health Check",desc:"Financial health questionnaire",icon:Mf,path:"/health-check",color:"bg-emerald-500/15 text-emerald-400"},{label:"Settings",desc:"App configuration",icon:tp,path:"/settings",color:"bg-slate-500/15 text-[var(--text-muted)]"},{label:"About",desc:"Capital Friends v2.0",icon:pC,path:"/about",color:"bg-violet-500/15 text-[var(--accent-violet)]"},{label:"Support Developer",desc:"UPI: jagadeeshmanne.hdfc@kphdfc",icon:eu,path:"/about",color:"bg-pink-500/15 text-pink-400"}];function eT(){const s=us();return n.jsxs("div",{className:"space-y-4",children:[n.jsx("h1",{className:"text-base font-bold text-[var(--text-primary)]",children:"More"}),n.jsx("div",{className:"space-y-2",children:JA.map(l=>n.jsxs("button",{onClick:()=>s(l.path),className:"w-full flex items-center gap-3 bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[n.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center shrink-0 ${l.color}`,children:n.jsx(l.icon,{size:18})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:l.label}),n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:l.desc})]})]},l.label))})]})}const Ic=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function tT(){const s=us(),{theme:l,toggle:r}=sy(),{members:t,settings:o,updateSettings:u,updateMember:d,healthCheckCompleted:m}=ze(),{user:x,signOut:p}=ds(),{masked:v,toggleMask:b,mv:S}=yn(),w=t.filter(J=>J.status==="Active"),[M,D]=j.useState("Daily"),[y,N]=j.useState("09"),[k,g]=j.useState("Monday"),[O,Y]=j.useState(!1),[z,U]=j.useState(!1),[_,B]=j.useState(!1),[H,Q]=j.useState(null);j.useEffect(()=>{!o||!Object.keys(o).length||(o.EmailFrequency&&D(o.EmailFrequency),o.EmailHour!=null&&N(String(o.EmailHour).padStart(2,"0")),o.EmailDayOfWeek!=null&&g(Ic[Number(o.EmailDayOfWeek)]||"Monday"))},[o]);async function E(){Y(!0),U(!1);try{const J=Ic.indexOf(k);await u({EmailFrequency:M==="None"?"None":M,EmailConfigured:M==="None"?"FALSE":"TRUE",EmailHour:String(parseInt(y,10)),EmailMinute:"0",EmailDayOfWeek:String(J>=0?J:1)}),U(!0),setTimeout(()=>U(!1),2e3)}catch(J){alert("Failed to save: "+J.message)}finally{Y(!1)}}async function le(){B(!0),Q(null);try{const J=await aS();Q(J)}catch(J){Q({error:J.message})}finally{B(!1)}}function G(J){if(!J)return"Never";try{const F=new Date(J);if(isNaN(F.getTime()))return"Unknown";const A=Date.now(),R=Math.floor((A-F.getTime())/(1e3*60));if(R<1)return"Just now";if(R<60)return R+" min ago";const ce=Math.floor(R/60);return ce<24?ce+"h ago":F.toLocaleDateString("en-IN",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}catch{return"Unknown"}}return n.jsxs("div",{className:"space-y-4 max-w-xl mx-auto",children:[n.jsxs(Zr,{children:[n.jsx(Jr,{icon:n.jsx(t5,{size:14}),title:"Account"}),n.jsxs("div",{className:"px-4 py-4 space-y-3",children:[n.jsx(wa,{label:"Signed in as",children:n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate max-w-[200px]",children:S(x?.email,"email")||""})}),n.jsx(wa,{label:"Name",children:n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:x?.name||""})}),n.jsx("div",{className:"pt-1",children:n.jsxs("button",{onClick:p,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-red-500 border border-red-200 dark:border-red-800/40 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[n.jsx(gy,{size:12}),"Sign Out"]})})]})]}),n.jsxs(Zr,{children:[n.jsx(Jr,{icon:n.jsx(Mf,{size:14}),title:"Financial Health Check"}),n.jsxs("div",{className:"px-4 py-4 space-y-3",children:[n.jsx(wa,{label:"Status",children:n.jsx("span",{className:`text-xs font-semibold ${m?"text-emerald-400":"text-[var(--accent-amber)]"}`,children:m?"Completed":"Not completed"})}),n.jsx("div",{className:"flex justify-end pt-1",children:n.jsxs("button",{onClick:()=>s("/health-check"),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-lg border border-[var(--border)] text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[n.jsx(Mf,{size:12}),m?"Update Answers":"Take Health Check"]})})]})]}),n.jsxs(Zr,{children:[n.jsx(Jr,{icon:n.jsx(XS,{size:14}),title:"Data & Sync"}),n.jsxs("div",{className:"px-4 py-4 space-y-3",children:[n.jsx(wa,{label:"Last synced",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:G(o.masterDataLastSync)}),o._stale&&n.jsx("span",{className:"text-[10px] font-bold text-amber-600 px-1.5 py-0.5 rounded bg-amber-100 dark:bg-amber-900/30",children:"STALE"})]})}),o._navDataDate&&n.jsx(wa,{label:"NAV data as of",children:n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:o._navDataDate})}),n.jsx(wa,{label:"Auto-refresh",children:n.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Daily at ~6:30 AM"})}),n.jsxs("div",{className:"flex items-center justify-between pt-1",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Refresh MF NAVs, ATH & Stock prices"}),n.jsxs("button",{onClick:le,disabled:_,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-lg bg-violet-600 text-white hover:bg-violet-500 transition-colors disabled:opacity-50",children:[n.jsx(Hi,{size:12,className:_?"animate-spin":""}),_?"Refreshing...":"Refresh Now"]})]}),H&&n.jsx("div",{className:`text-xs px-3 py-2 rounded-lg ${H.error?"bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400":"bg-green-50 text-green-600 dark:bg-green-900/20 dark:text-green-400"}`,children:H.error?"Failed: "+H.error:`Done  MF: ${H.mf?.count||0} | ATH: ${H.ath?.count||0} | Stocks: ${H.stocks?.count||0} (${H.duration})`})]})]}),n.jsxs(Zr,{children:[n.jsx(Jr,{icon:n.jsx(kf,{size:14}),title:"Appearance"}),n.jsx("div",{className:"px-4 py-4",children:n.jsx(wa,{label:"Theme",children:n.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-3 py-1.5 text-xs font-semibold rounded-lg border border-[var(--border)] bg-[var(--bg-inset)] text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[l==="dark"?n.jsx(yy,{size:12}):n.jsx(kf,{size:12}),l==="dark"?"Dark":"Light"]})})})]}),n.jsxs(Zr,{children:[n.jsx(Jr,{icon:n.jsx(CC,{size:14}),title:"Email Reports"}),n.jsxs("div",{className:"px-4 py-4 space-y-3",children:[n.jsx(wa,{label:"Frequency",children:n.jsx(wf,{value:M,onChange:D,options:["Daily","Weekly","Monthly","None"]})}),M!=="None"&&n.jsx(wa,{label:"Send time",children:n.jsx(wf,{value:y,onChange:N,options:Array.from({length:24},(J,F)=>String(F).padStart(2,"0")),suffix:":00"})}),M==="Weekly"&&n.jsx(wa,{label:"Day",children:n.jsx(wf,{value:k,onChange:g,options:Ic.slice(1).concat(Ic[0])})}),n.jsx("div",{className:"flex justify-end pt-1",children:n.jsx("button",{onClick:E,disabled:O,className:"px-4 py-1.5 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50",children:O?"Saving...":z?"Saved!":"Save"})}),w.length>0&&n.jsx(n.Fragment,{children:n.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"Send report to"}),n.jsx("div",{className:"space-y-2",children:w.map(J=>n.jsx(aT,{member:J,onToggle:d},J.memberId))})]})}),w.length===0&&n.jsx("p",{className:"text-xs text-[var(--text-dim)] pt-1",children:"Add family members to configure email recipients."})]})]}),n.jsxs(Zr,{children:[n.jsx(Jr,{icon:n.jsx(qc,{size:14}),title:"Privacy"}),n.jsxs("div",{className:"px-4 py-4 space-y-3",children:[n.jsx(wa,{label:"Mask sensitive data",children:n.jsx("button",{onClick:b,className:`relative w-9 h-5 rounded-full transition-colors shrink-0 ${v?"bg-amber-500":"bg-[var(--bg-inset)] border border-[var(--border)]"}`,children:n.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full transition-all ${v?"left-[18px] bg-white":"left-0.5 bg-[var(--text-dim)]"}`})})}),n.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[v?"Sensitive data is hidden. ":"","Masks PAN, Aadhaar, mobile, email, account numbers, client IDs, and policy numbers across the app. Use the ",v?n.jsx(qc,{size:11,className:"inline text-amber-400"}):n.jsx(ep,{size:11,className:"inline"})," icon in the header to quickly toggle."]}),v&&n.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[n.jsx(qc,{size:14,className:"text-amber-400 shrink-0"}),n.jsx("p",{className:"text-xs text-amber-400 font-medium",children:"Data masking is active  safe for screen sharing"})]})]})]}),n.jsxs(Zr,{children:[n.jsx(Jr,{icon:n.jsx(cC,{size:14}),title:"Display"}),n.jsxs("div",{className:"px-4 py-4 space-y-3",children:[n.jsx(wa,{label:"Currency",children:n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"INR ()"})}),n.jsx(wa,{label:"Date format",children:n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"DD/MM/YYYY"})})]})]})]})}function Zr({children:s}){return n.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:s})}function Jr({icon:s,title:l}){return n.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-[var(--text-muted)]",children:s}),n.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:l})]})})}function wa({label:s,children:l}){return n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)] shrink-0",children:s}),l]})}function wf({value:s,onChange:l,options:r,suffix:t}){return n.jsxs("div",{className:"relative",children:[n.jsx("select",{value:s,onChange:o=>l(o.target.value),className:"appearance-none pl-3 pr-7 py-1.5 text-xs font-semibold bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-violet-500 cursor-pointer",children:r.map(o=>n.jsxs("option",{value:o,children:[o,t||""]},o))}),n.jsx(dl,{size:10,className:"absolute right-2 top-1/2 -translate-y-1/2 text-[var(--text-dim)] pointer-events-none"})]})}function aT({member:s,onToggle:l}){const{mv:r}=yn(),t=s.includeInEmailReports==="Yes"||s.includeInEmailReports===!0,[o,u]=j.useState(!1);async function d(){u(!0);try{await l(s.memberId,{...s,includeInEmailReports:t?"No":"Yes"})}catch{}finally{u(!1)}}return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx("div",{className:"w-6 h-6 rounded-full bg-violet-100 dark:bg-violet-900/30 flex items-center justify-center shrink-0",children:n.jsx("span",{className:"text-[10px] font-bold text-violet-600",children:s.memberName?.charAt(0)?.toUpperCase()})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate",children:s.memberName}),s.email&&n.jsx("p",{className:"text-[10px] text-[var(--text-dim)] truncate",children:r(s.email,"email")})]})]}),n.jsx("button",{onClick:d,disabled:o,className:`relative w-9 h-5 rounded-full transition-colors shrink-0 disabled:opacity-50 ${t?"bg-violet-500":"bg-[var(--bg-inset)] border border-[var(--border)]"}`,children:n.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full transition-all ${t?"left-[18px] bg-white":"left-0.5 bg-[var(--text-dim)]"}`})})]})}const nT=["SIP Due Date","Insurance Renewal","FD Maturity","Loan EMI","Investment Review","Custom"].map(s=>({value:s,label:s})),rT=[{value:"One-time",label:"One-time"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"},{value:"Yearly",label:"Yearly"}],sT=[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}];function lT({initial:s,onSave:l,onDelete:r,onCancel:t}){const o=!!s,{activeMembers:u}=ze(),d=u.map(y=>({value:y.memberId,label:y.memberName})),[m,x]=j.useState({reminderType:s?.reminderType||"",title:s?.title||"",description:s?.description||"",familyMemberId:s?.familyMemberId||"",dueDate:s?.dueDate||"",advanceNoticeDays:s?.advanceNoticeDays?.toString()||"7",frequency:s?.frequency||"One-time",priority:s?.priority||"Medium",status:s?.status||"Pending"}),[p,v]=j.useState({}),[b,S]=j.useState(!1);function w(y,N){x(k=>({...k,[y]:N})),v(k=>({...k,[y]:void 0}))}function M(){const y={};return m.reminderType||(y.reminderType="Required"),m.title.trim()||(y.title="Required"),m.familyMemberId||(y.familyMemberId="Required"),m.dueDate||(y.dueDate="Required"),v(y),Object.keys(y).length===0}async function D(){if(M()){S(!0);try{await l({...m,advanceNoticeDays:Number(m.advanceNoticeDays)||7})}finally{S(!1)}}}return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Reminder Type",required:!0,error:p.reminderType,children:n.jsx(Te,{value:m.reminderType,onChange:y=>w("reminderType",y),options:nT,placeholder:"Select type..."})}),n.jsx(ee,{label:"Title",required:!0,error:p.title,children:n.jsx(me,{value:m.title,onChange:y=>w("title",y),placeholder:"e.g., HDFC SIP Due"})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Family Member",required:!0,error:p.familyMemberId,children:n.jsx(Te,{value:m.familyMemberId,onChange:y=>w("familyMemberId",y),options:d,placeholder:"Select member..."})}),n.jsx(ee,{label:"Due Date",required:!0,error:p.dueDate,children:n.jsx(me,{type:"date",value:m.dueDate,onChange:y=>w("dueDate",y)})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsx(ee,{label:"Frequency",children:n.jsx(Te,{value:m.frequency,onChange:y=>w("frequency",y),options:rT})}),n.jsx(ee,{label:"Priority",children:n.jsx(Te,{value:m.priority,onChange:y=>w("priority",y),options:sT})}),n.jsx(ee,{label:"Advance Notice (days)",children:n.jsx(me,{type:"number",value:m.advanceNoticeDays,onChange:y=>w("advanceNoticeDays",y),placeholder:"7"})})]}),o&&n.jsx(ee,{label:"Status",children:n.jsx(Te,{value:m.status,onChange:y=>w("status",y),options:[{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"}]})}),n.jsx(ee,{label:"Description",children:n.jsx(Nl,{value:m.description,onChange:y=>w("description",y),placeholder:"Optional details...",rows:2})}),n.jsxs("div",{className:"flex items-center justify-between",children:[o&&r?n.jsx(jn,{onClick:r,label:"Delete"}):n.jsx("div",{}),n.jsx(Xt,{onCancel:t,onSubmit:D,submitLabel:o?"Update Reminder":"Add Reminder",loading:b})]})]})}const Pc={"SIP Due Date":"bg-violet-500/15 text-[var(--accent-violet)]","Insurance Renewal":"bg-amber-500/15 text-[var(--accent-amber)]","FD Maturity":"bg-blue-500/15 text-[var(--accent-blue)]","Loan EMI":"bg-rose-500/15 text-[var(--accent-rose)]","Investment Review":"bg-emerald-500/15 text-emerald-400",Custom:"bg-slate-500/15 text-[var(--text-muted)]"},ag={High:"bg-rose-500",Medium:"bg-amber-500",Low:"bg-blue-500"};function rl(s){if(!s)return 1/0;const l=new Date(s)-new Date;return Math.ceil(l/(1440*60*1e3))}function iT(){const{selectedMember:s,member:l}=Yt(),{reminderList:r,addReminder:t,updateReminder:o,deleteReminder:u}=ze(),{showToast:d,showBlockUI:m,hideBlockUI:x}=gn(),[p,v]=j.useState(null),b=j.useMemo(()=>{const g=r.filter(O=>O.isActive!==!1);return s==="all"?g:g.filter(O=>O.familyMemberId===s)},[r,s]),S=b.filter(g=>rl(g.dueDate)<0).length,w=b.filter(g=>{const O=rl(g.dueDate);return O>=0&&O<=7}).length,M=b.filter(g=>{const O=rl(g.dueDate);return O>7&&O<=30}).length,D=[...b].sort((g,O)=>{const Y=rl(g.dueDate),z=rl(O.dueDate);return Y-z});async function y(g){m("Saving...");try{p?.edit?await o(p.edit.reminderId,g):await t(g),d(p?.edit?"Reminder updated":"Reminder added"),v(null)}catch(O){d(O.message||"Failed to save reminder","error")}finally{x()}}async function N(){if(p?.edit&&confirm("Delete this reminder?")){m("Deleting...");try{await u(p.edit.reminderId),d("Reminder deleted"),v(null)}catch(g){d(g.message||"Failed to delete reminder","error")}finally{x()}}}function k(g){const O=rl(g);return O<0?{label:`${Math.abs(O)}d overdue`,cls:"bg-rose-500/20 text-[var(--accent-rose)]"}:O===0?{label:"Today",cls:"bg-rose-500/20 text-[var(--accent-rose)]"}:O<=7?{label:`${O}d`,cls:"bg-amber-500/20 text-[var(--accent-amber)]"}:O<=30?{label:`${O}d`,cls:"bg-blue-500/20 text-[var(--accent-blue)]"}:{label:`${O}d`,cls:"bg-slate-500/20 text-[var(--text-muted)]"}}return n.jsxs("div",{className:"space-y-4",children:[b.length===0?n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[n.jsx(MS,{size:32,className:"text-[var(--text-dim)]"}),n.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No reminders",l?` for ${l.memberName}`:""]}),n.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add a reminder"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[n.jsx(zc,{label:"Active",value:b.length}),S>0&&n.jsx(zc,{label:"Overdue",value:S,color:"rose"}),w>0&&n.jsx(zc,{label:"Due This Week",value:w,color:"amber"}),n.jsx(zc,{label:"Next 30 Days",value:M})]}),n.jsx("div",{className:"flex items-center justify-end px-1",children:n.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[n.jsx(Ma,{size:14})," Add Reminder"]})}),n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[n.jsx("div",{className:"hidden sm:block overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm min-w-[680px]",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[n.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Reminder"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),!l&&n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),n.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Due Date"}),n.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Frequency"}),n.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),n.jsx("tbody",{children:D.map(g=>{const O=k(g.dueDate);return n.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[n.jsx("td",{className:"py-2.5 px-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${ag[g.priority]||"bg-slate-400"}`}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:g.title}),g.description&&n.jsx("p",{className:"text-xs text-[var(--text-dim)] truncate max-w-[200px]",children:g.description})]})]})}),n.jsx("td",{className:"py-2.5 px-3",children:n.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Pc[g.reminderType]||Pc.Custom}`,children:g.reminderType})}),!l&&n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:g.familyMemberName}),n.jsx("td",{className:"py-2.5 px-3 text-center",children:n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:g.dueDate}),n.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${O.cls}`,children:O.label})]})}),n.jsx("td",{className:"py-2.5 px-3 text-center text-xs text-[var(--text-muted)]",children:g.frequency}),n.jsx("td",{className:"py-2.5 px-3 text-center",children:n.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${g.status==="Pending"?"bg-amber-500/15 text-[var(--accent-amber)]":"bg-emerald-500/15 text-emerald-400"}`,children:g.status})}),n.jsx("td",{className:"py-2.5 px-2",children:n.jsx("button",{onClick:()=>v({edit:g}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:n.jsx(bn,{size:12})})})]},g.reminderId)})})]})}),n.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:D.map(g=>{const O=k(g.dueDate);return n.jsxs("div",{onClick:()=>v({edit:g}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${ag[g.priority]||"bg-slate-400"}`}),n.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:g.title})]}),n.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ml-2 ${Pc[g.reminderType]||Pc.Custom}`,children:g.reminderType})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[g.familyMemberName,"  ",g.frequency]}),n.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${O.cls}`,children:O.label})]})]},g.reminderId)})})]})]}),n.jsx(At,{open:!!p,onClose:()=>v(null),title:p?.edit?"Edit Reminder":"Add Reminder",wide:!0,children:n.jsx(lT,{initial:p?.edit||void 0,onSave:y,onDelete:p?.edit?N:void 0,onCancel:()=>v(null)})})]})}function zc({label:s,value:l,color:r}){const t=r==="rose"?"text-[var(--accent-rose)]":r==="amber"?"text-[var(--accent-amber)]":"text-[var(--text-primary)]";return n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),n.jsx("p",{className:`text-sm font-bold tabular-nums ${t}`,children:l})]})}const ng={BUY:"bg-emerald-500/15 text-emerald-400",SELL:"bg-rose-500/15 text-[var(--accent-rose)]"},oT={INITIAL:"bg-violet-500/15 text-[var(--accent-violet)]",SIP:"bg-blue-500/15 text-[var(--accent-blue)]",LUMPSUM:"bg-emerald-500/15 text-emerald-400",WITHDRAWAL:"bg-amber-500/15 text-[var(--accent-amber)]",SWITCH:"bg-orange-500/15 text-[var(--accent-orange)]"};function cT(){const{selectedMember:s}=Yt(),{mfTransactions:l,mfPortfolios:r,stockTransactions:t,stockPortfolios:o}=ze(),[u,d]=j.useState("mf"),[m,x]=j.useState("all"),p=j.useMemo(()=>{let D=[...l].sort((y,N)=>new Date(N.date)-new Date(y.date));if(s!=="all"){const y=new Set(r.filter(N=>N.ownerId===s).map(N=>N.portfolioId));D=D.filter(N=>y.has(N.portfolioId))}return m!=="all"&&(D=D.filter(y=>y.type===m)),D},[l,r,s,m]),v=j.useMemo(()=>{let D=[...t].sort((y,N)=>new Date(N.date)-new Date(y.date));if(s!=="all"){const y=new Set(o.filter(N=>N.ownerId===s).map(N=>N.portfolioId));D=D.filter(N=>y.has(N.portfolioId))}return m!=="all"&&(D=D.filter(y=>y.type===m)),D},[t,o,s,m]),b=u==="mf"?p:v,S=b.filter(D=>D.type==="BUY").reduce((D,y)=>D+(y.totalAmount||0),0),w=b.filter(D=>D.type==="SELL").reduce((D,y)=>D+(y.totalAmount||0),0),M=b.reduce((D,y)=>D+(y.gainLoss||y.realizedPL||0),0);return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[n.jsx(Fc,{label:"Transactions",value:b.length}),n.jsx(Fc,{label:"Total Bought",value:K(S)}),n.jsx(Fc,{label:"Total Sold",value:K(w)}),n.jsx(Fc,{label:"Realized P&L",value:`${M>=0?"+":""}${K(Math.abs(M))}`,positive:M>=0,bold:!0})]}),n.jsxs("div",{className:"flex items-center justify-between px-1",children:[n.jsx("div",{className:"flex gap-1",children:["mf","stocks"].map(D=>n.jsx("button",{onClick:()=>d(D),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${u===D?"bg-violet-500/20 text-violet-400 border border-violet-500/30":"text-[var(--text-dim)] hover:text-[var(--text-primary)] border border-transparent"}`,children:D==="mf"?"Mutual Funds":"Stocks"},D))}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(iC,{size:12,className:"text-[var(--text-dim)]"}),["all","BUY","SELL"].map(D=>n.jsx("button",{onClick:()=>x(D),className:`px-2 py-1 text-xs font-semibold rounded transition-colors ${m===D?"bg-[var(--bg-card)] text-[var(--text-primary)] border border-[var(--border)]":"text-[var(--text-dim)] hover:text-[var(--text-muted)]"}`,children:D==="all"?"All":D},D))]})]}),n.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:b.length===0?n.jsxs("div",{className:"py-12 flex flex-col items-center gap-3",children:[n.jsx(xy,{size:32,className:"text-[var(--text-dim)]"}),n.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions found"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden sm:block overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[n.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:u==="mf"?"Fund":"Stock"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Portfolio"}),n.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:u==="mf"?"Units":"Qty"}),n.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:u==="mf"?"NAV":"Price"}),n.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),n.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"})]})}),n.jsx("tbody",{children:b.map(D=>{const y=D.gainLoss||D.realizedPL||0;return n.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[n.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-muted)] tabular-nums",children:D.date}),n.jsx("td",{className:"py-2.5 px-3",children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${ng[D.type]||""}`,children:D.type}),D.transactionType&&n.jsx("span",{className:`text-[10px] font-semibold px-1 py-0.5 rounded ${oT[D.transactionType]||""}`,children:D.transactionType})]})}),n.jsxs("td",{className:"py-2.5 px-3",children:[n.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate max-w-[180px]",children:D.fundName||D.companyName}),n.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:D.fundCode||D.symbol})]}),n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)]",children:D.portfolioName||""}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:(D.units||D.quantity||0).toFixed(u==="mf"?2:0)}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:K(D.price||D.pricePerShare||0)}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(D.totalAmount||0)}),n.jsx("td",{className:"py-2.5 px-3 text-right",children:y!==0?n.jsxs("span",{className:`text-xs font-semibold tabular-nums ${y>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[y>=0?"+":"",K(Math.abs(y))]}):n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})]},D.transactionId)})})]})}),n.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(D=>(D.gainLoss||D.realizedPL,n.jsxs("div",{className:"px-4 py-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:D.fundName||D.companyName}),n.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded shrink-0 ${ng[D.type]||""}`,children:D.type})]}),n.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[D.date,"  ",D.portfolioName]}),n.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[n.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[(D.units||D.quantity||0).toFixed(u==="mf"?2:0)," @ ",K(D.price||D.pricePerShare||0)]}),n.jsx("span",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(D.totalAmount||0)})]})]},D.transactionId)))})]})})]})}function Fc({label:s,value:l,positive:r,bold:t}){return n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),n.jsx("p",{className:`text-sm tabular-nums ${t?"font-bold":"font-semibold"} ${r===void 0?"text-[var(--text-primary)]":r?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:l})]})}const ln=[{id:"healthIns",question:"Does your family have Health Insurance?",tip:"50L to 1Cr family floater recommended (considering inflation & future expenses)",category:"Insurance"},{id:"termLife",question:"Do you have adequate Term Life Insurance?",tip:"Recommended: 10-15x annual income",category:"Insurance"},{id:"emergencyFund",question:"Do you have an Emergency Fund?",tip:"6-12 months of monthly expenses in liquid assets",category:"Savings"},{id:"familyAware",question:"Is your family aware of all investments?",tip:"Ensure nominees and family know about all assets",category:"Planning"},{id:"hasWill",question:"Do you have a Will?",tip:"Legal document for asset distribution",category:"Planning"},{id:"nominees",question:"Have you updated Nominees on all accounts?",tip:"Bank, demat, insurance, MF  all should have nominees",category:"Planning"},{id:"goals",question:"Do you have clearly defined Financial Goals?",tip:"Retirement, education, home  with target amounts and dates",category:"Goals"}];function uT(){const s=us(),{members:l,insurancePolicies:r,goalList:t,otherInvList:o,healthCheckCompleted:u,completeHealthCheck:d}=ze(),m=l.filter(H=>H.status==="Active"),x=u===!1,[p,v]=j.useState(!1),[b,S]=j.useState(!0),[w,M]=j.useState(null),D=j.useMemo(()=>{const H={},Q=r.filter(J=>J.policyType==="Health"&&J.status==="Active");H.healthIns=Q.length>0;const E=r.filter(J=>J.policyType==="Term Life"&&J.status==="Active");H.termLife=E.length>0;const le=t.filter(J=>J.goalType==="Emergency Fund"&&J.isActive),G=o.filter(J=>J.investmentType==="FD"||J.investmentType==="PPF");return H.emergencyFund=le.length>0||G.length>0,H.goals=t.filter(J=>J.isActive).length>=2,H},[r,t,o]);j.useEffect(()=>{let H=!1;async function Q(){const E=await ay("healthCheckAnswers");!H&&E&&(M(E),S(!1));try{const le=await ty();!H&&le&&(M(le),da("healthCheckAnswers",le))}catch{}H||S(!1)}return Q(),()=>{H=!0}},[]);const[y,N]=j.useState(()=>{const H={};return ln.forEach(Q=>{H[Q.id]=D[Q.id]?"yes":""}),H});j.useEffect(()=>{w&&N(H=>{const Q={...H};return ln.forEach(E=>{const le=w[E.id];le==="Yes"?Q[E.id]="yes":le==="No"&&(Q[E.id]="no")}),Q})},[w]);const k=Object.values(y).filter(H=>H).length,g=Object.values(y).filter(H=>H==="yes").length,O=k===ln.length,Y=k>0?Math.round(g/ln.length*100):0;function z(){return Y>=80?"text-emerald-400":Y>=50?"text-[var(--accent-amber)]":"text-[var(--accent-rose)]"}function U(){return Y>=80?"Excellent":Y>=60?"Good":Y>=40?"Needs Work":"Critical"}const _=j.useMemo(()=>{const H=[];return y.healthIns!=="yes"&&H.push({severity:"critical",text:"Get Health Insurance for your family",action:"Minimum 5L cover recommended"}),y.termLife!=="yes"&&H.push({severity:"critical",text:"Get Term Life Insurance (10-15x annual income)",action:"Compare plans online"}),y.emergencyFund!=="yes"&&H.push({severity:"warning",text:"Build an Emergency Fund",action:"Save 6-12 months expenses in liquid fund/FD"}),y.familyAware!=="yes"&&H.push({severity:"warning",text:"Share investment details with family",action:"Create a document with all account info"}),y.hasWill!=="yes"&&H.push({severity:"warning",text:"Create a legal Will",action:"Consult a lawyer for Will registration"}),y.nominees!=="yes"&&H.push({severity:"warning",text:"Update nominees on all accounts",action:"Check bank, demat, insurance, MF accounts"}),y.goals!=="yes"&&H.push({severity:"info",text:"Define clear financial goals",action:"Use the Goal Planner to set targets"}),H},[y]),B=j.useCallback(async()=>{if(O){v(!0);try{const H={};ln.forEach(Q=>{H[Q.id]=y[Q.id]==="yes"?"Yes":"No"}),H.score=g,H.total=ln.length,await d(H),s("/dashboard")}catch(H){console.error("Failed to save health check:",H)}finally{v(!1)}}},[O,y,g,d,s]);return n.jsxs("div",{className:"space-y-4 max-w-2xl mx-auto",children:[x&&n.jsxs("div",{className:"bg-violet-500/10 border border-violet-500/20 rounded-xl p-4",children:[n.jsx("h2",{className:"text-base font-bold text-violet-400 mb-1",children:"Welcome to Capital Friends!"}),n.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Before you start, please complete this quick Financial Health Check. It takes less than a minute and helps you understand where your family stands financially."})]}),n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(py,{size:16,className:"text-violet-400"}),n.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:"Financial Health Score"})]}),n.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[k,"/",ln.length," answered"]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"relative w-20 h-20",children:[n.jsxs("svg",{className:"w-20 h-20 -rotate-90",viewBox:"0 0 36 36",children:[n.jsx("path",{d:"M18 2.0845a 15.9155 15.9155 0 0 1 0 31.831a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"var(--border)",strokeWidth:"3"}),n.jsx("path",{d:"M18 2.0845a 15.9155 15.9155 0 0 1 0 31.831a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:`${Y}, 100`,className:z(),strokeLinecap:"round"})]}),n.jsxs("span",{className:`absolute inset-0 flex items-center justify-center text-lg font-bold ${z()}`,children:[Y,"%"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:`text-base font-bold ${z()}`,children:U()}),n.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:[g," of ",ln.length," checks passed"]}),n.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[m.length," family members tracked"]})]})]})]}),n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[n.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:n.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Health Check Questions"})}),n.jsx("div",{className:"divide-y divide-[var(--border-light)]",children:ln.map((H,Q)=>n.jsxs("div",{className:"px-4 py-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"text-sm text-[var(--text-primary)]",children:[n.jsxs("span",{className:"text-[var(--text-dim)] mr-2",children:[Q+1,"."]}),H.question]}),n.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5 ml-5",children:H.tip})]}),n.jsxs("div",{className:"flex gap-1 shrink-0",children:[n.jsx("button",{onClick:()=>N(E=>({...E,[H.id]:"yes"})),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${y[H.id]==="yes"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"bg-[var(--bg-inset)] text-[var(--text-dim)] border border-[var(--border)] hover:text-[var(--text-primary)]"}`,children:"Yes"}),n.jsx("button",{onClick:()=>N(E=>({...E,[H.id]:"no"})),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${y[H.id]==="no"?"bg-rose-500/20 text-[var(--accent-rose)] border border-rose-500/30":"bg-[var(--bg-inset)] text-[var(--text-dim)] border border-[var(--border)] hover:text-[var(--text-primary)]"}`,children:"No"})]})]}),D[H.id]&&n.jsx("p",{className:"text-xs text-violet-400 mt-1 ml-5",children:"Auto-detected from your data"})]},H.id))})]}),_.length>0&&O&&n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[n.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:n.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Recommendations"})}),n.jsx("div",{className:"divide-y divide-[var(--border-light)]",children:_.map((H,Q)=>{const E=H.severity==="critical"?n.jsx(fy,{size:14,className:"text-[var(--accent-rose)]"}):H.severity==="warning"?n.jsx(ju,{size:14,className:"text-[var(--accent-amber)]"}):n.jsx(BS,{size:14,className:"text-[var(--accent-blue)]"});return n.jsxs("div",{className:"flex items-start gap-3 px-4 py-3",children:[n.jsx("span",{className:"shrink-0 mt-0.5",children:E}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-[var(--text-primary)]",children:H.text}),n.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:H.action})]})]},Q)})})]}),n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[!O&&n.jsxs("p",{className:"text-xs text-[var(--accent-amber)] mb-3",children:["Please answer all ",ln.length," questions before saving."]}),n.jsx("button",{onClick:B,disabled:!O||p,className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg text-sm font-bold transition-colors ${O&&!p?"bg-violet-600 hover:bg-violet-500 text-white":"bg-[var(--bg-inset)] text-[var(--text-dim)] cursor-not-allowed"}`,children:p?n.jsxs(n.Fragment,{children:[n.jsx(by,{size:16,className:"animate-spin"}),"Saving..."]}):x?n.jsxs(n.Fragment,{children:["Save & Continue to Dashboard",n.jsx(SS,{size:16})]}):n.jsxs(n.Fragment,{children:[n.jsx(BC,{size:16}),"Update Health Check"]})})]})]})}function dT(){return n.jsxs("div",{className:"space-y-4 max-w-lg mx-auto",children:[n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-5 text-center",children:[n.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-indigo-600 flex items-center justify-center mx-auto mb-3",children:n.jsx("span",{className:"text-xl font-bold text-white",children:"CF"})}),n.jsx("h1",{className:"text-lg font-bold text-[var(--text-primary)]",children:"Capital Friends"}),n.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:"Family Portfolio Management"}),n.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-2",children:"v2.0.0"})]}),n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[n.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:n.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Features"})}),n.jsx("div",{className:"px-4 py-3 space-y-2",children:["Track Mutual Funds, Stocks & Other Investments","Family member-wise portfolio management","ATH-based Buy Opportunities","Smart Rebalancing with threshold alerts","Goal planning with portfolio mapping","Insurance, Liabilities & Bank Accounts","Financial Health Check questionnaire","Reminders for SIPs, renewals & due dates","Email reports with detailed breakdowns"].map(s=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-500 shrink-0"}),n.jsx("p",{className:"text-xs text-[var(--text-secondary)]",children:s})]},s))})]}),n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[n.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(eu,{size:12,className:"text-pink-400"}),n.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Support Developer"})]})}),n.jsxs("div",{className:"px-4 py-4 text-center",children:[n.jsx("p",{className:"text-sm text-[var(--text-secondary)] mb-3",children:"If Capital Friends helps you manage your family finances, consider supporting the developer."}),n.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-4 py-3 border border-[var(--border)]",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-1",children:"UPI"}),n.jsx("p",{className:"text-sm font-mono font-semibold text-[var(--text-primary)] select-all",children:"jagadeeshmanne.hdfc@kphdfc"})]}),n.jsxs("div",{className:"flex items-center justify-center gap-1 mt-3",children:[n.jsx($S,{size:12,className:"text-[var(--accent-amber)]"}),n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Buy me a chai!"})]})]})]}),n.jsxs("div",{className:"text-center py-2",children:[n.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Made with ",n.jsx(eu,{size:10,className:"inline text-pink-400 mx-0.5"})," by Jagadeesh Manne"]}),n.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:"Built with React + Vite + Tailwind CSS"})]})]})}function mT(){return Date.now().toString(36).toUpperCase()}function fT(){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZ",l=r=>Array.from({length:r},()=>s[Math.floor(Math.random()*26)]).join("");return l(5)+Math.floor(1e3+Math.random()*9e3)+l(1)}function pT(){return String(Math.floor(2e11+Math.random()*8e11))}function rg(){return"9"+String(Math.floor(1e8+Math.random()*9e8))}function xT(){return String(Math.floor(1e9+Math.random()*9e9))}function hT(){const s=mT();return{member:{memberName:`Test Member ${s}`,relationship:"Self",pan:fT(),aadhar:pT(),email:`test-${s.toLowerCase()}@example.com`,mobile:rg(),includeInEmailReports:!0},bank:{accountName:`Test Savings ${s}`,bankName:"Test Bank",accountNumber:xT(),ifscCode:"TEST0001234",accountType:"Savings",branchName:"Test Branch"},investmentAccount:{accountName:`Test Demat ${s}`,accountType:"Demat",platformBroker:"Test Broker Platform",accountClientId:`CLI-${s}`,registeredEmail:`test-${s.toLowerCase()}@example.com`,registeredPhone:rg()},insurance:{policyType:"Term Life",company:"Test Insurance Co",policyNumber:`POL-${s}`,policyName:`Test Term Plan ${s}`,sumAssured:5e6,nominee:"Test Nominee",dynamicFields:{Premium:15e3,"Premium Frequency":"Annual"}},liability:{liabilityType:"Home Loan",lenderName:"Test Bank",outstandingBalance:45e5,dynamicFields:{"Principal Amount":5e6,"Interest Rate":8.5,"EMI Amount":45e3},notes:`Test liability ${s}`},otherInvestment:{investmentType:"Fixed Deposit",investmentName:`Test FD ${s}`,investedAmount:1e5,currentValue:105e3,investmentCategory:"Debt"},stockPortfolio:{portfolioName:`Test Stock Portfolio ${s}`,broker:"Test Broker"},reminder:{title:`Test Reminder ${s}`,description:"Automated test reminder",dueDate:new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0],category:"Insurance",priority:"Medium"},goal:{goalName:`Test Goal ${s}`,goalType:"Custom",targetAmount:1e6,targetDate:"2040-01-01",priority:"Medium",expectedInflation:.06,expectedCAGR:.12}}}function vT({status:s,text:l}){const r={pass:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",fail:"bg-rose-500/20 text-rose-400 border-rose-500/30",skip:"bg-amber-500/20 text-amber-400 border-amber-500/30",running:"bg-blue-500/20 text-blue-400 border-blue-500/30",pending:"bg-gray-500/20 text-gray-400 border-gray-500/30"};return n.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded border ${r[s]||r.pending}`,children:l||s.toUpperCase()})}function bT(){const{user:s}=ds(),[l,r]=j.useState([]),[t,o]=j.useState(!1),[u,d]=j.useState(null),[m,x]=j.useState(!1),p=j.useCallback((y,N,k="")=>{r(g=>[...g,{test:y,status:N,detail:k,time:new Date().toLocaleTimeString()}])},[]),v=j.useCallback((y,N="")=>{r(k=>{const g=[...k];return g.length>0&&(g[g.length-1]={...g[g.length-1],status:y,detail:N}),g})},[]),b=async()=>{x(!0),d(null);try{const y=await ge("test:diagnose");d(y)}catch(y){d({error:y.message})}finally{x(!1)}},S=async()=>{o(!0),r([]);const y=hT();let N=null,k=null,g=null,O=null,Y=null,z=null,U=null,_=null,B=null,H=null;try{p("API Echo Test","running");try{const E=await ge("test:echo",{hello:"world"});E&&E.echo&&E.echo.hello==="world"?v("pass","Echo response received correctly"):v("fail","Unexpected response: "+JSON.stringify(E))}catch(E){v("fail",E.message)}p("Diagnostics","running");try{const E=await ge("test:diagnose"),le=Object.entries(E.sheets||{}).filter(([,J])=>!J.exists).map(([J])=>J);if(le.length>0)v("fail",`Missing sheets: ${le.join(", ")}`);else{const J=Object.keys(E.sheets).length;v("pass",`All ${J} sheets exist. SpreadsheetId: ${E.spreadsheetId}`)}const G=Object.entries(E.dataTests||{}).filter(([,J])=>!J.success).map(([J,F])=>`${J}: ${F.error}`);G.length>0&&p("Data Function Errors","fail",G.join("; "))}catch(E){v("fail",E.message)}p("Load All Data (bulk)","running");try{const E=await Jc(),le=Object.entries(E).map(([G,J])=>`${G}: ${Array.isArray(J)?J.length:"?"}`);v("pass",le.join(", "))}catch(E){v("fail",E.message)}p("Members  Create","running");try{const E=await Mg(y.member);N=E?.memberId,k=y.member.memberName,N?v("pass",`Created: ${N}`):v("fail","No memberId returned: "+JSON.stringify(E))}catch(E){v("fail",E.message)}p("Members  List","running");try{const E=await kg();Array.isArray(E)&&E.some(G=>G.memberId===N)?v("pass",`Found ${N} in ${E.length} member(s)`):v("fail",`Member ${N} not found. Got ${Array.isArray(E)?E.length:0} members: ${JSON.stringify(E).substring(0,200)}`)}catch(E){v("fail",E.message)}if(N){p("Members  Update","running");try{await Ag({...y.member,memberId:N,memberName:"Updated Test Member"}),k="Updated Test Member",v("pass",'Updated name to "Updated Test Member"')}catch(E){v("fail",E.message)}}p("Banks  Create","running");try{const E=await _g({...y.bank,memberId:N||"FM-001"});g=E?.accountId,v(g?"pass":"fail",g?`Created: ${g}`:"No accountId: "+JSON.stringify(E))}catch(E){v("fail",E.message)}p("Banks  List","running");try{const E=await Eg();v("pass",`${Array.isArray(E)?E.length:0} account(s)`)}catch(E){v("fail",E.message)}p("Investment Accounts  Create","running");try{const E=await Lg({...y.investmentAccount,memberId:N||"FM-001",bankAccountId:g||"BA-001"});O=E?.accountId,v(O?"pass":"fail",O?`Created: ${O}`:"No accountId: "+JSON.stringify(E))}catch(E){v("fail",E.message)}p("Investment Accounts  List","running");try{const E=await Rg();v("pass",`${Array.isArray(E)?E.length:0} account(s)`)}catch(E){v("fail",E.message)}p("Insurance  Create","running");try{const E=await Hg({...y.insurance,memberId:N||"FM-001",insuredMember:k||"Test Member"});Y=E?.policyId,v(Y?"pass":"fail",Y?`Created: ${Y}`:"No policyId: "+JSON.stringify(E))}catch(E){v("fail",E.message)}p("Insurance  List","running");try{const E=await Bg();v("pass",`${Array.isArray(E)?E.length:0} policy/policies`)}catch(E){v("fail",E.message)}p("Liabilities  Create","running");try{const E=await Ug({...y.liability,familyMember:N||"FM-001"});z=E?.liabilityId,v(z?"pass":"fail",z?`Created: ${z}`:"No liabilityId: "+JSON.stringify(E))}catch(E){v("fail",E.message)}p("Liabilities  List","running");try{const E=await qg();v("pass",`${Array.isArray(E)?E.length:0} liability/liabilities`)}catch(E){v("fail",E.message)}p("Other Investments  Create","running");try{const E=await Gg({...y.otherInvestment,familyMember:N||"FM-001"});U=E?.investmentId,v(U?"pass":"fail",U?`Created: ${U}`:"No investmentId: "+JSON.stringify(E))}catch(E){v("fail",E.message)}p("Other Investments  List","running");try{const E=await Vg();v("pass",`${Array.isArray(E)?E.length:0} investment(s)`)}catch(E){v("fail",E.message)}p("Stock Portfolios  Create","running");try{const E=await Xg({...y.stockPortfolio,owner:N||"FM-001"});_=E?.portfolioId,v(_?"pass":"fail",_?`Created: ${_}`:"No portfolioId: "+JSON.stringify(E))}catch(E){v("fail",E.message)}p("Stock Portfolios  List","running");try{const E=await Kg();v("pass",`${Array.isArray(E)?E.length:0} portfolio(s)`)}catch(E){v("fail",E.message)}p("Reminders  Create","running");try{const E=await Jg(y.reminder);B=E?.reminderId,v(B?"pass":"fail",B?`Created: ${B}`:"No reminderId: "+JSON.stringify(E))}catch(E){v("fail",E.message)}p("Reminders  List","running");try{const E=await Zg();v("pass",`${Array.isArray(E)?E.length:0} reminder(s)`)}catch(E){v("fail",E.message)}p("Goals  Create","running");try{const E=await zg(y.goal);H=E?.goalId,v(H?"pass":"fail",H?`Created: ${H}`:"No goalId: "+JSON.stringify(E))}catch(E){v("fail",E.message)}p("Goals  List","running");try{const E=await Pg();v("pass",`${Array.isArray(E)?E.length:0} goal(s)`)}catch(E){v("fail",E.message)}p("Cleanup  Delete test data","running");const Q=[];if(H)try{await Fg(H)}catch(E){Q.push("goal: "+E.message)}if(B)try{await ey(B)}catch(E){Q.push("reminder: "+E.message)}if(_)try{await Wg(_)}catch(E){Q.push("stockPortfolio: "+E.message)}if(U)try{await Qg(U)}catch(E){Q.push("otherInv: "+E.message)}if(z)try{await $g(z)}catch(E){Q.push("liability: "+E.message)}if(Y)try{await Yg(Y)}catch(E){Q.push("insurance: "+E.message)}if(O)try{await Ig(O)}catch(E){Q.push("invAcct: "+E.message)}if(g)try{await Og(g)}catch(E){Q.push("bank: "+E.message)}if(N)try{await Tg(N)}catch(E){Q.push("member: "+E.message)}Q.length>0?v("fail",Q.join("; ")):v("pass","All test data cleaned up"),p("Final Load All (post-cleanup)","running");try{const E=await Jc(),le=Object.entries(E).map(([G,J])=>`${G}: ${Array.isArray(J)?J.length:"?"}`);v("pass",le.join(", "))}catch(E){v("fail",E.message)}}catch(Q){p("UNEXPECTED ERROR","fail",Q.message)}finally{o(!1)}},w=l.filter(y=>y.status==="pass").length,M=l.filter(y=>y.status==="fail").length,D=l.filter(y=>y.status!=="running").length;return n.jsx("div",{className:"min-h-screen bg-[var(--bg-main)] p-4 max-w-3xl mx-auto",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-lg font-bold text-[var(--text-primary)]",children:"API Test Suite"}),n.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Signed in as ",s?.email||"unknown"]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:b,disabled:m||t,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-[var(--bg-card)] border border-[var(--border)] text-[var(--text-secondary)] hover:bg-[var(--bg-elevated)] disabled:opacity-50 cursor-pointer",children:m?"Running...":"Diagnostics"}),n.jsx("button",{onClick:S,disabled:t,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-violet-600 text-white hover:bg-violet-700 disabled:opacity-50 cursor-pointer",children:t?"Running Tests...":"Run All Tests"})]})]}),D>0&&n.jsxs("div",{className:"flex gap-3 text-xs",children:[n.jsxs("span",{className:"text-emerald-400",children:["Pass: ",w]}),n.jsxs("span",{className:"text-rose-400",children:["Fail: ",M]}),n.jsxs("span",{className:"text-[var(--text-dim)]",children:["Total: ",D]})]}),u&&n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4 space-y-3",children:[n.jsx("h2",{className:"text-sm font-semibold text-[var(--text-primary)]",children:"Diagnostics Report"}),u.error?n.jsx("p",{className:"text-xs text-rose-400",children:u.error}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-xs text-[var(--text-secondary)] space-y-1",children:[n.jsxs("p",{children:[n.jsx("span",{className:"text-[var(--text-dim)]",children:"Spreadsheet:"})," ",u.spreadsheetName]}),n.jsxs("p",{children:[n.jsx("span",{className:"text-[var(--text-dim)]",children:"ID:"})," ",n.jsx("code",{className:"text-[10px]",children:u.spreadsheetId})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xs font-medium text-[var(--text-primary)] mb-1",children:"Sheets"}),n.jsx("div",{className:"grid grid-cols-2 gap-1",children:Object.entries(u.sheets||{}).map(([y,N])=>n.jsxs("div",{className:"flex items-center justify-between text-[11px] px-2 py-1 rounded bg-[var(--bg-elevated)]",children:[n.jsx("span",{className:"text-[var(--text-secondary)] truncate",children:y}),N.exists?n.jsxs("span",{className:"text-emerald-400 ml-1",children:[N.dataRows,"r"]}):n.jsx("span",{className:"text-rose-400 ml-1",children:"MISSING"})]},y))})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xs font-medium text-[var(--text-primary)] mb-1",children:"Data Functions"}),n.jsx("div",{className:"space-y-1",children:Object.entries(u.dataTests||{}).map(([y,N])=>n.jsxs("div",{className:"flex items-center justify-between text-[11px] px-2 py-1 rounded bg-[var(--bg-elevated)]",children:[n.jsx("span",{className:"text-[var(--text-secondary)]",children:y}),N.success?n.jsxs("span",{className:"text-emerald-400",children:[N.count," items"]}):n.jsx("span",{className:"text-rose-400 truncate ml-2 max-w-[200px]",title:N.error,children:N.error})]},y))})]}),u.safeCallErrors&&u.safeCallErrors.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-xs font-medium text-rose-400 mb-1",children:"SafeCall Errors"}),u.safeCallErrors.map((y,N)=>n.jsxs("p",{className:"text-[11px] text-rose-400",children:[y.fn,": ",y.error]},N))]})]})]}),l.length>0&&n.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:n.jsx("div",{className:"divide-y divide-[var(--border)]",children:l.map((y,N)=>n.jsxs("div",{className:"px-4 py-2 flex items-start gap-3",children:[n.jsx("div",{className:"mt-0.5 shrink-0",children:n.jsx(vT,{status:y.status})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:y.test}),y.detail&&n.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5 break-all",children:y.detail})]}),n.jsx("span",{className:"text-[10px] text-[var(--text-dim)] shrink-0",children:y.time})]},N))})}),l.length===0&&!u&&n.jsxs("div",{className:"text-center py-12 text-[var(--text-dim)]",children:[n.jsx("p",{className:"text-sm",children:'Click "Run All Tests" to test all CRUD operations'}),n.jsx("p",{className:"text-xs mt-1",children:'or "Diagnostics" to check spreadsheet structure'})]})]})})}function gT(){return n.jsxs(qw,{children:[n.jsx(ft,{index:!0,element:n.jsx(w3,{})}),n.jsx(ft,{path:"login",element:n.jsx(x1,{})}),n.jsx(ft,{element:n.jsx(b3,{}),children:n.jsxs(ft,{element:n.jsx(v3,{}),children:[n.jsx(ft,{path:"dashboard",element:n.jsx(Wc,{to:"/investments/mutual-funds",replace:!0})}),n.jsx(ft,{path:"family",element:n.jsx(VA,{})}),n.jsx(ft,{path:"accounts/bank",element:n.jsx(Ob,{})}),n.jsx(ft,{path:"accounts/investment",element:n.jsx(A3,{})}),n.jsx(ft,{path:"insurance",element:n.jsx(O3,{})}),n.jsx(ft,{path:"investments/mutual-funds",element:n.jsx(FA,{})}),n.jsx(ft,{path:"investments/stocks",element:n.jsx(qA,{})}),n.jsx(ft,{path:"investments/other",element:n.jsx($3,{})}),n.jsx(ft,{path:"liabilities",element:n.jsx(P3,{})}),n.jsx(ft,{path:"goals",element:n.jsx(ZA,{})}),n.jsx(ft,{path:"reports",element:n.jsx(cT,{})}),n.jsx(ft,{path:"reminders",element:n.jsx(iT,{})}),n.jsx(ft,{path:"health-check",element:n.jsx(uT,{})}),n.jsx(ft,{path:"about",element:n.jsx(dT,{})}),n.jsx(ft,{path:"test",element:n.jsx(bT,{})}),n.jsx(ft,{path:"settings",element:n.jsx(tT,{})}),n.jsx(ft,{path:"more",element:n.jsx(eT,{})}),n.jsx(ft,{path:"accounts",element:n.jsx(Ob,{})}),n.jsx(ft,{path:"*",element:n.jsx(S3,{})})]})})]})}Uj.createRoot(document.getElementById("root")).render(n.jsx(f2,{children:n.jsx(dS,{children:n.jsx(mS,{children:n.jsx(x5,{children:n.jsx(l5,{children:n.jsx(pS,{children:n.jsx(xS,{children:n.jsx(gT,{})})})})})})})}));
