function Hj(s,l){for(var r=0;r<l.length;r++){const t=l[r];if(typeof t!="string"&&!Array.isArray(t)){for(const o in t)if(o!=="default"&&!(o in s)){const u=Object.getOwnPropertyDescriptor(t,o);u&&Object.defineProperty(s,o,u.get?u:{enumerable:!0,get:()=>t[o]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&t(d)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function t(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();function ug(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Zm={exports:{}},Oi={};var d0;function Yj(){if(d0)return Oi;d0=1;var s=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function r(t,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:t,key:d,ref:o!==void 0?o:null,props:u}}return Oi.Fragment=l,Oi.jsx=r,Oi.jsxs=r,Oi}var m0;function Uj(){return m0||(m0=1,Zm.exports=Yj()),Zm.exports}var a=Uj(),Jm={exports:{}},Ie={};var f0;function qj(){if(f0)return Ie;f0=1;var s=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),t=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),j=Symbol.iterator;function C(z){return z===null||typeof z!="object"?null:(z=j&&z[j]||z["@@iterator"],typeof z=="function"?z:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,g={};function N(z,ee,ue){this.props=z,this.context=ee,this.refs=g,this.updater=ue||M}N.prototype.isReactComponent={},N.prototype.setState=function(z,ee){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ee,"setState")},N.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function D(){}D.prototype=N.prototype;function y(z,ee,ue){this.props=z,this.context=ee,this.refs=g,this.updater=ue||M}var E=y.prototype=new D;E.constructor=y,S(E,N.prototype),E.isPureReactComponent=!0;var _=Array.isArray;function H(){}var $={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function F(z,ee,ue){var de=ue.ref;return{$$typeof:s,type:z,key:ee,ref:de!==void 0?de:null,props:ue}}function I(z,ee){return F(z.type,ee,z.props)}function G(z){return typeof z=="object"&&z!==null&&z.$$typeof===s}function A(z){var ee={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ue){return ee[ue]})}var re=/\/+/g;function U(z,ee){return typeof z=="object"&&z!==null&&z.key!=null?A(""+z.key):ee.toString(36)}function Z(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(H,H):(z.status="pending",z.then(function(ee){z.status==="pending"&&(z.status="fulfilled",z.value=ee)},function(ee){z.status==="pending"&&(z.status="rejected",z.reason=ee)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function B(z,ee,ue,de,Se){var ge=typeof z;(ge==="undefined"||ge==="boolean")&&(z=null);var ye=!1;if(z===null)ye=!0;else switch(ge){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(z.$$typeof){case s:case l:ye=!0;break;case v:return ye=z._init,B(ye(z._payload),ee,ue,de,Se)}}if(ye)return Se=Se(z),ye=de===""?"."+U(z,0):de,_(Se)?(ue="",ye!=null&&(ue=ye.replace(re,"$&/")+"/"),B(Se,ee,ue,"",function(Qt){return Qt})):Se!=null&&(G(Se)&&(Se=I(Se,ue+(Se.key==null||z&&z.key===Se.key?"":(""+Se.key).replace(re,"$&/")+"/")+ye)),ee.push(Se)),1;ye=0;var Ve=de===""?".":de+":";if(_(z))for(var We=0;We<z.length;We++)de=z[We],ge=Ve+U(de,We),ye+=B(de,ee,ue,ge,Se);else if(We=C(z),typeof We=="function")for(z=We.call(z),We=0;!(de=z.next()).done;)de=de.value,ge=Ve+U(de,We++),ye+=B(de,ee,ue,ge,Se);else if(ge==="object"){if(typeof z.then=="function")return B(Z(z),ee,ue,de,Se);throw ee=String(z),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return ye}function R(z,ee,ue){if(z==null)return z;var de=[],Se=0;return B(z,de,"","",function(ge){return ee.call(ue,ge,Se++)}),de}function L(z){if(z._status===-1){var ee=z._result;ee=ee(),ee.then(function(ue){(z._status===0||z._status===-1)&&(z._status=1,z._result=ue)},function(ue){(z._status===0||z._status===-1)&&(z._status=2,z._result=ue)}),z._status===-1&&(z._status=0,z._result=ee)}if(z._status===1)return z._result.default;throw z._result}var me=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},ve={map:R,forEach:function(z,ee,ue){R(z,function(){ee.apply(this,arguments)},ue)},count:function(z){var ee=0;return R(z,function(){ee++}),ee},toArray:function(z){return R(z,function(ee){return ee})||[]},only:function(z){if(!G(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Ie.Activity=b,Ie.Children=ve,Ie.Component=N,Ie.Fragment=r,Ie.Profiler=o,Ie.PureComponent=y,Ie.StrictMode=t,Ie.Suspense=x,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(z){return $.H.useMemoCache(z)}},Ie.cache=function(z){return function(){return z.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(z,ee,ue){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var de=S({},z.props),Se=z.key;if(ee!=null)for(ge in ee.key!==void 0&&(Se=""+ee.key),ee)!O.call(ee,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&ee.ref===void 0||(de[ge]=ee[ge]);var ge=arguments.length-2;if(ge===1)de.children=ue;else if(1<ge){for(var ye=Array(ge),Ve=0;Ve<ge;Ve++)ye[Ve]=arguments[Ve+2];de.children=ye}return F(z.type,Se,de)},Ie.createContext=function(z){return z={$$typeof:d,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:u,_context:z},z},Ie.createElement=function(z,ee,ue){var de,Se={},ge=null;if(ee!=null)for(de in ee.key!==void 0&&(ge=""+ee.key),ee)O.call(ee,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Se[de]=ee[de]);var ye=arguments.length-2;if(ye===1)Se.children=ue;else if(1<ye){for(var Ve=Array(ye),We=0;We<ye;We++)Ve[We]=arguments[We+2];Se.children=Ve}if(z&&z.defaultProps)for(de in ye=z.defaultProps,ye)Se[de]===void 0&&(Se[de]=ye[de]);return F(z,ge,Se)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(z){return{$$typeof:m,render:z}},Ie.isValidElement=G,Ie.lazy=function(z){return{$$typeof:v,_payload:{_status:-1,_result:z},_init:L}},Ie.memo=function(z,ee){return{$$typeof:p,type:z,compare:ee===void 0?null:ee}},Ie.startTransition=function(z){var ee=$.T,ue={};$.T=ue;try{var de=z(),Se=$.S;Se!==null&&Se(ue,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(H,me)}catch(ge){me(ge)}finally{ee!==null&&ue.types!==null&&(ee.types=ue.types),$.T=ee}},Ie.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},Ie.use=function(z){return $.H.use(z)},Ie.useActionState=function(z,ee,ue){return $.H.useActionState(z,ee,ue)},Ie.useCallback=function(z,ee){return $.H.useCallback(z,ee)},Ie.useContext=function(z){return $.H.useContext(z)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(z,ee){return $.H.useDeferredValue(z,ee)},Ie.useEffect=function(z,ee){return $.H.useEffect(z,ee)},Ie.useEffectEvent=function(z){return $.H.useEffectEvent(z)},Ie.useId=function(){return $.H.useId()},Ie.useImperativeHandle=function(z,ee,ue){return $.H.useImperativeHandle(z,ee,ue)},Ie.useInsertionEffect=function(z,ee){return $.H.useInsertionEffect(z,ee)},Ie.useLayoutEffect=function(z,ee){return $.H.useLayoutEffect(z,ee)},Ie.useMemo=function(z,ee){return $.H.useMemo(z,ee)},Ie.useOptimistic=function(z,ee){return $.H.useOptimistic(z,ee)},Ie.useReducer=function(z,ee,ue){return $.H.useReducer(z,ee,ue)},Ie.useRef=function(z){return $.H.useRef(z)},Ie.useState=function(z){return $.H.useState(z)},Ie.useSyncExternalStore=function(z,ee,ue){return $.H.useSyncExternalStore(z,ee,ue)},Ie.useTransition=function(){return $.H.useTransition()},Ie.version="19.2.4",Ie}var p0;function $f(){return p0||(p0=1,Jm.exports=qj()),Jm.exports}var w=$f();const ne=ug(w),dg=Hj({__proto__:null,default:ne},[w]);var ef={exports:{}},Ri={},tf={exports:{}},af={};var x0;function $j(){return x0||(x0=1,(function(s){function l(B,R){var L=B.length;B.push(R);e:for(;0<L;){var me=L-1>>>1,ve=B[me];if(0<o(ve,R))B[me]=R,B[L]=ve,L=me;else break e}}function r(B){return B.length===0?null:B[0]}function t(B){if(B.length===0)return null;var R=B[0],L=B.pop();if(L!==R){B[0]=L;e:for(var me=0,ve=B.length,z=ve>>>1;me<z;){var ee=2*(me+1)-1,ue=B[ee],de=ee+1,Se=B[de];if(0>o(ue,L))de<ve&&0>o(Se,ue)?(B[me]=Se,B[de]=L,me=de):(B[me]=ue,B[ee]=L,me=ee);else if(de<ve&&0>o(Se,L))B[me]=Se,B[de]=L,me=de;else break e}}return R}function o(B,R){var L=B.sortIndex-R.sortIndex;return L!==0?L:B.id-R.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();s.unstable_now=function(){return d.now()-m}}var x=[],p=[],v=1,b=null,j=3,C=!1,M=!1,S=!1,g=!1,N=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function E(B){for(var R=r(p);R!==null;){if(R.callback===null)t(p);else if(R.startTime<=B)t(p),R.sortIndex=R.expirationTime,l(x,R);else break;R=r(p)}}function _(B){if(S=!1,E(B),!M)if(r(x)!==null)M=!0,H||(H=!0,A());else{var R=r(p);R!==null&&Z(_,R.startTime-B)}}var H=!1,$=-1,O=5,F=-1;function I(){return g?!0:!(s.unstable_now()-F<O)}function G(){if(g=!1,H){var B=s.unstable_now();F=B;var R=!0;try{e:{M=!1,S&&(S=!1,D($),$=-1),C=!0;var L=j;try{t:{for(E(B),b=r(x);b!==null&&!(b.expirationTime>B&&I());){var me=b.callback;if(typeof me=="function"){b.callback=null,j=b.priorityLevel;var ve=me(b.expirationTime<=B);if(B=s.unstable_now(),typeof ve=="function"){b.callback=ve,E(B),R=!0;break t}b===r(x)&&t(x),E(B)}else t(x);b=r(x)}if(b!==null)R=!0;else{var z=r(p);z!==null&&Z(_,z.startTime-B),R=!1}}break e}finally{b=null,j=L,C=!1}R=void 0}}finally{R?A():H=!1}}}var A;if(typeof y=="function")A=function(){y(G)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,U=re.port2;re.port1.onmessage=G,A=function(){U.postMessage(null)}}else A=function(){N(G,0)};function Z(B,R){$=N(function(){B(s.unstable_now())},R)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(B){B.callback=null},s.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<B?Math.floor(1e3/B):5},s.unstable_getCurrentPriorityLevel=function(){return j},s.unstable_next=function(B){switch(j){case 1:case 2:case 3:var R=3;break;default:R=j}var L=j;j=R;try{return B()}finally{j=L}},s.unstable_requestPaint=function(){g=!0},s.unstable_runWithPriority=function(B,R){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var L=j;j=B;try{return R()}finally{j=L}},s.unstable_scheduleCallback=function(B,R,L){var me=s.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?me+L:me):L=me,B){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=L+ve,B={id:v++,callback:R,priorityLevel:B,startTime:L,expirationTime:ve,sortIndex:-1},L>me?(B.sortIndex=L,l(p,B),r(x)===null&&B===r(p)&&(S?(D($),$=-1):S=!0,Z(_,L-me))):(B.sortIndex=ve,l(x,B),M||C||(M=!0,H||(H=!0,A()))),B},s.unstable_shouldYield=I,s.unstable_wrapCallback=function(B){var R=j;return function(){var L=j;j=R;try{return B.apply(this,arguments)}finally{j=L}}}})(af)),af}var h0;function Vj(){return h0||(h0=1,tf.exports=$j()),tf.exports}var nf={exports:{}},aa={};var v0;function Gj(){if(v0)return aa;v0=1;var s=$f();function l(x){var p="https://react.dev/errors/"+x;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+x+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var t={d:{f:r,r:function(){throw Error(l(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(x,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:x,containerInfo:p,implementation:v}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(x,p){if(x==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return aa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=t,aa.createPortal=function(x,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(l(299));return u(x,p,null,v)},aa.flushSync=function(x){var p=d.T,v=t.p;try{if(d.T=null,t.p=2,x)return x()}finally{d.T=p,t.p=v,t.d.f()}},aa.preconnect=function(x,p){typeof x=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,t.d.C(x,p))},aa.prefetchDNS=function(x){typeof x=="string"&&t.d.D(x)},aa.preinit=function(x,p){if(typeof x=="string"&&p&&typeof p.as=="string"){var v=p.as,b=m(v,p.crossOrigin),j=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?t.d.S(x,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:j,fetchPriority:C}):v==="script"&&t.d.X(x,{crossOrigin:b,integrity:j,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},aa.preinitModule=function(x,p){if(typeof x=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=m(p.as,p.crossOrigin);t.d.M(x,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&t.d.M(x)},aa.preload=function(x,p){if(typeof x=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=m(v,p.crossOrigin);t.d.L(x,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},aa.preloadModule=function(x,p){if(typeof x=="string")if(p){var v=m(p.as,p.crossOrigin);t.d.m(x,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else t.d.m(x)},aa.requestFormReset=function(x){t.d.r(x)},aa.unstable_batchedUpdates=function(x,p){return x(p)},aa.useFormState=function(x,p,v){return d.H.useFormState(x,p,v)},aa.useFormStatus=function(){return d.H.useHostTransitionStatus()},aa.version="19.2.4",aa}var b0;function mg(){if(b0)return nf.exports;b0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(l){console.error(l)}}return s(),nf.exports=Gj(),nf.exports}var g0;function Qj(){if(g0)return Ri;g0=1;var s=Vj(),l=$f(),r=mg();function t(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function x(e){if(u(e)!==e)throw Error(t(188))}function p(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(t(188));return n!==e?null:e}for(var i=e,c=n;;){var f=i.return;if(f===null)break;var h=f.alternate;if(h===null){if(c=f.return,c!==null){i=c;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===i)return x(f),e;if(h===c)return x(f),n;h=h.sibling}throw Error(t(188))}if(i.return!==c.return)i=f,c=h;else{for(var k=!1,T=f.child;T;){if(T===i){k=!0,i=f,c=h;break}if(T===c){k=!0,c=f,i=h;break}T=T.sibling}if(!k){for(T=h.child;T;){if(T===i){k=!0,i=h,c=f;break}if(T===c){k=!0,c=h,i=f;break}T=T.sibling}if(!k)throw Error(t(189))}}if(i.alternate!==c)throw Error(t(190))}if(i.tag!==3)throw Error(t(188));return i.stateNode.current===i?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,j=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),y=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function A(e){return e===null||typeof e!="object"?null:(e=G&&e[G]||e["@@iterator"],typeof e=="function"?e:null)}var re=Symbol.for("react.client.reference");function U(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===re?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case N:return"Profiler";case g:return"StrictMode";case _:return"Suspense";case H:return"SuspenseList";case F:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case y:return e.displayName||"Context";case D:return(e._context.displayName||"Context")+".Consumer";case E:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $:return n=e.displayName||null,n!==null?n:U(e.type)||"Memo";case O:n=e._payload,e=e._init;try{return U(e(n))}catch{}}return null}var Z=Array.isArray,B=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},me=[],ve=-1;function z(e){return{current:e}}function ee(e){0>ve||(e.current=me[ve],me[ve]=null,ve--)}function ue(e,n){ve++,me[ve]=e.current,e.current=n}var de=z(null),Se=z(null),ge=z(null),ye=z(null);function Ve(e,n){switch(ue(ge,n),ue(Se,e),ue(de,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Rv(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Rv(n),e=Iv(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ee(de),ue(de,e)}function We(){ee(de),ee(Se),ee(ge)}function Qt(e){e.memoizedState!==null&&ue(ye,e);var n=de.current,i=Iv(n,e.type);n!==i&&(ue(Se,e),ue(de,i))}function Bt(e){Se.current===e&&(ee(de),ee(Se)),ye.current===e&&(ee(ye),Ai._currentValue=L)}var kt,ot;function je(e){if(kt===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);kt=n&&n[1]||"",ot=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kt+e+ot}var ze=!1;function pt(e,n){if(!e||ze)return"";ze=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(ae){var W=ae}Reflect.construct(e,[],oe)}else{try{oe.call()}catch(ae){W=ae}e.call(oe.prototype)}}else{try{throw Error()}catch(ae){W=ae}(oe=e())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(ae){if(ae&&W&&typeof ae.stack=="string")return[ae.stack,W.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=c.DetermineComponentFrameRoot(),k=h[0],T=h[1];if(k&&T){var P=k.split(`
`),X=T.split(`
`);for(f=c=0;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;for(;f<X.length&&!X[f].includes("DetermineComponentFrameRoot");)f++;if(c===P.length||f===X.length)for(c=P.length-1,f=X.length-1;1<=c&&0<=f&&P[c]!==X[f];)f--;for(;1<=c&&0<=f;c--,f--)if(P[c]!==X[f]){if(c!==1||f!==1)do if(c--,f--,0>f||P[c]!==X[f]){var se=`
`+P[c].replace(" at new "," at ");return e.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",e.displayName)),se}while(1<=c&&0<=f);break}}}finally{ze=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?je(i):""}function la(e,n){switch(e.tag){case 26:case 27:case 5:return je(e.type);case 16:return je("Lazy");case 13:return e.child!==n&&n!==null?je("Suspense Fallback"):je("Suspense");case 19:return je("SuspenseList");case 0:case 15:return pt(e.type,!1);case 11:return pt(e.type.render,!1);case 1:return pt(e.type,!0);case 31:return je("Activity");default:return""}}function Ba(e){try{var n="",i=null;do n+=la(e,i),i=e,e=e.return;while(e);return n}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var xt=Object.prototype.hasOwnProperty,jt=s.unstable_scheduleCallback,ma=s.unstable_cancelCallback,Xr=s.unstable_shouldYield,J=s.unstable_requestPaint,ce=s.unstable_now,_e=s.unstable_getCurrentPriorityLevel,be=s.unstable_ImmediatePriority,Te=s.unstable_UserBlockingPriority,le=s.unstable_NormalPriority,ct=s.unstable_LowPriority,ke=s.unstable_IdlePriority,nt=s.log,ia=s.unstable_setDisableYieldValue,qt=null,wt=null;function Be(e){if(typeof nt=="function"&&ia(e),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(qt,e)}catch{}}var He=Math.clz32?Math.clz32:an,tn=Math.log,fa=Math.LN2;function an(e){return e>>>=0,e===0?32:31-(tn(e)/fa|0)|0}var vn=256,bn=262144,xe=4194304;function St(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function nn(e,n,i){var c=e.pendingLanes;if(c===0)return 0;var f=0,h=e.suspendedLanes,k=e.pingedLanes;e=e.warmLanes;var T=c&134217727;return T!==0?(c=T&~h,c!==0?f=St(c):(k&=T,k!==0?f=St(k):i||(i=T&~e,i!==0&&(f=St(i))))):(T=c&~h,T!==0?f=St(T):k!==0?f=St(k):i||(i=c&~e,i!==0&&(f=St(i)))),f===0?0:n!==0&&n!==f&&(n&h)===0&&(h=f&-f,i=n&-n,h>=i||h===32&&(i&4194048)!==0)?n:f}function ka(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function xr(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zn(){var e=xe;return xe<<=1,(xe&62914560)===0&&(xe=4194304),e}function hr(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function rn(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _s(e,n,i,c,f,h){var k=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var T=e.entanglements,P=e.expirationTimes,X=e.hiddenUpdates;for(i=k&~i;0<i;){var se=31-He(i),oe=1<<se;T[se]=0,P[se]=-1;var W=X[se];if(W!==null)for(X[se]=null,se=0;se<W.length;se++){var ae=W[se];ae!==null&&(ae.lane&=-536870913)}i&=~oe}c!==0&&co(e,c,0),h!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=h&~(k&~n))}function co(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var c=31-He(n);e.entangledLanes|=n,e.entanglements[c]=e.entanglements[c]|1073741824|i&261930}function uo(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var c=31-He(i),f=1<<c;f&n|e[c]&n&&(e[c]|=n),i&=~f}}function mo(e,n){var i=n&-n;return i=(i&42)!==0?1:Ul(i),(i&(e.suspendedLanes|n))!==0?0:i}function Ul(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ql(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function fo(){var e=R.p;return e!==0?e:(e=window.event,e===void 0?32:r0(e.type))}function po(e,n){var i=R.p;try{return R.p=e,n()}finally{R.p=i}}var gn=Math.random().toString(36).slice(2),Ht="__reactFiber$"+gn,ta="__reactProps$"+gn,vr="__reactContainer$"+gn,$l="__reactEvents$"+gn,Uu="__reactListeners$"+gn,qu="__reactHandles$"+gn,xo="__reactResources$"+gn,Wr="__reactMarker$"+gn;function q(e){delete e[Ht],delete e[ta],delete e[$l],delete e[Uu],delete e[qu]}function fe(e){var n=e[Ht];if(n)return n;for(var i=e.parentNode;i;){if(n=i[vr]||i[Ht]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=Yv(e);e!==null;){if(i=e[Ht])return i;e=Yv(e)}return n}e=i,i=e.parentNode}return null}function It(e){if(e=e[Ht]||e[vr]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Da(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(t(33))}function sn(e){var n=e[xo];return n||(n=e[xo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function $t(e){e[Wr]=!0}var jp=new Set,wp={};function Zr(e,n){Os(e,n),Os(e+"Capture",n)}function Os(e,n){for(wp[e]=n,e=0;e<n.length;e++)jp.add(n[e])}var _1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sp={},Cp={};function O1(e){return xt.call(Cp,e)?!0:xt.call(Sp,e)?!1:_1.test(e)?Cp[e]=!0:(Sp[e]=!0,!1)}function ho(e,n,i){if(O1(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function vo(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function Fn(e,n,i,c){if(c===null)e.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+c)}}function Ha(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kp(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function R1(e,n,i){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,h=c.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(k){i=""+k,h.call(this,k)}}),Object.defineProperty(e,n,{enumerable:c.enumerable}),{getValue:function(){return i},setValue:function(k){i=""+k},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function $u(e){if(!e._valueTracker){var n=kp(e)?"checked":"value";e._valueTracker=R1(e,n,""+e[n])}}function Dp(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),c="";return e&&(c=kp(e)?e.checked?"true":"false":e.value),e=c,e!==i?(n.setValue(e),!0):!1}function bo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var I1=/[\n"\\]/g;function Ya(e){return e.replace(I1,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Vu(e,n,i,c,f,h,k,T){e.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?e.type=k:e.removeAttribute("type"),n!=null?k==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ha(n)):e.value!==""+Ha(n)&&(e.value=""+Ha(n)):k!=="submit"&&k!=="reset"||e.removeAttribute("value"),n!=null?Gu(e,k,Ha(n)):i!=null?Gu(e,k,Ha(i)):c!=null&&e.removeAttribute("value"),f==null&&h!=null&&(e.defaultChecked=!!h),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Ha(T):e.removeAttribute("name")}function Mp(e,n,i,c,f,h,k,T){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){$u(e);return}i=i!=null?""+Ha(i):"",n=n!=null?""+Ha(n):i,T||n===e.value||(e.value=n),e.defaultValue=n}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=T?e.checked:!!c,e.defaultChecked=!!c,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(e.name=k),$u(e)}function Gu(e,n,i){n==="number"&&bo(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Rs(e,n,i,c){if(e=e.options,n){n={};for(var f=0;f<i.length;f++)n["$"+i[f]]=!0;for(i=0;i<e.length;i++)f=n.hasOwnProperty("$"+e[i].value),e[i].selected!==f&&(e[i].selected=f),f&&c&&(e[i].defaultSelected=!0)}else{for(i=""+Ha(i),n=null,f=0;f<e.length;f++){if(e[f].value===i){e[f].selected=!0,c&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function Ap(e,n,i){if(n!=null&&(n=""+Ha(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+Ha(i):""}function Tp(e,n,i,c){if(n==null){if(c!=null){if(i!=null)throw Error(t(92));if(Z(c)){if(1<c.length)throw Error(t(93));c=c[0]}i=c}i==null&&(i=""),n=i}i=Ha(n),e.defaultValue=i,c=e.textContent,c===i&&c!==""&&c!==null&&(e.value=c),$u(e)}function Is(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var L1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ep(e,n,i){var c=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?c?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":c?e.setProperty(n,i):typeof i!="number"||i===0||L1.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function _p(e,n,i){if(n!=null&&typeof n!="object")throw Error(t(62));if(e=e.style,i!=null){for(var c in i)!i.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var f in n)c=n[f],n.hasOwnProperty(f)&&i[f]!==c&&Ep(e,f,c)}else for(var h in n)n.hasOwnProperty(h)&&Ep(e,h,n[h])}function Qu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var P1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),z1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function go(e){return z1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Bn(){}var Ku=null;function Xu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ls=null,Ps=null;function Op(e){var n=It(e);if(n&&(e=n.stateNode)){var i=e[ta]||null;e:switch(e=n.stateNode,n.type){case"input":if(Vu(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Ya(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var c=i[n];if(c!==e&&c.form===e.form){var f=c[ta]||null;if(!f)throw Error(t(90));Vu(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<i.length;n++)c=i[n],c.form===e.form&&Dp(c)}break e;case"textarea":Ap(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&Rs(e,!!i.multiple,n,!1)}}}var Wu=!1;function Rp(e,n,i){if(Wu)return e(n,i);Wu=!0;try{var c=e(n);return c}finally{if(Wu=!1,(Ls!==null||Ps!==null)&&(lc(),Ls&&(n=Ls,e=Ps,Ps=Ls=null,Op(n),e)))for(n=0;n<e.length;n++)Op(e[n])}}function Vl(e,n){var i=e.stateNode;if(i===null)return null;var c=i[ta]||null;if(c===null)return null;i=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(t(231,n,typeof i));return i}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zu=!1;if(Hn)try{var Gl={};Object.defineProperty(Gl,"passive",{get:function(){Zu=!0}}),window.addEventListener("test",Gl,Gl),window.removeEventListener("test",Gl,Gl)}catch{Zu=!1}var br=null,Ju=null,yo=null;function Ip(){if(yo)return yo;var e,n=Ju,i=n.length,c,f="value"in br?br.value:br.textContent,h=f.length;for(e=0;e<i&&n[e]===f[e];e++);var k=i-e;for(c=1;c<=k&&n[i-c]===f[h-c];c++);return yo=f.slice(e,1<c?1-c:void 0)}function No(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function jo(){return!0}function Lp(){return!1}function pa(e){function n(i,c,f,h,k){this._reactName=i,this._targetInst=f,this.type=c,this.nativeEvent=h,this.target=k,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(i=e[T],this[T]=i?i(h):h[T]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?jo:Lp,this.isPropagationStopped=Lp,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=jo)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=jo)},persist:function(){},isPersistent:jo}),n}var Jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wo=pa(Jr),Ql=b({},Jr,{view:0,detail:0}),F1=pa(Ql),ed,td,Kl,So=b({},Ql,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kl&&(Kl&&e.type==="mousemove"?(ed=e.screenX-Kl.screenX,td=e.screenY-Kl.screenY):td=ed=0,Kl=e),ed)},movementY:function(e){return"movementY"in e?e.movementY:td}}),Pp=pa(So),B1=b({},So,{dataTransfer:0}),H1=pa(B1),Y1=b({},Ql,{relatedTarget:0}),ad=pa(Y1),U1=b({},Jr,{animationName:0,elapsedTime:0,pseudoElement:0}),q1=pa(U1),$1=b({},Jr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),V1=pa($1),G1=b({},Jr,{data:0}),zp=pa(G1),Q1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W1(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=X1[e])?!!n[e]:!1}function nd(){return W1}var Z1=b({},Ql,{key:function(e){if(e.key){var n=Q1[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=No(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?K1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nd,charCode:function(e){return e.type==="keypress"?No(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?No(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),J1=pa(Z1),eN=b({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fp=pa(eN),tN=b({},Ql,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nd}),aN=pa(tN),nN=b({},Jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),rN=pa(nN),sN=b({},So,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lN=pa(sN),iN=b({},Jr,{newState:0,oldState:0}),oN=pa(iN),cN=[9,13,27,32],rd=Hn&&"CompositionEvent"in window,Xl=null;Hn&&"documentMode"in document&&(Xl=document.documentMode);var uN=Hn&&"TextEvent"in window&&!Xl,Bp=Hn&&(!rd||Xl&&8<Xl&&11>=Xl),Hp=" ",Yp=!1;function Up(e,n){switch(e){case"keyup":return cN.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zs=!1;function dN(e,n){switch(e){case"compositionend":return qp(n);case"keypress":return n.which!==32?null:(Yp=!0,Hp);case"textInput":return e=n.data,e===Hp&&Yp?null:e;default:return null}}function mN(e,n){if(zs)return e==="compositionend"||!rd&&Up(e,n)?(e=Ip(),yo=Ju=br=null,zs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Bp&&n.locale!=="ko"?null:n.data;default:return null}}var fN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $p(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!fN[e.type]:n==="textarea"}function Vp(e,n,i,c){Ls?Ps?Ps.push(c):Ps=[c]:Ls=c,n=fc(n,"onChange"),0<n.length&&(i=new wo("onChange","change",null,i,c),e.push({event:i,listeners:n}))}var Wl=null,Zl=null;function pN(e){Mv(e,0)}function Co(e){var n=Da(e);if(Dp(n))return e}function Gp(e,n){if(e==="change")return n}var Qp=!1;if(Hn){var sd;if(Hn){var ld="oninput"in document;if(!ld){var Kp=document.createElement("div");Kp.setAttribute("oninput","return;"),ld=typeof Kp.oninput=="function"}sd=ld}else sd=!1;Qp=sd&&(!document.documentMode||9<document.documentMode)}function Xp(){Wl&&(Wl.detachEvent("onpropertychange",Wp),Zl=Wl=null)}function Wp(e){if(e.propertyName==="value"&&Co(Zl)){var n=[];Vp(n,Zl,e,Xu(e)),Rp(pN,n)}}function xN(e,n,i){e==="focusin"?(Xp(),Wl=n,Zl=i,Wl.attachEvent("onpropertychange",Wp)):e==="focusout"&&Xp()}function hN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Co(Zl)}function vN(e,n){if(e==="click")return Co(n)}function bN(e,n){if(e==="input"||e==="change")return Co(n)}function gN(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ma=typeof Object.is=="function"?Object.is:gN;function Jl(e,n){if(Ma(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),c=Object.keys(n);if(i.length!==c.length)return!1;for(c=0;c<i.length;c++){var f=i[c];if(!xt.call(n,f)||!Ma(e[f],n[f]))return!1}return!0}function Zp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jp(e,n){var i=Zp(e);e=0;for(var c;i;){if(i.nodeType===3){if(c=e+i.textContent.length,e<=n&&c>=n)return{node:i,offset:n-e};e=c}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Zp(i)}}function ex(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ex(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function tx(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=bo(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=bo(e.document)}return n}function id(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var yN=Hn&&"documentMode"in document&&11>=document.documentMode,Fs=null,od=null,ei=null,cd=!1;function ax(e,n,i){var c=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;cd||Fs==null||Fs!==bo(c)||(c=Fs,"selectionStart"in c&&id(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ei&&Jl(ei,c)||(ei=c,c=fc(od,"onSelect"),0<c.length&&(n=new wo("onSelect","select",null,n,i),e.push({event:n,listeners:c}),n.target=Fs)))}function es(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Bs={animationend:es("Animation","AnimationEnd"),animationiteration:es("Animation","AnimationIteration"),animationstart:es("Animation","AnimationStart"),transitionrun:es("Transition","TransitionRun"),transitionstart:es("Transition","TransitionStart"),transitioncancel:es("Transition","TransitionCancel"),transitionend:es("Transition","TransitionEnd")},ud={},nx={};Hn&&(nx=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function ts(e){if(ud[e])return ud[e];if(!Bs[e])return e;var n=Bs[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in nx)return ud[e]=n[i];return e}var rx=ts("animationend"),sx=ts("animationiteration"),lx=ts("animationstart"),NN=ts("transitionrun"),jN=ts("transitionstart"),wN=ts("transitioncancel"),ix=ts("transitionend"),ox=new Map,dd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dd.push("scrollEnd");function ln(e,n){ox.set(e,n),Zr(n,[e])}var ko=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ua=[],Hs=0,md=0;function Do(){for(var e=Hs,n=md=Hs=0;n<e;){var i=Ua[n];Ua[n++]=null;var c=Ua[n];Ua[n++]=null;var f=Ua[n];Ua[n++]=null;var h=Ua[n];if(Ua[n++]=null,c!==null&&f!==null){var k=c.pending;k===null?f.next=f:(f.next=k.next,k.next=f),c.pending=f}h!==0&&cx(i,f,h)}}function Mo(e,n,i,c){Ua[Hs++]=e,Ua[Hs++]=n,Ua[Hs++]=i,Ua[Hs++]=c,md|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function fd(e,n,i,c){return Mo(e,n,i,c),Ao(e)}function as(e,n){return Mo(e,null,null,n),Ao(e)}function cx(e,n,i){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i);for(var f=!1,h=e.return;h!==null;)h.childLanes|=i,c=h.alternate,c!==null&&(c.childLanes|=i),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(f=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,f&&n!==null&&(f=31-He(i),e=h.hiddenUpdates,c=e[f],c===null?e[f]=[n]:c.push(n),n.lane=i|536870912),h):null}function Ao(e){if(50<ji)throw ji=0,jm=null,Error(t(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ys={};function SN(e,n,i,c){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Aa(e,n,i,c){return new SN(e,n,i,c)}function pd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yn(e,n){var i=e.alternate;return i===null?(i=Aa(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function ux(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function To(e,n,i,c,f,h){var k=0;if(c=e,typeof e=="function")pd(e)&&(k=1);else if(typeof e=="string")k=Aj(e,i,de.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case F:return e=Aa(31,i,n,f),e.elementType=F,e.lanes=h,e;case S:return ns(i.children,f,h,n);case g:k=8,f|=24;break;case N:return e=Aa(12,i,n,f|2),e.elementType=N,e.lanes=h,e;case _:return e=Aa(13,i,n,f),e.elementType=_,e.lanes=h,e;case H:return e=Aa(19,i,n,f),e.elementType=H,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case y:k=10;break e;case D:k=9;break e;case E:k=11;break e;case $:k=14;break e;case O:k=16,c=null;break e}k=29,i=Error(t(130,e===null?"null":typeof e,"")),c=null}return n=Aa(k,i,n,f),n.elementType=e,n.type=c,n.lanes=h,n}function ns(e,n,i,c){return e=Aa(7,e,c,n),e.lanes=i,e}function xd(e,n,i){return e=Aa(6,e,null,n),e.lanes=i,e}function dx(e){var n=Aa(18,null,null,0);return n.stateNode=e,n}function hd(e,n,i){return n=Aa(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var mx=new WeakMap;function qa(e,n){if(typeof e=="object"&&e!==null){var i=mx.get(e);return i!==void 0?i:(n={value:e,source:n,stack:Ba(n)},mx.set(e,n),n)}return{value:e,source:n,stack:Ba(n)}}var Us=[],qs=0,Eo=null,ti=0,$a=[],Va=0,gr=null,yn=1,Nn="";function Un(e,n){Us[qs++]=ti,Us[qs++]=Eo,Eo=e,ti=n}function fx(e,n,i){$a[Va++]=yn,$a[Va++]=Nn,$a[Va++]=gr,gr=e;var c=yn;e=Nn;var f=32-He(c)-1;c&=~(1<<f),i+=1;var h=32-He(n)+f;if(30<h){var k=f-f%5;h=(c&(1<<k)-1).toString(32),c>>=k,f-=k,yn=1<<32-He(n)+f|i<<f|c,Nn=h+e}else yn=1<<h|i<<f|c,Nn=e}function vd(e){e.return!==null&&(Un(e,1),fx(e,1,0))}function bd(e){for(;e===Eo;)Eo=Us[--qs],Us[qs]=null,ti=Us[--qs],Us[qs]=null;for(;e===gr;)gr=$a[--Va],$a[Va]=null,Nn=$a[--Va],$a[Va]=null,yn=$a[--Va],$a[Va]=null}function px(e,n){$a[Va++]=yn,$a[Va++]=Nn,$a[Va++]=gr,yn=n.id,Nn=n.overflow,gr=e}var Kt=null,ht=null,Xe=!1,yr=null,Ga=!1,gd=Error(t(519));function Nr(e){var n=Error(t(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ai(qa(n,e)),gd}function xx(e){var n=e.stateNode,i=e.type,c=e.memoizedProps;switch(n[Ht]=e,n[ta]=c,i){case"dialog":Ue("cancel",n),Ue("close",n);break;case"iframe":case"object":case"embed":Ue("load",n);break;case"video":case"audio":for(i=0;i<Si.length;i++)Ue(Si[i],n);break;case"source":Ue("error",n);break;case"img":case"image":case"link":Ue("error",n),Ue("load",n);break;case"details":Ue("toggle",n);break;case"input":Ue("invalid",n),Mp(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ue("invalid",n);break;case"textarea":Ue("invalid",n),Tp(n,c.value,c.defaultValue,c.children)}i=c.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||c.suppressHydrationWarning===!0||_v(n.textContent,i)?(c.popover!=null&&(Ue("beforetoggle",n),Ue("toggle",n)),c.onScroll!=null&&Ue("scroll",n),c.onScrollEnd!=null&&Ue("scrollend",n),c.onClick!=null&&(n.onclick=Bn),n=!0):n=!1,n||Nr(e,!0)}function hx(e){for(Kt=e.return;Kt;)switch(Kt.tag){case 5:case 31:case 13:Ga=!1;return;case 27:case 3:Ga=!0;return;default:Kt=Kt.return}}function $s(e){if(e!==Kt)return!1;if(!Xe)return hx(e),Xe=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Pm(e.type,e.memoizedProps)),i=!i),i&&ht&&Nr(e),hx(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(t(317));ht=Hv(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(t(317));ht=Hv(e)}else n===27?(n=ht,Ir(e.type)?(e=Ym,Ym=null,ht=e):ht=n):ht=Kt?Ka(e.stateNode.nextSibling):null;return!0}function rs(){ht=Kt=null,Xe=!1}function yd(){var e=yr;return e!==null&&(ba===null?ba=e:ba.push.apply(ba,e),yr=null),e}function ai(e){yr===null?yr=[e]:yr.push(e)}var Nd=z(null),ss=null,qn=null;function jr(e,n,i){ue(Nd,n._currentValue),n._currentValue=i}function $n(e){e._currentValue=Nd.current,ee(Nd)}function jd(e,n,i){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===i)break;e=e.return}}function wd(e,n,i,c){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var h=f.dependencies;if(h!==null){var k=f.child;h=h.firstContext;e:for(;h!==null;){var T=h;h=f;for(var P=0;P<n.length;P++)if(T.context===n[P]){h.lanes|=i,T=h.alternate,T!==null&&(T.lanes|=i),jd(h.return,i,e),c||(k=null);break e}h=T.next}}else if(f.tag===18){if(k=f.return,k===null)throw Error(t(341));k.lanes|=i,h=k.alternate,h!==null&&(h.lanes|=i),jd(k,i,e),k=null}else k=f.child;if(k!==null)k.return=f;else for(k=f;k!==null;){if(k===e){k=null;break}if(f=k.sibling,f!==null){f.return=k.return,k=f;break}k=k.return}f=k}}function Vs(e,n,i,c){e=null;for(var f=n,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var k=f.alternate;if(k===null)throw Error(t(387));if(k=k.memoizedProps,k!==null){var T=f.type;Ma(f.pendingProps.value,k.value)||(e!==null?e.push(T):e=[T])}}else if(f===ye.current){if(k=f.alternate,k===null)throw Error(t(387));k.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Ai):e=[Ai])}f=f.return}e!==null&&wd(n,e,i,c),n.flags|=262144}function _o(e){for(e=e.firstContext;e!==null;){if(!Ma(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ls(e){ss=e,qn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Xt(e){return vx(ss,e)}function Oo(e,n){return ss===null&&ls(e),vx(e,n)}function vx(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},qn===null){if(e===null)throw Error(t(308));qn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else qn=qn.next=n;return i}var CN=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,c){e.push(c)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},kN=s.unstable_scheduleCallback,DN=s.unstable_NormalPriority,Lt={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sd(){return{controller:new CN,data:new Map,refCount:0}}function ni(e){e.refCount--,e.refCount===0&&kN(DN,function(){e.controller.abort()})}var ri=null,Cd=0,Gs=0,Qs=null;function MN(e,n){if(ri===null){var i=ri=[];Cd=0,Gs=Mm(),Qs={status:"pending",value:void 0,then:function(c){i.push(c)}}}return Cd++,n.then(bx,bx),n}function bx(){if(--Cd===0&&ri!==null){Qs!==null&&(Qs.status="fulfilled");var e=ri;ri=null,Gs=0,Qs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function AN(e,n){var i=[],c={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return e.then(function(){c.status="fulfilled",c.value=n;for(var f=0;f<i.length;f++)(0,i[f])(n)},function(f){for(c.status="rejected",c.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),c}var gx=B.S;B.S=function(e,n){av=ce(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&MN(e,n),gx!==null&&gx(e,n)};var is=z(null);function kd(){var e=is.current;return e!==null?e:ft.pooledCache}function Ro(e,n){n===null?ue(is,is.current):ue(is,n.pool)}function yx(){var e=kd();return e===null?null:{parent:Lt._currentValue,pool:e}}var Ks=Error(t(460)),Dd=Error(t(474)),Io=Error(t(542)),Lo={then:function(){}};function Nx(e){return e=e.status,e==="fulfilled"||e==="rejected"}function jx(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(Bn,Bn),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Sx(e),e;default:if(typeof n.status=="string")n.then(Bn,Bn);else{if(e=ft,e!==null&&100<e.shellSuspendCounter)throw Error(t(482));e=n,e.status="pending",e.then(function(c){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=c}},function(c){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Sx(e),e}throw cs=n,Ks}}function os(e){try{var n=e._init;return n(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(cs=i,Ks):i}}var cs=null;function wx(){if(cs===null)throw Error(t(459));var e=cs;return cs=null,e}function Sx(e){if(e===Ks||e===Io)throw Error(t(483))}var Xs=null,si=0;function Po(e){var n=si;return si+=1,Xs===null&&(Xs=[]),jx(Xs,e,n)}function li(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function zo(e,n){throw n.$$typeof===j?Error(t(525)):(e=Object.prototype.toString.call(n),Error(t(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Cx(e){function n(V,Y){if(e){var K=V.deletions;K===null?(V.deletions=[Y],V.flags|=16):K.push(Y)}}function i(V,Y){if(!e)return null;for(;Y!==null;)n(V,Y),Y=Y.sibling;return null}function c(V){for(var Y=new Map;V!==null;)V.key!==null?Y.set(V.key,V):Y.set(V.index,V),V=V.sibling;return Y}function f(V,Y){return V=Yn(V,Y),V.index=0,V.sibling=null,V}function h(V,Y,K){return V.index=K,e?(K=V.alternate,K!==null?(K=K.index,K<Y?(V.flags|=67108866,Y):K):(V.flags|=67108866,Y)):(V.flags|=1048576,Y)}function k(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function T(V,Y,K,ie){return Y===null||Y.tag!==6?(Y=xd(K,V.mode,ie),Y.return=V,Y):(Y=f(Y,K),Y.return=V,Y)}function P(V,Y,K,ie){var Ae=K.type;return Ae===S?se(V,Y,K.props.children,ie,K.key):Y!==null&&(Y.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===O&&os(Ae)===Y.type)?(Y=f(Y,K.props),li(Y,K),Y.return=V,Y):(Y=To(K.type,K.key,K.props,null,V.mode,ie),li(Y,K),Y.return=V,Y)}function X(V,Y,K,ie){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==K.containerInfo||Y.stateNode.implementation!==K.implementation?(Y=hd(K,V.mode,ie),Y.return=V,Y):(Y=f(Y,K.children||[]),Y.return=V,Y)}function se(V,Y,K,ie,Ae){return Y===null||Y.tag!==7?(Y=ns(K,V.mode,ie,Ae),Y.return=V,Y):(Y=f(Y,K),Y.return=V,Y)}function oe(V,Y,K){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=xd(""+Y,V.mode,K),Y.return=V,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case C:return K=To(Y.type,Y.key,Y.props,null,V.mode,K),li(K,Y),K.return=V,K;case M:return Y=hd(Y,V.mode,K),Y.return=V,Y;case O:return Y=os(Y),oe(V,Y,K)}if(Z(Y)||A(Y))return Y=ns(Y,V.mode,K,null),Y.return=V,Y;if(typeof Y.then=="function")return oe(V,Po(Y),K);if(Y.$$typeof===y)return oe(V,Oo(V,Y),K);zo(V,Y)}return null}function W(V,Y,K,ie){var Ae=Y!==null?Y.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Ae!==null?null:T(V,Y,""+K,ie);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case C:return K.key===Ae?P(V,Y,K,ie):null;case M:return K.key===Ae?X(V,Y,K,ie):null;case O:return K=os(K),W(V,Y,K,ie)}if(Z(K)||A(K))return Ae!==null?null:se(V,Y,K,ie,null);if(typeof K.then=="function")return W(V,Y,Po(K),ie);if(K.$$typeof===y)return W(V,Y,Oo(V,K),ie);zo(V,K)}return null}function ae(V,Y,K,ie,Ae){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return V=V.get(K)||null,T(Y,V,""+ie,Ae);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case C:return V=V.get(ie.key===null?K:ie.key)||null,P(Y,V,ie,Ae);case M:return V=V.get(ie.key===null?K:ie.key)||null,X(Y,V,ie,Ae);case O:return ie=os(ie),ae(V,Y,K,ie,Ae)}if(Z(ie)||A(ie))return V=V.get(K)||null,se(Y,V,ie,Ae,null);if(typeof ie.then=="function")return ae(V,Y,K,Po(ie),Ae);if(ie.$$typeof===y)return ae(V,Y,K,Oo(Y,ie),Ae);zo(Y,ie)}return null}function Ce(V,Y,K,ie){for(var Ae=null,Je=null,De=Y,Pe=Y=0,Qe=null;De!==null&&Pe<K.length;Pe++){De.index>Pe?(Qe=De,De=null):Qe=De.sibling;var et=W(V,De,K[Pe],ie);if(et===null){De===null&&(De=Qe);break}e&&De&&et.alternate===null&&n(V,De),Y=h(et,Y,Pe),Je===null?Ae=et:Je.sibling=et,Je=et,De=Qe}if(Pe===K.length)return i(V,De),Xe&&Un(V,Pe),Ae;if(De===null){for(;Pe<K.length;Pe++)De=oe(V,K[Pe],ie),De!==null&&(Y=h(De,Y,Pe),Je===null?Ae=De:Je.sibling=De,Je=De);return Xe&&Un(V,Pe),Ae}for(De=c(De);Pe<K.length;Pe++)Qe=ae(De,V,Pe,K[Pe],ie),Qe!==null&&(e&&Qe.alternate!==null&&De.delete(Qe.key===null?Pe:Qe.key),Y=h(Qe,Y,Pe),Je===null?Ae=Qe:Je.sibling=Qe,Je=Qe);return e&&De.forEach(function(Br){return n(V,Br)}),Xe&&Un(V,Pe),Ae}function Ee(V,Y,K,ie){if(K==null)throw Error(t(151));for(var Ae=null,Je=null,De=Y,Pe=Y=0,Qe=null,et=K.next();De!==null&&!et.done;Pe++,et=K.next()){De.index>Pe?(Qe=De,De=null):Qe=De.sibling;var Br=W(V,De,et.value,ie);if(Br===null){De===null&&(De=Qe);break}e&&De&&Br.alternate===null&&n(V,De),Y=h(Br,Y,Pe),Je===null?Ae=Br:Je.sibling=Br,Je=Br,De=Qe}if(et.done)return i(V,De),Xe&&Un(V,Pe),Ae;if(De===null){for(;!et.done;Pe++,et=K.next())et=oe(V,et.value,ie),et!==null&&(Y=h(et,Y,Pe),Je===null?Ae=et:Je.sibling=et,Je=et);return Xe&&Un(V,Pe),Ae}for(De=c(De);!et.done;Pe++,et=K.next())et=ae(De,V,Pe,et.value,ie),et!==null&&(e&&et.alternate!==null&&De.delete(et.key===null?Pe:et.key),Y=h(et,Y,Pe),Je===null?Ae=et:Je.sibling=et,Je=et);return e&&De.forEach(function(Bj){return n(V,Bj)}),Xe&&Un(V,Pe),Ae}function mt(V,Y,K,ie){if(typeof K=="object"&&K!==null&&K.type===S&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case C:e:{for(var Ae=K.key;Y!==null;){if(Y.key===Ae){if(Ae=K.type,Ae===S){if(Y.tag===7){i(V,Y.sibling),ie=f(Y,K.props.children),ie.return=V,V=ie;break e}}else if(Y.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===O&&os(Ae)===Y.type){i(V,Y.sibling),ie=f(Y,K.props),li(ie,K),ie.return=V,V=ie;break e}i(V,Y);break}else n(V,Y);Y=Y.sibling}K.type===S?(ie=ns(K.props.children,V.mode,ie,K.key),ie.return=V,V=ie):(ie=To(K.type,K.key,K.props,null,V.mode,ie),li(ie,K),ie.return=V,V=ie)}return k(V);case M:e:{for(Ae=K.key;Y!==null;){if(Y.key===Ae)if(Y.tag===4&&Y.stateNode.containerInfo===K.containerInfo&&Y.stateNode.implementation===K.implementation){i(V,Y.sibling),ie=f(Y,K.children||[]),ie.return=V,V=ie;break e}else{i(V,Y);break}else n(V,Y);Y=Y.sibling}ie=hd(K,V.mode,ie),ie.return=V,V=ie}return k(V);case O:return K=os(K),mt(V,Y,K,ie)}if(Z(K))return Ce(V,Y,K,ie);if(A(K)){if(Ae=A(K),typeof Ae!="function")throw Error(t(150));return K=Ae.call(K),Ee(V,Y,K,ie)}if(typeof K.then=="function")return mt(V,Y,Po(K),ie);if(K.$$typeof===y)return mt(V,Y,Oo(V,K),ie);zo(V,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,Y!==null&&Y.tag===6?(i(V,Y.sibling),ie=f(Y,K),ie.return=V,V=ie):(i(V,Y),ie=xd(K,V.mode,ie),ie.return=V,V=ie),k(V)):i(V,Y)}return function(V,Y,K,ie){try{si=0;var Ae=mt(V,Y,K,ie);return Xs=null,Ae}catch(De){if(De===Ks||De===Io)throw De;var Je=Aa(29,De,null,V.mode);return Je.lanes=ie,Je.return=V,Je}}}var us=Cx(!0),kx=Cx(!1),wr=!1;function Md(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ad(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Sr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Cr(e,n,i){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(tt&2)!==0){var f=c.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),c.pending=n,n=Ao(e),cx(e,null,i),n}return Mo(e,c,n,i),Ao(e)}function ii(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var c=n.lanes;c&=e.pendingLanes,i|=c,n.lanes=i,uo(e,i)}}function Td(e,n){var i=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,i===c)){var f=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var k={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?f=h=k:h=h.next=k,i=i.next}while(i!==null);h===null?f=h=n:h=h.next=n}else f=h=n;i={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:c.shared,callbacks:c.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var Ed=!1;function oi(){if(Ed){var e=Qs;if(e!==null)throw e}}function ci(e,n,i,c){Ed=!1;var f=e.updateQueue;wr=!1;var h=f.firstBaseUpdate,k=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var P=T,X=P.next;P.next=null,k===null?h=X:k.next=X,k=P;var se=e.alternate;se!==null&&(se=se.updateQueue,T=se.lastBaseUpdate,T!==k&&(T===null?se.firstBaseUpdate=X:T.next=X,se.lastBaseUpdate=P))}if(h!==null){var oe=f.baseState;k=0,se=X=P=null,T=h;do{var W=T.lane&-536870913,ae=W!==T.lane;if(ae?(Ge&W)===W:(c&W)===W){W!==0&&W===Gs&&(Ed=!0),se!==null&&(se=se.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ce=e,Ee=T;W=n;var mt=i;switch(Ee.tag){case 1:if(Ce=Ee.payload,typeof Ce=="function"){oe=Ce.call(mt,oe,W);break e}oe=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Ee.payload,W=typeof Ce=="function"?Ce.call(mt,oe,W):Ce,W==null)break e;oe=b({},oe,W);break e;case 2:wr=!0}}W=T.callback,W!==null&&(e.flags|=64,ae&&(e.flags|=8192),ae=f.callbacks,ae===null?f.callbacks=[W]:ae.push(W))}else ae={lane:W,tag:T.tag,payload:T.payload,callback:T.callback,next:null},se===null?(X=se=ae,P=oe):se=se.next=ae,k|=W;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;ae=T,T=ae.next,ae.next=null,f.lastBaseUpdate=ae,f.shared.pending=null}}while(!0);se===null&&(P=oe),f.baseState=P,f.firstBaseUpdate=X,f.lastBaseUpdate=se,h===null&&(f.shared.lanes=0),Tr|=k,e.lanes=k,e.memoizedState=oe}}function Dx(e,n){if(typeof e!="function")throw Error(t(191,e));e.call(n)}function Mx(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Dx(i[e],n)}var Ws=z(null),Fo=z(0);function Ax(e,n){e=er,ue(Fo,e),ue(Ws,n),er=e|n.baseLanes}function _d(){ue(Fo,er),ue(Ws,Ws.current)}function Od(){er=Fo.current,ee(Ws),ee(Fo)}var Ta=z(null),Qa=null;function kr(e){var n=e.alternate;ue(Tt,Tt.current&1),ue(Ta,e),Qa===null&&(n===null||Ws.current!==null||n.memoizedState!==null)&&(Qa=e)}function Rd(e){ue(Tt,Tt.current),ue(Ta,e),Qa===null&&(Qa=e)}function Tx(e){e.tag===22?(ue(Tt,Tt.current),ue(Ta,e),Qa===null&&(Qa=e)):Dr()}function Dr(){ue(Tt,Tt.current),ue(Ta,Ta.current)}function Ea(e){ee(Ta),Qa===e&&(Qa=null),ee(Tt)}var Tt=z(0);function Bo(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Bm(i)||Hm(i)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Vn=0,Le=null,ut=null,Pt=null,Ho=!1,Zs=!1,ds=!1,Yo=0,ui=0,Js=null,TN=0;function Dt(){throw Error(t(321))}function Id(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!Ma(e[i],n[i]))return!1;return!0}function Ld(e,n,i,c,f,h){return Vn=h,Le=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,B.H=e===null||e.memoizedState===null?fh:Wd,ds=!1,h=i(c,f),ds=!1,Zs&&(h=_x(n,i,c,f)),Ex(e),h}function Ex(e){B.H=fi;var n=ut!==null&&ut.next!==null;if(Vn=0,Pt=ut=Le=null,Ho=!1,ui=0,Js=null,n)throw Error(t(300));e===null||zt||(e=e.dependencies,e!==null&&_o(e)&&(zt=!0))}function _x(e,n,i,c){Le=e;var f=0;do{if(Zs&&(Js=null),ui=0,Zs=!1,25<=f)throw Error(t(301));if(f+=1,Pt=ut=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}B.H=ph,h=n(i,c)}while(Zs);return h}function EN(){var e=B.H,n=e.useState()[0];return n=typeof n.then=="function"?di(n):n,e=e.useState()[0],(ut!==null?ut.memoizedState:null)!==e&&(Le.flags|=1024),n}function Pd(){var e=Yo!==0;return Yo=0,e}function zd(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function Fd(e){if(Ho){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ho=!1}Vn=0,Pt=ut=Le=null,Zs=!1,ui=Yo=0,Js=null}function oa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Le.memoizedState=Pt=e:Pt=Pt.next=e,Pt}function Et(){if(ut===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=ut.next;var n=Pt===null?Le.memoizedState:Pt.next;if(n!==null)Pt=n,ut=e;else{if(e===null)throw Le.alternate===null?Error(t(467)):Error(t(310));ut=e,e={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Pt===null?Le.memoizedState=Pt=e:Pt=Pt.next=e}return Pt}function Uo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function di(e){var n=ui;return ui+=1,Js===null&&(Js=[]),e=jx(Js,e,n),n=Le,(Pt===null?n.memoizedState:Pt.next)===null&&(n=n.alternate,B.H=n===null||n.memoizedState===null?fh:Wd),e}function qo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return di(e);if(e.$$typeof===y)return Xt(e)}throw Error(t(438,String(e)))}function Bd(e){var n=null,i=Le.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var c=Le.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=Uo(),Le.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),c=0;c<e;c++)i[c]=I;return n.index++,i}function Gn(e,n){return typeof n=="function"?n(e):n}function $o(e){var n=Et();return Hd(n,ut,e)}function Hd(e,n,i){var c=e.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=i;var f=e.baseQueue,h=c.pending;if(h!==null){if(f!==null){var k=f.next;f.next=h.next,h.next=k}n.baseQueue=f=h,c.pending=null}if(h=e.baseState,f===null)e.memoizedState=h;else{n=f.next;var T=k=null,P=null,X=n,se=!1;do{var oe=X.lane&-536870913;if(oe!==X.lane?(Ge&oe)===oe:(Vn&oe)===oe){var W=X.revertLane;if(W===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),oe===Gs&&(se=!0);else if((Vn&W)===W){X=X.next,W===Gs&&(se=!0);continue}else oe={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},P===null?(T=P=oe,k=h):P=P.next=oe,Le.lanes|=W,Tr|=W;oe=X.action,ds&&i(h,oe),h=X.hasEagerState?X.eagerState:i(h,oe)}else W={lane:oe,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},P===null?(T=P=W,k=h):P=P.next=W,Le.lanes|=oe,Tr|=oe;X=X.next}while(X!==null&&X!==n);if(P===null?k=h:P.next=T,!Ma(h,e.memoizedState)&&(zt=!0,se&&(i=Qs,i!==null)))throw i;e.memoizedState=h,e.baseState=k,e.baseQueue=P,c.lastRenderedState=h}return f===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Yd(e){var n=Et(),i=n.queue;if(i===null)throw Error(t(311));i.lastRenderedReducer=e;var c=i.dispatch,f=i.pending,h=n.memoizedState;if(f!==null){i.pending=null;var k=f=f.next;do h=e(h,k.action),k=k.next;while(k!==f);Ma(h,n.memoizedState)||(zt=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),i.lastRenderedState=h}return[h,c]}function Ox(e,n,i){var c=Le,f=Et(),h=Xe;if(h){if(i===void 0)throw Error(t(407));i=i()}else i=n();var k=!Ma((ut||f).memoizedState,i);if(k&&(f.memoizedState=i,zt=!0),f=f.queue,$d(Lx.bind(null,c,f,e),[e]),f.getSnapshot!==n||k||Pt!==null&&Pt.memoizedState.tag&1){if(c.flags|=2048,el(9,{destroy:void 0},Ix.bind(null,c,f,i,n),null),ft===null)throw Error(t(349));h||(Vn&127)!==0||Rx(c,n,i)}return i}function Rx(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=Le.updateQueue,n===null?(n=Uo(),Le.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function Ix(e,n,i,c){n.value=i,n.getSnapshot=c,Px(n)&&zx(e)}function Lx(e,n,i){return i(function(){Px(n)&&zx(e)})}function Px(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!Ma(e,i)}catch{return!0}}function zx(e){var n=as(e,2);n!==null&&ga(n,e,2)}function Ud(e){var n=oa();if(typeof e=="function"){var i=e;if(e=i(),ds){Be(!0);try{i()}finally{Be(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:e},n}function Fx(e,n,i,c){return e.baseState=i,Hd(e,ut,typeof c=="function"?c:Gn)}function _N(e,n,i,c,f){if(Qo(e))throw Error(t(485));if(e=n.action,e!==null){var h={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){h.listeners.push(k)}};B.T!==null?i(!0):h.isTransition=!1,c(h),i=n.pending,i===null?(h.next=n.pending=h,Bx(n,h)):(h.next=i.next,n.pending=i.next=h)}}function Bx(e,n){var i=n.action,c=n.payload,f=e.state;if(n.isTransition){var h=B.T,k={};B.T=k;try{var T=i(f,c),P=B.S;P!==null&&P(k,T),Hx(e,n,T)}catch(X){qd(e,n,X)}finally{h!==null&&k.types!==null&&(h.types=k.types),B.T=h}}else try{h=i(f,c),Hx(e,n,h)}catch(X){qd(e,n,X)}}function Hx(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(c){Yx(e,n,c)},function(c){return qd(e,n,c)}):Yx(e,n,i)}function Yx(e,n,i){n.status="fulfilled",n.value=i,Ux(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,Bx(e,i)))}function qd(e,n,i){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=i,Ux(n),n=n.next;while(n!==c)}e.action=null}function Ux(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function qx(e,n){return n}function $x(e,n){if(Xe){var i=ft.formState;if(i!==null){e:{var c=Le;if(Xe){if(ht){t:{for(var f=ht,h=Ga;f.nodeType!==8;){if(!h){f=null;break t}if(f=Ka(f.nextSibling),f===null){f=null;break t}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){ht=Ka(f.nextSibling),c=f.data==="F!";break e}}Nr(c)}c=!1}c&&(n=i[0])}}return i=oa(),i.memoizedState=i.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qx,lastRenderedState:n},i.queue=c,i=uh.bind(null,Le,c),c.dispatch=i,c=Ud(!1),h=Xd.bind(null,Le,!1,c.queue),c=oa(),f={state:n,dispatch:null,action:e,pending:null},c.queue=f,i=_N.bind(null,Le,f,h,i),f.dispatch=i,c.memoizedState=e,[n,i,!1]}function Vx(e){var n=Et();return Gx(n,ut,e)}function Gx(e,n,i){if(n=Hd(e,n,qx)[0],e=$o(Gn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var c=di(n)}catch(k){throw k===Ks?Io:k}else c=n;n=Et();var f=n.queue,h=f.dispatch;return i!==n.memoizedState&&(Le.flags|=2048,el(9,{destroy:void 0},ON.bind(null,f,i),null)),[c,h,e]}function ON(e,n){e.action=n}function Qx(e){var n=Et(),i=ut;if(i!==null)return Gx(n,i,e);Et(),n=n.memoizedState,i=Et();var c=i.queue.dispatch;return i.memoizedState=e,[n,c,!1]}function el(e,n,i,c){return e={tag:e,create:i,deps:c,inst:n,next:null},n=Le.updateQueue,n===null&&(n=Uo(),Le.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(c=i.next,i.next=e,e.next=c,n.lastEffect=e),e}function Kx(){return Et().memoizedState}function Vo(e,n,i,c){var f=oa();Le.flags|=e,f.memoizedState=el(1|n,{destroy:void 0},i,c===void 0?null:c)}function Go(e,n,i,c){var f=Et();c=c===void 0?null:c;var h=f.memoizedState.inst;ut!==null&&c!==null&&Id(c,ut.memoizedState.deps)?f.memoizedState=el(n,h,i,c):(Le.flags|=e,f.memoizedState=el(1|n,h,i,c))}function Xx(e,n){Vo(8390656,8,e,n)}function $d(e,n){Go(2048,8,e,n)}function RN(e){Le.flags|=4;var n=Le.updateQueue;if(n===null)n=Uo(),Le.updateQueue=n,n.events=[e];else{var i=n.events;i===null?n.events=[e]:i.push(e)}}function Wx(e){var n=Et().memoizedState;return RN({ref:n,nextImpl:e}),function(){if((tt&2)!==0)throw Error(t(440));return n.impl.apply(void 0,arguments)}}function Zx(e,n){return Go(4,2,e,n)}function Jx(e,n){return Go(4,4,e,n)}function eh(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function th(e,n,i){i=i!=null?i.concat([e]):null,Go(4,4,eh.bind(null,n,e),i)}function Vd(){}function ah(e,n){var i=Et();n=n===void 0?null:n;var c=i.memoizedState;return n!==null&&Id(n,c[1])?c[0]:(i.memoizedState=[e,n],e)}function nh(e,n){var i=Et();n=n===void 0?null:n;var c=i.memoizedState;if(n!==null&&Id(n,c[1]))return c[0];if(c=e(),ds){Be(!0);try{e()}finally{Be(!1)}}return i.memoizedState=[c,n],c}function Gd(e,n,i){return i===void 0||(Vn&1073741824)!==0&&(Ge&261930)===0?e.memoizedState=n:(e.memoizedState=i,e=rv(),Le.lanes|=e,Tr|=e,i)}function rh(e,n,i,c){return Ma(i,n)?i:Ws.current!==null?(e=Gd(e,i,c),Ma(e,n)||(zt=!0),e):(Vn&42)===0||(Vn&1073741824)!==0&&(Ge&261930)===0?(zt=!0,e.memoizedState=i):(e=rv(),Le.lanes|=e,Tr|=e,n)}function sh(e,n,i,c,f){var h=R.p;R.p=h!==0&&8>h?h:8;var k=B.T,T={};B.T=T,Xd(e,!1,n,i);try{var P=f(),X=B.S;if(X!==null&&X(T,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var se=AN(P,c);mi(e,n,se,Ra(e))}else mi(e,n,c,Ra(e))}catch(oe){mi(e,n,{then:function(){},status:"rejected",reason:oe},Ra())}finally{R.p=h,k!==null&&T.types!==null&&(k.types=T.types),B.T=k}}function IN(){}function Qd(e,n,i,c){if(e.tag!==5)throw Error(t(476));var f=lh(e).queue;sh(e,f,n,L,i===null?IN:function(){return ih(e),i(c)})}function lh(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:L},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function ih(e){var n=lh(e);n.next===null&&(n=e.alternate.memoizedState),mi(e,n.next.queue,{},Ra())}function Kd(){return Xt(Ai)}function oh(){return Et().memoizedState}function ch(){return Et().memoizedState}function LN(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=Ra();e=Sr(i);var c=Cr(n,e,i);c!==null&&(ga(c,n,i),ii(c,n,i)),n={cache:Sd()},e.payload=n;return}n=n.return}}function PN(e,n,i){var c=Ra();i={lane:c,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Qo(e)?dh(n,i):(i=fd(e,n,i,c),i!==null&&(ga(i,e,c),mh(i,n,c)))}function uh(e,n,i){var c=Ra();mi(e,n,i,c)}function mi(e,n,i,c){var f={lane:c,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))dh(n,f);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var k=n.lastRenderedState,T=h(k,i);if(f.hasEagerState=!0,f.eagerState=T,Ma(T,k))return Mo(e,n,f,0),ft===null&&Do(),!1}catch{}if(i=fd(e,n,f,c),i!==null)return ga(i,e,c),mh(i,n,c),!0}return!1}function Xd(e,n,i,c){if(c={lane:2,revertLane:Mm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Qo(e)){if(n)throw Error(t(479))}else n=fd(e,i,c,2),n!==null&&ga(n,e,2)}function Qo(e){var n=e.alternate;return e===Le||n!==null&&n===Le}function dh(e,n){Zs=Ho=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function mh(e,n,i){if((i&4194048)!==0){var c=n.lanes;c&=e.pendingLanes,i|=c,n.lanes=i,uo(e,i)}}var fi={readContext:Xt,use:qo,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt};fi.useEffectEvent=Dt;var fh={readContext:Xt,use:qo,useCallback:function(e,n){return oa().memoizedState=[e,n===void 0?null:n],e},useContext:Xt,useEffect:Xx,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,Vo(4194308,4,eh.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Vo(4194308,4,e,n)},useInsertionEffect:function(e,n){Vo(4,2,e,n)},useMemo:function(e,n){var i=oa();n=n===void 0?null:n;var c=e();if(ds){Be(!0);try{e()}finally{Be(!1)}}return i.memoizedState=[c,n],c},useReducer:function(e,n,i){var c=oa();if(i!==void 0){var f=i(n);if(ds){Be(!0);try{i(n)}finally{Be(!1)}}}else f=n;return c.memoizedState=c.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},c.queue=e,e=e.dispatch=PN.bind(null,Le,e),[c.memoizedState,e]},useRef:function(e){var n=oa();return e={current:e},n.memoizedState=e},useState:function(e){e=Ud(e);var n=e.queue,i=uh.bind(null,Le,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:Vd,useDeferredValue:function(e,n){var i=oa();return Gd(i,e,n)},useTransition:function(){var e=Ud(!1);return e=sh.bind(null,Le,e.queue,!0,!1),oa().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var c=Le,f=oa();if(Xe){if(i===void 0)throw Error(t(407));i=i()}else{if(i=n(),ft===null)throw Error(t(349));(Ge&127)!==0||Rx(c,n,i)}f.memoizedState=i;var h={value:i,getSnapshot:n};return f.queue=h,Xx(Lx.bind(null,c,h,e),[e]),c.flags|=2048,el(9,{destroy:void 0},Ix.bind(null,c,h,i,n),null),i},useId:function(){var e=oa(),n=ft.identifierPrefix;if(Xe){var i=Nn,c=yn;i=(c&~(1<<32-He(c)-1)).toString(32)+i,n="_"+n+"R_"+i,i=Yo++,0<i&&(n+="H"+i.toString(32)),n+="_"}else i=TN++,n="_"+n+"r_"+i.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Kd,useFormState:$x,useActionState:$x,useOptimistic:function(e){var n=oa();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=Xd.bind(null,Le,!0,i),i.dispatch=n,[e,n]},useMemoCache:Bd,useCacheRefresh:function(){return oa().memoizedState=LN.bind(null,Le)},useEffectEvent:function(e){var n=oa(),i={impl:e};return n.memoizedState=i,function(){if((tt&2)!==0)throw Error(t(440));return i.impl.apply(void 0,arguments)}}},Wd={readContext:Xt,use:qo,useCallback:ah,useContext:Xt,useEffect:$d,useImperativeHandle:th,useInsertionEffect:Zx,useLayoutEffect:Jx,useMemo:nh,useReducer:$o,useRef:Kx,useState:function(){return $o(Gn)},useDebugValue:Vd,useDeferredValue:function(e,n){var i=Et();return rh(i,ut.memoizedState,e,n)},useTransition:function(){var e=$o(Gn)[0],n=Et().memoizedState;return[typeof e=="boolean"?e:di(e),n]},useSyncExternalStore:Ox,useId:oh,useHostTransitionStatus:Kd,useFormState:Vx,useActionState:Vx,useOptimistic:function(e,n){var i=Et();return Fx(i,ut,e,n)},useMemoCache:Bd,useCacheRefresh:ch};Wd.useEffectEvent=Wx;var ph={readContext:Xt,use:qo,useCallback:ah,useContext:Xt,useEffect:$d,useImperativeHandle:th,useInsertionEffect:Zx,useLayoutEffect:Jx,useMemo:nh,useReducer:Yd,useRef:Kx,useState:function(){return Yd(Gn)},useDebugValue:Vd,useDeferredValue:function(e,n){var i=Et();return ut===null?Gd(i,e,n):rh(i,ut.memoizedState,e,n)},useTransition:function(){var e=Yd(Gn)[0],n=Et().memoizedState;return[typeof e=="boolean"?e:di(e),n]},useSyncExternalStore:Ox,useId:oh,useHostTransitionStatus:Kd,useFormState:Qx,useActionState:Qx,useOptimistic:function(e,n){var i=Et();return ut!==null?Fx(i,ut,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Bd,useCacheRefresh:ch};ph.useEffectEvent=Wx;function Zd(e,n,i,c){n=e.memoizedState,i=i(c,n),i=i==null?n:b({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Jd={enqueueSetState:function(e,n,i){e=e._reactInternals;var c=Ra(),f=Sr(c);f.payload=n,i!=null&&(f.callback=i),n=Cr(e,f,c),n!==null&&(ga(n,e,c),ii(n,e,c))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var c=Ra(),f=Sr(c);f.tag=1,f.payload=n,i!=null&&(f.callback=i),n=Cr(e,f,c),n!==null&&(ga(n,e,c),ii(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Ra(),c=Sr(i);c.tag=2,n!=null&&(c.callback=n),n=Cr(e,c,i),n!==null&&(ga(n,e,i),ii(n,e,i))}};function xh(e,n,i,c,f,h,k){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,h,k):n.prototype&&n.prototype.isPureReactComponent?!Jl(i,c)||!Jl(f,h):!0}function hh(e,n,i,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,c),n.state!==e&&Jd.enqueueReplaceState(n,n.state,null)}function ms(e,n){var i=n;if("ref"in n){i={};for(var c in n)c!=="ref"&&(i[c]=n[c])}if(e=e.defaultProps){i===n&&(i=b({},i));for(var f in e)i[f]===void 0&&(i[f]=e[f])}return i}function vh(e){ko(e)}function bh(e){console.error(e)}function gh(e){ko(e)}function Ko(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function yh(e,n,i){try{var c=e.onCaughtError;c(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function em(e,n,i){return i=Sr(i),i.tag=3,i.payload={element:null},i.callback=function(){Ko(e,n)},i}function Nh(e){return e=Sr(e),e.tag=3,e}function jh(e,n,i,c){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var h=c.value;e.payload=function(){return f(h)},e.callback=function(){yh(n,i,c)}}var k=i.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(e.callback=function(){yh(n,i,c),typeof f!="function"&&(Er===null?Er=new Set([this]):Er.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})})}function zN(e,n,i,c,f){if(i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=i.alternate,n!==null&&Vs(n,i,f,!0),i=Ta.current,i!==null){switch(i.tag){case 31:case 13:return Qa===null?ic():i.alternate===null&&Mt===0&&(Mt=3),i.flags&=-257,i.flags|=65536,i.lanes=f,c===Lo?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([c]):n.add(c),Cm(e,c,f)),!1;case 22:return i.flags|=65536,c===Lo?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([c]):i.add(c)),Cm(e,c,f)),!1}throw Error(t(435,i.tag))}return Cm(e,c,f),ic(),!1}if(Xe)return n=Ta.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,c!==gd&&(e=Error(t(422),{cause:c}),ai(qa(e,i)))):(c!==gd&&(n=Error(t(423),{cause:c}),ai(qa(n,i))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,c=qa(c,i),f=em(e.stateNode,c,f),Td(e,f),Mt!==4&&(Mt=2)),!1;var h=Error(t(520),{cause:c});if(h=qa(h,i),Ni===null?Ni=[h]:Ni.push(h),Mt!==4&&(Mt=2),n===null)return!0;c=qa(c,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=f&-f,i.lanes|=e,e=em(i.stateNode,c,e),Td(i,e),!1;case 1:if(n=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Er===null||!Er.has(h))))return i.flags|=65536,f&=-f,i.lanes|=f,f=Nh(f),jh(f,e,i,c),Td(i,f),!1}i=i.return}while(i!==null);return!1}var tm=Error(t(461)),zt=!1;function Wt(e,n,i,c){n.child=e===null?kx(n,null,i,c):us(n,e.child,i,c)}function wh(e,n,i,c,f){i=i.render;var h=n.ref;if("ref"in c){var k={};for(var T in c)T!=="ref"&&(k[T]=c[T])}else k=c;return ls(n),c=Ld(e,n,i,k,h,f),T=Pd(),e!==null&&!zt?(zd(e,n,f),Qn(e,n,f)):(Xe&&T&&vd(n),n.flags|=1,Wt(e,n,c,f),n.child)}function Sh(e,n,i,c,f){if(e===null){var h=i.type;return typeof h=="function"&&!pd(h)&&h.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=h,Ch(e,n,h,c,f)):(e=To(i.type,null,c,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!cm(e,f)){var k=h.memoizedProps;if(i=i.compare,i=i!==null?i:Jl,i(k,c)&&e.ref===n.ref)return Qn(e,n,f)}return n.flags|=1,e=Yn(h,c),e.ref=n.ref,e.return=n,n.child=e}function Ch(e,n,i,c,f){if(e!==null){var h=e.memoizedProps;if(Jl(h,c)&&e.ref===n.ref)if(zt=!1,n.pendingProps=c=h,cm(e,f))(e.flags&131072)!==0&&(zt=!0);else return n.lanes=e.lanes,Qn(e,n,f)}return am(e,n,i,c,f)}function kh(e,n,i,c){var f=c.children,h=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|i:i,e!==null){for(c=n.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~h}else c=0,n.child=null;return Dh(e,n,h,i,c)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ro(n,h!==null?h.cachePool:null),h!==null?Ax(n,h):_d(),Tx(n);else return c=n.lanes=536870912,Dh(e,n,h!==null?h.baseLanes|i:i,i,c)}else h!==null?(Ro(n,h.cachePool),Ax(n,h),Dr(),n.memoizedState=null):(e!==null&&Ro(n,null),_d(),Dr());return Wt(e,n,f,i),n.child}function pi(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Dh(e,n,i,c,f){var h=kd();return h=h===null?null:{parent:Lt._currentValue,pool:h},n.memoizedState={baseLanes:i,cachePool:h},e!==null&&Ro(n,null),_d(),Tx(n),e!==null&&Vs(e,n,c,!0),n.childLanes=f,null}function Xo(e,n){return n=Zo({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Mh(e,n,i){return us(n,e.child,null,i),e=Xo(n,n.pendingProps),e.flags|=2,Ea(n),n.memoizedState=null,e}function FN(e,n,i){var c=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Xe){if(c.mode==="hidden")return e=Xo(n,c),n.lanes=536870912,pi(null,e);if(Rd(n),(e=ht)?(e=Bv(e,Ga),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gr!==null?{id:yn,overflow:Nn}:null,retryLane:536870912,hydrationErrors:null},i=dx(e),i.return=n,n.child=i,Kt=n,ht=null)):e=null,e===null)throw Nr(n);return n.lanes=536870912,null}return Xo(n,c)}var h=e.memoizedState;if(h!==null){var k=h.dehydrated;if(Rd(n),f)if(n.flags&256)n.flags&=-257,n=Mh(e,n,i);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(t(558));else if(zt||Vs(e,n,i,!1),f=(i&e.childLanes)!==0,zt||f){if(c=ft,c!==null&&(k=mo(c,i),k!==0&&k!==h.retryLane))throw h.retryLane=k,as(e,k),ga(c,e,k),tm;ic(),n=Mh(e,n,i)}else e=h.treeContext,ht=Ka(k.nextSibling),Kt=n,Xe=!0,yr=null,Ga=!1,e!==null&&px(n,e),n=Xo(n,c),n.flags|=4096;return n}return e=Yn(e.child,{mode:c.mode,children:c.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Wo(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(t(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function am(e,n,i,c,f){return ls(n),i=Ld(e,n,i,c,void 0,f),c=Pd(),e!==null&&!zt?(zd(e,n,f),Qn(e,n,f)):(Xe&&c&&vd(n),n.flags|=1,Wt(e,n,i,f),n.child)}function Ah(e,n,i,c,f,h){return ls(n),n.updateQueue=null,i=_x(n,c,i,f),Ex(e),c=Pd(),e!==null&&!zt?(zd(e,n,h),Qn(e,n,h)):(Xe&&c&&vd(n),n.flags|=1,Wt(e,n,i,h),n.child)}function Th(e,n,i,c,f){if(ls(n),n.stateNode===null){var h=Ys,k=i.contextType;typeof k=="object"&&k!==null&&(h=Xt(k)),h=new i(c,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Jd,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=c,h.state=n.memoizedState,h.refs={},Md(n),k=i.contextType,h.context=typeof k=="object"&&k!==null?Xt(k):Ys,h.state=n.memoizedState,k=i.getDerivedStateFromProps,typeof k=="function"&&(Zd(n,i,k,c),h.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(k=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),k!==h.state&&Jd.enqueueReplaceState(h,h.state,null),ci(n,c,h,f),oi(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(e===null){h=n.stateNode;var T=n.memoizedProps,P=ms(i,T);h.props=P;var X=h.context,se=i.contextType;k=Ys,typeof se=="object"&&se!==null&&(k=Xt(se));var oe=i.getDerivedStateFromProps;se=typeof oe=="function"||typeof h.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,se||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T||X!==k)&&hh(n,h,c,k),wr=!1;var W=n.memoizedState;h.state=W,ci(n,c,h,f),oi(),X=n.memoizedState,T||W!==X||wr?(typeof oe=="function"&&(Zd(n,i,oe,c),X=n.memoizedState),(P=wr||xh(n,i,P,c,W,X,k))?(se||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=X),h.props=c,h.state=X,h.context=k,c=P):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{h=n.stateNode,Ad(e,n),k=n.memoizedProps,se=ms(i,k),h.props=se,oe=n.pendingProps,W=h.context,X=i.contextType,P=Ys,typeof X=="object"&&X!==null&&(P=Xt(X)),T=i.getDerivedStateFromProps,(X=typeof T=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(k!==oe||W!==P)&&hh(n,h,c,P),wr=!1,W=n.memoizedState,h.state=W,ci(n,c,h,f),oi();var ae=n.memoizedState;k!==oe||W!==ae||wr||e!==null&&e.dependencies!==null&&_o(e.dependencies)?(typeof T=="function"&&(Zd(n,i,T,c),ae=n.memoizedState),(se=wr||xh(n,i,se,c,W,ae,P)||e!==null&&e.dependencies!==null&&_o(e.dependencies))?(X||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(c,ae,P),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(c,ae,P)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||k===e.memoizedProps&&W===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&W===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=ae),h.props=c,h.state=ae,h.context=P,c=se):(typeof h.componentDidUpdate!="function"||k===e.memoizedProps&&W===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&W===e.memoizedState||(n.flags|=1024),c=!1)}return h=c,Wo(e,n),c=(n.flags&128)!==0,h||c?(h=n.stateNode,i=c&&typeof i.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&c?(n.child=us(n,e.child,null,f),n.child=us(n,null,i,f)):Wt(e,n,i,f),n.memoizedState=h.state,e=n.child):e=Qn(e,n,f),e}function Eh(e,n,i,c){return rs(),n.flags|=256,Wt(e,n,i,c),n.child}var nm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rm(e){return{baseLanes:e,cachePool:yx()}}function sm(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=Oa),e}function _h(e,n,i){var c=n.pendingProps,f=!1,h=(n.flags&128)!==0,k;if((k=h)||(k=e!==null&&e.memoizedState===null?!1:(Tt.current&2)!==0),k&&(f=!0,n.flags&=-129),k=(n.flags&32)!==0,n.flags&=-33,e===null){if(Xe){if(f?kr(n):Dr(),(e=ht)?(e=Bv(e,Ga),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gr!==null?{id:yn,overflow:Nn}:null,retryLane:536870912,hydrationErrors:null},i=dx(e),i.return=n,n.child=i,Kt=n,ht=null)):e=null,e===null)throw Nr(n);return Hm(e)?n.lanes=32:n.lanes=536870912,null}var T=c.children;return c=c.fallback,f?(Dr(),f=n.mode,T=Zo({mode:"hidden",children:T},f),c=ns(c,f,i,null),T.return=n,c.return=n,T.sibling=c,n.child=T,c=n.child,c.memoizedState=rm(i),c.childLanes=sm(e,k,i),n.memoizedState=nm,pi(null,c)):(kr(n),lm(n,T))}var P=e.memoizedState;if(P!==null&&(T=P.dehydrated,T!==null)){if(h)n.flags&256?(kr(n),n.flags&=-257,n=im(e,n,i)):n.memoizedState!==null?(Dr(),n.child=e.child,n.flags|=128,n=null):(Dr(),T=c.fallback,f=n.mode,c=Zo({mode:"visible",children:c.children},f),T=ns(T,f,i,null),T.flags|=2,c.return=n,T.return=n,c.sibling=T,n.child=c,us(n,e.child,null,i),c=n.child,c.memoizedState=rm(i),c.childLanes=sm(e,k,i),n.memoizedState=nm,n=pi(null,c));else if(kr(n),Hm(T)){if(k=T.nextSibling&&T.nextSibling.dataset,k)var X=k.dgst;k=X,c=Error(t(419)),c.stack="",c.digest=k,ai({value:c,source:null,stack:null}),n=im(e,n,i)}else if(zt||Vs(e,n,i,!1),k=(i&e.childLanes)!==0,zt||k){if(k=ft,k!==null&&(c=mo(k,i),c!==0&&c!==P.retryLane))throw P.retryLane=c,as(e,c),ga(k,e,c),tm;Bm(T)||ic(),n=im(e,n,i)}else Bm(T)?(n.flags|=192,n.child=e.child,n=null):(e=P.treeContext,ht=Ka(T.nextSibling),Kt=n,Xe=!0,yr=null,Ga=!1,e!==null&&px(n,e),n=lm(n,c.children),n.flags|=4096);return n}return f?(Dr(),T=c.fallback,f=n.mode,P=e.child,X=P.sibling,c=Yn(P,{mode:"hidden",children:c.children}),c.subtreeFlags=P.subtreeFlags&65011712,X!==null?T=Yn(X,T):(T=ns(T,f,i,null),T.flags|=2),T.return=n,c.return=n,c.sibling=T,n.child=c,pi(null,c),c=n.child,T=e.child.memoizedState,T===null?T=rm(i):(f=T.cachePool,f!==null?(P=Lt._currentValue,f=f.parent!==P?{parent:P,pool:P}:f):f=yx(),T={baseLanes:T.baseLanes|i,cachePool:f}),c.memoizedState=T,c.childLanes=sm(e,k,i),n.memoizedState=nm,pi(e.child,c)):(kr(n),i=e.child,e=i.sibling,i=Yn(i,{mode:"visible",children:c.children}),i.return=n,i.sibling=null,e!==null&&(k=n.deletions,k===null?(n.deletions=[e],n.flags|=16):k.push(e)),n.child=i,n.memoizedState=null,i)}function lm(e,n){return n=Zo({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Zo(e,n){return e=Aa(22,e,null,n),e.lanes=0,e}function im(e,n,i){return us(n,e.child,null,i),e=lm(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Oh(e,n,i){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),jd(e.return,n,i)}function om(e,n,i,c,f,h){var k=e.memoizedState;k===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:i,tailMode:f,treeForkCount:h}:(k.isBackwards=n,k.rendering=null,k.renderingStartTime=0,k.last=c,k.tail=i,k.tailMode=f,k.treeForkCount=h)}function Rh(e,n,i){var c=n.pendingProps,f=c.revealOrder,h=c.tail;c=c.children;var k=Tt.current,T=(k&2)!==0;if(T?(k=k&1|2,n.flags|=128):k&=1,ue(Tt,k),Wt(e,n,c,i),c=Xe?ti:0,!T&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Oh(e,i,n);else if(e.tag===19)Oh(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(i=n.child,f=null;i!==null;)e=i.alternate,e!==null&&Bo(e)===null&&(f=i),i=i.sibling;i=f,i===null?(f=n.child,n.child=null):(f=i.sibling,i.sibling=null),om(n,!1,f,i,h,c);break;case"backwards":case"unstable_legacy-backwards":for(i=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Bo(e)===null){n.child=f;break}e=f.sibling,f.sibling=i,i=f,f=e}om(n,!0,i,null,h,c);break;case"together":om(n,!1,null,null,void 0,c);break;default:n.memoizedState=null}return n.child}function Qn(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Tr|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(Vs(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(t(153));if(n.child!==null){for(e=n.child,i=Yn(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=Yn(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function cm(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&_o(e)))}function BN(e,n,i){switch(n.tag){case 3:Ve(n,n.stateNode.containerInfo),jr(n,Lt,e.memoizedState.cache),rs();break;case 27:case 5:Qt(n);break;case 4:Ve(n,n.stateNode.containerInfo);break;case 10:jr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Rd(n),null;break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(kr(n),n.flags|=128,null):(i&n.child.childLanes)!==0?_h(e,n,i):(kr(n),e=Qn(e,n,i),e!==null?e.sibling:null);kr(n);break;case 19:var f=(e.flags&128)!==0;if(c=(i&n.childLanes)!==0,c||(Vs(e,n,i,!1),c=(i&n.childLanes)!==0),f){if(c)return Rh(e,n,i);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(Tt,Tt.current),c)break;return null;case 22:return n.lanes=0,kh(e,n,i,n.pendingProps);case 24:jr(n,Lt,e.memoizedState.cache)}return Qn(e,n,i)}function Ih(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)zt=!0;else{if(!cm(e,i)&&(n.flags&128)===0)return zt=!1,BN(e,n,i);zt=(e.flags&131072)!==0}else zt=!1,Xe&&(n.flags&1048576)!==0&&fx(n,ti,n.index);switch(n.lanes=0,n.tag){case 16:e:{var c=n.pendingProps;if(e=os(n.elementType),n.type=e,typeof e=="function")pd(e)?(c=ms(e,c),n.tag=1,n=Th(null,n,e,c,i)):(n.tag=0,n=am(null,n,e,c,i));else{if(e!=null){var f=e.$$typeof;if(f===E){n.tag=11,n=wh(null,n,e,c,i);break e}else if(f===$){n.tag=14,n=Sh(null,n,e,c,i);break e}}throw n=U(e)||e,Error(t(306,n,""))}}return n;case 0:return am(e,n,n.type,n.pendingProps,i);case 1:return c=n.type,f=ms(c,n.pendingProps),Th(e,n,c,f,i);case 3:e:{if(Ve(n,n.stateNode.containerInfo),e===null)throw Error(t(387));c=n.pendingProps;var h=n.memoizedState;f=h.element,Ad(e,n),ci(n,c,null,i);var k=n.memoizedState;if(c=k.cache,jr(n,Lt,c),c!==h.cache&&wd(n,[Lt],i,!0),oi(),c=k.element,h.isDehydrated)if(h={element:c,isDehydrated:!1,cache:k.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Eh(e,n,c,i);break e}else if(c!==f){f=qa(Error(t(424)),n),ai(f),n=Eh(e,n,c,i);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ht=Ka(e.firstChild),Kt=n,Xe=!0,yr=null,Ga=!0,i=kx(n,null,c,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(rs(),c===f){n=Qn(e,n,i);break e}Wt(e,n,c,i)}n=n.child}return n;case 26:return Wo(e,n),e===null?(i=Vv(n.type,null,n.pendingProps,null))?n.memoizedState=i:Xe||(i=n.type,e=n.pendingProps,c=pc(ge.current).createElement(i),c[Ht]=n,c[ta]=e,Zt(c,i,e),$t(c),n.stateNode=c):n.memoizedState=Vv(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Qt(n),e===null&&Xe&&(c=n.stateNode=Uv(n.type,n.pendingProps,ge.current),Kt=n,Ga=!0,f=ht,Ir(n.type)?(Ym=f,ht=Ka(c.firstChild)):ht=f),Wt(e,n,n.pendingProps.children,i),Wo(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Xe&&((f=c=ht)&&(c=hj(c,n.type,n.pendingProps,Ga),c!==null?(n.stateNode=c,Kt=n,ht=Ka(c.firstChild),Ga=!1,f=!0):f=!1),f||Nr(n)),Qt(n),f=n.type,h=n.pendingProps,k=e!==null?e.memoizedProps:null,c=h.children,Pm(f,h)?c=null:k!==null&&Pm(f,k)&&(n.flags|=32),n.memoizedState!==null&&(f=Ld(e,n,EN,null,null,i),Ai._currentValue=f),Wo(e,n),Wt(e,n,c,i),n.child;case 6:return e===null&&Xe&&((e=i=ht)&&(i=vj(i,n.pendingProps,Ga),i!==null?(n.stateNode=i,Kt=n,ht=null,e=!0):e=!1),e||Nr(n)),null;case 13:return _h(e,n,i);case 4:return Ve(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=us(n,null,c,i):Wt(e,n,c,i),n.child;case 11:return wh(e,n,n.type,n.pendingProps,i);case 7:return Wt(e,n,n.pendingProps,i),n.child;case 8:return Wt(e,n,n.pendingProps.children,i),n.child;case 12:return Wt(e,n,n.pendingProps.children,i),n.child;case 10:return c=n.pendingProps,jr(n,n.type,c.value),Wt(e,n,c.children,i),n.child;case 9:return f=n.type._context,c=n.pendingProps.children,ls(n),f=Xt(f),c=c(f),n.flags|=1,Wt(e,n,c,i),n.child;case 14:return Sh(e,n,n.type,n.pendingProps,i);case 15:return Ch(e,n,n.type,n.pendingProps,i);case 19:return Rh(e,n,i);case 31:return FN(e,n,i);case 22:return kh(e,n,i,n.pendingProps);case 24:return ls(n),c=Xt(Lt),e===null?(f=kd(),f===null&&(f=ft,h=Sd(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=i),f=h),n.memoizedState={parent:c,cache:f},Md(n),jr(n,Lt,f)):((e.lanes&i)!==0&&(Ad(e,n),ci(n,null,null,i),oi()),f=e.memoizedState,h=n.memoizedState,f.parent!==c?(f={parent:c,cache:c},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),jr(n,Lt,c)):(c=h.cache,jr(n,Lt,c),c!==f.cache&&wd(n,[Lt],i,!0))),Wt(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(t(156,n.tag))}function Kn(e){e.flags|=4}function um(e,n,i,c,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(ov())e.flags|=8192;else throw cs=Lo,Dd}else e.flags&=-16777217}function Lh(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Wv(n))if(ov())e.flags|=8192;else throw cs=Lo,Dd}function Jo(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?zn():536870912,e.lanes|=n,rl|=n)}function xi(e,n){if(!Xe)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function vt(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,c=0;if(n)for(var f=e.child;f!==null;)i|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)i|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=c,e.childLanes=i,n}function HN(e,n,i){var c=n.pendingProps;switch(bd(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(n),null;case 1:return vt(n),null;case 3:return i=n.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),$n(Lt),We(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&($s(n)?Kn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,yd())),vt(n),null;case 26:var f=n.type,h=n.memoizedState;return e===null?(Kn(n),h!==null?(vt(n),Lh(n,h)):(vt(n),um(n,f,null,c,i))):h?h!==e.memoizedState?(Kn(n),vt(n),Lh(n,h)):(vt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==c&&Kn(n),vt(n),um(n,f,e,c,i)),null;case 27:if(Bt(n),i=ge.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Kn(n);else{if(!c){if(n.stateNode===null)throw Error(t(166));return vt(n),null}e=de.current,$s(n)?xx(n):(e=Uv(f,c,i),n.stateNode=e,Kn(n))}return vt(n),null;case 5:if(Bt(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Kn(n);else{if(!c){if(n.stateNode===null)throw Error(t(166));return vt(n),null}if(h=de.current,$s(n))xx(n);else{var k=pc(ge.current);switch(h){case 1:h=k.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:h=k.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":h=k.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":h=k.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":h=k.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof c.is=="string"?k.createElement("select",{is:c.is}):k.createElement("select"),c.multiple?h.multiple=!0:c.size&&(h.size=c.size);break;default:h=typeof c.is=="string"?k.createElement(f,{is:c.is}):k.createElement(f)}}h[Ht]=n,h[ta]=c;e:for(k=n.child;k!==null;){if(k.tag===5||k.tag===6)h.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===n)break e;for(;k.sibling===null;){if(k.return===null||k.return===n)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}n.stateNode=h;e:switch(Zt(h,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Kn(n)}}return vt(n),um(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,i),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==c&&Kn(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(t(166));if(e=ge.current,$s(n)){if(e=n.stateNode,i=n.memoizedProps,c=null,f=Kt,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}e[Ht]=n,e=!!(e.nodeValue===i||c!==null&&c.suppressHydrationWarning===!0||_v(e.nodeValue,i)),e||Nr(n,!0)}else e=pc(e).createTextNode(c),e[Ht]=n,n.stateNode=e}return vt(n),null;case 31:if(i=n.memoizedState,e===null||e.memoizedState!==null){if(c=$s(n),i!==null){if(e===null){if(!c)throw Error(t(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(t(557));e[Ht]=n}else rs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;vt(n),e=!1}else i=yd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return n.flags&256?(Ea(n),n):(Ea(n),null);if((n.flags&128)!==0)throw Error(t(558))}return vt(n),null;case 13:if(c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=$s(n),c!==null&&c.dehydrated!==null){if(e===null){if(!f)throw Error(t(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(t(317));f[Ht]=n}else rs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;vt(n),f=!1}else f=yd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(Ea(n),n):(Ea(n),null)}return Ea(n),(n.flags&128)!==0?(n.lanes=i,n):(i=c!==null,e=e!==null&&e.memoizedState!==null,i&&(c=n.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),h=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(h=c.memoizedState.cachePool.pool),h!==f&&(c.flags|=2048)),i!==e&&i&&(n.child.flags|=8192),Jo(n,n.updateQueue),vt(n),null);case 4:return We(),e===null&&_m(n.stateNode.containerInfo),vt(n),null;case 10:return $n(n.type),vt(n),null;case 19:if(ee(Tt),c=n.memoizedState,c===null)return vt(n),null;if(f=(n.flags&128)!==0,h=c.rendering,h===null)if(f)xi(c,!1);else{if(Mt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=Bo(e),h!==null){for(n.flags|=128,xi(c,!1),e=h.updateQueue,n.updateQueue=e,Jo(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)ux(i,e),i=i.sibling;return ue(Tt,Tt.current&1|2),Xe&&Un(n,c.treeForkCount),n.child}e=e.sibling}c.tail!==null&&ce()>rc&&(n.flags|=128,f=!0,xi(c,!1),n.lanes=4194304)}else{if(!f)if(e=Bo(h),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,Jo(n,e),xi(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Xe)return vt(n),null}else 2*ce()-c.renderingStartTime>rc&&i!==536870912&&(n.flags|=128,f=!0,xi(c,!1),n.lanes=4194304);c.isBackwards?(h.sibling=n.child,n.child=h):(e=c.last,e!==null?e.sibling=h:n.child=h,c.last=h)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=ce(),e.sibling=null,i=Tt.current,ue(Tt,f?i&1|2:i&1),Xe&&Un(n,c.treeForkCount),e):(vt(n),null);case 22:case 23:return Ea(n),Od(),c=n.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?(i&536870912)!==0&&(n.flags&128)===0&&(vt(n),n.subtreeFlags&6&&(n.flags|=8192)):vt(n),i=n.updateQueue,i!==null&&Jo(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==i&&(n.flags|=2048),e!==null&&ee(is),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),$n(Lt),vt(n),null;case 25:return null;case 30:return null}throw Error(t(156,n.tag))}function YN(e,n){switch(bd(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return $n(Lt),We(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Bt(n),null;case 31:if(n.memoizedState!==null){if(Ea(n),n.alternate===null)throw Error(t(340));rs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Ea(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(t(340));rs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ee(Tt),null;case 4:return We(),null;case 10:return $n(n.type),null;case 22:case 23:return Ea(n),Od(),e!==null&&ee(is),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return $n(Lt),null;case 25:return null;default:return null}}function Ph(e,n){switch(bd(n),n.tag){case 3:$n(Lt),We();break;case 26:case 27:case 5:Bt(n);break;case 4:We();break;case 31:n.memoizedState!==null&&Ea(n);break;case 13:Ea(n);break;case 19:ee(Tt);break;case 10:$n(n.type);break;case 22:case 23:Ea(n),Od(),e!==null&&ee(is);break;case 24:$n(Lt)}}function hi(e,n){try{var i=n.updateQueue,c=i!==null?i.lastEffect:null;if(c!==null){var f=c.next;i=f;do{if((i.tag&e)===e){c=void 0;var h=i.create,k=i.inst;c=h(),k.destroy=c}i=i.next}while(i!==f)}}catch(T){st(n,n.return,T)}}function Mr(e,n,i){try{var c=n.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var h=f.next;c=h;do{if((c.tag&e)===e){var k=c.inst,T=k.destroy;if(T!==void 0){k.destroy=void 0,f=n;var P=i,X=T;try{X()}catch(se){st(f,P,se)}}}c=c.next}while(c!==h)}}catch(se){st(n,n.return,se)}}function zh(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{Mx(n,i)}catch(c){st(e,e.return,c)}}}function Fh(e,n,i){i.props=ms(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(c){st(e,n,c)}}function vi(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof i=="function"?e.refCleanup=i(c):i.current=c}}catch(f){st(e,n,f)}}function jn(e,n){var i=e.ref,c=e.refCleanup;if(i!==null)if(typeof c=="function")try{c()}catch(f){st(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){st(e,n,f)}else i.current=null}function Bh(e){var n=e.type,i=e.memoizedProps,c=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&c.focus();break e;case"img":i.src?c.src=i.src:i.srcSet&&(c.srcset=i.srcSet)}}catch(f){st(e,e.return,f)}}function dm(e,n,i){try{var c=e.stateNode;uj(c,e.type,i,n),c[ta]=n}catch(f){st(e,e.return,f)}}function Hh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ir(e.type)||e.tag===4}function mm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Hh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ir(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fm(e,n,i){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Bn));else if(c!==4&&(c===27&&Ir(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(fm(e,n,i),e=e.sibling;e!==null;)fm(e,n,i),e=e.sibling}function ec(e,n,i){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(c!==4&&(c===27&&Ir(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(ec(e,n,i),e=e.sibling;e!==null;)ec(e,n,i),e=e.sibling}function Yh(e){var n=e.stateNode,i=e.memoizedProps;try{for(var c=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);Zt(n,c,i),n[Ht]=e,n[ta]=i}catch(h){st(e,e.return,h)}}var Xn=!1,Ft=!1,pm=!1,Uh=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function UN(e,n){if(e=e.containerInfo,Im=Nc,e=tx(e),id(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var c=i.getSelection&&i.getSelection();if(c&&c.rangeCount!==0){i=c.anchorNode;var f=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var k=0,T=-1,P=-1,X=0,se=0,oe=e,W=null;t:for(;;){for(var ae;oe!==i||f!==0&&oe.nodeType!==3||(T=k+f),oe!==h||c!==0&&oe.nodeType!==3||(P=k+c),oe.nodeType===3&&(k+=oe.nodeValue.length),(ae=oe.firstChild)!==null;)W=oe,oe=ae;for(;;){if(oe===e)break t;if(W===i&&++X===f&&(T=k),W===h&&++se===c&&(P=k),(ae=oe.nextSibling)!==null)break;oe=W,W=oe.parentNode}oe=ae}i=T===-1||P===-1?null:{start:T,end:P}}else i=null}i=i||{start:0,end:0}}else i=null;for(Lm={focusedElem:e,selectionRange:i},Nc=!1,Vt=n;Vt!==null;)if(n=Vt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Vt=e;else for(;Vt!==null;){switch(n=Vt,h=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)f=e[i],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,i=n,f=h.memoizedProps,h=h.memoizedState,c=i.stateNode;try{var Ce=ms(i.type,f);e=c.getSnapshotBeforeUpdate(Ce,h),c.__reactInternalSnapshotBeforeUpdate=e}catch(Ee){st(i,i.return,Ee)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)Fm(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Fm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(t(163))}if(e=n.sibling,e!==null){e.return=n.return,Vt=e;break}Vt=n.return}}function qh(e,n,i){var c=i.flags;switch(i.tag){case 0:case 11:case 15:Zn(e,i),c&4&&hi(5,i);break;case 1:if(Zn(e,i),c&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(k){st(i,i.return,k)}else{var f=ms(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(k){st(i,i.return,k)}}c&64&&zh(i),c&512&&vi(i,i.return);break;case 3:if(Zn(e,i),c&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{Mx(e,n)}catch(k){st(i,i.return,k)}}break;case 27:n===null&&c&4&&Yh(i);case 26:case 5:Zn(e,i),n===null&&c&4&&Bh(i),c&512&&vi(i,i.return);break;case 12:Zn(e,i);break;case 31:Zn(e,i),c&4&&Gh(e,i);break;case 13:Zn(e,i),c&4&&Qh(e,i),c&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=ZN.bind(null,i),bj(e,i))));break;case 22:if(c=i.memoizedState!==null||Xn,!c){n=n!==null&&n.memoizedState!==null||Ft,f=Xn;var h=Ft;Xn=c,(Ft=n)&&!h?Jn(e,i,(i.subtreeFlags&8772)!==0):Zn(e,i),Xn=f,Ft=h}break;case 30:break;default:Zn(e,i)}}function $h(e){var n=e.alternate;n!==null&&(e.alternate=null,$h(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&q(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var gt=null,xa=!1;function Wn(e,n,i){for(i=i.child;i!==null;)Vh(e,n,i),i=i.sibling}function Vh(e,n,i){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(qt,i)}catch{}switch(i.tag){case 26:Ft||jn(i,n),Wn(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Ft||jn(i,n);var c=gt,f=xa;Ir(i.type)&&(gt=i.stateNode,xa=!1),Wn(e,n,i),ki(i.stateNode),gt=c,xa=f;break;case 5:Ft||jn(i,n);case 6:if(c=gt,f=xa,gt=null,Wn(e,n,i),gt=c,xa=f,gt!==null)if(xa)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(i.stateNode)}catch(h){st(i,n,h)}else try{gt.removeChild(i.stateNode)}catch(h){st(i,n,h)}break;case 18:gt!==null&&(xa?(e=gt,zv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),ml(e)):zv(gt,i.stateNode));break;case 4:c=gt,f=xa,gt=i.stateNode.containerInfo,xa=!0,Wn(e,n,i),gt=c,xa=f;break;case 0:case 11:case 14:case 15:Mr(2,i,n),Ft||Mr(4,i,n),Wn(e,n,i);break;case 1:Ft||(jn(i,n),c=i.stateNode,typeof c.componentWillUnmount=="function"&&Fh(i,n,c)),Wn(e,n,i);break;case 21:Wn(e,n,i);break;case 22:Ft=(c=Ft)||i.memoizedState!==null,Wn(e,n,i),Ft=c;break;default:Wn(e,n,i)}}function Gh(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ml(e)}catch(i){st(n,n.return,i)}}}function Qh(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ml(e)}catch(i){st(n,n.return,i)}}function qN(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Uh),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Uh),n;default:throw Error(t(435,e.tag))}}function tc(e,n){var i=qN(e);n.forEach(function(c){if(!i.has(c)){i.add(c);var f=JN.bind(null,e,c);c.then(f,f)}})}function ha(e,n){var i=n.deletions;if(i!==null)for(var c=0;c<i.length;c++){var f=i[c],h=e,k=n,T=k;e:for(;T!==null;){switch(T.tag){case 27:if(Ir(T.type)){gt=T.stateNode,xa=!1;break e}break;case 5:gt=T.stateNode,xa=!1;break e;case 3:case 4:gt=T.stateNode.containerInfo,xa=!0;break e}T=T.return}if(gt===null)throw Error(t(160));Vh(h,k,f),gt=null,xa=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Kh(n,e),n=n.sibling}var on=null;function Kh(e,n){var i=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ha(n,e),va(e),c&4&&(Mr(3,e,e.return),hi(3,e),Mr(5,e,e.return));break;case 1:ha(n,e),va(e),c&512&&(Ft||i===null||jn(i,i.return)),c&64&&Xn&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?c:i.concat(c))));break;case 26:var f=on;if(ha(n,e),va(e),c&512&&(Ft||i===null||jn(i,i.return)),c&4){var h=i!==null?i.memoizedState:null;if(c=e.memoizedState,i===null)if(c===null)if(e.stateNode===null){e:{c=e.type,i=e.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":h=f.getElementsByTagName("title")[0],(!h||h[Wr]||h[Ht]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(c),f.head.insertBefore(h,f.querySelector("head > title"))),Zt(h,c,i),h[Ht]=e,$t(h),c=h;break e;case"link":var k=Kv("link","href",f).get(c+(i.href||""));if(k){for(var T=0;T<k.length;T++)if(h=k[T],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){k.splice(T,1);break t}}h=f.createElement(c),Zt(h,c,i),f.head.appendChild(h);break;case"meta":if(k=Kv("meta","content",f).get(c+(i.content||""))){for(T=0;T<k.length;T++)if(h=k[T],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){k.splice(T,1);break t}}h=f.createElement(c),Zt(h,c,i),f.head.appendChild(h);break;default:throw Error(t(468,c))}h[Ht]=e,$t(h),c=h}e.stateNode=c}else Xv(f,e.type,e.stateNode);else e.stateNode=Qv(f,c,e.memoizedProps);else h!==c?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,c===null?Xv(f,e.type,e.stateNode):Qv(f,c,e.memoizedProps)):c===null&&e.stateNode!==null&&dm(e,e.memoizedProps,i.memoizedProps)}break;case 27:ha(n,e),va(e),c&512&&(Ft||i===null||jn(i,i.return)),i!==null&&c&4&&dm(e,e.memoizedProps,i.memoizedProps);break;case 5:if(ha(n,e),va(e),c&512&&(Ft||i===null||jn(i,i.return)),e.flags&32){f=e.stateNode;try{Is(f,"")}catch(Ce){st(e,e.return,Ce)}}c&4&&e.stateNode!=null&&(f=e.memoizedProps,dm(e,f,i!==null?i.memoizedProps:f)),c&1024&&(pm=!0);break;case 6:if(ha(n,e),va(e),c&4){if(e.stateNode===null)throw Error(t(162));c=e.memoizedProps,i=e.stateNode;try{i.nodeValue=c}catch(Ce){st(e,e.return,Ce)}}break;case 3:if(vc=null,f=on,on=xc(n.containerInfo),ha(n,e),on=f,va(e),c&4&&i!==null&&i.memoizedState.isDehydrated)try{ml(n.containerInfo)}catch(Ce){st(e,e.return,Ce)}pm&&(pm=!1,Xh(e));break;case 4:c=on,on=xc(e.stateNode.containerInfo),ha(n,e),va(e),on=c;break;case 12:ha(n,e),va(e);break;case 31:ha(n,e),va(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,tc(e,c)));break;case 13:ha(n,e),va(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(nc=ce()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,tc(e,c)));break;case 22:f=e.memoizedState!==null;var P=i!==null&&i.memoizedState!==null,X=Xn,se=Ft;if(Xn=X||f,Ft=se||P,ha(n,e),Ft=se,Xn=X,va(e),c&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(i===null||P||Xn||Ft||fs(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){P=i=n;try{if(h=P.stateNode,f)k=h.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{T=P.stateNode;var oe=P.memoizedProps.style,W=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;T.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Ce){st(P,P.return,Ce)}}}else if(n.tag===6){if(i===null){P=n;try{P.stateNode.nodeValue=f?"":P.memoizedProps}catch(Ce){st(P,P.return,Ce)}}}else if(n.tag===18){if(i===null){P=n;try{var ae=P.stateNode;f?Fv(ae,!0):Fv(P.stateNode,!1)}catch(Ce){st(P,P.return,Ce)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=e.updateQueue,c!==null&&(i=c.retryQueue,i!==null&&(c.retryQueue=null,tc(e,i))));break;case 19:ha(n,e),va(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,tc(e,c)));break;case 30:break;case 21:break;default:ha(n,e),va(e)}}function va(e){var n=e.flags;if(n&2){try{for(var i,c=e.return;c!==null;){if(Hh(c)){i=c;break}c=c.return}if(i==null)throw Error(t(160));switch(i.tag){case 27:var f=i.stateNode,h=mm(e);ec(e,h,f);break;case 5:var k=i.stateNode;i.flags&32&&(Is(k,""),i.flags&=-33);var T=mm(e);ec(e,T,k);break;case 3:case 4:var P=i.stateNode.containerInfo,X=mm(e);fm(e,X,P);break;default:throw Error(t(161))}}catch(se){st(e,e.return,se)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Xh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Xh(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Zn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)qh(e,n.alternate,n),n=n.sibling}function fs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Mr(4,n,n.return),fs(n);break;case 1:jn(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&Fh(n,n.return,i),fs(n);break;case 27:ki(n.stateNode);case 26:case 5:jn(n,n.return),fs(n);break;case 22:n.memoizedState===null&&fs(n);break;case 30:fs(n);break;default:fs(n)}e=e.sibling}}function Jn(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,f=e,h=n,k=h.flags;switch(h.tag){case 0:case 11:case 15:Jn(f,h,i),hi(4,h);break;case 1:if(Jn(f,h,i),c=h,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(X){st(c,c.return,X)}if(c=h,f=c.updateQueue,f!==null){var T=c.stateNode;try{var P=f.shared.hiddenCallbacks;if(P!==null)for(f.shared.hiddenCallbacks=null,f=0;f<P.length;f++)Dx(P[f],T)}catch(X){st(c,c.return,X)}}i&&k&64&&zh(h),vi(h,h.return);break;case 27:Yh(h);case 26:case 5:Jn(f,h,i),i&&c===null&&k&4&&Bh(h),vi(h,h.return);break;case 12:Jn(f,h,i);break;case 31:Jn(f,h,i),i&&k&4&&Gh(f,h);break;case 13:Jn(f,h,i),i&&k&4&&Qh(f,h);break;case 22:h.memoizedState===null&&Jn(f,h,i),vi(h,h.return);break;case 30:break;default:Jn(f,h,i)}n=n.sibling}}function xm(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&ni(i))}function hm(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ni(e))}function cn(e,n,i,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Wh(e,n,i,c),n=n.sibling}function Wh(e,n,i,c){var f=n.flags;switch(n.tag){case 0:case 11:case 15:cn(e,n,i,c),f&2048&&hi(9,n);break;case 1:cn(e,n,i,c);break;case 3:cn(e,n,i,c),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ni(e)));break;case 12:if(f&2048){cn(e,n,i,c),e=n.stateNode;try{var h=n.memoizedProps,k=h.id,T=h.onPostCommit;typeof T=="function"&&T(k,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(P){st(n,n.return,P)}}else cn(e,n,i,c);break;case 31:cn(e,n,i,c);break;case 13:cn(e,n,i,c);break;case 23:break;case 22:h=n.stateNode,k=n.alternate,n.memoizedState!==null?h._visibility&2?cn(e,n,i,c):bi(e,n):h._visibility&2?cn(e,n,i,c):(h._visibility|=2,tl(e,n,i,c,(n.subtreeFlags&10256)!==0||!1)),f&2048&&xm(k,n);break;case 24:cn(e,n,i,c),f&2048&&hm(n.alternate,n);break;default:cn(e,n,i,c)}}function tl(e,n,i,c,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=e,k=n,T=i,P=c,X=k.flags;switch(k.tag){case 0:case 11:case 15:tl(h,k,T,P,f),hi(8,k);break;case 23:break;case 22:var se=k.stateNode;k.memoizedState!==null?se._visibility&2?tl(h,k,T,P,f):bi(h,k):(se._visibility|=2,tl(h,k,T,P,f)),f&&X&2048&&xm(k.alternate,k);break;case 24:tl(h,k,T,P,f),f&&X&2048&&hm(k.alternate,k);break;default:tl(h,k,T,P,f)}n=n.sibling}}function bi(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,c=n,f=c.flags;switch(c.tag){case 22:bi(i,c),f&2048&&xm(c.alternate,c);break;case 24:bi(i,c),f&2048&&hm(c.alternate,c);break;default:bi(i,c)}n=n.sibling}}var gi=8192;function al(e,n,i){if(e.subtreeFlags&gi)for(e=e.child;e!==null;)Zh(e,n,i),e=e.sibling}function Zh(e,n,i){switch(e.tag){case 26:al(e,n,i),e.flags&gi&&e.memoizedState!==null&&Tj(i,on,e.memoizedState,e.memoizedProps);break;case 5:al(e,n,i);break;case 3:case 4:var c=on;on=xc(e.stateNode.containerInfo),al(e,n,i),on=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=gi,gi=16777216,al(e,n,i),gi=c):al(e,n,i));break;default:al(e,n,i)}}function Jh(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function yi(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var c=n[i];Vt=c,tv(c,e)}Jh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ev(e),e=e.sibling}function ev(e){switch(e.tag){case 0:case 11:case 15:yi(e),e.flags&2048&&Mr(9,e,e.return);break;case 3:yi(e);break;case 12:yi(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ac(e)):yi(e);break;default:yi(e)}}function ac(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var c=n[i];Vt=c,tv(c,e)}Jh(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Mr(8,n,n.return),ac(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,ac(n));break;default:ac(n)}e=e.sibling}}function tv(e,n){for(;Vt!==null;){var i=Vt;switch(i.tag){case 0:case 11:case 15:Mr(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var c=i.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ni(i.memoizedState.cache)}if(c=i.child,c!==null)c.return=i,Vt=c;else e:for(i=e;Vt!==null;){c=Vt;var f=c.sibling,h=c.return;if($h(c),c===i){Vt=null;break e}if(f!==null){f.return=h,Vt=f;break e}Vt=h}}}var $N={getCacheForType:function(e){var n=Xt(Lt),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i},cacheSignal:function(){return Xt(Lt).controller.signal}},VN=typeof WeakMap=="function"?WeakMap:Map,tt=0,ft=null,Ye=null,Ge=0,rt=0,_a=null,Ar=!1,nl=!1,vm=!1,er=0,Mt=0,Tr=0,ps=0,bm=0,Oa=0,rl=0,Ni=null,ba=null,gm=!1,nc=0,av=0,rc=1/0,sc=null,Er=null,Yt=0,_r=null,sl=null,tr=0,ym=0,Nm=null,nv=null,ji=0,jm=null;function Ra(){return(tt&2)!==0&&Ge!==0?Ge&-Ge:B.T!==null?Mm():fo()}function rv(){if(Oa===0)if((Ge&536870912)===0||Xe){var e=bn;bn<<=1,(bn&3932160)===0&&(bn=262144),Oa=e}else Oa=536870912;return e=Ta.current,e!==null&&(e.flags|=32),Oa}function ga(e,n,i){(e===ft&&(rt===2||rt===9)||e.cancelPendingCommit!==null)&&(ll(e,0),Or(e,Ge,Oa,!1)),rn(e,i),((tt&2)===0||e!==ft)&&(e===ft&&((tt&2)===0&&(ps|=i),Mt===4&&Or(e,Ge,Oa,!1)),wn(e))}function sv(e,n,i){if((tt&6)!==0)throw Error(t(327));var c=!i&&(n&127)===0&&(n&e.expiredLanes)===0||ka(e,n),f=c?KN(e,n):Sm(e,n,!0),h=c;do{if(f===0){nl&&!c&&Or(e,n,0,!1);break}else{if(i=e.current.alternate,h&&!GN(i)){f=Sm(e,n,!1),h=!1;continue}if(f===2){if(h=n,e.errorRecoveryDisabledLanes&h)var k=0;else k=e.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){n=k;e:{var T=e;f=Ni;var P=T.current.memoizedState.isDehydrated;if(P&&(ll(T,k).flags|=256),k=Sm(T,k,!1),k!==2){if(vm&&!P){T.errorRecoveryDisabledLanes|=h,ps|=h,f=4;break e}h=ba,ba=f,h!==null&&(ba===null?ba=h:ba.push.apply(ba,h))}f=k}if(h=!1,f!==2)continue}}if(f===1){ll(e,0),Or(e,n,0,!0);break}e:{switch(c=e,h=f,h){case 0:case 1:throw Error(t(345));case 4:if((n&4194048)!==n)break;case 6:Or(c,n,Oa,!Ar);break e;case 2:ba=null;break;case 3:case 5:break;default:throw Error(t(329))}if((n&62914560)===n&&(f=nc+300-ce(),10<f)){if(Or(c,n,Oa,!Ar),nn(c,0,!0)!==0)break e;tr=n,c.timeoutHandle=Lv(lv.bind(null,c,i,ba,sc,gm,n,Oa,ps,rl,Ar,h,"Throttled",-0,0),f);break e}lv(c,i,ba,sc,gm,n,Oa,ps,rl,Ar,h,null,-0,0)}}break}while(!0);wn(e)}function lv(e,n,i,c,f,h,k,T,P,X,se,oe,W,ae){if(e.timeoutHandle=-1,oe=n.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},Zh(n,h,oe);var Ce=(h&62914560)===h?nc-ce():(h&4194048)===h?av-ce():0;if(Ce=Ej(oe,Ce),Ce!==null){tr=h,e.cancelPendingCommit=Ce(pv.bind(null,e,n,h,i,c,f,k,T,P,se,oe,null,W,ae)),Or(e,h,k,!X);return}}pv(e,n,h,i,c,f,k,T,P)}function GN(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var c=0;c<i.length;c++){var f=i[c],h=f.getSnapshot;f=f.value;try{if(!Ma(h(),f))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Or(e,n,i,c){n&=~bm,n&=~ps,e.suspendedLanes|=n,e.pingedLanes&=~n,c&&(e.warmLanes|=n),c=e.expirationTimes;for(var f=n;0<f;){var h=31-He(f),k=1<<h;c[h]=-1,f&=~k}i!==0&&co(e,i,n)}function lc(){return(tt&6)===0?(wi(0),!1):!0}function wm(){if(Ye!==null){if(rt===0)var e=Ye.return;else e=Ye,qn=ss=null,Fd(e),Xs=null,si=0,e=Ye;for(;e!==null;)Ph(e.alternate,e),e=e.return;Ye=null}}function ll(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,fj(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),tr=0,wm(),ft=e,Ye=i=Yn(e.current,null),Ge=n,rt=0,_a=null,Ar=!1,nl=ka(e,n),vm=!1,rl=Oa=bm=ps=Tr=Mt=0,ba=Ni=null,gm=!1,(n&8)!==0&&(n|=n&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=n;0<c;){var f=31-He(c),h=1<<f;n|=e[f],c&=~h}return er=n,Do(),i}function iv(e,n){Le=null,B.H=fi,n===Ks||n===Io?(n=wx(),rt=3):n===Dd?(n=wx(),rt=4):rt=n===tm?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_a=n,Ye===null&&(Mt=1,Ko(e,qa(n,e.current)))}function ov(){var e=Ta.current;return e===null?!0:(Ge&4194048)===Ge?Qa===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?e===Qa:!1}function cv(){var e=B.H;return B.H=fi,e===null?fi:e}function uv(){var e=B.A;return B.A=$N,e}function ic(){Mt=4,Ar||(Ge&4194048)!==Ge&&Ta.current!==null||(nl=!0),(Tr&134217727)===0&&(ps&134217727)===0||ft===null||Or(ft,Ge,Oa,!1)}function Sm(e,n,i){var c=tt;tt|=2;var f=cv(),h=uv();(ft!==e||Ge!==n)&&(sc=null,ll(e,n)),n=!1;var k=Mt;e:do try{if(rt!==0&&Ye!==null){var T=Ye,P=_a;switch(rt){case 8:wm(),k=6;break e;case 3:case 2:case 9:case 6:Ta.current===null&&(n=!0);var X=rt;if(rt=0,_a=null,il(e,T,P,X),i&&nl){k=0;break e}break;default:X=rt,rt=0,_a=null,il(e,T,P,X)}}QN(),k=Mt;break}catch(se){iv(e,se)}while(!0);return n&&e.shellSuspendCounter++,qn=ss=null,tt=c,B.H=f,B.A=h,Ye===null&&(ft=null,Ge=0,Do()),k}function QN(){for(;Ye!==null;)dv(Ye)}function KN(e,n){var i=tt;tt|=2;var c=cv(),f=uv();ft!==e||Ge!==n?(sc=null,rc=ce()+500,ll(e,n)):nl=ka(e,n);e:do try{if(rt!==0&&Ye!==null){n=Ye;var h=_a;t:switch(rt){case 1:rt=0,_a=null,il(e,n,h,1);break;case 2:case 9:if(Nx(h)){rt=0,_a=null,mv(n);break}n=function(){rt!==2&&rt!==9||ft!==e||(rt=7),wn(e)},h.then(n,n);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Nx(h)?(rt=0,_a=null,mv(n)):(rt=0,_a=null,il(e,n,h,7));break;case 5:var k=null;switch(Ye.tag){case 26:k=Ye.memoizedState;case 5:case 27:var T=Ye;if(k?Wv(k):T.stateNode.complete){rt=0,_a=null;var P=T.sibling;if(P!==null)Ye=P;else{var X=T.return;X!==null?(Ye=X,oc(X)):Ye=null}break t}}rt=0,_a=null,il(e,n,h,5);break;case 6:rt=0,_a=null,il(e,n,h,6);break;case 8:wm(),Mt=6;break e;default:throw Error(t(462))}}XN();break}catch(se){iv(e,se)}while(!0);return qn=ss=null,B.H=c,B.A=f,tt=i,Ye!==null?0:(ft=null,Ge=0,Do(),Mt)}function XN(){for(;Ye!==null&&!Xr();)dv(Ye)}function dv(e){var n=Ih(e.alternate,e,er);e.memoizedProps=e.pendingProps,n===null?oc(e):Ye=n}function mv(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=Ah(i,n,n.pendingProps,n.type,void 0,Ge);break;case 11:n=Ah(i,n,n.pendingProps,n.type.render,n.ref,Ge);break;case 5:Fd(n);default:Ph(i,n),n=Ye=ux(n,er),n=Ih(i,n,er)}e.memoizedProps=e.pendingProps,n===null?oc(e):Ye=n}function il(e,n,i,c){qn=ss=null,Fd(n),Xs=null,si=0;var f=n.return;try{if(zN(e,f,n,i,Ge)){Mt=1,Ko(e,qa(i,e.current)),Ye=null;return}}catch(h){if(f!==null)throw Ye=f,h;Mt=1,Ko(e,qa(i,e.current)),Ye=null;return}n.flags&32768?(Xe||c===1?e=!0:nl||(Ge&536870912)!==0?e=!1:(Ar=e=!0,(c===2||c===9||c===3||c===6)&&(c=Ta.current,c!==null&&c.tag===13&&(c.flags|=16384))),fv(n,e)):oc(n)}function oc(e){var n=e;do{if((n.flags&32768)!==0){fv(n,Ar);return}e=n.return;var i=HN(n.alternate,n,er);if(i!==null){Ye=i;return}if(n=n.sibling,n!==null){Ye=n;return}Ye=n=e}while(n!==null);Mt===0&&(Mt=5)}function fv(e,n){do{var i=YN(e.alternate,e);if(i!==null){i.flags&=32767,Ye=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){Ye=e;return}Ye=e=i}while(e!==null);Mt=6,Ye=null}function pv(e,n,i,c,f,h,k,T,P){e.cancelPendingCommit=null;do cc();while(Yt!==0);if((tt&6)!==0)throw Error(t(327));if(n!==null){if(n===e.current)throw Error(t(177));if(h=n.lanes|n.childLanes,h|=md,_s(e,i,h,k,T,P),e===ft&&(Ye=ft=null,Ge=0),sl=n,_r=e,tr=i,ym=h,Nm=f,nv=c,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ej(le,function(){return gv(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||c){c=B.T,B.T=null,f=R.p,R.p=2,k=tt,tt|=4;try{UN(e,n,i)}finally{tt=k,R.p=f,B.T=c}}Yt=1,xv(),hv(),vv()}}function xv(){if(Yt===1){Yt=0;var e=_r,n=sl,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=B.T,B.T=null;var c=R.p;R.p=2;var f=tt;tt|=4;try{Kh(n,e);var h=Lm,k=tx(e.containerInfo),T=h.focusedElem,P=h.selectionRange;if(k!==T&&T&&T.ownerDocument&&ex(T.ownerDocument.documentElement,T)){if(P!==null&&id(T)){var X=P.start,se=P.end;if(se===void 0&&(se=X),"selectionStart"in T)T.selectionStart=X,T.selectionEnd=Math.min(se,T.value.length);else{var oe=T.ownerDocument||document,W=oe&&oe.defaultView||window;if(W.getSelection){var ae=W.getSelection(),Ce=T.textContent.length,Ee=Math.min(P.start,Ce),mt=P.end===void 0?Ee:Math.min(P.end,Ce);!ae.extend&&Ee>mt&&(k=mt,mt=Ee,Ee=k);var V=Jp(T,Ee),Y=Jp(T,mt);if(V&&Y&&(ae.rangeCount!==1||ae.anchorNode!==V.node||ae.anchorOffset!==V.offset||ae.focusNode!==Y.node||ae.focusOffset!==Y.offset)){var K=oe.createRange();K.setStart(V.node,V.offset),ae.removeAllRanges(),Ee>mt?(ae.addRange(K),ae.extend(Y.node,Y.offset)):(K.setEnd(Y.node,Y.offset),ae.addRange(K))}}}}for(oe=[],ae=T;ae=ae.parentNode;)ae.nodeType===1&&oe.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<oe.length;T++){var ie=oe[T];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Nc=!!Im,Lm=Im=null}finally{tt=f,R.p=c,B.T=i}}e.current=n,Yt=2}}function hv(){if(Yt===2){Yt=0;var e=_r,n=sl,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=B.T,B.T=null;var c=R.p;R.p=2;var f=tt;tt|=4;try{qh(e,n.alternate,n)}finally{tt=f,R.p=c,B.T=i}}Yt=3}}function vv(){if(Yt===4||Yt===3){Yt=0,J();var e=_r,n=sl,i=tr,c=nv;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Yt=5:(Yt=0,sl=_r=null,bv(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Er=null),ql(i),n=n.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(qt,n,void 0,(n.current.flags&128)===128)}catch{}if(c!==null){n=B.T,f=R.p,R.p=2,B.T=null;try{for(var h=e.onRecoverableError,k=0;k<c.length;k++){var T=c[k];h(T.value,{componentStack:T.stack})}}finally{B.T=n,R.p=f}}(tr&3)!==0&&cc(),wn(e),f=e.pendingLanes,(i&261930)!==0&&(f&42)!==0?e===jm?ji++:(ji=0,jm=e):ji=0,wi(0)}}function bv(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ni(n)))}function cc(){return xv(),hv(),vv(),gv()}function gv(){if(Yt!==5)return!1;var e=_r,n=ym;ym=0;var i=ql(tr),c=B.T,f=R.p;try{R.p=32>i?32:i,B.T=null,i=Nm,Nm=null;var h=_r,k=tr;if(Yt=0,sl=_r=null,tr=0,(tt&6)!==0)throw Error(t(331));var T=tt;if(tt|=4,ev(h.current),Wh(h,h.current,k,i),tt=T,wi(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(qt,h)}catch{}return!0}finally{R.p=f,B.T=c,bv(e,n)}}function yv(e,n,i){n=qa(i,n),n=em(e.stateNode,n,2),e=Cr(e,n,2),e!==null&&(rn(e,2),wn(e))}function st(e,n,i){if(e.tag===3)yv(e,e,i);else for(;n!==null;){if(n.tag===3){yv(n,e,i);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Er===null||!Er.has(c))){e=qa(i,e),i=Nh(2),c=Cr(n,i,2),c!==null&&(jh(i,c,n,e),rn(c,2),wn(c));break}}n=n.return}}function Cm(e,n,i){var c=e.pingCache;if(c===null){c=e.pingCache=new VN;var f=new Set;c.set(n,f)}else f=c.get(n),f===void 0&&(f=new Set,c.set(n,f));f.has(i)||(vm=!0,f.add(i),e=WN.bind(null,e,n,i),n.then(e,e))}function WN(e,n,i){var c=e.pingCache;c!==null&&c.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,ft===e&&(Ge&i)===i&&(Mt===4||Mt===3&&(Ge&62914560)===Ge&&300>ce()-nc?(tt&2)===0&&ll(e,0):bm|=i,rl===Ge&&(rl=0)),wn(e)}function Nv(e,n){n===0&&(n=zn()),e=as(e,n),e!==null&&(rn(e,n),wn(e))}function ZN(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Nv(e,i)}function JN(e,n){var i=0;switch(e.tag){case 31:case 13:var c=e.stateNode,f=e.memoizedState;f!==null&&(i=f.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(t(314))}c!==null&&c.delete(n),Nv(e,i)}function ej(e,n){return jt(e,n)}var uc=null,ol=null,km=!1,dc=!1,Dm=!1,Rr=0;function wn(e){e!==ol&&e.next===null&&(ol===null?uc=ol=e:ol=ol.next=e),dc=!0,km||(km=!0,aj())}function wi(e,n){if(!Dm&&dc){Dm=!0;do for(var i=!1,c=uc;c!==null;){if(e!==0){var f=c.pendingLanes;if(f===0)var h=0;else{var k=c.suspendedLanes,T=c.pingedLanes;h=(1<<31-He(42|e)+1)-1,h&=f&~(k&~T),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,Cv(c,h))}else h=Ge,h=nn(c,c===ft?h:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(h&3)===0||ka(c,h)||(i=!0,Cv(c,h));c=c.next}while(i);Dm=!1}}function tj(){jv()}function jv(){dc=km=!1;var e=0;Rr!==0&&mj()&&(e=Rr);for(var n=ce(),i=null,c=uc;c!==null;){var f=c.next,h=wv(c,n);h===0?(c.next=null,i===null?uc=f:i.next=f,f===null&&(ol=i)):(i=c,(e!==0||(h&3)!==0)&&(dc=!0)),c=f}Yt!==0&&Yt!==5||wi(e),Rr!==0&&(Rr=0)}function wv(e,n){for(var i=e.suspendedLanes,c=e.pingedLanes,f=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var k=31-He(h),T=1<<k,P=f[k];P===-1?((T&i)===0||(T&c)!==0)&&(f[k]=xr(T,n)):P<=n&&(e.expiredLanes|=T),h&=~T}if(n=ft,i=Ge,i=nn(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,i===0||e===n&&(rt===2||rt===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&ma(c),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||ka(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(c!==null&&ma(c),ql(i)){case 2:case 8:i=Te;break;case 32:i=le;break;case 268435456:i=ke;break;default:i=le}return c=Sv.bind(null,e),i=jt(i,c),e.callbackPriority=n,e.callbackNode=i,n}return c!==null&&c!==null&&ma(c),e.callbackPriority=2,e.callbackNode=null,2}function Sv(e,n){if(Yt!==0&&Yt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(cc()&&e.callbackNode!==i)return null;var c=Ge;return c=nn(e,e===ft?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(sv(e,c,n),wv(e,ce()),e.callbackNode!=null&&e.callbackNode===i?Sv.bind(null,e):null)}function Cv(e,n){if(cc())return null;sv(e,n,!0)}function aj(){pj(function(){(tt&6)!==0?jt(be,tj):jv()})}function Mm(){if(Rr===0){var e=Gs;e===0&&(e=vn,vn<<=1,(vn&261888)===0&&(vn=256)),Rr=e}return Rr}function kv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:go(""+e)}function Dv(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function nj(e,n,i,c,f){if(n==="submit"&&i&&i.stateNode===f){var h=kv((f[ta]||null).action),k=c.submitter;k&&(n=(n=k[ta]||null)?kv(n.formAction):k.getAttribute("formAction"),n!==null&&(h=n,k=null));var T=new wo("action","action",null,c,f);e.push({event:T,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Rr!==0){var P=k?Dv(f,k):new FormData(f);Qd(i,{pending:!0,data:P,method:f.method,action:h},null,P)}}else typeof h=="function"&&(T.preventDefault(),P=k?Dv(f,k):new FormData(f),Qd(i,{pending:!0,data:P,method:f.method,action:h},h,P))},currentTarget:f}]})}}for(var Am=0;Am<dd.length;Am++){var Tm=dd[Am],rj=Tm.toLowerCase(),sj=Tm[0].toUpperCase()+Tm.slice(1);ln(rj,"on"+sj)}ln(rx,"onAnimationEnd"),ln(sx,"onAnimationIteration"),ln(lx,"onAnimationStart"),ln("dblclick","onDoubleClick"),ln("focusin","onFocus"),ln("focusout","onBlur"),ln(NN,"onTransitionRun"),ln(jN,"onTransitionStart"),ln(wN,"onTransitionCancel"),ln(ix,"onTransitionEnd"),Os("onMouseEnter",["mouseout","mouseover"]),Os("onMouseLeave",["mouseout","mouseover"]),Os("onPointerEnter",["pointerout","pointerover"]),Os("onPointerLeave",["pointerout","pointerover"]),Zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Si="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Si));function Mv(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var c=e[i],f=c.event;c=c.listeners;e:{var h=void 0;if(n)for(var k=c.length-1;0<=k;k--){var T=c[k],P=T.instance,X=T.currentTarget;if(T=T.listener,P!==h&&f.isPropagationStopped())break e;h=T,f.currentTarget=X;try{h(f)}catch(se){ko(se)}f.currentTarget=null,h=P}else for(k=0;k<c.length;k++){if(T=c[k],P=T.instance,X=T.currentTarget,T=T.listener,P!==h&&f.isPropagationStopped())break e;h=T,f.currentTarget=X;try{h(f)}catch(se){ko(se)}f.currentTarget=null,h=P}}}}function Ue(e,n){var i=n[$l];i===void 0&&(i=n[$l]=new Set);var c=e+"__bubble";i.has(c)||(Av(n,e,2,!1),i.add(c))}function Em(e,n,i){var c=0;n&&(c|=4),Av(i,e,c,n)}var mc="_reactListening"+Math.random().toString(36).slice(2);function _m(e){if(!e[mc]){e[mc]=!0,jp.forEach(function(i){i!=="selectionchange"&&(lj.has(i)||Em(i,!1,e),Em(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[mc]||(n[mc]=!0,Em("selectionchange",!1,n))}}function Av(e,n,i,c){switch(r0(n)){case 2:var f=Rj;break;case 8:f=Ij;break;default:f=Gm}i=f.bind(null,n,i,e),f=void 0,!Zu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),c?f!==void 0?e.addEventListener(n,i,{capture:!0,passive:f}):e.addEventListener(n,i,!0):f!==void 0?e.addEventListener(n,i,{passive:f}):e.addEventListener(n,i,!1)}function Om(e,n,i,c,f){var h=c;if((n&1)===0&&(n&2)===0&&c!==null)e:for(;;){if(c===null)return;var k=c.tag;if(k===3||k===4){var T=c.stateNode.containerInfo;if(T===f)break;if(k===4)for(k=c.return;k!==null;){var P=k.tag;if((P===3||P===4)&&k.stateNode.containerInfo===f)return;k=k.return}for(;T!==null;){if(k=fe(T),k===null)return;if(P=k.tag,P===5||P===6||P===26||P===27){c=h=k;continue e}T=T.parentNode}}c=c.return}Rp(function(){var X=h,se=Xu(i),oe=[];e:{var W=ox.get(e);if(W!==void 0){var ae=wo,Ce=e;switch(e){case"keypress":if(No(i)===0)break e;case"keydown":case"keyup":ae=J1;break;case"focusin":Ce="focus",ae=ad;break;case"focusout":Ce="blur",ae=ad;break;case"beforeblur":case"afterblur":ae=ad;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Pp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=H1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=aN;break;case rx:case sx:case lx:ae=q1;break;case ix:ae=rN;break;case"scroll":case"scrollend":ae=F1;break;case"wheel":ae=lN;break;case"copy":case"cut":case"paste":ae=V1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Fp;break;case"toggle":case"beforetoggle":ae=oN}var Ee=(n&4)!==0,mt=!Ee&&(e==="scroll"||e==="scrollend"),V=Ee?W!==null?W+"Capture":null:W;Ee=[];for(var Y=X,K;Y!==null;){var ie=Y;if(K=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||K===null||V===null||(ie=Vl(Y,V),ie!=null&&Ee.push(Ci(Y,ie,K))),mt)break;Y=Y.return}0<Ee.length&&(W=new ae(W,Ce,null,i,se),oe.push({event:W,listeners:Ee}))}}if((n&7)===0){e:{if(W=e==="mouseover"||e==="pointerover",ae=e==="mouseout"||e==="pointerout",W&&i!==Ku&&(Ce=i.relatedTarget||i.fromElement)&&(fe(Ce)||Ce[vr]))break e;if((ae||W)&&(W=se.window===se?se:(W=se.ownerDocument)?W.defaultView||W.parentWindow:window,ae?(Ce=i.relatedTarget||i.toElement,ae=X,Ce=Ce?fe(Ce):null,Ce!==null&&(mt=u(Ce),Ee=Ce.tag,Ce!==mt||Ee!==5&&Ee!==27&&Ee!==6)&&(Ce=null)):(ae=null,Ce=X),ae!==Ce)){if(Ee=Pp,ie="onMouseLeave",V="onMouseEnter",Y="mouse",(e==="pointerout"||e==="pointerover")&&(Ee=Fp,ie="onPointerLeave",V="onPointerEnter",Y="pointer"),mt=ae==null?W:Da(ae),K=Ce==null?W:Da(Ce),W=new Ee(ie,Y+"leave",ae,i,se),W.target=mt,W.relatedTarget=K,ie=null,fe(se)===X&&(Ee=new Ee(V,Y+"enter",Ce,i,se),Ee.target=K,Ee.relatedTarget=mt,ie=Ee),mt=ie,ae&&Ce)t:{for(Ee=ij,V=ae,Y=Ce,K=0,ie=V;ie;ie=Ee(ie))K++;ie=0;for(var Ae=Y;Ae;Ae=Ee(Ae))ie++;for(;0<K-ie;)V=Ee(V),K--;for(;0<ie-K;)Y=Ee(Y),ie--;for(;K--;){if(V===Y||Y!==null&&V===Y.alternate){Ee=V;break t}V=Ee(V),Y=Ee(Y)}Ee=null}else Ee=null;ae!==null&&Tv(oe,W,ae,Ee,!1),Ce!==null&&mt!==null&&Tv(oe,mt,Ce,Ee,!0)}}e:{if(W=X?Da(X):window,ae=W.nodeName&&W.nodeName.toLowerCase(),ae==="select"||ae==="input"&&W.type==="file")var Je=Gp;else if($p(W))if(Qp)Je=bN;else{Je=hN;var De=xN}else ae=W.nodeName,!ae||ae.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?X&&Qu(X.elementType)&&(Je=Gp):Je=vN;if(Je&&(Je=Je(e,X))){Vp(oe,Je,i,se);break e}De&&De(e,W,X),e==="focusout"&&X&&W.type==="number"&&X.memoizedProps.value!=null&&Gu(W,"number",W.value)}switch(De=X?Da(X):window,e){case"focusin":($p(De)||De.contentEditable==="true")&&(Fs=De,od=X,ei=null);break;case"focusout":ei=od=Fs=null;break;case"mousedown":cd=!0;break;case"contextmenu":case"mouseup":case"dragend":cd=!1,ax(oe,i,se);break;case"selectionchange":if(yN)break;case"keydown":case"keyup":ax(oe,i,se)}var Pe;if(rd)e:{switch(e){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else zs?Up(e,i)&&(Qe="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Qe="onCompositionStart");Qe&&(Bp&&i.locale!=="ko"&&(zs||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&zs&&(Pe=Ip()):(br=se,Ju="value"in br?br.value:br.textContent,zs=!0)),De=fc(X,Qe),0<De.length&&(Qe=new zp(Qe,e,null,i,se),oe.push({event:Qe,listeners:De}),Pe?Qe.data=Pe:(Pe=qp(i),Pe!==null&&(Qe.data=Pe)))),(Pe=uN?dN(e,i):mN(e,i))&&(Qe=fc(X,"onBeforeInput"),0<Qe.length&&(De=new zp("onBeforeInput","beforeinput",null,i,se),oe.push({event:De,listeners:Qe}),De.data=Pe)),nj(oe,e,X,i,se)}Mv(oe,n)})}function Ci(e,n,i){return{instance:e,listener:n,currentTarget:i}}function fc(e,n){for(var i=n+"Capture",c=[];e!==null;){var f=e,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=Vl(e,i),f!=null&&c.unshift(Ci(e,f,h)),f=Vl(e,n),f!=null&&c.push(Ci(e,f,h))),e.tag===3)return c;e=e.return}return[]}function ij(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Tv(e,n,i,c,f){for(var h=n._reactName,k=[];i!==null&&i!==c;){var T=i,P=T.alternate,X=T.stateNode;if(T=T.tag,P!==null&&P===c)break;T!==5&&T!==26&&T!==27||X===null||(P=X,f?(X=Vl(i,h),X!=null&&k.unshift(Ci(i,X,P))):f||(X=Vl(i,h),X!=null&&k.push(Ci(i,X,P)))),i=i.return}k.length!==0&&e.push({event:n,listeners:k})}var oj=/\r\n?/g,cj=/\u0000|\uFFFD/g;function Ev(e){return(typeof e=="string"?e:""+e).replace(oj,`
`).replace(cj,"")}function _v(e,n){return n=Ev(n),Ev(e)===n}function dt(e,n,i,c,f,h){switch(i){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||Is(e,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&Is(e,""+c);break;case"className":vo(e,"class",c);break;case"tabIndex":vo(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":vo(e,i,c);break;case"style":_p(e,c,h);break;case"data":if(n!=="object"){vo(e,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(i);break}c=go(""+c),e.setAttribute(i,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(n!=="input"&&dt(e,n,"name",f.name,f,null),dt(e,n,"formEncType",f.formEncType,f,null),dt(e,n,"formMethod",f.formMethod,f,null),dt(e,n,"formTarget",f.formTarget,f,null)):(dt(e,n,"encType",f.encType,f,null),dt(e,n,"method",f.method,f,null),dt(e,n,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(i);break}c=go(""+c),e.setAttribute(i,c);break;case"onClick":c!=null&&(e.onclick=Bn);break;case"onScroll":c!=null&&Ue("scroll",e);break;case"onScrollEnd":c!=null&&Ue("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(t(61));if(i=c.__html,i!=null){if(f.children!=null)throw Error(t(60));e.innerHTML=i}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}i=go(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(i,""+c):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":c===!0?e.setAttribute(i,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(i,c):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(i,c):e.removeAttribute(i);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(i):e.setAttribute(i,c);break;case"popover":Ue("beforetoggle",e),Ue("toggle",e),ho(e,"popover",c);break;case"xlinkActuate":Fn(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Fn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Fn(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Fn(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Fn(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Fn(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Fn(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Fn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Fn(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ho(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=P1.get(i)||i,ho(e,i,c))}}function Rm(e,n,i,c,f,h){switch(i){case"style":_p(e,c,h);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(t(61));if(i=c.__html,i!=null){if(f.children!=null)throw Error(t(60));e.innerHTML=i}}break;case"children":typeof c=="string"?Is(e,c):(typeof c=="number"||typeof c=="bigint")&&Is(e,""+c);break;case"onScroll":c!=null&&Ue("scroll",e);break;case"onScrollEnd":c!=null&&Ue("scrollend",e);break;case"onClick":c!=null&&(e.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wp.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),n=i.slice(2,f?i.length-7:void 0),h=e[ta]||null,h=h!=null?h[i]:null,typeof h=="function"&&e.removeEventListener(n,h,f),typeof c=="function")){typeof h!="function"&&h!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,c,f);break e}i in e?e[i]=c:c===!0?e.setAttribute(i,""):ho(e,i,c)}}}function Zt(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",e),Ue("load",e);var c=!1,f=!1,h;for(h in i)if(i.hasOwnProperty(h)){var k=i[h];if(k!=null)switch(h){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(t(137,n));default:dt(e,n,h,k,i,null)}}f&&dt(e,n,"srcSet",i.srcSet,i,null),c&&dt(e,n,"src",i.src,i,null);return;case"input":Ue("invalid",e);var T=h=k=f=null,P=null,X=null;for(c in i)if(i.hasOwnProperty(c)){var se=i[c];if(se!=null)switch(c){case"name":f=se;break;case"type":k=se;break;case"checked":P=se;break;case"defaultChecked":X=se;break;case"value":h=se;break;case"defaultValue":T=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(t(137,n));break;default:dt(e,n,c,se,i,null)}}Mp(e,h,T,P,X,k,f,!1);return;case"select":Ue("invalid",e),c=k=h=null;for(f in i)if(i.hasOwnProperty(f)&&(T=i[f],T!=null))switch(f){case"value":h=T;break;case"defaultValue":k=T;break;case"multiple":c=T;default:dt(e,n,f,T,i,null)}n=h,i=k,e.multiple=!!c,n!=null?Rs(e,!!c,n,!1):i!=null&&Rs(e,!!c,i,!0);return;case"textarea":Ue("invalid",e),h=f=c=null;for(k in i)if(i.hasOwnProperty(k)&&(T=i[k],T!=null))switch(k){case"value":c=T;break;case"defaultValue":f=T;break;case"children":h=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(t(91));break;default:dt(e,n,k,T,i,null)}Tp(e,c,f,h);return;case"option":for(P in i)i.hasOwnProperty(P)&&(c=i[P],c!=null)&&(P==="selected"?e.selected=c&&typeof c!="function"&&typeof c!="symbol":dt(e,n,P,c,i,null));return;case"dialog":Ue("beforetoggle",e),Ue("toggle",e),Ue("cancel",e),Ue("close",e);break;case"iframe":case"object":Ue("load",e);break;case"video":case"audio":for(c=0;c<Si.length;c++)Ue(Si[c],e);break;case"image":Ue("error",e),Ue("load",e);break;case"details":Ue("toggle",e);break;case"embed":case"source":case"link":Ue("error",e),Ue("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in i)if(i.hasOwnProperty(X)&&(c=i[X],c!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(t(137,n));default:dt(e,n,X,c,i,null)}return;default:if(Qu(n)){for(se in i)i.hasOwnProperty(se)&&(c=i[se],c!==void 0&&Rm(e,n,se,c,i,void 0));return}}for(T in i)i.hasOwnProperty(T)&&(c=i[T],c!=null&&dt(e,n,T,c,i,null))}function uj(e,n,i,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,k=null,T=null,P=null,X=null,se=null;for(ae in i){var oe=i[ae];if(i.hasOwnProperty(ae)&&oe!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":P=oe;default:c.hasOwnProperty(ae)||dt(e,n,ae,null,c,oe)}}for(var W in c){var ae=c[W];if(oe=i[W],c.hasOwnProperty(W)&&(ae!=null||oe!=null))switch(W){case"type":h=ae;break;case"name":f=ae;break;case"checked":X=ae;break;case"defaultChecked":se=ae;break;case"value":k=ae;break;case"defaultValue":T=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(t(137,n));break;default:ae!==oe&&dt(e,n,W,ae,c,oe)}}Vu(e,k,T,P,X,se,h,f);return;case"select":ae=k=T=W=null;for(h in i)if(P=i[h],i.hasOwnProperty(h)&&P!=null)switch(h){case"value":break;case"multiple":ae=P;default:c.hasOwnProperty(h)||dt(e,n,h,null,c,P)}for(f in c)if(h=c[f],P=i[f],c.hasOwnProperty(f)&&(h!=null||P!=null))switch(f){case"value":W=h;break;case"defaultValue":T=h;break;case"multiple":k=h;default:h!==P&&dt(e,n,f,h,c,P)}n=T,i=k,c=ae,W!=null?Rs(e,!!i,W,!1):!!c!=!!i&&(n!=null?Rs(e,!!i,n,!0):Rs(e,!!i,i?[]:"",!1));return;case"textarea":ae=W=null;for(T in i)if(f=i[T],i.hasOwnProperty(T)&&f!=null&&!c.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:dt(e,n,T,null,c,f)}for(k in c)if(f=c[k],h=i[k],c.hasOwnProperty(k)&&(f!=null||h!=null))switch(k){case"value":W=f;break;case"defaultValue":ae=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(t(91));break;default:f!==h&&dt(e,n,k,f,c,h)}Ap(e,W,ae);return;case"option":for(var Ce in i)W=i[Ce],i.hasOwnProperty(Ce)&&W!=null&&!c.hasOwnProperty(Ce)&&(Ce==="selected"?e.selected=!1:dt(e,n,Ce,null,c,W));for(P in c)W=c[P],ae=i[P],c.hasOwnProperty(P)&&W!==ae&&(W!=null||ae!=null)&&(P==="selected"?e.selected=W&&typeof W!="function"&&typeof W!="symbol":dt(e,n,P,W,c,ae));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in i)W=i[Ee],i.hasOwnProperty(Ee)&&W!=null&&!c.hasOwnProperty(Ee)&&dt(e,n,Ee,null,c,W);for(X in c)if(W=c[X],ae=i[X],c.hasOwnProperty(X)&&W!==ae&&(W!=null||ae!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(t(137,n));break;default:dt(e,n,X,W,c,ae)}return;default:if(Qu(n)){for(var mt in i)W=i[mt],i.hasOwnProperty(mt)&&W!==void 0&&!c.hasOwnProperty(mt)&&Rm(e,n,mt,void 0,c,W);for(se in c)W=c[se],ae=i[se],!c.hasOwnProperty(se)||W===ae||W===void 0&&ae===void 0||Rm(e,n,se,W,c,ae);return}}for(var V in i)W=i[V],i.hasOwnProperty(V)&&W!=null&&!c.hasOwnProperty(V)&&dt(e,n,V,null,c,W);for(oe in c)W=c[oe],ae=i[oe],!c.hasOwnProperty(oe)||W===ae||W==null&&ae==null||dt(e,n,oe,W,c,ae)}function Ov(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dj(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,i=performance.getEntriesByType("resource"),c=0;c<i.length;c++){var f=i[c],h=f.transferSize,k=f.initiatorType,T=f.duration;if(h&&T&&Ov(k)){for(k=0,T=f.responseEnd,c+=1;c<i.length;c++){var P=i[c],X=P.startTime;if(X>T)break;var se=P.transferSize,oe=P.initiatorType;se&&Ov(oe)&&(P=P.responseEnd,k+=se*(P<T?1:(T-X)/(P-X)))}if(--c,n+=8*(h+k)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Im=null,Lm=null;function pc(e){return e.nodeType===9?e:e.ownerDocument}function Rv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Iv(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Pm(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var zm=null;function mj(){var e=window.event;return e&&e.type==="popstate"?e===zm?!1:(zm=e,!0):(zm=null,!1)}var Lv=typeof setTimeout=="function"?setTimeout:void 0,fj=typeof clearTimeout=="function"?clearTimeout:void 0,Pv=typeof Promise=="function"?Promise:void 0,pj=typeof queueMicrotask=="function"?queueMicrotask:typeof Pv<"u"?function(e){return Pv.resolve(null).then(e).catch(xj)}:Lv;function xj(e){setTimeout(function(){throw e})}function Ir(e){return e==="head"}function zv(e,n){var i=n,c=0;do{var f=i.nextSibling;if(e.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"||i==="/&"){if(c===0){e.removeChild(f),ml(n);return}c--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")c++;else if(i==="html")ki(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,ki(i);for(var h=i.firstChild;h;){var k=h.nextSibling,T=h.nodeName;h[Wr]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&h.rel.toLowerCase()==="stylesheet"||i.removeChild(h),h=k}}else i==="body"&&ki(e.ownerDocument.body);i=f}while(i);ml(n)}function Fv(e,n){var i=e;e=0;do{var c=i.nextSibling;if(i.nodeType===1?n?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(n?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=c}while(i)}function Fm(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Fm(i),q(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function hj(e,n,i,c){for(;e.nodeType===1;){var f=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[Wr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Ka(e.nextSibling),e===null)break}return null}function vj(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Ka(e.nextSibling),e===null))return null;return e}function Bv(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ka(e.nextSibling),e===null))return null;return e}function Bm(e){return e.data==="$?"||e.data==="$~"}function Hm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function bj(e,n){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||i.readyState!=="loading")n();else{var c=function(){n(),i.removeEventListener("DOMContentLoaded",c)};i.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function Ka(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ym=null;function Hv(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(n===0)return Ka(e.nextSibling);n--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||n++}e=e.nextSibling}return null}function Yv(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(n===0)return e;n--}else i!=="/$"&&i!=="/&"||n++}e=e.previousSibling}return null}function Uv(e,n,i){switch(n=pc(i),e){case"html":if(e=n.documentElement,!e)throw Error(t(452));return e;case"head":if(e=n.head,!e)throw Error(t(453));return e;case"body":if(e=n.body,!e)throw Error(t(454));return e;default:throw Error(t(451))}}function ki(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);q(e)}var Xa=new Map,qv=new Set;function xc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ar=R.d;R.d={f:gj,r:yj,D:Nj,C:jj,L:wj,m:Sj,X:kj,S:Cj,M:Dj};function gj(){var e=ar.f(),n=lc();return e||n}function yj(e){var n=It(e);n!==null&&n.tag===5&&n.type==="form"?ih(n):ar.r(e)}var cl=typeof document>"u"?null:document;function $v(e,n,i){var c=cl;if(c&&typeof n=="string"&&n){var f=Ya(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),qv.has(f)||(qv.add(f),e={rel:e,crossOrigin:i,href:n},c.querySelector(f)===null&&(n=c.createElement("link"),Zt(n,"link",e),$t(n),c.head.appendChild(n)))}}function Nj(e){ar.D(e),$v("dns-prefetch",e,null)}function jj(e,n){ar.C(e,n),$v("preconnect",e,n)}function wj(e,n,i){ar.L(e,n,i);var c=cl;if(c&&e&&n){var f='link[rel="preload"][as="'+Ya(n)+'"]';n==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+Ya(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+Ya(i.imageSizes)+'"]')):f+='[href="'+Ya(e)+'"]';var h=f;switch(n){case"style":h=ul(e);break;case"script":h=dl(e)}Xa.has(h)||(e=b({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),Xa.set(h,e),c.querySelector(f)!==null||n==="style"&&c.querySelector(Di(h))||n==="script"&&c.querySelector(Mi(h))||(n=c.createElement("link"),Zt(n,"link",e),$t(n),c.head.appendChild(n)))}}function Sj(e,n){ar.m(e,n);var i=cl;if(i&&e){var c=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Ya(c)+'"][href="'+Ya(e)+'"]',h=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=dl(e)}if(!Xa.has(h)&&(e=b({rel:"modulepreload",href:e},n),Xa.set(h,e),i.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Mi(h)))return}c=i.createElement("link"),Zt(c,"link",e),$t(c),i.head.appendChild(c)}}}function Cj(e,n,i){ar.S(e,n,i);var c=cl;if(c&&e){var f=sn(c).hoistableStyles,h=ul(e);n=n||"default";var k=f.get(h);if(!k){var T={loading:0,preload:null};if(k=c.querySelector(Di(h)))T.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},i),(i=Xa.get(h))&&Um(e,i);var P=k=c.createElement("link");$t(P),Zt(P,"link",e),P._p=new Promise(function(X,se){P.onload=X,P.onerror=se}),P.addEventListener("load",function(){T.loading|=1}),P.addEventListener("error",function(){T.loading|=2}),T.loading|=4,hc(k,n,c)}k={type:"stylesheet",instance:k,count:1,state:T},f.set(h,k)}}}function kj(e,n){ar.X(e,n);var i=cl;if(i&&e){var c=sn(i).hoistableScripts,f=dl(e),h=c.get(f);h||(h=i.querySelector(Mi(f)),h||(e=b({src:e,async:!0},n),(n=Xa.get(f))&&qm(e,n),h=i.createElement("script"),$t(h),Zt(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(f,h))}}function Dj(e,n){ar.M(e,n);var i=cl;if(i&&e){var c=sn(i).hoistableScripts,f=dl(e),h=c.get(f);h||(h=i.querySelector(Mi(f)),h||(e=b({src:e,async:!0,type:"module"},n),(n=Xa.get(f))&&qm(e,n),h=i.createElement("script"),$t(h),Zt(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(f,h))}}function Vv(e,n,i,c){var f=(f=ge.current)?xc(f):null;if(!f)throw Error(t(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=ul(i.href),i=sn(f).hoistableStyles,c=i.get(n),c||(c={type:"style",instance:null,count:0,state:null},i.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=ul(i.href);var h=sn(f).hoistableStyles,k=h.get(e);if(k||(f=f.ownerDocument||f,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,k),(h=f.querySelector(Di(e)))&&!h._p&&(k.instance=h,k.state.loading=5),Xa.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Xa.set(e,i),h||Mj(f,e,i,k.state))),n&&c===null)throw Error(t(528,""));return k}if(n&&c!==null)throw Error(t(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=dl(i),i=sn(f).hoistableScripts,c=i.get(n),c||(c={type:"script",instance:null,count:0,state:null},i.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(t(444,e))}}function ul(e){return'href="'+Ya(e)+'"'}function Di(e){return'link[rel="stylesheet"]['+e+"]"}function Gv(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Mj(e,n,i,c){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=e.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),Zt(n,"link",i),$t(n),e.head.appendChild(n))}function dl(e){return'[src="'+Ya(e)+'"]'}function Mi(e){return"script[async]"+e}function Qv(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var c=e.querySelector('style[data-href~="'+Ya(i.href)+'"]');if(c)return n.instance=c,$t(c),c;var f=b({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),$t(c),Zt(c,"style",f),hc(c,i.precedence,e),n.instance=c;case"stylesheet":f=ul(i.href);var h=e.querySelector(Di(f));if(h)return n.state.loading|=4,n.instance=h,$t(h),h;c=Gv(i),(f=Xa.get(f))&&Um(c,f),h=(e.ownerDocument||e).createElement("link"),$t(h);var k=h;return k._p=new Promise(function(T,P){k.onload=T,k.onerror=P}),Zt(h,"link",c),n.state.loading|=4,hc(h,i.precedence,e),n.instance=h;case"script":return h=dl(i.src),(f=e.querySelector(Mi(h)))?(n.instance=f,$t(f),f):(c=i,(f=Xa.get(h))&&(c=b({},i),qm(c,f)),e=e.ownerDocument||e,f=e.createElement("script"),$t(f),Zt(f,"link",c),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(t(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(c=n.instance,n.state.loading|=4,hc(c,i.precedence,e));return n.instance}function hc(e,n,i){for(var c=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,h=f,k=0;k<c.length;k++){var T=c[k];if(T.dataset.precedence===n)h=T;else if(h!==f)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function Um(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function qm(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var vc=null;function Kv(e,n,i){if(vc===null){var c=new Map,f=vc=new Map;f.set(i,c)}else f=vc,c=f.get(i),c||(c=new Map,f.set(i,c));if(c.has(e))return c;for(c.set(e,null),i=i.getElementsByTagName(e),f=0;f<i.length;f++){var h=i[f];if(!(h[Wr]||h[Ht]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var k=h.getAttribute(n)||"";k=e+k;var T=c.get(k);T?T.push(h):c.set(k,[h])}}return c}function Xv(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function Aj(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Wv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Tj(e,n,i,c){if(i.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=ul(c.href),h=n.querySelector(Di(f));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=bc.bind(e),n.then(e,e)),i.state.loading|=4,i.instance=h,$t(h);return}h=n.ownerDocument||n,c=Gv(c),(f=Xa.get(f))&&Um(c,f),h=h.createElement("link"),$t(h);var k=h;k._p=new Promise(function(T,P){k.onload=T,k.onerror=P}),Zt(h,"link",c),i.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=bc.bind(e),n.addEventListener("load",i),n.addEventListener("error",i))}}var $m=0;function Ej(e,n){return e.stylesheets&&e.count===0&&yc(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var c=setTimeout(function(){if(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+n);0<e.imgBytes&&$m===0&&($m=62500*dj());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>$m?50:800)+n);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var gc=null;function yc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,gc=new Map,n.forEach(_j,e),gc=null,bc.call(e))}function _j(e,n){if(!(n.state.loading&4)){var i=gc.get(e);if(i)var c=i.get(null);else{i=new Map,gc.set(e,i);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var k=f[h];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(i.set(k.dataset.precedence,k),c=k)}c&&i.set(null,c)}f=n.instance,k=f.getAttribute("data-precedence"),h=i.get(k)||c,h===c&&i.set(null,f),i.set(k,f),this.count++,c=bc.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),h?h.parentNode.insertBefore(f,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var Ai={$$typeof:y,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function Oj(e,n,i,c,f,h,k,T,P){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hr(0),this.hiddenUpdates=hr(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Zv(e,n,i,c,f,h,k,T,P,X,se,oe){return e=new Oj(e,n,i,k,P,X,se,oe,T),n=1,h===!0&&(n|=24),h=Aa(3,null,null,n),e.current=h,h.stateNode=e,n=Sd(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:c,isDehydrated:i,cache:n},Md(h),e}function Jv(e){return e?(e=Ys,e):Ys}function e0(e,n,i,c,f,h){f=Jv(f),c.context===null?c.context=f:c.pendingContext=f,c=Sr(n),c.payload={element:i},h=h===void 0?null:h,h!==null&&(c.callback=h),i=Cr(e,c,n),i!==null&&(ga(i,e,n),ii(i,e,n))}function t0(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function Vm(e,n){t0(e,n),(e=e.alternate)&&t0(e,n)}function a0(e){if(e.tag===13||e.tag===31){var n=as(e,67108864);n!==null&&ga(n,e,67108864),Vm(e,67108864)}}function n0(e){if(e.tag===13||e.tag===31){var n=Ra();n=Ul(n);var i=as(e,n);i!==null&&ga(i,e,n),Vm(e,n)}}var Nc=!0;function Rj(e,n,i,c){var f=B.T;B.T=null;var h=R.p;try{R.p=2,Gm(e,n,i,c)}finally{R.p=h,B.T=f}}function Ij(e,n,i,c){var f=B.T;B.T=null;var h=R.p;try{R.p=8,Gm(e,n,i,c)}finally{R.p=h,B.T=f}}function Gm(e,n,i,c){if(Nc){var f=Qm(c);if(f===null)Om(e,n,c,jc,i),s0(e,c);else if(Pj(f,e,n,i,c))c.stopPropagation();else if(s0(e,c),n&4&&-1<Lj.indexOf(e)){for(;f!==null;){var h=It(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var k=St(h.pendingLanes);if(k!==0){var T=h;for(T.pendingLanes|=2,T.entangledLanes|=2;k;){var P=1<<31-He(k);T.entanglements[1]|=P,k&=~P}wn(h),(tt&6)===0&&(rc=ce()+500,wi(0))}}break;case 31:case 13:T=as(h,2),T!==null&&ga(T,h,2),lc(),Vm(h,2)}if(h=Qm(c),h===null&&Om(e,n,c,jc,i),h===f)break;f=h}f!==null&&c.stopPropagation()}else Om(e,n,c,null,i)}}function Qm(e){return e=Xu(e),Km(e)}var jc=null;function Km(e){if(jc=null,e=fe(e),e!==null){var n=u(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=d(n),e!==null)return e;e=null}else if(i===31){if(e=m(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return jc=e,null}function r0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_e()){case be:return 2;case Te:return 8;case le:case ct:return 32;case ke:return 268435456;default:return 32}default:return 32}}var Xm=!1,Lr=null,Pr=null,zr=null,Ti=new Map,Ei=new Map,Fr=[],Lj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function s0(e,n){switch(e){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":Ti.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ei.delete(n.pointerId)}}function _i(e,n,i,c,f,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:i,eventSystemFlags:c,nativeEvent:h,targetContainers:[f]},n!==null&&(n=It(n),n!==null&&a0(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function Pj(e,n,i,c,f){switch(n){case"focusin":return Lr=_i(Lr,e,n,i,c,f),!0;case"dragenter":return Pr=_i(Pr,e,n,i,c,f),!0;case"mouseover":return zr=_i(zr,e,n,i,c,f),!0;case"pointerover":var h=f.pointerId;return Ti.set(h,_i(Ti.get(h)||null,e,n,i,c,f)),!0;case"gotpointercapture":return h=f.pointerId,Ei.set(h,_i(Ei.get(h)||null,e,n,i,c,f)),!0}return!1}function l0(e){var n=fe(e.target);if(n!==null){var i=u(n);if(i!==null){if(n=i.tag,n===13){if(n=d(i),n!==null){e.blockedOn=n,po(e.priority,function(){n0(i)});return}}else if(n===31){if(n=m(i),n!==null){e.blockedOn=n,po(e.priority,function(){n0(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=Qm(e.nativeEvent);if(i===null){i=e.nativeEvent;var c=new i.constructor(i.type,i);Ku=c,i.target.dispatchEvent(c),Ku=null}else return n=It(i),n!==null&&a0(n),e.blockedOn=i,!1;n.shift()}return!0}function i0(e,n,i){wc(e)&&i.delete(n)}function zj(){Xm=!1,Lr!==null&&wc(Lr)&&(Lr=null),Pr!==null&&wc(Pr)&&(Pr=null),zr!==null&&wc(zr)&&(zr=null),Ti.forEach(i0),Ei.forEach(i0)}function Sc(e,n){e.blockedOn===n&&(e.blockedOn=null,Xm||(Xm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,zj)))}var Cc=null;function o0(e){Cc!==e&&(Cc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Cc===e&&(Cc=null);for(var n=0;n<e.length;n+=3){var i=e[n],c=e[n+1],f=e[n+2];if(typeof c!="function"){if(Km(c||i)===null)continue;break}var h=It(i);h!==null&&(e.splice(n,3),n-=3,Qd(h,{pending:!0,data:f,method:i.method,action:c},c,f))}}))}function ml(e){function n(P){return Sc(P,e)}Lr!==null&&Sc(Lr,e),Pr!==null&&Sc(Pr,e),zr!==null&&Sc(zr,e),Ti.forEach(n),Ei.forEach(n);for(var i=0;i<Fr.length;i++){var c=Fr[i];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Fr.length&&(i=Fr[0],i.blockedOn===null);)l0(i),i.blockedOn===null&&Fr.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(c=0;c<i.length;c+=3){var f=i[c],h=i[c+1],k=f[ta]||null;if(typeof h=="function")k||o0(i);else if(k){var T=null;if(h&&h.hasAttribute("formAction")){if(f=h,k=h[ta]||null)T=k.formAction;else if(Km(f)!==null)continue}else T=k.action;typeof T=="function"?i[c+1]=T:(i.splice(c,3),c-=3),o0(i)}}}function c0(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(k){return f=k})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),c||setTimeout(i,20)}function i(){if(!c&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(i,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function Wm(e){this._internalRoot=e}kc.prototype.render=Wm.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(t(409));var i=n.current,c=Ra();e0(i,c,e,n,null,null)},kc.prototype.unmount=Wm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;e0(e.current,2,null,e,null,null),lc(),n[vr]=null}};function kc(e){this._internalRoot=e}kc.prototype.unstable_scheduleHydration=function(e){if(e){var n=fo();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Fr.length&&n!==0&&n<Fr[i].priority;i++);Fr.splice(i,0,e),i===0&&l0(e)}};var u0=l.version;if(u0!=="19.2.4")throw Error(t(527,u0,"19.2.4"));R.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(t(188)):(e=Object.keys(e).join(","),Error(t(268,e)));return e=p(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Fj={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{qt=Dc.inject(Fj),wt=Dc}catch{}}return Ri.createRoot=function(e,n){if(!o(e))throw Error(t(299));var i=!1,c="",f=vh,h=bh,k=gh;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(k=n.onRecoverableError)),n=Zv(e,1,!1,null,null,i,c,null,f,h,k,c0),e[vr]=n.current,_m(e),new Wm(n)},Ri.hydrateRoot=function(e,n,i){if(!o(e))throw Error(t(299));var c=!1,f="",h=vh,k=bh,T=gh,P=null;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(k=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.formState!==void 0&&(P=i.formState)),n=Zv(e,1,!0,n,i??null,c,f,P,h,k,T,c0),n.context=Jv(null),i=n.current,c=Ra(),c=Ul(c),f=Sr(c),f.callback=null,Cr(i,f,c),i=c,n.current.lanes=i,rn(n,i),wn(n),e[vr]=n.current,_m(e),new kc(n)},Ri.version="19.2.4",Ri}var y0;function Kj(){if(y0)return ef.exports;y0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(l){console.error(l)}}return s(),ef.exports=Qj(),ef.exports}var Xj=Kj();var N0="popstate";function Wj(s={}){function l(t,o){let{pathname:u,search:d,hash:m}=t.location;return Mf("",{pathname:u,search:d,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(t,o){return typeof o=="string"?o:Xi(o)}return Jj(l,r,null,s)}function Nt(s,l){if(s===!1||s===null||typeof s>"u")throw new Error(l)}function fn(s,l){if(!s){typeof console<"u"&&console.warn(l);try{throw new Error(l)}catch{}}}function Zj(){return Math.random().toString(36).substring(2,10)}function j0(s,l){return{usr:s.state,key:s.key,idx:l}}function Mf(s,l,r=null,t){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof l=="string"?Ll(l):l,state:r,key:l&&l.key||t||Zj()}}function Xi({pathname:s="/",search:l="",hash:r=""}){return l&&l!=="?"&&(s+=l.charAt(0)==="?"?l:"?"+l),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function Ll(s){let l={};if(s){let r=s.indexOf("#");r>=0&&(l.hash=s.substring(r),s=s.substring(0,r));let t=s.indexOf("?");t>=0&&(l.search=s.substring(t),s=s.substring(0,t)),s&&(l.pathname=s)}return l}function Jj(s,l,r,t={}){let{window:o=document.defaultView,v5Compat:u=!1}=t,d=o.history,m="POP",x=null,p=v();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function v(){return(d.state||{idx:null}).idx}function b(){m="POP";let g=v(),N=g==null?null:g-p;p=g,x&&x({action:m,location:S.location,delta:N})}function j(g,N){m="PUSH";let D=Mf(S.location,g,N);p=v()+1;let y=j0(D,p),E=S.createHref(D);try{d.pushState(y,"",E)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;o.location.assign(E)}u&&x&&x({action:m,location:S.location,delta:1})}function C(g,N){m="REPLACE";let D=Mf(S.location,g,N);p=v();let y=j0(D,p),E=S.createHref(D);d.replaceState(y,"",E),u&&x&&x({action:m,location:S.location,delta:0})}function M(g){return ew(g)}let S={get action(){return m},get location(){return s(o,d)},listen(g){if(x)throw new Error("A history only accepts one active listener");return o.addEventListener(N0,b),x=g,()=>{o.removeEventListener(N0,b),x=null}},createHref(g){return l(o,g)},createURL:M,encodeLocation(g){let N=M(g);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:j,replace:C,go(g){return d.go(g)}};return S}function ew(s,l=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Nt(r,"No window.location.(origin|href) available to create URL");let t=typeof s=="string"?s:Xi(s);return t=t.replace(/ $/,"%20"),!l&&t.startsWith("//")&&(t=r+t),new URL(t,r)}function fg(s,l,r="/"){return tw(s,l,r,!1)}function tw(s,l,r,t){let o=typeof l=="string"?Ll(l):l,u=cr(o.pathname||"/",r);if(u==null)return null;let d=pg(s);aw(d);let m=null;for(let x=0;m==null&&x<d.length;++x){let p=fw(u);m=dw(d[x],p,t)}return m}function pg(s,l=[],r=[],t="",o=!1){let u=(d,m,x=o,p)=>{let v={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:m,route:d};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(t)&&x)return;Nt(v.relativePath.startsWith(t),`Absolute route path "${v.relativePath}" nested under path "${t}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(t.length)}let b=lr([t,v.relativePath]),j=r.concat(v);d.children&&d.children.length>0&&(Nt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),pg(d.children,l,j,b,x)),!(d.path==null&&!d.index)&&l.push({path:b,score:cw(b,d.index),routesMeta:j})};return s.forEach((d,m)=>{if(d.path===""||!d.path?.includes("?"))u(d,m);else for(let x of xg(d.path))u(d,m,!0,x)}),l}function xg(s){let l=s.split("/");if(l.length===0)return[];let[r,...t]=l,o=r.endsWith("?"),u=r.replace(/\?$/,"");if(t.length===0)return o?[u,""]:[u];let d=xg(t.join("/")),m=[];return m.push(...d.map(x=>x===""?u:[u,x].join("/"))),o&&m.push(...d),m.map(x=>s.startsWith("/")&&x===""?"/":x)}function aw(s){s.sort((l,r)=>l.score!==r.score?r.score-l.score:uw(l.routesMeta.map(t=>t.childrenIndex),r.routesMeta.map(t=>t.childrenIndex)))}var nw=/^:[\w-]+$/,rw=3,sw=2,lw=1,iw=10,ow=-2,w0=s=>s==="*";function cw(s,l){let r=s.split("/"),t=r.length;return r.some(w0)&&(t+=ow),l&&(t+=sw),r.filter(o=>!w0(o)).reduce((o,u)=>o+(nw.test(u)?rw:u===""?lw:iw),t)}function uw(s,l){return s.length===l.length&&s.slice(0,-1).every((t,o)=>t===l[o])?s[s.length-1]-l[l.length-1]:0}function dw(s,l,r=!1){let{routesMeta:t}=s,o={},u="/",d=[];for(let m=0;m<t.length;++m){let x=t[m],p=m===t.length-1,v=u==="/"?l:l.slice(u.length)||"/",b=iu({path:x.relativePath,caseSensitive:x.caseSensitive,end:p},v),j=x.route;if(!b&&p&&r&&!t[t.length-1].route.index&&(b=iu({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),d.push({params:o,pathname:lr([u,b.pathname]),pathnameBase:vw(lr([u,b.pathnameBase])),route:j}),b.pathnameBase!=="/"&&(u=lr([u,b.pathnameBase]))}return d}function iu(s,l){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[r,t]=mw(s.path,s.caseSensitive,s.end),o=l.match(r);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:t.reduce((p,{paramName:v,isOptional:b},j)=>{if(v==="*"){let M=m[j]||"";d=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const C=m[j];return b&&!C?p[v]=void 0:p[v]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:d,pattern:s}}function mw(s,l=!1,r=!0){fn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let t=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,x)=>(t.push({paramName:m,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(t.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,l?void 0:"i"),t]}function fw(s){try{return s.split("/").map(l=>decodeURIComponent(l).replace(/\//g,"%2F")).join("/")}catch(l){return fn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${l}).`),s}}function cr(s,l){if(l==="/")return s;if(!s.toLowerCase().startsWith(l.toLowerCase()))return null;let r=l.endsWith("/")?l.length-1:l.length,t=s.charAt(r);return t&&t!=="/"?null:s.slice(r)||"/"}var pw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function xw(s,l="/"){let{pathname:r,search:t="",hash:o=""}=typeof s=="string"?Ll(s):s,u;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?u=S0(r.substring(1),"/"):u=S0(r,l)):u=l,{pathname:u,search:bw(t),hash:gw(o)}}function S0(s,l){let r=l.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function rf(s,l,r,t){return`Cannot include a '${s}' character in a manually specified \`to.${l}\` field [${JSON.stringify(t)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hw(s){return s.filter((l,r)=>r===0||l.route.path&&l.route.path.length>0)}function Vf(s){let l=hw(s);return l.map((r,t)=>t===l.length-1?r.pathname:r.pathnameBase)}function Gf(s,l,r,t=!1){let o;typeof s=="string"?o=Ll(s):(o={...s},Nt(!o.pathname||!o.pathname.includes("?"),rf("?","pathname","search",o)),Nt(!o.pathname||!o.pathname.includes("#"),rf("#","pathname","hash",o)),Nt(!o.search||!o.search.includes("#"),rf("#","search","hash",o)));let u=s===""||o.pathname==="",d=u?"/":o.pathname,m;if(d==null)m=r;else{let b=l.length-1;if(!t&&d.startsWith("..")){let j=d.split("/");for(;j[0]==="..";)j.shift(),b-=1;o.pathname=j.join("/")}m=b>=0?l[b]:"/"}let x=xw(o,m),p=d&&d!=="/"&&d.endsWith("/"),v=(u||d===".")&&r.endsWith("/");return!x.pathname.endsWith("/")&&(p||v)&&(x.pathname+="/"),x}var lr=s=>s.join("/").replace(/\/\/+/g,"/"),vw=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),bw=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,gw=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,yw=class{constructor(s,l,r,t=!1){this.status=s,this.statusText=l||"",this.internal=t,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Nw(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function jw(s){return s.map(l=>l.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var hg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function vg(s,l){let r=s;if(typeof r!="string"||!pw.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let t=r,o=!1;if(hg)try{let u=new URL(window.location.href),d=r.startsWith("//")?new URL(u.protocol+r):new URL(r),m=cr(d.pathname,l);d.origin===u.origin&&m!=null?r=m+d.search+d.hash:o=!0}catch{fn(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:t,isExternal:o,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var bg=["POST","PUT","PATCH","DELETE"];new Set(bg);var ww=["GET",...bg];new Set(ww);var Pl=w.createContext(null);Pl.displayName="DataRouter";var Au=w.createContext(null);Au.displayName="DataRouterState";var Sw=w.createContext(!1),gg=w.createContext({isTransitioning:!1});gg.displayName="ViewTransition";var Cw=w.createContext(new Map);Cw.displayName="Fetchers";var kw=w.createContext(null);kw.displayName="Await";var Fa=w.createContext(null);Fa.displayName="Navigation";var to=w.createContext(null);to.displayName="Location";var xn=w.createContext({outlet:null,matches:[],isDataRoute:!1});xn.displayName="Route";var Qf=w.createContext(null);Qf.displayName="RouteError";var yg="REACT_ROUTER_ERROR",Dw="REDIRECT",Mw="ROUTE_ERROR_RESPONSE";function Aw(s){if(s.startsWith(`${yg}:${Dw}:{`))try{let l=JSON.parse(s.slice(28));if(typeof l=="object"&&l&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.location=="string"&&typeof l.reloadDocument=="boolean"&&typeof l.replace=="boolean")return l}catch{}}function Tw(s){if(s.startsWith(`${yg}:${Mw}:{`))try{let l=JSON.parse(s.slice(40));if(typeof l=="object"&&l&&typeof l.status=="number"&&typeof l.statusText=="string")return new yw(l.status,l.statusText,l.data)}catch{}}function Ew(s,{relative:l}={}){Nt(zl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:t}=w.useContext(Fa),{hash:o,pathname:u,search:d}=ao(s,{relative:l}),m=u;return r!=="/"&&(m=u==="/"?r:lr([r,u])),t.createHref({pathname:m,search:d,hash:o})}function zl(){return w.useContext(to)!=null}function en(){return Nt(zl(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(to).location}var Ng="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jg(s){w.useContext(Fa).static||w.useLayoutEffect(s)}function As(){let{isDataRoute:s}=w.useContext(xn);return s?Vw():_w()}function _w(){Nt(zl(),"useNavigate() may be used only in the context of a <Router> component.");let s=w.useContext(Pl),{basename:l,navigator:r}=w.useContext(Fa),{matches:t}=w.useContext(xn),{pathname:o}=en(),u=JSON.stringify(Vf(t)),d=w.useRef(!1);return jg(()=>{d.current=!0}),w.useCallback((x,p={})=>{if(fn(d.current,Ng),!d.current)return;if(typeof x=="number"){r.go(x);return}let v=Gf(x,JSON.parse(u),o,p.relative==="path");s==null&&l!=="/"&&(v.pathname=v.pathname==="/"?l:lr([l,v.pathname])),(p.replace?r.replace:r.push)(v,p.state,p)},[l,r,u,o,s])}var Ow=w.createContext(null);function Rw(s){let l=w.useContext(xn).outlet;return w.useMemo(()=>l&&w.createElement(Ow.Provider,{value:s},l),[l,s])}function ao(s,{relative:l}={}){let{matches:r}=w.useContext(xn),{pathname:t}=en(),o=JSON.stringify(Vf(r));return w.useMemo(()=>Gf(s,JSON.parse(o),t,l==="path"),[s,o,t,l])}function Iw(s,l){return wg(s,l)}function wg(s,l,r,t,o){Nt(zl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=w.useContext(Fa),{matches:d}=w.useContext(xn),m=d[d.length-1],x=m?m.params:{},p=m?m.pathname:"/",v=m?m.pathnameBase:"/",b=m&&m.route;{let D=b&&b.path||"";Cg(p,!b||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let j=en(),C;if(l){let D=typeof l=="string"?Ll(l):l;Nt(v==="/"||D.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${D.pathname}" was given in the \`location\` prop.`),C=D}else C=j;let M=C.pathname||"/",S=M;if(v!=="/"){let D=v.replace(/^\//,"").split("/");S="/"+M.replace(/^\//,"").split("/").slice(D.length).join("/")}let g=fg(s,{pathname:S});fn(b||g!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),fn(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=Bw(g&&g.map(D=>Object.assign({},D,{params:Object.assign({},x,D.params),pathname:lr([v,u.encodeLocation?u.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?v:lr([v,u.encodeLocation?u.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),d,r,t,o);return l&&N?w.createElement(to.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},N):N}function Lw(){let s=$w(),l=Nw(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),r=s instanceof Error?s.stack:null,t="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:t},u={padding:"2px 4px",backgroundColor:t},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:u},"ErrorBoundary")," or"," ",w.createElement("code",{style:u},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},l),r?w.createElement("pre",{style:o},r):null,d)}var Pw=w.createElement(Lw,null),Sg=class extends w.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,l){return l.location!==s.location||l.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:l.error,location:l.location,revalidation:s.revalidation||l.revalidation}}componentDidCatch(s,l){this.props.onError?this.props.onError(s,l):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const r=Tw(s.digest);r&&(s=r)}let l=s!==void 0?w.createElement(xn.Provider,{value:this.props.routeContext},w.createElement(Qf.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?w.createElement(zw,{error:s},l):l}};Sg.contextType=Sw;var sf=new WeakMap;function zw({children:s,error:l}){let{basename:r}=w.useContext(Fa);if(typeof l=="object"&&l&&"digest"in l&&typeof l.digest=="string"){let t=Aw(l.digest);if(t){let o=sf.get(l);if(o)throw o;let u=vg(t.location,r);if(hg&&!sf.get(l))if(u.isExternal||t.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:t.replace}));throw sf.set(l,d),d}return w.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return s}function Fw({routeContext:s,match:l,children:r}){let t=w.useContext(Pl);return t&&t.static&&t.staticContext&&(l.route.errorElement||l.route.ErrorBoundary)&&(t.staticContext._deepestRenderedBoundaryId=l.route.id),w.createElement(xn.Provider,{value:s},r)}function Bw(s,l=[],r=null,t=null,o=null){if(s==null){if(!r)return null;if(r.errors)s=r.matches;else if(l.length===0&&!r.initialized&&r.matches.length>0)s=r.matches;else return null}let u=s,d=r?.errors;if(d!=null){let v=u.findIndex(b=>b.route.id&&d?.[b.route.id]!==void 0);Nt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let m=!1,x=-1;if(r)for(let v=0;v<u.length;v++){let b=u[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(x=v),b.route.id){let{loaderData:j,errors:C}=r,M=b.route.loader&&!j.hasOwnProperty(b.route.id)&&(!C||C[b.route.id]===void 0);if(b.route.lazy||M){m=!0,x>=0?u=u.slice(0,x+1):u=[u[0]];break}}}let p=r&&t?(v,b)=>{t(v,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:jw(r.matches),errorInfo:b})}:void 0;return u.reduceRight((v,b,j)=>{let C,M=!1,S=null,g=null;r&&(C=d&&b.route.id?d[b.route.id]:void 0,S=b.route.errorElement||Pw,m&&(x<0&&j===0?(Cg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,g=null):x===j&&(M=!0,g=b.route.hydrateFallbackElement||null)));let N=l.concat(u.slice(0,j+1)),D=()=>{let y;return C?y=S:M?y=g:b.route.Component?y=w.createElement(b.route.Component,null):b.route.element?y=b.route.element:y=v,w.createElement(Fw,{match:b,routeContext:{outlet:v,matches:N,isDataRoute:r!=null},children:y})};return r&&(b.route.ErrorBoundary||b.route.errorElement||j===0)?w.createElement(Sg,{location:r.location,revalidation:r.revalidation,component:S,error:C,children:D(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:p}):D()},null)}function Kf(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hw(s){let l=w.useContext(Pl);return Nt(l,Kf(s)),l}function Yw(s){let l=w.useContext(Au);return Nt(l,Kf(s)),l}function Uw(s){let l=w.useContext(xn);return Nt(l,Kf(s)),l}function Xf(s){let l=Uw(s),r=l.matches[l.matches.length-1];return Nt(r.route.id,`${s} can only be used on routes that contain a unique "id"`),r.route.id}function qw(){return Xf("useRouteId")}function $w(){let s=w.useContext(Qf),l=Yw("useRouteError"),r=Xf("useRouteError");return s!==void 0?s:l.errors?.[r]}function Vw(){let{router:s}=Hw("useNavigate"),l=Xf("useNavigate"),r=w.useRef(!1);return jg(()=>{r.current=!0}),w.useCallback(async(o,u={})=>{fn(r.current,Ng),r.current&&(typeof o=="number"?await s.navigate(o):await s.navigate(o,{fromRouteId:l,...u}))},[s,l])}var C0={};function Cg(s,l,r){!l&&!C0[s]&&(C0[s]=!0,fn(!1,r))}w.memo(Gw);function Gw({routes:s,future:l,state:r,onError:t}){return wg(s,void 0,r,t,l)}function ou({to:s,replace:l,state:r,relative:t}){Nt(zl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=w.useContext(Fa);fn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=w.useContext(xn),{pathname:d}=en(),m=As(),x=Gf(s,Vf(u),d,t==="path"),p=JSON.stringify(x);return w.useEffect(()=>{m(JSON.parse(p),{replace:l,state:r,relative:t})},[m,p,t,l,r]),null}function kg(s){return Rw(s.context)}function yt(s){Nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Qw({basename:s="/",children:l=null,location:r,navigationType:t="POP",navigator:o,static:u=!1,unstable_useTransitions:d}){Nt(!zl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=s.replace(/^\/*/,"/"),x=w.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:d,future:{}}),[m,o,u,d]);typeof r=="string"&&(r=Ll(r));let{pathname:p="/",search:v="",hash:b="",state:j=null,key:C="default"}=r,M=w.useMemo(()=>{let S=cr(p,m);return S==null?null:{location:{pathname:S,search:v,hash:b,state:j,key:C},navigationType:t}},[m,p,v,b,j,C,t]);return fn(M!=null,`<Router basename="${m}"> is not able to match the URL "${p}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:w.createElement(Fa.Provider,{value:x},w.createElement(to.Provider,{children:l,value:M}))}function Kw({children:s,location:l}){return Iw(Af(s),l)}function Af(s,l=[]){let r=[];return w.Children.forEach(s,(t,o)=>{if(!w.isValidElement(t))return;let u=[...l,o];if(t.type===w.Fragment){r.push.apply(r,Af(t.props.children,u));return}Nt(t.type===yt,`[${typeof t.type=="string"?t.type:t.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Nt(!t.props.index||!t.props.children,"An index route cannot have child routes.");let d={id:t.props.id||u.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,middleware:t.props.middleware,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:t.props.hasErrorBoundary===!0||t.props.ErrorBoundary!=null||t.props.errorElement!=null,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(d.children=Af(t.props.children,u)),r.push(d)}),r}var Wc="get",Zc="application/x-www-form-urlencoded";function Tu(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function Xw(s){return Tu(s)&&s.tagName.toLowerCase()==="button"}function Ww(s){return Tu(s)&&s.tagName.toLowerCase()==="form"}function Zw(s){return Tu(s)&&s.tagName.toLowerCase()==="input"}function Jw(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function e2(s,l){return s.button===0&&(!l||l==="_self")&&!Jw(s)}var Mc=null;function t2(){if(Mc===null)try{new FormData(document.createElement("form"),0),Mc=!1}catch{Mc=!0}return Mc}var a2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lf(s){return s!=null&&!a2.has(s)?(fn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zc}"`),null):s}function n2(s,l){let r,t,o,u,d;if(Ww(s)){let m=s.getAttribute("action");t=m?cr(m,l):null,r=s.getAttribute("method")||Wc,o=lf(s.getAttribute("enctype"))||Zc,u=new FormData(s)}else if(Xw(s)||Zw(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=s.getAttribute("formaction")||m.getAttribute("action");if(t=x?cr(x,l):null,r=s.getAttribute("formmethod")||m.getAttribute("method")||Wc,o=lf(s.getAttribute("formenctype"))||lf(m.getAttribute("enctype"))||Zc,u=new FormData(m,s),!t2()){let{name:p,type:v,value:b}=s;if(v==="image"){let j=p?`${p}.`:"";u.append(`${j}x`,"0"),u.append(`${j}y`,"0")}else p&&u.append(p,b)}}else{if(Tu(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Wc,t=null,o=Zc,d=s}return u&&o==="text/plain"&&(d=u,u=void 0),{action:t,method:r.toLowerCase(),encType:o,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wf(s,l){if(s===!1||s===null||typeof s>"u")throw new Error(l)}function r2(s,l,r,t){let o=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${t}`:o.pathname=`${o.pathname}.${t}`:o.pathname==="/"?o.pathname=`_root.${t}`:l&&cr(o.pathname,l)==="/"?o.pathname=`${l.replace(/\/$/,"")}/_root.${t}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${t}`,o}async function s2(s,l){if(s.id in l)return l[s.id];try{let r=await import(s.module);return l[s.id]=r,r}catch(r){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function l2(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function i2(s,l,r){let t=await Promise.all(s.map(async o=>{let u=l.routes[o.route.id];if(u){let d=await s2(u,r);return d.links?d.links():[]}return[]}));return d2(t.flat(1).filter(l2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function k0(s,l,r,t,o,u){let d=(x,p)=>r[p]?x.route.id!==r[p].route.id:!0,m=(x,p)=>r[p].pathname!==x.pathname||r[p].route.path?.endsWith("*")&&r[p].params["*"]!==x.params["*"];return u==="assets"?l.filter((x,p)=>d(x,p)||m(x,p)):u==="data"?l.filter((x,p)=>{let v=t.routes[x.route.id];if(!v||!v.hasLoader)return!1;if(d(x,p)||m(x,p))return!0;if(x.route.shouldRevalidate){let b=x.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function o2(s,l,{includeHydrateFallback:r}={}){return c2(s.map(t=>{let o=l.routes[t.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function c2(s){return[...new Set(s)]}function u2(s){let l={},r=Object.keys(s).sort();for(let t of r)l[t]=s[t];return l}function d2(s,l){let r=new Set;return new Set(l),s.reduce((t,o)=>{let u=JSON.stringify(u2(o));return r.has(u)||(r.add(u),t.push({key:u,link:o})),t},[])}function Dg(){let s=w.useContext(Pl);return Wf(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function m2(){let s=w.useContext(Au);return Wf(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Zf=w.createContext(void 0);Zf.displayName="FrameworkContext";function Mg(){let s=w.useContext(Zf);return Wf(s,"You must render this element inside a <HydratedRouter> element"),s}function f2(s,l){let r=w.useContext(Zf),[t,o]=w.useState(!1),[u,d]=w.useState(!1),{onFocus:m,onBlur:x,onMouseEnter:p,onMouseLeave:v,onTouchStart:b}=l,j=w.useRef(null);w.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let S=N=>{N.forEach(D=>{d(D.isIntersecting)})},g=new IntersectionObserver(S,{threshold:.5});return j.current&&g.observe(j.current),()=>{g.disconnect()}}},[s]),w.useEffect(()=>{if(t){let S=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(S)}}},[t]);let C=()=>{o(!0)},M=()=>{o(!1),d(!1)};return r?s!=="intent"?[u,j,{}]:[u,j,{onFocus:Ii(m,C),onBlur:Ii(x,M),onMouseEnter:Ii(p,C),onMouseLeave:Ii(v,M),onTouchStart:Ii(b,C)}]:[!1,j,{}]}function Ii(s,l){return r=>{s&&s(r),r.defaultPrevented||l(r)}}function p2({page:s,...l}){let{router:r}=Dg(),t=w.useMemo(()=>fg(r.routes,s,r.basename),[r.routes,s,r.basename]);return t?w.createElement(h2,{page:s,matches:t,...l}):null}function x2(s){let{manifest:l,routeModules:r}=Mg(),[t,o]=w.useState([]);return w.useEffect(()=>{let u=!1;return i2(s,l,r).then(d=>{u||o(d)}),()=>{u=!0}},[s,l,r]),t}function h2({page:s,matches:l,...r}){let t=en(),{future:o,manifest:u,routeModules:d}=Mg(),{basename:m}=Dg(),{loaderData:x,matches:p}=m2(),v=w.useMemo(()=>k0(s,l,p,u,t,"data"),[s,l,p,u,t]),b=w.useMemo(()=>k0(s,l,p,u,t,"assets"),[s,l,p,u,t]),j=w.useMemo(()=>{if(s===t.pathname+t.search+t.hash)return[];let S=new Set,g=!1;if(l.forEach(D=>{let y=u.routes[D.route.id];!y||!y.hasLoader||(!v.some(E=>E.route.id===D.route.id)&&D.route.id in x&&d[D.route.id]?.shouldRevalidate||y.hasClientLoader?g=!0:S.add(D.route.id))}),S.size===0)return[];let N=r2(s,m,o.unstable_trailingSlashAwareDataRequests,"data");return g&&S.size>0&&N.searchParams.set("_routes",l.filter(D=>S.has(D.route.id)).map(D=>D.route.id).join(",")),[N.pathname+N.search]},[m,o.unstable_trailingSlashAwareDataRequests,x,t,u,v,l,s,d]),C=w.useMemo(()=>o2(b,u),[b,u]),M=x2(b);return w.createElement(w.Fragment,null,j.map(S=>w.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),C.map(S=>w.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),M.map(({key:S,link:g})=>w.createElement("link",{key:S,nonce:r.nonce,...g,crossOrigin:g.crossOrigin??r.crossOrigin})))}function v2(...s){return l=>{s.forEach(r=>{typeof r=="function"?r(l):r!=null&&(r.current=l)})}}var b2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{b2&&(window.__reactRouterVersion="7.13.0")}catch{}function g2({basename:s,children:l,unstable_useTransitions:r,window:t}){let o=w.useRef();o.current==null&&(o.current=Wj({window:t,v5Compat:!0}));let u=o.current,[d,m]=w.useState({action:u.action,location:u.location}),x=w.useCallback(p=>{r===!1?m(p):w.startTransition(()=>m(p))},[r]);return w.useLayoutEffect(()=>u.listen(x),[u,x]),w.createElement(Qw,{basename:s,children:l,location:d.location,navigationType:d.action,navigator:u,unstable_useTransitions:r})}var Ag=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yl=w.forwardRef(function({onClick:l,discover:r="render",prefetch:t="none",relative:o,reloadDocument:u,replace:d,state:m,target:x,to:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:j,...C},M){let{basename:S,unstable_useTransitions:g}=w.useContext(Fa),N=typeof p=="string"&&Ag.test(p),D=vg(p,S);p=D.to;let y=Ew(p,{relative:o}),[E,_,H]=f2(t,C),$=j2(p,{replace:d,state:m,target:x,preventScrollReset:v,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:j,unstable_useTransitions:g});function O(I){l&&l(I),I.defaultPrevented||$(I)}let F=w.createElement("a",{...C,...H,href:D.absoluteURL||y,onClick:D.isExternal||u?l:O,ref:v2(M,_),target:x,"data-discover":!N&&r==="render"?"true":void 0});return E&&!N?w.createElement(w.Fragment,null,F,w.createElement(p2,{page:y})):F});yl.displayName="Link";var Jf=w.forwardRef(function({"aria-current":l="page",caseSensitive:r=!1,className:t="",end:o=!1,style:u,to:d,viewTransition:m,children:x,...p},v){let b=ao(d,{relative:p.relative}),j=en(),C=w.useContext(Au),{navigator:M,basename:S}=w.useContext(Fa),g=C!=null&&D2(b)&&m===!0,N=M.encodeLocation?M.encodeLocation(b).pathname:b.pathname,D=j.pathname,y=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;r||(D=D.toLowerCase(),y=y?y.toLowerCase():null,N=N.toLowerCase()),y&&S&&(y=cr(y,S)||y);const E=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let _=D===N||!o&&D.startsWith(N)&&D.charAt(E)==="/",H=y!=null&&(y===N||!o&&y.startsWith(N)&&y.charAt(N.length)==="/"),$={isActive:_,isPending:H,isTransitioning:g},O=_?l:void 0,F;typeof t=="function"?F=t($):F=[t,_?"active":null,H?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u($):u;return w.createElement(yl,{...p,"aria-current":O,className:F,ref:v,style:I,to:d,viewTransition:m},typeof x=="function"?x($):x)});Jf.displayName="NavLink";var y2=w.forwardRef(({discover:s="render",fetcherKey:l,navigate:r,reloadDocument:t,replace:o,state:u,method:d=Wc,action:m,onSubmit:x,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:j,...C},M)=>{let{unstable_useTransitions:S}=w.useContext(Fa),g=C2(),N=k2(m,{relative:p}),D=d.toLowerCase()==="get"?"get":"post",y=typeof m=="string"&&Ag.test(m),E=_=>{if(x&&x(_),_.defaultPrevented)return;_.preventDefault();let H=_.nativeEvent.submitter,$=H?.getAttribute("formmethod")||d,O=()=>g(H||_.currentTarget,{fetcherKey:l,method:$,navigate:r,replace:o,state:u,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:j});S&&r!==!1?w.startTransition(()=>O()):O()};return w.createElement("form",{ref:M,method:D,action:N,onSubmit:t?x:E,...C,"data-discover":!y&&s==="render"?"true":void 0})});y2.displayName="Form";function N2(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tg(s){let l=w.useContext(Pl);return Nt(l,N2(s)),l}function j2(s,{target:l,replace:r,state:t,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:m,unstable_useTransitions:x}={}){let p=As(),v=en(),b=ao(s,{relative:u});return w.useCallback(j=>{if(e2(j,l)){j.preventDefault();let C=r!==void 0?r:Xi(v)===Xi(b),M=()=>p(s,{replace:C,state:t,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:m});x?w.startTransition(()=>M()):M()}},[v,p,b,r,t,l,s,o,u,d,m,x])}var w2=0,S2=()=>`__${String(++w2)}__`;function C2(){let{router:s}=Tg("useSubmit"),{basename:l}=w.useContext(Fa),r=qw(),t=s.fetch,o=s.navigate;return w.useCallback(async(u,d={})=>{let{action:m,method:x,encType:p,formData:v,body:b}=n2(u,l);if(d.navigate===!1){let j=d.fetcherKey||S2();await t(j,r,d.action||m,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:v,body:b,formMethod:d.method||x,formEncType:d.encType||p,flushSync:d.flushSync})}else await o(d.action||m,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:v,body:b,formMethod:d.method||x,formEncType:d.encType||p,replace:d.replace,state:d.state,fromRouteId:r,flushSync:d.flushSync,viewTransition:d.viewTransition})},[t,o,l,r])}function k2(s,{relative:l}={}){let{basename:r}=w.useContext(Fa),t=w.useContext(xn);Nt(t,"useFormAction must be used inside a RouteContext");let[o]=t.matches.slice(-1),u={...ao(s||".",{relative:l})},d=en();if(s==null){u.search=d.search;let m=new URLSearchParams(u.search),x=m.getAll("index");if(x.some(v=>v==="")){m.delete("index"),x.filter(b=>b).forEach(b=>m.append("index",b));let v=m.toString();u.search=v?`?${v}`:""}}return(!s||s===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:lr([r,u.pathname])),Xi(u)}function D2(s,{relative:l}={}){let r=w.useContext(gg);Nt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:t}=Tg("useViewTransitionState"),o=ao(s,{relative:l});if(!r.isTransitioning)return!1;let u=cr(r.currentLocation.pathname,t)||r.currentLocation.pathname,d=cr(r.nextLocation.pathname,t)||r.nextLocation.pathname;return iu(o.pathname,d)!=null||iu(o.pathname,u)!=null}var Eg=mg();const M2=ug(Eg),A2="AKfycbx0UCLEGnx2sYWa6eO96KKpooiSvZOoxdqgRnGQVVXXL-vl7Y8jO_-L1s_0n5SPRU6c",ep="cf_access_token",tp="cf_token_expiry",ap="cf_user_name";function cu(){const s=localStorage.getItem(tp);return s&&Date.now()>Number(s)?(Jc(),null):localStorage.getItem(ep)}function D0(s,l=3500){localStorage.setItem(ep,s),localStorage.setItem(tp,String(Date.now()+l*1e3))}function Jc(){localStorage.removeItem(ep),localStorage.removeItem(tp),localStorage.removeItem(ap)}function M0(){return!!cu()}function A0(s){localStorage.setItem(ap,s)}function T2(){return localStorage.getItem(ap)||""}let Tf=null;function E2(s){Tf=s}async function Ne(s,l={},r=!0){const t=cu();if(!t)throw new Error("Not authenticated. Please sign in.");const m=await(await fetch(`https://script.googleapis.com/v1/scripts/${A2}:run`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({function:"apiRouter",devMode:!1,parameters:[{action:s,params:l,userName:T2()}]})})).json();if(m.error){if(r&&(m.error.code===401||m.error.code===403||m.error.status==="UNAUTHENTICATED"||m.error.status==="PERMISSION_DENIED")&&Tf)try{return await Tf(),Ne(s,l,!1)}catch{}if(m.error.details&&m.error.details.length>0){const x=m.error.details[0];throw new Error(x.errorMessage||"Script execution error")}throw new Error(m.error.message||"API error")}if(m.response&&m.response.result!==void 0){const x=m.response.result;if(x&&!x.success){const v=new Error(x.error||"Unknown error");throw v.code=x.code,v}const p=x?x.data:null;if(p&&p.success===!1)throw new Error(p.message||"Operation failed");return p}throw new Error("Unexpected response format")}const T0=()=>Ne("auth:me"),_2=(s,l)=>Ne("auth:invite",{email:s,name:l}),uu=()=>Ne("data:load-all"),_g=()=>Ne("members:list"),Og=s=>Ne("member:create",s),Rg=s=>Ne("member:update",s),Ig=s=>Ne("member:delete",{memberId:s}),Lg=()=>Ne("banks:list"),Pg=s=>Ne("bank:create",s),O2=s=>Ne("bank:update",s),zg=s=>Ne("bank:delete",{accountId:s}),Fg=()=>Ne("invaccounts:list"),Bg=s=>Ne("invacct:create",s),R2=s=>Ne("invacct:update",s),Hg=s=>Ne("invacct:delete",{accountId:s}),I2=()=>Ne("portfolios:list"),L2=s=>Ne("portfolio:create",s),P2=s=>Ne("portfolio:update",s),z2=s=>Ne("portfolio:delete",{portfolioId:s}),F2=s=>Ne("mf:invest",s),B2=s=>Ne("mf:redeem",s),H2=s=>Ne("mf:switch",s),Y2=(s,l)=>Ne("mf:allocations-update",{portfolioId:s,allocations:l}),U2=()=>Ne("funds:all"),Yg=()=>Ne("goals:list"),Ug=s=>Ne("goal:create",s),q2=(s,l)=>Ne("goal:update",{goalId:s,...l}),qg=s=>Ne("goal:delete",{goalId:s}),$2=()=>Ne("goal:mappings-list"),V2=(s,l)=>Ne("goal:mappings-update",{goalId:s,mappings:l}),$g=()=>Ne("insurance:list"),Vg=s=>Ne("insurance:create",s),G2=s=>Ne("insurance:update",s),Gg=s=>Ne("insurance:delete",{policyId:s}),Qg=()=>Ne("liabilities:list"),Kg=s=>Ne("liability:create",s),Q2=s=>Ne("liability:update",s),Xg=s=>Ne("liability:delete",{liabilityId:s}),Wg=()=>Ne("otherinv:list"),Zg=s=>Ne("otherinv:create",s),K2=s=>Ne("otherinv:update",s),Jg=s=>Ne("otherinv:delete",{investmentId:s}),ey=()=>Ne("stock-portfolios:list"),ty=s=>Ne("stock-portfolio:create",s),X2=s=>Ne("stock-portfolio:update",s),ay=s=>Ne("stock-portfolio:delete",{portfolioId:s}),W2=s=>Ne("stock:buy",s),Z2=s=>Ne("stock:sell",s),J2=s=>Ne("mf-transaction:delete",{transactionId:s}),eS=s=>Ne("mf-transaction:edit",s),tS=()=>Ne("mf-holdings:list"),aS=()=>Ne("mf-transactions:list"),nS=()=>Ne("stock-holdings:list-all"),rS=()=>Ne("stock-transactions:list-all"),ny=()=>Ne("reminders:list"),ry=s=>Ne("reminder:create",s),sS=s=>Ne("reminder:update",s),sy=s=>Ne("reminder:delete",{reminderId:s}),lS=s=>Ne("healthcheck:save",s),ly=()=>Ne("healthcheck:get"),iS=()=>Ne("settings:list"),oS=s=>Ne("settings:update",s),cS=()=>Ne("market:data"),uS=()=>Ne("data:refresh-master");typeof window<"u"&&(window._cf={callAPI:Ne,checkTriggers:()=>Ne("test:triggers"),diagnose:()=>Ne("test:diagnose")});const dS="capital-friends",mS=1,Ca="cache";let Li=null;function Fl(){return Li||(Li=new Promise((s,l)=>{const r=indexedDB.open(dS,mS);r.onupgradeneeded=t=>{const o=t.target.result;o.objectStoreNames.contains(Ca)||o.createObjectStore(Ca,{keyPath:"key"})},r.onsuccess=()=>s(r.result),r.onerror=()=>{console.warn("[idb] Failed to open database:",r.error),Li=null,l(r.error)}}),Li)}async function iy(s){try{const l=await Fl();return new Promise(r=>{const o=l.transaction(Ca,"readonly").objectStore(Ca).get(s);o.onsuccess=()=>r(o.result?o.result.data:null),o.onerror=()=>r(null)})}catch{return null}}async function fS(s){try{const l=await Fl();return new Promise(r=>{const o=l.transaction(Ca,"readonly").objectStore(Ca).get(s);o.onsuccess=()=>r(o.result||null),o.onerror=()=>r(null)})}catch{return null}}async function Na(s,l){try{const r=await Fl();return new Promise(t=>{const o=r.transaction(Ca,"readwrite");o.objectStore(Ca).put({key:s,data:l,updatedAt:Date.now()}),o.oncomplete=()=>t(),o.onerror=()=>t()})}catch{}}async function pS(){try{const s=await Fl();return new Promise(l=>{const t=s.transaction(Ca,"readonly").objectStore(Ca).getAll();t.onsuccess=()=>{const o={};for(const u of t.result||[])o[u.key]=u.data;l(o)},t.onerror=()=>l({})})}catch{return{}}}async function of(s){try{const l=await Fl();return new Promise(r=>{const t=l.transaction(Ca,"readwrite"),o=t.objectStore(Ca),u=Date.now();for(const[d,m]of Object.entries(s))o.put({key:d,data:m,updatedAt:u});t.oncomplete=()=>r(),t.onerror=()=>r()})}catch{}}async function xS(){try{const s=await Fl();return new Promise(l=>{const r=s.transaction(Ca,"readwrite");r.objectStore(Ca).clear(),r.oncomplete=()=>l(),r.onerror=()=>l()})}catch{}}const oy=w.createContext(null),hS="868467315292-7hfrvkh8pq8f1e2l3v38m6qrupboa295.apps.googleusercontent.com",vS=["https://www.googleapis.com/auth/spreadsheets","https://www.googleapis.com/auth/drive","https://www.googleapis.com/auth/gmail.send","https://www.googleapis.com/auth/script.scriptapp","openid","email","profile"].join(" "),np="cf_user_profile";function E0(){try{const s=localStorage.getItem(np);return s?JSON.parse(s):null}catch{return null}}function bS(s){try{localStorage.setItem(np,JSON.stringify(s))}catch{}}function _0(){localStorage.removeItem(np)}function gS({children:s}){const l=M0()?E0():null,[r,t]=w.useState(l),[o,u]=w.useState(!l),[d,m]=w.useState(null),x=w.useRef(null);function p(N){t(N),N?bS(N):_0()}w.useEffect(()=>{const N=()=>{if(!window.google?.accounts?.oauth2){setTimeout(N,200);return}x.current=window.google.accounts.oauth2.initTokenClient({client_id:hS,scope:vS,callback:v}),E2(C),M0()?j():u(!1)};N()},[]);async function v(N){if(N.error){m(N.error_description||N.error),u(!1);return}try{u(!0),m(null),D0(N.access_token,N.expires_in);const D=await b(N.access_token);A0(D.name||"");const y=await T0();p({email:y.email||D.email,name:y.name||D.name,role:y.role,picture:D.picture||""})}catch(D){m(D.message),Jc(),p(null)}finally{u(!1)}}async function b(N){const D=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${N}`}});if(!D.ok)throw new Error("Failed to fetch user profile");return D.json()}async function j(){const N=!!E0();try{const D=cu(),y=await b(D);A0(y.name||"");const E=await T0();p({email:E.email||y.email,name:E.name||y.name,role:E.role,picture:y.picture||""})}catch{Jc(),p(null)}finally{N||u(!1)}}function C(){return new Promise((N,D)=>{if(!x.current){D(new Error("Token client not initialized"));return}const y=x.current,E=y.callback;y.callback=_=>{y.callback=E,_.error?D(new Error(_.error)):(D0(_.access_token,_.expires_in),N())},y.requestAccessToken({prompt:""})})}const M=w.useCallback(()=>{x.current&&(m(null),x.current.requestAccessToken())},[]),S=w.useCallback(()=>{const N=cu();N&&window.google?.accounts?.oauth2&&window.google.accounts.oauth2.revoke(N),Jc(),_0(),xS(),sessionStorage.removeItem("cf_health_check"),t(null)},[]),g={user:r,loading:o,error:d,isAuthenticated:!!r,isOwner:r?.role==="owner",signIn:M,signOut:S};return a.jsx(oy.Provider,{value:g,children:s})}function Ts(){const s=w.useContext(oy);if(!s)throw new Error("useAuth must be used within AuthProvider");return s}const cy=w.createContext();function yS({children:s}){const[l,r]=w.useState(()=>{const o=localStorage.getItem("cf-theme");return o||(window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark")});w.useEffect(()=>{localStorage.setItem("cf-theme",l),document.documentElement.setAttribute("data-theme",l)},[l]);const t=()=>r(o=>o==="dark"?"light":"dark");return a.jsx(cy.Provider,{value:{theme:l,toggle:t},children:s})}function uy(){return w.useContext(cy)}const dy=w.createContext(),my="cf_hc_done";function NS(){try{return sessionStorage.getItem(my)==="1"?!0:null}catch{return null}}function fl(s){try{sessionStorage.setItem(my,s?"1":"0")}catch{}}function jS({children:s}){const{isAuthenticated:l}=Ts(),r=l?NS():null,[t,o]=w.useState(!0),[u,d]=w.useState(!1),[m,x]=w.useState(null),[p,v]=w.useState(null),[b,j]=w.useState(null),[C,M]=w.useState(null),[S,g]=w.useState(null),[N,D]=w.useState(null),[y,E]=w.useState(null),[_,H]=w.useState(null),[$,O]=w.useState(null),[F,I]=w.useState(null),[G,A]=w.useState(null),[re,U]=w.useState(null),[Z,B]=w.useState(null),[R,L]=w.useState(null),[me,ve]=w.useState(null),[z,ee]=w.useState(null),[ue,de]=w.useState(null),[Se,ge]=w.useState(r!==null?r:null),ye=w.useRef(!1),Ve=w.useCallback(q=>{q&&("members"in q&&v(q.members||[]),"bankAccounts"in q&&j(q.bankAccounts||[]),"investments"in q&&M(q.investments||[]),"insurancePolicies"in q&&g(q.insurancePolicies||[]),"liabilities"in q&&D(q.liabilities||[]),"otherInvestments"in q&&E(q.otherInvestments||[]),"stockPortfolios"in q&&H(q.stockPortfolios||[]),"stockHoldings"in q&&O(q.stockHoldings||[]),"stockTransactions"in q&&I(q.stockTransactions||[]),"mfPortfolios"in q&&A(q.mfPortfolios||[]),"mfHoldings"in q&&U((q.mfHoldings||[]).map(fe=>fe.schemeCode?fe:{...fe,schemeCode:fe.fundCode})),"mfTransactions"in q&&B(q.mfTransactions||[]),"goals"in q&&L(q.goals||[]),"reminders"in q&&ve(q.reminders||[]),"goalPortfolioMappings"in q&&ee(q.goalPortfolioMappings||[]),"settings"in q&&de(q.settings||{}))},[]),We=w.useCallback(q=>{of({members:q.members||[],bankAccounts:q.bankAccounts||[],investments:q.investments||[],insurancePolicies:q.insurancePolicies||[],liabilities:q.liabilities||[],otherInvestments:q.otherInvestments||[],stockPortfolios:q.stockPortfolios||[],stockHoldings:q.stockHoldings||[],stockTransactions:q.stockTransactions||[],mfPortfolios:q.mfPortfolios||[],mfHoldings:q.mfHoldings||[],mfTransactions:q.mfTransactions||[],goals:q.goals||[],reminders:q.reminders||[],goalPortfolioMappings:q.goalPortfolioMappings||[]})},[]),Qt=w.useCallback(async(q=!1)=>{try{q?d(!0):o(!0),x(null);const fe=await uu();Ve(fe),We(fe)}catch(fe){x(fe.message)}finally{o(!1),d(!1)}},[Ve,We]),Bt=w.useCallback(async()=>{const q=await _g();v(q||[]),Na("members",q||[])},[]),kt=w.useCallback(async()=>{const q=await Lg();j(q||[]),Na("bankAccounts",q||[])},[]),ot=w.useCallback(async()=>{const q=await Fg();M(q||[]),Na("investments",q||[])},[]),je=w.useCallback(async()=>{const q=await $g();g(q||[]),Na("insurancePolicies",q||[])},[]),ze=w.useCallback(async()=>{const q=await Qg();D(q||[]),Na("liabilities",q||[])},[]),pt=w.useCallback(async()=>{const q=await Wg();E(q||[]),Na("otherInvestments",q||[])},[]),la=w.useCallback(async()=>{const[q,fe]=await Promise.all([Yg(),$2()]);L(q||[]),ee(fe||[]),Na("goals",q||[]),Na("goalPortfolioMappings",fe||[])},[]),Ba=w.useCallback(async()=>{const q=await ny();ve(q||[]),Na("reminders",q||[])},[]),xt=w.useCallback(async()=>{const[q,fe,It]=await Promise.all([I2(),tS(),aS()]),Da=(fe||[]).map(sn=>sn.schemeCode?sn:{...sn,schemeCode:sn.fundCode});A(q||[]),U(Da),B(It||[]),of({mfPortfolios:q||[],mfHoldings:Da,mfTransactions:It||[]})},[]),jt=w.useCallback(async()=>{const[q,fe,It]=await Promise.all([ey(),nS(),rS()]);H(q||[]),O(fe||[]),I(It||[]),of({stockPortfolios:q||[],stockHoldings:fe||[],stockTransactions:It||[]})},[]),ma=w.useCallback(async()=>{const q=await iS();de(q||{}),Na("settings",q||{})},[]),Xr=w.useCallback(async q=>{await oS(q),await ma()},[ma]),J=w.useCallback(async()=>{try{const q=await iy("healthCheckAnswers");if(q&&Object.keys(q).length>0){ge(!0),fl(!0);return}const fe=await ly();fe&&Object.keys(fe).length>0?(ge(!0),fl(!0),Na("healthCheckAnswers",fe)):(ge(!1),fl(!1))}catch{ge(!1),fl(!1)}},[]),ce=w.useCallback(async q=>{const fe=await lS(q);return fe?.success&&(ge(!0),fl(!0),Na("healthCheckAnswers",q)),fe},[]);w.useEffect(()=>{if(!l){o(!1);return}if(ye.current)return;ye.current=!0;async function q(){const fe=await pS(),It=Object.keys(fe).length>0;It&&(Ve(fe),fe.healthCheckAnswers&&Object.keys(fe.healthCheckAnswers).length>0&&(ge(!0),fl(!0)),o(!1));try{It&&d(!0);const Da=await uu();Ve(Da),We(Da)}catch(Da){It||x(Da.message)}finally{o(!1),d(!1)}}q(),ma().catch(()=>{}),r===null&&J().catch(()=>{})},[l,Ve,We,ma,J]),w.useEffect(()=>{l||(ye.current=!1)},[l]);const _e=w.useCallback(async q=>{const fe=await Og(q);if(q.email)try{await _2(q.email,q.memberName)}catch(It){console.warn("Auto-invite failed (non-blocking):",It.message)}return await Bt(),fe},[Bt]),be=w.useCallback(async(q,fe)=>{await Rg({memberId:q,...fe}),await Bt()},[Bt]),Te=w.useCallback(async q=>{await Ig(q),await Bt()},[Bt]),le=w.useCallback(async q=>{const fe=await Pg(q);return await kt(),fe},[kt]),ct=w.useCallback(async(q,fe)=>{await O2({accountId:q,...fe}),await kt()},[kt]),ke=w.useCallback(async q=>{await zg(q),await kt()},[kt]),nt=w.useCallback(async q=>{const fe=await Bg(q);return await ot(),fe},[ot]),ia=w.useCallback(async(q,fe)=>{await R2({accountId:q,...fe}),await ot()},[ot]),qt=w.useCallback(async q=>{await Hg(q),await ot()},[ot]),wt=w.useCallback(async q=>{const fe=await Vg(q);return await je(),fe},[je]),Be=w.useCallback(async(q,fe)=>{await G2({policyId:q,...fe}),await je()},[je]),He=w.useCallback(async q=>{await Gg(q),await je()},[je]),tn=w.useCallback(async q=>{const fe=await Kg(q);return await ze(),fe},[ze]),fa=w.useCallback(async(q,fe)=>{await Q2({liabilityId:q,...fe}),await ze()},[ze]),an=w.useCallback(async q=>{await Xg(q),await ze()},[ze]),vn=w.useCallback(async q=>{const fe=await Zg(q);return await pt(),q.quickLoan&&await ze(),fe},[pt,ze]),bn=w.useCallback(async(q,fe)=>{await K2({investmentId:q,...fe}),await pt()},[pt]),xe=w.useCallback(async q=>{await Jg(q),await pt()},[pt]),St=w.useCallback(async q=>{const fe=await Ug(q);return await la(),fe},[la]),nn=w.useCallback(async(q,fe)=>{await q2(q,fe),await la()},[la]),ka=w.useCallback(async q=>{await qg(q),await la()},[la]),xr=w.useCallback(async q=>{const fe=await ry(q);return await Ba(),fe},[Ba]),zn=w.useCallback(async(q,fe)=>{await sS({reminderId:q,...fe}),await Ba()},[Ba]),hr=w.useCallback(async q=>{await sy(q),await Ba()},[Ba]),rn=w.useCallback(async(q,fe)=>{await V2(q,fe),await la()},[la]),_s=w.useCallback(async q=>{const fe=await ty(q);return await jt(),fe},[jt]),co=w.useCallback(async(q,fe)=>{await X2({portfolioId:q,...fe}),await jt()},[jt]),uo=w.useCallback(async q=>{await ay(q),await jt()},[jt]),mo=w.useCallback(async q=>{const fe=await W2(q);return await jt(),fe},[jt]),Ul=w.useCallback(async q=>{const fe=await Z2(q);return await jt(),fe},[jt]),ql=w.useCallback(async q=>{const fe=await L2(q);return await xt(),fe},[xt]),fo=w.useCallback(async(q,fe)=>{await P2({portfolioId:q,...fe}),await xt()},[xt]),po=w.useCallback(async q=>{await z2(q),await xt()},[xt]),gn=w.useCallback(async(q,fe)=>{const It=await F2({...q,transactionType:fe});return await xt(),It},[xt]),Ht=w.useCallback(async q=>{const fe=await B2(q);return await xt(),fe},[xt]),ta=w.useCallback(async q=>{const fe=await H2(q);return await xt(),fe},[xt]),vr=w.useCallback(async(q,fe)=>{await Y2(q,fe),await xt()},[xt]),$l=w.useCallback(async q=>{await J2(q),await xt()},[xt]),Uu=w.useCallback(async q=>{await eS(q),await xt()},[xt]),qu=(p||[]).filter(q=>q.status==="Active"),xo=(b||[]).filter(q=>q.status==="Active"),Wr=(C||[]).filter(q=>q.status==="Active");return a.jsx(dy.Provider,{value:{loading:t,isRefreshing:u,error:m,refreshData:Qt,members:p,banks:b,investmentAccounts:C,insurancePolicies:S,liabilityList:N,otherInvList:y,activeMembers:qu,activeBanks:xo,activeInvestmentAccounts:Wr,addMember:_e,updateMember:be,deleteMember:Te,addBankAccount:le,updateBankAccount:ct,deleteBankAccount:ke,addInvestmentAccount:nt,updateInvestmentAccount:ia,deleteInvestmentAccount:qt,addInsurance:wt,updateInsurance:Be,deleteInsurance:He,addLiability:tn,updateLiability:fa,deleteLiability:an,addOtherInvestment:vn,updateOtherInvestment:bn,deleteOtherInvestment:xe,goalList:R,addGoal:St,updateGoal:nn,deleteGoal:ka,reminderList:me,addReminder:xr,updateReminder:zn,deleteReminder:hr,goalPortfolioMappings:z,updateGoalMappings:rn,stockPortfolios:_,stockHoldings:$,stockTransactions:F,addStockPortfolio:_s,updateStockPortfolio:co,deleteStockPortfolio:uo,buyStock:mo,sellStock:Ul,mfPortfolios:G,mfHoldings:re,mfTransactions:Z,addMFPortfolio:ql,updateMFPortfolio:fo,deleteMFPortfolio:po,investMF:gn,redeemMF:Ht,switchMF:ta,updateHoldingAllocations:vr,deleteMFTransaction:$l,editMFTransaction:Uu,settings:ue,updateSettings:Xr,refreshSettings:ma,healthCheckCompleted:Se,completeHealthCheck:ce},children:s})}function $e(){return w.useContext(dy)}const fy=w.createContext();function wS({children:s}){const{activeMembers:l}=$e(),[r,t]=w.useState("all"),o=l.find(u=>u.memberId===r)||null;return a.jsx(fy.Provider,{value:{selectedMember:r,setSelectedMember:t,member:o,familyMembers:l},children:s})}function Jt(){return w.useContext(fy)}const py=(...s)=>s.filter((l,r,t)=>!!l&&l.trim()!==""&&t.indexOf(l)===r).join(" ").trim();const SS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const CS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(l,r,t)=>t?t.toUpperCase():r.toLowerCase());const O0=s=>{const l=CS(s);return l.charAt(0).toUpperCase()+l.slice(1)};var kS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const DS=s=>{for(const l in s)if(l.startsWith("aria-")||l==="role"||l==="title")return!0;return!1};const MS=w.forwardRef(({color:s="currentColor",size:l=24,strokeWidth:r=2,absoluteStrokeWidth:t,className:o="",children:u,iconNode:d,...m},x)=>w.createElement("svg",{ref:x,...kS,width:l,height:l,stroke:s,strokeWidth:t?Number(r)*24/Number(l):r,className:py("lucide",o),...!u&&!DS(m)&&{"aria-hidden":"true"},...m},[...d.map(([p,v])=>w.createElement(p,v)),...Array.isArray(u)?u:[u]]));const we=(s,l)=>{const r=w.forwardRef(({className:t,...o},u)=>w.createElement(MS,{ref:u,iconNode:l,className:py(`lucide-${SS(O0(s))}`,`lucide-${s}`,t),...o}));return r.displayName=O0(s),r};const AS=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],TS=we("arrow-down",AS);const ES=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],_S=we("arrow-right",ES);const OS=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],RS=we("arrow-up-down",OS);const IS=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],LS=we("bell-off",IS);const PS=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Eu=we("bell",PS);const zS=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],xy=we("briefcase",zS);const FS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],BS=we("calendar",FS);const HS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Gi=we("chart-column",HS);const YS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],R0=we("check",YS);const US=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],qr=we("chevron-down",US);const qS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],hy=we("chevron-left",qS);const $S=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Qi=we("chevron-right",$S);const VS=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],GS=we("chevron-up",VS);const QS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],vy=we("circle-arrow-down",QS);const KS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],XS=we("circle-check-big",KS);const WS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Bl=we("circle-check",WS);const ZS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],by=we("circle-x",ZS);const JS=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],gy=we("clipboard-check",JS);const e5=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],t5=we("coffee",e5);const a5=[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]],n5=we("construction",a5);const r5=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Wi=we("credit-card",r5);const s5=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],l5=we("database",s5);const i5=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],o5=we("dollar-sign",i5);const c5=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],u5=we("ellipsis-vertical",c5);const d5=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],m5=we("ellipsis",d5);const f5=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rp=we("eye",f5);const p5=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],eu=we("eye-off",p5);const x5=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],h5=we("file-spreadsheet",x5);const v5=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],yy=we("file-text",v5);const b5=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Ny=we("funnel",b5);const g5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],y5=we("globe",g5);const N5=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],du=we("heart",N5);const j5=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],w5=we("indian-rupee",j5);const S5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],C5=we("info",S5);const k5=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],jy=we("landmark",k5);const D5=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],wy=we("layers",D5);const M5=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],mu=we("link-2",M5);const A5=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],fu=we("list",A5);const T5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Sy=we("loader-circle",T5);const E5=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],cf=we("lock",E5);const _5=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],O5=we("log-in",_5);const R5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Cy=we("log-out",R5);const I5=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],L5=we("mail",I5);const P5=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],z5=we("menu",P5);const F5=[["path",{d:"M5 12h14",key:"1ays0h"}]],uf=we("minus",F5);const B5=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],ky=we("moon",B5);const H5=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Dy=we("package",H5);const Y5=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],hn=we("pencil",Y5);const U5=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],q5=we("piggy-bank",U5);const $5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Gt=we("plus",$5);const V5=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Sl=we("refresh-cw",V5);const G5=[["path",{d:"m2 9 3-3 3 3",key:"1ltn5i"}],["path",{d:"M13 18H7a2 2 0 0 1-2-2V6",key:"1r6tfw"}],["path",{d:"m22 15-3 3-3-3",key:"4rnwn2"}],["path",{d:"M11 6h6a2 2 0 0 1 2 2v10",key:"2f72bc"}]],Q5=we("repeat-2",G5);const K5=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],X5=we("repeat",K5);const W5=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Z5=we("save",W5);const J5=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],eC=we("search",J5);const tC=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],aC=we("settings-2",tC);const nC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sp=we("settings",nC);const rC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ki=we("shield",rC);const sC=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Ef=we("sun",sC);const lC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],no=we("target",lC);const iC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],_u=we("trash-2",iC);const oC=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Ou=we("trending-down",oC);const cC=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Cl=we("trending-up",cC);const uC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],kl=we("triangle-alert",uC);const dC=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],I0=we("trophy",dC);const mC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],fC=we("user",mC);const pC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Dl=we("users",pC);const xC=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Nl=we("wallet",xC);const hC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ro=we("x",hC);const vC=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],_f=we("zap",vC),My=w.createContext();function bC({children:s}){const[l,r]=w.useState([]),[t,o]=w.useState(null),u=w.useRef(0),d=w.useCallback((v,b="success")=>{const j=++u.current;r(C=>[...C,{id:j,message:v,type:b}]),setTimeout(()=>r(C=>C.filter(M=>M.id!==j)),3e3)},[]),m=w.useCallback(v=>{r(b=>b.filter(j=>j.id!==v))},[]),x=w.useCallback((v="Saving...")=>{o(v)},[]),p=w.useCallback(()=>{o(null)},[]);return a.jsxs(My.Provider,{value:{showToast:d,showBlockUI:x,hideBlockUI:p},children:[s,t&&a.jsx("div",{className:"fixed inset-0 z-[200] bg-black/50 backdrop-blur-sm flex items-center justify-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-3 bg-[var(--bg-card)] rounded-xl px-8 py-6 border border-[var(--border)] shadow-2xl",children:[a.jsx("span",{className:"w-7 h-7 border-[2.5px] border-violet-400/30 border-t-violet-400 rounded-full animate-spin"}),a.jsx("span",{className:"text-sm font-semibold text-[var(--text-primary)]",children:t})]})}),l.length>0&&a.jsx("div",{className:"fixed bottom-20 sm:bottom-6 left-1/2 -translate-x-1/2 z-[100] flex flex-col gap-2 items-center pointer-events-none",children:l.map(v=>a.jsxs("div",{className:`pointer-events-auto flex items-center gap-2 px-4 py-2.5 rounded-lg shadow-xl border text-sm font-medium animate-fade-in ${v.type==="error"?"bg-rose-500/15 border-rose-500/30 text-[var(--accent-rose)]":"bg-emerald-500/15 border-emerald-500/30 text-emerald-400"}`,style:{backdropFilter:"blur(12px)"},children:[v.type==="error"?a.jsx(by,{size:16}):a.jsx(Bl,{size:16}),a.jsx("span",{children:v.message}),a.jsx("button",{onClick:()=>m(v.id),className:"ml-1 opacity-60 hover:opacity-100 transition-opacity",children:a.jsx(ro,{size:14})})]},v.id))})]})}function In(){return w.useContext(My)}const Ay=w.createContext(),L0="cf-mask-data";function gC(s){return!s||s.length<4?"":""+s.slice(-4)}function yC(s){return!s||s.length<4?"  ":"  "+s.slice(-4)}function NC(s){return!s||s.length<3?"":""+s.slice(-3)}function jC(s){if(!s)return"@";const[l,r]=s.split("@");if(!r)return"@";const t=l.charAt(0)+"",o=r.split("."),u=o[0].charAt(0)+""+(o.length>1?"."+o.slice(1).join("."):"");return t+"@"+u}function wC(s){return!s||s.length<4?"":""+s.slice(-4)}function SC(s){return!s||s.length<3?"":""+s.slice(-3)}function CC(s){return!s||s.length<4?"":""+s.slice(-4)}const kC={pan:gC,aadhaar:yC,mobile:NC,email:jC,account:wC,clientId:SC,policy:CC};function DC({children:s}){const[l,r]=w.useState(()=>{try{return localStorage.getItem(L0)==="true"}catch{return!1}});w.useEffect(()=>{try{localStorage.setItem(L0,String(l))}catch{}},[l]);const t=w.useCallback(()=>r(u=>!u),[]),o=w.useCallback((u,d)=>{if(!l||u==null||u==="")return u;const m=kC[d];return m?m(String(u)):u},[l]);return a.jsx(Ay.Provider,{value:{masked:l,toggleMask:t,mv:o},children:s})}function Ln(){return w.useContext(Ay)}const P0=[{label:"Family",icon:Dl,path:"/family"},{label:"Accounts",icon:Wi,children:[{label:"Bank Accounts",icon:jy,path:"/accounts/bank"},{label:"Investment A/c",icon:xy,path:"/accounts/investment"}]},{label:"Insurance",icon:Ki,path:"/insurance"},{label:"Investments",icon:Nl,children:[{label:"Mutual Funds",icon:Nl,path:"/investments/mutual-funds"},{label:"Stocks",icon:Gi,path:"/investments/stocks"},{label:"Other Investments",icon:Dy,path:"/investments/other"}]},{label:"Liabilities",icon:Wi,path:"/liabilities"},{label:"Goals",icon:no,path:"/goals"},{label:"Settings",icon:sp,path:"/settings"}];function MC({open:s,onClose:l}){const r=en(),t=P0.filter(m=>m.children?.some(x=>r.pathname.startsWith(x.path))).map(m=>m.label),[o,u]=w.useState(new Set(t));function d(m){u(x=>{const p=new Set(x);return p.has(m)?p.delete(m):p.add(m),p})}return a.jsxs(a.Fragment,{children:[s&&a.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 lg:hidden",onClick:l}),a.jsxs("aside",{className:`
        fixed top-0 left-0 z-50 h-full w-56
        bg-[var(--bg-sidebar)] border-r border-[var(--border)]
        flex flex-col transition-transform duration-300
        lg:hidden
        ${s?"translate-x-0":"-translate-x-full"}
      `,children:[a.jsxs("div",{className:"flex items-center justify-between px-3 h-12 border-b border-[var(--border)] shrink-0",children:[a.jsx("p",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Menu"}),a.jsx("button",{onClick:l,className:"p-1.5 rounded-md text-[var(--text-dim)] hover:text-[var(--text-primary)]",children:a.jsx(ro,{size:16})})]}),a.jsx("nav",{className:"flex-1 py-2 overflow-y-auto overflow-x-hidden",children:P0.map(m=>m.children?a.jsx(AC,{item:m,isOpen:o.has(m.label),onToggle:()=>d(m.label),onNavigate:l,currentPath:r.pathname},m.label):a.jsx(Ty,{item:m,onNavigate:l},m.path))})]})]})}function Ty({item:s,onNavigate:l,nested:r}){const{label:t,icon:o,path:u}=s;return a.jsx(Jf,{to:u,onClick:l,end:u==="/",className:({isActive:d})=>`group flex items-center gap-2.5 ${r?"pl-11 pr-4 py-[7px]":"px-4 py-2.5"} text-[13px] font-medium transition-all border-r-2 ${d?"bg-[var(--sidebar-active-bg)] text-[var(--sidebar-active-text)] border-[var(--sidebar-active-text)]":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] border-transparent"}`,children:({isActive:d})=>a.jsxs(a.Fragment,{children:[a.jsx(o,{size:r?14:17,strokeWidth:d?2.2:1.7}),a.jsx("span",{children:t})]})})}function AC({item:s,isOpen:l,onToggle:r,onNavigate:t,currentPath:o}){const{label:u,icon:d,children:m}=s,x=m.some(p=>o.startsWith(p.path));return a.jsxs("div",{children:[a.jsxs("button",{onClick:r,className:`w-full group flex items-center gap-2.5 px-4 py-2.5 text-[13px] font-medium transition-all border-r-2 border-transparent ${x?"text-[var(--sidebar-active-text)]":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,children:[a.jsx(d,{size:17,strokeWidth:x?2.2:1.7}),a.jsx("span",{className:"flex-1 text-left",children:u}),a.jsx(qr,{size:13,className:`text-[var(--text-dim)] transition-transform duration-200 ${l?"rotate-180":""}`})]}),l&&a.jsx("div",{className:"py-0.5",children:m.map(p=>a.jsx(Ty,{item:p,onNavigate:t,nested:!0},p.path))})]})}function Q(s){return s>=1e7?`${(s/1e7).toFixed(2)} Cr`:s>=1e5?`${(s/1e5).toFixed(2)} L`:s>=1e3?`${(s/1e3).toFixed(0)}K`:`${s.toLocaleString("en-IN")}`}const Ey="cf_market_data",TC=300*1e3,z0=300*1e3;function EC(){try{const s=sessionStorage.getItem(Ey);if(!s)return null;const l=JSON.parse(s);return Date.now()-l._ts>TC?null:l}catch{return null}}function _C(s){try{sessionStorage.setItem(Ey,JSON.stringify({...s,_ts:Date.now()}))}catch{}}function OC(){const[s,l]=w.useState(()=>EC()),[r,t]=w.useState([]),o=w.useRef(null),[u,d]=w.useState(!1),[m,x]=w.useState(!1);w.useEffect(()=>{let b=!1;async function j(){try{const M=await cS();if(!b&&M){const S={...M,_ts:Date.now()};l(S),_C(S)}}catch{}}j();const C=setInterval(j,z0);return()=>{b=!0,clearInterval(C)}},[]),w.useEffect(()=>{let b=!1;async function j(){try{const M=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum&vs_currencies=inr&include_24hr_change=true");if(!b&&M.ok){const S=await M.json(),g=[];S.bitcoin&&g.push({name:"BTC",price:S.bitcoin.inr,changePct:S.bitcoin.inr_24h_change||0,type:"crypto"}),S.ethereum&&g.push({name:"ETH",price:S.ethereum.inr,changePct:S.ethereum.inr_24h_change||0,type:"crypto"}),t(g)}}catch{}}j();const C=setInterval(j,z0);return()=>{b=!0,clearInterval(C)}},[]);const p=[];if(s?.indices&&p.push(...s.indices),s?.metals&&p.push(...s.metals),r.length>0&&p.push(...r),w.useEffect(()=>{if(!o.current)return;const b=o.current,j=b.parentElement;d(b.scrollWidth>j.clientWidth)},[p.length]),p.length===0)return null;const v=p.length*3;return a.jsxs("div",{className:"bg-[var(--bg-card)]/80 backdrop-blur-sm border-b border-[var(--border-light)] overflow-hidden",onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),onTouchStart:()=>x(!0),onTouchEnd:()=>x(!1),children:[a.jsx("div",{className:"overflow-hidden",children:a.jsxs("div",{ref:o,className:"flex items-stretch w-max",style:u?{animation:`ticker-scroll ${v}s linear infinite`,animationPlayState:m?"paused":"running"}:{margin:"0 auto"},children:[p.map((b,j)=>a.jsx(F0,{item:b},b.name+j)),u&&p.map((b,j)=>a.jsx(F0,{item:b},"dup-"+b.name+j))]})}),a.jsx("style",{children:`
        @keyframes ticker-scroll {
          0% { transform: translateX(0); }
          100% { transform: translateX(-50%); }
        }
      `})]})}function F0({item:s}){const l=s.changePct>=0,r=l?a.jsx(Cl,{size:10}):a.jsx(Ou,{size:10}),t=l?"text-emerald-400":"text-[var(--accent-rose)]",o=u=>u>=1e5?`${(u/1e5).toFixed(2)}L`:u>=1e3?`${u.toLocaleString("en-IN",{maximumFractionDigits:0})}`:`${u.toLocaleString("en-IN",{maximumFractionDigits:2})}`;return a.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 border-r border-[var(--border-light)] last:border-0 shrink-0",children:[a.jsx("span",{className:"text-[10px] font-semibold text-[var(--text-dim)] uppercase whitespace-nowrap",children:s.name}),a.jsx("span",{className:"text-[11px] font-bold text-[var(--text-primary)] tabular-nums whitespace-nowrap",children:s.unit?`${o(s.price)}`:o(s.price)}),s.changePct!==void 0&&s.changePct!==null&&a.jsxs("span",{className:`flex items-center gap-0.5 text-[10px] font-bold tabular-nums ${t}`,children:[r,l?"+":"",s.changePct.toFixed(2),"%"]})]})}function RC(){const{selectedMember:s}=Jt(),{mfPortfolios:l,mfHoldings:r,insurancePolicies:t,goalList:o,reminderList:u}=$e(),d=(j,C)=>{const M=j||[];return s==="all"?M:M.filter(S=>S[C]===s)},m=w.useMemo(()=>{let j=0,C=0,M=0;return d((l||[]).filter(N=>N.status!=="Inactive"),"ownerId").forEach(N=>{const D=(r||[]).filter(_=>_.portfolioId===N.portfolioId&&_.units>0),y=D.reduce((_,H)=>_+H.currentValue,0),E=(N.rebalanceThreshold||.05)*100;D.forEach(_=>{if(_.athNav>0&&_.belowATHPct>=10?C++:_.athNav>0&&_.belowATHPct>=5&&j++,_.targetAllocationPct>0&&y>0){const H=_.currentValue/y*100;Math.abs(H-_.targetAllocationPct)>E&&M++}})}),{buyOppCount:j+C,buyCount:j,strongBuyCount:C,rebalanceCount:M}},[s,l,r]),x=w.useMemo(()=>{const j=[],C=d((t||[]).filter(y=>y.status==="Active"),"memberId");C.some(y=>y.policyType==="Term Life")||j.push({type:"critical",title:"Missing Term Life Insurance",badge:"Add Policy",navigateTo:"/insurance"});const S=C.filter(y=>y.policyType==="Health").reduce((y,E)=>y+E.sumAssured,0);return S===0?j.push({type:"critical",title:"No Health Insurance",badge:"Add Policy",navigateTo:"/insurance"}):S<5e5&&j.push({type:"warning",title:"Inadequate Health Insurance",badge:Q(S),navigateTo:"/insurance"}),d((o||[]).filter(y=>y.isActive!==!1&&y.goalType==="Emergency Fund"),"familyMemberId").forEach(y=>{const E=y.targetAmount>0?y.currentValue/y.targetAmount*100:0;E<100&&j.push({type:E>=75?"info":"warning",title:`Emergency Fund at ${E.toFixed(0)}%`,badge:Q(y.targetAmount-y.currentValue)+" left",navigateTo:"/goals"})}),d((u||[]).filter(y=>y.isActive!==!1),"familyMemberId").filter(y=>new Date(y.dueDate)<new Date).forEach(y=>{const E=Math.ceil((new Date-new Date(y.dueDate))/864e5);j.push({type:"critical",title:y.title,badge:`${E}d overdue`,navigateTo:"/reminders"})}),d((o||[]).filter(y=>y.isActive!==!1&&y.status==="Needs Attention"),"familyMemberId").forEach(y=>{j.push({type:"warning",title:`${y.goalName} needs attention`,badge:y.priority,navigateTo:"/goals"})}),j},[s,t,o,u]),p=w.useMemo(()=>{const j=d((u||[]).filter(M=>M.isActive!==!1&&M.status!=="Completed"),"familyMemberId"),C=new Date;return j.map(M=>{const S=new Date(M.dueDate)-C,g=Math.ceil(S/(1440*60*1e3)),N=new Date(M.dueDate).toLocaleDateString("en-IN",{day:"2-digit",month:"short"});return{...M,days:g,dateStr:N}}).filter(M=>M.days>=0&&M.days<=30).sort((M,S)=>M.days-S.days).slice(0,5)},[s,u]),v=x.length+m.buyOppCount+m.rebalanceCount+p.length,b=x.filter(j=>j.type==="critical").length;return{criticalAlerts:x,investmentSignals:m,upcomingReminders:p,totalCount:v,criticalCount:b}}function B0(s){return s>=20?"bg-rose-500/20 text-[var(--accent-rose)]":s>=10?"bg-orange-500/20 text-[var(--accent-orange)]":s>=5?"bg-amber-500/20 text-[var(--accent-amber)]":"bg-slate-500/20 text-[var(--text-muted)]"}function H0(s){return s>=10?{label:"Strong Buy",cls:"bg-emerald-500/20 text-emerald-400 ring-1 ring-emerald-500/30"}:s>=5?{label:"Buy",cls:"bg-blue-500/20 text-blue-400"}:null}function _y(){const{mfHoldings:s,mfPortfolios:l}=$e(),r=w.useMemo(()=>l.filter(o=>o.status!=="Inactive").map(o=>{const u=s.filter(x=>x.portfolioId===o.portfolioId&&x.units>0),d=u.reduce((x,p)=>x+p.currentValue,0),m=u.filter(x=>x.athNav>0&&x.belowATHPct>=1).sort((x,p)=>p.belowATHPct-x.belowATHPct).map(x=>({...x,currentPct:d>0?x.currentValue/d*100:0}));return{...o,totalValue:d,opportunities:m}}).filter(o=>o.opportunities.length>0),[l,s]);return r.reduce((o,u)=>o+u.opportunities.length,0)===0?a.jsxs("div",{className:"py-8 text-center",children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No buy opportunities right now"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"All funds are near their all-time highs"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] px-1",children:"Funds below their All-Time High NAV. Higher discount = better opportunity."}),r.map((o,u)=>a.jsxs("div",{className:"border border-[var(--border-light)] border-l-2 border-l-emerald-500/50 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2.5 bg-[var(--bg-inset)]",children:[a.jsx("span",{className:"text-xs font-bold text-emerald-400 bg-emerald-500/15 w-5 h-5 rounded flex items-center justify-center",children:u+1}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:o.portfolioName}),a.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:o.ownerName}),a.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-emerald-500/15 text-emerald-400",children:[o.opportunities.length," funds"]})]}),a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),a.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Signal"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Below ATH"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"ATH NAV"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Current"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Value"})]})}),a.jsx("tbody",{children:o.opportunities.map(d=>{const m=H0(d.belowATHPct);return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[a.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[200px] truncate",children:d.fundName}),a.jsx("td",{className:"py-2 px-2 text-center",children:m?a.jsx("span",{className:`inline-block text-[10px] font-bold px-2 py-0.5 rounded-full whitespace-nowrap ${m.cls}`,children:m.label}):a.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:"Watch"})}),a.jsx("td",{className:"py-2 px-2 text-right",children:a.jsxs("span",{className:`inline-block text-xs font-semibold px-1.5 py-0.5 rounded-full ${B0(d.belowATHPct)}`,children:["",d.belowATHPct.toFixed(1),"%"]})}),a.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:["",d.athNav.toFixed(2)]}),a.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:["",d.currentNav.toFixed(2)]}),a.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:Q(d.currentValue)})]},d.holdingId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:o.opportunities.map(d=>{const m=H0(d.belowATHPct);return a.jsxs("div",{className:"px-3 py-2.5",children:[a.jsxs("div",{className:"flex items-start justify-between mb-1",children:[a.jsx("p",{className:"text-xs text-[var(--text-primary)] leading-tight flex-1 mr-2",children:d.fundName}),a.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[m&&a.jsx("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded-full ${m.cls}`,children:m.label}),a.jsxs("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${B0(d.belowATHPct)}`,children:["",d.belowATHPct.toFixed(1),"%"]})]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)]",children:[a.jsxs("span",{children:["ATH ",d.athNav.toFixed(2),"  ",d.currentNav.toFixed(2)]}),a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:Q(d.currentValue)})]})]},d.holdingId)})})]},o.portfolioId))]})}function Oy(s){var l,r,t="";if(typeof s=="string"||typeof s=="number")t+=s;else if(typeof s=="object")if(Array.isArray(s)){var o=s.length;for(l=0;l<o;l++)s[l]&&(r=Oy(s[l]))&&(t&&(t+=" "),t+=r)}else for(r in s)s[r]&&(t&&(t+=" "),t+=r);return t}function Ut(){for(var s,l,r=0,t="",o=arguments.length;r<o;r++)(s=arguments[r])&&(l=Oy(s))&&(t&&(t+=" "),t+=l);return t}const Ry=6048e5,IC=864e5,Ru=6e4,Iu=36e5,LC=1e3,Y0=Symbol.for("constructDateFrom");function it(s,l){return typeof s=="function"?s(l):s&&typeof s=="object"&&Y0 in s?s[Y0](l):s instanceof Date?new s.constructor(l):new Date(l)}function Me(s,l){return it(l||s,s)}function dn(s,l,r){const t=Me(s,r?.in);return isNaN(l)?it(r?.in||s,NaN):(l&&t.setDate(t.getDate()+l),t)}function pn(s,l,r){const t=Me(s,r?.in);if(isNaN(l))return it(s,NaN);if(!l)return t;const o=t.getDate(),u=it(s,t.getTime());u.setMonth(t.getMonth()+l+1,0);const d=u.getDate();return o>=d?u:(t.setFullYear(u.getFullYear(),u.getMonth(),o),t)}function Iy(s,l,r){return it(s,+Me(s)+l)}function PC(s,l,r){return Iy(s,l*Iu)}let zC={};function Es(){return zC}function ur(s,l){const r=Es(),t=l?.weekStartsOn??l?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=Me(s,l?.in),u=o.getDay(),d=(u<t?7:0)+u-t;return o.setDate(o.getDate()-d),o.setHours(0,0,0,0),o}function Ml(s,l){return ur(s,{...l,weekStartsOn:1})}function Ly(s,l){const r=Me(s,l?.in),t=r.getFullYear(),o=it(r,0);o.setFullYear(t+1,0,4),o.setHours(0,0,0,0);const u=Ml(o),d=it(r,0);d.setFullYear(t,0,4),d.setHours(0,0,0,0);const m=Ml(d);return r.getTime()>=u.getTime()?t+1:r.getTime()>=m.getTime()?t:t-1}function pu(s){const l=Me(s),r=new Date(Date.UTC(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds()));return r.setUTCFullYear(l.getFullYear()),+s-+r}function mr(s,...l){const r=it.bind(null,l.find(t=>typeof t=="object"));return l.map(r)}function Ds(s,l){const r=Me(s,l?.in);return r.setHours(0,0,0,0),r}function Al(s,l,r){const[t,o]=mr(r?.in,s,l),u=Ds(t),d=Ds(o),m=+u-pu(u),x=+d-pu(d);return Math.round((m-x)/IC)}function FC(s,l){const r=Ly(s,l),t=it(s,0);return t.setFullYear(r,0,4),t.setHours(0,0,0,0),Ml(t)}function Zi(s,l,r){const t=Me(s,r?.in);return t.setTime(t.getTime()+l*Ru),t}function lp(s,l,r){return pn(s,l*3,r)}function BC(s,l,r){return Iy(s,l*1e3)}function xu(s,l,r){return dn(s,l*7,r)}function mn(s,l,r){return pn(s,l*12,r)}function U0(s,l){let r,t=l?.in;return s.forEach(o=>{!t&&typeof o=="object"&&(t=it.bind(null,o));const u=Me(o,t);(!r||r<u||isNaN(+u))&&(r=u)}),it(t,r||NaN)}function q0(s,l){let r,t=l?.in;return s.forEach(o=>{!t&&typeof o=="object"&&(t=it.bind(null,o));const u=Me(o,t);(!r||r>u||isNaN(+u))&&(r=u)}),it(t,r||NaN)}function HC(s,l,r){const[t,o]=mr(r?.in,s,l);return+Ds(t)==+Ds(o)}function _n(s){return s instanceof Date||typeof s=="object"&&Object.prototype.toString.call(s)==="[object Date]"}function Tl(s){return!(!_n(s)&&typeof s!="number"||isNaN(+Me(s)))}function hu(s,l,r){const[t,o]=mr(r?.in,s,l),u=t.getFullYear()-o.getFullYear(),d=t.getMonth()-o.getMonth();return u*12+d}function Ur(s,l){const r=Me(s,l?.in);return Math.trunc(r.getMonth()/3)+1}function vu(s,l,r){const[t,o]=mr(r?.in,s,l),u=t.getFullYear()-o.getFullYear(),d=Ur(t)-Ur(o);return u*4+d}function bu(s,l,r){const[t,o]=mr(r?.in,s,l);return t.getFullYear()-o.getFullYear()}function YC(s,l,r){const[t,o]=mr(r?.in,s,l),u=$0(t,o),d=Math.abs(Al(t,o));t.setDate(t.getDate()-u*d);const m=+($0(t,o)===-u),x=u*(d-m);return x===0?0:x}function $0(s,l){const r=s.getFullYear()-l.getFullYear()||s.getMonth()-l.getMonth()||s.getDate()-l.getDate()||s.getHours()-l.getHours()||s.getMinutes()-l.getMinutes()||s.getSeconds()-l.getSeconds()||s.getMilliseconds()-l.getMilliseconds();return r<0?-1:r>0?1:r}function Py(s,l){const r=Me(s,l?.in);return r.setHours(23,59,59,999),r}function zy(s,l){const r=Me(s,l?.in),t=r.getMonth();return r.setFullYear(r.getFullYear(),t+1,0),r.setHours(23,59,59,999),r}function Of(s,l){const r=Me(s,l?.in),t=r.getMonth(),o=t-t%3;return r.setMonth(o,1),r.setHours(0,0,0,0),r}function Fy(s,l){const r=Me(s,l?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function By(s,l){const r=Me(s,l?.in),t=r.getFullYear();return r.setFullYear(t+1,0,0),r.setHours(23,59,59,999),r}function Lu(s,l){const r=Me(s,l?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function UC(s,l){const r=Es(),t=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=Me(s,l?.in),u=o.getDay(),d=(u<t?-7:0)+6-(u-t);return o.setDate(o.getDate()+d),o.setHours(23,59,59,999),o}const qC={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$C=(s,l,r)=>{let t;const o=qC[s];return typeof o=="string"?t=o:l===1?t=o.one:t=o.other.replace("{{count}}",l.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+t:t+" ago":t};function df(s){return(l={})=>{const r=l.width?String(l.width):s.defaultWidth;return s.formats[r]||s.formats[s.defaultWidth]}}const VC={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},GC={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},QC={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},KC={date:df({formats:VC,defaultWidth:"full"}),time:df({formats:GC,defaultWidth:"full"}),dateTime:df({formats:QC,defaultWidth:"full"})},XC={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},WC=(s,l,r,t)=>XC[s];function Pi(s){return(l,r)=>{const t=r?.context?String(r.context):"standalone";let o;if(t==="formatting"&&s.formattingValues){const d=s.defaultFormattingWidth||s.defaultWidth,m=r?.width?String(r.width):d;o=s.formattingValues[m]||s.formattingValues[d]}else{const d=s.defaultWidth,m=r?.width?String(r.width):s.defaultWidth;o=s.values[m]||s.values[d]}const u=s.argumentCallback?s.argumentCallback(l):l;return o[u]}}const ZC={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},JC={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ek={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},tk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ak={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},nk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},rk=(s,l)=>{const r=Number(s),t=r%100;if(t>20||t<10)switch(t%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},sk={ordinalNumber:rk,era:Pi({values:ZC,defaultWidth:"wide"}),quarter:Pi({values:JC,defaultWidth:"wide",argumentCallback:s=>s-1}),month:Pi({values:ek,defaultWidth:"wide"}),day:Pi({values:tk,defaultWidth:"wide"}),dayPeriod:Pi({values:ak,defaultWidth:"wide",formattingValues:nk,defaultFormattingWidth:"wide"})};function zi(s){return(l,r={})=>{const t=r.width,o=t&&s.matchPatterns[t]||s.matchPatterns[s.defaultMatchWidth],u=l.match(o);if(!u)return null;const d=u[0],m=t&&s.parsePatterns[t]||s.parsePatterns[s.defaultParseWidth],x=Array.isArray(m)?ik(m,b=>b.test(d)):lk(m,b=>b.test(d));let p;p=s.valueCallback?s.valueCallback(x):x,p=r.valueCallback?r.valueCallback(p):p;const v=l.slice(d.length);return{value:p,rest:v}}}function lk(s,l){for(const r in s)if(Object.prototype.hasOwnProperty.call(s,r)&&l(s[r]))return r}function ik(s,l){for(let r=0;r<s.length;r++)if(l(s[r]))return r}function ok(s){return(l,r={})=>{const t=l.match(s.matchPattern);if(!t)return null;const o=t[0],u=l.match(s.parsePattern);if(!u)return null;let d=s.valueCallback?s.valueCallback(u[0]):u[0];d=r.valueCallback?r.valueCallback(d):d;const m=l.slice(o.length);return{value:d,rest:m}}}const ck=/^(\d+)(th|st|nd|rd)?/i,uk=/\d+/i,dk={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},mk={any:[/^b/i,/^(a|c)/i]},fk={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},pk={any:[/1/i,/2/i,/3/i,/4/i]},xk={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},hk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},vk={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},bk={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},gk={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},yk={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Nk={ordinalNumber:ok({matchPattern:ck,parsePattern:uk,valueCallback:s=>parseInt(s,10)}),era:zi({matchPatterns:dk,defaultMatchWidth:"wide",parsePatterns:mk,defaultParseWidth:"any"}),quarter:zi({matchPatterns:fk,defaultMatchWidth:"wide",parsePatterns:pk,defaultParseWidth:"any",valueCallback:s=>s+1}),month:zi({matchPatterns:xk,defaultMatchWidth:"wide",parsePatterns:hk,defaultParseWidth:"any"}),day:zi({matchPatterns:vk,defaultMatchWidth:"wide",parsePatterns:bk,defaultParseWidth:"any"}),dayPeriod:zi({matchPatterns:gk,defaultMatchWidth:"any",parsePatterns:yk,defaultParseWidth:"any"})},Hy={code:"en-US",formatDistance:$C,formatLong:KC,formatRelative:WC,localize:sk,match:Nk,options:{weekStartsOn:0,firstWeekContainsDate:1}};function jk(s,l){const r=Me(s,l?.in);return Al(r,Lu(r))+1}function ip(s,l){const r=Me(s,l?.in),t=+Ml(r)-+FC(r);return Math.round(t/Ry)+1}function op(s,l){const r=Me(s,l?.in),t=r.getFullYear(),o=Es(),u=l?.firstWeekContainsDate??l?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,d=it(l?.in||s,0);d.setFullYear(t+1,0,u),d.setHours(0,0,0,0);const m=ur(d,l),x=it(l?.in||s,0);x.setFullYear(t,0,u),x.setHours(0,0,0,0);const p=ur(x,l);return+r>=+m?t+1:+r>=+p?t:t-1}function wk(s,l){const r=Es(),t=l?.firstWeekContainsDate??l?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=op(s,l),u=it(l?.in||s,0);return u.setFullYear(o,0,t),u.setHours(0,0,0,0),ur(u,l)}function Yy(s,l){const r=Me(s,l?.in),t=+ur(r,l)-+wk(r,l);return Math.round(t/Ry)+1}function lt(s,l){const r=s<0?"-":"",t=Math.abs(s).toString().padStart(l,"0");return r+t}const Hr={y(s,l){const r=s.getFullYear(),t=r>0?r:1-r;return lt(l==="yy"?t%100:t,l.length)},M(s,l){const r=s.getMonth();return l==="M"?String(r+1):lt(r+1,2)},d(s,l){return lt(s.getDate(),l.length)},a(s,l){const r=s.getHours()/12>=1?"pm":"am";switch(l){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(s,l){return lt(s.getHours()%12||12,l.length)},H(s,l){return lt(s.getHours(),l.length)},m(s,l){return lt(s.getMinutes(),l.length)},s(s,l){return lt(s.getSeconds(),l.length)},S(s,l){const r=l.length,t=s.getMilliseconds(),o=Math.trunc(t*Math.pow(10,r-3));return lt(o,l.length)}},pl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},V0={G:function(s,l,r){const t=s.getFullYear()>0?1:0;switch(l){case"G":case"GG":case"GGG":return r.era(t,{width:"abbreviated"});case"GGGGG":return r.era(t,{width:"narrow"});default:return r.era(t,{width:"wide"})}},y:function(s,l,r){if(l==="yo"){const t=s.getFullYear(),o=t>0?t:1-t;return r.ordinalNumber(o,{unit:"year"})}return Hr.y(s,l)},Y:function(s,l,r,t){const o=op(s,t),u=o>0?o:1-o;if(l==="YY"){const d=u%100;return lt(d,2)}return l==="Yo"?r.ordinalNumber(u,{unit:"year"}):lt(u,l.length)},R:function(s,l){const r=Ly(s);return lt(r,l.length)},u:function(s,l){const r=s.getFullYear();return lt(r,l.length)},Q:function(s,l,r){const t=Math.ceil((s.getMonth()+1)/3);switch(l){case"Q":return String(t);case"QQ":return lt(t,2);case"Qo":return r.ordinalNumber(t,{unit:"quarter"});case"QQQ":return r.quarter(t,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(t,{width:"narrow",context:"formatting"});default:return r.quarter(t,{width:"wide",context:"formatting"})}},q:function(s,l,r){const t=Math.ceil((s.getMonth()+1)/3);switch(l){case"q":return String(t);case"qq":return lt(t,2);case"qo":return r.ordinalNumber(t,{unit:"quarter"});case"qqq":return r.quarter(t,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(t,{width:"narrow",context:"standalone"});default:return r.quarter(t,{width:"wide",context:"standalone"})}},M:function(s,l,r){const t=s.getMonth();switch(l){case"M":case"MM":return Hr.M(s,l);case"Mo":return r.ordinalNumber(t+1,{unit:"month"});case"MMM":return r.month(t,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(t,{width:"narrow",context:"formatting"});default:return r.month(t,{width:"wide",context:"formatting"})}},L:function(s,l,r){const t=s.getMonth();switch(l){case"L":return String(t+1);case"LL":return lt(t+1,2);case"Lo":return r.ordinalNumber(t+1,{unit:"month"});case"LLL":return r.month(t,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(t,{width:"narrow",context:"standalone"});default:return r.month(t,{width:"wide",context:"standalone"})}},w:function(s,l,r,t){const o=Yy(s,t);return l==="wo"?r.ordinalNumber(o,{unit:"week"}):lt(o,l.length)},I:function(s,l,r){const t=ip(s);return l==="Io"?r.ordinalNumber(t,{unit:"week"}):lt(t,l.length)},d:function(s,l,r){return l==="do"?r.ordinalNumber(s.getDate(),{unit:"date"}):Hr.d(s,l)},D:function(s,l,r){const t=jk(s);return l==="Do"?r.ordinalNumber(t,{unit:"dayOfYear"}):lt(t,l.length)},E:function(s,l,r){const t=s.getDay();switch(l){case"E":case"EE":case"EEE":return r.day(t,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(t,{width:"short",context:"formatting"});default:return r.day(t,{width:"wide",context:"formatting"})}},e:function(s,l,r,t){const o=s.getDay(),u=(o-t.weekStartsOn+8)%7||7;switch(l){case"e":return String(u);case"ee":return lt(u,2);case"eo":return r.ordinalNumber(u,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(s,l,r,t){const o=s.getDay(),u=(o-t.weekStartsOn+8)%7||7;switch(l){case"c":return String(u);case"cc":return lt(u,l.length);case"co":return r.ordinalNumber(u,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(s,l,r){const t=s.getDay(),o=t===0?7:t;switch(l){case"i":return String(o);case"ii":return lt(o,l.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(t,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(t,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(t,{width:"short",context:"formatting"});default:return r.day(t,{width:"wide",context:"formatting"})}},a:function(s,l,r){const o=s.getHours()/12>=1?"pm":"am";switch(l){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(s,l,r){const t=s.getHours();let o;switch(t===12?o=pl.noon:t===0?o=pl.midnight:o=t/12>=1?"pm":"am",l){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(s,l,r){const t=s.getHours();let o;switch(t>=17?o=pl.evening:t>=12?o=pl.afternoon:t>=4?o=pl.morning:o=pl.night,l){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(s,l,r){if(l==="ho"){let t=s.getHours()%12;return t===0&&(t=12),r.ordinalNumber(t,{unit:"hour"})}return Hr.h(s,l)},H:function(s,l,r){return l==="Ho"?r.ordinalNumber(s.getHours(),{unit:"hour"}):Hr.H(s,l)},K:function(s,l,r){const t=s.getHours()%12;return l==="Ko"?r.ordinalNumber(t,{unit:"hour"}):lt(t,l.length)},k:function(s,l,r){let t=s.getHours();return t===0&&(t=24),l==="ko"?r.ordinalNumber(t,{unit:"hour"}):lt(t,l.length)},m:function(s,l,r){return l==="mo"?r.ordinalNumber(s.getMinutes(),{unit:"minute"}):Hr.m(s,l)},s:function(s,l,r){return l==="so"?r.ordinalNumber(s.getSeconds(),{unit:"second"}):Hr.s(s,l)},S:function(s,l){return Hr.S(s,l)},X:function(s,l,r){const t=s.getTimezoneOffset();if(t===0)return"Z";switch(l){case"X":return Q0(t);case"XXXX":case"XX":return bs(t);default:return bs(t,":")}},x:function(s,l,r){const t=s.getTimezoneOffset();switch(l){case"x":return Q0(t);case"xxxx":case"xx":return bs(t);default:return bs(t,":")}},O:function(s,l,r){const t=s.getTimezoneOffset();switch(l){case"O":case"OO":case"OOO":return"GMT"+G0(t,":");default:return"GMT"+bs(t,":")}},z:function(s,l,r){const t=s.getTimezoneOffset();switch(l){case"z":case"zz":case"zzz":return"GMT"+G0(t,":");default:return"GMT"+bs(t,":")}},t:function(s,l,r){const t=Math.trunc(+s/1e3);return lt(t,l.length)},T:function(s,l,r){return lt(+s,l.length)}};function G0(s,l=""){const r=s>0?"-":"+",t=Math.abs(s),o=Math.trunc(t/60),u=t%60;return u===0?r+String(o):r+String(o)+l+lt(u,2)}function Q0(s,l){return s%60===0?(s>0?"-":"+")+lt(Math.abs(s)/60,2):bs(s,l)}function bs(s,l=""){const r=s>0?"-":"+",t=Math.abs(s),o=lt(Math.trunc(t/60),2),u=lt(t%60,2);return r+o+l+u}const K0=(s,l)=>{switch(s){case"P":return l.date({width:"short"});case"PP":return l.date({width:"medium"});case"PPP":return l.date({width:"long"});default:return l.date({width:"full"})}},Uy=(s,l)=>{switch(s){case"p":return l.time({width:"short"});case"pp":return l.time({width:"medium"});case"ppp":return l.time({width:"long"});default:return l.time({width:"full"})}},Sk=(s,l)=>{const r=s.match(/(P+)(p+)?/)||[],t=r[1],o=r[2];if(!o)return K0(s,l);let u;switch(t){case"P":u=l.dateTime({width:"short"});break;case"PP":u=l.dateTime({width:"medium"});break;case"PPP":u=l.dateTime({width:"long"});break;default:u=l.dateTime({width:"full"});break}return u.replace("{{date}}",K0(t,l)).replace("{{time}}",Uy(o,l))},Rf={p:Uy,P:Sk},Ck=/^D+$/,kk=/^Y+$/,Dk=["D","DD","YY","YYYY"];function Mk(s){return Ck.test(s)}function Ak(s){return kk.test(s)}function Tk(s,l,r){const t=Ek(s,l,r);if(console.warn(t),Dk.includes(s))throw new RangeError(t)}function Ek(s,l,r){const t=s[0]==="Y"?"years":"days of the month";return`Use \`${s.toLowerCase()}\` instead of \`${s}\` (in \`${l}\`) for formatting ${t} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const _k=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ok=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Rk=/^'([^]*?)'?$/,Ik=/''/g,Lk=/[a-zA-Z]/;function X0(s,l,r){const t=Es(),o=r?.locale??t.locale??Hy,u=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,d=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,m=Me(s,r?.in);if(!Tl(m))throw new RangeError("Invalid time value");let x=l.match(Ok).map(v=>{const b=v[0];if(b==="p"||b==="P"){const j=Rf[b];return j(v,o.formatLong)}return v}).join("").match(_k).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const b=v[0];if(b==="'")return{isToken:!1,value:Pk(v)};if(V0[b])return{isToken:!0,value:v};if(b.match(Lk))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:v}});o.localize.preprocessor&&(x=o.localize.preprocessor(m,x));const p={firstWeekContainsDate:u,weekStartsOn:d,locale:o};return x.map(v=>{if(!v.isToken)return v.value;const b=v.value;(!r?.useAdditionalWeekYearTokens&&Ak(b)||!r?.useAdditionalDayOfYearTokens&&Mk(b))&&Tk(b,l,String(s));const j=V0[b[0]];return j(m,b,o.localize,p)}).join("")}function Pk(s){const l=s.match(Rk);return l?l[1].replace(Ik,"'"):s}function W0(s,l){return Me(s,l?.in).getDate()}function zk(s,l){return Me(s,l?.in).getDay()}function Fk(s,l){const r=Me(s,l?.in),t=r.getFullYear(),o=r.getMonth(),u=it(r,0);return u.setFullYear(t,o+1,0),u.setHours(0,0,0,0),u.getDate()}function Bk(){return Object.assign({},Es())}function ra(s,l){return Me(s,l?.in).getHours()}function Hk(s,l){const r=Me(s,l?.in).getDay();return r===0?7:r}function sa(s,l){return Me(s,l?.in).getMinutes()}function Sa(s,l){return Me(s,l?.in).getMonth()}function $r(s){return Me(s).getSeconds()}function If(s){return+Me(s)}function qe(s,l){return Me(s,l?.in).getFullYear()}function ir(s,l){return+Me(s)>+Me(l)}function An(s,l){return+Me(s)<+Me(l)}function Yk(s,l){return+Me(s)==+Me(l)}function Uk(s,l){const r=qk(l)?new l(0):it(l,0);return r.setFullYear(s.getFullYear(),s.getMonth(),s.getDate()),r.setHours(s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()),r}function qk(s){return typeof s=="function"&&s.prototype?.constructor===s}const $k=10;class qy{subPriority=0;validate(l,r){return!0}}class Vk extends qy{constructor(l,r,t,o,u){super(),this.value=l,this.validateValue=r,this.setValue=t,this.priority=o,u&&(this.subPriority=u)}validate(l,r){return this.validateValue(l,this.value,r)}set(l,r,t){return this.setValue(l,r,this.value,t)}}class Gk extends qy{priority=$k;subPriority=-1;constructor(l,r){super(),this.context=l||(t=>it(r,t))}set(l,r){return r.timestampIsSet?l:it(l,Uk(l,this.context))}}class at{run(l,r,t,o){const u=this.parse(l,r,t,o);return u?{setter:new Vk(u.value,this.validate,this.set,this.priority,this.subPriority),rest:u.rest}:null}validate(l,r,t){return!0}}class Qk extends at{priority=140;parse(l,r,t){switch(r){case"G":case"GG":case"GGG":return t.era(l,{width:"abbreviated"})||t.era(l,{width:"narrow"});case"GGGGG":return t.era(l,{width:"narrow"});default:return t.era(l,{width:"wide"})||t.era(l,{width:"abbreviated"})||t.era(l,{width:"narrow"})}}set(l,r,t){return r.era=t,l.setFullYear(t,0,1),l.setHours(0,0,0,0),l}incompatibleTokens=["R","u","t","T"]}const Ot={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Dn={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Rt(s,l){return s&&{value:l(s.value),rest:s.rest}}function Ct(s,l){const r=l.match(s);return r?{value:parseInt(r[0],10),rest:l.slice(r[0].length)}:null}function Mn(s,l){const r=l.match(s);if(!r)return null;if(r[0]==="Z")return{value:0,rest:l.slice(1)};const t=r[1]==="+"?1:-1,o=r[2]?parseInt(r[2],10):0,u=r[3]?parseInt(r[3],10):0,d=r[5]?parseInt(r[5],10):0;return{value:t*(o*Iu+u*Ru+d*LC),rest:l.slice(r[0].length)}}function $y(s){return Ct(Ot.anyDigitsSigned,s)}function At(s,l){switch(s){case 1:return Ct(Ot.singleDigit,l);case 2:return Ct(Ot.twoDigits,l);case 3:return Ct(Ot.threeDigits,l);case 4:return Ct(Ot.fourDigits,l);default:return Ct(new RegExp("^\\d{1,"+s+"}"),l)}}function gu(s,l){switch(s){case 1:return Ct(Ot.singleDigitSigned,l);case 2:return Ct(Ot.twoDigitsSigned,l);case 3:return Ct(Ot.threeDigitsSigned,l);case 4:return Ct(Ot.fourDigitsSigned,l);default:return Ct(new RegExp("^-?\\d{1,"+s+"}"),l)}}function cp(s){switch(s){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function Vy(s,l){const r=l>0,t=r?l:1-l;let o;if(t<=50)o=s||100;else{const u=t+50,d=Math.trunc(u/100)*100,m=s>=u%100;o=s+d-(m?100:0)}return r?o:1-o}function Gy(s){return s%400===0||s%4===0&&s%100!==0}class Kk extends at{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(l,r,t){const o=u=>({year:u,isTwoDigitYear:r==="yy"});switch(r){case"y":return Rt(At(4,l),o);case"yo":return Rt(t.ordinalNumber(l,{unit:"year"}),o);default:return Rt(At(r.length,l),o)}}validate(l,r){return r.isTwoDigitYear||r.year>0}set(l,r,t){const o=l.getFullYear();if(t.isTwoDigitYear){const d=Vy(t.year,o);return l.setFullYear(d,0,1),l.setHours(0,0,0,0),l}const u=!("era"in r)||r.era===1?t.year:1-t.year;return l.setFullYear(u,0,1),l.setHours(0,0,0,0),l}}class Xk extends at{priority=130;parse(l,r,t){const o=u=>({year:u,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Rt(At(4,l),o);case"Yo":return Rt(t.ordinalNumber(l,{unit:"year"}),o);default:return Rt(At(r.length,l),o)}}validate(l,r){return r.isTwoDigitYear||r.year>0}set(l,r,t,o){const u=op(l,o);if(t.isTwoDigitYear){const m=Vy(t.year,u);return l.setFullYear(m,0,o.firstWeekContainsDate),l.setHours(0,0,0,0),ur(l,o)}const d=!("era"in r)||r.era===1?t.year:1-t.year;return l.setFullYear(d,0,o.firstWeekContainsDate),l.setHours(0,0,0,0),ur(l,o)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class Wk extends at{priority=130;parse(l,r){return gu(r==="R"?4:r.length,l)}set(l,r,t){const o=it(l,0);return o.setFullYear(t,0,4),o.setHours(0,0,0,0),Ml(o)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class Zk extends at{priority=130;parse(l,r){return gu(r==="u"?4:r.length,l)}set(l,r,t){return l.setFullYear(t,0,1),l.setHours(0,0,0,0),l}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class Jk extends at{priority=120;parse(l,r,t){switch(r){case"Q":case"QQ":return At(r.length,l);case"Qo":return t.ordinalNumber(l,{unit:"quarter"});case"QQQ":return t.quarter(l,{width:"abbreviated",context:"formatting"})||t.quarter(l,{width:"narrow",context:"formatting"});case"QQQQQ":return t.quarter(l,{width:"narrow",context:"formatting"});default:return t.quarter(l,{width:"wide",context:"formatting"})||t.quarter(l,{width:"abbreviated",context:"formatting"})||t.quarter(l,{width:"narrow",context:"formatting"})}}validate(l,r){return r>=1&&r<=4}set(l,r,t){return l.setMonth((t-1)*3,1),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class eD extends at{priority=120;parse(l,r,t){switch(r){case"q":case"qq":return At(r.length,l);case"qo":return t.ordinalNumber(l,{unit:"quarter"});case"qqq":return t.quarter(l,{width:"abbreviated",context:"standalone"})||t.quarter(l,{width:"narrow",context:"standalone"});case"qqqqq":return t.quarter(l,{width:"narrow",context:"standalone"});default:return t.quarter(l,{width:"wide",context:"standalone"})||t.quarter(l,{width:"abbreviated",context:"standalone"})||t.quarter(l,{width:"narrow",context:"standalone"})}}validate(l,r){return r>=1&&r<=4}set(l,r,t){return l.setMonth((t-1)*3,1),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class tD extends at{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(l,r,t){const o=u=>u-1;switch(r){case"M":return Rt(Ct(Ot.month,l),o);case"MM":return Rt(At(2,l),o);case"Mo":return Rt(t.ordinalNumber(l,{unit:"month"}),o);case"MMM":return t.month(l,{width:"abbreviated",context:"formatting"})||t.month(l,{width:"narrow",context:"formatting"});case"MMMMM":return t.month(l,{width:"narrow",context:"formatting"});default:return t.month(l,{width:"wide",context:"formatting"})||t.month(l,{width:"abbreviated",context:"formatting"})||t.month(l,{width:"narrow",context:"formatting"})}}validate(l,r){return r>=0&&r<=11}set(l,r,t){return l.setMonth(t,1),l.setHours(0,0,0,0),l}}class aD extends at{priority=110;parse(l,r,t){const o=u=>u-1;switch(r){case"L":return Rt(Ct(Ot.month,l),o);case"LL":return Rt(At(2,l),o);case"Lo":return Rt(t.ordinalNumber(l,{unit:"month"}),o);case"LLL":return t.month(l,{width:"abbreviated",context:"standalone"})||t.month(l,{width:"narrow",context:"standalone"});case"LLLLL":return t.month(l,{width:"narrow",context:"standalone"});default:return t.month(l,{width:"wide",context:"standalone"})||t.month(l,{width:"abbreviated",context:"standalone"})||t.month(l,{width:"narrow",context:"standalone"})}}validate(l,r){return r>=0&&r<=11}set(l,r,t){return l.setMonth(t,1),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function nD(s,l,r){const t=Me(s,r?.in),o=Yy(t,r)-l;return t.setDate(t.getDate()-o*7),Me(t,r?.in)}class rD extends at{priority=100;parse(l,r,t){switch(r){case"w":return Ct(Ot.week,l);case"wo":return t.ordinalNumber(l,{unit:"week"});default:return At(r.length,l)}}validate(l,r){return r>=1&&r<=53}set(l,r,t,o){return ur(nD(l,t,o),o)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function sD(s,l,r){const t=Me(s,r?.in),o=ip(t,r)-l;return t.setDate(t.getDate()-o*7),t}class lD extends at{priority=100;parse(l,r,t){switch(r){case"I":return Ct(Ot.week,l);case"Io":return t.ordinalNumber(l,{unit:"week"});default:return At(r.length,l)}}validate(l,r){return r>=1&&r<=53}set(l,r,t){return Ml(sD(l,t))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const iD=[31,28,31,30,31,30,31,31,30,31,30,31],oD=[31,29,31,30,31,30,31,31,30,31,30,31];class cD extends at{priority=90;subPriority=1;parse(l,r,t){switch(r){case"d":return Ct(Ot.date,l);case"do":return t.ordinalNumber(l,{unit:"date"});default:return At(r.length,l)}}validate(l,r){const t=l.getFullYear(),o=Gy(t),u=l.getMonth();return o?r>=1&&r<=oD[u]:r>=1&&r<=iD[u]}set(l,r,t){return l.setDate(t),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class uD extends at{priority=90;subpriority=1;parse(l,r,t){switch(r){case"D":case"DD":return Ct(Ot.dayOfYear,l);case"Do":return t.ordinalNumber(l,{unit:"date"});default:return At(r.length,l)}}validate(l,r){const t=l.getFullYear();return Gy(t)?r>=1&&r<=366:r>=1&&r<=365}set(l,r,t){return l.setMonth(0,t),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function up(s,l,r){const t=Es(),o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,u=Me(s,r?.in),d=u.getDay(),x=(l%7+7)%7,p=7-o,v=l<0||l>6?l-(d+p)%7:(x+p)%7-(d+p)%7;return dn(u,v,r)}class dD extends at{priority=90;parse(l,r,t){switch(r){case"E":case"EE":case"EEE":return t.day(l,{width:"abbreviated",context:"formatting"})||t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"});case"EEEEE":return t.day(l,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"});default:return t.day(l,{width:"wide",context:"formatting"})||t.day(l,{width:"abbreviated",context:"formatting"})||t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"})}}validate(l,r){return r>=0&&r<=6}set(l,r,t,o){return l=up(l,t,o),l.setHours(0,0,0,0),l}incompatibleTokens=["D","i","e","c","t","T"]}class mD extends at{priority=90;parse(l,r,t,o){const u=d=>{const m=Math.floor((d-1)/7)*7;return(d+o.weekStartsOn+6)%7+m};switch(r){case"e":case"ee":return Rt(At(r.length,l),u);case"eo":return Rt(t.ordinalNumber(l,{unit:"day"}),u);case"eee":return t.day(l,{width:"abbreviated",context:"formatting"})||t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"});case"eeeee":return t.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"});default:return t.day(l,{width:"wide",context:"formatting"})||t.day(l,{width:"abbreviated",context:"formatting"})||t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"})}}validate(l,r){return r>=0&&r<=6}set(l,r,t,o){return l=up(l,t,o),l.setHours(0,0,0,0),l}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class fD extends at{priority=90;parse(l,r,t,o){const u=d=>{const m=Math.floor((d-1)/7)*7;return(d+o.weekStartsOn+6)%7+m};switch(r){case"c":case"cc":return Rt(At(r.length,l),u);case"co":return Rt(t.ordinalNumber(l,{unit:"day"}),u);case"ccc":return t.day(l,{width:"abbreviated",context:"standalone"})||t.day(l,{width:"short",context:"standalone"})||t.day(l,{width:"narrow",context:"standalone"});case"ccccc":return t.day(l,{width:"narrow",context:"standalone"});case"cccccc":return t.day(l,{width:"short",context:"standalone"})||t.day(l,{width:"narrow",context:"standalone"});default:return t.day(l,{width:"wide",context:"standalone"})||t.day(l,{width:"abbreviated",context:"standalone"})||t.day(l,{width:"short",context:"standalone"})||t.day(l,{width:"narrow",context:"standalone"})}}validate(l,r){return r>=0&&r<=6}set(l,r,t,o){return l=up(l,t,o),l.setHours(0,0,0,0),l}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function pD(s,l,r){const t=Me(s,r?.in),o=Hk(t,r),u=l-o;return dn(t,u,r)}class xD extends at{priority=90;parse(l,r,t){const o=u=>u===0?7:u;switch(r){case"i":case"ii":return At(r.length,l);case"io":return t.ordinalNumber(l,{unit:"day"});case"iii":return Rt(t.day(l,{width:"abbreviated",context:"formatting"})||t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"}),o);case"iiiii":return Rt(t.day(l,{width:"narrow",context:"formatting"}),o);case"iiiiii":return Rt(t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"}),o);default:return Rt(t.day(l,{width:"wide",context:"formatting"})||t.day(l,{width:"abbreviated",context:"formatting"})||t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"}),o)}}validate(l,r){return r>=1&&r<=7}set(l,r,t){return l=pD(l,t),l.setHours(0,0,0,0),l}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class hD extends at{priority=80;parse(l,r,t){switch(r){case"a":case"aa":case"aaa":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"})||t.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaaa":return t.dayPeriod(l,{width:"narrow",context:"formatting"});default:return t.dayPeriod(l,{width:"wide",context:"formatting"})||t.dayPeriod(l,{width:"abbreviated",context:"formatting"})||t.dayPeriod(l,{width:"narrow",context:"formatting"})}}set(l,r,t){return l.setHours(cp(t),0,0,0),l}incompatibleTokens=["b","B","H","k","t","T"]}class vD extends at{priority=80;parse(l,r,t){switch(r){case"b":case"bb":case"bbb":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"})||t.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbbb":return t.dayPeriod(l,{width:"narrow",context:"formatting"});default:return t.dayPeriod(l,{width:"wide",context:"formatting"})||t.dayPeriod(l,{width:"abbreviated",context:"formatting"})||t.dayPeriod(l,{width:"narrow",context:"formatting"})}}set(l,r,t){return l.setHours(cp(t),0,0,0),l}incompatibleTokens=["a","B","H","k","t","T"]}class bD extends at{priority=80;parse(l,r,t){switch(r){case"B":case"BB":case"BBB":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"})||t.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBBB":return t.dayPeriod(l,{width:"narrow",context:"formatting"});default:return t.dayPeriod(l,{width:"wide",context:"formatting"})||t.dayPeriod(l,{width:"abbreviated",context:"formatting"})||t.dayPeriod(l,{width:"narrow",context:"formatting"})}}set(l,r,t){return l.setHours(cp(t),0,0,0),l}incompatibleTokens=["a","b","t","T"]}class gD extends at{priority=70;parse(l,r,t){switch(r){case"h":return Ct(Ot.hour12h,l);case"ho":return t.ordinalNumber(l,{unit:"hour"});default:return At(r.length,l)}}validate(l,r){return r>=1&&r<=12}set(l,r,t){const o=l.getHours()>=12;return o&&t<12?l.setHours(t+12,0,0,0):!o&&t===12?l.setHours(0,0,0,0):l.setHours(t,0,0,0),l}incompatibleTokens=["H","K","k","t","T"]}class yD extends at{priority=70;parse(l,r,t){switch(r){case"H":return Ct(Ot.hour23h,l);case"Ho":return t.ordinalNumber(l,{unit:"hour"});default:return At(r.length,l)}}validate(l,r){return r>=0&&r<=23}set(l,r,t){return l.setHours(t,0,0,0),l}incompatibleTokens=["a","b","h","K","k","t","T"]}class ND extends at{priority=70;parse(l,r,t){switch(r){case"K":return Ct(Ot.hour11h,l);case"Ko":return t.ordinalNumber(l,{unit:"hour"});default:return At(r.length,l)}}validate(l,r){return r>=0&&r<=11}set(l,r,t){return l.getHours()>=12&&t<12?l.setHours(t+12,0,0,0):l.setHours(t,0,0,0),l}incompatibleTokens=["h","H","k","t","T"]}class jD extends at{priority=70;parse(l,r,t){switch(r){case"k":return Ct(Ot.hour24h,l);case"ko":return t.ordinalNumber(l,{unit:"hour"});default:return At(r.length,l)}}validate(l,r){return r>=1&&r<=24}set(l,r,t){const o=t<=24?t%24:t;return l.setHours(o,0,0,0),l}incompatibleTokens=["a","b","h","H","K","t","T"]}class wD extends at{priority=60;parse(l,r,t){switch(r){case"m":return Ct(Ot.minute,l);case"mo":return t.ordinalNumber(l,{unit:"minute"});default:return At(r.length,l)}}validate(l,r){return r>=0&&r<=59}set(l,r,t){return l.setMinutes(t,0,0),l}incompatibleTokens=["t","T"]}class SD extends at{priority=50;parse(l,r,t){switch(r){case"s":return Ct(Ot.second,l);case"so":return t.ordinalNumber(l,{unit:"second"});default:return At(r.length,l)}}validate(l,r){return r>=0&&r<=59}set(l,r,t){return l.setSeconds(t,0),l}incompatibleTokens=["t","T"]}class CD extends at{priority=30;parse(l,r){const t=o=>Math.trunc(o*Math.pow(10,-r.length+3));return Rt(At(r.length,l),t)}set(l,r,t){return l.setMilliseconds(t),l}incompatibleTokens=["t","T"]}class kD extends at{priority=10;parse(l,r){switch(r){case"X":return Mn(Dn.basicOptionalMinutes,l);case"XX":return Mn(Dn.basic,l);case"XXXX":return Mn(Dn.basicOptionalSeconds,l);case"XXXXX":return Mn(Dn.extendedOptionalSeconds,l);default:return Mn(Dn.extended,l)}}set(l,r,t){return r.timestampIsSet?l:it(l,l.getTime()-pu(l)-t)}incompatibleTokens=["t","T","x"]}class DD extends at{priority=10;parse(l,r){switch(r){case"x":return Mn(Dn.basicOptionalMinutes,l);case"xx":return Mn(Dn.basic,l);case"xxxx":return Mn(Dn.basicOptionalSeconds,l);case"xxxxx":return Mn(Dn.extendedOptionalSeconds,l);default:return Mn(Dn.extended,l)}}set(l,r,t){return r.timestampIsSet?l:it(l,l.getTime()-pu(l)-t)}incompatibleTokens=["t","T","X"]}class MD extends at{priority=40;parse(l){return $y(l)}set(l,r,t){return[it(l,t*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class AD extends at{priority=20;parse(l){return $y(l)}set(l,r,t){return[it(l,t),{timestampIsSet:!0}]}incompatibleTokens="*"}const TD={G:new Qk,y:new Kk,Y:new Xk,R:new Wk,u:new Zk,Q:new Jk,q:new eD,M:new tD,L:new aD,w:new rD,I:new lD,d:new cD,D:new uD,E:new dD,e:new mD,c:new fD,i:new xD,a:new hD,b:new vD,B:new bD,h:new gD,H:new yD,K:new ND,k:new jD,m:new wD,s:new SD,S:new CD,X:new kD,x:new DD,t:new MD,T:new AD},ED=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_D=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,OD=/^'([^]*?)'?$/,RD=/''/g,ID=/\S/,LD=/[a-zA-Z]/;function PD(s,l,r,t){const o=()=>it(t?.in||r,NaN),u=Bk(),d=t?.locale??u.locale??Hy,m=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??u.firstWeekContainsDate??u.locale?.options?.firstWeekContainsDate??1,x=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??u.weekStartsOn??u.locale?.options?.weekStartsOn??0;if(!l)return s?o():Me(r,t?.in);const p={firstWeekContainsDate:m,weekStartsOn:x,locale:d},v=[new Gk(t?.in,r)],b=l.match(_D).map(g=>{const N=g[0];if(N in Rf){const D=Rf[N];return D(g,d.formatLong)}return g}).join("").match(ED),j=[];for(let g of b){const N=g[0],D=TD[N];if(D){const{incompatibleTokens:y}=D;if(Array.isArray(y)){const _=j.find(H=>y.includes(H.token)||H.token===N);if(_)throw new RangeError(`The format string mustn't contain \`${_.fullToken}\` and \`${g}\` at the same time`)}else if(D.incompatibleTokens==="*"&&j.length>0)throw new RangeError(`The format string mustn't contain \`${g}\` and any other token at the same time`);j.push({token:N,fullToken:g});const E=D.run(s,g,d.match,p);if(!E)return o();v.push(E.setter),s=E.rest}else{if(N.match(LD))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");if(g==="''"?g="'":N==="'"&&(g=zD(g)),s.indexOf(g)===0)s=s.slice(g.length);else return o()}}if(s.length>0&&ID.test(s))return o();const C=v.map(g=>g.priority).sort((g,N)=>N-g).filter((g,N,D)=>D.indexOf(g)===N).map(g=>v.filter(N=>N.priority===g).sort((N,D)=>D.subPriority-N.subPriority)).map(g=>g[0]);let M=Me(r,t?.in);if(isNaN(+M))return o();const S={};for(const g of C){if(!g.validate(M,p))return o();const N=g.set(M,S,p);Array.isArray(N)?(M=N[0],Object.assign(S,N[1])):M=N}return M}function zD(s){return s.match(OD)[1].replace(RD,"'")}function FD(s,l,r){const[t,o]=mr(r?.in,s,l);return t.getFullYear()===o.getFullYear()&&t.getMonth()===o.getMonth()}function BD(s,l,r){const[t,o]=mr(r?.in,s,l);return+Of(t)==+Of(o)}function HD(s,l,r){const[t,o]=mr(r?.in,s,l);return t.getFullYear()===o.getFullYear()}function Ji(s,l,r){const t=+Me(s,r?.in),[o,u]=[+Me(l.start,r?.in),+Me(l.end,r?.in)].sort((d,m)=>d-m);return t>=o&&t<=u}function YD(s,l,r){return dn(s,-1,r)}function UD(s,l){const r=()=>it(l?.in,NaN),o=GD(s);let u;if(o.date){const p=QD(o.date,2);u=KD(p.restDateString,p.year)}if(!u||isNaN(+u))return r();const d=+u;let m=0,x;if(o.time&&(m=XD(o.time),isNaN(m)))return r();if(o.timezone){if(x=WD(o.timezone),isNaN(x))return r()}else{const p=new Date(d+m),v=Me(0,l?.in);return v.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),v.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),v}return Me(d+m+x,l?.in)}const Ac={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},qD=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,$D=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,VD=/^([+-])(\d{2})(?::?(\d{2}))?$/;function GD(s){const l={},r=s.split(Ac.dateTimeDelimiter);let t;if(r.length>2)return l;if(/:/.test(r[0])?t=r[0]:(l.date=r[0],t=r[1],Ac.timeZoneDelimiter.test(l.date)&&(l.date=s.split(Ac.timeZoneDelimiter)[0],t=s.substr(l.date.length,s.length))),t){const o=Ac.timezone.exec(t);o?(l.time=t.replace(o[1],""),l.timezone=o[1]):l.time=t}return l}function QD(s,l){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+l)+"})|(\\d{2}|[+-]\\d{"+(2+l)+"})$)"),t=s.match(r);if(!t)return{year:NaN,restDateString:""};const o=t[1]?parseInt(t[1]):null,u=t[2]?parseInt(t[2]):null;return{year:u===null?o:u*100,restDateString:s.slice((t[1]||t[2]).length)}}function KD(s,l){if(l===null)return new Date(NaN);const r=s.match(qD);if(!r)return new Date(NaN);const t=!!r[4],o=Fi(r[1]),u=Fi(r[2])-1,d=Fi(r[3]),m=Fi(r[4]),x=Fi(r[5])-1;if(t)return aM(l,m,x)?ZD(l,m,x):new Date(NaN);{const p=new Date(0);return!eM(l,u,d)||!tM(l,o)?new Date(NaN):(p.setUTCFullYear(l,u,Math.max(o,d)),p)}}function Fi(s){return s?parseInt(s):1}function XD(s){const l=s.match($D);if(!l)return NaN;const r=mf(l[1]),t=mf(l[2]),o=mf(l[3]);return nM(r,t,o)?r*Iu+t*Ru+o*1e3:NaN}function mf(s){return s&&parseFloat(s.replace(",","."))||0}function WD(s){if(s==="Z")return 0;const l=s.match(VD);if(!l)return 0;const r=l[1]==="+"?-1:1,t=parseInt(l[2]),o=l[3]&&parseInt(l[3])||0;return rM(t,o)?r*(t*Iu+o*Ru):NaN}function ZD(s,l,r){const t=new Date(0);t.setUTCFullYear(s,0,4);const o=t.getUTCDay()||7,u=(l-1)*7+r+1-o;return t.setUTCDate(t.getUTCDate()+u),t}const JD=[31,null,31,30,31,30,31,31,30,31,30,31];function Qy(s){return s%400===0||s%4===0&&s%100!==0}function eM(s,l,r){return l>=0&&l<=11&&r>=1&&r<=(JD[l]||(Qy(s)?29:28))}function tM(s,l){return l>=1&&l<=(Qy(s)?366:365)}function aM(s,l,r){return l>=1&&l<=53&&r>=0&&r<=6}function nM(s,l,r){return s===24?l===0&&r===0:r>=0&&r<60&&l>=0&&l<60&&s>=0&&s<25}function rM(s,l){return l>=0&&l<=59}function La(s,l,r){const t=Me(s,r?.in),o=t.getFullYear(),u=t.getDate(),d=it(s,0);d.setFullYear(o,l,15),d.setHours(0,0,0,0);const m=Fk(d);return t.setMonth(l,Math.min(u,m)),t}function tu(s,l,r){const t=Me(s,r?.in);return t.setHours(l),t}function au(s,l,r){const t=Me(s,r?.in);return t.setMinutes(l),t}function gl(s,l,r){const t=Me(s,r?.in),o=Math.trunc(t.getMonth()/3)+1,u=l-o;return La(t,t.getMonth()+u*3)}function nu(s,l,r){const t=Me(s,r?.in);return t.setSeconds(l),t}function Cn(s,l,r){const t=Me(s,r?.in);return isNaN(+t)?it(s,NaN):(t.setFullYear(l),t)}function Cs(s,l,r){return pn(s,-l,r)}function Ky(s,l,r){return lp(s,-1,r)}function Z0(s,l,r){return xu(s,-1,r)}function Gr(s,l,r){return mn(s,-l,r)}function Pu(){return typeof window<"u"}function Hl(s){return Xy(s)?(s.nodeName||"").toLowerCase():"#document"}function za(s){var l;return(s==null||(l=s.ownerDocument)==null?void 0:l.defaultView)||window}function Pn(s){var l;return(l=(Xy(s)?s.ownerDocument:s.document)||window.document)==null?void 0:l.documentElement}function Xy(s){return Pu()?s instanceof Node||s instanceof za(s).Node:!1}function ua(s){return Pu()?s instanceof Element||s instanceof za(s).Element:!1}function Rn(s){return Pu()?s instanceof HTMLElement||s instanceof za(s).HTMLElement:!1}function J0(s){return!Pu()||typeof ShadowRoot>"u"?!1:s instanceof ShadowRoot||s instanceof za(s).ShadowRoot}const sM=new Set(["inline","contents"]);function so(s){const{overflow:l,overflowX:r,overflowY:t,display:o}=Ja(s);return/auto|scroll|overlay|hidden|clip/.test(l+t+r)&&!sM.has(o)}const lM=new Set(["table","td","th"]);function iM(s){return lM.has(Hl(s))}const oM=[":popover-open",":modal"];function zu(s){return oM.some(l=>{try{return s.matches(l)}catch{return!1}})}const cM=["transform","translate","scale","rotate","perspective"],uM=["transform","translate","scale","rotate","perspective","filter"],dM=["paint","layout","strict","content"];function dp(s){const l=mp(),r=ua(s)?Ja(s):s;return cM.some(t=>r[t]?r[t]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!l&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!l&&(r.filter?r.filter!=="none":!1)||uM.some(t=>(r.willChange||"").includes(t))||dM.some(t=>(r.contain||"").includes(t))}function mM(s){let l=Qr(s);for(;Rn(l)&&!El(l);){if(dp(l))return l;if(zu(l))return null;l=Qr(l)}return null}function mp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const fM=new Set(["html","body","#document"]);function El(s){return fM.has(Hl(s))}function Ja(s){return za(s).getComputedStyle(s)}function Fu(s){return ua(s)?{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}:{scrollLeft:s.scrollX,scrollTop:s.scrollY}}function Qr(s){if(Hl(s)==="html")return s;const l=s.assignedSlot||s.parentNode||J0(s)&&s.host||Pn(s);return J0(l)?l.host:l}function Wy(s){const l=Qr(s);return El(l)?s.ownerDocument?s.ownerDocument.body:s.body:Rn(l)&&so(l)?l:Wy(l)}function eo(s,l,r){var t;l===void 0&&(l=[]),r===void 0&&(r=!0);const o=Wy(s),u=o===((t=s.ownerDocument)==null?void 0:t.body),d=za(o);if(u){const m=Lf(d);return l.concat(d,d.visualViewport||[],so(o)?o:[],m&&r?eo(m):[])}return l.concat(o,eo(o,[],r))}function Lf(s){return s.parent&&Object.getPrototypeOf(s.parent)?s.frameElement:null}const _l=Math.min,ks=Math.max,yu=Math.round,Tc=Math.floor,On=s=>({x:s,y:s}),pM={left:"right",right:"left",bottom:"top",top:"bottom"},xM={start:"end",end:"start"};function hM(s,l,r){return ks(s,_l(l,r))}function Bu(s,l){return typeof s=="function"?s(l):s}function Ol(s){return s.split("-")[0]}function lo(s){return s.split("-")[1]}function vM(s){return s==="x"?"y":"x"}function fp(s){return s==="y"?"height":"width"}const bM=new Set(["top","bottom"]);function js(s){return bM.has(Ol(s))?"y":"x"}function pp(s){return vM(js(s))}function gM(s,l,r){r===void 0&&(r=!1);const t=lo(s),o=pp(s),u=fp(o);let d=o==="x"?t===(r?"end":"start")?"right":"left":t==="start"?"bottom":"top";return l.reference[u]>l.floating[u]&&(d=Nu(d)),[d,Nu(d)]}function yM(s){const l=Nu(s);return[Pf(s),l,Pf(l)]}function Pf(s){return s.replace(/start|end/g,l=>xM[l])}const eb=["left","right"],tb=["right","left"],NM=["top","bottom"],jM=["bottom","top"];function wM(s,l,r){switch(s){case"top":case"bottom":return r?l?tb:eb:l?eb:tb;case"left":case"right":return l?NM:jM;default:return[]}}function SM(s,l,r,t){const o=lo(s);let u=wM(Ol(s),r==="start",t);return o&&(u=u.map(d=>d+"-"+o),l&&(u=u.concat(u.map(Pf)))),u}function Nu(s){return s.replace(/left|right|bottom|top/g,l=>pM[l])}function CM(s){return{top:0,right:0,bottom:0,left:0,...s}}function Zy(s){return typeof s!="number"?CM(s):{top:s,right:s,bottom:s,left:s}}function ju(s){const{x:l,y:r,width:t,height:o}=s;return{width:t,height:o,top:r,left:l,right:l+t,bottom:r+o,x:l,y:r}}var kM=typeof document<"u",DM=function(){},wu=kM?w.useLayoutEffect:DM;const MM={...dg},AM=MM.useInsertionEffect,TM=AM||(s=>s());function EM(s){const l=w.useRef(()=>{});return TM(()=>{l.current=s}),w.useCallback(function(){for(var r=arguments.length,t=new Array(r),o=0;o<r;o++)t[o]=arguments[o];return l.current==null?void 0:l.current(...t)},[])}function ab(s,l,r){let{reference:t,floating:o}=s;const u=js(l),d=pp(l),m=fp(d),x=Ol(l),p=u==="y",v=t.x+t.width/2-o.width/2,b=t.y+t.height/2-o.height/2,j=t[m]/2-o[m]/2;let C;switch(x){case"top":C={x:v,y:t.y-o.height};break;case"bottom":C={x:v,y:t.y+t.height};break;case"right":C={x:t.x+t.width,y:b};break;case"left":C={x:t.x-o.width,y:b};break;default:C={x:t.x,y:t.y}}switch(lo(l)){case"start":C[d]-=j*(r&&p?-1:1);break;case"end":C[d]+=j*(r&&p?-1:1);break}return C}async function _M(s,l){var r;l===void 0&&(l={});const{x:t,y:o,platform:u,rects:d,elements:m,strategy:x}=s,{boundary:p="clippingAncestors",rootBoundary:v="viewport",elementContext:b="floating",altBoundary:j=!1,padding:C=0}=Bu(l,s),M=Zy(C),g=m[j?b==="floating"?"reference":"floating":b],N=ju(await u.getClippingRect({element:(r=await(u.isElement==null?void 0:u.isElement(g)))==null||r?g:g.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(m.floating)),boundary:p,rootBoundary:v,strategy:x})),D=b==="floating"?{x:t,y:o,width:d.floating.width,height:d.floating.height}:d.reference,y=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m.floating)),E=await(u.isElement==null?void 0:u.isElement(y))?await(u.getScale==null?void 0:u.getScale(y))||{x:1,y:1}:{x:1,y:1},_=ju(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:m,rect:D,offsetParent:y,strategy:x}):D);return{top:(N.top-_.top+M.top)/E.y,bottom:(_.bottom-N.bottom+M.bottom)/E.y,left:(N.left-_.left+M.left)/E.x,right:(_.right-N.right+M.right)/E.x}}const OM=async(s,l,r)=>{const{placement:t="bottom",strategy:o="absolute",middleware:u=[],platform:d}=r,m=u.filter(Boolean),x=await(d.isRTL==null?void 0:d.isRTL(l));let p=await d.getElementRects({reference:s,floating:l,strategy:o}),{x:v,y:b}=ab(p,t,x),j=t,C={},M=0;for(let g=0;g<m.length;g++){var S;const{name:N,fn:D}=m[g],{x:y,y:E,data:_,reset:H}=await D({x:v,y:b,initialPlacement:t,placement:j,strategy:o,middlewareData:C,rects:p,platform:{...d,detectOverflow:(S=d.detectOverflow)!=null?S:_M},elements:{reference:s,floating:l}});v=y??v,b=E??b,C={...C,[N]:{...C[N],..._}},H&&M<=50&&(M++,typeof H=="object"&&(H.placement&&(j=H.placement),H.rects&&(p=H.rects===!0?await d.getElementRects({reference:s,floating:l,strategy:o}):H.rects),{x:v,y:b}=ab(p,j,x)),g=-1)}return{x:v,y:b,placement:j,strategy:o,middlewareData:C}},RM=s=>({name:"arrow",options:s,async fn(l){const{x:r,y:t,placement:o,rects:u,platform:d,elements:m,middlewareData:x}=l,{element:p,padding:v=0}=Bu(s,l)||{};if(p==null)return{};const b=Zy(v),j={x:r,y:t},C=pp(o),M=fp(C),S=await d.getDimensions(p),g=C==="y",N=g?"top":"left",D=g?"bottom":"right",y=g?"clientHeight":"clientWidth",E=u.reference[M]+u.reference[C]-j[C]-u.floating[M],_=j[C]-u.reference[C],H=await(d.getOffsetParent==null?void 0:d.getOffsetParent(p));let $=H?H[y]:0;(!$||!await(d.isElement==null?void 0:d.isElement(H)))&&($=m.floating[y]||u.floating[M]);const O=E/2-_/2,F=$/2-S[M]/2-1,I=_l(b[N],F),G=_l(b[D],F),A=I,re=$-S[M]-G,U=$/2-S[M]/2+O,Z=hM(A,U,re),B=!x.arrow&&lo(o)!=null&&U!==Z&&u.reference[M]/2-(U<A?I:G)-S[M]/2<0,R=B?U<A?U-A:U-re:0;return{[C]:j[C]+R,data:{[C]:Z,centerOffset:U-Z-R,...B&&{alignmentOffset:R}},reset:B}}}),IM=function(s){return s===void 0&&(s={}),{name:"flip",options:s,async fn(l){var r,t;const{placement:o,middlewareData:u,rects:d,initialPlacement:m,platform:x,elements:p}=l,{mainAxis:v=!0,crossAxis:b=!0,fallbackPlacements:j,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:M="none",flipAlignment:S=!0,...g}=Bu(s,l);if((r=u.arrow)!=null&&r.alignmentOffset)return{};const N=Ol(o),D=js(m),y=Ol(m)===m,E=await(x.isRTL==null?void 0:x.isRTL(p.floating)),_=j||(y||!S?[Nu(m)]:yM(m)),H=M!=="none";!j&&H&&_.push(...SM(m,S,M,E));const $=[m,..._],O=await x.detectOverflow(l,g),F=[];let I=((t=u.flip)==null?void 0:t.overflows)||[];if(v&&F.push(O[N]),b){const U=gM(o,d,E);F.push(O[U[0]],O[U[1]])}if(I=[...I,{placement:o,overflows:F}],!F.every(U=>U<=0)){var G,A;const U=(((G=u.flip)==null?void 0:G.index)||0)+1,Z=$[U];if(Z&&(!(b==="alignment"?D!==js(Z):!1)||I.every(L=>js(L.placement)===D?L.overflows[0]>0:!0)))return{data:{index:U,overflows:I},reset:{placement:Z}};let B=(A=I.filter(R=>R.overflows[0]<=0).sort((R,L)=>R.overflows[1]-L.overflows[1])[0])==null?void 0:A.placement;if(!B)switch(C){case"bestFit":{var re;const R=(re=I.filter(L=>{if(H){const me=js(L.placement);return me===D||me==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(me=>me>0).reduce((me,ve)=>me+ve,0)]).sort((L,me)=>L[1]-me[1])[0])==null?void 0:re[0];R&&(B=R);break}case"initialPlacement":B=m;break}if(o!==B)return{reset:{placement:B}}}return{}}}},LM=new Set(["left","top"]);async function PM(s,l){const{placement:r,platform:t,elements:o}=s,u=await(t.isRTL==null?void 0:t.isRTL(o.floating)),d=Ol(r),m=lo(r),x=js(r)==="y",p=LM.has(d)?-1:1,v=u&&x?-1:1,b=Bu(l,s);let{mainAxis:j,crossAxis:C,alignmentAxis:M}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return m&&typeof M=="number"&&(C=m==="end"?M*-1:M),x?{x:C*v,y:j*p}:{x:j*p,y:C*v}}const zM=function(s){return s===void 0&&(s=0),{name:"offset",options:s,async fn(l){var r,t;const{x:o,y:u,placement:d,middlewareData:m}=l,x=await PM(l,s);return d===((r=m.offset)==null?void 0:r.placement)&&(t=m.arrow)!=null&&t.alignmentOffset?{}:{x:o+x.x,y:u+x.y,data:{...x,placement:d}}}}};function Jy(s){const l=Ja(s);let r=parseFloat(l.width)||0,t=parseFloat(l.height)||0;const o=Rn(s),u=o?s.offsetWidth:r,d=o?s.offsetHeight:t,m=yu(r)!==u||yu(t)!==d;return m&&(r=u,t=d),{width:r,height:t,$:m}}function xp(s){return ua(s)?s:s.contextElement}function jl(s){const l=xp(s);if(!Rn(l))return On(1);const r=l.getBoundingClientRect(),{width:t,height:o,$:u}=Jy(l);let d=(u?yu(r.width):r.width)/t,m=(u?yu(r.height):r.height)/o;return(!d||!Number.isFinite(d))&&(d=1),(!m||!Number.isFinite(m))&&(m=1),{x:d,y:m}}const FM=On(0);function e1(s){const l=za(s);return!mp()||!l.visualViewport?FM:{x:l.visualViewport.offsetLeft,y:l.visualViewport.offsetTop}}function BM(s,l,r){return l===void 0&&(l=!1),!r||l&&r!==za(s)?!1:l}function Ms(s,l,r,t){l===void 0&&(l=!1),r===void 0&&(r=!1);const o=s.getBoundingClientRect(),u=xp(s);let d=On(1);l&&(t?ua(t)&&(d=jl(t)):d=jl(s));const m=BM(u,r,t)?e1(u):On(0);let x=(o.left+m.x)/d.x,p=(o.top+m.y)/d.y,v=o.width/d.x,b=o.height/d.y;if(u){const j=za(u),C=t&&ua(t)?za(t):t;let M=j,S=Lf(M);for(;S&&t&&C!==M;){const g=jl(S),N=S.getBoundingClientRect(),D=Ja(S),y=N.left+(S.clientLeft+parseFloat(D.paddingLeft))*g.x,E=N.top+(S.clientTop+parseFloat(D.paddingTop))*g.y;x*=g.x,p*=g.y,v*=g.x,b*=g.y,x+=y,p+=E,M=za(S),S=Lf(M)}}return ju({width:v,height:b,x,y:p})}function Hu(s,l){const r=Fu(s).scrollLeft;return l?l.left+r:Ms(Pn(s)).left+r}function t1(s,l){const r=s.getBoundingClientRect(),t=r.left+l.scrollLeft-Hu(s,r),o=r.top+l.scrollTop;return{x:t,y:o}}function HM(s){let{elements:l,rect:r,offsetParent:t,strategy:o}=s;const u=o==="fixed",d=Pn(t),m=l?zu(l.floating):!1;if(t===d||m&&u)return r;let x={scrollLeft:0,scrollTop:0},p=On(1);const v=On(0),b=Rn(t);if((b||!b&&!u)&&((Hl(t)!=="body"||so(d))&&(x=Fu(t)),Rn(t))){const C=Ms(t);p=jl(t),v.x=C.x+t.clientLeft,v.y=C.y+t.clientTop}const j=d&&!b&&!u?t1(d,x):On(0);return{width:r.width*p.x,height:r.height*p.y,x:r.x*p.x-x.scrollLeft*p.x+v.x+j.x,y:r.y*p.y-x.scrollTop*p.y+v.y+j.y}}function YM(s){return Array.from(s.getClientRects())}function UM(s){const l=Pn(s),r=Fu(s),t=s.ownerDocument.body,o=ks(l.scrollWidth,l.clientWidth,t.scrollWidth,t.clientWidth),u=ks(l.scrollHeight,l.clientHeight,t.scrollHeight,t.clientHeight);let d=-r.scrollLeft+Hu(s);const m=-r.scrollTop;return Ja(t).direction==="rtl"&&(d+=ks(l.clientWidth,t.clientWidth)-o),{width:o,height:u,x:d,y:m}}const nb=25;function qM(s,l){const r=za(s),t=Pn(s),o=r.visualViewport;let u=t.clientWidth,d=t.clientHeight,m=0,x=0;if(o){u=o.width,d=o.height;const v=mp();(!v||v&&l==="fixed")&&(m=o.offsetLeft,x=o.offsetTop)}const p=Hu(t);if(p<=0){const v=t.ownerDocument,b=v.body,j=getComputedStyle(b),C=v.compatMode==="CSS1Compat"&&parseFloat(j.marginLeft)+parseFloat(j.marginRight)||0,M=Math.abs(t.clientWidth-b.clientWidth-C);M<=nb&&(u-=M)}else p<=nb&&(u+=p);return{width:u,height:d,x:m,y:x}}const $M=new Set(["absolute","fixed"]);function VM(s,l){const r=Ms(s,!0,l==="fixed"),t=r.top+s.clientTop,o=r.left+s.clientLeft,u=Rn(s)?jl(s):On(1),d=s.clientWidth*u.x,m=s.clientHeight*u.y,x=o*u.x,p=t*u.y;return{width:d,height:m,x,y:p}}function rb(s,l,r){let t;if(l==="viewport")t=qM(s,r);else if(l==="document")t=UM(Pn(s));else if(ua(l))t=VM(l,r);else{const o=e1(s);t={x:l.x-o.x,y:l.y-o.y,width:l.width,height:l.height}}return ju(t)}function a1(s,l){const r=Qr(s);return r===l||!ua(r)||El(r)?!1:Ja(r).position==="fixed"||a1(r,l)}function GM(s,l){const r=l.get(s);if(r)return r;let t=eo(s,[],!1).filter(m=>ua(m)&&Hl(m)!=="body"),o=null;const u=Ja(s).position==="fixed";let d=u?Qr(s):s;for(;ua(d)&&!El(d);){const m=Ja(d),x=dp(d);!x&&m.position==="fixed"&&(o=null),(u?!x&&!o:!x&&m.position==="static"&&!!o&&$M.has(o.position)||so(d)&&!x&&a1(s,d))?t=t.filter(v=>v!==d):o=m,d=Qr(d)}return l.set(s,t),t}function QM(s){let{element:l,boundary:r,rootBoundary:t,strategy:o}=s;const d=[...r==="clippingAncestors"?zu(l)?[]:GM(l,this._c):[].concat(r),t],m=d[0],x=d.reduce((p,v)=>{const b=rb(l,v,o);return p.top=ks(b.top,p.top),p.right=_l(b.right,p.right),p.bottom=_l(b.bottom,p.bottom),p.left=ks(b.left,p.left),p},rb(l,m,o));return{width:x.right-x.left,height:x.bottom-x.top,x:x.left,y:x.top}}function KM(s){const{width:l,height:r}=Jy(s);return{width:l,height:r}}function XM(s,l,r){const t=Rn(l),o=Pn(l),u=r==="fixed",d=Ms(s,!0,u,l);let m={scrollLeft:0,scrollTop:0};const x=On(0);function p(){x.x=Hu(o)}if(t||!t&&!u)if((Hl(l)!=="body"||so(o))&&(m=Fu(l)),t){const C=Ms(l,!0,u,l);x.x=C.x+l.clientLeft,x.y=C.y+l.clientTop}else o&&p();u&&!t&&o&&p();const v=o&&!t&&!u?t1(o,m):On(0),b=d.left+m.scrollLeft-x.x-v.x,j=d.top+m.scrollTop-x.y-v.y;return{x:b,y:j,width:d.width,height:d.height}}function ff(s){return Ja(s).position==="static"}function sb(s,l){if(!Rn(s)||Ja(s).position==="fixed")return null;if(l)return l(s);let r=s.offsetParent;return Pn(s)===r&&(r=r.ownerDocument.body),r}function n1(s,l){const r=za(s);if(zu(s))return r;if(!Rn(s)){let o=Qr(s);for(;o&&!El(o);){if(ua(o)&&!ff(o))return o;o=Qr(o)}return r}let t=sb(s,l);for(;t&&iM(t)&&ff(t);)t=sb(t,l);return t&&El(t)&&ff(t)&&!dp(t)?r:t||mM(s)||r}const WM=async function(s){const l=this.getOffsetParent||n1,r=this.getDimensions,t=await r(s.floating);return{reference:XM(s.reference,await l(s.floating),s.strategy),floating:{x:0,y:0,width:t.width,height:t.height}}};function ZM(s){return Ja(s).direction==="rtl"}const JM={convertOffsetParentRelativeRectToViewportRelativeRect:HM,getDocumentElement:Pn,getClippingRect:QM,getOffsetParent:n1,getElementRects:WM,getClientRects:YM,getDimensions:KM,getScale:jl,isElement:ua,isRTL:ZM};function r1(s,l){return s.x===l.x&&s.y===l.y&&s.width===l.width&&s.height===l.height}function e4(s,l){let r=null,t;const o=Pn(s);function u(){var m;clearTimeout(t),(m=r)==null||m.disconnect(),r=null}function d(m,x){m===void 0&&(m=!1),x===void 0&&(x=1),u();const p=s.getBoundingClientRect(),{left:v,top:b,width:j,height:C}=p;if(m||l(),!j||!C)return;const M=Tc(b),S=Tc(o.clientWidth-(v+j)),g=Tc(o.clientHeight-(b+C)),N=Tc(v),y={rootMargin:-M+"px "+-S+"px "+-g+"px "+-N+"px",threshold:ks(0,_l(1,x))||1};let E=!0;function _(H){const $=H[0].intersectionRatio;if($!==x){if(!E)return d();$?d(!1,$):t=setTimeout(()=>{d(!1,1e-7)},1e3)}$===1&&!r1(p,s.getBoundingClientRect())&&d(),E=!1}try{r=new IntersectionObserver(_,{...y,root:o.ownerDocument})}catch{r=new IntersectionObserver(_,y)}r.observe(s)}return d(!0),u}function t4(s,l,r,t){t===void 0&&(t={});const{ancestorScroll:o=!0,ancestorResize:u=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:m=typeof IntersectionObserver=="function",animationFrame:x=!1}=t,p=xp(s),v=o||u?[...p?eo(p):[],...eo(l)]:[];v.forEach(N=>{o&&N.addEventListener("scroll",r,{passive:!0}),u&&N.addEventListener("resize",r)});const b=p&&m?e4(p,r):null;let j=-1,C=null;d&&(C=new ResizeObserver(N=>{let[D]=N;D&&D.target===p&&C&&(C.unobserve(l),cancelAnimationFrame(j),j=requestAnimationFrame(()=>{var y;(y=C)==null||y.observe(l)})),r()}),p&&!x&&C.observe(p),C.observe(l));let M,S=x?Ms(s):null;x&&g();function g(){const N=Ms(s);S&&!r1(S,N)&&r(),S=N,M=requestAnimationFrame(g)}return r(),()=>{var N;v.forEach(D=>{o&&D.removeEventListener("scroll",r),u&&D.removeEventListener("resize",r)}),b?.(),(N=C)==null||N.disconnect(),C=null,x&&cancelAnimationFrame(M)}}const a4=zM,n4=IM,lb=RM,r4=(s,l,r)=>{const t=new Map,o={platform:JM,...r},u={...o.platform,_c:t};return OM(s,l,{...o,platform:u})};var s4=typeof document<"u",l4=function(){},ru=s4?w.useLayoutEffect:l4;function Su(s,l){if(s===l)return!0;if(typeof s!=typeof l)return!1;if(typeof s=="function"&&s.toString()===l.toString())return!0;let r,t,o;if(s&&l&&typeof s=="object"){if(Array.isArray(s)){if(r=s.length,r!==l.length)return!1;for(t=r;t--!==0;)if(!Su(s[t],l[t]))return!1;return!0}if(o=Object.keys(s),r=o.length,r!==Object.keys(l).length)return!1;for(t=r;t--!==0;)if(!{}.hasOwnProperty.call(l,o[t]))return!1;for(t=r;t--!==0;){const u=o[t];if(!(u==="_owner"&&s.$$typeof)&&!Su(s[u],l[u]))return!1}return!0}return s!==s&&l!==l}function s1(s){return typeof window>"u"?1:(s.ownerDocument.defaultView||window).devicePixelRatio||1}function ib(s,l){const r=s1(s);return Math.round(l*r)/r}function pf(s){const l=w.useRef(s);return ru(()=>{l.current=s}),l}function i4(s){s===void 0&&(s={});const{placement:l="bottom",strategy:r="absolute",middleware:t=[],platform:o,elements:{reference:u,floating:d}={},transform:m=!0,whileElementsMounted:x,open:p}=s,[v,b]=w.useState({x:0,y:0,strategy:r,placement:l,middlewareData:{},isPositioned:!1}),[j,C]=w.useState(t);Su(j,t)||C(t);const[M,S]=w.useState(null),[g,N]=w.useState(null),D=w.useCallback(L=>{L!==H.current&&(H.current=L,S(L))},[]),y=w.useCallback(L=>{L!==$.current&&($.current=L,N(L))},[]),E=u||M,_=d||g,H=w.useRef(null),$=w.useRef(null),O=w.useRef(v),F=x!=null,I=pf(x),G=pf(o),A=pf(p),re=w.useCallback(()=>{if(!H.current||!$.current)return;const L={placement:l,strategy:r,middleware:j};G.current&&(L.platform=G.current),r4(H.current,$.current,L).then(me=>{const ve={...me,isPositioned:A.current!==!1};U.current&&!Su(O.current,ve)&&(O.current=ve,Eg.flushSync(()=>{b(ve)}))})},[j,l,r,G,A]);ru(()=>{p===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,b(L=>({...L,isPositioned:!1})))},[p]);const U=w.useRef(!1);ru(()=>(U.current=!0,()=>{U.current=!1}),[]),ru(()=>{if(E&&(H.current=E),_&&($.current=_),E&&_){if(I.current)return I.current(E,_,re);re()}},[E,_,re,I,F]);const Z=w.useMemo(()=>({reference:H,floating:$,setReference:D,setFloating:y}),[D,y]),B=w.useMemo(()=>({reference:E,floating:_}),[E,_]),R=w.useMemo(()=>{const L={position:r,left:0,top:0};if(!B.floating)return L;const me=ib(B.floating,v.x),ve=ib(B.floating,v.y);return m?{...L,transform:"translate("+me+"px, "+ve+"px)",...s1(B.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:me,top:ve}},[r,m,B.floating,v.x,v.y]);return w.useMemo(()=>({...v,update:re,refs:Z,elements:B,floatingStyles:R}),[v,re,Z,B,R])}const o4=s=>{function l(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:s,fn(r){const{element:t,padding:o}=typeof s=="function"?s(r):s;return t&&l(t)?t.current!=null?lb({element:t.current,padding:o}).fn(r):{}:t?lb({element:t,padding:o}).fn(r):{}}}},c4=(s,l)=>({...a4(s),options:[s,l]}),u4=(s,l)=>({...n4(s),options:[s,l]}),d4=(s,l)=>({...o4(s),options:[s,l]}),m4={...dg};let ob=!1,f4=0;const cb=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+f4++;function p4(){const[s,l]=w.useState(()=>ob?cb():void 0);return wu(()=>{s==null&&l(cb())},[]),w.useEffect(()=>{ob=!0},[]),s}const x4=m4.useId,l1=x4||p4,h4=w.forwardRef(function(l,r){const{context:{placement:t,elements:{floating:o},middlewareData:{arrow:u,shift:d}},width:m=14,height:x=7,tipRadius:p=0,strokeWidth:v=0,staticOffset:b,stroke:j,d:C,style:{transform:M,...S}={},...g}=l,N=l1(),[D,y]=w.useState(!1);if(wu(()=>{if(!o)return;Ja(o).direction==="rtl"&&y(!0)},[o]),!o)return null;const[E,_]=t.split("-"),H=E==="top"||E==="bottom";let $=b;(H&&d!=null&&d.x||!H&&d!=null&&d.y)&&($=null);const O=v*2,F=O/2,I=m/2*(p/-8+1),G=x/2*p/4,A=!!C,re=$&&_==="end"?"bottom":"top";let U=$&&_==="end"?"right":"left";$&&D&&(U=_==="end"?"left":"right");const Z=u?.x!=null?$||u.x:"",B=u?.y!=null?$||u.y:"",R=C||"M0,0"+(" H"+m)+(" L"+(m-I)+","+(x-G))+(" Q"+m/2+","+x+" "+I+","+(x-G))+" Z",L={top:A?"rotate(180deg)":"",left:A?"rotate(90deg)":"rotate(-90deg)",bottom:A?"":"rotate(180deg)",right:A?"rotate(-90deg)":"rotate(90deg)"}[E];return a.jsxs("svg",{...g,"aria-hidden":!0,ref:r,width:A?m:m+O,height:m,viewBox:"0 0 "+m+" "+(x>m?x:m),style:{position:"absolute",pointerEvents:"none",[U]:Z,[re]:B,[E]:H||A?"100%":"calc(100% - "+O/2+"px)",transform:[L,M].filter(me=>!!me).join(" "),...S},children:[O>0&&a.jsx("path",{clipPath:"url(#"+N+")",fill:"none",stroke:j,strokeWidth:O+(C?0:1),d:R}),a.jsx("path",{stroke:O&&!C?g.fill:"none",d:R}),a.jsx("clipPath",{id:N,children:a.jsx("rect",{x:-F,y:F*(A?-1:1),width:m+O,height:m})})]})});function v4(){const s=new Map;return{emit(l,r){var t;(t=s.get(l))==null||t.forEach(o=>o(r))},on(l,r){s.has(l)||s.set(l,new Set),s.get(l).add(r)},off(l,r){var t;(t=s.get(l))==null||t.delete(r)}}}const b4=w.createContext(null),g4=w.createContext(null),y4=()=>{var s;return((s=w.useContext(b4))==null?void 0:s.id)||null},N4=()=>w.useContext(g4);function j4(s){const{open:l=!1,onOpenChange:r,elements:t}=s,o=l1(),u=w.useRef({}),[d]=w.useState(()=>v4()),m=y4()!=null,[x,p]=w.useState(t.reference),v=EM((C,M,S)=>{u.current.openEvent=C?M:void 0,d.emit("openchange",{open:C,event:M,reason:S,nested:m}),r?.(C,M,S)}),b=w.useMemo(()=>({setPositionReference:p}),[]),j=w.useMemo(()=>({reference:x||t.reference||null,floating:t.floating||null,domReference:t.reference}),[x,t.reference,t.floating]);return w.useMemo(()=>({dataRef:u,open:l,onOpenChange:v,elements:j,events:d,floatingId:o,refs:b}),[l,v,j,d,o,b])}function w4(s){s===void 0&&(s={});const{nodeId:l}=s,r=j4({...s,elements:{reference:null,floating:null,...s.elements}}),t=s.rootContext||r,o=t.elements,[u,d]=w.useState(null),[m,x]=w.useState(null),v=o?.domReference||u,b=w.useRef(null),j=N4();wu(()=>{v&&(b.current=v)},[v]);const C=i4({...s,elements:{...o,...m&&{reference:m}}}),M=w.useCallback(y=>{const E=ua(y)?{getBoundingClientRect:()=>y.getBoundingClientRect(),getClientRects:()=>y.getClientRects(),contextElement:y}:y;x(E),C.refs.setReference(E)},[C.refs]),S=w.useCallback(y=>{(ua(y)||y===null)&&(b.current=y,d(y)),(ua(C.refs.reference.current)||C.refs.reference.current===null||y!==null&&!ua(y))&&C.refs.setReference(y)},[C.refs]),g=w.useMemo(()=>({...C.refs,setReference:S,setPositionReference:M,domReference:b}),[C.refs,S,M]),N=w.useMemo(()=>({...C.elements,domReference:v}),[C.elements,v]),D=w.useMemo(()=>({...C,...t,refs:g,elements:N,nodeId:l}),[C,g,N,l,t]);return wu(()=>{t.dataRef.current.floatingContext=D;const y=j?.nodesRef.current.find(E=>E.id===l);y&&(y.context=D)}),w.useMemo(()=>({...C,context:D,refs:g,elements:N}),[C,g,N,D])}var zf=function(l,r){return zf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(t[u]=o[u])},zf(l,r)};function ea(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");zf(s,l);function r(){this.constructor=s}s.prototype=l===null?Object.create(l):(r.prototype=l.prototype,new r)}var Fe=function(){return Fe=Object.assign||function(r){for(var t,o=1,u=arguments.length;o<u;o++){t=arguments[o];for(var d in t)Object.prototype.hasOwnProperty.call(t,d)&&(r[d]=t[d])}return r},Fe.apply(this,arguments)};function Tn(s,l,r){if(r||arguments.length===2)for(var t=0,o=l.length,u;t<o;t++)(u||!(t in l))&&(u||(u=Array.prototype.slice.call(l,0,t)),u[t]=l[t]);return s.concat(u||Array.prototype.slice.call(l))}var S4=function(s){var l=s.showTimeSelectOnly,r=l===void 0?!1:l,t=s.showTime,o=t===void 0?!1:t,u=s.className,d=s.children,m=s.inline,x=r?"Choose Time":"Choose Date".concat(o?" and Time":"");return ne.createElement("div",{className:u,"aria-label":x,role:m?void 0:"dialog","aria-modal":m?void 0:"true",translate:"no"},d)},C4=function(s,l){var r=w.useRef(null),t=w.useRef(s);w.useEffect(function(){t.current=s},[s]);var o=w.useCallback(function(u){var d,m=u.composed&&u.composedPath&&u.composedPath().find(function(x){return x instanceof Node})||u.target;r.current&&!r.current.contains(m)&&(l&&m instanceof HTMLElement&&m.classList.contains(l)||(d=t.current)===null||d===void 0||d.call(t,u))},[l]);return w.useEffect(function(){return document.addEventListener("mousedown",o),function(){document.removeEventListener("mousedown",o)}},[o]),r},Yu=function(s){var l=s.children,r=s.onClickOutside,t=s.className,o=s.containerRef,u=s.style,d=s.ignoreClass,m=C4(r,d);return ne.createElement("div",{className:t,style:u,ref:function(x){m.current=x,o&&(o.current=x)}},l)},Ec=null,ub=!1;function i1(){if(ub)return Ec;ub=!0;try{var s="date-fns-tz";Ec=require(s)}catch{Ec=null}return Ec}function db(s,l){if(!l)return s;var r=i1();return r?r.toZonedTime(s,l):s}function nr(s,l){if(!l)return s;var r=i1();return r?r.fromZonedTime(s,l):s}var he;(function(s){s.ArrowUp="ArrowUp",s.ArrowDown="ArrowDown",s.ArrowLeft="ArrowLeft",s.ArrowRight="ArrowRight",s.PageUp="PageUp",s.PageDown="PageDown",s.Home="Home",s.End="End",s.Enter="Enter",s.Space=" ",s.Tab="Tab",s.Escape="Escape",s.Backspace="Backspace",s.X="x"})(he||(he={}));function o1(){var s=typeof window<"u"?window:globalThis;return s}var io=12;function Ze(s){if(s==null)return new Date;var l=typeof s=="string"?UD(s):Me(s);return wa(l)?l:new Date}function xs(s,l,r,t,o){o===void 0&&(o=Ze());for(var u=Rl(r)||Rl(hp()),d=Array.isArray(l)?l:[l],m=0,x=d;m<x.length;m++){var p=x[m],v=PD(s,p,o,{locale:u});if(wa(v)&&(!t||s===bt(v,p,r)))return v}if(!t&&s&&s.length>=8){var b=new Date(s);if(Tl(b))return b}return null}function k4(s,l){if(l===void 0&&(l=Ze()),!s)return null;var r=s.match(/\b(1\d{3}|2\d{3})\b/);if(!r||!r[1])return null;var t=parseInt(r[1],10),o=s.match(/(?:^|[/\-\s])?(0?[1-9]|1[0-2])(?:[/\-\s]|$)/),u=o&&o[1]?parseInt(o[1],10)-1:l.getMonth();return new Date(t,u,1)}function wa(s){return Tl(s)}function ws(s){return s==null?null:_n(s)&&Tl(s)?s:null}function bt(s,l,r){if(r==="en")return X0(s,l,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var t=r?Rl(r):void 0;return r&&!t&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),t=t||Rl(hp()),X0(s,l,{locale:t,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function ja(s,l){var r=l.dateFormat,t=l.locale,o=Array.isArray(r)&&r.length>0?r[0]:r;return s&&bt(s,o,t)||""}var c1=" - ";function D4(s,l,r){if(!s&&!l)return"";var t=s?ja(s,r):"",o=l?ja(l,r):"",u=r.rangeSeparator||c1;return"".concat(t).concat(u).concat(o)}function M4(s,l){if(!s?.length)return"";var r=s[0]?ja(s[0],l):"";if(s.length===1)return r;if(s.length===2&&s[1]){var t=ja(s[1],l);return"".concat(r,", ").concat(t)}var o=s.length-1;return"".concat(r," (+").concat(o,")")}function rr(s,l){var r=l.hour,t=r===void 0?0:r,o=l.minute,u=o===void 0?0:o,d=l.second,m=d===void 0?0:d;return tu(au(nu(s,m),u),t)}function A4(s){return ip(s)}function T4(s,l){return bt(s,"ddd",l)}function $i(s){return Ds(s)}function Vr(s,l,r){var t=Rl(l||hp());return ur(s,{locale:t,weekStartsOn:r})}function or(s){return Fy(s)}function Vi(s){return Lu(s)}function mb(s){return Of(s)}function fb(){return Ds(Ze())}function pb(s){return Py(s)}function E4(s){return UC(s)}function _4(s){return zy(s)}function kn(s,l){return s&&l?HD(s,l):!s&&!l}function ca(s,l){return s&&l?FD(s,l):!s&&!l}function Cu(s,l){return s&&l?BD(s,l):!s&&!l}function Ke(s,l){return s&&l?HC(s,l):!s&&!l}function Ss(s,l){return s&&l?Yk(s,l):!s&&!l}function gs(s,l,r){var t,o=Ds(l),u=Py(r);try{t=Ji(s,{start:o,end:u})}catch{t=!1}return t}function hp(){var s=o1();return s.__localeId__}function Rl(s){if(typeof s=="string"){var l=o1();return l.__localeData__?l.__localeData__[s]:void 0}else return s}function O4(s,l,r){return l(bt(s,"EEEE",r))}function R4(s,l){return bt(s,"EEEEEE",l)}function I4(s,l){return bt(s,"EEE",l)}function vp(s,l){return bt(La(Ze(),s),"LLLL",l)}function u1(s,l){return bt(La(Ze(),s),"LLL",l)}function L4(s,l){return bt(gl(Ze(),s),"QQQ",l)}function Za(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.excludeDateIntervals,m=r.includeDates,x=r.includeDateIntervals,p=r.filterDate,v=r.disabled;return v?!0:oo(s,{minDate:t,maxDate:o})||u&&u.some(function(b){return b instanceof Date?Ke(s,b):Ke(s,b.date)})||d&&d.some(function(b){var j=b.start,C=b.end;return Ji(s,{start:j,end:C})})||m&&!m.some(function(b){return Ke(s,b)})||x&&!x.some(function(b){var j=b.start,C=b.end;return Ji(s,{start:j,end:C})})||p&&!p(Ze(s))||!1}function bp(s,l){var r=l===void 0?{}:l,t=r.excludeDates,o=r.excludeDateIntervals;return o&&o.length>0?o.some(function(u){var d=u.start,m=u.end;return Ji(s,{start:d,end:m})}):t&&t.some(function(u){var d;return u instanceof Date?Ke(s,u):Ke(s,(d=u.date)!==null&&d!==void 0?d:new Date)})||!1}function d1(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.includeDates,m=r.filterDate;return oo(s,{minDate:t?Fy(t):void 0,maxDate:o?zy(o):void 0})||u?.some(function(x){return ca(s,x instanceof Date?x:x.date)})||d&&!d.some(function(x){return ca(s,x)})||m&&!m(Ze(s))||!1}function _c(s,l,r,t){var o=qe(s),u=Sa(s),d=qe(l),m=Sa(l),x=qe(t);return o===d&&o===x?u<=r&&r<=m:o<d?x===o&&u<=r||x===d&&m>=r||x<d&&x>o:!1}function P4(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.includeDates;return oo(s,{minDate:t,maxDate:o})||u&&u.some(function(m){return ca(m instanceof Date?m:m.date,s)})||d&&!d.some(function(m){return ca(m,s)})||!1}function Oc(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.includeDates,m=r.filterDate,x=r.disabled;return x?!0:oo(s,{minDate:t,maxDate:o})||u?.some(function(p){return Cu(s,p instanceof Date?p:p.date)})||d&&!d.some(function(p){return Cu(s,p)})||m&&!m(Ze(s))||!1}function Rc(s,l,r){if(!l||!r||!Tl(l)||!Tl(r))return!1;var t=qe(l),o=qe(r);return t<=s&&o>=s}function su(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.includeDates,m=r.filterDate,x=r.disabled;if(x)return!0;var p=new Date(s,0,1);return oo(p,{minDate:t?Lu(t):void 0,maxDate:o?By(o):void 0})||u?.some(function(v){return kn(p,v instanceof Date?v:v.date)})||d&&!d.some(function(v){return kn(p,v)})||m&&!m(Ze(p))||!1}function Ic(s,l,r,t){var o=qe(s),u=Ur(s),d=qe(l),m=Ur(l),x=qe(t);return o===d&&o===x?u<=r&&r<=m:o<d?x===o&&u<=r||x===d&&m>=r||x<d&&x>o:!1}function oo(s,l){var r,t=l===void 0?{}:l,o=t.minDate,u=t.maxDate;return(r=o&&Al(s,o)<0||u&&Al(s,u)>0)!==null&&r!==void 0?r:!1}function xb(s,l){return l.some(function(r){return ra(r)===ra(s)&&sa(r)===sa(s)&&$r(r)===$r(s)})}function hb(s,l){var r=l===void 0?{}:l,t=r.excludeTimes,o=r.includeTimes,u=r.filterTime;return t&&xb(s,t)||o&&!xb(s,o)||u&&!u(s)||!1}function vb(s,l){var r=l.minTime,t=l.maxTime;if(!r||!t)throw new Error("Both minTime and maxTime props required");var o=Ze();o=tu(o,ra(s)),o=au(o,sa(s)),o=nu(o,$r(s));var u=Ze();u=tu(u,ra(r)),u=au(u,sa(r)),u=nu(u,$r(r));var d=Ze();d=tu(d,ra(t)),d=au(d,sa(t)),d=nu(d,$r(t));var m;try{m=!Ji(o,{start:u,end:d})}catch{m=!1}return m}function bb(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.includeDates,u=Cs(s,1);return t&&hu(t,u)>0||o&&o.every(function(d){return hu(d,u)>0})||!1}function gb(s,l){var r=l===void 0?{}:l,t=r.maxDate,o=r.includeDates,u=pn(s,1);return t&&hu(u,t)>0||o&&o.every(function(d){return hu(u,d)>0})||!1}function z4(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.includeDates,u=Lu(s),d=Ky(u);return t&&vu(t,d)>0||o&&o.every(function(m){return vu(m,d)>0})||!1}function F4(s,l){var r=l===void 0?{}:l,t=r.maxDate,o=r.includeDates,u=By(s),d=lp(u,1);return t&&vu(d,t)>0||o&&o.every(function(m){return vu(d,m)>0})||!1}function yb(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.includeDates,u=Gr(s,1);return t&&bu(t,u)>0||o&&o.every(function(d){return bu(d,u)>0})||!1}function B4(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.yearItemNumber,u=o===void 0?io:o,d=Vi(Gr(s,u)),m=sr(d,u).endPeriod,x=t&&qe(t);return x&&x>m||!1}function Nb(s,l){var r=l===void 0?{}:l,t=r.maxDate,o=r.includeDates,u=mn(s,1);return t&&bu(u,t)>0||o&&o.every(function(d){return bu(u,d)>0})||!1}function H4(s,l){var r=l===void 0?{}:l,t=r.maxDate,o=r.yearItemNumber,u=o===void 0?io:o,d=mn(s,u),m=sr(d,u).startPeriod,x=t&&qe(t);return x&&x<m||!1}function m1(s){var l=s.minDate,r=s.includeDates;if(r&&l){var t=r.filter(function(o){return Al(o,l)>=0});return q0(t)}else return r?q0(r):l}function f1(s){var l=s.maxDate,r=s.includeDates;if(r&&l){var t=r.filter(function(o){return Al(o,l)<=0});return U0(t)}else return r?U0(r):l}function jb(s,l){var r;s===void 0&&(s=[]),l===void 0&&(l="react-datepicker__day--highlighted");for(var t=new Map,o=0,u=s.length;o<u;o++){var d=s[o];if(_n(d)){var m=bt(d,"MM.dd.yyyy"),x=t.get(m)||[];x.includes(l)||(x.push(l),t.set(m,x))}else if(typeof d=="object"){var p=Object.keys(d),v=(r=p[0])!==null&&r!==void 0?r:"",b=d[v];if(typeof v=="string"&&Array.isArray(b))for(var j=0,C=b.length;j<C;j++){var M=b[j];if(M){var m=bt(M,"MM.dd.yyyy"),x=t.get(m)||[];x.includes(v)||(x.push(v),t.set(m,x))}}}}return t}function Y4(s,l){return s.length!==l.length?!1:s.every(function(r,t){return r===l[t]})}function U4(s,l){s===void 0&&(s=[]),l===void 0&&(l="react-datepicker__day--holidays");var r=new Map;return s.forEach(function(t){var o=t.date,u=t.holidayName;if(_n(o)){var d=bt(o,"MM.dd.yyyy"),m=r.get(d)||{className:"",holidayNames:[]};if(!("className"in m&&m.className===l&&Y4(m.holidayNames,[u]))){m.className=l;var x=m.holidayNames;m.holidayNames=x?Tn(Tn([],x,!0),[u],!1):[u],r.set(d,m)}}}),r}function q4(s,l,r,t,o){for(var u=o.length,d=[],m=0;m<u;m++){var x=s,p=o[m];p&&(x=PC(x,ra(p)),x=Zi(x,sa(p)),x=BC(x,$r(p)));var v=Zi(s,(r+1)*t);ir(x,l)&&An(x,v)&&p!=null&&d.push(p)}return d}function xl(s){return s<10?"0".concat(s):"".concat(s)}function sr(s,l){l===void 0&&(l=io);var r=Math.ceil(qe(s)/l)*l,t=r-(l-1);return{startPeriod:t,endPeriod:r}}function $4(s){var l=new Date(s.getFullYear(),s.getMonth(),s.getDate()),r=new Date(s.getFullYear(),s.getMonth(),s.getDate(),24);return Math.round((+r-+l)/36e5)}function wb(s){var l=s.getSeconds(),r=s.getMilliseconds();return Me(s.getTime()-l*1e3-r)}function p1(s,l){return wb(s).getTime()===wb(l).getTime()}function Sb(s){if(!_n(s))throw new Error("Invalid date");var l=new Date(s);return l.setHours(0,0,0,0),l}function xf(s,l){if(!_n(s)||!_n(l))throw new Error("Invalid date received");var r=Sb(s),t=Sb(l);return An(r,t)}function x1(s){return s.key===he.Space}var hf=(function(s){ea(l,s);function l(r){var t=s.call(this,r)||this;return t.inputRef=ne.createRef(),t.onTimeChange=function(o){var u,d;t.setState({time:o});var m=t.props.date,x=m instanceof Date&&!isNaN(+m),p=x?m:new Date;if(o?.includes(":")){var v=o.split(":"),b=v[0],j=v[1];p.setHours(Number(b)),p.setMinutes(Number(j))}(d=(u=t.props).onChange)===null||d===void 0||d.call(u,p)},t.renderTimeInput=function(){var o=t.state.time,u=t.props,d=u.date,m=u.timeString,x=u.customTimeInput;return x?w.cloneElement(x,{date:d,value:o,onChange:t.onTimeChange}):ne.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:t.inputRef,onClick:function(){var p;(p=t.inputRef.current)===null||p===void 0||p.focus()},required:!0,value:o,onChange:function(p){t.onTimeChange(p.target.value||m)}})},t.state={time:t.props.timeString},t}return l.getDerivedStateFromProps=function(r,t){return r.timeString!==t.time?{time:r.timeString}:null},l.prototype.render=function(){return ne.createElement("div",{className:"react-datepicker__input-time-container"},ne.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ne.createElement("div",{className:"react-datepicker-time__input-container"},ne.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},l})(w.Component),V4=(function(s){ea(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.dayEl=w.createRef(),r.handleClick=function(t){!r.isDisabled()&&r.props.onClick&&r.props.onClick(t)},r.handleMouseEnter=function(t){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(t)},r.handleOnKeyDown=function(t){var o,u,d=t.key;d===he.Space&&(t.preventDefault(),t.key=he.Enter),(u=(o=r.props).handleOnKeyDown)===null||u===void 0||u.call(o,t)},r.isSameDay=function(t){return Ke(r.props.day,t)},r.isKeyboardSelected=function(){var t;if(r.props.disabledKeyboardNavigation)return!1;var o=r.props.selectsMultiple?(t=r.props.selectedDates)===null||t===void 0?void 0:t.some(function(d){return r.isSameDayOrWeek(d)}):r.isSameDayOrWeek(r.props.selected),u=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!o&&r.isSameDayOrWeek(r.props.preSelection)&&!u},r.isDisabled=function(t){return t===void 0&&(t=r.props.day),Za(t,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate,disabled:r.props.disabled})},r.isExcluded=function(){return bp(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return Ke(r.props.day,Vr(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(t){return r.props.showWeekPicker&&Ke(t,Vr(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(t){return r.isSameDay(t)||r.isSameWeek(t)},r.getHighLightedClass=function(){var t=r.props,o=t.day,u=t.highlightDates;if(!u)return!1;var d=bt(o,"MM.dd.yyyy");return u.get(d)},r.getHolidaysClass=function(){var t,o=r.props,u=o.day,d=o.holidays;if(!d)return[void 0];var m=bt(u,"MM.dd.yyyy");return d.has(m)?[(t=d.get(m))===null||t===void 0?void 0:t.className]:[void 0]},r.isInRange=function(){var t=r.props,o=t.day,u=t.startDate,d=t.endDate;return!u||!d?!1:gs(o,u,d)},r.isInSelectingRange=function(){var t,o=r.props,u=o.day,d=o.selectsStart,m=o.selectsEnd,x=o.selectsRange,p=o.selectsDisabledDaysInRange,v=o.startDate,b=o.swapRange,j=o.endDate,C=(t=r.props.selectingDate)!==null&&t!==void 0?t:r.props.preSelection;if(r.isAfterMonth()||r.isBeforeMonth()||!(d||m||x)||!C||!p&&r.isDisabled())return!1;if(d&&j&&(An(C,j)||Ss(C,j)))return gs(u,C,j);if(m&&v&&(ir(C,v)||Ss(C,v)))return gs(u,v,C);if(x&&v&&!j){if(Ss(C,v)||ir(C,v))return gs(u,v,C);if(b&&An(C,v))return gs(u,C,v)}return!1},r.isSelectingRangeStart=function(){var t;if(!r.isInSelectingRange())return!1;var o=r.props,u=o.day,d=o.startDate,m=o.selectsStart,x=o.swapRange,p=o.selectsRange,v=(t=r.props.selectingDate)!==null&&t!==void 0?t:r.props.preSelection;return m?Ke(u,v):p&&x&&d&&v?Ke(u,An(v,d)?v:d):Ke(u,d)},r.isSelectingRangeEnd=function(){var t;if(!r.isInSelectingRange())return!1;var o=r.props,u=o.day,d=o.endDate,m=o.selectsEnd,x=o.selectsRange,p=o.swapRange,v=o.startDate,b=(t=r.props.selectingDate)!==null&&t!==void 0?t:r.props.preSelection;return m?Ke(u,b):x&&p&&v&&b?Ke(u,An(b,v)?v:b):x?Ke(u,b):Ke(u,d)},r.isRangeStart=function(){var t=r.props,o=t.day,u=t.startDate,d=t.endDate;return!u||!d?!1:Ke(u,o)},r.isRangeEnd=function(){var t=r.props,o=t.day,u=t.startDate,d=t.endDate;return!u||!d?!1:Ke(d,o)},r.isWeekend=function(){var t=zk(r.props.day);return t===0||t===6},r.isAfterMonth=function(){return r.props.month!==void 0&&(r.props.month+1)%12===Sa(r.props.day)},r.isBeforeMonth=function(){return r.props.month!==void 0&&(Sa(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(Ze())},r.isSelected=function(){var t;return r.props.selectsMultiple?(t=r.props.selectedDates)===null||t===void 0?void 0:t.some(function(o){return r.isSameDayOrWeek(o)}):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(t){var o=r.props.dayClassName?r.props.dayClassName(t):void 0;return Ut("react-datepicker__day",o,"react-datepicker__day--"+T4(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var t=r.props,o=t.day,u=t.ariaLabelPrefixWhenEnabled,d=u===void 0?"Choose":u,m=t.ariaLabelPrefixWhenDisabled,x=m===void 0?"Not available":m,p=r.isDisabled()||r.isExcluded()?x:d;return"".concat(p," ").concat(bt(o,"PPPP",r.props.locale))},r.getTitle=function(){var t=r.props,o=t.day,u=t.holidays,d=u===void 0?new Map:u,m=t.excludeDates,x=bt(o,"MM.dd.yyyy"),p=[];return d.has(x)&&p.push.apply(p,d.get(x).holidayNames),r.isExcluded()&&p.push(m?.filter(function(v){return v instanceof Date?Ke(v,o):Ke(v?.date,o)}).map(function(v){if(!(v instanceof Date))return v?.message})),p.join(", ")},r.getTabIndex=function(){var t=r.props.selected,o=r.props.preSelection,u=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(t)&&Ke(o,t))?0:-1;return u},r.handleFocusDay=function(){var t;r.shouldFocusDay()&&((t=r.dayEl.current)===null||t===void 0||t.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(W0(r.props.day),r.props.day):W0(r.props.day)},r.render=function(){return ne.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"gridcell",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&ne.createElement("span",{className:"overlay"},r.getTitle()))},r}return l.prototype.componentDidMount=function(){this.handleFocusDay()},l.prototype.componentDidUpdate=function(){this.handleFocusDay()},l.prototype.shouldFocusDay=function(){var r=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(r=!1),this.isDayActiveElement()&&(r=!0),this.isDuplicateDay()&&(r=!1)),r},l.prototype.isDayActiveElement=function(){var r,t,o;return((t=(r=this.props.containerRef)===null||r===void 0?void 0:r.current)===null||t===void 0?void 0:t.contains(document.activeElement))&&((o=document.activeElement)===null||o===void 0?void 0:o.classList.contains("react-datepicker__day"))},l.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},l})(w.Component),G4=(function(s){ea(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.weekNumberEl=w.createRef(),r.handleClick=function(t){r.props.onClick&&r.props.onClick(t)},r.handleOnKeyDown=function(t){var o,u,d=t.key;d===he.Space&&(t.preventDefault(),t.key=he.Enter),(u=(o=r.props).handleOnKeyDown)===null||u===void 0||u.call(o,t)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!Ke(r.props.date,r.props.selected)&&Ke(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||Ke(r.props.date,r.props.selected)&&Ke(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(t){var o=!1;r.getTabIndex()===0&&!t?.isInputFocused&&Ke(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(o=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(o=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(o=!0)),o&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return Object.defineProperty(l,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),l.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},l.prototype.componentDidUpdate=function(r){this.handleFocusWeekNumber(r)},l.prototype.render=function(){var r=this.props,t=r.weekNumber,o=r.isWeekDisabled,u=r.ariaLabelPrefix,d=u===void 0?l.defaultProps.ariaLabelPrefix:u,m=r.onClick,x={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!m&&!o,"react-datepicker__week-number--selected":!!m&&Ke(this.props.date,this.props.selected)};return ne.createElement("div",{ref:this.weekNumberEl,className:Ut(x),"aria-label":"".concat(d," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},t)},l})(w.Component),Q4=(function(s){ea(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.isDisabled=function(t){return Za(t,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.handleDayClick=function(t,o){r.props.onDayClick&&r.props.onDayClick(t,o)},r.handleDayMouseEnter=function(t){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(t)},r.handleWeekClick=function(t,o,u){for(var d,m,x,p=new Date(t),v=0;v<7;v++){var b=new Date(t);b.setDate(b.getDate()+v);var j=!r.isDisabled(b);if(j){p=b;break}}typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(p,o,u),r.props.showWeekPicker&&r.handleDayClick(p,u),((d=r.props.shouldCloseOnSelect)!==null&&d!==void 0?d:l.defaultProps.shouldCloseOnSelect)&&((x=(m=r.props).setOpen)===null||x===void 0||x.call(m,!1))},r.formatWeekNumber=function(t){return r.props.formatWeekNumber?r.props.formatWeekNumber(t):A4(t)},r.isWeekDisabled=function(){for(var t=r.startOfWeek(),o=dn(t,6),u=new Date(t);u<=o;){if(!r.isDisabled(u))return!1;u=dn(u,1)}return!0},r.renderDays=function(){var t=r.startOfWeek(),o=[],u=r.formatWeekNumber(t);if(r.props.showWeekNumber){var d=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,t,u):void 0;o.push(ne.createElement(G4,Fe({key:"W"},l.defaultProps,r.props,{weekNumber:u,isWeekDisabled:r.isWeekDisabled(),date:t,onClick:d})))}return o.concat([0,1,2,3,4,5,6].map(function(m){var x=dn(t,m);return ne.createElement(V4,Fe({},l.defaultProps,r.props,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:x.valueOf(),day:x,onClick:r.handleDayClick.bind(r,x),onMouseEnter:r.handleDayMouseEnter.bind(r,x)}))}))},r.startOfWeek=function(){return Vr(r.props.day,r.props.locale,r.props.calendarStartDay)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!Ke(r.startOfWeek(),r.props.selected)&&Ke(r.startOfWeek(),r.props.preSelection)},r}return Object.defineProperty(l,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),l.prototype.render=function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":Ke(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},t=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return ne.createElement("div",{className:Ut(r,t),role:"row"},this.renderDays())},l})(w.Component),Bi,K4=6,wl={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},vf=(Bi={},Bi[wl.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Bi[wl.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Bi[wl.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Bi),Lc=1;function Cb(s,l){return s?wl.FOUR_COLUMNS:l?wl.TWO_COLUMNS:wl.THREE_COLUMNS}var X4=(function(s){ea(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.MONTH_REFS=Tn([],Array(12),!0).map(function(){return w.createRef()}),r.QUARTER_REFS=Tn([],Array(4),!0).map(function(){return w.createRef()}),r.isDisabled=function(t){return Za(t,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate,disabled:r.props.disabled})},r.isExcluded=function(t){return bp(t,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(t,o){var u,d;(d=(u=r.props).onDayClick)===null||d===void 0||d.call(u,t,o,r.props.orderInDisplay)},r.handleDayMouseEnter=function(t){var o,u;(u=(o=r.props).onDayMouseEnter)===null||u===void 0||u.call(o,t)},r.handleMouseLeave=function(){var t,o;(o=(t=r.props).onMouseLeave)===null||o===void 0||o.call(t)},r.isRangeStartMonth=function(t){var o=r.props,u=o.day,d=o.startDate,m=o.endDate;return!d||!m?!1:ca(La(u,t),d)},r.isRangeStartQuarter=function(t){var o=r.props,u=o.day,d=o.startDate,m=o.endDate;return!d||!m?!1:Cu(gl(u,t),d)},r.isRangeEndMonth=function(t){var o=r.props,u=o.day,d=o.startDate,m=o.endDate;return!d||!m?!1:ca(La(u,t),m)},r.isRangeEndQuarter=function(t){var o=r.props,u=o.day,d=o.startDate,m=o.endDate;return!d||!m?!1:Cu(gl(u,t),m)},r.isInSelectingRangeMonth=function(t){var o,u=r.props,d=u.day,m=u.selectsStart,x=u.selectsEnd,p=u.selectsRange,v=u.startDate,b=u.endDate,j=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return!(m||x||p)||!j?!1:m&&b?_c(j,b,t,d):x&&v||p&&v&&!b?_c(v,j,t,d):!1},r.isSelectingMonthRangeStart=function(t){var o;if(!r.isInSelectingRangeMonth(t))return!1;var u=r.props,d=u.day,m=u.startDate,x=u.selectsStart,p=La(d,t),v=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return x?ca(p,v):ca(p,m)},r.isSelectingMonthRangeEnd=function(t){var o;if(!r.isInSelectingRangeMonth(t))return!1;var u=r.props,d=u.day,m=u.endDate,x=u.selectsEnd,p=u.selectsRange,v=La(d,t),b=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return x||p?ca(v,b):ca(v,m)},r.isInSelectingRangeQuarter=function(t){var o,u=r.props,d=u.day,m=u.selectsStart,x=u.selectsEnd,p=u.selectsRange,v=u.startDate,b=u.endDate,j=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return!(m||x||p)||!j?!1:m&&b?Ic(j,b,t,d):x&&v||p&&v&&!b?Ic(v,j,t,d):!1},r.isWeekInMonth=function(t){var o=r.props.day,u=dn(t,6);return ca(t,o)||ca(u,o)},r.isCurrentMonth=function(t,o){return qe(t)===qe(Ze())&&o===Sa(Ze())},r.isCurrentQuarter=function(t,o){return qe(t)===qe(Ze())&&o===Ur(Ze())},r.isSelectedMonth=function(t,o,u){return Sa(u)===o&&qe(t)===qe(u)},r.isSelectMonthInList=function(t,o,u){return u.some(function(d){return r.isSelectedMonth(t,o,d)})},r.isSelectedQuarter=function(t,o,u){return Ur(u)===o&&qe(t)===qe(u)},r.isSelectQuarterInList=function(t,o,u){return u.some(function(d){return r.isSelectedQuarter(t,o,d)})},r.isMonthSelected=function(){var t=r.props,o=t.day,u=t.selected,d=t.selectedDates,m=t.selectsMultiple,x=Sa(o);return m?d?.some(function(p){return r.isSelectedMonth(o,x,p)}):!!u&&r.isSelectedMonth(o,x,u)},r.isQuarterSelected=function(){var t=r.props,o=t.day,u=t.selected,d=t.selectedDates,m=t.selectsMultiple,x=Ur(o);return m?d?.some(function(p){return r.isSelectedQuarter(o,x,p)}):!!u&&r.isSelectedQuarter(o,x,u)},r.renderWeeks=function(){if(!wa(r.props.day))return[];for(var t=[],o=r.props.fixedHeight,u=0,d=!1,m=Vr(or(r.props.day),r.props.locale,r.props.calendarStartDay),x=function(M){return r.props.showWeekPicker?Vr(M,r.props.locale,r.props.calendarStartDay):r.props.preSelection},p=function(M){return r.props.showWeekPicker?Vr(M,r.props.locale,r.props.calendarStartDay):r.props.selected},v=r.props.selected?p(r.props.selected):void 0,b=r.props.preSelection?x(r.props.preSelection):void 0;t.push(ne.createElement(Q4,Fe({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:u,day:m,month:Sa(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:v,preSelection:b,showWeekNumber:r.props.showWeekNumbers}))),!d;){u++,m=xu(m,1);var j=o&&u>=K4,C=!o&&!r.isWeekInMonth(m);if(j||C)if(r.props.peekNextMonth)d=!0;else break}return t},r.onMonthClick=function(t,o){var u=r.isMonthDisabledForLabelDate(o),d=u.isDisabled,m=u.labelDate;d||r.handleDayClick(or(m),t)},r.onMonthMouseEnter=function(t){var o=r.isMonthDisabledForLabelDate(t),u=o.isDisabled,d=o.labelDate;u||r.handleDayMouseEnter(or(d))},r.handleMonthNavigation=function(t,o){var u,d,m,x;(d=(u=r.props).setPreSelection)===null||d===void 0||d.call(u,o),(x=(m=r.MONTH_REFS[t])===null||m===void 0?void 0:m.current)===null||x===void 0||x.focus()},r.handleKeyboardNavigation=function(t,o,u){var d,m=r.props,x=m.selected,p=m.preSelection,v=m.setPreSelection,b=m.minDate,j=m.maxDate,C=m.showFourColumnMonthYearPicker,M=m.showTwoColumnMonthYearPicker;if(p){var S=Cb(C,M),g=r.getVerticalOffset(S),N=(d=vf[S])===null||d===void 0?void 0:d.grid,D=function($,O,F){var I,G,A=O,re=F;switch($){case he.ArrowRight:A=pn(O,Lc),re=F===11?0:F+Lc;break;case he.ArrowLeft:A=Cs(O,Lc),re=F===0?11:F-Lc;break;case he.ArrowUp:A=Cs(O,g),re=!((I=N?.[0])===null||I===void 0)&&I.includes(F)?F+12-g:F-g;break;case he.ArrowDown:A=pn(O,g),re=!((G=N?.[N.length-1])===null||G===void 0)&&G.includes(F)?F-12+g:F+g;break}return{newCalculatedDate:A,newCalculatedMonth:re}},y=function($,O,F){for(var I=40,G=$,A=!1,re=0,U=D(G,O,F),Z=U.newCalculatedDate,B=U.newCalculatedMonth;!A;){if(re>=I){Z=O,B=F;break}if(b&&Z<b){G=he.ArrowRight;var R=D(G,Z,B);Z=R.newCalculatedDate,B=R.newCalculatedMonth}if(j&&Z>j){G=he.ArrowLeft;var R=D(G,Z,B);Z=R.newCalculatedDate,B=R.newCalculatedMonth}if(P4(Z,r.props)){var R=D(G,Z,B);Z=R.newCalculatedDate,B=R.newCalculatedMonth}else A=!0;re++}return{newCalculatedDate:Z,newCalculatedMonth:B}};if(o===he.Enter){r.isMonthDisabled(u)||(r.onMonthClick(t,u),v?.(x));return}var E=y(o,p,u),_=E.newCalculatedDate,H=E.newCalculatedMonth;switch(o){case he.ArrowRight:case he.ArrowLeft:case he.ArrowUp:case he.ArrowDown:r.handleMonthNavigation(H,_);break}}},r.getVerticalOffset=function(t){var o,u;return(u=(o=vf[t])===null||o===void 0?void 0:o.verticalNavigationOffset)!==null&&u!==void 0?u:0},r.onMonthKeyDown=function(t,o){var u=r.props,d=u.disabledKeyboardNavigation,m=u.handleOnMonthKeyDown,x=t.key;x!==he.Tab&&t.preventDefault(),d||r.handleKeyboardNavigation(t,x,o),m&&m(t)},r.onQuarterClick=function(t,o){var u=gl(r.props.day,o);Oc(u,r.props)||r.handleDayClick(mb(u),t)},r.onQuarterMouseEnter=function(t){var o=gl(r.props.day,t);Oc(o,r.props)||r.handleDayMouseEnter(mb(o))},r.handleQuarterNavigation=function(t,o){var u,d,m,x;r.isDisabled(o)||r.isExcluded(o)||((d=(u=r.props).setPreSelection)===null||d===void 0||d.call(u,o),(x=(m=r.QUARTER_REFS[t-1])===null||m===void 0?void 0:m.current)===null||x===void 0||x.focus())},r.onQuarterKeyDown=function(t,o){var u,d,m=t.key;if(!r.props.disabledKeyboardNavigation)switch(m){case he.Enter:r.onQuarterClick(t,o),(d=(u=r.props).setPreSelection)===null||d===void 0||d.call(u,r.props.selected);break;case he.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(o===4?1:o+1,lp(r.props.preSelection,1));break;case he.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(o===1?4:o-1,Ky(r.props.preSelection));break}},r.isMonthDisabledForLabelDate=function(t){var o,u=r.props,d=u.day,m=u.disabled,x=u.minDate,p=u.maxDate,v=u.excludeDates,b=u.includeDates,j=La(d,t);return m?{isDisabled:!0,labelDate:La(d,t)}:{isDisabled:(o=(x||p||v||b)&&d1(j,r.props))!==null&&o!==void 0?o:!1,labelDate:j}},r.isMonthDisabled=function(t){var o=r.isMonthDisabledForLabelDate(t).isDisabled;return o},r.getMonthClassNames=function(t){var o=r.props,u=o.day,d=o.startDate,m=o.endDate,x=o.preSelection,p=o.monthClassName,v=p?p(La(u,t)):void 0,b=r.getSelection();return Ut("react-datepicker__month-text","react-datepicker__month-".concat(t),v,{"react-datepicker__month-text--disabled":r.isMonthDisabled(t),"react-datepicker__month-text--selected":b?r.isSelectMonthInList(u,t,b):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&x&&r.isSelectedMonth(u,t,x)&&!r.isMonthSelected()&&!r.isMonthDisabled(t),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(t),"react-datepicker__month-text--in-range":d&&m?_c(d,m,t,u):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(t),"react-datepicker__month-text--range-end":r.isRangeEndMonth(t),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(t),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(t),"react-datepicker__month-text--today":r.isCurrentMonth(u,t)})},r.getTabIndex=function(t){if(r.props.preSelection==null)return"-1";var o=Sa(r.props.preSelection),u=r.isMonthDisabledForLabelDate(o).isDisabled,d=t===o&&!(u||r.props.disabledKeyboardNavigation)?"0":"-1";return d},r.getQuarterTabIndex=function(t){if(r.props.preSelection==null)return"-1";var o=Ur(r.props.preSelection),u=Oc(r.props.day,r.props),d=t===o&&!(u||r.props.disabledKeyboardNavigation)?"0":"-1";return d},r.getAriaLabel=function(t){var o=r.props,u=o.chooseDayAriaLabelPrefix,d=u===void 0?"Choose":u,m=o.disabledDayAriaLabelPrefix,x=m===void 0?"Not available":m,p=o.day,v=o.locale,b=La(p,t),j=r.isDisabled(b)||r.isExcluded(b)?x:d;return"".concat(j," ").concat(bt(b,"MMMM yyyy",v))},r.getQuarterClassNames=function(t){var o=r.props,u=o.day,d=o.startDate,m=o.endDate,x=o.minDate,p=o.maxDate,v=o.excludeDates,b=o.includeDates,j=o.filterDate,C=o.preSelection,M=o.disabledKeyboardNavigation,S=o.disabled,g=(x||p||v||b||j||S)&&Oc(gl(u,t),r.props),N=r.getSelection();return Ut("react-datepicker__quarter-text","react-datepicker__quarter-".concat(t),{"react-datepicker__quarter-text--disabled":g,"react-datepicker__quarter-text--selected":N?r.isSelectQuarterInList(u,t,N):void 0,"react-datepicker__quarter-text--keyboard-selected":!M&&C&&r.isSelectedQuarter(u,t,C)&&!r.isQuarterSelected()&&!g,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(t),"react-datepicker__quarter-text--in-range":d&&m?Ic(d,m,t,u):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(t),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(t),"react-datepicker__quarter-text--today":r.isCurrentQuarter(u,t)})},r.getMonthContent=function(t){var o=r.props,u=o.showFullMonthYearPicker,d=o.renderMonthContent,m=o.locale,x=o.day,p=u1(t,m),v=vp(t,m);return d?d(t,p,v,x):u?v:p},r.getQuarterContent=function(t){var o,u=r.props,d=u.renderQuarterContent,m=u.locale,x=L4(t,m);return(o=d?.(t,x))!==null&&o!==void 0?o:x},r.renderMonths=function(){var t,o=r.props,u=o.showTwoColumnMonthYearPicker,d=o.showFourColumnMonthYearPicker,m=o.day,x=o.selected,p=(t=vf[Cb(d,u)])===null||t===void 0?void 0:t.grid;return p?.map(function(v,b){return ne.createElement("div",{className:"react-datepicker__month-wrapper",key:b},v.map(function(j,C){return ne.createElement("div",{ref:r.MONTH_REFS[j],key:C,onClick:function(M){r.onMonthClick(M,j)},onKeyDown:function(M){x1(M)&&(M.preventDefault(),M.key=he.Enter),r.onMonthKeyDown(M,j)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(j)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(j)}:void 0,tabIndex:Number(r.getTabIndex(j)),className:r.getMonthClassNames(j),"aria-disabled":r.isMonthDisabled(j),role:"option","aria-label":r.getAriaLabel(j),"aria-current":r.isCurrentMonth(m,j)?"date":void 0,"aria-selected":x?r.isSelectedMonth(m,j,x):void 0},r.getMonthContent(j))}))})},r.renderQuarters=function(){var t=r.props,o=t.day,u=t.selected,d=[1,2,3,4];return ne.createElement("div",{className:"react-datepicker__quarter-wrapper"},d.map(function(m,x){return ne.createElement("div",{key:x,ref:r.QUARTER_REFS[x],role:"option",onClick:function(p){r.onQuarterClick(p,m)},onKeyDown:function(p){r.onQuarterKeyDown(p,m)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(m)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(m)}:void 0,className:r.getQuarterClassNames(m),"aria-selected":u?r.isSelectedQuarter(o,m,u):void 0,tabIndex:Number(r.getQuarterTabIndex(m)),"aria-current":r.isCurrentQuarter(o,m)?"date":void 0},r.getQuarterContent(m))}))},r.getClassNames=function(){var t=r.props,o=t.selectingDate,u=t.selectsStart,d=t.selectsEnd,m=t.showMonthYearPicker,x=t.showQuarterYearPicker,p=t.showWeekPicker;return Ut("react-datepicker__month",{"react-datepicker__month--selecting-range":o&&(u||d)},{"react-datepicker__monthPicker":m},{"react-datepicker__quarterPicker":x},{"react-datepicker__weekPicker":p})},r}return l.prototype.getSelection=function(){var r=this.props,t=r.selected,o=r.selectedDates,u=r.selectsMultiple;if(u)return o;if(t)return[t]},l.prototype.render=function(){var r=this.props,t=r.showMonthYearPicker,o=r.showQuarterYearPicker,u=r.day,d=r.ariaLabelPrefix,m=d===void 0?"Month ":d,x=m?m.trim()+" ":"",p=wa(u)?"".concat(x).concat(bt(u,"MMMM, yyyy",this.props.locale)):"",v=t||o;return v?ne.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":p,role:"listbox"},t?this.renderMonths():this.renderQuarters()):ne.createElement("div",{role:"table"},this.props.dayNamesHeader&&ne.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),this.props.monthHeader&&ne.createElement("div",{role:"rowgroup"},this.props.monthHeader),ne.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":p,role:"rowgroup"},this.renderWeeks()),this.props.monthFooter&&ne.createElement("div",{role:"rowgroup"},this.props.monthFooter))},l})(w.Component),W4=(function(s){ea(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.monthOptionButtonsRef={},r.isSelectedMonth=function(t){return r.props.month===t},r.handleOptionKeyDown=function(t,o){var u;switch(o.key){case"Enter":o.preventDefault(),r.onChange(t);break;case"Escape":o.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{o.preventDefault();var d=(t+(o.key==="ArrowUp"?-1:1)+r.props.monthNames.length)%r.props.monthNames.length;(u=r.monthOptionButtonsRef[d])===null||u===void 0||u.focus();break}}},r.renderOptions=function(){return r.monthOptionButtonsRef={},r.props.monthNames.map(function(t,o){return ne.createElement("div",{ref:function(u){r.monthOptionButtonsRef[o]=u,r.isSelectedMonth(o)&&u?.focus()},role:"button",tabIndex:0,className:r.isSelectedMonth(o)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:t,onClick:r.onChange.bind(r,o),onKeyDown:r.handleOptionKeyDown.bind(r,o),"aria-selected":r.isSelectedMonth(o)?"true":void 0},r.isSelectedMonth(o)?ne.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",t)})},r.onChange=function(t){return r.props.onChange(t)},r.handleClickOutside=function(){return r.props.onCancel()},r}return l.prototype.render=function(){return ne.createElement(Yu,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},l})(w.Component),Z4=(function(s){ea(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(t){return t.map(function(o,u){return ne.createElement("option",{key:o,value:u},o)})},r.renderSelectMode=function(t){return ne.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(o){return r.onChange(parseInt(o.target.value))}},r.renderSelectOptions(t))},r.renderReadView=function(t,o){return ne.createElement("button",{key:"read",type:"button",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},ne.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ne.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},o[r.props.month]))},r.renderDropdown=function(t){return ne.createElement(W4,Fe({key:"dropdown"},r.props,{monthNames:t,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(t){var o=r.state.dropdownVisible,u=[r.renderReadView(!o,t)];return o&&u.unshift(r.renderDropdown(t)),u},r.onChange=function(t){r.toggleDropdown(),t!==r.props.month&&r.props.onChange(t)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return l.prototype.render=function(){var r=this,t=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(u){return u1(u,r.props.locale)}:function(u){return vp(u,r.props.locale)}),o;switch(this.props.dropdownMode){case"scroll":o=this.renderScrollMode(t);break;case"select":o=this.renderSelectMode(t);break}return ne.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},o)},l})(w.Component),kb=5;function J4(s,l,r){for(var t=[],o=s??Gr(r,kb),u=l??mn(r,kb),d=or(o),m=or(u);!ir(d,m);)t.push(Ze(d)),d=pn(d,1);return t}var e3=(function(s){ea(l,s);function l(r){var t=s.call(this,r)||this;return t.renderOptions=function(){return t.state.monthYearsList.map(function(o){var u=If(o),d=kn(t.props.date,o)&&ca(t.props.date,o);return ne.createElement("div",{className:d?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:u,onClick:t.onChange.bind(t,u),"aria-selected":d?"true":void 0},d?ne.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",bt(o,t.props.dateFormat,t.props.locale))})},t.onChange=function(o){return t.props.onChange(o)},t.handleClickOutside=function(){t.props.onCancel()},t.state={monthYearsList:J4(t.props.minDate,t.props.maxDate,t.props.date)},t}return l.prototype.render=function(){var r=Ut({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ne.createElement(Yu,{className:r,onClickOutside:this.handleClickOutside},this.renderOptions())},l})(w.Component),Db=5,t3=(function(s){ea(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var t,o,u=(t=r.props.minDate)!==null&&t!==void 0?t:Gr(r.props.date,Db),d=(o=r.props.maxDate)!==null&&o!==void 0?o:mn(r.props.date,Db),m=or(u),x=or(d),p=[];!ir(m,x);){var v=If(m);p.push(ne.createElement("option",{key:v,value:v},bt(m,r.props.dateFormat,r.props.locale))),m=pn(m,1)}return p},r.onSelectChange=function(t){r.onChange(parseInt(t.target.value))},r.renderSelectMode=function(){return ne.createElement("select",{value:If(or(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(t){var o=bt(r.props.date,r.props.dateFormat,r.props.locale);return ne.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},ne.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ne.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},o))},r.renderDropdown=function(){return ne.createElement(e3,Fe({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var t=r.state.dropdownVisible,o=[r.renderReadView(!t)];return t&&o.unshift(r.renderDropdown()),o},r.onChange=function(t){r.toggleDropdown();var o=Ze(t);kn(r.props.date,o)&&ca(r.props.date,o)||r.props.onChange(o)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return l.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return ne.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)},l})(w.Component),a3=(function(s){ea(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.state={height:null},r.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var t,o,u;r.list&&(r.list.scrollTop=(u=r.centerLi&&l.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-((o=(t=r.header)===null||t===void 0?void 0:t.clientHeight)!==null&&o!==void 0?o:0):r.list.clientHeight,r.centerLi))!==null&&u!==void 0?u:0)})},r.handleClick=function(t){var o,u;(r.props.minTime||r.props.maxTime)&&vb(t,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&hb(t,r.props)||(u=(o=r.props).onChange)===null||u===void 0||u.call(o,t)},r.isSelectedTime=function(t){var o=ws(r.props.selected);return o&&p1(o,t)},r.isDisabledTime=function(t){return(r.props.minTime||r.props.maxTime)&&vb(t,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&hb(t,r.props)},r.liClasses=function(t){var o,u=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(t):void 0];return r.isSelectedTime(t)&&u.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(t)&&u.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(ra(t)*3600+sa(t)*60+$r(t))%(((o=r.props.intervals)!==null&&o!==void 0?o:l.defaultProps.intervals)*60)!==0&&u.push("react-datepicker__time-list-item--injected"),u.join(" ")},r.handleOnKeyDown=function(t,o){var u,d;t.key===he.Space&&(t.preventDefault(),t.key=he.Enter),(t.key===he.ArrowUp||t.key===he.ArrowLeft)&&t.target instanceof HTMLElement&&t.target.previousSibling&&(t.preventDefault(),t.target.previousSibling instanceof HTMLElement&&t.target.previousSibling.focus()),(t.key===he.ArrowDown||t.key===he.ArrowRight)&&t.target instanceof HTMLElement&&t.target.nextSibling&&(t.preventDefault(),t.target.nextSibling instanceof HTMLElement&&t.target.nextSibling.focus()),t.key===he.Enter&&r.handleClick(o),(d=(u=r.props).handleOnKeyDown)===null||d===void 0||d.call(u,t)},r.renderTimes=function(){for(var t,o=[],u=typeof r.props.format=="string"?r.props.format:"p",d=(t=r.props.intervals)!==null&&t!==void 0?t:l.defaultProps.intervals,m=ws(r.props.selected)||ws(r.props.openToDate)||Ze(),x=$i(m),p=r.props.injectTimes&&r.props.injectTimes.sort(function(g,N){return g.getTime()-N.getTime()}),v=60*$4(m),b=v/d,j=0;j<b;j++){var C=Zi(x,j*d);if(o.push(C),p){var M=q4(x,C,j,d,p);o=o.concat(M)}}var S=o.reduce(function(g,N){return N.getTime()<=m.getTime()?N:g},o[0]);return o.map(function(g){return ne.createElement("li",{key:g.valueOf(),onClick:r.handleClick.bind(r,g),className:r.liClasses(g),ref:function(N){g===S&&(r.centerLi=N)},onKeyDown:function(N){r.handleOnKeyDown(N,g)},tabIndex:g===S?0:-1,role:"option","aria-selected":r.isSelectedTime(g)?"true":void 0,"aria-disabled":r.isDisabledTime(g)?"true":void 0},bt(g,u,r.props.locale))})},r.renderTimeCaption=function(){return r.props.showTimeCaption===!1?ne.createElement(ne.Fragment,null):ne.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(r.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(t){r.header=t}},ne.createElement("div",{className:"react-datepicker-time__header"},r.props.timeCaption))},r}return Object.defineProperty(l,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),l.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},l.prototype.componentWillUnmount=function(){var r;(r=this.resizeObserver)===null||r===void 0||r.disconnect()},l.prototype.observeDatePickerHeightChanges=function(){var r=this,t=this.props.monthRef;this.updateContainerHeight(),t&&(this.resizeObserver=new ResizeObserver(function(){r.updateContainerHeight()}),this.resizeObserver.observe(t))},l.prototype.updateContainerHeight=function(){if(this.props.monthRef&&this.header){var r=this.props.monthRef.clientHeight-this.header.clientHeight;this.state.height!==r&&this.setState({height:r})}},l.prototype.render=function(){var r=this,t,o=this.state.height;return ne.createElement("div",{className:"react-datepicker__time-container ".concat(((t=this.props.todayButton)!==null&&t!==void 0?t:l.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ne.createElement("div",{className:"react-datepicker__time"},ne.createElement("div",{className:"react-datepicker__time-box"},ne.createElement("ul",{className:"react-datepicker__time-list",ref:function(u){r.list=u},style:o?{height:o}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},l.calcCenterPosition=function(r,t){return t.offsetTop-(r/2-t.clientHeight/2)},l})(w.Component),Mb=3,n3=(function(s){ea(l,s);function l(r){var t=s.call(this,r)||this;return t.YEAR_REFS=Tn([],Array(t.props.yearItemNumber),!0).map(function(){return w.createRef()}),t.isDisabled=function(o){return Za(o,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(o){return bp(o,{excludeDates:t.props.excludeDates})},t.selectingDate=function(){var o;return(o=t.props.selectingDate)!==null&&o!==void 0?o:t.props.preSelection},t.updateFocusOnPaginate=function(o){var u=function(){var d,m;(m=(d=t.YEAR_REFS[o])===null||d===void 0?void 0:d.current)===null||m===void 0||m.focus()};window.requestAnimationFrame(u)},t.handleYearClick=function(o,u){t.props.onDayClick&&t.props.onDayClick(o,u)},t.handleYearNavigation=function(o,u){var d,m,x,p,v=t.props,b=v.date,j=v.yearItemNumber;if(!(b===void 0||j===void 0)){var C=sr(b,j).startPeriod;t.isDisabled(u)||t.isExcluded(u)||((m=(d=t.props).setPreSelection)===null||m===void 0||m.call(d,u),o-C<0?t.updateFocusOnPaginate(j-(C-o)):o-C>=j?t.updateFocusOnPaginate(Math.abs(j-(o-C))):(p=(x=t.YEAR_REFS[o-C])===null||x===void 0?void 0:x.current)===null||p===void 0||p.focus())}},t.isSameDay=function(o,u){return Ke(o,u)},t.isCurrentYear=function(o){return o===qe(Ze())},t.isRangeStart=function(o){return t.props.startDate&&t.props.endDate&&kn(Cn(Ze(),o),t.props.startDate)},t.isRangeEnd=function(o){return t.props.startDate&&t.props.endDate&&kn(Cn(Ze(),o),t.props.endDate)},t.isInRange=function(o){return Rc(o,t.props.startDate,t.props.endDate)},t.isInSelectingRange=function(o){var u=t.props,d=u.selectsStart,m=u.selectsEnd,x=u.selectsRange,p=u.startDate,v=u.endDate;return!(d||m||x)||!t.selectingDate()?!1:d&&v?Rc(o,t.selectingDate(),v):m&&p||x&&p&&!v?Rc(o,p,t.selectingDate()):!1},t.isSelectingRangeStart=function(o){var u;if(!t.isInSelectingRange(o))return!1;var d=t.props,m=d.startDate,x=d.selectsStart,p=Cn(Ze(),o);return x?kn(p,(u=t.selectingDate())!==null&&u!==void 0?u:null):kn(p,m??null)},t.isSelectingRangeEnd=function(o){var u;if(!t.isInSelectingRange(o))return!1;var d=t.props,m=d.endDate,x=d.selectsEnd,p=d.selectsRange,v=Cn(Ze(),o);return x||p?kn(v,(u=t.selectingDate())!==null&&u!==void 0?u:null):kn(v,m??null)},t.isKeyboardSelected=function(o){if(!(t.props.disabledKeyboardNavigation||t.props.date===void 0||t.props.preSelection==null)){var u=t.props,d=u.minDate,m=u.maxDate,x=u.excludeDates,p=u.includeDates,v=u.filterDate,b=u.selected,j=Vi(Cn(t.props.date,o)),C=(d||m||x||p||v)&&su(o,t.props),M=!!b&&Ke(j,Vi(b)),S=Ke(j,Vi(t.props.preSelection));return!t.props.inline&&!M&&S&&!C}},t.isSelectedYear=function(o){var u=t.props,d=u.selectsMultiple,m=u.selected,x=u.selectedDates;return d?x?.some(function(p){return o===qe(p)}):!!m&&o===qe(m)},t.onYearClick=function(o,u){var d=t.props.date;d!==void 0&&t.handleYearClick(Vi(Cn(d,u)),o)},t.onYearKeyDown=function(o,u){var d,m,x=o.key,p=t.props,v=p.date,b=p.yearItemNumber,j=p.handleOnKeyDown;if(x!==he.Tab&&o.preventDefault(),!t.props.disabledKeyboardNavigation)switch(x){case he.Enter:if(t.props.selected==null)break;t.onYearClick(o,u),(m=(d=t.props).setPreSelection)===null||m===void 0||m.call(d,t.props.selected);break;case he.ArrowRight:if(t.props.preSelection==null)break;t.handleYearNavigation(u+1,mn(t.props.preSelection,1));break;case he.ArrowLeft:if(t.props.preSelection==null)break;t.handleYearNavigation(u-1,Gr(t.props.preSelection,1));break;case he.ArrowUp:{if(v===void 0||b===void 0||t.props.preSelection==null)break;var C=sr(v,b).startPeriod,M=Mb,S=u-M;if(S<C){var g=b%M;u>=C&&u<C+g?M=g:M+=g,S=u-M}t.handleYearNavigation(S,Gr(t.props.preSelection,M));break}case he.ArrowDown:{if(v===void 0||b===void 0||t.props.preSelection==null)break;var N=sr(v,b).endPeriod,M=Mb,S=u+M;if(S>N){var g=b%M;u<=N&&u>N-g?M=g:M+=g,S=u+M}t.handleYearNavigation(S,mn(t.props.preSelection,M));break}}j&&j(o)},t.getYearClassNames=function(o){var u=t.props,d=u.date,m=u.disabled,x=u.minDate,p=u.maxDate,v=u.excludeDates,b=u.includeDates,j=u.filterDate,C=u.yearClassName;return Ut("react-datepicker__year-text","react-datepicker__year-".concat(o),d?C?.(Cn(d,o)):void 0,{"react-datepicker__year-text--selected":t.isSelectedYear(o),"react-datepicker__year-text--disabled":(x||p||v||b||j||m)&&su(o,t.props),"react-datepicker__year-text--keyboard-selected":t.isKeyboardSelected(o),"react-datepicker__year-text--range-start":t.isRangeStart(o),"react-datepicker__year-text--range-end":t.isRangeEnd(o),"react-datepicker__year-text--in-range":t.isInRange(o),"react-datepicker__year-text--in-selecting-range":t.isInSelectingRange(o),"react-datepicker__year-text--selecting-range-start":t.isSelectingRangeStart(o),"react-datepicker__year-text--selecting-range-end":t.isSelectingRangeEnd(o),"react-datepicker__year-text--today":t.isCurrentYear(o)})},t.getYearTabIndex=function(o){if(t.props.disabledKeyboardNavigation||t.props.preSelection==null)return"-1";var u=qe(t.props.preSelection),d=su(o,t.props);return o===u&&!d?"0":"-1"},t.getYearContent=function(o){return t.props.renderYearContent?t.props.renderYearContent(o):o},t}return l.prototype.render=function(){var r=this,t=[],o=this.props,u=o.date,d=o.yearItemNumber,m=o.onYearMouseEnter,x=o.onYearMouseLeave;if(u===void 0)return null;for(var p=sr(u,d),v=p.startPeriod,b=p.endPeriod,j=function(S){t.push(ne.createElement("div",{ref:C.YEAR_REFS[S-v],onClick:function(g){r.onYearClick(g,S)},onKeyDown:function(g){x1(g)&&(g.preventDefault(),g.key=he.Enter),r.onYearKeyDown(g,S)},tabIndex:Number(C.getYearTabIndex(S)),className:C.getYearClassNames(S),onMouseEnter:C.props.usePointerEvent?void 0:function(g){return m(g,S)},onPointerEnter:C.props.usePointerEvent?function(g){return m(g,S)}:void 0,onMouseLeave:C.props.usePointerEvent?void 0:function(g){return x(g,S)},onPointerLeave:C.props.usePointerEvent?function(g){return x(g,S)}:void 0,key:S,"aria-current":C.isCurrentYear(S)?"date":void 0},C.getYearContent(S)))},C=this,M=v;M<=b;M++)j(M);return ne.createElement("div",{className:"react-datepicker__year"},ne.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},t))},l})(w.Component);function r3(s,l,r,t){for(var o=[],u=0;u<2*l+1;u++){var d=s+l-u,m=!0;r&&(m=qe(r)<=d),t&&m&&(m=qe(t)>=d),m&&o.push(d)}return o}var s3=(function(s){ea(l,s);function l(r){var t=s.call(this,r)||this;t.yearOptionButtonsRef={},t.handleOptionKeyDown=function(m,x){var p;switch(x.key){case"Enter":x.preventDefault(),t.onChange(m);break;case"Escape":x.preventDefault(),t.props.onCancel();break;case"ArrowUp":case"ArrowDown":{x.preventDefault();var v=m+(x.key==="ArrowUp"?1:-1);t.yearOptionButtonsRef[v]&&((p=t.yearOptionButtonsRef[v])===null||p===void 0||p.focus());break}}},t.renderOptions=function(){t.yearOptionButtonsRef={};var m=t.props.year,x=t.state.yearsList.map(function(b){return ne.createElement("div",{ref:function(j){t.yearOptionButtonsRef[b]=j,b===m&&j?.focus()},role:"button",tabIndex:0,className:m===b?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:b,onClick:t.onChange.bind(t,b),onKeyDown:t.handleOptionKeyDown.bind(t,b),"aria-selected":m===b?"true":void 0},m===b?ne.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",b)}),p=t.props.minDate?qe(t.props.minDate):null,v=t.props.maxDate?qe(t.props.maxDate):null;return(!v||!t.state.yearsList.find(function(b){return b===v}))&&x.unshift(ne.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:t.incrementYears},ne.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!p||!t.state.yearsList.find(function(b){return b===p}))&&x.push(ne.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:t.decrementYears},ne.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),x},t.onChange=function(m){t.props.onChange(m)},t.handleClickOutside=function(){t.props.onCancel()},t.shiftYears=function(m){var x=t.state.yearsList.map(function(p){return p+m});t.setState({yearsList:x})},t.incrementYears=function(){return t.shiftYears(1)},t.decrementYears=function(){return t.shiftYears(-1)};var o=r.yearDropdownItemNumber,u=r.scrollableYearDropdown,d=o||(u?10:5);return t.state={yearsList:r3(t.props.year,d,t.props.minDate,t.props.maxDate)},t.dropdownRef=w.createRef(),t}return l.prototype.componentDidMount=function(){var r=this.dropdownRef.current;if(r){var t=r.children?Array.from(r.children):null,o=t?t.find(function(u){return u.ariaSelected}):null;r.scrollTop=o&&o instanceof HTMLElement?o.offsetTop+(o.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}},l.prototype.render=function(){var r=Ut({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ne.createElement(Yu,{className:r,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},l})(w.Component),l3=(function(s){ea(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var t=r.props.minDate?qe(r.props.minDate):1900,o=r.props.maxDate?qe(r.props.maxDate):2100,u=[],d=t;d<=o;d++)u.push(ne.createElement("option",{key:d,value:d},d));return u},r.onSelectChange=function(t){r.onChange(parseInt(t.target.value))},r.renderSelectMode=function(){return ne.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(t){return ne.createElement("button",{key:"read",type:"button",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:r.toggleDropdown},ne.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ne.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return ne.createElement(s3,Fe({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var t=r.state.dropdownVisible,o=[r.renderReadView(!t)];return t&&o.unshift(r.renderDropdown()),o},r.onChange=function(t){r.toggleDropdown(),t!==r.props.year&&r.props.onChange(t)},r.toggleDropdown=function(t){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,t)})},r.handleYearChange=function(t,o){var u;(u=r.onSelect)===null||u===void 0||u.call(r,t,o),r.setOpen()},r.onSelect=function(t,o){var u,d;(d=(u=r.props).onSelect)===null||d===void 0||d.call(u,t,o)},r.setOpen=function(){var t,o;(o=(t=r.props).setOpen)===null||o===void 0||o.call(t,!0)},r}return l.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return ne.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)},l})(w.Component),i3=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],h1="react-datepicker-ignore-onclickoutside",o3=function(s){var l=(s.className||"").split(/\s+/);return i3.some(function(r){return l.indexOf(r)>=0})},c3=(function(s){ea(l,s);function l(r){var t=s.call(this,r)||this;return t.monthContainer=void 0,t.handleClickOutside=function(o){t.props.onClickOutside(o)},t.setClickOutsideRef=function(){return t.containerRef.current},t.handleDropdownFocus=function(o){var u,d;o3(o.target)&&((d=(u=t.props).onDropdownFocus)===null||d===void 0||d.call(u,o))},t.getDateInView=function(){var o=t.props,u=o.preSelection,d=o.selected,m=o.openToDate,x=m1(t.props),p=f1(t.props),v=Ze(),b=m||d||u;return b||(x&&An(v,x)?x:p&&ir(v,p)?p:v)},t.increaseMonth=function(){t.setState(function(o){var u=o.date;return{date:pn(u,1)}},function(){return t.handleMonthChange(t.state.date)})},t.decreaseMonth=function(){t.setState(function(o){var u=o.date;return{date:Cs(u,1)}},function(){return t.handleMonthChange(t.state.date)})},t.handleDayClick=function(o,u,d){t.props.onSelect(o,u,d),t.props.setPreSelection&&t.props.setPreSelection(o)},t.handleDayMouseEnter=function(o){t.setState({selectingDate:o}),t.props.onDayMouseEnter&&t.props.onDayMouseEnter(o)},t.handleMonthMouseLeave=function(){t.setState({selectingDate:void 0}),t.props.onMonthMouseLeave&&t.props.onMonthMouseLeave()},t.handleYearMouseEnter=function(o,u){t.setState({selectingDate:Cn(Ze(),u)}),t.props.onYearMouseEnter&&t.props.onYearMouseEnter(o,u)},t.handleYearMouseLeave=function(o,u){t.props.onYearMouseLeave&&t.props.onYearMouseLeave(o,u)},t.handleYearChange=function(o){var u,d,m,x;(d=(u=t.props).onYearChange)===null||d===void 0||d.call(u,o),t.setState({isRenderAriaLiveMessage:!0}),t.props.adjustDateOnChange&&(t.props.onSelect(o),(x=(m=t.props).setOpen)===null||x===void 0||x.call(m,!0)),t.props.setPreSelection&&t.props.setPreSelection(o)},t.getEnabledPreSelectionDateForMonth=function(o){if(!Za(o,t.props))return o;for(var u=or(o),d=_4(o),m=YC(d,u),x=null,p=0;p<=m;p++){var v=dn(u,p);if(!Za(v,t.props)){x=v;break}}return x},t.handleMonthChange=function(o){var u,d,m,x=(u=t.getEnabledPreSelectionDateForMonth(o))!==null&&u!==void 0?u:o;t.handleCustomMonthChange(x),t.props.adjustDateOnChange&&(t.props.onSelect(x),(m=(d=t.props).setOpen)===null||m===void 0||m.call(d,!0)),t.props.setPreSelection&&t.props.setPreSelection(x)},t.handleCustomMonthChange=function(o){var u,d;(d=(u=t.props).onMonthChange)===null||d===void 0||d.call(u,o),t.setState({isRenderAriaLiveMessage:!0})},t.handleMonthYearChange=function(o){t.handleYearChange(o),t.handleMonthChange(o)},t.changeYear=function(o){t.setState(function(u){var d=u.date;return{date:Cn(d,Number(o))}},function(){return t.handleYearChange(t.state.date)})},t.changeMonth=function(o){t.setState(function(u){var d=u.date;return{date:La(d,Number(o))}},function(){var u,d;t.handleMonthChange(t.state.date),(d=(u=t.props).onMonthSelectedInChange)===null||d===void 0||d.call(u,0)})},t.changeMonthYear=function(o){t.setState(function(u){var d=u.date;return{date:Cn(La(d,Sa(o)),qe(o))}},function(){return t.handleMonthYearChange(t.state.date)})},t.header=function(o,u){if(o===void 0&&(o=t.state.date),u===void 0&&(u=0),!wa(o))return[];var d=t.props.disabled,m=Vr(o,t.props.locale,t.props.calendarStartDay),x=[];return t.props.showWeekNumbers&&x.push(ne.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(d?"react-datepicker__day-name--disabled":""),role:"columnheader"},ne.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),ne.createElement("span",{"aria-hidden":"true"},t.props.weekLabel||"#"))),x.concat([0,1,2,3,4,5,6].map(function(p){var v=dn(m,p),b=t.formatWeekday(v,t.props.locale),j=bt(v,"EEEE",t.props.locale),C=t.props.weekDayClassName?t.props.weekDayClassName(v):void 0;if(t.props.renderCustomDayName){var M=t.props.renderCustomDayName({day:v,shortName:b,fullName:j,locale:t.props.locale,customDayNameCount:u});return ne.createElement("div",{key:p,role:"columnheader",className:Ut("react-datepicker__day-name",C,d?"react-datepicker__day-name--disabled":"")},M)}return ne.createElement("div",{key:p,role:"columnheader",className:Ut("react-datepicker__day-name",C,d?"react-datepicker__day-name--disabled":"")},ne.createElement("span",{className:"react-datepicker__sr-only"},j),ne.createElement("span",{"aria-hidden":"true"},b))}))},t.formatWeekday=function(o,u){return t.props.formatWeekDay?O4(o,t.props.formatWeekDay,u):t.props.useWeekdaysShort?I4(o,u):R4(o,u)},t.decreaseYear=function(){t.setState(function(o){var u,d=o.date;return{date:Gr(d,t.props.showYearPicker?(u=t.props.yearItemNumber)!==null&&u!==void 0?u:l.defaultProps.yearItemNumber:1)}},function(){return t.handleYearChange(t.state.date)})},t.clearSelectingDate=function(){t.setState({selectingDate:void 0})},t.renderPreviousButton=function(){var o,u,d;if(!t.props.renderCustomHeader){var m=(o=t.props.monthsShown)!==null&&o!==void 0?o:l.defaultProps.monthsShown,x=t.props.showPreviousMonths?m-1:0,p=(u=t.props.monthSelectedIn)!==null&&u!==void 0?u:x,v=Cs(t.state.date,p),b;switch(!0){case t.props.disabled:b=!0;break;case t.props.showMonthYearPicker:b=yb(t.state.date,t.props);break;case t.props.showYearPicker:b=B4(t.state.date,t.props);break;case t.props.showQuarterYearPicker:b=z4(t.state.date,t.props);break;default:b=bb(v,t.props);break}if(!(!((d=t.props.forceShowMonthNavigation)!==null&&d!==void 0?d:l.defaultProps.forceShowMonthNavigation)&&!t.props.showDisabledMonthNavigation&&b||t.props.showTimeSelectOnly)){var j=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],C=["react-datepicker__navigation","react-datepicker__navigation--previous"],M=t.decreaseMonth;(t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker)&&(M=t.decreaseYear),b&&t.props.showDisabledMonthNavigation&&(C.push("react-datepicker__navigation--previous--disabled"),M=void 0);var S=t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker,g=t.props,N=g.previousMonthButtonLabel,D=N===void 0?l.defaultProps.previousMonthButtonLabel:N,y=g.previousYearButtonLabel,E=y===void 0?l.defaultProps.previousYearButtonLabel:y,_=t.props,H=_.previousMonthAriaLabel,$=H===void 0?typeof D=="string"?D:"Previous Month":H,O=_.previousYearAriaLabel,F=O===void 0?typeof E=="string"?E:"Previous Year":O;return ne.createElement("button",{type:"button",className:C.join(" "),onClick:M,onKeyDown:t.props.handleOnKeyDown,"aria-label":S?F:$},ne.createElement("span",{className:j.join(" ")},S?E:D))}}},t.increaseYear=function(){t.setState(function(o){var u,d=o.date;return{date:mn(d,t.props.showYearPicker?(u=t.props.yearItemNumber)!==null&&u!==void 0?u:l.defaultProps.yearItemNumber:1)}},function(){return t.handleYearChange(t.state.date)})},t.renderNextButton=function(){var o;if(!t.props.renderCustomHeader){var u;switch(!0){case t.props.disabled:u=!0;break;case t.props.showMonthYearPicker:u=Nb(t.state.date,t.props);break;case t.props.showYearPicker:u=H4(t.state.date,t.props);break;case t.props.showQuarterYearPicker:u=F4(t.state.date,t.props);break;default:u=gb(t.state.date,t.props);break}if(!(!((o=t.props.forceShowMonthNavigation)!==null&&o!==void 0?o:l.defaultProps.forceShowMonthNavigation)&&!t.props.showDisabledMonthNavigation&&u||t.props.showTimeSelectOnly)){var d=["react-datepicker__navigation","react-datepicker__navigation--next"],m=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];t.props.showTimeSelect&&d.push("react-datepicker__navigation--next--with-time"),t.props.todayButton&&d.push("react-datepicker__navigation--next--with-today-button");var x=t.increaseMonth;(t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker)&&(x=t.increaseYear),u&&t.props.showDisabledMonthNavigation&&(d.push("react-datepicker__navigation--next--disabled"),x=void 0);var p=t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker,v=t.props,b=v.nextMonthButtonLabel,j=b===void 0?l.defaultProps.nextMonthButtonLabel:b,C=v.nextYearButtonLabel,M=C===void 0?l.defaultProps.nextYearButtonLabel:C,S=t.props,g=S.nextMonthAriaLabel,N=g===void 0?typeof j=="string"?j:"Next Month":g,D=S.nextYearAriaLabel,y=D===void 0?typeof M=="string"?M:"Next Year":D;return ne.createElement("button",{type:"button",className:d.join(" "),onClick:x,onKeyDown:t.props.handleOnKeyDown,"aria-label":p?y:N},ne.createElement("span",{className:m.join(" ")},p?M:j))}}},t.renderCurrentMonth=function(o){o===void 0&&(o=t.state.date);var u=["react-datepicker__current-month"];return t.props.showYearDropdown&&u.push("react-datepicker__current-month--hasYearDropdown"),t.props.showMonthDropdown&&u.push("react-datepicker__current-month--hasMonthDropdown"),t.props.showMonthYearDropdown&&u.push("react-datepicker__current-month--hasMonthYearDropdown"),ne.createElement("h2",{className:u.join(" ")},wa(o)?bt(o,t.props.dateFormat,t.props.locale):"")},t.renderYearDropdown=function(o){if(o===void 0&&(o=!1),!(!t.props.showYearDropdown||o))return ne.createElement(l3,Fe({},l.defaultProps,t.props,{date:t.state.date,onChange:t.changeYear,year:qe(t.state.date)}))},t.renderMonthDropdown=function(o){if(o===void 0&&(o=!1),!(!t.props.showMonthDropdown||o))return ne.createElement(Z4,Fe({},l.defaultProps,t.props,{month:Sa(t.state.date),onChange:t.changeMonth}))},t.renderMonthYearDropdown=function(o){if(o===void 0&&(o=!1),!(!t.props.showMonthYearDropdown||o))return ne.createElement(t3,Fe({},l.defaultProps,t.props,{date:t.state.date,onChange:t.changeMonthYear}))},t.handleTodayButtonClick=function(o){t.props.onSelect(fb(),o),t.props.setPreSelection&&t.props.setPreSelection(fb())},t.renderTodayButton=function(){if(!(!t.props.todayButton||t.props.showTimeSelectOnly))return ne.createElement("div",{className:"react-datepicker__today-button",onClick:t.handleTodayButtonClick},t.props.todayButton)},t.renderDayNamesHeader=function(o,u){return u===void 0&&(u=0),ne.createElement("div",{className:"react-datepicker__day-names",role:"row"},t.header(o,u))},t.renderDefaultHeader=function(o){var u=o.monthDate,d=o.i,m=ne.createElement("div",{className:Ut("react-datepicker__header",{"react-datepicker__header--has-time-select":t.props.showTimeSelect,"react-datepicker__header--middle":t.props.monthHeaderPosition==="middle","react-datepicker__header--bottom":t.props.monthHeaderPosition==="bottom"})},t.renderCurrentMonth(u),ne.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(t.props.dropdownMode),onFocus:t.handleDropdownFocus},t.renderMonthDropdown(d!==0),t.renderMonthYearDropdown(d!==0),t.renderYearDropdown(d!==0)));return t.props.monthHeaderPosition==="top"?m:ne.createElement("div",{className:"react-datepicker__header-wrapper"},t.renderPreviousButton()||null,t.renderNextButton()||null,m)},t.renderCustomHeader=function(o){var u,d,m=o.monthDate,x=o.i;if(t.props.showTimeSelect&&!t.state.monthContainer||t.props.showTimeSelectOnly)return null;var p=t.props,v=p.showYearPicker,b=p.yearItemNumber,j;if(v){var C=sr(m,b),M=C.startPeriod,S=C.endPeriod;j={startYear:M,endYear:S}}var g=bb(t.state.date,t.props),N=gb(t.state.date,t.props),D=yb(t.state.date,t.props),y=Nb(t.state.date,t.props);return ne.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:t.props.onDropdownFocus},(d=(u=t.props).renderCustomHeader)===null||d===void 0?void 0:d.call(u,Fe(Fe(Fe({},t.state),v&&{visibleYearsRange:j}),{customHeaderCount:x,monthDate:m,changeMonth:t.changeMonth,changeYear:t.changeYear,decreaseMonth:t.decreaseMonth,increaseMonth:t.increaseMonth,decreaseYear:t.decreaseYear,increaseYear:t.increaseYear,prevMonthButtonDisabled:g,nextMonthButtonDisabled:N,prevYearButtonDisabled:D,nextYearButtonDisabled:y})))},t.renderYearHeader=function(o){var u=o.monthDate,d=t.props,m=d.showYearPicker,x=d.yearItemNumber,p=x===void 0?l.defaultProps.yearItemNumber:x,v=sr(u,p),b=v.startPeriod,j=v.endPeriod;return ne.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},m?"".concat(b," - ").concat(j):qe(u))},t.renderHeader=function(o){var u=o.monthDate,d=o.i,m=d===void 0?0:d,x={monthDate:u,i:m};switch(!0){case t.props.renderCustomHeader!==void 0:return t.renderCustomHeader(x);case(t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker):return t.renderYearHeader(x);default:return t.renderDefaultHeader(x)}},t.renderMonths=function(){var o,u;if(!(t.props.showTimeSelectOnly||t.props.showYearPicker)){for(var d=[],m=(o=t.props.monthsShown)!==null&&o!==void 0?o:l.defaultProps.monthsShown,x=t.props.showPreviousMonths?m-1:0,p=t.props.showMonthYearPicker||t.props.showQuarterYearPicker?mn(t.state.date,x):Cs(t.state.date,x),v=(u=t.props.monthSelectedIn)!==null&&u!==void 0?u:x,b=0;b<m;++b){var j=b-v+x,C=t.props.showMonthYearPicker||t.props.showQuarterYearPicker?mn(p,j):pn(p,j),M="month-".concat(b),S=b<m-1,g=b>0;d.push(ne.createElement("div",{key:M,ref:function(N){t.monthContainer=N??void 0},className:"react-datepicker__month-container"},t.props.monthHeaderPosition==="top"&&t.renderHeader({monthDate:C,i:b}),ne.createElement(X4,Fe({},l.defaultProps,t.props,{containerRef:t.containerRef,ariaLabelPrefix:t.props.monthAriaLabelPrefix,day:C,onDayClick:t.handleDayClick,handleOnKeyDown:t.props.handleOnDayKeyDown,handleOnMonthKeyDown:t.props.handleOnKeyDown,onDayMouseEnter:t.handleDayMouseEnter,onMouseLeave:t.handleMonthMouseLeave,orderInDisplay:b,selectingDate:t.state.selectingDate,monthShowsDuplicateDaysEnd:S,monthShowsDuplicateDaysStart:g,dayNamesHeader:t.renderDayNamesHeader(C,b),monthHeader:t.props.monthHeaderPosition==="middle"?t.renderHeader({monthDate:C,i:b}):void 0,monthFooter:t.props.monthHeaderPosition==="bottom"?t.renderHeader({monthDate:C,i:b}):void 0}))))}return d}},t.renderYears=function(){if(!t.props.showTimeSelectOnly&&t.props.showYearPicker)return ne.createElement("div",{className:"react-datepicker__year--container"},t.renderHeader({monthDate:t.state.date}),ne.createElement(n3,Fe({},l.defaultProps,t.props,{selectingDate:t.state.selectingDate,date:t.state.date,onDayClick:t.handleDayClick,clearSelectingDate:t.clearSelectingDate,onYearMouseEnter:t.handleYearMouseEnter,onYearMouseLeave:t.handleYearMouseLeave})))},t.renderTimeSection=function(){if(t.props.showTimeSelect&&(t.state.monthContainer||t.props.showTimeSelectOnly))return ne.createElement(a3,Fe({},l.defaultProps,t.props,{onChange:t.props.onTimeChange,format:t.props.timeFormat,intervals:t.props.timeIntervals,monthRef:t.state.monthContainer}))},t.renderInputTimeSection=function(){var o,u;if(t.props.showTimeInput){if(t.props.selectsRange){var d=t.props,m=d.startDate,x=d.endDate,p=m?new Date(m):void 0,v=p&&wa(p)&&!!m,b=v?"".concat(xl(p.getHours()),":").concat(xl(p.getMinutes())):"",j=x?new Date(x):void 0,C=j&&wa(j)&&!!x,M=C?"".concat(xl(j.getHours()),":").concat(xl(j.getMinutes())):"";return ne.createElement(ne.Fragment,null,ne.createElement(hf,Fe({},l.defaultProps,t.props,{date:p,timeString:b,onChange:function(D){var y,E;(E=(y=t.props).onTimeChange)===null||E===void 0||E.call(y,D,"start")},timeInputLabel:((o=t.props.timeInputLabel)!==null&&o!==void 0?o:"Time")+" (Start)"})),ne.createElement(hf,Fe({},l.defaultProps,t.props,{date:j,timeString:M,onChange:function(D){var y,E;(E=(y=t.props).onTimeChange)===null||E===void 0||E.call(y,D,"end")},timeInputLabel:((u=t.props.timeInputLabel)!==null&&u!==void 0?u:"Time")+" (End)"})))}var S=t.props.selected?new Date(t.props.selected):void 0,g=S&&wa(S)&&!!t.props.selected,N=g?"".concat(xl(S.getHours()),":").concat(xl(S.getMinutes())):"";return ne.createElement(hf,Fe({},l.defaultProps,t.props,{date:S,timeString:N,onChange:function(D){var y,E;(E=(y=t.props).onTimeChange)===null||E===void 0||E.call(y,D)}}))}},t.renderAriaLiveRegion=function(){var o;if(!wa(t.state.date))return ne.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"});var u=sr(t.state.date,(o=t.props.yearItemNumber)!==null&&o!==void 0?o:l.defaultProps.yearItemNumber),d=u.startPeriod,m=u.endPeriod,x;return t.props.showYearPicker?x="".concat(d," - ").concat(m):t.props.showMonthYearPicker||t.props.showQuarterYearPicker?x=qe(t.state.date):x="".concat(vp(Sa(t.state.date),t.props.locale)," ").concat(qe(t.state.date)),ne.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},t.state.isRenderAriaLiveMessage&&x)},t.renderChildren=function(){if(t.props.children)return ne.createElement("div",{className:"react-datepicker__children-container"},t.props.children)},t.containerRef=w.createRef(),t.state={date:t.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},t}return Object.defineProperty(l,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:h1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:io,monthHeaderPosition:"top"}},enumerable:!1,configurable:!0}),l.prototype.componentDidMount=function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){r.setState({monthContainer:r.monthContainer})})())},l.prototype.componentDidUpdate=function(r){var t=this;if(this.props.preSelection&&wa(this.props.preSelection)&&(!Ke(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var o=!ca(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return o&&t.handleCustomMonthChange(t.state.date)})}else this.props.openToDate&&!Ke(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})},l.prototype.render=function(){var r=this.props.container||S4;return ne.createElement(Yu,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},ne.createElement("div",{style:{display:"contents"},ref:this.containerRef},ne.createElement(r,{className:Ut("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.props.monthHeaderPosition==="top"&&this.renderPreviousButton(),this.props.monthHeaderPosition==="top"&&this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},l})(w.Component),u3=function(s){var l=s.icon,r=s.className,t=r===void 0?"":r,o=s.onClick,u="react-datepicker__calendar-icon";if(typeof l=="string")return ne.createElement("i",{className:"".concat(u," ").concat(l," ").concat(t),"aria-hidden":"true",onClick:o});if(ne.isValidElement(l)){var d=l;return ne.cloneElement(d,{className:"".concat(d.props.className||""," ").concat(u," ").concat(t),onClick:function(m){typeof d.props.onClick=="function"&&d.props.onClick(m),typeof o=="function"&&o(m)}})}return ne.createElement("svg",{className:"".concat(u," ").concat(t),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:o},ne.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},v1=(function(s){ea(l,s);function l(r){var t=s.call(this,r)||this;return t.portalRoot=null,t.el=document.createElement("div"),t}return l.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},l.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},l.prototype.render=function(){return M2.createPortal(this.props.children,this.el)},l})(w.Component),d3="[tabindex], a, button, input, select, textarea",m3=function(s){return(s instanceof HTMLAnchorElement||!s.disabled)&&s.tabIndex!==-1},b1=(function(s){ea(l,s);function l(r){var t=s.call(this,r)||this;return t.getTabChildren=function(){var o;return Array.prototype.slice.call((o=t.tabLoopRef.current)===null||o===void 0?void 0:o.querySelectorAll(d3),1,-1).filter(m3)},t.handleFocusStart=function(){var o=t.getTabChildren();o&&o.length>1&&o[o.length-1].focus()},t.handleFocusEnd=function(){var o=t.getTabChildren();o&&o.length>1&&o[0].focus()},t.tabLoopRef=w.createRef(),t}return l.prototype.render=function(){var r;return((r=this.props.enableTabLoop)!==null&&r!==void 0?r:l.defaultProps.enableTabLoop)?ne.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ne.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ne.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},l.defaultProps={enableTabLoop:!0},l})(w.Component);function f3(s){function l(r){var t,o=typeof r.hidePopper=="boolean"?r.hidePopper:!0,u=w.useRef(null),d=w4(Fe({open:!o,whileElementsMounted:t4,placement:r.popperPlacement,middleware:Tn([u4({padding:15}),c4(10),d4({element:u})],(t=r.popperModifiers)!==null&&t!==void 0?t:[],!0)},r.popperProps)),m=Fe(Fe({},r),{hidePopper:o,popperProps:Fe(Fe({},d),{arrowRef:u})});return ne.createElement(s,Fe({},m))}return l.displayName="withFloating(".concat(s.displayName||s.name||"Component",")"),l}var p3=function(s){var l=s.className,r=s.wrapperClassName,t=s.hidePopper,o=t===void 0?!0:t,u=s.popperComponent,d=s.targetComponent,m=s.enableTabLoop,x=s.popperOnKeyDown,p=s.portalId,v=s.portalHost,b=s.popperProps,j=s.showArrow,C=s.popperTargetRef,M=s.monthHeaderPosition;w.useEffect(function(){C?.current&&b.refs.setPositionReference(C.current)},[C,b.refs]);var S=void 0;if(!o){var g=Ut("react-datepicker-popper",!j&&"react-datepicker-popper-offset",M==="middle"&&"react-datepicker-popper--header-middle",M==="bottom"&&"react-datepicker-popper--header-bottom",l);S=ne.createElement(b1,{enableTabLoop:m},ne.createElement("div",{ref:b.refs.setFloating,style:b.floatingStyles,className:g,"data-placement":b.placement,onKeyDown:x},u,j&&ne.createElement(h4,{ref:b.arrowRef,context:b.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}s.popperContainer&&(S=w.createElement(s.popperContainer,{},S)),p&&!o&&(S=ne.createElement(v1,{portalId:p,portalHost:v},S));var N=Ut("react-datepicker-wrapper",r);return ne.createElement(ne.Fragment,null,ne.createElement("div",{ref:b.refs.setReference,className:N},d),S)},x3=f3(p3);function Ab(s,l){return s&&l?Sa(s)!==Sa(l)||qe(s)!==qe(l):s!==l}var bf="Date input not valid.",h3=(function(s){ea(l,s);function l(r){var t=s.call(this,r)||this;return t.calendar=null,t.input=null,t.getPreSelection=function(){var o=t.props.timeZone,u=t.props.openToDate?t.props.openToDate:t.props.selectsEnd&&t.props.startDate?t.props.startDate:t.props.selectsStart&&t.props.endDate?t.props.endDate:Ze();return o?db(u,o):u},t.modifyHolidays=function(){var o;return(o=t.props.holidays)===null||o===void 0?void 0:o.reduce(function(u,d){var m=xs(d.date,"yyyy-MM-dd",void 0,!1);return m?Tn(Tn([],u,!0),[Fe(Fe({},d),{date:m})],!1):u},[])},t.calcInitialState=function(){var o=t.props.timeZone,u=t.getPreSelection(),d=m1(t.props),m=f1(t.props),x=d&&An(u,$i(d))?d:m&&ir(u,pb(m))?m:u,p=t.props.selectsRange?t.props.startDate:t.props.selected;return p&&o&&(p=db(p,o)),{open:t.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:p??x,highlightDates:jb(t.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},t.getInputValue=function(){var o,u=t.props,d=u.locale,m=u.startDate,x=u.endDate,p=u.rangeSeparator,v=u.selected,b=u.selectedDates,j=u.selectsMultiple,C=u.selectsRange,M=u.formatMultipleDates,S=u.value,g=(o=t.props.dateFormat)!==null&&o!==void 0?o:l.defaultProps.dateFormat,N=t.state.inputValue;if(typeof S=="string")return S;if(typeof N=="string")return N;if(C)return D4(m,x,{dateFormat:g,locale:d,rangeSeparator:p});if(j){if(M){var D=function(y){return ja(y,{dateFormat:g,locale:d})};return M(b??[],D)}return M4(b??[],{dateFormat:g,locale:d})}return ja(v,{dateFormat:g,locale:d})},t.resetHiddenStatus=function(){t.setState(Fe(Fe({},t.state),{wasHidden:!1}))},t.setHiddenStatus=function(){t.setState(Fe(Fe({},t.state),{wasHidden:!0}))},t.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&t.setHiddenStatus()},t.clearPreventFocusTimeout=function(){t.preventFocusTimeout&&clearTimeout(t.preventFocusTimeout)},t.setFocus=function(){var o,u;(u=(o=t.input)===null||o===void 0?void 0:o.focus)===null||u===void 0||u.call(o,{preventScroll:!0})},t.setBlur=function(){var o,u;(u=(o=t.input)===null||o===void 0?void 0:o.blur)===null||u===void 0||u.call(o),t.cancelFocusInput()},t.deferBlur=function(){requestAnimationFrame(function(){t.setBlur()})},t.setOpen=function(o,u){u===void 0&&(u=!1),t.setState({open:o,preSelection:o&&t.state.open?t.state.preSelection:t.calcInitialState().preSelection,lastPreSelectChange:gf},function(){o||t.setState(function(d){return{focused:u?d.focused:!1}},function(){!u&&t.deferBlur(),t.setState({inputValue:null})})})},t.inputOk=function(){return _n(t.state.preSelection)},t.isCalendarOpen=function(){return t.props.open===void 0?t.state.open&&!t.props.disabled&&!t.props.readOnly:t.props.open},t.handleFocus=function(o){var u,d,m=t.state.wasHidden,x=m?t.state.open:!0;m&&t.resetHiddenStatus(),t.state.preventFocus||((d=(u=t.props).onFocus)===null||d===void 0||d.call(u,o),x&&!t.props.preventOpenOnFocus&&!t.props.readOnly&&t.setOpen(!0)),t.setState({focused:!0})},t.sendFocusBackToInput=function(){t.preventFocusTimeout&&t.clearPreventFocusTimeout(),t.setState({preventFocus:!0},function(){t.preventFocusTimeout=setTimeout(function(){t.setFocus(),t.setState({preventFocus:!1})})})},t.cancelFocusInput=function(){clearTimeout(t.inputFocusTimeout),t.inputFocusTimeout=void 0},t.deferFocusInput=function(){t.cancelFocusInput(),t.inputFocusTimeout=setTimeout(function(){return t.setFocus()},1)},t.handleDropdownFocus=function(){t.cancelFocusInput()},t.resetInputValue=function(){t.setState(Fe(Fe({},t.state),{inputValue:null}))},t.handleBlur=function(o){var u,d;(!t.state.open||t.props.withPortal||t.props.showTimeInput)&&((d=(u=t.props).onBlur)===null||d===void 0||d.call(u,o));var m=t.state.inputValue;if(typeof m=="string"&&m.length>0){var x=/[a-zA-Z0-9]/.test(m);!x&&t.props.selected&&t.setSelected(null,void 0,!0)}t.resetInputValue(),t.state.open&&t.props.open===!1&&t.setOpen(!1),t.setState({focused:!1})},t.handleCalendarClickOutside=function(o){var u,d;(d=(u=t.props).onClickOutside)===null||d===void 0||d.call(u,o),!t.props.inline&&!o.defaultPrevented&&t.setOpen(!1),t.props.withPortal&&o.preventDefault()},t.handleChange=function(){for(var o,u,d,m,x,p,v,b,j=[],C=0;C<arguments.length;C++)j[C]=arguments[C];var M=j[0];if(!(t.props.onChangeRaw&&(t.props.onChangeRaw.apply(t,j),!M||typeof M.isDefaultPrevented!="function"||M.isDefaultPrevented()))){t.setState({inputValue:M?.target instanceof HTMLInputElement?M.target.value:null,lastPreSelectChange:v3});var S=t.props,g=S.selectsRange,N=S.startDate,D=S.endDate,y=(o=t.props.dateFormat)!==null&&o!==void 0?o:l.defaultProps.dateFormat,E=(u=t.props.strictParsing)!==null&&u!==void 0?u:l.defaultProps.strictParsing,_=M?.target instanceof HTMLInputElement?M.target.value:"";if(g){var H=t.props.rangeSeparator,$=H.trim(),O=_.split(y.includes($)?H:$,2).map(function(R){return R.trim()}),F=O[0],I=O[1],G=xs(F??"",y,t.props.locale,E),A=G?xs(I??"",y,t.props.locale,E):null,re=((d=ws(N))===null||d===void 0?void 0:d.getTime())!==G?.getTime(),U=((m=ws(D))===null||m===void 0?void 0:m.getTime())!==A?.getTime();if(!re&&!U||G&&Za(G,t.props)||A&&Za(A,t.props))return;G&&t.setState({preSelection:G}),(p=(x=t.props).onChange)===null||p===void 0||p.call(x,[G,A],M)}else{var Z=xs(_,y,t.props.locale,E,(v=t.props.selected)!==null&&v!==void 0?v:void 0);if(Z||!_)t.setSelected(Z,M,!0);else if(!t.props.inline){var B=k4(_,(b=t.state.preSelection)!==null&&b!==void 0?b:void 0);B&&(!t.props.minDate||!An(B,t.props.minDate))&&(!t.props.maxDate||!ir(B,t.props.maxDate))&&t.setState({preSelection:B})}}}},t.handleSelect=function(o,u,d){var m;if(!t.props.readOnly){var x=t.props,p=x.selectsRange,v=x.startDate,b=x.endDate,j=x.locale,C=x.swapRange,M=(m=t.props.dateFormat)!==null&&m!==void 0?m:l.defaultProps.dateFormat,S=!p||v&&!b&&(C||!xf(o,v));if(t.props.shouldCloseOnSelect&&!t.props.showTimeSelect&&S&&t.sendFocusBackToInput(),t.props.onChangeRaw){var g=ja(o,{dateFormat:M,locale:j});t.props.onChangeRaw(u,{date:o,formattedDate:g})}t.setSelected(o,u,!1,d),t.props.showDateSelect&&t.setState({isRenderAriaLiveMessage:!0}),!t.props.shouldCloseOnSelect||t.props.showTimeSelect?t.setPreSelection(o):S&&t.setOpen(!1)}},t.setSelected=function(o,u,d,m){var x,p,v=t.props.timeZone,b=o;if(b&&v&&(b=nr(b,v)),t.props.showYearPicker){if(b!==null&&su(qe(b),t.props))return}else if(t.props.showMonthYearPicker){if(b!==null&&d1(b,t.props))return}else if(b!==null&&Za(b,t.props))return;var j=t.props,C=j.onChange,M=j.selectsRange,S=j.startDate,g=j.endDate,N=j.selectsMultiple,D=j.selectedDates,y=j.minTime,E=j.swapRange;if(!Ss(t.props.selected,b)||t.props.allowSameDay||M||N)if(b!==null&&(t.props.selected&&(!d||!t.props.showTimeSelect&&!t.props.showTimeSelectOnly&&!t.props.showTimeInput)&&(b=rr(b,{hour:ra(t.props.selected),minute:sa(t.props.selected),second:$r(t.props.selected)})),!d&&(t.props.showTimeSelect||t.props.showTimeSelectOnly)&&y&&(b=rr(b,{hour:y.getHours(),minute:y.getMinutes(),second:y.getSeconds()})),t.props.inline||t.setState({preSelection:b}),t.props.focusSelectedMonth||t.setState({monthSelectedIn:m})),M){var _=C,H=!S&&!g,$=S&&!g,O=!S&&!!g,F=S&&g;H?_?.([b,null],u):$?b===null?_?.([null,null],u):xf(b,S)?_?.(E?[b,S]:[b,null],u):_?.([S,b],u):O&&(b&&xf(b,g)?_?.([b,g],u):_?.([b,null],u)),F&&_?.([b,null],u)}else if(N){var I=C;if(b!==null)if(!D?.length)I?.([b],u);else{var G=D.some(function(re){return Ke(re,b)});if(G){var A=D.filter(function(re){return!Ke(re,b)});I?.(A,u)}else I?.(Tn(Tn([],D,!0),[b],!1),u)}}else C?.(b,u);d||((p=(x=t.props).onSelect)===null||p===void 0||p.call(x,b,u),t.setState({inputValue:null}))},t.setPreSelection=function(o){if(!t.props.readOnly){var u=_n(t.props.minDate),d=_n(t.props.maxDate),m=!0;if(o){var x=$i(o);if(u&&d)m=gs(o,t.props.minDate,t.props.maxDate);else if(u){var p=$i(t.props.minDate);m=ir(o,p)||Ss(x,p)}else if(d){var v=pb(t.props.maxDate);m=An(o,v)||Ss(x,v)}}m&&t.setState({preSelection:o})}},t.toggleCalendar=function(){t.setOpen(!t.state.open)},t.handleTimeChange=function(o,u){var d,m;if(!t.props.selectsMultiple){var x=t.props,p=x.selectsRange,v=x.startDate,b=x.endDate,j=x.onChange,C=x.timeZone;if(p){var M=j;if(u==="start"){if(v){var S=rr(v,{hour:ra(o),minute:sa(o)});t.setState({preSelection:S}),C&&(S=nr(S,C)),M?.([S,b?C?nr(b,C):b:null],void 0)}}else if(u==="end"){if(b){var g=rr(b,{hour:ra(o),minute:sa(o)});t.setState({preSelection:g}),C&&(g=nr(g,C)),M?.([v?C?nr(v,C):v:null,g],void 0)}}else{var N=v&&!b;if(N){var S=rr(v,{hour:ra(o),minute:sa(o)});t.setState({preSelection:S}),C&&(S=nr(S,C)),M?.([S,null],void 0)}else if(v&&b){var g=rr(b,{hour:ra(o),minute:sa(o)});t.setState({preSelection:g}),C&&(g=nr(g,C)),M?.([C?nr(v,C):v,g],void 0)}else{var D=rr(t.getPreSelection(),{hour:ra(o),minute:sa(o)});t.setState({preSelection:D})}}}else{var y=t.props.selected?t.props.selected:t.getPreSelection(),D=t.props.selected?o:rr(y,{hour:ra(o),minute:sa(o)});t.setState({preSelection:D}),D&&C&&(D=nr(D,C)),(m=(d=t.props).onChange)===null||m===void 0||m.call(d,D)}t.props.shouldCloseOnSelect&&!t.props.showTimeInput&&(t.sendFocusBackToInput(),t.setOpen(!1)),t.props.showTimeInput&&t.setOpen(!0),(t.props.showTimeSelectOnly||t.props.showTimeSelect)&&t.setState({isRenderAriaLiveMessage:!0}),t.setState({inputValue:null})}},t.onInputClick=function(){var o,u;!t.props.disabled&&!t.props.readOnly&&t.setOpen(!0),(u=(o=t.props).onInputClick)===null||u===void 0||u.call(o)},t.handleTimeOnlyArrowKey=function(o){var u,d,m,x,p=ws(t.props.selected)||t.state.preSelection||Ze(),v=(u=t.props.timeIntervals)!==null&&u!==void 0?u:30,b=(d=t.props.dateFormat)!==null&&d!==void 0?d:l.defaultProps.dateFormat,j=Array.isArray(b)?b[0]:b,C=$i(p),M=ra(p)*60+sa(p),S=1440-v,g;if(o===he.ArrowUp){var N=Math.max(0,M-v);g=Zi(C,N)}else{var N=Math.min(S,M+v);g=Zi(C,N)}var D=bt(g,j||l.defaultProps.dateFormat,t.props.locale);if(t.setState({preSelection:g,inputValue:D}),!(t.props.selectsRange||t.props.selectsMultiple)){var y=t.props.selected?t.props.selected:t.getPreSelection(),E=t.props.selected?g:rr(y,{hour:ra(g),minute:sa(g)});(x=(m=t.props).onChange)===null||x===void 0||x.call(m,E),(t.props.showTimeSelectOnly||t.props.showTimeSelect)&&t.setState({isRenderAriaLiveMessage:!0}),requestAnimationFrame(function(){t.scrollToTimeOption(g)})}},t.handleTimeOnlyEnterKey=function(o){var u,d,m,x,p=o.target,v=p.value,b=(u=t.props.dateFormat)!==null&&u!==void 0?u:l.defaultProps.dateFormat,j=t.props.timeFormat||"p",C=t.state.preSelection||ws(t.props.selected)||Ze(),M=xs(v,b,t.props.locale,(d=t.props.strictParsing)!==null&&d!==void 0?d:!1,C),S=C;if(M&&wa(M))S=M;else{var g=((m=t.calendar)===null||m===void 0?void 0:m.containerRef.current)instanceof Element&&t.calendar.containerRef.current.querySelector(".react-datepicker__time-list-item[tabindex='0']");if(g instanceof HTMLElement){var N=(x=g.textContent)===null||x===void 0?void 0:x.trim();if(N){var D=xs(N,j,t.props.locale,!1,C);D&&wa(D)&&(S=D)}}}t.handleTimeChange(S),t.setOpen(!1),t.sendFocusBackToInput()},t.scrollToTimeOption=function(o){var u,d;if(!((u=t.calendar)===null||u===void 0)&&u.containerRef.current){for(var m=t.calendar.containerRef.current,x=Array.from(m.querySelectorAll(".react-datepicker__time-list-item")),p=null,v=1/0,b=t.props.timeFormat||"p",j=0,C=x;j<C.length;j++){var M=C[j],S=(d=M.textContent)===null||d===void 0?void 0:d.trim();if(S){var g=xs(S,b,t.props.locale,!1,o);if(g&&wa(g)){if(p1(g,o)){p=M;break}var N=Math.abs(g.getTime()-o.getTime());N<v&&(v=N,p=M)}}}p&&(x.forEach(function(D){D.setAttribute("tabindex","-1")}),p.setAttribute("tabindex","0"),p.scrollIntoView({behavior:"smooth",block:"center"}))}},t.onInputKeyDown=function(o){var u,d,m,x,p,v;(d=(u=t.props).onKeyDown)===null||d===void 0||d.call(u,o);var b=o.key;if(!t.state.open&&!t.props.inline&&!t.props.preventOpenOnFocus){(b===he.ArrowDown||b===he.ArrowUp||b===he.Enter)&&((m=t.onInputClick)===null||m===void 0||m.call(t));return}if(t.state.open&&t.props.showTimeSelectOnly){if(b===he.ArrowDown||b===he.ArrowUp){o.preventDefault(),t.handleTimeOnlyArrowKey(b);return}if(b===he.Enter){o.preventDefault(),t.handleTimeOnlyEnterKey(o);return}}if(t.state.open){if(b===he.ArrowDown||b===he.ArrowUp){o.preventDefault();var j=t.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":t.props.showWeekPicker&&t.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':t.props.showFullMonthYearPicker||t.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',C=((x=t.calendar)===null||x===void 0?void 0:x.containerRef.current)instanceof Element&&t.calendar.containerRef.current.querySelector(j);C instanceof HTMLElement&&C.focus({preventScroll:!0});return}var M=Ze(t.state.preSelection);b===he.Enter?(o.preventDefault(),o.target.blur(),t.inputOk()&&t.state.lastPreSelectChange===gf?(t.handleSelect(M,o),!t.props.shouldCloseOnSelect&&t.setPreSelection(M)):t.setOpen(!1)):b===he.Escape?(o.preventDefault(),o.target.blur(),t.sendFocusBackToInput(),t.setOpen(!1)):b===he.Tab&&t.setOpen(!1),t.inputOk()||(v=(p=t.props).onInputError)===null||v===void 0||v.call(p,{code:1,msg:bf})}},t.onPortalKeyDown=function(o){var u=o.key;u===he.Escape&&(o.preventDefault(),t.setState({preventFocus:!0},function(){t.setOpen(!1),setTimeout(function(){t.setFocus(),t.setState({preventFocus:!1})})}))},t.onDayKeyDown=function(o){var u,d,m,x,p,v,b=t.props,j=b.minDate,C=b.maxDate,M=b.disabledKeyboardNavigation,S=b.showWeekPicker,g=b.shouldCloseOnSelect,N=b.locale,D=b.calendarStartDay,y=b.adjustDateOnChange,E=b.inline;if((d=(u=t.props).onKeyDown)===null||d===void 0||d.call(u,o),!M){var _=o.key,H=o.shiftKey,$=Ze(t.state.preSelection),O=function(G,A){var re=A;switch(G){case he.ArrowRight:re=S?xu(A,1):dn(A,1);break;case he.ArrowLeft:re=S?Z0(A):YD(A);break;case he.ArrowUp:re=Z0(A);break;case he.ArrowDown:re=xu(A,1);break;case he.PageUp:re=H?Gr(A,1):Cs(A,1);break;case he.PageDown:re=H?mn(A,1):pn(A,1);break;case he.Home:re=Vr(A,N,D);break;case he.End:re=E4(A);break}return re},F=function(G,A){for(var re=40,U=G,Z=!1,B=0,R=O(G,A);!Z;){if(B>=re){R=A;break}j&&R<j&&(U=he.ArrowRight,R=Za(j,t.props)?O(U,R):j),C&&R>C&&(U=he.ArrowLeft,R=Za(C,t.props)?O(U,R):C),Za(R,t.props)?((U===he.PageUp||U===he.Home)&&(U=he.ArrowRight),(U===he.PageDown||U===he.End)&&(U=he.ArrowLeft),R=O(U,R)):Z=!0,B++}return R};if(_===he.Enter){o.preventDefault(),t.handleSelect($,o),!g&&t.setPreSelection($);return}else if(_===he.Escape){o.preventDefault(),t.setOpen(!1),t.inputOk()||(x=(m=t.props).onInputError)===null||x===void 0||x.call(m,{code:1,msg:bf});return}var I=null;switch(_){case he.ArrowLeft:case he.ArrowRight:case he.ArrowUp:case he.ArrowDown:case he.PageUp:case he.PageDown:case he.Home:case he.End:I=F(_,$);break}if(!I){(v=(p=t.props).onInputError)===null||v===void 0||v.call(p,{code:1,msg:bf});return}o.preventDefault(),t.setState({lastPreSelectChange:gf}),y&&t.setSelected(I),t.setPreSelection(I),E&&t.setState({shouldFocusDayInline:!0})}},t.onPopperKeyDown=function(o){var u=o.key;u===he.Escape&&(o.preventDefault(),t.sendFocusBackToInput(),t.setOpen(!1))},t.onClearClick=function(o){o&&o.preventDefault&&o.preventDefault(),t.sendFocusBackToInput();var u=t.props,d=u.selectsRange,m=u.onChange;m?.(d?[null,null]:null,o),t.setState({inputValue:null})},t.clear=function(){t.onClearClick()},t.onScroll=function(o){typeof t.props.closeOnScroll=="boolean"&&t.props.closeOnScroll?(o.target===document||o.target===document.documentElement||o.target===document.body)&&t.setOpen(!1):typeof t.props.closeOnScroll=="function"&&t.props.closeOnScroll(o)&&t.setOpen(!1)},t.handleMonthSelectedInChange=function(o){t.setState({monthSelectedIn:o})},t.renderCalendar=function(){var o,u;return!t.props.inline&&!t.isCalendarOpen()?null:ne.createElement(c3,Fe({showMonthYearDropdown:void 0,ref:function(d){t.calendar=d}},t.props,t.state,{setOpen:t.setOpen,dateFormat:(o=t.props.dateFormatCalendar)!==null&&o!==void 0?o:l.defaultProps.dateFormatCalendar,onSelect:t.handleSelect,onClickOutside:t.handleCalendarClickOutside,holidays:U4(t.modifyHolidays()),outsideClickIgnoreClass:t.props.outsideClickIgnoreClass,onDropdownFocus:t.handleDropdownFocus,onTimeChange:t.handleTimeChange,className:t.props.calendarClassName,container:t.props.calendarContainer,handleOnKeyDown:t.props.onKeyDown,handleOnDayKeyDown:t.onDayKeyDown,setPreSelection:t.setPreSelection,dropdownMode:(u=t.props.dropdownMode)!==null&&u!==void 0?u:l.defaultProps.dropdownMode,onMonthSelectedInChange:t.handleMonthSelectedInChange}),t.props.children)},t.renderAriaLiveRegion=function(){var o,u=t.props.locale,d=(o=t.props.dateFormat)!==null&&o!==void 0?o:l.defaultProps.dateFormat,m=t.props.showTimeInput||t.props.showTimeSelect,x=m?"PPPPp":"PPPP",p;return t.props.selectsRange?p="Selected start date: ".concat(ja(t.props.startDate,{dateFormat:x,locale:u}),". ").concat(t.props.endDate?"End date: "+ja(t.props.endDate,{dateFormat:x,locale:u}):""):t.props.showTimeSelectOnly?p="Selected time: ".concat(ja(t.props.selected,{dateFormat:d,locale:u})):t.props.showYearPicker?p="Selected year: ".concat(ja(t.props.selected,{dateFormat:"yyyy",locale:u})):t.props.showMonthYearPicker?p="Selected month: ".concat(ja(t.props.selected,{dateFormat:"MMMM yyyy",locale:u})):t.props.showQuarterYearPicker?p="Selected quarter: ".concat(ja(t.props.selected,{dateFormat:"yyyy, QQQ",locale:u})):p="Selected date: ".concat(ja(t.props.selected,{dateFormat:x,locale:u})),ne.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},p)},t.renderDateInput=function(){var o,u,d,m,x,p,v,b=Ut(t.props.className,(o={},o[t.props.outsideClickIgnoreClass||l.defaultProps.outsideClickIgnoreClass]=t.state.open,o)),j=t.props.customInput||ne.createElement("input",{type:"text"}),C=t.props.customInputRef||"ref",M={},S=(d=t.props["aria-describedby"])!==null&&d!==void 0?d:t.props.ariaDescribedBy,g=(m=t.props["aria-invalid"])!==null&&m!==void 0?m:t.props.ariaInvalid,N=(x=t.props["aria-label"])!==null&&x!==void 0?x:t.props.ariaLabel,D=(p=t.props["aria-labelledby"])!==null&&p!==void 0?p:t.props.ariaLabelledBy,y=(v=t.props["aria-required"])!==null&&v!==void 0?v:t.props.ariaRequired;return S!=null&&(M["aria-describedby"]=S),g!=null&&(M["aria-invalid"]=g),N!=null&&(M["aria-label"]=N),D!=null&&(M["aria-labelledby"]=D),y!=null&&(M["aria-required"]=y),w.cloneElement(j,Fe((u={},u[C]=function(E){t.input=E},u.value=t.getInputValue(),u.onBlur=t.handleBlur,u.onChange=t.handleChange,u.onClick=t.onInputClick,u.onFocus=t.handleFocus,u.onKeyDown=t.onInputKeyDown,u.id=t.props.id,u.name=t.props.name,u.form=t.props.form,u.autoFocus=t.props.autoFocus,u.placeholder=t.props.placeholderText,u.disabled=t.props.disabled,u.autoComplete=t.props.autoComplete,u.className=Ut(j.props.className,b),u.title=t.props.title,u.readOnly=t.props.readOnly,u.required=t.props.required,u.tabIndex=t.props.tabIndex,u),M))},t.renderClearButton=function(){var o=t.props,u=o.isClearable,d=o.disabled,m=o.selected,x=o.startDate,p=o.endDate,v=o.clearButtonTitle,b=o.clearButtonClassName,j=b===void 0?"":b,C=o.ariaLabelClose,M=C===void 0?"Close":C,S=o.selectedDates,g=o.readOnly;return u&&!g&&(m!=null||x!=null||p!=null||S?.length)?ne.createElement("button",{type:"button",className:Ut("react-datepicker__close-icon",j,{"react-datepicker__close-icon--disabled":d}),disabled:d,"aria-label":M,onClick:t.onClearClick,title:v,tabIndex:-1}):null},t.state=t.calcInitialState(),t.preventFocusTimeout=void 0,t}return Object.defineProperty(l,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:h1,readOnly:!1,rangeSeparator:c1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:io,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),l.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},l.prototype.componentDidUpdate=function(r,t){var o,u,d,m;this.props.selectsRange&&Ab(r.startDate,this.props.startDate)?this.setPreSelection(this.props.startDate):Ab(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),this.props.selectsRange&&t.open===!1&&this.state.open===!0&&this.state.monthSelectedIn!==0&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:jb(this.props.highlightDates)}),!t.focused&&!Ss(r.selected,this.props.selected)&&this.setState({inputValue:null}),t.open!==this.state.open&&(t.open===!1&&this.state.open===!0&&((u=(o=this.props).onCalendarOpen)===null||u===void 0||u.call(o)),t.open===!0&&this.state.open===!1&&((m=(d=this.props).onCalendarClose)===null||m===void 0||m.call(d)))},l.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},l.prototype.renderInputContainer=function(){var r=this.props,t=r.showIcon,o=r.icon,u=r.calendarIconClassname,d=r.calendarIconClassName,m=r.toggleCalendarOnIconClick,x=this.state.open;return u&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ne.createElement("div",{className:"react-datepicker__input-container".concat(t?" react-datepicker__view-calendar-icon":"")},t&&ne.createElement(u3,Fe({icon:o,className:Ut(d,!d&&u,x&&"react-datepicker-ignore-onclickoutside")},m?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},l.prototype.render=function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var t=this.state.open?ne.createElement(b1,{enableTabLoop:this.props.enableTabLoop},ne.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(t=ne.createElement(v1,Fe({portalId:this.props.portalId},this.props),t)),ne.createElement(ne.Fragment,null,this.renderInputContainer(),t)}return ne.createElement(x3,Fe({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:r,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow,monthHeaderPosition:this.props.monthHeaderPosition}))},l})(w.Component),v3="input",gf="navigate";function _t({open:s,onClose:l,title:r,children:t,wide:o}){const u=w.useRef(null);return w.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[s]),w.useEffect(()=>{function d(m){m.key==="Escape"&&l()}return s&&window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[s,l]),s?a.jsxs("div",{ref:u,className:"fixed inset-0 z-50 flex items-start justify-center pt-[5vh] sm:pt-[10vh] px-4",onClick:d=>{d.target===u.current&&l()},children:[a.jsx("div",{className:"fixed inset-0 bg-black/60"}),a.jsxs("div",{className:`relative bg-[var(--bg-card)] border border-[var(--border)] rounded-xl shadow-2xl w-full ${o?"max-w-2xl":"max-w-lg"} max-h-[80vh] flex flex-col animate-fade-in`,children:[a.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-[var(--border-light)] shrink-0",children:[a.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:r}),a.jsx("button",{onClick:l,className:"p-1.5 rounded-lg text-[var(--text-dim)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:a.jsx(ro,{size:16})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto px-5 py-4",children:t})]})]}):null}function te({label:s,required:l,error:r,children:t}){return a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:[s,l&&a.jsx("span",{className:"text-rose-500 ml-0.5",children:"*"})]}),t,r&&a.jsx("p",{className:"text-xs text-rose-500 mt-1",children:r})]})}function pe({value:s,onChange:l,placeholder:r,type:t="text",sensitive:o,...u}){const{masked:d}=Ln();return a.jsx("input",{type:t,value:s,onChange:m=>l(m.target.value),placeholder:r,className:`w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors ${o&&d?"sensitive-blur":""}`,...u})}function g1({value:s,onChange:l,...r}){const t=s?new Date(s+"T00:00:00"):null;function o(u){if(!u){l("");return}const d=u.getFullYear(),m=String(u.getMonth()+1).padStart(2,"0"),x=String(u.getDate()).padStart(2,"0");l(`${d}-${m}-${x}`)}return a.jsxs("div",{className:"relative cf-datepicker",children:[a.jsx(h3,{selected:t,onChange:o,dateFormat:"dd MMM yyyy",maxDate:new Date,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",placeholderText:"Select date",className:"w-full px-3 py-2 pr-9 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors",...r}),a.jsx(BS,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)] pointer-events-none"})]})}function Re({value:s,onChange:l,options:r,placeholder:t}){return a.jsxs("select",{value:s,onChange:o=>l(o.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors",children:[t&&a.jsx("option",{value:"",children:t}),r.map(o=>a.jsx("option",{value:o.value,children:o.label},o.value))]})}function Il({value:s,onChange:l,placeholder:r,rows:t=3}){return a.jsx("textarea",{value:s,onChange:o=>l(o.target.value),placeholder:r,rows:t,className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors resize-none"})}function b3({checked:s,onChange:l,label:r}){return a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:s,onChange:t=>l(t.target.checked),className:"w-4 h-4 rounded border-[var(--border-input)] bg-[var(--bg-input)] text-violet-500 focus:ring-violet-500"}),a.jsx("span",{className:"text-sm text-[var(--text-secondary)]",children:r})]})}function da({onCancel:s,onSubmit:l,submitLabel:r="Save",loading:t}){return a.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4 mt-4 border-t border-[var(--border-light)]",children:[a.jsx("button",{onClick:s,disabled:t,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),a.jsxs("button",{onClick:l,disabled:t,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 flex items-center gap-1.5",children:[t&&a.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),t?"Saving...":r]})]})}function fr({onClick:s,label:l="Deactivate"}){return a.jsx("button",{onClick:s,className:"px-4 py-2 text-xs font-semibold text-rose-400 hover:text-rose-300 hover:bg-rose-500/10 rounded-lg transition-colors",children:l})}const Tb=[{key:"sip",label:"Adjust SIP",icon:X5,color:"text-blue-400",dimColor:"text-blue-400/60 hover:text-blue-400",activeBg:"bg-blue-500/20 border border-blue-500/40"},{key:"lumpsum",label:"Lumpsum",icon:w5,color:"text-emerald-400",dimColor:"text-emerald-400/60 hover:text-emerald-400",activeBg:"bg-emerald-500/20 border border-emerald-500/40"},{key:"buysell",label:"Buy / Sell",icon:RS,color:"text-amber-400",dimColor:"text-amber-400/60 hover:text-amber-400",activeBg:"bg-amber-500/20 border border-amber-500/40"}];function ys(s){return s>=1e5?`${(s/1e5).toFixed(1)}L`:s>=1e3?`${(s/1e3).toFixed(0)}K`:`${Math.round(s)}`}function gp({exitOnly:s}){return a.jsx("div",{className:"py-4 text-center space-y-1",children:s?a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Only exit candidates here  use ",a.jsx("span",{className:"font-semibold text-amber-400",children:"Buy / Sell"})," tab"]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"No target allocations set"}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Use ",a.jsx("span",{className:"font-semibold text-violet-400",children:"Allocations"})," to set target % for each fund first"]})]})})}function g3({portfolio:s,holdings:l,totalValue:r}){const t=s.sipTarget||0,o=(s.rebalanceThreshold||.05)*100,u=l.some(j=>j.targetAllocationPct>0),d=l.some(j=>j.targetAllocationPct===0&&j.units>0);if(!u)return a.jsx(gp,{exitOnly:d});if(t<=0)return a.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"No SIP target set for this portfolio"});const m=l.filter(j=>j.targetAllocationPct>0).map(j=>{const C=r>0?j.currentValue/r*100:0,M=Math.abs(C-j.targetAllocationPct),S=M>o,N=j.targetAllocationPct/100*r-j.currentValue,D=j.targetAllocationPct/100*t;return{...j,currentPct:C,drift:M,drifted:S,gap:N,normalSIP:D}}),x=m.filter(j=>j.drifted&&j.gap>0);m.filter(j=>j.drifted&&j.gap<=0);const p=x.reduce((j,C)=>j+C.gap,0),v=m.map(j=>({...j,suggestedSIP:j.drifted&&j.gap>0&&p>0?j.gap/p*t:j.drifted&&j.gap<=0?0:j.normalSIP}));return m.some(j=>j.drifted)?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Funds drifted >",o.toFixed(0),"%: overweight  0, underweight  extra SIP. Others keep normal SIP."]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Allocation"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Normal SIP"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Rebalance SIP"})]})}),a.jsx("tbody",{children:v.map(j=>{const C=j.drifted&&j.gap<=0,M=j.drifted&&j.gap>0,S=!j.drifted;return a.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 ${S?"opacity-50":C?"opacity-60":""}`,children:[a.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:j.fundName}),a.jsxs("td",{className:"py-2 px-2 text-right tabular-nums",children:[a.jsxs("span",{className:C?"text-amber-400":M?"text-blue-400":"text-[var(--text-dim)]",children:[j.currentPct.toFixed(1),"%"]}),a.jsxs("span",{className:"text-[var(--text-dim)]",children:[" / ",j.targetAllocationPct.toFixed(1),"%"]})]}),a.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:ys(j.normalSIP)}),a.jsx("td",{className:"py-2 px-2 text-right font-semibold tabular-nums",children:C?a.jsx("span",{className:"text-amber-400/70",children:"0"}):M?a.jsx("span",{className:"text-blue-400",children:ys(j.suggestedSIP)}):a.jsx("span",{className:"text-[var(--text-dim)]",children:ys(j.suggestedSIP)})})]},j.holdingId)})}),a.jsx("tfoot",{children:a.jsxs("tr",{className:"border-t border-[var(--border)]",children:[a.jsx("td",{className:"py-1.5 px-2 text-xs font-bold text-[var(--text-primary)]",colSpan:2,children:"Total"}),a.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums",children:ys(t)}),a.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-blue-400 tabular-nums",children:ys(t)})]})})]})})]}):a.jsxs("p",{className:"text-xs text-[var(--text-dim)] py-2",children:["SIPs are balanced (within ",o.toFixed(0),"% threshold)"]})}function y3({portfolio:s,holdings:l,totalValue:r}){const[t,o]=w.useState("");(s.rebalanceThreshold||.05)*100;const u=l.some(S=>S.targetAllocationPct>0),d=l.some(S=>S.targetAllocationPct===0&&S.units>0);if(!u)return a.jsx(gp,{exitOnly:d});const m=l.filter(S=>S.targetAllocationPct>0).map(S=>{const g=r>0?S.currentValue/r*100:0;return{...S,currentPct:g}}),x=w.useMemo(()=>{if(r<=0||m.length===0)return 0;const S=m.filter(y=>{const E=y.targetAllocationPct/100*r;return y.currentValue<E});if(S.length===0)return 0;const g=S.reduce((y,E)=>y+E.targetAllocationPct,0);if(g>=100)return 0;const N=S.reduce((y,E)=>y+E.currentValue,0),D=(g/100*r-N)/(1-g/100);return D>0?Math.ceil(D/100)*100:0},[m,r]),p=Number(t)||s.lumpsumTarget||x,v=w.useMemo(()=>{const S=p>0?r+p:r,g=m.map(D=>{const y=D.targetAllocationPct/100*S,E=p>0?Math.max(0,y-D.currentValue):0,_=S>0?(D.currentValue+E)/S*100:0,H=D.currentValue>y+1;return{...D,invest:E,newPct:_,isOverweight:H}}),N=g.reduce((D,y)=>D+y.invest,0);if(p>0&&N>0&&Math.abs(N-p)>1){const D=p/N;return g.map(y=>({...y,invest:y.invest>0?y.invest*D:0,newPct:S>0?(y.currentValue+(y.invest>0?y.invest*D:0))/S*100:0}))}return g},[m,p,r]),b=v.reduce((S,g)=>S+g.invest,0),j=v.some(S=>S.isOverweight),C=Number(t),M=C>0&&x>0&&C<x;return a.jsxs("div",{className:"space-y-2",children:[x>0&&a.jsx("div",{className:"flex items-center gap-2 px-2.5 py-1.5 rounded-md bg-emerald-500/10 border border-emerald-500/20",children:a.jsxs("p",{className:"text-xs text-emerald-400",children:[a.jsx("span",{className:"font-bold",children:Q(x)})," needed to bring all underweight funds to target %"]})}),a.jsxs("div",{className:"flex items-end gap-3",children:[a.jsx("div",{className:"flex-1 max-w-[200px]",children:a.jsx(te,{label:"Invest Amount ()",children:a.jsx(pe,{type:"number",value:t,onChange:o,placeholder:x>0?`${Q(x)}`:"Enter amount..."})})}),!C&&!s.lumpsumTarget&&x>0&&a.jsx("p",{className:"text-xs text-emerald-400/70 pb-2.5",children:"Using suggested"}),!C&&s.lumpsumTarget>=100&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] pb-2.5",children:"Using lumpsum target"})]}),M&&a.jsxs("p",{className:"text-xs text-amber-400/80 px-1",children:["Below minimum  distributes proportionally but won't fully rebalance. Need ",Q(x)," for exact target %."]}),v.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Allocation"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Invest"})]})}),a.jsx("tbody",{children:v.map(S=>a.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 ${S.invest===0?"opacity-50":""}`,children:[a.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:S.fundName}),a.jsxs("td",{className:"py-2 px-2 text-right tabular-nums",children:[a.jsxs("span",{className:S.isOverweight?"text-amber-400":S.invest>0?"text-blue-400":"text-[var(--text-dim)]",children:[S.currentPct.toFixed(1),"%"]}),a.jsxs("span",{className:"text-[var(--text-dim)]",children:["  ",S.newPct.toFixed(1),"%"]})]}),a.jsx("td",{className:"py-2 px-2 text-right font-semibold tabular-nums",children:S.isOverweight?a.jsx("span",{className:"text-amber-400/70 text-xs",children:"Overweight"}):S.invest>0?a.jsx("span",{className:"text-emerald-400",children:ys(S.invest)}):a.jsx("span",{className:"text-[var(--text-dim)] text-xs",children:"Balanced"})})]},S.holdingId))}),b>0&&a.jsx("tfoot",{children:a.jsxs("tr",{className:"border-t border-[var(--border)]",children:[a.jsx("td",{className:"py-1.5 px-2 text-xs font-bold text-[var(--text-primary)]",colSpan:2,children:"Total"}),a.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-emerald-400 tabular-nums",children:Q(b)})]})})]})}):a.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2 text-center",children:"All funds balanced"}),j&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Overweight funds can't be fixed by buying. Use ",a.jsx("span",{className:"font-semibold text-amber-400",children:"Buy / Sell"})," tab to sell overweight and buy underweight."]})]})}function N3({portfolio:s,holdings:l,totalValue:r}){const t=(s.rebalanceThreshold||.05)*100,o=l.some(m=>m.targetAllocationPct>0),u=l.some(m=>m.targetAllocationPct===0&&m.units>0);if(!o&&!u)return a.jsx(gp,{});const d=l.filter(m=>m.targetAllocationPct>0||m.units>0).map(m=>{const x=r>0?m.currentValue/r*100:0,p=m.targetAllocationPct===0&&m.units>0,v=p||Math.abs(x-m.targetAllocationPct)>t,b=m.targetAllocationPct/100*r,j=v?b-m.currentValue:0;return{...m,currentPct:x,amount:j,isExit:p}}).filter(m=>Math.abs(m.amount)>=500);return d.length===0?a.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"Portfolio is balanced"}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Drift"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Action"})]})}),a.jsx("tbody",{children:d.map(m=>{const x=m.amount>0;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[a.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:m.fundName}),a.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:m.isExit?a.jsxs("span",{className:"text-[var(--accent-rose)]",children:[m.currentPct.toFixed(1),"%  Exit"]}):`${m.currentPct.toFixed(1)}%  ${m.targetAllocationPct.toFixed(1)}%`}),a.jsx("td",{className:"py-2 px-2 text-right",children:a.jsxs("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${x?"bg-emerald-500/20 text-emerald-400":"bg-rose-500/20 text-[var(--accent-rose)]"}`,children:[x?"Buy":m.isExit?"Exit":"Sell"," ",ys(Math.abs(m.amount))]})})]},m.schemeCode||m.fundCode)})})]})})}function y1(){const{mfHoldings:s,mfPortfolios:l}=$e(),[r,t]=w.useState("buysell"),o=w.useMemo(()=>l.filter(x=>x.status!=="Inactive").map(x=>{const p=s.filter(S=>S.portfolioId===x.portfolioId&&S.units>0),v=p.reduce((S,g)=>S+g.currentValue,0),b=(x.rebalanceThreshold||.05)*100,j=p.filter(S=>{if(S.targetAllocationPct<=0)return!1;const g=v>0?S.currentValue/v*100:0;return Math.abs(g-S.targetAllocationPct)>b}).length,C=p.filter(S=>S.targetAllocationPct===0&&S.units>0&&S.currentValue>=500).length,M=p.some(S=>S.targetAllocationPct>0);return{...x,holdings:p,totalValue:v,driftedCount:j,exitCount:C,hasTargets:M}}).filter(x=>x.driftedCount>0||x.exitCount>0),[l,s]);if(o.length===0){const x=s.some(p=>p.targetAllocationPct>0);return a.jsx("div",{className:"py-8 text-center",children:x?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"All portfolios are balanced"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"No funds exceed their rebalance threshold"})]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No target allocations set"}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:["Use ",a.jsx("span",{className:"font-semibold text-violet-400",children:"Allocations"})," to set target % for each fund, then rebalance will show drift"]})]})})}const d=o.some(x=>(x.sipTarget||0)>=500)?Tb:Tb.filter(x=>x.key!=="sip"),m=d.some(x=>x.key===r)?r:d[0]?.key||"buysell";return a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex bg-[var(--bg-inset)] rounded-lg p-0.5",children:d.map(({key:x,label:p,icon:v,color:b,dimColor:j,activeBg:C})=>a.jsxs("button",{onClick:()=>t(x),className:`flex-1 flex items-center justify-center gap-1.5 py-2 rounded-md text-xs font-semibold transition-colors ${m===x?`${C} ${b} shadow-sm`:j}`,children:[a.jsx(v,{size:13})," ",p]},x))}),o.map((x,p)=>a.jsxs("div",{className:"border border-[var(--border-light)] border-l-2 border-l-violet-500/50 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between px-3 py-2.5 bg-[var(--bg-inset)]",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs font-bold text-violet-400 bg-violet-500/15 w-5 h-5 rounded flex items-center justify-center",children:p+1}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:x.portfolioName}),a.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:x.ownerName}),x.driftedCount>0&&a.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-amber-500/15 text-amber-400",children:[x.driftedCount," drifted"]}),x.exitCount>0&&a.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-rose-500/15 text-[var(--accent-rose)]",children:[x.exitCount," exit"]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-muted)]",children:[a.jsx("span",{className:"font-semibold text-[var(--text-secondary)]",children:Q(x.totalValue)}),a.jsxs("span",{children:["Threshold: ",((x.rebalanceThreshold||.05)*100).toFixed(0),"%"]}),x.sipTarget>=100&&a.jsxs("span",{children:["SIP: ",Q(x.sipTarget),"/mo"]})]})]}),a.jsxs("div",{className:"px-3 py-2",children:[m==="sip"&&a.jsx(g3,{portfolio:x,holdings:x.holdings,totalValue:x.totalValue}),m==="lumpsum"&&a.jsx(y3,{portfolio:x,holdings:x.holdings,totalValue:x.totalValue}),m==="buysell"&&a.jsx(N3,{portfolio:x,holdings:x.holdings,totalValue:x.totalValue})]})]},x.portfolioId))]})}const j3="https://raw.githubusercontent.com/jagadeeshkmanne/capital-friends/main/logo.png",Eb={mf:{label:"Mutual Funds",color:"bg-violet-500",order:1,route:"/investments/mutual-funds"},stocks:{label:"Stocks",color:"bg-blue-500",order:2,route:"/investments/stocks"},Debt:{label:"Debt",color:"bg-cyan-500",order:3,route:"/investments/other"},Gold:{label:"Gold",color:"bg-amber-500",order:4,route:"/investments/other"},Silver:{label:"Silver",color:"bg-slate-400",order:5,route:"/investments/other"},Property:{label:"Real Estate",color:"bg-orange-500",order:6,route:"/investments/other"},Alternative:{label:"Alternative",color:"bg-violet-400",order:7,route:"/investments/other"},Equity:{label:"Equity",color:"bg-emerald-500",order:8,route:"/investments/other"},Other:{label:"Other",color:"bg-gray-500",order:9,route:"/investments/other"}},Pc=["from-violet-500 to-indigo-500","from-rose-500 to-pink-500","from-blue-500 to-cyan-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],_b=["bg-violet-500","bg-rose-500","bg-blue-500","bg-amber-500","bg-emerald-500"],w3=[{label:"Family Members",path:"/family",match:"/family"},{label:"Bank Accounts",path:"/accounts/bank",match:"/accounts/bank"},{label:"Investment Accounts",path:"/accounts/investment",match:"/accounts/investment"},{label:"Insurance",path:"/insurance",match:"/insurance"},{label:"Mutual Funds",path:"/investments/mutual-funds",match:"/investments/mutual-funds"},{label:"Stocks",path:"/investments/stocks",match:"/investments/stocks"},{label:"Other Investments",path:"/investments/other",match:"/investments/other"},{label:"Goals",path:"/goals",match:"/goals"}],S3={buyopp:"Buying Opportunities",rebalance:"Rebalance Alerts"};function C3({onMenuClick:s}){const{theme:l,toggle:r}=uy(),{selectedMember:t,setSelectedMember:o,familyMembers:u}=Jt(),{mfPortfolios:d,mfHoldings:m,stockPortfolios:x,stockHoldings:p,otherInvList:v,liabilityList:b,refreshData:j,isRefreshing:C}=$e(),{user:M,signOut:S}=Ts(),{masked:g,toggleMask:N,mv:D}=Ln(),y=As(),E=en(),{criticalAlerts:_,upcomingReminders:H,investmentSignals:$}=RC(),[O,F]=w.useState(!1),[I,G]=w.useState(!1),[A,re]=w.useState(null),[U,Z]=w.useState(!1),[B,R]=w.useState(!1),[L,me]=w.useState(!0),ve=w.useRef(null),z=w.useRef(null),ee=w.useRef(null),ue=_.length+H.length,{buyOppCount:de,buyCount:Se,strongBuyCount:ge,rebalanceCount:ye}=$;w.useEffect(()=>{function je(ze){ve.current&&!ve.current.contains(ze.target)&&F(!1),z.current&&!z.current.contains(ze.target)&&G(!1)}return(O||I)&&document.addEventListener("mousedown",je),()=>document.removeEventListener("mousedown",je)},[O,I]);const Ve=u.findIndex(je=>je.memberId===t),We=Ve>=0?u[Ve]:null,Qt=w.useMemo(()=>{const je=(be,Te)=>t==="all"?be:be.filter(le=>le[Te]===t),ze={},pt=(be,Te,le,ct)=>{ze[be]||(ze[be]={items:[],invested:0}),ze[be].items.push({label:Te,value:le}),ze[be].invested+=ct};je((d||[]).filter(be=>be.status==="Active"),"ownerId").forEach(be=>{const Te=(m||[]).filter(ke=>ke.portfolioId===be.portfolioId&&ke.units>0),le=Te.reduce((ke,nt)=>ke+nt.currentValue,0),ct=Te.reduce((ke,nt)=>ke+nt.investment,0);le>0&&pt("mf",be.portfolioName?.replace(/^PFL-/,"")||be.portfolioName,le,ct)}),je((x||[]).filter(be=>be.status==="Active"),"ownerId").forEach(be=>{const Te=(p||[]).filter(ke=>ke.portfolioId===be.portfolioId),le=Te.reduce((ke,nt)=>ke+nt.currentValue,0),ct=Te.reduce((ke,nt)=>ke+nt.totalInvestment,0);le>0&&pt("stocks",be.portfolioName,le,ct)}),je((v||[]).filter(be=>be.status==="Active"),"familyMemberId").forEach(be=>{const Te=be.investmentCategory||"Other";pt(Te,be.investmentName||be.investmentType||"Other",be.currentValue,be.investedAmount||0)});const jt=Object.entries(ze).map(([be,{items:Te,invested:le}])=>{const ct=Eb[be]||Eb.Other,ke=Te.reduce((nt,ia)=>nt+ia.value,0);return{key:be,label:ct.label,color:ct.color,order:ct.order,route:ct.route,total:ke,invested:le,items:Te.sort((nt,ia)=>ia.value-nt.value)}}).filter(be=>be.total>0).sort((be,Te)=>be.order-Te.order),ma=je((b||[]).filter(be=>be.status==="Active"),"familyMemberId"),Xr=ma.map(be=>({label:be.liabilityName||be.liabilityType||"Loan",value:be.outstandingBalance})),J=ma.reduce((be,Te)=>be+Te.outstandingBalance,0),ce=jt.reduce((be,Te)=>be+Te.total,0),_e=jt.reduce((be,Te)=>be+Te.invested,0);return{netWorth:ce-J,totalInv:ce,totalInvested:_e,sections:jt,totalLiab:J,liabilities:Xr}},[t,d,m,x,p,v,b]);function Bt(){F(!1),G(!1)}function kt(){if(!ee.current)return;const{scrollLeft:je,scrollWidth:ze,clientWidth:pt}=ee.current;R(je>5),me(je+pt<ze-5)}function ot(je){if(!ee.current)return;const pt=(ee.current.querySelector("a")?.offsetWidth||240)+12;ee.current.scrollBy({left:je*pt,behavior:"smooth"})}return w.useEffect(()=>{kt()},[Qt,U]),a.jsxs("header",{className:"sticky top-0 z-30 shrink-0",children:[a.jsx("style",{children:`
        @keyframes glow-emerald {
          0%, 100% { box-shadow: 0 0 6px rgba(16,185,129,0.3), 0 0 12px rgba(16,185,129,0.15); }
          50% { box-shadow: 0 0 12px rgba(16,185,129,0.5), 0 0 24px rgba(16,185,129,0.25); }
        }
        @keyframes glow-violet {
          0%, 100% { box-shadow: 0 0 6px rgba(139,92,246,0.3), 0 0 12px rgba(139,92,246,0.15); }
          50% { box-shadow: 0 0 12px rgba(139,92,246,0.5), 0 0 24px rgba(139,92,246,0.25); }
        }
        .glow-emerald { animation: glow-emerald 2s ease-in-out infinite; }
        .glow-violet { animation: glow-violet 2s ease-in-out infinite; }
      `}),a.jsx("div",{className:"relative z-10 bg-[var(--bg-header)]/95 backdrop-blur-sm border-b border-[var(--border)]",children:a.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 h-14",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:s,className:"lg:hidden p-2 -ml-1.5 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:a.jsx(z5,{size:20})}),a.jsx("img",{src:j3,alt:"Capital Friends",className:"h-10"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[de>0&&a.jsxs("button",{onClick:()=>{re(A==="buyopp"?null:"buyopp"),Bt()},className:`glow-emerald flex items-center gap-1.5 text-xs font-bold whitespace-nowrap px-3 py-1.5 rounded-full transition-all ${A==="buyopp"?"bg-emerald-500/30 text-emerald-300 ring-1 ring-emerald-400/50":"bg-emerald-500/15 text-emerald-400 hover:bg-emerald-500/25"}`,children:[a.jsx(Ou,{size:13,strokeWidth:2.5}),a.jsx("span",{className:"hidden sm:inline",children:ge>0?"Buy Opportunities":"Buying Opportunities"}),ge>0&&a.jsxs("span",{className:"text-[11px] bg-emerald-500/30 px-1.5 py-0.5 rounded-full",children:[ge," Strong"]}),Se>0&&a.jsxs("span",{className:"text-[11px] bg-emerald-500/20 px-1.5 py-0.5 rounded-full",children:[Se," Buy"]})]}),ye>0&&a.jsxs("button",{onClick:()=>{re(A==="rebalance"?null:"rebalance"),Bt()},className:`glow-violet flex items-center gap-1.5 text-xs font-bold whitespace-nowrap px-3 py-1.5 rounded-full transition-all ${A==="rebalance"?"bg-violet-500/30 text-violet-300 ring-1 ring-violet-400/50":"bg-violet-500/15 text-violet-400 hover:bg-violet-500/25"}`,children:[a.jsx(Sl,{size:13,strokeWidth:2.5}),a.jsx("span",{className:"hidden sm:inline",children:"Rebalance Alerts"}),a.jsx("span",{className:"text-[11px] bg-violet-500/30 px-1.5 py-0.5 rounded-full",children:ye})]}),a.jsx("button",{onClick:()=>j(!0),disabled:C,className:`p-2 rounded-lg transition-colors ${C?"text-blue-400 cursor-not-allowed":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,title:"Sync data from Google Sheets",children:a.jsx(Sl,{size:18,className:C?"animate-spin":""})}),a.jsx("button",{onClick:N,className:`p-2 rounded-lg transition-colors ${g?"text-amber-400 bg-amber-500/10":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,title:g?"Data masked  click to reveal":"Mask sensitive data",children:g?a.jsx(eu,{size:18}):a.jsx(rp,{size:18})}),a.jsx("button",{onClick:r,className:"p-2 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",title:`Switch to ${l==="dark"?"light":"dark"} mode`,children:l==="dark"?a.jsx(Ef,{size:18}):a.jsx(ky,{size:18})}),ue>0&&a.jsxs("div",{className:"relative",ref:z,children:[a.jsxs("button",{onClick:()=>{G(!I),F(!1)},className:"relative p-2 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx(Eu,{size:18}),a.jsx("span",{className:"absolute -top-0.5 -right-0.5 min-w-[16px] h-4 flex items-center justify-center text-[9px] font-bold text-white bg-rose-500 rounded-full px-1",children:ue})]}),I&&a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-xl shadow-black/20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[a.jsx("div",{className:"px-3 py-2 border-b border-[var(--border-light)]",children:a.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:"Notifications"})}),a.jsxs("div",{className:"max-h-[300px] overflow-y-auto py-1",children:[_.map((je,ze)=>{const pt={critical:"bg-rose-500",warning:"bg-amber-500",info:"bg-blue-500"}[je.type],la={critical:"bg-rose-500/15 text-rose-400",warning:"bg-amber-500/15 text-amber-400",info:"bg-blue-500/15 text-blue-400"}[je.type];return a.jsxs("button",{onClick:()=>{G(!1),y(je.navigateTo)},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${pt}`}),a.jsx("span",{className:"text-xs text-[var(--text-secondary)] flex-1 text-left truncate",children:je.title}),a.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded-full shrink-0 ${la}`,children:je.badge})]},`c-${ze}`)}),_.length>0&&H.length>0&&a.jsx("div",{className:"mx-3 my-1 border-t border-[var(--border-light)]"}),H.map(je=>{const ze=je.days<=7?"bg-rose-500/15 text-rose-400":je.days<=15?"bg-amber-500/15 text-amber-400":"bg-slate-500/15 text-[var(--text-muted)]";return a.jsxs("button",{onClick:()=>{G(!1),y("/reminders")},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[a.jsx("span",{className:"w-2 h-2 rounded-full shrink-0 bg-amber-500"}),a.jsx("span",{className:"text-xs text-[var(--text-secondary)] flex-1 truncate",children:je.title}),a.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded-full shrink-0 ${ze}`,children:je.days===0?"Today":je.days<=30?`${je.days}d`:je.dateStr})]},`r-${je.reminderId}`)})]})]})]}),a.jsxs("div",{className:"relative",ref:ve,children:[a.jsxs("button",{onClick:()=>{F(!O),G(!1)},className:"flex items-center gap-1.5 pl-1 pr-2 py-1 rounded-full hover:bg-[var(--bg-hover)] transition-colors",children:[We?a.jsx("div",{className:`w-8 h-8 rounded-full bg-gradient-to-br ${Pc[Ve%Pc.length]} flex items-center justify-center text-white text-xs font-bold shadow-sm`,children:We.memberName.charAt(0)}):a.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-500 flex items-center justify-center text-white shadow-sm",children:a.jsx(Dl,{size:14})}),a.jsx(qr,{size:14,className:`text-[var(--text-muted)] transition-transform ${O?"rotate-180":""}`})]}),O&&a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-xl shadow-black/20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[a.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)]",children:a.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:"Viewing as"})}),a.jsxs("div",{className:"py-1.5",children:[a.jsxs("button",{onClick:()=>{o("all"),F(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${t==="all"?"bg-violet-500/10":"hover:bg-[var(--bg-hover)]"}`,children:[a.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-violet-500 to-indigo-500 flex items-center justify-center text-white shadow-sm shrink-0",children:a.jsx(Dl,{size:15})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:`text-sm font-semibold truncate ${t==="all"?"text-violet-400":"text-[var(--text-primary)]"}`,children:"Everyone"}),a.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:"All family members"})]}),t==="all"&&a.jsx(R0,{size:16,className:"text-violet-400 shrink-0"})]}),u.length>0&&a.jsx("div",{className:"mx-4 my-1 border-t border-[var(--border-light)]"}),u.map((je,ze)=>{const pt=t===je.memberId;return a.jsxs("button",{onClick:()=>{o(je.memberId),F(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${pt?`${_b[ze%_b.length]}/10`:"hover:bg-[var(--bg-hover)]"}`,children:[a.jsx("div",{className:`w-9 h-9 rounded-full bg-gradient-to-br ${Pc[ze%Pc.length]} flex items-center justify-center text-white text-sm font-bold shadow-sm shrink-0`,children:je.memberName.charAt(0)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold truncate text-[var(--text-primary)]",children:je.memberName}),a.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:je.relationship||"Family member"})]}),pt&&a.jsx(R0,{size:16,className:"text-emerald-400 shrink-0"})]},je.memberId)})]}),a.jsxs("div",{className:"border-t border-[var(--border-light)] py-1.5",children:[a.jsxs(yl,{to:"/settings",onClick:()=>F(!1),className:"w-full flex items-center gap-3 px-4 py-2.5 text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx(sp,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:"Settings"})]}),M&&a.jsx("div",{className:"px-4 py-1.5",children:a.jsx("p",{className:"text-[11px] text-[var(--text-muted)] truncate",children:D(M.email,"email")})}),a.jsxs("button",{onClick:()=>{S(),F(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-left text-rose-400 hover:bg-rose-500/10 transition-colors",children:[a.jsx(Cy,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:"Sign out"})]})]})]})]})]})]})}),a.jsx(OC,{}),a.jsx("nav",{className:"bg-[var(--bg-header)]/90 backdrop-blur-sm border-b border-[var(--border)]",children:a.jsxs("div",{className:"flex items-center px-3 sm:px-4 py-1.5",children:[a.jsx("div",{className:"flex items-center gap-1 overflow-x-auto no-scrollbar flex-1 min-w-0",children:w3.map(je=>{const ze=E.pathname.startsWith(je.match);return a.jsx(yl,{to:je.path,className:`whitespace-nowrap px-3 py-1.5 rounded-lg text-[13px] font-medium transition-colors ${ze?"bg-violet-500/15 text-violet-400":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,children:je.label},je.path)})}),a.jsxs("button",{onClick:()=>Z(!U),className:"shrink-0 ml-3 flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-emerald-500/10 border border-emerald-500/20 hover:bg-emerald-500/15 transition-colors",children:[a.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-emerald-400/70",children:"Net Worth"}),a.jsx("span",{className:"text-sm font-extrabold text-emerald-400 tabular-nums",children:Q(Qt.netWorth)}),a.jsx(qr,{size:12,className:`text-emerald-400/60 transition-transform duration-200 ${U?"rotate-180":""}`})]})]})}),U&&a.jsx("div",{className:"bg-[var(--bg-card)]/90 backdrop-blur-sm border-b border-[var(--border-light)] animate-in slide-in-from-top-2 fade-in duration-200",children:a.jsxs("div",{className:"relative max-w-7xl mx-auto",children:[B&&a.jsx("button",{onClick:()=>ot(-1),className:"absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 z-10 w-7 h-7 flex items-center justify-center rounded-full bg-[var(--bg-card)] border border-[var(--border)] shadow-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:a.jsx(hy,{size:14})}),a.jsxs("div",{ref:ee,onScroll:kt,className:"flex gap-3 px-12 sm:px-14 py-3 overflow-x-auto scroll-smooth snap-x snap-mandatory no-scrollbar",children:[Qt.sections?.map(je=>a.jsxs(yl,{to:je.route,className:"group snap-start shrink-0 w-[calc(50%-6px)] sm:w-[calc(33.333%-8px)] lg:w-[calc(25%-9px)] rounded-lg p-3 bg-[var(--bg-inset)] hover:bg-[var(--bg-hover)] border border-[var(--border-light)] transition-colors",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[a.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] font-bold uppercase tracking-wider text-[var(--text-muted)]",children:[a.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${je.color}`}),je.label]}),a.jsx(Qi,{size:10,className:"text-[var(--text-dim)] opacity-0 group-hover:opacity-100 transition-opacity"})]}),a.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums mb-1",children:Q(je.total)}),je.items.length>0&&a.jsx("div",{className:"space-y-0.5",children:je.items.map(ze=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[11px] text-[var(--text-dim)] truncate mr-2",children:ze.label}),a.jsx("span",{className:"text-[11px] text-[var(--text-muted)] tabular-nums shrink-0",children:Q(ze.value)})]},ze.label))})]},je.key)),Qt.totalLiab>0&&a.jsxs(yl,{to:"/liabilities",className:"group snap-start shrink-0 w-[calc(50%-6px)] sm:w-[calc(33.333%-8px)] lg:w-[calc(25%-9px)] rounded-lg p-3 bg-[var(--bg-inset)] hover:bg-[var(--bg-hover)] border border-[var(--border-light)] transition-colors",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[a.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] font-bold uppercase tracking-wider text-[var(--text-muted)]",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-rose-500"}),"Liabilities"]}),a.jsx(Qi,{size:10,className:"text-[var(--text-dim)] opacity-0 group-hover:opacity-100 transition-opacity"})]}),a.jsxs("p",{className:"text-base font-bold text-[var(--accent-rose)] tabular-nums mb-1",children:["",Q(Qt.totalLiab)]}),Qt.liabilities?.length>0&&a.jsx("div",{className:"space-y-0.5",children:Qt.liabilities.map(je=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[11px] text-[var(--text-dim)] truncate mr-2",children:je.label}),a.jsx("span",{className:"text-[11px] text-[var(--accent-rose)]/70 tabular-nums shrink-0",children:Q(je.value)})]},je.label))})]})]}),L&&a.jsx("button",{onClick:()=>ot(1),className:"absolute right-2 sm:right-3 top-1/2 -translate-y-1/2 z-10 w-7 h-7 flex items-center justify-center rounded-full bg-[var(--bg-card)] border border-[var(--border)] shadow-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:a.jsx(Qi,{size:14})})]})}),A&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-16 sm:pt-24 px-3",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>re(null)}),a.jsxs("div",{className:"relative w-full max-w-3xl max-h-[75vh] rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-2xl shadow-black/40 overflow-hidden flex flex-col animate-in fade-in slide-in-from-top-4 duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-[var(--border-light)] shrink-0",children:[a.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:S3[A]}),a.jsx("button",{onClick:()=>re(null),className:"p-1.5 rounded-lg hover:bg-[var(--bg-hover)] text-[var(--text-dim)] transition-colors",children:a.jsx(ro,{size:16})})]}),a.jsxs("div",{className:"overflow-y-auto p-4",children:[A==="buyopp"&&a.jsx(_y,{}),A==="rebalance"&&a.jsx(y1,{})]})]})]})]})}const k3=[{label:"Invest",icon:Nl,path:"/investments/mutual-funds"},{label:"Accounts",icon:Wi,path:"/accounts/bank"},{label:"Goals",icon:no,path:"/goals"},{label:"Reminders",icon:Eu,path:"/reminders"},{label:"More",icon:m5,path:"/more"}];function D3(){return a.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-40 bg-[var(--bg-sidebar)] border-t border-[var(--border)] safe-bottom",children:a.jsx("div",{className:"flex items-center justify-around h-[56px]",children:k3.map(({label:s,icon:l,path:r})=>a.jsx(Jf,{to:r,className:({isActive:t})=>`relative flex flex-col items-center justify-center gap-0.5 w-full h-full text-xs font-medium transition-colors ${t?"text-[var(--sidebar-active-text)]":"text-[var(--text-dim)]"}`,children:({isActive:t})=>a.jsxs(a.Fragment,{children:[t&&a.jsx("span",{className:"absolute top-0 w-10 h-[2.5px] bg-[var(--sidebar-active-text)] rounded-b-full"}),a.jsx("div",{className:`flex items-center justify-center w-9 h-9 rounded-xl transition-colors ${t?"bg-[var(--sidebar-active-bg)]":""}`,children:a.jsx(l,{size:19,strokeWidth:t?2.2:1.5})}),a.jsx("span",{className:t?"font-semibold":"",children:s})]})},r))})})}const M3="/logo-small.png",yf=[{key:"auth",label:"Signing in"},{key:"data",label:"Loading your data"},{key:"health",label:"Checking health status"},{key:"ready",label:"Almost ready"}];function ku({phase:s="auth"}){const[l,r]=w.useState("");w.useEffect(()=>{const o=setInterval(()=>{r(u=>u.length>=3?"":u+".")},500);return()=>clearInterval(o)},[]);const t=yf.findIndex(o=>o.key===s);return a.jsx("div",{className:"flex h-dvh items-center justify-center bg-[var(--bg-base)]",children:a.jsxs("div",{className:"flex flex-col items-center gap-8",children:[a.jsx("img",{src:M3,alt:"Capital Friends",className:"h-16 w-16 animate-pulse"}),a.jsxs("div",{className:"flex flex-col items-center gap-4 min-w-[220px]",children:[yf.map((o,u)=>{const d=u===t,m=u<t;return a.jsxs("div",{className:"flex items-center gap-3 w-full",children:[a.jsx("div",{className:`flex-shrink-0 w-5 h-5 rounded-full flex items-center justify-center text-xs font-medium transition-all duration-300 ${m?"bg-green-500 text-white":d?"bg-violet-500 text-white animate-pulse":"bg-[var(--border)] text-[var(--text-muted)]"}`,children:m?"":u+1}),a.jsxs("span",{className:`text-sm transition-all duration-300 ${m?"text-green-400":d?"text-[var(--text-primary)] font-medium":"text-[var(--text-muted)]"}`,children:[o.label,d?l:""]})]},o.key)}),a.jsx("div",{className:"w-full h-1 rounded-full bg-[var(--border)] overflow-hidden mt-2",children:a.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-violet-500 to-cyan-500 transition-all duration-500 ease-out",style:{width:`${(t+1)/yf.length*100}%`}})})]})]})})}function A3(){const[s,l]=w.useState(!1),{loading:r,error:t}=$e();return r?a.jsx(ku,{}):t?a.jsx("div",{className:"flex h-dvh items-center justify-center bg-[var(--bg-base)]",children:a.jsxs("div",{className:"flex flex-col items-center gap-4 text-center px-6",children:[a.jsx("img",{src:"/logo-small.png",alt:"Capital Friends",className:"h-16 w-16 opacity-50"}),a.jsx("p",{className:"text-rose-400 text-sm font-medium",children:t}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 text-sm font-medium rounded-lg bg-violet-600 hover:bg-violet-500 text-white transition-colors",children:"Retry"})]})}):a.jsxs("div",{className:"flex flex-col h-dvh bg-[var(--bg-base)] overflow-hidden",children:[a.jsx(C3,{onMenuClick:()=>l(!0)}),a.jsx(MC,{open:s,onClose:()=>l(!1)}),a.jsx("main",{className:"flex-1 overflow-y-auto overscroll-contain pb-20 lg:pb-0",children:a.jsx("div",{className:"px-3 sm:px-4 py-3 sm:py-4 w-full max-w-7xl mx-auto",children:a.jsx(kg,{})})}),a.jsx(D3,{})]})}function T3(){const{isAuthenticated:s,loading:l}=Ts(),{healthCheckCompleted:r,loading:t}=$e(),o=en();return l&&!s?a.jsx(ku,{phase:"auth"}):!s&&!l?a.jsx(ou,{to:"/",replace:!0}):t?a.jsx(ku,{phase:"data"}):r===!1&&o.pathname!=="/health-check"?a.jsx(ou,{to:"/health-check",replace:!0}):a.jsx(kg,{})}const Ob="https://raw.githubusercontent.com/jagadeeshkmanne/capital-friends/main/logo.png";function N1(){const{isAuthenticated:s,loading:l,error:r,signIn:t}=Ts(),o=As(),[u,d]=w.useState(0),[m,x]=w.useState(!1),p=w.useRef(null),v=w.useCallback(()=>{p.current&&clearInterval(p.current),p.current=setInterval(()=>{x(M=>(M||d(S=>(S+1)%4),M))},5e3)},[]);w.useEffect(()=>(v(),()=>{p.current&&clearInterval(p.current)}),[v]);function b(M){d(M),v()}if(w.useEffect(()=>{s&&o("/dashboard",{replace:!0})},[s,o]),l)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#080d1a]",children:a.jsx("img",{src:"/logo-small.png",alt:"",className:"h-16 w-16 animate-pulse"})});const j=[{id:"ath",label:"ATH Tracking",icon:a.jsx(Cl,{size:18}),color:"emerald",tagline:"Spot Buying Opportunities",desc:"See how far each mutual fund is from its All-Time High NAV. When a quality fund dips 10-20% below ATH, it's your signal to invest more  via SIP increase or lumpsum.",mock:a.jsx(_3,{})},{id:"rebalance",label:"Rebalancing",icon:a.jsx(Sl,{size:18}),color:"violet",tagline:"Know Exactly What to Buy or Sell",desc:"Set target allocation for each fund. When your portfolio drifts, Capital Friends tells you exactly how much to adjust  via SIP changes, lumpsum top-ups, or buy/sell actions.",mock:a.jsx(O3,{})},{id:"goals",label:"Goal Linking",icon:a.jsx(no,{size:18}),color:"cyan",tagline:"Link Portfolios to Goals",desc:"Create goals like retirement, child education, or emergency fund. Link MF portfolios with allocation percentages. Goal progress updates automatically as NAVs change daily.",mock:a.jsx(R3,{})},{id:"dashboard",label:"Family View",icon:a.jsx(Dl,{size:18}),color:"amber",tagline:"Everyone's Wealth, One Dashboard",desc:"Switch between family members in one click. See combined or individual net worth, investments, insurance, loans  everything your family owns, in one place.",mock:a.jsx(E3,{})}],C=j[u];return a.jsxs("div",{className:"min-h-screen bg-[#080d1a] text-slate-200",children:[a.jsx("header",{className:"sticky top-0 z-50 bg-[#0a0f1f]/95 backdrop-blur-sm border-b border-white/[0.06]",children:a.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 h-14",children:[a.jsx("img",{src:Ob,alt:"Capital Friends",className:"h-12"}),a.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-violet-600 to-cyan-600 text-white text-sm font-semibold hover:from-violet-500 hover:to-cyan-500 transition-all cursor-pointer",children:[a.jsx(Ib,{s:14})," Sign In"]})]})}),a.jsxs("section",{className:"relative px-5 sm:px-8 lg:px-16 pt-10 sm:pt-14 pb-8 sm:pb-10 overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 left-1/4 w-[600px] h-[400px] bg-violet-600/8 rounded-full blur-[120px] pointer-events-none"}),a.jsx("div",{className:"absolute top-20 right-1/4 w-[400px] h-[300px] bg-cyan-600/6 rounded-full blur-[100px] pointer-events-none"}),a.jsxs("div",{className:"relative text-center",children:[a.jsx("span",{className:"inline-block text-xs font-bold uppercase tracking-[0.2em] text-violet-400 bg-violet-500/10 border border-violet-500/20 rounded-full px-4 py-1.5 mb-5",children:"Always Free  100% Private  Your Google Sheet"}),a.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-extrabold leading-[1.1] tracking-tight text-white",children:["One dashboard for your family's"," ",a.jsx("span",{className:"bg-gradient-to-r from-violet-400 to-cyan-400 bg-clip-text text-transparent",children:"entire wealth"})]}),a.jsxs("p",{className:"mt-5 text-base sm:text-lg text-slate-400 leading-relaxed max-w-2xl mx-auto",children:["Mutual funds, stocks, FDs, gold, insurance, loans  track everything for every family member. Manual entry means ",a.jsx("strong",{className:"text-white",children:"no bank credentials, no privacy risk"}),"."]}),r&&a.jsx("p",{className:"mt-5 text-sm text-rose-400",children:r})]})]}),a.jsxs("section",{className:"bg-gradient-to-b from-[#0d0a1a] to-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-10 sm:py-14",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white inline-flex items-center gap-3 flex-wrap justify-center",children:[a.jsx(kl,{size:28,className:"text-amber-400 shrink-0"}),a.jsxs("span",{children:["What happens if something happens to ",a.jsx("span",{className:"text-amber-400",children:"you"}),"?"]})]}),a.jsxs("p",{className:"mt-4 text-lg text-slate-400 leading-relaxed",children:["Your family should know about every investment, every policy, every loan. Not someday. ",a.jsx("strong",{className:"text-white",children:"Right now."})]})]}),a.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[a.jsx(Rb,{icon:a.jsx(rp,{size:20}),color:"rose",title:"Without Capital Friends",items:["Scattered investments across 10+ platforms","Family has no idea what you own or owe","Insurance policies lost in email threads","Months of confusion, missed renewals, lost money"],bad:!0}),a.jsx(Rb,{icon:a.jsx(Ki,{size:20}),color:"emerald",title:"With Capital Friends",items:["One sheet  every investment, policy, and loan","Family receives email reports with full portfolio details","Reminders for SIPs, renewals, EMI payments","Complete clarity, instantly  when it matters most"]})]}),a.jsxs("p",{className:"text-center mt-8 text-base text-slate-500",children:["Built for ",a.jsx("strong",{className:"text-white",children:"you"})," to manage your wealth  and for your ",a.jsx("strong",{className:"text-white",children:"family"})," to access it when they need to."]})]}),a.jsxs("section",{className:"bg-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"How it Works"}),a.jsx("p",{className:"text-base text-slate-500",children:"Set up in 2 minutes  no bank credentials, no downloads"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-4",children:[a.jsx(zc,{num:1,icon:a.jsx(O5,{size:24}),color:"violet",title:"Sign In with Google",desc:"Go to capitalfriends.in and sign in with your Google account. That's all  no registration form, no passwords."}),a.jsx(zc,{num:2,icon:a.jsx(h5,{size:24}),color:"emerald",title:"App Creates Your Sheet",desc:"The app creates a private Google Sheet in your own Google Drive. This sheet stores all your financial data. Only you can see it  not even the developer."}),a.jsx(zc,{num:3,icon:a.jsx(gy,{size:24}),color:"cyan",title:"Financial Health Check",desc:"Answer 7 simple yes/no questions about your financial health. Get your score and personalized recommendations instantly."}),a.jsx(zc,{num:4,icon:a.jsx(Cl,{size:24}),color:"amber",title:"Start Tracking",desc:"Add family members, portfolios, goals, insurance, and loans. The app connects to AMFI for live mutual fund prices automatically."})]}),a.jsxs("p",{className:"text-center mt-10 text-sm text-slate-600",children:["Your sheet is named ",a.jsx("strong",{className:"text-slate-400",children:"Capital Friends - Your Name"})," and lives in your Google Drive. The web app is just a beautiful dashboard to view and manage it."]})]}),a.jsxs("section",{id:"features",className:"bg-[#0b1022] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",onMouseEnter:()=>x(!0),onMouseLeave:()=>{x(!1),v()},children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Features That Set Us Apart"}),a.jsx("p",{className:"text-base text-slate-500",children:"Things you won't find on other portfolio trackers"})]}),a.jsx("div",{className:"flex justify-center gap-2 sm:gap-3 mb-10 flex-wrap",children:j.map((M,S)=>{const g=S===u,N={emerald:"border-emerald-500",violet:"border-violet-500",cyan:"border-cyan-500",amber:"border-amber-500"},D={emerald:"text-emerald-400",violet:"text-violet-400",cyan:"text-cyan-400",amber:"text-amber-400"};return a.jsxs("button",{onClick:()=>b(S),className:`relative flex items-center gap-2 px-5 py-2.5 rounded-full border text-sm font-semibold transition-all cursor-pointer ${g?`${N[M.color]} bg-white/[0.05] ${D[M.color]}`:"border-white/[0.08] text-slate-500 hover:border-white/[0.15] hover:text-slate-300"}`,children:[a.jsx("span",{className:"shrink-0",children:M.icon}),M.label,g&&a.jsx("div",{className:"absolute bottom-0 left-4 right-4 h-0.5 bg-white/[0.06] rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full bg-current",style:{animation:"featureProgress 5s linear",animationPlayState:m?"paused":"running"}})})]},M.id)})}),a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-8 lg:gap-12",children:[a.jsxs("div",{className:"lg:flex-1 min-h-[280px]",children:[a.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:C.tagline}),a.jsx("p",{className:"mt-3 text-base text-slate-400 leading-relaxed",children:C.desc}),C.id==="ath"&&a.jsxs("div",{className:"mt-6 space-y-5",children:[a.jsx(na,{c:"emerald",t:"ATH tracking only for funds in your portfolios"}),a.jsx(na,{c:"emerald",t:"Color-coded signals: watch, consider, buy, strong buy"}),a.jsx(na,{c:"emerald",t:"Increase SIP or invest lumpsum when funds dip"}),a.jsx(na,{c:"emerald",t:"Daily NAV updates from AMFI data"})]}),C.id==="rebalance"&&a.jsxs("div",{className:"mt-6 space-y-5",children:[a.jsx(na,{c:"violet",t:"Adjust monthly SIP to rebalance gradually"}),a.jsx(na,{c:"violet",t:"Lumpsum top-up for quick rebalance"}),a.jsx(na,{c:"violet",t:"Buy/Sell amounts to match target"}),a.jsx(na,{c:"violet",t:"Configurable threshold per portfolio"})]}),C.id==="goals"&&a.jsxs("div",{className:"mt-6 space-y-5",children:[a.jsx(na,{c:"cyan",t:"Link multiple MF portfolios to each goal"}),a.jsx(na,{c:"cyan",t:"Built-in SIP + lumpsum calculator with inflation"}),a.jsx(na,{c:"cyan",t:"Auto-status: On Track, Needs Attention, Achieved"}),a.jsx(na,{c:"cyan",t:"Withdrawal planning for retirement goals"})]}),C.id==="dashboard"&&a.jsxs("div",{className:"mt-6 space-y-5",children:[a.jsx(na,{c:"amber",t:"One-click switch between family members"}),a.jsx(na,{c:"amber",t:"Combined net worth across everyone"}),a.jsx(na,{c:"amber",t:"MF, stocks, FD, gold, PPF, NPS, insurance"}),a.jsx(na,{c:"amber",t:"Email reports sent to family automatically"})]})]}),a.jsx("div",{className:"lg:flex-1 min-w-0 min-h-[380px] flex flex-col justify-center",children:C.mock})]}),a.jsx("style",{children:`
          @keyframes featureProgress {
            from { width: 0% }
            to { width: 100% }
          }
        `})]}),a.jsxs("section",{className:"bg-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Everything You Need"}),a.jsx("p",{className:"text-base text-slate-500",children:"One dashboard for your entire financial life"})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:[a.jsx(Yr,{icon:a.jsx(Gi,{size:20}),c:"rose",t:"Stock Portfolios",d:"Buy/sell tracking, average cost, P&L with live NSE prices"}),a.jsx(Yr,{icon:a.jsx(q5,{size:20}),c:"orange",t:"FD, Gold, PPF, NPS",d:"Track any investment type  all counted in net worth"}),a.jsx(Yr,{icon:a.jsx(Ki,{size:20}),c:"teal",t:"Insurance Tracker",d:"Life, health, term policies with premiums & renewal dates"}),a.jsx(Yr,{icon:a.jsx(Wi,{size:20}),c:"red",t:"Liabilities",d:"Loans & EMIs. Net worth = total assets minus debts"}),a.jsx(Yr,{icon:a.jsx(Eu,{size:20}),c:"yellow",t:"Smart Reminders",d:"SIP dates, renewals, EMI payments, maturity alerts"}),a.jsx(Yr,{icon:a.jsx(Dl,{size:20}),c:"pink",t:"Family Sharing",d:"Invite family with Google accounts  shared dashboard"}),a.jsx(Yr,{icon:a.jsx(Sl,{size:20}),c:"blue",t:"Daily Auto-Refresh",d:"NAVs and stock prices update automatically every day"}),a.jsx(Yr,{icon:a.jsx(cf,{size:20}),c:"emerald",t:"Complete Privacy",d:"No servers, no database, no tracking  your Sheet only"})]})]}),a.jsxs("section",{className:"border-y border-white/[0.06]",children:[a.jsxs("div",{className:"bg-[#0b1022] px-5 sm:px-8 lg:px-16 py-10 sm:py-14 text-center",children:[a.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white inline-flex items-center gap-3",children:[a.jsx(cf,{size:28,className:"text-emerald-400 shrink-0"}),"Your Data Never Leaves Google"]}),a.jsxs("p",{className:"mt-3 text-base sm:text-lg text-slate-400 leading-relaxed",children:["No backend server. No database. No tracking. The web app is a static site. Your spreadsheet lives in ",a.jsx("strong",{className:"text-white",children:"your Google Drive"}),". We literally cannot access your financial data."]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row",children:[a.jsx(wf,{icon:a.jsx(Ki,{size:20}),t:"Manual Entry Only",d:"No bank linking, no credentials shared. You type your data  no one else has access.",bg:"bg-[#0d1326]",c:"emerald"}),a.jsx(wf,{icon:a.jsx(cf,{size:20}),t:"Your Google Sheet",d:"A private spreadsheet in your Drive. Share only with family you choose.",bg:"bg-[#0f1530]",c:"violet"}),a.jsx(wf,{icon:a.jsx(du,{size:20}),t:"Always Free",d:"No premium tier, no hidden fees, no ads. Free today, free forever.",bg:"bg-[#111838]",c:"amber"})]})]}),a.jsxs("section",{className:"bg-gradient-to-t from-[#080d1a] to-[#0d1128] border-t border-white/[0.06] px-5 sm:px-8 lg:px-16 py-16 text-center",children:[a.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-white",children:"Start managing your family's wealth today"}),a.jsx("p",{className:"mt-3 text-base text-slate-500",children:"Always free. No credit card. No bank linking. Just your Google account."}),a.jsxs("button",{onClick:t,className:"mt-8 inline-flex items-center gap-2.5 px-8 py-3.5 bg-gradient-to-r from-violet-600 to-cyan-600 text-white font-bold text-base rounded-xl hover:from-violet-500 hover:to-cyan-500 shadow-lg shadow-violet-900/30 transition-all hover:scale-[1.02] cursor-pointer",children:[a.jsx(Ib,{s:20})," Sign in with Google  It's Free"]}),r&&a.jsx("p",{className:"mt-3 text-sm text-rose-400",children:r})]}),a.jsxs("footer",{className:"border-t border-white/[0.04] px-5 sm:px-8 lg:px-16 py-5 flex items-center justify-between",children:[a.jsx("img",{src:Ob,alt:"",className:"h-5 opacity-30"}),a.jsx("p",{className:"text-xs text-slate-600",children:"Your data. Your Google Drive. Your control."})]})]})}function Rb({icon:s,title:l,items:r,bad:t}){const o=t?"border-rose-500/15":"border-emerald-500/15",u=t?"bg-rose-500/[0.04]":"bg-emerald-500/[0.04]",d=t?"bg-rose-500/10 text-rose-400":"bg-emerald-500/10 text-emerald-400",m=t?"text-rose-400":"text-emerald-400";return a.jsxs("div",{className:`rounded-2xl border ${o} ${u} p-6`,children:[a.jsxs("h3",{className:`text-lg font-bold ${m} mb-4 flex items-center gap-2.5`,children:[a.jsx("span",{className:`flex items-center justify-center w-8 h-8 rounded-lg ${d} shrink-0`,children:s}),l]}),a.jsx("ul",{className:"space-y-3",children:r.map((x,p)=>a.jsxs("li",{className:"flex items-start gap-2.5",children:[t?a.jsx("span",{className:"text-rose-500/60 mt-0.5 shrink-0",children:""}):a.jsx(Bl,{size:16,className:"text-emerald-500 mt-0.5 shrink-0"}),a.jsx("span",{className:"text-sm text-slate-300 leading-relaxed",children:x})]},p))})]})}function E3(){return a.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f]",children:[a.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Dashboard"}),a.jsx("div",{className:"flex gap-1.5",children:["Everyone","Jagadeesh","Priya","Arjun"].map((s,l)=>a.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full font-medium ${l===0?"bg-violet-500/20 text-violet-300":"text-slate-600"}`,children:s},s))})]}),a.jsxs("div",{className:"grid grid-cols-3 divide-x divide-white/[0.04]",children:[a.jsx(Nf,{l:"Net Worth",v:"45.2L",lc:"text-violet-400",vc:"text-white"}),a.jsx(Nf,{l:"Invested",v:"38.7L",lc:"text-slate-500",vc:"text-slate-300"}),a.jsx(Nf,{l:"P&L",v:"+6.5L",lc:"text-slate-500",vc:"text-emerald-400",extra:"+16.8%"})]}),a.jsxs("div",{className:"border-t border-white/[0.04]",children:[a.jsx(jf,{n:"Axis Bluechip Fund",alloc:"30% / 25%",cur:"6.2L",pl:"+24.0%",ath:"5.2%",athC:"text-[#e67e00]",up:!0}),a.jsx(jf,{n:"Parag Parikh Flexi Cap",alloc:"35% / 40%",cur:"4.8L",pl:"+37.1%",ath:"At ATH",athC:"text-emerald-500",up:!0}),a.jsx(jf,{n:"SBI Small Cap Fund",alloc:"20% / 15%",cur:"1.8L",pl:"-10.0%",ath:"18.3%",athC:"text-[#d84315]",last:!0})]})]})}function _3(){const s=[{n:"HDFC Mid-Cap Opportunities",nav:"142.35",ath:"168.50",pct:"15.5%",color:"text-[#d84315]",signal:"Good Buy Signal",sigC:"text-[#d84315] bg-[#d84315]/15"},{n:"Axis Small Cap Fund",nav:"38.22",ath:"52.10",pct:"26.6%",color:"text-[#c62828]",signal:"Strong Buy",sigC:"text-[#c62828] bg-[#c62828]/15 font-bold"},{n:"Kotak Emerging Equity",nav:"89.10",ath:"92.40",pct:"3.6%",color:"text-[#b8860b]",signal:"Watch",sigC:"text-[#b8860b] bg-[#b8860b]/15"},{n:"Mirae Asset Large Cap",nav:"105.80",ath:"106.20",pct:"0.4%",color:"text-slate-500",signal:"Near ATH",sigC:"text-slate-500 bg-white/[0.04]"}];return a.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-semibold text-white",children:"Buy Opportunities"}),a.jsx("span",{className:"text-xs text-emerald-400 font-semibold bg-emerald-500/10 px-2.5 py-1 rounded-full",children:"2 signals"})]}),s.map((l,r)=>a.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${r<s.length-1?"border-b border-white/[0.03]":""}`,children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-slate-300 truncate",children:l.n}),a.jsxs("p",{className:"text-xs text-slate-600 mt-0.5",children:["NAV ","",l.nav,"  ATH ","",l.ath]})]}),a.jsxs("div",{className:"text-right shrink-0 ml-3",children:[a.jsxs("p",{className:`text-base font-bold tabular-nums ${l.color}`,children:[a.jsx(TS,{size:13,className:"inline -mt-0.5"})," ",l.pct]}),a.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded ${l.sigC}`,children:l.signal})]})]},r))]})}function O3(){const[s,l]=w.useState(0),r=["SIP Adjust","Lumpsum","Buy / Sell"],t=["New SIP","Lumpsum Top-up","Action"],u=[[{n:"Axis Bluechip",val:"SIP 6,000",cur:"30%",tgt:"25%",action:"Stop SIP",actionC:"text-amber-400"},{n:"Parag Parikh Flexi",val:"SIP 7,000",cur:"35%",tgt:"40%",action:"12,000/mo",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"SIP 4,000",cur:"20%",tgt:"15%",action:"Stop SIP",actionC:"text-amber-400"},{n:"HDFC Large Cap",val:"SIP 3,000",cur:"15%",tgt:"20%",action:"8,000/mo",actionC:"text-emerald-400"}],[{n:"Axis Bluechip",val:"3,00,000",cur:"30%",tgt:"25%",action:"No action",actionC:"text-slate-600"},{n:"Parag Parikh Flexi",val:"3,50,000",cur:"35%",tgt:"40%",action:"Invest 55,000",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"2,00,000",cur:"20%",tgt:"15%",action:"No action",actionC:"text-slate-600"},{n:"HDFC Large Cap",val:"1,50,000",cur:"15%",tgt:"20%",action:"Invest 45,000",actionC:"text-emerald-400"}],[{n:"Axis Bluechip",val:"3,00,000",cur:"30%",tgt:"25%",action:"Sell 50,000",actionC:"text-rose-400"},{n:"Parag Parikh Flexi",val:"3,50,000",cur:"35%",tgt:"40%",action:"Buy 50,000",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"2,00,000",cur:"20%",tgt:"15%",action:"Sell 50,000",actionC:"text-rose-400"},{n:"HDFC Large Cap",val:"1,50,000",cur:"15%",tgt:"20%",action:"Buy 50,000",actionC:"text-emerald-400"}]][s];return a.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-semibold text-white",children:"Rebalance Portfolio"}),a.jsx("span",{className:"text-xs text-violet-400 font-semibold bg-violet-500/10 px-2.5 py-1 rounded-full",children:"4 off-target"})]}),a.jsx("div",{className:"flex border-b border-white/[0.04]",children:r.map((d,m)=>a.jsx("button",{onClick:()=>l(m),className:`flex-1 text-xs font-semibold py-2.5 text-center cursor-pointer transition-colors ${m===s?"text-violet-400 border-b-2 border-violet-400":"text-slate-600 hover:text-slate-400"}`,children:d},d))}),a.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 border-b border-white/[0.04] bg-[#0a0f1f]/50 flex-wrap",children:[a.jsx("span",{className:"text-xs text-slate-500",children:"Portfolio Value"}),a.jsxs("span",{className:"text-sm text-white font-semibold tabular-nums",children:["","10,00,000"]}),s===0&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-xs text-slate-600",children:"|"}),a.jsx("span",{className:"text-xs text-slate-500",children:"Total SIP"}),a.jsxs("span",{className:"text-sm text-white font-semibold tabular-nums",children:["","20,000"]})]}),s===1&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-xs text-slate-600",children:"|"}),a.jsx("span",{className:"text-xs text-slate-500",children:"Lumpsum"}),a.jsx("input",{type:"text",readOnly:!0,value:"1,00,000",className:"bg-white/[0.04] border border-white/[0.08] rounded-md px-2 py-1 text-sm text-white font-semibold tabular-nums w-24 text-right cursor-default outline-none"})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"grid grid-cols-[1fr_50px_50px_1fr] gap-1 px-4 py-2.5 text-xs text-slate-600 font-semibold border-b border-white/[0.03]",children:[a.jsx("span",{children:"Fund / Value"}),a.jsx("span",{className:"text-center",children:"Current"}),a.jsx("span",{className:"text-center",children:"Target"}),a.jsx("span",{className:"text-right",children:t[s]})]}),u.map((d,m)=>a.jsxs("div",{className:`grid grid-cols-[1fr_50px_50px_1fr] gap-1 px-4 py-2.5 items-center ${m<u.length-1?"border-b border-white/[0.03]":""}`,children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("span",{className:"text-sm text-slate-300 truncate block",children:d.n}),a.jsxs("span",{className:"text-[10px] text-slate-600",children:["",d.val]})]}),a.jsx("span",{className:"text-sm text-center text-slate-400 tabular-nums",children:d.cur}),a.jsx("span",{className:"text-sm text-center text-slate-400 tabular-nums",children:d.tgt}),a.jsx("span",{className:`text-sm text-right font-semibold ${d.actionC}`,children:d.action})]},`${s}-${m}`))]})]})}function R3(){const s=[{n:"Retirement",tgt:"2Cr",cur:"28.5L",pct:14,sip:"45,000",yrs:"18 yrs",status:"On Track",sc:"text-blue-400 bg-blue-500/15",bc:"bg-blue-500"},{n:"Child Education",tgt:"50L",cur:"12.2L",pct:24,sip:"15,000",yrs:"12 yrs",status:"On Track",sc:"text-blue-400 bg-blue-500/15",bc:"bg-blue-500"},{n:"New Car",tgt:"15L",cur:"4.1L",pct:27,sip:"12,000",yrs:"3 yrs",status:"Needs Attention",sc:"text-amber-400 bg-amber-500/15",bc:"bg-amber-500"}];return a.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-semibold text-white",children:"Goals"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-slate-500",children:"2 On Track"}),a.jsx("span",{className:"text-xs text-amber-400",children:"1 Needs Attention"})]})]}),s.map((l,r)=>a.jsxs("div",{className:`px-4 py-3.5 ${r<s.length-1?"border-b border-white/[0.03]":""}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-semibold text-white",children:l.n}),a.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded-full ${l.sc}`,children:l.status})]}),a.jsxs("span",{className:"text-xs text-slate-500",children:["",l.sip,"/mo  ",l.yrs]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex-1 h-2.5 rounded-full bg-white/[0.06] overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${l.bc}`,style:{width:`${l.pct}%`}})}),a.jsxs("span",{className:"text-sm font-semibold text-slate-300 tabular-nums w-10 text-right",children:[l.pct,"%"]})]}),a.jsxs("div",{className:"flex justify-between mt-1.5 text-xs text-slate-600",children:[a.jsxs("span",{children:["",l.cur," of ","",l.tgt]}),a.jsxs("span",{className:"flex items-center gap-1 text-slate-500",children:[a.jsx(mu,{size:10})," 2 portfolios linked"]})]})]},r))]})}function Ib({s=16}){return a.jsxs("svg",{viewBox:"0 0 24 24",width:s,height:s,className:"shrink-0",children:[a.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 01-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z",fill:"#4285F4"}),a.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),a.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),a.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}function Nf({l:s,v:l,lc:r,vc:t,extra:o}){return a.jsxs("div",{className:"py-3.5 text-center",children:[a.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider ${r}`,children:s}),a.jsxs("p",{className:`text-lg font-bold tabular-nums mt-0.5 ${t}`,children:[l,o&&a.jsx("span",{className:"text-sm ml-1 text-emerald-400",children:o})]})]})}function jf({n:s,alloc:l,cur:r,pl:t,ath:o,athC:u,up:d,last:m}){return a.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${m?"":"border-b border-white/[0.03]"}`,children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-300",children:s}),a.jsxs("p",{className:"text-xs text-slate-600",children:["Alloc ",l,"  ",a.jsx("span",{className:u,children:o!=="At ATH"?`${o} below ATH`:o})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-200 tabular-nums",children:r}),a.jsx("p",{className:`text-sm font-semibold tabular-nums ${d?"text-emerald-400":"text-rose-400"}`,children:t})]})]})}function na({c:s,t:l}){const r={violet:"text-violet-400",cyan:"text-cyan-400",amber:"text-amber-400",emerald:"text-emerald-400"};return a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx(Bl,{size:16,className:`${r[s]} shrink-0`}),a.jsx("span",{className:"text-sm text-slate-300",children:l})]})}function zc({num:s,icon:l,color:r,title:t,desc:o}){const u={violet:["text-violet-400","bg-violet-500/10","border-violet-500/20","from-violet-500/20 to-violet-500/5"],emerald:["text-emerald-400","bg-emerald-500/10","border-emerald-500/20","from-emerald-500/20 to-emerald-500/5"],cyan:["text-cyan-400","bg-cyan-500/10","border-cyan-500/20","from-cyan-500/20 to-cyan-500/5"],amber:["text-amber-400","bg-amber-500/10","border-amber-500/20","from-amber-500/20 to-amber-500/5"]},[d,m,x,p]=u[r]||u.violet;return a.jsxs("div",{className:`relative rounded-2xl border ${x} bg-gradient-to-b ${p} p-6 text-center`,children:[a.jsx("span",{className:`inline-flex items-center justify-center w-12 h-12 rounded-xl ${m} ${d} mb-4`,children:l}),a.jsxs("span",{className:`absolute top-4 right-4 text-xs font-bold ${d} opacity-40`,children:["0",s]}),a.jsx("h3",{className:"text-base font-bold text-white mb-2",children:t}),a.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:o})]})}function wf({icon:s,t:l,d:r,bg:t,c:o}){const u={emerald:"text-emerald-400",violet:"text-violet-400",amber:"text-amber-400"};return a.jsxs("div",{className:`flex-1 ${t} px-5 sm:px-8 lg:px-10 py-6 sm:py-8 border-b sm:border-b-0 sm:border-r border-white/[0.04] last:border-0`,children:[a.jsxs("p",{className:"text-base font-bold text-white flex items-center gap-2",children:[a.jsx("span",{className:`${u[o]} shrink-0`,children:s}),l]}),a.jsx("p",{className:"text-sm text-slate-500 mt-1.5 leading-relaxed",children:r})]})}const Lb={violet:["text-violet-400","bg-violet-500/8","border-violet-500/10"],blue:["text-blue-400","bg-blue-500/8","border-blue-500/10"],emerald:["text-emerald-400","bg-emerald-500/8","border-emerald-500/10"],cyan:["text-cyan-400","bg-cyan-500/8","border-cyan-500/10"],rose:["text-rose-400","bg-rose-500/8","border-rose-500/10"],orange:["text-orange-400","bg-orange-500/8","border-orange-500/10"],teal:["text-teal-400","bg-teal-500/8","border-teal-500/10"],red:["text-red-400","bg-red-500/8","border-red-500/10"],yellow:["text-yellow-400","bg-yellow-500/8","border-yellow-500/10"],pink:["text-pink-400","bg-pink-500/8","border-pink-500/10"]};function Yr({icon:s,c:l,t:r,d:t}){const[o,u,d]=Lb[l]||Lb.violet;return a.jsxs("div",{className:`rounded-xl border ${d} ${u} p-5`,children:[a.jsxs("p",{className:"text-base font-bold text-white flex items-center gap-2",children:[a.jsx("span",{className:`${o} shrink-0`,children:s}),r]}),a.jsx("p",{className:"text-sm text-slate-500 mt-1.5 leading-relaxed",children:t})]})}function I3(){const{isAuthenticated:s,loading:l}=Ts();return l?a.jsx(ku,{}):s?a.jsx(ou,{to:"/investments/mutual-funds",replace:!0}):a.jsx(N1,{})}function L3(){const s=en();return a.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-violet-500/15 rounded-2xl flex items-center justify-center mb-4",children:a.jsx(n5,{size:32,className:"text-violet-400"})}),a.jsx("h3",{className:"text-xl font-semibold text-[var(--text-primary)] mb-2",children:"Coming Soon"}),a.jsx("p",{className:"text-[var(--text-muted)] text-sm max-w-sm",children:"This page is under construction. Navigate using the sidebar to explore available sections."}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-3 font-mono",children:s.pathname})]})}const P3=["Savings Account","Current Account","Fixed Deposit (FD)","Recurring Deposit (RD)","NRE Account","NRO Account","Minor Account"].map(s=>({value:s,label:s}));function z3({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o}=$e(),u=!!s,[d,m]=w.useState({accountName:s?.accountName||"",memberId:s?.memberId||"",bankName:s?.bankName||"",accountNumber:s?.accountNumber||"",ifscCode:s?.ifscCode||"",branchName:s?.branchName||"",accountType:s?.accountType||"",status:s?.status||"Active"}),[x,p]=w.useState({}),[v,b]=w.useState(!1);function j(g,N){m(D=>({...D,[g]:N})),p(D=>({...D,[g]:void 0}))}function C(){const g={};return d.accountName.trim()||(g.accountName="Required"),d.memberId||(g.memberId="Required"),d.bankName.trim()||(g.bankName="Required"),String(d.accountNumber||"").trim()||(g.accountNumber="Required"),d.ifscCode.trim()||(g.ifscCode="Required"),d.branchName.trim()||(g.branchName="Required"),d.accountType||(g.accountType="Required"),p(g),Object.keys(g).length===0}async function M(){if(C()){b(!0);try{await l({...d,ifscCode:d.ifscCode.toUpperCase()})}finally{b(!1)}}}const S=o.map(g=>({value:g.memberId,label:`${g.memberName} (${g.relationship})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Account Name",required:!0,error:x.accountName,children:a.jsx(pe,{value:d.accountName,onChange:g=>j("accountName",g),placeholder:"e.g., HDFC Savings"})}),a.jsx(te,{label:"Family Member",required:!0,error:x.memberId,children:a.jsx(Re,{value:d.memberId,onChange:g=>j("memberId",g),options:S,placeholder:"Select member..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Bank Name",required:!0,error:x.bankName,children:a.jsx(pe,{value:d.bankName,onChange:g=>j("bankName",g),placeholder:"e.g., HDFC Bank"})}),a.jsx(te,{label:"Account Type",required:!0,error:x.accountType,children:a.jsx(Re,{value:d.accountType,onChange:g=>j("accountType",g),options:P3,placeholder:"Select type..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Account Number",required:!0,error:x.accountNumber,children:a.jsx(pe,{sensitive:!0,value:d.accountNumber,onChange:g=>j("accountNumber",g),placeholder:"e.g., 1234567890"})}),a.jsx(te,{label:"IFSC Code",required:!0,error:x.ifscCode,children:a.jsx(pe,{value:d.ifscCode,onChange:g=>j("ifscCode",g.toUpperCase()),placeholder:"e.g., HDFC0001234",maxLength:11})})]}),a.jsx(te,{label:"Branch Name",required:!0,error:x.branchName,children:a.jsx(pe,{value:d.branchName,onChange:g=>j("branchName",g),placeholder:"e.g., Hyderabad - Kondapur"})}),u&&a.jsx(te,{label:"Status",children:a.jsx(Re,{value:d.status,onChange:g=>j("status",g),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[u&&r?a.jsx(fr,{onClick:r}):a.jsx("div",{}),a.jsx(da,{onCancel:t,onSubmit:M,submitLabel:u?"Update":"Add Account",loading:v})]})]})}function pr({title:s="Loading"}){return a.jsxs("div",{className:"flex flex-col items-center justify-center py-32 gap-3",children:[a.jsx("span",{className:"w-7 h-7 border-[2.5px] border-violet-400/30 border-t-violet-400 rounded-full animate-spin"}),a.jsxs("span",{className:"text-sm font-semibold text-[var(--text-primary)]",children:[s,"..."]})]})}const Pb={"Savings Account":"bg-blue-500/15 text-[var(--accent-blue)]",Savings:"bg-blue-500/15 text-[var(--accent-blue)]",Salary:"bg-emerald-500/15 text-emerald-400","Current Account":"bg-violet-500/15 text-[var(--accent-violet)]","Fixed Deposit":"bg-amber-500/15 text-[var(--accent-amber)]","Fixed Deposit (FD)":"bg-amber-500/15 text-[var(--accent-amber)]"};function zb(){const{selectedMember:s,member:l}=Jt(),{banks:r,addBankAccount:t,updateBankAccount:o,deleteBankAccount:u}=$e(),{showToast:d,showBlockUI:m,hideBlockUI:x}=In(),{mv:p}=Ln(),[v,b]=w.useState(null);if(r===null)return a.jsx(pr,{title:"Loading bank accounts",cards:3});const j=w.useMemo(()=>{const N=r.filter(D=>D.status!=="Inactive");return s==="all"?N:N.filter(D=>D.memberId===s)},[r,s]),C=w.useMemo(()=>new Set(j.map(N=>N.bankName)).size,[j]),M=w.useMemo(()=>j.filter(N=>N.accountType==="Savings"||N.accountType==="Savings Account"||N.accountType==="Salary").length,[j]);async function S(N){m("Saving...");try{v?.edit?await o(v.edit.accountId,N):await t(N),d(v?.edit?"Bank account updated":"Bank account added"),b(null)}catch(D){d(D.message||"Failed to save bank account","error")}finally{x()}}async function g(){if(v?.edit&&confirm("Deactivate this bank account?")){m("Deactivating...");try{await u(v.edit.accountId),d("Bank account deactivated"),b(null)}catch(N){d(N.message||"Failed to deactivate bank account","error")}finally{x()}}}return a.jsxs("div",{className:"space-y-4",children:[j.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(jy,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No bank accounts",l?` for ${l.memberName}`:""]}),a.jsx("button",{onClick:()=>b("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first bank account"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsx(Sf,{label:"Total Accounts",value:j.length}),a.jsx(Sf,{label:"Banks",value:C}),a.jsx(Sf,{label:"Savings / Salary",value:M})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>b("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Gt,{size:14})," Add Account"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[580px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Bank"}),!l&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account No."}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Branch"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:j.map(N=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-4",children:a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:N.accountName})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:N.bankName}),!l&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:N.memberName}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Pb[N.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:N.accountType})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:p(N.accountNumber,"account")}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-dim)]",children:N.branchName}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>b({edit:N}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(hn,{size:12})})})]},N.accountId))})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:j.map(N=>a.jsxs("div",{onClick:()=>b({edit:N}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:N.accountName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Pb[N.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:N.accountType})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[N.bankName,l?"":`  ${N.memberName}`]}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:p(N.accountNumber,"account")}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:N.branchName})]})]},N.accountId))})]})]}),a.jsx(_t,{open:!!v,onClose:()=>b(null),title:v?.edit?"Edit Bank Account":"Add Bank Account",children:a.jsx(z3,{initial:v?.edit||void 0,onSave:S,onDelete:v?.edit?g:void 0,onCancel:()=>b(null)})})]})}function Sf({label:s,value:l}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:l})]})}const F3=["Demat + Trading","Mutual Fund","Trading","Direct AMC","Broker"].map(s=>({value:s,label:s}));function B3({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o,activeBanks:u}=$e(),d=!!s,[m,x]=w.useState({accountName:s?.accountName||"",memberId:s?.memberId||"",bankAccountId:s?.bankAccountId||"",accountType:s?.accountType||"",platformBroker:s?.platformBroker||"",accountClientId:s?.accountClientId||"",dematDpId:s?.dematDpId||"",registeredEmail:s?.registeredEmail||"",registeredPhone:s?.registeredPhone||"",status:s?.status||"Active"}),[p,v]=w.useState({}),[b,j]=w.useState(!1);function C(y,E){x(_=>({..._,[y]:E})),v(_=>({..._,[y]:void 0}))}function M(y){x(E=>({...E,memberId:y,bankAccountId:""})),v(E=>({...E,memberId:void 0}))}function S(){const y={};return m.accountName.trim()||(y.accountName="Required"),m.memberId||(y.memberId="Required"),m.bankAccountId||(y.bankAccountId="Required"),m.accountType||(y.accountType="Required"),m.platformBroker.trim()||(y.platformBroker="Required"),m.registeredEmail.trim()||(y.registeredEmail="Required"),m.registeredPhone.trim()||(y.registeredPhone="Required"),v(y),Object.keys(y).length===0}async function g(){if(S()){j(!0);try{await l(m)}finally{j(!1)}}}const N=o.map(y=>({value:y.memberId,label:`${y.memberName} (${y.relationship})`})),D=w.useMemo(()=>m.memberId?u.filter(y=>y.memberId===m.memberId).map(y=>({value:y.accountId,label:`${y.accountName} - ${y.bankName}`})):[],[u,m.memberId]);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Account Name",required:!0,error:p.accountName,children:a.jsx(pe,{value:m.accountName,onChange:y=>C("accountName",y),placeholder:"e.g., Zerodha Demat"})}),a.jsx(te,{label:"Family Member",required:!0,error:p.memberId,children:a.jsx(Re,{value:m.memberId,onChange:M,options:N,placeholder:"Select member..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Linked Bank Account",required:!0,error:p.bankAccountId,children:a.jsx(Re,{value:m.bankAccountId,onChange:y=>C("bankAccountId",y),options:D,placeholder:m.memberId?D.length?"Select bank account...":"No bank accounts for this member":"Select member first..."})}),a.jsx(te,{label:"Account Type",required:!0,error:p.accountType,children:a.jsx(Re,{value:m.accountType,onChange:y=>C("accountType",y),options:F3,placeholder:"Select type..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Platform / Broker",required:!0,error:p.platformBroker,children:a.jsx(pe,{value:m.platformBroker,onChange:y=>C("platformBroker",y),placeholder:"e.g., Zerodha, Groww"})}),a.jsx(te,{label:"Account / Client ID",error:p.accountClientId,children:a.jsx(pe,{sensitive:!0,value:m.accountClientId,onChange:y=>C("accountClientId",y),placeholder:"e.g., ZR1234 (optional)"})})]}),a.jsx(te,{label:"Demat DP ID",error:p.dematDpId,children:a.jsx(pe,{sensitive:!0,value:m.dematDpId,onChange:y=>C("dematDpId",y),placeholder:"16-digit DP ID (optional)",maxLength:16})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Registered Email",required:!0,error:p.registeredEmail,children:a.jsx(pe,{sensitive:!0,type:"email",value:m.registeredEmail,onChange:y=>C("registeredEmail",y),placeholder:"email@example.com"})}),a.jsx(te,{label:"Registered Phone",required:!0,error:p.registeredPhone,children:a.jsx(pe,{sensitive:!0,value:m.registeredPhone,onChange:y=>C("registeredPhone",y),placeholder:"9876543210"})})]}),d&&a.jsx(te,{label:"Status",children:a.jsx(Re,{value:m.status,onChange:y=>C("status",y),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[d&&r?a.jsx(fr,{onClick:r}):a.jsx("div",{}),a.jsx(da,{onCancel:t,onSubmit:g,submitLabel:d?"Update":"Add Account",loading:b})]})]})}const Fb={"Demat + Trading":"bg-violet-500/15 text-[var(--accent-violet)]","Mutual Fund":"bg-blue-500/15 text-[var(--accent-blue)]",Trading:"bg-orange-500/15 text-[var(--accent-orange)]",Demat:"bg-amber-500/15 text-[var(--accent-amber)]","Direct AMC":"bg-emerald-500/15 text-emerald-400",Broker:"bg-rose-500/15 text-[var(--accent-rose)]"};function H3(){const{selectedMember:s,member:l}=Jt(),{investmentAccounts:r,addInvestmentAccount:t,updateInvestmentAccount:o,deleteInvestmentAccount:u}=$e(),{showToast:d,showBlockUI:m,hideBlockUI:x}=In(),{mv:p}=Ln(),[v,b]=w.useState(null);if(r===null)return a.jsx(pr,{title:"Loading investment accounts",cards:4});const j=w.useMemo(()=>{const D=r.filter(y=>y.status!=="Inactive");return s==="all"?D:D.filter(y=>y.memberId===s)},[r,s]),C=w.useMemo(()=>new Set(j.map(D=>D.platformBroker)).size,[j]),M=j.filter(D=>D.accountType==="Demat + Trading"||D.accountType==="Demat"||D.accountType==="Trading").length,S=j.filter(D=>D.accountType==="Mutual Fund"||D.accountType==="Direct AMC").length;async function g(D){m("Saving...");try{v?.edit?await o(v.edit.accountId,D):await t(D),d(v?.edit?"Investment account updated":"Investment account added"),b(null)}catch(y){d(y.message||"Failed to save investment account","error")}finally{x()}}async function N(){if(v?.edit&&confirm("Deactivate this investment account?")){m("Deactivating...");try{await u(v.edit.accountId),d("Investment account deactivated"),b(null)}catch(D){d(D.message||"Failed to deactivate investment account","error")}finally{x()}}}return a.jsxs("div",{className:"space-y-4",children:[j.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(xy,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No investment accounts",l?` for ${l.memberName}`:""]}),a.jsx("button",{onClick:()=>b("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first investment account"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(Fc,{label:"Total Accounts",value:j.length}),a.jsx(Fc,{label:"Platforms",value:C}),a.jsx(Fc,{label:"Demat / Trading",value:M}),a.jsx(Fc,{label:"Mutual Fund",value:S})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>b("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Gt,{size:14})," Add Account"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[620px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Platform"}),!l&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Client ID"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Bank"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:j.map(D=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-4",children:a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:D.accountName})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:D.platformBroker}),!l&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:D.memberName}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Fb[D.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:D.accountType})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:p(D.accountClientId,"clientId")}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-dim)]",children:D.bankAccountName}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>b({edit:D}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(hn,{size:12})})})]},D.accountId))})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:j.map(D=>a.jsxs("div",{onClick:()=>b({edit:D}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:D.accountName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Fb[D.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:D.accountType})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[D.platformBroker,l?"":`  ${D.memberName}`]}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Client: ",p(D.accountClientId,"clientId")]}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:D.bankAccountName})]})]},D.accountId))})]})]}),a.jsx(_t,{open:!!v,onClose:()=>b(null),title:v?.edit?"Edit Investment Account":"Add Investment Account",wide:!0,children:a.jsx(B3,{initial:v?.edit||void 0,onSave:g,onDelete:v?.edit?N:void 0,onCancel:()=>b(null)})})]})}function Fc({label:s,value:l}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:l})]})}const Y3=["Term Life","Health","Motor","Home Insurance","Travel","Personal Accident","Life Insurance","Others"].map(s=>({value:s,label:s})),U3=[{value:"Active",label:"Active"},{value:"Expired",label:"Expired"},{value:"Surrendered",label:"Surrendered"},{value:"Lapsed",label:"Lapsed"},{value:"Inactive",label:"Inactive"}];function q3({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o}=$e(),u=!!s,[d,m]=w.useState({policyType:s?.policyType||"",company:s?.company||"",policyNumber:s?.policyNumber||"",policyName:s?.policyName||"",insuredMember:s?.insuredMember||"",memberId:s?.memberId||"",sumAssured:s?.sumAssured||"",nominee:s?.nominee||"",premium:s?.premium||"",premiumFrequency:s?.premiumFrequency||"Annual",status:s?.status||"Active",notes:s?.notes||""}),[x,p]=w.useState({}),[v,b]=w.useState(!1);function j(N,D){m(y=>({...y,[N]:D})),p(y=>({...y,[N]:void 0}))}function C(N){const D=o.find(y=>y.memberId===N);m(y=>({...y,memberId:N,insuredMember:D?.memberName||""})),p(y=>({...y,memberId:void 0}))}function M(){const N={};return d.policyType||(N.policyType="Required"),d.company.trim()||(N.company="Required"),d.policyNumber.trim()||(N.policyNumber="Required"),d.policyName.trim()||(N.policyName="Required"),d.memberId||(N.memberId="Required"),(!d.sumAssured||Number(d.sumAssured)<=0)&&(N.sumAssured="Must be > 0"),p(N),Object.keys(N).length===0}async function S(){if(M()){b(!0);try{await l({...d,sumAssured:Number(d.sumAssured),premium:Number(d.premium)||0})}finally{b(!1)}}}const g=o.map(N=>({value:N.memberId,label:`${N.memberName} (${N.relationship})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Policy Type",required:!0,error:x.policyType,children:a.jsx(Re,{value:d.policyType,onChange:N=>j("policyType",N),options:Y3,placeholder:"Select type..."})}),a.jsx(te,{label:"Insurance Company",required:!0,error:x.company,children:a.jsx(pe,{value:d.company,onChange:N=>j("company",N),placeholder:"e.g., HDFC Life"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Policy Number",required:!0,error:x.policyNumber,children:a.jsx(pe,{sensitive:!0,value:d.policyNumber,onChange:N=>j("policyNumber",N),placeholder:"e.g., HL-2024-78901"})}),a.jsx(te,{label:"Policy Name",required:!0,error:x.policyName,children:a.jsx(pe,{value:d.policyName,onChange:N=>j("policyName",N),placeholder:"e.g., Click 2 Protect Life"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Insured Member",required:!0,error:x.memberId,children:a.jsx(Re,{value:d.memberId,onChange:C,options:g,placeholder:"Select member..."})}),a.jsx(te,{label:"Nominee",children:a.jsx(Re,{value:d.nominee,onChange:N=>j("nominee",N),options:g.map(N=>({...N,label:N.label.split(" (")[0]})),placeholder:"Select nominee (optional)..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(te,{label:"Sum Assured ()",required:!0,error:x.sumAssured,children:a.jsx(pe,{type:"number",value:d.sumAssured,onChange:N=>j("sumAssured",N),placeholder:"e.g., 10000000"})}),a.jsx(te,{label:"Premium ()",children:a.jsx(pe,{type:"number",value:d.premium,onChange:N=>j("premium",N),placeholder:"e.g., 12500"})}),a.jsx(te,{label:"Premium Frequency",children:a.jsx(Re,{value:d.premiumFrequency,onChange:N=>j("premiumFrequency",N),options:[{value:"Annual",label:"Annual"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"}]})})]}),u&&a.jsx(te,{label:"Status",children:a.jsx(Re,{value:d.status,onChange:N=>j("status",N),options:U3})}),a.jsx(te,{label:"Notes",children:a.jsx(Il,{value:d.notes,onChange:N=>j("notes",N),placeholder:"Additional information..."})}),a.jsxs("div",{className:"flex items-center justify-between",children:[u&&r?a.jsx(fr,{onClick:r}):a.jsx("div",{}),a.jsx(da,{onCancel:t,onSubmit:S,submitLabel:u?"Update":"Add Policy",loading:v})]})]})}const Bb={"Term Life":"bg-rose-500/15 text-[var(--accent-rose)]",Health:"bg-emerald-500/15 text-emerald-400",Motor:"bg-blue-500/15 text-[var(--accent-blue)]","Home Insurance":"bg-amber-500/15 text-[var(--accent-amber)]",Travel:"bg-violet-500/15 text-[var(--accent-violet)]","Life Insurance":"bg-rose-500/15 text-[var(--accent-rose)]","Personal Accident":"bg-orange-500/15 text-[var(--accent-orange)]"};function $3(){const{selectedMember:s,member:l}=Jt(),{insurancePolicies:r,addInsurance:t,updateInsurance:o,deleteInsurance:u}=$e(),{showToast:d,showBlockUI:m,hideBlockUI:x}=In(),{mv:p}=Ln(),[v,b]=w.useState(null);if(r===null)return a.jsx(pr,{title:"Loading insurance",cards:5});const j=w.useMemo(()=>{const y=r.filter(E=>E.status!=="Inactive");return s==="all"?y:y.filter(E=>E.memberId===s)},[r,s]),C=j.reduce((y,E)=>y+(E.sumAssured||0),0),M=j.reduce((y,E)=>y+(E.premium||0),0),S=j.filter(y=>y.policyType==="Term Life"||y.policyType==="Life Insurance").reduce((y,E)=>y+(E.sumAssured||0),0),g=j.filter(y=>y.policyType==="Health").reduce((y,E)=>y+(E.sumAssured||0),0);async function N(y){m("Saving...");try{v?.edit?await o(v.edit.policyId,y):await t(y),d(v?.edit?"Insurance policy updated":"Insurance policy added"),b(null)}catch(E){d(E.message||"Failed to save insurance policy","error")}finally{x()}}async function D(){if(v?.edit&&confirm("Deactivate this insurance policy?")){m("Deactivating...");try{await u(v.edit.policyId),d("Insurance policy deactivated"),b(null)}catch(y){d(y.message||"Failed to deactivate insurance policy","error")}finally{x()}}}return a.jsxs("div",{className:"space-y-4",children:[j.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(Ki,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No insurance policies",l?` for ${l.memberName}`:""]}),a.jsx("button",{onClick:()=>b("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first policy"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[a.jsx(Hi,{label:"Policies",value:j.length}),a.jsx(Hi,{label:"Total Cover",value:Q(C),bold:!0}),a.jsx(Hi,{label:"Life Cover",value:Q(S)}),a.jsx(Hi,{label:"Health Cover",value:Q(g)}),a.jsx(Hi,{label:"Annual Premium",value:Q(M)})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[a.jsx("p",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider mb-3",children:"Coverage Adequacy"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(Hb,{label:"Life Insurance",current:S,recommended:"10-15x annual income",tip:"Term life cover should be 10-15x your annual income to protect dependents",icon:"heart"}),a.jsx(Hb,{label:"Health Insurance",current:g,recommended:"50L - 1Cr family floater",tip:"Considering medical inflation, a 50L-1Cr family floater is recommended",icon:"shield"})]})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>b("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Gt,{size:14})," Add Policy"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Policy"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Company"}),!l&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Insured"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Sum Assured"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Premium"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:j.map(y=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:y.policyName}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:p(y.policyNumber,"policy")})]}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Bb[y.policyType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:y.policyType})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:y.company}),!l&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:y.insuredMember}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(y.sumAssured)}),a.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:[Q(y.premium),"/",y.premiumFrequency==="Annual"?"yr":"mo"]}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>b({edit:y}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(hn,{size:12})})})]},y.policyId))})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:j.map(y=>a.jsxs("div",{onClick:()=>b({edit:y}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:y.policyName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${Bb[y.policyType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:y.policyType})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[y.company,l?"":`  ${y.insuredMember}`]}),a.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Cover"}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(y.sumAssured)})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Premium"}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:[Q(y.premium),"/",y.premiumFrequency==="Annual"?"yr":"mo"]})]})]})]},y.policyId))})]})]}),a.jsx(_t,{open:!!v,onClose:()=>b(null),title:v?.edit?"Edit Insurance Policy":"Add Insurance Policy",wide:!0,children:a.jsx(q3,{initial:v?.edit||void 0,onSave:N,onDelete:v?.edit?D:void 0,onCancel:()=>b(null)})})]})}function Hb({label:s,current:l,recommended:r,tip:t}){const o=l===0;return a.jsxs("div",{className:`rounded-lg border px-3 py-2.5 ${o?"border-rose-500/30 bg-rose-500/5":"border-[var(--border)] bg-[var(--bg-inset)]"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:s}),o?a.jsx("span",{className:"text-xs font-bold text-[var(--accent-rose)]",children:"Not covered"}):a.jsx("span",{className:"text-xs font-semibold text-emerald-400",children:Q(l)})]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Recommended: ",r]}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5 italic",children:t})]})}function Hi({label:s,value:l,bold:r}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:`text-sm tabular-nums ${r?"font-bold":"font-semibold"} text-[var(--text-primary)]`,children:l})]})}const V3=["Home Loan","Car Loan","Personal Loan","Education Loan","Gold Loan","Credit Card","Business Loan","Loan Against Property","Other"].map(s=>({value:s,label:s})),G3=[{value:"Active",label:"Active"},{value:"Closed",label:"Closed"},{value:"Inactive",label:"Inactive"}];function Q3({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o}=$e(),u=!!s,[d,m]=w.useState({liabilityType:s?.liabilityType||"",lenderName:s?.lenderName||"",familyMemberId:s?.familyMemberId||"",outstandingBalance:s?.outstandingBalance||"",emiAmount:s?.emiAmount||"",interestRate:s?.interestRate||"",status:s?.status||"Active",notes:s?.notes||""}),[x,p]=w.useState({}),[v,b]=w.useState(!1);function j(g,N){m(D=>({...D,[g]:N})),p(D=>({...D,[g]:void 0}))}function C(){const g={};return d.liabilityType||(g.liabilityType="Required"),d.lenderName.trim()||(g.lenderName="Required"),(!d.outstandingBalance||Number(d.outstandingBalance)<=0)&&(g.outstandingBalance="Must be > 0"),p(g),Object.keys(g).length===0}async function M(){if(C()){b(!0);try{await l({...d,outstandingBalance:Number(d.outstandingBalance),emiAmount:Number(d.emiAmount)||0,interestRate:Number(d.interestRate)||0})}finally{b(!1)}}}const S=o.map(g=>({value:g.memberId,label:`${g.memberName} (${g.relationship})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Liability Type",required:!0,error:x.liabilityType,children:a.jsx(Re,{value:d.liabilityType,onChange:g=>j("liabilityType",g),options:V3,placeholder:"Select type..."})}),a.jsx(te,{label:"Lender / Bank",required:!0,error:x.lenderName,children:a.jsx(pe,{value:d.lenderName,onChange:g=>j("lenderName",g),placeholder:"e.g., HDFC Bank"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Family Member",children:a.jsx(Re,{value:d.familyMemberId,onChange:g=>j("familyMemberId",g),options:S,placeholder:"Select member (optional)..."})}),a.jsx(te,{label:"Outstanding Balance ()",required:!0,error:x.outstandingBalance,children:a.jsx(pe,{type:"number",value:d.outstandingBalance,onChange:g=>j("outstandingBalance",g),placeholder:"e.g., 3500000"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"EMI Amount ()",children:a.jsx(pe,{type:"number",value:d.emiAmount,onChange:g=>j("emiAmount",g),placeholder:"e.g., 32000"})}),a.jsx(te,{label:"Interest Rate (%)",children:a.jsx(pe,{type:"number",value:d.interestRate,onChange:g=>j("interestRate",g),placeholder:"e.g., 8.5",step:"0.01"})})]}),u&&a.jsx(te,{label:"Status",children:a.jsx(Re,{value:d.status,onChange:g=>j("status",g),options:G3})}),a.jsx(te,{label:"Notes",children:a.jsx(Il,{value:d.notes,onChange:g=>j("notes",g),placeholder:"e.g., Flat in Kondapur"})}),a.jsxs("div",{className:"flex items-center justify-between",children:[u&&r?a.jsx(fr,{onClick:r}):a.jsx("div",{}),a.jsx(da,{onCancel:t,onSubmit:M,submitLabel:u?"Update":"Add Liability",loading:v})]})]})}const Yb={"Home Loan":"bg-blue-500/15 text-[var(--accent-blue)]","Car Loan":"bg-amber-500/15 text-[var(--accent-amber)]","Gold Loan":"bg-orange-500/15 text-[var(--accent-orange)]","Personal Loan":"bg-violet-500/15 text-[var(--accent-violet)]","Education Loan":"bg-emerald-500/15 text-emerald-400","Credit Card":"bg-rose-500/15 text-[var(--accent-rose)]"};function K3(){const{selectedMember:s,member:l}=Jt(),{liabilityList:r,addLiability:t,updateLiability:o,deleteLiability:u}=$e(),{showToast:d,showBlockUI:m,hideBlockUI:x}=In(),[p,v]=w.useState(null);if(r===null)return a.jsx(pr,{title:"Loading liabilities",cards:4});const b=w.useMemo(()=>{const N=r.filter(D=>D.status!=="Inactive");return s==="all"?N:N.filter(D=>D.familyMemberId===s)},[r,s]),j=b.reduce((N,D)=>N+(D.outstandingBalance||0),0),C=b.reduce((N,D)=>N+(D.emiAmount||0),0),M=b.filter(N=>N.status==="Active").length;async function S(N){m("Saving...");try{p?.edit?await o(p.edit.liabilityId,N):await t(N),d(p?.edit?"Liability updated":"Liability added"),v(null)}catch(D){d(D.message||"Failed to save liability","error")}finally{x()}}async function g(){if(p?.edit&&confirm("Deactivate this liability?")){m("Deactivating...");try{await u(p.edit.liabilityId),d("Liability deactivated"),v(null)}catch(N){d(N.message||"Failed to deactivate liability","error")}finally{x()}}}return a.jsxs("div",{className:"space-y-4",children:[b.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(Wi,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No liabilities",l?` for ${l.memberName}`:""]}),a.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add a liability"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(Bc,{label:"Liabilities",value:`${M} active`}),a.jsx(Bc,{label:"Outstanding",value:Q(j),color:"rose",bold:!0}),a.jsx(Bc,{label:"Monthly EMI",value:Q(C),color:"rose"}),a.jsx(Bc,{label:"Avg. Interest",value:b.length>0?`${(b.reduce((N,D)=>N+(D.interestRate||0),0)/b.length).toFixed(1)}%`:""})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Gt,{size:14})," Add Liability"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[640px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Lender"}),!l&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Outstanding"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"EMI"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Interest"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Remaining"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:b.map(N=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Yb[N.liabilityType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:N.liabilityType}),N.notes&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:N.notes})]}),a.jsx("td",{className:"py-2.5 px-3 text-sm font-medium text-[var(--text-primary)]",children:N.lenderName}),!l&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:N.familyMemberName}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:Q(N.outstandingBalance)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:N.emiAmount?`${Q(N.emiAmount)}/mo`:""}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:N.interestRate?`${N.interestRate}%`:""}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:N.emiAmount>0&&N.outstandingBalance>0?`${Math.ceil(N.outstandingBalance/N.emiAmount)} mo`:""}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>v({edit:N}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(hn,{size:12})})})]},N.liabilityId))})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(N=>a.jsxs("div",{onClick:()=>v({edit:N}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Yb[N.liabilityType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:N.liabilityType}),a.jsx("p",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:Q(N.outstandingBalance)})]}),a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:N.lenderName}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[N.familyMemberName,N.notes?`  ${N.notes}`:""]}),a.jsxs("div",{className:"text-right",children:[N.emiAmount>0&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:["EMI: ",Q(N.emiAmount),"/mo"]}),N.emiAmount>0&&N.outstandingBalance>0&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:[Math.ceil(N.outstandingBalance/N.emiAmount)," months left"]})]})]})]},N.liabilityId))})]})]}),a.jsx(_t,{open:!!p,onClose:()=>v(null),title:p?.edit?"Edit Liability":"Add Liability",children:a.jsx(Q3,{initial:p?.edit||void 0,onSave:S,onDelete:p?.edit?g:void 0,onCancel:()=>v(null)})})]})}function Bc({label:s,value:l,color:r,bold:t}){const o=r==="rose"?"text-[var(--accent-rose)]":"text-[var(--text-primary)]";return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:`text-sm tabular-nums ${t?"font-bold":"font-semibold"} ${o}`,children:l})]})}const X3="cf_market_data",j1=[{value:"Fixed Deposit",category:"Debt"},{value:"PPF",category:"Debt"},{value:"EPF",category:"Debt"},{value:"NPS",category:"Debt"},{value:"Sovereign Gold Bond",category:"Gold"},{value:"Physical Gold",category:"Gold"},{value:"Digital Gold",category:"Gold"},{value:"Real Estate",category:"Property"},{value:"Bonds",category:"Debt"},{value:"Physical Silver",category:"Silver"},{value:"Digital Silver",category:"Silver"},{value:"Crypto",category:"Alternative"},{value:"Other",category:"Other"}],Ub={"Real Estate":"Home Loan","Physical Gold":"Gold Loan","Sovereign Gold Bond":"Gold Loan","Fixed Deposit":"Loan Against FD"},W3=j1.map(s=>({value:s.value,label:s.value})),Z3=["Equity","Debt","Gold","Silver","Property","Alternative","Other"].map(s=>({value:s,label:s})),J3=[{value:"Active",label:"Active"},{value:"Sold",label:"Sold"},{value:"Matured",label:"Matured"},{value:"Inactive",label:"Inactive"}],qb=[{value:"24K",label:"24K (99.9%)",factor:.999},{value:"22K",label:"22K (91.6%)",factor:.916},{value:"18K",label:"18K (75.0%)",factor:.75}],$b=[{value:"999",label:"999 Fine (99.9%)",factor:.999},{value:"925",label:"925 Sterling (92.5%)",factor:.925}];function lu(s){return["Physical Gold","Digital Gold","Sovereign Gold Bond"].includes(s)}function eA(s){return["Physical Silver","Digital Silver"].includes(s)||s&&s.toLowerCase().includes("silver")}function Cf(s){return lu(s)||eA(s)}function tA(s){try{const l=sessionStorage.getItem(X3);if(!l)return null;const r=JSON.parse(l);if(!r.metals)return null;const t=s==="gold"?"Gold":"Silver",o=r.metals.find(u=>u.name.toLowerCase().includes(t.toLowerCase()));return o?o.price:null}catch{return null}}function aA({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o,liabilityList:u}=$e(),d=!!s;function m(L){return j1.find(me=>me.value===L)?.category||"Other"}const x=s?.dynamicFields?typeof s.dynamicFields=="string"?JSON.parse(s.dynamicFields):s.dynamicFields:{},[p,v]=w.useState({investmentType:s?.investmentType||"",investmentCategory:s?.investmentCategory||"",investmentName:s?.investmentName||"",familyMemberId:s?.familyMemberId||"",investedAmount:s?.investedAmount||"",currentValue:s?.currentValue||"",linkedLiabilityId:s?.linkedLiabilityId||"",status:s?.status||"Active",notes:s?.notes||""}),[b,j]=w.useState(x.weightGrams||""),[C,M]=w.useState(x.purity||""),[S,g]=w.useState(null),[N,D]=w.useState(!1),[y,E]=w.useState({lenderName:"",outstandingBalance:"",emiAmount:"",interestRate:""});w.useEffect(()=>{if(!Cf(p.investmentType)||!b||Number(b)<=0){g(null);return}const L=lu(p.investmentType)?"gold":"silver",me=tA(L);if(!me){g(null);return}const z=(L==="gold"?qb:$b).find(ue=>ue.value===C),ee=z?z.factor:1;g(Math.round(Number(b)*me*ee))},[p.investmentType,b,C]);const[_,H]=w.useState({}),[$,O]=w.useState(!1);function F(L,me){v(ve=>({...ve,[L]:me})),H(ve=>({...ve,[L]:void 0}))}function I(L){v(me=>({...me,investmentType:L,investmentCategory:m(L)})),H(me=>({...me,investmentType:void 0}))}function G(L,me){E(ve=>({...ve,[L]:me}))}function A(){const L={};return p.investmentType||(L.investmentType="Required"),p.investmentName.trim()||(L.investmentName="Required"),(!p.currentValue||Number(p.currentValue)<0)&&(L.currentValue="Required"),N&&(y.lenderName.trim()||(L.qlLender="Required"),(!y.outstandingBalance||Number(y.outstandingBalance)<=0)&&(L.qlOutstanding="Must be > 0")),H(L),Object.keys(L).length===0}async function re(){if(!A())return;const L={...p,investedAmount:Number(p.investedAmount)||0,currentValue:Number(p.currentValue)||0};Cf(p.investmentType)&&(L.dynamicFields=JSON.stringify({weightGrams:Number(b)||0,purity:C||""})),N&&y.lenderName&&(L.quickLoan={liabilityType:Ub[p.investmentType]||"Personal Loan",lenderName:y.lenderName,outstandingBalance:Number(y.outstandingBalance)||0,emiAmount:Number(y.emiAmount)||0,interestRate:Number(y.interestRate)||0}),O(!0);try{await l(L)}finally{O(!1)}}const U=u.filter(L=>L.status!=="Inactive"),Z=[{value:"",label:"None"},...U.map(L=>({value:L.liabilityId,label:`${L.liabilityType}  ${L.lenderName} (${Q(L.outstandingBalance)})`}))],B=o.map(L=>({value:L.memberId,label:`${L.memberName} (${L.relationship})`})),R=Ub[p.investmentType];return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Investment Type",required:!0,error:_.investmentType,children:a.jsx(Re,{value:p.investmentType,onChange:I,options:W3,placeholder:"Select type..."})}),a.jsx(te,{label:"Category",children:a.jsx(Re,{value:p.investmentCategory,onChange:L=>F("investmentCategory",L),options:Z3,placeholder:"Auto-selected..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Investment Name",required:!0,error:_.investmentName,children:a.jsx(pe,{value:p.investmentName,onChange:L=>F("investmentName",L),placeholder:"e.g., HDFC FD - 7.5%"})}),a.jsx(te,{label:"Family Member",children:a.jsx(Re,{value:p.familyMemberId,onChange:L=>F("familyMemberId",L),options:B,placeholder:"Select member (optional)..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Invested Amount",children:a.jsx(pe,{type:"number",value:p.investedAmount,onChange:L=>F("investedAmount",L),placeholder:"e.g., 500000"})}),a.jsx(te,{label:"Current Value",required:!0,error:_.currentValue,children:a.jsx(pe,{type:"number",value:p.currentValue,onChange:L=>F("currentValue",L),placeholder:"e.g., 537500"})})]}),Cf(p.investmentType)&&a.jsxs("div",{className:"p-3 bg-[var(--bg-inset)] rounded-lg space-y-3",children:[a.jsxs("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider",children:[lu(p.investmentType)?"Gold":"Silver"," Details"]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(te,{label:"Weight (grams)",children:a.jsx(pe,{type:"number",value:b,onChange:j,placeholder:"e.g., 50"})}),a.jsx(te,{label:"Purity",children:a.jsx(Re,{value:C,onChange:M,options:(lu(p.investmentType)?qb:$b).map(L=>({value:L.value,label:L.label})),placeholder:"Select purity..."})})]}),S!==null&&a.jsxs("div",{className:"flex items-center justify-between bg-[var(--bg-card)] rounded-lg px-3 py-2 border border-[var(--border)]",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Estimated market value"}),a.jsx("p",{className:"text-sm font-bold text-emerald-400 tabular-nums",children:Q(S)})]}),a.jsx("button",{type:"button",onClick:()=>F("currentValue",String(S)),className:"text-xs font-semibold text-violet-400 hover:text-violet-300 px-3 py-1.5 rounded-lg bg-violet-500/10 border border-violet-500/20 transition-colors",children:"Use this value"})]})]}),a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-4",children:[a.jsx(te,{label:"Linked Loan / Liability",children:a.jsx(Re,{value:p.linkedLiabilityId,onChange:L=>{F("linkedLiabilityId",L),L&&D(!1)},options:Z})}),!p.linkedLiabilityId&&!d&&a.jsx("div",{className:"mt-2",children:a.jsx("button",{type:"button",onClick:()=>D(!N),className:"text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:N?" Cancel quick loan":`+ Create new loan${R?` (${R})`:""}`})}),N&&a.jsxs("div",{className:"mt-3 p-3 bg-[var(--bg-inset)] rounded-lg space-y-3",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider",children:"Quick Loan"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(te,{label:"Lender",required:!0,error:_.qlLender,children:a.jsx(pe,{value:y.lenderName,onChange:L=>G("lenderName",L),placeholder:"e.g., HDFC Bank"})}),a.jsx(te,{label:"Outstanding Balance",required:!0,error:_.qlOutstanding,children:a.jsx(pe,{type:"number",value:y.outstandingBalance,onChange:L=>G("outstandingBalance",L),placeholder:"e.g., 3500000"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(te,{label:"EMI (monthly)",children:a.jsx(pe,{type:"number",value:y.emiAmount,onChange:L=>G("emiAmount",L),placeholder:"e.g., 32000"})}),a.jsx(te,{label:"Interest Rate %",children:a.jsx(pe,{type:"number",value:y.interestRate,onChange:L=>G("interestRate",L),placeholder:"e.g., 8.5"})})]})]})]}),d&&a.jsx(te,{label:"Status",children:a.jsx(Re,{value:p.status,onChange:L=>F("status",L),options:J3})}),a.jsx(te,{label:"Notes",children:a.jsx(Il,{value:p.notes,onChange:L=>F("notes",L),placeholder:"Additional information..."})}),a.jsxs("div",{className:"flex items-center justify-between",children:[d&&r?a.jsx(fr,{onClick:r}):a.jsx("div",{}),a.jsx(da,{onCancel:t,onSubmit:re,submitLabel:d?"Update":"Add Investment",loading:$})]})]})}const Vb={Debt:"bg-blue-500/15 text-[var(--accent-blue)]",Gold:"bg-amber-500/15 text-[var(--accent-amber)]",Property:"bg-orange-500/15 text-[var(--accent-orange)]",Equity:"bg-emerald-500/15 text-emerald-400",Alternative:"bg-violet-500/15 text-[var(--accent-violet)]"};function nA(){const{selectedMember:s,member:l}=Jt(),{otherInvList:r,liabilityList:t,addOtherInvestment:o,updateOtherInvestment:u,deleteOtherInvestment:d}=$e(),{showToast:m,showBlockUI:x,hideBlockUI:p}=In(),[v,b]=w.useState(null);if(r===null)return a.jsx(pr,{title:"Loading investments",cards:5});const j=w.useMemo(()=>{const H=r.filter($=>$.status!=="Inactive");return s==="all"?H:H.filter($=>$.familyMemberId===s)},[r,s]),C=j.reduce((H,$)=>H+($.investedAmount||0),0),M=j.reduce((H,$)=>H+($.currentValue||0),0),S=M-C,g=S>=0,N=C>0?S/C*100:0,D=w.useMemo(()=>{const H={};return t.forEach($=>{H[$.liabilityId]=$}),H},[t]),y=j.reduce((H,$)=>{const O=$.linkedLiabilityId?D[$.linkedLiabilityId]:null;return H+(O?.outstandingBalance||0)},0);async function E(H){x("Saving...");try{v?.edit?await u(v.edit.investmentId,H):await o(H),m(v?.edit?"Investment updated":"Investment added"),b(null)}catch($){m($.message||"Failed to save investment","error")}finally{p()}}async function _(){if(v?.edit&&confirm("Deactivate this investment?")){x("Deactivating...");try{await d(v.edit.investmentId),m("Investment deactivated"),b(null)}catch(H){m(H.message||"Failed to deactivate investment","error")}finally{p()}}}return a.jsxs("div",{className:"space-y-4",children:[j.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(Dy,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No other investments",l?` for ${l.memberName}`:""]}),a.jsx("button",{onClick:()=>b("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add an investment"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[a.jsx(Yi,{label:"Invested",value:Q(C)}),a.jsx(Yi,{label:"Current Value",value:Q(M),bold:!0}),a.jsx(Yi,{label:"P&L",value:`${g?"+":""}${Q(Math.abs(S))}`,sub:`${g?"+":""}${N.toFixed(1)}%`,positive:g,bold:!0}),y>0&&a.jsx(Yi,{label:"Linked Loans",value:Q(y),color:"rose"}),a.jsx(Yi,{label:"Holdings",value:j.length})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>b("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Gt,{size:14})," Add Investment"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[720px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Investment"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Category"}),!l&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Invested"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Loan"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:j.map(H=>{const $=(H.currentValue||0)-(H.investedAmount||0),O=$>=0,F=H.linkedLiabilityId?D[H.linkedLiabilityId]:null;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:H.investmentName}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:H.investmentType})]}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Vb[H.investmentCategory]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:H.investmentCategory})}),!l&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:H.familyMemberName}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:Q(H.investedAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(H.currentValue)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${O?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[O?"+":"",Q($)]})}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:F?a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:Q(F.outstandingBalance)}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:F.liabilityType})]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>b({edit:H}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(hn,{size:12})})})]},H.investmentId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:j.map(H=>{const $=(H.currentValue||0)-(H.investedAmount||0),O=$>=0,F=H.linkedLiabilityId?D[H.linkedLiabilityId]:null;return a.jsxs("div",{onClick:()=>b({edit:H}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:H.investmentName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${Vb[H.investmentCategory]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:H.investmentCategory})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[H.familyMemberName,"  ",H.investmentType]}),a.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Invested"}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:Q(H.investedAmount)})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Current"}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(H.currentValue)})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"P&L"}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${O?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[O?"+":"",Q($)]})]})]}),F&&a.jsxs("div",{className:"mt-1.5 flex items-center justify-between bg-rose-500/5 rounded px-2 py-1",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:F.liabilityType}),a.jsx("span",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:Q(F.outstandingBalance)})]})]},H.investmentId)})})]})]}),a.jsx(_t,{open:!!v,onClose:()=>b(null),title:v?.edit?"Edit Investment":"Add Investment",wide:!0,children:a.jsx(aA,{initial:v?.edit||void 0,onSave:E,onDelete:v?.edit?_:void 0,onCancel:()=>b(null)})})]})}function Yi({label:s,value:l,sub:r,positive:t,bold:o,color:u}){const d=u==="rose"?"text-[var(--accent-rose)]":t===void 0?"text-[var(--text-primary)]":t?"text-emerald-400":"text-[var(--accent-rose)]";return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:`text-sm tabular-nums ${o?"font-bold":"font-semibold"} ${d}`,children:l}),r&&a.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${t?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}function rA({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o,activeInvestmentAccounts:u}=$e(),d=!!s,[m,x]=w.useState({portfolioName:(s?.portfolioName||"").replace(/^PFL-/,""),investmentAccountId:s?.investmentAccountId||"",ownerId:s?.ownerId||"",initialInvestment:s?.initialInvestment||0,sipTarget:s?.sipTarget||"",lumpsumTarget:s?.lumpsumTarget||"",rebalanceThreshold:s?s.rebalanceThreshold*100:5}),[p,v]=w.useState({}),[b,j]=w.useState(!1),[C,M]=w.useState(!1);function S(_,H){x($=>({...$,[_]:H})),v($=>({...$,[_]:void 0}))}function g(_){x(H=>({...H,ownerId:_,investmentAccountId:""})),v(H=>({...H,ownerId:void 0}))}const N=u.filter(_=>m.ownerId?_.memberId===m.ownerId:!0).map(_=>({value:_.accountId,label:`${_.accountName} - ${_.platformBroker}`})),D=o.map(_=>({value:_.memberId,label:`${_.memberName} (${_.relationship})`}));function y(){const _={};return m.portfolioName.trim()||(_.portfolioName="Required"),m.ownerId||(_.ownerId="Required"),m.investmentAccountId||(_.investmentAccountId="Required"),v(_),Object.keys(_).length===0}async function E(){if(y()){j(!0);try{const _=u.find($=>$.accountId===m.investmentAccountId),H=_?`${_.accountName} - ${_.platformBroker}`:m.investmentAccountId;await l({...m,investmentAccount:H,initialInvestment:Number(m.initialInvestment)||0,sipTarget:Number(m.sipTarget)||0,lumpsumTarget:Number(m.lumpsumTarget)||0,rebalanceThreshold:Number(m.rebalanceThreshold)})}finally{j(!1)}}}return a.jsxs("div",{className:"space-y-5",children:[a.jsx(te,{label:"Portfolio Name",required:!0,error:p.portfolioName,children:a.jsx(pe,{value:m.portfolioName,onChange:_=>S("portfolioName",_),placeholder:"e.g., Long Term Wealth"})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Owner",required:!0,error:p.ownerId,children:a.jsx(Re,{value:m.ownerId,onChange:g,options:D,placeholder:"Select member..."})}),a.jsx(te,{label:"Investment Account",required:!0,error:p.investmentAccountId,children:a.jsx(Re,{value:m.investmentAccountId,onChange:_=>S("investmentAccountId",_),options:N,placeholder:m.ownerId?N.length?"Select account...":"No MF accounts":"Select owner first..."})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(te,{label:"SIP Target (/month)",children:a.jsx(pe,{type:"number",value:m.sipTarget,onChange:_=>S("sipTarget",_),placeholder:"e.g., 50000"})}),a.jsx(te,{label:"Lumpsum Target ()",children:a.jsx(pe,{type:"number",value:m.lumpsumTarget,onChange:_=>S("lumpsumTarget",_),placeholder:"e.g., 200000"})})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-xs font-semibold text-[var(--text-muted)] whitespace-nowrap",children:"Rebalance Threshold"}),a.jsx("div",{className:"w-20 shrink-0",children:a.jsx("input",{type:"number",value:m.rebalanceThreshold,onChange:_=>S("rebalanceThreshold",_.target.value),placeholder:"5",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})}),a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"%"})]}),!d&&a.jsx(te,{label:"Initial Investment ()",children:a.jsx(pe,{type:"number",value:m.initialInvestment,onChange:_=>S("initialInvestment",_),placeholder:"0 if unknown"})}),d&&r&&C&&a.jsxs("div",{className:"flex items-center gap-3 px-3 py-2.5 bg-rose-500/10 border border-rose-500/20 rounded-lg",children:[a.jsx(kl,{size:15,className:"text-rose-400 shrink-0"}),a.jsx("p",{className:"text-xs text-rose-300/90 flex-1",children:"This will deactivate the portfolio and hide it from views. Are you sure?"}),a.jsxs("div",{className:"flex gap-2 shrink-0",children:[a.jsx("button",{onClick:()=>M(!1),className:"px-2.5 py-1 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded transition-colors",children:"No"}),a.jsx("button",{onClick:r,className:"px-2.5 py-1 text-xs font-semibold text-white bg-rose-600 hover:bg-rose-500 rounded transition-colors",children:"Yes, Deactivate"})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 mt-4 border-t border-[var(--border-light)]",children:[d&&r?a.jsxs("button",{onClick:()=>M(!0),disabled:b,className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-amber-400 border border-amber-500/30 hover:bg-amber-500/15 hover:border-amber-500/50 rounded-lg transition-colors disabled:opacity-40",children:[a.jsx(kl,{size:13}),"Deactivate"]}):a.jsx("div",{}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:t,disabled:b,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),a.jsxs("button",{onClick:E,disabled:b,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 flex items-center gap-1.5",children:[b&&a.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),b?"Saving...":d?"Update":"Create Portfolio"]})]})]})]})}function dr(s){return Array.isArray?Array.isArray(s):C1(s)==="[object Array]"}function sA(s){if(typeof s=="string")return s;let l=s+"";return l=="0"&&1/s==-1/0?"-0":l}function lA(s){return s==null?"":sA(s)}function En(s){return typeof s=="string"}function w1(s){return typeof s=="number"}function iA(s){return s===!0||s===!1||oA(s)&&C1(s)=="[object Boolean]"}function S1(s){return typeof s=="object"}function oA(s){return S1(s)&&s!==null}function Pa(s){return s!=null}function kf(s){return!s.trim().length}function C1(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}const cA="Incorrect 'index' type",uA=s=>`Invalid value for key ${s}`,dA=s=>`Pattern length exceeds max of ${s}.`,mA=s=>`Missing ${s} property in key`,fA=s=>`Property 'weight' in key '${s}' must be a positive integer`,Gb=Object.prototype.hasOwnProperty;class pA{constructor(l){this._keys=[],this._keyMap={};let r=0;l.forEach(t=>{let o=k1(t);this._keys.push(o),this._keyMap[o.id]=o,r+=o.weight}),this._keys.forEach(t=>{t.weight/=r})}get(l){return this._keyMap[l]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function k1(s){let l=null,r=null,t=null,o=1,u=null;if(En(s)||dr(s))t=s,l=Qb(s),r=Ff(s);else{if(!Gb.call(s,"name"))throw new Error(mA("name"));const d=s.name;if(t=d,Gb.call(s,"weight")&&(o=s.weight,o<=0))throw new Error(fA(d));l=Qb(d),r=Ff(d),u=s.getFn}return{path:l,id:r,weight:o,src:t,getFn:u}}function Qb(s){return dr(s)?s:s.split(".")}function Ff(s){return dr(s)?s.join("."):s}function xA(s,l){let r=[],t=!1;const o=(u,d,m)=>{if(Pa(u))if(!d[m])r.push(u);else{let x=d[m];const p=u[x];if(!Pa(p))return;if(m===d.length-1&&(En(p)||w1(p)||iA(p)))r.push(lA(p));else if(dr(p)){t=!0;for(let v=0,b=p.length;v<b;v+=1)o(p[v],d,m+1)}else d.length&&o(p,d,m+1)}};return o(s,En(l)?l.split("."):l,0),t?r:r[0]}const hA={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},vA={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(s,l)=>s.score===l.score?s.idx<l.idx?-1:1:s.score<l.score?-1:1},bA={location:0,threshold:.6,distance:100},gA={useExtendedSearch:!1,getFn:xA,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Oe={...vA,...hA,...bA,...gA};const yA=/[^ ]+/g;function NA(s=1,l=3){const r=new Map,t=Math.pow(10,l);return{get(o){const u=o.match(yA).length;if(r.has(u))return r.get(u);const d=1/Math.pow(u,.5*s),m=parseFloat(Math.round(d*t)/t);return r.set(u,m),m},clear(){r.clear()}}}class yp{constructor({getFn:l=Oe.getFn,fieldNormWeight:r=Oe.fieldNormWeight}={}){this.norm=NA(r,3),this.getFn=l,this.isCreated=!1,this.setIndexRecords()}setSources(l=[]){this.docs=l}setIndexRecords(l=[]){this.records=l}setKeys(l=[]){this.keys=l,this._keysMap={},l.forEach((r,t)=>{this._keysMap[r.id]=t})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,En(this.docs[0])?this.docs.forEach((l,r)=>{this._addString(l,r)}):this.docs.forEach((l,r)=>{this._addObject(l,r)}),this.norm.clear())}add(l){const r=this.size();En(l)?this._addString(l,r):this._addObject(l,r)}removeAt(l){this.records.splice(l,1);for(let r=l,t=this.size();r<t;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(l,r){return l[this._keysMap[r]]}size(){return this.records.length}_addString(l,r){if(!Pa(l)||kf(l))return;let t={v:l,i:r,n:this.norm.get(l)};this.records.push(t)}_addObject(l,r){let t={i:r,$:{}};this.keys.forEach((o,u)=>{let d=o.getFn?o.getFn(l):this.getFn(l,o.path);if(Pa(d)){if(dr(d)){let m=[];const x=[{nestedArrIndex:-1,value:d}];for(;x.length;){const{nestedArrIndex:p,value:v}=x.pop();if(Pa(v))if(En(v)&&!kf(v)){let b={v,i:p,n:this.norm.get(v)};m.push(b)}else dr(v)&&v.forEach((b,j)=>{x.push({nestedArrIndex:j,value:b})})}t.$[u]=m}else if(En(d)&&!kf(d)){let m={v:d,n:this.norm.get(d)};t.$[u]=m}}}),this.records.push(t)}toJSON(){return{keys:this.keys,records:this.records}}}function D1(s,l,{getFn:r=Oe.getFn,fieldNormWeight:t=Oe.fieldNormWeight}={}){const o=new yp({getFn:r,fieldNormWeight:t});return o.setKeys(s.map(k1)),o.setSources(l),o.create(),o}function jA(s,{getFn:l=Oe.getFn,fieldNormWeight:r=Oe.fieldNormWeight}={}){const{keys:t,records:o}=s,u=new yp({getFn:l,fieldNormWeight:r});return u.setKeys(t),u.setIndexRecords(o),u}function Hc(s,{errors:l=0,currentLocation:r=0,expectedLocation:t=0,distance:o=Oe.distance,ignoreLocation:u=Oe.ignoreLocation}={}){const d=l/s.length;if(u)return d;const m=Math.abs(t-r);return o?d+m/o:m?1:d}function wA(s=[],l=Oe.minMatchCharLength){let r=[],t=-1,o=-1,u=0;for(let d=s.length;u<d;u+=1){let m=s[u];m&&t===-1?t=u:!m&&t!==-1&&(o=u-1,o-t+1>=l&&r.push([t,o]),t=-1)}return s[u-1]&&u-t>=l&&r.push([t,u-1]),r}const Ns=32;function SA(s,l,r,{location:t=Oe.location,distance:o=Oe.distance,threshold:u=Oe.threshold,findAllMatches:d=Oe.findAllMatches,minMatchCharLength:m=Oe.minMatchCharLength,includeMatches:x=Oe.includeMatches,ignoreLocation:p=Oe.ignoreLocation}={}){if(l.length>Ns)throw new Error(dA(Ns));const v=l.length,b=s.length,j=Math.max(0,Math.min(t,b));let C=u,M=j;const S=m>1||x,g=S?Array(b):[];let N;for(;(N=s.indexOf(l,M))>-1;){let $=Hc(l,{currentLocation:N,expectedLocation:j,distance:o,ignoreLocation:p});if(C=Math.min($,C),M=N+v,S){let O=0;for(;O<v;)g[N+O]=1,O+=1}}M=-1;let D=[],y=1,E=v+b;const _=1<<v-1;for(let $=0;$<v;$+=1){let O=0,F=E;for(;O<F;)Hc(l,{errors:$,currentLocation:j+F,expectedLocation:j,distance:o,ignoreLocation:p})<=C?O=F:E=F,F=Math.floor((E-O)/2+O);E=F;let I=Math.max(1,j-F+1),G=d?b:Math.min(j+F,b)+v,A=Array(G+2);A[G+1]=(1<<$)-1;for(let U=G;U>=I;U-=1){let Z=U-1,B=r[s.charAt(Z)];if(S&&(g[Z]=+!!B),A[U]=(A[U+1]<<1|1)&B,$&&(A[U]|=(D[U+1]|D[U])<<1|1|D[U+1]),A[U]&_&&(y=Hc(l,{errors:$,currentLocation:Z,expectedLocation:j,distance:o,ignoreLocation:p}),y<=C)){if(C=y,M=Z,M<=j)break;I=Math.max(1,2*j-M)}}if(Hc(l,{errors:$+1,currentLocation:j,expectedLocation:j,distance:o,ignoreLocation:p})>C)break;D=A}const H={isMatch:M>=0,score:Math.max(.001,y)};if(S){const $=wA(g,m);$.length?x&&(H.indices=$):H.isMatch=!1}return H}function CA(s){let l={};for(let r=0,t=s.length;r<t;r+=1){const o=s.charAt(r);l[o]=(l[o]||0)|1<<t-r-1}return l}const Du=String.prototype.normalize?(s=>s.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(s=>s);class M1{constructor(l,{location:r=Oe.location,threshold:t=Oe.threshold,distance:o=Oe.distance,includeMatches:u=Oe.includeMatches,findAllMatches:d=Oe.findAllMatches,minMatchCharLength:m=Oe.minMatchCharLength,isCaseSensitive:x=Oe.isCaseSensitive,ignoreDiacritics:p=Oe.ignoreDiacritics,ignoreLocation:v=Oe.ignoreLocation}={}){if(this.options={location:r,threshold:t,distance:o,includeMatches:u,findAllMatches:d,minMatchCharLength:m,isCaseSensitive:x,ignoreDiacritics:p,ignoreLocation:v},l=x?l:l.toLowerCase(),l=p?Du(l):l,this.pattern=l,this.chunks=[],!this.pattern.length)return;const b=(C,M)=>{this.chunks.push({pattern:C,alphabet:CA(C),startIndex:M})},j=this.pattern.length;if(j>Ns){let C=0;const M=j%Ns,S=j-M;for(;C<S;)b(this.pattern.substr(C,Ns),C),C+=Ns;if(M){const g=j-Ns;b(this.pattern.substr(g),g)}}else b(this.pattern,0)}searchIn(l){const{isCaseSensitive:r,ignoreDiacritics:t,includeMatches:o}=this.options;if(l=r?l:l.toLowerCase(),l=t?Du(l):l,this.pattern===l){let S={isMatch:!0,score:0};return o&&(S.indices=[[0,l.length-1]]),S}const{location:u,distance:d,threshold:m,findAllMatches:x,minMatchCharLength:p,ignoreLocation:v}=this.options;let b=[],j=0,C=!1;this.chunks.forEach(({pattern:S,alphabet:g,startIndex:N})=>{const{isMatch:D,score:y,indices:E}=SA(l,S,g,{location:u+N,distance:d,threshold:m,findAllMatches:x,minMatchCharLength:p,includeMatches:o,ignoreLocation:v});D&&(C=!0),j+=y,D&&E&&(b=[...b,...E])});let M={isMatch:C,score:C?j/this.chunks.length:1};return C&&o&&(M.indices=b),M}}class Kr{constructor(l){this.pattern=l}static isMultiMatch(l){return Kb(l,this.multiRegex)}static isSingleMatch(l){return Kb(l,this.singleRegex)}search(){}}function Kb(s,l){const r=s.match(l);return r?r[1]:null}class kA extends Kr{constructor(l){super(l)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(l){const r=l===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class DA extends Kr{constructor(l){super(l)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(l){const t=l.indexOf(this.pattern)===-1;return{isMatch:t,score:t?0:1,indices:[0,l.length-1]}}}class MA extends Kr{constructor(l){super(l)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(l){const r=l.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class AA extends Kr{constructor(l){super(l)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(l){const r=!l.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,l.length-1]}}}class TA extends Kr{constructor(l){super(l)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(l){const r=l.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[l.length-this.pattern.length,l.length-1]}}}class EA extends Kr{constructor(l){super(l)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(l){const r=!l.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,l.length-1]}}}class A1 extends Kr{constructor(l,{location:r=Oe.location,threshold:t=Oe.threshold,distance:o=Oe.distance,includeMatches:u=Oe.includeMatches,findAllMatches:d=Oe.findAllMatches,minMatchCharLength:m=Oe.minMatchCharLength,isCaseSensitive:x=Oe.isCaseSensitive,ignoreDiacritics:p=Oe.ignoreDiacritics,ignoreLocation:v=Oe.ignoreLocation}={}){super(l),this._bitapSearch=new M1(l,{location:r,threshold:t,distance:o,includeMatches:u,findAllMatches:d,minMatchCharLength:m,isCaseSensitive:x,ignoreDiacritics:p,ignoreLocation:v})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(l){return this._bitapSearch.searchIn(l)}}class T1 extends Kr{constructor(l){super(l)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(l){let r=0,t;const o=[],u=this.pattern.length;for(;(t=l.indexOf(this.pattern,r))>-1;)r=t+u,o.push([t,r-1]);const d=!!o.length;return{isMatch:d,score:d?0:1,indices:o}}}const Bf=[kA,T1,MA,AA,EA,TA,DA,A1],Xb=Bf.length,_A=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,OA="|";function RA(s,l={}){return s.split(OA).map(r=>{let t=r.trim().split(_A).filter(u=>u&&!!u.trim()),o=[];for(let u=0,d=t.length;u<d;u+=1){const m=t[u];let x=!1,p=-1;for(;!x&&++p<Xb;){const v=Bf[p];let b=v.isMultiMatch(m);b&&(o.push(new v(b,l)),x=!0)}if(!x)for(p=-1;++p<Xb;){const v=Bf[p];let b=v.isSingleMatch(m);if(b){o.push(new v(b,l));break}}}return o})}const IA=new Set([A1.type,T1.type]);class LA{constructor(l,{isCaseSensitive:r=Oe.isCaseSensitive,ignoreDiacritics:t=Oe.ignoreDiacritics,includeMatches:o=Oe.includeMatches,minMatchCharLength:u=Oe.minMatchCharLength,ignoreLocation:d=Oe.ignoreLocation,findAllMatches:m=Oe.findAllMatches,location:x=Oe.location,threshold:p=Oe.threshold,distance:v=Oe.distance}={}){this.query=null,this.options={isCaseSensitive:r,ignoreDiacritics:t,includeMatches:o,minMatchCharLength:u,findAllMatches:m,ignoreLocation:d,location:x,threshold:p,distance:v},l=r?l:l.toLowerCase(),l=t?Du(l):l,this.pattern=l,this.query=RA(this.pattern,this.options)}static condition(l,r){return r.useExtendedSearch}searchIn(l){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:t,isCaseSensitive:o,ignoreDiacritics:u}=this.options;l=o?l:l.toLowerCase(),l=u?Du(l):l;let d=0,m=[],x=0;for(let p=0,v=r.length;p<v;p+=1){const b=r[p];m.length=0,d=0;for(let j=0,C=b.length;j<C;j+=1){const M=b[j],{isMatch:S,indices:g,score:N}=M.search(l);if(S){if(d+=1,x+=N,t){const D=M.constructor.type;IA.has(D)?m=[...m,...g]:m.push(g)}}else{x=0,d=0,m.length=0;break}}if(d){let j={isMatch:!0,score:x/d};return t&&(j.indices=m),j}}return{isMatch:!1,score:1}}}const Hf=[];function PA(...s){Hf.push(...s)}function Yf(s,l){for(let r=0,t=Hf.length;r<t;r+=1){let o=Hf[r];if(o.condition(s,l))return new o(s,l)}return new M1(s,l)}const Mu={AND:"$and",OR:"$or"},Uf={PATH:"$path",PATTERN:"$val"},qf=s=>!!(s[Mu.AND]||s[Mu.OR]),zA=s=>!!s[Uf.PATH],FA=s=>!dr(s)&&S1(s)&&!qf(s),Wb=s=>({[Mu.AND]:Object.keys(s).map(l=>({[l]:s[l]}))});function E1(s,l,{auto:r=!0}={}){const t=o=>{let u=Object.keys(o);const d=zA(o);if(!d&&u.length>1&&!qf(o))return t(Wb(o));if(FA(o)){const x=d?o[Uf.PATH]:u[0],p=d?o[Uf.PATTERN]:o[x];if(!En(p))throw new Error(uA(x));const v={keyId:Ff(x),pattern:p};return r&&(v.searcher=Yf(p,l)),v}let m={children:[],operator:u[0]};return u.forEach(x=>{const p=o[x];dr(p)&&p.forEach(v=>{m.children.push(t(v))})}),m};return qf(s)||(s=Wb(s)),t(s)}function BA(s,{ignoreFieldNorm:l=Oe.ignoreFieldNorm}){s.forEach(r=>{let t=1;r.matches.forEach(({key:o,norm:u,score:d})=>{const m=o?o.weight:null;t*=Math.pow(d===0&&m?Number.EPSILON:d,(m||1)*(l?1:u))}),r.score=t})}function HA(s,l){const r=s.matches;l.matches=[],Pa(r)&&r.forEach(t=>{if(!Pa(t.indices)||!t.indices.length)return;const{indices:o,value:u}=t;let d={indices:o,value:u};t.key&&(d.key=t.key.src),t.idx>-1&&(d.refIndex=t.idx),l.matches.push(d)})}function YA(s,l){l.score=s.score}function UA(s,l,{includeMatches:r=Oe.includeMatches,includeScore:t=Oe.includeScore}={}){const o=[];return r&&o.push(HA),t&&o.push(YA),s.map(u=>{const{idx:d}=u,m={item:l[d],refIndex:d};return o.length&&o.forEach(x=>{x(u,m)}),m})}class Yl{constructor(l,r={},t){this.options={...Oe,...r},this.options.useExtendedSearch,this._keyStore=new pA(this.options.keys),this.setCollection(l,t)}setCollection(l,r){if(this._docs=l,r&&!(r instanceof yp))throw new Error(cA);this._myIndex=r||D1(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(l){Pa(l)&&(this._docs.push(l),this._myIndex.add(l))}remove(l=()=>!1){const r=[];for(let t=0,o=this._docs.length;t<o;t+=1){const u=this._docs[t];l(u,t)&&(this.removeAt(t),t-=1,o-=1,r.push(u))}return r}removeAt(l){this._docs.splice(l,1),this._myIndex.removeAt(l)}getIndex(){return this._myIndex}search(l,{limit:r=-1}={}){const{includeMatches:t,includeScore:o,shouldSort:u,sortFn:d,ignoreFieldNorm:m}=this.options;let x=En(l)?En(this._docs[0])?this._searchStringList(l):this._searchObjectList(l):this._searchLogical(l);return BA(x,{ignoreFieldNorm:m}),u&&x.sort(d),w1(r)&&r>-1&&(x=x.slice(0,r)),UA(x,this._docs,{includeMatches:t,includeScore:o})}_searchStringList(l){const r=Yf(l,this.options),{records:t}=this._myIndex,o=[];return t.forEach(({v:u,i:d,n:m})=>{if(!Pa(u))return;const{isMatch:x,score:p,indices:v}=r.searchIn(u);x&&o.push({item:u,idx:d,matches:[{score:p,value:u,norm:m,indices:v}]})}),o}_searchLogical(l){const r=E1(l,this.options),t=(m,x,p)=>{if(!m.children){const{keyId:b,searcher:j}=m,C=this._findMatches({key:this._keyStore.get(b),value:this._myIndex.getValueForItemAtKeyId(x,b),searcher:j});return C&&C.length?[{idx:p,item:x,matches:C}]:[]}const v=[];for(let b=0,j=m.children.length;b<j;b+=1){const C=m.children[b],M=t(C,x,p);if(M.length)v.push(...M);else if(m.operator===Mu.AND)return[]}return v},o=this._myIndex.records,u={},d=[];return o.forEach(({$:m,i:x})=>{if(Pa(m)){let p=t(r,m,x);p.length&&(u[x]||(u[x]={idx:x,item:m,matches:[]},d.push(u[x])),p.forEach(({matches:v})=>{u[x].matches.push(...v)}))}}),d}_searchObjectList(l){const r=Yf(l,this.options),{keys:t,records:o}=this._myIndex,u=[];return o.forEach(({$:d,i:m})=>{if(!Pa(d))return;let x=[];t.forEach((p,v)=>{x.push(...this._findMatches({key:p,value:d[v],searcher:r}))}),x.length&&u.push({idx:m,item:d,matches:x})}),u}_findMatches({key:l,value:r,searcher:t}){if(!Pa(r))return[];let o=[];if(dr(r))r.forEach(({v:u,i:d,n:m})=>{if(!Pa(u))return;const{isMatch:x,score:p,indices:v}=t.searchIn(u);x&&o.push({score:p,key:l,value:u,idx:d,norm:m,indices:v})});else{const{v:u,n:d}=r,{isMatch:m,score:x,indices:p}=t.searchIn(u);m&&o.push({score:x,key:l,value:u,norm:d,indices:p})}return o}}Yl.version="7.1.0";Yl.createIndex=D1;Yl.parseIndex=jA;Yl.config=Oe;Yl.parseQuery=E1;PA(LA);let un=null,Ui=null;function qA(s){if(!s)return!1;const l=new Date(s),r=new Date;return l.getFullYear()===r.getFullYear()&&l.getMonth()===r.getMonth()&&l.getDate()===r.getDate()}function $A(){return un?Promise.resolve(un):Ui||(Ui=fS("fundsList").then(s=>s&&Array.isArray(s.data)&&qA(s.updatedAt)?(un=s.data,un):U2().then(l=>(un=Array.isArray(l)?l:[],Na("fundsList",un),un))).catch(()=>(Ui=null,[])),Ui)}function Np({value:s,onSelect:l,placeholder:r,disabled:t}){const[o,u]=w.useState(""),[d,m]=w.useState(un||[]),[x,p]=w.useState(!un),[v,b]=w.useState(!1),j=w.useRef(null);w.useEffect(()=>{if(un){m(un),p(!1);return}$A().then(D=>{m(D),p(!1)})},[]),w.useEffect(()=>{function D(y){j.current&&!j.current.contains(y.target)&&b(!1)}return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]);const C=w.useMemo(()=>d.length?new Yl(d,{keys:["fundName"],threshold:.3,distance:50,minMatchCharLength:2,includeScore:!0,ignoreLocation:!1,findAllMatches:!0}):null,[d]),M=w.useMemo(()=>!C||o.length<2?[]:C.search(o).slice(0,50).map(D=>D.item),[C,o]);function S(D){u(D),b(D.length>=2)}function g(D){l({schemeCode:D.fundCode||D.schemeCode,fundName:D.fundName,nav:D.nav,navDate:D.navDate}),u(""),b(!1)}function N(){l({schemeCode:"",fundName:"",nav:0,navDate:""}),u("")}return s?.fundName?a.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg px-3 py-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate",children:s.fundName}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:s.schemeCode}),s.nav>0&&a.jsxs("span",{className:"text-xs font-medium text-emerald-400",children:["NAV: ",s.nav.toFixed(2),s.navDate?` (${s.navDate})`:""]})]})]}),a.jsx("button",{type:"button",onClick:N,className:"shrink-0 p-1 rounded-md hover:bg-[var(--bg-hover)] text-[var(--text-dim)] hover:text-[var(--text-secondary)] transition-colors",children:a.jsx(ro,{size:14})})]}):a.jsxs("div",{ref:j,className:"relative",children:[a.jsxs("div",{className:"relative",children:[x?a.jsx(Sy,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-400 animate-spin"}):a.jsx(eC,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)]"}),a.jsx("input",{type:"text",value:o,onChange:D=>S(D.target.value),onFocus:()=>o.length>=2&&b(!0),placeholder:x?"Loading funds...":r||"Search fund name...",disabled:t||x,className:"w-full bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg pl-9 pr-3 py-2 text-sm text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-violet-500/50 disabled:opacity-50 transition-colors"})]}),v&&M.length>0&&a.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl max-h-[240px] overflow-y-auto",children:M.map(D=>a.jsxs("button",{type:"button",onClick:()=>g(D),className:"w-full text-left px-3 py-2.5 hover:bg-[var(--bg-hover)] transition-colors border-b border-[var(--border-light)] last:border-0",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:D.fundName}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:D.fundCode||D.schemeCode}),D.nav>0&&a.jsxs("span",{className:"text-xs text-emerald-400 tabular-nums",children:["NAV: ",D.nav.toFixed(2),D.navDate?` (${D.navDate})`:""]})]})]},D.fundCode||D.schemeCode))}),v&&o.length>=2&&M.length===0&&!x&&a.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl p-4 text-center",children:a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:['No funds found for "',o,'"']})})]})}const VA=[{value:"INITIAL",label:"Add Existing Holdings"},{value:"SIP",label:"SIP Investment"},{value:"LUMPSUM",label:"Lumpsum Investment"}];function GA({portfolioId:s,fundCode:l,fundName:r,transactionType:t,onSave:o,onCancel:u}){const{mfPortfolios:d,mfHoldings:m}=$e(),{selectedMember:x}=Jt(),p=w.useMemo(()=>{const A=d.filter(re=>re.status==="Active");return x==="all"?A:A.filter(re=>re.ownerId===x)},[d,x]),[v,b]=w.useState({portfolioId:s||"",fundCode:l||"",fundName:r||"",nav:0,navDate:"",transactionType:t||"SIP",date:new Date().toISOString().split("T")[0],units:"",price:"",notes:""}),[j,C]=w.useState({}),[M,S]=w.useState(!1),[g,N]=w.useState(!l);function D(A,re){b(U=>({...U,[A]:re})),C(U=>({...U,[A]:void 0}))}function y({schemeCode:A,fundName:re,nav:U,navDate:Z}){b(B=>({...B,fundCode:A,fundName:re,nav:U||0,navDate:Z||"",price:U>0?String(U):B.price})),C(B=>({...B,fundCode:void 0,fundName:void 0})),N(!1)}function E(A){b(re=>({...re,fundCode:A.schemeCode,fundName:A.fundName,nav:A.currentNav||0,navDate:"",price:A.currentNav>0?String(A.currentNav):re.price})),C(re=>({...re,fundCode:void 0})),N(!1)}const _=w.useMemo(()=>v.portfolioId?m.filter(A=>A.portfolioId===v.portfolioId).sort((A,re)=>re.currentValue-A.currentValue):[],[m,v.portfolioId]),H=w.useMemo(()=>!v.portfolioId||!v.fundCode?null:m.find(A=>A.portfolioId===v.portfolioId&&A.schemeCode===v.fundCode),[m,v.portfolioId,v.fundCode]),$=v.fundCode&&!H,O=w.useMemo(()=>(Number(v.units)||0)*(Number(v.price)||0),[v.units,v.price]);function F(){const A={};return v.portfolioId||(A.portfolioId="Required"),v.fundCode||(A.fundCode="Select a fund"),v.date||(A.date="Required"),(!v.units||Number(v.units)<=0)&&(A.units="Must be > 0"),(!v.price||Number(v.price)<=0)&&(A.price="Must be > 0"),C(A),Object.keys(A).length===0}async function I(){if(F()){S(!0);try{await o({portfolioId:v.portfolioId,fundCode:v.fundCode,fundName:v.fundName,transactionType:v.transactionType,purchaseDate:v.date,units:v.units,avgPrice:v.price,notes:v.notes})}finally{S(!1)}}}const G=p.map(A=>{const re=A.portfolioName?.replace(/^PFL-/,"")||A.portfolioName,U=A.ownerName?`${re} (${A.ownerName})`:re;return{value:A.portfolioId,label:U}});return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Portfolio",required:!0,error:j.portfolioId,children:a.jsx(Re,{value:v.portfolioId,onChange:A=>{D("portfolioId",A),l||(D("fundCode",""),D("fundName",""),N(!1))},options:G,placeholder:"Select portfolio..."})}),a.jsx(te,{label:"Transaction Type",required:!0,children:a.jsx(Re,{value:v.transactionType,onChange:A=>D("transactionType",A),options:VA})})]}),a.jsx(te,{label:"Fund",required:!0,error:j.fundCode,children:v.fundCode&&!g?a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:v.fundName}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[v.fundCode,v.nav>0&&a.jsxs("span",{className:"ml-2 text-emerald-400",children:["NAV: ",v.nav.toFixed(2)]})]})]}),a.jsx("button",{type:"button",onClick:()=>{D("fundCode",""),D("fundName",""),N(!0)},className:"text-xs text-[var(--text-muted)] hover:text-[var(--text-primary)] underline shrink-0",children:"Change"})]}):a.jsxs("div",{className:"space-y-2",children:[_.length>0&&a.jsxs("select",{value:"",onChange:A=>{const re=_.find(U=>U.schemeCode===A.target.value);re&&E(re)},className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg",children:[a.jsx("option",{value:"",disabled:!0,children:"Select from portfolio funds..."}),_.map(A=>a.jsxs("option",{value:A.schemeCode,children:[A.fundName,A.units>0?`  ${A.units.toFixed(0)} units  ${Q(A.currentValue)}`:" (Planned)"]},A.holdingId))]}),a.jsxs("div",{children:[_.length>0&&a.jsxs("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-muted)] mb-1 flex items-center gap-1",children:[a.jsx(Gt,{size:10})," Add New Fund"]}),a.jsx(Np,{value:null,onSelect:y,placeholder:"Search fund by name, code, or category..."})]})]})}),H&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Existing holding  will average out"}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Current: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:H.units.toFixed(2)})," units @ ",H.avgNav.toFixed(2)," avg NAV | Value: ",Q(H.currentValue),H.targetAllocationPct>0&&a.jsxs("span",{children:["  Target: ",H.targetAllocationPct.toFixed(1),"%"]})]})]}),$&&a.jsxs("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:[a.jsx("p",{className:"text-xs text-violet-400 font-semibold",children:"New fund  will be added to portfolio"}),a.jsx("p",{className:"text-xs text-violet-300/70 mt-0.5",children:"Use Allocations to plan how much to invest before buying"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(te,{label:"Date",required:!0,error:j.date,children:a.jsx(g1,{value:v.date,onChange:A=>D("date",A)})}),a.jsx(te,{label:"Units",required:!0,error:j.units,children:a.jsx(pe,{type:"number",value:v.units,onChange:A=>D("units",A),placeholder:"e.g., 150.50"})}),a.jsx(te,{label:"NAV ()",required:!0,error:j.price,children:a.jsx(pe,{type:"number",value:v.price,onChange:A=>D("price",A),placeholder:"e.g., 178.45"})})]}),O>0&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(O)}),H&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:["New avg NAV: ",((H.investment+O)/(H.units+Number(v.units))).toFixed(2)," Total units: ",(H.units+Number(v.units)).toFixed(2)]})]}),a.jsx(te,{label:"Notes",children:a.jsx(pe,{value:v.notes,onChange:A=>D("notes",A),placeholder:"Optional notes..."})}),a.jsx(da,{onCancel:u,onSubmit:I,submitLabel:v.transactionType==="SIP"?"Record SIP":v.transactionType==="LUMPSUM"?"Record Lumpsum":"Add Holdings",loading:M})]})}function QA({portfolioId:s,fundCode:l,onSave:r,onCancel:t}){const{mfPortfolios:o,mfHoldings:u}=$e(),{selectedMember:d}=Jt(),m=w.useMemo(()=>{const I=o.filter(G=>G.status==="Active");return d==="all"?I:I.filter(G=>G.ownerId===d)},[o,d]),x=w.useMemo(()=>!s||!l?null:u.find(I=>I.portfolioId===s&&I.schemeCode===l),[u,s,l]),[p,v]=w.useState({portfolioId:s||"",fundCode:l||"",fundName:x?.fundName||"",date:new Date().toISOString().split("T")[0],units:"",price:x?.currentNav>0?String(x.currentNav):"",notes:""}),[b,j]=w.useState({}),[C,M]=w.useState(!1);function S(I,G){v(A=>({...A,[I]:G})),j(A=>({...A,[I]:void 0}))}const g=w.useMemo(()=>p.portfolioId?u.filter(I=>I.portfolioId===p.portfolioId&&I.units>0):[],[u,p.portfolioId]),N=g.find(I=>I.schemeCode===p.fundCode);function D(I){const G=g.find(A=>A.schemeCode===I);v(A=>({...A,fundCode:I,fundName:G?.fundName||"",price:G?.currentNav?.toString()||""})),j(A=>({...A,fundCode:void 0}))}function y(I){v(G=>({...G,portfolioId:I,fundCode:"",fundName:"",units:"",price:""})),j(G=>({...G,portfolioId:void 0}))}const E=w.useMemo(()=>(Number(p.units)||0)*(Number(p.price)||0),[p.units,p.price]),_=N?E-Number(p.units)*N.avgNav:0;function H(){const I={};return p.portfolioId||(I.portfolioId="Required"),p.fundCode||(I.fundCode="Required"),p.date||(I.date="Required"),(!p.units||Number(p.units)<=0)&&(I.units="Must be > 0"),N&&Number(p.units)>N.units&&(I.units=`Max ${N.units.toFixed(2)} units`),(!p.price||Number(p.price)<=0)&&(I.price="Must be > 0"),j(I),Object.keys(I).length===0}async function $(){if(H()){M(!0);try{await r(p)}finally{M(!1)}}}const O=m.map(I=>{const G=I.portfolioName?.replace(/^PFL-/,"")||I.portfolioName,A=I.ownerName?`${G} (${I.ownerName})`:G;return{value:I.portfolioId,label:A}}),F=g.map(I=>({value:I.schemeCode,label:`${I.fundName}  ${I.units.toFixed(0)} units  ${Q(I.currentValue)}`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(te,{label:"Portfolio",required:!0,error:b.portfolioId,children:a.jsx(Re,{value:p.portfolioId,onChange:y,options:O,placeholder:"Select portfolio..."})}),a.jsx(te,{label:"Fund to Redeem",required:!0,error:b.fundCode,children:a.jsx(Re,{value:p.fundCode,onChange:D,options:F,placeholder:p.portfolioId?g.length?"Select fund...":"No holdings":"Select portfolio first..."})}),N&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:N.fundName}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:N.units.toFixed(2)})," units @ ",N.avgNav.toFixed(2)," avg | Current NAV: ",N.currentNav.toFixed(2)]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(te,{label:"Date",required:!0,error:b.date,children:a.jsx(g1,{value:p.date,onChange:I=>S("date",I)})}),a.jsx(te,{label:"Units",required:!0,error:b.units,children:a.jsx(pe,{type:"number",value:p.units,onChange:I=>S("units",I),placeholder:N?`Max: ${N.units.toFixed(2)}`:""})}),a.jsx(te,{label:"NAV ()",required:!0,error:b.price,children:a.jsx(pe,{type:"number",value:p.price,onChange:I=>S("price",I),placeholder:"e.g., 178.45"})})]}),E>0&&a.jsx("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Redemption Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(E)})]}),N&&a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. Gain/Loss"}),a.jsxs("p",{className:`text-sm font-bold tabular-nums ${_>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[_>=0?"+":"",Q(_)]})]})]})}),a.jsx(te,{label:"Notes",children:a.jsx(pe,{value:p.notes,onChange:I=>S("notes",I),placeholder:"Optional notes..."})}),a.jsx(da,{onCancel:t,onSubmit:$,submitLabel:"Redeem",loading:C})]})}function KA({portfolioId:s,onSave:l,onCancel:r}){const{mfPortfolios:t,mfHoldings:o}=$e(),{selectedMember:u}=Jt(),d=w.useMemo(()=>{const A=t.filter(re=>re.status==="Active");return u==="all"?A:A.filter(re=>re.ownerId===u)},[t,u]),[m,x]=w.useState({portfolioId:s||"",fromFundCode:"",fromFundName:"",toFundCode:"",toFundName:"",date:new Date().toISOString().split("T")[0],units:"",fromPrice:"",toPrice:"",targetAllocation:"",notes:""}),[p,v]=w.useState({}),[b,j]=w.useState(!1);function C(A,re){x(U=>({...U,[A]:re})),v(U=>({...U,[A]:void 0}))}function M(A){x(re=>({...re,portfolioId:A,fromFundCode:"",fromFundName:"",toFundCode:"",toFundName:"",units:"",fromPrice:"",toPrice:"",targetAllocation:""})),v(re=>({...re,portfolioId:void 0}))}const S=w.useMemo(()=>m.portfolioId?o.filter(A=>A.portfolioId===m.portfolioId&&A.units>0):[],[o,m.portfolioId]),g=S.find(A=>A.schemeCode===m.fromFundCode),N=w.useMemo(()=>!m.portfolioId||!m.toFundCode?null:o.find(A=>A.portfolioId===m.portfolioId&&A.schemeCode===m.toFundCode),[o,m.portfolioId,m.toFundCode]),D=m.toFundCode&&!N;function y(A){const re=S.find(U=>U.schemeCode===A);x(U=>({...U,fromFundCode:A,fromFundName:re?.fundName||"",fromPrice:re?.currentNav?.toString()||""})),v(U=>({...U,fromFundCode:void 0}))}function E({schemeCode:A,fundName:re}){const U=o.find(Z=>Z.portfolioId===m.portfolioId&&Z.schemeCode===A);x(Z=>({...Z,toFundCode:A,toFundName:re,toPrice:U?.currentNav?.toString()||Z.toPrice,targetAllocation:""})),v(Z=>({...Z,toFundCode:void 0}))}const _=w.useMemo(()=>(Number(m.units)||0)*(Number(m.fromPrice)||0),[m.units,m.fromPrice]),H=_>0&&Number(m.toPrice)>0?_/Number(m.toPrice):0,$=g?_-Number(m.units)*g.avgNav:0;function O(){const A={};return m.portfolioId||(A.portfolioId="Required"),m.fromFundCode||(A.fromFundCode="Required"),m.toFundCode||(A.toFundCode="Required"),m.fromFundCode&&m.toFundCode&&m.fromFundCode===m.toFundCode&&(A.toFundCode="Must be different from source fund"),m.date||(A.date="Required"),(!m.units||Number(m.units)<=0)&&(A.units="Must be > 0"),g&&Number(m.units)>g.units&&(A.units=`Max ${g.units.toFixed(2)} units`),(!m.fromPrice||Number(m.fromPrice)<=0)&&(A.fromPrice="Must be > 0"),(!m.toPrice||Number(m.toPrice)<=0)&&(A.toPrice="Must be > 0"),v(A),Object.keys(A).length===0}async function F(){if(O()){j(!0);try{await l(m)}finally{j(!1)}}}const I=d.map(A=>{const re=A.portfolioName?.replace(/^PFL-/,"")||A.portfolioName,U=A.ownerName?`${re} (${A.ownerName})`:re;return{value:A.portfolioId,label:U}}),G=S.map(A=>({value:A.schemeCode,label:A.fundName}));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(te,{label:"Portfolio",required:!0,error:p.portfolioId,children:a.jsx(Re,{value:m.portfolioId,onChange:M,options:I,placeholder:"Select portfolio..."})}),a.jsx(te,{label:"Switch From (Sell)",required:!0,error:p.fromFundCode,children:a.jsx(Re,{value:m.fromFundCode,onChange:y,options:G,placeholder:m.portfolioId?S.length?"Select fund to switch from...":"No holdings":"Select portfolio first..."})}),g&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:g.fundName}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:g.units.toFixed(2)})," units @ ",g.avgNav.toFixed(2)," avg | Current NAV: ",g.currentNav.toFixed(2)]})]}),a.jsx(te,{label:"Switch To (Buy)",required:!0,error:p.toFundCode,children:a.jsx(Np,{value:m.toFundCode?{schemeCode:m.toFundCode,fundName:m.toFundName}:null,onSelect:E,placeholder:"Search fund to switch into...",disabled:!m.portfolioId})}),N&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Existing holding  units will be added, NAV averaged out"}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Current: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:N.units.toFixed(2)})," units @ ",N.avgNav.toFixed(2)," avg | Alloc: ",N.targetAllocationPct.toFixed(1),"%"]})]}),D&&m.toFundCode&&a.jsx("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:a.jsx("p",{className:"text-xs text-violet-400 font-semibold",children:"New fund  will be added to portfolio"})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Switch Date",required:!0,error:p.date,children:a.jsx(pe,{type:"date",value:m.date,onChange:A=>C("date",A)})}),a.jsx(te,{label:"Units to Switch",required:!0,error:p.units,children:a.jsx(pe,{type:"number",value:m.units,onChange:A=>C("units",A),placeholder:g?`Max: ${g.units.toFixed(2)}`:""})})]}),a.jsxs("div",{className:`grid grid-cols-1 ${D?"sm:grid-cols-3":"sm:grid-cols-2"} gap-4`,children:[a.jsx(te,{label:"From Fund NAV ()",required:!0,error:p.fromPrice,children:a.jsx(pe,{type:"number",value:m.fromPrice,onChange:A=>C("fromPrice",A),placeholder:"e.g., 178.45"})}),a.jsx(te,{label:"To Fund NAV ()",required:!0,error:p.toPrice,children:a.jsx(pe,{type:"number",value:m.toPrice,onChange:A=>C("toPrice",A),placeholder:"e.g., 82.10"})}),D&&a.jsx(te,{label:"Target Allocation (%)",children:a.jsx(pe,{type:"number",value:m.targetAllocation,onChange:A=>C("targetAllocation",A),placeholder:"e.g., 20"})})]}),_>0&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Switch Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(_)})]}),H>0&&a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Units Bought"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:H.toFixed(4)})]}),g&&a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. Gain/Loss"}),a.jsxs("p",{className:`text-sm font-bold tabular-nums ${$>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[$>=0?"+":"",Q($)]})]})]}),N&&H>0&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1 border-t border-[var(--border-light)] pt-1",children:["New total: ",(N.units+H).toFixed(2)," units  New avg NAV: ",((N.investment+_)/(N.units+H)).toFixed(2)]})]}),a.jsx(te,{label:"Notes",children:a.jsx(pe,{value:m.notes,onChange:A=>C("notes",A),placeholder:"Optional notes..."})}),a.jsx(da,{onCancel:r,onSubmit:F,submitLabel:"Switch Funds",loading:b})]})}function XA({portfolioId:s,onSave:l,onCancel:r}){const{mfHoldings:t,mfPortfolios:o}=$e(),u=o.find(O=>O.portfolioId===s),d=w.useMemo(()=>t.filter(O=>O.portfolioId===s),[t,s]),[m,x]=w.useState(()=>d.map(O=>({schemeCode:O.schemeCode,fundName:O.fundName,units:O.units,currentValue:O.currentValue,currentAllocationPct:O.currentAllocationPct,targetAllocationPct:O.targetAllocationPct,isNew:!1}))),[p,v]=w.useState(null),[b,j]=w.useState(""),[C,M]=w.useState(""),[S,g]=w.useState(!1),N=m.reduce((O,F)=>O+F.targetAllocationPct,0),D=m.reduce((O,F)=>O+F.currentValue,0);function y(O,F){x(I=>I.map(G=>G.schemeCode===O?{...G,targetAllocationPct:Number(F)||0}:G)),M("")}function E(O){const F=m.find(I=>I.schemeCode===O);F&&F.units>0||x(I=>I.filter(G=>G.schemeCode!==O))}function _(){if(p){if(m.find(O=>O.schemeCode===p.schemeCode)){M("Fund already exists in portfolio");return}x(O=>[...O,{schemeCode:p.schemeCode,fundName:p.fundName,units:0,currentValue:0,currentAllocationPct:0,targetAllocationPct:Number(b)||0,isNew:!0}]),v(null),j(""),M("")}}async function H(){if(N>100){M(`Total allocation is ${N.toFixed(1)}%  must be  100%`);return}g(!0);try{await l(m.map(O=>({schemeCode:O.schemeCode,fundName:O.fundName,targetAllocationPct:O.targetAllocationPct,isNew:O.isNew})))}finally{g(!1)}}const $=u?.sipTarget||0;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:u?.portfolioName}),a.jsx("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)] mt-0.5 flex-wrap",children:a.jsxs("span",{children:["Current Value: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:Q(D)})]})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Fund"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Units"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Current %"}),a.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Target %"}),a.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold w-8"})]})}),a.jsx("tbody",{children:m.map(O=>{const F=O.isNew&&O.targetAllocationPct>0&&O.targetAllocationPct<100&&D>0?O.targetAllocationPct/(100-O.targetAllocationPct)*D:0,I=O.isNew&&O.targetAllocationPct>0&&$>=100?O.targetAllocationPct/100*$:0;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[a.jsxs("td",{className:"py-2 px-2",children:[a.jsx("p",{className:"text-xs text-[var(--text-primary)] leading-tight max-w-[200px] truncate",children:O.fundName}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[O.schemeCode,O.isNew&&a.jsx("span",{className:"text-violet-400 ml-1",children:"(new)"})]}),(F>0||I>0)&&a.jsxs("p",{className:"text-xs text-blue-400 mt-0.5",children:["Invest: ",F>0&&a.jsx("span",{className:"font-semibold",children:Q(F)}),F>0&&I>0&&"  ",I>0&&a.jsxs("span",{className:"font-semibold",children:[Q(I),"/mo SIP"]})]})]}),a.jsx("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:O.units.toFixed(2)}),a.jsxs("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:[O.currentAllocationPct.toFixed(1),"%"]}),a.jsx("td",{className:"py-2 px-2",children:a.jsx("input",{type:"number",value:O.targetAllocationPct,onChange:G=>y(O.schemeCode,G.target.value),className:"w-20 mx-auto block bg-[var(--bg-inset)] border border-[var(--border)] rounded px-2 py-1 text-xs text-center text-[var(--text-primary)] focus:outline-none focus:border-violet-500/50"})}),a.jsx("td",{className:"py-2 px-2 text-center",children:O.units===0&&a.jsx("button",{onClick:()=>E(O.schemeCode),className:"p-1 rounded hover:bg-rose-500/15 text-[var(--text-dim)] hover:text-[var(--accent-rose)] transition-colors",children:a.jsx(_u,{size:12})})})]},O.schemeCode)})}),a.jsx("tfoot",{children:a.jsxs("tr",{className:"border-t border-[var(--border)]",children:[a.jsx("td",{className:"py-2 px-2 text-xs font-bold text-[var(--text-primary)]",children:"Total"}),a.jsx("td",{}),a.jsxs("td",{className:"py-2 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[m.reduce((O,F)=>O+F.currentAllocationPct,0).toFixed(1),"%"]}),a.jsx("td",{className:"py-2 px-2 text-center",children:a.jsxs("span",{className:`text-xs font-bold tabular-nums ${N>100?"text-[var(--accent-rose)]":N===100?"text-emerald-400":"text-amber-400"}`,children:[N.toFixed(1),"%"]})}),a.jsx("td",{})]})})]})}),a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider mb-1",children:"Add New Fund"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"Set target % to see how much to invest. After buying, use Invest to record the transaction."}),a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsx("div",{className:"flex-1",children:a.jsx(Np,{value:p,onSelect:O=>v(O.schemeCode?O:null),placeholder:"Search fund to add..."})}),a.jsx("div",{className:"w-24",children:a.jsx(pe,{type:"number",value:b,onChange:j,placeholder:"Target %",style:{textAlign:"center"}})}),a.jsxs("button",{onClick:_,disabled:!p,className:"shrink-0 flex items-center gap-1 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors disabled:opacity-40 disabled:cursor-not-allowed",children:[a.jsx(Gt,{size:14})," Add"]})]})]})]}),C&&a.jsx("p",{className:"text-xs text-[var(--accent-rose)] font-medium",children:C}),a.jsx(da,{onCancel:r,onSubmit:H,submitLabel:"Save Allocations",loading:S})]})}const Yc=s=>s?.replace(/^PFL-/,"")||s;function Wa(s){if(!s)return null;if(s instanceof Date)return isNaN(s.getTime())?null:s;const l=String(s),r=l.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})/);if(r)return new Date(Number(r[3]),Number(r[2])-1,Number(r[1]));const t=new Date(l);return isNaN(t.getTime())?null:t}function Zb(s){return s>=20?{color:"#c62828",fontWeight:700}:s>=10?{color:"#d84315",fontWeight:700}:s>=5?{color:"#e67e00",fontWeight:600}:s>=1?{color:"#b8860b",fontWeight:600}:{color:"var(--text-dim)",fontWeight:400}}function WA(){const{selectedMember:s}=Jt(),{mfPortfolios:l,mfHoldings:r,mfTransactions:t,activeMembers:o,activeInvestmentAccounts:u,addMFPortfolio:d,updateMFPortfolio:m,deleteMFPortfolio:x,investMF:p,redeemMF:v,switchMF:b,updateHoldingAllocations:j,deleteMFTransaction:C,editMFTransaction:M}=$e(),{showToast:S,showBlockUI:g,hideBlockUI:N}=In(),{mv:D}=Ln(),[y,E]=w.useState(null),[_,H]=w.useState("all"),[$,O]=w.useState("holdings"),[F,I]=w.useState(!1),[G,A]=w.useState(null),[re,U]=w.useState({}),[Z,B]=w.useState("all"),[R,L]=w.useState(null),me=w.useCallback(J=>{A(ce=>ce===J?null:J)},[]),ve=w.useCallback(J=>{U(ce=>({...ce,[J]:(ce[J]||5)+10}))},[]),z=w.useMemo(()=>l?l.filter(J=>J.status!=="Inactive").map(J=>{let ce=u.find(Te=>Te.accountId===J.investmentAccountId);!ce&&J.investmentAccountId&&(ce=u.find(Te=>`${Te.accountName} - ${Te.platformBroker}`===J.investmentAccountId));const _e=ce?.memberId||J.ownerId||"",be=_e?o.find(Te=>Te.memberId===_e):null;return{...J,investmentAccountId:ce?.accountId||J.investmentAccountId,ownerId:_e,ownerName:be?.memberName||J.ownerName||"",platform:ce?.platformBroker||J.investmentAccountName||"",clientId:ce?.accountClientId||""}}):[],[l,u,o]),ee=w.useMemo(()=>z.length?s==="all"?z:z.filter(J=>J.ownerId===s):[],[z,s]),ue=w.useMemo(()=>r?ee.map(J=>{const ce=r.filter(be=>be.portfolioId===J.portfolioId),_e=(t||[]).filter(be=>be.portfolioId===J.portfolioId);return{...J,holdings:ce,txns:_e,fundCount:ce.length}}):[],[ee,r,t]),de=w.useMemo(()=>{const J=_==="all"?ue:ue.filter(Be=>Be.portfolioId===_),ce=J.reduce((Be,He)=>Be+He.totalInvestment,0),_e=J.reduce((Be,He)=>Be+He.currentValue,0),be=J.reduce((Be,He)=>Be+He.unrealizedPL,0),Te=J.reduce((Be,He)=>Be+He.realizedPL,0),le=be+Te,ct=ce>0?le/ce*100:0,ke=ce>0?be/ce*100:0,nt=ce>0?Te/ce*100:0,ia=J.reduce((Be,He)=>Be+He.fundCount,0),wt=(r?_==="all"?r.filter(Be=>J.some(He=>He.portfolioId===Be.portfolioId)):r.filter(Be=>Be.portfolioId===_):[]).reduce((Be,He)=>Be+(He.ongoingSIP||0),0);return{invested:ce,current:_e,unrealizedPL:be,unrealizedPLPct:ke,realizedPL:Te,realizedPLPct:nt,totalPL:le,totalPLPct:ct,funds:ia,monthlySIP:wt}},[ue,_,r]),Se=w.useMemo(()=>r?_==="all"?r.filter(J=>ee.some(ce=>ce.portfolioId===J.portfolioId)):r.filter(J=>J.portfolioId===_):[],[r,ee,_]),ge=w.useMemo(()=>t?(_==="all"?t.filter(ce=>ee.some(_e=>_e.portfolioId===ce.portfolioId)):t.filter(ce=>ce.portfolioId===_)).sort((ce,_e)=>(Wa(_e.date)||0)-(Wa(ce.date)||0)):[],[t,ee,_]),ye=w.useMemo(()=>{const J=new Set;return ge.forEach(ce=>{ce.fundName&&J.add(ce.fundName)}),[...J].sort()},[ge]),Ve=w.useMemo(()=>Z==="all"?ge:ge.filter(J=>J.fundName===Z),[ge,Z]),We=w.useMemo(()=>{const J={};return Se.forEach(ce=>{J[ce.portfolioId]=(J[ce.portfolioId]||0)+ce.currentValue}),Se.map(ce=>{const _e=J[ce.portfolioId]||0,be=_e>0?ce.currentValue/_e*100:0,Te=ce.investment>0?ce.pl/ce.investment*100:0,le=ce.holdingId||`${ce.portfolioId}::${ce.schemeCode||ce.fundCode}`;return{...ce,currentAllocationPct:be,plPct:Te,_key:le}})},[Se]),Qt=w.useMemo(()=>{if(_!=="all")return null;const J=[],ce={};return We.forEach(_e=>{ce[_e.portfolioId]||(ce[_e.portfolioId]={portfolioId:_e.portfolioId,holdings:[]},J.push(ce[_e.portfolioId])),ce[_e.portfolioId].holdings.push(_e)}),J},[We,_]),Bt=w.useMemo(()=>{if(!r)return{};const J={};return ue.forEach(ce=>{const _e=r.filter(ke=>ke.portfolioId===ce.portfolioId&&ke.units>0),be=_e.reduce((ke,nt)=>ke+nt.currentValue,0),Te=(ce.rebalanceThreshold||.05)*100;let le=0,ct=0;_e.forEach(ke=>{ke.athNav>0&&ke.belowATHPct>=5&&le++;const nt=be>0?ke.currentValue/be*100:0;ke.targetAllocationPct>0&&Math.abs(nt-ke.targetAllocationPct)>Te&&ct++}),J[ce.portfolioId]={buyOpp:le,rebalance:ct}}),J},[ue,r]),kt=w.useMemo(()=>{if(_!=="all")return Bt[_]||{buyOpp:0,rebalance:0};let J=0,ce=0;return Object.values(Bt).forEach(_e=>{J+=_e.buyOpp,ce+=_e.rebalance}),{buyOpp:J,rebalance:ce}},[_,Bt]);if(l===null||r===null)return a.jsx(pr,{title:"Loading mutual funds",cards:5});const ot=ue.find(J=>J.portfolioId===_),je=_==="all"?`All Portfolios (${ee.length})`:`${Yc(ot?.portfolioName)}  ${ot?.ownerName}`;async function ze(J){g("Saving...");try{y?.editPortfolio?await m(y.editPortfolio.portfolioId,J):await d(J),S(y?.editPortfolio?"Portfolio updated":"Portfolio created"),E(null)}catch(ce){S(ce.message||"Failed to save portfolio","error")}finally{N()}}async function pt(){if(y?.editPortfolio&&confirm("Deactivate this portfolio?")){g("Deactivating...");try{await x(y.editPortfolio.portfolioId),S("Portfolio deactivated"),H("all"),E(null)}catch(J){S(J.message||"Failed to deactivate portfolio","error")}finally{N()}}}async function la(J){g("Recording investment...");try{await p(J,J.transactionType),S("Investment recorded"),E(null)}catch(ce){S(ce.message||"Failed to record investment","error")}finally{N()}}async function Ba(J){g("Recording redemption...");try{await v(J),S("Redemption recorded"),E(null)}catch(ce){S(ce.message||"Failed to record redemption","error")}finally{N()}}async function xt(J){g("Recording switch...");try{await b(J),S("Switch recorded"),E(null)}catch(ce){S(ce.message||"Failed to record switch","error")}finally{N()}}async function jt(J){if(confirm("Delete this transaction? This will recalculate your holdings.")){g("Deleting...");try{await C(J),S("Transaction deleted"),L(null)}catch(ce){S(ce.message||"Failed to delete transaction","error")}finally{N()}}}async function ma(J){g("Updating...");try{await M(J),S("Transaction updated"),E(null)}catch(ce){S(ce.message||"Failed to update transaction","error")}finally{N()}}async function Xr(J){if(y?.allocations){g("Saving allocations...");try{await j(y.allocations,J),S("Allocations updated"),E(null)}catch(ce){S(ce.message||"Failed to update allocations","error")}finally{N()}}}return a.jsxs("div",{className:"space-y-4",children:[ee.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(Nl,{size:32,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No mutual fund portfolios yet"}),a.jsx("button",{onClick:()=>E("addPortfolio"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first portfolio"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>I(!F),className:"flex items-center gap-2 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm font-semibold text-[var(--text-primary)] hover:border-[var(--border-light)] transition-colors min-w-[220px]",children:[a.jsx(Nl,{size:14,className:"text-violet-400 shrink-0"}),a.jsx("span",{className:"truncate",children:je}),a.jsx(qr,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${F?"rotate-180":""}`})]}),F&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>I(!1)}),a.jsxs("div",{className:"absolute left-0 top-full mt-1 z-40 bg-[var(--bg-dropdown)] border border-[var(--border)] rounded-lg shadow-xl min-w-[300px] py-1 overflow-hidden",children:[a.jsxs("button",{onClick:()=>{H("all"),I(!1),O("holdings")},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${_==="all"?"bg-[var(--sidebar-active-bg)] text-[var(--text-primary)] font-semibold":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:["All Portfolios (",ee.length,")"]}),a.jsx("div",{className:"border-t border-[var(--border-light)]"}),ue.map(J=>{const ce=J.totalPL>=0,_e=Bt[J.portfolioId]||{};return a.jsx("button",{onClick:()=>{H(J.portfolioId),I(!1),O("holdings")},className:`w-full text-left px-4 py-2.5 transition-colors ${_===J.portfolioId?"bg-[var(--sidebar-active-bg)]":"hover:bg-[var(--bg-hover)]"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("p",{className:`text-sm ${_===J.portfolioId?"font-semibold text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:Yc(J.portfolioName)}),_e.buyOpp>0&&a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 shrink-0",title:`${_e.buyOpp} buy opportunities`}),_e.rebalance>0&&a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-400 shrink-0",title:`${_e.rebalance} funds need rebalancing`})]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[J.ownerName,"  ",J.platform,"  ",J.fundCount," funds"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(J.currentValue)}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${ce?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ce?"+":"",J.totalPLPct.toFixed(1),"%"]})]})]})},J.portfolioId)})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs("button",{onClick:()=>E("buyOpp"),disabled:kt.buyOpp===0,className:`flex items-center gap-1.5 px-3 py-2 text-xs font-medium rounded-lg transition-colors ${kt.buyOpp>0?"text-emerald-400 hover:text-emerald-300 bg-[var(--bg-card)] border border-emerald-500/30 animate-glow-emerald":"text-[var(--text-dim)] bg-[var(--bg-card)] border border-[var(--border)] opacity-50 cursor-not-allowed"}`,children:[a.jsx(Ou,{size:12})," Buy Opp.",kt.buyOpp>0&&a.jsx("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-emerald-500/15",children:kt.buyOpp})]}),a.jsxs("button",{onClick:()=>E("rebalance"),disabled:kt.rebalance===0,className:`flex items-center gap-1.5 px-3 py-2 text-xs font-medium rounded-lg transition-colors ${kt.rebalance>0?"text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-violet-500/30 animate-glow-violet":"text-[var(--text-dim)] bg-[var(--bg-card)] border border-[var(--border)] opacity-50 cursor-not-allowed"}`,children:[a.jsx(Sl,{size:12})," Rebalance",kt.rebalance>0&&a.jsx("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-violet-500/15",children:kt.rebalance})]}),ot&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>E({allocations:ot.portfolioId}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(aC,{size:12})," Allocations"]}),a.jsxs("button",{onClick:()=>E({editPortfolio:ot}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(hn,{size:12})," Edit"]})]}),a.jsxs("button",{onClick:()=>E("addPortfolio"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Gt,{size:14})," New Portfolio"]})]})]}),ot&&a.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-dim)] px-1 flex-wrap",children:[a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Platform:"})," ",ot.platform]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Client ID:"})," ",D(ot.clientId,"clientId")]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Funds:"})," ",ot.fundCount]}),ot.sipTarget>=100&&a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"SIP Target:"})," ",Q(ot.sipTarget),"/mo"]}),ot.lumpsumTarget>=100&&a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Lumpsum Target:"})," ",Q(ot.lumpsumTarget)]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Rebalance Threshold:"})," ",(ot.rebalanceThreshold*100).toFixed(0),"%"]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[a.jsx(hl,{label:"Invested",value:Q(de.invested)}),a.jsx(hl,{label:"Current Value",value:Q(de.current),bold:!0}),a.jsx(hl,{label:"Unrealized P&L",value:`${de.unrealizedPL>=0?"+":""}${Q(de.unrealizedPL)}`,sub:`${de.unrealizedPLPct>=0?"+":""}${de.unrealizedPLPct.toFixed(1)}%`,positive:de.unrealizedPL>=0}),a.jsx(hl,{label:"Realized P&L",value:`${de.realizedPL>=0?"+":""}${Q(de.realizedPL)}`,sub:`${de.realizedPLPct>=0?"+":""}${de.realizedPLPct.toFixed(1)}%`,positive:de.realizedPL>=0}),a.jsx(hl,{label:"Total P&L",value:`${de.totalPL>=0?"+":""}${Q(de.totalPL)}`,sub:`${de.totalPLPct>=0?"+":""}${de.totalPLPct.toFixed(1)}%`,positive:de.totalPL>=0,bold:!0}),a.jsx(hl,{label:"Monthly SIP",value:Q(de.monthlySIP),sub:`${de.funds} funds`})]}),a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5",children:[a.jsxs("button",{onClick:()=>O("holdings"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${$==="holdings"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(wy,{size:12})," Holdings (",Se.length,")"]}),a.jsxs("button",{onClick:()=>O("transactions"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${$==="transactions"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(fu,{size:12})," Transactions (",Ve.length,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[_==="all"&&a.jsx("span",{className:"text-xs text-[var(--text-dim)] mr-1 hidden sm:inline",children:"Select a portfolio to take actions"}),a.jsxs("button",{onClick:()=>_!=="all"&&E({invest:_}),disabled:_==="all",className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${_==="all"?"bg-emerald-600/40 text-white/50 cursor-not-allowed":"text-white bg-emerald-600 hover:bg-emerald-500"}`,title:_==="all"?"Select a portfolio first":"",children:[a.jsx(Cl,{size:14})," Invest"]}),a.jsxs("button",{onClick:()=>_!=="all"&&Se.length>0&&E({redeem:_}),disabled:_==="all"||Se.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${_==="all"||Se.length===0?"bg-rose-600/40 text-white/50 cursor-not-allowed":"text-white bg-rose-600 hover:bg-rose-500"}`,title:_==="all"?"Select a portfolio first":"",children:[a.jsx(vy,{size:14})," Redeem"]}),a.jsxs("button",{onClick:()=>_!=="all"&&Se.length>0&&E({switchFunds:_}),disabled:_==="all"||Se.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${_==="all"||Se.length===0?"bg-amber-600/40 text-white/50 cursor-not-allowed":"text-white bg-amber-600 hover:bg-amber-500"}`,title:_==="all"?"Select a portfolio first":"",children:[a.jsx(Q5,{size:14})," Switch"]})]})]}),$==="holdings"&&a.jsx(a.Fragment,{children:Se.length>0?a.jsx("div",{className:_==="all"?"space-y-4":"",children:(_==="all"?Qt:[{portfolioId:_,holdings:We}]).map(J=>{const ce=ue.find(le=>le.portfolioId===J.portfolioId),_e=J.holdings,be=_e.reduce((le,ct)=>le+ct.pl,0),Te=be>=0;return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[_==="all"&&ce&&a.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:Yc(ce.portfolioName)}),ce.ownerName&&a.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:["(",ce.ownerName,")"]}),a.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[" ",_e.filter(le=>le.units>0).length," funds"]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-xs tabular-nums",children:[a.jsx("span",{className:"text-[var(--text-muted)]",children:Q(ce.currentValue||0)}),a.jsxs("span",{className:`font-bold ${Te?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Te?"+":"",Q(be)]})]})]}),a.jsx("div",{className:"hidden lg:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:`border-b border-[var(--border-light)] ${_!=="all"?"bg-[var(--bg-inset)]":""}`,children:[a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Fund Name"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),a.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"NAV"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Avg"})]}),a.jsxs("th",{className:"text-center py-2 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"ATH"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Below Peak"})]}),a.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"Allocation %"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Target"})]}),a.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"Amount"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Invested"})]}),a.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"P&L"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"on Holdings"})]}),a.jsx("th",{className:"py-2 px-2 w-8"})]})}),a.jsx("tbody",{children:_e.map(le=>{const ct=Zb(le.belowATHPct),ke=le.units===0,nt=ue.find(xe=>xe.portfolioId===le.portfolioId),ia=nt?.currentValue||0,qt=G===le._key,wt=le.pl,Be=wt>=0,He=ke&&le.targetAllocationPct>0&&le.targetAllocationPct<100&&ia>0?le.targetAllocationPct/(100-le.targetAllocationPct)*ia:0,tn=ke&&le.targetAllocationPct>0&&nt?.sipTarget>=100?le.targetAllocationPct/100*nt.sipTarget:0,fa=qt?(t||[]).filter(xe=>xe.portfolioId===le.portfolioId&&xe.fundCode===le.schemeCode).sort((xe,St)=>(Wa(St.date)||0)-(Wa(xe.date)||0)):[],an=re[le._key]||5,vn=fa.slice(0,an),bn=xe=>{const St=Wa(xe);return St?Math.floor((new Date-St)/864e5):null};return a.jsxs(ne.Fragment,{children:[a.jsxs("tr",{onClick:()=>!ke&&me(le._key),className:`border-b border-[var(--border-light)] last:border-0 transition-colors ${ke?"opacity-60":"cursor-pointer hover:bg-[var(--bg-hover)]"} ${qt?"bg-[var(--bg-hover)]":""}`,children:[a.jsx("td",{className:"py-2.5 px-3 max-w-[240px]",children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[!ke&&a.jsx(qr,{size:12,className:`shrink-0 text-[var(--text-dim)] transition-transform ${qt?"rotate-180":""}`}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-xs text-[var(--text-primary)] leading-tight",children:[le.fundName,ke&&a.jsx("span",{className:"ml-1.5 text-xs font-semibold text-violet-400 bg-violet-500/15 px-1.5 py-0.5 rounded",children:"Planned"})]}),ke&&(He>0||tn>0)&&a.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[He>0&&a.jsxs("span",{className:"text-xs text-emerald-400 font-semibold",children:["Buy ",Q(He)]}),tn>0&&a.jsxs("span",{className:"text-xs text-blue-400 font-semibold",children:["SIP ",Q(tn),"/mo"]})]})]})]})}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:ke?"":le.units.toFixed(2)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:ke?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:["",le.currentNav.toFixed(2)]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:["",le.avgNav.toFixed(2)]})]})}),a.jsx("td",{className:"py-2.5 px-2 text-center",children:ke?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):le.athNav>0&&le.belowATHPct>0?a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-bold tabular-nums",style:ct,children:["",le.belowATHPct.toFixed(1),"%"]}),a.jsxs("p",{className:"text-[11px] text-[var(--text-muted)] tabular-nums",children:["",le.athNav.toFixed(0)]})]}):le.athNav>0?a.jsx("span",{className:"text-[10px] text-emerald-400/70 font-semibold",children:"AT HIGH"}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:ke?a.jsxs("p",{className:"text-xs font-semibold text-violet-400 tabular-nums",children:[le.targetAllocationPct.toFixed(1),"%"]}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:[le.currentAllocationPct.toFixed(1),"%"]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:[le.targetAllocationPct.toFixed(1),"%"]})]})}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:ke?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(le.currentValue)}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:Q(le.investment)})]})}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:ke?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Be?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Be?"+":"",Q(wt)]}),a.jsxs("p",{className:`text-xs font-bold tabular-nums ${Be?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Be?"+":"",le.plPct.toFixed(1),"%"]})]})}),a.jsx("td",{className:"py-2.5 px-2 text-center",children:a.jsxs("div",{className:"flex items-center gap-0.5 justify-center",children:[a.jsx("button",{onClick:xe=>{xe.stopPropagation(),E({invest:{portfolioId:le.portfolioId,fundCode:le.schemeCode,fundName:le.fundName}})},className:"w-6 h-6 flex items-center justify-center rounded-full bg-emerald-500/15 text-emerald-400 hover:bg-emerald-500/25 transition-colors",title:"Buy / Invest",children:a.jsx(Gt,{size:14,strokeWidth:2.5})}),!ke&&a.jsx("button",{onClick:xe=>{xe.stopPropagation(),E({redeem:{portfolioId:le.portfolioId,fundCode:le.schemeCode}})},className:"w-6 h-6 flex items-center justify-center rounded-full bg-rose-500/15 text-rose-400 hover:bg-rose-500/25 transition-colors",title:"Sell / Redeem",children:a.jsx(uf,{size:14,strokeWidth:2.5})})]})})]}),qt&&!ke&&a.jsx("tr",{className:"border-b border-[var(--border-light)]",children:a.jsx("td",{colSpan:8,className:"p-0",children:a.jsxs("div",{className:"bg-[var(--bg-expanded)] border-t border-[var(--border-light)]",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row",children:[a.jsx("div",{className:"lg:w-52 shrink-0 p-4 border-b lg:border-b-0 lg:border-r border-[var(--border-light)]",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Units"}),a.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums",children:le.units.toFixed(3)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Avg NAV"}),a.jsxs("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums",children:["",le.avgNav.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Invested"}),a.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums",children:Q(le.investment)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Current Value"}),a.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums",children:Q(le.currentValue)})]}),le.ongoingSIP>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Monthly SIP"}),a.jsx("p",{className:"text-base font-bold text-blue-400 tabular-nums",children:Q(le.ongoingSIP)})]}),a.jsxs("div",{className:"pt-3 border-t border-[var(--border-light)] flex gap-2",children:[a.jsxs("button",{onClick:xe=>{xe.stopPropagation(),E({invest:{portfolioId:le.portfolioId,fundCode:le.schemeCode,fundName:le.fundName}})},className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-emerald-400 bg-emerald-500/10 hover:bg-emerald-500/20 rounded-lg transition-colors",children:[a.jsx("span",{className:"w-5 h-5 flex items-center justify-center rounded-full bg-emerald-500/20",children:a.jsx(Gt,{size:12,strokeWidth:2.5})})," Buy"]}),a.jsxs("button",{onClick:xe=>{xe.stopPropagation(),E({redeem:{portfolioId:le.portfolioId,fundCode:le.schemeCode}})},className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-rose-400 bg-rose-500/10 hover:bg-rose-500/20 rounded-lg transition-colors",children:[a.jsx("span",{className:"w-5 h-5 flex items-center justify-center rounded-full bg-rose-500/20",children:a.jsx(uf,{size:12,strokeWidth:2.5})})," Sell"]})]})]})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"px-4 pt-3 pb-1",children:a.jsx("p",{className:"text-xs font-semibold text-[var(--text-secondary)]",children:"Transactions"})}),fa.length===0?a.jsx("p",{className:"py-8 text-xs text-[var(--text-dim)] text-center",children:"No transactions recorded"}):a.jsxs(a.Fragment,{children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-2 px-4 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Date"}),a.jsx("th",{className:"text-left py-2 px-2 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Type"}),a.jsx("th",{className:"text-center py-2 px-2 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Days"}),a.jsx("th",{className:"text-right py-2 px-3 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Amount"}),a.jsx("th",{className:"text-right py-2 px-3 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"NAV"}),a.jsx("th",{className:"text-right py-2 px-3 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Units"}),a.jsx("th",{className:"text-right py-2 px-3 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"P&L"}),a.jsx("th",{className:"w-8 py-2 px-1"})]})}),a.jsx("tbody",{children:vn.map((xe,St)=>{const nn=Wa(xe.date),ka=!!nn,xr=ka?nn.toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):xe.date||"",zn=ka?bn(xe.date):null,hr=xe.type==="BUY",rn=!hr&&xe.gainLoss!=null&&xe.gainLoss!==0,_s=rn&&xe.gainLoss>=0;return a.jsxs("tr",{className:"group border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-secondary)] tabular-nums whitespace-nowrap",children:xr}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded ${hr?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:xe.transactionType||xe.type})}),a.jsx("td",{className:"py-2.5 px-2 text-xs text-[var(--text-dim)] tabular-nums text-center",children:zn??""}),a.jsx("td",{className:"py-2.5 px-3 text-xs font-semibold text-[var(--text-primary)] tabular-nums text-right",children:Q(xe.totalAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums text-right",children:Number(xe.price).toFixed(4)}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums text-right",children:Number(xe.units).toFixed(3)}),a.jsx("td",{className:`py-2.5 px-3 text-xs font-semibold tabular-nums text-right ${rn?_s?"text-emerald-400":"text-[var(--accent-rose)]":"text-[var(--text-dim)]"}`,children:rn?`${_s?"+":""}${Q(xe.gainLoss)}`:""}),a.jsx("td",{className:"py-2.5 px-1",children:a.jsx(Uc,{txn:xe,isOpen:R===xe.transactionId,onToggle:()=>L(R===xe.transactionId?null:xe.transactionId),onEdit:()=>{console.log("EDIT clicked, txn:",xe),L(null),E({editTxn:xe})},onDelete:()=>{L(null),jt(xe.transactionId)}})})]},xe.transactionId||`txn-${St}`)})})]}),fa.length>an&&a.jsx("div",{className:"py-2 text-center border-t border-[var(--border-light)]",children:a.jsxs("button",{onClick:xe=>{xe.stopPropagation(),ve(le._key)},className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:["Show More (",fa.length-an," remaining)"]})})]})]})]}),a.jsx("div",{className:"flex justify-center py-1.5 border-t border-[var(--border-light)]",children:a.jsx("button",{onClick:()=>me(le._key),className:"p-0.5 text-[var(--text-dim)] hover:text-[var(--text-muted)]",children:a.jsx(GS,{size:14})})})]})})})]},le._key)})})]})}),a.jsx("div",{className:"lg:hidden divide-y divide-[var(--border-light)]",children:_e.map(le=>{const ct=Zb(le.belowATHPct),ke=le.units===0,nt=ue.find(xe=>xe.portfolioId===le.portfolioId),ia=nt?.currentValue||0,qt=G===le._key,wt=le.pl,Be=wt>=0,He=ke&&le.targetAllocationPct>0&&le.targetAllocationPct<100&&ia>0?le.targetAllocationPct/(100-le.targetAllocationPct)*ia:0,tn=ke&&le.targetAllocationPct>0&&nt?.sipTarget>=100?le.targetAllocationPct/100*nt.sipTarget:0,fa=qt?(t||[]).filter(xe=>xe.portfolioId===le.portfolioId&&xe.fundCode===le.schemeCode).sort((xe,St)=>(Wa(St.date)||0)-(Wa(xe.date)||0)):[],an=re[le._key]||5,vn=fa.slice(0,an),bn=xe=>{const St=Wa(xe);return St?Math.floor((new Date-St)/864e5):null};return a.jsxs("div",{className:ke?"opacity-60":"",children:[a.jsxs("div",{onClick:()=>!ke&&me(le._key),className:`px-4 py-3 ${ke?"":"cursor-pointer"} ${qt?"bg-[var(--bg-hover)]":""}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-1.5",children:[a.jsxs("div",{className:"flex-1 mr-3",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[!ke&&a.jsx(qr,{size:12,className:`shrink-0 text-[var(--text-dim)] transition-transform ${qt?"rotate-180":""}`}),a.jsxs("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:[le.fundName,ke&&a.jsx("span",{className:"ml-1.5 text-xs font-semibold text-violet-400 bg-violet-500/15 px-1.5 py-0.5 rounded",children:"Planned"})]})]}),ke&&(He>0||tn>0)&&a.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[He>0&&a.jsxs("span",{className:"text-xs text-emerald-400 font-semibold",children:["Buy ",Q(He)]}),tn>0&&a.jsxs("span",{className:"text-xs text-blue-400 font-semibold",children:["SIP ",Q(tn),"/mo"]})]})]}),ke?a.jsxs("p",{className:"text-xs font-semibold text-violet-400 tabular-nums shrink-0",children:["Target: ",le.targetAllocationPct.toFixed(1),"%"]}):a.jsxs("div",{className:"text-right shrink-0",children:[a.jsxs("p",{className:`text-xs font-bold tabular-nums ${Be?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Be?"+":"",Q(wt)]}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Be?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Be?"+":"",le.plPct.toFixed(1),"%"]})]})]}),ke?a.jsx("div",{className:"flex items-center justify-end mt-1",children:a.jsxs("button",{onClick:xe=>{xe.stopPropagation(),E({invest:{portfolioId:le.portfolioId,fundCode:le.schemeCode,fundName:le.fundName}})},className:"shrink-0 flex items-center gap-1 text-[10px] font-semibold text-emerald-400 hover:text-emerald-300 px-2 py-0.5 rounded bg-emerald-500/10",children:[a.jsx("span",{className:"w-4 h-4 flex items-center justify-center rounded-full bg-emerald-500/20",children:a.jsx(Gt,{size:10,strokeWidth:2.5})})," Buy"]})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between text-xs text-[var(--text-dim)]",children:[a.jsxs("div",{children:[a.jsxs("span",{children:[le.units.toFixed(2)," units"]}),a.jsx("span",{className:"mx-1",children:""}),a.jsxs("span",{children:["NAV ",le.currentNav.toFixed(2)," / ",le.avgNav.toFixed(2)]})]}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(le.currentValue)})]}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)] flex-wrap",children:[a.jsxs("span",{children:["Alloc: ",le.currentAllocationPct.toFixed(1),"% / ",le.targetAllocationPct.toFixed(1),"%"]}),le.athNav>0&&le.belowATHPct>0?a.jsxs("span",{className:"font-bold tabular-nums",style:ct,children:["ATH ",le.belowATHPct.toFixed(1),"%"]}):le.athNav>0?a.jsx("span",{className:"text-emerald-400/70 font-semibold text-[10px]",children:"AT HIGH"}):null]}),a.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[a.jsxs("button",{onClick:xe=>{xe.stopPropagation(),E({invest:{portfolioId:le.portfolioId,fundCode:le.schemeCode,fundName:le.fundName}})},className:"flex items-center gap-1 text-[10px] font-semibold text-emerald-400 hover:text-emerald-300 px-2 py-0.5 rounded bg-emerald-500/10",children:[a.jsx("span",{className:"w-4 h-4 flex items-center justify-center rounded-full bg-emerald-500/20",children:a.jsx(Gt,{size:10,strokeWidth:2.5})})," Buy"]}),a.jsxs("button",{onClick:xe=>{xe.stopPropagation(),E({redeem:{portfolioId:le.portfolioId,fundCode:le.schemeCode}})},className:"flex items-center gap-1 text-[10px] font-semibold text-rose-400 hover:text-rose-300 px-2 py-0.5 rounded bg-rose-500/10",children:[a.jsx("span",{className:"w-4 h-4 flex items-center justify-center rounded-full bg-rose-500/20",children:a.jsx(uf,{size:10,strokeWidth:2.5})})," Sell"]})]})]})]})]}),qt&&!ke&&a.jsxs("div",{className:"bg-[var(--bg-inset)] border-l-2 border-l-violet-500/40 px-4 pb-3",children:[a.jsx("div",{className:"flex items-center justify-between py-2",children:a.jsxs("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:["Transactions (",fa.length,")"]})}),fa.length===0?a.jsx("p",{className:"py-4 text-xs text-[var(--text-dim)] text-center",children:"No transactions recorded"}):a.jsxs("div",{className:"space-y-2",children:[vn.map((xe,St)=>{const nn=bn(xe.date),ka=xe.type==="BUY",xr=!ka&&xe.gainLoss!=null&&xe.gainLoss!==0,zn=xr&&xe.gainLoss>=0;return a.jsxs("div",{className:"flex items-center justify-between text-xs bg-[var(--bg-card)] rounded-lg px-3 py-2",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:"text-[var(--text-secondary)]",children:(Wa(xe.date)||new Date).toLocaleDateString("en-IN",{day:"2-digit",month:"short"})}),a.jsx("span",{className:`text-[10px] font-semibold px-1 py-0.5 rounded ${ka?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:xe.transactionType||xe.type}),a.jsxs("span",{className:"text-[var(--text-dim)]",children:[nn,"d"]})]}),a.jsxs("p",{className:"text-[var(--text-dim)] mt-0.5",children:[Number(xe.units).toFixed(3)," units @ ",Number(xe.price).toFixed(2)]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-semibold text-[var(--text-primary)] tabular-nums",children:Q(xe.totalAmount)}),xr&&a.jsxs("p",{className:`font-semibold tabular-nums ${zn?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[zn?"+":"",Q(xe.gainLoss)]})]}),a.jsx(Uc,{txn:xe,isOpen:R===xe.transactionId,onToggle:()=>L(R===xe.transactionId?null:xe.transactionId),onEdit:()=>{console.log("EDIT clicked, txn:",xe),L(null),E({editTxn:xe})},onDelete:()=>{L(null),jt(xe.transactionId)}})]})]},xe.transactionId||`txn-${St}`)}),fa.length>an&&a.jsxs("button",{onClick:()=>ve(le._key),className:"w-full py-1.5 text-xs font-semibold text-violet-400 hover:text-violet-300 text-center",children:["Show More (",fa.length-an," remaining)"]})]})]})]},le._key)})})]},J.portfolioId)})}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(Nl,{size:28,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No holdings",ot?" in this portfolio":""]}),a.jsx("button",{onClick:()=>E({invest:_!=="all"?_:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Add your first fund"})]})}),$==="transactions"&&a.jsxs(a.Fragment,{children:[ye.length>1&&a.jsxs("div",{className:"flex items-center gap-2 px-1",children:[a.jsx(Ny,{size:12,className:"text-[var(--text-dim)]"}),a.jsxs("select",{value:Z,onChange:J=>B(J.target.value),className:"text-xs bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg px-3 py-1.5 max-w-[350px] truncate",children:[a.jsxs("option",{value:"all",children:["All Funds (",ge.length,")"]}),ye.map(J=>a.jsxs("option",{value:J,children:[J," (",ge.filter(ce=>ce.fundName===J).length,")"]},J))]}),Z!=="all"&&a.jsx("button",{onClick:()=>B("all"),className:"text-xs text-[var(--text-dim)] hover:text-[var(--text-muted)] underline",children:"Clear"})]}),Ve.length>0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Fund"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"NAV"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Gain/Loss"}),a.jsx("th",{className:"w-8"})]})}),a.jsx("tbody",{children:Ve.map((J,ce)=>{const _e=J.type==="BUY",be=!_e&&J.gainLoss!=null&&J.gainLoss!==0,Te=be&&J.gainLoss>=0,le=_==="all"?ue.find(ke=>ke.portfolioId===J.portfolioId):null,ct={INITIAL:{bg:"bg-purple-500/15",text:"text-purple-400"},SIP:{bg:"bg-blue-500/15",text:"text-blue-400"},LUMPSUM:{bg:"bg-emerald-500/15",text:"text-emerald-400"},WITHDRAWAL:{bg:"bg-rose-500/15",text:"text-[var(--accent-rose)]"},SWITCH:{bg:"bg-amber-500/15",text:"text-amber-400"}}[J.transactionType]||{bg:"bg-gray-500/15",text:"text-[var(--text-muted)]"};return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:J.date}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${_e?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:J.type}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${ct.bg} ${ct.text}`,children:J.transactionType})]})}),a.jsxs("td",{className:"py-2.5 px-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-primary)] truncate max-w-[200px]",children:J.fundName}),le&&a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:Yc(le.portfolioName)})]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:J.units.toFixed(2)}),a.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:["",J.price.toFixed(2)]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(J.totalAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:be?a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${Te?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Te?"+":"",Q(J.gainLoss)]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),a.jsx("td",{className:"py-2.5 px-1",children:a.jsx(Uc,{txn:J,isOpen:R===J.transactionId,onToggle:()=>L(R===J.transactionId?null:J.transactionId),onEdit:()=>{console.log("EDIT clicked, txn:",J),L(null),E({editTxn:J})},onDelete:()=>{L(null),jt(J.transactionId)}})})]},J.transactionId||`txn-${ce}`)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:Ve.map((J,ce)=>{const _e=J.type==="BUY",be=!_e&&J.gainLoss!=null&&J.gainLoss!==0,Te=be&&J.gainLoss>=0;return a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${_e?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:J.type}),a.jsx("span",{className:"text-xs font-semibold text-[var(--text-dim)]",children:J.transactionType})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:J.date}),a.jsx(Uc,{txn:J,isOpen:R===J.transactionId,onToggle:()=>L(R===J.transactionId?null:J.transactionId),onEdit:()=>{console.log("EDIT clicked, txn:",J),L(null),E({editTxn:J})},onDelete:()=>{L(null),jt(J.transactionId)}})]})]}),a.jsx("p",{className:"text-xs text-[var(--text-primary)] truncate mb-1",children:J.fundName}),a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsxs("p",{className:"text-[var(--text-dim)]",children:[J.units.toFixed(2)," units @ ",J.price.toFixed(2)]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(J.totalAmount)}),be&&a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Te?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["G/L: ",Te?"+":"",Q(J.gainLoss)]})]})]}),J.notes&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:J.notes})]},J.transactionId||`txn-m-${ce}`)})})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(fu,{size:28,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:Z!=="all"?"No transactions for this fund":"No transactions yet"}),Z!=="all"?a.jsx("button",{onClick:()=>B("all"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Show all transactions"}):a.jsx("button",{onClick:()=>E({invest:_!=="all"?_:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Make your first investment"})]})]})]}),a.jsx(_t,{open:y==="addPortfolio"||!!y?.editPortfolio,onClose:()=>E(null),title:y?.editPortfolio?"Edit Portfolio":"New MF Portfolio",children:a.jsx(rA,{initial:y?.editPortfolio||void 0,onSave:ze,onDelete:y?.editPortfolio?pt:void 0,onCancel:()=>E(null)})}),a.jsx(_t,{open:!!y?.invest,onClose:()=>E(null),title:"Invest in Mutual Fund",wide:!0,children:a.jsx(GA,{portfolioId:typeof y?.invest=="object"?y.invest.portfolioId:typeof y?.invest=="string"?y.invest:void 0,fundCode:typeof y?.invest=="object"?y.invest.fundCode:void 0,fundName:typeof y?.invest=="object"?y.invest.fundName:void 0,onSave:la,onCancel:()=>E(null)},y?.invest?.fundCode||y?.invest?.portfolioId||y?.invest)}),a.jsx(_t,{open:!!y?.redeem,onClose:()=>E(null),title:"Redeem Mutual Fund",wide:!0,children:a.jsx(QA,{portfolioId:typeof y?.redeem=="object"?y.redeem.portfolioId:typeof y?.redeem=="string"?y.redeem:void 0,fundCode:typeof y?.redeem=="object"?y.redeem.fundCode:void 0,onSave:Ba,onCancel:()=>E(null)},y?.redeem?.fundCode||y?.redeem?.portfolioId||y?.redeem)}),a.jsx(_t,{open:!!y?.switchFunds,onClose:()=>E(null),title:"Switch Funds",wide:!0,children:a.jsx(KA,{portfolioId:typeof y?.switchFunds=="string"?y.switchFunds:void 0,onSave:xt,onCancel:()=>E(null)})}),a.jsx(_t,{open:!!y?.allocations,onClose:()=>E(null),title:"Manage Portfolio Allocation",wide:!0,children:y?.allocations&&a.jsx(XA,{portfolioId:y.allocations,onSave:Xr,onCancel:()=>E(null)})}),a.jsx(_t,{open:y==="rebalance",onClose:()=>E(null),title:"Rebalance Portfolios",wide:!0,children:y==="rebalance"&&a.jsx(y1,{})}),a.jsx(_t,{open:y==="buyOpp",onClose:()=>E(null),title:"Buy Opportunities",wide:!0,children:y==="buyOpp"&&a.jsx(_y,{})}),console.log("MODAL STATE:",y,"editTxn open?",!!y?.editTxn),a.jsx(_t,{open:!!y?.editTxn,onClose:()=>E(null),title:"Edit Transaction",children:y?.editTxn&&a.jsx(ZA,{txn:y.editTxn,onSave:ma,onCancel:()=>E(null)})})]})}function hl({label:s,value:l,sub:r,positive:t,bold:o}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:`text-sm tabular-nums ${o?"font-bold":"font-semibold"} ${t===void 0?"text-[var(--text-primary)]":t?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:l}),r&&a.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${t?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}function Uc({txn:s,isOpen:l,onToggle:r,onEdit:t,onDelete:o}){const u=w.useRef(null);return w.useEffect(()=>{if(!l)return;function d(m){u.current&&!u.current.contains(m.target)&&r()}return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[l,r]),s.transactionId?a.jsxs("div",{ref:u,className:"relative",children:[a.jsx("button",{onClick:d=>{d.stopPropagation(),r()},className:"p-1 rounded-md text-[var(--text-dim)] hover:text-[var(--text-muted)] hover:bg-[var(--bg-hover)] transition-colors",title:"Actions",children:a.jsx(u5,{size:14})}),l&&a.jsxs("div",{className:"absolute right-0 top-full mt-1 z-50 bg-[var(--bg-dropdown)] border border-[var(--border)] rounded-lg shadow-xl py-1 min-w-[120px]",children:[a.jsxs("button",{onClick:d=>{d.stopPropagation(),t()},className:"w-full text-left px-3 py-2 text-xs text-[var(--text-secondary)] hover:bg-[var(--bg-hover)] hover:text-[var(--text-primary)] flex items-center gap-2 transition-colors",children:[a.jsx(hn,{size:12})," Edit"]}),a.jsxs("button",{onClick:d=>{d.stopPropagation(),o()},className:"w-full text-left px-3 py-2 text-xs text-[var(--accent-rose)] hover:bg-rose-500/10 flex items-center gap-2 transition-colors",children:[a.jsx(_u,{size:12})," Delete"]})]})]}):null}function ZA({txn:s,onSave:l,onCancel:r}){console.log("EditTxnForm RENDER, txn:",s,"date raw:",s.date,"parsed:",Wa(s.date));const[t,o]=w.useState(()=>{const S=Wa(s.date);return S?S.toISOString().split("T")[0]:""}),[u,d]=w.useState(String(s.units||"")),[m,x]=w.useState(String(s.price||"")),[p,v]=w.useState(s.notes||""),[b,j]=w.useState(!1),C=(Number(u)||0)*(Number(m)||0);async function M(){if(!(!u||Number(u)<=0)&&!(!m||Number(m)<=0)){j(!0);try{await l({transactionId:s.transactionId,date:t,units:u,price:m,notes:p})}finally{j(!1)}}}return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:s.fundName}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[s.type,"  ",s.transactionType,"  ",s.transactionId]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Date"}),a.jsx("input",{type:"date",value:t,onChange:S=>o(S.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Units"}),a.jsx("input",{type:"number",value:u,onChange:S=>d(S.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"NAV (price)"}),a.jsx("input",{type:"number",value:m,onChange:S=>x(S.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]})]}),C>0&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(C)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Notes"}),a.jsx("input",{type:"text",value:p,onChange:S=>v(S.target.value),placeholder:"Optional notes...",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-[var(--border-light)]",children:[a.jsx("button",{onClick:r,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:"Cancel"}),a.jsx("button",{onClick:M,disabled:b||!u||Number(u)<=0||!m||Number(m)<=0,className:"px-4 py-2 text-xs font-bold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Saving...":"Update Transaction"})]})]})}function JA({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o,activeInvestmentAccounts:u}=$e(),d=!!s,[m,x]=w.useState({portfolioName:s?.portfolioName||"",ownerId:s?.ownerId||"",investmentAccountId:s?.investmentAccountId||""}),[p,v]=w.useState({}),[b,j]=w.useState(!1);function C(y,E){x(_=>({..._,[y]:E})),v(_=>({..._,[y]:void 0}))}function M(y){x(E=>({...E,ownerId:y,investmentAccountId:""})),v(E=>({...E,ownerId:void 0}))}const S=w.useMemo(()=>m.ownerId?u.filter(y=>y.memberId===m.ownerId&&(y.accountType==="Demat + Trading"||y.accountType==="Trading")).map(y=>({value:y.accountId,label:`${y.accountName} - ${y.platformBroker}`})):[],[u,m.ownerId]);function g(){const y={};return m.portfolioName.trim()||(y.portfolioName="Required"),m.ownerId||(y.ownerId="Required"),m.investmentAccountId||(y.investmentAccountId="Required"),v(y),Object.keys(y).length===0}async function N(){if(g()){j(!0);try{await l(m)}finally{j(!1)}}}const D=o.map(y=>({value:y.memberId,label:`${y.memberName} (${y.relationship})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(te,{label:"Portfolio Name",required:!0,error:p.portfolioName,children:a.jsx(pe,{value:m.portfolioName,onChange:y=>C("portfolioName",y),placeholder:"e.g., Long-Term Growth"})}),a.jsx(te,{label:"Owner",required:!0,error:p.ownerId,children:a.jsx(Re,{value:m.ownerId,onChange:M,options:D,placeholder:"Select family member..."})}),a.jsx(te,{label:"Investment Account",required:!0,error:p.investmentAccountId,children:a.jsx(Re,{value:m.investmentAccountId,onChange:y=>C("investmentAccountId",y),options:S,placeholder:m.ownerId?S.length?"Select demat account...":"No demat accounts for this member":"Select owner first..."})}),d&&r&&a.jsx(fr,{onClick:r}),a.jsx(da,{onCancel:t,onSubmit:N,submitLabel:d?"Update":"Create Portfolio",loading:b})]})}function eT({portfolioId:s,onSave:l,onCancel:r}){const{stockPortfolios:t}=$e(),{selectedMember:o}=Jt(),u=w.useMemo(()=>{const D=t.filter(y=>y.status==="Active");return o==="all"?D:D.filter(y=>y.ownerId===o)},[t,o]),[d,m]=w.useState({portfolioId:s||"",symbol:"",companyName:"",exchange:"NSE",date:new Date().toISOString().split("T")[0],quantity:"",pricePerShare:"",brokerage:"0",notes:""}),[x,p]=w.useState({}),[v,b]=w.useState(!1);function j(D,y){m(E=>({...E,[D]:y})),p(E=>({...E,[D]:void 0}))}const C=w.useMemo(()=>{const D=Number(d.quantity)||0,y=Number(d.pricePerShare)||0;return D*y},[d.quantity,d.pricePerShare]),M=w.useMemo(()=>C+(Number(d.brokerage)||0),[C,d.brokerage]);function S(){const D={};return d.portfolioId||(D.portfolioId="Required"),d.symbol.trim()||(D.symbol="Required"),d.companyName.trim()||(D.companyName="Required"),d.date||(D.date="Required"),(!d.quantity||Number(d.quantity)<=0)&&(D.quantity="Must be > 0"),(!d.pricePerShare||Number(d.pricePerShare)<=0)&&(D.pricePerShare="Must be > 0"),p(D),Object.keys(D).length===0}async function g(){if(S()){b(!0);try{await l(d)}finally{b(!1)}}}const N=u.map(D=>{const y=D.portfolioName?.replace(/^PFL-/,"")||D.portfolioName,E=D.ownerName?`${y} (${D.ownerName})`:y;return{value:D.portfolioId,label:E}});return a.jsxs("div",{className:"space-y-4",children:[a.jsx(te,{label:"Portfolio",required:!0,error:x.portfolioId,children:a.jsx(Re,{value:d.portfolioId,onChange:D=>j("portfolioId",D),options:N,placeholder:"Select portfolio..."})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Stock Symbol",required:!0,error:x.symbol,children:a.jsx(pe,{value:d.symbol,onChange:D=>j("symbol",D.toUpperCase()),placeholder:"e.g., RELIANCE"})}),a.jsx(te,{label:"Company Name",required:!0,error:x.companyName,children:a.jsx(pe,{value:d.companyName,onChange:D=>j("companyName",D),placeholder:"e.g., Reliance Industries Ltd"})})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:a.jsx(te,{label:"Purchase Date",required:!0,error:x.date,children:a.jsx(pe,{type:"date",value:d.date,onChange:D=>j("date",D)})})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Quantity (Shares)",required:!0,error:x.quantity,children:a.jsx(pe,{type:"number",value:d.quantity,onChange:D=>j("quantity",D),placeholder:"e.g., 100"})}),a.jsx(te,{label:"Price per Share ()",required:!0,error:x.pricePerShare,children:a.jsx(pe,{type:"number",value:d.pricePerShare,onChange:D=>j("pricePerShare",D),placeholder:"e.g., 2500"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Brokerage ()",children:a.jsx(pe,{type:"number",value:d.brokerage,onChange:D=>j("brokerage",D),placeholder:"0"})}),a.jsx("div",{className:"flex flex-col justify-end",children:a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(C)}),Number(d.brokerage)>0&&a.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:["Net: ",Q(M)]})]})})]}),a.jsx(te,{label:"Notes",children:a.jsx(pe,{value:d.notes,onChange:D=>j("notes",D),placeholder:"Optional notes..."})}),a.jsx(da,{onCancel:r,onSubmit:g,submitLabel:"Buy Stock",loading:v})]})}function tT({portfolioId:s,onSave:l,onCancel:r}){const{stockPortfolios:t,stockHoldings:o}=$e(),{selectedMember:u}=Jt(),d=w.useMemo(()=>{const F=t.filter(I=>I.status==="Active");return u==="all"?F:F.filter(I=>I.ownerId===u)},[t,u]),[m,x]=w.useState({portfolioId:s||"",symbol:"",companyName:"",date:new Date().toISOString().split("T")[0],quantity:"",pricePerShare:"",brokerage:"0",notes:""}),[p,v]=w.useState({}),[b,j]=w.useState(!1);function C(F,I){x(G=>({...G,[F]:I})),v(G=>({...G,[F]:void 0}))}const M=w.useMemo(()=>m.portfolioId?o.filter(F=>F.portfolioId===m.portfolioId&&F.quantity>0):[],[o,m.portfolioId]),S=M.find(F=>F.symbol===m.symbol),g=S?.quantity||0,N=w.useMemo(()=>{const F=Number(m.quantity)||0,I=Number(m.pricePerShare)||0;return F*I},[m.quantity,m.pricePerShare]),D=w.useMemo(()=>N-(Number(m.brokerage)||0),[N,m.brokerage]);function y(F){const I=M.find(G=>G.symbol===F);x(G=>({...G,symbol:F,companyName:I?.companyName||""})),v(G=>({...G,symbol:void 0}))}function E(F){x(I=>({...I,portfolioId:F,symbol:"",companyName:"",quantity:""})),v(I=>({...I,portfolioId:void 0}))}function _(){const F={};return m.portfolioId||(F.portfolioId="Required"),m.symbol||(F.symbol="Required"),m.date||(F.date="Required"),(!m.quantity||Number(m.quantity)<=0)&&(F.quantity="Must be > 0"),Number(m.quantity)>g&&(F.quantity=`Max ${g} shares`),(!m.pricePerShare||Number(m.pricePerShare)<=0)&&(F.pricePerShare="Must be > 0"),v(F),Object.keys(F).length===0}async function H(){if(_()){j(!0);try{await l(m)}finally{j(!1)}}}const $=d.map(F=>{const I=F.portfolioName?.replace(/^PFL-/,"")||F.portfolioName,G=F.ownerName?`${I} (${F.ownerName})`:I;return{value:F.portfolioId,label:G}}),O=M.map(F=>({value:F.symbol,label:`${F.symbol}  ${F.quantity} shares`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(te,{label:"Portfolio",required:!0,error:p.portfolioId,children:a.jsx(Re,{value:m.portfolioId,onChange:E,options:$,placeholder:"Select portfolio..."})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Stock to Sell",required:!0,error:p.symbol,children:a.jsx(Re,{value:m.symbol,onChange:y,options:O,placeholder:m.portfolioId?M.length?"Select stock...":"No holdings in this portfolio":"Select portfolio first..."})}),S&&a.jsx("div",{className:"flex flex-col justify-end",children:a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:S.companyName}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:g})," shares @ ",Q(S.avgBuyPrice)," avg"]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Sale Date",required:!0,error:p.date,children:a.jsx(pe,{type:"date",value:m.date,onChange:F=>C("date",F)})}),a.jsx(te,{label:"Quantity to Sell",required:!0,error:p.quantity,children:a.jsx(pe,{type:"number",value:m.quantity,onChange:F=>C("quantity",F),placeholder:g?`Max: ${g}`:""})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Sale Price per Share ()",required:!0,error:p.pricePerShare,children:a.jsx(pe,{type:"number",value:m.pricePerShare,onChange:F=>C("pricePerShare",F),placeholder:"e.g., 2750"})}),a.jsx(te,{label:"Brokerage ()",children:a.jsx(pe,{type:"number",value:m.brokerage,onChange:F=>C("brokerage",F),placeholder:"0"})})]}),N>0&&a.jsx("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Net Sale Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(D)})]}),S&&a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. P&L"}),(()=>{const F=Number(m.quantity)*S.avgBuyPrice,I=D-F,G=I>=0;return a.jsxs("p",{className:`text-sm font-bold tabular-nums ${G?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[G?"+":"",Q(I)]})})()]})]})}),a.jsx(te,{label:"Notes",children:a.jsx(pe,{value:m.notes,onChange:F=>C("notes",F),placeholder:"Optional notes..."})}),a.jsx(da,{onCancel:r,onSubmit:H,submitLabel:"Sell Stock",loading:b})]})}function aT(){const{selectedMember:s}=Jt(),{stockPortfolios:l,stockHoldings:r,stockTransactions:t,activeInvestmentAccounts:o,addStockPortfolio:u,updateStockPortfolio:d,deleteStockPortfolio:m,buyStock:x,sellStock:p}=$e(),{showToast:v,showBlockUI:b,hideBlockUI:j}=In(),{mv:C}=Ln(),[M,S]=w.useState(null),[g,N]=w.useState("all"),[D,y]=w.useState("holdings"),[E,_]=w.useState(!1),H=w.useMemo(()=>{if(!l)return[];const R=l.filter(L=>L.status!=="Inactive");return s==="all"?R:R.filter(L=>L.ownerId===s)},[l,s]),$=w.useMemo(()=>r?H.map(R=>{const L=r.filter(ye=>ye.portfolioId===R.portfolioId),me=(t||[]).filter(ye=>ye.portfolioId===R.portfolioId),ve=L.reduce((ye,Ve)=>ye+Ve.totalInvestment,0),z=L.reduce((ye,Ve)=>ye+Ve.currentValue,0),ee=z-ve,ue=me.filter(ye=>ye.type==="SELL"&&ye.realizedPL!=null).reduce((ye,Ve)=>ye+Ve.realizedPL,0),de=ee+ue,Se=ve>0?de/ve*100:0,ge=o.find(ye=>ye.accountId===R.investmentAccountId);return{...R,holdings:L,txns:me,invested:ve,current:z,unrealizedPL:ee,realizedPL:ue,totalPL:de,totalPLPct:Se,stockCount:L.length,platform:ge?.platformBroker||R.investmentAccountName||"",clientId:ge?.accountClientId||""}}):[],[H,r,t,o]),O=w.useMemo(()=>{const R=g==="all"?$:$.filter(ge=>ge.portfolioId===g),L=R.reduce((ge,ye)=>ge+ye.invested,0),me=R.reduce((ge,ye)=>ge+ye.current,0),ve=R.reduce((ge,ye)=>ge+ye.unrealizedPL,0),z=R.reduce((ge,ye)=>ge+ye.realizedPL,0),ee=ve+z,ue=L>0?ee/L*100:0,de=L>0?ve/L*100:0,Se=R.reduce((ge,ye)=>ge+ye.stockCount,0);return{invested:L,current:me,unrealizedPL:ve,unrealizedPLPct:de,realizedPL:z,totalPL:ee,totalPLPct:ue,stocks:Se}},[$,g]),F=w.useMemo(()=>r?g==="all"?r.filter(R=>H.some(L=>L.portfolioId===R.portfolioId)):r.filter(R=>R.portfolioId===g):[],[r,H,g]),I=w.useMemo(()=>t?(g==="all"?t.filter(L=>H.some(me=>me.portfolioId===L.portfolioId)):t.filter(L=>L.portfolioId===g)).sort((L,me)=>new Date(me.date)-new Date(L.date)):[],[t,H,g]);if(l===null||r===null)return a.jsx(pr,{title:"Loading stocks",cards:5});const G=$.find(R=>R.portfolioId===g),A=g==="all"?`All Portfolios (${H.length})`:`${G?.portfolioName}  ${G?.ownerName}`;async function re(R){b("Saving...");try{M?.editPortfolio?await d(M.editPortfolio.portfolioId,R):await u(R),v(M?.editPortfolio?"Portfolio updated":"Portfolio created"),S(null)}catch(L){v(L.message||"Failed to save portfolio","error")}finally{j()}}async function U(){if(M?.editPortfolio&&confirm("Deactivate this portfolio?")){b("Deactivating...");try{await m(M.editPortfolio.portfolioId),v("Portfolio deactivated"),N("all"),S(null)}catch(R){v(R.message||"Failed to deactivate portfolio","error")}finally{j()}}}async function Z(R){b("Recording purchase...");try{await x(R),v("Stock purchase recorded"),S(null)}catch(L){v(L.message||"Failed to record purchase","error")}finally{j()}}async function B(R){b("Recording sale...");try{await p(R),v("Stock sale recorded"),S(null)}catch(L){v(L.message||"Failed to record sale","error")}finally{j()}}return a.jsxs("div",{className:"space-y-4",children:[H.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(Gi,{size:32,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No stock portfolios yet"}),a.jsx("button",{onClick:()=>S("addPortfolio"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first portfolio"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>_(!E),className:"flex items-center gap-2 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm font-semibold text-[var(--text-primary)] hover:border-[var(--border-light)] transition-colors min-w-[220px]",children:[a.jsx(Gi,{size:14,className:"text-violet-400 shrink-0"}),a.jsx("span",{className:"truncate",children:A}),a.jsx(qr,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${E?"rotate-180":""}`})]}),E&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>_(!1)}),a.jsxs("div",{className:"absolute left-0 top-full mt-1 z-40 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl min-w-[280px] py-1 overflow-hidden",children:[a.jsxs("button",{onClick:()=>{N("all"),_(!1),y("holdings")},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${g==="all"?"bg-[var(--sidebar-active-bg)] text-[var(--text-primary)] font-semibold":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:["All Portfolios (",H.length,")"]}),a.jsx("div",{className:"border-t border-[var(--border-light)]"}),$.map(R=>{const L=R.totalPL>=0;return a.jsx("button",{onClick:()=>{N(R.portfolioId),_(!1),y("holdings")},className:`w-full text-left px-4 py-2.5 transition-colors ${g===R.portfolioId?"bg-[var(--sidebar-active-bg)]":"hover:bg-[var(--bg-hover)]"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-sm ${g===R.portfolioId?"font-semibold text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:R.portfolioName}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[R.ownerName,"  ",R.platform]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(R.current)}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${L?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[L?"+":"",R.totalPLPct.toFixed(1),"%"]})]})]})},R.portfolioId)})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[G&&a.jsxs("button",{onClick:()=>S({editPortfolio:G}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(hn,{size:12})," Edit"]}),a.jsxs("button",{onClick:()=>S("addPortfolio"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Gt,{size:14})," New Portfolio"]})]})]}),G&&a.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-dim)] px-1",children:[a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Platform:"})," ",G.platform]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Client ID:"})," ",C(G.clientId,"clientId")]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Stocks:"})," ",G.stockCount]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[a.jsx(qi,{label:"Invested",value:Q(O.invested)}),a.jsx(qi,{label:"Current Value",value:Q(O.current),bold:!0}),a.jsx(qi,{label:"Unrealized P&L",value:`${O.unrealizedPL>=0?"+":""}${Q(O.unrealizedPL)}`,sub:`${O.unrealizedPLPct>=0?"+":""}${O.unrealizedPLPct.toFixed(1)}%`,positive:O.unrealizedPL>=0}),a.jsx(qi,{label:"Realized P&L",value:`${O.realizedPL>=0?"+":""}${Q(O.realizedPL)}`,positive:O.realizedPL>=0}),a.jsx(qi,{label:"Total P&L",value:`${O.totalPL>=0?"+":""}${Q(O.totalPL)}`,sub:`${O.totalPLPct>=0?"+":""}${O.totalPLPct.toFixed(1)}%`,positive:O.totalPL>=0,bold:!0})]}),a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5",children:[a.jsxs("button",{onClick:()=>y("holdings"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${D==="holdings"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(wy,{size:12})," Holdings (",F.length,")"]}),a.jsxs("button",{onClick:()=>y("transactions"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${D==="transactions"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(fu,{size:12})," Transactions (",I.length,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>g!=="all"&&S({buy:g}),disabled:g==="all",className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${g==="all"?"bg-emerald-600/40 text-white/50 cursor-not-allowed":"text-white bg-emerald-600 hover:bg-emerald-500"}`,title:g==="all"?"Select a portfolio first":"",children:[a.jsx(Cl,{size:14})," Buy"]}),a.jsxs("button",{onClick:()=>g!=="all"&&F.length>0&&S({sell:g}),disabled:g==="all"||F.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${g==="all"||F.length===0?"bg-rose-600/40 text-white/50 cursor-not-allowed":"text-white bg-rose-600 hover:bg-rose-500"}`,title:g==="all"?"Select a portfolio first":"",children:[a.jsx(Ou,{size:14})," Sell"]})]})]}),D==="holdings"&&a.jsx(a.Fragment,{children:F.length>0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Stock"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Qty"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Avg Price"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current Price"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Invested"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current Value"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Returns"})]})}),a.jsxs("tbody",{children:[F.map(R=>{const L=R.unrealizedPL>=0,me=g==="all"?$.find(ve=>ve.portfolioId===R.portfolioId):null;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:R.companyName}),a.jsxs("p",{className:"text-xs font-mono text-[var(--text-dim)]",children:[R.symbol,me&&a.jsxs("span",{className:"ml-1.5 text-[var(--text-dim)] font-sans",children:[" ",me.portfolioName]})]})]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:R.quantity}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:Q(R.avgBuyPrice)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(R.currentPrice)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:Q(R.totalInvestment)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(R.currentValue)}),a.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-semibold tabular-nums ${L?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[L?"+":"",Q(R.unrealizedPL)]}),a.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-bold tabular-nums ${L?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[L?"+":"",R.unrealizedPLPct.toFixed(1),"%"]})]},R.holdingId)}),a.jsxs("tr",{className:"bg-[var(--bg-inset)] border-t-2 border-[var(--border-light)]",children:[a.jsxs("td",{className:"py-2.5 px-4 text-xs font-semibold text-[var(--text-muted)]",children:["Total (",F.length," stocks)"]}),a.jsx("td",{colSpan:3,className:"py-2.5 px-3"}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(O.invested)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(O.current)}),a.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-semibold tabular-nums ${O.unrealizedPL>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[O.unrealizedPL>=0?"+":"",Q(O.unrealizedPL)]}),a.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-bold tabular-nums ${O.unrealizedPL>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[O.unrealizedPLPct>=0?"+":"",O.unrealizedPLPct.toFixed(1),"%"]})]})]})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:F.map(R=>{const L=R.unrealizedPL>=0,me=g==="all"?$.find(ve=>ve.portfolioId===R.portfolioId):null;return a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:R.companyName}),a.jsxs("p",{className:"text-xs font-mono text-[var(--text-dim)]",children:[R.symbol,me&&a.jsxs("span",{className:"ml-1 font-sans",children:[" ",me.portfolioName]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:`text-xs font-bold tabular-nums ${L?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[L?"+":"",R.unrealizedPLPct.toFixed(1),"%"]}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${L?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[L?"+":"",Q(R.unrealizedPL)]})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsxs("div",{className:"text-[var(--text-dim)]",children:[a.jsxs("span",{children:[R.quantity," shares"]}),a.jsx("span",{className:"mx-1",children:""}),a.jsxs("span",{children:["Avg ",Q(R.avgBuyPrice)]}),a.jsx("span",{className:"mx-1",children:""}),a.jsxs("span",{children:["CMP ",Q(R.currentPrice)]})]}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(R.currentValue)})]})]},R.holdingId)})})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(Gi,{size:28,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No holdings",G?" in this portfolio":""]}),a.jsx("button",{onClick:()=>S({buy:g!=="all"?g:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Buy your first stock"})]})}),D==="transactions"&&a.jsx(a.Fragment,{children:I.length>0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Stock"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Qty"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Price"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Brokerage"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Net"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Realized P&L"})]})}),a.jsx("tbody",{children:I.map(R=>{const L=R.type==="BUY",me=!L&&R.realizedPL!=null,ve=me&&R.realizedPL>=0,z=g==="all"?$.find(ee=>ee.portfolioId===R.portfolioId):null;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-secondary)]",children:R.date}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${L?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:R.type})}),a.jsxs("td",{className:"py-2.5 px-3",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:R.symbol}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] truncate max-w-[140px]",children:[R.companyName,z&&a.jsxs("span",{children:["  ",z.portfolioName]})]})]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:R.quantity}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:Q(R.pricePerShare)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:Q(R.totalAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-dim)] tabular-nums",children:R.brokerage>0?Q(R.brokerage):""}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(R.netAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:me?a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${ve?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ve?"+":"",Q(R.realizedPL)]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})]},R.transactionId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:I.map(R=>{const L=R.type==="BUY",me=!L&&R.realizedPL!=null,ve=me&&R.realizedPL>=0;return a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${L?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:R.type}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:R.symbol})]}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:R.date})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[R.quantity," shares @ ",Q(R.pricePerShare)]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(R.netAmount)}),me&&a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${ve?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["P&L: ",ve?"+":"",Q(R.realizedPL)]})]})]}),R.notes&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:R.notes})]},R.transactionId)})})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(fu,{size:28,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions yet"}),a.jsx("button",{onClick:()=>S({buy:g!=="all"?g:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Make your first purchase"})]})})]}),a.jsx(_t,{open:M==="addPortfolio"||!!M?.editPortfolio,onClose:()=>S(null),title:M?.editPortfolio?"Edit Portfolio":"New Stock Portfolio",children:a.jsx(JA,{initial:M?.editPortfolio||void 0,onSave:re,onDelete:M?.editPortfolio?U:void 0,onCancel:()=>S(null)})}),a.jsx(_t,{open:!!M?.buy,onClose:()=>S(null),title:"Buy Stock",wide:!0,children:a.jsx(eT,{portfolioId:typeof M?.buy=="string"?M.buy:void 0,onSave:Z,onCancel:()=>S(null)})}),a.jsx(_t,{open:!!M?.sell,onClose:()=>S(null),title:"Sell Stock",wide:!0,children:a.jsx(tT,{portfolioId:typeof M?.sell=="string"?M.sell:void 0,onSave:B,onCancel:()=>S(null)})})]})}function qi({label:s,value:l,sub:r,positive:t,bold:o}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:`text-sm tabular-nums ${o?"font-bold":"font-semibold"} ${t===void 0?"text-[var(--text-primary)]":t?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:l}),r&&a.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${t?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}const nT=["Self","Spouse","Father","Mother","Son","Daughter","Brother","Sister","Other"].map(s=>({value:s,label:s})),qc={pan:/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/,aadhar:/^\d{12}$/,email:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,mobile:/^\d{10}$/};function rT({initial:s,onSave:l,onDelete:r,onCancel:t}){const o=!!s,[u,d]=w.useState({memberName:s?.memberName||"",relationship:s?.relationship||"",pan:s?.pan||"",aadhar:s?.aadhar||"",email:s?.email||"",mobile:s?.mobile||"",includeInEmailReports:s?.includeInEmailReports??!0,status:s?.status||"Active"}),[m,x]=w.useState({}),[p,v]=w.useState(!1),[b,j]=w.useState(()=>{const y=s?.dynamicFields||{};return Object.entries(y).map(([E,_])=>({key:E,value:_}))});function C(y,E){d(_=>({..._,[y]:E})),x(_=>({..._,[y]:void 0}))}function M(){const y={};return u.memberName.trim()||(y.memberName="Required"),u.relationship||(y.relationship="Required"),qc.pan.test(u.pan.toUpperCase())||(y.pan="Format: ABCDE1234F"),qc.aadhar.test(u.aadhar)||(y.aadhar="12 digits required"),qc.email.test(u.email)||(y.email="Invalid email"),qc.mobile.test(u.mobile)||(y.mobile="10 digits required"),x(y),Object.keys(y).length===0}function S(){j(y=>[...y,{key:"",value:""}])}function g(y,E,_){j(H=>H.map(($,O)=>O===y?{...$,[E]:_}:$))}function N(y){j(E=>E.filter((_,H)=>H!==y))}async function D(){if(!M())return;const y={};b.forEach(({key:E,value:_})=>{const H=E.trim();H&&(y[H]=_)}),v(!0);try{await l({...u,pan:u.pan.toUpperCase(),dynamicFields:y})}finally{v(!1)}}return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Member Name",required:!0,error:m.memberName,children:a.jsx(pe,{value:u.memberName,onChange:y=>C("memberName",y),placeholder:"e.g., Jagadeesh"})}),a.jsx(te,{label:"Relationship",required:!0,error:m.relationship,children:a.jsx(Re,{value:u.relationship,onChange:y=>C("relationship",y),options:nT,placeholder:"Select..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"PAN",required:!0,error:m.pan,children:a.jsx(pe,{sensitive:!0,value:u.pan,onChange:y=>C("pan",y.toUpperCase()),placeholder:"ABCDE1234F",maxLength:10})}),a.jsx(te,{label:"Aadhar",required:!0,error:m.aadhar,children:a.jsx(pe,{sensitive:!0,value:u.aadhar,onChange:y=>C("aadhar",y.replace(/\D/g,"")),placeholder:"123456789012",maxLength:12})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Email",required:!0,error:m.email,children:a.jsx(pe,{sensitive:!0,type:"email",value:u.email,onChange:y=>C("email",y),placeholder:"email@example.com"})}),a.jsx(te,{label:"Mobile",required:!0,error:m.mobile,children:a.jsx(pe,{sensitive:!0,value:u.mobile,onChange:y=>C("mobile",y.replace(/\D/g,"")),placeholder:"9876543210",maxLength:10})})]}),a.jsx(b3,{checked:u.includeInEmailReports,onChange:y=>C("includeInEmailReports",y),label:"Include in email reports"}),o&&a.jsx(te,{label:"Status",children:a.jsx(Re,{value:u.status,onChange:y=>C("status",y),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)]",children:"Custom Fields"}),a.jsxs("button",{onClick:S,type:"button",className:"flex items-center gap-1 text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[a.jsx(Gt,{size:12})," Add Field"]})]}),b.length===0&&a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"No custom fields. Add DOB, occupation, blood group, etc."}),a.jsx("div",{className:"space-y-2",children:b.map((y,E)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{value:y.key,onChange:_=>g(E,"key",_.target.value),placeholder:"Field name",className:"flex-1 px-2.5 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] transition-colors"}),a.jsx("input",{value:y.value,onChange:_=>g(E,"value",_.target.value),placeholder:"Value",className:"flex-1 px-2.5 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] transition-colors"}),a.jsx("button",{onClick:()=>N(E),type:"button",className:"p-1 text-[var(--text-dim)] hover:text-rose-400 transition-colors",children:a.jsx(_u,{size:13})})]},E))})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[o&&r?a.jsx(fr,{onClick:r}):a.jsx("div",{}),a.jsx(da,{onCancel:t,onSubmit:D,submitLabel:o?"Update":"Add Member",loading:p})]})]})}const $c=["from-violet-500 to-indigo-500","from-rose-500 to-pink-500","from-blue-500 to-cyan-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],Jb={Self:"bg-violet-500/15 text-[var(--accent-violet)]",Spouse:"bg-rose-500/15 text-[var(--accent-rose)]",Father:"bg-blue-500/15 text-[var(--accent-blue)]",Mother:"bg-amber-500/15 text-[var(--accent-amber)]",Son:"bg-emerald-500/15 text-emerald-400",Daughter:"bg-emerald-500/15 text-emerald-400"};function sT(){const{members:s,addMember:l,updateMember:r,deleteMember:t}=$e(),{showToast:o,showBlockUI:u,hideBlockUI:d}=In(),{mv:m}=Ln(),[x,p]=w.useState(null);if(s===null)return a.jsx(pr,{title:"Loading family",cards:3});const v=s.filter(C=>C.status!=="Inactive");async function b(C){u("Saving member...");try{x?.edit?await r(x.edit.memberId,C):await l(C),o(x?.edit?"Member updated":"Member added"),p(null)}catch(M){o(M.message||"Failed to save member","error")}finally{d()}}async function j(){if(x?.edit&&confirm("Deactivate this family member?")){u("Deactivating...");try{await t(x.edit.memberId),o("Member deactivated"),p(null)}catch(C){o(C.message||"Failed to deactivate member","error")}finally{d()}}}return[...new Set(v.flatMap(C=>Object.keys(C.dynamicFields||{})))],a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>p("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Gt,{size:14})," Add Member"]})}),v.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(Dl,{size:32,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No family members yet"}),a.jsx("button",{onClick:()=>p("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first member"})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[640px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Relationship"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"PAN"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Aadhaar"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Mobile"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:v.map((C,M)=>{const S=C.dynamicFields||{},g=Object.entries(S);return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-4",children:a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white bg-gradient-to-br ${$c[M%$c.length]}`,children:C.memberName.charAt(0)}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:C.memberName}),g.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mt-0.5",children:[g.slice(0,3).map(([N,D])=>a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)] bg-[var(--bg-inset)] px-1.5 py-0.5 rounded",children:[N,": ",D]},N)),g.length>3&&a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["+",g.length-3," more"]})]})]})]})}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Jb[C.relationship]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:C.relationship})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] font-mono tabular-nums",children:m(C.pan,"pan")||""}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] font-mono tabular-nums",children:m(C.aadhar,"aadhaar")||""}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] truncate max-w-[180px]",children:m(C.email,"email")}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:m(C.mobile,"mobile")}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>p({edit:C}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(hn,{size:12})})})]},C.memberId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:v.map((C,M)=>{const S=C.dynamicFields||{},g=Object.entries(S);return a.jsxs("div",{onClick:()=>p({edit:C}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center gap-2.5 mb-1.5",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white bg-gradient-to-br ${$c[M%$c.length]}`,children:C.memberName.charAt(0)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:C.memberName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Jb[C.relationship]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:C.relationship})]}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] truncate",children:m(C.email,"email")})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:m(C.mobile,"mobile")}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)] font-mono",children:["PAN: ",m(C.pan,"pan")||""]}),C.aadhar&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] font-mono",children:["Aadhaar: ",m(C.aadhar,"aadhaar")]})]})]}),g.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mt-1.5",children:[g.slice(0,3).map(([N,D])=>a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)] bg-[var(--bg-inset)] px-1.5 py-0.5 rounded",children:[N,": ",D]},N)),g.length>3&&a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["+",g.length-3," more"]})]})]},C.memberId)})})]}),a.jsx(_t,{open:!!x,onClose:()=>p(null),title:x?.edit?"Edit Member":"Add Family Member",wide:!0,children:a.jsx(rT,{initial:x?.edit||void 0,onSave:b,onDelete:x?.edit?j:void 0,onCancel:()=>p(null)})})]})}const eg=["Retirement","Emergency Fund","Child Education","Home Purchase","Car","Travel","Wedding","Custom"].map(s=>({value:s,label:s})),tg=[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}],lT=[{value:"On Track",label:"On Track"},{value:"Needs Attention",label:"Needs Attention"},{value:"Achieved",label:"Achieved"},{value:"Paused",label:"Paused"}],Vc={Retirement:{inflation:6,cagr:12},"Emergency Fund":{inflation:0,cagr:7},"Child Education":{inflation:10,cagr:12},"Home Purchase":{inflation:8,cagr:12},Wedding:{inflation:6,cagr:12},Car:{inflation:5,cagr:10},Travel:{inflation:6,cagr:10},Custom:{inflation:6,cagr:12}},ag=[{label:"Basics",icon:no},{label:"Financials",icon:o5},{label:"Review",icon:Bl}];function iT({initial:s,onSave:l,onDelete:r,onCancel:t}){const o=!!s,{activeMembers:u}=$e(),d=[{value:"",label:"Family (Default)"},...u.map(O=>({value:O.memberId,label:O.memberName}))],[m,x]=w.useState(0),[p,v]=w.useState(()=>{if(o){const O=(s.expectedInflation||.06)*100,F=(s.expectedCAGR||.12)*100,I=s.targetDate?Math.max(0,(new Date(s.targetDate)-new Date)/(365.25*24*60*60*1e3)):0,G=O/100;let A=s.targetAmount||0;return G>0&&I>0&&s.goalType!=="Emergency Fund"&&(A=s.targetAmount/Math.pow(1+G,I)),{goalType:s.goalType||"",goalName:s.goalName||"",familyMemberId:s.familyMemberId||"",todaysCost:Math.round(A).toString(),targetDate:s.targetDate||"",lumpsum:(s.lumpsumInvested||0).toString(),monthlySIP:(s.monthlyInvestment||0).toString(),inflation:O.toString(),cagr:F.toString(),priority:s.priority||"Medium",status:s.status||"On Track",notes:s.notes||"",monthlyExpenses:(s.monthlyExpenses||"").toString(),emergencyMonths:(s.emergencyMonths||6).toString()}}return{goalType:"",goalName:"",familyMemberId:"",todaysCost:"",targetDate:"",lumpsum:"",monthlySIP:"",inflation:"6",cagr:"12",priority:"Medium",status:"On Track",notes:"",monthlyExpenses:"",emergencyMonths:"6"}}),[b,j]=w.useState({}),[C,M]=w.useState(!1);function S(O,F){v(I=>({...I,[O]:F})),j(I=>({...I,[O]:void 0}))}w.useEffect(()=>{if(o||!p.goalType)return;const O=Vc[p.goalType]||Vc.Custom;v(F=>({...F,inflation:O.inflation.toString(),cagr:O.cagr.toString()}))},[p.goalType,o]);const g=p.goalType==="Retirement",N=p.goalType==="Emergency Fund",D=w.useMemo(()=>{const O=(Number(p.inflation)||0)/100,I=(Number(p.cagr)||0)/100/12,G=Number(p.lumpsum)||0,A=Number(p.monthlySIP)||0,re=Number(p.monthlyExpenses)||0,U=Number(p.emergencyMonths)||6,Z=p.targetDate?Math.max(0,(new Date(p.targetDate)-new Date)/(365.25*24*60*60*1e3)):0,B=Math.round(Z*12);let R=0,L=0;g?(R=re*12*25,L=R*Math.pow(1+O,Z)):N?(R=re*U,L=R):(R=Number(p.todaysCost)||0,L=O>0&&Z>0?R*Math.pow(1+O,Z):R),L=Math.round(L);const me=G>0&&B>0?G*Math.pow(1+I,B):G,ve=A>0&&I>0&&B>0?A*((Math.pow(1+I,B)-1)/I):A*B,z=Math.round(me+ve),ee=Math.round(G+A*B),ue=z-ee;let de=0;if(L>0&&B>0){const ye=L-me;ye>0&&I>0?de=ye/((Math.pow(1+I,B)-1)/I):ye>0&&(de=ye/B),de=Math.max(0,Math.ceil(de))}const Se=L>0&&z>=L,ge=L>0?z/L*100:0;return{todaysCost:R,inflatedTarget:L,yearsToGo:Z,months:B,fvLumpsum:Math.round(me),fvSIP:Math.round(ve),projectedValue:z,totalInvested:ee,totalReturns:ue,requiredSIP:de,isOnTrack:Se,pctOfTarget:ge,hasTarget:L>0,hasInputs:G>0||A>0}},[p.todaysCost,p.targetDate,p.lumpsum,p.monthlySIP,p.inflation,p.cagr,p.monthlyExpenses,p.emergencyMonths,g,N]);function y(O){const F={};return O===0&&(p.goalType||(F.goalType="Required"),p.goalName.trim()||(F.goalName="Required")),O===1&&(p.targetDate||(F.targetDate="Required"),g||N?(!p.monthlyExpenses||Number(p.monthlyExpenses)<=0)&&(F.monthlyExpenses="Required"):(!p.todaysCost||Number(p.todaysCost)<=0)&&(F.todaysCost="Must be > 0")),j(F),Object.keys(F).length===0}function E(){const O={};return p.goalType||(O.goalType="Required"),p.goalName.trim()||(O.goalName="Required"),p.targetDate||(O.targetDate="Required"),g||N?(!p.monthlyExpenses||Number(p.monthlyExpenses)<=0)&&(O.monthlyExpenses="Required"):(!p.todaysCost||Number(p.todaysCost)<=0)&&(O.todaysCost="Must be > 0"),j(O),Object.keys(O).length===0}function _(){y(m)&&x(O=>Math.min(O+1,2))}async function H(){if(!E())return;const O=p.familyMemberId&&u.find(F=>F.memberId===p.familyMemberId)?.memberName||"Family";M(!0);try{await l({goalType:p.goalType,goalName:p.goalName,familyMemberId:p.familyMemberId||"",familyMember:O,targetAmount:D.inflatedTarget,targetDate:p.targetDate,priority:p.priority,status:p.status,notes:p.notes,expectedInflation:(Number(p.inflation)||0)/100,expectedCAGR:(Number(p.cagr)||0)/100,monthlyInvestment:Number(p.monthlySIP)||0,lumpsumInvested:Number(p.lumpsum)||0,monthlyExpenses:g||N?Number(p.monthlyExpenses)||0:void 0,emergencyMonths:N?Number(p.emergencyMonths)||6:void 0,isRetirement:g,currentCost:D.todaysCost})}finally{M(!1)}}const $=p.familyMemberId&&u.find(O=>O.memberId===p.familyMemberId)?.memberName||"Family";return o?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Goal Type",required:!0,error:b.goalType,children:a.jsx(Re,{value:p.goalType,onChange:O=>S("goalType",O),options:eg,placeholder:"Select type..."})}),a.jsx(te,{label:"Goal Name",required:!0,error:b.goalName,children:a.jsx(pe,{value:p.goalName,onChange:O=>S("goalName",O),placeholder:"e.g., Retirement Fund (2045)"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Family Member",error:b.familyMemberId,children:a.jsx(Re,{value:p.familyMemberId,onChange:O=>S("familyMemberId",O),options:d,placeholder:"Family (Default)"})}),a.jsx(te,{label:"Target Date",required:!0,error:b.targetDate,children:a.jsx(pe,{type:"date",value:p.targetDate,onChange:O=>S("targetDate",O)})})]}),g||N?a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Monthly Expenses",required:!0,error:b.monthlyExpenses,children:a.jsx(pe,{type:"number",value:p.monthlyExpenses,onChange:O=>S("monthlyExpenses",O),placeholder:"e.g., 50000"})}),N&&a.jsx(te,{label:"Emergency Months",children:a.jsx(pe,{type:"number",value:p.emergencyMonths,onChange:O=>S("emergencyMonths",O),placeholder:"6"})})]}):a.jsx(te,{label:"Today's Cost",required:!0,error:b.todaysCost,children:a.jsx(pe,{type:"number",value:p.todaysCost,onChange:O=>S("todaysCost",O),placeholder:"e.g., 1000000"})}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(te,{label:"Inflation %",children:a.jsx(pe,{type:"number",value:p.inflation,onChange:O=>S("inflation",O),placeholder:"6"})}),a.jsx(te,{label:"Expected CAGR %",children:a.jsx(pe,{type:"number",value:p.cagr,onChange:O=>S("cagr",O),placeholder:"12"})}),a.jsx(te,{label:"Lumpsum",children:a.jsx(pe,{type:"number",value:p.lumpsum,onChange:O=>S("lumpsum",O),placeholder:"0"})}),a.jsx(te,{label:"Monthly SIP",children:a.jsx(pe,{type:"number",value:p.monthlySIP,onChange:O=>S("monthlySIP",O),placeholder:"0"})})]}),D.hasTarget&&a.jsx(ng,{calc:D,inflation:p.inflation,isRetirement:g,isEmergency:N}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Priority",children:a.jsx(Re,{value:p.priority,onChange:O=>S("priority",O),options:tg})}),a.jsx(te,{label:"Status",children:a.jsx(Re,{value:p.status,onChange:O=>S("status",O),options:lT})})]}),a.jsx(te,{label:"Notes",children:a.jsx(Il,{value:p.notes,onChange:O=>S("notes",O),placeholder:"Optional notes...",rows:2})}),a.jsxs("div",{className:"flex items-center justify-between",children:[r?a.jsx(fr,{onClick:r}):a.jsx("div",{}),a.jsx(da,{onCancel:t,onSubmit:H,submitLabel:"Update Goal",loading:C})]})]}):a.jsxs("div",{className:"space-y-5",children:[a.jsx("div",{className:"flex items-center gap-1 mb-2",children:ag.map((O,F)=>{const I=O.icon,G=F===m,A=F<m;return a.jsxs("div",{className:"flex items-center flex-1",children:[a.jsxs("button",{onClick:()=>{F<m&&x(F)},className:`flex items-center gap-1.5 text-xs font-semibold transition-colors ${G?"text-violet-400":A?"text-emerald-400 cursor-pointer":"text-[var(--text-dim)]"}`,children:[a.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold border ${G?"border-violet-400 bg-violet-500/15":A?"border-emerald-400 bg-emerald-500/15":"border-[var(--border)] bg-[var(--bg-inset)]"}`,children:A?a.jsx(Bl,{size:12}):a.jsx(I,{size:12})}),a.jsx("span",{className:"hidden sm:inline",children:O.label})]}),F<ag.length-1&&a.jsx("div",{className:`flex-1 h-px mx-2 ${A?"bg-emerald-400/40":"bg-[var(--border)]"}`})]},O.label)})}),m===0&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Tell us about your financial goal"}),a.jsx(te,{label:"Goal Type",required:!0,error:b.goalType,children:a.jsx(Re,{value:p.goalType,onChange:O=>S("goalType",O),options:eg,placeholder:"Select type..."})}),p.goalType&&a.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)]",children:[a.jsx(Cl,{size:12,className:"text-[var(--text-dim)] shrink-0"}),a.jsxs("p",{className:"text-[11px] text-[var(--text-muted)]",children:["Default: ",Vc[p.goalType]?.inflation||6,"% inflation, ",Vc[p.goalType]?.cagr||12,"% CAGR",g&&"  Uses 25x annual expenses rule",N&&"  No inflation applied"]})]}),a.jsx(te,{label:"Goal Name",required:!0,error:b.goalName,children:a.jsx(pe,{value:p.goalName,onChange:O=>S("goalName",O),placeholder:"e.g., Retirement Fund (2045)"})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Family Member",error:b.familyMemberId,children:a.jsx(Re,{value:p.familyMemberId,onChange:O=>S("familyMemberId",O),options:d,placeholder:"Family (Default)"})}),a.jsx(te,{label:"Priority",children:a.jsx(Re,{value:p.priority,onChange:O=>S("priority",O),options:tg})})]})]}),m===1&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:g?"Set your retirement timeline and monthly expenses":N?"Set your emergency fund requirements":"Set your target and investment plan"}),a.jsx(te,{label:"Target Date",required:!0,error:b.targetDate,children:a.jsx(pe,{type:"date",value:p.targetDate,onChange:O=>S("targetDate",O)})}),g||N?a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Monthly Expenses (Today)",required:!0,error:b.monthlyExpenses,children:a.jsx(pe,{type:"number",value:p.monthlyExpenses,onChange:O=>S("monthlyExpenses",O),placeholder:"e.g., 50000"})}),N&&a.jsx(te,{label:"Emergency Fund (Months)",children:a.jsx(pe,{type:"number",value:p.emergencyMonths,onChange:O=>S("emergencyMonths",O),placeholder:"6"})}),g&&a.jsx("div",{className:"sm:col-span-2",children:a.jsxs("p",{className:"text-[11px] text-[var(--text-dim)]",children:["Corpus = Monthly Expenses x 12 x 25 = ",Q(D.todaysCost)," (today)"]})})]}):a.jsx(te,{label:"Today's Cost",required:!0,error:b.todaysCost,children:a.jsx(pe,{type:"number",value:p.todaysCost,onChange:O=>S("todaysCost",O),placeholder:"e.g., 1000000"})}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(te,{label:`Inflation Rate (%)${N?"  N/A":""}`,children:a.jsx(pe,{type:"number",value:p.inflation,onChange:O=>S("inflation",O),placeholder:"6"})}),a.jsx(te,{label:"Expected Returns (CAGR %)",children:a.jsx(pe,{type:"number",value:p.cagr,onChange:O=>S("cagr",O),placeholder:"12"})})]}),D.hasTarget&&a.jsx(ng,{calc:D,inflation:p.inflation,isRetirement:g,isEmergency:N}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Lumpsum Investment (Optional)",children:a.jsx(pe,{type:"number",value:p.lumpsum,onChange:O=>S("lumpsum",O),placeholder:"0"})}),a.jsx(te,{label:"Monthly SIP",children:a.jsx(pe,{type:"number",value:p.monthlySIP,onChange:O=>S("monthlySIP",O),placeholder:"0"})})]}),D.hasTarget&&D.months>0&&a.jsx(rg,{calc:D,sip:p.monthlySIP,lumpsum:p.lumpsum}),a.jsx(te,{label:"Notes",children:a.jsx(Il,{value:p.notes,onChange:O=>S("notes",O),placeholder:"Optional notes...",rows:2})})]}),m===2&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Review your goal before saving"}),a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-4 space-y-3",children:[a.jsx(ya,{label:"Goal",value:p.goalName,bold:!0}),a.jsx(ya,{label:"Type",value:p.goalType,color:"violet"}),a.jsx(ya,{label:"Member",value:$}),a.jsx(ya,{label:"Priority",value:p.priority,badge:p.priority==="High"?"rose":p.priority==="Low"?"blue":"amber"}),a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3 space-y-2",children:[(g||N)&&a.jsx(ya,{label:"Monthly Expenses",value:Q(Number(p.monthlyExpenses)||0)}),N&&a.jsx(ya,{label:"Emergency Months",value:p.emergencyMonths}),!g&&!N&&a.jsx(ya,{label:"Today's Cost",value:Q(D.todaysCost)}),a.jsx(ya,{label:"Inflation",value:`${p.inflation}% p.a.`}),a.jsx(ya,{label:"Expected CAGR",value:`${p.cagr}% p.a.`}),a.jsx(ya,{label:"Future Value (Inflated)",value:Q(D.inflatedTarget),bold:!0,color:"violet"})]}),a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3 space-y-2",children:[a.jsx(ya,{label:"Lumpsum",value:Q(Number(p.lumpsum)||0)}),a.jsx(ya,{label:"Monthly SIP",value:`${Q(Number(p.monthlySIP)||0)}/mo`,color:"emerald"}),a.jsx(ya,{label:"Target Date",value:p.targetDate}),a.jsx(ya,{label:"Time Remaining",value:D.yearsToGo>0?`${D.yearsToGo.toFixed(1)} years`:""})]})]}),D.hasTarget&&D.months>0&&D.hasInputs&&a.jsx(rg,{calc:D,sip:p.monthlySIP,lumpsum:p.lumpsum,compact:!0})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-[var(--border-light)]",children:[a.jsx("div",{children:m>0&&a.jsxs("button",{onClick:()=>x(O=>O-1),className:"flex items-center gap-1 px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx(hy,{size:14})," Back"]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),m<2?a.jsxs("button",{onClick:_,className:"flex items-center gap-1 px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors",children:["Next ",a.jsx(Qi,{size:14})]}):a.jsx("button",{onClick:H,disabled:C,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:C?"Saving...":"Create Goal"})]})]})]})}function ng({calc:s,inflation:l,isRetirement:r,isEmergency:t}){return t?a.jsx("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-blue-500/5 border border-blue-500/15",children:a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Emergency Fund: ",a.jsx("span",{className:"font-bold text-[var(--text-primary)]",children:Q(s.inflatedTarget)}),a.jsx("span",{className:"text-[var(--text-dim)]",children:" (no inflation applied)"})]})}):a.jsxs("div",{className:"flex items-center justify-between gap-2 px-3 py-2 rounded-lg bg-violet-500/5 border border-violet-500/15",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-semibold text-[var(--text-dim)] uppercase tracking-wider",children:r?"Corpus Today":"Today's Cost"}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-secondary)]",children:Q(s.todaysCost)})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[l,"% x ",s.yearsToGo.toFixed(1),"yrs"]}),a.jsx(Qi,{size:12,className:"text-violet-400 mx-auto"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] font-semibold text-violet-400 uppercase tracking-wider",children:"Future Value"}),a.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)]",children:Q(s.inflatedTarget)})]})]})}function rg({calc:s,sip:l,lumpsum:r,compact:t}){const o=Number(l)||0,u=Number(r)||0;return a.jsxs("div",{className:`rounded-lg border p-3 space-y-2 ${s.isOnTrack?"bg-emerald-500/5 border-emerald-500/20":"bg-amber-500/5 border-amber-500/20"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[s.isOnTrack?a.jsx(Bl,{size:12,className:"text-emerald-400"}):a.jsx(kl,{size:12,className:"text-amber-400"}),a.jsx("p",{className:`text-[10px] font-bold uppercase tracking-wider ${s.isOnTrack?"text-emerald-400":"text-amber-400"}`,children:s.isOnTrack?"On Track":"SIP May Be Insufficient"})]}),a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["@","0","CAGR assumed"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Required Monthly SIP"}),a.jsxs("span",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:[Q(s.requiredSIP),"/mo"]})]}),!t&&s.hasInputs&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Projected Value"}),a.jsx("span",{className:`text-sm font-bold tabular-nums ${s.isOnTrack?"text-emerald-400":"text-amber-400"}`,children:Q(s.projectedValue)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 h-1.5 bg-[var(--bg-card)] rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${s.isOnTrack?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${Math.min(s.pctOfTarget,100)}%`}})}),a.jsxs("span",{className:"text-xs font-bold tabular-nums text-[var(--text-primary)]",children:[Math.round(s.pctOfTarget),"%"]})]}),a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-2 space-y-1",children:[u>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-[11px] text-[var(--text-dim)]",children:["Lumpsum ",Q(u)," grows to"]}),a.jsx("span",{className:"text-[11px] font-semibold text-emerald-400 tabular-nums",children:Q(s.fvLumpsum)})]}),o>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-[11px] text-[var(--text-dim)]",children:["SIP ",Q(o),"/mo x ",s.months," mo"]}),a.jsx("span",{className:"text-[11px] font-semibold text-blue-400 tabular-nums",children:Q(s.fvSIP)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[11px] text-[var(--text-dim)]",children:"Total Invested"}),a.jsx("span",{className:"text-[11px] font-semibold text-[var(--text-primary)] tabular-nums",children:Q(s.totalInvested)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[11px] text-[var(--text-dim)]",children:"Wealth Created"}),a.jsxs("span",{className:"text-[11px] font-semibold text-emerald-400 tabular-nums",children:["+",Q(s.totalReturns)]})]})]})]})]})}function ya({label:s,value:l,bold:r,color:t,badge:o}){const u=t==="violet"?"text-violet-400":t==="emerald"?"text-emerald-400":"text-[var(--text-primary)]";if(o){const d=o==="rose"?"bg-rose-500/15 text-rose-400":o==="blue"?"bg-blue-500/15 text-blue-400":"bg-amber-500/15 text-amber-400";return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:s}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${d}`,children:l})]})}return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:s}),a.jsx("span",{className:`text-xs ${r?"font-bold text-sm":"font-semibold"} ${u}`,children:l})]})}function oT({goal:s,onClose:l}){const{mfPortfolios:r,goalPortfolioMappings:t,updateGoalMappings:o}=$e(),u=r.filter(g=>g.status!=="Inactive"),d=w.useMemo(()=>t.filter(g=>g.goalId===s.goalId).map(g=>({portfolioId:g.portfolioId,allocationPct:g.allocationPct})),[t,s.goalId]),[m,x]=w.useState(d.length>0?d:[]),p=m.reduce((g,N)=>g+(N.allocationPct||0),0),v=p===100||m.length===0;function b(){const g=new Set(m.map(D=>D.portfolioId)),N=u.find(D=>!g.has(D.portfolioId));N&&x(D=>[...D,{portfolioId:N.portfolioId,allocationPct:0}])}function j(g){x(N=>N.filter((D,y)=>y!==g))}function C(g,N,D){x(y=>y.map((E,_)=>_===g?{...E,[N]:N==="allocationPct"?Math.max(0,Math.min(100,Number(D)||0)):D}:E))}function M(){o(s.goalId,m),l()}const S=m.reduce((g,N)=>{const D=u.find(y=>y.portfolioId===N.portfolioId);return g+(D?D.currentValue*N.allocationPct/100:0)},0);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Goal Target"}),a.jsx("span",{className:"text-sm font-bold text-[var(--text-primary)]",children:Q(s.targetAmount)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Linked Portfolio Value"}),a.jsx("span",{className:"text-sm font-semibold text-emerald-400",children:Q(S)})]})]}),m.length===0?a.jsxs("div",{className:"py-6 text-center",children:[a.jsx(mu,{size:24,className:"mx-auto mb-2 text-[var(--text-dim)]"}),a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"No portfolios linked to this goal"})]}):a.jsx("div",{className:"space-y-2",children:m.map((g,N)=>{const D=u.find(y=>y.portfolioId===g.portfolioId);return a.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("select",{value:g.portfolioId,onChange:y=>C(N,"portfolioId",y.target.value),className:"w-full px-2 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)]",children:u.map(y=>a.jsxs("option",{value:y.portfolioId,disabled:m.some((E,_)=>_!==N&&E.portfolioId===y.portfolioId),children:[y.portfolioName?.replace(/^PFL-/,"")||y.portfolioName,y.ownerName?` (${y.ownerName})`:"","  ",Q(y.currentValue)]},y.portfolioId))}),D&&a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)] mt-1 px-1",children:["Contributes ",Q(D.currentValue*g.allocationPct/100)," to this goal"]})]}),a.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[a.jsx("input",{type:"number",value:g.allocationPct,onChange:y=>C(N,"allocationPct",y.target.value),className:"w-16 px-2 py-1.5 text-xs text-center bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)]",min:"0",max:"100"}),a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"%"}),a.jsx("button",{onClick:()=>j(N),className:"p-1.5 text-[var(--text-dim)] hover:text-rose-400 rounded transition-colors",children:a.jsx(_u,{size:12})})]})]},N)})}),m.length>0&&a.jsxs("div",{className:"flex items-center justify-between px-1",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Total Allocation"}),a.jsxs("span",{className:`text-xs font-bold ${p===100?"text-emerald-400":p>100?"text-rose-400":"text-amber-400"}`,children:[p,"%",p!==100&&a.jsx("span",{className:"font-normal text-[var(--text-dim)]",children:" (must be 100%)"})]})]}),m.length<u.length&&a.jsxs("button",{onClick:b,className:"flex items-center gap-1.5 text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[a.jsx(Gt,{size:14})," Link Portfolio"]}),a.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4 border-t border-[var(--border-light)]",children:[a.jsx("button",{onClick:l,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),a.jsx("button",{onClick:M,disabled:!v,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Save Mapping"})]})]})}function cT({goal:s,onClose:l}){const{goalPortfolioMappings:r,mfPortfolios:t,mfHoldings:o}=$e(),u=w.useMemo(()=>{const m=r.filter(b=>b.goalId===s.goalId);if(m.length===0)return null;const x=m.map(b=>{const j=t.find(N=>N.portfolioId===b.portfolioId);if(!j)return null;const C=o.filter(N=>N.portfolioId===b.portfolioId&&N.units>0),M=C.reduce((N,D)=>N+D.currentValue,0),S=M*b.allocationPct/100,g=C.map(N=>{const D=M>0?N.currentValue/M:0,y=S*D,E=N.currentNav>0?y/N.currentNav:0,_=y-E*N.avgNav;return{fundName:N.fundName,currentValue:N.currentValue,withdrawValue:y,withdrawUnits:Math.min(E,N.units),currentNav:N.currentNav,taxableGain:_,availableUnits:N.units}}).filter(N=>N.withdrawValue>0);return{portfolioName:j.portfolioName,ownerName:j.ownerName,allocationPct:b.allocationPct,portfolioValue:M,linkedValue:S,fundWithdrawals:g}}).filter(Boolean),p=x.reduce((b,j)=>b+j.linkedValue,0),v=x.reduce((b,j)=>b+j.fundWithdrawals.reduce((C,M)=>C+M.taxableGain,0),0);return{portfolioDetails:x,totalLinked:p,totalTaxableGain:v}},[s,r,t,o]);if(!u)return a.jsxs("div",{className:"py-8 text-center space-y-2",children:[a.jsx(kl,{size:24,className:"mx-auto text-amber-400"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No portfolios linked to this goal"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Link portfolios first to generate a withdrawal plan"}),a.jsx("button",{onClick:l,className:"mt-2 px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})]});const d=s.targetAmount>0?u.totalLinked/s.targetAmount*100:0;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-4 space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Goal Target"}),a.jsx("span",{className:"text-sm font-bold text-[var(--text-primary)]",children:Q(s.targetAmount)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Available from Linked Portfolios"}),a.jsx("span",{className:`text-sm font-bold ${u.totalLinked>=s.targetAmount?"text-emerald-400":"text-amber-400"}`,children:Q(u.totalLinked)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-card)] rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${d>=100?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${Math.min(d,100)}%`}})}),a.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[d.toFixed(0),"%"]})]}),u.totalTaxableGain>0&&a.jsxs("div",{className:"flex items-center justify-between pt-1",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Estimated Taxable Gain"}),a.jsx("span",{className:"text-xs font-semibold text-amber-400",children:Q(u.totalTaxableGain)})]})]}),u.portfolioDetails.map(m=>a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] overflow-hidden",children:[a.jsxs("div",{className:"px-4 py-2.5 bg-[var(--bg-card)] border-b border-[var(--border-light)] flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:m.portfolioName}),a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[m.ownerName,"  ",m.allocationPct,"% allocated to goal"]})]}),a.jsx("span",{className:"text-xs font-bold text-[var(--text-primary)]",children:Q(m.linkedValue)})]}),a.jsx("div",{className:"px-4 py-2",children:a.jsxs("table",{className:"w-full text-xs",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-[var(--text-dim)]",children:[a.jsx("th",{className:"text-left py-1 font-medium",children:"Fund"}),a.jsx("th",{className:"text-right py-1 font-medium",children:"Units"}),a.jsx("th",{className:"text-right py-1 font-medium",children:"Amount"}),a.jsx("th",{className:"text-right py-1 font-medium",children:"Gain"})]})}),a.jsx("tbody",{children:m.fundWithdrawals.map(x=>a.jsxs("tr",{className:"border-t border-[var(--border-light)]",children:[a.jsx("td",{className:"py-1.5 text-[var(--text-secondary)] max-w-[180px] truncate",children:x.fundName}),a.jsx("td",{className:"py-1.5 text-right text-[var(--text-muted)] tabular-nums",children:x.withdrawUnits.toFixed(2)}),a.jsx("td",{className:"py-1.5 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:Q(x.withdrawValue)}),a.jsx("td",{className:`py-1.5 text-right tabular-nums font-semibold ${x.taxableGain>=0?"text-emerald-400":"text-rose-400"}`,children:Q(Math.abs(x.taxableGain))})]},x.fundName))})]})})]},m.portfolioName)),a.jsx("div",{className:"flex items-center justify-end gap-2 pt-4 border-t border-[var(--border-light)]",children:a.jsx("button",{onClick:l,className:"px-5 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})})]})}const sg={"On Track":"bg-blue-500/15 text-[var(--accent-blue)]","Needs Attention":"bg-amber-500/15 text-[var(--accent-amber)]",Achieved:"bg-emerald-500/15 text-emerald-400",Paused:"bg-slate-500/15 text-[var(--text-muted)]"},uT={High:"bg-rose-500/15 text-[var(--accent-rose)]",Medium:"bg-amber-500/15 text-[var(--accent-amber)]",Low:"bg-blue-500/15 text-[var(--accent-blue)]"},lg={"On Track":"bg-blue-500","Needs Attention":"bg-amber-500",Achieved:"bg-emerald-500",Paused:"bg-slate-500"};function dT(){const{selectedMember:s,member:l}=Jt(),{goalList:r,addGoal:t,updateGoal:o,deleteGoal:u,goalPortfolioMappings:d}=$e(),{showToast:m,showBlockUI:x,hideBlockUI:p}=In(),[v,b]=w.useState(null),[j,C]=w.useState(null),[M,S]=w.useState(null),[g,N]=w.useState(null),D=w.useRef(new Set),y=w.useMemo(()=>{if(!r)return[];const U=r.filter(Z=>Z.isActive!==!1);return s==="all"?U:U.filter(Z=>Z.familyMemberId===s)},[r,s]),E=y.reduce((U,Z)=>U+(Z.targetAmount||0),0),_=y.reduce((U,Z)=>U+(Z.currentValue||0),0),H=y.reduce((U,Z)=>U+(Z.monthlyInvestment||0),0),$=E>0?_/E*100:0,O=y.filter(U=>U.status==="Needs Attention").length,F=y.filter(U=>U.status==="Achieved").length;if(w.useEffect(()=>{const U=new Set(y.filter(B=>B.status==="Achieved").map(B=>B.goalId)),Z=D.current;for(const B of U)if(!Z.has(B)){const R=y.find(L=>L.goalId===B);R&&(N(R),setTimeout(()=>N(null),5e3))}D.current=U},[y]),r===null)return a.jsx(pr,{title:"Loading goals",cards:5});async function I(U){x("Saving...");try{v?.edit?await o(v.edit.goalId,U):await t(U),m(v?.edit?"Goal updated":"Goal added"),b(null)}catch(Z){m(Z.message||"Failed to save goal","error")}finally{p()}}async function G(){if(v?.edit&&confirm("Delete this goal?")){x("Deleting...");try{await u(v.edit.goalId),m("Goal deleted"),b(null)}catch(U){m(U.message||"Failed to delete goal","error")}finally{p()}}}function A(U){return!U.targetAmount||U.targetAmount===0?0:Math.min((U.currentValue||0)/U.targetAmount*100,100)}function re(U){if(!U.targetDate)return null;const B=(new Date(U.targetDate)-new Date)/(365.25*24*60*60*1e3);return B>0?B.toFixed(1):"0"}return a.jsxs("div",{className:"space-y-4",children:[y.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(no,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No goals set",l?` for ${l.memberName}`:""]}),a.jsx("button",{onClick:()=>b("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first goal"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[a.jsx(vl,{label:"Goals",value:y.length,sub:F>0?`${F} achieved`:void 0}),a.jsx(vl,{label:"Target",value:Q(E),bold:!0}),a.jsx(vl,{label:"Current Value",value:Q(_),bold:!0}),a.jsx(vl,{label:"Total Gap",value:Q(Math.max(E-_,0)),sub:E>_?"remaining to target":"all targets met",positive:E<=_,bold:!0}),a.jsx(vl,{label:"Overall Progress",value:`${$.toFixed(1)}%`,positive:$>=50,bold:!0}),a.jsx(vl,{label:"Monthly SIP",value:Q(H),sub:O>0?`${O} need attention`:void 0})]}),g&&a.jsxs("div",{className:"relative bg-gradient-to-r from-emerald-500/10 via-yellow-500/10 to-emerald-500/10 rounded-xl border border-emerald-500/30 px-4 py-3 flex items-center gap-3 animate-fade-in overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:20}).map((U,Z)=>a.jsx("span",{className:"absolute text-sm animate-confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*2}s`},children:["","","","",""][Z%5]},Z))}),a.jsx(I0,{size:20,className:"text-yellow-400 shrink-0 relative z-10"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-sm font-bold text-emerald-400",children:"Goal Achieved!"}),a.jsxs("p",{className:"text-xs text-[var(--text-secondary)]",children:[g.goalName,"  Congratulations!"]})]}),a.jsx("button",{onClick:()=>N(null),className:"ml-auto text-xs text-[var(--text-dim)] hover:text-[var(--text-primary)] relative z-10",children:"Dismiss"})]}),F>0&&a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-emerald-500/20 p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(I0,{size:14,className:"text-yellow-400"}),a.jsx("p",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Achieved Goals"})]}),a.jsx("div",{className:"flex gap-3 overflow-x-auto no-scrollbar pb-1",children:y.filter(U=>U.status==="Achieved").map(U=>a.jsxs("div",{className:"shrink-0 bg-emerald-500/10 border border-emerald-500/20 rounded-lg px-3 py-2 min-w-[160px]",children:[a.jsx("p",{className:"text-xs font-semibold text-emerald-400",children:U.goalName}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] mt-1",children:Q(U.targetAmount)}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5",children:U.familyMemberName})]},U.goalId))})]}),a.jsx("div",{className:"flex items-center justify-end gap-2 px-1",children:a.jsxs("button",{onClick:()=>b("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Gt,{size:14})," Add Goal"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden lg:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Goal"}),!l&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsxs("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"Amount"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Target"})]}),a.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider min-w-[120px]",children:"Progress"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Monthly SIP"}),a.jsxs("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"Timeline"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Years Left"})]}),a.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:y.map(U=>{const Z=A(U),B=re(U);return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:U.goalName}),a.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${uT[U.priority]||""}`,children:U.priority}),U.notes&&a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:U.notes})]})]}),!l&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:U.familyMemberName}),a.jsxs("td",{className:"py-2.5 px-3 text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(U.currentValue)}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:Q(U.targetAmount)})]}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-inset)] rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${lg[U.status]||"bg-blue-500"}`,style:{width:`${Z}%`}})}),a.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums w-10 text-right",children:[Z.toFixed(0),"%"]})]})}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(U.monthlyInvestment)}),a.jsx("td",{className:"py-2.5 px-3 text-center text-xs text-[var(--text-muted)] tabular-nums",children:U.status==="Achieved"?"Done":B?`${B} yrs`:""}),a.jsx("td",{className:"py-2.5 px-3 text-center",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${sg[U.status]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:U.status})}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsxs("div",{className:"flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition-all",children:[a.jsx("button",{onClick:()=>S(U),className:"p-1 rounded text-[var(--text-dim)] hover:text-emerald-400 transition-colors",title:"Withdrawal plan",children:a.jsx(vy,{size:12})}),a.jsx("button",{onClick:()=>C(U),className:"p-1 rounded text-[var(--text-dim)] hover:text-violet-400 transition-colors",title:"Link portfolios",children:a.jsx(mu,{size:12})}),a.jsx("button",{onClick:()=>b({edit:U}),className:"p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-colors",children:a.jsx(hn,{size:12})})]})})]},U.goalId)})})]})}),a.jsx("div",{className:"lg:hidden divide-y divide-[var(--border-light)]",children:y.map(U=>{const Z=A(U),B=re(U);return a.jsxs("div",{onClick:()=>b({edit:U}),className:"px-4 py-4 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:U.goalName}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsxs("span",{className:"text-xs text-[var(--text-muted)]",children:[U.familyMemberName,"  SIP ",Q(U.monthlyInvestment),"/mo"]}),d.filter(R=>R.goalId===U.goalId).length>0&&a.jsxs("span",{className:"text-[10px] font-semibold text-violet-400 flex items-center gap-0.5",children:[a.jsx(mu,{size:9}),d.filter(R=>R.goalId===U.goalId).length]})]})]}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${sg[U.status]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:U.status})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-inset)] rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${lg[U.status]||"bg-blue-500"}`,style:{width:`${Z}%`}})}),a.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[Z.toFixed(0),"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-xs text-[var(--text-muted)]",children:[Q(U.currentValue)," ",a.jsx("span",{className:"text-[var(--text-dim)]",children:"of"})," ",Q(U.targetAmount)]}),a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:U.status==="Achieved"?"Done":B?`${B} yrs left`:""})]})]},U.goalId)})})]})]}),a.jsx(_t,{open:!!v,onClose:()=>b(null),title:v?.edit?"Edit Goal":"Add Goal",wide:!0,children:a.jsx(iT,{initial:v?.edit||void 0,onSave:I,onDelete:v?.edit?G:void 0,onCancel:()=>b(null)})}),a.jsx(_t,{open:!!j,onClose:()=>C(null),title:`Link Portfolios  ${j?.goalName||""}`,wide:!0,children:j&&a.jsx(oT,{goal:j,onClose:()=>C(null)})}),a.jsx(_t,{open:!!M,onClose:()=>S(null),title:`Withdrawal Plan  ${M?.goalName||""}`,wide:!0,children:M&&a.jsx(cT,{goal:M,onClose:()=>S(null)})})]})}function vl({label:s,value:l,sub:r,positive:t,bold:o}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:`text-sm tabular-nums ${o?"font-bold":"font-semibold"} ${t===void 0?"text-[var(--text-primary)]":t?"text-emerald-400":"text-[var(--accent-amber)]"}`,children:l}),r&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:r})]})}const mT=[{label:"Reports & Transactions",desc:"View transaction history",icon:yy,path:"/reports",color:"bg-blue-500/15 text-[var(--accent-blue)]"},{label:"Reminders",desc:"View and manage reminders",icon:Eu,path:"/reminders",color:"bg-amber-500/15 text-[var(--accent-amber)]"},{label:"Health Check",desc:"Financial health questionnaire",icon:_f,path:"/health-check",color:"bg-emerald-500/15 text-emerald-400"},{label:"Settings",desc:"App configuration",icon:sp,path:"/settings",color:"bg-slate-500/15 text-[var(--text-muted)]"},{label:"About",desc:"Capital Friends v2.0",icon:C5,path:"/about",color:"bg-violet-500/15 text-[var(--accent-violet)]"},{label:"Support Developer",desc:"UPI: jagadeeshmanne.hdfc@kphdfc",icon:du,path:"/about",color:"bg-pink-500/15 text-pink-400"}];function fT(){const s=As();return a.jsxs("div",{className:"space-y-4",children:[a.jsx("h1",{className:"text-base font-bold text-[var(--text-primary)]",children:"More"}),a.jsx("div",{className:"space-y-2",children:mT.map(l=>a.jsxs("button",{onClick:()=>s(l.path),className:"w-full flex items-center gap-3 bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center shrink-0 ${l.color}`,children:a.jsx(l.icon,{size:18})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:l.label}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:l.desc})]})]},l.label))})]})}const Gc=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function pT(){const s=As(),{theme:l,toggle:r}=uy(),{members:t,settings:o,updateSettings:u,updateMember:d,healthCheckCompleted:m}=$e(),{user:x,signOut:p}=Ts(),{masked:v,toggleMask:b,mv:j}=Ln(),C=t.filter(Z=>Z.status==="Active"),[M,S]=w.useState("Daily"),[g,N]=w.useState("09"),[D,y]=w.useState("Monday"),[E,_]=w.useState(!1),[H,$]=w.useState(!1),[O,F]=w.useState(!1),[I,G]=w.useState(null);w.useEffect(()=>{!o||!Object.keys(o).length||(o.EmailFrequency&&S(o.EmailFrequency),o.EmailHour!=null&&N(String(o.EmailHour).padStart(2,"0")),o.EmailDayOfWeek!=null&&y(Gc[Number(o.EmailDayOfWeek)]||"Monday"))},[o]);async function A(){_(!0),$(!1);try{const Z=Gc.indexOf(D);await u({EmailFrequency:M==="None"?"None":M,EmailConfigured:M==="None"?"FALSE":"TRUE",EmailHour:String(parseInt(g,10)),EmailMinute:"0",EmailDayOfWeek:String(Z>=0?Z:1)}),$(!0),setTimeout(()=>$(!1),2e3)}catch(Z){alert("Failed to save: "+Z.message)}finally{_(!1)}}async function re(){F(!0),G(null);try{const Z=await uS();G(Z)}catch(Z){G({error:Z.message})}finally{F(!1)}}function U(Z){if(!Z)return"Never";try{const B=new Date(Z);if(isNaN(B.getTime()))return"Unknown";const R=Date.now(),L=Math.floor((R-B.getTime())/(1e3*60));if(L<1)return"Just now";if(L<60)return L+" min ago";const me=Math.floor(L/60);return me<24?me+"h ago":B.toLocaleDateString("en-IN",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}catch{return"Unknown"}}return a.jsxs("div",{className:"space-y-4 max-w-xl mx-auto",children:[a.jsxs(hs,{children:[a.jsx(vs,{icon:a.jsx(fC,{size:14}),title:"Account"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(Ia,{label:"Signed in as",children:a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate max-w-[200px]",children:j(x?.email,"email")||""})}),a.jsx(Ia,{label:"Name",children:a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:x?.name||""})}),a.jsx("div",{className:"pt-1",children:a.jsxs("button",{onClick:p,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-red-500 border border-red-200 dark:border-red-800/40 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[a.jsx(Cy,{size:12}),"Sign Out"]})})]})]}),a.jsxs(hs,{children:[a.jsx(vs,{icon:a.jsx(_f,{size:14}),title:"Financial Health Check"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(Ia,{label:"Status",children:a.jsx("span",{className:`text-xs font-semibold ${m?"text-emerald-400":"text-[var(--accent-amber)]"}`,children:m?"Completed":"Not completed"})}),a.jsx("div",{className:"flex justify-end pt-1",children:a.jsxs("button",{onClick:()=>s("/health-check"),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-lg border border-[var(--border)] text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx(_f,{size:12}),m?"Update Answers":"Take Health Check"]})})]})]}),a.jsxs(hs,{children:[a.jsx(vs,{icon:a.jsx(l5,{size:14}),title:"Data & Sync"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(Ia,{label:"Last synced",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:U(o.masterDataLastSync)}),o._stale&&a.jsx("span",{className:"text-[10px] font-bold text-amber-600 px-1.5 py-0.5 rounded bg-amber-100 dark:bg-amber-900/30",children:"STALE"})]})}),o._navDataDate&&a.jsx(Ia,{label:"NAV data as of",children:a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:o._navDataDate})}),a.jsx(Ia,{label:"Auto-refresh",children:a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Daily at ~6:30 AM"})}),a.jsxs("div",{className:"flex items-center justify-between pt-1",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Refresh MF NAVs, ATH & Stock prices"}),a.jsxs("button",{onClick:re,disabled:O,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-lg bg-violet-600 text-white hover:bg-violet-500 transition-colors disabled:opacity-50",children:[a.jsx(Sl,{size:12,className:O?"animate-spin":""}),O?"Refreshing...":"Refresh Now"]})]}),I&&a.jsx("div",{className:`text-xs px-3 py-2 rounded-lg ${I.error?"bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400":"bg-green-50 text-green-600 dark:bg-green-900/20 dark:text-green-400"}`,children:I.error?"Failed: "+I.error:`Done  MF: ${I.mf?.count||0} | ATH: ${I.ath?.count||0} | Stocks: ${I.stocks?.count||0} (${I.duration})`})]})]}),a.jsxs(hs,{children:[a.jsx(vs,{icon:a.jsx(Ef,{size:14}),title:"Appearance"}),a.jsx("div",{className:"px-4 py-4",children:a.jsx(Ia,{label:"Theme",children:a.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-3 py-1.5 text-xs font-semibold rounded-lg border border-[var(--border)] bg-[var(--bg-inset)] text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[l==="dark"?a.jsx(ky,{size:12}):a.jsx(Ef,{size:12}),l==="dark"?"Dark":"Light"]})})})]}),a.jsxs(hs,{children:[a.jsx(vs,{icon:a.jsx(L5,{size:14}),title:"Email Reports"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(Ia,{label:"Frequency",children:a.jsx(Df,{value:M,onChange:S,options:["Daily","Weekly","Monthly","None"]})}),M!=="None"&&a.jsx(Ia,{label:"Send time",children:a.jsx(Df,{value:g,onChange:N,options:Array.from({length:24},(Z,B)=>String(B).padStart(2,"0")),suffix:":00"})}),M==="Weekly"&&a.jsx(Ia,{label:"Day",children:a.jsx(Df,{value:D,onChange:y,options:Gc.slice(1).concat(Gc[0])})}),a.jsx("div",{className:"flex justify-end pt-1",children:a.jsx("button",{onClick:A,disabled:E,className:"px-4 py-1.5 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50",children:E?"Saving...":H?"Saved!":"Save"})}),C.length>0&&a.jsx(a.Fragment,{children:a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"Send report to"}),a.jsx("div",{className:"space-y-2",children:C.map(Z=>a.jsx(xT,{member:Z,onToggle:d},Z.memberId))})]})}),C.length===0&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] pt-1",children:"Add family members to configure email recipients."})]})]}),a.jsxs(hs,{children:[a.jsx(vs,{icon:a.jsx(eu,{size:14}),title:"Privacy"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(Ia,{label:"Mask sensitive data",children:a.jsx("button",{onClick:b,className:`relative w-9 h-5 rounded-full transition-colors shrink-0 ${v?"bg-amber-500":"bg-[var(--bg-inset)] border border-[var(--border)]"}`,children:a.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full transition-all ${v?"left-[18px] bg-white":"left-0.5 bg-[var(--text-dim)]"}`})})}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[v?"Sensitive data is hidden. ":"","Masks PAN, Aadhaar, mobile, email, account numbers, client IDs, and policy numbers across the app. Use the ",v?a.jsx(eu,{size:11,className:"inline text-amber-400"}):a.jsx(rp,{size:11,className:"inline"})," icon in the header to quickly toggle."]}),v&&a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[a.jsx(eu,{size:14,className:"text-amber-400 shrink-0"}),a.jsx("p",{className:"text-xs text-amber-400 font-medium",children:"Data masking is active  safe for screen sharing"})]})]})]}),a.jsxs(hs,{children:[a.jsx(vs,{icon:a.jsx(y5,{size:14}),title:"Display"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(Ia,{label:"Currency",children:a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"INR ()"})}),a.jsx(Ia,{label:"Date format",children:a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"DD/MM/YYYY"})})]})]})]})}function hs({children:s}){return a.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:s})}function vs({icon:s,title:l}){return a.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[var(--text-muted)]",children:s}),a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:l})]})})}function Ia({label:s,children:l}){return a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] shrink-0",children:s}),l]})}function Df({value:s,onChange:l,options:r,suffix:t}){return a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:s,onChange:o=>l(o.target.value),className:"appearance-none pl-3 pr-7 py-1.5 text-xs font-semibold bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-violet-500 cursor-pointer",children:r.map(o=>a.jsxs("option",{value:o,children:[o,t||""]},o))}),a.jsx(qr,{size:10,className:"absolute right-2 top-1/2 -translate-y-1/2 text-[var(--text-dim)] pointer-events-none"})]})}function xT({member:s,onToggle:l}){const{mv:r}=Ln(),t=s.includeInEmailReports==="Yes"||s.includeInEmailReports===!0,[o,u]=w.useState(!1);async function d(){u(!0);try{await l(s.memberId,{...s,includeInEmailReports:t?"No":"Yes"})}catch{}finally{u(!1)}}return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-violet-100 dark:bg-violet-900/30 flex items-center justify-center shrink-0",children:a.jsx("span",{className:"text-[10px] font-bold text-violet-600",children:s.memberName?.charAt(0)?.toUpperCase()})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate",children:s.memberName}),s.email&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] truncate",children:r(s.email,"email")})]})]}),a.jsx("button",{onClick:d,disabled:o,className:`relative w-9 h-5 rounded-full transition-colors shrink-0 disabled:opacity-50 ${t?"bg-violet-500":"bg-[var(--bg-inset)] border border-[var(--border)]"}`,children:a.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full transition-all ${t?"left-[18px] bg-white":"left-0.5 bg-[var(--text-dim)]"}`})})]})}const hT=["SIP Due Date","Insurance Renewal","FD Maturity","Loan EMI","Investment Review","Custom"].map(s=>({value:s,label:s})),vT=[{value:"One-time",label:"One-time"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"},{value:"Yearly",label:"Yearly"}],bT=[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}];function gT({initial:s,onSave:l,onDelete:r,onCancel:t}){const o=!!s,{activeMembers:u}=$e(),d=u.map(g=>({value:g.memberId,label:g.memberName})),[m,x]=w.useState({reminderType:s?.reminderType||"",title:s?.title||"",description:s?.description||"",familyMemberId:s?.familyMemberId||"",dueDate:s?.dueDate||"",advanceNoticeDays:s?.advanceNoticeDays?.toString()||"7",frequency:s?.frequency||"One-time",priority:s?.priority||"Medium",status:s?.status||"Pending"}),[p,v]=w.useState({}),[b,j]=w.useState(!1);function C(g,N){x(D=>({...D,[g]:N})),v(D=>({...D,[g]:void 0}))}function M(){const g={};return m.reminderType||(g.reminderType="Required"),m.title.trim()||(g.title="Required"),m.familyMemberId||(g.familyMemberId="Required"),m.dueDate||(g.dueDate="Required"),v(g),Object.keys(g).length===0}async function S(){if(M()){j(!0);try{await l({...m,advanceNoticeDays:Number(m.advanceNoticeDays)||7})}finally{j(!1)}}}return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Reminder Type",required:!0,error:p.reminderType,children:a.jsx(Re,{value:m.reminderType,onChange:g=>C("reminderType",g),options:hT,placeholder:"Select type..."})}),a.jsx(te,{label:"Title",required:!0,error:p.title,children:a.jsx(pe,{value:m.title,onChange:g=>C("title",g),placeholder:"e.g., HDFC SIP Due"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Family Member",required:!0,error:p.familyMemberId,children:a.jsx(Re,{value:m.familyMemberId,onChange:g=>C("familyMemberId",g),options:d,placeholder:"Select member..."})}),a.jsx(te,{label:"Due Date",required:!0,error:p.dueDate,children:a.jsx(pe,{type:"date",value:m.dueDate,onChange:g=>C("dueDate",g)})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(te,{label:"Frequency",children:a.jsx(Re,{value:m.frequency,onChange:g=>C("frequency",g),options:vT})}),a.jsx(te,{label:"Priority",children:a.jsx(Re,{value:m.priority,onChange:g=>C("priority",g),options:bT})}),a.jsx(te,{label:"Advance Notice (days)",children:a.jsx(pe,{type:"number",value:m.advanceNoticeDays,onChange:g=>C("advanceNoticeDays",g),placeholder:"7"})})]}),o&&a.jsx(te,{label:"Status",children:a.jsx(Re,{value:m.status,onChange:g=>C("status",g),options:[{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"}]})}),a.jsx(te,{label:"Description",children:a.jsx(Il,{value:m.description,onChange:g=>C("description",g),placeholder:"Optional details...",rows:2})}),a.jsxs("div",{className:"flex items-center justify-between",children:[o&&r?a.jsx(fr,{onClick:r,label:"Delete"}):a.jsx("div",{}),a.jsx(da,{onCancel:t,onSubmit:S,submitLabel:o?"Update Reminder":"Add Reminder",loading:b})]})]})}const Qc={"SIP Due Date":"bg-violet-500/15 text-[var(--accent-violet)]","Insurance Renewal":"bg-amber-500/15 text-[var(--accent-amber)]","FD Maturity":"bg-blue-500/15 text-[var(--accent-blue)]","Loan EMI":"bg-rose-500/15 text-[var(--accent-rose)]","Investment Review":"bg-emerald-500/15 text-emerald-400",Custom:"bg-slate-500/15 text-[var(--text-muted)]"},ig={High:"bg-rose-500",Medium:"bg-amber-500",Low:"bg-blue-500"};function bl(s){if(!s)return 1/0;const l=new Date(s)-new Date;return Math.ceil(l/(1440*60*1e3))}function yT(){const{selectedMember:s,member:l}=Jt(),{reminderList:r,addReminder:t,updateReminder:o,deleteReminder:u}=$e(),{showToast:d,showBlockUI:m,hideBlockUI:x}=In(),[p,v]=w.useState(null),b=w.useMemo(()=>{const y=r.filter(E=>E.isActive!==!1);return s==="all"?y:y.filter(E=>E.familyMemberId===s)},[r,s]),j=b.filter(y=>bl(y.dueDate)<0).length,C=b.filter(y=>{const E=bl(y.dueDate);return E>=0&&E<=7}).length,M=b.filter(y=>{const E=bl(y.dueDate);return E>7&&E<=30}).length,S=[...b].sort((y,E)=>{const _=bl(y.dueDate),H=bl(E.dueDate);return _-H});async function g(y){m("Saving...");try{p?.edit?await o(p.edit.reminderId,y):await t(y),d(p?.edit?"Reminder updated":"Reminder added"),v(null)}catch(E){d(E.message||"Failed to save reminder","error")}finally{x()}}async function N(){if(p?.edit&&confirm("Delete this reminder?")){m("Deleting...");try{await u(p.edit.reminderId),d("Reminder deleted"),v(null)}catch(y){d(y.message||"Failed to delete reminder","error")}finally{x()}}}function D(y){const E=bl(y);return E<0?{label:`${Math.abs(E)}d overdue`,cls:"bg-rose-500/20 text-[var(--accent-rose)]"}:E===0?{label:"Today",cls:"bg-rose-500/20 text-[var(--accent-rose)]"}:E<=7?{label:`${E}d`,cls:"bg-amber-500/20 text-[var(--accent-amber)]"}:E<=30?{label:`${E}d`,cls:"bg-blue-500/20 text-[var(--accent-blue)]"}:{label:`${E}d`,cls:"bg-slate-500/20 text-[var(--text-muted)]"}}return a.jsxs("div",{className:"space-y-4",children:[b.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(LS,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No reminders",l?` for ${l.memberName}`:""]}),a.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add a reminder"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(Kc,{label:"Active",value:b.length}),j>0&&a.jsx(Kc,{label:"Overdue",value:j,color:"rose"}),C>0&&a.jsx(Kc,{label:"Due This Week",value:C,color:"amber"}),a.jsx(Kc,{label:"Next 30 Days",value:M})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Gt,{size:14})," Add Reminder"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[680px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Reminder"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),!l&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Due Date"}),a.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Frequency"}),a.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:S.map(y=>{const E=D(y.dueDate);return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${ig[y.priority]||"bg-slate-400"}`}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:y.title}),y.description&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] truncate max-w-[200px]",children:y.description})]})]})}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Qc[y.reminderType]||Qc.Custom}`,children:y.reminderType})}),!l&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:y.familyMemberName}),a.jsx("td",{className:"py-2.5 px-3 text-center",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:y.dueDate}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${E.cls}`,children:E.label})]})}),a.jsx("td",{className:"py-2.5 px-3 text-center text-xs text-[var(--text-muted)]",children:y.frequency}),a.jsx("td",{className:"py-2.5 px-3 text-center",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${y.status==="Pending"?"bg-amber-500/15 text-[var(--accent-amber)]":"bg-emerald-500/15 text-emerald-400"}`,children:y.status})}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>v({edit:y}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(hn,{size:12})})})]},y.reminderId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:S.map(y=>{const E=D(y.dueDate);return a.jsxs("div",{onClick:()=>v({edit:y}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${ig[y.priority]||"bg-slate-400"}`}),a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:y.title})]}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ml-2 ${Qc[y.reminderType]||Qc.Custom}`,children:y.reminderType})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[y.familyMemberName,"  ",y.frequency]}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${E.cls}`,children:E.label})]})]},y.reminderId)})})]})]}),a.jsx(_t,{open:!!p,onClose:()=>v(null),title:p?.edit?"Edit Reminder":"Add Reminder",wide:!0,children:a.jsx(gT,{initial:p?.edit||void 0,onSave:g,onDelete:p?.edit?N:void 0,onCancel:()=>v(null)})})]})}function Kc({label:s,value:l,color:r}){const t=r==="rose"?"text-[var(--accent-rose)]":r==="amber"?"text-[var(--accent-amber)]":"text-[var(--text-primary)]";return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:`text-sm font-bold tabular-nums ${t}`,children:l})]})}const og={BUY:"bg-emerald-500/15 text-emerald-400",SELL:"bg-rose-500/15 text-[var(--accent-rose)]"},NT={INITIAL:"bg-violet-500/15 text-[var(--accent-violet)]",SIP:"bg-blue-500/15 text-[var(--accent-blue)]",LUMPSUM:"bg-emerald-500/15 text-emerald-400",WITHDRAWAL:"bg-amber-500/15 text-[var(--accent-amber)]",SWITCH:"bg-orange-500/15 text-[var(--accent-orange)]"};function jT(){const{selectedMember:s}=Jt(),{mfTransactions:l,mfPortfolios:r,stockTransactions:t,stockPortfolios:o}=$e(),[u,d]=w.useState("mf"),[m,x]=w.useState("all"),p=w.useMemo(()=>{let S=[...l].sort((g,N)=>new Date(N.date)-new Date(g.date));if(s!=="all"){const g=new Set(r.filter(N=>N.ownerId===s).map(N=>N.portfolioId));S=S.filter(N=>g.has(N.portfolioId))}return m!=="all"&&(S=S.filter(g=>g.type===m)),S},[l,r,s,m]),v=w.useMemo(()=>{let S=[...t].sort((g,N)=>new Date(N.date)-new Date(g.date));if(s!=="all"){const g=new Set(o.filter(N=>N.ownerId===s).map(N=>N.portfolioId));S=S.filter(N=>g.has(N.portfolioId))}return m!=="all"&&(S=S.filter(g=>g.type===m)),S},[t,o,s,m]),b=u==="mf"?p:v,j=b.filter(S=>S.type==="BUY").reduce((S,g)=>S+(g.totalAmount||0),0),C=b.filter(S=>S.type==="SELL").reduce((S,g)=>S+(g.totalAmount||0),0),M=b.reduce((S,g)=>S+(g.gainLoss||g.realizedPL||0),0);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(Xc,{label:"Transactions",value:b.length}),a.jsx(Xc,{label:"Total Bought",value:Q(j)}),a.jsx(Xc,{label:"Total Sold",value:Q(C)}),a.jsx(Xc,{label:"Realized P&L",value:`${M>=0?"+":""}${Q(Math.abs(M))}`,positive:M>=0,bold:!0})]}),a.jsxs("div",{className:"flex items-center justify-between px-1",children:[a.jsx("div",{className:"flex gap-1",children:["mf","stocks"].map(S=>a.jsx("button",{onClick:()=>d(S),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${u===S?"bg-violet-500/20 text-violet-400 border border-violet-500/30":"text-[var(--text-dim)] hover:text-[var(--text-primary)] border border-transparent"}`,children:S==="mf"?"Mutual Funds":"Stocks"},S))}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ny,{size:12,className:"text-[var(--text-dim)]"}),["all","BUY","SELL"].map(S=>a.jsx("button",{onClick:()=>x(S),className:`px-2 py-1 text-xs font-semibold rounded transition-colors ${m===S?"bg-[var(--bg-card)] text-[var(--text-primary)] border border-[var(--border)]":"text-[var(--text-dim)] hover:text-[var(--text-muted)]"}`,children:S==="all"?"All":S},S))]})]}),a.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:b.length===0?a.jsxs("div",{className:"py-12 flex flex-col items-center gap-3",children:[a.jsx(yy,{size:32,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions found"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:u==="mf"?"Fund":"Stock"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Portfolio"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:u==="mf"?"Units":"Qty"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:u==="mf"?"NAV":"Price"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"})]})}),a.jsx("tbody",{children:b.map(S=>{const g=S.gainLoss||S.realizedPL||0;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-muted)] tabular-nums",children:S.date}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${og[S.type]||""}`,children:S.type}),S.transactionType&&a.jsx("span",{className:`text-[10px] font-semibold px-1 py-0.5 rounded ${NT[S.transactionType]||""}`,children:S.transactionType})]})}),a.jsxs("td",{className:"py-2.5 px-3",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate max-w-[180px]",children:S.fundName||S.companyName}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:S.fundCode||S.symbol})]}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)]",children:S.portfolioName||""}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:(S.units||S.quantity||0).toFixed(u==="mf"?2:0)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:Q(S.price||S.pricePerShare||0)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(S.totalAmount||0)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:g!==0?a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${g>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[g>=0?"+":"",Q(Math.abs(g))]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})]},S.transactionId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(S=>(S.gainLoss||S.realizedPL,a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:S.fundName||S.companyName}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded shrink-0 ${og[S.type]||""}`,children:S.type})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[S.date,"  ",S.portfolioName]}),a.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[a.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[(S.units||S.quantity||0).toFixed(u==="mf"?2:0)," @ ",Q(S.price||S.pricePerShare||0)]}),a.jsx("span",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(S.totalAmount||0)})]})]},S.transactionId)))})]})})]})}function Xc({label:s,value:l,positive:r,bold:t}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:`text-sm tabular-nums ${t?"font-bold":"font-semibold"} ${r===void 0?"text-[var(--text-primary)]":r?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:l})]})}const Sn=[{id:"healthIns",question:"Does your family have Health Insurance?",tip:"50L to 1Cr family floater recommended (considering inflation & future expenses)",category:"Insurance"},{id:"termLife",question:"Do you have adequate Term Life Insurance?",tip:"Recommended: 10-15x annual income",category:"Insurance"},{id:"emergencyFund",question:"Do you have an Emergency Fund?",tip:"6-12 months of monthly expenses in liquid assets",category:"Savings"},{id:"familyAware",question:"Is your family aware of all investments?",tip:"Ensure nominees and family know about all assets",category:"Planning"},{id:"hasWill",question:"Do you have a Will?",tip:"Legal document for asset distribution",category:"Planning"},{id:"nominees",question:"Have you updated Nominees on all accounts?",tip:"Bank, demat, insurance, MF  all should have nominees",category:"Planning"},{id:"goals",question:"Do you have clearly defined Financial Goals?",tip:"Retirement, education, home  with target amounts and dates",category:"Goals"}];function wT(){const s=As(),{members:l,insurancePolicies:r,goalList:t,otherInvList:o,healthCheckCompleted:u,completeHealthCheck:d}=$e(),m=l.filter(I=>I.status==="Active"),x=u===!1,[p,v]=w.useState(!1),[b,j]=w.useState(!0),[C,M]=w.useState(null),S=w.useMemo(()=>{const I={},G=r.filter(Z=>Z.policyType==="Health"&&Z.status==="Active");I.healthIns=G.length>0;const A=r.filter(Z=>Z.policyType==="Term Life"&&Z.status==="Active");I.termLife=A.length>0;const re=t.filter(Z=>Z.goalType==="Emergency Fund"&&Z.isActive),U=o.filter(Z=>Z.investmentType==="FD"||Z.investmentType==="PPF");return I.emergencyFund=re.length>0||U.length>0,I.goals=t.filter(Z=>Z.isActive).length>=2,I},[r,t,o]);w.useEffect(()=>{let I=!1;async function G(){const A=await iy("healthCheckAnswers");!I&&A&&(M(A),j(!1));try{const re=await ly();!I&&re&&(M(re),Na("healthCheckAnswers",re))}catch{}I||j(!1)}return G(),()=>{I=!0}},[]);const[g,N]=w.useState(()=>{const I={};return Sn.forEach(G=>{I[G.id]=S[G.id]?"yes":""}),I});w.useEffect(()=>{C&&N(I=>{const G={...I};return Sn.forEach(A=>{const re=C[A.id];re==="Yes"?G[A.id]="yes":re==="No"&&(G[A.id]="no")}),G})},[C]);const D=Object.values(g).filter(I=>I).length,y=Object.values(g).filter(I=>I==="yes").length,E=D===Sn.length,_=D>0?Math.round(y/Sn.length*100):0;function H(){return _>=80?"text-emerald-400":_>=50?"text-[var(--accent-amber)]":"text-[var(--accent-rose)]"}function $(){return _>=80?"Excellent":_>=60?"Good":_>=40?"Needs Work":"Critical"}const O=w.useMemo(()=>{const I=[];return g.healthIns!=="yes"&&I.push({severity:"critical",text:"Get Health Insurance for your family",action:"Minimum 5L cover recommended"}),g.termLife!=="yes"&&I.push({severity:"critical",text:"Get Term Life Insurance (10-15x annual income)",action:"Compare plans online"}),g.emergencyFund!=="yes"&&I.push({severity:"warning",text:"Build an Emergency Fund",action:"Save 6-12 months expenses in liquid fund/FD"}),g.familyAware!=="yes"&&I.push({severity:"warning",text:"Share investment details with family",action:"Create a document with all account info"}),g.hasWill!=="yes"&&I.push({severity:"warning",text:"Create a legal Will",action:"Consult a lawyer for Will registration"}),g.nominees!=="yes"&&I.push({severity:"warning",text:"Update nominees on all accounts",action:"Check bank, demat, insurance, MF accounts"}),g.goals!=="yes"&&I.push({severity:"info",text:"Define clear financial goals",action:"Use the Goal Planner to set targets"}),I},[g]),F=w.useCallback(async()=>{if(E){v(!0);try{const I={};Sn.forEach(G=>{I[G.id]=g[G.id]==="yes"?"Yes":"No"}),I.score=y,I.total=Sn.length,await d(I),s("/dashboard")}catch(I){console.error("Failed to save health check:",I)}finally{v(!1)}}},[E,g,y,d,s]);return a.jsxs("div",{className:"space-y-4 max-w-2xl mx-auto",children:[x&&a.jsxs("div",{className:"bg-violet-500/10 border border-violet-500/20 rounded-xl p-4",children:[a.jsx("h2",{className:"text-base font-bold text-violet-400 mb-1",children:"Welcome to Capital Friends!"}),a.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Before you start, please complete this quick Financial Health Check. It takes less than a minute and helps you understand where your family stands financially."})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(gy,{size:16,className:"text-violet-400"}),a.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:"Financial Health Score"})]}),a.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[D,"/",Sn.length," answered"]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative w-20 h-20",children:[a.jsxs("svg",{className:"w-20 h-20 -rotate-90",viewBox:"0 0 36 36",children:[a.jsx("path",{d:"M18 2.0845a 15.9155 15.9155 0 0 1 0 31.831a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"var(--border)",strokeWidth:"3"}),a.jsx("path",{d:"M18 2.0845a 15.9155 15.9155 0 0 1 0 31.831a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:`${_}, 100`,className:H(),strokeLinecap:"round"})]}),a.jsxs("span",{className:`absolute inset-0 flex items-center justify-center text-lg font-bold ${H()}`,children:[_,"%"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:`text-base font-bold ${H()}`,children:$()}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:[y," of ",Sn.length," checks passed"]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[m.length," family members tracked"]})]})]})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Health Check Questions"})}),a.jsx("div",{className:"divide-y divide-[var(--border-light)]",children:Sn.map((I,G)=>a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"text-sm text-[var(--text-primary)]",children:[a.jsxs("span",{className:"text-[var(--text-dim)] mr-2",children:[G+1,"."]}),I.question]}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5 ml-5",children:I.tip})]}),a.jsxs("div",{className:"flex gap-1 shrink-0",children:[a.jsx("button",{onClick:()=>N(A=>({...A,[I.id]:"yes"})),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${g[I.id]==="yes"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"bg-[var(--bg-inset)] text-[var(--text-dim)] border border-[var(--border)] hover:text-[var(--text-primary)]"}`,children:"Yes"}),a.jsx("button",{onClick:()=>N(A=>({...A,[I.id]:"no"})),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${g[I.id]==="no"?"bg-rose-500/20 text-[var(--accent-rose)] border border-rose-500/30":"bg-[var(--bg-inset)] text-[var(--text-dim)] border border-[var(--border)] hover:text-[var(--text-primary)]"}`,children:"No"})]})]}),S[I.id]&&a.jsx("p",{className:"text-xs text-violet-400 mt-1 ml-5",children:"Auto-detected from your data"})]},I.id))})]}),O.length>0&&E&&a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Recommendations"})}),a.jsx("div",{className:"divide-y divide-[var(--border-light)]",children:O.map((I,G)=>{const A=I.severity==="critical"?a.jsx(by,{size:14,className:"text-[var(--accent-rose)]"}):I.severity==="warning"?a.jsx(kl,{size:14,className:"text-[var(--accent-amber)]"}):a.jsx(XS,{size:14,className:"text-[var(--accent-blue)]"});return a.jsxs("div",{className:"flex items-start gap-3 px-4 py-3",children:[a.jsx("span",{className:"shrink-0 mt-0.5",children:A}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-[var(--text-primary)]",children:I.text}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:I.action})]})]},G)})})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[!E&&a.jsxs("p",{className:"text-xs text-[var(--accent-amber)] mb-3",children:["Please answer all ",Sn.length," questions before saving."]}),a.jsx("button",{onClick:F,disabled:!E||p,className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg text-sm font-bold transition-colors ${E&&!p?"bg-violet-600 hover:bg-violet-500 text-white":"bg-[var(--bg-inset)] text-[var(--text-dim)] cursor-not-allowed"}`,children:p?a.jsxs(a.Fragment,{children:[a.jsx(Sy,{size:16,className:"animate-spin"}),"Saving..."]}):x?a.jsxs(a.Fragment,{children:["Save & Continue to Dashboard",a.jsx(_S,{size:16})]}):a.jsxs(a.Fragment,{children:[a.jsx(Z5,{size:16}),"Update Health Check"]})})]})]})}function ST(){return a.jsxs("div",{className:"space-y-4 max-w-lg mx-auto",children:[a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-5 text-center",children:[a.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-indigo-600 flex items-center justify-center mx-auto mb-3",children:a.jsx("span",{className:"text-xl font-bold text-white",children:"CF"})}),a.jsx("h1",{className:"text-lg font-bold text-[var(--text-primary)]",children:"Capital Friends"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:"Family Portfolio Management"}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-2",children:"v2.0.0"})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Features"})}),a.jsx("div",{className:"px-4 py-3 space-y-2",children:["Track Mutual Funds, Stocks & Other Investments","Family member-wise portfolio management","ATH-based Buy Opportunities","Smart Rebalancing with threshold alerts","Goal planning with portfolio mapping","Insurance, Liabilities & Bank Accounts","Financial Health Check questionnaire","Reminders for SIPs, renewals & due dates","Email reports with detailed breakdowns"].map(s=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-500 shrink-0"}),a.jsx("p",{className:"text-xs text-[var(--text-secondary)]",children:s})]},s))})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(du,{size:12,className:"text-pink-400"}),a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Support Developer"})]})}),a.jsxs("div",{className:"px-4 py-4 text-center",children:[a.jsx("p",{className:"text-sm text-[var(--text-secondary)] mb-3",children:"If Capital Friends helps you manage your family finances, consider supporting the developer."}),a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-4 py-3 border border-[var(--border)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-1",children:"UPI"}),a.jsx("p",{className:"text-sm font-mono font-semibold text-[var(--text-primary)] select-all",children:"jagadeeshmanne.hdfc@kphdfc"})]}),a.jsxs("div",{className:"flex items-center justify-center gap-1 mt-3",children:[a.jsx(t5,{size:12,className:"text-[var(--accent-amber)]"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Buy me a chai!"})]})]})]}),a.jsxs("div",{className:"text-center py-2",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Made with ",a.jsx(du,{size:10,className:"inline text-pink-400 mx-0.5"})," by Jagadeesh Manne"]}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:"Built with React + Vite + Tailwind CSS"})]})]})}function CT(){return Date.now().toString(36).toUpperCase()}function kT(){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZ",l=r=>Array.from({length:r},()=>s[Math.floor(Math.random()*26)]).join("");return l(5)+Math.floor(1e3+Math.random()*9e3)+l(1)}function DT(){return String(Math.floor(2e11+Math.random()*8e11))}function cg(){return"9"+String(Math.floor(1e8+Math.random()*9e8))}function MT(){return String(Math.floor(1e9+Math.random()*9e9))}function AT(){const s=CT();return{member:{memberName:`Test Member ${s}`,relationship:"Self",pan:kT(),aadhar:DT(),email:`test-${s.toLowerCase()}@example.com`,mobile:cg(),includeInEmailReports:!0},bank:{accountName:`Test Savings ${s}`,bankName:"Test Bank",accountNumber:MT(),ifscCode:"TEST0001234",accountType:"Savings",branchName:"Test Branch"},investmentAccount:{accountName:`Test Demat ${s}`,accountType:"Demat",platformBroker:"Test Broker Platform",accountClientId:`CLI-${s}`,registeredEmail:`test-${s.toLowerCase()}@example.com`,registeredPhone:cg()},insurance:{policyType:"Term Life",company:"Test Insurance Co",policyNumber:`POL-${s}`,policyName:`Test Term Plan ${s}`,sumAssured:5e6,nominee:"Test Nominee",dynamicFields:{Premium:15e3,"Premium Frequency":"Annual"}},liability:{liabilityType:"Home Loan",lenderName:"Test Bank",outstandingBalance:45e5,dynamicFields:{"Principal Amount":5e6,"Interest Rate":8.5,"EMI Amount":45e3},notes:`Test liability ${s}`},otherInvestment:{investmentType:"Fixed Deposit",investmentName:`Test FD ${s}`,investedAmount:1e5,currentValue:105e3,investmentCategory:"Debt"},stockPortfolio:{portfolioName:`Test Stock Portfolio ${s}`,broker:"Test Broker"},reminder:{title:`Test Reminder ${s}`,description:"Automated test reminder",dueDate:new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0],category:"Insurance",priority:"Medium"},goal:{goalName:`Test Goal ${s}`,goalType:"Custom",targetAmount:1e6,targetDate:"2040-01-01",priority:"Medium",expectedInflation:.06,expectedCAGR:.12}}}function TT({status:s,text:l}){const r={pass:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",fail:"bg-rose-500/20 text-rose-400 border-rose-500/30",skip:"bg-amber-500/20 text-amber-400 border-amber-500/30",running:"bg-blue-500/20 text-blue-400 border-blue-500/30",pending:"bg-gray-500/20 text-gray-400 border-gray-500/30"};return a.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded border ${r[s]||r.pending}`,children:l||s.toUpperCase()})}function ET(){const{user:s}=Ts(),[l,r]=w.useState([]),[t,o]=w.useState(!1),[u,d]=w.useState(null),[m,x]=w.useState(!1),p=w.useCallback((g,N,D="")=>{r(y=>[...y,{test:g,status:N,detail:D,time:new Date().toLocaleTimeString()}])},[]),v=w.useCallback((g,N="")=>{r(D=>{const y=[...D];return y.length>0&&(y[y.length-1]={...y[y.length-1],status:g,detail:N}),y})},[]),b=async()=>{x(!0),d(null);try{const g=await Ne("test:diagnose");d(g)}catch(g){d({error:g.message})}finally{x(!1)}},j=async()=>{o(!0),r([]);const g=AT();let N=null,D=null,y=null,E=null,_=null,H=null,$=null,O=null,F=null,I=null;try{p("API Echo Test","running");try{const A=await Ne("test:echo",{hello:"world"});A&&A.echo&&A.echo.hello==="world"?v("pass","Echo response received correctly"):v("fail","Unexpected response: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Diagnostics","running");try{const A=await Ne("test:diagnose"),re=Object.entries(A.sheets||{}).filter(([,Z])=>!Z.exists).map(([Z])=>Z);if(re.length>0)v("fail",`Missing sheets: ${re.join(", ")}`);else{const Z=Object.keys(A.sheets).length;v("pass",`All ${Z} sheets exist. SpreadsheetId: ${A.spreadsheetId}`)}const U=Object.entries(A.dataTests||{}).filter(([,Z])=>!Z.success).map(([Z,B])=>`${Z}: ${B.error}`);U.length>0&&p("Data Function Errors","fail",U.join("; "))}catch(A){v("fail",A.message)}p("Load All Data (bulk)","running");try{const A=await uu(),re=Object.entries(A).map(([U,Z])=>`${U}: ${Array.isArray(Z)?Z.length:"?"}`);v("pass",re.join(", "))}catch(A){v("fail",A.message)}p("Members  Create","running");try{const A=await Og(g.member);N=A?.memberId,D=g.member.memberName,N?v("pass",`Created: ${N}`):v("fail","No memberId returned: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Members  List","running");try{const A=await _g();Array.isArray(A)&&A.some(U=>U.memberId===N)?v("pass",`Found ${N} in ${A.length} member(s)`):v("fail",`Member ${N} not found. Got ${Array.isArray(A)?A.length:0} members: ${JSON.stringify(A).substring(0,200)}`)}catch(A){v("fail",A.message)}if(N){p("Members  Update","running");try{await Rg({...g.member,memberId:N,memberName:"Updated Test Member"}),D="Updated Test Member",v("pass",'Updated name to "Updated Test Member"')}catch(A){v("fail",A.message)}}p("Banks  Create","running");try{const A=await Pg({...g.bank,memberId:N||"FM-001"});y=A?.accountId,v(y?"pass":"fail",y?`Created: ${y}`:"No accountId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Banks  List","running");try{const A=await Lg();v("pass",`${Array.isArray(A)?A.length:0} account(s)`)}catch(A){v("fail",A.message)}p("Investment Accounts  Create","running");try{const A=await Bg({...g.investmentAccount,memberId:N||"FM-001",bankAccountId:y||"BA-001"});E=A?.accountId,v(E?"pass":"fail",E?`Created: ${E}`:"No accountId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Investment Accounts  List","running");try{const A=await Fg();v("pass",`${Array.isArray(A)?A.length:0} account(s)`)}catch(A){v("fail",A.message)}p("Insurance  Create","running");try{const A=await Vg({...g.insurance,memberId:N||"FM-001",insuredMember:D||"Test Member"});_=A?.policyId,v(_?"pass":"fail",_?`Created: ${_}`:"No policyId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Insurance  List","running");try{const A=await $g();v("pass",`${Array.isArray(A)?A.length:0} policy/policies`)}catch(A){v("fail",A.message)}p("Liabilities  Create","running");try{const A=await Kg({...g.liability,familyMember:N||"FM-001"});H=A?.liabilityId,v(H?"pass":"fail",H?`Created: ${H}`:"No liabilityId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Liabilities  List","running");try{const A=await Qg();v("pass",`${Array.isArray(A)?A.length:0} liability/liabilities`)}catch(A){v("fail",A.message)}p("Other Investments  Create","running");try{const A=await Zg({...g.otherInvestment,familyMember:N||"FM-001"});$=A?.investmentId,v($?"pass":"fail",$?`Created: ${$}`:"No investmentId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Other Investments  List","running");try{const A=await Wg();v("pass",`${Array.isArray(A)?A.length:0} investment(s)`)}catch(A){v("fail",A.message)}p("Stock Portfolios  Create","running");try{const A=await ty({...g.stockPortfolio,owner:N||"FM-001"});O=A?.portfolioId,v(O?"pass":"fail",O?`Created: ${O}`:"No portfolioId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Stock Portfolios  List","running");try{const A=await ey();v("pass",`${Array.isArray(A)?A.length:0} portfolio(s)`)}catch(A){v("fail",A.message)}p("Reminders  Create","running");try{const A=await ry(g.reminder);F=A?.reminderId,v(F?"pass":"fail",F?`Created: ${F}`:"No reminderId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Reminders  List","running");try{const A=await ny();v("pass",`${Array.isArray(A)?A.length:0} reminder(s)`)}catch(A){v("fail",A.message)}p("Goals  Create","running");try{const A=await Ug(g.goal);I=A?.goalId,v(I?"pass":"fail",I?`Created: ${I}`:"No goalId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Goals  List","running");try{const A=await Yg();v("pass",`${Array.isArray(A)?A.length:0} goal(s)`)}catch(A){v("fail",A.message)}p("Cleanup  Delete test data","running");const G=[];if(I)try{await qg(I)}catch(A){G.push("goal: "+A.message)}if(F)try{await sy(F)}catch(A){G.push("reminder: "+A.message)}if(O)try{await ay(O)}catch(A){G.push("stockPortfolio: "+A.message)}if($)try{await Jg($)}catch(A){G.push("otherInv: "+A.message)}if(H)try{await Xg(H)}catch(A){G.push("liability: "+A.message)}if(_)try{await Gg(_)}catch(A){G.push("insurance: "+A.message)}if(E)try{await Hg(E)}catch(A){G.push("invAcct: "+A.message)}if(y)try{await zg(y)}catch(A){G.push("bank: "+A.message)}if(N)try{await Ig(N)}catch(A){G.push("member: "+A.message)}G.length>0?v("fail",G.join("; ")):v("pass","All test data cleaned up"),p("Final Load All (post-cleanup)","running");try{const A=await uu(),re=Object.entries(A).map(([U,Z])=>`${U}: ${Array.isArray(Z)?Z.length:"?"}`);v("pass",re.join(", "))}catch(A){v("fail",A.message)}}catch(G){p("UNEXPECTED ERROR","fail",G.message)}finally{o(!1)}},C=l.filter(g=>g.status==="pass").length,M=l.filter(g=>g.status==="fail").length,S=l.filter(g=>g.status!=="running").length;return a.jsx("div",{className:"min-h-screen bg-[var(--bg-main)] p-4 max-w-3xl mx-auto",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-bold text-[var(--text-primary)]",children:"API Test Suite"}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Signed in as ",s?.email||"unknown"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:b,disabled:m||t,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-[var(--bg-card)] border border-[var(--border)] text-[var(--text-secondary)] hover:bg-[var(--bg-elevated)] disabled:opacity-50 cursor-pointer",children:m?"Running...":"Diagnostics"}),a.jsx("button",{onClick:j,disabled:t,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-violet-600 text-white hover:bg-violet-700 disabled:opacity-50 cursor-pointer",children:t?"Running Tests...":"Run All Tests"})]})]}),S>0&&a.jsxs("div",{className:"flex gap-3 text-xs",children:[a.jsxs("span",{className:"text-emerald-400",children:["Pass: ",C]}),a.jsxs("span",{className:"text-rose-400",children:["Fail: ",M]}),a.jsxs("span",{className:"text-[var(--text-dim)]",children:["Total: ",S]})]}),u&&a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4 space-y-3",children:[a.jsx("h2",{className:"text-sm font-semibold text-[var(--text-primary)]",children:"Diagnostics Report"}),u.error?a.jsx("p",{className:"text-xs text-rose-400",children:u.error}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-xs text-[var(--text-secondary)] space-y-1",children:[a.jsxs("p",{children:[a.jsx("span",{className:"text-[var(--text-dim)]",children:"Spreadsheet:"})," ",u.spreadsheetName]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-[var(--text-dim)]",children:"ID:"})," ",a.jsx("code",{className:"text-[10px]",children:u.spreadsheetId})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-medium text-[var(--text-primary)] mb-1",children:"Sheets"}),a.jsx("div",{className:"grid grid-cols-2 gap-1",children:Object.entries(u.sheets||{}).map(([g,N])=>a.jsxs("div",{className:"flex items-center justify-between text-[11px] px-2 py-1 rounded bg-[var(--bg-elevated)]",children:[a.jsx("span",{className:"text-[var(--text-secondary)] truncate",children:g}),N.exists?a.jsxs("span",{className:"text-emerald-400 ml-1",children:[N.dataRows,"r"]}):a.jsx("span",{className:"text-rose-400 ml-1",children:"MISSING"})]},g))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-medium text-[var(--text-primary)] mb-1",children:"Data Functions"}),a.jsx("div",{className:"space-y-1",children:Object.entries(u.dataTests||{}).map(([g,N])=>a.jsxs("div",{className:"flex items-center justify-between text-[11px] px-2 py-1 rounded bg-[var(--bg-elevated)]",children:[a.jsx("span",{className:"text-[var(--text-secondary)]",children:g}),N.success?a.jsxs("span",{className:"text-emerald-400",children:[N.count," items"]}):a.jsx("span",{className:"text-rose-400 truncate ml-2 max-w-[200px]",title:N.error,children:N.error})]},g))})]}),u.safeCallErrors&&u.safeCallErrors.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-medium text-rose-400 mb-1",children:"SafeCall Errors"}),u.safeCallErrors.map((g,N)=>a.jsxs("p",{className:"text-[11px] text-rose-400",children:[g.fn,": ",g.error]},N))]})]})]}),l.length>0&&a.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:a.jsx("div",{className:"divide-y divide-[var(--border)]",children:l.map((g,N)=>a.jsxs("div",{className:"px-4 py-2 flex items-start gap-3",children:[a.jsx("div",{className:"mt-0.5 shrink-0",children:a.jsx(TT,{status:g.status})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:g.test}),g.detail&&a.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5 break-all",children:g.detail})]}),a.jsx("span",{className:"text-[10px] text-[var(--text-dim)] shrink-0",children:g.time})]},N))})}),l.length===0&&!u&&a.jsxs("div",{className:"text-center py-12 text-[var(--text-dim)]",children:[a.jsx("p",{className:"text-sm",children:'Click "Run All Tests" to test all CRUD operations'}),a.jsx("p",{className:"text-xs mt-1",children:'or "Diagnostics" to check spreadsheet structure'})]})]})})}function _T(){return a.jsxs(Kw,{children:[a.jsx(yt,{index:!0,element:a.jsx(I3,{})}),a.jsx(yt,{path:"login",element:a.jsx(N1,{})}),a.jsx(yt,{element:a.jsx(T3,{}),children:a.jsxs(yt,{element:a.jsx(A3,{}),children:[a.jsx(yt,{path:"dashboard",element:a.jsx(ou,{to:"/investments/mutual-funds",replace:!0})}),a.jsx(yt,{path:"family",element:a.jsx(sT,{})}),a.jsx(yt,{path:"accounts/bank",element:a.jsx(zb,{})}),a.jsx(yt,{path:"accounts/investment",element:a.jsx(H3,{})}),a.jsx(yt,{path:"insurance",element:a.jsx($3,{})}),a.jsx(yt,{path:"investments/mutual-funds",element:a.jsx(WA,{})}),a.jsx(yt,{path:"investments/stocks",element:a.jsx(aT,{})}),a.jsx(yt,{path:"investments/other",element:a.jsx(nA,{})}),a.jsx(yt,{path:"liabilities",element:a.jsx(K3,{})}),a.jsx(yt,{path:"goals",element:a.jsx(dT,{})}),a.jsx(yt,{path:"reports",element:a.jsx(jT,{})}),a.jsx(yt,{path:"reminders",element:a.jsx(yT,{})}),a.jsx(yt,{path:"health-check",element:a.jsx(wT,{})}),a.jsx(yt,{path:"about",element:a.jsx(ST,{})}),a.jsx(yt,{path:"test",element:a.jsx(ET,{})}),a.jsx(yt,{path:"settings",element:a.jsx(pT,{})}),a.jsx(yt,{path:"more",element:a.jsx(fT,{})}),a.jsx(yt,{path:"accounts",element:a.jsx(zb,{})}),a.jsx(yt,{path:"*",element:a.jsx(L3,{})})]})})]})}Xj.createRoot(document.getElementById("root")).render(a.jsx(g2,{children:a.jsx(gS,{children:a.jsx(yS,{children:a.jsx(DC,{children:a.jsx(bC,{children:a.jsx(jS,{children:a.jsx(wS,{children:a.jsx(_T,{})})})})})})})}));
