function EL(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(r,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();function si(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var T0={exports:{}},Du={};var nC;function _L(){if(nC)return Du;nC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,s){var c=null;if(s!==void 0&&(c=""+s),a.key!==void 0&&(c=""+a.key),"key"in a){s={};for(var u in a)u!=="key"&&(s[u]=a[u])}else s=a;return a=s.ref,{$$typeof:e,type:r,key:c,ref:a!==void 0?a:null,props:s}}return Du.Fragment=t,Du.jsx=n,Du.jsxs=n,Du}var aC;function OL(){return aC||(aC=1,T0.exports=_L()),T0.exports}var l=OL(),P0={exports:{}},Je={};var iC;function TL(){if(iC)return Je;iC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),x=Symbol.iterator;function b(F){return F===null||typeof F!="object"?null:(F=x&&F[x]||F["@@iterator"],typeof F=="function"?F:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,y={};function C(F,ae,he){this.props=F,this.context=ae,this.refs=y,this.updater=he||S}C.prototype.isReactComponent={},C.prototype.setState=function(F,ae){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ae,"setState")},C.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function M(){}M.prototype=C.prototype;function A(F,ae,he){this.props=F,this.context=ae,this.refs=y,this.updater=he||S}var _=A.prototype=new M;_.constructor=A,w(_,C.prototype),_.isPureReactComponent=!0;var E=Array.isArray;function T(){}var P={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function L(F,ae,he){var ye=he.ref;return{$$typeof:e,type:F,key:ae,ref:ye!==void 0?ye:null,props:he}}function R(F,ae){return L(F.type,ae,F.props)}function B(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function D(F){var ae={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(he){return ae[he]})}var W=/\/+/g;function X(F,ae){return typeof F=="object"&&F!==null&&F.key!=null?D(""+F.key):ae.toString(36)}function Z(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(T,T):(F.status="pending",F.then(function(ae){F.status==="pending"&&(F.status="fulfilled",F.value=ae)},function(ae){F.status==="pending"&&(F.status="rejected",F.reason=ae)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function $(F,ae,he,ye,je){var Ie=typeof F;(Ie==="undefined"||Ie==="boolean")&&(F=null);var me=!1;if(F===null)me=!0;else switch(Ie){case"bigint":case"string":case"number":me=!0;break;case"object":switch(F.$$typeof){case e:case t:me=!0;break;case h:return me=F._init,$(me(F._payload),ae,he,ye,je)}}if(me)return je=je(F),me=ye===""?"."+X(F,0):ye,E(je)?(he="",me!=null&&(he=me.replace(W,"$&/")+"/"),$(je,ae,he,"",function(Ne){return Ne})):je!=null&&(B(je)&&(je=R(je,he+(je.key==null||F&&F.key===je.key?"":(""+je.key).replace(W,"$&/")+"/")+me)),ae.push(je)),1;me=0;var ge=ye===""?".":ye+":";if(E(F))for(var K=0;K<F.length;K++)ye=F[K],Ie=ge+X(ye,K),me+=$(ye,ae,he,Ie,je);else if(K=b(F),typeof K=="function")for(F=K.call(F),K=0;!(ye=F.next()).done;)ye=ye.value,Ie=ge+X(ye,K++),me+=$(ye,ae,he,Ie,je);else if(Ie==="object"){if(typeof F.then=="function")return $(Z(F),ae,he,ye,je);throw ae=String(F),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return me}function G(F,ae,he){if(F==null)return F;var ye=[],je=0;return $(F,ye,"","",function(Ie){return ae.call(he,Ie,je++)}),ye}function z(F){if(F._status===-1){var ae=F._result;ae=ae(),ae.then(function(he){(F._status===0||F._status===-1)&&(F._status=1,F._result=he)},function(he){(F._status===0||F._status===-1)&&(F._status=2,F._result=he)}),F._status===-1&&(F._status=0,F._result=ae)}if(F._status===1)return F._result.default;throw F._result}var te=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},ve={map:G,forEach:function(F,ae,he){G(F,function(){ae.apply(this,arguments)},he)},count:function(F){var ae=0;return G(F,function(){ae++}),ae},toArray:function(F){return G(F,function(ae){return ae})||[]},only:function(F){if(!B(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return Je.Activity=v,Je.Children=ve,Je.Component=C,Je.Fragment=n,Je.Profiler=a,Je.PureComponent=A,Je.StrictMode=r,Je.Suspense=f,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Je.__COMPILER_RUNTIME={__proto__:null,c:function(F){return P.H.useMemoCache(F)}},Je.cache=function(F){return function(){return F.apply(null,arguments)}},Je.cacheSignal=function(){return null},Je.cloneElement=function(F,ae,he){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var ye=w({},F.props),je=F.key;if(ae!=null)for(Ie in ae.key!==void 0&&(je=""+ae.key),ae)!O.call(ae,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&ae.ref===void 0||(ye[Ie]=ae[Ie]);var Ie=arguments.length-2;if(Ie===1)ye.children=he;else if(1<Ie){for(var me=Array(Ie),ge=0;ge<Ie;ge++)me[ge]=arguments[ge+2];ye.children=me}return L(F.type,je,ye)},Je.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:s,_context:F},F},Je.createElement=function(F,ae,he){var ye,je={},Ie=null;if(ae!=null)for(ye in ae.key!==void 0&&(Ie=""+ae.key),ae)O.call(ae,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(je[ye]=ae[ye]);var me=arguments.length-2;if(me===1)je.children=he;else if(1<me){for(var ge=Array(me),K=0;K<me;K++)ge[K]=arguments[K+2];je.children=ge}if(F&&F.defaultProps)for(ye in me=F.defaultProps,me)je[ye]===void 0&&(je[ye]=me[ye]);return L(F,Ie,je)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(F){return{$$typeof:u,render:F}},Je.isValidElement=B,Je.lazy=function(F){return{$$typeof:h,_payload:{_status:-1,_result:F},_init:z}},Je.memo=function(F,ae){return{$$typeof:m,type:F,compare:ae===void 0?null:ae}},Je.startTransition=function(F){var ae=P.T,he={};P.T=he;try{var ye=F(),je=P.S;je!==null&&je(he,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(T,te)}catch(Ie){te(Ie)}finally{ae!==null&&he.types!==null&&(ae.types=he.types),P.T=ae}},Je.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Je.use=function(F){return P.H.use(F)},Je.useActionState=function(F,ae,he){return P.H.useActionState(F,ae,he)},Je.useCallback=function(F,ae){return P.H.useCallback(F,ae)},Je.useContext=function(F){return P.H.useContext(F)},Je.useDebugValue=function(){},Je.useDeferredValue=function(F,ae){return P.H.useDeferredValue(F,ae)},Je.useEffect=function(F,ae){return P.H.useEffect(F,ae)},Je.useEffectEvent=function(F){return P.H.useEffectEvent(F)},Je.useId=function(){return P.H.useId()},Je.useImperativeHandle=function(F,ae,he){return P.H.useImperativeHandle(F,ae,he)},Je.useInsertionEffect=function(F,ae){return P.H.useInsertionEffect(F,ae)},Je.useLayoutEffect=function(F,ae){return P.H.useLayoutEffect(F,ae)},Je.useMemo=function(F,ae){return P.H.useMemo(F,ae)},Je.useOptimistic=function(F,ae){return P.H.useOptimistic(F,ae)},Je.useReducer=function(F,ae,he){return P.H.useReducer(F,ae,he)},Je.useRef=function(F){return P.H.useRef(F)},Je.useState=function(F){return P.H.useState(F)},Je.useSyncExternalStore=function(F,ae,he){return P.H.useSyncExternalStore(F,ae,he)},Je.useTransition=function(){return P.H.useTransition()},Je.version="19.2.4",Je}var sC;function jc(){return sC||(sC=1,P0.exports=TL()),P0.exports}var j=jc();const oe=si(j),e1=EL({__proto__:null,default:oe},[j]);var I0={exports:{}},Eu={},R0={exports:{}},L0={};var lC;function PL(){return lC||(lC=1,(function(e){function t($,G){var z=$.length;$.push(G);e:for(;0<z;){var te=z-1>>>1,ve=$[te];if(0<a(ve,G))$[te]=G,$[z]=ve,z=te;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var G=$[0],z=$.pop();if(z!==G){$[0]=z;e:for(var te=0,ve=$.length,F=ve>>>1;te<F;){var ae=2*(te+1)-1,he=$[ae],ye=ae+1,je=$[ye];if(0>a(he,z))ye<ve&&0>a(je,he)?($[te]=je,$[ye]=z,te=ye):($[te]=he,$[ae]=z,te=ae);else if(ye<ve&&0>a(je,z))$[te]=je,$[ye]=z,te=ye;else break e}}return G}function a($,G){var z=$.sortIndex-G.sortIndex;return z!==0?z:$.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var f=[],m=[],h=1,v=null,x=3,b=!1,S=!1,w=!1,y=!1,C=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function _($){for(var G=n(m);G!==null;){if(G.callback===null)r(m);else if(G.startTime<=$)r(m),G.sortIndex=G.expirationTime,t(f,G);else break;G=n(m)}}function E($){if(w=!1,_($),!S)if(n(f)!==null)S=!0,T||(T=!0,D());else{var G=n(m);G!==null&&Z(E,G.startTime-$)}}var T=!1,P=-1,O=5,L=-1;function R(){return y?!0:!(e.unstable_now()-L<O)}function B(){if(y=!1,T){var $=e.unstable_now();L=$;var G=!0;try{e:{S=!1,w&&(w=!1,M(P),P=-1),b=!0;var z=x;try{t:{for(_($),v=n(f);v!==null&&!(v.expirationTime>$&&R());){var te=v.callback;if(typeof te=="function"){v.callback=null,x=v.priorityLevel;var ve=te(v.expirationTime<=$);if($=e.unstable_now(),typeof ve=="function"){v.callback=ve,_($),G=!0;break t}v===n(f)&&r(f),_($)}else r(f);v=n(f)}if(v!==null)G=!0;else{var F=n(m);F!==null&&Z(E,F.startTime-$),G=!1}}break e}finally{v=null,x=z,b=!1}G=void 0}}finally{G?D():T=!1}}}var D;if(typeof A=="function")D=function(){A(B)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,X=W.port2;W.port1.onmessage=B,D=function(){X.postMessage(null)}}else D=function(){C(B,0)};function Z($,G){P=C(function(){$(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function($){switch(x){case 1:case 2:case 3:var G=3;break;default:G=x}var z=x;x=G;try{return $()}finally{x=z}},e.unstable_requestPaint=function(){y=!0},e.unstable_runWithPriority=function($,G){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var z=x;x=$;try{return G()}finally{x=z}},e.unstable_scheduleCallback=function($,G,z){var te=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?te+z:te):z=te,$){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=z+ve,$={id:h++,callback:G,priorityLevel:$,startTime:z,expirationTime:ve,sortIndex:-1},z>te?($.sortIndex=z,t(m,$),n(f)===null&&$===n(m)&&(w?(M(P),P=-1):w=!0,Z(E,z-te))):($.sortIndex=ve,t(f,$),S||b||(S=!0,T||(T=!0,D()))),$},e.unstable_shouldYield=R,e.unstable_wrapCallback=function($){var G=x;return function(){var z=x;x=G;try{return $.apply(this,arguments)}finally{x=z}}}})(L0)),L0}var oC;function IL(){return oC||(oC=1,R0.exports=PL()),R0.exports}var z0={exports:{}},Kr={};var cC;function RL(){if(cC)return Kr;cC=1;var e=jc();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)m+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(f,m,h){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:f,containerInfo:m,implementation:h}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Kr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Kr.createPortal=function(f,m){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return s(f,m,null,h)},Kr.flushSync=function(f){var m=c.T,h=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=m,r.p=h,r.d.f()}},Kr.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(f,m))},Kr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Kr.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var h=m.as,v=u(h,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;h==="style"?r.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:b}):h==="script"&&r.d.X(f,{crossOrigin:v,integrity:x,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Kr.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var h=u(m.as,m.crossOrigin);r.d.M(f,{crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(f)},Kr.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var h=m.as,v=u(h,m.crossOrigin);r.d.L(f,h,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Kr.preloadModule=function(f,m){if(typeof f=="string")if(m){var h=u(m.as,m.crossOrigin);r.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(f)},Kr.requestFormReset=function(f){r.d.r(f)},Kr.unstable_batchedUpdates=function(f,m){return f(m)},Kr.useFormState=function(f,m,h){return c.H.useFormState(f,m,h)},Kr.useFormStatus=function(){return c.H.useHostTransitionStatus()},Kr.version="19.2.4",Kr}var uC;function z_(){if(uC)return z0.exports;uC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),z0.exports=RL(),z0.exports}var dC;function LL(){if(dC)return Eu;dC=1;var e=IL(),t=jc(),n=z_();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var o=i,d=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(d=o.return),i=o.return;while(i)}return o.tag===3?d:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function u(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(s(i)!==i)throw Error(r(188))}function m(i){var o=i.alternate;if(!o){if(o=s(i),o===null)throw Error(r(188));return o!==i?null:i}for(var d=i,p=o;;){var g=d.return;if(g===null)break;var N=g.alternate;if(N===null){if(p=g.return,p!==null){d=p;continue}break}if(g.child===N.child){for(N=g.child;N;){if(N===d)return f(g),i;if(N===p)return f(g),o;N=N.sibling}throw Error(r(188))}if(d.return!==p.return)d=g,p=N;else{for(var k=!1,I=g.child;I;){if(I===d){k=!0,d=g,p=N;break}if(I===p){k=!0,p=g,d=N;break}I=I.sibling}if(!k){for(I=N.child;I;){if(I===d){k=!0,d=N,p=g;break}if(I===p){k=!0,p=N,d=g;break}I=I.sibling}if(!k)throw Error(r(189))}}if(d.alternate!==p)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?i:o}function h(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=h(i),o!==null)return o;i=i.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),A=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function D(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var W=Symbol.for("react.client.reference");function X(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===W?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case C:return"Profiler";case y:return"StrictMode";case E:return"Suspense";case T:return"SuspenseList";case L:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case A:return i.displayName||"Context";case M:return(i._context.displayName||"Context")+".Consumer";case _:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return o=i.displayName||null,o!==null?o:X(i.type)||"Memo";case O:o=i._payload,i=i._init;try{return X(i(o))}catch{}}return null}var Z=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},te=[],ve=-1;function F(i){return{current:i}}function ae(i){0>ve||(i.current=te[ve],te[ve]=null,ve--)}function he(i,o){ve++,te[ve]=i.current,i.current=o}var ye=F(null),je=F(null),Ie=F(null),me=F(null);function ge(i,o){switch(he(Ie,o),he(je,i),he(ye,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?A2(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=A2(o),i=M2(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ae(ye),he(ye,i)}function K(){ae(ye),ae(je),ae(Ie)}function Ne(i){i.memoizedState!==null&&he(me,i);var o=ye.current,d=M2(o,i.type);o!==d&&(he(je,i),he(ye,d))}function qe(i){je.current===i&&(ae(ye),ae(je)),me.current===i&&(ae(me),Cu._currentValue=z)}var be,Ze;function Ue(i){if(be===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);be=o&&o[1]||"",Ze=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+be+i+Ze}var jt=!1;function vt(i,o){if(!i||jt)return"";jt=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(se){var re=se}Reflect.construct(i,[],pe)}else{try{pe.call()}catch(se){re=se}i.call(pe.prototype)}}else{try{throw Error()}catch(se){re=se}(pe=i())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(se){if(se&&re&&typeof se.stack=="string")return[se.stack,re.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=p.DetermineComponentFrameRoot(),k=N[0],I=N[1];if(k&&I){var q=k.split(`
`),ee=I.split(`
`);for(g=p=0;p<q.length&&!q[p].includes("DetermineComponentFrameRoot");)p++;for(;g<ee.length&&!ee[g].includes("DetermineComponentFrameRoot");)g++;if(p===q.length||g===ee.length)for(p=q.length-1,g=ee.length-1;1<=p&&0<=g&&q[p]!==ee[g];)g--;for(;1<=p&&0<=g;p--,g--)if(q[p]!==ee[g]){if(p!==1||g!==1)do if(p--,g--,0>g||q[p]!==ee[g]){var de=`
`+q[p].replace(" at new "," at ");return i.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",i.displayName)),de}while(1<=p&&0<=g);break}}}finally{jt=!1,Error.prepareStackTrace=d}return(d=i?i.displayName||i.name:"")?Ue(d):""}function ut(i,o){switch(i.tag){case 26:case 27:case 5:return Ue(i.type);case 16:return Ue("Lazy");case 13:return i.child!==o&&o!==null?Ue("Suspense Fallback"):Ue("Suspense");case 19:return Ue("SuspenseList");case 0:case 15:return vt(i.type,!1);case 11:return vt(i.type.render,!1);case 1:return vt(i.type,!0);case 31:return Ue("Activity");default:return""}}function Nt(i){try{var o="",d=null;do o+=ut(i,d),d=i,i=i.return;while(i);return o}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Pe=Object.prototype.hasOwnProperty,Ye=e.unstable_scheduleCallback,at=e.unstable_cancelCallback,Bt=e.unstable_shouldYield,Ut=e.unstable_requestPaint,St=e.unstable_now,Hn=e.unstable_getCurrentPriorityLevel,is=e.unstable_ImmediatePriority,ue=e.unstable_UserBlockingPriority,xe=e.unstable_NormalPriority,Fe=e.unstable_LowPriority,$t=e.unstable_IdlePriority,Y=e.log,ce=e.unstable_setDisableYieldValue,Ce=null,De=null;function ze(i){if(typeof Y=="function"&&ce(i),De&&typeof De.setStrictMode=="function")try{De.setStrictMode(Ce,i)}catch{}}var ie=Math.clz32?Math.clz32:Mt,Tt=Math.log,He=Math.LN2;function Mt(i){return i>>>=0,i===0?32:31-(Tt(i)/He|0)|0}var Xt=256,Be=262144,Yt=4194304;function Xe(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Se(i,o,d){var p=i.pendingLanes;if(p===0)return 0;var g=0,N=i.suspendedLanes,k=i.pingedLanes;i=i.warmLanes;var I=p&134217727;return I!==0?(p=I&~N,p!==0?g=Xe(p):(k&=I,k!==0?g=Xe(k):d||(d=I&~i,d!==0&&(g=Xe(d))))):(I=p&~N,I!==0?g=Xe(I):k!==0?g=Xe(k):d||(d=p&~i,d!==0&&(g=Xe(d)))),g===0?0:o!==0&&o!==g&&(o&N)===0&&(N=g&-g,d=o&-o,N>=d||N===32&&(d&4194048)!==0)?o:g}function We(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function et(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pt(){var i=Yt;return Yt<<=1,(Yt&62914560)===0&&(Yt=4194304),i}function zr(i){for(var o=[],d=0;31>d;d++)o.push(i);return o}function gr(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ae(i,o,d,p,g,N){var k=i.pendingLanes;i.pendingLanes=d,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=d,i.entangledLanes&=d,i.errorRecoveryDisabledLanes&=d,i.shellSuspendCounter=0;var I=i.entanglements,q=i.expirationTimes,ee=i.hiddenUpdates;for(d=k&~d;0<d;){var de=31-ie(d),pe=1<<de;I[de]=0,q[de]=-1;var re=ee[de];if(re!==null)for(ee[de]=null,de=0;de<re.length;de++){var se=re[de];se!==null&&(se.lane&=-536870913)}d&=~pe}p!==0&&_r(i,p,0),N!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=N&~(k&~o))}function _r(i,o,d){i.pendingLanes|=o,i.suspendedLanes&=~o;var p=31-ie(o);i.entangledLanes|=o,i.entanglements[p]=i.entanglements[p]|1073741824|d&261930}function fi(i,o){var d=i.entangledLanes|=o;for(i=i.entanglements;d;){var p=31-ie(d),g=1<<p;g&o|i[p]&o&&(i[p]|=o),d&=~g}}function Ea(i,o){var d=o&-o;return d=(d&42)!==0?1:_a(d),(d&(i.suspendedLanes|o))!==0?0:d}function _a(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Oa(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function il(){var i=G.p;return i!==0?i:(i=window.event,i===void 0?32:Q2(i.type))}function ss(i,o){var d=G.p;try{return G.p=i,o()}finally{G.p=d}}var Nn=Math.random().toString(36).slice(2),Cr="__reactFiber$"+Nn,Gr="__reactProps$"+Nn,ls="__reactContainer$"+Nn,Fc="__reactEvents$"+Nn,Sv="__reactListeners$"+Nn,Cv="__reactHandles$"+Nn,Xd="__reactResources$"+Nn,sl="__reactMarker$"+Nn;function Bc(i){delete i[Cr],delete i[Gr],delete i[Fc],delete i[Sv],delete i[Cv]}function os(i){var o=i[Cr];if(o)return o;for(var d=i.parentNode;d;){if(o=d[ls]||d[Cr]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(i=P2(i);i!==null;){if(d=i[Cr])return d;i=P2(i)}return o}i=d,d=i.parentNode}return null}function cs(i){if(i=i[Cr]||i[ls]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function H(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function we(i){var o=i[Xd];return o||(o=i[Xd]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function xt(i){i[sl]=!0}var sn=new Set,Ta={};function Zr(i,o){ln(i,o),ln(i+"Capture",o)}function ln(i,o){for(Ta[i]=o,i=0;i<o.length;i++)sn.add(o[i])}var ao=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$c={},Sn={};function Pa(i){return Pe.call(Sn,i)?!0:Pe.call($c,i)?!1:ao.test(i)?Sn[i]=!0:($c[i]=!0,!1)}function Zd(i,o,d){if(Pa(o))if(d===null)i.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+d)}}function Jd(i,o,d){if(d===null)i.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+d)}}function mi(i,o,d,p){if(p===null)i.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(d);return}i.setAttributeNS(o,d,""+p)}}function Un(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function gj(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function NI(i,o,d){var p=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var g=p.get,N=p.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return g.call(this)},set:function(k){d=""+k,N.call(this,k)}}),Object.defineProperty(i,o,{enumerable:p.enumerable}),{getValue:function(){return d},setValue:function(k){d=""+k},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Av(i){if(!i._valueTracker){var o=gj(i)?"checked":"value";i._valueTracker=NI(i,o,""+i[o])}}function bj(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var d=o.getValue(),p="";return i&&(p=gj(i)?i.checked?"true":"false":i.value),i=p,i!==d?(o.setValue(i),!0):!1}function ef(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var SI=/[\n"\\]/g;function Yn(i){return i.replace(SI,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Mv(i,o,d,p,g,N,k,I){i.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?i.type=k:i.removeAttribute("type"),o!=null?k==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Un(o)):i.value!==""+Un(o)&&(i.value=""+Un(o)):k!=="submit"&&k!=="reset"||i.removeAttribute("value"),o!=null?kv(i,k,Un(o)):d!=null?kv(i,k,Un(d)):p!=null&&i.removeAttribute("value"),g==null&&N!=null&&(i.defaultChecked=!!N),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.name=""+Un(I):i.removeAttribute("name")}function yj(i,o,d,p,g,N,k,I){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(i.type=N),o!=null||d!=null){if(!(N!=="submit"&&N!=="reset"||o!=null)){Av(i);return}d=d!=null?""+Un(d):"",o=o!=null?""+Un(o):d,I||o===i.value||(i.value=o),i.defaultValue=o}p=p??g,p=typeof p!="function"&&typeof p!="symbol"&&!!p,i.checked=I?i.checked:!!p,i.defaultChecked=!!p,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(i.name=k),Av(i)}function kv(i,o,d){o==="number"&&ef(i.ownerDocument)===i||i.defaultValue===""+d||(i.defaultValue=""+d)}function io(i,o,d,p){if(i=i.options,o){o={};for(var g=0;g<d.length;g++)o["$"+d[g]]=!0;for(d=0;d<i.length;d++)g=o.hasOwnProperty("$"+i[d].value),i[d].selected!==g&&(i[d].selected=g),g&&p&&(i[d].defaultSelected=!0)}else{for(d=""+Un(d),o=null,g=0;g<i.length;g++){if(i[g].value===d){i[g].selected=!0,p&&(i[g].defaultSelected=!0);return}o!==null||i[g].disabled||(o=i[g])}o!==null&&(o.selected=!0)}}function wj(i,o,d){if(o!=null&&(o=""+Un(o),o!==i.value&&(i.value=o),d==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=d!=null?""+Un(d):""}function jj(i,o,d,p){if(o==null){if(p!=null){if(d!=null)throw Error(r(92));if(Z(p)){if(1<p.length)throw Error(r(93));p=p[0]}d=p}d==null&&(d=""),o=d}d=Un(o),i.defaultValue=d,p=i.textContent,p===d&&p!==""&&p!==null&&(i.value=p),Av(i)}function so(i,o){if(o){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=o;return}}i.textContent=o}var CI=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nj(i,o,d){var p=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":p?i.setProperty(o,d):typeof d!="number"||d===0||CI.has(o)?o==="float"?i.cssFloat=d:i[o]=(""+d).trim():i[o]=d+"px"}function Sj(i,o,d){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?i.setProperty(p,""):p==="float"?i.cssFloat="":i[p]="");for(var g in o)p=o[g],o.hasOwnProperty(g)&&d[g]!==p&&Nj(i,g,p)}else for(var N in o)o.hasOwnProperty(N)&&Nj(i,N,o[N])}function Dv(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var AI=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),MI=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tf(i){return MI.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function pi(){}var Ev=null;function _v(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var lo=null,oo=null;function Cj(i){var o=cs(i);if(o&&(i=o.stateNode)){var d=i[Gr]||null;e:switch(i=o.stateNode,o.type){case"input":if(Mv(i,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Yn(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var p=d[o];if(p!==i&&p.form===i.form){var g=p[Gr]||null;if(!g)throw Error(r(90));Mv(p,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(o=0;o<d.length;o++)p=d[o],p.form===i.form&&bj(p)}break e;case"textarea":wj(i,d.value,d.defaultValue);break e;case"select":o=d.value,o!=null&&io(i,!!d.multiple,o,!1)}}}var Ov=!1;function Aj(i,o,d){if(Ov)return i(o,d);Ov=!0;try{var p=i(o);return p}finally{if(Ov=!1,(lo!==null||oo!==null)&&(Hf(),lo&&(o=lo,i=oo,oo=lo=null,Cj(o),i)))for(o=0;o<i.length;o++)Cj(i[o])}}function qc(i,o){var d=i.stateNode;if(d===null)return null;var p=d[Gr]||null;if(p===null)return null;d=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(r(231,o,typeof d));return d}var hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tv=!1;if(hi)try{var Hc={};Object.defineProperty(Hc,"passive",{get:function(){Tv=!0}}),window.addEventListener("test",Hc,Hc),window.removeEventListener("test",Hc,Hc)}catch{Tv=!1}var us=null,Pv=null,rf=null;function Mj(){if(rf)return rf;var i,o=Pv,d=o.length,p,g="value"in us?us.value:us.textContent,N=g.length;for(i=0;i<d&&o[i]===g[i];i++);var k=d-i;for(p=1;p<=k&&o[d-p]===g[N-p];p++);return rf=g.slice(i,1<p?1-p:void 0)}function nf(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function af(){return!0}function kj(){return!1}function on(i){function o(d,p,g,N,k){this._reactName=d,this._targetInst=g,this.type=p,this.nativeEvent=N,this.target=k,this.currentTarget=null;for(var I in i)i.hasOwnProperty(I)&&(d=i[I],this[I]=d?d(N):N[I]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?af:kj,this.isPropagationStopped=kj,this}return v(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=af)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=af)},persist:function(){},isPersistent:af}),o}var ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sf=on(ll),Uc=v({},ll,{view:0,detail:0}),kI=on(Uc),Iv,Rv,Yc,lf=v({},Uc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zv,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Yc&&(Yc&&i.type==="mousemove"?(Iv=i.screenX-Yc.screenX,Rv=i.screenY-Yc.screenY):Rv=Iv=0,Yc=i),Iv)},movementY:function(i){return"movementY"in i?i.movementY:Rv}}),Dj=on(lf),DI=v({},lf,{dataTransfer:0}),EI=on(DI),_I=v({},Uc,{relatedTarget:0}),Lv=on(_I),OI=v({},ll,{animationName:0,elapsedTime:0,pseudoElement:0}),TI=on(OI),PI=v({},ll,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),II=on(PI),RI=v({},ll,{data:0}),Ej=on(RI),LI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BI(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=FI[i])?!!o[i]:!1}function zv(){return BI}var $I=v({},Uc,{key:function(i){if(i.key){var o=LI[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=nf(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?zI[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zv,charCode:function(i){return i.type==="keypress"?nf(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?nf(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),qI=on($I),HI=v({},lf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_j=on(HI),UI=v({},Uc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zv}),YI=on(UI),VI=v({},ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),GI=on(VI),KI=v({},lf,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),WI=on(KI),QI=v({},ll,{newState:0,oldState:0}),XI=on(QI),ZI=[9,13,27,32],Fv=hi&&"CompositionEvent"in window,Vc=null;hi&&"documentMode"in document&&(Vc=document.documentMode);var JI=hi&&"TextEvent"in window&&!Vc,Oj=hi&&(!Fv||Vc&&8<Vc&&11>=Vc),Tj=" ",Pj=!1;function Ij(i,o){switch(i){case"keyup":return ZI.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rj(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var co=!1;function eR(i,o){switch(i){case"compositionend":return Rj(o);case"keypress":return o.which!==32?null:(Pj=!0,Tj);case"textInput":return i=o.data,i===Tj&&Pj?null:i;default:return null}}function tR(i,o){if(co)return i==="compositionend"||!Fv&&Ij(i,o)?(i=Mj(),rf=Pv=us=null,co=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Oj&&o.locale!=="ko"?null:o.data;default:return null}}var rR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lj(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!rR[i.type]:o==="textarea"}function zj(i,o,d,p){lo?oo?oo.push(p):oo=[p]:lo=p,o=Qf(o,"onChange"),0<o.length&&(d=new sf("onChange","change",null,d,p),i.push({event:d,listeners:o}))}var Gc=null,Kc=null;function nR(i){y2(i,0)}function of(i){var o=H(i);if(bj(o))return i}function Fj(i,o){if(i==="change")return o}var Bj=!1;if(hi){var Bv;if(hi){var $v="oninput"in document;if(!$v){var $j=document.createElement("div");$j.setAttribute("oninput","return;"),$v=typeof $j.oninput=="function"}Bv=$v}else Bv=!1;Bj=Bv&&(!document.documentMode||9<document.documentMode)}function qj(){Gc&&(Gc.detachEvent("onpropertychange",Hj),Kc=Gc=null)}function Hj(i){if(i.propertyName==="value"&&of(Kc)){var o=[];zj(o,Kc,i,_v(i)),Aj(nR,o)}}function aR(i,o,d){i==="focusin"?(qj(),Gc=o,Kc=d,Gc.attachEvent("onpropertychange",Hj)):i==="focusout"&&qj()}function iR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return of(Kc)}function sR(i,o){if(i==="click")return of(o)}function lR(i,o){if(i==="input"||i==="change")return of(o)}function oR(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Cn=typeof Object.is=="function"?Object.is:oR;function Wc(i,o){if(Cn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var d=Object.keys(i),p=Object.keys(o);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var g=d[p];if(!Pe.call(o,g)||!Cn(i[g],o[g]))return!1}return!0}function Uj(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Yj(i,o){var d=Uj(i);i=0;for(var p;d;){if(d.nodeType===3){if(p=i+d.textContent.length,i<=o&&p>=o)return{node:d,offset:o-i};i=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Uj(d)}}function Vj(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Vj(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Gj(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=ef(i.document);o instanceof i.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)i=o.contentWindow;else break;o=ef(i.document)}return o}function qv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var cR=hi&&"documentMode"in document&&11>=document.documentMode,uo=null,Hv=null,Qc=null,Uv=!1;function Kj(i,o,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Uv||uo==null||uo!==ef(p)||(p=uo,"selectionStart"in p&&qv(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Qc&&Wc(Qc,p)||(Qc=p,p=Qf(Hv,"onSelect"),0<p.length&&(o=new sf("onSelect","select",null,o,d),i.push({event:o,listeners:p}),o.target=uo)))}function ol(i,o){var d={};return d[i.toLowerCase()]=o.toLowerCase(),d["Webkit"+i]="webkit"+o,d["Moz"+i]="moz"+o,d}var fo={animationend:ol("Animation","AnimationEnd"),animationiteration:ol("Animation","AnimationIteration"),animationstart:ol("Animation","AnimationStart"),transitionrun:ol("Transition","TransitionRun"),transitionstart:ol("Transition","TransitionStart"),transitioncancel:ol("Transition","TransitionCancel"),transitionend:ol("Transition","TransitionEnd")},Yv={},Wj={};hi&&(Wj=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function cl(i){if(Yv[i])return Yv[i];if(!fo[i])return i;var o=fo[i],d;for(d in o)if(o.hasOwnProperty(d)&&d in Wj)return Yv[i]=o[d];return i}var Qj=cl("animationend"),Xj=cl("animationiteration"),Zj=cl("animationstart"),uR=cl("transitionrun"),dR=cl("transitionstart"),fR=cl("transitioncancel"),Jj=cl("transitionend"),eN=new Map,Vv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vv.push("scrollEnd");function da(i,o){eN.set(i,o),Zr(o,[i])}var cf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Vn=[],mo=0,Gv=0;function uf(){for(var i=mo,o=Gv=mo=0;o<i;){var d=Vn[o];Vn[o++]=null;var p=Vn[o];Vn[o++]=null;var g=Vn[o];Vn[o++]=null;var N=Vn[o];if(Vn[o++]=null,p!==null&&g!==null){var k=p.pending;k===null?g.next=g:(g.next=k.next,k.next=g),p.pending=g}N!==0&&tN(d,g,N)}}function df(i,o,d,p){Vn[mo++]=i,Vn[mo++]=o,Vn[mo++]=d,Vn[mo++]=p,Gv|=p,i.lanes|=p,i=i.alternate,i!==null&&(i.lanes|=p)}function Kv(i,o,d,p){return df(i,o,d,p),ff(i)}function ul(i,o){return df(i,null,null,o),ff(i)}function tN(i,o,d){i.lanes|=d;var p=i.alternate;p!==null&&(p.lanes|=d);for(var g=!1,N=i.return;N!==null;)N.childLanes|=d,p=N.alternate,p!==null&&(p.childLanes|=d),N.tag===22&&(i=N.stateNode,i===null||i._visibility&1||(g=!0)),i=N,N=N.return;return i.tag===3?(N=i.stateNode,g&&o!==null&&(g=31-ie(d),i=N.hiddenUpdates,p=i[g],p===null?i[g]=[o]:p.push(o),o.lane=d|536870912),N):null}function ff(i){if(50<gu)throw gu=0,n0=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var po={};function mR(i,o,d,p){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(i,o,d,p){return new mR(i,o,d,p)}function Wv(i){return i=i.prototype,!(!i||!i.isReactComponent)}function vi(i,o){var d=i.alternate;return d===null?(d=An(i.tag,o,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=o,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&65011712,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,o=i.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d.refCleanup=i.refCleanup,d}function rN(i,o){i.flags&=65011714;var d=i.alternate;return d===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=d.childLanes,i.lanes=d.lanes,i.child=d.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=d.memoizedProps,i.memoizedState=d.memoizedState,i.updateQueue=d.updateQueue,i.type=d.type,o=d.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function mf(i,o,d,p,g,N){var k=0;if(p=i,typeof i=="function")Wv(i)&&(k=1);else if(typeof i=="string")k=gL(i,d,ye.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case L:return i=An(31,d,o,g),i.elementType=L,i.lanes=N,i;case w:return dl(d.children,g,N,o);case y:k=8,g|=24;break;case C:return i=An(12,d,o,g|2),i.elementType=C,i.lanes=N,i;case E:return i=An(13,d,o,g),i.elementType=E,i.lanes=N,i;case T:return i=An(19,d,o,g),i.elementType=T,i.lanes=N,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:k=10;break e;case M:k=9;break e;case _:k=11;break e;case P:k=14;break e;case O:k=16,p=null;break e}k=29,d=Error(r(130,i===null?"null":typeof i,"")),p=null}return o=An(k,d,o,g),o.elementType=i,o.type=p,o.lanes=N,o}function dl(i,o,d,p){return i=An(7,i,p,o),i.lanes=d,i}function Qv(i,o,d){return i=An(6,i,null,o),i.lanes=d,i}function nN(i){var o=An(18,null,null,0);return o.stateNode=i,o}function Xv(i,o,d){return o=An(4,i.children!==null?i.children:[],i.key,o),o.lanes=d,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var aN=new WeakMap;function Gn(i,o){if(typeof i=="object"&&i!==null){var d=aN.get(i);return d!==void 0?d:(o={value:i,source:o,stack:Nt(o)},aN.set(i,o),o)}return{value:i,source:o,stack:Nt(o)}}var ho=[],vo=0,pf=null,Xc=0,Kn=[],Wn=0,ds=null,Ia=1,Ra="";function xi(i,o){ho[vo++]=Xc,ho[vo++]=pf,pf=i,Xc=o}function iN(i,o,d){Kn[Wn++]=Ia,Kn[Wn++]=Ra,Kn[Wn++]=ds,ds=i;var p=Ia;i=Ra;var g=32-ie(p)-1;p&=~(1<<g),d+=1;var N=32-ie(o)+g;if(30<N){var k=g-g%5;N=(p&(1<<k)-1).toString(32),p>>=k,g-=k,Ia=1<<32-ie(o)+g|d<<g|p,Ra=N+i}else Ia=1<<N|d<<g|p,Ra=i}function Zv(i){i.return!==null&&(xi(i,1),iN(i,1,0))}function Jv(i){for(;i===pf;)pf=ho[--vo],ho[vo]=null,Xc=ho[--vo],ho[vo]=null;for(;i===ds;)ds=Kn[--Wn],Kn[Wn]=null,Ra=Kn[--Wn],Kn[Wn]=null,Ia=Kn[--Wn],Kn[Wn]=null}function sN(i,o){Kn[Wn++]=Ia,Kn[Wn++]=Ra,Kn[Wn++]=ds,Ia=o.id,Ra=o.overflow,ds=i}var Fr=null,Gt=null,ht=!1,fs=null,Qn=!1,ex=Error(r(519));function ms(i){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zc(Gn(o,i)),ex}function lN(i){var o=i.stateNode,d=i.type,p=i.memoizedProps;switch(o[Cr]=i,o[Gr]=p,d){case"dialog":ot("cancel",o),ot("close",o);break;case"iframe":case"object":case"embed":ot("load",o);break;case"video":case"audio":for(d=0;d<yu.length;d++)ot(yu[d],o);break;case"source":ot("error",o);break;case"img":case"image":case"link":ot("error",o),ot("load",o);break;case"details":ot("toggle",o);break;case"input":ot("invalid",o),yj(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":ot("invalid",o);break;case"textarea":ot("invalid",o),jj(o,p.value,p.defaultValue,p.children)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||p.suppressHydrationWarning===!0||S2(o.textContent,d)?(p.popover!=null&&(ot("beforetoggle",o),ot("toggle",o)),p.onScroll!=null&&ot("scroll",o),p.onScrollEnd!=null&&ot("scrollend",o),p.onClick!=null&&(o.onclick=pi),o=!0):o=!1,o||ms(i,!0)}function oN(i){for(Fr=i.return;Fr;)switch(Fr.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Fr=Fr.return}}function xo(i){if(i!==Fr)return!1;if(!ht)return oN(i),ht=!0,!1;var o=i.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=i.type,d=!(d!=="form"&&d!=="button")||g0(i.type,i.memoizedProps)),d=!d),d&&Gt&&ms(i),oN(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Gt=T2(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Gt=T2(i)}else o===27?(o=Gt,Ms(i.type)?(i=N0,N0=null,Gt=i):Gt=o):Gt=Fr?Zn(i.stateNode.nextSibling):null;return!0}function fl(){Gt=Fr=null,ht=!1}function tx(){var i=fs;return i!==null&&(fn===null?fn=i:fn.push.apply(fn,i),fs=null),i}function Zc(i){fs===null?fs=[i]:fs.push(i)}var rx=F(null),ml=null,gi=null;function ps(i,o,d){he(rx,o._currentValue),o._currentValue=d}function bi(i){i._currentValue=rx.current,ae(rx)}function nx(i,o,d){for(;i!==null;){var p=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),i===d)break;i=i.return}}function ax(i,o,d,p){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var N=g.dependencies;if(N!==null){var k=g.child;N=N.firstContext;e:for(;N!==null;){var I=N;N=g;for(var q=0;q<o.length;q++)if(I.context===o[q]){N.lanes|=d,I=N.alternate,I!==null&&(I.lanes|=d),nx(N.return,d,i),p||(k=null);break e}N=I.next}}else if(g.tag===18){if(k=g.return,k===null)throw Error(r(341));k.lanes|=d,N=k.alternate,N!==null&&(N.lanes|=d),nx(k,d,i),k=null}else k=g.child;if(k!==null)k.return=g;else for(k=g;k!==null;){if(k===i){k=null;break}if(g=k.sibling,g!==null){g.return=k.return,k=g;break}k=k.return}g=k}}function go(i,o,d,p){i=null;for(var g=o,N=!1;g!==null;){if(!N){if((g.flags&524288)!==0)N=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var k=g.alternate;if(k===null)throw Error(r(387));if(k=k.memoizedProps,k!==null){var I=g.type;Cn(g.pendingProps.value,k.value)||(i!==null?i.push(I):i=[I])}}else if(g===me.current){if(k=g.alternate,k===null)throw Error(r(387));k.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Cu):i=[Cu])}g=g.return}i!==null&&ax(o,i,d,p),o.flags|=262144}function hf(i){for(i=i.firstContext;i!==null;){if(!Cn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function pl(i){ml=i,gi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Br(i){return cN(ml,i)}function vf(i,o){return ml===null&&pl(i),cN(i,o)}function cN(i,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},gi===null){if(i===null)throw Error(r(308));gi=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else gi=gi.next=o;return d}var pR=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(d,p){i.push(p)}};this.abort=function(){o.aborted=!0,i.forEach(function(d){return d()})}},hR=e.unstable_scheduleCallback,vR=e.unstable_NormalPriority,br={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ix(){return{controller:new pR,data:new Map,refCount:0}}function Jc(i){i.refCount--,i.refCount===0&&hR(vR,function(){i.controller.abort()})}var eu=null,sx=0,bo=0,yo=null;function xR(i,o){if(eu===null){var d=eu=[];sx=0,bo=c0(),yo={status:"pending",value:void 0,then:function(p){d.push(p)}}}return sx++,o.then(uN,uN),o}function uN(){if(--sx===0&&eu!==null){yo!==null&&(yo.status="fulfilled");var i=eu;eu=null,bo=0,yo=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function gR(i,o){var d=[],p={status:"pending",value:null,reason:null,then:function(g){d.push(g)}};return i.then(function(){p.status="fulfilled",p.value=o;for(var g=0;g<d.length;g++)(0,d[g])(o)},function(g){for(p.status="rejected",p.reason=g,g=0;g<d.length;g++)(0,d[g])(void 0)}),p}var dN=$.S;$.S=function(i,o){KS=St(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&xR(i,o),dN!==null&&dN(i,o)};var hl=F(null);function lx(){var i=hl.current;return i!==null?i:qt.pooledCache}function xf(i,o){o===null?he(hl,hl.current):he(hl,o.pool)}function fN(){var i=lx();return i===null?null:{parent:br._currentValue,pool:i}}var wo=Error(r(460)),ox=Error(r(474)),gf=Error(r(542)),bf={then:function(){}};function mN(i){return i=i.status,i==="fulfilled"||i==="rejected"}function pN(i,o,d){switch(d=i[d],d===void 0?i.push(o):d!==o&&(o.then(pi,pi),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,vN(i),i;default:if(typeof o.status=="string")o.then(pi,pi);else{if(i=qt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(p){if(o.status==="pending"){var g=o;g.status="fulfilled",g.value=p}},function(p){if(o.status==="pending"){var g=o;g.status="rejected",g.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,vN(i),i}throw xl=o,wo}}function vl(i){try{var o=i._init;return o(i._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(xl=d,wo):d}}var xl=null;function hN(){if(xl===null)throw Error(r(459));var i=xl;return xl=null,i}function vN(i){if(i===wo||i===gf)throw Error(r(483))}var jo=null,tu=0;function yf(i){var o=tu;return tu+=1,jo===null&&(jo=[]),pN(jo,i,o)}function ru(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function wf(i,o){throw o.$$typeof===x?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function xN(i){function o(V,U){if(i){var J=V.deletions;J===null?(V.deletions=[U],V.flags|=16):J.push(U)}}function d(V,U){if(!i)return null;for(;U!==null;)o(V,U),U=U.sibling;return null}function p(V){for(var U=new Map;V!==null;)V.key!==null?U.set(V.key,V):U.set(V.index,V),V=V.sibling;return U}function g(V,U){return V=vi(V,U),V.index=0,V.sibling=null,V}function N(V,U,J){return V.index=J,i?(J=V.alternate,J!==null?(J=J.index,J<U?(V.flags|=67108866,U):J):(V.flags|=67108866,U)):(V.flags|=1048576,U)}function k(V){return i&&V.alternate===null&&(V.flags|=67108866),V}function I(V,U,J,fe){return U===null||U.tag!==6?(U=Qv(J,V.mode,fe),U.return=V,U):(U=g(U,J),U.return=V,U)}function q(V,U,J,fe){var $e=J.type;return $e===w?de(V,U,J.props.children,fe,J.key):U!==null&&(U.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===O&&vl($e)===U.type)?(U=g(U,J.props),ru(U,J),U.return=V,U):(U=mf(J.type,J.key,J.props,null,V.mode,fe),ru(U,J),U.return=V,U)}function ee(V,U,J,fe){return U===null||U.tag!==4||U.stateNode.containerInfo!==J.containerInfo||U.stateNode.implementation!==J.implementation?(U=Xv(J,V.mode,fe),U.return=V,U):(U=g(U,J.children||[]),U.return=V,U)}function de(V,U,J,fe,$e){return U===null||U.tag!==7?(U=dl(J,V.mode,fe,$e),U.return=V,U):(U=g(U,J),U.return=V,U)}function pe(V,U,J){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Qv(""+U,V.mode,J),U.return=V,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case b:return J=mf(U.type,U.key,U.props,null,V.mode,J),ru(J,U),J.return=V,J;case S:return U=Xv(U,V.mode,J),U.return=V,U;case O:return U=vl(U),pe(V,U,J)}if(Z(U)||D(U))return U=dl(U,V.mode,J,null),U.return=V,U;if(typeof U.then=="function")return pe(V,yf(U),J);if(U.$$typeof===A)return pe(V,vf(V,U),J);wf(V,U)}return null}function re(V,U,J,fe){var $e=U!==null?U.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return $e!==null?null:I(V,U,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return J.key===$e?q(V,U,J,fe):null;case S:return J.key===$e?ee(V,U,J,fe):null;case O:return J=vl(J),re(V,U,J,fe)}if(Z(J)||D(J))return $e!==null?null:de(V,U,J,fe,null);if(typeof J.then=="function")return re(V,U,yf(J),fe);if(J.$$typeof===A)return re(V,U,vf(V,J),fe);wf(V,J)}return null}function se(V,U,J,fe,$e){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return V=V.get(J)||null,I(U,V,""+fe,$e);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case b:return V=V.get(fe.key===null?J:fe.key)||null,q(U,V,fe,$e);case S:return V=V.get(fe.key===null?J:fe.key)||null,ee(U,V,fe,$e);case O:return fe=vl(fe),se(V,U,J,fe,$e)}if(Z(fe)||D(fe))return V=V.get(J)||null,de(U,V,fe,$e,null);if(typeof fe.then=="function")return se(V,U,J,yf(fe),$e);if(fe.$$typeof===A)return se(V,U,J,vf(U,fe),$e);wf(U,fe)}return null}function Te(V,U,J,fe){for(var $e=null,bt=null,Re=U,rt=U=0,ft=null;Re!==null&&rt<J.length;rt++){Re.index>rt?(ft=Re,Re=null):ft=Re.sibling;var yt=re(V,Re,J[rt],fe);if(yt===null){Re===null&&(Re=ft);break}i&&Re&&yt.alternate===null&&o(V,Re),U=N(yt,U,rt),bt===null?$e=yt:bt.sibling=yt,bt=yt,Re=ft}if(rt===J.length)return d(V,Re),ht&&xi(V,rt),$e;if(Re===null){for(;rt<J.length;rt++)Re=pe(V,J[rt],fe),Re!==null&&(U=N(Re,U,rt),bt===null?$e=Re:bt.sibling=Re,bt=Re);return ht&&xi(V,rt),$e}for(Re=p(Re);rt<J.length;rt++)ft=se(Re,V,rt,J[rt],fe),ft!==null&&(i&&ft.alternate!==null&&Re.delete(ft.key===null?rt:ft.key),U=N(ft,U,rt),bt===null?$e=ft:bt.sibling=ft,bt=ft);return i&&Re.forEach(function(Os){return o(V,Os)}),ht&&xi(V,rt),$e}function Ve(V,U,J,fe){if(J==null)throw Error(r(151));for(var $e=null,bt=null,Re=U,rt=U=0,ft=null,yt=J.next();Re!==null&&!yt.done;rt++,yt=J.next()){Re.index>rt?(ft=Re,Re=null):ft=Re.sibling;var Os=re(V,Re,yt.value,fe);if(Os===null){Re===null&&(Re=ft);break}i&&Re&&Os.alternate===null&&o(V,Re),U=N(Os,U,rt),bt===null?$e=Os:bt.sibling=Os,bt=Os,Re=ft}if(yt.done)return d(V,Re),ht&&xi(V,rt),$e;if(Re===null){for(;!yt.done;rt++,yt=J.next())yt=pe(V,yt.value,fe),yt!==null&&(U=N(yt,U,rt),bt===null?$e=yt:bt.sibling=yt,bt=yt);return ht&&xi(V,rt),$e}for(Re=p(Re);!yt.done;rt++,yt=J.next())yt=se(Re,V,rt,yt.value,fe),yt!==null&&(i&&yt.alternate!==null&&Re.delete(yt.key===null?rt:yt.key),U=N(yt,U,rt),bt===null?$e=yt:bt.sibling=yt,bt=yt);return i&&Re.forEach(function(DL){return o(V,DL)}),ht&&xi(V,rt),$e}function Lt(V,U,J,fe){if(typeof J=="object"&&J!==null&&J.type===w&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case b:e:{for(var $e=J.key;U!==null;){if(U.key===$e){if($e=J.type,$e===w){if(U.tag===7){d(V,U.sibling),fe=g(U,J.props.children),fe.return=V,V=fe;break e}}else if(U.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===O&&vl($e)===U.type){d(V,U.sibling),fe=g(U,J.props),ru(fe,J),fe.return=V,V=fe;break e}d(V,U);break}else o(V,U);U=U.sibling}J.type===w?(fe=dl(J.props.children,V.mode,fe,J.key),fe.return=V,V=fe):(fe=mf(J.type,J.key,J.props,null,V.mode,fe),ru(fe,J),fe.return=V,V=fe)}return k(V);case S:e:{for($e=J.key;U!==null;){if(U.key===$e)if(U.tag===4&&U.stateNode.containerInfo===J.containerInfo&&U.stateNode.implementation===J.implementation){d(V,U.sibling),fe=g(U,J.children||[]),fe.return=V,V=fe;break e}else{d(V,U);break}else o(V,U);U=U.sibling}fe=Xv(J,V.mode,fe),fe.return=V,V=fe}return k(V);case O:return J=vl(J),Lt(V,U,J,fe)}if(Z(J))return Te(V,U,J,fe);if(D(J)){if($e=D(J),typeof $e!="function")throw Error(r(150));return J=$e.call(J),Ve(V,U,J,fe)}if(typeof J.then=="function")return Lt(V,U,yf(J),fe);if(J.$$typeof===A)return Lt(V,U,vf(V,J),fe);wf(V,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,U!==null&&U.tag===6?(d(V,U.sibling),fe=g(U,J),fe.return=V,V=fe):(d(V,U),fe=Qv(J,V.mode,fe),fe.return=V,V=fe),k(V)):d(V,U)}return function(V,U,J,fe){try{tu=0;var $e=Lt(V,U,J,fe);return jo=null,$e}catch(Re){if(Re===wo||Re===gf)throw Re;var bt=An(29,Re,null,V.mode);return bt.lanes=fe,bt.return=V,bt}}}var gl=xN(!0),gN=xN(!1),hs=!1;function cx(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ux(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function vs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function xs(i,o,d){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(Ct&2)!==0){var g=p.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),p.pending=o,o=ff(i),tN(i,null,d),o}return df(i,p,o,d),ff(i)}function nu(i,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var p=o.lanes;p&=i.pendingLanes,d|=p,o.lanes=d,fi(i,d)}}function dx(i,o){var d=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var g=null,N=null;if(d=d.firstBaseUpdate,d!==null){do{var k={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};N===null?g=N=k:N=N.next=k,d=d.next}while(d!==null);N===null?g=N=o:N=N.next=o}else g=N=o;d={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:N,shared:p.shared,callbacks:p.callbacks},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=o:i.next=o,d.lastBaseUpdate=o}var fx=!1;function au(){if(fx){var i=yo;if(i!==null)throw i}}function iu(i,o,d,p){fx=!1;var g=i.updateQueue;hs=!1;var N=g.firstBaseUpdate,k=g.lastBaseUpdate,I=g.shared.pending;if(I!==null){g.shared.pending=null;var q=I,ee=q.next;q.next=null,k===null?N=ee:k.next=ee,k=q;var de=i.alternate;de!==null&&(de=de.updateQueue,I=de.lastBaseUpdate,I!==k&&(I===null?de.firstBaseUpdate=ee:I.next=ee,de.lastBaseUpdate=q))}if(N!==null){var pe=g.baseState;k=0,de=ee=q=null,I=N;do{var re=I.lane&-536870913,se=re!==I.lane;if(se?(dt&re)===re:(p&re)===re){re!==0&&re===bo&&(fx=!0),de!==null&&(de=de.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Te=i,Ve=I;re=o;var Lt=d;switch(Ve.tag){case 1:if(Te=Ve.payload,typeof Te=="function"){pe=Te.call(Lt,pe,re);break e}pe=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Ve.payload,re=typeof Te=="function"?Te.call(Lt,pe,re):Te,re==null)break e;pe=v({},pe,re);break e;case 2:hs=!0}}re=I.callback,re!==null&&(i.flags|=64,se&&(i.flags|=8192),se=g.callbacks,se===null?g.callbacks=[re]:se.push(re))}else se={lane:re,tag:I.tag,payload:I.payload,callback:I.callback,next:null},de===null?(ee=de=se,q=pe):de=de.next=se,k|=re;if(I=I.next,I===null){if(I=g.shared.pending,I===null)break;se=I,I=se.next,se.next=null,g.lastBaseUpdate=se,g.shared.pending=null}}while(!0);de===null&&(q=pe),g.baseState=q,g.firstBaseUpdate=ee,g.lastBaseUpdate=de,N===null&&(g.shared.lanes=0),js|=k,i.lanes=k,i.memoizedState=pe}}function bN(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function yN(i,o){var d=i.callbacks;if(d!==null)for(i.callbacks=null,i=0;i<d.length;i++)bN(d[i],o)}var No=F(null),jf=F(0);function wN(i,o){i=ki,he(jf,i),he(No,o),ki=i|o.baseLanes}function mx(){he(jf,ki),he(No,No.current)}function px(){ki=jf.current,ae(No),ae(jf)}var Mn=F(null),Xn=null;function gs(i){var o=i.alternate;he(mr,mr.current&1),he(Mn,i),Xn===null&&(o===null||No.current!==null||o.memoizedState!==null)&&(Xn=i)}function hx(i){he(mr,mr.current),he(Mn,i),Xn===null&&(Xn=i)}function jN(i){i.tag===22?(he(mr,mr.current),he(Mn,i),Xn===null&&(Xn=i)):bs()}function bs(){he(mr,mr.current),he(Mn,Mn.current)}function kn(i){ae(Mn),Xn===i&&(Xn=null),ae(mr)}var mr=F(0);function Nf(i){for(var o=i;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||w0(d)||j0(d)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var yi=0,tt=null,It=null,yr=null,Sf=!1,So=!1,bl=!1,Cf=0,su=0,Co=null,bR=0;function sr(){throw Error(r(321))}function vx(i,o){if(o===null)return!1;for(var d=0;d<o.length&&d<i.length;d++)if(!Cn(i[d],o[d]))return!1;return!0}function xx(i,o,d,p,g,N){return yi=N,tt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,$.H=i===null||i.memoizedState===null?iS:Ox,bl=!1,N=d(p,g),bl=!1,So&&(N=SN(o,d,p,g)),NN(i),N}function NN(i){$.H=cu;var o=It!==null&&It.next!==null;if(yi=0,yr=It=tt=null,Sf=!1,su=0,Co=null,o)throw Error(r(300));i===null||wr||(i=i.dependencies,i!==null&&hf(i)&&(wr=!0))}function SN(i,o,d,p){tt=i;var g=0;do{if(So&&(Co=null),su=0,So=!1,25<=g)throw Error(r(301));if(g+=1,yr=It=null,i.updateQueue!=null){var N=i.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}$.H=sS,N=o(d,p)}while(So);return N}function yR(){var i=$.H,o=i.useState()[0];return o=typeof o.then=="function"?lu(o):o,i=i.useState()[0],(It!==null?It.memoizedState:null)!==i&&(tt.flags|=1024),o}function gx(){var i=Cf!==0;return Cf=0,i}function bx(i,o,d){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~d}function yx(i){if(Sf){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Sf=!1}yi=0,yr=It=tt=null,So=!1,su=Cf=0,Co=null}function Jr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yr===null?tt.memoizedState=yr=i:yr=yr.next=i,yr}function pr(){if(It===null){var i=tt.alternate;i=i!==null?i.memoizedState:null}else i=It.next;var o=yr===null?tt.memoizedState:yr.next;if(o!==null)yr=o,It=i;else{if(i===null)throw tt.alternate===null?Error(r(467)):Error(r(310));It=i,i={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},yr===null?tt.memoizedState=yr=i:yr=yr.next=i}return yr}function Af(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lu(i){var o=su;return su+=1,Co===null&&(Co=[]),i=pN(Co,i,o),o=tt,(yr===null?o.memoizedState:yr.next)===null&&(o=o.alternate,$.H=o===null||o.memoizedState===null?iS:Ox),i}function Mf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return lu(i);if(i.$$typeof===A)return Br(i)}throw Error(r(438,String(i)))}function wx(i){var o=null,d=tt.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var p=tt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(g){return g.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=Af(),tt.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(i),p=0;p<i;p++)d[p]=R;return o.index++,d}function wi(i,o){return typeof o=="function"?o(i):o}function kf(i){var o=pr();return jx(o,It,i)}function jx(i,o,d){var p=i.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=d;var g=i.baseQueue,N=p.pending;if(N!==null){if(g!==null){var k=g.next;g.next=N.next,N.next=k}o.baseQueue=g=N,p.pending=null}if(N=i.baseState,g===null)i.memoizedState=N;else{o=g.next;var I=k=null,q=null,ee=o,de=!1;do{var pe=ee.lane&-536870913;if(pe!==ee.lane?(dt&pe)===pe:(yi&pe)===pe){var re=ee.revertLane;if(re===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),pe===bo&&(de=!0);else if((yi&re)===re){ee=ee.next,re===bo&&(de=!0);continue}else pe={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},q===null?(I=q=pe,k=N):q=q.next=pe,tt.lanes|=re,js|=re;pe=ee.action,bl&&d(N,pe),N=ee.hasEagerState?ee.eagerState:d(N,pe)}else re={lane:pe,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},q===null?(I=q=re,k=N):q=q.next=re,tt.lanes|=pe,js|=pe;ee=ee.next}while(ee!==null&&ee!==o);if(q===null?k=N:q.next=I,!Cn(N,i.memoizedState)&&(wr=!0,de&&(d=yo,d!==null)))throw d;i.memoizedState=N,i.baseState=k,i.baseQueue=q,p.lastRenderedState=N}return g===null&&(p.lanes=0),[i.memoizedState,p.dispatch]}function Nx(i){var o=pr(),d=o.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=i;var p=d.dispatch,g=d.pending,N=o.memoizedState;if(g!==null){d.pending=null;var k=g=g.next;do N=i(N,k.action),k=k.next;while(k!==g);Cn(N,o.memoizedState)||(wr=!0),o.memoizedState=N,o.baseQueue===null&&(o.baseState=N),d.lastRenderedState=N}return[N,p]}function CN(i,o,d){var p=tt,g=pr(),N=ht;if(N){if(d===void 0)throw Error(r(407));d=d()}else d=o();var k=!Cn((It||g).memoizedState,d);if(k&&(g.memoizedState=d,wr=!0),g=g.queue,Ax(kN.bind(null,p,g,i),[i]),g.getSnapshot!==o||k||yr!==null&&yr.memoizedState.tag&1){if(p.flags|=2048,Ao(9,{destroy:void 0},MN.bind(null,p,g,d,o),null),qt===null)throw Error(r(349));N||(yi&127)!==0||AN(p,o,d)}return d}function AN(i,o,d){i.flags|=16384,i={getSnapshot:o,value:d},o=tt.updateQueue,o===null?(o=Af(),tt.updateQueue=o,o.stores=[i]):(d=o.stores,d===null?o.stores=[i]:d.push(i))}function MN(i,o,d,p){o.value=d,o.getSnapshot=p,DN(o)&&EN(i)}function kN(i,o,d){return d(function(){DN(o)&&EN(i)})}function DN(i){var o=i.getSnapshot;i=i.value;try{var d=o();return!Cn(i,d)}catch{return!0}}function EN(i){var o=ul(i,2);o!==null&&mn(o,i,2)}function Sx(i){var o=Jr();if(typeof i=="function"){var d=i;if(i=d(),bl){ze(!0);try{d()}finally{ze(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:i},o}function _N(i,o,d,p){return i.baseState=d,jx(i,It,typeof p=="function"?p:wi)}function wR(i,o,d,p,g){if(_f(i))throw Error(r(485));if(i=o.action,i!==null){var N={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){N.listeners.push(k)}};$.T!==null?d(!0):N.isTransition=!1,p(N),d=o.pending,d===null?(N.next=o.pending=N,ON(o,N)):(N.next=d.next,o.pending=d.next=N)}}function ON(i,o){var d=o.action,p=o.payload,g=i.state;if(o.isTransition){var N=$.T,k={};$.T=k;try{var I=d(g,p),q=$.S;q!==null&&q(k,I),TN(i,o,I)}catch(ee){Cx(i,o,ee)}finally{N!==null&&k.types!==null&&(N.types=k.types),$.T=N}}else try{N=d(g,p),TN(i,o,N)}catch(ee){Cx(i,o,ee)}}function TN(i,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){PN(i,o,p)},function(p){return Cx(i,o,p)}):PN(i,o,d)}function PN(i,o,d){o.status="fulfilled",o.value=d,IN(o),i.state=d,o=i.pending,o!==null&&(d=o.next,d===o?i.pending=null:(d=d.next,o.next=d,ON(i,d)))}function Cx(i,o,d){var p=i.pending;if(i.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=d,IN(o),o=o.next;while(o!==p)}i.action=null}function IN(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function RN(i,o){return o}function LN(i,o){if(ht){var d=qt.formState;if(d!==null){e:{var p=tt;if(ht){if(Gt){t:{for(var g=Gt,N=Qn;g.nodeType!==8;){if(!N){g=null;break t}if(g=Zn(g.nextSibling),g===null){g=null;break t}}N=g.data,g=N==="F!"||N==="F"?g:null}if(g){Gt=Zn(g.nextSibling),p=g.data==="F!";break e}}ms(p)}p=!1}p&&(o=d[0])}}return d=Jr(),d.memoizedState=d.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:RN,lastRenderedState:o},d.queue=p,d=rS.bind(null,tt,p),p.dispatch=d,p=Sx(!1),N=_x.bind(null,tt,!1,p.queue),p=Jr(),g={state:o,dispatch:null,action:i,pending:null},p.queue=g,d=wR.bind(null,tt,g,N,d),g.dispatch=d,p.memoizedState=i,[o,d,!1]}function zN(i){var o=pr();return FN(o,It,i)}function FN(i,o,d){if(o=jx(i,o,RN)[0],i=kf(wi)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=lu(o)}catch(k){throw k===wo?gf:k}else p=o;o=pr();var g=o.queue,N=g.dispatch;return d!==o.memoizedState&&(tt.flags|=2048,Ao(9,{destroy:void 0},jR.bind(null,g,d),null)),[p,N,i]}function jR(i,o){i.action=o}function BN(i){var o=pr(),d=It;if(d!==null)return FN(o,d,i);pr(),o=o.memoizedState,d=pr();var p=d.queue.dispatch;return d.memoizedState=i,[o,p,!1]}function Ao(i,o,d,p){return i={tag:i,create:d,deps:p,inst:o,next:null},o=tt.updateQueue,o===null&&(o=Af(),tt.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=i.next=i:(p=d.next,d.next=i,i.next=p,o.lastEffect=i),i}function $N(){return pr().memoizedState}function Df(i,o,d,p){var g=Jr();tt.flags|=i,g.memoizedState=Ao(1|o,{destroy:void 0},d,p===void 0?null:p)}function Ef(i,o,d,p){var g=pr();p=p===void 0?null:p;var N=g.memoizedState.inst;It!==null&&p!==null&&vx(p,It.memoizedState.deps)?g.memoizedState=Ao(o,N,d,p):(tt.flags|=i,g.memoizedState=Ao(1|o,N,d,p))}function qN(i,o){Df(8390656,8,i,o)}function Ax(i,o){Ef(2048,8,i,o)}function NR(i){tt.flags|=4;var o=tt.updateQueue;if(o===null)o=Af(),tt.updateQueue=o,o.events=[i];else{var d=o.events;d===null?o.events=[i]:d.push(i)}}function HN(i){var o=pr().memoizedState;return NR({ref:o,nextImpl:i}),function(){if((Ct&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function UN(i,o){return Ef(4,2,i,o)}function YN(i,o){return Ef(4,4,i,o)}function VN(i,o){if(typeof o=="function"){i=i();var d=o(i);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function GN(i,o,d){d=d!=null?d.concat([i]):null,Ef(4,4,VN.bind(null,o,i),d)}function Mx(){}function KN(i,o){var d=pr();o=o===void 0?null:o;var p=d.memoizedState;return o!==null&&vx(o,p[1])?p[0]:(d.memoizedState=[i,o],i)}function WN(i,o){var d=pr();o=o===void 0?null:o;var p=d.memoizedState;if(o!==null&&vx(o,p[1]))return p[0];if(p=i(),bl){ze(!0);try{i()}finally{ze(!1)}}return d.memoizedState=[p,o],p}function kx(i,o,d){return d===void 0||(yi&1073741824)!==0&&(dt&261930)===0?i.memoizedState=o:(i.memoizedState=d,i=QS(),tt.lanes|=i,js|=i,d)}function QN(i,o,d,p){return Cn(d,o)?d:No.current!==null?(i=kx(i,d,p),Cn(i,o)||(wr=!0),i):(yi&42)===0||(yi&1073741824)!==0&&(dt&261930)===0?(wr=!0,i.memoizedState=d):(i=QS(),tt.lanes|=i,js|=i,o)}function XN(i,o,d,p,g){var N=G.p;G.p=N!==0&&8>N?N:8;var k=$.T,I={};$.T=I,_x(i,!1,o,d);try{var q=g(),ee=$.S;if(ee!==null&&ee(I,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var de=gR(q,p);ou(i,o,de,_n(i))}else ou(i,o,p,_n(i))}catch(pe){ou(i,o,{then:function(){},status:"rejected",reason:pe},_n())}finally{G.p=N,k!==null&&I.types!==null&&(k.types=I.types),$.T=k}}function SR(){}function Dx(i,o,d,p){if(i.tag!==5)throw Error(r(476));var g=ZN(i).queue;XN(i,g,o,z,d===null?SR:function(){return JN(i),d(p)})}function ZN(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:z},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:d},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function JN(i){var o=ZN(i);o.next===null&&(o=i.alternate.memoizedState),ou(i,o.next.queue,{},_n())}function Ex(){return Br(Cu)}function eS(){return pr().memoizedState}function tS(){return pr().memoizedState}function CR(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var d=_n();i=vs(d);var p=xs(o,i,d);p!==null&&(mn(p,o,d),nu(p,o,d)),o={cache:ix()},i.payload=o;return}o=o.return}}function AR(i,o,d){var p=_n();d={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},_f(i)?nS(o,d):(d=Kv(i,o,d,p),d!==null&&(mn(d,i,p),aS(d,o,p)))}function rS(i,o,d){var p=_n();ou(i,o,d,p)}function ou(i,o,d,p){var g={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(_f(i))nS(o,g);else{var N=i.alternate;if(i.lanes===0&&(N===null||N.lanes===0)&&(N=o.lastRenderedReducer,N!==null))try{var k=o.lastRenderedState,I=N(k,d);if(g.hasEagerState=!0,g.eagerState=I,Cn(I,k))return df(i,o,g,0),qt===null&&uf(),!1}catch{}if(d=Kv(i,o,g,p),d!==null)return mn(d,i,p),aS(d,o,p),!0}return!1}function _x(i,o,d,p){if(p={lane:2,revertLane:c0(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},_f(i)){if(o)throw Error(r(479))}else o=Kv(i,d,p,2),o!==null&&mn(o,i,2)}function _f(i){var o=i.alternate;return i===tt||o!==null&&o===tt}function nS(i,o){So=Sf=!0;var d=i.pending;d===null?o.next=o:(o.next=d.next,d.next=o),i.pending=o}function aS(i,o,d){if((d&4194048)!==0){var p=o.lanes;p&=i.pendingLanes,d|=p,o.lanes=d,fi(i,d)}}var cu={readContext:Br,use:Mf,useCallback:sr,useContext:sr,useEffect:sr,useImperativeHandle:sr,useLayoutEffect:sr,useInsertionEffect:sr,useMemo:sr,useReducer:sr,useRef:sr,useState:sr,useDebugValue:sr,useDeferredValue:sr,useTransition:sr,useSyncExternalStore:sr,useId:sr,useHostTransitionStatus:sr,useFormState:sr,useActionState:sr,useOptimistic:sr,useMemoCache:sr,useCacheRefresh:sr};cu.useEffectEvent=sr;var iS={readContext:Br,use:Mf,useCallback:function(i,o){return Jr().memoizedState=[i,o===void 0?null:o],i},useContext:Br,useEffect:qN,useImperativeHandle:function(i,o,d){d=d!=null?d.concat([i]):null,Df(4194308,4,VN.bind(null,o,i),d)},useLayoutEffect:function(i,o){return Df(4194308,4,i,o)},useInsertionEffect:function(i,o){Df(4,2,i,o)},useMemo:function(i,o){var d=Jr();o=o===void 0?null:o;var p=i();if(bl){ze(!0);try{i()}finally{ze(!1)}}return d.memoizedState=[p,o],p},useReducer:function(i,o,d){var p=Jr();if(d!==void 0){var g=d(o);if(bl){ze(!0);try{d(o)}finally{ze(!1)}}}else g=o;return p.memoizedState=p.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},p.queue=i,i=i.dispatch=AR.bind(null,tt,i),[p.memoizedState,i]},useRef:function(i){var o=Jr();return i={current:i},o.memoizedState=i},useState:function(i){i=Sx(i);var o=i.queue,d=rS.bind(null,tt,o);return o.dispatch=d,[i.memoizedState,d]},useDebugValue:Mx,useDeferredValue:function(i,o){var d=Jr();return kx(d,i,o)},useTransition:function(){var i=Sx(!1);return i=XN.bind(null,tt,i.queue,!0,!1),Jr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,d){var p=tt,g=Jr();if(ht){if(d===void 0)throw Error(r(407));d=d()}else{if(d=o(),qt===null)throw Error(r(349));(dt&127)!==0||AN(p,o,d)}g.memoizedState=d;var N={value:d,getSnapshot:o};return g.queue=N,qN(kN.bind(null,p,N,i),[i]),p.flags|=2048,Ao(9,{destroy:void 0},MN.bind(null,p,N,d,o),null),d},useId:function(){var i=Jr(),o=qt.identifierPrefix;if(ht){var d=Ra,p=Ia;d=(p&~(1<<32-ie(p)-1)).toString(32)+d,o="_"+o+"R_"+d,d=Cf++,0<d&&(o+="H"+d.toString(32)),o+="_"}else d=bR++,o="_"+o+"r_"+d.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:Ex,useFormState:LN,useActionState:LN,useOptimistic:function(i){var o=Jr();o.memoizedState=o.baseState=i;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=_x.bind(null,tt,!0,d),d.dispatch=o,[i,o]},useMemoCache:wx,useCacheRefresh:function(){return Jr().memoizedState=CR.bind(null,tt)},useEffectEvent:function(i){var o=Jr(),d={impl:i};return o.memoizedState=d,function(){if((Ct&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},Ox={readContext:Br,use:Mf,useCallback:KN,useContext:Br,useEffect:Ax,useImperativeHandle:GN,useInsertionEffect:UN,useLayoutEffect:YN,useMemo:WN,useReducer:kf,useRef:$N,useState:function(){return kf(wi)},useDebugValue:Mx,useDeferredValue:function(i,o){var d=pr();return QN(d,It.memoizedState,i,o)},useTransition:function(){var i=kf(wi)[0],o=pr().memoizedState;return[typeof i=="boolean"?i:lu(i),o]},useSyncExternalStore:CN,useId:eS,useHostTransitionStatus:Ex,useFormState:zN,useActionState:zN,useOptimistic:function(i,o){var d=pr();return _N(d,It,i,o)},useMemoCache:wx,useCacheRefresh:tS};Ox.useEffectEvent=HN;var sS={readContext:Br,use:Mf,useCallback:KN,useContext:Br,useEffect:Ax,useImperativeHandle:GN,useInsertionEffect:UN,useLayoutEffect:YN,useMemo:WN,useReducer:Nx,useRef:$N,useState:function(){return Nx(wi)},useDebugValue:Mx,useDeferredValue:function(i,o){var d=pr();return It===null?kx(d,i,o):QN(d,It.memoizedState,i,o)},useTransition:function(){var i=Nx(wi)[0],o=pr().memoizedState;return[typeof i=="boolean"?i:lu(i),o]},useSyncExternalStore:CN,useId:eS,useHostTransitionStatus:Ex,useFormState:BN,useActionState:BN,useOptimistic:function(i,o){var d=pr();return It!==null?_N(d,It,i,o):(d.baseState=i,[i,d.queue.dispatch])},useMemoCache:wx,useCacheRefresh:tS};sS.useEffectEvent=HN;function Tx(i,o,d,p){o=i.memoizedState,d=d(p,o),d=d==null?o:v({},o,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var Px={enqueueSetState:function(i,o,d){i=i._reactInternals;var p=_n(),g=vs(p);g.payload=o,d!=null&&(g.callback=d),o=xs(i,g,p),o!==null&&(mn(o,i,p),nu(o,i,p))},enqueueReplaceState:function(i,o,d){i=i._reactInternals;var p=_n(),g=vs(p);g.tag=1,g.payload=o,d!=null&&(g.callback=d),o=xs(i,g,p),o!==null&&(mn(o,i,p),nu(o,i,p))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var d=_n(),p=vs(d);p.tag=2,o!=null&&(p.callback=o),o=xs(i,p,d),o!==null&&(mn(o,i,d),nu(o,i,d))}};function lS(i,o,d,p,g,N,k){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,N,k):o.prototype&&o.prototype.isPureReactComponent?!Wc(d,p)||!Wc(g,N):!0}function oS(i,o,d,p){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,p),o.state!==i&&Px.enqueueReplaceState(o,o.state,null)}function yl(i,o){var d=o;if("ref"in o){d={};for(var p in o)p!=="ref"&&(d[p]=o[p])}if(i=i.defaultProps){d===o&&(d=v({},d));for(var g in i)d[g]===void 0&&(d[g]=i[g])}return d}function cS(i){cf(i)}function uS(i){console.error(i)}function dS(i){cf(i)}function Of(i,o){try{var d=i.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function fS(i,o,d){try{var p=i.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Ix(i,o,d){return d=vs(d),d.tag=3,d.payload={element:null},d.callback=function(){Of(i,o)},d}function mS(i){return i=vs(i),i.tag=3,i}function pS(i,o,d,p){var g=d.type.getDerivedStateFromError;if(typeof g=="function"){var N=p.value;i.payload=function(){return g(N)},i.callback=function(){fS(o,d,p)}}var k=d.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(i.callback=function(){fS(o,d,p),typeof g!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var I=p.stack;this.componentDidCatch(p.value,{componentStack:I!==null?I:""})})}function MR(i,o,d,p,g){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=d.alternate,o!==null&&go(o,d,g,!0),d=Mn.current,d!==null){switch(d.tag){case 31:case 13:return Xn===null?Uf():d.alternate===null&&lr===0&&(lr=3),d.flags&=-257,d.flags|=65536,d.lanes=g,p===bf?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([p]):o.add(p),s0(i,p,g)),!1;case 22:return d.flags|=65536,p===bf?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([p]):d.add(p)),s0(i,p,g)),!1}throw Error(r(435,d.tag))}return s0(i,p,g),Uf(),!1}if(ht)return o=Mn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=g,p!==ex&&(i=Error(r(422),{cause:p}),Zc(Gn(i,d)))):(p!==ex&&(o=Error(r(423),{cause:p}),Zc(Gn(o,d))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,p=Gn(p,d),g=Ix(i.stateNode,p,g),dx(i,g),lr!==4&&(lr=2)),!1;var N=Error(r(520),{cause:p});if(N=Gn(N,d),xu===null?xu=[N]:xu.push(N),lr!==4&&(lr=2),o===null)return!0;p=Gn(p,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,i=g&-g,d.lanes|=i,i=Ix(d.stateNode,p,i),dx(d,i),!1;case 1:if(o=d.type,N=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Ns===null||!Ns.has(N))))return d.flags|=65536,g&=-g,d.lanes|=g,g=mS(g),pS(g,i,d,p),dx(d,g),!1}d=d.return}while(d!==null);return!1}var Rx=Error(r(461)),wr=!1;function $r(i,o,d,p){o.child=i===null?gN(o,null,d,p):gl(o,i.child,d,p)}function hS(i,o,d,p,g){d=d.render;var N=o.ref;if("ref"in p){var k={};for(var I in p)I!=="ref"&&(k[I]=p[I])}else k=p;return pl(o),p=xx(i,o,d,k,N,g),I=gx(),i!==null&&!wr?(bx(i,o,g),ji(i,o,g)):(ht&&I&&Zv(o),o.flags|=1,$r(i,o,p,g),o.child)}function vS(i,o,d,p,g){if(i===null){var N=d.type;return typeof N=="function"&&!Wv(N)&&N.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=N,xS(i,o,N,p,g)):(i=mf(d.type,null,p,o,o.mode,g),i.ref=o.ref,i.return=o,o.child=i)}if(N=i.child,!Ux(i,g)){var k=N.memoizedProps;if(d=d.compare,d=d!==null?d:Wc,d(k,p)&&i.ref===o.ref)return ji(i,o,g)}return o.flags|=1,i=vi(N,p),i.ref=o.ref,i.return=o,o.child=i}function xS(i,o,d,p,g){if(i!==null){var N=i.memoizedProps;if(Wc(N,p)&&i.ref===o.ref)if(wr=!1,o.pendingProps=p=N,Ux(i,g))(i.flags&131072)!==0&&(wr=!0);else return o.lanes=i.lanes,ji(i,o,g)}return Lx(i,o,d,p,g)}function gS(i,o,d,p){var g=p.children,N=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((o.flags&128)!==0){if(N=N!==null?N.baseLanes|d:d,i!==null){for(p=o.child=i.child,g=0;p!==null;)g=g|p.lanes|p.childLanes,p=p.sibling;p=g&~N}else p=0,o.child=null;return bS(i,o,N,d,p)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&xf(o,N!==null?N.cachePool:null),N!==null?wN(o,N):mx(),jN(o);else return p=o.lanes=536870912,bS(i,o,N!==null?N.baseLanes|d:d,d,p)}else N!==null?(xf(o,N.cachePool),wN(o,N),bs(),o.memoizedState=null):(i!==null&&xf(o,null),mx(),bs());return $r(i,o,g,d),o.child}function uu(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function bS(i,o,d,p,g){var N=lx();return N=N===null?null:{parent:br._currentValue,pool:N},o.memoizedState={baseLanes:d,cachePool:N},i!==null&&xf(o,null),mx(),jN(o),i!==null&&go(i,o,p,!0),o.childLanes=g,null}function Tf(i,o){return o=If({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function yS(i,o,d){return gl(o,i.child,null,d),i=Tf(o,o.pendingProps),i.flags|=2,kn(o),o.memoizedState=null,i}function kR(i,o,d){var p=o.pendingProps,g=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(ht){if(p.mode==="hidden")return i=Tf(o,p),o.lanes=536870912,uu(null,i);if(hx(o),(i=Gt)?(i=O2(i,Qn),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:ds!==null?{id:Ia,overflow:Ra}:null,retryLane:536870912,hydrationErrors:null},d=nN(i),d.return=o,o.child=d,Fr=o,Gt=null)):i=null,i===null)throw ms(o);return o.lanes=536870912,null}return Tf(o,p)}var N=i.memoizedState;if(N!==null){var k=N.dehydrated;if(hx(o),g)if(o.flags&256)o.flags&=-257,o=yS(i,o,d);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(r(558));else if(wr||go(i,o,d,!1),g=(d&i.childLanes)!==0,wr||g){if(p=qt,p!==null&&(k=Ea(p,d),k!==0&&k!==N.retryLane))throw N.retryLane=k,ul(i,k),mn(p,i,k),Rx;Uf(),o=yS(i,o,d)}else i=N.treeContext,Gt=Zn(k.nextSibling),Fr=o,ht=!0,fs=null,Qn=!1,i!==null&&sN(o,i),o=Tf(o,p),o.flags|=4096;return o}return i=vi(i.child,{mode:p.mode,children:p.children}),i.ref=o.ref,o.child=i,i.return=o,i}function Pf(i,o){var d=o.ref;if(d===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(i===null||i.ref!==d)&&(o.flags|=4194816)}}function Lx(i,o,d,p,g){return pl(o),d=xx(i,o,d,p,void 0,g),p=gx(),i!==null&&!wr?(bx(i,o,g),ji(i,o,g)):(ht&&p&&Zv(o),o.flags|=1,$r(i,o,d,g),o.child)}function wS(i,o,d,p,g,N){return pl(o),o.updateQueue=null,d=SN(o,p,d,g),NN(i),p=gx(),i!==null&&!wr?(bx(i,o,N),ji(i,o,N)):(ht&&p&&Zv(o),o.flags|=1,$r(i,o,d,N),o.child)}function jS(i,o,d,p,g){if(pl(o),o.stateNode===null){var N=po,k=d.contextType;typeof k=="object"&&k!==null&&(N=Br(k)),N=new d(p,N),o.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Px,o.stateNode=N,N._reactInternals=o,N=o.stateNode,N.props=p,N.state=o.memoizedState,N.refs={},cx(o),k=d.contextType,N.context=typeof k=="object"&&k!==null?Br(k):po,N.state=o.memoizedState,k=d.getDerivedStateFromProps,typeof k=="function"&&(Tx(o,d,k,p),N.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(k=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),k!==N.state&&Px.enqueueReplaceState(N,N.state,null),iu(o,p,N,g),au(),N.state=o.memoizedState),typeof N.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(i===null){N=o.stateNode;var I=o.memoizedProps,q=yl(d,I);N.props=q;var ee=N.context,de=d.contextType;k=po,typeof de=="object"&&de!==null&&(k=Br(de));var pe=d.getDerivedStateFromProps;de=typeof pe=="function"||typeof N.getSnapshotBeforeUpdate=="function",I=o.pendingProps!==I,de||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(I||ee!==k)&&oS(o,N,p,k),hs=!1;var re=o.memoizedState;N.state=re,iu(o,p,N,g),au(),ee=o.memoizedState,I||re!==ee||hs?(typeof pe=="function"&&(Tx(o,d,pe,p),ee=o.memoizedState),(q=hs||lS(o,d,q,p,re,ee,k))?(de||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(o.flags|=4194308)):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=ee),N.props=p,N.state=ee,N.context=k,p=q):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{N=o.stateNode,ux(i,o),k=o.memoizedProps,de=yl(d,k),N.props=de,pe=o.pendingProps,re=N.context,ee=d.contextType,q=po,typeof ee=="object"&&ee!==null&&(q=Br(ee)),I=d.getDerivedStateFromProps,(ee=typeof I=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(k!==pe||re!==q)&&oS(o,N,p,q),hs=!1,re=o.memoizedState,N.state=re,iu(o,p,N,g),au();var se=o.memoizedState;k!==pe||re!==se||hs||i!==null&&i.dependencies!==null&&hf(i.dependencies)?(typeof I=="function"&&(Tx(o,d,I,p),se=o.memoizedState),(de=hs||lS(o,d,de,p,re,se,q)||i!==null&&i.dependencies!==null&&hf(i.dependencies))?(ee||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(p,se,q),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(p,se,q)),typeof N.componentDidUpdate=="function"&&(o.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof N.componentDidUpdate!="function"||k===i.memoizedProps&&re===i.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&re===i.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=se),N.props=p,N.state=se,N.context=q,p=de):(typeof N.componentDidUpdate!="function"||k===i.memoizedProps&&re===i.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&re===i.memoizedState||(o.flags|=1024),p=!1)}return N=p,Pf(i,o),p=(o.flags&128)!==0,N||p?(N=o.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:N.render(),o.flags|=1,i!==null&&p?(o.child=gl(o,i.child,null,g),o.child=gl(o,null,d,g)):$r(i,o,d,g),o.memoizedState=N.state,i=o.child):i=ji(i,o,g),i}function NS(i,o,d,p){return fl(),o.flags|=256,$r(i,o,d,p),o.child}var zx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fx(i){return{baseLanes:i,cachePool:fN()}}function Bx(i,o,d){return i=i!==null?i.childLanes&~d:0,o&&(i|=En),i}function SS(i,o,d){var p=o.pendingProps,g=!1,N=(o.flags&128)!==0,k;if((k=N)||(k=i!==null&&i.memoizedState===null?!1:(mr.current&2)!==0),k&&(g=!0,o.flags&=-129),k=(o.flags&32)!==0,o.flags&=-33,i===null){if(ht){if(g?gs(o):bs(),(i=Gt)?(i=O2(i,Qn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:ds!==null?{id:Ia,overflow:Ra}:null,retryLane:536870912,hydrationErrors:null},d=nN(i),d.return=o,o.child=d,Fr=o,Gt=null)):i=null,i===null)throw ms(o);return j0(i)?o.lanes=32:o.lanes=536870912,null}var I=p.children;return p=p.fallback,g?(bs(),g=o.mode,I=If({mode:"hidden",children:I},g),p=dl(p,g,d,null),I.return=o,p.return=o,I.sibling=p,o.child=I,p=o.child,p.memoizedState=Fx(d),p.childLanes=Bx(i,k,d),o.memoizedState=zx,uu(null,p)):(gs(o),$x(o,I))}var q=i.memoizedState;if(q!==null&&(I=q.dehydrated,I!==null)){if(N)o.flags&256?(gs(o),o.flags&=-257,o=qx(i,o,d)):o.memoizedState!==null?(bs(),o.child=i.child,o.flags|=128,o=null):(bs(),I=p.fallback,g=o.mode,p=If({mode:"visible",children:p.children},g),I=dl(I,g,d,null),I.flags|=2,p.return=o,I.return=o,p.sibling=I,o.child=p,gl(o,i.child,null,d),p=o.child,p.memoizedState=Fx(d),p.childLanes=Bx(i,k,d),o.memoizedState=zx,o=uu(null,p));else if(gs(o),j0(I)){if(k=I.nextSibling&&I.nextSibling.dataset,k)var ee=k.dgst;k=ee,p=Error(r(419)),p.stack="",p.digest=k,Zc({value:p,source:null,stack:null}),o=qx(i,o,d)}else if(wr||go(i,o,d,!1),k=(d&i.childLanes)!==0,wr||k){if(k=qt,k!==null&&(p=Ea(k,d),p!==0&&p!==q.retryLane))throw q.retryLane=p,ul(i,p),mn(k,i,p),Rx;w0(I)||Uf(),o=qx(i,o,d)}else w0(I)?(o.flags|=192,o.child=i.child,o=null):(i=q.treeContext,Gt=Zn(I.nextSibling),Fr=o,ht=!0,fs=null,Qn=!1,i!==null&&sN(o,i),o=$x(o,p.children),o.flags|=4096);return o}return g?(bs(),I=p.fallback,g=o.mode,q=i.child,ee=q.sibling,p=vi(q,{mode:"hidden",children:p.children}),p.subtreeFlags=q.subtreeFlags&65011712,ee!==null?I=vi(ee,I):(I=dl(I,g,d,null),I.flags|=2),I.return=o,p.return=o,p.sibling=I,o.child=p,uu(null,p),p=o.child,I=i.child.memoizedState,I===null?I=Fx(d):(g=I.cachePool,g!==null?(q=br._currentValue,g=g.parent!==q?{parent:q,pool:q}:g):g=fN(),I={baseLanes:I.baseLanes|d,cachePool:g}),p.memoizedState=I,p.childLanes=Bx(i,k,d),o.memoizedState=zx,uu(i.child,p)):(gs(o),d=i.child,i=d.sibling,d=vi(d,{mode:"visible",children:p.children}),d.return=o,d.sibling=null,i!==null&&(k=o.deletions,k===null?(o.deletions=[i],o.flags|=16):k.push(i)),o.child=d,o.memoizedState=null,d)}function $x(i,o){return o=If({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function If(i,o){return i=An(22,i,null,o),i.lanes=0,i}function qx(i,o,d){return gl(o,i.child,null,d),i=$x(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function CS(i,o,d){i.lanes|=o;var p=i.alternate;p!==null&&(p.lanes|=o),nx(i.return,o,d)}function Hx(i,o,d,p,g,N){var k=i.memoizedState;k===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:g,treeForkCount:N}:(k.isBackwards=o,k.rendering=null,k.renderingStartTime=0,k.last=p,k.tail=d,k.tailMode=g,k.treeForkCount=N)}function AS(i,o,d){var p=o.pendingProps,g=p.revealOrder,N=p.tail;p=p.children;var k=mr.current,I=(k&2)!==0;if(I?(k=k&1|2,o.flags|=128):k&=1,he(mr,k),$r(i,o,p,d),p=ht?Xc:0,!I&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&CS(i,d,o);else if(i.tag===19)CS(i,d,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(g){case"forwards":for(d=o.child,g=null;d!==null;)i=d.alternate,i!==null&&Nf(i)===null&&(g=d),d=d.sibling;d=g,d===null?(g=o.child,o.child=null):(g=d.sibling,d.sibling=null),Hx(o,!1,g,d,N,p);break;case"backwards":case"unstable_legacy-backwards":for(d=null,g=o.child,o.child=null;g!==null;){if(i=g.alternate,i!==null&&Nf(i)===null){o.child=g;break}i=g.sibling,g.sibling=d,d=g,g=i}Hx(o,!0,d,null,N,p);break;case"together":Hx(o,!1,null,null,void 0,p);break;default:o.memoizedState=null}return o.child}function ji(i,o,d){if(i!==null&&(o.dependencies=i.dependencies),js|=o.lanes,(d&o.childLanes)===0)if(i!==null){if(go(i,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,d=vi(i,i.pendingProps),o.child=d,d.return=o;i.sibling!==null;)i=i.sibling,d=d.sibling=vi(i,i.pendingProps),d.return=o;d.sibling=null}return o.child}function Ux(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&hf(i)))}function DR(i,o,d){switch(o.tag){case 3:ge(o,o.stateNode.containerInfo),ps(o,br,i.memoizedState.cache),fl();break;case 27:case 5:Ne(o);break;case 4:ge(o,o.stateNode.containerInfo);break;case 10:ps(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,hx(o),null;break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(gs(o),o.flags|=128,null):(d&o.child.childLanes)!==0?SS(i,o,d):(gs(o),i=ji(i,o,d),i!==null?i.sibling:null);gs(o);break;case 19:var g=(i.flags&128)!==0;if(p=(d&o.childLanes)!==0,p||(go(i,o,d,!1),p=(d&o.childLanes)!==0),g){if(p)return AS(i,o,d);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),he(mr,mr.current),p)break;return null;case 22:return o.lanes=0,gS(i,o,d,o.pendingProps);case 24:ps(o,br,i.memoizedState.cache)}return ji(i,o,d)}function MS(i,o,d){if(i!==null)if(i.memoizedProps!==o.pendingProps)wr=!0;else{if(!Ux(i,d)&&(o.flags&128)===0)return wr=!1,DR(i,o,d);wr=(i.flags&131072)!==0}else wr=!1,ht&&(o.flags&1048576)!==0&&iN(o,Xc,o.index);switch(o.lanes=0,o.tag){case 16:e:{var p=o.pendingProps;if(i=vl(o.elementType),o.type=i,typeof i=="function")Wv(i)?(p=yl(i,p),o.tag=1,o=jS(null,o,i,p,d)):(o.tag=0,o=Lx(null,o,i,p,d));else{if(i!=null){var g=i.$$typeof;if(g===_){o.tag=11,o=hS(null,o,i,p,d);break e}else if(g===P){o.tag=14,o=vS(null,o,i,p,d);break e}}throw o=X(i)||i,Error(r(306,o,""))}}return o;case 0:return Lx(i,o,o.type,o.pendingProps,d);case 1:return p=o.type,g=yl(p,o.pendingProps),jS(i,o,p,g,d);case 3:e:{if(ge(o,o.stateNode.containerInfo),i===null)throw Error(r(387));p=o.pendingProps;var N=o.memoizedState;g=N.element,ux(i,o),iu(o,p,null,d);var k=o.memoizedState;if(p=k.cache,ps(o,br,p),p!==N.cache&&ax(o,[br],d,!0),au(),p=k.element,N.isDehydrated)if(N={element:p,isDehydrated:!1,cache:k.cache},o.updateQueue.baseState=N,o.memoizedState=N,o.flags&256){o=NS(i,o,p,d);break e}else if(p!==g){g=Gn(Error(r(424)),o),Zc(g),o=NS(i,o,p,d);break e}else for(i=o.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Gt=Zn(i.firstChild),Fr=o,ht=!0,fs=null,Qn=!0,d=gN(o,null,p,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(fl(),p===g){o=ji(i,o,d);break e}$r(i,o,p,d)}o=o.child}return o;case 26:return Pf(i,o),i===null?(d=z2(o.type,null,o.pendingProps,null))?o.memoizedState=d:ht||(d=o.type,i=o.pendingProps,p=Xf(Ie.current).createElement(d),p[Cr]=o,p[Gr]=i,qr(p,d,i),xt(p),o.stateNode=p):o.memoizedState=z2(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Ne(o),i===null&&ht&&(p=o.stateNode=I2(o.type,o.pendingProps,Ie.current),Fr=o,Qn=!0,g=Gt,Ms(o.type)?(N0=g,Gt=Zn(p.firstChild)):Gt=g),$r(i,o,o.pendingProps.children,d),Pf(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&ht&&((g=p=Gt)&&(p=iL(p,o.type,o.pendingProps,Qn),p!==null?(o.stateNode=p,Fr=o,Gt=Zn(p.firstChild),Qn=!1,g=!0):g=!1),g||ms(o)),Ne(o),g=o.type,N=o.pendingProps,k=i!==null?i.memoizedProps:null,p=N.children,g0(g,N)?p=null:k!==null&&g0(g,k)&&(o.flags|=32),o.memoizedState!==null&&(g=xx(i,o,yR,null,null,d),Cu._currentValue=g),Pf(i,o),$r(i,o,p,d),o.child;case 6:return i===null&&ht&&((i=d=Gt)&&(d=sL(d,o.pendingProps,Qn),d!==null?(o.stateNode=d,Fr=o,Gt=null,i=!0):i=!1),i||ms(o)),null;case 13:return SS(i,o,d);case 4:return ge(o,o.stateNode.containerInfo),p=o.pendingProps,i===null?o.child=gl(o,null,p,d):$r(i,o,p,d),o.child;case 11:return hS(i,o,o.type,o.pendingProps,d);case 7:return $r(i,o,o.pendingProps,d),o.child;case 8:return $r(i,o,o.pendingProps.children,d),o.child;case 12:return $r(i,o,o.pendingProps.children,d),o.child;case 10:return p=o.pendingProps,ps(o,o.type,p.value),$r(i,o,p.children,d),o.child;case 9:return g=o.type._context,p=o.pendingProps.children,pl(o),g=Br(g),p=p(g),o.flags|=1,$r(i,o,p,d),o.child;case 14:return vS(i,o,o.type,o.pendingProps,d);case 15:return xS(i,o,o.type,o.pendingProps,d);case 19:return AS(i,o,d);case 31:return kR(i,o,d);case 22:return gS(i,o,d,o.pendingProps);case 24:return pl(o),p=Br(br),i===null?(g=lx(),g===null&&(g=qt,N=ix(),g.pooledCache=N,N.refCount++,N!==null&&(g.pooledCacheLanes|=d),g=N),o.memoizedState={parent:p,cache:g},cx(o),ps(o,br,g)):((i.lanes&d)!==0&&(ux(i,o),iu(o,null,null,d),au()),g=i.memoizedState,N=o.memoizedState,g.parent!==p?(g={parent:p,cache:p},o.memoizedState=g,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=g),ps(o,br,p)):(p=N.cache,ps(o,br,p),p!==g.cache&&ax(o,[br],d,!0))),$r(i,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Ni(i){i.flags|=4}function Yx(i,o,d,p,g){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(g&335544128)===g)if(i.stateNode.complete)i.flags|=8192;else if(e2())i.flags|=8192;else throw xl=bf,ox}else i.flags&=-16777217}function kS(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!H2(o))if(e2())i.flags|=8192;else throw xl=bf,ox}function Rf(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?Pt():536870912,i.lanes|=o,Eo|=o)}function du(i,o){if(!ht)switch(i.tailMode){case"hidden":o=i.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function Kt(i){var o=i.alternate!==null&&i.alternate.child===i.child,d=0,p=0;if(o)for(var g=i.child;g!==null;)d|=g.lanes|g.childLanes,p|=g.subtreeFlags&65011712,p|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)d|=g.lanes|g.childLanes,p|=g.subtreeFlags,p|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=p,i.childLanes=d,o}function ER(i,o,d){var p=o.pendingProps;switch(Jv(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(o),null;case 1:return Kt(o),null;case 3:return d=o.stateNode,p=null,i!==null&&(p=i.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),bi(br),K(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(xo(o)?Ni(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,tx())),Kt(o),null;case 26:var g=o.type,N=o.memoizedState;return i===null?(Ni(o),N!==null?(Kt(o),kS(o,N)):(Kt(o),Yx(o,g,null,p,d))):N?N!==i.memoizedState?(Ni(o),Kt(o),kS(o,N)):(Kt(o),o.flags&=-16777217):(i=i.memoizedProps,i!==p&&Ni(o),Kt(o),Yx(o,g,i,p,d)),null;case 27:if(qe(o),d=Ie.current,g=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&Ni(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return Kt(o),null}i=ye.current,xo(o)?lN(o):(i=I2(g,p,d),o.stateNode=i,Ni(o))}return Kt(o),null;case 5:if(qe(o),g=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&Ni(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return Kt(o),null}if(N=ye.current,xo(o))lN(o);else{var k=Xf(Ie.current);switch(N){case 1:N=k.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:N=k.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":N=k.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":N=k.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":N=k.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof p.is=="string"?k.createElement("select",{is:p.is}):k.createElement("select"),p.multiple?N.multiple=!0:p.size&&(N.size=p.size);break;default:N=typeof p.is=="string"?k.createElement(g,{is:p.is}):k.createElement(g)}}N[Cr]=o,N[Gr]=p;e:for(k=o.child;k!==null;){if(k.tag===5||k.tag===6)N.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===o)break e;for(;k.sibling===null;){if(k.return===null||k.return===o)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}o.stateNode=N;e:switch(qr(N,g,p),g){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Ni(o)}}return Kt(o),Yx(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,d),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==p&&Ni(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(r(166));if(i=Ie.current,xo(o)){if(i=o.stateNode,d=o.memoizedProps,p=null,g=Fr,g!==null)switch(g.tag){case 27:case 5:p=g.memoizedProps}i[Cr]=o,i=!!(i.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||S2(i.nodeValue,d)),i||ms(o,!0)}else i=Xf(i).createTextNode(p),i[Cr]=o,o.stateNode=i}return Kt(o),null;case 31:if(d=o.memoizedState,i===null||i.memoizedState!==null){if(p=xo(o),d!==null){if(i===null){if(!p)throw Error(r(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Cr]=o}else fl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Kt(o),i=!1}else d=tx(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),i=!0;if(!i)return o.flags&256?(kn(o),o):(kn(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Kt(o),null;case 13:if(p=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=xo(o),p!==null&&p.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Cr]=o}else fl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Kt(o),g=!1}else g=tx(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return o.flags&256?(kn(o),o):(kn(o),null)}return kn(o),(o.flags&128)!==0?(o.lanes=d,o):(d=p!==null,i=i!==null&&i.memoizedState!==null,d&&(p=o.child,g=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(g=p.alternate.memoizedState.cachePool.pool),N=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(N=p.memoizedState.cachePool.pool),N!==g&&(p.flags|=2048)),d!==i&&d&&(o.child.flags|=8192),Rf(o,o.updateQueue),Kt(o),null);case 4:return K(),i===null&&m0(o.stateNode.containerInfo),Kt(o),null;case 10:return bi(o.type),Kt(o),null;case 19:if(ae(mr),p=o.memoizedState,p===null)return Kt(o),null;if(g=(o.flags&128)!==0,N=p.rendering,N===null)if(g)du(p,!1);else{if(lr!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(N=Nf(i),N!==null){for(o.flags|=128,du(p,!1),i=N.updateQueue,o.updateQueue=i,Rf(o,i),o.subtreeFlags=0,i=d,d=o.child;d!==null;)rN(d,i),d=d.sibling;return he(mr,mr.current&1|2),ht&&xi(o,p.treeForkCount),o.child}i=i.sibling}p.tail!==null&&St()>$f&&(o.flags|=128,g=!0,du(p,!1),o.lanes=4194304)}else{if(!g)if(i=Nf(N),i!==null){if(o.flags|=128,g=!0,i=i.updateQueue,o.updateQueue=i,Rf(o,i),du(p,!0),p.tail===null&&p.tailMode==="hidden"&&!N.alternate&&!ht)return Kt(o),null}else 2*St()-p.renderingStartTime>$f&&d!==536870912&&(o.flags|=128,g=!0,du(p,!1),o.lanes=4194304);p.isBackwards?(N.sibling=o.child,o.child=N):(i=p.last,i!==null?i.sibling=N:o.child=N,p.last=N)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=St(),i.sibling=null,d=mr.current,he(mr,g?d&1|2:d&1),ht&&xi(o,p.treeForkCount),i):(Kt(o),null);case 22:case 23:return kn(o),px(),p=o.memoizedState!==null,i!==null?i.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(d&536870912)!==0&&(o.flags&128)===0&&(Kt(o),o.subtreeFlags&6&&(o.flags|=8192)):Kt(o),d=o.updateQueue,d!==null&&Rf(o,d.retryQueue),d=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==d&&(o.flags|=2048),i!==null&&ae(hl),null;case 24:return d=null,i!==null&&(d=i.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),bi(br),Kt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function _R(i,o){switch(Jv(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return bi(br),K(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return qe(o),null;case 31:if(o.memoizedState!==null){if(kn(o),o.alternate===null)throw Error(r(340));fl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(kn(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));fl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return ae(mr),null;case 4:return K(),null;case 10:return bi(o.type),null;case 22:case 23:return kn(o),px(),i!==null&&ae(hl),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return bi(br),null;case 25:return null;default:return null}}function DS(i,o){switch(Jv(o),o.tag){case 3:bi(br),K();break;case 26:case 27:case 5:qe(o);break;case 4:K();break;case 31:o.memoizedState!==null&&kn(o);break;case 13:kn(o);break;case 19:ae(mr);break;case 10:bi(o.type);break;case 22:case 23:kn(o),px(),i!==null&&ae(hl);break;case 24:bi(br)}}function fu(i,o){try{var d=o.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var g=p.next;d=g;do{if((d.tag&i)===i){p=void 0;var N=d.create,k=d.inst;p=N(),k.destroy=p}d=d.next}while(d!==g)}}catch(I){Dt(o,o.return,I)}}function ys(i,o,d){try{var p=o.updateQueue,g=p!==null?p.lastEffect:null;if(g!==null){var N=g.next;p=N;do{if((p.tag&i)===i){var k=p.inst,I=k.destroy;if(I!==void 0){k.destroy=void 0,g=o;var q=d,ee=I;try{ee()}catch(de){Dt(g,q,de)}}}p=p.next}while(p!==N)}}catch(de){Dt(o,o.return,de)}}function ES(i){var o=i.updateQueue;if(o!==null){var d=i.stateNode;try{yN(o,d)}catch(p){Dt(i,i.return,p)}}}function _S(i,o,d){d.props=yl(i.type,i.memoizedProps),d.state=i.memoizedState;try{d.componentWillUnmount()}catch(p){Dt(i,o,p)}}function mu(i,o){try{var d=i.ref;if(d!==null){switch(i.tag){case 26:case 27:case 5:var p=i.stateNode;break;case 30:p=i.stateNode;break;default:p=i.stateNode}typeof d=="function"?i.refCleanup=d(p):d.current=p}}catch(g){Dt(i,o,g)}}function La(i,o){var d=i.ref,p=i.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(g){Dt(i,o,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(g){Dt(i,o,g)}else d.current=null}function OS(i){var o=i.type,d=i.memoizedProps,p=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(g){Dt(i,i.return,g)}}function Vx(i,o,d){try{var p=i.stateNode;JR(p,i.type,d,o),p[Gr]=o}catch(g){Dt(i,i.return,g)}}function TS(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ms(i.type)||i.tag===4}function Gx(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||TS(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ms(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Kx(i,o,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(i,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(i),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=pi));else if(p!==4&&(p===27&&Ms(i.type)&&(d=i.stateNode,o=null),i=i.child,i!==null))for(Kx(i,o,d),i=i.sibling;i!==null;)Kx(i,o,d),i=i.sibling}function Lf(i,o,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?d.insertBefore(i,o):d.appendChild(i);else if(p!==4&&(p===27&&Ms(i.type)&&(d=i.stateNode),i=i.child,i!==null))for(Lf(i,o,d),i=i.sibling;i!==null;)Lf(i,o,d),i=i.sibling}function PS(i){var o=i.stateNode,d=i.memoizedProps;try{for(var p=i.type,g=o.attributes;g.length;)o.removeAttributeNode(g[0]);qr(o,p,d),o[Cr]=i,o[Gr]=d}catch(N){Dt(i,i.return,N)}}var Si=!1,jr=!1,Wx=!1,IS=typeof WeakSet=="function"?WeakSet:Set,Or=null;function OR(i,o){if(i=i.containerInfo,v0=am,i=Gj(i),qv(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var g=p.anchorOffset,N=p.focusNode;p=p.focusOffset;try{d.nodeType,N.nodeType}catch{d=null;break e}var k=0,I=-1,q=-1,ee=0,de=0,pe=i,re=null;t:for(;;){for(var se;pe!==d||g!==0&&pe.nodeType!==3||(I=k+g),pe!==N||p!==0&&pe.nodeType!==3||(q=k+p),pe.nodeType===3&&(k+=pe.nodeValue.length),(se=pe.firstChild)!==null;)re=pe,pe=se;for(;;){if(pe===i)break t;if(re===d&&++ee===g&&(I=k),re===N&&++de===p&&(q=k),(se=pe.nextSibling)!==null)break;pe=re,re=pe.parentNode}pe=se}d=I===-1||q===-1?null:{start:I,end:q}}else d=null}d=d||{start:0,end:0}}else d=null;for(x0={focusedElem:i,selectionRange:d},am=!1,Or=o;Or!==null;)if(o=Or,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Or=i;else for(;Or!==null;){switch(o=Or,N=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(d=0;d<i.length;d++)g=i[d],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&N!==null){i=void 0,d=o,g=N.memoizedProps,N=N.memoizedState,p=d.stateNode;try{var Te=yl(d.type,g);i=p.getSnapshotBeforeUpdate(Te,N),p.__reactInternalSnapshotBeforeUpdate=i}catch(Ve){Dt(d,d.return,Ve)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,d=i.nodeType,d===9)y0(i);else if(d===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":y0(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,Or=i;break}Or=o.return}}function RS(i,o,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:Ai(i,d),p&4&&fu(5,d);break;case 1:if(Ai(i,d),p&4)if(i=d.stateNode,o===null)try{i.componentDidMount()}catch(k){Dt(d,d.return,k)}else{var g=yl(d.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(g,o,i.__reactInternalSnapshotBeforeUpdate)}catch(k){Dt(d,d.return,k)}}p&64&&ES(d),p&512&&mu(d,d.return);break;case 3:if(Ai(i,d),p&64&&(i=d.updateQueue,i!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{yN(i,o)}catch(k){Dt(d,d.return,k)}}break;case 27:o===null&&p&4&&PS(d);case 26:case 5:Ai(i,d),o===null&&p&4&&OS(d),p&512&&mu(d,d.return);break;case 12:Ai(i,d);break;case 31:Ai(i,d),p&4&&FS(i,d);break;case 13:Ai(i,d),p&4&&BS(i,d),p&64&&(i=d.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(d=$R.bind(null,d),lL(i,d))));break;case 22:if(p=d.memoizedState!==null||Si,!p){o=o!==null&&o.memoizedState!==null||jr,g=Si;var N=jr;Si=p,(jr=o)&&!N?Mi(i,d,(d.subtreeFlags&8772)!==0):Ai(i,d),Si=g,jr=N}break;case 30:break;default:Ai(i,d)}}function LS(i){var o=i.alternate;o!==null&&(i.alternate=null,LS(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Bc(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Zt=null,cn=!1;function Ci(i,o,d){for(d=d.child;d!==null;)zS(i,o,d),d=d.sibling}function zS(i,o,d){if(De&&typeof De.onCommitFiberUnmount=="function")try{De.onCommitFiberUnmount(Ce,d)}catch{}switch(d.tag){case 26:jr||La(d,o),Ci(i,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:jr||La(d,o);var p=Zt,g=cn;Ms(d.type)&&(Zt=d.stateNode,cn=!1),Ci(i,o,d),ju(d.stateNode),Zt=p,cn=g;break;case 5:jr||La(d,o);case 6:if(p=Zt,g=cn,Zt=null,Ci(i,o,d),Zt=p,cn=g,Zt!==null)if(cn)try{(Zt.nodeType===9?Zt.body:Zt.nodeName==="HTML"?Zt.ownerDocument.body:Zt).removeChild(d.stateNode)}catch(N){Dt(d,o,N)}else try{Zt.removeChild(d.stateNode)}catch(N){Dt(d,o,N)}break;case 18:Zt!==null&&(cn?(i=Zt,E2(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,d.stateNode),zo(i)):E2(Zt,d.stateNode));break;case 4:p=Zt,g=cn,Zt=d.stateNode.containerInfo,cn=!0,Ci(i,o,d),Zt=p,cn=g;break;case 0:case 11:case 14:case 15:ys(2,d,o),jr||ys(4,d,o),Ci(i,o,d);break;case 1:jr||(La(d,o),p=d.stateNode,typeof p.componentWillUnmount=="function"&&_S(d,o,p)),Ci(i,o,d);break;case 21:Ci(i,o,d);break;case 22:jr=(p=jr)||d.memoizedState!==null,Ci(i,o,d),jr=p;break;default:Ci(i,o,d)}}function FS(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{zo(i)}catch(d){Dt(o,o.return,d)}}}function BS(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{zo(i)}catch(d){Dt(o,o.return,d)}}function TR(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new IS),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new IS),o;default:throw Error(r(435,i.tag))}}function zf(i,o){var d=TR(i);o.forEach(function(p){if(!d.has(p)){d.add(p);var g=qR.bind(null,i,p);p.then(g,g)}})}function un(i,o){var d=o.deletions;if(d!==null)for(var p=0;p<d.length;p++){var g=d[p],N=i,k=o,I=k;e:for(;I!==null;){switch(I.tag){case 27:if(Ms(I.type)){Zt=I.stateNode,cn=!1;break e}break;case 5:Zt=I.stateNode,cn=!1;break e;case 3:case 4:Zt=I.stateNode.containerInfo,cn=!0;break e}I=I.return}if(Zt===null)throw Error(r(160));zS(N,k,g),Zt=null,cn=!1,N=g.alternate,N!==null&&(N.return=null),g.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)$S(o,i),o=o.sibling}var fa=null;function $S(i,o){var d=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:un(o,i),dn(i),p&4&&(ys(3,i,i.return),fu(3,i),ys(5,i,i.return));break;case 1:un(o,i),dn(i),p&512&&(jr||d===null||La(d,d.return)),p&64&&Si&&(i=i.updateQueue,i!==null&&(p=i.callbacks,p!==null&&(d=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var g=fa;if(un(o,i),dn(i),p&512&&(jr||d===null||La(d,d.return)),p&4){var N=d!==null?d.memoizedState:null;if(p=i.memoizedState,d===null)if(p===null)if(i.stateNode===null){e:{p=i.type,d=i.memoizedProps,g=g.ownerDocument||g;t:switch(p){case"title":N=g.getElementsByTagName("title")[0],(!N||N[sl]||N[Cr]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=g.createElement(p),g.head.insertBefore(N,g.querySelector("head > title"))),qr(N,p,d),N[Cr]=i,xt(N),p=N;break e;case"link":var k=$2("link","href",g).get(p+(d.href||""));if(k){for(var I=0;I<k.length;I++)if(N=k[I],N.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&N.getAttribute("rel")===(d.rel==null?null:d.rel)&&N.getAttribute("title")===(d.title==null?null:d.title)&&N.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){k.splice(I,1);break t}}N=g.createElement(p),qr(N,p,d),g.head.appendChild(N);break;case"meta":if(k=$2("meta","content",g).get(p+(d.content||""))){for(I=0;I<k.length;I++)if(N=k[I],N.getAttribute("content")===(d.content==null?null:""+d.content)&&N.getAttribute("name")===(d.name==null?null:d.name)&&N.getAttribute("property")===(d.property==null?null:d.property)&&N.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&N.getAttribute("charset")===(d.charSet==null?null:d.charSet)){k.splice(I,1);break t}}N=g.createElement(p),qr(N,p,d),g.head.appendChild(N);break;default:throw Error(r(468,p))}N[Cr]=i,xt(N),p=N}i.stateNode=p}else q2(g,i.type,i.stateNode);else i.stateNode=B2(g,p,i.memoizedProps);else N!==p?(N===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):N.count--,p===null?q2(g,i.type,i.stateNode):B2(g,p,i.memoizedProps)):p===null&&i.stateNode!==null&&Vx(i,i.memoizedProps,d.memoizedProps)}break;case 27:un(o,i),dn(i),p&512&&(jr||d===null||La(d,d.return)),d!==null&&p&4&&Vx(i,i.memoizedProps,d.memoizedProps);break;case 5:if(un(o,i),dn(i),p&512&&(jr||d===null||La(d,d.return)),i.flags&32){g=i.stateNode;try{so(g,"")}catch(Te){Dt(i,i.return,Te)}}p&4&&i.stateNode!=null&&(g=i.memoizedProps,Vx(i,g,d!==null?d.memoizedProps:g)),p&1024&&(Wx=!0);break;case 6:if(un(o,i),dn(i),p&4){if(i.stateNode===null)throw Error(r(162));p=i.memoizedProps,d=i.stateNode;try{d.nodeValue=p}catch(Te){Dt(i,i.return,Te)}}break;case 3:if(em=null,g=fa,fa=Zf(o.containerInfo),un(o,i),fa=g,dn(i),p&4&&d!==null&&d.memoizedState.isDehydrated)try{zo(o.containerInfo)}catch(Te){Dt(i,i.return,Te)}Wx&&(Wx=!1,qS(i));break;case 4:p=fa,fa=Zf(i.stateNode.containerInfo),un(o,i),dn(i),fa=p;break;case 12:un(o,i),dn(i);break;case 31:un(o,i),dn(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,zf(i,p)));break;case 13:un(o,i),dn(i),i.child.flags&8192&&i.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Bf=St()),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,zf(i,p)));break;case 22:g=i.memoizedState!==null;var q=d!==null&&d.memoizedState!==null,ee=Si,de=jr;if(Si=ee||g,jr=de||q,un(o,i),jr=de,Si=ee,dn(i),p&8192)e:for(o=i.stateNode,o._visibility=g?o._visibility&-2:o._visibility|1,g&&(d===null||q||Si||jr||wl(i)),d=null,o=i;;){if(o.tag===5||o.tag===26){if(d===null){q=d=o;try{if(N=q.stateNode,g)k=N.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{I=q.stateNode;var pe=q.memoizedProps.style,re=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;I.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(Te){Dt(q,q.return,Te)}}}else if(o.tag===6){if(d===null){q=o;try{q.stateNode.nodeValue=g?"":q.memoizedProps}catch(Te){Dt(q,q.return,Te)}}}else if(o.tag===18){if(d===null){q=o;try{var se=q.stateNode;g?_2(se,!0):_2(q.stateNode,!1)}catch(Te){Dt(q,q.return,Te)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=i.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,zf(i,d))));break;case 19:un(o,i),dn(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,zf(i,p)));break;case 30:break;case 21:break;default:un(o,i),dn(i)}}function dn(i){var o=i.flags;if(o&2){try{for(var d,p=i.return;p!==null;){if(TS(p)){d=p;break}p=p.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var g=d.stateNode,N=Gx(i);Lf(i,N,g);break;case 5:var k=d.stateNode;d.flags&32&&(so(k,""),d.flags&=-33);var I=Gx(i);Lf(i,I,k);break;case 3:case 4:var q=d.stateNode.containerInfo,ee=Gx(i);Kx(i,ee,q);break;default:throw Error(r(161))}}catch(de){Dt(i,i.return,de)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function qS(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;qS(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Ai(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)RS(i,o.alternate,o),o=o.sibling}function wl(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:ys(4,o,o.return),wl(o);break;case 1:La(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&_S(o,o.return,d),wl(o);break;case 27:ju(o.stateNode);case 26:case 5:La(o,o.return),wl(o);break;case 22:o.memoizedState===null&&wl(o);break;case 30:wl(o);break;default:wl(o)}i=i.sibling}}function Mi(i,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,g=i,N=o,k=N.flags;switch(N.tag){case 0:case 11:case 15:Mi(g,N,d),fu(4,N);break;case 1:if(Mi(g,N,d),p=N,g=p.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(ee){Dt(p,p.return,ee)}if(p=N,g=p.updateQueue,g!==null){var I=p.stateNode;try{var q=g.shared.hiddenCallbacks;if(q!==null)for(g.shared.hiddenCallbacks=null,g=0;g<q.length;g++)bN(q[g],I)}catch(ee){Dt(p,p.return,ee)}}d&&k&64&&ES(N),mu(N,N.return);break;case 27:PS(N);case 26:case 5:Mi(g,N,d),d&&p===null&&k&4&&OS(N),mu(N,N.return);break;case 12:Mi(g,N,d);break;case 31:Mi(g,N,d),d&&k&4&&FS(g,N);break;case 13:Mi(g,N,d),d&&k&4&&BS(g,N);break;case 22:N.memoizedState===null&&Mi(g,N,d),mu(N,N.return);break;case 30:break;default:Mi(g,N,d)}o=o.sibling}}function Qx(i,o){var d=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==d&&(i!=null&&i.refCount++,d!=null&&Jc(d))}function Xx(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Jc(i))}function ma(i,o,d,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)HS(i,o,d,p),o=o.sibling}function HS(i,o,d,p){var g=o.flags;switch(o.tag){case 0:case 11:case 15:ma(i,o,d,p),g&2048&&fu(9,o);break;case 1:ma(i,o,d,p);break;case 3:ma(i,o,d,p),g&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Jc(i)));break;case 12:if(g&2048){ma(i,o,d,p),i=o.stateNode;try{var N=o.memoizedProps,k=N.id,I=N.onPostCommit;typeof I=="function"&&I(k,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(q){Dt(o,o.return,q)}}else ma(i,o,d,p);break;case 31:ma(i,o,d,p);break;case 13:ma(i,o,d,p);break;case 23:break;case 22:N=o.stateNode,k=o.alternate,o.memoizedState!==null?N._visibility&2?ma(i,o,d,p):pu(i,o):N._visibility&2?ma(i,o,d,p):(N._visibility|=2,Mo(i,o,d,p,(o.subtreeFlags&10256)!==0||!1)),g&2048&&Qx(k,o);break;case 24:ma(i,o,d,p),g&2048&&Xx(o.alternate,o);break;default:ma(i,o,d,p)}}function Mo(i,o,d,p,g){for(g=g&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var N=i,k=o,I=d,q=p,ee=k.flags;switch(k.tag){case 0:case 11:case 15:Mo(N,k,I,q,g),fu(8,k);break;case 23:break;case 22:var de=k.stateNode;k.memoizedState!==null?de._visibility&2?Mo(N,k,I,q,g):pu(N,k):(de._visibility|=2,Mo(N,k,I,q,g)),g&&ee&2048&&Qx(k.alternate,k);break;case 24:Mo(N,k,I,q,g),g&&ee&2048&&Xx(k.alternate,k);break;default:Mo(N,k,I,q,g)}o=o.sibling}}function pu(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=i,p=o,g=p.flags;switch(p.tag){case 22:pu(d,p),g&2048&&Qx(p.alternate,p);break;case 24:pu(d,p),g&2048&&Xx(p.alternate,p);break;default:pu(d,p)}o=o.sibling}}var hu=8192;function ko(i,o,d){if(i.subtreeFlags&hu)for(i=i.child;i!==null;)US(i,o,d),i=i.sibling}function US(i,o,d){switch(i.tag){case 26:ko(i,o,d),i.flags&hu&&i.memoizedState!==null&&bL(d,fa,i.memoizedState,i.memoizedProps);break;case 5:ko(i,o,d);break;case 3:case 4:var p=fa;fa=Zf(i.stateNode.containerInfo),ko(i,o,d),fa=p;break;case 22:i.memoizedState===null&&(p=i.alternate,p!==null&&p.memoizedState!==null?(p=hu,hu=16777216,ko(i,o,d),hu=p):ko(i,o,d));break;default:ko(i,o,d)}}function YS(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function vu(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var p=o[d];Or=p,GS(p,i)}YS(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)VS(i),i=i.sibling}function VS(i){switch(i.tag){case 0:case 11:case 15:vu(i),i.flags&2048&&ys(9,i,i.return);break;case 3:vu(i);break;case 12:vu(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Ff(i)):vu(i);break;default:vu(i)}}function Ff(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var p=o[d];Or=p,GS(p,i)}YS(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:ys(8,o,o.return),Ff(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,Ff(o));break;default:Ff(o)}i=i.sibling}}function GS(i,o){for(;Or!==null;){var d=Or;switch(d.tag){case 0:case 11:case 15:ys(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Jc(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,Or=p;else e:for(d=i;Or!==null;){p=Or;var g=p.sibling,N=p.return;if(LS(p),p===d){Or=null;break e}if(g!==null){g.return=N,Or=g;break e}Or=N}}}var PR={getCacheForType:function(i){var o=Br(br),d=o.data.get(i);return d===void 0&&(d=i(),o.data.set(i,d)),d},cacheSignal:function(){return Br(br).controller.signal}},IR=typeof WeakMap=="function"?WeakMap:Map,Ct=0,qt=null,lt=null,dt=0,kt=0,Dn=null,ws=!1,Do=!1,Zx=!1,ki=0,lr=0,js=0,jl=0,Jx=0,En=0,Eo=0,xu=null,fn=null,e0=!1,Bf=0,KS=0,$f=1/0,qf=null,Ns=null,Ar=0,Ss=null,_o=null,Di=0,t0=0,r0=null,WS=null,gu=0,n0=null;function _n(){return(Ct&2)!==0&&dt!==0?dt&-dt:$.T!==null?c0():il()}function QS(){if(En===0)if((dt&536870912)===0||ht){var i=Be;Be<<=1,(Be&3932160)===0&&(Be=262144),En=i}else En=536870912;return i=Mn.current,i!==null&&(i.flags|=32),En}function mn(i,o,d){(i===qt&&(kt===2||kt===9)||i.cancelPendingCommit!==null)&&(Oo(i,0),Cs(i,dt,En,!1)),gr(i,d),((Ct&2)===0||i!==qt)&&(i===qt&&((Ct&2)===0&&(jl|=d),lr===4&&Cs(i,dt,En,!1)),za(i))}function XS(i,o,d){if((Ct&6)!==0)throw Error(r(327));var p=!d&&(o&127)===0&&(o&i.expiredLanes)===0||We(i,o),g=p?zR(i,o):i0(i,o,!0),N=p;do{if(g===0){Do&&!p&&Cs(i,o,0,!1);break}else{if(d=i.current.alternate,N&&!RR(d)){g=i0(i,o,!1),N=!1;continue}if(g===2){if(N=o,i.errorRecoveryDisabledLanes&N)var k=0;else k=i.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){o=k;e:{var I=i;g=xu;var q=I.current.memoizedState.isDehydrated;if(q&&(Oo(I,k).flags|=256),k=i0(I,k,!1),k!==2){if(Zx&&!q){I.errorRecoveryDisabledLanes|=N,jl|=N,g=4;break e}N=fn,fn=g,N!==null&&(fn===null?fn=N:fn.push.apply(fn,N))}g=k}if(N=!1,g!==2)continue}}if(g===1){Oo(i,0),Cs(i,o,0,!0);break}e:{switch(p=i,N=g,N){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Cs(p,o,En,!ws);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(g=Bf+300-St(),10<g)){if(Cs(p,o,En,!ws),Se(p,0,!0)!==0)break e;Di=o,p.timeoutHandle=k2(ZS.bind(null,p,d,fn,qf,e0,o,En,jl,Eo,ws,N,"Throttled",-0,0),g);break e}ZS(p,d,fn,qf,e0,o,En,jl,Eo,ws,N,null,-0,0)}}break}while(!0);za(i)}function ZS(i,o,d,p,g,N,k,I,q,ee,de,pe,re,se){if(i.timeoutHandle=-1,pe=o.subtreeFlags,pe&8192||(pe&16785408)===16785408){pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pi},US(o,N,pe);var Te=(N&62914560)===N?Bf-St():(N&4194048)===N?KS-St():0;if(Te=yL(pe,Te),Te!==null){Di=N,i.cancelPendingCommit=Te(s2.bind(null,i,o,N,d,p,g,k,I,q,de,pe,null,re,se)),Cs(i,N,k,!ee);return}}s2(i,o,N,d,p,g,k,I,q)}function RR(i){for(var o=i;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var g=d[p],N=g.getSnapshot;g=g.value;try{if(!Cn(N(),g))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Cs(i,o,d,p){o&=~Jx,o&=~jl,i.suspendedLanes|=o,i.pingedLanes&=~o,p&&(i.warmLanes|=o),p=i.expirationTimes;for(var g=o;0<g;){var N=31-ie(g),k=1<<N;p[N]=-1,g&=~k}d!==0&&_r(i,d,o)}function Hf(){return(Ct&6)===0?(bu(0),!1):!0}function a0(){if(lt!==null){if(kt===0)var i=lt.return;else i=lt,gi=ml=null,yx(i),jo=null,tu=0,i=lt;for(;i!==null;)DS(i.alternate,i),i=i.return;lt=null}}function Oo(i,o){var d=i.timeoutHandle;d!==-1&&(i.timeoutHandle=-1,rL(d)),d=i.cancelPendingCommit,d!==null&&(i.cancelPendingCommit=null,d()),Di=0,a0(),qt=i,lt=d=vi(i.current,null),dt=o,kt=0,Dn=null,ws=!1,Do=We(i,o),Zx=!1,Eo=En=Jx=jl=js=lr=0,fn=xu=null,e0=!1,(o&8)!==0&&(o|=o&32);var p=i.entangledLanes;if(p!==0)for(i=i.entanglements,p&=o;0<p;){var g=31-ie(p),N=1<<g;o|=i[g],p&=~N}return ki=o,uf(),d}function JS(i,o){tt=null,$.H=cu,o===wo||o===gf?(o=hN(),kt=3):o===ox?(o=hN(),kt=4):kt=o===Rx?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Dn=o,lt===null&&(lr=1,Of(i,Gn(o,i.current)))}function e2(){var i=Mn.current;return i===null?!0:(dt&4194048)===dt?Xn===null:(dt&62914560)===dt||(dt&536870912)!==0?i===Xn:!1}function t2(){var i=$.H;return $.H=cu,i===null?cu:i}function r2(){var i=$.A;return $.A=PR,i}function Uf(){lr=4,ws||(dt&4194048)!==dt&&Mn.current!==null||(Do=!0),(js&134217727)===0&&(jl&134217727)===0||qt===null||Cs(qt,dt,En,!1)}function i0(i,o,d){var p=Ct;Ct|=2;var g=t2(),N=r2();(qt!==i||dt!==o)&&(qf=null,Oo(i,o)),o=!1;var k=lr;e:do try{if(kt!==0&&lt!==null){var I=lt,q=Dn;switch(kt){case 8:a0(),k=6;break e;case 3:case 2:case 9:case 6:Mn.current===null&&(o=!0);var ee=kt;if(kt=0,Dn=null,To(i,I,q,ee),d&&Do){k=0;break e}break;default:ee=kt,kt=0,Dn=null,To(i,I,q,ee)}}LR(),k=lr;break}catch(de){JS(i,de)}while(!0);return o&&i.shellSuspendCounter++,gi=ml=null,Ct=p,$.H=g,$.A=N,lt===null&&(qt=null,dt=0,uf()),k}function LR(){for(;lt!==null;)n2(lt)}function zR(i,o){var d=Ct;Ct|=2;var p=t2(),g=r2();qt!==i||dt!==o?(qf=null,$f=St()+500,Oo(i,o)):Do=We(i,o);e:do try{if(kt!==0&&lt!==null){o=lt;var N=Dn;t:switch(kt){case 1:kt=0,Dn=null,To(i,o,N,1);break;case 2:case 9:if(mN(N)){kt=0,Dn=null,a2(o);break}o=function(){kt!==2&&kt!==9||qt!==i||(kt=7),za(i)},N.then(o,o);break e;case 3:kt=7;break e;case 4:kt=5;break e;case 7:mN(N)?(kt=0,Dn=null,a2(o)):(kt=0,Dn=null,To(i,o,N,7));break;case 5:var k=null;switch(lt.tag){case 26:k=lt.memoizedState;case 5:case 27:var I=lt;if(k?H2(k):I.stateNode.complete){kt=0,Dn=null;var q=I.sibling;if(q!==null)lt=q;else{var ee=I.return;ee!==null?(lt=ee,Yf(ee)):lt=null}break t}}kt=0,Dn=null,To(i,o,N,5);break;case 6:kt=0,Dn=null,To(i,o,N,6);break;case 8:a0(),lr=6;break e;default:throw Error(r(462))}}FR();break}catch(de){JS(i,de)}while(!0);return gi=ml=null,$.H=p,$.A=g,Ct=d,lt!==null?0:(qt=null,dt=0,uf(),lr)}function FR(){for(;lt!==null&&!Bt();)n2(lt)}function n2(i){var o=MS(i.alternate,i,ki);i.memoizedProps=i.pendingProps,o===null?Yf(i):lt=o}function a2(i){var o=i,d=o.alternate;switch(o.tag){case 15:case 0:o=wS(d,o,o.pendingProps,o.type,void 0,dt);break;case 11:o=wS(d,o,o.pendingProps,o.type.render,o.ref,dt);break;case 5:yx(o);default:DS(d,o),o=lt=rN(o,ki),o=MS(d,o,ki)}i.memoizedProps=i.pendingProps,o===null?Yf(i):lt=o}function To(i,o,d,p){gi=ml=null,yx(o),jo=null,tu=0;var g=o.return;try{if(MR(i,g,o,d,dt)){lr=1,Of(i,Gn(d,i.current)),lt=null;return}}catch(N){if(g!==null)throw lt=g,N;lr=1,Of(i,Gn(d,i.current)),lt=null;return}o.flags&32768?(ht||p===1?i=!0:Do||(dt&536870912)!==0?i=!1:(ws=i=!0,(p===2||p===9||p===3||p===6)&&(p=Mn.current,p!==null&&p.tag===13&&(p.flags|=16384))),i2(o,i)):Yf(o)}function Yf(i){var o=i;do{if((o.flags&32768)!==0){i2(o,ws);return}i=o.return;var d=ER(o.alternate,o,ki);if(d!==null){lt=d;return}if(o=o.sibling,o!==null){lt=o;return}lt=o=i}while(o!==null);lr===0&&(lr=5)}function i2(i,o){do{var d=_R(i.alternate,i);if(d!==null){d.flags&=32767,lt=d;return}if(d=i.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(i=i.sibling,i!==null)){lt=i;return}lt=i=d}while(i!==null);lr=6,lt=null}function s2(i,o,d,p,g,N,k,I,q){i.cancelPendingCommit=null;do Vf();while(Ar!==0);if((Ct&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(N=o.lanes|o.childLanes,N|=Gv,Ae(i,d,N,k,I,q),i===qt&&(lt=qt=null,dt=0),_o=o,Ss=i,Di=d,t0=N,r0=g,WS=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,HR(xe,function(){return d2(),null})):(i.callbackNode=null,i.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=$.T,$.T=null,g=G.p,G.p=2,k=Ct,Ct|=4;try{OR(i,o,d)}finally{Ct=k,G.p=g,$.T=p}}Ar=1,l2(),o2(),c2()}}function l2(){if(Ar===1){Ar=0;var i=Ss,o=_o,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=$.T,$.T=null;var p=G.p;G.p=2;var g=Ct;Ct|=4;try{$S(o,i);var N=x0,k=Gj(i.containerInfo),I=N.focusedElem,q=N.selectionRange;if(k!==I&&I&&I.ownerDocument&&Vj(I.ownerDocument.documentElement,I)){if(q!==null&&qv(I)){var ee=q.start,de=q.end;if(de===void 0&&(de=ee),"selectionStart"in I)I.selectionStart=ee,I.selectionEnd=Math.min(de,I.value.length);else{var pe=I.ownerDocument||document,re=pe&&pe.defaultView||window;if(re.getSelection){var se=re.getSelection(),Te=I.textContent.length,Ve=Math.min(q.start,Te),Lt=q.end===void 0?Ve:Math.min(q.end,Te);!se.extend&&Ve>Lt&&(k=Lt,Lt=Ve,Ve=k);var V=Yj(I,Ve),U=Yj(I,Lt);if(V&&U&&(se.rangeCount!==1||se.anchorNode!==V.node||se.anchorOffset!==V.offset||se.focusNode!==U.node||se.focusOffset!==U.offset)){var J=pe.createRange();J.setStart(V.node,V.offset),se.removeAllRanges(),Ve>Lt?(se.addRange(J),se.extend(U.node,U.offset)):(J.setEnd(U.node,U.offset),se.addRange(J))}}}}for(pe=[],se=I;se=se.parentNode;)se.nodeType===1&&pe.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<pe.length;I++){var fe=pe[I];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}am=!!v0,x0=v0=null}finally{Ct=g,G.p=p,$.T=d}}i.current=o,Ar=2}}function o2(){if(Ar===2){Ar=0;var i=Ss,o=_o,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=$.T,$.T=null;var p=G.p;G.p=2;var g=Ct;Ct|=4;try{RS(i,o.alternate,o)}finally{Ct=g,G.p=p,$.T=d}}Ar=3}}function c2(){if(Ar===4||Ar===3){Ar=0,Ut();var i=Ss,o=_o,d=Di,p=WS;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Ar=5:(Ar=0,_o=Ss=null,u2(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(Ns=null),Oa(d),o=o.stateNode,De&&typeof De.onCommitFiberRoot=="function")try{De.onCommitFiberRoot(Ce,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=$.T,g=G.p,G.p=2,$.T=null;try{for(var N=i.onRecoverableError,k=0;k<p.length;k++){var I=p[k];N(I.value,{componentStack:I.stack})}}finally{$.T=o,G.p=g}}(Di&3)!==0&&Vf(),za(i),g=i.pendingLanes,(d&261930)!==0&&(g&42)!==0?i===n0?gu++:(gu=0,n0=i):gu=0,bu(0)}}function u2(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Jc(o)))}function Vf(){return l2(),o2(),c2(),d2()}function d2(){if(Ar!==5)return!1;var i=Ss,o=t0;t0=0;var d=Oa(Di),p=$.T,g=G.p;try{G.p=32>d?32:d,$.T=null,d=r0,r0=null;var N=Ss,k=Di;if(Ar=0,_o=Ss=null,Di=0,(Ct&6)!==0)throw Error(r(331));var I=Ct;if(Ct|=4,VS(N.current),HS(N,N.current,k,d),Ct=I,bu(0,!1),De&&typeof De.onPostCommitFiberRoot=="function")try{De.onPostCommitFiberRoot(Ce,N)}catch{}return!0}finally{G.p=g,$.T=p,u2(i,o)}}function f2(i,o,d){o=Gn(d,o),o=Ix(i.stateNode,o,2),i=xs(i,o,2),i!==null&&(gr(i,2),za(i))}function Dt(i,o,d){if(i.tag===3)f2(i,i,d);else for(;o!==null;){if(o.tag===3){f2(o,i,d);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ns===null||!Ns.has(p))){i=Gn(d,i),d=mS(2),p=xs(o,d,2),p!==null&&(pS(d,p,o,i),gr(p,2),za(p));break}}o=o.return}}function s0(i,o,d){var p=i.pingCache;if(p===null){p=i.pingCache=new IR;var g=new Set;p.set(o,g)}else g=p.get(o),g===void 0&&(g=new Set,p.set(o,g));g.has(d)||(Zx=!0,g.add(d),i=BR.bind(null,i,o,d),o.then(i,i))}function BR(i,o,d){var p=i.pingCache;p!==null&&p.delete(o),i.pingedLanes|=i.suspendedLanes&d,i.warmLanes&=~d,qt===i&&(dt&d)===d&&(lr===4||lr===3&&(dt&62914560)===dt&&300>St()-Bf?(Ct&2)===0&&Oo(i,0):Jx|=d,Eo===dt&&(Eo=0)),za(i)}function m2(i,o){o===0&&(o=Pt()),i=ul(i,o),i!==null&&(gr(i,o),za(i))}function $R(i){var o=i.memoizedState,d=0;o!==null&&(d=o.retryLane),m2(i,d)}function qR(i,o){var d=0;switch(i.tag){case 31:case 13:var p=i.stateNode,g=i.memoizedState;g!==null&&(d=g.retryLane);break;case 19:p=i.stateNode;break;case 22:p=i.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(o),m2(i,d)}function HR(i,o){return Ye(i,o)}var Gf=null,Po=null,l0=!1,Kf=!1,o0=!1,As=0;function za(i){i!==Po&&i.next===null&&(Po===null?Gf=Po=i:Po=Po.next=i),Kf=!0,l0||(l0=!0,YR())}function bu(i,o){if(!o0&&Kf){o0=!0;do for(var d=!1,p=Gf;p!==null;){if(i!==0){var g=p.pendingLanes;if(g===0)var N=0;else{var k=p.suspendedLanes,I=p.pingedLanes;N=(1<<31-ie(42|i)+1)-1,N&=g&~(k&~I),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(d=!0,x2(p,N))}else N=dt,N=Se(p,p===qt?N:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(N&3)===0||We(p,N)||(d=!0,x2(p,N));p=p.next}while(d);o0=!1}}function UR(){p2()}function p2(){Kf=l0=!1;var i=0;As!==0&&tL()&&(i=As);for(var o=St(),d=null,p=Gf;p!==null;){var g=p.next,N=h2(p,o);N===0?(p.next=null,d===null?Gf=g:d.next=g,g===null&&(Po=d)):(d=p,(i!==0||(N&3)!==0)&&(Kf=!0)),p=g}Ar!==0&&Ar!==5||bu(i),As!==0&&(As=0)}function h2(i,o){for(var d=i.suspendedLanes,p=i.pingedLanes,g=i.expirationTimes,N=i.pendingLanes&-62914561;0<N;){var k=31-ie(N),I=1<<k,q=g[k];q===-1?((I&d)===0||(I&p)!==0)&&(g[k]=et(I,o)):q<=o&&(i.expiredLanes|=I),N&=~I}if(o=qt,d=dt,d=Se(i,i===o?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p=i.callbackNode,d===0||i===o&&(kt===2||kt===9)||i.cancelPendingCommit!==null)return p!==null&&p!==null&&at(p),i.callbackNode=null,i.callbackPriority=0;if((d&3)===0||We(i,d)){if(o=d&-d,o===i.callbackPriority)return o;switch(p!==null&&at(p),Oa(d)){case 2:case 8:d=ue;break;case 32:d=xe;break;case 268435456:d=$t;break;default:d=xe}return p=v2.bind(null,i),d=Ye(d,p),i.callbackPriority=o,i.callbackNode=d,o}return p!==null&&p!==null&&at(p),i.callbackPriority=2,i.callbackNode=null,2}function v2(i,o){if(Ar!==0&&Ar!==5)return i.callbackNode=null,i.callbackPriority=0,null;var d=i.callbackNode;if(Vf()&&i.callbackNode!==d)return null;var p=dt;return p=Se(i,i===qt?p:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p===0?null:(XS(i,p,o),h2(i,St()),i.callbackNode!=null&&i.callbackNode===d?v2.bind(null,i):null)}function x2(i,o){if(Vf())return null;XS(i,o,!0)}function YR(){nL(function(){(Ct&6)!==0?Ye(is,UR):p2()})}function c0(){if(As===0){var i=bo;i===0&&(i=Xt,Xt<<=1,(Xt&261888)===0&&(Xt=256)),As=i}return As}function g2(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:tf(""+i)}function b2(i,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,i.id&&d.setAttribute("form",i.id),o.parentNode.insertBefore(d,o),i=new FormData(i),d.parentNode.removeChild(d),i}function VR(i,o,d,p,g){if(o==="submit"&&d&&d.stateNode===g){var N=g2((g[Gr]||null).action),k=p.submitter;k&&(o=(o=k[Gr]||null)?g2(o.formAction):k.getAttribute("formAction"),o!==null&&(N=o,k=null));var I=new sf("action","action",null,p,g);i.push({event:I,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(As!==0){var q=k?b2(g,k):new FormData(g);Dx(d,{pending:!0,data:q,method:g.method,action:N},null,q)}}else typeof N=="function"&&(I.preventDefault(),q=k?b2(g,k):new FormData(g),Dx(d,{pending:!0,data:q,method:g.method,action:N},N,q))},currentTarget:g}]})}}for(var u0=0;u0<Vv.length;u0++){var d0=Vv[u0],GR=d0.toLowerCase(),KR=d0[0].toUpperCase()+d0.slice(1);da(GR,"on"+KR)}da(Qj,"onAnimationEnd"),da(Xj,"onAnimationIteration"),da(Zj,"onAnimationStart"),da("dblclick","onDoubleClick"),da("focusin","onFocus"),da("focusout","onBlur"),da(uR,"onTransitionRun"),da(dR,"onTransitionStart"),da(fR,"onTransitionCancel"),da(Jj,"onTransitionEnd"),ln("onMouseEnter",["mouseout","mouseover"]),ln("onMouseLeave",["mouseout","mouseover"]),ln("onPointerEnter",["pointerout","pointerover"]),ln("onPointerLeave",["pointerout","pointerover"]),Zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yu));function y2(i,o){o=(o&4)!==0;for(var d=0;d<i.length;d++){var p=i[d],g=p.event;p=p.listeners;e:{var N=void 0;if(o)for(var k=p.length-1;0<=k;k--){var I=p[k],q=I.instance,ee=I.currentTarget;if(I=I.listener,q!==N&&g.isPropagationStopped())break e;N=I,g.currentTarget=ee;try{N(g)}catch(de){cf(de)}g.currentTarget=null,N=q}else for(k=0;k<p.length;k++){if(I=p[k],q=I.instance,ee=I.currentTarget,I=I.listener,q!==N&&g.isPropagationStopped())break e;N=I,g.currentTarget=ee;try{N(g)}catch(de){cf(de)}g.currentTarget=null,N=q}}}}function ot(i,o){var d=o[Fc];d===void 0&&(d=o[Fc]=new Set);var p=i+"__bubble";d.has(p)||(w2(o,i,2,!1),d.add(p))}function f0(i,o,d){var p=0;o&&(p|=4),w2(d,i,p,o)}var Wf="_reactListening"+Math.random().toString(36).slice(2);function m0(i){if(!i[Wf]){i[Wf]=!0,sn.forEach(function(d){d!=="selectionchange"&&(WR.has(d)||f0(d,!1,i),f0(d,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Wf]||(o[Wf]=!0,f0("selectionchange",!1,o))}}function w2(i,o,d,p){switch(Q2(o)){case 2:var g=NL;break;case 8:g=SL;break;default:g=k0}d=g.bind(null,o,d,i),g=void 0,!Tv||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),p?g!==void 0?i.addEventListener(o,d,{capture:!0,passive:g}):i.addEventListener(o,d,!0):g!==void 0?i.addEventListener(o,d,{passive:g}):i.addEventListener(o,d,!1)}function p0(i,o,d,p,g){var N=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var k=p.tag;if(k===3||k===4){var I=p.stateNode.containerInfo;if(I===g)break;if(k===4)for(k=p.return;k!==null;){var q=k.tag;if((q===3||q===4)&&k.stateNode.containerInfo===g)return;k=k.return}for(;I!==null;){if(k=os(I),k===null)return;if(q=k.tag,q===5||q===6||q===26||q===27){p=N=k;continue e}I=I.parentNode}}p=p.return}Aj(function(){var ee=N,de=_v(d),pe=[];e:{var re=eN.get(i);if(re!==void 0){var se=sf,Te=i;switch(i){case"keypress":if(nf(d)===0)break e;case"keydown":case"keyup":se=qI;break;case"focusin":Te="focus",se=Lv;break;case"focusout":Te="blur",se=Lv;break;case"beforeblur":case"afterblur":se=Lv;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Dj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=EI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=YI;break;case Qj:case Xj:case Zj:se=TI;break;case Jj:se=GI;break;case"scroll":case"scrollend":se=kI;break;case"wheel":se=WI;break;case"copy":case"cut":case"paste":se=II;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=_j;break;case"toggle":case"beforetoggle":se=XI}var Ve=(o&4)!==0,Lt=!Ve&&(i==="scroll"||i==="scrollend"),V=Ve?re!==null?re+"Capture":null:re;Ve=[];for(var U=ee,J;U!==null;){var fe=U;if(J=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||J===null||V===null||(fe=qc(U,V),fe!=null&&Ve.push(wu(U,fe,J))),Lt)break;U=U.return}0<Ve.length&&(re=new se(re,Te,null,d,de),pe.push({event:re,listeners:Ve}))}}if((o&7)===0){e:{if(re=i==="mouseover"||i==="pointerover",se=i==="mouseout"||i==="pointerout",re&&d!==Ev&&(Te=d.relatedTarget||d.fromElement)&&(os(Te)||Te[ls]))break e;if((se||re)&&(re=de.window===de?de:(re=de.ownerDocument)?re.defaultView||re.parentWindow:window,se?(Te=d.relatedTarget||d.toElement,se=ee,Te=Te?os(Te):null,Te!==null&&(Lt=s(Te),Ve=Te.tag,Te!==Lt||Ve!==5&&Ve!==27&&Ve!==6)&&(Te=null)):(se=null,Te=ee),se!==Te)){if(Ve=Dj,fe="onMouseLeave",V="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(Ve=_j,fe="onPointerLeave",V="onPointerEnter",U="pointer"),Lt=se==null?re:H(se),J=Te==null?re:H(Te),re=new Ve(fe,U+"leave",se,d,de),re.target=Lt,re.relatedTarget=J,fe=null,os(de)===ee&&(Ve=new Ve(V,U+"enter",Te,d,de),Ve.target=J,Ve.relatedTarget=Lt,fe=Ve),Lt=fe,se&&Te)t:{for(Ve=QR,V=se,U=Te,J=0,fe=V;fe;fe=Ve(fe))J++;fe=0;for(var $e=U;$e;$e=Ve($e))fe++;for(;0<J-fe;)V=Ve(V),J--;for(;0<fe-J;)U=Ve(U),fe--;for(;J--;){if(V===U||U!==null&&V===U.alternate){Ve=V;break t}V=Ve(V),U=Ve(U)}Ve=null}else Ve=null;se!==null&&j2(pe,re,se,Ve,!1),Te!==null&&Lt!==null&&j2(pe,Lt,Te,Ve,!0)}}e:{if(re=ee?H(ee):window,se=re.nodeName&&re.nodeName.toLowerCase(),se==="select"||se==="input"&&re.type==="file")var bt=Fj;else if(Lj(re))if(Bj)bt=lR;else{bt=iR;var Re=aR}else se=re.nodeName,!se||se.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?ee&&Dv(ee.elementType)&&(bt=Fj):bt=sR;if(bt&&(bt=bt(i,ee))){zj(pe,bt,d,de);break e}Re&&Re(i,re,ee),i==="focusout"&&ee&&re.type==="number"&&ee.memoizedProps.value!=null&&kv(re,"number",re.value)}switch(Re=ee?H(ee):window,i){case"focusin":(Lj(Re)||Re.contentEditable==="true")&&(uo=Re,Hv=ee,Qc=null);break;case"focusout":Qc=Hv=uo=null;break;case"mousedown":Uv=!0;break;case"contextmenu":case"mouseup":case"dragend":Uv=!1,Kj(pe,d,de);break;case"selectionchange":if(cR)break;case"keydown":case"keyup":Kj(pe,d,de)}var rt;if(Fv)e:{switch(i){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else co?Ij(i,d)&&(ft="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(ft="onCompositionStart");ft&&(Oj&&d.locale!=="ko"&&(co||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&co&&(rt=Mj()):(us=de,Pv="value"in us?us.value:us.textContent,co=!0)),Re=Qf(ee,ft),0<Re.length&&(ft=new Ej(ft,i,null,d,de),pe.push({event:ft,listeners:Re}),rt?ft.data=rt:(rt=Rj(d),rt!==null&&(ft.data=rt)))),(rt=JI?eR(i,d):tR(i,d))&&(ft=Qf(ee,"onBeforeInput"),0<ft.length&&(Re=new Ej("onBeforeInput","beforeinput",null,d,de),pe.push({event:Re,listeners:ft}),Re.data=rt)),VR(pe,i,ee,d,de)}y2(pe,o)})}function wu(i,o,d){return{instance:i,listener:o,currentTarget:d}}function Qf(i,o){for(var d=o+"Capture",p=[];i!==null;){var g=i,N=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||N===null||(g=qc(i,d),g!=null&&p.unshift(wu(i,g,N)),g=qc(i,o),g!=null&&p.push(wu(i,g,N))),i.tag===3)return p;i=i.return}return[]}function QR(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function j2(i,o,d,p,g){for(var N=o._reactName,k=[];d!==null&&d!==p;){var I=d,q=I.alternate,ee=I.stateNode;if(I=I.tag,q!==null&&q===p)break;I!==5&&I!==26&&I!==27||ee===null||(q=ee,g?(ee=qc(d,N),ee!=null&&k.unshift(wu(d,ee,q))):g||(ee=qc(d,N),ee!=null&&k.push(wu(d,ee,q)))),d=d.return}k.length!==0&&i.push({event:o,listeners:k})}var XR=/\r\n?/g,ZR=/\u0000|\uFFFD/g;function N2(i){return(typeof i=="string"?i:""+i).replace(XR,`
`).replace(ZR,"")}function S2(i,o){return o=N2(o),N2(i)===o}function Rt(i,o,d,p,g,N){switch(d){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||so(i,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&so(i,""+p);break;case"className":Jd(i,"class",p);break;case"tabIndex":Jd(i,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Jd(i,d,p);break;case"style":Sj(i,p,N);break;case"data":if(o!=="object"){Jd(i,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||d!=="href")){i.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(d);break}p=tf(""+p),i.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){i.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(d==="formAction"?(o!=="input"&&Rt(i,o,"name",g.name,g,null),Rt(i,o,"formEncType",g.formEncType,g,null),Rt(i,o,"formMethod",g.formMethod,g,null),Rt(i,o,"formTarget",g.formTarget,g,null)):(Rt(i,o,"encType",g.encType,g,null),Rt(i,o,"method",g.method,g,null),Rt(i,o,"target",g.target,g,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(d);break}p=tf(""+p),i.setAttribute(d,p);break;case"onClick":p!=null&&(i.onclick=pi);break;case"onScroll":p!=null&&ot("scroll",i);break;case"onScrollEnd":p!=null&&ot("scrollend",i);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(d=p.__html,d!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=d}}break;case"multiple":i.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":i.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){i.removeAttribute("xlink:href");break}d=tf(""+p),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,""+p):i.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,""):i.removeAttribute(d);break;case"capture":case"download":p===!0?i.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,p):i.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?i.setAttribute(d,p):i.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?i.removeAttribute(d):i.setAttribute(d,p);break;case"popover":ot("beforetoggle",i),ot("toggle",i),Zd(i,"popover",p);break;case"xlinkActuate":mi(i,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":mi(i,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":mi(i,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":mi(i,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":mi(i,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":mi(i,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":mi(i,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":mi(i,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":mi(i,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Zd(i,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=AI.get(d)||d,Zd(i,d,p))}}function h0(i,o,d,p,g,N){switch(d){case"style":Sj(i,p,N);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(d=p.__html,d!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=d}}break;case"children":typeof p=="string"?so(i,p):(typeof p=="number"||typeof p=="bigint")&&so(i,""+p);break;case"onScroll":p!=null&&ot("scroll",i);break;case"onScrollEnd":p!=null&&ot("scrollend",i);break;case"onClick":p!=null&&(i.onclick=pi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ta.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(g=d.endsWith("Capture"),o=d.slice(2,g?d.length-7:void 0),N=i[Gr]||null,N=N!=null?N[d]:null,typeof N=="function"&&i.removeEventListener(o,N,g),typeof p=="function")){typeof N!="function"&&N!==null&&(d in i?i[d]=null:i.hasAttribute(d)&&i.removeAttribute(d)),i.addEventListener(o,p,g);break e}d in i?i[d]=p:p===!0?i.setAttribute(d,""):Zd(i,d,p)}}}function qr(i,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ot("error",i),ot("load",i);var p=!1,g=!1,N;for(N in d)if(d.hasOwnProperty(N)){var k=d[N];if(k!=null)switch(N){case"src":p=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Rt(i,o,N,k,d,null)}}g&&Rt(i,o,"srcSet",d.srcSet,d,null),p&&Rt(i,o,"src",d.src,d,null);return;case"input":ot("invalid",i);var I=N=k=g=null,q=null,ee=null;for(p in d)if(d.hasOwnProperty(p)){var de=d[p];if(de!=null)switch(p){case"name":g=de;break;case"type":k=de;break;case"checked":q=de;break;case"defaultChecked":ee=de;break;case"value":N=de;break;case"defaultValue":I=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,o));break;default:Rt(i,o,p,de,d,null)}}yj(i,N,I,q,ee,k,g,!1);return;case"select":ot("invalid",i),p=k=N=null;for(g in d)if(d.hasOwnProperty(g)&&(I=d[g],I!=null))switch(g){case"value":N=I;break;case"defaultValue":k=I;break;case"multiple":p=I;default:Rt(i,o,g,I,d,null)}o=N,d=k,i.multiple=!!p,o!=null?io(i,!!p,o,!1):d!=null&&io(i,!!p,d,!0);return;case"textarea":ot("invalid",i),N=g=p=null;for(k in d)if(d.hasOwnProperty(k)&&(I=d[k],I!=null))switch(k){case"value":p=I;break;case"defaultValue":g=I;break;case"children":N=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(91));break;default:Rt(i,o,k,I,d,null)}jj(i,p,g,N);return;case"option":for(q in d)d.hasOwnProperty(q)&&(p=d[q],p!=null)&&(q==="selected"?i.selected=p&&typeof p!="function"&&typeof p!="symbol":Rt(i,o,q,p,d,null));return;case"dialog":ot("beforetoggle",i),ot("toggle",i),ot("cancel",i),ot("close",i);break;case"iframe":case"object":ot("load",i);break;case"video":case"audio":for(p=0;p<yu.length;p++)ot(yu[p],i);break;case"image":ot("error",i),ot("load",i);break;case"details":ot("toggle",i);break;case"embed":case"source":case"link":ot("error",i),ot("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in d)if(d.hasOwnProperty(ee)&&(p=d[ee],p!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Rt(i,o,ee,p,d,null)}return;default:if(Dv(o)){for(de in d)d.hasOwnProperty(de)&&(p=d[de],p!==void 0&&h0(i,o,de,p,d,void 0));return}}for(I in d)d.hasOwnProperty(I)&&(p=d[I],p!=null&&Rt(i,o,I,p,d,null))}function JR(i,o,d,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,N=null,k=null,I=null,q=null,ee=null,de=null;for(se in d){var pe=d[se];if(d.hasOwnProperty(se)&&pe!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":q=pe;default:p.hasOwnProperty(se)||Rt(i,o,se,null,p,pe)}}for(var re in p){var se=p[re];if(pe=d[re],p.hasOwnProperty(re)&&(se!=null||pe!=null))switch(re){case"type":N=se;break;case"name":g=se;break;case"checked":ee=se;break;case"defaultChecked":de=se;break;case"value":k=se;break;case"defaultValue":I=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,o));break;default:se!==pe&&Rt(i,o,re,se,p,pe)}}Mv(i,k,I,q,ee,de,N,g);return;case"select":se=k=I=re=null;for(N in d)if(q=d[N],d.hasOwnProperty(N)&&q!=null)switch(N){case"value":break;case"multiple":se=q;default:p.hasOwnProperty(N)||Rt(i,o,N,null,p,q)}for(g in p)if(N=p[g],q=d[g],p.hasOwnProperty(g)&&(N!=null||q!=null))switch(g){case"value":re=N;break;case"defaultValue":I=N;break;case"multiple":k=N;default:N!==q&&Rt(i,o,g,N,p,q)}o=I,d=k,p=se,re!=null?io(i,!!d,re,!1):!!p!=!!d&&(o!=null?io(i,!!d,o,!0):io(i,!!d,d?[]:"",!1));return;case"textarea":se=re=null;for(I in d)if(g=d[I],d.hasOwnProperty(I)&&g!=null&&!p.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Rt(i,o,I,null,p,g)}for(k in p)if(g=p[k],N=d[k],p.hasOwnProperty(k)&&(g!=null||N!=null))switch(k){case"value":re=g;break;case"defaultValue":se=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==N&&Rt(i,o,k,g,p,N)}wj(i,re,se);return;case"option":for(var Te in d)re=d[Te],d.hasOwnProperty(Te)&&re!=null&&!p.hasOwnProperty(Te)&&(Te==="selected"?i.selected=!1:Rt(i,o,Te,null,p,re));for(q in p)re=p[q],se=d[q],p.hasOwnProperty(q)&&re!==se&&(re!=null||se!=null)&&(q==="selected"?i.selected=re&&typeof re!="function"&&typeof re!="symbol":Rt(i,o,q,re,p,se));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in d)re=d[Ve],d.hasOwnProperty(Ve)&&re!=null&&!p.hasOwnProperty(Ve)&&Rt(i,o,Ve,null,p,re);for(ee in p)if(re=p[ee],se=d[ee],p.hasOwnProperty(ee)&&re!==se&&(re!=null||se!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,o));break;default:Rt(i,o,ee,re,p,se)}return;default:if(Dv(o)){for(var Lt in d)re=d[Lt],d.hasOwnProperty(Lt)&&re!==void 0&&!p.hasOwnProperty(Lt)&&h0(i,o,Lt,void 0,p,re);for(de in p)re=p[de],se=d[de],!p.hasOwnProperty(de)||re===se||re===void 0&&se===void 0||h0(i,o,de,re,p,se);return}}for(var V in d)re=d[V],d.hasOwnProperty(V)&&re!=null&&!p.hasOwnProperty(V)&&Rt(i,o,V,null,p,re);for(pe in p)re=p[pe],se=d[pe],!p.hasOwnProperty(pe)||re===se||re==null&&se==null||Rt(i,o,pe,re,p,se)}function C2(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eL(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,d=performance.getEntriesByType("resource"),p=0;p<d.length;p++){var g=d[p],N=g.transferSize,k=g.initiatorType,I=g.duration;if(N&&I&&C2(k)){for(k=0,I=g.responseEnd,p+=1;p<d.length;p++){var q=d[p],ee=q.startTime;if(ee>I)break;var de=q.transferSize,pe=q.initiatorType;de&&C2(pe)&&(q=q.responseEnd,k+=de*(q<I?1:(I-ee)/(q-ee)))}if(--p,o+=8*(N+k)/(g.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var v0=null,x0=null;function Xf(i){return i.nodeType===9?i:i.ownerDocument}function A2(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function M2(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function g0(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var b0=null;function tL(){var i=window.event;return i&&i.type==="popstate"?i===b0?!1:(b0=i,!0):(b0=null,!1)}var k2=typeof setTimeout=="function"?setTimeout:void 0,rL=typeof clearTimeout=="function"?clearTimeout:void 0,D2=typeof Promise=="function"?Promise:void 0,nL=typeof queueMicrotask=="function"?queueMicrotask:typeof D2<"u"?function(i){return D2.resolve(null).then(i).catch(aL)}:k2;function aL(i){setTimeout(function(){throw i})}function Ms(i){return i==="head"}function E2(i,o){var d=o,p=0;do{var g=d.nextSibling;if(i.removeChild(d),g&&g.nodeType===8)if(d=g.data,d==="/$"||d==="/&"){if(p===0){i.removeChild(g),zo(o);return}p--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")p++;else if(d==="html")ju(i.ownerDocument.documentElement);else if(d==="head"){d=i.ownerDocument.head,ju(d);for(var N=d.firstChild;N;){var k=N.nextSibling,I=N.nodeName;N[sl]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&N.rel.toLowerCase()==="stylesheet"||d.removeChild(N),N=k}}else d==="body"&&ju(i.ownerDocument.body);d=g}while(d);zo(o)}function _2(i,o){var d=i;i=0;do{var p=d.nextSibling;if(d.nodeType===1?o?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(o?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),p&&p.nodeType===8)if(d=p.data,d==="/$"){if(i===0)break;i--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||i++;d=p}while(d)}function y0(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":y0(d),Bc(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}i.removeChild(d)}}function iL(i,o,d,p){for(;i.nodeType===1;){var g=d;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(p){if(!i[sl])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(N=i.getAttribute("rel"),N==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(N!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(N=i.getAttribute("src"),(N!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&N&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var N=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===N)return i}else return i;if(i=Zn(i.nextSibling),i===null)break}return null}function sL(i,o,d){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!d||(i=Zn(i.nextSibling),i===null))return null;return i}function O2(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Zn(i.nextSibling),i===null))return null;return i}function w0(i){return i.data==="$?"||i.data==="$~"}function j0(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function lL(i,o){var d=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||d.readyState!=="loading")o();else{var p=function(){o(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),i._reactRetry=p}}function Zn(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var N0=null;function T2(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"||d==="/&"){if(o===0)return Zn(i.nextSibling);o--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||o++}i=i.nextSibling}return null}function P2(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(o===0)return i;o--}else d!=="/$"&&d!=="/&"||o++}i=i.previousSibling}return null}function I2(i,o,d){switch(o=Xf(d),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function ju(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Bc(i)}var Jn=new Map,R2=new Set;function Zf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ei=G.d;G.d={f:oL,r:cL,D:uL,C:dL,L:fL,m:mL,X:hL,S:pL,M:vL};function oL(){var i=Ei.f(),o=Hf();return i||o}function cL(i){var o=cs(i);o!==null&&o.tag===5&&o.type==="form"?JN(o):Ei.r(i)}var Io=typeof document>"u"?null:document;function L2(i,o,d){var p=Io;if(p&&typeof o=="string"&&o){var g=Yn(o);g='link[rel="'+i+'"][href="'+g+'"]',typeof d=="string"&&(g+='[crossorigin="'+d+'"]'),R2.has(g)||(R2.add(g),i={rel:i,crossOrigin:d,href:o},p.querySelector(g)===null&&(o=p.createElement("link"),qr(o,"link",i),xt(o),p.head.appendChild(o)))}}function uL(i){Ei.D(i),L2("dns-prefetch",i,null)}function dL(i,o){Ei.C(i,o),L2("preconnect",i,o)}function fL(i,o,d){Ei.L(i,o,d);var p=Io;if(p&&i&&o){var g='link[rel="preload"][as="'+Yn(o)+'"]';o==="image"&&d&&d.imageSrcSet?(g+='[imagesrcset="'+Yn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(g+='[imagesizes="'+Yn(d.imageSizes)+'"]')):g+='[href="'+Yn(i)+'"]';var N=g;switch(o){case"style":N=Ro(i);break;case"script":N=Lo(i)}Jn.has(N)||(i=v({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:i,as:o},d),Jn.set(N,i),p.querySelector(g)!==null||o==="style"&&p.querySelector(Nu(N))||o==="script"&&p.querySelector(Su(N))||(o=p.createElement("link"),qr(o,"link",i),xt(o),p.head.appendChild(o)))}}function mL(i,o){Ei.m(i,o);var d=Io;if(d&&i){var p=o&&typeof o.as=="string"?o.as:"script",g='link[rel="modulepreload"][as="'+Yn(p)+'"][href="'+Yn(i)+'"]',N=g;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Lo(i)}if(!Jn.has(N)&&(i=v({rel:"modulepreload",href:i},o),Jn.set(N,i),d.querySelector(g)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Su(N)))return}p=d.createElement("link"),qr(p,"link",i),xt(p),d.head.appendChild(p)}}}function pL(i,o,d){Ei.S(i,o,d);var p=Io;if(p&&i){var g=we(p).hoistableStyles,N=Ro(i);o=o||"default";var k=g.get(N);if(!k){var I={loading:0,preload:null};if(k=p.querySelector(Nu(N)))I.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":o},d),(d=Jn.get(N))&&S0(i,d);var q=k=p.createElement("link");xt(q),qr(q,"link",i),q._p=new Promise(function(ee,de){q.onload=ee,q.onerror=de}),q.addEventListener("load",function(){I.loading|=1}),q.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Jf(k,o,p)}k={type:"stylesheet",instance:k,count:1,state:I},g.set(N,k)}}}function hL(i,o){Ei.X(i,o);var d=Io;if(d&&i){var p=we(d).hoistableScripts,g=Lo(i),N=p.get(g);N||(N=d.querySelector(Su(g)),N||(i=v({src:i,async:!0},o),(o=Jn.get(g))&&C0(i,o),N=d.createElement("script"),xt(N),qr(N,"link",i),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(g,N))}}function vL(i,o){Ei.M(i,o);var d=Io;if(d&&i){var p=we(d).hoistableScripts,g=Lo(i),N=p.get(g);N||(N=d.querySelector(Su(g)),N||(i=v({src:i,async:!0,type:"module"},o),(o=Jn.get(g))&&C0(i,o),N=d.createElement("script"),xt(N),qr(N,"link",i),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(g,N))}}function z2(i,o,d,p){var g=(g=Ie.current)?Zf(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=Ro(d.href),d=we(g).hoistableStyles,p=d.get(o),p||(p={type:"style",instance:null,count:0,state:null},d.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){i=Ro(d.href);var N=we(g).hoistableStyles,k=N.get(i);if(k||(g=g.ownerDocument||g,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(i,k),(N=g.querySelector(Nu(i)))&&!N._p&&(k.instance=N,k.state.loading=5),Jn.has(i)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Jn.set(i,d),N||xL(g,i,d,k.state))),o&&p===null)throw Error(r(528,""));return k}if(o&&p!==null)throw Error(r(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Lo(d),d=we(g).hoistableScripts,p=d.get(o),p||(p={type:"script",instance:null,count:0,state:null},d.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Ro(i){return'href="'+Yn(i)+'"'}function Nu(i){return'link[rel="stylesheet"]['+i+"]"}function F2(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function xL(i,o,d,p){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=i.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),qr(o,"link",d),xt(o),i.head.appendChild(o))}function Lo(i){return'[src="'+Yn(i)+'"]'}function Su(i){return"script[async]"+i}function B2(i,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var p=i.querySelector('style[data-href~="'+Yn(d.href)+'"]');if(p)return o.instance=p,xt(p),p;var g=v({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(i.ownerDocument||i).createElement("style"),xt(p),qr(p,"style",g),Jf(p,d.precedence,i),o.instance=p;case"stylesheet":g=Ro(d.href);var N=i.querySelector(Nu(g));if(N)return o.state.loading|=4,o.instance=N,xt(N),N;p=F2(d),(g=Jn.get(g))&&S0(p,g),N=(i.ownerDocument||i).createElement("link"),xt(N);var k=N;return k._p=new Promise(function(I,q){k.onload=I,k.onerror=q}),qr(N,"link",p),o.state.loading|=4,Jf(N,d.precedence,i),o.instance=N;case"script":return N=Lo(d.src),(g=i.querySelector(Su(N)))?(o.instance=g,xt(g),g):(p=d,(g=Jn.get(N))&&(p=v({},d),C0(p,g)),i=i.ownerDocument||i,g=i.createElement("script"),xt(g),qr(g,"link",p),i.head.appendChild(g),o.instance=g);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,Jf(p,d.precedence,i));return o.instance}function Jf(i,o,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=p.length?p[p.length-1]:null,N=g,k=0;k<p.length;k++){var I=p[k];if(I.dataset.precedence===o)N=I;else if(N!==g)break}N?N.parentNode.insertBefore(i,N.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(i,o.firstChild))}function S0(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function C0(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var em=null;function $2(i,o,d){if(em===null){var p=new Map,g=em=new Map;g.set(d,p)}else g=em,p=g.get(d),p||(p=new Map,g.set(d,p));if(p.has(i))return p;for(p.set(i,null),d=d.getElementsByTagName(i),g=0;g<d.length;g++){var N=d[g];if(!(N[sl]||N[Cr]||i==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var k=N.getAttribute(o)||"";k=i+k;var I=p.get(k);I?I.push(N):p.set(k,[N])}}return p}function q2(i,o,d){i=i.ownerDocument||i,i.head.insertBefore(d,o==="title"?i.querySelector("head > title"):null)}function gL(i,o,d){if(d===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(i=o.disabled,typeof o.precedence=="string"&&i==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function H2(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function bL(i,o,d,p){if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var g=Ro(p.href),N=o.querySelector(Nu(g));if(N){o=N._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=tm.bind(i),o.then(i,i)),d.state.loading|=4,d.instance=N,xt(N);return}N=o.ownerDocument||o,p=F2(p),(g=Jn.get(g))&&S0(p,g),N=N.createElement("link"),xt(N);var k=N;k._p=new Promise(function(I,q){k.onload=I,k.onerror=q}),qr(N,"link",p),d.instance=N}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(d,o),(o=d.state.preload)&&(d.state.loading&3)===0&&(i.count++,d=tm.bind(i),o.addEventListener("load",d),o.addEventListener("error",d))}}var A0=0;function yL(i,o){return i.stylesheets&&i.count===0&&nm(i,i.stylesheets),0<i.count||0<i.imgCount?function(d){var p=setTimeout(function(){if(i.stylesheets&&nm(i,i.stylesheets),i.unsuspend){var N=i.unsuspend;i.unsuspend=null,N()}},6e4+o);0<i.imgBytes&&A0===0&&(A0=62500*eL());var g=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&nm(i,i.stylesheets),i.unsuspend)){var N=i.unsuspend;i.unsuspend=null,N()}},(i.imgBytes>A0?50:800)+o);return i.unsuspend=d,function(){i.unsuspend=null,clearTimeout(p),clearTimeout(g)}}:null}function tm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var rm=null;function nm(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,rm=new Map,o.forEach(wL,i),rm=null,tm.call(i))}function wL(i,o){if(!(o.state.loading&4)){var d=rm.get(i);if(d)var p=d.get(null);else{d=new Map,rm.set(i,d);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<g.length;N++){var k=g[N];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(d.set(k.dataset.precedence,k),p=k)}p&&d.set(null,p)}g=o.instance,k=g.getAttribute("data-precedence"),N=d.get(k)||p,N===p&&d.set(null,g),d.set(k,g),this.count++,p=tm.bind(this),g.addEventListener("load",p),g.addEventListener("error",p),N?N.parentNode.insertBefore(g,N.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),o.state.loading|=4}}var Cu={$$typeof:A,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function jL(i,o,d,p,g,N,k,I,q){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zr(0),this.hiddenUpdates=zr(null),this.identifierPrefix=p,this.onUncaughtError=g,this.onCaughtError=N,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function U2(i,o,d,p,g,N,k,I,q,ee,de,pe){return i=new jL(i,o,d,k,q,ee,de,pe,I),o=1,N===!0&&(o|=24),N=An(3,null,null,o),i.current=N,N.stateNode=i,o=ix(),o.refCount++,i.pooledCache=o,o.refCount++,N.memoizedState={element:p,isDehydrated:d,cache:o},cx(N),i}function Y2(i){return i?(i=po,i):po}function V2(i,o,d,p,g,N){g=Y2(g),p.context===null?p.context=g:p.pendingContext=g,p=vs(o),p.payload={element:d},N=N===void 0?null:N,N!==null&&(p.callback=N),d=xs(i,p,o),d!==null&&(mn(d,i,o),nu(d,i,o))}function G2(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<o?d:o}}function M0(i,o){G2(i,o),(i=i.alternate)&&G2(i,o)}function K2(i){if(i.tag===13||i.tag===31){var o=ul(i,67108864);o!==null&&mn(o,i,67108864),M0(i,67108864)}}function W2(i){if(i.tag===13||i.tag===31){var o=_n();o=_a(o);var d=ul(i,o);d!==null&&mn(d,i,o),M0(i,o)}}var am=!0;function NL(i,o,d,p){var g=$.T;$.T=null;var N=G.p;try{G.p=2,k0(i,o,d,p)}finally{G.p=N,$.T=g}}function SL(i,o,d,p){var g=$.T;$.T=null;var N=G.p;try{G.p=8,k0(i,o,d,p)}finally{G.p=N,$.T=g}}function k0(i,o,d,p){if(am){var g=D0(p);if(g===null)p0(i,o,p,im,d),X2(i,p);else if(AL(g,i,o,d,p))p.stopPropagation();else if(X2(i,p),o&4&&-1<CL.indexOf(i)){for(;g!==null;){var N=cs(g);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var k=Xe(N.pendingLanes);if(k!==0){var I=N;for(I.pendingLanes|=2,I.entangledLanes|=2;k;){var q=1<<31-ie(k);I.entanglements[1]|=q,k&=~q}za(N),(Ct&6)===0&&($f=St()+500,bu(0))}}break;case 31:case 13:I=ul(N,2),I!==null&&mn(I,N,2),Hf(),M0(N,2)}if(N=D0(p),N===null&&p0(i,o,p,im,d),N===g)break;g=N}g!==null&&p.stopPropagation()}else p0(i,o,p,null,d)}}function D0(i){return i=_v(i),E0(i)}var im=null;function E0(i){if(im=null,i=os(i),i!==null){var o=s(i);if(o===null)i=null;else{var d=o.tag;if(d===13){if(i=c(o),i!==null)return i;i=null}else if(d===31){if(i=u(o),i!==null)return i;i=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return im=i,null}function Q2(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hn()){case is:return 2;case ue:return 8;case xe:case Fe:return 32;case $t:return 268435456;default:return 32}default:return 32}}var _0=!1,ks=null,Ds=null,Es=null,Au=new Map,Mu=new Map,_s=[],CL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function X2(i,o){switch(i){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":Es=null;break;case"pointerover":case"pointerout":Au.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mu.delete(o.pointerId)}}function ku(i,o,d,p,g,N){return i===null||i.nativeEvent!==N?(i={blockedOn:o,domEventName:d,eventSystemFlags:p,nativeEvent:N,targetContainers:[g]},o!==null&&(o=cs(o),o!==null&&K2(o)),i):(i.eventSystemFlags|=p,o=i.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),i)}function AL(i,o,d,p,g){switch(o){case"focusin":return ks=ku(ks,i,o,d,p,g),!0;case"dragenter":return Ds=ku(Ds,i,o,d,p,g),!0;case"mouseover":return Es=ku(Es,i,o,d,p,g),!0;case"pointerover":var N=g.pointerId;return Au.set(N,ku(Au.get(N)||null,i,o,d,p,g)),!0;case"gotpointercapture":return N=g.pointerId,Mu.set(N,ku(Mu.get(N)||null,i,o,d,p,g)),!0}return!1}function Z2(i){var o=os(i.target);if(o!==null){var d=s(o);if(d!==null){if(o=d.tag,o===13){if(o=c(d),o!==null){i.blockedOn=o,ss(i.priority,function(){W2(d)});return}}else if(o===31){if(o=u(d),o!==null){i.blockedOn=o,ss(i.priority,function(){W2(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function sm(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var d=D0(i.nativeEvent);if(d===null){d=i.nativeEvent;var p=new d.constructor(d.type,d);Ev=p,d.target.dispatchEvent(p),Ev=null}else return o=cs(d),o!==null&&K2(o),i.blockedOn=d,!1;o.shift()}return!0}function J2(i,o,d){sm(i)&&d.delete(o)}function ML(){_0=!1,ks!==null&&sm(ks)&&(ks=null),Ds!==null&&sm(Ds)&&(Ds=null),Es!==null&&sm(Es)&&(Es=null),Au.forEach(J2),Mu.forEach(J2)}function lm(i,o){i.blockedOn===o&&(i.blockedOn=null,_0||(_0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ML)))}var om=null;function eC(i){om!==i&&(om=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){om===i&&(om=null);for(var o=0;o<i.length;o+=3){var d=i[o],p=i[o+1],g=i[o+2];if(typeof p!="function"){if(E0(p||d)===null)continue;break}var N=cs(d);N!==null&&(i.splice(o,3),o-=3,Dx(N,{pending:!0,data:g,method:d.method,action:p},p,g))}}))}function zo(i){function o(q){return lm(q,i)}ks!==null&&lm(ks,i),Ds!==null&&lm(Ds,i),Es!==null&&lm(Es,i),Au.forEach(o),Mu.forEach(o);for(var d=0;d<_s.length;d++){var p=_s[d];p.blockedOn===i&&(p.blockedOn=null)}for(;0<_s.length&&(d=_s[0],d.blockedOn===null);)Z2(d),d.blockedOn===null&&_s.shift();if(d=(i.ownerDocument||i).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var g=d[p],N=d[p+1],k=g[Gr]||null;if(typeof N=="function")k||eC(d);else if(k){var I=null;if(N&&N.hasAttribute("formAction")){if(g=N,k=N[Gr]||null)I=k.formAction;else if(E0(g)!==null)continue}else I=k.action;typeof I=="function"?d[p+1]=I:(d.splice(p,3),p-=3),eC(d)}}}function tC(){function i(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(k){return g=k})},focusReset:"manual",scroll:"manual"})}function o(){g!==null&&(g(),g=null),p||setTimeout(d,20)}function d(){if(!p&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,g=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(d,100),function(){p=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),g!==null&&(g(),g=null)}}}function O0(i){this._internalRoot=i}cm.prototype.render=O0.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var d=o.current,p=_n();V2(d,p,i,o,null,null)},cm.prototype.unmount=O0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;V2(i.current,2,null,i,null,null),Hf(),o[ls]=null}};function cm(i){this._internalRoot=i}cm.prototype.unstable_scheduleHydration=function(i){if(i){var o=il();i={blockedOn:null,target:i,priority:o};for(var d=0;d<_s.length&&o!==0&&o<_s[d].priority;d++);_s.splice(d,0,i),d===0&&Z2(i)}};var rC=t.version;if(rC!=="19.2.4")throw Error(r(527,rC,"19.2.4"));G.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(o),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var kL={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var um=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!um.isDisabled&&um.supportsFiber)try{Ce=um.inject(kL),De=um}catch{}}return Eu.createRoot=function(i,o){if(!a(i))throw Error(r(299));var d=!1,p="",g=cS,N=uS,k=dS;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(N=o.onCaughtError),o.onRecoverableError!==void 0&&(k=o.onRecoverableError)),o=U2(i,1,!1,null,null,d,p,null,g,N,k,tC),i[ls]=o.current,m0(i),new O0(o)},Eu.hydrateRoot=function(i,o,d){if(!a(i))throw Error(r(299));var p=!1,g="",N=cS,k=uS,I=dS,q=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(g=d.identifierPrefix),d.onUncaughtError!==void 0&&(N=d.onUncaughtError),d.onCaughtError!==void 0&&(k=d.onCaughtError),d.onRecoverableError!==void 0&&(I=d.onRecoverableError),d.formState!==void 0&&(q=d.formState)),o=U2(i,1,!0,o,d??null,p,g,q,N,k,I,tC),o.context=Y2(null),d=o.current,p=_n(),p=_a(p),g=vs(p),g.callback=null,xs(d,g,p),d=p,o.current.lanes=d,gr(o,d),za(o),i[ls]=o.current,m0(i),new cm(o)},Eu.version="19.2.4",Eu}var fC;function zL(){if(fC)return I0.exports;fC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),I0.exports=LL(),I0.exports}var FL=zL();var mC="popstate";function BL(e={}){function t(r,a){let{pathname:s,search:c,hash:u}=r.location;return Yb("",{pathname:s,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:rd(a)}return qL(t,n,null,e)}function rr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Sa(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $L(){return Math.random().toString(36).substring(2,10)}function pC(e,t){return{usr:e.state,key:e.key,idx:t}}function Yb(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Nc(t):t,state:n,key:t&&t.key||r||$L()}}function rd({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Nc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function qL(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:s=!1}=r,c=a.history,u="POP",f=null,m=h();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function h(){return(c.state||{idx:null}).idx}function v(){u="POP";let y=h(),C=y==null?null:y-m;m=y,f&&f({action:u,location:w.location,delta:C})}function x(y,C){u="PUSH";let M=Yb(w.location,y,C);m=h()+1;let A=pC(M,m),_=w.createHref(M);try{c.pushState(A,"",_)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(_)}s&&f&&f({action:u,location:w.location,delta:1})}function b(y,C){u="REPLACE";let M=Yb(w.location,y,C);m=h();let A=pC(M,m),_=w.createHref(M);c.replaceState(A,"",_),s&&f&&f({action:u,location:w.location,delta:0})}function S(y){return HL(y)}let w={get action(){return u},get location(){return e(a,c)},listen(y){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(mC,v),f=y,()=>{a.removeEventListener(mC,v),f=null}},createHref(y){return t(a,y)},createURL:S,encodeLocation(y){let C=S(y);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:x,replace:b,go(y){return c.go(y)}};return w}function HL(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),rr(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:rd(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function F_(e,t,n="/"){return UL(e,t,n,!1)}function UL(e,t,n,r){let a=typeof t=="string"?Nc(t):t,s=$i(a.pathname||"/",n);if(s==null)return null;let c=B_(e);YL(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let m=r6(s);u=e6(c[f],m,r)}return u}function B_(e,t=[],n=[],r="",a=!1){let s=(c,u,f=a,m)=>{let h={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&f)return;rr(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let v=Li([r,h.relativePath]),x=n.concat(h);c.children&&c.children.length>0&&(rr(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),B_(c.children,t,x,v,f)),!(c.path==null&&!c.index)&&t.push({path:v,score:ZL(v,c.index),routesMeta:x})};return e.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))s(c,u);else for(let f of $_(c.path))s(c,u,!0,f)}),t}function $_(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return a?[s,""]:[s];let c=$_(r.join("/")),u=[];return u.push(...c.map(f=>f===""?s:[s,f].join("/"))),a&&u.push(...c),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function YL(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:JL(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var VL=/^:[\w-]+$/,GL=3,KL=2,WL=1,QL=10,XL=-2,hC=e=>e==="*";function ZL(e,t){let n=e.split("/"),r=n.length;return n.some(hC)&&(r+=XL),t&&(r+=KL),n.filter(a=>!hC(a)).reduce((a,s)=>a+(VL.test(s)?GL:s===""?WL:QL),r)}function JL(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function e6(e,t,n=!1){let{routesMeta:r}=e,a={},s="/",c=[];for(let u=0;u<r.length;++u){let f=r[u],m=u===r.length-1,h=s==="/"?t:t.slice(s.length)||"/",v=mp({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},h),x=f.route;if(!v&&m&&n&&!r[r.length-1].route.index&&(v=mp({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},h)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:Li([s,v.pathname]),pathnameBase:s6(Li([s,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(s=Li([s,v.pathnameBase]))}return c}function mp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=t6(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let s=a[0],c=s.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:r.reduce((m,{paramName:h,isOptional:v},x)=>{if(h==="*"){let S=u[x]||"";c=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const b=u[x];return v&&!b?m[h]=void 0:m[h]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:s,pathnameBase:c,pattern:e}}function t6(e,t=!1,n=!0){Sa(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function r6(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Sa(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function $i(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var n6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function a6(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?Nc(e):e,s;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?s=vC(n.substring(1),"/"):s=vC(n,t)):s=t,{pathname:s,search:l6(r),hash:o6(a)}}function vC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function F0(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function i6(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function t1(e){let t=i6(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function r1(e,t,n,r=!1){let a;typeof e=="string"?a=Nc(e):(a={...e},rr(!a.pathname||!a.pathname.includes("?"),F0("?","pathname","search",a)),rr(!a.pathname||!a.pathname.includes("#"),F0("#","pathname","hash",a)),rr(!a.search||!a.search.includes("#"),F0("#","search","hash",a)));let s=e===""||a.pathname==="",c=s?"/":a.pathname,u;if(c==null)u=n;else{let v=t.length-1;if(!r&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),v-=1;a.pathname=x.join("/")}u=v>=0?t[v]:"/"}let f=a6(a,u),m=c&&c!=="/"&&c.endsWith("/"),h=(s||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||h)&&(f.pathname+="/"),f}var Li=e=>e.join("/").replace(/\/\/+/g,"/"),s6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),l6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,o6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,c6=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function u6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function d6(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var q_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function H_(e,t){let n=e;if(typeof n!="string"||!n6.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(q_)try{let s=new URL(window.location.href),c=n.startsWith("//")?new URL(s.protocol+n):new URL(n),u=$i(c.pathname,t);c.origin===s.origin&&u!=null?n=u+c.search+c.hash:a=!0}catch{Sa(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var U_=["POST","PUT","PATCH","DELETE"];new Set(U_);var f6=["GET",...U_];new Set(f6);var Sc=j.createContext(null);Sc.displayName="DataRouter";var Sh=j.createContext(null);Sh.displayName="DataRouterState";var m6=j.createContext(!1),Y_=j.createContext({isTransitioning:!1});Y_.displayName="ViewTransition";var p6=j.createContext(new Map);p6.displayName="Fetchers";var h6=j.createContext(null);h6.displayName="Await";var qn=j.createContext(null);qn.displayName="Navigation";var Nd=j.createContext(null);Nd.displayName="Location";var Ma=j.createContext({outlet:null,matches:[],isDataRoute:!1});Ma.displayName="Route";var n1=j.createContext(null);n1.displayName="RouteError";var V_="REACT_ROUTER_ERROR",v6="REDIRECT",x6="ROUTE_ERROR_RESPONSE";function g6(e){if(e.startsWith(`${V_}:${v6}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function b6(e){if(e.startsWith(`${V_}:${x6}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new c6(t.status,t.statusText,t.data)}catch{}}function y6(e,{relative:t}={}){rr(Cc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=j.useContext(qn),{hash:a,pathname:s,search:c}=Sd(e,{relative:t}),u=s;return n!=="/"&&(u=s==="/"?n:Li([n,s])),r.createHref({pathname:u,search:c,hash:a})}function Cc(){return j.useContext(Nd)!=null}function ca(){return rr(Cc(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Nd).location}var G_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function K_(e){j.useContext(qn).static||j.useLayoutEffect(e)}function Jl(){let{isDataRoute:e}=j.useContext(Ma);return e?I6():w6()}function w6(){rr(Cc(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(Sc),{basename:t,navigator:n}=j.useContext(qn),{matches:r}=j.useContext(Ma),{pathname:a}=ca(),s=JSON.stringify(t1(r)),c=j.useRef(!1);return K_(()=>{c.current=!0}),j.useCallback((f,m={})=>{if(Sa(c.current,G_),!c.current)return;if(typeof f=="number"){n.go(f);return}let h=r1(f,JSON.parse(s),a,m.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Li([t,h.pathname])),(m.replace?n.replace:n.push)(h,m.state,m)},[t,n,s,a,e])}var j6=j.createContext(null);function N6(e){let t=j.useContext(Ma).outlet;return j.useMemo(()=>t&&j.createElement(j6.Provider,{value:e},t),[t,e])}function Sd(e,{relative:t}={}){let{matches:n}=j.useContext(Ma),{pathname:r}=ca(),a=JSON.stringify(t1(n));return j.useMemo(()=>r1(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function S6(e,t){return W_(e,t)}function W_(e,t,n,r,a){rr(Cc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=j.useContext(qn),{matches:c}=j.useContext(Ma),u=c[c.length-1],f=u?u.params:{},m=u?u.pathname:"/",h=u?u.pathnameBase:"/",v=u&&u.route;{let M=v&&v.path||"";X_(m,!v||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let x=ca(),b;if(t){let M=typeof t=="string"?Nc(t):t;rr(h==="/"||M.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${M.pathname}" was given in the \`location\` prop.`),b=M}else b=x;let S=b.pathname||"/",w=S;if(h!=="/"){let M=h.replace(/^\//,"").split("/");w="/"+S.replace(/^\//,"").split("/").slice(M.length).join("/")}let y=F_(e,{pathname:w});Sa(v||y!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Sa(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=D6(y&&y.map(M=>Object.assign({},M,{params:Object.assign({},f,M.params),pathname:Li([h,s.encodeLocation?s.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?h:Li([h,s.encodeLocation?s.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),c,n,r,a);return t&&C?j.createElement(Nd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},C):C}function C6(){let e=P6(),t=u6(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:s},"ErrorBoundary")," or"," ",j.createElement("code",{style:s},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:a},n):null,c)}var A6=j.createElement(C6,null),Q_=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=b6(e.digest);n&&(e=n)}let t=e!==void 0?j.createElement(Ma.Provider,{value:this.props.routeContext},j.createElement(n1.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?j.createElement(M6,{error:e},t):t}};Q_.contextType=m6;var B0=new WeakMap;function M6({children:e,error:t}){let{basename:n}=j.useContext(qn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=g6(t.digest);if(r){let a=B0.get(t);if(a)throw a;let s=H_(r.location,n);if(q_&&!B0.get(t))if(s.isExternal||r.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:r.replace}));throw B0.set(t,c),c}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return e}function k6({routeContext:e,match:t,children:n}){let r=j.useContext(Sc);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(Ma.Provider,{value:e},n)}function D6(e,t=[],n=null,r=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,c=n?.errors;if(c!=null){let h=s.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);rr(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let u=!1,f=-1;if(n)for(let h=0;h<s.length;h++){let v=s[h];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=h),v.route.id){let{loaderData:x,errors:b}=n,S=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!b||b[v.route.id]===void 0);if(v.route.lazy||S){u=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}let m=n&&r?(h,v)=>{r(h,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:d6(n.matches),errorInfo:v})}:void 0;return s.reduceRight((h,v,x)=>{let b,S=!1,w=null,y=null;n&&(b=c&&v.route.id?c[v.route.id]:void 0,w=v.route.errorElement||A6,u&&(f<0&&x===0?(X_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,y=null):f===x&&(S=!0,y=v.route.hydrateFallbackElement||null)));let C=t.concat(s.slice(0,x+1)),M=()=>{let A;return b?A=w:S?A=y:v.route.Component?A=j.createElement(v.route.Component,null):v.route.element?A=v.route.element:A=h,j.createElement(k6,{match:v,routeContext:{outlet:h,matches:C,isDataRoute:n!=null},children:A})};return n&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?j.createElement(Q_,{location:n.location,revalidation:n.revalidation,component:w,error:b,children:M(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:m}):M()},null)}function a1(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function E6(e){let t=j.useContext(Sc);return rr(t,a1(e)),t}function _6(e){let t=j.useContext(Sh);return rr(t,a1(e)),t}function O6(e){let t=j.useContext(Ma);return rr(t,a1(e)),t}function i1(e){let t=O6(e),n=t.matches[t.matches.length-1];return rr(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function T6(){return i1("useRouteId")}function P6(){let e=j.useContext(n1),t=_6("useRouteError"),n=i1("useRouteError");return e!==void 0?e:t.errors?.[n]}function I6(){let{router:e}=E6("useNavigate"),t=i1("useNavigate"),n=j.useRef(!1);return K_(()=>{n.current=!0}),j.useCallback(async(a,s={})=>{Sa(n.current,G_),n.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...s}))},[e,t])}var xC={};function X_(e,t,n){!t&&!xC[e]&&(xC[e]=!0,Sa(!1,n))}j.memo(R6);function R6({routes:e,future:t,state:n,onError:r}){return W_(e,void 0,n,r,t)}function pp({to:e,replace:t,state:n,relative:r}){rr(Cc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=j.useContext(qn);Sa(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=j.useContext(Ma),{pathname:c}=ca(),u=Jl(),f=r1(e,t1(s),c,r==="path"),m=JSON.stringify(f);return j.useEffect(()=>{u(JSON.parse(m),{replace:t,state:n,relative:r})},[u,m,r,t,n]),null}function Z_(e){return N6(e.context)}function Jt(e){rr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function L6({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:s=!1,unstable_useTransitions:c}){rr(!Cc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),f=j.useMemo(()=>({basename:u,navigator:a,static:s,unstable_useTransitions:c,future:{}}),[u,a,s,c]);typeof n=="string"&&(n=Nc(n));let{pathname:m="/",search:h="",hash:v="",state:x=null,key:b="default"}=n,S=j.useMemo(()=>{let w=$i(m,u);return w==null?null:{location:{pathname:w,search:h,hash:v,state:x,key:b},navigationType:r}},[u,m,h,v,x,b,r]);return Sa(S!=null,`<Router basename="${u}"> is not able to match the URL "${m}${h}${v}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:j.createElement(qn.Provider,{value:f},j.createElement(Nd.Provider,{children:t,value:S}))}function z6({children:e,location:t}){return S6(Vb(e),t)}function Vb(e,t=[]){let n=[];return j.Children.forEach(e,(r,a)=>{if(!j.isValidElement(r))return;let s=[...t,a];if(r.type===j.Fragment){n.push.apply(n,Vb(r.props.children,s));return}rr(r.type===Jt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Vb(r.props.children,s)),n.push(c)}),n}var Xm="get",Zm="application/x-www-form-urlencoded";function Ch(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function F6(e){return Ch(e)&&e.tagName.toLowerCase()==="button"}function B6(e){return Ch(e)&&e.tagName.toLowerCase()==="form"}function $6(e){return Ch(e)&&e.tagName.toLowerCase()==="input"}function q6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function H6(e,t){return e.button===0&&(!t||t==="_self")&&!q6(e)}var dm=null;function U6(){if(dm===null)try{new FormData(document.createElement("form"),0),dm=!1}catch{dm=!0}return dm}var Y6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $0(e){return e!=null&&!Y6.has(e)?(Sa(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zm}"`),null):e}function V6(e,t){let n,r,a,s,c;if(B6(e)){let u=e.getAttribute("action");r=u?$i(u,t):null,n=e.getAttribute("method")||Xm,a=$0(e.getAttribute("enctype"))||Zm,s=new FormData(e)}else if(F6(e)||$6(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||u.getAttribute("action");if(r=f?$i(f,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||Xm,a=$0(e.getAttribute("formenctype"))||$0(u.getAttribute("enctype"))||Zm,s=new FormData(u,e),!U6()){let{name:m,type:h,value:v}=e;if(h==="image"){let x=m?`${m}.`:"";s.append(`${x}x`,"0"),s.append(`${x}y`,"0")}else m&&s.append(m,v)}}else{if(Ch(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xm,r=null,a=Zm,c=e}return s&&a==="text/plain"&&(c=s,s=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:s,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function s1(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function G6(e,t,n,r){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:t&&$i(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function K6(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function W6(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Q6(e,t,n){let r=await Promise.all(e.map(async a=>{let s=t.routes[a.route.id];if(s){let c=await K6(s,n);return c.links?c.links():[]}return[]}));return ez(r.flat(1).filter(W6).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function gC(e,t,n,r,a,s){let c=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,u=(f,m)=>n[m].pathname!==f.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==f.params["*"];return s==="assets"?t.filter((f,m)=>c(f,m)||u(f,m)):s==="data"?t.filter((f,m)=>{let h=r.routes[f.route.id];if(!h||!h.hasLoader)return!1;if(c(f,m)||u(f,m))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function X6(e,t,{includeHydrateFallback:n}={}){return Z6(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function Z6(e){return[...new Set(e)]}function J6(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function ez(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let s=JSON.stringify(J6(a));return n.has(s)||(n.add(s),r.push({key:s,link:a})),r},[])}function J_(){let e=j.useContext(Sc);return s1(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function tz(){let e=j.useContext(Sh);return s1(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var l1=j.createContext(void 0);l1.displayName="FrameworkContext";function eO(){let e=j.useContext(l1);return s1(e,"You must render this element inside a <HydratedRouter> element"),e}function rz(e,t){let n=j.useContext(l1),[r,a]=j.useState(!1),[s,c]=j.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:m,onMouseLeave:h,onTouchStart:v}=t,x=j.useRef(null);j.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let w=C=>{C.forEach(M=>{c(M.isIntersecting)})},y=new IntersectionObserver(w,{threshold:.5});return x.current&&y.observe(x.current),()=>{y.disconnect()}}},[e]),j.useEffect(()=>{if(r){let w=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(w)}}},[r]);let b=()=>{a(!0)},S=()=>{a(!1),c(!1)};return n?e!=="intent"?[s,x,{}]:[s,x,{onFocus:_u(u,b),onBlur:_u(f,S),onMouseEnter:_u(m,b),onMouseLeave:_u(h,S),onTouchStart:_u(v,b)}]:[!1,x,{}]}function _u(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function nz({page:e,...t}){let{router:n}=J_(),r=j.useMemo(()=>F_(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?j.createElement(iz,{page:e,matches:r,...t}):null}function az(e){let{manifest:t,routeModules:n}=eO(),[r,a]=j.useState([]);return j.useEffect(()=>{let s=!1;return Q6(e,t,n).then(c=>{s||a(c)}),()=>{s=!0}},[e,t,n]),r}function iz({page:e,matches:t,...n}){let r=ca(),{future:a,manifest:s,routeModules:c}=eO(),{basename:u}=J_(),{loaderData:f,matches:m}=tz(),h=j.useMemo(()=>gC(e,t,m,s,r,"data"),[e,t,m,s,r]),v=j.useMemo(()=>gC(e,t,m,s,r,"assets"),[e,t,m,s,r]),x=j.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,y=!1;if(t.forEach(M=>{let A=s.routes[M.route.id];!A||!A.hasLoader||(!h.some(_=>_.route.id===M.route.id)&&M.route.id in f&&c[M.route.id]?.shouldRevalidate||A.hasClientLoader?y=!0:w.add(M.route.id))}),w.size===0)return[];let C=G6(e,u,a.unstable_trailingSlashAwareDataRequests,"data");return y&&w.size>0&&C.searchParams.set("_routes",t.filter(M=>w.has(M.route.id)).map(M=>M.route.id).join(",")),[C.pathname+C.search]},[u,a.unstable_trailingSlashAwareDataRequests,f,r,s,h,t,e,c]),b=j.useMemo(()=>X6(v,s),[v,s]),S=az(v);return j.createElement(j.Fragment,null,x.map(w=>j.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),b.map(w=>j.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),S.map(({key:w,link:y})=>j.createElement("link",{key:w,nonce:n.nonce,...y,crossOrigin:y.crossOrigin??n.crossOrigin})))}function sz(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var lz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lz&&(window.__reactRouterVersion="7.13.0")}catch{}function oz({basename:e,children:t,unstable_useTransitions:n,window:r}){let a=j.useRef();a.current==null&&(a.current=BL({window:r,v5Compat:!0}));let s=a.current,[c,u]=j.useState({action:s.action,location:s.location}),f=j.useCallback(m=>{n===!1?u(m):j.startTransition(()=>u(m))},[n]);return j.useLayoutEffect(()=>s.listen(f),[s,f]),j.createElement(L6,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:s,unstable_useTransitions:n})}var tO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xo=j.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:s,replace:c,state:u,target:f,to:m,preventScrollReset:h,viewTransition:v,unstable_defaultShouldRevalidate:x,...b},S){let{basename:w,unstable_useTransitions:y}=j.useContext(qn),C=typeof m=="string"&&tO.test(m),M=H_(m,w);m=M.to;let A=y6(m,{relative:a}),[_,E,T]=rz(r,b),P=dz(m,{replace:c,state:u,target:f,preventScrollReset:h,relative:a,viewTransition:v,unstable_defaultShouldRevalidate:x,unstable_useTransitions:y});function O(R){t&&t(R),R.defaultPrevented||P(R)}let L=j.createElement("a",{...b,...T,href:M.absoluteURL||A,onClick:M.isExternal||s?t:O,ref:sz(S,E),target:f,"data-discover":!C&&n==="render"?"true":void 0});return _&&!C?j.createElement(j.Fragment,null,L,j.createElement(nz,{page:A})):L});Xo.displayName="Link";var o1=j.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:s,to:c,viewTransition:u,children:f,...m},h){let v=Sd(c,{relative:m.relative}),x=ca(),b=j.useContext(Sh),{navigator:S,basename:w}=j.useContext(qn),y=b!=null&&vz(v)&&u===!0,C=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,M=x.pathname,A=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(M=M.toLowerCase(),A=A?A.toLowerCase():null,C=C.toLowerCase()),A&&w&&(A=$i(A,w)||A);const _=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let E=M===C||!a&&M.startsWith(C)&&M.charAt(_)==="/",T=A!=null&&(A===C||!a&&A.startsWith(C)&&A.charAt(C.length)==="/"),P={isActive:E,isPending:T,isTransitioning:y},O=E?t:void 0,L;typeof r=="function"?L=r(P):L=[r,E?"active":null,T?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let R=typeof s=="function"?s(P):s;return j.createElement(Xo,{...m,"aria-current":O,className:L,ref:h,style:R,to:c,viewTransition:u},typeof f=="function"?f(P):f)});o1.displayName="NavLink";var cz=j.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:s,method:c=Xm,action:u,onSubmit:f,relative:m,preventScrollReset:h,viewTransition:v,unstable_defaultShouldRevalidate:x,...b},S)=>{let{unstable_useTransitions:w}=j.useContext(qn),y=pz(),C=hz(u,{relative:m}),M=c.toLowerCase()==="get"?"get":"post",A=typeof u=="string"&&tO.test(u),_=E=>{if(f&&f(E),E.defaultPrevented)return;E.preventDefault();let T=E.nativeEvent.submitter,P=T?.getAttribute("formmethod")||c,O=()=>y(T||E.currentTarget,{fetcherKey:t,method:P,navigate:n,replace:a,state:s,relative:m,preventScrollReset:h,viewTransition:v,unstable_defaultShouldRevalidate:x});w&&n!==!1?j.startTransition(()=>O()):O()};return j.createElement("form",{ref:S,method:M,action:C,onSubmit:r?f:_,...b,"data-discover":!A&&e==="render"?"true":void 0})});cz.displayName="Form";function uz(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rO(e){let t=j.useContext(Sc);return rr(t,uz(e)),t}function dz(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:s,viewTransition:c,unstable_defaultShouldRevalidate:u,unstable_useTransitions:f}={}){let m=Jl(),h=ca(),v=Sd(e,{relative:s});return j.useCallback(x=>{if(H6(x,t)){x.preventDefault();let b=n!==void 0?n:rd(h)===rd(v),S=()=>m(e,{replace:b,state:r,preventScrollReset:a,relative:s,viewTransition:c,unstable_defaultShouldRevalidate:u});f?j.startTransition(()=>S()):S()}},[h,m,v,n,r,t,e,a,s,c,u,f])}var fz=0,mz=()=>`__${String(++fz)}__`;function pz(){let{router:e}=rO("useSubmit"),{basename:t}=j.useContext(qn),n=T6(),r=e.fetch,a=e.navigate;return j.useCallback(async(s,c={})=>{let{action:u,method:f,encType:m,formData:h,body:v}=V6(s,t);if(c.navigate===!1){let x=c.fetcherKey||mz();await r(x,n,c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:h,body:v,formMethod:c.method||f,formEncType:c.encType||m,flushSync:c.flushSync})}else await a(c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:h,body:v,formMethod:c.method||f,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,a,t,n])}function hz(e,{relative:t}={}){let{basename:n}=j.useContext(qn),r=j.useContext(Ma);rr(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),s={...Sd(e||".",{relative:t})},c=ca();if(e==null){s.search=c.search;let u=new URLSearchParams(s.search),f=u.getAll("index");if(f.some(h=>h==="")){u.delete("index"),f.filter(v=>v).forEach(v=>u.append("index",v));let h=u.toString();s.search=h?`?${h}`:""}}return(!e||e===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Li([n,s.pathname])),rd(s)}function vz(e,{relative:t}={}){let n=j.useContext(Y_);rr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=rO("useViewTransitionState"),a=Sd(e,{relative:t});if(!n.isTransitioning)return!1;let s=$i(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=$i(n.nextLocation.pathname,r)||n.nextLocation.pathname;return mp(a.pathname,c)!=null||mp(a.pathname,s)!=null}var Cd=z_();const xz=si(Cd),gz="AKfycbxE3XLsPtfg8goiLv8szt3-_Jokx-fzU5Nmevxzp48b-ZAW6J5Kp3GAGtbBue84JBkt",c1="cf_access_token",u1="cf_token_expiry",d1="cf_user_name";function hp(){const e=localStorage.getItem(u1);return e&&Date.now()>Number(e)?(Jm(),null):localStorage.getItem(c1)}function bC(e,t=3500){localStorage.setItem(c1,e),localStorage.setItem(u1,String(Date.now()+t*1e3))}function Jm(){localStorage.removeItem(c1),localStorage.removeItem(u1),localStorage.removeItem(d1)}function yC(){return!!hp()}function wC(e){localStorage.setItem(d1,e)}function bz(){return localStorage.getItem(d1)||""}let Gb=null;function yz(e){Gb=e}async function Ee(e,t={},n=!0){const r=hp();if(!r)throw new Error("Not authenticated. Please sign in.");const u=await(await fetch(`https://script.googleapis.com/v1/scripts/${gz}:run`,{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify({function:"apiRouter",devMode:!1,parameters:[{action:e,params:t,userName:bz()}]})})).json();if(u.error){if(n&&(u.error.code===401||u.error.code===403||u.error.status==="UNAUTHENTICATED"||u.error.status==="PERMISSION_DENIED")&&Gb)try{return await Gb(),Ee(e,t,!1)}catch{}if(u.error.details&&u.error.details.length>0){const f=u.error.details[0];throw new Error(f.errorMessage||"Script execution error")}throw new Error(u.error.message||"API error")}if(u.response&&u.response.result!==void 0){const f=u.response.result;if(f&&!f.success){const h=new Error(f.error||"Unknown error");throw h.code=f.code,h}const m=f?f.data:null;if(m&&m.success===!1)throw new Error(m.message||"Operation failed");return m}throw new Error("Unexpected response format")}const jC=()=>Ee("auth:me"),wz=(e,t)=>Ee("auth:invite",{email:e,name:t}),vp=()=>Ee("data:load-all"),nO=()=>Ee("members:list"),aO=e=>Ee("member:create",e),iO=e=>Ee("member:update",e),sO=e=>Ee("member:delete",{memberId:e}),lO=()=>Ee("banks:list"),oO=e=>Ee("bank:create",e),jz=e=>Ee("bank:update",e),cO=e=>Ee("bank:delete",{accountId:e}),uO=()=>Ee("invaccounts:list"),dO=e=>Ee("invacct:create",e),Nz=e=>Ee("invacct:update",e),fO=e=>Ee("invacct:delete",{accountId:e}),Sz=()=>Ee("portfolios:list"),Cz=e=>Ee("portfolio:create",e),Az=e=>Ee("portfolio:update",e),Mz=e=>Ee("portfolio:delete",{portfolioId:e}),kz=e=>Ee("mf:invest",e),Dz=e=>Ee("mf:redeem",e),Ez=e=>Ee("mf:switch",e),_z=(e,t)=>Ee("mf:allocations-update",{portfolioId:e,allocations:t}),Oz=()=>Ee("funds:all"),Tz=e=>Ee("asset-allocation:save",e),mO=()=>Ee("goals:list"),pO=e=>Ee("goal:create",e),Pz=(e,t)=>Ee("goal:update",{goalId:e,...t}),hO=e=>Ee("goal:delete",{goalId:e}),Iz=()=>Ee("goal:mappings-list"),Rz=(e,t)=>Ee("goal:mappings-update",{goalId:e,mappings:t}),vO=()=>Ee("insurance:list"),xO=e=>Ee("insurance:create",e),Lz=e=>Ee("insurance:update",e),gO=e=>Ee("insurance:delete",{policyId:e}),bO=()=>Ee("liabilities:list"),yO=e=>Ee("liability:create",e),zz=e=>Ee("liability:update",e),wO=e=>Ee("liability:delete",{liabilityId:e}),jO=()=>Ee("otherinv:list"),NO=e=>Ee("otherinv:create",e),Fz=e=>Ee("otherinv:update",e),SO=e=>Ee("otherinv:delete",{investmentId:e}),CO=()=>Ee("stock-portfolios:list"),AO=e=>Ee("stock-portfolio:create",e),Bz=e=>Ee("stock-portfolio:update",e),MO=e=>Ee("stock-portfolio:delete",{portfolioId:e}),$z=e=>Ee("stock:buy",e),qz=e=>Ee("stock:sell",e),Hz=e=>Ee("mf-transaction:delete",{transactionId:e}),Uz=e=>Ee("mf-transaction:edit",e),Yz=()=>Ee("mf-holdings:list"),Vz=()=>Ee("mf-transactions:list"),Gz=()=>Ee("stock-holdings:list-all"),Kz=()=>Ee("stock-transactions:list-all"),kO=()=>Ee("reminders:list"),DO=e=>Ee("reminder:create",e),Wz=e=>Ee("reminder:update",e),EO=e=>Ee("reminder:delete",{reminderId:e}),Qz=e=>Ee("healthcheck:save",e),_O=()=>Ee("healthcheck:get"),Xz=()=>Ee("settings:list"),Zz=e=>Ee("settings:update",e),Jz=()=>Ee("market:data"),eF=()=>Ee("data:refresh-master");typeof window<"u"&&(window._cf={callAPI:Ee,checkTriggers:()=>Ee("test:triggers"),diagnose:()=>Ee("test:diagnose")});const tF="capital-friends",rF=1,wn="cache";let Ou=null;function Ac(){return Ou||(Ou=new Promise((e,t)=>{const n=indexedDB.open(tF,rF);n.onupgradeneeded=r=>{const a=r.target.result;a.objectStoreNames.contains(wn)||a.createObjectStore(wn,{keyPath:"key"})},n.onsuccess=()=>e(n.result),n.onerror=()=>{console.warn("[idb] Failed to open database:",n.error),Ou=null,t(n.error)}}),Ou)}async function OO(e){try{const t=await Ac();return new Promise(n=>{const a=t.transaction(wn,"readonly").objectStore(wn).get(e);a.onsuccess=()=>n(a.result?a.result.data:null),a.onerror=()=>n(null)})}catch{return null}}async function nF(e){try{const t=await Ac();return new Promise(n=>{const a=t.transaction(wn,"readonly").objectStore(wn).get(e);a.onsuccess=()=>n(a.result||null),a.onerror=()=>n(null)})}catch{return null}}async function hn(e,t){try{const n=await Ac();return new Promise(r=>{const a=n.transaction(wn,"readwrite");a.objectStore(wn).put({key:e,data:t,updatedAt:Date.now()}),a.oncomplete=()=>r(),a.onerror=()=>r()})}catch{}}async function aF(){try{const e=await Ac();return new Promise(t=>{const r=e.transaction(wn,"readonly").objectStore(wn).getAll();r.onsuccess=()=>{const a={};for(const s of r.result||[])a[s.key]=s.data;t(a)},r.onerror=()=>t({})})}catch{return{}}}async function q0(e){try{const t=await Ac();return new Promise(n=>{const r=t.transaction(wn,"readwrite"),a=r.objectStore(wn),s=Date.now();for(const[c,u]of Object.entries(e))a.put({key:c,data:u,updatedAt:s});r.oncomplete=()=>n(),r.onerror=()=>n()})}catch{}}async function iF(){try{const e=await Ac();return new Promise(t=>{const n=e.transaction(wn,"readwrite");n.objectStore(wn).clear(),n.oncomplete=()=>t(),n.onerror=()=>t()})}catch{}}const TO=j.createContext(null),sF="868467315292-7hfrvkh8pq8f1e2l3v38m6qrupboa295.apps.googleusercontent.com",lF=["https://www.googleapis.com/auth/spreadsheets","https://www.googleapis.com/auth/drive","https://www.googleapis.com/auth/gmail.send","https://www.googleapis.com/auth/script.scriptapp","openid","email","profile"].join(" "),f1="cf_user_profile";function NC(){try{const e=localStorage.getItem(f1);return e?JSON.parse(e):null}catch{return null}}function oF(e){try{localStorage.setItem(f1,JSON.stringify(e))}catch{}}function SC(){localStorage.removeItem(f1)}function cF({children:e}){const t=yC()?NC():null,[n,r]=j.useState(t),[a,s]=j.useState(!t),[c,u]=j.useState(null),f=j.useRef(null);function m(C){r(C),C?oF(C):SC()}j.useEffect(()=>{const C=()=>{if(!window.google?.accounts?.oauth2){setTimeout(C,200);return}f.current=window.google.accounts.oauth2.initTokenClient({client_id:sF,scope:lF,callback:h}),yz(b),yC()?x():s(!1)};C()},[]);async function h(C){if(C.error){u(C.error_description||C.error),s(!1);return}try{s(!0),u(null),bC(C.access_token,C.expires_in);const M=await v(C.access_token);wC(M.name||"");const A=await jC();m({email:A.email||M.email,name:A.name||M.name,role:A.role,picture:M.picture||""})}catch(M){u(M.message),Jm(),m(null)}finally{s(!1)}}async function v(C){const M=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${C}`}});if(!M.ok)throw new Error("Failed to fetch user profile");return M.json()}async function x(){const C=!!NC();try{const M=hp(),A=await v(M);wC(A.name||"");const _=await jC();m({email:_.email||A.email,name:_.name||A.name,role:_.role,picture:A.picture||""})}catch{Jm(),m(null)}finally{C||s(!1)}}function b(){return new Promise((C,M)=>{if(!f.current){M(new Error("Token client not initialized"));return}const A=f.current,_=A.callback;A.callback=E=>{A.callback=_,E.error?M(new Error(E.error)):(bC(E.access_token,E.expires_in),C())},A.requestAccessToken({prompt:""})})}const S=j.useCallback(()=>{f.current&&(u(null),f.current.requestAccessToken())},[]),w=j.useCallback(()=>{const C=hp();C&&window.google?.accounts?.oauth2&&window.google.accounts.oauth2.revoke(C),Jm(),SC(),iF(),sessionStorage.removeItem("cf_health_check"),r(null)},[]),y={user:n,loading:a,error:c,isAuthenticated:!!n,isOwner:n?.role==="owner",signIn:S,signOut:w};return l.jsx(TO.Provider,{value:y,children:e})}function eo(){const e=j.useContext(TO);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const PO=j.createContext();function uF({children:e}){const[t,n]=j.useState(()=>{const a=localStorage.getItem("cf-theme");return a||(window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark")});j.useEffect(()=>{localStorage.setItem("cf-theme",t),document.documentElement.setAttribute("data-theme",t)},[t]);const r=()=>n(a=>a==="dark"?"light":"dark");return l.jsx(PO.Provider,{value:{theme:t,toggle:r},children:e})}function IO(){return j.useContext(PO)}const RO=j.createContext(),LO="cf_hc_done";function dF(){try{return sessionStorage.getItem(LO)==="1"?!0:null}catch{return null}}function Fo(e){try{sessionStorage.setItem(LO,e?"1":"0")}catch{}}function fF({children:e}){const{isAuthenticated:t}=eo(),n=t?dF():null,[r,a]=j.useState(!0),[s,c]=j.useState(!1),[u,f]=j.useState(null),[m,h]=j.useState(null),[v,x]=j.useState(null),[b,S]=j.useState(null),[w,y]=j.useState(null),[C,M]=j.useState(null),[A,_]=j.useState(null),[E,T]=j.useState(null),[P,O]=j.useState(null),[L,R]=j.useState(null),[B,D]=j.useState(null),[W,X]=j.useState(null),[Z,$]=j.useState(null),[G,z]=j.useState(null),[te,ve]=j.useState(null),[F,ae]=j.useState(null),[he,ye]=j.useState(null),[je,Ie]=j.useState(null),[me,ge]=j.useState(n!==null?n:null),K=j.useRef(!1),Ne=j.useCallback(H=>{H&&("members"in H&&h(H.members||[]),"bankAccounts"in H&&x(H.bankAccounts||[]),"investments"in H&&S(H.investments||[]),"insurancePolicies"in H&&y(H.insurancePolicies||[]),"liabilities"in H&&M(H.liabilities||[]),"otherInvestments"in H&&_(H.otherInvestments||[]),"stockPortfolios"in H&&T(H.stockPortfolios||[]),"stockHoldings"in H&&O(H.stockHoldings||[]),"stockTransactions"in H&&R(H.stockTransactions||[]),"mfPortfolios"in H&&D(H.mfPortfolios||[]),"mfHoldings"in H&&X((H.mfHoldings||[]).map(we=>we.schemeCode?we:{...we,schemeCode:we.fundCode})),"mfTransactions"in H&&$(H.mfTransactions||[]),"goals"in H&&z(H.goals||[]),"reminders"in H&&ve(H.reminders||[]),"goalPortfolioMappings"in H&&ae(H.goalPortfolioMappings||[]),"assetAllocations"in H&&ye(H.assetAllocations||[]),"settings"in H&&Ie(H.settings||{}))},[]),qe=j.useCallback(H=>{q0({members:H.members||[],bankAccounts:H.bankAccounts||[],investments:H.investments||[],insurancePolicies:H.insurancePolicies||[],liabilities:H.liabilities||[],otherInvestments:H.otherInvestments||[],stockPortfolios:H.stockPortfolios||[],stockHoldings:H.stockHoldings||[],stockTransactions:H.stockTransactions||[],mfPortfolios:H.mfPortfolios||[],mfHoldings:H.mfHoldings||[],mfTransactions:H.mfTransactions||[],goals:H.goals||[],reminders:H.reminders||[],goalPortfolioMappings:H.goalPortfolioMappings||[],assetAllocations:H.assetAllocations||[]})},[]),be=j.useCallback(async(H=!1)=>{try{H?c(!0):a(!0),f(null);const we=await vp();Ne(we),qe(we)}catch(we){f(we.message)}finally{a(!1),c(!1)}},[Ne,qe]),Ze=j.useCallback(async()=>{const H=await nO();h(H||[]),hn("members",H||[])},[]),Ue=j.useCallback(async()=>{const H=await lO();x(H||[]),hn("bankAccounts",H||[])},[]),jt=j.useCallback(async()=>{const H=await uO();S(H||[]),hn("investments",H||[])},[]),vt=j.useCallback(async()=>{const H=await vO();y(H||[]),hn("insurancePolicies",H||[])},[]),ut=j.useCallback(async()=>{const H=await bO();M(H||[]),hn("liabilities",H||[])},[]),Nt=j.useCallback(async()=>{const H=await jO();_(H||[]),hn("otherInvestments",H||[])},[]),Pe=j.useCallback(async()=>{const[H,we]=await Promise.all([mO(),Iz()]);z(H||[]),ae(we||[]),hn("goals",H||[]),hn("goalPortfolioMappings",we||[])},[]),Ye=j.useCallback(async()=>{const H=await kO();ve(H||[]),hn("reminders",H||[])},[]),at=j.useCallback(async()=>{const[H,we,xt]=await Promise.all([Sz(),Yz(),Vz()]),sn=(we||[]).map(Ta=>Ta.schemeCode?Ta:{...Ta,schemeCode:Ta.fundCode});D(H||[]),X(sn),$(xt||[]),q0({mfPortfolios:H||[],mfHoldings:sn,mfTransactions:xt||[]})},[]),Bt=j.useCallback(async()=>{const[H,we,xt]=await Promise.all([CO(),Gz(),Kz()]);T(H||[]),O(we||[]),R(xt||[]),q0({stockPortfolios:H||[],stockHoldings:we||[],stockTransactions:xt||[]})},[]),Ut=j.useCallback(async()=>{const H=await Xz();Ie(H||{}),hn("settings",H||{})},[]),St=j.useCallback(async H=>{await Zz(H),await Ut()},[Ut]),Hn=j.useCallback(async()=>{try{const H=await OO("healthCheckAnswers");if(H&&Object.keys(H).length>0){ge(!0),Fo(!0);return}const we=await _O();we&&Object.keys(we).length>0?(ge(!0),Fo(!0),hn("healthCheckAnswers",we)):(ge(!1),Fo(!1))}catch{ge(!1),Fo(!1)}},[]),is=j.useCallback(async H=>{const we=await Qz(H);return we?.success&&(ge(!0),Fo(!0),hn("healthCheckAnswers",H)),we},[]);j.useEffect(()=>{if(!t){a(!1);return}if(K.current)return;K.current=!0;async function H(){const we=await aF(),xt=Object.keys(we).length>0;xt&&(Ne(we),we.healthCheckAnswers&&Object.keys(we.healthCheckAnswers).length>0&&(ge(!0),Fo(!0)),a(!1));try{xt&&c(!0);const sn=await vp();Ne(sn),qe(sn)}catch(sn){xt||f(sn.message)}finally{a(!1),c(!1)}}H(),Ut().catch(()=>{}),n===null&&Hn().catch(()=>{})},[t,Ne,qe,Ut,Hn]),j.useEffect(()=>{t||(K.current=!1)},[t]);const ue=j.useCallback(async H=>{const we=await aO(H);if(H.email)try{await wz(H.email,H.memberName)}catch(xt){console.warn("Auto-invite failed (non-blocking):",xt.message)}return await Ze(),we},[Ze]),xe=j.useCallback(async(H,we)=>{await iO({memberId:H,...we}),await Ze()},[Ze]),Fe=j.useCallback(async H=>{await sO(H),await Ze()},[Ze]),$t=j.useCallback(async H=>{const we=await oO(H);return await Ue(),we},[Ue]),Y=j.useCallback(async(H,we)=>{await jz({accountId:H,...we}),await Ue()},[Ue]),ce=j.useCallback(async H=>{await cO(H),await Ue()},[Ue]),Ce=j.useCallback(async H=>{const we=await dO(H);return await jt(),we},[jt]),De=j.useCallback(async(H,we)=>{await Nz({accountId:H,...we}),await jt()},[jt]),ze=j.useCallback(async H=>{await fO(H),await jt()},[jt]),ie=j.useCallback(async H=>{const we=await xO(H);return await vt(),we},[vt]),Tt=j.useCallback(async(H,we)=>{await Lz({policyId:H,...we}),await vt()},[vt]),He=j.useCallback(async H=>{await gO(H),await vt()},[vt]),Mt=j.useCallback(async H=>{const we=await yO(H);return await ut(),we},[ut]),Xt=j.useCallback(async(H,we)=>{await zz({liabilityId:H,...we}),await ut()},[ut]),Be=j.useCallback(async H=>{await wO(H),await ut()},[ut]),Yt=j.useCallback(async H=>{const we=await NO(H);return await Nt(),H.quickLoan&&await ut(),we},[Nt,ut]),Xe=j.useCallback(async(H,we)=>{await Fz({investmentId:H,...we}),await Nt(),await ut()},[Nt,ut]),Se=j.useCallback(async H=>{await SO(H),await Nt()},[Nt]),We=j.useCallback(async H=>{const we=await pO(H);return await Pe(),we},[Pe]),et=j.useCallback(async(H,we)=>{await Pz(H,we),await Pe()},[Pe]),Pt=j.useCallback(async H=>{await hO(H),await Pe()},[Pe]),zr=j.useCallback(async H=>{const we=await DO(H);return await Ye(),we},[Ye]),gr=j.useCallback(async(H,we)=>{await Wz({reminderId:H,...we}),await Ye()},[Ye]),Ae=j.useCallback(async H=>{await EO(H),await Ye()},[Ye]),_r=j.useCallback(async(H,we)=>{await Rz(H,we),await Pe()},[Pe]),fi=j.useCallback(async H=>{const we=await AO(H);return await Bt(),we},[Bt]),Ea=j.useCallback(async(H,we)=>{await Bz({portfolioId:H,...we}),await Bt()},[Bt]),_a=j.useCallback(async H=>{await MO(H),await Bt()},[Bt]),Oa=j.useCallback(async H=>{const we=await $z(H);return await Bt(),we},[Bt]),il=j.useCallback(async H=>{const we=await qz(H);return await Bt(),we},[Bt]),ss=j.useCallback(async H=>{const we=await Cz(H);return await at(),we},[at]),Nn=j.useCallback(async(H,we)=>{await Az({portfolioId:H,...we}),await at()},[at]),Cr=j.useCallback(async H=>{await Mz(H),await at()},[at]),Gr=j.useCallback(async(H,we)=>{const xt=await kz({...H,transactionType:we});return await at(),xt},[at]),ls=j.useCallback(async H=>{const we=await Dz(H);return await at(),we},[at]),Fc=j.useCallback(async H=>{const we=await Ez(H);return await at(),we},[at]),Sv=j.useCallback(async(H,we)=>{await _z(H,we),await at()},[at]),Cv=j.useCallback(async H=>{await Hz(H),await at()},[at]),Xd=j.useCallback(async H=>{await Uz(H),await at()},[at]),sl=j.useCallback(async H=>{const we=await Tz(H);return ye(xt=>{const sn=xt||[],Ta=sn.findIndex(Sn=>Sn.fundCode===H.fundCode),Zr={};H.equity&&(Zr.Equity=H.equity),H.debt&&(Zr.Debt=H.debt),H.cash&&(Zr.Cash=H.cash),H.realEstate&&(Zr["Real Estate"]=H.realEstate),H.commodities&&(Zr.Commodities=H.commodities),H.customAsset&&Object.entries(H.customAsset).forEach(([Sn,Pa])=>{Pa>0&&(Zr[Sn]=Pa)});const ln={};H.giantCap&&(ln.Giant=H.giantCap),H.largeCap&&(ln.Large=H.largeCap),H.midCap&&(ln.Mid=H.midCap),H.smallCap&&(ln.Small=H.smallCap),H.microCap&&(ln.Micro=H.microCap),H.customCap&&Object.entries(H.customCap).forEach(([Sn,Pa])=>{Pa>0&&(ln[Sn]=Pa)});const ao={};H.geoIndia&&(ao.India=H.geoIndia),H.geoGlobal&&(ao.Global=H.geoGlobal),H.customGeo&&Object.entries(H.customGeo).forEach(([Sn,Pa])=>{Pa>0&&(ao[Sn]=Pa)});const $c={fundCode:H.fundCode,fundName:H.fundName,assetAllocation:Zr,equityAllocation:ln,geoAllocation:ao};if(Ta>=0){const Sn=[...sn];return Sn[Ta]=$c,Sn}return[...sn,$c]}),we},[]),Bc=(m||[]).filter(H=>H.status==="Active"),os=(v||[]).filter(H=>H.status==="Active"),cs=(b||[]).filter(H=>H.status==="Active");return l.jsx(RO.Provider,{value:{loading:r,isRefreshing:s,error:u,refreshData:be,members:m,banks:v,investmentAccounts:b,insurancePolicies:w,liabilityList:C,otherInvList:A,activeMembers:Bc,activeBanks:os,activeInvestmentAccounts:cs,addMember:ue,updateMember:xe,deleteMember:Fe,addBankAccount:$t,updateBankAccount:Y,deleteBankAccount:ce,addInvestmentAccount:Ce,updateInvestmentAccount:De,deleteInvestmentAccount:ze,addInsurance:ie,updateInsurance:Tt,deleteInsurance:He,addLiability:Mt,updateLiability:Xt,deleteLiability:Be,addOtherInvestment:Yt,updateOtherInvestment:Xe,deleteOtherInvestment:Se,goalList:G,addGoal:We,updateGoal:et,deleteGoal:Pt,reminderList:te,addReminder:zr,updateReminder:gr,deleteReminder:Ae,goalPortfolioMappings:F,updateGoalMappings:_r,assetAllocations:he,updateAssetAllocation:sl,stockPortfolios:E,stockHoldings:P,stockTransactions:L,addStockPortfolio:fi,updateStockPortfolio:Ea,deleteStockPortfolio:_a,buyStock:Oa,sellStock:il,mfPortfolios:B,mfHoldings:W,mfTransactions:Z,addMFPortfolio:ss,updateMFPortfolio:Nn,deleteMFPortfolio:Cr,investMF:Gr,redeemMF:ls,switchMF:Fc,updateHoldingAllocations:Sv,deleteMFTransaction:Cv,editMFTransaction:Xd,settings:je,updateSettings:St,refreshSettings:Ut,healthCheckCompleted:me,completeHealthCheck:is},children:e})}function pt(){return j.useContext(RO)}const zO=j.createContext();function mF({children:e}){const{activeMembers:t}=pt(),[n,r]=j.useState("all"),a=t.find(s=>s.memberId===n)||null;return l.jsx(zO.Provider,{value:{selectedMember:n,setSelectedMember:r,member:a,familyMembers:t},children:e})}function Yr(){return j.useContext(zO)}const FO=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();const pF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const hF=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase());const CC=e=>{const t=hF(e);return t.charAt(0).toUpperCase()+t.slice(1)};var vF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const xF=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const gF=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:s,iconNode:c,...u},f)=>j.createElement("svg",{ref:f,...vF,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:FO("lucide",a),...!s&&!xF(u)&&{"aria-hidden":"true"},...u},[...c.map(([m,h])=>j.createElement(m,h)),...Array.isArray(s)?s:[s]]));const _e=(e,t)=>{const n=j.forwardRef(({className:r,...a},s)=>j.createElement(gF,{ref:s,iconNode:t,className:FO(`lucide-${pF(CC(e))}`,`lucide-${e}`,r),...a}));return n.displayName=CC(e),n};const bF=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],yF=_e("arrow-down",bF);const wF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],jF=_e("arrow-right",wF);const NF=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],SF=_e("arrow-up-down",NF);const CF=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],AF=_e("bell-off",CF);const MF=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ah=_e("bell",MF);const kF=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],BO=_e("briefcase",kF);const DF=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],EF=_e("calendar",DF);const _F=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ed=_e("chart-column",_F);const OF=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],AC=_e("chart-pie",OF);const TF=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],MC=_e("check",TF);const PF=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ga=_e("chevron-down",PF);const IF=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],RF=_e("chevron-left",IF);const LF=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],m1=_e("chevron-right",LF);const zF=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],FF=_e("chevron-up",zF);const BF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],$O=_e("circle-arrow-down",BF);const $F=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],qF=_e("circle-check-big",$F);const HF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Mc=_e("circle-check",HF);const UF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],qO=_e("circle-x",UF);const YF=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],HO=_e("clipboard-check",YF);const VF=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],GF=_e("coffee",VF);const KF=[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]],WF=_e("construction",KF);const QF=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],nd=_e("credit-card",QF);const XF=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],ZF=_e("database",XF);const JF=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],e8=_e("dollar-sign",JF);const t8=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],r8=_e("ellipsis-vertical",t8);const n8=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],a8=_e("ellipsis",n8);const i8=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],p1=_e("eye",i8);const s8=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ep=_e("eye-off",s8);const l8=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],o8=_e("file-spreadsheet",l8);const c8=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],UO=_e("file-text",c8);const u8=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],YO=_e("funnel",u8);const d8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],f8=_e("globe",d8);const m8=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],xp=_e("heart",m8);const p8=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],h8=_e("indian-rupee",p8);const v8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],x8=_e("info",v8);const g8=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],VO=_e("landmark",g8);const b8=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],GO=_e("layers",b8);const y8=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],KO=_e("link-2",y8);const w8=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],gp=_e("list",w8);const j8=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],WO=_e("loader-circle",j8);const N8=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],H0=_e("lock",N8);const S8=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],C8=_e("log-in",S8);const A8=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],QO=_e("log-out",A8);const M8=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],k8=_e("mail",M8);const D8=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],E8=_e("menu",D8);const _8=[["path",{d:"M5 12h14",key:"1ays0h"}]],U0=_e("minus",_8);const O8=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],XO=_e("moon",O8);const T8=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ZO=_e("package",T8);const P8=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],ka=_e("pencil",P8);const I8=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],R8=_e("piggy-bank",I8);const L8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Pr=_e("plus",L8);const z8=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ic=_e("refresh-cw",z8);const F8=[["path",{d:"m2 9 3-3 3 3",key:"1ltn5i"}],["path",{d:"M13 18H7a2 2 0 0 1-2-2V6",key:"1r6tfw"}],["path",{d:"m22 15-3 3-3-3",key:"4rnwn2"}],["path",{d:"M11 6h6a2 2 0 0 1 2 2v10",key:"2f72bc"}]],B8=_e("repeat-2",F8);const $8=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],q8=_e("repeat",$8);const H8=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],JO=_e("save",H8);const U8=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],eT=_e("search",U8);const Y8=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],tT=_e("settings-2",Y8);const V8=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],h1=_e("settings",V8);const G8=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],K8=_e("shield-alert",G8);const W8=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],td=_e("shield",W8);const Q8=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Kb=_e("sun",Q8);const X8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Ad=_e("target",X8);const Z8=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Mh=_e("trash-2",Z8);const J8=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],kh=_e("trending-down",J8);const eB=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],sc=_e("trending-up",eB);const tB=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Hs=_e("triangle-alert",tB);const rB=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],kC=_e("trophy",rB);const nB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],aB=_e("user",nB);const iB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],lc=_e("users",iB);const sB=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],ec=_e("wallet",sB);const lB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Us=_e("x",lB);const oB=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Wb=_e("zap",oB),rT=j.createContext();function cB({children:e}){const[t,n]=j.useState([]),[r,a]=j.useState(null),s=j.useRef(0),c=j.useCallback((h,v="success",x=3e3)=>{const b=++s.current;n(S=>[...S,{id:b,message:h,type:v}]),setTimeout(()=>n(S=>S.filter(w=>w.id!==b)),x)},[]),u=j.useCallback(h=>{n(v=>v.filter(x=>x.id!==h))},[]),f=j.useCallback((h="Saving...")=>{a(h)},[]),m=j.useCallback(()=>{a(null)},[]);return l.jsxs(rT.Provider,{value:{showToast:c,showBlockUI:f,hideBlockUI:m},children:[e,r&&l.jsx("div",{className:"fixed inset-0 z-[200] bg-black/50 backdrop-blur-sm flex items-center justify-center",children:l.jsxs("div",{className:"flex flex-col items-center gap-3 bg-[var(--bg-card)] rounded-xl px-8 py-6 border border-[var(--border)] shadow-2xl",children:[l.jsx("span",{className:"w-7 h-7 border-[2.5px] border-violet-400/30 border-t-violet-400 rounded-full animate-spin"}),l.jsx("span",{className:"text-sm font-semibold text-[var(--text-primary)]",children:r})]})}),t.length>0&&l.jsx("div",{className:"fixed bottom-20 sm:bottom-6 left-1/2 -translate-x-1/2 z-[100] flex flex-col gap-2 items-center pointer-events-none",children:t.map(h=>l.jsxs("div",{className:`pointer-events-auto flex items-center gap-2 px-4 py-2.5 rounded-lg shadow-xl border text-sm font-medium animate-fade-in ${h.type==="error"?"bg-rose-500/15 border-rose-500/30 text-[var(--accent-rose)]":h.type==="warning"?"bg-amber-500/15 border-amber-500/30 text-amber-400":"bg-emerald-500/15 border-emerald-500/30 text-emerald-400"}`,style:{backdropFilter:"blur(12px)"},children:[h.type==="error"?l.jsx(qO,{size:16}):h.type==="warning"?l.jsx(Hs,{size:16}):l.jsx(Mc,{size:16}),l.jsx("span",{children:h.message}),l.jsx("button",{onClick:()=>u(h.id),className:"ml-1 opacity-60 hover:opacity-100 transition-opacity",children:l.jsx(Us,{size:14})})]},h.id))})]})}function li(){return j.useContext(rT)}const nT=j.createContext();function uB({children:e}){const[t,n]=j.useState(null),r=j.useRef(null),a=j.useCallback((u,{title:f="Confirm",confirmLabel:m="Yes, proceed",cancelLabel:h="Cancel",destructive:v=!0}={})=>new Promise(x=>{r.current=x,n({message:u,title:f,confirmLabel:m,cancelLabel:h,destructive:v})}),[]);function s(){r.current?.(!0),r.current=null,n(null)}function c(){r.current?.(!1),r.current=null,n(null)}return l.jsxs(nT.Provider,{value:{confirm:a},children:[e,t&&l.jsxs("div",{className:"fixed inset-0 z-[300] flex items-center justify-center px-4",onClick:c,children:[l.jsx("div",{className:"fixed inset-0 bg-black/60"}),l.jsxs("div",{className:"relative bg-[var(--bg-card)] border border-[var(--border)] rounded-xl shadow-2xl w-full max-w-sm p-5 animate-fade-in",onClick:u=>u.stopPropagation(),children:[l.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[l.jsx("span",{className:`shrink-0 w-9 h-9 rounded-full flex items-center justify-center ${t.destructive?"bg-rose-500/15":"bg-violet-500/15"}`,children:l.jsx(Hs,{size:18,className:t.destructive?"text-[var(--accent-rose)]":"text-violet-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-bold text-[var(--text-primary)]",children:t.title}),l.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-1 leading-relaxed",children:t.message})]})]}),l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsx("button",{onClick:c,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:t.cancelLabel}),l.jsx("button",{onClick:s,autoFocus:!0,className:`px-4 py-2 text-xs font-bold text-white rounded-lg transition-colors ${t.destructive?"bg-rose-600 hover:bg-rose-500":"bg-violet-600 hover:bg-violet-500"}`,children:t.confirmLabel})]})]})]})]})}function oi(){return j.useContext(nT).confirm}const aT=j.createContext(),DC="cf-mask-data";function dB(e){return!e||e.length<4?"":""+e.slice(-4)}function fB(e){return!e||e.length<4?"  ":"  "+e.slice(-4)}function mB(e){return!e||e.length<3?"":""+e.slice(-3)}function pB(e){if(!e)return"@";const[t,n]=e.split("@");if(!n)return"@";const r=t.charAt(0)+"",a=n.split("."),s=a[0].charAt(0)+""+(a.length>1?"."+a.slice(1).join("."):"");return r+"@"+s}function hB(e){return!e||e.length<4?"":""+e.slice(-4)}function vB(e){return!e||e.length<3?"":""+e.slice(-3)}function xB(e){return!e||e.length<4?"":""+e.slice(-4)}function gB(e){return!e||e.length<2?"":e.split(/\s+/).map(t=>t.charAt(0)+"").join(" ")}const bB={pan:dB,aadhaar:fB,mobile:mB,email:pB,account:hB,clientId:vB,policy:xB,name:gB};function yB({children:e}){const[t,n]=j.useState(()=>{try{return localStorage.getItem(DC)==="true"}catch{return!1}});j.useEffect(()=>{try{localStorage.setItem(DC,String(t))}catch{}},[t]);const r=j.useCallback(()=>n(s=>!s),[]),a=j.useCallback((s,c)=>{if(!t||s==null||s==="")return s;const u=bB[c];return u?u(String(s)):s},[t]);return l.jsx(aT.Provider,{value:{masked:t,toggleMask:r,mv:a},children:e})}function ci(){return j.useContext(aT)}const EC=[{label:"Family",icon:lc,path:"/family"},{label:"Accounts",icon:nd,children:[{label:"Bank Accounts",icon:VO,path:"/accounts/bank"},{label:"Investment A/c",icon:BO,path:"/accounts/investment"}]},{label:"Insurance",icon:td,path:"/insurance"},{label:"Investments",icon:ec,children:[{label:"Mutual Funds",icon:ec,path:"/investments/mutual-funds"},{label:"Stocks",icon:ed,path:"/investments/stocks"},{label:"Other Investments",icon:ZO,path:"/investments/other"}]},{label:"Liabilities",icon:nd,path:"/liabilities"},{label:"Goals",icon:Ad,path:"/goals"},{label:"Settings",icon:h1,path:"/settings"}];function wB({open:e,onClose:t}){const n=ca(),r=EC.filter(u=>u.children?.some(f=>n.pathname.startsWith(f.path))).map(u=>u.label),[a,s]=j.useState(new Set(r));function c(u){s(f=>{const m=new Set(f);return m.has(u)?m.delete(u):m.add(u),m})}return l.jsxs(l.Fragment,{children:[e&&l.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 lg:hidden",onClick:t}),l.jsxs("aside",{className:`
        fixed top-0 left-0 z-50 h-full w-56
        bg-[var(--bg-sidebar)] border-r border-[var(--border)]
        flex flex-col transition-transform duration-300
        lg:hidden
        ${e?"translate-x-0":"-translate-x-full"}
      `,children:[l.jsxs("div",{className:"flex items-center justify-between px-3 h-12 border-b border-[var(--border)] shrink-0",children:[l.jsx("p",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Menu"}),l.jsx("button",{onClick:t,className:"p-1.5 rounded-md text-[var(--text-dim)] hover:text-[var(--text-primary)]",children:l.jsx(Us,{size:16})})]}),l.jsx("nav",{className:"flex-1 py-2 overflow-y-auto overflow-x-hidden",children:EC.map(u=>u.children?l.jsx(jB,{item:u,isOpen:a.has(u.label),onToggle:()=>c(u.label),onNavigate:t,currentPath:n.pathname},u.label):l.jsx(iT,{item:u,onNavigate:t},u.path))})]})]})}function iT({item:e,onNavigate:t,nested:n}){const{label:r,icon:a,path:s}=e;return l.jsx(o1,{to:s,onClick:t,end:s==="/",className:({isActive:c})=>`group flex items-center gap-2.5 ${n?"pl-11 pr-4 py-[7px]":"px-4 py-2.5"} text-[13px] font-medium transition-all border-r-2 ${c?"bg-[var(--sidebar-active-bg)] text-[var(--sidebar-active-text)] border-[var(--sidebar-active-text)]":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] border-transparent"}`,children:({isActive:c})=>l.jsxs(l.Fragment,{children:[l.jsx(a,{size:n?14:17,strokeWidth:c?2.2:1.7}),l.jsx("span",{children:r})]})})}function jB({item:e,isOpen:t,onToggle:n,onNavigate:r,currentPath:a}){const{label:s,icon:c,children:u}=e,f=u.some(m=>a.startsWith(m.path));return l.jsxs("div",{children:[l.jsxs("button",{onClick:n,className:`w-full group flex items-center gap-2.5 px-4 py-2.5 text-[13px] font-medium transition-all border-r-2 border-transparent ${f?"text-[var(--sidebar-active-text)]":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,children:[l.jsx(c,{size:17,strokeWidth:f?2.2:1.7}),l.jsx("span",{className:"flex-1 text-left",children:s}),l.jsx(Ga,{size:13,className:`text-[var(--text-dim)] transition-transform duration-200 ${t?"rotate-180":""}`})]}),t&&l.jsx("div",{className:"py-0.5",children:u.map(m=>l.jsx(iT,{item:m,onNavigate:r,nested:!0},m.path))})]})}function sT(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=sT(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function st(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=sT(e))&&(r&&(r+=" "),r+=t);return r}var NB=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function v1(e){if(typeof e!="string")return!1;var t=NB;return t.includes(e)}var SB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],CB=new Set(SB);function lT(e){return typeof e!="string"?!1:CB.has(e)}function oT(e){return typeof e=="string"&&e.startsWith("data-")}function oc(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(lT(n)||oT(n))&&(t[n]=e[n]);return t}function Qb(e){if(e==null)return null;if(j.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return oc(t)}return typeof e=="object"&&!Array.isArray(e)?oc(e):null}function ia(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(lT(n)||oT(n)||v1(n))&&(t[n]=e[n]);return t}var AB=["children","width","height","viewBox","className","style","title","desc"];function Xb(){return Xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xb.apply(null,arguments)}function MB(e,t){if(e==null)return{};var n,r,a=kB(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function kB(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var cT=j.forwardRef((e,t)=>{var{children:n,width:r,height:a,viewBox:s,className:c,style:u,title:f,desc:m}=e,h=MB(e,AB),v=s||{width:r,height:a,x:0,y:0},x=st("recharts-surface",c);return j.createElement("svg",Xb({},ia(h),{className:x,width:r,height:a,style:u,viewBox:"".concat(v.x," ").concat(v.y," ").concat(v.width," ").concat(v.height),ref:t}),j.createElement("title",null,f),j.createElement("desc",null,m),n)}),DB=["children","className"];function Zb(){return Zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zb.apply(null,arguments)}function EB(e,t){if(e==null)return{};var n,r,a=_B(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function _B(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ys=j.forwardRef((e,t)=>{var{children:n,className:r}=e,a=EB(e,DB),s=st("recharts-layer",r);return j.createElement("g",Zb({className:s},ia(a),{ref:t}),n)}),OB=j.createContext(null);function Vt(e){return function(){return e}}const uT=Math.cos,bp=Math.sin,Da=Math.sqrt,yp=Math.PI,Dh=2*yp,Jb=Math.PI,ey=2*Jb,Ml=1e-6,TB=ey-Ml;function dT(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function PB(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return dT;const n=10**t;return function(r){this._+=r[0];for(let a=1,s=r.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class IB{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?dT:PB(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,s,c){this._append`C${+t},${+n},${+r},${+a},${this._x1=+s},${this._y1=+c}`}arcTo(t,n,r,a,s){if(t=+t,n=+n,r=+r,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,u=this._y1,f=r-t,m=a-n,h=c-t,v=u-n,x=h*h+v*v;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(x>Ml)if(!(Math.abs(v*f-m*h)>Ml)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let b=r-c,S=a-u,w=f*f+m*m,y=b*b+S*S,C=Math.sqrt(w),M=Math.sqrt(x),A=s*Math.tan((Jb-Math.acos((w+x-y)/(2*C*M)))/2),_=A/M,E=A/C;Math.abs(_-1)>Ml&&this._append`L${t+_*h},${n+_*v}`,this._append`A${s},${s},0,0,${+(v*b>h*S)},${this._x1=t+E*f},${this._y1=n+E*m}`}}arc(t,n,r,a,s,c){if(t=+t,n=+n,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(a),f=r*Math.sin(a),m=t+u,h=n+f,v=1^c,x=c?a-s:s-a;this._x1===null?this._append`M${m},${h}`:(Math.abs(this._x1-m)>Ml||Math.abs(this._y1-h)>Ml)&&this._append`L${m},${h}`,r&&(x<0&&(x=x%ey+ey),x>TB?this._append`A${r},${r},0,1,${v},${t-u},${n-f}A${r},${r},0,1,${v},${this._x1=m},${this._y1=h}`:x>Ml&&this._append`A${r},${r},0,${+(x>=Jb)},${v},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function x1(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new IB(t)}function g1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function fT(e){this._context=e}fT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Eh(e){return new fT(e)}function mT(e){return e[0]}function pT(e){return e[1]}function hT(e,t){var n=Vt(!0),r=null,a=Eh,s=null,c=x1(u);e=typeof e=="function"?e:e===void 0?mT:Vt(e),t=typeof t=="function"?t:t===void 0?pT:Vt(t);function u(f){var m,h=(f=g1(f)).length,v,x=!1,b;for(r==null&&(s=a(b=c())),m=0;m<=h;++m)!(m<h&&n(v=f[m],m,f))===x&&((x=!x)?s.lineStart():s.lineEnd()),x&&s.point(+e(v,m,f),+t(v,m,f));if(b)return s=null,b+""||null}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Vt(+f),u):e},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Vt(+f),u):t},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Vt(!!f),u):n},u.curve=function(f){return arguments.length?(a=f,r!=null&&(s=a(r)),u):a},u.context=function(f){return arguments.length?(f==null?r=s=null:s=a(r=f),u):r},u}function fm(e,t,n){var r=null,a=Vt(!0),s=null,c=Eh,u=null,f=x1(m);e=typeof e=="function"?e:e===void 0?mT:Vt(+e),t=typeof t=="function"?t:Vt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?pT:Vt(+n);function m(v){var x,b,S,w=(v=g1(v)).length,y,C=!1,M,A=new Array(w),_=new Array(w);for(s==null&&(u=c(M=f())),x=0;x<=w;++x){if(!(x<w&&a(y=v[x],x,v))===C)if(C=!C)b=x,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=x-1;S>=b;--S)u.point(A[S],_[S]);u.lineEnd(),u.areaEnd()}C&&(A[x]=+e(y,x,v),_[x]=+t(y,x,v),u.point(r?+r(y,x,v):A[x],n?+n(y,x,v):_[x]))}if(M)return u=null,M+""||null}function h(){return hT().defined(a).curve(c).context(s)}return m.x=function(v){return arguments.length?(e=typeof v=="function"?v:Vt(+v),r=null,m):e},m.x0=function(v){return arguments.length?(e=typeof v=="function"?v:Vt(+v),m):e},m.x1=function(v){return arguments.length?(r=v==null?null:typeof v=="function"?v:Vt(+v),m):r},m.y=function(v){return arguments.length?(t=typeof v=="function"?v:Vt(+v),n=null,m):t},m.y0=function(v){return arguments.length?(t=typeof v=="function"?v:Vt(+v),m):t},m.y1=function(v){return arguments.length?(n=v==null?null:typeof v=="function"?v:Vt(+v),m):n},m.lineX0=m.lineY0=function(){return h().x(e).y(t)},m.lineY1=function(){return h().x(e).y(n)},m.lineX1=function(){return h().x(r).y(t)},m.defined=function(v){return arguments.length?(a=typeof v=="function"?v:Vt(!!v),m):a},m.curve=function(v){return arguments.length?(c=v,s!=null&&(u=c(s)),m):c},m.context=function(v){return arguments.length?(v==null?s=u=null:u=c(s=v),m):s},m}class vT{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function RB(e){return new vT(e,!0)}function LB(e){return new vT(e,!1)}const b1={draw(e,t){const n=Da(t/yp);e.moveTo(n,0),e.arc(0,0,n,0,Dh)}},zB={draw(e,t){const n=Da(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},xT=Da(1/3),FB=xT*2,BB={draw(e,t){const n=Da(t/FB),r=n*xT;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},$B={draw(e,t){const n=Da(t),r=-n/2;e.rect(r,r,n,n)}},qB=.8908130915292852,gT=bp(yp/10)/bp(7*yp/10),HB=bp(Dh/10)*gT,UB=-uT(Dh/10)*gT,YB={draw(e,t){const n=Da(t*qB),r=HB*n,a=UB*n;e.moveTo(0,-n),e.lineTo(r,a);for(let s=1;s<5;++s){const c=Dh*s/5,u=uT(c),f=bp(c);e.lineTo(f*n,-u*n),e.lineTo(u*r-f*a,f*r+u*a)}e.closePath()}},Y0=Da(3),VB={draw(e,t){const n=-Da(t/(Y0*3));e.moveTo(0,n*2),e.lineTo(-Y0*n,-n),e.lineTo(Y0*n,-n),e.closePath()}},ea=-.5,ta=Da(3)/2,ty=1/Da(12),GB=(ty/2+1)*3,KB={draw(e,t){const n=Da(t/GB),r=n/2,a=n*ty,s=r,c=n*ty+n,u=-s,f=c;e.moveTo(r,a),e.lineTo(s,c),e.lineTo(u,f),e.lineTo(ea*r-ta*a,ta*r+ea*a),e.lineTo(ea*s-ta*c,ta*s+ea*c),e.lineTo(ea*u-ta*f,ta*u+ea*f),e.lineTo(ea*r+ta*a,ea*a-ta*r),e.lineTo(ea*s+ta*c,ea*c-ta*s),e.lineTo(ea*u+ta*f,ea*f-ta*u),e.closePath()}};function WB(e,t){let n=null,r=x1(a);e=typeof e=="function"?e:Vt(e||b1),t=typeof t=="function"?t:Vt(t===void 0?64:+t);function a(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Vt(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Vt(+s),a):t},a.context=function(s){return arguments.length?(n=s??null,a):n},a}function wp(){}function jp(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function bT(e){this._context=e}bT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:jp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function QB(e){return new bT(e)}function yT(e){this._context=e}yT.prototype={areaStart:wp,areaEnd:wp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:jp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function XB(e){return new yT(e)}function wT(e){this._context=e}wT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:jp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ZB(e){return new wT(e)}function jT(e){this._context=e}jT.prototype={areaStart:wp,areaEnd:wp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function JB(e){return new jT(e)}function _C(e){return e<0?-1:1}function OC(e,t,n){var r=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(r||a<0&&-0),c=(n-e._y1)/(a||r<0&&-0),u=(s*a+c*r)/(r+a);return(_C(s)+_C(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(u))||0}function TC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function V0(e,t,n){var r=e._x0,a=e._y0,s=e._x1,c=e._y1,u=(s-r)/3;e._context.bezierCurveTo(r+u,a+u*t,s-u,c-u*n,s,c)}function Np(e){this._context=e}Np.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:V0(this,this._t0,TC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,V0(this,TC(this,n=OC(this,e,t)),n);break;default:V0(this,this._t0,n=OC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function NT(e){this._context=new ST(e)}(NT.prototype=Object.create(Np.prototype)).point=function(e,t){Np.prototype.point.call(this,t,e)};function ST(e){this._context=e}ST.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,s){this._context.bezierCurveTo(t,e,r,n,s,a)}};function e$(e){return new Np(e)}function t$(e){return new NT(e)}function CT(e){this._context=e}CT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=PC(e),a=PC(t),s=0,c=1;c<n;++s,++c)this._context.bezierCurveTo(r[0][s],a[0][s],r[1][s],a[1][s],e[c],t[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function PC(e){var t,n=e.length-1,r,a=new Array(n),s=new Array(n),c=new Array(n);for(a[0]=0,s[0]=2,c[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,s[t]=4,c[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,s[n-1]=7,c[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/s[t-1],s[t]-=r,c[t]-=r*c[t-1];for(a[n-1]=c[n-1]/s[n-1],t=n-2;t>=0;--t)a[t]=(c[t]-a[t+1])/s[t];for(s[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function r$(e){return new CT(e)}function _h(e,t){this._context=e,this._t=t}_h.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function n$(e){return new _h(e,.5)}function a$(e){return new _h(e,0)}function i$(e){return new _h(e,1)}function Yl(e,t){if((c=e.length)>1)for(var n=1,r,a,s=e[t[0]],c,u=s.length;n<c;++n)for(a=s,s=e[t[n]],r=0;r<u;++r)s[r][1]+=s[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function ry(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function s$(e,t){return e[t]}function l$(e){const t=[];return t.key=e,t}function o$(){var e=Vt([]),t=ry,n=Yl,r=s$;function a(s){var c=Array.from(e.apply(this,arguments),l$),u,f=c.length,m=-1,h;for(const v of s)for(u=0,++m;u<f;++u)(c[u][m]=[0,+r(v,c[u].key,m,s)]).data=v;for(u=0,h=g1(t(c));u<f;++u)c[h[u]].index=u;return n(c,h),c}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Vt(Array.from(s)),a):e},a.value=function(s){return arguments.length?(r=typeof s=="function"?s:Vt(+s),a):r},a.order=function(s){return arguments.length?(t=s==null?ry:typeof s=="function"?s:Vt(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(n=s??Yl,a):n},a}function c$(e,t){if((r=e.length)>0){for(var n,r,a=0,s=e[0].length,c;a<s;++a){for(c=n=0;n<r;++n)c+=e[n][a][1]||0;if(c)for(n=0;n<r;++n)e[n][a][1]/=c}Yl(e,t)}}function u$(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,s=r.length;n<s;++n){for(var c=0,u=0;c<a;++c)u+=e[c][n][1]||0;r[n][1]+=r[n][0]=-u/2}Yl(e,t)}}function d$(e,t){if(!(!((c=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,s,c;r<s;++r){for(var u=0,f=0,m=0;u<c;++u){for(var h=e[t[u]],v=h[r][1]||0,x=h[r-1][1]||0,b=(v-x)/2,S=0;S<u;++S){var w=e[t[S]],y=w[r][1]||0,C=w[r-1][1]||0;b+=y-C}f+=v,m+=b*v}a[r-1][1]+=a[r-1][0]=n,f&&(n-=m/f)}a[r-1][1]+=a[r-1][0]=n,Yl(e,t)}}var G0={},K0={},IC;function f$(){return IC||(IC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(K0)),K0}var W0={},RC;function AT(){return RC||(RC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(W0)),W0}var Q0={},LC;function y1(){return LC||(LC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(Q0)),Q0}var X0={},Z0={},zC;function m$(){return zC||(zC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(Z0)),Z0}var FC;function w1(){return FC||(FC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m$(),n=y1();function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],c=a.length;if(c===0)return s;let u=0,f="",m="",h=!1;for(a.charCodeAt(0)===46&&(s.push(""),u++);u<c;){const v=a[u];m?v==="\\"&&u+1<c?(u++,f+=a[u]):v===m?m="":f+=v:h?v==='"'||v==="'"?m=v:v==="]"?(h=!1,s.push(f),f=""):f+=v:v==="["?(h=!0,f&&(s.push(f),f="")):v==="."?f&&(s.push(f),f=""):f+=v,u++}return f&&s.push(f),s}e.toPath=r})(X0)),X0}var BC;function j1(){return BC||(BC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f$(),n=AT(),r=y1(),a=w1();function s(u,f,m){if(u==null)return m;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return m;const h=u[f];return h===void 0?n.isDeepKey(f)?s(u,a.toPath(f),m):m:h}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const h=u[f];return h===void 0?m:h}default:{if(Array.isArray(f))return c(u,f,m);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return m;const h=u[f];return h===void 0?m:h}}}function c(u,f,m){if(f.length===0)return m;let h=u;for(let v=0;v<f.length;v++){if(h==null||t.isUnsafeProperty(f[v]))return m;h=h[f[v]]}return h===void 0?m:h}e.get=s})(G0)),G0}var J0,$C;function p$(){return $C||($C=1,J0=j1().get),J0}var h$=p$();const ad=si(h$);var v$=4;function Ls(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v$,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function or(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((a,s,c)=>{var u=n[c-1];return typeof u=="string"?a+u+s:u!==void 0?a+Ls(u)+s:a+s},"")}var bn=e=>e===0?0:e>0?1:-1,qi=e=>typeof e=="number"&&e!=+e,Vl=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Qe=e=>(typeof e=="number"||e instanceof Number)&&!qi(e),Hi=e=>Qe(e)||typeof e=="string",x$=0,id=e=>{var t=++x$;return"".concat(e||"").concat(t)},Ln=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Qe(t)&&typeof t!="string")return r;var s;if(Vl(t)){if(n==null)return r;var c=t.indexOf("%");s=n*parseFloat(t.slice(0,c))/100}else s=+t;return qi(s)&&(s=r),a&&n!=null&&s>n&&(s=n),s},MT=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function va(e,t,n){return Qe(e)&&Qe(t)?Ls(e+n*(t-e)):t}function g$(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):ad(r,t))===n)}var Bn=e=>e===null||typeof e>"u",Md=e=>Bn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Ka(e){return e!=null}function kd(){}var b$=["type","size","sizeType"];function ny(){return ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ny.apply(null,arguments)}function qC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function HC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qC(Object(n),!0).forEach(function(r){y$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function y$(e,t,n){return(t=w$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w$(e){var t=j$(e,"string");return typeof t=="symbol"?t:t+""}function j$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N$(e,t){if(e==null)return{};var n,r,a=S$(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function S$(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var kT={symbolCircle:b1,symbolCross:zB,symbolDiamond:BB,symbolSquare:$B,symbolStar:YB,symbolTriangle:VB,symbolWye:KB},C$=Math.PI/180,A$=e=>{var t="symbol".concat(Md(e));return kT[t]||b1},M$=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*C$;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},k$=(e,t)=>{kT["symbol".concat(Md(e))]=t},DT=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,a=N$(e,b$),s=HC(HC({},a),{},{type:t,size:n,sizeType:r}),c="circle";typeof t=="string"&&(c=t);var u=()=>{var x=A$(c),b=WB().type(x).size(M$(n,r,c)),S=b();if(S!==null)return S},{className:f,cx:m,cy:h}=s,v=ia(s);return Qe(m)&&Qe(h)&&Qe(n)?j.createElement("path",ny({},v,{className:st("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:u()})):null};DT.registerSymbol=k$;var ET=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,D$=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(j.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{v1(a)&&(r[a]=(s=>n[a](n,s)))}),r},E$=(e,t,n)=>r=>(e(t,n,r),null),_$=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(a=>{var s=e[a];v1(a)&&typeof s=="function"&&(r||(r={}),r[a]=E$(s,t,n))}),r};function UC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function O$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UC(Object(n),!0).forEach(function(r){T$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T$(e,t,n){return(t=P$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P$(e){var t=I$(e,"string");return typeof t=="symbol"?t:t+""}function I$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ui(e,t){var n=O$({},e),r=t,a=Object.keys(t),s=a.reduce((c,u)=>(c[u]===void 0&&r[u]!==void 0&&(c[u]=r[u]),c),n);return s}var eg={},tg={},YC;function R$(){return YC||(YC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const a=new Map;for(let s=0;s<n.length;s++){const c=n[s],u=r(c,s,n);a.has(u)||a.set(u,c)}return Array.from(a.values())}e.uniqBy=t})(tg)),tg}var rg={},VC;function L$(){return VC||(VC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...a){return n.apply(this,a.slice(0,r))}}e.ary=t})(rg)),rg}var ng={},GC;function _T(){return GC||(GC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(ng)),ng}var ag={},ig={},sg={},KC;function z$(){return KC||(KC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(sg)),sg}var WC;function N1(){return WC||(WC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z$();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(ig)),ig}var lg={},QC;function F$(){return QC||(QC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(lg)),lg}var XC;function B$(){return XC||(XC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N1(),n=F$();function r(a){return n.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=r})(ag)),ag}var og={},cg={},ZC;function $$(){return ZC||(ZC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j1();function n(r){return function(a){return t.get(a,r)}}e.property=n})(cg)),cg}var ug={},dg={},fg={},mg={},JC;function OT(){return JC||(JC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(mg)),mg}var pg={},eA;function TT(){return eA||(eA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(pg)),pg}var hg={},tA;function PT(){return tA||(tA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(hg)),hg}var rA;function q$(){return rA||(rA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OT(),n=TT(),r=PT();function a(h,v,x){return typeof x!="function"?a(h,v,()=>{}):s(h,v,function b(S,w,y,C,M,A){const _=x(S,w,y,C,M,A);return _!==void 0?!!_:s(S,w,b,A)},new Map)}function s(h,v,x,b){if(v===h)return!0;switch(typeof v){case"object":return c(h,v,x,b);case"function":return Object.keys(v).length>0?s(h,{...v},x,b):r.isEqualsSameValueZero(h,v);default:return t.isObject(h)?typeof v=="string"?v==="":!0:r.isEqualsSameValueZero(h,v)}}function c(h,v,x,b){if(v==null)return!0;if(Array.isArray(v))return f(h,v,x,b);if(v instanceof Map)return u(h,v,x,b);if(v instanceof Set)return m(h,v,x,b);const S=Object.keys(v);if(h==null||n.isPrimitive(h))return S.length===0;if(S.length===0)return!0;if(b?.has(v))return b.get(v)===h;b?.set(v,h);try{for(let w=0;w<S.length;w++){const y=S[w];if(!n.isPrimitive(h)&&!(y in h)||v[y]===void 0&&h[y]!==void 0||v[y]===null&&h[y]!==null||!x(h[y],v[y],y,h,v,b))return!1}return!0}finally{b?.delete(v)}}function u(h,v,x,b){if(v.size===0)return!0;if(!(h instanceof Map))return!1;for(const[S,w]of v.entries()){const y=h.get(S);if(x(y,w,S,h,v,b)===!1)return!1}return!0}function f(h,v,x,b){if(v.length===0)return!0;if(!Array.isArray(h))return!1;const S=new Set;for(let w=0;w<v.length;w++){const y=v[w];let C=!1;for(let M=0;M<h.length;M++){if(S.has(M))continue;const A=h[M];let _=!1;if(x(A,y,w,h,v,b)&&(_=!0),_){S.add(M),C=!0;break}}if(!C)return!1}return!0}function m(h,v,x,b){return v.size===0?!0:h instanceof Set?f([...h],[...v],x,b):!1}e.isMatchWith=a,e.isSetMatch=m})(fg)),fg}var nA;function IT(){return nA||(nA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q$();function n(r,a){return t.isMatchWith(r,a,()=>{})}e.isMatch=n})(dg)),dg}var vg={},xg={},gg={},aA;function H$(){return aA||(aA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(gg)),gg}var bg={},iA;function S1(){return iA||(iA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(bg)),bg}var yg={},sA;function RT(){return sA||(sA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",s="[object Arguments]",c="[object Symbol]",u="[object Date]",f="[object Map]",m="[object Set]",h="[object Array]",v="[object Function]",x="[object ArrayBuffer]",b="[object Object]",S="[object Error]",w="[object DataView]",y="[object Uint8Array]",C="[object Uint8ClampedArray]",M="[object Uint16Array]",A="[object Uint32Array]",_="[object BigUint64Array]",E="[object Int8Array]",T="[object Int16Array]",P="[object Int32Array]",O="[object BigInt64Array]",L="[object Float32Array]",R="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=x,e.arrayTag=h,e.bigInt64ArrayTag=O,e.bigUint64ArrayTag=_,e.booleanTag=a,e.dataViewTag=w,e.dateTag=u,e.errorTag=S,e.float32ArrayTag=L,e.float64ArrayTag=R,e.functionTag=v,e.int16ArrayTag=T,e.int32ArrayTag=P,e.int8ArrayTag=E,e.mapTag=f,e.numberTag=r,e.objectTag=b,e.regexpTag=t,e.setTag=m,e.stringTag=n,e.symbolTag=c,e.uint16ArrayTag=M,e.uint32ArrayTag=A,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=C})(yg)),yg}var wg={},lA;function U$(){return lA||(lA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(wg)),wg}var oA;function LT(){return oA||(oA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H$(),n=S1(),r=RT(),a=TT(),s=U$();function c(h,v){return u(h,void 0,h,new Map,v)}function u(h,v,x,b=new Map,S=void 0){const w=S?.(h,v,x,b);if(w!==void 0)return w;if(a.isPrimitive(h))return h;if(b.has(h))return b.get(h);if(Array.isArray(h)){const y=new Array(h.length);b.set(h,y);for(let C=0;C<h.length;C++)y[C]=u(h[C],C,x,b,S);return Object.hasOwn(h,"index")&&(y.index=h.index),Object.hasOwn(h,"input")&&(y.input=h.input),y}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const y=new RegExp(h.source,h.flags);return y.lastIndex=h.lastIndex,y}if(h instanceof Map){const y=new Map;b.set(h,y);for(const[C,M]of h)y.set(C,u(M,C,x,b,S));return y}if(h instanceof Set){const y=new Set;b.set(h,y);for(const C of h)y.add(u(C,void 0,x,b,S));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(s.isTypedArray(h)){const y=new(Object.getPrototypeOf(h)).constructor(h.length);b.set(h,y);for(let C=0;C<h.length;C++)y[C]=u(h[C],C,x,b,S);return y}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const y=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return b.set(h,y),f(y,h,x,b,S),y}if(typeof File<"u"&&h instanceof File){const y=new File([h],h.name,{type:h.type});return b.set(h,y),f(y,h,x,b,S),y}if(typeof Blob<"u"&&h instanceof Blob){const y=new Blob([h],{type:h.type});return b.set(h,y),f(y,h,x,b,S),y}if(h instanceof Error){const y=new h.constructor;return b.set(h,y),y.message=h.message,y.name=h.name,y.stack=h.stack,y.cause=h.cause,f(y,h,x,b,S),y}if(h instanceof Boolean){const y=new Boolean(h.valueOf());return b.set(h,y),f(y,h,x,b,S),y}if(h instanceof Number){const y=new Number(h.valueOf());return b.set(h,y),f(y,h,x,b,S),y}if(h instanceof String){const y=new String(h.valueOf());return b.set(h,y),f(y,h,x,b,S),y}if(typeof h=="object"&&m(h)){const y=Object.create(Object.getPrototypeOf(h));return b.set(h,y),f(y,h,x,b,S),y}return h}function f(h,v,x=h,b,S){const w=[...Object.keys(v),...t.getSymbols(v)];for(let y=0;y<w.length;y++){const C=w[y],M=Object.getOwnPropertyDescriptor(h,C);(M==null||M.writable)&&(h[C]=u(v[C],C,x,b,S))}}function m(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=u,e.copyProperties=f})(xg)),xg}var cA;function Y$(){return cA||(cA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LT();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(vg)),vg}var uA;function V$(){return uA||(uA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IT(),n=Y$();function r(a){return a=n.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=r})(ug)),ug}var jg={},Ng={},Sg={},dA;function G$(){return dA||(dA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LT(),n=S1(),r=RT();function a(s,c){return t.cloneDeepWith(s,(u,f,m,h)=>{const v=c?.(u,f,m,h);if(v!==void 0)return v;if(typeof s=="object"){if(n.getTag(s)===r.objectTag&&typeof s.constructor!="function"){const x={};return h.set(s,x),t.copyProperties(x,s,m,h),x}switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const x=new s.constructor(s?.valueOf());return t.copyProperties(x,s),x}case r.argumentsTag:{const x={};return t.copyProperties(x,s),x.length=s.length,x[Symbol.iterator]=s[Symbol.iterator],x}default:return}}})}e.cloneDeepWith=a})(Sg)),Sg}var fA;function K$(){return fA||(fA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G$();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(Ng)),Ng}var Cg={},Ag={},mA;function zT(){return mA||(mA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Ag)),Ag}var Mg={},pA;function W$(){return pA||(pA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S1();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(Mg)),Mg}var hA;function Q$(){return hA||(hA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AT(),n=zT(),r=W$(),a=w1();function s(c,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&t.isDeepKey(u)&&c?.[u]==null?f=a.toPath(u):f=[u],f.length===0)return!1;let m=c;for(let h=0;h<f.length;h++){const v=f[h];if((m==null||!Object.hasOwn(m,v))&&!((Array.isArray(m)||r.isArguments(m))&&n.isIndex(v)&&v<m.length))return!1;m=m[v]}return!0}e.has=s})(Cg)),Cg}var vA;function X$(){return vA||(vA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IT(),n=y1(),r=K$(),a=j1(),s=Q$();function c(u,f){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return f=r.cloneDeep(f),function(m){const h=a.get(m,u);return h===void 0?s.has(m,u):f===void 0?h===void 0:t.isMatch(h,f)}}e.matchesProperty=c})(jg)),jg}var xA;function Z$(){return xA||(xA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_T(),n=$$(),r=V$(),a=X$();function s(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?a.matchesProperty(c[0],c[1]):r.matches(c);case"string":case"symbol":case"number":return n.property(c)}}e.iteratee=s})(og)),og}var gA;function J$(){return gA||(gA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R$(),n=L$(),r=_T(),a=B$(),s=Z$();function c(u,f=r.identity){return a.isArrayLikeObject(u)?t.uniqBy(Array.from(u),n.ary(s.iteratee(f),1)):[]}e.uniqBy=c})(eg)),eg}var kg,bA;function eq(){return bA||(bA=1,kg=J$().uniqBy),kg}var tq=eq();const yA=si(tq);function rq(e,t,n){return t===!0?yA(e,n):typeof t=="function"?yA(e,t):e}var Dg={exports:{}},Eg={},_g={exports:{}},Og={};var wA;function nq(){if(wA)return Og;wA=1;var e=jc();function t(v,x){return v===x&&(v!==0||1/v===1/x)||v!==v&&x!==x}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,a=e.useEffect,s=e.useLayoutEffect,c=e.useDebugValue;function u(v,x){var b=x(),S=r({inst:{value:b,getSnapshot:x}}),w=S[0].inst,y=S[1];return s(function(){w.value=b,w.getSnapshot=x,f(w)&&y({inst:w})},[v,b,x]),a(function(){return f(w)&&y({inst:w}),v(function(){f(w)&&y({inst:w})})},[v]),c(b),b}function f(v){var x=v.getSnapshot;v=v.value;try{var b=x();return!n(v,b)}catch{return!0}}function m(v,x){return x()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return Og.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,Og}var jA;function aq(){return jA||(jA=1,_g.exports=nq()),_g.exports}var NA;function iq(){if(NA)return Eg;NA=1;var e=jc(),t=aq();function n(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var r=typeof Object.is=="function"?Object.is:n,a=t.useSyncExternalStore,s=e.useRef,c=e.useEffect,u=e.useMemo,f=e.useDebugValue;return Eg.useSyncExternalStoreWithSelector=function(m,h,v,x,b){var S=s(null);if(S.current===null){var w={hasValue:!1,value:null};S.current=w}else w=S.current;S=u(function(){function C(T){if(!M){if(M=!0,A=T,T=x(T),b!==void 0&&w.hasValue){var P=w.value;if(b(P,T))return _=P}return _=T}if(P=_,r(A,T))return P;var O=x(T);return b!==void 0&&b(P,O)?(A=T,P):(A=T,_=O)}var M=!1,A,_,E=v===void 0?null:v;return[function(){return C(h())},E===null?void 0:function(){return C(E())}]},[h,v,x,b]);var y=a(m,S[0],S[1]);return c(function(){w.hasValue=!0,w.value=y},[y]),f(y),y},Eg}var SA;function sq(){return SA||(SA=1,Dg.exports=iq()),Dg.exports}var lq=sq(),C1=j.createContext(null),oq=e=>e,kr=()=>{var e=j.useContext(C1);return e?e.store.dispatch:oq},tp=()=>{},cq=()=>tp,uq=(e,t)=>e===t;function nt(e){var t=j.useContext(C1),n=j.useMemo(()=>t?r=>{if(r!=null)return e(r)}:tp,[t,e]);return lq.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:cq,t?t.store.getState:tp,t?t.store.getState:tp,n,uq)}function dq(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function fq(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function mq(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var CA=e=>Array.isArray(e)?e:[e];function pq(e){const t=Array.isArray(e[0])?e[0]:e;return mq(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function hq(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}var vq=class{constructor(e){this.value=e}deref(){return this.value}},xq=typeof WeakRef<"u"?WeakRef:vq,gq=0,AA=1;function mm(){return{s:gq,v:void 0,o:null,p:null}}function FT(e,t={}){let n=mm();const{resultEqualityCheck:r}=t;let a,s=0;function c(){let u=n;const{length:f}=arguments;for(let v=0,x=f;v<x;v++){const b=arguments[v];if(typeof b=="function"||typeof b=="object"&&b!==null){let S=u.o;S===null&&(u.o=S=new WeakMap);const w=S.get(b);w===void 0?(u=mm(),S.set(b,u)):u=w}else{let S=u.p;S===null&&(u.p=S=new Map);const w=S.get(b);w===void 0?(u=mm(),S.set(b,u)):u=w}}const m=u;let h;if(u.s===AA)h=u.v;else if(h=e.apply(null,arguments),s++,r){const v=a?.deref?.()??a;v!=null&&r(v,h)&&(h=v,s!==0&&s--),a=typeof h=="object"&&h!==null||typeof h=="function"?new xq(h):h}return m.s=AA,m.v=h,h}return c.clearCache=()=>{n=mm(),c.resetResultsCount()},c.resultsCount=()=>s,c.resetResultsCount=()=>{s=0},c}function bq(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...a)=>{let s=0,c=0,u,f={},m=a.pop();typeof m=="object"&&(f=m,m=a.pop()),dq(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const h={...n,...f},{memoize:v,memoizeOptions:x=[],argsMemoize:b=FT,argsMemoizeOptions:S=[]}=h,w=CA(x),y=CA(S),C=pq(a),M=v(function(){return s++,m.apply(null,arguments)},...w),A=b(function(){c++;const E=hq(C,arguments);return u=M.apply(null,E),u},...y);return Object.assign(A,{resultFunc:m,memoizedResultFunc:M,dependencies:C,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:v,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var ne=bq(FT),yq=Object.assign((e,t=ne)=>{fq(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((c,u,f)=>(c[n[f]]=u,c),{}))},{withTypes:()=>yq}),Tg={},Pg={},Ig={},MA;function wq(){return MA||(MA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,s)=>{if(r!==a){const c=t(r),u=t(a);if(c===u&&c===0){if(r<a)return s==="desc"?1:-1;if(r>a)return s==="desc"?-1:1}return s==="desc"?u-c:c-u}return 0};e.compareValues=n})(Ig)),Ig}var Rg={},Lg={},kA;function BT(){return kA||(kA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Lg)),Lg}var DA;function jq(){return DA||(DA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BT(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(s,c){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||c!=null&&Object.hasOwn(c,s)}e.isKey=a})(Rg)),Rg}var EA;function Nq(){return EA||(EA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wq(),n=jq(),r=w1();function a(s,c,u,f){if(s==null)return[];u=f?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(b=>String(b));const m=(b,S)=>{let w=b;for(let y=0;y<S.length&&w!=null;++y)w=w[S[y]];return w},h=(b,S)=>S==null||b==null?S:typeof b=="object"&&"key"in b?Object.hasOwn(S,b.key)?S[b.key]:m(S,b.path):typeof b=="function"?b(S):Array.isArray(b)?m(S,b):typeof S=="object"?S[b]:S,v=c.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return s.map(b=>({original:b,criteria:v.map(S=>h(S,b))})).slice().sort((b,S)=>{for(let w=0;w<v.length;w++){const y=t.compareValues(b.criteria[w],S.criteria[w],u[w]);if(y!==0)return y}return 0}).map(b=>b.original)}e.orderBy=a})(Pg)),Pg}var zg={},_A;function Sq(){return _A||(_A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const a=[],s=Math.floor(r),c=(u,f)=>{for(let m=0;m<u.length;m++){const h=u[m];Array.isArray(h)&&f<s?c(h,f+1):a.push(h)}};return c(n,0),a}e.flatten=t})(zg)),zg}var Fg={},OA;function $T(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zT(),n=N1(),r=OT(),a=PT();function s(c,u,f){return r.isObject(f)&&(typeof u=="number"&&n.isArrayLike(f)&&t.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?a.isEqualsSameValueZero(f[u],c):!1}e.isIterateeCall=s})(Fg)),Fg}var TA;function Cq(){return TA||(TA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nq(),n=Sq(),r=$T();function a(s,...c){const u=c.length;return u>1&&r.isIterateeCall(s,c[0],c[1])?c=[]:u>2&&r.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(s,n.flatten(c),["asc"])}e.sortBy=a})(Tg)),Tg}var Bg,PA;function Aq(){return PA||(PA=1,Bg=Cq().sortBy),Bg}var Mq=Aq();const Oh=si(Mq);var qT=e=>e.legend.settings,kq=e=>e.legend.size,Dq=e=>e.legend.payload;ne([Dq,qT],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Oh(r,n):r});var pm=1;function Eq(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=j.useState({height:0,left:0,top:0,width:0}),r=j.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),c={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(c.height-t.height)>pm||Math.abs(c.left-t.left)>pm||Math.abs(c.top-t.top)>pm||Math.abs(c.width-t.width)>pm)&&n({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Hr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var _q=typeof Symbol=="function"&&Symbol.observable||"@@observable",IA=_q,$g=()=>Math.random().toString(36).substring(7).split("").join("."),Oq={INIT:`@@redux/INIT${$g()}`,REPLACE:`@@redux/REPLACE${$g()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${$g()}`},Sp=Oq;function A1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function HT(e,t,n){if(typeof e!="function")throw new Error(Hr(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Hr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Hr(1));return n(HT)(e,t)}let r=e,a=t,s=new Map,c=s,u=0,f=!1;function m(){c===s&&(c=new Map,s.forEach((y,C)=>{c.set(C,y)}))}function h(){if(f)throw new Error(Hr(3));return a}function v(y){if(typeof y!="function")throw new Error(Hr(4));if(f)throw new Error(Hr(5));let C=!0;m();const M=u++;return c.set(M,y),function(){if(C){if(f)throw new Error(Hr(6));C=!1,m(),c.delete(M),s=null}}}function x(y){if(!A1(y))throw new Error(Hr(7));if(typeof y.type>"u")throw new Error(Hr(8));if(typeof y.type!="string")throw new Error(Hr(17));if(f)throw new Error(Hr(9));try{f=!0,a=r(a,y)}finally{f=!1}return(s=c).forEach(M=>{M()}),y}function b(y){if(typeof y!="function")throw new Error(Hr(10));r=y,x({type:Sp.REPLACE})}function S(){const y=v;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(Hr(11));function M(){const _=C;_.next&&_.next(h())}return M(),{unsubscribe:y(M)}},[IA](){return this}}}return x({type:Sp.INIT}),{dispatch:x,subscribe:v,getState:h,replaceReducer:b,[IA]:S}}function Tq(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Sp.INIT})>"u")throw new Error(Hr(12));if(typeof n(void 0,{type:Sp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Hr(13))})}function UT(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const c=t[s];typeof e[c]=="function"&&(n[c]=e[c])}const r=Object.keys(n);let a;try{Tq(n)}catch(s){a=s}return function(c={},u){if(a)throw a;let f=!1;const m={};for(let h=0;h<r.length;h++){const v=r[h],x=n[v],b=c[v],S=x(b,u);if(typeof S>"u")throw u&&u.type,new Error(Hr(14));m[v]=S,f=f||S!==b}return f=f||r.length!==Object.keys(c).length,f?m:c}}function Cp(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Pq(...e){return t=>(n,r)=>{const a=t(n,r);let s=()=>{throw new Error(Hr(15))};const c={getState:a.getState,dispatch:(f,...m)=>s(f,...m)},u=e.map(f=>f(c));return s=Cp(...u)(a.dispatch),{...a,dispatch:s}}}function YT(e){return A1(e)&&"type"in e&&typeof e.type=="string"}var VT=Symbol.for("immer-nothing"),RA=Symbol.for("immer-draftable"),nn=Symbol.for("immer-state");function xa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Rn=Object,cc=Rn.getPrototypeOf,Ap="constructor",Th="prototype",ay="configurable",Mp="enumerable",rp="writable",sd="value",Ui=e=>!!e&&!!e[nn];function Ca(e){return e?GT(e)||Ih(e)||!!e[RA]||!!e[Ap]?.[RA]||Rh(e)||Lh(e):!1}var Iq=Rn[Th][Ap].toString(),LA=new WeakMap;function GT(e){if(!e||!M1(e))return!1;const t=cc(e);if(t===null||t===Rn[Th])return!0;const n=Rn.hasOwnProperty.call(t,Ap)&&t[Ap];if(n===Object)return!0;if(!Wo(n))return!1;let r=LA.get(n);return r===void 0&&(r=Function.toString.call(n),LA.set(n,r)),r===Iq}function Ph(e,t,n=!0){Dd(e)===0?(n?Reflect.ownKeys(e):Rn.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((r,a)=>t(a,r,e))}function Dd(e){const t=e[nn];return t?t.type_:Ih(e)?1:Rh(e)?2:Lh(e)?3:0}var zA=(e,t,n=Dd(e))=>n===2?e.has(t):Rn[Th].hasOwnProperty.call(e,t),iy=(e,t,n=Dd(e))=>n===2?e.get(t):e[t],kp=(e,t,n,r=Dd(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function Rq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Ih=Array.isArray,Rh=e=>e instanceof Map,Lh=e=>e instanceof Set,M1=e=>typeof e=="object",Wo=e=>typeof e=="function",qg=e=>typeof e=="boolean";function Lq(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Ti=e=>e.copy_||e.base_,k1=e=>e.modified_?e.copy_:e.base_;function sy(e,t){if(Rh(e))return new Map(e);if(Lh(e))return new Set(e);if(Ih(e))return Array[Th].slice.call(e);const n=GT(e);if(t===!0||t==="class_only"&&!n){const r=Rn.getOwnPropertyDescriptors(e);delete r[nn];let a=Reflect.ownKeys(r);for(let s=0;s<a.length;s++){const c=a[s],u=r[c];u[rp]===!1&&(u[rp]=!0,u[ay]=!0),(u.get||u.set)&&(r[c]={[ay]:!0,[rp]:!0,[Mp]:u[Mp],[sd]:e[c]})}return Rn.create(cc(e),r)}else{const r=cc(e);if(r!==null&&n)return{...e};const a=Rn.create(r);return Rn.assign(a,e)}}function D1(e,t=!1){return zh(e)||Ui(e)||!Ca(e)||(Dd(e)>1&&Rn.defineProperties(e,{set:hm,add:hm,clear:hm,delete:hm}),Rn.freeze(e),t&&Ph(e,(n,r)=>{D1(r,!0)},!1)),e}function zq(){xa(2)}var hm={[sd]:zq};function zh(e){return e===null||!M1(e)?!0:Rn.isFrozen(e)}var Dp="MapSet",ly="Patches",FA="ArrayMethods",KT={};function Gl(e){const t=KT[e];return t||xa(0,e),t}var BA=e=>!!KT[e],ld,WT=()=>ld,Fq=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:BA(Dp)?Gl(Dp):void 0,arrayMethodsPlugin_:BA(FA)?Gl(FA):void 0});function $A(e,t){t&&(e.patchPlugin_=Gl(ly),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function oy(e){cy(e),e.drafts_.forEach(Bq),e.drafts_=null}function cy(e){e===ld&&(ld=e.parent_)}var qA=e=>ld=Fq(ld,e);function Bq(e){const t=e[nn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function HA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[nn].modified_&&(oy(t),xa(4)),Ca(e)&&(e=UA(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(n[nn].base_,e,t)}else e=UA(t,n);return $q(t,e,!0),oy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==VT?e:void 0}function UA(e,t){if(zh(t))return t;const n=t[nn];if(!n)return Ep(t,e.handledSet_,e);if(!Fh(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);ZT(n,e)}return n.copy_}function $q(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&D1(t,n)}function QT(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Fh=(e,t)=>e.scope_===t,qq=[];function XT(e,t,n,r){const a=Ti(e),s=e.type_;if(r!==void 0&&iy(a,r,s)===t){kp(a,r,n,s);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;Ph(a,(f,m)=>{if(Ui(m)){const h=u.get(m)||[];h.push(f),u.set(m,h)}})}const c=e.draftLocations_.get(t)??qq;for(const u of c)kp(a,u,n,s)}function Hq(e,t,n){e.callbacks_.push(function(a){const s=t;if(!s||!Fh(s,a))return;a.mapSetPlugin_?.fixSetContents(s);const c=k1(s);XT(e,s.draft_??s,c,n),ZT(s,a)})}function ZT(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const a=r.getPath(e);a&&r.generatePatches_(e,a,t)}QT(e)}}function Uq(e,t,n){const{scope_:r}=e;if(Ui(n)){const a=n[nn];Fh(a,r)&&a.callbacks_.push(function(){np(e);const c=k1(a);XT(e,n,c,t)})}else Ca(n)&&e.callbacks_.push(function(){const s=Ti(e);e.type_===3?s.has(n)&&Ep(n,r.handledSet_,r):iy(s,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Ep(iy(e.copy_,t,e.type_),r.handledSet_,r)})}function Ep(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ui(e)||t.has(e)||!Ca(e)||zh(e)||(t.add(e),Ph(e,(r,a)=>{if(Ui(a)){const s=a[nn];if(Fh(s,n)){const c=k1(s);kp(e,r,c,e.type_),QT(s)}}else Ca(a)&&Ep(a,t,n)})),e}function Yq(e,t){const n=Ih(e),r={type_:n?1:0,scope_:t?t.scope_:WT(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,s=_p;n&&(a=[r],s=od);const{revoke:c,proxy:u}=Proxy.revocable(a,s);return r.draft_=u,r.revoke_=c,[u,r]}var _p={get(e,t){if(t===nn)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n?.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const a=Ti(e);if(!zA(a,t,e.type_))return Vq(e,a,t);const s=a[t];if(e.finalized_||!Ca(s)||r&&e.operationMethod&&n?.isMutatingArrayMethod(e.operationMethod)&&Lq(t))return s;if(s===Hg(e.base_,t)){np(e);const c=e.type_===1?+t:t,u=dy(e.scope_,s,e,c);return e.copy_[c]=u}return s},has(e,t){return t in Ti(e)},ownKeys(e){return Reflect.ownKeys(Ti(e))},set(e,t,n){const r=JT(Ti(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=Hg(Ti(e),t),s=a?.[nn];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(Rq(n,a)&&(n!==void 0||zA(e.base_,t,e.type_)))return!0;np(e),uy(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),Uq(e,t,n)),!0},deleteProperty(e,t){return np(e),Hg(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),uy(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ti(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[rp]:!0,[ay]:e.type_!==1||t!=="length",[Mp]:r[Mp],[sd]:n[t]}},defineProperty(){xa(11)},getPrototypeOf(e){return cc(e.base_)},setPrototypeOf(){xa(12)}},od={};for(let e in _p){let t=_p[e];od[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}od.deleteProperty=function(e,t){return od.set.call(this,e,t,void 0)};od.set=function(e,t,n){return _p.set.call(this,e[0],t,n,e[0])};function Hg(e,t){const n=e[nn];return(n?Ti(n):e)[t]}function Vq(e,t,n){const r=JT(t,n);return r?sd in r?r[sd]:r.get?.call(e.draft_):void 0}function JT(e,t){if(!(t in e))return;let n=cc(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=cc(n)}}function uy(e){e.modified_||(e.modified_=!0,e.parent_&&uy(e.parent_))}function np(e){e.copy_||(e.assigned_=new Map,e.copy_=sy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Gq=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,a)=>{if(Wo(n)&&!Wo(r)){const c=r;r=n;const u=this;return function(m=c,...h){return u.produce(m,v=>r.call(this,v,...h))}}Wo(r)||xa(6),a!==void 0&&!Wo(a)&&xa(7);let s;if(Ca(n)){const c=qA(this),u=dy(c,n,void 0);let f=!0;try{s=r(u),f=!1}finally{f?oy(c):cy(c)}return $A(c,a),HA(s,c)}else if(!n||!M1(n)){if(s=r(n),s===void 0&&(s=n),s===VT&&(s=void 0),this.autoFreeze_&&D1(s,!0),a){const c=[],u=[];Gl(ly).generateReplacementPatches_(n,s,{patches_:c,inversePatches_:u}),a(c,u)}return s}else xa(1,n)},this.produceWithPatches=(n,r)=>{if(Wo(n))return(u,...f)=>this.produceWithPatches(u,m=>n(m,...f));let a,s;return[this.produce(n,r,(u,f)=>{a=u,s=f}),a,s]},qg(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),qg(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),qg(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ca(t)||xa(8),Ui(t)&&(t=wa(t));const n=qA(this),r=dy(n,t,void 0);return r[nn].isManual_=!0,cy(n),r}finishDraft(t,n){const r=t&&t[nn];(!r||!r.isManual_)&&xa(9);const{scope_:a}=r;return $A(a,n),HA(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}r>-1&&(n=n.slice(r+1));const a=Gl(ly).applyPatches_;return Ui(t)?a(t,n):this.produce(t,s=>a(s,n))}};function dy(e,t,n,r){const[a,s]=Rh(t)?Gl(Dp).proxyMap_(t,n):Lh(t)?Gl(Dp).proxySet_(t,n):Yq(t,n);return(n?.scope_??WT()).drafts_.push(a),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?Hq(n,s,r):s.callbacks_.push(function(f){f.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:m}=f;s.modified_&&m&&m.generatePatches_(s,[],f)}),a}function wa(e){return Ui(e)||xa(10,e),e5(e)}function e5(e){if(!Ca(e)||zh(e))return e;const t=e[nn];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=sy(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=sy(e,!0);return Ph(n,(a,s)=>{kp(n,a,e5(s))},r),t&&(t.finalized_=!1),n}var Kq=new Gq,t5=Kq.produce;function r5(e){return({dispatch:n,getState:r})=>a=>s=>typeof s=="function"?s(n,r,e):a(s)}var Wq=r5(),Qq=r5,Xq=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Cp:Cp.apply(null,arguments)};function sa(e,t){function n(...r){if(t){let a=t(...r);if(!a)throw new Error(zn(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>YT(r)&&r.type===e,n}var n5=class Qu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Qu.prototype)}static get[Symbol.species](){return Qu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Qu(...t[0].concat(this)):new Qu(...t.concat(this))}};function YA(e){return Ca(e)?t5(e,()=>{}):e}function vm(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Zq(e){return typeof e=="boolean"}var Jq=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let c=new n5;return n&&(Zq(n)?c.push(Wq):c.push(Qq(n.extraArgument))),c},a5="RTK_autoBatch",er=()=>e=>({payload:e,meta:{[a5]:!0}}),VA=e=>t=>{setTimeout(t,e)},i5=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let a=!0,s=!1,c=!1;const u=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:VA(10):e.type==="callback"?e.queueNotification:VA(e.timeout),m=()=>{c=!1,s&&(s=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const v=()=>a&&h(),x=r.subscribe(v);return u.add(h),()=>{x(),u.delete(h)}},dispatch(h){try{return a=!h?.meta?.[a5],s=!a,s&&(c||(c=!0,f(m))),r.dispatch(h)}finally{a=!0}}})},eH=e=>function(n){const{autoBatch:r=!0}=n??{};let a=new n5(e);return r&&a.push(i5(typeof r=="object"?r:void 0)),a};function tH(e){const t=Jq(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:s=void 0,enhancers:c=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(A1(n))u=UT(n);else throw new Error(zn(1));let f;typeof r=="function"?f=r(t):f=t();let m=Cp;a&&(m=Xq({trace:!1,...typeof a=="object"&&a}));const h=Pq(...f),v=eH(h);let x=typeof c=="function"?c(v):v();const b=m(...x);return HT(u,s,b)}function s5(e){const t={},n=[];let r;const a={addCase(s,c){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(zn(28));if(u in t)throw new Error(zn(29));return t[u]=c,a},addAsyncThunk(s,c){return c.pending&&(t[s.pending.type]=c.pending),c.rejected&&(t[s.rejected.type]=c.rejected),c.fulfilled&&(t[s.fulfilled.type]=c.fulfilled),c.settled&&n.push({matcher:s.settled,reducer:c.settled}),a},addMatcher(s,c){return n.push({matcher:s,reducer:c}),a},addDefaultCase(s){return r=s,a}};return e(a),[t,n,r]}function rH(e){return typeof e=="function"}function nH(e,t){let[n,r,a]=s5(t),s;if(rH(e))s=()=>YA(e());else{const u=YA(e);s=()=>u}function c(u=s(),f){let m=[n[f.type],...r.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return m.filter(h=>!!h).length===0&&(m=[a]),m.reduce((h,v)=>{if(v)if(Ui(h)){const b=v(h,f);return b===void 0?h:b}else{if(Ca(h))return t5(h,x=>v(x,f));{const x=v(h,f);if(x===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return h},u)}return c.getInitialState=s,c}var aH="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",iH=(e=21)=>{let t="",n=e;for(;n--;)t+=aH[Math.random()*64|0];return t},sH=Symbol.for("rtk-slice-createasyncthunk");function lH(e,t){return`${e}/${t}`}function oH({creators:e}={}){const t=e?.asyncThunk?.[sH];return function(r){const{name:a,reducerPath:s=a}=r;if(!a)throw new Error(zn(11));const c=(typeof r.reducers=="function"?r.reducers(uH()):r.reducers)||{},u=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(A,_){const E=typeof A=="string"?A:A.type;if(!E)throw new Error(zn(12));if(E in f.sliceCaseReducersByType)throw new Error(zn(13));return f.sliceCaseReducersByType[E]=_,m},addMatcher(A,_){return f.sliceMatchers.push({matcher:A,reducer:_}),m},exposeAction(A,_){return f.actionCreators[A]=_,m},exposeCaseReducer(A,_){return f.sliceCaseReducersByName[A]=_,m}};u.forEach(A=>{const _=c[A],E={reducerName:A,type:lH(a,A),createNotation:typeof r.reducers=="function"};fH(_)?pH(E,_,m,t):dH(E,_,m)});function h(){const[A={},_=[],E=void 0]=typeof r.extraReducers=="function"?s5(r.extraReducers):[r.extraReducers],T={...A,...f.sliceCaseReducersByType};return nH(r.initialState,P=>{for(let O in T)P.addCase(O,T[O]);for(let O of f.sliceMatchers)P.addMatcher(O.matcher,O.reducer);for(let O of _)P.addMatcher(O.matcher,O.reducer);E&&P.addDefaultCase(E)})}const v=A=>A,x=new Map,b=new WeakMap;let S;function w(A,_){return S||(S=h()),S(A,_)}function y(){return S||(S=h()),S.getInitialState()}function C(A,_=!1){function E(P){let O=P[A];return typeof O>"u"&&_&&(O=vm(b,E,y)),O}function T(P=v){const O=vm(x,_,()=>new WeakMap);return vm(O,P,()=>{const L={};for(const[R,B]of Object.entries(r.selectors??{}))L[R]=cH(B,P,()=>vm(b,P,y),_);return L})}return{reducerPath:A,getSelectors:T,get selectors(){return T(E)},selectSlice:E}}const M={name:a,reducer:w,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:y,...C(s),injectInto(A,{reducerPath:_,...E}={}){const T=_??s;return A.inject({reducerPath:T,reducer:w},E),{...M,...C(T,!0)}}};return M}}function cH(e,t,n,r){function a(s,...c){let u=t(s);return typeof u>"u"&&r&&(u=n()),e(u,...c)}return a.unwrapped=e,a}var jn=oH();function uH(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function dH({type:e,reducerName:t,createNotation:n},r,a){let s,c;if("reducer"in r){if(n&&!mH(r))throw new Error(zn(17));s=r.reducer,c=r.prepare}else s=r;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,c?sa(e,c):sa(e))}function fH(e){return e._reducerDefinitionType==="asyncThunk"}function mH(e){return e._reducerDefinitionType==="reducerWithPrepare"}function pH({type:e,reducerName:t},n,r,a){if(!a)throw new Error(zn(18));const{payloadCreator:s,fulfilled:c,pending:u,rejected:f,settled:m,options:h}=n,v=a(e,s,h);r.exposeAction(t,v),c&&r.addCase(v.fulfilled,c),u&&r.addCase(v.pending,u),f&&r.addCase(v.rejected,f),m&&r.addMatcher(v.settled,m),r.exposeCaseReducer(t,{fulfilled:c||xm,pending:u||xm,rejected:f||xm,settled:m||xm})}function xm(){}var hH="task",l5="listener",o5="completed",E1="cancelled",vH=`task-${E1}`,xH=`task-${o5}`,fy=`${l5}-${E1}`,gH=`${l5}-${o5}`,Bh=class{constructor(e){this.code=e,this.message=`${hH} ${E1} (reason: ${e})`}name="TaskAbortError";message},_1=(e,t)=>{if(typeof e!="function")throw new TypeError(zn(32))},Op=()=>{},c5=(e,t=Op)=>(e.catch(t),e),u5=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Bl=e=>{if(e.aborted)throw new Bh(e.reason)};function d5(e,t){let n=Op;return new Promise((r,a)=>{const s=()=>a(new Bh(e.reason));if(e.aborted){s();return}n=u5(e,s),t.finally(()=>n()).then(r,a)}).finally(()=>{n=Op})}var bH=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Bh?"cancelled":"rejected",error:n}}finally{t?.()}},Tp=e=>t=>c5(d5(e,t).then(n=>(Bl(e),n))),f5=e=>{const t=Tp(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:tc}=Object,GA={},$h="listenerMiddleware",yH=(e,t)=>{const n=r=>u5(e,()=>r.abort(e.reason));return(r,a)=>{_1(r);const s=new AbortController;n(s);const c=bH(async()=>{Bl(e),Bl(s.signal);const u=await r({pause:Tp(s.signal),delay:f5(s.signal),signal:s.signal});return Bl(s.signal),u},()=>s.abort(xH));return a?.autoJoin&&t.push(c.catch(Op)),{result:Tp(e)(c),cancel(){s.abort(vH)}}}},wH=(e,t)=>{const n=async(r,a)=>{Bl(t);let s=()=>{};const u=[new Promise((f,m)=>{let h=e({predicate:r,effect:(v,x)=>{x.unsubscribe(),f([v,x.getState(),x.getOriginalState()])}});s=()=>{h(),m()}})];a!=null&&u.push(new Promise(f=>setTimeout(f,a,null)));try{const f=await d5(t,Promise.race(u));return Bl(t),f}finally{s()}};return(r,a)=>c5(n(r,a))},m5=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:s}=e;if(t)a=sa(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(zn(21));return _1(s),{predicate:a,type:t,effect:s}},p5=tc(e=>{const{type:t,predicate:n,effect:r}=m5(e);return{id:iH(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(zn(22))}}},{withTypes:()=>p5}),KA=(e,t)=>{const{type:n,effect:r,predicate:a}=m5(t);return Array.from(e.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===a)&&s.effect===r)},my=e=>{e.pending.forEach(t=>{t.abort(fy)})},jH=(e,t)=>()=>{for(const n of t.keys())my(n);e.clear()},WA=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},h5=tc(sa(`${$h}/add`),{withTypes:()=>h5}),NH=sa(`${$h}/removeAll`),v5=tc(sa(`${$h}/remove`),{withTypes:()=>v5}),SH=(...e)=>{console.error(`${$h}/error`,...e)},Ed=(e={})=>{const t=new Map,n=new Map,r=b=>{const S=n.get(b)??0;n.set(b,S+1)},a=b=>{const S=n.get(b)??1;S===1?n.delete(b):n.set(b,S-1)},{extra:s,onError:c=SH}=e;_1(c);const u=b=>(b.unsubscribe=()=>t.delete(b.id),t.set(b.id,b),S=>{b.unsubscribe(),S?.cancelActive&&my(b)}),f=b=>{const S=KA(t,b)??p5(b);return u(S)};tc(f,{withTypes:()=>f});const m=b=>{const S=KA(t,b);return S&&(S.unsubscribe(),b.cancelActive&&my(S)),!!S};tc(m,{withTypes:()=>m});const h=async(b,S,w,y)=>{const C=new AbortController,M=wH(f,C.signal),A=[];try{b.pending.add(C),r(b),await Promise.resolve(b.effect(S,tc({},w,{getOriginalState:y,condition:(_,E)=>M(_,E).then(Boolean),take:M,delay:f5(C.signal),pause:Tp(C.signal),extra:s,signal:C.signal,fork:yH(C.signal,A),unsubscribe:b.unsubscribe,subscribe:()=>{t.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((_,E,T)=>{_!==C&&(_.abort(fy),T.delete(_))})},cancel:()=>{C.abort(fy),b.pending.delete(C)},throwIfCancelled:()=>{Bl(C.signal)}})))}catch(_){_ instanceof Bh||WA(c,_,{raisedBy:"effect"})}finally{await Promise.all(A),C.abort(gH),a(b),b.pending.delete(C)}},v=jH(t,n);return{middleware:b=>S=>w=>{if(!YT(w))return S(w);if(h5.match(w))return f(w.payload);if(NH.match(w)){v();return}if(v5.match(w))return m(w.payload);let y=b.getState();const C=()=>{if(y===GA)throw new Error(zn(23));return y};let M;try{if(M=S(w),t.size>0){const A=b.getState(),_=Array.from(t.values());for(const E of _){let T=!1;try{T=E.predicate(w,A,y)}catch(P){T=!1,WA(c,P,{raisedBy:"predicate"})}T&&h(E,w,b,C)}}}finally{y=GA}return M},startListening:f,stopListening:m,clearListeners:v}};function zn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var CH={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},x5=jn({name:"chartLayout",initialState:CH,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,a,s;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:AH,setLayout:MH,setChartSize:kH,setScale:DH}=x5.actions,EH=x5.reducer;function g5(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Ft(e){return Number.isFinite(e)}function Vs(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function QA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Zo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QA(Object(n),!0).forEach(function(r){_H(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _H(e,t,n){return(t=OH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OH(e){var t=TH(e,"string");return typeof t=="symbol"?t:t+""}function TH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ur(e,t,n){return Bn(e)||Bn(t)?n:Hi(t)?ad(e,t,n):typeof t=="function"?t(e):n}var PH=(e,t,n)=>{if(t&&n){var{width:r,height:a}=n,{align:s,verticalAlign:c,layout:u}=t;if((u==="vertical"||u==="horizontal"&&c==="middle")&&s!=="center"&&Qe(e[s]))return Zo(Zo({},e),{},{[s]:e[s]+(r||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&c!=="middle"&&Qe(e[c]))return Zo(Zo({},e),{},{[c]:e[c]+(a||0)})}return e},Qs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",IH=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var s=0,c=0,u=0;u<n;++u){var f=e[u],m=f?.[a];if(m!=null){var h=m[1],v=m[0],x=qi(h)?v:h;x>=0?(m[0]=s,s+=x,m[1]=s):(m[0]=c,c+=x,m[1]=c)}}}},RH=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var s=0,c=0;c<n;++c){var u=e[c],f=u?.[a];if(f!=null){var m=qi(f[1])?f[0]:f[1];m>=0?(f[0]=s,s+=m,f[1]=s):(f[0]=0,f[1]=0)}}}},LH={sign:IH,expand:c$,none:Yl,silhouette:u$,wiggle:d$,positive:RH},zH=(e,t,n)=>{var r,a=(r=LH[n])!==null&&r!==void 0?r:Yl,s=o$().keys(t).value((u,f)=>Number(ur(u,f,0))).order(ry).offset(a),c=s(e);return c.forEach((u,f)=>{u.forEach((m,h)=>{var v=ur(e[h],t[f],0);Array.isArray(v)&&v.length===2&&Qe(v[0])&&Qe(v[1])&&(m[0]=v[0],m[1]=v[1])})}),c},FH=e=>{var t=e.flat(2).filter(Qe);return[Math.min(...t),Math.max(...t)]},BH=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],$H=(e,t,n)=>{if(e!=null)return BH(Object.keys(e).reduce((r,a)=>{var s=e[a];if(!s)return r;var{stackedData:c}=s,u=c.reduce((f,m)=>{var h=g5(m,t,n),v=FH(h);return!Ft(v[0])||!Ft(v[1])?f:[Math.min(f[0],v[0]),Math.max(f[1],v[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},XA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ZA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,JA=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();return r}if(e&&t&&t.length>=2){for(var a=Oh(t,h=>h.coordinate),s=1/0,c=1,u=a.length;c<u;c++){var f=a[c],m=a[c-1];s=Math.min((f?.coordinate||0)-(m?.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function eM(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:a,name:s}=e;return Zo(Zo({},t),{},{dataKey:n,payload:r,value:a,name:s})}function b5(e,t){if(e)return String(e);if(typeof t=="string")return t}var qH=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},HH=(e,t)=>t==="centric"?e.angle:e.radius,Zi=e=>e.layout.width,Ji=e=>e.layout.height,UH=e=>e.layout.scale,y5=e=>e.layout.margin,qh=ne(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Hh=ne(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),w5="data-recharts-item-index",j5="data-recharts-item-id",_d=60;function tM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function gm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tM(Object(n),!0).forEach(function(r){YH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YH(e,t,n){return(t=VH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VH(e){var t=GH(e,"string");return typeof t=="symbol"?t:t+""}function GH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KH=e=>e.brush.height;function WH(e){var t=Hh(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:_d;return n+a}return n},0)}function QH(e){var t=Hh(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:_d;return n+a}return n},0)}function XH(e){var t=qh(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function ZH(e){var t=qh(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Ir=ne([Zi,Ji,y5,KH,WH,QH,XH,ZH,qT,kq],(e,t,n,r,a,s,c,u,f,m)=>{var h={left:(n.left||0)+a,right:(n.right||0)+s},v={top:(n.top||0)+c,bottom:(n.bottom||0)+u},x=gm(gm({},v),h),b=x.bottom;x.bottom+=r,x=PH(x,f,m);var S=e-x.left-x.right,w=t-x.top-x.bottom;return gm(gm({brushBottom:b},x),{},{width:Math.max(S,0),height:Math.max(w,0)})}),JH=ne(Ir,e=>({x:e.left,y:e.top,width:e.width,height:e.height}));ne(Zi,Ji,(e,t)=>({x:0,y:0,width:e,height:t}));var e9=j.createContext(null),Xs=()=>j.useContext(e9)!=null,Uh=e=>e.brush,Yh=ne([Uh,Ir,y5],(e,t,n)=>({height:e.height,x:Qe(e.x)?e.x:t.left,y:Qe(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:Qe(e.width)?e.width:t.width})),Ug={},Yg={},Vg={},rM;function t9(){return rM||(rM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:a,edges:s}={}){let c,u=null;const f=s!=null&&s.includes("leading"),m=s==null||s.includes("trailing"),h=()=>{u!==null&&(n.apply(c,u),c=void 0,u=null)},v=()=>{m&&h(),w()};let x=null;const b=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,v()},r)},S=()=>{x!==null&&(clearTimeout(x),x=null)},w=()=>{S(),c=void 0,u=null},y=()=>{h()},C=function(...M){if(a?.aborted)return;c=this,u=M;const A=x==null;b(),f&&A&&h()};return C.schedule=b,C.cancel=w,C.flush=y,a?.addEventListener("abort",w,{once:!0}),C}e.debounce=t})(Vg)),Vg}var nM;function r9(){return nM||(nM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t9();function n(r,a=0,s={}){typeof s!="object"&&(s={});const{leading:c=!1,trailing:u=!0,maxWait:f}=s,m=Array(2);c&&(m[0]="leading"),u&&(m[1]="trailing");let h,v=null;const x=t.debounce(function(...w){h=r.apply(this,w),v=null},a,{edges:m}),b=function(...w){return f!=null&&(v===null&&(v=Date.now()),Date.now()-v>=f)?(h=r.apply(this,w),v=Date.now(),x.cancel(),x.schedule(),h):(x.apply(this,w),h)},S=()=>(x.flush(),h);return b.cancel=x.cancel,b.flush=S,b}e.debounce=n})(Yg)),Yg}var aM;function n9(){return aM||(aM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r9();function n(r,a=0,s={}){const{leading:c=!0,trailing:u=!0}=s;return t.debounce(r,a,{leading:c,maxWait:a,trailing:u})}e.throttle=n})(Ug)),Ug}var Gg,iM;function a9(){return iM||(iM=1,Gg=n9().throttle),Gg}var i9=a9();const s9=si(i9);var sM=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(n.replace(/%s/g,()=>a[c++]))}},Wa={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},N5=(e,t,n)=>{var{width:r=Wa.width,height:a=Wa.height,aspect:s,maxHeight:c}=n,u=Vl(r)?e:Number(r),f=Vl(a)?t:Number(a);return s&&s>0&&(u?f=u/s:f&&(u=f*s),c&&f!=null&&f>c&&(f=c)),{calculatedWidth:u,calculatedHeight:f}},l9={width:0,height:0,overflow:"visible"},o9={width:0,overflowX:"visible"},c9={height:0,overflowY:"visible"},u9={},d9=e=>{var{width:t,height:n}=e,r=Vl(t),a=Vl(n);return r&&a?l9:r?o9:a?c9:u9};function f9(e){var{width:t,height:n,aspect:r}=e,a=t,s=n;return a===void 0&&s===void 0?(a=Wa.width,s=Wa.height):a===void 0?a=r&&r>0?void 0:Wa.width:s===void 0&&(s=r&&r>0?void 0:Wa.height),{width:a,height:s}}function py(){return py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},py.apply(null,arguments)}function lM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function oM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lM(Object(n),!0).forEach(function(r){m9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function m9(e,t,n){return(t=p9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p9(e){var t=h9(e,"string");return typeof t=="symbol"?t:t+""}function h9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var S5=j.createContext(Wa.initialDimension);function v9(e){return Vs(e.width)&&Vs(e.height)}function C5(e){var{children:t,width:n,height:r}=e,a=j.useMemo(()=>({width:n,height:r}),[n,r]);return v9(a)?j.createElement(S5.Provider,{value:a},t):null}var O1=()=>j.useContext(S5),x9=j.forwardRef((e,t)=>{var{aspect:n,initialDimension:r=Wa.initialDimension,width:a,height:s,minWidth:c=Wa.minWidth,minHeight:u,maxHeight:f,children:m,debounce:h=Wa.debounce,id:v,className:x,onResize:b,style:S={}}=e,w=j.useRef(null),y=j.useRef();y.current=b,j.useImperativeHandle(t,()=>w.current);var[C,M]=j.useState({containerWidth:r.width,containerHeight:r.height}),A=j.useCallback((O,L)=>{M(R=>{var B=Math.round(O),D=Math.round(L);return R.containerWidth===B&&R.containerHeight===D?R:{containerWidth:B,containerHeight:D}})},[]);j.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return kd;var O=D=>{var W,X=D[0];if(X!=null){var{width:Z,height:$}=X.contentRect;A(Z,$),(W=y.current)===null||W===void 0||W.call(y,Z,$)}};h>0&&(O=s9(O,h,{trailing:!0,leading:!1}));var L=new ResizeObserver(O),{width:R,height:B}=w.current.getBoundingClientRect();return A(R,B),L.observe(w.current),()=>{L.disconnect()}},[A,h]);var{containerWidth:_,containerHeight:E}=C;sM(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:T,calculatedHeight:P}=N5(_,E,{width:a,height:s,aspect:n,maxHeight:f});return sM(T!=null&&T>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,P,a,s,c,u,n),j.createElement("div",{id:v?"".concat(v):void 0,className:st("recharts-responsive-container",x),style:oM(oM({},S),{},{width:a,height:s,minWidth:c,minHeight:u,maxHeight:f}),ref:w},j.createElement("div",{style:d9({width:a,height:s})},j.createElement(C5,{width:T,height:P},m)))}),A5=j.forwardRef((e,t)=>{var n=O1();if(Vs(n.width)&&Vs(n.height))return e.children;var{width:r,height:a}=f9({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:c}=N5(void 0,void 0,{width:r,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Qe(s)&&Qe(c)?j.createElement(C5,{width:s,height:c},e.children):j.createElement(x9,py({},e,{width:r,height:a,ref:t}))});function T1(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Vh=()=>{var e,t=Xs(),n=nt(JH),r=nt(Yh),a=(e=nt(Uh))===null||e===void 0?void 0:e.padding;return!t||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},g9={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},b9=()=>{var e;return(e=nt(Ir))!==null&&e!==void 0?e:g9},y9=()=>nt(Zi),w9=()=>nt(Ji),nr=e=>e.layout.layoutType,Gh=()=>nt(nr),M5=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},j9=()=>{var e=Gh();return e!==void 0},Od=e=>{var t=kr(),n=Xs(),{width:r,height:a}=e,s=O1(),c=r,u=a;return s&&(c=s.width>0?s.width:r,u=s.height>0?s.height:a),j.useEffect(()=>{!n&&Vs(c)&&Vs(u)&&t(kH({width:c,height:u}))},[t,n,c,u]),null},k5=Symbol.for("immer-nothing"),cM=Symbol.for("immer-draftable"),$n=Symbol.for("immer-state");function ga(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var cd=Object.getPrototypeOf;function uc(e){return!!e&&!!e[$n]}function Kl(e){return e?D5(e)||Array.isArray(e)||!!e[cM]||!!e.constructor?.[cM]||Td(e)||Wh(e):!1}var N9=Object.prototype.constructor.toString(),uM=new WeakMap;function D5(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=uM.get(n);return r===void 0&&(r=Function.toString.call(n),uM.set(n,r)),r===N9}function Pp(e,t,n=!0){Kh(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((r,a)=>t(a,r,e))}function Kh(e){const t=e[$n];return t?t.type_:Array.isArray(e)?1:Td(e)?2:Wh(e)?3:0}function hy(e,t){return Kh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function E5(e,t,n){const r=Kh(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function S9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Td(e){return e instanceof Map}function Wh(e){return e instanceof Set}function kl(e){return e.copy_||e.base_}function vy(e,t){if(Td(e))return new Map(e);if(Wh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=D5(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[$n];let a=Reflect.ownKeys(r);for(let s=0;s<a.length;s++){const c=a[s],u=r[c];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[c]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[c]})}return Object.create(cd(e),r)}else{const r=cd(e);if(r!==null&&n)return{...e};const a=Object.create(r);return Object.assign(a,e)}}function P1(e,t=!1){return Qh(e)||uc(e)||!Kl(e)||(Kh(e)>1&&Object.defineProperties(e,{set:bm,add:bm,clear:bm,delete:bm}),Object.freeze(e),t&&Object.values(e).forEach(n=>P1(n,!0))),e}function C9(){ga(2)}var bm={value:C9};function Qh(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var A9={};function Wl(e){const t=A9[e];return t||ga(0,e),t}var ud;function _5(){return ud}function M9(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function dM(e,t){t&&(Wl("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function xy(e){gy(e),e.drafts_.forEach(k9),e.drafts_=null}function gy(e){e===ud&&(ud=e.parent_)}function fM(e){return ud=M9(ud,e)}function k9(e){const t=e[$n];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function mM(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[$n].modified_&&(xy(t),ga(4)),Kl(e)&&(e=Ip(t,e),t.parent_||Rp(t,e)),t.patches_&&Wl("Patches").generateReplacementPatches_(n[$n].base_,e,t.patches_,t.inversePatches_)):e=Ip(t,n,[]),xy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==k5?e:void 0}function Ip(e,t,n){if(Qh(t))return t;const r=e.immer_.shouldUseStrictIteration(),a=t[$n];if(!a)return Pp(t,(s,c)=>pM(e,a,t,s,c,n),r),t;if(a.scope_!==e)return t;if(!a.modified_)return Rp(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let c=s,u=!1;a.type_===3&&(c=new Set(s),s.clear(),u=!0),Pp(c,(f,m)=>pM(e,a,s,f,m,n,u),r),Rp(e,s,!1),n&&e.patches_&&Wl("Patches").generatePatches_(a,n,e.patches_,e.inversePatches_)}return a.copy_}function pM(e,t,n,r,a,s,c){if(a==null||typeof a!="object"&&!c)return;const u=Qh(a);if(!(u&&!c)){if(uc(a)){const f=s&&t&&t.type_!==3&&!hy(t.assigned_,r)?s.concat(r):void 0,m=Ip(e,a,f);if(E5(n,r,m),uc(m))e.canAutoFreeze_=!1;else return}else c&&n.add(a);if(Kl(a)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===a&&u)return;Ip(e,a),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Td(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Rp(e,a)}}}function Rp(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&P1(t,n)}function D9(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:_5(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,s=I1;n&&(a=[r],s=dd);const{revoke:c,proxy:u}=Proxy.revocable(a,s);return r.draft_=u,r.revoke_=c,u}var I1={get(e,t){if(t===$n)return e;const n=kl(e);if(!hy(n,t))return E9(e,n,t);const r=n[t];return e.finalized_||!Kl(r)?r:r===Kg(e.base_,t)?(Wg(e),e.copy_[t]=yy(r,e)):r},has(e,t){return t in kl(e)},ownKeys(e){return Reflect.ownKeys(kl(e))},set(e,t,n){const r=O5(kl(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=Kg(kl(e),t),s=a?.[$n];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(S9(n,a)&&(n!==void 0||hy(e.base_,t)))return!0;Wg(e),by(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Kg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Wg(e),by(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=kl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){ga(11)},getPrototypeOf(e){return cd(e.base_)},setPrototypeOf(){ga(12)}},dd={};Pp(I1,(e,t)=>{dd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});dd.deleteProperty=function(e,t){return dd.set.call(this,e,t,void 0)};dd.set=function(e,t,n){return I1.set.call(this,e[0],t,n,e[0])};function Kg(e,t){const n=e[$n];return(n?kl(n):e)[t]}function E9(e,t,n){const r=O5(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function O5(e,t){if(!(t in e))return;let n=cd(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=cd(n)}}function by(e){e.modified_||(e.modified_=!0,e.parent_&&by(e.parent_))}function Wg(e){e.copy_||(e.copy_=vy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var _9=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const c=this;return function(f=s,...m){return c.produce(f,h=>n.call(this,h,...m))}}typeof n!="function"&&ga(6),r!==void 0&&typeof r!="function"&&ga(7);let a;if(Kl(t)){const s=fM(this),c=yy(t,void 0);let u=!0;try{a=n(c),u=!1}finally{u?xy(s):gy(s)}return dM(s,r),mM(a,s)}else if(!t||typeof t!="object"){if(a=n(t),a===void 0&&(a=t),a===k5&&(a=void 0),this.autoFreeze_&&P1(a,!0),r){const s=[],c=[];Wl("Patches").generateReplacementPatches_(t,a,s,c),r(s,c)}return a}else ga(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(c,...u)=>this.produceWithPatches(c,f=>t(f,...u));let r,a;return[this.produce(t,n,(c,u)=>{r=c,a=u}),r,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Kl(e)||ga(8),uc(e)&&(e=O9(e));const t=fM(this),n=yy(e,void 0);return n[$n].isManual_=!0,gy(t),n}finishDraft(e,t){const n=e&&e[$n];(!n||!n.isManual_)&&ga(9);const{scope_:r}=n;return dM(r,t),mM(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=Wl("Patches").applyPatches_;return uc(e)?r(e,t):this.produce(e,a=>r(a,t))}};function yy(e,t){const n=Td(e)?Wl("MapSet").proxyMap_(e,t):Wh(e)?Wl("MapSet").proxySet_(e,t):D9(e,t);return(t?t.scope_:_5()).drafts_.push(n),n}function O9(e){return uc(e)||ga(10,e),T5(e)}function T5(e){if(!Kl(e)||Qh(e))return e;const t=e[$n];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=vy(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=vy(e,!0);return Pp(n,(a,s)=>{E5(n,a,T5(s))},r),t&&(t.finalized_=!1),n}var T9=new _9;T9.produce;var P9={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},P5=jn({name:"legend",initialState:P9,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:er()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,a=wa(e).payload.indexOf(n);a>-1&&(e.payload[a]=r)},prepare:er()},removeLegendPayload:{reducer(e,t){var n=wa(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:er()}}}),{setLegendSize:Ble,setLegendSettings:$le,addLegendPayload:I9,replaceLegendPayload:R9,removeLegendPayload:L9}=P5.actions,z9=P5.reducer;function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wy.apply(null,arguments)}function hM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Tu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hM(Object(n),!0).forEach(function(r){F9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F9(e,t,n){return(t=B9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B9(e){var t=$9(e,"string");return typeof t=="symbol"?t:t+""}function $9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q9(e){return Array.isArray(e)&&Hi(e[0])&&Hi(e[1])?e.join(" ~ "):e}var Bo={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},H9=e=>{var{separator:t=Bo.separator,contentStyle:n,itemStyle:r,labelStyle:a=Bo.labelStyle,payload:s,formatter:c,itemSorter:u,wrapperClassName:f,labelClassName:m,label:h,labelFormatter:v,accessibilityLayer:x=Bo.accessibilityLayer}=e,b=()=>{if(s&&s.length){var E={padding:0,margin:0},T=(u?Oh(s,u):s).map((P,O)=>{if(P.type==="none")return null;var L=P.formatter||c||q9,{value:R,name:B}=P,D=R,W=B;if(L){var X=L(R,B,P,O,s);if(Array.isArray(X))[D,W]=X;else if(X!=null)D=X;else return null}var Z=Tu(Tu({},Bo.itemStyle),{},{color:P.color||Bo.itemStyle.color},r);return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:Z},Hi(W)?j.createElement("span",{className:"recharts-tooltip-item-name"},W):null,Hi(W)?j.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,j.createElement("span",{className:"recharts-tooltip-item-value"},D),j.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:E},T)}return null},S=Tu(Tu({},Bo.contentStyle),n),w=Tu({margin:0},a),y=!Bn(h),C=y?h:"",M=st("recharts-default-tooltip",f),A=st("recharts-tooltip-label",m);y&&v&&s!==void 0&&s!==null&&(C=v(h,s));var _=x?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",wy({className:M,style:S},_),j.createElement("p",{className:A,style:w},j.isValidElement(C)?C:"".concat(C)),b())},Pu="recharts-tooltip-wrapper",U9={visibility:"hidden"};function Y9(e){var{coordinate:t,translateX:n,translateY:r}=e;return st(Pu,{["".concat(Pu,"-right")]:Qe(n)&&t&&Qe(t.x)&&n>=t.x,["".concat(Pu,"-left")]:Qe(n)&&t&&Qe(t.x)&&n<t.x,["".concat(Pu,"-bottom")]:Qe(r)&&t&&Qe(t.y)&&r>=t.y,["".concat(Pu,"-top")]:Qe(r)&&t&&Qe(t.y)&&r<t.y})}function vM(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offset:a,position:s,reverseDirection:c,tooltipDimension:u,viewBox:f,viewBoxDimension:m}=e;if(s&&Qe(s[r]))return s[r];var h=n[r]-u-(a>0?a:0),v=n[r]+a;if(t[r])return c[r]?h:v;var x=f[r];if(x==null)return 0;if(c[r]){var b=h,S=x;return b<S?Math.max(v,x):Math.max(h,x)}if(m==null)return 0;var w=v+u,y=x+m;return w>y?Math.max(h,x):Math.max(v,x)}function V9(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function G9(e){var{allowEscapeViewBox:t,coordinate:n,offsetTop:r,offsetLeft:a,position:s,reverseDirection:c,tooltipBox:u,useTranslate3d:f,viewBox:m}=e,h,v,x;return u.height>0&&u.width>0&&n?(v=vM({allowEscapeViewBox:t,coordinate:n,key:"x",offset:a,position:s,reverseDirection:c,tooltipDimension:u.width,viewBox:m,viewBoxDimension:m.width}),x=vM({allowEscapeViewBox:t,coordinate:n,key:"y",offset:r,position:s,reverseDirection:c,tooltipDimension:u.height,viewBox:m,viewBoxDimension:m.height}),h=V9({translateX:v,translateY:x,useTranslate3d:f})):h=U9,{cssProperties:h,cssClasses:Y9({translateX:v,translateY:x,coordinate:n})}}function xM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ym(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xM(Object(n),!0).forEach(function(r){jy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jy(e,t,n){return(t=K9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K9(e){var t=W9(e,"string");return typeof t=="symbol"?t:t+""}function W9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Q9 extends j.PureComponent{constructor(){super(...arguments),jy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),jy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:s,coordinate:c,hasPayload:u,isAnimationActive:f,offset:m,position:h,reverseDirection:v,useTranslate3d:x,viewBox:b,wrapperStyle:S,lastBoundingBox:w,innerRef:y,hasPortalFromProps:C}=this.props,M=typeof m=="number"?m:m.x,A=typeof m=="number"?m:m.y,{cssClasses:_,cssProperties:E}=G9({allowEscapeViewBox:n,coordinate:c,offsetLeft:M,offsetTop:A,position:h,reverseDirection:v,tooltipBox:{height:w.height,width:w.width},useTranslate3d:x,viewBox:b}),T=C?{}:ym(ym({transition:f&&t?"transform ".concat(r,"ms ").concat(a):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),P=ym(ym({},T),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},S);return j.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:P,ref:y},s)}}var I5=()=>{var e;return(e=nt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ny.apply(null,arguments)}function gM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gM(Object(n),!0).forEach(function(r){X9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function X9(e,t,n){return(t=Z9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z9(e){var t=J9(e,"string");return typeof t=="symbol"?t:t+""}function J9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yM={curveBasisClosed:XB,curveBasisOpen:ZB,curveBasis:QB,curveBumpX:RB,curveBumpY:LB,curveLinearClosed:JB,curveLinear:Eh,curveMonotoneX:e$,curveMonotoneY:t$,curveNatural:r$,curveStep:n$,curveStepAfter:i$,curveStepBefore:a$},Lp=e=>Ft(e.x)&&Ft(e.y),wM=e=>e.base!=null&&Lp(e.base)&&Lp(e),Iu=e=>e.x,Ru=e=>e.y,e7=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Md(e));if((n==="curveMonotone"||n==="curveBump")&&t){var r=yM["".concat(n).concat(t==="vertical"?"Y":"X")];if(r)return r}return yM[n]||Eh},jM={connectNulls:!1,type:"linear"},t7=e=>{var{type:t=jM.type,points:n=[],baseLine:r,layout:a,connectNulls:s=jM.connectNulls}=e,c=e7(t,a),u=s?n.filter(Lp):n;if(Array.isArray(r)){var f,m=n.map((S,w)=>bM(bM({},S),{},{base:r[w]}));a==="vertical"?f=fm().y(Ru).x1(Iu).x0(S=>S.base.x):f=fm().x(Iu).y1(Ru).y0(S=>S.base.y);var h=f.defined(wM).curve(c),v=s?m.filter(wM):m;return h(v)}var x;a==="vertical"&&Qe(r)?x=fm().y(Ru).x1(Iu).x0(r):Qe(r)?x=fm().x(Iu).y1(Ru).y0(r):x=hT().x(Iu).y(Ru);var b=x.defined(Lp).curve(c);return b(u)},R1=e=>{var{className:t,points:n,path:r,pathRef:a}=e,s=Gh();if((!n||!n.length)&&!r)return null;var c={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||s,connectNulls:e.connectNulls},u=n&&n.length?t7(c):r;return j.createElement("path",Ny({},oc(e),D$(e),{className:st("recharts-curve",t),d:u===null?void 0:u,ref:a}))},r7=["x","y","top","left","width","height","className"];function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sy.apply(null,arguments)}function NM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function n7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NM(Object(n),!0).forEach(function(r){a7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function a7(e,t,n){return(t=i7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i7(e){var t=s7(e,"string");return typeof t=="symbol"?t:t+""}function s7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l7(e,t){if(e==null)return{};var n,r,a=o7(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function o7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var c7=(e,t,n,r,a,s)=>"M".concat(e,",").concat(a,"v").concat(r,"M").concat(s,",").concat(t,"h").concat(n),u7=e=>{var{x:t=0,y:n=0,top:r=0,left:a=0,width:s=0,height:c=0,className:u}=e,f=l7(e,r7),m=n7({x:t,y:n,top:r,left:a,width:s,height:c},f);return!Qe(t)||!Qe(n)||!Qe(s)||!Qe(c)||!Qe(r)||!Qe(a)?null:j.createElement("path",Sy({},ia(m),{className:st("recharts-cross",u),d:c7(t,n,s,c,r,a)}))};function d7(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function SM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function CM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SM(Object(n),!0).forEach(function(r){f7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function f7(e,t,n){return(t=m7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m7(e){var t=p7(e,"string");return typeof t=="symbol"?t:t+""}function p7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var h7=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),R5=(e,t,n)=>e.map(r=>"".concat(h7(r)," ").concat(t,"ms ").concat(n)).join(","),v7=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(a=>r.includes(a))),fd=(e,t)=>Object.keys(t).reduce((n,r)=>CM(CM({},n),{},{[r]:e(r,t[r])}),{});function AM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Mr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AM(Object(n),!0).forEach(function(r){x7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function x7(e,t,n){return(t=g7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g7(e){var t=b7(e,"string");return typeof t=="symbol"?t:t+""}function b7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zp=(e,t,n)=>e+(t-e)*n,Cy=e=>{var{from:t,to:n}=e;return t!==n},L5=(e,t,n)=>{var r=fd((a,s)=>{if(Cy(s)){var[c,u]=e(s.from,s.to,s.velocity);return Mr(Mr({},s),{},{from:c,velocity:u})}return s},t);return n<1?fd((a,s)=>Cy(s)&&r[a]!=null?Mr(Mr({},s),{},{velocity:zp(s.velocity,r[a].velocity,n),from:zp(s.from,r[a].from,n)}):s,t):L5(e,r,n-1)};function y7(e,t,n,r,a,s){var c,u=r.reduce((x,b)=>Mr(Mr({},x),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),f=()=>fd((x,b)=>b.from,u),m=()=>!Object.values(u).filter(Cy).length,h=null,v=x=>{c||(c=x);var b=x-c,S=b/n.dt;u=L5(n,u,S),a(Mr(Mr(Mr({},e),t),f())),c=x,m()||(h=s.setTimeout(v))};return()=>(h=s.setTimeout(v),()=>{var x;(x=h)===null||x===void 0||x()})}function w7(e,t,n,r,a,s,c){var u=null,f=a.reduce((v,x)=>{var b=e[x],S=t[x];return b==null||S==null?v:Mr(Mr({},v),{},{[x]:[b,S]})},{}),m,h=v=>{m||(m=v);var x=(v-m)/r,b=fd((w,y)=>zp(...y,n(x)),f);if(s(Mr(Mr(Mr({},e),t),b)),x<1)u=c.setTimeout(h);else{var S=fd((w,y)=>zp(...y,n(1)),f);s(Mr(Mr(Mr({},e),t),S))}};return()=>(u=c.setTimeout(h),()=>{var v;(v=u)===null||v===void 0||v()})}const j7=(e,t,n,r,a,s)=>{var c=v7(e,t);return n==null?()=>(a(Mr(Mr({},e),t)),()=>{}):n.isStepper===!0?y7(e,t,n,c,a,s):w7(e,t,n,r,c,a,s)};var Fp=1e-4,z5=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],F5=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),MM=(e,t)=>n=>{var r=z5(e,t);return F5(r,n)},N7=(e,t)=>n=>{var r=z5(e,t),a=[...r.map((s,c)=>s*c).slice(1),0];return F5(a,n)},S7=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var a=r.map(s=>parseFloat(s));return[a[0],a[1],a[2],a[3]]},C7=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=S7(n[0]);if(a)return a}}return n.length===4?n:[0,0,1,1]},A7=(e,t,n,r)=>{var a=MM(e,n),s=MM(t,r),c=N7(e,n),u=m=>m>1?1:m<0?0:m,f=m=>{for(var h=m>1?1:m,v=h,x=0;x<8;++x){var b=a(v)-h,S=c(v);if(Math.abs(b-h)<Fp||S<Fp)return s(v);v=u(v-b/S)}return s(v)};return f.isStepper=!1,f},kM=function(){return A7(...C7(...arguments))},M7=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=t,s=(c,u,f)=>{var m=-(c-u)*n,h=f*r,v=f+(m-h)*a/1e3,x=f*a/1e3+c;return Math.abs(x-u)<Fp&&Math.abs(v)<Fp?[u,0]:[x,v]};return s.isStepper=!0,s.dt=a,s},k7=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return kM(e);case"spring":return M7();default:if(e.split("(")[0]==="cubic-bezier")return kM(e)}return typeof e=="function"?e:null};function D7(e){var t,n=()=>null,r=!1,a=null,s=c=>{if(!r){if(Array.isArray(c)){if(!c.length)return;var u=c,[f,...m]=u;if(typeof f=="number"){a=e.setTimeout(s.bind(null,m),f);return}s(f),a=e.setTimeout(s.bind(null,m));return}typeof c=="string"&&(t=c,n(t)),typeof c=="object"&&(t=c,n(t)),typeof c=="function"&&c()}};return{stop:()=>{r=!0},start:c=>{r=!1,a&&(a(),a=null),s(c)},subscribe:c=>(n=c,()=>{n=()=>null}),getTimeoutController:()=>e}}class E7{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,s=c=>{c-r>=n?t(c):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function _7(){return D7(new E7)}var O7=j.createContext(_7);function T7(e,t){var n=j.useContext(O7);return j.useMemo(()=>t??n(e),[e,t,n])}var P7=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),L1={isSsr:P7()},I7={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},DM={t:0},Qg={t:1};function z1(e){var t=ui(e,I7),{isActive:n,canBegin:r,duration:a,easing:s,begin:c,onAnimationEnd:u,onAnimationStart:f,children:m}=t,h=n==="auto"?!L1.isSsr:n,v=T7(t.animationId,t.animationManager),[x,b]=j.useState(h?DM:Qg),S=j.useRef(null);return j.useEffect(()=>{h||b(Qg)},[h]),j.useEffect(()=>{if(!h||!r)return kd;var w=j7(DM,Qg,k7(s),a,b,v.getTimeoutController()),y=()=>{S.current=w()};return v.start([f,c,y,a,u]),()=>{v.stop(),S.current&&S.current(),u()}},[h,r,a,s,c,f,u,v]),m(x.t)}function F1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=j.useRef(id(t)),r=j.useRef(e);return r.current!==e&&(n.current=id(t),r.current=e),n.current}var R7=["radius"],L7=["radius"],EM,_M,OM,TM,PM,IM,RM,LM,zM,FM;function BM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $M(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BM(Object(n),!0).forEach(function(r){z7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z7(e,t,n){return(t=F7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F7(e){var t=B7(e,"string");return typeof t=="symbol"?t:t+""}function B7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bp(){return Bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bp.apply(null,arguments)}function qM(e,t){if(e==null)return{};var n,r,a=$7(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function $7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Fa(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var HM=(e,t,n,r,a)=>{var s=Ls(n),c=Ls(r),u=Math.min(Math.abs(s)/2,Math.abs(c)/2),f=c>=0?1:-1,m=s>=0?1:-1,h=c>=0&&s>=0||c<0&&s<0?1:0,v;if(u>0&&Array.isArray(a)){for(var x=[0,0,0,0],b=0,S=4;b<S;b++){var w,y=(w=a[b])!==null&&w!==void 0?w:0;x[b]=y>u?u:y}v=or(EM||(EM=Fa(["M",",",""])),e,t+f*x[0]),x[0]>0&&(v+=or(_M||(_M=Fa(["A ",",",",0,0,",",",",",""])),x[0],x[0],h,e+m*x[0],t)),v+=or(OM||(OM=Fa(["L ",",",""])),e+n-m*x[1],t),x[1]>0&&(v+=or(TM||(TM=Fa(["A ",",",",0,0,",`,
        `,",",""])),x[1],x[1],h,e+n,t+f*x[1])),v+=or(PM||(PM=Fa(["L ",",",""])),e+n,t+r-f*x[2]),x[2]>0&&(v+=or(IM||(IM=Fa(["A ",",",",0,0,",`,
        `,",",""])),x[2],x[2],h,e+n-m*x[2],t+r)),v+=or(RM||(RM=Fa(["L ",",",""])),e+m*x[3],t+r),x[3]>0&&(v+=or(LM||(LM=Fa(["A ",",",",0,0,",`,
        `,",",""])),x[3],x[3],h,e,t+r-f*x[3])),v+="Z"}else if(u>0&&a===+a&&a>0){var C=Math.min(u,a);v=or(zM||(zM=Fa(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+f*C,C,C,h,e+m*C,t,e+n-m*C,t,C,C,h,e+n,t+f*C,e+n,t+r-f*C,C,C,h,e+n-m*C,t+r,e+m*C,t+r,C,C,h,e,t+r-f*C)}else v=or(FM||(FM=Fa(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return v},UM={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},B5=e=>{var t=ui(e,UM),n=j.useRef(null),[r,a]=j.useState(-1);j.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var G=n.current.getTotalLength();G&&a(G)}catch{}},[]);var{x:s,y:c,width:u,height:f,radius:m,className:h}=t,{animationEasing:v,animationDuration:x,animationBegin:b,isAnimationActive:S,isUpdateAnimationActive:w}=t,y=j.useRef(u),C=j.useRef(f),M=j.useRef(s),A=j.useRef(c),_=j.useMemo(()=>({x:s,y:c,width:u,height:f,radius:m}),[s,c,u,f,m]),E=F1(_,"rectangle-");if(s!==+s||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var T=st("recharts-rectangle",h);if(!w){var P=ia(t),{radius:O}=P,L=qM(P,R7);return j.createElement("path",Bp({},L,{x:Ls(s),y:Ls(c),width:Ls(u),height:Ls(f),radius:typeof m=="number"?m:void 0,className:T,d:HM(s,c,u,f,m)}))}var R=y.current,B=C.current,D=M.current,W=A.current,X="0px ".concat(r===-1?1:r,"px"),Z="".concat(r,"px 0px"),$=R5(["strokeDasharray"],x,typeof v=="string"?v:UM.animationEasing);return j.createElement(z1,{animationId:E,key:E,canBegin:r>0,duration:x,easing:v,isActive:w,begin:b},G=>{var z=va(R,u,G),te=va(B,f,G),ve=va(D,s,G),F=va(W,c,G);n.current&&(y.current=z,C.current=te,M.current=ve,A.current=F);var ae;S?G>0?ae={transition:$,strokeDasharray:Z}:ae={strokeDasharray:X}:ae={strokeDasharray:Z};var he=ia(t),{radius:ye}=he,je=qM(he,L7);return j.createElement("path",Bp({},je,{radius:typeof m=="number"?m:void 0,className:T,d:HM(ve,F,z,te,m),ref:n,style:$M($M({},ae),t.style)}))})};function YM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function VM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YM(Object(n),!0).forEach(function(r){q7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q7(e,t,n){return(t=H7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H7(e){var t=U7(e,"string");return typeof t=="symbol"?t:t+""}function U7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $p=Math.PI/180,Y7=e=>e*180/Math.PI,Nr=(e,t,n,r)=>({x:e+Math.cos(-$p*r)*n,y:t+Math.sin(-$p*r)*n}),$5=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},V7=(e,t)=>{var{x:n,y:r}=e,{x:a,y:s}=t;return Math.sqrt((n-a)**2+(r-s)**2)},G7=(e,t)=>{var{x:n,y:r}=e,{cx:a,cy:s}=t,c=V7({x:n,y:r},{x:a,y:s});if(c<=0)return{radius:c,angle:0};var u=(n-a)/c,f=Math.acos(u);return r>s&&(f=2*Math.PI-f),{radius:c,angle:Y7(f),angleInRadian:f}},K7=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),a=Math.floor(n/360),s=Math.min(r,a);return{startAngle:t-s*360,endAngle:n-s*360}},W7=(e,t)=>{var{startAngle:n,endAngle:r}=t,a=Math.floor(n/360),s=Math.floor(r/360),c=Math.min(a,s);return e+c*360},Q7=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:a,angle:s}=G7({x:n,y:r},t),{innerRadius:c,outerRadius:u}=t;if(a<c||a>u||a===0)return null;var{startAngle:f,endAngle:m}=K7(t),h=s,v;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;v=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;v=h>=m&&h<=f}return v?VM(VM({},t),{},{radius:a,angle:W7(h,t)}):null};function q5(e){var{cx:t,cy:n,radius:r,startAngle:a,endAngle:s}=e,c=Nr(t,n,r,a),u=Nr(t,n,r,s);return{points:[c,u],cx:t,cy:n,radius:r,startAngle:a,endAngle:s}}var GM,KM,WM,QM,XM,ZM,JM;function Ay(){return Ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ay.apply(null,arguments)}function Pl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var X7=(e,t)=>{var n=bn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},wm=e=>{var{cx:t,cy:n,radius:r,angle:a,sign:s,isExternal:c,cornerRadius:u,cornerIsExternal:f}=e,m=u*(c?1:-1)+r,h=Math.asin(u/m)/$p,v=f?a:a+s*h,x=Nr(t,n,m,v),b=Nr(t,n,r,v),S=f?a-s*h:a,w=Nr(t,n,m*Math.cos(h*$p),S);return{center:x,circleTangency:b,lineTangency:w,theta:h}},H5=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:s,endAngle:c}=e,u=X7(s,c),f=s+u,m=Nr(t,n,a,s),h=Nr(t,n,a,f),v=or(GM||(GM=Pl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),m.x,m.y,a,a,+(Math.abs(u)>180),+(s>f),h.x,h.y);if(r>0){var x=Nr(t,n,r,s),b=Nr(t,n,r,f);v+=or(KM||(KM=Pl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),b.x,b.y,r,r,+(Math.abs(u)>180),+(s<=f),x.x,x.y)}else v+=or(WM||(WM=Pl(["L ",","," Z"])),t,n);return v},Z7=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:m}=e,h=bn(m-f),{circleTangency:v,lineTangency:x,theta:b}=wm({cx:t,cy:n,radius:a,angle:f,sign:h,cornerRadius:s,cornerIsExternal:u}),{circleTangency:S,lineTangency:w,theta:y}=wm({cx:t,cy:n,radius:a,angle:m,sign:-h,cornerRadius:s,cornerIsExternal:u}),C=u?Math.abs(f-m):Math.abs(f-m)-b-y;if(C<0)return c?or(QM||(QM=Pl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),x.x,x.y,s,s,s*2,s,s,-s*2):H5({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:f,endAngle:m});var M=or(XM||(XM=Pl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),x.x,x.y,s,s,+(h<0),v.x,v.y,a,a,+(C>180),+(h<0),S.x,S.y,s,s,+(h<0),w.x,w.y);if(r>0){var{circleTangency:A,lineTangency:_,theta:E}=wm({cx:t,cy:n,radius:r,angle:f,sign:h,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:T,lineTangency:P,theta:O}=wm({cx:t,cy:n,radius:r,angle:m,sign:-h,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),L=u?Math.abs(f-m):Math.abs(f-m)-E-O;if(L<0&&s===0)return"".concat(M,"L").concat(t,",").concat(n,"Z");M+=or(ZM||(ZM=Pl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),P.x,P.y,s,s,+(h<0),T.x,T.y,r,r,+(L>180),+(h>0),A.x,A.y,s,s,+(h<0),_.x,_.y)}else M+=or(JM||(JM=Pl(["L",",","Z"])),t,n);return M},J7={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},U5=e=>{var t=ui(e,J7),{cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:c,forceCornerRadius:u,cornerIsExternal:f,startAngle:m,endAngle:h,className:v}=t;if(s<a||m===h)return null;var x=st("recharts-sector",v),b=s-a,S=Ln(c,b,0,!0),w;return S>0&&Math.abs(m-h)<360?w=Z7({cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:Math.min(S,b/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:m,endAngle:h}):w=H5({cx:n,cy:r,innerRadius:a,outerRadius:s,startAngle:m,endAngle:h}),j.createElement("path",Ay({},ia(t),{className:x,d:w}))};function eU(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(ET(t)){if(e==="centric"){var{cx:r,cy:a,innerRadius:s,outerRadius:c,angle:u}=t,f=Nr(r,a,s,u),m=Nr(r,a,c,u);return[{x:f.x,y:f.y},{x:m.x,y:m.y}]}return q5(t)}}var Xg={},Zg={},Jg={},ek;function tU(){return ek||(ek=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BT();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(Jg)),Jg}var tk;function rU(){return tk||(tk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tU();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(Zg)),Zg}var rk;function nU(){return rk||(rk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$T(),n=rU();function r(a,s,c){c&&typeof c!="number"&&t.isIterateeCall(a,s,c)&&(s=c=void 0),a=n.toFinite(a),s===void 0?(s=a,a=0):s=n.toFinite(s),c=c===void 0?a<s?1:-1:n.toFinite(c);const u=Math.max(Math.ceil((s-a)/(c||1)),0),f=new Array(u);for(let m=0;m<u;m++)f[m]=a,a+=c;return f}e.range=r})(Xg)),Xg}var eb,nk;function aU(){return nk||(nk=1,eb=nU().range),eb}var iU=aU();const Y5=si(iU);function Fs(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function sU(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function B1(e){let t,n,r;e.length!==2?(t=Fs,n=(u,f)=>Fs(e(u),f),r=(u,f)=>e(u)-f):(t=e===Fs||e===sU?e:lU,n=e,r=e);function a(u,f,m=0,h=u.length){if(m<h){if(t(f,f)!==0)return h;do{const v=m+h>>>1;n(u[v],f)<0?m=v+1:h=v}while(m<h)}return m}function s(u,f,m=0,h=u.length){if(m<h){if(t(f,f)!==0)return h;do{const v=m+h>>>1;n(u[v],f)<=0?m=v+1:h=v}while(m<h)}return m}function c(u,f,m=0,h=u.length){const v=a(u,f,m,h-1);return v>m&&r(u[v-1],f)>-r(u[v],f)?v-1:v}return{left:a,center:c,right:s}}function lU(){return 0}function V5(e){return e===null?NaN:+e}function*oU(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const cU=B1(Fs),Pd=cU.right;B1(V5).center;class ak extends Map{constructor(t,n=fU){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(ik(this,t))}has(t){return super.has(ik(this,t))}set(t,n){return super.set(uU(this,t),n)}delete(t){return super.delete(dU(this,t))}}function ik({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function uU({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function dU({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function fU(e){return e!==null&&typeof e=="object"?e.valueOf():e}function mU(e=Fs){if(e===Fs)return G5;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function G5(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const pU=Math.sqrt(50),hU=Math.sqrt(10),vU=Math.sqrt(2);function qp(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),s=r/Math.pow(10,a),c=s>=pU?10:s>=hU?5:s>=vU?2:1;let u,f,m;return a<0?(m=Math.pow(10,-a)/c,u=Math.round(e*m),f=Math.round(t*m),u/m<e&&++u,f/m>t&&--f,m=-m):(m=Math.pow(10,a)*c,u=Math.round(e/m),f=Math.round(t/m),u*m<e&&++u,f*m>t&&--f),f<u&&.5<=n&&n<2?qp(e,t,n*2):[u,f,m]}function My(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,s,c]=r?qp(t,e,n):qp(e,t,n);if(!(s>=a))return[];const u=s-a+1,f=new Array(u);if(r)if(c<0)for(let m=0;m<u;++m)f[m]=(s-m)/-c;else for(let m=0;m<u;++m)f[m]=(s-m)*c;else if(c<0)for(let m=0;m<u;++m)f[m]=(a+m)/-c;else for(let m=0;m<u;++m)f[m]=(a+m)*c;return f}function ky(e,t,n){return t=+t,e=+e,n=+n,qp(e,t,n)[2]}function Dy(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?ky(t,e,n):ky(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function sk(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function lk(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function K5(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?G5:mU(a);r>n;){if(r-n>600){const f=r-n+1,m=t-n+1,h=Math.log(f),v=.5*Math.exp(2*h/3),x=.5*Math.sqrt(h*v*(f-v)/f)*(m-f/2<0?-1:1),b=Math.max(n,Math.floor(t-m*v/f+x)),S=Math.min(r,Math.floor(t+(f-m)*v/f+x));K5(e,t,b,S,a)}const s=e[t];let c=n,u=r;for(Lu(e,n,t),a(e[r],s)>0&&Lu(e,n,r);c<u;){for(Lu(e,c,u),++c,--u;a(e[c],s)<0;)++c;for(;a(e[u],s)>0;)--u}a(e[n],s)===0?Lu(e,n,u):(++u,Lu(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function Lu(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function xU(e,t,n){if(e=Float64Array.from(oU(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return lk(e);if(t>=1)return sk(e);var r,a=(r-1)*t,s=Math.floor(a),c=sk(K5(e,s).subarray(0,s+1)),u=lk(e.subarray(s+1));return c+(u-c)*(a-s)}}function gU(e,t,n=V5){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,s=Math.floor(a),c=+n(e[s],s,e),u=+n(e[s+1],s+1,e);return c+(u-c)*(a-s)}}function bU(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(a);++r<a;)s[r]=e+r*n;return s}function ua(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function es(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ey=Symbol("implicit");function $1(){var e=new ak,t=[],n=[],r=Ey;function a(s){let c=e.get(s);if(c===void 0){if(r!==Ey)return r;e.set(s,c=t.push(s)-1)}return n[c%n.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new ak;for(const c of s)e.has(c)||e.set(c,t.push(c)-1);return a},a.range=function(s){return arguments.length?(n=Array.from(s),a):n.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return $1(t,n).unknown(r)},ua.apply(a,arguments),a}function q1(){var e=$1().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,s,c,u=!1,f=0,m=0,h=.5;delete e.unknown;function v(){var x=t().length,b=a<r,S=b?a:r,w=b?r:a;s=(w-S)/Math.max(1,x-f+m*2),u&&(s=Math.floor(s)),S+=(w-S-s*(x-f))*h,c=s*(1-f),u&&(S=Math.round(S),c=Math.round(c));var y=bU(x).map(function(C){return S+s*C});return n(b?y.reverse():y)}return e.domain=function(x){return arguments.length?(t(x),v()):t()},e.range=function(x){return arguments.length?([r,a]=x,r=+r,a=+a,v()):[r,a]},e.rangeRound=function(x){return[r,a]=x,r=+r,a=+a,u=!0,v()},e.bandwidth=function(){return c},e.step=function(){return s},e.round=function(x){return arguments.length?(u=!!x,v()):u},e.padding=function(x){return arguments.length?(f=Math.min(1,m=+x),v()):f},e.paddingInner=function(x){return arguments.length?(f=Math.min(1,x),v()):f},e.paddingOuter=function(x){return arguments.length?(m=+x,v()):m},e.align=function(x){return arguments.length?(h=Math.max(0,Math.min(1,x)),v()):h},e.copy=function(){return q1(t(),[r,a]).round(u).paddingInner(f).paddingOuter(m).align(h)},ua.apply(v(),arguments)}function W5(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return W5(t())},e}function yU(){return W5(q1.apply(null,arguments).paddingInner(1))}function H1(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Q5(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Id(){}var md=.7,Hp=1/md,rc="\\s*([+-]?\\d+)\\s*",pd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ei="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wU=/^#([0-9a-f]{3,8})$/,jU=new RegExp(`^rgb\\(${rc},${rc},${rc}\\)$`),NU=new RegExp(`^rgb\\(${ei},${ei},${ei}\\)$`),SU=new RegExp(`^rgba\\(${rc},${rc},${rc},${pd}\\)$`),CU=new RegExp(`^rgba\\(${ei},${ei},${ei},${pd}\\)$`),AU=new RegExp(`^hsl\\(${pd},${ei},${ei}\\)$`),MU=new RegExp(`^hsla\\(${pd},${ei},${ei},${pd}\\)$`),ok={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};H1(Id,hd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ck,formatHex:ck,formatHex8:kU,formatHsl:DU,formatRgb:uk,toString:uk});function ck(){return this.rgb().formatHex()}function kU(){return this.rgb().formatHex8()}function DU(){return X5(this).formatHsl()}function uk(){return this.rgb().formatRgb()}function hd(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=wU.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?dk(t):n===3?new yn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?jm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?jm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=jU.exec(e))?new yn(t[1],t[2],t[3],1):(t=NU.exec(e))?new yn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=SU.exec(e))?jm(t[1],t[2],t[3],t[4]):(t=CU.exec(e))?jm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=AU.exec(e))?pk(t[1],t[2]/100,t[3]/100,1):(t=MU.exec(e))?pk(t[1],t[2]/100,t[3]/100,t[4]):ok.hasOwnProperty(e)?dk(ok[e]):e==="transparent"?new yn(NaN,NaN,NaN,0):null}function dk(e){return new yn(e>>16&255,e>>8&255,e&255,1)}function jm(e,t,n,r){return r<=0&&(e=t=n=NaN),new yn(e,t,n,r)}function EU(e){return e instanceof Id||(e=hd(e)),e?(e=e.rgb(),new yn(e.r,e.g,e.b,e.opacity)):new yn}function _y(e,t,n,r){return arguments.length===1?EU(e):new yn(e,t,n,r??1)}function yn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}H1(yn,_y,Q5(Id,{brighter(e){return e=e==null?Hp:Math.pow(Hp,e),new yn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?md:Math.pow(md,e),new yn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new yn($l(this.r),$l(this.g),$l(this.b),Up(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fk,formatHex:fk,formatHex8:_U,formatRgb:mk,toString:mk}));function fk(){return`#${Il(this.r)}${Il(this.g)}${Il(this.b)}`}function _U(){return`#${Il(this.r)}${Il(this.g)}${Il(this.b)}${Il((isNaN(this.opacity)?1:this.opacity)*255)}`}function mk(){const e=Up(this.opacity);return`${e===1?"rgb(":"rgba("}${$l(this.r)}, ${$l(this.g)}, ${$l(this.b)}${e===1?")":`, ${e})`}`}function Up(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function $l(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Il(e){return e=$l(e),(e<16?"0":"")+e.toString(16)}function pk(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ba(e,t,n,r)}function X5(e){if(e instanceof ba)return new ba(e.h,e.s,e.l,e.opacity);if(e instanceof Id||(e=hd(e)),!e)return new ba;if(e instanceof ba)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),s=Math.max(t,n,r),c=NaN,u=s-a,f=(s+a)/2;return u?(t===s?c=(n-r)/u+(n<r)*6:n===s?c=(r-t)/u+2:c=(t-n)/u+4,u/=f<.5?s+a:2-s-a,c*=60):u=f>0&&f<1?0:c,new ba(c,u,f,e.opacity)}function OU(e,t,n,r){return arguments.length===1?X5(e):new ba(e,t,n,r??1)}function ba(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}H1(ba,OU,Q5(Id,{brighter(e){return e=e==null?Hp:Math.pow(Hp,e),new ba(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?md:Math.pow(md,e),new ba(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new yn(tb(e>=240?e-240:e+120,a,r),tb(e,a,r),tb(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new ba(hk(this.h),Nm(this.s),Nm(this.l),Up(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Up(this.opacity);return`${e===1?"hsl(":"hsla("}${hk(this.h)}, ${Nm(this.s)*100}%, ${Nm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function hk(e){return e=(e||0)%360,e<0?e+360:e}function Nm(e){return Math.max(0,Math.min(1,e||0))}function tb(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const U1=e=>()=>e;function TU(e,t){return function(n){return e+n*t}}function PU(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function IU(e){return(e=+e)==1?Z5:function(t,n){return n-t?PU(t,n,e):U1(isNaN(t)?n:t)}}function Z5(e,t){var n=t-e;return n?TU(e,n):U1(isNaN(e)?t:e)}const vk=(function e(t){var n=IU(t);function r(a,s){var c=n((a=_y(a)).r,(s=_y(s)).r),u=n(a.g,s.g),f=n(a.b,s.b),m=Z5(a.opacity,s.opacity);return function(h){return a.r=c(h),a.g=u(h),a.b=f(h),a.opacity=m(h),a+""}}return r.gamma=e,r})(1);function RU(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(s){for(a=0;a<n;++a)r[a]=e[a]*(1-s)+t[a]*s;return r}}function LU(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function zU(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),s=new Array(n),c;for(c=0;c<r;++c)a[c]=kc(e[c],t[c]);for(;c<n;++c)s[c]=t[c];return function(u){for(c=0;c<r;++c)s[c]=a[c](u);return s}}function FU(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Yp(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function BU(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=kc(e[a],t[a]):r[a]=t[a];return function(s){for(a in n)r[a]=n[a](s);return r}}var Oy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rb=new RegExp(Oy.source,"g");function $U(e){return function(){return e}}function qU(e){return function(t){return e(t)+""}}function HU(e,t){var n=Oy.lastIndex=rb.lastIndex=0,r,a,s,c=-1,u=[],f=[];for(e=e+"",t=t+"";(r=Oy.exec(e))&&(a=rb.exec(t));)(s=a.index)>n&&(s=t.slice(n,s),u[c]?u[c]+=s:u[++c]=s),(r=r[0])===(a=a[0])?u[c]?u[c]+=a:u[++c]=a:(u[++c]=null,f.push({i:c,x:Yp(r,a)})),n=rb.lastIndex;return n<t.length&&(s=t.slice(n),u[c]?u[c]+=s:u[++c]=s),u.length<2?f[0]?qU(f[0].x):$U(t):(t=f.length,function(m){for(var h=0,v;h<t;++h)u[(v=f[h]).i]=v.x(m);return u.join("")})}function kc(e,t){var n=typeof t,r;return t==null||n==="boolean"?U1(t):(n==="number"?Yp:n==="string"?(r=hd(t))?(t=r,vk):HU:t instanceof hd?vk:t instanceof Date?FU:LU(t)?RU:Array.isArray(t)?zU:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?BU:Yp)(e,t)}function Y1(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function UU(e,t){t===void 0&&(t=e,e=kc);for(var n=0,r=t.length-1,a=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(a,a=t[++n]);return function(c){var u=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return s[u](c-u)}}function YU(e){return function(){return e}}function Vp(e){return+e}var xk=[0,1];function tn(e){return e}function Ty(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:YU(isNaN(t)?NaN:.5)}function VU(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function GU(e,t,n){var r=e[0],a=e[1],s=t[0],c=t[1];return a<r?(r=Ty(a,r),s=n(c,s)):(r=Ty(r,a),s=n(s,c)),function(u){return s(r(u))}}function KU(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),s=new Array(r),c=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<r;)a[c]=Ty(e[c],e[c+1]),s[c]=n(t[c],t[c+1]);return function(u){var f=Pd(e,u,1,r)-1;return s[f](a[f](u))}}function Rd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Xh(){var e=xk,t=xk,n=kc,r,a,s,c=tn,u,f,m;function h(){var x=Math.min(e.length,t.length);return c!==tn&&(c=VU(e[0],e[x-1])),u=x>2?KU:GU,f=m=null,v}function v(x){return x==null||isNaN(x=+x)?s:(f||(f=u(e.map(r),t,n)))(r(c(x)))}return v.invert=function(x){return c(a((m||(m=u(t,e.map(r),Yp)))(x)))},v.domain=function(x){return arguments.length?(e=Array.from(x,Vp),h()):e.slice()},v.range=function(x){return arguments.length?(t=Array.from(x),h()):t.slice()},v.rangeRound=function(x){return t=Array.from(x),n=Y1,h()},v.clamp=function(x){return arguments.length?(c=x?!0:tn,h()):c!==tn},v.interpolate=function(x){return arguments.length?(n=x,h()):n},v.unknown=function(x){return arguments.length?(s=x,v):s},function(x,b){return r=x,a=b,h()}}function V1(){return Xh()(tn,tn)}function WU(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Gp(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function dc(e){return e=Gp(Math.abs(e)),e?e[1]:NaN}function QU(e,t){return function(n,r){for(var a=n.length,s=[],c=0,u=e[0],f=0;a>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),s.push(n.substring(a-=u,a+u)),!((f+=u+1)>r));)u=e[c=(c+1)%e.length];return s.reverse().join(t)}}function XU(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var ZU=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vd(e){if(!(t=ZU.exec(e)))throw new Error("invalid format: "+e);var t;return new G1({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}vd.prototype=G1.prototype;function G1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}G1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function JU(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var Kp;function eY(e,t){var n=Gp(e,t);if(!n)return Kp=void 0,e.toPrecision(t);var r=n[0],a=n[1],s=a-(Kp=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,c=r.length;return s===c?r:s>c?r+new Array(s-c+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Gp(e,Math.max(0,t+s-1))[0]}function gk(e,t){var n=Gp(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const bk={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:WU,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>gk(e*100,t),r:gk,s:eY,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function yk(e){return e}var wk=Array.prototype.map,jk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function tY(e){var t=e.grouping===void 0||e.thousands===void 0?yk:QU(wk.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?yk:XU(wk.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function m(v,x){v=vd(v);var b=v.fill,S=v.align,w=v.sign,y=v.symbol,C=v.zero,M=v.width,A=v.comma,_=v.precision,E=v.trim,T=v.type;T==="n"?(A=!0,T="g"):bk[T]||(_===void 0&&(_=12),E=!0,T="g"),(C||b==="0"&&S==="=")&&(C=!0,b="0",S="=");var P=(x&&x.prefix!==void 0?x.prefix:"")+(y==="$"?n:y==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():""),O=(y==="$"?r:/[%p]/.test(T)?c:"")+(x&&x.suffix!==void 0?x.suffix:""),L=bk[T],R=/[defgprs%]/.test(T);_=_===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function B(D){var W=P,X=O,Z,$,G;if(T==="c")X=L(D)+X,D="";else{D=+D;var z=D<0||1/D<0;if(D=isNaN(D)?f:L(Math.abs(D),_),E&&(D=JU(D)),z&&+D==0&&w!=="+"&&(z=!1),W=(z?w==="("?w:u:w==="-"||w==="("?"":w)+W,X=(T==="s"&&!isNaN(D)&&Kp!==void 0?jk[8+Kp/3]:"")+X+(z&&w==="("?")":""),R){for(Z=-1,$=D.length;++Z<$;)if(G=D.charCodeAt(Z),48>G||G>57){X=(G===46?a+D.slice(Z+1):D.slice(Z))+X,D=D.slice(0,Z);break}}}A&&!C&&(D=t(D,1/0));var te=W.length+D.length+X.length,ve=te<M?new Array(M-te+1).join(b):"";switch(A&&C&&(D=t(ve+D,ve.length?M-X.length:1/0),ve=""),S){case"<":D=W+D+X+ve;break;case"=":D=W+ve+D+X;break;case"^":D=ve.slice(0,te=ve.length>>1)+W+D+X+ve.slice(te);break;default:D=ve+W+D+X;break}return s(D)}return B.toString=function(){return v+""},B}function h(v,x){var b=Math.max(-8,Math.min(8,Math.floor(dc(x)/3)))*3,S=Math.pow(10,-b),w=m((v=vd(v),v.type="f",v),{suffix:jk[8+b/3]});return function(y){return w(S*y)}}return{format:m,formatPrefix:h}}var Sm,K1,J5;rY({thousands:",",grouping:[3],currency:["$",""]});function rY(e){return Sm=tY(e),K1=Sm.format,J5=Sm.formatPrefix,Sm}function nY(e){return Math.max(0,-dc(Math.abs(e)))}function aY(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(dc(t)/3)))*3-dc(Math.abs(e)))}function iY(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,dc(t)-dc(e))+1}function eP(e,t,n,r){var a=Dy(e,t,n),s;switch(r=vd(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=aY(a,c))&&(r.precision=s),J5(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=iY(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=nY(a))&&(r.precision=s-(r.type==="%")*2);break}}return K1(r)}function Zs(e){var t=e.domain;return e.ticks=function(n){var r=t();return My(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return eP(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,s=r.length-1,c=r[a],u=r[s],f,m,h=10;for(u<c&&(m=c,c=u,u=m,m=a,a=s,s=m);h-- >0;){if(m=ky(c,u,n),m===f)return r[a]=c,r[s]=u,t(r);if(m>0)c=Math.floor(c/m)*m,u=Math.ceil(u/m)*m;else if(m<0)c=Math.ceil(c*m)/m,u=Math.floor(u*m)/m;else break;f=m}return e},e}function tP(){var e=V1();return e.copy=function(){return Rd(e,tP())},ua.apply(e,arguments),Zs(e)}function rP(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Vp),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return rP(e).unknown(t)},e=arguments.length?Array.from(e,Vp):[0,1],Zs(n)}function nP(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],s=e[r],c;return s<a&&(c=n,n=r,r=c,c=a,a=s,s=c),e[n]=t.floor(a),e[r]=t.ceil(s),e}function Nk(e){return Math.log(e)}function Sk(e){return Math.exp(e)}function sY(e){return-Math.log(-e)}function lY(e){return-Math.exp(-e)}function oY(e){return isFinite(e)?+("1e"+e):e<0?0:e}function cY(e){return e===10?oY:e===Math.E?Math.exp:t=>Math.pow(e,t)}function uY(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Ck(e){return(t,n)=>-e(-t,n)}function W1(e){const t=e(Nk,Sk),n=t.domain;let r=10,a,s;function c(){return a=uY(r),s=cY(r),n()[0]<0?(a=Ck(a),s=Ck(s),e(sY,lY)):e(Nk,Sk),t}return t.base=function(u){return arguments.length?(r=+u,c()):r},t.domain=function(u){return arguments.length?(n(u),c()):n()},t.ticks=u=>{const f=n();let m=f[0],h=f[f.length-1];const v=h<m;v&&([m,h]=[h,m]);let x=a(m),b=a(h),S,w;const y=u==null?10:+u;let C=[];if(!(r%1)&&b-x<y){if(x=Math.floor(x),b=Math.ceil(b),m>0){for(;x<=b;++x)for(S=1;S<r;++S)if(w=x<0?S/s(-x):S*s(x),!(w<m)){if(w>h)break;C.push(w)}}else for(;x<=b;++x)for(S=r-1;S>=1;--S)if(w=x>0?S/s(-x):S*s(x),!(w<m)){if(w>h)break;C.push(w)}C.length*2<y&&(C=My(m,h,y))}else C=My(x,b,Math.min(b-x,y)).map(s);return v?C.reverse():C},t.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=vd(f)).precision==null&&(f.trim=!0),f=K1(f)),u===1/0)return f;const m=Math.max(1,r*u/t.ticks().length);return h=>{let v=h/s(Math.round(a(h)));return v*r<r-.5&&(v*=r),v<=m?f(h):""}},t.nice=()=>n(nP(n(),{floor:u=>s(Math.floor(a(u))),ceil:u=>s(Math.ceil(a(u)))})),t}function aP(){const e=W1(Xh()).domain([1,10]);return e.copy=()=>Rd(e,aP()).base(e.base()),ua.apply(e,arguments),e}function Ak(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Mk(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Q1(e){var t=1,n=e(Ak(t),Mk(t));return n.constant=function(r){return arguments.length?e(Ak(t=+r),Mk(t)):t},Zs(n)}function iP(){var e=Q1(Xh());return e.copy=function(){return Rd(e,iP()).constant(e.constant())},ua.apply(e,arguments)}function kk(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function dY(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function fY(e){return e<0?-e*e:e*e}function X1(e){var t=e(tn,tn),n=1;function r(){return n===1?e(tn,tn):n===.5?e(dY,fY):e(kk(n),kk(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},Zs(t)}function Z1(){var e=X1(Xh());return e.copy=function(){return Rd(e,Z1()).exponent(e.exponent())},ua.apply(e,arguments),e}function mY(){return Z1.apply(null,arguments).exponent(.5)}function Dk(e){return Math.sign(e)*e*e}function pY(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function sP(){var e=V1(),t=[0,1],n=!1,r;function a(s){var c=pY(e(s));return isNaN(c)?r:n?Math.round(c):c}return a.invert=function(s){return e.invert(Dk(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,Vp)).map(Dk)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(n=!!s,a):n},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return sP(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},ua.apply(a,arguments),Zs(a)}function lP(){var e=[],t=[],n=[],r;function a(){var c=0,u=Math.max(1,t.length);for(n=new Array(u-1);++c<u;)n[c-1]=gU(e,c/u);return s}function s(c){return c==null||isNaN(c=+c)?r:t[Pd(n,c)]}return s.invertExtent=function(c){var u=t.indexOf(c);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},s.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let u of c)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Fs),a()},s.range=function(c){return arguments.length?(t=Array.from(c),a()):t.slice()},s.unknown=function(c){return arguments.length?(r=c,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return lP().domain(e).range(t).unknown(r)},ua.apply(s,arguments)}function oP(){var e=0,t=1,n=1,r=[.5],a=[0,1],s;function c(f){return f!=null&&f<=f?a[Pd(r,f,0,n)]:s}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*t-(f-n)*e)/(n+1);return c}return c.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,u()):[e,t]},c.range=function(f){return arguments.length?(n=(a=Array.from(f)).length-1,u()):a.slice()},c.invertExtent=function(f){var m=a.indexOf(f);return m<0?[NaN,NaN]:m<1?[e,r[0]]:m>=n?[r[n-1],t]:[r[m-1],r[m]]},c.unknown=function(f){return arguments.length&&(s=f),c},c.thresholds=function(){return r.slice()},c.copy=function(){return oP().domain([e,t]).range(a).unknown(s)},ua.apply(Zs(c),arguments)}function cP(){var e=[.5],t=[0,1],n,r=1;function a(s){return s!=null&&s<=s?t[Pd(e,s,0,r)]:n}return a.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var c=t.indexOf(s);return[e[c-1],e[c]]},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return cP().domain(e).range(t).unknown(n)},ua.apply(a,arguments)}const nb=new Date,ab=new Date;function Dr(e,t,n,r){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const c=a(s),u=a.ceil(s);return s-c<u-s?c:u},a.offset=(s,c)=>(t(s=new Date(+s),c==null?1:Math.floor(c)),s),a.range=(s,c,u)=>{const f=[];if(s=a.ceil(s),u=u==null?1:Math.floor(u),!(s<c)||!(u>0))return f;let m;do f.push(m=new Date(+s)),t(s,u),e(s);while(m<s&&s<c);return f},a.filter=s=>Dr(c=>{if(c>=c)for(;e(c),!s(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;t(c,-1),!s(c););else for(;--u>=0;)for(;t(c,1),!s(c););}),n&&(a.count=(s,c)=>(nb.setTime(+s),ab.setTime(+c),e(nb),e(ab),Math.floor(n(nb,ab))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(r?c=>r(c)%s===0:c=>a.count(0,c)%s===0):a)),a}const Wp=Dr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Wp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Dr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Wp);Wp.range;const Pi=1e3,aa=Pi*60,Ii=aa*60,Yi=Ii*24,J1=Yi*7,Ek=Yi*30,ib=Yi*365,Rl=Dr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Pi)},(e,t)=>(t-e)/Pi,e=>e.getUTCSeconds());Rl.range;const ew=Dr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Pi)},(e,t)=>{e.setTime(+e+t*aa)},(e,t)=>(t-e)/aa,e=>e.getMinutes());ew.range;const tw=Dr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*aa)},(e,t)=>(t-e)/aa,e=>e.getUTCMinutes());tw.range;const rw=Dr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Pi-e.getMinutes()*aa)},(e,t)=>{e.setTime(+e+t*Ii)},(e,t)=>(t-e)/Ii,e=>e.getHours());rw.range;const nw=Dr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ii)},(e,t)=>(t-e)/Ii,e=>e.getUTCHours());nw.range;const Ld=Dr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*aa)/Yi,e=>e.getDate()-1);Ld.range;const Zh=Dr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Yi,e=>e.getUTCDate()-1);Zh.range;const uP=Dr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Yi,e=>Math.floor(e/Yi));uP.range;function to(e){return Dr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*aa)/J1)}const Jh=to(0),Qp=to(1),hY=to(2),vY=to(3),fc=to(4),xY=to(5),gY=to(6);Jh.range;Qp.range;hY.range;vY.range;fc.range;xY.range;gY.range;function ro(e){return Dr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/J1)}const ev=ro(0),Xp=ro(1),bY=ro(2),yY=ro(3),mc=ro(4),wY=ro(5),jY=ro(6);ev.range;Xp.range;bY.range;yY.range;mc.range;wY.range;jY.range;const aw=Dr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());aw.range;const iw=Dr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());iw.range;const Vi=Dr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Vi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Dr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Vi.range;const Gi=Dr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Gi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Dr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Gi.range;function dP(e,t,n,r,a,s){const c=[[Rl,1,Pi],[Rl,5,5*Pi],[Rl,15,15*Pi],[Rl,30,30*Pi],[s,1,aa],[s,5,5*aa],[s,15,15*aa],[s,30,30*aa],[a,1,Ii],[a,3,3*Ii],[a,6,6*Ii],[a,12,12*Ii],[r,1,Yi],[r,2,2*Yi],[n,1,J1],[t,1,Ek],[t,3,3*Ek],[e,1,ib]];function u(m,h,v){const x=h<m;x&&([m,h]=[h,m]);const b=v&&typeof v.range=="function"?v:f(m,h,v),S=b?b.range(m,+h+1):[];return x?S.reverse():S}function f(m,h,v){const x=Math.abs(h-m)/v,b=B1(([,,y])=>y).right(c,x);if(b===c.length)return e.every(Dy(m/ib,h/ib,v));if(b===0)return Wp.every(Math.max(Dy(m,h,v),1));const[S,w]=c[x/c[b-1][2]<c[b][2]/x?b-1:b];return S.every(w)}return[u,f]}const[NY,SY]=dP(Gi,iw,ev,uP,nw,tw),[CY,AY]=dP(Vi,aw,Jh,Ld,rw,ew);function sb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function lb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function zu(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function MY(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,s=e.days,c=e.shortDays,u=e.months,f=e.shortMonths,m=Fu(a),h=Bu(a),v=Fu(s),x=Bu(s),b=Fu(c),S=Bu(c),w=Fu(u),y=Bu(u),C=Fu(f),M=Bu(f),A={a:G,A:z,b:te,B:ve,c:null,d:Rk,e:Rk,f:QY,g:sV,G:oV,H:GY,I:KY,j:WY,L:fP,m:XY,M:ZY,p:F,q:ae,Q:Fk,s:Bk,S:JY,u:eV,U:tV,V:rV,w:nV,W:aV,x:null,X:null,y:iV,Y:lV,Z:cV,"%":zk},_={a:he,A:ye,b:je,B:Ie,c:null,d:Lk,e:Lk,f:mV,g:NV,G:CV,H:uV,I:dV,j:fV,L:pP,m:pV,M:hV,p:me,q:ge,Q:Fk,s:Bk,S:vV,u:xV,U:gV,V:bV,w:yV,W:wV,x:null,X:null,y:jV,Y:SV,Z:AV,"%":zk},E={a:R,A:B,b:D,B:W,c:X,d:Pk,e:Pk,f:HY,g:Tk,G:Ok,H:Ik,I:Ik,j:FY,L:qY,m:zY,M:BY,p:L,q:LY,Q:YY,s:VY,S:$Y,u:OY,U:TY,V:PY,w:_Y,W:IY,x:Z,X:$,y:Tk,Y:Ok,Z:RY,"%":UY};A.x=T(n,A),A.X=T(r,A),A.c=T(t,A),_.x=T(n,_),_.X=T(r,_),_.c=T(t,_);function T(K,Ne){return function(qe){var be=[],Ze=-1,Ue=0,jt=K.length,vt,ut,Nt;for(qe instanceof Date||(qe=new Date(+qe));++Ze<jt;)K.charCodeAt(Ze)===37&&(be.push(K.slice(Ue,Ze)),(ut=_k[vt=K.charAt(++Ze)])!=null?vt=K.charAt(++Ze):ut=vt==="e"?" ":"0",(Nt=Ne[vt])&&(vt=Nt(qe,ut)),be.push(vt),Ue=Ze+1);return be.push(K.slice(Ue,Ze)),be.join("")}}function P(K,Ne){return function(qe){var be=zu(1900,void 0,1),Ze=O(be,K,qe+="",0),Ue,jt;if(Ze!=qe.length)return null;if("Q"in be)return new Date(be.Q);if("s"in be)return new Date(be.s*1e3+("L"in be?be.L:0));if(Ne&&!("Z"in be)&&(be.Z=0),"p"in be&&(be.H=be.H%12+be.p*12),be.m===void 0&&(be.m="q"in be?be.q:0),"V"in be){if(be.V<1||be.V>53)return null;"w"in be||(be.w=1),"Z"in be?(Ue=lb(zu(be.y,0,1)),jt=Ue.getUTCDay(),Ue=jt>4||jt===0?Xp.ceil(Ue):Xp(Ue),Ue=Zh.offset(Ue,(be.V-1)*7),be.y=Ue.getUTCFullYear(),be.m=Ue.getUTCMonth(),be.d=Ue.getUTCDate()+(be.w+6)%7):(Ue=sb(zu(be.y,0,1)),jt=Ue.getDay(),Ue=jt>4||jt===0?Qp.ceil(Ue):Qp(Ue),Ue=Ld.offset(Ue,(be.V-1)*7),be.y=Ue.getFullYear(),be.m=Ue.getMonth(),be.d=Ue.getDate()+(be.w+6)%7)}else("W"in be||"U"in be)&&("w"in be||(be.w="u"in be?be.u%7:"W"in be?1:0),jt="Z"in be?lb(zu(be.y,0,1)).getUTCDay():sb(zu(be.y,0,1)).getDay(),be.m=0,be.d="W"in be?(be.w+6)%7+be.W*7-(jt+5)%7:be.w+be.U*7-(jt+6)%7);return"Z"in be?(be.H+=be.Z/100|0,be.M+=be.Z%100,lb(be)):sb(be)}}function O(K,Ne,qe,be){for(var Ze=0,Ue=Ne.length,jt=qe.length,vt,ut;Ze<Ue;){if(be>=jt)return-1;if(vt=Ne.charCodeAt(Ze++),vt===37){if(vt=Ne.charAt(Ze++),ut=E[vt in _k?Ne.charAt(Ze++):vt],!ut||(be=ut(K,qe,be))<0)return-1}else if(vt!=qe.charCodeAt(be++))return-1}return be}function L(K,Ne,qe){var be=m.exec(Ne.slice(qe));return be?(K.p=h.get(be[0].toLowerCase()),qe+be[0].length):-1}function R(K,Ne,qe){var be=b.exec(Ne.slice(qe));return be?(K.w=S.get(be[0].toLowerCase()),qe+be[0].length):-1}function B(K,Ne,qe){var be=v.exec(Ne.slice(qe));return be?(K.w=x.get(be[0].toLowerCase()),qe+be[0].length):-1}function D(K,Ne,qe){var be=C.exec(Ne.slice(qe));return be?(K.m=M.get(be[0].toLowerCase()),qe+be[0].length):-1}function W(K,Ne,qe){var be=w.exec(Ne.slice(qe));return be?(K.m=y.get(be[0].toLowerCase()),qe+be[0].length):-1}function X(K,Ne,qe){return O(K,t,Ne,qe)}function Z(K,Ne,qe){return O(K,n,Ne,qe)}function $(K,Ne,qe){return O(K,r,Ne,qe)}function G(K){return c[K.getDay()]}function z(K){return s[K.getDay()]}function te(K){return f[K.getMonth()]}function ve(K){return u[K.getMonth()]}function F(K){return a[+(K.getHours()>=12)]}function ae(K){return 1+~~(K.getMonth()/3)}function he(K){return c[K.getUTCDay()]}function ye(K){return s[K.getUTCDay()]}function je(K){return f[K.getUTCMonth()]}function Ie(K){return u[K.getUTCMonth()]}function me(K){return a[+(K.getUTCHours()>=12)]}function ge(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var Ne=T(K+="",A);return Ne.toString=function(){return K},Ne},parse:function(K){var Ne=P(K+="",!1);return Ne.toString=function(){return K},Ne},utcFormat:function(K){var Ne=T(K+="",_);return Ne.toString=function(){return K},Ne},utcParse:function(K){var Ne=P(K+="",!0);return Ne.toString=function(){return K},Ne}}}var _k={"-":"",_:" ",0:"0"},Rr=/^\s*\d+/,kY=/^%/,DY=/[\\^$*+?|[\]().{}]/g;function wt(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",s=a.length;return r+(s<n?new Array(n-s+1).join(t)+a:a)}function EY(e){return e.replace(DY,"\\$&")}function Fu(e){return new RegExp("^(?:"+e.map(EY).join("|")+")","i")}function Bu(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function _Y(e,t,n){var r=Rr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function OY(e,t,n){var r=Rr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function TY(e,t,n){var r=Rr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function PY(e,t,n){var r=Rr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function IY(e,t,n){var r=Rr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Ok(e,t,n){var r=Rr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Tk(e,t,n){var r=Rr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function RY(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function LY(e,t,n){var r=Rr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function zY(e,t,n){var r=Rr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Pk(e,t,n){var r=Rr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function FY(e,t,n){var r=Rr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Ik(e,t,n){var r=Rr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function BY(e,t,n){var r=Rr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function $Y(e,t,n){var r=Rr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function qY(e,t,n){var r=Rr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function HY(e,t,n){var r=Rr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function UY(e,t,n){var r=kY.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function YY(e,t,n){var r=Rr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function VY(e,t,n){var r=Rr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Rk(e,t){return wt(e.getDate(),t,2)}function GY(e,t){return wt(e.getHours(),t,2)}function KY(e,t){return wt(e.getHours()%12||12,t,2)}function WY(e,t){return wt(1+Ld.count(Vi(e),e),t,3)}function fP(e,t){return wt(e.getMilliseconds(),t,3)}function QY(e,t){return fP(e,t)+"000"}function XY(e,t){return wt(e.getMonth()+1,t,2)}function ZY(e,t){return wt(e.getMinutes(),t,2)}function JY(e,t){return wt(e.getSeconds(),t,2)}function eV(e){var t=e.getDay();return t===0?7:t}function tV(e,t){return wt(Jh.count(Vi(e)-1,e),t,2)}function mP(e){var t=e.getDay();return t>=4||t===0?fc(e):fc.ceil(e)}function rV(e,t){return e=mP(e),wt(fc.count(Vi(e),e)+(Vi(e).getDay()===4),t,2)}function nV(e){return e.getDay()}function aV(e,t){return wt(Qp.count(Vi(e)-1,e),t,2)}function iV(e,t){return wt(e.getFullYear()%100,t,2)}function sV(e,t){return e=mP(e),wt(e.getFullYear()%100,t,2)}function lV(e,t){return wt(e.getFullYear()%1e4,t,4)}function oV(e,t){var n=e.getDay();return e=n>=4||n===0?fc(e):fc.ceil(e),wt(e.getFullYear()%1e4,t,4)}function cV(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+wt(t/60|0,"0",2)+wt(t%60,"0",2)}function Lk(e,t){return wt(e.getUTCDate(),t,2)}function uV(e,t){return wt(e.getUTCHours(),t,2)}function dV(e,t){return wt(e.getUTCHours()%12||12,t,2)}function fV(e,t){return wt(1+Zh.count(Gi(e),e),t,3)}function pP(e,t){return wt(e.getUTCMilliseconds(),t,3)}function mV(e,t){return pP(e,t)+"000"}function pV(e,t){return wt(e.getUTCMonth()+1,t,2)}function hV(e,t){return wt(e.getUTCMinutes(),t,2)}function vV(e,t){return wt(e.getUTCSeconds(),t,2)}function xV(e){var t=e.getUTCDay();return t===0?7:t}function gV(e,t){return wt(ev.count(Gi(e)-1,e),t,2)}function hP(e){var t=e.getUTCDay();return t>=4||t===0?mc(e):mc.ceil(e)}function bV(e,t){return e=hP(e),wt(mc.count(Gi(e),e)+(Gi(e).getUTCDay()===4),t,2)}function yV(e){return e.getUTCDay()}function wV(e,t){return wt(Xp.count(Gi(e)-1,e),t,2)}function jV(e,t){return wt(e.getUTCFullYear()%100,t,2)}function NV(e,t){return e=hP(e),wt(e.getUTCFullYear()%100,t,2)}function SV(e,t){return wt(e.getUTCFullYear()%1e4,t,4)}function CV(e,t){var n=e.getUTCDay();return e=n>=4||n===0?mc(e):mc.ceil(e),wt(e.getUTCFullYear()%1e4,t,4)}function AV(){return"+0000"}function zk(){return"%"}function Fk(e){return+e}function Bk(e){return Math.floor(+e/1e3)}var $o,vP,xP;MV({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function MV(e){return $o=MY(e),vP=$o.format,$o.parse,xP=$o.utcFormat,$o.utcParse,$o}function kV(e){return new Date(e)}function DV(e){return e instanceof Date?+e:+new Date(+e)}function sw(e,t,n,r,a,s,c,u,f,m){var h=V1(),v=h.invert,x=h.domain,b=m(".%L"),S=m(":%S"),w=m("%I:%M"),y=m("%I %p"),C=m("%a %d"),M=m("%b %d"),A=m("%B"),_=m("%Y");function E(T){return(f(T)<T?b:u(T)<T?S:c(T)<T?w:s(T)<T?y:r(T)<T?a(T)<T?C:M:n(T)<T?A:_)(T)}return h.invert=function(T){return new Date(v(T))},h.domain=function(T){return arguments.length?x(Array.from(T,DV)):x().map(kV)},h.ticks=function(T){var P=x();return e(P[0],P[P.length-1],T??10)},h.tickFormat=function(T,P){return P==null?E:m(P)},h.nice=function(T){var P=x();return(!T||typeof T.range!="function")&&(T=t(P[0],P[P.length-1],T??10)),T?x(nP(P,T)):h},h.copy=function(){return Rd(h,sw(e,t,n,r,a,s,c,u,f,m))},h}function EV(){return ua.apply(sw(CY,AY,Vi,aw,Jh,Ld,rw,ew,Rl,vP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _V(){return ua.apply(sw(NY,SY,Gi,iw,ev,Zh,nw,tw,Rl,xP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function tv(){var e=0,t=1,n,r,a,s,c=tn,u=!1,f;function m(v){return v==null||isNaN(v=+v)?f:c(a===0?.5:(v=(s(v)-n)*a,u?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([e,t]=v,n=s(e=+e),r=s(t=+t),a=n===r?0:1/(r-n),m):[e,t]},m.clamp=function(v){return arguments.length?(u=!!v,m):u},m.interpolator=function(v){return arguments.length?(c=v,m):c};function h(v){return function(x){var b,S;return arguments.length?([b,S]=x,c=v(b,S),m):[c(0),c(1)]}}return m.range=h(kc),m.rangeRound=h(Y1),m.unknown=function(v){return arguments.length?(f=v,m):f},function(v){return s=v,n=v(e),r=v(t),a=n===r?0:1/(r-n),m}}function Js(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function gP(){var e=Zs(tv()(tn));return e.copy=function(){return Js(e,gP())},es.apply(e,arguments)}function bP(){var e=W1(tv()).domain([1,10]);return e.copy=function(){return Js(e,bP()).base(e.base())},es.apply(e,arguments)}function yP(){var e=Q1(tv());return e.copy=function(){return Js(e,yP()).constant(e.constant())},es.apply(e,arguments)}function lw(){var e=X1(tv());return e.copy=function(){return Js(e,lw()).exponent(e.exponent())},es.apply(e,arguments)}function OV(){return lw.apply(null,arguments).exponent(.5)}function wP(){var e=[],t=tn;function n(r){if(r!=null&&!isNaN(r=+r))return t((Pd(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Fs),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,s)=>xU(e,s/r))},n.copy=function(){return wP(t).domain(e)},es.apply(n,arguments)}function rv(){var e=0,t=.5,n=1,r=1,a,s,c,u,f,m=tn,h,v=!1,x;function b(w){return isNaN(w=+w)?x:(w=.5+((w=+h(w))-s)*(r*w<r*s?u:f),m(v?Math.max(0,Math.min(1,w)):w))}b.domain=function(w){return arguments.length?([e,t,n]=w,a=h(e=+e),s=h(t=+t),c=h(n=+n),u=a===s?0:.5/(s-a),f=s===c?0:.5/(c-s),r=s<a?-1:1,b):[e,t,n]},b.clamp=function(w){return arguments.length?(v=!!w,b):v},b.interpolator=function(w){return arguments.length?(m=w,b):m};function S(w){return function(y){var C,M,A;return arguments.length?([C,M,A]=y,m=UU(w,[C,M,A]),b):[m(0),m(.5),m(1)]}}return b.range=S(kc),b.rangeRound=S(Y1),b.unknown=function(w){return arguments.length?(x=w,b):x},function(w){return h=w,a=w(e),s=w(t),c=w(n),u=a===s?0:.5/(s-a),f=s===c?0:.5/(c-s),r=s<a?-1:1,b}}function jP(){var e=Zs(rv()(tn));return e.copy=function(){return Js(e,jP())},es.apply(e,arguments)}function NP(){var e=W1(rv()).domain([.1,1,10]);return e.copy=function(){return Js(e,NP()).base(e.base())},es.apply(e,arguments)}function SP(){var e=Q1(rv());return e.copy=function(){return Js(e,SP()).constant(e.constant())},es.apply(e,arguments)}function ow(){var e=X1(rv());return e.copy=function(){return Js(e,ow()).exponent(e.exponent())},es.apply(e,arguments)}function TV(){return ow.apply(null,arguments).exponent(.5)}const Xu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:q1,scaleDiverging:jP,scaleDivergingLog:NP,scaleDivergingPow:ow,scaleDivergingSqrt:TV,scaleDivergingSymlog:SP,scaleIdentity:rP,scaleImplicit:Ey,scaleLinear:tP,scaleLog:aP,scaleOrdinal:$1,scalePoint:yU,scalePow:Z1,scaleQuantile:lP,scaleQuantize:oP,scaleRadial:sP,scaleSequential:gP,scaleSequentialLog:bP,scaleSequentialPow:lw,scaleSequentialQuantile:wP,scaleSequentialSqrt:OV,scaleSequentialSymlog:yP,scaleSqrt:mY,scaleSymlog:iP,scaleThreshold:cP,scaleTime:EV,scaleUtc:_V,tickFormat:eP},Symbol.toStringTag,{value:"Module"}));var el=e=>e.chartData,cw=ne([el],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),CP=(e,t,n,r)=>r?cw(e):el(e);function Ki(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Ft(t)&&Ft(n))return!0}return!1}function $k(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function AP(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,a,s;if(Ft(n))a=n;else if(typeof n=="function")return;if(Ft(r))s=r;else if(typeof r=="function")return;var c=[a,s];if(Ki(c))return c}}function PV(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Ki(r))return $k(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,c,u;if(a==="auto")t!=null&&(c=Math.min(...t));else if(Qe(a))c=a;else if(typeof a=="function")try{t!=null&&(c=a(t?.[0]))}catch{}else if(typeof a=="string"&&XA.test(a)){var f=XA.exec(a);if(f==null||f[1]==null||t==null)c=void 0;else{var m=+f[1];c=t[0]-m}}else c=t?.[0];if(s==="auto")t!=null&&(u=Math.max(...t));else if(Qe(s))u=s;else if(typeof s=="function")try{t!=null&&(u=s(t?.[1]))}catch{}else if(typeof s=="string"&&ZA.test(s)){var h=ZA.exec(s);if(h==null||h[1]==null||t==null)u=void 0;else{var v=+h[1];u=t[1]+v}}else u=t?.[1];var x=[c,u];if(Ki(x))return t==null?x:$k(x,t,n)}}}var Dc=1e9,IV={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},dw,tr=!0,la="[DecimalError] ",ql=la+"Invalid argument: ",uw=la+"Exponent out of range: ",Ec=Math.floor,Dl=Math.pow,RV=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,In,Tr=1e7,Wt=7,MP=9007199254740991,Zp=Ec(MP/Wt),Oe={};Oe.absoluteValue=Oe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Oe.comparedTo=Oe.cmp=function(e){var t,n,r,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(r=s.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===a?0:r>a^s.s<0?1:-1};Oe.decimalPlaces=Oe.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Wt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Oe.dividedBy=Oe.div=function(e){return zi(this,new this.constructor(e))};Oe.dividedToIntegerBy=Oe.idiv=function(e){var t=this,n=t.constructor;return Ht(zi(t,new n(e),0,1),n.precision)};Oe.equals=Oe.eq=function(e){return!this.cmp(e)};Oe.exponent=function(){return Sr(this)};Oe.greaterThan=Oe.gt=function(e){return this.cmp(e)>0};Oe.greaterThanOrEqualTo=Oe.gte=function(e){return this.cmp(e)>=0};Oe.isInteger=Oe.isint=function(){return this.e>this.d.length-2};Oe.isNegative=Oe.isneg=function(){return this.s<0};Oe.isPositive=Oe.ispos=function(){return this.s>0};Oe.isZero=function(){return this.s===0};Oe.lessThan=Oe.lt=function(e){return this.cmp(e)<0};Oe.lessThanOrEqualTo=Oe.lte=function(e){return this.cmp(e)<1};Oe.logarithm=Oe.log=function(e){var t,n=this,r=n.constructor,a=r.precision,s=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(In))throw Error(la+"NaN");if(n.s<1)throw Error(la+(n.s?"NaN":"-Infinity"));return n.eq(In)?new r(0):(tr=!1,t=zi(xd(n,s),xd(e,s),s),tr=!0,Ht(t,a))};Oe.minus=Oe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?EP(t,e):kP(t,(e.s=-e.s,e))};Oe.modulo=Oe.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(la+"NaN");return n.s?(tr=!1,t=zi(n,e,0,1).times(e),tr=!0,n.minus(t)):Ht(new r(n),a)};Oe.naturalExponential=Oe.exp=function(){return DP(this)};Oe.naturalLogarithm=Oe.ln=function(){return xd(this)};Oe.negated=Oe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Oe.plus=Oe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?kP(t,e):EP(t,(e.s=-e.s,e))};Oe.precision=Oe.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ql+e);if(t=Sr(a)+1,r=a.d.length-1,n=r*Wt+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Oe.squareRoot=Oe.sqrt=function(){var e,t,n,r,a,s,c,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(la+"NaN")}for(e=Sr(u),tr=!1,a=Math.sqrt(+u),a==0||a==1/0?(t=Qa(u.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Ec((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new f(t)):r=new f(a.toString()),n=f.precision,a=c=n+3;;)if(s=r,r=s.plus(zi(u,s,c+2)).times(.5),Qa(s.d).slice(0,c)===(t=Qa(r.d)).slice(0,c)){if(t=t.slice(c-3,c+1),a==c&&t=="4999"){if(Ht(s,n+1,0),s.times(s).eq(u)){r=s;break}}else if(t!="9999")break;c+=4}return tr=!0,Ht(r,n)};Oe.times=Oe.mul=function(e){var t,n,r,a,s,c,u,f,m,h=this,v=h.constructor,x=h.d,b=(e=new v(e)).d;if(!h.s||!e.s)return new v(0);for(e.s*=h.s,n=h.e+e.e,f=x.length,m=b.length,f<m&&(s=x,x=b,b=s,c=f,f=m,m=c),s=[],c=f+m,r=c;r--;)s.push(0);for(r=m;--r>=0;){for(t=0,a=f+r;a>r;)u=s[a]+b[r]*x[a-r-1]+t,s[a--]=u%Tr|0,t=u/Tr|0;s[a]=(s[a]+t)%Tr|0}for(;!s[--c];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,tr?Ht(e,v.precision):e};Oe.toDecimalPlaces=Oe.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ai(e,0,Dc),t===void 0?t=r.rounding:ai(t,0,8),Ht(n,e+Sr(n)+1,t))};Oe.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=Ql(r,!0):(ai(e,0,Dc),t===void 0?t=a.rounding:ai(t,0,8),r=Ht(new a(r),e+1,t),n=Ql(r,!0,e+1)),n};Oe.toFixed=function(e,t){var n,r,a=this,s=a.constructor;return e===void 0?Ql(a):(ai(e,0,Dc),t===void 0?t=s.rounding:ai(t,0,8),r=Ht(new s(a),e+Sr(a)+1,t),n=Ql(r.abs(),!1,e+Sr(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Oe.toInteger=Oe.toint=function(){var e=this,t=e.constructor;return Ht(new t(e),Sr(e)+1,t.rounding)};Oe.toNumber=function(){return+this};Oe.toPower=Oe.pow=function(e){var t,n,r,a,s,c,u=this,f=u.constructor,m=12,h=+(e=new f(e));if(!e.s)return new f(In);if(u=new f(u),!u.s){if(e.s<1)throw Error(la+"Infinity");return u}if(u.eq(In))return u;if(r=f.precision,e.eq(In))return Ht(u,r);if(t=e.e,n=e.d.length-1,c=t>=n,s=u.s,c){if((n=h<0?-h:h)<=MP){for(a=new f(In),t=Math.ceil(r/Wt+4),tr=!1;n%2&&(a=a.times(u),Hk(a.d,t)),n=Ec(n/2),n!==0;)u=u.times(u),Hk(u.d,t);return tr=!0,e.s<0?new f(In).div(a):Ht(a,r)}}else if(s<0)throw Error(la+"NaN");return s=s<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,tr=!1,a=e.times(xd(u,r+m)),tr=!0,a=DP(a),a.s=s,a};Oe.toPrecision=function(e,t){var n,r,a=this,s=a.constructor;return e===void 0?(n=Sr(a),r=Ql(a,n<=s.toExpNeg||n>=s.toExpPos)):(ai(e,1,Dc),t===void 0?t=s.rounding:ai(t,0,8),a=Ht(new s(a),e,t),n=Sr(a),r=Ql(a,e<=n||n<=s.toExpNeg,e)),r};Oe.toSignificantDigits=Oe.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ai(e,1,Dc),t===void 0?t=r.rounding:ai(t,0,8)),Ht(new r(n),e,t)};Oe.toString=Oe.valueOf=Oe.val=Oe.toJSON=Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Sr(e),n=e.constructor;return Ql(e,t<=n.toExpNeg||t>=n.toExpPos)};function kP(e,t){var n,r,a,s,c,u,f,m,h=e.constructor,v=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),tr?Ht(t,v):t;if(f=e.d,m=t.d,c=e.e,a=t.e,f=f.slice(),s=c-a,s){for(s<0?(r=f,s=-s,u=m.length):(r=m,a=c,u=f.length),c=Math.ceil(v/Wt),u=c>u?c+1:u+1,s>u&&(s=u,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(u=f.length,s=m.length,u-s<0&&(s=u,r=m,m=f,f=r),n=0;s;)n=(f[--s]=f[s]+m[s]+n)/Tr|0,f[s]%=Tr;for(n&&(f.unshift(n),++a),u=f.length;f[--u]==0;)f.pop();return t.d=f,t.e=a,tr?Ht(t,v):t}function ai(e,t,n){if(e!==~~e||e<t||e>n)throw Error(ql+e)}function Qa(e){var t,n,r,a=e.length-1,s="",c=e[0];if(a>0){for(s+=c,t=1;t<a;t++)r=e[t]+"",n=Wt-r.length,n&&(s+=Is(n)),s+=r;c=e[t],r=c+"",n=Wt-r.length,n&&(s+=Is(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var zi=(function(){function e(r,a){var s,c=0,u=r.length;for(r=r.slice();u--;)s=r[u]*a+c,r[u]=s%Tr|0,c=s/Tr|0;return c&&r.unshift(c),r}function t(r,a,s,c){var u,f;if(s!=c)f=s>c?1:-1;else for(u=f=0;u<s;u++)if(r[u]!=a[u]){f=r[u]>a[u]?1:-1;break}return f}function n(r,a,s){for(var c=0;s--;)r[s]-=c,c=r[s]<a[s]?1:0,r[s]=c*Tr+r[s]-a[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,s,c){var u,f,m,h,v,x,b,S,w,y,C,M,A,_,E,T,P,O,L=r.constructor,R=r.s==a.s?1:-1,B=r.d,D=a.d;if(!r.s)return new L(r);if(!a.s)throw Error(la+"Division by zero");for(f=r.e-a.e,P=D.length,E=B.length,b=new L(R),S=b.d=[],m=0;D[m]==(B[m]||0);)++m;if(D[m]>(B[m]||0)&&--f,s==null?M=s=L.precision:c?M=s+(Sr(r)-Sr(a))+1:M=s,M<0)return new L(0);if(M=M/Wt+2|0,m=0,P==1)for(h=0,D=D[0],M++;(m<E||h)&&M--;m++)A=h*Tr+(B[m]||0),S[m]=A/D|0,h=A%D|0;else{for(h=Tr/(D[0]+1)|0,h>1&&(D=e(D,h),B=e(B,h),P=D.length,E=B.length),_=P,w=B.slice(0,P),y=w.length;y<P;)w[y++]=0;O=D.slice(),O.unshift(0),T=D[0],D[1]>=Tr/2&&++T;do h=0,u=t(D,w,P,y),u<0?(C=w[0],P!=y&&(C=C*Tr+(w[1]||0)),h=C/T|0,h>1?(h>=Tr&&(h=Tr-1),v=e(D,h),x=v.length,y=w.length,u=t(v,w,x,y),u==1&&(h--,n(v,P<x?O:D,x))):(h==0&&(u=h=1),v=D.slice()),x=v.length,x<y&&v.unshift(0),n(w,v,y),u==-1&&(y=w.length,u=t(D,w,P,y),u<1&&(h++,n(w,P<y?O:D,y))),y=w.length):u===0&&(h++,w=[0]),S[m++]=h,u&&w[0]?w[y++]=B[_]||0:(w=[B[_]],y=1);while((_++<E||w[0]!==void 0)&&M--)}return S[0]||S.shift(),b.e=f,Ht(b,c?s+Sr(b)+1:s)}})();function DP(e,t){var n,r,a,s,c,u,f=0,m=0,h=e.constructor,v=h.precision;if(Sr(e)>16)throw Error(uw+Sr(e));if(!e.s)return new h(In);for(tr=!1,u=v,c=new h(.03125);e.abs().gte(.1);)e=e.times(c),m+=5;for(r=Math.log(Dl(2,m))/Math.LN10*2+5|0,u+=r,n=a=s=new h(In),h.precision=u;;){if(a=Ht(a.times(e),u),n=n.times(++f),c=s.plus(zi(a,n,u)),Qa(c.d).slice(0,u)===Qa(s.d).slice(0,u)){for(;m--;)s=Ht(s.times(s),u);return h.precision=v,t==null?(tr=!0,Ht(s,v)):s}s=c}}function Sr(e){for(var t=e.e*Wt,n=e.d[0];n>=10;n/=10)t++;return t}function ob(e,t,n){if(t>e.LN10.sd())throw tr=!0,n&&(e.precision=n),Error(la+"LN10 precision limit exceeded");return Ht(new e(e.LN10),t)}function Is(e){for(var t="";e--;)t+="0";return t}function xd(e,t){var n,r,a,s,c,u,f,m,h,v=1,x=10,b=e,S=b.d,w=b.constructor,y=w.precision;if(b.s<1)throw Error(la+(b.s?"NaN":"-Infinity"));if(b.eq(In))return new w(0);if(t==null?(tr=!1,m=y):m=t,b.eq(10))return t==null&&(tr=!0),ob(w,m);if(m+=x,w.precision=m,n=Qa(S),r=n.charAt(0),s=Sr(b),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(e),n=Qa(b.d),r=n.charAt(0),v++;s=Sr(b),r>1?(b=new w("0."+n),s++):b=new w(r+"."+n.slice(1))}else return f=ob(w,m+2,y).times(s+""),b=xd(new w(r+"."+n.slice(1)),m-x).plus(f),w.precision=y,t==null?(tr=!0,Ht(b,y)):b;for(u=c=b=zi(b.minus(In),b.plus(In),m),h=Ht(b.times(b),m),a=3;;){if(c=Ht(c.times(h),m),f=u.plus(zi(c,new w(a),m)),Qa(f.d).slice(0,m)===Qa(u.d).slice(0,m))return u=u.times(2),s!==0&&(u=u.plus(ob(w,m+2,y).times(s+""))),u=zi(u,new w(v),m),w.precision=y,t==null?(tr=!0,Ht(u,y)):u;u=f,a+=2}}function qk(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=Ec(n/Wt),e.d=[],r=(n+1)%Wt,n<0&&(r+=Wt),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=Wt;r<a;)e.d.push(+t.slice(r,r+=Wt));t=t.slice(r),r=Wt-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),tr&&(e.e>Zp||e.e<-Zp))throw Error(uw+n)}else e.s=0,e.e=0,e.d=[0];return e}function Ht(e,t,n){var r,a,s,c,u,f,m,h,v=e.d;for(c=1,s=v[0];s>=10;s/=10)c++;if(r=t-c,r<0)r+=Wt,a=t,m=v[h=0];else{if(h=Math.ceil((r+1)/Wt),s=v.length,h>=s)return e;for(m=s=v[h],c=1;s>=10;s/=10)c++;r%=Wt,a=r-Wt+c}if(n!==void 0&&(s=Dl(10,c-a-1),u=m/s%10|0,f=t<0||v[h+1]!==void 0||m%s,f=n<4?(u||f)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?a>0?m/Dl(10,c-a):0:v[h-1])%10&1||n==(e.s<0?8:7))),t<1||!v[0])return f?(s=Sr(e),v.length=1,t=t-s-1,v[0]=Dl(10,(Wt-t%Wt)%Wt),e.e=Ec(-t/Wt)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(r==0?(v.length=h,s=1,h--):(v.length=h+1,s=Dl(10,Wt-r),v[h]=a>0?(m/Dl(10,c-a)%Dl(10,a)|0)*s:0),f)for(;;)if(h==0){(v[0]+=s)==Tr&&(v[0]=1,++e.e);break}else{if(v[h]+=s,v[h]!=Tr)break;v[h--]=0,s=1}for(r=v.length;v[--r]===0;)v.pop();if(tr&&(e.e>Zp||e.e<-Zp))throw Error(uw+Sr(e));return e}function EP(e,t){var n,r,a,s,c,u,f,m,h,v,x=e.constructor,b=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),tr?Ht(t,b):t;if(f=e.d,v=t.d,r=t.e,m=e.e,f=f.slice(),c=m-r,c){for(h=c<0,h?(n=f,c=-c,u=v.length):(n=v,r=m,u=f.length),a=Math.max(Math.ceil(b/Wt),u)+2,c>a&&(c=a,n.length=1),n.reverse(),a=c;a--;)n.push(0);n.reverse()}else{for(a=f.length,u=v.length,h=a<u,h&&(u=a),a=0;a<u;a++)if(f[a]!=v[a]){h=f[a]<v[a];break}c=0}for(h&&(n=f,f=v,v=n,t.s=-t.s),u=f.length,a=v.length-u;a>0;--a)f[u++]=0;for(a=v.length;a>c;){if(f[--a]<v[a]){for(s=a;s&&f[--s]===0;)f[s]=Tr-1;--f[s],f[a]+=Tr}f[a]-=v[a]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(t.d=f,t.e=r,tr?Ht(t,b):t):new x(0)}function Ql(e,t,n){var r,a=Sr(e),s=Qa(e.d),c=s.length;return t?(n&&(r=n-c)>0?s=s.charAt(0)+"."+s.slice(1)+Is(r):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Is(-a-1)+s,n&&(r=n-c)>0&&(s+=Is(r))):a>=c?(s+=Is(a+1-c),n&&(r=n-a-1)>0&&(s=s+"."+Is(r))):((r=a+1)<c&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-c)>0&&(a+1===c&&(s+="."),s+=Is(r))),e.s<0?"-"+s:s}function Hk(e,t){if(e.length>t)return e.length=t,!0}function _P(e){var t,n,r;function a(s){var c=this;if(!(c instanceof a))return new a(s);if(c.constructor=a,s instanceof a){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(ql+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return qk(c,s.toString())}else if(typeof s!="string")throw Error(ql+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,RV.test(s))qk(c,s);else throw Error(ql+s)}if(a.prototype=Oe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=_P,a.config=a.set=LV,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function LV(e){if(!e||typeof e!="object")throw Error(la+"Object expected");var t,n,r,a=["precision",1,Dc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(Ec(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(ql+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ql+n+": "+r);return this}var dw=_P(IV);In=new dw(1);const _t=dw;function OP(e){var t;return e===0?t=1:t=Math.floor(new _t(e).abs().log(10).toNumber())+1,t}function TP(e,t,n){for(var r=new _t(e),a=0,s=[];r.lt(t)&&a<1e5;)s.push(r.toNumber()),r=r.add(n),a++;return s}var PP=e=>{var[t,n]=e,[r,a]=[t,n];return t>n&&([r,a]=[n,t]),[r,a]},IP=(e,t,n)=>{if(e.lte(0))return new _t(0);var r=OP(e.toNumber()),a=new _t(10).pow(r),s=e.div(a),c=r!==1?.05:.1,u=new _t(Math.ceil(s.div(c).toNumber())).add(n).mul(c),f=u.mul(a);return t?new _t(f.toNumber()):new _t(Math.ceil(f.toNumber()))},zV=(e,t,n)=>{var r=new _t(1),a=new _t(e);if(!a.isint()&&n){var s=Math.abs(e);s<1?(r=new _t(10).pow(OP(e)-1),a=new _t(Math.floor(a.div(r).toNumber())).mul(r)):s>1&&(a=new _t(Math.floor(e)))}else e===0?a=new _t(Math.floor((t-1)/2)):n||(a=new _t(Math.floor(e)));for(var c=Math.floor((t-1)/2),u=[],f=0;f<t;f++)u.push(a.add(new _t(f-c).mul(r)).toNumber());return u},RP=function(t,n,r,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new _t(0),tickMin:new _t(0),tickMax:new _t(0)};var c=IP(new _t(n).sub(t).div(r-1),a,s),u;t<=0&&n>=0?u=new _t(0):(u=new _t(t).add(n).div(2),u=u.sub(new _t(u).mod(c)));var f=Math.ceil(u.sub(t).div(c).toNumber()),m=Math.ceil(new _t(n).sub(u).div(c).toNumber()),h=f+m+1;return h>r?RP(t,n,r,a,s+1):(h<r&&(m=n>0?m+(r-h):m,f=n>0?f:f+(r-h)),{step:c,tickMin:u.sub(new _t(f).mul(c)),tickMax:u.add(new _t(m).mul(c))})},FV=function(t){var[n,r]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(a,2),[u,f]=PP([n,r]);if(u===-1/0||f===1/0){var m=f===1/0?[u,...Array(a-1).fill(1/0)]:[...Array(a-1).fill(-1/0),f];return n>r?m.reverse():m}if(u===f)return zV(u,a,s);var{step:h,tickMin:v,tickMax:x}=RP(u,f,c,s,0),b=TP(v,x.add(new _t(.1).mul(h)),h);return n>r?b.reverse():b},BV=function(t,n){var[r,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,u]=PP([r,a]);if(c===-1/0||u===1/0)return[r,a];if(c===u)return[c];var f=Math.max(n,2),m=IP(new _t(u).sub(c).div(f-1),s,0),h=[...TP(new _t(c),new _t(u),m),u];return s===!1&&(h=h.map(v=>Math.round(v))),r>a?h.reverse():h},$V=e=>e.rootProps.barCategoryGap,zd=e=>e.rootProps.stackOffset,LP=e=>e.rootProps.reverseStackOrder,fw=e=>e.options.chartName,mw=e=>e.rootProps.syncId,zP=e=>e.rootProps.syncMethod,pw=e=>e.options.eventEmitter,ya={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Nl={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Ba={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},nv=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function FP(e,t,n){if(n!=="auto")return n;if(e!=null)return Qs(e,t)?"category":"number"}function Uk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Jp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uk(Object(n),!0).forEach(function(r){qV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qV(e,t,n){return(t=HV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HV(e){var t=UV(e,"string");return typeof t=="symbol"?t:t+""}function UV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yk={allowDataOverflow:Nl.allowDataOverflow,allowDecimals:Nl.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Nl.angleAxisId,includeHidden:!1,name:void 0,reversed:Nl.reversed,scale:Nl.scale,tick:Nl.tick,tickCount:void 0,ticks:void 0,type:Nl.type,unit:void 0},Vk={allowDataOverflow:Ba.allowDataOverflow,allowDecimals:Ba.allowDecimals,allowDuplicatedCategory:Ba.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ba.radiusAxisId,includeHidden:Ba.includeHidden,name:void 0,reversed:Ba.reversed,scale:Ba.scale,tick:Ba.tick,tickCount:Ba.tickCount,ticks:void 0,type:Ba.type,unit:void 0},YV=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},hw=ne([YV,M5],(e,t)=>{var n;if(e!=null)return e;var r=(n=FP(t,"angleAxis",Yk.type))!==null&&n!==void 0?n:"category";return Jp(Jp({},Yk),{},{type:r})}),VV=(e,t)=>e.polarAxis.radiusAxis[t],vw=ne([VV,M5],(e,t)=>{var n;if(e!=null)return e;var r=(n=FP(t,"radiusAxis",Vk.type))!==null&&n!==void 0?n:"category";return Jp(Jp({},Vk),{},{type:r})}),av=e=>e.polarOptions,xw=ne([Zi,Ji,Ir],$5),BP=ne([av,xw],(e,t)=>{if(e!=null)return Ln(e.innerRadius,t,0)}),$P=ne([av,xw],(e,t)=>{if(e!=null)return Ln(e.outerRadius,t,t*.8)}),GV=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},qP=ne([av],GV);ne([hw,qP],nv);var HP=ne([xw,BP,$P],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});ne([vw,HP],nv);var UP=ne([nr,av,BP,$P,Zi,Ji],(e,t,n,r,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:c,cy:u,startAngle:f,endAngle:m}=t;return{cx:Ln(c,a,a/2),cy:Ln(u,s,s/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:m,clockWise:!1}}}),ir=(e,t)=>t,Fd=(e,t,n)=>n;function YP(e){return e?.id}function VP(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=n,c=new Map;return e.forEach(u=>{var f,m=(f=u.data)!==null&&f!==void 0?f:r;if(!(m==null||m.length===0)){var h=YP(u);m.forEach((v,x)=>{var b=s==null||a?x:String(ur(v,s,null)),S=ur(v,u.dataKey,0),w;c.has(b)?w=c.get(b):w={},Object.assign(w,{[h]:S}),c.set(b,w)})}}),Array.from(c.values())}function gw(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var iv=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function sv(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function KV(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Lr=e=>{var t=nr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},_c=e=>e.tooltip.settings.axisId;function WV(e){if(e in Xu)return Xu[e]();var t="scale".concat(Md(e));if(t in Xu)return Xu[t]()}function Gk(e){var t=e.ticks,n=e.bandwidth,r=e.range(),a=[Math.min(...r),Math.max(...r)];return{domain:()=>e.domain(),range:(function(s){function c(){return s.apply(this,arguments)}return c.toString=function(){return s.toString()},c})(()=>a),rangeMin:()=>a[0],rangeMax:()=>a[1],isInRange(s){var c=a[0],u=a[1];return c<=u?s>=c&&s<=u:s>=u&&s<=c},bandwidth:n?()=>n.call(e):void 0,ticks:t?s=>t.call(e,s):void 0,map:(s,c)=>{var u=e(s);if(u!=null){if(e.bandwidth&&c!==null&&c!==void 0&&c.position){var f=e.bandwidth();switch(c.position){case"middle":u+=f/2;break;case"end":u+=f;break}}return u}}}}function Kk(e,t,n){if(typeof e=="function")return Gk(e.copy().domain(t).range(n));if(e!=null){var r=WV(e);if(r!=null)return r.domain(t).range(n),Gk(r)}}var GP=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Ki(t)){for(var n,r,a=0;a<t.length;a++){var s=t[a];Ft(s)&&((n===void 0||s<n)&&(n=s),(r===void 0||s>r)&&(r=s))}return n!==void 0&&r!==void 0?[n,r]:void 0}return t}default:return t}};function Wk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function eh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wk(Object(n),!0).forEach(function(r){QV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QV(e,t,n){return(t=XV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XV(e){var t=ZV(e,"string");return typeof t=="symbol"?t:t+""}function ZV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Py=[0,"auto"],JV={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},eG=(e,t)=>e.cartesianAxis.xAxis[t],tl=(e,t)=>{var n=eG(e,t);return n??JV},tG={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Py,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:_d},rG=(e,t)=>e.cartesianAxis.yAxis[t],rl=(e,t)=>{var n=rG(e,t);return n??tG},nG={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},bw=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??nG},fr=(e,t,n)=>{switch(t){case"xAxis":return tl(e,n);case"yAxis":return rl(e,n);case"zAxis":return bw(e,n);case"angleAxis":return hw(e,n);case"radiusAxis":return vw(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},aG=(e,t,n)=>{switch(t){case"xAxis":return tl(e,n);case"yAxis":return rl(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Oc=(e,t,n)=>{switch(t){case"xAxis":return tl(e,n);case"yAxis":return rl(e,n);case"angleAxis":return hw(e,n);case"radiusAxis":return vw(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},KP=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function yw(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var iG=e=>e.graphicalItems.cartesianItems,sG=ne([ir,Fd],yw),ww=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),Bd=ne([iG,fr,sG],ww,{memoizeOptions:{resultEqualityCheck:sv}}),WP=ne([Bd],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(gw)),QP=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),lG=ne([Bd],QP),jw=e=>e.map(t=>t.data).filter(Boolean).flat(1),oG=ne([Bd],jw,{memoizeOptions:{resultEqualityCheck:sv}}),Nw=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=t;return e.length>0?e:n.slice(r,a+1)},Sw=ne([oG,CP],Nw),Cw=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:ur(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(a=>({value:ur(a,r)}))):e.map(r=>({value:r})),lv=ne([Sw,fr,Bd],Cw);function XP(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function ap(e){if(Hi(e)||e instanceof Date){var t=Number(e);if(Ft(t))return t}}function Qk(e){if(Array.isArray(e)){var t=[ap(e[0]),ap(e[1])];return Ki(t)?t:void 0}var n=ap(e);if(n!=null)return[n,n]}function Wi(e){return e.map(ap).filter(Ka)}function cG(e,t,n){return!n||typeof t!="number"||qi(t)?[]:n.length?Wi(n.flatMap(r=>{var a=ur(e,r.dataKey),s,c;if(Array.isArray(a)?[s,c]=a:s=c=a,!(!Ft(s)||!Ft(c)))return[t-s,t+c]})):[]}var Er=e=>{var t=Lr(e),n=_c(e);return Oc(e,t,n)},$d=ne([Er],e=>e?.dataKey),uG=ne([WP,CP,Er],VP),ZP=(e,t,n,r)=>{var a={},s=t.reduce((c,u)=>{if(u.stackId==null)return c;var f=c[u.stackId];return f==null&&(f=[]),f.push(u),c[u.stackId]=f,c},a);return Object.fromEntries(Object.entries(s).map(c=>{var[u,f]=c,m=r?[...f].reverse():f,h=m.map(YP);return[u,{stackedData:zH(e,h,n),graphicalItems:m}]}))},dG=ne([uG,WP,zd,LP],ZP),JP=(e,t,n,r)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(r==null&&n!=="zAxis"){var c=$H(e,a,s);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},fG=ne([fr],e=>e.allowDataOverflow),Aw=e=>{var t;if(e==null||!("domain"in e))return Py;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=Wi(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Py},Mw=ne([fr],Aw),kw=ne([Mw,fG],AP),mG=ne([dG,el,ir,kw],JP,{memoizeOptions:{resultEqualityCheck:iv}}),ov=e=>e.errorBars,pG=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>XP(n,r)),th=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var s=a.flat(),c=Math.min(...s),u=Math.max(...s);return[c,u]}},Dw=(e,t,n,r,a)=>{var s,c;if(n.length>0&&e.forEach(u=>{n.forEach(f=>{var m,h,v=(m=r[f.id])===null||m===void 0?void 0:m.filter(C=>XP(a,C)),x=ur(u,(h=t.dataKey)!==null&&h!==void 0?h:f.dataKey),b=cG(u,x,v);if(b.length>=2){var S=Math.min(...b),w=Math.max(...b);(s==null||S<s)&&(s=S),(c==null||w>c)&&(c=w)}var y=Qk(x);y!=null&&(s=s==null?y[0]:Math.min(s,y[0]),c=c==null?y[1]:Math.max(c,y[1]))})}),t?.dataKey!=null&&e.forEach(u=>{var f=Qk(ur(u,t.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),c=c==null?f[1]:Math.max(c,f[1]))}),Ft(s)&&Ft(c))return[s,c]},hG=ne([Sw,fr,lG,ov,ir],Dw,{memoizeOptions:{resultEqualityCheck:iv}});function vG(e){var{value:t}=e;if(Hi(t)||t instanceof Date)return t}var xG=(e,t,n)=>{var r=e.map(vG).filter(a=>a!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&MT(r))?Y5(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},e4=e=>e.referenceElements.dots,Tc=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),gG=ne([e4,ir,Fd],Tc),t4=e=>e.referenceElements.areas,bG=ne([t4,ir,Fd],Tc),r4=e=>e.referenceElements.lines,yG=ne([r4,ir,Fd],Tc),n4=(e,t)=>{if(e!=null){var n=Wi(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},wG=ne(gG,ir,n4),a4=(e,t)=>{if(e!=null){var n=Wi(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},jG=ne([bG,ir],a4);function NG(e){var t;if(e.x!=null)return Wi([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Wi(n)}function SG(e){var t;if(e.y!=null)return Wi([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Wi(n)}var i4=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?NG(r):SG(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},CG=ne([yG,ir],i4),AG=ne(wG,CG,jG,(e,t,n)=>th(e,n,t)),Ew=(e,t,n,r,a,s,c,u)=>{if(n!=null)return n;var f=c==="vertical"&&u==="xAxis"||c==="horizontal"&&u==="yAxis",m=f?th(r,s,a):th(s,a);return PV(t,m,e.allowDataOverflow)},MG=ne([fr,Mw,kw,mG,hG,AG,nr,ir],Ew,{memoizeOptions:{resultEqualityCheck:iv}}),kG=[0,1],_w=(e,t,n,r,a,s,c)=>{if(!((e==null||n==null||n.length===0)&&c===void 0)){var{dataKey:u,type:f}=e,m=Qs(t,s);if(m&&u==null){var h;return Y5(0,(h=n?.length)!==null&&h!==void 0?h:0)}return f==="category"?xG(r,e,m):a==="expand"?kG:c}},Ow=ne([fr,nr,Sw,lv,zd,ir,MG],_w);function DG(e){return e in Xu}var s4=(e,t,n)=>{if(e!=null){var{scale:r,type:a}=e;if(r==="auto")return a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!t)?"point":a==="category"?"band":"linear";if(typeof r=="string"){var s="scale".concat(Md(r));return DG(s)?s:"point"}}},nl=ne([fr,KP,fw],s4);function Tw(e,t,n,r){if(!(n==null||r==null))return typeof e.scale=="function"?Kk(e.scale,n,r):Kk(t,n,r)}var Pw=(e,t,n)=>{var r=Aw(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Ki(e))return FV(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ki(e))return BV(e,t.tickCount,t.allowDecimals)}},Iw=ne([Ow,Oc,nl],Pw),Rw=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&Ki(t)&&Array.isArray(n)&&n.length>0){var a,s,c=t[0],u=(a=n[0])!==null&&a!==void 0?a:0,f=t[1],m=(s=n[n.length-1])!==null&&s!==void 0?s:0;return[Math.min(c,u),Math.max(f,m)]}return t},EG=ne([fr,Ow,Iw,ir],Rw),_G=ne(lv,fr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Wi(e.map(v=>v.value))).sort((v,x)=>v-x),a=r[0],s=r[r.length-1];if(a==null||s==null)return 1/0;var c=s-a;if(c===0)return 1/0;for(var u=0;u<r.length-1;u++){var f=r[u],m=r[u+1];if(!(f==null||m==null)){var h=m-f;n=Math.min(n,h)}}return n/c}}),l4=ne(_G,nr,$V,Ir,(e,t,n,r,a)=>a,(e,t,n,r,a)=>{if(!Ft(e))return 0;var s=t==="vertical"?r.height:r.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var c=Ln(n,e*s),u=e*s/2;return u-c-(u-c)/s*c}return 0}),OG=(e,t,n)=>{var r=tl(e,t);return r==null||typeof r.padding!="string"?0:l4(e,"xAxis",t,n,r.padding)},TG=(e,t,n)=>{var r=rl(e,t);return r==null||typeof r.padding!="string"?0:l4(e,"yAxis",t,n,r.padding)},PG=ne(tl,OG,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((n=a.left)!==null&&n!==void 0?n:0)+t,right:((r=a.right)!==null&&r!==void 0?r:0)+t}}),IG=ne(rl,TG,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((n=a.top)!==null&&n!==void 0?n:0)+t,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+t}}),RG=ne([Ir,PG,Yh,Uh,(e,t,n)=>n],(e,t,n,r,a)=>{var{padding:s}=r;return a?[s.left,n.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),LG=ne([Ir,nr,IG,Yh,Uh,(e,t,n)=>n],(e,t,n,r,a,s)=>{var{padding:c}=a;return s?[r.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),qd=(e,t,n,r)=>{var a;switch(t){case"xAxis":return RG(e,n,r);case"yAxis":return LG(e,n,r);case"zAxis":return(a=bw(e,n))===null||a===void 0?void 0:a.range;case"angleAxis":return qP(e);case"radiusAxis":return HP(e,n);default:return}},o4=ne([fr,qd],nv),zG=ne([nl,EG],GP),cv=ne([fr,nl,zG,o4],Tw);ne([Bd,ov,ir],pG);function c4(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var uv=(e,t)=>t,dv=(e,t,n)=>n,FG=ne(qh,uv,dv,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(c4)),BG=ne(Hh,uv,dv,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(c4)),u4=(e,t)=>({width:e.width,height:t.height}),$G=(e,t)=>{var n=typeof t.width=="number"?t.width:_d;return{width:n,height:e.height}};ne(Ir,tl,u4);var qG=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},HG=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},UG=ne(Ji,Ir,FG,uv,dv,(e,t,n,r,a)=>{var s={},c;return n.forEach(u=>{var f=u4(t,u);c==null&&(c=qG(t,r,e));var m=r==="top"&&!a||r==="bottom"&&a;s[u.id]=c-Number(m)*f.height,c+=(m?-1:1)*f.height}),s}),YG=ne(Zi,Ir,BG,uv,dv,(e,t,n,r,a)=>{var s={},c;return n.forEach(u=>{var f=$G(t,u);c==null&&(c=HG(t,r,e));var m=r==="left"&&!a||r==="right"&&a;s[u.id]=c-Number(m)*f.width,c+=(m?-1:1)*f.width}),s}),VG=(e,t)=>{var n=tl(e,t);if(n!=null)return UG(e,n.orientation,n.mirror)};ne([Ir,tl,VG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n?.[r];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}});var GG=(e,t)=>{var n=rl(e,t);if(n!=null)return YG(e,n.orientation,n.mirror)};ne([Ir,rl,GG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n?.[r];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}});ne(Ir,rl,(e,t)=>{var n=typeof t.width=="number"?t.width:_d;return{width:n,height:e.height}});var d4=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:s,dataKey:c}=n,u=Qs(e,r),f=t.map(m=>m.value);if(c&&u&&s==="category"&&a&&MT(f))return f}},Lw=ne([nr,lv,fr,ir],d4),f4=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:s}=n,c=Qs(e,r);if(c&&(a==="number"||s!=="auto"))return t.map(u=>u.value)}},zw=ne([nr,lv,Oc,ir],f4);ne([nr,aG,nl,cv,Lw,zw,qd,Iw,ir],(e,t,n,r,a,s,c,u,f)=>{if(t!=null){var m=Qs(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:s,duplicateDomain:a,isCategorical:m,niceTicks:u,range:c,realScaleType:n,scale:r}}});var KG=(e,t,n,r,a,s,c,u,f)=>{if(!(t==null||r==null)){var m=Qs(e,f),{type:h,ticks:v,tickCount:x}=t,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=h==="category"&&r.bandwidth?r.bandwidth()/b:0;S=f==="angleAxis"&&s!=null&&s.length>=2?bn(s[0]-s[1])*2*S:S;var w=v||a;return w?w.map((y,C)=>{var M=c?c.indexOf(y):y,A=r.map(M);return Ft(A)?{index:C,coordinate:A+S,value:y,offset:S}:null}).filter(Ka):m&&u?u.map((y,C)=>{var M=r.map(y);return Ft(M)?{coordinate:M+S,value:y,index:C,offset:S}:null}).filter(Ka):r.ticks?r.ticks(x).map((y,C)=>{var M=r.map(y);return Ft(M)?{coordinate:M+S,value:y,index:C,offset:S}:null}).filter(Ka):r.domain().map((y,C)=>{var M=r.map(y);return Ft(M)?{coordinate:M+S,value:c?c[y]:y,index:C,offset:S}:null}).filter(Ka)}};ne([nr,Oc,nl,cv,Iw,qd,Lw,zw,ir],KG);var WG=(e,t,n,r,a,s,c)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=Qs(e,c),{tickCount:f}=t,m=0;return m=c==="angleAxis"&&r?.length>=2?bn(r[0]-r[1])*2*m:m,u&&s?s.map((h,v)=>{var x=n.map(h);return Ft(x)?{coordinate:x+m,value:h,index:v,offset:m}:null}).filter(Ka):n.ticks?n.ticks(f).map((h,v)=>{var x=n.map(h);return Ft(x)?{coordinate:x+m,value:h,index:v,offset:m}:null}).filter(Ka):n.domain().map((h,v)=>{var x=n.map(h);return Ft(x)?{coordinate:x+m,value:a?a[h]:h,index:v,offset:m}:null}).filter(Ka)}};ne([nr,Oc,cv,qd,Lw,zw,ir],WG);ne(fr,cv,(e,t)=>{if(!(e==null||t==null))return eh(eh({},e),{},{scale:t})});var QG=ne([fr,nl,Ow,o4],Tw);ne((e,t,n)=>bw(e,n),QG,(e,t)=>{if(!(e==null||t==null))return eh(eh({},e),{},{scale:t})});var XG=ne([nr,qh,Hh],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),m4=e=>e.options.defaultTooltipEventType,p4=e=>e.options.validateTooltipEventTypes;function h4(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function Fw(e,t){var n=m4(e),r=p4(e);return h4(t,n,r)}function ZG(e){return nt(t=>Fw(t,e))}var v4=(e,t)=>{var n,r=Number(t);if(!(qi(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},JG=e=>e.tooltip.settings,Rs={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},eK={itemInteraction:{click:Rs,hover:Rs},axisInteraction:{click:Rs,hover:Rs},keyboardInteraction:Rs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},x4=jn({name:"tooltip",initialState:eK,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:er()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,a=wa(e).tooltipItemPayloads.indexOf(n);a>-1&&(e.tooltipItemPayloads[a]=r)},prepare:er()},removeTooltipEntrySettings:{reducer(e,t){var n=wa(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:er()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:tK,replaceTooltipEntrySettings:rK,removeTooltipEntrySettings:nK,setTooltipSettingsState:aK,setActiveMouseOverItemIndex:g4,mouseLeaveItem:iK,mouseLeaveChart:b4,setActiveClickItemIndex:sK,setMouseOverAxisIndex:y4,setMouseClickAxisIndex:lK,setSyncInteraction:Iy,setKeyboardInteraction:Ry}=x4.actions,oK=x4.reducer;function Xk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Cm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xk(Object(n),!0).forEach(function(r){cK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cK(e,t,n){return(t=uK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uK(e){var t=dK(e,"string");return typeof t=="symbol"?t:t+""}function dK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fK(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function mK(e){return e.index!=null}var w4=(e,t,n,r)=>{if(t==null)return Rs;var a=fK(e,t,n);if(a==null)return Rs;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(mK(a)){if(s)return Cm(Cm({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Cm(Cm({},Rs),{},{coordinate:a.coordinate})};function pK(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function hK(e,t){var n=pK(e),r=t[0],a=t[1];if(n===void 0)return!1;var s=Math.min(r,a),c=Math.max(r,a);return n>=s&&n<=c}function vK(e,t,n){if(n==null||t==null)return!0;var r=ur(e,t);return r==null||!Ki(n)?!0:hK(r,n)}var Bw=(e,t,n,r)=>{var a=e?.index;if(a==null)return null;var s=Number(a);if(!Ft(s))return a;var c=0,u=1/0;t.length>0&&(u=t.length-1);var f=Math.max(c,Math.min(s,u)),m=t[f];return m==null||vK(m,n,r)?String(f):null},j4=(e,t,n,r,a,s,c)=>{if(s!=null){var u=c[0],f=u?.getPosition(s);if(f!=null)return f;var m=a?.[Number(s)];if(m)return n==="horizontal"?{x:m.coordinate,y:(r.top+t)/2}:{x:(r.left+e)/2,y:m.coordinate}}},N4=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(n==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&r!=null){var s=e.tooltipItemPayloads[0];return s!=null?[s]:[]}return e.tooltipItemPayloads.filter(c=>{var u;return((u=c.settings)===null||u===void 0?void 0:u.graphicalItemId)===a})},S4=e=>e.options.tooltipPayloadSearcher,Pc=e=>e.tooltip;function Zk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Jk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zk(Object(n),!0).forEach(function(r){xK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xK(e,t,n){return(t=gK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gK(e){var t=bK(e,"string");return typeof t=="symbol"?t:t+""}function bK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yK(e,t){return e??t}var C4=(e,t,n,r,a,s,c)=>{if(!(t==null||s==null)){var{chartData:u,computedData:f,dataStartIndex:m,dataEndIndex:h}=n,v=[];return e.reduce((x,b)=>{var S,{dataDefinedOnItem:w,settings:y}=b,C=yK(w,u),M=Array.isArray(C)?g5(C,m,h):C,A=(S=y?.dataKey)!==null&&S!==void 0?S:r,_=y?.nameKey,E;if(r&&Array.isArray(M)&&!Array.isArray(M[0])&&c==="axis"?E=g$(M,r,a):E=s(M,t,f,_),Array.isArray(E))E.forEach(P=>{var O=Jk(Jk({},y),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});x.push(eM({tooltipEntrySettings:O,dataKey:P.dataKey,payload:P.payload,value:ur(P.payload,P.dataKey),name:P.name}))});else{var T;x.push(eM({tooltipEntrySettings:y,dataKey:A,payload:E,value:ur(E,A),name:(T=ur(E,_))!==null&&T!==void 0?T:y?.name}))}return x},v)}},$w=ne([Er,KP,fw],s4),wK=ne([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),jK=ne([Lr,_c],yw),Ic=ne([wK,Er,jK],ww,{memoizeOptions:{resultEqualityCheck:sv}}),NK=ne([Ic],e=>e.filter(gw)),SK=ne([Ic],jw,{memoizeOptions:{resultEqualityCheck:sv}}),Rc=ne([SK,el],Nw),CK=ne([NK,el,Er],VP),qw=ne([Rc,Er,Ic],Cw),A4=ne([Er],Aw),AK=ne([Er],e=>e.allowDataOverflow),M4=ne([A4,AK],AP),MK=ne([Ic],e=>e.filter(gw)),kK=ne([CK,MK,zd,LP],ZP),DK=ne([kK,el,Lr,M4],JP),EK=ne([Ic],QP),_K=ne([Rc,Er,EK,ov,Lr],Dw,{memoizeOptions:{resultEqualityCheck:iv}}),OK=ne([e4,Lr,_c],Tc),TK=ne([OK,Lr],n4),PK=ne([t4,Lr,_c],Tc),IK=ne([PK,Lr],a4),RK=ne([r4,Lr,_c],Tc),LK=ne([RK,Lr],i4),zK=ne([TK,LK,IK],th),FK=ne([Er,A4,M4,DK,_K,zK,nr,Lr],Ew),Hd=ne([Er,nr,Rc,qw,zd,Lr,FK],_w),BK=ne([Hd,Er,$w],Pw),$K=ne([Er,Hd,BK,Lr],Rw),k4=e=>{var t=Lr(e),n=_c(e),r=!1;return qd(e,t,n,r)},D4=ne([Er,k4],nv),E4=ne([Er,$w,$K,D4],Tw),qK=ne([nr,qw,Er,Lr],d4),HK=ne([nr,qw,Er,Lr],f4),UK=(e,t,n,r,a,s,c,u)=>{if(t){var{type:f}=t,m=Qs(e,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,v=f==="category"&&r.bandwidth?r.bandwidth()/h:0;return v=u==="angleAxis"&&a!=null&&a?.length>=2?bn(a[0]-a[1])*2*v:v,m&&c?c.map((x,b)=>{var S=r.map(x);return Ft(S)?{coordinate:S+v,value:x,index:b,offset:v}:null}).filter(Ka):r.domain().map((x,b)=>{var S=r.map(x);return Ft(S)?{coordinate:S+v,value:s?s[x]:x,index:b,offset:v}:null}).filter(Ka)}}},ts=ne([nr,Er,$w,E4,k4,qK,HK,Lr],UK),Hw=ne([m4,p4,JG],(e,t,n)=>h4(n.shared,e,t)),_4=e=>e.tooltip.settings.trigger,Uw=e=>e.tooltip.settings.defaultIndex,Ud=ne([Pc,Hw,_4,Uw],w4),gd=ne([Ud,Rc,$d,Hd],Bw),O4=ne([ts,gd],v4),T4=ne([Ud],e=>{if(e)return e.dataKey}),YK=ne([Ud],e=>{if(e)return e.graphicalItemId}),P4=ne([Pc,Hw,_4,Uw],N4),VK=ne([Zi,Ji,nr,Ir,ts,Uw,P4],j4),GK=ne([Ud,VK],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),KK=ne([Ud],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),WK=ne([P4,gd,el,$d,O4,S4,Hw],C4);ne([WK],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function eD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function tD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eD(Object(n),!0).forEach(function(r){QK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QK(e,t,n){return(t=XK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XK(e){var t=ZK(e,"string");return typeof t=="symbol"?t:t+""}function ZK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JK=()=>nt(Er),eW=()=>{var e=JK(),t=nt(ts),n=nt(E4);return JA(!e||!n?void 0:tD(tD({},e),{},{scale:n}),t)};function rD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function qo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rD(Object(n),!0).forEach(function(r){tW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tW(e,t,n){return(t=rW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rW(e){var t=nW(e,"string");return typeof t=="symbol"?t:t+""}function nW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aW=(e,t,n,r)=>{var a=t.find(s=>s&&s.index===n);if(a){if(e==="horizontal")return{x:a.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}},iW=(e,t,n,r)=>{var a=t.find(m=>m&&m.index===n);if(a){if(e==="centric"){var s=a.coordinate,{radius:c}=r;return qo(qo(qo({},r),Nr(r.cx,r.cy,c,s)),{},{angle:s,radius:c})}var u=a.coordinate,{angle:f}=r;return qo(qo(qo({},r),Nr(r.cx,r.cy,u,f)),{},{angle:f,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function sW(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var I4=(e,t,n,r,a)=>{var s,c=(s=t?.length)!==null&&s!==void 0?s:0;if(c<=1||e==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var u=0;u<c;u++){var f,m,h,v,x,b=u>0?(f=n[u-1])===null||f===void 0?void 0:f.coordinate:(m=n[c-1])===null||m===void 0?void 0:m.coordinate,S=(h=n[u])===null||h===void 0?void 0:h.coordinate,w=u>=c-1?(v=n[0])===null||v===void 0?void 0:v.coordinate:(x=n[u+1])===null||x===void 0?void 0:x.coordinate,y=void 0;if(!(b==null||S==null||w==null))if(bn(S-b)!==bn(w-S)){var C=[];if(bn(w-S)===bn(a[1]-a[0])){y=w;var M=S+a[1]-a[0];C[0]=Math.min(M,(M+b)/2),C[1]=Math.max(M,(M+b)/2)}else{y=b;var A=w+a[1]-a[0];C[0]=Math.min(S,(A+S)/2),C[1]=Math.max(S,(A+S)/2)}var _=[Math.min(S,(y+S)/2),Math.max(S,(y+S)/2)];if(e>_[0]&&e<=_[1]||e>=C[0]&&e<=C[1]){var E;return(E=n[u])===null||E===void 0?void 0:E.index}}else{var T=Math.min(b,w),P=Math.max(b,w);if(e>(T+S)/2&&e<=(P+S)/2){var O;return(O=n[u])===null||O===void 0?void 0:O.index}}}else if(t)for(var L=0;L<c;L++){var R=t[L];if(R!=null){var B=t[L+1],D=t[L-1];if(L===0&&B!=null&&e<=(R.coordinate+B.coordinate)/2||L===c-1&&D!=null&&e>(R.coordinate+D.coordinate)/2||L>0&&L<c-1&&D!=null&&B!=null&&e>(R.coordinate+D.coordinate)/2&&e<=(R.coordinate+B.coordinate)/2)return R.index}}return-1},lW=()=>nt(fw),Yw=(e,t)=>t,R4=(e,t,n)=>n,Vw=(e,t,n,r)=>r,oW=ne(ts,e=>Oh(e,t=>t.coordinate)),Gw=ne([Pc,Yw,R4,Vw],w4),Kw=ne([Gw,Rc,$d,Hd],Bw),cW=(e,t,n)=>{if(t!=null){var r=Pc(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},L4=ne([Pc,Yw,R4,Vw],N4),rh=ne([Zi,Ji,nr,Ir,ts,Vw,L4],j4),uW=ne([Gw,rh],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),z4=ne([ts,Kw],v4),dW=ne([L4,Kw,el,$d,z4,S4,Yw],C4),fW=ne([Gw,Kw],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),mW=(e,t,n,r,a,s,c)=>{if(!(!e||!n||!r||!a)&&sW(e,c)){var u=qH(e,t),f=I4(u,s,a,n,r),m=aW(t,a,f,e);return{activeIndex:String(f),activeCoordinate:m}}},pW=(e,t,n,r,a,s,c)=>{if(!(!e||!r||!a||!s||!n)){var u=Q7(e,n);if(u){var f=HH(u,t),m=I4(f,c,s,r,a),h=iW(t,s,m,u);return{activeIndex:String(m),activeCoordinate:h}}}},hW=(e,t,n,r,a,s,c,u)=>{if(!(!e||!t||!r||!a||!s))return t==="horizontal"||t==="vertical"?mW(e,t,r,a,s,c,u):pW(e,t,n,r,a,s,c)},vW=ne(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),xW=ne(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(ya)),n=Array.from(new Set(t));return n.sort((r,a)=>r-a)},{memoizeOptions:{resultEqualityCheck:KV}});function nD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function aD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nD(Object(n),!0).forEach(function(r){gW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gW(e,t,n){return(t=bW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bW(e){var t=yW(e,"string");return typeof t=="symbol"?t:t+""}function yW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wW={},jW={zIndexMap:Object.values(ya).reduce((e,t)=>aD(aD({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),wW)},NW=new Set(Object.values(ya));function SW(e){return NW.has(e)}var F4=jn({name:"zIndex",initialState:jW,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:er()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!SW(n)&&delete e.zIndexMap[n])},prepare:er()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:a}=t.payload;e.zIndexMap[n]?a?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:a?void 0:r,panoramaElement:a?r:void 0}},prepare:er()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:er()}}}),{registerZIndexPortal:CW,unregisterZIndexPortal:AW,registerZIndexPortalElement:MW,unregisterZIndexPortalElement:kW}=F4.actions,DW=F4.reducer;function Yd(e){var{zIndex:t,children:n}=e,r=j9(),a=r&&t!==void 0&&t!==0,s=Xs(),c=kr();j.useLayoutEffect(()=>a?(c(CW({zIndex:t})),()=>{c(AW({zIndex:t}))}):kd,[c,t,a]);var u=nt(f=>vW(f,t,s));return a?u?Cd.createPortal(n,u):null:n}function Ly(){return Ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ly.apply(null,arguments)}function iD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Am(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iD(Object(n),!0).forEach(function(r){EW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EW(e,t,n){return(t=_W(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _W(e){var t=OW(e,"string");return typeof t=="symbol"?t:t+""}function OW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TW(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return j.isValidElement(t)?j.cloneElement(t,r):j.createElement(n,r)}function PW(e){var t,{coordinate:n,payload:r,index:a,offset:s,tooltipAxisBandSize:c,layout:u,cursor:f,tooltipEventType:m,chartName:h}=e,v=n,x=r,b=a;if(!f||!v||h!=="ScatterChart"&&m!=="axis")return null;var S,w,y;if(h==="ScatterChart")S=v,w=u7,y=ya.cursorLine;else if(h==="BarChart")S=d7(u,v,s,c),w=B5,y=ya.cursorRectangle;else if(u==="radial"&&ET(v)){var{cx:C,cy:M,radius:A,startAngle:_,endAngle:E}=q5(v);S={cx:C,cy:M,startAngle:_,endAngle:E,innerRadius:A,outerRadius:A},w=U5,y=ya.cursorLine}else S={points:eU(u,v,s)},w=R1,y=ya.cursorLine;var T=typeof f=="object"&&"className"in f?f.className:void 0,P=Am(Am(Am(Am({stroke:"#ccc",pointerEvents:"none"},s),S),Qb(f)),{},{payload:x,payloadIndex:b,className:st("recharts-tooltip-cursor",T)});return j.createElement(Yd,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},j.createElement(TW,{cursor:f,cursorComp:w,cursorProps:P}))}function IW(e){var t=eW(),n=b9(),r=Gh(),a=lW();return t==null||n==null||r==null||a==null?null:j.createElement(PW,Ly({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:a}))}var B4=j.createContext(null),RW=()=>j.useContext(B4),cb={exports:{}},sD;function LW(){return sD||(sD=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(f,m,h){this.fn=f,this.context=m,this.once=h||!1}function s(f,m,h,v,x){if(typeof h!="function")throw new TypeError("The listener must be a function");var b=new a(h,v||f,x),S=n?n+m:m;return f._events[S]?f._events[S].fn?f._events[S]=[f._events[S],b]:f._events[S].push(b):(f._events[S]=b,f._eventsCount++),f}function c(f,m){--f._eventsCount===0?f._events=new r:delete f._events[m]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var m=[],h,v;if(this._eventsCount===0)return m;for(v in h=this._events)t.call(h,v)&&m.push(n?v.slice(1):v);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(h)):m},u.prototype.listeners=function(m){var h=n?n+m:m,v=this._events[h];if(!v)return[];if(v.fn)return[v.fn];for(var x=0,b=v.length,S=new Array(b);x<b;x++)S[x]=v[x].fn;return S},u.prototype.listenerCount=function(m){var h=n?n+m:m,v=this._events[h];return v?v.fn?1:v.length:0},u.prototype.emit=function(m,h,v,x,b,S){var w=n?n+m:m;if(!this._events[w])return!1;var y=this._events[w],C=arguments.length,M,A;if(y.fn){switch(y.once&&this.removeListener(m,y.fn,void 0,!0),C){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,h),!0;case 3:return y.fn.call(y.context,h,v),!0;case 4:return y.fn.call(y.context,h,v,x),!0;case 5:return y.fn.call(y.context,h,v,x,b),!0;case 6:return y.fn.call(y.context,h,v,x,b,S),!0}for(A=1,M=new Array(C-1);A<C;A++)M[A-1]=arguments[A];y.fn.apply(y.context,M)}else{var _=y.length,E;for(A=0;A<_;A++)switch(y[A].once&&this.removeListener(m,y[A].fn,void 0,!0),C){case 1:y[A].fn.call(y[A].context);break;case 2:y[A].fn.call(y[A].context,h);break;case 3:y[A].fn.call(y[A].context,h,v);break;case 4:y[A].fn.call(y[A].context,h,v,x);break;default:if(!M)for(E=1,M=new Array(C-1);E<C;E++)M[E-1]=arguments[E];y[A].fn.apply(y[A].context,M)}}return!0},u.prototype.on=function(m,h,v){return s(this,m,h,v,!1)},u.prototype.once=function(m,h,v){return s(this,m,h,v,!0)},u.prototype.removeListener=function(m,h,v,x){var b=n?n+m:m;if(!this._events[b])return this;if(!h)return c(this,b),this;var S=this._events[b];if(S.fn)S.fn===h&&(!x||S.once)&&(!v||S.context===v)&&c(this,b);else{for(var w=0,y=[],C=S.length;w<C;w++)(S[w].fn!==h||x&&!S[w].once||v&&S[w].context!==v)&&y.push(S[w]);y.length?this._events[b]=y.length===1?y[0]:y:c(this,b)}return this},u.prototype.removeAllListeners=function(m){var h;return m?(h=n?n+m:m,this._events[h]&&c(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(cb)),cb.exports}var zW=LW();const FW=si(zW);var bd=new FW,zy="recharts.syncEvent.tooltip",lD="recharts.syncEvent.brush",BW=(e,t)=>{if(t&&Array.isArray(e)){var n=Number.parseInt(t,10);if(!qi(n))return e[n]}},$W={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},$4=jn({name:"options",initialState:$W,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),qW=$4.reducer,{createEventEmitter:HW}=$4.actions;function UW(e){return e.tooltip.syncInteraction}var YW={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},q4=jn({name:"chartData",initialState:YW,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:oD,setDataStartEndIndexes:VW,setComputedData:qle}=q4.actions,GW=q4.reducer,KW=["x","y"];function cD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ho(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cD(Object(n),!0).forEach(function(r){WW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WW(e,t,n){return(t=QW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QW(e){var t=XW(e,"string");return typeof t=="symbol"?t:t+""}function XW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZW(e,t){if(e==null)return{};var n,r,a=JW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function JW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function eQ(){var e=nt(mw),t=nt(pw),n=kr(),r=nt(zP),a=nt(ts),s=Gh(),c=Vh(),u=nt(f=>f.rootProps.className);j.useEffect(()=>{if(e==null)return kd;var f=(m,h,v)=>{if(t!==v&&e===m){if(r==="index"){var x;if(c&&h!==null&&h!==void 0&&(x=h.payload)!==null&&x!==void 0&&x.coordinate&&h.payload.sourceViewBox){var b=h.payload.coordinate,{x:S,y:w}=b,y=ZW(b,KW),{x:C,y:M,width:A,height:_}=h.payload.sourceViewBox,E=Ho(Ho({},y),{},{x:c.x+(A?(S-C)/A:0)*c.width,y:c.y+(_?(w-M)/_:0)*c.height});n(Ho(Ho({},h),{},{payload:Ho(Ho({},h.payload),{},{coordinate:E})}))}else n(h);return}if(a!=null){var T;if(typeof r=="function"){var P={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},O=r(a,P);T=a[O]}else r==="value"&&(T=a.find($=>String($.value)===h.payload.label));var{coordinate:L}=h.payload;if(T==null||h.payload.active===!1||L==null||c==null){n(Iy({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:R,y:B}=L,D=Math.min(R,c.x+c.width),W=Math.min(B,c.y+c.height),X={x:s==="horizontal"?T.coordinate:D,y:s==="horizontal"?W:T.coordinate},Z=Iy({active:h.payload.active,coordinate:X,dataKey:h.payload.dataKey,index:String(T.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(Z)}}};return bd.on(zy,f),()=>{bd.off(zy,f)}},[u,n,t,e,r,a,s,c])}function tQ(){var e=nt(mw),t=nt(pw),n=kr();j.useEffect(()=>{if(e==null)return kd;var r=(a,s,c)=>{t!==c&&e===a&&n(VW(s))};return bd.on(lD,r),()=>{bd.off(lD,r)}},[n,t,e])}function rQ(){var e=kr();j.useEffect(()=>{e(HW())},[e]),eQ(),tQ()}function nQ(e,t,n,r,a,s){var c=nt(b=>cW(b,e,t)),u=nt(pw),f=nt(mw),m=nt(zP),h=nt(UW),v=h?.active,x=Vh();j.useEffect(()=>{if(!v&&f!=null&&u!=null){var b=Iy({active:s,coordinate:n,dataKey:c,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:x,graphicalItemId:void 0});bd.emit(zy,f,b,u)}},[v,n,c,a,r,u,f,m,s,x])}function uD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function dD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uD(Object(n),!0).forEach(function(r){aQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aQ(e,t,n){return(t=iQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iQ(e){var t=sQ(e,"string");return typeof t=="symbol"?t:t+""}function sQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lQ(e){return e.dataKey}function oQ(e,t){return j.isValidElement(e)?j.cloneElement(e,t):typeof e=="function"?j.createElement(e,t):j.createElement(H9,t)}var fD=[],cQ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function H4(e){var t,n,r=ui(e,cQ),{active:a,allowEscapeViewBox:s,animationDuration:c,animationEasing:u,content:f,filterNull:m,isAnimationActive:h,offset:v,payloadUniqBy:x,position:b,reverseDirection:S,useTranslate3d:w,wrapperStyle:y,cursor:C,shared:M,trigger:A,defaultIndex:_,portal:E,axisId:T}=r,P=kr(),O=typeof _=="number"?String(_):_;j.useEffect(()=>{P(aK({shared:M,trigger:A,axisId:T,active:a,defaultIndex:O}))},[P,M,A,T,a,O]);var L=Vh(),R=I5(),B=ZG(M),{activeIndex:D,isActive:W}=(t=nt(me=>fW(me,B,A,O)))!==null&&t!==void 0?t:{},X=nt(me=>dW(me,B,A,O)),Z=nt(me=>z4(me,B,A,O)),$=nt(me=>uW(me,B,A,O)),G=X,z=RW(),te=(n=a??W)!==null&&n!==void 0?n:!1,[ve,F]=Eq([G,te]),ae=B==="axis"?Z:void 0;nQ(B,A,$,ae,D,te);var he=E??z;if(he==null||L==null||B==null)return null;var ye=G??fD;te||(ye=fD),m&&ye.length&&(ye=rq(ye.filter(me=>me.value!=null&&(me.hide!==!0||r.includeHidden)),x,lQ));var je=ye.length>0,Ie=j.createElement(Q9,{allowEscapeViewBox:s,animationDuration:c,animationEasing:u,isAnimationActive:h,active:te,coordinate:$,hasPayload:je,offset:v,position:b,reverseDirection:S,useTranslate3d:w,viewBox:L,wrapperStyle:y,lastBoundingBox:ve,innerRef:F,hasPortalFromProps:!!E},oQ(f,dD(dD({},r),{},{payload:ye,label:ae,active:te,activeIndex:D,coordinate:$,accessibilityLayer:R})));return j.createElement(j.Fragment,null,Cd.createPortal(Ie,he),te&&j.createElement(IW,{cursor:C,tooltipEventType:B,coordinate:$,payload:ye,index:D}))}var Vd=e=>null;Vd.displayName="Cell";function uQ(e,t,n){return(t=dQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dQ(e){var t=fQ(e,"string");return typeof t=="symbol"?t:t+""}function fQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class mQ{constructor(t){uQ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function mD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function pQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mD(Object(n),!0).forEach(function(r){hQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hQ(e,t,n){return(t=vQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vQ(e){var t=xQ(e,"string");return typeof t=="symbol"?t:t+""}function xQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gQ={cacheSize:2e3,enableCache:!0},U4=pQ({},gQ),pD=new mQ(U4.cacheSize),bQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},hD="recharts_measurement_span";function yQ(e,t){var n=t.fontSize||"",r=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",c=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(s,"|").concat(c,"|").concat(u)}var vD=(e,t)=>{try{var n=document.getElementById(hD);n||(n=document.createElement("span"),n.setAttribute("id",hD),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,bQ,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},xD=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||L1.isSsr)return{width:0,height:0};if(!U4.enableCache)return vD(t,n);var r=yQ(t,n),a=pD.get(r);if(a)return a;var s=vD(t,n);return pD.set(r,s),s},Y4;function wQ(e,t,n){return(t=jQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jQ(e){var t=NQ(e,"string");return typeof t=="symbol"?t:t+""}function NQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,SQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,CQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,AQ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},MQ=["cm","mm","pt","pc","in","Q","px"];function kQ(e){return MQ.includes(e)}var Jo="NaN";function DQ(e,t){return e*AQ[t]}class Ur{static parse(t){var n,[,r,a]=(n=CQ.exec(t))!==null&&n!==void 0?n:[];return r==null?Ur.NaN:new Ur(parseFloat(r),a??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,qi(t)&&(this.unit=""),n!==""&&!SQ.test(n)&&(this.num=NaN,this.unit=""),kQ(n)&&(this.num=DQ(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Ur(NaN,""):new Ur(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ur(NaN,""):new Ur(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ur(NaN,""):new Ur(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ur(NaN,""):new Ur(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return qi(this.num)}}Y4=Ur;wQ(Ur,"NaN",new Y4(NaN,""));function V4(e){if(e==null||e.includes(Jo))return Jo;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,a,s]=(n=gD.exec(t))!==null&&n!==void 0?n:[],c=Ur.parse(r??""),u=Ur.parse(s??""),f=a==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return Jo;t=t.replace(gD,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,h,v,x]=(m=bD.exec(t))!==null&&m!==void 0?m:[],b=Ur.parse(h??""),S=Ur.parse(x??""),w=v==="+"?b.add(S):b.subtract(S);if(w.isNaN())return Jo;t=t.replace(bD,w.toString())}return t}var yD=/\(([^()]*)\)/;function EQ(e){for(var t=e,n;(n=yD.exec(t))!=null;){var[,r]=n;t=t.replace(yD,V4(r))}return t}function _Q(e){var t=e.replace(/\s+/g,"");return t=EQ(t),t=V4(t),t}function OQ(e){try{return _Q(e)}catch{return Jo}}function ub(e){var t=OQ(e.slice(5,-1));return t===Jo?"":t}var TQ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],PQ=["dx","dy","angle","className","breakAll"];function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fy.apply(null,arguments)}function wD(e,t){if(e==null)return{};var n,r,a=IQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function IQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var G4=/[ \f\n\r\t\v\u2028\u2029]+/,K4=e=>{var{children:t,breakAll:n,style:r}=e;try{var a=[];Bn(t)||(n?a=t.toString().split(""):a=t.toString().split(G4));var s=a.map(u=>({word:u,width:xD(u,r).width})),c=n?0:xD("",r).width;return{wordsWithComputedWidth:s,spaceWidth:c}}catch{return null}};function RQ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var W4=(e,t,n,r)=>e.reduce((a,s)=>{var{word:c,width:u}=s,f=a[a.length-1];if(f&&u!=null&&(t==null||r||f.width+u+n<Number(t)))f.words.push(c),f.width+=u+n;else{var m={words:[c],width:u};a.push(m)}return a},[]),Q4=e=>e.reduce((t,n)=>t.width>n.width?t:n),LQ="",jD=(e,t,n,r,a,s,c,u)=>{var f=e.slice(0,t),m=K4({breakAll:n,style:r,children:f+LQ});if(!m)return[!1,[]];var h=W4(m.wordsWithComputedWidth,s,c,u),v=h.length>a||Q4(h).width>Number(s);return[v,h]},zQ=(e,t,n,r,a)=>{var{maxLines:s,children:c,style:u,breakAll:f}=e,m=Qe(s),h=String(c),v=W4(t,r,n,a);if(!m||a)return v;var x=v.length>s||Q4(v).width>Number(r);if(!x)return v;for(var b=0,S=h.length-1,w=0,y;b<=S&&w<=h.length-1;){var C=Math.floor((b+S)/2),M=C-1,[A,_]=jD(h,M,f,u,s,r,n,a),[E]=jD(h,C,f,u,s,r,n,a);if(!A&&!E&&(b=C+1),A&&E&&(S=C-1),!A&&E){y=_;break}w++}return y||v},ND=e=>{var t=Bn(e)?[]:e.toString().split(G4);return[{words:t,width:void 0}]},FQ=e=>{var{width:t,scaleToFit:n,children:r,style:a,breakAll:s,maxLines:c}=e;if((t||n)&&!L1.isSsr){var u,f,m=K4({breakAll:s,children:r,style:a});if(m){var{wordsWithComputedWidth:h,spaceWidth:v}=m;u=h,f=v}else return ND(r);return zQ({breakAll:s,children:r,maxLines:c,style:a},u,f,t,!!n)}return ND(r)},X4="#808080",BQ={angle:0,breakAll:!1,capHeight:"0.71em",fill:X4,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Ww=j.forwardRef((e,t)=>{var n=ui(e,BQ),{x:r,y:a,lineHeight:s,capHeight:c,fill:u,scaleToFit:f,textAnchor:m,verticalAnchor:h}=n,v=wD(n,TQ),x=j.useMemo(()=>FQ({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width}),[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),{dx:b,dy:S,angle:w,className:y,breakAll:C}=v,M=wD(v,PQ);if(!Hi(r)||!Hi(a)||x.length===0)return null;var A=Number(r)+(Qe(b)?b:0),_=Number(a)+(Qe(S)?S:0);if(!Ft(A)||!Ft(_))return null;var E;switch(h){case"start":E=ub("calc(".concat(c,")"));break;case"middle":E=ub("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:E=ub("calc(".concat(x.length-1," * -").concat(s,")"));break}var T=[],P=x[0];if(f&&P!=null){var O=P.width,{width:L}=v;T.push("scale(".concat(Qe(L)&&Qe(O)?L/O:1,")"))}return w&&T.push("rotate(".concat(w,", ").concat(A,", ").concat(_,")")),T.length&&(M.transform=T.join(" ")),j.createElement("text",Fy({},ia(M),{ref:t,x:A,y:_,className:st("recharts-text",y),textAnchor:m,fill:u.includes("url")?X4:u}),x.map((R,B)=>{var D=R.words.join(C?"":" ");return j.createElement("tspan",{x:A,dy:B===0?E:s,key:"".concat(D,"-").concat(B)},D)}))});Ww.displayName="Text";function SD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $a(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SD(Object(n),!0).forEach(function(r){$Q(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $Q(e,t,n){return(t=qQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qQ(e){var t=HQ(e,"string");return typeof t=="symbol"?t:t+""}function HQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UQ=e=>{var{viewBox:t,position:n,offset:r=0,parentViewBox:a}=e,{x:s,y:c,height:u,upperWidth:f,lowerWidth:m}=T1(t),h=s,v=s+(f-m)/2,x=(h+v)/2,b=(f+m)/2,S=h+f/2,w=u>=0?1:-1,y=w*r,C=w>0?"end":"start",M=w>0?"start":"end",A=f>=0?1:-1,_=A*r,E=A>0?"end":"start",T=A>0?"start":"end",P=a;if(n==="top"){var O={x:h+f/2,y:c-y,horizontalAnchor:"middle",verticalAnchor:C};return P&&(O.height=Math.max(c-P.y,0),O.width=f),O}if(n==="bottom"){var L={x:v+m/2,y:c+u+y,horizontalAnchor:"middle",verticalAnchor:M};return P&&(L.height=Math.max(P.y+P.height-(c+u),0),L.width=m),L}if(n==="left"){var R={x:x-_,y:c+u/2,horizontalAnchor:E,verticalAnchor:"middle"};return P&&(R.width=Math.max(R.x-P.x,0),R.height=u),R}if(n==="right"){var B={x:x+b+_,y:c+u/2,horizontalAnchor:T,verticalAnchor:"middle"};return P&&(B.width=Math.max(P.x+P.width-B.x,0),B.height=u),B}var D=P?{width:b,height:u}:{};return n==="insideLeft"?$a({x:x+_,y:c+u/2,horizontalAnchor:T,verticalAnchor:"middle"},D):n==="insideRight"?$a({x:x+b-_,y:c+u/2,horizontalAnchor:E,verticalAnchor:"middle"},D):n==="insideTop"?$a({x:h+f/2,y:c+y,horizontalAnchor:"middle",verticalAnchor:M},D):n==="insideBottom"?$a({x:v+m/2,y:c+u-y,horizontalAnchor:"middle",verticalAnchor:C},D):n==="insideTopLeft"?$a({x:h+_,y:c+y,horizontalAnchor:T,verticalAnchor:M},D):n==="insideTopRight"?$a({x:h+f-_,y:c+y,horizontalAnchor:E,verticalAnchor:M},D):n==="insideBottomLeft"?$a({x:v+_,y:c+u-y,horizontalAnchor:T,verticalAnchor:C},D):n==="insideBottomRight"?$a({x:v+m-_,y:c+u-y,horizontalAnchor:E,verticalAnchor:C},D):n&&typeof n=="object"&&(Qe(n.x)||Vl(n.x))&&(Qe(n.y)||Vl(n.y))?$a({x:s+Ln(n.x,b),y:c+Ln(n.y,u),horizontalAnchor:"end",verticalAnchor:"end"},D):$a({x:S,y:c+u/2,horizontalAnchor:"middle",verticalAnchor:"middle"},D)},YQ=["labelRef"],VQ=["content"];function CD(e,t){if(e==null)return{};var n,r,a=GQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function GQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function AD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Mm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AD(Object(n),!0).forEach(function(r){KQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KQ(e,t,n){return(t=WQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WQ(e){var t=QQ(e,"string");return typeof t=="symbol"?t:t+""}function QQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nh(){return nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nh.apply(null,arguments)}var XQ=j.createContext(null),ZQ=()=>{var e=j.useContext(XQ),t=Vh();return e||(t?T1(t):void 0)},JQ=j.createContext(null),eX=()=>{var e=j.useContext(JQ),t=nt(UP);return e||t},tX=e=>{var{value:t,formatter:n}=e,r=Bn(e.children)?t:e.children;return typeof n=="function"?n(r):r},rX=e=>e!=null&&typeof e=="function",nX=(e,t)=>{var n=bn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},aX=(e,t,n,r,a)=>{var{offset:s,className:c}=e,{cx:u,cy:f,innerRadius:m,outerRadius:h,startAngle:v,endAngle:x,clockWise:b}=a,S=(m+h)/2,w=nX(v,x),y=w>=0?1:-1,C,M;switch(t){case"insideStart":C=v+y*s,M=b;break;case"insideEnd":C=x-y*s,M=!b;break;case"end":C=x+y*s,M=b;break;default:throw new Error("Unsupported position ".concat(t))}M=w<=0?M:!M;var A=Nr(u,f,S,C),_=Nr(u,f,S,C+(M?1:-1)*359),E="M".concat(A.x,",").concat(A.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(M?0:1,`,
    `).concat(_.x,",").concat(_.y),T=Bn(e.id)?id("recharts-radial-line-"):e.id;return j.createElement("text",nh({},r,{dominantBaseline:"central",className:st("recharts-radial-bar-label",c)}),j.createElement("defs",null,j.createElement("path",{id:T,d:E})),j.createElement("textPath",{xlinkHref:"#".concat(T)},n))},iX=(e,t,n)=>{var{cx:r,cy:a,innerRadius:s,outerRadius:c,startAngle:u,endAngle:f}=e,m=(u+f)/2;if(n==="outside"){var{x:h,y:v}=Nr(r,a,c+t,m);return{x:h,y:v,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var x=(s+c)/2,{x:b,y:S}=Nr(r,a,x,m);return{x:b,y:S,textAnchor:"middle",verticalAnchor:"middle"}},ip=e=>e!=null&&"cx"in e&&Qe(e.cx),sX={angle:0,offset:5,zIndex:ya.label,position:"middle",textBreakAll:!1};function lX(e){if(!ip(e))return e;var{cx:t,cy:n,outerRadius:r}=e,a=r*2;return{x:t-r,y:n-r,width:a,upperWidth:a,lowerWidth:a,height:a}}function Z4(e){var t=ui(e,sX),{viewBox:n,parentViewBox:r,position:a,value:s,children:c,content:u,className:f="",textBreakAll:m,labelRef:h}=t,v=eX(),x=ZQ(),b=a==="center"?x:v??x,S,w,y;n==null?S=b:ip(n)?S=n:S=T1(n);var C=lX(S);if(!S||Bn(s)&&Bn(c)&&!j.isValidElement(u)&&typeof u!="function")return null;var M=Mm(Mm({},t),{},{viewBox:S});if(j.isValidElement(u)){var{labelRef:A}=M,_=CD(M,YQ);return j.cloneElement(u,_)}if(typeof u=="function"){var{content:E}=M,T=CD(M,VQ);if(w=j.createElement(u,T),j.isValidElement(w))return w}else w=tX(t);var P=ia(t);if(ip(S)){if(a==="insideStart"||a==="insideEnd"||a==="end")return aX(t,a,w,P,S);y=iX(S,t.offset,t.position)}else{if(!C)return null;var O=UQ({viewBox:C,position:a,offset:t.offset,parentViewBox:ip(r)?void 0:r});y=Mm(Mm({x:O.x,y:O.y,textAnchor:O.horizontalAnchor,verticalAnchor:O.verticalAnchor},O.width!==void 0?{width:O.width}:{}),O.height!==void 0?{height:O.height}:{})}return j.createElement(Yd,{zIndex:t.zIndex},j.createElement(Ww,nh({ref:h,className:st("recharts-label",f)},P,y,{textAnchor:RQ(P.textAnchor)?P.textAnchor:y.textAnchor,breakAll:m}),w))}Z4.displayName="Label";var db={},fb={},MD;function oX(){return MD||(MD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(fb)),fb}var mb={},kD;function cX(){return kD||(kD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(mb)),mb}var DD;function uX(){return DD||(DD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oX(),n=cX(),r=N1();function a(s){if(r.isArrayLike(s))return t.last(n.toArray(s))}e.last=a})(db)),db}var pb,ED;function dX(){return ED||(ED=1,pb=uX().last),pb}var fX=dX();const mX=si(fX);var pX=["valueAccessor"],hX=["dataKey","clockWise","id","textBreakAll","zIndex"];function ah(){return ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ah.apply(null,arguments)}function _D(e,t){if(e==null)return{};var n,r,a=vX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function vX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var xX=e=>Array.isArray(e.value)?mX(e.value):e.value,J4=j.createContext(void 0);J4.Provider;var e3=j.createContext(void 0),gX=e3.Provider;function bX(){return j.useContext(J4)}function yX(){return j.useContext(e3)}function sp(e){var{valueAccessor:t=xX}=e,n=_D(e,pX),{dataKey:r,clockWise:a,id:s,textBreakAll:c,zIndex:u}=n,f=_D(n,hX),m=bX(),h=yX(),v=m||h;return!v||!v.length?null:j.createElement(Yd,{zIndex:u??ya.label},j.createElement(Ys,{className:"recharts-label-list"},v.map((x,b)=>{var S,w=Bn(r)?t(x,b):ur(x.payload,r),y=Bn(s)?{}:{id:"".concat(s,"-").concat(b)};return j.createElement(Z4,ah({key:"label-".concat(b)},ia(x),f,y,{fill:(S=n.fill)!==null&&S!==void 0?S:x.fill,parentViewBox:x.parentViewBox,value:w,textBreakAll:c,viewBox:x.viewBox,index:b,zIndex:0}))})))}sp.displayName="LabelList";function wX(e){var{label:t}=e;return t?t===!0?j.createElement(sp,{key:"labelList-implicit"}):j.isValidElement(t)||rX(t)?j.createElement(sp,{key:"labelList-implicit",content:t}):typeof t=="object"?j.createElement(sp,ah({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var t3=e=>e.graphicalItems.polarItems,jX=ne([ir,Fd],yw),fv=ne([t3,fr,jX],ww),NX=ne([fv],jw),mv=ne([NX,cw],Nw),SX=ne([mv,fr,fv],Cw);ne([mv,fr,fv],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(a=>{var s,c=ur(r,(s=t.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(r=>({value:ur(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var OD=()=>{},CX=ne([mv,fr,fv,ov,ir],Dw),AX=ne([fr,Mw,kw,OD,CX,OD,nr,ir],Ew),r3=ne([fr,nr,mv,SX,zd,ir,AX],_w),MX=ne([r3,Oc,nl],Pw),kX=ne([fr,r3,MX,ir],Rw);ne([nl,kX],GP);var DX={radiusAxis:{},angleAxis:{}},n3=jn({name:"polarAxis",initialState:DX,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Hle,removeRadiusAxis:Ule,addAngleAxis:Yle,removeAngleAxis:Vle}=n3.actions,EX=n3.reducer;function _X(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function TD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function PD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TD(Object(n),!0).forEach(function(r){OX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OX(e,t,n){return(t=TX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TX(e){var t=PX(e,"string");return typeof t=="symbol"?t:t+""}function PX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IX=(e,t)=>t,Qw=ne([t3,IX],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),RX=[],Xw=(e,t,n)=>n?.length===0?RX:n,a3=ne([cw,Qw,Xw],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var a;if(t?.data!=null&&t.data.length>0?a=t.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(s=>PD(PD({},t.presentationProps),s.props))),a!=null)return a}}),LX=ne([a3,Qw,Xw],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,a)=>{var s,c=ur(r,t.nameKey,t.name),u;return n!=null&&(s=n[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?u=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=t.fill,{value:b5(c,t.dataKey),color:u,payload:r,type:t.legendType}})}),zX=ne([a3,Qw,Xw,Ir],(e,t,n,r)=>{if(!(t==null||e==null))return $Z({offset:r,pieSettings:t,displayedData:e,cells:n})}),hb={exports:{}},zt={};var ID;function FX(){if(ID)return zt;ID=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function S(w){if(typeof w=="object"&&w!==null){var y=w.$$typeof;switch(y){case e:switch(w=w.type,w){case n:case a:case r:case f:case m:case x:return w;default:switch(w=w&&w.$$typeof,w){case c:case u:case v:case h:return w;case s:return w;default:return y}}case t:return y}}}return zt.ContextConsumer=s,zt.ContextProvider=c,zt.Element=e,zt.ForwardRef=u,zt.Fragment=n,zt.Lazy=v,zt.Memo=h,zt.Portal=t,zt.Profiler=a,zt.StrictMode=r,zt.Suspense=f,zt.SuspenseList=m,zt.isContextConsumer=function(w){return S(w)===s},zt.isContextProvider=function(w){return S(w)===c},zt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},zt.isForwardRef=function(w){return S(w)===u},zt.isFragment=function(w){return S(w)===n},zt.isLazy=function(w){return S(w)===v},zt.isMemo=function(w){return S(w)===h},zt.isPortal=function(w){return S(w)===t},zt.isProfiler=function(w){return S(w)===a},zt.isStrictMode=function(w){return S(w)===r},zt.isSuspense=function(w){return S(w)===f},zt.isSuspenseList=function(w){return S(w)===m},zt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===a||w===r||w===f||w===m||typeof w=="object"&&w!==null&&(w.$$typeof===v||w.$$typeof===h||w.$$typeof===c||w.$$typeof===s||w.$$typeof===u||w.$$typeof===b||w.getModuleId!==void 0)},zt.typeOf=S,zt}var RD;function BX(){return RD||(RD=1,hb.exports=FX()),hb.exports}var $X=BX(),LD=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",zD=null,vb=null,i3=e=>{if(e===zD&&Array.isArray(vb))return vb;var t=[];return j.Children.forEach(e,n=>{Bn(n)||($X.isFragment(n)?t=t.concat(i3(n.props.children)):t.push(n))}),vb=t,zD=e,t};function s3(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(a=>LD(a)):r=[LD(t)],i3(e).forEach(a=>{var s=ad(a,"type.displayName")||ad(a,"type.name");s&&r.indexOf(s)!==-1&&n.push(a)}),n}var xb={},FD;function qX(){return FD||(FD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(xb)),xb}var gb,BD;function HX(){return BD||(BD=1,gb=qX().isPlainObject),gb}var UX=HX();const YX=si(UX);var $D,qD,HD,UD,YD;function VD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function GD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VD(Object(n),!0).forEach(function(r){VX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VX(e,t,n){return(t=GX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GX(e){var t=KX(e,"string");return typeof t=="symbol"?t:t+""}function KX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ih(){return ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ih.apply(null,arguments)}function $u(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var KD=(e,t,n,r,a)=>{var s=n-r,c;return c=or($D||($D=$u(["M ",",",""])),e,t),c+=or(qD||(qD=$u(["L ",",",""])),e+n,t),c+=or(HD||(HD=$u(["L ",",",""])),e+n-s/2,t+a),c+=or(UD||(UD=$u(["L ",",",""])),e+n-s/2-r,t+a),c+=or(YD||(YD=$u(["L ",","," Z"])),e,t),c},WX={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},QX=e=>{var t=ui(e,WX),{x:n,y:r,upperWidth:a,lowerWidth:s,height:c,className:u}=t,{animationEasing:f,animationDuration:m,animationBegin:h,isUpdateAnimationActive:v}=t,x=j.useRef(null),[b,S]=j.useState(-1),w=j.useRef(a),y=j.useRef(s),C=j.useRef(c),M=j.useRef(n),A=j.useRef(r),_=F1(e,"trapezoid-");if(j.useEffect(()=>{if(x.current&&x.current.getTotalLength)try{var X=x.current.getTotalLength();X&&S(X)}catch{}},[]),n!==+n||r!==+r||a!==+a||s!==+s||c!==+c||a===0&&s===0||c===0)return null;var E=st("recharts-trapezoid",u);if(!v)return j.createElement("g",null,j.createElement("path",ih({},ia(t),{className:E,d:KD(n,r,a,s,c)})));var T=w.current,P=y.current,O=C.current,L=M.current,R=A.current,B="0px ".concat(b===-1?1:b,"px"),D="".concat(b,"px 0px"),W=R5(["strokeDasharray"],m,f);return j.createElement(z1,{animationId:_,key:_,canBegin:b>0,duration:m,easing:f,isActive:v,begin:h},X=>{var Z=va(T,a,X),$=va(P,s,X),G=va(O,c,X),z=va(L,n,X),te=va(R,r,X);x.current&&(w.current=Z,y.current=$,C.current=G,M.current=z,A.current=te);var ve=X>0?{transition:W,strokeDasharray:D}:{strokeDasharray:B};return j.createElement("path",ih({},ia(t),{className:E,d:KD(z,te,Z,$,G),ref:x,style:GD(GD({},ve),t.style)}))})},XX=["option","shapeType","activeClassName"];function ZX(e,t){if(e==null)return{};var n,r,a=JX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function JX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function WD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function sh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WD(Object(n),!0).forEach(function(r){eZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eZ(e,t,n){return(t=tZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tZ(e){var t=rZ(e,"string");return typeof t=="symbol"?t:t+""}function rZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nZ(e,t){return sh(sh({},t),e)}function aZ(e,t){return e==="symbols"}function QD(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return j.createElement(B5,n);case"trapezoid":return j.createElement(QX,n);case"sector":return j.createElement(U5,n);case"symbols":if(aZ(t))return j.createElement(DT,n);break;case"curve":return j.createElement(R1,n);default:return null}}function iZ(e){return j.isValidElement(e)?e.props:e}function sZ(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,a=ZX(e,XX),s;if(j.isValidElement(t))s=j.cloneElement(t,sh(sh({},a),iZ(t)));else if(typeof t=="function")s=t(a,a.index);else if(YX(t)&&typeof t!="boolean"){var c=nZ(t,a);s=j.createElement(QD,{shapeType:n,elementProps:c})}else{var u=a;s=j.createElement(QD,{shapeType:n,elementProps:u})}return a.isActive?j.createElement(Ys,{className:r},s):s}var lZ=(e,t,n)=>{var r=kr();return(a,s)=>c=>{e?.(a,s,c),r(g4({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}},oZ=e=>{var t=kr();return(n,r)=>a=>{e?.(n,r,a),t(iK())}},cZ=(e,t,n)=>{var r=kr();return(a,s)=>c=>{e?.(a,s,c),r(sK({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}};function uZ(e){var{tooltipEntrySettings:t}=e,n=kr(),r=Xs(),a=j.useRef(null);return j.useLayoutEffect(()=>{r||(a.current===null?n(tK(t)):a.current!==t&&n(rK({prev:a.current,next:t})),a.current=t)},[t,n,r]),j.useLayoutEffect(()=>()=>{a.current&&(n(nK(a.current)),a.current=null)},[n]),null}function dZ(e){var{legendPayload:t}=e,n=kr(),r=nt(nr),a=j.useRef(null);return j.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(a.current===null?n(I9(t)):a.current!==t&&n(R9({prev:a.current,next:t})),a.current=t)},[n,r,t]),j.useLayoutEffect(()=>()=>{a.current&&(n(L9(a.current)),a.current=null)},[n]),null}var bb,fZ=()=>{var[e]=j.useState(()=>id("uid-"));return e},mZ=(bb=e1.useId)!==null&&bb!==void 0?bb:fZ;function pZ(e,t){var n=mZ();return t||(e?"".concat(e,"-").concat(n):n)}var hZ=j.createContext(void 0),vZ=e=>{var{id:t,type:n,children:r}=e,a=pZ("recharts-".concat(n),t);return j.createElement(hZ.Provider,{value:a},r(a))},xZ={cartesianItems:[],polarItems:[]},l3=jn({name:"graphicalItems",initialState:xZ,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:er()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,a=wa(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=r)},prepare:er()},removeCartesianGraphicalItem:{reducer(e,t){var n=wa(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:er()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:er()},removePolarGraphicalItem:{reducer(e,t){var n=wa(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:er()}}}),{addCartesianGraphicalItem:Gle,replaceCartesianGraphicalItem:Kle,removeCartesianGraphicalItem:Wle,addPolarGraphicalItem:gZ,removePolarGraphicalItem:bZ}=l3.actions,yZ=l3.reducer;function wZ(e){var t=kr();return j.useLayoutEffect(()=>(t(gZ(e)),()=>{t(bZ(e))}),[t,e]),null}var jZ=["key"],NZ=["onMouseEnter","onClick","onMouseLeave"],SZ=["id"],CZ=["id"];function XD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XD(Object(n),!0).forEach(function(r){AZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AZ(e,t,n){return(t=MZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MZ(e){var t=kZ(e,"string");return typeof t=="symbol"?t:t+""}function kZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gs(){return Gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gs.apply(null,arguments)}function pv(e,t){if(e==null)return{};var n,r,a=DZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function DZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function EZ(e){var t=j.useMemo(()=>s3(e.children,Vd),[e.children]),n=nt(r=>LX(r,e.id,t));return n==null?null:j.createElement(dZ,{legendPayload:n})}var _Z=j.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:a,strokeWidth:s,fill:c,name:u,hide:f,tooltipType:m,id:h}=e,v={dataDefinedOnItem:r.map(x=>x.tooltipPayload),getPosition:x=>{var b;return(b=r[Number(x)])===null||b===void 0?void 0:b.tooltipPosition},settings:{stroke:a,strokeWidth:s,fill:c,dataKey:t,nameKey:n,name:b5(u,t),hide:f,type:m,color:c,unit:"",graphicalItemId:h}};return j.createElement(uZ,{tooltipEntrySettings:v})}),OZ=(e,t)=>e>t?"start":e<t?"end":"middle",TZ=(e,t,n)=>Ln(typeof t=="function"?t(e):t,n,n*.8),PZ=(e,t,n)=>{var{top:r,left:a,width:s,height:c}=t,u=$5(s,c),f=a+Ln(e.cx,s,s/2),m=r+Ln(e.cy,c,c/2),h=Ln(e.innerRadius,u,0),v=TZ(n,e.outerRadius,u),x=e.maxRadius||Math.sqrt(s*s+c*c)/2;return{cx:f,cy:m,innerRadius:h,outerRadius:v,maxRadius:x}},IZ=(e,t)=>{var n=bn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},RZ=(e,t)=>{if(j.isValidElement(e))return j.cloneElement(e,t);if(typeof e=="function")return e(t);var n=st("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,a=pv(t,jZ);return j.createElement(R1,Gs({},a,{type:"linear",className:n}))},LZ=(e,t,n)=>{if(j.isValidElement(e))return j.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),j.isValidElement(r)))return r;var a=st("recharts-pie-label-text",_X(e));return j.createElement(Ww,Gs({},t,{alignmentBaseline:"middle",className:a}),r)};function zZ(e){var{sectors:t,props:n,showLabels:r}=e,{label:a,labelLine:s,dataKey:c}=n;if(!r||!a||!t)return null;var u=oc(n),f=Qb(a),m=Qb(s),h=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,v=t.map((x,b)=>{var S=(x.startAngle+x.endAngle)/2,w=Nr(x.cx,x.cy,x.outerRadius+h,S),y=cr(cr(cr(cr({},u),x),{},{stroke:"none"},f),{},{index:b,textAnchor:OZ(w.x,x.cx)},w),C=cr(cr(cr(cr({},u),x),{},{fill:"none",stroke:x.fill},m),{},{index:b,points:[Nr(x.cx,x.cy,x.outerRadius,S),w],key:"line"});return j.createElement(Yd,{zIndex:ya.label,key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(b)},j.createElement(Ys,null,s&&RZ(s,C),LZ(a,y,ur(x,c))))});return j.createElement(Ys,{className:"recharts-pie-labels"},v)}function FZ(e){var{sectors:t,props:n,showLabels:r}=e,{label:a}=n;return typeof a=="object"&&a!=null&&"position"in a?j.createElement(wX,{label:a}):j.createElement(zZ,{sectors:t,props:n,showLabels:r})}function BZ(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:a,shape:s,id:c}=e,u=nt(gd),f=nt(T4),m=nt(YK),{onMouseEnter:h,onClick:v,onMouseLeave:x}=a,b=pv(a,NZ),S=lZ(h,a.dataKey,c),w=oZ(x),y=cZ(v,a.dataKey,c);return t==null||t.length===0?null:j.createElement(j.Fragment,null,t.map((C,M)=>{if(C?.startAngle===0&&C?.endAngle===0&&t.length!==1)return null;var A=m==null||m===c,_=String(M)===u&&(f==null||a.dataKey===f)&&A,E=u?r:null,T=n&&_?n:E,P=cr(cr({},C),{},{stroke:C.stroke,tabIndex:-1,[w5]:M,[j5]:c});return j.createElement(Ys,Gs({key:"sector-".concat(C?.startAngle,"-").concat(C?.endAngle,"-").concat(C.midAngle,"-").concat(M),tabIndex:-1,className:"recharts-pie-sector"},_$(b,C,M),{onMouseEnter:S(C,M),onMouseLeave:w(C,M),onClick:y(C,M)}),j.createElement(sZ,Gs({option:s??T,index:M,shapeType:"sector",isActive:_},P)))}))}function $Z(e){var t,{pieSettings:n,displayedData:r,cells:a,offset:s}=e,{cornerRadius:c,startAngle:u,endAngle:f,dataKey:m,nameKey:h,tooltipType:v}=n,x=Math.abs(n.minAngle),b=IZ(u,f),S=Math.abs(b),w=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,y=r.filter(T=>ur(T,m,0)!==0).length,C=(S>=360?y:y-1)*w,M=S-y*x-C,A=r.reduce((T,P)=>{var O=ur(P,m,0);return T+(Qe(O)?O:0)},0),_;if(A>0){var E;_=r.map((T,P)=>{var O=ur(T,m,0),L=ur(T,h,P),R=PZ(n,s,T),B=(Qe(O)?O:0)/A,D,W=cr(cr({},T),a&&a[P]&&a[P].props);P?D=E.endAngle+bn(b)*w*(O!==0?1:0):D=u;var X=D+bn(b)*((O!==0?x:0)+B*M),Z=(D+X)/2,$=(R.innerRadius+R.outerRadius)/2,G=[{name:L,value:O,payload:W,dataKey:m,type:v,graphicalItemId:n.id}],z=Nr(R.cx,R.cy,$,Z);return E=cr(cr(cr(cr({},n.presentationProps),{},{percent:B,cornerRadius:typeof c=="string"?parseFloat(c):c,name:L,tooltipPayload:G,midAngle:Z,middleRadius:$,tooltipPosition:z},W),R),{},{value:O,dataKey:m,startAngle:D,endAngle:X,payload:W,paddingAngle:bn(b)*w}),E})}return _}function qZ(e){var{showLabels:t,sectors:n,children:r}=e,a=j.useMemo(()=>!t||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,t]);return j.createElement(gX,{value:t?a:void 0},r)}function HZ(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:a,isAnimationActive:s,animationBegin:c,animationDuration:u,animationEasing:f,activeShape:m,inactiveShape:h,onAnimationStart:v,onAnimationEnd:x}=t,b=F1(t,"recharts-pie-"),S=n.current,[w,y]=j.useState(!1),C=j.useCallback(()=>{typeof x=="function"&&x(),y(!1)},[x]),M=j.useCallback(()=>{typeof v=="function"&&v(),y(!0)},[v]);return j.createElement(qZ,{showLabels:!w,sectors:a},j.createElement(z1,{animationId:b,begin:c,duration:u,isActive:s,easing:f,onAnimationStart:M,onAnimationEnd:C,key:b},A=>{var _,E=[],T=a&&a[0],P=(_=T?.startAngle)!==null&&_!==void 0?_:0;return a?.forEach((O,L)=>{var R=S&&S[L],B=L>0?ad(O,"paddingAngle",0):0;if(R){var D=va(R.endAngle-R.startAngle,O.endAngle-O.startAngle,A),W=cr(cr({},O),{},{startAngle:P+B,endAngle:P+D+B});E.push(W),P=W.endAngle}else{var{endAngle:X,startAngle:Z}=O,$=va(0,X-Z,A),G=cr(cr({},O),{},{startAngle:P+B,endAngle:P+$+B});E.push(G),P=G.endAngle}}),n.current=E,j.createElement(Ys,null,j.createElement(BZ,{sectors:E,activeShape:m,inactiveShape:h,allOtherPieProps:t,shape:t.shape,id:r}))}),j.createElement(FZ,{showLabels:!w,sectors:a,props:t}),t.children)}var UZ={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:ya.area};function YZ(e){var{id:t}=e,n=pv(e,SZ),{hide:r,className:a,rootTabIndex:s}=e,c=j.useMemo(()=>s3(e.children,Vd),[e.children]),u=nt(h=>zX(h,t,c)),f=j.useRef(null),m=st("recharts-pie",a);return r||u==null?(f.current=null,j.createElement(Ys,{tabIndex:s,className:m})):j.createElement(Yd,{zIndex:e.zIndex},j.createElement(_Z,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:u,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),j.createElement(Ys,{tabIndex:s,className:m},j.createElement(HZ,{props:cr(cr({},n),{},{sectors:u}),previousSectorsRef:f,id:t})))}function Zw(e){var t=ui(e,UZ),{id:n}=t,r=pv(t,CZ),a=oc(r);return j.createElement(vZ,{id:n,type:"pie"},s=>j.createElement(j.Fragment,null,j.createElement(wZ,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),j.createElement(EZ,Gs({},r,{id:s})),j.createElement(YZ,Gs({},r,{id:s}))))}Zw.displayName="Pie";function ZD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function JD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZD(Object(n),!0).forEach(function(r){VZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VZ(e,t,n){return(t=GZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GZ(e){var t=KZ(e,"string");return typeof t=="symbol"?t:t+""}function KZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WZ={xAxis:{},yAxis:{},zAxis:{}},o3=jn({name:"cartesianAxis",initialState:WZ,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:er()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:er()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:er()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:er()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:er()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:er()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:er()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:er()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:er()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,a=e.yAxis[n];if(a){var s,c=a.widthHistory||[];if(c.length===3&&c[0]===c[2]&&r===c[1]&&r!==a.width&&Math.abs(r-((s=c[0])!==null&&s!==void 0?s:0))<=1)return;var u=[...c,r].slice(-3);e.yAxis[n]=JD(JD({},a),{},{width:r,widthHistory:u})}}}}),{addXAxis:Qle,replaceXAxis:Xle,removeXAxis:Zle,addYAxis:Jle,replaceYAxis:eoe,removeYAxis:toe,addZAxis:roe,replaceZAxis:noe,removeZAxis:aoe,updateYAxisWidth:ioe}=o3.actions,QZ=o3.reducer,XZ=ne([Ir],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),ZZ=ne([XZ,Zi,Ji],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),JZ=()=>nt(ZZ),eJ=e=>{var{chartData:t}=e,n=kr(),r=Xs();return j.useEffect(()=>r?()=>{}:(n(oD(t)),()=>{n(oD(void 0))}),[t,n,r]),null},eE={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},c3=jn({name:"brush",initialState:eE,reducers:{setBrushSettings(e,t){return t.payload==null?eE:t.payload}}}),{setBrushSettings:soe}=c3.actions,tJ=c3.reducer,rJ={dots:[],areas:[],lines:[]},u3=jn({name:"referenceElements",initialState:rJ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=wa(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=wa(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=wa(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:loe,removeDot:ooe,addArea:coe,removeArea:uoe,addLine:doe,removeLine:foe}=u3.actions,nJ=u3.reducer,aJ=j.createContext(void 0),iJ=e=>{var{children:t}=e,[n]=j.useState("".concat(id("recharts"),"-clip")),r=JZ();if(r==null)return null;var{x:a,y:s,width:c,height:u}=r;return j.createElement(aJ.Provider,{value:n},j.createElement("defs",null,j.createElement("clipPath",{id:n},j.createElement("rect",{x:a,y:s,height:u,width:c}))),t)},sJ={},d3=jn({name:"errorBars",initialState:sJ,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:a}=t.payload;e[n]&&(e[n]=e[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:moe,replaceErrorBar:poe,removeErrorBar:hoe}=d3.actions,lJ=d3.reducer,yb={exports:{}},wb={};var tE;function oJ(){if(tE)return wb;tE=1;var e=jc();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,a=e.useRef,s=e.useEffect,c=e.useMemo,u=e.useDebugValue;return wb.useSyncExternalStoreWithSelector=function(f,m,h,v,x){var b=a(null);if(b.current===null){var S={hasValue:!1,value:null};b.current=S}else S=b.current;b=c(function(){function y(E){if(!C){if(C=!0,M=E,E=v(E),x!==void 0&&S.hasValue){var T=S.value;if(x(T,E))return A=T}return A=E}if(T=A,n(M,E))return T;var P=v(E);return x!==void 0&&x(T,P)?(M=E,T):(M=E,A=P)}var C=!1,M,A,_=h===void 0?null:h;return[function(){return y(m())},_===null?void 0:function(){return y(_())}]},[m,h,v,x]);var w=r(f,b[0],b[1]);return s(function(){S.hasValue=!0,S.value=w},[w]),u(w),w},wb}var rE;function cJ(){return rE||(rE=1,yb.exports=oJ()),yb.exports}cJ();function uJ(e){e()}function dJ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){uJ(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!r||e===null||(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var nE={notify(){},get:()=>[]};function fJ(e,t){let n,r=nE,a=0,s=!1;function c(w){h();const y=r.subscribe(w);let C=!1;return()=>{C||(C=!0,y(),v())}}function u(){r.notify()}function f(){S.onStateChange&&S.onStateChange()}function m(){return s}function h(){a++,n||(n=e.subscribe(f),r=dJ())}function v(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=nE)}function x(){s||(s=!0,h())}function b(){s&&(s=!1,v())}const S={addNestedSub:c,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:m,trySubscribe:x,tryUnsubscribe:b,getListeners:()=>r};return S}var mJ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pJ=mJ(),hJ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",vJ=hJ(),xJ=()=>pJ||vJ?j.useLayoutEffect:j.useEffect,gJ=xJ();function aE(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function bJ(e,t){if(aE(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!aE(e[n[a]],t[n[a]]))return!1;return!0}var yJ=Symbol.for("react-redux-context"),wJ=typeof globalThis<"u"?globalThis:{};function jJ(){if(!j.createContext)return{};const e=wJ[yJ]??=new Map;let t=e.get(j.createContext);return t||(t=j.createContext(null),e.set(j.createContext,t)),t}var NJ=jJ();function SJ(e){const{children:t,context:n,serverState:r,store:a}=e,s=j.useMemo(()=>{const f=fJ(a);return{store:a,subscription:f,getServerState:r?()=>r:void 0}},[a,r]),c=j.useMemo(()=>a.getState(),[a]);gJ(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,c]);const u=n||NJ;return j.createElement(u.Provider,{value:s},t)}var CJ=SJ,AJ=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function MJ(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function kJ(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(AJ.has(r)){if(e[r]==null&&t[r]==null)continue;if(!bJ(e[r],t[r]))return!1}else if(!MJ(e[r],t[r]))return!1;return!0}var DJ=(e,t)=>t,Jw=ne([DJ,nr,UP,Lr,D4,ts,oW,Ir],hW),ej=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},f3=sa("mouseClick"),m3=Ed();m3.startListening({actionCreator:f3,effect:(e,t)=>{var n=e.payload,r=Jw(t.getState(),ej(n));r?.activeIndex!=null&&t.dispatch(lK({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var By=sa("mouseMove"),p3=Ed(),km=null;p3.startListening({actionCreator:By,effect:(e,t)=>{var n=e.payload;km!==null&&cancelAnimationFrame(km);var r=ej(n);km=requestAnimationFrame(()=>{var a=t.getState(),s=Fw(a,a.tooltip.settings.shared);if(s==="axis"){var c=Jw(a,r);c?.activeIndex!=null?t.dispatch(y4({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(b4())}km=null})}});function EJ(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var iE={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},h3=jn({name:"rootProps",initialState:iE,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:iE.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),_J=h3.reducer,{updateOptions:OJ}=h3.actions,TJ=null,PJ={updatePolarOptions:(e,t)=>t.payload},v3=jn({name:"polarOptions",initialState:TJ,reducers:PJ}),{updatePolarOptions:IJ}=v3.actions,RJ=v3.reducer,x3=sa("keyDown"),g3=sa("focus"),tj=Ed();tj.startListening({actionCreator:x3,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var c=Bw(a,Rc(n),$d(n),Hd(n)),u=c==null?-1:Number(c);if(!(!Number.isFinite(u)||u<0)){var f=ts(n);if(s==="Enter"){var m=rh(n,"axis","hover",String(a.index));t.dispatch(Ry({active:!a.active,activeIndex:a.index,activeCoordinate:m}));return}var h=XG(n),v=h==="left-to-right"?1:-1,x=s==="ArrowRight"?1:-1,b=u+x*v;if(!(f==null||b>=f.length||b<0)){var S=rh(n,"axis","hover",String(b));t.dispatch(Ry({active:!0,activeIndex:b.toString(),activeCoordinate:S}))}}}}}});tj.startListening({actionCreator:g3,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var s="0",c=rh(n,"axis","hover",String(s));t.dispatch(Ry({active:!0,activeIndex:s,activeCoordinate:c}))}}}});var ra=sa("externalEvent"),b3=Ed(),jb=new Map;b3.startListening({actionCreator:ra,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var a=r.type,s=jb.get(a);s!==void 0&&cancelAnimationFrame(s);var c=requestAnimationFrame(()=>{try{var u=t.getState(),f={activeCoordinate:GK(u),activeDataKey:T4(u),activeIndex:gd(u),activeLabel:O4(u),activeTooltipIndex:gd(u),isTooltipActive:KK(u)};n(f,r)}finally{jb.delete(a)}});jb.set(a,c)}}});var LJ=ne([Pc],e=>e.tooltipItemPayloads),zJ=ne([LJ,(e,t)=>t,(e,t,n)=>n],(e,t,n)=>{if(t!=null){var r=e.find(s=>s.settings.graphicalItemId===n);if(r!=null){var{getPosition:a}=r;if(a!=null)return a(t)}}}),y3=sa("touchMove"),w3=Ed();w3.startListening({actionCreator:y3,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),a=Fw(r,r.tooltip.settings.shared);if(a==="axis"){var s=n.touches[0];if(s==null)return;var c=Jw(r,ej({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));c?.activeIndex!=null&&t.dispatch(y4({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(a==="item"){var u,f=n.touches[0];if(document.elementFromPoint==null||f==null)return;var m=document.elementFromPoint(f.clientX,f.clientY);if(!m||!m.getAttribute)return;var h=m.getAttribute(w5),v=(u=m.getAttribute(j5))!==null&&u!==void 0?u:void 0,x=Ic(r).find(w=>w.id===v);if(h==null||x==null||v==null)return;var{dataKey:b}=x,S=zJ(r,h,v);t.dispatch(g4({activeDataKey:b,activeIndex:h,activeCoordinate:S,activeGraphicalItemId:v}))}}}});var FJ=UT({brush:tJ,cartesianAxis:QZ,chartData:GW,errorBars:lJ,graphicalItems:yZ,layout:EH,legend:z9,options:qW,polarAxis:EX,polarOptions:RJ,referenceElements:nJ,rootProps:_J,tooltip:oK,zIndex:DW}),BJ=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return tH({reducer:FJ,preloadedState:t,middleware:r=>{var a;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([m3.middleware,p3.middleware,tj.middleware,b3.middleware,w3.middleware])},enhancers:r=>{var a=r;return typeof r=="function"&&(a=r()),a.concat(i5({type:"raf"}))},devTools:{serialize:{replacer:EJ},name:"recharts-".concat(n)}})};function $J(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,a=Xs(),s=j.useRef(null);if(a)return n;s.current==null&&(s.current=BJ(t,r));var c=C1;return j.createElement(CJ,{context:c,store:s.current},n)}function qJ(e){var{layout:t,margin:n}=e,r=kr(),a=Xs();return j.useEffect(()=>{a||(r(MH(t)),r(AH(n)))},[r,a,t,n]),null}var HJ=j.memo(qJ,kJ);function UJ(e){var t=kr();return j.useEffect(()=>{t(OJ(e))},[t,e]),null}function sE(e){var{zIndex:t,isPanorama:n}=e,r=j.useRef(null),a=kr();return j.useLayoutEffect(()=>(r.current&&a(MW({zIndex:t,element:r.current,isPanorama:n})),()=>{a(kW({zIndex:t,isPanorama:n}))}),[a,t,n]),j.createElement("g",{tabIndex:-1,ref:r})}function lE(e){var{children:t,isPanorama:n}=e,r=nt(xW);if(!r||r.length===0)return t;var a=r.filter(c=>c<0),s=r.filter(c=>c>0);return j.createElement(j.Fragment,null,a.map(c=>j.createElement(sE,{key:c,zIndex:c,isPanorama:n})),t,s.map(c=>j.createElement(sE,{key:c,zIndex:c,isPanorama:n})))}var YJ=["children"];function VJ(e,t){if(e==null)return{};var n,r,a=GJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function GJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function lh(){return lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lh.apply(null,arguments)}var KJ={width:"100%",height:"100%",display:"block"},WJ=j.forwardRef((e,t)=>{var n=y9(),r=w9(),a=I5();if(!Vs(n)||!Vs(r))return null;var{children:s,otherAttributes:c,title:u,desc:f}=e,m,h;return c!=null&&(typeof c.tabIndex=="number"?m=c.tabIndex:m=a?0:void 0,typeof c.role=="string"?h=c.role:h=a?"application":void 0),j.createElement(cT,lh({},c,{title:u,desc:f,role:h,tabIndex:m,width:n,height:r,style:KJ,ref:t}),s)}),QJ=e=>{var{children:t}=e,n=nt(Yh);if(!n)return null;var{width:r,height:a,y:s,x:c}=n;return j.createElement(cT,{width:r,height:a,x:c,y:s},t)},oE=j.forwardRef((e,t)=>{var{children:n}=e,r=VJ(e,YJ),a=Xs();return a?j.createElement(QJ,null,j.createElement(lE,{isPanorama:!0},n)):j.createElement(WJ,lh({ref:t},r),j.createElement(lE,{isPanorama:!1},n))});function XJ(){var e=kr(),[t,n]=j.useState(null),r=nt(UH);return j.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;Ft(s)&&s!==r&&e(DH(s))}},[t,e,r]),n}function cE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ZJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cE(Object(n),!0).forEach(function(r){JJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JJ(e,t,n){return(t=eee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eee(e){var t=tee(e,"string");return typeof t=="symbol"?t:t+""}function tee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bs(){return Bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bs.apply(null,arguments)}var ree=()=>(rQ(),null);function oh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var nee=j.forwardRef((e,t)=>{var n,r,a=j.useRef(null),[s,c]=j.useState({containerWidth:oh((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:oh((r=e.style)===null||r===void 0?void 0:r.height)}),u=j.useCallback((m,h)=>{c(v=>{var x=Math.round(m),b=Math.round(h);return v.containerWidth===x&&v.containerHeight===b?v:{containerWidth:x,containerHeight:b}})},[]),f=j.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null&&typeof ResizeObserver<"u"){var{width:h,height:v}=m.getBoundingClientRect();u(h,v);var x=S=>{var w=S[0];if(w!=null){var{width:y,height:C}=w.contentRect;u(y,C)}},b=new ResizeObserver(x);b.observe(m),a.current=b}},[t,u]);return j.useEffect(()=>()=>{var m=a.current;m?.disconnect()},[u]),j.createElement(j.Fragment,null,j.createElement(Od,{width:s.containerWidth,height:s.containerHeight}),j.createElement("div",Bs({ref:f},e)))}),aee=j.forwardRef((e,t)=>{var{width:n,height:r}=e,[a,s]=j.useState({containerWidth:oh(n),containerHeight:oh(r)}),c=j.useCallback((f,m)=>{s(h=>{var v=Math.round(f),x=Math.round(m);return h.containerWidth===v&&h.containerHeight===x?h:{containerWidth:v,containerHeight:x}})},[]),u=j.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:m,height:h}=f.getBoundingClientRect();c(m,h)}},[t,c]);return j.createElement(j.Fragment,null,j.createElement(Od,{width:a.containerWidth,height:a.containerHeight}),j.createElement("div",Bs({ref:u},e)))}),iee=j.forwardRef((e,t)=>{var{width:n,height:r}=e;return j.createElement(j.Fragment,null,j.createElement(Od,{width:n,height:r}),j.createElement("div",Bs({ref:t},e)))}),see=j.forwardRef((e,t)=>{var{width:n,height:r}=e;return typeof n=="string"||typeof r=="string"?j.createElement(aee,Bs({},e,{ref:t})):typeof n=="number"&&typeof r=="number"?j.createElement(iee,Bs({},e,{width:n,height:r,ref:t})):j.createElement(j.Fragment,null,j.createElement(Od,{width:n,height:r}),j.createElement("div",Bs({ref:t},e)))});function lee(e){return e?nee:see}var oee=j.forwardRef((e,t)=>{var{children:n,className:r,height:a,onClick:s,onContextMenu:c,onDoubleClick:u,onMouseDown:f,onMouseEnter:m,onMouseLeave:h,onMouseMove:v,onMouseUp:x,onTouchEnd:b,onTouchMove:S,onTouchStart:w,style:y,width:C,responsive:M,dispatchTouchEvents:A=!0}=e,_=j.useRef(null),E=kr(),[T,P]=j.useState(null),[O,L]=j.useState(null),R=XJ(),B=O1(),D=B?.width>0?B.width:C,W=B?.height>0?B.height:a,X=j.useCallback(K=>{R(K),typeof t=="function"&&t(K),P(K),L(K),K!=null&&(_.current=K)},[R,t,P,L]),Z=j.useCallback(K=>{E(f3(K)),E(ra({handler:s,reactEvent:K}))},[E,s]),$=j.useCallback(K=>{E(By(K)),E(ra({handler:m,reactEvent:K}))},[E,m]),G=j.useCallback(K=>{E(b4()),E(ra({handler:h,reactEvent:K}))},[E,h]),z=j.useCallback(K=>{E(By(K)),E(ra({handler:v,reactEvent:K}))},[E,v]),te=j.useCallback(()=>{E(g3())},[E]),ve=j.useCallback(K=>{E(x3(K.key))},[E]),F=j.useCallback(K=>{E(ra({handler:c,reactEvent:K}))},[E,c]),ae=j.useCallback(K=>{E(ra({handler:u,reactEvent:K}))},[E,u]),he=j.useCallback(K=>{E(ra({handler:f,reactEvent:K}))},[E,f]),ye=j.useCallback(K=>{E(ra({handler:x,reactEvent:K}))},[E,x]),je=j.useCallback(K=>{E(ra({handler:w,reactEvent:K}))},[E,w]),Ie=j.useCallback(K=>{A&&E(y3(K)),E(ra({handler:S,reactEvent:K}))},[E,A,S]),me=j.useCallback(K=>{E(ra({handler:b,reactEvent:K}))},[E,b]),ge=lee(M);return j.createElement(B4.Provider,{value:T},j.createElement(OB.Provider,{value:O},j.createElement(ge,{width:D??y?.width,height:W??y?.height,className:st("recharts-wrapper",r),style:ZJ({position:"relative",cursor:"default",width:D,height:W},y),onClick:Z,onContextMenu:F,onDoubleClick:ae,onFocus:te,onKeyDown:ve,onMouseDown:he,onMouseEnter:$,onMouseLeave:G,onMouseMove:z,onMouseUp:ye,onTouchEnd:me,onTouchMove:Ie,onTouchStart:je,ref:X},j.createElement(ree,null),n)))}),cee=["width","height","responsive","children","className","style","compact","title","desc"];function uee(e,t){if(e==null)return{};var n,r,a=dee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function dee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var fee=j.forwardRef((e,t)=>{var{width:n,height:r,responsive:a,children:s,className:c,style:u,compact:f,title:m,desc:h}=e,v=uee(e,cee),x=oc(v);return f?j.createElement(j.Fragment,null,j.createElement(Od,{width:n,height:r}),j.createElement(oE,{otherAttributes:x,title:m,desc:h},s)):j.createElement(oee,{className:c,style:u,width:n,height:r,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},j.createElement(oE,{otherAttributes:x,title:m,desc:h,ref:t},j.createElement(iJ,null,s)))});function mee(e){var t=kr();return j.useEffect(()=>{t(IJ(e))},[t,e]),null}var pee=["layout"];function $y(){return $y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$y.apply(null,arguments)}function hee(e,t){if(e==null)return{};var n,r,a=vee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function vee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var xee={top:5,right:5,bottom:5,left:5},j3={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:xee,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},gee=j.forwardRef(function(t,n){var r,a=ui(t.categoricalChartProps,j3),{layout:s}=a,c=hee(a,pee),{chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:h}=t,v={chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:h,eventEmitter:void 0};return j.createElement($J,{preloadedState:{options:v},reduxStoreName:(r=a.id)!==null&&r!==void 0?r:u},j.createElement(eJ,{chartData:a.data}),j.createElement(HJ,{layout:s,margin:a.margin}),j.createElement(UJ,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),j.createElement(mee,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),j.createElement(fee,$y({},c,{ref:n})))});function uE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function dE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uE(Object(n),!0).forEach(function(r){bee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bee(e,t,n){return(t=yee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yee(e){var t=wee(e,"string");return typeof t=="symbol"?t:t+""}function wee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jee=["item"],Nee=dE(dE({},j3),{},{layout:"centric",startAngle:0,endAngle:360}),N3=j.forwardRef((e,t)=>{var n=ui(e,Nee);return j.createElement(gee,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:jee,tooltipPayloadSearcher:BW,categoricalChartProps:n,ref:t})});function Q(e){return e<0?`-${Q(-e)}`:e>=1e7?`${(e/1e7).toFixed(2)} Cr`:e>=1e5?`${(e/1e5).toFixed(2)} L`:e>=1e3?`${(e/1e3).toFixed(0)}K`:`${e.toLocaleString("en-IN")}`}const S3="cf_market_data",See=300*1e3,fE=300*1e3;function Cee(){try{const e=sessionStorage.getItem(S3);if(!e)return null;const t=JSON.parse(e);return Date.now()-t._ts>See?null:t}catch{return null}}function Aee(e){try{sessionStorage.setItem(S3,JSON.stringify({...e,_ts:Date.now()}))}catch{}}function Mee(){const[e,t]=j.useState(()=>Cee()),[n,r]=j.useState([]),a=j.useRef(null),[s,c]=j.useState(!1),[u,f]=j.useState(!1);j.useEffect(()=>{let v=!1;async function x(){try{const S=await Jz();if(!v&&S){const w={...S,_ts:Date.now()};t(w),Aee(w)}}catch{}}x();const b=setInterval(x,fE);return()=>{v=!0,clearInterval(b)}},[]),j.useEffect(()=>{let v=!1;async function x(){try{const S=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum&vs_currencies=inr&include_24hr_change=true");if(!v&&S.ok){const w=await S.json(),y=[];w.bitcoin&&y.push({name:"BTC",price:w.bitcoin.inr,changePct:w.bitcoin.inr_24h_change||0,type:"crypto"}),w.ethereum&&y.push({name:"ETH",price:w.ethereum.inr,changePct:w.ethereum.inr_24h_change||0,type:"crypto"}),r(y)}}catch{}}x();const b=setInterval(x,fE);return()=>{v=!0,clearInterval(b)}},[]);const m=[];if(e?.indices&&m.push(...e.indices),e?.metals&&m.push(...e.metals),n.length>0&&m.push(...n),j.useEffect(()=>{if(!a.current)return;const v=a.current,x=v.parentElement;c(v.scrollWidth>x.clientWidth)},[m.length]),m.length===0)return null;const h=m.length*3;return l.jsxs("div",{className:"bg-[var(--bg-card)]/80 backdrop-blur-sm border-b border-[var(--border-light)] overflow-hidden",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),onTouchStart:()=>f(!0),onTouchEnd:()=>f(!1),children:[l.jsx("div",{className:"overflow-hidden",children:l.jsxs("div",{ref:a,className:"flex items-stretch w-max",style:s?{animation:`ticker-scroll ${h}s linear infinite`,animationPlayState:u?"paused":"running"}:{margin:"0 auto"},children:[m.map((v,x)=>l.jsx(mE,{item:v},v.name+x)),s&&m.map((v,x)=>l.jsx(mE,{item:v},"dup-"+v.name+x))]})}),l.jsx("style",{children:`
        @keyframes ticker-scroll {
          0% { transform: translateX(0); }
          100% { transform: translateX(-50%); }
        }
      `})]})}function mE({item:e}){const t=e.changePct>=0,n=t?l.jsx(sc,{size:10}):l.jsx(kh,{size:10}),r=t?"text-emerald-400":"text-[var(--accent-rose)]",a=s=>s>=1e5?`${(s/1e5).toFixed(2)}L`:s>=1e3?`${s.toLocaleString("en-IN",{maximumFractionDigits:0})}`:`${s.toLocaleString("en-IN",{maximumFractionDigits:2})}`;return l.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 border-r border-[var(--border-light)] last:border-0 shrink-0",children:[l.jsx("span",{className:"text-[10px] font-semibold text-[var(--text-dim)] uppercase whitespace-nowrap",children:e.name}),l.jsx("span",{className:"text-[11px] font-bold text-[var(--text-primary)] tabular-nums whitespace-nowrap",children:e.unit?`${a(e.price)}`:a(e.price)}),e.changePct!==void 0&&e.changePct!==null&&l.jsxs("span",{className:`flex items-center gap-0.5 text-[10px] font-bold tabular-nums ${r}`,children:[n,t?"+":"",e.changePct.toFixed(2),"%"]})]})}function kee(){const{selectedMember:e}=Yr(),{mfPortfolios:t,mfHoldings:n,insurancePolicies:r,goalList:a,reminderList:s}=pt(),c=(x,b)=>{const S=x||[];return e==="all"?S:S.filter(w=>w[b]===e)},u=j.useMemo(()=>{let x=0,b=0,S=0;return c((t||[]).filter(C=>C.status!=="Inactive"),"ownerId").forEach(C=>{const M=(n||[]).filter(E=>E.portfolioId===C.portfolioId&&E.units>0),A=M.reduce((E,T)=>E+T.currentValue,0),_=(C.rebalanceThreshold||.05)*100;M.forEach(E=>{if(E.athNav>0&&E.belowATHPct>=10?b++:E.athNav>0&&E.belowATHPct>=5&&x++,E.targetAllocationPct>0&&A>0){const T=E.currentValue/A*100;Math.abs(T-E.targetAllocationPct)>_&&S++}})}),{buyOppCount:x+b,buyCount:x,strongBuyCount:b,rebalanceCount:S}},[e,t,n]),f=j.useMemo(()=>{const x=[],b=c((r||[]).filter(A=>A.status==="Active"),"memberId");b.some(A=>A.policyType==="Term Life")||x.push({type:"critical",title:"Missing Term Life Insurance",badge:"Add Policy",navigateTo:"/insurance"});const w=b.filter(A=>A.policyType==="Health").reduce((A,_)=>A+_.sumAssured,0);return w===0?x.push({type:"critical",title:"No Health Insurance",badge:"Add Policy",navigateTo:"/insurance"}):w<5e5&&x.push({type:"warning",title:"Inadequate Health Insurance",badge:Q(w),navigateTo:"/insurance"}),c((a||[]).filter(A=>A.isActive!==!1&&A.goalType==="Emergency Fund"),"familyMemberId").forEach(A=>{const _=A.targetAmount>0?A.currentValue/A.targetAmount*100:0;_<100&&x.push({type:_>=75?"info":"warning",title:`Emergency Fund at ${_.toFixed(0)}%`,badge:Q(A.targetAmount-A.currentValue)+" left",navigateTo:"/goals"})}),c((s||[]).filter(A=>A.isActive!==!1),"familyMemberId").filter(A=>new Date(A.dueDate)<new Date).forEach(A=>{const _=Math.ceil((new Date-new Date(A.dueDate))/864e5);x.push({type:"critical",title:A.title,badge:`${_}d overdue`,navigateTo:"/reminders"})}),c((a||[]).filter(A=>A.isActive!==!1&&A.status==="Needs Attention"),"familyMemberId").forEach(A=>{x.push({type:"warning",title:`${A.goalName} needs attention`,badge:A.priority,navigateTo:"/goals"})}),x},[e,r,a,s]),m=j.useMemo(()=>{const x=c((s||[]).filter(S=>S.isActive!==!1&&S.status!=="Completed"),"familyMemberId"),b=new Date;return x.map(S=>{const w=new Date(S.dueDate)-b,y=Math.ceil(w/(1440*60*1e3)),C=new Date(S.dueDate).toLocaleDateString("en-IN",{day:"2-digit",month:"short"});return{...S,days:y,dateStr:C}}).filter(S=>S.days>=0&&S.days<=30).sort((S,w)=>S.days-w.days).slice(0,5)},[e,s]),h=f.length+u.buyOppCount+u.rebalanceCount+m.length,v=f.filter(x=>x.type==="critical").length;return{criticalAlerts:f,investmentSignals:u,upcomingReminders:m,totalCount:h,criticalCount:v}}function pE(e){return e>=20?"bg-rose-500/20 text-[var(--accent-rose)]":e>=10?"bg-orange-500/20 text-[var(--accent-orange)]":e>=5?"bg-amber-500/20 text-[var(--accent-amber)]":"bg-slate-500/20 text-[var(--text-muted)]"}function hE(e){return e>=10?{label:"Strong Buy",cls:"bg-emerald-500/20 text-emerald-400 ring-1 ring-emerald-500/30"}:e>=5?{label:"Buy",cls:"bg-blue-500/20 text-blue-400"}:null}function C3(){const{mfHoldings:e,mfPortfolios:t}=pt(),n=j.useMemo(()=>t.filter(a=>a.status!=="Inactive").map(a=>{const s=e.filter(f=>f.portfolioId===a.portfolioId&&f.units>0),c=s.reduce((f,m)=>f+m.currentValue,0),u=s.filter(f=>f.athNav>0&&f.belowATHPct>=1).sort((f,m)=>m.belowATHPct-f.belowATHPct).map(f=>({...f,currentPct:c>0?f.currentValue/c*100:0}));return{...a,totalValue:c,opportunities:u}}).filter(a=>a.opportunities.length>0),[t,e]);return n.reduce((a,s)=>a+s.opportunities.length,0)===0?l.jsxs("div",{className:"py-8 text-center",children:[l.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No buy opportunities right now"}),l.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"All funds are near their all-time highs"})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] px-1",children:"Funds below their All-Time High NAV. Higher discount = better opportunity."}),n.map((a,s)=>l.jsxs("div",{className:"border border-[var(--border-light)] border-l-2 border-l-emerald-500/50 rounded-lg overflow-hidden",children:[l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2.5 bg-[var(--bg-inset)]",children:[l.jsx("span",{className:"text-xs font-bold text-emerald-400 bg-emerald-500/15 w-5 h-5 rounded flex items-center justify-center",children:s+1}),l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:a.portfolioName}),l.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:a.ownerName}),l.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-emerald-500/15 text-emerald-400",children:[a.opportunities.length," funds"]})]}),l.jsx("div",{className:"hidden sm:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),l.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Signal"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Below ATH"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"ATH NAV"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Current"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Value"})]})}),l.jsx("tbody",{children:a.opportunities.map(c=>{const u=hE(c.belowATHPct);return l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[l.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[200px] truncate",children:c.fundName}),l.jsx("td",{className:"py-2 px-2 text-center",children:u?l.jsx("span",{className:`inline-block text-[10px] font-bold px-2 py-0.5 rounded-full whitespace-nowrap ${u.cls}`,children:u.label}):l.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:"Watch"})}),l.jsx("td",{className:"py-2 px-2 text-right",children:l.jsxs("span",{className:`inline-block text-xs font-semibold px-1.5 py-0.5 rounded-full ${pE(c.belowATHPct)}`,children:["",c.belowATHPct.toFixed(1),"%"]})}),l.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:["",c.athNav.toFixed(2)]}),l.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:["",c.currentNav.toFixed(2)]}),l.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:Q(c.currentValue)})]},c.holdingId)})})]})}),l.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:a.opportunities.map(c=>{const u=hE(c.belowATHPct);return l.jsxs("div",{className:"px-3 py-2.5",children:[l.jsxs("div",{className:"flex items-start justify-between mb-1",children:[l.jsx("p",{className:"text-xs text-[var(--text-primary)] leading-tight flex-1 mr-2",children:c.fundName}),l.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[u&&l.jsx("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded-full ${u.cls}`,children:u.label}),l.jsxs("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${pE(c.belowATHPct)}`,children:["",c.belowATHPct.toFixed(1),"%"]})]})]}),l.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)]",children:[l.jsxs("span",{children:["ATH ",c.athNav.toFixed(2),"  ",c.currentNav.toFixed(2)]}),l.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:Q(c.currentValue)})]})]},c.holdingId)})})]},a.portfolioId))]})}const A3=6048e5,Dee=864e5,hv=6e4,vv=36e5,Eee=1e3,vE=Symbol.for("constructDateFrom");function Ot(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&vE in e?e[vE](t):e instanceof Date?new e.constructor(t):new Date(t)}function Le(e,t){return Ot(t||e,e)}function ja(e,t,n){const r=Le(e,n?.in);return isNaN(t)?Ot(n?.in||e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Aa(e,t,n){const r=Le(e,n?.in);if(isNaN(t))return Ot(e,NaN);if(!t)return r;const a=r.getDate(),s=Ot(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const c=s.getDate();return a>=c?s:(r.setFullYear(s.getFullYear(),s.getMonth(),a),r)}function M3(e,t,n){return Ot(e,+Le(e)+t)}function _ee(e,t,n){return M3(e,t*vv)}let Oee={};function no(){return Oee}function Qi(e,t){const n=no(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=Le(e,t?.in),s=a.getDay(),c=(s<r?7:0)+s-r;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function pc(e,t){return Qi(e,{...t,weekStartsOn:1})}function k3(e,t){const n=Le(e,t?.in),r=n.getFullYear(),a=Ot(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const s=pc(a),c=Ot(n,0);c.setFullYear(r,0,4),c.setHours(0,0,0,0);const u=pc(c);return n.getTime()>=s.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function ch(e){const t=Le(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function rs(e,...t){const n=Ot.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function Xl(e,t){const n=Le(e,t?.in);return n.setHours(0,0,0,0),n}function hc(e,t,n){const[r,a]=rs(n?.in,e,t),s=Xl(r),c=Xl(a),u=+s-ch(s),f=+c-ch(c);return Math.round((u-f)/Dee)}function Tee(e,t){const n=k3(e,t),r=Ot(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),pc(r)}function yd(e,t,n){const r=Le(e,n?.in);return r.setTime(r.getTime()+t*hv),r}function rj(e,t,n){return Aa(e,t*3,n)}function Pee(e,t,n){return M3(e,t*1e3)}function uh(e,t,n){return ja(e,t*7,n)}function Na(e,t,n){return Aa(e,t*12,n)}function xE(e,t){let n,r=t?.in;return e.forEach(a=>{!r&&typeof a=="object"&&(r=Ot.bind(null,a));const s=Le(a,r);(!n||n<s||isNaN(+s))&&(n=s)}),Ot(r,n||NaN)}function gE(e,t){let n,r=t?.in;return e.forEach(a=>{!r&&typeof a=="object"&&(r=Ot.bind(null,a));const s=Le(a,r);(!n||n>s||isNaN(+s))&&(n=s)}),Ot(r,n||NaN)}function Iee(e,t,n){const[r,a]=rs(n?.in,e,t);return+Xl(r)==+Xl(a)}function ti(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function vc(e){return!(!ti(e)&&typeof e!="number"||isNaN(+Le(e)))}function dh(e,t,n){const[r,a]=rs(n?.in,e,t),s=r.getFullYear()-a.getFullYear(),c=r.getMonth()-a.getMonth();return s*12+c}function zs(e,t){const n=Le(e,t?.in);return Math.trunc(n.getMonth()/3)+1}function fh(e,t,n){const[r,a]=rs(n?.in,e,t),s=r.getFullYear()-a.getFullYear(),c=zs(r)-zs(a);return s*4+c}function mh(e,t,n){const[r,a]=rs(n?.in,e,t);return r.getFullYear()-a.getFullYear()}function Ree(e,t,n){const[r,a]=rs(n?.in,e,t),s=bE(r,a),c=Math.abs(hc(r,a));r.setDate(r.getDate()-s*c);const u=+(bE(r,a)===-s),f=s*(c-u);return f===0?0:f}function bE(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function D3(e,t){const n=Le(e,t?.in);return n.setHours(23,59,59,999),n}function E3(e,t){const n=Le(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function qy(e,t){const n=Le(e,t?.in),r=n.getMonth(),a=r-r%3;return n.setMonth(a,1),n.setHours(0,0,0,0),n}function _3(e,t){const n=Le(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function O3(e,t){const n=Le(e,t?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function xv(e,t){const n=Le(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Lee(e,t){const n=no(),r=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=Le(e,t?.in),s=a.getDay(),c=(s<r?-7:0)+6-(s-r);return a.setDate(a.getDate()+c),a.setHours(23,59,59,999),a}const zee={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Fee=(e,t,n)=>{let r;const a=zee[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Nb(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Bee={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$ee={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qee={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Hee={date:Nb({formats:Bee,defaultWidth:"full"}),time:Nb({formats:$ee,defaultWidth:"full"}),dateTime:Nb({formats:qee,defaultWidth:"full"})},Uee={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Yee=(e,t,n,r)=>Uee[e];function qu(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,u=n?.width?String(n.width):c;a=e.formattingValues[u]||e.formattingValues[c]}else{const c=e.defaultWidth,u=n?.width?String(n.width):e.defaultWidth;a=e.values[u]||e.values[c]}const s=e.argumentCallback?e.argumentCallback(t):t;return a[s]}}const Vee={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Gee={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Kee={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Wee={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Qee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Xee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Zee=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Jee={ordinalNumber:Zee,era:qu({values:Vee,defaultWidth:"wide"}),quarter:qu({values:Gee,defaultWidth:"wide",argumentCallback:e=>e-1}),month:qu({values:Kee,defaultWidth:"wide"}),day:qu({values:Wee,defaultWidth:"wide"}),dayPeriod:qu({values:Qee,defaultWidth:"wide",formattingValues:Xee,defaultFormattingWidth:"wide"})};function Hu(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const c=s[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(u)?tte(u,v=>v.test(c)):ete(u,v=>v.test(c));let m;m=e.valueCallback?e.valueCallback(f):f,m=n.valueCallback?n.valueCallback(m):m;const h=t.slice(c.length);return{value:m,rest:h}}}function ete(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function tte(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function rte(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],s=t.match(e.parsePattern);if(!s)return null;let c=e.valueCallback?e.valueCallback(s[0]):s[0];c=n.valueCallback?n.valueCallback(c):c;const u=t.slice(a.length);return{value:c,rest:u}}}const nte=/^(\d+)(th|st|nd|rd)?/i,ate=/\d+/i,ite={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ste={any:[/^b/i,/^(a|c)/i]},lte={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ote={any:[/1/i,/2/i,/3/i,/4/i]},cte={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ute={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},dte={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},fte={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mte={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pte={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},hte={ordinalNumber:rte({matchPattern:nte,parsePattern:ate,valueCallback:e=>parseInt(e,10)}),era:Hu({matchPatterns:ite,defaultMatchWidth:"wide",parsePatterns:ste,defaultParseWidth:"any"}),quarter:Hu({matchPatterns:lte,defaultMatchWidth:"wide",parsePatterns:ote,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Hu({matchPatterns:cte,defaultMatchWidth:"wide",parsePatterns:ute,defaultParseWidth:"any"}),day:Hu({matchPatterns:dte,defaultMatchWidth:"wide",parsePatterns:fte,defaultParseWidth:"any"}),dayPeriod:Hu({matchPatterns:mte,defaultMatchWidth:"any",parsePatterns:pte,defaultParseWidth:"any"})},T3={code:"en-US",formatDistance:Fee,formatLong:Hee,formatRelative:Yee,localize:Jee,match:hte,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vte(e,t){const n=Le(e,t?.in);return hc(n,xv(n))+1}function nj(e,t){const n=Le(e,t?.in),r=+pc(n)-+Tee(n);return Math.round(r/A3)+1}function aj(e,t){const n=Le(e,t?.in),r=n.getFullYear(),a=no(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=Ot(t?.in||e,0);c.setFullYear(r+1,0,s),c.setHours(0,0,0,0);const u=Qi(c,t),f=Ot(t?.in||e,0);f.setFullYear(r,0,s),f.setHours(0,0,0,0);const m=Qi(f,t);return+n>=+u?r+1:+n>=+m?r:r-1}function xte(e,t){const n=no(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=aj(e,t),s=Ot(t?.in||e,0);return s.setFullYear(a,0,r),s.setHours(0,0,0,0),Qi(s,t)}function P3(e,t){const n=Le(e,t?.in),r=+Qi(n,t)-+xte(n,t);return Math.round(r/A3)+1}function Et(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Ts={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Et(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Et(n+1,2)},d(e,t){return Et(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Et(e.getHours()%12||12,t.length)},H(e,t){return Et(e.getHours(),t.length)},m(e,t){return Et(e.getMinutes(),t.length)},s(e,t){return Et(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return Et(a,t.length)}},Uo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},yE={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return Ts.y(e,t)},Y:function(e,t,n,r){const a=aj(e,r),s=a>0?a:1-a;if(t==="YY"){const c=s%100;return Et(c,2)}return t==="Yo"?n.ordinalNumber(s,{unit:"year"}):Et(s,t.length)},R:function(e,t){const n=k3(e);return Et(n,t.length)},u:function(e,t){const n=e.getFullYear();return Et(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Et(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Et(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Ts.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Et(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=P3(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):Et(a,t.length)},I:function(e,t,n){const r=nj(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Et(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Ts.d(e,t)},D:function(e,t,n){const r=vte(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Et(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Et(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Et(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return Et(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=Uo.noon:r===0?a=Uo.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=Uo.evening:r>=12?a=Uo.afternoon:r>=4?a=Uo.morning:a=Uo.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ts.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Ts.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Et(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Et(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ts.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Ts.s(e,t)},S:function(e,t){return Ts.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return jE(r);case"XXXX":case"XX":return El(r);default:return El(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return jE(r);case"xxxx":case"xx":return El(r);default:return El(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+wE(r,":");default:return"GMT"+El(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+wE(r,":");default:return"GMT"+El(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return Et(r,t.length)},T:function(e,t,n){return Et(+e,t.length)}};function wE(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),s=r%60;return s===0?n+String(a):n+String(a)+t+Et(s,2)}function jE(e,t){return e%60===0?(e>0?"-":"+")+Et(Math.abs(e)/60,2):El(e,t)}function El(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Et(Math.trunc(r/60),2),s=Et(r%60,2);return n+a+t+s}const NE=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},I3=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},gte=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return NE(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",NE(r,t)).replace("{{time}}",I3(a,t))},Hy={p:I3,P:gte},bte=/^D+$/,yte=/^Y+$/,wte=["D","DD","YY","YYYY"];function jte(e){return bte.test(e)}function Nte(e){return yte.test(e)}function Ste(e,t,n){const r=Cte(e,t,n);if(console.warn(r),wte.includes(e))throw new RangeError(r)}function Cte(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ate=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Mte=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kte=/^'([^]*?)'?$/,Dte=/''/g,Ete=/[a-zA-Z]/;function SE(e,t,n){const r=no(),a=n?.locale??r.locale??T3,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,c=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,u=Le(e,n?.in);if(!vc(u))throw new RangeError("Invalid time value");let f=t.match(Mte).map(h=>{const v=h[0];if(v==="p"||v==="P"){const x=Hy[v];return x(h,a.formatLong)}return h}).join("").match(Ate).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const v=h[0];if(v==="'")return{isToken:!1,value:_te(h)};if(yE[v])return{isToken:!0,value:h};if(v.match(Ete))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:h}});a.localize.preprocessor&&(f=a.localize.preprocessor(u,f));const m={firstWeekContainsDate:s,weekStartsOn:c,locale:a};return f.map(h=>{if(!h.isToken)return h.value;const v=h.value;(!n?.useAdditionalWeekYearTokens&&Nte(v)||!n?.useAdditionalDayOfYearTokens&&jte(v))&&Ste(v,t,String(e));const x=yE[v[0]];return x(u,v,a.localize,m)}).join("")}function _te(e){const t=e.match(kte);return t?t[1].replace(Dte,"'"):e}function CE(e,t){return Le(e,t?.in).getDate()}function Ote(e,t){return Le(e,t?.in).getDay()}function Tte(e,t){const n=Le(e,t?.in),r=n.getFullYear(),a=n.getMonth(),s=Ot(n,0);return s.setFullYear(r,a+1,0),s.setHours(0,0,0,0),s.getDate()}function Pte(){return Object.assign({},no())}function Qr(e,t){return Le(e,t?.in).getHours()}function Ite(e,t){const n=Le(e,t?.in).getDay();return n===0?7:n}function Xr(e,t){return Le(e,t?.in).getMinutes()}function gn(e,t){return Le(e,t?.in).getMonth()}function $s(e){return Le(e).getSeconds()}function Uy(e){return+Le(e)}function ct(e,t){return Le(e,t?.in).getFullYear()}function Fi(e,t){return+Le(e)>+Le(t)}function Xa(e,t){return+Le(e)<+Le(t)}function Rte(e,t){return+Le(e)==+Le(t)}function Lte(e,t){const n=zte(t)?new t(0):Ot(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}function zte(e){return typeof e=="function"&&e.prototype?.constructor===e}const Fte=10;class R3{subPriority=0;validate(t,n){return!0}}class Bte extends R3{constructor(t,n,r,a,s){super(),this.value=t,this.validateValue=n,this.setValue=r,this.priority=a,s&&(this.subPriority=s)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,r){return this.setValue(t,n,this.value,r)}}class $te extends R3{priority=Fte;subPriority=-1;constructor(t,n){super(),this.context=t||(r=>Ot(n,r))}set(t,n){return n.timestampIsSet?t:Ot(t,Lte(t,this.context))}}class At{run(t,n,r,a){const s=this.parse(t,n,r,a);return s?{setter:new Bte(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(t,n,r){return!0}}class qte extends At{priority=140;parse(t,n,r){switch(n){case"G":case"GG":case"GGG":return r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"});case"GGGGG":return r.era(t,{width:"narrow"});default:return r.era(t,{width:"wide"})||r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"})}}set(t,n,r){return n.era=r,t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const vr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ya={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function xr(e,t){return e&&{value:t(e.value),rest:e.rest}}function ar(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Va(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const r=n[1]==="+"?1:-1,a=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,c=n[5]?parseInt(n[5],10):0;return{value:r*(a*vv+s*hv+c*Eee),rest:t.slice(n[0].length)}}function L3(e){return ar(vr.anyDigitsSigned,e)}function dr(e,t){switch(e){case 1:return ar(vr.singleDigit,t);case 2:return ar(vr.twoDigits,t);case 3:return ar(vr.threeDigits,t);case 4:return ar(vr.fourDigits,t);default:return ar(new RegExp("^\\d{1,"+e+"}"),t)}}function ph(e,t){switch(e){case 1:return ar(vr.singleDigitSigned,t);case 2:return ar(vr.twoDigitsSigned,t);case 3:return ar(vr.threeDigitsSigned,t);case 4:return ar(vr.fourDigitsSigned,t);default:return ar(new RegExp("^-?\\d{1,"+e+"}"),t)}}function ij(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function z3(e,t){const n=t>0,r=n?t:1-t;let a;if(r<=50)a=e||100;else{const s=r+50,c=Math.trunc(s/100)*100,u=e>=s%100;a=e+c-(u?100:0)}return n?a:1-a}function F3(e){return e%400===0||e%4===0&&e%100!==0}class Hte extends At{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,n,r){const a=s=>({year:s,isTwoDigitYear:n==="yy"});switch(n){case"y":return xr(dr(4,t),a);case"yo":return xr(r.ordinalNumber(t,{unit:"year"}),a);default:return xr(dr(n.length,t),a)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,r){const a=t.getFullYear();if(r.isTwoDigitYear){const c=z3(r.year,a);return t.setFullYear(c,0,1),t.setHours(0,0,0,0),t}const s=!("era"in n)||n.era===1?r.year:1-r.year;return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}class Ute extends At{priority=130;parse(t,n,r){const a=s=>({year:s,isTwoDigitYear:n==="YY"});switch(n){case"Y":return xr(dr(4,t),a);case"Yo":return xr(r.ordinalNumber(t,{unit:"year"}),a);default:return xr(dr(n.length,t),a)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,r,a){const s=aj(t,a);if(r.isTwoDigitYear){const u=z3(r.year,s);return t.setFullYear(u,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),Qi(t,a)}const c=!("era"in n)||n.era===1?r.year:1-r.year;return t.setFullYear(c,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),Qi(t,a)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class Yte extends At{priority=130;parse(t,n){return ph(n==="R"?4:n.length,t)}set(t,n,r){const a=Ot(t,0);return a.setFullYear(r,0,4),a.setHours(0,0,0,0),pc(a)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class Vte extends At{priority=130;parse(t,n){return ph(n==="u"?4:n.length,t)}set(t,n,r){return t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class Gte extends At{priority=120;parse(t,n,r){switch(n){case"Q":case"QQ":return dr(n.length,t);case"Qo":return r.ordinalNumber(t,{unit:"quarter"});case"QQQ":return r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(t,{width:"narrow",context:"formatting"});default:return r.quarter(t,{width:"wide",context:"formatting"})||r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,r){return t.setMonth((r-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class Kte extends At{priority=120;parse(t,n,r){switch(n){case"q":case"qq":return dr(n.length,t);case"qo":return r.ordinalNumber(t,{unit:"quarter"});case"qqq":return r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(t,{width:"narrow",context:"standalone"});default:return r.quarter(t,{width:"wide",context:"standalone"})||r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,r){return t.setMonth((r-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class Wte extends At{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,n,r){const a=s=>s-1;switch(n){case"M":return xr(ar(vr.month,t),a);case"MM":return xr(dr(2,t),a);case"Mo":return xr(r.ordinalNumber(t,{unit:"month"}),a);case"MMM":return r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(t,{width:"narrow",context:"formatting"});default:return r.month(t,{width:"wide",context:"formatting"})||r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,r){return t.setMonth(r,1),t.setHours(0,0,0,0),t}}class Qte extends At{priority=110;parse(t,n,r){const a=s=>s-1;switch(n){case"L":return xr(ar(vr.month,t),a);case"LL":return xr(dr(2,t),a);case"Lo":return xr(r.ordinalNumber(t,{unit:"month"}),a);case"LLL":return r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(t,{width:"narrow",context:"standalone"});default:return r.month(t,{width:"wide",context:"standalone"})||r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,r){return t.setMonth(r,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function Xte(e,t,n){const r=Le(e,n?.in),a=P3(r,n)-t;return r.setDate(r.getDate()-a*7),Le(r,n?.in)}class Zte extends At{priority=100;parse(t,n,r){switch(n){case"w":return ar(vr.week,t);case"wo":return r.ordinalNumber(t,{unit:"week"});default:return dr(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,r,a){return Qi(Xte(t,r,a),a)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function Jte(e,t,n){const r=Le(e,n?.in),a=nj(r,n)-t;return r.setDate(r.getDate()-a*7),r}class ere extends At{priority=100;parse(t,n,r){switch(n){case"I":return ar(vr.week,t);case"Io":return r.ordinalNumber(t,{unit:"week"});default:return dr(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,r){return pc(Jte(t,r))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const tre=[31,28,31,30,31,30,31,31,30,31,30,31],rre=[31,29,31,30,31,30,31,31,30,31,30,31];class nre extends At{priority=90;subPriority=1;parse(t,n,r){switch(n){case"d":return ar(vr.date,t);case"do":return r.ordinalNumber(t,{unit:"date"});default:return dr(n.length,t)}}validate(t,n){const r=t.getFullYear(),a=F3(r),s=t.getMonth();return a?n>=1&&n<=rre[s]:n>=1&&n<=tre[s]}set(t,n,r){return t.setDate(r),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class are extends At{priority=90;subpriority=1;parse(t,n,r){switch(n){case"D":case"DD":return ar(vr.dayOfYear,t);case"Do":return r.ordinalNumber(t,{unit:"date"});default:return dr(n.length,t)}}validate(t,n){const r=t.getFullYear();return F3(r)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,r){return t.setMonth(0,r),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function sj(e,t,n){const r=no(),a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=Le(e,n?.in),c=s.getDay(),f=(t%7+7)%7,m=7-a,h=t<0||t>6?t-(c+m)%7:(f+m)%7-(c+m)%7;return ja(s,h,n)}class ire extends At{priority=90;parse(t,n,r){switch(n){case"E":case"EE":case"EEE":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,r,a){return t=sj(t,r,a),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class sre extends At{priority=90;parse(t,n,r,a){const s=c=>{const u=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+u};switch(n){case"e":case"ee":return xr(dr(n.length,t),s);case"eo":return xr(r.ordinalNumber(t,{unit:"day"}),s);case"eee":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"eeeee":return r.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,r,a){return t=sj(t,r,a),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class lre extends At{priority=90;parse(t,n,r,a){const s=c=>{const u=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+u};switch(n){case"c":case"cc":return xr(dr(n.length,t),s);case"co":return xr(r.ordinalNumber(t,{unit:"day"}),s);case"ccc":return r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});case"ccccc":return r.day(t,{width:"narrow",context:"standalone"});case"cccccc":return r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});default:return r.day(t,{width:"wide",context:"standalone"})||r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,r,a){return t=sj(t,r,a),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function ore(e,t,n){const r=Le(e,n?.in),a=Ite(r,n),s=t-a;return ja(r,s,n)}class cre extends At{priority=90;parse(t,n,r){const a=s=>s===0?7:s;switch(n){case"i":case"ii":return dr(n.length,t);case"io":return r.ordinalNumber(t,{unit:"day"});case"iii":return xr(r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),a);case"iiiii":return xr(r.day(t,{width:"narrow",context:"formatting"}),a);case"iiiiii":return xr(r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),a);default:return xr(r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),a)}}validate(t,n){return n>=1&&n<=7}set(t,n,r){return t=ore(t,r),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class ure extends At{priority=80;parse(t,n,r){switch(n){case"a":case"aa":case"aaa":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(t,{width:"narrow",context:"formatting"});default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,r){return t.setHours(ij(r),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class dre extends At{priority=80;parse(t,n,r){switch(n){case"b":case"bb":case"bbb":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(t,{width:"narrow",context:"formatting"});default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,r){return t.setHours(ij(r),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class fre extends At{priority=80;parse(t,n,r){switch(n){case"B":case"BB":case"BBB":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(t,{width:"narrow",context:"formatting"});default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,r){return t.setHours(ij(r),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class mre extends At{priority=70;parse(t,n,r){switch(n){case"h":return ar(vr.hour12h,t);case"ho":return r.ordinalNumber(t,{unit:"hour"});default:return dr(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,r){const a=t.getHours()>=12;return a&&r<12?t.setHours(r+12,0,0,0):!a&&r===12?t.setHours(0,0,0,0):t.setHours(r,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class pre extends At{priority=70;parse(t,n,r){switch(n){case"H":return ar(vr.hour23h,t);case"Ho":return r.ordinalNumber(t,{unit:"hour"});default:return dr(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,r){return t.setHours(r,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class hre extends At{priority=70;parse(t,n,r){switch(n){case"K":return ar(vr.hour11h,t);case"Ko":return r.ordinalNumber(t,{unit:"hour"});default:return dr(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,r){return t.getHours()>=12&&r<12?t.setHours(r+12,0,0,0):t.setHours(r,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class vre extends At{priority=70;parse(t,n,r){switch(n){case"k":return ar(vr.hour24h,t);case"ko":return r.ordinalNumber(t,{unit:"hour"});default:return dr(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,r){const a=r<=24?r%24:r;return t.setHours(a,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class xre extends At{priority=60;parse(t,n,r){switch(n){case"m":return ar(vr.minute,t);case"mo":return r.ordinalNumber(t,{unit:"minute"});default:return dr(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,r){return t.setMinutes(r,0,0),t}incompatibleTokens=["t","T"]}class gre extends At{priority=50;parse(t,n,r){switch(n){case"s":return ar(vr.second,t);case"so":return r.ordinalNumber(t,{unit:"second"});default:return dr(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,r){return t.setSeconds(r,0),t}incompatibleTokens=["t","T"]}class bre extends At{priority=30;parse(t,n){const r=a=>Math.trunc(a*Math.pow(10,-n.length+3));return xr(dr(n.length,t),r)}set(t,n,r){return t.setMilliseconds(r),t}incompatibleTokens=["t","T"]}class yre extends At{priority=10;parse(t,n){switch(n){case"X":return Va(Ya.basicOptionalMinutes,t);case"XX":return Va(Ya.basic,t);case"XXXX":return Va(Ya.basicOptionalSeconds,t);case"XXXXX":return Va(Ya.extendedOptionalSeconds,t);default:return Va(Ya.extended,t)}}set(t,n,r){return n.timestampIsSet?t:Ot(t,t.getTime()-ch(t)-r)}incompatibleTokens=["t","T","x"]}class wre extends At{priority=10;parse(t,n){switch(n){case"x":return Va(Ya.basicOptionalMinutes,t);case"xx":return Va(Ya.basic,t);case"xxxx":return Va(Ya.basicOptionalSeconds,t);case"xxxxx":return Va(Ya.extendedOptionalSeconds,t);default:return Va(Ya.extended,t)}}set(t,n,r){return n.timestampIsSet?t:Ot(t,t.getTime()-ch(t)-r)}incompatibleTokens=["t","T","X"]}class jre extends At{priority=40;parse(t){return L3(t)}set(t,n,r){return[Ot(t,r*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class Nre extends At{priority=20;parse(t){return L3(t)}set(t,n,r){return[Ot(t,r),{timestampIsSet:!0}]}incompatibleTokens="*"}const Sre={G:new qte,y:new Hte,Y:new Ute,R:new Yte,u:new Vte,Q:new Gte,q:new Kte,M:new Wte,L:new Qte,w:new Zte,I:new ere,d:new nre,D:new are,E:new ire,e:new sre,c:new lre,i:new cre,a:new ure,b:new dre,B:new fre,h:new mre,H:new pre,K:new hre,k:new vre,m:new xre,s:new gre,S:new bre,X:new yre,x:new wre,t:new jre,T:new Nre},Cre=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Are=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Mre=/^'([^]*?)'?$/,kre=/''/g,Dre=/\S/,Ere=/[a-zA-Z]/;function _re(e,t,n,r){const a=()=>Ot(r?.in||n,NaN),s=Pte(),c=r?.locale??s.locale??T3,u=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,f=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0;if(!t)return e?a():Le(n,r?.in);const m={firstWeekContainsDate:u,weekStartsOn:f,locale:c},h=[new $te(r?.in,n)],v=t.match(Are).map(y=>{const C=y[0];if(C in Hy){const M=Hy[C];return M(y,c.formatLong)}return y}).join("").match(Cre),x=[];for(let y of v){const C=y[0],M=Sre[C];if(M){const{incompatibleTokens:A}=M;if(Array.isArray(A)){const E=x.find(T=>A.includes(T.token)||T.token===C);if(E)throw new RangeError(`The format string mustn't contain \`${E.fullToken}\` and \`${y}\` at the same time`)}else if(M.incompatibleTokens==="*"&&x.length>0)throw new RangeError(`The format string mustn't contain \`${y}\` and any other token at the same time`);x.push({token:C,fullToken:y});const _=M.run(e,y,c.match,m);if(!_)return a();h.push(_.setter),e=_.rest}else{if(C.match(Ere))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");if(y==="''"?y="'":C==="'"&&(y=Ore(y)),e.indexOf(y)===0)e=e.slice(y.length);else return a()}}if(e.length>0&&Dre.test(e))return a();const b=h.map(y=>y.priority).sort((y,C)=>C-y).filter((y,C,M)=>M.indexOf(y)===C).map(y=>h.filter(C=>C.priority===y).sort((C,M)=>M.subPriority-C.subPriority)).map(y=>y[0]);let S=Le(n,r?.in);if(isNaN(+S))return a();const w={};for(const y of b){if(!y.validate(S,m))return a();const C=y.set(S,w,m);Array.isArray(C)?(S=C[0],Object.assign(w,C[1])):S=C}return S}function Ore(e){return e.match(Mre)[1].replace(kre,"'")}function Tre(e,t,n){const[r,a]=rs(n?.in,e,t);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}function Pre(e,t,n){const[r,a]=rs(n?.in,e,t);return+qy(r)==+qy(a)}function Ire(e,t,n){const[r,a]=rs(n?.in,e,t);return r.getFullYear()===a.getFullYear()}function wd(e,t,n){const r=+Le(e,n?.in),[a,s]=[+Le(t.start,n?.in),+Le(t.end,n?.in)].sort((c,u)=>c-u);return r>=a&&r<=s}function Rre(e,t,n){return ja(e,-1,n)}function Lre(e,t){const n=()=>Ot(t?.in,NaN),a=$re(e);let s;if(a.date){const m=qre(a.date,2);s=Hre(m.restDateString,m.year)}if(!s||isNaN(+s))return n();const c=+s;let u=0,f;if(a.time&&(u=Ure(a.time),isNaN(u)))return n();if(a.timezone){if(f=Yre(a.timezone),isNaN(f))return n()}else{const m=new Date(c+u),h=Le(0,t?.in);return h.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),h.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),h}return Le(c+u+f,t?.in)}const Dm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},zre=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Fre=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Bre=/^([+-])(\d{2})(?::?(\d{2}))?$/;function $re(e){const t={},n=e.split(Dm.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Dm.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Dm.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const a=Dm.timezone.exec(r);a?(t.time=r.replace(a[1],""),t.timezone=a[1]):t.time=r}return t}function qre(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?a:s*100,restDateString:e.slice((r[1]||r[2]).length)}}function Hre(e,t){if(t===null)return new Date(NaN);const n=e.match(zre);if(!n)return new Date(NaN);const r=!!n[4],a=Uu(n[1]),s=Uu(n[2])-1,c=Uu(n[3]),u=Uu(n[4]),f=Uu(n[5])-1;if(r)return Qre(t,u,f)?Vre(t,u,f):new Date(NaN);{const m=new Date(0);return!Kre(t,s,c)||!Wre(t,a)?new Date(NaN):(m.setUTCFullYear(t,s,Math.max(a,c)),m)}}function Uu(e){return e?parseInt(e):1}function Ure(e){const t=e.match(Fre);if(!t)return NaN;const n=Sb(t[1]),r=Sb(t[2]),a=Sb(t[3]);return Xre(n,r,a)?n*vv+r*hv+a*1e3:NaN}function Sb(e){return e&&parseFloat(e.replace(",","."))||0}function Yre(e){if(e==="Z")return 0;const t=e.match(Bre);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Zre(r,a)?n*(r*vv+a*hv):NaN}function Vre(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const a=r.getUTCDay()||7,s=(t-1)*7+n+1-a;return r.setUTCDate(r.getUTCDate()+s),r}const Gre=[31,null,31,30,31,30,31,31,30,31,30,31];function B3(e){return e%400===0||e%4===0&&e%100!==0}function Kre(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Gre[t]||(B3(e)?29:28))}function Wre(e,t){return t>=1&&t<=(B3(e)?366:365)}function Qre(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function Xre(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function Zre(e,t){return t>=0&&t<=59}function Tn(e,t,n){const r=Le(e,n?.in),a=r.getFullYear(),s=r.getDate(),c=Ot(e,0);c.setFullYear(a,t,15),c.setHours(0,0,0,0);const u=Tte(c);return r.setMonth(t,Math.min(s,u)),r}function lp(e,t,n){const r=Le(e,n?.in);return r.setHours(t),r}function op(e,t,n){const r=Le(e,n?.in);return r.setMinutes(t),r}function Qo(e,t,n){const r=Le(e,n?.in),a=Math.trunc(r.getMonth()/3)+1,s=t-a;return Tn(r,r.getMonth()+s*3)}function cp(e,t,n){const r=Le(e,n?.in);return r.setSeconds(t),r}function Ha(e,t,n){const r=Le(e,n?.in);return isNaN(+r)?Ot(e,NaN):(r.setFullYear(t),r)}function Hl(e,t,n){return Aa(e,-t,n)}function $3(e,t,n){return rj(e,-1,n)}function AE(e,t,n){return uh(e,-1,n)}function Ks(e,t,n){return Na(e,-t,n)}function gv(){return typeof window<"u"}function Lc(e){return q3(e)?(e.nodeName||"").toLowerCase():"#document"}function Fn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function di(e){var t;return(t=(q3(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function q3(e){return gv()?e instanceof Node||e instanceof Fn(e).Node:!1}function rn(e){return gv()?e instanceof Element||e instanceof Fn(e).Element:!1}function ii(e){return gv()?e instanceof HTMLElement||e instanceof Fn(e).HTMLElement:!1}function ME(e){return!gv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Fn(e).ShadowRoot}const Jre=new Set(["inline","contents"]);function Gd(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=oa(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Jre.has(a)}const ene=new Set(["table","td","th"]);function tne(e){return ene.has(Lc(e))}const rne=[":popover-open",":modal"];function bv(e){return rne.some(t=>{try{return e.matches(t)}catch{return!1}})}const nne=["transform","translate","scale","rotate","perspective"],ane=["transform","translate","scale","rotate","perspective","filter"],ine=["paint","layout","strict","content"];function lj(e){const t=oj(),n=rn(e)?oa(e):e;return nne.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||ane.some(r=>(n.willChange||"").includes(r))||ine.some(r=>(n.contain||"").includes(r))}function sne(e){let t=Ws(e);for(;ii(t)&&!xc(t);){if(lj(t))return t;if(bv(t))return null;t=Ws(t)}return null}function oj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lne=new Set(["html","body","#document"]);function xc(e){return lne.has(Lc(e))}function oa(e){return Fn(e).getComputedStyle(e)}function yv(e){return rn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ws(e){if(Lc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ME(e)&&e.host||di(e);return ME(t)?t.host:t}function H3(e){const t=Ws(e);return xc(t)?e.ownerDocument?e.ownerDocument.body:e.body:ii(t)&&Gd(t)?t:H3(t)}function jd(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=H3(e),s=a===((r=e.ownerDocument)==null?void 0:r.body),c=Fn(a);if(s){const u=Yy(c);return t.concat(c,c.visualViewport||[],Gd(a)?a:[],u&&n?jd(u):[])}return t.concat(a,jd(a,[],n))}function Yy(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const gc=Math.min,Ul=Math.max,hh=Math.round,Em=Math.floor,ri=e=>({x:e,y:e}),one={left:"right",right:"left",bottom:"top",top:"bottom"},cne={start:"end",end:"start"};function une(e,t,n){return Ul(e,gc(t,n))}function wv(e,t){return typeof e=="function"?e(t):e}function bc(e){return e.split("-")[0]}function Kd(e){return e.split("-")[1]}function dne(e){return e==="x"?"y":"x"}function cj(e){return e==="y"?"height":"width"}const fne=new Set(["top","bottom"]);function Ll(e){return fne.has(bc(e))?"y":"x"}function uj(e){return dne(Ll(e))}function mne(e,t,n){n===void 0&&(n=!1);const r=Kd(e),a=uj(e),s=cj(a);let c=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(c=vh(c)),[c,vh(c)]}function pne(e){const t=vh(e);return[Vy(e),t,Vy(t)]}function Vy(e){return e.replace(/start|end/g,t=>cne[t])}const kE=["left","right"],DE=["right","left"],hne=["top","bottom"],vne=["bottom","top"];function xne(e,t,n){switch(e){case"top":case"bottom":return n?t?DE:kE:t?kE:DE;case"left":case"right":return t?hne:vne;default:return[]}}function gne(e,t,n,r){const a=Kd(e);let s=xne(bc(e),n==="start",r);return a&&(s=s.map(c=>c+"-"+a),t&&(s=s.concat(s.map(Vy)))),s}function vh(e){return e.replace(/left|right|bottom|top/g,t=>one[t])}function bne(e){return{top:0,right:0,bottom:0,left:0,...e}}function U3(e){return typeof e!="number"?bne(e):{top:e,right:e,bottom:e,left:e}}function xh(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}var yne=typeof document<"u",wne=function(){},gh=yne?j.useLayoutEffect:wne;const jne={...e1},Nne=jne.useInsertionEffect,Sne=Nne||(e=>e());function Cne(e){const t=j.useRef(()=>{});return Sne(()=>{t.current=e}),j.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.current==null?void 0:t.current(...r)},[])}function EE(e,t,n){let{reference:r,floating:a}=e;const s=Ll(t),c=uj(t),u=cj(c),f=bc(t),m=s==="y",h=r.x+r.width/2-a.width/2,v=r.y+r.height/2-a.height/2,x=r[u]/2-a[u]/2;let b;switch(f){case"top":b={x:h,y:r.y-a.height};break;case"bottom":b={x:h,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:v};break;case"left":b={x:r.x-a.width,y:v};break;default:b={x:r.x,y:r.y}}switch(Kd(t)){case"start":b[c]-=x*(n&&m?-1:1);break;case"end":b[c]+=x*(n&&m?-1:1);break}return b}async function Ane(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:s,rects:c,elements:u,strategy:f}=e,{boundary:m="clippingAncestors",rootBoundary:h="viewport",elementContext:v="floating",altBoundary:x=!1,padding:b=0}=wv(t,e),S=U3(b),y=u[x?v==="floating"?"reference":"floating":v],C=xh(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(u.floating)),boundary:m,rootBoundary:h,strategy:f})),M=v==="floating"?{x:r,y:a,width:c.floating.width,height:c.floating.height}:c.reference,A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u.floating)),_=await(s.isElement==null?void 0:s.isElement(A))?await(s.getScale==null?void 0:s.getScale(A))||{x:1,y:1}:{x:1,y:1},E=xh(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:M,offsetParent:A,strategy:f}):M);return{top:(C.top-E.top+S.top)/_.y,bottom:(E.bottom-C.bottom+S.bottom)/_.y,left:(C.left-E.left+S.left)/_.x,right:(E.right-C.right+S.right)/_.x}}const Mne=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:s=[],platform:c}=n,u=s.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(t));let m=await c.getElementRects({reference:e,floating:t,strategy:a}),{x:h,y:v}=EE(m,r,f),x=r,b={},S=0;for(let y=0;y<u.length;y++){var w;const{name:C,fn:M}=u[y],{x:A,y:_,data:E,reset:T}=await M({x:h,y:v,initialPlacement:r,placement:x,strategy:a,middlewareData:b,rects:m,platform:{...c,detectOverflow:(w=c.detectOverflow)!=null?w:Ane},elements:{reference:e,floating:t}});h=A??h,v=_??v,b={...b,[C]:{...b[C],...E}},T&&S<=50&&(S++,typeof T=="object"&&(T.placement&&(x=T.placement),T.rects&&(m=T.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:a}):T.rects),{x:h,y:v}=EE(m,x,f)),y=-1)}return{x:h,y:v,placement:x,strategy:a,middlewareData:b}},kne=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:s,platform:c,elements:u,middlewareData:f}=t,{element:m,padding:h=0}=wv(e,t)||{};if(m==null)return{};const v=U3(h),x={x:n,y:r},b=uj(a),S=cj(b),w=await c.getDimensions(m),y=b==="y",C=y?"top":"left",M=y?"bottom":"right",A=y?"clientHeight":"clientWidth",_=s.reference[S]+s.reference[b]-x[b]-s.floating[S],E=x[b]-s.reference[b],T=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let P=T?T[A]:0;(!P||!await(c.isElement==null?void 0:c.isElement(T)))&&(P=u.floating[A]||s.floating[S]);const O=_/2-E/2,L=P/2-w[S]/2-1,R=gc(v[C],L),B=gc(v[M],L),D=R,W=P-w[S]-B,X=P/2-w[S]/2+O,Z=une(D,X,W),$=!f.arrow&&Kd(a)!=null&&X!==Z&&s.reference[S]/2-(X<D?R:B)-w[S]/2<0,G=$?X<D?X-D:X-W:0;return{[b]:x[b]+G,data:{[b]:Z,centerOffset:X-Z-G,...$&&{alignmentOffset:G}},reset:$}}}),Dne=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:s,rects:c,initialPlacement:u,platform:f,elements:m}=t,{mainAxis:h=!0,crossAxis:v=!0,fallbackPlacements:x,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:w=!0,...y}=wv(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const C=bc(a),M=Ll(u),A=bc(u)===u,_=await(f.isRTL==null?void 0:f.isRTL(m.floating)),E=x||(A||!w?[vh(u)]:pne(u)),T=S!=="none";!x&&T&&E.push(...gne(u,w,S,_));const P=[u,...E],O=await f.detectOverflow(t,y),L=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&L.push(O[C]),v){const X=mne(a,c,_);L.push(O[X[0]],O[X[1]])}if(R=[...R,{placement:a,overflows:L}],!L.every(X=>X<=0)){var B,D;const X=(((B=s.flip)==null?void 0:B.index)||0)+1,Z=P[X];if(Z&&(!(v==="alignment"?M!==Ll(Z):!1)||R.every(z=>Ll(z.placement)===M?z.overflows[0]>0:!0)))return{data:{index:X,overflows:R},reset:{placement:Z}};let $=(D=R.filter(G=>G.overflows[0]<=0).sort((G,z)=>G.overflows[1]-z.overflows[1])[0])==null?void 0:D.placement;if(!$)switch(b){case"bestFit":{var W;const G=(W=R.filter(z=>{if(T){const te=Ll(z.placement);return te===M||te==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(te=>te>0).reduce((te,ve)=>te+ve,0)]).sort((z,te)=>z[1]-te[1])[0])==null?void 0:W[0];G&&($=G);break}case"initialPlacement":$=u;break}if(a!==$)return{reset:{placement:$}}}return{}}}},Ene=new Set(["left","top"]);async function _ne(e,t){const{placement:n,platform:r,elements:a}=e,s=await(r.isRTL==null?void 0:r.isRTL(a.floating)),c=bc(n),u=Kd(n),f=Ll(n)==="y",m=Ene.has(c)?-1:1,h=s&&f?-1:1,v=wv(t,e);let{mainAxis:x,crossAxis:b,alignmentAxis:S}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return u&&typeof S=="number"&&(b=u==="end"?S*-1:S),f?{x:b*h,y:x*m}:{x:x*m,y:b*h}}const One=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:s,placement:c,middlewareData:u}=t,f=await _ne(t,e);return c===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:a+f.x,y:s+f.y,data:{...f,placement:c}}}}};function Y3(e){const t=oa(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=ii(e),s=a?e.offsetWidth:n,c=a?e.offsetHeight:r,u=hh(n)!==s||hh(r)!==c;return u&&(n=s,r=c),{width:n,height:r,$:u}}function dj(e){return rn(e)?e:e.contextElement}function nc(e){const t=dj(e);if(!ii(t))return ri(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:s}=Y3(t);let c=(s?hh(n.width):n.width)/r,u=(s?hh(n.height):n.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const Tne=ri(0);function V3(e){const t=Fn(e);return!oj()||!t.visualViewport?Tne:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Pne(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Fn(e)?!1:t}function Zl(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),s=dj(e);let c=ri(1);t&&(r?rn(r)&&(c=nc(r)):c=nc(e));const u=Pne(s,n,r)?V3(s):ri(0);let f=(a.left+u.x)/c.x,m=(a.top+u.y)/c.y,h=a.width/c.x,v=a.height/c.y;if(s){const x=Fn(s),b=r&&rn(r)?Fn(r):r;let S=x,w=Yy(S);for(;w&&r&&b!==S;){const y=nc(w),C=w.getBoundingClientRect(),M=oa(w),A=C.left+(w.clientLeft+parseFloat(M.paddingLeft))*y.x,_=C.top+(w.clientTop+parseFloat(M.paddingTop))*y.y;f*=y.x,m*=y.y,h*=y.x,v*=y.y,f+=A,m+=_,S=Fn(w),w=Yy(S)}}return xh({width:h,height:v,x:f,y:m})}function jv(e,t){const n=yv(e).scrollLeft;return t?t.left+n:Zl(di(e)).left+n}function G3(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-jv(e,n),a=n.top+t.scrollTop;return{x:r,y:a}}function Ine(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const s=a==="fixed",c=di(r),u=t?bv(t.floating):!1;if(r===c||u&&s)return n;let f={scrollLeft:0,scrollTop:0},m=ri(1);const h=ri(0),v=ii(r);if((v||!v&&!s)&&((Lc(r)!=="body"||Gd(c))&&(f=yv(r)),ii(r))){const b=Zl(r);m=nc(r),h.x=b.x+r.clientLeft,h.y=b.y+r.clientTop}const x=c&&!v&&!s?G3(c,f):ri(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-f.scrollLeft*m.x+h.x+x.x,y:n.y*m.y-f.scrollTop*m.y+h.y+x.y}}function Rne(e){return Array.from(e.getClientRects())}function Lne(e){const t=di(e),n=yv(e),r=e.ownerDocument.body,a=Ul(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Ul(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+jv(e);const u=-n.scrollTop;return oa(r).direction==="rtl"&&(c+=Ul(t.clientWidth,r.clientWidth)-a),{width:a,height:s,x:c,y:u}}const _E=25;function zne(e,t){const n=Fn(e),r=di(e),a=n.visualViewport;let s=r.clientWidth,c=r.clientHeight,u=0,f=0;if(a){s=a.width,c=a.height;const h=oj();(!h||h&&t==="fixed")&&(u=a.offsetLeft,f=a.offsetTop)}const m=jv(r);if(m<=0){const h=r.ownerDocument,v=h.body,x=getComputedStyle(v),b=h.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,S=Math.abs(r.clientWidth-v.clientWidth-b);S<=_E&&(s-=S)}else m<=_E&&(s+=m);return{width:s,height:c,x:u,y:f}}const Fne=new Set(["absolute","fixed"]);function Bne(e,t){const n=Zl(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,s=ii(e)?nc(e):ri(1),c=e.clientWidth*s.x,u=e.clientHeight*s.y,f=a*s.x,m=r*s.y;return{width:c,height:u,x:f,y:m}}function OE(e,t,n){let r;if(t==="viewport")r=zne(e,n);else if(t==="document")r=Lne(di(e));else if(rn(t))r=Bne(t,n);else{const a=V3(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return xh(r)}function K3(e,t){const n=Ws(e);return n===t||!rn(n)||xc(n)?!1:oa(n).position==="fixed"||K3(n,t)}function $ne(e,t){const n=t.get(e);if(n)return n;let r=jd(e,[],!1).filter(u=>rn(u)&&Lc(u)!=="body"),a=null;const s=oa(e).position==="fixed";let c=s?Ws(e):e;for(;rn(c)&&!xc(c);){const u=oa(c),f=lj(c);!f&&u.position==="fixed"&&(a=null),(s?!f&&!a:!f&&u.position==="static"&&!!a&&Fne.has(a.position)||Gd(c)&&!f&&K3(e,c))?r=r.filter(h=>h!==c):a=u,c=Ws(c)}return t.set(e,r),r}function qne(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const c=[...n==="clippingAncestors"?bv(t)?[]:$ne(t,this._c):[].concat(n),r],u=c[0],f=c.reduce((m,h)=>{const v=OE(t,h,a);return m.top=Ul(v.top,m.top),m.right=gc(v.right,m.right),m.bottom=gc(v.bottom,m.bottom),m.left=Ul(v.left,m.left),m},OE(t,u,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function Hne(e){const{width:t,height:n}=Y3(e);return{width:t,height:n}}function Une(e,t,n){const r=ii(t),a=di(t),s=n==="fixed",c=Zl(e,!0,s,t);let u={scrollLeft:0,scrollTop:0};const f=ri(0);function m(){f.x=jv(a)}if(r||!r&&!s)if((Lc(t)!=="body"||Gd(a))&&(u=yv(t)),r){const b=Zl(t,!0,s,t);f.x=b.x+t.clientLeft,f.y=b.y+t.clientTop}else a&&m();s&&!r&&a&&m();const h=a&&!r&&!s?G3(a,u):ri(0),v=c.left+u.scrollLeft-f.x-h.x,x=c.top+u.scrollTop-f.y-h.y;return{x:v,y:x,width:c.width,height:c.height}}function Cb(e){return oa(e).position==="static"}function TE(e,t){if(!ii(e)||oa(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return di(e)===n&&(n=n.ownerDocument.body),n}function W3(e,t){const n=Fn(e);if(bv(e))return n;if(!ii(e)){let a=Ws(e);for(;a&&!xc(a);){if(rn(a)&&!Cb(a))return a;a=Ws(a)}return n}let r=TE(e,t);for(;r&&tne(r)&&Cb(r);)r=TE(r,t);return r&&xc(r)&&Cb(r)&&!lj(r)?n:r||sne(e)||n}const Yne=async function(e){const t=this.getOffsetParent||W3,n=this.getDimensions,r=await n(e.floating);return{reference:Une(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Vne(e){return oa(e).direction==="rtl"}const Gne={convertOffsetParentRelativeRectToViewportRelativeRect:Ine,getDocumentElement:di,getClippingRect:qne,getOffsetParent:W3,getElementRects:Yne,getClientRects:Rne,getDimensions:Hne,getScale:nc,isElement:rn,isRTL:Vne};function Q3(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Kne(e,t){let n=null,r;const a=di(e);function s(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function c(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),s();const m=e.getBoundingClientRect(),{left:h,top:v,width:x,height:b}=m;if(u||t(),!x||!b)return;const S=Em(v),w=Em(a.clientWidth-(h+x)),y=Em(a.clientHeight-(v+b)),C=Em(h),A={rootMargin:-S+"px "+-w+"px "+-y+"px "+-C+"px",threshold:Ul(0,gc(1,f))||1};let _=!0;function E(T){const P=T[0].intersectionRatio;if(P!==f){if(!_)return c();P?c(!1,P):r=setTimeout(()=>{c(!1,1e-7)},1e3)}P===1&&!Q3(m,e.getBoundingClientRect())&&c(),_=!1}try{n=new IntersectionObserver(E,{...A,root:a.ownerDocument})}catch{n=new IntersectionObserver(E,A)}n.observe(e)}return c(!0),s}function Wne(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,m=dj(e),h=a||s?[...m?jd(m):[],...jd(t)]:[];h.forEach(C=>{a&&C.addEventListener("scroll",n,{passive:!0}),s&&C.addEventListener("resize",n)});const v=m&&u?Kne(m,n):null;let x=-1,b=null;c&&(b=new ResizeObserver(C=>{let[M]=C;M&&M.target===m&&b&&(b.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var A;(A=b)==null||A.observe(t)})),n()}),m&&!f&&b.observe(m),b.observe(t));let S,w=f?Zl(e):null;f&&y();function y(){const C=Zl(e);w&&!Q3(w,C)&&n(),w=C,S=requestAnimationFrame(y)}return n(),()=>{var C;h.forEach(M=>{a&&M.removeEventListener("scroll",n),s&&M.removeEventListener("resize",n)}),v?.(),(C=b)==null||C.disconnect(),b=null,f&&cancelAnimationFrame(S)}}const Qne=One,Xne=Dne,PE=kne,Zne=(e,t,n)=>{const r=new Map,a={platform:Gne,...n},s={...a.platform,_c:r};return Mne(e,t,{...a,platform:s})};var Jne=typeof document<"u",eae=function(){},up=Jne?j.useLayoutEffect:eae;function bh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!bh(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const s=a[r];if(!(s==="_owner"&&e.$$typeof)&&!bh(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function X3(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function IE(e,t){const n=X3(e);return Math.round(t*n)/n}function Ab(e){const t=j.useRef(e);return up(()=>{t.current=e}),t}function tae(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:s,floating:c}={},transform:u=!0,whileElementsMounted:f,open:m}=e,[h,v]=j.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[x,b]=j.useState(r);bh(x,r)||b(r);const[S,w]=j.useState(null),[y,C]=j.useState(null),M=j.useCallback(z=>{z!==T.current&&(T.current=z,w(z))},[]),A=j.useCallback(z=>{z!==P.current&&(P.current=z,C(z))},[]),_=s||S,E=c||y,T=j.useRef(null),P=j.useRef(null),O=j.useRef(h),L=f!=null,R=Ab(f),B=Ab(a),D=Ab(m),W=j.useCallback(()=>{if(!T.current||!P.current)return;const z={placement:t,strategy:n,middleware:x};B.current&&(z.platform=B.current),Zne(T.current,P.current,z).then(te=>{const ve={...te,isPositioned:D.current!==!1};X.current&&!bh(O.current,ve)&&(O.current=ve,Cd.flushSync(()=>{v(ve)}))})},[x,t,n,B,D]);up(()=>{m===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,v(z=>({...z,isPositioned:!1})))},[m]);const X=j.useRef(!1);up(()=>(X.current=!0,()=>{X.current=!1}),[]),up(()=>{if(_&&(T.current=_),E&&(P.current=E),_&&E){if(R.current)return R.current(_,E,W);W()}},[_,E,W,R,L]);const Z=j.useMemo(()=>({reference:T,floating:P,setReference:M,setFloating:A}),[M,A]),$=j.useMemo(()=>({reference:_,floating:E}),[_,E]),G=j.useMemo(()=>{const z={position:n,left:0,top:0};if(!$.floating)return z;const te=IE($.floating,h.x),ve=IE($.floating,h.y);return u?{...z,transform:"translate("+te+"px, "+ve+"px)",...X3($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:te,top:ve}},[n,u,$.floating,h.x,h.y]);return j.useMemo(()=>({...h,update:W,refs:Z,elements:$,floatingStyles:G}),[h,W,Z,$,G])}const rae=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?PE({element:r.current,padding:a}).fn(n):{}:r?PE({element:r,padding:a}).fn(n):{}}}},nae=(e,t)=>({...Qne(e),options:[e,t]}),aae=(e,t)=>({...Xne(e),options:[e,t]}),iae=(e,t)=>({...rae(e),options:[e,t]}),sae={...e1};let RE=!1,lae=0;const LE=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+lae++;function oae(){const[e,t]=j.useState(()=>RE?LE():void 0);return gh(()=>{e==null&&t(LE())},[]),j.useEffect(()=>{RE=!0},[]),e}const cae=sae.useId,Z3=cae||oae,uae=j.forwardRef(function(t,n){const{context:{placement:r,elements:{floating:a},middlewareData:{arrow:s,shift:c}},width:u=14,height:f=7,tipRadius:m=0,strokeWidth:h=0,staticOffset:v,stroke:x,d:b,style:{transform:S,...w}={},...y}=t,C=Z3(),[M,A]=j.useState(!1);if(gh(()=>{if(!a)return;oa(a).direction==="rtl"&&A(!0)},[a]),!a)return null;const[_,E]=r.split("-"),T=_==="top"||_==="bottom";let P=v;(T&&c!=null&&c.x||!T&&c!=null&&c.y)&&(P=null);const O=h*2,L=O/2,R=u/2*(m/-8+1),B=f/2*m/4,D=!!b,W=P&&E==="end"?"bottom":"top";let X=P&&E==="end"?"right":"left";P&&M&&(X=E==="end"?"left":"right");const Z=s?.x!=null?P||s.x:"",$=s?.y!=null?P||s.y:"",G=b||"M0,0"+(" H"+u)+(" L"+(u-R)+","+(f-B))+(" Q"+u/2+","+f+" "+R+","+(f-B))+" Z",z={top:D?"rotate(180deg)":"",left:D?"rotate(90deg)":"rotate(-90deg)",bottom:D?"":"rotate(180deg)",right:D?"rotate(-90deg)":"rotate(90deg)"}[_];return l.jsxs("svg",{...y,"aria-hidden":!0,ref:n,width:D?u:u+O,height:u,viewBox:"0 0 "+u+" "+(f>u?f:u),style:{position:"absolute",pointerEvents:"none",[X]:Z,[W]:$,[_]:T||D?"100%":"calc(100% - "+O/2+"px)",transform:[z,S].filter(te=>!!te).join(" "),...w},children:[O>0&&l.jsx("path",{clipPath:"url(#"+C+")",fill:"none",stroke:x,strokeWidth:O+(b?0:1),d:G}),l.jsx("path",{stroke:O&&!b?y.fill:"none",d:G}),l.jsx("clipPath",{id:C,children:l.jsx("rect",{x:-L,y:L*(D?-1:1),width:u+O,height:u})})]})});function dae(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(a=>a(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;(r=e.get(t))==null||r.delete(n)}}}const fae=j.createContext(null),mae=j.createContext(null),pae=()=>{var e;return((e=j.useContext(fae))==null?void 0:e.id)||null},hae=()=>j.useContext(mae);function vae(e){const{open:t=!1,onOpenChange:n,elements:r}=e,a=Z3(),s=j.useRef({}),[c]=j.useState(()=>dae()),u=pae()!=null,[f,m]=j.useState(r.reference),h=Cne((b,S,w)=>{s.current.openEvent=b?S:void 0,c.emit("openchange",{open:b,event:S,reason:w,nested:u}),n?.(b,S,w)}),v=j.useMemo(()=>({setPositionReference:m}),[]),x=j.useMemo(()=>({reference:f||r.reference||null,floating:r.floating||null,domReference:r.reference}),[f,r.reference,r.floating]);return j.useMemo(()=>({dataRef:s,open:t,onOpenChange:h,elements:x,events:c,floatingId:a,refs:v}),[t,h,x,c,a,v])}function xae(e){e===void 0&&(e={});const{nodeId:t}=e,n=vae({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,a=r.elements,[s,c]=j.useState(null),[u,f]=j.useState(null),h=a?.domReference||s,v=j.useRef(null),x=hae();gh(()=>{h&&(v.current=h)},[h]);const b=tae({...e,elements:{...a,...u&&{reference:u}}}),S=j.useCallback(A=>{const _=rn(A)?{getBoundingClientRect:()=>A.getBoundingClientRect(),getClientRects:()=>A.getClientRects(),contextElement:A}:A;f(_),b.refs.setReference(_)},[b.refs]),w=j.useCallback(A=>{(rn(A)||A===null)&&(v.current=A,c(A)),(rn(b.refs.reference.current)||b.refs.reference.current===null||A!==null&&!rn(A))&&b.refs.setReference(A)},[b.refs]),y=j.useMemo(()=>({...b.refs,setReference:w,setPositionReference:S,domReference:v}),[b.refs,w,S]),C=j.useMemo(()=>({...b.elements,domReference:h}),[b.elements,h]),M=j.useMemo(()=>({...b,...r,refs:y,elements:C,nodeId:t}),[b,y,C,t,r]);return gh(()=>{r.dataRef.current.floatingContext=M;const A=x?.nodesRef.current.find(_=>_.id===t);A&&(A.context=M)}),j.useMemo(()=>({...b,context:M,refs:y,elements:C}),[b,y,C,M])}var Gy=function(t,n){return Gy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])},Gy(t,n)};function Vr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Gy(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var it=function(){return it=Object.assign||function(n){for(var r,a=1,s=arguments.length;a<s;a++){r=arguments[a];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(n[c]=r[c])}return n},it.apply(this,arguments)};function Za(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,s;r<a;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var gae=function(e){var t=e.showTimeSelectOnly,n=t===void 0?!1:t,r=e.showTime,a=r===void 0?!1:r,s=e.className,c=e.children,u=e.inline,f=n?"Choose Time":"Choose Date".concat(a?" and Time":"");return oe.createElement("div",{className:s,"aria-label":f,role:u?void 0:"dialog","aria-modal":u?void 0:"true",translate:"no"},c)},bae=function(e,t){var n=j.useRef(null),r=j.useRef(e);j.useEffect(function(){r.current=e},[e]);var a=j.useCallback(function(s){var c,u=s.composed&&s.composedPath&&s.composedPath().find(function(f){return f instanceof Node})||s.target;n.current&&!n.current.contains(u)&&(t&&u instanceof HTMLElement&&u.classList.contains(t)||(c=r.current)===null||c===void 0||c.call(r,s))},[t]);return j.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),n},Nv=function(e){var t=e.children,n=e.onClickOutside,r=e.className,a=e.containerRef,s=e.style,c=e.ignoreClass,u=bae(n,c);return oe.createElement("div",{className:r,style:s,ref:function(f){u.current=f,a&&(a.current=f)}},t)},_m=null,zE=!1;function J3(){if(zE)return _m;zE=!0;try{var e="date-fns-tz";_m=require(e)}catch{_m=null}return _m}function FE(e,t){if(!t)return e;var n=J3();return n?n.toZonedTime(e,t):e}function _i(e,t){if(!t)return e;var n=J3();return n?n.fromZonedTime(e,t):e}var Me;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(Me||(Me={}));function eI(){var e=typeof window<"u"?window:globalThis;return e}var Wd=12;function gt(e){if(e==null)return new Date;var t=typeof e=="string"?Lre(e):Le(e);return xn(t)?t:new Date}function Sl(e,t,n,r,a){a===void 0&&(a=gt());for(var s=yc(n)||yc(fj()),c=Array.isArray(t)?t:[t],u=0,f=c;u<f.length;u++){var m=f[u],h=_re(e,m,a,{locale:s});if(xn(h)&&(!r||e===Qt(h,m,n)))return h}if(!r&&e&&e.length>=8){var v=new Date(e);if(vc(v))return v}return null}function yae(e,t){if(t===void 0&&(t=gt()),!e)return null;var n=e.match(/\b(1\d{3}|2\d{3})\b/);if(!n||!n[1])return null;var r=parseInt(n[1],10),a=e.match(/(?:^|[/\-\s])?(0?[1-9]|1[0-2])(?:[/\-\s]|$)/),s=a&&a[1]?parseInt(a[1],10)-1:t.getMonth();return new Date(r,s,1)}function xn(e){return vc(e)}function zl(e){return e==null?null:ti(e)&&vc(e)?e:null}function Qt(e,t,n){if(n==="en")return SE(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?yc(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),r=r||yc(fj()),SE(e,t,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function vn(e,t){var n=t.dateFormat,r=t.locale,a=Array.isArray(n)&&n.length>0?n[0]:n;return e&&Qt(e,a,r)||""}var tI=" - ";function wae(e,t,n){if(!e&&!t)return"";var r=e?vn(e,n):"",a=t?vn(t,n):"",s=n.rangeSeparator||tI;return"".concat(r).concat(s).concat(a)}function jae(e,t){if(!e?.length)return"";var n=e[0]?vn(e[0],t):"";if(e.length===1)return n;if(e.length===2&&e[1]){var r=vn(e[1],t);return"".concat(n,", ").concat(r)}var a=e.length-1;return"".concat(n," (+").concat(a,")")}function Oi(e,t){var n=t.hour,r=n===void 0?0:n,a=t.minute,s=a===void 0?0:a,c=t.second,u=c===void 0?0:c;return lp(op(cp(e,u),s),r)}function Nae(e){return nj(e)}function Sae(e,t){return Qt(e,"ddd",t)}function Zu(e){return Xl(e)}function qs(e,t,n){var r=yc(t||fj());return Qi(e,{locale:r,weekStartsOn:n})}function Bi(e){return _3(e)}function Ju(e){return xv(e)}function BE(e){return qy(e)}function $E(){return Xl(gt())}function qE(e){return D3(e)}function Cae(e){return Lee(e)}function Aae(e){return E3(e)}function Ua(e,t){return e&&t?Ire(e,t):!e&&!t}function en(e,t){return e&&t?Tre(e,t):!e&&!t}function yh(e,t){return e&&t?Pre(e,t):!e&&!t}function mt(e,t){return e&&t?Iee(e,t):!e&&!t}function Fl(e,t){return e&&t?Rte(e,t):!e&&!t}function _l(e,t,n){var r,a=Xl(t),s=D3(n);try{r=wd(e,{start:a,end:s})}catch{r=!1}return r}function fj(){var e=eI();return e.__localeId__}function yc(e){if(typeof e=="string"){var t=eI();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function Mae(e,t,n){return t(Qt(e,"EEEE",n))}function kae(e,t){return Qt(e,"EEEEEE",t)}function Dae(e,t){return Qt(e,"EEE",t)}function mj(e,t){return Qt(Tn(gt(),e),"LLLL",t)}function rI(e,t){return Qt(Tn(gt(),e),"LLL",t)}function Eae(e,t){return Qt(Qo(gt(),e),"QQQ",t)}function na(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.maxDate,s=n.excludeDates,c=n.excludeDateIntervals,u=n.includeDates,f=n.includeDateIntervals,m=n.filterDate,h=n.disabled;return h?!0:Qd(e,{minDate:r,maxDate:a})||s&&s.some(function(v){return v instanceof Date?mt(e,v):mt(e,v.date)})||c&&c.some(function(v){var x=v.start,b=v.end;return wd(e,{start:x,end:b})})||u&&!u.some(function(v){return mt(e,v)})||f&&!f.some(function(v){var x=v.start,b=v.end;return wd(e,{start:x,end:b})})||m&&!m(gt(e))||!1}function pj(e,t){var n=t===void 0?{}:t,r=n.excludeDates,a=n.excludeDateIntervals;return a&&a.length>0?a.some(function(s){var c=s.start,u=s.end;return wd(e,{start:c,end:u})}):r&&r.some(function(s){var c;return s instanceof Date?mt(e,s):mt(e,(c=s.date)!==null&&c!==void 0?c:new Date)})||!1}function nI(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.maxDate,s=n.excludeDates,c=n.includeDates,u=n.filterDate;return Qd(e,{minDate:r?_3(r):void 0,maxDate:a?E3(a):void 0})||s?.some(function(f){return en(e,f instanceof Date?f:f.date)})||c&&!c.some(function(f){return en(e,f)})||u&&!u(gt(e))||!1}function Om(e,t,n,r){var a=ct(e),s=gn(e),c=ct(t),u=gn(t),f=ct(r);return a===c&&a===f?s<=n&&n<=u:a<c?f===a&&s<=n||f===c&&u>=n||f<c&&f>a:!1}function _ae(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.maxDate,s=n.excludeDates,c=n.includeDates;return Qd(e,{minDate:r,maxDate:a})||s&&s.some(function(u){return en(u instanceof Date?u:u.date,e)})||c&&!c.some(function(u){return en(u,e)})||!1}function Tm(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.maxDate,s=n.excludeDates,c=n.includeDates,u=n.filterDate,f=n.disabled;return f?!0:Qd(e,{minDate:r,maxDate:a})||s?.some(function(m){return yh(e,m instanceof Date?m:m.date)})||c&&!c.some(function(m){return yh(e,m)})||u&&!u(gt(e))||!1}function Pm(e,t,n){if(!t||!n||!vc(t)||!vc(n))return!1;var r=ct(t),a=ct(n);return r<=e&&a>=e}function dp(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.maxDate,s=n.excludeDates,c=n.includeDates,u=n.filterDate,f=n.disabled;if(f)return!0;var m=new Date(e,0,1);return Qd(m,{minDate:r?xv(r):void 0,maxDate:a?O3(a):void 0})||s?.some(function(h){return Ua(m,h instanceof Date?h:h.date)})||c&&!c.some(function(h){return Ua(m,h)})||u&&!u(gt(m))||!1}function Im(e,t,n,r){var a=ct(e),s=zs(e),c=ct(t),u=zs(t),f=ct(r);return a===c&&a===f?s<=n&&n<=u:a<c?f===a&&s<=n||f===c&&u>=n||f<c&&f>a:!1}function Qd(e,t){var n,r=t===void 0?{}:t,a=r.minDate,s=r.maxDate;return(n=a&&hc(e,a)<0||s&&hc(e,s)>0)!==null&&n!==void 0?n:!1}function HE(e,t){return t.some(function(n){return Qr(n)===Qr(e)&&Xr(n)===Xr(e)&&$s(n)===$s(e)})}function UE(e,t){var n=t===void 0?{}:t,r=n.excludeTimes,a=n.includeTimes,s=n.filterTime;return r&&HE(e,r)||a&&!HE(e,a)||s&&!s(e)||!1}function YE(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var a=gt();a=lp(a,Qr(e)),a=op(a,Xr(e)),a=cp(a,$s(e));var s=gt();s=lp(s,Qr(n)),s=op(s,Xr(n)),s=cp(s,$s(n));var c=gt();c=lp(c,Qr(r)),c=op(c,Xr(r)),c=cp(c,$s(r));var u;try{u=!wd(a,{start:s,end:c})}catch{u=!1}return u}function VE(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.includeDates,s=Hl(e,1);return r&&dh(r,s)>0||a&&a.every(function(c){return dh(c,s)>0})||!1}function GE(e,t){var n=t===void 0?{}:t,r=n.maxDate,a=n.includeDates,s=Aa(e,1);return r&&dh(s,r)>0||a&&a.every(function(c){return dh(s,c)>0})||!1}function Oae(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.includeDates,s=xv(e),c=$3(s);return r&&fh(r,c)>0||a&&a.every(function(u){return fh(u,c)>0})||!1}function Tae(e,t){var n=t===void 0?{}:t,r=n.maxDate,a=n.includeDates,s=O3(e),c=rj(s,1);return r&&fh(c,r)>0||a&&a.every(function(u){return fh(c,u)>0})||!1}function KE(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.includeDates,s=Ks(e,1);return r&&mh(r,s)>0||a&&a.every(function(c){return mh(c,s)>0})||!1}function Pae(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.yearItemNumber,s=a===void 0?Wd:a,c=Ju(Ks(e,s)),u=Ri(c,s).endPeriod,f=r&&ct(r);return f&&f>u||!1}function WE(e,t){var n=t===void 0?{}:t,r=n.maxDate,a=n.includeDates,s=Na(e,1);return r&&mh(s,r)>0||a&&a.every(function(c){return mh(s,c)>0})||!1}function Iae(e,t){var n=t===void 0?{}:t,r=n.maxDate,a=n.yearItemNumber,s=a===void 0?Wd:a,c=Na(e,s),u=Ri(c,s).startPeriod,f=r&&ct(r);return f&&f<u||!1}function aI(e){var t=e.minDate,n=e.includeDates;if(n&&t){var r=n.filter(function(a){return hc(a,t)>=0});return gE(r)}else return n?gE(n):t}function iI(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var r=n.filter(function(a){return hc(a,t)<=0});return xE(r)}else return n?xE(n):t}function QE(e,t){var n;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var r=new Map,a=0,s=e.length;a<s;a++){var c=e[a];if(ti(c)){var u=Qt(c,"MM.dd.yyyy"),f=r.get(u)||[];f.includes(t)||(f.push(t),r.set(u,f))}else if(typeof c=="object"){var m=Object.keys(c),h=(n=m[0])!==null&&n!==void 0?n:"",v=c[h];if(typeof h=="string"&&Array.isArray(v))for(var x=0,b=v.length;x<b;x++){var S=v[x];if(S){var u=Qt(S,"MM.dd.yyyy"),f=r.get(u)||[];f.includes(h)||(f.push(h),r.set(u,f))}}}}return r}function Rae(e,t){return e.length!==t.length?!1:e.every(function(n,r){return n===t[r]})}function Lae(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach(function(r){var a=r.date,s=r.holidayName;if(ti(a)){var c=Qt(a,"MM.dd.yyyy"),u=n.get(c)||{className:"",holidayNames:[]};if(!("className"in u&&u.className===t&&Rae(u.holidayNames,[s]))){u.className=t;var f=u.holidayNames;u.holidayNames=f?Za(Za([],f,!0),[s],!1):[s],n.set(c,u)}}}),n}function zae(e,t,n,r,a){for(var s=a.length,c=[],u=0;u<s;u++){var f=e,m=a[u];m&&(f=_ee(f,Qr(m)),f=yd(f,Xr(m)),f=Pee(f,$s(m)));var h=yd(e,(n+1)*r);Fi(f,t)&&Xa(f,h)&&m!=null&&c.push(m)}return c}function Yo(e){return e<10?"0".concat(e):"".concat(e)}function Ri(e,t){t===void 0&&(t=Wd);var n=Math.ceil(ct(e)/t)*t,r=n-(t-1);return{startPeriod:r,endPeriod:n}}function Fae(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}function XE(e){var t=e.getSeconds(),n=e.getMilliseconds();return Le(e.getTime()-t*1e3-n)}function sI(e,t){return XE(e).getTime()===XE(t).getTime()}function ZE(e){if(!ti(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function Mb(e,t){if(!ti(e)||!ti(t))throw new Error("Invalid date received");var n=ZE(e),r=ZE(t);return Xa(n,r)}function lI(e){return e.key===Me.Space}var kb=(function(e){Vr(t,e);function t(n){var r=e.call(this,n)||this;return r.inputRef=oe.createRef(),r.onTimeChange=function(a){var s,c;r.setState({time:a});var u=r.props.date,f=u instanceof Date&&!isNaN(+u),m=f?u:new Date;if(a?.includes(":")){var h=a.split(":"),v=h[0],x=h[1];m.setHours(Number(v)),m.setMinutes(Number(x))}(c=(s=r.props).onChange)===null||c===void 0||c.call(s,m)},r.renderTimeInput=function(){var a=r.state.time,s=r.props,c=s.date,u=s.timeString,f=s.customTimeInput;return f?j.cloneElement(f,{date:c,value:a,onChange:r.onTimeChange}):oe.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var m;(m=r.inputRef.current)===null||m===void 0||m.focus()},required:!0,value:a,onChange:function(m){r.onTimeChange(m.target.value||u)}})},r.state={time:r.props.timeString},r}return t.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},t.prototype.render=function(){return oe.createElement("div",{className:"react-datepicker__input-time-container"},oe.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),oe.createElement("div",{className:"react-datepicker-time__input-container"},oe.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t})(j.Component),Bae=(function(e){Vr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.dayEl=j.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var a,s,c=r.key;c===Me.Space&&(r.preventDefault(),r.key=Me.Enter),(s=(a=n.props).handleOnKeyDown)===null||s===void 0||s.call(a,r)},n.isSameDay=function(r){return mt(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var a=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(c){return n.isSameDayOrWeek(c)}):n.isSameDayOrWeek(n.props.selected),s=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!a&&n.isSameDayOrWeek(n.props.preSelection)&&!s},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),na(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate,disabled:n.props.disabled})},n.isExcluded=function(){return pj(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return mt(n.props.day,qs(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&mt(r,qs(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,a=r.day,s=r.highlightDates;if(!s)return!1;var c=Qt(a,"MM.dd.yyyy");return s.get(c)},n.getHolidaysClass=function(){var r,a=n.props,s=a.day,c=a.holidays;if(!c)return[void 0];var u=Qt(s,"MM.dd.yyyy");return c.has(u)?[(r=c.get(u))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,a=r.day,s=r.startDate,c=r.endDate;return!s||!c?!1:_l(a,s,c)},n.isInSelectingRange=function(){var r,a=n.props,s=a.day,c=a.selectsStart,u=a.selectsEnd,f=a.selectsRange,m=a.selectsDisabledDaysInRange,h=a.startDate,v=a.swapRange,x=a.endDate,b=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;if(n.isAfterMonth()||n.isBeforeMonth()||!(c||u||f)||!b||!m&&n.isDisabled())return!1;if(c&&x&&(Xa(b,x)||Fl(b,x)))return _l(s,b,x);if(u&&h&&(Fi(b,h)||Fl(b,h)))return _l(s,h,b);if(f&&h&&!x){if(Fl(b,h)||Fi(b,h))return _l(s,h,b);if(v&&Xa(b,h))return _l(s,b,h)}return!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var a=n.props,s=a.day,c=a.startDate,u=a.selectsStart,f=a.swapRange,m=a.selectsRange,h=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return u?mt(s,h):m&&f&&c&&h?mt(s,Xa(h,c)?h:c):mt(s,c)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var a=n.props,s=a.day,c=a.endDate,u=a.selectsEnd,f=a.selectsRange,m=a.swapRange,h=a.startDate,v=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return u?mt(s,v):f&&m&&h&&v?mt(s,Xa(v,h)?h:v):f?mt(s,v):mt(s,c)},n.isRangeStart=function(){var r=n.props,a=r.day,s=r.startDate,c=r.endDate;return!s||!c?!1:mt(s,a)},n.isRangeEnd=function(){var r=n.props,a=r.day,s=r.startDate,c=r.endDate;return!s||!c?!1:mt(c,a)},n.isWeekend=function(){var r=Ote(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===gn(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(gn(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(gt())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(a){return n.isSameDayOrWeek(a)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var a=n.props.dayClassName?n.props.dayClassName(r):void 0;return st("react-datepicker__day",a,"react-datepicker__day--"+Sae(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,a=r.day,s=r.ariaLabelPrefixWhenEnabled,c=s===void 0?"Choose":s,u=r.ariaLabelPrefixWhenDisabled,f=u===void 0?"Not available":u,m=n.isDisabled()||n.isExcluded()?f:c;return"".concat(m," ").concat(Qt(a,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,a=r.day,s=r.holidays,c=s===void 0?new Map:s,u=r.excludeDates,f=Qt(a,"MM.dd.yyyy"),m=[];return c.has(f)&&m.push.apply(m,c.get(f).holidayNames),n.isExcluded()&&m.push(u?.filter(function(h){return h instanceof Date?mt(h,a):mt(h?.date,a)}).map(function(h){if(!(h instanceof Date))return h?.message})),m.join(", ")},n.getTabIndex=function(){var r=n.props.selected,a=n.props.preSelection,s=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&mt(a,r))?0:-1;return s},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(CE(n.props.day),n.props.day):CE(n.props.day)},n.render=function(){return oe.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"gridcell",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&oe.createElement("span",{className:"overlay"},n.getTitle()))},n}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},t.prototype.isDayActiveElement=function(){var n,r,a;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t})(j.Component),$ae=(function(e){Vr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.weekNumberEl=j.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var a,s,c=r.key;c===Me.Space&&(r.preventDefault(),r.key=Me.Enter),(s=(a=n.props).handleOnKeyDown)===null||s===void 0||s.call(a,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!mt(n.props.date,n.props.selected)&&mt(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||mt(n.props.date,n.props.selected)&&mt(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var a=!1;n.getTabIndex()===0&&!r?.isInputFocused&&mt(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(a=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},t.prototype.render=function(){var n=this.props,r=n.weekNumber,a=n.isWeekDisabled,s=n.ariaLabelPrefix,c=s===void 0?t.defaultProps.ariaLabelPrefix:s,u=n.onClick,f={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!u&&!a,"react-datepicker__week-number--selected":!!u&&mt(this.props.date,this.props.selected)};return oe.createElement("div",{ref:this.weekNumberEl,className:st(f),"aria-label":"".concat(c," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},r)},t})(j.Component),qae=(function(e){Vr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isDisabled=function(r){return na(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,a){n.props.onDayClick&&n.props.onDayClick(r,a)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,a,s){for(var c,u,f,m=new Date(r),h=0;h<7;h++){var v=new Date(r);v.setDate(v.getDate()+h);var x=!n.isDisabled(v);if(x){m=v;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(m,a,s),n.props.showWeekPicker&&n.handleDayClick(m,s),((c=n.props.shouldCloseOnSelect)!==null&&c!==void 0?c:t.defaultProps.shouldCloseOnSelect)&&((f=(u=n.props).setOpen)===null||f===void 0||f.call(u,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):Nae(r)},n.isWeekDisabled=function(){for(var r=n.startOfWeek(),a=ja(r,6),s=new Date(r);s<=a;){if(!n.isDisabled(s))return!1;s=ja(s,1)}return!0},n.renderDays=function(){var r=n.startOfWeek(),a=[],s=n.formatWeekNumber(r);if(n.props.showWeekNumber){var c=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,s):void 0;a.push(oe.createElement($ae,it({key:"W"},t.defaultProps,n.props,{weekNumber:s,isWeekDisabled:n.isWeekDisabled(),date:r,onClick:c})))}return a.concat([0,1,2,3,4,5,6].map(function(u){var f=ja(r,u);return oe.createElement(Bae,it({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:f.valueOf(),day:f,onClick:n.handleDayClick.bind(n,f),onMouseEnter:n.handleDayMouseEnter.bind(n,f)}))}))},n.startOfWeek=function(){return qs(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!mt(n.startOfWeek(),n.props.selected)&&mt(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":mt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},r=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return oe.createElement("div",{className:st(n,r),role:"row"},this.renderDays())},t})(j.Component),Yu,Hae=6,ac={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Db=(Yu={},Yu[ac.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Yu[ac.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Yu[ac.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Yu),Rm=1;function JE(e,t){return e?ac.FOUR_COLUMNS:t?ac.TWO_COLUMNS:ac.THREE_COLUMNS}var Uae=(function(e){Vr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.MONTH_REFS=Za([],Array(12),!0).map(function(){return j.createRef()}),n.QUARTER_REFS=Za([],Array(4),!0).map(function(){return j.createRef()}),n.isDisabled=function(r){return na(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate,disabled:n.props.disabled})},n.isExcluded=function(r){return pj(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,a){var s,c;(c=(s=n.props).onDayClick)===null||c===void 0||c.call(s,r,a,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var a,s;(s=(a=n.props).onDayMouseEnter)===null||s===void 0||s.call(a,r)},n.handleMouseLeave=function(){var r,a;(a=(r=n.props).onMouseLeave)===null||a===void 0||a.call(r)},n.isRangeStartMonth=function(r){var a=n.props,s=a.day,c=a.startDate,u=a.endDate;return!c||!u?!1:en(Tn(s,r),c)},n.isRangeStartQuarter=function(r){var a=n.props,s=a.day,c=a.startDate,u=a.endDate;return!c||!u?!1:yh(Qo(s,r),c)},n.isRangeEndMonth=function(r){var a=n.props,s=a.day,c=a.startDate,u=a.endDate;return!c||!u?!1:en(Tn(s,r),u)},n.isRangeEndQuarter=function(r){var a=n.props,s=a.day,c=a.startDate,u=a.endDate;return!c||!u?!1:yh(Qo(s,r),u)},n.isInSelectingRangeMonth=function(r){var a,s=n.props,c=s.day,u=s.selectsStart,f=s.selectsEnd,m=s.selectsRange,h=s.startDate,v=s.endDate,x=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return!(u||f||m)||!x?!1:u&&v?Om(x,v,r,c):f&&h||m&&h&&!v?Om(h,x,r,c):!1},n.isSelectingMonthRangeStart=function(r){var a;if(!n.isInSelectingRangeMonth(r))return!1;var s=n.props,c=s.day,u=s.startDate,f=s.selectsStart,m=Tn(c,r),h=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return f?en(m,h):en(m,u)},n.isSelectingMonthRangeEnd=function(r){var a;if(!n.isInSelectingRangeMonth(r))return!1;var s=n.props,c=s.day,u=s.endDate,f=s.selectsEnd,m=s.selectsRange,h=Tn(c,r),v=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return f||m?en(h,v):en(h,u)},n.isInSelectingRangeQuarter=function(r){var a,s=n.props,c=s.day,u=s.selectsStart,f=s.selectsEnd,m=s.selectsRange,h=s.startDate,v=s.endDate,x=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return!(u||f||m)||!x?!1:u&&v?Im(x,v,r,c):f&&h||m&&h&&!v?Im(h,x,r,c):!1},n.isWeekInMonth=function(r){var a=n.props.day,s=ja(r,6);return en(r,a)||en(s,a)},n.isCurrentMonth=function(r,a){return ct(r)===ct(gt())&&a===gn(gt())},n.isCurrentQuarter=function(r,a){return ct(r)===ct(gt())&&a===zs(gt())},n.isSelectedMonth=function(r,a,s){return gn(s)===a&&ct(r)===ct(s)},n.isSelectMonthInList=function(r,a,s){return s.some(function(c){return n.isSelectedMonth(r,a,c)})},n.isSelectedQuarter=function(r,a,s){return zs(s)===a&&ct(r)===ct(s)},n.isSelectQuarterInList=function(r,a,s){return s.some(function(c){return n.isSelectedQuarter(r,a,c)})},n.isMonthSelected=function(){var r=n.props,a=r.day,s=r.selected,c=r.selectedDates,u=r.selectsMultiple,f=gn(a);return u?c?.some(function(m){return n.isSelectedMonth(a,f,m)}):!!s&&n.isSelectedMonth(a,f,s)},n.isQuarterSelected=function(){var r=n.props,a=r.day,s=r.selected,c=r.selectedDates,u=r.selectsMultiple,f=zs(a);return u?c?.some(function(m){return n.isSelectedQuarter(a,f,m)}):!!s&&n.isSelectedQuarter(a,f,s)},n.renderWeeks=function(){if(!xn(n.props.day))return[];for(var r=[],a=n.props.fixedHeight,s=0,c=!1,u=qs(Bi(n.props.day),n.props.locale,n.props.calendarStartDay),f=function(S){return n.props.showWeekPicker?qs(S,n.props.locale,n.props.calendarStartDay):n.props.preSelection},m=function(S){return n.props.showWeekPicker?qs(S,n.props.locale,n.props.calendarStartDay):n.props.selected},h=n.props.selected?m(n.props.selected):void 0,v=n.props.preSelection?f(n.props.preSelection):void 0;r.push(oe.createElement(qae,it({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:s,day:u,month:gn(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:h,preSelection:v,showWeekNumber:n.props.showWeekNumbers}))),!c;){s++,u=uh(u,1);var x=a&&s>=Hae,b=!a&&!n.isWeekInMonth(u);if(x||b)if(n.props.peekNextMonth)c=!0;else break}return r},n.onMonthClick=function(r,a){var s=n.isMonthDisabledForLabelDate(a),c=s.isDisabled,u=s.labelDate;c||n.handleDayClick(Bi(u),r)},n.onMonthMouseEnter=function(r){var a=n.isMonthDisabledForLabelDate(r),s=a.isDisabled,c=a.labelDate;s||n.handleDayMouseEnter(Bi(c))},n.handleMonthNavigation=function(r,a){var s,c,u,f;(c=(s=n.props).setPreSelection)===null||c===void 0||c.call(s,a),(f=(u=n.MONTH_REFS[r])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus()},n.handleKeyboardNavigation=function(r,a,s){var c,u=n.props,f=u.selected,m=u.preSelection,h=u.setPreSelection,v=u.minDate,x=u.maxDate,b=u.showFourColumnMonthYearPicker,S=u.showTwoColumnMonthYearPicker;if(m){var w=JE(b,S),y=n.getVerticalOffset(w),C=(c=Db[w])===null||c===void 0?void 0:c.grid,M=function(P,O,L){var R,B,D=O,W=L;switch(P){case Me.ArrowRight:D=Aa(O,Rm),W=L===11?0:L+Rm;break;case Me.ArrowLeft:D=Hl(O,Rm),W=L===0?11:L-Rm;break;case Me.ArrowUp:D=Hl(O,y),W=!((R=C?.[0])===null||R===void 0)&&R.includes(L)?L+12-y:L-y;break;case Me.ArrowDown:D=Aa(O,y),W=!((B=C?.[C.length-1])===null||B===void 0)&&B.includes(L)?L-12+y:L+y;break}return{newCalculatedDate:D,newCalculatedMonth:W}},A=function(P,O,L){for(var R=40,B=P,D=!1,W=0,X=M(B,O,L),Z=X.newCalculatedDate,$=X.newCalculatedMonth;!D;){if(W>=R){Z=O,$=L;break}if(v&&Z<v){B=Me.ArrowRight;var G=M(B,Z,$);Z=G.newCalculatedDate,$=G.newCalculatedMonth}if(x&&Z>x){B=Me.ArrowLeft;var G=M(B,Z,$);Z=G.newCalculatedDate,$=G.newCalculatedMonth}if(_ae(Z,n.props)){var G=M(B,Z,$);Z=G.newCalculatedDate,$=G.newCalculatedMonth}else D=!0;W++}return{newCalculatedDate:Z,newCalculatedMonth:$}};if(a===Me.Enter){n.isMonthDisabled(s)||(n.onMonthClick(r,s),h?.(f));return}var _=A(a,m,s),E=_.newCalculatedDate,T=_.newCalculatedMonth;switch(a){case Me.ArrowRight:case Me.ArrowLeft:case Me.ArrowUp:case Me.ArrowDown:n.handleMonthNavigation(T,E);break}}},n.getVerticalOffset=function(r){var a,s;return(s=(a=Db[r])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&s!==void 0?s:0},n.onMonthKeyDown=function(r,a){var s=n.props,c=s.disabledKeyboardNavigation,u=s.handleOnMonthKeyDown,f=r.key;f!==Me.Tab&&r.preventDefault(),c||n.handleKeyboardNavigation(r,f,a),u&&u(r)},n.onQuarterClick=function(r,a){var s=Qo(n.props.day,a);Tm(s,n.props)||n.handleDayClick(BE(s),r)},n.onQuarterMouseEnter=function(r){var a=Qo(n.props.day,r);Tm(a,n.props)||n.handleDayMouseEnter(BE(a))},n.handleQuarterNavigation=function(r,a){var s,c,u,f;n.isDisabled(a)||n.isExcluded(a)||((c=(s=n.props).setPreSelection)===null||c===void 0||c.call(s,a),(f=(u=n.QUARTER_REFS[r-1])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus())},n.onQuarterKeyDown=function(r,a){var s,c,u=r.key;if(!n.props.disabledKeyboardNavigation)switch(u){case Me.Enter:n.onQuarterClick(r,a),(c=(s=n.props).setPreSelection)===null||c===void 0||c.call(s,n.props.selected);break;case Me.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(a===4?1:a+1,rj(n.props.preSelection,1));break;case Me.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(a===1?4:a-1,$3(n.props.preSelection));break}},n.isMonthDisabledForLabelDate=function(r){var a,s=n.props,c=s.day,u=s.disabled,f=s.minDate,m=s.maxDate,h=s.excludeDates,v=s.includeDates,x=Tn(c,r);return u?{isDisabled:!0,labelDate:Tn(c,r)}:{isDisabled:(a=(f||m||h||v)&&nI(x,n.props))!==null&&a!==void 0?a:!1,labelDate:x}},n.isMonthDisabled=function(r){var a=n.isMonthDisabledForLabelDate(r).isDisabled;return a},n.getMonthClassNames=function(r){var a=n.props,s=a.day,c=a.startDate,u=a.endDate,f=a.preSelection,m=a.monthClassName,h=m?m(Tn(s,r)):void 0,v=n.getSelection();return st("react-datepicker__month-text","react-datepicker__month-".concat(r),h,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":v?n.isSelectMonthInList(s,r,v):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&f&&n.isSelectedMonth(s,r,f)&&!n.isMonthSelected()&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":c&&u?Om(c,u,r,s):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(s,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var a=gn(n.props.preSelection),s=n.isMonthDisabledForLabelDate(a).isDisabled,c=r===a&&!(s||n.props.disabledKeyboardNavigation)?"0":"-1";return c},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var a=zs(n.props.preSelection),s=Tm(n.props.day,n.props),c=r===a&&!(s||n.props.disabledKeyboardNavigation)?"0":"-1";return c},n.getAriaLabel=function(r){var a=n.props,s=a.chooseDayAriaLabelPrefix,c=s===void 0?"Choose":s,u=a.disabledDayAriaLabelPrefix,f=u===void 0?"Not available":u,m=a.day,h=a.locale,v=Tn(m,r),x=n.isDisabled(v)||n.isExcluded(v)?f:c;return"".concat(x," ").concat(Qt(v,"MMMM yyyy",h))},n.getQuarterClassNames=function(r){var a=n.props,s=a.day,c=a.startDate,u=a.endDate,f=a.minDate,m=a.maxDate,h=a.excludeDates,v=a.includeDates,x=a.filterDate,b=a.preSelection,S=a.disabledKeyboardNavigation,w=a.disabled,y=(f||m||h||v||x||w)&&Tm(Qo(s,r),n.props),C=n.getSelection();return st("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":y,"react-datepicker__quarter-text--selected":C?n.isSelectQuarterInList(s,r,C):void 0,"react-datepicker__quarter-text--keyboard-selected":!S&&b&&n.isSelectedQuarter(s,r,b)&&!n.isQuarterSelected()&&!y,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":c&&u?Im(c,u,r,s):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":n.isCurrentQuarter(s,r)})},n.getMonthContent=function(r){var a=n.props,s=a.showFullMonthYearPicker,c=a.renderMonthContent,u=a.locale,f=a.day,m=rI(r,u),h=mj(r,u);return c?c(r,m,h,f):s?h:m},n.getQuarterContent=function(r){var a,s=n.props,c=s.renderQuarterContent,u=s.locale,f=Eae(r,u);return(a=c?.(r,f))!==null&&a!==void 0?a:f},n.renderMonths=function(){var r,a=n.props,s=a.showTwoColumnMonthYearPicker,c=a.showFourColumnMonthYearPicker,u=a.day,f=a.selected,m=(r=Db[JE(c,s)])===null||r===void 0?void 0:r.grid;return m?.map(function(h,v){return oe.createElement("div",{className:"react-datepicker__month-wrapper",key:v},h.map(function(x,b){return oe.createElement("div",{ref:n.MONTH_REFS[x],key:b,onClick:function(S){n.onMonthClick(S,x)},onKeyDown:function(S){lI(S)&&(S.preventDefault(),S.key=Me.Enter),n.onMonthKeyDown(S,x)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(x)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(x)}:void 0,tabIndex:Number(n.getTabIndex(x)),className:n.getMonthClassNames(x),"aria-disabled":n.isMonthDisabled(x),role:"option","aria-label":n.getAriaLabel(x),"aria-current":n.isCurrentMonth(u,x)?"date":void 0,"aria-selected":f?n.isSelectedMonth(u,x,f):void 0},n.getMonthContent(x))}))})},n.renderQuarters=function(){var r=n.props,a=r.day,s=r.selected,c=[1,2,3,4];return oe.createElement("div",{className:"react-datepicker__quarter-wrapper"},c.map(function(u,f){return oe.createElement("div",{key:f,ref:n.QUARTER_REFS[f],role:"option",onClick:function(m){n.onQuarterClick(m,u)},onKeyDown:function(m){n.onQuarterKeyDown(m,u)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(u)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(u)}:void 0,className:n.getQuarterClassNames(u),"aria-selected":s?n.isSelectedQuarter(a,u,s):void 0,tabIndex:Number(n.getQuarterTabIndex(u)),"aria-current":n.isCurrentQuarter(a,u)?"date":void 0},n.getQuarterContent(u))}))},n.getClassNames=function(){var r=n.props,a=r.selectingDate,s=r.selectsStart,c=r.selectsEnd,u=r.showMonthYearPicker,f=r.showQuarterYearPicker,m=r.showWeekPicker;return st("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(s||c)},{"react-datepicker__monthPicker":u},{"react-datepicker__quarterPicker":f},{"react-datepicker__weekPicker":m})},n}return t.prototype.getSelection=function(){var n=this.props,r=n.selected,a=n.selectedDates,s=n.selectsMultiple;if(s)return a;if(r)return[r]},t.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,a=n.showQuarterYearPicker,s=n.day,c=n.ariaLabelPrefix,u=c===void 0?"Month ":c,f=u?u.trim()+" ":"",m=xn(s)?"".concat(f).concat(Qt(s,"MMMM, yyyy",this.props.locale)):"",h=r||a;return h?oe.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":m,role:"listbox"},r?this.renderMonths():this.renderQuarters()):oe.createElement("div",{role:"table"},this.props.dayNamesHeader&&oe.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),this.props.monthHeader&&oe.createElement("div",{role:"rowgroup"},this.props.monthHeader),oe.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":m,role:"rowgroup"},this.renderWeeks()),this.props.monthFooter&&oe.createElement("div",{role:"rowgroup"},this.props.monthFooter))},t})(j.Component),Yae=(function(e){Vr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.monthOptionButtonsRef={},n.isSelectedMonth=function(r){return n.props.month===r},n.handleOptionKeyDown=function(r,a){var s;switch(a.key){case"Enter":a.preventDefault(),n.onChange(r);break;case"Escape":a.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":{a.preventDefault();var c=(r+(a.key==="ArrowUp"?-1:1)+n.props.monthNames.length)%n.props.monthNames.length;(s=n.monthOptionButtonsRef[c])===null||s===void 0||s.focus();break}}},n.renderOptions=function(){return n.monthOptionButtonsRef={},n.props.monthNames.map(function(r,a){return oe.createElement("div",{ref:function(s){n.monthOptionButtonsRef[a]=s,n.isSelectedMonth(a)&&s?.focus()},role:"button",tabIndex:0,className:n.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,a),onKeyDown:n.handleOptionKeyDown.bind(n,a),"aria-selected":n.isSelectedMonth(a)?"true":void 0},n.isSelectedMonth(a)?oe.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return t.prototype.render=function(){return oe.createElement(Nv,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t})(j.Component),Vae=(function(e){Vr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(a,s){return oe.createElement("option",{key:a,value:s},a)})},n.renderSelectMode=function(r){return oe.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(a){return n.onChange(parseInt(a.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,a){return oe.createElement("button",{key:"read",type:"button",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},oe.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),oe.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[n.props.month]))},n.renderDropdown=function(r){return oe.createElement(Yae,it({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var a=n.state.dropdownVisible,s=[n.renderReadView(!a,r)];return a&&s.unshift(n.renderDropdown(r)),s},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return rI(s,n.props.locale)}:function(s){return mj(s,n.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(r);break;case"select":a=this.renderSelectMode(r);break}return oe.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},t})(j.Component),e_=5;function Gae(e,t,n){for(var r=[],a=e??Ks(n,e_),s=t??Na(n,e_),c=Bi(a),u=Bi(s);!Fi(c,u);)r.push(gt(c)),c=Aa(c,1);return r}var Kae=(function(e){Vr(t,e);function t(n){var r=e.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(a){var s=Uy(a),c=Ua(r.props.date,a)&&en(r.props.date,a);return oe.createElement("div",{className:c?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:r.onChange.bind(r,s),"aria-selected":c?"true":void 0},c?oe.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Qt(a,r.props.dateFormat,r.props.locale))})},r.onChange=function(a){return r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:Gae(r.props.minDate,r.props.maxDate,r.props.date)},r}return t.prototype.render=function(){var n=st({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return oe.createElement(Nv,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},t})(j.Component),t_=5,Wae=(function(e){Vr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r,a,s=(r=n.props.minDate)!==null&&r!==void 0?r:Ks(n.props.date,t_),c=(a=n.props.maxDate)!==null&&a!==void 0?a:Na(n.props.date,t_),u=Bi(s),f=Bi(c),m=[];!Fi(u,f);){var h=Uy(u);m.push(oe.createElement("option",{key:h,value:h},Qt(u,n.props.dateFormat,n.props.locale))),u=Aa(u,1)}return m},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return oe.createElement("select",{value:Uy(Bi(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var a=Qt(n.props.date,n.props.dateFormat,n.props.locale);return oe.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},oe.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),oe.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},n.renderDropdown=function(){return oe.createElement(Kae,it({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,a=[n.renderReadView(!r)];return r&&a.unshift(n.renderDropdown()),a},n.onChange=function(r){n.toggleDropdown();var a=gt(r);Ua(n.props.date,a)&&en(n.props.date,a)||n.props.onChange(a)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return oe.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},t})(j.Component),Qae=(function(e){Vr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,a,s;n.list&&(n.list.scrollTop=(s=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((a=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&a!==void 0?a:0):n.list.clientHeight,n.centerLi))!==null&&s!==void 0?s:0)})},n.handleClick=function(r){var a,s;(n.props.minTime||n.props.maxTime)&&YE(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&UE(r,n.props)||(s=(a=n.props).onChange)===null||s===void 0||s.call(a,r)},n.isSelectedTime=function(r){var a=zl(n.props.selected);return a&&sI(a,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&YE(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&UE(r,n.props)},n.liClasses=function(r){var a,s=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&s.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&s.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(Qr(r)*3600+Xr(r)*60+$s(r))%(((a=n.props.intervals)!==null&&a!==void 0?a:t.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},n.handleOnKeyDown=function(r,a){var s,c;r.key===Me.Space&&(r.preventDefault(),r.key=Me.Enter),(r.key===Me.ArrowUp||r.key===Me.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Me.ArrowDown||r.key===Me.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Me.Enter&&n.handleClick(a),(c=(s=n.props).handleOnKeyDown)===null||c===void 0||c.call(s,r)},n.renderTimes=function(){for(var r,a=[],s=typeof n.props.format=="string"?n.props.format:"p",c=(r=n.props.intervals)!==null&&r!==void 0?r:t.defaultProps.intervals,u=zl(n.props.selected)||zl(n.props.openToDate)||gt(),f=Zu(u),m=n.props.injectTimes&&n.props.injectTimes.sort(function(y,C){return y.getTime()-C.getTime()}),h=60*Fae(u),v=h/c,x=0;x<v;x++){var b=yd(f,x*c);if(a.push(b),m){var S=zae(f,b,x,c,m);a=a.concat(S)}}var w=a.reduce(function(y,C){return C.getTime()<=u.getTime()?C:y},a[0]);return a.map(function(y){return oe.createElement("li",{key:y.valueOf(),onClick:n.handleClick.bind(n,y),className:n.liClasses(y),ref:function(C){y===w&&(n.centerLi=C)},onKeyDown:function(C){n.handleOnKeyDown(C,y)},tabIndex:y===w?0:-1,role:"option","aria-selected":n.isSelectedTime(y)?"true":void 0,"aria-disabled":n.isDisabledTime(y)?"true":void 0},Qt(y,s,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?oe.createElement(oe.Fragment,null):oe.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},oe.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var n;(n=this.resizeObserver)===null||n===void 0||n.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var n=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){n.updateContainerHeight()}),this.resizeObserver.observe(r))},t.prototype.updateContainerHeight=function(){if(this.props.monthRef&&this.header){var n=this.props.monthRef.clientHeight-this.header.clientHeight;this.state.height!==n&&this.setState({height:n})}},t.prototype.render=function(){var n=this,r,a=this.state.height;return oe.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),oe.createElement("div",{className:"react-datepicker__time"},oe.createElement("div",{className:"react-datepicker__time-box"},oe.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){n.list=s},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},t})(j.Component),r_=3,Xae=(function(e){Vr(t,e);function t(n){var r=e.call(this,n)||this;return r.YEAR_REFS=Za([],Array(r.props.yearItemNumber),!0).map(function(){return j.createRef()}),r.isDisabled=function(a){return na(a,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(a){return pj(a,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var a;return(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection},r.updateFocusOnPaginate=function(a){var s=function(){var c,u;(u=(c=r.YEAR_REFS[a])===null||c===void 0?void 0:c.current)===null||u===void 0||u.focus()};window.requestAnimationFrame(s)},r.handleYearClick=function(a,s){r.props.onDayClick&&r.props.onDayClick(a,s)},r.handleYearNavigation=function(a,s){var c,u,f,m,h=r.props,v=h.date,x=h.yearItemNumber;if(!(v===void 0||x===void 0)){var b=Ri(v,x).startPeriod;r.isDisabled(s)||r.isExcluded(s)||((u=(c=r.props).setPreSelection)===null||u===void 0||u.call(c,s),a-b<0?r.updateFocusOnPaginate(x-(b-a)):a-b>=x?r.updateFocusOnPaginate(Math.abs(x-(a-b))):(m=(f=r.YEAR_REFS[a-b])===null||f===void 0?void 0:f.current)===null||m===void 0||m.focus())}},r.isSameDay=function(a,s){return mt(a,s)},r.isCurrentYear=function(a){return a===ct(gt())},r.isRangeStart=function(a){return r.props.startDate&&r.props.endDate&&Ua(Ha(gt(),a),r.props.startDate)},r.isRangeEnd=function(a){return r.props.startDate&&r.props.endDate&&Ua(Ha(gt(),a),r.props.endDate)},r.isInRange=function(a){return Pm(a,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(a){var s=r.props,c=s.selectsStart,u=s.selectsEnd,f=s.selectsRange,m=s.startDate,h=s.endDate;return!(c||u||f)||!r.selectingDate()?!1:c&&h?Pm(a,r.selectingDate(),h):u&&m||f&&m&&!h?Pm(a,m,r.selectingDate()):!1},r.isSelectingRangeStart=function(a){var s;if(!r.isInSelectingRange(a))return!1;var c=r.props,u=c.startDate,f=c.selectsStart,m=Ha(gt(),a);return f?Ua(m,(s=r.selectingDate())!==null&&s!==void 0?s:null):Ua(m,u??null)},r.isSelectingRangeEnd=function(a){var s;if(!r.isInSelectingRange(a))return!1;var c=r.props,u=c.endDate,f=c.selectsEnd,m=c.selectsRange,h=Ha(gt(),a);return f||m?Ua(h,(s=r.selectingDate())!==null&&s!==void 0?s:null):Ua(h,u??null)},r.isKeyboardSelected=function(a){if(!(r.props.disabledKeyboardNavigation||r.props.date===void 0||r.props.preSelection==null)){var s=r.props,c=s.minDate,u=s.maxDate,f=s.excludeDates,m=s.includeDates,h=s.filterDate,v=s.selected,x=Ju(Ha(r.props.date,a)),b=(c||u||f||m||h)&&dp(a,r.props),S=!!v&&mt(x,Ju(v)),w=mt(x,Ju(r.props.preSelection));return!r.props.inline&&!S&&w&&!b}},r.isSelectedYear=function(a){var s=r.props,c=s.selectsMultiple,u=s.selected,f=s.selectedDates;return c?f?.some(function(m){return a===ct(m)}):!!u&&a===ct(u)},r.onYearClick=function(a,s){var c=r.props.date;c!==void 0&&r.handleYearClick(Ju(Ha(c,s)),a)},r.onYearKeyDown=function(a,s){var c,u,f=a.key,m=r.props,h=m.date,v=m.yearItemNumber,x=m.handleOnKeyDown;if(f!==Me.Tab&&a.preventDefault(),!r.props.disabledKeyboardNavigation)switch(f){case Me.Enter:if(r.props.selected==null)break;r.onYearClick(a,s),(u=(c=r.props).setPreSelection)===null||u===void 0||u.call(c,r.props.selected);break;case Me.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(s+1,Na(r.props.preSelection,1));break;case Me.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(s-1,Ks(r.props.preSelection,1));break;case Me.ArrowUp:{if(h===void 0||v===void 0||r.props.preSelection==null)break;var b=Ri(h,v).startPeriod,S=r_,w=s-S;if(w<b){var y=v%S;s>=b&&s<b+y?S=y:S+=y,w=s-S}r.handleYearNavigation(w,Ks(r.props.preSelection,S));break}case Me.ArrowDown:{if(h===void 0||v===void 0||r.props.preSelection==null)break;var C=Ri(h,v).endPeriod,S=r_,w=s+S;if(w>C){var y=v%S;s<=C&&s>C-y?S=y:S+=y,w=s+S}r.handleYearNavigation(w,Na(r.props.preSelection,S));break}}x&&x(a)},r.getYearClassNames=function(a){var s=r.props,c=s.date,u=s.disabled,f=s.minDate,m=s.maxDate,h=s.excludeDates,v=s.includeDates,x=s.filterDate,b=s.yearClassName;return st("react-datepicker__year-text","react-datepicker__year-".concat(a),c?b?.(Ha(c,a)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(a),"react-datepicker__year-text--disabled":(f||m||h||v||x||u)&&dp(a,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(a),"react-datepicker__year-text--range-start":r.isRangeStart(a),"react-datepicker__year-text--range-end":r.isRangeEnd(a),"react-datepicker__year-text--in-range":r.isInRange(a),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(a),"react-datepicker__year-text--today":r.isCurrentYear(a)})},r.getYearTabIndex=function(a){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var s=ct(r.props.preSelection),c=dp(a,r.props);return a===s&&!c?"0":"-1"},r.getYearContent=function(a){return r.props.renderYearContent?r.props.renderYearContent(a):a},r}return t.prototype.render=function(){var n=this,r=[],a=this.props,s=a.date,c=a.yearItemNumber,u=a.onYearMouseEnter,f=a.onYearMouseLeave;if(s===void 0)return null;for(var m=Ri(s,c),h=m.startPeriod,v=m.endPeriod,x=function(w){r.push(oe.createElement("div",{ref:b.YEAR_REFS[w-h],onClick:function(y){n.onYearClick(y,w)},onKeyDown:function(y){lI(y)&&(y.preventDefault(),y.key=Me.Enter),n.onYearKeyDown(y,w)},tabIndex:Number(b.getYearTabIndex(w)),className:b.getYearClassNames(w),onMouseEnter:b.props.usePointerEvent?void 0:function(y){return u(y,w)},onPointerEnter:b.props.usePointerEvent?function(y){return u(y,w)}:void 0,onMouseLeave:b.props.usePointerEvent?void 0:function(y){return f(y,w)},onPointerLeave:b.props.usePointerEvent?function(y){return f(y,w)}:void 0,key:w,"aria-current":b.isCurrentYear(w)?"date":void 0},b.getYearContent(w)))},b=this,S=h;S<=v;S++)x(S);return oe.createElement("div",{className:"react-datepicker__year"},oe.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},t})(j.Component);function Zae(e,t,n,r){for(var a=[],s=0;s<2*t+1;s++){var c=e+t-s,u=!0;n&&(u=ct(n)<=c),r&&u&&(u=ct(r)>=c),u&&a.push(c)}return a}var Jae=(function(e){Vr(t,e);function t(n){var r=e.call(this,n)||this;r.yearOptionButtonsRef={},r.handleOptionKeyDown=function(u,f){var m;switch(f.key){case"Enter":f.preventDefault(),r.onChange(u);break;case"Escape":f.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{f.preventDefault();var h=u+(f.key==="ArrowUp"?1:-1);r.yearOptionButtonsRef[h]&&((m=r.yearOptionButtonsRef[h])===null||m===void 0||m.focus());break}}},r.renderOptions=function(){r.yearOptionButtonsRef={};var u=r.props.year,f=r.state.yearsList.map(function(v){return oe.createElement("div",{ref:function(x){r.yearOptionButtonsRef[v]=x,v===u&&x?.focus()},role:"button",tabIndex:0,className:u===v?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:v,onClick:r.onChange.bind(r,v),onKeyDown:r.handleOptionKeyDown.bind(r,v),"aria-selected":u===v?"true":void 0},u===v?oe.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",v)}),m=r.props.minDate?ct(r.props.minDate):null,h=r.props.maxDate?ct(r.props.maxDate):null;return(!h||!r.state.yearsList.find(function(v){return v===h}))&&f.unshift(oe.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},oe.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!m||!r.state.yearsList.find(function(v){return v===m}))&&f.push(oe.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},oe.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),f},r.onChange=function(u){r.props.onChange(u)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(u){var f=r.state.yearsList.map(function(m){return m+u});r.setState({yearsList:f})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var a=n.yearDropdownItemNumber,s=n.scrollableYearDropdown,c=a||(s?10:5);return r.state={yearsList:Zae(r.props.year,c,r.props.minDate,r.props.maxDate)},r.dropdownRef=j.createRef(),r}return t.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,a=r?r.find(function(s){return s.ariaSelected}):null;n.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},t.prototype.render=function(){var n=st({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return oe.createElement(Nv,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t})(j.Component),eie=(function(e){Vr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?ct(n.props.minDate):1900,a=n.props.maxDate?ct(n.props.maxDate):2100,s=[],c=r;c<=a;c++)s.push(oe.createElement("option",{key:c,value:c},c));return s},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return oe.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return oe.createElement("button",{key:"read",type:"button",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:n.toggleDropdown},oe.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),oe.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return oe.createElement(Jae,it({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,a=[n.renderReadView(!r)];return r&&a.unshift(n.renderDropdown()),a},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,a){var s;(s=n.onSelect)===null||s===void 0||s.call(n,r,a),n.setOpen()},n.onSelect=function(r,a){var s,c;(c=(s=n.props).onSelect)===null||c===void 0||c.call(s,r,a)},n.setOpen=function(){var r,a;(a=(r=n.props).setOpen)===null||a===void 0||a.call(r,!0)},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return oe.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},t})(j.Component),tie=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],oI="react-datepicker-ignore-onclickoutside",rie=function(e){var t=(e.className||"").split(/\s+/);return tie.some(function(n){return t.indexOf(n)>=0})},nie=(function(e){Vr(t,e);function t(n){var r=e.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(a){r.props.onClickOutside(a)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(a){var s,c;rie(a.target)&&((c=(s=r.props).onDropdownFocus)===null||c===void 0||c.call(s,a))},r.getDateInView=function(){var a=r.props,s=a.preSelection,c=a.selected,u=a.openToDate,f=aI(r.props),m=iI(r.props),h=gt(),v=u||c||s;return v||(f&&Xa(h,f)?f:m&&Fi(h,m)?m:h)},r.increaseMonth=function(){r.setState(function(a){var s=a.date;return{date:Aa(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(a){var s=a.date;return{date:Hl(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(a,s,c){r.props.onSelect(a,s,c),r.props.setPreSelection&&r.props.setPreSelection(a)},r.handleDayMouseEnter=function(a){r.setState({selectingDate:a}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(a)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(a,s){r.setState({selectingDate:Ha(gt(),s)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(a,s)},r.handleYearMouseLeave=function(a,s){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(a,s)},r.handleYearChange=function(a){var s,c,u,f;(c=(s=r.props).onYearChange)===null||c===void 0||c.call(s,a),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(a),(f=(u=r.props).setOpen)===null||f===void 0||f.call(u,!0)),r.props.setPreSelection&&r.props.setPreSelection(a)},r.getEnabledPreSelectionDateForMonth=function(a){if(!na(a,r.props))return a;for(var s=Bi(a),c=Aae(a),u=Ree(c,s),f=null,m=0;m<=u;m++){var h=ja(s,m);if(!na(h,r.props)){f=h;break}}return f},r.handleMonthChange=function(a){var s,c,u,f=(s=r.getEnabledPreSelectionDateForMonth(a))!==null&&s!==void 0?s:a;r.handleCustomMonthChange(f),r.props.adjustDateOnChange&&(r.props.onSelect(f),(u=(c=r.props).setOpen)===null||u===void 0||u.call(c,!0)),r.props.setPreSelection&&r.props.setPreSelection(f)},r.handleCustomMonthChange=function(a){var s,c;(c=(s=r.props).onMonthChange)===null||c===void 0||c.call(s,a),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(a){r.handleYearChange(a),r.handleMonthChange(a)},r.changeYear=function(a){r.setState(function(s){var c=s.date;return{date:Ha(c,Number(a))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(a){r.setState(function(s){var c=s.date;return{date:Tn(c,Number(a))}},function(){var s,c;r.handleMonthChange(r.state.date),(c=(s=r.props).onMonthSelectedInChange)===null||c===void 0||c.call(s,0)})},r.changeMonthYear=function(a){r.setState(function(s){var c=s.date;return{date:Ha(Tn(c,gn(a)),ct(a))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(a,s){if(a===void 0&&(a=r.state.date),s===void 0&&(s=0),!xn(a))return[];var c=r.props.disabled,u=qs(a,r.props.locale,r.props.calendarStartDay),f=[];return r.props.showWeekNumbers&&f.push(oe.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(c?"react-datepicker__day-name--disabled":""),role:"columnheader"},oe.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),oe.createElement("span",{"aria-hidden":"true"},r.props.weekLabel||"#"))),f.concat([0,1,2,3,4,5,6].map(function(m){var h=ja(u,m),v=r.formatWeekday(h,r.props.locale),x=Qt(h,"EEEE",r.props.locale),b=r.props.weekDayClassName?r.props.weekDayClassName(h):void 0;if(r.props.renderCustomDayName){var S=r.props.renderCustomDayName({day:h,shortName:v,fullName:x,locale:r.props.locale,customDayNameCount:s});return oe.createElement("div",{key:m,role:"columnheader",className:st("react-datepicker__day-name",b,c?"react-datepicker__day-name--disabled":"")},S)}return oe.createElement("div",{key:m,role:"columnheader",className:st("react-datepicker__day-name",b,c?"react-datepicker__day-name--disabled":"")},oe.createElement("span",{className:"react-datepicker__sr-only"},x),oe.createElement("span",{"aria-hidden":"true"},v))}))},r.formatWeekday=function(a,s){return r.props.formatWeekDay?Mae(a,r.props.formatWeekDay,s):r.props.useWeekdaysShort?Dae(a,s):kae(a,s)},r.decreaseYear=function(){r.setState(function(a){var s,c=a.date;return{date:Ks(c,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var a,s,c;if(!r.props.renderCustomHeader){var u=(a=r.props.monthsShown)!==null&&a!==void 0?a:t.defaultProps.monthsShown,f=r.props.showPreviousMonths?u-1:0,m=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:f,h=Hl(r.state.date,m),v;switch(!0){case r.props.disabled:v=!0;break;case r.props.showMonthYearPicker:v=KE(r.state.date,r.props);break;case r.props.showYearPicker:v=Pae(r.state.date,r.props);break;case r.props.showQuarterYearPicker:v=Oae(r.state.date,r.props);break;default:v=VE(h,r.props);break}if(!(!((c=r.props.forceShowMonthNavigation)!==null&&c!==void 0?c:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&v||r.props.showTimeSelectOnly)){var x=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],b=["react-datepicker__navigation","react-datepicker__navigation--previous"],S=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(S=r.decreaseYear),v&&r.props.showDisabledMonthNavigation&&(b.push("react-datepicker__navigation--previous--disabled"),S=void 0);var w=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,y=r.props,C=y.previousMonthButtonLabel,M=C===void 0?t.defaultProps.previousMonthButtonLabel:C,A=y.previousYearButtonLabel,_=A===void 0?t.defaultProps.previousYearButtonLabel:A,E=r.props,T=E.previousMonthAriaLabel,P=T===void 0?typeof M=="string"?M:"Previous Month":T,O=E.previousYearAriaLabel,L=O===void 0?typeof _=="string"?_:"Previous Year":O;return oe.createElement("button",{type:"button",className:b.join(" "),onClick:S,onKeyDown:r.props.handleOnKeyDown,"aria-label":w?L:P},oe.createElement("span",{className:x.join(" ")},w?_:M))}}},r.increaseYear=function(){r.setState(function(a){var s,c=a.date;return{date:Na(c,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var a;if(!r.props.renderCustomHeader){var s;switch(!0){case r.props.disabled:s=!0;break;case r.props.showMonthYearPicker:s=WE(r.state.date,r.props);break;case r.props.showYearPicker:s=Iae(r.state.date,r.props);break;case r.props.showQuarterYearPicker:s=Tae(r.state.date,r.props);break;default:s=GE(r.state.date,r.props);break}if(!(!((a=r.props.forceShowMonthNavigation)!==null&&a!==void 0?a:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&s||r.props.showTimeSelectOnly)){var c=["react-datepicker__navigation","react-datepicker__navigation--next"],u=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&c.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&c.push("react-datepicker__navigation--next--with-today-button");var f=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(f=r.increaseYear),s&&r.props.showDisabledMonthNavigation&&(c.push("react-datepicker__navigation--next--disabled"),f=void 0);var m=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,h=r.props,v=h.nextMonthButtonLabel,x=v===void 0?t.defaultProps.nextMonthButtonLabel:v,b=h.nextYearButtonLabel,S=b===void 0?t.defaultProps.nextYearButtonLabel:b,w=r.props,y=w.nextMonthAriaLabel,C=y===void 0?typeof x=="string"?x:"Next Month":y,M=w.nextYearAriaLabel,A=M===void 0?typeof S=="string"?S:"Next Year":M;return oe.createElement("button",{type:"button",className:c.join(" "),onClick:f,onKeyDown:r.props.handleOnKeyDown,"aria-label":m?A:C},oe.createElement("span",{className:u.join(" ")},m?S:x))}}},r.renderCurrentMonth=function(a){a===void 0&&(a=r.state.date);var s=["react-datepicker__current-month"];return r.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),oe.createElement("h2",{className:s.join(" ")},xn(a)?Qt(a,r.props.dateFormat,r.props.locale):"")},r.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showYearDropdown||a))return oe.createElement(eie,it({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:ct(r.state.date)}))},r.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showMonthDropdown||a))return oe.createElement(Vae,it({},t.defaultProps,r.props,{month:gn(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showMonthYearDropdown||a))return oe.createElement(Wae,it({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(a){r.props.onSelect($E(),a),r.props.setPreSelection&&r.props.setPreSelection($E())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return oe.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDayNamesHeader=function(a,s){return s===void 0&&(s=0),oe.createElement("div",{className:"react-datepicker__day-names",role:"row"},r.header(a,s))},r.renderDefaultHeader=function(a){var s=a.monthDate,c=a.i,u=oe.createElement("div",{className:st("react-datepicker__header",{"react-datepicker__header--has-time-select":r.props.showTimeSelect,"react-datepicker__header--middle":r.props.monthHeaderPosition==="middle","react-datepicker__header--bottom":r.props.monthHeaderPosition==="bottom"})},r.renderCurrentMonth(s),oe.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(c!==0),r.renderMonthYearDropdown(c!==0),r.renderYearDropdown(c!==0)));return r.props.monthHeaderPosition==="top"?u:oe.createElement("div",{className:"react-datepicker__header-wrapper"},r.renderPreviousButton()||null,r.renderNextButton()||null,u)},r.renderCustomHeader=function(a){var s,c,u=a.monthDate,f=a.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var m=r.props,h=m.showYearPicker,v=m.yearItemNumber,x;if(h){var b=Ri(u,v),S=b.startPeriod,w=b.endPeriod;x={startYear:S,endYear:w}}var y=VE(r.state.date,r.props),C=GE(r.state.date,r.props),M=KE(r.state.date,r.props),A=WE(r.state.date,r.props);return oe.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(c=(s=r.props).renderCustomHeader)===null||c===void 0?void 0:c.call(s,it(it(it({},r.state),h&&{visibleYearsRange:x}),{customHeaderCount:f,monthDate:u,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:y,nextMonthButtonDisabled:C,prevYearButtonDisabled:M,nextYearButtonDisabled:A})))},r.renderYearHeader=function(a){var s=a.monthDate,c=r.props,u=c.showYearPicker,f=c.yearItemNumber,m=f===void 0?t.defaultProps.yearItemNumber:f,h=Ri(s,m),v=h.startPeriod,x=h.endPeriod;return oe.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},u?"".concat(v," - ").concat(x):ct(s))},r.renderHeader=function(a){var s=a.monthDate,c=a.i,u=c===void 0?0:c,f={monthDate:s,i:u};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(f);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(f);default:return r.renderDefaultHeader(f)}},r.renderMonths=function(){var a,s;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var c=[],u=(a=r.props.monthsShown)!==null&&a!==void 0?a:t.defaultProps.monthsShown,f=r.props.showPreviousMonths?u-1:0,m=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Na(r.state.date,f):Hl(r.state.date,f),h=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:f,v=0;v<u;++v){var x=v-h+f,b=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Na(m,x):Aa(m,x),S="month-".concat(v),w=v<u-1,y=v>0;c.push(oe.createElement("div",{key:S,ref:function(C){r.monthContainer=C??void 0},className:"react-datepicker__month-container"},r.props.monthHeaderPosition==="top"&&r.renderHeader({monthDate:b,i:v}),oe.createElement(Uae,it({},t.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:b,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:v,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:w,monthShowsDuplicateDaysStart:y,dayNamesHeader:r.renderDayNamesHeader(b,v),monthHeader:r.props.monthHeaderPosition==="middle"?r.renderHeader({monthDate:b,i:v}):void 0,monthFooter:r.props.monthHeaderPosition==="bottom"?r.renderHeader({monthDate:b,i:v}):void 0}))))}return c}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return oe.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),oe.createElement(Xae,it({},t.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return oe.createElement(Qae,it({},t.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var a,s;if(r.props.showTimeInput){if(r.props.selectsRange){var c=r.props,u=c.startDate,f=c.endDate,m=u?new Date(u):void 0,h=m&&xn(m)&&!!u,v=h?"".concat(Yo(m.getHours()),":").concat(Yo(m.getMinutes())):"",x=f?new Date(f):void 0,b=x&&xn(x)&&!!f,S=b?"".concat(Yo(x.getHours()),":").concat(Yo(x.getMinutes())):"";return oe.createElement(oe.Fragment,null,oe.createElement(kb,it({},t.defaultProps,r.props,{date:m,timeString:v,onChange:function(M){var A,_;(_=(A=r.props).onTimeChange)===null||_===void 0||_.call(A,M,"start")},timeInputLabel:((a=r.props.timeInputLabel)!==null&&a!==void 0?a:"Time")+" (Start)"})),oe.createElement(kb,it({},t.defaultProps,r.props,{date:x,timeString:S,onChange:function(M){var A,_;(_=(A=r.props).onTimeChange)===null||_===void 0||_.call(A,M,"end")},timeInputLabel:((s=r.props.timeInputLabel)!==null&&s!==void 0?s:"Time")+" (End)"})))}var w=r.props.selected?new Date(r.props.selected):void 0,y=w&&xn(w)&&!!r.props.selected,C=y?"".concat(Yo(w.getHours()),":").concat(Yo(w.getMinutes())):"";return oe.createElement(kb,it({},t.defaultProps,r.props,{date:w,timeString:C,onChange:function(M){var A,_;(_=(A=r.props).onTimeChange)===null||_===void 0||_.call(A,M)}}))}},r.renderAriaLiveRegion=function(){var a;if(!xn(r.state.date))return oe.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"});var s=Ri(r.state.date,(a=r.props.yearItemNumber)!==null&&a!==void 0?a:t.defaultProps.yearItemNumber),c=s.startPeriod,u=s.endPeriod,f;return r.props.showYearPicker?f="".concat(c," - ").concat(u):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?f=ct(r.state.date):f="".concat(mj(gn(r.state.date),r.props.locale)," ").concat(ct(r.state.date)),oe.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&f)},r.renderChildren=function(){if(r.props.children)return oe.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=j.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:oI,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Wd,monthHeaderPosition:"top"}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){n.setState({monthContainer:n.monthContainer})})())},t.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&xn(this.props.preSelection)&&(!mt(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var a=!en(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!mt(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var n=this.props.container||gae;return oe.createElement(Nv,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},oe.createElement("div",{style:{display:"contents"},ref:this.containerRef},oe.createElement(n,{className:st("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.props.monthHeaderPosition==="top"&&this.renderPreviousButton(),this.props.monthHeaderPosition==="top"&&this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t})(j.Component),aie=function(e){var t=e.icon,n=e.className,r=n===void 0?"":n,a=e.onClick,s="react-datepicker__calendar-icon";if(typeof t=="string")return oe.createElement("i",{className:"".concat(s," ").concat(t," ").concat(r),"aria-hidden":"true",onClick:a});if(oe.isValidElement(t)){var c=t;return oe.cloneElement(c,{className:"".concat(c.props.className||""," ").concat(s," ").concat(r),onClick:function(u){typeof c.props.onClick=="function"&&c.props.onClick(u),typeof a=="function"&&a(u)}})}return oe.createElement("svg",{className:"".concat(s," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},oe.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},cI=(function(e){Vr(t,e);function t(n){var r=e.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return xz.createPortal(this.props.children,this.el)},t})(j.Component),iie="[tabindex], a, button, input, select, textarea",sie=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},uI=(function(e){Vr(t,e);function t(n){var r=e.call(this,n)||this;return r.getTabChildren=function(){var a;return Array.prototype.slice.call((a=r.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(iie),1,-1).filter(sie)},r.handleFocusStart=function(){var a=r.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},r.handleFocusEnd=function(){var a=r.getTabChildren();a&&a.length>1&&a[0].focus()},r.tabLoopRef=j.createRef(),r}return t.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:t.defaultProps.enableTabLoop)?oe.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},oe.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,oe.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t})(j.Component);function lie(e){function t(n){var r,a=typeof n.hidePopper=="boolean"?n.hidePopper:!0,s=j.useRef(null),c=xae(it({open:!a,whileElementsMounted:Wne,placement:n.popperPlacement,middleware:Za([aae({padding:15}),nae(10),iae({element:s})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),u=it(it({},n),{hidePopper:a,popperProps:it(it({},c),{arrowRef:s})});return oe.createElement(e,it({},u))}return t.displayName="withFloating(".concat(e.displayName||e.name||"Component",")"),t}var oie=function(e){var t=e.className,n=e.wrapperClassName,r=e.hidePopper,a=r===void 0?!0:r,s=e.popperComponent,c=e.targetComponent,u=e.enableTabLoop,f=e.popperOnKeyDown,m=e.portalId,h=e.portalHost,v=e.popperProps,x=e.showArrow,b=e.popperTargetRef,S=e.monthHeaderPosition;j.useEffect(function(){b?.current&&v.refs.setPositionReference(b.current)},[b,v.refs]);var w=void 0;if(!a){var y=st("react-datepicker-popper",!x&&"react-datepicker-popper-offset",S==="middle"&&"react-datepicker-popper--header-middle",S==="bottom"&&"react-datepicker-popper--header-bottom",t);w=oe.createElement(uI,{enableTabLoop:u},oe.createElement("div",{ref:v.refs.setFloating,style:v.floatingStyles,className:y,"data-placement":v.placement,onKeyDown:f},s,x&&oe.createElement(uae,{ref:v.arrowRef,context:v.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}e.popperContainer&&(w=j.createElement(e.popperContainer,{},w)),m&&!a&&(w=oe.createElement(cI,{portalId:m,portalHost:h},w));var C=st("react-datepicker-wrapper",n);return oe.createElement(oe.Fragment,null,oe.createElement("div",{ref:v.refs.setReference,className:C},c),w)},cie=lie(oie);function n_(e,t){return e&&t?gn(e)!==gn(t)||ct(e)!==ct(t):e!==t}var Eb="Date input not valid.",uie=(function(e){Vr(t,e);function t(n){var r=e.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){var a=r.props.timeZone,s=r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:gt();return a?FE(s,a):s},r.modifyHolidays=function(){var a;return(a=r.props.holidays)===null||a===void 0?void 0:a.reduce(function(s,c){var u=Sl(c.date,"yyyy-MM-dd",void 0,!1);return u?Za(Za([],s,!0),[it(it({},c),{date:u})],!1):s},[])},r.calcInitialState=function(){var a=r.props.timeZone,s=r.getPreSelection(),c=aI(r.props),u=iI(r.props),f=c&&Xa(s,Zu(c))?c:u&&Fi(s,qE(u))?u:s,m=r.props.selectsRange?r.props.startDate:r.props.selected;return m&&a&&(m=FE(m,a)),{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:m??f,highlightDates:QE(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.getInputValue=function(){var a,s=r.props,c=s.locale,u=s.startDate,f=s.endDate,m=s.rangeSeparator,h=s.selected,v=s.selectedDates,x=s.selectsMultiple,b=s.selectsRange,S=s.formatMultipleDates,w=s.value,y=(a=r.props.dateFormat)!==null&&a!==void 0?a:t.defaultProps.dateFormat,C=r.state.inputValue;if(typeof w=="string")return w;if(typeof C=="string")return C;if(b)return wae(u,f,{dateFormat:y,locale:c,rangeSeparator:m});if(x){if(S){var M=function(A){return vn(A,{dateFormat:y,locale:c})};return S(v??[],M)}return jae(v??[],{dateFormat:y,locale:c})}return vn(h,{dateFormat:y,locale:c})},r.resetHiddenStatus=function(){r.setState(it(it({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(it(it({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var a,s;(s=(a=r.input)===null||a===void 0?void 0:a.focus)===null||s===void 0||s.call(a,{preventScroll:!0})},r.setBlur=function(){var a,s;(s=(a=r.input)===null||a===void 0?void 0:a.blur)===null||s===void 0||s.call(a),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(a,s){s===void 0&&(s=!1),r.setState({open:a,preSelection:a&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:_b},function(){a||r.setState(function(c){return{focused:s?c.focused:!1}},function(){!s&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return ti(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(a){var s,c,u=r.state.wasHidden,f=u?r.state.open:!0;u&&r.resetHiddenStatus(),r.state.preventFocus||((c=(s=r.props).onFocus)===null||c===void 0||c.call(s,a),f&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.resetInputValue=function(){r.setState(it(it({},r.state),{inputValue:null}))},r.handleBlur=function(a){var s,c;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((c=(s=r.props).onBlur)===null||c===void 0||c.call(s,a));var u=r.state.inputValue;if(typeof u=="string"&&u.length>0){var f=/[a-zA-Z0-9]/.test(u);!f&&r.props.selected&&r.setSelected(null,void 0,!0)}r.resetInputValue(),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(a){var s,c;(c=(s=r.props).onClickOutside)===null||c===void 0||c.call(s,a),!r.props.inline&&!a.defaultPrevented&&r.setOpen(!1),r.props.withPortal&&a.preventDefault()},r.handleChange=function(){for(var a,s,c,u,f,m,h,v,x=[],b=0;b<arguments.length;b++)x[b]=arguments[b];var S=x[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,x),!S||typeof S.isDefaultPrevented!="function"||S.isDefaultPrevented()))){r.setState({inputValue:S?.target instanceof HTMLInputElement?S.target.value:null,lastPreSelectChange:die});var w=r.props,y=w.selectsRange,C=w.startDate,M=w.endDate,A=(a=r.props.dateFormat)!==null&&a!==void 0?a:t.defaultProps.dateFormat,_=(s=r.props.strictParsing)!==null&&s!==void 0?s:t.defaultProps.strictParsing,E=S?.target instanceof HTMLInputElement?S.target.value:"";if(y){var T=r.props.rangeSeparator,P=T.trim(),O=E.split(A.includes(P)?T:P,2).map(function(G){return G.trim()}),L=O[0],R=O[1],B=Sl(L??"",A,r.props.locale,_),D=B?Sl(R??"",A,r.props.locale,_):null,W=((c=zl(C))===null||c===void 0?void 0:c.getTime())!==B?.getTime(),X=((u=zl(M))===null||u===void 0?void 0:u.getTime())!==D?.getTime();if(!W&&!X||B&&na(B,r.props)||D&&na(D,r.props))return;B&&r.setState({preSelection:B}),(m=(f=r.props).onChange)===null||m===void 0||m.call(f,[B,D],S)}else{var Z=Sl(E,A,r.props.locale,_,(h=r.props.selected)!==null&&h!==void 0?h:void 0);if(Z||!E)r.setSelected(Z,S,!0);else if(!r.props.inline){var $=yae(E,(v=r.state.preSelection)!==null&&v!==void 0?v:void 0);$&&(!r.props.minDate||!Xa($,r.props.minDate))&&(!r.props.maxDate||!Fi($,r.props.maxDate))&&r.setState({preSelection:$})}}}},r.handleSelect=function(a,s,c){var u;if(!r.props.readOnly){var f=r.props,m=f.selectsRange,h=f.startDate,v=f.endDate,x=f.locale,b=f.swapRange,S=(u=r.props.dateFormat)!==null&&u!==void 0?u:t.defaultProps.dateFormat,w=!m||h&&!v&&(b||!Mb(a,h));if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&w&&r.sendFocusBackToInput(),r.props.onChangeRaw){var y=vn(a,{dateFormat:S,locale:x});r.props.onChangeRaw(s,{date:a,formattedDate:y})}r.setSelected(a,s,!1,c),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect?r.setPreSelection(a):w&&r.setOpen(!1)}},r.setSelected=function(a,s,c,u){var f,m,h=r.props.timeZone,v=a;if(v&&h&&(v=_i(v,h)),r.props.showYearPicker){if(v!==null&&dp(ct(v),r.props))return}else if(r.props.showMonthYearPicker){if(v!==null&&nI(v,r.props))return}else if(v!==null&&na(v,r.props))return;var x=r.props,b=x.onChange,S=x.selectsRange,w=x.startDate,y=x.endDate,C=x.selectsMultiple,M=x.selectedDates,A=x.minTime,_=x.swapRange;if(!Fl(r.props.selected,v)||r.props.allowSameDay||S||C)if(v!==null&&(r.props.selected&&(!c||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(v=Oi(v,{hour:Qr(r.props.selected),minute:Xr(r.props.selected),second:$s(r.props.selected)})),!c&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&A&&(v=Oi(v,{hour:A.getHours(),minute:A.getMinutes(),second:A.getSeconds()})),r.props.inline||r.setState({preSelection:v}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:u})),S){var E=b,T=!w&&!y,P=w&&!y,O=!w&&!!y,L=w&&y;T?E?.([v,null],s):P?v===null?E?.([null,null],s):Mb(v,w)?E?.(_?[v,w]:[v,null],s):E?.([w,v],s):O&&(v&&Mb(v,y)?E?.([v,y],s):E?.([v,null],s)),L&&E?.([v,null],s)}else if(C){var R=b;if(v!==null)if(!M?.length)R?.([v],s);else{var B=M.some(function(W){return mt(W,v)});if(B){var D=M.filter(function(W){return!mt(W,v)});R?.(D,s)}else R?.(Za(Za([],M,!0),[v],!1),s)}}else b?.(v,s);c||((m=(f=r.props).onSelect)===null||m===void 0||m.call(f,v,s),r.setState({inputValue:null}))},r.setPreSelection=function(a){if(!r.props.readOnly){var s=ti(r.props.minDate),c=ti(r.props.maxDate),u=!0;if(a){var f=Zu(a);if(s&&c)u=_l(a,r.props.minDate,r.props.maxDate);else if(s){var m=Zu(r.props.minDate);u=Fi(a,m)||Fl(f,m)}else if(c){var h=qE(r.props.maxDate);u=Xa(a,h)||Fl(f,h)}}u&&r.setState({preSelection:a})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(a,s){var c,u;if(!r.props.selectsMultiple){var f=r.props,m=f.selectsRange,h=f.startDate,v=f.endDate,x=f.onChange,b=f.timeZone;if(m){var S=x;if(s==="start"){if(h){var w=Oi(h,{hour:Qr(a),minute:Xr(a)});r.setState({preSelection:w}),b&&(w=_i(w,b)),S?.([w,v?b?_i(v,b):v:null],void 0)}}else if(s==="end"){if(v){var y=Oi(v,{hour:Qr(a),minute:Xr(a)});r.setState({preSelection:y}),b&&(y=_i(y,b)),S?.([h?b?_i(h,b):h:null,y],void 0)}}else{var C=h&&!v;if(C){var w=Oi(h,{hour:Qr(a),minute:Xr(a)});r.setState({preSelection:w}),b&&(w=_i(w,b)),S?.([w,null],void 0)}else if(h&&v){var y=Oi(v,{hour:Qr(a),minute:Xr(a)});r.setState({preSelection:y}),b&&(y=_i(y,b)),S?.([b?_i(h,b):h,y],void 0)}else{var M=Oi(r.getPreSelection(),{hour:Qr(a),minute:Xr(a)});r.setState({preSelection:M})}}}else{var A=r.props.selected?r.props.selected:r.getPreSelection(),M=r.props.selected?a:Oi(A,{hour:Qr(a),minute:Xr(a)});r.setState({preSelection:M}),M&&b&&(M=_i(M,b)),(u=(c=r.props).onChange)===null||u===void 0||u.call(c,M)}r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var a,s;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(s=(a=r.props).onInputClick)===null||s===void 0||s.call(a)},r.handleTimeOnlyArrowKey=function(a){var s,c,u,f,m=zl(r.props.selected)||r.state.preSelection||gt(),h=(s=r.props.timeIntervals)!==null&&s!==void 0?s:30,v=(c=r.props.dateFormat)!==null&&c!==void 0?c:t.defaultProps.dateFormat,x=Array.isArray(v)?v[0]:v,b=Zu(m),S=Qr(m)*60+Xr(m),w=1440-h,y;if(a===Me.ArrowUp){var C=Math.max(0,S-h);y=yd(b,C)}else{var C=Math.min(w,S+h);y=yd(b,C)}var M=Qt(y,x||t.defaultProps.dateFormat,r.props.locale);if(r.setState({preSelection:y,inputValue:M}),!(r.props.selectsRange||r.props.selectsMultiple)){var A=r.props.selected?r.props.selected:r.getPreSelection(),_=r.props.selected?y:Oi(A,{hour:Qr(y),minute:Xr(y)});(f=(u=r.props).onChange)===null||f===void 0||f.call(u,_),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),requestAnimationFrame(function(){r.scrollToTimeOption(y)})}},r.handleTimeOnlyEnterKey=function(a){var s,c,u,f,m=a.target,h=m.value,v=(s=r.props.dateFormat)!==null&&s!==void 0?s:t.defaultProps.dateFormat,x=r.props.timeFormat||"p",b=r.state.preSelection||zl(r.props.selected)||gt(),S=Sl(h,v,r.props.locale,(c=r.props.strictParsing)!==null&&c!==void 0?c:!1,b),w=b;if(S&&xn(S))w=S;else{var y=((u=r.calendar)===null||u===void 0?void 0:u.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(".react-datepicker__time-list-item[tabindex='0']");if(y instanceof HTMLElement){var C=(f=y.textContent)===null||f===void 0?void 0:f.trim();if(C){var M=Sl(C,x,r.props.locale,!1,b);M&&xn(M)&&(w=M)}}}r.handleTimeChange(w),r.setOpen(!1),r.sendFocusBackToInput()},r.scrollToTimeOption=function(a){var s,c;if(!((s=r.calendar)===null||s===void 0)&&s.containerRef.current){for(var u=r.calendar.containerRef.current,f=Array.from(u.querySelectorAll(".react-datepicker__time-list-item")),m=null,h=1/0,v=r.props.timeFormat||"p",x=0,b=f;x<b.length;x++){var S=b[x],w=(c=S.textContent)===null||c===void 0?void 0:c.trim();if(w){var y=Sl(w,v,r.props.locale,!1,a);if(y&&xn(y)){if(sI(y,a)){m=S;break}var C=Math.abs(y.getTime()-a.getTime());C<h&&(h=C,m=S)}}}m&&(f.forEach(function(M){M.setAttribute("tabindex","-1")}),m.setAttribute("tabindex","0"),m.scrollIntoView({behavior:"smooth",block:"center"}))}},r.onInputKeyDown=function(a){var s,c,u,f,m,h;(c=(s=r.props).onKeyDown)===null||c===void 0||c.call(s,a);var v=a.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(v===Me.ArrowDown||v===Me.ArrowUp||v===Me.Enter)&&((u=r.onInputClick)===null||u===void 0||u.call(r));return}if(r.state.open&&r.props.showTimeSelectOnly){if(v===Me.ArrowDown||v===Me.ArrowUp){a.preventDefault(),r.handleTimeOnlyArrowKey(v);return}if(v===Me.Enter){a.preventDefault(),r.handleTimeOnlyEnterKey(a);return}}if(r.state.open){if(v===Me.ArrowDown||v===Me.ArrowUp){a.preventDefault();var x=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',b=((f=r.calendar)===null||f===void 0?void 0:f.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(x);b instanceof HTMLElement&&b.focus({preventScroll:!0});return}var S=gt(r.state.preSelection);v===Me.Enter?(a.preventDefault(),a.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===_b?(r.handleSelect(S,a),!r.props.shouldCloseOnSelect&&r.setPreSelection(S)):r.setOpen(!1)):v===Me.Escape?(a.preventDefault(),a.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):v===Me.Tab&&r.setOpen(!1),r.inputOk()||(h=(m=r.props).onInputError)===null||h===void 0||h.call(m,{code:1,msg:Eb})}},r.onPortalKeyDown=function(a){var s=a.key;s===Me.Escape&&(a.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(a){var s,c,u,f,m,h,v=r.props,x=v.minDate,b=v.maxDate,S=v.disabledKeyboardNavigation,w=v.showWeekPicker,y=v.shouldCloseOnSelect,C=v.locale,M=v.calendarStartDay,A=v.adjustDateOnChange,_=v.inline;if((c=(s=r.props).onKeyDown)===null||c===void 0||c.call(s,a),!S){var E=a.key,T=a.shiftKey,P=gt(r.state.preSelection),O=function(B,D){var W=D;switch(B){case Me.ArrowRight:W=w?uh(D,1):ja(D,1);break;case Me.ArrowLeft:W=w?AE(D):Rre(D);break;case Me.ArrowUp:W=AE(D);break;case Me.ArrowDown:W=uh(D,1);break;case Me.PageUp:W=T?Ks(D,1):Hl(D,1);break;case Me.PageDown:W=T?Na(D,1):Aa(D,1);break;case Me.Home:W=qs(D,C,M);break;case Me.End:W=Cae(D);break}return W},L=function(B,D){for(var W=40,X=B,Z=!1,$=0,G=O(B,D);!Z;){if($>=W){G=D;break}x&&G<x&&(X=Me.ArrowRight,G=na(x,r.props)?O(X,G):x),b&&G>b&&(X=Me.ArrowLeft,G=na(b,r.props)?O(X,G):b),na(G,r.props)?((X===Me.PageUp||X===Me.Home)&&(X=Me.ArrowRight),(X===Me.PageDown||X===Me.End)&&(X=Me.ArrowLeft),G=O(X,G)):Z=!0,$++}return G};if(E===Me.Enter){a.preventDefault(),r.handleSelect(P,a),!y&&r.setPreSelection(P);return}else if(E===Me.Escape){a.preventDefault(),r.setOpen(!1),r.inputOk()||(f=(u=r.props).onInputError)===null||f===void 0||f.call(u,{code:1,msg:Eb});return}var R=null;switch(E){case Me.ArrowLeft:case Me.ArrowRight:case Me.ArrowUp:case Me.ArrowDown:case Me.PageUp:case Me.PageDown:case Me.Home:case Me.End:R=L(E,P);break}if(!R){(h=(m=r.props).onInputError)===null||h===void 0||h.call(m,{code:1,msg:Eb});return}a.preventDefault(),r.setState({lastPreSelectChange:_b}),A&&r.setSelected(R),r.setPreSelection(R),_&&r.setState({shouldFocusDayInline:!0})}},r.onPopperKeyDown=function(a){var s=a.key;s===Me.Escape&&(a.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),r.sendFocusBackToInput();var s=r.props,c=s.selectsRange,u=s.onChange;u?.(c?[null,null]:null,a),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(a){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(a)&&r.setOpen(!1)},r.handleMonthSelectedInChange=function(a){r.setState({monthSelectedIn:a})},r.renderCalendar=function(){var a,s;return!r.props.inline&&!r.isCalendarOpen()?null:oe.createElement(nie,it({showMonthYearDropdown:void 0,ref:function(c){r.calendar=c}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(a=r.props.dateFormatCalendar)!==null&&a!==void 0?a:t.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:Lae(r.modifyHolidays()),outsideClickIgnoreClass:r.props.outsideClickIgnoreClass,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(s=r.props.dropdownMode)!==null&&s!==void 0?s:t.defaultProps.dropdownMode,onMonthSelectedInChange:r.handleMonthSelectedInChange}),r.props.children)},r.renderAriaLiveRegion=function(){var a,s=r.props.locale,c=(a=r.props.dateFormat)!==null&&a!==void 0?a:t.defaultProps.dateFormat,u=r.props.showTimeInput||r.props.showTimeSelect,f=u?"PPPPp":"PPPP",m;return r.props.selectsRange?m="Selected start date: ".concat(vn(r.props.startDate,{dateFormat:f,locale:s}),". ").concat(r.props.endDate?"End date: "+vn(r.props.endDate,{dateFormat:f,locale:s}):""):r.props.showTimeSelectOnly?m="Selected time: ".concat(vn(r.props.selected,{dateFormat:c,locale:s})):r.props.showYearPicker?m="Selected year: ".concat(vn(r.props.selected,{dateFormat:"yyyy",locale:s})):r.props.showMonthYearPicker?m="Selected month: ".concat(vn(r.props.selected,{dateFormat:"MMMM yyyy",locale:s})):r.props.showQuarterYearPicker?m="Selected quarter: ".concat(vn(r.props.selected,{dateFormat:"yyyy, QQQ",locale:s})):m="Selected date: ".concat(vn(r.props.selected,{dateFormat:f,locale:s})),oe.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},m)},r.renderDateInput=function(){var a,s,c,u,f,m,h,v=st(r.props.className,(a={},a[r.props.outsideClickIgnoreClass||t.defaultProps.outsideClickIgnoreClass]=r.state.open,a)),x=r.props.customInput||oe.createElement("input",{type:"text"}),b=r.props.customInputRef||"ref",S={},w=(c=r.props["aria-describedby"])!==null&&c!==void 0?c:r.props.ariaDescribedBy,y=(u=r.props["aria-invalid"])!==null&&u!==void 0?u:r.props.ariaInvalid,C=(f=r.props["aria-label"])!==null&&f!==void 0?f:r.props.ariaLabel,M=(m=r.props["aria-labelledby"])!==null&&m!==void 0?m:r.props.ariaLabelledBy,A=(h=r.props["aria-required"])!==null&&h!==void 0?h:r.props.ariaRequired;return w!=null&&(S["aria-describedby"]=w),y!=null&&(S["aria-invalid"]=y),C!=null&&(S["aria-label"]=C),M!=null&&(S["aria-labelledby"]=M),A!=null&&(S["aria-required"]=A),j.cloneElement(x,it((s={},s[b]=function(_){r.input=_},s.value=r.getInputValue(),s.onBlur=r.handleBlur,s.onChange=r.handleChange,s.onClick=r.onInputClick,s.onFocus=r.handleFocus,s.onKeyDown=r.onInputKeyDown,s.id=r.props.id,s.name=r.props.name,s.form=r.props.form,s.autoFocus=r.props.autoFocus,s.placeholder=r.props.placeholderText,s.disabled=r.props.disabled,s.autoComplete=r.props.autoComplete,s.className=st(x.props.className,v),s.title=r.props.title,s.readOnly=r.props.readOnly,s.required=r.props.required,s.tabIndex=r.props.tabIndex,s),S))},r.renderClearButton=function(){var a=r.props,s=a.isClearable,c=a.disabled,u=a.selected,f=a.startDate,m=a.endDate,h=a.clearButtonTitle,v=a.clearButtonClassName,x=v===void 0?"":v,b=a.ariaLabelClose,S=b===void 0?"Close":b,w=a.selectedDates,y=a.readOnly;return s&&!y&&(u!=null||f!=null||m!=null||w?.length)?oe.createElement("button",{type:"button",className:st("react-datepicker__close-icon",x,{"react-datepicker__close-icon--disabled":c}),disabled:c,"aria-label":S,onClick:r.onClearClick,title:h,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:oI,readOnly:!1,rangeSeparator:tI,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Wd,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(n,r){var a,s,c,u;this.props.selectsRange&&n_(n.startDate,this.props.startDate)?this.setPreSelection(this.props.startDate):n_(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),this.props.selectsRange&&r.open===!1&&this.state.open===!0&&this.state.monthSelectedIn!==0&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:QE(this.props.highlightDates)}),!r.focused&&!Fl(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((s=(a=this.props).onCalendarOpen)===null||s===void 0||s.call(a)),r.open===!0&&this.state.open===!1&&((u=(c=this.props).onCalendarClose)===null||u===void 0||u.call(c)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,a=n.icon,s=n.calendarIconClassname,c=n.calendarIconClassName,u=n.toggleCalendarOnIconClick,f=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),oe.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&oe.createElement(aie,it({icon:a,className:st(c,!c&&s,f&&"react-datepicker-ignore-onclickoutside")},u?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?oe.createElement(uI,{enableTabLoop:this.props.enableTabLoop},oe.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=oe.createElement(cI,it({portalId:this.props.portalId},this.props),r)),oe.createElement(oe.Fragment,null,this.renderInputContainer(),r)}return oe.createElement(cie,it({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow,monthHeaderPosition:this.props.monthHeaderPosition}))},t})(j.Component),die="input",_b="navigate";function hr({open:e,onClose:t,title:n,children:r,wide:a}){const s=j.useRef(null);return j.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),j.useEffect(()=>{function c(u){u.key==="Escape"&&t()}return e&&window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[e,t]),e?l.jsxs("div",{ref:s,className:"fixed inset-0 z-50 flex items-start justify-center pt-[5vh] sm:pt-[10vh] px-4",onClick:c=>{c.target===s.current&&t()},children:[l.jsx("div",{className:"fixed inset-0 bg-black/60"}),l.jsxs("div",{className:`relative bg-[var(--bg-card)] border border-[var(--border)] rounded-xl shadow-2xl w-full ${a?"max-w-2xl":"max-w-lg"} max-h-[80vh] flex flex-col animate-fade-in`,children:[l.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-[var(--border-light)] shrink-0",children:[l.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:n}),l.jsx("button",{onClick:t,className:"p-1.5 rounded-lg text-[var(--text-dim)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:l.jsx(Us,{size:16})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-5 py-4",children:r})]})]}):null}function le({label:e,required:t,error:n,children:r}){return l.jsxs("div",{children:[l.jsxs("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:[e,t&&l.jsx("span",{className:"text-rose-500 ml-0.5",children:"*"})]}),r,n&&l.jsx("p",{className:"text-xs text-rose-500 mt-1",children:n})]})}function ke({value:e,onChange:t,placeholder:n,type:r="text",sensitive:a,...s}){const{masked:c}=ci();return l.jsx("input",{type:r,value:e,onChange:u=>t(u.target.value),placeholder:n,className:`w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors ${a&&c?"sensitive-blur":""}`,...s})}function ni({value:e,onChange:t,...n}){const r=e?new Date(e.length>10?e:e+"T00:00:00"):null;function a(s){if(!s){t("");return}const c=s.getFullYear(),u=String(s.getMonth()+1).padStart(2,"0"),f=String(s.getDate()).padStart(2,"0");t(`${c}-${u}-${f}`)}return l.jsxs("div",{className:"relative cf-datepicker",children:[l.jsx(uie,{selected:r,onChange:a,dateFormat:"dd MMM yyyy",maxDate:new Date,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",placeholderText:"Select date",className:"w-full px-3 py-2 pr-9 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors",...n}),l.jsx(EF,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)] pointer-events-none"})]})}function Ke({value:e,onChange:t,options:n,placeholder:r}){return l.jsxs("select",{value:e,onChange:a=>t(a.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors",children:[r&&l.jsx("option",{value:"",children:r}),n.map(a=>l.jsx("option",{value:a.value,children:a.label},a.value))]})}function wc({value:e,onChange:t,placeholder:n,rows:r=3}){return l.jsx("textarea",{value:e,onChange:a=>t(a.target.value),placeholder:n,rows:r,className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors resize-none"})}function fie({checked:e,onChange:t,label:n}){return l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:e,onChange:r=>t(r.target.checked),className:"w-4 h-4 rounded border-[var(--border-input)] bg-[var(--bg-input)] text-violet-500 focus:ring-violet-500"}),l.jsx("span",{className:"text-sm text-[var(--text-secondary)]",children:n})]})}function an({onCancel:e,onSubmit:t,submitLabel:n="Save",loading:r}){return l.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4 mt-4 border-t border-[var(--border-light)]",children:[l.jsx("button",{onClick:e,disabled:r,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),l.jsxs("button",{onClick:t,disabled:r,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 flex items-center gap-1.5",children:[r&&l.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),r?"Saving...":n]})]})}function ns({onClick:e,label:t="Deactivate"}){return l.jsx("button",{onClick:e,className:"px-4 py-2 text-xs font-semibold text-rose-400 hover:text-rose-300 hover:bg-rose-500/10 rounded-lg transition-colors",children:t})}const a_=[{key:"sip",label:"Adjust SIP",icon:q8,color:"text-blue-400",dimColor:"text-blue-400/60 hover:text-blue-400",activeBg:"bg-blue-500/20 border border-blue-500/40"},{key:"lumpsum",label:"Lumpsum",icon:h8,color:"text-emerald-400",dimColor:"text-emerald-400/60 hover:text-emerald-400",activeBg:"bg-emerald-500/20 border border-emerald-500/40"},{key:"buysell",label:"Buy / Sell",icon:SF,color:"text-amber-400",dimColor:"text-amber-400/60 hover:text-amber-400",activeBg:"bg-amber-500/20 border border-amber-500/40"}];function Ol(e){return e>=1e5?`${(e/1e5).toFixed(1)}L`:e>=1e3?`${(e/1e3).toFixed(0)}K`:`${Math.round(e)}`}function hj({exitOnly:e}){return l.jsx("div",{className:"py-4 text-center space-y-1",children:e?l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Only exit candidates here  use ",l.jsx("span",{className:"font-semibold text-amber-400",children:"Buy / Sell"})," tab"]}):l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"No target allocations set"}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Use ",l.jsx("span",{className:"font-semibold text-violet-400",children:"Allocations"})," to set target % for each fund first"]})]})})}function mie({portfolio:e,holdings:t,totalValue:n}){const r=e.sipTarget||0,a=(e.rebalanceThreshold||.05)*100,s=t.some(x=>x.targetAllocationPct>0),c=t.some(x=>x.targetAllocationPct===0&&x.units>0);if(!s)return l.jsx(hj,{exitOnly:c});if(r<=0)return l.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"No SIP target set for this portfolio"});const u=t.filter(x=>x.targetAllocationPct>0).map(x=>{const b=n>0?x.currentValue/n*100:0,S=Math.abs(b-x.targetAllocationPct),w=S>a,C=x.targetAllocationPct/100*n-x.currentValue,M=x.targetAllocationPct/100*r;return{...x,currentPct:b,drift:S,drifted:w,gap:C,normalSIP:M}}),f=u.filter(x=>x.drifted&&x.gap>0);u.filter(x=>x.drifted&&x.gap<=0);const m=f.reduce((x,b)=>x+b.gap,0),h=u.map(x=>({...x,suggestedSIP:x.drifted&&x.gap>0&&m>0?x.gap/m*r:x.drifted&&x.gap<=0?0:x.normalSIP}));return u.some(x=>x.drifted)?l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Funds drifted >",a.toFixed(0),"%: overweight  0, underweight  extra SIP. Others keep normal SIP."]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[l.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Allocation"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Normal SIP"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Rebalance SIP"})]})}),l.jsx("tbody",{children:h.map(x=>{const b=x.drifted&&x.gap<=0,S=x.drifted&&x.gap>0,w=!x.drifted;return l.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 ${w?"opacity-50":b?"opacity-60":""}`,children:[l.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:x.fundName}),l.jsxs("td",{className:"py-2 px-2 text-right tabular-nums",children:[l.jsxs("span",{className:b?"text-amber-400":S?"text-blue-400":"text-[var(--text-dim)]",children:[x.currentPct.toFixed(1),"%"]}),l.jsxs("span",{className:"text-[var(--text-dim)]",children:[" / ",x.targetAllocationPct.toFixed(1),"%"]})]}),l.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:Ol(x.normalSIP)}),l.jsx("td",{className:"py-2 px-2 text-right font-semibold tabular-nums",children:b?l.jsx("span",{className:"text-amber-400/70",children:"0"}):S?l.jsx("span",{className:"text-blue-400",children:Ol(x.suggestedSIP)}):l.jsx("span",{className:"text-[var(--text-dim)]",children:Ol(x.suggestedSIP)})})]},x.holdingId)})}),l.jsx("tfoot",{children:l.jsxs("tr",{className:"border-t border-[var(--border)]",children:[l.jsx("td",{className:"py-1.5 px-2 text-xs font-bold text-[var(--text-primary)]",colSpan:2,children:"Total"}),l.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums",children:Ol(r)}),l.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-blue-400 tabular-nums",children:Ol(r)})]})})]})})]}):l.jsxs("p",{className:"text-xs text-[var(--text-dim)] py-2",children:["SIPs are balanced (within ",a.toFixed(0),"% threshold)"]})}function pie({portfolio:e,holdings:t,totalValue:n}){const[r,a]=j.useState("");(e.rebalanceThreshold||.05)*100;const s=t.some(w=>w.targetAllocationPct>0),c=t.some(w=>w.targetAllocationPct===0&&w.units>0);if(!s)return l.jsx(hj,{exitOnly:c});const u=t.filter(w=>w.targetAllocationPct>0).map(w=>{const y=n>0?w.currentValue/n*100:0;return{...w,currentPct:y}}),f=j.useMemo(()=>{if(n<=0||u.length===0)return 0;const w=u.filter(A=>{const _=A.targetAllocationPct/100*n;return A.currentValue<_});if(w.length===0)return 0;const y=w.reduce((A,_)=>A+_.targetAllocationPct,0);if(y>=100)return 0;const C=w.reduce((A,_)=>A+_.currentValue,0),M=(y/100*n-C)/(1-y/100);return M>0?Math.ceil(M/100)*100:0},[u,n]),m=Number(r)||e.lumpsumTarget||f,h=j.useMemo(()=>{const w=m>0?n+m:n,y=u.map(M=>{const A=M.targetAllocationPct/100*w,_=m>0?Math.max(0,A-M.currentValue):0,E=w>0?(M.currentValue+_)/w*100:0,T=M.currentValue>A+1;return{...M,invest:_,newPct:E,isOverweight:T}}),C=y.reduce((M,A)=>M+A.invest,0);if(m>0&&C>0&&Math.abs(C-m)>1){const M=m/C;return y.map(A=>({...A,invest:A.invest>0?A.invest*M:0,newPct:w>0?(A.currentValue+(A.invest>0?A.invest*M:0))/w*100:0}))}return y},[u,m,n]),v=h.reduce((w,y)=>w+y.invest,0),x=h.some(w=>w.isOverweight),b=Number(r),S=b>0&&f>0&&b<f;return l.jsxs("div",{className:"space-y-2",children:[f>0&&l.jsx("div",{className:"flex items-center gap-2 px-2.5 py-1.5 rounded-md bg-emerald-500/10 border border-emerald-500/20",children:l.jsxs("p",{className:"text-xs text-emerald-400",children:[l.jsx("span",{className:"font-bold",children:Q(f)})," needed to bring all underweight funds to target %"]})}),l.jsxs("div",{className:"flex items-end gap-3",children:[l.jsx("div",{className:"flex-1 max-w-[200px]",children:l.jsx(le,{label:"Invest Amount ()",children:l.jsx(ke,{type:"number",value:r,onChange:a,placeholder:f>0?`${Q(f)}`:"Enter amount..."})})}),!b&&!e.lumpsumTarget&&f>0&&l.jsx("p",{className:"text-xs text-emerald-400/70 pb-2.5",children:"Using suggested"}),!b&&e.lumpsumTarget>=100&&l.jsx("p",{className:"text-xs text-[var(--text-dim)] pb-2.5",children:"Using lumpsum target"})]}),S&&l.jsxs("p",{className:"text-xs text-amber-400/80 px-1",children:["Below minimum  distributes proportionally but won't fully rebalance. Need ",Q(f)," for exact target %."]}),h.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[l.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Allocation"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Invest"})]})}),l.jsx("tbody",{children:h.map(w=>l.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 ${w.invest===0?"opacity-50":""}`,children:[l.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:w.fundName}),l.jsxs("td",{className:"py-2 px-2 text-right tabular-nums",children:[l.jsxs("span",{className:w.isOverweight?"text-amber-400":w.invest>0?"text-blue-400":"text-[var(--text-dim)]",children:[w.currentPct.toFixed(1),"%"]}),l.jsxs("span",{className:"text-[var(--text-dim)]",children:["  ",w.newPct.toFixed(1),"%"]})]}),l.jsx("td",{className:"py-2 px-2 text-right font-semibold tabular-nums",children:w.isOverweight?l.jsx("span",{className:"text-amber-400/70 text-xs",children:"Overweight"}):w.invest>0?l.jsx("span",{className:"text-emerald-400",children:Ol(w.invest)}):l.jsx("span",{className:"text-[var(--text-dim)] text-xs",children:"Balanced"})})]},w.holdingId))}),v>0&&l.jsx("tfoot",{children:l.jsxs("tr",{className:"border-t border-[var(--border)]",children:[l.jsx("td",{className:"py-1.5 px-2 text-xs font-bold text-[var(--text-primary)]",colSpan:2,children:"Total"}),l.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-emerald-400 tabular-nums",children:Q(v)})]})})]})}):l.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2 text-center",children:"All funds balanced"}),x&&l.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Overweight funds can't be fixed by buying. Use ",l.jsx("span",{className:"font-semibold text-amber-400",children:"Buy / Sell"})," tab to sell overweight and buy underweight."]})]})}function hie({portfolio:e,holdings:t,totalValue:n}){const r=(e.rebalanceThreshold||.05)*100,a=t.some(u=>u.targetAllocationPct>0),s=t.some(u=>u.targetAllocationPct===0&&u.units>0);if(!a&&!s)return l.jsx(hj,{});const c=t.filter(u=>u.targetAllocationPct>0||u.units>0).map(u=>{const f=n>0?u.currentValue/n*100:0,m=u.targetAllocationPct===0&&u.units>0,h=m||Math.abs(f-u.targetAllocationPct)>r,v=u.targetAllocationPct/100*n,x=h?v-u.currentValue:0;return{...u,currentPct:f,amount:x,isExit:m}}).filter(u=>Math.abs(u.amount)>=500);return c.length===0?l.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"Portfolio is balanced"}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[l.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Drift"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Action"})]})}),l.jsx("tbody",{children:c.map(u=>{const f=u.amount>0;return l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[l.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:u.fundName}),l.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:u.isExit?l.jsxs("span",{className:"text-[var(--accent-rose)]",children:[u.currentPct.toFixed(1),"%  Exit"]}):`${u.currentPct.toFixed(1)}%  ${u.targetAllocationPct.toFixed(1)}%`}),l.jsx("td",{className:"py-2 px-2 text-right",children:l.jsxs("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${f?"bg-emerald-500/20 text-emerald-400":"bg-rose-500/20 text-[var(--accent-rose)]"}`,children:[f?"Buy":u.isExit?"Exit":"Sell"," ",Ol(Math.abs(u.amount))]})})]},u.schemeCode||u.fundCode)})})]})})}function dI(){const{mfHoldings:e,mfPortfolios:t}=pt(),[n,r]=j.useState("buysell"),a=j.useMemo(()=>t.filter(f=>f.status!=="Inactive").map(f=>{const m=e.filter(w=>w.portfolioId===f.portfolioId&&w.units>0),h=m.reduce((w,y)=>w+y.currentValue,0),v=(f.rebalanceThreshold||.05)*100,x=m.filter(w=>{if(w.targetAllocationPct<=0)return!1;const y=h>0?w.currentValue/h*100:0;return Math.abs(y-w.targetAllocationPct)>v}).length,b=m.filter(w=>w.targetAllocationPct===0&&w.units>0&&w.currentValue>=500).length,S=m.some(w=>w.targetAllocationPct>0);return{...f,holdings:m,totalValue:h,driftedCount:x,exitCount:b,hasTargets:S}}).filter(f=>f.driftedCount>0||f.exitCount>0),[t,e]);if(a.length===0){const f=e.some(m=>m.targetAllocationPct>0);return l.jsx("div",{className:"py-8 text-center",children:f?l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"All portfolios are balanced"}),l.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"No funds exceed their rebalance threshold"})]}):l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No target allocations set"}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:["Use ",l.jsx("span",{className:"font-semibold text-violet-400",children:"Allocations"})," to set target % for each fund, then rebalance will show drift"]})]})})}const c=a.some(f=>(f.sipTarget||0)>=500)?a_:a_.filter(f=>f.key!=="sip"),u=c.some(f=>f.key===n)?n:c[0]?.key||"buysell";return l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex bg-[var(--bg-inset)] rounded-lg p-0.5",children:c.map(({key:f,label:m,icon:h,color:v,dimColor:x,activeBg:b})=>l.jsxs("button",{onClick:()=>r(f),className:`flex-1 flex items-center justify-center gap-1.5 py-2 rounded-md text-xs font-semibold transition-colors ${u===f?`${b} ${v} shadow-sm`:x}`,children:[l.jsx(h,{size:13})," ",m]},f))}),a.map((f,m)=>l.jsxs("div",{className:"border border-[var(--border-light)] border-l-2 border-l-violet-500/50 rounded-lg overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between px-3 py-2.5 bg-[var(--bg-inset)]",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs font-bold text-violet-400 bg-violet-500/15 w-5 h-5 rounded flex items-center justify-center",children:m+1}),l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:f.portfolioName}),l.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:f.ownerName}),f.driftedCount>0&&l.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-amber-500/15 text-amber-400",children:[f.driftedCount," drifted"]}),f.exitCount>0&&l.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-rose-500/15 text-[var(--accent-rose)]",children:[f.exitCount," exit"]})]}),l.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-muted)]",children:[l.jsx("span",{className:"font-semibold text-[var(--text-secondary)]",children:Q(f.totalValue)}),l.jsxs("span",{children:["Threshold: ",((f.rebalanceThreshold||.05)*100).toFixed(0),"%"]}),f.sipTarget>=100&&l.jsxs("span",{children:["SIP: ",Q(f.sipTarget),"/mo"]})]})]}),l.jsxs("div",{className:"px-3 py-2",children:[u==="sip"&&l.jsx(mie,{portfolio:f,holdings:f.holdings,totalValue:f.totalValue}),u==="lumpsum"&&l.jsx(pie,{portfolio:f,holdings:f.holdings,totalValue:f.totalValue}),u==="buysell"&&l.jsx(hie,{portfolio:f,holdings:f.holdings,totalValue:f.totalValue})]})]},f.portfolioId))]})}const vie="https://raw.githubusercontent.com/jagadeeshkmanne/capital-friends/main/logo.png",xie="https://raw.githubusercontent.com/jagadeeshkmanne/capital-friends/main/logo-small.png",i_={mf:{label:"Mutual Funds",color:"bg-violet-500",order:1,route:"/investments/mutual-funds"},stocks:{label:"Stocks",color:"bg-blue-500",order:2,route:"/investments/stocks"},PPF:{label:"PPF",color:"bg-cyan-600",order:3,route:"/investments/other"},EPF:{label:"EPF",color:"bg-cyan-500",order:4,route:"/investments/other"},NPS:{label:"NPS",color:"bg-sky-500",order:5,route:"/investments/other"},FD:{label:"Fixed Deposit",color:"bg-teal-500",order:6,route:"/investments/other"},RD:{label:"RD",color:"bg-teal-400",order:7,route:"/investments/other"},SSY:{label:"SSY",color:"bg-pink-400",order:8,route:"/investments/other"},NSC:{label:"NSC",color:"bg-indigo-400",order:9,route:"/investments/other"},Bonds:{label:"Bonds",color:"bg-cyan-400",order:10,route:"/investments/other"},Debt:{label:"Debt",color:"bg-cyan-500",order:11,route:"/investments/other"},Gold:{label:"Gold",color:"bg-amber-500",order:12,route:"/investments/other"},Silver:{label:"Silver",color:"bg-slate-400",order:13,route:"/investments/other"},Property:{label:"Real Estate",color:"bg-orange-500",order:14,route:"/investments/other"},Alternative:{label:"Alternative",color:"bg-violet-400",order:15,route:"/investments/other"},Equity:{label:"Equity",color:"bg-emerald-500",order:16,route:"/investments/other"},Other:{label:"Other",color:"bg-gray-500",order:17,route:"/investments/other"}},Lm=["from-violet-500 to-indigo-500","from-rose-500 to-pink-500","from-blue-500 to-cyan-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],s_=["bg-violet-500","bg-rose-500","bg-blue-500","bg-amber-500","bg-emerald-500"],gie=[{label:"Family Members",path:"/family",match:"/family"},{label:"Bank Accounts",path:"/accounts/bank",match:"/accounts/bank"},{label:"Investment Accounts",path:"/accounts/investment",match:"/accounts/investment"},{label:"Insurance",path:"/insurance",match:"/insurance"},{label:"Mutual Funds",path:"/investments/mutual-funds",match:"/investments/mutual-funds"},{label:"Stocks",path:"/investments/stocks",match:"/investments/stocks"},{label:"Other Investments",path:"/investments/other",match:"/investments/other"},{label:"Liabilities",path:"/liabilities",match:"/liabilities"},{label:"Goals",path:"/goals",match:"/goals"}],l_={mf:"#8b5cf6",stocks:"#3b82f6",PPF:"#0891b2",EPF:"#06b6d4",NPS:"#0ea5e9",FD:"#14b8a6",RD:"#2dd4bf",SSY:"#f472b6",NSC:"#818cf8",Bonds:"#22d3ee",Debt:"#0ea5e9",Gold:"#fbbf24",Silver:"#94a3b8",Property:"#f97316",Alternative:"#a78bfa",Equity:"#10b981",Other:"#6b7280"},bie={buyopp:"Buying Opportunities",rebalance:"Rebalance Alerts"};function yie({onMenuClick:e}){const{theme:t,toggle:n}=IO(),{selectedMember:r,setSelectedMember:a,familyMembers:s}=Yr(),{mfPortfolios:c,mfHoldings:u,stockPortfolios:f,stockHoldings:m,otherInvList:h,liabilityList:v,refreshData:x,isRefreshing:b}=pt(),{user:S,signOut:w}=eo(),{masked:y,toggleMask:C,mv:M}=ci(),A=Jl(),_=ca(),{criticalAlerts:E,upcomingReminders:T,investmentSignals:P}=kee(),[O,L]=j.useState(!1),[R,B]=j.useState(!1),[D,W]=j.useState(null),[X,Z]=j.useState(!1),$=j.useRef(null),G=j.useRef(null),z=E.length+T.length,{buyOppCount:te,buyCount:ve,strongBuyCount:F,rebalanceCount:ae}=P;j.useEffect(()=>{function me(ge){$.current&&!$.current.contains(ge.target)&&L(!1),G.current&&!G.current.contains(ge.target)&&B(!1)}return(O||R)&&document.addEventListener("mousedown",me),()=>document.removeEventListener("mousedown",me)},[O,R]);const he=s.findIndex(me=>me.memberId===r),ye=he>=0?s[he]:null,je=j.useMemo(()=>{const me=(Pe,Ye)=>r==="all"?Pe:Pe.filter(at=>at[Ye]===r),ge={},K=(Pe,Ye,at,Bt)=>{ge[Pe]||(ge[Pe]={items:[],invested:0}),ge[Pe].items.push({label:Ye,value:at}),ge[Pe].invested+=Bt};me((c||[]).filter(Pe=>Pe.status==="Active"),"ownerId").forEach(Pe=>{const Ye=(u||[]).filter(Ut=>Ut.portfolioId===Pe.portfolioId&&Ut.units>0),at=Ye.reduce((Ut,St)=>Ut+St.currentValue,0),Bt=Ye.reduce((Ut,St)=>Ut+St.investment,0);at>0&&K("mf",Pe.portfolioName?.replace(/^PFL-/,"")||Pe.portfolioName,at,Bt)}),me((f||[]).filter(Pe=>Pe.status==="Active"),"ownerId").forEach(Pe=>{const Ye=(m||[]).filter(Ut=>Ut.portfolioId===Pe.portfolioId),at=Ye.reduce((Ut,St)=>Ut+St.currentValue,0),Bt=Ye.reduce((Ut,St)=>Ut+St.totalInvestment,0);at>0&&K("stocks",Pe.portfolioName,at,Bt)}),me((h||[]).filter(Pe=>Pe.status==="Active"),"familyMemberId").forEach(Pe=>{const Ye=Pe.investmentType||Pe.investmentCategory||"Other";K(Ye,Pe.investmentName||Ye,Pe.currentValue,Pe.investedAmount||0)});const Ze=Object.entries(ge).map(([Pe,{items:Ye,invested:at}])=>{const Bt=i_[Pe]||i_.Other,Ut=Ye.reduce((St,Hn)=>St+Hn.value,0);return{key:Pe,label:Bt.label,color:Bt.color,order:Bt.order,route:Bt.route,total:Ut,invested:at,items:Ye.sort((St,Hn)=>Hn.value-St.value)}}).filter(Pe=>Pe.total>0).sort((Pe,Ye)=>Pe.order-Ye.order),Ue=me((v||[]).filter(Pe=>Pe.status==="Active"),"familyMemberId"),jt=Ue.map(Pe=>({label:Pe.liabilityName||Pe.liabilityType||"Loan",value:Pe.outstandingBalance})),vt=Ue.reduce((Pe,Ye)=>Pe+Ye.outstandingBalance,0),ut=Ze.reduce((Pe,Ye)=>Pe+Ye.total,0),Nt=Ze.reduce((Pe,Ye)=>Pe+Ye.invested,0);return{netWorth:ut-vt,totalInv:ut,totalInvested:Nt,sections:Ze,totalLiab:vt,liabilities:jt}},[r,c,u,f,m,h,v]);function Ie(){L(!1),B(!1)}return l.jsxs("header",{className:"sticky top-0 z-30 shrink-0",children:[l.jsx("style",{children:`
        @keyframes glow-emerald {
          0%, 100% { box-shadow: 0 0 6px rgba(16,185,129,0.3), 0 0 12px rgba(16,185,129,0.15); }
          50% { box-shadow: 0 0 12px rgba(16,185,129,0.5), 0 0 24px rgba(16,185,129,0.25); }
        }
        @keyframes glow-violet {
          0%, 100% { box-shadow: 0 0 6px rgba(139,92,246,0.3), 0 0 12px rgba(139,92,246,0.15); }
          50% { box-shadow: 0 0 12px rgba(139,92,246,0.5), 0 0 24px rgba(139,92,246,0.25); }
        }
        .glow-emerald { animation: glow-emerald 2s ease-in-out infinite; }
        .glow-violet { animation: glow-violet 2s ease-in-out infinite; }
      `}),l.jsx("div",{className:"relative z-10 bg-[var(--bg-header)]/95 backdrop-blur-sm border-b border-[var(--border)]",children:l.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 h-14",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:e,className:"lg:hidden p-2 -ml-1.5 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:l.jsx(E8,{size:20})}),l.jsx("img",{src:xie,alt:"Capital Friends",className:"h-9 sm:hidden"}),l.jsx("img",{src:vie,alt:"Capital Friends",className:"h-10 hidden sm:block"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[te>0&&l.jsxs("button",{onClick:()=>{W(D==="buyopp"?null:"buyopp"),Ie()},className:`glow-emerald flex items-center gap-1.5 text-xs font-bold whitespace-nowrap px-3 py-1.5 rounded-full transition-all ${D==="buyopp"?"bg-emerald-500/30 text-emerald-300 ring-1 ring-emerald-400/50":"bg-emerald-500/15 text-emerald-400 hover:bg-emerald-500/25"}`,children:[l.jsx(kh,{size:13,strokeWidth:2.5}),l.jsx("span",{className:"hidden sm:inline",children:F>0?"Buy Opportunities":"Buying Opportunities"}),F>0&&l.jsxs("span",{className:"text-[11px] bg-emerald-500/30 px-1.5 py-0.5 rounded-full",children:[F," Strong"]}),ve>0&&l.jsxs("span",{className:"text-[11px] bg-emerald-500/20 px-1.5 py-0.5 rounded-full",children:[ve," Buy"]})]}),ae>0&&l.jsxs("button",{onClick:()=>{W(D==="rebalance"?null:"rebalance"),Ie()},className:`glow-violet flex items-center gap-1.5 text-xs font-bold whitespace-nowrap px-3 py-1.5 rounded-full transition-all ${D==="rebalance"?"bg-violet-500/30 text-violet-300 ring-1 ring-violet-400/50":"bg-violet-500/15 text-violet-400 hover:bg-violet-500/25"}`,children:[l.jsx(ic,{size:13,strokeWidth:2.5}),l.jsx("span",{className:"hidden sm:inline",children:"Rebalance Alerts"}),l.jsx("span",{className:"text-[11px] bg-violet-500/30 px-1.5 py-0.5 rounded-full",children:ae})]}),l.jsx("button",{onClick:()=>x(!0),disabled:b,className:`p-2 rounded-lg transition-colors ${b?"text-blue-400 cursor-not-allowed":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,title:"Sync data from Google Sheets",children:l.jsx(ic,{size:18,className:b?"animate-spin":""})}),l.jsx("button",{onClick:C,className:`p-2 rounded-lg transition-colors ${y?"text-amber-400 bg-amber-500/10":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,title:y?"Data masked  click to reveal":"Mask sensitive data",children:y?l.jsx(ep,{size:18}):l.jsx(p1,{size:18})}),l.jsx("button",{onClick:n,className:"p-2 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",title:`Switch to ${t==="dark"?"light":"dark"} mode`,children:t==="dark"?l.jsx(Kb,{size:18}):l.jsx(XO,{size:18})}),z>0&&l.jsxs("div",{className:"relative",ref:G,children:[l.jsxs("button",{onClick:()=>{B(!R),L(!1)},className:"relative p-2 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[l.jsx(Ah,{size:18}),l.jsx("span",{className:"absolute -top-0.5 -right-0.5 min-w-[16px] h-4 flex items-center justify-center text-[9px] font-bold text-white bg-rose-500 rounded-full px-1",children:z})]}),R&&l.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-xl shadow-black/20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[l.jsx("div",{className:"px-3 py-2 border-b border-[var(--border-light)]",children:l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:"Notifications"})}),l.jsxs("div",{className:"max-h-[300px] overflow-y-auto py-1",children:[E.map((me,ge)=>{const K={critical:"bg-rose-500",warning:"bg-amber-500",info:"bg-blue-500"}[me.type],Ne={critical:"bg-rose-500/15 text-rose-400",warning:"bg-amber-500/15 text-amber-400",info:"bg-blue-500/15 text-blue-400"}[me.type];return l.jsxs("button",{onClick:()=>{B(!1),A(me.navigateTo)},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-[var(--bg-hover)] transition-colors",children:[l.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${K}`}),l.jsx("span",{className:"text-xs text-[var(--text-secondary)] flex-1 text-left truncate",children:me.title}),l.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded-full shrink-0 ${Ne}`,children:me.badge})]},`c-${ge}`)}),E.length>0&&T.length>0&&l.jsx("div",{className:"mx-3 my-1 border-t border-[var(--border-light)]"}),T.map(me=>{const ge=me.days<=7?"bg-rose-500/15 text-rose-400":me.days<=15?"bg-amber-500/15 text-amber-400":"bg-slate-500/15 text-[var(--text-muted)]";return l.jsxs("button",{onClick:()=>{B(!1),A("/reminders")},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[l.jsx("span",{className:"w-2 h-2 rounded-full shrink-0 bg-amber-500"}),l.jsx("span",{className:"text-xs text-[var(--text-secondary)] flex-1 truncate",children:me.title}),l.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded-full shrink-0 ${ge}`,children:me.days===0?"Today":me.days<=30?`${me.days}d`:me.dateStr})]},`r-${me.reminderId}`)})]})]})]}),l.jsxs("div",{className:"relative",ref:$,children:[l.jsxs("button",{onClick:()=>{L(!O),B(!1)},className:"flex items-center gap-1.5 pl-1 pr-2 py-1 rounded-full hover:bg-[var(--bg-hover)] transition-colors",children:[ye?l.jsx("div",{className:`w-8 h-8 rounded-full bg-gradient-to-br ${Lm[he%Lm.length]} flex items-center justify-center text-white text-xs font-bold shadow-sm`,children:ye.memberName.charAt(0)}):l.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-500 flex items-center justify-center text-white shadow-sm",children:l.jsx(lc,{size:14})}),l.jsx(Ga,{size:14,className:`text-[var(--text-muted)] transition-transform ${O?"rotate-180":""}`})]}),O&&l.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-xl shadow-black/20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[l.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)]",children:l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:"Viewing as"})}),l.jsxs("div",{className:"py-1.5",children:[l.jsxs("button",{onClick:()=>{a("all"),L(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${r==="all"?"bg-violet-500/10":"hover:bg-[var(--bg-hover)]"}`,children:[l.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-violet-500 to-indigo-500 flex items-center justify-center text-white shadow-sm shrink-0",children:l.jsx(lc,{size:15})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:`text-sm font-semibold truncate ${r==="all"?"text-violet-400":"text-[var(--text-primary)]"}`,children:"Everyone"}),l.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:"All family members"})]}),r==="all"&&l.jsx(MC,{size:16,className:"text-violet-400 shrink-0"})]}),s.length>0&&l.jsx("div",{className:"mx-4 my-1 border-t border-[var(--border-light)]"}),s.map((me,ge)=>{const K=r===me.memberId;return l.jsxs("button",{onClick:()=>{a(me.memberId),L(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${K?`${s_[ge%s_.length]}/10`:"hover:bg-[var(--bg-hover)]"}`,children:[l.jsx("div",{className:`w-9 h-9 rounded-full bg-gradient-to-br ${Lm[ge%Lm.length]} flex items-center justify-center text-white text-sm font-bold shadow-sm shrink-0`,children:me.memberName.charAt(0)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-semibold truncate text-[var(--text-primary)]",children:M(me.memberName,"name")}),l.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:me.relationship||"Family member"})]}),K&&l.jsx(MC,{size:16,className:"text-emerald-400 shrink-0"})]},me.memberId)})]}),l.jsxs("div",{className:"border-t border-[var(--border-light)] py-1.5",children:[l.jsxs(Xo,{to:"/settings",onClick:()=>L(!1),className:"w-full flex items-center gap-3 px-4 py-2.5 text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[l.jsx(h1,{size:16}),l.jsx("span",{className:"text-sm font-medium",children:"Settings"})]}),S&&l.jsx("div",{className:"px-4 py-1.5",children:l.jsx("p",{className:"text-[11px] text-[var(--text-muted)] truncate",children:M(S.email,"email")})}),l.jsxs("button",{onClick:()=>{w(),L(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-left text-rose-400 hover:bg-rose-500/10 transition-colors",children:[l.jsx(QO,{size:16}),l.jsx("span",{className:"text-sm font-medium",children:"Sign out"})]})]})]})]})]})]})}),l.jsx(Mee,{}),l.jsx("nav",{className:"bg-[var(--bg-header)]/90 backdrop-blur-sm border-b border-[var(--border)]",children:l.jsxs("div",{className:"flex items-center px-3 sm:px-4 py-1.5",children:[l.jsx("div",{className:"flex items-center gap-1 overflow-x-auto no-scrollbar flex-1 min-w-0",children:gie.map(me=>{const ge=_.pathname.startsWith(me.match);return l.jsx(Xo,{to:me.path,className:`whitespace-nowrap px-3 py-1.5 rounded-lg text-[13px] font-medium transition-colors ${ge?"bg-violet-500/15 text-violet-400":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,children:me.label},me.path)})}),l.jsxs("button",{onClick:()=>{Z(!0),Ie()},className:`shrink-0 ml-3 flex items-center gap-1.5 px-3 py-1.5 rounded-lg transition-colors ${je.netWorth>=0?"bg-emerald-500/10 border border-emerald-500/20 hover:bg-emerald-500/15":"bg-rose-500/10 border border-rose-500/20 hover:bg-rose-500/15"}`,children:[l.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider ${je.netWorth>=0?"text-emerald-400/70":"text-rose-400/70"}`,children:"Net Worth"}),l.jsx("span",{className:`text-sm font-extrabold tabular-nums ${je.netWorth>=0?"text-emerald-400":"text-rose-400"}`,children:Q(je.netWorth)}),l.jsx(m1,{size:12,className:je.netWorth>=0?"text-emerald-400/60":"text-rose-400/60"})]})]})}),X&&(()=>{const me=je.sections.map(ge=>({name:ge.label,value:ge.total,fill:l_[ge.key]||"#6b7280",pct:je.totalInv>0?ge.total/je.totalInv*100:0,color:ge.color,route:ge.route}));return l.jsxs("div",{className:"fixed inset-0 z-50 flex items-end md:items-center justify-center",onClick:()=>Z(!1),children:[l.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),l.jsxs("div",{className:"relative w-full md:w-auto md:min-w-[720px] md:max-w-4xl max-h-[90vh] overflow-y-auto bg-[var(--bg-card)] rounded-t-2xl md:rounded-2xl border border-[var(--border)] shadow-2xl shadow-black/40",onClick:ge=>ge.stopPropagation(),children:[l.jsx("button",{onClick:()=>Z(!1),className:"absolute top-3 right-3 z-20 p-1.5 rounded-full bg-[var(--bg-inset)] hover:bg-[var(--bg-hover)]",children:l.jsx(Us,{size:16,className:"text-[var(--text-muted)]"})}),l.jsxs("div",{className:"flex flex-col md:flex-row",children:[l.jsx("div",{className:"flex-shrink-0 md:w-[340px] pt-6 pb-4 md:pb-6 px-6 flex flex-col items-center justify-center md:border-r md:border-[var(--border-light)]",children:l.jsxs("div",{className:"relative w-[200px] h-[200px] md:w-[280px] md:h-[280px]",children:[l.jsx(A5,{width:"100%",height:"100%",children:l.jsxs(N3,{children:[l.jsx(Zw,{data:me,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:"55%",outerRadius:"85%",paddingAngle:3,stroke:"none",children:me.map((ge,K)=>l.jsx(Vd,{fill:ge.fill},K))}),l.jsx(H4,{content:({active:ge,payload:K})=>{if(!ge||!K?.[0])return null;const Ne=K[0].payload;return l.jsxs("div",{className:"bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-2.5 py-1.5 shadow-lg text-xs",children:[l.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:Ne.name}),l.jsx("span",{className:"text-[var(--text-muted)] ml-1.5",children:Q(Ne.value)})]})}})]})}),l.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider",children:"Net Worth"}),l.jsx("p",{className:"text-lg md:text-xl font-bold text-[var(--text-primary)] tabular-nums",children:Q(je.netWorth)})]})]})}),l.jsxs("div",{className:"flex-1 min-w-0 px-3 md:px-5 pt-4 md:pt-6 pb-5 flex flex-col justify-center",children:[l.jsxs("div",{className:"space-y-2",children:[je.sections.map(ge=>{const K=je.totalInv>0?ge.total/je.totalInv*100:0,Ne=l_[ge.key]||"#6b7280";return l.jsxs(Xo,{to:ge.route,onClick:()=>Z(!1),className:"flex items-center gap-2.5 py-2.5 px-3 rounded-xl transition-colors group",style:{backgroundColor:`${Ne}12`},children:[l.jsx("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:Ne}}),l.jsx("span",{className:"text-[13px] font-medium text-[var(--text-primary)] flex-1 min-w-0 truncate",children:ge.label}),l.jsx("span",{className:"text-[13px] font-bold text-[var(--text-primary)] tabular-nums shrink-0",children:Q(ge.total)}),l.jsxs("span",{className:"text-[10px] font-medium tabular-nums shrink-0 px-1.5 py-0.5 rounded-full",style:{backgroundColor:`${Ne}20`,color:Ne},children:[K.toFixed(0),"%"]})]},ge.key)}),je.totalLiab>0&&l.jsxs(Xo,{to:"/liabilities",onClick:()=>Z(!1),className:"flex items-center gap-2.5 py-2.5 px-3 rounded-xl transition-colors group bg-rose-500/[0.07]",children:[l.jsx("span",{className:"w-2 h-2 rounded-full shrink-0 bg-rose-500"}),l.jsxs("span",{className:"text-[13px] font-medium text-[var(--text-primary)] flex-1 min-w-0",children:[je.liabilities.length," ",je.liabilities.length===1?"Loan":"Loans"]}),l.jsxs("span",{className:"text-[13px] font-bold text-rose-400 tabular-nums shrink-0",children:["",Q(je.totalLiab)]})]})]}),l.jsxs("div",{className:"mt-4 pt-3 mx-1 border-t border-[var(--border-light)] flex items-center justify-between",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-[10px] uppercase tracking-wider text-[var(--text-dim)]",children:"Net Worth"}),l.jsx("span",{className:`text-lg font-bold tabular-nums ${je.netWorth>=0?"text-emerald-400":"text-rose-400"}`,children:Q(je.netWorth)})]}),l.jsxs("div",{className:"flex flex-col items-end text-[11px] text-[var(--text-dim)] tabular-nums",children:[l.jsxs("span",{children:[Q(je.totalInv)," invested"]}),je.totalLiab>0&&l.jsxs("span",{className:"text-rose-400/70",children:["",Q(je.totalLiab)," owed"]})]})]})]})]})]})]})})(),D&&l.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-16 sm:pt-24 px-3",children:[l.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>W(null)}),l.jsxs("div",{className:"relative w-full max-w-3xl max-h-[75vh] rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-2xl shadow-black/40 overflow-hidden flex flex-col animate-in fade-in slide-in-from-top-4 duration-200",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-[var(--border-light)] shrink-0",children:[l.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:bie[D]}),l.jsx("button",{onClick:()=>W(null),className:"p-1.5 rounded-lg hover:bg-[var(--bg-hover)] text-[var(--text-dim)] transition-colors",children:l.jsx(Us,{size:16})})]}),l.jsxs("div",{className:"overflow-y-auto p-4",children:[D==="buyopp"&&l.jsx(C3,{}),D==="rebalance"&&l.jsx(dI,{})]})]})]})]})}const wie=[{label:"Invest",icon:ec,path:"/investments/mutual-funds"},{label:"Accounts",icon:nd,path:"/accounts/bank"},{label:"Goals",icon:Ad,path:"/goals"},{label:"Reminders",icon:Ah,path:"/reminders"},{label:"More",icon:a8,path:"/more"}];function jie(){return l.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-40 bg-[var(--bg-sidebar)] border-t border-[var(--border)] safe-bottom",children:l.jsx("div",{className:"flex items-center justify-around h-[56px]",children:wie.map(({label:e,icon:t,path:n})=>l.jsx(o1,{to:n,className:({isActive:r})=>`relative flex flex-col items-center justify-center gap-0.5 w-full h-full text-xs font-medium transition-colors ${r?"text-[var(--sidebar-active-text)]":"text-[var(--text-dim)]"}`,children:({isActive:r})=>l.jsxs(l.Fragment,{children:[r&&l.jsx("span",{className:"absolute top-0 w-10 h-[2.5px] bg-[var(--sidebar-active-text)] rounded-b-full"}),l.jsx("div",{className:`flex items-center justify-center w-9 h-9 rounded-xl transition-colors ${r?"bg-[var(--sidebar-active-bg)]":""}`,children:l.jsx(t,{size:19,strokeWidth:r?2.2:1.5})}),l.jsx("span",{className:r?"font-semibold":"",children:e})]})},n))})})}const Nie="/logo-small.png",Ob=[{key:"auth",label:"Signing in"},{key:"data",label:"Loading your data"},{key:"health",label:"Checking health status"},{key:"ready",label:"Almost ready"}];function wh({phase:e="auth"}){const[t,n]=j.useState("");j.useEffect(()=>{const a=setInterval(()=>{n(s=>s.length>=3?"":s+".")},500);return()=>clearInterval(a)},[]);const r=Ob.findIndex(a=>a.key===e);return l.jsx("div",{className:"flex h-dvh items-center justify-center bg-[var(--bg-base)]",children:l.jsxs("div",{className:"flex flex-col items-center gap-8",children:[l.jsx("img",{src:Nie,alt:"Capital Friends",className:"h-16 w-16 animate-pulse"}),l.jsxs("div",{className:"flex flex-col items-center gap-4 min-w-[220px]",children:[Ob.map((a,s)=>{const c=s===r,u=s<r;return l.jsxs("div",{className:"flex items-center gap-3 w-full",children:[l.jsx("div",{className:`flex-shrink-0 w-5 h-5 rounded-full flex items-center justify-center text-xs font-medium transition-all duration-300 ${u?"bg-green-500 text-white":c?"bg-violet-500 text-white animate-pulse":"bg-[var(--border)] text-[var(--text-muted)]"}`,children:u?"":s+1}),l.jsxs("span",{className:`text-sm transition-all duration-300 ${u?"text-green-400":c?"text-[var(--text-primary)] font-medium":"text-[var(--text-muted)]"}`,children:[a.label,c?t:""]})]},a.key)}),l.jsx("div",{className:"w-full h-1 rounded-full bg-[var(--border)] overflow-hidden mt-2",children:l.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-violet-500 to-cyan-500 transition-all duration-500 ease-out",style:{width:`${(r+1)/Ob.length*100}%`}})})]})]})})}function Sie(){const[e,t]=j.useState(!1),{loading:n,error:r}=pt();return n?l.jsx(wh,{}):r?l.jsx("div",{className:"flex h-dvh items-center justify-center bg-[var(--bg-base)]",children:l.jsxs("div",{className:"flex flex-col items-center gap-4 text-center px-6",children:[l.jsx("img",{src:"/logo-small.png",alt:"Capital Friends",className:"h-16 w-16 opacity-50"}),l.jsx("p",{className:"text-rose-400 text-sm font-medium",children:r}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 text-sm font-medium rounded-lg bg-violet-600 hover:bg-violet-500 text-white transition-colors",children:"Retry"})]})}):l.jsxs("div",{className:"flex flex-col h-dvh bg-[var(--bg-base)] overflow-hidden",children:[l.jsx(yie,{onMenuClick:()=>t(!0)}),l.jsx(wB,{open:e,onClose:()=>t(!1)}),l.jsx("main",{className:"flex-1 overflow-y-auto overscroll-contain pb-20 lg:pb-0",children:l.jsx("div",{className:"px-3 sm:px-4 py-3 sm:py-4 w-full max-w-7xl mx-auto",children:l.jsx(Z_,{})})}),l.jsx(jie,{})]})}function Cie(){const{isAuthenticated:e,loading:t}=eo(),{healthCheckCompleted:n,loading:r}=pt(),a=ca();return t&&!e?l.jsx(wh,{phase:"auth"}):!e&&!t?l.jsx(pp,{to:"/",replace:!0}):r?l.jsx(wh,{phase:"data"}):n===!1&&a.pathname!=="/health-check"?l.jsx(pp,{to:"/health-check",replace:!0}):l.jsx(Z_,{})}const o_="https://raw.githubusercontent.com/jagadeeshkmanne/capital-friends/main/logo.png";function fI(){const{isAuthenticated:e,loading:t,error:n,signIn:r}=eo(),a=Jl(),[s,c]=j.useState(0),[u,f]=j.useState(!1),m=j.useRef(null),h=j.useCallback(()=>{m.current&&clearInterval(m.current),m.current=setInterval(()=>{f(S=>(S||c(w=>(w+1)%4),S))},5e3)},[]);j.useEffect(()=>(h(),()=>{m.current&&clearInterval(m.current)}),[h]);function v(S){c(S),h()}if(j.useEffect(()=>{e&&a("/dashboard",{replace:!0})},[e,a]),t)return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#080d1a]",children:l.jsx("img",{src:"/logo-small.png",alt:"",className:"h-16 w-16 animate-pulse"})});const x=[{id:"ath",label:"ATH Tracking",icon:l.jsx(sc,{size:18}),color:"emerald",tagline:"Spot Buying Opportunities",desc:"See how far each mutual fund is from its All-Time High NAV. When a quality fund dips 10-20% below ATH, it's your signal to invest more  via SIP increase or lumpsum.",mock:l.jsx(Mie,{})},{id:"rebalance",label:"Rebalancing",icon:l.jsx(ic,{size:18}),color:"violet",tagline:"Know Exactly What to Buy or Sell",desc:"Set target allocation for each fund. When your portfolio drifts, Capital Friends tells you exactly how much to adjust  via SIP changes, lumpsum top-ups, or buy/sell actions.",mock:l.jsx(kie,{})},{id:"goals",label:"Goal Linking",icon:l.jsx(Ad,{size:18}),color:"cyan",tagline:"Link Portfolios to Goals",desc:"Create goals like retirement, child education, or emergency fund. Link MF portfolios with allocation percentages. Goal progress updates automatically as NAVs change daily.",mock:l.jsx(Die,{})},{id:"dashboard",label:"Family View",icon:l.jsx(lc,{size:18}),color:"amber",tagline:"Everyone's Wealth, One Dashboard",desc:"Switch between family members in one click. See combined or individual net worth, investments, insurance, loans  everything your family owns, in one place.",mock:l.jsx(Aie,{})}],b=x[s];return l.jsxs("div",{className:"min-h-screen bg-[#080d1a] text-slate-200",children:[l.jsx("header",{className:"sticky top-0 z-50 bg-[#0a0f1f]/95 backdrop-blur-sm border-b border-white/[0.06]",children:l.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 h-14",children:[l.jsx("img",{src:o_,alt:"Capital Friends",className:"h-12"}),l.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-violet-600 to-cyan-600 text-white text-sm font-semibold hover:from-violet-500 hover:to-cyan-500 transition-all cursor-pointer",children:[l.jsx(u_,{s:14})," Sign In"]})]})}),l.jsxs("section",{className:"relative px-5 sm:px-8 lg:px-16 pt-10 sm:pt-14 pb-8 sm:pb-10 overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 left-1/4 w-[600px] h-[400px] bg-violet-600/8 rounded-full blur-[120px] pointer-events-none"}),l.jsx("div",{className:"absolute top-20 right-1/4 w-[400px] h-[300px] bg-cyan-600/6 rounded-full blur-[100px] pointer-events-none"}),l.jsxs("div",{className:"relative text-center",children:[l.jsx("span",{className:"inline-block text-xs font-bold uppercase tracking-[0.2em] text-violet-400 bg-violet-500/10 border border-violet-500/20 rounded-full px-4 py-1.5 mb-5",children:"Always Free  100% Private  Your Google Sheet"}),l.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-extrabold leading-[1.1] tracking-tight text-white",children:["One dashboard for your family's"," ",l.jsx("span",{className:"bg-gradient-to-r from-violet-400 to-cyan-400 bg-clip-text text-transparent",children:"entire wealth"})]}),l.jsxs("p",{className:"mt-5 text-base sm:text-lg text-slate-400 leading-relaxed max-w-2xl mx-auto",children:["Mutual funds, stocks, FDs, gold, insurance, loans  track everything for every family member. Manual entry means ",l.jsx("strong",{className:"text-white",children:"no bank credentials, no privacy risk"}),"."]}),n&&l.jsx("p",{className:"mt-5 text-sm text-rose-400",children:n})]})]}),l.jsxs("section",{className:"bg-gradient-to-b from-[#0d0a1a] to-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-10 sm:py-14",children:[l.jsxs("div",{className:"text-center mb-10",children:[l.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white inline-flex items-center gap-3 flex-wrap justify-center",children:[l.jsx(Hs,{size:28,className:"text-amber-400 shrink-0"}),l.jsxs("span",{children:["What happens if something happens to ",l.jsx("span",{className:"text-amber-400",children:"you"}),"?"]})]}),l.jsxs("p",{className:"mt-4 text-lg text-slate-400 leading-relaxed",children:["Your family should know about every investment, every policy, every loan. Not someday. ",l.jsx("strong",{className:"text-white",children:"Right now."})]})]}),l.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[l.jsx(c_,{icon:l.jsx(p1,{size:20}),color:"rose",title:"Without Capital Friends",items:["Scattered investments across 10+ platforms","Family has no idea what you own or owe","Insurance policies lost in email threads","Months of confusion, missed renewals, lost money"],bad:!0}),l.jsx(c_,{icon:l.jsx(td,{size:20}),color:"emerald",title:"With Capital Friends",items:["One sheet  every investment, policy, and loan","Family receives email reports with full portfolio details","Reminders for SIPs, renewals, EMI payments","Complete clarity, instantly  when it matters most"]})]}),l.jsxs("p",{className:"text-center mt-8 text-base text-slate-500",children:["Built for ",l.jsx("strong",{className:"text-white",children:"you"})," to manage your wealth  and for your ",l.jsx("strong",{className:"text-white",children:"family"})," to access it when they need to."]})]}),l.jsxs("section",{className:"bg-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"How it Works"}),l.jsx("p",{className:"text-base text-slate-500",children:"Set up in 2 minutes  no bank credentials, no downloads"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-4",children:[l.jsx(zm,{num:1,icon:l.jsx(C8,{size:24}),color:"violet",title:"Sign In with Google",desc:"Go to capitalfriends.in and sign in with your Google account. That's all  no registration form, no passwords."}),l.jsx(zm,{num:2,icon:l.jsx(o8,{size:24}),color:"emerald",title:"App Creates Your Sheet",desc:"The app creates a private Google Sheet in your own Google Drive. This sheet stores all your financial data. Only you can see it  not even the developer."}),l.jsx(zm,{num:3,icon:l.jsx(HO,{size:24}),color:"cyan",title:"Financial Health Check",desc:"Answer 7 simple yes/no questions about your financial health. Get your score and personalized recommendations instantly."}),l.jsx(zm,{num:4,icon:l.jsx(sc,{size:24}),color:"amber",title:"Start Tracking",desc:"Add family members, portfolios, goals, insurance, and loans. The app connects to AMFI for live mutual fund prices automatically."})]}),l.jsxs("p",{className:"text-center mt-10 text-sm text-slate-600",children:["Your sheet is named ",l.jsx("strong",{className:"text-slate-400",children:"Capital Friends - Your Name"})," and lives in your Google Drive. The web app is just a beautiful dashboard to view and manage it."]})]}),l.jsxs("section",{id:"features",className:"bg-[#0b1022] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",onMouseEnter:()=>f(!0),onMouseLeave:()=>{f(!1),h()},children:[l.jsxs("div",{className:"text-center mb-10",children:[l.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Features That Set Us Apart"}),l.jsx("p",{className:"text-base text-slate-500",children:"Things you won't find on other portfolio trackers"})]}),l.jsx("div",{className:"flex justify-center gap-2 sm:gap-3 mb-10 flex-wrap",children:x.map((S,w)=>{const y=w===s,C={emerald:"border-emerald-500",violet:"border-violet-500",cyan:"border-cyan-500",amber:"border-amber-500"},M={emerald:"text-emerald-400",violet:"text-violet-400",cyan:"text-cyan-400",amber:"text-amber-400"};return l.jsxs("button",{onClick:()=>v(w),className:`relative flex items-center gap-2 px-5 py-2.5 rounded-full border text-sm font-semibold transition-all cursor-pointer ${y?`${C[S.color]} bg-white/[0.05] ${M[S.color]}`:"border-white/[0.08] text-slate-500 hover:border-white/[0.15] hover:text-slate-300"}`,children:[l.jsx("span",{className:"shrink-0",children:S.icon}),S.label,y&&l.jsx("div",{className:"absolute bottom-0 left-4 right-4 h-0.5 bg-white/[0.06] rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full rounded-full bg-current",style:{animation:"featureProgress 5s linear",animationPlayState:u?"paused":"running"}})})]},S.id)})}),l.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-8 lg:gap-12",children:[l.jsxs("div",{className:"lg:flex-1 min-h-[280px]",children:[l.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:b.tagline}),l.jsx("p",{className:"mt-3 text-base text-slate-400 leading-relaxed",children:b.desc}),b.id==="ath"&&l.jsxs("div",{className:"mt-6 space-y-5",children:[l.jsx(Wr,{c:"emerald",t:"ATH tracking only for funds in your portfolios"}),l.jsx(Wr,{c:"emerald",t:"Color-coded signals: watch, consider, buy, strong buy"}),l.jsx(Wr,{c:"emerald",t:"Increase SIP or invest lumpsum when funds dip"}),l.jsx(Wr,{c:"emerald",t:"Daily NAV updates from AMFI data"})]}),b.id==="rebalance"&&l.jsxs("div",{className:"mt-6 space-y-5",children:[l.jsx(Wr,{c:"violet",t:"Adjust monthly SIP to rebalance gradually"}),l.jsx(Wr,{c:"violet",t:"Lumpsum top-up for quick rebalance"}),l.jsx(Wr,{c:"violet",t:"Buy/Sell amounts to match target"}),l.jsx(Wr,{c:"violet",t:"Configurable threshold per portfolio"})]}),b.id==="goals"&&l.jsxs("div",{className:"mt-6 space-y-5",children:[l.jsx(Wr,{c:"cyan",t:"Link multiple MF portfolios to each goal"}),l.jsx(Wr,{c:"cyan",t:"Built-in SIP + lumpsum calculator with inflation"}),l.jsx(Wr,{c:"cyan",t:"Auto-status: On Track, Needs Attention, Achieved"}),l.jsx(Wr,{c:"cyan",t:"Withdrawal planning for retirement goals"})]}),b.id==="dashboard"&&l.jsxs("div",{className:"mt-6 space-y-5",children:[l.jsx(Wr,{c:"amber",t:"One-click switch between family members"}),l.jsx(Wr,{c:"amber",t:"Combined net worth across everyone"}),l.jsx(Wr,{c:"amber",t:"MF, stocks, FD, gold, PPF, NPS, insurance"}),l.jsx(Wr,{c:"amber",t:"Email reports sent to family automatically"})]})]}),l.jsx("div",{className:"lg:flex-1 min-w-0 min-h-[380px] flex flex-col justify-center",children:b.mock})]}),l.jsx("style",{children:`
          @keyframes featureProgress {
            from { width: 0% }
            to { width: 100% }
          }
        `})]}),l.jsxs("section",{className:"bg-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",children:[l.jsxs("div",{className:"text-center mb-10",children:[l.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Everything You Need"}),l.jsx("p",{className:"text-base text-slate-500",children:"One dashboard for your entire financial life"})]}),l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:[l.jsx(Ps,{icon:l.jsx(ed,{size:20}),c:"rose",t:"Stock Portfolios",d:"Buy/sell tracking, average cost, P&L with live NSE prices"}),l.jsx(Ps,{icon:l.jsx(R8,{size:20}),c:"orange",t:"FD, Gold, PPF, NPS",d:"Track any investment type  all counted in net worth"}),l.jsx(Ps,{icon:l.jsx(td,{size:20}),c:"teal",t:"Insurance Tracker",d:"Life, health, term policies with premiums & renewal dates"}),l.jsx(Ps,{icon:l.jsx(nd,{size:20}),c:"red",t:"Liabilities",d:"Loans & EMIs. Net worth = total assets minus debts"}),l.jsx(Ps,{icon:l.jsx(Ah,{size:20}),c:"yellow",t:"Smart Reminders",d:"SIP dates, renewals, EMI payments, maturity alerts"}),l.jsx(Ps,{icon:l.jsx(lc,{size:20}),c:"pink",t:"Family Sharing",d:"Invite family with Google accounts  shared dashboard"}),l.jsx(Ps,{icon:l.jsx(ic,{size:20}),c:"blue",t:"Daily Auto-Refresh",d:"NAVs and stock prices update automatically every day"}),l.jsx(Ps,{icon:l.jsx(H0,{size:20}),c:"emerald",t:"Complete Privacy",d:"No servers, no database, no tracking  your Sheet only"})]})]}),l.jsxs("section",{className:"border-y border-white/[0.06]",children:[l.jsxs("div",{className:"bg-[#0b1022] px-5 sm:px-8 lg:px-16 py-10 sm:py-14 text-center",children:[l.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white inline-flex items-center gap-3",children:[l.jsx(H0,{size:28,className:"text-emerald-400 shrink-0"}),"Your Data Never Leaves Google"]}),l.jsxs("p",{className:"mt-3 text-base sm:text-lg text-slate-400 leading-relaxed",children:["No backend server. No database. No tracking. The web app is a static site. Your spreadsheet lives in ",l.jsx("strong",{className:"text-white",children:"your Google Drive"}),". We literally cannot access your financial data."]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row",children:[l.jsx(Ib,{icon:l.jsx(td,{size:20}),t:"Manual Entry Only",d:"No bank linking, no credentials shared. You type your data  no one else has access.",bg:"bg-[#0d1326]",c:"emerald"}),l.jsx(Ib,{icon:l.jsx(H0,{size:20}),t:"Your Google Sheet",d:"A private spreadsheet in your Drive. Share only with family you choose.",bg:"bg-[#0f1530]",c:"violet"}),l.jsx(Ib,{icon:l.jsx(xp,{size:20}),t:"Always Free",d:"No premium tier, no hidden fees, no ads. Free today, free forever.",bg:"bg-[#111838]",c:"amber"})]})]}),l.jsxs("section",{className:"bg-gradient-to-t from-[#080d1a] to-[#0d1128] border-t border-white/[0.06] px-5 sm:px-8 lg:px-16 py-16 text-center",children:[l.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-white",children:"Start managing your family's wealth today"}),l.jsx("p",{className:"mt-3 text-base text-slate-500",children:"Always free. No credit card. No bank linking. Just your Google account."}),l.jsxs("button",{onClick:r,className:"mt-8 inline-flex items-center gap-2.5 px-8 py-3.5 bg-gradient-to-r from-violet-600 to-cyan-600 text-white font-bold text-base rounded-xl hover:from-violet-500 hover:to-cyan-500 shadow-lg shadow-violet-900/30 transition-all hover:scale-[1.02] cursor-pointer",children:[l.jsx(u_,{s:20})," Sign in with Google  It's Free"]}),n&&l.jsx("p",{className:"mt-3 text-sm text-rose-400",children:n})]}),l.jsxs("footer",{className:"border-t border-white/[0.04] px-5 sm:px-8 lg:px-16 py-5 flex items-center justify-between",children:[l.jsx("img",{src:o_,alt:"",className:"h-5 opacity-30"}),l.jsx("p",{className:"text-xs text-slate-600",children:"Your data. Your Google Drive. Your control."})]})]})}function c_({icon:e,title:t,items:n,bad:r}){const a=r?"border-rose-500/15":"border-emerald-500/15",s=r?"bg-rose-500/[0.04]":"bg-emerald-500/[0.04]",c=r?"bg-rose-500/10 text-rose-400":"bg-emerald-500/10 text-emerald-400",u=r?"text-rose-400":"text-emerald-400";return l.jsxs("div",{className:`rounded-2xl border ${a} ${s} p-6`,children:[l.jsxs("h3",{className:`text-lg font-bold ${u} mb-4 flex items-center gap-2.5`,children:[l.jsx("span",{className:`flex items-center justify-center w-8 h-8 rounded-lg ${c} shrink-0`,children:e}),t]}),l.jsx("ul",{className:"space-y-3",children:n.map((f,m)=>l.jsxs("li",{className:"flex items-start gap-2.5",children:[r?l.jsx("span",{className:"text-rose-500/60 mt-0.5 shrink-0",children:""}):l.jsx(Mc,{size:16,className:"text-emerald-500 mt-0.5 shrink-0"}),l.jsx("span",{className:"text-sm text-slate-300 leading-relaxed",children:f})]},m))})]})}function Aie(){return l.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f]",children:[l.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Dashboard"}),l.jsx("div",{className:"flex gap-1.5",children:["Everyone","Jagadeesh","Priya","Arjun"].map((e,t)=>l.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full font-medium ${t===0?"bg-violet-500/20 text-violet-300":"text-slate-600"}`,children:e},e))})]}),l.jsxs("div",{className:"grid grid-cols-3 divide-x divide-white/[0.04]",children:[l.jsx(Tb,{l:"Net Worth",v:"45.2L",lc:"text-violet-400",vc:"text-white"}),l.jsx(Tb,{l:"Invested",v:"38.7L",lc:"text-slate-500",vc:"text-slate-300"}),l.jsx(Tb,{l:"P&L",v:"+6.5L",lc:"text-slate-500",vc:"text-emerald-400",extra:"+16.8%"})]}),l.jsxs("div",{className:"border-t border-white/[0.04]",children:[l.jsx(Pb,{n:"Axis Bluechip Fund",alloc:"30% / 25%",cur:"6.2L",pl:"+24.0%",ath:"5.2%",athC:"text-[#e67e00]",up:!0}),l.jsx(Pb,{n:"Parag Parikh Flexi Cap",alloc:"35% / 40%",cur:"4.8L",pl:"+37.1%",ath:"At ATH",athC:"text-emerald-500",up:!0}),l.jsx(Pb,{n:"SBI Small Cap Fund",alloc:"20% / 15%",cur:"1.8L",pl:"-10.0%",ath:"18.3%",athC:"text-[#d84315]",last:!0})]})]})}function Mie(){const e=[{n:"HDFC Mid-Cap Opportunities",nav:"142.35",ath:"168.50",pct:"15.5%",color:"text-[#d84315]",signal:"Good Buy Signal",sigC:"text-[#d84315] bg-[#d84315]/15"},{n:"Axis Small Cap Fund",nav:"38.22",ath:"52.10",pct:"26.6%",color:"text-[#c62828]",signal:"Strong Buy",sigC:"text-[#c62828] bg-[#c62828]/15 font-bold"},{n:"Kotak Emerging Equity",nav:"89.10",ath:"92.40",pct:"3.6%",color:"text-[#b8860b]",signal:"Watch",sigC:"text-[#b8860b] bg-[#b8860b]/15"},{n:"Mirae Asset Large Cap",nav:"105.80",ath:"106.20",pct:"0.4%",color:"text-slate-500",signal:"Near ATH",sigC:"text-slate-500 bg-white/[0.04]"}];return l.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[l.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-semibold text-white",children:"Buy Opportunities"}),l.jsx("span",{className:"text-xs text-emerald-400 font-semibold bg-emerald-500/10 px-2.5 py-1 rounded-full",children:"2 signals"})]}),e.map((t,n)=>l.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${n<e.length-1?"border-b border-white/[0.03]":""}`,children:[l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-slate-300 truncate",children:t.n}),l.jsxs("p",{className:"text-xs text-slate-600 mt-0.5",children:["NAV ","",t.nav,"  ATH ","",t.ath]})]}),l.jsxs("div",{className:"text-right shrink-0 ml-3",children:[l.jsxs("p",{className:`text-base font-bold tabular-nums ${t.color}`,children:[l.jsx(yF,{size:13,className:"inline -mt-0.5"})," ",t.pct]}),l.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded ${t.sigC}`,children:t.signal})]})]},n))]})}function kie(){const[e,t]=j.useState(0),n=["SIP Adjust","Lumpsum","Buy / Sell"],r=["New SIP","Lumpsum Top-up","Action"],s=[[{n:"Axis Bluechip",val:"SIP 6,000",cur:"30%",tgt:"25%",action:"Stop SIP",actionC:"text-amber-400"},{n:"Parag Parikh Flexi",val:"SIP 7,000",cur:"35%",tgt:"40%",action:"12,000/mo",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"SIP 4,000",cur:"20%",tgt:"15%",action:"Stop SIP",actionC:"text-amber-400"},{n:"HDFC Large Cap",val:"SIP 3,000",cur:"15%",tgt:"20%",action:"8,000/mo",actionC:"text-emerald-400"}],[{n:"Axis Bluechip",val:"3,00,000",cur:"30%",tgt:"25%",action:"No action",actionC:"text-slate-600"},{n:"Parag Parikh Flexi",val:"3,50,000",cur:"35%",tgt:"40%",action:"Invest 55,000",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"2,00,000",cur:"20%",tgt:"15%",action:"No action",actionC:"text-slate-600"},{n:"HDFC Large Cap",val:"1,50,000",cur:"15%",tgt:"20%",action:"Invest 45,000",actionC:"text-emerald-400"}],[{n:"Axis Bluechip",val:"3,00,000",cur:"30%",tgt:"25%",action:"Sell 50,000",actionC:"text-rose-400"},{n:"Parag Parikh Flexi",val:"3,50,000",cur:"35%",tgt:"40%",action:"Buy 50,000",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"2,00,000",cur:"20%",tgt:"15%",action:"Sell 50,000",actionC:"text-rose-400"},{n:"HDFC Large Cap",val:"1,50,000",cur:"15%",tgt:"20%",action:"Buy 50,000",actionC:"text-emerald-400"}]][e];return l.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[l.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-semibold text-white",children:"Rebalance Portfolio"}),l.jsx("span",{className:"text-xs text-violet-400 font-semibold bg-violet-500/10 px-2.5 py-1 rounded-full",children:"4 off-target"})]}),l.jsx("div",{className:"flex border-b border-white/[0.04]",children:n.map((c,u)=>l.jsx("button",{onClick:()=>t(u),className:`flex-1 text-xs font-semibold py-2.5 text-center cursor-pointer transition-colors ${u===e?"text-violet-400 border-b-2 border-violet-400":"text-slate-600 hover:text-slate-400"}`,children:c},c))}),l.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 border-b border-white/[0.04] bg-[#0a0f1f]/50 flex-wrap",children:[l.jsx("span",{className:"text-xs text-slate-500",children:"Portfolio Value"}),l.jsxs("span",{className:"text-sm text-white font-semibold tabular-nums",children:["","10,00,000"]}),e===0&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-xs text-slate-600",children:"|"}),l.jsx("span",{className:"text-xs text-slate-500",children:"Total SIP"}),l.jsxs("span",{className:"text-sm text-white font-semibold tabular-nums",children:["","20,000"]})]}),e===1&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-xs text-slate-600",children:"|"}),l.jsx("span",{className:"text-xs text-slate-500",children:"Lumpsum"}),l.jsx("input",{type:"text",readOnly:!0,value:"1,00,000",className:"bg-white/[0.04] border border-white/[0.08] rounded-md px-2 py-1 text-sm text-white font-semibold tabular-nums w-24 text-right cursor-default outline-none"})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"grid grid-cols-[1fr_50px_50px_1fr] gap-1 px-4 py-2.5 text-xs text-slate-600 font-semibold border-b border-white/[0.03]",children:[l.jsx("span",{children:"Fund / Value"}),l.jsx("span",{className:"text-center",children:"Current"}),l.jsx("span",{className:"text-center",children:"Target"}),l.jsx("span",{className:"text-right",children:r[e]})]}),s.map((c,u)=>l.jsxs("div",{className:`grid grid-cols-[1fr_50px_50px_1fr] gap-1 px-4 py-2.5 items-center ${u<s.length-1?"border-b border-white/[0.03]":""}`,children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("span",{className:"text-sm text-slate-300 truncate block",children:c.n}),l.jsxs("span",{className:"text-[10px] text-slate-600",children:["",c.val]})]}),l.jsx("span",{className:"text-sm text-center text-slate-400 tabular-nums",children:c.cur}),l.jsx("span",{className:"text-sm text-center text-slate-400 tabular-nums",children:c.tgt}),l.jsx("span",{className:`text-sm text-right font-semibold ${c.actionC}`,children:c.action})]},`${e}-${u}`))]})]})}function Die(){const e=[{n:"Retirement",tgt:"2Cr",cur:"28.5L",pct:14,sip:"45,000",yrs:"18 yrs",status:"On Track",sc:"text-blue-400 bg-blue-500/15",bc:"bg-blue-500"},{n:"Child Education",tgt:"50L",cur:"12.2L",pct:24,sip:"15,000",yrs:"12 yrs",status:"On Track",sc:"text-blue-400 bg-blue-500/15",bc:"bg-blue-500"},{n:"New Car",tgt:"15L",cur:"4.1L",pct:27,sip:"12,000",yrs:"3 yrs",status:"Needs Attention",sc:"text-amber-400 bg-amber-500/15",bc:"bg-amber-500"}];return l.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[l.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-semibold text-white",children:"Goals"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs text-slate-500",children:"2 On Track"}),l.jsx("span",{className:"text-xs text-amber-400",children:"1 Needs Attention"})]})]}),e.map((t,n)=>l.jsxs("div",{className:`px-4 py-3.5 ${n<e.length-1?"border-b border-white/[0.03]":""}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-semibold text-white",children:t.n}),l.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded-full ${t.sc}`,children:t.status})]}),l.jsxs("span",{className:"text-xs text-slate-500",children:["",t.sip,"/mo  ",t.yrs]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex-1 h-2.5 rounded-full bg-white/[0.06] overflow-hidden",children:l.jsx("div",{className:`h-full rounded-full ${t.bc}`,style:{width:`${t.pct}%`}})}),l.jsxs("span",{className:"text-sm font-semibold text-slate-300 tabular-nums w-10 text-right",children:[t.pct,"%"]})]}),l.jsxs("div",{className:"flex justify-between mt-1.5 text-xs text-slate-600",children:[l.jsxs("span",{children:["",t.cur," of ","",t.tgt]}),l.jsxs("span",{className:"flex items-center gap-1 text-slate-500",children:[l.jsx(KO,{size:10})," 2 portfolios linked"]})]})]},n))]})}function u_({s:e=16}){return l.jsxs("svg",{viewBox:"0 0 24 24",width:e,height:e,className:"shrink-0",children:[l.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 01-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z",fill:"#4285F4"}),l.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),l.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),l.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}function Tb({l:e,v:t,lc:n,vc:r,extra:a}){return l.jsxs("div",{className:"py-3.5 text-center",children:[l.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider ${n}`,children:e}),l.jsxs("p",{className:`text-lg font-bold tabular-nums mt-0.5 ${r}`,children:[t,a&&l.jsx("span",{className:"text-sm ml-1 text-emerald-400",children:a})]})]})}function Pb({n:e,alloc:t,cur:n,pl:r,ath:a,athC:s,up:c,last:u}){return l.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${u?"":"border-b border-white/[0.03]"}`,children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-slate-300",children:e}),l.jsxs("p",{className:"text-xs text-slate-600",children:["Alloc ",t,"  ",l.jsx("span",{className:s,children:a!=="At ATH"?`${a} below ATH`:a})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-200 tabular-nums",children:n}),l.jsx("p",{className:`text-sm font-semibold tabular-nums ${c?"text-emerald-400":"text-rose-400"}`,children:r})]})]})}function Wr({c:e,t}){const n={violet:"text-violet-400",cyan:"text-cyan-400",amber:"text-amber-400",emerald:"text-emerald-400"};return l.jsxs("div",{className:"flex items-center gap-2.5",children:[l.jsx(Mc,{size:16,className:`${n[e]} shrink-0`}),l.jsx("span",{className:"text-sm text-slate-300",children:t})]})}function zm({num:e,icon:t,color:n,title:r,desc:a}){const s={violet:["text-violet-400","bg-violet-500/10","border-violet-500/20","from-violet-500/20 to-violet-500/5"],emerald:["text-emerald-400","bg-emerald-500/10","border-emerald-500/20","from-emerald-500/20 to-emerald-500/5"],cyan:["text-cyan-400","bg-cyan-500/10","border-cyan-500/20","from-cyan-500/20 to-cyan-500/5"],amber:["text-amber-400","bg-amber-500/10","border-amber-500/20","from-amber-500/20 to-amber-500/5"]},[c,u,f,m]=s[n]||s.violet;return l.jsxs("div",{className:`relative rounded-2xl border ${f} bg-gradient-to-b ${m} p-6 text-center`,children:[l.jsx("span",{className:`inline-flex items-center justify-center w-12 h-12 rounded-xl ${u} ${c} mb-4`,children:t}),l.jsxs("span",{className:`absolute top-4 right-4 text-xs font-bold ${c} opacity-40`,children:["0",e]}),l.jsx("h3",{className:"text-base font-bold text-white mb-2",children:r}),l.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:a})]})}function Ib({icon:e,t,d:n,bg:r,c:a}){const s={emerald:"text-emerald-400",violet:"text-violet-400",amber:"text-amber-400"};return l.jsxs("div",{className:`flex-1 ${r} px-5 sm:px-8 lg:px-10 py-6 sm:py-8 border-b sm:border-b-0 sm:border-r border-white/[0.04] last:border-0`,children:[l.jsxs("p",{className:"text-base font-bold text-white flex items-center gap-2",children:[l.jsx("span",{className:`${s[a]} shrink-0`,children:e}),t]}),l.jsx("p",{className:"text-sm text-slate-500 mt-1.5 leading-relaxed",children:n})]})}const d_={violet:["text-violet-400","bg-violet-500/8","border-violet-500/10"],blue:["text-blue-400","bg-blue-500/8","border-blue-500/10"],emerald:["text-emerald-400","bg-emerald-500/8","border-emerald-500/10"],cyan:["text-cyan-400","bg-cyan-500/8","border-cyan-500/10"],rose:["text-rose-400","bg-rose-500/8","border-rose-500/10"],orange:["text-orange-400","bg-orange-500/8","border-orange-500/10"],teal:["text-teal-400","bg-teal-500/8","border-teal-500/10"],red:["text-red-400","bg-red-500/8","border-red-500/10"],yellow:["text-yellow-400","bg-yellow-500/8","border-yellow-500/10"],pink:["text-pink-400","bg-pink-500/8","border-pink-500/10"]};function Ps({icon:e,c:t,t:n,d:r}){const[a,s,c]=d_[t]||d_.violet;return l.jsxs("div",{className:`rounded-xl border ${c} ${s} p-5`,children:[l.jsxs("p",{className:"text-base font-bold text-white flex items-center gap-2",children:[l.jsx("span",{className:`${a} shrink-0`,children:e}),n]}),l.jsx("p",{className:"text-sm text-slate-500 mt-1.5 leading-relaxed",children:r})]})}function Eie(){const{isAuthenticated:e,loading:t}=eo();return t?l.jsx(wh,{}):e?l.jsx(pp,{to:"/investments/mutual-funds",replace:!0}):l.jsx(fI,{})}function _ie(){const e=ca();return l.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-violet-500/15 rounded-2xl flex items-center justify-center mb-4",children:l.jsx(WF,{size:32,className:"text-violet-400"})}),l.jsx("h3",{className:"text-xl font-semibold text-[var(--text-primary)] mb-2",children:"Coming Soon"}),l.jsx("p",{className:"text-[var(--text-muted)] text-sm max-w-sm",children:"This page is under construction. Navigate using the sidebar to explore available sections."}),l.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-3 font-mono",children:e.pathname})]})}const Oie=["Savings Account","Current Account","Fixed Deposit (FD)","Recurring Deposit (RD)","NRE Account","NRO Account","Minor Account"].map(e=>({value:e,label:e}));function Tie({initial:e,onSave:t,onDelete:n,onCancel:r}){const{activeMembers:a}=pt(),s=!!e,[c,u]=j.useState({accountName:e?.accountName||"",memberId:e?.memberId||"",bankName:e?.bankName||"",accountNumber:e?.accountNumber||"",ifscCode:e?.ifscCode||"",branchName:e?.branchName||"",accountType:e?.accountType||"",status:e?.status||"Active"}),[f,m]=j.useState({}),[h,v]=j.useState(!1);function x(y,C){u(M=>({...M,[y]:C})),m(M=>({...M,[y]:void 0}))}function b(){const y={};return c.accountName.trim()||(y.accountName="Required"),c.memberId||(y.memberId="Required"),c.bankName.trim()||(y.bankName="Required"),String(c.accountNumber||"").trim()||(y.accountNumber="Required"),c.ifscCode.trim()||(y.ifscCode="Required"),c.branchName.trim()||(y.branchName="Required"),c.accountType||(y.accountType="Required"),m(y),Object.keys(y).length===0}async function S(){if(b()){v(!0);try{await t({...c,ifscCode:c.ifscCode.toUpperCase()})}finally{v(!1)}}}const w=a.map(y=>({value:y.memberId,label:`${y.memberName} (${y.relationship})`}));return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(le,{label:"Account Name",required:!0,error:f.accountName,children:l.jsx(ke,{value:c.accountName,onChange:y=>x("accountName",y),placeholder:"e.g., HDFC Savings"})}),l.jsx(le,{label:"Family Member",required:!0,error:f.memberId,children:l.jsx(Ke,{value:c.memberId,onChange:y=>x("memberId",y),options:w,placeholder:"Select member..."})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(le,{label:"Bank Name",required:!0,error:f.bankName,children:l.jsx(ke,{value:c.bankName,onChange:y=>x("bankName",y),placeholder:"e.g., HDFC Bank"})}),l.jsx(le,{label:"Account Type",required:!0,error:f.accountType,children:l.jsx(Ke,{value:c.accountType,onChange:y=>x("accountType",y),options:Oie,placeholder:"Select type..."})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(le,{label:"Account Number",required:!0,error:f.accountNumber,children:l.jsx(ke,{sensitive:!0,value:c.accountNumber,onChange:y=>x("accountNumber",y),placeholder:"e.g., 1234567890"})}),l.jsx(le,{label:"IFSC Code",required:!0,error:f.ifscCode,children:l.jsx(ke,{value:c.ifscCode,onChange:y=>x("ifscCode",y.toUpperCase()),placeholder:"e.g., HDFC0001234",maxLength:11})})]}),l.jsx(le,{label:"Branch Name",required:!0,error:f.branchName,children:l.jsx(ke,{value:c.branchName,onChange:y=>x("branchName",y),placeholder:"e.g., Hyderabad - Kondapur"})}),s&&l.jsx(le,{label:"Status",children:l.jsx(Ke,{value:c.status,onChange:y=>x("status",y),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),l.jsxs("div",{className:"flex items-center justify-between",children:[s&&n?l.jsx(ns,{onClick:n}):l.jsx("div",{}),l.jsx(an,{onCancel:r,onSubmit:S,submitLabel:s?"Update":"Add Account",loading:h})]})]})}function as({title:e="Loading"}){return l.jsxs("div",{className:"flex flex-col items-center justify-center py-32 gap-3",children:[l.jsx("span",{className:"w-7 h-7 border-[2.5px] border-violet-400/30 border-t-violet-400 rounded-full animate-spin"}),l.jsxs("span",{className:"text-sm font-semibold text-[var(--text-primary)]",children:[e,"..."]})]})}const f_={"Savings Account":"bg-blue-500/15 text-[var(--accent-blue)]",Savings:"bg-blue-500/15 text-[var(--accent-blue)]",Salary:"bg-emerald-500/15 text-emerald-400","Current Account":"bg-violet-500/15 text-[var(--accent-violet)]","Fixed Deposit":"bg-amber-500/15 text-[var(--accent-amber)]","Fixed Deposit (FD)":"bg-amber-500/15 text-[var(--accent-amber)]"};function m_(){const{selectedMember:e,member:t}=Yr(),{banks:n,addBankAccount:r,updateBankAccount:a,deleteBankAccount:s}=pt(),{showToast:c,showBlockUI:u,hideBlockUI:f}=li(),m=oi(),{mv:h}=ci(),[v,x]=j.useState(null);if(n===null)return l.jsx(as,{title:"Loading bank accounts",cards:3});const b=j.useMemo(()=>{const M=n.filter(A=>A.status!=="Inactive");return e==="all"?M:M.filter(A=>A.memberId===e)},[n,e]),S=j.useMemo(()=>new Set(b.map(M=>M.bankName)).size,[b]),w=j.useMemo(()=>b.filter(M=>M.accountType==="Savings"||M.accountType==="Savings Account"||M.accountType==="Salary").length,[b]);async function y(M){u("Saving...");try{v?.edit?await a(v.edit.accountId,M):await r(M),c(v?.edit?"Bank account updated":"Bank account added"),x(null)}catch(A){c(A.message||"Failed to save bank account","error")}finally{f()}}async function C(){if(v?.edit&&await m("Deactivate this bank account?",{title:"Deactivate Account",confirmLabel:"Deactivate"})){u("Deactivating...");try{await s(v.edit.accountId),c("Bank account deactivated"),x(null)}catch(M){c(M.message||"Failed to deactivate bank account","error")}finally{f()}}}return l.jsxs("div",{className:"space-y-4",children:[b.length===0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[l.jsx(VO,{size:32,className:"text-[var(--text-dim)]"}),l.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No bank accounts",t?` for ${t.memberName}`:""]}),l.jsx("button",{onClick:()=>x("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first bank account"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsx(Rb,{label:"Total Accounts",value:b.length}),l.jsx(Rb,{label:"Banks",value:S}),l.jsx(Rb,{label:"Savings / Salary",value:w})]}),l.jsx("div",{className:"flex items-center justify-end px-1",children:l.jsxs("button",{onClick:()=>x("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(Pr,{size:14})," Add Account"]})}),l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"hidden sm:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm min-w-[580px]",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Bank"}),!t&&l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account No."}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Branch"}),l.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),l.jsx("tbody",{children:b.map(M=>l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[l.jsx("td",{className:"py-2.5 px-4",children:l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:M.accountName})}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:M.bankName}),!t&&l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:h(M.memberName,"name")}),l.jsx("td",{className:"py-2.5 px-3",children:l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${f_[M.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.accountType})}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:h(M.accountNumber,"account")}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-dim)]",children:M.branchName}),l.jsx("td",{className:"py-2.5 px-2",children:l.jsx("button",{onClick:()=>x({edit:M}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:l.jsx(ka,{size:12})})})]},M.accountId))})]})}),l.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(M=>l.jsxs("div",{onClick:()=>x({edit:M}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:M.accountName}),l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${f_[M.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.accountType})]}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[M.bankName,t?"":`  ${h(M.memberName,"name")}`]}),l.jsxs("div",{className:"flex items-center justify-between mt-1",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:h(M.accountNumber,"account")}),l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:M.branchName})]})]},M.accountId))})]})]}),l.jsx(hr,{open:!!v,onClose:()=>x(null),title:v?.edit?"Edit Bank Account":"Add Bank Account",children:l.jsx(Tie,{initial:v?.edit||void 0,onSave:y,onDelete:v?.edit?C:void 0,onCancel:()=>x(null)})})]})}function Rb({label:e,value:t}){return l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:t})]})}const Pie=["Demat + Trading","Mutual Fund","Trading","Direct AMC","Broker"].map(e=>({value:e,label:e}));function Iie({initial:e,onSave:t,onDelete:n,onCancel:r}){const{activeMembers:a,activeBanks:s}=pt(),c=!!e,[u,f]=j.useState({accountName:e?.accountName||"",memberId:e?.memberId||"",bankAccountId:e?.bankAccountId||"",accountType:e?.accountType||"",platformBroker:e?.platformBroker||"",accountClientId:e?.accountClientId||"",dematDpId:e?.dematDpId||"",registeredEmail:e?.registeredEmail||"",registeredPhone:e?.registeredPhone||"",status:e?.status||"Active"}),[m,h]=j.useState({}),[v,x]=j.useState(!1);function b(A,_){f(E=>({...E,[A]:_})),h(E=>({...E,[A]:void 0}))}function S(A){f(_=>({..._,memberId:A,bankAccountId:""})),h(_=>({..._,memberId:void 0}))}function w(){const A={};return u.accountName.trim()||(A.accountName="Required"),u.memberId||(A.memberId="Required"),u.bankAccountId||(A.bankAccountId="Required"),u.accountType||(A.accountType="Required"),u.platformBroker.trim()||(A.platformBroker="Required"),u.registeredEmail.trim()||(A.registeredEmail="Required"),u.registeredPhone.trim()||(A.registeredPhone="Required"),h(A),Object.keys(A).length===0}async function y(){if(w()){x(!0);try{await t(u)}finally{x(!1)}}}const C=a.map(A=>({value:A.memberId,label:`${A.memberName} (${A.relationship})`})),M=j.useMemo(()=>u.memberId?s.filter(A=>A.memberId===u.memberId).map(A=>({value:A.accountId,label:`${A.accountName} - ${A.bankName}`})):[],[s,u.memberId]);return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(le,{label:"Account Name",required:!0,error:m.accountName,children:l.jsx(ke,{value:u.accountName,onChange:A=>b("accountName",A),placeholder:"e.g., Zerodha Demat"})}),l.jsx(le,{label:"Family Member",required:!0,error:m.memberId,children:l.jsx(Ke,{value:u.memberId,onChange:S,options:C,placeholder:"Select member..."})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(le,{label:"Linked Bank Account",required:!0,error:m.bankAccountId,children:l.jsx(Ke,{value:u.bankAccountId,onChange:A=>b("bankAccountId",A),options:M,placeholder:u.memberId?M.length?"Select bank account...":"No bank accounts for this member":"Select member first..."})}),l.jsx(le,{label:"Account Type",required:!0,error:m.accountType,children:l.jsx(Ke,{value:u.accountType,onChange:A=>b("accountType",A),options:Pie,placeholder:"Select type..."})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(le,{label:"Platform / Broker",required:!0,error:m.platformBroker,children:l.jsx(ke,{value:u.platformBroker,onChange:A=>b("platformBroker",A),placeholder:"e.g., Zerodha, Groww"})}),l.jsx(le,{label:"Account / Client ID",error:m.accountClientId,children:l.jsx(ke,{sensitive:!0,value:u.accountClientId,onChange:A=>b("accountClientId",A),placeholder:"e.g., ZR1234 (optional)"})})]}),l.jsx(le,{label:"Demat DP ID",error:m.dematDpId,children:l.jsx(ke,{sensitive:!0,value:u.dematDpId,onChange:A=>b("dematDpId",A),placeholder:"16-digit DP ID (optional)",maxLength:16})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(le,{label:"Registered Email",required:!0,error:m.registeredEmail,children:l.jsx(ke,{sensitive:!0,type:"email",value:u.registeredEmail,onChange:A=>b("registeredEmail",A),placeholder:"email@example.com"})}),l.jsx(le,{label:"Registered Phone",required:!0,error:m.registeredPhone,children:l.jsx(ke,{sensitive:!0,value:u.registeredPhone,onChange:A=>b("registeredPhone",A),placeholder:"9876543210"})})]}),c&&l.jsx(le,{label:"Status",children:l.jsx(Ke,{value:u.status,onChange:A=>b("status",A),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),l.jsxs("div",{className:"flex items-center justify-between",children:[c&&n?l.jsx(ns,{onClick:n}):l.jsx("div",{}),l.jsx(an,{onCancel:r,onSubmit:y,submitLabel:c?"Update":"Add Account",loading:v})]})]})}const p_={"Demat + Trading":"bg-violet-500/15 text-[var(--accent-violet)]","Mutual Fund":"bg-blue-500/15 text-[var(--accent-blue)]",Trading:"bg-orange-500/15 text-[var(--accent-orange)]",Demat:"bg-amber-500/15 text-[var(--accent-amber)]","Direct AMC":"bg-emerald-500/15 text-emerald-400",Broker:"bg-rose-500/15 text-[var(--accent-rose)]"};function Rie(){const{selectedMember:e,member:t}=Yr(),{investmentAccounts:n,addInvestmentAccount:r,updateInvestmentAccount:a,deleteInvestmentAccount:s}=pt(),{showToast:c,showBlockUI:u,hideBlockUI:f}=li(),m=oi(),{mv:h}=ci(),[v,x]=j.useState(null);if(n===null)return l.jsx(as,{title:"Loading investment accounts",cards:4});const b=j.useMemo(()=>{const A=n.filter(_=>_.status!=="Inactive");return e==="all"?A:A.filter(_=>_.memberId===e)},[n,e]),S=j.useMemo(()=>new Set(b.map(A=>A.platformBroker)).size,[b]),w=b.filter(A=>A.accountType==="Demat + Trading"||A.accountType==="Demat"||A.accountType==="Trading").length,y=b.filter(A=>A.accountType==="Mutual Fund"||A.accountType==="Direct AMC").length;async function C(A){u("Saving...");try{v?.edit?await a(v.edit.accountId,A):await r(A),c(v?.edit?"Investment account updated":"Investment account added"),x(null)}catch(_){c(_.message||"Failed to save investment account","error")}finally{f()}}async function M(){if(v?.edit&&await m("Deactivate this investment account?",{title:"Deactivate Account",confirmLabel:"Deactivate"})){u("Deactivating...");try{await s(v.edit.accountId),c("Investment account deactivated"),x(null)}catch(A){c(A.message||"Failed to deactivate investment account","error")}finally{f()}}}return l.jsxs("div",{className:"space-y-4",children:[b.length===0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[l.jsx(BO,{size:32,className:"text-[var(--text-dim)]"}),l.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No investment accounts",t?` for ${t.memberName}`:""]}),l.jsx("button",{onClick:()=>x("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first investment account"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[l.jsx(Fm,{label:"Total Accounts",value:b.length}),l.jsx(Fm,{label:"Platforms",value:S}),l.jsx(Fm,{label:"Demat / Trading",value:w}),l.jsx(Fm,{label:"Mutual Fund",value:y})]}),l.jsx("div",{className:"flex items-center justify-end px-1",children:l.jsxs("button",{onClick:()=>x("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(Pr,{size:14})," Add Account"]})}),l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"hidden sm:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm min-w-[620px]",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Platform"}),!t&&l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Client ID"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Bank"}),l.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),l.jsx("tbody",{children:b.map(A=>l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[l.jsx("td",{className:"py-2.5 px-4",children:l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:A.accountName})}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:A.platformBroker}),!t&&l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:h(A.memberName,"name")}),l.jsx("td",{className:"py-2.5 px-3",children:l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${p_[A.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:A.accountType})}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:h(A.accountClientId,"clientId")}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-dim)]",children:A.bankAccountName}),l.jsx("td",{className:"py-2.5 px-2",children:l.jsx("button",{onClick:()=>x({edit:A}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:l.jsx(ka,{size:12})})})]},A.accountId))})]})}),l.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(A=>l.jsxs("div",{onClick:()=>x({edit:A}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:A.accountName}),l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${p_[A.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:A.accountType})]}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[A.platformBroker,t?"":`  ${h(A.memberName,"name")}`]}),l.jsxs("div",{className:"flex items-center justify-between mt-1",children:[l.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Client: ",h(A.accountClientId,"clientId")]}),l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:A.bankAccountName})]})]},A.accountId))})]})]}),l.jsx(hr,{open:!!v,onClose:()=>x(null),title:v?.edit?"Edit Investment Account":"Add Investment Account",wide:!0,children:l.jsx(Iie,{initial:v?.edit||void 0,onSave:C,onDelete:v?.edit?M:void 0,onCancel:()=>x(null)})})]})}function Fm({label:e,value:t}){return l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:t})]})}const Lie=["Term Life","Health","Motor","Home Insurance","Travel","Personal Accident","Life Insurance","Others"].map(e=>({value:e,label:e})),zie=[{value:"Active",label:"Active"},{value:"Expired",label:"Expired"},{value:"Surrendered",label:"Surrendered"},{value:"Lapsed",label:"Lapsed"},{value:"Inactive",label:"Inactive"}];function Fie({initial:e,onSave:t,onDelete:n,onCancel:r}){const{activeMembers:a}=pt(),s=!!e,[c,u]=j.useState({policyType:e?.policyType||"",company:e?.company||"",policyNumber:e?.policyNumber||"",policyName:e?.policyName||"",insuredMember:e?.insuredMember||"",memberId:e?.memberId||"",sumAssured:e?.sumAssured||"",nominee:e?.nominee||"",premium:e?.premium||"",premiumFrequency:e?.premiumFrequency||"Annual",status:e?.status||"Active",notes:e?.notes||""}),[f,m]=j.useState({}),[h,v]=j.useState(!1);function x(C,M){u(A=>({...A,[C]:M})),m(A=>({...A,[C]:void 0}))}function b(C){const M=a.find(A=>A.memberId===C);u(A=>({...A,memberId:C,insuredMember:M?.memberName||""})),m(A=>({...A,memberId:void 0}))}function S(){const C={};return c.policyType||(C.policyType="Required"),c.company.trim()||(C.company="Required"),c.policyNumber.trim()||(C.policyNumber="Required"),c.policyName.trim()||(C.policyName="Required"),c.memberId||(C.memberId="Required"),(!c.sumAssured||Number(c.sumAssured)<=0)&&(C.sumAssured="Must be > 0"),m(C),Object.keys(C).length===0}async function w(){if(S()){v(!0);try{await t({...c,sumAssured:Number(c.sumAssured),premium:Number(c.premium)||0})}finally{v(!1)}}}const y=a.map(C=>({value:C.memberId,label:`${C.memberName} (${C.relationship})`}));return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(le,{label:"Policy Type",required:!0,error:f.policyType,children:l.jsx(Ke,{value:c.policyType,onChange:C=>x("policyType",C),options:Lie,placeholder:"Select type..."})}),l.jsx(le,{label:"Insurance Company",required:!0,error:f.company,children:l.jsx(ke,{value:c.company,onChange:C=>x("company",C),placeholder:"e.g., HDFC Life"})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(le,{label:"Policy Number",required:!0,error:f.policyNumber,children:l.jsx(ke,{sensitive:!0,value:c.policyNumber,onChange:C=>x("policyNumber",C),placeholder:"e.g., HL-2024-78901"})}),l.jsx(le,{label:"Policy Name",required:!0,error:f.policyName,children:l.jsx(ke,{value:c.policyName,onChange:C=>x("policyName",C),placeholder:"e.g., Click 2 Protect Life"})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(le,{label:"Insured Member",required:!0,error:f.memberId,children:l.jsx(Ke,{value:c.memberId,onChange:b,options:y,placeholder:"Select member..."})}),l.jsx(le,{label:"Nominee",children:l.jsx(Ke,{value:c.nominee,onChange:C=>x("nominee",C),options:y.map(C=>({...C,label:C.label.split(" (")[0]})),placeholder:"Select nominee (optional)..."})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsx(le,{label:"Sum Assured ()",required:!0,error:f.sumAssured,children:l.jsx(ke,{type:"number",value:c.sumAssured,onChange:C=>x("sumAssured",C),placeholder:"e.g., 10000000"})}),l.jsx(le,{label:"Premium ()",children:l.jsx(ke,{type:"number",value:c.premium,onChange:C=>x("premium",C),placeholder:"e.g., 12500"})}),l.jsx(le,{label:"Premium Frequency",children:l.jsx(Ke,{value:c.premiumFrequency,onChange:C=>x("premiumFrequency",C),options:[{value:"Annual",label:"Annual"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"}]})})]}),s&&l.jsx(le,{label:"Status",children:l.jsx(Ke,{value:c.status,onChange:C=>x("status",C),options:zie})}),l.jsx(le,{label:"Notes",children:l.jsx(wc,{value:c.notes,onChange:C=>x("notes",C),placeholder:"Additional information..."})}),l.jsxs("div",{className:"flex items-center justify-between",children:[s&&n?l.jsx(ns,{onClick:n}):l.jsx("div",{}),l.jsx(an,{onCancel:r,onSubmit:w,submitLabel:s?"Update":"Add Policy",loading:h})]})]})}const h_={"Term Life":"bg-rose-500/15 text-[var(--accent-rose)]",Health:"bg-emerald-500/15 text-emerald-400",Motor:"bg-blue-500/15 text-[var(--accent-blue)]","Home Insurance":"bg-amber-500/15 text-[var(--accent-amber)]",Travel:"bg-violet-500/15 text-[var(--accent-violet)]","Life Insurance":"bg-rose-500/15 text-[var(--accent-rose)]","Personal Accident":"bg-orange-500/15 text-[var(--accent-orange)]"};function Bie(){const{selectedMember:e,member:t}=Yr(),{insurancePolicies:n,addInsurance:r,updateInsurance:a,deleteInsurance:s}=pt(),{showToast:c,showBlockUI:u,hideBlockUI:f}=li(),m=oi(),{mv:h}=ci(),[v,x]=j.useState(null);if(n===null)return l.jsx(as,{title:"Loading insurance",cards:5});const b=j.useMemo(()=>{const _=n.filter(E=>E.status!=="Inactive");return e==="all"?_:_.filter(E=>E.memberId===e)},[n,e]),S=b.reduce((_,E)=>_+(E.sumAssured||0),0),w=b.reduce((_,E)=>_+(E.premium||0),0),y=b.filter(_=>_.policyType==="Term Life"||_.policyType==="Life Insurance").reduce((_,E)=>_+(E.sumAssured||0),0),C=b.filter(_=>_.policyType==="Health").reduce((_,E)=>_+(E.sumAssured||0),0);async function M(_){u("Saving...");try{v?.edit?await a(v.edit.policyId,_):await r(_),c(v?.edit?"Insurance policy updated":"Insurance policy added"),x(null)}catch(E){c(E.message||"Failed to save insurance policy","error")}finally{f()}}async function A(){if(v?.edit&&await m("Deactivate this insurance policy?",{title:"Deactivate Policy",confirmLabel:"Deactivate"})){u("Deactivating...");try{await s(v.edit.policyId),c("Insurance policy deactivated"),x(null)}catch(_){c(_.message||"Failed to deactivate insurance policy","error")}finally{f()}}}return l.jsxs("div",{className:"space-y-4",children:[b.length===0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[l.jsx(td,{size:32,className:"text-[var(--text-dim)]"}),l.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No insurance policies",t?` for ${t.memberName}`:""]}),l.jsx("button",{onClick:()=>x("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first policy"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[l.jsx(Vu,{label:"Policies",value:b.length}),l.jsx(Vu,{label:"Total Cover",value:Q(S),bold:!0}),l.jsx(Vu,{label:"Life Cover",value:Q(y)}),l.jsx(Vu,{label:"Health Cover",value:Q(C)}),l.jsx(Vu,{label:"Annual Premium",value:Q(w)})]}),l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[l.jsx("p",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider mb-3",children:"Coverage Adequacy"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[l.jsx(v_,{label:"Life Insurance",current:y,recommended:"10-15x annual income",tip:"Term life cover should be 10-15x your annual income to protect dependents",icon:"heart"}),l.jsx(v_,{label:"Health Insurance",current:C,recommended:"50L - 1Cr family floater",tip:"Considering medical inflation, a 50L-1Cr family floater is recommended",icon:"shield"})]})]}),l.jsx("div",{className:"flex items-center justify-end px-1",children:l.jsxs("button",{onClick:()=>x("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(Pr,{size:14})," Add Policy"]})}),l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"hidden sm:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Policy"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Company"}),!t&&l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Insured"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Sum Assured"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Premium"}),l.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),l.jsx("tbody",{children:b.map(_=>l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[l.jsxs("td",{className:"py-2.5 px-4",children:[l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:_.policyName}),l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:h(_.policyNumber,"policy")})]}),l.jsx("td",{className:"py-2.5 px-3",children:l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${h_[_.policyType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:_.policyType})}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:_.company}),!t&&l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:_.insuredMember}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(_.sumAssured)}),l.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:[Q(_.premium),"/",_.premiumFrequency==="Annual"?"yr":"mo"]}),l.jsx("td",{className:"py-2.5 px-2",children:l.jsx("button",{onClick:()=>x({edit:_}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:l.jsx(ka,{size:12})})})]},_.policyId))})]})}),l.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(_=>l.jsxs("div",{onClick:()=>x({edit:_}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:_.policyName}),l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${h_[_.policyType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:_.policyType})]}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[_.company,t?"":`  ${_.insuredMember}`]}),l.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Cover"}),l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(_.sumAssured)})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Premium"}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:[Q(_.premium),"/",_.premiumFrequency==="Annual"?"yr":"mo"]})]})]})]},_.policyId))})]})]}),l.jsx(hr,{open:!!v,onClose:()=>x(null),title:v?.edit?"Edit Insurance Policy":"Add Insurance Policy",wide:!0,children:l.jsx(Fie,{initial:v?.edit||void 0,onSave:M,onDelete:v?.edit?A:void 0,onCancel:()=>x(null)})})]})}function v_({label:e,current:t,recommended:n,tip:r}){const a=t===0;return l.jsxs("div",{className:`rounded-lg border px-3 py-2.5 ${a?"border-rose-500/30 bg-rose-500/5":"border-[var(--border)] bg-[var(--bg-inset)]"}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:e}),a?l.jsx("span",{className:"text-xs font-bold text-[var(--accent-rose)]",children:"Not covered"}):l.jsx("span",{className:"text-xs font-semibold text-emerald-400",children:Q(t)})]}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Recommended: ",n]}),l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5 italic",children:r})]})}function Vu({label:e,value:t,bold:n}){return l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),l.jsx("p",{className:`text-sm tabular-nums ${n?"font-bold":"font-semibold"} text-[var(--text-primary)]`,children:t})]})}const $ie=["Home Loan","Car Loan","Personal Loan","Education Loan","Gold Loan","Credit Card","Business Loan","Loan Against Property","Other"].map(e=>({value:e,label:e})),qie=[{value:"Active",label:"Active"},{value:"Closed",label:"Closed"},{value:"Inactive",label:"Inactive"}];function Hie({initial:e,onSave:t,onDelete:n,onCancel:r}){const{activeMembers:a}=pt(),s=!!e,[c,u]=j.useState({liabilityType:e?.liabilityType||"",lenderName:e?.lenderName||"",familyMemberId:e?.familyMemberId||"",outstandingBalance:e?.outstandingBalance||"",emiAmount:e?.emiAmount||"",interestRate:e?.interestRate||"",status:e?.status||"Active",notes:e?.notes||""}),[f,m]=j.useState({}),[h,v]=j.useState(!1);function x(y,C){u(M=>({...M,[y]:C})),m(M=>({...M,[y]:void 0}))}function b(){const y={};return c.liabilityType||(y.liabilityType="Required"),c.lenderName.trim()||(y.lenderName="Required"),(!c.outstandingBalance||Number(c.outstandingBalance)<=0)&&(y.outstandingBalance="Must be > 0"),m(y),Object.keys(y).length===0}async function S(){if(b()){v(!0);try{await t({...c,outstandingBalance:Number(c.outstandingBalance),emiAmount:Number(c.emiAmount)||0,interestRate:Number(c.interestRate)||0})}finally{v(!1)}}}const w=a.map(y=>({value:y.memberId,label:`${y.memberName} (${y.relationship})`}));return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(le,{label:"Liability Type",required:!0,error:f.liabilityType,children:l.jsx(Ke,{value:c.liabilityType,onChange:y=>x("liabilityType",y),options:$ie,placeholder:"Select type..."})}),l.jsx(le,{label:"Lender / Bank",required:!0,error:f.lenderName,children:l.jsx(ke,{value:c.lenderName,onChange:y=>x("lenderName",y),placeholder:"e.g., HDFC Bank"})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(le,{label:"Family Member",children:l.jsx(Ke,{value:c.familyMemberId,onChange:y=>x("familyMemberId",y),options:w,placeholder:"Select member (optional)..."})}),l.jsx(le,{label:"Outstanding Balance ()",required:!0,error:f.outstandingBalance,children:l.jsx(ke,{type:"number",value:c.outstandingBalance,onChange:y=>x("outstandingBalance",y),placeholder:"e.g., 3500000"})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(le,{label:"EMI Amount ()",children:l.jsx(ke,{type:"number",value:c.emiAmount,onChange:y=>x("emiAmount",y),placeholder:"e.g., 32000"})}),l.jsx(le,{label:"Interest Rate (%)",children:l.jsx(ke,{type:"number",value:c.interestRate,onChange:y=>x("interestRate",y),placeholder:"e.g., 8.5",step:"0.01"})})]}),s&&l.jsx(le,{label:"Status",children:l.jsx(Ke,{value:c.status,onChange:y=>x("status",y),options:qie})}),l.jsx(le,{label:"Notes",children:l.jsx(wc,{value:c.notes,onChange:y=>x("notes",y),placeholder:"e.g., Flat in Kondapur"})}),l.jsxs("div",{className:"flex items-center justify-between",children:[s&&n?l.jsx(ns,{onClick:n}):l.jsx("div",{}),l.jsx(an,{onCancel:r,onSubmit:S,submitLabel:s?"Update":"Add Liability",loading:h})]})]})}const x_={"Home Loan":"bg-blue-500/15 text-[var(--accent-blue)]","Car Loan":"bg-amber-500/15 text-[var(--accent-amber)]","Gold Loan":"bg-orange-500/15 text-[var(--accent-orange)]","Personal Loan":"bg-violet-500/15 text-[var(--accent-violet)]","Education Loan":"bg-emerald-500/15 text-emerald-400","Credit Card":"bg-rose-500/15 text-[var(--accent-rose)]"};function Uie(){const{selectedMember:e,member:t}=Yr(),{liabilityList:n,addLiability:r,updateLiability:a,deleteLiability:s}=pt(),{showToast:c,showBlockUI:u,hideBlockUI:f}=li(),m=oi(),[h,v]=j.useState(null);if(n===null)return l.jsx(as,{title:"Loading liabilities",cards:4});const x=j.useMemo(()=>{const M=n.filter(A=>A.status!=="Inactive");return e==="all"?M:M.filter(A=>A.familyMemberId===e)},[n,e]),b=x.reduce((M,A)=>M+(A.outstandingBalance||0),0),S=x.reduce((M,A)=>M+(A.emiAmount||0),0),w=x.filter(M=>M.status==="Active").length;async function y(M){u("Saving...");try{h?.edit?await a(h.edit.liabilityId,M):await r(M),c(h?.edit?"Liability updated":"Liability added"),v(null)}catch(A){c(A.message||"Failed to save liability","error")}finally{f()}}async function C(){if(h?.edit&&await m("Deactivate this liability?",{title:"Deactivate Liability",confirmLabel:"Deactivate"})){u("Deactivating...");try{await s(h.edit.liabilityId),c("Liability deactivated"),v(null)}catch(M){c(M.message||"Failed to deactivate liability","error")}finally{f()}}}return l.jsxs("div",{className:"space-y-4",children:[x.length===0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[l.jsx(nd,{size:32,className:"text-[var(--text-dim)]"}),l.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No liabilities",t?` for ${t.memberName}`:""]}),l.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add a liability"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[l.jsx(Bm,{label:"Liabilities",value:`${w} active`}),l.jsx(Bm,{label:"Outstanding",value:Q(b),color:"rose",bold:!0}),l.jsx(Bm,{label:"Monthly EMI",value:Q(S),color:"rose"}),l.jsx(Bm,{label:"Avg. Interest",value:x.length>0?`${(x.reduce((M,A)=>M+(A.interestRate||0),0)/x.length).toFixed(1)}%`:""})]}),l.jsx("div",{className:"flex items-center justify-end px-1",children:l.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(Pr,{size:14})," Add Liability"]})}),l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"hidden sm:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm min-w-[640px]",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Lender"}),!t&&l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Outstanding"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"EMI"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Interest"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Remaining"}),l.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),l.jsx("tbody",{children:x.map(M=>l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[l.jsxs("td",{className:"py-2.5 px-4",children:[l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${x_[M.liabilityType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.liabilityType}),M.notes&&l.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:M.notes})]}),l.jsx("td",{className:"py-2.5 px-3 text-sm font-medium text-[var(--text-primary)]",children:M.lenderName}),!t&&l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:M.familyMemberName}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:Q(M.outstandingBalance)}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:M.emiAmount?`${Q(M.emiAmount)}/mo`:""}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:M.interestRate?`${M.interestRate}%`:""}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:M.emiAmount>0&&M.outstandingBalance>0?`${Math.ceil(M.outstandingBalance/M.emiAmount)} mo`:""}),l.jsx("td",{className:"py-2.5 px-2",children:l.jsx("button",{onClick:()=>v({edit:M}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:l.jsx(ka,{size:12})})})]},M.liabilityId))})]})}),l.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:x.map(M=>l.jsxs("div",{onClick:()=>v({edit:M}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${x_[M.liabilityType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.liabilityType}),l.jsx("p",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:Q(M.outstandingBalance)})]}),l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:M.lenderName}),l.jsxs("div",{className:"flex items-center justify-between mt-1",children:[l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[M.familyMemberName,M.notes?`  ${M.notes}`:""]}),l.jsxs("div",{className:"text-right",children:[M.emiAmount>0&&l.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:["EMI: ",Q(M.emiAmount),"/mo"]}),M.emiAmount>0&&M.outstandingBalance>0&&l.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:[Math.ceil(M.outstandingBalance/M.emiAmount)," months left"]})]})]})]},M.liabilityId))})]})]}),l.jsx(hr,{open:!!h,onClose:()=>v(null),title:h?.edit?"Edit Liability":"Add Liability",children:l.jsx(Hie,{initial:h?.edit||void 0,onSave:y,onDelete:h?.edit?C:void 0,onCancel:()=>v(null)})})]})}function Bm({label:e,value:t,color:n,bold:r}){const a=n==="rose"?"text-[var(--accent-rose)]":"text-[var(--text-primary)]";return l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),l.jsx("p",{className:`text-sm tabular-nums ${r?"font-bold":"font-semibold"} ${a}`,children:t})]})}const Yie="cf_market_data",mI=[{value:"Fixed Deposit",category:"Debt"},{value:"PPF",category:"Debt"},{value:"EPF",category:"Debt"},{value:"NPS",category:"Debt"},{value:"Sovereign Gold Bond",category:"Gold"},{value:"Physical Gold",category:"Gold"},{value:"Digital Gold",category:"Gold"},{value:"Real Estate",category:"Property"},{value:"Bonds",category:"Debt"},{value:"Physical Silver",category:"Silver"},{value:"Digital Silver",category:"Silver"},{value:"Crypto",category:"Alternative"},{value:"Other",category:"Other"}],g_={"Real Estate":"Home Loan","Physical Gold":"Gold Loan","Sovereign Gold Bond":"Gold Loan","Fixed Deposit":"Loan Against FD"},Vie=mI.map(e=>({value:e.value,label:e.value})),Gie=["Equity","Debt","Gold","Silver","Property","Alternative","Other"].map(e=>({value:e,label:e})),Kie=[{value:"Active",label:"Active"},{value:"Sold",label:"Sold"},{value:"Matured",label:"Matured"},{value:"Inactive",label:"Inactive"}],b_=[{value:"24K",label:"24K (99.9%)",factor:.999},{value:"22K",label:"22K (91.6%)",factor:.916},{value:"18K",label:"18K (75.0%)",factor:.75}],y_=[{value:"999",label:"999 Fine (99.9%)",factor:.999},{value:"925",label:"925 Sterling (92.5%)",factor:.925}];function fp(e){return["Physical Gold","Digital Gold","Sovereign Gold Bond"].includes(e)}function Wie(e){return["Physical Silver","Digital Silver"].includes(e)||e&&e.toLowerCase().includes("silver")}function Lb(e){return fp(e)||Wie(e)}function Qie(e){try{const t=sessionStorage.getItem(Yie);if(!t)return null;const n=JSON.parse(t);if(!n.metals)return null;const r=e==="gold"?"Gold":"Silver",a=n.metals.find(s=>s.name.toLowerCase().includes(r.toLowerCase()));return a?a.price:null}catch{return null}}function Xie({initial:e,onSave:t,onDelete:n,onCancel:r}){const{activeMembers:a,liabilityList:s}=pt(),c=!!e;function u(z){return mI.find(te=>te.value===z)?.category||"Other"}const f=e?.dynamicFields?typeof e.dynamicFields=="string"?JSON.parse(e.dynamicFields):e.dynamicFields:{},[m,h]=j.useState({investmentType:e?.investmentType||"",investmentCategory:e?.investmentCategory||"",investmentName:e?.investmentName||"",familyMemberId:e?.familyMemberId||"",investedAmount:e?.investedAmount||"",currentValue:e?.currentValue||"",linkedLiabilityId:e?.linkedLiabilityId||"",status:e?.status||"Active",notes:e?.notes||""}),[v,x]=j.useState(f.weightGrams||""),[b,S]=j.useState(f.purity||""),[w,y]=j.useState(null),[C,M]=j.useState(!1),[A,_]=j.useState({lenderName:"",outstandingBalance:"",emiAmount:"",interestRate:""});j.useEffect(()=>{if(!Lb(m.investmentType)||!v||Number(v)<=0){y(null);return}const z=fp(m.investmentType)?"gold":"silver",te=Qie(z);if(!te){y(null);return}const F=(z==="gold"?b_:y_).find(he=>he.value===b),ae=F?F.factor:1;y(Math.round(Number(v)*te*ae))},[m.investmentType,v,b]);const[E,T]=j.useState({}),[P,O]=j.useState(!1);function L(z,te){h(ve=>({...ve,[z]:te})),T(ve=>({...ve,[z]:void 0}))}function R(z){h(te=>({...te,investmentType:z,investmentCategory:u(z)})),T(te=>({...te,investmentType:void 0}))}function B(z,te){_(ve=>({...ve,[z]:te}))}function D(){const z={};return m.investmentType||(z.investmentType="Required"),m.investmentName.trim()||(z.investmentName="Required"),(!m.currentValue||Number(m.currentValue)<0)&&(z.currentValue="Required"),C&&(A.lenderName.trim()||(z.qlLender="Required"),(!A.outstandingBalance||Number(A.outstandingBalance)<=0)&&(z.qlOutstanding="Must be > 0")),T(z),Object.keys(z).length===0}async function W(){if(!D())return;const z={...m,familyMember:m.familyMemberId,investedAmount:Number(m.investedAmount)||0,currentValue:Number(m.currentValue)||0};Lb(m.investmentType)&&(z.dynamicFields=JSON.stringify({weightGrams:Number(v)||0,purity:b||""})),C&&A.lenderName&&(z.quickLoan={liabilityType:g_[m.investmentType]||"Personal Loan",lender:A.lenderName,outstanding:Number(A.outstandingBalance)||0,emiAmount:Number(A.emiAmount)||0,interestRate:Number(A.interestRate)||0}),O(!0);try{await t(z)}finally{O(!1)}}const X=(s||[]).filter(z=>z.status!=="Inactive"),Z=[{value:"",label:"None"},...X.map(z=>({value:z.liabilityId,label:`${z.liabilityType}  ${z.lenderName} (${Q(z.outstandingBalance)})`}))],$=(a||[]).map(z=>({value:z.memberId,label:`${z.memberName} (${z.relationship})`})),G=g_[m.investmentType];return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(le,{label:"Investment Type",required:!0,error:E.investmentType,children:l.jsx(Ke,{value:m.investmentType,onChange:R,options:Vie,placeholder:"Select type..."})}),l.jsx(le,{label:"Category",children:l.jsx(Ke,{value:m.investmentCategory,onChange:z=>L("investmentCategory",z),options:Gie,placeholder:"Auto-selected..."})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(le,{label:"Investment Name",required:!0,error:E.investmentName,children:l.jsx(ke,{value:m.investmentName,onChange:z=>L("investmentName",z),placeholder:"e.g., HDFC FD - 7.5%"})}),l.jsx(le,{label:"Family Member",children:l.jsx(Ke,{value:m.familyMemberId,onChange:z=>L("familyMemberId",z),options:$,placeholder:"Select member (optional)..."})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(le,{label:"Invested Amount",children:l.jsx(ke,{type:"number",value:m.investedAmount,onChange:z=>L("investedAmount",z),placeholder:"e.g., 500000"})}),l.jsx(le,{label:"Current Value",required:!0,error:E.currentValue,children:l.jsx(ke,{type:"number",value:m.currentValue,onChange:z=>L("currentValue",z),placeholder:"e.g., 537500"})})]}),Lb(m.investmentType)&&l.jsxs("div",{className:"p-3 bg-[var(--bg-inset)] rounded-lg space-y-3",children:[l.jsxs("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider",children:[fp(m.investmentType)?"Gold":"Silver"," Details"]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[l.jsx(le,{label:"Weight (grams)",children:l.jsx(ke,{type:"number",value:v,onChange:x,placeholder:"e.g., 50"})}),l.jsx(le,{label:"Purity",children:l.jsx(Ke,{value:b,onChange:S,options:(fp(m.investmentType)?b_:y_).map(z=>({value:z.value,label:z.label})),placeholder:"Select purity..."})})]}),w!==null&&l.jsxs("div",{className:"flex items-center justify-between bg-[var(--bg-card)] rounded-lg px-3 py-2 border border-[var(--border)]",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Estimated market value"}),l.jsx("p",{className:"text-sm font-bold text-emerald-400 tabular-nums",children:Q(w)})]}),l.jsx("button",{type:"button",onClick:()=>L("currentValue",String(w)),className:"text-xs font-semibold text-violet-400 hover:text-violet-300 px-3 py-1.5 rounded-lg bg-violet-500/10 border border-violet-500/20 transition-colors",children:"Use this value"})]})]}),l.jsxs("div",{className:"border-t border-[var(--border-light)] pt-4",children:[l.jsx(le,{label:"Linked Loan / Liability",children:l.jsx(Ke,{value:m.linkedLiabilityId,onChange:z=>{L("linkedLiabilityId",z),z&&M(!1)},options:Z})}),!m.linkedLiabilityId&&!c&&l.jsx("div",{className:"mt-2",children:l.jsx("button",{type:"button",onClick:()=>M(!C),className:"text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:C?" Cancel quick loan":`+ Create new loan${G?` (${G})`:""}`})}),C&&l.jsxs("div",{className:"mt-3 p-3 bg-[var(--bg-inset)] rounded-lg space-y-3",children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider",children:"Quick Loan"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[l.jsx(le,{label:"Lender",required:!0,error:E.qlLender,children:l.jsx(ke,{value:A.lenderName,onChange:z=>B("lenderName",z),placeholder:"e.g., HDFC Bank"})}),l.jsx(le,{label:"Outstanding Balance",required:!0,error:E.qlOutstanding,children:l.jsx(ke,{type:"number",value:A.outstandingBalance,onChange:z=>B("outstandingBalance",z),placeholder:"e.g., 3500000"})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[l.jsx(le,{label:"EMI (monthly)",children:l.jsx(ke,{type:"number",value:A.emiAmount,onChange:z=>B("emiAmount",z),placeholder:"e.g., 32000"})}),l.jsx(le,{label:"Interest Rate %",children:l.jsx(ke,{type:"number",value:A.interestRate,onChange:z=>B("interestRate",z),placeholder:"e.g., 8.5"})})]})]})]}),c&&l.jsx(le,{label:"Status",children:l.jsx(Ke,{value:m.status,onChange:z=>L("status",z),options:Kie})}),l.jsx(le,{label:"Notes",children:l.jsx(wc,{value:m.notes,onChange:z=>L("notes",z),placeholder:"Additional information..."})}),l.jsxs("div",{className:"flex items-center justify-between",children:[c&&n?l.jsx(ns,{onClick:n}):l.jsx("div",{}),l.jsx(an,{onCancel:r,onSubmit:W,submitLabel:c?"Update":"Add Investment",loading:P})]})]})}const w_={Debt:"bg-blue-500/15 text-[var(--accent-blue)]",Gold:"bg-amber-500/15 text-[var(--accent-amber)]",Property:"bg-orange-500/15 text-[var(--accent-orange)]",Equity:"bg-emerald-500/15 text-emerald-400",Alternative:"bg-violet-500/15 text-[var(--accent-violet)]"};function Zie(){const{selectedMember:e,member:t}=Yr(),{otherInvList:n,liabilityList:r,addOtherInvestment:a,updateOtherInvestment:s,deleteOtherInvestment:c}=pt(),{showToast:u,showBlockUI:f,hideBlockUI:m}=li(),h=oi(),[v,x]=j.useState(null);if(n===null)return l.jsx(as,{title:"Loading investments",cards:5});const b=j.useMemo(()=>{const P=n.filter(O=>O.status!=="Inactive");return e==="all"?P:P.filter(O=>O.familyMemberId===e)},[n,e]),S=b.reduce((P,O)=>P+(O.investedAmount||0),0),w=b.reduce((P,O)=>P+(O.currentValue||0),0),y=w-S,C=y>=0,M=S>0?y/S*100:0,A=j.useMemo(()=>{const P={};return r.forEach(O=>{P[O.liabilityId]=O}),P},[r]),_=b.reduce((P,O)=>{const L=O.linkedLiabilityId?A[O.linkedLiabilityId]:null;return P+(L?.outstandingBalance||0)},0);async function E(P){f("Saving...");try{v?.edit?await s(v.edit.investmentId,P):await a(P),u(v?.edit?"Investment updated":"Investment added"),x(null)}catch(O){u(O.message||"Failed to save investment","error")}finally{m()}}async function T(){if(v?.edit&&await h("Deactivate this investment?",{title:"Deactivate Investment",confirmLabel:"Deactivate"})){f("Deactivating...");try{await c(v.edit.investmentId),u("Investment deactivated"),x(null)}catch(P){u(P.message||"Failed to deactivate investment","error")}finally{m()}}}return l.jsxs("div",{className:"space-y-4",children:[b.length===0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[l.jsx(ZO,{size:32,className:"text-[var(--text-dim)]"}),l.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No other investments",t?` for ${t.memberName}`:""]}),l.jsx("button",{onClick:()=>x("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add an investment"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[l.jsx(Gu,{label:"Invested",value:Q(S)}),l.jsx(Gu,{label:"Current Value",value:Q(w),bold:!0}),l.jsx(Gu,{label:"P&L",value:`${C?"+":""}${Q(Math.abs(y))}`,sub:`${C?"+":""}${M.toFixed(1)}%`,positive:C,bold:!0}),_>0&&l.jsx(Gu,{label:"Linked Loans",value:Q(_),color:"rose"}),l.jsx(Gu,{label:"Holdings",value:b.length})]}),l.jsx("div",{className:"flex items-center justify-end px-1",children:l.jsxs("button",{onClick:()=>x("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(Pr,{size:14})," Add Investment"]})}),l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"hidden sm:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm min-w-[720px]",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Investment"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Category"}),!t&&l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Invested"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Loan"}),l.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),l.jsx("tbody",{children:b.map(P=>{const O=(P.currentValue||0)-(P.investedAmount||0),L=O>=0,R=P.linkedLiabilityId?A[P.linkedLiabilityId]:null;return l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[l.jsxs("td",{className:"py-2.5 px-4",children:[l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:P.investmentName}),l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:P.investmentType})]}),l.jsx("td",{className:"py-2.5 px-3",children:l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${w_[P.investmentCategory]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:P.investmentCategory})}),!t&&l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:P.familyMemberName}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:Q(P.investedAmount)}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(P.currentValue)}),l.jsx("td",{className:"py-2.5 px-3 text-right",children:l.jsxs("span",{className:`text-xs font-semibold tabular-nums ${L?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[L?"+":"",Q(O)]})}),l.jsx("td",{className:"py-2.5 px-3 text-right",children:R?l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:Q(R.outstandingBalance)}),l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:R.liabilityType})]}):l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),l.jsx("td",{className:"py-2.5 px-2",children:l.jsx("button",{onClick:()=>x({edit:P}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:l.jsx(ka,{size:12})})})]},P.investmentId)})})]})}),l.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(P=>{const O=(P.currentValue||0)-(P.investedAmount||0),L=O>=0,R=P.linkedLiabilityId?A[P.linkedLiabilityId]:null;return l.jsxs("div",{onClick:()=>x({edit:P}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:P.investmentName}),l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${w_[P.investmentCategory]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:P.investmentCategory})]}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[P.familyMemberName,"  ",P.investmentType]}),l.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Invested"}),l.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:Q(P.investedAmount)})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Current"}),l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(P.currentValue)})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"P&L"}),l.jsxs("p",{className:`text-xs font-semibold tabular-nums ${L?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[L?"+":"",Q(O)]})]})]}),R&&l.jsxs("div",{className:"mt-1.5 flex items-center justify-between bg-rose-500/5 rounded px-2 py-1",children:[l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:R.liabilityType}),l.jsx("span",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:Q(R.outstandingBalance)})]})]},P.investmentId)})})]})]}),l.jsx(hr,{open:!!v,onClose:()=>x(null),title:v?.edit?"Edit Investment":"Add Investment",wide:!0,children:l.jsx(Xie,{initial:v?.edit||void 0,onSave:E,onDelete:v?.edit?T:void 0,onCancel:()=>x(null)})})]})}function Gu({label:e,value:t,sub:n,positive:r,bold:a,color:s}){const c=s==="rose"?"text-[var(--accent-rose)]":r===void 0?"text-[var(--text-primary)]":r?"text-emerald-400":"text-[var(--accent-rose)]";return l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),l.jsx("p",{className:`text-sm tabular-nums ${a?"font-bold":"font-semibold"} ${c}`,children:t}),n&&l.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${r?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:n})]})}function Jie({initial:e,onSave:t,onDelete:n,onCancel:r}){const{activeMembers:a,activeInvestmentAccounts:s}=pt(),c=!!e,[u,f]=j.useState({portfolioName:(e?.portfolioName||"").replace(/^PFL-/,""),investmentAccountId:e?.investmentAccountId||"",ownerId:e?.ownerId||"",initialInvestment:e?.initialInvestment||0,sipTarget:e?.sipTarget||"",lumpsumTarget:e?.lumpsumTarget||"",rebalanceThreshold:e?e.rebalanceThreshold*100:5}),[m,h]=j.useState({}),[v,x]=j.useState(!1),[b,S]=j.useState(!1);function w(E,T){f(P=>({...P,[E]:T})),h(P=>({...P,[E]:void 0}))}function y(E){f(T=>({...T,ownerId:E,investmentAccountId:""})),h(T=>({...T,ownerId:void 0}))}const C=s.filter(E=>u.ownerId?E.memberId===u.ownerId:!0).map(E=>({value:E.accountId,label:`${E.accountName} - ${E.platformBroker}`})),M=a.map(E=>({value:E.memberId,label:`${E.memberName} (${E.relationship})`}));function A(){const E={};return u.portfolioName.trim()||(E.portfolioName="Required"),u.ownerId||(E.ownerId="Required"),u.investmentAccountId||(E.investmentAccountId="Required"),h(E),Object.keys(E).length===0}async function _(){if(A()){x(!0);try{const E=s.find(P=>P.accountId===u.investmentAccountId),T=E?`${E.accountName} - ${E.platformBroker}`:u.investmentAccountId;await t({...u,investmentAccount:T,initialInvestment:Number(u.initialInvestment)||0,sipTarget:Number(u.sipTarget)||0,lumpsumTarget:Number(u.lumpsumTarget)||0,rebalanceThreshold:Number(u.rebalanceThreshold)})}finally{x(!1)}}}return l.jsxs("div",{className:"space-y-5",children:[l.jsx(le,{label:"Portfolio Name",required:!0,error:m.portfolioName,children:l.jsx(ke,{value:u.portfolioName,onChange:E=>w("portfolioName",E),placeholder:"e.g., Long Term Wealth"})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(le,{label:"Owner",required:!0,error:m.ownerId,children:l.jsx(Ke,{value:u.ownerId,onChange:y,options:M,placeholder:"Select member..."})}),l.jsx(le,{label:"Investment Account",required:!0,error:m.investmentAccountId,children:l.jsx(Ke,{value:u.investmentAccountId,onChange:E=>w("investmentAccountId",E),options:C,placeholder:u.ownerId?C.length?"Select account...":"No MF accounts":"Select owner first..."})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(le,{label:"SIP Target (/month)",children:l.jsx(ke,{type:"number",value:u.sipTarget,onChange:E=>w("sipTarget",E),placeholder:"e.g., 50000"})}),l.jsx(le,{label:"Lumpsum Target ()",children:l.jsx(ke,{type:"number",value:u.lumpsumTarget,onChange:E=>w("lumpsumTarget",E),placeholder:"e.g., 200000"})})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("label",{className:"text-xs font-semibold text-[var(--text-muted)] whitespace-nowrap",children:"Rebalance Threshold"}),l.jsx("div",{className:"w-20 shrink-0",children:l.jsx("input",{type:"number",value:u.rebalanceThreshold,onChange:E=>w("rebalanceThreshold",E.target.value),placeholder:"5",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})}),l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"%"})]}),!c&&l.jsx(le,{label:"Initial Investment ()",children:l.jsx(ke,{type:"number",value:u.initialInvestment,onChange:E=>w("initialInvestment",E),placeholder:"0 if unknown"})}),c&&n&&b&&l.jsxs("div",{className:"flex items-center gap-3 px-3 py-2.5 bg-rose-500/10 border border-rose-500/20 rounded-lg",children:[l.jsx(Hs,{size:15,className:"text-rose-400 shrink-0"}),l.jsx("p",{className:"text-xs text-rose-300/90 flex-1",children:"This will deactivate the portfolio and hide it from views. Are you sure?"}),l.jsxs("div",{className:"flex gap-2 shrink-0",children:[l.jsx("button",{onClick:()=>S(!1),className:"px-2.5 py-1 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded transition-colors",children:"No"}),l.jsx("button",{onClick:n,className:"px-2.5 py-1 text-xs font-semibold text-white bg-rose-600 hover:bg-rose-500 rounded transition-colors",children:"Yes, Deactivate"})]})]}),l.jsxs("div",{className:"flex items-center justify-between pt-4 mt-4 border-t border-[var(--border-light)]",children:[c&&n?l.jsxs("button",{onClick:()=>S(!0),disabled:v,className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-amber-400 border border-amber-500/30 hover:bg-amber-500/15 hover:border-amber-500/50 rounded-lg transition-colors disabled:opacity-40",children:[l.jsx(Hs,{size:13}),"Deactivate"]}):l.jsx("div",{}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:r,disabled:v,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),l.jsxs("button",{onClick:_,disabled:v,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 flex items-center gap-1.5",children:[v&&l.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),v?"Saving...":c?"Update":"Create Portfolio"]})]})]})]})}function Xi(e){return Array.isArray?Array.isArray(e):vI(e)==="[object Array]"}function ese(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function tse(e){return e==null?"":ese(e)}function Ja(e){return typeof e=="string"}function pI(e){return typeof e=="number"}function rse(e){return e===!0||e===!1||nse(e)&&vI(e)=="[object Boolean]"}function hI(e){return typeof e=="object"}function nse(e){return hI(e)&&e!==null}function Pn(e){return e!=null}function zb(e){return!e.trim().length}function vI(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const ase="Incorrect 'index' type",ise=e=>`Invalid value for key ${e}`,sse=e=>`Pattern length exceeds max of ${e}.`,lse=e=>`Missing ${e} property in key`,ose=e=>`Property 'weight' in key '${e}' must be a positive integer`,j_=Object.prototype.hasOwnProperty;class cse{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(r=>{let a=xI(r);this._keys.push(a),this._keyMap[a.id]=a,n+=a.weight}),this._keys.forEach(r=>{r.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function xI(e){let t=null,n=null,r=null,a=1,s=null;if(Ja(e)||Xi(e))r=e,t=N_(e),n=Ky(e);else{if(!j_.call(e,"name"))throw new Error(lse("name"));const c=e.name;if(r=c,j_.call(e,"weight")&&(a=e.weight,a<=0))throw new Error(ose(c));t=N_(c),n=Ky(c),s=e.getFn}return{path:t,id:n,weight:a,src:r,getFn:s}}function N_(e){return Xi(e)?e:e.split(".")}function Ky(e){return Xi(e)?e.join("."):e}function use(e,t){let n=[],r=!1;const a=(s,c,u)=>{if(Pn(s))if(!c[u])n.push(s);else{let f=c[u];const m=s[f];if(!Pn(m))return;if(u===c.length-1&&(Ja(m)||pI(m)||rse(m)))n.push(tse(m));else if(Xi(m)){r=!0;for(let h=0,v=m.length;h<v;h+=1)a(m[h],c,u+1)}else c.length&&a(m,c,u+1)}};return a(e,Ja(t)?t.split("."):t,0),r?n:n[0]}const dse={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},fse={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},mse={location:0,threshold:.6,distance:100},pse={useExtendedSearch:!1,getFn:use,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Ge={...fse,...dse,...mse,...pse};const hse=/[^ ]+/g;function vse(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(a){const s=a.match(hse).length;if(n.has(s))return n.get(s);const c=1/Math.pow(s,.5*e),u=parseFloat(Math.round(c*r)/r);return n.set(s,u),u},clear(){n.clear()}}}class vj{constructor({getFn:t=Ge.getFn,fieldNormWeight:n=Ge.fieldNormWeight}={}){this.norm=vse(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Ja(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();Ja(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!Pn(t)||zb(t))return;let r={v:t,i:n,n:this.norm.get(t)};this.records.push(r)}_addObject(t,n){let r={i:n,$:{}};this.keys.forEach((a,s)=>{let c=a.getFn?a.getFn(t):this.getFn(t,a.path);if(Pn(c)){if(Xi(c)){let u=[];const f=[{nestedArrIndex:-1,value:c}];for(;f.length;){const{nestedArrIndex:m,value:h}=f.pop();if(Pn(h))if(Ja(h)&&!zb(h)){let v={v:h,i:m,n:this.norm.get(h)};u.push(v)}else Xi(h)&&h.forEach((v,x)=>{f.push({nestedArrIndex:x,value:v})})}r.$[s]=u}else if(Ja(c)&&!zb(c)){let u={v:c,n:this.norm.get(c)};r.$[s]=u}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function gI(e,t,{getFn:n=Ge.getFn,fieldNormWeight:r=Ge.fieldNormWeight}={}){const a=new vj({getFn:n,fieldNormWeight:r});return a.setKeys(e.map(xI)),a.setSources(t),a.create(),a}function xse(e,{getFn:t=Ge.getFn,fieldNormWeight:n=Ge.fieldNormWeight}={}){const{keys:r,records:a}=e,s=new vj({getFn:t,fieldNormWeight:n});return s.setKeys(r),s.setIndexRecords(a),s}function $m(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:a=Ge.distance,ignoreLocation:s=Ge.ignoreLocation}={}){const c=t/e.length;if(s)return c;const u=Math.abs(r-n);return a?c+u/a:u?1:c}function gse(e=[],t=Ge.minMatchCharLength){let n=[],r=-1,a=-1,s=0;for(let c=e.length;s<c;s+=1){let u=e[s];u&&r===-1?r=s:!u&&r!==-1&&(a=s-1,a-r+1>=t&&n.push([r,a]),r=-1)}return e[s-1]&&s-r>=t&&n.push([r,s-1]),n}const Tl=32;function bse(e,t,n,{location:r=Ge.location,distance:a=Ge.distance,threshold:s=Ge.threshold,findAllMatches:c=Ge.findAllMatches,minMatchCharLength:u=Ge.minMatchCharLength,includeMatches:f=Ge.includeMatches,ignoreLocation:m=Ge.ignoreLocation}={}){if(t.length>Tl)throw new Error(sse(Tl));const h=t.length,v=e.length,x=Math.max(0,Math.min(r,v));let b=s,S=x;const w=u>1||f,y=w?Array(v):[];let C;for(;(C=e.indexOf(t,S))>-1;){let P=$m(t,{currentLocation:C,expectedLocation:x,distance:a,ignoreLocation:m});if(b=Math.min(P,b),S=C+h,w){let O=0;for(;O<h;)y[C+O]=1,O+=1}}S=-1;let M=[],A=1,_=h+v;const E=1<<h-1;for(let P=0;P<h;P+=1){let O=0,L=_;for(;O<L;)$m(t,{errors:P,currentLocation:x+L,expectedLocation:x,distance:a,ignoreLocation:m})<=b?O=L:_=L,L=Math.floor((_-O)/2+O);_=L;let R=Math.max(1,x-L+1),B=c?v:Math.min(x+L,v)+h,D=Array(B+2);D[B+1]=(1<<P)-1;for(let X=B;X>=R;X-=1){let Z=X-1,$=n[e.charAt(Z)];if(w&&(y[Z]=+!!$),D[X]=(D[X+1]<<1|1)&$,P&&(D[X]|=(M[X+1]|M[X])<<1|1|M[X+1]),D[X]&E&&(A=$m(t,{errors:P,currentLocation:Z,expectedLocation:x,distance:a,ignoreLocation:m}),A<=b)){if(b=A,S=Z,S<=x)break;R=Math.max(1,2*x-S)}}if($m(t,{errors:P+1,currentLocation:x,expectedLocation:x,distance:a,ignoreLocation:m})>b)break;M=D}const T={isMatch:S>=0,score:Math.max(.001,A)};if(w){const P=gse(y,u);P.length?f&&(T.indices=P):T.isMatch=!1}return T}function yse(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const a=e.charAt(n);t[a]=(t[a]||0)|1<<r-n-1}return t}const jh=String.prototype.normalize?(e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(e=>e);class bI{constructor(t,{location:n=Ge.location,threshold:r=Ge.threshold,distance:a=Ge.distance,includeMatches:s=Ge.includeMatches,findAllMatches:c=Ge.findAllMatches,minMatchCharLength:u=Ge.minMatchCharLength,isCaseSensitive:f=Ge.isCaseSensitive,ignoreDiacritics:m=Ge.ignoreDiacritics,ignoreLocation:h=Ge.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:a,includeMatches:s,findAllMatches:c,minMatchCharLength:u,isCaseSensitive:f,ignoreDiacritics:m,ignoreLocation:h},t=f?t:t.toLowerCase(),t=m?jh(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const v=(b,S)=>{this.chunks.push({pattern:b,alphabet:yse(b),startIndex:S})},x=this.pattern.length;if(x>Tl){let b=0;const S=x%Tl,w=x-S;for(;b<w;)v(this.pattern.substr(b,Tl),b),b+=Tl;if(S){const y=x-Tl;v(this.pattern.substr(y),y)}}else v(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,ignoreDiacritics:r,includeMatches:a}=this.options;if(t=n?t:t.toLowerCase(),t=r?jh(t):t,this.pattern===t){let w={isMatch:!0,score:0};return a&&(w.indices=[[0,t.length-1]]),w}const{location:s,distance:c,threshold:u,findAllMatches:f,minMatchCharLength:m,ignoreLocation:h}=this.options;let v=[],x=0,b=!1;this.chunks.forEach(({pattern:w,alphabet:y,startIndex:C})=>{const{isMatch:M,score:A,indices:_}=bse(t,w,y,{location:s+C,distance:c,threshold:u,findAllMatches:f,minMatchCharLength:m,includeMatches:a,ignoreLocation:h});M&&(b=!0),x+=A,M&&_&&(v=[...v,..._])});let S={isMatch:b,score:b?x/this.chunks.length:1};return b&&a&&(S.indices=v),S}}class al{constructor(t){this.pattern=t}static isMultiMatch(t){return S_(t,this.multiRegex)}static isSingleMatch(t){return S_(t,this.singleRegex)}search(){}}function S_(e,t){const n=e.match(t);return n?n[1]:null}class wse extends al{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class jse extends al{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const r=t.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class Nse extends al{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Sse extends al{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class Cse extends al{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class Ase extends al{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class yI extends al{constructor(t,{location:n=Ge.location,threshold:r=Ge.threshold,distance:a=Ge.distance,includeMatches:s=Ge.includeMatches,findAllMatches:c=Ge.findAllMatches,minMatchCharLength:u=Ge.minMatchCharLength,isCaseSensitive:f=Ge.isCaseSensitive,ignoreDiacritics:m=Ge.ignoreDiacritics,ignoreLocation:h=Ge.ignoreLocation}={}){super(t),this._bitapSearch=new bI(t,{location:n,threshold:r,distance:a,includeMatches:s,findAllMatches:c,minMatchCharLength:u,isCaseSensitive:f,ignoreDiacritics:m,ignoreLocation:h})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class wI extends al{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,r;const a=[],s=this.pattern.length;for(;(r=t.indexOf(this.pattern,n))>-1;)n=r+s,a.push([r,n-1]);const c=!!a.length;return{isMatch:c,score:c?0:1,indices:a}}}const Wy=[wse,wI,Nse,Sse,Ase,Cse,jse,yI],C_=Wy.length,Mse=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,kse="|";function Dse(e,t={}){return e.split(kse).map(n=>{let r=n.trim().split(Mse).filter(s=>s&&!!s.trim()),a=[];for(let s=0,c=r.length;s<c;s+=1){const u=r[s];let f=!1,m=-1;for(;!f&&++m<C_;){const h=Wy[m];let v=h.isMultiMatch(u);v&&(a.push(new h(v,t)),f=!0)}if(!f)for(m=-1;++m<C_;){const h=Wy[m];let v=h.isSingleMatch(u);if(v){a.push(new h(v,t));break}}}return a})}const Ese=new Set([yI.type,wI.type]);class _se{constructor(t,{isCaseSensitive:n=Ge.isCaseSensitive,ignoreDiacritics:r=Ge.ignoreDiacritics,includeMatches:a=Ge.includeMatches,minMatchCharLength:s=Ge.minMatchCharLength,ignoreLocation:c=Ge.ignoreLocation,findAllMatches:u=Ge.findAllMatches,location:f=Ge.location,threshold:m=Ge.threshold,distance:h=Ge.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:r,includeMatches:a,minMatchCharLength:s,findAllMatches:u,ignoreLocation:c,location:f,threshold:m,distance:h},t=n?t:t.toLowerCase(),t=r?jh(t):t,this.pattern=t,this.query=Dse(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:a,ignoreDiacritics:s}=this.options;t=a?t:t.toLowerCase(),t=s?jh(t):t;let c=0,u=[],f=0;for(let m=0,h=n.length;m<h;m+=1){const v=n[m];u.length=0,c=0;for(let x=0,b=v.length;x<b;x+=1){const S=v[x],{isMatch:w,indices:y,score:C}=S.search(t);if(w){if(c+=1,f+=C,r){const M=S.constructor.type;Ese.has(M)?u=[...u,...y]:u.push(y)}}else{f=0,c=0,u.length=0;break}}if(c){let x={isMatch:!0,score:f/c};return r&&(x.indices=u),x}}return{isMatch:!1,score:1}}}const Qy=[];function Ose(...e){Qy.push(...e)}function Xy(e,t){for(let n=0,r=Qy.length;n<r;n+=1){let a=Qy[n];if(a.condition(e,t))return new a(e,t)}return new bI(e,t)}const Nh={AND:"$and",OR:"$or"},Zy={PATH:"$path",PATTERN:"$val"},Jy=e=>!!(e[Nh.AND]||e[Nh.OR]),Tse=e=>!!e[Zy.PATH],Pse=e=>!Xi(e)&&hI(e)&&!Jy(e),A_=e=>({[Nh.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function jI(e,t,{auto:n=!0}={}){const r=a=>{let s=Object.keys(a);const c=Tse(a);if(!c&&s.length>1&&!Jy(a))return r(A_(a));if(Pse(a)){const f=c?a[Zy.PATH]:s[0],m=c?a[Zy.PATTERN]:a[f];if(!Ja(m))throw new Error(ise(f));const h={keyId:Ky(f),pattern:m};return n&&(h.searcher=Xy(m,t)),h}let u={children:[],operator:s[0]};return s.forEach(f=>{const m=a[f];Xi(m)&&m.forEach(h=>{u.children.push(r(h))})}),u};return Jy(e)||(e=A_(e)),r(e)}function Ise(e,{ignoreFieldNorm:t=Ge.ignoreFieldNorm}){e.forEach(n=>{let r=1;n.matches.forEach(({key:a,norm:s,score:c})=>{const u=a?a.weight:null;r*=Math.pow(c===0&&u?Number.EPSILON:c,(u||1)*(t?1:s))}),n.score=r})}function Rse(e,t){const n=e.matches;t.matches=[],Pn(n)&&n.forEach(r=>{if(!Pn(r.indices)||!r.indices.length)return;const{indices:a,value:s}=r;let c={indices:a,value:s};r.key&&(c.key=r.key.src),r.idx>-1&&(c.refIndex=r.idx),t.matches.push(c)})}function Lse(e,t){t.score=e.score}function zse(e,t,{includeMatches:n=Ge.includeMatches,includeScore:r=Ge.includeScore}={}){const a=[];return n&&a.push(Rse),r&&a.push(Lse),e.map(s=>{const{idx:c}=s,u={item:t[c],refIndex:c};return a.length&&a.forEach(f=>{f(s,u)}),u})}class zc{constructor(t,n={},r){this.options={...Ge,...n},this.options.useExtendedSearch,this._keyStore=new cse(this.options.keys),this.setCollection(t,r)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof vj))throw new Error(ase);this._myIndex=n||gI(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){Pn(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let r=0,a=this._docs.length;r<a;r+=1){const s=this._docs[r];t(s,r)&&(this.removeAt(r),r-=1,a-=1,n.push(s))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:r,includeScore:a,shouldSort:s,sortFn:c,ignoreFieldNorm:u}=this.options;let f=Ja(t)?Ja(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return Ise(f,{ignoreFieldNorm:u}),s&&f.sort(c),pI(n)&&n>-1&&(f=f.slice(0,n)),zse(f,this._docs,{includeMatches:r,includeScore:a})}_searchStringList(t){const n=Xy(t,this.options),{records:r}=this._myIndex,a=[];return r.forEach(({v:s,i:c,n:u})=>{if(!Pn(s))return;const{isMatch:f,score:m,indices:h}=n.searchIn(s);f&&a.push({item:s,idx:c,matches:[{score:m,value:s,norm:u,indices:h}]})}),a}_searchLogical(t){const n=jI(t,this.options),r=(u,f,m)=>{if(!u.children){const{keyId:v,searcher:x}=u,b=this._findMatches({key:this._keyStore.get(v),value:this._myIndex.getValueForItemAtKeyId(f,v),searcher:x});return b&&b.length?[{idx:m,item:f,matches:b}]:[]}const h=[];for(let v=0,x=u.children.length;v<x;v+=1){const b=u.children[v],S=r(b,f,m);if(S.length)h.push(...S);else if(u.operator===Nh.AND)return[]}return h},a=this._myIndex.records,s={},c=[];return a.forEach(({$:u,i:f})=>{if(Pn(u)){let m=r(n,u,f);m.length&&(s[f]||(s[f]={idx:f,item:u,matches:[]},c.push(s[f])),m.forEach(({matches:h})=>{s[f].matches.push(...h)}))}}),c}_searchObjectList(t){const n=Xy(t,this.options),{keys:r,records:a}=this._myIndex,s=[];return a.forEach(({$:c,i:u})=>{if(!Pn(c))return;let f=[];r.forEach((m,h)=>{f.push(...this._findMatches({key:m,value:c[h],searcher:n}))}),f.length&&s.push({idx:u,item:c,matches:f})}),s}_findMatches({key:t,value:n,searcher:r}){if(!Pn(n))return[];let a=[];if(Xi(n))n.forEach(({v:s,i:c,n:u})=>{if(!Pn(s))return;const{isMatch:f,score:m,indices:h}=r.searchIn(s);f&&a.push({score:m,key:t,value:s,idx:c,norm:u,indices:h})});else{const{v:s,n:c}=n,{isMatch:u,score:f,indices:m}=r.searchIn(s);u&&a.push({score:f,key:t,value:s,norm:c,indices:m})}return a}}zc.version="7.1.0";zc.createIndex=gI;zc.parseIndex=xse;zc.config=Ge;zc.parseQuery=jI;Ose(_se);let ha=null,Ku=null;function Fse(e){if(!e)return!1;const t=new Date(e),n=new Date;return t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()&&t.getDate()===n.getDate()}function Bse(){return ha?Promise.resolve(ha):Ku||(Ku=nF("fundsList").then(e=>e&&Array.isArray(e.data)&&Fse(e.updatedAt)?(ha=e.data,ha):Oz().then(t=>(ha=Array.isArray(t)?t:[],hn("fundsList",ha),ha))).catch(()=>(Ku=null,[])),Ku)}function xj({value:e,onSelect:t,placeholder:n,disabled:r}){const[a,s]=j.useState(""),[c,u]=j.useState(ha||[]),[f,m]=j.useState(!ha),[h,v]=j.useState(!1),x=j.useRef(null);j.useEffect(()=>{if(ha){u(ha),m(!1);return}Bse().then(M=>{u(M),m(!1)})},[]),j.useEffect(()=>{function M(A){x.current&&!x.current.contains(A.target)&&v(!1)}return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[]);const b=j.useMemo(()=>c.length?new zc(c,{keys:["fundName"],threshold:.3,distance:50,minMatchCharLength:2,includeScore:!0,ignoreLocation:!1,findAllMatches:!0}):null,[c]),S=j.useMemo(()=>!b||a.length<2?[]:b.search(a).slice(0,50).map(M=>M.item),[b,a]);function w(M){s(M),v(M.length>=2)}function y(M){t({schemeCode:M.fundCode||M.schemeCode,fundName:M.fundName,nav:M.nav,navDate:M.navDate}),s(""),v(!1)}function C(){t({schemeCode:"",fundName:"",nav:0,navDate:""}),s("")}return e?.fundName?l.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg px-3 py-2",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate",children:e.fundName}),l.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:e.schemeCode}),e.nav>0&&l.jsxs("span",{className:"text-xs font-medium text-emerald-400",children:["NAV: ",e.nav.toFixed(2),e.navDate?` (${e.navDate})`:""]})]})]}),l.jsx("button",{type:"button",onClick:C,className:"shrink-0 p-1 rounded-md hover:bg-[var(--bg-hover)] text-[var(--text-dim)] hover:text-[var(--text-secondary)] transition-colors",children:l.jsx(Us,{size:14})})]}):l.jsxs("div",{ref:x,className:"relative",children:[l.jsxs("div",{className:"relative",children:[f?l.jsx(WO,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-400 animate-spin"}):l.jsx(eT,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)]"}),l.jsx("input",{type:"text",value:a,onChange:M=>w(M.target.value),onFocus:()=>a.length>=2&&v(!0),placeholder:f?"Loading funds...":n||"Search fund name...",disabled:r||f,className:"w-full bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg pl-9 pr-3 py-2 text-sm text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-violet-500/50 disabled:opacity-50 transition-colors"})]}),h&&S.length>0&&l.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl max-h-[240px] overflow-y-auto",children:S.map(M=>l.jsxs("button",{type:"button",onClick:()=>y(M),className:"w-full text-left px-3 py-2.5 hover:bg-[var(--bg-hover)] transition-colors border-b border-[var(--border-light)] last:border-0",children:[l.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:M.fundName}),l.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:M.fundCode||M.schemeCode}),M.nav>0&&l.jsxs("span",{className:"text-xs text-emerald-400 tabular-nums",children:["NAV: ",M.nav.toFixed(2),M.navDate?` (${M.navDate})`:""]})]})]},M.fundCode||M.schemeCode))}),h&&a.length>=2&&S.length===0&&!f&&l.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl p-4 text-center",children:l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:['No funds found for "',a,'"']})})]})}const $se=[{value:"INITIAL",label:"Add Existing Holdings"},{value:"SIP",label:"SIP Investment"},{value:"LUMPSUM",label:"Lumpsum Investment"}];function qse({portfolioId:e,fundCode:t,fundName:n,transactionType:r,onSave:a,onCancel:s}){const{mfPortfolios:c,mfHoldings:u}=pt(),{selectedMember:f}=Yr(),m=j.useMemo(()=>{const D=c.filter(W=>W.status==="Active");return f==="all"?D:D.filter(W=>W.ownerId===f)},[c,f]),[h,v]=j.useState({portfolioId:e||"",fundCode:t||"",fundName:n||"",nav:0,navDate:"",transactionType:r||"SIP",date:new Date().toISOString().split("T")[0],units:"",price:"",notes:""}),[x,b]=j.useState({}),[S,w]=j.useState(!1),[y,C]=j.useState(!t);function M(D,W){v(X=>({...X,[D]:W})),b(X=>({...X,[D]:void 0}))}function A({schemeCode:D,fundName:W,nav:X,navDate:Z}){v($=>({...$,fundCode:D,fundName:W,nav:X||0,navDate:Z||"",price:X>0?String(X):$.price})),b($=>({...$,fundCode:void 0,fundName:void 0})),C(!1)}function _(D){v(W=>({...W,fundCode:D.schemeCode,fundName:D.fundName,nav:D.currentNav||0,navDate:"",price:D.currentNav>0?String(D.currentNav):W.price})),b(W=>({...W,fundCode:void 0})),C(!1)}const E=j.useMemo(()=>h.portfolioId?u.filter(D=>D.portfolioId===h.portfolioId).sort((D,W)=>W.currentValue-D.currentValue):[],[u,h.portfolioId]),T=j.useMemo(()=>!h.portfolioId||!h.fundCode?null:u.find(D=>D.portfolioId===h.portfolioId&&D.schemeCode===h.fundCode),[u,h.portfolioId,h.fundCode]),P=h.fundCode&&!T,O=j.useMemo(()=>(Number(h.units)||0)*(Number(h.price)||0),[h.units,h.price]);function L(){const D={};return h.portfolioId||(D.portfolioId="Required"),h.fundCode||(D.fundCode="Select a fund"),h.date||(D.date="Required"),(!h.units||Number(h.units)<=0)&&(D.units="Must be > 0"),(!h.price||Number(h.price)<=0)&&(D.price="Must be > 0"),b(D),Object.keys(D).length===0}async function R(){if(L()){w(!0);try{await a({portfolioId:h.portfolioId,fundCode:h.fundCode,fundName:h.fundName,transactionType:h.transactionType,purchaseDate:h.date,units:h.units,avgPrice:h.price,notes:h.notes})}finally{w(!1)}}}const B=m.map(D=>{const W=D.portfolioName?.replace(/^PFL-/,"")||D.portfolioName,X=D.ownerName?`${W} (${D.ownerName})`:W;return{value:D.portfolioId,label:X}});return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(le,{label:"Portfolio",required:!0,error:x.portfolioId,children:l.jsx(Ke,{value:h.portfolioId,onChange:D=>{M("portfolioId",D),t||(M("fundCode",""),M("fundName",""),C(!1))},options:B,placeholder:"Select portfolio..."})}),l.jsx(le,{label:"Transaction Type",required:!0,children:l.jsx(Ke,{value:h.transactionType,onChange:D=>M("transactionType",D),options:$se})})]}),l.jsx(le,{label:"Fund",required:!0,error:x.fundCode,children:h.fundCode&&!y?l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:h.fundName}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[h.fundCode,h.nav>0&&l.jsxs("span",{className:"ml-2 text-emerald-400",children:["NAV: ",h.nav.toFixed(2)]})]})]}),l.jsx("button",{type:"button",onClick:()=>{M("fundCode",""),M("fundName",""),C(!0)},className:"text-xs text-[var(--text-muted)] hover:text-[var(--text-primary)] underline shrink-0",children:"Change"})]}):l.jsxs("div",{className:"space-y-3",children:[E.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)] mb-1.5",children:"Portfolio Funds"}),l.jsx("div",{className:"rounded-lg border border-[var(--border)] bg-[var(--bg-inset)] overflow-hidden max-h-44 overflow-y-auto",children:E.map(D=>l.jsxs("button",{type:"button",onClick:()=>_(D),className:"w-full flex items-center gap-3 px-3 py-2 text-left hover:bg-[var(--bg-hover)] border-b border-[var(--border-light)] last:border-b-0 transition-colors group",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate group-hover:text-white transition-colors",children:D.fundName}),l.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5",children:D.units>0?`${D.units.toFixed(0)} units  ${Q(D.currentValue)}`:"Planned"})]}),l.jsx(Ga,{size:12,className:"text-[var(--text-dim)] -rotate-90 shrink-0 opacity-0 group-hover:opacity-100 transition-opacity"})]},D.holdingId))})]}),l.jsxs("div",{children:[E.length>0&&l.jsxs("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)] mb-1.5 flex items-center gap-1",children:[l.jsx(eT,{size:10})," Or search new fund"]}),l.jsx(xj,{value:null,onSelect:A,placeholder:"Search fund by name or code..."})]})]})}),T&&l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Existing holding  will average out"}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Current: ",l.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:T.units.toFixed(2)})," units @ ",T.avgNav.toFixed(2)," avg NAV | Value: ",Q(T.currentValue),T.targetAllocationPct>0&&l.jsxs("span",{children:["  Target: ",T.targetAllocationPct.toFixed(1),"%"]})]})]}),P&&l.jsxs("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:[l.jsx("p",{className:"text-xs text-violet-400 font-semibold",children:"New fund  will be added to portfolio"}),l.jsx("p",{className:"text-xs text-violet-300/70 mt-0.5",children:"Use Allocations to plan how much to invest before buying"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsx(le,{label:"Date",required:!0,error:x.date,children:l.jsx(ni,{value:h.date,onChange:D=>M("date",D)})}),l.jsx(le,{label:"Units",required:!0,error:x.units,children:l.jsx(ke,{type:"number",value:h.units,onChange:D=>M("units",D),placeholder:"e.g., 150.50"})}),l.jsx(le,{label:"NAV ()",required:!0,error:x.price,children:l.jsx(ke,{type:"number",value:h.price,onChange:D=>M("price",D),placeholder:"e.g., 178.45"})})]}),O>0&&l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(O)}),T&&l.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:["New avg NAV: ",((T.investment+O)/(T.units+Number(h.units))).toFixed(2)," Total units: ",(T.units+Number(h.units)).toFixed(2)]})]}),l.jsx(le,{label:"Notes",children:l.jsx(ke,{value:h.notes,onChange:D=>M("notes",D),placeholder:"Optional notes..."})}),l.jsx(an,{onCancel:s,onSubmit:R,submitLabel:h.transactionType==="SIP"?"Record SIP":h.transactionType==="LUMPSUM"?"Record Lumpsum":"Add Holdings",loading:S})]})}function Hse({portfolioId:e,fundCode:t,onSave:n,onCancel:r}){const{mfPortfolios:a,mfHoldings:s}=pt(),{selectedMember:c}=Yr(),u=j.useMemo(()=>{const R=a.filter(B=>B.status==="Active");return c==="all"?R:R.filter(B=>B.ownerId===c)},[a,c]),f=j.useMemo(()=>!e||!t?null:s.find(R=>R.portfolioId===e&&R.schemeCode===t),[s,e,t]),[m,h]=j.useState({portfolioId:e||"",fundCode:t||"",fundName:f?.fundName||"",date:new Date().toISOString().split("T")[0],units:"",price:f?.currentNav>0?String(f.currentNav):"",notes:""}),[v,x]=j.useState({}),[b,S]=j.useState(!1);function w(R,B){h(D=>({...D,[R]:B})),x(D=>({...D,[R]:void 0}))}const y=j.useMemo(()=>m.portfolioId?s.filter(R=>R.portfolioId===m.portfolioId&&R.units>0):[],[s,m.portfolioId]),C=y.find(R=>R.schemeCode===m.fundCode);function M(R){const B=y.find(D=>D.schemeCode===R);h(D=>({...D,fundCode:R,fundName:B?.fundName||"",price:B?.currentNav?.toString()||""})),x(D=>({...D,fundCode:void 0}))}function A(R){h(B=>({...B,portfolioId:R,fundCode:"",fundName:"",units:"",price:""})),x(B=>({...B,portfolioId:void 0}))}const _=j.useMemo(()=>(Number(m.units)||0)*(Number(m.price)||0),[m.units,m.price]),E=C?_-Number(m.units)*C.avgNav:0;function T(){const R={};return m.portfolioId||(R.portfolioId="Required"),m.fundCode||(R.fundCode="Required"),m.date||(R.date="Required"),(!m.units||Number(m.units)<=0)&&(R.units="Must be > 0"),C&&Number(m.units)>C.units&&(R.units=`Max ${C.units.toFixed(2)} units`),(!m.price||Number(m.price)<=0)&&(R.price="Must be > 0"),x(R),Object.keys(R).length===0}async function P(){if(T()){S(!0);try{await n(m)}finally{S(!1)}}}const O=u.map(R=>{const B=R.portfolioName?.replace(/^PFL-/,"")||R.portfolioName,D=R.ownerName?`${B} (${R.ownerName})`:B;return{value:R.portfolioId,label:D}}),L=y.map(R=>({value:R.schemeCode,label:`${R.fundName}  ${R.units.toFixed(0)} units  ${Q(R.currentValue)}`}));return l.jsxs("div",{className:"space-y-4",children:[l.jsx(le,{label:"Portfolio",required:!0,error:v.portfolioId,children:l.jsx(Ke,{value:m.portfolioId,onChange:A,options:O,placeholder:"Select portfolio..."})}),l.jsx(le,{label:"Fund to Redeem",required:!0,error:v.fundCode,children:l.jsx(Ke,{value:m.fundCode,onChange:M,options:L,placeholder:m.portfolioId?y.length?"Select fund...":"No holdings":"Select portfolio first..."})}),C&&l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:C.fundName}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",l.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:C.units.toFixed(2)})," units @ ",C.avgNav.toFixed(2)," avg | Current NAV: ",C.currentNav.toFixed(2)]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsx(le,{label:"Date",required:!0,error:v.date,children:l.jsx(ni,{value:m.date,onChange:R=>w("date",R)})}),l.jsx(le,{label:"Units",required:!0,error:v.units,children:l.jsx(ke,{type:"number",value:m.units,onChange:R=>w("units",R),placeholder:C?`Max: ${C.units.toFixed(2)}`:""})}),l.jsx(le,{label:"NAV ()",required:!0,error:v.price,children:l.jsx(ke,{type:"number",value:m.price,onChange:R=>w("price",R),placeholder:"e.g., 178.45"})})]}),_>0&&l.jsx("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Redemption Amount"}),l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(_)})]}),C&&l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. Gain/Loss"}),l.jsxs("p",{className:`text-sm font-bold tabular-nums ${E>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[E>=0?"+":"",Q(E)]})]})]})}),l.jsx(le,{label:"Notes",children:l.jsx(ke,{value:m.notes,onChange:R=>w("notes",R),placeholder:"Optional notes..."})}),l.jsx(an,{onCancel:r,onSubmit:P,submitLabel:"Redeem",loading:b})]})}function Use({portfolioId:e,onSave:t,onCancel:n}){const{mfPortfolios:r,mfHoldings:a}=pt(),{selectedMember:s}=Yr(),c=j.useMemo(()=>{const D=r.filter(W=>W.status==="Active");return s==="all"?D:D.filter(W=>W.ownerId===s)},[r,s]),[u,f]=j.useState({portfolioId:e||"",fromFundCode:"",fromFundName:"",toFundCode:"",toFundName:"",date:new Date().toISOString().split("T")[0],units:"",fromPrice:"",toPrice:"",targetAllocation:"",notes:""}),[m,h]=j.useState({}),[v,x]=j.useState(!1);function b(D,W){f(X=>({...X,[D]:W})),h(X=>({...X,[D]:void 0}))}function S(D){f(W=>({...W,portfolioId:D,fromFundCode:"",fromFundName:"",toFundCode:"",toFundName:"",units:"",fromPrice:"",toPrice:"",targetAllocation:""})),h(W=>({...W,portfolioId:void 0}))}const w=j.useMemo(()=>u.portfolioId?a.filter(D=>D.portfolioId===u.portfolioId&&D.units>0):[],[a,u.portfolioId]),y=w.find(D=>D.schemeCode===u.fromFundCode),C=j.useMemo(()=>!u.portfolioId||!u.toFundCode?null:a.find(D=>D.portfolioId===u.portfolioId&&D.schemeCode===u.toFundCode),[a,u.portfolioId,u.toFundCode]),M=u.toFundCode&&!C;function A(D){const W=w.find(X=>X.schemeCode===D);f(X=>({...X,fromFundCode:D,fromFundName:W?.fundName||"",fromPrice:W?.currentNav?.toString()||""})),h(X=>({...X,fromFundCode:void 0}))}function _({schemeCode:D,fundName:W}){const X=a.find(Z=>Z.portfolioId===u.portfolioId&&Z.schemeCode===D);f(Z=>({...Z,toFundCode:D,toFundName:W,toPrice:X?.currentNav?.toString()||Z.toPrice,targetAllocation:""})),h(Z=>({...Z,toFundCode:void 0}))}const E=j.useMemo(()=>(Number(u.units)||0)*(Number(u.fromPrice)||0),[u.units,u.fromPrice]),T=E>0&&Number(u.toPrice)>0?E/Number(u.toPrice):0,P=y?E-Number(u.units)*y.avgNav:0;function O(){const D={};return u.portfolioId||(D.portfolioId="Required"),u.fromFundCode||(D.fromFundCode="Required"),u.toFundCode||(D.toFundCode="Required"),u.fromFundCode&&u.toFundCode&&u.fromFundCode===u.toFundCode&&(D.toFundCode="Must be different from source fund"),u.date||(D.date="Required"),(!u.units||Number(u.units)<=0)&&(D.units="Must be > 0"),y&&Number(u.units)>y.units&&(D.units=`Max ${y.units.toFixed(2)} units`),(!u.fromPrice||Number(u.fromPrice)<=0)&&(D.fromPrice="Must be > 0"),(!u.toPrice||Number(u.toPrice)<=0)&&(D.toPrice="Must be > 0"),h(D),Object.keys(D).length===0}async function L(){if(O()){x(!0);try{await t(u)}finally{x(!1)}}}const R=c.map(D=>{const W=D.portfolioName?.replace(/^PFL-/,"")||D.portfolioName,X=D.ownerName?`${W} (${D.ownerName})`:W;return{value:D.portfolioId,label:X}}),B=w.map(D=>({value:D.schemeCode,label:D.fundName}));return l.jsxs("div",{className:"space-y-4",children:[l.jsx(le,{label:"Portfolio",required:!0,error:m.portfolioId,children:l.jsx(Ke,{value:u.portfolioId,onChange:S,options:R,placeholder:"Select portfolio..."})}),l.jsx(le,{label:"Switch From (Sell)",required:!0,error:m.fromFundCode,children:l.jsx(Ke,{value:u.fromFundCode,onChange:A,options:B,placeholder:u.portfolioId?w.length?"Select fund to switch from...":"No holdings":"Select portfolio first..."})}),y&&l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:y.fundName}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",l.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:y.units.toFixed(2)})," units @ ",y.avgNav.toFixed(2)," avg | Current NAV: ",y.currentNav.toFixed(2)]})]}),l.jsx(le,{label:"Switch To (Buy)",required:!0,error:m.toFundCode,children:l.jsx(xj,{value:u.toFundCode?{schemeCode:u.toFundCode,fundName:u.toFundName}:null,onSelect:_,placeholder:"Search fund to switch into...",disabled:!u.portfolioId})}),C&&l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Existing holding  units will be added, NAV averaged out"}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Current: ",l.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:C.units.toFixed(2)})," units @ ",C.avgNav.toFixed(2)," avg | Alloc: ",C.targetAllocationPct.toFixed(1),"%"]})]}),M&&u.toFundCode&&l.jsx("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:l.jsx("p",{className:"text-xs text-violet-400 font-semibold",children:"New fund  will be added to portfolio"})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(le,{label:"Switch Date",required:!0,error:m.date,children:l.jsx(ni,{value:u.date,onChange:D=>b("date",D)})}),l.jsx(le,{label:"Units to Switch",required:!0,error:m.units,children:l.jsx(ke,{type:"number",value:u.units,onChange:D=>b("units",D),placeholder:y?`Max: ${y.units.toFixed(2)}`:""})})]}),l.jsxs("div",{className:`grid grid-cols-1 ${M?"sm:grid-cols-3":"sm:grid-cols-2"} gap-4`,children:[l.jsx(le,{label:"From Fund NAV ()",required:!0,error:m.fromPrice,children:l.jsx(ke,{type:"number",value:u.fromPrice,onChange:D=>b("fromPrice",D),placeholder:"e.g., 178.45"})}),l.jsx(le,{label:"To Fund NAV ()",required:!0,error:m.toPrice,children:l.jsx(ke,{type:"number",value:u.toPrice,onChange:D=>b("toPrice",D),placeholder:"e.g., 82.10"})}),M&&l.jsx(le,{label:"Target Allocation (%)",children:l.jsx(ke,{type:"number",value:u.targetAllocation,onChange:D=>b("targetAllocation",D),placeholder:"e.g., 20"})})]}),E>0&&l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Switch Amount"}),l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(E)})]}),T>0&&l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Units Bought"}),l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:T.toFixed(4)})]}),y&&l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. Gain/Loss"}),l.jsxs("p",{className:`text-sm font-bold tabular-nums ${P>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[P>=0?"+":"",Q(P)]})]})]}),C&&T>0&&l.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1 border-t border-[var(--border-light)] pt-1",children:["New total: ",(C.units+T).toFixed(2)," units  New avg NAV: ",((C.investment+E)/(C.units+T)).toFixed(2)]})]}),l.jsx(le,{label:"Notes",children:l.jsx(ke,{value:u.notes,onChange:D=>b("notes",D),placeholder:"Optional notes..."})}),l.jsx(an,{onCancel:n,onSubmit:L,submitLabel:"Switch Funds",loading:v})]})}function Yse({portfolioId:e,onSave:t,onCancel:n}){const{mfHoldings:r,mfPortfolios:a}=pt(),s=a.find(O=>O.portfolioId===e),c=j.useMemo(()=>r.filter(O=>O.portfolioId===e),[r,e]),[u,f]=j.useState(()=>c.map(O=>({schemeCode:O.schemeCode,fundName:O.fundName,units:O.units,currentValue:O.currentValue,currentAllocationPct:O.currentAllocationPct,targetAllocationPct:O.targetAllocationPct,isNew:!1}))),[m,h]=j.useState(null),[v,x]=j.useState(""),[b,S]=j.useState(""),[w,y]=j.useState(!1),C=u.reduce((O,L)=>O+L.targetAllocationPct,0),M=u.reduce((O,L)=>O+L.currentValue,0);function A(O,L){f(R=>R.map(B=>B.schemeCode===O?{...B,targetAllocationPct:Number(L)||0}:B)),S("")}function _(O){const L=u.find(R=>R.schemeCode===O);L&&L.units>0||f(R=>R.filter(B=>B.schemeCode!==O))}function E(){if(m){if(u.find(O=>O.schemeCode===m.schemeCode)){S("Fund already exists in portfolio");return}f(O=>[...O,{schemeCode:m.schemeCode,fundName:m.fundName,units:0,currentValue:0,currentAllocationPct:0,targetAllocationPct:Number(v)||0,isNew:!0}]),h(null),x(""),S("")}}async function T(){if(C>100){S(`Total allocation is ${C.toFixed(1)}%  must be  100%`);return}y(!0);try{await t(u.map(O=>({schemeCode:O.schemeCode,fundName:O.fundName,targetAllocationPct:O.targetAllocationPct,isNew:O.isNew})))}finally{y(!1)}}const P=s?.sipTarget||0;return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:s?.portfolioName}),l.jsx("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)] mt-0.5 flex-wrap",children:l.jsxs("span",{children:["Current Value: ",l.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:Q(M)})]})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[l.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Fund"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Units"}),l.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Current %"}),l.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Target %"}),l.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold w-8"})]})}),l.jsx("tbody",{children:u.map(O=>{const L=O.isNew&&O.targetAllocationPct>0&&O.targetAllocationPct<100&&M>0?O.targetAllocationPct/(100-O.targetAllocationPct)*M:0,R=O.isNew&&O.targetAllocationPct>0&&P>=100?O.targetAllocationPct/100*P:0;return l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[l.jsxs("td",{className:"py-2 px-2",children:[l.jsx("p",{className:"text-xs text-[var(--text-primary)] leading-tight max-w-[200px] truncate",children:O.fundName}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[O.schemeCode,O.isNew&&l.jsx("span",{className:"text-violet-400 ml-1",children:"(new)"})]}),(L>0||R>0)&&l.jsxs("p",{className:"text-xs text-blue-400 mt-0.5",children:["Invest: ",L>0&&l.jsx("span",{className:"font-semibold",children:Q(L)}),L>0&&R>0&&"  ",R>0&&l.jsxs("span",{className:"font-semibold",children:[Q(R),"/mo SIP"]})]})]}),l.jsx("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:O.units.toFixed(2)}),l.jsxs("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:[O.currentAllocationPct.toFixed(1),"%"]}),l.jsx("td",{className:"py-2 px-2",children:l.jsx("input",{type:"number",value:O.targetAllocationPct,onChange:B=>A(O.schemeCode,B.target.value),className:"w-20 mx-auto block bg-[var(--bg-inset)] border border-[var(--border)] rounded px-2 py-1 text-xs text-center text-[var(--text-primary)] focus:outline-none focus:border-violet-500/50"})}),l.jsx("td",{className:"py-2 px-2 text-center",children:O.units===0&&l.jsx("button",{onClick:()=>_(O.schemeCode),className:"p-1 rounded hover:bg-rose-500/15 text-[var(--text-dim)] hover:text-[var(--accent-rose)] transition-colors",children:l.jsx(Mh,{size:12})})})]},O.schemeCode)})}),l.jsx("tfoot",{children:l.jsxs("tr",{className:"border-t border-[var(--border)]",children:[l.jsx("td",{className:"py-2 px-2 text-xs font-bold text-[var(--text-primary)]",children:"Total"}),l.jsx("td",{}),l.jsxs("td",{className:"py-2 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[u.reduce((O,L)=>O+L.currentAllocationPct,0).toFixed(1),"%"]}),l.jsx("td",{className:"py-2 px-2 text-center",children:l.jsxs("span",{className:`text-xs font-bold tabular-nums ${C>100?"text-[var(--accent-rose)]":C===100?"text-emerald-400":"text-amber-400"}`,children:[C.toFixed(1),"%"]})}),l.jsx("td",{})]})})]})}),l.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider mb-1",children:"Add New Fund"}),l.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"Set target % to see how much to invest. After buying, use Invest to record the transaction."}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(xj,{value:m,onSelect:O=>h(O.schemeCode?O:null),placeholder:"Search fund to add..."}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-28",children:l.jsx("input",{type:"number",value:v,onChange:O=>x(O.target.value),placeholder:"Target %",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})}),l.jsxs("button",{onClick:E,disabled:!m,className:"flex items-center gap-1 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors disabled:opacity-40 disabled:cursor-not-allowed",children:[l.jsx(Pr,{size:14})," Add"]})]})]})]})]}),b&&l.jsx("p",{className:"text-xs text-[var(--accent-rose)] font-medium",children:b}),l.jsx(an,{onCancel:n,onSubmit:T,submitLabel:"Save Allocations",loading:w})]})}const Fb=["Equity","Debt","Cash","Commodities","Real Estate","Other"],Bb=["Giant","Large","Mid","Small","Micro"],$b=["India","Global"];function Vse({fund:e,initial:t,onSave:n,onCancel:r}){const[a,s]=j.useState(()=>{const E={};return Fb.forEach(T=>{E[T]=t?.assetAllocation?.[T]||0}),t?.assetAllocation&&Object.keys(t.assetAllocation).forEach(T=>{T in E||(E[T]=t.assetAllocation[T])}),E}),[c,u]=j.useState(()=>{const E={};return Bb.forEach(T=>{E[T]=t?.equityAllocation?.[T]||0}),t?.equityAllocation&&Object.keys(t.equityAllocation).forEach(T=>{T in E||(E[T]=t.equityAllocation[T])}),E}),[f,m]=j.useState(()=>{const E={};return $b.forEach(T=>{E[T]=t?.geoAllocation?.[T]||0}),t?.geoAllocation&&Object.keys(t.geoAllocation).forEach(T=>{T in E||(E[T]=t.geoAllocation[T])}),E}),[h,v]=j.useState(!1),x=Object.values(a).reduce((E,T)=>E+T,0),b=Object.values(c).reduce((E,T)=>E+T,0),S=Object.values(f).reduce((E,T)=>E+T,0),w=a.Equity||0,y=x===100||x===0,C=b===100||b===0||w===0,M=S===100||S===0||w===0,A=y&&C&&M;async function _(){if(A){v(!0);try{const E={fundCode:e.fundCode,fundName:e.fundName,equity:a.Equity||0,debt:a.Debt||0,cash:a.Cash||0,commodities:a.Commodities||0,realEstate:a["Real Estate"]||0,customAsset:{},giantCap:c.Giant||0,largeCap:c.Large||0,midCap:c.Mid||0,smallCap:c.Small||0,microCap:c.Micro||0,customCap:{},geoIndia:f.India||0,geoGlobal:f.Global||0,customGeo:{}};Object.entries(a).forEach(([T,P])=>{!Fb.includes(T)&&P>0&&(E.customAsset[T]=P)}),Object.entries(c).forEach(([T,P])=>{!Bb.includes(T)&&P>0&&(E.customCap[T]=P)}),Object.entries(f).forEach(([T,P])=>{!$b.includes(T)&&P>0&&(E.customGeo[T]=P)}),await n(E)}finally{v(!1)}}}return l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-4 py-2.5",children:[l.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)] truncate",children:e.fundName}),l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] tabular-nums mt-0.5",children:e.fundCode})]}),l.jsx(qb,{title:"Asset Class %",fields:a,setFields:s,standardKeys:Fb,total:x,valid:y}),w>0&&l.jsx(qb,{title:"Market Cap %",subtitle:"Equity breakdown",fields:c,setFields:u,standardKeys:Bb,total:b,valid:C}),w>0&&l.jsx(qb,{title:"Geography %",fields:f,setFields:m,standardKeys:$b,total:S,valid:M}),l.jsxs("div",{className:"flex items-center justify-end gap-2 pt-3 border-t border-[var(--border-light)]",children:[l.jsx("button",{onClick:r,disabled:h,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),l.jsxs("button",{onClick:_,disabled:h||!A,className:"flex items-center gap-1.5 px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50",children:[h?l.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):l.jsx(JO,{size:12}),h?"Saving...":"Save"]})]})]})}function qb({title:e,subtitle:t,fields:n,setFields:r,standardKeys:a,total:s,valid:c}){const[u,f]=j.useState(!1),[m,h]=j.useState("");function v(w,y){r(C=>({...C,[w]:Number(y)||0}))}function x(){const w=m.trim();!w||w in n||(r(y=>({...y,[w]:0})),h(""),f(!1))}function b(w){r(y=>{const C={...y};return delete C[w],C})}const S=Object.keys(n);return l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("p",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider",children:e}),t&&l.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["(",t,")"]})]}),l.jsx("div",{className:"flex flex-wrap gap-2 mb-1.5",children:S.map(w=>{const y=!a.includes(w);return l.jsxs("div",{className:"relative",children:[l.jsxs("label",{className:"block text-[10px] text-[var(--text-dim)] mb-0.5 flex items-center gap-1",children:[w,y&&l.jsx("button",{onClick:()=>b(w),className:"text-[var(--text-dim)] hover:text-rose-400 transition-colors",children:l.jsx(Us,{size:8})})]}),l.jsx("input",{type:"number",min:"0",max:"100",value:n[w]||"",onChange:C=>v(w,C.target.value),className:"w-[72px] px-1.5 py-1 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-md tabular-nums text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})]},w)})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("p",{className:`text-[10px] tabular-nums ${c?"text-[var(--text-dim)]":"text-[var(--accent-rose)] font-semibold"}`,children:["Total: ",s,"% ",!c&&" must equal 100%",c&&s===100&&l.jsx("span",{className:"text-emerald-400 ml-1",children:""})]}),u?l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("input",{autoFocus:!0,value:m,onChange:w=>h(w.target.value),onKeyDown:w=>{w.key==="Enter"&&x(),w.key==="Escape"&&f(!1)},placeholder:"Field name",className:"w-24 px-1.5 py-0.5 text-[10px] bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-md focus:outline-none focus:border-[var(--sidebar-active-text)]"}),l.jsx("button",{onClick:x,className:"text-[10px] font-semibold text-emerald-400 hover:text-emerald-300",children:"Add"}),l.jsx("button",{onClick:()=>{f(!1),h("")},className:"text-[10px] text-[var(--text-dim)] hover:text-[var(--text-primary)]",children:l.jsx(Us,{size:10})})]}):l.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-0.5 text-[10px] font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[l.jsx(Pr,{size:10})," Add Field"]})]})]})}const qm=e=>e?.replace(/^PFL-/,"")||e;function Gse(e){if(!e)return"Other";const t=e.toLowerCase();return t.includes("gold")||t.includes("silver")||t.includes("commodity")?"Commodity":t.includes("liquid")||t.includes("money market")||t.includes("overnight")?"Liquid":t.includes("gilt")||t.includes("government securities")||t.includes("constant maturity")?"Gilt":t.includes("elss")||t.includes("tax saver")?"ELSS":t.includes("debt")||t.includes("bond")||t.includes("income fund")||t.includes("corporate bond")||t.includes("banking & psu")||t.includes("short duration")||t.includes("medium duration")||t.includes("long duration")||t.includes("short term")||t.includes("medium term")||t.includes("floater")||t.includes("floating rate")||t.includes("credit")||t.includes("accrual")||t.includes("savings fund")||t.includes("ultra short")?"Debt":t.includes("multi asset")?"Multi-Asset":t.includes("hybrid")||t.includes("balanced")||t.includes("dynamic asset")||t.includes("arbitrage")||t.includes("retirement")||t.includes("children")||t.includes("pension")?"Hybrid":t.includes("equity")||t.includes("flexi cap")||t.includes("large cap")||t.includes("mid cap")||t.includes("small cap")||t.includes("multi cap")||t.includes("focused")||t.includes("contra")||t.includes("value fund")||t.includes("thematic")||t.includes("sectoral")||t.includes("consumption")||t.includes("infrastructure")||t.includes("pharma")||t.includes("healthcare")||t.includes("technology")||t.includes("fmcg")||t.includes("mnc")||t.includes("opportunities fund")||t.includes("midcap")||t.includes("smallcap")||t.includes("largecap")||t.includes("large & mid")?"Equity":t.includes("index")||t.includes("etf")||t.includes("nifty")||t.includes("sensex")?"Index":t.includes("fund of fund")||t.includes("fof")||t.includes("aggressive")||t.includes("conservative")?"Hybrid":"Other"}const Kse={Equity:"#8b5cf6",Debt:"#0ea5e9",Cash:"#2dd4bf",Commodities:"#eab308","Real Estate":"#f97316",Other:"#94a3b8"},Wse={Giant:"#6366f1",Large:"#3b82f6",Mid:"#f59e0b",Small:"#ef4444",Micro:"#ec4899"},Qse={India:"#f97316",Global:"#06b6d4"},Xse={Equity:"bg-violet-500",Debt:"bg-sky-500",Cash:"bg-teal-400",Commodities:"bg-yellow-500","Real Estate":"bg-orange-500",Other:"bg-slate-400"},Zse={Giant:"bg-indigo-500",Large:"bg-blue-500",Mid:"bg-amber-500",Small:"bg-rose-500",Micro:"bg-pink-500"},Jse={India:"bg-orange-500",Global:"bg-cyan-500"};function pa(e){if(!e)return null;if(e instanceof Date)return isNaN(e.getTime())?null:e;const t=String(e),n=t.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})/);if(n)return new Date(Number(n[3]),Number(n[2])-1,Number(n[1]));const r=new Date(t);return isNaN(r.getTime())?null:r}function M_(e){return e>=20?{color:"#c62828",fontWeight:700}:e>=10?{color:"#d84315",fontWeight:700}:e>=5?{color:"#e67e00",fontWeight:600}:e>=1?{color:"#b8860b",fontWeight:600}:{color:"var(--text-dim)",fontWeight:400}}function ele(){const{selectedMember:e}=Yr(),{mfPortfolios:t,mfHoldings:n,mfTransactions:r,activeMembers:a,activeInvestmentAccounts:s,addMFPortfolio:c,updateMFPortfolio:u,deleteMFPortfolio:f,investMF:m,redeemMF:h,switchMF:v,updateHoldingAllocations:x,deleteMFTransaction:b,editMFTransaction:S,assetAllocations:w,updateAssetAllocation:y}=pt(),{showToast:C,showBlockUI:M,hideBlockUI:A}=li(),_=oi(),{mv:E}=ci(),[T,P]=j.useState(null),[O,L]=j.useState("all"),[R,B]=j.useState("holdings"),[D,W]=j.useState(!1),[X,Z]=j.useState(null),[$,G]=j.useState({}),[z,te]=j.useState("all"),[ve,F]=j.useState(null),[ae,he]=j.useState(!1),ye=j.useCallback(Y=>{Z(ce=>ce===Y?null:Y)},[]),je=j.useCallback(Y=>{G(ce=>({...ce,[Y]:(ce[Y]||5)+10}))},[]),Ie=j.useMemo(()=>t?t.filter(Y=>Y.status!=="Inactive").map(Y=>{let ce=s.find(ze=>ze.accountId===Y.investmentAccountId);!ce&&Y.investmentAccountId&&(ce=s.find(ze=>`${ze.accountName} - ${ze.platformBroker}`===Y.investmentAccountId));const Ce=ce?.memberId||Y.ownerId||"",De=Ce?a.find(ze=>ze.memberId===Ce):null;return{...Y,investmentAccountId:ce?.accountId||Y.investmentAccountId,ownerId:Ce,ownerName:De?.memberName||Y.ownerName||"",platform:ce?.platformBroker||Y.investmentAccountName||"",clientId:ce?.accountClientId||""}}):[],[t,s,a]),me=j.useMemo(()=>Ie.length?e==="all"?Ie:Ie.filter(Y=>Y.ownerId===e):[],[Ie,e]),ge=j.useMemo(()=>n?me.map(Y=>{const ce=n.filter(De=>De.portfolioId===Y.portfolioId),Ce=(r||[]).filter(De=>De.portfolioId===Y.portfolioId);return{...Y,holdings:ce,txns:Ce,fundCount:ce.length}}):[],[me,n,r]),K=j.useMemo(()=>{const Y=O==="all"?ge:ge.filter(Xe=>Xe.portfolioId===O),ce=Y.reduce((Xe,Se)=>Xe+Se.totalInvestment,0),Ce=Y.reduce((Xe,Se)=>Xe+Se.currentValue,0),De=Y.reduce((Xe,Se)=>Xe+Se.unrealizedPL,0),ze=Y.reduce((Xe,Se)=>Xe+Se.realizedPL,0),ie=De+ze,Tt=ce>0?ie/ce*100:0,He=ce>0?De/ce*100:0,Mt=ce>0?ze/ce*100:0,Xt=Y.reduce((Xe,Se)=>Xe+Se.fundCount,0),Yt=(n?O==="all"?n.filter(Xe=>Y.some(Se=>Se.portfolioId===Xe.portfolioId)):n.filter(Xe=>Xe.portfolioId===O):[]).reduce((Xe,Se)=>Xe+(Se.ongoingSIP||0),0);return{invested:ce,current:Ce,unrealizedPL:De,unrealizedPLPct:He,realizedPL:ze,realizedPLPct:Mt,totalPL:ie,totalPLPct:Tt,funds:Xt,monthlySIP:Yt}},[ge,O,n]),Ne=j.useMemo(()=>n?O==="all"?n.filter(Y=>me.some(ce=>ce.portfolioId===Y.portfolioId)):n.filter(Y=>Y.portfolioId===O):[],[n,me,O]),qe=j.useMemo(()=>r?(O==="all"?r.filter(ce=>me.some(Ce=>Ce.portfolioId===ce.portfolioId)):r.filter(ce=>ce.portfolioId===O)).sort((ce,Ce)=>(pa(Ce.date)||0)-(pa(ce.date)||0)):[],[r,me,O]),be=j.useMemo(()=>{const Y=new Set;return qe.forEach(ce=>{ce.fundName&&Y.add(ce.fundName)}),[...Y].sort()},[qe]),Ze=j.useMemo(()=>z==="all"?qe:qe.filter(Y=>Y.fundName===z),[qe,z]),Ue=j.useMemo(()=>{const Y={};return Ne.forEach(ce=>{Y[ce.portfolioId]=(Y[ce.portfolioId]||0)+ce.currentValue}),Ne.map(ce=>{const Ce=Y[ce.portfolioId]||0,De=Ce>0?ce.currentValue/Ce*100:0,ze=ce.investment>0?ce.pl/ce.investment*100:0,ie=ce.holdingId||`${ce.portfolioId}::${ce.schemeCode||ce.fundCode}`;return{...ce,currentAllocationPct:De,plPct:ze,_key:ie}})},[Ne]),jt=j.useMemo(()=>{if(O!=="all")return null;const Y=[],ce={};return Ue.forEach(Ce=>{ce[Ce.portfolioId]||(ce[Ce.portfolioId]={portfolioId:Ce.portfolioId,holdings:[]},Y.push(ce[Ce.portfolioId])),ce[Ce.portfolioId].holdings.push(Ce)}),Y},[Ue,O]),vt=j.useMemo(()=>{if(!n)return{};const Y={};return ge.forEach(ce=>{const Ce=n.filter(He=>He.portfolioId===ce.portfolioId&&He.units>0),De=Ce.reduce((He,Mt)=>He+Mt.currentValue,0),ze=(ce.rebalanceThreshold||.05)*100;let ie=0,Tt=0;Ce.forEach(He=>{He.athNav>0&&He.belowATHPct>=5&&ie++;const Mt=De>0?He.currentValue/De*100:0;He.targetAllocationPct>0&&Math.abs(Mt-He.targetAllocationPct)>ze&&Tt++}),Y[ce.portfolioId]={buyOpp:ie,rebalance:Tt}}),Y},[ge,n]),ut=j.useMemo(()=>{if(O!=="all")return vt[O]||{buyOpp:0,rebalance:0};let Y=0,ce=0;return Object.values(vt).forEach(Ce=>{Y+=Ce.buyOpp,ce+=Ce.rebalance}),{buyOpp:Y,rebalance:ce}},[O,vt]),Nt=j.useMemo(()=>{if(!Ne.length)return null;const Y={};if(w)for(const Se of w)Y[Se.fundCode]={asset:Se.assetAllocation,equity:Se.equityAllocation,geo:Se.geoAllocation};const ce={Equity:0,Debt:0,Cash:0,Commodities:0,"Real Estate":0,Other:0},Ce={Giant:0,Large:0,Mid:0,Small:0,Micro:0},De={India:0,Global:0};let ze=0,ie=!1,Tt=0;for(const Se of Ne){if(Se.units<=0)continue;ze+=Se.currentValue;const We=Y[Se.fundCode||Se.schemeCode];if(We?.asset){ie=!0,Tt++;for(const[et,Pt]of Object.entries(We.asset)){const zr=Se.currentValue*(Pt/100);et in ce?ce[et]+=zr:et==="Gold"?ce.Commodities+=zr:ce.Other+=zr}if(We.equity){const et=Se.currentValue*((We.asset.Equity||0)/100);for(const[Pt,zr]of Object.entries(We.equity)){const gr=et*(zr/100);Pt in Ce?Ce[Pt]+=gr:Pt==="Large Cap"?Ce.Large+=gr:Pt==="Mid Cap"?Ce.Mid+=gr:Ce.Small+=gr}}if(We.geo){const et=Se.currentValue*((We.asset.Equity||0)/100);for(const[Pt,zr]of Object.entries(We.geo)){const gr=et*(zr/100);Pt in De?De[Pt]+=gr:De.Global+=gr}}}else{let et=Se.category;(!et||et==="Other")&&(et=Gse(Se.fundName)),et==="Equity"||et==="ELSS"||et==="Index"?ce.Equity+=Se.currentValue:et==="Debt"||et==="Gilt"?ce.Debt+=Se.currentValue:et==="Liquid"?ce.Cash+=Se.currentValue:et==="Commodity"?ce.Commodities+=Se.currentValue:et==="Multi-Asset"?(ce.Equity+=Se.currentValue*.5,ce.Debt+=Se.currentValue*.3,ce.Commodities+=Se.currentValue*.2):et==="Hybrid"||et==="FoF"?(ce.Equity+=Se.currentValue*.65,ce.Debt+=Se.currentValue*.35):ce.Other+=Se.currentValue}}if(ze===0)return null;const Mt=((Se,We)=>Object.entries(Se).filter(([,et])=>et>0).sort(([,et],[,Pt])=>Pt-et).map(([et,Pt])=>({name:et,value:Pt,pct:Pt/ze*100,fill:We[et]||"#94a3b8"})))(ce,Kse),Xt=Object.values(Ce).reduce((Se,We)=>Se+We,0),Be=Xt>0?Object.entries(Ce).filter(([,Se])=>Se>0).sort(([,Se],[,We])=>We-Se).map(([Se,We])=>({name:Se,value:We,pct:We/Xt*100,fill:Wse[Se]||"#94a3b8"})):[],Yt=Object.values(De).reduce((Se,We)=>Se+We,0),Xe=Yt>0?Object.entries(De).filter(([,Se])=>Se>0).sort(([,Se],[,We])=>We-Se).map(([Se,We])=>({name:Se,value:We,pct:We/Yt*100,fill:Qse[Se]||"#94a3b8"})):[];return{assetList:Mt,capList:Be,geoList:Xe,hasDetailedAlloc:ie,configuredCount:Tt,totalFunds:Ne.filter(Se=>Se.units>0).length}},[Ne,w]),Pe=j.useMemo(()=>{if(!Ne.length)return[];const Y={};return Ne.forEach(ce=>{if(!ce.fundCode&&!ce.schemeCode)return;const Ce=(ce.fundCode||ce.schemeCode).toString();Y[Ce]||(Y[Ce]={fundCode:Ce,fundName:ce.fundName||""})}),Object.values(Y).sort((ce,Ce)=>ce.fundName.localeCompare(Ce.fundName))},[Ne]);if(t===null||n===null)return l.jsx(as,{title:"Loading mutual funds",cards:5});const Ye=ge.find(Y=>Y.portfolioId===O),at=O==="all"?`All Portfolios (${me.length})`:`${qm(Ye?.portfolioName)}  ${E(Ye?.ownerName,"name")}`;async function Bt(Y){M("Saving...");try{T?.editPortfolio?await u(T.editPortfolio.portfolioId,Y):await c(Y),C(T?.editPortfolio?"Portfolio updated":"Portfolio created"),P(null)}catch(ce){C(ce.message||"Failed to save portfolio","error")}finally{A()}}async function Ut(){if(T?.editPortfolio&&await _("Deactivate this portfolio?",{title:"Deactivate Portfolio",confirmLabel:"Deactivate"})){M("Deactivating...");try{await f(T.editPortfolio.portfolioId),C("Portfolio deactivated"),L("all"),P(null)}catch(Y){C(Y.message||"Failed to deactivate portfolio","error")}finally{A()}}}async function St(Y){M("Recording investment...");try{await m(Y,Y.transactionType),C("Investment recorded"),P(null)}catch(ce){C(ce.message||"Failed to record investment","error")}finally{A()}}async function Hn(Y){M("Recording redemption...");try{await h(Y),C("Redemption recorded"),P(null)}catch(ce){C(ce.message||"Failed to record redemption","error")}finally{A()}}async function is(Y){M("Recording switch...");try{await v(Y),C("Switch recorded"),P(null)}catch(ce){C(ce.message||"Failed to record switch","error")}finally{A()}}async function ue(Y){if(await _("Delete this transaction? This will recalculate your holdings.",{title:"Delete Transaction",confirmLabel:"Delete"})){M("Deleting...");try{await b(Y),C("Transaction deleted"),F(null)}catch(ce){C(ce.message||"Failed to delete transaction","error")}finally{A()}}}async function xe(Y){M("Updating...");try{await S(Y),C("Transaction updated"),P(null)}catch(ce){C(ce.message||"Failed to update transaction","error")}finally{A()}}async function Fe(Y){if(T?.allocations){M("Saving allocations...");try{await x(T.allocations,Y),C("Allocations updated"),P(null)}catch(ce){C(ce.message||"Failed to update allocations","error")}finally{A()}}}async function $t(Y){M("Saving classification...");try{await y(Y),C("Fund classified"),P(null)}catch(ce){C(ce.message||"Failed to save classification","error")}finally{A()}}return l.jsxs("div",{className:"space-y-4",children:[me.length===0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[l.jsx(ec,{size:32,className:"text-[var(--text-dim)]"}),l.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No mutual fund portfolios yet"}),l.jsx("button",{onClick:()=>P("addPortfolio"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first portfolio"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>W(!D),className:"flex items-center gap-2 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm font-semibold text-[var(--text-primary)] hover:border-[var(--border-light)] transition-colors min-w-[220px]",children:[l.jsx(ec,{size:14,className:"text-violet-400 shrink-0"}),l.jsx("span",{className:"truncate",children:at}),l.jsx(Ga,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${D?"rotate-180":""}`})]}),D&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>W(!1)}),l.jsxs("div",{className:"absolute left-0 top-full mt-1 z-40 bg-[var(--bg-dropdown)] border border-white/10 rounded-lg shadow-2xl min-w-[300px] py-1 overflow-hidden",children:[l.jsxs("button",{onClick:()=>{L("all"),W(!1),B("holdings")},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${O==="all"?"bg-[var(--sidebar-active-bg)] text-[var(--text-primary)] font-semibold":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:["All Portfolios (",me.length,")"]}),l.jsx("div",{className:"border-t border-[var(--border-light)]"}),ge.map(Y=>{const ce=Y.totalPL>=0,Ce=vt[Y.portfolioId]||{};return l.jsx("button",{onClick:()=>{L(Y.portfolioId),W(!1),B("holdings")},className:`w-full text-left px-4 py-2.5 transition-colors ${O===Y.portfolioId?"bg-[var(--sidebar-active-bg)]":"hover:bg-[var(--bg-hover)]"}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("p",{className:`text-sm ${O===Y.portfolioId?"font-semibold text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:qm(Y.portfolioName)}),Ce.buyOpp>0&&l.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 shrink-0",title:`${Ce.buyOpp} buy opportunities`}),Ce.rebalance>0&&l.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-400 shrink-0",title:`${Ce.rebalance} funds need rebalancing`})]}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[E(Y.ownerName,"name"),"  ",Y.platform,"  ",Y.fundCount," funds"]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(Y.currentValue)}),l.jsxs("p",{className:`text-xs font-semibold tabular-nums ${ce?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ce?"+":"",Y.totalPLPct.toFixed(1),"%"]})]})]})},Y.portfolioId)})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsxs("button",{onClick:()=>P("buyOpp"),disabled:ut.buyOpp===0,className:`flex items-center gap-1.5 px-3 py-2 text-xs font-medium rounded-lg transition-colors ${ut.buyOpp>0?"text-emerald-400 hover:text-emerald-300 bg-[var(--bg-card)] border border-emerald-500/30 animate-glow-emerald":"text-[var(--text-dim)] bg-[var(--bg-card)] border border-[var(--border)] opacity-50 cursor-not-allowed"}`,children:[l.jsx(kh,{size:12})," Buy Opp.",ut.buyOpp>0&&l.jsx("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-emerald-500/15",children:ut.buyOpp})]}),l.jsxs("button",{onClick:()=>P("rebalance"),disabled:ut.rebalance===0,className:`flex items-center gap-1.5 px-3 py-2 text-xs font-medium rounded-lg transition-colors ${ut.rebalance>0?"text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-violet-500/30 animate-glow-violet":"text-[var(--text-dim)] bg-[var(--bg-card)] border border-[var(--border)] opacity-50 cursor-not-allowed"}`,children:[l.jsx(ic,{size:12})," Rebalance",ut.rebalance>0&&l.jsx("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-violet-500/15",children:ut.rebalance})]}),Ye&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>P({allocations:Ye.portfolioId}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(tT,{size:12})," Allocations"]}),l.jsxs("button",{onClick:()=>P({editPortfolio:Ye}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(ka,{size:12})," Edit"]})]}),l.jsxs("button",{onClick:()=>P("addPortfolio"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(Pr,{size:14})," New Portfolio"]})]})]}),Ye&&l.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-dim)] px-1 flex-wrap",children:[l.jsxs("span",{children:[l.jsx("span",{className:"font-semibold",children:"Platform:"})," ",Ye.platform]}),l.jsxs("span",{children:[l.jsx("span",{className:"font-semibold",children:"Client ID:"})," ",E(Ye.clientId,"clientId")]}),l.jsxs("span",{children:[l.jsx("span",{className:"font-semibold",children:"Funds:"})," ",Ye.fundCount]}),Ye.sipTarget>=100&&l.jsxs("span",{children:[l.jsx("span",{className:"font-semibold",children:"SIP Target:"})," ",Q(Ye.sipTarget),"/mo"]}),Ye.lumpsumTarget>=100&&l.jsxs("span",{children:[l.jsx("span",{className:"font-semibold",children:"Lumpsum Target:"})," ",Q(Ye.lumpsumTarget)]}),l.jsxs("span",{children:[l.jsx("span",{className:"font-semibold",children:"Rebalance Threshold:"})," ",(Ye.rebalanceThreshold*100).toFixed(0),"%"]})]}),l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[l.jsx(Vo,{label:"Invested",value:Q(K.invested)}),l.jsx(Vo,{label:"Current Value",value:Q(K.current),bold:!0}),l.jsx(Vo,{label:"Unrealized P&L",value:`${K.unrealizedPL>=0?"+":""}${Q(K.unrealizedPL)}`,sub:`${K.unrealizedPLPct>=0?"+":""}${K.unrealizedPLPct.toFixed(1)}%`,positive:K.unrealizedPL>=0}),l.jsx(Vo,{label:"Realized P&L",value:`${K.realizedPL>=0?"+":""}${Q(K.realizedPL)}`,sub:`${K.realizedPLPct>=0?"+":""}${K.realizedPLPct.toFixed(1)}%`,positive:K.realizedPL>=0}),l.jsx(Vo,{label:"Total P&L",value:`${K.totalPL>=0?"+":""}${Q(K.totalPL)}`,sub:`${K.totalPLPct>=0?"+":""}${K.totalPLPct.toFixed(1)}%`,positive:K.totalPL>=0,bold:!0}),l.jsx(Vo,{label:"Monthly SIP",value:Q(K.monthlySIP),sub:`${K.funds} funds`})]}),Nt&&Nt.assetList.length>0&&l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsxs("button",{onClick:()=>he(Y=>!Y),className:"w-full flex items-center justify-between px-4 py-2.5 hover:bg-[var(--bg-hover)] transition-colors",children:[l.jsx("span",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Portfolio Breakdown"}),l.jsx(Ga,{size:14,className:`text-[var(--text-dim)] transition-transform duration-200 ${ae?"rotate-180":""}`})]}),ae&&l.jsxs("div",{className:"px-4 pb-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsx(Hb,{title:"Asset Class",data:Nt.assetList,bgMap:Xse}),Nt.capList.length>0?l.jsx(Hb,{title:"Market Cap",data:Nt.capList,bgMap:Zse}):l.jsx("div",{className:"flex items-center justify-center rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)] p-4",children:l.jsxs("p",{className:"text-[10px] text-[var(--text-dim)] text-center",children:["Classify funds for",l.jsx("br",{}),"market cap breakdown"]})}),Nt.geoList?.length>0?l.jsx(Hb,{title:"Geography",data:Nt.geoList,bgMap:Jse}):l.jsx("div",{className:"flex items-center justify-center rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)] p-4",children:l.jsxs("p",{className:"text-[10px] text-[var(--text-dim)] text-center",children:["Classify funds for",l.jsx("br",{}),"geography breakdown"]})})]}),!Nt.hasDetailedAlloc&&l.jsx("p",{className:"text-[9px] text-[var(--text-dim)]/50 mt-2 text-center",children:"Based on fund category. Go to Fund Breakdown tab to add detailed data from Morningstar."}),Nt.hasDetailedAlloc&&Nt.configuredCount<Nt.totalFunds&&l.jsxs("p",{className:"text-[9px] text-amber-400/70 mt-2 text-center",children:[Nt.totalFunds-Nt.configuredCount," of ",Nt.totalFunds," funds not yet classified"]})]})]}),l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[l.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5",children:[l.jsxs("button",{onClick:()=>B("holdings"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${R==="holdings"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[l.jsx(GO,{size:12})," Holdings (",Ne.length,")"]}),l.jsxs("button",{onClick:()=>B("transactions"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${R==="transactions"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[l.jsx(gp,{size:12})," Transactions (",Ze.length,")"]}),l.jsxs("button",{onClick:()=>B("breakdown"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${R==="breakdown"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[l.jsx(AC,{size:12})," Fund Breakdown (",Pe.length,")"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[O==="all"&&l.jsx("span",{className:"text-xs text-[var(--text-dim)] mr-1 hidden sm:inline",children:"Select a portfolio to take actions"}),l.jsxs("button",{onClick:()=>O!=="all"&&P({invest:O}),disabled:O==="all",className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${O==="all"?"bg-emerald-600/40 text-white/50 cursor-not-allowed":"text-white bg-emerald-600 hover:bg-emerald-500"}`,title:O==="all"?"Select a portfolio first":"",children:[l.jsx(sc,{size:14})," Invest"]}),l.jsxs("button",{onClick:()=>O!=="all"&&Ne.length>0&&P({redeem:O}),disabled:O==="all"||Ne.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${O==="all"||Ne.length===0?"bg-rose-600/40 text-white/50 cursor-not-allowed":"text-white bg-rose-600 hover:bg-rose-500"}`,title:O==="all"?"Select a portfolio first":"",children:[l.jsx($O,{size:14})," Redeem"]}),l.jsxs("button",{onClick:()=>O!=="all"&&Ne.length>0&&P({switchFunds:O}),disabled:O==="all"||Ne.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${O==="all"||Ne.length===0?"bg-amber-600/40 text-white/50 cursor-not-allowed":"text-white bg-amber-600 hover:bg-amber-500"}`,title:O==="all"?"Select a portfolio first":"",children:[l.jsx(B8,{size:14})," Switch"]})]})]}),R==="holdings"&&l.jsx(l.Fragment,{children:Ne.length>0?l.jsx("div",{className:O==="all"?"space-y-4":"",children:(O==="all"?jt:[{portfolioId:O,holdings:Ue}]).map(Y=>{const ce=ge.find(ie=>ie.portfolioId===Y.portfolioId),Ce=Y.holdings,De=Ce.reduce((ie,Tt)=>ie+Tt.pl,0),ze=De>=0;return l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[O==="all"&&ce&&l.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:qm(ce.portfolioName)}),ce.ownerName&&l.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:["(",E(ce.ownerName,"name"),")"]}),l.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[" ",Ce.filter(ie=>ie.units>0).length," funds"]})]}),l.jsxs("div",{className:"flex items-center gap-4 text-xs tabular-nums",children:[l.jsx("span",{className:"text-[var(--text-muted)]",children:Q(ce.currentValue||0)}),l.jsxs("span",{className:`font-bold ${ze?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ze?"+":"",Q(De)]})]})]}),l.jsx("div",{className:"hidden lg:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:`border-b border-[var(--border-light)] ${O!=="all"?"bg-[var(--bg-inset)]":""}`,children:[l.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Fund Name"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),l.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[l.jsx("div",{children:"NAV"}),l.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Avg"})]}),l.jsxs("th",{className:"text-center py-2 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[l.jsx("div",{children:"ATH"}),l.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Below Peak"})]}),l.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[l.jsx("div",{children:"Allocation %"}),l.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Target"})]}),l.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[l.jsx("div",{children:"Amount"}),l.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Invested"})]}),l.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[l.jsx("div",{children:"P&L"}),l.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"on Holdings"})]}),l.jsx("th",{className:"py-2 px-2 w-8"})]})}),l.jsx("tbody",{children:Ce.map(ie=>{const Tt=M_(ie.belowATHPct),He=ie.units===0,Mt=ge.find(Ae=>Ae.portfolioId===ie.portfolioId),Xt=Mt?.currentValue||0,Be=X===ie._key,Yt=ie.pl,Xe=Yt>=0,Se=He&&ie.targetAllocationPct>0&&ie.targetAllocationPct<100&&Xt>0?ie.targetAllocationPct/(100-ie.targetAllocationPct)*Xt:0,We=He&&ie.targetAllocationPct>0&&Mt?.sipTarget>=100?ie.targetAllocationPct/100*Mt.sipTarget:0,et=Be?(r||[]).filter(Ae=>Ae.portfolioId===ie.portfolioId&&Ae.fundCode===ie.schemeCode).sort((Ae,_r)=>(pa(_r.date)||0)-(pa(Ae.date)||0)):[],Pt=$[ie._key]||5,zr=et.slice(0,Pt),gr=Ae=>{const _r=pa(Ae);return _r?Math.floor((new Date-_r)/864e5):null};return l.jsxs(oe.Fragment,{children:[l.jsxs("tr",{onClick:()=>!He&&ye(ie._key),className:`border-b border-[var(--border-light)] last:border-0 transition-colors ${He?"opacity-60":"cursor-pointer hover:bg-[var(--bg-hover)]"} ${Be?"bg-[var(--bg-hover)]":""}`,children:[l.jsx("td",{className:"py-2.5 px-3 max-w-[240px]",children:l.jsxs("div",{className:"flex items-center gap-1.5",children:[!He&&l.jsx(Ga,{size:12,className:`shrink-0 text-[var(--text-dim)] transition-transform ${Be?"rotate-180":""}`}),l.jsxs("div",{children:[l.jsxs("p",{className:"text-xs text-[var(--text-primary)] leading-tight",children:[ie.fundName,He&&l.jsx("span",{className:"ml-1.5 text-xs font-semibold text-violet-400 bg-violet-500/15 px-1.5 py-0.5 rounded",children:"Planned"})]}),He&&(Se>0||We>0)&&l.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[Se>0&&l.jsxs("span",{className:"text-xs text-emerald-400 font-semibold",children:["Buy ",Q(Se)]}),We>0&&l.jsxs("span",{className:"text-xs text-blue-400 font-semibold",children:["SIP ",Q(We),"/mo"]})]})]})]})}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:He?"":ie.units.toFixed(2)}),l.jsx("td",{className:"py-2.5 px-3 text-right",children:He?l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:["",ie.currentNav.toFixed(2)]}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:["",ie.avgNav.toFixed(2)]})]})}),l.jsx("td",{className:"py-2.5 px-2 text-center",children:He?l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):ie.athNav>0&&ie.belowATHPct>0?l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm font-bold tabular-nums",style:Tt,children:["",ie.belowATHPct.toFixed(1),"%"]}),l.jsxs("p",{className:"text-[11px] text-[var(--text-muted)] tabular-nums",children:["",ie.athNav.toFixed(0)]})]}):ie.athNav>0?l.jsx("span",{className:"text-[10px] text-emerald-400/70 font-semibold",children:"AT HIGH"}):l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),l.jsx("td",{className:"py-2.5 px-3 text-right",children:He?l.jsxs("p",{className:"text-xs font-semibold text-violet-400 tabular-nums",children:[ie.targetAllocationPct.toFixed(1),"%"]}):l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:[ie.currentAllocationPct.toFixed(1),"%"]}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:[ie.targetAllocationPct.toFixed(1),"%"]})]})}),l.jsx("td",{className:"py-2.5 px-3 text-right",children:He?l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(ie.currentValue)}),l.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:Q(ie.investment)})]})}),l.jsx("td",{className:"py-2.5 px-3 text-right",children:He?l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Xe?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Xe?"+":"",Q(Yt)]}),l.jsxs("p",{className:`text-xs font-bold tabular-nums ${Xe?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Xe?"+":"",ie.plPct.toFixed(1),"%"]})]})}),l.jsx("td",{className:"py-2.5 px-2 text-center",children:l.jsxs("div",{className:"flex items-center gap-0.5 justify-center",children:[l.jsx("button",{onClick:Ae=>{Ae.stopPropagation(),P({invest:{portfolioId:ie.portfolioId,fundCode:ie.schemeCode,fundName:ie.fundName}})},className:"w-6 h-6 flex items-center justify-center rounded-full bg-emerald-500/15 text-emerald-400 hover:bg-emerald-500/25 transition-colors",title:"Buy / Invest",children:l.jsx(Pr,{size:14,strokeWidth:2.5})}),!He&&l.jsx("button",{onClick:Ae=>{Ae.stopPropagation(),P({redeem:{portfolioId:ie.portfolioId,fundCode:ie.schemeCode}})},className:"w-6 h-6 flex items-center justify-center rounded-full bg-rose-500/15 text-rose-400 hover:bg-rose-500/25 transition-colors",title:"Sell / Redeem",children:l.jsx(U0,{size:14,strokeWidth:2.5})})]})})]}),Be&&!He&&l.jsx("tr",{className:"border-b border-[var(--border-light)]",children:l.jsx("td",{colSpan:8,className:"p-0",children:l.jsxs("div",{className:"bg-[var(--bg-expanded)] border-t border-[var(--border-light)]",children:[l.jsxs("div",{className:"flex flex-col lg:flex-row",children:[l.jsx("div",{className:"lg:w-52 shrink-0 p-4 border-b lg:border-b-0 lg:border-r border-[var(--border-light)]",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Units"}),l.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums",children:ie.units.toFixed(3)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Avg NAV"}),l.jsxs("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums",children:["",ie.avgNav.toFixed(2)]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Invested"}),l.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums",children:Q(ie.investment)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Current Value"}),l.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums",children:Q(ie.currentValue)})]}),ie.ongoingSIP>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Monthly SIP"}),l.jsx("p",{className:"text-base font-bold text-blue-400 tabular-nums",children:Q(ie.ongoingSIP)})]}),l.jsxs("div",{className:"pt-3 border-t border-[var(--border-light)] flex gap-2",children:[l.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),P({invest:{portfolioId:ie.portfolioId,fundCode:ie.schemeCode,fundName:ie.fundName}})},className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-emerald-400 bg-emerald-500/10 hover:bg-emerald-500/20 rounded-lg transition-colors",children:[l.jsx("span",{className:"w-5 h-5 flex items-center justify-center rounded-full bg-emerald-500/20",children:l.jsx(Pr,{size:12,strokeWidth:2.5})})," Buy"]}),l.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),P({redeem:{portfolioId:ie.portfolioId,fundCode:ie.schemeCode}})},className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-rose-400 bg-rose-500/10 hover:bg-rose-500/20 rounded-lg transition-colors",children:[l.jsx("span",{className:"w-5 h-5 flex items-center justify-center rounded-full bg-rose-500/20",children:l.jsx(U0,{size:12,strokeWidth:2.5})})," Sell"]})]})]})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"px-4 pt-3 pb-1",children:l.jsx("p",{className:"text-xs font-semibold text-[var(--text-secondary)]",children:"Transactions"})}),et.length===0?l.jsx("p",{className:"py-8 text-xs text-[var(--text-dim)] text-center",children:"No transactions recorded"}):l.jsxs(l.Fragment,{children:[l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[l.jsx("th",{className:"text-left py-2 px-4 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Date"}),l.jsx("th",{className:"text-left py-2 px-2 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Type"}),l.jsx("th",{className:"text-center py-2 px-2 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Days"}),l.jsx("th",{className:"text-right py-2 px-3 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Amount"}),l.jsx("th",{className:"text-right py-2 px-3 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"NAV"}),l.jsx("th",{className:"text-right py-2 px-3 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Units"}),l.jsx("th",{className:"text-right py-2 px-3 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"P&L"}),l.jsx("th",{className:"w-8 py-2 px-1"})]})}),l.jsx("tbody",{children:zr.map((Ae,_r)=>{const fi=pa(Ae.date),Ea=!!fi,_a=Ea?fi.toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):Ae.date||"",Oa=Ea?gr(Ae.date):null,il=Ae.type==="BUY",ss=!il&&Ae.gainLoss!=null&&Ae.gainLoss!==0,Nn=ss&&Ae.gainLoss>=0;return l.jsxs("tr",{className:"group border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[l.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-secondary)] tabular-nums whitespace-nowrap",children:_a}),l.jsx("td",{className:"py-2.5 px-2",children:l.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded ${il?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:Ae.transactionType||Ae.type})}),l.jsx("td",{className:"py-2.5 px-2 text-xs text-[var(--text-dim)] tabular-nums text-center",children:Oa??""}),l.jsx("td",{className:"py-2.5 px-3 text-xs font-semibold text-[var(--text-primary)] tabular-nums text-right",children:Q(Ae.totalAmount)}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums text-right",children:Number(Ae.price).toFixed(4)}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums text-right",children:Number(Ae.units).toFixed(3)}),l.jsx("td",{className:`py-2.5 px-3 text-xs font-semibold tabular-nums text-right ${ss?Nn?"text-emerald-400":"text-[var(--accent-rose)]":"text-[var(--text-dim)]"}`,children:ss?`${Nn?"+":""}${Q(Ae.gainLoss)}`:""}),l.jsx("td",{className:"py-2.5 px-1",children:l.jsx(Hm,{txn:Ae,isOpen:ve===Ae.transactionId,onToggle:()=>F(ve===Ae.transactionId?null:Ae.transactionId),onEdit:()=>{F(null),P({editTxn:Ae})},onDelete:()=>{F(null),ue(Ae.transactionId)}})})]},Ae.transactionId||`txn-${_r}`)})})]}),et.length>Pt&&l.jsx("div",{className:"py-2 text-center border-t border-[var(--border-light)]",children:l.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),je(ie._key)},className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:["Show More (",et.length-Pt," remaining)"]})})]})]})]}),l.jsx("div",{className:"flex justify-center py-1.5 border-t border-[var(--border-light)]",children:l.jsx("button",{onClick:()=>ye(ie._key),className:"p-0.5 text-[var(--text-dim)] hover:text-[var(--text-muted)]",children:l.jsx(FF,{size:14})})})]})})})]},ie._key)})})]})}),l.jsx("div",{className:"lg:hidden divide-y divide-[var(--border-light)]",children:Ce.map(ie=>{const Tt=M_(ie.belowATHPct),He=ie.units===0,Mt=ge.find(Ae=>Ae.portfolioId===ie.portfolioId),Xt=Mt?.currentValue||0,Be=X===ie._key,Yt=ie.pl,Xe=Yt>=0,Se=He&&ie.targetAllocationPct>0&&ie.targetAllocationPct<100&&Xt>0?ie.targetAllocationPct/(100-ie.targetAllocationPct)*Xt:0,We=He&&ie.targetAllocationPct>0&&Mt?.sipTarget>=100?ie.targetAllocationPct/100*Mt.sipTarget:0,et=Be?(r||[]).filter(Ae=>Ae.portfolioId===ie.portfolioId&&Ae.fundCode===ie.schemeCode).sort((Ae,_r)=>(pa(_r.date)||0)-(pa(Ae.date)||0)):[],Pt=$[ie._key]||5,zr=et.slice(0,Pt),gr=Ae=>{const _r=pa(Ae);return _r?Math.floor((new Date-_r)/864e5):null};return l.jsxs("div",{className:He?"opacity-60":"",children:[l.jsxs("div",{onClick:()=>!He&&ye(ie._key),className:`px-4 py-3 ${He?"":"cursor-pointer"} ${Be?"bg-[var(--bg-hover)]":""}`,children:[l.jsxs("div",{className:"flex items-start justify-between mb-1.5",children:[l.jsxs("div",{className:"flex-1 mr-3",children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[!He&&l.jsx(Ga,{size:12,className:`shrink-0 text-[var(--text-dim)] transition-transform ${Be?"rotate-180":""}`}),l.jsxs("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:[ie.fundName,He&&l.jsx("span",{className:"ml-1.5 text-xs font-semibold text-violet-400 bg-violet-500/15 px-1.5 py-0.5 rounded",children:"Planned"})]})]}),He&&(Se>0||We>0)&&l.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[Se>0&&l.jsxs("span",{className:"text-xs text-emerald-400 font-semibold",children:["Buy ",Q(Se)]}),We>0&&l.jsxs("span",{className:"text-xs text-blue-400 font-semibold",children:["SIP ",Q(We),"/mo"]})]})]}),He?l.jsxs("p",{className:"text-xs font-semibold text-violet-400 tabular-nums shrink-0",children:["Target: ",ie.targetAllocationPct.toFixed(1),"%"]}):l.jsxs("div",{className:"text-right shrink-0",children:[l.jsxs("p",{className:`text-xs font-bold tabular-nums ${Xe?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Xe?"+":"",Q(Yt)]}),l.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Xe?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Xe?"+":"",ie.plPct.toFixed(1),"%"]})]})]}),He?l.jsx("div",{className:"flex items-center justify-end mt-1",children:l.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),P({invest:{portfolioId:ie.portfolioId,fundCode:ie.schemeCode,fundName:ie.fundName}})},className:"shrink-0 flex items-center gap-1 text-[10px] font-semibold text-emerald-400 hover:text-emerald-300 px-2 py-0.5 rounded bg-emerald-500/10",children:[l.jsx("span",{className:"w-4 h-4 flex items-center justify-center rounded-full bg-emerald-500/20",children:l.jsx(Pr,{size:10,strokeWidth:2.5})})," Buy"]})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between text-xs text-[var(--text-dim)]",children:[l.jsxs("div",{children:[l.jsxs("span",{children:[ie.units.toFixed(2)," units"]}),l.jsx("span",{className:"mx-1",children:""}),l.jsxs("span",{children:["NAV ",ie.currentNav.toFixed(2)," / ",ie.avgNav.toFixed(2)]})]}),l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(ie.currentValue)})]}),l.jsxs("div",{className:"flex items-center justify-between mt-1",children:[l.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)] flex-wrap",children:[l.jsxs("span",{children:["Alloc: ",ie.currentAllocationPct.toFixed(1),"% / ",ie.targetAllocationPct.toFixed(1),"%"]}),ie.athNav>0&&ie.belowATHPct>0?l.jsxs("span",{className:"font-bold tabular-nums",style:Tt,children:["ATH ",ie.belowATHPct.toFixed(1),"%"]}):ie.athNav>0?l.jsx("span",{className:"text-emerald-400/70 font-semibold text-[10px]",children:"AT HIGH"}):null]}),l.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[l.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),P({invest:{portfolioId:ie.portfolioId,fundCode:ie.schemeCode,fundName:ie.fundName}})},className:"flex items-center gap-1 text-[10px] font-semibold text-emerald-400 hover:text-emerald-300 px-2 py-0.5 rounded bg-emerald-500/10",children:[l.jsx("span",{className:"w-4 h-4 flex items-center justify-center rounded-full bg-emerald-500/20",children:l.jsx(Pr,{size:10,strokeWidth:2.5})})," Buy"]}),l.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),P({redeem:{portfolioId:ie.portfolioId,fundCode:ie.schemeCode}})},className:"flex items-center gap-1 text-[10px] font-semibold text-rose-400 hover:text-rose-300 px-2 py-0.5 rounded bg-rose-500/10",children:[l.jsx("span",{className:"w-4 h-4 flex items-center justify-center rounded-full bg-rose-500/20",children:l.jsx(U0,{size:10,strokeWidth:2.5})})," Sell"]})]})]})]})]}),Be&&!He&&l.jsxs("div",{className:"bg-[var(--bg-inset)] border-l-2 border-l-violet-500/40 px-4 pb-3",children:[l.jsx("div",{className:"flex items-center justify-between py-2",children:l.jsxs("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:["Transactions (",et.length,")"]})}),et.length===0?l.jsx("p",{className:"py-4 text-xs text-[var(--text-dim)] text-center",children:"No transactions recorded"}):l.jsxs("div",{className:"space-y-2",children:[zr.map((Ae,_r)=>{const fi=gr(Ae.date),Ea=Ae.type==="BUY",_a=!Ea&&Ae.gainLoss!=null&&Ae.gainLoss!==0,Oa=_a&&Ae.gainLoss>=0;return l.jsxs("div",{className:"flex items-center justify-between text-xs bg-[var(--bg-card)] rounded-lg px-3 py-2",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("span",{className:"text-[var(--text-secondary)]",children:(pa(Ae.date)||new Date).toLocaleDateString("en-IN",{day:"2-digit",month:"short"})}),l.jsx("span",{className:`text-[10px] font-semibold px-1 py-0.5 rounded ${Ea?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:Ae.transactionType||Ae.type}),l.jsxs("span",{className:"text-[var(--text-dim)]",children:[fi,"d"]})]}),l.jsxs("p",{className:"text-[var(--text-dim)] mt-0.5",children:[Number(Ae.units).toFixed(3)," units @ ",Number(Ae.price).toFixed(2)]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"font-semibold text-[var(--text-primary)] tabular-nums",children:Q(Ae.totalAmount)}),_a&&l.jsxs("p",{className:`font-semibold tabular-nums ${Oa?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Oa?"+":"",Q(Ae.gainLoss)]})]}),l.jsx(Hm,{txn:Ae,isOpen:ve===Ae.transactionId,onToggle:()=>F(ve===Ae.transactionId?null:Ae.transactionId),onEdit:()=>{F(null),P({editTxn:Ae})},onDelete:()=>{F(null),ue(Ae.transactionId)}})]})]},Ae.transactionId||`txn-${_r}`)}),et.length>Pt&&l.jsxs("button",{onClick:()=>je(ie._key),className:"w-full py-1.5 text-xs font-semibold text-violet-400 hover:text-violet-300 text-center",children:["Show More (",et.length-Pt," remaining)"]})]})]})]},ie._key)})})]},Y.portfolioId)})}):l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[l.jsx(ec,{size:28,className:"text-[var(--text-dim)]"}),l.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No holdings",Ye?" in this portfolio":""]}),l.jsx("button",{onClick:()=>P({invest:O!=="all"?O:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Add your first fund"})]})}),R==="transactions"&&l.jsxs(l.Fragment,{children:[be.length>1&&l.jsxs("div",{className:"flex items-center gap-2 px-1",children:[l.jsx(YO,{size:12,className:"text-[var(--text-dim)]"}),l.jsxs("select",{value:z,onChange:Y=>te(Y.target.value),className:"text-xs bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg px-3 py-1.5 max-w-[350px] truncate",children:[l.jsxs("option",{value:"all",children:["All Funds (",qe.length,")"]}),be.map(Y=>l.jsxs("option",{value:Y,children:[Y," (",qe.filter(ce=>ce.fundName===Y).length,")"]},Y))]}),z!=="all"&&l.jsx("button",{onClick:()=>te("all"),className:"text-xs text-[var(--text-dim)] hover:text-[var(--text-muted)] underline",children:"Clear"})]}),Ze.length>0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"hidden sm:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),l.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),l.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Fund"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"NAV"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Gain/Loss"}),l.jsx("th",{className:"w-8"})]})}),l.jsx("tbody",{children:Ze.map((Y,ce)=>{const Ce=Y.type==="BUY",De=!Ce&&Y.gainLoss!=null&&Y.gainLoss!==0,ze=De&&Y.gainLoss>=0,ie=O==="all"?ge.find(He=>He.portfolioId===Y.portfolioId):null,Tt={INITIAL:{bg:"bg-purple-500/15",text:"text-purple-400"},SIP:{bg:"bg-blue-500/15",text:"text-blue-400"},LUMPSUM:{bg:"bg-emerald-500/15",text:"text-emerald-400"},WITHDRAWAL:{bg:"bg-rose-500/15",text:"text-[var(--accent-rose)]"},SWITCH:{bg:"bg-amber-500/15",text:"text-amber-400"}}[Y.transactionType]||{bg:"bg-gray-500/15",text:"text-[var(--text-muted)]"};return l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:Y.date}),l.jsx("td",{className:"py-2.5 px-3",children:l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${Ce?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:Y.type}),l.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${Tt.bg} ${Tt.text}`,children:Y.transactionType})]})}),l.jsxs("td",{className:"py-2.5 px-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-primary)] truncate max-w-[200px]",children:Y.fundName}),ie&&l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:qm(ie.portfolioName)})]}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:Y.units.toFixed(2)}),l.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:["",Y.price.toFixed(2)]}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(Y.totalAmount)}),l.jsx("td",{className:"py-2.5 px-3 text-right",children:De?l.jsxs("span",{className:`text-xs font-semibold tabular-nums ${ze?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ze?"+":"",Q(Y.gainLoss)]}):l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),l.jsx("td",{className:"py-2.5 px-1",children:l.jsx(Hm,{txn:Y,isOpen:ve===Y.transactionId,onToggle:()=>F(ve===Y.transactionId?null:Y.transactionId),onEdit:()=>{F(null),P({editTxn:Y})},onDelete:()=>{F(null),ue(Y.transactionId)}})})]},Y.transactionId||`txn-${ce}`)})})]})}),l.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:Ze.map((Y,ce)=>{const Ce=Y.type==="BUY",De=!Ce&&Y.gainLoss!=null&&Y.gainLoss!==0,ze=De&&Y.gainLoss>=0;return l.jsxs("div",{className:"px-4 py-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${Ce?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:Y.type}),l.jsx("span",{className:"text-xs font-semibold text-[var(--text-dim)]",children:Y.transactionType})]}),l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:Y.date}),l.jsx(Hm,{txn:Y,isOpen:ve===Y.transactionId,onToggle:()=>F(ve===Y.transactionId?null:Y.transactionId),onEdit:()=>{F(null),P({editTxn:Y})},onDelete:()=>{F(null),ue(Y.transactionId)}})]})]}),l.jsx("p",{className:"text-xs text-[var(--text-primary)] truncate mb-1",children:Y.fundName}),l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsxs("p",{className:"text-[var(--text-dim)]",children:[Y.units.toFixed(2)," units @ ",Y.price.toFixed(2)]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(Y.totalAmount)}),De&&l.jsxs("p",{className:`text-xs font-semibold tabular-nums ${ze?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["G/L: ",ze?"+":"",Q(Y.gainLoss)]})]})]}),Y.notes&&l.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:Y.notes})]},Y.transactionId||`txn-m-${ce}`)})})]}):l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[l.jsx(gp,{size:28,className:"text-[var(--text-dim)]"}),l.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:z!=="all"?"No transactions for this fund":"No transactions yet"}),z!=="all"?l.jsx("button",{onClick:()=>te("all"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Show all transactions"}):l.jsx("button",{onClick:()=>P({invest:O!=="all"?O:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Make your first investment"})]})]}),R==="breakdown"&&l.jsx(l.Fragment,{children:Pe.length>0?l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Copy allocation data from ",l.jsx("span",{className:"font-semibold text-[var(--text-muted)]",children:"morningstar.in"}),"  Fund  Portfolio tab"]}),Pe.map(Y=>{const ce=w?.find(Ce=>Ce.fundCode===Y.fundCode);return l.jsx(ale,{fund:Y,existing:ce,onConfigure:()=>P({classifyFund:{fund:Y,existing:ce}})},Y.fundCode)})]}):l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[l.jsx(AC,{size:28,className:"text-[var(--text-dim)]"}),l.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No funds to configure"})]})})]}),l.jsx(hr,{open:T==="addPortfolio"||!!T?.editPortfolio,onClose:()=>P(null),title:T?.editPortfolio?"Edit Portfolio":"New MF Portfolio",children:l.jsx(Jie,{initial:T?.editPortfolio||void 0,onSave:Bt,onDelete:T?.editPortfolio?Ut:void 0,onCancel:()=>P(null)})}),l.jsx(hr,{open:!!T?.invest,onClose:()=>P(null),title:"Invest in Mutual Fund",wide:!0,children:l.jsx(qse,{portfolioId:typeof T?.invest=="object"?T.invest.portfolioId:typeof T?.invest=="string"?T.invest:void 0,fundCode:typeof T?.invest=="object"?T.invest.fundCode:void 0,fundName:typeof T?.invest=="object"?T.invest.fundName:void 0,onSave:St,onCancel:()=>P(null)},T?.invest?.fundCode||T?.invest?.portfolioId||T?.invest)}),l.jsx(hr,{open:!!T?.redeem,onClose:()=>P(null),title:"Redeem Mutual Fund",wide:!0,children:l.jsx(Hse,{portfolioId:typeof T?.redeem=="object"?T.redeem.portfolioId:typeof T?.redeem=="string"?T.redeem:void 0,fundCode:typeof T?.redeem=="object"?T.redeem.fundCode:void 0,onSave:Hn,onCancel:()=>P(null)},T?.redeem?.fundCode||T?.redeem?.portfolioId||T?.redeem)}),l.jsx(hr,{open:!!T?.switchFunds,onClose:()=>P(null),title:"Switch Funds",wide:!0,children:l.jsx(Use,{portfolioId:typeof T?.switchFunds=="string"?T.switchFunds:void 0,onSave:is,onCancel:()=>P(null)})}),l.jsx(hr,{open:!!T?.allocations,onClose:()=>P(null),title:"Manage Portfolio Allocation",wide:!0,children:T?.allocations&&l.jsx(Yse,{portfolioId:T.allocations,onSave:Fe,onCancel:()=>P(null)})}),l.jsx(hr,{open:T==="rebalance",onClose:()=>P(null),title:"Rebalance Portfolios",wide:!0,children:T==="rebalance"&&l.jsx(dI,{})}),l.jsx(hr,{open:T==="buyOpp",onClose:()=>P(null),title:"Buy Opportunities",wide:!0,children:T==="buyOpp"&&l.jsx(C3,{})}),l.jsx(hr,{open:!!T?.editTxn,onClose:()=>P(null),title:"Edit Transaction",children:T?.editTxn&&l.jsx(tle,{txn:T.editTxn,onSave:xe,onCancel:()=>P(null)})}),l.jsx(hr,{open:!!T?.classifyFund,onClose:()=>P(null),title:"Classify Fund",children:T?.classifyFund&&l.jsx(Vse,{fund:T.classifyFund.fund,initial:T.classifyFund.existing,onSave:$t,onCancel:()=>P(null)})})]})}function Vo({label:e,value:t,sub:n,positive:r,bold:a}){return l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),l.jsx("p",{className:`text-sm tabular-nums ${a?"font-bold":"font-semibold"} ${r===void 0?"text-[var(--text-primary)]":r?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:t}),n&&l.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${r?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:n})]})}function Hm({txn:e,isOpen:t,onToggle:n,onEdit:r,onDelete:a}){const s=j.useRef(null),[c,u]=j.useState({top:0,right:0});if(!e.transactionId)return null;function f(m){if(m.stopPropagation(),!t&&s.current){const h=s.current.getBoundingClientRect();u({top:h.bottom+4,right:window.innerWidth-h.right})}n()}return l.jsxs(l.Fragment,{children:[l.jsx("button",{ref:s,onClick:f,className:"p-1 rounded-md text-[var(--text-dim)] hover:text-[var(--text-muted)] hover:bg-[var(--bg-hover)] transition-colors",title:"Actions",children:l.jsx(r8,{size:14})}),t&&Cd.createPortal(l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{position:"fixed",inset:0,zIndex:9998},onClick:m=>{m.stopPropagation(),n()}}),l.jsxs("div",{style:{position:"fixed",top:c.top,right:c.right,zIndex:9999},className:"bg-[var(--bg-dropdown)] border border-white/10 rounded-lg shadow-2xl py-1 min-w-[120px] animate-fade-in",children:[l.jsxs("button",{onClick:m=>{m.stopPropagation(),r()},className:"w-full text-left px-3 py-2 text-xs text-[var(--text-secondary)] hover:bg-[var(--bg-hover)] hover:text-[var(--text-primary)] flex items-center gap-2 transition-colors",children:[l.jsx(ka,{size:12})," Edit"]}),l.jsxs("button",{onClick:m=>{m.stopPropagation(),a()},className:"w-full text-left px-3 py-2 text-xs text-[var(--accent-rose)] hover:bg-rose-500/10 flex items-center gap-2 transition-colors",children:[l.jsx(Mh,{size:12})," Delete"]})]})]}),document.body)]})}function tle({txn:e,onSave:t,onCancel:n}){const[r,a]=j.useState(()=>{const w=pa(e.date);return w?w.toISOString().split("T")[0]:""}),[s,c]=j.useState(String(e.units||"")),[u,f]=j.useState(String(e.price||"")),[m,h]=j.useState(e.notes||""),[v,x]=j.useState(!1),b=(Number(s)||0)*(Number(u)||0);async function S(){if(!(!s||Number(s)<=0)&&!(!u||Number(u)<=0)){x(!0);try{await t({transactionId:e.transactionId,date:r,units:s,price:u,notes:m})}finally{x(!1)}}}return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:e.fundName}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[e.type,"  ",e.transactionType,"  ",e.transactionId]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Date"}),l.jsx(ni,{value:r,onChange:a})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Units"}),l.jsx("input",{type:"number",value:s,onChange:w=>c(w.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"NAV (price)"}),l.jsx("input",{type:"number",value:u,onChange:w=>f(w.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]})]}),b>0&&l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(b)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Notes"}),l.jsx("input",{type:"text",value:m,onChange:w=>h(w.target.value),placeholder:"Optional notes...",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),l.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-[var(--border-light)]",children:[l.jsx("button",{onClick:n,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:"Cancel"}),l.jsx("button",{onClick:S,disabled:v||!s||Number(s)<=0||!u||Number(u)<=0,className:"px-4 py-2 text-xs font-bold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Saving...":"Update Transaction"})]})]})}const k_=[{key:"Equity",bg:"bg-violet-500"},{key:"Debt",bg:"bg-sky-500"},{key:"Cash",bg:"bg-teal-400"},{key:"Commodities",bg:"bg-yellow-500"},{key:"Real Estate",bg:"bg-orange-500"},{key:"Other",bg:"bg-slate-400"}],rle={Giant:"G",Large:"L",Mid:"M",Small:"S",Micro:"Mi"},nle={India:"IN",Global:"GL"};function ale({fund:e,existing:t,onConfigure:n}){const r=t?.assetAllocation&&Object.keys(t.assetAllocation).length>0,a=t?.equityAllocation&&Object.keys(t.equityAllocation).length>0,s=t?.geoAllocation&&Object.keys(t.geoAllocation).length>0;return l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5",children:[l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate",children:e.fundName}),l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] tabular-nums mt-0.5",children:e.fundCode})]}),l.jsx("button",{onClick:n,className:"p-1.5 rounded-lg text-[var(--text-dim)] hover:text-violet-400 hover:bg-violet-500/10 transition-colors shrink-0 ml-3",title:"Classify fund",children:l.jsx(tT,{size:14})})]}),r?l.jsxs("div",{className:"px-4 pb-3",children:[l.jsx("div",{className:"h-2 rounded-full overflow-hidden bg-[var(--bg-inset)] flex mb-1.5",children:k_.map(({key:c,bg:u})=>{const f=t.assetAllocation[c]||0;return f>0?l.jsx("div",{className:`h-full ${u}`,style:{width:`${f}%`}},c):null})}),l.jsxs("div",{className:"flex flex-wrap gap-x-3 gap-y-0.5",children:[k_.map(({key:c,bg:u})=>{const f=t.assetAllocation[c]||0;return f>0?l.jsxs("span",{className:"flex items-center gap-1 text-[11px] text-[var(--text-muted)] tabular-nums",children:[l.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${u}`}),f,"% ",c]},c):null}),a&&l.jsxs("span",{className:"text-[11px] text-[var(--text-dim)] tabular-nums ml-1",children:["| ",Object.entries(rle).map(([c,u])=>{const f=t.equityAllocation[c]||0;return f>0?`${u}${f}`:""}).filter(Boolean).join(" ")]}),s&&l.jsxs("span",{className:"text-[11px] text-[var(--text-dim)] tabular-nums ml-1",children:["| ",Object.entries(nle).map(([c,u])=>{const f=t.geoAllocation[c]||0;return f>0?`${u}${f}`:""}).filter(Boolean).join(" ")]})]})]}):l.jsxs("div",{className:"px-4 pb-3",children:[l.jsx("div",{className:"h-2 rounded-full bg-[var(--bg-inset)] mb-1"}),l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] italic",children:"Not configured  click  to classify"})]})]})}function Hb({title:e,data:t,bgMap:n}){return l.jsxs("div",{className:"rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)] p-3",children:[l.jsx("p",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider mb-2 text-center",children:e}),l.jsx("div",{className:"w-full h-[120px]",children:l.jsx(A5,{width:"100%",height:"100%",children:l.jsxs(N3,{children:[l.jsx(Zw,{data:t,dataKey:"pct",nameKey:"name",cx:"50%",cy:"50%",innerRadius:30,outerRadius:48,paddingAngle:2,stroke:"none",children:t.map((r,a)=>l.jsx(Vd,{fill:r.fill},a))}),l.jsx(H4,{content:({payload:r})=>{if(!r?.length)return null;const a=r[0].payload;return l.jsxs("div",{className:"bg-[var(--bg-dropdown)] border border-white/10 rounded-lg px-2.5 py-1.5 shadow-xl",children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:a.name}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:[a.pct.toFixed(1),"%"]})]})}})]})})}),l.jsx("div",{className:"flex flex-wrap justify-center gap-x-3 gap-y-0.5 mt-1",children:t.map(r=>l.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-[var(--text-muted)] tabular-nums",children:[l.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${n[r.name]||"bg-slate-500"}`}),r.name," ",r.pct.toFixed(0),"%"]},r.name))})]})}function ile({initial:e,onSave:t,onDelete:n,onCancel:r}){const{activeMembers:a,activeInvestmentAccounts:s}=pt(),c=!!e,[u,f]=j.useState({portfolioName:e?.portfolioName||"",ownerId:e?.ownerId||"",investmentAccountId:e?.investmentAccountId||""}),[m,h]=j.useState({}),[v,x]=j.useState(!1);function b(A,_){f(E=>({...E,[A]:_})),h(E=>({...E,[A]:void 0}))}function S(A){f(_=>({..._,ownerId:A,investmentAccountId:""})),h(_=>({..._,ownerId:void 0}))}const w=j.useMemo(()=>u.ownerId?s.filter(A=>A.memberId===u.ownerId&&(A.accountType==="Demat + Trading"||A.accountType==="Trading")).map(A=>({value:A.accountId,label:`${A.accountName} - ${A.platformBroker}`})):[],[s,u.ownerId]);function y(){const A={};return u.portfolioName.trim()||(A.portfolioName="Required"),u.ownerId||(A.ownerId="Required"),u.investmentAccountId||(A.investmentAccountId="Required"),h(A),Object.keys(A).length===0}async function C(){if(y()){x(!0);try{await t(u)}finally{x(!1)}}}const M=a.map(A=>({value:A.memberId,label:`${A.memberName} (${A.relationship})`}));return l.jsxs("div",{className:"space-y-4",children:[l.jsx(le,{label:"Portfolio Name",required:!0,error:m.portfolioName,children:l.jsx(ke,{value:u.portfolioName,onChange:A=>b("portfolioName",A),placeholder:"e.g., Long-Term Growth"})}),l.jsx(le,{label:"Owner",required:!0,error:m.ownerId,children:l.jsx(Ke,{value:u.ownerId,onChange:S,options:M,placeholder:"Select family member..."})}),l.jsx(le,{label:"Investment Account",required:!0,error:m.investmentAccountId,children:l.jsx(Ke,{value:u.investmentAccountId,onChange:A=>b("investmentAccountId",A),options:w,placeholder:u.ownerId?w.length?"Select demat account...":"No demat accounts for this member":"Select owner first..."})}),c&&n&&l.jsx(ns,{onClick:n}),l.jsx(an,{onCancel:r,onSubmit:C,submitLabel:c?"Update":"Create Portfolio",loading:v})]})}function sle({portfolioId:e,onSave:t,onCancel:n}){const{stockPortfolios:r}=pt(),{selectedMember:a}=Yr(),s=j.useMemo(()=>{const M=r.filter(A=>A.status==="Active");return a==="all"?M:M.filter(A=>A.ownerId===a)},[r,a]),[c,u]=j.useState({portfolioId:e||"",symbol:"",companyName:"",exchange:"NSE",date:new Date().toISOString().split("T")[0],quantity:"",pricePerShare:"",brokerage:"0",notes:""}),[f,m]=j.useState({}),[h,v]=j.useState(!1);function x(M,A){u(_=>({..._,[M]:A})),m(_=>({..._,[M]:void 0}))}const b=j.useMemo(()=>{const M=Number(c.quantity)||0,A=Number(c.pricePerShare)||0;return M*A},[c.quantity,c.pricePerShare]),S=j.useMemo(()=>b+(Number(c.brokerage)||0),[b,c.brokerage]);function w(){const M={};return c.portfolioId||(M.portfolioId="Required"),c.symbol.trim()||(M.symbol="Required"),c.companyName.trim()||(M.companyName="Required"),c.date||(M.date="Required"),(!c.quantity||Number(c.quantity)<=0)&&(M.quantity="Must be > 0"),(!c.pricePerShare||Number(c.pricePerShare)<=0)&&(M.pricePerShare="Must be > 0"),m(M),Object.keys(M).length===0}async function y(){if(w()){v(!0);try{await t(c)}finally{v(!1)}}}const C=s.map(M=>{const A=M.portfolioName?.replace(/^PFL-/,"")||M.portfolioName,_=M.ownerName?`${A} (${M.ownerName})`:A;return{value:M.portfolioId,label:_}});return l.jsxs("div",{className:"space-y-4",children:[l.jsx(le,{label:"Portfolio",required:!0,error:f.portfolioId,children:l.jsx(Ke,{value:c.portfolioId,onChange:M=>x("portfolioId",M),options:C,placeholder:"Select portfolio..."})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(le,{label:"Stock Symbol",required:!0,error:f.symbol,children:l.jsx(ke,{value:c.symbol,onChange:M=>x("symbol",M.toUpperCase()),placeholder:"e.g., RELIANCE"})}),l.jsx(le,{label:"Company Name",required:!0,error:f.companyName,children:l.jsx(ke,{value:c.companyName,onChange:M=>x("companyName",M),placeholder:"e.g., Reliance Industries Ltd"})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsx(le,{label:"Purchase Date",required:!0,error:f.date,children:l.jsx(ni,{value:c.date,onChange:M=>x("date",M)})}),l.jsx(le,{label:"Quantity (Shares)",required:!0,error:f.quantity,children:l.jsx(ke,{type:"number",value:c.quantity,onChange:M=>x("quantity",M),placeholder:"e.g., 100"})}),l.jsx(le,{label:"Price per Share ()",required:!0,error:f.pricePerShare,children:l.jsx(ke,{type:"number",value:c.pricePerShare,onChange:M=>x("pricePerShare",M),placeholder:"e.g., 2500"})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(le,{label:"Brokerage ()",children:l.jsx(ke,{type:"number",value:c.brokerage,onChange:M=>x("brokerage",M),placeholder:"0"})}),l.jsx("div",{className:"flex flex-col justify-end",children:l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(b)}),Number(c.brokerage)>0&&l.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:["Net: ",Q(S)]})]})})]}),l.jsx(le,{label:"Notes",children:l.jsx(ke,{value:c.notes,onChange:M=>x("notes",M),placeholder:"Optional notes..."})}),l.jsx(an,{onCancel:n,onSubmit:y,submitLabel:"Buy Stock",loading:h})]})}function lle({portfolioId:e,onSave:t,onCancel:n}){const{stockPortfolios:r,stockHoldings:a}=pt(),{selectedMember:s}=Yr(),c=j.useMemo(()=>{const L=r.filter(R=>R.status==="Active");return s==="all"?L:L.filter(R=>R.ownerId===s)},[r,s]),[u,f]=j.useState({portfolioId:e||"",symbol:"",companyName:"",date:new Date().toISOString().split("T")[0],quantity:"",pricePerShare:"",brokerage:"0",notes:""}),[m,h]=j.useState({}),[v,x]=j.useState(!1);function b(L,R){f(B=>({...B,[L]:R})),h(B=>({...B,[L]:void 0}))}const S=j.useMemo(()=>u.portfolioId?a.filter(L=>L.portfolioId===u.portfolioId&&L.quantity>0):[],[a,u.portfolioId]),w=S.find(L=>L.symbol===u.symbol),y=w?.quantity||0,C=j.useMemo(()=>{const L=Number(u.quantity)||0,R=Number(u.pricePerShare)||0;return L*R},[u.quantity,u.pricePerShare]),M=j.useMemo(()=>C-(Number(u.brokerage)||0),[C,u.brokerage]);function A(L){const R=S.find(B=>B.symbol===L);f(B=>({...B,symbol:L,companyName:R?.companyName||""})),h(B=>({...B,symbol:void 0}))}function _(L){f(R=>({...R,portfolioId:L,symbol:"",companyName:"",quantity:""})),h(R=>({...R,portfolioId:void 0}))}function E(){const L={};return u.portfolioId||(L.portfolioId="Required"),u.symbol||(L.symbol="Required"),u.date||(L.date="Required"),(!u.quantity||Number(u.quantity)<=0)&&(L.quantity="Must be > 0"),Number(u.quantity)>y&&(L.quantity=`Max ${y} shares`),(!u.pricePerShare||Number(u.pricePerShare)<=0)&&(L.pricePerShare="Must be > 0"),h(L),Object.keys(L).length===0}async function T(){if(E()){x(!0);try{await t(u)}finally{x(!1)}}}const P=c.map(L=>{const R=L.portfolioName?.replace(/^PFL-/,"")||L.portfolioName,B=L.ownerName?`${R} (${L.ownerName})`:R;return{value:L.portfolioId,label:B}}),O=S.map(L=>({value:L.symbol,label:`${L.symbol}  ${L.quantity} shares`}));return l.jsxs("div",{className:"space-y-4",children:[l.jsx(le,{label:"Portfolio",required:!0,error:m.portfolioId,children:l.jsx(Ke,{value:u.portfolioId,onChange:_,options:P,placeholder:"Select portfolio..."})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(le,{label:"Stock to Sell",required:!0,error:m.symbol,children:l.jsx(Ke,{value:u.symbol,onChange:A,options:O,placeholder:u.portfolioId?S.length?"Select stock...":"No holdings in this portfolio":"Select portfolio first..."})}),w&&l.jsx("div",{className:"flex flex-col justify-end",children:l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:w.companyName}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",l.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:y})," shares @ ",Q(w.avgBuyPrice)," avg"]})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(le,{label:"Sale Date",required:!0,error:m.date,children:l.jsx(ni,{value:u.date,onChange:L=>b("date",L)})}),l.jsx(le,{label:"Quantity to Sell",required:!0,error:m.quantity,children:l.jsx(ke,{type:"number",value:u.quantity,onChange:L=>b("quantity",L),placeholder:y?`Max: ${y}`:""})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(le,{label:"Sale Price per Share ()",required:!0,error:m.pricePerShare,children:l.jsx(ke,{type:"number",value:u.pricePerShare,onChange:L=>b("pricePerShare",L),placeholder:"e.g., 2750"})}),l.jsx(le,{label:"Brokerage ()",children:l.jsx(ke,{type:"number",value:u.brokerage,onChange:L=>b("brokerage",L),placeholder:"0"})})]}),C>0&&l.jsx("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Net Sale Amount"}),l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(M)})]}),w&&l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. P&L"}),(()=>{const L=Number(u.quantity)*w.avgBuyPrice,R=M-L,B=R>=0;return l.jsxs("p",{className:`text-sm font-bold tabular-nums ${B?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[B?"+":"",Q(R)]})})()]})]})}),l.jsx(le,{label:"Notes",children:l.jsx(ke,{value:u.notes,onChange:L=>b("notes",L),placeholder:"Optional notes..."})}),l.jsx(an,{onCancel:n,onSubmit:T,submitLabel:"Sell Stock",loading:v})]})}function ole(){const{selectedMember:e}=Yr(),{stockPortfolios:t,stockHoldings:n,stockTransactions:r,activeInvestmentAccounts:a,addStockPortfolio:s,updateStockPortfolio:c,deleteStockPortfolio:u,buyStock:f,sellStock:m}=pt(),{showToast:h,showBlockUI:v,hideBlockUI:x}=li(),b=oi(),{mv:S}=ci(),[w,y]=j.useState(null),[C,M]=j.useState("all"),[A,_]=j.useState("holdings"),[E,T]=j.useState(!1),P=j.useMemo(()=>{if(!t)return[];const z=t.filter(te=>te.status!=="Inactive");return e==="all"?z:z.filter(te=>te.ownerId===e)},[t,e]),O=j.useMemo(()=>n?P.map(z=>{const te=n.filter(ge=>ge.portfolioId===z.portfolioId),ve=(r||[]).filter(ge=>ge.portfolioId===z.portfolioId),F=te.reduce((ge,K)=>ge+K.totalInvestment,0),ae=te.reduce((ge,K)=>ge+K.currentValue,0),he=ae-F,ye=ve.filter(ge=>ge.type==="SELL"&&ge.realizedPL!=null).reduce((ge,K)=>ge+K.realizedPL,0),je=he+ye,Ie=F>0?je/F*100:0,me=a.find(ge=>ge.accountId===z.investmentAccountId);return{...z,holdings:te,txns:ve,invested:F,current:ae,unrealizedPL:he,realizedPL:ye,totalPL:je,totalPLPct:Ie,stockCount:te.length,platform:me?.platformBroker||z.investmentAccountName||"",clientId:me?.accountClientId||""}}):[],[P,n,r,a]),L=j.useMemo(()=>{const z=C==="all"?O:O.filter(me=>me.portfolioId===C),te=z.reduce((me,ge)=>me+ge.invested,0),ve=z.reduce((me,ge)=>me+ge.current,0),F=z.reduce((me,ge)=>me+ge.unrealizedPL,0),ae=z.reduce((me,ge)=>me+ge.realizedPL,0),he=F+ae,ye=te>0?he/te*100:0,je=te>0?F/te*100:0,Ie=z.reduce((me,ge)=>me+ge.stockCount,0);return{invested:te,current:ve,unrealizedPL:F,unrealizedPLPct:je,realizedPL:ae,totalPL:he,totalPLPct:ye,stocks:Ie}},[O,C]),R=j.useMemo(()=>n?C==="all"?n.filter(z=>P.some(te=>te.portfolioId===z.portfolioId)):n.filter(z=>z.portfolioId===C):[],[n,P,C]),B=j.useMemo(()=>r?(C==="all"?r.filter(te=>P.some(ve=>ve.portfolioId===te.portfolioId)):r.filter(te=>te.portfolioId===C)).sort((te,ve)=>new Date(ve.date)-new Date(te.date)):[],[r,P,C]);if(t===null||n===null)return l.jsx(as,{title:"Loading stocks",cards:5});const D=O.find(z=>z.portfolioId===C),W=C==="all"?`All Portfolios (${P.length})`:`${D?.portfolioName}  ${S(D?.ownerName,"name")}`;async function X(z){v("Saving...");try{w?.editPortfolio?await c(w.editPortfolio.portfolioId,z):await s(z),h(w?.editPortfolio?"Portfolio updated":"Portfolio created"),y(null)}catch(te){h(te.message||"Failed to save portfolio","error")}finally{x()}}async function Z(){if(w?.editPortfolio&&await b("Deactivate this portfolio?",{title:"Deactivate Portfolio",confirmLabel:"Deactivate"})){v("Deactivating...");try{await u(w.editPortfolio.portfolioId),h("Portfolio deactivated"),M("all"),y(null)}catch(z){h(z.message||"Failed to deactivate portfolio","error")}finally{x()}}}async function $(z){v("Recording purchase...");try{await f(z),h("Stock purchase recorded"),y(null)}catch(te){h(te.message||"Failed to record purchase","error")}finally{x()}}async function G(z){v("Recording sale...");try{await m(z),h("Stock sale recorded"),y(null)}catch(te){h(te.message||"Failed to record sale","error")}finally{x()}}return l.jsxs("div",{className:"space-y-4",children:[P.length===0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[l.jsx(ed,{size:32,className:"text-[var(--text-dim)]"}),l.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No stock portfolios yet"}),l.jsx("button",{onClick:()=>y("addPortfolio"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first portfolio"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>T(!E),className:"flex items-center gap-2 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm font-semibold text-[var(--text-primary)] hover:border-[var(--border-light)] transition-colors min-w-[220px]",children:[l.jsx(ed,{size:14,className:"text-violet-400 shrink-0"}),l.jsx("span",{className:"truncate",children:W}),l.jsx(Ga,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${E?"rotate-180":""}`})]}),E&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>T(!1)}),l.jsxs("div",{className:"absolute left-0 top-full mt-1 z-40 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl min-w-[280px] py-1 overflow-hidden",children:[l.jsxs("button",{onClick:()=>{M("all"),T(!1),_("holdings")},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${C==="all"?"bg-[var(--sidebar-active-bg)] text-[var(--text-primary)] font-semibold":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:["All Portfolios (",P.length,")"]}),l.jsx("div",{className:"border-t border-[var(--border-light)]"}),O.map(z=>{const te=z.totalPL>=0;return l.jsx("button",{onClick:()=>{M(z.portfolioId),T(!1),_("holdings")},className:`w-full text-left px-4 py-2.5 transition-colors ${C===z.portfolioId?"bg-[var(--sidebar-active-bg)]":"hover:bg-[var(--bg-hover)]"}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:`text-sm ${C===z.portfolioId?"font-semibold text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:z.portfolioName}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[S(z.ownerName,"name"),"  ",z.platform]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(z.current)}),l.jsxs("p",{className:`text-xs font-semibold tabular-nums ${te?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[te?"+":"",z.totalPLPct.toFixed(1),"%"]})]})]})},z.portfolioId)})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[D&&l.jsxs("button",{onClick:()=>y({editPortfolio:D}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(ka,{size:12})," Edit"]}),l.jsxs("button",{onClick:()=>y("addPortfolio"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(Pr,{size:14})," New Portfolio"]})]})]}),D&&l.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-dim)] px-1",children:[l.jsxs("span",{children:[l.jsx("span",{className:"font-semibold",children:"Platform:"})," ",D.platform]}),l.jsxs("span",{children:[l.jsx("span",{className:"font-semibold",children:"Client ID:"})," ",S(D.clientId,"clientId")]}),l.jsxs("span",{children:[l.jsx("span",{className:"font-semibold",children:"Stocks:"})," ",D.stockCount]})]}),l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[l.jsx(Wu,{label:"Invested",value:Q(L.invested)}),l.jsx(Wu,{label:"Current Value",value:Q(L.current),bold:!0}),l.jsx(Wu,{label:"Unrealized P&L",value:`${L.unrealizedPL>=0?"+":""}${Q(L.unrealizedPL)}`,sub:`${L.unrealizedPLPct>=0?"+":""}${L.unrealizedPLPct.toFixed(1)}%`,positive:L.unrealizedPL>=0}),l.jsx(Wu,{label:"Realized P&L",value:`${L.realizedPL>=0?"+":""}${Q(L.realizedPL)}`,positive:L.realizedPL>=0}),l.jsx(Wu,{label:"Total P&L",value:`${L.totalPL>=0?"+":""}${Q(L.totalPL)}`,sub:`${L.totalPLPct>=0?"+":""}${L.totalPLPct.toFixed(1)}%`,positive:L.totalPL>=0,bold:!0})]}),l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[l.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5",children:[l.jsxs("button",{onClick:()=>_("holdings"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${A==="holdings"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[l.jsx(GO,{size:12})," Holdings (",R.length,")"]}),l.jsxs("button",{onClick:()=>_("transactions"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${A==="transactions"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[l.jsx(gp,{size:12})," Transactions (",B.length,")"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>C!=="all"&&y({buy:C}),disabled:C==="all",className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${C==="all"?"bg-emerald-600/40 text-white/50 cursor-not-allowed":"text-white bg-emerald-600 hover:bg-emerald-500"}`,title:C==="all"?"Select a portfolio first":"",children:[l.jsx(sc,{size:14})," Buy"]}),l.jsxs("button",{onClick:()=>C!=="all"&&R.length>0&&y({sell:C}),disabled:C==="all"||R.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${C==="all"||R.length===0?"bg-rose-600/40 text-white/50 cursor-not-allowed":"text-white bg-rose-600 hover:bg-rose-500"}`,title:C==="all"?"Select a portfolio first":"",children:[l.jsx(kh,{size:14})," Sell"]})]})]}),A==="holdings"&&l.jsx(l.Fragment,{children:R.length>0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"hidden sm:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsx("th",{className:"text-left py-2 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Stock"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Qty"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Avg Price"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current Price"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Invested"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current Value"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Returns"})]})}),l.jsxs("tbody",{children:[R.map(z=>{const te=z.unrealizedPL>=0,ve=C==="all"?O.find(F=>F.portfolioId===z.portfolioId):null;return l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[l.jsxs("td",{className:"py-2.5 px-4",children:[l.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:z.companyName}),l.jsxs("p",{className:"text-xs font-mono text-[var(--text-dim)]",children:[z.symbol,ve&&l.jsxs("span",{className:"ml-1.5 text-[var(--text-dim)] font-sans",children:[" ",ve.portfolioName]})]})]}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:z.quantity}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:Q(z.avgBuyPrice)}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(z.currentPrice)}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:Q(z.totalInvestment)}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(z.currentValue)}),l.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-semibold tabular-nums ${te?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[te?"+":"",Q(z.unrealizedPL)]}),l.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-bold tabular-nums ${te?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[te?"+":"",z.unrealizedPLPct.toFixed(1),"%"]})]},z.holdingId)}),l.jsxs("tr",{className:"bg-[var(--bg-inset)] border-t-2 border-[var(--border-light)]",children:[l.jsxs("td",{className:"py-2.5 px-4 text-xs font-semibold text-[var(--text-muted)]",children:["Total (",R.length," stocks)"]}),l.jsx("td",{colSpan:3,className:"py-2.5 px-3"}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(L.invested)}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(L.current)}),l.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-semibold tabular-nums ${L.unrealizedPL>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[L.unrealizedPL>=0?"+":"",Q(L.unrealizedPL)]}),l.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-bold tabular-nums ${L.unrealizedPL>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[L.unrealizedPLPct>=0?"+":"",L.unrealizedPLPct.toFixed(1),"%"]})]})]})]})}),l.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:R.map(z=>{const te=z.unrealizedPL>=0,ve=C==="all"?O.find(F=>F.portfolioId===z.portfolioId):null;return l.jsxs("div",{className:"px-4 py-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:z.companyName}),l.jsxs("p",{className:"text-xs font-mono text-[var(--text-dim)]",children:[z.symbol,ve&&l.jsxs("span",{className:"ml-1 font-sans",children:[" ",ve.portfolioName]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:`text-xs font-bold tabular-nums ${te?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[te?"+":"",z.unrealizedPLPct.toFixed(1),"%"]}),l.jsxs("p",{className:`text-xs font-semibold tabular-nums ${te?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[te?"+":"",Q(z.unrealizedPL)]})]})]}),l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsxs("div",{className:"text-[var(--text-dim)]",children:[l.jsxs("span",{children:[z.quantity," shares"]}),l.jsx("span",{className:"mx-1",children:""}),l.jsxs("span",{children:["Avg ",Q(z.avgBuyPrice)]}),l.jsx("span",{className:"mx-1",children:""}),l.jsxs("span",{children:["CMP ",Q(z.currentPrice)]})]}),l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(z.currentValue)})]})]},z.holdingId)})})]}):l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[l.jsx(ed,{size:28,className:"text-[var(--text-dim)]"}),l.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No holdings",D?" in this portfolio":""]}),l.jsx("button",{onClick:()=>y({buy:C!=="all"?C:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Buy your first stock"})]})}),A==="transactions"&&l.jsx(l.Fragment,{children:B.length>0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"hidden sm:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsx("th",{className:"text-left py-2 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),l.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),l.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Stock"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Qty"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Price"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Brokerage"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Net"}),l.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Realized P&L"})]})}),l.jsx("tbody",{children:B.map(z=>{const te=z.type==="BUY",ve=!te&&z.realizedPL!=null,F=ve&&z.realizedPL>=0,ae=C==="all"?O.find(he=>he.portfolioId===z.portfolioId):null;return l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[l.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-secondary)]",children:z.date}),l.jsx("td",{className:"py-2.5 px-3",children:l.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${te?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:z.type})}),l.jsxs("td",{className:"py-2.5 px-3",children:[l.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:z.symbol}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)] truncate max-w-[140px]",children:[z.companyName,ae&&l.jsxs("span",{children:["  ",ae.portfolioName]})]})]}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:z.quantity}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:Q(z.pricePerShare)}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:Q(z.totalAmount)}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-dim)] tabular-nums",children:z.brokerage>0?Q(z.brokerage):""}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(z.netAmount)}),l.jsx("td",{className:"py-2.5 px-3 text-right",children:ve?l.jsxs("span",{className:`text-xs font-semibold tabular-nums ${F?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[F?"+":"",Q(z.realizedPL)]}):l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})]},z.transactionId)})})]})}),l.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:B.map(z=>{const te=z.type==="BUY",ve=!te&&z.realizedPL!=null,F=ve&&z.realizedPL>=0;return l.jsxs("div",{className:"px-4 py-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${te?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:z.type}),l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:z.symbol})]}),l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:z.date})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[z.quantity," shares @ ",Q(z.pricePerShare)]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(z.netAmount)}),ve&&l.jsxs("p",{className:`text-xs font-semibold tabular-nums ${F?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["P&L: ",F?"+":"",Q(z.realizedPL)]})]})]}),z.notes&&l.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:z.notes})]},z.transactionId)})})]}):l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[l.jsx(gp,{size:28,className:"text-[var(--text-dim)]"}),l.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions yet"}),l.jsx("button",{onClick:()=>y({buy:C!=="all"?C:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Make your first purchase"})]})})]}),l.jsx(hr,{open:w==="addPortfolio"||!!w?.editPortfolio,onClose:()=>y(null),title:w?.editPortfolio?"Edit Portfolio":"New Stock Portfolio",children:l.jsx(ile,{initial:w?.editPortfolio||void 0,onSave:X,onDelete:w?.editPortfolio?Z:void 0,onCancel:()=>y(null)})}),l.jsx(hr,{open:!!w?.buy,onClose:()=>y(null),title:"Buy Stock",wide:!0,children:l.jsx(sle,{portfolioId:typeof w?.buy=="string"?w.buy:void 0,onSave:$,onCancel:()=>y(null)})}),l.jsx(hr,{open:!!w?.sell,onClose:()=>y(null),title:"Sell Stock",wide:!0,children:l.jsx(lle,{portfolioId:typeof w?.sell=="string"?w.sell:void 0,onSave:G,onCancel:()=>y(null)})})]})}function Wu({label:e,value:t,sub:n,positive:r,bold:a}){return l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),l.jsx("p",{className:`text-sm tabular-nums ${a?"font-bold":"font-semibold"} ${r===void 0?"text-[var(--text-primary)]":r?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:t}),n&&l.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${r?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:n})]})}const cle=["Self","Spouse","Father","Mother","Son","Daughter","Brother","Sister","Other"].map(e=>({value:e,label:e})),Um={pan:/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/,aadhar:/^\d{12}$/,email:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,mobile:/^\d{10}$/};function ule({initial:e,onSave:t,onDelete:n,onCancel:r}){const a=!!e,[s,c]=j.useState({memberName:e?.memberName||"",relationship:e?.relationship||"",pan:e?.pan||"",aadhar:e?.aadhar||"",email:e?.email||"",mobile:e?.mobile||"",includeInEmailReports:e?.includeInEmailReports??!0,status:e?.status||"Active"}),[u,f]=j.useState({}),[m,h]=j.useState(!1),[v,x]=j.useState(()=>{const A=e?.dynamicFields||{};return Object.entries(A).map(([_,E])=>({key:_,value:E}))});function b(A,_){c(E=>({...E,[A]:_})),f(E=>({...E,[A]:void 0}))}function S(){const A={};return s.memberName.trim()||(A.memberName="Required"),s.relationship||(A.relationship="Required"),Um.pan.test(s.pan.toUpperCase())||(A.pan="Format: ABCDE1234F"),Um.aadhar.test(s.aadhar)||(A.aadhar="12 digits required"),Um.email.test(s.email)||(A.email="Invalid email"),Um.mobile.test(s.mobile)||(A.mobile="10 digits required"),f(A),Object.keys(A).length===0}function w(){x(A=>[...A,{key:"",value:""}])}function y(A,_,E){x(T=>T.map((P,O)=>O===A?{...P,[_]:E}:P))}function C(A){x(_=>_.filter((E,T)=>T!==A))}async function M(){if(!S())return;const A={};v.forEach(({key:_,value:E})=>{const T=_.trim();T&&(A[T]=E)}),h(!0);try{await t({...s,pan:s.pan.toUpperCase(),dynamicFields:A})}finally{h(!1)}}return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(le,{label:"Member Name",required:!0,error:u.memberName,children:l.jsx(ke,{value:s.memberName,onChange:A=>b("memberName",A),placeholder:"e.g., Jagadeesh"})}),l.jsx(le,{label:"Relationship",required:!0,error:u.relationship,children:l.jsx(Ke,{value:s.relationship,onChange:A=>b("relationship",A),options:cle,placeholder:"Select..."})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(le,{label:"PAN",required:!0,error:u.pan,children:l.jsx(ke,{sensitive:!0,value:s.pan,onChange:A=>b("pan",A.toUpperCase()),placeholder:"ABCDE1234F",maxLength:10})}),l.jsx(le,{label:"Aadhar",required:!0,error:u.aadhar,children:l.jsx(ke,{sensitive:!0,value:s.aadhar,onChange:A=>b("aadhar",A.replace(/\D/g,"")),placeholder:"123456789012",maxLength:12})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(le,{label:"Email",required:!0,error:u.email,children:l.jsx(ke,{sensitive:!0,type:"email",value:s.email,onChange:A=>b("email",A),placeholder:"email@example.com"})}),l.jsx(le,{label:"Mobile",required:!0,error:u.mobile,children:l.jsx(ke,{sensitive:!0,value:s.mobile,onChange:A=>b("mobile",A.replace(/\D/g,"")),placeholder:"9876543210",maxLength:10})})]}),l.jsx(fie,{checked:s.includeInEmailReports,onChange:A=>b("includeInEmailReports",A),label:"Include in email reports"}),a&&l.jsx(le,{label:"Status",children:l.jsx(Ke,{value:s.status,onChange:A=>b("status",A),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)]",children:"Custom Fields"}),l.jsxs("button",{onClick:w,type:"button",className:"flex items-center gap-1 text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[l.jsx(Pr,{size:12})," Add Field"]})]}),v.length===0&&l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"No custom fields. Add DOB, occupation, blood group, etc."}),l.jsx("div",{className:"space-y-2",children:v.map((A,_)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{value:A.key,onChange:E=>y(_,"key",E.target.value),placeholder:"Field name",className:"flex-1 px-2.5 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] transition-colors"}),l.jsx("input",{value:A.value,onChange:E=>y(_,"value",E.target.value),placeholder:"Value",className:"flex-1 px-2.5 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] transition-colors"}),l.jsx("button",{onClick:()=>C(_),type:"button",className:"p-1 text-[var(--text-dim)] hover:text-rose-400 transition-colors",children:l.jsx(Mh,{size:13})})]},_))})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[a&&n?l.jsx(ns,{onClick:n}):l.jsx("div",{}),l.jsx(an,{onCancel:r,onSubmit:M,submitLabel:a?"Update":"Add Member",loading:m})]})]})}const Ym=["from-violet-500 to-indigo-500","from-rose-500 to-pink-500","from-blue-500 to-cyan-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],D_={Self:"bg-violet-500/15 text-[var(--accent-violet)]",Spouse:"bg-rose-500/15 text-[var(--accent-rose)]",Father:"bg-blue-500/15 text-[var(--accent-blue)]",Mother:"bg-amber-500/15 text-[var(--accent-amber)]",Son:"bg-emerald-500/15 text-emerald-400",Daughter:"bg-emerald-500/15 text-emerald-400"};function dle(){const{members:e,addMember:t,updateMember:n,deleteMember:r}=pt(),{showToast:a,showBlockUI:s,hideBlockUI:c}=li(),u=oi(),{mv:f}=ci(),[m,h]=j.useState(null);if(e===null)return l.jsx(as,{title:"Loading family",cards:3});const v=e.filter(S=>S.status!=="Inactive");async function x(S){s("Saving member...");try{m?.edit?await n(m.edit.memberId,S):await t(S),a(m?.edit?"Member updated":"Member added"),h(null)}catch(w){a(w.message||"Failed to save member","error")}finally{c()}}async function b(){if(m?.edit&&await u("Deactivate this family member?",{title:"Deactivate Member",confirmLabel:"Deactivate"})){s("Deactivating...");try{await r(m.edit.memberId),a("Member deactivated"),h(null)}catch(S){a(S.message||"Failed to deactivate member","error")}finally{c()}}}return[...new Set(v.flatMap(S=>Object.keys(S.dynamicFields||{})))],l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex items-center justify-end px-1",children:l.jsxs("button",{onClick:()=>h("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(Pr,{size:14})," Add Member"]})}),v.length===0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[l.jsx(lc,{size:32,className:"text-[var(--text-dim)]"}),l.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No family members yet"}),l.jsx("button",{onClick:()=>h("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first member"})]}):l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"hidden sm:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm min-w-[640px]",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Relationship"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"PAN"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Aadhaar"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Email"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Mobile"}),l.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),l.jsx("tbody",{children:v.map((S,w)=>{const y=S.dynamicFields||{},C=Object.entries(y);return l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[l.jsx("td",{className:"py-2.5 px-4",children:l.jsxs("div",{className:"flex items-center gap-2.5",children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white bg-gradient-to-br ${Ym[w%Ym.length]}`,children:S.memberName.charAt(0)}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:f(S.memberName,"name")}),C.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-1 mt-0.5",children:[C.slice(0,3).map(([M,A])=>l.jsxs("span",{className:"text-[10px] text-[var(--text-dim)] bg-[var(--bg-inset)] px-1.5 py-0.5 rounded",children:[M,": ",A]},M)),C.length>3&&l.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["+",C.length-3," more"]})]})]})]})}),l.jsx("td",{className:"py-2.5 px-3",children:l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${D_[S.relationship]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:S.relationship})}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] font-mono tabular-nums",children:f(S.pan,"pan")||""}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] font-mono tabular-nums",children:f(S.aadhar,"aadhaar")||""}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] truncate max-w-[180px]",children:f(S.email,"email")}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:f(S.mobile,"mobile")}),l.jsx("td",{className:"py-2.5 px-2",children:l.jsx("button",{onClick:()=>h({edit:S}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:l.jsx(ka,{size:12})})})]},S.memberId)})})]})}),l.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:v.map((S,w)=>{const y=S.dynamicFields||{},C=Object.entries(y);return l.jsxs("div",{onClick:()=>h({edit:S}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[l.jsxs("div",{className:"flex items-center gap-2.5 mb-1.5",children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white bg-gradient-to-br ${Ym[w%Ym.length]}`,children:S.memberName.charAt(0)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:f(S.memberName,"name")}),l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${D_[S.relationship]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:S.relationship})]}),l.jsx("p",{className:"text-xs text-[var(--text-muted)] truncate",children:f(S.email,"email")})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:f(S.mobile,"mobile")}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("p",{className:"text-xs text-[var(--text-dim)] font-mono",children:["PAN: ",f(S.pan,"pan")||""]}),S.aadhar&&l.jsxs("p",{className:"text-xs text-[var(--text-dim)] font-mono",children:["Aadhaar: ",f(S.aadhar,"aadhaar")]})]})]}),C.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-1 mt-1.5",children:[C.slice(0,3).map(([M,A])=>l.jsxs("span",{className:"text-[10px] text-[var(--text-dim)] bg-[var(--bg-inset)] px-1.5 py-0.5 rounded",children:[M,": ",A]},M)),C.length>3&&l.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["+",C.length-3," more"]})]})]},S.memberId)})})]}),l.jsx(hr,{open:!!m,onClose:()=>h(null),title:m?.edit?"Edit Member":"Add Family Member",wide:!0,children:l.jsx(ule,{initial:m?.edit||void 0,onSave:x,onDelete:m?.edit?b:void 0,onCancel:()=>h(null)})})]})}const E_=["Retirement","Emergency Fund","Child Education","Home Purchase","Car","Travel","Wedding","Custom"].map(e=>({value:e,label:e})),__=[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}],Vm={Retirement:{inflation:6,cagr:12},"Emergency Fund":{inflation:0,cagr:7},"Child Education":{inflation:10,cagr:12},"Home Purchase":{inflation:8,cagr:12},Wedding:{inflation:6,cagr:12},Car:{inflation:5,cagr:10},Travel:{inflation:6,cagr:10},Custom:{inflation:6,cagr:12}},O_=[{label:"Basics",icon:Ad},{label:"Financials",icon:e8},{label:"Review",icon:Mc}];function fle({initial:e,onSave:t,onDelete:n,onCancel:r}){const a=!!e,{activeMembers:s}=pt(),c=(s||[]).map(O=>({value:O.memberId,label:O.relationship?`${O.memberName} (${O.relationship})`:O.memberName})),[u,f]=j.useState(0),[m,h]=j.useState(()=>{if(a){const O=(e.expectedInflation||.06)*100,L=(e.expectedCAGR||.12)*100,R=e.targetDate?Math.max(0,(new Date(e.targetDate)-new Date)/(365.25*24*60*60*1e3)):0,B=O/100;let D=e.targetAmount||0;B>0&&R>0&&e.goalType!=="Emergency Fund"&&(D=e.targetAmount/Math.pow(1+B,R));const W=s.find(X=>X.memberName===e.familyMemberName);return{goalType:e.goalType||"",goalName:e.goalName||"",familyMemberId:W?.memberId||"",todaysCost:Math.round(D).toString(),targetDate:e.targetDate||"",lumpsum:(e.lumpsumInvested||0).toString(),monthlySIP:(e.monthlyInvestment||0).toString(),inflation:O.toString(),cagr:L.toString(),priority:e.priority||"Medium",notes:e.notes||"",monthlyExpenses:(e.monthlyExpenses||"").toString(),emergencyMonths:(e.emergencyMonths||6).toString()}}return{goalType:"",goalName:"",familyMemberId:"",todaysCost:"",targetDate:"",lumpsum:"",monthlySIP:"",inflation:"6",cagr:"12",priority:"Medium",notes:"",monthlyExpenses:"",emergencyMonths:"6"}}),[v,x]=j.useState({}),[b,S]=j.useState(!1);function w(O,L){h(R=>({...R,[O]:L})),x(R=>({...R,[O]:void 0}))}j.useEffect(()=>{if(a||!m.goalType)return;const O=Vm[m.goalType]||Vm.Custom;h(L=>({...L,inflation:O.inflation.toString(),cagr:O.cagr.toString()}))},[m.goalType,a]);const y=m.goalType==="Retirement",C=m.goalType==="Emergency Fund",M=j.useMemo(()=>{const O=(Number(m.inflation)||0)/100,R=(Number(m.cagr)||0)/100/12,B=Number(m.lumpsum)||0,D=Number(m.monthlyExpenses)||0,W=Number(m.emergencyMonths)||6,X=m.targetDate?Math.max(0,(new Date(m.targetDate)-new Date)/(365.25*24*60*60*1e3)):0,Z=Math.round(X*12);let $=0,G=0;y?($=D*12*25,G=$*Math.pow(1+O,X)):C?($=D*W,G=$):($=Number(m.todaysCost)||0,G=O>0&&X>0?$*Math.pow(1+O,X):$),G=Math.round(G);const z=B>0&&Z>0?B*Math.pow(1+R,Z):B;let te=0;if(G>0&&Z>0){const ye=G-z;ye>0&&R>0?te=ye/((Math.pow(1+R,Z)-1)/R):ye>0&&(te=ye/Z),te=Math.max(0,Math.ceil(te))}const ve=te>0&&R>0&&Z>0?te*((Math.pow(1+R,Z)-1)/R):te*Z,F=Math.round(B+te*Z),ae=Math.round(G-F),he=B>0&&z>=G;return{todaysCost:$,inflatedTarget:G,yearsToGo:X,months:Z,fvLumpsum:Math.round(z),requiredSIP:te,fvRequiredSIP:Math.round(ve),planTotalInvested:F,planReturns:ae,lumpsumCoversGoal:he,hasTarget:G>0}},[m.todaysCost,m.targetDate,m.lumpsum,m.inflation,m.cagr,m.monthlyExpenses,m.emergencyMonths,y,C]);function A(O){const L={};return O===0&&(m.goalType||(L.goalType="Required"),m.goalName.trim()||(L.goalName="Required")),O===1&&(m.targetDate||(L.targetDate="Required"),y||C?(!m.monthlyExpenses||Number(m.monthlyExpenses)<=0)&&(L.monthlyExpenses="Required"):(!m.todaysCost||Number(m.todaysCost)<=0)&&(L.todaysCost="Must be > 0")),x(L),Object.keys(L).length===0}function _(){const O={};return m.goalType||(O.goalType="Required"),m.goalName.trim()||(O.goalName="Required"),m.targetDate||(O.targetDate="Required"),y||C?(!m.monthlyExpenses||Number(m.monthlyExpenses)<=0)&&(O.monthlyExpenses="Required"):(!m.todaysCost||Number(m.todaysCost)<=0)&&(O.todaysCost="Must be > 0"),x(O),Object.keys(O).length===0}function E(){A(u)&&f(O=>Math.min(O+1,2))}async function T(){if(!_())return;const O=m.familyMemberId&&s.find(L=>L.memberId===m.familyMemberId)?.memberName||"Family";S(!0);try{await t({goalType:m.goalType,goalName:m.goalName,familyMemberId:m.familyMemberId||"",familyMember:O,targetAmount:M.inflatedTarget,targetDate:m.targetDate,priority:m.priority,notes:m.notes,expectedInflation:(Number(m.inflation)||0)/100,expectedCAGR:(Number(m.cagr)||0)/100,monthlyInvestment:M.requiredSIP||0,lumpsumInvested:Number(m.lumpsum)||0,monthlyExpenses:y||C?Number(m.monthlyExpenses)||0:void 0,emergencyMonths:C?Number(m.emergencyMonths)||6:void 0,isRetirement:y,currentCost:M.todaysCost})}finally{S(!1)}}const P=m.familyMemberId&&s.find(O=>O.memberId===m.familyMemberId)?.memberName||"Family";return a?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(le,{label:"Goal Type",required:!0,error:v.goalType,children:l.jsx(Ke,{value:m.goalType,onChange:O=>w("goalType",O),options:E_,placeholder:"Select type..."})}),l.jsx(le,{label:"Goal Name",required:!0,error:v.goalName,children:l.jsx(ke,{value:m.goalName,onChange:O=>w("goalName",O),placeholder:"e.g., Retirement Fund (2045)"})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(le,{label:"For",error:v.familyMemberId,children:l.jsx(Ke,{value:m.familyMemberId,onChange:O=>w("familyMemberId",O),options:c,placeholder:"Family (Default)"})}),l.jsx(le,{label:"Target Date",required:!0,error:v.targetDate,children:l.jsx(ni,{value:m.targetDate,onChange:O=>w("targetDate",O),maxDate:null})})]}),y||C?l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(le,{label:"Monthly Expenses",required:!0,error:v.monthlyExpenses,children:l.jsx(ke,{type:"number",value:m.monthlyExpenses,onChange:O=>w("monthlyExpenses",O),placeholder:"e.g., 50000"})}),C&&l.jsx(le,{label:"Emergency Months",children:l.jsx(ke,{type:"number",value:m.emergencyMonths,onChange:O=>w("emergencyMonths",O),placeholder:"6"})})]}):l.jsx(le,{label:"Today's Cost",required:!0,error:v.todaysCost,children:l.jsx(ke,{type:"number",value:m.todaysCost,onChange:O=>w("todaysCost",O),placeholder:"e.g., 1000000"})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[l.jsx(le,{label:"Inflation %",children:l.jsx(ke,{type:"number",value:m.inflation,onChange:O=>w("inflation",O),placeholder:"6"})}),l.jsx(le,{label:"Expected CAGR %",children:l.jsx(ke,{type:"number",value:m.cagr,onChange:O=>w("cagr",O),placeholder:"12"})}),l.jsx(le,{label:"Lumpsum Invested",children:l.jsx(ke,{type:"number",value:m.lumpsum,onChange:O=>w("lumpsum",O),placeholder:"0"})})]}),M.hasTarget&&l.jsx(T_,{calc:M,inflation:m.inflation,isRetirement:y,isEmergency:C}),l.jsx(le,{label:"Priority",children:l.jsx(Ke,{value:m.priority,onChange:O=>w("priority",O),options:__})}),l.jsx(le,{label:"Notes",children:l.jsx(wc,{value:m.notes,onChange:O=>w("notes",O),placeholder:"Optional notes...",rows:2})}),l.jsxs("div",{className:"flex items-center justify-between",children:[n?l.jsx(ns,{onClick:n}):l.jsx("div",{}),l.jsx(an,{onCancel:r,onSubmit:T,submitLabel:"Update Goal",loading:b})]})]}):l.jsxs("div",{className:"space-y-5",children:[l.jsx("div",{className:"flex items-center gap-1 mb-2",children:O_.map((O,L)=>{const R=O.icon,B=L===u,D=L<u;return l.jsxs("div",{className:"flex items-center flex-1",children:[l.jsxs("button",{onClick:()=>{L<u&&f(L)},className:`flex items-center gap-1.5 text-xs font-semibold transition-colors ${B?"text-violet-400":D?"text-emerald-400 cursor-pointer":"text-[var(--text-dim)]"}`,children:[l.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold border ${B?"border-violet-400 bg-violet-500/15":D?"border-emerald-400 bg-emerald-500/15":"border-[var(--border)] bg-[var(--bg-inset)]"}`,children:D?l.jsx(Mc,{size:12}):l.jsx(R,{size:12})}),l.jsx("span",{className:"hidden sm:inline",children:O.label})]}),L<O_.length-1&&l.jsx("div",{className:`flex-1 h-px mx-2 ${D?"bg-emerald-400/40":"bg-[var(--border)]"}`})]},O.label)})}),u===0&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Tell us about your financial goal"}),l.jsx(le,{label:"Goal Type",required:!0,error:v.goalType,children:l.jsx(Ke,{value:m.goalType,onChange:O=>w("goalType",O),options:E_,placeholder:"Select type..."})}),m.goalType&&l.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)]",children:[l.jsx(sc,{size:12,className:"text-[var(--text-dim)] shrink-0"}),l.jsxs("p",{className:"text-[11px] text-[var(--text-muted)]",children:["Default: ",Vm[m.goalType]?.inflation||6,"% inflation, ",Vm[m.goalType]?.cagr||12,"% CAGR",y&&"  Uses 25x annual expenses rule",C&&"  No inflation applied"]})]}),l.jsx(le,{label:"Goal Name",required:!0,error:v.goalName,children:l.jsx(ke,{value:m.goalName,onChange:O=>w("goalName",O),placeholder:"e.g., Retirement Fund (2045)"})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(le,{label:"For",error:v.familyMemberId,children:l.jsx(Ke,{value:m.familyMemberId,onChange:O=>w("familyMemberId",O),options:c,placeholder:"Family (Default)"})}),l.jsx(le,{label:"Priority",children:l.jsx(Ke,{value:m.priority,onChange:O=>w("priority",O),options:__})})]})]}),u===1&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:y?"Set your retirement timeline and monthly expenses":C?"Set your emergency fund requirements":"Set your target and investment plan"}),y||C?l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(le,{label:"Target Date",required:!0,error:v.targetDate,children:l.jsx(ni,{value:m.targetDate,onChange:O=>w("targetDate",O),maxDate:null})}),l.jsx(le,{label:"Monthly Expenses (Today)",required:!0,error:v.monthlyExpenses,children:l.jsx(ke,{type:"number",value:m.monthlyExpenses,onChange:O=>w("monthlyExpenses",O),placeholder:"e.g., 50000"})}),C&&l.jsx(le,{label:"Emergency Fund (Months)",children:l.jsx(ke,{type:"number",value:m.emergencyMonths,onChange:O=>w("emergencyMonths",O),placeholder:"6"})}),y&&l.jsx("div",{className:"sm:col-span-2",children:l.jsxs("p",{className:"text-[11px] text-[var(--text-dim)]",children:["Corpus = Monthly Expenses x 12 x 25 = ",Q(M.todaysCost)," (today)"]})})]}):l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(le,{label:"Target Date",required:!0,error:v.targetDate,children:l.jsx(ni,{value:m.targetDate,onChange:O=>w("targetDate",O),maxDate:null})}),l.jsx(le,{label:"Today's Cost",required:!0,error:v.todaysCost,children:l.jsx(ke,{type:"number",value:m.todaysCost,onChange:O=>w("todaysCost",O),placeholder:"e.g., 1000000"})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx(le,{label:`Inflation Rate (%)${C?"  N/A":""}`,children:l.jsx(ke,{type:"number",value:m.inflation,onChange:O=>w("inflation",O),placeholder:"6"})}),l.jsx(le,{label:"Expected Returns (CAGR %)",children:l.jsx(ke,{type:"number",value:m.cagr,onChange:O=>w("cagr",O),placeholder:"12"})})]}),M.hasTarget&&l.jsx(T_,{calc:M,inflation:m.inflation,isRetirement:y,isEmergency:C}),l.jsx(le,{label:"Lumpsum You Plan to Invest (Optional)",children:l.jsx(ke,{type:"number",value:m.lumpsum,onChange:O=>w("lumpsum",O),placeholder:"e.g., 500000"})}),M.hasTarget&&M.months>0&&l.jsx(P_,{calc:M,lumpsum:m.lumpsum}),l.jsx(le,{label:"Notes",children:l.jsx(wc,{value:m.notes,onChange:O=>w("notes",O),placeholder:"Optional notes...",rows:2})})]}),u===2&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Review your goal before saving"}),l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-4 space-y-3",children:[l.jsx(pn,{label:"Goal",value:m.goalName,bold:!0}),l.jsx(pn,{label:"Type",value:m.goalType,color:"violet"}),l.jsx(pn,{label:"Member",value:P}),l.jsx(pn,{label:"Priority",value:m.priority,badge:m.priority==="High"?"rose":m.priority==="Low"?"blue":"amber"}),l.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3 space-y-2",children:[(y||C)&&l.jsx(pn,{label:"Monthly Expenses",value:Q(Number(m.monthlyExpenses)||0)}),C&&l.jsx(pn,{label:"Emergency Months",value:m.emergencyMonths}),!y&&!C&&l.jsx(pn,{label:"Today's Cost",value:Q(M.todaysCost)}),l.jsx(pn,{label:"Inflation",value:`${m.inflation}% p.a.`}),l.jsx(pn,{label:"Expected CAGR",value:`${m.cagr}% p.a.`}),l.jsx(pn,{label:"Future Value (Inflated)",value:Q(M.inflatedTarget),bold:!0,color:"violet"})]}),l.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3 space-y-2",children:[l.jsx(pn,{label:"Lumpsum",value:Q(Number(m.lumpsum)||0)}),l.jsx(pn,{label:"Required SIP",value:`${Q(M.requiredSIP)}/mo`,color:"emerald"}),l.jsx(pn,{label:"Target Date",value:m.targetDate}),l.jsx(pn,{label:"Time Remaining",value:M.yearsToGo>0?`${M.yearsToGo.toFixed(1)} years`:""})]})]}),M.hasTarget&&M.months>0&&l.jsx(P_,{calc:M,lumpsum:m.lumpsum,compact:!0})]}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-[var(--border-light)]",children:[l.jsx("div",{children:u>0&&l.jsxs("button",{onClick:()=>f(O=>O-1),className:"flex items-center gap-1 px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:[l.jsx(RF,{size:14})," Back"]})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:r,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),u<2?l.jsxs("button",{onClick:E,className:"flex items-center gap-1 px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors",children:["Next ",l.jsx(m1,{size:14})]}):l.jsx("button",{onClick:T,disabled:b,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Saving...":"Create Goal"})]})]})]})}function T_({calc:e,inflation:t,isRetirement:n,isEmergency:r}){return r?l.jsx("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-blue-500/5 border border-blue-500/15",children:l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Emergency Fund: ",l.jsx("span",{className:"font-bold text-[var(--text-primary)]",children:Q(e.inflatedTarget)}),l.jsx("span",{className:"text-[var(--text-dim)]",children:" (no inflation applied)"})]})}):l.jsxs("div",{className:"flex items-center justify-between gap-2 px-3 py-2 rounded-lg bg-violet-500/5 border border-violet-500/15",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] font-semibold text-[var(--text-dim)] uppercase tracking-wider",children:n?"Corpus Today":"Today's Cost"}),l.jsx("p",{className:"text-xs font-semibold text-[var(--text-secondary)]",children:Q(e.todaysCost)})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[t,"% x ",e.yearsToGo.toFixed(1),"yrs"]}),l.jsx(m1,{size:12,className:"text-violet-400 mx-auto"})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-[10px] font-semibold text-violet-400 uppercase tracking-wider",children:"Future Value"}),l.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)]",children:Q(e.inflatedTarget)})]})]})}function P_({calc:e,lumpsum:t,compact:n}){const r=Number(t)||0;return n?l.jsxs("div",{className:"rounded-lg border p-3 bg-violet-500/5 border-violet-500/15",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Required Monthly SIP"}),l.jsxs("span",{className:"text-sm font-bold text-violet-400 tabular-nums",children:[e.lumpsumCoversGoal?"0":Q(e.requiredSIP),"/mo"]})]}),e.lumpsumCoversGoal&&l.jsx("p",{className:"text-[10px] text-emerald-400 mt-1",children:"Lumpsum alone covers this goal!"})]}):l.jsxs("div",{className:"rounded-lg border p-3 space-y-2 bg-violet-500/5 border-violet-500/15",children:[e.lumpsumCoversGoal?l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(Mc,{size:12,className:"text-emerald-400"}),l.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-emerald-400",children:"Lumpsum Covers Goal"})]}):l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-violet-400",children:"Required Monthly SIP"}),l.jsxs("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:[Q(e.requiredSIP),"/mo"]})]}),e.planTotalInvested>0&&l.jsxs("div",{className:"border-t border-[var(--border-light)] pt-2 space-y-1",children:[r>0&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-[11px] text-[var(--text-dim)]",children:["Lumpsum ",Q(r)," grows to"]}),l.jsx("span",{className:"text-[11px] font-semibold text-emerald-400 tabular-nums",children:Q(e.fvLumpsum)})]}),e.requiredSIP>0&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-[11px] text-[var(--text-dim)]",children:["SIP ",Q(e.requiredSIP),"/mo x ",e.months," months"]}),l.jsx("span",{className:"text-[11px] font-semibold text-blue-400 tabular-nums",children:Q(e.fvRequiredSIP)})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-[11px] text-[var(--text-dim)]",children:"Total You Invest"}),l.jsx("span",{className:"text-[11px] font-semibold text-[var(--text-primary)] tabular-nums",children:Q(e.planTotalInvested)})]}),e.planReturns>0&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-[11px] text-[var(--text-dim)]",children:"Wealth Created"}),l.jsxs("span",{className:"text-[11px] font-semibold text-emerald-400 tabular-nums",children:["+",Q(e.planReturns)]})]})]})]})}function pn({label:e,value:t,bold:n,color:r,badge:a}){const s=r==="violet"?"text-violet-400":r==="emerald"?"text-emerald-400":"text-[var(--text-primary)]";if(a){const c=a==="rose"?"bg-rose-500/15 text-rose-400":a==="blue"?"bg-blue-500/15 text-blue-400":"bg-amber-500/15 text-amber-400";return l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:e}),l.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${c}`,children:t})]})}return l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:e}),l.jsx("span",{className:`text-xs ${n?"font-bold text-sm":"font-semibold"} ${s}`,children:t})]})}function mle({goal:e,onClose:t}){const{goalPortfolioMappings:n,mfPortfolios:r,mfHoldings:a}=pt(),s=j.useMemo(()=>{const u=n.filter(v=>v.goalId===e.goalId);if(u.length===0)return null;const f=u.map(v=>{const x=r.find(C=>C.portfolioId===v.portfolioId);if(!x)return null;const b=a.filter(C=>C.portfolioId===v.portfolioId&&C.units>0),S=b.reduce((C,M)=>C+M.currentValue,0),w=S*v.allocationPct/100,y=b.map(C=>{const M=S>0?C.currentValue/S:0,A=w*M,_=C.currentNav>0?A/C.currentNav:0,E=A-_*C.avgNav;return{fundName:C.fundName,currentValue:C.currentValue,withdrawValue:A,withdrawUnits:Math.min(_,C.units),currentNav:C.currentNav,taxableGain:E,availableUnits:C.units}}).filter(C=>C.withdrawValue>0);return{portfolioName:x.portfolioName,ownerName:x.ownerName,allocationPct:v.allocationPct,portfolioValue:S,linkedValue:w,fundWithdrawals:y}}).filter(Boolean),m=f.reduce((v,x)=>v+x.linkedValue,0),h=f.reduce((v,x)=>v+x.fundWithdrawals.reduce((b,S)=>b+S.taxableGain,0),0);return{portfolioDetails:f,totalLinked:m,totalTaxableGain:h}},[e,n,r,a]);if(!s)return l.jsxs("div",{className:"py-8 text-center space-y-2",children:[l.jsx(Hs,{size:24,className:"mx-auto text-amber-400"}),l.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No portfolios linked to this goal"}),l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Link portfolios first to generate a withdrawal plan"}),l.jsx("button",{onClick:t,className:"mt-2 px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})]});const c=e.targetAmount>0?s.totalLinked/e.targetAmount*100:0;return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-4 space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Goal Target"}),l.jsx("span",{className:"text-sm font-bold text-[var(--text-primary)]",children:Q(e.targetAmount)})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Available from Linked Portfolios"}),l.jsx("span",{className:`text-sm font-bold ${s.totalLinked>=e.targetAmount?"text-emerald-400":"text-amber-400"}`,children:Q(s.totalLinked)})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-card)] rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full rounded-full ${c>=100?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${Math.min(c,100)}%`}})}),l.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[c.toFixed(0),"%"]})]}),s.totalTaxableGain>0&&l.jsxs("div",{className:"flex items-center justify-between pt-1",children:[l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Estimated Taxable Gain"}),l.jsx("span",{className:"text-xs font-semibold text-amber-400",children:Q(s.totalTaxableGain)})]})]}),s.portfolioDetails.map(u=>l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] overflow-hidden",children:[l.jsxs("div",{className:"px-4 py-2.5 bg-[var(--bg-card)] border-b border-[var(--border-light)] flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:u.portfolioName}),l.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[u.ownerName,"  ",u.allocationPct,"% allocated to goal"]})]}),l.jsx("span",{className:"text-xs font-bold text-[var(--text-primary)]",children:Q(u.linkedValue)})]}),l.jsx("div",{className:"px-4 py-2",children:l.jsxs("table",{className:"w-full text-xs",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-[var(--text-dim)]",children:[l.jsx("th",{className:"text-left py-1 font-medium",children:"Fund"}),l.jsx("th",{className:"text-right py-1 font-medium",children:"Units"}),l.jsx("th",{className:"text-right py-1 font-medium",children:"Amount"}),l.jsx("th",{className:"text-right py-1 font-medium",children:"Gain"})]})}),l.jsx("tbody",{children:u.fundWithdrawals.map(f=>l.jsxs("tr",{className:"border-t border-[var(--border-light)]",children:[l.jsx("td",{className:"py-1.5 text-[var(--text-secondary)] max-w-[180px] truncate",children:f.fundName}),l.jsx("td",{className:"py-1.5 text-right text-[var(--text-muted)] tabular-nums",children:f.withdrawUnits.toFixed(2)}),l.jsx("td",{className:"py-1.5 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:Q(f.withdrawValue)}),l.jsx("td",{className:`py-1.5 text-right tabular-nums font-semibold ${f.taxableGain>=0?"text-emerald-400":"text-rose-400"}`,children:Q(Math.abs(f.taxableGain))})]},f.fundName))})]})})]},u.portfolioName)),l.jsx("div",{className:"flex items-center justify-end gap-2 pt-4 border-t border-[var(--border-light)]",children:l.jsx("button",{onClick:t,className:"px-5 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})})]})}const ple={"On Track":"bg-blue-500/15 text-[var(--accent-blue)]",Behind:"bg-amber-500/15 text-[var(--accent-amber)]",Critical:"bg-rose-500/15 text-[var(--accent-rose)]","Needs Attention":"bg-amber-500/15 text-[var(--accent-amber)]",Achieved:"bg-emerald-500/15 text-emerald-400",Paused:"bg-slate-500/15 text-[var(--text-muted)]"},hle={High:"bg-rose-500/15 text-[var(--accent-rose)]",Medium:"bg-amber-500/15 text-[var(--accent-amber)]",Low:"bg-blue-500/15 text-[var(--accent-blue)]"},vle={"On Track":"bg-blue-500",Behind:"bg-amber-500",Critical:"bg-rose-500","Needs Attention":"bg-amber-500",Achieved:"bg-emerald-500",Paused:"bg-slate-500"};function xle(){const{selectedMember:e,member:t}=Yr(),{goalList:n,addGoal:r,updateGoal:a,deleteGoal:s,goalPortfolioMappings:c,updateGoalMappings:u,mfHoldings:f,activeMembers:m,mfPortfolios:h,stockPortfolios:v,otherInvList:x}=pt(),{showToast:b,showBlockUI:S,hideBlockUI:w}=li(),y=oi(),[C,M]=j.useState(null),[A,_]=j.useState(null),[E,T]=j.useState(null),P=j.useRef(new Set),[O,L]=j.useState(null),[R,B]=j.useState([]),[D,W]=j.useState(!1),[X,Z]=j.useState(!1),$=j.useMemo(()=>{if(!n)return[];const ue=n.filter(xe=>xe.isActive!==!1);return e==="all"?ue:ue.filter(xe=>xe.familyMemberId===e)},[n,e]);function G(ue){if(!ue.familyMemberName||ue.familyMemberName==="Family")return ue.familyMemberName||"Family";const xe=(m||[]).find(Fe=>Fe.memberName===ue.familyMemberName);return xe?.relationship?`${ue.familyMemberName} (${xe.relationship})`:ue.familyMemberName}const z=$.reduce((ue,xe)=>ue+(xe.targetAmount||0),0),te=$.reduce((ue,xe)=>ue+(xe.currentValue||0),0),ve=$.reduce((ue,xe)=>ue+(xe.monthlyInvestment||0),0),F=$.reduce((ue,xe)=>ue+(xe.lumpsumNeeded||0),0),ae=z>0?te/z*100:0,he=$.filter(ue=>ue.status==="Needs Attention").length,ye=$.filter(ue=>ue.status==="Achieved").length,je=new Set(["Equity","ELSS","Index"]),Ie=j.useMemo(()=>{if(!$.length||!c?.length||!f?.length)return[];const ue=new Date,xe=[];for(const Fe of $){if(Fe.status==="Achieved")continue;const Y=(new Date(Fe.targetDate)-ue)/(365.25*24*60*60*1e3);if(Y>3||Y<=0)continue;const ce=c.filter(Tt=>Tt.goalId===Fe.goalId);if(!ce.length)continue;let Ce=0,De=0;for(const Tt of ce){const He=f.filter(Mt=>Mt.portfolioId===Tt.portfolioId&&Mt.units>0);for(const Mt of He){const Xt=Mt.currentValue*(Tt.allocationPct/100);Ce+=Xt,je.has(Mt.category)?De+=Xt:Mt.category==="Hybrid"&&(De+=Xt*.65)}}const ze=Ce>0?De/Ce*100:0,ie=Y<1?30:Y<2?50:70;ze>ie&&xe.push({goalId:Fe.goalId,goalName:Fe.goalName,yearsLeft:Y.toFixed(1),equityPct:Math.round(ze),maxEquity:ie,excessPct:Math.round(ze-ie)})}return xe},[$,c,f]);j.useEffect(()=>{const ue=new Set($.filter(Fe=>Fe.status==="Achieved").map(Fe=>Fe.goalId)),xe=P.current;for(const Fe of ue)if(!xe.has(Fe)){const $t=$.find(Y=>Y.goalId===Fe);$t&&(T($t),setTimeout(()=>T(null),5e3))}P.current=ue},[$]);function me(ue){return ue?ue.startsWith("PFL-STK-")?"Stock":ue.startsWith("INV-")?"Other":"MF":"MF"}const ge=j.useMemo(()=>{const ue={};return(h||[]).forEach(xe=>{ue[xe.portfolioId]={name:xe.portfolioName?.replace(/^PFL-/,"")||xe.portfolioName,value:xe.currentValue||0,type:"MF",owner:xe.ownerName||""}}),(v||[]).forEach(xe=>{ue[xe.portfolioId]={name:xe.portfolioName,value:xe.currentValue||0,type:"Stock",owner:xe.ownerName||""}}),(x||[]).forEach(xe=>{ue[xe.investmentId]={name:xe.investmentName,value:xe.currentValue||0,type:"Other",owner:xe.familyMemberName||""}}),ue},[h,v,x]),K=j.useMemo(()=>{const ue=[];return(h||[]).filter(xe=>xe.status!=="Inactive").forEach(xe=>{ue.push({id:xe.portfolioId,name:xe.portfolioName?.replace(/^PFL-/,"")||xe.portfolioName,value:xe.currentValue||0,type:"MF",owner:xe.ownerName||""})}),(v||[]).filter(xe=>xe.status!=="Inactive").forEach(xe=>{ue.push({id:xe.portfolioId,name:xe.portfolioName,value:xe.currentValue||0,type:"Stock",owner:xe.ownerName||""})}),(x||[]).filter(xe=>xe.status==="Active").forEach(xe=>{ue.push({id:xe.investmentId,name:xe.investmentName,value:xe.currentValue||0,type:"Other",owner:xe.familyMemberName||""})}),ue},[h,v,x]),Ne=K.filter(ue=>ue.type==="MF"),qe=K.filter(ue=>ue.type==="Stock"),be=K.filter(ue=>ue.type==="Other"),Ze=j.useMemo(()=>{const ue={};return(c||[]).forEach(xe=>{if(xe.goalId===O)return;ue[xe.portfolioId]||(ue[xe.portfolioId]={total:0,goals:[]}),ue[xe.portfolioId].total+=xe.allocationPct;const Fe=(n||[]).find($t=>$t.goalId===xe.goalId);ue[xe.portfolioId].goals.push({goalName:Fe?.goalName||xe.goalId,pct:xe.allocationPct})}),ue},[c,O,n]),Ue=j.useMemo(()=>{const ue=[];for(const xe of R){const $t=(Ze[xe.portfolioId]?.total||0)+(xe.allocationPct||0);if($t>100){const Y=K.find(ce=>ce.id===xe.portfolioId);ue.push({name:Y?.name||xe.portfolioId,combined:$t,excess:$t-100})}}return ue},[R,Ze,K]),jt=Ue.length===0;function vt(ue){const xe=(c||[]).filter(Fe=>Fe.goalId===ue).map(Fe=>({portfolioId:Fe.portfolioId,allocationPct:Fe.allocationPct,investmentType:Fe.investmentType||me(Fe.portfolioId)}));B(xe),L(ue),W(!1)}function ut(){L(null),B([]),W(!1)}function Nt(ue){O===ue?ut():vt(ue)}function Pe(){const ue=new Set(R.map(Fe=>Fe.portfolioId)),xe=K.find(Fe=>!ue.has(Fe.id)&&(Ze[Fe.id]?.total||0)<100);xe&&(B(Fe=>[...Fe,{portfolioId:xe.id,allocationPct:0,investmentType:xe.type}]),W(!0))}function Ye(ue){B(xe=>xe.filter((Fe,$t)=>$t!==ue)),W(!0)}function at(ue,xe,Fe){B($t=>$t.map((Y,ce)=>{if(ce!==ue)return Y;if(xe==="allocationPct"){const Ce=Ze[Y.portfolioId]?.total||0,De=Math.max(0,100-Ce);return{...Y,allocationPct:Math.max(0,Math.min(De,Number(Fe)||0))}}if(xe==="portfolioId"){const Ce=K.find(ie=>ie.id===Fe),De=Ze[Fe]?.total||0,ze=Math.max(0,100-De);return{...Y,portfolioId:Fe,investmentType:Ce?.type||me(Fe),allocationPct:Math.min(Y.allocationPct,ze)}}return Y})),W(!0)}async function Bt(){if(jt){Z(!0),S("Saving...");try{await u(O,R.filter(ue=>ue.allocationPct>0)),b("Allocation updated"),ut()}catch(ue){b(ue.message||"Failed to save","error")}finally{w(),Z(!1)}}}if(n===null)return l.jsx(as,{title:"Loading goals",cards:5});async function Ut(ue){S("Saving...");try{C?.edit?await a(C.edit.goalId,ue):await r(ue),b(C?.edit?"Goal updated":"Goal added"),M(null)}catch(xe){b(xe.message||"Failed to save goal","error")}finally{w()}}async function St(){if(C?.edit&&await y("Delete this goal?",{title:"Delete Goal",confirmLabel:"Delete"})){const ue=C.edit.goalId,xe=(c||[]).filter(Fe=>Fe.goalId===ue);S("Deleting...");try{if(await s(ue),M(null),xe.length>0){const Fe=xe.some($t=>(c||[]).some(Y=>Y.portfolioId===$t.portfolioId&&Y.goalId!==ue));b(Fe?"Goal deleted  shared allocations freed":"Goal deleted")}else b("Goal deleted")}catch(Fe){b(Fe.message||"Failed to delete goal","error")}finally{w()}}}function Hn(ue){return!ue.targetAmount||ue.targetAmount===0?0:Math.min((ue.currentValue||0)/ue.targetAmount*100,100)}function is(ue){if(!ue.targetDate)return null;const Fe=(new Date(ue.targetDate)-new Date)/(365.25*24*60*60*1e3);return Fe>0?Fe.toFixed(1):"0"}return l.jsxs("div",{className:"space-y-4",children:[$.length===0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[l.jsx(Ad,{size:32,className:"text-[var(--text-dim)]"}),l.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No goals set",t?` for ${t.memberName}`:""]}),l.jsx("button",{onClick:()=>M("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first goal"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[l.jsx(Go,{label:"Target",value:Q(z),bold:!0}),l.jsx(Go,{label:"Current Value",value:Q(te),bold:!0}),l.jsx(Go,{label:"Gap",value:Q(Math.max(z-te,0)),positive:z<=te,bold:!0}),l.jsx(Go,{label:"Progress",value:`${ae.toFixed(1)}%`,sub:`${$.length} goal${$.length!==1?"s":""}${ye>0?`  ${ye} done`:""}`,positive:ae>=50,bold:!0}),l.jsx(Go,{label:"Required SIP",value:Q(ve),sub:he>0?`${he} need attention`:"per month"}),l.jsx(Go,{label:"Required Lumpsum",value:Q(F),sub:"one-time today"})]}),E&&l.jsxs("div",{className:"relative bg-gradient-to-r from-emerald-500/10 via-yellow-500/10 to-emerald-500/10 rounded-xl border border-emerald-500/30 px-4 py-3 flex items-center gap-3 animate-fade-in overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:20}).map((ue,xe)=>l.jsx("span",{className:"absolute text-sm animate-confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*2}s`},children:["","","","",""][xe%5]},xe))}),l.jsx(kC,{size:20,className:"text-yellow-400 shrink-0 relative z-10"}),l.jsxs("div",{className:"relative z-10",children:[l.jsx("p",{className:"text-sm font-bold text-emerald-400",children:"Goal Achieved!"}),l.jsxs("p",{className:"text-xs text-[var(--text-secondary)]",children:[E.goalName,"  Congratulations!"]})]}),l.jsx("button",{onClick:()=>T(null),className:"ml-auto text-xs text-[var(--text-dim)] hover:text-[var(--text-primary)] relative z-10",children:"Dismiss"})]}),Ie.length>0&&l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-amber-500/20 p-4 space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(K8,{size:14,className:"text-amber-400"}),l.jsx("p",{className:"text-xs font-bold text-amber-400 uppercase tracking-wider",children:"De-risking Alerts"})]}),l.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"These goals are approaching their deadline with high equity exposure. Consider moving funds to debt/liquid for capital protection."}),l.jsx("div",{className:"space-y-1.5",children:Ie.map(ue=>l.jsxs("div",{className:"flex items-center justify-between bg-amber-500/5 rounded-lg px-3 py-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:ue.goalName}),l.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[ue.yearsLeft," yrs left"]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-xs font-bold text-amber-400",children:[ue.equityPct,"% equity"]}),l.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["Recommended max ",ue.maxEquity,"%"]})]})]},ue.goalId))})]}),l.jsx("div",{className:"flex items-center justify-end px-1",children:l.jsxs("button",{onClick:()=>M("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(Pr,{size:14})," Add Goal"]})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:$.map(ue=>{const xe=Hn(ue),Fe=is(ue),$t=O===ue.goalId,Y=$t?R:(c||[]).filter(De=>De.goalId===ue.goalId),ce=(c||[]).filter(De=>De.goalId===ue.goalId).length,Ce=Y.reduce((De,ze)=>{const ie=ge[ze.portfolioId];return De+(ie?ie.value*ze.allocationPct/100:0)},0);return l.jsxs("div",{className:`bg-[var(--bg-card)] rounded-xl border overflow-hidden transition-colors ${$t?"border-violet-500/40":"border-[var(--border)]"}`,children:[l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-sm font-semibold text-[var(--text-primary)] truncate",children:ue.goalName}),l.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[l.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:G(ue)}),l.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded ${hle[ue.priority]||""}`,children:ue.priority})]})]}),l.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded-full shrink-0 ${ple[ue.status]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:ue.status})]}),l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-inset)] rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full rounded-full transition-all ${vle[ue.status]||"bg-blue-500"}`,style:{width:`${xe}%`}})}),l.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums w-10 text-right",children:[xe.toFixed(0),"%"]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1.5 mb-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Current"}),l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(ue.currentValue)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Target"}),l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(ue.targetAmount)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Required SIP"}),l.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:[Q(ue.monthlyInvestment),"/mo"]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Timeline"}),l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:ue.status==="Achieved"?"Done":Fe?`${Fe} yrs left`:""})]})]}),l.jsxs("div",{className:"flex items-center gap-1 pt-2 border-t border-[var(--border-light)]",children:[l.jsxs("button",{onClick:De=>{De.stopPropagation(),Nt(ue.goalId)},className:`flex items-center gap-1 px-2.5 py-1.5 text-[10px] font-semibold rounded-lg transition-colors ${$t?"bg-violet-500/20 text-violet-400":ce>0?"text-violet-400 hover:bg-violet-500/10":"text-amber-400 hover:bg-amber-500/10"}`,children:[l.jsx(KO,{size:11}),ce>0?`${ce} linked`:"Link",ce===0&&l.jsx("span",{className:"w-1.5 h-1.5 bg-amber-400 rounded-full animate-pulse"})]}),ue.status==="Achieved"&&l.jsxs("button",{onClick:()=>_(ue),className:"flex items-center gap-1 px-2.5 py-1.5 text-[10px] font-semibold text-[var(--text-dim)] hover:text-emerald-400 hover:bg-emerald-500/10 rounded-lg transition-colors",children:[l.jsx($O,{size:11})," Withdraw"]}),l.jsxs("button",{onClick:()=>M({edit:ue}),className:"flex items-center gap-1 px-2.5 py-1.5 text-[10px] font-semibold text-[var(--text-dim)] hover:text-[var(--text-primary)] hover:bg-white/5 rounded-lg transition-colors ml-auto",children:[l.jsx(ka,{size:11})," Edit"]})]})]}),$t&&l.jsxs("div",{className:"px-4 pb-4 space-y-2 border-t border-violet-500/20 bg-violet-500/[0.03]",children:[l.jsxs("div",{className:"flex items-center justify-between pt-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ga,{size:12,className:"text-violet-400"}),l.jsx("span",{className:"text-xs font-semibold text-violet-400",children:"Link Investments"})]}),Ce>0&&l.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["Linked value: ",Q(Ce)]})]}),R.map((De,ze)=>{const ie=K.find(Be=>Be.id===De.portfolioId),Tt=Ze[De.portfolioId],He=Tt?.total||0,Mt=100-He,Xt=He+(De.allocationPct||0);return l.jsxs("div",{className:`bg-[var(--bg-card)] rounded-lg border p-2.5 space-y-1.5 ${Xt>100?"border-rose-500/40":"border-[var(--border-light)]"}`,children:[l.jsxs("select",{value:De.portfolioId,onChange:Be=>at(ze,"portfolioId",Be.target.value),className:"w-full px-2 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)]",children:[Ne.length>0&&l.jsx("optgroup",{label:"MF Portfolios",children:Ne.map(Be=>{const Yt=(Ze[Be.id]?.total||0)>=100,Xe=R.some((Se,We)=>We!==ze&&Se.portfolioId===Be.id);return l.jsxs("option",{value:Be.id,disabled:Xe||Yt,children:[Be.name,Be.owner?` (${Be.owner})`:"","  ",Q(Be.value),Yt?" (Fully allocated)":""]},Be.id)})}),qe.length>0&&l.jsx("optgroup",{label:"Stock Portfolios",children:qe.map(Be=>{const Yt=(Ze[Be.id]?.total||0)>=100,Xe=R.some((Se,We)=>We!==ze&&Se.portfolioId===Be.id);return l.jsxs("option",{value:Be.id,disabled:Xe||Yt,children:[Be.name,Be.owner?` (${Be.owner})`:"","  ",Q(Be.value),Yt?" (Fully allocated)":""]},Be.id)})}),be.length>0&&l.jsx("optgroup",{label:"Other Investments",children:be.map(Be=>{const Yt=(Ze[Be.id]?.total||0)>=100,Xe=R.some((Se,We)=>We!==ze&&Se.portfolioId===Be.id);return l.jsxs("option",{value:Be.id,disabled:Xe||Yt,children:[Be.name,Be.owner?` (${Be.owner})`:"","  ",Q(Be.value),Yt?" (Fully allocated)":""]},Be.id)})})]}),He>0&&l.jsxs("div",{className:`text-[10px] px-2 py-1 rounded ${Xt>100?"bg-rose-500/10 text-rose-400":"bg-blue-500/10 text-blue-400"}`,children:[Tt.goals.map(Be=>`${Be.goalName} (${Be.pct}%)`).join(", "),"  ",l.jsxs("span",{className:"font-bold",children:["Available: ",Math.max(0,Mt),"%"]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:"Allocation"}),l.jsx("input",{type:"number",value:De.allocationPct,onChange:Be=>at(ze,"allocationPct",Be.target.value),className:"w-16 px-2 py-1 text-xs text-center bg-[var(--bg-input)] border border-[var(--border-input)] rounded-md text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)]",min:"0",max:Mt}),l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"%"}),l.jsx("button",{onClick:()=>Ye(ze),className:"p-1 text-[var(--text-dim)] hover:text-rose-400 rounded transition-colors ml-1",children:l.jsx(Mh,{size:12})})]}),ie&&l.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["Contributes ",Q(ie.value*De.allocationPct/100)]})]})]},ze)}),Ue.length>0&&l.jsxs("div",{className:"bg-rose-500/10 border border-rose-500/20 rounded-lg px-3 py-2 space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(Hs,{size:12,className:"text-rose-400 shrink-0"}),l.jsx("span",{className:"text-[10px] font-bold text-rose-400 uppercase",children:"Over-allocated"})]}),Ue.map((De,ze)=>l.jsxs("p",{className:"text-[10px] text-rose-300",children:[De.name,": ",De.combined,"% total (exceeds by ",De.excess,"%)"]},ze))]}),(()=>{const De=new Set(R.map(ie=>ie.portfolioId));return K.some(ie=>!De.has(ie.id)&&(Ze[ie.id]?.total||0)<100)&&l.jsxs("button",{onClick:Pe,className:"flex items-center gap-1.5 text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[l.jsx(Pr,{size:14})," Link Investment"]})})(),l.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2 border-t border-[var(--border-light)]",children:[l.jsx("button",{onClick:ut,className:"px-4 py-1.5 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),l.jsx("button",{onClick:Bt,disabled:!D||!jt||X,className:"px-5 py-1.5 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Save"})]})]})]},ue.goalId)})}),ye>0&&l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-emerald-500/20 p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(kC,{size:14,className:"text-yellow-400"}),l.jsx("p",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Achieved Goals"})]}),l.jsx("div",{className:"flex gap-3 overflow-x-auto no-scrollbar pb-1",children:$.filter(ue=>ue.status==="Achieved").map(ue=>l.jsxs("div",{className:"shrink-0 bg-emerald-500/10 border border-emerald-500/20 rounded-lg px-3 py-2 min-w-[160px]",children:[l.jsx("p",{className:"text-xs font-semibold text-emerald-400",children:ue.goalName}),l.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] mt-1",children:Q(ue.targetAmount)}),l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5",children:G(ue)})]},ue.goalId))})]})]}),l.jsx(hr,{open:!!C,onClose:()=>M(null),title:C?.edit?"Edit Goal":"Add Goal",wide:!0,children:l.jsx(fle,{initial:C?.edit||void 0,onSave:Ut,onDelete:C?.edit?St:void 0,onCancel:()=>M(null)})}),l.jsx(hr,{open:!!A,onClose:()=>_(null),title:`Withdrawal Plan  ${A?.goalName||""}`,wide:!0,children:A&&l.jsx(mle,{goal:A,onClose:()=>_(null)})})]})}function Go({label:e,value:t,sub:n,positive:r,bold:a}){return l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),l.jsx("p",{className:`text-sm tabular-nums ${a?"font-bold":"font-semibold"} ${r===void 0?"text-[var(--text-primary)]":r?"text-emerald-400":"text-[var(--accent-amber)]"}`,children:t}),n&&l.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:n})]})}const gle=[{label:"Reports & Transactions",desc:"View transaction history",icon:UO,path:"/reports",color:"bg-blue-500/15 text-[var(--accent-blue)]"},{label:"Reminders",desc:"View and manage reminders",icon:Ah,path:"/reminders",color:"bg-amber-500/15 text-[var(--accent-amber)]"},{label:"Health Check",desc:"Financial health questionnaire",icon:Wb,path:"/health-check",color:"bg-emerald-500/15 text-emerald-400"},{label:"Settings",desc:"App configuration",icon:h1,path:"/settings",color:"bg-slate-500/15 text-[var(--text-muted)]"},{label:"About",desc:"Capital Friends v2.0",icon:x8,path:"/about",color:"bg-violet-500/15 text-[var(--accent-violet)]"},{label:"Support Developer",desc:"UPI: jagadeeshmanne.hdfc@kphdfc",icon:xp,path:"/about",color:"bg-pink-500/15 text-pink-400"}];function ble(){const e=Jl();return l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{className:"text-base font-bold text-[var(--text-primary)]",children:"More"}),l.jsx("div",{className:"space-y-2",children:gle.map(t=>l.jsxs("button",{onClick:()=>e(t.path),className:"w-full flex items-center gap-3 bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[l.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center shrink-0 ${t.color}`,children:l.jsx(t.icon,{size:18})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:t.label}),l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:t.desc})]})]},t.label))})]})}const Gm=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function yle(){const e=Jl(),{theme:t,toggle:n}=IO(),{members:r,settings:a,updateSettings:s,updateMember:c,healthCheckCompleted:u}=pt(),{user:f,signOut:m}=eo(),{masked:h,toggleMask:v,mv:x}=ci(),b=r.filter(Z=>Z.status==="Active"),[S,w]=j.useState("Daily"),[y,C]=j.useState("09"),[M,A]=j.useState("Monday"),[_,E]=j.useState(!1),[T,P]=j.useState(!1),[O,L]=j.useState(!1),[R,B]=j.useState(null);j.useEffect(()=>{!a||!Object.keys(a).length||(a.EmailFrequency&&w(a.EmailFrequency),a.EmailHour!=null&&C(String(a.EmailHour).padStart(2,"0")),a.EmailDayOfWeek!=null&&A(Gm[Number(a.EmailDayOfWeek)]||"Monday"))},[a]);async function D(){E(!0),P(!1);try{const Z=Gm.indexOf(M);await s({EmailFrequency:S==="None"?"None":S,EmailConfigured:S==="None"?"FALSE":"TRUE",EmailHour:String(parseInt(y,10)),EmailMinute:"0",EmailDayOfWeek:String(Z>=0?Z:1)}),P(!0),setTimeout(()=>P(!1),2e3)}catch(Z){alert("Failed to save: "+Z.message)}finally{E(!1)}}async function W(){L(!0),B(null);try{const Z=await eF();B(Z)}catch(Z){B({error:Z.message})}finally{L(!1)}}function X(Z){if(!Z)return"Never";try{const $=new Date(Z);if(isNaN($.getTime()))return"Unknown";const G=Date.now(),z=Math.floor((G-$.getTime())/(1e3*60));if(z<1)return"Just now";if(z<60)return z+" min ago";const te=Math.floor(z/60);return te<24?te+"h ago":$.toLocaleDateString("en-IN",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}catch{return"Unknown"}}return l.jsxs("div",{className:"space-y-4 max-w-xl mx-auto",children:[l.jsxs(Cl,{children:[l.jsx(Al,{icon:l.jsx(aB,{size:14}),title:"Account"}),l.jsxs("div",{className:"px-4 py-4 space-y-3",children:[l.jsx(On,{label:"Signed in as",children:l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate max-w-[200px]",children:x(f?.email,"email")||""})}),l.jsx(On,{label:"Name",children:l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:f?.name||""})}),l.jsx("div",{className:"pt-1",children:l.jsxs("button",{onClick:m,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-red-500 border border-red-200 dark:border-red-800/40 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[l.jsx(QO,{size:12}),"Sign Out"]})})]})]}),l.jsxs(Cl,{children:[l.jsx(Al,{icon:l.jsx(Wb,{size:14}),title:"Financial Health Check"}),l.jsxs("div",{className:"px-4 py-4 space-y-3",children:[l.jsx(On,{label:"Status",children:l.jsx("span",{className:`text-xs font-semibold ${u?"text-emerald-400":"text-[var(--accent-amber)]"}`,children:u?"Completed":"Not completed"})}),l.jsx("div",{className:"flex justify-end pt-1",children:l.jsxs("button",{onClick:()=>e("/health-check"),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-lg border border-[var(--border)] text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[l.jsx(Wb,{size:12}),u?"Update Answers":"Take Health Check"]})})]})]}),l.jsxs(Cl,{children:[l.jsx(Al,{icon:l.jsx(ZF,{size:14}),title:"Data & Sync"}),l.jsxs("div",{className:"px-4 py-4 space-y-3",children:[l.jsx(On,{label:"Last synced",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:X(a.masterDataLastSync)}),a._stale&&l.jsx("span",{className:"text-[10px] font-bold text-amber-600 px-1.5 py-0.5 rounded bg-amber-100 dark:bg-amber-900/30",children:"STALE"})]})}),a._navDataDate&&l.jsx(On,{label:"NAV data as of",children:l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:a._navDataDate})}),l.jsx(On,{label:"Auto-refresh",children:l.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Daily at ~6:30 AM"})}),l.jsxs("div",{className:"flex items-center justify-between pt-1",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Refresh MF NAVs, ATH & Stock prices"}),l.jsxs("button",{onClick:W,disabled:O,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-lg bg-violet-600 text-white hover:bg-violet-500 transition-colors disabled:opacity-50",children:[l.jsx(ic,{size:12,className:O?"animate-spin":""}),O?"Refreshing...":"Refresh Now"]})]}),R&&l.jsx("div",{className:`text-xs px-3 py-2 rounded-lg ${R.error?"bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400":"bg-green-50 text-green-600 dark:bg-green-900/20 dark:text-green-400"}`,children:R.error?"Failed: "+R.error:`Done  MF: ${R.mf?.count||0} | ATH: ${R.ath?.count||0} | Stocks: ${R.stocks?.count||0} (${R.duration})`})]})]}),l.jsxs(Cl,{children:[l.jsx(Al,{icon:l.jsx(Kb,{size:14}),title:"Appearance"}),l.jsx("div",{className:"px-4 py-4",children:l.jsx(On,{label:"Theme",children:l.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-3 py-1.5 text-xs font-semibold rounded-lg border border-[var(--border)] bg-[var(--bg-inset)] text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[t==="dark"?l.jsx(XO,{size:12}):l.jsx(Kb,{size:12}),t==="dark"?"Dark":"Light"]})})})]}),l.jsxs(Cl,{children:[l.jsx(Al,{icon:l.jsx(k8,{size:14}),title:"Email Reports"}),l.jsxs("div",{className:"px-4 py-4 space-y-3",children:[l.jsx(On,{label:"Frequency",children:l.jsx(Ub,{value:S,onChange:w,options:["Daily","Weekly","Monthly","None"]})}),S!=="None"&&l.jsx(On,{label:"Send time",children:l.jsx(Ub,{value:y,onChange:C,options:Array.from({length:24},(Z,$)=>String($).padStart(2,"0")),suffix:":00"})}),S==="Weekly"&&l.jsx(On,{label:"Day",children:l.jsx(Ub,{value:M,onChange:A,options:Gm.slice(1).concat(Gm[0])})}),l.jsx("div",{className:"flex justify-end pt-1",children:l.jsx("button",{onClick:D,disabled:_,className:"px-4 py-1.5 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50",children:_?"Saving...":T?"Saved!":"Save"})}),b.length>0&&l.jsx(l.Fragment,{children:l.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"Send report to"}),l.jsx("div",{className:"space-y-2",children:b.map(Z=>l.jsx(wle,{member:Z,onToggle:c},Z.memberId))})]})}),b.length===0&&l.jsx("p",{className:"text-xs text-[var(--text-dim)] pt-1",children:"Add family members to configure email recipients."})]})]}),l.jsxs(Cl,{children:[l.jsx(Al,{icon:l.jsx(ep,{size:14}),title:"Privacy"}),l.jsxs("div",{className:"px-4 py-4 space-y-3",children:[l.jsx(On,{label:"Mask sensitive data",children:l.jsx("button",{onClick:v,className:`relative w-9 h-5 rounded-full transition-colors shrink-0 ${h?"bg-amber-500":"bg-[var(--bg-inset)] border border-[var(--border)]"}`,children:l.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full transition-all ${h?"left-[18px] bg-white":"left-0.5 bg-[var(--text-dim)]"}`})})}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[h?"Sensitive data is hidden. ":"","Masks PAN, Aadhaar, mobile, email, account numbers, client IDs, and policy numbers across the app. Use the ",h?l.jsx(ep,{size:11,className:"inline text-amber-400"}):l.jsx(p1,{size:11,className:"inline"})," icon in the header to quickly toggle."]}),h&&l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[l.jsx(ep,{size:14,className:"text-amber-400 shrink-0"}),l.jsx("p",{className:"text-xs text-amber-400 font-medium",children:"Data masking is active  safe for screen sharing"})]})]})]}),l.jsxs(Cl,{children:[l.jsx(Al,{icon:l.jsx(f8,{size:14}),title:"Display"}),l.jsxs("div",{className:"px-4 py-4 space-y-3",children:[l.jsx(On,{label:"Currency",children:l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"INR ()"})}),l.jsx(On,{label:"Date format",children:l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"DD/MM/YYYY"})})]})]})]})}function Cl({children:e}){return l.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:e})}function Al({icon:e,title:t}){return l.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-[var(--text-muted)]",children:e}),l.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:t})]})})}function On({label:e,children:t}){return l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] shrink-0",children:e}),t]})}function Ub({value:e,onChange:t,options:n,suffix:r}){return l.jsxs("div",{className:"relative",children:[l.jsx("select",{value:e,onChange:a=>t(a.target.value),className:"appearance-none pl-3 pr-7 py-1.5 text-xs font-semibold bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-violet-500 cursor-pointer",children:n.map(a=>l.jsxs("option",{value:a,children:[a,r||""]},a))}),l.jsx(Ga,{size:10,className:"absolute right-2 top-1/2 -translate-y-1/2 text-[var(--text-dim)] pointer-events-none"})]})}function wle({member:e,onToggle:t}){const{mv:n}=ci(),r=e.includeInEmailReports==="Yes"||e.includeInEmailReports===!0,[a,s]=j.useState(!1);async function c(){s(!0);try{await t(e.memberId,{...e,includeInEmailReports:r?"No":"Yes"})}catch{}finally{s(!1)}}return l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l.jsx("div",{className:"w-6 h-6 rounded-full bg-violet-100 dark:bg-violet-900/30 flex items-center justify-center shrink-0",children:l.jsx("span",{className:"text-[10px] font-bold text-violet-600",children:e.memberName?.charAt(0)?.toUpperCase()})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate",children:n(e.memberName,"name")}),e.email&&l.jsx("p",{className:"text-[10px] text-[var(--text-dim)] truncate",children:n(e.email,"email")})]})]}),l.jsx("button",{onClick:c,disabled:a,className:`relative w-9 h-5 rounded-full transition-colors shrink-0 disabled:opacity-50 ${r?"bg-violet-500":"bg-[var(--bg-inset)] border border-[var(--border)]"}`,children:l.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full transition-all ${r?"left-[18px] bg-white":"left-0.5 bg-[var(--text-dim)]"}`})})]})}const jle=["SIP Due Date","Insurance Renewal","FD Maturity","Loan EMI","Investment Review","Custom"].map(e=>({value:e,label:e})),Nle=[{value:"One-time",label:"One-time"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"},{value:"Yearly",label:"Yearly"}],Sle=[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}];function Cle({initial:e,onSave:t,onDelete:n,onCancel:r}){const a=!!e,{activeMembers:s}=pt(),c=s.map(y=>({value:y.memberId,label:y.memberName})),[u,f]=j.useState({reminderType:e?.reminderType||"",title:e?.title||"",description:e?.description||"",familyMemberId:e?.familyMemberId||"",dueDate:e?.dueDate||"",advanceNoticeDays:e?.advanceNoticeDays?.toString()||"7",frequency:e?.frequency||"One-time",priority:e?.priority||"Medium",status:e?.status||"Pending"}),[m,h]=j.useState({}),[v,x]=j.useState(!1);function b(y,C){f(M=>({...M,[y]:C})),h(M=>({...M,[y]:void 0}))}function S(){const y={};return u.reminderType||(y.reminderType="Required"),u.title.trim()||(y.title="Required"),u.familyMemberId||(y.familyMemberId="Required"),u.dueDate||(y.dueDate="Required"),h(y),Object.keys(y).length===0}async function w(){if(S()){x(!0);try{await t({...u,advanceNoticeDays:Number(u.advanceNoticeDays)||7})}finally{x(!1)}}}return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(le,{label:"Reminder Type",required:!0,error:m.reminderType,children:l.jsx(Ke,{value:u.reminderType,onChange:y=>b("reminderType",y),options:jle,placeholder:"Select type..."})}),l.jsx(le,{label:"Title",required:!0,error:m.title,children:l.jsx(ke,{value:u.title,onChange:y=>b("title",y),placeholder:"e.g., HDFC SIP Due"})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(le,{label:"Family Member",required:!0,error:m.familyMemberId,children:l.jsx(Ke,{value:u.familyMemberId,onChange:y=>b("familyMemberId",y),options:c,placeholder:"Select member..."})}),l.jsx(le,{label:"Due Date",required:!0,error:m.dueDate,children:l.jsx(ni,{value:u.dueDate,onChange:y=>b("dueDate",y),maxDate:null})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsx(le,{label:"Frequency",children:l.jsx(Ke,{value:u.frequency,onChange:y=>b("frequency",y),options:Nle})}),l.jsx(le,{label:"Priority",children:l.jsx(Ke,{value:u.priority,onChange:y=>b("priority",y),options:Sle})}),l.jsx(le,{label:"Advance Notice (days)",children:l.jsx(ke,{type:"number",value:u.advanceNoticeDays,onChange:y=>b("advanceNoticeDays",y),placeholder:"7"})})]}),a&&l.jsx(le,{label:"Status",children:l.jsx(Ke,{value:u.status,onChange:y=>b("status",y),options:[{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"}]})}),l.jsx(le,{label:"Description",children:l.jsx(wc,{value:u.description,onChange:y=>b("description",y),placeholder:"Optional details...",rows:2})}),l.jsxs("div",{className:"flex items-center justify-between",children:[a&&n?l.jsx(ns,{onClick:n,label:"Delete"}):l.jsx("div",{}),l.jsx(an,{onCancel:r,onSubmit:w,submitLabel:a?"Update Reminder":"Add Reminder",loading:v})]})]})}const Km={"SIP Due Date":"bg-violet-500/15 text-[var(--accent-violet)]","Insurance Renewal":"bg-amber-500/15 text-[var(--accent-amber)]","FD Maturity":"bg-blue-500/15 text-[var(--accent-blue)]","Loan EMI":"bg-rose-500/15 text-[var(--accent-rose)]","Investment Review":"bg-emerald-500/15 text-emerald-400",Custom:"bg-slate-500/15 text-[var(--text-muted)]"},I_={High:"bg-rose-500",Medium:"bg-amber-500",Low:"bg-blue-500"};function Ko(e){if(!e)return 1/0;const t=new Date(e)-new Date;return Math.ceil(t/(1440*60*1e3))}function Ale(){const{selectedMember:e,member:t}=Yr(),{reminderList:n,addReminder:r,updateReminder:a,deleteReminder:s}=pt(),{showToast:c,showBlockUI:u,hideBlockUI:f}=li(),m=oi(),[h,v]=j.useState(null),x=j.useMemo(()=>{const _=n.filter(E=>E.isActive!==!1);return e==="all"?_:_.filter(E=>E.familyMemberId===e)},[n,e]),b=x.filter(_=>Ko(_.dueDate)<0).length,S=x.filter(_=>{const E=Ko(_.dueDate);return E>=0&&E<=7}).length,w=x.filter(_=>{const E=Ko(_.dueDate);return E>7&&E<=30}).length,y=[...x].sort((_,E)=>{const T=Ko(_.dueDate),P=Ko(E.dueDate);return T-P});async function C(_){u("Saving...");try{h?.edit?await a(h.edit.reminderId,_):await r(_),c(h?.edit?"Reminder updated":"Reminder added"),v(null)}catch(E){c(E.message||"Failed to save reminder","error")}finally{f()}}async function M(){if(h?.edit&&await m("Delete this reminder?",{title:"Delete Reminder",confirmLabel:"Delete"})){u("Deleting...");try{await s(h.edit.reminderId),c("Reminder deleted"),v(null)}catch(_){c(_.message||"Failed to delete reminder","error")}finally{f()}}}function A(_){const E=Ko(_);return E<0?{label:`${Math.abs(E)}d overdue`,cls:"bg-rose-500/20 text-[var(--accent-rose)]"}:E===0?{label:"Today",cls:"bg-rose-500/20 text-[var(--accent-rose)]"}:E<=7?{label:`${E}d`,cls:"bg-amber-500/20 text-[var(--accent-amber)]"}:E<=30?{label:`${E}d`,cls:"bg-blue-500/20 text-[var(--accent-blue)]"}:{label:`${E}d`,cls:"bg-slate-500/20 text-[var(--text-muted)]"}}return l.jsxs("div",{className:"space-y-4",children:[x.length===0?l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[l.jsx(AF,{size:32,className:"text-[var(--text-dim)]"}),l.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No reminders",t?` for ${t.memberName}`:""]}),l.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add a reminder"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[l.jsx(Wm,{label:"Active",value:x.length}),b>0&&l.jsx(Wm,{label:"Overdue",value:b,color:"rose"}),S>0&&l.jsx(Wm,{label:"Due This Week",value:S,color:"amber"}),l.jsx(Wm,{label:"Next 30 Days",value:w})]}),l.jsx("div",{className:"flex items-center justify-end px-1",children:l.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[l.jsx(Pr,{size:14})," Add Reminder"]})}),l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"hidden sm:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm min-w-[680px]",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Reminder"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),!t&&l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),l.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Due Date"}),l.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Frequency"}),l.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),l.jsx("tbody",{children:y.map(_=>{const E=A(_.dueDate);return l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[l.jsx("td",{className:"py-2.5 px-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${I_[_.priority]||"bg-slate-400"}`}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:_.title}),_.description&&l.jsx("p",{className:"text-xs text-[var(--text-dim)] truncate max-w-[200px]",children:_.description})]})]})}),l.jsx("td",{className:"py-2.5 px-3",children:l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Km[_.reminderType]||Km.Custom}`,children:_.reminderType})}),!t&&l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:_.familyMemberName}),l.jsx("td",{className:"py-2.5 px-3 text-center",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:_.dueDate}),l.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${E.cls}`,children:E.label})]})}),l.jsx("td",{className:"py-2.5 px-3 text-center text-xs text-[var(--text-muted)]",children:_.frequency}),l.jsx("td",{className:"py-2.5 px-3 text-center",children:l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${_.status==="Pending"?"bg-amber-500/15 text-[var(--accent-amber)]":"bg-emerald-500/15 text-emerald-400"}`,children:_.status})}),l.jsx("td",{className:"py-2.5 px-2",children:l.jsx("button",{onClick:()=>v({edit:_}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:l.jsx(ka,{size:12})})})]},_.reminderId)})})]})}),l.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:y.map(_=>{const E=A(_.dueDate);return l.jsxs("div",{onClick:()=>v({edit:_}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${I_[_.priority]||"bg-slate-400"}`}),l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:_.title})]}),l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ml-2 ${Km[_.reminderType]||Km.Custom}`,children:_.reminderType})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[_.familyMemberName,"  ",_.frequency]}),l.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${E.cls}`,children:E.label})]})]},_.reminderId)})})]})]}),l.jsx(hr,{open:!!h,onClose:()=>v(null),title:h?.edit?"Edit Reminder":"Add Reminder",wide:!0,children:l.jsx(Cle,{initial:h?.edit||void 0,onSave:C,onDelete:h?.edit?M:void 0,onCancel:()=>v(null)})})]})}function Wm({label:e,value:t,color:n}){const r=n==="rose"?"text-[var(--accent-rose)]":n==="amber"?"text-[var(--accent-amber)]":"text-[var(--text-primary)]";return l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),l.jsx("p",{className:`text-sm font-bold tabular-nums ${r}`,children:t})]})}const R_={BUY:"bg-emerald-500/15 text-emerald-400",SELL:"bg-rose-500/15 text-[var(--accent-rose)]"},Mle={INITIAL:"bg-violet-500/15 text-[var(--accent-violet)]",SIP:"bg-blue-500/15 text-[var(--accent-blue)]",LUMPSUM:"bg-emerald-500/15 text-emerald-400",WITHDRAWAL:"bg-amber-500/15 text-[var(--accent-amber)]",SWITCH:"bg-orange-500/15 text-[var(--accent-orange)]"};function kle(){const{selectedMember:e}=Yr(),{mfTransactions:t,mfPortfolios:n,stockTransactions:r,stockPortfolios:a}=pt(),[s,c]=j.useState("mf"),[u,f]=j.useState("all"),m=j.useMemo(()=>{let w=[...t].sort((y,C)=>new Date(C.date)-new Date(y.date));if(e!=="all"){const y=new Set(n.filter(C=>C.ownerId===e).map(C=>C.portfolioId));w=w.filter(C=>y.has(C.portfolioId))}return u!=="all"&&(w=w.filter(y=>y.type===u)),w},[t,n,e,u]),h=j.useMemo(()=>{let w=[...r].sort((y,C)=>new Date(C.date)-new Date(y.date));if(e!=="all"){const y=new Set(a.filter(C=>C.ownerId===e).map(C=>C.portfolioId));w=w.filter(C=>y.has(C.portfolioId))}return u!=="all"&&(w=w.filter(y=>y.type===u)),w},[r,a,e,u]),v=s==="mf"?m:h,x=v.filter(w=>w.type==="BUY").reduce((w,y)=>w+(y.totalAmount||0),0),b=v.filter(w=>w.type==="SELL").reduce((w,y)=>w+(y.totalAmount||0),0),S=v.reduce((w,y)=>w+(y.gainLoss||y.realizedPL||0),0);return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[l.jsx(Qm,{label:"Transactions",value:v.length}),l.jsx(Qm,{label:"Total Bought",value:Q(x)}),l.jsx(Qm,{label:"Total Sold",value:Q(b)}),l.jsx(Qm,{label:"Realized P&L",value:`${S>=0?"+":""}${Q(Math.abs(S))}`,positive:S>=0,bold:!0})]}),l.jsxs("div",{className:"flex items-center justify-between px-1",children:[l.jsx("div",{className:"flex gap-1",children:["mf","stocks"].map(w=>l.jsx("button",{onClick:()=>c(w),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${s===w?"bg-violet-500/20 text-violet-400 border border-violet-500/30":"text-[var(--text-dim)] hover:text-[var(--text-primary)] border border-transparent"}`,children:w==="mf"?"Mutual Funds":"Stocks"},w))}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(YO,{size:12,className:"text-[var(--text-dim)]"}),["all","BUY","SELL"].map(w=>l.jsx("button",{onClick:()=>f(w),className:`px-2 py-1 text-xs font-semibold rounded transition-colors ${u===w?"bg-[var(--bg-card)] text-[var(--text-primary)] border border-[var(--border)]":"text-[var(--text-dim)] hover:text-[var(--text-muted)]"}`,children:w==="all"?"All":w},w))]})]}),l.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:v.length===0?l.jsxs("div",{className:"py-12 flex flex-col items-center gap-3",children:[l.jsx(UO,{size:32,className:"text-[var(--text-dim)]"}),l.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions found"})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"hidden sm:block overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[l.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:s==="mf"?"Fund":"Stock"}),l.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Portfolio"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:s==="mf"?"Units":"Qty"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:s==="mf"?"NAV":"Price"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),l.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"})]})}),l.jsx("tbody",{children:v.map(w=>{const y=w.gainLoss||w.realizedPL||0;return l.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[l.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-muted)] tabular-nums",children:w.date}),l.jsx("td",{className:"py-2.5 px-3",children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${R_[w.type]||""}`,children:w.type}),w.transactionType&&l.jsx("span",{className:`text-[10px] font-semibold px-1 py-0.5 rounded ${Mle[w.transactionType]||""}`,children:w.transactionType})]})}),l.jsxs("td",{className:"py-2.5 px-3",children:[l.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate max-w-[180px]",children:w.fundName||w.companyName}),l.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:w.fundCode||w.symbol})]}),l.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)]",children:w.portfolioName||""}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:(w.units||w.quantity||0).toFixed(s==="mf"?2:0)}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:Q(w.price||w.pricePerShare||0)}),l.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(w.totalAmount||0)}),l.jsx("td",{className:"py-2.5 px-3 text-right",children:y!==0?l.jsxs("span",{className:`text-xs font-semibold tabular-nums ${y>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[y>=0?"+":"",Q(Math.abs(y))]}):l.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})]},w.transactionId)})})]})}),l.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:v.map(w=>(w.gainLoss||w.realizedPL,l.jsxs("div",{className:"px-4 py-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:w.fundName||w.companyName}),l.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded shrink-0 ${R_[w.type]||""}`,children:w.type})]}),l.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[w.date,"  ",w.portfolioName]}),l.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[l.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[(w.units||w.quantity||0).toFixed(s==="mf"?2:0)," @ ",Q(w.price||w.pricePerShare||0)]}),l.jsx("span",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(w.totalAmount||0)})]})]},w.transactionId)))})]})})]})}function Qm({label:e,value:t,positive:n,bold:r}){return l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),l.jsx("p",{className:`text-sm tabular-nums ${r?"font-bold":"font-semibold"} ${n===void 0?"text-[var(--text-primary)]":n?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:t})]})}const qa=[{id:"healthIns",question:"Does your family have Health Insurance?",tip:"50L to 1Cr family floater recommended (considering inflation & future expenses)",category:"Insurance"},{id:"termLife",question:"Do you have adequate Term Life Insurance?",tip:"Recommended: 10-15x annual income",category:"Insurance"},{id:"emergencyFund",question:"Do you have an Emergency Fund?",tip:"6-12 months of monthly expenses in liquid assets",category:"Savings"},{id:"familyAware",question:"Is your family aware of all investments?",tip:"Ensure nominees and family know about all assets",category:"Planning"},{id:"hasWill",question:"Do you have a Will?",tip:"Legal document for asset distribution",category:"Planning"},{id:"nominees",question:"Have you updated Nominees on all accounts?",tip:"Bank, demat, insurance, MF  all should have nominees",category:"Planning"},{id:"goals",question:"Do you have clearly defined Financial Goals?",tip:"Retirement, education, home  with target amounts and dates",category:"Goals"}];function Dle(){const e=Jl(),{members:t,insurancePolicies:n,goalList:r,otherInvList:a,healthCheckCompleted:s,completeHealthCheck:c}=pt(),u=t.filter(R=>R.status==="Active"),f=s===!1,[m,h]=j.useState(!1),[v,x]=j.useState(!0),[b,S]=j.useState(null),w=j.useMemo(()=>{const R={},B=n.filter(Z=>Z.policyType==="Health"&&Z.status==="Active");R.healthIns=B.length>0;const D=n.filter(Z=>Z.policyType==="Term Life"&&Z.status==="Active");R.termLife=D.length>0;const W=r.filter(Z=>Z.goalType==="Emergency Fund"&&Z.isActive),X=a.filter(Z=>Z.investmentType==="FD"||Z.investmentType==="PPF");return R.emergencyFund=W.length>0||X.length>0,R.goals=r.filter(Z=>Z.isActive).length>=2,R},[n,r,a]);j.useEffect(()=>{let R=!1;async function B(){const D=await OO("healthCheckAnswers");!R&&D&&(S(D),x(!1));try{const W=await _O();!R&&W&&(S(W),hn("healthCheckAnswers",W))}catch{}R||x(!1)}return B(),()=>{R=!0}},[]);const[y,C]=j.useState(()=>{const R={};return qa.forEach(B=>{R[B.id]=w[B.id]?"yes":""}),R});j.useEffect(()=>{b&&C(R=>{const B={...R};return qa.forEach(D=>{const W=b[D.id];W==="Yes"?B[D.id]="yes":W==="No"&&(B[D.id]="no")}),B})},[b]);const M=Object.values(y).filter(R=>R).length,A=Object.values(y).filter(R=>R==="yes").length,_=M===qa.length,E=M>0?Math.round(A/qa.length*100):0;function T(){return E>=80?"text-emerald-400":E>=50?"text-[var(--accent-amber)]":"text-[var(--accent-rose)]"}function P(){return E>=80?"Excellent":E>=60?"Good":E>=40?"Needs Work":"Critical"}const O=j.useMemo(()=>{const R=[];return y.healthIns!=="yes"&&R.push({severity:"critical",text:"Get Health Insurance for your family",action:"Minimum 5L cover recommended"}),y.termLife!=="yes"&&R.push({severity:"critical",text:"Get Term Life Insurance (10-15x annual income)",action:"Compare plans online"}),y.emergencyFund!=="yes"&&R.push({severity:"warning",text:"Build an Emergency Fund",action:"Save 6-12 months expenses in liquid fund/FD"}),y.familyAware!=="yes"&&R.push({severity:"warning",text:"Share investment details with family",action:"Create a document with all account info"}),y.hasWill!=="yes"&&R.push({severity:"warning",text:"Create a legal Will",action:"Consult a lawyer for Will registration"}),y.nominees!=="yes"&&R.push({severity:"warning",text:"Update nominees on all accounts",action:"Check bank, demat, insurance, MF accounts"}),y.goals!=="yes"&&R.push({severity:"info",text:"Define clear financial goals",action:"Use the Goal Planner to set targets"}),R},[y]),L=j.useCallback(async()=>{if(_){h(!0);try{const R={};qa.forEach(B=>{R[B.id]=y[B.id]==="yes"?"Yes":"No"}),R.score=A,R.total=qa.length,await c(R),e("/dashboard")}catch(R){console.error("Failed to save health check:",R)}finally{h(!1)}}},[_,y,A,c,e]);return l.jsxs("div",{className:"space-y-4 max-w-2xl mx-auto",children:[f&&l.jsxs("div",{className:"bg-violet-500/10 border border-violet-500/20 rounded-xl p-4",children:[l.jsx("h2",{className:"text-base font-bold text-violet-400 mb-1",children:"Welcome to Capital Friends!"}),l.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Before you start, please complete this quick Financial Health Check. It takes less than a minute and helps you understand where your family stands financially."})]}),l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(HO,{size:16,className:"text-violet-400"}),l.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:"Financial Health Score"})]}),l.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[M,"/",qa.length," answered"]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"relative w-20 h-20",children:[l.jsxs("svg",{className:"w-20 h-20 -rotate-90",viewBox:"0 0 36 36",children:[l.jsx("path",{d:"M18 2.0845a 15.9155 15.9155 0 0 1 0 31.831a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"var(--border)",strokeWidth:"3"}),l.jsx("path",{d:"M18 2.0845a 15.9155 15.9155 0 0 1 0 31.831a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:`${E}, 100`,className:T(),strokeLinecap:"round"})]}),l.jsxs("span",{className:`absolute inset-0 flex items-center justify-center text-lg font-bold ${T()}`,children:[E,"%"]})]}),l.jsxs("div",{children:[l.jsx("p",{className:`text-base font-bold ${T()}`,children:P()}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:[A," of ",qa.length," checks passed"]}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[u.length," family members tracked"]})]})]})]}),l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:l.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Health Check Questions"})}),l.jsx("div",{className:"divide-y divide-[var(--border-light)]",children:qa.map((R,B)=>l.jsxs("div",{className:"px-4 py-3",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("p",{className:"text-sm text-[var(--text-primary)]",children:[l.jsxs("span",{className:"text-[var(--text-dim)] mr-2",children:[B+1,"."]}),R.question]}),l.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5 ml-5",children:R.tip})]}),l.jsxs("div",{className:"flex gap-1 shrink-0",children:[l.jsx("button",{onClick:()=>C(D=>({...D,[R.id]:"yes"})),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${y[R.id]==="yes"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"bg-[var(--bg-inset)] text-[var(--text-dim)] border border-[var(--border)] hover:text-[var(--text-primary)]"}`,children:"Yes"}),l.jsx("button",{onClick:()=>C(D=>({...D,[R.id]:"no"})),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${y[R.id]==="no"?"bg-rose-500/20 text-[var(--accent-rose)] border border-rose-500/30":"bg-[var(--bg-inset)] text-[var(--text-dim)] border border-[var(--border)] hover:text-[var(--text-primary)]"}`,children:"No"})]})]}),w[R.id]&&l.jsx("p",{className:"text-xs text-violet-400 mt-1 ml-5",children:"Auto-detected from your data"})]},R.id))})]}),O.length>0&&_&&l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:l.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Recommendations"})}),l.jsx("div",{className:"divide-y divide-[var(--border-light)]",children:O.map((R,B)=>{const D=R.severity==="critical"?l.jsx(qO,{size:14,className:"text-[var(--accent-rose)]"}):R.severity==="warning"?l.jsx(Hs,{size:14,className:"text-[var(--accent-amber)]"}):l.jsx(qF,{size:14,className:"text-[var(--accent-blue)]"});return l.jsxs("div",{className:"flex items-start gap-3 px-4 py-3",children:[l.jsx("span",{className:"shrink-0 mt-0.5",children:D}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm text-[var(--text-primary)]",children:R.text}),l.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:R.action})]})]},B)})})]}),l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[!_&&l.jsxs("p",{className:"text-xs text-[var(--accent-amber)] mb-3",children:["Please answer all ",qa.length," questions before saving."]}),l.jsx("button",{onClick:L,disabled:!_||m,className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg text-sm font-bold transition-colors ${_&&!m?"bg-violet-600 hover:bg-violet-500 text-white":"bg-[var(--bg-inset)] text-[var(--text-dim)] cursor-not-allowed"}`,children:m?l.jsxs(l.Fragment,{children:[l.jsx(WO,{size:16,className:"animate-spin"}),"Saving..."]}):f?l.jsxs(l.Fragment,{children:["Save & Continue to Dashboard",l.jsx(jF,{size:16})]}):l.jsxs(l.Fragment,{children:[l.jsx(JO,{size:16}),"Update Health Check"]})})]})]})}function Ele(){return l.jsxs("div",{className:"space-y-4 max-w-lg mx-auto",children:[l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-5 text-center",children:[l.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-indigo-600 flex items-center justify-center mx-auto mb-3",children:l.jsx("span",{className:"text-xl font-bold text-white",children:"CF"})}),l.jsx("h1",{className:"text-lg font-bold text-[var(--text-primary)]",children:"Capital Friends"}),l.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:"Family Portfolio Management"}),l.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-2",children:"v2.0.0"})]}),l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:l.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Features"})}),l.jsx("div",{className:"px-4 py-3 space-y-2",children:["Track Mutual Funds, Stocks & Other Investments","Family member-wise portfolio management","ATH-based Buy Opportunities","Smart Rebalancing with threshold alerts","Goal planning with portfolio mapping","Insurance, Liabilities & Bank Accounts","Financial Health Check questionnaire","Reminders for SIPs, renewals & due dates","Email reports with detailed breakdowns"].map(e=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-500 shrink-0"}),l.jsx("p",{className:"text-xs text-[var(--text-secondary)]",children:e})]},e))})]}),l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[l.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(xp,{size:12,className:"text-pink-400"}),l.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Support Developer"})]})}),l.jsxs("div",{className:"px-4 py-4 text-center",children:[l.jsx("p",{className:"text-sm text-[var(--text-secondary)] mb-3",children:"If Capital Friends helps you manage your family finances, consider supporting the developer."}),l.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-4 py-3 border border-[var(--border)]",children:[l.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-1",children:"UPI"}),l.jsx("p",{className:"text-sm font-mono font-semibold text-[var(--text-primary)] select-all",children:"jagadeeshmanne.hdfc@kphdfc"})]}),l.jsxs("div",{className:"flex items-center justify-center gap-1 mt-3",children:[l.jsx(GF,{size:12,className:"text-[var(--accent-amber)]"}),l.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Buy me a chai!"})]})]})]}),l.jsxs("div",{className:"text-center py-2",children:[l.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Made with ",l.jsx(xp,{size:10,className:"inline text-pink-400 mx-0.5"})," by Jagadeesh Manne"]}),l.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:"Built with React + Vite + Tailwind CSS"})]})]})}function _le(){return Date.now().toString(36).toUpperCase()}function Ole(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",t=n=>Array.from({length:n},()=>e[Math.floor(Math.random()*26)]).join("");return t(5)+Math.floor(1e3+Math.random()*9e3)+t(1)}function Tle(){return String(Math.floor(2e11+Math.random()*8e11))}function L_(){return"9"+String(Math.floor(1e8+Math.random()*9e8))}function Ple(){return String(Math.floor(1e9+Math.random()*9e9))}function Ile(){const e=_le();return{member:{memberName:`Test Member ${e}`,relationship:"Self",pan:Ole(),aadhar:Tle(),email:`test-${e.toLowerCase()}@example.com`,mobile:L_(),includeInEmailReports:!0},bank:{accountName:`Test Savings ${e}`,bankName:"Test Bank",accountNumber:Ple(),ifscCode:"TEST0001234",accountType:"Savings",branchName:"Test Branch"},investmentAccount:{accountName:`Test Demat ${e}`,accountType:"Demat",platformBroker:"Test Broker Platform",accountClientId:`CLI-${e}`,registeredEmail:`test-${e.toLowerCase()}@example.com`,registeredPhone:L_()},insurance:{policyType:"Term Life",company:"Test Insurance Co",policyNumber:`POL-${e}`,policyName:`Test Term Plan ${e}`,sumAssured:5e6,nominee:"Test Nominee",dynamicFields:{Premium:15e3,"Premium Frequency":"Annual"}},liability:{liabilityType:"Home Loan",lenderName:"Test Bank",outstandingBalance:45e5,dynamicFields:{"Principal Amount":5e6,"Interest Rate":8.5,"EMI Amount":45e3},notes:`Test liability ${e}`},otherInvestment:{investmentType:"Fixed Deposit",investmentName:`Test FD ${e}`,investedAmount:1e5,currentValue:105e3,investmentCategory:"Debt"},stockPortfolio:{portfolioName:`Test Stock Portfolio ${e}`,broker:"Test Broker"},reminder:{title:`Test Reminder ${e}`,description:"Automated test reminder",dueDate:new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0],category:"Insurance",priority:"Medium"},goal:{goalName:`Test Goal ${e}`,goalType:"Custom",targetAmount:1e6,targetDate:"2040-01-01",priority:"Medium",expectedInflation:.06,expectedCAGR:.12}}}function Rle({status:e,text:t}){const n={pass:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",fail:"bg-rose-500/20 text-rose-400 border-rose-500/30",skip:"bg-amber-500/20 text-amber-400 border-amber-500/30",running:"bg-blue-500/20 text-blue-400 border-blue-500/30",pending:"bg-gray-500/20 text-gray-400 border-gray-500/30"};return l.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded border ${n[e]||n.pending}`,children:t||e.toUpperCase()})}function Lle(){const{user:e}=eo(),[t,n]=j.useState([]),[r,a]=j.useState(!1),[s,c]=j.useState(null),[u,f]=j.useState(!1),m=j.useCallback((y,C,M="")=>{n(A=>[...A,{test:y,status:C,detail:M,time:new Date().toLocaleTimeString()}])},[]),h=j.useCallback((y,C="")=>{n(M=>{const A=[...M];return A.length>0&&(A[A.length-1]={...A[A.length-1],status:y,detail:C}),A})},[]),v=async()=>{f(!0),c(null);try{const y=await Ee("test:diagnose");c(y)}catch(y){c({error:y.message})}finally{f(!1)}},x=async()=>{a(!0),n([]);const y=Ile();let C=null,M=null,A=null,_=null,E=null,T=null,P=null,O=null,L=null,R=null;try{m("API Echo Test","running");try{const D=await Ee("test:echo",{hello:"world"});D&&D.echo&&D.echo.hello==="world"?h("pass","Echo response received correctly"):h("fail","Unexpected response: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Diagnostics","running");try{const D=await Ee("test:diagnose"),W=Object.entries(D.sheets||{}).filter(([,Z])=>!Z.exists).map(([Z])=>Z);if(W.length>0)h("fail",`Missing sheets: ${W.join(", ")}`);else{const Z=Object.keys(D.sheets).length;h("pass",`All ${Z} sheets exist. SpreadsheetId: ${D.spreadsheetId}`)}const X=Object.entries(D.dataTests||{}).filter(([,Z])=>!Z.success).map(([Z,$])=>`${Z}: ${$.error}`);X.length>0&&m("Data Function Errors","fail",X.join("; "))}catch(D){h("fail",D.message)}m("Load All Data (bulk)","running");try{const D=await vp(),W=Object.entries(D).map(([X,Z])=>`${X}: ${Array.isArray(Z)?Z.length:"?"}`);h("pass",W.join(", "))}catch(D){h("fail",D.message)}m("Members  Create","running");try{const D=await aO(y.member);C=D?.memberId,M=y.member.memberName,C?h("pass",`Created: ${C}`):h("fail","No memberId returned: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Members  List","running");try{const D=await nO();Array.isArray(D)&&D.some(X=>X.memberId===C)?h("pass",`Found ${C} in ${D.length} member(s)`):h("fail",`Member ${C} not found. Got ${Array.isArray(D)?D.length:0} members: ${JSON.stringify(D).substring(0,200)}`)}catch(D){h("fail",D.message)}if(C){m("Members  Update","running");try{await iO({...y.member,memberId:C,memberName:"Updated Test Member"}),M="Updated Test Member",h("pass",'Updated name to "Updated Test Member"')}catch(D){h("fail",D.message)}}m("Banks  Create","running");try{const D=await oO({...y.bank,memberId:C||"FM-001"});A=D?.accountId,h(A?"pass":"fail",A?`Created: ${A}`:"No accountId: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Banks  List","running");try{const D=await lO();h("pass",`${Array.isArray(D)?D.length:0} account(s)`)}catch(D){h("fail",D.message)}m("Investment Accounts  Create","running");try{const D=await dO({...y.investmentAccount,memberId:C||"FM-001",bankAccountId:A||"BA-001"});_=D?.accountId,h(_?"pass":"fail",_?`Created: ${_}`:"No accountId: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Investment Accounts  List","running");try{const D=await uO();h("pass",`${Array.isArray(D)?D.length:0} account(s)`)}catch(D){h("fail",D.message)}m("Insurance  Create","running");try{const D=await xO({...y.insurance,memberId:C||"FM-001",insuredMember:M||"Test Member"});E=D?.policyId,h(E?"pass":"fail",E?`Created: ${E}`:"No policyId: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Insurance  List","running");try{const D=await vO();h("pass",`${Array.isArray(D)?D.length:0} policy/policies`)}catch(D){h("fail",D.message)}m("Liabilities  Create","running");try{const D=await yO({...y.liability,familyMember:C||"FM-001"});T=D?.liabilityId,h(T?"pass":"fail",T?`Created: ${T}`:"No liabilityId: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Liabilities  List","running");try{const D=await bO();h("pass",`${Array.isArray(D)?D.length:0} liability/liabilities`)}catch(D){h("fail",D.message)}m("Other Investments  Create","running");try{const D=await NO({...y.otherInvestment,familyMember:C||"FM-001"});P=D?.investmentId,h(P?"pass":"fail",P?`Created: ${P}`:"No investmentId: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Other Investments  List","running");try{const D=await jO();h("pass",`${Array.isArray(D)?D.length:0} investment(s)`)}catch(D){h("fail",D.message)}m("Stock Portfolios  Create","running");try{const D=await AO({...y.stockPortfolio,owner:C||"FM-001"});O=D?.portfolioId,h(O?"pass":"fail",O?`Created: ${O}`:"No portfolioId: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Stock Portfolios  List","running");try{const D=await CO();h("pass",`${Array.isArray(D)?D.length:0} portfolio(s)`)}catch(D){h("fail",D.message)}m("Reminders  Create","running");try{const D=await DO(y.reminder);L=D?.reminderId,h(L?"pass":"fail",L?`Created: ${L}`:"No reminderId: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Reminders  List","running");try{const D=await kO();h("pass",`${Array.isArray(D)?D.length:0} reminder(s)`)}catch(D){h("fail",D.message)}m("Goals  Create","running");try{const D=await pO(y.goal);R=D?.goalId,h(R?"pass":"fail",R?`Created: ${R}`:"No goalId: "+JSON.stringify(D))}catch(D){h("fail",D.message)}m("Goals  List","running");try{const D=await mO();h("pass",`${Array.isArray(D)?D.length:0} goal(s)`)}catch(D){h("fail",D.message)}m("Cleanup  Delete test data","running");const B=[];if(R)try{await hO(R)}catch(D){B.push("goal: "+D.message)}if(L)try{await EO(L)}catch(D){B.push("reminder: "+D.message)}if(O)try{await MO(O)}catch(D){B.push("stockPortfolio: "+D.message)}if(P)try{await SO(P)}catch(D){B.push("otherInv: "+D.message)}if(T)try{await wO(T)}catch(D){B.push("liability: "+D.message)}if(E)try{await gO(E)}catch(D){B.push("insurance: "+D.message)}if(_)try{await fO(_)}catch(D){B.push("invAcct: "+D.message)}if(A)try{await cO(A)}catch(D){B.push("bank: "+D.message)}if(C)try{await sO(C)}catch(D){B.push("member: "+D.message)}B.length>0?h("fail",B.join("; ")):h("pass","All test data cleaned up"),m("Final Load All (post-cleanup)","running");try{const D=await vp(),W=Object.entries(D).map(([X,Z])=>`${X}: ${Array.isArray(Z)?Z.length:"?"}`);h("pass",W.join(", "))}catch(D){h("fail",D.message)}}catch(B){m("UNEXPECTED ERROR","fail",B.message)}finally{a(!1)}},b=t.filter(y=>y.status==="pass").length,S=t.filter(y=>y.status==="fail").length,w=t.filter(y=>y.status!=="running").length;return l.jsx("div",{className:"min-h-screen bg-[var(--bg-main)] p-4 max-w-3xl mx-auto",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-lg font-bold text-[var(--text-primary)]",children:"API Test Suite"}),l.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Signed in as ",e?.email||"unknown"]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:v,disabled:u||r,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-[var(--bg-card)] border border-[var(--border)] text-[var(--text-secondary)] hover:bg-[var(--bg-elevated)] disabled:opacity-50 cursor-pointer",children:u?"Running...":"Diagnostics"}),l.jsx("button",{onClick:x,disabled:r,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-violet-600 text-white hover:bg-violet-700 disabled:opacity-50 cursor-pointer",children:r?"Running Tests...":"Run All Tests"})]})]}),w>0&&l.jsxs("div",{className:"flex gap-3 text-xs",children:[l.jsxs("span",{className:"text-emerald-400",children:["Pass: ",b]}),l.jsxs("span",{className:"text-rose-400",children:["Fail: ",S]}),l.jsxs("span",{className:"text-[var(--text-dim)]",children:["Total: ",w]})]}),s&&l.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4 space-y-3",children:[l.jsx("h2",{className:"text-sm font-semibold text-[var(--text-primary)]",children:"Diagnostics Report"}),s.error?l.jsx("p",{className:"text-xs text-rose-400",children:s.error}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-xs text-[var(--text-secondary)] space-y-1",children:[l.jsxs("p",{children:[l.jsx("span",{className:"text-[var(--text-dim)]",children:"Spreadsheet:"})," ",s.spreadsheetName]}),l.jsxs("p",{children:[l.jsx("span",{className:"text-[var(--text-dim)]",children:"ID:"})," ",l.jsx("code",{className:"text-[10px]",children:s.spreadsheetId})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs font-medium text-[var(--text-primary)] mb-1",children:"Sheets"}),l.jsx("div",{className:"grid grid-cols-2 gap-1",children:Object.entries(s.sheets||{}).map(([y,C])=>l.jsxs("div",{className:"flex items-center justify-between text-[11px] px-2 py-1 rounded bg-[var(--bg-elevated)]",children:[l.jsx("span",{className:"text-[var(--text-secondary)] truncate",children:y}),C.exists?l.jsxs("span",{className:"text-emerald-400 ml-1",children:[C.dataRows,"r"]}):l.jsx("span",{className:"text-rose-400 ml-1",children:"MISSING"})]},y))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs font-medium text-[var(--text-primary)] mb-1",children:"Data Functions"}),l.jsx("div",{className:"space-y-1",children:Object.entries(s.dataTests||{}).map(([y,C])=>l.jsxs("div",{className:"flex items-center justify-between text-[11px] px-2 py-1 rounded bg-[var(--bg-elevated)]",children:[l.jsx("span",{className:"text-[var(--text-secondary)]",children:y}),C.success?l.jsxs("span",{className:"text-emerald-400",children:[C.count," items"]}):l.jsx("span",{className:"text-rose-400 truncate ml-2 max-w-[200px]",title:C.error,children:C.error})]},y))})]}),s.safeCallErrors&&s.safeCallErrors.length>0&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs font-medium text-rose-400 mb-1",children:"SafeCall Errors"}),s.safeCallErrors.map((y,C)=>l.jsxs("p",{className:"text-[11px] text-rose-400",children:[y.fn,": ",y.error]},C))]})]})]}),t.length>0&&l.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:l.jsx("div",{className:"divide-y divide-[var(--border)]",children:t.map((y,C)=>l.jsxs("div",{className:"px-4 py-2 flex items-start gap-3",children:[l.jsx("div",{className:"mt-0.5 shrink-0",children:l.jsx(Rle,{status:y.status})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:y.test}),y.detail&&l.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5 break-all",children:y.detail})]}),l.jsx("span",{className:"text-[10px] text-[var(--text-dim)] shrink-0",children:y.time})]},C))})}),t.length===0&&!s&&l.jsxs("div",{className:"text-center py-12 text-[var(--text-dim)]",children:[l.jsx("p",{className:"text-sm",children:'Click "Run All Tests" to test all CRUD operations'}),l.jsx("p",{className:"text-xs mt-1",children:'or "Diagnostics" to check spreadsheet structure'})]})]})})}function zle(){return l.jsxs(z6,{children:[l.jsx(Jt,{index:!0,element:l.jsx(Eie,{})}),l.jsx(Jt,{path:"login",element:l.jsx(fI,{})}),l.jsx(Jt,{element:l.jsx(Cie,{}),children:l.jsxs(Jt,{element:l.jsx(Sie,{}),children:[l.jsx(Jt,{path:"dashboard",element:l.jsx(pp,{to:"/investments/mutual-funds",replace:!0})}),l.jsx(Jt,{path:"family",element:l.jsx(dle,{})}),l.jsx(Jt,{path:"accounts/bank",element:l.jsx(m_,{})}),l.jsx(Jt,{path:"accounts/investment",element:l.jsx(Rie,{})}),l.jsx(Jt,{path:"insurance",element:l.jsx(Bie,{})}),l.jsx(Jt,{path:"investments/mutual-funds",element:l.jsx(ele,{})}),l.jsx(Jt,{path:"investments/stocks",element:l.jsx(ole,{})}),l.jsx(Jt,{path:"investments/other",element:l.jsx(Zie,{})}),l.jsx(Jt,{path:"liabilities",element:l.jsx(Uie,{})}),l.jsx(Jt,{path:"goals",element:l.jsx(xle,{})}),l.jsx(Jt,{path:"reports",element:l.jsx(kle,{})}),l.jsx(Jt,{path:"reminders",element:l.jsx(Ale,{})}),l.jsx(Jt,{path:"health-check",element:l.jsx(Dle,{})}),l.jsx(Jt,{path:"about",element:l.jsx(Ele,{})}),l.jsx(Jt,{path:"test",element:l.jsx(Lle,{})}),l.jsx(Jt,{path:"settings",element:l.jsx(yle,{})}),l.jsx(Jt,{path:"more",element:l.jsx(ble,{})}),l.jsx(Jt,{path:"accounts",element:l.jsx(m_,{})}),l.jsx(Jt,{path:"*",element:l.jsx(_ie,{})})]})})]})}FL.createRoot(document.getElementById("root")).render(l.jsx(oz,{children:l.jsx(cF,{children:l.jsx(uF,{children:l.jsx(yB,{children:l.jsx(cB,{children:l.jsx(uB,{children:l.jsx(fF,{children:l.jsx(mF,{children:l.jsx(zle,{})})})})})})})})}));
