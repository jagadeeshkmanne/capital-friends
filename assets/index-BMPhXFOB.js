function Gj(s,l){for(var r=0;r<l.length;r++){const a=l[r];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in s)){const u=Object.getOwnPropertyDescriptor(a,o);u&&Object.defineProperty(s,o,u.get?u:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();function xg(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var nf={exports:{}},Hi={};var x0;function Qj(){if(x0)return Hi;x0=1;var s=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function r(a,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:u}}return Hi.Fragment=l,Hi.jsx=r,Hi.jsxs=r,Hi}var h0;function Kj(){return h0||(h0=1,nf.exports=Qj()),nf.exports}var t=Kj(),rf={exports:{}},$e={};var v0;function Xj(){if(v0)return $e;v0=1;var s=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),g=Symbol.iterator;function w(z){return z===null||typeof z!="object"?null:(z=g&&z[g]||z["@@iterator"],typeof z=="function"?z:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,y={};function j(z,ee,fe){this.props=z,this.context=ee,this.refs=y,this.updater=fe||M}j.prototype.isReactComponent={},j.prototype.setState=function(z,ee){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ee,"setState")},j.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function D(){}D.prototype=j.prototype;function k(z,ee,fe){this.props=z,this.context=ee,this.refs=y,this.updater=fe||M}var _=k.prototype=new D;_.constructor=k,S(_,j.prototype),_.isPureReactComponent=!0;var O=Array.isArray;function q(){}var P={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function F(z,ee,fe){var xe=fe.ref;return{$$typeof:s,type:z,key:ee,ref:xe!==void 0?xe:null,props:fe}}function I(z,ee){return F(z.type,ee,z.props)}function $(z){return typeof z=="object"&&z!==null&&z.$$typeof===s}function A(z){var ee={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(fe){return ee[fe]})}var se=/\/+/g;function ce(z,ee){return typeof z=="object"&&z!==null&&z.key!=null?A(""+z.key):ee.toString(36)}function le(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(q,q):(z.status="pending",z.then(function(ee){z.status==="pending"&&(z.status="fulfilled",z.value=ee)},function(ee){z.status==="pending"&&(z.status="rejected",z.reason=ee)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function B(z,ee,fe,xe,Ae){var Te=typeof z;(Te==="undefined"||Te==="boolean")&&(z=null);var we=!1;if(z===null)we=!0;else switch(Te){case"bigint":case"string":case"number":we=!0;break;case"object":switch(z.$$typeof){case s:case l:we=!0;break;case v:return we=z._init,B(we(z._payload),ee,fe,xe,Ae)}}if(we)return Ae=Ae(z),we=xe===""?"."+ce(z,0):xe,O(Ae)?(fe="",we!=null&&(fe=we.replace(se,"$&/")+"/"),B(Ae,ee,fe,"",function(jt){return jt})):Ae!=null&&($(Ae)&&(Ae=I(Ae,fe+(Ae.key==null||z&&z.key===Ae.key?"":(""+Ae.key).replace(se,"$&/")+"/")+we)),ee.push(Ae)),1;we=0;var ke=xe===""?".":xe+":";if(O(z))for(var Pe=0;Pe<z.length;Pe++)xe=z[Pe],Te=ke+ce(xe,Pe),we+=B(xe,ee,fe,Te,Ae);else if(Pe=w(z),typeof Pe=="function")for(z=Pe.call(z),Pe=0;!(xe=z.next()).done;)xe=xe.value,Te=ke+ce(xe,Pe++),we+=B(xe,ee,fe,Te,Ae);else if(Te==="object"){if(typeof z.then=="function")return B(le(z),ee,fe,xe,Ae);throw ee=String(z),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return we}function W(z,ee,fe){if(z==null)return z;var xe=[],Ae=0;return B(z,xe,"","",function(Te){return ee.call(fe,Te,Ae++)}),xe}function L(z){if(z._status===-1){var ee=z._result;ee=ee(),ee.then(function(fe){(z._status===0||z._status===-1)&&(z._status=1,z._result=fe)},function(fe){(z._status===0||z._status===-1)&&(z._status=2,z._result=fe)}),z._status===-1&&(z._status=0,z._result=ee)}if(z._status===1)return z._result.default;throw z._result}var re=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},he={map:W,forEach:function(z,ee,fe){W(z,function(){ee.apply(this,arguments)},fe)},count:function(z){var ee=0;return W(z,function(){ee++}),ee},toArray:function(z){return W(z,function(ee){return ee})||[]},only:function(z){if(!$(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return $e.Activity=b,$e.Children=he,$e.Component=j,$e.Fragment=r,$e.Profiler=o,$e.PureComponent=k,$e.StrictMode=a,$e.Suspense=x,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,$e.__COMPILER_RUNTIME={__proto__:null,c:function(z){return P.H.useMemoCache(z)}},$e.cache=function(z){return function(){return z.apply(null,arguments)}},$e.cacheSignal=function(){return null},$e.cloneElement=function(z,ee,fe){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var xe=S({},z.props),Ae=z.key;if(ee!=null)for(Te in ee.key!==void 0&&(Ae=""+ee.key),ee)!T.call(ee,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&ee.ref===void 0||(xe[Te]=ee[Te]);var Te=arguments.length-2;if(Te===1)xe.children=fe;else if(1<Te){for(var we=Array(Te),ke=0;ke<Te;ke++)we[ke]=arguments[ke+2];xe.children=we}return F(z.type,Ae,xe)},$e.createContext=function(z){return z={$$typeof:d,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:u,_context:z},z},$e.createElement=function(z,ee,fe){var xe,Ae={},Te=null;if(ee!=null)for(xe in ee.key!==void 0&&(Te=""+ee.key),ee)T.call(ee,xe)&&xe!=="key"&&xe!=="__self"&&xe!=="__source"&&(Ae[xe]=ee[xe]);var we=arguments.length-2;if(we===1)Ae.children=fe;else if(1<we){for(var ke=Array(we),Pe=0;Pe<we;Pe++)ke[Pe]=arguments[Pe+2];Ae.children=ke}if(z&&z.defaultProps)for(xe in we=z.defaultProps,we)Ae[xe]===void 0&&(Ae[xe]=we[xe]);return F(z,Te,Ae)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(z){return{$$typeof:m,render:z}},$e.isValidElement=$,$e.lazy=function(z){return{$$typeof:v,_payload:{_status:-1,_result:z},_init:L}},$e.memo=function(z,ee){return{$$typeof:p,type:z,compare:ee===void 0?null:ee}},$e.startTransition=function(z){var ee=P.T,fe={};P.T=fe;try{var xe=z(),Ae=P.S;Ae!==null&&Ae(fe,xe),typeof xe=="object"&&xe!==null&&typeof xe.then=="function"&&xe.then(q,re)}catch(Te){re(Te)}finally{ee!==null&&fe.types!==null&&(ee.types=fe.types),P.T=ee}},$e.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},$e.use=function(z){return P.H.use(z)},$e.useActionState=function(z,ee,fe){return P.H.useActionState(z,ee,fe)},$e.useCallback=function(z,ee){return P.H.useCallback(z,ee)},$e.useContext=function(z){return P.H.useContext(z)},$e.useDebugValue=function(){},$e.useDeferredValue=function(z,ee){return P.H.useDeferredValue(z,ee)},$e.useEffect=function(z,ee){return P.H.useEffect(z,ee)},$e.useEffectEvent=function(z){return P.H.useEffectEvent(z)},$e.useId=function(){return P.H.useId()},$e.useImperativeHandle=function(z,ee,fe){return P.H.useImperativeHandle(z,ee,fe)},$e.useInsertionEffect=function(z,ee){return P.H.useInsertionEffect(z,ee)},$e.useLayoutEffect=function(z,ee){return P.H.useLayoutEffect(z,ee)},$e.useMemo=function(z,ee){return P.H.useMemo(z,ee)},$e.useOptimistic=function(z,ee){return P.H.useOptimistic(z,ee)},$e.useReducer=function(z,ee,fe){return P.H.useReducer(z,ee,fe)},$e.useRef=function(z){return P.H.useRef(z)},$e.useState=function(z){return P.H.useState(z)},$e.useSyncExternalStore=function(z,ee,fe){return P.H.useSyncExternalStore(z,ee,fe)},$e.useTransition=function(){return P.H.useTransition()},$e.version="19.2.4",$e}var b0;function Wf(){return b0||(b0=1,rf.exports=Xj()),rf.exports}var N=Wf();const ne=xg(N),hg=Gj({__proto__:null,default:ne},[N]);var sf={exports:{}},Yi={},lf={exports:{}},of={};var g0;function Wj(){return g0||(g0=1,(function(s){function l(B,W){var L=B.length;B.push(W);e:for(;0<L;){var re=L-1>>>1,he=B[re];if(0<o(he,W))B[re]=W,B[L]=he,L=re;else break e}}function r(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var W=B[0],L=B.pop();if(L!==W){B[0]=L;e:for(var re=0,he=B.length,z=he>>>1;re<z;){var ee=2*(re+1)-1,fe=B[ee],xe=ee+1,Ae=B[xe];if(0>o(fe,L))xe<he&&0>o(Ae,fe)?(B[re]=Ae,B[xe]=L,re=xe):(B[re]=fe,B[ee]=L,re=ee);else if(xe<he&&0>o(Ae,L))B[re]=Ae,B[xe]=L,re=xe;else break e}}return W}function o(B,W){var L=B.sortIndex-W.sortIndex;return L!==0?L:B.id-W.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();s.unstable_now=function(){return d.now()-m}}var x=[],p=[],v=1,b=null,g=3,w=!1,M=!1,S=!1,y=!1,j=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function _(B){for(var W=r(p);W!==null;){if(W.callback===null)a(p);else if(W.startTime<=B)a(p),W.sortIndex=W.expirationTime,l(x,W);else break;W=r(p)}}function O(B){if(S=!1,_(B),!M)if(r(x)!==null)M=!0,q||(q=!0,A());else{var W=r(p);W!==null&&le(O,W.startTime-B)}}var q=!1,P=-1,T=5,F=-1;function I(){return y?!0:!(s.unstable_now()-F<T)}function $(){if(y=!1,q){var B=s.unstable_now();F=B;var W=!0;try{e:{M=!1,S&&(S=!1,D(P),P=-1),w=!0;var L=g;try{t:{for(_(B),b=r(x);b!==null&&!(b.expirationTime>B&&I());){var re=b.callback;if(typeof re=="function"){b.callback=null,g=b.priorityLevel;var he=re(b.expirationTime<=B);if(B=s.unstable_now(),typeof he=="function"){b.callback=he,_(B),W=!0;break t}b===r(x)&&a(x),_(B)}else a(x);b=r(x)}if(b!==null)W=!0;else{var z=r(p);z!==null&&le(O,z.startTime-B),W=!1}}break e}finally{b=null,g=L,w=!1}W=void 0}}finally{W?A():q=!1}}}var A;if(typeof k=="function")A=function(){k($)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,ce=se.port2;se.port1.onmessage=$,A=function(){ce.postMessage(null)}}else A=function(){j($,0)};function le(B,W){P=j(function(){B(s.unstable_now())},W)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(B){B.callback=null},s.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<B?Math.floor(1e3/B):5},s.unstable_getCurrentPriorityLevel=function(){return g},s.unstable_next=function(B){switch(g){case 1:case 2:case 3:var W=3;break;default:W=g}var L=g;g=W;try{return B()}finally{g=L}},s.unstable_requestPaint=function(){y=!0},s.unstable_runWithPriority=function(B,W){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var L=g;g=B;try{return W()}finally{g=L}},s.unstable_scheduleCallback=function(B,W,L){var re=s.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?re+L:re):L=re,B){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=L+he,B={id:v++,callback:W,priorityLevel:B,startTime:L,expirationTime:he,sortIndex:-1},L>re?(B.sortIndex=L,l(p,B),r(x)===null&&B===r(p)&&(S?(D(P),P=-1):S=!0,le(O,L-re))):(B.sortIndex=he,l(x,B),M||w||(M=!0,q||(q=!0,A()))),B},s.unstable_shouldYield=I,s.unstable_wrapCallback=function(B){var W=g;return function(){var L=g;g=W;try{return B.apply(this,arguments)}finally{g=L}}}})(of)),of}var y0;function Zj(){return y0||(y0=1,lf.exports=Wj()),lf.exports}var cf={exports:{}},ma={};var N0;function Jj(){if(N0)return ma;N0=1;var s=Wf();function l(x){var p="https://react.dev/errors/"+x;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+x+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(l(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(x,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:x,containerInfo:p,implementation:v}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(x,p){if(x==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ma.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ma.createPortal=function(x,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(l(299));return u(x,p,null,v)},ma.flushSync=function(x){var p=d.T,v=a.p;try{if(d.T=null,a.p=2,x)return x()}finally{d.T=p,a.p=v,a.d.f()}},ma.preconnect=function(x,p){typeof x=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(x,p))},ma.prefetchDNS=function(x){typeof x=="string"&&a.d.D(x)},ma.preinit=function(x,p){if(typeof x=="string"&&p&&typeof p.as=="string"){var v=p.as,b=m(v,p.crossOrigin),g=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?a.d.S(x,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:g,fetchPriority:w}):v==="script"&&a.d.X(x,{crossOrigin:b,integrity:g,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ma.preinitModule=function(x,p){if(typeof x=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=m(p.as,p.crossOrigin);a.d.M(x,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(x)},ma.preload=function(x,p){if(typeof x=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=m(v,p.crossOrigin);a.d.L(x,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ma.preloadModule=function(x,p){if(typeof x=="string")if(p){var v=m(p.as,p.crossOrigin);a.d.m(x,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(x)},ma.requestFormReset=function(x){a.d.r(x)},ma.unstable_batchedUpdates=function(x,p){return x(p)},ma.useFormState=function(x,p,v){return d.H.useFormState(x,p,v)},ma.useFormStatus=function(){return d.H.useHostTransitionStatus()},ma.version="19.2.4",ma}var j0;function vg(){if(j0)return cf.exports;j0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(l){console.error(l)}}return s(),cf.exports=Jj(),cf.exports}var w0;function ew(){if(w0)return Yi;w0=1;var s=Zj(),l=Wf(),r=vg();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function x(e){if(u(e)!==e)throw Error(a(188))}function p(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(a(188));return n!==e?null:e}for(var i=e,c=n;;){var f=i.return;if(f===null)break;var h=f.alternate;if(h===null){if(c=f.return,c!==null){i=c;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===i)return x(f),e;if(h===c)return x(f),n;h=h.sibling}throw Error(a(188))}if(i.return!==c.return)i=f,c=h;else{for(var C=!1,E=f.child;E;){if(E===i){C=!0,i=f,c=h;break}if(E===c){C=!0,c=f,i=h;break}E=E.sibling}if(!C){for(E=h.child;E;){if(E===i){C=!0,i=h,c=f;break}if(E===c){C=!0,c=h,i=f;break}E=E.sibling}if(!C)throw Error(a(189))}}if(i.alternate!==c)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,g=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),k=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function A(e){return e===null||typeof e!="object"?null:(e=$&&e[$]||e["@@iterator"],typeof e=="function"?e:null)}var se=Symbol.for("react.client.reference");function ce(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===se?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case j:return"Profiler";case y:return"StrictMode";case O:return"Suspense";case q:return"SuspenseList";case F:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case k:return e.displayName||"Context";case D:return(e._context.displayName||"Context")+".Consumer";case _:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case P:return n=e.displayName||null,n!==null?n:ce(e.type)||"Memo";case T:n=e._payload,e=e._init;try{return ce(e(n))}catch{}}return null}var le=Array.isArray,B=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},re=[],he=-1;function z(e){return{current:e}}function ee(e){0>he||(e.current=re[he],re[he]=null,he--)}function fe(e,n){he++,re[he]=e.current,e.current=n}var xe=z(null),Ae=z(null),Te=z(null),we=z(null);function ke(e,n){switch(fe(Te,n),fe(Ae,e),fe(xe,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?zv(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=zv(n),e=Fv(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ee(xe),fe(xe,e)}function Pe(){ee(xe),ee(Ae),ee(Te)}function jt(e){e.memoizedState!==null&&fe(we,e);var n=xe.current,i=Fv(n,e.type);n!==i&&(fe(Ae,e),fe(xe,i))}function Yt(e){Ae.current===e&&(ee(xe),ee(Ae)),we.current===e&&(ee(we),Pi._currentValue=L)}var ha,wt;function ge(e){if(ha===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);ha=n&&n[1]||"",wt=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ha+e+wt}var He=!1;function rt(e,n){if(!e||He)return"";He=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(te){var J=te}Reflect.construct(e,[],de)}else{try{de.call()}catch(te){J=te}e.call(de.prototype)}}else{try{throw Error()}catch(te){J=te}(de=e())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(te){if(te&&J&&typeof te.stack=="string")return[te.stack,J.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=c.DetermineComponentFrameRoot(),C=h[0],E=h[1];if(C&&E){var H=C.split(`
`),X=E.split(`
`);for(f=c=0;c<H.length&&!H[c].includes("DetermineComponentFrameRoot");)c++;for(;f<X.length&&!X[f].includes("DetermineComponentFrameRoot");)f++;if(c===H.length||f===X.length)for(c=H.length-1,f=X.length-1;1<=c&&0<=f&&H[c]!==X[f];)f--;for(;1<=c&&0<=f;c--,f--)if(H[c]!==X[f]){if(c!==1||f!==1)do if(c--,f--,0>f||H[c]!==X[f]){var oe=`
`+H[c].replace(" at new "," at ");return e.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",e.displayName)),oe}while(1<=c&&0<=f);break}}}finally{He=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?ge(i):""}function Tt(e,n){switch(e.tag){case 26:case 27:case 5:return ge(e.type);case 16:return ge("Lazy");case 13:return e.child!==n&&n!==null?ge("Suspense Fallback"):ge("Suspense");case 19:return ge("SuspenseList");case 0:case 15:return rt(e.type,!1);case 11:return rt(e.type.render,!1);case 1:return rt(e.type,!0);case 31:return ge("Activity");default:return""}}function ht(e){try{var n="",i=null;do n+=Tt(e,i),i=e,e=e.return;while(e);return n}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var aa=Object.prototype.hasOwnProperty,Jt=s.unstable_scheduleCallback,dt=s.unstable_cancelCallback,ea=s.unstable_shouldYield,Na=s.unstable_requestPaint,Rt=s.unstable_now,Ia=s.unstable_getCurrentPriorityLevel,Ie=s.unstable_ImmediatePriority,Z=s.unstable_UserBlockingPriority,R=s.unstable_NormalPriority,V=s.unstable_LowPriority,me=s.unstable_IdlePriority,De=s.log,qe=s.unstable_setDisableYieldValue,ie=null,_e=null;function je(e){if(typeof De=="function"&&qe(e),_e&&typeof _e.setStrictMode=="function")try{_e.setStrictMode(ie,e)}catch{}}var ve=Math.clz32?Math.clz32:St,at=Math.log,Ue=Math.LN2;function St(e){return e>>>=0,e===0?32:31-(at(e)/Ue|0)|0}var ze=256,Ee=262144,_t=4194304;function Nt(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function qt(e,n,i){var c=e.pendingLanes;if(c===0)return 0;var f=0,h=e.suspendedLanes,C=e.pingedLanes;e=e.warmLanes;var E=c&134217727;return E!==0?(c=E&~h,c!==0?f=Nt(c):(C&=E,C!==0?f=Nt(C):i||(i=E&~e,i!==0&&(f=Nt(i))))):(E=c&~h,E!==0?f=Nt(E):C!==0?f=Nt(C):i||(i=c&~e,i!==0&&(f=Nt(i)))),f===0?0:n!==0&&n!==f&&(n&h)===0&&(h=f&-f,i=n&-n,h>=i||h===32&&(i&4194048)!==0)?n:f}function na(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function is(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function be(){var e=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),e}function Kt(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Ka(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $n(e,n,i,c,f,h){var C=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var E=e.entanglements,H=e.expirationTimes,X=e.hiddenUpdates;for(i=C&~i;0<i;){var oe=31-ve(i),de=1<<oe;E[oe]=0,H[oe]=-1;var J=X[oe];if(J!==null)for(X[oe]=null,oe=0;oe<J.length;oe++){var te=J[oe];te!==null&&(te.lane&=-536870913)}i&=~de}c!==0&&Vn(e,c,0),h!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=h&~(C&~n))}function Vn(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var c=31-ve(n);e.entangledLanes|=n,e.entanglements[c]=e.entanglements[c]|1073741824|i&261930}function Gn(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var c=31-ve(i),f=1<<c;f&n|e[c]&n&&(e[c]|=n),i&=~f}}function os(e,n){var i=n&-n;return i=(i&42)!==0?1:Qn(i),(i&(e.suspendedLanes|n))!==0?0:i}function Qn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Cr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function bo(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:o0(e.type))}function go(e,n){var i=W.p;try{return W.p=e,n()}finally{W.p=i}}var jn=Math.random().toString(36).slice(2),Xt="__reactFiber$"+jn,da="__reactProps$"+jn,kr="__reactContainer$"+jn,Zl="__reactEvents$"+jn,Qu="__reactListeners$"+jn,Ku="__reactHandles$"+jn,yo="__reactResources$"+jn,cs="__reactMarker$"+jn;function Jl(e){delete e[Xt],delete e[da],delete e[Zl],delete e[Qu],delete e[Ku]}function Dr(e){var n=e[Xt];if(n)return n;for(var i=e.parentNode;i;){if(n=i[kr]||i[Xt]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=Vv(e);e!==null;){if(i=e[Xt])return i;e=Vv(e)}return n}e=i,i=e.parentNode}return null}function Mr(e){if(e=e[Xt]||e[kr]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function pe(e){var n=e[yo];return n||(n=e[yo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function st(e){e[cs]=!0}var ja=new Set,wn={};function wa(e,n){Xa(e,n),Xa(e+"Capture",n)}function Xa(e,n){for(wn[e]=n,e=0;e<n.length;e++)ja.add(n[e])}var No=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),us={},Ap={};function F1(e){return aa.call(Ap,e)?!0:aa.call(us,e)?!1:No.test(e)?Ap[e]=!0:(us[e]=!0,!1)}function jo(e,n,i){if(F1(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function wo(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function Kn(e,n,i,c){if(c===null)e.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+c)}}function Wa(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ep(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function B1(e,n,i){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,h=c.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(C){i=""+C,h.call(this,C)}}),Object.defineProperty(e,n,{enumerable:c.enumerable}),{getValue:function(){return i},setValue:function(C){i=""+C},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Xu(e){if(!e._valueTracker){var n=Ep(e)?"checked":"value";e._valueTracker=B1(e,n,""+e[n])}}function Tp(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),c="";return e&&(c=Ep(e)?e.checked?"true":"false":e.value),e=c,e!==i?(n.setValue(e),!0):!1}function So(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var H1=/[\n"\\]/g;function Za(e){return e.replace(H1,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Wu(e,n,i,c,f,h,C,E){e.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.type=C:e.removeAttribute("type"),n!=null?C==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Wa(n)):e.value!==""+Wa(n)&&(e.value=""+Wa(n)):C!=="submit"&&C!=="reset"||e.removeAttribute("value"),n!=null?Zu(e,C,Wa(n)):i!=null?Zu(e,C,Wa(i)):c!=null&&e.removeAttribute("value"),f==null&&h!=null&&(e.defaultChecked=!!h),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Wa(E):e.removeAttribute("name")}function _p(e,n,i,c,f,h,C,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){Xu(e);return}i=i!=null?""+Wa(i):"",n=n!=null?""+Wa(n):i,E||n===e.value||(e.value=n),e.defaultValue=n}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=E?e.checked:!!c,e.defaultChecked=!!c,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(e.name=C),Xu(e)}function Zu(e,n,i){n==="number"&&So(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Us(e,n,i,c){if(e=e.options,n){n={};for(var f=0;f<i.length;f++)n["$"+i[f]]=!0;for(i=0;i<e.length;i++)f=n.hasOwnProperty("$"+e[i].value),e[i].selected!==f&&(e[i].selected=f),f&&c&&(e[i].defaultSelected=!0)}else{for(i=""+Wa(i),n=null,f=0;f<e.length;f++){if(e[f].value===i){e[f].selected=!0,c&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function Op(e,n,i){if(n!=null&&(n=""+Wa(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+Wa(i):""}function Rp(e,n,i,c){if(n==null){if(c!=null){if(i!=null)throw Error(a(92));if(le(c)){if(1<c.length)throw Error(a(93));c=c[0]}i=c}i==null&&(i=""),n=i}i=Wa(n),e.defaultValue=i,c=e.textContent,c===i&&c!==""&&c!==null&&(e.value=c),Xu(e)}function $s(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var Y1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lp(e,n,i){var c=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?c?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":c?e.setProperty(n,i):typeof i!="number"||i===0||Y1.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function Ip(e,n,i){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,i!=null){for(var c in i)!i.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var f in n)c=n[f],n.hasOwnProperty(f)&&i[f]!==c&&Lp(e,f,c)}else for(var h in n)n.hasOwnProperty(h)&&Lp(e,h,n[h])}function Ju(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var q1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),U1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Co(e){return U1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Xn(){}var ed=null;function td(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vs=null,Gs=null;function Pp(e){var n=Mr(e);if(n&&(e=n.stateNode)){var i=e[da]||null;e:switch(e=n.stateNode,n.type){case"input":if(Wu(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Za(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var c=i[n];if(c!==e&&c.form===e.form){var f=c[da]||null;if(!f)throw Error(a(90));Wu(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<i.length;n++)c=i[n],c.form===e.form&&Tp(c)}break e;case"textarea":Op(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&Us(e,!!i.multiple,n,!1)}}}var ad=!1;function zp(e,n,i){if(ad)return e(n,i);ad=!0;try{var c=e(n);return c}finally{if(ad=!1,(Vs!==null||Gs!==null)&&(mc(),Vs&&(n=Vs,e=Gs,Gs=Vs=null,Pp(n),e)))for(n=0;n<e.length;n++)Pp(e[n])}}function ei(e,n){var i=e.stateNode;if(i===null)return null;var c=i[da]||null;if(c===null)return null;i=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(a(231,n,typeof i));return i}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nd=!1;if(Wn)try{var ti={};Object.defineProperty(ti,"passive",{get:function(){nd=!0}}),window.addEventListener("test",ti,ti),window.removeEventListener("test",ti,ti)}catch{nd=!1}var Ar=null,rd=null,ko=null;function Fp(){if(ko)return ko;var e,n=rd,i=n.length,c,f="value"in Ar?Ar.value:Ar.textContent,h=f.length;for(e=0;e<i&&n[e]===f[e];e++);var C=i-e;for(c=1;c<=C&&n[i-c]===f[h-c];c++);return ko=f.slice(e,1<c?1-c:void 0)}function Do(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Mo(){return!0}function Bp(){return!1}function Sa(e){function n(i,c,f,h,C){this._reactName=i,this._targetInst=f,this.type=c,this.nativeEvent=h,this.target=C,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(i=e[E],this[E]=i?i(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Mo:Bp,this.isPropagationStopped=Bp,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Mo)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Mo)},persist:function(){},isPersistent:Mo}),n}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ao=Sa(ds),ai=b({},ds,{view:0,detail:0}),$1=Sa(ai),sd,ld,ni,Eo=b({},ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:od,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ni&&(ni&&e.type==="mousemove"?(sd=e.screenX-ni.screenX,ld=e.screenY-ni.screenY):ld=sd=0,ni=e),sd)},movementY:function(e){return"movementY"in e?e.movementY:ld}}),Hp=Sa(Eo),V1=b({},Eo,{dataTransfer:0}),G1=Sa(V1),Q1=b({},ai,{relatedTarget:0}),id=Sa(Q1),K1=b({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),X1=Sa(K1),W1=b({},ds,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Z1=Sa(W1),J1=b({},ds,{data:0}),Yp=Sa(J1),eN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nN(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=aN[e])?!!n[e]:!1}function od(){return nN}var rN=b({},ai,{key:function(e){if(e.key){var n=eN[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Do(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:od,charCode:function(e){return e.type==="keypress"?Do(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Do(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sN=Sa(rN),lN=b({},Eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qp=Sa(lN),iN=b({},ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:od}),oN=Sa(iN),cN=b({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),uN=Sa(cN),dN=b({},Eo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mN=Sa(dN),fN=b({},ds,{newState:0,oldState:0}),pN=Sa(fN),xN=[9,13,27,32],cd=Wn&&"CompositionEvent"in window,ri=null;Wn&&"documentMode"in document&&(ri=document.documentMode);var hN=Wn&&"TextEvent"in window&&!ri,Up=Wn&&(!cd||ri&&8<ri&&11>=ri),$p=" ",Vp=!1;function Gp(e,n){switch(e){case"keyup":return xN.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qs=!1;function vN(e,n){switch(e){case"compositionend":return Qp(n);case"keypress":return n.which!==32?null:(Vp=!0,$p);case"textInput":return e=n.data,e===$p&&Vp?null:e;default:return null}}function bN(e,n){if(Qs)return e==="compositionend"||!cd&&Gp(e,n)?(e=Fp(),ko=rd=Ar=null,Qs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Up&&n.locale!=="ko"?null:n.data;default:return null}}var gN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!gN[e.type]:n==="textarea"}function Xp(e,n,i,c){Vs?Gs?Gs.push(c):Gs=[c]:Vs=c,n=gc(n,"onChange"),0<n.length&&(i=new Ao("onChange","change",null,i,c),e.push({event:i,listeners:n}))}var si=null,li=null;function yN(e){_v(e,0)}function To(e){var n=Y(e);if(Tp(n))return e}function Wp(e,n){if(e==="change")return n}var Zp=!1;if(Wn){var ud;if(Wn){var dd="oninput"in document;if(!dd){var Jp=document.createElement("div");Jp.setAttribute("oninput","return;"),dd=typeof Jp.oninput=="function"}ud=dd}else ud=!1;Zp=ud&&(!document.documentMode||9<document.documentMode)}function ex(){si&&(si.detachEvent("onpropertychange",tx),li=si=null)}function tx(e){if(e.propertyName==="value"&&To(li)){var n=[];Xp(n,li,e,td(e)),zp(yN,n)}}function NN(e,n,i){e==="focusin"?(ex(),si=n,li=i,si.attachEvent("onpropertychange",tx)):e==="focusout"&&ex()}function jN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return To(li)}function wN(e,n){if(e==="click")return To(n)}function SN(e,n){if(e==="input"||e==="change")return To(n)}function CN(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Pa=typeof Object.is=="function"?Object.is:CN;function ii(e,n){if(Pa(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),c=Object.keys(n);if(i.length!==c.length)return!1;for(c=0;c<i.length;c++){var f=i[c];if(!aa.call(n,f)||!Pa(e[f],n[f]))return!1}return!0}function ax(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nx(e,n){var i=ax(e);e=0;for(var c;i;){if(i.nodeType===3){if(c=e+i.textContent.length,e<=n&&c>=n)return{node:i,offset:n-e};e=c}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ax(i)}}function rx(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?rx(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function sx(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=So(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=So(e.document)}return n}function md(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var kN=Wn&&"documentMode"in document&&11>=document.documentMode,Ks=null,fd=null,oi=null,pd=!1;function lx(e,n,i){var c=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;pd||Ks==null||Ks!==So(c)||(c=Ks,"selectionStart"in c&&md(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),oi&&ii(oi,c)||(oi=c,c=gc(fd,"onSelect"),0<c.length&&(n=new Ao("onSelect","select",null,n,i),e.push({event:n,listeners:c}),n.target=Ks)))}function ms(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Xs={animationend:ms("Animation","AnimationEnd"),animationiteration:ms("Animation","AnimationIteration"),animationstart:ms("Animation","AnimationStart"),transitionrun:ms("Transition","TransitionRun"),transitionstart:ms("Transition","TransitionStart"),transitioncancel:ms("Transition","TransitionCancel"),transitionend:ms("Transition","TransitionEnd")},xd={},ix={};Wn&&(ix=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function fs(e){if(xd[e])return xd[e];if(!Xs[e])return e;var n=Xs[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in ix)return xd[e]=n[i];return e}var ox=fs("animationend"),cx=fs("animationiteration"),ux=fs("animationstart"),DN=fs("transitionrun"),MN=fs("transitionstart"),AN=fs("transitioncancel"),dx=fs("transitionend"),mx=new Map,hd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hd.push("scrollEnd");function mn(e,n){mx.set(e,n),wa(n,[e])}var _o=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ja=[],Ws=0,vd=0;function Oo(){for(var e=Ws,n=vd=Ws=0;n<e;){var i=Ja[n];Ja[n++]=null;var c=Ja[n];Ja[n++]=null;var f=Ja[n];Ja[n++]=null;var h=Ja[n];if(Ja[n++]=null,c!==null&&f!==null){var C=c.pending;C===null?f.next=f:(f.next=C.next,C.next=f),c.pending=f}h!==0&&fx(i,f,h)}}function Ro(e,n,i,c){Ja[Ws++]=e,Ja[Ws++]=n,Ja[Ws++]=i,Ja[Ws++]=c,vd|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function bd(e,n,i,c){return Ro(e,n,i,c),Lo(e)}function ps(e,n){return Ro(e,null,null,n),Lo(e)}function fx(e,n,i){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i);for(var f=!1,h=e.return;h!==null;)h.childLanes|=i,c=h.alternate,c!==null&&(c.childLanes|=i),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(f=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,f&&n!==null&&(f=31-ve(i),e=h.hiddenUpdates,c=e[f],c===null?e[f]=[n]:c.push(n),n.lane=i|536870912),h):null}function Lo(e){if(50<Ei)throw Ei=0,Dm=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Zs={};function EN(e,n,i,c){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function za(e,n,i,c){return new EN(e,n,i,c)}function gd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zn(e,n){var i=e.alternate;return i===null?(i=za(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function px(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Io(e,n,i,c,f,h){var C=0;if(c=e,typeof e=="function")gd(e)&&(C=1);else if(typeof e=="string")C=Lj(e,i,xe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case F:return e=za(31,i,n,f),e.elementType=F,e.lanes=h,e;case S:return xs(i.children,f,h,n);case y:C=8,f|=24;break;case j:return e=za(12,i,n,f|2),e.elementType=j,e.lanes=h,e;case O:return e=za(13,i,n,f),e.elementType=O,e.lanes=h,e;case q:return e=za(19,i,n,f),e.elementType=q,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k:C=10;break e;case D:C=9;break e;case _:C=11;break e;case P:C=14;break e;case T:C=16,c=null;break e}C=29,i=Error(a(130,e===null?"null":typeof e,"")),c=null}return n=za(C,i,n,f),n.elementType=e,n.type=c,n.lanes=h,n}function xs(e,n,i,c){return e=za(7,e,c,n),e.lanes=i,e}function yd(e,n,i){return e=za(6,e,null,n),e.lanes=i,e}function xx(e){var n=za(18,null,null,0);return n.stateNode=e,n}function Nd(e,n,i){return n=za(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var hx=new WeakMap;function en(e,n){if(typeof e=="object"&&e!==null){var i=hx.get(e);return i!==void 0?i:(n={value:e,source:n,stack:ht(n)},hx.set(e,n),n)}return{value:e,source:n,stack:ht(n)}}var Js=[],el=0,Po=null,ci=0,tn=[],an=0,Er=null,Sn=1,Cn="";function Jn(e,n){Js[el++]=ci,Js[el++]=Po,Po=e,ci=n}function vx(e,n,i){tn[an++]=Sn,tn[an++]=Cn,tn[an++]=Er,Er=e;var c=Sn;e=Cn;var f=32-ve(c)-1;c&=~(1<<f),i+=1;var h=32-ve(n)+f;if(30<h){var C=f-f%5;h=(c&(1<<C)-1).toString(32),c>>=C,f-=C,Sn=1<<32-ve(n)+f|i<<f|c,Cn=h+e}else Sn=1<<h|i<<f|c,Cn=e}function jd(e){e.return!==null&&(Jn(e,1),vx(e,1,0))}function wd(e){for(;e===Po;)Po=Js[--el],Js[el]=null,ci=Js[--el],Js[el]=null;for(;e===Er;)Er=tn[--an],tn[an]=null,Cn=tn[--an],tn[an]=null,Sn=tn[--an],tn[an]=null}function bx(e,n){tn[an++]=Sn,tn[an++]=Cn,tn[an++]=Er,Sn=n.id,Cn=n.overflow,Er=e}var ra=null,Ct=null,nt=!1,Tr=null,nn=!1,Sd=Error(a(519));function _r(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ui(en(n,e)),Sd}function gx(e){var n=e.stateNode,i=e.type,c=e.memoizedProps;switch(n[Xt]=e,n[da]=c,i){case"dialog":Xe("cancel",n),Xe("close",n);break;case"iframe":case"object":case"embed":Xe("load",n);break;case"video":case"audio":for(i=0;i<_i.length;i++)Xe(_i[i],n);break;case"source":Xe("error",n);break;case"img":case"image":case"link":Xe("error",n),Xe("load",n);break;case"details":Xe("toggle",n);break;case"input":Xe("invalid",n),_p(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Xe("invalid",n);break;case"textarea":Xe("invalid",n),Rp(n,c.value,c.defaultValue,c.children)}i=c.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||c.suppressHydrationWarning===!0||Iv(n.textContent,i)?(c.popover!=null&&(Xe("beforetoggle",n),Xe("toggle",n)),c.onScroll!=null&&Xe("scroll",n),c.onScrollEnd!=null&&Xe("scrollend",n),c.onClick!=null&&(n.onclick=Xn),n=!0):n=!1,n||_r(e,!0)}function yx(e){for(ra=e.return;ra;)switch(ra.tag){case 5:case 31:case 13:nn=!1;return;case 27:case 3:nn=!0;return;default:ra=ra.return}}function tl(e){if(e!==ra)return!1;if(!nt)return yx(e),nt=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Ym(e.type,e.memoizedProps)),i=!i),i&&Ct&&_r(e),yx(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ct=$v(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ct=$v(e)}else n===27?(n=Ct,Vr(e.type)?(e=Gm,Gm=null,Ct=e):Ct=n):Ct=ra?sn(e.stateNode.nextSibling):null;return!0}function hs(){Ct=ra=null,nt=!1}function Cd(){var e=Tr;return e!==null&&(Ma===null?Ma=e:Ma.push.apply(Ma,e),Tr=null),e}function ui(e){Tr===null?Tr=[e]:Tr.push(e)}var kd=z(null),vs=null,er=null;function Or(e,n,i){fe(kd,n._currentValue),n._currentValue=i}function tr(e){e._currentValue=kd.current,ee(kd)}function Dd(e,n,i){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===i)break;e=e.return}}function Md(e,n,i,c){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var h=f.dependencies;if(h!==null){var C=f.child;h=h.firstContext;e:for(;h!==null;){var E=h;h=f;for(var H=0;H<n.length;H++)if(E.context===n[H]){h.lanes|=i,E=h.alternate,E!==null&&(E.lanes|=i),Dd(h.return,i,e),c||(C=null);break e}h=E.next}}else if(f.tag===18){if(C=f.return,C===null)throw Error(a(341));C.lanes|=i,h=C.alternate,h!==null&&(h.lanes|=i),Dd(C,i,e),C=null}else C=f.child;if(C!==null)C.return=f;else for(C=f;C!==null;){if(C===e){C=null;break}if(f=C.sibling,f!==null){f.return=C.return,C=f;break}C=C.return}f=C}}function al(e,n,i,c){e=null;for(var f=n,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var C=f.alternate;if(C===null)throw Error(a(387));if(C=C.memoizedProps,C!==null){var E=f.type;Pa(f.pendingProps.value,C.value)||(e!==null?e.push(E):e=[E])}}else if(f===we.current){if(C=f.alternate,C===null)throw Error(a(387));C.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Pi):e=[Pi])}f=f.return}e!==null&&Md(n,e,i,c),n.flags|=262144}function zo(e){for(e=e.firstContext;e!==null;){if(!Pa(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function bs(e){vs=e,er=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function sa(e){return Nx(vs,e)}function Fo(e,n){return vs===null&&bs(e),Nx(e,n)}function Nx(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},er===null){if(e===null)throw Error(a(308));er=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else er=er.next=n;return i}var TN=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,c){e.push(c)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},_N=s.unstable_scheduleCallback,ON=s.unstable_NormalPriority,Ut={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ad(){return{controller:new TN,data:new Map,refCount:0}}function di(e){e.refCount--,e.refCount===0&&_N(ON,function(){e.controller.abort()})}var mi=null,Ed=0,nl=0,rl=null;function RN(e,n){if(mi===null){var i=mi=[];Ed=0,nl=Om(),rl={status:"pending",value:void 0,then:function(c){i.push(c)}}}return Ed++,n.then(jx,jx),n}function jx(){if(--Ed===0&&mi!==null){rl!==null&&(rl.status="fulfilled");var e=mi;mi=null,nl=0,rl=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function LN(e,n){var i=[],c={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return e.then(function(){c.status="fulfilled",c.value=n;for(var f=0;f<i.length;f++)(0,i[f])(n)},function(f){for(c.status="rejected",c.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),c}var wx=B.S;B.S=function(e,n){lv=Rt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&RN(e,n),wx!==null&&wx(e,n)};var gs=z(null);function Td(){var e=gs.current;return e!==null?e:yt.pooledCache}function Bo(e,n){n===null?fe(gs,gs.current):fe(gs,n.pool)}function Sx(){var e=Td();return e===null?null:{parent:Ut._currentValue,pool:e}}var sl=Error(a(460)),_d=Error(a(474)),Ho=Error(a(542)),Yo={then:function(){}};function Cx(e){return e=e.status,e==="fulfilled"||e==="rejected"}function kx(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(Xn,Xn),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Mx(e),e;default:if(typeof n.status=="string")n.then(Xn,Xn);else{if(e=yt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(c){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=c}},function(c){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Mx(e),e}throw Ns=n,sl}}function ys(e){try{var n=e._init;return n(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Ns=i,sl):i}}var Ns=null;function Dx(){if(Ns===null)throw Error(a(459));var e=Ns;return Ns=null,e}function Mx(e){if(e===sl||e===Ho)throw Error(a(483))}var ll=null,fi=0;function qo(e){var n=fi;return fi+=1,ll===null&&(ll=[]),kx(ll,e,n)}function pi(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Uo(e,n){throw n.$$typeof===g?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Ax(e){function n(G,U){if(e){var K=G.deletions;K===null?(G.deletions=[U],G.flags|=16):K.push(U)}}function i(G,U){if(!e)return null;for(;U!==null;)n(G,U),U=U.sibling;return null}function c(G){for(var U=new Map;G!==null;)G.key!==null?U.set(G.key,G):U.set(G.index,G),G=G.sibling;return U}function f(G,U){return G=Zn(G,U),G.index=0,G.sibling=null,G}function h(G,U,K){return G.index=K,e?(K=G.alternate,K!==null?(K=K.index,K<U?(G.flags|=67108866,U):K):(G.flags|=67108866,U)):(G.flags|=1048576,U)}function C(G){return e&&G.alternate===null&&(G.flags|=67108866),G}function E(G,U,K,ue){return U===null||U.tag!==6?(U=yd(K,G.mode,ue),U.return=G,U):(U=f(U,K),U.return=G,U)}function H(G,U,K,ue){var Le=K.type;return Le===S?oe(G,U,K.props.children,ue,K.key):U!==null&&(U.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===T&&ys(Le)===U.type)?(U=f(U,K.props),pi(U,K),U.return=G,U):(U=Io(K.type,K.key,K.props,null,G.mode,ue),pi(U,K),U.return=G,U)}function X(G,U,K,ue){return U===null||U.tag!==4||U.stateNode.containerInfo!==K.containerInfo||U.stateNode.implementation!==K.implementation?(U=Nd(K,G.mode,ue),U.return=G,U):(U=f(U,K.children||[]),U.return=G,U)}function oe(G,U,K,ue,Le){return U===null||U.tag!==7?(U=xs(K,G.mode,ue,Le),U.return=G,U):(U=f(U,K),U.return=G,U)}function de(G,U,K){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=yd(""+U,G.mode,K),U.return=G,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case w:return K=Io(U.type,U.key,U.props,null,G.mode,K),pi(K,U),K.return=G,K;case M:return U=Nd(U,G.mode,K),U.return=G,U;case T:return U=ys(U),de(G,U,K)}if(le(U)||A(U))return U=xs(U,G.mode,K,null),U.return=G,U;if(typeof U.then=="function")return de(G,qo(U),K);if(U.$$typeof===k)return de(G,Fo(G,U),K);Uo(G,U)}return null}function J(G,U,K,ue){var Le=U!==null?U.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Le!==null?null:E(G,U,""+K,ue);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case w:return K.key===Le?H(G,U,K,ue):null;case M:return K.key===Le?X(G,U,K,ue):null;case T:return K=ys(K),J(G,U,K,ue)}if(le(K)||A(K))return Le!==null?null:oe(G,U,K,ue,null);if(typeof K.then=="function")return J(G,U,qo(K),ue);if(K.$$typeof===k)return J(G,U,Fo(G,K),ue);Uo(G,K)}return null}function te(G,U,K,ue,Le){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return G=G.get(K)||null,E(U,G,""+ue,Le);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case w:return G=G.get(ue.key===null?K:ue.key)||null,H(U,G,ue,Le);case M:return G=G.get(ue.key===null?K:ue.key)||null,X(U,G,ue,Le);case T:return ue=ys(ue),te(G,U,K,ue,Le)}if(le(ue)||A(ue))return G=G.get(K)||null,oe(U,G,ue,Le,null);if(typeof ue.then=="function")return te(G,U,K,qo(ue),Le);if(ue.$$typeof===k)return te(G,U,K,Fo(U,ue),Le);Uo(U,ue)}return null}function Me(G,U,K,ue){for(var Le=null,it=null,Oe=U,Ge=U=0,Je=null;Oe!==null&&Ge<K.length;Ge++){Oe.index>Ge?(Je=Oe,Oe=null):Je=Oe.sibling;var ot=J(G,Oe,K[Ge],ue);if(ot===null){Oe===null&&(Oe=Je);break}e&&Oe&&ot.alternate===null&&n(G,Oe),U=h(ot,U,Ge),it===null?Le=ot:it.sibling=ot,it=ot,Oe=Je}if(Ge===K.length)return i(G,Oe),nt&&Jn(G,Ge),Le;if(Oe===null){for(;Ge<K.length;Ge++)Oe=de(G,K[Ge],ue),Oe!==null&&(U=h(Oe,U,Ge),it===null?Le=Oe:it.sibling=Oe,it=Oe);return nt&&Jn(G,Ge),Le}for(Oe=c(Oe);Ge<K.length;Ge++)Je=te(Oe,G,Ge,K[Ge],ue),Je!==null&&(e&&Je.alternate!==null&&Oe.delete(Je.key===null?Ge:Je.key),U=h(Je,U,Ge),it===null?Le=Je:it.sibling=Je,it=Je);return e&&Oe.forEach(function(Wr){return n(G,Wr)}),nt&&Jn(G,Ge),Le}function Fe(G,U,K,ue){if(K==null)throw Error(a(151));for(var Le=null,it=null,Oe=U,Ge=U=0,Je=null,ot=K.next();Oe!==null&&!ot.done;Ge++,ot=K.next()){Oe.index>Ge?(Je=Oe,Oe=null):Je=Oe.sibling;var Wr=J(G,Oe,ot.value,ue);if(Wr===null){Oe===null&&(Oe=Je);break}e&&Oe&&Wr.alternate===null&&n(G,Oe),U=h(Wr,U,Ge),it===null?Le=Wr:it.sibling=Wr,it=Wr,Oe=Je}if(ot.done)return i(G,Oe),nt&&Jn(G,Ge),Le;if(Oe===null){for(;!ot.done;Ge++,ot=K.next())ot=de(G,ot.value,ue),ot!==null&&(U=h(ot,U,Ge),it===null?Le=ot:it.sibling=ot,it=ot);return nt&&Jn(G,Ge),Le}for(Oe=c(Oe);!ot.done;Ge++,ot=K.next())ot=te(Oe,G,Ge,ot.value,ue),ot!==null&&(e&&ot.alternate!==null&&Oe.delete(ot.key===null?Ge:ot.key),U=h(ot,U,Ge),it===null?Le=ot:it.sibling=ot,it=ot);return e&&Oe.forEach(function(Vj){return n(G,Vj)}),nt&&Jn(G,Ge),Le}function gt(G,U,K,ue){if(typeof K=="object"&&K!==null&&K.type===S&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case w:e:{for(var Le=K.key;U!==null;){if(U.key===Le){if(Le=K.type,Le===S){if(U.tag===7){i(G,U.sibling),ue=f(U,K.props.children),ue.return=G,G=ue;break e}}else if(U.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===T&&ys(Le)===U.type){i(G,U.sibling),ue=f(U,K.props),pi(ue,K),ue.return=G,G=ue;break e}i(G,U);break}else n(G,U);U=U.sibling}K.type===S?(ue=xs(K.props.children,G.mode,ue,K.key),ue.return=G,G=ue):(ue=Io(K.type,K.key,K.props,null,G.mode,ue),pi(ue,K),ue.return=G,G=ue)}return C(G);case M:e:{for(Le=K.key;U!==null;){if(U.key===Le)if(U.tag===4&&U.stateNode.containerInfo===K.containerInfo&&U.stateNode.implementation===K.implementation){i(G,U.sibling),ue=f(U,K.children||[]),ue.return=G,G=ue;break e}else{i(G,U);break}else n(G,U);U=U.sibling}ue=Nd(K,G.mode,ue),ue.return=G,G=ue}return C(G);case T:return K=ys(K),gt(G,U,K,ue)}if(le(K))return Me(G,U,K,ue);if(A(K)){if(Le=A(K),typeof Le!="function")throw Error(a(150));return K=Le.call(K),Fe(G,U,K,ue)}if(typeof K.then=="function")return gt(G,U,qo(K),ue);if(K.$$typeof===k)return gt(G,U,Fo(G,K),ue);Uo(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,U!==null&&U.tag===6?(i(G,U.sibling),ue=f(U,K),ue.return=G,G=ue):(i(G,U),ue=yd(K,G.mode,ue),ue.return=G,G=ue),C(G)):i(G,U)}return function(G,U,K,ue){try{fi=0;var Le=gt(G,U,K,ue);return ll=null,Le}catch(Oe){if(Oe===sl||Oe===Ho)throw Oe;var it=za(29,Oe,null,G.mode);return it.lanes=ue,it.return=G,it}}}var js=Ax(!0),Ex=Ax(!1),Rr=!1;function Od(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rd(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Lr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ir(e,n,i){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(ct&2)!==0){var f=c.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),c.pending=n,n=Lo(e),fx(e,null,i),n}return Ro(e,c,n,i),Lo(e)}function xi(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var c=n.lanes;c&=e.pendingLanes,i|=c,n.lanes=i,Gn(e,i)}}function Ld(e,n){var i=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,i===c)){var f=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var C={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?f=h=C:h=h.next=C,i=i.next}while(i!==null);h===null?f=h=n:h=h.next=n}else f=h=n;i={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:c.shared,callbacks:c.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var Id=!1;function hi(){if(Id){var e=rl;if(e!==null)throw e}}function vi(e,n,i,c){Id=!1;var f=e.updateQueue;Rr=!1;var h=f.firstBaseUpdate,C=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var H=E,X=H.next;H.next=null,C===null?h=X:C.next=X,C=H;var oe=e.alternate;oe!==null&&(oe=oe.updateQueue,E=oe.lastBaseUpdate,E!==C&&(E===null?oe.firstBaseUpdate=X:E.next=X,oe.lastBaseUpdate=H))}if(h!==null){var de=f.baseState;C=0,oe=X=H=null,E=h;do{var J=E.lane&-536870913,te=J!==E.lane;if(te?(Ze&J)===J:(c&J)===J){J!==0&&J===nl&&(Id=!0),oe!==null&&(oe=oe.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Me=e,Fe=E;J=n;var gt=i;switch(Fe.tag){case 1:if(Me=Fe.payload,typeof Me=="function"){de=Me.call(gt,de,J);break e}de=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Fe.payload,J=typeof Me=="function"?Me.call(gt,de,J):Me,J==null)break e;de=b({},de,J);break e;case 2:Rr=!0}}J=E.callback,J!==null&&(e.flags|=64,te&&(e.flags|=8192),te=f.callbacks,te===null?f.callbacks=[J]:te.push(J))}else te={lane:J,tag:E.tag,payload:E.payload,callback:E.callback,next:null},oe===null?(X=oe=te,H=de):oe=oe.next=te,C|=J;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;te=E,E=te.next,te.next=null,f.lastBaseUpdate=te,f.shared.pending=null}}while(!0);oe===null&&(H=de),f.baseState=H,f.firstBaseUpdate=X,f.lastBaseUpdate=oe,h===null&&(f.shared.lanes=0),Hr|=C,e.lanes=C,e.memoizedState=de}}function Tx(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function _x(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Tx(i[e],n)}var il=z(null),$o=z(0);function Ox(e,n){e=ur,fe($o,e),fe(il,n),ur=e|n.baseLanes}function Pd(){fe($o,ur),fe(il,il.current)}function zd(){ur=$o.current,ee(il),ee($o)}var Fa=z(null),rn=null;function Pr(e){var n=e.alternate;fe(zt,zt.current&1),fe(Fa,e),rn===null&&(n===null||il.current!==null||n.memoizedState!==null)&&(rn=e)}function Fd(e){fe(zt,zt.current),fe(Fa,e),rn===null&&(rn=e)}function Rx(e){e.tag===22?(fe(zt,zt.current),fe(Fa,e),rn===null&&(rn=e)):zr()}function zr(){fe(zt,zt.current),fe(Fa,Fa.current)}function Ba(e){ee(Fa),rn===e&&(rn=null),ee(zt)}var zt=z(0);function Vo(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||$m(i)||Vm(i)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ar=0,Ve=null,vt=null,$t=null,Go=!1,ol=!1,ws=!1,Qo=0,bi=0,cl=null,IN=0;function Lt(){throw Error(a(321))}function Bd(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!Pa(e[i],n[i]))return!1;return!0}function Hd(e,n,i,c,f,h){return ar=h,Ve=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,B.H=e===null||e.memoizedState===null?vh:am,ws=!1,h=i(c,f),ws=!1,ol&&(h=Ix(n,i,c,f)),Lx(e),h}function Lx(e){B.H=Ni;var n=vt!==null&&vt.next!==null;if(ar=0,$t=vt=Ve=null,Go=!1,bi=0,cl=null,n)throw Error(a(300));e===null||Vt||(e=e.dependencies,e!==null&&zo(e)&&(Vt=!0))}function Ix(e,n,i,c){Ve=e;var f=0;do{if(ol&&(cl=null),bi=0,ol=!1,25<=f)throw Error(a(301));if(f+=1,$t=vt=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}B.H=bh,h=n(i,c)}while(ol);return h}function PN(){var e=B.H,n=e.useState()[0];return n=typeof n.then=="function"?gi(n):n,e=e.useState()[0],(vt!==null?vt.memoizedState:null)!==e&&(Ve.flags|=1024),n}function Yd(){var e=Qo!==0;return Qo=0,e}function qd(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function Ud(e){if(Go){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Go=!1}ar=0,$t=vt=Ve=null,ol=!1,bi=Qo=0,cl=null}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?Ve.memoizedState=$t=e:$t=$t.next=e,$t}function Ft(){if(vt===null){var e=Ve.alternate;e=e!==null?e.memoizedState:null}else e=vt.next;var n=$t===null?Ve.memoizedState:$t.next;if(n!==null)$t=n,vt=e;else{if(e===null)throw Ve.alternate===null?Error(a(467)):Error(a(310));vt=e,e={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},$t===null?Ve.memoizedState=$t=e:$t=$t.next=e}return $t}function Ko(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gi(e){var n=bi;return bi+=1,cl===null&&(cl=[]),e=kx(cl,e,n),n=Ve,($t===null?n.memoizedState:$t.next)===null&&(n=n.alternate,B.H=n===null||n.memoizedState===null?vh:am),e}function Xo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return gi(e);if(e.$$typeof===k)return sa(e)}throw Error(a(438,String(e)))}function $d(e){var n=null,i=Ve.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var c=Ve.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=Ko(),Ve.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),c=0;c<e;c++)i[c]=I;return n.index++,i}function nr(e,n){return typeof n=="function"?n(e):n}function Wo(e){var n=Ft();return Vd(n,vt,e)}function Vd(e,n,i){var c=e.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=i;var f=e.baseQueue,h=c.pending;if(h!==null){if(f!==null){var C=f.next;f.next=h.next,h.next=C}n.baseQueue=f=h,c.pending=null}if(h=e.baseState,f===null)e.memoizedState=h;else{n=f.next;var E=C=null,H=null,X=n,oe=!1;do{var de=X.lane&-536870913;if(de!==X.lane?(Ze&de)===de:(ar&de)===de){var J=X.revertLane;if(J===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),de===nl&&(oe=!0);else if((ar&J)===J){X=X.next,J===nl&&(oe=!0);continue}else de={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},H===null?(E=H=de,C=h):H=H.next=de,Ve.lanes|=J,Hr|=J;de=X.action,ws&&i(h,de),h=X.hasEagerState?X.eagerState:i(h,de)}else J={lane:de,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},H===null?(E=H=J,C=h):H=H.next=J,Ve.lanes|=de,Hr|=de;X=X.next}while(X!==null&&X!==n);if(H===null?C=h:H.next=E,!Pa(h,e.memoizedState)&&(Vt=!0,oe&&(i=rl,i!==null)))throw i;e.memoizedState=h,e.baseState=C,e.baseQueue=H,c.lastRenderedState=h}return f===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Gd(e){var n=Ft(),i=n.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=e;var c=i.dispatch,f=i.pending,h=n.memoizedState;if(f!==null){i.pending=null;var C=f=f.next;do h=e(h,C.action),C=C.next;while(C!==f);Pa(h,n.memoizedState)||(Vt=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),i.lastRenderedState=h}return[h,c]}function Px(e,n,i){var c=Ve,f=Ft(),h=nt;if(h){if(i===void 0)throw Error(a(407));i=i()}else i=n();var C=!Pa((vt||f).memoizedState,i);if(C&&(f.memoizedState=i,Vt=!0),f=f.queue,Xd(Bx.bind(null,c,f,e),[e]),f.getSnapshot!==n||C||$t!==null&&$t.memoizedState.tag&1){if(c.flags|=2048,ul(9,{destroy:void 0},Fx.bind(null,c,f,i,n),null),yt===null)throw Error(a(349));h||(ar&127)!==0||zx(c,n,i)}return i}function zx(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=Ve.updateQueue,n===null?(n=Ko(),Ve.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function Fx(e,n,i,c){n.value=i,n.getSnapshot=c,Hx(n)&&Yx(e)}function Bx(e,n,i){return i(function(){Hx(n)&&Yx(e)})}function Hx(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!Pa(e,i)}catch{return!0}}function Yx(e){var n=ps(e,2);n!==null&&Aa(n,e,2)}function Qd(e){var n=va();if(typeof e=="function"){var i=e;if(e=i(),ws){je(!0);try{i()}finally{je(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:e},n}function qx(e,n,i,c){return e.baseState=i,Vd(e,vt,typeof c=="function"?c:nr)}function zN(e,n,i,c,f){if(ec(e))throw Error(a(485));if(e=n.action,e!==null){var h={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){h.listeners.push(C)}};B.T!==null?i(!0):h.isTransition=!1,c(h),i=n.pending,i===null?(h.next=n.pending=h,Ux(n,h)):(h.next=i.next,n.pending=i.next=h)}}function Ux(e,n){var i=n.action,c=n.payload,f=e.state;if(n.isTransition){var h=B.T,C={};B.T=C;try{var E=i(f,c),H=B.S;H!==null&&H(C,E),$x(e,n,E)}catch(X){Kd(e,n,X)}finally{h!==null&&C.types!==null&&(h.types=C.types),B.T=h}}else try{h=i(f,c),$x(e,n,h)}catch(X){Kd(e,n,X)}}function $x(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(c){Vx(e,n,c)},function(c){return Kd(e,n,c)}):Vx(e,n,i)}function Vx(e,n,i){n.status="fulfilled",n.value=i,Gx(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,Ux(e,i)))}function Kd(e,n,i){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=i,Gx(n),n=n.next;while(n!==c)}e.action=null}function Gx(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Qx(e,n){return n}function Kx(e,n){if(nt){var i=yt.formState;if(i!==null){e:{var c=Ve;if(nt){if(Ct){t:{for(var f=Ct,h=nn;f.nodeType!==8;){if(!h){f=null;break t}if(f=sn(f.nextSibling),f===null){f=null;break t}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){Ct=sn(f.nextSibling),c=f.data==="F!";break e}}_r(c)}c=!1}c&&(n=i[0])}}return i=va(),i.memoizedState=i.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qx,lastRenderedState:n},i.queue=c,i=ph.bind(null,Ve,c),c.dispatch=i,c=Qd(!1),h=tm.bind(null,Ve,!1,c.queue),c=va(),f={state:n,dispatch:null,action:e,pending:null},c.queue=f,i=zN.bind(null,Ve,f,h,i),f.dispatch=i,c.memoizedState=e,[n,i,!1]}function Xx(e){var n=Ft();return Wx(n,vt,e)}function Wx(e,n,i){if(n=Vd(e,n,Qx)[0],e=Wo(nr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var c=gi(n)}catch(C){throw C===sl?Ho:C}else c=n;n=Ft();var f=n.queue,h=f.dispatch;return i!==n.memoizedState&&(Ve.flags|=2048,ul(9,{destroy:void 0},FN.bind(null,f,i),null)),[c,h,e]}function FN(e,n){e.action=n}function Zx(e){var n=Ft(),i=vt;if(i!==null)return Wx(n,i,e);Ft(),n=n.memoizedState,i=Ft();var c=i.queue.dispatch;return i.memoizedState=e,[n,c,!1]}function ul(e,n,i,c){return e={tag:e,create:i,deps:c,inst:n,next:null},n=Ve.updateQueue,n===null&&(n=Ko(),Ve.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(c=i.next,i.next=e,e.next=c,n.lastEffect=e),e}function Jx(){return Ft().memoizedState}function Zo(e,n,i,c){var f=va();Ve.flags|=e,f.memoizedState=ul(1|n,{destroy:void 0},i,c===void 0?null:c)}function Jo(e,n,i,c){var f=Ft();c=c===void 0?null:c;var h=f.memoizedState.inst;vt!==null&&c!==null&&Bd(c,vt.memoizedState.deps)?f.memoizedState=ul(n,h,i,c):(Ve.flags|=e,f.memoizedState=ul(1|n,h,i,c))}function eh(e,n){Zo(8390656,8,e,n)}function Xd(e,n){Jo(2048,8,e,n)}function BN(e){Ve.flags|=4;var n=Ve.updateQueue;if(n===null)n=Ko(),Ve.updateQueue=n,n.events=[e];else{var i=n.events;i===null?n.events=[e]:i.push(e)}}function th(e){var n=Ft().memoizedState;return BN({ref:n,nextImpl:e}),function(){if((ct&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function ah(e,n){return Jo(4,2,e,n)}function nh(e,n){return Jo(4,4,e,n)}function rh(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function sh(e,n,i){i=i!=null?i.concat([e]):null,Jo(4,4,rh.bind(null,n,e),i)}function Wd(){}function lh(e,n){var i=Ft();n=n===void 0?null:n;var c=i.memoizedState;return n!==null&&Bd(n,c[1])?c[0]:(i.memoizedState=[e,n],e)}function ih(e,n){var i=Ft();n=n===void 0?null:n;var c=i.memoizedState;if(n!==null&&Bd(n,c[1]))return c[0];if(c=e(),ws){je(!0);try{e()}finally{je(!1)}}return i.memoizedState=[c,n],c}function Zd(e,n,i){return i===void 0||(ar&1073741824)!==0&&(Ze&261930)===0?e.memoizedState=n:(e.memoizedState=i,e=ov(),Ve.lanes|=e,Hr|=e,i)}function oh(e,n,i,c){return Pa(i,n)?i:il.current!==null?(e=Zd(e,i,c),Pa(e,n)||(Vt=!0),e):(ar&42)===0||(ar&1073741824)!==0&&(Ze&261930)===0?(Vt=!0,e.memoizedState=i):(e=ov(),Ve.lanes|=e,Hr|=e,n)}function ch(e,n,i,c,f){var h=W.p;W.p=h!==0&&8>h?h:8;var C=B.T,E={};B.T=E,tm(e,!1,n,i);try{var H=f(),X=B.S;if(X!==null&&X(E,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var oe=LN(H,c);yi(e,n,oe,qa(e))}else yi(e,n,c,qa(e))}catch(de){yi(e,n,{then:function(){},status:"rejected",reason:de},qa())}finally{W.p=h,C!==null&&E.types!==null&&(C.types=E.types),B.T=C}}function HN(){}function Jd(e,n,i,c){if(e.tag!==5)throw Error(a(476));var f=uh(e).queue;ch(e,f,n,L,i===null?HN:function(){return dh(e),i(c)})}function uh(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:L},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function dh(e){var n=uh(e);n.next===null&&(n=e.alternate.memoizedState),yi(e,n.next.queue,{},qa())}function em(){return sa(Pi)}function mh(){return Ft().memoizedState}function fh(){return Ft().memoizedState}function YN(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=qa();e=Lr(i);var c=Ir(n,e,i);c!==null&&(Aa(c,n,i),xi(c,n,i)),n={cache:Ad()},e.payload=n;return}n=n.return}}function qN(e,n,i){var c=qa();i={lane:c,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},ec(e)?xh(n,i):(i=bd(e,n,i,c),i!==null&&(Aa(i,e,c),hh(i,n,c)))}function ph(e,n,i){var c=qa();yi(e,n,i,c)}function yi(e,n,i,c){var f={lane:c,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(ec(e))xh(n,f);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var C=n.lastRenderedState,E=h(C,i);if(f.hasEagerState=!0,f.eagerState=E,Pa(E,C))return Ro(e,n,f,0),yt===null&&Oo(),!1}catch{}if(i=bd(e,n,f,c),i!==null)return Aa(i,e,c),hh(i,n,c),!0}return!1}function tm(e,n,i,c){if(c={lane:2,revertLane:Om(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},ec(e)){if(n)throw Error(a(479))}else n=bd(e,i,c,2),n!==null&&Aa(n,e,2)}function ec(e){var n=e.alternate;return e===Ve||n!==null&&n===Ve}function xh(e,n){ol=Go=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function hh(e,n,i){if((i&4194048)!==0){var c=n.lanes;c&=e.pendingLanes,i|=c,n.lanes=i,Gn(e,i)}}var Ni={readContext:sa,use:Xo,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt};Ni.useEffectEvent=Lt;var vh={readContext:sa,use:Xo,useCallback:function(e,n){return va().memoizedState=[e,n===void 0?null:n],e},useContext:sa,useEffect:eh,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,Zo(4194308,4,rh.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Zo(4194308,4,e,n)},useInsertionEffect:function(e,n){Zo(4,2,e,n)},useMemo:function(e,n){var i=va();n=n===void 0?null:n;var c=e();if(ws){je(!0);try{e()}finally{je(!1)}}return i.memoizedState=[c,n],c},useReducer:function(e,n,i){var c=va();if(i!==void 0){var f=i(n);if(ws){je(!0);try{i(n)}finally{je(!1)}}}else f=n;return c.memoizedState=c.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},c.queue=e,e=e.dispatch=qN.bind(null,Ve,e),[c.memoizedState,e]},useRef:function(e){var n=va();return e={current:e},n.memoizedState=e},useState:function(e){e=Qd(e);var n=e.queue,i=ph.bind(null,Ve,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:Wd,useDeferredValue:function(e,n){var i=va();return Zd(i,e,n)},useTransition:function(){var e=Qd(!1);return e=ch.bind(null,Ve,e.queue,!0,!1),va().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var c=Ve,f=va();if(nt){if(i===void 0)throw Error(a(407));i=i()}else{if(i=n(),yt===null)throw Error(a(349));(Ze&127)!==0||zx(c,n,i)}f.memoizedState=i;var h={value:i,getSnapshot:n};return f.queue=h,eh(Bx.bind(null,c,h,e),[e]),c.flags|=2048,ul(9,{destroy:void 0},Fx.bind(null,c,h,i,n),null),i},useId:function(){var e=va(),n=yt.identifierPrefix;if(nt){var i=Cn,c=Sn;i=(c&~(1<<32-ve(c)-1)).toString(32)+i,n="_"+n+"R_"+i,i=Qo++,0<i&&(n+="H"+i.toString(32)),n+="_"}else i=IN++,n="_"+n+"r_"+i.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:em,useFormState:Kx,useActionState:Kx,useOptimistic:function(e){var n=va();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=tm.bind(null,Ve,!0,i),i.dispatch=n,[e,n]},useMemoCache:$d,useCacheRefresh:function(){return va().memoizedState=YN.bind(null,Ve)},useEffectEvent:function(e){var n=va(),i={impl:e};return n.memoizedState=i,function(){if((ct&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}},am={readContext:sa,use:Xo,useCallback:lh,useContext:sa,useEffect:Xd,useImperativeHandle:sh,useInsertionEffect:ah,useLayoutEffect:nh,useMemo:ih,useReducer:Wo,useRef:Jx,useState:function(){return Wo(nr)},useDebugValue:Wd,useDeferredValue:function(e,n){var i=Ft();return oh(i,vt.memoizedState,e,n)},useTransition:function(){var e=Wo(nr)[0],n=Ft().memoizedState;return[typeof e=="boolean"?e:gi(e),n]},useSyncExternalStore:Px,useId:mh,useHostTransitionStatus:em,useFormState:Xx,useActionState:Xx,useOptimistic:function(e,n){var i=Ft();return qx(i,vt,e,n)},useMemoCache:$d,useCacheRefresh:fh};am.useEffectEvent=th;var bh={readContext:sa,use:Xo,useCallback:lh,useContext:sa,useEffect:Xd,useImperativeHandle:sh,useInsertionEffect:ah,useLayoutEffect:nh,useMemo:ih,useReducer:Gd,useRef:Jx,useState:function(){return Gd(nr)},useDebugValue:Wd,useDeferredValue:function(e,n){var i=Ft();return vt===null?Zd(i,e,n):oh(i,vt.memoizedState,e,n)},useTransition:function(){var e=Gd(nr)[0],n=Ft().memoizedState;return[typeof e=="boolean"?e:gi(e),n]},useSyncExternalStore:Px,useId:mh,useHostTransitionStatus:em,useFormState:Zx,useActionState:Zx,useOptimistic:function(e,n){var i=Ft();return vt!==null?qx(i,vt,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:$d,useCacheRefresh:fh};bh.useEffectEvent=th;function nm(e,n,i,c){n=e.memoizedState,i=i(c,n),i=i==null?n:b({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var rm={enqueueSetState:function(e,n,i){e=e._reactInternals;var c=qa(),f=Lr(c);f.payload=n,i!=null&&(f.callback=i),n=Ir(e,f,c),n!==null&&(Aa(n,e,c),xi(n,e,c))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var c=qa(),f=Lr(c);f.tag=1,f.payload=n,i!=null&&(f.callback=i),n=Ir(e,f,c),n!==null&&(Aa(n,e,c),xi(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=qa(),c=Lr(i);c.tag=2,n!=null&&(c.callback=n),n=Ir(e,c,i),n!==null&&(Aa(n,e,i),xi(n,e,i))}};function gh(e,n,i,c,f,h,C){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,h,C):n.prototype&&n.prototype.isPureReactComponent?!ii(i,c)||!ii(f,h):!0}function yh(e,n,i,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,c),n.state!==e&&rm.enqueueReplaceState(n,n.state,null)}function Ss(e,n){var i=n;if("ref"in n){i={};for(var c in n)c!=="ref"&&(i[c]=n[c])}if(e=e.defaultProps){i===n&&(i=b({},i));for(var f in e)i[f]===void 0&&(i[f]=e[f])}return i}function Nh(e){_o(e)}function jh(e){console.error(e)}function wh(e){_o(e)}function tc(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function Sh(e,n,i){try{var c=e.onCaughtError;c(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function sm(e,n,i){return i=Lr(i),i.tag=3,i.payload={element:null},i.callback=function(){tc(e,n)},i}function Ch(e){return e=Lr(e),e.tag=3,e}function kh(e,n,i,c){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var h=c.value;e.payload=function(){return f(h)},e.callback=function(){Sh(n,i,c)}}var C=i.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(e.callback=function(){Sh(n,i,c),typeof f!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var E=c.stack;this.componentDidCatch(c.value,{componentStack:E!==null?E:""})})}function UN(e,n,i,c,f){if(i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=i.alternate,n!==null&&al(n,i,f,!0),i=Fa.current,i!==null){switch(i.tag){case 31:case 13:return rn===null?fc():i.alternate===null&&It===0&&(It=3),i.flags&=-257,i.flags|=65536,i.lanes=f,c===Yo?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([c]):n.add(c),Em(e,c,f)),!1;case 22:return i.flags|=65536,c===Yo?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([c]):i.add(c)),Em(e,c,f)),!1}throw Error(a(435,i.tag))}return Em(e,c,f),fc(),!1}if(nt)return n=Fa.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,c!==Sd&&(e=Error(a(422),{cause:c}),ui(en(e,i)))):(c!==Sd&&(n=Error(a(423),{cause:c}),ui(en(n,i))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,c=en(c,i),f=sm(e.stateNode,c,f),Ld(e,f),It!==4&&(It=2)),!1;var h=Error(a(520),{cause:c});if(h=en(h,i),Ai===null?Ai=[h]:Ai.push(h),It!==4&&(It=2),n===null)return!0;c=en(c,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=f&-f,i.lanes|=e,e=sm(i.stateNode,c,e),Ld(i,e),!1;case 1:if(n=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Yr===null||!Yr.has(h))))return i.flags|=65536,f&=-f,i.lanes|=f,f=Ch(f),kh(f,e,i,c),Ld(i,f),!1}i=i.return}while(i!==null);return!1}var lm=Error(a(461)),Vt=!1;function la(e,n,i,c){n.child=e===null?Ex(n,null,i,c):js(n,e.child,i,c)}function Dh(e,n,i,c,f){i=i.render;var h=n.ref;if("ref"in c){var C={};for(var E in c)E!=="ref"&&(C[E]=c[E])}else C=c;return bs(n),c=Hd(e,n,i,C,h,f),E=Yd(),e!==null&&!Vt?(qd(e,n,f),rr(e,n,f)):(nt&&E&&jd(n),n.flags|=1,la(e,n,c,f),n.child)}function Mh(e,n,i,c,f){if(e===null){var h=i.type;return typeof h=="function"&&!gd(h)&&h.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=h,Ah(e,n,h,c,f)):(e=Io(i.type,null,c,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!pm(e,f)){var C=h.memoizedProps;if(i=i.compare,i=i!==null?i:ii,i(C,c)&&e.ref===n.ref)return rr(e,n,f)}return n.flags|=1,e=Zn(h,c),e.ref=n.ref,e.return=n,n.child=e}function Ah(e,n,i,c,f){if(e!==null){var h=e.memoizedProps;if(ii(h,c)&&e.ref===n.ref)if(Vt=!1,n.pendingProps=c=h,pm(e,f))(e.flags&131072)!==0&&(Vt=!0);else return n.lanes=e.lanes,rr(e,n,f)}return im(e,n,i,c,f)}function Eh(e,n,i,c){var f=c.children,h=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|i:i,e!==null){for(c=n.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~h}else c=0,n.child=null;return Th(e,n,h,i,c)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Bo(n,h!==null?h.cachePool:null),h!==null?Ox(n,h):Pd(),Rx(n);else return c=n.lanes=536870912,Th(e,n,h!==null?h.baseLanes|i:i,i,c)}else h!==null?(Bo(n,h.cachePool),Ox(n,h),zr(),n.memoizedState=null):(e!==null&&Bo(n,null),Pd(),zr());return la(e,n,f,i),n.child}function ji(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Th(e,n,i,c,f){var h=Td();return h=h===null?null:{parent:Ut._currentValue,pool:h},n.memoizedState={baseLanes:i,cachePool:h},e!==null&&Bo(n,null),Pd(),Rx(n),e!==null&&al(e,n,c,!0),n.childLanes=f,null}function ac(e,n){return n=rc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function _h(e,n,i){return js(n,e.child,null,i),e=ac(n,n.pendingProps),e.flags|=2,Ba(n),n.memoizedState=null,e}function $N(e,n,i){var c=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(nt){if(c.mode==="hidden")return e=ac(n,c),n.lanes=536870912,ji(null,e);if(Fd(n),(e=Ct)?(e=Uv(e,nn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Er!==null?{id:Sn,overflow:Cn}:null,retryLane:536870912,hydrationErrors:null},i=xx(e),i.return=n,n.child=i,ra=n,Ct=null)):e=null,e===null)throw _r(n);return n.lanes=536870912,null}return ac(n,c)}var h=e.memoizedState;if(h!==null){var C=h.dehydrated;if(Fd(n),f)if(n.flags&256)n.flags&=-257,n=_h(e,n,i);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Vt||al(e,n,i,!1),f=(i&e.childLanes)!==0,Vt||f){if(c=yt,c!==null&&(C=os(c,i),C!==0&&C!==h.retryLane))throw h.retryLane=C,ps(e,C),Aa(c,e,C),lm;fc(),n=_h(e,n,i)}else e=h.treeContext,Ct=sn(C.nextSibling),ra=n,nt=!0,Tr=null,nn=!1,e!==null&&bx(n,e),n=ac(n,c),n.flags|=4096;return n}return e=Zn(e.child,{mode:c.mode,children:c.children}),e.ref=n.ref,n.child=e,e.return=n,e}function nc(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(a(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function im(e,n,i,c,f){return bs(n),i=Hd(e,n,i,c,void 0,f),c=Yd(),e!==null&&!Vt?(qd(e,n,f),rr(e,n,f)):(nt&&c&&jd(n),n.flags|=1,la(e,n,i,f),n.child)}function Oh(e,n,i,c,f,h){return bs(n),n.updateQueue=null,i=Ix(n,c,i,f),Lx(e),c=Yd(),e!==null&&!Vt?(qd(e,n,h),rr(e,n,h)):(nt&&c&&jd(n),n.flags|=1,la(e,n,i,h),n.child)}function Rh(e,n,i,c,f){if(bs(n),n.stateNode===null){var h=Zs,C=i.contextType;typeof C=="object"&&C!==null&&(h=sa(C)),h=new i(c,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=rm,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=c,h.state=n.memoizedState,h.refs={},Od(n),C=i.contextType,h.context=typeof C=="object"&&C!==null?sa(C):Zs,h.state=n.memoizedState,C=i.getDerivedStateFromProps,typeof C=="function"&&(nm(n,i,C,c),h.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(C=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),C!==h.state&&rm.enqueueReplaceState(h,h.state,null),vi(n,c,h,f),hi(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(e===null){h=n.stateNode;var E=n.memoizedProps,H=Ss(i,E);h.props=H;var X=h.context,oe=i.contextType;C=Zs,typeof oe=="object"&&oe!==null&&(C=sa(oe));var de=i.getDerivedStateFromProps;oe=typeof de=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,oe||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||X!==C)&&yh(n,h,c,C),Rr=!1;var J=n.memoizedState;h.state=J,vi(n,c,h,f),hi(),X=n.memoizedState,E||J!==X||Rr?(typeof de=="function"&&(nm(n,i,de,c),X=n.memoizedState),(H=Rr||gh(n,i,H,c,J,X,C))?(oe||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=X),h.props=c,h.state=X,h.context=C,c=H):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{h=n.stateNode,Rd(e,n),C=n.memoizedProps,oe=Ss(i,C),h.props=oe,de=n.pendingProps,J=h.context,X=i.contextType,H=Zs,typeof X=="object"&&X!==null&&(H=sa(X)),E=i.getDerivedStateFromProps,(X=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(C!==de||J!==H)&&yh(n,h,c,H),Rr=!1,J=n.memoizedState,h.state=J,vi(n,c,h,f),hi();var te=n.memoizedState;C!==de||J!==te||Rr||e!==null&&e.dependencies!==null&&zo(e.dependencies)?(typeof E=="function"&&(nm(n,i,E,c),te=n.memoizedState),(oe=Rr||gh(n,i,oe,c,J,te,H)||e!==null&&e.dependencies!==null&&zo(e.dependencies))?(X||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(c,te,H),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(c,te,H)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||C===e.memoizedProps&&J===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&J===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=te),h.props=c,h.state=te,h.context=H,c=oe):(typeof h.componentDidUpdate!="function"||C===e.memoizedProps&&J===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&J===e.memoizedState||(n.flags|=1024),c=!1)}return h=c,nc(e,n),c=(n.flags&128)!==0,h||c?(h=n.stateNode,i=c&&typeof i.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&c?(n.child=js(n,e.child,null,f),n.child=js(n,null,i,f)):la(e,n,i,f),n.memoizedState=h.state,e=n.child):e=rr(e,n,f),e}function Lh(e,n,i,c){return hs(),n.flags|=256,la(e,n,i,c),n.child}var om={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cm(e){return{baseLanes:e,cachePool:Sx()}}function um(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=Ya),e}function Ih(e,n,i){var c=n.pendingProps,f=!1,h=(n.flags&128)!==0,C;if((C=h)||(C=e!==null&&e.memoizedState===null?!1:(zt.current&2)!==0),C&&(f=!0,n.flags&=-129),C=(n.flags&32)!==0,n.flags&=-33,e===null){if(nt){if(f?Pr(n):zr(),(e=Ct)?(e=Uv(e,nn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Er!==null?{id:Sn,overflow:Cn}:null,retryLane:536870912,hydrationErrors:null},i=xx(e),i.return=n,n.child=i,ra=n,Ct=null)):e=null,e===null)throw _r(n);return Vm(e)?n.lanes=32:n.lanes=536870912,null}var E=c.children;return c=c.fallback,f?(zr(),f=n.mode,E=rc({mode:"hidden",children:E},f),c=xs(c,f,i,null),E.return=n,c.return=n,E.sibling=c,n.child=E,c=n.child,c.memoizedState=cm(i),c.childLanes=um(e,C,i),n.memoizedState=om,ji(null,c)):(Pr(n),dm(n,E))}var H=e.memoizedState;if(H!==null&&(E=H.dehydrated,E!==null)){if(h)n.flags&256?(Pr(n),n.flags&=-257,n=mm(e,n,i)):n.memoizedState!==null?(zr(),n.child=e.child,n.flags|=128,n=null):(zr(),E=c.fallback,f=n.mode,c=rc({mode:"visible",children:c.children},f),E=xs(E,f,i,null),E.flags|=2,c.return=n,E.return=n,c.sibling=E,n.child=c,js(n,e.child,null,i),c=n.child,c.memoizedState=cm(i),c.childLanes=um(e,C,i),n.memoizedState=om,n=ji(null,c));else if(Pr(n),Vm(E)){if(C=E.nextSibling&&E.nextSibling.dataset,C)var X=C.dgst;C=X,c=Error(a(419)),c.stack="",c.digest=C,ui({value:c,source:null,stack:null}),n=mm(e,n,i)}else if(Vt||al(e,n,i,!1),C=(i&e.childLanes)!==0,Vt||C){if(C=yt,C!==null&&(c=os(C,i),c!==0&&c!==H.retryLane))throw H.retryLane=c,ps(e,c),Aa(C,e,c),lm;$m(E)||fc(),n=mm(e,n,i)}else $m(E)?(n.flags|=192,n.child=e.child,n=null):(e=H.treeContext,Ct=sn(E.nextSibling),ra=n,nt=!0,Tr=null,nn=!1,e!==null&&bx(n,e),n=dm(n,c.children),n.flags|=4096);return n}return f?(zr(),E=c.fallback,f=n.mode,H=e.child,X=H.sibling,c=Zn(H,{mode:"hidden",children:c.children}),c.subtreeFlags=H.subtreeFlags&65011712,X!==null?E=Zn(X,E):(E=xs(E,f,i,null),E.flags|=2),E.return=n,c.return=n,c.sibling=E,n.child=c,ji(null,c),c=n.child,E=e.child.memoizedState,E===null?E=cm(i):(f=E.cachePool,f!==null?(H=Ut._currentValue,f=f.parent!==H?{parent:H,pool:H}:f):f=Sx(),E={baseLanes:E.baseLanes|i,cachePool:f}),c.memoizedState=E,c.childLanes=um(e,C,i),n.memoizedState=om,ji(e.child,c)):(Pr(n),i=e.child,e=i.sibling,i=Zn(i,{mode:"visible",children:c.children}),i.return=n,i.sibling=null,e!==null&&(C=n.deletions,C===null?(n.deletions=[e],n.flags|=16):C.push(e)),n.child=i,n.memoizedState=null,i)}function dm(e,n){return n=rc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function rc(e,n){return e=za(22,e,null,n),e.lanes=0,e}function mm(e,n,i){return js(n,e.child,null,i),e=dm(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Ph(e,n,i){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),Dd(e.return,n,i)}function fm(e,n,i,c,f,h){var C=e.memoizedState;C===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:i,tailMode:f,treeForkCount:h}:(C.isBackwards=n,C.rendering=null,C.renderingStartTime=0,C.last=c,C.tail=i,C.tailMode=f,C.treeForkCount=h)}function zh(e,n,i){var c=n.pendingProps,f=c.revealOrder,h=c.tail;c=c.children;var C=zt.current,E=(C&2)!==0;if(E?(C=C&1|2,n.flags|=128):C&=1,fe(zt,C),la(e,n,c,i),c=nt?ci:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ph(e,i,n);else if(e.tag===19)Ph(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(i=n.child,f=null;i!==null;)e=i.alternate,e!==null&&Vo(e)===null&&(f=i),i=i.sibling;i=f,i===null?(f=n.child,n.child=null):(f=i.sibling,i.sibling=null),fm(n,!1,f,i,h,c);break;case"backwards":case"unstable_legacy-backwards":for(i=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Vo(e)===null){n.child=f;break}e=f.sibling,f.sibling=i,i=f,f=e}fm(n,!0,i,null,h,c);break;case"together":fm(n,!1,null,null,void 0,c);break;default:n.memoizedState=null}return n.child}function rr(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Hr|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(al(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,i=Zn(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=Zn(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function pm(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&zo(e)))}function VN(e,n,i){switch(n.tag){case 3:ke(n,n.stateNode.containerInfo),Or(n,Ut,e.memoizedState.cache),hs();break;case 27:case 5:jt(n);break;case 4:ke(n,n.stateNode.containerInfo);break;case 10:Or(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Fd(n),null;break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(Pr(n),n.flags|=128,null):(i&n.child.childLanes)!==0?Ih(e,n,i):(Pr(n),e=rr(e,n,i),e!==null?e.sibling:null);Pr(n);break;case 19:var f=(e.flags&128)!==0;if(c=(i&n.childLanes)!==0,c||(al(e,n,i,!1),c=(i&n.childLanes)!==0),f){if(c)return zh(e,n,i);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),fe(zt,zt.current),c)break;return null;case 22:return n.lanes=0,Eh(e,n,i,n.pendingProps);case 24:Or(n,Ut,e.memoizedState.cache)}return rr(e,n,i)}function Fh(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)Vt=!0;else{if(!pm(e,i)&&(n.flags&128)===0)return Vt=!1,VN(e,n,i);Vt=(e.flags&131072)!==0}else Vt=!1,nt&&(n.flags&1048576)!==0&&vx(n,ci,n.index);switch(n.lanes=0,n.tag){case 16:e:{var c=n.pendingProps;if(e=ys(n.elementType),n.type=e,typeof e=="function")gd(e)?(c=Ss(e,c),n.tag=1,n=Rh(null,n,e,c,i)):(n.tag=0,n=im(null,n,e,c,i));else{if(e!=null){var f=e.$$typeof;if(f===_){n.tag=11,n=Dh(null,n,e,c,i);break e}else if(f===P){n.tag=14,n=Mh(null,n,e,c,i);break e}}throw n=ce(e)||e,Error(a(306,n,""))}}return n;case 0:return im(e,n,n.type,n.pendingProps,i);case 1:return c=n.type,f=Ss(c,n.pendingProps),Rh(e,n,c,f,i);case 3:e:{if(ke(n,n.stateNode.containerInfo),e===null)throw Error(a(387));c=n.pendingProps;var h=n.memoizedState;f=h.element,Rd(e,n),vi(n,c,null,i);var C=n.memoizedState;if(c=C.cache,Or(n,Ut,c),c!==h.cache&&Md(n,[Ut],i,!0),hi(),c=C.element,h.isDehydrated)if(h={element:c,isDehydrated:!1,cache:C.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Lh(e,n,c,i);break e}else if(c!==f){f=en(Error(a(424)),n),ui(f),n=Lh(e,n,c,i);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ct=sn(e.firstChild),ra=n,nt=!0,Tr=null,nn=!0,i=Ex(n,null,c,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(hs(),c===f){n=rr(e,n,i);break e}la(e,n,c,i)}n=n.child}return n;case 26:return nc(e,n),e===null?(i=Xv(n.type,null,n.pendingProps,null))?n.memoizedState=i:nt||(i=n.type,e=n.pendingProps,c=yc(Te.current).createElement(i),c[Xt]=n,c[da]=e,ia(c,i,e),st(c),n.stateNode=c):n.memoizedState=Xv(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return jt(n),e===null&&nt&&(c=n.stateNode=Gv(n.type,n.pendingProps,Te.current),ra=n,nn=!0,f=Ct,Vr(n.type)?(Gm=f,Ct=sn(c.firstChild)):Ct=f),la(e,n,n.pendingProps.children,i),nc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&nt&&((f=c=Ct)&&(c=jj(c,n.type,n.pendingProps,nn),c!==null?(n.stateNode=c,ra=n,Ct=sn(c.firstChild),nn=!1,f=!0):f=!1),f||_r(n)),jt(n),f=n.type,h=n.pendingProps,C=e!==null?e.memoizedProps:null,c=h.children,Ym(f,h)?c=null:C!==null&&Ym(f,C)&&(n.flags|=32),n.memoizedState!==null&&(f=Hd(e,n,PN,null,null,i),Pi._currentValue=f),nc(e,n),la(e,n,c,i),n.child;case 6:return e===null&&nt&&((e=i=Ct)&&(i=wj(i,n.pendingProps,nn),i!==null?(n.stateNode=i,ra=n,Ct=null,e=!0):e=!1),e||_r(n)),null;case 13:return Ih(e,n,i);case 4:return ke(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=js(n,null,c,i):la(e,n,c,i),n.child;case 11:return Dh(e,n,n.type,n.pendingProps,i);case 7:return la(e,n,n.pendingProps,i),n.child;case 8:return la(e,n,n.pendingProps.children,i),n.child;case 12:return la(e,n,n.pendingProps.children,i),n.child;case 10:return c=n.pendingProps,Or(n,n.type,c.value),la(e,n,c.children,i),n.child;case 9:return f=n.type._context,c=n.pendingProps.children,bs(n),f=sa(f),c=c(f),n.flags|=1,la(e,n,c,i),n.child;case 14:return Mh(e,n,n.type,n.pendingProps,i);case 15:return Ah(e,n,n.type,n.pendingProps,i);case 19:return zh(e,n,i);case 31:return $N(e,n,i);case 22:return Eh(e,n,i,n.pendingProps);case 24:return bs(n),c=sa(Ut),e===null?(f=Td(),f===null&&(f=yt,h=Ad(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=i),f=h),n.memoizedState={parent:c,cache:f},Od(n),Or(n,Ut,f)):((e.lanes&i)!==0&&(Rd(e,n),vi(n,null,null,i),hi()),f=e.memoizedState,h=n.memoizedState,f.parent!==c?(f={parent:c,cache:c},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Or(n,Ut,c)):(c=h.cache,Or(n,Ut,c),c!==f.cache&&Md(n,[Ut],i,!0))),la(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function sr(e){e.flags|=4}function xm(e,n,i,c,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(mv())e.flags|=8192;else throw Ns=Yo,_d}else e.flags&=-16777217}function Bh(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!t0(n))if(mv())e.flags|=8192;else throw Ns=Yo,_d}function sc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?be():536870912,e.lanes|=n,pl|=n)}function wi(e,n){if(!nt)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function kt(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,c=0;if(n)for(var f=e.child;f!==null;)i|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)i|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=c,e.childLanes=i,n}function GN(e,n,i){var c=n.pendingProps;switch(wd(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(n),null;case 1:return kt(n),null;case 3:return i=n.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),tr(Ut),Pe(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(tl(n)?sr(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Cd())),kt(n),null;case 26:var f=n.type,h=n.memoizedState;return e===null?(sr(n),h!==null?(kt(n),Bh(n,h)):(kt(n),xm(n,f,null,c,i))):h?h!==e.memoizedState?(sr(n),kt(n),Bh(n,h)):(kt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==c&&sr(n),kt(n),xm(n,f,e,c,i)),null;case 27:if(Yt(n),i=Te.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&sr(n);else{if(!c){if(n.stateNode===null)throw Error(a(166));return kt(n),null}e=xe.current,tl(n)?gx(n):(e=Gv(f,c,i),n.stateNode=e,sr(n))}return kt(n),null;case 5:if(Yt(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&sr(n);else{if(!c){if(n.stateNode===null)throw Error(a(166));return kt(n),null}if(h=xe.current,tl(n))gx(n);else{var C=yc(Te.current);switch(h){case 1:h=C.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:h=C.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":h=C.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":h=C.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":h=C.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof c.is=="string"?C.createElement("select",{is:c.is}):C.createElement("select"),c.multiple?h.multiple=!0:c.size&&(h.size=c.size);break;default:h=typeof c.is=="string"?C.createElement(f,{is:c.is}):C.createElement(f)}}h[Xt]=n,h[da]=c;e:for(C=n.child;C!==null;){if(C.tag===5||C.tag===6)h.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===n)break e;for(;C.sibling===null;){if(C.return===null||C.return===n)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}n.stateNode=h;e:switch(ia(h,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&sr(n)}}return kt(n),xm(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,i),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==c&&sr(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(a(166));if(e=Te.current,tl(n)){if(e=n.stateNode,i=n.memoizedProps,c=null,f=ra,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}e[Xt]=n,e=!!(e.nodeValue===i||c!==null&&c.suppressHydrationWarning===!0||Iv(e.nodeValue,i)),e||_r(n,!0)}else e=yc(e).createTextNode(c),e[Xt]=n,n.stateNode=e}return kt(n),null;case 31:if(i=n.memoizedState,e===null||e.memoizedState!==null){if(c=tl(n),i!==null){if(e===null){if(!c)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Xt]=n}else hs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;kt(n),e=!1}else i=Cd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return n.flags&256?(Ba(n),n):(Ba(n),null);if((n.flags&128)!==0)throw Error(a(558))}return kt(n),null;case 13:if(c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=tl(n),c!==null&&c.dehydrated!==null){if(e===null){if(!f)throw Error(a(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Xt]=n}else hs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;kt(n),f=!1}else f=Cd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(Ba(n),n):(Ba(n),null)}return Ba(n),(n.flags&128)!==0?(n.lanes=i,n):(i=c!==null,e=e!==null&&e.memoizedState!==null,i&&(c=n.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),h=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(h=c.memoizedState.cachePool.pool),h!==f&&(c.flags|=2048)),i!==e&&i&&(n.child.flags|=8192),sc(n,n.updateQueue),kt(n),null);case 4:return Pe(),e===null&&Pm(n.stateNode.containerInfo),kt(n),null;case 10:return tr(n.type),kt(n),null;case 19:if(ee(zt),c=n.memoizedState,c===null)return kt(n),null;if(f=(n.flags&128)!==0,h=c.rendering,h===null)if(f)wi(c,!1);else{if(It!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=Vo(e),h!==null){for(n.flags|=128,wi(c,!1),e=h.updateQueue,n.updateQueue=e,sc(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)px(i,e),i=i.sibling;return fe(zt,zt.current&1|2),nt&&Jn(n,c.treeForkCount),n.child}e=e.sibling}c.tail!==null&&Rt()>uc&&(n.flags|=128,f=!0,wi(c,!1),n.lanes=4194304)}else{if(!f)if(e=Vo(h),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,sc(n,e),wi(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!nt)return kt(n),null}else 2*Rt()-c.renderingStartTime>uc&&i!==536870912&&(n.flags|=128,f=!0,wi(c,!1),n.lanes=4194304);c.isBackwards?(h.sibling=n.child,n.child=h):(e=c.last,e!==null?e.sibling=h:n.child=h,c.last=h)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=Rt(),e.sibling=null,i=zt.current,fe(zt,f?i&1|2:i&1),nt&&Jn(n,c.treeForkCount),e):(kt(n),null);case 22:case 23:return Ba(n),zd(),c=n.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?(i&536870912)!==0&&(n.flags&128)===0&&(kt(n),n.subtreeFlags&6&&(n.flags|=8192)):kt(n),i=n.updateQueue,i!==null&&sc(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==i&&(n.flags|=2048),e!==null&&ee(gs),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),tr(Ut),kt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function QN(e,n){switch(wd(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return tr(Ut),Pe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Yt(n),null;case 31:if(n.memoizedState!==null){if(Ba(n),n.alternate===null)throw Error(a(340));hs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Ba(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));hs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ee(zt),null;case 4:return Pe(),null;case 10:return tr(n.type),null;case 22:case 23:return Ba(n),zd(),e!==null&&ee(gs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return tr(Ut),null;case 25:return null;default:return null}}function Hh(e,n){switch(wd(n),n.tag){case 3:tr(Ut),Pe();break;case 26:case 27:case 5:Yt(n);break;case 4:Pe();break;case 31:n.memoizedState!==null&&Ba(n);break;case 13:Ba(n);break;case 19:ee(zt);break;case 10:tr(n.type);break;case 22:case 23:Ba(n),zd(),e!==null&&ee(gs);break;case 24:tr(Ut)}}function Si(e,n){try{var i=n.updateQueue,c=i!==null?i.lastEffect:null;if(c!==null){var f=c.next;i=f;do{if((i.tag&e)===e){c=void 0;var h=i.create,C=i.inst;c=h(),C.destroy=c}i=i.next}while(i!==f)}}catch(E){ft(n,n.return,E)}}function Fr(e,n,i){try{var c=n.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var h=f.next;c=h;do{if((c.tag&e)===e){var C=c.inst,E=C.destroy;if(E!==void 0){C.destroy=void 0,f=n;var H=i,X=E;try{X()}catch(oe){ft(f,H,oe)}}}c=c.next}while(c!==h)}}catch(oe){ft(n,n.return,oe)}}function Yh(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{_x(n,i)}catch(c){ft(e,e.return,c)}}}function qh(e,n,i){i.props=Ss(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(c){ft(e,n,c)}}function Ci(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof i=="function"?e.refCleanup=i(c):i.current=c}}catch(f){ft(e,n,f)}}function kn(e,n){var i=e.ref,c=e.refCleanup;if(i!==null)if(typeof c=="function")try{c()}catch(f){ft(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){ft(e,n,f)}else i.current=null}function Uh(e){var n=e.type,i=e.memoizedProps,c=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&c.focus();break e;case"img":i.src?c.src=i.src:i.srcSet&&(c.srcset=i.srcSet)}}catch(f){ft(e,e.return,f)}}function hm(e,n,i){try{var c=e.stateNode;hj(c,e.type,i,n),c[da]=n}catch(f){ft(e,e.return,f)}}function $h(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vr(e.type)||e.tag===4}function vm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$h(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bm(e,n,i){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Xn));else if(c!==4&&(c===27&&Vr(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(bm(e,n,i),e=e.sibling;e!==null;)bm(e,n,i),e=e.sibling}function lc(e,n,i){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(c!==4&&(c===27&&Vr(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(lc(e,n,i),e=e.sibling;e!==null;)lc(e,n,i),e=e.sibling}function Vh(e){var n=e.stateNode,i=e.memoizedProps;try{for(var c=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);ia(n,c,i),n[Xt]=e,n[da]=i}catch(h){ft(e,e.return,h)}}var lr=!1,Gt=!1,gm=!1,Gh=typeof WeakSet=="function"?WeakSet:Set,ta=null;function KN(e,n){if(e=e.containerInfo,Bm=Dc,e=sx(e),md(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var c=i.getSelection&&i.getSelection();if(c&&c.rangeCount!==0){i=c.anchorNode;var f=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var C=0,E=-1,H=-1,X=0,oe=0,de=e,J=null;t:for(;;){for(var te;de!==i||f!==0&&de.nodeType!==3||(E=C+f),de!==h||c!==0&&de.nodeType!==3||(H=C+c),de.nodeType===3&&(C+=de.nodeValue.length),(te=de.firstChild)!==null;)J=de,de=te;for(;;){if(de===e)break t;if(J===i&&++X===f&&(E=C),J===h&&++oe===c&&(H=C),(te=de.nextSibling)!==null)break;de=J,J=de.parentNode}de=te}i=E===-1||H===-1?null:{start:E,end:H}}else i=null}i=i||{start:0,end:0}}else i=null;for(Hm={focusedElem:e,selectionRange:i},Dc=!1,ta=n;ta!==null;)if(n=ta,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ta=e;else for(;ta!==null;){switch(n=ta,h=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)f=e[i],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,i=n,f=h.memoizedProps,h=h.memoizedState,c=i.stateNode;try{var Me=Ss(i.type,f);e=c.getSnapshotBeforeUpdate(Me,h),c.__reactInternalSnapshotBeforeUpdate=e}catch(Fe){ft(i,i.return,Fe)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)Um(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Um(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,ta=e;break}ta=n.return}}function Qh(e,n,i){var c=i.flags;switch(i.tag){case 0:case 11:case 15:or(e,i),c&4&&Si(5,i);break;case 1:if(or(e,i),c&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(C){ft(i,i.return,C)}else{var f=Ss(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(C){ft(i,i.return,C)}}c&64&&Yh(i),c&512&&Ci(i,i.return);break;case 3:if(or(e,i),c&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{_x(e,n)}catch(C){ft(i,i.return,C)}}break;case 27:n===null&&c&4&&Vh(i);case 26:case 5:or(e,i),n===null&&c&4&&Uh(i),c&512&&Ci(i,i.return);break;case 12:or(e,i);break;case 31:or(e,i),c&4&&Wh(e,i);break;case 13:or(e,i),c&4&&Zh(e,i),c&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=rj.bind(null,i),Sj(e,i))));break;case 22:if(c=i.memoizedState!==null||lr,!c){n=n!==null&&n.memoizedState!==null||Gt,f=lr;var h=Gt;lr=c,(Gt=n)&&!h?cr(e,i,(i.subtreeFlags&8772)!==0):or(e,i),lr=f,Gt=h}break;case 30:break;default:or(e,i)}}function Kh(e){var n=e.alternate;n!==null&&(e.alternate=null,Kh(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Jl(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Mt=null,Ca=!1;function ir(e,n,i){for(i=i.child;i!==null;)Xh(e,n,i),i=i.sibling}function Xh(e,n,i){if(_e&&typeof _e.onCommitFiberUnmount=="function")try{_e.onCommitFiberUnmount(ie,i)}catch{}switch(i.tag){case 26:Gt||kn(i,n),ir(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Gt||kn(i,n);var c=Mt,f=Ca;Vr(i.type)&&(Mt=i.stateNode,Ca=!1),ir(e,n,i),Ri(i.stateNode),Mt=c,Ca=f;break;case 5:Gt||kn(i,n);case 6:if(c=Mt,f=Ca,Mt=null,ir(e,n,i),Mt=c,Ca=f,Mt!==null)if(Ca)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(i.stateNode)}catch(h){ft(i,n,h)}else try{Mt.removeChild(i.stateNode)}catch(h){ft(i,n,h)}break;case 18:Mt!==null&&(Ca?(e=Mt,Yv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),jl(e)):Yv(Mt,i.stateNode));break;case 4:c=Mt,f=Ca,Mt=i.stateNode.containerInfo,Ca=!0,ir(e,n,i),Mt=c,Ca=f;break;case 0:case 11:case 14:case 15:Fr(2,i,n),Gt||Fr(4,i,n),ir(e,n,i);break;case 1:Gt||(kn(i,n),c=i.stateNode,typeof c.componentWillUnmount=="function"&&qh(i,n,c)),ir(e,n,i);break;case 21:ir(e,n,i);break;case 22:Gt=(c=Gt)||i.memoizedState!==null,ir(e,n,i),Gt=c;break;default:ir(e,n,i)}}function Wh(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{jl(e)}catch(i){ft(n,n.return,i)}}}function Zh(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{jl(e)}catch(i){ft(n,n.return,i)}}function XN(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Gh),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Gh),n;default:throw Error(a(435,e.tag))}}function ic(e,n){var i=XN(e);n.forEach(function(c){if(!i.has(c)){i.add(c);var f=sj.bind(null,e,c);c.then(f,f)}})}function ka(e,n){var i=n.deletions;if(i!==null)for(var c=0;c<i.length;c++){var f=i[c],h=e,C=n,E=C;e:for(;E!==null;){switch(E.tag){case 27:if(Vr(E.type)){Mt=E.stateNode,Ca=!1;break e}break;case 5:Mt=E.stateNode,Ca=!1;break e;case 3:case 4:Mt=E.stateNode.containerInfo,Ca=!0;break e}E=E.return}if(Mt===null)throw Error(a(160));Xh(h,C,f),Mt=null,Ca=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Jh(n,e),n=n.sibling}var fn=null;function Jh(e,n){var i=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ka(n,e),Da(e),c&4&&(Fr(3,e,e.return),Si(3,e),Fr(5,e,e.return));break;case 1:ka(n,e),Da(e),c&512&&(Gt||i===null||kn(i,i.return)),c&64&&lr&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?c:i.concat(c))));break;case 26:var f=fn;if(ka(n,e),Da(e),c&512&&(Gt||i===null||kn(i,i.return)),c&4){var h=i!==null?i.memoizedState:null;if(c=e.memoizedState,i===null)if(c===null)if(e.stateNode===null){e:{c=e.type,i=e.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":h=f.getElementsByTagName("title")[0],(!h||h[cs]||h[Xt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(c),f.head.insertBefore(h,f.querySelector("head > title"))),ia(h,c,i),h[Xt]=e,st(h),c=h;break e;case"link":var C=Jv("link","href",f).get(c+(i.href||""));if(C){for(var E=0;E<C.length;E++)if(h=C[E],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){C.splice(E,1);break t}}h=f.createElement(c),ia(h,c,i),f.head.appendChild(h);break;case"meta":if(C=Jv("meta","content",f).get(c+(i.content||""))){for(E=0;E<C.length;E++)if(h=C[E],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){C.splice(E,1);break t}}h=f.createElement(c),ia(h,c,i),f.head.appendChild(h);break;default:throw Error(a(468,c))}h[Xt]=e,st(h),c=h}e.stateNode=c}else e0(f,e.type,e.stateNode);else e.stateNode=Zv(f,c,e.memoizedProps);else h!==c?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,c===null?e0(f,e.type,e.stateNode):Zv(f,c,e.memoizedProps)):c===null&&e.stateNode!==null&&hm(e,e.memoizedProps,i.memoizedProps)}break;case 27:ka(n,e),Da(e),c&512&&(Gt||i===null||kn(i,i.return)),i!==null&&c&4&&hm(e,e.memoizedProps,i.memoizedProps);break;case 5:if(ka(n,e),Da(e),c&512&&(Gt||i===null||kn(i,i.return)),e.flags&32){f=e.stateNode;try{$s(f,"")}catch(Me){ft(e,e.return,Me)}}c&4&&e.stateNode!=null&&(f=e.memoizedProps,hm(e,f,i!==null?i.memoizedProps:f)),c&1024&&(gm=!0);break;case 6:if(ka(n,e),Da(e),c&4){if(e.stateNode===null)throw Error(a(162));c=e.memoizedProps,i=e.stateNode;try{i.nodeValue=c}catch(Me){ft(e,e.return,Me)}}break;case 3:if(wc=null,f=fn,fn=Nc(n.containerInfo),ka(n,e),fn=f,Da(e),c&4&&i!==null&&i.memoizedState.isDehydrated)try{jl(n.containerInfo)}catch(Me){ft(e,e.return,Me)}gm&&(gm=!1,ev(e));break;case 4:c=fn,fn=Nc(e.stateNode.containerInfo),ka(n,e),Da(e),fn=c;break;case 12:ka(n,e),Da(e);break;case 31:ka(n,e),Da(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,ic(e,c)));break;case 13:ka(n,e),Da(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(cc=Rt()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,ic(e,c)));break;case 22:f=e.memoizedState!==null;var H=i!==null&&i.memoizedState!==null,X=lr,oe=Gt;if(lr=X||f,Gt=oe||H,ka(n,e),Gt=oe,lr=X,Da(e),c&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(i===null||H||lr||Gt||Cs(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){H=i=n;try{if(h=H.stateNode,f)C=h.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{E=H.stateNode;var de=H.memoizedProps.style,J=de!=null&&de.hasOwnProperty("display")?de.display:null;E.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(Me){ft(H,H.return,Me)}}}else if(n.tag===6){if(i===null){H=n;try{H.stateNode.nodeValue=f?"":H.memoizedProps}catch(Me){ft(H,H.return,Me)}}}else if(n.tag===18){if(i===null){H=n;try{var te=H.stateNode;f?qv(te,!0):qv(H.stateNode,!1)}catch(Me){ft(H,H.return,Me)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=e.updateQueue,c!==null&&(i=c.retryQueue,i!==null&&(c.retryQueue=null,ic(e,i))));break;case 19:ka(n,e),Da(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,ic(e,c)));break;case 30:break;case 21:break;default:ka(n,e),Da(e)}}function Da(e){var n=e.flags;if(n&2){try{for(var i,c=e.return;c!==null;){if($h(c)){i=c;break}c=c.return}if(i==null)throw Error(a(160));switch(i.tag){case 27:var f=i.stateNode,h=vm(e);lc(e,h,f);break;case 5:var C=i.stateNode;i.flags&32&&($s(C,""),i.flags&=-33);var E=vm(e);lc(e,E,C);break;case 3:case 4:var H=i.stateNode.containerInfo,X=vm(e);bm(e,X,H);break;default:throw Error(a(161))}}catch(oe){ft(e,e.return,oe)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ev(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ev(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function or(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Qh(e,n.alternate,n),n=n.sibling}function Cs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Fr(4,n,n.return),Cs(n);break;case 1:kn(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&qh(n,n.return,i),Cs(n);break;case 27:Ri(n.stateNode);case 26:case 5:kn(n,n.return),Cs(n);break;case 22:n.memoizedState===null&&Cs(n);break;case 30:Cs(n);break;default:Cs(n)}e=e.sibling}}function cr(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,f=e,h=n,C=h.flags;switch(h.tag){case 0:case 11:case 15:cr(f,h,i),Si(4,h);break;case 1:if(cr(f,h,i),c=h,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(X){ft(c,c.return,X)}if(c=h,f=c.updateQueue,f!==null){var E=c.stateNode;try{var H=f.shared.hiddenCallbacks;if(H!==null)for(f.shared.hiddenCallbacks=null,f=0;f<H.length;f++)Tx(H[f],E)}catch(X){ft(c,c.return,X)}}i&&C&64&&Yh(h),Ci(h,h.return);break;case 27:Vh(h);case 26:case 5:cr(f,h,i),i&&c===null&&C&4&&Uh(h),Ci(h,h.return);break;case 12:cr(f,h,i);break;case 31:cr(f,h,i),i&&C&4&&Wh(f,h);break;case 13:cr(f,h,i),i&&C&4&&Zh(f,h);break;case 22:h.memoizedState===null&&cr(f,h,i),Ci(h,h.return);break;case 30:break;default:cr(f,h,i)}n=n.sibling}}function ym(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&di(i))}function Nm(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&di(e))}function pn(e,n,i,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)tv(e,n,i,c),n=n.sibling}function tv(e,n,i,c){var f=n.flags;switch(n.tag){case 0:case 11:case 15:pn(e,n,i,c),f&2048&&Si(9,n);break;case 1:pn(e,n,i,c);break;case 3:pn(e,n,i,c),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&di(e)));break;case 12:if(f&2048){pn(e,n,i,c),e=n.stateNode;try{var h=n.memoizedProps,C=h.id,E=h.onPostCommit;typeof E=="function"&&E(C,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(H){ft(n,n.return,H)}}else pn(e,n,i,c);break;case 31:pn(e,n,i,c);break;case 13:pn(e,n,i,c);break;case 23:break;case 22:h=n.stateNode,C=n.alternate,n.memoizedState!==null?h._visibility&2?pn(e,n,i,c):ki(e,n):h._visibility&2?pn(e,n,i,c):(h._visibility|=2,dl(e,n,i,c,(n.subtreeFlags&10256)!==0||!1)),f&2048&&ym(C,n);break;case 24:pn(e,n,i,c),f&2048&&Nm(n.alternate,n);break;default:pn(e,n,i,c)}}function dl(e,n,i,c,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=e,C=n,E=i,H=c,X=C.flags;switch(C.tag){case 0:case 11:case 15:dl(h,C,E,H,f),Si(8,C);break;case 23:break;case 22:var oe=C.stateNode;C.memoizedState!==null?oe._visibility&2?dl(h,C,E,H,f):ki(h,C):(oe._visibility|=2,dl(h,C,E,H,f)),f&&X&2048&&ym(C.alternate,C);break;case 24:dl(h,C,E,H,f),f&&X&2048&&Nm(C.alternate,C);break;default:dl(h,C,E,H,f)}n=n.sibling}}function ki(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,c=n,f=c.flags;switch(c.tag){case 22:ki(i,c),f&2048&&ym(c.alternate,c);break;case 24:ki(i,c),f&2048&&Nm(c.alternate,c);break;default:ki(i,c)}n=n.sibling}}var Di=8192;function ml(e,n,i){if(e.subtreeFlags&Di)for(e=e.child;e!==null;)av(e,n,i),e=e.sibling}function av(e,n,i){switch(e.tag){case 26:ml(e,n,i),e.flags&Di&&e.memoizedState!==null&&Ij(i,fn,e.memoizedState,e.memoizedProps);break;case 5:ml(e,n,i);break;case 3:case 4:var c=fn;fn=Nc(e.stateNode.containerInfo),ml(e,n,i),fn=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=Di,Di=16777216,ml(e,n,i),Di=c):ml(e,n,i));break;default:ml(e,n,i)}}function nv(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Mi(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var c=n[i];ta=c,sv(c,e)}nv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)rv(e),e=e.sibling}function rv(e){switch(e.tag){case 0:case 11:case 15:Mi(e),e.flags&2048&&Fr(9,e,e.return);break;case 3:Mi(e);break;case 12:Mi(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,oc(e)):Mi(e);break;default:Mi(e)}}function oc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var c=n[i];ta=c,sv(c,e)}nv(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Fr(8,n,n.return),oc(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,oc(n));break;default:oc(n)}e=e.sibling}}function sv(e,n){for(;ta!==null;){var i=ta;switch(i.tag){case 0:case 11:case 15:Fr(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var c=i.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:di(i.memoizedState.cache)}if(c=i.child,c!==null)c.return=i,ta=c;else e:for(i=e;ta!==null;){c=ta;var f=c.sibling,h=c.return;if(Kh(c),c===i){ta=null;break e}if(f!==null){f.return=h,ta=f;break e}ta=h}}}var WN={getCacheForType:function(e){var n=sa(Ut),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i},cacheSignal:function(){return sa(Ut).controller.signal}},ZN=typeof WeakMap=="function"?WeakMap:Map,ct=0,yt=null,Ke=null,Ze=0,mt=0,Ha=null,Br=!1,fl=!1,jm=!1,ur=0,It=0,Hr=0,ks=0,wm=0,Ya=0,pl=0,Ai=null,Ma=null,Sm=!1,cc=0,lv=0,uc=1/0,dc=null,Yr=null,Wt=0,qr=null,xl=null,dr=0,Cm=0,km=null,iv=null,Ei=0,Dm=null;function qa(){return(ct&2)!==0&&Ze!==0?Ze&-Ze:B.T!==null?Om():bo()}function ov(){if(Ya===0)if((Ze&536870912)===0||nt){var e=Ee;Ee<<=1,(Ee&3932160)===0&&(Ee=262144),Ya=e}else Ya=536870912;return e=Fa.current,e!==null&&(e.flags|=32),Ya}function Aa(e,n,i){(e===yt&&(mt===2||mt===9)||e.cancelPendingCommit!==null)&&(hl(e,0),Ur(e,Ze,Ya,!1)),Ka(e,i),((ct&2)===0||e!==yt)&&(e===yt&&((ct&2)===0&&(ks|=i),It===4&&Ur(e,Ze,Ya,!1)),Dn(e))}function cv(e,n,i){if((ct&6)!==0)throw Error(a(327));var c=!i&&(n&127)===0&&(n&e.expiredLanes)===0||na(e,n),f=c?tj(e,n):Am(e,n,!0),h=c;do{if(f===0){fl&&!c&&Ur(e,n,0,!1);break}else{if(i=e.current.alternate,h&&!JN(i)){f=Am(e,n,!1),h=!1;continue}if(f===2){if(h=n,e.errorRecoveryDisabledLanes&h)var C=0;else C=e.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){n=C;e:{var E=e;f=Ai;var H=E.current.memoizedState.isDehydrated;if(H&&(hl(E,C).flags|=256),C=Am(E,C,!1),C!==2){if(jm&&!H){E.errorRecoveryDisabledLanes|=h,ks|=h,f=4;break e}h=Ma,Ma=f,h!==null&&(Ma===null?Ma=h:Ma.push.apply(Ma,h))}f=C}if(h=!1,f!==2)continue}}if(f===1){hl(e,0),Ur(e,n,0,!0);break}e:{switch(c=e,h=f,h){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ur(c,n,Ya,!Br);break e;case 2:Ma=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(f=cc+300-Rt(),10<f)){if(Ur(c,n,Ya,!Br),qt(c,0,!0)!==0)break e;dr=n,c.timeoutHandle=Bv(uv.bind(null,c,i,Ma,dc,Sm,n,Ya,ks,pl,Br,h,"Throttled",-0,0),f);break e}uv(c,i,Ma,dc,Sm,n,Ya,ks,pl,Br,h,null,-0,0)}}break}while(!0);Dn(e)}function uv(e,n,i,c,f,h,C,E,H,X,oe,de,J,te){if(e.timeoutHandle=-1,de=n.subtreeFlags,de&8192||(de&16785408)===16785408){de={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},av(n,h,de);var Me=(h&62914560)===h?cc-Rt():(h&4194048)===h?lv-Rt():0;if(Me=Pj(de,Me),Me!==null){dr=h,e.cancelPendingCommit=Me(bv.bind(null,e,n,h,i,c,f,C,E,H,oe,de,null,J,te)),Ur(e,h,C,!X);return}}bv(e,n,h,i,c,f,C,E,H)}function JN(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var c=0;c<i.length;c++){var f=i[c],h=f.getSnapshot;f=f.value;try{if(!Pa(h(),f))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ur(e,n,i,c){n&=~wm,n&=~ks,e.suspendedLanes|=n,e.pingedLanes&=~n,c&&(e.warmLanes|=n),c=e.expirationTimes;for(var f=n;0<f;){var h=31-ve(f),C=1<<h;c[h]=-1,f&=~C}i!==0&&Vn(e,i,n)}function mc(){return(ct&6)===0?(Ti(0),!1):!0}function Mm(){if(Ke!==null){if(mt===0)var e=Ke.return;else e=Ke,er=vs=null,Ud(e),ll=null,fi=0,e=Ke;for(;e!==null;)Hh(e.alternate,e),e=e.return;Ke=null}}function hl(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,gj(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),dr=0,Mm(),yt=e,Ke=i=Zn(e.current,null),Ze=n,mt=0,Ha=null,Br=!1,fl=na(e,n),jm=!1,pl=Ya=wm=ks=Hr=It=0,Ma=Ai=null,Sm=!1,(n&8)!==0&&(n|=n&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=n;0<c;){var f=31-ve(c),h=1<<f;n|=e[f],c&=~h}return ur=n,Oo(),i}function dv(e,n){Ve=null,B.H=Ni,n===sl||n===Ho?(n=Dx(),mt=3):n===_d?(n=Dx(),mt=4):mt=n===lm?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ha=n,Ke===null&&(It=1,tc(e,en(n,e.current)))}function mv(){var e=Fa.current;return e===null?!0:(Ze&4194048)===Ze?rn===null:(Ze&62914560)===Ze||(Ze&536870912)!==0?e===rn:!1}function fv(){var e=B.H;return B.H=Ni,e===null?Ni:e}function pv(){var e=B.A;return B.A=WN,e}function fc(){It=4,Br||(Ze&4194048)!==Ze&&Fa.current!==null||(fl=!0),(Hr&134217727)===0&&(ks&134217727)===0||yt===null||Ur(yt,Ze,Ya,!1)}function Am(e,n,i){var c=ct;ct|=2;var f=fv(),h=pv();(yt!==e||Ze!==n)&&(dc=null,hl(e,n)),n=!1;var C=It;e:do try{if(mt!==0&&Ke!==null){var E=Ke,H=Ha;switch(mt){case 8:Mm(),C=6;break e;case 3:case 2:case 9:case 6:Fa.current===null&&(n=!0);var X=mt;if(mt=0,Ha=null,vl(e,E,H,X),i&&fl){C=0;break e}break;default:X=mt,mt=0,Ha=null,vl(e,E,H,X)}}ej(),C=It;break}catch(oe){dv(e,oe)}while(!0);return n&&e.shellSuspendCounter++,er=vs=null,ct=c,B.H=f,B.A=h,Ke===null&&(yt=null,Ze=0,Oo()),C}function ej(){for(;Ke!==null;)xv(Ke)}function tj(e,n){var i=ct;ct|=2;var c=fv(),f=pv();yt!==e||Ze!==n?(dc=null,uc=Rt()+500,hl(e,n)):fl=na(e,n);e:do try{if(mt!==0&&Ke!==null){n=Ke;var h=Ha;t:switch(mt){case 1:mt=0,Ha=null,vl(e,n,h,1);break;case 2:case 9:if(Cx(h)){mt=0,Ha=null,hv(n);break}n=function(){mt!==2&&mt!==9||yt!==e||(mt=7),Dn(e)},h.then(n,n);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:Cx(h)?(mt=0,Ha=null,hv(n)):(mt=0,Ha=null,vl(e,n,h,7));break;case 5:var C=null;switch(Ke.tag){case 26:C=Ke.memoizedState;case 5:case 27:var E=Ke;if(C?t0(C):E.stateNode.complete){mt=0,Ha=null;var H=E.sibling;if(H!==null)Ke=H;else{var X=E.return;X!==null?(Ke=X,pc(X)):Ke=null}break t}}mt=0,Ha=null,vl(e,n,h,5);break;case 6:mt=0,Ha=null,vl(e,n,h,6);break;case 8:Mm(),It=6;break e;default:throw Error(a(462))}}aj();break}catch(oe){dv(e,oe)}while(!0);return er=vs=null,B.H=c,B.A=f,ct=i,Ke!==null?0:(yt=null,Ze=0,Oo(),It)}function aj(){for(;Ke!==null&&!ea();)xv(Ke)}function xv(e){var n=Fh(e.alternate,e,ur);e.memoizedProps=e.pendingProps,n===null?pc(e):Ke=n}function hv(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=Oh(i,n,n.pendingProps,n.type,void 0,Ze);break;case 11:n=Oh(i,n,n.pendingProps,n.type.render,n.ref,Ze);break;case 5:Ud(n);default:Hh(i,n),n=Ke=px(n,ur),n=Fh(i,n,ur)}e.memoizedProps=e.pendingProps,n===null?pc(e):Ke=n}function vl(e,n,i,c){er=vs=null,Ud(n),ll=null,fi=0;var f=n.return;try{if(UN(e,f,n,i,Ze)){It=1,tc(e,en(i,e.current)),Ke=null;return}}catch(h){if(f!==null)throw Ke=f,h;It=1,tc(e,en(i,e.current)),Ke=null;return}n.flags&32768?(nt||c===1?e=!0:fl||(Ze&536870912)!==0?e=!1:(Br=e=!0,(c===2||c===9||c===3||c===6)&&(c=Fa.current,c!==null&&c.tag===13&&(c.flags|=16384))),vv(n,e)):pc(n)}function pc(e){var n=e;do{if((n.flags&32768)!==0){vv(n,Br);return}e=n.return;var i=GN(n.alternate,n,ur);if(i!==null){Ke=i;return}if(n=n.sibling,n!==null){Ke=n;return}Ke=n=e}while(n!==null);It===0&&(It=5)}function vv(e,n){do{var i=QN(e.alternate,e);if(i!==null){i.flags&=32767,Ke=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){Ke=e;return}Ke=e=i}while(e!==null);It=6,Ke=null}function bv(e,n,i,c,f,h,C,E,H){e.cancelPendingCommit=null;do xc();while(Wt!==0);if((ct&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(h=n.lanes|n.childLanes,h|=vd,$n(e,i,h,C,E,H),e===yt&&(Ke=yt=null,Ze=0),xl=n,qr=e,dr=i,Cm=h,km=f,iv=c,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,lj(R,function(){return wv(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||c){c=B.T,B.T=null,f=W.p,W.p=2,C=ct,ct|=4;try{KN(e,n,i)}finally{ct=C,W.p=f,B.T=c}}Wt=1,gv(),yv(),Nv()}}function gv(){if(Wt===1){Wt=0;var e=qr,n=xl,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=B.T,B.T=null;var c=W.p;W.p=2;var f=ct;ct|=4;try{Jh(n,e);var h=Hm,C=sx(e.containerInfo),E=h.focusedElem,H=h.selectionRange;if(C!==E&&E&&E.ownerDocument&&rx(E.ownerDocument.documentElement,E)){if(H!==null&&md(E)){var X=H.start,oe=H.end;if(oe===void 0&&(oe=X),"selectionStart"in E)E.selectionStart=X,E.selectionEnd=Math.min(oe,E.value.length);else{var de=E.ownerDocument||document,J=de&&de.defaultView||window;if(J.getSelection){var te=J.getSelection(),Me=E.textContent.length,Fe=Math.min(H.start,Me),gt=H.end===void 0?Fe:Math.min(H.end,Me);!te.extend&&Fe>gt&&(C=gt,gt=Fe,Fe=C);var G=nx(E,Fe),U=nx(E,gt);if(G&&U&&(te.rangeCount!==1||te.anchorNode!==G.node||te.anchorOffset!==G.offset||te.focusNode!==U.node||te.focusOffset!==U.offset)){var K=de.createRange();K.setStart(G.node,G.offset),te.removeAllRanges(),Fe>gt?(te.addRange(K),te.extend(U.node,U.offset)):(K.setEnd(U.node,U.offset),te.addRange(K))}}}}for(de=[],te=E;te=te.parentNode;)te.nodeType===1&&de.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<de.length;E++){var ue=de[E];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Dc=!!Bm,Hm=Bm=null}finally{ct=f,W.p=c,B.T=i}}e.current=n,Wt=2}}function yv(){if(Wt===2){Wt=0;var e=qr,n=xl,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=B.T,B.T=null;var c=W.p;W.p=2;var f=ct;ct|=4;try{Qh(e,n.alternate,n)}finally{ct=f,W.p=c,B.T=i}}Wt=3}}function Nv(){if(Wt===4||Wt===3){Wt=0,Na();var e=qr,n=xl,i=dr,c=iv;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Wt=5:(Wt=0,xl=qr=null,jv(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Yr=null),Cr(i),n=n.stateNode,_e&&typeof _e.onCommitFiberRoot=="function")try{_e.onCommitFiberRoot(ie,n,void 0,(n.current.flags&128)===128)}catch{}if(c!==null){n=B.T,f=W.p,W.p=2,B.T=null;try{for(var h=e.onRecoverableError,C=0;C<c.length;C++){var E=c[C];h(E.value,{componentStack:E.stack})}}finally{B.T=n,W.p=f}}(dr&3)!==0&&xc(),Dn(e),f=e.pendingLanes,(i&261930)!==0&&(f&42)!==0?e===Dm?Ei++:(Ei=0,Dm=e):Ei=0,Ti(0)}}function jv(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,di(n)))}function xc(){return gv(),yv(),Nv(),wv()}function wv(){if(Wt!==5)return!1;var e=qr,n=Cm;Cm=0;var i=Cr(dr),c=B.T,f=W.p;try{W.p=32>i?32:i,B.T=null,i=km,km=null;var h=qr,C=dr;if(Wt=0,xl=qr=null,dr=0,(ct&6)!==0)throw Error(a(331));var E=ct;if(ct|=4,rv(h.current),tv(h,h.current,C,i),ct=E,Ti(0,!1),_e&&typeof _e.onPostCommitFiberRoot=="function")try{_e.onPostCommitFiberRoot(ie,h)}catch{}return!0}finally{W.p=f,B.T=c,jv(e,n)}}function Sv(e,n,i){n=en(i,n),n=sm(e.stateNode,n,2),e=Ir(e,n,2),e!==null&&(Ka(e,2),Dn(e))}function ft(e,n,i){if(e.tag===3)Sv(e,e,i);else for(;n!==null;){if(n.tag===3){Sv(n,e,i);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Yr===null||!Yr.has(c))){e=en(i,e),i=Ch(2),c=Ir(n,i,2),c!==null&&(kh(i,c,n,e),Ka(c,2),Dn(c));break}}n=n.return}}function Em(e,n,i){var c=e.pingCache;if(c===null){c=e.pingCache=new ZN;var f=new Set;c.set(n,f)}else f=c.get(n),f===void 0&&(f=new Set,c.set(n,f));f.has(i)||(jm=!0,f.add(i),e=nj.bind(null,e,n,i),n.then(e,e))}function nj(e,n,i){var c=e.pingCache;c!==null&&c.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,yt===e&&(Ze&i)===i&&(It===4||It===3&&(Ze&62914560)===Ze&&300>Rt()-cc?(ct&2)===0&&hl(e,0):wm|=i,pl===Ze&&(pl=0)),Dn(e)}function Cv(e,n){n===0&&(n=be()),e=ps(e,n),e!==null&&(Ka(e,n),Dn(e))}function rj(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Cv(e,i)}function sj(e,n){var i=0;switch(e.tag){case 31:case 13:var c=e.stateNode,f=e.memoizedState;f!==null&&(i=f.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(n),Cv(e,i)}function lj(e,n){return Jt(e,n)}var hc=null,bl=null,Tm=!1,vc=!1,_m=!1,$r=0;function Dn(e){e!==bl&&e.next===null&&(bl===null?hc=bl=e:bl=bl.next=e),vc=!0,Tm||(Tm=!0,oj())}function Ti(e,n){if(!_m&&vc){_m=!0;do for(var i=!1,c=hc;c!==null;){if(e!==0){var f=c.pendingLanes;if(f===0)var h=0;else{var C=c.suspendedLanes,E=c.pingedLanes;h=(1<<31-ve(42|e)+1)-1,h&=f&~(C&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,Av(c,h))}else h=Ze,h=qt(c,c===yt?h:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(h&3)===0||na(c,h)||(i=!0,Av(c,h));c=c.next}while(i);_m=!1}}function ij(){kv()}function kv(){vc=Tm=!1;var e=0;$r!==0&&bj()&&(e=$r);for(var n=Rt(),i=null,c=hc;c!==null;){var f=c.next,h=Dv(c,n);h===0?(c.next=null,i===null?hc=f:i.next=f,f===null&&(bl=i)):(i=c,(e!==0||(h&3)!==0)&&(vc=!0)),c=f}Wt!==0&&Wt!==5||Ti(e),$r!==0&&($r=0)}function Dv(e,n){for(var i=e.suspendedLanes,c=e.pingedLanes,f=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var C=31-ve(h),E=1<<C,H=f[C];H===-1?((E&i)===0||(E&c)!==0)&&(f[C]=is(E,n)):H<=n&&(e.expiredLanes|=E),h&=~E}if(n=yt,i=Ze,i=qt(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,i===0||e===n&&(mt===2||mt===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&dt(c),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||na(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(c!==null&&dt(c),Cr(i)){case 2:case 8:i=Z;break;case 32:i=R;break;case 268435456:i=me;break;default:i=R}return c=Mv.bind(null,e),i=Jt(i,c),e.callbackPriority=n,e.callbackNode=i,n}return c!==null&&c!==null&&dt(c),e.callbackPriority=2,e.callbackNode=null,2}function Mv(e,n){if(Wt!==0&&Wt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(xc()&&e.callbackNode!==i)return null;var c=Ze;return c=qt(e,e===yt?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(cv(e,c,n),Dv(e,Rt()),e.callbackNode!=null&&e.callbackNode===i?Mv.bind(null,e):null)}function Av(e,n){if(xc())return null;cv(e,n,!0)}function oj(){yj(function(){(ct&6)!==0?Jt(Ie,ij):kv()})}function Om(){if($r===0){var e=nl;e===0&&(e=ze,ze<<=1,(ze&261888)===0&&(ze=256)),$r=e}return $r}function Ev(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Co(""+e)}function Tv(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function cj(e,n,i,c,f){if(n==="submit"&&i&&i.stateNode===f){var h=Ev((f[da]||null).action),C=c.submitter;C&&(n=(n=C[da]||null)?Ev(n.formAction):C.getAttribute("formAction"),n!==null&&(h=n,C=null));var E=new Ao("action","action",null,c,f);e.push({event:E,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if($r!==0){var H=C?Tv(f,C):new FormData(f);Jd(i,{pending:!0,data:H,method:f.method,action:h},null,H)}}else typeof h=="function"&&(E.preventDefault(),H=C?Tv(f,C):new FormData(f),Jd(i,{pending:!0,data:H,method:f.method,action:h},h,H))},currentTarget:f}]})}}for(var Rm=0;Rm<hd.length;Rm++){var Lm=hd[Rm],uj=Lm.toLowerCase(),dj=Lm[0].toUpperCase()+Lm.slice(1);mn(uj,"on"+dj)}mn(ox,"onAnimationEnd"),mn(cx,"onAnimationIteration"),mn(ux,"onAnimationStart"),mn("dblclick","onDoubleClick"),mn("focusin","onFocus"),mn("focusout","onBlur"),mn(DN,"onTransitionRun"),mn(MN,"onTransitionStart"),mn(AN,"onTransitionCancel"),mn(dx,"onTransitionEnd"),Xa("onMouseEnter",["mouseout","mouseover"]),Xa("onMouseLeave",["mouseout","mouseover"]),Xa("onPointerEnter",["pointerout","pointerover"]),Xa("onPointerLeave",["pointerout","pointerover"]),wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wa("onBeforeInput",["compositionend","keypress","textInput","paste"]),wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _i="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_i));function _v(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var c=e[i],f=c.event;c=c.listeners;e:{var h=void 0;if(n)for(var C=c.length-1;0<=C;C--){var E=c[C],H=E.instance,X=E.currentTarget;if(E=E.listener,H!==h&&f.isPropagationStopped())break e;h=E,f.currentTarget=X;try{h(f)}catch(oe){_o(oe)}f.currentTarget=null,h=H}else for(C=0;C<c.length;C++){if(E=c[C],H=E.instance,X=E.currentTarget,E=E.listener,H!==h&&f.isPropagationStopped())break e;h=E,f.currentTarget=X;try{h(f)}catch(oe){_o(oe)}f.currentTarget=null,h=H}}}}function Xe(e,n){var i=n[Zl];i===void 0&&(i=n[Zl]=new Set);var c=e+"__bubble";i.has(c)||(Ov(n,e,2,!1),i.add(c))}function Im(e,n,i){var c=0;n&&(c|=4),Ov(i,e,c,n)}var bc="_reactListening"+Math.random().toString(36).slice(2);function Pm(e){if(!e[bc]){e[bc]=!0,ja.forEach(function(i){i!=="selectionchange"&&(mj.has(i)||Im(i,!1,e),Im(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[bc]||(n[bc]=!0,Im("selectionchange",!1,n))}}function Ov(e,n,i,c){switch(o0(n)){case 2:var f=Bj;break;case 8:f=Hj;break;default:f=Zm}i=f.bind(null,n,i,e),f=void 0,!nd||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),c?f!==void 0?e.addEventListener(n,i,{capture:!0,passive:f}):e.addEventListener(n,i,!0):f!==void 0?e.addEventListener(n,i,{passive:f}):e.addEventListener(n,i,!1)}function zm(e,n,i,c,f){var h=c;if((n&1)===0&&(n&2)===0&&c!==null)e:for(;;){if(c===null)return;var C=c.tag;if(C===3||C===4){var E=c.stateNode.containerInfo;if(E===f)break;if(C===4)for(C=c.return;C!==null;){var H=C.tag;if((H===3||H===4)&&C.stateNode.containerInfo===f)return;C=C.return}for(;E!==null;){if(C=Dr(E),C===null)return;if(H=C.tag,H===5||H===6||H===26||H===27){c=h=C;continue e}E=E.parentNode}}c=c.return}zp(function(){var X=h,oe=td(i),de=[];e:{var J=mx.get(e);if(J!==void 0){var te=Ao,Me=e;switch(e){case"keypress":if(Do(i)===0)break e;case"keydown":case"keyup":te=sN;break;case"focusin":Me="focus",te=id;break;case"focusout":Me="blur",te=id;break;case"beforeblur":case"afterblur":te=id;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Hp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=G1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=oN;break;case ox:case cx:case ux:te=X1;break;case dx:te=uN;break;case"scroll":case"scrollend":te=$1;break;case"wheel":te=mN;break;case"copy":case"cut":case"paste":te=Z1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=qp;break;case"toggle":case"beforetoggle":te=pN}var Fe=(n&4)!==0,gt=!Fe&&(e==="scroll"||e==="scrollend"),G=Fe?J!==null?J+"Capture":null:J;Fe=[];for(var U=X,K;U!==null;){var ue=U;if(K=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||K===null||G===null||(ue=ei(U,G),ue!=null&&Fe.push(Oi(U,ue,K))),gt)break;U=U.return}0<Fe.length&&(J=new te(J,Me,null,i,oe),de.push({event:J,listeners:Fe}))}}if((n&7)===0){e:{if(J=e==="mouseover"||e==="pointerover",te=e==="mouseout"||e==="pointerout",J&&i!==ed&&(Me=i.relatedTarget||i.fromElement)&&(Dr(Me)||Me[kr]))break e;if((te||J)&&(J=oe.window===oe?oe:(J=oe.ownerDocument)?J.defaultView||J.parentWindow:window,te?(Me=i.relatedTarget||i.toElement,te=X,Me=Me?Dr(Me):null,Me!==null&&(gt=u(Me),Fe=Me.tag,Me!==gt||Fe!==5&&Fe!==27&&Fe!==6)&&(Me=null)):(te=null,Me=X),te!==Me)){if(Fe=Hp,ue="onMouseLeave",G="onMouseEnter",U="mouse",(e==="pointerout"||e==="pointerover")&&(Fe=qp,ue="onPointerLeave",G="onPointerEnter",U="pointer"),gt=te==null?J:Y(te),K=Me==null?J:Y(Me),J=new Fe(ue,U+"leave",te,i,oe),J.target=gt,J.relatedTarget=K,ue=null,Dr(oe)===X&&(Fe=new Fe(G,U+"enter",Me,i,oe),Fe.target=K,Fe.relatedTarget=gt,ue=Fe),gt=ue,te&&Me)t:{for(Fe=fj,G=te,U=Me,K=0,ue=G;ue;ue=Fe(ue))K++;ue=0;for(var Le=U;Le;Le=Fe(Le))ue++;for(;0<K-ue;)G=Fe(G),K--;for(;0<ue-K;)U=Fe(U),ue--;for(;K--;){if(G===U||U!==null&&G===U.alternate){Fe=G;break t}G=Fe(G),U=Fe(U)}Fe=null}else Fe=null;te!==null&&Rv(de,J,te,Fe,!1),Me!==null&&gt!==null&&Rv(de,gt,Me,Fe,!0)}}e:{if(J=X?Y(X):window,te=J.nodeName&&J.nodeName.toLowerCase(),te==="select"||te==="input"&&J.type==="file")var it=Wp;else if(Kp(J))if(Zp)it=SN;else{it=jN;var Oe=NN}else te=J.nodeName,!te||te.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?X&&Ju(X.elementType)&&(it=Wp):it=wN;if(it&&(it=it(e,X))){Xp(de,it,i,oe);break e}Oe&&Oe(e,J,X),e==="focusout"&&X&&J.type==="number"&&X.memoizedProps.value!=null&&Zu(J,"number",J.value)}switch(Oe=X?Y(X):window,e){case"focusin":(Kp(Oe)||Oe.contentEditable==="true")&&(Ks=Oe,fd=X,oi=null);break;case"focusout":oi=fd=Ks=null;break;case"mousedown":pd=!0;break;case"contextmenu":case"mouseup":case"dragend":pd=!1,lx(de,i,oe);break;case"selectionchange":if(kN)break;case"keydown":case"keyup":lx(de,i,oe)}var Ge;if(cd)e:{switch(e){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else Qs?Gp(e,i)&&(Je="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Je="onCompositionStart");Je&&(Up&&i.locale!=="ko"&&(Qs||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&Qs&&(Ge=Fp()):(Ar=oe,rd="value"in Ar?Ar.value:Ar.textContent,Qs=!0)),Oe=gc(X,Je),0<Oe.length&&(Je=new Yp(Je,e,null,i,oe),de.push({event:Je,listeners:Oe}),Ge?Je.data=Ge:(Ge=Qp(i),Ge!==null&&(Je.data=Ge)))),(Ge=hN?vN(e,i):bN(e,i))&&(Je=gc(X,"onBeforeInput"),0<Je.length&&(Oe=new Yp("onBeforeInput","beforeinput",null,i,oe),de.push({event:Oe,listeners:Je}),Oe.data=Ge)),cj(de,e,X,i,oe)}_v(de,n)})}function Oi(e,n,i){return{instance:e,listener:n,currentTarget:i}}function gc(e,n){for(var i=n+"Capture",c=[];e!==null;){var f=e,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=ei(e,i),f!=null&&c.unshift(Oi(e,f,h)),f=ei(e,n),f!=null&&c.push(Oi(e,f,h))),e.tag===3)return c;e=e.return}return[]}function fj(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Rv(e,n,i,c,f){for(var h=n._reactName,C=[];i!==null&&i!==c;){var E=i,H=E.alternate,X=E.stateNode;if(E=E.tag,H!==null&&H===c)break;E!==5&&E!==26&&E!==27||X===null||(H=X,f?(X=ei(i,h),X!=null&&C.unshift(Oi(i,X,H))):f||(X=ei(i,h),X!=null&&C.push(Oi(i,X,H)))),i=i.return}C.length!==0&&e.push({event:n,listeners:C})}var pj=/\r\n?/g,xj=/\u0000|\uFFFD/g;function Lv(e){return(typeof e=="string"?e:""+e).replace(pj,`
`).replace(xj,"")}function Iv(e,n){return n=Lv(n),Lv(e)===n}function bt(e,n,i,c,f,h){switch(i){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||$s(e,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&$s(e,""+c);break;case"className":wo(e,"class",c);break;case"tabIndex":wo(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":wo(e,i,c);break;case"style":Ip(e,c,h);break;case"data":if(n!=="object"){wo(e,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(i);break}c=Co(""+c),e.setAttribute(i,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(n!=="input"&&bt(e,n,"name",f.name,f,null),bt(e,n,"formEncType",f.formEncType,f,null),bt(e,n,"formMethod",f.formMethod,f,null),bt(e,n,"formTarget",f.formTarget,f,null)):(bt(e,n,"encType",f.encType,f,null),bt(e,n,"method",f.method,f,null),bt(e,n,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(i);break}c=Co(""+c),e.setAttribute(i,c);break;case"onClick":c!=null&&(e.onclick=Xn);break;case"onScroll":c!=null&&Xe("scroll",e);break;case"onScrollEnd":c!=null&&Xe("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(i=c.__html,i!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}i=Co(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(i,""+c):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":c===!0?e.setAttribute(i,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(i,c):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(i,c):e.removeAttribute(i);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(i):e.setAttribute(i,c);break;case"popover":Xe("beforetoggle",e),Xe("toggle",e),jo(e,"popover",c);break;case"xlinkActuate":Kn(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Kn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Kn(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Kn(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Kn(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Kn(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Kn(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Kn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Kn(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":jo(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=q1.get(i)||i,jo(e,i,c))}}function Fm(e,n,i,c,f,h){switch(i){case"style":Ip(e,c,h);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(i=c.__html,i!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"children":typeof c=="string"?$s(e,c):(typeof c=="number"||typeof c=="bigint")&&$s(e,""+c);break;case"onScroll":c!=null&&Xe("scroll",e);break;case"onScrollEnd":c!=null&&Xe("scrollend",e);break;case"onClick":c!=null&&(e.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wn.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),n=i.slice(2,f?i.length-7:void 0),h=e[da]||null,h=h!=null?h[i]:null,typeof h=="function"&&e.removeEventListener(n,h,f),typeof c=="function")){typeof h!="function"&&h!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,c,f);break e}i in e?e[i]=c:c===!0?e.setAttribute(i,""):jo(e,i,c)}}}function ia(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",e),Xe("load",e);var c=!1,f=!1,h;for(h in i)if(i.hasOwnProperty(h)){var C=i[h];if(C!=null)switch(h){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:bt(e,n,h,C,i,null)}}f&&bt(e,n,"srcSet",i.srcSet,i,null),c&&bt(e,n,"src",i.src,i,null);return;case"input":Xe("invalid",e);var E=h=C=f=null,H=null,X=null;for(c in i)if(i.hasOwnProperty(c)){var oe=i[c];if(oe!=null)switch(c){case"name":f=oe;break;case"type":C=oe;break;case"checked":H=oe;break;case"defaultChecked":X=oe;break;case"value":h=oe;break;case"defaultValue":E=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(a(137,n));break;default:bt(e,n,c,oe,i,null)}}_p(e,h,E,H,X,C,f,!1);return;case"select":Xe("invalid",e),c=C=h=null;for(f in i)if(i.hasOwnProperty(f)&&(E=i[f],E!=null))switch(f){case"value":h=E;break;case"defaultValue":C=E;break;case"multiple":c=E;default:bt(e,n,f,E,i,null)}n=h,i=C,e.multiple=!!c,n!=null?Us(e,!!c,n,!1):i!=null&&Us(e,!!c,i,!0);return;case"textarea":Xe("invalid",e),h=f=c=null;for(C in i)if(i.hasOwnProperty(C)&&(E=i[C],E!=null))switch(C){case"value":c=E;break;case"defaultValue":f=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:bt(e,n,C,E,i,null)}Rp(e,c,f,h);return;case"option":for(H in i)i.hasOwnProperty(H)&&(c=i[H],c!=null)&&(H==="selected"?e.selected=c&&typeof c!="function"&&typeof c!="symbol":bt(e,n,H,c,i,null));return;case"dialog":Xe("beforetoggle",e),Xe("toggle",e),Xe("cancel",e),Xe("close",e);break;case"iframe":case"object":Xe("load",e);break;case"video":case"audio":for(c=0;c<_i.length;c++)Xe(_i[c],e);break;case"image":Xe("error",e),Xe("load",e);break;case"details":Xe("toggle",e);break;case"embed":case"source":case"link":Xe("error",e),Xe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in i)if(i.hasOwnProperty(X)&&(c=i[X],c!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:bt(e,n,X,c,i,null)}return;default:if(Ju(n)){for(oe in i)i.hasOwnProperty(oe)&&(c=i[oe],c!==void 0&&Fm(e,n,oe,c,i,void 0));return}}for(E in i)i.hasOwnProperty(E)&&(c=i[E],c!=null&&bt(e,n,E,c,i,null))}function hj(e,n,i,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,C=null,E=null,H=null,X=null,oe=null;for(te in i){var de=i[te];if(i.hasOwnProperty(te)&&de!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":H=de;default:c.hasOwnProperty(te)||bt(e,n,te,null,c,de)}}for(var J in c){var te=c[J];if(de=i[J],c.hasOwnProperty(J)&&(te!=null||de!=null))switch(J){case"type":h=te;break;case"name":f=te;break;case"checked":X=te;break;case"defaultChecked":oe=te;break;case"value":C=te;break;case"defaultValue":E=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(a(137,n));break;default:te!==de&&bt(e,n,J,te,c,de)}}Wu(e,C,E,H,X,oe,h,f);return;case"select":te=C=E=J=null;for(h in i)if(H=i[h],i.hasOwnProperty(h)&&H!=null)switch(h){case"value":break;case"multiple":te=H;default:c.hasOwnProperty(h)||bt(e,n,h,null,c,H)}for(f in c)if(h=c[f],H=i[f],c.hasOwnProperty(f)&&(h!=null||H!=null))switch(f){case"value":J=h;break;case"defaultValue":E=h;break;case"multiple":C=h;default:h!==H&&bt(e,n,f,h,c,H)}n=E,i=C,c=te,J!=null?Us(e,!!i,J,!1):!!c!=!!i&&(n!=null?Us(e,!!i,n,!0):Us(e,!!i,i?[]:"",!1));return;case"textarea":te=J=null;for(E in i)if(f=i[E],i.hasOwnProperty(E)&&f!=null&&!c.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:bt(e,n,E,null,c,f)}for(C in c)if(f=c[C],h=i[C],c.hasOwnProperty(C)&&(f!=null||h!=null))switch(C){case"value":J=f;break;case"defaultValue":te=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==h&&bt(e,n,C,f,c,h)}Op(e,J,te);return;case"option":for(var Me in i)J=i[Me],i.hasOwnProperty(Me)&&J!=null&&!c.hasOwnProperty(Me)&&(Me==="selected"?e.selected=!1:bt(e,n,Me,null,c,J));for(H in c)J=c[H],te=i[H],c.hasOwnProperty(H)&&J!==te&&(J!=null||te!=null)&&(H==="selected"?e.selected=J&&typeof J!="function"&&typeof J!="symbol":bt(e,n,H,J,c,te));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in i)J=i[Fe],i.hasOwnProperty(Fe)&&J!=null&&!c.hasOwnProperty(Fe)&&bt(e,n,Fe,null,c,J);for(X in c)if(J=c[X],te=i[X],c.hasOwnProperty(X)&&J!==te&&(J!=null||te!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,n));break;default:bt(e,n,X,J,c,te)}return;default:if(Ju(n)){for(var gt in i)J=i[gt],i.hasOwnProperty(gt)&&J!==void 0&&!c.hasOwnProperty(gt)&&Fm(e,n,gt,void 0,c,J);for(oe in c)J=c[oe],te=i[oe],!c.hasOwnProperty(oe)||J===te||J===void 0&&te===void 0||Fm(e,n,oe,J,c,te);return}}for(var G in i)J=i[G],i.hasOwnProperty(G)&&J!=null&&!c.hasOwnProperty(G)&&bt(e,n,G,null,c,J);for(de in c)J=c[de],te=i[de],!c.hasOwnProperty(de)||J===te||J==null&&te==null||bt(e,n,de,J,c,te)}function Pv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vj(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,i=performance.getEntriesByType("resource"),c=0;c<i.length;c++){var f=i[c],h=f.transferSize,C=f.initiatorType,E=f.duration;if(h&&E&&Pv(C)){for(C=0,E=f.responseEnd,c+=1;c<i.length;c++){var H=i[c],X=H.startTime;if(X>E)break;var oe=H.transferSize,de=H.initiatorType;oe&&Pv(de)&&(H=H.responseEnd,C+=oe*(H<E?1:(E-X)/(H-X)))}if(--c,n+=8*(h+C)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Bm=null,Hm=null;function yc(e){return e.nodeType===9?e:e.ownerDocument}function zv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fv(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Ym(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var qm=null;function bj(){var e=window.event;return e&&e.type==="popstate"?e===qm?!1:(qm=e,!0):(qm=null,!1)}var Bv=typeof setTimeout=="function"?setTimeout:void 0,gj=typeof clearTimeout=="function"?clearTimeout:void 0,Hv=typeof Promise=="function"?Promise:void 0,yj=typeof queueMicrotask=="function"?queueMicrotask:typeof Hv<"u"?function(e){return Hv.resolve(null).then(e).catch(Nj)}:Bv;function Nj(e){setTimeout(function(){throw e})}function Vr(e){return e==="head"}function Yv(e,n){var i=n,c=0;do{var f=i.nextSibling;if(e.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"||i==="/&"){if(c===0){e.removeChild(f),jl(n);return}c--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")c++;else if(i==="html")Ri(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Ri(i);for(var h=i.firstChild;h;){var C=h.nextSibling,E=h.nodeName;h[cs]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&h.rel.toLowerCase()==="stylesheet"||i.removeChild(h),h=C}}else i==="body"&&Ri(e.ownerDocument.body);i=f}while(i);jl(n)}function qv(e,n){var i=e;e=0;do{var c=i.nextSibling;if(i.nodeType===1?n?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(n?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=c}while(i)}function Um(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Um(i),Jl(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function jj(e,n,i,c){for(;e.nodeType===1;){var f=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[cs])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=sn(e.nextSibling),e===null)break}return null}function wj(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=sn(e.nextSibling),e===null))return null;return e}function Uv(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=sn(e.nextSibling),e===null))return null;return e}function $m(e){return e.data==="$?"||e.data==="$~"}function Vm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Sj(e,n){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||i.readyState!=="loading")n();else{var c=function(){n(),i.removeEventListener("DOMContentLoaded",c)};i.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function sn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Gm=null;function $v(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(n===0)return sn(e.nextSibling);n--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||n++}e=e.nextSibling}return null}function Vv(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(n===0)return e;n--}else i!=="/$"&&i!=="/&"||n++}e=e.previousSibling}return null}function Gv(e,n,i){switch(n=yc(i),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Ri(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Jl(e)}var ln=new Map,Qv=new Set;function Nc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var mr=W.d;W.d={f:Cj,r:kj,D:Dj,C:Mj,L:Aj,m:Ej,X:_j,S:Tj,M:Oj};function Cj(){var e=mr.f(),n=mc();return e||n}function kj(e){var n=Mr(e);n!==null&&n.tag===5&&n.type==="form"?dh(n):mr.r(e)}var gl=typeof document>"u"?null:document;function Kv(e,n,i){var c=gl;if(c&&typeof n=="string"&&n){var f=Za(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),Qv.has(f)||(Qv.add(f),e={rel:e,crossOrigin:i,href:n},c.querySelector(f)===null&&(n=c.createElement("link"),ia(n,"link",e),st(n),c.head.appendChild(n)))}}function Dj(e){mr.D(e),Kv("dns-prefetch",e,null)}function Mj(e,n){mr.C(e,n),Kv("preconnect",e,n)}function Aj(e,n,i){mr.L(e,n,i);var c=gl;if(c&&e&&n){var f='link[rel="preload"][as="'+Za(n)+'"]';n==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+Za(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+Za(i.imageSizes)+'"]')):f+='[href="'+Za(e)+'"]';var h=f;switch(n){case"style":h=yl(e);break;case"script":h=Nl(e)}ln.has(h)||(e=b({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),ln.set(h,e),c.querySelector(f)!==null||n==="style"&&c.querySelector(Li(h))||n==="script"&&c.querySelector(Ii(h))||(n=c.createElement("link"),ia(n,"link",e),st(n),c.head.appendChild(n)))}}function Ej(e,n){mr.m(e,n);var i=gl;if(i&&e){var c=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Za(c)+'"][href="'+Za(e)+'"]',h=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Nl(e)}if(!ln.has(h)&&(e=b({rel:"modulepreload",href:e},n),ln.set(h,e),i.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Ii(h)))return}c=i.createElement("link"),ia(c,"link",e),st(c),i.head.appendChild(c)}}}function Tj(e,n,i){mr.S(e,n,i);var c=gl;if(c&&e){var f=pe(c).hoistableStyles,h=yl(e);n=n||"default";var C=f.get(h);if(!C){var E={loading:0,preload:null};if(C=c.querySelector(Li(h)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},i),(i=ln.get(h))&&Qm(e,i);var H=C=c.createElement("link");st(H),ia(H,"link",e),H._p=new Promise(function(X,oe){H.onload=X,H.onerror=oe}),H.addEventListener("load",function(){E.loading|=1}),H.addEventListener("error",function(){E.loading|=2}),E.loading|=4,jc(C,n,c)}C={type:"stylesheet",instance:C,count:1,state:E},f.set(h,C)}}}function _j(e,n){mr.X(e,n);var i=gl;if(i&&e){var c=pe(i).hoistableScripts,f=Nl(e),h=c.get(f);h||(h=i.querySelector(Ii(f)),h||(e=b({src:e,async:!0},n),(n=ln.get(f))&&Km(e,n),h=i.createElement("script"),st(h),ia(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(f,h))}}function Oj(e,n){mr.M(e,n);var i=gl;if(i&&e){var c=pe(i).hoistableScripts,f=Nl(e),h=c.get(f);h||(h=i.querySelector(Ii(f)),h||(e=b({src:e,async:!0,type:"module"},n),(n=ln.get(f))&&Km(e,n),h=i.createElement("script"),st(h),ia(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(f,h))}}function Xv(e,n,i,c){var f=(f=Te.current)?Nc(f):null;if(!f)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=yl(i.href),i=pe(f).hoistableStyles,c=i.get(n),c||(c={type:"style",instance:null,count:0,state:null},i.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=yl(i.href);var h=pe(f).hoistableStyles,C=h.get(e);if(C||(f=f.ownerDocument||f,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,C),(h=f.querySelector(Li(e)))&&!h._p&&(C.instance=h,C.state.loading=5),ln.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},ln.set(e,i),h||Rj(f,e,i,C.state))),n&&c===null)throw Error(a(528,""));return C}if(n&&c!==null)throw Error(a(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Nl(i),i=pe(f).hoistableScripts,c=i.get(n),c||(c={type:"script",instance:null,count:0,state:null},i.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function yl(e){return'href="'+Za(e)+'"'}function Li(e){return'link[rel="stylesheet"]['+e+"]"}function Wv(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Rj(e,n,i,c){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=e.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),ia(n,"link",i),st(n),e.head.appendChild(n))}function Nl(e){return'[src="'+Za(e)+'"]'}function Ii(e){return"script[async]"+e}function Zv(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var c=e.querySelector('style[data-href~="'+Za(i.href)+'"]');if(c)return n.instance=c,st(c),c;var f=b({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),st(c),ia(c,"style",f),jc(c,i.precedence,e),n.instance=c;case"stylesheet":f=yl(i.href);var h=e.querySelector(Li(f));if(h)return n.state.loading|=4,n.instance=h,st(h),h;c=Wv(i),(f=ln.get(f))&&Qm(c,f),h=(e.ownerDocument||e).createElement("link"),st(h);var C=h;return C._p=new Promise(function(E,H){C.onload=E,C.onerror=H}),ia(h,"link",c),n.state.loading|=4,jc(h,i.precedence,e),n.instance=h;case"script":return h=Nl(i.src),(f=e.querySelector(Ii(h)))?(n.instance=f,st(f),f):(c=i,(f=ln.get(h))&&(c=b({},i),Km(c,f)),e=e.ownerDocument||e,f=e.createElement("script"),st(f),ia(f,"link",c),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(c=n.instance,n.state.loading|=4,jc(c,i.precedence,e));return n.instance}function jc(e,n,i){for(var c=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,h=f,C=0;C<c.length;C++){var E=c[C];if(E.dataset.precedence===n)h=E;else if(h!==f)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function Qm(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Km(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var wc=null;function Jv(e,n,i){if(wc===null){var c=new Map,f=wc=new Map;f.set(i,c)}else f=wc,c=f.get(i),c||(c=new Map,f.set(i,c));if(c.has(e))return c;for(c.set(e,null),i=i.getElementsByTagName(e),f=0;f<i.length;f++){var h=i[f];if(!(h[cs]||h[Xt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var C=h.getAttribute(n)||"";C=e+C;var E=c.get(C);E?E.push(h):c.set(C,[h])}}return c}function e0(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function Lj(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function t0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Ij(e,n,i,c){if(i.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=yl(c.href),h=n.querySelector(Li(f));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Sc.bind(e),n.then(e,e)),i.state.loading|=4,i.instance=h,st(h);return}h=n.ownerDocument||n,c=Wv(c),(f=ln.get(f))&&Qm(c,f),h=h.createElement("link"),st(h);var C=h;C._p=new Promise(function(E,H){C.onload=E,C.onerror=H}),ia(h,"link",c),i.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Sc.bind(e),n.addEventListener("load",i),n.addEventListener("error",i))}}var Xm=0;function Pj(e,n){return e.stylesheets&&e.count===0&&kc(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var c=setTimeout(function(){if(e.stylesheets&&kc(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+n);0<e.imgBytes&&Xm===0&&(Xm=62500*vj());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&kc(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>Xm?50:800)+n);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function Sc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Cc=null;function kc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Cc=new Map,n.forEach(zj,e),Cc=null,Sc.call(e))}function zj(e,n){if(!(n.state.loading&4)){var i=Cc.get(e);if(i)var c=i.get(null);else{i=new Map,Cc.set(e,i);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var C=f[h];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(i.set(C.dataset.precedence,C),c=C)}c&&i.set(null,c)}f=n.instance,C=f.getAttribute("data-precedence"),h=i.get(C)||c,h===c&&i.set(null,f),i.set(C,f),this.count++,c=Sc.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),h?h.parentNode.insertBefore(f,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var Pi={$$typeof:k,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function Fj(e,n,i,c,f,h,C,E,H){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kt(0),this.hiddenUpdates=Kt(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function a0(e,n,i,c,f,h,C,E,H,X,oe,de){return e=new Fj(e,n,i,C,H,X,oe,de,E),n=1,h===!0&&(n|=24),h=za(3,null,null,n),e.current=h,h.stateNode=e,n=Ad(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:c,isDehydrated:i,cache:n},Od(h),e}function n0(e){return e?(e=Zs,e):Zs}function r0(e,n,i,c,f,h){f=n0(f),c.context===null?c.context=f:c.pendingContext=f,c=Lr(n),c.payload={element:i},h=h===void 0?null:h,h!==null&&(c.callback=h),i=Ir(e,c,n),i!==null&&(Aa(i,e,n),xi(i,e,n))}function s0(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function Wm(e,n){s0(e,n),(e=e.alternate)&&s0(e,n)}function l0(e){if(e.tag===13||e.tag===31){var n=ps(e,67108864);n!==null&&Aa(n,e,67108864),Wm(e,67108864)}}function i0(e){if(e.tag===13||e.tag===31){var n=qa();n=Qn(n);var i=ps(e,n);i!==null&&Aa(i,e,n),Wm(e,n)}}var Dc=!0;function Bj(e,n,i,c){var f=B.T;B.T=null;var h=W.p;try{W.p=2,Zm(e,n,i,c)}finally{W.p=h,B.T=f}}function Hj(e,n,i,c){var f=B.T;B.T=null;var h=W.p;try{W.p=8,Zm(e,n,i,c)}finally{W.p=h,B.T=f}}function Zm(e,n,i,c){if(Dc){var f=Jm(c);if(f===null)zm(e,n,c,Mc,i),c0(e,c);else if(qj(f,e,n,i,c))c.stopPropagation();else if(c0(e,c),n&4&&-1<Yj.indexOf(e)){for(;f!==null;){var h=Mr(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var C=Nt(h.pendingLanes);if(C!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;C;){var H=1<<31-ve(C);E.entanglements[1]|=H,C&=~H}Dn(h),(ct&6)===0&&(uc=Rt()+500,Ti(0))}}break;case 31:case 13:E=ps(h,2),E!==null&&Aa(E,h,2),mc(),Wm(h,2)}if(h=Jm(c),h===null&&zm(e,n,c,Mc,i),h===f)break;f=h}f!==null&&c.stopPropagation()}else zm(e,n,c,null,i)}}function Jm(e){return e=td(e),ef(e)}var Mc=null;function ef(e){if(Mc=null,e=Dr(e),e!==null){var n=u(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=d(n),e!==null)return e;e=null}else if(i===31){if(e=m(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Mc=e,null}function o0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ia()){case Ie:return 2;case Z:return 8;case R:case V:return 32;case me:return 268435456;default:return 32}default:return 32}}var tf=!1,Gr=null,Qr=null,Kr=null,zi=new Map,Fi=new Map,Xr=[],Yj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function c0(e,n){switch(e){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":zi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fi.delete(n.pointerId)}}function Bi(e,n,i,c,f,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:i,eventSystemFlags:c,nativeEvent:h,targetContainers:[f]},n!==null&&(n=Mr(n),n!==null&&l0(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function qj(e,n,i,c,f){switch(n){case"focusin":return Gr=Bi(Gr,e,n,i,c,f),!0;case"dragenter":return Qr=Bi(Qr,e,n,i,c,f),!0;case"mouseover":return Kr=Bi(Kr,e,n,i,c,f),!0;case"pointerover":var h=f.pointerId;return zi.set(h,Bi(zi.get(h)||null,e,n,i,c,f)),!0;case"gotpointercapture":return h=f.pointerId,Fi.set(h,Bi(Fi.get(h)||null,e,n,i,c,f)),!0}return!1}function u0(e){var n=Dr(e.target);if(n!==null){var i=u(n);if(i!==null){if(n=i.tag,n===13){if(n=d(i),n!==null){e.blockedOn=n,go(e.priority,function(){i0(i)});return}}else if(n===31){if(n=m(i),n!==null){e.blockedOn=n,go(e.priority,function(){i0(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ac(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=Jm(e.nativeEvent);if(i===null){i=e.nativeEvent;var c=new i.constructor(i.type,i);ed=c,i.target.dispatchEvent(c),ed=null}else return n=Mr(i),n!==null&&l0(n),e.blockedOn=i,!1;n.shift()}return!0}function d0(e,n,i){Ac(e)&&i.delete(n)}function Uj(){tf=!1,Gr!==null&&Ac(Gr)&&(Gr=null),Qr!==null&&Ac(Qr)&&(Qr=null),Kr!==null&&Ac(Kr)&&(Kr=null),zi.forEach(d0),Fi.forEach(d0)}function Ec(e,n){e.blockedOn===n&&(e.blockedOn=null,tf||(tf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Uj)))}var Tc=null;function m0(e){Tc!==e&&(Tc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Tc===e&&(Tc=null);for(var n=0;n<e.length;n+=3){var i=e[n],c=e[n+1],f=e[n+2];if(typeof c!="function"){if(ef(c||i)===null)continue;break}var h=Mr(i);h!==null&&(e.splice(n,3),n-=3,Jd(h,{pending:!0,data:f,method:i.method,action:c},c,f))}}))}function jl(e){function n(H){return Ec(H,e)}Gr!==null&&Ec(Gr,e),Qr!==null&&Ec(Qr,e),Kr!==null&&Ec(Kr,e),zi.forEach(n),Fi.forEach(n);for(var i=0;i<Xr.length;i++){var c=Xr[i];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Xr.length&&(i=Xr[0],i.blockedOn===null);)u0(i),i.blockedOn===null&&Xr.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(c=0;c<i.length;c+=3){var f=i[c],h=i[c+1],C=f[da]||null;if(typeof h=="function")C||m0(i);else if(C){var E=null;if(h&&h.hasAttribute("formAction")){if(f=h,C=h[da]||null)E=C.formAction;else if(ef(f)!==null)continue}else E=C.action;typeof E=="function"?i[c+1]=E:(i.splice(c,3),c-=3),m0(i)}}}function f0(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(C){return f=C})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),c||setTimeout(i,20)}function i(){if(!c&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(i,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function af(e){this._internalRoot=e}_c.prototype.render=af.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var i=n.current,c=qa();r0(i,c,e,n,null,null)},_c.prototype.unmount=af.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;r0(e.current,2,null,e,null,null),mc(),n[kr]=null}};function _c(e){this._internalRoot=e}_c.prototype.unstable_scheduleHydration=function(e){if(e){var n=bo();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Xr.length&&n!==0&&n<Xr[i].priority;i++);Xr.splice(i,0,e),i===0&&u0(e)}};var p0=l.version;if(p0!=="19.2.4")throw Error(a(527,p0,"19.2.4"));W.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=p(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var $j={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oc.isDisabled&&Oc.supportsFiber)try{ie=Oc.inject($j),_e=Oc}catch{}}return Yi.createRoot=function(e,n){if(!o(e))throw Error(a(299));var i=!1,c="",f=Nh,h=jh,C=wh;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(C=n.onRecoverableError)),n=a0(e,1,!1,null,null,i,c,null,f,h,C,f0),e[kr]=n.current,Pm(e),new af(n)},Yi.hydrateRoot=function(e,n,i){if(!o(e))throw Error(a(299));var c=!1,f="",h=Nh,C=jh,E=wh,H=null;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(C=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.formState!==void 0&&(H=i.formState)),n=a0(e,1,!0,n,i??null,c,f,H,h,C,E,f0),n.context=n0(null),i=n.current,c=qa(),c=Qn(c),f=Lr(c),f.callback=null,Ir(i,f,c),i=c,n.current.lanes=i,Ka(n,i),Dn(n),e[kr]=n.current,Pm(e),new _c(n)},Yi.version="19.2.4",Yi}var S0;function tw(){if(S0)return sf.exports;S0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(l){console.error(l)}}return s(),sf.exports=ew(),sf.exports}var aw=tw();var C0="popstate";function nw(s={}){function l(a,o){let{pathname:u,search:d,hash:m}=a.location;return Of("",{pathname:u,search:d,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(a,o){return typeof o=="string"?o:ro(o)}return sw(l,r,null,s)}function Et(s,l){if(s===!1||s===null||typeof s>"u")throw new Error(l)}function gn(s,l){if(!s){typeof console<"u"&&console.warn(l);try{throw new Error(l)}catch{}}}function rw(){return Math.random().toString(36).substring(2,10)}function k0(s,l){return{usr:s.state,key:s.key,idx:l}}function Of(s,l,r=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof l=="string"?$l(l):l,state:r,key:l&&l.key||a||rw()}}function ro({pathname:s="/",search:l="",hash:r=""}){return l&&l!=="?"&&(s+=l.charAt(0)==="?"?l:"?"+l),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function $l(s){let l={};if(s){let r=s.indexOf("#");r>=0&&(l.hash=s.substring(r),s=s.substring(0,r));let a=s.indexOf("?");a>=0&&(l.search=s.substring(a),s=s.substring(0,a)),s&&(l.pathname=s)}return l}function sw(s,l,r,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,d=o.history,m="POP",x=null,p=v();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function v(){return(d.state||{idx:null}).idx}function b(){m="POP";let y=v(),j=y==null?null:y-p;p=y,x&&x({action:m,location:S.location,delta:j})}function g(y,j){m="PUSH";let D=Of(S.location,y,j);p=v()+1;let k=k0(D,p),_=S.createHref(D);try{d.pushState(k,"",_)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;o.location.assign(_)}u&&x&&x({action:m,location:S.location,delta:1})}function w(y,j){m="REPLACE";let D=Of(S.location,y,j);p=v();let k=k0(D,p),_=S.createHref(D);d.replaceState(k,"",_),u&&x&&x({action:m,location:S.location,delta:0})}function M(y){return lw(y)}let S={get action(){return m},get location(){return s(o,d)},listen(y){if(x)throw new Error("A history only accepts one active listener");return o.addEventListener(C0,b),x=y,()=>{o.removeEventListener(C0,b),x=null}},createHref(y){return l(o,y)},createURL:M,encodeLocation(y){let j=M(y);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:g,replace:w,go(y){return d.go(y)}};return S}function lw(s,l=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Et(r,"No window.location.(origin|href) available to create URL");let a=typeof s=="string"?s:ro(s);return a=a.replace(/ $/,"%20"),!l&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function bg(s,l,r="/"){return iw(s,l,r,!1)}function iw(s,l,r,a){let o=typeof l=="string"?$l(l):l,u=gr(o.pathname||"/",r);if(u==null)return null;let d=gg(s);ow(d);let m=null;for(let x=0;m==null&&x<d.length;++x){let p=gw(u);m=vw(d[x],p,a)}return m}function gg(s,l=[],r=[],a="",o=!1){let u=(d,m,x=o,p)=>{let v={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:m,route:d};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(a)&&x)return;Et(v.relativePath.startsWith(a),`Absolute route path "${v.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(a.length)}let b=hr([a,v.relativePath]),g=r.concat(v);d.children&&d.children.length>0&&(Et(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),gg(d.children,l,g,b,x)),!(d.path==null&&!d.index)&&l.push({path:b,score:xw(b,d.index),routesMeta:g})};return s.forEach((d,m)=>{if(d.path===""||!d.path?.includes("?"))u(d,m);else for(let x of yg(d.path))u(d,m,!0,x)}),l}function yg(s){let l=s.split("/");if(l.length===0)return[];let[r,...a]=l,o=r.endsWith("?"),u=r.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let d=yg(a.join("/")),m=[];return m.push(...d.map(x=>x===""?u:[u,x].join("/"))),o&&m.push(...d),m.map(x=>s.startsWith("/")&&x===""?"/":x)}function ow(s){s.sort((l,r)=>l.score!==r.score?r.score-l.score:hw(l.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var cw=/^:[\w-]+$/,uw=3,dw=2,mw=1,fw=10,pw=-2,D0=s=>s==="*";function xw(s,l){let r=s.split("/"),a=r.length;return r.some(D0)&&(a+=pw),l&&(a+=dw),r.filter(o=>!D0(o)).reduce((o,u)=>o+(cw.test(u)?uw:u===""?mw:fw),a)}function hw(s,l){return s.length===l.length&&s.slice(0,-1).every((a,o)=>a===l[o])?s[s.length-1]-l[l.length-1]:0}function vw(s,l,r=!1){let{routesMeta:a}=s,o={},u="/",d=[];for(let m=0;m<a.length;++m){let x=a[m],p=m===a.length-1,v=u==="/"?l:l.slice(u.length)||"/",b=fu({path:x.relativePath,caseSensitive:x.caseSensitive,end:p},v),g=x.route;if(!b&&p&&r&&!a[a.length-1].route.index&&(b=fu({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),d.push({params:o,pathname:hr([u,b.pathname]),pathnameBase:ww(hr([u,b.pathnameBase])),route:g}),b.pathnameBase!=="/"&&(u=hr([u,b.pathnameBase]))}return d}function fu(s,l){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[r,a]=bw(s.path,s.caseSensitive,s.end),o=l.match(r);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((p,{paramName:v,isOptional:b},g)=>{if(v==="*"){let M=m[g]||"";d=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const w=m[g];return b&&!w?p[v]=void 0:p[v]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:d,pattern:s}}function bw(s,l=!1,r=!0){gn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,x)=>(a.push({paramName:m,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(a.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,l?void 0:"i"),a]}function gw(s){try{return s.split("/").map(l=>decodeURIComponent(l).replace(/\//g,"%2F")).join("/")}catch(l){return gn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${l}).`),s}}function gr(s,l){if(l==="/")return s;if(!s.toLowerCase().startsWith(l.toLowerCase()))return null;let r=l.endsWith("/")?l.length-1:l.length,a=s.charAt(r);return a&&a!=="/"?null:s.slice(r)||"/"}var yw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Nw(s,l="/"){let{pathname:r,search:a="",hash:o=""}=typeof s=="string"?$l(s):s,u;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?u=M0(r.substring(1),"/"):u=M0(r,l)):u=l,{pathname:u,search:Sw(a),hash:Cw(o)}}function M0(s,l){let r=l.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function uf(s,l,r,a){return`Cannot include a '${s}' character in a manually specified \`to.${l}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jw(s){return s.filter((l,r)=>r===0||l.route.path&&l.route.path.length>0)}function Zf(s){let l=jw(s);return l.map((r,a)=>a===l.length-1?r.pathname:r.pathnameBase)}function Jf(s,l,r,a=!1){let o;typeof s=="string"?o=$l(s):(o={...s},Et(!o.pathname||!o.pathname.includes("?"),uf("?","pathname","search",o)),Et(!o.pathname||!o.pathname.includes("#"),uf("#","pathname","hash",o)),Et(!o.search||!o.search.includes("#"),uf("#","search","hash",o)));let u=s===""||o.pathname==="",d=u?"/":o.pathname,m;if(d==null)m=r;else{let b=l.length-1;if(!a&&d.startsWith("..")){let g=d.split("/");for(;g[0]==="..";)g.shift(),b-=1;o.pathname=g.join("/")}m=b>=0?l[b]:"/"}let x=Nw(o,m),p=d&&d!=="/"&&d.endsWith("/"),v=(u||d===".")&&r.endsWith("/");return!x.pathname.endsWith("/")&&(p||v)&&(x.pathname+="/"),x}var hr=s=>s.join("/").replace(/\/\/+/g,"/"),ww=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Sw=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Cw=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,kw=class{constructor(s,l,r,a=!1){this.status=s,this.statusText=l||"",this.internal=a,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Dw(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function Mw(s){return s.map(l=>l.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Ng=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function jg(s,l){let r=s;if(typeof r!="string"||!yw.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let a=r,o=!1;if(Ng)try{let u=new URL(window.location.href),d=r.startsWith("//")?new URL(u.protocol+r):new URL(r),m=gr(d.pathname,l);d.origin===u.origin&&m!=null?r=m+d.search+d.hash:o=!0}catch{gn(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:o,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var wg=["POST","PUT","PATCH","DELETE"];new Set(wg);var Aw=["GET",...wg];new Set(Aw);var Vl=N.createContext(null);Vl.displayName="DataRouter";var Ru=N.createContext(null);Ru.displayName="DataRouterState";var Ew=N.createContext(!1),Sg=N.createContext({isTransitioning:!1});Sg.displayName="ViewTransition";var Tw=N.createContext(new Map);Tw.displayName="Fetchers";var _w=N.createContext(null);_w.displayName="Await";var Qa=N.createContext(null);Qa.displayName="Navigation";var co=N.createContext(null);co.displayName="Location";var Nn=N.createContext({outlet:null,matches:[],isDataRoute:!1});Nn.displayName="Route";var ep=N.createContext(null);ep.displayName="RouteError";var Cg="REACT_ROUTER_ERROR",Ow="REDIRECT",Rw="ROUTE_ERROR_RESPONSE";function Lw(s){if(s.startsWith(`${Cg}:${Ow}:{`))try{let l=JSON.parse(s.slice(28));if(typeof l=="object"&&l&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.location=="string"&&typeof l.reloadDocument=="boolean"&&typeof l.replace=="boolean")return l}catch{}}function Iw(s){if(s.startsWith(`${Cg}:${Rw}:{`))try{let l=JSON.parse(s.slice(40));if(typeof l=="object"&&l&&typeof l.status=="number"&&typeof l.statusText=="string")return new kw(l.status,l.statusText,l.data)}catch{}}function Pw(s,{relative:l}={}){Et(Gl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=N.useContext(Qa),{hash:o,pathname:u,search:d}=uo(s,{relative:l}),m=u;return r!=="/"&&(m=u==="/"?r:hr([r,u])),a.createHref({pathname:m,search:d,hash:o})}function Gl(){return N.useContext(co)!=null}function un(){return Et(Gl(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(co).location}var kg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Dg(s){N.useContext(Qa).static||N.useLayoutEffect(s)}function Hs(){let{isDataRoute:s}=N.useContext(Nn);return s?Zw():zw()}function zw(){Et(Gl(),"useNavigate() may be used only in the context of a <Router> component.");let s=N.useContext(Vl),{basename:l,navigator:r}=N.useContext(Qa),{matches:a}=N.useContext(Nn),{pathname:o}=un(),u=JSON.stringify(Zf(a)),d=N.useRef(!1);return Dg(()=>{d.current=!0}),N.useCallback((x,p={})=>{if(gn(d.current,kg),!d.current)return;if(typeof x=="number"){r.go(x);return}let v=Jf(x,JSON.parse(u),o,p.relative==="path");s==null&&l!=="/"&&(v.pathname=v.pathname==="/"?l:hr([l,v.pathname])),(p.replace?r.replace:r.push)(v,p.state,p)},[l,r,u,o,s])}var Fw=N.createContext(null);function Bw(s){let l=N.useContext(Nn).outlet;return N.useMemo(()=>l&&N.createElement(Fw.Provider,{value:s},l),[l,s])}function uo(s,{relative:l}={}){let{matches:r}=N.useContext(Nn),{pathname:a}=un(),o=JSON.stringify(Zf(r));return N.useMemo(()=>Jf(s,JSON.parse(o),a,l==="path"),[s,o,a,l])}function Hw(s,l){return Mg(s,l)}function Mg(s,l,r,a,o){Et(Gl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=N.useContext(Qa),{matches:d}=N.useContext(Nn),m=d[d.length-1],x=m?m.params:{},p=m?m.pathname:"/",v=m?m.pathnameBase:"/",b=m&&m.route;{let D=b&&b.path||"";Eg(p,!b||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let g=un(),w;if(l){let D=typeof l=="string"?$l(l):l;Et(v==="/"||D.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${D.pathname}" was given in the \`location\` prop.`),w=D}else w=g;let M=w.pathname||"/",S=M;if(v!=="/"){let D=v.replace(/^\//,"").split("/");S="/"+M.replace(/^\//,"").split("/").slice(D.length).join("/")}let y=bg(s,{pathname:S});gn(b||y!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),gn(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=Vw(y&&y.map(D=>Object.assign({},D,{params:Object.assign({},x,D.params),pathname:hr([v,u.encodeLocation?u.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?v:hr([v,u.encodeLocation?u.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),d,r,a,o);return l&&j?N.createElement(co.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},j):j}function Yw(){let s=Ww(),l=Dw(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),r=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:u},"ErrorBoundary")," or"," ",N.createElement("code",{style:u},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},l),r?N.createElement("pre",{style:o},r):null,d)}var qw=N.createElement(Yw,null),Ag=class extends N.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,l){return l.location!==s.location||l.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:l.error,location:l.location,revalidation:s.revalidation||l.revalidation}}componentDidCatch(s,l){this.props.onError?this.props.onError(s,l):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const r=Iw(s.digest);r&&(s=r)}let l=s!==void 0?N.createElement(Nn.Provider,{value:this.props.routeContext},N.createElement(ep.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?N.createElement(Uw,{error:s},l):l}};Ag.contextType=Ew;var df=new WeakMap;function Uw({children:s,error:l}){let{basename:r}=N.useContext(Qa);if(typeof l=="object"&&l&&"digest"in l&&typeof l.digest=="string"){let a=Lw(l.digest);if(a){let o=df.get(l);if(o)throw o;let u=jg(a.location,r);if(Ng&&!df.get(l))if(u.isExternal||a.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:a.replace}));throw df.set(l,d),d}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return s}function $w({routeContext:s,match:l,children:r}){let a=N.useContext(Vl);return a&&a.static&&a.staticContext&&(l.route.errorElement||l.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=l.route.id),N.createElement(Nn.Provider,{value:s},r)}function Vw(s,l=[],r=null,a=null,o=null){if(s==null){if(!r)return null;if(r.errors)s=r.matches;else if(l.length===0&&!r.initialized&&r.matches.length>0)s=r.matches;else return null}let u=s,d=r?.errors;if(d!=null){let v=u.findIndex(b=>b.route.id&&d?.[b.route.id]!==void 0);Et(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let m=!1,x=-1;if(r)for(let v=0;v<u.length;v++){let b=u[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(x=v),b.route.id){let{loaderData:g,errors:w}=r,M=b.route.loader&&!g.hasOwnProperty(b.route.id)&&(!w||w[b.route.id]===void 0);if(b.route.lazy||M){m=!0,x>=0?u=u.slice(0,x+1):u=[u[0]];break}}}let p=r&&a?(v,b)=>{a(v,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:Mw(r.matches),errorInfo:b})}:void 0;return u.reduceRight((v,b,g)=>{let w,M=!1,S=null,y=null;r&&(w=d&&b.route.id?d[b.route.id]:void 0,S=b.route.errorElement||qw,m&&(x<0&&g===0?(Eg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,y=null):x===g&&(M=!0,y=b.route.hydrateFallbackElement||null)));let j=l.concat(u.slice(0,g+1)),D=()=>{let k;return w?k=S:M?k=y:b.route.Component?k=N.createElement(b.route.Component,null):b.route.element?k=b.route.element:k=v,N.createElement($w,{match:b,routeContext:{outlet:v,matches:j,isDataRoute:r!=null},children:k})};return r&&(b.route.ErrorBoundary||b.route.errorElement||g===0)?N.createElement(Ag,{location:r.location,revalidation:r.revalidation,component:S,error:w,children:D(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:p}):D()},null)}function tp(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gw(s){let l=N.useContext(Vl);return Et(l,tp(s)),l}function Qw(s){let l=N.useContext(Ru);return Et(l,tp(s)),l}function Kw(s){let l=N.useContext(Nn);return Et(l,tp(s)),l}function ap(s){let l=Kw(s),r=l.matches[l.matches.length-1];return Et(r.route.id,`${s} can only be used on routes that contain a unique "id"`),r.route.id}function Xw(){return ap("useRouteId")}function Ww(){let s=N.useContext(ep),l=Qw("useRouteError"),r=ap("useRouteError");return s!==void 0?s:l.errors?.[r]}function Zw(){let{router:s}=Gw("useNavigate"),l=ap("useNavigate"),r=N.useRef(!1);return Dg(()=>{r.current=!0}),N.useCallback(async(o,u={})=>{gn(r.current,kg),r.current&&(typeof o=="number"?await s.navigate(o):await s.navigate(o,{fromRouteId:l,...u}))},[s,l])}var A0={};function Eg(s,l,r){!l&&!A0[s]&&(A0[s]=!0,gn(!1,r))}N.memo(Jw);function Jw({routes:s,future:l,state:r,onError:a}){return Mg(s,void 0,r,a,l)}function pu({to:s,replace:l,state:r,relative:a}){Et(Gl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=N.useContext(Qa);gn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=N.useContext(Nn),{pathname:d}=un(),m=Hs(),x=Jf(s,Zf(u),d,a==="path"),p=JSON.stringify(x);return N.useEffect(()=>{m(JSON.parse(p),{replace:l,state:r,relative:a})},[m,p,a,l,r]),null}function Tg(s){return Bw(s.context)}function At(s){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function e2({basename:s="/",children:l=null,location:r,navigationType:a="POP",navigator:o,static:u=!1,unstable_useTransitions:d}){Et(!Gl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=s.replace(/^\/*/,"/"),x=N.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:d,future:{}}),[m,o,u,d]);typeof r=="string"&&(r=$l(r));let{pathname:p="/",search:v="",hash:b="",state:g=null,key:w="default"}=r,M=N.useMemo(()=>{let S=gr(p,m);return S==null?null:{location:{pathname:S,search:v,hash:b,state:g,key:w},navigationType:a}},[m,p,v,b,g,w,a]);return gn(M!=null,`<Router basename="${m}"> is not able to match the URL "${p}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:N.createElement(Qa.Provider,{value:x},N.createElement(co.Provider,{children:l,value:M}))}function t2({children:s,location:l}){return Hw(Rf(s),l)}function Rf(s,l=[]){let r=[];return N.Children.forEach(s,(a,o)=>{if(!N.isValidElement(a))return;let u=[...l,o];if(a.type===N.Fragment){r.push.apply(r,Rf(a.props.children,u));return}Et(a.type===At,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=Rf(a.props.children,u)),r.push(d)}),r}var nu="get",ru="application/x-www-form-urlencoded";function Lu(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function a2(s){return Lu(s)&&s.tagName.toLowerCase()==="button"}function n2(s){return Lu(s)&&s.tagName.toLowerCase()==="form"}function r2(s){return Lu(s)&&s.tagName.toLowerCase()==="input"}function s2(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function l2(s,l){return s.button===0&&(!l||l==="_self")&&!s2(s)}var Rc=null;function i2(){if(Rc===null)try{new FormData(document.createElement("form"),0),Rc=!1}catch{Rc=!0}return Rc}var o2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mf(s){return s!=null&&!o2.has(s)?(gn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ru}"`),null):s}function c2(s,l){let r,a,o,u,d;if(n2(s)){let m=s.getAttribute("action");a=m?gr(m,l):null,r=s.getAttribute("method")||nu,o=mf(s.getAttribute("enctype"))||ru,u=new FormData(s)}else if(a2(s)||r2(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=s.getAttribute("formaction")||m.getAttribute("action");if(a=x?gr(x,l):null,r=s.getAttribute("formmethod")||m.getAttribute("method")||nu,o=mf(s.getAttribute("formenctype"))||mf(m.getAttribute("enctype"))||ru,u=new FormData(m,s),!i2()){let{name:p,type:v,value:b}=s;if(v==="image"){let g=p?`${p}.`:"";u.append(`${g}x`,"0"),u.append(`${g}y`,"0")}else p&&u.append(p,b)}}else{if(Lu(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=nu,a=null,o=ru,d=s}return u&&o==="text/plain"&&(d=u,u=void 0),{action:a,method:r.toLowerCase(),encType:o,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function np(s,l){if(s===!1||s===null||typeof s>"u")throw new Error(l)}function u2(s,l,r,a){let o=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${a}`:o.pathname=`${o.pathname}.${a}`:o.pathname==="/"?o.pathname=`_root.${a}`:l&&gr(o.pathname,l)==="/"?o.pathname=`${l.replace(/\/$/,"")}/_root.${a}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${a}`,o}async function d2(s,l){if(s.id in l)return l[s.id];try{let r=await import(s.module);return l[s.id]=r,r}catch(r){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function m2(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function f2(s,l,r){let a=await Promise.all(s.map(async o=>{let u=l.routes[o.route.id];if(u){let d=await d2(u,r);return d.links?d.links():[]}return[]}));return v2(a.flat(1).filter(m2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function E0(s,l,r,a,o,u){let d=(x,p)=>r[p]?x.route.id!==r[p].route.id:!0,m=(x,p)=>r[p].pathname!==x.pathname||r[p].route.path?.endsWith("*")&&r[p].params["*"]!==x.params["*"];return u==="assets"?l.filter((x,p)=>d(x,p)||m(x,p)):u==="data"?l.filter((x,p)=>{let v=a.routes[x.route.id];if(!v||!v.hasLoader)return!1;if(d(x,p)||m(x,p))return!0;if(x.route.shouldRevalidate){let b=x.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function p2(s,l,{includeHydrateFallback:r}={}){return x2(s.map(a=>{let o=l.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function x2(s){return[...new Set(s)]}function h2(s){let l={},r=Object.keys(s).sort();for(let a of r)l[a]=s[a];return l}function v2(s,l){let r=new Set;return new Set(l),s.reduce((a,o)=>{let u=JSON.stringify(h2(o));return r.has(u)||(r.add(u),a.push({key:u,link:o})),a},[])}function _g(){let s=N.useContext(Vl);return np(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function b2(){let s=N.useContext(Ru);return np(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var rp=N.createContext(void 0);rp.displayName="FrameworkContext";function Og(){let s=N.useContext(rp);return np(s,"You must render this element inside a <HydratedRouter> element"),s}function g2(s,l){let r=N.useContext(rp),[a,o]=N.useState(!1),[u,d]=N.useState(!1),{onFocus:m,onBlur:x,onMouseEnter:p,onMouseLeave:v,onTouchStart:b}=l,g=N.useRef(null);N.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let S=j=>{j.forEach(D=>{d(D.isIntersecting)})},y=new IntersectionObserver(S,{threshold:.5});return g.current&&y.observe(g.current),()=>{y.disconnect()}}},[s]),N.useEffect(()=>{if(a){let S=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(S)}}},[a]);let w=()=>{o(!0)},M=()=>{o(!1),d(!1)};return r?s!=="intent"?[u,g,{}]:[u,g,{onFocus:qi(m,w),onBlur:qi(x,M),onMouseEnter:qi(p,w),onMouseLeave:qi(v,M),onTouchStart:qi(b,w)}]:[!1,g,{}]}function qi(s,l){return r=>{s&&s(r),r.defaultPrevented||l(r)}}function y2({page:s,...l}){let{router:r}=_g(),a=N.useMemo(()=>bg(r.routes,s,r.basename),[r.routes,s,r.basename]);return a?N.createElement(j2,{page:s,matches:a,...l}):null}function N2(s){let{manifest:l,routeModules:r}=Og(),[a,o]=N.useState([]);return N.useEffect(()=>{let u=!1;return f2(s,l,r).then(d=>{u||o(d)}),()=>{u=!0}},[s,l,r]),a}function j2({page:s,matches:l,...r}){let a=un(),{future:o,manifest:u,routeModules:d}=Og(),{basename:m}=_g(),{loaderData:x,matches:p}=b2(),v=N.useMemo(()=>E0(s,l,p,u,a,"data"),[s,l,p,u,a]),b=N.useMemo(()=>E0(s,l,p,u,a,"assets"),[s,l,p,u,a]),g=N.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let S=new Set,y=!1;if(l.forEach(D=>{let k=u.routes[D.route.id];!k||!k.hasLoader||(!v.some(_=>_.route.id===D.route.id)&&D.route.id in x&&d[D.route.id]?.shouldRevalidate||k.hasClientLoader?y=!0:S.add(D.route.id))}),S.size===0)return[];let j=u2(s,m,o.unstable_trailingSlashAwareDataRequests,"data");return y&&S.size>0&&j.searchParams.set("_routes",l.filter(D=>S.has(D.route.id)).map(D=>D.route.id).join(",")),[j.pathname+j.search]},[m,o.unstable_trailingSlashAwareDataRequests,x,a,u,v,l,s,d]),w=N.useMemo(()=>p2(b,u),[b,u]),M=N2(b);return N.createElement(N.Fragment,null,g.map(S=>N.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),w.map(S=>N.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),M.map(({key:S,link:y})=>N.createElement("link",{key:S,nonce:r.nonce,...y,crossOrigin:y.crossOrigin??r.crossOrigin})))}function w2(...s){return l=>{s.forEach(r=>{typeof r=="function"?r(l):r!=null&&(r.current=l)})}}var S2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{S2&&(window.__reactRouterVersion="7.13.0")}catch{}function C2({basename:s,children:l,unstable_useTransitions:r,window:a}){let o=N.useRef();o.current==null&&(o.current=nw({window:a,v5Compat:!0}));let u=o.current,[d,m]=N.useState({action:u.action,location:u.location}),x=N.useCallback(p=>{r===!1?m(p):N.startTransition(()=>m(p))},[r]);return N.useLayoutEffect(()=>u.listen(x),[u,x]),N.createElement(e2,{basename:s,children:l,location:d.location,navigationType:d.action,navigator:u,unstable_useTransitions:r})}var Rg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,El=N.forwardRef(function({onClick:l,discover:r="render",prefetch:a="none",relative:o,reloadDocument:u,replace:d,state:m,target:x,to:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:g,...w},M){let{basename:S,unstable_useTransitions:y}=N.useContext(Qa),j=typeof p=="string"&&Rg.test(p),D=jg(p,S);p=D.to;let k=Pw(p,{relative:o}),[_,O,q]=g2(a,w),P=M2(p,{replace:d,state:m,target:x,preventScrollReset:v,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:g,unstable_useTransitions:y});function T(I){l&&l(I),I.defaultPrevented||P(I)}let F=N.createElement("a",{...w,...q,href:D.absoluteURL||k,onClick:D.isExternal||u?l:T,ref:w2(M,O),target:x,"data-discover":!j&&r==="render"?"true":void 0});return _&&!j?N.createElement(N.Fragment,null,F,N.createElement(y2,{page:k})):F});El.displayName="Link";var sp=N.forwardRef(function({"aria-current":l="page",caseSensitive:r=!1,className:a="",end:o=!1,style:u,to:d,viewTransition:m,children:x,...p},v){let b=uo(d,{relative:p.relative}),g=un(),w=N.useContext(Ru),{navigator:M,basename:S}=N.useContext(Qa),y=w!=null&&O2(b)&&m===!0,j=M.encodeLocation?M.encodeLocation(b).pathname:b.pathname,D=g.pathname,k=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;r||(D=D.toLowerCase(),k=k?k.toLowerCase():null,j=j.toLowerCase()),k&&S&&(k=gr(k,S)||k);const _=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let O=D===j||!o&&D.startsWith(j)&&D.charAt(_)==="/",q=k!=null&&(k===j||!o&&k.startsWith(j)&&k.charAt(j.length)==="/"),P={isActive:O,isPending:q,isTransitioning:y},T=O?l:void 0,F;typeof a=="function"?F=a(P):F=[a,O?"active":null,q?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(P):u;return N.createElement(El,{...p,"aria-current":T,className:F,ref:v,style:I,to:d,viewTransition:m},typeof x=="function"?x(P):x)});sp.displayName="NavLink";var k2=N.forwardRef(({discover:s="render",fetcherKey:l,navigate:r,reloadDocument:a,replace:o,state:u,method:d=nu,action:m,onSubmit:x,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:g,...w},M)=>{let{unstable_useTransitions:S}=N.useContext(Qa),y=T2(),j=_2(m,{relative:p}),D=d.toLowerCase()==="get"?"get":"post",k=typeof m=="string"&&Rg.test(m),_=O=>{if(x&&x(O),O.defaultPrevented)return;O.preventDefault();let q=O.nativeEvent.submitter,P=q?.getAttribute("formmethod")||d,T=()=>y(q||O.currentTarget,{fetcherKey:l,method:P,navigate:r,replace:o,state:u,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:g});S&&r!==!1?N.startTransition(()=>T()):T()};return N.createElement("form",{ref:M,method:D,action:j,onSubmit:a?x:_,...w,"data-discover":!k&&s==="render"?"true":void 0})});k2.displayName="Form";function D2(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lg(s){let l=N.useContext(Vl);return Et(l,D2(s)),l}function M2(s,{target:l,replace:r,state:a,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:m,unstable_useTransitions:x}={}){let p=Hs(),v=un(),b=uo(s,{relative:u});return N.useCallback(g=>{if(l2(g,l)){g.preventDefault();let w=r!==void 0?r:ro(v)===ro(b),M=()=>p(s,{replace:w,state:a,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:m});x?N.startTransition(()=>M()):M()}},[v,p,b,r,a,l,s,o,u,d,m,x])}var A2=0,E2=()=>`__${String(++A2)}__`;function T2(){let{router:s}=Lg("useSubmit"),{basename:l}=N.useContext(Qa),r=Xw(),a=s.fetch,o=s.navigate;return N.useCallback(async(u,d={})=>{let{action:m,method:x,encType:p,formData:v,body:b}=c2(u,l);if(d.navigate===!1){let g=d.fetcherKey||E2();await a(g,r,d.action||m,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:v,body:b,formMethod:d.method||x,formEncType:d.encType||p,flushSync:d.flushSync})}else await o(d.action||m,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:v,body:b,formMethod:d.method||x,formEncType:d.encType||p,replace:d.replace,state:d.state,fromRouteId:r,flushSync:d.flushSync,viewTransition:d.viewTransition})},[a,o,l,r])}function _2(s,{relative:l}={}){let{basename:r}=N.useContext(Qa),a=N.useContext(Nn);Et(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...uo(s||".",{relative:l})},d=un();if(s==null){u.search=d.search;let m=new URLSearchParams(u.search),x=m.getAll("index");if(x.some(v=>v==="")){m.delete("index"),x.filter(b=>b).forEach(b=>m.append("index",b));let v=m.toString();u.search=v?`?${v}`:""}}return(!s||s===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:hr([r,u.pathname])),ro(u)}function O2(s,{relative:l}={}){let r=N.useContext(Sg);Et(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Lg("useViewTransitionState"),o=uo(s,{relative:l});if(!r.isTransitioning)return!1;let u=gr(r.currentLocation.pathname,a)||r.currentLocation.pathname,d=gr(r.nextLocation.pathname,a)||r.nextLocation.pathname;return fu(o.pathname,d)!=null||fu(o.pathname,u)!=null}var lp=vg();const R2=xg(lp),L2="AKfycbxCJgsQCL4Z1lyWeXMyCDMA_gl5X2dgc07K7r2AEHW-g2eZ9BwpACiwWPnHmidooA48",ip="cf_access_token",op="cf_token_expiry",cp="cf_user_name";function xu(){const s=localStorage.getItem(op);return s&&Date.now()>Number(s)?(su(),null):localStorage.getItem(ip)}function T0(s,l=3500){localStorage.setItem(ip,s),localStorage.setItem(op,String(Date.now()+l*1e3))}function su(){localStorage.removeItem(ip),localStorage.removeItem(op),localStorage.removeItem(cp)}function _0(){return!!xu()}function O0(s){localStorage.setItem(cp,s)}function I2(){return localStorage.getItem(cp)||""}let Lf=null;function P2(s){Lf=s}async function Se(s,l={},r=!0){const a=xu();if(!a)throw new Error("Not authenticated. Please sign in.");const m=await(await fetch(`https://script.googleapis.com/v1/scripts/${L2}:run`,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({function:"apiRouter",devMode:!1,parameters:[{action:s,params:l,userName:I2()}]})})).json();if(m.error){if(r&&(m.error.code===401||m.error.code===403||m.error.status==="UNAUTHENTICATED"||m.error.status==="PERMISSION_DENIED")&&Lf)try{return await Lf(),Se(s,l,!1)}catch{}if(m.error.details&&m.error.details.length>0){const x=m.error.details[0];throw new Error(x.errorMessage||"Script execution error")}throw new Error(m.error.message||"API error")}if(m.response&&m.response.result!==void 0){const x=m.response.result;if(x&&!x.success){const v=new Error(x.error||"Unknown error");throw v.code=x.code,v}const p=x?x.data:null;if(p&&p.success===!1)throw new Error(p.message||"Operation failed");return p}throw new Error("Unexpected response format")}const R0=()=>Se("auth:me"),z2=(s,l)=>Se("auth:invite",{email:s,name:l}),hu=()=>Se("data:load-all"),Ig=()=>Se("members:list"),Pg=s=>Se("member:create",s),zg=s=>Se("member:update",s),Fg=s=>Se("member:delete",{memberId:s}),Bg=()=>Se("banks:list"),Hg=s=>Se("bank:create",s),F2=s=>Se("bank:update",s),Yg=s=>Se("bank:delete",{accountId:s}),qg=()=>Se("invaccounts:list"),Ug=s=>Se("invacct:create",s),B2=s=>Se("invacct:update",s),$g=s=>Se("invacct:delete",{accountId:s}),H2=()=>Se("portfolios:list"),Y2=s=>Se("portfolio:create",s),q2=s=>Se("portfolio:update",s),U2=s=>Se("portfolio:delete",{portfolioId:s}),$2=s=>Se("mf:invest",s),V2=s=>Se("mf:redeem",s),G2=s=>Se("mf:switch",s),Q2=(s,l)=>Se("mf:allocations-update",{portfolioId:s,allocations:l}),K2=()=>Se("funds:all"),X2=s=>Se("asset-allocation:save",s),Vg=()=>Se("goals:list"),Gg=s=>Se("goal:create",s),W2=(s,l)=>Se("goal:update",{goalId:s,...l}),Qg=s=>Se("goal:delete",{goalId:s}),Z2=()=>Se("goal:mappings-list"),J2=(s,l)=>Se("goal:mappings-update",{goalId:s,mappings:l}),Kg=()=>Se("insurance:list"),Xg=s=>Se("insurance:create",s),eS=s=>Se("insurance:update",s),Wg=s=>Se("insurance:delete",{policyId:s}),Zg=()=>Se("liabilities:list"),Jg=s=>Se("liability:create",s),tS=s=>Se("liability:update",s),ey=s=>Se("liability:delete",{liabilityId:s}),ty=()=>Se("otherinv:list"),ay=s=>Se("otherinv:create",s),aS=s=>Se("otherinv:update",s),ny=s=>Se("otherinv:delete",{investmentId:s}),ry=()=>Se("stock-portfolios:list"),sy=s=>Se("stock-portfolio:create",s),nS=s=>Se("stock-portfolio:update",s),ly=s=>Se("stock-portfolio:delete",{portfolioId:s}),rS=s=>Se("stock:buy",s),sS=s=>Se("stock:sell",s),lS=s=>Se("mf-transaction:delete",{transactionId:s}),iS=s=>Se("mf-transaction:edit",s),oS=()=>Se("mf-holdings:list"),cS=()=>Se("mf-transactions:list"),uS=()=>Se("stock-holdings:list-all"),dS=()=>Se("stock-transactions:list-all"),iy=()=>Se("reminders:list"),oy=s=>Se("reminder:create",s),mS=s=>Se("reminder:update",s),cy=s=>Se("reminder:delete",{reminderId:s}),fS=s=>Se("healthcheck:save",s),uy=()=>Se("healthcheck:get"),pS=()=>Se("settings:list"),xS=s=>Se("settings:update",s),hS=()=>Se("market:data"),vS=()=>Se("data:refresh-master");typeof window<"u"&&(window._cf={callAPI:Se,checkTriggers:()=>Se("test:triggers"),diagnose:()=>Se("test:diagnose")});const bS="capital-friends",gS=1,La="cache";let Ui=null;function Ql(){return Ui||(Ui=new Promise((s,l)=>{const r=indexedDB.open(bS,gS);r.onupgradeneeded=a=>{const o=a.target.result;o.objectStoreNames.contains(La)||o.createObjectStore(La,{keyPath:"key"})},r.onsuccess=()=>s(r.result),r.onerror=()=>{console.warn("[idb] Failed to open database:",r.error),Ui=null,l(r.error)}}),Ui)}async function dy(s){try{const l=await Ql();return new Promise(r=>{const o=l.transaction(La,"readonly").objectStore(La).get(s);o.onsuccess=()=>r(o.result?o.result.data:null),o.onerror=()=>r(null)})}catch{return null}}async function yS(s){try{const l=await Ql();return new Promise(r=>{const o=l.transaction(La,"readonly").objectStore(La).get(s);o.onsuccess=()=>r(o.result||null),o.onerror=()=>r(null)})}catch{return null}}async function Ta(s,l){try{const r=await Ql();return new Promise(a=>{const o=r.transaction(La,"readwrite");o.objectStore(La).put({key:s,data:l,updatedAt:Date.now()}),o.oncomplete=()=>a(),o.onerror=()=>a()})}catch{}}async function NS(){try{const s=await Ql();return new Promise(l=>{const a=s.transaction(La,"readonly").objectStore(La).getAll();a.onsuccess=()=>{const o={};for(const u of a.result||[])o[u.key]=u.data;l(o)},a.onerror=()=>l({})})}catch{return{}}}async function ff(s){try{const l=await Ql();return new Promise(r=>{const a=l.transaction(La,"readwrite"),o=a.objectStore(La),u=Date.now();for(const[d,m]of Object.entries(s))o.put({key:d,data:m,updatedAt:u});a.oncomplete=()=>r(),a.onerror=()=>r()})}catch{}}async function jS(){try{const s=await Ql();return new Promise(l=>{const r=s.transaction(La,"readwrite");r.objectStore(La).clear(),r.oncomplete=()=>l(),r.onerror=()=>l()})}catch{}}const my=N.createContext(null),wS="868467315292-7hfrvkh8pq8f1e2l3v38m6qrupboa295.apps.googleusercontent.com",SS=["https://www.googleapis.com/auth/spreadsheets","https://www.googleapis.com/auth/drive","https://www.googleapis.com/auth/gmail.send","https://www.googleapis.com/auth/script.scriptapp","openid","email","profile"].join(" "),up="cf_user_profile";function L0(){try{const s=localStorage.getItem(up);return s?JSON.parse(s):null}catch{return null}}function CS(s){try{localStorage.setItem(up,JSON.stringify(s))}catch{}}function I0(){localStorage.removeItem(up)}function kS({children:s}){const l=_0()?L0():null,[r,a]=N.useState(l),[o,u]=N.useState(!l),[d,m]=N.useState(null),x=N.useRef(null);function p(j){a(j),j?CS(j):I0()}N.useEffect(()=>{const j=()=>{if(!window.google?.accounts?.oauth2){setTimeout(j,200);return}x.current=window.google.accounts.oauth2.initTokenClient({client_id:wS,scope:SS,callback:v}),P2(w),_0()?g():u(!1)};j()},[]);async function v(j){if(j.error){m(j.error_description||j.error),u(!1);return}try{u(!0),m(null),T0(j.access_token,j.expires_in);const D=await b(j.access_token);O0(D.name||"");const k=await R0();p({email:k.email||D.email,name:k.name||D.name,role:k.role,picture:D.picture||""})}catch(D){m(D.message),su(),p(null)}finally{u(!1)}}async function b(j){const D=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${j}`}});if(!D.ok)throw new Error("Failed to fetch user profile");return D.json()}async function g(){const j=!!L0();try{const D=xu(),k=await b(D);O0(k.name||"");const _=await R0();p({email:_.email||k.email,name:_.name||k.name,role:_.role,picture:k.picture||""})}catch{su(),p(null)}finally{j||u(!1)}}function w(){return new Promise((j,D)=>{if(!x.current){D(new Error("Token client not initialized"));return}const k=x.current,_=k.callback;k.callback=O=>{k.callback=_,O.error?D(new Error(O.error)):(T0(O.access_token,O.expires_in),j())},k.requestAccessToken({prompt:""})})}const M=N.useCallback(()=>{x.current&&(m(null),x.current.requestAccessToken())},[]),S=N.useCallback(()=>{const j=xu();j&&window.google?.accounts?.oauth2&&window.google.accounts.oauth2.revoke(j),su(),I0(),jS(),sessionStorage.removeItem("cf_health_check"),a(null)},[]),y={user:r,loading:o,error:d,isAuthenticated:!!r,isOwner:r?.role==="owner",signIn:M,signOut:S};return t.jsx(my.Provider,{value:y,children:s})}function Ys(){const s=N.useContext(my);if(!s)throw new Error("useAuth must be used within AuthProvider");return s}const fy=N.createContext();function DS({children:s}){const[l,r]=N.useState(()=>{const o=localStorage.getItem("cf-theme");return o||(window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark")});N.useEffect(()=>{localStorage.setItem("cf-theme",l),document.documentElement.setAttribute("data-theme",l)},[l]);const a=()=>r(o=>o==="dark"?"light":"dark");return t.jsx(fy.Provider,{value:{theme:l,toggle:a},children:s})}function py(){return N.useContext(fy)}const xy=N.createContext(),hy="cf_hc_done";function MS(){try{return sessionStorage.getItem(hy)==="1"?!0:null}catch{return null}}function wl(s){try{sessionStorage.setItem(hy,s?"1":"0")}catch{}}function AS({children:s}){const{isAuthenticated:l}=Ys(),r=l?MS():null,[a,o]=N.useState(!0),[u,d]=N.useState(!1),[m,x]=N.useState(null),[p,v]=N.useState(null),[b,g]=N.useState(null),[w,M]=N.useState(null),[S,y]=N.useState(null),[j,D]=N.useState(null),[k,_]=N.useState(null),[O,q]=N.useState(null),[P,T]=N.useState(null),[F,I]=N.useState(null),[$,A]=N.useState(null),[se,ce]=N.useState(null),[le,B]=N.useState(null),[W,L]=N.useState(null),[re,he]=N.useState(null),[z,ee]=N.useState(null),[fe,xe]=N.useState(null),[Ae,Te]=N.useState(null),[we,ke]=N.useState(r!==null?r:null),Pe=N.useRef(!1),jt=N.useCallback(Y=>{Y&&("members"in Y&&v(Y.members||[]),"bankAccounts"in Y&&g(Y.bankAccounts||[]),"investments"in Y&&M(Y.investments||[]),"insurancePolicies"in Y&&y(Y.insurancePolicies||[]),"liabilities"in Y&&D(Y.liabilities||[]),"otherInvestments"in Y&&_(Y.otherInvestments||[]),"stockPortfolios"in Y&&q(Y.stockPortfolios||[]),"stockHoldings"in Y&&T(Y.stockHoldings||[]),"stockTransactions"in Y&&I(Y.stockTransactions||[]),"mfPortfolios"in Y&&A(Y.mfPortfolios||[]),"mfHoldings"in Y&&ce((Y.mfHoldings||[]).map(pe=>pe.schemeCode?pe:{...pe,schemeCode:pe.fundCode})),"mfTransactions"in Y&&B(Y.mfTransactions||[]),"goals"in Y&&L(Y.goals||[]),"reminders"in Y&&he(Y.reminders||[]),"goalPortfolioMappings"in Y&&ee(Y.goalPortfolioMappings||[]),"assetAllocations"in Y&&xe(Y.assetAllocations||[]),"settings"in Y&&Te(Y.settings||{}))},[]),Yt=N.useCallback(Y=>{ff({members:Y.members||[],bankAccounts:Y.bankAccounts||[],investments:Y.investments||[],insurancePolicies:Y.insurancePolicies||[],liabilities:Y.liabilities||[],otherInvestments:Y.otherInvestments||[],stockPortfolios:Y.stockPortfolios||[],stockHoldings:Y.stockHoldings||[],stockTransactions:Y.stockTransactions||[],mfPortfolios:Y.mfPortfolios||[],mfHoldings:Y.mfHoldings||[],mfTransactions:Y.mfTransactions||[],goals:Y.goals||[],reminders:Y.reminders||[],goalPortfolioMappings:Y.goalPortfolioMappings||[],assetAllocations:Y.assetAllocations||[]})},[]),ha=N.useCallback(async(Y=!1)=>{try{Y?d(!0):o(!0),x(null);const pe=await hu();jt(pe),Yt(pe)}catch(pe){x(pe.message)}finally{o(!1),d(!1)}},[jt,Yt]),wt=N.useCallback(async()=>{const Y=await Ig();v(Y||[]),Ta("members",Y||[])},[]),ge=N.useCallback(async()=>{const Y=await Bg();g(Y||[]),Ta("bankAccounts",Y||[])},[]),He=N.useCallback(async()=>{const Y=await qg();M(Y||[]),Ta("investments",Y||[])},[]),rt=N.useCallback(async()=>{const Y=await Kg();y(Y||[]),Ta("insurancePolicies",Y||[])},[]),Tt=N.useCallback(async()=>{const Y=await Zg();D(Y||[]),Ta("liabilities",Y||[])},[]),ht=N.useCallback(async()=>{const Y=await ty();_(Y||[]),Ta("otherInvestments",Y||[])},[]),aa=N.useCallback(async()=>{const[Y,pe]=await Promise.all([Vg(),Z2()]);L(Y||[]),ee(pe||[]),Ta("goals",Y||[]),Ta("goalPortfolioMappings",pe||[])},[]),Jt=N.useCallback(async()=>{const Y=await iy();he(Y||[]),Ta("reminders",Y||[])},[]),dt=N.useCallback(async()=>{const[Y,pe,st]=await Promise.all([H2(),oS(),cS()]),ja=(pe||[]).map(wn=>wn.schemeCode?wn:{...wn,schemeCode:wn.fundCode});A(Y||[]),ce(ja),B(st||[]),ff({mfPortfolios:Y||[],mfHoldings:ja,mfTransactions:st||[]})},[]),ea=N.useCallback(async()=>{const[Y,pe,st]=await Promise.all([ry(),uS(),dS()]);q(Y||[]),T(pe||[]),I(st||[]),ff({stockPortfolios:Y||[],stockHoldings:pe||[],stockTransactions:st||[]})},[]),Na=N.useCallback(async()=>{const Y=await pS();Te(Y||{}),Ta("settings",Y||{})},[]),Rt=N.useCallback(async Y=>{await xS(Y),await Na()},[Na]),Ia=N.useCallback(async()=>{try{const Y=await dy("healthCheckAnswers");if(Y&&Object.keys(Y).length>0){ke(!0),wl(!0);return}const pe=await uy();pe&&Object.keys(pe).length>0?(ke(!0),wl(!0),Ta("healthCheckAnswers",pe)):(ke(!1),wl(!1))}catch{ke(!1),wl(!1)}},[]),Ie=N.useCallback(async Y=>{const pe=await fS(Y);return pe?.success&&(ke(!0),wl(!0),Ta("healthCheckAnswers",Y)),pe},[]);N.useEffect(()=>{if(!l){o(!1);return}if(Pe.current)return;Pe.current=!0;async function Y(){const pe=await NS(),st=Object.keys(pe).length>0;st&&(jt(pe),pe.healthCheckAnswers&&Object.keys(pe.healthCheckAnswers).length>0&&(ke(!0),wl(!0)),o(!1));try{st&&d(!0);const ja=await hu();jt(ja),Yt(ja)}catch(ja){st||x(ja.message)}finally{o(!1),d(!1)}}Y(),Na().catch(()=>{}),r===null&&Ia().catch(()=>{})},[l,jt,Yt,Na,Ia]),N.useEffect(()=>{l||(Pe.current=!1)},[l]);const Z=N.useCallback(async Y=>{const pe=await Pg(Y);if(Y.email)try{await z2(Y.email,Y.memberName)}catch(st){console.warn("Auto-invite failed (non-blocking):",st.message)}return await wt(),pe},[wt]),R=N.useCallback(async(Y,pe)=>{await zg({memberId:Y,...pe}),await wt()},[wt]),V=N.useCallback(async Y=>{await Fg(Y),await wt()},[wt]),me=N.useCallback(async Y=>{const pe=await Hg(Y);return await ge(),pe},[ge]),De=N.useCallback(async(Y,pe)=>{await F2({accountId:Y,...pe}),await ge()},[ge]),qe=N.useCallback(async Y=>{await Yg(Y),await ge()},[ge]),ie=N.useCallback(async Y=>{const pe=await Ug(Y);return await He(),pe},[He]),_e=N.useCallback(async(Y,pe)=>{await B2({accountId:Y,...pe}),await He()},[He]),je=N.useCallback(async Y=>{await $g(Y),await He()},[He]),ve=N.useCallback(async Y=>{const pe=await Xg(Y);return await rt(),pe},[rt]),at=N.useCallback(async(Y,pe)=>{await eS({policyId:Y,...pe}),await rt()},[rt]),Ue=N.useCallback(async Y=>{await Wg(Y),await rt()},[rt]),St=N.useCallback(async Y=>{const pe=await Jg(Y);return await Tt(),pe},[Tt]),ze=N.useCallback(async(Y,pe)=>{await tS({liabilityId:Y,...pe}),await Tt()},[Tt]),Ee=N.useCallback(async Y=>{await ey(Y),await Tt()},[Tt]),_t=N.useCallback(async Y=>{const pe=await ay(Y);return await ht(),Y.quickLoan&&await Tt(),pe},[ht,Tt]),Nt=N.useCallback(async(Y,pe)=>{await aS({investmentId:Y,...pe}),await ht(),await Tt()},[ht,Tt]),qt=N.useCallback(async Y=>{await ny(Y),await ht()},[ht]),na=N.useCallback(async Y=>{const pe=await Gg(Y);return await aa(),pe},[aa]),is=N.useCallback(async(Y,pe)=>{await W2(Y,pe),await aa()},[aa]),be=N.useCallback(async Y=>{await Qg(Y),await aa()},[aa]),Kt=N.useCallback(async Y=>{const pe=await oy(Y);return await Jt(),pe},[Jt]),Ka=N.useCallback(async(Y,pe)=>{await mS({reminderId:Y,...pe}),await Jt()},[Jt]),$n=N.useCallback(async Y=>{await cy(Y),await Jt()},[Jt]),Vn=N.useCallback(async(Y,pe)=>{await J2(Y,pe),await aa()},[aa]),Gn=N.useCallback(async Y=>{const pe=await sy(Y);return await ea(),pe},[ea]),os=N.useCallback(async(Y,pe)=>{await nS({portfolioId:Y,...pe}),await ea()},[ea]),Qn=N.useCallback(async Y=>{await ly(Y),await ea()},[ea]),Cr=N.useCallback(async Y=>{const pe=await rS(Y);return await ea(),pe},[ea]),bo=N.useCallback(async Y=>{const pe=await sS(Y);return await ea(),pe},[ea]),go=N.useCallback(async Y=>{const pe=await Y2(Y);return await dt(),pe},[dt]),jn=N.useCallback(async(Y,pe)=>{await q2({portfolioId:Y,...pe}),await dt()},[dt]),Xt=N.useCallback(async Y=>{await U2(Y),await dt()},[dt]),da=N.useCallback(async(Y,pe)=>{const st=await $2({...Y,transactionType:pe});return await dt(),st},[dt]),kr=N.useCallback(async Y=>{const pe=await V2(Y);return await dt(),pe},[dt]),Zl=N.useCallback(async Y=>{const pe=await G2(Y);return await dt(),pe},[dt]),Qu=N.useCallback(async(Y,pe)=>{await Q2(Y,pe),await dt()},[dt]),Ku=N.useCallback(async Y=>{await lS(Y),await dt()},[dt]),yo=N.useCallback(async Y=>{await iS(Y),await dt()},[dt]),cs=N.useCallback(async Y=>{const pe=await X2(Y);return xe(st=>{const ja=st||[],wn=ja.findIndex(us=>us.fundCode===Y.fundCode),wa={};Y.equity&&(wa.Equity=Y.equity),Y.debt&&(wa.Debt=Y.debt),Y.cash&&(wa.Cash=Y.cash),Y.realEstate&&(wa["Real Estate"]=Y.realEstate),Y.commodities&&(wa.Commodities=Y.commodities);const Xa={};Y.largeCap&&(Xa.Large=Y.largeCap),Y.midCap&&(Xa.Mid=Y.midCap),Y.smallCap&&(Xa.Small=Y.smallCap),Y.microCap&&(Xa.Micro=Y.microCap);const No={fundCode:Y.fundCode,fundName:Y.fundName,assetAllocation:wa,equityAllocation:Xa};if(wn>=0){const us=[...ja];return us[wn]=No,us}return[...ja,No]}),pe},[]),Jl=(p||[]).filter(Y=>Y.status==="Active"),Dr=(b||[]).filter(Y=>Y.status==="Active"),Mr=(w||[]).filter(Y=>Y.status==="Active");return t.jsx(xy.Provider,{value:{loading:a,isRefreshing:u,error:m,refreshData:ha,members:p,banks:b,investmentAccounts:w,insurancePolicies:S,liabilityList:j,otherInvList:k,activeMembers:Jl,activeBanks:Dr,activeInvestmentAccounts:Mr,addMember:Z,updateMember:R,deleteMember:V,addBankAccount:me,updateBankAccount:De,deleteBankAccount:qe,addInvestmentAccount:ie,updateInvestmentAccount:_e,deleteInvestmentAccount:je,addInsurance:ve,updateInsurance:at,deleteInsurance:Ue,addLiability:St,updateLiability:ze,deleteLiability:Ee,addOtherInvestment:_t,updateOtherInvestment:Nt,deleteOtherInvestment:qt,goalList:W,addGoal:na,updateGoal:is,deleteGoal:be,reminderList:re,addReminder:Kt,updateReminder:Ka,deleteReminder:$n,goalPortfolioMappings:z,updateGoalMappings:Vn,assetAllocations:fe,updateAssetAllocation:cs,stockPortfolios:O,stockHoldings:P,stockTransactions:F,addStockPortfolio:Gn,updateStockPortfolio:os,deleteStockPortfolio:Qn,buyStock:Cr,sellStock:bo,mfPortfolios:$,mfHoldings:se,mfTransactions:le,addMFPortfolio:go,updateMFPortfolio:jn,deleteMFPortfolio:Xt,investMF:da,redeemMF:kr,switchMF:Zl,updateHoldingAllocations:Qu,deleteMFTransaction:Ku,editMFTransaction:yo,settings:Ae,updateSettings:Rt,refreshSettings:Na,healthCheckCompleted:we,completeHealthCheck:Ie},children:s})}function tt(){return N.useContext(xy)}const vy=N.createContext();function ES({children:s}){const{activeMembers:l}=tt(),[r,a]=N.useState("all"),o=l.find(u=>u.memberId===r)||null;return t.jsx(vy.Provider,{value:{selectedMember:r,setSelectedMember:a,member:o,familyMembers:l},children:s})}function ca(){return N.useContext(vy)}const by=(...s)=>s.filter((l,r,a)=>!!l&&l.trim()!==""&&a.indexOf(l)===r).join(" ").trim();const TS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const _S=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(l,r,a)=>a?a.toUpperCase():r.toLowerCase());const P0=s=>{const l=_S(s);return l.charAt(0).toUpperCase()+l.slice(1)};var OS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const RS=s=>{for(const l in s)if(l.startsWith("aria-")||l==="role"||l==="title")return!0;return!1};const LS=N.forwardRef(({color:s="currentColor",size:l=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:o="",children:u,iconNode:d,...m},x)=>N.createElement("svg",{ref:x,...OS,width:l,height:l,stroke:s,strokeWidth:a?Number(r)*24/Number(l):r,className:by("lucide",o),...!u&&!RS(m)&&{"aria-hidden":"true"},...m},[...d.map(([p,v])=>N.createElement(p,v)),...Array.isArray(u)?u:[u]]));const Ce=(s,l)=>{const r=N.forwardRef(({className:a,...o},u)=>N.createElement(LS,{ref:u,iconNode:l,className:by(`lucide-${TS(P0(s))}`,`lucide-${s}`,a),...o}));return r.displayName=P0(s),r};const IS=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],PS=Ce("arrow-down",IS);const zS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],FS=Ce("arrow-right",zS);const BS=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],HS=Ce("arrow-up-down",BS);const YS=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],qS=Ce("bell-off",YS);const US=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Iu=Ce("bell",US);const $S=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],gy=Ce("briefcase",$S);const VS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],GS=Ce("calendar",VS);const QS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],to=Ce("chart-column",QS);const KS=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],z0=Ce("chart-pie",KS);const XS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],If=Ce("check",XS);const WS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],In=Ce("chevron-down",WS);const ZS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],yy=Ce("chevron-left",ZS);const JS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ao=Ce("chevron-right",JS);const e5=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],t5=Ce("chevron-up",e5);const a5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],Ny=Ce("circle-arrow-down",a5);const n5=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],r5=Ce("circle-check-big",n5);const s5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Kl=Ce("circle-check",s5);const l5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],jy=Ce("circle-x",l5);const i5=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],wy=Ce("clipboard-check",i5);const o5=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],c5=Ce("coffee",o5);const u5=[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]],d5=Ce("construction",u5);const m5=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],so=Ce("credit-card",m5);const f5=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],p5=Ce("database",f5);const x5=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],h5=Ce("dollar-sign",x5);const v5=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],b5=Ce("ellipsis-vertical",v5);const g5=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],y5=Ce("ellipsis",g5);const N5=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dp=Ce("eye",N5);const j5=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],lu=Ce("eye-off",j5);const w5=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],S5=Ce("file-spreadsheet",w5);const C5=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Sy=Ce("file-text",C5);const k5=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Cy=Ce("funnel",k5);const D5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],M5=Ce("globe",D5);const A5=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],vu=Ce("heart",A5);const E5=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],T5=Ce("indian-rupee",E5);const _5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],O5=Ce("info",_5);const R5=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],ky=Ce("landmark",R5);const L5=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Dy=Ce("layers",L5);const I5=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],My=Ce("link-2",I5);const P5=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],bu=Ce("list",P5);const z5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ay=Ce("loader-circle",z5);const F5=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],pf=Ce("lock",F5);const B5=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],H5=Ce("log-in",B5);const Y5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Ey=Ce("log-out",Y5);const q5=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],U5=Ce("mail",q5);const $5=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],V5=Ce("menu",$5);const G5=[["path",{d:"M5 12h14",key:"1ays0h"}]],xf=Ce("minus",G5);const Q5=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Ty=Ce("moon",Q5);const K5=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],_y=Ce("package",K5);const X5=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],dn=Ce("pencil",X5);const W5=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],Z5=Ce("piggy-bank",W5);const J5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],oa=Ce("plus",J5);const eC=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Rl=Ce("refresh-cw",eC);const tC=[["path",{d:"m2 9 3-3 3 3",key:"1ltn5i"}],["path",{d:"M13 18H7a2 2 0 0 1-2-2V6",key:"1r6tfw"}],["path",{d:"m22 15-3 3-3-3",key:"4rnwn2"}],["path",{d:"M11 6h6a2 2 0 0 1 2 2v10",key:"2f72bc"}]],aC=Ce("repeat-2",tC);const nC=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],rC=Ce("repeat",nC);const sC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Oy=Ce("save",sC);const lC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ry=Ce("search",lC);const iC=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],oC=Ce("settings-2",iC);const cC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mp=Ce("settings",cC);const uC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],dC=Ce("shield-alert",uC);const mC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],no=Ce("shield",mC);const fC=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Pf=Ce("sun",fC);const pC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],mo=Ce("target",pC);const xC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Pu=Ce("trash-2",xC);const hC=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],zu=Ce("trending-down",hC);const vC=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ll=Ce("trending-up",vC);const bC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ns=Ce("triangle-alert",bC);const gC=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],F0=Ce("trophy",gC);const yC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],NC=Ce("user",yC);const jC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Il=Ce("users",jC);const wC=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Tl=Ce("wallet",wC);const SC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fo=Ce("x",SC);const CC=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],zf=Ce("zap",CC),Ly=N.createContext();function kC({children:s}){const[l,r]=N.useState([]),[a,o]=N.useState(null),u=N.useRef(0),d=N.useCallback((v,b="success",g=3e3)=>{const w=++u.current;r(M=>[...M,{id:w,message:v,type:b}]),setTimeout(()=>r(M=>M.filter(S=>S.id!==w)),g)},[]),m=N.useCallback(v=>{r(b=>b.filter(g=>g.id!==v))},[]),x=N.useCallback((v="Saving...")=>{o(v)},[]),p=N.useCallback(()=>{o(null)},[]);return t.jsxs(Ly.Provider,{value:{showToast:d,showBlockUI:x,hideBlockUI:p},children:[s,a&&t.jsx("div",{className:"fixed inset-0 z-[200] bg-black/50 backdrop-blur-sm flex items-center justify-center",children:t.jsxs("div",{className:"flex flex-col items-center gap-3 bg-[var(--bg-card)] rounded-xl px-8 py-6 border border-[var(--border)] shadow-2xl",children:[t.jsx("span",{className:"w-7 h-7 border-[2.5px] border-violet-400/30 border-t-violet-400 rounded-full animate-spin"}),t.jsx("span",{className:"text-sm font-semibold text-[var(--text-primary)]",children:a})]})}),l.length>0&&t.jsx("div",{className:"fixed bottom-20 sm:bottom-6 left-1/2 -translate-x-1/2 z-[100] flex flex-col gap-2 items-center pointer-events-none",children:l.map(v=>t.jsxs("div",{className:`pointer-events-auto flex items-center gap-2 px-4 py-2.5 rounded-lg shadow-xl border text-sm font-medium animate-fade-in ${v.type==="error"?"bg-rose-500/15 border-rose-500/30 text-[var(--accent-rose)]":v.type==="warning"?"bg-amber-500/15 border-amber-500/30 text-amber-400":"bg-emerald-500/15 border-emerald-500/30 text-emerald-400"}`,style:{backdropFilter:"blur(12px)"},children:[v.type==="error"?t.jsx(jy,{size:16}):v.type==="warning"?t.jsx(ns,{size:16}):t.jsx(Kl,{size:16}),t.jsx("span",{children:v.message}),t.jsx("button",{onClick:()=>m(v.id),className:"ml-1 opacity-60 hover:opacity-100 transition-opacity",children:t.jsx(fo,{size:14})})]},v.id))})]})}function Hn(){return N.useContext(Ly)}const Iy=N.createContext();function DC({children:s}){const[l,r]=N.useState(null),a=N.useRef(null),o=N.useCallback((m,{title:x="Confirm",confirmLabel:p="Yes, proceed",cancelLabel:v="Cancel",destructive:b=!0}={})=>new Promise(g=>{a.current=g,r({message:m,title:x,confirmLabel:p,cancelLabel:v,destructive:b})}),[]);function u(){a.current?.(!0),a.current=null,r(null)}function d(){a.current?.(!1),a.current=null,r(null)}return t.jsxs(Iy.Provider,{value:{confirm:o},children:[s,l&&t.jsxs("div",{className:"fixed inset-0 z-[300] flex items-center justify-center px-4",onClick:d,children:[t.jsx("div",{className:"fixed inset-0 bg-black/60"}),t.jsxs("div",{className:"relative bg-[var(--bg-card)] border border-[var(--border)] rounded-xl shadow-2xl w-full max-w-sm p-5 animate-fade-in",onClick:m=>m.stopPropagation(),children:[t.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[t.jsx("span",{className:`shrink-0 w-9 h-9 rounded-full flex items-center justify-center ${l.destructive?"bg-rose-500/15":"bg-violet-500/15"}`,children:t.jsx(ns,{size:18,className:l.destructive?"text-[var(--accent-rose)]":"text-violet-400"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-bold text-[var(--text-primary)]",children:l.title}),t.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-1 leading-relaxed",children:l.message})]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-2",children:[t.jsx("button",{onClick:d,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:l.cancelLabel}),t.jsx("button",{onClick:u,autoFocus:!0,className:`px-4 py-2 text-xs font-bold text-white rounded-lg transition-colors ${l.destructive?"bg-rose-600 hover:bg-rose-500":"bg-violet-600 hover:bg-violet-500"}`,children:l.confirmLabel})]})]})]})]})}function Yn(){return N.useContext(Iy).confirm}const Py=N.createContext(),B0="cf-mask-data";function MC(s){return!s||s.length<4?"":""+s.slice(-4)}function AC(s){return!s||s.length<4?"  ":"  "+s.slice(-4)}function EC(s){return!s||s.length<3?"":""+s.slice(-3)}function TC(s){if(!s)return"@";const[l,r]=s.split("@");if(!r)return"@";const a=l.charAt(0)+"",o=r.split("."),u=o[0].charAt(0)+""+(o.length>1?"."+o.slice(1).join("."):"");return a+"@"+u}function _C(s){return!s||s.length<4?"":""+s.slice(-4)}function OC(s){return!s||s.length<3?"":""+s.slice(-3)}function RC(s){return!s||s.length<4?"":""+s.slice(-4)}function LC(s){return!s||s.length<2?"":s.split(/\s+/).map(l=>l.charAt(0)+"").join(" ")}const IC={pan:MC,aadhaar:AC,mobile:EC,email:TC,account:_C,clientId:OC,policy:RC,name:LC};function PC({children:s}){const[l,r]=N.useState(()=>{try{return localStorage.getItem(B0)==="true"}catch{return!1}});N.useEffect(()=>{try{localStorage.setItem(B0,String(l))}catch{}},[l]);const a=N.useCallback(()=>r(u=>!u),[]),o=N.useCallback((u,d)=>{if(!l||u==null||u==="")return u;const m=IC[d];return m?m(String(u)):u},[l]);return t.jsx(Py.Provider,{value:{masked:l,toggleMask:a,mv:o},children:s})}function qn(){return N.useContext(Py)}const H0=[{label:"Family",icon:Il,path:"/family"},{label:"Accounts",icon:so,children:[{label:"Bank Accounts",icon:ky,path:"/accounts/bank"},{label:"Investment A/c",icon:gy,path:"/accounts/investment"}]},{label:"Insurance",icon:no,path:"/insurance"},{label:"Investments",icon:Tl,children:[{label:"Mutual Funds",icon:Tl,path:"/investments/mutual-funds"},{label:"Stocks",icon:to,path:"/investments/stocks"},{label:"Other Investments",icon:_y,path:"/investments/other"}]},{label:"Liabilities",icon:so,path:"/liabilities"},{label:"Goals",icon:mo,path:"/goals"},{label:"Settings",icon:mp,path:"/settings"}];function zC({open:s,onClose:l}){const r=un(),a=H0.filter(m=>m.children?.some(x=>r.pathname.startsWith(x.path))).map(m=>m.label),[o,u]=N.useState(new Set(a));function d(m){u(x=>{const p=new Set(x);return p.has(m)?p.delete(m):p.add(m),p})}return t.jsxs(t.Fragment,{children:[s&&t.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 lg:hidden",onClick:l}),t.jsxs("aside",{className:`
        fixed top-0 left-0 z-50 h-full w-56
        bg-[var(--bg-sidebar)] border-r border-[var(--border)]
        flex flex-col transition-transform duration-300
        lg:hidden
        ${s?"translate-x-0":"-translate-x-full"}
      `,children:[t.jsxs("div",{className:"flex items-center justify-between px-3 h-12 border-b border-[var(--border)] shrink-0",children:[t.jsx("p",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Menu"}),t.jsx("button",{onClick:l,className:"p-1.5 rounded-md text-[var(--text-dim)] hover:text-[var(--text-primary)]",children:t.jsx(fo,{size:16})})]}),t.jsx("nav",{className:"flex-1 py-2 overflow-y-auto overflow-x-hidden",children:H0.map(m=>m.children?t.jsx(FC,{item:m,isOpen:o.has(m.label),onToggle:()=>d(m.label),onNavigate:l,currentPath:r.pathname},m.label):t.jsx(zy,{item:m,onNavigate:l},m.path))})]})]})}function zy({item:s,onNavigate:l,nested:r}){const{label:a,icon:o,path:u}=s;return t.jsx(sp,{to:u,onClick:l,end:u==="/",className:({isActive:d})=>`group flex items-center gap-2.5 ${r?"pl-11 pr-4 py-[7px]":"px-4 py-2.5"} text-[13px] font-medium transition-all border-r-2 ${d?"bg-[var(--sidebar-active-bg)] text-[var(--sidebar-active-text)] border-[var(--sidebar-active-text)]":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] border-transparent"}`,children:({isActive:d})=>t.jsxs(t.Fragment,{children:[t.jsx(o,{size:r?14:17,strokeWidth:d?2.2:1.7}),t.jsx("span",{children:a})]})})}function FC({item:s,isOpen:l,onToggle:r,onNavigate:a,currentPath:o}){const{label:u,icon:d,children:m}=s,x=m.some(p=>o.startsWith(p.path));return t.jsxs("div",{children:[t.jsxs("button",{onClick:r,className:`w-full group flex items-center gap-2.5 px-4 py-2.5 text-[13px] font-medium transition-all border-r-2 border-transparent ${x?"text-[var(--sidebar-active-text)]":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,children:[t.jsx(d,{size:17,strokeWidth:x?2.2:1.7}),t.jsx("span",{className:"flex-1 text-left",children:u}),t.jsx(In,{size:13,className:`text-[var(--text-dim)] transition-transform duration-200 ${l?"rotate-180":""}`})]}),l&&t.jsx("div",{className:"py-0.5",children:m.map(p=>t.jsx(zy,{item:p,onNavigate:a,nested:!0},p.path))})]})}function Q(s){return s>=1e7?`${(s/1e7).toFixed(2)} Cr`:s>=1e5?`${(s/1e5).toFixed(2)} L`:s>=1e3?`${(s/1e3).toFixed(0)}K`:`${s.toLocaleString("en-IN")}`}const Fy="cf_market_data",BC=300*1e3,Y0=300*1e3;function HC(){try{const s=sessionStorage.getItem(Fy);if(!s)return null;const l=JSON.parse(s);return Date.now()-l._ts>BC?null:l}catch{return null}}function YC(s){try{sessionStorage.setItem(Fy,JSON.stringify({...s,_ts:Date.now()}))}catch{}}function qC(){const[s,l]=N.useState(()=>HC()),[r,a]=N.useState([]),o=N.useRef(null),[u,d]=N.useState(!1),[m,x]=N.useState(!1);N.useEffect(()=>{let b=!1;async function g(){try{const M=await hS();if(!b&&M){const S={...M,_ts:Date.now()};l(S),YC(S)}}catch{}}g();const w=setInterval(g,Y0);return()=>{b=!0,clearInterval(w)}},[]),N.useEffect(()=>{let b=!1;async function g(){try{const M=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum&vs_currencies=inr&include_24hr_change=true");if(!b&&M.ok){const S=await M.json(),y=[];S.bitcoin&&y.push({name:"BTC",price:S.bitcoin.inr,changePct:S.bitcoin.inr_24h_change||0,type:"crypto"}),S.ethereum&&y.push({name:"ETH",price:S.ethereum.inr,changePct:S.ethereum.inr_24h_change||0,type:"crypto"}),a(y)}}catch{}}g();const w=setInterval(g,Y0);return()=>{b=!0,clearInterval(w)}},[]);const p=[];if(s?.indices&&p.push(...s.indices),s?.metals&&p.push(...s.metals),r.length>0&&p.push(...r),N.useEffect(()=>{if(!o.current)return;const b=o.current,g=b.parentElement;d(b.scrollWidth>g.clientWidth)},[p.length]),p.length===0)return null;const v=p.length*3;return t.jsxs("div",{className:"bg-[var(--bg-card)]/80 backdrop-blur-sm border-b border-[var(--border-light)] overflow-hidden",onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),onTouchStart:()=>x(!0),onTouchEnd:()=>x(!1),children:[t.jsx("div",{className:"overflow-hidden",children:t.jsxs("div",{ref:o,className:"flex items-stretch w-max",style:u?{animation:`ticker-scroll ${v}s linear infinite`,animationPlayState:m?"paused":"running"}:{margin:"0 auto"},children:[p.map((b,g)=>t.jsx(q0,{item:b},b.name+g)),u&&p.map((b,g)=>t.jsx(q0,{item:b},"dup-"+b.name+g))]})}),t.jsx("style",{children:`
        @keyframes ticker-scroll {
          0% { transform: translateX(0); }
          100% { transform: translateX(-50%); }
        }
      `})]})}function q0({item:s}){const l=s.changePct>=0,r=l?t.jsx(Ll,{size:10}):t.jsx(zu,{size:10}),a=l?"text-emerald-400":"text-[var(--accent-rose)]",o=u=>u>=1e5?`${(u/1e5).toFixed(2)}L`:u>=1e3?`${u.toLocaleString("en-IN",{maximumFractionDigits:0})}`:`${u.toLocaleString("en-IN",{maximumFractionDigits:2})}`;return t.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 border-r border-[var(--border-light)] last:border-0 shrink-0",children:[t.jsx("span",{className:"text-[10px] font-semibold text-[var(--text-dim)] uppercase whitespace-nowrap",children:s.name}),t.jsx("span",{className:"text-[11px] font-bold text-[var(--text-primary)] tabular-nums whitespace-nowrap",children:s.unit?`${o(s.price)}`:o(s.price)}),s.changePct!==void 0&&s.changePct!==null&&t.jsxs("span",{className:`flex items-center gap-0.5 text-[10px] font-bold tabular-nums ${a}`,children:[r,l?"+":"",s.changePct.toFixed(2),"%"]})]})}function UC(){const{selectedMember:s}=ca(),{mfPortfolios:l,mfHoldings:r,insurancePolicies:a,goalList:o,reminderList:u}=tt(),d=(g,w)=>{const M=g||[];return s==="all"?M:M.filter(S=>S[w]===s)},m=N.useMemo(()=>{let g=0,w=0,M=0;return d((l||[]).filter(j=>j.status!=="Inactive"),"ownerId").forEach(j=>{const D=(r||[]).filter(O=>O.portfolioId===j.portfolioId&&O.units>0),k=D.reduce((O,q)=>O+q.currentValue,0),_=(j.rebalanceThreshold||.05)*100;D.forEach(O=>{if(O.athNav>0&&O.belowATHPct>=10?w++:O.athNav>0&&O.belowATHPct>=5&&g++,O.targetAllocationPct>0&&k>0){const q=O.currentValue/k*100;Math.abs(q-O.targetAllocationPct)>_&&M++}})}),{buyOppCount:g+w,buyCount:g,strongBuyCount:w,rebalanceCount:M}},[s,l,r]),x=N.useMemo(()=>{const g=[],w=d((a||[]).filter(k=>k.status==="Active"),"memberId");w.some(k=>k.policyType==="Term Life")||g.push({type:"critical",title:"Missing Term Life Insurance",badge:"Add Policy",navigateTo:"/insurance"});const S=w.filter(k=>k.policyType==="Health").reduce((k,_)=>k+_.sumAssured,0);return S===0?g.push({type:"critical",title:"No Health Insurance",badge:"Add Policy",navigateTo:"/insurance"}):S<5e5&&g.push({type:"warning",title:"Inadequate Health Insurance",badge:Q(S),navigateTo:"/insurance"}),d((o||[]).filter(k=>k.isActive!==!1&&k.goalType==="Emergency Fund"),"familyMemberId").forEach(k=>{const _=k.targetAmount>0?k.currentValue/k.targetAmount*100:0;_<100&&g.push({type:_>=75?"info":"warning",title:`Emergency Fund at ${_.toFixed(0)}%`,badge:Q(k.targetAmount-k.currentValue)+" left",navigateTo:"/goals"})}),d((u||[]).filter(k=>k.isActive!==!1),"familyMemberId").filter(k=>new Date(k.dueDate)<new Date).forEach(k=>{const _=Math.ceil((new Date-new Date(k.dueDate))/864e5);g.push({type:"critical",title:k.title,badge:`${_}d overdue`,navigateTo:"/reminders"})}),d((o||[]).filter(k=>k.isActive!==!1&&k.status==="Needs Attention"),"familyMemberId").forEach(k=>{g.push({type:"warning",title:`${k.goalName} needs attention`,badge:k.priority,navigateTo:"/goals"})}),g},[s,a,o,u]),p=N.useMemo(()=>{const g=d((u||[]).filter(M=>M.isActive!==!1&&M.status!=="Completed"),"familyMemberId"),w=new Date;return g.map(M=>{const S=new Date(M.dueDate)-w,y=Math.ceil(S/(1440*60*1e3)),j=new Date(M.dueDate).toLocaleDateString("en-IN",{day:"2-digit",month:"short"});return{...M,days:y,dateStr:j}}).filter(M=>M.days>=0&&M.days<=30).sort((M,S)=>M.days-S.days).slice(0,5)},[s,u]),v=x.length+m.buyOppCount+m.rebalanceCount+p.length,b=x.filter(g=>g.type==="critical").length;return{criticalAlerts:x,investmentSignals:m,upcomingReminders:p,totalCount:v,criticalCount:b}}function U0(s){return s>=20?"bg-rose-500/20 text-[var(--accent-rose)]":s>=10?"bg-orange-500/20 text-[var(--accent-orange)]":s>=5?"bg-amber-500/20 text-[var(--accent-amber)]":"bg-slate-500/20 text-[var(--text-muted)]"}function $0(s){return s>=10?{label:"Strong Buy",cls:"bg-emerald-500/20 text-emerald-400 ring-1 ring-emerald-500/30"}:s>=5?{label:"Buy",cls:"bg-blue-500/20 text-blue-400"}:null}function By(){const{mfHoldings:s,mfPortfolios:l}=tt(),r=N.useMemo(()=>l.filter(o=>o.status!=="Inactive").map(o=>{const u=s.filter(x=>x.portfolioId===o.portfolioId&&x.units>0),d=u.reduce((x,p)=>x+p.currentValue,0),m=u.filter(x=>x.athNav>0&&x.belowATHPct>=1).sort((x,p)=>p.belowATHPct-x.belowATHPct).map(x=>({...x,currentPct:d>0?x.currentValue/d*100:0}));return{...o,totalValue:d,opportunities:m}}).filter(o=>o.opportunities.length>0),[l,s]);return r.reduce((o,u)=>o+u.opportunities.length,0)===0?t.jsxs("div",{className:"py-8 text-center",children:[t.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No buy opportunities right now"}),t.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"All funds are near their all-time highs"})]}):t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)] px-1",children:"Funds below their All-Time High NAV. Higher discount = better opportunity."}),r.map((o,u)=>t.jsxs("div",{className:"border border-[var(--border-light)] border-l-2 border-l-emerald-500/50 rounded-lg overflow-hidden",children:[t.jsxs("div",{className:"flex items-center gap-2 px-3 py-2.5 bg-[var(--bg-inset)]",children:[t.jsx("span",{className:"text-xs font-bold text-emerald-400 bg-emerald-500/15 w-5 h-5 rounded flex items-center justify-center",children:u+1}),t.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:o.portfolioName}),t.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:o.ownerName}),t.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-emerald-500/15 text-emerald-400",children:[o.opportunities.length," funds"]})]}),t.jsx("div",{className:"hidden sm:block overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[t.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),t.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Signal"}),t.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Below ATH"}),t.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"ATH NAV"}),t.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Current"}),t.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Value"})]})}),t.jsx("tbody",{children:o.opportunities.map(d=>{const m=$0(d.belowATHPct);return t.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[t.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[200px] truncate",children:d.fundName}),t.jsx("td",{className:"py-2 px-2 text-center",children:m?t.jsx("span",{className:`inline-block text-[10px] font-bold px-2 py-0.5 rounded-full whitespace-nowrap ${m.cls}`,children:m.label}):t.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:"Watch"})}),t.jsx("td",{className:"py-2 px-2 text-right",children:t.jsxs("span",{className:`inline-block text-xs font-semibold px-1.5 py-0.5 rounded-full ${U0(d.belowATHPct)}`,children:["",d.belowATHPct.toFixed(1),"%"]})}),t.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:["",d.athNav.toFixed(2)]}),t.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:["",d.currentNav.toFixed(2)]}),t.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:Q(d.currentValue)})]},d.holdingId)})})]})}),t.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:o.opportunities.map(d=>{const m=$0(d.belowATHPct);return t.jsxs("div",{className:"px-3 py-2.5",children:[t.jsxs("div",{className:"flex items-start justify-between mb-1",children:[t.jsx("p",{className:"text-xs text-[var(--text-primary)] leading-tight flex-1 mr-2",children:d.fundName}),t.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[m&&t.jsx("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded-full ${m.cls}`,children:m.label}),t.jsxs("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${U0(d.belowATHPct)}`,children:["",d.belowATHPct.toFixed(1),"%"]})]})]}),t.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)]",children:[t.jsxs("span",{children:["ATH ",d.athNav.toFixed(2),"  ",d.currentNav.toFixed(2)]}),t.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:Q(d.currentValue)})]})]},d.holdingId)})})]},o.portfolioId))]})}function Hy(s){var l,r,a="";if(typeof s=="string"||typeof s=="number")a+=s;else if(typeof s=="object")if(Array.isArray(s)){var o=s.length;for(l=0;l<o;l++)s[l]&&(r=Hy(s[l]))&&(a&&(a+=" "),a+=r)}else for(r in s)s[r]&&(a&&(a+=" "),a+=r);return a}function Zt(){for(var s,l,r=0,a="",o=arguments.length;r<o;r++)(s=arguments[r])&&(l=Hy(s))&&(a&&(a+=" "),a+=l);return a}const Yy=6048e5,$C=864e5,Fu=6e4,Bu=36e5,VC=1e3,V0=Symbol.for("constructDateFrom");function xt(s,l){return typeof s=="function"?s(l):s&&typeof s=="object"&&V0 in s?s[V0](l):s instanceof Date?new s.constructor(l):new Date(l)}function Re(s,l){return xt(l||s,s)}function vn(s,l,r){const a=Re(s,r?.in);return isNaN(l)?xt(r?.in||s,NaN):(l&&a.setDate(a.getDate()+l),a)}function yn(s,l,r){const a=Re(s,r?.in);if(isNaN(l))return xt(s,NaN);if(!l)return a;const o=a.getDate(),u=xt(s,a.getTime());u.setMonth(a.getMonth()+l+1,0);const d=u.getDate();return o>=d?u:(a.setFullYear(u.getFullYear(),u.getMonth(),o),a)}function qy(s,l,r){return xt(s,+Re(s)+l)}function GC(s,l,r){return qy(s,l*Bu)}let QC={};function qs(){return QC}function yr(s,l){const r=qs(),a=l?.weekStartsOn??l?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=Re(s,l?.in),u=o.getDay(),d=(u<a?7:0)+u-a;return o.setDate(o.getDate()-d),o.setHours(0,0,0,0),o}function Pl(s,l){return yr(s,{...l,weekStartsOn:1})}function Uy(s,l){const r=Re(s,l?.in),a=r.getFullYear(),o=xt(r,0);o.setFullYear(a+1,0,4),o.setHours(0,0,0,0);const u=Pl(o),d=xt(r,0);d.setFullYear(a,0,4),d.setHours(0,0,0,0);const m=Pl(d);return r.getTime()>=u.getTime()?a+1:r.getTime()>=m.getTime()?a:a-1}function gu(s){const l=Re(s),r=new Date(Date.UTC(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds()));return r.setUTCFullYear(l.getFullYear()),+s-+r}function jr(s,...l){const r=xt.bind(null,l.find(a=>typeof a=="object"));return l.map(r)}function Fs(s,l){const r=Re(s,l?.in);return r.setHours(0,0,0,0),r}function zl(s,l,r){const[a,o]=jr(r?.in,s,l),u=Fs(a),d=Fs(o),m=+u-gu(u),x=+d-gu(d);return Math.round((m-x)/$C)}function KC(s,l){const r=Uy(s,l),a=xt(s,0);return a.setFullYear(r,0,4),a.setHours(0,0,0,0),Pl(a)}function lo(s,l,r){const a=Re(s,r?.in);return a.setTime(a.getTime()+l*Fu),a}function fp(s,l,r){return yn(s,l*3,r)}function XC(s,l,r){return qy(s,l*1e3)}function yu(s,l,r){return vn(s,l*7,r)}function bn(s,l,r){return yn(s,l*12,r)}function G0(s,l){let r,a=l?.in;return s.forEach(o=>{!a&&typeof o=="object"&&(a=xt.bind(null,o));const u=Re(o,a);(!r||r<u||isNaN(+u))&&(r=u)}),xt(a,r||NaN)}function Q0(s,l){let r,a=l?.in;return s.forEach(o=>{!a&&typeof o=="object"&&(a=xt.bind(null,o));const u=Re(o,a);(!r||r>u||isNaN(+u))&&(r=u)}),xt(a,r||NaN)}function WC(s,l,r){const[a,o]=jr(r?.in,s,l);return+Fs(a)==+Fs(o)}function Pn(s){return s instanceof Date||typeof s=="object"&&Object.prototype.toString.call(s)==="[object Date]"}function Fl(s){return!(!Pn(s)&&typeof s!="number"||isNaN(+Re(s)))}function Nu(s,l,r){const[a,o]=jr(r?.in,s,l),u=a.getFullYear()-o.getFullYear(),d=a.getMonth()-o.getMonth();return u*12+d}function es(s,l){const r=Re(s,l?.in);return Math.trunc(r.getMonth()/3)+1}function ju(s,l,r){const[a,o]=jr(r?.in,s,l),u=a.getFullYear()-o.getFullYear(),d=es(a)-es(o);return u*4+d}function wu(s,l,r){const[a,o]=jr(r?.in,s,l);return a.getFullYear()-o.getFullYear()}function ZC(s,l,r){const[a,o]=jr(r?.in,s,l),u=K0(a,o),d=Math.abs(zl(a,o));a.setDate(a.getDate()-u*d);const m=+(K0(a,o)===-u),x=u*(d-m);return x===0?0:x}function K0(s,l){const r=s.getFullYear()-l.getFullYear()||s.getMonth()-l.getMonth()||s.getDate()-l.getDate()||s.getHours()-l.getHours()||s.getMinutes()-l.getMinutes()||s.getSeconds()-l.getSeconds()||s.getMilliseconds()-l.getMilliseconds();return r<0?-1:r>0?1:r}function $y(s,l){const r=Re(s,l?.in);return r.setHours(23,59,59,999),r}function Vy(s,l){const r=Re(s,l?.in),a=r.getMonth();return r.setFullYear(r.getFullYear(),a+1,0),r.setHours(23,59,59,999),r}function Ff(s,l){const r=Re(s,l?.in),a=r.getMonth(),o=a-a%3;return r.setMonth(o,1),r.setHours(0,0,0,0),r}function Gy(s,l){const r=Re(s,l?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function Qy(s,l){const r=Re(s,l?.in),a=r.getFullYear();return r.setFullYear(a+1,0,0),r.setHours(23,59,59,999),r}function Hu(s,l){const r=Re(s,l?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function JC(s,l){const r=qs(),a=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=Re(s,l?.in),u=o.getDay(),d=(u<a?-7:0)+6-(u-a);return o.setDate(o.getDate()+d),o.setHours(23,59,59,999),o}const ek={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},tk=(s,l,r)=>{let a;const o=ek[s];return typeof o=="string"?a=o:l===1?a=o.one:a=o.other.replace("{{count}}",l.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function hf(s){return(l={})=>{const r=l.width?String(l.width):s.defaultWidth;return s.formats[r]||s.formats[s.defaultWidth]}}const ak={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nk={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rk={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sk={date:hf({formats:ak,defaultWidth:"full"}),time:hf({formats:nk,defaultWidth:"full"}),dateTime:hf({formats:rk,defaultWidth:"full"})},lk={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ik=(s,l,r,a)=>lk[s];function $i(s){return(l,r)=>{const a=r?.context?String(r.context):"standalone";let o;if(a==="formatting"&&s.formattingValues){const d=s.defaultFormattingWidth||s.defaultWidth,m=r?.width?String(r.width):d;o=s.formattingValues[m]||s.formattingValues[d]}else{const d=s.defaultWidth,m=r?.width?String(r.width):s.defaultWidth;o=s.values[m]||s.values[d]}const u=s.argumentCallback?s.argumentCallback(l):l;return o[u]}}const ok={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ck={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},uk={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},fk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},pk=(s,l)=>{const r=Number(s),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},xk={ordinalNumber:pk,era:$i({values:ok,defaultWidth:"wide"}),quarter:$i({values:ck,defaultWidth:"wide",argumentCallback:s=>s-1}),month:$i({values:uk,defaultWidth:"wide"}),day:$i({values:dk,defaultWidth:"wide"}),dayPeriod:$i({values:mk,defaultWidth:"wide",formattingValues:fk,defaultFormattingWidth:"wide"})};function Vi(s){return(l,r={})=>{const a=r.width,o=a&&s.matchPatterns[a]||s.matchPatterns[s.defaultMatchWidth],u=l.match(o);if(!u)return null;const d=u[0],m=a&&s.parsePatterns[a]||s.parsePatterns[s.defaultParseWidth],x=Array.isArray(m)?vk(m,b=>b.test(d)):hk(m,b=>b.test(d));let p;p=s.valueCallback?s.valueCallback(x):x,p=r.valueCallback?r.valueCallback(p):p;const v=l.slice(d.length);return{value:p,rest:v}}}function hk(s,l){for(const r in s)if(Object.prototype.hasOwnProperty.call(s,r)&&l(s[r]))return r}function vk(s,l){for(let r=0;r<s.length;r++)if(l(s[r]))return r}function bk(s){return(l,r={})=>{const a=l.match(s.matchPattern);if(!a)return null;const o=a[0],u=l.match(s.parsePattern);if(!u)return null;let d=s.valueCallback?s.valueCallback(u[0]):u[0];d=r.valueCallback?r.valueCallback(d):d;const m=l.slice(o.length);return{value:d,rest:m}}}const gk=/^(\d+)(th|st|nd|rd)?/i,yk=/\d+/i,Nk={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},jk={any:[/^b/i,/^(a|c)/i]},wk={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Sk={any:[/1/i,/2/i,/3/i,/4/i]},Ck={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},kk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Dk={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Mk={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ak={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ek={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Tk={ordinalNumber:bk({matchPattern:gk,parsePattern:yk,valueCallback:s=>parseInt(s,10)}),era:Vi({matchPatterns:Nk,defaultMatchWidth:"wide",parsePatterns:jk,defaultParseWidth:"any"}),quarter:Vi({matchPatterns:wk,defaultMatchWidth:"wide",parsePatterns:Sk,defaultParseWidth:"any",valueCallback:s=>s+1}),month:Vi({matchPatterns:Ck,defaultMatchWidth:"wide",parsePatterns:kk,defaultParseWidth:"any"}),day:Vi({matchPatterns:Dk,defaultMatchWidth:"wide",parsePatterns:Mk,defaultParseWidth:"any"}),dayPeriod:Vi({matchPatterns:Ak,defaultMatchWidth:"any",parsePatterns:Ek,defaultParseWidth:"any"})},Ky={code:"en-US",formatDistance:tk,formatLong:sk,formatRelative:ik,localize:xk,match:Tk,options:{weekStartsOn:0,firstWeekContainsDate:1}};function _k(s,l){const r=Re(s,l?.in);return zl(r,Hu(r))+1}function pp(s,l){const r=Re(s,l?.in),a=+Pl(r)-+KC(r);return Math.round(a/Yy)+1}function xp(s,l){const r=Re(s,l?.in),a=r.getFullYear(),o=qs(),u=l?.firstWeekContainsDate??l?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,d=xt(l?.in||s,0);d.setFullYear(a+1,0,u),d.setHours(0,0,0,0);const m=yr(d,l),x=xt(l?.in||s,0);x.setFullYear(a,0,u),x.setHours(0,0,0,0);const p=yr(x,l);return+r>=+m?a+1:+r>=+p?a:a-1}function Ok(s,l){const r=qs(),a=l?.firstWeekContainsDate??l?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=xp(s,l),u=xt(l?.in||s,0);return u.setFullYear(o,0,a),u.setHours(0,0,0,0),yr(u,l)}function Xy(s,l){const r=Re(s,l?.in),a=+yr(r,l)-+Ok(r,l);return Math.round(a/Yy)+1}function pt(s,l){const r=s<0?"-":"",a=Math.abs(s).toString().padStart(l,"0");return r+a}const Zr={y(s,l){const r=s.getFullYear(),a=r>0?r:1-r;return pt(l==="yy"?a%100:a,l.length)},M(s,l){const r=s.getMonth();return l==="M"?String(r+1):pt(r+1,2)},d(s,l){return pt(s.getDate(),l.length)},a(s,l){const r=s.getHours()/12>=1?"pm":"am";switch(l){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(s,l){return pt(s.getHours()%12||12,l.length)},H(s,l){return pt(s.getHours(),l.length)},m(s,l){return pt(s.getMinutes(),l.length)},s(s,l){return pt(s.getSeconds(),l.length)},S(s,l){const r=l.length,a=s.getMilliseconds(),o=Math.trunc(a*Math.pow(10,r-3));return pt(o,l.length)}},Sl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},X0={G:function(s,l,r){const a=s.getFullYear()>0?1:0;switch(l){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});default:return r.era(a,{width:"wide"})}},y:function(s,l,r){if(l==="yo"){const a=s.getFullYear(),o=a>0?a:1-a;return r.ordinalNumber(o,{unit:"year"})}return Zr.y(s,l)},Y:function(s,l,r,a){const o=xp(s,a),u=o>0?o:1-o;if(l==="YY"){const d=u%100;return pt(d,2)}return l==="Yo"?r.ordinalNumber(u,{unit:"year"}):pt(u,l.length)},R:function(s,l){const r=Uy(s);return pt(r,l.length)},u:function(s,l){const r=s.getFullYear();return pt(r,l.length)},Q:function(s,l,r){const a=Math.ceil((s.getMonth()+1)/3);switch(l){case"Q":return String(a);case"QQ":return pt(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(s,l,r){const a=Math.ceil((s.getMonth()+1)/3);switch(l){case"q":return String(a);case"qq":return pt(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(s,l,r){const a=s.getMonth();switch(l){case"M":case"MM":return Zr.M(s,l);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(s,l,r){const a=s.getMonth();switch(l){case"L":return String(a+1);case"LL":return pt(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(s,l,r,a){const o=Xy(s,a);return l==="wo"?r.ordinalNumber(o,{unit:"week"}):pt(o,l.length)},I:function(s,l,r){const a=pp(s);return l==="Io"?r.ordinalNumber(a,{unit:"week"}):pt(a,l.length)},d:function(s,l,r){return l==="do"?r.ordinalNumber(s.getDate(),{unit:"date"}):Zr.d(s,l)},D:function(s,l,r){const a=_k(s);return l==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):pt(a,l.length)},E:function(s,l,r){const a=s.getDay();switch(l){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(s,l,r,a){const o=s.getDay(),u=(o-a.weekStartsOn+8)%7||7;switch(l){case"e":return String(u);case"ee":return pt(u,2);case"eo":return r.ordinalNumber(u,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(s,l,r,a){const o=s.getDay(),u=(o-a.weekStartsOn+8)%7||7;switch(l){case"c":return String(u);case"cc":return pt(u,l.length);case"co":return r.ordinalNumber(u,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(s,l,r){const a=s.getDay(),o=a===0?7:a;switch(l){case"i":return String(o);case"ii":return pt(o,l.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(s,l,r){const o=s.getHours()/12>=1?"pm":"am";switch(l){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(s,l,r){const a=s.getHours();let o;switch(a===12?o=Sl.noon:a===0?o=Sl.midnight:o=a/12>=1?"pm":"am",l){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(s,l,r){const a=s.getHours();let o;switch(a>=17?o=Sl.evening:a>=12?o=Sl.afternoon:a>=4?o=Sl.morning:o=Sl.night,l){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(s,l,r){if(l==="ho"){let a=s.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return Zr.h(s,l)},H:function(s,l,r){return l==="Ho"?r.ordinalNumber(s.getHours(),{unit:"hour"}):Zr.H(s,l)},K:function(s,l,r){const a=s.getHours()%12;return l==="Ko"?r.ordinalNumber(a,{unit:"hour"}):pt(a,l.length)},k:function(s,l,r){let a=s.getHours();return a===0&&(a=24),l==="ko"?r.ordinalNumber(a,{unit:"hour"}):pt(a,l.length)},m:function(s,l,r){return l==="mo"?r.ordinalNumber(s.getMinutes(),{unit:"minute"}):Zr.m(s,l)},s:function(s,l,r){return l==="so"?r.ordinalNumber(s.getSeconds(),{unit:"second"}):Zr.s(s,l)},S:function(s,l){return Zr.S(s,l)},X:function(s,l,r){const a=s.getTimezoneOffset();if(a===0)return"Z";switch(l){case"X":return Z0(a);case"XXXX":case"XX":return Es(a);default:return Es(a,":")}},x:function(s,l,r){const a=s.getTimezoneOffset();switch(l){case"x":return Z0(a);case"xxxx":case"xx":return Es(a);default:return Es(a,":")}},O:function(s,l,r){const a=s.getTimezoneOffset();switch(l){case"O":case"OO":case"OOO":return"GMT"+W0(a,":");default:return"GMT"+Es(a,":")}},z:function(s,l,r){const a=s.getTimezoneOffset();switch(l){case"z":case"zz":case"zzz":return"GMT"+W0(a,":");default:return"GMT"+Es(a,":")}},t:function(s,l,r){const a=Math.trunc(+s/1e3);return pt(a,l.length)},T:function(s,l,r){return pt(+s,l.length)}};function W0(s,l=""){const r=s>0?"-":"+",a=Math.abs(s),o=Math.trunc(a/60),u=a%60;return u===0?r+String(o):r+String(o)+l+pt(u,2)}function Z0(s,l){return s%60===0?(s>0?"-":"+")+pt(Math.abs(s)/60,2):Es(s,l)}function Es(s,l=""){const r=s>0?"-":"+",a=Math.abs(s),o=pt(Math.trunc(a/60),2),u=pt(a%60,2);return r+o+l+u}const J0=(s,l)=>{switch(s){case"P":return l.date({width:"short"});case"PP":return l.date({width:"medium"});case"PPP":return l.date({width:"long"});default:return l.date({width:"full"})}},Wy=(s,l)=>{switch(s){case"p":return l.time({width:"short"});case"pp":return l.time({width:"medium"});case"ppp":return l.time({width:"long"});default:return l.time({width:"full"})}},Rk=(s,l)=>{const r=s.match(/(P+)(p+)?/)||[],a=r[1],o=r[2];if(!o)return J0(s,l);let u;switch(a){case"P":u=l.dateTime({width:"short"});break;case"PP":u=l.dateTime({width:"medium"});break;case"PPP":u=l.dateTime({width:"long"});break;default:u=l.dateTime({width:"full"});break}return u.replace("{{date}}",J0(a,l)).replace("{{time}}",Wy(o,l))},Bf={p:Wy,P:Rk},Lk=/^D+$/,Ik=/^Y+$/,Pk=["D","DD","YY","YYYY"];function zk(s){return Lk.test(s)}function Fk(s){return Ik.test(s)}function Bk(s,l,r){const a=Hk(s,l,r);if(console.warn(a),Pk.includes(s))throw new RangeError(a)}function Hk(s,l,r){const a=s[0]==="Y"?"years":"days of the month";return`Use \`${s.toLowerCase()}\` instead of \`${s}\` (in \`${l}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Yk=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qk=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Uk=/^'([^]*?)'?$/,$k=/''/g,Vk=/[a-zA-Z]/;function eb(s,l,r){const a=qs(),o=r?.locale??a.locale??Ky,u=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,d=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,m=Re(s,r?.in);if(!Fl(m))throw new RangeError("Invalid time value");let x=l.match(qk).map(v=>{const b=v[0];if(b==="p"||b==="P"){const g=Bf[b];return g(v,o.formatLong)}return v}).join("").match(Yk).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const b=v[0];if(b==="'")return{isToken:!1,value:Gk(v)};if(X0[b])return{isToken:!0,value:v};if(b.match(Vk))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:v}});o.localize.preprocessor&&(x=o.localize.preprocessor(m,x));const p={firstWeekContainsDate:u,weekStartsOn:d,locale:o};return x.map(v=>{if(!v.isToken)return v.value;const b=v.value;(!r?.useAdditionalWeekYearTokens&&Fk(b)||!r?.useAdditionalDayOfYearTokens&&zk(b))&&Bk(b,l,String(s));const g=X0[b[0]];return g(m,b,o.localize,p)}).join("")}function Gk(s){const l=s.match(Uk);return l?l[1].replace($k,"'"):s}function tb(s,l){return Re(s,l?.in).getDate()}function Qk(s,l){return Re(s,l?.in).getDay()}function Kk(s,l){const r=Re(s,l?.in),a=r.getFullYear(),o=r.getMonth(),u=xt(r,0);return u.setFullYear(a,o+1,0),u.setHours(0,0,0,0),u.getDate()}function Xk(){return Object.assign({},qs())}function pa(s,l){return Re(s,l?.in).getHours()}function Wk(s,l){const r=Re(s,l?.in).getDay();return r===0?7:r}function xa(s,l){return Re(s,l?.in).getMinutes()}function Ra(s,l){return Re(s,l?.in).getMonth()}function ts(s){return Re(s).getSeconds()}function Hf(s){return+Re(s)}function We(s,l){return Re(s,l?.in).getFullYear()}function vr(s,l){return+Re(s)>+Re(l)}function On(s,l){return+Re(s)<+Re(l)}function Zk(s,l){return+Re(s)==+Re(l)}function Jk(s,l){const r=eD(l)?new l(0):xt(l,0);return r.setFullYear(s.getFullYear(),s.getMonth(),s.getDate()),r.setHours(s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()),r}function eD(s){return typeof s=="function"&&s.prototype?.constructor===s}const tD=10;class Zy{subPriority=0;validate(l,r){return!0}}class aD extends Zy{constructor(l,r,a,o,u){super(),this.value=l,this.validateValue=r,this.setValue=a,this.priority=o,u&&(this.subPriority=u)}validate(l,r){return this.validateValue(l,this.value,r)}set(l,r,a){return this.setValue(l,r,this.value,a)}}class nD extends Zy{priority=tD;subPriority=-1;constructor(l,r){super(),this.context=l||(a=>xt(r,a))}set(l,r){return r.timestampIsSet?l:xt(l,Jk(l,this.context))}}class ut{run(l,r,a,o){const u=this.parse(l,r,a,o);return u?{setter:new aD(u.value,this.validate,this.set,this.priority,this.subPriority),rest:u.rest}:null}validate(l,r,a){return!0}}class rD extends ut{priority=140;parse(l,r,a){switch(r){case"G":case"GG":case"GGG":return a.era(l,{width:"abbreviated"})||a.era(l,{width:"narrow"});case"GGGGG":return a.era(l,{width:"narrow"});default:return a.era(l,{width:"wide"})||a.era(l,{width:"abbreviated"})||a.era(l,{width:"narrow"})}}set(l,r,a){return r.era=a,l.setFullYear(a,0,1),l.setHours(0,0,0,0),l}incompatibleTokens=["R","u","t","T"]}const Bt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Tn={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ht(s,l){return s&&{value:l(s.value),rest:s.rest}}function Ot(s,l){const r=l.match(s);return r?{value:parseInt(r[0],10),rest:l.slice(r[0].length)}:null}function _n(s,l){const r=l.match(s);if(!r)return null;if(r[0]==="Z")return{value:0,rest:l.slice(1)};const a=r[1]==="+"?1:-1,o=r[2]?parseInt(r[2],10):0,u=r[3]?parseInt(r[3],10):0,d=r[5]?parseInt(r[5],10):0;return{value:a*(o*Bu+u*Fu+d*VC),rest:l.slice(r[0].length)}}function Jy(s){return Ot(Bt.anyDigitsSigned,s)}function Pt(s,l){switch(s){case 1:return Ot(Bt.singleDigit,l);case 2:return Ot(Bt.twoDigits,l);case 3:return Ot(Bt.threeDigits,l);case 4:return Ot(Bt.fourDigits,l);default:return Ot(new RegExp("^\\d{1,"+s+"}"),l)}}function Su(s,l){switch(s){case 1:return Ot(Bt.singleDigitSigned,l);case 2:return Ot(Bt.twoDigitsSigned,l);case 3:return Ot(Bt.threeDigitsSigned,l);case 4:return Ot(Bt.fourDigitsSigned,l);default:return Ot(new RegExp("^-?\\d{1,"+s+"}"),l)}}function hp(s){switch(s){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function e1(s,l){const r=l>0,a=r?l:1-l;let o;if(a<=50)o=s||100;else{const u=a+50,d=Math.trunc(u/100)*100,m=s>=u%100;o=s+d-(m?100:0)}return r?o:1-o}function t1(s){return s%400===0||s%4===0&&s%100!==0}class sD extends ut{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(l,r,a){const o=u=>({year:u,isTwoDigitYear:r==="yy"});switch(r){case"y":return Ht(Pt(4,l),o);case"yo":return Ht(a.ordinalNumber(l,{unit:"year"}),o);default:return Ht(Pt(r.length,l),o)}}validate(l,r){return r.isTwoDigitYear||r.year>0}set(l,r,a){const o=l.getFullYear();if(a.isTwoDigitYear){const d=e1(a.year,o);return l.setFullYear(d,0,1),l.setHours(0,0,0,0),l}const u=!("era"in r)||r.era===1?a.year:1-a.year;return l.setFullYear(u,0,1),l.setHours(0,0,0,0),l}}class lD extends ut{priority=130;parse(l,r,a){const o=u=>({year:u,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Ht(Pt(4,l),o);case"Yo":return Ht(a.ordinalNumber(l,{unit:"year"}),o);default:return Ht(Pt(r.length,l),o)}}validate(l,r){return r.isTwoDigitYear||r.year>0}set(l,r,a,o){const u=xp(l,o);if(a.isTwoDigitYear){const m=e1(a.year,u);return l.setFullYear(m,0,o.firstWeekContainsDate),l.setHours(0,0,0,0),yr(l,o)}const d=!("era"in r)||r.era===1?a.year:1-a.year;return l.setFullYear(d,0,o.firstWeekContainsDate),l.setHours(0,0,0,0),yr(l,o)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class iD extends ut{priority=130;parse(l,r){return Su(r==="R"?4:r.length,l)}set(l,r,a){const o=xt(l,0);return o.setFullYear(a,0,4),o.setHours(0,0,0,0),Pl(o)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class oD extends ut{priority=130;parse(l,r){return Su(r==="u"?4:r.length,l)}set(l,r,a){return l.setFullYear(a,0,1),l.setHours(0,0,0,0),l}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class cD extends ut{priority=120;parse(l,r,a){switch(r){case"Q":case"QQ":return Pt(r.length,l);case"Qo":return a.ordinalNumber(l,{unit:"quarter"});case"QQQ":return a.quarter(l,{width:"abbreviated",context:"formatting"})||a.quarter(l,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(l,{width:"narrow",context:"formatting"});default:return a.quarter(l,{width:"wide",context:"formatting"})||a.quarter(l,{width:"abbreviated",context:"formatting"})||a.quarter(l,{width:"narrow",context:"formatting"})}}validate(l,r){return r>=1&&r<=4}set(l,r,a){return l.setMonth((a-1)*3,1),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class uD extends ut{priority=120;parse(l,r,a){switch(r){case"q":case"qq":return Pt(r.length,l);case"qo":return a.ordinalNumber(l,{unit:"quarter"});case"qqq":return a.quarter(l,{width:"abbreviated",context:"standalone"})||a.quarter(l,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(l,{width:"narrow",context:"standalone"});default:return a.quarter(l,{width:"wide",context:"standalone"})||a.quarter(l,{width:"abbreviated",context:"standalone"})||a.quarter(l,{width:"narrow",context:"standalone"})}}validate(l,r){return r>=1&&r<=4}set(l,r,a){return l.setMonth((a-1)*3,1),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class dD extends ut{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(l,r,a){const o=u=>u-1;switch(r){case"M":return Ht(Ot(Bt.month,l),o);case"MM":return Ht(Pt(2,l),o);case"Mo":return Ht(a.ordinalNumber(l,{unit:"month"}),o);case"MMM":return a.month(l,{width:"abbreviated",context:"formatting"})||a.month(l,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(l,{width:"narrow",context:"formatting"});default:return a.month(l,{width:"wide",context:"formatting"})||a.month(l,{width:"abbreviated",context:"formatting"})||a.month(l,{width:"narrow",context:"formatting"})}}validate(l,r){return r>=0&&r<=11}set(l,r,a){return l.setMonth(a,1),l.setHours(0,0,0,0),l}}class mD extends ut{priority=110;parse(l,r,a){const o=u=>u-1;switch(r){case"L":return Ht(Ot(Bt.month,l),o);case"LL":return Ht(Pt(2,l),o);case"Lo":return Ht(a.ordinalNumber(l,{unit:"month"}),o);case"LLL":return a.month(l,{width:"abbreviated",context:"standalone"})||a.month(l,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(l,{width:"narrow",context:"standalone"});default:return a.month(l,{width:"wide",context:"standalone"})||a.month(l,{width:"abbreviated",context:"standalone"})||a.month(l,{width:"narrow",context:"standalone"})}}validate(l,r){return r>=0&&r<=11}set(l,r,a){return l.setMonth(a,1),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function fD(s,l,r){const a=Re(s,r?.in),o=Xy(a,r)-l;return a.setDate(a.getDate()-o*7),Re(a,r?.in)}class pD extends ut{priority=100;parse(l,r,a){switch(r){case"w":return Ot(Bt.week,l);case"wo":return a.ordinalNumber(l,{unit:"week"});default:return Pt(r.length,l)}}validate(l,r){return r>=1&&r<=53}set(l,r,a,o){return yr(fD(l,a,o),o)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function xD(s,l,r){const a=Re(s,r?.in),o=pp(a,r)-l;return a.setDate(a.getDate()-o*7),a}class hD extends ut{priority=100;parse(l,r,a){switch(r){case"I":return Ot(Bt.week,l);case"Io":return a.ordinalNumber(l,{unit:"week"});default:return Pt(r.length,l)}}validate(l,r){return r>=1&&r<=53}set(l,r,a){return Pl(xD(l,a))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const vD=[31,28,31,30,31,30,31,31,30,31,30,31],bD=[31,29,31,30,31,30,31,31,30,31,30,31];class gD extends ut{priority=90;subPriority=1;parse(l,r,a){switch(r){case"d":return Ot(Bt.date,l);case"do":return a.ordinalNumber(l,{unit:"date"});default:return Pt(r.length,l)}}validate(l,r){const a=l.getFullYear(),o=t1(a),u=l.getMonth();return o?r>=1&&r<=bD[u]:r>=1&&r<=vD[u]}set(l,r,a){return l.setDate(a),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class yD extends ut{priority=90;subpriority=1;parse(l,r,a){switch(r){case"D":case"DD":return Ot(Bt.dayOfYear,l);case"Do":return a.ordinalNumber(l,{unit:"date"});default:return Pt(r.length,l)}}validate(l,r){const a=l.getFullYear();return t1(a)?r>=1&&r<=366:r>=1&&r<=365}set(l,r,a){return l.setMonth(0,a),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function vp(s,l,r){const a=qs(),o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,u=Re(s,r?.in),d=u.getDay(),x=(l%7+7)%7,p=7-o,v=l<0||l>6?l-(d+p)%7:(x+p)%7-(d+p)%7;return vn(u,v,r)}class ND extends ut{priority=90;parse(l,r,a){switch(r){case"E":case"EE":case"EEE":return a.day(l,{width:"abbreviated",context:"formatting"})||a.day(l,{width:"short",context:"formatting"})||a.day(l,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(l,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(l,{width:"short",context:"formatting"})||a.day(l,{width:"narrow",context:"formatting"});default:return a.day(l,{width:"wide",context:"formatting"})||a.day(l,{width:"abbreviated",context:"formatting"})||a.day(l,{width:"short",context:"formatting"})||a.day(l,{width:"narrow",context:"formatting"})}}validate(l,r){return r>=0&&r<=6}set(l,r,a,o){return l=vp(l,a,o),l.setHours(0,0,0,0),l}incompatibleTokens=["D","i","e","c","t","T"]}class jD extends ut{priority=90;parse(l,r,a,o){const u=d=>{const m=Math.floor((d-1)/7)*7;return(d+o.weekStartsOn+6)%7+m};switch(r){case"e":case"ee":return Ht(Pt(r.length,l),u);case"eo":return Ht(a.ordinalNumber(l,{unit:"day"}),u);case"eee":return a.day(l,{width:"abbreviated",context:"formatting"})||a.day(l,{width:"short",context:"formatting"})||a.day(l,{width:"narrow",context:"formatting"});case"eeeee":return a.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(l,{width:"short",context:"formatting"})||a.day(l,{width:"narrow",context:"formatting"});default:return a.day(l,{width:"wide",context:"formatting"})||a.day(l,{width:"abbreviated",context:"formatting"})||a.day(l,{width:"short",context:"formatting"})||a.day(l,{width:"narrow",context:"formatting"})}}validate(l,r){return r>=0&&r<=6}set(l,r,a,o){return l=vp(l,a,o),l.setHours(0,0,0,0),l}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class wD extends ut{priority=90;parse(l,r,a,o){const u=d=>{const m=Math.floor((d-1)/7)*7;return(d+o.weekStartsOn+6)%7+m};switch(r){case"c":case"cc":return Ht(Pt(r.length,l),u);case"co":return Ht(a.ordinalNumber(l,{unit:"day"}),u);case"ccc":return a.day(l,{width:"abbreviated",context:"standalone"})||a.day(l,{width:"short",context:"standalone"})||a.day(l,{width:"narrow",context:"standalone"});case"ccccc":return a.day(l,{width:"narrow",context:"standalone"});case"cccccc":return a.day(l,{width:"short",context:"standalone"})||a.day(l,{width:"narrow",context:"standalone"});default:return a.day(l,{width:"wide",context:"standalone"})||a.day(l,{width:"abbreviated",context:"standalone"})||a.day(l,{width:"short",context:"standalone"})||a.day(l,{width:"narrow",context:"standalone"})}}validate(l,r){return r>=0&&r<=6}set(l,r,a,o){return l=vp(l,a,o),l.setHours(0,0,0,0),l}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function SD(s,l,r){const a=Re(s,r?.in),o=Wk(a,r),u=l-o;return vn(a,u,r)}class CD extends ut{priority=90;parse(l,r,a){const o=u=>u===0?7:u;switch(r){case"i":case"ii":return Pt(r.length,l);case"io":return a.ordinalNumber(l,{unit:"day"});case"iii":return Ht(a.day(l,{width:"abbreviated",context:"formatting"})||a.day(l,{width:"short",context:"formatting"})||a.day(l,{width:"narrow",context:"formatting"}),o);case"iiiii":return Ht(a.day(l,{width:"narrow",context:"formatting"}),o);case"iiiiii":return Ht(a.day(l,{width:"short",context:"formatting"})||a.day(l,{width:"narrow",context:"formatting"}),o);default:return Ht(a.day(l,{width:"wide",context:"formatting"})||a.day(l,{width:"abbreviated",context:"formatting"})||a.day(l,{width:"short",context:"formatting"})||a.day(l,{width:"narrow",context:"formatting"}),o)}}validate(l,r){return r>=1&&r<=7}set(l,r,a){return l=SD(l,a),l.setHours(0,0,0,0),l}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class kD extends ut{priority=80;parse(l,r,a){switch(r){case"a":case"aa":case"aaa":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"})||a.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(l,{width:"narrow",context:"formatting"});default:return a.dayPeriod(l,{width:"wide",context:"formatting"})||a.dayPeriod(l,{width:"abbreviated",context:"formatting"})||a.dayPeriod(l,{width:"narrow",context:"formatting"})}}set(l,r,a){return l.setHours(hp(a),0,0,0),l}incompatibleTokens=["b","B","H","k","t","T"]}class DD extends ut{priority=80;parse(l,r,a){switch(r){case"b":case"bb":case"bbb":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"})||a.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(l,{width:"narrow",context:"formatting"});default:return a.dayPeriod(l,{width:"wide",context:"formatting"})||a.dayPeriod(l,{width:"abbreviated",context:"formatting"})||a.dayPeriod(l,{width:"narrow",context:"formatting"})}}set(l,r,a){return l.setHours(hp(a),0,0,0),l}incompatibleTokens=["a","B","H","k","t","T"]}class MD extends ut{priority=80;parse(l,r,a){switch(r){case"B":case"BB":case"BBB":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"})||a.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(l,{width:"narrow",context:"formatting"});default:return a.dayPeriod(l,{width:"wide",context:"formatting"})||a.dayPeriod(l,{width:"abbreviated",context:"formatting"})||a.dayPeriod(l,{width:"narrow",context:"formatting"})}}set(l,r,a){return l.setHours(hp(a),0,0,0),l}incompatibleTokens=["a","b","t","T"]}class AD extends ut{priority=70;parse(l,r,a){switch(r){case"h":return Ot(Bt.hour12h,l);case"ho":return a.ordinalNumber(l,{unit:"hour"});default:return Pt(r.length,l)}}validate(l,r){return r>=1&&r<=12}set(l,r,a){const o=l.getHours()>=12;return o&&a<12?l.setHours(a+12,0,0,0):!o&&a===12?l.setHours(0,0,0,0):l.setHours(a,0,0,0),l}incompatibleTokens=["H","K","k","t","T"]}class ED extends ut{priority=70;parse(l,r,a){switch(r){case"H":return Ot(Bt.hour23h,l);case"Ho":return a.ordinalNumber(l,{unit:"hour"});default:return Pt(r.length,l)}}validate(l,r){return r>=0&&r<=23}set(l,r,a){return l.setHours(a,0,0,0),l}incompatibleTokens=["a","b","h","K","k","t","T"]}class TD extends ut{priority=70;parse(l,r,a){switch(r){case"K":return Ot(Bt.hour11h,l);case"Ko":return a.ordinalNumber(l,{unit:"hour"});default:return Pt(r.length,l)}}validate(l,r){return r>=0&&r<=11}set(l,r,a){return l.getHours()>=12&&a<12?l.setHours(a+12,0,0,0):l.setHours(a,0,0,0),l}incompatibleTokens=["h","H","k","t","T"]}class _D extends ut{priority=70;parse(l,r,a){switch(r){case"k":return Ot(Bt.hour24h,l);case"ko":return a.ordinalNumber(l,{unit:"hour"});default:return Pt(r.length,l)}}validate(l,r){return r>=1&&r<=24}set(l,r,a){const o=a<=24?a%24:a;return l.setHours(o,0,0,0),l}incompatibleTokens=["a","b","h","H","K","t","T"]}class OD extends ut{priority=60;parse(l,r,a){switch(r){case"m":return Ot(Bt.minute,l);case"mo":return a.ordinalNumber(l,{unit:"minute"});default:return Pt(r.length,l)}}validate(l,r){return r>=0&&r<=59}set(l,r,a){return l.setMinutes(a,0,0),l}incompatibleTokens=["t","T"]}class RD extends ut{priority=50;parse(l,r,a){switch(r){case"s":return Ot(Bt.second,l);case"so":return a.ordinalNumber(l,{unit:"second"});default:return Pt(r.length,l)}}validate(l,r){return r>=0&&r<=59}set(l,r,a){return l.setSeconds(a,0),l}incompatibleTokens=["t","T"]}class LD extends ut{priority=30;parse(l,r){const a=o=>Math.trunc(o*Math.pow(10,-r.length+3));return Ht(Pt(r.length,l),a)}set(l,r,a){return l.setMilliseconds(a),l}incompatibleTokens=["t","T"]}class ID extends ut{priority=10;parse(l,r){switch(r){case"X":return _n(Tn.basicOptionalMinutes,l);case"XX":return _n(Tn.basic,l);case"XXXX":return _n(Tn.basicOptionalSeconds,l);case"XXXXX":return _n(Tn.extendedOptionalSeconds,l);default:return _n(Tn.extended,l)}}set(l,r,a){return r.timestampIsSet?l:xt(l,l.getTime()-gu(l)-a)}incompatibleTokens=["t","T","x"]}class PD extends ut{priority=10;parse(l,r){switch(r){case"x":return _n(Tn.basicOptionalMinutes,l);case"xx":return _n(Tn.basic,l);case"xxxx":return _n(Tn.basicOptionalSeconds,l);case"xxxxx":return _n(Tn.extendedOptionalSeconds,l);default:return _n(Tn.extended,l)}}set(l,r,a){return r.timestampIsSet?l:xt(l,l.getTime()-gu(l)-a)}incompatibleTokens=["t","T","X"]}class zD extends ut{priority=40;parse(l){return Jy(l)}set(l,r,a){return[xt(l,a*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class FD extends ut{priority=20;parse(l){return Jy(l)}set(l,r,a){return[xt(l,a),{timestampIsSet:!0}]}incompatibleTokens="*"}const BD={G:new rD,y:new sD,Y:new lD,R:new iD,u:new oD,Q:new cD,q:new uD,M:new dD,L:new mD,w:new pD,I:new hD,d:new gD,D:new yD,E:new ND,e:new jD,c:new wD,i:new CD,a:new kD,b:new DD,B:new MD,h:new AD,H:new ED,K:new TD,k:new _D,m:new OD,s:new RD,S:new LD,X:new ID,x:new PD,t:new zD,T:new FD},HD=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,YD=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qD=/^'([^]*?)'?$/,UD=/''/g,$D=/\S/,VD=/[a-zA-Z]/;function GD(s,l,r,a){const o=()=>xt(a?.in||r,NaN),u=Xk(),d=a?.locale??u.locale??Ky,m=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??u.firstWeekContainsDate??u.locale?.options?.firstWeekContainsDate??1,x=a?.weekStartsOn??a?.locale?.options?.weekStartsOn??u.weekStartsOn??u.locale?.options?.weekStartsOn??0;if(!l)return s?o():Re(r,a?.in);const p={firstWeekContainsDate:m,weekStartsOn:x,locale:d},v=[new nD(a?.in,r)],b=l.match(YD).map(y=>{const j=y[0];if(j in Bf){const D=Bf[j];return D(y,d.formatLong)}return y}).join("").match(HD),g=[];for(let y of b){const j=y[0],D=BD[j];if(D){const{incompatibleTokens:k}=D;if(Array.isArray(k)){const O=g.find(q=>k.includes(q.token)||q.token===j);if(O)throw new RangeError(`The format string mustn't contain \`${O.fullToken}\` and \`${y}\` at the same time`)}else if(D.incompatibleTokens==="*"&&g.length>0)throw new RangeError(`The format string mustn't contain \`${y}\` and any other token at the same time`);g.push({token:j,fullToken:y});const _=D.run(s,y,d.match,p);if(!_)return o();v.push(_.setter),s=_.rest}else{if(j.match(VD))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");if(y==="''"?y="'":j==="'"&&(y=QD(y)),s.indexOf(y)===0)s=s.slice(y.length);else return o()}}if(s.length>0&&$D.test(s))return o();const w=v.map(y=>y.priority).sort((y,j)=>j-y).filter((y,j,D)=>D.indexOf(y)===j).map(y=>v.filter(j=>j.priority===y).sort((j,D)=>D.subPriority-j.subPriority)).map(y=>y[0]);let M=Re(r,a?.in);if(isNaN(+M))return o();const S={};for(const y of w){if(!y.validate(M,p))return o();const j=y.set(M,S,p);Array.isArray(j)?(M=j[0],Object.assign(S,j[1])):M=j}return M}function QD(s){return s.match(qD)[1].replace(UD,"'")}function KD(s,l,r){const[a,o]=jr(r?.in,s,l);return a.getFullYear()===o.getFullYear()&&a.getMonth()===o.getMonth()}function XD(s,l,r){const[a,o]=jr(r?.in,s,l);return+Ff(a)==+Ff(o)}function WD(s,l,r){const[a,o]=jr(r?.in,s,l);return a.getFullYear()===o.getFullYear()}function io(s,l,r){const a=+Re(s,r?.in),[o,u]=[+Re(l.start,r?.in),+Re(l.end,r?.in)].sort((d,m)=>d-m);return a>=o&&a<=u}function ZD(s,l,r){return vn(s,-1,r)}function JD(s,l){const r=()=>xt(l?.in,NaN),o=nM(s);let u;if(o.date){const p=rM(o.date,2);u=sM(p.restDateString,p.year)}if(!u||isNaN(+u))return r();const d=+u;let m=0,x;if(o.time&&(m=lM(o.time),isNaN(m)))return r();if(o.timezone){if(x=iM(o.timezone),isNaN(x))return r()}else{const p=new Date(d+m),v=Re(0,l?.in);return v.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),v.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),v}return Re(d+m+x,l?.in)}const Lc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},eM=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,tM=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,aM=/^([+-])(\d{2})(?::?(\d{2}))?$/;function nM(s){const l={},r=s.split(Lc.dateTimeDelimiter);let a;if(r.length>2)return l;if(/:/.test(r[0])?a=r[0]:(l.date=r[0],a=r[1],Lc.timeZoneDelimiter.test(l.date)&&(l.date=s.split(Lc.timeZoneDelimiter)[0],a=s.substr(l.date.length,s.length))),a){const o=Lc.timezone.exec(a);o?(l.time=a.replace(o[1],""),l.timezone=o[1]):l.time=a}return l}function rM(s,l){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+l)+"})|(\\d{2}|[+-]\\d{"+(2+l)+"})$)"),a=s.match(r);if(!a)return{year:NaN,restDateString:""};const o=a[1]?parseInt(a[1]):null,u=a[2]?parseInt(a[2]):null;return{year:u===null?o:u*100,restDateString:s.slice((a[1]||a[2]).length)}}function sM(s,l){if(l===null)return new Date(NaN);const r=s.match(eM);if(!r)return new Date(NaN);const a=!!r[4],o=Gi(r[1]),u=Gi(r[2])-1,d=Gi(r[3]),m=Gi(r[4]),x=Gi(r[5])-1;if(a)return mM(l,m,x)?oM(l,m,x):new Date(NaN);{const p=new Date(0);return!uM(l,u,d)||!dM(l,o)?new Date(NaN):(p.setUTCFullYear(l,u,Math.max(o,d)),p)}}function Gi(s){return s?parseInt(s):1}function lM(s){const l=s.match(tM);if(!l)return NaN;const r=vf(l[1]),a=vf(l[2]),o=vf(l[3]);return fM(r,a,o)?r*Bu+a*Fu+o*1e3:NaN}function vf(s){return s&&parseFloat(s.replace(",","."))||0}function iM(s){if(s==="Z")return 0;const l=s.match(aM);if(!l)return 0;const r=l[1]==="+"?-1:1,a=parseInt(l[2]),o=l[3]&&parseInt(l[3])||0;return pM(a,o)?r*(a*Bu+o*Fu):NaN}function oM(s,l,r){const a=new Date(0);a.setUTCFullYear(s,0,4);const o=a.getUTCDay()||7,u=(l-1)*7+r+1-o;return a.setUTCDate(a.getUTCDate()+u),a}const cM=[31,null,31,30,31,30,31,31,30,31,30,31];function a1(s){return s%400===0||s%4===0&&s%100!==0}function uM(s,l,r){return l>=0&&l<=11&&r>=1&&r<=(cM[l]||(a1(s)?29:28))}function dM(s,l){return l>=1&&l<=(a1(s)?366:365)}function mM(s,l,r){return l>=1&&l<=53&&r>=0&&r<=6}function fM(s,l,r){return s===24?l===0&&r===0:r>=0&&r<60&&l>=0&&l<60&&s>=0&&s<25}function pM(s,l){return l>=0&&l<=59}function $a(s,l,r){const a=Re(s,r?.in),o=a.getFullYear(),u=a.getDate(),d=xt(s,0);d.setFullYear(o,l,15),d.setHours(0,0,0,0);const m=Kk(d);return a.setMonth(l,Math.min(u,m)),a}function iu(s,l,r){const a=Re(s,r?.in);return a.setHours(l),a}function ou(s,l,r){const a=Re(s,r?.in);return a.setMinutes(l),a}function Al(s,l,r){const a=Re(s,r?.in),o=Math.trunc(a.getMonth()/3)+1,u=l-o;return $a(a,a.getMonth()+u*3)}function cu(s,l,r){const a=Re(s,r?.in);return a.setSeconds(l),a}function An(s,l,r){const a=Re(s,r?.in);return isNaN(+a)?xt(s,NaN):(a.setFullYear(l),a)}function Ps(s,l,r){return yn(s,-l,r)}function n1(s,l,r){return fp(s,-1,r)}function ab(s,l,r){return yu(s,-1,r)}function rs(s,l,r){return bn(s,-l,r)}function Yu(){return typeof window<"u"}function Xl(s){return r1(s)?(s.nodeName||"").toLowerCase():"#document"}function Ga(s){var l;return(s==null||(l=s.ownerDocument)==null?void 0:l.defaultView)||window}function Un(s){var l;return(l=(r1(s)?s.ownerDocument:s.document)||window.document)==null?void 0:l.documentElement}function r1(s){return Yu()?s instanceof Node||s instanceof Ga(s).Node:!1}function ga(s){return Yu()?s instanceof Element||s instanceof Ga(s).Element:!1}function Bn(s){return Yu()?s instanceof HTMLElement||s instanceof Ga(s).HTMLElement:!1}function nb(s){return!Yu()||typeof ShadowRoot>"u"?!1:s instanceof ShadowRoot||s instanceof Ga(s).ShadowRoot}const xM=new Set(["inline","contents"]);function po(s){const{overflow:l,overflowX:r,overflowY:a,display:o}=cn(s);return/auto|scroll|overlay|hidden|clip/.test(l+a+r)&&!xM.has(o)}const hM=new Set(["table","td","th"]);function vM(s){return hM.has(Xl(s))}const bM=[":popover-open",":modal"];function qu(s){return bM.some(l=>{try{return s.matches(l)}catch{return!1}})}const gM=["transform","translate","scale","rotate","perspective"],yM=["transform","translate","scale","rotate","perspective","filter"],NM=["paint","layout","strict","content"];function bp(s){const l=gp(),r=ga(s)?cn(s):s;return gM.some(a=>r[a]?r[a]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!l&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!l&&(r.filter?r.filter!=="none":!1)||yM.some(a=>(r.willChange||"").includes(a))||NM.some(a=>(r.contain||"").includes(a))}function jM(s){let l=ss(s);for(;Bn(l)&&!Bl(l);){if(bp(l))return l;if(qu(l))return null;l=ss(l)}return null}function gp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const wM=new Set(["html","body","#document"]);function Bl(s){return wM.has(Xl(s))}function cn(s){return Ga(s).getComputedStyle(s)}function Uu(s){return ga(s)?{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}:{scrollLeft:s.scrollX,scrollTop:s.scrollY}}function ss(s){if(Xl(s)==="html")return s;const l=s.assignedSlot||s.parentNode||nb(s)&&s.host||Un(s);return nb(l)?l.host:l}function s1(s){const l=ss(s);return Bl(l)?s.ownerDocument?s.ownerDocument.body:s.body:Bn(l)&&po(l)?l:s1(l)}function oo(s,l,r){var a;l===void 0&&(l=[]),r===void 0&&(r=!0);const o=s1(s),u=o===((a=s.ownerDocument)==null?void 0:a.body),d=Ga(o);if(u){const m=Yf(d);return l.concat(d,d.visualViewport||[],po(o)?o:[],m&&r?oo(m):[])}return l.concat(o,oo(o,[],r))}function Yf(s){return s.parent&&Object.getPrototypeOf(s.parent)?s.frameElement:null}const Hl=Math.min,zs=Math.max,Cu=Math.round,Ic=Math.floor,zn=s=>({x:s,y:s}),SM={left:"right",right:"left",bottom:"top",top:"bottom"},CM={start:"end",end:"start"};function kM(s,l,r){return zs(s,Hl(l,r))}function $u(s,l){return typeof s=="function"?s(l):s}function Yl(s){return s.split("-")[0]}function xo(s){return s.split("-")[1]}function DM(s){return s==="x"?"y":"x"}function yp(s){return s==="y"?"height":"width"}const MM=new Set(["top","bottom"]);function Rs(s){return MM.has(Yl(s))?"y":"x"}function Np(s){return DM(Rs(s))}function AM(s,l,r){r===void 0&&(r=!1);const a=xo(s),o=Np(s),u=yp(o);let d=o==="x"?a===(r?"end":"start")?"right":"left":a==="start"?"bottom":"top";return l.reference[u]>l.floating[u]&&(d=ku(d)),[d,ku(d)]}function EM(s){const l=ku(s);return[qf(s),l,qf(l)]}function qf(s){return s.replace(/start|end/g,l=>CM[l])}const rb=["left","right"],sb=["right","left"],TM=["top","bottom"],_M=["bottom","top"];function OM(s,l,r){switch(s){case"top":case"bottom":return r?l?sb:rb:l?rb:sb;case"left":case"right":return l?TM:_M;default:return[]}}function RM(s,l,r,a){const o=xo(s);let u=OM(Yl(s),r==="start",a);return o&&(u=u.map(d=>d+"-"+o),l&&(u=u.concat(u.map(qf)))),u}function ku(s){return s.replace(/left|right|bottom|top/g,l=>SM[l])}function LM(s){return{top:0,right:0,bottom:0,left:0,...s}}function l1(s){return typeof s!="number"?LM(s):{top:s,right:s,bottom:s,left:s}}function Du(s){const{x:l,y:r,width:a,height:o}=s;return{width:a,height:o,top:r,left:l,right:l+a,bottom:r+o,x:l,y:r}}var IM=typeof document<"u",PM=function(){},Mu=IM?N.useLayoutEffect:PM;const zM={...hg},FM=zM.useInsertionEffect,BM=FM||(s=>s());function HM(s){const l=N.useRef(()=>{});return BM(()=>{l.current=s}),N.useCallback(function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return l.current==null?void 0:l.current(...a)},[])}function lb(s,l,r){let{reference:a,floating:o}=s;const u=Rs(l),d=Np(l),m=yp(d),x=Yl(l),p=u==="y",v=a.x+a.width/2-o.width/2,b=a.y+a.height/2-o.height/2,g=a[m]/2-o[m]/2;let w;switch(x){case"top":w={x:v,y:a.y-o.height};break;case"bottom":w={x:v,y:a.y+a.height};break;case"right":w={x:a.x+a.width,y:b};break;case"left":w={x:a.x-o.width,y:b};break;default:w={x:a.x,y:a.y}}switch(xo(l)){case"start":w[d]-=g*(r&&p?-1:1);break;case"end":w[d]+=g*(r&&p?-1:1);break}return w}async function YM(s,l){var r;l===void 0&&(l={});const{x:a,y:o,platform:u,rects:d,elements:m,strategy:x}=s,{boundary:p="clippingAncestors",rootBoundary:v="viewport",elementContext:b="floating",altBoundary:g=!1,padding:w=0}=$u(l,s),M=l1(w),y=m[g?b==="floating"?"reference":"floating":b],j=Du(await u.getClippingRect({element:(r=await(u.isElement==null?void 0:u.isElement(y)))==null||r?y:y.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(m.floating)),boundary:p,rootBoundary:v,strategy:x})),D=b==="floating"?{x:a,y:o,width:d.floating.width,height:d.floating.height}:d.reference,k=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m.floating)),_=await(u.isElement==null?void 0:u.isElement(k))?await(u.getScale==null?void 0:u.getScale(k))||{x:1,y:1}:{x:1,y:1},O=Du(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:m,rect:D,offsetParent:k,strategy:x}):D);return{top:(j.top-O.top+M.top)/_.y,bottom:(O.bottom-j.bottom+M.bottom)/_.y,left:(j.left-O.left+M.left)/_.x,right:(O.right-j.right+M.right)/_.x}}const qM=async(s,l,r)=>{const{placement:a="bottom",strategy:o="absolute",middleware:u=[],platform:d}=r,m=u.filter(Boolean),x=await(d.isRTL==null?void 0:d.isRTL(l));let p=await d.getElementRects({reference:s,floating:l,strategy:o}),{x:v,y:b}=lb(p,a,x),g=a,w={},M=0;for(let y=0;y<m.length;y++){var S;const{name:j,fn:D}=m[y],{x:k,y:_,data:O,reset:q}=await D({x:v,y:b,initialPlacement:a,placement:g,strategy:o,middlewareData:w,rects:p,platform:{...d,detectOverflow:(S=d.detectOverflow)!=null?S:YM},elements:{reference:s,floating:l}});v=k??v,b=_??b,w={...w,[j]:{...w[j],...O}},q&&M<=50&&(M++,typeof q=="object"&&(q.placement&&(g=q.placement),q.rects&&(p=q.rects===!0?await d.getElementRects({reference:s,floating:l,strategy:o}):q.rects),{x:v,y:b}=lb(p,g,x)),y=-1)}return{x:v,y:b,placement:g,strategy:o,middlewareData:w}},UM=s=>({name:"arrow",options:s,async fn(l){const{x:r,y:a,placement:o,rects:u,platform:d,elements:m,middlewareData:x}=l,{element:p,padding:v=0}=$u(s,l)||{};if(p==null)return{};const b=l1(v),g={x:r,y:a},w=Np(o),M=yp(w),S=await d.getDimensions(p),y=w==="y",j=y?"top":"left",D=y?"bottom":"right",k=y?"clientHeight":"clientWidth",_=u.reference[M]+u.reference[w]-g[w]-u.floating[M],O=g[w]-u.reference[w],q=await(d.getOffsetParent==null?void 0:d.getOffsetParent(p));let P=q?q[k]:0;(!P||!await(d.isElement==null?void 0:d.isElement(q)))&&(P=m.floating[k]||u.floating[M]);const T=_/2-O/2,F=P/2-S[M]/2-1,I=Hl(b[j],F),$=Hl(b[D],F),A=I,se=P-S[M]-$,ce=P/2-S[M]/2+T,le=kM(A,ce,se),B=!x.arrow&&xo(o)!=null&&ce!==le&&u.reference[M]/2-(ce<A?I:$)-S[M]/2<0,W=B?ce<A?ce-A:ce-se:0;return{[w]:g[w]+W,data:{[w]:le,centerOffset:ce-le-W,...B&&{alignmentOffset:W}},reset:B}}}),$M=function(s){return s===void 0&&(s={}),{name:"flip",options:s,async fn(l){var r,a;const{placement:o,middlewareData:u,rects:d,initialPlacement:m,platform:x,elements:p}=l,{mainAxis:v=!0,crossAxis:b=!0,fallbackPlacements:g,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:M="none",flipAlignment:S=!0,...y}=$u(s,l);if((r=u.arrow)!=null&&r.alignmentOffset)return{};const j=Yl(o),D=Rs(m),k=Yl(m)===m,_=await(x.isRTL==null?void 0:x.isRTL(p.floating)),O=g||(k||!S?[ku(m)]:EM(m)),q=M!=="none";!g&&q&&O.push(...RM(m,S,M,_));const P=[m,...O],T=await x.detectOverflow(l,y),F=[];let I=((a=u.flip)==null?void 0:a.overflows)||[];if(v&&F.push(T[j]),b){const ce=AM(o,d,_);F.push(T[ce[0]],T[ce[1]])}if(I=[...I,{placement:o,overflows:F}],!F.every(ce=>ce<=0)){var $,A;const ce=((($=u.flip)==null?void 0:$.index)||0)+1,le=P[ce];if(le&&(!(b==="alignment"?D!==Rs(le):!1)||I.every(L=>Rs(L.placement)===D?L.overflows[0]>0:!0)))return{data:{index:ce,overflows:I},reset:{placement:le}};let B=(A=I.filter(W=>W.overflows[0]<=0).sort((W,L)=>W.overflows[1]-L.overflows[1])[0])==null?void 0:A.placement;if(!B)switch(w){case"bestFit":{var se;const W=(se=I.filter(L=>{if(q){const re=Rs(L.placement);return re===D||re==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(re=>re>0).reduce((re,he)=>re+he,0)]).sort((L,re)=>L[1]-re[1])[0])==null?void 0:se[0];W&&(B=W);break}case"initialPlacement":B=m;break}if(o!==B)return{reset:{placement:B}}}return{}}}},VM=new Set(["left","top"]);async function GM(s,l){const{placement:r,platform:a,elements:o}=s,u=await(a.isRTL==null?void 0:a.isRTL(o.floating)),d=Yl(r),m=xo(r),x=Rs(r)==="y",p=VM.has(d)?-1:1,v=u&&x?-1:1,b=$u(l,s);let{mainAxis:g,crossAxis:w,alignmentAxis:M}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return m&&typeof M=="number"&&(w=m==="end"?M*-1:M),x?{x:w*v,y:g*p}:{x:g*p,y:w*v}}const QM=function(s){return s===void 0&&(s=0),{name:"offset",options:s,async fn(l){var r,a;const{x:o,y:u,placement:d,middlewareData:m}=l,x=await GM(l,s);return d===((r=m.offset)==null?void 0:r.placement)&&(a=m.arrow)!=null&&a.alignmentOffset?{}:{x:o+x.x,y:u+x.y,data:{...x,placement:d}}}}};function i1(s){const l=cn(s);let r=parseFloat(l.width)||0,a=parseFloat(l.height)||0;const o=Bn(s),u=o?s.offsetWidth:r,d=o?s.offsetHeight:a,m=Cu(r)!==u||Cu(a)!==d;return m&&(r=u,a=d),{width:r,height:a,$:m}}function jp(s){return ga(s)?s:s.contextElement}function _l(s){const l=jp(s);if(!Bn(l))return zn(1);const r=l.getBoundingClientRect(),{width:a,height:o,$:u}=i1(l);let d=(u?Cu(r.width):r.width)/a,m=(u?Cu(r.height):r.height)/o;return(!d||!Number.isFinite(d))&&(d=1),(!m||!Number.isFinite(m))&&(m=1),{x:d,y:m}}const KM=zn(0);function o1(s){const l=Ga(s);return!gp()||!l.visualViewport?KM:{x:l.visualViewport.offsetLeft,y:l.visualViewport.offsetTop}}function XM(s,l,r){return l===void 0&&(l=!1),!r||l&&r!==Ga(s)?!1:l}function Bs(s,l,r,a){l===void 0&&(l=!1),r===void 0&&(r=!1);const o=s.getBoundingClientRect(),u=jp(s);let d=zn(1);l&&(a?ga(a)&&(d=_l(a)):d=_l(s));const m=XM(u,r,a)?o1(u):zn(0);let x=(o.left+m.x)/d.x,p=(o.top+m.y)/d.y,v=o.width/d.x,b=o.height/d.y;if(u){const g=Ga(u),w=a&&ga(a)?Ga(a):a;let M=g,S=Yf(M);for(;S&&a&&w!==M;){const y=_l(S),j=S.getBoundingClientRect(),D=cn(S),k=j.left+(S.clientLeft+parseFloat(D.paddingLeft))*y.x,_=j.top+(S.clientTop+parseFloat(D.paddingTop))*y.y;x*=y.x,p*=y.y,v*=y.x,b*=y.y,x+=k,p+=_,M=Ga(S),S=Yf(M)}}return Du({width:v,height:b,x,y:p})}function Vu(s,l){const r=Uu(s).scrollLeft;return l?l.left+r:Bs(Un(s)).left+r}function c1(s,l){const r=s.getBoundingClientRect(),a=r.left+l.scrollLeft-Vu(s,r),o=r.top+l.scrollTop;return{x:a,y:o}}function WM(s){let{elements:l,rect:r,offsetParent:a,strategy:o}=s;const u=o==="fixed",d=Un(a),m=l?qu(l.floating):!1;if(a===d||m&&u)return r;let x={scrollLeft:0,scrollTop:0},p=zn(1);const v=zn(0),b=Bn(a);if((b||!b&&!u)&&((Xl(a)!=="body"||po(d))&&(x=Uu(a)),Bn(a))){const w=Bs(a);p=_l(a),v.x=w.x+a.clientLeft,v.y=w.y+a.clientTop}const g=d&&!b&&!u?c1(d,x):zn(0);return{width:r.width*p.x,height:r.height*p.y,x:r.x*p.x-x.scrollLeft*p.x+v.x+g.x,y:r.y*p.y-x.scrollTop*p.y+v.y+g.y}}function ZM(s){return Array.from(s.getClientRects())}function JM(s){const l=Un(s),r=Uu(s),a=s.ownerDocument.body,o=zs(l.scrollWidth,l.clientWidth,a.scrollWidth,a.clientWidth),u=zs(l.scrollHeight,l.clientHeight,a.scrollHeight,a.clientHeight);let d=-r.scrollLeft+Vu(s);const m=-r.scrollTop;return cn(a).direction==="rtl"&&(d+=zs(l.clientWidth,a.clientWidth)-o),{width:o,height:u,x:d,y:m}}const ib=25;function e4(s,l){const r=Ga(s),a=Un(s),o=r.visualViewport;let u=a.clientWidth,d=a.clientHeight,m=0,x=0;if(o){u=o.width,d=o.height;const v=gp();(!v||v&&l==="fixed")&&(m=o.offsetLeft,x=o.offsetTop)}const p=Vu(a);if(p<=0){const v=a.ownerDocument,b=v.body,g=getComputedStyle(b),w=v.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,M=Math.abs(a.clientWidth-b.clientWidth-w);M<=ib&&(u-=M)}else p<=ib&&(u+=p);return{width:u,height:d,x:m,y:x}}const t4=new Set(["absolute","fixed"]);function a4(s,l){const r=Bs(s,!0,l==="fixed"),a=r.top+s.clientTop,o=r.left+s.clientLeft,u=Bn(s)?_l(s):zn(1),d=s.clientWidth*u.x,m=s.clientHeight*u.y,x=o*u.x,p=a*u.y;return{width:d,height:m,x,y:p}}function ob(s,l,r){let a;if(l==="viewport")a=e4(s,r);else if(l==="document")a=JM(Un(s));else if(ga(l))a=a4(l,r);else{const o=o1(s);a={x:l.x-o.x,y:l.y-o.y,width:l.width,height:l.height}}return Du(a)}function u1(s,l){const r=ss(s);return r===l||!ga(r)||Bl(r)?!1:cn(r).position==="fixed"||u1(r,l)}function n4(s,l){const r=l.get(s);if(r)return r;let a=oo(s,[],!1).filter(m=>ga(m)&&Xl(m)!=="body"),o=null;const u=cn(s).position==="fixed";let d=u?ss(s):s;for(;ga(d)&&!Bl(d);){const m=cn(d),x=bp(d);!x&&m.position==="fixed"&&(o=null),(u?!x&&!o:!x&&m.position==="static"&&!!o&&t4.has(o.position)||po(d)&&!x&&u1(s,d))?a=a.filter(v=>v!==d):o=m,d=ss(d)}return l.set(s,a),a}function r4(s){let{element:l,boundary:r,rootBoundary:a,strategy:o}=s;const d=[...r==="clippingAncestors"?qu(l)?[]:n4(l,this._c):[].concat(r),a],m=d[0],x=d.reduce((p,v)=>{const b=ob(l,v,o);return p.top=zs(b.top,p.top),p.right=Hl(b.right,p.right),p.bottom=Hl(b.bottom,p.bottom),p.left=zs(b.left,p.left),p},ob(l,m,o));return{width:x.right-x.left,height:x.bottom-x.top,x:x.left,y:x.top}}function s4(s){const{width:l,height:r}=i1(s);return{width:l,height:r}}function l4(s,l,r){const a=Bn(l),o=Un(l),u=r==="fixed",d=Bs(s,!0,u,l);let m={scrollLeft:0,scrollTop:0};const x=zn(0);function p(){x.x=Vu(o)}if(a||!a&&!u)if((Xl(l)!=="body"||po(o))&&(m=Uu(l)),a){const w=Bs(l,!0,u,l);x.x=w.x+l.clientLeft,x.y=w.y+l.clientTop}else o&&p();u&&!a&&o&&p();const v=o&&!a&&!u?c1(o,m):zn(0),b=d.left+m.scrollLeft-x.x-v.x,g=d.top+m.scrollTop-x.y-v.y;return{x:b,y:g,width:d.width,height:d.height}}function bf(s){return cn(s).position==="static"}function cb(s,l){if(!Bn(s)||cn(s).position==="fixed")return null;if(l)return l(s);let r=s.offsetParent;return Un(s)===r&&(r=r.ownerDocument.body),r}function d1(s,l){const r=Ga(s);if(qu(s))return r;if(!Bn(s)){let o=ss(s);for(;o&&!Bl(o);){if(ga(o)&&!bf(o))return o;o=ss(o)}return r}let a=cb(s,l);for(;a&&vM(a)&&bf(a);)a=cb(a,l);return a&&Bl(a)&&bf(a)&&!bp(a)?r:a||jM(s)||r}const i4=async function(s){const l=this.getOffsetParent||d1,r=this.getDimensions,a=await r(s.floating);return{reference:l4(s.reference,await l(s.floating),s.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function o4(s){return cn(s).direction==="rtl"}const c4={convertOffsetParentRelativeRectToViewportRelativeRect:WM,getDocumentElement:Un,getClippingRect:r4,getOffsetParent:d1,getElementRects:i4,getClientRects:ZM,getDimensions:s4,getScale:_l,isElement:ga,isRTL:o4};function m1(s,l){return s.x===l.x&&s.y===l.y&&s.width===l.width&&s.height===l.height}function u4(s,l){let r=null,a;const o=Un(s);function u(){var m;clearTimeout(a),(m=r)==null||m.disconnect(),r=null}function d(m,x){m===void 0&&(m=!1),x===void 0&&(x=1),u();const p=s.getBoundingClientRect(),{left:v,top:b,width:g,height:w}=p;if(m||l(),!g||!w)return;const M=Ic(b),S=Ic(o.clientWidth-(v+g)),y=Ic(o.clientHeight-(b+w)),j=Ic(v),k={rootMargin:-M+"px "+-S+"px "+-y+"px "+-j+"px",threshold:zs(0,Hl(1,x))||1};let _=!0;function O(q){const P=q[0].intersectionRatio;if(P!==x){if(!_)return d();P?d(!1,P):a=setTimeout(()=>{d(!1,1e-7)},1e3)}P===1&&!m1(p,s.getBoundingClientRect())&&d(),_=!1}try{r=new IntersectionObserver(O,{...k,root:o.ownerDocument})}catch{r=new IntersectionObserver(O,k)}r.observe(s)}return d(!0),u}function d4(s,l,r,a){a===void 0&&(a={});const{ancestorScroll:o=!0,ancestorResize:u=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:m=typeof IntersectionObserver=="function",animationFrame:x=!1}=a,p=jp(s),v=o||u?[...p?oo(p):[],...oo(l)]:[];v.forEach(j=>{o&&j.addEventListener("scroll",r,{passive:!0}),u&&j.addEventListener("resize",r)});const b=p&&m?u4(p,r):null;let g=-1,w=null;d&&(w=new ResizeObserver(j=>{let[D]=j;D&&D.target===p&&w&&(w.unobserve(l),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var k;(k=w)==null||k.observe(l)})),r()}),p&&!x&&w.observe(p),w.observe(l));let M,S=x?Bs(s):null;x&&y();function y(){const j=Bs(s);S&&!m1(S,j)&&r(),S=j,M=requestAnimationFrame(y)}return r(),()=>{var j;v.forEach(D=>{o&&D.removeEventListener("scroll",r),u&&D.removeEventListener("resize",r)}),b?.(),(j=w)==null||j.disconnect(),w=null,x&&cancelAnimationFrame(M)}}const m4=QM,f4=$M,ub=UM,p4=(s,l,r)=>{const a=new Map,o={platform:c4,...r},u={...o.platform,_c:a};return qM(s,l,{...o,platform:u})};var x4=typeof document<"u",h4=function(){},uu=x4?N.useLayoutEffect:h4;function Au(s,l){if(s===l)return!0;if(typeof s!=typeof l)return!1;if(typeof s=="function"&&s.toString()===l.toString())return!0;let r,a,o;if(s&&l&&typeof s=="object"){if(Array.isArray(s)){if(r=s.length,r!==l.length)return!1;for(a=r;a--!==0;)if(!Au(s[a],l[a]))return!1;return!0}if(o=Object.keys(s),r=o.length,r!==Object.keys(l).length)return!1;for(a=r;a--!==0;)if(!{}.hasOwnProperty.call(l,o[a]))return!1;for(a=r;a--!==0;){const u=o[a];if(!(u==="_owner"&&s.$$typeof)&&!Au(s[u],l[u]))return!1}return!0}return s!==s&&l!==l}function f1(s){return typeof window>"u"?1:(s.ownerDocument.defaultView||window).devicePixelRatio||1}function db(s,l){const r=f1(s);return Math.round(l*r)/r}function gf(s){const l=N.useRef(s);return uu(()=>{l.current=s}),l}function v4(s){s===void 0&&(s={});const{placement:l="bottom",strategy:r="absolute",middleware:a=[],platform:o,elements:{reference:u,floating:d}={},transform:m=!0,whileElementsMounted:x,open:p}=s,[v,b]=N.useState({x:0,y:0,strategy:r,placement:l,middlewareData:{},isPositioned:!1}),[g,w]=N.useState(a);Au(g,a)||w(a);const[M,S]=N.useState(null),[y,j]=N.useState(null),D=N.useCallback(L=>{L!==q.current&&(q.current=L,S(L))},[]),k=N.useCallback(L=>{L!==P.current&&(P.current=L,j(L))},[]),_=u||M,O=d||y,q=N.useRef(null),P=N.useRef(null),T=N.useRef(v),F=x!=null,I=gf(x),$=gf(o),A=gf(p),se=N.useCallback(()=>{if(!q.current||!P.current)return;const L={placement:l,strategy:r,middleware:g};$.current&&(L.platform=$.current),p4(q.current,P.current,L).then(re=>{const he={...re,isPositioned:A.current!==!1};ce.current&&!Au(T.current,he)&&(T.current=he,lp.flushSync(()=>{b(he)}))})},[g,l,r,$,A]);uu(()=>{p===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,b(L=>({...L,isPositioned:!1})))},[p]);const ce=N.useRef(!1);uu(()=>(ce.current=!0,()=>{ce.current=!1}),[]),uu(()=>{if(_&&(q.current=_),O&&(P.current=O),_&&O){if(I.current)return I.current(_,O,se);se()}},[_,O,se,I,F]);const le=N.useMemo(()=>({reference:q,floating:P,setReference:D,setFloating:k}),[D,k]),B=N.useMemo(()=>({reference:_,floating:O}),[_,O]),W=N.useMemo(()=>{const L={position:r,left:0,top:0};if(!B.floating)return L;const re=db(B.floating,v.x),he=db(B.floating,v.y);return m?{...L,transform:"translate("+re+"px, "+he+"px)",...f1(B.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:re,top:he}},[r,m,B.floating,v.x,v.y]);return N.useMemo(()=>({...v,update:se,refs:le,elements:B,floatingStyles:W}),[v,se,le,B,W])}const b4=s=>{function l(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:s,fn(r){const{element:a,padding:o}=typeof s=="function"?s(r):s;return a&&l(a)?a.current!=null?ub({element:a.current,padding:o}).fn(r):{}:a?ub({element:a,padding:o}).fn(r):{}}}},g4=(s,l)=>({...m4(s),options:[s,l]}),y4=(s,l)=>({...f4(s),options:[s,l]}),N4=(s,l)=>({...b4(s),options:[s,l]}),j4={...hg};let mb=!1,w4=0;const fb=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+w4++;function S4(){const[s,l]=N.useState(()=>mb?fb():void 0);return Mu(()=>{s==null&&l(fb())},[]),N.useEffect(()=>{mb=!0},[]),s}const C4=j4.useId,p1=C4||S4,k4=N.forwardRef(function(l,r){const{context:{placement:a,elements:{floating:o},middlewareData:{arrow:u,shift:d}},width:m=14,height:x=7,tipRadius:p=0,strokeWidth:v=0,staticOffset:b,stroke:g,d:w,style:{transform:M,...S}={},...y}=l,j=p1(),[D,k]=N.useState(!1);if(Mu(()=>{if(!o)return;cn(o).direction==="rtl"&&k(!0)},[o]),!o)return null;const[_,O]=a.split("-"),q=_==="top"||_==="bottom";let P=b;(q&&d!=null&&d.x||!q&&d!=null&&d.y)&&(P=null);const T=v*2,F=T/2,I=m/2*(p/-8+1),$=x/2*p/4,A=!!w,se=P&&O==="end"?"bottom":"top";let ce=P&&O==="end"?"right":"left";P&&D&&(ce=O==="end"?"left":"right");const le=u?.x!=null?P||u.x:"",B=u?.y!=null?P||u.y:"",W=w||"M0,0"+(" H"+m)+(" L"+(m-I)+","+(x-$))+(" Q"+m/2+","+x+" "+I+","+(x-$))+" Z",L={top:A?"rotate(180deg)":"",left:A?"rotate(90deg)":"rotate(-90deg)",bottom:A?"":"rotate(180deg)",right:A?"rotate(-90deg)":"rotate(90deg)"}[_];return t.jsxs("svg",{...y,"aria-hidden":!0,ref:r,width:A?m:m+T,height:m,viewBox:"0 0 "+m+" "+(x>m?x:m),style:{position:"absolute",pointerEvents:"none",[ce]:le,[se]:B,[_]:q||A?"100%":"calc(100% - "+T/2+"px)",transform:[L,M].filter(re=>!!re).join(" "),...S},children:[T>0&&t.jsx("path",{clipPath:"url(#"+j+")",fill:"none",stroke:g,strokeWidth:T+(w?0:1),d:W}),t.jsx("path",{stroke:T&&!w?y.fill:"none",d:W}),t.jsx("clipPath",{id:j,children:t.jsx("rect",{x:-F,y:F*(A?-1:1),width:m+T,height:m})})]})});function D4(){const s=new Map;return{emit(l,r){var a;(a=s.get(l))==null||a.forEach(o=>o(r))},on(l,r){s.has(l)||s.set(l,new Set),s.get(l).add(r)},off(l,r){var a;(a=s.get(l))==null||a.delete(r)}}}const M4=N.createContext(null),A4=N.createContext(null),E4=()=>{var s;return((s=N.useContext(M4))==null?void 0:s.id)||null},T4=()=>N.useContext(A4);function _4(s){const{open:l=!1,onOpenChange:r,elements:a}=s,o=p1(),u=N.useRef({}),[d]=N.useState(()=>D4()),m=E4()!=null,[x,p]=N.useState(a.reference),v=HM((w,M,S)=>{u.current.openEvent=w?M:void 0,d.emit("openchange",{open:w,event:M,reason:S,nested:m}),r?.(w,M,S)}),b=N.useMemo(()=>({setPositionReference:p}),[]),g=N.useMemo(()=>({reference:x||a.reference||null,floating:a.floating||null,domReference:a.reference}),[x,a.reference,a.floating]);return N.useMemo(()=>({dataRef:u,open:l,onOpenChange:v,elements:g,events:d,floatingId:o,refs:b}),[l,v,g,d,o,b])}function O4(s){s===void 0&&(s={});const{nodeId:l}=s,r=_4({...s,elements:{reference:null,floating:null,...s.elements}}),a=s.rootContext||r,o=a.elements,[u,d]=N.useState(null),[m,x]=N.useState(null),v=o?.domReference||u,b=N.useRef(null),g=T4();Mu(()=>{v&&(b.current=v)},[v]);const w=v4({...s,elements:{...o,...m&&{reference:m}}}),M=N.useCallback(k=>{const _=ga(k)?{getBoundingClientRect:()=>k.getBoundingClientRect(),getClientRects:()=>k.getClientRects(),contextElement:k}:k;x(_),w.refs.setReference(_)},[w.refs]),S=N.useCallback(k=>{(ga(k)||k===null)&&(b.current=k,d(k)),(ga(w.refs.reference.current)||w.refs.reference.current===null||k!==null&&!ga(k))&&w.refs.setReference(k)},[w.refs]),y=N.useMemo(()=>({...w.refs,setReference:S,setPositionReference:M,domReference:b}),[w.refs,S,M]),j=N.useMemo(()=>({...w.elements,domReference:v}),[w.elements,v]),D=N.useMemo(()=>({...w,...a,refs:y,elements:j,nodeId:l}),[w,y,j,l,a]);return Mu(()=>{a.dataRef.current.floatingContext=D;const k=g?.nodesRef.current.find(_=>_.id===l);k&&(k.context=D)}),N.useMemo(()=>({...w,context:D,refs:y,elements:j}),[w,y,j,D])}var Uf=function(l,r){return Uf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(a[u]=o[u])},Uf(l,r)};function ua(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");Uf(s,l);function r(){this.constructor=s}s.prototype=l===null?Object.create(l):(r.prototype=l.prototype,new r)}var Qe=function(){return Qe=Object.assign||function(r){for(var a,o=1,u=arguments.length;o<u;o++){a=arguments[o];for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(r[d]=a[d])}return r},Qe.apply(this,arguments)};function Rn(s,l,r){if(r||arguments.length===2)for(var a=0,o=l.length,u;a<o;a++)(u||!(a in l))&&(u||(u=Array.prototype.slice.call(l,0,a)),u[a]=l[a]);return s.concat(u||Array.prototype.slice.call(l))}var R4=function(s){var l=s.showTimeSelectOnly,r=l===void 0?!1:l,a=s.showTime,o=a===void 0?!1:a,u=s.className,d=s.children,m=s.inline,x=r?"Choose Time":"Choose Date".concat(o?" and Time":"");return ne.createElement("div",{className:u,"aria-label":x,role:m?void 0:"dialog","aria-modal":m?void 0:"true",translate:"no"},d)},L4=function(s,l){var r=N.useRef(null),a=N.useRef(s);N.useEffect(function(){a.current=s},[s]);var o=N.useCallback(function(u){var d,m=u.composed&&u.composedPath&&u.composedPath().find(function(x){return x instanceof Node})||u.target;r.current&&!r.current.contains(m)&&(l&&m instanceof HTMLElement&&m.classList.contains(l)||(d=a.current)===null||d===void 0||d.call(a,u))},[l]);return N.useEffect(function(){return document.addEventListener("mousedown",o),function(){document.removeEventListener("mousedown",o)}},[o]),r},Gu=function(s){var l=s.children,r=s.onClickOutside,a=s.className,o=s.containerRef,u=s.style,d=s.ignoreClass,m=L4(r,d);return ne.createElement("div",{className:a,style:u,ref:function(x){m.current=x,o&&(o.current=x)}},l)},Pc=null,pb=!1;function x1(){if(pb)return Pc;pb=!0;try{var s="date-fns-tz";Pc=require(s)}catch{Pc=null}return Pc}function xb(s,l){if(!l)return s;var r=x1();return r?r.toZonedTime(s,l):s}function fr(s,l){if(!l)return s;var r=x1();return r?r.fromZonedTime(s,l):s}var ye;(function(s){s.ArrowUp="ArrowUp",s.ArrowDown="ArrowDown",s.ArrowLeft="ArrowLeft",s.ArrowRight="ArrowRight",s.PageUp="PageUp",s.PageDown="PageDown",s.Home="Home",s.End="End",s.Enter="Enter",s.Space=" ",s.Tab="Tab",s.Escape="Escape",s.Backspace="Backspace",s.X="x"})(ye||(ye={}));function h1(){var s=typeof window<"u"?window:globalThis;return s}var ho=12;function lt(s){if(s==null)return new Date;var l=typeof s=="string"?JD(s):Re(s);return Oa(l)?l:new Date}function Ds(s,l,r,a,o){o===void 0&&(o=lt());for(var u=ql(r)||ql(wp()),d=Array.isArray(l)?l:[l],m=0,x=d;m<x.length;m++){var p=x[m],v=GD(s,p,o,{locale:u});if(Oa(v)&&(!a||s===Dt(v,p,r)))return v}if(!a&&s&&s.length>=8){var b=new Date(s);if(Fl(b))return b}return null}function I4(s,l){if(l===void 0&&(l=lt()),!s)return null;var r=s.match(/\b(1\d{3}|2\d{3})\b/);if(!r||!r[1])return null;var a=parseInt(r[1],10),o=s.match(/(?:^|[/\-\s])?(0?[1-9]|1[0-2])(?:[/\-\s]|$)/),u=o&&o[1]?parseInt(o[1],10)-1:l.getMonth();return new Date(a,u,1)}function Oa(s){return Fl(s)}function Ls(s){return s==null?null:Pn(s)&&Fl(s)?s:null}function Dt(s,l,r){if(r==="en")return eb(s,l,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var a=r?ql(r):void 0;return r&&!a&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),a=a||ql(wp()),eb(s,l,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function _a(s,l){var r=l.dateFormat,a=l.locale,o=Array.isArray(r)&&r.length>0?r[0]:r;return s&&Dt(s,o,a)||""}var v1=" - ";function P4(s,l,r){if(!s&&!l)return"";var a=s?_a(s,r):"",o=l?_a(l,r):"",u=r.rangeSeparator||v1;return"".concat(a).concat(u).concat(o)}function z4(s,l){if(!s?.length)return"";var r=s[0]?_a(s[0],l):"";if(s.length===1)return r;if(s.length===2&&s[1]){var a=_a(s[1],l);return"".concat(r,", ").concat(a)}var o=s.length-1;return"".concat(r," (+").concat(o,")")}function pr(s,l){var r=l.hour,a=r===void 0?0:r,o=l.minute,u=o===void 0?0:o,d=l.second,m=d===void 0?0:d;return iu(ou(cu(s,m),u),a)}function F4(s){return pp(s)}function B4(s,l){return Dt(s,"ddd",l)}function Ji(s){return Fs(s)}function as(s,l,r){var a=ql(l||wp());return yr(s,{locale:a,weekStartsOn:r})}function br(s){return Gy(s)}function eo(s){return Hu(s)}function hb(s){return Ff(s)}function vb(){return Fs(lt())}function bb(s){return $y(s)}function H4(s){return JC(s)}function Y4(s){return Vy(s)}function En(s,l){return s&&l?WD(s,l):!s&&!l}function ba(s,l){return s&&l?KD(s,l):!s&&!l}function Eu(s,l){return s&&l?XD(s,l):!s&&!l}function et(s,l){return s&&l?WC(s,l):!s&&!l}function Is(s,l){return s&&l?Zk(s,l):!s&&!l}function Ts(s,l,r){var a,o=Fs(l),u=$y(r);try{a=io(s,{start:o,end:u})}catch{a=!1}return a}function wp(){var s=h1();return s.__localeId__}function ql(s){if(typeof s=="string"){var l=h1();return l.__localeData__?l.__localeData__[s]:void 0}else return s}function q4(s,l,r){return l(Dt(s,"EEEE",r))}function U4(s,l){return Dt(s,"EEEEEE",l)}function $4(s,l){return Dt(s,"EEE",l)}function Sp(s,l){return Dt($a(lt(),s),"LLLL",l)}function b1(s,l){return Dt($a(lt(),s),"LLL",l)}function V4(s,l){return Dt(Al(lt(),s),"QQQ",l)}function on(s,l){var r=l===void 0?{}:l,a=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.excludeDateIntervals,m=r.includeDates,x=r.includeDateIntervals,p=r.filterDate,v=r.disabled;return v?!0:vo(s,{minDate:a,maxDate:o})||u&&u.some(function(b){return b instanceof Date?et(s,b):et(s,b.date)})||d&&d.some(function(b){var g=b.start,w=b.end;return io(s,{start:g,end:w})})||m&&!m.some(function(b){return et(s,b)})||x&&!x.some(function(b){var g=b.start,w=b.end;return io(s,{start:g,end:w})})||p&&!p(lt(s))||!1}function Cp(s,l){var r=l===void 0?{}:l,a=r.excludeDates,o=r.excludeDateIntervals;return o&&o.length>0?o.some(function(u){var d=u.start,m=u.end;return io(s,{start:d,end:m})}):a&&a.some(function(u){var d;return u instanceof Date?et(s,u):et(s,(d=u.date)!==null&&d!==void 0?d:new Date)})||!1}function g1(s,l){var r=l===void 0?{}:l,a=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.includeDates,m=r.filterDate;return vo(s,{minDate:a?Gy(a):void 0,maxDate:o?Vy(o):void 0})||u?.some(function(x){return ba(s,x instanceof Date?x:x.date)})||d&&!d.some(function(x){return ba(s,x)})||m&&!m(lt(s))||!1}function zc(s,l,r,a){var o=We(s),u=Ra(s),d=We(l),m=Ra(l),x=We(a);return o===d&&o===x?u<=r&&r<=m:o<d?x===o&&u<=r||x===d&&m>=r||x<d&&x>o:!1}function G4(s,l){var r=l===void 0?{}:l,a=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.includeDates;return vo(s,{minDate:a,maxDate:o})||u&&u.some(function(m){return ba(m instanceof Date?m:m.date,s)})||d&&!d.some(function(m){return ba(m,s)})||!1}function Fc(s,l){var r=l===void 0?{}:l,a=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.includeDates,m=r.filterDate,x=r.disabled;return x?!0:vo(s,{minDate:a,maxDate:o})||u?.some(function(p){return Eu(s,p instanceof Date?p:p.date)})||d&&!d.some(function(p){return Eu(s,p)})||m&&!m(lt(s))||!1}function Bc(s,l,r){if(!l||!r||!Fl(l)||!Fl(r))return!1;var a=We(l),o=We(r);return a<=s&&o>=s}function du(s,l){var r=l===void 0?{}:l,a=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.includeDates,m=r.filterDate,x=r.disabled;if(x)return!0;var p=new Date(s,0,1);return vo(p,{minDate:a?Hu(a):void 0,maxDate:o?Qy(o):void 0})||u?.some(function(v){return En(p,v instanceof Date?v:v.date)})||d&&!d.some(function(v){return En(p,v)})||m&&!m(lt(p))||!1}function Hc(s,l,r,a){var o=We(s),u=es(s),d=We(l),m=es(l),x=We(a);return o===d&&o===x?u<=r&&r<=m:o<d?x===o&&u<=r||x===d&&m>=r||x<d&&x>o:!1}function vo(s,l){var r,a=l===void 0?{}:l,o=a.minDate,u=a.maxDate;return(r=o&&zl(s,o)<0||u&&zl(s,u)>0)!==null&&r!==void 0?r:!1}function gb(s,l){return l.some(function(r){return pa(r)===pa(s)&&xa(r)===xa(s)&&ts(r)===ts(s)})}function yb(s,l){var r=l===void 0?{}:l,a=r.excludeTimes,o=r.includeTimes,u=r.filterTime;return a&&gb(s,a)||o&&!gb(s,o)||u&&!u(s)||!1}function Nb(s,l){var r=l.minTime,a=l.maxTime;if(!r||!a)throw new Error("Both minTime and maxTime props required");var o=lt();o=iu(o,pa(s)),o=ou(o,xa(s)),o=cu(o,ts(s));var u=lt();u=iu(u,pa(r)),u=ou(u,xa(r)),u=cu(u,ts(r));var d=lt();d=iu(d,pa(a)),d=ou(d,xa(a)),d=cu(d,ts(a));var m;try{m=!io(o,{start:u,end:d})}catch{m=!1}return m}function jb(s,l){var r=l===void 0?{}:l,a=r.minDate,o=r.includeDates,u=Ps(s,1);return a&&Nu(a,u)>0||o&&o.every(function(d){return Nu(d,u)>0})||!1}function wb(s,l){var r=l===void 0?{}:l,a=r.maxDate,o=r.includeDates,u=yn(s,1);return a&&Nu(u,a)>0||o&&o.every(function(d){return Nu(u,d)>0})||!1}function Q4(s,l){var r=l===void 0?{}:l,a=r.minDate,o=r.includeDates,u=Hu(s),d=n1(u);return a&&ju(a,d)>0||o&&o.every(function(m){return ju(m,d)>0})||!1}function K4(s,l){var r=l===void 0?{}:l,a=r.maxDate,o=r.includeDates,u=Qy(s),d=fp(u,1);return a&&ju(d,a)>0||o&&o.every(function(m){return ju(d,m)>0})||!1}function Sb(s,l){var r=l===void 0?{}:l,a=r.minDate,o=r.includeDates,u=rs(s,1);return a&&wu(a,u)>0||o&&o.every(function(d){return wu(d,u)>0})||!1}function X4(s,l){var r=l===void 0?{}:l,a=r.minDate,o=r.yearItemNumber,u=o===void 0?ho:o,d=eo(rs(s,u)),m=xr(d,u).endPeriod,x=a&&We(a);return x&&x>m||!1}function Cb(s,l){var r=l===void 0?{}:l,a=r.maxDate,o=r.includeDates,u=bn(s,1);return a&&wu(u,a)>0||o&&o.every(function(d){return wu(u,d)>0})||!1}function W4(s,l){var r=l===void 0?{}:l,a=r.maxDate,o=r.yearItemNumber,u=o===void 0?ho:o,d=bn(s,u),m=xr(d,u).startPeriod,x=a&&We(a);return x&&x<m||!1}function y1(s){var l=s.minDate,r=s.includeDates;if(r&&l){var a=r.filter(function(o){return zl(o,l)>=0});return Q0(a)}else return r?Q0(r):l}function N1(s){var l=s.maxDate,r=s.includeDates;if(r&&l){var a=r.filter(function(o){return zl(o,l)<=0});return G0(a)}else return r?G0(r):l}function kb(s,l){var r;s===void 0&&(s=[]),l===void 0&&(l="react-datepicker__day--highlighted");for(var a=new Map,o=0,u=s.length;o<u;o++){var d=s[o];if(Pn(d)){var m=Dt(d,"MM.dd.yyyy"),x=a.get(m)||[];x.includes(l)||(x.push(l),a.set(m,x))}else if(typeof d=="object"){var p=Object.keys(d),v=(r=p[0])!==null&&r!==void 0?r:"",b=d[v];if(typeof v=="string"&&Array.isArray(b))for(var g=0,w=b.length;g<w;g++){var M=b[g];if(M){var m=Dt(M,"MM.dd.yyyy"),x=a.get(m)||[];x.includes(v)||(x.push(v),a.set(m,x))}}}}return a}function Z4(s,l){return s.length!==l.length?!1:s.every(function(r,a){return r===l[a]})}function J4(s,l){s===void 0&&(s=[]),l===void 0&&(l="react-datepicker__day--holidays");var r=new Map;return s.forEach(function(a){var o=a.date,u=a.holidayName;if(Pn(o)){var d=Dt(o,"MM.dd.yyyy"),m=r.get(d)||{className:"",holidayNames:[]};if(!("className"in m&&m.className===l&&Z4(m.holidayNames,[u]))){m.className=l;var x=m.holidayNames;m.holidayNames=x?Rn(Rn([],x,!0),[u],!1):[u],r.set(d,m)}}}),r}function e3(s,l,r,a,o){for(var u=o.length,d=[],m=0;m<u;m++){var x=s,p=o[m];p&&(x=GC(x,pa(p)),x=lo(x,xa(p)),x=XC(x,ts(p)));var v=lo(s,(r+1)*a);vr(x,l)&&On(x,v)&&p!=null&&d.push(p)}return d}function Cl(s){return s<10?"0".concat(s):"".concat(s)}function xr(s,l){l===void 0&&(l=ho);var r=Math.ceil(We(s)/l)*l,a=r-(l-1);return{startPeriod:a,endPeriod:r}}function t3(s){var l=new Date(s.getFullYear(),s.getMonth(),s.getDate()),r=new Date(s.getFullYear(),s.getMonth(),s.getDate(),24);return Math.round((+r-+l)/36e5)}function Db(s){var l=s.getSeconds(),r=s.getMilliseconds();return Re(s.getTime()-l*1e3-r)}function j1(s,l){return Db(s).getTime()===Db(l).getTime()}function Mb(s){if(!Pn(s))throw new Error("Invalid date");var l=new Date(s);return l.setHours(0,0,0,0),l}function yf(s,l){if(!Pn(s)||!Pn(l))throw new Error("Invalid date received");var r=Mb(s),a=Mb(l);return On(r,a)}function w1(s){return s.key===ye.Space}var Nf=(function(s){ua(l,s);function l(r){var a=s.call(this,r)||this;return a.inputRef=ne.createRef(),a.onTimeChange=function(o){var u,d;a.setState({time:o});var m=a.props.date,x=m instanceof Date&&!isNaN(+m),p=x?m:new Date;if(o?.includes(":")){var v=o.split(":"),b=v[0],g=v[1];p.setHours(Number(b)),p.setMinutes(Number(g))}(d=(u=a.props).onChange)===null||d===void 0||d.call(u,p)},a.renderTimeInput=function(){var o=a.state.time,u=a.props,d=u.date,m=u.timeString,x=u.customTimeInput;return x?N.cloneElement(x,{date:d,value:o,onChange:a.onTimeChange}):ne.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:a.inputRef,onClick:function(){var p;(p=a.inputRef.current)===null||p===void 0||p.focus()},required:!0,value:o,onChange:function(p){a.onTimeChange(p.target.value||m)}})},a.state={time:a.props.timeString},a}return l.getDerivedStateFromProps=function(r,a){return r.timeString!==a.time?{time:r.timeString}:null},l.prototype.render=function(){return ne.createElement("div",{className:"react-datepicker__input-time-container"},ne.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ne.createElement("div",{className:"react-datepicker-time__input-container"},ne.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},l})(N.Component),a3=(function(s){ua(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.dayEl=N.createRef(),r.handleClick=function(a){!r.isDisabled()&&r.props.onClick&&r.props.onClick(a)},r.handleMouseEnter=function(a){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(a)},r.handleOnKeyDown=function(a){var o,u,d=a.key;d===ye.Space&&(a.preventDefault(),a.key=ye.Enter),(u=(o=r.props).handleOnKeyDown)===null||u===void 0||u.call(o,a)},r.isSameDay=function(a){return et(r.props.day,a)},r.isKeyboardSelected=function(){var a;if(r.props.disabledKeyboardNavigation)return!1;var o=r.props.selectsMultiple?(a=r.props.selectedDates)===null||a===void 0?void 0:a.some(function(d){return r.isSameDayOrWeek(d)}):r.isSameDayOrWeek(r.props.selected),u=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!o&&r.isSameDayOrWeek(r.props.preSelection)&&!u},r.isDisabled=function(a){return a===void 0&&(a=r.props.day),on(a,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate,disabled:r.props.disabled})},r.isExcluded=function(){return Cp(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return et(r.props.day,as(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(a){return r.props.showWeekPicker&&et(a,as(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(a){return r.isSameDay(a)||r.isSameWeek(a)},r.getHighLightedClass=function(){var a=r.props,o=a.day,u=a.highlightDates;if(!u)return!1;var d=Dt(o,"MM.dd.yyyy");return u.get(d)},r.getHolidaysClass=function(){var a,o=r.props,u=o.day,d=o.holidays;if(!d)return[void 0];var m=Dt(u,"MM.dd.yyyy");return d.has(m)?[(a=d.get(m))===null||a===void 0?void 0:a.className]:[void 0]},r.isInRange=function(){var a=r.props,o=a.day,u=a.startDate,d=a.endDate;return!u||!d?!1:Ts(o,u,d)},r.isInSelectingRange=function(){var a,o=r.props,u=o.day,d=o.selectsStart,m=o.selectsEnd,x=o.selectsRange,p=o.selectsDisabledDaysInRange,v=o.startDate,b=o.swapRange,g=o.endDate,w=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;if(r.isAfterMonth()||r.isBeforeMonth()||!(d||m||x)||!w||!p&&r.isDisabled())return!1;if(d&&g&&(On(w,g)||Is(w,g)))return Ts(u,w,g);if(m&&v&&(vr(w,v)||Is(w,v)))return Ts(u,v,w);if(x&&v&&!g){if(Is(w,v)||vr(w,v))return Ts(u,v,w);if(b&&On(w,v))return Ts(u,w,v)}return!1},r.isSelectingRangeStart=function(){var a;if(!r.isInSelectingRange())return!1;var o=r.props,u=o.day,d=o.startDate,m=o.selectsStart,x=o.swapRange,p=o.selectsRange,v=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return m?et(u,v):p&&x&&d&&v?et(u,On(v,d)?v:d):et(u,d)},r.isSelectingRangeEnd=function(){var a;if(!r.isInSelectingRange())return!1;var o=r.props,u=o.day,d=o.endDate,m=o.selectsEnd,x=o.selectsRange,p=o.swapRange,v=o.startDate,b=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return m?et(u,b):x&&p&&v&&b?et(u,On(b,v)?v:b):x?et(u,b):et(u,d)},r.isRangeStart=function(){var a=r.props,o=a.day,u=a.startDate,d=a.endDate;return!u||!d?!1:et(u,o)},r.isRangeEnd=function(){var a=r.props,o=a.day,u=a.startDate,d=a.endDate;return!u||!d?!1:et(d,o)},r.isWeekend=function(){var a=Qk(r.props.day);return a===0||a===6},r.isAfterMonth=function(){return r.props.month!==void 0&&(r.props.month+1)%12===Ra(r.props.day)},r.isBeforeMonth=function(){return r.props.month!==void 0&&(Ra(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(lt())},r.isSelected=function(){var a;return r.props.selectsMultiple?(a=r.props.selectedDates)===null||a===void 0?void 0:a.some(function(o){return r.isSameDayOrWeek(o)}):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(a){var o=r.props.dayClassName?r.props.dayClassName(a):void 0;return Zt("react-datepicker__day",o,"react-datepicker__day--"+B4(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var a=r.props,o=a.day,u=a.ariaLabelPrefixWhenEnabled,d=u===void 0?"Choose":u,m=a.ariaLabelPrefixWhenDisabled,x=m===void 0?"Not available":m,p=r.isDisabled()||r.isExcluded()?x:d;return"".concat(p," ").concat(Dt(o,"PPPP",r.props.locale))},r.getTitle=function(){var a=r.props,o=a.day,u=a.holidays,d=u===void 0?new Map:u,m=a.excludeDates,x=Dt(o,"MM.dd.yyyy"),p=[];return d.has(x)&&p.push.apply(p,d.get(x).holidayNames),r.isExcluded()&&p.push(m?.filter(function(v){return v instanceof Date?et(v,o):et(v?.date,o)}).map(function(v){if(!(v instanceof Date))return v?.message})),p.join(", ")},r.getTabIndex=function(){var a=r.props.selected,o=r.props.preSelection,u=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(a)&&et(o,a))?0:-1;return u},r.handleFocusDay=function(){var a;r.shouldFocusDay()&&((a=r.dayEl.current)===null||a===void 0||a.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(tb(r.props.day),r.props.day):tb(r.props.day)},r.render=function(){return ne.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"gridcell",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&ne.createElement("span",{className:"overlay"},r.getTitle()))},r}return l.prototype.componentDidMount=function(){this.handleFocusDay()},l.prototype.componentDidUpdate=function(){this.handleFocusDay()},l.prototype.shouldFocusDay=function(){var r=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(r=!1),this.isDayActiveElement()&&(r=!0),this.isDuplicateDay()&&(r=!1)),r},l.prototype.isDayActiveElement=function(){var r,a,o;return((a=(r=this.props.containerRef)===null||r===void 0?void 0:r.current)===null||a===void 0?void 0:a.contains(document.activeElement))&&((o=document.activeElement)===null||o===void 0?void 0:o.classList.contains("react-datepicker__day"))},l.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},l})(N.Component),n3=(function(s){ua(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.weekNumberEl=N.createRef(),r.handleClick=function(a){r.props.onClick&&r.props.onClick(a)},r.handleOnKeyDown=function(a){var o,u,d=a.key;d===ye.Space&&(a.preventDefault(),a.key=ye.Enter),(u=(o=r.props).handleOnKeyDown)===null||u===void 0||u.call(o,a)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!et(r.props.date,r.props.selected)&&et(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||et(r.props.date,r.props.selected)&&et(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(a){var o=!1;r.getTabIndex()===0&&!a?.isInputFocused&&et(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(o=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(o=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(o=!0)),o&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return Object.defineProperty(l,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),l.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},l.prototype.componentDidUpdate=function(r){this.handleFocusWeekNumber(r)},l.prototype.render=function(){var r=this.props,a=r.weekNumber,o=r.isWeekDisabled,u=r.ariaLabelPrefix,d=u===void 0?l.defaultProps.ariaLabelPrefix:u,m=r.onClick,x={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!m&&!o,"react-datepicker__week-number--selected":!!m&&et(this.props.date,this.props.selected)};return ne.createElement("div",{ref:this.weekNumberEl,className:Zt(x),"aria-label":"".concat(d," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},a)},l})(N.Component),r3=(function(s){ua(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.isDisabled=function(a){return on(a,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.handleDayClick=function(a,o){r.props.onDayClick&&r.props.onDayClick(a,o)},r.handleDayMouseEnter=function(a){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(a)},r.handleWeekClick=function(a,o,u){for(var d,m,x,p=new Date(a),v=0;v<7;v++){var b=new Date(a);b.setDate(b.getDate()+v);var g=!r.isDisabled(b);if(g){p=b;break}}typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(p,o,u),r.props.showWeekPicker&&r.handleDayClick(p,u),((d=r.props.shouldCloseOnSelect)!==null&&d!==void 0?d:l.defaultProps.shouldCloseOnSelect)&&((x=(m=r.props).setOpen)===null||x===void 0||x.call(m,!1))},r.formatWeekNumber=function(a){return r.props.formatWeekNumber?r.props.formatWeekNumber(a):F4(a)},r.isWeekDisabled=function(){for(var a=r.startOfWeek(),o=vn(a,6),u=new Date(a);u<=o;){if(!r.isDisabled(u))return!1;u=vn(u,1)}return!0},r.renderDays=function(){var a=r.startOfWeek(),o=[],u=r.formatWeekNumber(a);if(r.props.showWeekNumber){var d=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,a,u):void 0;o.push(ne.createElement(n3,Qe({key:"W"},l.defaultProps,r.props,{weekNumber:u,isWeekDisabled:r.isWeekDisabled(),date:a,onClick:d})))}return o.concat([0,1,2,3,4,5,6].map(function(m){var x=vn(a,m);return ne.createElement(a3,Qe({},l.defaultProps,r.props,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:x.valueOf(),day:x,onClick:r.handleDayClick.bind(r,x),onMouseEnter:r.handleDayMouseEnter.bind(r,x)}))}))},r.startOfWeek=function(){return as(r.props.day,r.props.locale,r.props.calendarStartDay)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!et(r.startOfWeek(),r.props.selected)&&et(r.startOfWeek(),r.props.preSelection)},r}return Object.defineProperty(l,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),l.prototype.render=function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":et(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},a=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return ne.createElement("div",{className:Zt(r,a),role:"row"},this.renderDays())},l})(N.Component),Qi,s3=6,Ol={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},jf=(Qi={},Qi[Ol.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Qi[Ol.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Qi[Ol.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Qi),Yc=1;function Ab(s,l){return s?Ol.FOUR_COLUMNS:l?Ol.TWO_COLUMNS:Ol.THREE_COLUMNS}var l3=(function(s){ua(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.MONTH_REFS=Rn([],Array(12),!0).map(function(){return N.createRef()}),r.QUARTER_REFS=Rn([],Array(4),!0).map(function(){return N.createRef()}),r.isDisabled=function(a){return on(a,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate,disabled:r.props.disabled})},r.isExcluded=function(a){return Cp(a,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(a,o){var u,d;(d=(u=r.props).onDayClick)===null||d===void 0||d.call(u,a,o,r.props.orderInDisplay)},r.handleDayMouseEnter=function(a){var o,u;(u=(o=r.props).onDayMouseEnter)===null||u===void 0||u.call(o,a)},r.handleMouseLeave=function(){var a,o;(o=(a=r.props).onMouseLeave)===null||o===void 0||o.call(a)},r.isRangeStartMonth=function(a){var o=r.props,u=o.day,d=o.startDate,m=o.endDate;return!d||!m?!1:ba($a(u,a),d)},r.isRangeStartQuarter=function(a){var o=r.props,u=o.day,d=o.startDate,m=o.endDate;return!d||!m?!1:Eu(Al(u,a),d)},r.isRangeEndMonth=function(a){var o=r.props,u=o.day,d=o.startDate,m=o.endDate;return!d||!m?!1:ba($a(u,a),m)},r.isRangeEndQuarter=function(a){var o=r.props,u=o.day,d=o.startDate,m=o.endDate;return!d||!m?!1:Eu(Al(u,a),m)},r.isInSelectingRangeMonth=function(a){var o,u=r.props,d=u.day,m=u.selectsStart,x=u.selectsEnd,p=u.selectsRange,v=u.startDate,b=u.endDate,g=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return!(m||x||p)||!g?!1:m&&b?zc(g,b,a,d):x&&v||p&&v&&!b?zc(v,g,a,d):!1},r.isSelectingMonthRangeStart=function(a){var o;if(!r.isInSelectingRangeMonth(a))return!1;var u=r.props,d=u.day,m=u.startDate,x=u.selectsStart,p=$a(d,a),v=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return x?ba(p,v):ba(p,m)},r.isSelectingMonthRangeEnd=function(a){var o;if(!r.isInSelectingRangeMonth(a))return!1;var u=r.props,d=u.day,m=u.endDate,x=u.selectsEnd,p=u.selectsRange,v=$a(d,a),b=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return x||p?ba(v,b):ba(v,m)},r.isInSelectingRangeQuarter=function(a){var o,u=r.props,d=u.day,m=u.selectsStart,x=u.selectsEnd,p=u.selectsRange,v=u.startDate,b=u.endDate,g=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return!(m||x||p)||!g?!1:m&&b?Hc(g,b,a,d):x&&v||p&&v&&!b?Hc(v,g,a,d):!1},r.isWeekInMonth=function(a){var o=r.props.day,u=vn(a,6);return ba(a,o)||ba(u,o)},r.isCurrentMonth=function(a,o){return We(a)===We(lt())&&o===Ra(lt())},r.isCurrentQuarter=function(a,o){return We(a)===We(lt())&&o===es(lt())},r.isSelectedMonth=function(a,o,u){return Ra(u)===o&&We(a)===We(u)},r.isSelectMonthInList=function(a,o,u){return u.some(function(d){return r.isSelectedMonth(a,o,d)})},r.isSelectedQuarter=function(a,o,u){return es(u)===o&&We(a)===We(u)},r.isSelectQuarterInList=function(a,o,u){return u.some(function(d){return r.isSelectedQuarter(a,o,d)})},r.isMonthSelected=function(){var a=r.props,o=a.day,u=a.selected,d=a.selectedDates,m=a.selectsMultiple,x=Ra(o);return m?d?.some(function(p){return r.isSelectedMonth(o,x,p)}):!!u&&r.isSelectedMonth(o,x,u)},r.isQuarterSelected=function(){var a=r.props,o=a.day,u=a.selected,d=a.selectedDates,m=a.selectsMultiple,x=es(o);return m?d?.some(function(p){return r.isSelectedQuarter(o,x,p)}):!!u&&r.isSelectedQuarter(o,x,u)},r.renderWeeks=function(){if(!Oa(r.props.day))return[];for(var a=[],o=r.props.fixedHeight,u=0,d=!1,m=as(br(r.props.day),r.props.locale,r.props.calendarStartDay),x=function(M){return r.props.showWeekPicker?as(M,r.props.locale,r.props.calendarStartDay):r.props.preSelection},p=function(M){return r.props.showWeekPicker?as(M,r.props.locale,r.props.calendarStartDay):r.props.selected},v=r.props.selected?p(r.props.selected):void 0,b=r.props.preSelection?x(r.props.preSelection):void 0;a.push(ne.createElement(r3,Qe({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:u,day:m,month:Ra(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:v,preSelection:b,showWeekNumber:r.props.showWeekNumbers}))),!d;){u++,m=yu(m,1);var g=o&&u>=s3,w=!o&&!r.isWeekInMonth(m);if(g||w)if(r.props.peekNextMonth)d=!0;else break}return a},r.onMonthClick=function(a,o){var u=r.isMonthDisabledForLabelDate(o),d=u.isDisabled,m=u.labelDate;d||r.handleDayClick(br(m),a)},r.onMonthMouseEnter=function(a){var o=r.isMonthDisabledForLabelDate(a),u=o.isDisabled,d=o.labelDate;u||r.handleDayMouseEnter(br(d))},r.handleMonthNavigation=function(a,o){var u,d,m,x;(d=(u=r.props).setPreSelection)===null||d===void 0||d.call(u,o),(x=(m=r.MONTH_REFS[a])===null||m===void 0?void 0:m.current)===null||x===void 0||x.focus()},r.handleKeyboardNavigation=function(a,o,u){var d,m=r.props,x=m.selected,p=m.preSelection,v=m.setPreSelection,b=m.minDate,g=m.maxDate,w=m.showFourColumnMonthYearPicker,M=m.showTwoColumnMonthYearPicker;if(p){var S=Ab(w,M),y=r.getVerticalOffset(S),j=(d=jf[S])===null||d===void 0?void 0:d.grid,D=function(P,T,F){var I,$,A=T,se=F;switch(P){case ye.ArrowRight:A=yn(T,Yc),se=F===11?0:F+Yc;break;case ye.ArrowLeft:A=Ps(T,Yc),se=F===0?11:F-Yc;break;case ye.ArrowUp:A=Ps(T,y),se=!((I=j?.[0])===null||I===void 0)&&I.includes(F)?F+12-y:F-y;break;case ye.ArrowDown:A=yn(T,y),se=!(($=j?.[j.length-1])===null||$===void 0)&&$.includes(F)?F-12+y:F+y;break}return{newCalculatedDate:A,newCalculatedMonth:se}},k=function(P,T,F){for(var I=40,$=P,A=!1,se=0,ce=D($,T,F),le=ce.newCalculatedDate,B=ce.newCalculatedMonth;!A;){if(se>=I){le=T,B=F;break}if(b&&le<b){$=ye.ArrowRight;var W=D($,le,B);le=W.newCalculatedDate,B=W.newCalculatedMonth}if(g&&le>g){$=ye.ArrowLeft;var W=D($,le,B);le=W.newCalculatedDate,B=W.newCalculatedMonth}if(G4(le,r.props)){var W=D($,le,B);le=W.newCalculatedDate,B=W.newCalculatedMonth}else A=!0;se++}return{newCalculatedDate:le,newCalculatedMonth:B}};if(o===ye.Enter){r.isMonthDisabled(u)||(r.onMonthClick(a,u),v?.(x));return}var _=k(o,p,u),O=_.newCalculatedDate,q=_.newCalculatedMonth;switch(o){case ye.ArrowRight:case ye.ArrowLeft:case ye.ArrowUp:case ye.ArrowDown:r.handleMonthNavigation(q,O);break}}},r.getVerticalOffset=function(a){var o,u;return(u=(o=jf[a])===null||o===void 0?void 0:o.verticalNavigationOffset)!==null&&u!==void 0?u:0},r.onMonthKeyDown=function(a,o){var u=r.props,d=u.disabledKeyboardNavigation,m=u.handleOnMonthKeyDown,x=a.key;x!==ye.Tab&&a.preventDefault(),d||r.handleKeyboardNavigation(a,x,o),m&&m(a)},r.onQuarterClick=function(a,o){var u=Al(r.props.day,o);Fc(u,r.props)||r.handleDayClick(hb(u),a)},r.onQuarterMouseEnter=function(a){var o=Al(r.props.day,a);Fc(o,r.props)||r.handleDayMouseEnter(hb(o))},r.handleQuarterNavigation=function(a,o){var u,d,m,x;r.isDisabled(o)||r.isExcluded(o)||((d=(u=r.props).setPreSelection)===null||d===void 0||d.call(u,o),(x=(m=r.QUARTER_REFS[a-1])===null||m===void 0?void 0:m.current)===null||x===void 0||x.focus())},r.onQuarterKeyDown=function(a,o){var u,d,m=a.key;if(!r.props.disabledKeyboardNavigation)switch(m){case ye.Enter:r.onQuarterClick(a,o),(d=(u=r.props).setPreSelection)===null||d===void 0||d.call(u,r.props.selected);break;case ye.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(o===4?1:o+1,fp(r.props.preSelection,1));break;case ye.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(o===1?4:o-1,n1(r.props.preSelection));break}},r.isMonthDisabledForLabelDate=function(a){var o,u=r.props,d=u.day,m=u.disabled,x=u.minDate,p=u.maxDate,v=u.excludeDates,b=u.includeDates,g=$a(d,a);return m?{isDisabled:!0,labelDate:$a(d,a)}:{isDisabled:(o=(x||p||v||b)&&g1(g,r.props))!==null&&o!==void 0?o:!1,labelDate:g}},r.isMonthDisabled=function(a){var o=r.isMonthDisabledForLabelDate(a).isDisabled;return o},r.getMonthClassNames=function(a){var o=r.props,u=o.day,d=o.startDate,m=o.endDate,x=o.preSelection,p=o.monthClassName,v=p?p($a(u,a)):void 0,b=r.getSelection();return Zt("react-datepicker__month-text","react-datepicker__month-".concat(a),v,{"react-datepicker__month-text--disabled":r.isMonthDisabled(a),"react-datepicker__month-text--selected":b?r.isSelectMonthInList(u,a,b):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&x&&r.isSelectedMonth(u,a,x)&&!r.isMonthSelected()&&!r.isMonthDisabled(a),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(a),"react-datepicker__month-text--in-range":d&&m?zc(d,m,a,u):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(a),"react-datepicker__month-text--range-end":r.isRangeEndMonth(a),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(a),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(a),"react-datepicker__month-text--today":r.isCurrentMonth(u,a)})},r.getTabIndex=function(a){if(r.props.preSelection==null)return"-1";var o=Ra(r.props.preSelection),u=r.isMonthDisabledForLabelDate(o).isDisabled,d=a===o&&!(u||r.props.disabledKeyboardNavigation)?"0":"-1";return d},r.getQuarterTabIndex=function(a){if(r.props.preSelection==null)return"-1";var o=es(r.props.preSelection),u=Fc(r.props.day,r.props),d=a===o&&!(u||r.props.disabledKeyboardNavigation)?"0":"-1";return d},r.getAriaLabel=function(a){var o=r.props,u=o.chooseDayAriaLabelPrefix,d=u===void 0?"Choose":u,m=o.disabledDayAriaLabelPrefix,x=m===void 0?"Not available":m,p=o.day,v=o.locale,b=$a(p,a),g=r.isDisabled(b)||r.isExcluded(b)?x:d;return"".concat(g," ").concat(Dt(b,"MMMM yyyy",v))},r.getQuarterClassNames=function(a){var o=r.props,u=o.day,d=o.startDate,m=o.endDate,x=o.minDate,p=o.maxDate,v=o.excludeDates,b=o.includeDates,g=o.filterDate,w=o.preSelection,M=o.disabledKeyboardNavigation,S=o.disabled,y=(x||p||v||b||g||S)&&Fc(Al(u,a),r.props),j=r.getSelection();return Zt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(a),{"react-datepicker__quarter-text--disabled":y,"react-datepicker__quarter-text--selected":j?r.isSelectQuarterInList(u,a,j):void 0,"react-datepicker__quarter-text--keyboard-selected":!M&&w&&r.isSelectedQuarter(u,a,w)&&!r.isQuarterSelected()&&!y,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(a),"react-datepicker__quarter-text--in-range":d&&m?Hc(d,m,a,u):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(a),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(a),"react-datepicker__quarter-text--today":r.isCurrentQuarter(u,a)})},r.getMonthContent=function(a){var o=r.props,u=o.showFullMonthYearPicker,d=o.renderMonthContent,m=o.locale,x=o.day,p=b1(a,m),v=Sp(a,m);return d?d(a,p,v,x):u?v:p},r.getQuarterContent=function(a){var o,u=r.props,d=u.renderQuarterContent,m=u.locale,x=V4(a,m);return(o=d?.(a,x))!==null&&o!==void 0?o:x},r.renderMonths=function(){var a,o=r.props,u=o.showTwoColumnMonthYearPicker,d=o.showFourColumnMonthYearPicker,m=o.day,x=o.selected,p=(a=jf[Ab(d,u)])===null||a===void 0?void 0:a.grid;return p?.map(function(v,b){return ne.createElement("div",{className:"react-datepicker__month-wrapper",key:b},v.map(function(g,w){return ne.createElement("div",{ref:r.MONTH_REFS[g],key:w,onClick:function(M){r.onMonthClick(M,g)},onKeyDown:function(M){w1(M)&&(M.preventDefault(),M.key=ye.Enter),r.onMonthKeyDown(M,g)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(g)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(g)}:void 0,tabIndex:Number(r.getTabIndex(g)),className:r.getMonthClassNames(g),"aria-disabled":r.isMonthDisabled(g),role:"option","aria-label":r.getAriaLabel(g),"aria-current":r.isCurrentMonth(m,g)?"date":void 0,"aria-selected":x?r.isSelectedMonth(m,g,x):void 0},r.getMonthContent(g))}))})},r.renderQuarters=function(){var a=r.props,o=a.day,u=a.selected,d=[1,2,3,4];return ne.createElement("div",{className:"react-datepicker__quarter-wrapper"},d.map(function(m,x){return ne.createElement("div",{key:x,ref:r.QUARTER_REFS[x],role:"option",onClick:function(p){r.onQuarterClick(p,m)},onKeyDown:function(p){r.onQuarterKeyDown(p,m)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(m)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(m)}:void 0,className:r.getQuarterClassNames(m),"aria-selected":u?r.isSelectedQuarter(o,m,u):void 0,tabIndex:Number(r.getQuarterTabIndex(m)),"aria-current":r.isCurrentQuarter(o,m)?"date":void 0},r.getQuarterContent(m))}))},r.getClassNames=function(){var a=r.props,o=a.selectingDate,u=a.selectsStart,d=a.selectsEnd,m=a.showMonthYearPicker,x=a.showQuarterYearPicker,p=a.showWeekPicker;return Zt("react-datepicker__month",{"react-datepicker__month--selecting-range":o&&(u||d)},{"react-datepicker__monthPicker":m},{"react-datepicker__quarterPicker":x},{"react-datepicker__weekPicker":p})},r}return l.prototype.getSelection=function(){var r=this.props,a=r.selected,o=r.selectedDates,u=r.selectsMultiple;if(u)return o;if(a)return[a]},l.prototype.render=function(){var r=this.props,a=r.showMonthYearPicker,o=r.showQuarterYearPicker,u=r.day,d=r.ariaLabelPrefix,m=d===void 0?"Month ":d,x=m?m.trim()+" ":"",p=Oa(u)?"".concat(x).concat(Dt(u,"MMMM, yyyy",this.props.locale)):"",v=a||o;return v?ne.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":p,role:"listbox"},a?this.renderMonths():this.renderQuarters()):ne.createElement("div",{role:"table"},this.props.dayNamesHeader&&ne.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),this.props.monthHeader&&ne.createElement("div",{role:"rowgroup"},this.props.monthHeader),ne.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":p,role:"rowgroup"},this.renderWeeks()),this.props.monthFooter&&ne.createElement("div",{role:"rowgroup"},this.props.monthFooter))},l})(N.Component),i3=(function(s){ua(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.monthOptionButtonsRef={},r.isSelectedMonth=function(a){return r.props.month===a},r.handleOptionKeyDown=function(a,o){var u;switch(o.key){case"Enter":o.preventDefault(),r.onChange(a);break;case"Escape":o.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{o.preventDefault();var d=(a+(o.key==="ArrowUp"?-1:1)+r.props.monthNames.length)%r.props.monthNames.length;(u=r.monthOptionButtonsRef[d])===null||u===void 0||u.focus();break}}},r.renderOptions=function(){return r.monthOptionButtonsRef={},r.props.monthNames.map(function(a,o){return ne.createElement("div",{ref:function(u){r.monthOptionButtonsRef[o]=u,r.isSelectedMonth(o)&&u?.focus()},role:"button",tabIndex:0,className:r.isSelectedMonth(o)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:a,onClick:r.onChange.bind(r,o),onKeyDown:r.handleOptionKeyDown.bind(r,o),"aria-selected":r.isSelectedMonth(o)?"true":void 0},r.isSelectedMonth(o)?ne.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",a)})},r.onChange=function(a){return r.props.onChange(a)},r.handleClickOutside=function(){return r.props.onCancel()},r}return l.prototype.render=function(){return ne.createElement(Gu,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},l})(N.Component),o3=(function(s){ua(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(a){return a.map(function(o,u){return ne.createElement("option",{key:o,value:u},o)})},r.renderSelectMode=function(a){return ne.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(o){return r.onChange(parseInt(o.target.value))}},r.renderSelectOptions(a))},r.renderReadView=function(a,o){return ne.createElement("button",{key:"read",type:"button",style:{visibility:a?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},ne.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ne.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},o[r.props.month]))},r.renderDropdown=function(a){return ne.createElement(i3,Qe({key:"dropdown"},r.props,{monthNames:a,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(a){var o=r.state.dropdownVisible,u=[r.renderReadView(!o,a)];return o&&u.unshift(r.renderDropdown(a)),u},r.onChange=function(a){r.toggleDropdown(),a!==r.props.month&&r.props.onChange(a)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return l.prototype.render=function(){var r=this,a=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(u){return b1(u,r.props.locale)}:function(u){return Sp(u,r.props.locale)}),o;switch(this.props.dropdownMode){case"scroll":o=this.renderScrollMode(a);break;case"select":o=this.renderSelectMode(a);break}return ne.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},o)},l})(N.Component),Eb=5;function c3(s,l,r){for(var a=[],o=s??rs(r,Eb),u=l??bn(r,Eb),d=br(o),m=br(u);!vr(d,m);)a.push(lt(d)),d=yn(d,1);return a}var u3=(function(s){ua(l,s);function l(r){var a=s.call(this,r)||this;return a.renderOptions=function(){return a.state.monthYearsList.map(function(o){var u=Hf(o),d=En(a.props.date,o)&&ba(a.props.date,o);return ne.createElement("div",{className:d?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:u,onClick:a.onChange.bind(a,u),"aria-selected":d?"true":void 0},d?ne.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Dt(o,a.props.dateFormat,a.props.locale))})},a.onChange=function(o){return a.props.onChange(o)},a.handleClickOutside=function(){a.props.onCancel()},a.state={monthYearsList:c3(a.props.minDate,a.props.maxDate,a.props.date)},a}return l.prototype.render=function(){var r=Zt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ne.createElement(Gu,{className:r,onClickOutside:this.handleClickOutside},this.renderOptions())},l})(N.Component),Tb=5,d3=(function(s){ua(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var a,o,u=(a=r.props.minDate)!==null&&a!==void 0?a:rs(r.props.date,Tb),d=(o=r.props.maxDate)!==null&&o!==void 0?o:bn(r.props.date,Tb),m=br(u),x=br(d),p=[];!vr(m,x);){var v=Hf(m);p.push(ne.createElement("option",{key:v,value:v},Dt(m,r.props.dateFormat,r.props.locale))),m=yn(m,1)}return p},r.onSelectChange=function(a){r.onChange(parseInt(a.target.value))},r.renderSelectMode=function(){return ne.createElement("select",{value:Hf(br(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(a){var o=Dt(r.props.date,r.props.dateFormat,r.props.locale);return ne.createElement("div",{key:"read",style:{visibility:a?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},ne.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ne.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},o))},r.renderDropdown=function(){return ne.createElement(u3,Qe({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var a=r.state.dropdownVisible,o=[r.renderReadView(!a)];return a&&o.unshift(r.renderDropdown()),o},r.onChange=function(a){r.toggleDropdown();var o=lt(a);En(r.props.date,o)&&ba(r.props.date,o)||r.props.onChange(o)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return l.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return ne.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)},l})(N.Component),m3=(function(s){ua(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.state={height:null},r.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var a,o,u;r.list&&(r.list.scrollTop=(u=r.centerLi&&l.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-((o=(a=r.header)===null||a===void 0?void 0:a.clientHeight)!==null&&o!==void 0?o:0):r.list.clientHeight,r.centerLi))!==null&&u!==void 0?u:0)})},r.handleClick=function(a){var o,u;(r.props.minTime||r.props.maxTime)&&Nb(a,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&yb(a,r.props)||(u=(o=r.props).onChange)===null||u===void 0||u.call(o,a)},r.isSelectedTime=function(a){var o=Ls(r.props.selected);return o&&j1(o,a)},r.isDisabledTime=function(a){return(r.props.minTime||r.props.maxTime)&&Nb(a,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&yb(a,r.props)},r.liClasses=function(a){var o,u=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(a):void 0];return r.isSelectedTime(a)&&u.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(a)&&u.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(pa(a)*3600+xa(a)*60+ts(a))%(((o=r.props.intervals)!==null&&o!==void 0?o:l.defaultProps.intervals)*60)!==0&&u.push("react-datepicker__time-list-item--injected"),u.join(" ")},r.handleOnKeyDown=function(a,o){var u,d;a.key===ye.Space&&(a.preventDefault(),a.key=ye.Enter),(a.key===ye.ArrowUp||a.key===ye.ArrowLeft)&&a.target instanceof HTMLElement&&a.target.previousSibling&&(a.preventDefault(),a.target.previousSibling instanceof HTMLElement&&a.target.previousSibling.focus()),(a.key===ye.ArrowDown||a.key===ye.ArrowRight)&&a.target instanceof HTMLElement&&a.target.nextSibling&&(a.preventDefault(),a.target.nextSibling instanceof HTMLElement&&a.target.nextSibling.focus()),a.key===ye.Enter&&r.handleClick(o),(d=(u=r.props).handleOnKeyDown)===null||d===void 0||d.call(u,a)},r.renderTimes=function(){for(var a,o=[],u=typeof r.props.format=="string"?r.props.format:"p",d=(a=r.props.intervals)!==null&&a!==void 0?a:l.defaultProps.intervals,m=Ls(r.props.selected)||Ls(r.props.openToDate)||lt(),x=Ji(m),p=r.props.injectTimes&&r.props.injectTimes.sort(function(y,j){return y.getTime()-j.getTime()}),v=60*t3(m),b=v/d,g=0;g<b;g++){var w=lo(x,g*d);if(o.push(w),p){var M=e3(x,w,g,d,p);o=o.concat(M)}}var S=o.reduce(function(y,j){return j.getTime()<=m.getTime()?j:y},o[0]);return o.map(function(y){return ne.createElement("li",{key:y.valueOf(),onClick:r.handleClick.bind(r,y),className:r.liClasses(y),ref:function(j){y===S&&(r.centerLi=j)},onKeyDown:function(j){r.handleOnKeyDown(j,y)},tabIndex:y===S?0:-1,role:"option","aria-selected":r.isSelectedTime(y)?"true":void 0,"aria-disabled":r.isDisabledTime(y)?"true":void 0},Dt(y,u,r.props.locale))})},r.renderTimeCaption=function(){return r.props.showTimeCaption===!1?ne.createElement(ne.Fragment,null):ne.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(r.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(a){r.header=a}},ne.createElement("div",{className:"react-datepicker-time__header"},r.props.timeCaption))},r}return Object.defineProperty(l,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),l.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},l.prototype.componentWillUnmount=function(){var r;(r=this.resizeObserver)===null||r===void 0||r.disconnect()},l.prototype.observeDatePickerHeightChanges=function(){var r=this,a=this.props.monthRef;this.updateContainerHeight(),a&&(this.resizeObserver=new ResizeObserver(function(){r.updateContainerHeight()}),this.resizeObserver.observe(a))},l.prototype.updateContainerHeight=function(){if(this.props.monthRef&&this.header){var r=this.props.monthRef.clientHeight-this.header.clientHeight;this.state.height!==r&&this.setState({height:r})}},l.prototype.render=function(){var r=this,a,o=this.state.height;return ne.createElement("div",{className:"react-datepicker__time-container ".concat(((a=this.props.todayButton)!==null&&a!==void 0?a:l.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ne.createElement("div",{className:"react-datepicker__time"},ne.createElement("div",{className:"react-datepicker__time-box"},ne.createElement("ul",{className:"react-datepicker__time-list",ref:function(u){r.list=u},style:o?{height:o}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},l.calcCenterPosition=function(r,a){return a.offsetTop-(r/2-a.clientHeight/2)},l})(N.Component),_b=3,f3=(function(s){ua(l,s);function l(r){var a=s.call(this,r)||this;return a.YEAR_REFS=Rn([],Array(a.props.yearItemNumber),!0).map(function(){return N.createRef()}),a.isDisabled=function(o){return on(o,{minDate:a.props.minDate,maxDate:a.props.maxDate,excludeDates:a.props.excludeDates,includeDates:a.props.includeDates,filterDate:a.props.filterDate})},a.isExcluded=function(o){return Cp(o,{excludeDates:a.props.excludeDates})},a.selectingDate=function(){var o;return(o=a.props.selectingDate)!==null&&o!==void 0?o:a.props.preSelection},a.updateFocusOnPaginate=function(o){var u=function(){var d,m;(m=(d=a.YEAR_REFS[o])===null||d===void 0?void 0:d.current)===null||m===void 0||m.focus()};window.requestAnimationFrame(u)},a.handleYearClick=function(o,u){a.props.onDayClick&&a.props.onDayClick(o,u)},a.handleYearNavigation=function(o,u){var d,m,x,p,v=a.props,b=v.date,g=v.yearItemNumber;if(!(b===void 0||g===void 0)){var w=xr(b,g).startPeriod;a.isDisabled(u)||a.isExcluded(u)||((m=(d=a.props).setPreSelection)===null||m===void 0||m.call(d,u),o-w<0?a.updateFocusOnPaginate(g-(w-o)):o-w>=g?a.updateFocusOnPaginate(Math.abs(g-(o-w))):(p=(x=a.YEAR_REFS[o-w])===null||x===void 0?void 0:x.current)===null||p===void 0||p.focus())}},a.isSameDay=function(o,u){return et(o,u)},a.isCurrentYear=function(o){return o===We(lt())},a.isRangeStart=function(o){return a.props.startDate&&a.props.endDate&&En(An(lt(),o),a.props.startDate)},a.isRangeEnd=function(o){return a.props.startDate&&a.props.endDate&&En(An(lt(),o),a.props.endDate)},a.isInRange=function(o){return Bc(o,a.props.startDate,a.props.endDate)},a.isInSelectingRange=function(o){var u=a.props,d=u.selectsStart,m=u.selectsEnd,x=u.selectsRange,p=u.startDate,v=u.endDate;return!(d||m||x)||!a.selectingDate()?!1:d&&v?Bc(o,a.selectingDate(),v):m&&p||x&&p&&!v?Bc(o,p,a.selectingDate()):!1},a.isSelectingRangeStart=function(o){var u;if(!a.isInSelectingRange(o))return!1;var d=a.props,m=d.startDate,x=d.selectsStart,p=An(lt(),o);return x?En(p,(u=a.selectingDate())!==null&&u!==void 0?u:null):En(p,m??null)},a.isSelectingRangeEnd=function(o){var u;if(!a.isInSelectingRange(o))return!1;var d=a.props,m=d.endDate,x=d.selectsEnd,p=d.selectsRange,v=An(lt(),o);return x||p?En(v,(u=a.selectingDate())!==null&&u!==void 0?u:null):En(v,m??null)},a.isKeyboardSelected=function(o){if(!(a.props.disabledKeyboardNavigation||a.props.date===void 0||a.props.preSelection==null)){var u=a.props,d=u.minDate,m=u.maxDate,x=u.excludeDates,p=u.includeDates,v=u.filterDate,b=u.selected,g=eo(An(a.props.date,o)),w=(d||m||x||p||v)&&du(o,a.props),M=!!b&&et(g,eo(b)),S=et(g,eo(a.props.preSelection));return!a.props.inline&&!M&&S&&!w}},a.isSelectedYear=function(o){var u=a.props,d=u.selectsMultiple,m=u.selected,x=u.selectedDates;return d?x?.some(function(p){return o===We(p)}):!!m&&o===We(m)},a.onYearClick=function(o,u){var d=a.props.date;d!==void 0&&a.handleYearClick(eo(An(d,u)),o)},a.onYearKeyDown=function(o,u){var d,m,x=o.key,p=a.props,v=p.date,b=p.yearItemNumber,g=p.handleOnKeyDown;if(x!==ye.Tab&&o.preventDefault(),!a.props.disabledKeyboardNavigation)switch(x){case ye.Enter:if(a.props.selected==null)break;a.onYearClick(o,u),(m=(d=a.props).setPreSelection)===null||m===void 0||m.call(d,a.props.selected);break;case ye.ArrowRight:if(a.props.preSelection==null)break;a.handleYearNavigation(u+1,bn(a.props.preSelection,1));break;case ye.ArrowLeft:if(a.props.preSelection==null)break;a.handleYearNavigation(u-1,rs(a.props.preSelection,1));break;case ye.ArrowUp:{if(v===void 0||b===void 0||a.props.preSelection==null)break;var w=xr(v,b).startPeriod,M=_b,S=u-M;if(S<w){var y=b%M;u>=w&&u<w+y?M=y:M+=y,S=u-M}a.handleYearNavigation(S,rs(a.props.preSelection,M));break}case ye.ArrowDown:{if(v===void 0||b===void 0||a.props.preSelection==null)break;var j=xr(v,b).endPeriod,M=_b,S=u+M;if(S>j){var y=b%M;u<=j&&u>j-y?M=y:M+=y,S=u+M}a.handleYearNavigation(S,bn(a.props.preSelection,M));break}}g&&g(o)},a.getYearClassNames=function(o){var u=a.props,d=u.date,m=u.disabled,x=u.minDate,p=u.maxDate,v=u.excludeDates,b=u.includeDates,g=u.filterDate,w=u.yearClassName;return Zt("react-datepicker__year-text","react-datepicker__year-".concat(o),d?w?.(An(d,o)):void 0,{"react-datepicker__year-text--selected":a.isSelectedYear(o),"react-datepicker__year-text--disabled":(x||p||v||b||g||m)&&du(o,a.props),"react-datepicker__year-text--keyboard-selected":a.isKeyboardSelected(o),"react-datepicker__year-text--range-start":a.isRangeStart(o),"react-datepicker__year-text--range-end":a.isRangeEnd(o),"react-datepicker__year-text--in-range":a.isInRange(o),"react-datepicker__year-text--in-selecting-range":a.isInSelectingRange(o),"react-datepicker__year-text--selecting-range-start":a.isSelectingRangeStart(o),"react-datepicker__year-text--selecting-range-end":a.isSelectingRangeEnd(o),"react-datepicker__year-text--today":a.isCurrentYear(o)})},a.getYearTabIndex=function(o){if(a.props.disabledKeyboardNavigation||a.props.preSelection==null)return"-1";var u=We(a.props.preSelection),d=du(o,a.props);return o===u&&!d?"0":"-1"},a.getYearContent=function(o){return a.props.renderYearContent?a.props.renderYearContent(o):o},a}return l.prototype.render=function(){var r=this,a=[],o=this.props,u=o.date,d=o.yearItemNumber,m=o.onYearMouseEnter,x=o.onYearMouseLeave;if(u===void 0)return null;for(var p=xr(u,d),v=p.startPeriod,b=p.endPeriod,g=function(S){a.push(ne.createElement("div",{ref:w.YEAR_REFS[S-v],onClick:function(y){r.onYearClick(y,S)},onKeyDown:function(y){w1(y)&&(y.preventDefault(),y.key=ye.Enter),r.onYearKeyDown(y,S)},tabIndex:Number(w.getYearTabIndex(S)),className:w.getYearClassNames(S),onMouseEnter:w.props.usePointerEvent?void 0:function(y){return m(y,S)},onPointerEnter:w.props.usePointerEvent?function(y){return m(y,S)}:void 0,onMouseLeave:w.props.usePointerEvent?void 0:function(y){return x(y,S)},onPointerLeave:w.props.usePointerEvent?function(y){return x(y,S)}:void 0,key:S,"aria-current":w.isCurrentYear(S)?"date":void 0},w.getYearContent(S)))},w=this,M=v;M<=b;M++)g(M);return ne.createElement("div",{className:"react-datepicker__year"},ne.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},a))},l})(N.Component);function p3(s,l,r,a){for(var o=[],u=0;u<2*l+1;u++){var d=s+l-u,m=!0;r&&(m=We(r)<=d),a&&m&&(m=We(a)>=d),m&&o.push(d)}return o}var x3=(function(s){ua(l,s);function l(r){var a=s.call(this,r)||this;a.yearOptionButtonsRef={},a.handleOptionKeyDown=function(m,x){var p;switch(x.key){case"Enter":x.preventDefault(),a.onChange(m);break;case"Escape":x.preventDefault(),a.props.onCancel();break;case"ArrowUp":case"ArrowDown":{x.preventDefault();var v=m+(x.key==="ArrowUp"?1:-1);a.yearOptionButtonsRef[v]&&((p=a.yearOptionButtonsRef[v])===null||p===void 0||p.focus());break}}},a.renderOptions=function(){a.yearOptionButtonsRef={};var m=a.props.year,x=a.state.yearsList.map(function(b){return ne.createElement("div",{ref:function(g){a.yearOptionButtonsRef[b]=g,b===m&&g?.focus()},role:"button",tabIndex:0,className:m===b?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:b,onClick:a.onChange.bind(a,b),onKeyDown:a.handleOptionKeyDown.bind(a,b),"aria-selected":m===b?"true":void 0},m===b?ne.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",b)}),p=a.props.minDate?We(a.props.minDate):null,v=a.props.maxDate?We(a.props.maxDate):null;return(!v||!a.state.yearsList.find(function(b){return b===v}))&&x.unshift(ne.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:a.incrementYears},ne.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!p||!a.state.yearsList.find(function(b){return b===p}))&&x.push(ne.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:a.decrementYears},ne.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),x},a.onChange=function(m){a.props.onChange(m)},a.handleClickOutside=function(){a.props.onCancel()},a.shiftYears=function(m){var x=a.state.yearsList.map(function(p){return p+m});a.setState({yearsList:x})},a.incrementYears=function(){return a.shiftYears(1)},a.decrementYears=function(){return a.shiftYears(-1)};var o=r.yearDropdownItemNumber,u=r.scrollableYearDropdown,d=o||(u?10:5);return a.state={yearsList:p3(a.props.year,d,a.props.minDate,a.props.maxDate)},a.dropdownRef=N.createRef(),a}return l.prototype.componentDidMount=function(){var r=this.dropdownRef.current;if(r){var a=r.children?Array.from(r.children):null,o=a?a.find(function(u){return u.ariaSelected}):null;r.scrollTop=o&&o instanceof HTMLElement?o.offsetTop+(o.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}},l.prototype.render=function(){var r=Zt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ne.createElement(Gu,{className:r,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},l})(N.Component),h3=(function(s){ua(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var a=r.props.minDate?We(r.props.minDate):1900,o=r.props.maxDate?We(r.props.maxDate):2100,u=[],d=a;d<=o;d++)u.push(ne.createElement("option",{key:d,value:d},d));return u},r.onSelectChange=function(a){r.onChange(parseInt(a.target.value))},r.renderSelectMode=function(){return ne.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(a){return ne.createElement("button",{key:"read",type:"button",style:{visibility:a?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:r.toggleDropdown},ne.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ne.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return ne.createElement(x3,Qe({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var a=r.state.dropdownVisible,o=[r.renderReadView(!a)];return a&&o.unshift(r.renderDropdown()),o},r.onChange=function(a){r.toggleDropdown(),a!==r.props.year&&r.props.onChange(a)},r.toggleDropdown=function(a){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,a)})},r.handleYearChange=function(a,o){var u;(u=r.onSelect)===null||u===void 0||u.call(r,a,o),r.setOpen()},r.onSelect=function(a,o){var u,d;(d=(u=r.props).onSelect)===null||d===void 0||d.call(u,a,o)},r.setOpen=function(){var a,o;(o=(a=r.props).setOpen)===null||o===void 0||o.call(a,!0)},r}return l.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return ne.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)},l})(N.Component),v3=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],S1="react-datepicker-ignore-onclickoutside",b3=function(s){var l=(s.className||"").split(/\s+/);return v3.some(function(r){return l.indexOf(r)>=0})},g3=(function(s){ua(l,s);function l(r){var a=s.call(this,r)||this;return a.monthContainer=void 0,a.handleClickOutside=function(o){a.props.onClickOutside(o)},a.setClickOutsideRef=function(){return a.containerRef.current},a.handleDropdownFocus=function(o){var u,d;b3(o.target)&&((d=(u=a.props).onDropdownFocus)===null||d===void 0||d.call(u,o))},a.getDateInView=function(){var o=a.props,u=o.preSelection,d=o.selected,m=o.openToDate,x=y1(a.props),p=N1(a.props),v=lt(),b=m||d||u;return b||(x&&On(v,x)?x:p&&vr(v,p)?p:v)},a.increaseMonth=function(){a.setState(function(o){var u=o.date;return{date:yn(u,1)}},function(){return a.handleMonthChange(a.state.date)})},a.decreaseMonth=function(){a.setState(function(o){var u=o.date;return{date:Ps(u,1)}},function(){return a.handleMonthChange(a.state.date)})},a.handleDayClick=function(o,u,d){a.props.onSelect(o,u,d),a.props.setPreSelection&&a.props.setPreSelection(o)},a.handleDayMouseEnter=function(o){a.setState({selectingDate:o}),a.props.onDayMouseEnter&&a.props.onDayMouseEnter(o)},a.handleMonthMouseLeave=function(){a.setState({selectingDate:void 0}),a.props.onMonthMouseLeave&&a.props.onMonthMouseLeave()},a.handleYearMouseEnter=function(o,u){a.setState({selectingDate:An(lt(),u)}),a.props.onYearMouseEnter&&a.props.onYearMouseEnter(o,u)},a.handleYearMouseLeave=function(o,u){a.props.onYearMouseLeave&&a.props.onYearMouseLeave(o,u)},a.handleYearChange=function(o){var u,d,m,x;(d=(u=a.props).onYearChange)===null||d===void 0||d.call(u,o),a.setState({isRenderAriaLiveMessage:!0}),a.props.adjustDateOnChange&&(a.props.onSelect(o),(x=(m=a.props).setOpen)===null||x===void 0||x.call(m,!0)),a.props.setPreSelection&&a.props.setPreSelection(o)},a.getEnabledPreSelectionDateForMonth=function(o){if(!on(o,a.props))return o;for(var u=br(o),d=Y4(o),m=ZC(d,u),x=null,p=0;p<=m;p++){var v=vn(u,p);if(!on(v,a.props)){x=v;break}}return x},a.handleMonthChange=function(o){var u,d,m,x=(u=a.getEnabledPreSelectionDateForMonth(o))!==null&&u!==void 0?u:o;a.handleCustomMonthChange(x),a.props.adjustDateOnChange&&(a.props.onSelect(x),(m=(d=a.props).setOpen)===null||m===void 0||m.call(d,!0)),a.props.setPreSelection&&a.props.setPreSelection(x)},a.handleCustomMonthChange=function(o){var u,d;(d=(u=a.props).onMonthChange)===null||d===void 0||d.call(u,o),a.setState({isRenderAriaLiveMessage:!0})},a.handleMonthYearChange=function(o){a.handleYearChange(o),a.handleMonthChange(o)},a.changeYear=function(o){a.setState(function(u){var d=u.date;return{date:An(d,Number(o))}},function(){return a.handleYearChange(a.state.date)})},a.changeMonth=function(o){a.setState(function(u){var d=u.date;return{date:$a(d,Number(o))}},function(){var u,d;a.handleMonthChange(a.state.date),(d=(u=a.props).onMonthSelectedInChange)===null||d===void 0||d.call(u,0)})},a.changeMonthYear=function(o){a.setState(function(u){var d=u.date;return{date:An($a(d,Ra(o)),We(o))}},function(){return a.handleMonthYearChange(a.state.date)})},a.header=function(o,u){if(o===void 0&&(o=a.state.date),u===void 0&&(u=0),!Oa(o))return[];var d=a.props.disabled,m=as(o,a.props.locale,a.props.calendarStartDay),x=[];return a.props.showWeekNumbers&&x.push(ne.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(d?"react-datepicker__day-name--disabled":""),role:"columnheader"},ne.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),ne.createElement("span",{"aria-hidden":"true"},a.props.weekLabel||"#"))),x.concat([0,1,2,3,4,5,6].map(function(p){var v=vn(m,p),b=a.formatWeekday(v,a.props.locale),g=Dt(v,"EEEE",a.props.locale),w=a.props.weekDayClassName?a.props.weekDayClassName(v):void 0;if(a.props.renderCustomDayName){var M=a.props.renderCustomDayName({day:v,shortName:b,fullName:g,locale:a.props.locale,customDayNameCount:u});return ne.createElement("div",{key:p,role:"columnheader",className:Zt("react-datepicker__day-name",w,d?"react-datepicker__day-name--disabled":"")},M)}return ne.createElement("div",{key:p,role:"columnheader",className:Zt("react-datepicker__day-name",w,d?"react-datepicker__day-name--disabled":"")},ne.createElement("span",{className:"react-datepicker__sr-only"},g),ne.createElement("span",{"aria-hidden":"true"},b))}))},a.formatWeekday=function(o,u){return a.props.formatWeekDay?q4(o,a.props.formatWeekDay,u):a.props.useWeekdaysShort?$4(o,u):U4(o,u)},a.decreaseYear=function(){a.setState(function(o){var u,d=o.date;return{date:rs(d,a.props.showYearPicker?(u=a.props.yearItemNumber)!==null&&u!==void 0?u:l.defaultProps.yearItemNumber:1)}},function(){return a.handleYearChange(a.state.date)})},a.clearSelectingDate=function(){a.setState({selectingDate:void 0})},a.renderPreviousButton=function(){var o,u,d;if(!a.props.renderCustomHeader){var m=(o=a.props.monthsShown)!==null&&o!==void 0?o:l.defaultProps.monthsShown,x=a.props.showPreviousMonths?m-1:0,p=(u=a.props.monthSelectedIn)!==null&&u!==void 0?u:x,v=Ps(a.state.date,p),b;switch(!0){case a.props.disabled:b=!0;break;case a.props.showMonthYearPicker:b=Sb(a.state.date,a.props);break;case a.props.showYearPicker:b=X4(a.state.date,a.props);break;case a.props.showQuarterYearPicker:b=Q4(a.state.date,a.props);break;default:b=jb(v,a.props);break}if(!(!((d=a.props.forceShowMonthNavigation)!==null&&d!==void 0?d:l.defaultProps.forceShowMonthNavigation)&&!a.props.showDisabledMonthNavigation&&b||a.props.showTimeSelectOnly)){var g=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],w=["react-datepicker__navigation","react-datepicker__navigation--previous"],M=a.decreaseMonth;(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker)&&(M=a.decreaseYear),b&&a.props.showDisabledMonthNavigation&&(w.push("react-datepicker__navigation--previous--disabled"),M=void 0);var S=a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker,y=a.props,j=y.previousMonthButtonLabel,D=j===void 0?l.defaultProps.previousMonthButtonLabel:j,k=y.previousYearButtonLabel,_=k===void 0?l.defaultProps.previousYearButtonLabel:k,O=a.props,q=O.previousMonthAriaLabel,P=q===void 0?typeof D=="string"?D:"Previous Month":q,T=O.previousYearAriaLabel,F=T===void 0?typeof _=="string"?_:"Previous Year":T;return ne.createElement("button",{type:"button",className:w.join(" "),onClick:M,onKeyDown:a.props.handleOnKeyDown,"aria-label":S?F:P},ne.createElement("span",{className:g.join(" ")},S?_:D))}}},a.increaseYear=function(){a.setState(function(o){var u,d=o.date;return{date:bn(d,a.props.showYearPicker?(u=a.props.yearItemNumber)!==null&&u!==void 0?u:l.defaultProps.yearItemNumber:1)}},function(){return a.handleYearChange(a.state.date)})},a.renderNextButton=function(){var o;if(!a.props.renderCustomHeader){var u;switch(!0){case a.props.disabled:u=!0;break;case a.props.showMonthYearPicker:u=Cb(a.state.date,a.props);break;case a.props.showYearPicker:u=W4(a.state.date,a.props);break;case a.props.showQuarterYearPicker:u=K4(a.state.date,a.props);break;default:u=wb(a.state.date,a.props);break}if(!(!((o=a.props.forceShowMonthNavigation)!==null&&o!==void 0?o:l.defaultProps.forceShowMonthNavigation)&&!a.props.showDisabledMonthNavigation&&u||a.props.showTimeSelectOnly)){var d=["react-datepicker__navigation","react-datepicker__navigation--next"],m=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];a.props.showTimeSelect&&d.push("react-datepicker__navigation--next--with-time"),a.props.todayButton&&d.push("react-datepicker__navigation--next--with-today-button");var x=a.increaseMonth;(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker)&&(x=a.increaseYear),u&&a.props.showDisabledMonthNavigation&&(d.push("react-datepicker__navigation--next--disabled"),x=void 0);var p=a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker,v=a.props,b=v.nextMonthButtonLabel,g=b===void 0?l.defaultProps.nextMonthButtonLabel:b,w=v.nextYearButtonLabel,M=w===void 0?l.defaultProps.nextYearButtonLabel:w,S=a.props,y=S.nextMonthAriaLabel,j=y===void 0?typeof g=="string"?g:"Next Month":y,D=S.nextYearAriaLabel,k=D===void 0?typeof M=="string"?M:"Next Year":D;return ne.createElement("button",{type:"button",className:d.join(" "),onClick:x,onKeyDown:a.props.handleOnKeyDown,"aria-label":p?k:j},ne.createElement("span",{className:m.join(" ")},p?M:g))}}},a.renderCurrentMonth=function(o){o===void 0&&(o=a.state.date);var u=["react-datepicker__current-month"];return a.props.showYearDropdown&&u.push("react-datepicker__current-month--hasYearDropdown"),a.props.showMonthDropdown&&u.push("react-datepicker__current-month--hasMonthDropdown"),a.props.showMonthYearDropdown&&u.push("react-datepicker__current-month--hasMonthYearDropdown"),ne.createElement("h2",{className:u.join(" ")},Oa(o)?Dt(o,a.props.dateFormat,a.props.locale):"")},a.renderYearDropdown=function(o){if(o===void 0&&(o=!1),!(!a.props.showYearDropdown||o))return ne.createElement(h3,Qe({},l.defaultProps,a.props,{date:a.state.date,onChange:a.changeYear,year:We(a.state.date)}))},a.renderMonthDropdown=function(o){if(o===void 0&&(o=!1),!(!a.props.showMonthDropdown||o))return ne.createElement(o3,Qe({},l.defaultProps,a.props,{month:Ra(a.state.date),onChange:a.changeMonth}))},a.renderMonthYearDropdown=function(o){if(o===void 0&&(o=!1),!(!a.props.showMonthYearDropdown||o))return ne.createElement(d3,Qe({},l.defaultProps,a.props,{date:a.state.date,onChange:a.changeMonthYear}))},a.handleTodayButtonClick=function(o){a.props.onSelect(vb(),o),a.props.setPreSelection&&a.props.setPreSelection(vb())},a.renderTodayButton=function(){if(!(!a.props.todayButton||a.props.showTimeSelectOnly))return ne.createElement("div",{className:"react-datepicker__today-button",onClick:a.handleTodayButtonClick},a.props.todayButton)},a.renderDayNamesHeader=function(o,u){return u===void 0&&(u=0),ne.createElement("div",{className:"react-datepicker__day-names",role:"row"},a.header(o,u))},a.renderDefaultHeader=function(o){var u=o.monthDate,d=o.i,m=ne.createElement("div",{className:Zt("react-datepicker__header",{"react-datepicker__header--has-time-select":a.props.showTimeSelect,"react-datepicker__header--middle":a.props.monthHeaderPosition==="middle","react-datepicker__header--bottom":a.props.monthHeaderPosition==="bottom"})},a.renderCurrentMonth(u),ne.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(a.props.dropdownMode),onFocus:a.handleDropdownFocus},a.renderMonthDropdown(d!==0),a.renderMonthYearDropdown(d!==0),a.renderYearDropdown(d!==0)));return a.props.monthHeaderPosition==="top"?m:ne.createElement("div",{className:"react-datepicker__header-wrapper"},a.renderPreviousButton()||null,a.renderNextButton()||null,m)},a.renderCustomHeader=function(o){var u,d,m=o.monthDate,x=o.i;if(a.props.showTimeSelect&&!a.state.monthContainer||a.props.showTimeSelectOnly)return null;var p=a.props,v=p.showYearPicker,b=p.yearItemNumber,g;if(v){var w=xr(m,b),M=w.startPeriod,S=w.endPeriod;g={startYear:M,endYear:S}}var y=jb(a.state.date,a.props),j=wb(a.state.date,a.props),D=Sb(a.state.date,a.props),k=Cb(a.state.date,a.props);return ne.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:a.props.onDropdownFocus},(d=(u=a.props).renderCustomHeader)===null||d===void 0?void 0:d.call(u,Qe(Qe(Qe({},a.state),v&&{visibleYearsRange:g}),{customHeaderCount:x,monthDate:m,changeMonth:a.changeMonth,changeYear:a.changeYear,decreaseMonth:a.decreaseMonth,increaseMonth:a.increaseMonth,decreaseYear:a.decreaseYear,increaseYear:a.increaseYear,prevMonthButtonDisabled:y,nextMonthButtonDisabled:j,prevYearButtonDisabled:D,nextYearButtonDisabled:k})))},a.renderYearHeader=function(o){var u=o.monthDate,d=a.props,m=d.showYearPicker,x=d.yearItemNumber,p=x===void 0?l.defaultProps.yearItemNumber:x,v=xr(u,p),b=v.startPeriod,g=v.endPeriod;return ne.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},m?"".concat(b," - ").concat(g):We(u))},a.renderHeader=function(o){var u=o.monthDate,d=o.i,m=d===void 0?0:d,x={monthDate:u,i:m};switch(!0){case a.props.renderCustomHeader!==void 0:return a.renderCustomHeader(x);case(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker):return a.renderYearHeader(x);default:return a.renderDefaultHeader(x)}},a.renderMonths=function(){var o,u;if(!(a.props.showTimeSelectOnly||a.props.showYearPicker)){for(var d=[],m=(o=a.props.monthsShown)!==null&&o!==void 0?o:l.defaultProps.monthsShown,x=a.props.showPreviousMonths?m-1:0,p=a.props.showMonthYearPicker||a.props.showQuarterYearPicker?bn(a.state.date,x):Ps(a.state.date,x),v=(u=a.props.monthSelectedIn)!==null&&u!==void 0?u:x,b=0;b<m;++b){var g=b-v+x,w=a.props.showMonthYearPicker||a.props.showQuarterYearPicker?bn(p,g):yn(p,g),M="month-".concat(b),S=b<m-1,y=b>0;d.push(ne.createElement("div",{key:M,ref:function(j){a.monthContainer=j??void 0},className:"react-datepicker__month-container"},a.props.monthHeaderPosition==="top"&&a.renderHeader({monthDate:w,i:b}),ne.createElement(l3,Qe({},l.defaultProps,a.props,{containerRef:a.containerRef,ariaLabelPrefix:a.props.monthAriaLabelPrefix,day:w,onDayClick:a.handleDayClick,handleOnKeyDown:a.props.handleOnDayKeyDown,handleOnMonthKeyDown:a.props.handleOnKeyDown,onDayMouseEnter:a.handleDayMouseEnter,onMouseLeave:a.handleMonthMouseLeave,orderInDisplay:b,selectingDate:a.state.selectingDate,monthShowsDuplicateDaysEnd:S,monthShowsDuplicateDaysStart:y,dayNamesHeader:a.renderDayNamesHeader(w,b),monthHeader:a.props.monthHeaderPosition==="middle"?a.renderHeader({monthDate:w,i:b}):void 0,monthFooter:a.props.monthHeaderPosition==="bottom"?a.renderHeader({monthDate:w,i:b}):void 0}))))}return d}},a.renderYears=function(){if(!a.props.showTimeSelectOnly&&a.props.showYearPicker)return ne.createElement("div",{className:"react-datepicker__year--container"},a.renderHeader({monthDate:a.state.date}),ne.createElement(f3,Qe({},l.defaultProps,a.props,{selectingDate:a.state.selectingDate,date:a.state.date,onDayClick:a.handleDayClick,clearSelectingDate:a.clearSelectingDate,onYearMouseEnter:a.handleYearMouseEnter,onYearMouseLeave:a.handleYearMouseLeave})))},a.renderTimeSection=function(){if(a.props.showTimeSelect&&(a.state.monthContainer||a.props.showTimeSelectOnly))return ne.createElement(m3,Qe({},l.defaultProps,a.props,{onChange:a.props.onTimeChange,format:a.props.timeFormat,intervals:a.props.timeIntervals,monthRef:a.state.monthContainer}))},a.renderInputTimeSection=function(){var o,u;if(a.props.showTimeInput){if(a.props.selectsRange){var d=a.props,m=d.startDate,x=d.endDate,p=m?new Date(m):void 0,v=p&&Oa(p)&&!!m,b=v?"".concat(Cl(p.getHours()),":").concat(Cl(p.getMinutes())):"",g=x?new Date(x):void 0,w=g&&Oa(g)&&!!x,M=w?"".concat(Cl(g.getHours()),":").concat(Cl(g.getMinutes())):"";return ne.createElement(ne.Fragment,null,ne.createElement(Nf,Qe({},l.defaultProps,a.props,{date:p,timeString:b,onChange:function(D){var k,_;(_=(k=a.props).onTimeChange)===null||_===void 0||_.call(k,D,"start")},timeInputLabel:((o=a.props.timeInputLabel)!==null&&o!==void 0?o:"Time")+" (Start)"})),ne.createElement(Nf,Qe({},l.defaultProps,a.props,{date:g,timeString:M,onChange:function(D){var k,_;(_=(k=a.props).onTimeChange)===null||_===void 0||_.call(k,D,"end")},timeInputLabel:((u=a.props.timeInputLabel)!==null&&u!==void 0?u:"Time")+" (End)"})))}var S=a.props.selected?new Date(a.props.selected):void 0,y=S&&Oa(S)&&!!a.props.selected,j=y?"".concat(Cl(S.getHours()),":").concat(Cl(S.getMinutes())):"";return ne.createElement(Nf,Qe({},l.defaultProps,a.props,{date:S,timeString:j,onChange:function(D){var k,_;(_=(k=a.props).onTimeChange)===null||_===void 0||_.call(k,D)}}))}},a.renderAriaLiveRegion=function(){var o;if(!Oa(a.state.date))return ne.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"});var u=xr(a.state.date,(o=a.props.yearItemNumber)!==null&&o!==void 0?o:l.defaultProps.yearItemNumber),d=u.startPeriod,m=u.endPeriod,x;return a.props.showYearPicker?x="".concat(d," - ").concat(m):a.props.showMonthYearPicker||a.props.showQuarterYearPicker?x=We(a.state.date):x="".concat(Sp(Ra(a.state.date),a.props.locale)," ").concat(We(a.state.date)),ne.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},a.state.isRenderAriaLiveMessage&&x)},a.renderChildren=function(){if(a.props.children)return ne.createElement("div",{className:"react-datepicker__children-container"},a.props.children)},a.containerRef=N.createRef(),a.state={date:a.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},a}return Object.defineProperty(l,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:S1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:ho,monthHeaderPosition:"top"}},enumerable:!1,configurable:!0}),l.prototype.componentDidMount=function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){r.setState({monthContainer:r.monthContainer})})())},l.prototype.componentDidUpdate=function(r){var a=this;if(this.props.preSelection&&Oa(this.props.preSelection)&&(!et(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var o=!ba(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return o&&a.handleCustomMonthChange(a.state.date)})}else this.props.openToDate&&!et(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})},l.prototype.render=function(){var r=this.props.container||R4;return ne.createElement(Gu,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},ne.createElement("div",{style:{display:"contents"},ref:this.containerRef},ne.createElement(r,{className:Zt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.props.monthHeaderPosition==="top"&&this.renderPreviousButton(),this.props.monthHeaderPosition==="top"&&this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},l})(N.Component),y3=function(s){var l=s.icon,r=s.className,a=r===void 0?"":r,o=s.onClick,u="react-datepicker__calendar-icon";if(typeof l=="string")return ne.createElement("i",{className:"".concat(u," ").concat(l," ").concat(a),"aria-hidden":"true",onClick:o});if(ne.isValidElement(l)){var d=l;return ne.cloneElement(d,{className:"".concat(d.props.className||""," ").concat(u," ").concat(a),onClick:function(m){typeof d.props.onClick=="function"&&d.props.onClick(m),typeof o=="function"&&o(m)}})}return ne.createElement("svg",{className:"".concat(u," ").concat(a),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:o},ne.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},C1=(function(s){ua(l,s);function l(r){var a=s.call(this,r)||this;return a.portalRoot=null,a.el=document.createElement("div"),a}return l.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},l.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},l.prototype.render=function(){return R2.createPortal(this.props.children,this.el)},l})(N.Component),N3="[tabindex], a, button, input, select, textarea",j3=function(s){return(s instanceof HTMLAnchorElement||!s.disabled)&&s.tabIndex!==-1},k1=(function(s){ua(l,s);function l(r){var a=s.call(this,r)||this;return a.getTabChildren=function(){var o;return Array.prototype.slice.call((o=a.tabLoopRef.current)===null||o===void 0?void 0:o.querySelectorAll(N3),1,-1).filter(j3)},a.handleFocusStart=function(){var o=a.getTabChildren();o&&o.length>1&&o[o.length-1].focus()},a.handleFocusEnd=function(){var o=a.getTabChildren();o&&o.length>1&&o[0].focus()},a.tabLoopRef=N.createRef(),a}return l.prototype.render=function(){var r;return((r=this.props.enableTabLoop)!==null&&r!==void 0?r:l.defaultProps.enableTabLoop)?ne.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ne.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ne.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},l.defaultProps={enableTabLoop:!0},l})(N.Component);function w3(s){function l(r){var a,o=typeof r.hidePopper=="boolean"?r.hidePopper:!0,u=N.useRef(null),d=O4(Qe({open:!o,whileElementsMounted:d4,placement:r.popperPlacement,middleware:Rn([y4({padding:15}),g4(10),N4({element:u})],(a=r.popperModifiers)!==null&&a!==void 0?a:[],!0)},r.popperProps)),m=Qe(Qe({},r),{hidePopper:o,popperProps:Qe(Qe({},d),{arrowRef:u})});return ne.createElement(s,Qe({},m))}return l.displayName="withFloating(".concat(s.displayName||s.name||"Component",")"),l}var S3=function(s){var l=s.className,r=s.wrapperClassName,a=s.hidePopper,o=a===void 0?!0:a,u=s.popperComponent,d=s.targetComponent,m=s.enableTabLoop,x=s.popperOnKeyDown,p=s.portalId,v=s.portalHost,b=s.popperProps,g=s.showArrow,w=s.popperTargetRef,M=s.monthHeaderPosition;N.useEffect(function(){w?.current&&b.refs.setPositionReference(w.current)},[w,b.refs]);var S=void 0;if(!o){var y=Zt("react-datepicker-popper",!g&&"react-datepicker-popper-offset",M==="middle"&&"react-datepicker-popper--header-middle",M==="bottom"&&"react-datepicker-popper--header-bottom",l);S=ne.createElement(k1,{enableTabLoop:m},ne.createElement("div",{ref:b.refs.setFloating,style:b.floatingStyles,className:y,"data-placement":b.placement,onKeyDown:x},u,g&&ne.createElement(k4,{ref:b.arrowRef,context:b.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}s.popperContainer&&(S=N.createElement(s.popperContainer,{},S)),p&&!o&&(S=ne.createElement(C1,{portalId:p,portalHost:v},S));var j=Zt("react-datepicker-wrapper",r);return ne.createElement(ne.Fragment,null,ne.createElement("div",{ref:b.refs.setReference,className:j},d),S)},C3=w3(S3);function Ob(s,l){return s&&l?Ra(s)!==Ra(l)||We(s)!==We(l):s!==l}var wf="Date input not valid.",k3=(function(s){ua(l,s);function l(r){var a=s.call(this,r)||this;return a.calendar=null,a.input=null,a.getPreSelection=function(){var o=a.props.timeZone,u=a.props.openToDate?a.props.openToDate:a.props.selectsEnd&&a.props.startDate?a.props.startDate:a.props.selectsStart&&a.props.endDate?a.props.endDate:lt();return o?xb(u,o):u},a.modifyHolidays=function(){var o;return(o=a.props.holidays)===null||o===void 0?void 0:o.reduce(function(u,d){var m=Ds(d.date,"yyyy-MM-dd",void 0,!1);return m?Rn(Rn([],u,!0),[Qe(Qe({},d),{date:m})],!1):u},[])},a.calcInitialState=function(){var o=a.props.timeZone,u=a.getPreSelection(),d=y1(a.props),m=N1(a.props),x=d&&On(u,Ji(d))?d:m&&vr(u,bb(m))?m:u,p=a.props.selectsRange?a.props.startDate:a.props.selected;return p&&o&&(p=xb(p,o)),{open:a.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:p??x,highlightDates:kb(a.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},a.getInputValue=function(){var o,u=a.props,d=u.locale,m=u.startDate,x=u.endDate,p=u.rangeSeparator,v=u.selected,b=u.selectedDates,g=u.selectsMultiple,w=u.selectsRange,M=u.formatMultipleDates,S=u.value,y=(o=a.props.dateFormat)!==null&&o!==void 0?o:l.defaultProps.dateFormat,j=a.state.inputValue;if(typeof S=="string")return S;if(typeof j=="string")return j;if(w)return P4(m,x,{dateFormat:y,locale:d,rangeSeparator:p});if(g){if(M){var D=function(k){return _a(k,{dateFormat:y,locale:d})};return M(b??[],D)}return z4(b??[],{dateFormat:y,locale:d})}return _a(v,{dateFormat:y,locale:d})},a.resetHiddenStatus=function(){a.setState(Qe(Qe({},a.state),{wasHidden:!1}))},a.setHiddenStatus=function(){a.setState(Qe(Qe({},a.state),{wasHidden:!0}))},a.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&a.setHiddenStatus()},a.clearPreventFocusTimeout=function(){a.preventFocusTimeout&&clearTimeout(a.preventFocusTimeout)},a.setFocus=function(){var o,u;(u=(o=a.input)===null||o===void 0?void 0:o.focus)===null||u===void 0||u.call(o,{preventScroll:!0})},a.setBlur=function(){var o,u;(u=(o=a.input)===null||o===void 0?void 0:o.blur)===null||u===void 0||u.call(o),a.cancelFocusInput()},a.deferBlur=function(){requestAnimationFrame(function(){a.setBlur()})},a.setOpen=function(o,u){u===void 0&&(u=!1),a.setState({open:o,preSelection:o&&a.state.open?a.state.preSelection:a.calcInitialState().preSelection,lastPreSelectChange:Sf},function(){o||a.setState(function(d){return{focused:u?d.focused:!1}},function(){!u&&a.deferBlur(),a.setState({inputValue:null})})})},a.inputOk=function(){return Pn(a.state.preSelection)},a.isCalendarOpen=function(){return a.props.open===void 0?a.state.open&&!a.props.disabled&&!a.props.readOnly:a.props.open},a.handleFocus=function(o){var u,d,m=a.state.wasHidden,x=m?a.state.open:!0;m&&a.resetHiddenStatus(),a.state.preventFocus||((d=(u=a.props).onFocus)===null||d===void 0||d.call(u,o),x&&!a.props.preventOpenOnFocus&&!a.props.readOnly&&a.setOpen(!0)),a.setState({focused:!0})},a.sendFocusBackToInput=function(){a.preventFocusTimeout&&a.clearPreventFocusTimeout(),a.setState({preventFocus:!0},function(){a.preventFocusTimeout=setTimeout(function(){a.setFocus(),a.setState({preventFocus:!1})})})},a.cancelFocusInput=function(){clearTimeout(a.inputFocusTimeout),a.inputFocusTimeout=void 0},a.deferFocusInput=function(){a.cancelFocusInput(),a.inputFocusTimeout=setTimeout(function(){return a.setFocus()},1)},a.handleDropdownFocus=function(){a.cancelFocusInput()},a.resetInputValue=function(){a.setState(Qe(Qe({},a.state),{inputValue:null}))},a.handleBlur=function(o){var u,d;(!a.state.open||a.props.withPortal||a.props.showTimeInput)&&((d=(u=a.props).onBlur)===null||d===void 0||d.call(u,o));var m=a.state.inputValue;if(typeof m=="string"&&m.length>0){var x=/[a-zA-Z0-9]/.test(m);!x&&a.props.selected&&a.setSelected(null,void 0,!0)}a.resetInputValue(),a.state.open&&a.props.open===!1&&a.setOpen(!1),a.setState({focused:!1})},a.handleCalendarClickOutside=function(o){var u,d;(d=(u=a.props).onClickOutside)===null||d===void 0||d.call(u,o),!a.props.inline&&!o.defaultPrevented&&a.setOpen(!1),a.props.withPortal&&o.preventDefault()},a.handleChange=function(){for(var o,u,d,m,x,p,v,b,g=[],w=0;w<arguments.length;w++)g[w]=arguments[w];var M=g[0];if(!(a.props.onChangeRaw&&(a.props.onChangeRaw.apply(a,g),!M||typeof M.isDefaultPrevented!="function"||M.isDefaultPrevented()))){a.setState({inputValue:M?.target instanceof HTMLInputElement?M.target.value:null,lastPreSelectChange:D3});var S=a.props,y=S.selectsRange,j=S.startDate,D=S.endDate,k=(o=a.props.dateFormat)!==null&&o!==void 0?o:l.defaultProps.dateFormat,_=(u=a.props.strictParsing)!==null&&u!==void 0?u:l.defaultProps.strictParsing,O=M?.target instanceof HTMLInputElement?M.target.value:"";if(y){var q=a.props.rangeSeparator,P=q.trim(),T=O.split(k.includes(P)?q:P,2).map(function(W){return W.trim()}),F=T[0],I=T[1],$=Ds(F??"",k,a.props.locale,_),A=$?Ds(I??"",k,a.props.locale,_):null,se=((d=Ls(j))===null||d===void 0?void 0:d.getTime())!==$?.getTime(),ce=((m=Ls(D))===null||m===void 0?void 0:m.getTime())!==A?.getTime();if(!se&&!ce||$&&on($,a.props)||A&&on(A,a.props))return;$&&a.setState({preSelection:$}),(p=(x=a.props).onChange)===null||p===void 0||p.call(x,[$,A],M)}else{var le=Ds(O,k,a.props.locale,_,(v=a.props.selected)!==null&&v!==void 0?v:void 0);if(le||!O)a.setSelected(le,M,!0);else if(!a.props.inline){var B=I4(O,(b=a.state.preSelection)!==null&&b!==void 0?b:void 0);B&&(!a.props.minDate||!On(B,a.props.minDate))&&(!a.props.maxDate||!vr(B,a.props.maxDate))&&a.setState({preSelection:B})}}}},a.handleSelect=function(o,u,d){var m;if(!a.props.readOnly){var x=a.props,p=x.selectsRange,v=x.startDate,b=x.endDate,g=x.locale,w=x.swapRange,M=(m=a.props.dateFormat)!==null&&m!==void 0?m:l.defaultProps.dateFormat,S=!p||v&&!b&&(w||!yf(o,v));if(a.props.shouldCloseOnSelect&&!a.props.showTimeSelect&&S&&a.sendFocusBackToInput(),a.props.onChangeRaw){var y=_a(o,{dateFormat:M,locale:g});a.props.onChangeRaw(u,{date:o,formattedDate:y})}a.setSelected(o,u,!1,d),a.props.showDateSelect&&a.setState({isRenderAriaLiveMessage:!0}),!a.props.shouldCloseOnSelect||a.props.showTimeSelect?a.setPreSelection(o):S&&a.setOpen(!1)}},a.setSelected=function(o,u,d,m){var x,p,v=a.props.timeZone,b=o;if(b&&v&&(b=fr(b,v)),a.props.showYearPicker){if(b!==null&&du(We(b),a.props))return}else if(a.props.showMonthYearPicker){if(b!==null&&g1(b,a.props))return}else if(b!==null&&on(b,a.props))return;var g=a.props,w=g.onChange,M=g.selectsRange,S=g.startDate,y=g.endDate,j=g.selectsMultiple,D=g.selectedDates,k=g.minTime,_=g.swapRange;if(!Is(a.props.selected,b)||a.props.allowSameDay||M||j)if(b!==null&&(a.props.selected&&(!d||!a.props.showTimeSelect&&!a.props.showTimeSelectOnly&&!a.props.showTimeInput)&&(b=pr(b,{hour:pa(a.props.selected),minute:xa(a.props.selected),second:ts(a.props.selected)})),!d&&(a.props.showTimeSelect||a.props.showTimeSelectOnly)&&k&&(b=pr(b,{hour:k.getHours(),minute:k.getMinutes(),second:k.getSeconds()})),a.props.inline||a.setState({preSelection:b}),a.props.focusSelectedMonth||a.setState({monthSelectedIn:m})),M){var O=w,q=!S&&!y,P=S&&!y,T=!S&&!!y,F=S&&y;q?O?.([b,null],u):P?b===null?O?.([null,null],u):yf(b,S)?O?.(_?[b,S]:[b,null],u):O?.([S,b],u):T&&(b&&yf(b,y)?O?.([b,y],u):O?.([b,null],u)),F&&O?.([b,null],u)}else if(j){var I=w;if(b!==null)if(!D?.length)I?.([b],u);else{var $=D.some(function(se){return et(se,b)});if($){var A=D.filter(function(se){return!et(se,b)});I?.(A,u)}else I?.(Rn(Rn([],D,!0),[b],!1),u)}}else w?.(b,u);d||((p=(x=a.props).onSelect)===null||p===void 0||p.call(x,b,u),a.setState({inputValue:null}))},a.setPreSelection=function(o){if(!a.props.readOnly){var u=Pn(a.props.minDate),d=Pn(a.props.maxDate),m=!0;if(o){var x=Ji(o);if(u&&d)m=Ts(o,a.props.minDate,a.props.maxDate);else if(u){var p=Ji(a.props.minDate);m=vr(o,p)||Is(x,p)}else if(d){var v=bb(a.props.maxDate);m=On(o,v)||Is(x,v)}}m&&a.setState({preSelection:o})}},a.toggleCalendar=function(){a.setOpen(!a.state.open)},a.handleTimeChange=function(o,u){var d,m;if(!a.props.selectsMultiple){var x=a.props,p=x.selectsRange,v=x.startDate,b=x.endDate,g=x.onChange,w=x.timeZone;if(p){var M=g;if(u==="start"){if(v){var S=pr(v,{hour:pa(o),minute:xa(o)});a.setState({preSelection:S}),w&&(S=fr(S,w)),M?.([S,b?w?fr(b,w):b:null],void 0)}}else if(u==="end"){if(b){var y=pr(b,{hour:pa(o),minute:xa(o)});a.setState({preSelection:y}),w&&(y=fr(y,w)),M?.([v?w?fr(v,w):v:null,y],void 0)}}else{var j=v&&!b;if(j){var S=pr(v,{hour:pa(o),minute:xa(o)});a.setState({preSelection:S}),w&&(S=fr(S,w)),M?.([S,null],void 0)}else if(v&&b){var y=pr(b,{hour:pa(o),minute:xa(o)});a.setState({preSelection:y}),w&&(y=fr(y,w)),M?.([w?fr(v,w):v,y],void 0)}else{var D=pr(a.getPreSelection(),{hour:pa(o),minute:xa(o)});a.setState({preSelection:D})}}}else{var k=a.props.selected?a.props.selected:a.getPreSelection(),D=a.props.selected?o:pr(k,{hour:pa(o),minute:xa(o)});a.setState({preSelection:D}),D&&w&&(D=fr(D,w)),(m=(d=a.props).onChange)===null||m===void 0||m.call(d,D)}a.props.shouldCloseOnSelect&&!a.props.showTimeInput&&(a.sendFocusBackToInput(),a.setOpen(!1)),a.props.showTimeInput&&a.setOpen(!0),(a.props.showTimeSelectOnly||a.props.showTimeSelect)&&a.setState({isRenderAriaLiveMessage:!0}),a.setState({inputValue:null})}},a.onInputClick=function(){var o,u;!a.props.disabled&&!a.props.readOnly&&a.setOpen(!0),(u=(o=a.props).onInputClick)===null||u===void 0||u.call(o)},a.handleTimeOnlyArrowKey=function(o){var u,d,m,x,p=Ls(a.props.selected)||a.state.preSelection||lt(),v=(u=a.props.timeIntervals)!==null&&u!==void 0?u:30,b=(d=a.props.dateFormat)!==null&&d!==void 0?d:l.defaultProps.dateFormat,g=Array.isArray(b)?b[0]:b,w=Ji(p),M=pa(p)*60+xa(p),S=1440-v,y;if(o===ye.ArrowUp){var j=Math.max(0,M-v);y=lo(w,j)}else{var j=Math.min(S,M+v);y=lo(w,j)}var D=Dt(y,g||l.defaultProps.dateFormat,a.props.locale);if(a.setState({preSelection:y,inputValue:D}),!(a.props.selectsRange||a.props.selectsMultiple)){var k=a.props.selected?a.props.selected:a.getPreSelection(),_=a.props.selected?y:pr(k,{hour:pa(y),minute:xa(y)});(x=(m=a.props).onChange)===null||x===void 0||x.call(m,_),(a.props.showTimeSelectOnly||a.props.showTimeSelect)&&a.setState({isRenderAriaLiveMessage:!0}),requestAnimationFrame(function(){a.scrollToTimeOption(y)})}},a.handleTimeOnlyEnterKey=function(o){var u,d,m,x,p=o.target,v=p.value,b=(u=a.props.dateFormat)!==null&&u!==void 0?u:l.defaultProps.dateFormat,g=a.props.timeFormat||"p",w=a.state.preSelection||Ls(a.props.selected)||lt(),M=Ds(v,b,a.props.locale,(d=a.props.strictParsing)!==null&&d!==void 0?d:!1,w),S=w;if(M&&Oa(M))S=M;else{var y=((m=a.calendar)===null||m===void 0?void 0:m.containerRef.current)instanceof Element&&a.calendar.containerRef.current.querySelector(".react-datepicker__time-list-item[tabindex='0']");if(y instanceof HTMLElement){var j=(x=y.textContent)===null||x===void 0?void 0:x.trim();if(j){var D=Ds(j,g,a.props.locale,!1,w);D&&Oa(D)&&(S=D)}}}a.handleTimeChange(S),a.setOpen(!1),a.sendFocusBackToInput()},a.scrollToTimeOption=function(o){var u,d;if(!((u=a.calendar)===null||u===void 0)&&u.containerRef.current){for(var m=a.calendar.containerRef.current,x=Array.from(m.querySelectorAll(".react-datepicker__time-list-item")),p=null,v=1/0,b=a.props.timeFormat||"p",g=0,w=x;g<w.length;g++){var M=w[g],S=(d=M.textContent)===null||d===void 0?void 0:d.trim();if(S){var y=Ds(S,b,a.props.locale,!1,o);if(y&&Oa(y)){if(j1(y,o)){p=M;break}var j=Math.abs(y.getTime()-o.getTime());j<v&&(v=j,p=M)}}}p&&(x.forEach(function(D){D.setAttribute("tabindex","-1")}),p.setAttribute("tabindex","0"),p.scrollIntoView({behavior:"smooth",block:"center"}))}},a.onInputKeyDown=function(o){var u,d,m,x,p,v;(d=(u=a.props).onKeyDown)===null||d===void 0||d.call(u,o);var b=o.key;if(!a.state.open&&!a.props.inline&&!a.props.preventOpenOnFocus){(b===ye.ArrowDown||b===ye.ArrowUp||b===ye.Enter)&&((m=a.onInputClick)===null||m===void 0||m.call(a));return}if(a.state.open&&a.props.showTimeSelectOnly){if(b===ye.ArrowDown||b===ye.ArrowUp){o.preventDefault(),a.handleTimeOnlyArrowKey(b);return}if(b===ye.Enter){o.preventDefault(),a.handleTimeOnlyEnterKey(o);return}}if(a.state.open){if(b===ye.ArrowDown||b===ye.ArrowUp){o.preventDefault();var g=a.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":a.props.showWeekPicker&&a.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':a.props.showFullMonthYearPicker||a.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',w=((x=a.calendar)===null||x===void 0?void 0:x.containerRef.current)instanceof Element&&a.calendar.containerRef.current.querySelector(g);w instanceof HTMLElement&&w.focus({preventScroll:!0});return}var M=lt(a.state.preSelection);b===ye.Enter?(o.preventDefault(),o.target.blur(),a.inputOk()&&a.state.lastPreSelectChange===Sf?(a.handleSelect(M,o),!a.props.shouldCloseOnSelect&&a.setPreSelection(M)):a.setOpen(!1)):b===ye.Escape?(o.preventDefault(),o.target.blur(),a.sendFocusBackToInput(),a.setOpen(!1)):b===ye.Tab&&a.setOpen(!1),a.inputOk()||(v=(p=a.props).onInputError)===null||v===void 0||v.call(p,{code:1,msg:wf})}},a.onPortalKeyDown=function(o){var u=o.key;u===ye.Escape&&(o.preventDefault(),a.setState({preventFocus:!0},function(){a.setOpen(!1),setTimeout(function(){a.setFocus(),a.setState({preventFocus:!1})})}))},a.onDayKeyDown=function(o){var u,d,m,x,p,v,b=a.props,g=b.minDate,w=b.maxDate,M=b.disabledKeyboardNavigation,S=b.showWeekPicker,y=b.shouldCloseOnSelect,j=b.locale,D=b.calendarStartDay,k=b.adjustDateOnChange,_=b.inline;if((d=(u=a.props).onKeyDown)===null||d===void 0||d.call(u,o),!M){var O=o.key,q=o.shiftKey,P=lt(a.state.preSelection),T=function($,A){var se=A;switch($){case ye.ArrowRight:se=S?yu(A,1):vn(A,1);break;case ye.ArrowLeft:se=S?ab(A):ZD(A);break;case ye.ArrowUp:se=ab(A);break;case ye.ArrowDown:se=yu(A,1);break;case ye.PageUp:se=q?rs(A,1):Ps(A,1);break;case ye.PageDown:se=q?bn(A,1):yn(A,1);break;case ye.Home:se=as(A,j,D);break;case ye.End:se=H4(A);break}return se},F=function($,A){for(var se=40,ce=$,le=!1,B=0,W=T($,A);!le;){if(B>=se){W=A;break}g&&W<g&&(ce=ye.ArrowRight,W=on(g,a.props)?T(ce,W):g),w&&W>w&&(ce=ye.ArrowLeft,W=on(w,a.props)?T(ce,W):w),on(W,a.props)?((ce===ye.PageUp||ce===ye.Home)&&(ce=ye.ArrowRight),(ce===ye.PageDown||ce===ye.End)&&(ce=ye.ArrowLeft),W=T(ce,W)):le=!0,B++}return W};if(O===ye.Enter){o.preventDefault(),a.handleSelect(P,o),!y&&a.setPreSelection(P);return}else if(O===ye.Escape){o.preventDefault(),a.setOpen(!1),a.inputOk()||(x=(m=a.props).onInputError)===null||x===void 0||x.call(m,{code:1,msg:wf});return}var I=null;switch(O){case ye.ArrowLeft:case ye.ArrowRight:case ye.ArrowUp:case ye.ArrowDown:case ye.PageUp:case ye.PageDown:case ye.Home:case ye.End:I=F(O,P);break}if(!I){(v=(p=a.props).onInputError)===null||v===void 0||v.call(p,{code:1,msg:wf});return}o.preventDefault(),a.setState({lastPreSelectChange:Sf}),k&&a.setSelected(I),a.setPreSelection(I),_&&a.setState({shouldFocusDayInline:!0})}},a.onPopperKeyDown=function(o){var u=o.key;u===ye.Escape&&(o.preventDefault(),a.sendFocusBackToInput(),a.setOpen(!1))},a.onClearClick=function(o){o&&o.preventDefault&&o.preventDefault(),a.sendFocusBackToInput();var u=a.props,d=u.selectsRange,m=u.onChange;m?.(d?[null,null]:null,o),a.setState({inputValue:null})},a.clear=function(){a.onClearClick()},a.onScroll=function(o){typeof a.props.closeOnScroll=="boolean"&&a.props.closeOnScroll?(o.target===document||o.target===document.documentElement||o.target===document.body)&&a.setOpen(!1):typeof a.props.closeOnScroll=="function"&&a.props.closeOnScroll(o)&&a.setOpen(!1)},a.handleMonthSelectedInChange=function(o){a.setState({monthSelectedIn:o})},a.renderCalendar=function(){var o,u;return!a.props.inline&&!a.isCalendarOpen()?null:ne.createElement(g3,Qe({showMonthYearDropdown:void 0,ref:function(d){a.calendar=d}},a.props,a.state,{setOpen:a.setOpen,dateFormat:(o=a.props.dateFormatCalendar)!==null&&o!==void 0?o:l.defaultProps.dateFormatCalendar,onSelect:a.handleSelect,onClickOutside:a.handleCalendarClickOutside,holidays:J4(a.modifyHolidays()),outsideClickIgnoreClass:a.props.outsideClickIgnoreClass,onDropdownFocus:a.handleDropdownFocus,onTimeChange:a.handleTimeChange,className:a.props.calendarClassName,container:a.props.calendarContainer,handleOnKeyDown:a.props.onKeyDown,handleOnDayKeyDown:a.onDayKeyDown,setPreSelection:a.setPreSelection,dropdownMode:(u=a.props.dropdownMode)!==null&&u!==void 0?u:l.defaultProps.dropdownMode,onMonthSelectedInChange:a.handleMonthSelectedInChange}),a.props.children)},a.renderAriaLiveRegion=function(){var o,u=a.props.locale,d=(o=a.props.dateFormat)!==null&&o!==void 0?o:l.defaultProps.dateFormat,m=a.props.showTimeInput||a.props.showTimeSelect,x=m?"PPPPp":"PPPP",p;return a.props.selectsRange?p="Selected start date: ".concat(_a(a.props.startDate,{dateFormat:x,locale:u}),". ").concat(a.props.endDate?"End date: "+_a(a.props.endDate,{dateFormat:x,locale:u}):""):a.props.showTimeSelectOnly?p="Selected time: ".concat(_a(a.props.selected,{dateFormat:d,locale:u})):a.props.showYearPicker?p="Selected year: ".concat(_a(a.props.selected,{dateFormat:"yyyy",locale:u})):a.props.showMonthYearPicker?p="Selected month: ".concat(_a(a.props.selected,{dateFormat:"MMMM yyyy",locale:u})):a.props.showQuarterYearPicker?p="Selected quarter: ".concat(_a(a.props.selected,{dateFormat:"yyyy, QQQ",locale:u})):p="Selected date: ".concat(_a(a.props.selected,{dateFormat:x,locale:u})),ne.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},p)},a.renderDateInput=function(){var o,u,d,m,x,p,v,b=Zt(a.props.className,(o={},o[a.props.outsideClickIgnoreClass||l.defaultProps.outsideClickIgnoreClass]=a.state.open,o)),g=a.props.customInput||ne.createElement("input",{type:"text"}),w=a.props.customInputRef||"ref",M={},S=(d=a.props["aria-describedby"])!==null&&d!==void 0?d:a.props.ariaDescribedBy,y=(m=a.props["aria-invalid"])!==null&&m!==void 0?m:a.props.ariaInvalid,j=(x=a.props["aria-label"])!==null&&x!==void 0?x:a.props.ariaLabel,D=(p=a.props["aria-labelledby"])!==null&&p!==void 0?p:a.props.ariaLabelledBy,k=(v=a.props["aria-required"])!==null&&v!==void 0?v:a.props.ariaRequired;return S!=null&&(M["aria-describedby"]=S),y!=null&&(M["aria-invalid"]=y),j!=null&&(M["aria-label"]=j),D!=null&&(M["aria-labelledby"]=D),k!=null&&(M["aria-required"]=k),N.cloneElement(g,Qe((u={},u[w]=function(_){a.input=_},u.value=a.getInputValue(),u.onBlur=a.handleBlur,u.onChange=a.handleChange,u.onClick=a.onInputClick,u.onFocus=a.handleFocus,u.onKeyDown=a.onInputKeyDown,u.id=a.props.id,u.name=a.props.name,u.form=a.props.form,u.autoFocus=a.props.autoFocus,u.placeholder=a.props.placeholderText,u.disabled=a.props.disabled,u.autoComplete=a.props.autoComplete,u.className=Zt(g.props.className,b),u.title=a.props.title,u.readOnly=a.props.readOnly,u.required=a.props.required,u.tabIndex=a.props.tabIndex,u),M))},a.renderClearButton=function(){var o=a.props,u=o.isClearable,d=o.disabled,m=o.selected,x=o.startDate,p=o.endDate,v=o.clearButtonTitle,b=o.clearButtonClassName,g=b===void 0?"":b,w=o.ariaLabelClose,M=w===void 0?"Close":w,S=o.selectedDates,y=o.readOnly;return u&&!y&&(m!=null||x!=null||p!=null||S?.length)?ne.createElement("button",{type:"button",className:Zt("react-datepicker__close-icon",g,{"react-datepicker__close-icon--disabled":d}),disabled:d,"aria-label":M,onClick:a.onClearClick,title:v,tabIndex:-1}):null},a.state=a.calcInitialState(),a.preventFocusTimeout=void 0,a}return Object.defineProperty(l,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:S1,readOnly:!1,rangeSeparator:v1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:ho,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),l.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},l.prototype.componentDidUpdate=function(r,a){var o,u,d,m;this.props.selectsRange&&Ob(r.startDate,this.props.startDate)?this.setPreSelection(this.props.startDate):Ob(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),this.props.selectsRange&&a.open===!1&&this.state.open===!0&&this.state.monthSelectedIn!==0&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:kb(this.props.highlightDates)}),!a.focused&&!Is(r.selected,this.props.selected)&&this.setState({inputValue:null}),a.open!==this.state.open&&(a.open===!1&&this.state.open===!0&&((u=(o=this.props).onCalendarOpen)===null||u===void 0||u.call(o)),a.open===!0&&this.state.open===!1&&((m=(d=this.props).onCalendarClose)===null||m===void 0||m.call(d)))},l.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},l.prototype.renderInputContainer=function(){var r=this.props,a=r.showIcon,o=r.icon,u=r.calendarIconClassname,d=r.calendarIconClassName,m=r.toggleCalendarOnIconClick,x=this.state.open;return u&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ne.createElement("div",{className:"react-datepicker__input-container".concat(a?" react-datepicker__view-calendar-icon":"")},a&&ne.createElement(y3,Qe({icon:o,className:Zt(d,!d&&u,x&&"react-datepicker-ignore-onclickoutside")},m?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},l.prototype.render=function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var a=this.state.open?ne.createElement(k1,{enableTabLoop:this.props.enableTabLoop},ne.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(a=ne.createElement(C1,Qe({portalId:this.props.portalId},this.props),a)),ne.createElement(ne.Fragment,null,this.renderInputContainer(),a)}return ne.createElement(C3,Qe({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:r,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow,monthHeaderPosition:this.props.monthHeaderPosition}))},l})(N.Component),D3="input",Sf="navigate";function Qt({open:s,onClose:l,title:r,children:a,wide:o}){const u=N.useRef(null);return N.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[s]),N.useEffect(()=>{function d(m){m.key==="Escape"&&l()}return s&&window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[s,l]),s?t.jsxs("div",{ref:u,className:"fixed inset-0 z-50 flex items-start justify-center pt-[5vh] sm:pt-[10vh] px-4",onClick:d=>{d.target===u.current&&l()},children:[t.jsx("div",{className:"fixed inset-0 bg-black/60"}),t.jsxs("div",{className:`relative bg-[var(--bg-card)] border border-[var(--border)] rounded-xl shadow-2xl w-full ${o?"max-w-2xl":"max-w-lg"} max-h-[80vh] flex flex-col animate-fade-in`,children:[t.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-[var(--border-light)] shrink-0",children:[t.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:r}),t.jsx("button",{onClick:l,className:"p-1.5 rounded-lg text-[var(--text-dim)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:t.jsx(fo,{size:16})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-5 py-4",children:a})]})]}):null}function ae({label:s,required:l,error:r,children:a}){return t.jsxs("div",{children:[t.jsxs("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:[s,l&&t.jsx("span",{className:"text-rose-500 ml-0.5",children:"*"})]}),a,r&&t.jsx("p",{className:"text-xs text-rose-500 mt-1",children:r})]})}function Ne({value:s,onChange:l,placeholder:r,type:a="text",sensitive:o,...u}){const{masked:d}=qn();return t.jsx("input",{type:a,value:s,onChange:m=>l(m.target.value),placeholder:r,className:`w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors ${o&&d?"sensitive-blur":""}`,...u})}function Fn({value:s,onChange:l,...r}){const a=s?new Date(s.length>10?s:s+"T00:00:00"):null;function o(u){if(!u){l("");return}const d=u.getFullYear(),m=String(u.getMonth()+1).padStart(2,"0"),x=String(u.getDate()).padStart(2,"0");l(`${d}-${m}-${x}`)}return t.jsxs("div",{className:"relative cf-datepicker",children:[t.jsx(k3,{selected:a,onChange:o,dateFormat:"dd MMM yyyy",maxDate:new Date,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",placeholderText:"Select date",className:"w-full px-3 py-2 pr-9 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors",...r}),t.jsx(GS,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)] pointer-events-none"})]})}function Ye({value:s,onChange:l,options:r,placeholder:a}){return t.jsxs("select",{value:s,onChange:o=>l(o.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors",children:[a&&t.jsx("option",{value:"",children:a}),r.map(o=>t.jsx("option",{value:o.value,children:o.label},o.value))]})}function Ul({value:s,onChange:l,placeholder:r,rows:a=3}){return t.jsx("textarea",{value:s,onChange:o=>l(o.target.value),placeholder:r,rows:a,className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors resize-none"})}function M3({checked:s,onChange:l,label:r}){return t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:s,onChange:a=>l(a.target.checked),className:"w-4 h-4 rounded border-[var(--border-input)] bg-[var(--bg-input)] text-violet-500 focus:ring-violet-500"}),t.jsx("span",{className:"text-sm text-[var(--text-secondary)]",children:r})]})}function ya({onCancel:s,onSubmit:l,submitLabel:r="Save",loading:a}){return t.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4 mt-4 border-t border-[var(--border-light)]",children:[t.jsx("button",{onClick:s,disabled:a,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),t.jsxs("button",{onClick:l,disabled:a,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 flex items-center gap-1.5",children:[a&&t.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),a?"Saving...":r]})]})}function wr({onClick:s,label:l="Deactivate"}){return t.jsx("button",{onClick:s,className:"px-4 py-2 text-xs font-semibold text-rose-400 hover:text-rose-300 hover:bg-rose-500/10 rounded-lg transition-colors",children:l})}const Rb=[{key:"sip",label:"Adjust SIP",icon:rC,color:"text-blue-400",dimColor:"text-blue-400/60 hover:text-blue-400",activeBg:"bg-blue-500/20 border border-blue-500/40"},{key:"lumpsum",label:"Lumpsum",icon:T5,color:"text-emerald-400",dimColor:"text-emerald-400/60 hover:text-emerald-400",activeBg:"bg-emerald-500/20 border border-emerald-500/40"},{key:"buysell",label:"Buy / Sell",icon:HS,color:"text-amber-400",dimColor:"text-amber-400/60 hover:text-amber-400",activeBg:"bg-amber-500/20 border border-amber-500/40"}];function _s(s){return s>=1e5?`${(s/1e5).toFixed(1)}L`:s>=1e3?`${(s/1e3).toFixed(0)}K`:`${Math.round(s)}`}function kp({exitOnly:s}){return t.jsx("div",{className:"py-4 text-center space-y-1",children:s?t.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Only exit candidates here  use ",t.jsx("span",{className:"font-semibold text-amber-400",children:"Buy / Sell"})," tab"]}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"No target allocations set"}),t.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Use ",t.jsx("span",{className:"font-semibold text-violet-400",children:"Allocations"})," to set target % for each fund first"]})]})})}function A3({portfolio:s,holdings:l,totalValue:r}){const a=s.sipTarget||0,o=(s.rebalanceThreshold||.05)*100,u=l.some(g=>g.targetAllocationPct>0),d=l.some(g=>g.targetAllocationPct===0&&g.units>0);if(!u)return t.jsx(kp,{exitOnly:d});if(a<=0)return t.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"No SIP target set for this portfolio"});const m=l.filter(g=>g.targetAllocationPct>0).map(g=>{const w=r>0?g.currentValue/r*100:0,M=Math.abs(w-g.targetAllocationPct),S=M>o,j=g.targetAllocationPct/100*r-g.currentValue,D=g.targetAllocationPct/100*a;return{...g,currentPct:w,drift:M,drifted:S,gap:j,normalSIP:D}}),x=m.filter(g=>g.drifted&&g.gap>0);m.filter(g=>g.drifted&&g.gap<=0);const p=x.reduce((g,w)=>g+w.gap,0),v=m.map(g=>({...g,suggestedSIP:g.drifted&&g.gap>0&&p>0?g.gap/p*a:g.drifted&&g.gap<=0?0:g.normalSIP}));return m.some(g=>g.drifted)?t.jsxs("div",{className:"space-y-2",children:[t.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Funds drifted >",o.toFixed(0),"%: overweight  0, underweight  extra SIP. Others keep normal SIP."]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[t.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),t.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Allocation"}),t.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Normal SIP"}),t.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Rebalance SIP"})]})}),t.jsx("tbody",{children:v.map(g=>{const w=g.drifted&&g.gap<=0,M=g.drifted&&g.gap>0,S=!g.drifted;return t.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 ${S?"opacity-50":w?"opacity-60":""}`,children:[t.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:g.fundName}),t.jsxs("td",{className:"py-2 px-2 text-right tabular-nums",children:[t.jsxs("span",{className:w?"text-amber-400":M?"text-blue-400":"text-[var(--text-dim)]",children:[g.currentPct.toFixed(1),"%"]}),t.jsxs("span",{className:"text-[var(--text-dim)]",children:[" / ",g.targetAllocationPct.toFixed(1),"%"]})]}),t.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:_s(g.normalSIP)}),t.jsx("td",{className:"py-2 px-2 text-right font-semibold tabular-nums",children:w?t.jsx("span",{className:"text-amber-400/70",children:"0"}):M?t.jsx("span",{className:"text-blue-400",children:_s(g.suggestedSIP)}):t.jsx("span",{className:"text-[var(--text-dim)]",children:_s(g.suggestedSIP)})})]},g.holdingId)})}),t.jsx("tfoot",{children:t.jsxs("tr",{className:"border-t border-[var(--border)]",children:[t.jsx("td",{className:"py-1.5 px-2 text-xs font-bold text-[var(--text-primary)]",colSpan:2,children:"Total"}),t.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums",children:_s(a)}),t.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-blue-400 tabular-nums",children:_s(a)})]})})]})})]}):t.jsxs("p",{className:"text-xs text-[var(--text-dim)] py-2",children:["SIPs are balanced (within ",o.toFixed(0),"% threshold)"]})}function E3({portfolio:s,holdings:l,totalValue:r}){const[a,o]=N.useState("");(s.rebalanceThreshold||.05)*100;const u=l.some(S=>S.targetAllocationPct>0),d=l.some(S=>S.targetAllocationPct===0&&S.units>0);if(!u)return t.jsx(kp,{exitOnly:d});const m=l.filter(S=>S.targetAllocationPct>0).map(S=>{const y=r>0?S.currentValue/r*100:0;return{...S,currentPct:y}}),x=N.useMemo(()=>{if(r<=0||m.length===0)return 0;const S=m.filter(k=>{const _=k.targetAllocationPct/100*r;return k.currentValue<_});if(S.length===0)return 0;const y=S.reduce((k,_)=>k+_.targetAllocationPct,0);if(y>=100)return 0;const j=S.reduce((k,_)=>k+_.currentValue,0),D=(y/100*r-j)/(1-y/100);return D>0?Math.ceil(D/100)*100:0},[m,r]),p=Number(a)||s.lumpsumTarget||x,v=N.useMemo(()=>{const S=p>0?r+p:r,y=m.map(D=>{const k=D.targetAllocationPct/100*S,_=p>0?Math.max(0,k-D.currentValue):0,O=S>0?(D.currentValue+_)/S*100:0,q=D.currentValue>k+1;return{...D,invest:_,newPct:O,isOverweight:q}}),j=y.reduce((D,k)=>D+k.invest,0);if(p>0&&j>0&&Math.abs(j-p)>1){const D=p/j;return y.map(k=>({...k,invest:k.invest>0?k.invest*D:0,newPct:S>0?(k.currentValue+(k.invest>0?k.invest*D:0))/S*100:0}))}return y},[m,p,r]),b=v.reduce((S,y)=>S+y.invest,0),g=v.some(S=>S.isOverweight),w=Number(a),M=w>0&&x>0&&w<x;return t.jsxs("div",{className:"space-y-2",children:[x>0&&t.jsx("div",{className:"flex items-center gap-2 px-2.5 py-1.5 rounded-md bg-emerald-500/10 border border-emerald-500/20",children:t.jsxs("p",{className:"text-xs text-emerald-400",children:[t.jsx("span",{className:"font-bold",children:Q(x)})," needed to bring all underweight funds to target %"]})}),t.jsxs("div",{className:"flex items-end gap-3",children:[t.jsx("div",{className:"flex-1 max-w-[200px]",children:t.jsx(ae,{label:"Invest Amount ()",children:t.jsx(Ne,{type:"number",value:a,onChange:o,placeholder:x>0?`${Q(x)}`:"Enter amount..."})})}),!w&&!s.lumpsumTarget&&x>0&&t.jsx("p",{className:"text-xs text-emerald-400/70 pb-2.5",children:"Using suggested"}),!w&&s.lumpsumTarget>=100&&t.jsx("p",{className:"text-xs text-[var(--text-dim)] pb-2.5",children:"Using lumpsum target"})]}),M&&t.jsxs("p",{className:"text-xs text-amber-400/80 px-1",children:["Below minimum  distributes proportionally but won't fully rebalance. Need ",Q(x)," for exact target %."]}),v.length>0?t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[t.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),t.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Allocation"}),t.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Invest"})]})}),t.jsx("tbody",{children:v.map(S=>t.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 ${S.invest===0?"opacity-50":""}`,children:[t.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:S.fundName}),t.jsxs("td",{className:"py-2 px-2 text-right tabular-nums",children:[t.jsxs("span",{className:S.isOverweight?"text-amber-400":S.invest>0?"text-blue-400":"text-[var(--text-dim)]",children:[S.currentPct.toFixed(1),"%"]}),t.jsxs("span",{className:"text-[var(--text-dim)]",children:["  ",S.newPct.toFixed(1),"%"]})]}),t.jsx("td",{className:"py-2 px-2 text-right font-semibold tabular-nums",children:S.isOverweight?t.jsx("span",{className:"text-amber-400/70 text-xs",children:"Overweight"}):S.invest>0?t.jsx("span",{className:"text-emerald-400",children:_s(S.invest)}):t.jsx("span",{className:"text-[var(--text-dim)] text-xs",children:"Balanced"})})]},S.holdingId))}),b>0&&t.jsx("tfoot",{children:t.jsxs("tr",{className:"border-t border-[var(--border)]",children:[t.jsx("td",{className:"py-1.5 px-2 text-xs font-bold text-[var(--text-primary)]",colSpan:2,children:"Total"}),t.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-emerald-400 tabular-nums",children:Q(b)})]})})]})}):t.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2 text-center",children:"All funds balanced"}),g&&t.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Overweight funds can't be fixed by buying. Use ",t.jsx("span",{className:"font-semibold text-amber-400",children:"Buy / Sell"})," tab to sell overweight and buy underweight."]})]})}function T3({portfolio:s,holdings:l,totalValue:r}){const a=(s.rebalanceThreshold||.05)*100,o=l.some(m=>m.targetAllocationPct>0),u=l.some(m=>m.targetAllocationPct===0&&m.units>0);if(!o&&!u)return t.jsx(kp,{});const d=l.filter(m=>m.targetAllocationPct>0||m.units>0).map(m=>{const x=r>0?m.currentValue/r*100:0,p=m.targetAllocationPct===0&&m.units>0,v=p||Math.abs(x-m.targetAllocationPct)>a,b=m.targetAllocationPct/100*r,g=v?b-m.currentValue:0;return{...m,currentPct:x,amount:g,isExit:p}}).filter(m=>Math.abs(m.amount)>=500);return d.length===0?t.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"Portfolio is balanced"}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[t.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),t.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Drift"}),t.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Action"})]})}),t.jsx("tbody",{children:d.map(m=>{const x=m.amount>0;return t.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[t.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:m.fundName}),t.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:m.isExit?t.jsxs("span",{className:"text-[var(--accent-rose)]",children:[m.currentPct.toFixed(1),"%  Exit"]}):`${m.currentPct.toFixed(1)}%  ${m.targetAllocationPct.toFixed(1)}%`}),t.jsx("td",{className:"py-2 px-2 text-right",children:t.jsxs("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${x?"bg-emerald-500/20 text-emerald-400":"bg-rose-500/20 text-[var(--accent-rose)]"}`,children:[x?"Buy":m.isExit?"Exit":"Sell"," ",_s(Math.abs(m.amount))]})})]},m.schemeCode||m.fundCode)})})]})})}function D1(){const{mfHoldings:s,mfPortfolios:l}=tt(),[r,a]=N.useState("buysell"),o=N.useMemo(()=>l.filter(x=>x.status!=="Inactive").map(x=>{const p=s.filter(S=>S.portfolioId===x.portfolioId&&S.units>0),v=p.reduce((S,y)=>S+y.currentValue,0),b=(x.rebalanceThreshold||.05)*100,g=p.filter(S=>{if(S.targetAllocationPct<=0)return!1;const y=v>0?S.currentValue/v*100:0;return Math.abs(y-S.targetAllocationPct)>b}).length,w=p.filter(S=>S.targetAllocationPct===0&&S.units>0&&S.currentValue>=500).length,M=p.some(S=>S.targetAllocationPct>0);return{...x,holdings:p,totalValue:v,driftedCount:g,exitCount:w,hasTargets:M}}).filter(x=>x.driftedCount>0||x.exitCount>0),[l,s]);if(o.length===0){const x=s.some(p=>p.targetAllocationPct>0);return t.jsx("div",{className:"py-8 text-center",children:x?t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"All portfolios are balanced"}),t.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"No funds exceed their rebalance threshold"})]}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No target allocations set"}),t.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:["Use ",t.jsx("span",{className:"font-semibold text-violet-400",children:"Allocations"})," to set target % for each fund, then rebalance will show drift"]})]})})}const d=o.some(x=>(x.sipTarget||0)>=500)?Rb:Rb.filter(x=>x.key!=="sip"),m=d.some(x=>x.key===r)?r:d[0]?.key||"buysell";return t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"flex bg-[var(--bg-inset)] rounded-lg p-0.5",children:d.map(({key:x,label:p,icon:v,color:b,dimColor:g,activeBg:w})=>t.jsxs("button",{onClick:()=>a(x),className:`flex-1 flex items-center justify-center gap-1.5 py-2 rounded-md text-xs font-semibold transition-colors ${m===x?`${w} ${b} shadow-sm`:g}`,children:[t.jsx(v,{size:13})," ",p]},x))}),o.map((x,p)=>t.jsxs("div",{className:"border border-[var(--border-light)] border-l-2 border-l-violet-500/50 rounded-lg overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between px-3 py-2.5 bg-[var(--bg-inset)]",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xs font-bold text-violet-400 bg-violet-500/15 w-5 h-5 rounded flex items-center justify-center",children:p+1}),t.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:x.portfolioName}),t.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:x.ownerName}),x.driftedCount>0&&t.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-amber-500/15 text-amber-400",children:[x.driftedCount," drifted"]}),x.exitCount>0&&t.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-rose-500/15 text-[var(--accent-rose)]",children:[x.exitCount," exit"]})]}),t.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-muted)]",children:[t.jsx("span",{className:"font-semibold text-[var(--text-secondary)]",children:Q(x.totalValue)}),t.jsxs("span",{children:["Threshold: ",((x.rebalanceThreshold||.05)*100).toFixed(0),"%"]}),x.sipTarget>=100&&t.jsxs("span",{children:["SIP: ",Q(x.sipTarget),"/mo"]})]})]}),t.jsxs("div",{className:"px-3 py-2",children:[m==="sip"&&t.jsx(A3,{portfolio:x,holdings:x.holdings,totalValue:x.totalValue}),m==="lumpsum"&&t.jsx(E3,{portfolio:x,holdings:x.holdings,totalValue:x.totalValue}),m==="buysell"&&t.jsx(T3,{portfolio:x,holdings:x.holdings,totalValue:x.totalValue})]})]},x.portfolioId))]})}const _3="https://raw.githubusercontent.com/jagadeeshkmanne/capital-friends/main/logo.png",O3="https://raw.githubusercontent.com/jagadeeshkmanne/capital-friends/main/logo-small.png",Lb={mf:{label:"Mutual Funds",color:"bg-violet-500",order:1,route:"/investments/mutual-funds"},stocks:{label:"Stocks",color:"bg-blue-500",order:2,route:"/investments/stocks"},Debt:{label:"Debt",color:"bg-cyan-500",order:3,route:"/investments/other"},Gold:{label:"Gold",color:"bg-amber-500",order:4,route:"/investments/other"},Silver:{label:"Silver",color:"bg-slate-400",order:5,route:"/investments/other"},Property:{label:"Real Estate",color:"bg-orange-500",order:6,route:"/investments/other"},Alternative:{label:"Alternative",color:"bg-violet-400",order:7,route:"/investments/other"},Equity:{label:"Equity",color:"bg-emerald-500",order:8,route:"/investments/other"},Other:{label:"Other",color:"bg-gray-500",order:9,route:"/investments/other"}},qc=["from-violet-500 to-indigo-500","from-rose-500 to-pink-500","from-blue-500 to-cyan-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],Ib=["bg-violet-500","bg-rose-500","bg-blue-500","bg-amber-500","bg-emerald-500"],R3=[{label:"Family Members",path:"/family",match:"/family"},{label:"Bank Accounts",path:"/accounts/bank",match:"/accounts/bank"},{label:"Investment Accounts",path:"/accounts/investment",match:"/accounts/investment"},{label:"Insurance",path:"/insurance",match:"/insurance"},{label:"Mutual Funds",path:"/investments/mutual-funds",match:"/investments/mutual-funds"},{label:"Stocks",path:"/investments/stocks",match:"/investments/stocks"},{label:"Other Investments",path:"/investments/other",match:"/investments/other"},{label:"Liabilities",path:"/liabilities",match:"/liabilities"},{label:"Goals",path:"/goals",match:"/goals"}],L3={buyopp:"Buying Opportunities",rebalance:"Rebalance Alerts"};function I3({onMenuClick:s}){const{theme:l,toggle:r}=py(),{selectedMember:a,setSelectedMember:o,familyMembers:u}=ca(),{mfPortfolios:d,mfHoldings:m,stockPortfolios:x,stockHoldings:p,otherInvList:v,liabilityList:b,refreshData:g,isRefreshing:w}=tt(),{user:M,signOut:S}=Ys(),{masked:y,toggleMask:j,mv:D}=qn(),k=Hs(),_=un(),{criticalAlerts:O,upcomingReminders:q,investmentSignals:P}=UC(),[T,F]=N.useState(!1),[I,$]=N.useState(!1),[A,se]=N.useState(null),[ce,le]=N.useState(!1),[B,W]=N.useState(!1),[L,re]=N.useState(!0),he=N.useRef(null),z=N.useRef(null),ee=N.useRef(null),fe=O.length+q.length,{buyOppCount:xe,buyCount:Ae,strongBuyCount:Te,rebalanceCount:we}=P;N.useEffect(()=>{function ge(He){he.current&&!he.current.contains(He.target)&&F(!1),z.current&&!z.current.contains(He.target)&&$(!1)}return(T||I)&&document.addEventListener("mousedown",ge),()=>document.removeEventListener("mousedown",ge)},[T,I]);const ke=u.findIndex(ge=>ge.memberId===a),Pe=ke>=0?u[ke]:null,jt=N.useMemo(()=>{const ge=(Ie,Z)=>a==="all"?Ie:Ie.filter(R=>R[Z]===a),He={},rt=(Ie,Z,R,V)=>{He[Ie]||(He[Ie]={items:[],invested:0}),He[Ie].items.push({label:Z,value:R}),He[Ie].invested+=V};ge((d||[]).filter(Ie=>Ie.status==="Active"),"ownerId").forEach(Ie=>{const Z=(m||[]).filter(me=>me.portfolioId===Ie.portfolioId&&me.units>0),R=Z.reduce((me,De)=>me+De.currentValue,0),V=Z.reduce((me,De)=>me+De.investment,0);R>0&&rt("mf",Ie.portfolioName?.replace(/^PFL-/,"")||Ie.portfolioName,R,V)}),ge((x||[]).filter(Ie=>Ie.status==="Active"),"ownerId").forEach(Ie=>{const Z=(p||[]).filter(me=>me.portfolioId===Ie.portfolioId),R=Z.reduce((me,De)=>me+De.currentValue,0),V=Z.reduce((me,De)=>me+De.totalInvestment,0);R>0&&rt("stocks",Ie.portfolioName,R,V)}),ge((v||[]).filter(Ie=>Ie.status==="Active"),"familyMemberId").forEach(Ie=>{const Z=Ie.investmentCategory||"Other";rt(Z,Ie.investmentName||Ie.investmentType||"Other",Ie.currentValue,Ie.investedAmount||0)});const Jt=Object.entries(He).map(([Ie,{items:Z,invested:R}])=>{const V=Lb[Ie]||Lb.Other,me=Z.reduce((De,qe)=>De+qe.value,0);return{key:Ie,label:V.label,color:V.color,order:V.order,route:V.route,total:me,invested:R,items:Z.sort((De,qe)=>qe.value-De.value)}}).filter(Ie=>Ie.total>0).sort((Ie,Z)=>Ie.order-Z.order),dt=ge((b||[]).filter(Ie=>Ie.status==="Active"),"familyMemberId"),ea=dt.map(Ie=>({label:Ie.liabilityName||Ie.liabilityType||"Loan",value:Ie.outstandingBalance})),Na=dt.reduce((Ie,Z)=>Ie+Z.outstandingBalance,0),Rt=Jt.reduce((Ie,Z)=>Ie+Z.total,0),Ia=Jt.reduce((Ie,Z)=>Ie+Z.invested,0);return{netWorth:Rt-Na,totalInv:Rt,totalInvested:Ia,sections:Jt,totalLiab:Na,liabilities:ea}},[a,d,m,x,p,v,b]);function Yt(){F(!1),$(!1)}function ha(){if(!ee.current)return;const{scrollLeft:ge,scrollWidth:He,clientWidth:rt}=ee.current;W(ge>5),re(ge+rt<He-5)}function wt(ge){if(!ee.current)return;const rt=(ee.current.querySelector("a")?.offsetWidth||240)+12;ee.current.scrollBy({left:ge*rt,behavior:"smooth"})}return N.useEffect(()=>{ha()},[jt,ce]),t.jsxs("header",{className:"sticky top-0 z-30 shrink-0",children:[t.jsx("style",{children:`
        @keyframes glow-emerald {
          0%, 100% { box-shadow: 0 0 6px rgba(16,185,129,0.3), 0 0 12px rgba(16,185,129,0.15); }
          50% { box-shadow: 0 0 12px rgba(16,185,129,0.5), 0 0 24px rgba(16,185,129,0.25); }
        }
        @keyframes glow-violet {
          0%, 100% { box-shadow: 0 0 6px rgba(139,92,246,0.3), 0 0 12px rgba(139,92,246,0.15); }
          50% { box-shadow: 0 0 12px rgba(139,92,246,0.5), 0 0 24px rgba(139,92,246,0.25); }
        }
        .glow-emerald { animation: glow-emerald 2s ease-in-out infinite; }
        .glow-violet { animation: glow-violet 2s ease-in-out infinite; }
      `}),t.jsx("div",{className:"relative z-10 bg-[var(--bg-header)]/95 backdrop-blur-sm border-b border-[var(--border)]",children:t.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 h-14",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:s,className:"lg:hidden p-2 -ml-1.5 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:t.jsx(V5,{size:20})}),t.jsx("img",{src:O3,alt:"Capital Friends",className:"h-9 sm:hidden"}),t.jsx("img",{src:_3,alt:"Capital Friends",className:"h-10 hidden sm:block"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[xe>0&&t.jsxs("button",{onClick:()=>{se(A==="buyopp"?null:"buyopp"),Yt()},className:`glow-emerald flex items-center gap-1.5 text-xs font-bold whitespace-nowrap px-3 py-1.5 rounded-full transition-all ${A==="buyopp"?"bg-emerald-500/30 text-emerald-300 ring-1 ring-emerald-400/50":"bg-emerald-500/15 text-emerald-400 hover:bg-emerald-500/25"}`,children:[t.jsx(zu,{size:13,strokeWidth:2.5}),t.jsx("span",{className:"hidden sm:inline",children:Te>0?"Buy Opportunities":"Buying Opportunities"}),Te>0&&t.jsxs("span",{className:"text-[11px] bg-emerald-500/30 px-1.5 py-0.5 rounded-full",children:[Te," Strong"]}),Ae>0&&t.jsxs("span",{className:"text-[11px] bg-emerald-500/20 px-1.5 py-0.5 rounded-full",children:[Ae," Buy"]})]}),we>0&&t.jsxs("button",{onClick:()=>{se(A==="rebalance"?null:"rebalance"),Yt()},className:`glow-violet flex items-center gap-1.5 text-xs font-bold whitespace-nowrap px-3 py-1.5 rounded-full transition-all ${A==="rebalance"?"bg-violet-500/30 text-violet-300 ring-1 ring-violet-400/50":"bg-violet-500/15 text-violet-400 hover:bg-violet-500/25"}`,children:[t.jsx(Rl,{size:13,strokeWidth:2.5}),t.jsx("span",{className:"hidden sm:inline",children:"Rebalance Alerts"}),t.jsx("span",{className:"text-[11px] bg-violet-500/30 px-1.5 py-0.5 rounded-full",children:we})]}),t.jsx("button",{onClick:()=>g(!0),disabled:w,className:`p-2 rounded-lg transition-colors ${w?"text-blue-400 cursor-not-allowed":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,title:"Sync data from Google Sheets",children:t.jsx(Rl,{size:18,className:w?"animate-spin":""})}),t.jsx("button",{onClick:j,className:`p-2 rounded-lg transition-colors ${y?"text-amber-400 bg-amber-500/10":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,title:y?"Data masked  click to reveal":"Mask sensitive data",children:y?t.jsx(lu,{size:18}):t.jsx(dp,{size:18})}),t.jsx("button",{onClick:r,className:"p-2 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",title:`Switch to ${l==="dark"?"light":"dark"} mode`,children:l==="dark"?t.jsx(Pf,{size:18}):t.jsx(Ty,{size:18})}),fe>0&&t.jsxs("div",{className:"relative",ref:z,children:[t.jsxs("button",{onClick:()=>{$(!I),F(!1)},className:"relative p-2 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[t.jsx(Iu,{size:18}),t.jsx("span",{className:"absolute -top-0.5 -right-0.5 min-w-[16px] h-4 flex items-center justify-center text-[9px] font-bold text-white bg-rose-500 rounded-full px-1",children:fe})]}),I&&t.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-xl shadow-black/20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[t.jsx("div",{className:"px-3 py-2 border-b border-[var(--border-light)]",children:t.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:"Notifications"})}),t.jsxs("div",{className:"max-h-[300px] overflow-y-auto py-1",children:[O.map((ge,He)=>{const rt={critical:"bg-rose-500",warning:"bg-amber-500",info:"bg-blue-500"}[ge.type],Tt={critical:"bg-rose-500/15 text-rose-400",warning:"bg-amber-500/15 text-amber-400",info:"bg-blue-500/15 text-blue-400"}[ge.type];return t.jsxs("button",{onClick:()=>{$(!1),k(ge.navigateTo)},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-[var(--bg-hover)] transition-colors",children:[t.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${rt}`}),t.jsx("span",{className:"text-xs text-[var(--text-secondary)] flex-1 text-left truncate",children:ge.title}),t.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded-full shrink-0 ${Tt}`,children:ge.badge})]},`c-${He}`)}),O.length>0&&q.length>0&&t.jsx("div",{className:"mx-3 my-1 border-t border-[var(--border-light)]"}),q.map(ge=>{const He=ge.days<=7?"bg-rose-500/15 text-rose-400":ge.days<=15?"bg-amber-500/15 text-amber-400":"bg-slate-500/15 text-[var(--text-muted)]";return t.jsxs("button",{onClick:()=>{$(!1),k("/reminders")},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[t.jsx("span",{className:"w-2 h-2 rounded-full shrink-0 bg-amber-500"}),t.jsx("span",{className:"text-xs text-[var(--text-secondary)] flex-1 truncate",children:ge.title}),t.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded-full shrink-0 ${He}`,children:ge.days===0?"Today":ge.days<=30?`${ge.days}d`:ge.dateStr})]},`r-${ge.reminderId}`)})]})]})]}),t.jsxs("div",{className:"relative",ref:he,children:[t.jsxs("button",{onClick:()=>{F(!T),$(!1)},className:"flex items-center gap-1.5 pl-1 pr-2 py-1 rounded-full hover:bg-[var(--bg-hover)] transition-colors",children:[Pe?t.jsx("div",{className:`w-8 h-8 rounded-full bg-gradient-to-br ${qc[ke%qc.length]} flex items-center justify-center text-white text-xs font-bold shadow-sm`,children:Pe.memberName.charAt(0)}):t.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-500 flex items-center justify-center text-white shadow-sm",children:t.jsx(Il,{size:14})}),t.jsx(In,{size:14,className:`text-[var(--text-muted)] transition-transform ${T?"rotate-180":""}`})]}),T&&t.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-xl shadow-black/20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[t.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)]",children:t.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:"Viewing as"})}),t.jsxs("div",{className:"py-1.5",children:[t.jsxs("button",{onClick:()=>{o("all"),F(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${a==="all"?"bg-violet-500/10":"hover:bg-[var(--bg-hover)]"}`,children:[t.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-violet-500 to-indigo-500 flex items-center justify-center text-white shadow-sm shrink-0",children:t.jsx(Il,{size:15})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:`text-sm font-semibold truncate ${a==="all"?"text-violet-400":"text-[var(--text-primary)]"}`,children:"Everyone"}),t.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:"All family members"})]}),a==="all"&&t.jsx(If,{size:16,className:"text-violet-400 shrink-0"})]}),u.length>0&&t.jsx("div",{className:"mx-4 my-1 border-t border-[var(--border-light)]"}),u.map((ge,He)=>{const rt=a===ge.memberId;return t.jsxs("button",{onClick:()=>{o(ge.memberId),F(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${rt?`${Ib[He%Ib.length]}/10`:"hover:bg-[var(--bg-hover)]"}`,children:[t.jsx("div",{className:`w-9 h-9 rounded-full bg-gradient-to-br ${qc[He%qc.length]} flex items-center justify-center text-white text-sm font-bold shadow-sm shrink-0`,children:ge.memberName.charAt(0)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-semibold truncate text-[var(--text-primary)]",children:D(ge.memberName,"name")}),t.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:ge.relationship||"Family member"})]}),rt&&t.jsx(If,{size:16,className:"text-emerald-400 shrink-0"})]},ge.memberId)})]}),t.jsxs("div",{className:"border-t border-[var(--border-light)] py-1.5",children:[t.jsxs(El,{to:"/settings",onClick:()=>F(!1),className:"w-full flex items-center gap-3 px-4 py-2.5 text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[t.jsx(mp,{size:16}),t.jsx("span",{className:"text-sm font-medium",children:"Settings"})]}),M&&t.jsx("div",{className:"px-4 py-1.5",children:t.jsx("p",{className:"text-[11px] text-[var(--text-muted)] truncate",children:D(M.email,"email")})}),t.jsxs("button",{onClick:()=>{S(),F(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-left text-rose-400 hover:bg-rose-500/10 transition-colors",children:[t.jsx(Ey,{size:16}),t.jsx("span",{className:"text-sm font-medium",children:"Sign out"})]})]})]})]})]})]})}),t.jsx(qC,{}),t.jsx("nav",{className:"bg-[var(--bg-header)]/90 backdrop-blur-sm border-b border-[var(--border)]",children:t.jsxs("div",{className:"flex items-center px-3 sm:px-4 py-1.5",children:[t.jsx("div",{className:"flex items-center gap-1 overflow-x-auto no-scrollbar flex-1 min-w-0",children:R3.map(ge=>{const He=_.pathname.startsWith(ge.match);return t.jsx(El,{to:ge.path,className:`whitespace-nowrap px-3 py-1.5 rounded-lg text-[13px] font-medium transition-colors ${He?"bg-violet-500/15 text-violet-400":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,children:ge.label},ge.path)})}),t.jsxs("button",{onClick:()=>le(!ce),className:"shrink-0 ml-3 flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-emerald-500/10 border border-emerald-500/20 hover:bg-emerald-500/15 transition-colors",children:[t.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-emerald-400/70",children:"Net Worth"}),t.jsx("span",{className:"text-sm font-extrabold text-emerald-400 tabular-nums",children:Q(jt.netWorth)}),t.jsx(In,{size:12,className:`text-emerald-400/60 transition-transform duration-200 ${ce?"rotate-180":""}`})]})]})}),ce&&t.jsx("div",{className:"bg-[var(--bg-card)]/90 backdrop-blur-sm border-b border-[var(--border-light)] animate-in slide-in-from-top-2 fade-in duration-200",children:t.jsxs("div",{className:"relative max-w-7xl mx-auto",children:[B&&t.jsx("button",{onClick:()=>wt(-1),className:"absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 z-10 w-7 h-7 flex items-center justify-center rounded-full bg-[var(--bg-card)] border border-[var(--border)] shadow-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:t.jsx(yy,{size:14})}),t.jsxs("div",{ref:ee,onScroll:ha,className:"flex gap-3 px-12 sm:px-14 py-3 overflow-x-auto scroll-smooth snap-x snap-mandatory no-scrollbar",children:[jt.sections?.map(ge=>t.jsxs(El,{to:ge.route,className:"group snap-start shrink-0 w-[calc(50%-6px)] sm:w-[calc(33.333%-8px)] lg:w-[calc(25%-9px)] rounded-lg p-3 bg-[var(--bg-inset)] hover:bg-[var(--bg-hover)] border border-[var(--border-light)] transition-colors",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[t.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] font-bold uppercase tracking-wider text-[var(--text-muted)]",children:[t.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${ge.color}`}),ge.label]}),t.jsx(ao,{size:10,className:"text-[var(--text-dim)] opacity-0 group-hover:opacity-100 transition-opacity"})]}),t.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums mb-1",children:Q(ge.total)}),ge.items.length>0&&t.jsx("div",{className:"space-y-0.5",children:ge.items.map(He=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-[11px] text-[var(--text-dim)] truncate mr-2",children:He.label}),t.jsx("span",{className:"text-[11px] text-[var(--text-muted)] tabular-nums shrink-0",children:Q(He.value)})]},He.label))})]},ge.key)),jt.totalLiab>0&&t.jsxs(El,{to:"/liabilities",className:"group snap-start shrink-0 w-[calc(50%-6px)] sm:w-[calc(33.333%-8px)] lg:w-[calc(25%-9px)] rounded-lg p-3 bg-[var(--bg-inset)] hover:bg-[var(--bg-hover)] border border-[var(--border-light)] transition-colors",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[t.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] font-bold uppercase tracking-wider text-[var(--text-muted)]",children:[t.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-rose-500"}),"Liabilities"]}),t.jsx(ao,{size:10,className:"text-[var(--text-dim)] opacity-0 group-hover:opacity-100 transition-opacity"})]}),t.jsxs("p",{className:"text-base font-bold text-[var(--accent-rose)] tabular-nums mb-1",children:["",Q(jt.totalLiab)]}),jt.liabilities?.length>0&&t.jsx("div",{className:"space-y-0.5",children:jt.liabilities.map(ge=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-[11px] text-[var(--text-dim)] truncate mr-2",children:ge.label}),t.jsx("span",{className:"text-[11px] text-[var(--accent-rose)]/70 tabular-nums shrink-0",children:Q(ge.value)})]},ge.label))})]})]}),L&&t.jsx("button",{onClick:()=>wt(1),className:"absolute right-2 sm:right-3 top-1/2 -translate-y-1/2 z-10 w-7 h-7 flex items-center justify-center rounded-full bg-[var(--bg-card)] border border-[var(--border)] shadow-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:t.jsx(ao,{size:14})})]})}),A&&t.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-16 sm:pt-24 px-3",children:[t.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>se(null)}),t.jsxs("div",{className:"relative w-full max-w-3xl max-h-[75vh] rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-2xl shadow-black/40 overflow-hidden flex flex-col animate-in fade-in slide-in-from-top-4 duration-200",children:[t.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-[var(--border-light)] shrink-0",children:[t.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:L3[A]}),t.jsx("button",{onClick:()=>se(null),className:"p-1.5 rounded-lg hover:bg-[var(--bg-hover)] text-[var(--text-dim)] transition-colors",children:t.jsx(fo,{size:16})})]}),t.jsxs("div",{className:"overflow-y-auto p-4",children:[A==="buyopp"&&t.jsx(By,{}),A==="rebalance"&&t.jsx(D1,{})]})]})]})]})}const P3=[{label:"Invest",icon:Tl,path:"/investments/mutual-funds"},{label:"Accounts",icon:so,path:"/accounts/bank"},{label:"Goals",icon:mo,path:"/goals"},{label:"Reminders",icon:Iu,path:"/reminders"},{label:"More",icon:y5,path:"/more"}];function z3(){return t.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-40 bg-[var(--bg-sidebar)] border-t border-[var(--border)] safe-bottom",children:t.jsx("div",{className:"flex items-center justify-around h-[56px]",children:P3.map(({label:s,icon:l,path:r})=>t.jsx(sp,{to:r,className:({isActive:a})=>`relative flex flex-col items-center justify-center gap-0.5 w-full h-full text-xs font-medium transition-colors ${a?"text-[var(--sidebar-active-text)]":"text-[var(--text-dim)]"}`,children:({isActive:a})=>t.jsxs(t.Fragment,{children:[a&&t.jsx("span",{className:"absolute top-0 w-10 h-[2.5px] bg-[var(--sidebar-active-text)] rounded-b-full"}),t.jsx("div",{className:`flex items-center justify-center w-9 h-9 rounded-xl transition-colors ${a?"bg-[var(--sidebar-active-bg)]":""}`,children:t.jsx(l,{size:19,strokeWidth:a?2.2:1.5})}),t.jsx("span",{className:a?"font-semibold":"",children:s})]})},r))})})}const F3="/logo-small.png",Cf=[{key:"auth",label:"Signing in"},{key:"data",label:"Loading your data"},{key:"health",label:"Checking health status"},{key:"ready",label:"Almost ready"}];function Tu({phase:s="auth"}){const[l,r]=N.useState("");N.useEffect(()=>{const o=setInterval(()=>{r(u=>u.length>=3?"":u+".")},500);return()=>clearInterval(o)},[]);const a=Cf.findIndex(o=>o.key===s);return t.jsx("div",{className:"flex h-dvh items-center justify-center bg-[var(--bg-base)]",children:t.jsxs("div",{className:"flex flex-col items-center gap-8",children:[t.jsx("img",{src:F3,alt:"Capital Friends",className:"h-16 w-16 animate-pulse"}),t.jsxs("div",{className:"flex flex-col items-center gap-4 min-w-[220px]",children:[Cf.map((o,u)=>{const d=u===a,m=u<a;return t.jsxs("div",{className:"flex items-center gap-3 w-full",children:[t.jsx("div",{className:`flex-shrink-0 w-5 h-5 rounded-full flex items-center justify-center text-xs font-medium transition-all duration-300 ${m?"bg-green-500 text-white":d?"bg-violet-500 text-white animate-pulse":"bg-[var(--border)] text-[var(--text-muted)]"}`,children:m?"":u+1}),t.jsxs("span",{className:`text-sm transition-all duration-300 ${m?"text-green-400":d?"text-[var(--text-primary)] font-medium":"text-[var(--text-muted)]"}`,children:[o.label,d?l:""]})]},o.key)}),t.jsx("div",{className:"w-full h-1 rounded-full bg-[var(--border)] overflow-hidden mt-2",children:t.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-violet-500 to-cyan-500 transition-all duration-500 ease-out",style:{width:`${(a+1)/Cf.length*100}%`}})})]})]})})}function B3(){const[s,l]=N.useState(!1),{loading:r,error:a}=tt();return r?t.jsx(Tu,{}):a?t.jsx("div",{className:"flex h-dvh items-center justify-center bg-[var(--bg-base)]",children:t.jsxs("div",{className:"flex flex-col items-center gap-4 text-center px-6",children:[t.jsx("img",{src:"/logo-small.png",alt:"Capital Friends",className:"h-16 w-16 opacity-50"}),t.jsx("p",{className:"text-rose-400 text-sm font-medium",children:a}),t.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 text-sm font-medium rounded-lg bg-violet-600 hover:bg-violet-500 text-white transition-colors",children:"Retry"})]})}):t.jsxs("div",{className:"flex flex-col h-dvh bg-[var(--bg-base)] overflow-hidden",children:[t.jsx(I3,{onMenuClick:()=>l(!0)}),t.jsx(zC,{open:s,onClose:()=>l(!1)}),t.jsx("main",{className:"flex-1 overflow-y-auto overscroll-contain pb-20 lg:pb-0",children:t.jsx("div",{className:"px-3 sm:px-4 py-3 sm:py-4 w-full max-w-7xl mx-auto",children:t.jsx(Tg,{})})}),t.jsx(z3,{})]})}function H3(){const{isAuthenticated:s,loading:l}=Ys(),{healthCheckCompleted:r,loading:a}=tt(),o=un();return l&&!s?t.jsx(Tu,{phase:"auth"}):!s&&!l?t.jsx(pu,{to:"/",replace:!0}):a?t.jsx(Tu,{phase:"data"}):r===!1&&o.pathname!=="/health-check"?t.jsx(pu,{to:"/health-check",replace:!0}):t.jsx(Tg,{})}const Pb="https://raw.githubusercontent.com/jagadeeshkmanne/capital-friends/main/logo.png";function M1(){const{isAuthenticated:s,loading:l,error:r,signIn:a}=Ys(),o=Hs(),[u,d]=N.useState(0),[m,x]=N.useState(!1),p=N.useRef(null),v=N.useCallback(()=>{p.current&&clearInterval(p.current),p.current=setInterval(()=>{x(M=>(M||d(S=>(S+1)%4),M))},5e3)},[]);N.useEffect(()=>(v(),()=>{p.current&&clearInterval(p.current)}),[v]);function b(M){d(M),v()}if(N.useEffect(()=>{s&&o("/dashboard",{replace:!0})},[s,o]),l)return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#080d1a]",children:t.jsx("img",{src:"/logo-small.png",alt:"",className:"h-16 w-16 animate-pulse"})});const g=[{id:"ath",label:"ATH Tracking",icon:t.jsx(Ll,{size:18}),color:"emerald",tagline:"Spot Buying Opportunities",desc:"See how far each mutual fund is from its All-Time High NAV. When a quality fund dips 10-20% below ATH, it's your signal to invest more  via SIP increase or lumpsum.",mock:t.jsx(q3,{})},{id:"rebalance",label:"Rebalancing",icon:t.jsx(Rl,{size:18}),color:"violet",tagline:"Know Exactly What to Buy or Sell",desc:"Set target allocation for each fund. When your portfolio drifts, Capital Friends tells you exactly how much to adjust  via SIP changes, lumpsum top-ups, or buy/sell actions.",mock:t.jsx(U3,{})},{id:"goals",label:"Goal Linking",icon:t.jsx(mo,{size:18}),color:"cyan",tagline:"Link Portfolios to Goals",desc:"Create goals like retirement, child education, or emergency fund. Link MF portfolios with allocation percentages. Goal progress updates automatically as NAVs change daily.",mock:t.jsx($3,{})},{id:"dashboard",label:"Family View",icon:t.jsx(Il,{size:18}),color:"amber",tagline:"Everyone's Wealth, One Dashboard",desc:"Switch between family members in one click. See combined or individual net worth, investments, insurance, loans  everything your family owns, in one place.",mock:t.jsx(Y3,{})}],w=g[u];return t.jsxs("div",{className:"min-h-screen bg-[#080d1a] text-slate-200",children:[t.jsx("header",{className:"sticky top-0 z-50 bg-[#0a0f1f]/95 backdrop-blur-sm border-b border-white/[0.06]",children:t.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 h-14",children:[t.jsx("img",{src:Pb,alt:"Capital Friends",className:"h-12"}),t.jsxs("button",{onClick:a,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-violet-600 to-cyan-600 text-white text-sm font-semibold hover:from-violet-500 hover:to-cyan-500 transition-all cursor-pointer",children:[t.jsx(Fb,{s:14})," Sign In"]})]})}),t.jsxs("section",{className:"relative px-5 sm:px-8 lg:px-16 pt-10 sm:pt-14 pb-8 sm:pb-10 overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 left-1/4 w-[600px] h-[400px] bg-violet-600/8 rounded-full blur-[120px] pointer-events-none"}),t.jsx("div",{className:"absolute top-20 right-1/4 w-[400px] h-[300px] bg-cyan-600/6 rounded-full blur-[100px] pointer-events-none"}),t.jsxs("div",{className:"relative text-center",children:[t.jsx("span",{className:"inline-block text-xs font-bold uppercase tracking-[0.2em] text-violet-400 bg-violet-500/10 border border-violet-500/20 rounded-full px-4 py-1.5 mb-5",children:"Always Free  100% Private  Your Google Sheet"}),t.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-extrabold leading-[1.1] tracking-tight text-white",children:["One dashboard for your family's"," ",t.jsx("span",{className:"bg-gradient-to-r from-violet-400 to-cyan-400 bg-clip-text text-transparent",children:"entire wealth"})]}),t.jsxs("p",{className:"mt-5 text-base sm:text-lg text-slate-400 leading-relaxed max-w-2xl mx-auto",children:["Mutual funds, stocks, FDs, gold, insurance, loans  track everything for every family member. Manual entry means ",t.jsx("strong",{className:"text-white",children:"no bank credentials, no privacy risk"}),"."]}),r&&t.jsx("p",{className:"mt-5 text-sm text-rose-400",children:r})]})]}),t.jsxs("section",{className:"bg-gradient-to-b from-[#0d0a1a] to-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-10 sm:py-14",children:[t.jsxs("div",{className:"text-center mb-10",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white inline-flex items-center gap-3 flex-wrap justify-center",children:[t.jsx(ns,{size:28,className:"text-amber-400 shrink-0"}),t.jsxs("span",{children:["What happens if something happens to ",t.jsx("span",{className:"text-amber-400",children:"you"}),"?"]})]}),t.jsxs("p",{className:"mt-4 text-lg text-slate-400 leading-relaxed",children:["Your family should know about every investment, every policy, every loan. Not someday. ",t.jsx("strong",{className:"text-white",children:"Right now."})]})]}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[t.jsx(zb,{icon:t.jsx(dp,{size:20}),color:"rose",title:"Without Capital Friends",items:["Scattered investments across 10+ platforms","Family has no idea what you own or owe","Insurance policies lost in email threads","Months of confusion, missed renewals, lost money"],bad:!0}),t.jsx(zb,{icon:t.jsx(no,{size:20}),color:"emerald",title:"With Capital Friends",items:["One sheet  every investment, policy, and loan","Family receives email reports with full portfolio details","Reminders for SIPs, renewals, EMI payments","Complete clarity, instantly  when it matters most"]})]}),t.jsxs("p",{className:"text-center mt-8 text-base text-slate-500",children:["Built for ",t.jsx("strong",{className:"text-white",children:"you"})," to manage your wealth  and for your ",t.jsx("strong",{className:"text-white",children:"family"})," to access it when they need to."]})]}),t.jsxs("section",{className:"bg-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"How it Works"}),t.jsx("p",{className:"text-base text-slate-500",children:"Set up in 2 minutes  no bank credentials, no downloads"})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-4",children:[t.jsx(Uc,{num:1,icon:t.jsx(H5,{size:24}),color:"violet",title:"Sign In with Google",desc:"Go to capitalfriends.in and sign in with your Google account. That's all  no registration form, no passwords."}),t.jsx(Uc,{num:2,icon:t.jsx(S5,{size:24}),color:"emerald",title:"App Creates Your Sheet",desc:"The app creates a private Google Sheet in your own Google Drive. This sheet stores all your financial data. Only you can see it  not even the developer."}),t.jsx(Uc,{num:3,icon:t.jsx(wy,{size:24}),color:"cyan",title:"Financial Health Check",desc:"Answer 7 simple yes/no questions about your financial health. Get your score and personalized recommendations instantly."}),t.jsx(Uc,{num:4,icon:t.jsx(Ll,{size:24}),color:"amber",title:"Start Tracking",desc:"Add family members, portfolios, goals, insurance, and loans. The app connects to AMFI for live mutual fund prices automatically."})]}),t.jsxs("p",{className:"text-center mt-10 text-sm text-slate-600",children:["Your sheet is named ",t.jsx("strong",{className:"text-slate-400",children:"Capital Friends - Your Name"})," and lives in your Google Drive. The web app is just a beautiful dashboard to view and manage it."]})]}),t.jsxs("section",{id:"features",className:"bg-[#0b1022] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",onMouseEnter:()=>x(!0),onMouseLeave:()=>{x(!1),v()},children:[t.jsxs("div",{className:"text-center mb-10",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Features That Set Us Apart"}),t.jsx("p",{className:"text-base text-slate-500",children:"Things you won't find on other portfolio trackers"})]}),t.jsx("div",{className:"flex justify-center gap-2 sm:gap-3 mb-10 flex-wrap",children:g.map((M,S)=>{const y=S===u,j={emerald:"border-emerald-500",violet:"border-violet-500",cyan:"border-cyan-500",amber:"border-amber-500"},D={emerald:"text-emerald-400",violet:"text-violet-400",cyan:"text-cyan-400",amber:"text-amber-400"};return t.jsxs("button",{onClick:()=>b(S),className:`relative flex items-center gap-2 px-5 py-2.5 rounded-full border text-sm font-semibold transition-all cursor-pointer ${y?`${j[M.color]} bg-white/[0.05] ${D[M.color]}`:"border-white/[0.08] text-slate-500 hover:border-white/[0.15] hover:text-slate-300"}`,children:[t.jsx("span",{className:"shrink-0",children:M.icon}),M.label,y&&t.jsx("div",{className:"absolute bottom-0 left-4 right-4 h-0.5 bg-white/[0.06] rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full rounded-full bg-current",style:{animation:"featureProgress 5s linear",animationPlayState:m?"paused":"running"}})})]},M.id)})}),t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-8 lg:gap-12",children:[t.jsxs("div",{className:"lg:flex-1 min-h-[280px]",children:[t.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:w.tagline}),t.jsx("p",{className:"mt-3 text-base text-slate-400 leading-relaxed",children:w.desc}),w.id==="ath"&&t.jsxs("div",{className:"mt-6 space-y-5",children:[t.jsx(fa,{c:"emerald",t:"ATH tracking only for funds in your portfolios"}),t.jsx(fa,{c:"emerald",t:"Color-coded signals: watch, consider, buy, strong buy"}),t.jsx(fa,{c:"emerald",t:"Increase SIP or invest lumpsum when funds dip"}),t.jsx(fa,{c:"emerald",t:"Daily NAV updates from AMFI data"})]}),w.id==="rebalance"&&t.jsxs("div",{className:"mt-6 space-y-5",children:[t.jsx(fa,{c:"violet",t:"Adjust monthly SIP to rebalance gradually"}),t.jsx(fa,{c:"violet",t:"Lumpsum top-up for quick rebalance"}),t.jsx(fa,{c:"violet",t:"Buy/Sell amounts to match target"}),t.jsx(fa,{c:"violet",t:"Configurable threshold per portfolio"})]}),w.id==="goals"&&t.jsxs("div",{className:"mt-6 space-y-5",children:[t.jsx(fa,{c:"cyan",t:"Link multiple MF portfolios to each goal"}),t.jsx(fa,{c:"cyan",t:"Built-in SIP + lumpsum calculator with inflation"}),t.jsx(fa,{c:"cyan",t:"Auto-status: On Track, Needs Attention, Achieved"}),t.jsx(fa,{c:"cyan",t:"Withdrawal planning for retirement goals"})]}),w.id==="dashboard"&&t.jsxs("div",{className:"mt-6 space-y-5",children:[t.jsx(fa,{c:"amber",t:"One-click switch between family members"}),t.jsx(fa,{c:"amber",t:"Combined net worth across everyone"}),t.jsx(fa,{c:"amber",t:"MF, stocks, FD, gold, PPF, NPS, insurance"}),t.jsx(fa,{c:"amber",t:"Email reports sent to family automatically"})]})]}),t.jsx("div",{className:"lg:flex-1 min-w-0 min-h-[380px] flex flex-col justify-center",children:w.mock})]}),t.jsx("style",{children:`
          @keyframes featureProgress {
            from { width: 0% }
            to { width: 100% }
          }
        `})]}),t.jsxs("section",{className:"bg-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",children:[t.jsxs("div",{className:"text-center mb-10",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Everything You Need"}),t.jsx("p",{className:"text-base text-slate-500",children:"One dashboard for your entire financial life"})]}),t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:[t.jsx(Jr,{icon:t.jsx(to,{size:20}),c:"rose",t:"Stock Portfolios",d:"Buy/sell tracking, average cost, P&L with live NSE prices"}),t.jsx(Jr,{icon:t.jsx(Z5,{size:20}),c:"orange",t:"FD, Gold, PPF, NPS",d:"Track any investment type  all counted in net worth"}),t.jsx(Jr,{icon:t.jsx(no,{size:20}),c:"teal",t:"Insurance Tracker",d:"Life, health, term policies with premiums & renewal dates"}),t.jsx(Jr,{icon:t.jsx(so,{size:20}),c:"red",t:"Liabilities",d:"Loans & EMIs. Net worth = total assets minus debts"}),t.jsx(Jr,{icon:t.jsx(Iu,{size:20}),c:"yellow",t:"Smart Reminders",d:"SIP dates, renewals, EMI payments, maturity alerts"}),t.jsx(Jr,{icon:t.jsx(Il,{size:20}),c:"pink",t:"Family Sharing",d:"Invite family with Google accounts  shared dashboard"}),t.jsx(Jr,{icon:t.jsx(Rl,{size:20}),c:"blue",t:"Daily Auto-Refresh",d:"NAVs and stock prices update automatically every day"}),t.jsx(Jr,{icon:t.jsx(pf,{size:20}),c:"emerald",t:"Complete Privacy",d:"No servers, no database, no tracking  your Sheet only"})]})]}),t.jsxs("section",{className:"border-y border-white/[0.06]",children:[t.jsxs("div",{className:"bg-[#0b1022] px-5 sm:px-8 lg:px-16 py-10 sm:py-14 text-center",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white inline-flex items-center gap-3",children:[t.jsx(pf,{size:28,className:"text-emerald-400 shrink-0"}),"Your Data Never Leaves Google"]}),t.jsxs("p",{className:"mt-3 text-base sm:text-lg text-slate-400 leading-relaxed",children:["No backend server. No database. No tracking. The web app is a static site. Your spreadsheet lives in ",t.jsx("strong",{className:"text-white",children:"your Google Drive"}),". We literally cannot access your financial data."]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row",children:[t.jsx(Mf,{icon:t.jsx(no,{size:20}),t:"Manual Entry Only",d:"No bank linking, no credentials shared. You type your data  no one else has access.",bg:"bg-[#0d1326]",c:"emerald"}),t.jsx(Mf,{icon:t.jsx(pf,{size:20}),t:"Your Google Sheet",d:"A private spreadsheet in your Drive. Share only with family you choose.",bg:"bg-[#0f1530]",c:"violet"}),t.jsx(Mf,{icon:t.jsx(vu,{size:20}),t:"Always Free",d:"No premium tier, no hidden fees, no ads. Free today, free forever.",bg:"bg-[#111838]",c:"amber"})]})]}),t.jsxs("section",{className:"bg-gradient-to-t from-[#080d1a] to-[#0d1128] border-t border-white/[0.06] px-5 sm:px-8 lg:px-16 py-16 text-center",children:[t.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-white",children:"Start managing your family's wealth today"}),t.jsx("p",{className:"mt-3 text-base text-slate-500",children:"Always free. No credit card. No bank linking. Just your Google account."}),t.jsxs("button",{onClick:a,className:"mt-8 inline-flex items-center gap-2.5 px-8 py-3.5 bg-gradient-to-r from-violet-600 to-cyan-600 text-white font-bold text-base rounded-xl hover:from-violet-500 hover:to-cyan-500 shadow-lg shadow-violet-900/30 transition-all hover:scale-[1.02] cursor-pointer",children:[t.jsx(Fb,{s:20})," Sign in with Google  It's Free"]}),r&&t.jsx("p",{className:"mt-3 text-sm text-rose-400",children:r})]}),t.jsxs("footer",{className:"border-t border-white/[0.04] px-5 sm:px-8 lg:px-16 py-5 flex items-center justify-between",children:[t.jsx("img",{src:Pb,alt:"",className:"h-5 opacity-30"}),t.jsx("p",{className:"text-xs text-slate-600",children:"Your data. Your Google Drive. Your control."})]})]})}function zb({icon:s,title:l,items:r,bad:a}){const o=a?"border-rose-500/15":"border-emerald-500/15",u=a?"bg-rose-500/[0.04]":"bg-emerald-500/[0.04]",d=a?"bg-rose-500/10 text-rose-400":"bg-emerald-500/10 text-emerald-400",m=a?"text-rose-400":"text-emerald-400";return t.jsxs("div",{className:`rounded-2xl border ${o} ${u} p-6`,children:[t.jsxs("h3",{className:`text-lg font-bold ${m} mb-4 flex items-center gap-2.5`,children:[t.jsx("span",{className:`flex items-center justify-center w-8 h-8 rounded-lg ${d} shrink-0`,children:s}),l]}),t.jsx("ul",{className:"space-y-3",children:r.map((x,p)=>t.jsxs("li",{className:"flex items-start gap-2.5",children:[a?t.jsx("span",{className:"text-rose-500/60 mt-0.5 shrink-0",children:""}):t.jsx(Kl,{size:16,className:"text-emerald-500 mt-0.5 shrink-0"}),t.jsx("span",{className:"text-sm text-slate-300 leading-relaxed",children:x})]},p))})]})}function Y3(){return t.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[t.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f]",children:[t.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Dashboard"}),t.jsx("div",{className:"flex gap-1.5",children:["Everyone","Jagadeesh","Priya","Arjun"].map((s,l)=>t.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full font-medium ${l===0?"bg-violet-500/20 text-violet-300":"text-slate-600"}`,children:s},s))})]}),t.jsxs("div",{className:"grid grid-cols-3 divide-x divide-white/[0.04]",children:[t.jsx(kf,{l:"Net Worth",v:"45.2L",lc:"text-violet-400",vc:"text-white"}),t.jsx(kf,{l:"Invested",v:"38.7L",lc:"text-slate-500",vc:"text-slate-300"}),t.jsx(kf,{l:"P&L",v:"+6.5L",lc:"text-slate-500",vc:"text-emerald-400",extra:"+16.8%"})]}),t.jsxs("div",{className:"border-t border-white/[0.04]",children:[t.jsx(Df,{n:"Axis Bluechip Fund",alloc:"30% / 25%",cur:"6.2L",pl:"+24.0%",ath:"5.2%",athC:"text-[#e67e00]",up:!0}),t.jsx(Df,{n:"Parag Parikh Flexi Cap",alloc:"35% / 40%",cur:"4.8L",pl:"+37.1%",ath:"At ATH",athC:"text-emerald-500",up:!0}),t.jsx(Df,{n:"SBI Small Cap Fund",alloc:"20% / 15%",cur:"1.8L",pl:"-10.0%",ath:"18.3%",athC:"text-[#d84315]",last:!0})]})]})}function q3(){const s=[{n:"HDFC Mid-Cap Opportunities",nav:"142.35",ath:"168.50",pct:"15.5%",color:"text-[#d84315]",signal:"Good Buy Signal",sigC:"text-[#d84315] bg-[#d84315]/15"},{n:"Axis Small Cap Fund",nav:"38.22",ath:"52.10",pct:"26.6%",color:"text-[#c62828]",signal:"Strong Buy",sigC:"text-[#c62828] bg-[#c62828]/15 font-bold"},{n:"Kotak Emerging Equity",nav:"89.10",ath:"92.40",pct:"3.6%",color:"text-[#b8860b]",signal:"Watch",sigC:"text-[#b8860b] bg-[#b8860b]/15"},{n:"Mirae Asset Large Cap",nav:"105.80",ath:"106.20",pct:"0.4%",color:"text-slate-500",signal:"Near ATH",sigC:"text-slate-500 bg-white/[0.04]"}];return t.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[t.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-semibold text-white",children:"Buy Opportunities"}),t.jsx("span",{className:"text-xs text-emerald-400 font-semibold bg-emerald-500/10 px-2.5 py-1 rounded-full",children:"2 signals"})]}),s.map((l,r)=>t.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${r<s.length-1?"border-b border-white/[0.03]":""}`,children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-slate-300 truncate",children:l.n}),t.jsxs("p",{className:"text-xs text-slate-600 mt-0.5",children:["NAV ","",l.nav,"  ATH ","",l.ath]})]}),t.jsxs("div",{className:"text-right shrink-0 ml-3",children:[t.jsxs("p",{className:`text-base font-bold tabular-nums ${l.color}`,children:[t.jsx(PS,{size:13,className:"inline -mt-0.5"})," ",l.pct]}),t.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded ${l.sigC}`,children:l.signal})]})]},r))]})}function U3(){const[s,l]=N.useState(0),r=["SIP Adjust","Lumpsum","Buy / Sell"],a=["New SIP","Lumpsum Top-up","Action"],u=[[{n:"Axis Bluechip",val:"SIP 6,000",cur:"30%",tgt:"25%",action:"Stop SIP",actionC:"text-amber-400"},{n:"Parag Parikh Flexi",val:"SIP 7,000",cur:"35%",tgt:"40%",action:"12,000/mo",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"SIP 4,000",cur:"20%",tgt:"15%",action:"Stop SIP",actionC:"text-amber-400"},{n:"HDFC Large Cap",val:"SIP 3,000",cur:"15%",tgt:"20%",action:"8,000/mo",actionC:"text-emerald-400"}],[{n:"Axis Bluechip",val:"3,00,000",cur:"30%",tgt:"25%",action:"No action",actionC:"text-slate-600"},{n:"Parag Parikh Flexi",val:"3,50,000",cur:"35%",tgt:"40%",action:"Invest 55,000",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"2,00,000",cur:"20%",tgt:"15%",action:"No action",actionC:"text-slate-600"},{n:"HDFC Large Cap",val:"1,50,000",cur:"15%",tgt:"20%",action:"Invest 45,000",actionC:"text-emerald-400"}],[{n:"Axis Bluechip",val:"3,00,000",cur:"30%",tgt:"25%",action:"Sell 50,000",actionC:"text-rose-400"},{n:"Parag Parikh Flexi",val:"3,50,000",cur:"35%",tgt:"40%",action:"Buy 50,000",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"2,00,000",cur:"20%",tgt:"15%",action:"Sell 50,000",actionC:"text-rose-400"},{n:"HDFC Large Cap",val:"1,50,000",cur:"15%",tgt:"20%",action:"Buy 50,000",actionC:"text-emerald-400"}]][s];return t.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[t.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-semibold text-white",children:"Rebalance Portfolio"}),t.jsx("span",{className:"text-xs text-violet-400 font-semibold bg-violet-500/10 px-2.5 py-1 rounded-full",children:"4 off-target"})]}),t.jsx("div",{className:"flex border-b border-white/[0.04]",children:r.map((d,m)=>t.jsx("button",{onClick:()=>l(m),className:`flex-1 text-xs font-semibold py-2.5 text-center cursor-pointer transition-colors ${m===s?"text-violet-400 border-b-2 border-violet-400":"text-slate-600 hover:text-slate-400"}`,children:d},d))}),t.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 border-b border-white/[0.04] bg-[#0a0f1f]/50 flex-wrap",children:[t.jsx("span",{className:"text-xs text-slate-500",children:"Portfolio Value"}),t.jsxs("span",{className:"text-sm text-white font-semibold tabular-nums",children:["","10,00,000"]}),s===0&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-xs text-slate-600",children:"|"}),t.jsx("span",{className:"text-xs text-slate-500",children:"Total SIP"}),t.jsxs("span",{className:"text-sm text-white font-semibold tabular-nums",children:["","20,000"]})]}),s===1&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-xs text-slate-600",children:"|"}),t.jsx("span",{className:"text-xs text-slate-500",children:"Lumpsum"}),t.jsx("input",{type:"text",readOnly:!0,value:"1,00,000",className:"bg-white/[0.04] border border-white/[0.08] rounded-md px-2 py-1 text-sm text-white font-semibold tabular-nums w-24 text-right cursor-default outline-none"})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"grid grid-cols-[1fr_50px_50px_1fr] gap-1 px-4 py-2.5 text-xs text-slate-600 font-semibold border-b border-white/[0.03]",children:[t.jsx("span",{children:"Fund / Value"}),t.jsx("span",{className:"text-center",children:"Current"}),t.jsx("span",{className:"text-center",children:"Target"}),t.jsx("span",{className:"text-right",children:a[s]})]}),u.map((d,m)=>t.jsxs("div",{className:`grid grid-cols-[1fr_50px_50px_1fr] gap-1 px-4 py-2.5 items-center ${m<u.length-1?"border-b border-white/[0.03]":""}`,children:[t.jsxs("div",{className:"min-w-0",children:[t.jsx("span",{className:"text-sm text-slate-300 truncate block",children:d.n}),t.jsxs("span",{className:"text-[10px] text-slate-600",children:["",d.val]})]}),t.jsx("span",{className:"text-sm text-center text-slate-400 tabular-nums",children:d.cur}),t.jsx("span",{className:"text-sm text-center text-slate-400 tabular-nums",children:d.tgt}),t.jsx("span",{className:`text-sm text-right font-semibold ${d.actionC}`,children:d.action})]},`${s}-${m}`))]})]})}function $3(){const s=[{n:"Retirement",tgt:"2Cr",cur:"28.5L",pct:14,sip:"45,000",yrs:"18 yrs",status:"On Track",sc:"text-blue-400 bg-blue-500/15",bc:"bg-blue-500"},{n:"Child Education",tgt:"50L",cur:"12.2L",pct:24,sip:"15,000",yrs:"12 yrs",status:"On Track",sc:"text-blue-400 bg-blue-500/15",bc:"bg-blue-500"},{n:"New Car",tgt:"15L",cur:"4.1L",pct:27,sip:"12,000",yrs:"3 yrs",status:"Needs Attention",sc:"text-amber-400 bg-amber-500/15",bc:"bg-amber-500"}];return t.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[t.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-semibold text-white",children:"Goals"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xs text-slate-500",children:"2 On Track"}),t.jsx("span",{className:"text-xs text-amber-400",children:"1 Needs Attention"})]})]}),s.map((l,r)=>t.jsxs("div",{className:`px-4 py-3.5 ${r<s.length-1?"border-b border-white/[0.03]":""}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-semibold text-white",children:l.n}),t.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded-full ${l.sc}`,children:l.status})]}),t.jsxs("span",{className:"text-xs text-slate-500",children:["",l.sip,"/mo  ",l.yrs]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex-1 h-2.5 rounded-full bg-white/[0.06] overflow-hidden",children:t.jsx("div",{className:`h-full rounded-full ${l.bc}`,style:{width:`${l.pct}%`}})}),t.jsxs("span",{className:"text-sm font-semibold text-slate-300 tabular-nums w-10 text-right",children:[l.pct,"%"]})]}),t.jsxs("div",{className:"flex justify-between mt-1.5 text-xs text-slate-600",children:[t.jsxs("span",{children:["",l.cur," of ","",l.tgt]}),t.jsxs("span",{className:"flex items-center gap-1 text-slate-500",children:[t.jsx(My,{size:10})," 2 portfolios linked"]})]})]},r))]})}function Fb({s=16}){return t.jsxs("svg",{viewBox:"0 0 24 24",width:s,height:s,className:"shrink-0",children:[t.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 01-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z",fill:"#4285F4"}),t.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),t.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),t.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}function kf({l:s,v:l,lc:r,vc:a,extra:o}){return t.jsxs("div",{className:"py-3.5 text-center",children:[t.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider ${r}`,children:s}),t.jsxs("p",{className:`text-lg font-bold tabular-nums mt-0.5 ${a}`,children:[l,o&&t.jsx("span",{className:"text-sm ml-1 text-emerald-400",children:o})]})]})}function Df({n:s,alloc:l,cur:r,pl:a,ath:o,athC:u,up:d,last:m}){return t.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${m?"":"border-b border-white/[0.03]"}`,children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-slate-300",children:s}),t.jsxs("p",{className:"text-xs text-slate-600",children:["Alloc ",l,"  ",t.jsx("span",{className:u,children:o!=="At ATH"?`${o} below ATH`:o})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-200 tabular-nums",children:r}),t.jsx("p",{className:`text-sm font-semibold tabular-nums ${d?"text-emerald-400":"text-rose-400"}`,children:a})]})]})}function fa({c:s,t:l}){const r={violet:"text-violet-400",cyan:"text-cyan-400",amber:"text-amber-400",emerald:"text-emerald-400"};return t.jsxs("div",{className:"flex items-center gap-2.5",children:[t.jsx(Kl,{size:16,className:`${r[s]} shrink-0`}),t.jsx("span",{className:"text-sm text-slate-300",children:l})]})}function Uc({num:s,icon:l,color:r,title:a,desc:o}){const u={violet:["text-violet-400","bg-violet-500/10","border-violet-500/20","from-violet-500/20 to-violet-500/5"],emerald:["text-emerald-400","bg-emerald-500/10","border-emerald-500/20","from-emerald-500/20 to-emerald-500/5"],cyan:["text-cyan-400","bg-cyan-500/10","border-cyan-500/20","from-cyan-500/20 to-cyan-500/5"],amber:["text-amber-400","bg-amber-500/10","border-amber-500/20","from-amber-500/20 to-amber-500/5"]},[d,m,x,p]=u[r]||u.violet;return t.jsxs("div",{className:`relative rounded-2xl border ${x} bg-gradient-to-b ${p} p-6 text-center`,children:[t.jsx("span",{className:`inline-flex items-center justify-center w-12 h-12 rounded-xl ${m} ${d} mb-4`,children:l}),t.jsxs("span",{className:`absolute top-4 right-4 text-xs font-bold ${d} opacity-40`,children:["0",s]}),t.jsx("h3",{className:"text-base font-bold text-white mb-2",children:a}),t.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:o})]})}function Mf({icon:s,t:l,d:r,bg:a,c:o}){const u={emerald:"text-emerald-400",violet:"text-violet-400",amber:"text-amber-400"};return t.jsxs("div",{className:`flex-1 ${a} px-5 sm:px-8 lg:px-10 py-6 sm:py-8 border-b sm:border-b-0 sm:border-r border-white/[0.04] last:border-0`,children:[t.jsxs("p",{className:"text-base font-bold text-white flex items-center gap-2",children:[t.jsx("span",{className:`${u[o]} shrink-0`,children:s}),l]}),t.jsx("p",{className:"text-sm text-slate-500 mt-1.5 leading-relaxed",children:r})]})}const Bb={violet:["text-violet-400","bg-violet-500/8","border-violet-500/10"],blue:["text-blue-400","bg-blue-500/8","border-blue-500/10"],emerald:["text-emerald-400","bg-emerald-500/8","border-emerald-500/10"],cyan:["text-cyan-400","bg-cyan-500/8","border-cyan-500/10"],rose:["text-rose-400","bg-rose-500/8","border-rose-500/10"],orange:["text-orange-400","bg-orange-500/8","border-orange-500/10"],teal:["text-teal-400","bg-teal-500/8","border-teal-500/10"],red:["text-red-400","bg-red-500/8","border-red-500/10"],yellow:["text-yellow-400","bg-yellow-500/8","border-yellow-500/10"],pink:["text-pink-400","bg-pink-500/8","border-pink-500/10"]};function Jr({icon:s,c:l,t:r,d:a}){const[o,u,d]=Bb[l]||Bb.violet;return t.jsxs("div",{className:`rounded-xl border ${d} ${u} p-5`,children:[t.jsxs("p",{className:"text-base font-bold text-white flex items-center gap-2",children:[t.jsx("span",{className:`${o} shrink-0`,children:s}),r]}),t.jsx("p",{className:"text-sm text-slate-500 mt-1.5 leading-relaxed",children:a})]})}function V3(){const{isAuthenticated:s,loading:l}=Ys();return l?t.jsx(Tu,{}):s?t.jsx(pu,{to:"/investments/mutual-funds",replace:!0}):t.jsx(M1,{})}function G3(){const s=un();return t.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-violet-500/15 rounded-2xl flex items-center justify-center mb-4",children:t.jsx(d5,{size:32,className:"text-violet-400"})}),t.jsx("h3",{className:"text-xl font-semibold text-[var(--text-primary)] mb-2",children:"Coming Soon"}),t.jsx("p",{className:"text-[var(--text-muted)] text-sm max-w-sm",children:"This page is under construction. Navigate using the sidebar to explore available sections."}),t.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-3 font-mono",children:s.pathname})]})}const Q3=["Savings Account","Current Account","Fixed Deposit (FD)","Recurring Deposit (RD)","NRE Account","NRO Account","Minor Account"].map(s=>({value:s,label:s}));function K3({initial:s,onSave:l,onDelete:r,onCancel:a}){const{activeMembers:o}=tt(),u=!!s,[d,m]=N.useState({accountName:s?.accountName||"",memberId:s?.memberId||"",bankName:s?.bankName||"",accountNumber:s?.accountNumber||"",ifscCode:s?.ifscCode||"",branchName:s?.branchName||"",accountType:s?.accountType||"",status:s?.status||"Active"}),[x,p]=N.useState({}),[v,b]=N.useState(!1);function g(y,j){m(D=>({...D,[y]:j})),p(D=>({...D,[y]:void 0}))}function w(){const y={};return d.accountName.trim()||(y.accountName="Required"),d.memberId||(y.memberId="Required"),d.bankName.trim()||(y.bankName="Required"),String(d.accountNumber||"").trim()||(y.accountNumber="Required"),d.ifscCode.trim()||(y.ifscCode="Required"),d.branchName.trim()||(y.branchName="Required"),d.accountType||(y.accountType="Required"),p(y),Object.keys(y).length===0}async function M(){if(w()){b(!0);try{await l({...d,ifscCode:d.ifscCode.toUpperCase()})}finally{b(!1)}}}const S=o.map(y=>({value:y.memberId,label:`${y.memberName} (${y.relationship})`}));return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ae,{label:"Account Name",required:!0,error:x.accountName,children:t.jsx(Ne,{value:d.accountName,onChange:y=>g("accountName",y),placeholder:"e.g., HDFC Savings"})}),t.jsx(ae,{label:"Family Member",required:!0,error:x.memberId,children:t.jsx(Ye,{value:d.memberId,onChange:y=>g("memberId",y),options:S,placeholder:"Select member..."})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ae,{label:"Bank Name",required:!0,error:x.bankName,children:t.jsx(Ne,{value:d.bankName,onChange:y=>g("bankName",y),placeholder:"e.g., HDFC Bank"})}),t.jsx(ae,{label:"Account Type",required:!0,error:x.accountType,children:t.jsx(Ye,{value:d.accountType,onChange:y=>g("accountType",y),options:Q3,placeholder:"Select type..."})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ae,{label:"Account Number",required:!0,error:x.accountNumber,children:t.jsx(Ne,{sensitive:!0,value:d.accountNumber,onChange:y=>g("accountNumber",y),placeholder:"e.g., 1234567890"})}),t.jsx(ae,{label:"IFSC Code",required:!0,error:x.ifscCode,children:t.jsx(Ne,{value:d.ifscCode,onChange:y=>g("ifscCode",y.toUpperCase()),placeholder:"e.g., HDFC0001234",maxLength:11})})]}),t.jsx(ae,{label:"Branch Name",required:!0,error:x.branchName,children:t.jsx(Ne,{value:d.branchName,onChange:y=>g("branchName",y),placeholder:"e.g., Hyderabad - Kondapur"})}),u&&t.jsx(ae,{label:"Status",children:t.jsx(Ye,{value:d.status,onChange:y=>g("status",y),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),t.jsxs("div",{className:"flex items-center justify-between",children:[u&&r?t.jsx(wr,{onClick:r}):t.jsx("div",{}),t.jsx(ya,{onCancel:a,onSubmit:M,submitLabel:u?"Update":"Add Account",loading:v})]})]})}function Sr({title:s="Loading"}){return t.jsxs("div",{className:"flex flex-col items-center justify-center py-32 gap-3",children:[t.jsx("span",{className:"w-7 h-7 border-[2.5px] border-violet-400/30 border-t-violet-400 rounded-full animate-spin"}),t.jsxs("span",{className:"text-sm font-semibold text-[var(--text-primary)]",children:[s,"..."]})]})}const Hb={"Savings Account":"bg-blue-500/15 text-[var(--accent-blue)]",Savings:"bg-blue-500/15 text-[var(--accent-blue)]",Salary:"bg-emerald-500/15 text-emerald-400","Current Account":"bg-violet-500/15 text-[var(--accent-violet)]","Fixed Deposit":"bg-amber-500/15 text-[var(--accent-amber)]","Fixed Deposit (FD)":"bg-amber-500/15 text-[var(--accent-amber)]"};function Yb(){const{selectedMember:s,member:l}=ca(),{banks:r,addBankAccount:a,updateBankAccount:o,deleteBankAccount:u}=tt(),{showToast:d,showBlockUI:m,hideBlockUI:x}=Hn(),p=Yn(),{mv:v}=qn(),[b,g]=N.useState(null);if(r===null)return t.jsx(Sr,{title:"Loading bank accounts",cards:3});const w=N.useMemo(()=>{const D=r.filter(k=>k.status!=="Inactive");return s==="all"?D:D.filter(k=>k.memberId===s)},[r,s]),M=N.useMemo(()=>new Set(w.map(D=>D.bankName)).size,[w]),S=N.useMemo(()=>w.filter(D=>D.accountType==="Savings"||D.accountType==="Savings Account"||D.accountType==="Salary").length,[w]);async function y(D){m("Saving...");try{b?.edit?await o(b.edit.accountId,D):await a(D),d(b?.edit?"Bank account updated":"Bank account added"),g(null)}catch(k){d(k.message||"Failed to save bank account","error")}finally{x()}}async function j(){if(b?.edit&&await p("Deactivate this bank account?",{title:"Deactivate Account",confirmLabel:"Deactivate"})){m("Deactivating...");try{await u(b.edit.accountId),d("Bank account deactivated"),g(null)}catch(D){d(D.message||"Failed to deactivate bank account","error")}finally{x()}}}return t.jsxs("div",{className:"space-y-4",children:[w.length===0?t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[t.jsx(ky,{size:32,className:"text-[var(--text-dim)]"}),t.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No bank accounts",l?` for ${l.memberName}`:""]}),t.jsx("button",{onClick:()=>g("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first bank account"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsx(Af,{label:"Total Accounts",value:w.length}),t.jsx(Af,{label:"Banks",value:M}),t.jsx(Af,{label:"Savings / Salary",value:S})]}),t.jsx("div",{className:"flex items-center justify-end px-1",children:t.jsxs("button",{onClick:()=>g("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[t.jsx(oa,{size:14})," Add Account"]})}),t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[t.jsx("div",{className:"hidden sm:block overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm min-w-[580px]",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[t.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Bank"}),!l&&t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account No."}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Branch"}),t.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),t.jsx("tbody",{children:w.map(D=>t.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[t.jsx("td",{className:"py-2.5 px-4",children:t.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:D.accountName})}),t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:D.bankName}),!l&&t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:v(D.memberName,"name")}),t.jsx("td",{className:"py-2.5 px-3",children:t.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Hb[D.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:D.accountType})}),t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:v(D.accountNumber,"account")}),t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-dim)]",children:D.branchName}),t.jsx("td",{className:"py-2.5 px-2",children:t.jsx("button",{onClick:()=>g({edit:D}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:t.jsx(dn,{size:12})})})]},D.accountId))})]})}),t.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:w.map(D=>t.jsxs("div",{onClick:()=>g({edit:D}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:D.accountName}),t.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Hb[D.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:D.accountType})]}),t.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[D.bankName,l?"":`  ${v(D.memberName,"name")}`]}),t.jsxs("div",{className:"flex items-center justify-between mt-1",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:v(D.accountNumber,"account")}),t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:D.branchName})]})]},D.accountId))})]})]}),t.jsx(Qt,{open:!!b,onClose:()=>g(null),title:b?.edit?"Edit Bank Account":"Add Bank Account",children:t.jsx(K3,{initial:b?.edit||void 0,onSave:y,onDelete:b?.edit?j:void 0,onCancel:()=>g(null)})})]})}function Af({label:s,value:l}){return t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),t.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:l})]})}const X3=["Demat + Trading","Mutual Fund","Trading","Direct AMC","Broker"].map(s=>({value:s,label:s}));function W3({initial:s,onSave:l,onDelete:r,onCancel:a}){const{activeMembers:o,activeBanks:u}=tt(),d=!!s,[m,x]=N.useState({accountName:s?.accountName||"",memberId:s?.memberId||"",bankAccountId:s?.bankAccountId||"",accountType:s?.accountType||"",platformBroker:s?.platformBroker||"",accountClientId:s?.accountClientId||"",dematDpId:s?.dematDpId||"",registeredEmail:s?.registeredEmail||"",registeredPhone:s?.registeredPhone||"",status:s?.status||"Active"}),[p,v]=N.useState({}),[b,g]=N.useState(!1);function w(k,_){x(O=>({...O,[k]:_})),v(O=>({...O,[k]:void 0}))}function M(k){x(_=>({..._,memberId:k,bankAccountId:""})),v(_=>({..._,memberId:void 0}))}function S(){const k={};return m.accountName.trim()||(k.accountName="Required"),m.memberId||(k.memberId="Required"),m.bankAccountId||(k.bankAccountId="Required"),m.accountType||(k.accountType="Required"),m.platformBroker.trim()||(k.platformBroker="Required"),m.registeredEmail.trim()||(k.registeredEmail="Required"),m.registeredPhone.trim()||(k.registeredPhone="Required"),v(k),Object.keys(k).length===0}async function y(){if(S()){g(!0);try{await l(m)}finally{g(!1)}}}const j=o.map(k=>({value:k.memberId,label:`${k.memberName} (${k.relationship})`})),D=N.useMemo(()=>m.memberId?u.filter(k=>k.memberId===m.memberId).map(k=>({value:k.accountId,label:`${k.accountName} - ${k.bankName}`})):[],[u,m.memberId]);return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ae,{label:"Account Name",required:!0,error:p.accountName,children:t.jsx(Ne,{value:m.accountName,onChange:k=>w("accountName",k),placeholder:"e.g., Zerodha Demat"})}),t.jsx(ae,{label:"Family Member",required:!0,error:p.memberId,children:t.jsx(Ye,{value:m.memberId,onChange:M,options:j,placeholder:"Select member..."})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ae,{label:"Linked Bank Account",required:!0,error:p.bankAccountId,children:t.jsx(Ye,{value:m.bankAccountId,onChange:k=>w("bankAccountId",k),options:D,placeholder:m.memberId?D.length?"Select bank account...":"No bank accounts for this member":"Select member first..."})}),t.jsx(ae,{label:"Account Type",required:!0,error:p.accountType,children:t.jsx(Ye,{value:m.accountType,onChange:k=>w("accountType",k),options:X3,placeholder:"Select type..."})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ae,{label:"Platform / Broker",required:!0,error:p.platformBroker,children:t.jsx(Ne,{value:m.platformBroker,onChange:k=>w("platformBroker",k),placeholder:"e.g., Zerodha, Groww"})}),t.jsx(ae,{label:"Account / Client ID",error:p.accountClientId,children:t.jsx(Ne,{sensitive:!0,value:m.accountClientId,onChange:k=>w("accountClientId",k),placeholder:"e.g., ZR1234 (optional)"})})]}),t.jsx(ae,{label:"Demat DP ID",error:p.dematDpId,children:t.jsx(Ne,{sensitive:!0,value:m.dematDpId,onChange:k=>w("dematDpId",k),placeholder:"16-digit DP ID (optional)",maxLength:16})}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ae,{label:"Registered Email",required:!0,error:p.registeredEmail,children:t.jsx(Ne,{sensitive:!0,type:"email",value:m.registeredEmail,onChange:k=>w("registeredEmail",k),placeholder:"email@example.com"})}),t.jsx(ae,{label:"Registered Phone",required:!0,error:p.registeredPhone,children:t.jsx(Ne,{sensitive:!0,value:m.registeredPhone,onChange:k=>w("registeredPhone",k),placeholder:"9876543210"})})]}),d&&t.jsx(ae,{label:"Status",children:t.jsx(Ye,{value:m.status,onChange:k=>w("status",k),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),t.jsxs("div",{className:"flex items-center justify-between",children:[d&&r?t.jsx(wr,{onClick:r}):t.jsx("div",{}),t.jsx(ya,{onCancel:a,onSubmit:y,submitLabel:d?"Update":"Add Account",loading:b})]})]})}const qb={"Demat + Trading":"bg-violet-500/15 text-[var(--accent-violet)]","Mutual Fund":"bg-blue-500/15 text-[var(--accent-blue)]",Trading:"bg-orange-500/15 text-[var(--accent-orange)]",Demat:"bg-amber-500/15 text-[var(--accent-amber)]","Direct AMC":"bg-emerald-500/15 text-emerald-400",Broker:"bg-rose-500/15 text-[var(--accent-rose)]"};function Z3(){const{selectedMember:s,member:l}=ca(),{investmentAccounts:r,addInvestmentAccount:a,updateInvestmentAccount:o,deleteInvestmentAccount:u}=tt(),{showToast:d,showBlockUI:m,hideBlockUI:x}=Hn(),p=Yn(),{mv:v}=qn(),[b,g]=N.useState(null);if(r===null)return t.jsx(Sr,{title:"Loading investment accounts",cards:4});const w=N.useMemo(()=>{const k=r.filter(_=>_.status!=="Inactive");return s==="all"?k:k.filter(_=>_.memberId===s)},[r,s]),M=N.useMemo(()=>new Set(w.map(k=>k.platformBroker)).size,[w]),S=w.filter(k=>k.accountType==="Demat + Trading"||k.accountType==="Demat"||k.accountType==="Trading").length,y=w.filter(k=>k.accountType==="Mutual Fund"||k.accountType==="Direct AMC").length;async function j(k){m("Saving...");try{b?.edit?await o(b.edit.accountId,k):await a(k),d(b?.edit?"Investment account updated":"Investment account added"),g(null)}catch(_){d(_.message||"Failed to save investment account","error")}finally{x()}}async function D(){if(b?.edit&&await p("Deactivate this investment account?",{title:"Deactivate Account",confirmLabel:"Deactivate"})){m("Deactivating...");try{await u(b.edit.accountId),d("Investment account deactivated"),g(null)}catch(k){d(k.message||"Failed to deactivate investment account","error")}finally{x()}}}return t.jsxs("div",{className:"space-y-4",children:[w.length===0?t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[t.jsx(gy,{size:32,className:"text-[var(--text-dim)]"}),t.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No investment accounts",l?` for ${l.memberName}`:""]}),t.jsx("button",{onClick:()=>g("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first investment account"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[t.jsx($c,{label:"Total Accounts",value:w.length}),t.jsx($c,{label:"Platforms",value:M}),t.jsx($c,{label:"Demat / Trading",value:S}),t.jsx($c,{label:"Mutual Fund",value:y})]}),t.jsx("div",{className:"flex items-center justify-end px-1",children:t.jsxs("button",{onClick:()=>g("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[t.jsx(oa,{size:14})," Add Account"]})}),t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[t.jsx("div",{className:"hidden sm:block overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm min-w-[620px]",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[t.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Platform"}),!l&&t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Client ID"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Bank"}),t.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),t.jsx("tbody",{children:w.map(k=>t.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[t.jsx("td",{className:"py-2.5 px-4",children:t.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:k.accountName})}),t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:k.platformBroker}),!l&&t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:v(k.memberName,"name")}),t.jsx("td",{className:"py-2.5 px-3",children:t.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${qb[k.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:k.accountType})}),t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:v(k.accountClientId,"clientId")}),t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-dim)]",children:k.bankAccountName}),t.jsx("td",{className:"py-2.5 px-2",children:t.jsx("button",{onClick:()=>g({edit:k}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:t.jsx(dn,{size:12})})})]},k.accountId))})]})}),t.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:w.map(k=>t.jsxs("div",{onClick:()=>g({edit:k}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:k.accountName}),t.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${qb[k.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:k.accountType})]}),t.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[k.platformBroker,l?"":`  ${v(k.memberName,"name")}`]}),t.jsxs("div",{className:"flex items-center justify-between mt-1",children:[t.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Client: ",v(k.accountClientId,"clientId")]}),t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:k.bankAccountName})]})]},k.accountId))})]})]}),t.jsx(Qt,{open:!!b,onClose:()=>g(null),title:b?.edit?"Edit Investment Account":"Add Investment Account",wide:!0,children:t.jsx(W3,{initial:b?.edit||void 0,onSave:j,onDelete:b?.edit?D:void 0,onCancel:()=>g(null)})})]})}function $c({label:s,value:l}){return t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),t.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:l})]})}const J3=["Term Life","Health","Motor","Home Insurance","Travel","Personal Accident","Life Insurance","Others"].map(s=>({value:s,label:s})),eA=[{value:"Active",label:"Active"},{value:"Expired",label:"Expired"},{value:"Surrendered",label:"Surrendered"},{value:"Lapsed",label:"Lapsed"},{value:"Inactive",label:"Inactive"}];function tA({initial:s,onSave:l,onDelete:r,onCancel:a}){const{activeMembers:o}=tt(),u=!!s,[d,m]=N.useState({policyType:s?.policyType||"",company:s?.company||"",policyNumber:s?.policyNumber||"",policyName:s?.policyName||"",insuredMember:s?.insuredMember||"",memberId:s?.memberId||"",sumAssured:s?.sumAssured||"",nominee:s?.nominee||"",premium:s?.premium||"",premiumFrequency:s?.premiumFrequency||"Annual",status:s?.status||"Active",notes:s?.notes||""}),[x,p]=N.useState({}),[v,b]=N.useState(!1);function g(j,D){m(k=>({...k,[j]:D})),p(k=>({...k,[j]:void 0}))}function w(j){const D=o.find(k=>k.memberId===j);m(k=>({...k,memberId:j,insuredMember:D?.memberName||""})),p(k=>({...k,memberId:void 0}))}function M(){const j={};return d.policyType||(j.policyType="Required"),d.company.trim()||(j.company="Required"),d.policyNumber.trim()||(j.policyNumber="Required"),d.policyName.trim()||(j.policyName="Required"),d.memberId||(j.memberId="Required"),(!d.sumAssured||Number(d.sumAssured)<=0)&&(j.sumAssured="Must be > 0"),p(j),Object.keys(j).length===0}async function S(){if(M()){b(!0);try{await l({...d,sumAssured:Number(d.sumAssured),premium:Number(d.premium)||0})}finally{b(!1)}}}const y=o.map(j=>({value:j.memberId,label:`${j.memberName} (${j.relationship})`}));return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ae,{label:"Policy Type",required:!0,error:x.policyType,children:t.jsx(Ye,{value:d.policyType,onChange:j=>g("policyType",j),options:J3,placeholder:"Select type..."})}),t.jsx(ae,{label:"Insurance Company",required:!0,error:x.company,children:t.jsx(Ne,{value:d.company,onChange:j=>g("company",j),placeholder:"e.g., HDFC Life"})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ae,{label:"Policy Number",required:!0,error:x.policyNumber,children:t.jsx(Ne,{sensitive:!0,value:d.policyNumber,onChange:j=>g("policyNumber",j),placeholder:"e.g., HL-2024-78901"})}),t.jsx(ae,{label:"Policy Name",required:!0,error:x.policyName,children:t.jsx(Ne,{value:d.policyName,onChange:j=>g("policyName",j),placeholder:"e.g., Click 2 Protect Life"})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ae,{label:"Insured Member",required:!0,error:x.memberId,children:t.jsx(Ye,{value:d.memberId,onChange:w,options:y,placeholder:"Select member..."})}),t.jsx(ae,{label:"Nominee",children:t.jsx(Ye,{value:d.nominee,onChange:j=>g("nominee",j),options:y.map(j=>({...j,label:j.label.split(" (")[0]})),placeholder:"Select nominee (optional)..."})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[t.jsx(ae,{label:"Sum Assured ()",required:!0,error:x.sumAssured,children:t.jsx(Ne,{type:"number",value:d.sumAssured,onChange:j=>g("sumAssured",j),placeholder:"e.g., 10000000"})}),t.jsx(ae,{label:"Premium ()",children:t.jsx(Ne,{type:"number",value:d.premium,onChange:j=>g("premium",j),placeholder:"e.g., 12500"})}),t.jsx(ae,{label:"Premium Frequency",children:t.jsx(Ye,{value:d.premiumFrequency,onChange:j=>g("premiumFrequency",j),options:[{value:"Annual",label:"Annual"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"}]})})]}),u&&t.jsx(ae,{label:"Status",children:t.jsx(Ye,{value:d.status,onChange:j=>g("status",j),options:eA})}),t.jsx(ae,{label:"Notes",children:t.jsx(Ul,{value:d.notes,onChange:j=>g("notes",j),placeholder:"Additional information..."})}),t.jsxs("div",{className:"flex items-center justify-between",children:[u&&r?t.jsx(wr,{onClick:r}):t.jsx("div",{}),t.jsx(ya,{onCancel:a,onSubmit:S,submitLabel:u?"Update":"Add Policy",loading:v})]})]})}const Ub={"Term Life":"bg-rose-500/15 text-[var(--accent-rose)]",Health:"bg-emerald-500/15 text-emerald-400",Motor:"bg-blue-500/15 text-[var(--accent-blue)]","Home Insurance":"bg-amber-500/15 text-[var(--accent-amber)]",Travel:"bg-violet-500/15 text-[var(--accent-violet)]","Life Insurance":"bg-rose-500/15 text-[var(--accent-rose)]","Personal Accident":"bg-orange-500/15 text-[var(--accent-orange)]"};function aA(){const{selectedMember:s,member:l}=ca(),{insurancePolicies:r,addInsurance:a,updateInsurance:o,deleteInsurance:u}=tt(),{showToast:d,showBlockUI:m,hideBlockUI:x}=Hn(),p=Yn(),{mv:v}=qn(),[b,g]=N.useState(null);if(r===null)return t.jsx(Sr,{title:"Loading insurance",cards:5});const w=N.useMemo(()=>{const _=r.filter(O=>O.status!=="Inactive");return s==="all"?_:_.filter(O=>O.memberId===s)},[r,s]),M=w.reduce((_,O)=>_+(O.sumAssured||0),0),S=w.reduce((_,O)=>_+(O.premium||0),0),y=w.filter(_=>_.policyType==="Term Life"||_.policyType==="Life Insurance").reduce((_,O)=>_+(O.sumAssured||0),0),j=w.filter(_=>_.policyType==="Health").reduce((_,O)=>_+(O.sumAssured||0),0);async function D(_){m("Saving...");try{b?.edit?await o(b.edit.policyId,_):await a(_),d(b?.edit?"Insurance policy updated":"Insurance policy added"),g(null)}catch(O){d(O.message||"Failed to save insurance policy","error")}finally{x()}}async function k(){if(b?.edit&&await p("Deactivate this insurance policy?",{title:"Deactivate Policy",confirmLabel:"Deactivate"})){m("Deactivating...");try{await u(b.edit.policyId),d("Insurance policy deactivated"),g(null)}catch(_){d(_.message||"Failed to deactivate insurance policy","error")}finally{x()}}}return t.jsxs("div",{className:"space-y-4",children:[w.length===0?t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[t.jsx(no,{size:32,className:"text-[var(--text-dim)]"}),t.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No insurance policies",l?` for ${l.memberName}`:""]}),t.jsx("button",{onClick:()=>g("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first policy"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[t.jsx(Ki,{label:"Policies",value:w.length}),t.jsx(Ki,{label:"Total Cover",value:Q(M),bold:!0}),t.jsx(Ki,{label:"Life Cover",value:Q(y)}),t.jsx(Ki,{label:"Health Cover",value:Q(j)}),t.jsx(Ki,{label:"Annual Premium",value:Q(S)})]}),t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[t.jsx("p",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider mb-3",children:"Coverage Adequacy"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[t.jsx($b,{label:"Life Insurance",current:y,recommended:"10-15x annual income",tip:"Term life cover should be 10-15x your annual income to protect dependents",icon:"heart"}),t.jsx($b,{label:"Health Insurance",current:j,recommended:"50L - 1Cr family floater",tip:"Considering medical inflation, a 50L-1Cr family floater is recommended",icon:"shield"})]})]}),t.jsx("div",{className:"flex items-center justify-end px-1",children:t.jsxs("button",{onClick:()=>g("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[t.jsx(oa,{size:14})," Add Policy"]})}),t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[t.jsx("div",{className:"hidden sm:block overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[t.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Policy"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Company"}),!l&&t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Insured"}),t.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Sum Assured"}),t.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Premium"}),t.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),t.jsx("tbody",{children:w.map(_=>t.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[t.jsxs("td",{className:"py-2.5 px-4",children:[t.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:_.policyName}),t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:v(_.policyNumber,"policy")})]}),t.jsx("td",{className:"py-2.5 px-3",children:t.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Ub[_.policyType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:_.policyType})}),t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:_.company}),!l&&t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:_.insuredMember}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(_.sumAssured)}),t.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:[Q(_.premium),"/",_.premiumFrequency==="Annual"?"yr":"mo"]}),t.jsx("td",{className:"py-2.5 px-2",children:t.jsx("button",{onClick:()=>g({edit:_}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:t.jsx(dn,{size:12})})})]},_.policyId))})]})}),t.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:w.map(_=>t.jsxs("div",{onClick:()=>g({edit:_}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:_.policyName}),t.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${Ub[_.policyType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:_.policyType})]}),t.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[_.company,l?"":`  ${_.insuredMember}`]}),t.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Cover"}),t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(_.sumAssured)})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Premium"}),t.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:[Q(_.premium),"/",_.premiumFrequency==="Annual"?"yr":"mo"]})]})]})]},_.policyId))})]})]}),t.jsx(Qt,{open:!!b,onClose:()=>g(null),title:b?.edit?"Edit Insurance Policy":"Add Insurance Policy",wide:!0,children:t.jsx(tA,{initial:b?.edit||void 0,onSave:D,onDelete:b?.edit?k:void 0,onCancel:()=>g(null)})})]})}function $b({label:s,current:l,recommended:r,tip:a}){const o=l===0;return t.jsxs("div",{className:`rounded-lg border px-3 py-2.5 ${o?"border-rose-500/30 bg-rose-500/5":"border-[var(--border)] bg-[var(--bg-inset)]"}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:s}),o?t.jsx("span",{className:"text-xs font-bold text-[var(--accent-rose)]",children:"Not covered"}):t.jsx("span",{className:"text-xs font-semibold text-emerald-400",children:Q(l)})]}),t.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Recommended: ",r]}),t.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5 italic",children:a})]})}function Ki({label:s,value:l,bold:r}){return t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),t.jsx("p",{className:`text-sm tabular-nums ${r?"font-bold":"font-semibold"} text-[var(--text-primary)]`,children:l})]})}const nA=["Home Loan","Car Loan","Personal Loan","Education Loan","Gold Loan","Credit Card","Business Loan","Loan Against Property","Other"].map(s=>({value:s,label:s})),rA=[{value:"Active",label:"Active"},{value:"Closed",label:"Closed"},{value:"Inactive",label:"Inactive"}];function sA({initial:s,onSave:l,onDelete:r,onCancel:a}){const{activeMembers:o}=tt(),u=!!s,[d,m]=N.useState({liabilityType:s?.liabilityType||"",lenderName:s?.lenderName||"",familyMemberId:s?.familyMemberId||"",outstandingBalance:s?.outstandingBalance||"",emiAmount:s?.emiAmount||"",interestRate:s?.interestRate||"",status:s?.status||"Active",notes:s?.notes||""}),[x,p]=N.useState({}),[v,b]=N.useState(!1);function g(y,j){m(D=>({...D,[y]:j})),p(D=>({...D,[y]:void 0}))}function w(){const y={};return d.liabilityType||(y.liabilityType="Required"),d.lenderName.trim()||(y.lenderName="Required"),(!d.outstandingBalance||Number(d.outstandingBalance)<=0)&&(y.outstandingBalance="Must be > 0"),p(y),Object.keys(y).length===0}async function M(){if(w()){b(!0);try{await l({...d,outstandingBalance:Number(d.outstandingBalance),emiAmount:Number(d.emiAmount)||0,interestRate:Number(d.interestRate)||0})}finally{b(!1)}}}const S=o.map(y=>({value:y.memberId,label:`${y.memberName} (${y.relationship})`}));return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ae,{label:"Liability Type",required:!0,error:x.liabilityType,children:t.jsx(Ye,{value:d.liabilityType,onChange:y=>g("liabilityType",y),options:nA,placeholder:"Select type..."})}),t.jsx(ae,{label:"Lender / Bank",required:!0,error:x.lenderName,children:t.jsx(Ne,{value:d.lenderName,onChange:y=>g("lenderName",y),placeholder:"e.g., HDFC Bank"})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ae,{label:"Family Member",children:t.jsx(Ye,{value:d.familyMemberId,onChange:y=>g("familyMemberId",y),options:S,placeholder:"Select member (optional)..."})}),t.jsx(ae,{label:"Outstanding Balance ()",required:!0,error:x.outstandingBalance,children:t.jsx(Ne,{type:"number",value:d.outstandingBalance,onChange:y=>g("outstandingBalance",y),placeholder:"e.g., 3500000"})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ae,{label:"EMI Amount ()",children:t.jsx(Ne,{type:"number",value:d.emiAmount,onChange:y=>g("emiAmount",y),placeholder:"e.g., 32000"})}),t.jsx(ae,{label:"Interest Rate (%)",children:t.jsx(Ne,{type:"number",value:d.interestRate,onChange:y=>g("interestRate",y),placeholder:"e.g., 8.5",step:"0.01"})})]}),u&&t.jsx(ae,{label:"Status",children:t.jsx(Ye,{value:d.status,onChange:y=>g("status",y),options:rA})}),t.jsx(ae,{label:"Notes",children:t.jsx(Ul,{value:d.notes,onChange:y=>g("notes",y),placeholder:"e.g., Flat in Kondapur"})}),t.jsxs("div",{className:"flex items-center justify-between",children:[u&&r?t.jsx(wr,{onClick:r}):t.jsx("div",{}),t.jsx(ya,{onCancel:a,onSubmit:M,submitLabel:u?"Update":"Add Liability",loading:v})]})]})}const Vb={"Home Loan":"bg-blue-500/15 text-[var(--accent-blue)]","Car Loan":"bg-amber-500/15 text-[var(--accent-amber)]","Gold Loan":"bg-orange-500/15 text-[var(--accent-orange)]","Personal Loan":"bg-violet-500/15 text-[var(--accent-violet)]","Education Loan":"bg-emerald-500/15 text-emerald-400","Credit Card":"bg-rose-500/15 text-[var(--accent-rose)]"};function lA(){const{selectedMember:s,member:l}=ca(),{liabilityList:r,addLiability:a,updateLiability:o,deleteLiability:u}=tt(),{showToast:d,showBlockUI:m,hideBlockUI:x}=Hn(),p=Yn(),[v,b]=N.useState(null);if(r===null)return t.jsx(Sr,{title:"Loading liabilities",cards:4});const g=N.useMemo(()=>{const D=r.filter(k=>k.status!=="Inactive");return s==="all"?D:D.filter(k=>k.familyMemberId===s)},[r,s]),w=g.reduce((D,k)=>D+(k.outstandingBalance||0),0),M=g.reduce((D,k)=>D+(k.emiAmount||0),0),S=g.filter(D=>D.status==="Active").length;async function y(D){m("Saving...");try{v?.edit?await o(v.edit.liabilityId,D):await a(D),d(v?.edit?"Liability updated":"Liability added"),b(null)}catch(k){d(k.message||"Failed to save liability","error")}finally{x()}}async function j(){if(v?.edit&&await p("Deactivate this liability?",{title:"Deactivate Liability",confirmLabel:"Deactivate"})){m("Deactivating...");try{await u(v.edit.liabilityId),d("Liability deactivated"),b(null)}catch(D){d(D.message||"Failed to deactivate liability","error")}finally{x()}}}return t.jsxs("div",{className:"space-y-4",children:[g.length===0?t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[t.jsx(so,{size:32,className:"text-[var(--text-dim)]"}),t.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No liabilities",l?` for ${l.memberName}`:""]}),t.jsx("button",{onClick:()=>b("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add a liability"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[t.jsx(Vc,{label:"Liabilities",value:`${S} active`}),t.jsx(Vc,{label:"Outstanding",value:Q(w),color:"rose",bold:!0}),t.jsx(Vc,{label:"Monthly EMI",value:Q(M),color:"rose"}),t.jsx(Vc,{label:"Avg. Interest",value:g.length>0?`${(g.reduce((D,k)=>D+(k.interestRate||0),0)/g.length).toFixed(1)}%`:""})]}),t.jsx("div",{className:"flex items-center justify-end px-1",children:t.jsxs("button",{onClick:()=>b("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[t.jsx(oa,{size:14})," Add Liability"]})}),t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[t.jsx("div",{className:"hidden sm:block overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm min-w-[640px]",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[t.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Lender"}),!l&&t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),t.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Outstanding"}),t.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"EMI"}),t.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Interest"}),t.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Remaining"}),t.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),t.jsx("tbody",{children:g.map(D=>t.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[t.jsxs("td",{className:"py-2.5 px-4",children:[t.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Vb[D.liabilityType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:D.liabilityType}),D.notes&&t.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:D.notes})]}),t.jsx("td",{className:"py-2.5 px-3 text-sm font-medium text-[var(--text-primary)]",children:D.lenderName}),!l&&t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:D.familyMemberName}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:Q(D.outstandingBalance)}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:D.emiAmount?`${Q(D.emiAmount)}/mo`:""}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:D.interestRate?`${D.interestRate}%`:""}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:D.emiAmount>0&&D.outstandingBalance>0?`${Math.ceil(D.outstandingBalance/D.emiAmount)} mo`:""}),t.jsx("td",{className:"py-2.5 px-2",children:t.jsx("button",{onClick:()=>b({edit:D}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:t.jsx(dn,{size:12})})})]},D.liabilityId))})]})}),t.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:g.map(D=>t.jsxs("div",{onClick:()=>b({edit:D}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Vb[D.liabilityType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:D.liabilityType}),t.jsx("p",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:Q(D.outstandingBalance)})]}),t.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:D.lenderName}),t.jsxs("div",{className:"flex items-center justify-between mt-1",children:[t.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[D.familyMemberName,D.notes?`  ${D.notes}`:""]}),t.jsxs("div",{className:"text-right",children:[D.emiAmount>0&&t.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:["EMI: ",Q(D.emiAmount),"/mo"]}),D.emiAmount>0&&D.outstandingBalance>0&&t.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:[Math.ceil(D.outstandingBalance/D.emiAmount)," months left"]})]})]})]},D.liabilityId))})]})]}),t.jsx(Qt,{open:!!v,onClose:()=>b(null),title:v?.edit?"Edit Liability":"Add Liability",children:t.jsx(sA,{initial:v?.edit||void 0,onSave:y,onDelete:v?.edit?j:void 0,onCancel:()=>b(null)})})]})}function Vc({label:s,value:l,color:r,bold:a}){const o=r==="rose"?"text-[var(--accent-rose)]":"text-[var(--text-primary)]";return t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),t.jsx("p",{className:`text-sm tabular-nums ${a?"font-bold":"font-semibold"} ${o}`,children:l})]})}const iA="cf_market_data",A1=[{value:"Fixed Deposit",category:"Debt"},{value:"PPF",category:"Debt"},{value:"EPF",category:"Debt"},{value:"NPS",category:"Debt"},{value:"Sovereign Gold Bond",category:"Gold"},{value:"Physical Gold",category:"Gold"},{value:"Digital Gold",category:"Gold"},{value:"Real Estate",category:"Property"},{value:"Bonds",category:"Debt"},{value:"Physical Silver",category:"Silver"},{value:"Digital Silver",category:"Silver"},{value:"Crypto",category:"Alternative"},{value:"Other",category:"Other"}],Gb={"Real Estate":"Home Loan","Physical Gold":"Gold Loan","Sovereign Gold Bond":"Gold Loan","Fixed Deposit":"Loan Against FD"},oA=A1.map(s=>({value:s.value,label:s.value})),cA=["Equity","Debt","Gold","Silver","Property","Alternative","Other"].map(s=>({value:s,label:s})),uA=[{value:"Active",label:"Active"},{value:"Sold",label:"Sold"},{value:"Matured",label:"Matured"},{value:"Inactive",label:"Inactive"}],Qb=[{value:"24K",label:"24K (99.9%)",factor:.999},{value:"22K",label:"22K (91.6%)",factor:.916},{value:"18K",label:"18K (75.0%)",factor:.75}],Kb=[{value:"999",label:"999 Fine (99.9%)",factor:.999},{value:"925",label:"925 Sterling (92.5%)",factor:.925}];function mu(s){return["Physical Gold","Digital Gold","Sovereign Gold Bond"].includes(s)}function dA(s){return["Physical Silver","Digital Silver"].includes(s)||s&&s.toLowerCase().includes("silver")}function Ef(s){return mu(s)||dA(s)}function mA(s){try{const l=sessionStorage.getItem(iA);if(!l)return null;const r=JSON.parse(l);if(!r.metals)return null;const a=s==="gold"?"Gold":"Silver",o=r.metals.find(u=>u.name.toLowerCase().includes(a.toLowerCase()));return o?o.price:null}catch{return null}}function fA({initial:s,onSave:l,onDelete:r,onCancel:a}){const{activeMembers:o,liabilityList:u}=tt(),d=!!s;function m(L){return A1.find(re=>re.value===L)?.category||"Other"}const x=s?.dynamicFields?typeof s.dynamicFields=="string"?JSON.parse(s.dynamicFields):s.dynamicFields:{},[p,v]=N.useState({investmentType:s?.investmentType||"",investmentCategory:s?.investmentCategory||"",investmentName:s?.investmentName||"",familyMemberId:s?.familyMemberId||"",investedAmount:s?.investedAmount||"",currentValue:s?.currentValue||"",linkedLiabilityId:s?.linkedLiabilityId||"",status:s?.status||"Active",notes:s?.notes||""}),[b,g]=N.useState(x.weightGrams||""),[w,M]=N.useState(x.purity||""),[S,y]=N.useState(null),[j,D]=N.useState(!1),[k,_]=N.useState({lenderName:"",outstandingBalance:"",emiAmount:"",interestRate:""});N.useEffect(()=>{if(!Ef(p.investmentType)||!b||Number(b)<=0){y(null);return}const L=mu(p.investmentType)?"gold":"silver",re=mA(L);if(!re){y(null);return}const z=(L==="gold"?Qb:Kb).find(fe=>fe.value===w),ee=z?z.factor:1;y(Math.round(Number(b)*re*ee))},[p.investmentType,b,w]);const[O,q]=N.useState({}),[P,T]=N.useState(!1);function F(L,re){v(he=>({...he,[L]:re})),q(he=>({...he,[L]:void 0}))}function I(L){v(re=>({...re,investmentType:L,investmentCategory:m(L)})),q(re=>({...re,investmentType:void 0}))}function $(L,re){_(he=>({...he,[L]:re}))}function A(){const L={};return p.investmentType||(L.investmentType="Required"),p.investmentName.trim()||(L.investmentName="Required"),(!p.currentValue||Number(p.currentValue)<0)&&(L.currentValue="Required"),j&&(k.lenderName.trim()||(L.qlLender="Required"),(!k.outstandingBalance||Number(k.outstandingBalance)<=0)&&(L.qlOutstanding="Must be > 0")),q(L),Object.keys(L).length===0}async function se(){if(!A())return;const L={...p,familyMember:p.familyMemberId,investedAmount:Number(p.investedAmount)||0,currentValue:Number(p.currentValue)||0};Ef(p.investmentType)&&(L.dynamicFields=JSON.stringify({weightGrams:Number(b)||0,purity:w||""})),j&&k.lenderName&&(L.quickLoan={liabilityType:Gb[p.investmentType]||"Personal Loan",lender:k.lenderName,outstanding:Number(k.outstandingBalance)||0,emiAmount:Number(k.emiAmount)||0,interestRate:Number(k.interestRate)||0}),T(!0);try{await l(L)}finally{T(!1)}}const ce=(u||[]).filter(L=>L.status!=="Inactive"),le=[{value:"",label:"None"},...ce.map(L=>({value:L.liabilityId,label:`${L.liabilityType}  ${L.lenderName} (${Q(L.outstandingBalance)})`}))],B=(o||[]).map(L=>({value:L.memberId,label:`${L.memberName} (${L.relationship})`})),W=Gb[p.investmentType];return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ae,{label:"Investment Type",required:!0,error:O.investmentType,children:t.jsx(Ye,{value:p.investmentType,onChange:I,options:oA,placeholder:"Select type..."})}),t.jsx(ae,{label:"Category",children:t.jsx(Ye,{value:p.investmentCategory,onChange:L=>F("investmentCategory",L),options:cA,placeholder:"Auto-selected..."})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ae,{label:"Investment Name",required:!0,error:O.investmentName,children:t.jsx(Ne,{value:p.investmentName,onChange:L=>F("investmentName",L),placeholder:"e.g., HDFC FD - 7.5%"})}),t.jsx(ae,{label:"Family Member",children:t.jsx(Ye,{value:p.familyMemberId,onChange:L=>F("familyMemberId",L),options:B,placeholder:"Select member (optional)..."})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ae,{label:"Invested Amount",children:t.jsx(Ne,{type:"number",value:p.investedAmount,onChange:L=>F("investedAmount",L),placeholder:"e.g., 500000"})}),t.jsx(ae,{label:"Current Value",required:!0,error:O.currentValue,children:t.jsx(Ne,{type:"number",value:p.currentValue,onChange:L=>F("currentValue",L),placeholder:"e.g., 537500"})})]}),Ef(p.investmentType)&&t.jsxs("div",{className:"p-3 bg-[var(--bg-inset)] rounded-lg space-y-3",children:[t.jsxs("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider",children:[mu(p.investmentType)?"Gold":"Silver"," Details"]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[t.jsx(ae,{label:"Weight (grams)",children:t.jsx(Ne,{type:"number",value:b,onChange:g,placeholder:"e.g., 50"})}),t.jsx(ae,{label:"Purity",children:t.jsx(Ye,{value:w,onChange:M,options:(mu(p.investmentType)?Qb:Kb).map(L=>({value:L.value,label:L.label})),placeholder:"Select purity..."})})]}),S!==null&&t.jsxs("div",{className:"flex items-center justify-between bg-[var(--bg-card)] rounded-lg px-3 py-2 border border-[var(--border)]",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Estimated market value"}),t.jsx("p",{className:"text-sm font-bold text-emerald-400 tabular-nums",children:Q(S)})]}),t.jsx("button",{type:"button",onClick:()=>F("currentValue",String(S)),className:"text-xs font-semibold text-violet-400 hover:text-violet-300 px-3 py-1.5 rounded-lg bg-violet-500/10 border border-violet-500/20 transition-colors",children:"Use this value"})]})]}),t.jsxs("div",{className:"border-t border-[var(--border-light)] pt-4",children:[t.jsx(ae,{label:"Linked Loan / Liability",children:t.jsx(Ye,{value:p.linkedLiabilityId,onChange:L=>{F("linkedLiabilityId",L),L&&D(!1)},options:le})}),!p.linkedLiabilityId&&!d&&t.jsx("div",{className:"mt-2",children:t.jsx("button",{type:"button",onClick:()=>D(!j),className:"text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:j?" Cancel quick loan":`+ Create new loan${W?` (${W})`:""}`})}),j&&t.jsxs("div",{className:"mt-3 p-3 bg-[var(--bg-inset)] rounded-lg space-y-3",children:[t.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider",children:"Quick Loan"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[t.jsx(ae,{label:"Lender",required:!0,error:O.qlLender,children:t.jsx(Ne,{value:k.lenderName,onChange:L=>$("lenderName",L),placeholder:"e.g., HDFC Bank"})}),t.jsx(ae,{label:"Outstanding Balance",required:!0,error:O.qlOutstanding,children:t.jsx(Ne,{type:"number",value:k.outstandingBalance,onChange:L=>$("outstandingBalance",L),placeholder:"e.g., 3500000"})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[t.jsx(ae,{label:"EMI (monthly)",children:t.jsx(Ne,{type:"number",value:k.emiAmount,onChange:L=>$("emiAmount",L),placeholder:"e.g., 32000"})}),t.jsx(ae,{label:"Interest Rate %",children:t.jsx(Ne,{type:"number",value:k.interestRate,onChange:L=>$("interestRate",L),placeholder:"e.g., 8.5"})})]})]})]}),d&&t.jsx(ae,{label:"Status",children:t.jsx(Ye,{value:p.status,onChange:L=>F("status",L),options:uA})}),t.jsx(ae,{label:"Notes",children:t.jsx(Ul,{value:p.notes,onChange:L=>F("notes",L),placeholder:"Additional information..."})}),t.jsxs("div",{className:"flex items-center justify-between",children:[d&&r?t.jsx(wr,{onClick:r}):t.jsx("div",{}),t.jsx(ya,{onCancel:a,onSubmit:se,submitLabel:d?"Update":"Add Investment",loading:P})]})]})}const Xb={Debt:"bg-blue-500/15 text-[var(--accent-blue)]",Gold:"bg-amber-500/15 text-[var(--accent-amber)]",Property:"bg-orange-500/15 text-[var(--accent-orange)]",Equity:"bg-emerald-500/15 text-emerald-400",Alternative:"bg-violet-500/15 text-[var(--accent-violet)]"};function pA(){const{selectedMember:s,member:l}=ca(),{otherInvList:r,liabilityList:a,addOtherInvestment:o,updateOtherInvestment:u,deleteOtherInvestment:d}=tt(),{showToast:m,showBlockUI:x,hideBlockUI:p}=Hn(),v=Yn(),[b,g]=N.useState(null);if(r===null)return t.jsx(Sr,{title:"Loading investments",cards:5});const w=N.useMemo(()=>{const P=r.filter(T=>T.status!=="Inactive");return s==="all"?P:P.filter(T=>T.familyMemberId===s)},[r,s]),M=w.reduce((P,T)=>P+(T.investedAmount||0),0),S=w.reduce((P,T)=>P+(T.currentValue||0),0),y=S-M,j=y>=0,D=M>0?y/M*100:0,k=N.useMemo(()=>{const P={};return a.forEach(T=>{P[T.liabilityId]=T}),P},[a]),_=w.reduce((P,T)=>{const F=T.linkedLiabilityId?k[T.linkedLiabilityId]:null;return P+(F?.outstandingBalance||0)},0);async function O(P){x("Saving...");try{b?.edit?await u(b.edit.investmentId,P):await o(P),m(b?.edit?"Investment updated":"Investment added"),g(null)}catch(T){m(T.message||"Failed to save investment","error")}finally{p()}}async function q(){if(b?.edit&&await v("Deactivate this investment?",{title:"Deactivate Investment",confirmLabel:"Deactivate"})){x("Deactivating...");try{await d(b.edit.investmentId),m("Investment deactivated"),g(null)}catch(P){m(P.message||"Failed to deactivate investment","error")}finally{p()}}}return t.jsxs("div",{className:"space-y-4",children:[w.length===0?t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[t.jsx(_y,{size:32,className:"text-[var(--text-dim)]"}),t.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No other investments",l?` for ${l.memberName}`:""]}),t.jsx("button",{onClick:()=>g("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add an investment"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[t.jsx(Xi,{label:"Invested",value:Q(M)}),t.jsx(Xi,{label:"Current Value",value:Q(S),bold:!0}),t.jsx(Xi,{label:"P&L",value:`${j?"+":""}${Q(Math.abs(y))}`,sub:`${j?"+":""}${D.toFixed(1)}%`,positive:j,bold:!0}),_>0&&t.jsx(Xi,{label:"Linked Loans",value:Q(_),color:"rose"}),t.jsx(Xi,{label:"Holdings",value:w.length})]}),t.jsx("div",{className:"flex items-center justify-end px-1",children:t.jsxs("button",{onClick:()=>g("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[t.jsx(oa,{size:14})," Add Investment"]})}),t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[t.jsx("div",{className:"hidden sm:block overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm min-w-[720px]",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[t.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Investment"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Category"}),!l&&t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),t.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Invested"}),t.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current"}),t.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"}),t.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Loan"}),t.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),t.jsx("tbody",{children:w.map(P=>{const T=(P.currentValue||0)-(P.investedAmount||0),F=T>=0,I=P.linkedLiabilityId?k[P.linkedLiabilityId]:null;return t.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[t.jsxs("td",{className:"py-2.5 px-4",children:[t.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:P.investmentName}),t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:P.investmentType})]}),t.jsx("td",{className:"py-2.5 px-3",children:t.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Xb[P.investmentCategory]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:P.investmentCategory})}),!l&&t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:P.familyMemberName}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:Q(P.investedAmount)}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(P.currentValue)}),t.jsx("td",{className:"py-2.5 px-3 text-right",children:t.jsxs("span",{className:`text-xs font-semibold tabular-nums ${F?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[F?"+":"",Q(T)]})}),t.jsx("td",{className:"py-2.5 px-3 text-right",children:I?t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:Q(I.outstandingBalance)}),t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:I.liabilityType})]}):t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),t.jsx("td",{className:"py-2.5 px-2",children:t.jsx("button",{onClick:()=>g({edit:P}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:t.jsx(dn,{size:12})})})]},P.investmentId)})})]})}),t.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:w.map(P=>{const T=(P.currentValue||0)-(P.investedAmount||0),F=T>=0,I=P.linkedLiabilityId?k[P.linkedLiabilityId]:null;return t.jsxs("div",{onClick:()=>g({edit:P}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:P.investmentName}),t.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${Xb[P.investmentCategory]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:P.investmentCategory})]}),t.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[P.familyMemberName,"  ",P.investmentType]}),t.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Invested"}),t.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:Q(P.investedAmount)})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Current"}),t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(P.currentValue)})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"P&L"}),t.jsxs("p",{className:`text-xs font-semibold tabular-nums ${F?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[F?"+":"",Q(T)]})]})]}),I&&t.jsxs("div",{className:"mt-1.5 flex items-center justify-between bg-rose-500/5 rounded px-2 py-1",children:[t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:I.liabilityType}),t.jsx("span",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:Q(I.outstandingBalance)})]})]},P.investmentId)})})]})]}),t.jsx(Qt,{open:!!b,onClose:()=>g(null),title:b?.edit?"Edit Investment":"Add Investment",wide:!0,children:t.jsx(fA,{initial:b?.edit||void 0,onSave:O,onDelete:b?.edit?q:void 0,onCancel:()=>g(null)})})]})}function Xi({label:s,value:l,sub:r,positive:a,bold:o,color:u}){const d=u==="rose"?"text-[var(--accent-rose)]":a===void 0?"text-[var(--text-primary)]":a?"text-emerald-400":"text-[var(--accent-rose)]";return t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),t.jsx("p",{className:`text-sm tabular-nums ${o?"font-bold":"font-semibold"} ${d}`,children:l}),r&&t.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${a?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}function xA({initial:s,onSave:l,onDelete:r,onCancel:a}){const{activeMembers:o,activeInvestmentAccounts:u}=tt(),d=!!s,[m,x]=N.useState({portfolioName:(s?.portfolioName||"").replace(/^PFL-/,""),investmentAccountId:s?.investmentAccountId||"",ownerId:s?.ownerId||"",initialInvestment:s?.initialInvestment||0,sipTarget:s?.sipTarget||"",lumpsumTarget:s?.lumpsumTarget||"",rebalanceThreshold:s?s.rebalanceThreshold*100:5}),[p,v]=N.useState({}),[b,g]=N.useState(!1),[w,M]=N.useState(!1);function S(O,q){x(P=>({...P,[O]:q})),v(P=>({...P,[O]:void 0}))}function y(O){x(q=>({...q,ownerId:O,investmentAccountId:""})),v(q=>({...q,ownerId:void 0}))}const j=u.filter(O=>m.ownerId?O.memberId===m.ownerId:!0).map(O=>({value:O.accountId,label:`${O.accountName} - ${O.platformBroker}`})),D=o.map(O=>({value:O.memberId,label:`${O.memberName} (${O.relationship})`}));function k(){const O={};return m.portfolioName.trim()||(O.portfolioName="Required"),m.ownerId||(O.ownerId="Required"),m.investmentAccountId||(O.investmentAccountId="Required"),v(O),Object.keys(O).length===0}async function _(){if(k()){g(!0);try{const O=u.find(P=>P.accountId===m.investmentAccountId),q=O?`${O.accountName} - ${O.platformBroker}`:m.investmentAccountId;await l({...m,investmentAccount:q,initialInvestment:Number(m.initialInvestment)||0,sipTarget:Number(m.sipTarget)||0,lumpsumTarget:Number(m.lumpsumTarget)||0,rebalanceThreshold:Number(m.rebalanceThreshold)})}finally{g(!1)}}}return t.jsxs("div",{className:"space-y-5",children:[t.jsx(ae,{label:"Portfolio Name",required:!0,error:p.portfolioName,children:t.jsx(Ne,{value:m.portfolioName,onChange:O=>S("portfolioName",O),placeholder:"e.g., Long Term Wealth"})}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ae,{label:"Owner",required:!0,error:p.ownerId,children:t.jsx(Ye,{value:m.ownerId,onChange:y,options:D,placeholder:"Select member..."})}),t.jsx(ae,{label:"Investment Account",required:!0,error:p.investmentAccountId,children:t.jsx(Ye,{value:m.investmentAccountId,onChange:O=>S("investmentAccountId",O),options:j,placeholder:m.ownerId?j.length?"Select account...":"No MF accounts":"Select owner first..."})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx(ae,{label:"SIP Target (/month)",children:t.jsx(Ne,{type:"number",value:m.sipTarget,onChange:O=>S("sipTarget",O),placeholder:"e.g., 50000"})}),t.jsx(ae,{label:"Lumpsum Target ()",children:t.jsx(Ne,{type:"number",value:m.lumpsumTarget,onChange:O=>S("lumpsumTarget",O),placeholder:"e.g., 200000"})})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("label",{className:"text-xs font-semibold text-[var(--text-muted)] whitespace-nowrap",children:"Rebalance Threshold"}),t.jsx("div",{className:"w-20 shrink-0",children:t.jsx("input",{type:"number",value:m.rebalanceThreshold,onChange:O=>S("rebalanceThreshold",O.target.value),placeholder:"5",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})}),t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"%"})]}),!d&&t.jsx(ae,{label:"Initial Investment ()",children:t.jsx(Ne,{type:"number",value:m.initialInvestment,onChange:O=>S("initialInvestment",O),placeholder:"0 if unknown"})}),d&&r&&w&&t.jsxs("div",{className:"flex items-center gap-3 px-3 py-2.5 bg-rose-500/10 border border-rose-500/20 rounded-lg",children:[t.jsx(ns,{size:15,className:"text-rose-400 shrink-0"}),t.jsx("p",{className:"text-xs text-rose-300/90 flex-1",children:"This will deactivate the portfolio and hide it from views. Are you sure?"}),t.jsxs("div",{className:"flex gap-2 shrink-0",children:[t.jsx("button",{onClick:()=>M(!1),className:"px-2.5 py-1 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded transition-colors",children:"No"}),t.jsx("button",{onClick:r,className:"px-2.5 py-1 text-xs font-semibold text-white bg-rose-600 hover:bg-rose-500 rounded transition-colors",children:"Yes, Deactivate"})]})]}),t.jsxs("div",{className:"flex items-center justify-between pt-4 mt-4 border-t border-[var(--border-light)]",children:[d&&r?t.jsxs("button",{onClick:()=>M(!0),disabled:b,className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-amber-400 border border-amber-500/30 hover:bg-amber-500/15 hover:border-amber-500/50 rounded-lg transition-colors disabled:opacity-40",children:[t.jsx(ns,{size:13}),"Deactivate"]}):t.jsx("div",{}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:a,disabled:b,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),t.jsxs("button",{onClick:_,disabled:b,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 flex items-center gap-1.5",children:[b&&t.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),b?"Saving...":d?"Update":"Create Portfolio"]})]})]})]})}function Nr(s){return Array.isArray?Array.isArray(s):_1(s)==="[object Array]"}function hA(s){if(typeof s=="string")return s;let l=s+"";return l=="0"&&1/s==-1/0?"-0":l}function vA(s){return s==null?"":hA(s)}function Ln(s){return typeof s=="string"}function E1(s){return typeof s=="number"}function bA(s){return s===!0||s===!1||gA(s)&&_1(s)=="[object Boolean]"}function T1(s){return typeof s=="object"}function gA(s){return T1(s)&&s!==null}function Va(s){return s!=null}function Tf(s){return!s.trim().length}function _1(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}const yA="Incorrect 'index' type",NA=s=>`Invalid value for key ${s}`,jA=s=>`Pattern length exceeds max of ${s}.`,wA=s=>`Missing ${s} property in key`,SA=s=>`Property 'weight' in key '${s}' must be a positive integer`,Wb=Object.prototype.hasOwnProperty;class CA{constructor(l){this._keys=[],this._keyMap={};let r=0;l.forEach(a=>{let o=O1(a);this._keys.push(o),this._keyMap[o.id]=o,r+=o.weight}),this._keys.forEach(a=>{a.weight/=r})}get(l){return this._keyMap[l]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function O1(s){let l=null,r=null,a=null,o=1,u=null;if(Ln(s)||Nr(s))a=s,l=Zb(s),r=$f(s);else{if(!Wb.call(s,"name"))throw new Error(wA("name"));const d=s.name;if(a=d,Wb.call(s,"weight")&&(o=s.weight,o<=0))throw new Error(SA(d));l=Zb(d),r=$f(d),u=s.getFn}return{path:l,id:r,weight:o,src:a,getFn:u}}function Zb(s){return Nr(s)?s:s.split(".")}function $f(s){return Nr(s)?s.join("."):s}function kA(s,l){let r=[],a=!1;const o=(u,d,m)=>{if(Va(u))if(!d[m])r.push(u);else{let x=d[m];const p=u[x];if(!Va(p))return;if(m===d.length-1&&(Ln(p)||E1(p)||bA(p)))r.push(vA(p));else if(Nr(p)){a=!0;for(let v=0,b=p.length;v<b;v+=1)o(p[v],d,m+1)}else d.length&&o(p,d,m+1)}};return o(s,Ln(l)?l.split("."):l,0),a?r:r[0]}const DA={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},MA={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(s,l)=>s.score===l.score?s.idx<l.idx?-1:1:s.score<l.score?-1:1},AA={location:0,threshold:.6,distance:100},EA={useExtendedSearch:!1,getFn:kA,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Be={...MA,...DA,...AA,...EA};const TA=/[^ ]+/g;function _A(s=1,l=3){const r=new Map,a=Math.pow(10,l);return{get(o){const u=o.match(TA).length;if(r.has(u))return r.get(u);const d=1/Math.pow(u,.5*s),m=parseFloat(Math.round(d*a)/a);return r.set(u,m),m},clear(){r.clear()}}}class Dp{constructor({getFn:l=Be.getFn,fieldNormWeight:r=Be.fieldNormWeight}={}){this.norm=_A(r,3),this.getFn=l,this.isCreated=!1,this.setIndexRecords()}setSources(l=[]){this.docs=l}setIndexRecords(l=[]){this.records=l}setKeys(l=[]){this.keys=l,this._keysMap={},l.forEach((r,a)=>{this._keysMap[r.id]=a})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Ln(this.docs[0])?this.docs.forEach((l,r)=>{this._addString(l,r)}):this.docs.forEach((l,r)=>{this._addObject(l,r)}),this.norm.clear())}add(l){const r=this.size();Ln(l)?this._addString(l,r):this._addObject(l,r)}removeAt(l){this.records.splice(l,1);for(let r=l,a=this.size();r<a;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(l,r){return l[this._keysMap[r]]}size(){return this.records.length}_addString(l,r){if(!Va(l)||Tf(l))return;let a={v:l,i:r,n:this.norm.get(l)};this.records.push(a)}_addObject(l,r){let a={i:r,$:{}};this.keys.forEach((o,u)=>{let d=o.getFn?o.getFn(l):this.getFn(l,o.path);if(Va(d)){if(Nr(d)){let m=[];const x=[{nestedArrIndex:-1,value:d}];for(;x.length;){const{nestedArrIndex:p,value:v}=x.pop();if(Va(v))if(Ln(v)&&!Tf(v)){let b={v,i:p,n:this.norm.get(v)};m.push(b)}else Nr(v)&&v.forEach((b,g)=>{x.push({nestedArrIndex:g,value:b})})}a.$[u]=m}else if(Ln(d)&&!Tf(d)){let m={v:d,n:this.norm.get(d)};a.$[u]=m}}}),this.records.push(a)}toJSON(){return{keys:this.keys,records:this.records}}}function R1(s,l,{getFn:r=Be.getFn,fieldNormWeight:a=Be.fieldNormWeight}={}){const o=new Dp({getFn:r,fieldNormWeight:a});return o.setKeys(s.map(O1)),o.setSources(l),o.create(),o}function OA(s,{getFn:l=Be.getFn,fieldNormWeight:r=Be.fieldNormWeight}={}){const{keys:a,records:o}=s,u=new Dp({getFn:l,fieldNormWeight:r});return u.setKeys(a),u.setIndexRecords(o),u}function Gc(s,{errors:l=0,currentLocation:r=0,expectedLocation:a=0,distance:o=Be.distance,ignoreLocation:u=Be.ignoreLocation}={}){const d=l/s.length;if(u)return d;const m=Math.abs(a-r);return o?d+m/o:m?1:d}function RA(s=[],l=Be.minMatchCharLength){let r=[],a=-1,o=-1,u=0;for(let d=s.length;u<d;u+=1){let m=s[u];m&&a===-1?a=u:!m&&a!==-1&&(o=u-1,o-a+1>=l&&r.push([a,o]),a=-1)}return s[u-1]&&u-a>=l&&r.push([a,u-1]),r}const Os=32;function LA(s,l,r,{location:a=Be.location,distance:o=Be.distance,threshold:u=Be.threshold,findAllMatches:d=Be.findAllMatches,minMatchCharLength:m=Be.minMatchCharLength,includeMatches:x=Be.includeMatches,ignoreLocation:p=Be.ignoreLocation}={}){if(l.length>Os)throw new Error(jA(Os));const v=l.length,b=s.length,g=Math.max(0,Math.min(a,b));let w=u,M=g;const S=m>1||x,y=S?Array(b):[];let j;for(;(j=s.indexOf(l,M))>-1;){let P=Gc(l,{currentLocation:j,expectedLocation:g,distance:o,ignoreLocation:p});if(w=Math.min(P,w),M=j+v,S){let T=0;for(;T<v;)y[j+T]=1,T+=1}}M=-1;let D=[],k=1,_=v+b;const O=1<<v-1;for(let P=0;P<v;P+=1){let T=0,F=_;for(;T<F;)Gc(l,{errors:P,currentLocation:g+F,expectedLocation:g,distance:o,ignoreLocation:p})<=w?T=F:_=F,F=Math.floor((_-T)/2+T);_=F;let I=Math.max(1,g-F+1),$=d?b:Math.min(g+F,b)+v,A=Array($+2);A[$+1]=(1<<P)-1;for(let ce=$;ce>=I;ce-=1){let le=ce-1,B=r[s.charAt(le)];if(S&&(y[le]=+!!B),A[ce]=(A[ce+1]<<1|1)&B,P&&(A[ce]|=(D[ce+1]|D[ce])<<1|1|D[ce+1]),A[ce]&O&&(k=Gc(l,{errors:P,currentLocation:le,expectedLocation:g,distance:o,ignoreLocation:p}),k<=w)){if(w=k,M=le,M<=g)break;I=Math.max(1,2*g-M)}}if(Gc(l,{errors:P+1,currentLocation:g,expectedLocation:g,distance:o,ignoreLocation:p})>w)break;D=A}const q={isMatch:M>=0,score:Math.max(.001,k)};if(S){const P=RA(y,m);P.length?x&&(q.indices=P):q.isMatch=!1}return q}function IA(s){let l={};for(let r=0,a=s.length;r<a;r+=1){const o=s.charAt(r);l[o]=(l[o]||0)|1<<a-r-1}return l}const _u=String.prototype.normalize?(s=>s.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(s=>s);class L1{constructor(l,{location:r=Be.location,threshold:a=Be.threshold,distance:o=Be.distance,includeMatches:u=Be.includeMatches,findAllMatches:d=Be.findAllMatches,minMatchCharLength:m=Be.minMatchCharLength,isCaseSensitive:x=Be.isCaseSensitive,ignoreDiacritics:p=Be.ignoreDiacritics,ignoreLocation:v=Be.ignoreLocation}={}){if(this.options={location:r,threshold:a,distance:o,includeMatches:u,findAllMatches:d,minMatchCharLength:m,isCaseSensitive:x,ignoreDiacritics:p,ignoreLocation:v},l=x?l:l.toLowerCase(),l=p?_u(l):l,this.pattern=l,this.chunks=[],!this.pattern.length)return;const b=(w,M)=>{this.chunks.push({pattern:w,alphabet:IA(w),startIndex:M})},g=this.pattern.length;if(g>Os){let w=0;const M=g%Os,S=g-M;for(;w<S;)b(this.pattern.substr(w,Os),w),w+=Os;if(M){const y=g-Os;b(this.pattern.substr(y),y)}}else b(this.pattern,0)}searchIn(l){const{isCaseSensitive:r,ignoreDiacritics:a,includeMatches:o}=this.options;if(l=r?l:l.toLowerCase(),l=a?_u(l):l,this.pattern===l){let S={isMatch:!0,score:0};return o&&(S.indices=[[0,l.length-1]]),S}const{location:u,distance:d,threshold:m,findAllMatches:x,minMatchCharLength:p,ignoreLocation:v}=this.options;let b=[],g=0,w=!1;this.chunks.forEach(({pattern:S,alphabet:y,startIndex:j})=>{const{isMatch:D,score:k,indices:_}=LA(l,S,y,{location:u+j,distance:d,threshold:m,findAllMatches:x,minMatchCharLength:p,includeMatches:o,ignoreLocation:v});D&&(w=!0),g+=k,D&&_&&(b=[...b,..._])});let M={isMatch:w,score:w?g/this.chunks.length:1};return w&&o&&(M.indices=b),M}}class ls{constructor(l){this.pattern=l}static isMultiMatch(l){return Jb(l,this.multiRegex)}static isSingleMatch(l){return Jb(l,this.singleRegex)}search(){}}function Jb(s,l){const r=s.match(l);return r?r[1]:null}class PA extends ls{constructor(l){super(l)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(l){const r=l===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class zA extends ls{constructor(l){super(l)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(l){const a=l.indexOf(this.pattern)===-1;return{isMatch:a,score:a?0:1,indices:[0,l.length-1]}}}class FA extends ls{constructor(l){super(l)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(l){const r=l.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class BA extends ls{constructor(l){super(l)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(l){const r=!l.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,l.length-1]}}}class HA extends ls{constructor(l){super(l)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(l){const r=l.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[l.length-this.pattern.length,l.length-1]}}}class YA extends ls{constructor(l){super(l)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(l){const r=!l.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,l.length-1]}}}class I1 extends ls{constructor(l,{location:r=Be.location,threshold:a=Be.threshold,distance:o=Be.distance,includeMatches:u=Be.includeMatches,findAllMatches:d=Be.findAllMatches,minMatchCharLength:m=Be.minMatchCharLength,isCaseSensitive:x=Be.isCaseSensitive,ignoreDiacritics:p=Be.ignoreDiacritics,ignoreLocation:v=Be.ignoreLocation}={}){super(l),this._bitapSearch=new L1(l,{location:r,threshold:a,distance:o,includeMatches:u,findAllMatches:d,minMatchCharLength:m,isCaseSensitive:x,ignoreDiacritics:p,ignoreLocation:v})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(l){return this._bitapSearch.searchIn(l)}}class P1 extends ls{constructor(l){super(l)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(l){let r=0,a;const o=[],u=this.pattern.length;for(;(a=l.indexOf(this.pattern,r))>-1;)r=a+u,o.push([a,r-1]);const d=!!o.length;return{isMatch:d,score:d?0:1,indices:o}}}const Vf=[PA,P1,FA,BA,YA,HA,zA,I1],eg=Vf.length,qA=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,UA="|";function $A(s,l={}){return s.split(UA).map(r=>{let a=r.trim().split(qA).filter(u=>u&&!!u.trim()),o=[];for(let u=0,d=a.length;u<d;u+=1){const m=a[u];let x=!1,p=-1;for(;!x&&++p<eg;){const v=Vf[p];let b=v.isMultiMatch(m);b&&(o.push(new v(b,l)),x=!0)}if(!x)for(p=-1;++p<eg;){const v=Vf[p];let b=v.isSingleMatch(m);if(b){o.push(new v(b,l));break}}}return o})}const VA=new Set([I1.type,P1.type]);class GA{constructor(l,{isCaseSensitive:r=Be.isCaseSensitive,ignoreDiacritics:a=Be.ignoreDiacritics,includeMatches:o=Be.includeMatches,minMatchCharLength:u=Be.minMatchCharLength,ignoreLocation:d=Be.ignoreLocation,findAllMatches:m=Be.findAllMatches,location:x=Be.location,threshold:p=Be.threshold,distance:v=Be.distance}={}){this.query=null,this.options={isCaseSensitive:r,ignoreDiacritics:a,includeMatches:o,minMatchCharLength:u,findAllMatches:m,ignoreLocation:d,location:x,threshold:p,distance:v},l=r?l:l.toLowerCase(),l=a?_u(l):l,this.pattern=l,this.query=$A(this.pattern,this.options)}static condition(l,r){return r.useExtendedSearch}searchIn(l){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:a,isCaseSensitive:o,ignoreDiacritics:u}=this.options;l=o?l:l.toLowerCase(),l=u?_u(l):l;let d=0,m=[],x=0;for(let p=0,v=r.length;p<v;p+=1){const b=r[p];m.length=0,d=0;for(let g=0,w=b.length;g<w;g+=1){const M=b[g],{isMatch:S,indices:y,score:j}=M.search(l);if(S){if(d+=1,x+=j,a){const D=M.constructor.type;VA.has(D)?m=[...m,...y]:m.push(y)}}else{x=0,d=0,m.length=0;break}}if(d){let g={isMatch:!0,score:x/d};return a&&(g.indices=m),g}}return{isMatch:!1,score:1}}}const Gf=[];function QA(...s){Gf.push(...s)}function Qf(s,l){for(let r=0,a=Gf.length;r<a;r+=1){let o=Gf[r];if(o.condition(s,l))return new o(s,l)}return new L1(s,l)}const Ou={AND:"$and",OR:"$or"},Kf={PATH:"$path",PATTERN:"$val"},Xf=s=>!!(s[Ou.AND]||s[Ou.OR]),KA=s=>!!s[Kf.PATH],XA=s=>!Nr(s)&&T1(s)&&!Xf(s),tg=s=>({[Ou.AND]:Object.keys(s).map(l=>({[l]:s[l]}))});function z1(s,l,{auto:r=!0}={}){const a=o=>{let u=Object.keys(o);const d=KA(o);if(!d&&u.length>1&&!Xf(o))return a(tg(o));if(XA(o)){const x=d?o[Kf.PATH]:u[0],p=d?o[Kf.PATTERN]:o[x];if(!Ln(p))throw new Error(NA(x));const v={keyId:$f(x),pattern:p};return r&&(v.searcher=Qf(p,l)),v}let m={children:[],operator:u[0]};return u.forEach(x=>{const p=o[x];Nr(p)&&p.forEach(v=>{m.children.push(a(v))})}),m};return Xf(s)||(s=tg(s)),a(s)}function WA(s,{ignoreFieldNorm:l=Be.ignoreFieldNorm}){s.forEach(r=>{let a=1;r.matches.forEach(({key:o,norm:u,score:d})=>{const m=o?o.weight:null;a*=Math.pow(d===0&&m?Number.EPSILON:d,(m||1)*(l?1:u))}),r.score=a})}function ZA(s,l){const r=s.matches;l.matches=[],Va(r)&&r.forEach(a=>{if(!Va(a.indices)||!a.indices.length)return;const{indices:o,value:u}=a;let d={indices:o,value:u};a.key&&(d.key=a.key.src),a.idx>-1&&(d.refIndex=a.idx),l.matches.push(d)})}function JA(s,l){l.score=s.score}function eE(s,l,{includeMatches:r=Be.includeMatches,includeScore:a=Be.includeScore}={}){const o=[];return r&&o.push(ZA),a&&o.push(JA),s.map(u=>{const{idx:d}=u,m={item:l[d],refIndex:d};return o.length&&o.forEach(x=>{x(u,m)}),m})}class Wl{constructor(l,r={},a){this.options={...Be,...r},this.options.useExtendedSearch,this._keyStore=new CA(this.options.keys),this.setCollection(l,a)}setCollection(l,r){if(this._docs=l,r&&!(r instanceof Dp))throw new Error(yA);this._myIndex=r||R1(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(l){Va(l)&&(this._docs.push(l),this._myIndex.add(l))}remove(l=()=>!1){const r=[];for(let a=0,o=this._docs.length;a<o;a+=1){const u=this._docs[a];l(u,a)&&(this.removeAt(a),a-=1,o-=1,r.push(u))}return r}removeAt(l){this._docs.splice(l,1),this._myIndex.removeAt(l)}getIndex(){return this._myIndex}search(l,{limit:r=-1}={}){const{includeMatches:a,includeScore:o,shouldSort:u,sortFn:d,ignoreFieldNorm:m}=this.options;let x=Ln(l)?Ln(this._docs[0])?this._searchStringList(l):this._searchObjectList(l):this._searchLogical(l);return WA(x,{ignoreFieldNorm:m}),u&&x.sort(d),E1(r)&&r>-1&&(x=x.slice(0,r)),eE(x,this._docs,{includeMatches:a,includeScore:o})}_searchStringList(l){const r=Qf(l,this.options),{records:a}=this._myIndex,o=[];return a.forEach(({v:u,i:d,n:m})=>{if(!Va(u))return;const{isMatch:x,score:p,indices:v}=r.searchIn(u);x&&o.push({item:u,idx:d,matches:[{score:p,value:u,norm:m,indices:v}]})}),o}_searchLogical(l){const r=z1(l,this.options),a=(m,x,p)=>{if(!m.children){const{keyId:b,searcher:g}=m,w=this._findMatches({key:this._keyStore.get(b),value:this._myIndex.getValueForItemAtKeyId(x,b),searcher:g});return w&&w.length?[{idx:p,item:x,matches:w}]:[]}const v=[];for(let b=0,g=m.children.length;b<g;b+=1){const w=m.children[b],M=a(w,x,p);if(M.length)v.push(...M);else if(m.operator===Ou.AND)return[]}return v},o=this._myIndex.records,u={},d=[];return o.forEach(({$:m,i:x})=>{if(Va(m)){let p=a(r,m,x);p.length&&(u[x]||(u[x]={idx:x,item:m,matches:[]},d.push(u[x])),p.forEach(({matches:v})=>{u[x].matches.push(...v)}))}}),d}_searchObjectList(l){const r=Qf(l,this.options),{keys:a,records:o}=this._myIndex,u=[];return o.forEach(({$:d,i:m})=>{if(!Va(d))return;let x=[];a.forEach((p,v)=>{x.push(...this._findMatches({key:p,value:d[v],searcher:r}))}),x.length&&u.push({idx:m,item:d,matches:x})}),u}_findMatches({key:l,value:r,searcher:a}){if(!Va(r))return[];let o=[];if(Nr(r))r.forEach(({v:u,i:d,n:m})=>{if(!Va(u))return;const{isMatch:x,score:p,indices:v}=a.searchIn(u);x&&o.push({score:p,key:l,value:u,idx:d,norm:m,indices:v})});else{const{v:u,n:d}=r,{isMatch:m,score:x,indices:p}=a.searchIn(u);m&&o.push({score:x,key:l,value:u,norm:d,indices:p})}return o}}Wl.version="7.1.0";Wl.createIndex=R1;Wl.parseIndex=OA;Wl.config=Be;Wl.parseQuery=z1;QA(GA);let hn=null,Wi=null;function tE(s){if(!s)return!1;const l=new Date(s),r=new Date;return l.getFullYear()===r.getFullYear()&&l.getMonth()===r.getMonth()&&l.getDate()===r.getDate()}function aE(){return hn?Promise.resolve(hn):Wi||(Wi=yS("fundsList").then(s=>s&&Array.isArray(s.data)&&tE(s.updatedAt)?(hn=s.data,hn):K2().then(l=>(hn=Array.isArray(l)?l:[],Ta("fundsList",hn),hn))).catch(()=>(Wi=null,[])),Wi)}function Mp({value:s,onSelect:l,placeholder:r,disabled:a}){const[o,u]=N.useState(""),[d,m]=N.useState(hn||[]),[x,p]=N.useState(!hn),[v,b]=N.useState(!1),g=N.useRef(null);N.useEffect(()=>{if(hn){m(hn),p(!1);return}aE().then(D=>{m(D),p(!1)})},[]),N.useEffect(()=>{function D(k){g.current&&!g.current.contains(k.target)&&b(!1)}return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]);const w=N.useMemo(()=>d.length?new Wl(d,{keys:["fundName"],threshold:.3,distance:50,minMatchCharLength:2,includeScore:!0,ignoreLocation:!1,findAllMatches:!0}):null,[d]),M=N.useMemo(()=>!w||o.length<2?[]:w.search(o).slice(0,50).map(D=>D.item),[w,o]);function S(D){u(D),b(D.length>=2)}function y(D){l({schemeCode:D.fundCode||D.schemeCode,fundName:D.fundName,nav:D.nav,navDate:D.navDate}),u(""),b(!1)}function j(){l({schemeCode:"",fundName:"",nav:0,navDate:""}),u("")}return s?.fundName?t.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg px-3 py-2",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate",children:s.fundName}),t.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:s.schemeCode}),s.nav>0&&t.jsxs("span",{className:"text-xs font-medium text-emerald-400",children:["NAV: ",s.nav.toFixed(2),s.navDate?` (${s.navDate})`:""]})]})]}),t.jsx("button",{type:"button",onClick:j,className:"shrink-0 p-1 rounded-md hover:bg-[var(--bg-hover)] text-[var(--text-dim)] hover:text-[var(--text-secondary)] transition-colors",children:t.jsx(fo,{size:14})})]}):t.jsxs("div",{ref:g,className:"relative",children:[t.jsxs("div",{className:"relative",children:[x?t.jsx(Ay,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-400 animate-spin"}):t.jsx(Ry,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)]"}),t.jsx("input",{type:"text",value:o,onChange:D=>S(D.target.value),onFocus:()=>o.length>=2&&b(!0),placeholder:x?"Loading funds...":r||"Search fund name...",disabled:a||x,className:"w-full bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg pl-9 pr-3 py-2 text-sm text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-violet-500/50 disabled:opacity-50 transition-colors"})]}),v&&M.length>0&&t.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl max-h-[240px] overflow-y-auto",children:M.map(D=>t.jsxs("button",{type:"button",onClick:()=>y(D),className:"w-full text-left px-3 py-2.5 hover:bg-[var(--bg-hover)] transition-colors border-b border-[var(--border-light)] last:border-0",children:[t.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:D.fundName}),t.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:D.fundCode||D.schemeCode}),D.nav>0&&t.jsxs("span",{className:"text-xs text-emerald-400 tabular-nums",children:["NAV: ",D.nav.toFixed(2),D.navDate?` (${D.navDate})`:""]})]})]},D.fundCode||D.schemeCode))}),v&&o.length>=2&&M.length===0&&!x&&t.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl p-4 text-center",children:t.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:['No funds found for "',o,'"']})})]})}const nE=[{value:"INITIAL",label:"Add Existing Holdings"},{value:"SIP",label:"SIP Investment"},{value:"LUMPSUM",label:"Lumpsum Investment"}];function rE({portfolioId:s,fundCode:l,fundName:r,transactionType:a,onSave:o,onCancel:u}){const{mfPortfolios:d,mfHoldings:m}=tt(),{selectedMember:x}=ca(),p=N.useMemo(()=>{const A=d.filter(se=>se.status==="Active");return x==="all"?A:A.filter(se=>se.ownerId===x)},[d,x]),[v,b]=N.useState({portfolioId:s||"",fundCode:l||"",fundName:r||"",nav:0,navDate:"",transactionType:a||"SIP",date:new Date().toISOString().split("T")[0],units:"",price:"",notes:""}),[g,w]=N.useState({}),[M,S]=N.useState(!1),[y,j]=N.useState(!l);function D(A,se){b(ce=>({...ce,[A]:se})),w(ce=>({...ce,[A]:void 0}))}function k({schemeCode:A,fundName:se,nav:ce,navDate:le}){b(B=>({...B,fundCode:A,fundName:se,nav:ce||0,navDate:le||"",price:ce>0?String(ce):B.price})),w(B=>({...B,fundCode:void 0,fundName:void 0})),j(!1)}function _(A){b(se=>({...se,fundCode:A.schemeCode,fundName:A.fundName,nav:A.currentNav||0,navDate:"",price:A.currentNav>0?String(A.currentNav):se.price})),w(se=>({...se,fundCode:void 0})),j(!1)}const O=N.useMemo(()=>v.portfolioId?m.filter(A=>A.portfolioId===v.portfolioId).sort((A,se)=>se.currentValue-A.currentValue):[],[m,v.portfolioId]),q=N.useMemo(()=>!v.portfolioId||!v.fundCode?null:m.find(A=>A.portfolioId===v.portfolioId&&A.schemeCode===v.fundCode),[m,v.portfolioId,v.fundCode]),P=v.fundCode&&!q,T=N.useMemo(()=>(Number(v.units)||0)*(Number(v.price)||0),[v.units,v.price]);function F(){const A={};return v.portfolioId||(A.portfolioId="Required"),v.fundCode||(A.fundCode="Select a fund"),v.date||(A.date="Required"),(!v.units||Number(v.units)<=0)&&(A.units="Must be > 0"),(!v.price||Number(v.price)<=0)&&(A.price="Must be > 0"),w(A),Object.keys(A).length===0}async function I(){if(F()){S(!0);try{await o({portfolioId:v.portfolioId,fundCode:v.fundCode,fundName:v.fundName,transactionType:v.transactionType,purchaseDate:v.date,units:v.units,avgPrice:v.price,notes:v.notes})}finally{S(!1)}}}const $=p.map(A=>{const se=A.portfolioName?.replace(/^PFL-/,"")||A.portfolioName,ce=A.ownerName?`${se} (${A.ownerName})`:se;return{value:A.portfolioId,label:ce}});return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ae,{label:"Portfolio",required:!0,error:g.portfolioId,children:t.jsx(Ye,{value:v.portfolioId,onChange:A=>{D("portfolioId",A),l||(D("fundCode",""),D("fundName",""),j(!1))},options:$,placeholder:"Select portfolio..."})}),t.jsx(ae,{label:"Transaction Type",required:!0,children:t.jsx(Ye,{value:v.transactionType,onChange:A=>D("transactionType",A),options:nE})})]}),t.jsx(ae,{label:"Fund",required:!0,error:g.fundCode,children:v.fundCode&&!y?t.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:v.fundName}),t.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[v.fundCode,v.nav>0&&t.jsxs("span",{className:"ml-2 text-emerald-400",children:["NAV: ",v.nav.toFixed(2)]})]})]}),t.jsx("button",{type:"button",onClick:()=>{D("fundCode",""),D("fundName",""),j(!0)},className:"text-xs text-[var(--text-muted)] hover:text-[var(--text-primary)] underline shrink-0",children:"Change"})]}):t.jsxs("div",{className:"space-y-3",children:[O.length>0&&t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)] mb-1.5",children:"Portfolio Funds"}),t.jsx("div",{className:"rounded-lg border border-[var(--border)] bg-[var(--bg-inset)] overflow-hidden max-h-44 overflow-y-auto",children:O.map(A=>t.jsxs("button",{type:"button",onClick:()=>_(A),className:"w-full flex items-center gap-3 px-3 py-2 text-left hover:bg-[var(--bg-hover)] border-b border-[var(--border-light)] last:border-b-0 transition-colors group",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate group-hover:text-white transition-colors",children:A.fundName}),t.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5",children:A.units>0?`${A.units.toFixed(0)} units  ${Q(A.currentValue)}`:"Planned"})]}),t.jsx(In,{size:12,className:"text-[var(--text-dim)] -rotate-90 shrink-0 opacity-0 group-hover:opacity-100 transition-opacity"})]},A.holdingId))})]}),t.jsxs("div",{children:[O.length>0&&t.jsxs("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)] mb-1.5 flex items-center gap-1",children:[t.jsx(Ry,{size:10})," Or search new fund"]}),t.jsx(Mp,{value:null,onSelect:k,placeholder:"Search fund by name or code..."})]})]})}),q&&t.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Existing holding  will average out"}),t.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Current: ",t.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:q.units.toFixed(2)})," units @ ",q.avgNav.toFixed(2)," avg NAV | Value: ",Q(q.currentValue),q.targetAllocationPct>0&&t.jsxs("span",{children:["  Target: ",q.targetAllocationPct.toFixed(1),"%"]})]})]}),P&&t.jsxs("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:[t.jsx("p",{className:"text-xs text-violet-400 font-semibold",children:"New fund  will be added to portfolio"}),t.jsx("p",{className:"text-xs text-violet-300/70 mt-0.5",children:"Use Allocations to plan how much to invest before buying"})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[t.jsx(ae,{label:"Date",required:!0,error:g.date,children:t.jsx(Fn,{value:v.date,onChange:A=>D("date",A)})}),t.jsx(ae,{label:"Units",required:!0,error:g.units,children:t.jsx(Ne,{type:"number",value:v.units,onChange:A=>D("units",A),placeholder:"e.g., 150.50"})}),t.jsx(ae,{label:"NAV ()",required:!0,error:g.price,children:t.jsx(Ne,{type:"number",value:v.price,onChange:A=>D("price",A),placeholder:"e.g., 178.45"})})]}),T>0&&t.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),t.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(T)}),q&&t.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:["New avg NAV: ",((q.investment+T)/(q.units+Number(v.units))).toFixed(2)," Total units: ",(q.units+Number(v.units)).toFixed(2)]})]}),t.jsx(ae,{label:"Notes",children:t.jsx(Ne,{value:v.notes,onChange:A=>D("notes",A),placeholder:"Optional notes..."})}),t.jsx(ya,{onCancel:u,onSubmit:I,submitLabel:v.transactionType==="SIP"?"Record SIP":v.transactionType==="LUMPSUM"?"Record Lumpsum":"Add Holdings",loading:M})]})}function sE({portfolioId:s,fundCode:l,onSave:r,onCancel:a}){const{mfPortfolios:o,mfHoldings:u}=tt(),{selectedMember:d}=ca(),m=N.useMemo(()=>{const I=o.filter($=>$.status==="Active");return d==="all"?I:I.filter($=>$.ownerId===d)},[o,d]),x=N.useMemo(()=>!s||!l?null:u.find(I=>I.portfolioId===s&&I.schemeCode===l),[u,s,l]),[p,v]=N.useState({portfolioId:s||"",fundCode:l||"",fundName:x?.fundName||"",date:new Date().toISOString().split("T")[0],units:"",price:x?.currentNav>0?String(x.currentNav):"",notes:""}),[b,g]=N.useState({}),[w,M]=N.useState(!1);function S(I,$){v(A=>({...A,[I]:$})),g(A=>({...A,[I]:void 0}))}const y=N.useMemo(()=>p.portfolioId?u.filter(I=>I.portfolioId===p.portfolioId&&I.units>0):[],[u,p.portfolioId]),j=y.find(I=>I.schemeCode===p.fundCode);function D(I){const $=y.find(A=>A.schemeCode===I);v(A=>({...A,fundCode:I,fundName:$?.fundName||"",price:$?.currentNav?.toString()||""})),g(A=>({...A,fundCode:void 0}))}function k(I){v($=>({...$,portfolioId:I,fundCode:"",fundName:"",units:"",price:""})),g($=>({...$,portfolioId:void 0}))}const _=N.useMemo(()=>(Number(p.units)||0)*(Number(p.price)||0),[p.units,p.price]),O=j?_-Number(p.units)*j.avgNav:0;function q(){const I={};return p.portfolioId||(I.portfolioId="Required"),p.fundCode||(I.fundCode="Required"),p.date||(I.date="Required"),(!p.units||Number(p.units)<=0)&&(I.units="Must be > 0"),j&&Number(p.units)>j.units&&(I.units=`Max ${j.units.toFixed(2)} units`),(!p.price||Number(p.price)<=0)&&(I.price="Must be > 0"),g(I),Object.keys(I).length===0}async function P(){if(q()){M(!0);try{await r(p)}finally{M(!1)}}}const T=m.map(I=>{const $=I.portfolioName?.replace(/^PFL-/,"")||I.portfolioName,A=I.ownerName?`${$} (${I.ownerName})`:$;return{value:I.portfolioId,label:A}}),F=y.map(I=>({value:I.schemeCode,label:`${I.fundName}  ${I.units.toFixed(0)} units  ${Q(I.currentValue)}`}));return t.jsxs("div",{className:"space-y-4",children:[t.jsx(ae,{label:"Portfolio",required:!0,error:b.portfolioId,children:t.jsx(Ye,{value:p.portfolioId,onChange:k,options:T,placeholder:"Select portfolio..."})}),t.jsx(ae,{label:"Fund to Redeem",required:!0,error:b.fundCode,children:t.jsx(Ye,{value:p.fundCode,onChange:D,options:F,placeholder:p.portfolioId?y.length?"Select fund...":"No holdings":"Select portfolio first..."})}),j&&t.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:j.fundName}),t.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",t.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:j.units.toFixed(2)})," units @ ",j.avgNav.toFixed(2)," avg | Current NAV: ",j.currentNav.toFixed(2)]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[t.jsx(ae,{label:"Date",required:!0,error:b.date,children:t.jsx(Fn,{value:p.date,onChange:I=>S("date",I)})}),t.jsx(ae,{label:"Units",required:!0,error:b.units,children:t.jsx(Ne,{type:"number",value:p.units,onChange:I=>S("units",I),placeholder:j?`Max: ${j.units.toFixed(2)}`:""})}),t.jsx(ae,{label:"NAV ()",required:!0,error:b.price,children:t.jsx(Ne,{type:"number",value:p.price,onChange:I=>S("price",I),placeholder:"e.g., 178.45"})})]}),_>0&&t.jsx("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Redemption Amount"}),t.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(_)})]}),j&&t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. Gain/Loss"}),t.jsxs("p",{className:`text-sm font-bold tabular-nums ${O>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[O>=0?"+":"",Q(O)]})]})]})}),t.jsx(ae,{label:"Notes",children:t.jsx(Ne,{value:p.notes,onChange:I=>S("notes",I),placeholder:"Optional notes..."})}),t.jsx(ya,{onCancel:a,onSubmit:P,submitLabel:"Redeem",loading:w})]})}function lE({portfolioId:s,onSave:l,onCancel:r}){const{mfPortfolios:a,mfHoldings:o}=tt(),{selectedMember:u}=ca(),d=N.useMemo(()=>{const A=a.filter(se=>se.status==="Active");return u==="all"?A:A.filter(se=>se.ownerId===u)},[a,u]),[m,x]=N.useState({portfolioId:s||"",fromFundCode:"",fromFundName:"",toFundCode:"",toFundName:"",date:new Date().toISOString().split("T")[0],units:"",fromPrice:"",toPrice:"",targetAllocation:"",notes:""}),[p,v]=N.useState({}),[b,g]=N.useState(!1);function w(A,se){x(ce=>({...ce,[A]:se})),v(ce=>({...ce,[A]:void 0}))}function M(A){x(se=>({...se,portfolioId:A,fromFundCode:"",fromFundName:"",toFundCode:"",toFundName:"",units:"",fromPrice:"",toPrice:"",targetAllocation:""})),v(se=>({...se,portfolioId:void 0}))}const S=N.useMemo(()=>m.portfolioId?o.filter(A=>A.portfolioId===m.portfolioId&&A.units>0):[],[o,m.portfolioId]),y=S.find(A=>A.schemeCode===m.fromFundCode),j=N.useMemo(()=>!m.portfolioId||!m.toFundCode?null:o.find(A=>A.portfolioId===m.portfolioId&&A.schemeCode===m.toFundCode),[o,m.portfolioId,m.toFundCode]),D=m.toFundCode&&!j;function k(A){const se=S.find(ce=>ce.schemeCode===A);x(ce=>({...ce,fromFundCode:A,fromFundName:se?.fundName||"",fromPrice:se?.currentNav?.toString()||""})),v(ce=>({...ce,fromFundCode:void 0}))}function _({schemeCode:A,fundName:se}){const ce=o.find(le=>le.portfolioId===m.portfolioId&&le.schemeCode===A);x(le=>({...le,toFundCode:A,toFundName:se,toPrice:ce?.currentNav?.toString()||le.toPrice,targetAllocation:""})),v(le=>({...le,toFundCode:void 0}))}const O=N.useMemo(()=>(Number(m.units)||0)*(Number(m.fromPrice)||0),[m.units,m.fromPrice]),q=O>0&&Number(m.toPrice)>0?O/Number(m.toPrice):0,P=y?O-Number(m.units)*y.avgNav:0;function T(){const A={};return m.portfolioId||(A.portfolioId="Required"),m.fromFundCode||(A.fromFundCode="Required"),m.toFundCode||(A.toFundCode="Required"),m.fromFundCode&&m.toFundCode&&m.fromFundCode===m.toFundCode&&(A.toFundCode="Must be different from source fund"),m.date||(A.date="Required"),(!m.units||Number(m.units)<=0)&&(A.units="Must be > 0"),y&&Number(m.units)>y.units&&(A.units=`Max ${y.units.toFixed(2)} units`),(!m.fromPrice||Number(m.fromPrice)<=0)&&(A.fromPrice="Must be > 0"),(!m.toPrice||Number(m.toPrice)<=0)&&(A.toPrice="Must be > 0"),v(A),Object.keys(A).length===0}async function F(){if(T()){g(!0);try{await l(m)}finally{g(!1)}}}const I=d.map(A=>{const se=A.portfolioName?.replace(/^PFL-/,"")||A.portfolioName,ce=A.ownerName?`${se} (${A.ownerName})`:se;return{value:A.portfolioId,label:ce}}),$=S.map(A=>({value:A.schemeCode,label:A.fundName}));return t.jsxs("div",{className:"space-y-4",children:[t.jsx(ae,{label:"Portfolio",required:!0,error:p.portfolioId,children:t.jsx(Ye,{value:m.portfolioId,onChange:M,options:I,placeholder:"Select portfolio..."})}),t.jsx(ae,{label:"Switch From (Sell)",required:!0,error:p.fromFundCode,children:t.jsx(Ye,{value:m.fromFundCode,onChange:k,options:$,placeholder:m.portfolioId?S.length?"Select fund to switch from...":"No holdings":"Select portfolio first..."})}),y&&t.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:y.fundName}),t.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",t.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:y.units.toFixed(2)})," units @ ",y.avgNav.toFixed(2)," avg | Current NAV: ",y.currentNav.toFixed(2)]})]}),t.jsx(ae,{label:"Switch To (Buy)",required:!0,error:p.toFundCode,children:t.jsx(Mp,{value:m.toFundCode?{schemeCode:m.toFundCode,fundName:m.toFundName}:null,onSelect:_,placeholder:"Search fund to switch into...",disabled:!m.portfolioId})}),j&&t.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Existing holding  units will be added, NAV averaged out"}),t.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Current: ",t.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:j.units.toFixed(2)})," units @ ",j.avgNav.toFixed(2)," avg | Alloc: ",j.targetAllocationPct.toFixed(1),"%"]})]}),D&&m.toFundCode&&t.jsx("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:t.jsx("p",{className:"text-xs text-violet-400 font-semibold",children:"New fund  will be added to portfolio"})}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ae,{label:"Switch Date",required:!0,error:p.date,children:t.jsx(Fn,{value:m.date,onChange:A=>w("date",A)})}),t.jsx(ae,{label:"Units to Switch",required:!0,error:p.units,children:t.jsx(Ne,{type:"number",value:m.units,onChange:A=>w("units",A),placeholder:y?`Max: ${y.units.toFixed(2)}`:""})})]}),t.jsxs("div",{className:`grid grid-cols-1 ${D?"sm:grid-cols-3":"sm:grid-cols-2"} gap-4`,children:[t.jsx(ae,{label:"From Fund NAV ()",required:!0,error:p.fromPrice,children:t.jsx(Ne,{type:"number",value:m.fromPrice,onChange:A=>w("fromPrice",A),placeholder:"e.g., 178.45"})}),t.jsx(ae,{label:"To Fund NAV ()",required:!0,error:p.toPrice,children:t.jsx(Ne,{type:"number",value:m.toPrice,onChange:A=>w("toPrice",A),placeholder:"e.g., 82.10"})}),D&&t.jsx(ae,{label:"Target Allocation (%)",children:t.jsx(Ne,{type:"number",value:m.targetAllocation,onChange:A=>w("targetAllocation",A),placeholder:"e.g., 20"})})]}),O>0&&t.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[t.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Switch Amount"}),t.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(O)})]}),q>0&&t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Units Bought"}),t.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:q.toFixed(4)})]}),y&&t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. Gain/Loss"}),t.jsxs("p",{className:`text-sm font-bold tabular-nums ${P>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[P>=0?"+":"",Q(P)]})]})]}),j&&q>0&&t.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1 border-t border-[var(--border-light)] pt-1",children:["New total: ",(j.units+q).toFixed(2)," units  New avg NAV: ",((j.investment+O)/(j.units+q)).toFixed(2)]})]}),t.jsx(ae,{label:"Notes",children:t.jsx(Ne,{value:m.notes,onChange:A=>w("notes",A),placeholder:"Optional notes..."})}),t.jsx(ya,{onCancel:r,onSubmit:F,submitLabel:"Switch Funds",loading:b})]})}function iE({portfolioId:s,onSave:l,onCancel:r}){const{mfHoldings:a,mfPortfolios:o}=tt(),u=o.find(T=>T.portfolioId===s),d=N.useMemo(()=>a.filter(T=>T.portfolioId===s),[a,s]),[m,x]=N.useState(()=>d.map(T=>({schemeCode:T.schemeCode,fundName:T.fundName,units:T.units,currentValue:T.currentValue,currentAllocationPct:T.currentAllocationPct,targetAllocationPct:T.targetAllocationPct,isNew:!1}))),[p,v]=N.useState(null),[b,g]=N.useState(""),[w,M]=N.useState(""),[S,y]=N.useState(!1),j=m.reduce((T,F)=>T+F.targetAllocationPct,0),D=m.reduce((T,F)=>T+F.currentValue,0);function k(T,F){x(I=>I.map($=>$.schemeCode===T?{...$,targetAllocationPct:Number(F)||0}:$)),M("")}function _(T){const F=m.find(I=>I.schemeCode===T);F&&F.units>0||x(I=>I.filter($=>$.schemeCode!==T))}function O(){if(p){if(m.find(T=>T.schemeCode===p.schemeCode)){M("Fund already exists in portfolio");return}x(T=>[...T,{schemeCode:p.schemeCode,fundName:p.fundName,units:0,currentValue:0,currentAllocationPct:0,targetAllocationPct:Number(b)||0,isNew:!0}]),v(null),g(""),M("")}}async function q(){if(j>100){M(`Total allocation is ${j.toFixed(1)}%  must be  100%`);return}y(!0);try{await l(m.map(T=>({schemeCode:T.schemeCode,fundName:T.fundName,targetAllocationPct:T.targetAllocationPct,isNew:T.isNew})))}finally{y(!1)}}const P=u?.sipTarget||0;return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:u?.portfolioName}),t.jsx("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)] mt-0.5 flex-wrap",children:t.jsxs("span",{children:["Current Value: ",t.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:Q(D)})]})})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[t.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Fund"}),t.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Units"}),t.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Current %"}),t.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Target %"}),t.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold w-8"})]})}),t.jsx("tbody",{children:m.map(T=>{const F=T.isNew&&T.targetAllocationPct>0&&T.targetAllocationPct<100&&D>0?T.targetAllocationPct/(100-T.targetAllocationPct)*D:0,I=T.isNew&&T.targetAllocationPct>0&&P>=100?T.targetAllocationPct/100*P:0;return t.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[t.jsxs("td",{className:"py-2 px-2",children:[t.jsx("p",{className:"text-xs text-[var(--text-primary)] leading-tight max-w-[200px] truncate",children:T.fundName}),t.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[T.schemeCode,T.isNew&&t.jsx("span",{className:"text-violet-400 ml-1",children:"(new)"})]}),(F>0||I>0)&&t.jsxs("p",{className:"text-xs text-blue-400 mt-0.5",children:["Invest: ",F>0&&t.jsx("span",{className:"font-semibold",children:Q(F)}),F>0&&I>0&&"  ",I>0&&t.jsxs("span",{className:"font-semibold",children:[Q(I),"/mo SIP"]})]})]}),t.jsx("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:T.units.toFixed(2)}),t.jsxs("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:[T.currentAllocationPct.toFixed(1),"%"]}),t.jsx("td",{className:"py-2 px-2",children:t.jsx("input",{type:"number",value:T.targetAllocationPct,onChange:$=>k(T.schemeCode,$.target.value),className:"w-20 mx-auto block bg-[var(--bg-inset)] border border-[var(--border)] rounded px-2 py-1 text-xs text-center text-[var(--text-primary)] focus:outline-none focus:border-violet-500/50"})}),t.jsx("td",{className:"py-2 px-2 text-center",children:T.units===0&&t.jsx("button",{onClick:()=>_(T.schemeCode),className:"p-1 rounded hover:bg-rose-500/15 text-[var(--text-dim)] hover:text-[var(--accent-rose)] transition-colors",children:t.jsx(Pu,{size:12})})})]},T.schemeCode)})}),t.jsx("tfoot",{children:t.jsxs("tr",{className:"border-t border-[var(--border)]",children:[t.jsx("td",{className:"py-2 px-2 text-xs font-bold text-[var(--text-primary)]",children:"Total"}),t.jsx("td",{}),t.jsxs("td",{className:"py-2 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[m.reduce((T,F)=>T+F.currentAllocationPct,0).toFixed(1),"%"]}),t.jsx("td",{className:"py-2 px-2 text-center",children:t.jsxs("span",{className:`text-xs font-bold tabular-nums ${j>100?"text-[var(--accent-rose)]":j===100?"text-emerald-400":"text-amber-400"}`,children:[j.toFixed(1),"%"]})}),t.jsx("td",{})]})})]})}),t.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3",children:[t.jsx("p",{className:"text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider mb-1",children:"Add New Fund"}),t.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"Set target % to see how much to invest. After buying, use Invest to record the transaction."}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Mp,{value:p,onSelect:T=>v(T.schemeCode?T:null),placeholder:"Search fund to add..."}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-28",children:t.jsx("input",{type:"number",value:b,onChange:T=>g(T.target.value),placeholder:"Target %",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})}),t.jsxs("button",{onClick:O,disabled:!p,className:"flex items-center gap-1 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors disabled:opacity-40 disabled:cursor-not-allowed",children:[t.jsx(oa,{size:14})," Add"]})]})]})]})]}),w&&t.jsx("p",{className:"text-xs text-[var(--accent-rose)] font-medium",children:w}),t.jsx(ya,{onCancel:r,onSubmit:q,submitLabel:"Save Allocations",loading:S})]})}const Qc=s=>s?.replace(/^PFL-/,"")||s;function oE(s){if(!s)return"Other";const l=s.toLowerCase();return l.includes("gold")||l.includes("silver")||l.includes("commodity")?"Commodity":l.includes("liquid")||l.includes("money market")||l.includes("overnight")?"Liquid":l.includes("gilt")||l.includes("government securities")||l.includes("constant maturity")?"Gilt":l.includes("elss")||l.includes("tax saver")?"ELSS":l.includes("debt")||l.includes("bond")||l.includes("income fund")||l.includes("corporate bond")||l.includes("banking & psu")||l.includes("short duration")||l.includes("medium duration")||l.includes("long duration")||l.includes("short term")||l.includes("medium term")||l.includes("floater")||l.includes("floating rate")||l.includes("credit")||l.includes("accrual")||l.includes("savings fund")||l.includes("ultra short")?"Debt":l.includes("multi asset")?"Multi-Asset":l.includes("hybrid")||l.includes("balanced")||l.includes("dynamic asset")||l.includes("arbitrage")||l.includes("retirement")||l.includes("children")||l.includes("pension")?"Hybrid":l.includes("equity")||l.includes("flexi cap")||l.includes("large cap")||l.includes("mid cap")||l.includes("small cap")||l.includes("multi cap")||l.includes("focused")||l.includes("contra")||l.includes("value fund")||l.includes("thematic")||l.includes("sectoral")||l.includes("consumption")||l.includes("infrastructure")||l.includes("pharma")||l.includes("healthcare")||l.includes("technology")||l.includes("fmcg")||l.includes("mnc")||l.includes("opportunities fund")||l.includes("midcap")||l.includes("smallcap")||l.includes("largecap")||l.includes("large & mid")?"Equity":l.includes("index")||l.includes("etf")||l.includes("nifty")||l.includes("sensex")?"Index":l.includes("fund of fund")||l.includes("fof")||l.includes("aggressive")||l.includes("conservative")?"Hybrid":"Other"}const ag={Equity:"bg-violet-500",Debt:"bg-sky-500",Commodities:"bg-yellow-500",Cash:"bg-teal-400",Hybrid:"bg-indigo-400",Other:"bg-slate-400"},ng={"Large Cap":"bg-blue-500","Mid Cap":"bg-amber-500","Small Cap":"bg-rose-500"};function xn(s){if(!s)return null;if(s instanceof Date)return isNaN(s.getTime())?null:s;const l=String(s),r=l.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})/);if(r)return new Date(Number(r[3]),Number(r[2])-1,Number(r[1]));const a=new Date(l);return isNaN(a.getTime())?null:a}function rg(s){return s>=20?{color:"#c62828",fontWeight:700}:s>=10?{color:"#d84315",fontWeight:700}:s>=5?{color:"#e67e00",fontWeight:600}:s>=1?{color:"#b8860b",fontWeight:600}:{color:"var(--text-dim)",fontWeight:400}}function cE(){const{selectedMember:s}=ca(),{mfPortfolios:l,mfHoldings:r,mfTransactions:a,activeMembers:o,activeInvestmentAccounts:u,addMFPortfolio:d,updateMFPortfolio:m,deleteMFPortfolio:x,investMF:p,redeemMF:v,switchMF:b,updateHoldingAllocations:g,deleteMFTransaction:w,editMFTransaction:M,assetAllocations:S,updateAssetAllocation:y}=tt(),{showToast:j,showBlockUI:D,hideBlockUI:k}=Hn(),_=Yn(),{mv:O}=qn(),[q,P]=N.useState(null),[T,F]=N.useState("all"),[I,$]=N.useState("holdings"),[A,se]=N.useState(!1),[ce,le]=N.useState(null),[B,W]=N.useState({}),[L,re]=N.useState("all"),[he,z]=N.useState(null),ee=N.useCallback(R=>{le(V=>V===R?null:R)},[]),fe=N.useCallback(R=>{W(V=>({...V,[R]:(V[R]||5)+10}))},[]),xe=N.useMemo(()=>l?l.filter(R=>R.status!=="Inactive").map(R=>{let V=u.find(qe=>qe.accountId===R.investmentAccountId);!V&&R.investmentAccountId&&(V=u.find(qe=>`${qe.accountName} - ${qe.platformBroker}`===R.investmentAccountId));const me=V?.memberId||R.ownerId||"",De=me?o.find(qe=>qe.memberId===me):null;return{...R,investmentAccountId:V?.accountId||R.investmentAccountId,ownerId:me,ownerName:De?.memberName||R.ownerName||"",platform:V?.platformBroker||R.investmentAccountName||"",clientId:V?.accountClientId||""}}):[],[l,u,o]),Ae=N.useMemo(()=>xe.length?s==="all"?xe:xe.filter(R=>R.ownerId===s):[],[xe,s]),Te=N.useMemo(()=>r?Ae.map(R=>{const V=r.filter(De=>De.portfolioId===R.portfolioId),me=(a||[]).filter(De=>De.portfolioId===R.portfolioId);return{...R,holdings:V,txns:me,fundCount:V.length}}):[],[Ae,r,a]),we=N.useMemo(()=>{const R=T==="all"?Te:Te.filter(ze=>ze.portfolioId===T),V=R.reduce((ze,Ee)=>ze+Ee.totalInvestment,0),me=R.reduce((ze,Ee)=>ze+Ee.currentValue,0),De=R.reduce((ze,Ee)=>ze+Ee.unrealizedPL,0),qe=R.reduce((ze,Ee)=>ze+Ee.realizedPL,0),ie=De+qe,_e=V>0?ie/V*100:0,je=V>0?De/V*100:0,ve=V>0?qe/V*100:0,at=R.reduce((ze,Ee)=>ze+Ee.fundCount,0),St=(r?T==="all"?r.filter(ze=>R.some(Ee=>Ee.portfolioId===ze.portfolioId)):r.filter(ze=>ze.portfolioId===T):[]).reduce((ze,Ee)=>ze+(Ee.ongoingSIP||0),0);return{invested:V,current:me,unrealizedPL:De,unrealizedPLPct:je,realizedPL:qe,realizedPLPct:ve,totalPL:ie,totalPLPct:_e,funds:at,monthlySIP:St}},[Te,T,r]),ke=N.useMemo(()=>r?T==="all"?r.filter(R=>Ae.some(V=>V.portfolioId===R.portfolioId)):r.filter(R=>R.portfolioId===T):[],[r,Ae,T]),Pe=N.useMemo(()=>a?(T==="all"?a.filter(V=>Ae.some(me=>me.portfolioId===V.portfolioId)):a.filter(V=>V.portfolioId===T)).sort((V,me)=>(xn(me.date)||0)-(xn(V.date)||0)):[],[a,Ae,T]),jt=N.useMemo(()=>{const R=new Set;return Pe.forEach(V=>{V.fundName&&R.add(V.fundName)}),[...R].sort()},[Pe]),Yt=N.useMemo(()=>L==="all"?Pe:Pe.filter(R=>R.fundName===L),[Pe,L]),ha=N.useMemo(()=>{const R={};return ke.forEach(V=>{R[V.portfolioId]=(R[V.portfolioId]||0)+V.currentValue}),ke.map(V=>{const me=R[V.portfolioId]||0,De=me>0?V.currentValue/me*100:0,qe=V.investment>0?V.pl/V.investment*100:0,ie=V.holdingId||`${V.portfolioId}::${V.schemeCode||V.fundCode}`;return{...V,currentAllocationPct:De,plPct:qe,_key:ie}})},[ke]),wt=N.useMemo(()=>{if(T!=="all")return null;const R=[],V={};return ha.forEach(me=>{V[me.portfolioId]||(V[me.portfolioId]={portfolioId:me.portfolioId,holdings:[]},R.push(V[me.portfolioId])),V[me.portfolioId].holdings.push(me)}),R},[ha,T]),ge=N.useMemo(()=>{if(!r)return{};const R={};return Te.forEach(V=>{const me=r.filter(je=>je.portfolioId===V.portfolioId&&je.units>0),De=me.reduce((je,ve)=>je+ve.currentValue,0),qe=(V.rebalanceThreshold||.05)*100;let ie=0,_e=0;me.forEach(je=>{je.athNav>0&&je.belowATHPct>=5&&ie++;const ve=De>0?je.currentValue/De*100:0;je.targetAllocationPct>0&&Math.abs(ve-je.targetAllocationPct)>qe&&_e++}),R[V.portfolioId]={buyOpp:ie,rebalance:_e}}),R},[Te,r]),He=N.useMemo(()=>{if(T!=="all")return ge[T]||{buyOpp:0,rebalance:0};let R=0,V=0;return Object.values(ge).forEach(me=>{R+=me.buyOpp,V+=me.rebalance}),{buyOpp:R,rebalance:V}},[T,ge]),rt=N.useMemo(()=>{if(!ke.length)return null;const R={};if(S)for(const ve of S)R[ve.fundCode]={asset:ve.assetAllocation,equity:ve.equityAllocation};const V={Equity:0,Debt:0,Commodities:0,Cash:0,Other:0},me={Large:0,Mid:0,Small:0};let De=0,qe=!1;for(const ve of ke){if(ve.units<=0)continue;De+=ve.currentValue;const at=R[ve.fundCode||ve.schemeCode];if(at?.asset){qe=!0;for(const[Ue,St]of Object.entries(at.asset)){const ze=ve.currentValue*(St/100);Ue==="Equity"?V.Equity+=ze:Ue==="Debt"?V.Debt+=ze:Ue==="Cash"?V.Cash+=ze:Ue==="Commodities"||Ue==="Gold"?V.Commodities+=ze:V.Other+=ze}if(at.equity)for(const[Ue,St]of Object.entries(at.equity)){const ze=ve.currentValue*((at.asset.Equity||0)/100)*(St/100);Ue==="Large"?me.Large+=ze:Ue==="Mid"?me.Mid+=ze:(Ue==="Small"||Ue==="Micro")&&(me.Small+=ze)}}else{let Ue=ve.category;(!Ue||Ue==="Other")&&(Ue=oE(ve.fundName)),Ue==="Equity"||Ue==="ELSS"||Ue==="Index"?V.Equity+=ve.currentValue:Ue==="Debt"||Ue==="Gilt"?V.Debt+=ve.currentValue:Ue==="Liquid"?V.Cash+=ve.currentValue:Ue==="Commodity"?V.Commodities+=ve.currentValue:Ue==="Multi-Asset"?(V.Equity+=ve.currentValue*.5,V.Debt+=ve.currentValue*.3,V.Commodities+=ve.currentValue*.2):Ue==="Hybrid"||Ue==="FoF"?(V.Equity+=ve.currentValue*.65,V.Debt+=ve.currentValue*.35):V.Other+=ve.currentValue}}if(De===0)return null;const ie=Object.entries(V).filter(([,ve])=>ve>0).sort(([,ve],[,at])=>at-ve).map(([ve,at])=>({name:ve,value:at,pct:at/De*100})),_e=me.Large+me.Mid+me.Small,je=_e>0?Object.entries(me).filter(([,ve])=>ve>0).sort(([,ve],[,at])=>at-ve).map(([ve,at])=>({name:ve+" Cap",value:at,pct:at/_e*100})):[];return{assetList:ie,capList:je,hasDetailedAlloc:qe}},[ke,S]),Tt=N.useMemo(()=>{if(!ke.length)return[];const R={};return ke.forEach(V=>{if(!V.fundCode&&!V.schemeCode)return;const me=(V.fundCode||V.schemeCode).toString();R[me]||(R[me]={fundCode:me,fundName:V.fundName||""})}),Object.values(R).sort((V,me)=>V.fundName.localeCompare(me.fundName))},[ke]);if(l===null||r===null)return t.jsx(Sr,{title:"Loading mutual funds",cards:5});const ht=Te.find(R=>R.portfolioId===T),aa=T==="all"?`All Portfolios (${Ae.length})`:`${Qc(ht?.portfolioName)}  ${O(ht?.ownerName,"name")}`;async function Jt(R){D("Saving...");try{q?.editPortfolio?await m(q.editPortfolio.portfolioId,R):await d(R),j(q?.editPortfolio?"Portfolio updated":"Portfolio created"),P(null)}catch(V){j(V.message||"Failed to save portfolio","error")}finally{k()}}async function dt(){if(q?.editPortfolio&&await _("Deactivate this portfolio?",{title:"Deactivate Portfolio",confirmLabel:"Deactivate"})){D("Deactivating...");try{await x(q.editPortfolio.portfolioId),j("Portfolio deactivated"),F("all"),P(null)}catch(R){j(R.message||"Failed to deactivate portfolio","error")}finally{k()}}}async function ea(R){D("Recording investment...");try{await p(R,R.transactionType),j("Investment recorded"),P(null)}catch(V){j(V.message||"Failed to record investment","error")}finally{k()}}async function Na(R){D("Recording redemption...");try{await v(R),j("Redemption recorded"),P(null)}catch(V){j(V.message||"Failed to record redemption","error")}finally{k()}}async function Rt(R){D("Recording switch...");try{await b(R),j("Switch recorded"),P(null)}catch(V){j(V.message||"Failed to record switch","error")}finally{k()}}async function Ia(R){if(await _("Delete this transaction? This will recalculate your holdings.",{title:"Delete Transaction",confirmLabel:"Delete"})){D("Deleting...");try{await w(R),j("Transaction deleted"),z(null)}catch(V){j(V.message||"Failed to delete transaction","error")}finally{k()}}}async function Ie(R){D("Updating...");try{await M(R),j("Transaction updated"),P(null)}catch(V){j(V.message||"Failed to update transaction","error")}finally{k()}}async function Z(R){if(q?.allocations){D("Saving allocations...");try{await g(q.allocations,R),j("Allocations updated"),P(null)}catch(V){j(V.message||"Failed to update allocations","error")}finally{k()}}}return t.jsxs("div",{className:"space-y-4",children:[Ae.length===0?t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[t.jsx(Tl,{size:32,className:"text-[var(--text-dim)]"}),t.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No mutual fund portfolios yet"}),t.jsx("button",{onClick:()=>P("addPortfolio"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first portfolio"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>se(!A),className:"flex items-center gap-2 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm font-semibold text-[var(--text-primary)] hover:border-[var(--border-light)] transition-colors min-w-[220px]",children:[t.jsx(Tl,{size:14,className:"text-violet-400 shrink-0"}),t.jsx("span",{className:"truncate",children:aa}),t.jsx(In,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${A?"rotate-180":""}`})]}),A&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>se(!1)}),t.jsxs("div",{className:"absolute left-0 top-full mt-1 z-40 bg-[var(--bg-dropdown)] border border-white/10 rounded-lg shadow-2xl min-w-[300px] py-1 overflow-hidden",children:[t.jsxs("button",{onClick:()=>{F("all"),se(!1),$("holdings")},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${T==="all"?"bg-[var(--sidebar-active-bg)] text-[var(--text-primary)] font-semibold":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:["All Portfolios (",Ae.length,")"]}),t.jsx("div",{className:"border-t border-[var(--border-light)]"}),Te.map(R=>{const V=R.totalPL>=0,me=ge[R.portfolioId]||{};return t.jsx("button",{onClick:()=>{F(R.portfolioId),se(!1),$("holdings")},className:`w-full text-left px-4 py-2.5 transition-colors ${T===R.portfolioId?"bg-[var(--sidebar-active-bg)]":"hover:bg-[var(--bg-hover)]"}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("p",{className:`text-sm ${T===R.portfolioId?"font-semibold text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:Qc(R.portfolioName)}),me.buyOpp>0&&t.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 shrink-0",title:`${me.buyOpp} buy opportunities`}),me.rebalance>0&&t.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-400 shrink-0",title:`${me.rebalance} funds need rebalancing`})]}),t.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[O(R.ownerName,"name"),"  ",R.platform,"  ",R.fundCount," funds"]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(R.currentValue)}),t.jsxs("p",{className:`text-xs font-semibold tabular-nums ${V?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[V?"+":"",R.totalPLPct.toFixed(1),"%"]})]})]})},R.portfolioId)})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsxs("button",{onClick:()=>P("buyOpp"),disabled:He.buyOpp===0,className:`flex items-center gap-1.5 px-3 py-2 text-xs font-medium rounded-lg transition-colors ${He.buyOpp>0?"text-emerald-400 hover:text-emerald-300 bg-[var(--bg-card)] border border-emerald-500/30 animate-glow-emerald":"text-[var(--text-dim)] bg-[var(--bg-card)] border border-[var(--border)] opacity-50 cursor-not-allowed"}`,children:[t.jsx(zu,{size:12})," Buy Opp.",He.buyOpp>0&&t.jsx("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-emerald-500/15",children:He.buyOpp})]}),t.jsxs("button",{onClick:()=>P("rebalance"),disabled:He.rebalance===0,className:`flex items-center gap-1.5 px-3 py-2 text-xs font-medium rounded-lg transition-colors ${He.rebalance>0?"text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-violet-500/30 animate-glow-violet":"text-[var(--text-dim)] bg-[var(--bg-card)] border border-[var(--border)] opacity-50 cursor-not-allowed"}`,children:[t.jsx(Rl,{size:12})," Rebalance",He.rebalance>0&&t.jsx("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-violet-500/15",children:He.rebalance})]}),ht&&t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>P({allocations:ht.portfolioId}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[t.jsx(oC,{size:12})," Allocations"]}),t.jsxs("button",{onClick:()=>P({editPortfolio:ht}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[t.jsx(dn,{size:12})," Edit"]})]}),t.jsxs("button",{onClick:()=>P("addPortfolio"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[t.jsx(oa,{size:14})," New Portfolio"]})]})]}),ht&&t.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-dim)] px-1 flex-wrap",children:[t.jsxs("span",{children:[t.jsx("span",{className:"font-semibold",children:"Platform:"})," ",ht.platform]}),t.jsxs("span",{children:[t.jsx("span",{className:"font-semibold",children:"Client ID:"})," ",O(ht.clientId,"clientId")]}),t.jsxs("span",{children:[t.jsx("span",{className:"font-semibold",children:"Funds:"})," ",ht.fundCount]}),ht.sipTarget>=100&&t.jsxs("span",{children:[t.jsx("span",{className:"font-semibold",children:"SIP Target:"})," ",Q(ht.sipTarget),"/mo"]}),ht.lumpsumTarget>=100&&t.jsxs("span",{children:[t.jsx("span",{className:"font-semibold",children:"Lumpsum Target:"})," ",Q(ht.lumpsumTarget)]}),t.jsxs("span",{children:[t.jsx("span",{className:"font-semibold",children:"Rebalance Threshold:"})," ",(ht.rebalanceThreshold*100).toFixed(0),"%"]})]}),t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[t.jsx(kl,{label:"Invested",value:Q(we.invested)}),t.jsx(kl,{label:"Current Value",value:Q(we.current),bold:!0}),t.jsx(kl,{label:"Unrealized P&L",value:`${we.unrealizedPL>=0?"+":""}${Q(we.unrealizedPL)}`,sub:`${we.unrealizedPLPct>=0?"+":""}${we.unrealizedPLPct.toFixed(1)}%`,positive:we.unrealizedPL>=0}),t.jsx(kl,{label:"Realized P&L",value:`${we.realizedPL>=0?"+":""}${Q(we.realizedPL)}`,sub:`${we.realizedPLPct>=0?"+":""}${we.realizedPLPct.toFixed(1)}%`,positive:we.realizedPL>=0}),t.jsx(kl,{label:"Total P&L",value:`${we.totalPL>=0?"+":""}${Q(we.totalPL)}`,sub:`${we.totalPLPct>=0?"+":""}${we.totalPLPct.toFixed(1)}%`,positive:we.totalPL>=0,bold:!0}),t.jsx(kl,{label:"Monthly SIP",value:Q(we.monthlySIP),sub:`${we.funds} funds`})]}),rt&&rt.assetList.length>0&&t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-3",children:[t.jsx("p",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider mb-2",children:"Asset Allocation"}),t.jsx("div",{className:"h-2.5 rounded-full overflow-hidden bg-[var(--bg-inset)] flex",children:rt.assetList.map(R=>t.jsx("div",{className:`h-full ${ag[R.name]||"bg-slate-400"}`,style:{width:`${R.pct}%`}},R.name))}),t.jsx("div",{className:"flex flex-wrap gap-x-3 gap-y-0.5 mt-1.5",children:rt.assetList.map(R=>t.jsxs("span",{className:"flex items-center gap-1 text-[11px] text-[var(--text-dim)]",children:[t.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${ag[R.name]||"bg-slate-400"}`}),R.name," ",R.pct.toFixed(0),"%"]},R.name))}),!rt.hasDetailedAlloc&&t.jsx("p",{className:"text-[9px] text-[var(--text-dim)]/50 mt-1",children:"Based on fund category. Add detailed allocations for accuracy."})]}),rt.capList.length>0?t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-3",children:[t.jsx("p",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider mb-2",children:"Market Cap Breakdown"}),t.jsx("div",{className:"h-2.5 rounded-full overflow-hidden bg-[var(--bg-inset)] flex",children:rt.capList.map(R=>t.jsx("div",{className:`h-full ${ng[R.name]||"bg-slate-400"}`,style:{width:`${R.pct}%`}},R.name))}),t.jsx("div",{className:"flex flex-wrap gap-x-3 gap-y-0.5 mt-1.5",children:rt.capList.map(R=>t.jsxs("span",{className:"flex items-center gap-1 text-[11px] text-[var(--text-dim)]",children:[t.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${ng[R.name]||"bg-slate-400"}`}),R.name," ",R.pct.toFixed(0),"%"]},R.name))})]}):t.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-3 flex items-center justify-center",children:t.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:"Add asset allocations per fund for market cap breakdown"})})]}),t.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[t.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5",children:[t.jsxs("button",{onClick:()=>$("holdings"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${I==="holdings"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[t.jsx(Dy,{size:12})," Holdings (",ke.length,")"]}),t.jsxs("button",{onClick:()=>$("transactions"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${I==="transactions"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[t.jsx(bu,{size:12})," Transactions (",Yt.length,")"]}),t.jsxs("button",{onClick:()=>$("allocations"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${I==="allocations"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[t.jsx(z0,{size:12})," Allocations (",Tt.length,")"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[T==="all"&&t.jsx("span",{className:"text-xs text-[var(--text-dim)] mr-1 hidden sm:inline",children:"Select a portfolio to take actions"}),t.jsxs("button",{onClick:()=>T!=="all"&&P({invest:T}),disabled:T==="all",className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${T==="all"?"bg-emerald-600/40 text-white/50 cursor-not-allowed":"text-white bg-emerald-600 hover:bg-emerald-500"}`,title:T==="all"?"Select a portfolio first":"",children:[t.jsx(Ll,{size:14})," Invest"]}),t.jsxs("button",{onClick:()=>T!=="all"&&ke.length>0&&P({redeem:T}),disabled:T==="all"||ke.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${T==="all"||ke.length===0?"bg-rose-600/40 text-white/50 cursor-not-allowed":"text-white bg-rose-600 hover:bg-rose-500"}`,title:T==="all"?"Select a portfolio first":"",children:[t.jsx(Ny,{size:14})," Redeem"]}),t.jsxs("button",{onClick:()=>T!=="all"&&ke.length>0&&P({switchFunds:T}),disabled:T==="all"||ke.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${T==="all"||ke.length===0?"bg-amber-600/40 text-white/50 cursor-not-allowed":"text-white bg-amber-600 hover:bg-amber-500"}`,title:T==="all"?"Select a portfolio first":"",children:[t.jsx(aC,{size:14})," Switch"]})]})]}),I==="holdings"&&t.jsx(t.Fragment,{children:ke.length>0?t.jsx("div",{className:T==="all"?"space-y-4":"",children:(T==="all"?wt:[{portfolioId:T,holdings:ha}]).map(R=>{const V=Te.find(ie=>ie.portfolioId===R.portfolioId),me=R.holdings,De=me.reduce((ie,_e)=>ie+_e.pl,0),qe=De>=0;return t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[T==="all"&&V&&t.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:Qc(V.portfolioName)}),V.ownerName&&t.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:["(",O(V.ownerName,"name"),")"]}),t.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[" ",me.filter(ie=>ie.units>0).length," funds"]})]}),t.jsxs("div",{className:"flex items-center gap-4 text-xs tabular-nums",children:[t.jsx("span",{className:"text-[var(--text-muted)]",children:Q(V.currentValue||0)}),t.jsxs("span",{className:`font-bold ${qe?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[qe?"+":"",Q(De)]})]})]}),t.jsx("div",{className:"hidden lg:block overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:`border-b border-[var(--border-light)] ${T!=="all"?"bg-[var(--bg-inset)]":""}`,children:[t.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Fund Name"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),t.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[t.jsx("div",{children:"NAV"}),t.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Avg"})]}),t.jsxs("th",{className:"text-center py-2 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[t.jsx("div",{children:"ATH"}),t.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Below Peak"})]}),t.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[t.jsx("div",{children:"Allocation %"}),t.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Target"})]}),t.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[t.jsx("div",{children:"Amount"}),t.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Invested"})]}),t.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[t.jsx("div",{children:"P&L"}),t.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"on Holdings"})]}),t.jsx("th",{className:"py-2 px-2 w-8"})]})}),t.jsx("tbody",{children:me.map(ie=>{const _e=rg(ie.belowATHPct),je=ie.units===0,ve=Te.find(be=>be.portfolioId===ie.portfolioId),at=ve?.currentValue||0,Ue=ce===ie._key,St=ie.pl,ze=St>=0,Ee=je&&ie.targetAllocationPct>0&&ie.targetAllocationPct<100&&at>0?ie.targetAllocationPct/(100-ie.targetAllocationPct)*at:0,_t=je&&ie.targetAllocationPct>0&&ve?.sipTarget>=100?ie.targetAllocationPct/100*ve.sipTarget:0,Nt=Ue?(a||[]).filter(be=>be.portfolioId===ie.portfolioId&&be.fundCode===ie.schemeCode).sort((be,Kt)=>(xn(Kt.date)||0)-(xn(be.date)||0)):[],qt=B[ie._key]||5,na=Nt.slice(0,qt),is=be=>{const Kt=xn(be);return Kt?Math.floor((new Date-Kt)/864e5):null};return t.jsxs(ne.Fragment,{children:[t.jsxs("tr",{onClick:()=>!je&&ee(ie._key),className:`border-b border-[var(--border-light)] last:border-0 transition-colors ${je?"opacity-60":"cursor-pointer hover:bg-[var(--bg-hover)]"} ${Ue?"bg-[var(--bg-hover)]":""}`,children:[t.jsx("td",{className:"py-2.5 px-3 max-w-[240px]",children:t.jsxs("div",{className:"flex items-center gap-1.5",children:[!je&&t.jsx(In,{size:12,className:`shrink-0 text-[var(--text-dim)] transition-transform ${Ue?"rotate-180":""}`}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-xs text-[var(--text-primary)] leading-tight",children:[ie.fundName,je&&t.jsx("span",{className:"ml-1.5 text-xs font-semibold text-violet-400 bg-violet-500/15 px-1.5 py-0.5 rounded",children:"Planned"})]}),je&&(Ee>0||_t>0)&&t.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[Ee>0&&t.jsxs("span",{className:"text-xs text-emerald-400 font-semibold",children:["Buy ",Q(Ee)]}),_t>0&&t.jsxs("span",{className:"text-xs text-blue-400 font-semibold",children:["SIP ",Q(_t),"/mo"]})]})]})]})}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:je?"":ie.units.toFixed(2)}),t.jsx("td",{className:"py-2.5 px-3 text-right",children:je?t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):t.jsxs(t.Fragment,{children:[t.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:["",ie.currentNav.toFixed(2)]}),t.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:["",ie.avgNav.toFixed(2)]})]})}),t.jsx("td",{className:"py-2.5 px-2 text-center",children:je?t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):ie.athNav>0&&ie.belowATHPct>0?t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm font-bold tabular-nums",style:_e,children:["",ie.belowATHPct.toFixed(1),"%"]}),t.jsxs("p",{className:"text-[11px] text-[var(--text-muted)] tabular-nums",children:["",ie.athNav.toFixed(0)]})]}):ie.athNav>0?t.jsx("span",{className:"text-[10px] text-emerald-400/70 font-semibold",children:"AT HIGH"}):t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),t.jsx("td",{className:"py-2.5 px-3 text-right",children:je?t.jsxs("p",{className:"text-xs font-semibold text-violet-400 tabular-nums",children:[ie.targetAllocationPct.toFixed(1),"%"]}):t.jsxs(t.Fragment,{children:[t.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:[ie.currentAllocationPct.toFixed(1),"%"]}),t.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:[ie.targetAllocationPct.toFixed(1),"%"]})]})}),t.jsx("td",{className:"py-2.5 px-3 text-right",children:je?t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(ie.currentValue)}),t.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:Q(ie.investment)})]})}),t.jsx("td",{className:"py-2.5 px-3 text-right",children:je?t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):t.jsxs(t.Fragment,{children:[t.jsxs("p",{className:`text-xs font-semibold tabular-nums ${ze?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ze?"+":"",Q(St)]}),t.jsxs("p",{className:`text-xs font-bold tabular-nums ${ze?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ze?"+":"",ie.plPct.toFixed(1),"%"]})]})}),t.jsx("td",{className:"py-2.5 px-2 text-center",children:t.jsxs("div",{className:"flex items-center gap-0.5 justify-center",children:[t.jsx("button",{onClick:be=>{be.stopPropagation(),P({invest:{portfolioId:ie.portfolioId,fundCode:ie.schemeCode,fundName:ie.fundName}})},className:"w-6 h-6 flex items-center justify-center rounded-full bg-emerald-500/15 text-emerald-400 hover:bg-emerald-500/25 transition-colors",title:"Buy / Invest",children:t.jsx(oa,{size:14,strokeWidth:2.5})}),!je&&t.jsx("button",{onClick:be=>{be.stopPropagation(),P({redeem:{portfolioId:ie.portfolioId,fundCode:ie.schemeCode}})},className:"w-6 h-6 flex items-center justify-center rounded-full bg-rose-500/15 text-rose-400 hover:bg-rose-500/25 transition-colors",title:"Sell / Redeem",children:t.jsx(xf,{size:14,strokeWidth:2.5})})]})})]}),Ue&&!je&&t.jsx("tr",{className:"border-b border-[var(--border-light)]",children:t.jsx("td",{colSpan:8,className:"p-0",children:t.jsxs("div",{className:"bg-[var(--bg-expanded)] border-t border-[var(--border-light)]",children:[t.jsxs("div",{className:"flex flex-col lg:flex-row",children:[t.jsx("div",{className:"lg:w-52 shrink-0 p-4 border-b lg:border-b-0 lg:border-r border-[var(--border-light)]",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Units"}),t.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums",children:ie.units.toFixed(3)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Avg NAV"}),t.jsxs("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums",children:["",ie.avgNav.toFixed(2)]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Invested"}),t.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums",children:Q(ie.investment)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Current Value"}),t.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums",children:Q(ie.currentValue)})]}),ie.ongoingSIP>0&&t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Monthly SIP"}),t.jsx("p",{className:"text-base font-bold text-blue-400 tabular-nums",children:Q(ie.ongoingSIP)})]}),t.jsxs("div",{className:"pt-3 border-t border-[var(--border-light)] flex gap-2",children:[t.jsxs("button",{onClick:be=>{be.stopPropagation(),P({invest:{portfolioId:ie.portfolioId,fundCode:ie.schemeCode,fundName:ie.fundName}})},className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-emerald-400 bg-emerald-500/10 hover:bg-emerald-500/20 rounded-lg transition-colors",children:[t.jsx("span",{className:"w-5 h-5 flex items-center justify-center rounded-full bg-emerald-500/20",children:t.jsx(oa,{size:12,strokeWidth:2.5})})," Buy"]}),t.jsxs("button",{onClick:be=>{be.stopPropagation(),P({redeem:{portfolioId:ie.portfolioId,fundCode:ie.schemeCode}})},className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-rose-400 bg-rose-500/10 hover:bg-rose-500/20 rounded-lg transition-colors",children:[t.jsx("span",{className:"w-5 h-5 flex items-center justify-center rounded-full bg-rose-500/20",children:t.jsx(xf,{size:12,strokeWidth:2.5})})," Sell"]})]})]})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"px-4 pt-3 pb-1",children:t.jsx("p",{className:"text-xs font-semibold text-[var(--text-secondary)]",children:"Transactions"})}),Nt.length===0?t.jsx("p",{className:"py-8 text-xs text-[var(--text-dim)] text-center",children:"No transactions recorded"}):t.jsxs(t.Fragment,{children:[t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[t.jsx("th",{className:"text-left py-2 px-4 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Date"}),t.jsx("th",{className:"text-left py-2 px-2 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Type"}),t.jsx("th",{className:"text-center py-2 px-2 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Days"}),t.jsx("th",{className:"text-right py-2 px-3 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Amount"}),t.jsx("th",{className:"text-right py-2 px-3 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"NAV"}),t.jsx("th",{className:"text-right py-2 px-3 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Units"}),t.jsx("th",{className:"text-right py-2 px-3 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"P&L"}),t.jsx("th",{className:"w-8 py-2 px-1"})]})}),t.jsx("tbody",{children:na.map((be,Kt)=>{const Ka=xn(be.date),$n=!!Ka,Vn=$n?Ka.toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):be.date||"",Gn=$n?is(be.date):null,os=be.type==="BUY",Qn=!os&&be.gainLoss!=null&&be.gainLoss!==0,Cr=Qn&&be.gainLoss>=0;return t.jsxs("tr",{className:"group border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[t.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-secondary)] tabular-nums whitespace-nowrap",children:Vn}),t.jsx("td",{className:"py-2.5 px-2",children:t.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded ${os?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:be.transactionType||be.type})}),t.jsx("td",{className:"py-2.5 px-2 text-xs text-[var(--text-dim)] tabular-nums text-center",children:Gn??""}),t.jsx("td",{className:"py-2.5 px-3 text-xs font-semibold text-[var(--text-primary)] tabular-nums text-right",children:Q(be.totalAmount)}),t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums text-right",children:Number(be.price).toFixed(4)}),t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums text-right",children:Number(be.units).toFixed(3)}),t.jsx("td",{className:`py-2.5 px-3 text-xs font-semibold tabular-nums text-right ${Qn?Cr?"text-emerald-400":"text-[var(--accent-rose)]":"text-[var(--text-dim)]"}`,children:Qn?`${Cr?"+":""}${Q(be.gainLoss)}`:""}),t.jsx("td",{className:"py-2.5 px-1",children:t.jsx(Kc,{txn:be,isOpen:he===be.transactionId,onToggle:()=>z(he===be.transactionId?null:be.transactionId),onEdit:()=>{z(null),P({editTxn:be})},onDelete:()=>{z(null),Ia(be.transactionId)}})})]},be.transactionId||`txn-${Kt}`)})})]}),Nt.length>qt&&t.jsx("div",{className:"py-2 text-center border-t border-[var(--border-light)]",children:t.jsxs("button",{onClick:be=>{be.stopPropagation(),fe(ie._key)},className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:["Show More (",Nt.length-qt," remaining)"]})})]})]})]}),t.jsx("div",{className:"flex justify-center py-1.5 border-t border-[var(--border-light)]",children:t.jsx("button",{onClick:()=>ee(ie._key),className:"p-0.5 text-[var(--text-dim)] hover:text-[var(--text-muted)]",children:t.jsx(t5,{size:14})})})]})})})]},ie._key)})})]})}),t.jsx("div",{className:"lg:hidden divide-y divide-[var(--border-light)]",children:me.map(ie=>{const _e=rg(ie.belowATHPct),je=ie.units===0,ve=Te.find(be=>be.portfolioId===ie.portfolioId),at=ve?.currentValue||0,Ue=ce===ie._key,St=ie.pl,ze=St>=0,Ee=je&&ie.targetAllocationPct>0&&ie.targetAllocationPct<100&&at>0?ie.targetAllocationPct/(100-ie.targetAllocationPct)*at:0,_t=je&&ie.targetAllocationPct>0&&ve?.sipTarget>=100?ie.targetAllocationPct/100*ve.sipTarget:0,Nt=Ue?(a||[]).filter(be=>be.portfolioId===ie.portfolioId&&be.fundCode===ie.schemeCode).sort((be,Kt)=>(xn(Kt.date)||0)-(xn(be.date)||0)):[],qt=B[ie._key]||5,na=Nt.slice(0,qt),is=be=>{const Kt=xn(be);return Kt?Math.floor((new Date-Kt)/864e5):null};return t.jsxs("div",{className:je?"opacity-60":"",children:[t.jsxs("div",{onClick:()=>!je&&ee(ie._key),className:`px-4 py-3 ${je?"":"cursor-pointer"} ${Ue?"bg-[var(--bg-hover)]":""}`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-1.5",children:[t.jsxs("div",{className:"flex-1 mr-3",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[!je&&t.jsx(In,{size:12,className:`shrink-0 text-[var(--text-dim)] transition-transform ${Ue?"rotate-180":""}`}),t.jsxs("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:[ie.fundName,je&&t.jsx("span",{className:"ml-1.5 text-xs font-semibold text-violet-400 bg-violet-500/15 px-1.5 py-0.5 rounded",children:"Planned"})]})]}),je&&(Ee>0||_t>0)&&t.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[Ee>0&&t.jsxs("span",{className:"text-xs text-emerald-400 font-semibold",children:["Buy ",Q(Ee)]}),_t>0&&t.jsxs("span",{className:"text-xs text-blue-400 font-semibold",children:["SIP ",Q(_t),"/mo"]})]})]}),je?t.jsxs("p",{className:"text-xs font-semibold text-violet-400 tabular-nums shrink-0",children:["Target: ",ie.targetAllocationPct.toFixed(1),"%"]}):t.jsxs("div",{className:"text-right shrink-0",children:[t.jsxs("p",{className:`text-xs font-bold tabular-nums ${ze?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ze?"+":"",Q(St)]}),t.jsxs("p",{className:`text-xs font-semibold tabular-nums ${ze?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ze?"+":"",ie.plPct.toFixed(1),"%"]})]})]}),je?t.jsx("div",{className:"flex items-center justify-end mt-1",children:t.jsxs("button",{onClick:be=>{be.stopPropagation(),P({invest:{portfolioId:ie.portfolioId,fundCode:ie.schemeCode,fundName:ie.fundName}})},className:"shrink-0 flex items-center gap-1 text-[10px] font-semibold text-emerald-400 hover:text-emerald-300 px-2 py-0.5 rounded bg-emerald-500/10",children:[t.jsx("span",{className:"w-4 h-4 flex items-center justify-center rounded-full bg-emerald-500/20",children:t.jsx(oa,{size:10,strokeWidth:2.5})})," Buy"]})}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center justify-between text-xs text-[var(--text-dim)]",children:[t.jsxs("div",{children:[t.jsxs("span",{children:[ie.units.toFixed(2)," units"]}),t.jsx("span",{className:"mx-1",children:""}),t.jsxs("span",{children:["NAV ",ie.currentNav.toFixed(2)," / ",ie.avgNav.toFixed(2)]})]}),t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(ie.currentValue)})]}),t.jsxs("div",{className:"flex items-center justify-between mt-1",children:[t.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)] flex-wrap",children:[t.jsxs("span",{children:["Alloc: ",ie.currentAllocationPct.toFixed(1),"% / ",ie.targetAllocationPct.toFixed(1),"%"]}),ie.athNav>0&&ie.belowATHPct>0?t.jsxs("span",{className:"font-bold tabular-nums",style:_e,children:["ATH ",ie.belowATHPct.toFixed(1),"%"]}):ie.athNav>0?t.jsx("span",{className:"text-emerald-400/70 font-semibold text-[10px]",children:"AT HIGH"}):null]}),t.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[t.jsxs("button",{onClick:be=>{be.stopPropagation(),P({invest:{portfolioId:ie.portfolioId,fundCode:ie.schemeCode,fundName:ie.fundName}})},className:"flex items-center gap-1 text-[10px] font-semibold text-emerald-400 hover:text-emerald-300 px-2 py-0.5 rounded bg-emerald-500/10",children:[t.jsx("span",{className:"w-4 h-4 flex items-center justify-center rounded-full bg-emerald-500/20",children:t.jsx(oa,{size:10,strokeWidth:2.5})})," Buy"]}),t.jsxs("button",{onClick:be=>{be.stopPropagation(),P({redeem:{portfolioId:ie.portfolioId,fundCode:ie.schemeCode}})},className:"flex items-center gap-1 text-[10px] font-semibold text-rose-400 hover:text-rose-300 px-2 py-0.5 rounded bg-rose-500/10",children:[t.jsx("span",{className:"w-4 h-4 flex items-center justify-center rounded-full bg-rose-500/20",children:t.jsx(xf,{size:10,strokeWidth:2.5})})," Sell"]})]})]})]})]}),Ue&&!je&&t.jsxs("div",{className:"bg-[var(--bg-inset)] border-l-2 border-l-violet-500/40 px-4 pb-3",children:[t.jsx("div",{className:"flex items-center justify-between py-2",children:t.jsxs("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:["Transactions (",Nt.length,")"]})}),Nt.length===0?t.jsx("p",{className:"py-4 text-xs text-[var(--text-dim)] text-center",children:"No transactions recorded"}):t.jsxs("div",{className:"space-y-2",children:[na.map((be,Kt)=>{const Ka=is(be.date),$n=be.type==="BUY",Vn=!$n&&be.gainLoss!=null&&be.gainLoss!==0,Gn=Vn&&be.gainLoss>=0;return t.jsxs("div",{className:"flex items-center justify-between text-xs bg-[var(--bg-card)] rounded-lg px-3 py-2",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("span",{className:"text-[var(--text-secondary)]",children:(xn(be.date)||new Date).toLocaleDateString("en-IN",{day:"2-digit",month:"short"})}),t.jsx("span",{className:`text-[10px] font-semibold px-1 py-0.5 rounded ${$n?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:be.transactionType||be.type}),t.jsxs("span",{className:"text-[var(--text-dim)]",children:[Ka,"d"]})]}),t.jsxs("p",{className:"text-[var(--text-dim)] mt-0.5",children:[Number(be.units).toFixed(3)," units @ ",Number(be.price).toFixed(2)]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"font-semibold text-[var(--text-primary)] tabular-nums",children:Q(be.totalAmount)}),Vn&&t.jsxs("p",{className:`font-semibold tabular-nums ${Gn?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Gn?"+":"",Q(be.gainLoss)]})]}),t.jsx(Kc,{txn:be,isOpen:he===be.transactionId,onToggle:()=>z(he===be.transactionId?null:be.transactionId),onEdit:()=>{z(null),P({editTxn:be})},onDelete:()=>{z(null),Ia(be.transactionId)}})]})]},be.transactionId||`txn-${Kt}`)}),Nt.length>qt&&t.jsxs("button",{onClick:()=>fe(ie._key),className:"w-full py-1.5 text-xs font-semibold text-violet-400 hover:text-violet-300 text-center",children:["Show More (",Nt.length-qt," remaining)"]})]})]})]},ie._key)})})]},R.portfolioId)})}):t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[t.jsx(Tl,{size:28,className:"text-[var(--text-dim)]"}),t.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No holdings",ht?" in this portfolio":""]}),t.jsx("button",{onClick:()=>P({invest:T!=="all"?T:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Add your first fund"})]})}),I==="transactions"&&t.jsxs(t.Fragment,{children:[jt.length>1&&t.jsxs("div",{className:"flex items-center gap-2 px-1",children:[t.jsx(Cy,{size:12,className:"text-[var(--text-dim)]"}),t.jsxs("select",{value:L,onChange:R=>re(R.target.value),className:"text-xs bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg px-3 py-1.5 max-w-[350px] truncate",children:[t.jsxs("option",{value:"all",children:["All Funds (",Pe.length,")"]}),jt.map(R=>t.jsxs("option",{value:R,children:[R," (",Pe.filter(V=>V.fundName===R).length,")"]},R))]}),L!=="all"&&t.jsx("button",{onClick:()=>re("all"),className:"text-xs text-[var(--text-dim)] hover:text-[var(--text-muted)] underline",children:"Clear"})]}),Yt.length>0?t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[t.jsx("div",{className:"hidden sm:block overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[t.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),t.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),t.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Fund"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"NAV"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Gain/Loss"}),t.jsx("th",{className:"w-8"})]})}),t.jsx("tbody",{children:Yt.map((R,V)=>{const me=R.type==="BUY",De=!me&&R.gainLoss!=null&&R.gainLoss!==0,qe=De&&R.gainLoss>=0,ie=T==="all"?Te.find(je=>je.portfolioId===R.portfolioId):null,_e={INITIAL:{bg:"bg-purple-500/15",text:"text-purple-400"},SIP:{bg:"bg-blue-500/15",text:"text-blue-400"},LUMPSUM:{bg:"bg-emerald-500/15",text:"text-emerald-400"},WITHDRAWAL:{bg:"bg-rose-500/15",text:"text-[var(--accent-rose)]"},SWITCH:{bg:"bg-amber-500/15",text:"text-amber-400"}}[R.transactionType]||{bg:"bg-gray-500/15",text:"text-[var(--text-muted)]"};return t.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:R.date}),t.jsx("td",{className:"py-2.5 px-3",children:t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${me?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:R.type}),t.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${_e.bg} ${_e.text}`,children:R.transactionType})]})}),t.jsxs("td",{className:"py-2.5 px-3",children:[t.jsx("p",{className:"text-xs text-[var(--text-primary)] truncate max-w-[200px]",children:R.fundName}),ie&&t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:Qc(ie.portfolioName)})]}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:R.units.toFixed(2)}),t.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:["",R.price.toFixed(2)]}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(R.totalAmount)}),t.jsx("td",{className:"py-2.5 px-3 text-right",children:De?t.jsxs("span",{className:`text-xs font-semibold tabular-nums ${qe?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[qe?"+":"",Q(R.gainLoss)]}):t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),t.jsx("td",{className:"py-2.5 px-1",children:t.jsx(Kc,{txn:R,isOpen:he===R.transactionId,onToggle:()=>z(he===R.transactionId?null:R.transactionId),onEdit:()=>{z(null),P({editTxn:R})},onDelete:()=>{z(null),Ia(R.transactionId)}})})]},R.transactionId||`txn-${V}`)})})]})}),t.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:Yt.map((R,V)=>{const me=R.type==="BUY",De=!me&&R.gainLoss!=null&&R.gainLoss!==0,qe=De&&R.gainLoss>=0;return t.jsxs("div",{className:"px-4 py-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${me?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:R.type}),t.jsx("span",{className:"text-xs font-semibold text-[var(--text-dim)]",children:R.transactionType})]}),t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:R.date}),t.jsx(Kc,{txn:R,isOpen:he===R.transactionId,onToggle:()=>z(he===R.transactionId?null:R.transactionId),onEdit:()=>{z(null),P({editTxn:R})},onDelete:()=>{z(null),Ia(R.transactionId)}})]})]}),t.jsx("p",{className:"text-xs text-[var(--text-primary)] truncate mb-1",children:R.fundName}),t.jsxs("div",{className:"flex items-center justify-between text-xs",children:[t.jsxs("p",{className:"text-[var(--text-dim)]",children:[R.units.toFixed(2)," units @ ",R.price.toFixed(2)]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(R.totalAmount)}),De&&t.jsxs("p",{className:`text-xs font-semibold tabular-nums ${qe?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["G/L: ",qe?"+":"",Q(R.gainLoss)]})]})]}),R.notes&&t.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:R.notes})]},R.transactionId||`txn-m-${V}`)})})]}):t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[t.jsx(bu,{size:28,className:"text-[var(--text-dim)]"}),t.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:L!=="all"?"No transactions for this fund":"No transactions yet"}),L!=="all"?t.jsx("button",{onClick:()=>re("all"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Show all transactions"}):t.jsx("button",{onClick:()=>P({invest:T!=="all"?T:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Make your first investment"})]})]}),I==="allocations"&&t.jsx(t.Fragment,{children:Tt.length>0?t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)] px-1",children:"Configure asset class and market cap breakdown per fund for accurate portfolio analytics."}),Tt.map(R=>t.jsx(mE,{fund:R,existing:S?.find(V=>V.fundCode===R.fundCode),onSave:y},R.fundCode))]}):t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[t.jsx(z0,{size:28,className:"text-[var(--text-dim)]"}),t.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No funds to configure allocations for"})]})})]}),t.jsx(Qt,{open:q==="addPortfolio"||!!q?.editPortfolio,onClose:()=>P(null),title:q?.editPortfolio?"Edit Portfolio":"New MF Portfolio",children:t.jsx(xA,{initial:q?.editPortfolio||void 0,onSave:Jt,onDelete:q?.editPortfolio?dt:void 0,onCancel:()=>P(null)})}),t.jsx(Qt,{open:!!q?.invest,onClose:()=>P(null),title:"Invest in Mutual Fund",wide:!0,children:t.jsx(rE,{portfolioId:typeof q?.invest=="object"?q.invest.portfolioId:typeof q?.invest=="string"?q.invest:void 0,fundCode:typeof q?.invest=="object"?q.invest.fundCode:void 0,fundName:typeof q?.invest=="object"?q.invest.fundName:void 0,onSave:ea,onCancel:()=>P(null)},q?.invest?.fundCode||q?.invest?.portfolioId||q?.invest)}),t.jsx(Qt,{open:!!q?.redeem,onClose:()=>P(null),title:"Redeem Mutual Fund",wide:!0,children:t.jsx(sE,{portfolioId:typeof q?.redeem=="object"?q.redeem.portfolioId:typeof q?.redeem=="string"?q.redeem:void 0,fundCode:typeof q?.redeem=="object"?q.redeem.fundCode:void 0,onSave:Na,onCancel:()=>P(null)},q?.redeem?.fundCode||q?.redeem?.portfolioId||q?.redeem)}),t.jsx(Qt,{open:!!q?.switchFunds,onClose:()=>P(null),title:"Switch Funds",wide:!0,children:t.jsx(lE,{portfolioId:typeof q?.switchFunds=="string"?q.switchFunds:void 0,onSave:Rt,onCancel:()=>P(null)})}),t.jsx(Qt,{open:!!q?.allocations,onClose:()=>P(null),title:"Manage Portfolio Allocation",wide:!0,children:q?.allocations&&t.jsx(iE,{portfolioId:q.allocations,onSave:Z,onCancel:()=>P(null)})}),t.jsx(Qt,{open:q==="rebalance",onClose:()=>P(null),title:"Rebalance Portfolios",wide:!0,children:q==="rebalance"&&t.jsx(D1,{})}),t.jsx(Qt,{open:q==="buyOpp",onClose:()=>P(null),title:"Buy Opportunities",wide:!0,children:q==="buyOpp"&&t.jsx(By,{})}),t.jsx(Qt,{open:!!q?.editTxn,onClose:()=>P(null),title:"Edit Transaction",children:q?.editTxn&&t.jsx(uE,{txn:q.editTxn,onSave:Ie,onCancel:()=>P(null)})})]})}function kl({label:s,value:l,sub:r,positive:a,bold:o}){return t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),t.jsx("p",{className:`text-sm tabular-nums ${o?"font-bold":"font-semibold"} ${a===void 0?"text-[var(--text-primary)]":a?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:l}),r&&t.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${a?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}function Kc({txn:s,isOpen:l,onToggle:r,onEdit:a,onDelete:o}){const u=N.useRef(null),[d,m]=N.useState({top:0,right:0});if(!s.transactionId)return null;function x(p){if(p.stopPropagation(),!l&&u.current){const v=u.current.getBoundingClientRect();m({top:v.bottom+4,right:window.innerWidth-v.right})}r()}return t.jsxs(t.Fragment,{children:[t.jsx("button",{ref:u,onClick:x,className:"p-1 rounded-md text-[var(--text-dim)] hover:text-[var(--text-muted)] hover:bg-[var(--bg-hover)] transition-colors",title:"Actions",children:t.jsx(b5,{size:14})}),l&&lp.createPortal(t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{position:"fixed",inset:0,zIndex:9998},onClick:p=>{p.stopPropagation(),r()}}),t.jsxs("div",{style:{position:"fixed",top:d.top,right:d.right,zIndex:9999},className:"bg-[var(--bg-dropdown)] border border-white/10 rounded-lg shadow-2xl py-1 min-w-[120px] animate-fade-in",children:[t.jsxs("button",{onClick:p=>{p.stopPropagation(),a()},className:"w-full text-left px-3 py-2 text-xs text-[var(--text-secondary)] hover:bg-[var(--bg-hover)] hover:text-[var(--text-primary)] flex items-center gap-2 transition-colors",children:[t.jsx(dn,{size:12})," Edit"]}),t.jsxs("button",{onClick:p=>{p.stopPropagation(),o()},className:"w-full text-left px-3 py-2 text-xs text-[var(--accent-rose)] hover:bg-rose-500/10 flex items-center gap-2 transition-colors",children:[t.jsx(Pu,{size:12})," Delete"]})]})]}),document.body)]})}function uE({txn:s,onSave:l,onCancel:r}){const[a,o]=N.useState(()=>{const S=xn(s.date);return S?S.toISOString().split("T")[0]:""}),[u,d]=N.useState(String(s.units||"")),[m,x]=N.useState(String(s.price||"")),[p,v]=N.useState(s.notes||""),[b,g]=N.useState(!1),w=(Number(u)||0)*(Number(m)||0);async function M(){if(!(!u||Number(u)<=0)&&!(!m||Number(m)<=0)){g(!0);try{await l({transactionId:s.transactionId,date:a,units:u,price:m,notes:p})}finally{g(!1)}}}return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:s.fundName}),t.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[s.type,"  ",s.transactionType,"  ",s.transactionId]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Date"}),t.jsx(Fn,{value:a,onChange:o})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Units"}),t.jsx("input",{type:"number",value:u,onChange:S=>d(S.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"NAV (price)"}),t.jsx("input",{type:"number",value:m,onChange:S=>x(S.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]})]}),w>0&&t.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),t.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(w)})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Notes"}),t.jsx("input",{type:"text",value:p,onChange:S=>v(S.target.value),placeholder:"Optional notes...",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),t.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-[var(--border-light)]",children:[t.jsx("button",{onClick:r,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:"Cancel"}),t.jsx("button",{onClick:M,disabled:b||!u||Number(u)<=0||!m||Number(m)<=0,className:"px-4 py-2 text-xs font-bold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Saving...":"Update Transaction"})]})]})}const sg=[{key:"Equity",color:"bg-violet-500",label:"Equity"},{key:"Debt",color:"bg-sky-500",label:"Debt"},{key:"Commodities",color:"bg-yellow-500",label:"Commodities"},{key:"Cash",color:"bg-teal-400",label:"Cash"},{key:"Real Estate",color:"bg-slate-400",label:"Other"}],dE=[{key:"Large",color:"bg-blue-500",label:"Large"},{key:"Mid",color:"bg-amber-500",label:"Mid"},{key:"Small",color:"bg-rose-500",label:"Small"}];function mE({fund:s,existing:l,onSave:r}){const[a,o]=N.useState(!1),[u,d]=N.useState(!1),[m,x]=N.useState(!1),[p,v]=N.useState(l?.assetAllocation?.Equity||0),[b,g]=N.useState(l?.assetAllocation?.Debt||0),[w,M]=N.useState(l?.assetAllocation?.Cash||0),[S,y]=N.useState(l?.assetAllocation?.Commodities||0),[j,D]=N.useState(l?.assetAllocation?.["Real Estate"]||0),[k,_]=N.useState(l?.equityAllocation?.Large||0),[O,q]=N.useState(l?.equityAllocation?.Mid||0),[P,T]=N.useState(l?.equityAllocation?.Small||0),F=p+b+w+S+j,I=k+O+P,$=F===100||F===0,A=I===100||I===0||p===0,se=l?.assetAllocation&&Object.keys(l.assetAllocation).length>0,ce=l?.equityAllocation&&Object.keys(l.equityAllocation).length>0;async function le(){if(!(!$||!A)){d(!0);try{await r({fundCode:s.fundCode,fundName:s.fundName,equity:p,debt:b,cash:w,commodities:S,realEstate:j,largeCap:k,midCap:O,smallCap:P}),x(!0),o(!1),setTimeout(()=>x(!1),2e3)}finally{d(!1)}}}return t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate",children:s.fundName}),t.jsx("p",{className:"text-[10px] text-[var(--text-dim)] tabular-nums mt-0.5",children:s.fundCode})]}),t.jsxs("div",{className:"flex items-center gap-1.5 shrink-0 ml-3",children:[m&&t.jsx(If,{size:14,className:"text-emerald-400"}),!a&&t.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-1 px-2.5 py-1 text-[10px] font-semibold text-violet-400 hover:text-violet-300 bg-violet-500/10 hover:bg-violet-500/20 rounded-md transition-colors",children:[t.jsx(dn,{size:10})," ",se?"Edit":"Set"]})]})]}),se&&!a&&t.jsxs("div",{className:"px-4 pb-3",children:[t.jsx("div",{className:"h-2 rounded-full overflow-hidden bg-[var(--bg-inset)] flex mb-1.5",children:sg.map(({key:B,color:W})=>{const L=l.assetAllocation[B]||0;return L>0?t.jsx("div",{className:`h-full ${W}`,style:{width:`${L}%`}},B):null})}),t.jsxs("div",{className:"flex flex-wrap gap-x-3 gap-y-0.5",children:[sg.map(({key:B,color:W,label:L})=>{const re=l.assetAllocation[B]||0;return re>0?t.jsxs("span",{className:"flex items-center gap-1 text-[11px] text-[var(--text-muted)] tabular-nums",children:[t.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${W}`}),re,"% ",L]},B):null}),ce&&t.jsxs("span",{className:"text-[11px] text-[var(--text-dim)] tabular-nums ml-1",children:["| ",dE.map(({key:B,label:W})=>{const L=l.equityAllocation[B]||0;return L>0?`${W[0]}${L}`:""}).filter(Boolean).join(" ")]})]})]}),!se&&!a&&t.jsxs("div",{className:"px-4 pb-3",children:[t.jsx("div",{className:"h-2 rounded-full bg-[var(--bg-inset)] mb-1"}),t.jsx("p",{className:"text-[10px] text-[var(--text-dim)] italic",children:"Not configured  click Set to add allocation data"})]}),a&&t.jsxs("div",{className:"px-4 pb-3 border-t border-[var(--border-light)] pt-3",children:[t.jsx("p",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider mb-2",children:"Asset Class %"}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-1",children:[{label:"Equity",val:p,set:v},{label:"Debt",val:b,set:g},{label:"Commodities",val:S,set:y},{label:"Cash",val:w,set:M},{label:"Other",val:j,set:D}].map(B=>t.jsxs("div",{className:"w-20",children:[t.jsx("label",{className:"block text-[10px] text-[var(--text-dim)] mb-0.5",children:B.label}),t.jsx("input",{type:"number",min:"0",max:"100",value:B.val||"",onChange:W=>B.set(Number(W.target.value)||0),className:"w-full px-1.5 py-1 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-md tabular-nums text-center"})]},B.label))}),t.jsxs("p",{className:`text-[10px] tabular-nums mb-2 ${$?"text-[var(--text-dim)]":"text-[var(--accent-rose)] font-semibold"}`,children:["Total: ",F,"% ",!$&&" must equal 100%"]}),p>0&&t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider mb-2",children:"Equity Cap %"}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-1",children:[{label:"Large",val:k,set:_},{label:"Mid",val:O,set:q},{label:"Small",val:P,set:T}].map(B=>t.jsxs("div",{className:"w-20",children:[t.jsx("label",{className:"block text-[10px] text-[var(--text-dim)] mb-0.5",children:B.label}),t.jsx("input",{type:"number",min:"0",max:"100",value:B.val||"",onChange:W=>B.set(Number(W.target.value)||0),className:"w-full px-1.5 py-1 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-md tabular-nums text-center"})]},B.label))}),t.jsxs("p",{className:`text-[10px] tabular-nums mb-2 ${A?"text-[var(--text-dim)]":"text-[var(--accent-rose)] font-semibold"}`,children:["Total: ",I,"% ",!A&&" must equal 100%"]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[t.jsx("button",{onClick:()=>o(!1),className:"px-3 py-1.5 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:"Cancel"}),t.jsxs("button",{onClick:le,disabled:u||!$||!A,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-bold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(Oy,{size:12})," ",u?"Saving...":"Save"]})]})]})]})}function fE({initial:s,onSave:l,onDelete:r,onCancel:a}){const{activeMembers:o,activeInvestmentAccounts:u}=tt(),d=!!s,[m,x]=N.useState({portfolioName:s?.portfolioName||"",ownerId:s?.ownerId||"",investmentAccountId:s?.investmentAccountId||""}),[p,v]=N.useState({}),[b,g]=N.useState(!1);function w(k,_){x(O=>({...O,[k]:_})),v(O=>({...O,[k]:void 0}))}function M(k){x(_=>({..._,ownerId:k,investmentAccountId:""})),v(_=>({..._,ownerId:void 0}))}const S=N.useMemo(()=>m.ownerId?u.filter(k=>k.memberId===m.ownerId&&(k.accountType==="Demat + Trading"||k.accountType==="Trading")).map(k=>({value:k.accountId,label:`${k.accountName} - ${k.platformBroker}`})):[],[u,m.ownerId]);function y(){const k={};return m.portfolioName.trim()||(k.portfolioName="Required"),m.ownerId||(k.ownerId="Required"),m.investmentAccountId||(k.investmentAccountId="Required"),v(k),Object.keys(k).length===0}async function j(){if(y()){g(!0);try{await l(m)}finally{g(!1)}}}const D=o.map(k=>({value:k.memberId,label:`${k.memberName} (${k.relationship})`}));return t.jsxs("div",{className:"space-y-4",children:[t.jsx(ae,{label:"Portfolio Name",required:!0,error:p.portfolioName,children:t.jsx(Ne,{value:m.portfolioName,onChange:k=>w("portfolioName",k),placeholder:"e.g., Long-Term Growth"})}),t.jsx(ae,{label:"Owner",required:!0,error:p.ownerId,children:t.jsx(Ye,{value:m.ownerId,onChange:M,options:D,placeholder:"Select family member..."})}),t.jsx(ae,{label:"Investment Account",required:!0,error:p.investmentAccountId,children:t.jsx(Ye,{value:m.investmentAccountId,onChange:k=>w("investmentAccountId",k),options:S,placeholder:m.ownerId?S.length?"Select demat account...":"No demat accounts for this member":"Select owner first..."})}),d&&r&&t.jsx(wr,{onClick:r}),t.jsx(ya,{onCancel:a,onSubmit:j,submitLabel:d?"Update":"Create Portfolio",loading:b})]})}function pE({portfolioId:s,onSave:l,onCancel:r}){const{stockPortfolios:a}=tt(),{selectedMember:o}=ca(),u=N.useMemo(()=>{const D=a.filter(k=>k.status==="Active");return o==="all"?D:D.filter(k=>k.ownerId===o)},[a,o]),[d,m]=N.useState({portfolioId:s||"",symbol:"",companyName:"",exchange:"NSE",date:new Date().toISOString().split("T")[0],quantity:"",pricePerShare:"",brokerage:"0",notes:""}),[x,p]=N.useState({}),[v,b]=N.useState(!1);function g(D,k){m(_=>({..._,[D]:k})),p(_=>({..._,[D]:void 0}))}const w=N.useMemo(()=>{const D=Number(d.quantity)||0,k=Number(d.pricePerShare)||0;return D*k},[d.quantity,d.pricePerShare]),M=N.useMemo(()=>w+(Number(d.brokerage)||0),[w,d.brokerage]);function S(){const D={};return d.portfolioId||(D.portfolioId="Required"),d.symbol.trim()||(D.symbol="Required"),d.companyName.trim()||(D.companyName="Required"),d.date||(D.date="Required"),(!d.quantity||Number(d.quantity)<=0)&&(D.quantity="Must be > 0"),(!d.pricePerShare||Number(d.pricePerShare)<=0)&&(D.pricePerShare="Must be > 0"),p(D),Object.keys(D).length===0}async function y(){if(S()){b(!0);try{await l(d)}finally{b(!1)}}}const j=u.map(D=>{const k=D.portfolioName?.replace(/^PFL-/,"")||D.portfolioName,_=D.ownerName?`${k} (${D.ownerName})`:k;return{value:D.portfolioId,label:_}});return t.jsxs("div",{className:"space-y-4",children:[t.jsx(ae,{label:"Portfolio",required:!0,error:x.portfolioId,children:t.jsx(Ye,{value:d.portfolioId,onChange:D=>g("portfolioId",D),options:j,placeholder:"Select portfolio..."})}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ae,{label:"Stock Symbol",required:!0,error:x.symbol,children:t.jsx(Ne,{value:d.symbol,onChange:D=>g("symbol",D.toUpperCase()),placeholder:"e.g., RELIANCE"})}),t.jsx(ae,{label:"Company Name",required:!0,error:x.companyName,children:t.jsx(Ne,{value:d.companyName,onChange:D=>g("companyName",D),placeholder:"e.g., Reliance Industries Ltd"})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[t.jsx(ae,{label:"Purchase Date",required:!0,error:x.date,children:t.jsx(Fn,{value:d.date,onChange:D=>g("date",D)})}),t.jsx(ae,{label:"Quantity (Shares)",required:!0,error:x.quantity,children:t.jsx(Ne,{type:"number",value:d.quantity,onChange:D=>g("quantity",D),placeholder:"e.g., 100"})}),t.jsx(ae,{label:"Price per Share ()",required:!0,error:x.pricePerShare,children:t.jsx(Ne,{type:"number",value:d.pricePerShare,onChange:D=>g("pricePerShare",D),placeholder:"e.g., 2500"})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ae,{label:"Brokerage ()",children:t.jsx(Ne,{type:"number",value:d.brokerage,onChange:D=>g("brokerage",D),placeholder:"0"})}),t.jsx("div",{className:"flex flex-col justify-end",children:t.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),t.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(w)}),Number(d.brokerage)>0&&t.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:["Net: ",Q(M)]})]})})]}),t.jsx(ae,{label:"Notes",children:t.jsx(Ne,{value:d.notes,onChange:D=>g("notes",D),placeholder:"Optional notes..."})}),t.jsx(ya,{onCancel:r,onSubmit:y,submitLabel:"Buy Stock",loading:v})]})}function xE({portfolioId:s,onSave:l,onCancel:r}){const{stockPortfolios:a,stockHoldings:o}=tt(),{selectedMember:u}=ca(),d=N.useMemo(()=>{const F=a.filter(I=>I.status==="Active");return u==="all"?F:F.filter(I=>I.ownerId===u)},[a,u]),[m,x]=N.useState({portfolioId:s||"",symbol:"",companyName:"",date:new Date().toISOString().split("T")[0],quantity:"",pricePerShare:"",brokerage:"0",notes:""}),[p,v]=N.useState({}),[b,g]=N.useState(!1);function w(F,I){x($=>({...$,[F]:I})),v($=>({...$,[F]:void 0}))}const M=N.useMemo(()=>m.portfolioId?o.filter(F=>F.portfolioId===m.portfolioId&&F.quantity>0):[],[o,m.portfolioId]),S=M.find(F=>F.symbol===m.symbol),y=S?.quantity||0,j=N.useMemo(()=>{const F=Number(m.quantity)||0,I=Number(m.pricePerShare)||0;return F*I},[m.quantity,m.pricePerShare]),D=N.useMemo(()=>j-(Number(m.brokerage)||0),[j,m.brokerage]);function k(F){const I=M.find($=>$.symbol===F);x($=>({...$,symbol:F,companyName:I?.companyName||""})),v($=>({...$,symbol:void 0}))}function _(F){x(I=>({...I,portfolioId:F,symbol:"",companyName:"",quantity:""})),v(I=>({...I,portfolioId:void 0}))}function O(){const F={};return m.portfolioId||(F.portfolioId="Required"),m.symbol||(F.symbol="Required"),m.date||(F.date="Required"),(!m.quantity||Number(m.quantity)<=0)&&(F.quantity="Must be > 0"),Number(m.quantity)>y&&(F.quantity=`Max ${y} shares`),(!m.pricePerShare||Number(m.pricePerShare)<=0)&&(F.pricePerShare="Must be > 0"),v(F),Object.keys(F).length===0}async function q(){if(O()){g(!0);try{await l(m)}finally{g(!1)}}}const P=d.map(F=>{const I=F.portfolioName?.replace(/^PFL-/,"")||F.portfolioName,$=F.ownerName?`${I} (${F.ownerName})`:I;return{value:F.portfolioId,label:$}}),T=M.map(F=>({value:F.symbol,label:`${F.symbol}  ${F.quantity} shares`}));return t.jsxs("div",{className:"space-y-4",children:[t.jsx(ae,{label:"Portfolio",required:!0,error:p.portfolioId,children:t.jsx(Ye,{value:m.portfolioId,onChange:_,options:P,placeholder:"Select portfolio..."})}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ae,{label:"Stock to Sell",required:!0,error:p.symbol,children:t.jsx(Ye,{value:m.symbol,onChange:k,options:T,placeholder:m.portfolioId?M.length?"Select stock...":"No holdings in this portfolio":"Select portfolio first..."})}),S&&t.jsx("div",{className:"flex flex-col justify-end",children:t.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:S.companyName}),t.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",t.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:y})," shares @ ",Q(S.avgBuyPrice)," avg"]})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ae,{label:"Sale Date",required:!0,error:p.date,children:t.jsx(Fn,{value:m.date,onChange:F=>w("date",F)})}),t.jsx(ae,{label:"Quantity to Sell",required:!0,error:p.quantity,children:t.jsx(Ne,{type:"number",value:m.quantity,onChange:F=>w("quantity",F),placeholder:y?`Max: ${y}`:""})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ae,{label:"Sale Price per Share ()",required:!0,error:p.pricePerShare,children:t.jsx(Ne,{type:"number",value:m.pricePerShare,onChange:F=>w("pricePerShare",F),placeholder:"e.g., 2750"})}),t.jsx(ae,{label:"Brokerage ()",children:t.jsx(Ne,{type:"number",value:m.brokerage,onChange:F=>w("brokerage",F),placeholder:"0"})})]}),j>0&&t.jsx("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Net Sale Amount"}),t.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(D)})]}),S&&t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. P&L"}),(()=>{const F=Number(m.quantity)*S.avgBuyPrice,I=D-F,$=I>=0;return t.jsxs("p",{className:`text-sm font-bold tabular-nums ${$?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[$?"+":"",Q(I)]})})()]})]})}),t.jsx(ae,{label:"Notes",children:t.jsx(Ne,{value:m.notes,onChange:F=>w("notes",F),placeholder:"Optional notes..."})}),t.jsx(ya,{onCancel:r,onSubmit:q,submitLabel:"Sell Stock",loading:b})]})}function hE(){const{selectedMember:s}=ca(),{stockPortfolios:l,stockHoldings:r,stockTransactions:a,activeInvestmentAccounts:o,addStockPortfolio:u,updateStockPortfolio:d,deleteStockPortfolio:m,buyStock:x,sellStock:p}=tt(),{showToast:v,showBlockUI:b,hideBlockUI:g}=Hn(),w=Yn(),{mv:M}=qn(),[S,y]=N.useState(null),[j,D]=N.useState("all"),[k,_]=N.useState("holdings"),[O,q]=N.useState(!1),P=N.useMemo(()=>{if(!l)return[];const L=l.filter(re=>re.status!=="Inactive");return s==="all"?L:L.filter(re=>re.ownerId===s)},[l,s]),T=N.useMemo(()=>r?P.map(L=>{const re=r.filter(ke=>ke.portfolioId===L.portfolioId),he=(a||[]).filter(ke=>ke.portfolioId===L.portfolioId),z=re.reduce((ke,Pe)=>ke+Pe.totalInvestment,0),ee=re.reduce((ke,Pe)=>ke+Pe.currentValue,0),fe=ee-z,xe=he.filter(ke=>ke.type==="SELL"&&ke.realizedPL!=null).reduce((ke,Pe)=>ke+Pe.realizedPL,0),Ae=fe+xe,Te=z>0?Ae/z*100:0,we=o.find(ke=>ke.accountId===L.investmentAccountId);return{...L,holdings:re,txns:he,invested:z,current:ee,unrealizedPL:fe,realizedPL:xe,totalPL:Ae,totalPLPct:Te,stockCount:re.length,platform:we?.platformBroker||L.investmentAccountName||"",clientId:we?.accountClientId||""}}):[],[P,r,a,o]),F=N.useMemo(()=>{const L=j==="all"?T:T.filter(we=>we.portfolioId===j),re=L.reduce((we,ke)=>we+ke.invested,0),he=L.reduce((we,ke)=>we+ke.current,0),z=L.reduce((we,ke)=>we+ke.unrealizedPL,0),ee=L.reduce((we,ke)=>we+ke.realizedPL,0),fe=z+ee,xe=re>0?fe/re*100:0,Ae=re>0?z/re*100:0,Te=L.reduce((we,ke)=>we+ke.stockCount,0);return{invested:re,current:he,unrealizedPL:z,unrealizedPLPct:Ae,realizedPL:ee,totalPL:fe,totalPLPct:xe,stocks:Te}},[T,j]),I=N.useMemo(()=>r?j==="all"?r.filter(L=>P.some(re=>re.portfolioId===L.portfolioId)):r.filter(L=>L.portfolioId===j):[],[r,P,j]),$=N.useMemo(()=>a?(j==="all"?a.filter(re=>P.some(he=>he.portfolioId===re.portfolioId)):a.filter(re=>re.portfolioId===j)).sort((re,he)=>new Date(he.date)-new Date(re.date)):[],[a,P,j]);if(l===null||r===null)return t.jsx(Sr,{title:"Loading stocks",cards:5});const A=T.find(L=>L.portfolioId===j),se=j==="all"?`All Portfolios (${P.length})`:`${A?.portfolioName}  ${M(A?.ownerName,"name")}`;async function ce(L){b("Saving...");try{S?.editPortfolio?await d(S.editPortfolio.portfolioId,L):await u(L),v(S?.editPortfolio?"Portfolio updated":"Portfolio created"),y(null)}catch(re){v(re.message||"Failed to save portfolio","error")}finally{g()}}async function le(){if(S?.editPortfolio&&await w("Deactivate this portfolio?",{title:"Deactivate Portfolio",confirmLabel:"Deactivate"})){b("Deactivating...");try{await m(S.editPortfolio.portfolioId),v("Portfolio deactivated"),D("all"),y(null)}catch(L){v(L.message||"Failed to deactivate portfolio","error")}finally{g()}}}async function B(L){b("Recording purchase...");try{await x(L),v("Stock purchase recorded"),y(null)}catch(re){v(re.message||"Failed to record purchase","error")}finally{g()}}async function W(L){b("Recording sale...");try{await p(L),v("Stock sale recorded"),y(null)}catch(re){v(re.message||"Failed to record sale","error")}finally{g()}}return t.jsxs("div",{className:"space-y-4",children:[P.length===0?t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[t.jsx(to,{size:32,className:"text-[var(--text-dim)]"}),t.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No stock portfolios yet"}),t.jsx("button",{onClick:()=>y("addPortfolio"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first portfolio"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>q(!O),className:"flex items-center gap-2 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm font-semibold text-[var(--text-primary)] hover:border-[var(--border-light)] transition-colors min-w-[220px]",children:[t.jsx(to,{size:14,className:"text-violet-400 shrink-0"}),t.jsx("span",{className:"truncate",children:se}),t.jsx(In,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${O?"rotate-180":""}`})]}),O&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>q(!1)}),t.jsxs("div",{className:"absolute left-0 top-full mt-1 z-40 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl min-w-[280px] py-1 overflow-hidden",children:[t.jsxs("button",{onClick:()=>{D("all"),q(!1),_("holdings")},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${j==="all"?"bg-[var(--sidebar-active-bg)] text-[var(--text-primary)] font-semibold":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:["All Portfolios (",P.length,")"]}),t.jsx("div",{className:"border-t border-[var(--border-light)]"}),T.map(L=>{const re=L.totalPL>=0;return t.jsx("button",{onClick:()=>{D(L.portfolioId),q(!1),_("holdings")},className:`w-full text-left px-4 py-2.5 transition-colors ${j===L.portfolioId?"bg-[var(--sidebar-active-bg)]":"hover:bg-[var(--bg-hover)]"}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:`text-sm ${j===L.portfolioId?"font-semibold text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:L.portfolioName}),t.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[M(L.ownerName,"name"),"  ",L.platform]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(L.current)}),t.jsxs("p",{className:`text-xs font-semibold tabular-nums ${re?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[re?"+":"",L.totalPLPct.toFixed(1),"%"]})]})]})},L.portfolioId)})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[A&&t.jsxs("button",{onClick:()=>y({editPortfolio:A}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[t.jsx(dn,{size:12})," Edit"]}),t.jsxs("button",{onClick:()=>y("addPortfolio"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[t.jsx(oa,{size:14})," New Portfolio"]})]})]}),A&&t.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-dim)] px-1",children:[t.jsxs("span",{children:[t.jsx("span",{className:"font-semibold",children:"Platform:"})," ",A.platform]}),t.jsxs("span",{children:[t.jsx("span",{className:"font-semibold",children:"Client ID:"})," ",M(A.clientId,"clientId")]}),t.jsxs("span",{children:[t.jsx("span",{className:"font-semibold",children:"Stocks:"})," ",A.stockCount]})]}),t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[t.jsx(Zi,{label:"Invested",value:Q(F.invested)}),t.jsx(Zi,{label:"Current Value",value:Q(F.current),bold:!0}),t.jsx(Zi,{label:"Unrealized P&L",value:`${F.unrealizedPL>=0?"+":""}${Q(F.unrealizedPL)}`,sub:`${F.unrealizedPLPct>=0?"+":""}${F.unrealizedPLPct.toFixed(1)}%`,positive:F.unrealizedPL>=0}),t.jsx(Zi,{label:"Realized P&L",value:`${F.realizedPL>=0?"+":""}${Q(F.realizedPL)}`,positive:F.realizedPL>=0}),t.jsx(Zi,{label:"Total P&L",value:`${F.totalPL>=0?"+":""}${Q(F.totalPL)}`,sub:`${F.totalPLPct>=0?"+":""}${F.totalPLPct.toFixed(1)}%`,positive:F.totalPL>=0,bold:!0})]}),t.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[t.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5",children:[t.jsxs("button",{onClick:()=>_("holdings"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${k==="holdings"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[t.jsx(Dy,{size:12})," Holdings (",I.length,")"]}),t.jsxs("button",{onClick:()=>_("transactions"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${k==="transactions"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[t.jsx(bu,{size:12})," Transactions (",$.length,")"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>j!=="all"&&y({buy:j}),disabled:j==="all",className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${j==="all"?"bg-emerald-600/40 text-white/50 cursor-not-allowed":"text-white bg-emerald-600 hover:bg-emerald-500"}`,title:j==="all"?"Select a portfolio first":"",children:[t.jsx(Ll,{size:14})," Buy"]}),t.jsxs("button",{onClick:()=>j!=="all"&&I.length>0&&y({sell:j}),disabled:j==="all"||I.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${j==="all"||I.length===0?"bg-rose-600/40 text-white/50 cursor-not-allowed":"text-white bg-rose-600 hover:bg-rose-500"}`,title:j==="all"?"Select a portfolio first":"",children:[t.jsx(zu,{size:14})," Sell"]})]})]}),k==="holdings"&&t.jsx(t.Fragment,{children:I.length>0?t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[t.jsx("div",{className:"hidden sm:block overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[t.jsx("th",{className:"text-left py-2 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Stock"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Qty"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Avg Price"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current Price"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Invested"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current Value"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Returns"})]})}),t.jsxs("tbody",{children:[I.map(L=>{const re=L.unrealizedPL>=0,he=j==="all"?T.find(z=>z.portfolioId===L.portfolioId):null;return t.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[t.jsxs("td",{className:"py-2.5 px-4",children:[t.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:L.companyName}),t.jsxs("p",{className:"text-xs font-mono text-[var(--text-dim)]",children:[L.symbol,he&&t.jsxs("span",{className:"ml-1.5 text-[var(--text-dim)] font-sans",children:[" ",he.portfolioName]})]})]}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:L.quantity}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:Q(L.avgBuyPrice)}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(L.currentPrice)}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:Q(L.totalInvestment)}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(L.currentValue)}),t.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-semibold tabular-nums ${re?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[re?"+":"",Q(L.unrealizedPL)]}),t.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-bold tabular-nums ${re?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[re?"+":"",L.unrealizedPLPct.toFixed(1),"%"]})]},L.holdingId)}),t.jsxs("tr",{className:"bg-[var(--bg-inset)] border-t-2 border-[var(--border-light)]",children:[t.jsxs("td",{className:"py-2.5 px-4 text-xs font-semibold text-[var(--text-muted)]",children:["Total (",I.length," stocks)"]}),t.jsx("td",{colSpan:3,className:"py-2.5 px-3"}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(F.invested)}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(F.current)}),t.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-semibold tabular-nums ${F.unrealizedPL>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[F.unrealizedPL>=0?"+":"",Q(F.unrealizedPL)]}),t.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-bold tabular-nums ${F.unrealizedPL>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[F.unrealizedPLPct>=0?"+":"",F.unrealizedPLPct.toFixed(1),"%"]})]})]})]})}),t.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:I.map(L=>{const re=L.unrealizedPL>=0,he=j==="all"?T.find(z=>z.portfolioId===L.portfolioId):null;return t.jsxs("div",{className:"px-4 py-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:L.companyName}),t.jsxs("p",{className:"text-xs font-mono text-[var(--text-dim)]",children:[L.symbol,he&&t.jsxs("span",{className:"ml-1 font-sans",children:[" ",he.portfolioName]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:`text-xs font-bold tabular-nums ${re?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[re?"+":"",L.unrealizedPLPct.toFixed(1),"%"]}),t.jsxs("p",{className:`text-xs font-semibold tabular-nums ${re?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[re?"+":"",Q(L.unrealizedPL)]})]})]}),t.jsxs("div",{className:"flex items-center justify-between text-xs",children:[t.jsxs("div",{className:"text-[var(--text-dim)]",children:[t.jsxs("span",{children:[L.quantity," shares"]}),t.jsx("span",{className:"mx-1",children:""}),t.jsxs("span",{children:["Avg ",Q(L.avgBuyPrice)]}),t.jsx("span",{className:"mx-1",children:""}),t.jsxs("span",{children:["CMP ",Q(L.currentPrice)]})]}),t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(L.currentValue)})]})]},L.holdingId)})})]}):t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[t.jsx(to,{size:28,className:"text-[var(--text-dim)]"}),t.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No holdings",A?" in this portfolio":""]}),t.jsx("button",{onClick:()=>y({buy:j!=="all"?j:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Buy your first stock"})]})}),k==="transactions"&&t.jsx(t.Fragment,{children:$.length>0?t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[t.jsx("div",{className:"hidden sm:block overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[t.jsx("th",{className:"text-left py-2 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),t.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),t.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Stock"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Qty"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Price"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Brokerage"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Net"}),t.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Realized P&L"})]})}),t.jsx("tbody",{children:$.map(L=>{const re=L.type==="BUY",he=!re&&L.realizedPL!=null,z=he&&L.realizedPL>=0,ee=j==="all"?T.find(fe=>fe.portfolioId===L.portfolioId):null;return t.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[t.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-secondary)]",children:L.date}),t.jsx("td",{className:"py-2.5 px-3",children:t.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${re?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:L.type})}),t.jsxs("td",{className:"py-2.5 px-3",children:[t.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:L.symbol}),t.jsxs("p",{className:"text-xs text-[var(--text-dim)] truncate max-w-[140px]",children:[L.companyName,ee&&t.jsxs("span",{children:["  ",ee.portfolioName]})]})]}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:L.quantity}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:Q(L.pricePerShare)}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:Q(L.totalAmount)}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-dim)] tabular-nums",children:L.brokerage>0?Q(L.brokerage):""}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(L.netAmount)}),t.jsx("td",{className:"py-2.5 px-3 text-right",children:he?t.jsxs("span",{className:`text-xs font-semibold tabular-nums ${z?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[z?"+":"",Q(L.realizedPL)]}):t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})]},L.transactionId)})})]})}),t.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:$.map(L=>{const re=L.type==="BUY",he=!re&&L.realizedPL!=null,z=he&&L.realizedPL>=0;return t.jsxs("div",{className:"px-4 py-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${re?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:L.type}),t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:L.symbol})]}),t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:L.date})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[L.quantity," shares @ ",Q(L.pricePerShare)]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(L.netAmount)}),he&&t.jsxs("p",{className:`text-xs font-semibold tabular-nums ${z?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["P&L: ",z?"+":"",Q(L.realizedPL)]})]})]}),L.notes&&t.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:L.notes})]},L.transactionId)})})]}):t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[t.jsx(bu,{size:28,className:"text-[var(--text-dim)]"}),t.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions yet"}),t.jsx("button",{onClick:()=>y({buy:j!=="all"?j:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Make your first purchase"})]})})]}),t.jsx(Qt,{open:S==="addPortfolio"||!!S?.editPortfolio,onClose:()=>y(null),title:S?.editPortfolio?"Edit Portfolio":"New Stock Portfolio",children:t.jsx(fE,{initial:S?.editPortfolio||void 0,onSave:ce,onDelete:S?.editPortfolio?le:void 0,onCancel:()=>y(null)})}),t.jsx(Qt,{open:!!S?.buy,onClose:()=>y(null),title:"Buy Stock",wide:!0,children:t.jsx(pE,{portfolioId:typeof S?.buy=="string"?S.buy:void 0,onSave:B,onCancel:()=>y(null)})}),t.jsx(Qt,{open:!!S?.sell,onClose:()=>y(null),title:"Sell Stock",wide:!0,children:t.jsx(xE,{portfolioId:typeof S?.sell=="string"?S.sell:void 0,onSave:W,onCancel:()=>y(null)})})]})}function Zi({label:s,value:l,sub:r,positive:a,bold:o}){return t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),t.jsx("p",{className:`text-sm tabular-nums ${o?"font-bold":"font-semibold"} ${a===void 0?"text-[var(--text-primary)]":a?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:l}),r&&t.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${a?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}const vE=["Self","Spouse","Father","Mother","Son","Daughter","Brother","Sister","Other"].map(s=>({value:s,label:s})),Xc={pan:/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/,aadhar:/^\d{12}$/,email:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,mobile:/^\d{10}$/};function bE({initial:s,onSave:l,onDelete:r,onCancel:a}){const o=!!s,[u,d]=N.useState({memberName:s?.memberName||"",relationship:s?.relationship||"",pan:s?.pan||"",aadhar:s?.aadhar||"",email:s?.email||"",mobile:s?.mobile||"",includeInEmailReports:s?.includeInEmailReports??!0,status:s?.status||"Active"}),[m,x]=N.useState({}),[p,v]=N.useState(!1),[b,g]=N.useState(()=>{const k=s?.dynamicFields||{};return Object.entries(k).map(([_,O])=>({key:_,value:O}))});function w(k,_){d(O=>({...O,[k]:_})),x(O=>({...O,[k]:void 0}))}function M(){const k={};return u.memberName.trim()||(k.memberName="Required"),u.relationship||(k.relationship="Required"),Xc.pan.test(u.pan.toUpperCase())||(k.pan="Format: ABCDE1234F"),Xc.aadhar.test(u.aadhar)||(k.aadhar="12 digits required"),Xc.email.test(u.email)||(k.email="Invalid email"),Xc.mobile.test(u.mobile)||(k.mobile="10 digits required"),x(k),Object.keys(k).length===0}function S(){g(k=>[...k,{key:"",value:""}])}function y(k,_,O){g(q=>q.map((P,T)=>T===k?{...P,[_]:O}:P))}function j(k){g(_=>_.filter((O,q)=>q!==k))}async function D(){if(!M())return;const k={};b.forEach(({key:_,value:O})=>{const q=_.trim();q&&(k[q]=O)}),v(!0);try{await l({...u,pan:u.pan.toUpperCase(),dynamicFields:k})}finally{v(!1)}}return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ae,{label:"Member Name",required:!0,error:m.memberName,children:t.jsx(Ne,{value:u.memberName,onChange:k=>w("memberName",k),placeholder:"e.g., Jagadeesh"})}),t.jsx(ae,{label:"Relationship",required:!0,error:m.relationship,children:t.jsx(Ye,{value:u.relationship,onChange:k=>w("relationship",k),options:vE,placeholder:"Select..."})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ae,{label:"PAN",required:!0,error:m.pan,children:t.jsx(Ne,{sensitive:!0,value:u.pan,onChange:k=>w("pan",k.toUpperCase()),placeholder:"ABCDE1234F",maxLength:10})}),t.jsx(ae,{label:"Aadhar",required:!0,error:m.aadhar,children:t.jsx(Ne,{sensitive:!0,value:u.aadhar,onChange:k=>w("aadhar",k.replace(/\D/g,"")),placeholder:"123456789012",maxLength:12})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ae,{label:"Email",required:!0,error:m.email,children:t.jsx(Ne,{sensitive:!0,type:"email",value:u.email,onChange:k=>w("email",k),placeholder:"email@example.com"})}),t.jsx(ae,{label:"Mobile",required:!0,error:m.mobile,children:t.jsx(Ne,{sensitive:!0,value:u.mobile,onChange:k=>w("mobile",k.replace(/\D/g,"")),placeholder:"9876543210",maxLength:10})})]}),t.jsx(M3,{checked:u.includeInEmailReports,onChange:k=>w("includeInEmailReports",k),label:"Include in email reports"}),o&&t.jsx(ae,{label:"Status",children:t.jsx(Ye,{value:u.status,onChange:k=>w("status",k),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)]",children:"Custom Fields"}),t.jsxs("button",{onClick:S,type:"button",className:"flex items-center gap-1 text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[t.jsx(oa,{size:12})," Add Field"]})]}),b.length===0&&t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"No custom fields. Add DOB, occupation, blood group, etc."}),t.jsx("div",{className:"space-y-2",children:b.map((k,_)=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{value:k.key,onChange:O=>y(_,"key",O.target.value),placeholder:"Field name",className:"flex-1 px-2.5 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] transition-colors"}),t.jsx("input",{value:k.value,onChange:O=>y(_,"value",O.target.value),placeholder:"Value",className:"flex-1 px-2.5 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] transition-colors"}),t.jsx("button",{onClick:()=>j(_),type:"button",className:"p-1 text-[var(--text-dim)] hover:text-rose-400 transition-colors",children:t.jsx(Pu,{size:13})})]},_))})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[o&&r?t.jsx(wr,{onClick:r}):t.jsx("div",{}),t.jsx(ya,{onCancel:a,onSubmit:D,submitLabel:o?"Update":"Add Member",loading:p})]})]})}const Wc=["from-violet-500 to-indigo-500","from-rose-500 to-pink-500","from-blue-500 to-cyan-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],lg={Self:"bg-violet-500/15 text-[var(--accent-violet)]",Spouse:"bg-rose-500/15 text-[var(--accent-rose)]",Father:"bg-blue-500/15 text-[var(--accent-blue)]",Mother:"bg-amber-500/15 text-[var(--accent-amber)]",Son:"bg-emerald-500/15 text-emerald-400",Daughter:"bg-emerald-500/15 text-emerald-400"};function gE(){const{members:s,addMember:l,updateMember:r,deleteMember:a}=tt(),{showToast:o,showBlockUI:u,hideBlockUI:d}=Hn(),m=Yn(),{mv:x}=qn(),[p,v]=N.useState(null);if(s===null)return t.jsx(Sr,{title:"Loading family",cards:3});const b=s.filter(M=>M.status!=="Inactive");async function g(M){u("Saving member...");try{p?.edit?await r(p.edit.memberId,M):await l(M),o(p?.edit?"Member updated":"Member added"),v(null)}catch(S){o(S.message||"Failed to save member","error")}finally{d()}}async function w(){if(p?.edit&&await m("Deactivate this family member?",{title:"Deactivate Member",confirmLabel:"Deactivate"})){u("Deactivating...");try{await a(p.edit.memberId),o("Member deactivated"),v(null)}catch(M){o(M.message||"Failed to deactivate member","error")}finally{d()}}}return[...new Set(b.flatMap(M=>Object.keys(M.dynamicFields||{})))],t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"flex items-center justify-end px-1",children:t.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[t.jsx(oa,{size:14})," Add Member"]})}),b.length===0?t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[t.jsx(Il,{size:32,className:"text-[var(--text-dim)]"}),t.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No family members yet"}),t.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first member"})]}):t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[t.jsx("div",{className:"hidden sm:block overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm min-w-[640px]",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[t.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Relationship"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"PAN"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Aadhaar"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Email"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Mobile"}),t.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),t.jsx("tbody",{children:b.map((M,S)=>{const y=M.dynamicFields||{},j=Object.entries(y);return t.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[t.jsx("td",{className:"py-2.5 px-4",children:t.jsxs("div",{className:"flex items-center gap-2.5",children:[t.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white bg-gradient-to-br ${Wc[S%Wc.length]}`,children:M.memberName.charAt(0)}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:x(M.memberName,"name")}),j.length>0&&t.jsxs("div",{className:"flex flex-wrap gap-1 mt-0.5",children:[j.slice(0,3).map(([D,k])=>t.jsxs("span",{className:"text-[10px] text-[var(--text-dim)] bg-[var(--bg-inset)] px-1.5 py-0.5 rounded",children:[D,": ",k]},D)),j.length>3&&t.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["+",j.length-3," more"]})]})]})]})}),t.jsx("td",{className:"py-2.5 px-3",children:t.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${lg[M.relationship]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.relationship})}),t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] font-mono tabular-nums",children:x(M.pan,"pan")||""}),t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] font-mono tabular-nums",children:x(M.aadhar,"aadhaar")||""}),t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] truncate max-w-[180px]",children:x(M.email,"email")}),t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:x(M.mobile,"mobile")}),t.jsx("td",{className:"py-2.5 px-2",children:t.jsx("button",{onClick:()=>v({edit:M}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:t.jsx(dn,{size:12})})})]},M.memberId)})})]})}),t.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map((M,S)=>{const y=M.dynamicFields||{},j=Object.entries(y);return t.jsxs("div",{onClick:()=>v({edit:M}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[t.jsxs("div",{className:"flex items-center gap-2.5 mb-1.5",children:[t.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white bg-gradient-to-br ${Wc[S%Wc.length]}`,children:M.memberName.charAt(0)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:x(M.memberName,"name")}),t.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${lg[M.relationship]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.relationship})]}),t.jsx("p",{className:"text-xs text-[var(--text-muted)] truncate",children:x(M.email,"email")})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:x(M.mobile,"mobile")}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("p",{className:"text-xs text-[var(--text-dim)] font-mono",children:["PAN: ",x(M.pan,"pan")||""]}),M.aadhar&&t.jsxs("p",{className:"text-xs text-[var(--text-dim)] font-mono",children:["Aadhaar: ",x(M.aadhar,"aadhaar")]})]})]}),j.length>0&&t.jsxs("div",{className:"flex flex-wrap gap-1 mt-1.5",children:[j.slice(0,3).map(([D,k])=>t.jsxs("span",{className:"text-[10px] text-[var(--text-dim)] bg-[var(--bg-inset)] px-1.5 py-0.5 rounded",children:[D,": ",k]},D)),j.length>3&&t.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["+",j.length-3," more"]})]})]},M.memberId)})})]}),t.jsx(Qt,{open:!!p,onClose:()=>v(null),title:p?.edit?"Edit Member":"Add Family Member",wide:!0,children:t.jsx(bE,{initial:p?.edit||void 0,onSave:g,onDelete:p?.edit?w:void 0,onCancel:()=>v(null)})})]})}const ig=["Retirement","Emergency Fund","Child Education","Home Purchase","Car","Travel","Wedding","Custom"].map(s=>({value:s,label:s})),og=[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}],Zc={Retirement:{inflation:6,cagr:12},"Emergency Fund":{inflation:0,cagr:7},"Child Education":{inflation:10,cagr:12},"Home Purchase":{inflation:8,cagr:12},Wedding:{inflation:6,cagr:12},Car:{inflation:5,cagr:10},Travel:{inflation:6,cagr:10},Custom:{inflation:6,cagr:12}},cg=[{label:"Basics",icon:mo},{label:"Financials",icon:h5},{label:"Review",icon:Kl}];function yE({initial:s,onSave:l,onDelete:r,onCancel:a}){const o=!!s,{activeMembers:u}=tt(),d=(u||[]).map(T=>({value:T.memberId,label:T.relationship?`${T.memberName} (${T.relationship})`:T.memberName})),[m,x]=N.useState(0),[p,v]=N.useState(()=>{if(o){const T=(s.expectedInflation||.06)*100,F=(s.expectedCAGR||.12)*100,I=s.targetDate?Math.max(0,(new Date(s.targetDate)-new Date)/(365.25*24*60*60*1e3)):0,$=T/100;let A=s.targetAmount||0;$>0&&I>0&&s.goalType!=="Emergency Fund"&&(A=s.targetAmount/Math.pow(1+$,I));const se=u.find(ce=>ce.memberName===s.familyMemberName);return{goalType:s.goalType||"",goalName:s.goalName||"",familyMemberId:se?.memberId||"",todaysCost:Math.round(A).toString(),targetDate:s.targetDate||"",lumpsum:(s.lumpsumInvested||0).toString(),monthlySIP:(s.monthlyInvestment||0).toString(),inflation:T.toString(),cagr:F.toString(),priority:s.priority||"Medium",notes:s.notes||"",monthlyExpenses:(s.monthlyExpenses||"").toString(),emergencyMonths:(s.emergencyMonths||6).toString()}}return{goalType:"",goalName:"",familyMemberId:"",todaysCost:"",targetDate:"",lumpsum:"",monthlySIP:"",inflation:"6",cagr:"12",priority:"Medium",notes:"",monthlyExpenses:"",emergencyMonths:"6"}}),[b,g]=N.useState({}),[w,M]=N.useState(!1);function S(T,F){v(I=>({...I,[T]:F})),g(I=>({...I,[T]:void 0}))}N.useEffect(()=>{if(o||!p.goalType)return;const T=Zc[p.goalType]||Zc.Custom;v(F=>({...F,inflation:T.inflation.toString(),cagr:T.cagr.toString()}))},[p.goalType,o]);const y=p.goalType==="Retirement",j=p.goalType==="Emergency Fund",D=N.useMemo(()=>{const T=(Number(p.inflation)||0)/100,I=(Number(p.cagr)||0)/100/12,$=Number(p.lumpsum)||0,A=Number(p.monthlyExpenses)||0,se=Number(p.emergencyMonths)||6,ce=p.targetDate?Math.max(0,(new Date(p.targetDate)-new Date)/(365.25*24*60*60*1e3)):0,le=Math.round(ce*12);let B=0,W=0;y?(B=A*12*25,W=B*Math.pow(1+T,ce)):j?(B=A*se,W=B):(B=Number(p.todaysCost)||0,W=T>0&&ce>0?B*Math.pow(1+T,ce):B),W=Math.round(W);const L=$>0&&le>0?$*Math.pow(1+I,le):$;let re=0;if(W>0&&le>0){const xe=W-L;xe>0&&I>0?re=xe/((Math.pow(1+I,le)-1)/I):xe>0&&(re=xe/le),re=Math.max(0,Math.ceil(re))}const he=re>0&&I>0&&le>0?re*((Math.pow(1+I,le)-1)/I):re*le,z=Math.round($+re*le),ee=Math.round(W-z),fe=$>0&&L>=W;return{todaysCost:B,inflatedTarget:W,yearsToGo:ce,months:le,fvLumpsum:Math.round(L),requiredSIP:re,fvRequiredSIP:Math.round(he),planTotalInvested:z,planReturns:ee,lumpsumCoversGoal:fe,hasTarget:W>0}},[p.todaysCost,p.targetDate,p.lumpsum,p.inflation,p.cagr,p.monthlyExpenses,p.emergencyMonths,y,j]);function k(T){const F={};return T===0&&(p.goalType||(F.goalType="Required"),p.goalName.trim()||(F.goalName="Required")),T===1&&(p.targetDate||(F.targetDate="Required"),y||j?(!p.monthlyExpenses||Number(p.monthlyExpenses)<=0)&&(F.monthlyExpenses="Required"):(!p.todaysCost||Number(p.todaysCost)<=0)&&(F.todaysCost="Must be > 0")),g(F),Object.keys(F).length===0}function _(){const T={};return p.goalType||(T.goalType="Required"),p.goalName.trim()||(T.goalName="Required"),p.targetDate||(T.targetDate="Required"),y||j?(!p.monthlyExpenses||Number(p.monthlyExpenses)<=0)&&(T.monthlyExpenses="Required"):(!p.todaysCost||Number(p.todaysCost)<=0)&&(T.todaysCost="Must be > 0"),g(T),Object.keys(T).length===0}function O(){k(m)&&x(T=>Math.min(T+1,2))}async function q(){if(!_())return;const T=p.familyMemberId&&u.find(F=>F.memberId===p.familyMemberId)?.memberName||"Family";M(!0);try{await l({goalType:p.goalType,goalName:p.goalName,familyMemberId:p.familyMemberId||"",familyMember:T,targetAmount:D.inflatedTarget,targetDate:p.targetDate,priority:p.priority,notes:p.notes,expectedInflation:(Number(p.inflation)||0)/100,expectedCAGR:(Number(p.cagr)||0)/100,monthlyInvestment:D.requiredSIP||0,lumpsumInvested:Number(p.lumpsum)||0,monthlyExpenses:y||j?Number(p.monthlyExpenses)||0:void 0,emergencyMonths:j?Number(p.emergencyMonths)||6:void 0,isRetirement:y,currentCost:D.todaysCost})}finally{M(!1)}}const P=p.familyMemberId&&u.find(T=>T.memberId===p.familyMemberId)?.memberName||"Family";return o?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ae,{label:"Goal Type",required:!0,error:b.goalType,children:t.jsx(Ye,{value:p.goalType,onChange:T=>S("goalType",T),options:ig,placeholder:"Select type..."})}),t.jsx(ae,{label:"Goal Name",required:!0,error:b.goalName,children:t.jsx(Ne,{value:p.goalName,onChange:T=>S("goalName",T),placeholder:"e.g., Retirement Fund (2045)"})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ae,{label:"For",error:b.familyMemberId,children:t.jsx(Ye,{value:p.familyMemberId,onChange:T=>S("familyMemberId",T),options:d,placeholder:"Family (Default)"})}),t.jsx(ae,{label:"Target Date",required:!0,error:b.targetDate,children:t.jsx(Fn,{value:p.targetDate,onChange:T=>S("targetDate",T),maxDate:null})})]}),y||j?t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ae,{label:"Monthly Expenses",required:!0,error:b.monthlyExpenses,children:t.jsx(Ne,{type:"number",value:p.monthlyExpenses,onChange:T=>S("monthlyExpenses",T),placeholder:"e.g., 50000"})}),j&&t.jsx(ae,{label:"Emergency Months",children:t.jsx(Ne,{type:"number",value:p.emergencyMonths,onChange:T=>S("emergencyMonths",T),placeholder:"6"})})]}):t.jsx(ae,{label:"Today's Cost",required:!0,error:b.todaysCost,children:t.jsx(Ne,{type:"number",value:p.todaysCost,onChange:T=>S("todaysCost",T),placeholder:"e.g., 1000000"})}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[t.jsx(ae,{label:"Inflation %",children:t.jsx(Ne,{type:"number",value:p.inflation,onChange:T=>S("inflation",T),placeholder:"6"})}),t.jsx(ae,{label:"Expected CAGR %",children:t.jsx(Ne,{type:"number",value:p.cagr,onChange:T=>S("cagr",T),placeholder:"12"})}),t.jsx(ae,{label:"Lumpsum Invested",children:t.jsx(Ne,{type:"number",value:p.lumpsum,onChange:T=>S("lumpsum",T),placeholder:"0"})})]}),D.hasTarget&&t.jsx(ug,{calc:D,inflation:p.inflation,isRetirement:y,isEmergency:j}),t.jsx(ae,{label:"Priority",children:t.jsx(Ye,{value:p.priority,onChange:T=>S("priority",T),options:og})}),t.jsx(ae,{label:"Notes",children:t.jsx(Ul,{value:p.notes,onChange:T=>S("notes",T),placeholder:"Optional notes...",rows:2})}),t.jsxs("div",{className:"flex items-center justify-between",children:[r?t.jsx(wr,{onClick:r}):t.jsx("div",{}),t.jsx(ya,{onCancel:a,onSubmit:q,submitLabel:"Update Goal",loading:w})]})]}):t.jsxs("div",{className:"space-y-5",children:[t.jsx("div",{className:"flex items-center gap-1 mb-2",children:cg.map((T,F)=>{const I=T.icon,$=F===m,A=F<m;return t.jsxs("div",{className:"flex items-center flex-1",children:[t.jsxs("button",{onClick:()=>{F<m&&x(F)},className:`flex items-center gap-1.5 text-xs font-semibold transition-colors ${$?"text-violet-400":A?"text-emerald-400 cursor-pointer":"text-[var(--text-dim)]"}`,children:[t.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold border ${$?"border-violet-400 bg-violet-500/15":A?"border-emerald-400 bg-emerald-500/15":"border-[var(--border)] bg-[var(--bg-inset)]"}`,children:A?t.jsx(Kl,{size:12}):t.jsx(I,{size:12})}),t.jsx("span",{className:"hidden sm:inline",children:T.label})]}),F<cg.length-1&&t.jsx("div",{className:`flex-1 h-px mx-2 ${A?"bg-emerald-400/40":"bg-[var(--border)]"}`})]},T.label)})}),m===0&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Tell us about your financial goal"}),t.jsx(ae,{label:"Goal Type",required:!0,error:b.goalType,children:t.jsx(Ye,{value:p.goalType,onChange:T=>S("goalType",T),options:ig,placeholder:"Select type..."})}),p.goalType&&t.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)]",children:[t.jsx(Ll,{size:12,className:"text-[var(--text-dim)] shrink-0"}),t.jsxs("p",{className:"text-[11px] text-[var(--text-muted)]",children:["Default: ",Zc[p.goalType]?.inflation||6,"% inflation, ",Zc[p.goalType]?.cagr||12,"% CAGR",y&&"  Uses 25x annual expenses rule",j&&"  No inflation applied"]})]}),t.jsx(ae,{label:"Goal Name",required:!0,error:b.goalName,children:t.jsx(Ne,{value:p.goalName,onChange:T=>S("goalName",T),placeholder:"e.g., Retirement Fund (2045)"})}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ae,{label:"For",error:b.familyMemberId,children:t.jsx(Ye,{value:p.familyMemberId,onChange:T=>S("familyMemberId",T),options:d,placeholder:"Family (Default)"})}),t.jsx(ae,{label:"Priority",children:t.jsx(Ye,{value:p.priority,onChange:T=>S("priority",T),options:og})})]})]}),m===1&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:y?"Set your retirement timeline and monthly expenses":j?"Set your emergency fund requirements":"Set your target and investment plan"}),y||j?t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ae,{label:"Target Date",required:!0,error:b.targetDate,children:t.jsx(Fn,{value:p.targetDate,onChange:T=>S("targetDate",T),maxDate:null})}),t.jsx(ae,{label:"Monthly Expenses (Today)",required:!0,error:b.monthlyExpenses,children:t.jsx(Ne,{type:"number",value:p.monthlyExpenses,onChange:T=>S("monthlyExpenses",T),placeholder:"e.g., 50000"})}),j&&t.jsx(ae,{label:"Emergency Fund (Months)",children:t.jsx(Ne,{type:"number",value:p.emergencyMonths,onChange:T=>S("emergencyMonths",T),placeholder:"6"})}),y&&t.jsx("div",{className:"sm:col-span-2",children:t.jsxs("p",{className:"text-[11px] text-[var(--text-dim)]",children:["Corpus = Monthly Expenses x 12 x 25 = ",Q(D.todaysCost)," (today)"]})})]}):t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ae,{label:"Target Date",required:!0,error:b.targetDate,children:t.jsx(Fn,{value:p.targetDate,onChange:T=>S("targetDate",T),maxDate:null})}),t.jsx(ae,{label:"Today's Cost",required:!0,error:b.todaysCost,children:t.jsx(Ne,{type:"number",value:p.todaysCost,onChange:T=>S("todaysCost",T),placeholder:"e.g., 1000000"})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx(ae,{label:`Inflation Rate (%)${j?"  N/A":""}`,children:t.jsx(Ne,{type:"number",value:p.inflation,onChange:T=>S("inflation",T),placeholder:"6"})}),t.jsx(ae,{label:"Expected Returns (CAGR %)",children:t.jsx(Ne,{type:"number",value:p.cagr,onChange:T=>S("cagr",T),placeholder:"12"})})]}),D.hasTarget&&t.jsx(ug,{calc:D,inflation:p.inflation,isRetirement:y,isEmergency:j}),t.jsx(ae,{label:"Lumpsum You Plan to Invest (Optional)",children:t.jsx(Ne,{type:"number",value:p.lumpsum,onChange:T=>S("lumpsum",T),placeholder:"e.g., 500000"})}),D.hasTarget&&D.months>0&&t.jsx(dg,{calc:D,lumpsum:p.lumpsum}),t.jsx(ae,{label:"Notes",children:t.jsx(Ul,{value:p.notes,onChange:T=>S("notes",T),placeholder:"Optional notes...",rows:2})})]}),m===2&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Review your goal before saving"}),t.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-4 space-y-3",children:[t.jsx(Ea,{label:"Goal",value:p.goalName,bold:!0}),t.jsx(Ea,{label:"Type",value:p.goalType,color:"violet"}),t.jsx(Ea,{label:"Member",value:P}),t.jsx(Ea,{label:"Priority",value:p.priority,badge:p.priority==="High"?"rose":p.priority==="Low"?"blue":"amber"}),t.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3 space-y-2",children:[(y||j)&&t.jsx(Ea,{label:"Monthly Expenses",value:Q(Number(p.monthlyExpenses)||0)}),j&&t.jsx(Ea,{label:"Emergency Months",value:p.emergencyMonths}),!y&&!j&&t.jsx(Ea,{label:"Today's Cost",value:Q(D.todaysCost)}),t.jsx(Ea,{label:"Inflation",value:`${p.inflation}% p.a.`}),t.jsx(Ea,{label:"Expected CAGR",value:`${p.cagr}% p.a.`}),t.jsx(Ea,{label:"Future Value (Inflated)",value:Q(D.inflatedTarget),bold:!0,color:"violet"})]}),t.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3 space-y-2",children:[t.jsx(Ea,{label:"Lumpsum",value:Q(Number(p.lumpsum)||0)}),t.jsx(Ea,{label:"Required SIP",value:`${Q(D.requiredSIP)}/mo`,color:"emerald"}),t.jsx(Ea,{label:"Target Date",value:p.targetDate}),t.jsx(Ea,{label:"Time Remaining",value:D.yearsToGo>0?`${D.yearsToGo.toFixed(1)} years`:""})]})]}),D.hasTarget&&D.months>0&&t.jsx(dg,{calc:D,lumpsum:p.lumpsum,compact:!0})]}),t.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-[var(--border-light)]",children:[t.jsx("div",{children:m>0&&t.jsxs("button",{onClick:()=>x(T=>T-1),className:"flex items-center gap-1 px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:[t.jsx(yy,{size:14})," Back"]})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:a,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),m<2?t.jsxs("button",{onClick:O,className:"flex items-center gap-1 px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors",children:["Next ",t.jsx(ao,{size:14})]}):t.jsx("button",{onClick:q,disabled:w,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Saving...":"Create Goal"})]})]})]})}function ug({calc:s,inflation:l,isRetirement:r,isEmergency:a}){return a?t.jsx("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-blue-500/5 border border-blue-500/15",children:t.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Emergency Fund: ",t.jsx("span",{className:"font-bold text-[var(--text-primary)]",children:Q(s.inflatedTarget)}),t.jsx("span",{className:"text-[var(--text-dim)]",children:" (no inflation applied)"})]})}):t.jsxs("div",{className:"flex items-center justify-between gap-2 px-3 py-2 rounded-lg bg-violet-500/5 border border-violet-500/15",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-semibold text-[var(--text-dim)] uppercase tracking-wider",children:r?"Corpus Today":"Today's Cost"}),t.jsx("p",{className:"text-xs font-semibold text-[var(--text-secondary)]",children:Q(s.todaysCost)})]}),t.jsxs("div",{className:"text-center",children:[t.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[l,"% x ",s.yearsToGo.toFixed(1),"yrs"]}),t.jsx(ao,{size:12,className:"text-violet-400 mx-auto"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-[10px] font-semibold text-violet-400 uppercase tracking-wider",children:"Future Value"}),t.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)]",children:Q(s.inflatedTarget)})]})]})}function dg({calc:s,lumpsum:l,compact:r}){const a=Number(l)||0;return r?t.jsxs("div",{className:"rounded-lg border p-3 bg-violet-500/5 border-violet-500/15",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Required Monthly SIP"}),t.jsxs("span",{className:"text-sm font-bold text-violet-400 tabular-nums",children:[s.lumpsumCoversGoal?"0":Q(s.requiredSIP),"/mo"]})]}),s.lumpsumCoversGoal&&t.jsx("p",{className:"text-[10px] text-emerald-400 mt-1",children:"Lumpsum alone covers this goal!"})]}):t.jsxs("div",{className:"rounded-lg border p-3 space-y-2 bg-violet-500/5 border-violet-500/15",children:[s.lumpsumCoversGoal?t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(Kl,{size:12,className:"text-emerald-400"}),t.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-emerald-400",children:"Lumpsum Covers Goal"})]}):t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-violet-400",children:"Required Monthly SIP"}),t.jsxs("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:[Q(s.requiredSIP),"/mo"]})]}),s.planTotalInvested>0&&t.jsxs("div",{className:"border-t border-[var(--border-light)] pt-2 space-y-1",children:[a>0&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{className:"text-[11px] text-[var(--text-dim)]",children:["Lumpsum ",Q(a)," grows to"]}),t.jsx("span",{className:"text-[11px] font-semibold text-emerald-400 tabular-nums",children:Q(s.fvLumpsum)})]}),s.requiredSIP>0&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{className:"text-[11px] text-[var(--text-dim)]",children:["SIP ",Q(s.requiredSIP),"/mo x ",s.months," months"]}),t.jsx("span",{className:"text-[11px] font-semibold text-blue-400 tabular-nums",children:Q(s.fvRequiredSIP)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-[11px] text-[var(--text-dim)]",children:"Total You Invest"}),t.jsx("span",{className:"text-[11px] font-semibold text-[var(--text-primary)] tabular-nums",children:Q(s.planTotalInvested)})]}),s.planReturns>0&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-[11px] text-[var(--text-dim)]",children:"Wealth Created"}),t.jsxs("span",{className:"text-[11px] font-semibold text-emerald-400 tabular-nums",children:["+",Q(s.planReturns)]})]})]})]})}function Ea({label:s,value:l,bold:r,color:a,badge:o}){const u=a==="violet"?"text-violet-400":a==="emerald"?"text-emerald-400":"text-[var(--text-primary)]";if(o){const d=o==="rose"?"bg-rose-500/15 text-rose-400":o==="blue"?"bg-blue-500/15 text-blue-400":"bg-amber-500/15 text-amber-400";return t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:s}),t.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${d}`,children:l})]})}return t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:s}),t.jsx("span",{className:`text-xs ${r?"font-bold text-sm":"font-semibold"} ${u}`,children:l})]})}function NE({goal:s,onClose:l}){const{goalPortfolioMappings:r,mfPortfolios:a,mfHoldings:o}=tt(),u=N.useMemo(()=>{const m=r.filter(b=>b.goalId===s.goalId);if(m.length===0)return null;const x=m.map(b=>{const g=a.find(j=>j.portfolioId===b.portfolioId);if(!g)return null;const w=o.filter(j=>j.portfolioId===b.portfolioId&&j.units>0),M=w.reduce((j,D)=>j+D.currentValue,0),S=M*b.allocationPct/100,y=w.map(j=>{const D=M>0?j.currentValue/M:0,k=S*D,_=j.currentNav>0?k/j.currentNav:0,O=k-_*j.avgNav;return{fundName:j.fundName,currentValue:j.currentValue,withdrawValue:k,withdrawUnits:Math.min(_,j.units),currentNav:j.currentNav,taxableGain:O,availableUnits:j.units}}).filter(j=>j.withdrawValue>0);return{portfolioName:g.portfolioName,ownerName:g.ownerName,allocationPct:b.allocationPct,portfolioValue:M,linkedValue:S,fundWithdrawals:y}}).filter(Boolean),p=x.reduce((b,g)=>b+g.linkedValue,0),v=x.reduce((b,g)=>b+g.fundWithdrawals.reduce((w,M)=>w+M.taxableGain,0),0);return{portfolioDetails:x,totalLinked:p,totalTaxableGain:v}},[s,r,a,o]);if(!u)return t.jsxs("div",{className:"py-8 text-center space-y-2",children:[t.jsx(ns,{size:24,className:"mx-auto text-amber-400"}),t.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No portfolios linked to this goal"}),t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Link portfolios first to generate a withdrawal plan"}),t.jsx("button",{onClick:l,className:"mt-2 px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})]});const d=s.targetAmount>0?u.totalLinked/s.targetAmount*100:0;return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-4 space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Goal Target"}),t.jsx("span",{className:"text-sm font-bold text-[var(--text-primary)]",children:Q(s.targetAmount)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Available from Linked Portfolios"}),t.jsx("span",{className:`text-sm font-bold ${u.totalLinked>=s.targetAmount?"text-emerald-400":"text-amber-400"}`,children:Q(u.totalLinked)})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-card)] rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full rounded-full ${d>=100?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${Math.min(d,100)}%`}})}),t.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[d.toFixed(0),"%"]})]}),u.totalTaxableGain>0&&t.jsxs("div",{className:"flex items-center justify-between pt-1",children:[t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Estimated Taxable Gain"}),t.jsx("span",{className:"text-xs font-semibold text-amber-400",children:Q(u.totalTaxableGain)})]})]}),u.portfolioDetails.map(m=>t.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] overflow-hidden",children:[t.jsxs("div",{className:"px-4 py-2.5 bg-[var(--bg-card)] border-b border-[var(--border-light)] flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:m.portfolioName}),t.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[m.ownerName,"  ",m.allocationPct,"% allocated to goal"]})]}),t.jsx("span",{className:"text-xs font-bold text-[var(--text-primary)]",children:Q(m.linkedValue)})]}),t.jsx("div",{className:"px-4 py-2",children:t.jsxs("table",{className:"w-full text-xs",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"text-[var(--text-dim)]",children:[t.jsx("th",{className:"text-left py-1 font-medium",children:"Fund"}),t.jsx("th",{className:"text-right py-1 font-medium",children:"Units"}),t.jsx("th",{className:"text-right py-1 font-medium",children:"Amount"}),t.jsx("th",{className:"text-right py-1 font-medium",children:"Gain"})]})}),t.jsx("tbody",{children:m.fundWithdrawals.map(x=>t.jsxs("tr",{className:"border-t border-[var(--border-light)]",children:[t.jsx("td",{className:"py-1.5 text-[var(--text-secondary)] max-w-[180px] truncate",children:x.fundName}),t.jsx("td",{className:"py-1.5 text-right text-[var(--text-muted)] tabular-nums",children:x.withdrawUnits.toFixed(2)}),t.jsx("td",{className:"py-1.5 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:Q(x.withdrawValue)}),t.jsx("td",{className:`py-1.5 text-right tabular-nums font-semibold ${x.taxableGain>=0?"text-emerald-400":"text-rose-400"}`,children:Q(Math.abs(x.taxableGain))})]},x.fundName))})]})})]},m.portfolioName)),t.jsx("div",{className:"flex items-center justify-end gap-2 pt-4 border-t border-[var(--border-light)]",children:t.jsx("button",{onClick:l,className:"px-5 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})})]})}const jE={"On Track":"bg-blue-500/15 text-[var(--accent-blue)]",Behind:"bg-amber-500/15 text-[var(--accent-amber)]",Critical:"bg-rose-500/15 text-[var(--accent-rose)]","Needs Attention":"bg-amber-500/15 text-[var(--accent-amber)]",Achieved:"bg-emerald-500/15 text-emerald-400",Paused:"bg-slate-500/15 text-[var(--text-muted)]"},wE={High:"bg-rose-500/15 text-[var(--accent-rose)]",Medium:"bg-amber-500/15 text-[var(--accent-amber)]",Low:"bg-blue-500/15 text-[var(--accent-blue)]"},SE={"On Track":"bg-blue-500",Behind:"bg-amber-500",Critical:"bg-rose-500","Needs Attention":"bg-amber-500",Achieved:"bg-emerald-500",Paused:"bg-slate-500"};function CE(){const{selectedMember:s,member:l}=ca(),{goalList:r,addGoal:a,updateGoal:o,deleteGoal:u,goalPortfolioMappings:d,updateGoalMappings:m,mfHoldings:x,activeMembers:p,mfPortfolios:v,stockPortfolios:b,otherInvList:g}=tt(),{showToast:w,showBlockUI:M,hideBlockUI:S}=Hn(),y=Yn(),[j,D]=N.useState(null),[k,_]=N.useState(null),[O,q]=N.useState(null),P=N.useRef(new Set),[T,F]=N.useState(null),[I,$]=N.useState([]),[A,se]=N.useState(!1),[ce,le]=N.useState(!1),B=N.useMemo(()=>{if(!r)return[];const Z=r.filter(R=>R.isActive!==!1);return s==="all"?Z:Z.filter(R=>R.familyMemberId===s)},[r,s]);function W(Z){if(!Z.familyMemberName||Z.familyMemberName==="Family")return Z.familyMemberName||"Family";const R=(p||[]).find(V=>V.memberName===Z.familyMemberName);return R?.relationship?`${Z.familyMemberName} (${R.relationship})`:Z.familyMemberName}const L=B.reduce((Z,R)=>Z+(R.targetAmount||0),0),re=B.reduce((Z,R)=>Z+(R.currentValue||0),0),he=B.reduce((Z,R)=>Z+(R.monthlyInvestment||0),0),z=B.reduce((Z,R)=>Z+(R.lumpsumNeeded||0),0),ee=L>0?re/L*100:0,fe=B.filter(Z=>Z.status==="Needs Attention").length,xe=B.filter(Z=>Z.status==="Achieved").length,Ae=new Set(["Equity","ELSS","Index"]),Te=N.useMemo(()=>{if(!B.length||!d?.length||!x?.length)return[];const Z=new Date,R=[];for(const V of B){if(V.status==="Achieved")continue;const De=(new Date(V.targetDate)-Z)/(365.25*24*60*60*1e3);if(De>3||De<=0)continue;const qe=d.filter(at=>at.goalId===V.goalId);if(!qe.length)continue;let ie=0,_e=0;for(const at of qe){const Ue=x.filter(St=>St.portfolioId===at.portfolioId&&St.units>0);for(const St of Ue){const ze=St.currentValue*(at.allocationPct/100);ie+=ze,Ae.has(St.category)?_e+=ze:St.category==="Hybrid"&&(_e+=ze*.65)}}const je=ie>0?_e/ie*100:0,ve=De<1?30:De<2?50:70;je>ve&&R.push({goalId:V.goalId,goalName:V.goalName,yearsLeft:De.toFixed(1),equityPct:Math.round(je),maxEquity:ve,excessPct:Math.round(je-ve)})}return R},[B,d,x]);N.useEffect(()=>{const Z=new Set(B.filter(V=>V.status==="Achieved").map(V=>V.goalId)),R=P.current;for(const V of Z)if(!R.has(V)){const me=B.find(De=>De.goalId===V);me&&(q(me),setTimeout(()=>q(null),5e3))}P.current=Z},[B]);function we(Z){return Z?Z.startsWith("PFL-STK-")?"Stock":Z.startsWith("INV-")?"Other":"MF":"MF"}const ke=N.useMemo(()=>{const Z={};return(v||[]).forEach(R=>{Z[R.portfolioId]={name:R.portfolioName?.replace(/^PFL-/,"")||R.portfolioName,value:R.currentValue||0,type:"MF",owner:R.ownerName||""}}),(b||[]).forEach(R=>{Z[R.portfolioId]={name:R.portfolioName,value:R.currentValue||0,type:"Stock",owner:R.ownerName||""}}),(g||[]).forEach(R=>{Z[R.investmentId]={name:R.investmentName,value:R.currentValue||0,type:"Other",owner:R.familyMemberName||""}}),Z},[v,b,g]),Pe=N.useMemo(()=>{const Z=[];return(v||[]).filter(R=>R.status!=="Inactive").forEach(R=>{Z.push({id:R.portfolioId,name:R.portfolioName?.replace(/^PFL-/,"")||R.portfolioName,value:R.currentValue||0,type:"MF",owner:R.ownerName||""})}),(b||[]).filter(R=>R.status!=="Inactive").forEach(R=>{Z.push({id:R.portfolioId,name:R.portfolioName,value:R.currentValue||0,type:"Stock",owner:R.ownerName||""})}),(g||[]).filter(R=>R.status==="Active").forEach(R=>{Z.push({id:R.investmentId,name:R.investmentName,value:R.currentValue||0,type:"Other",owner:R.familyMemberName||""})}),Z},[v,b,g]),jt=Pe.filter(Z=>Z.type==="MF"),Yt=Pe.filter(Z=>Z.type==="Stock"),ha=Pe.filter(Z=>Z.type==="Other"),wt=N.useMemo(()=>{const Z={};return(d||[]).forEach(R=>{if(R.goalId===T)return;Z[R.portfolioId]||(Z[R.portfolioId]={total:0,goals:[]}),Z[R.portfolioId].total+=R.allocationPct;const V=(r||[]).find(me=>me.goalId===R.goalId);Z[R.portfolioId].goals.push({goalName:V?.goalName||R.goalId,pct:R.allocationPct})}),Z},[d,T,r]),ge=N.useMemo(()=>{const Z=[];for(const R of I){const me=(wt[R.portfolioId]?.total||0)+(R.allocationPct||0);if(me>100){const De=Pe.find(qe=>qe.id===R.portfolioId);Z.push({name:De?.name||R.portfolioId,combined:me,excess:me-100})}}return Z},[I,wt,Pe]),He=ge.length===0;function rt(Z){const R=(d||[]).filter(V=>V.goalId===Z).map(V=>({portfolioId:V.portfolioId,allocationPct:V.allocationPct,investmentType:V.investmentType||we(V.portfolioId)}));$(R),F(Z),se(!1)}function Tt(){F(null),$([]),se(!1)}function ht(Z){T===Z?Tt():rt(Z)}function aa(){const Z=new Set(I.map(V=>V.portfolioId)),R=Pe.find(V=>!Z.has(V.id)&&(wt[V.id]?.total||0)<100);R&&($(V=>[...V,{portfolioId:R.id,allocationPct:0,investmentType:R.type}]),se(!0))}function Jt(Z){$(R=>R.filter((V,me)=>me!==Z)),se(!0)}function dt(Z,R,V){$(me=>me.map((De,qe)=>{if(qe!==Z)return De;if(R==="allocationPct"){const ie=wt[De.portfolioId]?.total||0,_e=Math.max(0,100-ie);return{...De,allocationPct:Math.max(0,Math.min(_e,Number(V)||0))}}if(R==="portfolioId"){const ie=Pe.find(ve=>ve.id===V),_e=wt[V]?.total||0,je=Math.max(0,100-_e);return{...De,portfolioId:V,investmentType:ie?.type||we(V),allocationPct:Math.min(De.allocationPct,je)}}return De})),se(!0)}async function ea(){if(He){le(!0),M("Saving...");try{await m(T,I.filter(Z=>Z.allocationPct>0)),w("Allocation updated"),Tt()}catch(Z){w(Z.message||"Failed to save","error")}finally{S(),le(!1)}}}if(r===null)return t.jsx(Sr,{title:"Loading goals",cards:5});async function Na(Z){M("Saving...");try{j?.edit?await o(j.edit.goalId,Z):await a(Z),w(j?.edit?"Goal updated":"Goal added"),D(null)}catch(R){w(R.message||"Failed to save goal","error")}finally{S()}}async function Rt(){if(j?.edit&&await y("Delete this goal?",{title:"Delete Goal",confirmLabel:"Delete"})){const Z=j.edit.goalId,R=(d||[]).filter(V=>V.goalId===Z);M("Deleting...");try{if(await u(Z),D(null),R.length>0){const V=R.some(me=>(d||[]).some(De=>De.portfolioId===me.portfolioId&&De.goalId!==Z));w(V?"Goal deleted  shared allocations freed":"Goal deleted")}else w("Goal deleted")}catch(V){w(V.message||"Failed to delete goal","error")}finally{S()}}}function Ia(Z){return!Z.targetAmount||Z.targetAmount===0?0:Math.min((Z.currentValue||0)/Z.targetAmount*100,100)}function Ie(Z){if(!Z.targetDate)return null;const V=(new Date(Z.targetDate)-new Date)/(365.25*24*60*60*1e3);return V>0?V.toFixed(1):"0"}return t.jsxs("div",{className:"space-y-4",children:[B.length===0?t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[t.jsx(mo,{size:32,className:"text-[var(--text-dim)]"}),t.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No goals set",l?` for ${l.memberName}`:""]}),t.jsx("button",{onClick:()=>D("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first goal"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[t.jsx(Dl,{label:"Target",value:Q(L),bold:!0}),t.jsx(Dl,{label:"Current Value",value:Q(re),bold:!0}),t.jsx(Dl,{label:"Gap",value:Q(Math.max(L-re,0)),positive:L<=re,bold:!0}),t.jsx(Dl,{label:"Progress",value:`${ee.toFixed(1)}%`,sub:`${B.length} goal${B.length!==1?"s":""}${xe>0?`  ${xe} done`:""}`,positive:ee>=50,bold:!0}),t.jsx(Dl,{label:"Required SIP",value:Q(he),sub:fe>0?`${fe} need attention`:"per month"}),t.jsx(Dl,{label:"Required Lumpsum",value:Q(z),sub:"one-time today"})]}),O&&t.jsxs("div",{className:"relative bg-gradient-to-r from-emerald-500/10 via-yellow-500/10 to-emerald-500/10 rounded-xl border border-emerald-500/30 px-4 py-3 flex items-center gap-3 animate-fade-in overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:20}).map((Z,R)=>t.jsx("span",{className:"absolute text-sm animate-confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*2}s`},children:["","","","",""][R%5]},R))}),t.jsx(F0,{size:20,className:"text-yellow-400 shrink-0 relative z-10"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("p",{className:"text-sm font-bold text-emerald-400",children:"Goal Achieved!"}),t.jsxs("p",{className:"text-xs text-[var(--text-secondary)]",children:[O.goalName,"  Congratulations!"]})]}),t.jsx("button",{onClick:()=>q(null),className:"ml-auto text-xs text-[var(--text-dim)] hover:text-[var(--text-primary)] relative z-10",children:"Dismiss"})]}),Te.length>0&&t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-amber-500/20 p-4 space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(dC,{size:14,className:"text-amber-400"}),t.jsx("p",{className:"text-xs font-bold text-amber-400 uppercase tracking-wider",children:"De-risking Alerts"})]}),t.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"These goals are approaching their deadline with high equity exposure. Consider moving funds to debt/liquid for capital protection."}),t.jsx("div",{className:"space-y-1.5",children:Te.map(Z=>t.jsxs("div",{className:"flex items-center justify-between bg-amber-500/5 rounded-lg px-3 py-2",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:Z.goalName}),t.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[Z.yearsLeft," yrs left"]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-xs font-bold text-amber-400",children:[Z.equityPct,"% equity"]}),t.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["Recommended max ",Z.maxEquity,"%"]})]})]},Z.goalId))})]}),t.jsx("div",{className:"flex items-center justify-end px-1",children:t.jsxs("button",{onClick:()=>D("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[t.jsx(oa,{size:14})," Add Goal"]})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:B.map(Z=>{const R=Ia(Z),V=Ie(Z),me=T===Z.goalId,De=me?I:(d||[]).filter(_e=>_e.goalId===Z.goalId),qe=(d||[]).filter(_e=>_e.goalId===Z.goalId).length,ie=De.reduce((_e,je)=>{const ve=ke[je.portfolioId];return _e+(ve?ve.value*je.allocationPct/100:0)},0);return t.jsxs("div",{className:`bg-[var(--bg-card)] rounded-xl border overflow-hidden transition-colors ${me?"border-violet-500/40":"border-[var(--border)]"}`,children:[t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-sm font-semibold text-[var(--text-primary)] truncate",children:Z.goalName}),t.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[t.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:W(Z)}),t.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded ${wE[Z.priority]||""}`,children:Z.priority})]})]}),t.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded-full shrink-0 ${jE[Z.status]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:Z.status})]}),t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-inset)] rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full rounded-full transition-all ${SE[Z.status]||"bg-blue-500"}`,style:{width:`${R}%`}})}),t.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums w-10 text-right",children:[R.toFixed(0),"%"]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1.5 mb-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Current"}),t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(Z.currentValue)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Target"}),t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(Z.targetAmount)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Required SIP"}),t.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:[Q(Z.monthlyInvestment),"/mo"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Timeline"}),t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Z.status==="Achieved"?"Done":V?`${V} yrs left`:""})]})]}),t.jsxs("div",{className:"flex items-center gap-1 pt-2 border-t border-[var(--border-light)]",children:[t.jsxs("button",{onClick:_e=>{_e.stopPropagation(),ht(Z.goalId)},className:`flex items-center gap-1 px-2.5 py-1.5 text-[10px] font-semibold rounded-lg transition-colors ${me?"bg-violet-500/20 text-violet-400":qe>0?"text-violet-400 hover:bg-violet-500/10":"text-amber-400 hover:bg-amber-500/10"}`,children:[t.jsx(My,{size:11}),qe>0?`${qe} linked`:"Link",qe===0&&t.jsx("span",{className:"w-1.5 h-1.5 bg-amber-400 rounded-full animate-pulse"})]}),Z.status==="Achieved"&&t.jsxs("button",{onClick:()=>_(Z),className:"flex items-center gap-1 px-2.5 py-1.5 text-[10px] font-semibold text-[var(--text-dim)] hover:text-emerald-400 hover:bg-emerald-500/10 rounded-lg transition-colors",children:[t.jsx(Ny,{size:11})," Withdraw"]}),t.jsxs("button",{onClick:()=>D({edit:Z}),className:"flex items-center gap-1 px-2.5 py-1.5 text-[10px] font-semibold text-[var(--text-dim)] hover:text-[var(--text-primary)] hover:bg-white/5 rounded-lg transition-colors ml-auto",children:[t.jsx(dn,{size:11})," Edit"]})]})]}),me&&t.jsxs("div",{className:"px-4 pb-4 space-y-2 border-t border-violet-500/20 bg-violet-500/[0.03]",children:[t.jsxs("div",{className:"flex items-center justify-between pt-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(In,{size:12,className:"text-violet-400"}),t.jsx("span",{className:"text-xs font-semibold text-violet-400",children:"Link Investments"})]}),ie>0&&t.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["Linked value: ",Q(ie)]})]}),I.map((_e,je)=>{const ve=Pe.find(Ee=>Ee.id===_e.portfolioId),at=wt[_e.portfolioId],Ue=at?.total||0,St=100-Ue,ze=Ue+(_e.allocationPct||0);return t.jsxs("div",{className:`bg-[var(--bg-card)] rounded-lg border p-2.5 space-y-1.5 ${ze>100?"border-rose-500/40":"border-[var(--border-light)]"}`,children:[t.jsxs("select",{value:_e.portfolioId,onChange:Ee=>dt(je,"portfolioId",Ee.target.value),className:"w-full px-2 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)]",children:[jt.length>0&&t.jsx("optgroup",{label:"MF Portfolios",children:jt.map(Ee=>{const _t=(wt[Ee.id]?.total||0)>=100,Nt=I.some((qt,na)=>na!==je&&qt.portfolioId===Ee.id);return t.jsxs("option",{value:Ee.id,disabled:Nt||_t,children:[Ee.name,Ee.owner?` (${Ee.owner})`:"","  ",Q(Ee.value),_t?" (Fully allocated)":""]},Ee.id)})}),Yt.length>0&&t.jsx("optgroup",{label:"Stock Portfolios",children:Yt.map(Ee=>{const _t=(wt[Ee.id]?.total||0)>=100,Nt=I.some((qt,na)=>na!==je&&qt.portfolioId===Ee.id);return t.jsxs("option",{value:Ee.id,disabled:Nt||_t,children:[Ee.name,Ee.owner?` (${Ee.owner})`:"","  ",Q(Ee.value),_t?" (Fully allocated)":""]},Ee.id)})}),ha.length>0&&t.jsx("optgroup",{label:"Other Investments",children:ha.map(Ee=>{const _t=(wt[Ee.id]?.total||0)>=100,Nt=I.some((qt,na)=>na!==je&&qt.portfolioId===Ee.id);return t.jsxs("option",{value:Ee.id,disabled:Nt||_t,children:[Ee.name,Ee.owner?` (${Ee.owner})`:"","  ",Q(Ee.value),_t?" (Fully allocated)":""]},Ee.id)})})]}),Ue>0&&t.jsxs("div",{className:`text-[10px] px-2 py-1 rounded ${ze>100?"bg-rose-500/10 text-rose-400":"bg-blue-500/10 text-blue-400"}`,children:[at.goals.map(Ee=>`${Ee.goalName} (${Ee.pct}%)`).join(", "),"  ",t.jsxs("span",{className:"font-bold",children:["Available: ",Math.max(0,St),"%"]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:"Allocation"}),t.jsx("input",{type:"number",value:_e.allocationPct,onChange:Ee=>dt(je,"allocationPct",Ee.target.value),className:"w-16 px-2 py-1 text-xs text-center bg-[var(--bg-input)] border border-[var(--border-input)] rounded-md text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)]",min:"0",max:St}),t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"%"}),t.jsx("button",{onClick:()=>Jt(je),className:"p-1 text-[var(--text-dim)] hover:text-rose-400 rounded transition-colors ml-1",children:t.jsx(Pu,{size:12})})]}),ve&&t.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["Contributes ",Q(ve.value*_e.allocationPct/100)]})]})]},je)}),ge.length>0&&t.jsxs("div",{className:"bg-rose-500/10 border border-rose-500/20 rounded-lg px-3 py-2 space-y-1",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(ns,{size:12,className:"text-rose-400 shrink-0"}),t.jsx("span",{className:"text-[10px] font-bold text-rose-400 uppercase",children:"Over-allocated"})]}),ge.map((_e,je)=>t.jsxs("p",{className:"text-[10px] text-rose-300",children:[_e.name,": ",_e.combined,"% total (exceeds by ",_e.excess,"%)"]},je))]}),(()=>{const _e=new Set(I.map(ve=>ve.portfolioId));return Pe.some(ve=>!_e.has(ve.id)&&(wt[ve.id]?.total||0)<100)&&t.jsxs("button",{onClick:aa,className:"flex items-center gap-1.5 text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[t.jsx(oa,{size:14})," Link Investment"]})})(),t.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2 border-t border-[var(--border-light)]",children:[t.jsx("button",{onClick:Tt,className:"px-4 py-1.5 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),t.jsx("button",{onClick:ea,disabled:!A||!He||ce,className:"px-5 py-1.5 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Save"})]})]})]},Z.goalId)})}),xe>0&&t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-emerald-500/20 p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx(F0,{size:14,className:"text-yellow-400"}),t.jsx("p",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Achieved Goals"})]}),t.jsx("div",{className:"flex gap-3 overflow-x-auto no-scrollbar pb-1",children:B.filter(Z=>Z.status==="Achieved").map(Z=>t.jsxs("div",{className:"shrink-0 bg-emerald-500/10 border border-emerald-500/20 rounded-lg px-3 py-2 min-w-[160px]",children:[t.jsx("p",{className:"text-xs font-semibold text-emerald-400",children:Z.goalName}),t.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] mt-1",children:Q(Z.targetAmount)}),t.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5",children:W(Z)})]},Z.goalId))})]})]}),t.jsx(Qt,{open:!!j,onClose:()=>D(null),title:j?.edit?"Edit Goal":"Add Goal",wide:!0,children:t.jsx(yE,{initial:j?.edit||void 0,onSave:Na,onDelete:j?.edit?Rt:void 0,onCancel:()=>D(null)})}),t.jsx(Qt,{open:!!k,onClose:()=>_(null),title:`Withdrawal Plan  ${k?.goalName||""}`,wide:!0,children:k&&t.jsx(NE,{goal:k,onClose:()=>_(null)})})]})}function Dl({label:s,value:l,sub:r,positive:a,bold:o}){return t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),t.jsx("p",{className:`text-sm tabular-nums ${o?"font-bold":"font-semibold"} ${a===void 0?"text-[var(--text-primary)]":a?"text-emerald-400":"text-[var(--accent-amber)]"}`,children:l}),r&&t.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:r})]})}const kE=[{label:"Reports & Transactions",desc:"View transaction history",icon:Sy,path:"/reports",color:"bg-blue-500/15 text-[var(--accent-blue)]"},{label:"Reminders",desc:"View and manage reminders",icon:Iu,path:"/reminders",color:"bg-amber-500/15 text-[var(--accent-amber)]"},{label:"Health Check",desc:"Financial health questionnaire",icon:zf,path:"/health-check",color:"bg-emerald-500/15 text-emerald-400"},{label:"Settings",desc:"App configuration",icon:mp,path:"/settings",color:"bg-slate-500/15 text-[var(--text-muted)]"},{label:"About",desc:"Capital Friends v2.0",icon:O5,path:"/about",color:"bg-violet-500/15 text-[var(--accent-violet)]"},{label:"Support Developer",desc:"UPI: jagadeeshmanne.hdfc@kphdfc",icon:vu,path:"/about",color:"bg-pink-500/15 text-pink-400"}];function DE(){const s=Hs();return t.jsxs("div",{className:"space-y-4",children:[t.jsx("h1",{className:"text-base font-bold text-[var(--text-primary)]",children:"More"}),t.jsx("div",{className:"space-y-2",children:kE.map(l=>t.jsxs("button",{onClick:()=>s(l.path),className:"w-full flex items-center gap-3 bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[t.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center shrink-0 ${l.color}`,children:t.jsx(l.icon,{size:18})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:l.label}),t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:l.desc})]})]},l.label))})]})}const Jc=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function ME(){const s=Hs(),{theme:l,toggle:r}=py(),{members:a,settings:o,updateSettings:u,updateMember:d,healthCheckCompleted:m}=tt(),{user:x,signOut:p}=Ys(),{masked:v,toggleMask:b,mv:g}=qn(),w=a.filter(le=>le.status==="Active"),[M,S]=N.useState("Daily"),[y,j]=N.useState("09"),[D,k]=N.useState("Monday"),[_,O]=N.useState(!1),[q,P]=N.useState(!1),[T,F]=N.useState(!1),[I,$]=N.useState(null);N.useEffect(()=>{!o||!Object.keys(o).length||(o.EmailFrequency&&S(o.EmailFrequency),o.EmailHour!=null&&j(String(o.EmailHour).padStart(2,"0")),o.EmailDayOfWeek!=null&&k(Jc[Number(o.EmailDayOfWeek)]||"Monday"))},[o]);async function A(){O(!0),P(!1);try{const le=Jc.indexOf(D);await u({EmailFrequency:M==="None"?"None":M,EmailConfigured:M==="None"?"FALSE":"TRUE",EmailHour:String(parseInt(y,10)),EmailMinute:"0",EmailDayOfWeek:String(le>=0?le:1)}),P(!0),setTimeout(()=>P(!1),2e3)}catch(le){alert("Failed to save: "+le.message)}finally{O(!1)}}async function se(){F(!0),$(null);try{const le=await vS();$(le)}catch(le){$({error:le.message})}finally{F(!1)}}function ce(le){if(!le)return"Never";try{const B=new Date(le);if(isNaN(B.getTime()))return"Unknown";const W=Date.now(),L=Math.floor((W-B.getTime())/(1e3*60));if(L<1)return"Just now";if(L<60)return L+" min ago";const re=Math.floor(L/60);return re<24?re+"h ago":B.toLocaleDateString("en-IN",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}catch{return"Unknown"}}return t.jsxs("div",{className:"space-y-4 max-w-xl mx-auto",children:[t.jsxs(Ms,{children:[t.jsx(As,{icon:t.jsx(NC,{size:14}),title:"Account"}),t.jsxs("div",{className:"px-4 py-4 space-y-3",children:[t.jsx(Ua,{label:"Signed in as",children:t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate max-w-[200px]",children:g(x?.email,"email")||""})}),t.jsx(Ua,{label:"Name",children:t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:x?.name||""})}),t.jsx("div",{className:"pt-1",children:t.jsxs("button",{onClick:p,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-red-500 border border-red-200 dark:border-red-800/40 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[t.jsx(Ey,{size:12}),"Sign Out"]})})]})]}),t.jsxs(Ms,{children:[t.jsx(As,{icon:t.jsx(zf,{size:14}),title:"Financial Health Check"}),t.jsxs("div",{className:"px-4 py-4 space-y-3",children:[t.jsx(Ua,{label:"Status",children:t.jsx("span",{className:`text-xs font-semibold ${m?"text-emerald-400":"text-[var(--accent-amber)]"}`,children:m?"Completed":"Not completed"})}),t.jsx("div",{className:"flex justify-end pt-1",children:t.jsxs("button",{onClick:()=>s("/health-check"),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-lg border border-[var(--border)] text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[t.jsx(zf,{size:12}),m?"Update Answers":"Take Health Check"]})})]})]}),t.jsxs(Ms,{children:[t.jsx(As,{icon:t.jsx(p5,{size:14}),title:"Data & Sync"}),t.jsxs("div",{className:"px-4 py-4 space-y-3",children:[t.jsx(Ua,{label:"Last synced",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:ce(o.masterDataLastSync)}),o._stale&&t.jsx("span",{className:"text-[10px] font-bold text-amber-600 px-1.5 py-0.5 rounded bg-amber-100 dark:bg-amber-900/30",children:"STALE"})]})}),o._navDataDate&&t.jsx(Ua,{label:"NAV data as of",children:t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:o._navDataDate})}),t.jsx(Ua,{label:"Auto-refresh",children:t.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Daily at ~6:30 AM"})}),t.jsxs("div",{className:"flex items-center justify-between pt-1",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Refresh MF NAVs, ATH & Stock prices"}),t.jsxs("button",{onClick:se,disabled:T,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-lg bg-violet-600 text-white hover:bg-violet-500 transition-colors disabled:opacity-50",children:[t.jsx(Rl,{size:12,className:T?"animate-spin":""}),T?"Refreshing...":"Refresh Now"]})]}),I&&t.jsx("div",{className:`text-xs px-3 py-2 rounded-lg ${I.error?"bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400":"bg-green-50 text-green-600 dark:bg-green-900/20 dark:text-green-400"}`,children:I.error?"Failed: "+I.error:`Done  MF: ${I.mf?.count||0} | ATH: ${I.ath?.count||0} | Stocks: ${I.stocks?.count||0} (${I.duration})`})]})]}),t.jsxs(Ms,{children:[t.jsx(As,{icon:t.jsx(Pf,{size:14}),title:"Appearance"}),t.jsx("div",{className:"px-4 py-4",children:t.jsx(Ua,{label:"Theme",children:t.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-3 py-1.5 text-xs font-semibold rounded-lg border border-[var(--border)] bg-[var(--bg-inset)] text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[l==="dark"?t.jsx(Ty,{size:12}):t.jsx(Pf,{size:12}),l==="dark"?"Dark":"Light"]})})})]}),t.jsxs(Ms,{children:[t.jsx(As,{icon:t.jsx(U5,{size:14}),title:"Email Reports"}),t.jsxs("div",{className:"px-4 py-4 space-y-3",children:[t.jsx(Ua,{label:"Frequency",children:t.jsx(_f,{value:M,onChange:S,options:["Daily","Weekly","Monthly","None"]})}),M!=="None"&&t.jsx(Ua,{label:"Send time",children:t.jsx(_f,{value:y,onChange:j,options:Array.from({length:24},(le,B)=>String(B).padStart(2,"0")),suffix:":00"})}),M==="Weekly"&&t.jsx(Ua,{label:"Day",children:t.jsx(_f,{value:D,onChange:k,options:Jc.slice(1).concat(Jc[0])})}),t.jsx("div",{className:"flex justify-end pt-1",children:t.jsx("button",{onClick:A,disabled:_,className:"px-4 py-1.5 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50",children:_?"Saving...":q?"Saved!":"Save"})}),w.length>0&&t.jsx(t.Fragment,{children:t.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"Send report to"}),t.jsx("div",{className:"space-y-2",children:w.map(le=>t.jsx(AE,{member:le,onToggle:d},le.memberId))})]})}),w.length===0&&t.jsx("p",{className:"text-xs text-[var(--text-dim)] pt-1",children:"Add family members to configure email recipients."})]})]}),t.jsxs(Ms,{children:[t.jsx(As,{icon:t.jsx(lu,{size:14}),title:"Privacy"}),t.jsxs("div",{className:"px-4 py-4 space-y-3",children:[t.jsx(Ua,{label:"Mask sensitive data",children:t.jsx("button",{onClick:b,className:`relative w-9 h-5 rounded-full transition-colors shrink-0 ${v?"bg-amber-500":"bg-[var(--bg-inset)] border border-[var(--border)]"}`,children:t.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full transition-all ${v?"left-[18px] bg-white":"left-0.5 bg-[var(--text-dim)]"}`})})}),t.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[v?"Sensitive data is hidden. ":"","Masks PAN, Aadhaar, mobile, email, account numbers, client IDs, and policy numbers across the app. Use the ",v?t.jsx(lu,{size:11,className:"inline text-amber-400"}):t.jsx(dp,{size:11,className:"inline"})," icon in the header to quickly toggle."]}),v&&t.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[t.jsx(lu,{size:14,className:"text-amber-400 shrink-0"}),t.jsx("p",{className:"text-xs text-amber-400 font-medium",children:"Data masking is active  safe for screen sharing"})]})]})]}),t.jsxs(Ms,{children:[t.jsx(As,{icon:t.jsx(M5,{size:14}),title:"Display"}),t.jsxs("div",{className:"px-4 py-4 space-y-3",children:[t.jsx(Ua,{label:"Currency",children:t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"INR ()"})}),t.jsx(Ua,{label:"Date format",children:t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"DD/MM/YYYY"})})]})]})]})}function Ms({children:s}){return t.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:s})}function As({icon:s,title:l}){return t.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-[var(--text-muted)]",children:s}),t.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:l})]})})}function Ua({label:s,children:l}){return t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)] shrink-0",children:s}),l]})}function _f({value:s,onChange:l,options:r,suffix:a}){return t.jsxs("div",{className:"relative",children:[t.jsx("select",{value:s,onChange:o=>l(o.target.value),className:"appearance-none pl-3 pr-7 py-1.5 text-xs font-semibold bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-violet-500 cursor-pointer",children:r.map(o=>t.jsxs("option",{value:o,children:[o,a||""]},o))}),t.jsx(In,{size:10,className:"absolute right-2 top-1/2 -translate-y-1/2 text-[var(--text-dim)] pointer-events-none"})]})}function AE({member:s,onToggle:l}){const{mv:r}=qn(),a=s.includeInEmailReports==="Yes"||s.includeInEmailReports===!0,[o,u]=N.useState(!1);async function d(){u(!0);try{await l(s.memberId,{...s,includeInEmailReports:a?"No":"Yes"})}catch{}finally{u(!1)}}return t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("div",{className:"w-6 h-6 rounded-full bg-violet-100 dark:bg-violet-900/30 flex items-center justify-center shrink-0",children:t.jsx("span",{className:"text-[10px] font-bold text-violet-600",children:s.memberName?.charAt(0)?.toUpperCase()})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate",children:r(s.memberName,"name")}),s.email&&t.jsx("p",{className:"text-[10px] text-[var(--text-dim)] truncate",children:r(s.email,"email")})]})]}),t.jsx("button",{onClick:d,disabled:o,className:`relative w-9 h-5 rounded-full transition-colors shrink-0 disabled:opacity-50 ${a?"bg-violet-500":"bg-[var(--bg-inset)] border border-[var(--border)]"}`,children:t.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full transition-all ${a?"left-[18px] bg-white":"left-0.5 bg-[var(--text-dim)]"}`})})]})}const EE=["SIP Due Date","Insurance Renewal","FD Maturity","Loan EMI","Investment Review","Custom"].map(s=>({value:s,label:s})),TE=[{value:"One-time",label:"One-time"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"},{value:"Yearly",label:"Yearly"}],_E=[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}];function OE({initial:s,onSave:l,onDelete:r,onCancel:a}){const o=!!s,{activeMembers:u}=tt(),d=u.map(y=>({value:y.memberId,label:y.memberName})),[m,x]=N.useState({reminderType:s?.reminderType||"",title:s?.title||"",description:s?.description||"",familyMemberId:s?.familyMemberId||"",dueDate:s?.dueDate||"",advanceNoticeDays:s?.advanceNoticeDays?.toString()||"7",frequency:s?.frequency||"One-time",priority:s?.priority||"Medium",status:s?.status||"Pending"}),[p,v]=N.useState({}),[b,g]=N.useState(!1);function w(y,j){x(D=>({...D,[y]:j})),v(D=>({...D,[y]:void 0}))}function M(){const y={};return m.reminderType||(y.reminderType="Required"),m.title.trim()||(y.title="Required"),m.familyMemberId||(y.familyMemberId="Required"),m.dueDate||(y.dueDate="Required"),v(y),Object.keys(y).length===0}async function S(){if(M()){g(!0);try{await l({...m,advanceNoticeDays:Number(m.advanceNoticeDays)||7})}finally{g(!1)}}}return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ae,{label:"Reminder Type",required:!0,error:p.reminderType,children:t.jsx(Ye,{value:m.reminderType,onChange:y=>w("reminderType",y),options:EE,placeholder:"Select type..."})}),t.jsx(ae,{label:"Title",required:!0,error:p.title,children:t.jsx(Ne,{value:m.title,onChange:y=>w("title",y),placeholder:"e.g., HDFC SIP Due"})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(ae,{label:"Family Member",required:!0,error:p.familyMemberId,children:t.jsx(Ye,{value:m.familyMemberId,onChange:y=>w("familyMemberId",y),options:d,placeholder:"Select member..."})}),t.jsx(ae,{label:"Due Date",required:!0,error:p.dueDate,children:t.jsx(Fn,{value:m.dueDate,onChange:y=>w("dueDate",y),maxDate:null})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[t.jsx(ae,{label:"Frequency",children:t.jsx(Ye,{value:m.frequency,onChange:y=>w("frequency",y),options:TE})}),t.jsx(ae,{label:"Priority",children:t.jsx(Ye,{value:m.priority,onChange:y=>w("priority",y),options:_E})}),t.jsx(ae,{label:"Advance Notice (days)",children:t.jsx(Ne,{type:"number",value:m.advanceNoticeDays,onChange:y=>w("advanceNoticeDays",y),placeholder:"7"})})]}),o&&t.jsx(ae,{label:"Status",children:t.jsx(Ye,{value:m.status,onChange:y=>w("status",y),options:[{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"}]})}),t.jsx(ae,{label:"Description",children:t.jsx(Ul,{value:m.description,onChange:y=>w("description",y),placeholder:"Optional details...",rows:2})}),t.jsxs("div",{className:"flex items-center justify-between",children:[o&&r?t.jsx(wr,{onClick:r,label:"Delete"}):t.jsx("div",{}),t.jsx(ya,{onCancel:a,onSubmit:S,submitLabel:o?"Update Reminder":"Add Reminder",loading:b})]})]})}const eu={"SIP Due Date":"bg-violet-500/15 text-[var(--accent-violet)]","Insurance Renewal":"bg-amber-500/15 text-[var(--accent-amber)]","FD Maturity":"bg-blue-500/15 text-[var(--accent-blue)]","Loan EMI":"bg-rose-500/15 text-[var(--accent-rose)]","Investment Review":"bg-emerald-500/15 text-emerald-400",Custom:"bg-slate-500/15 text-[var(--text-muted)]"},mg={High:"bg-rose-500",Medium:"bg-amber-500",Low:"bg-blue-500"};function Ml(s){if(!s)return 1/0;const l=new Date(s)-new Date;return Math.ceil(l/(1440*60*1e3))}function RE(){const{selectedMember:s,member:l}=ca(),{reminderList:r,addReminder:a,updateReminder:o,deleteReminder:u}=tt(),{showToast:d,showBlockUI:m,hideBlockUI:x}=Hn(),p=Yn(),[v,b]=N.useState(null),g=N.useMemo(()=>{const _=r.filter(O=>O.isActive!==!1);return s==="all"?_:_.filter(O=>O.familyMemberId===s)},[r,s]),w=g.filter(_=>Ml(_.dueDate)<0).length,M=g.filter(_=>{const O=Ml(_.dueDate);return O>=0&&O<=7}).length,S=g.filter(_=>{const O=Ml(_.dueDate);return O>7&&O<=30}).length,y=[...g].sort((_,O)=>{const q=Ml(_.dueDate),P=Ml(O.dueDate);return q-P});async function j(_){m("Saving...");try{v?.edit?await o(v.edit.reminderId,_):await a(_),d(v?.edit?"Reminder updated":"Reminder added"),b(null)}catch(O){d(O.message||"Failed to save reminder","error")}finally{x()}}async function D(){if(v?.edit&&await p("Delete this reminder?",{title:"Delete Reminder",confirmLabel:"Delete"})){m("Deleting...");try{await u(v.edit.reminderId),d("Reminder deleted"),b(null)}catch(_){d(_.message||"Failed to delete reminder","error")}finally{x()}}}function k(_){const O=Ml(_);return O<0?{label:`${Math.abs(O)}d overdue`,cls:"bg-rose-500/20 text-[var(--accent-rose)]"}:O===0?{label:"Today",cls:"bg-rose-500/20 text-[var(--accent-rose)]"}:O<=7?{label:`${O}d`,cls:"bg-amber-500/20 text-[var(--accent-amber)]"}:O<=30?{label:`${O}d`,cls:"bg-blue-500/20 text-[var(--accent-blue)]"}:{label:`${O}d`,cls:"bg-slate-500/20 text-[var(--text-muted)]"}}return t.jsxs("div",{className:"space-y-4",children:[g.length===0?t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[t.jsx(qS,{size:32,className:"text-[var(--text-dim)]"}),t.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No reminders",l?` for ${l.memberName}`:""]}),t.jsx("button",{onClick:()=>b("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add a reminder"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[t.jsx(tu,{label:"Active",value:g.length}),w>0&&t.jsx(tu,{label:"Overdue",value:w,color:"rose"}),M>0&&t.jsx(tu,{label:"Due This Week",value:M,color:"amber"}),t.jsx(tu,{label:"Next 30 Days",value:S})]}),t.jsx("div",{className:"flex items-center justify-end px-1",children:t.jsxs("button",{onClick:()=>b("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[t.jsx(oa,{size:14})," Add Reminder"]})}),t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[t.jsx("div",{className:"hidden sm:block overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm min-w-[680px]",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[t.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Reminder"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),!l&&t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),t.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Due Date"}),t.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Frequency"}),t.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),t.jsx("tbody",{children:y.map(_=>{const O=k(_.dueDate);return t.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[t.jsx("td",{className:"py-2.5 px-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${mg[_.priority]||"bg-slate-400"}`}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:_.title}),_.description&&t.jsx("p",{className:"text-xs text-[var(--text-dim)] truncate max-w-[200px]",children:_.description})]})]})}),t.jsx("td",{className:"py-2.5 px-3",children:t.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${eu[_.reminderType]||eu.Custom}`,children:_.reminderType})}),!l&&t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:_.familyMemberName}),t.jsx("td",{className:"py-2.5 px-3 text-center",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:_.dueDate}),t.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${O.cls}`,children:O.label})]})}),t.jsx("td",{className:"py-2.5 px-3 text-center text-xs text-[var(--text-muted)]",children:_.frequency}),t.jsx("td",{className:"py-2.5 px-3 text-center",children:t.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${_.status==="Pending"?"bg-amber-500/15 text-[var(--accent-amber)]":"bg-emerald-500/15 text-emerald-400"}`,children:_.status})}),t.jsx("td",{className:"py-2.5 px-2",children:t.jsx("button",{onClick:()=>b({edit:_}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:t.jsx(dn,{size:12})})})]},_.reminderId)})})]})}),t.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:y.map(_=>{const O=k(_.dueDate);return t.jsxs("div",{onClick:()=>b({edit:_}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${mg[_.priority]||"bg-slate-400"}`}),t.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:_.title})]}),t.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ml-2 ${eu[_.reminderType]||eu.Custom}`,children:_.reminderType})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[_.familyMemberName,"  ",_.frequency]}),t.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${O.cls}`,children:O.label})]})]},_.reminderId)})})]})]}),t.jsx(Qt,{open:!!v,onClose:()=>b(null),title:v?.edit?"Edit Reminder":"Add Reminder",wide:!0,children:t.jsx(OE,{initial:v?.edit||void 0,onSave:j,onDelete:v?.edit?D:void 0,onCancel:()=>b(null)})})]})}function tu({label:s,value:l,color:r}){const a=r==="rose"?"text-[var(--accent-rose)]":r==="amber"?"text-[var(--accent-amber)]":"text-[var(--text-primary)]";return t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),t.jsx("p",{className:`text-sm font-bold tabular-nums ${a}`,children:l})]})}const fg={BUY:"bg-emerald-500/15 text-emerald-400",SELL:"bg-rose-500/15 text-[var(--accent-rose)]"},LE={INITIAL:"bg-violet-500/15 text-[var(--accent-violet)]",SIP:"bg-blue-500/15 text-[var(--accent-blue)]",LUMPSUM:"bg-emerald-500/15 text-emerald-400",WITHDRAWAL:"bg-amber-500/15 text-[var(--accent-amber)]",SWITCH:"bg-orange-500/15 text-[var(--accent-orange)]"};function IE(){const{selectedMember:s}=ca(),{mfTransactions:l,mfPortfolios:r,stockTransactions:a,stockPortfolios:o}=tt(),[u,d]=N.useState("mf"),[m,x]=N.useState("all"),p=N.useMemo(()=>{let S=[...l].sort((y,j)=>new Date(j.date)-new Date(y.date));if(s!=="all"){const y=new Set(r.filter(j=>j.ownerId===s).map(j=>j.portfolioId));S=S.filter(j=>y.has(j.portfolioId))}return m!=="all"&&(S=S.filter(y=>y.type===m)),S},[l,r,s,m]),v=N.useMemo(()=>{let S=[...a].sort((y,j)=>new Date(j.date)-new Date(y.date));if(s!=="all"){const y=new Set(o.filter(j=>j.ownerId===s).map(j=>j.portfolioId));S=S.filter(j=>y.has(j.portfolioId))}return m!=="all"&&(S=S.filter(y=>y.type===m)),S},[a,o,s,m]),b=u==="mf"?p:v,g=b.filter(S=>S.type==="BUY").reduce((S,y)=>S+(y.totalAmount||0),0),w=b.filter(S=>S.type==="SELL").reduce((S,y)=>S+(y.totalAmount||0),0),M=b.reduce((S,y)=>S+(y.gainLoss||y.realizedPL||0),0);return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[t.jsx(au,{label:"Transactions",value:b.length}),t.jsx(au,{label:"Total Bought",value:Q(g)}),t.jsx(au,{label:"Total Sold",value:Q(w)}),t.jsx(au,{label:"Realized P&L",value:`${M>=0?"+":""}${Q(Math.abs(M))}`,positive:M>=0,bold:!0})]}),t.jsxs("div",{className:"flex items-center justify-between px-1",children:[t.jsx("div",{className:"flex gap-1",children:["mf","stocks"].map(S=>t.jsx("button",{onClick:()=>d(S),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${u===S?"bg-violet-500/20 text-violet-400 border border-violet-500/30":"text-[var(--text-dim)] hover:text-[var(--text-primary)] border border-transparent"}`,children:S==="mf"?"Mutual Funds":"Stocks"},S))}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Cy,{size:12,className:"text-[var(--text-dim)]"}),["all","BUY","SELL"].map(S=>t.jsx("button",{onClick:()=>x(S),className:`px-2 py-1 text-xs font-semibold rounded transition-colors ${m===S?"bg-[var(--bg-card)] text-[var(--text-primary)] border border-[var(--border)]":"text-[var(--text-dim)] hover:text-[var(--text-muted)]"}`,children:S==="all"?"All":S},S))]})]}),t.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:b.length===0?t.jsxs("div",{className:"py-12 flex flex-col items-center gap-3",children:[t.jsx(Sy,{size:32,className:"text-[var(--text-dim)]"}),t.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions found"})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden sm:block overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[t.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:u==="mf"?"Fund":"Stock"}),t.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Portfolio"}),t.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:u==="mf"?"Units":"Qty"}),t.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:u==="mf"?"NAV":"Price"}),t.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),t.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"})]})}),t.jsx("tbody",{children:b.map(S=>{const y=S.gainLoss||S.realizedPL||0;return t.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[t.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-muted)] tabular-nums",children:S.date}),t.jsx("td",{className:"py-2.5 px-3",children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${fg[S.type]||""}`,children:S.type}),S.transactionType&&t.jsx("span",{className:`text-[10px] font-semibold px-1 py-0.5 rounded ${LE[S.transactionType]||""}`,children:S.transactionType})]})}),t.jsxs("td",{className:"py-2.5 px-3",children:[t.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate max-w-[180px]",children:S.fundName||S.companyName}),t.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:S.fundCode||S.symbol})]}),t.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)]",children:S.portfolioName||""}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:(S.units||S.quantity||0).toFixed(u==="mf"?2:0)}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:Q(S.price||S.pricePerShare||0)}),t.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(S.totalAmount||0)}),t.jsx("td",{className:"py-2.5 px-3 text-right",children:y!==0?t.jsxs("span",{className:`text-xs font-semibold tabular-nums ${y>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[y>=0?"+":"",Q(Math.abs(y))]}):t.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})]},S.transactionId)})})]})}),t.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(S=>(S.gainLoss||S.realizedPL,t.jsxs("div",{className:"px-4 py-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:S.fundName||S.companyName}),t.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded shrink-0 ${fg[S.type]||""}`,children:S.type})]}),t.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[S.date,"  ",S.portfolioName]}),t.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[t.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[(S.units||S.quantity||0).toFixed(u==="mf"?2:0)," @ ",Q(S.price||S.pricePerShare||0)]}),t.jsx("span",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(S.totalAmount||0)})]})]},S.transactionId)))})]})})]})}function au({label:s,value:l,positive:r,bold:a}){return t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),t.jsx("p",{className:`text-sm tabular-nums ${a?"font-bold":"font-semibold"} ${r===void 0?"text-[var(--text-primary)]":r?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:l})]})}const Mn=[{id:"healthIns",question:"Does your family have Health Insurance?",tip:"50L to 1Cr family floater recommended (considering inflation & future expenses)",category:"Insurance"},{id:"termLife",question:"Do you have adequate Term Life Insurance?",tip:"Recommended: 10-15x annual income",category:"Insurance"},{id:"emergencyFund",question:"Do you have an Emergency Fund?",tip:"6-12 months of monthly expenses in liquid assets",category:"Savings"},{id:"familyAware",question:"Is your family aware of all investments?",tip:"Ensure nominees and family know about all assets",category:"Planning"},{id:"hasWill",question:"Do you have a Will?",tip:"Legal document for asset distribution",category:"Planning"},{id:"nominees",question:"Have you updated Nominees on all accounts?",tip:"Bank, demat, insurance, MF  all should have nominees",category:"Planning"},{id:"goals",question:"Do you have clearly defined Financial Goals?",tip:"Retirement, education, home  with target amounts and dates",category:"Goals"}];function PE(){const s=Hs(),{members:l,insurancePolicies:r,goalList:a,otherInvList:o,healthCheckCompleted:u,completeHealthCheck:d}=tt(),m=l.filter(I=>I.status==="Active"),x=u===!1,[p,v]=N.useState(!1),[b,g]=N.useState(!0),[w,M]=N.useState(null),S=N.useMemo(()=>{const I={},$=r.filter(le=>le.policyType==="Health"&&le.status==="Active");I.healthIns=$.length>0;const A=r.filter(le=>le.policyType==="Term Life"&&le.status==="Active");I.termLife=A.length>0;const se=a.filter(le=>le.goalType==="Emergency Fund"&&le.isActive),ce=o.filter(le=>le.investmentType==="FD"||le.investmentType==="PPF");return I.emergencyFund=se.length>0||ce.length>0,I.goals=a.filter(le=>le.isActive).length>=2,I},[r,a,o]);N.useEffect(()=>{let I=!1;async function $(){const A=await dy("healthCheckAnswers");!I&&A&&(M(A),g(!1));try{const se=await uy();!I&&se&&(M(se),Ta("healthCheckAnswers",se))}catch{}I||g(!1)}return $(),()=>{I=!0}},[]);const[y,j]=N.useState(()=>{const I={};return Mn.forEach($=>{I[$.id]=S[$.id]?"yes":""}),I});N.useEffect(()=>{w&&j(I=>{const $={...I};return Mn.forEach(A=>{const se=w[A.id];se==="Yes"?$[A.id]="yes":se==="No"&&($[A.id]="no")}),$})},[w]);const D=Object.values(y).filter(I=>I).length,k=Object.values(y).filter(I=>I==="yes").length,_=D===Mn.length,O=D>0?Math.round(k/Mn.length*100):0;function q(){return O>=80?"text-emerald-400":O>=50?"text-[var(--accent-amber)]":"text-[var(--accent-rose)]"}function P(){return O>=80?"Excellent":O>=60?"Good":O>=40?"Needs Work":"Critical"}const T=N.useMemo(()=>{const I=[];return y.healthIns!=="yes"&&I.push({severity:"critical",text:"Get Health Insurance for your family",action:"Minimum 5L cover recommended"}),y.termLife!=="yes"&&I.push({severity:"critical",text:"Get Term Life Insurance (10-15x annual income)",action:"Compare plans online"}),y.emergencyFund!=="yes"&&I.push({severity:"warning",text:"Build an Emergency Fund",action:"Save 6-12 months expenses in liquid fund/FD"}),y.familyAware!=="yes"&&I.push({severity:"warning",text:"Share investment details with family",action:"Create a document with all account info"}),y.hasWill!=="yes"&&I.push({severity:"warning",text:"Create a legal Will",action:"Consult a lawyer for Will registration"}),y.nominees!=="yes"&&I.push({severity:"warning",text:"Update nominees on all accounts",action:"Check bank, demat, insurance, MF accounts"}),y.goals!=="yes"&&I.push({severity:"info",text:"Define clear financial goals",action:"Use the Goal Planner to set targets"}),I},[y]),F=N.useCallback(async()=>{if(_){v(!0);try{const I={};Mn.forEach($=>{I[$.id]=y[$.id]==="yes"?"Yes":"No"}),I.score=k,I.total=Mn.length,await d(I),s("/dashboard")}catch(I){console.error("Failed to save health check:",I)}finally{v(!1)}}},[_,y,k,d,s]);return t.jsxs("div",{className:"space-y-4 max-w-2xl mx-auto",children:[x&&t.jsxs("div",{className:"bg-violet-500/10 border border-violet-500/20 rounded-xl p-4",children:[t.jsx("h2",{className:"text-base font-bold text-violet-400 mb-1",children:"Welcome to Capital Friends!"}),t.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Before you start, please complete this quick Financial Health Check. It takes less than a minute and helps you understand where your family stands financially."})]}),t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(wy,{size:16,className:"text-violet-400"}),t.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:"Financial Health Score"})]}),t.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[D,"/",Mn.length," answered"]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"relative w-20 h-20",children:[t.jsxs("svg",{className:"w-20 h-20 -rotate-90",viewBox:"0 0 36 36",children:[t.jsx("path",{d:"M18 2.0845a 15.9155 15.9155 0 0 1 0 31.831a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"var(--border)",strokeWidth:"3"}),t.jsx("path",{d:"M18 2.0845a 15.9155 15.9155 0 0 1 0 31.831a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:`${O}, 100`,className:q(),strokeLinecap:"round"})]}),t.jsxs("span",{className:`absolute inset-0 flex items-center justify-center text-lg font-bold ${q()}`,children:[O,"%"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:`text-base font-bold ${q()}`,children:P()}),t.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:[k," of ",Mn.length," checks passed"]}),t.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[m.length," family members tracked"]})]})]})]}),t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[t.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:t.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Health Check Questions"})}),t.jsx("div",{className:"divide-y divide-[var(--border-light)]",children:Mn.map((I,$)=>t.jsxs("div",{className:"px-4 py-3",children:[t.jsxs("div",{className:"flex items-start justify-between gap-3",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("p",{className:"text-sm text-[var(--text-primary)]",children:[t.jsxs("span",{className:"text-[var(--text-dim)] mr-2",children:[$+1,"."]}),I.question]}),t.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5 ml-5",children:I.tip})]}),t.jsxs("div",{className:"flex gap-1 shrink-0",children:[t.jsx("button",{onClick:()=>j(A=>({...A,[I.id]:"yes"})),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${y[I.id]==="yes"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"bg-[var(--bg-inset)] text-[var(--text-dim)] border border-[var(--border)] hover:text-[var(--text-primary)]"}`,children:"Yes"}),t.jsx("button",{onClick:()=>j(A=>({...A,[I.id]:"no"})),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${y[I.id]==="no"?"bg-rose-500/20 text-[var(--accent-rose)] border border-rose-500/30":"bg-[var(--bg-inset)] text-[var(--text-dim)] border border-[var(--border)] hover:text-[var(--text-primary)]"}`,children:"No"})]})]}),S[I.id]&&t.jsx("p",{className:"text-xs text-violet-400 mt-1 ml-5",children:"Auto-detected from your data"})]},I.id))})]}),T.length>0&&_&&t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[t.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:t.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Recommendations"})}),t.jsx("div",{className:"divide-y divide-[var(--border-light)]",children:T.map((I,$)=>{const A=I.severity==="critical"?t.jsx(jy,{size:14,className:"text-[var(--accent-rose)]"}):I.severity==="warning"?t.jsx(ns,{size:14,className:"text-[var(--accent-amber)]"}):t.jsx(r5,{size:14,className:"text-[var(--accent-blue)]"});return t.jsxs("div",{className:"flex items-start gap-3 px-4 py-3",children:[t.jsx("span",{className:"shrink-0 mt-0.5",children:A}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm text-[var(--text-primary)]",children:I.text}),t.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:I.action})]})]},$)})})]}),t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[!_&&t.jsxs("p",{className:"text-xs text-[var(--accent-amber)] mb-3",children:["Please answer all ",Mn.length," questions before saving."]}),t.jsx("button",{onClick:F,disabled:!_||p,className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg text-sm font-bold transition-colors ${_&&!p?"bg-violet-600 hover:bg-violet-500 text-white":"bg-[var(--bg-inset)] text-[var(--text-dim)] cursor-not-allowed"}`,children:p?t.jsxs(t.Fragment,{children:[t.jsx(Ay,{size:16,className:"animate-spin"}),"Saving..."]}):x?t.jsxs(t.Fragment,{children:["Save & Continue to Dashboard",t.jsx(FS,{size:16})]}):t.jsxs(t.Fragment,{children:[t.jsx(Oy,{size:16}),"Update Health Check"]})})]})]})}function zE(){return t.jsxs("div",{className:"space-y-4 max-w-lg mx-auto",children:[t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-5 text-center",children:[t.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-indigo-600 flex items-center justify-center mx-auto mb-3",children:t.jsx("span",{className:"text-xl font-bold text-white",children:"CF"})}),t.jsx("h1",{className:"text-lg font-bold text-[var(--text-primary)]",children:"Capital Friends"}),t.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:"Family Portfolio Management"}),t.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-2",children:"v2.0.0"})]}),t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[t.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:t.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Features"})}),t.jsx("div",{className:"px-4 py-3 space-y-2",children:["Track Mutual Funds, Stocks & Other Investments","Family member-wise portfolio management","ATH-based Buy Opportunities","Smart Rebalancing with threshold alerts","Goal planning with portfolio mapping","Insurance, Liabilities & Bank Accounts","Financial Health Check questionnaire","Reminders for SIPs, renewals & due dates","Email reports with detailed breakdowns"].map(s=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-500 shrink-0"}),t.jsx("p",{className:"text-xs text-[var(--text-secondary)]",children:s})]},s))})]}),t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[t.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(vu,{size:12,className:"text-pink-400"}),t.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Support Developer"})]})}),t.jsxs("div",{className:"px-4 py-4 text-center",children:[t.jsx("p",{className:"text-sm text-[var(--text-secondary)] mb-3",children:"If Capital Friends helps you manage your family finances, consider supporting the developer."}),t.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-4 py-3 border border-[var(--border)]",children:[t.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-1",children:"UPI"}),t.jsx("p",{className:"text-sm font-mono font-semibold text-[var(--text-primary)] select-all",children:"jagadeeshmanne.hdfc@kphdfc"})]}),t.jsxs("div",{className:"flex items-center justify-center gap-1 mt-3",children:[t.jsx(c5,{size:12,className:"text-[var(--accent-amber)]"}),t.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Buy me a chai!"})]})]})]}),t.jsxs("div",{className:"text-center py-2",children:[t.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Made with ",t.jsx(vu,{size:10,className:"inline text-pink-400 mx-0.5"})," by Jagadeesh Manne"]}),t.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:"Built with React + Vite + Tailwind CSS"})]})]})}function FE(){return Date.now().toString(36).toUpperCase()}function BE(){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZ",l=r=>Array.from({length:r},()=>s[Math.floor(Math.random()*26)]).join("");return l(5)+Math.floor(1e3+Math.random()*9e3)+l(1)}function HE(){return String(Math.floor(2e11+Math.random()*8e11))}function pg(){return"9"+String(Math.floor(1e8+Math.random()*9e8))}function YE(){return String(Math.floor(1e9+Math.random()*9e9))}function qE(){const s=FE();return{member:{memberName:`Test Member ${s}`,relationship:"Self",pan:BE(),aadhar:HE(),email:`test-${s.toLowerCase()}@example.com`,mobile:pg(),includeInEmailReports:!0},bank:{accountName:`Test Savings ${s}`,bankName:"Test Bank",accountNumber:YE(),ifscCode:"TEST0001234",accountType:"Savings",branchName:"Test Branch"},investmentAccount:{accountName:`Test Demat ${s}`,accountType:"Demat",platformBroker:"Test Broker Platform",accountClientId:`CLI-${s}`,registeredEmail:`test-${s.toLowerCase()}@example.com`,registeredPhone:pg()},insurance:{policyType:"Term Life",company:"Test Insurance Co",policyNumber:`POL-${s}`,policyName:`Test Term Plan ${s}`,sumAssured:5e6,nominee:"Test Nominee",dynamicFields:{Premium:15e3,"Premium Frequency":"Annual"}},liability:{liabilityType:"Home Loan",lenderName:"Test Bank",outstandingBalance:45e5,dynamicFields:{"Principal Amount":5e6,"Interest Rate":8.5,"EMI Amount":45e3},notes:`Test liability ${s}`},otherInvestment:{investmentType:"Fixed Deposit",investmentName:`Test FD ${s}`,investedAmount:1e5,currentValue:105e3,investmentCategory:"Debt"},stockPortfolio:{portfolioName:`Test Stock Portfolio ${s}`,broker:"Test Broker"},reminder:{title:`Test Reminder ${s}`,description:"Automated test reminder",dueDate:new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0],category:"Insurance",priority:"Medium"},goal:{goalName:`Test Goal ${s}`,goalType:"Custom",targetAmount:1e6,targetDate:"2040-01-01",priority:"Medium",expectedInflation:.06,expectedCAGR:.12}}}function UE({status:s,text:l}){const r={pass:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",fail:"bg-rose-500/20 text-rose-400 border-rose-500/30",skip:"bg-amber-500/20 text-amber-400 border-amber-500/30",running:"bg-blue-500/20 text-blue-400 border-blue-500/30",pending:"bg-gray-500/20 text-gray-400 border-gray-500/30"};return t.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded border ${r[s]||r.pending}`,children:l||s.toUpperCase()})}function $E(){const{user:s}=Ys(),[l,r]=N.useState([]),[a,o]=N.useState(!1),[u,d]=N.useState(null),[m,x]=N.useState(!1),p=N.useCallback((y,j,D="")=>{r(k=>[...k,{test:y,status:j,detail:D,time:new Date().toLocaleTimeString()}])},[]),v=N.useCallback((y,j="")=>{r(D=>{const k=[...D];return k.length>0&&(k[k.length-1]={...k[k.length-1],status:y,detail:j}),k})},[]),b=async()=>{x(!0),d(null);try{const y=await Se("test:diagnose");d(y)}catch(y){d({error:y.message})}finally{x(!1)}},g=async()=>{o(!0),r([]);const y=qE();let j=null,D=null,k=null,_=null,O=null,q=null,P=null,T=null,F=null,I=null;try{p("API Echo Test","running");try{const A=await Se("test:echo",{hello:"world"});A&&A.echo&&A.echo.hello==="world"?v("pass","Echo response received correctly"):v("fail","Unexpected response: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Diagnostics","running");try{const A=await Se("test:diagnose"),se=Object.entries(A.sheets||{}).filter(([,le])=>!le.exists).map(([le])=>le);if(se.length>0)v("fail",`Missing sheets: ${se.join(", ")}`);else{const le=Object.keys(A.sheets).length;v("pass",`All ${le} sheets exist. SpreadsheetId: ${A.spreadsheetId}`)}const ce=Object.entries(A.dataTests||{}).filter(([,le])=>!le.success).map(([le,B])=>`${le}: ${B.error}`);ce.length>0&&p("Data Function Errors","fail",ce.join("; "))}catch(A){v("fail",A.message)}p("Load All Data (bulk)","running");try{const A=await hu(),se=Object.entries(A).map(([ce,le])=>`${ce}: ${Array.isArray(le)?le.length:"?"}`);v("pass",se.join(", "))}catch(A){v("fail",A.message)}p("Members  Create","running");try{const A=await Pg(y.member);j=A?.memberId,D=y.member.memberName,j?v("pass",`Created: ${j}`):v("fail","No memberId returned: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Members  List","running");try{const A=await Ig();Array.isArray(A)&&A.some(ce=>ce.memberId===j)?v("pass",`Found ${j} in ${A.length} member(s)`):v("fail",`Member ${j} not found. Got ${Array.isArray(A)?A.length:0} members: ${JSON.stringify(A).substring(0,200)}`)}catch(A){v("fail",A.message)}if(j){p("Members  Update","running");try{await zg({...y.member,memberId:j,memberName:"Updated Test Member"}),D="Updated Test Member",v("pass",'Updated name to "Updated Test Member"')}catch(A){v("fail",A.message)}}p("Banks  Create","running");try{const A=await Hg({...y.bank,memberId:j||"FM-001"});k=A?.accountId,v(k?"pass":"fail",k?`Created: ${k}`:"No accountId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Banks  List","running");try{const A=await Bg();v("pass",`${Array.isArray(A)?A.length:0} account(s)`)}catch(A){v("fail",A.message)}p("Investment Accounts  Create","running");try{const A=await Ug({...y.investmentAccount,memberId:j||"FM-001",bankAccountId:k||"BA-001"});_=A?.accountId,v(_?"pass":"fail",_?`Created: ${_}`:"No accountId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Investment Accounts  List","running");try{const A=await qg();v("pass",`${Array.isArray(A)?A.length:0} account(s)`)}catch(A){v("fail",A.message)}p("Insurance  Create","running");try{const A=await Xg({...y.insurance,memberId:j||"FM-001",insuredMember:D||"Test Member"});O=A?.policyId,v(O?"pass":"fail",O?`Created: ${O}`:"No policyId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Insurance  List","running");try{const A=await Kg();v("pass",`${Array.isArray(A)?A.length:0} policy/policies`)}catch(A){v("fail",A.message)}p("Liabilities  Create","running");try{const A=await Jg({...y.liability,familyMember:j||"FM-001"});q=A?.liabilityId,v(q?"pass":"fail",q?`Created: ${q}`:"No liabilityId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Liabilities  List","running");try{const A=await Zg();v("pass",`${Array.isArray(A)?A.length:0} liability/liabilities`)}catch(A){v("fail",A.message)}p("Other Investments  Create","running");try{const A=await ay({...y.otherInvestment,familyMember:j||"FM-001"});P=A?.investmentId,v(P?"pass":"fail",P?`Created: ${P}`:"No investmentId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Other Investments  List","running");try{const A=await ty();v("pass",`${Array.isArray(A)?A.length:0} investment(s)`)}catch(A){v("fail",A.message)}p("Stock Portfolios  Create","running");try{const A=await sy({...y.stockPortfolio,owner:j||"FM-001"});T=A?.portfolioId,v(T?"pass":"fail",T?`Created: ${T}`:"No portfolioId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Stock Portfolios  List","running");try{const A=await ry();v("pass",`${Array.isArray(A)?A.length:0} portfolio(s)`)}catch(A){v("fail",A.message)}p("Reminders  Create","running");try{const A=await oy(y.reminder);F=A?.reminderId,v(F?"pass":"fail",F?`Created: ${F}`:"No reminderId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Reminders  List","running");try{const A=await iy();v("pass",`${Array.isArray(A)?A.length:0} reminder(s)`)}catch(A){v("fail",A.message)}p("Goals  Create","running");try{const A=await Gg(y.goal);I=A?.goalId,v(I?"pass":"fail",I?`Created: ${I}`:"No goalId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Goals  List","running");try{const A=await Vg();v("pass",`${Array.isArray(A)?A.length:0} goal(s)`)}catch(A){v("fail",A.message)}p("Cleanup  Delete test data","running");const $=[];if(I)try{await Qg(I)}catch(A){$.push("goal: "+A.message)}if(F)try{await cy(F)}catch(A){$.push("reminder: "+A.message)}if(T)try{await ly(T)}catch(A){$.push("stockPortfolio: "+A.message)}if(P)try{await ny(P)}catch(A){$.push("otherInv: "+A.message)}if(q)try{await ey(q)}catch(A){$.push("liability: "+A.message)}if(O)try{await Wg(O)}catch(A){$.push("insurance: "+A.message)}if(_)try{await $g(_)}catch(A){$.push("invAcct: "+A.message)}if(k)try{await Yg(k)}catch(A){$.push("bank: "+A.message)}if(j)try{await Fg(j)}catch(A){$.push("member: "+A.message)}$.length>0?v("fail",$.join("; ")):v("pass","All test data cleaned up"),p("Final Load All (post-cleanup)","running");try{const A=await hu(),se=Object.entries(A).map(([ce,le])=>`${ce}: ${Array.isArray(le)?le.length:"?"}`);v("pass",se.join(", "))}catch(A){v("fail",A.message)}}catch($){p("UNEXPECTED ERROR","fail",$.message)}finally{o(!1)}},w=l.filter(y=>y.status==="pass").length,M=l.filter(y=>y.status==="fail").length,S=l.filter(y=>y.status!=="running").length;return t.jsx("div",{className:"min-h-screen bg-[var(--bg-main)] p-4 max-w-3xl mx-auto",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-lg font-bold text-[var(--text-primary)]",children:"API Test Suite"}),t.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Signed in as ",s?.email||"unknown"]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:b,disabled:m||a,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-[var(--bg-card)] border border-[var(--border)] text-[var(--text-secondary)] hover:bg-[var(--bg-elevated)] disabled:opacity-50 cursor-pointer",children:m?"Running...":"Diagnostics"}),t.jsx("button",{onClick:g,disabled:a,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-violet-600 text-white hover:bg-violet-700 disabled:opacity-50 cursor-pointer",children:a?"Running Tests...":"Run All Tests"})]})]}),S>0&&t.jsxs("div",{className:"flex gap-3 text-xs",children:[t.jsxs("span",{className:"text-emerald-400",children:["Pass: ",w]}),t.jsxs("span",{className:"text-rose-400",children:["Fail: ",M]}),t.jsxs("span",{className:"text-[var(--text-dim)]",children:["Total: ",S]})]}),u&&t.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4 space-y-3",children:[t.jsx("h2",{className:"text-sm font-semibold text-[var(--text-primary)]",children:"Diagnostics Report"}),u.error?t.jsx("p",{className:"text-xs text-rose-400",children:u.error}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"text-xs text-[var(--text-secondary)] space-y-1",children:[t.jsxs("p",{children:[t.jsx("span",{className:"text-[var(--text-dim)]",children:"Spreadsheet:"})," ",u.spreadsheetName]}),t.jsxs("p",{children:[t.jsx("span",{className:"text-[var(--text-dim)]",children:"ID:"})," ",t.jsx("code",{className:"text-[10px]",children:u.spreadsheetId})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xs font-medium text-[var(--text-primary)] mb-1",children:"Sheets"}),t.jsx("div",{className:"grid grid-cols-2 gap-1",children:Object.entries(u.sheets||{}).map(([y,j])=>t.jsxs("div",{className:"flex items-center justify-between text-[11px] px-2 py-1 rounded bg-[var(--bg-elevated)]",children:[t.jsx("span",{className:"text-[var(--text-secondary)] truncate",children:y}),j.exists?t.jsxs("span",{className:"text-emerald-400 ml-1",children:[j.dataRows,"r"]}):t.jsx("span",{className:"text-rose-400 ml-1",children:"MISSING"})]},y))})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xs font-medium text-[var(--text-primary)] mb-1",children:"Data Functions"}),t.jsx("div",{className:"space-y-1",children:Object.entries(u.dataTests||{}).map(([y,j])=>t.jsxs("div",{className:"flex items-center justify-between text-[11px] px-2 py-1 rounded bg-[var(--bg-elevated)]",children:[t.jsx("span",{className:"text-[var(--text-secondary)]",children:y}),j.success?t.jsxs("span",{className:"text-emerald-400",children:[j.count," items"]}):t.jsx("span",{className:"text-rose-400 truncate ml-2 max-w-[200px]",title:j.error,children:j.error})]},y))})]}),u.safeCallErrors&&u.safeCallErrors.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-xs font-medium text-rose-400 mb-1",children:"SafeCall Errors"}),u.safeCallErrors.map((y,j)=>t.jsxs("p",{className:"text-[11px] text-rose-400",children:[y.fn,": ",y.error]},j))]})]})]}),l.length>0&&t.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:t.jsx("div",{className:"divide-y divide-[var(--border)]",children:l.map((y,j)=>t.jsxs("div",{className:"px-4 py-2 flex items-start gap-3",children:[t.jsx("div",{className:"mt-0.5 shrink-0",children:t.jsx(UE,{status:y.status})}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:y.test}),y.detail&&t.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5 break-all",children:y.detail})]}),t.jsx("span",{className:"text-[10px] text-[var(--text-dim)] shrink-0",children:y.time})]},j))})}),l.length===0&&!u&&t.jsxs("div",{className:"text-center py-12 text-[var(--text-dim)]",children:[t.jsx("p",{className:"text-sm",children:'Click "Run All Tests" to test all CRUD operations'}),t.jsx("p",{className:"text-xs mt-1",children:'or "Diagnostics" to check spreadsheet structure'})]})]})})}function VE(){return t.jsxs(t2,{children:[t.jsx(At,{index:!0,element:t.jsx(V3,{})}),t.jsx(At,{path:"login",element:t.jsx(M1,{})}),t.jsx(At,{element:t.jsx(H3,{}),children:t.jsxs(At,{element:t.jsx(B3,{}),children:[t.jsx(At,{path:"dashboard",element:t.jsx(pu,{to:"/investments/mutual-funds",replace:!0})}),t.jsx(At,{path:"family",element:t.jsx(gE,{})}),t.jsx(At,{path:"accounts/bank",element:t.jsx(Yb,{})}),t.jsx(At,{path:"accounts/investment",element:t.jsx(Z3,{})}),t.jsx(At,{path:"insurance",element:t.jsx(aA,{})}),t.jsx(At,{path:"investments/mutual-funds",element:t.jsx(cE,{})}),t.jsx(At,{path:"investments/stocks",element:t.jsx(hE,{})}),t.jsx(At,{path:"investments/other",element:t.jsx(pA,{})}),t.jsx(At,{path:"liabilities",element:t.jsx(lA,{})}),t.jsx(At,{path:"goals",element:t.jsx(CE,{})}),t.jsx(At,{path:"reports",element:t.jsx(IE,{})}),t.jsx(At,{path:"reminders",element:t.jsx(RE,{})}),t.jsx(At,{path:"health-check",element:t.jsx(PE,{})}),t.jsx(At,{path:"about",element:t.jsx(zE,{})}),t.jsx(At,{path:"test",element:t.jsx($E,{})}),t.jsx(At,{path:"settings",element:t.jsx(ME,{})}),t.jsx(At,{path:"more",element:t.jsx(DE,{})}),t.jsx(At,{path:"accounts",element:t.jsx(Yb,{})}),t.jsx(At,{path:"*",element:t.jsx(G3,{})})]})})]})}aw.createRoot(document.getElementById("root")).render(t.jsx(C2,{children:t.jsx(kS,{children:t.jsx(DS,{children:t.jsx(PC,{children:t.jsx(kC,{children:t.jsx(DC,{children:t.jsx(AS,{children:t.jsx(ES,{children:t.jsx(VE,{})})})})})})})})}));
