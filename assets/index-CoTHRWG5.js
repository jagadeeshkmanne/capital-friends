function Pj(s,l){for(var r=0;r<l.length;r++){const t=l[r];if(typeof t!="string"&&!Array.isArray(t)){for(const o in t)if(o!=="default"&&!(o in s)){const u=Object.getOwnPropertyDescriptor(t,o);u&&Object.defineProperty(s,o,u.get?u:{enumerable:!0,get:()=>t[o]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&t(d)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function t(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();function ig(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Km={exports:{}},ki={};var o0;function zj(){if(o0)return ki;o0=1;var s=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function r(t,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:t,key:d,ref:o!==void 0?o:null,props:u}}return ki.Fragment=l,ki.jsx=r,ki.jsxs=r,ki}var c0;function Fj(){return c0||(c0=1,Km.exports=zj()),Km.exports}var n=Fj(),Xm={exports:{}},Re={};var u0;function Bj(){if(u0)return Re;u0=1;var s=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),t=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),j=Symbol.iterator;function w(F){return F===null||typeof F!="object"?null:(F=j&&F[j]||F["@@iterator"],typeof F=="function"?F:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,y={};function N(F,ae,ue){this.props=F,this.context=ae,this.refs=y,this.updater=ue||M}N.prototype.isReactComponent={},N.prototype.setState=function(F,ae){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ae,"setState")},N.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function D(){}D.prototype=N.prototype;function g(F,ae,ue){this.props=F,this.context=ae,this.refs=y,this.updater=ue||M}var _=g.prototype=new D;_.constructor=g,C(_,N.prototype),_.isPureReactComponent=!0;var P=Array.isArray;function U(){}var G={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function L(F,ae,ue){var de=ue.ref;return{$$typeof:s,type:F,key:ae,ref:de!==void 0?de:null,props:ue}}function B(F,ae){return L(F.type,ae,F.props)}function W(F){return typeof F=="object"&&F!==null&&F.$$typeof===s}function A(F){var ae={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ue){return ae[ue]})}var se=/\/+/g;function q(F,ae){return typeof F=="object"&&F!==null&&F.key!=null?A(""+F.key):ae.toString(36)}function J(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(U,U):(F.status="pending",F.then(function(ae){F.status==="pending"&&(F.status="fulfilled",F.value=ae)},function(ae){F.status==="pending"&&(F.status="rejected",F.reason=ae)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function z(F,ae,ue,de,ke){var je=typeof F;(je==="undefined"||je==="boolean")&&(F=null);var ge=!1;if(F===null)ge=!0;else switch(je){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(F.$$typeof){case s:case l:ge=!0;break;case v:return ge=F._init,z(ge(F._payload),ae,ue,de,ke)}}if(ge)return ke=ke(F),ge=de===""?"."+q(F,0):de,P(ke)?(ue="",ge!=null&&(ue=ge.replace(se,"$&/")+"/"),z(ke,ae,ue,"",function(Yt){return Yt})):ke!=null&&(W(ke)&&(ke=B(ke,ue+(ke.key==null||F&&F.key===ke.key?"":(""+ke.key).replace(se,"$&/")+"/")+ge)),ae.push(ke)),1;ge=0;var Qe=de===""?".":de+":";if(P(F))for(var Ze=0;Ze<F.length;Ze++)de=F[Ze],je=Qe+q(de,Ze),ge+=z(de,ae,ue,je,ke);else if(Ze=w(F),typeof Ze=="function")for(F=Ze.call(F),Ze=0;!(de=F.next()).done;)de=de.value,je=Qe+q(de,Ze++),ge+=z(de,ae,ue,je,ke);else if(je==="object"){if(typeof F.then=="function")return z(J(F),ae,ue,de,ke);throw ae=String(F),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return ge}function O(F,ae,ue){if(F==null)return F;var de=[],ke=0;return z(F,de,"","",function(je){return ae.call(ue,je,ke++)}),de}function R(F){if(F._status===-1){var ae=F._result;ae=ae(),ae.then(function(ue){(F._status===0||F._status===-1)&&(F._status=1,F._result=ue)},function(ue){(F._status===0||F._status===-1)&&(F._status=2,F._result=ue)}),F._status===-1&&(F._status=0,F._result=ae)}if(F._status===1)return F._result.default;throw F._result}var ce=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},ve={map:O,forEach:function(F,ae,ue){O(F,function(){ae.apply(this,arguments)},ue)},count:function(F){var ae=0;return O(F,function(){ae++}),ae},toArray:function(F){return O(F,function(ae){return ae})||[]},only:function(F){if(!W(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return Re.Activity=b,Re.Children=ve,Re.Component=N,Re.Fragment=r,Re.Profiler=o,Re.PureComponent=g,Re.StrictMode=t,Re.Suspense=x,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,Re.__COMPILER_RUNTIME={__proto__:null,c:function(F){return G.H.useMemoCache(F)}},Re.cache=function(F){return function(){return F.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(F,ae,ue){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var de=C({},F.props),ke=F.key;if(ae!=null)for(je in ae.key!==void 0&&(ke=""+ae.key),ae)!E.call(ae,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&ae.ref===void 0||(de[je]=ae[je]);var je=arguments.length-2;if(je===1)de.children=ue;else if(1<je){for(var ge=Array(je),Qe=0;Qe<je;Qe++)ge[Qe]=arguments[Qe+2];de.children=ge}return L(F.type,ke,de)},Re.createContext=function(F){return F={$$typeof:d,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:u,_context:F},F},Re.createElement=function(F,ae,ue){var de,ke={},je=null;if(ae!=null)for(de in ae.key!==void 0&&(je=""+ae.key),ae)E.call(ae,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(ke[de]=ae[de]);var ge=arguments.length-2;if(ge===1)ke.children=ue;else if(1<ge){for(var Qe=Array(ge),Ze=0;Ze<ge;Ze++)Qe[Ze]=arguments[Ze+2];ke.children=Qe}if(F&&F.defaultProps)for(de in ge=F.defaultProps,ge)ke[de]===void 0&&(ke[de]=ge[de]);return L(F,je,ke)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(F){return{$$typeof:m,render:F}},Re.isValidElement=W,Re.lazy=function(F){return{$$typeof:v,_payload:{_status:-1,_result:F},_init:R}},Re.memo=function(F,ae){return{$$typeof:p,type:F,compare:ae===void 0?null:ae}},Re.startTransition=function(F){var ae=G.T,ue={};G.T=ue;try{var de=F(),ke=G.S;ke!==null&&ke(ue,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(U,ce)}catch(je){ce(je)}finally{ae!==null&&ue.types!==null&&(ae.types=ue.types),G.T=ae}},Re.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},Re.use=function(F){return G.H.use(F)},Re.useActionState=function(F,ae,ue){return G.H.useActionState(F,ae,ue)},Re.useCallback=function(F,ae){return G.H.useCallback(F,ae)},Re.useContext=function(F){return G.H.useContext(F)},Re.useDebugValue=function(){},Re.useDeferredValue=function(F,ae){return G.H.useDeferredValue(F,ae)},Re.useEffect=function(F,ae){return G.H.useEffect(F,ae)},Re.useEffectEvent=function(F){return G.H.useEffectEvent(F)},Re.useId=function(){return G.H.useId()},Re.useImperativeHandle=function(F,ae,ue){return G.H.useImperativeHandle(F,ae,ue)},Re.useInsertionEffect=function(F,ae){return G.H.useInsertionEffect(F,ae)},Re.useLayoutEffect=function(F,ae){return G.H.useLayoutEffect(F,ae)},Re.useMemo=function(F,ae){return G.H.useMemo(F,ae)},Re.useOptimistic=function(F,ae){return G.H.useOptimistic(F,ae)},Re.useReducer=function(F,ae,ue){return G.H.useReducer(F,ae,ue)},Re.useRef=function(F){return G.H.useRef(F)},Re.useState=function(F){return G.H.useState(F)},Re.useSyncExternalStore=function(F,ae,ue){return G.H.useSyncExternalStore(F,ae,ue)},Re.useTransition=function(){return G.H.useTransition()},Re.version="19.2.4",Re}var d0;function Hf(){return d0||(d0=1,Xm.exports=Bj()),Xm.exports}var S=Hf();const ne=ig(S),og=Pj({__proto__:null,default:ne},[S]);var Wm={exports:{}},Di={},Zm={exports:{}},Jm={};var m0;function Hj(){return m0||(m0=1,(function(s){function l(z,O){var R=z.length;z.push(O);e:for(;0<R;){var ce=R-1>>>1,ve=z[ce];if(0<o(ve,O))z[ce]=O,z[R]=ve,R=ce;else break e}}function r(z){return z.length===0?null:z[0]}function t(z){if(z.length===0)return null;var O=z[0],R=z.pop();if(R!==O){z[0]=R;e:for(var ce=0,ve=z.length,F=ve>>>1;ce<F;){var ae=2*(ce+1)-1,ue=z[ae],de=ae+1,ke=z[de];if(0>o(ue,R))de<ve&&0>o(ke,ue)?(z[ce]=ke,z[de]=R,ce=de):(z[ce]=ue,z[ae]=R,ce=ae);else if(de<ve&&0>o(ke,R))z[ce]=ke,z[de]=R,ce=de;else break e}}return O}function o(z,O){var R=z.sortIndex-O.sortIndex;return R!==0?R:z.id-O.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();s.unstable_now=function(){return d.now()-m}}var x=[],p=[],v=1,b=null,j=3,w=!1,M=!1,C=!1,y=!1,N=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;function _(z){for(var O=r(p);O!==null;){if(O.callback===null)t(p);else if(O.startTime<=z)t(p),O.sortIndex=O.expirationTime,l(x,O);else break;O=r(p)}}function P(z){if(C=!1,_(z),!M)if(r(x)!==null)M=!0,U||(U=!0,A());else{var O=r(p);O!==null&&J(P,O.startTime-z)}}var U=!1,G=-1,E=5,L=-1;function B(){return y?!0:!(s.unstable_now()-L<E)}function W(){if(y=!1,U){var z=s.unstable_now();L=z;var O=!0;try{e:{M=!1,C&&(C=!1,D(G),G=-1),w=!0;var R=j;try{t:{for(_(z),b=r(x);b!==null&&!(b.expirationTime>z&&B());){var ce=b.callback;if(typeof ce=="function"){b.callback=null,j=b.priorityLevel;var ve=ce(b.expirationTime<=z);if(z=s.unstable_now(),typeof ve=="function"){b.callback=ve,_(z),O=!0;break t}b===r(x)&&t(x),_(z)}else t(x);b=r(x)}if(b!==null)O=!0;else{var F=r(p);F!==null&&J(P,F.startTime-z),O=!1}}break e}finally{b=null,j=R,w=!1}O=void 0}}finally{O?A():U=!1}}}var A;if(typeof g=="function")A=function(){g(W)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,q=se.port2;se.port1.onmessage=W,A=function(){q.postMessage(null)}}else A=function(){N(W,0)};function J(z,O){G=N(function(){z(s.unstable_now())},O)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(z){z.callback=null},s.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<z?Math.floor(1e3/z):5},s.unstable_getCurrentPriorityLevel=function(){return j},s.unstable_next=function(z){switch(j){case 1:case 2:case 3:var O=3;break;default:O=j}var R=j;j=O;try{return z()}finally{j=R}},s.unstable_requestPaint=function(){y=!0},s.unstable_runWithPriority=function(z,O){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var R=j;j=z;try{return O()}finally{j=R}},s.unstable_scheduleCallback=function(z,O,R){var ce=s.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?ce+R:ce):R=ce,z){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=R+ve,z={id:v++,callback:O,priorityLevel:z,startTime:R,expirationTime:ve,sortIndex:-1},R>ce?(z.sortIndex=R,l(p,z),r(x)===null&&z===r(p)&&(C?(D(G),G=-1):C=!0,J(P,R-ce))):(z.sortIndex=ve,l(x,z),M||w||(M=!0,U||(U=!0,A()))),z},s.unstable_shouldYield=B,s.unstable_wrapCallback=function(z){var O=j;return function(){var R=j;j=O;try{return z.apply(this,arguments)}finally{j=R}}}})(Jm)),Jm}var f0;function Yj(){return f0||(f0=1,Zm.exports=Hj()),Zm.exports}var ef={exports:{}},Zt={};var p0;function Uj(){if(p0)return Zt;p0=1;var s=Hf();function l(x){var p="https://react.dev/errors/"+x;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+x+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var t={d:{f:r,r:function(){throw Error(l(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(x,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:x,containerInfo:p,implementation:v}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(x,p){if(x==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=t,Zt.createPortal=function(x,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(l(299));return u(x,p,null,v)},Zt.flushSync=function(x){var p=d.T,v=t.p;try{if(d.T=null,t.p=2,x)return x()}finally{d.T=p,t.p=v,t.d.f()}},Zt.preconnect=function(x,p){typeof x=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,t.d.C(x,p))},Zt.prefetchDNS=function(x){typeof x=="string"&&t.d.D(x)},Zt.preinit=function(x,p){if(typeof x=="string"&&p&&typeof p.as=="string"){var v=p.as,b=m(v,p.crossOrigin),j=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?t.d.S(x,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:j,fetchPriority:w}):v==="script"&&t.d.X(x,{crossOrigin:b,integrity:j,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Zt.preinitModule=function(x,p){if(typeof x=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=m(p.as,p.crossOrigin);t.d.M(x,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&t.d.M(x)},Zt.preload=function(x,p){if(typeof x=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=m(v,p.crossOrigin);t.d.L(x,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Zt.preloadModule=function(x,p){if(typeof x=="string")if(p){var v=m(p.as,p.crossOrigin);t.d.m(x,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else t.d.m(x)},Zt.requestFormReset=function(x){t.d.r(x)},Zt.unstable_batchedUpdates=function(x,p){return x(p)},Zt.useFormState=function(x,p,v){return d.H.useFormState(x,p,v)},Zt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Zt.version="19.2.4",Zt}var x0;function cg(){if(x0)return ef.exports;x0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(l){console.error(l)}}return s(),ef.exports=Uj(),ef.exports}var h0;function qj(){if(h0)return Di;h0=1;var s=Yj(),l=Hf(),r=cg();function t(e){var a="https://react.dev/errors/"+e;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)a+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var a=e,i=e;if(e.alternate)for(;a.return;)a=a.return;else{e=a;do a=e,(a.flags&4098)!==0&&(i=a.return),e=a.return;while(e)}return a.tag===3?i:null}function d(e){if(e.tag===13){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function m(e){if(e.tag===31){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function x(e){if(u(e)!==e)throw Error(t(188))}function p(e){var a=e.alternate;if(!a){if(a=u(e),a===null)throw Error(t(188));return a!==e?null:e}for(var i=e,c=a;;){var f=i.return;if(f===null)break;var h=f.alternate;if(h===null){if(c=f.return,c!==null){i=c;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===i)return x(f),e;if(h===c)return x(f),a;h=h.sibling}throw Error(t(188))}if(i.return!==c.return)i=f,c=h;else{for(var k=!1,T=f.child;T;){if(T===i){k=!0,i=f,c=h;break}if(T===c){k=!0,c=f,i=h;break}T=T.sibling}if(!k){for(T=h.child;T;){if(T===i){k=!0,i=h,c=f;break}if(T===c){k=!0,c=h,i=f;break}T=T.sibling}if(!k)throw Error(t(189))}}if(i.alternate!==c)throw Error(t(190))}if(i.tag!==3)throw Error(t(188));return i.stateNode.current===i?e:a}function v(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e;for(e=e.child;e!==null;){if(a=v(e),a!==null)return a;e=e.sibling}return null}var b=Object.assign,j=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),g=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function A(e){return e===null||typeof e!="object"?null:(e=W&&e[W]||e["@@iterator"],typeof e=="function"?e:null)}var se=Symbol.for("react.client.reference");function q(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===se?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case N:return"Profiler";case y:return"StrictMode";case P:return"Suspense";case U:return"SuspenseList";case L:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case g:return e.displayName||"Context";case D:return(e._context.displayName||"Context")+".Consumer";case _:var a=e.render;return e=e.displayName,e||(e=a.displayName||a.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case G:return a=e.displayName||null,a!==null?a:q(e.type)||"Memo";case E:a=e._payload,e=e._init;try{return q(e(a))}catch{}}return null}var J=Array.isArray,z=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},ce=[],ve=-1;function F(e){return{current:e}}function ae(e){0>ve||(e.current=ce[ve],ce[ve]=null,ve--)}function ue(e,a){ve++,ce[ve]=e.current,e.current=a}var de=F(null),ke=F(null),je=F(null),ge=F(null);function Qe(e,a){switch(ue(je,a),ue(ke,e),ue(de,null),a.nodeType){case 9:case 11:e=(e=a.documentElement)&&(e=e.namespaceURI)?Ev(e):0;break;default:if(e=a.tagName,a=a.namespaceURI)a=Ev(a),e=_v(a,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ae(de),ue(de,e)}function Ze(){ae(de),ae(ke),ae(je)}function Yt(e){e.memoizedState!==null&&ue(ge,e);var a=de.current,i=_v(a,e.type);a!==i&&(ue(ke,e),ue(de,i))}function Xt(e){ke.current===e&&(ae(de),ae(ke)),ge.current===e&&(ae(ge),ji._currentValue=R)}var H,he;function oe(e){if(H===void 0)try{throw Error()}catch(i){var a=i.stack.trim().match(/\n( *(at )?)/);H=a&&a[1]||"",he=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+H+e+he}var fe=!1;function Ae(e,a){if(!e||fe)return"";fe=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(te){var Z=te}Reflect.construct(e,[],ie)}else{try{ie.call()}catch(te){Z=te}e.call(ie.prototype)}}else{try{throw Error()}catch(te){Z=te}(ie=e())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(te){if(te&&Z&&typeof te.stack=="string")return[te.stack,Z.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=c.DetermineComponentFrameRoot(),k=h[0],T=h[1];if(k&&T){var I=k.split(`
`),X=T.split(`
`);for(f=c=0;c<I.length&&!I[c].includes("DetermineComponentFrameRoot");)c++;for(;f<X.length&&!X[f].includes("DetermineComponentFrameRoot");)f++;if(c===I.length||f===X.length)for(c=I.length-1,f=X.length-1;1<=c&&0<=f&&I[c]!==X[f];)f--;for(;1<=c&&0<=f;c--,f--)if(I[c]!==X[f]){if(c!==1||f!==1)do if(c--,f--,0>f||I[c]!==X[f]){var re=`
`+I[c].replace(" at new "," at ");return e.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",e.displayName)),re}while(1<=c&&0<=f);break}}}finally{fe=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?oe(i):""}function st(e,a){switch(e.tag){case 26:case 27:case 5:return oe(e.type);case 16:return oe("Lazy");case 13:return e.child!==a&&a!==null?oe("Suspense Fallback"):oe("Suspense");case 19:return oe("SuspenseList");case 0:case 15:return Ae(e.type,!1);case 11:return Ae(e.type.render,!1);case 1:return Ae(e.type,!0);case 31:return oe("Activity");default:return""}}function lt(e){try{var a="",i=null;do a+=st(e,i),i=e,e=e.return;while(e);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Pe=Object.prototype.hasOwnProperty,Ge=s.unstable_scheduleCallback,Nt=s.unstable_cancelCallback,oa=s.unstable_shouldYield,Ct=s.unstable_requestPaint,Oe=s.unstable_now,gt=s.unstable_getCurrentPriorityLevel,Me=s.unstable_ImmediatePriority,xe=s.unstable_UserBlockingPriority,dt=s.unstable_NormalPriority,Ft=s.unstable_LowPriority,mt=s.unstable_IdlePriority,kt=s.log,Qa=s.unstable_setDisableYieldValue,zr=null,na=null;function sn(e){if(typeof kt=="function"&&Qa(e),na&&typeof na.setStrictMode=="function")try{na.setStrictMode(zr,e)}catch{}}var ra=Math.clz32?Math.clz32:Pu,Iu=Math.log,Lu=Math.LN2;function Pu(e){return e>>>=0,e===0?32:31-(Iu(e)/Lu|0)|0}var Ns=256,js=262144,ws=4194304;function Mn(e){var a=e&42;if(a!==0)return a;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ss(e,a,i){var c=e.pendingLanes;if(c===0)return 0;var f=0,h=e.suspendedLanes,k=e.pingedLanes;e=e.warmLanes;var T=c&134217727;return T!==0?(c=T&~h,c!==0?f=Mn(c):(k&=T,k!==0?f=Mn(k):i||(i=T&~e,i!==0&&(f=Mn(i))))):(T=c&~h,T!==0?f=Mn(T):k!==0?f=Mn(k):i||(i=c&~e,i!==0&&(f=Mn(i)))),f===0?0:a!==0&&a!==f&&(a&h)===0&&(h=f&-f,i=a&-a,h>=i||h===32&&(i&4194048)!==0)?a:f}function Fr(e,a){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&a)===0}function zu(e,a){switch(e){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function no(){var e=ws;return ws<<=1,(ws&62914560)===0&&(ws=4194304),e}function Rl(e){for(var a=[],i=0;31>i;i++)a.push(e);return a}function Br(e,a){e.pendingLanes|=a,a!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fu(e,a,i,c,f,h){var k=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,X=e.hiddenUpdates;for(i=k&~i;0<i;){var re=31-ra(i),ie=1<<re;T[re]=0,I[re]=-1;var Z=X[re];if(Z!==null)for(X[re]=null,re=0;re<Z.length;re++){var te=Z[re];te!==null&&(te.lane&=-536870913)}i&=~ie}c!==0&&ro(e,c,0),h!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=h&~(k&~a))}function ro(e,a,i){e.pendingLanes|=a,e.suspendedLanes&=~a;var c=31-ra(a);e.entangledLanes|=a,e.entanglements[c]=e.entanglements[c]|1073741824|i&261930}function so(e,a){var i=e.entangledLanes|=a;for(e=e.entanglements;i;){var c=31-ra(i),f=1<<c;f&a|e[c]&a&&(e[c]|=a),i&=~f}}function lo(e,a){var i=a&-a;return i=(i&42)!==0?1:Il(i),(i&(e.suspendedLanes|a))!==0?0:i}function Il(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ll(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function io(){var e=O.p;return e!==0?e:(e=window.event,e===void 0?32:t0(e.type))}function oo(e,a){var i=O.p;try{return O.p=e,a()}finally{O.p=i}}var ln=Math.random().toString(36).slice(2),Lt="__reactFiber$"+ln,Wt="__reactProps$"+ln,rr="__reactContainer$"+ln,Pl="__reactEvents$"+ln,Bu="__reactListeners$"+ln,Hu="__reactHandles$"+ln,$="__reactResources$"+ln,me="__reactMarker$"+ln;function Ut(e){delete e[Lt],delete e[Wt],delete e[Pl],delete e[Bu],delete e[Hu]}function ca(e){var a=e[Lt];if(a)return a;for(var i=e.parentNode;i;){if(a=i[rr]||i[Lt]){if(i=a.alternate,a.child!==null||i!==null&&i.child!==null)for(e=Fv(e);e!==null;){if(i=e[Lt])return i;e=Fv(e)}return a}e=i,i=e.parentNode}return null}function Ka(e){if(e=e[Lt]||e[rr]){var a=e.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return e}return null}function zl(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e.stateNode;throw Error(t(33))}function Cs(e){var a=e[$];return a||(a=e[$]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Bt(e){e[me]=!0}var gp=new Set,yp={};function Hr(e,a){ks(e,a),ks(e+"Capture",a)}function ks(e,a){for(yp[e]=a,e=0;e<a.length;e++)gp.add(a[e])}var M1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Np={},jp={};function A1(e){return Pe.call(jp,e)?!0:Pe.call(Np,e)?!1:M1.test(e)?jp[e]=!0:(Np[e]=!0,!1)}function co(e,a,i){if(A1(a))if(i===null)e.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(a);return}}e.setAttribute(a,""+i)}}function uo(e,a,i){if(i===null)e.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttribute(a,""+i)}}function An(e,a,i,c){if(c===null)e.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(a,i,""+c)}}function Ia(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wp(e){var a=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function T1(e,a,i){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,a);if(!e.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,h=c.set;return Object.defineProperty(e,a,{configurable:!0,get:function(){return f.call(this)},set:function(k){i=""+k,h.call(this,k)}}),Object.defineProperty(e,a,{enumerable:c.enumerable}),{getValue:function(){return i},setValue:function(k){i=""+k},stopTracking:function(){e._valueTracker=null,delete e[a]}}}}function Yu(e){if(!e._valueTracker){var a=wp(e)?"checked":"value";e._valueTracker=T1(e,a,""+e[a])}}function Sp(e){if(!e)return!1;var a=e._valueTracker;if(!a)return!0;var i=a.getValue(),c="";return e&&(c=wp(e)?e.checked?"true":"false":e.value),e=c,e!==i?(a.setValue(e),!0):!1}function mo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var E1=/[\n"\\]/g;function La(e){return e.replace(E1,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Uu(e,a,i,c,f,h,k,T){e.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?e.type=k:e.removeAttribute("type"),a!=null?k==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+Ia(a)):e.value!==""+Ia(a)&&(e.value=""+Ia(a)):k!=="submit"&&k!=="reset"||e.removeAttribute("value"),a!=null?qu(e,k,Ia(a)):i!=null?qu(e,k,Ia(i)):c!=null&&e.removeAttribute("value"),f==null&&h!=null&&(e.defaultChecked=!!h),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Ia(T):e.removeAttribute("name")}function Cp(e,a,i,c,f,h,k,T){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),a!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||a!=null)){Yu(e);return}i=i!=null?""+Ia(i):"",a=a!=null?""+Ia(a):i,T||a===e.value||(e.value=a),e.defaultValue=a}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=T?e.checked:!!c,e.defaultChecked=!!c,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(e.name=k),Yu(e)}function qu(e,a,i){a==="number"&&mo(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Ds(e,a,i,c){if(e=e.options,a){a={};for(var f=0;f<i.length;f++)a["$"+i[f]]=!0;for(i=0;i<e.length;i++)f=a.hasOwnProperty("$"+e[i].value),e[i].selected!==f&&(e[i].selected=f),f&&c&&(e[i].defaultSelected=!0)}else{for(i=""+Ia(i),a=null,f=0;f<e.length;f++){if(e[f].value===i){e[f].selected=!0,c&&(e[f].defaultSelected=!0);return}a!==null||e[f].disabled||(a=e[f])}a!==null&&(a.selected=!0)}}function kp(e,a,i){if(a!=null&&(a=""+Ia(a),a!==e.value&&(e.value=a),i==null)){e.defaultValue!==a&&(e.defaultValue=a);return}e.defaultValue=i!=null?""+Ia(i):""}function Dp(e,a,i,c){if(a==null){if(c!=null){if(i!=null)throw Error(t(92));if(J(c)){if(1<c.length)throw Error(t(93));c=c[0]}i=c}i==null&&(i=""),a=i}i=Ia(a),e.defaultValue=i,c=e.textContent,c===i&&c!==""&&c!==null&&(e.value=c),Yu(e)}function Ms(e,a){if(a){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=a;return}}e.textContent=a}var _1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mp(e,a,i){var c=a.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?c?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="":c?e.setProperty(a,i):typeof i!="number"||i===0||_1.has(a)?a==="float"?e.cssFloat=i:e[a]=(""+i).trim():e[a]=i+"px"}function Ap(e,a,i){if(a!=null&&typeof a!="object")throw Error(t(62));if(e=e.style,i!=null){for(var c in i)!i.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var f in a)c=a[f],a.hasOwnProperty(f)&&i[f]!==c&&Mp(e,f,c)}else for(var h in a)a.hasOwnProperty(h)&&Mp(e,h,a[h])}function $u(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var O1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),R1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fo(e){return R1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Tn(){}var Vu=null;function Gu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var As=null,Ts=null;function Tp(e){var a=Ka(e);if(a&&(e=a.stateNode)){var i=e[Wt]||null;e:switch(e=a.stateNode,a.type){case"input":if(Uu(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),a=i.name,i.type==="radio"&&a!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+La(""+a)+'"][type="radio"]'),a=0;a<i.length;a++){var c=i[a];if(c!==e&&c.form===e.form){var f=c[Wt]||null;if(!f)throw Error(t(90));Uu(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<i.length;a++)c=i[a],c.form===e.form&&Sp(c)}break e;case"textarea":kp(e,i.value,i.defaultValue);break e;case"select":a=i.value,a!=null&&Ds(e,!!i.multiple,a,!1)}}}var Qu=!1;function Ep(e,a,i){if(Qu)return e(a,i);Qu=!0;try{var c=e(a);return c}finally{if(Qu=!1,(As!==null||Ts!==null)&&(ec(),As&&(a=As,e=Ts,Ts=As=null,Tp(a),e)))for(a=0;a<e.length;a++)Tp(e[a])}}function Fl(e,a){var i=e.stateNode;if(i===null)return null;var c=i[Wt]||null;if(c===null)return null;i=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(t(231,a,typeof i));return i}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ku=!1;if(En)try{var Bl={};Object.defineProperty(Bl,"passive",{get:function(){Ku=!0}}),window.addEventListener("test",Bl,Bl),window.removeEventListener("test",Bl,Bl)}catch{Ku=!1}var sr=null,Xu=null,po=null;function _p(){if(po)return po;var e,a=Xu,i=a.length,c,f="value"in sr?sr.value:sr.textContent,h=f.length;for(e=0;e<i&&a[e]===f[e];e++);var k=i-e;for(c=1;c<=k&&a[i-c]===f[h-c];c++);return po=f.slice(e,1<c?1-c:void 0)}function xo(e){var a=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&a===13&&(e=13)):e=a,e===10&&(e=13),32<=e||e===13?e:0}function ho(){return!0}function Op(){return!1}function ua(e){function a(i,c,f,h,k){this._reactName=i,this._targetInst=f,this.type=c,this.nativeEvent=h,this.target=k,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(i=e[T],this[T]=i?i(h):h[T]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?ho:Op,this.isPropagationStopped=Op,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ho)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ho)},persist:function(){},isPersistent:ho}),a}var Yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vo=ua(Yr),Hl=b({},Yr,{view:0,detail:0}),I1=ua(Hl),Wu,Zu,Yl,bo=b({},Hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ed,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yl&&(Yl&&e.type==="mousemove"?(Wu=e.screenX-Yl.screenX,Zu=e.screenY-Yl.screenY):Zu=Wu=0,Yl=e),Wu)},movementY:function(e){return"movementY"in e?e.movementY:Zu}}),Rp=ua(bo),L1=b({},bo,{dataTransfer:0}),P1=ua(L1),z1=b({},Hl,{relatedTarget:0}),Ju=ua(z1),F1=b({},Yr,{animationName:0,elapsedTime:0,pseudoElement:0}),B1=ua(F1),H1=b({},Yr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Y1=ua(H1),U1=b({},Yr,{data:0}),Ip=ua(U1),q1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},V1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function G1(e){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(e):(e=V1[e])?!!a[e]:!1}function ed(){return G1}var Q1=b({},Hl,{key:function(e){if(e.key){var a=q1[e.key]||e.key;if(a!=="Unidentified")return a}return e.type==="keypress"?(e=xo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ed,charCode:function(e){return e.type==="keypress"?xo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),K1=ua(Q1),X1=b({},bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lp=ua(X1),W1=b({},Hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ed}),Z1=ua(W1),J1=b({},Yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),eN=ua(J1),tN=b({},bo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),aN=ua(tN),nN=b({},Yr,{newState:0,oldState:0}),rN=ua(nN),sN=[9,13,27,32],td=En&&"CompositionEvent"in window,Ul=null;En&&"documentMode"in document&&(Ul=document.documentMode);var lN=En&&"TextEvent"in window&&!Ul,Pp=En&&(!td||Ul&&8<Ul&&11>=Ul),zp=" ",Fp=!1;function Bp(e,a){switch(e){case"keyup":return sN.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Es=!1;function iN(e,a){switch(e){case"compositionend":return Hp(a);case"keypress":return a.which!==32?null:(Fp=!0,zp);case"textInput":return e=a.data,e===zp&&Fp?null:e;default:return null}}function oN(e,a){if(Es)return e==="compositionend"||!td&&Bp(e,a)?(e=_p(),po=Xu=sr=null,Es=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Pp&&a.locale!=="ko"?null:a.data;default:return null}}var cN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yp(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a==="input"?!!cN[e.type]:a==="textarea"}function Up(e,a,i,c){As?Ts?Ts.push(c):Ts=[c]:As=c,a=ic(a,"onChange"),0<a.length&&(i=new vo("onChange","change",null,i,c),e.push({event:i,listeners:a}))}var ql=null,$l=null;function uN(e){Cv(e,0)}function go(e){var a=zl(e);if(Sp(a))return e}function qp(e,a){if(e==="change")return a}var $p=!1;if(En){var ad;if(En){var nd="oninput"in document;if(!nd){var Vp=document.createElement("div");Vp.setAttribute("oninput","return;"),nd=typeof Vp.oninput=="function"}ad=nd}else ad=!1;$p=ad&&(!document.documentMode||9<document.documentMode)}function Gp(){ql&&(ql.detachEvent("onpropertychange",Qp),$l=ql=null)}function Qp(e){if(e.propertyName==="value"&&go($l)){var a=[];Up(a,$l,e,Gu(e)),Ep(uN,a)}}function dN(e,a,i){e==="focusin"?(Gp(),ql=a,$l=i,ql.attachEvent("onpropertychange",Qp)):e==="focusout"&&Gp()}function mN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return go($l)}function fN(e,a){if(e==="click")return go(a)}function pN(e,a){if(e==="input"||e==="change")return go(a)}function xN(e,a){return e===a&&(e!==0||1/e===1/a)||e!==e&&a!==a}var wa=typeof Object.is=="function"?Object.is:xN;function Vl(e,a){if(wa(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;var i=Object.keys(e),c=Object.keys(a);if(i.length!==c.length)return!1;for(c=0;c<i.length;c++){var f=i[c];if(!Pe.call(a,f)||!wa(e[f],a[f]))return!1}return!0}function Kp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xp(e,a){var i=Kp(e);e=0;for(var c;i;){if(i.nodeType===3){if(c=e+i.textContent.length,e<=a&&c>=a)return{node:i,offset:a-e};e=c}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Kp(i)}}function Wp(e,a){return e&&a?e===a?!0:e&&e.nodeType===3?!1:a&&a.nodeType===3?Wp(e,a.parentNode):"contains"in e?e.contains(a):e.compareDocumentPosition?!!(e.compareDocumentPosition(a)&16):!1:!1}function Zp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var a=mo(e.document);a instanceof e.HTMLIFrameElement;){try{var i=typeof a.contentWindow.location.href=="string"}catch{i=!1}if(i)e=a.contentWindow;else break;a=mo(e.document)}return a}function rd(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a&&(a==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||a==="textarea"||e.contentEditable==="true")}var hN=En&&"documentMode"in document&&11>=document.documentMode,_s=null,sd=null,Gl=null,ld=!1;function Jp(e,a,i){var c=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ld||_s==null||_s!==mo(c)||(c=_s,"selectionStart"in c&&rd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Gl&&Vl(Gl,c)||(Gl=c,c=ic(sd,"onSelect"),0<c.length&&(a=new vo("onSelect","select",null,a,i),e.push({event:a,listeners:c}),a.target=_s)))}function Ur(e,a){var i={};return i[e.toLowerCase()]=a.toLowerCase(),i["Webkit"+e]="webkit"+a,i["Moz"+e]="moz"+a,i}var Os={animationend:Ur("Animation","AnimationEnd"),animationiteration:Ur("Animation","AnimationIteration"),animationstart:Ur("Animation","AnimationStart"),transitionrun:Ur("Transition","TransitionRun"),transitionstart:Ur("Transition","TransitionStart"),transitioncancel:Ur("Transition","TransitionCancel"),transitionend:Ur("Transition","TransitionEnd")},id={},ex={};En&&(ex=document.createElement("div").style,"AnimationEvent"in window||(delete Os.animationend.animation,delete Os.animationiteration.animation,delete Os.animationstart.animation),"TransitionEvent"in window||delete Os.transitionend.transition);function qr(e){if(id[e])return id[e];if(!Os[e])return e;var a=Os[e],i;for(i in a)if(a.hasOwnProperty(i)&&i in ex)return id[e]=a[i];return e}var tx=qr("animationend"),ax=qr("animationiteration"),nx=qr("animationstart"),vN=qr("transitionrun"),bN=qr("transitionstart"),gN=qr("transitioncancel"),rx=qr("transitionend"),sx=new Map,od="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");od.push("scrollEnd");function Xa(e,a){sx.set(e,a),Hr(a,[e])}var yo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Pa=[],Rs=0,cd=0;function No(){for(var e=Rs,a=cd=Rs=0;a<e;){var i=Pa[a];Pa[a++]=null;var c=Pa[a];Pa[a++]=null;var f=Pa[a];Pa[a++]=null;var h=Pa[a];if(Pa[a++]=null,c!==null&&f!==null){var k=c.pending;k===null?f.next=f:(f.next=k.next,k.next=f),c.pending=f}h!==0&&lx(i,f,h)}}function jo(e,a,i,c){Pa[Rs++]=e,Pa[Rs++]=a,Pa[Rs++]=i,Pa[Rs++]=c,cd|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function ud(e,a,i,c){return jo(e,a,i,c),wo(e)}function $r(e,a){return jo(e,null,null,a),wo(e)}function lx(e,a,i){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i);for(var f=!1,h=e.return;h!==null;)h.childLanes|=i,c=h.alternate,c!==null&&(c.childLanes|=i),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(f=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,f&&a!==null&&(f=31-ra(i),e=h.hiddenUpdates,c=e[f],c===null?e[f]=[a]:c.push(a),a.lane=i|536870912),h):null}function wo(e){if(50<xi)throw xi=0,gm=null,Error(t(185));for(var a=e.return;a!==null;)e=a,a=e.return;return e.tag===3?e.stateNode:null}var Is={};function yN(e,a,i,c){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sa(e,a,i,c){return new yN(e,a,i,c)}function dd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _n(e,a){var i=e.alternate;return i===null?(i=Sa(e.tag,a,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=a,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,a=e.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function ix(e,a){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=a,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,a=i.dependencies,e.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),e}function So(e,a,i,c,f,h){var k=0;if(c=e,typeof e=="function")dd(e)&&(k=1);else if(typeof e=="string")k=Cj(e,i,de.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case L:return e=Sa(31,i,a,f),e.elementType=L,e.lanes=h,e;case C:return Vr(i.children,f,h,a);case y:k=8,f|=24;break;case N:return e=Sa(12,i,a,f|2),e.elementType=N,e.lanes=h,e;case P:return e=Sa(13,i,a,f),e.elementType=P,e.lanes=h,e;case U:return e=Sa(19,i,a,f),e.elementType=U,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case g:k=10;break e;case D:k=9;break e;case _:k=11;break e;case G:k=14;break e;case E:k=16,c=null;break e}k=29,i=Error(t(130,e===null?"null":typeof e,"")),c=null}return a=Sa(k,i,a,f),a.elementType=e,a.type=c,a.lanes=h,a}function Vr(e,a,i,c){return e=Sa(7,e,c,a),e.lanes=i,e}function md(e,a,i){return e=Sa(6,e,null,a),e.lanes=i,e}function ox(e){var a=Sa(18,null,null,0);return a.stateNode=e,a}function fd(e,a,i){return a=Sa(4,e.children!==null?e.children:[],e.key,a),a.lanes=i,a.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},a}var cx=new WeakMap;function za(e,a){if(typeof e=="object"&&e!==null){var i=cx.get(e);return i!==void 0?i:(a={value:e,source:a,stack:lt(a)},cx.set(e,a),a)}return{value:e,source:a,stack:lt(a)}}var Ls=[],Ps=0,Co=null,Ql=0,Fa=[],Ba=0,lr=null,on=1,cn="";function On(e,a){Ls[Ps++]=Ql,Ls[Ps++]=Co,Co=e,Ql=a}function ux(e,a,i){Fa[Ba++]=on,Fa[Ba++]=cn,Fa[Ba++]=lr,lr=e;var c=on;e=cn;var f=32-ra(c)-1;c&=~(1<<f),i+=1;var h=32-ra(a)+f;if(30<h){var k=f-f%5;h=(c&(1<<k)-1).toString(32),c>>=k,f-=k,on=1<<32-ra(a)+f|i<<f|c,cn=h+e}else on=1<<h|i<<f|c,cn=e}function pd(e){e.return!==null&&(On(e,1),ux(e,1,0))}function xd(e){for(;e===Co;)Co=Ls[--Ps],Ls[Ps]=null,Ql=Ls[--Ps],Ls[Ps]=null;for(;e===lr;)lr=Fa[--Ba],Fa[Ba]=null,cn=Fa[--Ba],Fa[Ba]=null,on=Fa[--Ba],Fa[Ba]=null}function dx(e,a){Fa[Ba++]=on,Fa[Ba++]=cn,Fa[Ba++]=lr,on=a.id,cn=a.overflow,lr=e}var qt=null,ft=null,Ve=!1,ir=null,Ha=!1,hd=Error(t(519));function or(e){var a=Error(t(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kl(za(a,e)),hd}function mx(e){var a=e.stateNode,i=e.type,c=e.memoizedProps;switch(a[Lt]=e,a[Wt]=c,i){case"dialog":Be("cancel",a),Be("close",a);break;case"iframe":case"object":case"embed":Be("load",a);break;case"video":case"audio":for(i=0;i<vi.length;i++)Be(vi[i],a);break;case"source":Be("error",a);break;case"img":case"image":case"link":Be("error",a),Be("load",a);break;case"details":Be("toggle",a);break;case"input":Be("invalid",a),Cp(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Be("invalid",a);break;case"textarea":Be("invalid",a),Dp(a,c.value,c.defaultValue,c.children)}i=c.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||a.textContent===""+i||c.suppressHydrationWarning===!0||Av(a.textContent,i)?(c.popover!=null&&(Be("beforetoggle",a),Be("toggle",a)),c.onScroll!=null&&Be("scroll",a),c.onScrollEnd!=null&&Be("scrollend",a),c.onClick!=null&&(a.onclick=Tn),a=!0):a=!1,a||or(e,!0)}function fx(e){for(qt=e.return;qt;)switch(qt.tag){case 5:case 31:case 13:Ha=!1;return;case 27:case 3:Ha=!0;return;default:qt=qt.return}}function zs(e){if(e!==qt)return!1;if(!Ve)return fx(e),Ve=!0,!1;var a=e.tag,i;if((i=a!==3&&a!==27)&&((i=a===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Rm(e.type,e.memoizedProps)),i=!i),i&&ft&&or(e),fx(e),a===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(t(317));ft=zv(e)}else if(a===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(t(317));ft=zv(e)}else a===27?(a=ft,jr(e.type)?(e=Fm,Fm=null,ft=e):ft=a):ft=qt?Ua(e.stateNode.nextSibling):null;return!0}function Gr(){ft=qt=null,Ve=!1}function vd(){var e=ir;return e!==null&&(pa===null?pa=e:pa.push.apply(pa,e),ir=null),e}function Kl(e){ir===null?ir=[e]:ir.push(e)}var bd=F(null),Qr=null,Rn=null;function cr(e,a,i){ue(bd,a._currentValue),a._currentValue=i}function In(e){e._currentValue=bd.current,ae(bd)}function gd(e,a,i){for(;e!==null;){var c=e.alternate;if((e.childLanes&a)!==a?(e.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),e===i)break;e=e.return}}function yd(e,a,i,c){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var h=f.dependencies;if(h!==null){var k=f.child;h=h.firstContext;e:for(;h!==null;){var T=h;h=f;for(var I=0;I<a.length;I++)if(T.context===a[I]){h.lanes|=i,T=h.alternate,T!==null&&(T.lanes|=i),gd(h.return,i,e),c||(k=null);break e}h=T.next}}else if(f.tag===18){if(k=f.return,k===null)throw Error(t(341));k.lanes|=i,h=k.alternate,h!==null&&(h.lanes|=i),gd(k,i,e),k=null}else k=f.child;if(k!==null)k.return=f;else for(k=f;k!==null;){if(k===e){k=null;break}if(f=k.sibling,f!==null){f.return=k.return,k=f;break}k=k.return}f=k}}function Fs(e,a,i,c){e=null;for(var f=a,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var k=f.alternate;if(k===null)throw Error(t(387));if(k=k.memoizedProps,k!==null){var T=f.type;wa(f.pendingProps.value,k.value)||(e!==null?e.push(T):e=[T])}}else if(f===ge.current){if(k=f.alternate,k===null)throw Error(t(387));k.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(ji):e=[ji])}f=f.return}e!==null&&yd(a,e,i,c),a.flags|=262144}function ko(e){for(e=e.firstContext;e!==null;){if(!wa(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Kr(e){Qr=e,Rn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $t(e){return px(Qr,e)}function Do(e,a){return Qr===null&&Kr(e),px(e,a)}function px(e,a){var i=a._currentValue;if(a={context:a,memoizedValue:i,next:null},Rn===null){if(e===null)throw Error(t(308));Rn=a,e.dependencies={lanes:0,firstContext:a},e.flags|=524288}else Rn=Rn.next=a;return i}var NN=typeof AbortController<"u"?AbortController:function(){var e=[],a=this.signal={aborted:!1,addEventListener:function(i,c){e.push(c)}};this.abort=function(){a.aborted=!0,e.forEach(function(i){return i()})}},jN=s.unstable_scheduleCallback,wN=s.unstable_NormalPriority,Et={$$typeof:g,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nd(){return{controller:new NN,data:new Map,refCount:0}}function Xl(e){e.refCount--,e.refCount===0&&jN(wN,function(){e.controller.abort()})}var Wl=null,jd=0,Bs=0,Hs=null;function SN(e,a){if(Wl===null){var i=Wl=[];jd=0,Bs=Cm(),Hs={status:"pending",value:void 0,then:function(c){i.push(c)}}}return jd++,a.then(xx,xx),a}function xx(){if(--jd===0&&Wl!==null){Hs!==null&&(Hs.status="fulfilled");var e=Wl;Wl=null,Bs=0,Hs=null;for(var a=0;a<e.length;a++)(0,e[a])()}}function CN(e,a){var i=[],c={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return e.then(function(){c.status="fulfilled",c.value=a;for(var f=0;f<i.length;f++)(0,i[f])(a)},function(f){for(c.status="rejected",c.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),c}var hx=z.S;z.S=function(e,a){Jh=Oe(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&SN(e,a),hx!==null&&hx(e,a)};var Xr=F(null);function wd(){var e=Xr.current;return e!==null?e:ut.pooledCache}function Mo(e,a){a===null?ue(Xr,Xr.current):ue(Xr,a.pool)}function vx(){var e=wd();return e===null?null:{parent:Et._currentValue,pool:e}}var Ys=Error(t(460)),Sd=Error(t(474)),Ao=Error(t(542)),To={then:function(){}};function bx(e){return e=e.status,e==="fulfilled"||e==="rejected"}function gx(e,a,i){switch(i=e[i],i===void 0?e.push(a):i!==a&&(a.then(Tn,Tn),a=i),a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Nx(e),e;default:if(typeof a.status=="string")a.then(Tn,Tn);else{if(e=ut,e!==null&&100<e.shellSuspendCounter)throw Error(t(482));e=a,e.status="pending",e.then(function(c){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=c}},function(c){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Nx(e),e}throw Zr=a,Ys}}function Wr(e){try{var a=e._init;return a(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Zr=i,Ys):i}}var Zr=null;function yx(){if(Zr===null)throw Error(t(459));var e=Zr;return Zr=null,e}function Nx(e){if(e===Ys||e===Ao)throw Error(t(483))}var Us=null,Zl=0;function Eo(e){var a=Zl;return Zl+=1,Us===null&&(Us=[]),gx(Us,e,a)}function Jl(e,a){a=a.props.ref,e.ref=a!==void 0?a:null}function _o(e,a){throw a.$$typeof===j?Error(t(525)):(e=Object.prototype.toString.call(a),Error(t(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)))}function jx(e){function a(V,Y){if(e){var Q=V.deletions;Q===null?(V.deletions=[Y],V.flags|=16):Q.push(Y)}}function i(V,Y){if(!e)return null;for(;Y!==null;)a(V,Y),Y=Y.sibling;return null}function c(V){for(var Y=new Map;V!==null;)V.key!==null?Y.set(V.key,V):Y.set(V.index,V),V=V.sibling;return Y}function f(V,Y){return V=_n(V,Y),V.index=0,V.sibling=null,V}function h(V,Y,Q){return V.index=Q,e?(Q=V.alternate,Q!==null?(Q=Q.index,Q<Y?(V.flags|=67108866,Y):Q):(V.flags|=67108866,Y)):(V.flags|=1048576,Y)}function k(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function T(V,Y,Q,le){return Y===null||Y.tag!==6?(Y=md(Q,V.mode,le),Y.return=V,Y):(Y=f(Y,Q),Y.return=V,Y)}function I(V,Y,Q,le){var De=Q.type;return De===C?re(V,Y,Q.props.children,le,Q.key):Y!==null&&(Y.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===E&&Wr(De)===Y.type)?(Y=f(Y,Q.props),Jl(Y,Q),Y.return=V,Y):(Y=So(Q.type,Q.key,Q.props,null,V.mode,le),Jl(Y,Q),Y.return=V,Y)}function X(V,Y,Q,le){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==Q.containerInfo||Y.stateNode.implementation!==Q.implementation?(Y=fd(Q,V.mode,le),Y.return=V,Y):(Y=f(Y,Q.children||[]),Y.return=V,Y)}function re(V,Y,Q,le,De){return Y===null||Y.tag!==7?(Y=Vr(Q,V.mode,le,De),Y.return=V,Y):(Y=f(Y,Q),Y.return=V,Y)}function ie(V,Y,Q){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=md(""+Y,V.mode,Q),Y.return=V,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:return Q=So(Y.type,Y.key,Y.props,null,V.mode,Q),Jl(Q,Y),Q.return=V,Q;case M:return Y=fd(Y,V.mode,Q),Y.return=V,Y;case E:return Y=Wr(Y),ie(V,Y,Q)}if(J(Y)||A(Y))return Y=Vr(Y,V.mode,Q,null),Y.return=V,Y;if(typeof Y.then=="function")return ie(V,Eo(Y),Q);if(Y.$$typeof===g)return ie(V,Do(V,Y),Q);_o(V,Y)}return null}function Z(V,Y,Q,le){var De=Y!==null?Y.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return De!==null?null:T(V,Y,""+Q,le);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case w:return Q.key===De?I(V,Y,Q,le):null;case M:return Q.key===De?X(V,Y,Q,le):null;case E:return Q=Wr(Q),Z(V,Y,Q,le)}if(J(Q)||A(Q))return De!==null?null:re(V,Y,Q,le,null);if(typeof Q.then=="function")return Z(V,Y,Eo(Q),le);if(Q.$$typeof===g)return Z(V,Y,Do(V,Q),le);_o(V,Q)}return null}function te(V,Y,Q,le,De){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return V=V.get(Q)||null,T(Y,V,""+le,De);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case w:return V=V.get(le.key===null?Q:le.key)||null,I(Y,V,le,De);case M:return V=V.get(le.key===null?Q:le.key)||null,X(Y,V,le,De);case E:return le=Wr(le),te(V,Y,Q,le,De)}if(J(le)||A(le))return V=V.get(Q)||null,re(Y,V,le,De,null);if(typeof le.then=="function")return te(V,Y,Q,Eo(le),De);if(le.$$typeof===g)return te(V,Y,Q,Do(Y,le),De);_o(Y,le)}return null}function we(V,Y,Q,le){for(var De=null,Xe=null,Se=Y,Le=Y=0,qe=null;Se!==null&&Le<Q.length;Le++){Se.index>Le?(qe=Se,Se=null):qe=Se.sibling;var We=Z(V,Se,Q[Le],le);if(We===null){Se===null&&(Se=qe);break}e&&Se&&We.alternate===null&&a(V,Se),Y=h(We,Y,Le),Xe===null?De=We:Xe.sibling=We,Xe=We,Se=qe}if(Le===Q.length)return i(V,Se),Ve&&On(V,Le),De;if(Se===null){for(;Le<Q.length;Le++)Se=ie(V,Q[Le],le),Se!==null&&(Y=h(Se,Y,Le),Xe===null?De=Se:Xe.sibling=Se,Xe=Se);return Ve&&On(V,Le),De}for(Se=c(Se);Le<Q.length;Le++)qe=te(Se,V,Le,Q[Le],le),qe!==null&&(e&&qe.alternate!==null&&Se.delete(qe.key===null?Le:qe.key),Y=h(qe,Y,Le),Xe===null?De=qe:Xe.sibling=qe,Xe=qe);return e&&Se.forEach(function(Dr){return a(V,Dr)}),Ve&&On(V,Le),De}function Te(V,Y,Q,le){if(Q==null)throw Error(t(151));for(var De=null,Xe=null,Se=Y,Le=Y=0,qe=null,We=Q.next();Se!==null&&!We.done;Le++,We=Q.next()){Se.index>Le?(qe=Se,Se=null):qe=Se.sibling;var Dr=Z(V,Se,We.value,le);if(Dr===null){Se===null&&(Se=qe);break}e&&Se&&Dr.alternate===null&&a(V,Se),Y=h(Dr,Y,Le),Xe===null?De=Dr:Xe.sibling=Dr,Xe=Dr,Se=qe}if(We.done)return i(V,Se),Ve&&On(V,Le),De;if(Se===null){for(;!We.done;Le++,We=Q.next())We=ie(V,We.value,le),We!==null&&(Y=h(We,Y,Le),Xe===null?De=We:Xe.sibling=We,Xe=We);return Ve&&On(V,Le),De}for(Se=c(Se);!We.done;Le++,We=Q.next())We=te(Se,V,Le,We.value,le),We!==null&&(e&&We.alternate!==null&&Se.delete(We.key===null?Le:We.key),Y=h(We,Y,Le),Xe===null?De=We:Xe.sibling=We,Xe=We);return e&&Se.forEach(function(Lj){return a(V,Lj)}),Ve&&On(V,Le),De}function ct(V,Y,Q,le){if(typeof Q=="object"&&Q!==null&&Q.type===C&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case w:e:{for(var De=Q.key;Y!==null;){if(Y.key===De){if(De=Q.type,De===C){if(Y.tag===7){i(V,Y.sibling),le=f(Y,Q.props.children),le.return=V,V=le;break e}}else if(Y.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===E&&Wr(De)===Y.type){i(V,Y.sibling),le=f(Y,Q.props),Jl(le,Q),le.return=V,V=le;break e}i(V,Y);break}else a(V,Y);Y=Y.sibling}Q.type===C?(le=Vr(Q.props.children,V.mode,le,Q.key),le.return=V,V=le):(le=So(Q.type,Q.key,Q.props,null,V.mode,le),Jl(le,Q),le.return=V,V=le)}return k(V);case M:e:{for(De=Q.key;Y!==null;){if(Y.key===De)if(Y.tag===4&&Y.stateNode.containerInfo===Q.containerInfo&&Y.stateNode.implementation===Q.implementation){i(V,Y.sibling),le=f(Y,Q.children||[]),le.return=V,V=le;break e}else{i(V,Y);break}else a(V,Y);Y=Y.sibling}le=fd(Q,V.mode,le),le.return=V,V=le}return k(V);case E:return Q=Wr(Q),ct(V,Y,Q,le)}if(J(Q))return we(V,Y,Q,le);if(A(Q)){if(De=A(Q),typeof De!="function")throw Error(t(150));return Q=De.call(Q),Te(V,Y,Q,le)}if(typeof Q.then=="function")return ct(V,Y,Eo(Q),le);if(Q.$$typeof===g)return ct(V,Y,Do(V,Q),le);_o(V,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,Y!==null&&Y.tag===6?(i(V,Y.sibling),le=f(Y,Q),le.return=V,V=le):(i(V,Y),le=md(Q,V.mode,le),le.return=V,V=le),k(V)):i(V,Y)}return function(V,Y,Q,le){try{Zl=0;var De=ct(V,Y,Q,le);return Us=null,De}catch(Se){if(Se===Ys||Se===Ao)throw Se;var Xe=Sa(29,Se,null,V.mode);return Xe.lanes=le,Xe.return=V,Xe}}}var Jr=jx(!0),wx=jx(!1),ur=!1;function Cd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kd(e,a){e=e.updateQueue,a.updateQueue===e&&(a.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function dr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function mr(e,a,i){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Je&2)!==0){var f=c.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),c.pending=a,a=wo(e),lx(e,null,i),a}return jo(e,c,a,i),wo(e)}function ei(e,a,i){if(a=a.updateQueue,a!==null&&(a=a.shared,(i&4194048)!==0)){var c=a.lanes;c&=e.pendingLanes,i|=c,a.lanes=i,so(e,i)}}function Dd(e,a){var i=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,i===c)){var f=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var k={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?f=h=k:h=h.next=k,i=i.next}while(i!==null);h===null?f=h=a:h=h.next=a}else f=h=a;i={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:c.shared,callbacks:c.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=a:e.next=a,i.lastBaseUpdate=a}var Md=!1;function ti(){if(Md){var e=Hs;if(e!==null)throw e}}function ai(e,a,i,c){Md=!1;var f=e.updateQueue;ur=!1;var h=f.firstBaseUpdate,k=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var I=T,X=I.next;I.next=null,k===null?h=X:k.next=X,k=I;var re=e.alternate;re!==null&&(re=re.updateQueue,T=re.lastBaseUpdate,T!==k&&(T===null?re.firstBaseUpdate=X:T.next=X,re.lastBaseUpdate=I))}if(h!==null){var ie=f.baseState;k=0,re=X=I=null,T=h;do{var Z=T.lane&-536870913,te=Z!==T.lane;if(te?(Ue&Z)===Z:(c&Z)===Z){Z!==0&&Z===Bs&&(Md=!0),re!==null&&(re=re.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var we=e,Te=T;Z=a;var ct=i;switch(Te.tag){case 1:if(we=Te.payload,typeof we=="function"){ie=we.call(ct,ie,Z);break e}ie=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Te.payload,Z=typeof we=="function"?we.call(ct,ie,Z):we,Z==null)break e;ie=b({},ie,Z);break e;case 2:ur=!0}}Z=T.callback,Z!==null&&(e.flags|=64,te&&(e.flags|=8192),te=f.callbacks,te===null?f.callbacks=[Z]:te.push(Z))}else te={lane:Z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},re===null?(X=re=te,I=ie):re=re.next=te,k|=Z;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;te=T,T=te.next,te.next=null,f.lastBaseUpdate=te,f.shared.pending=null}}while(!0);re===null&&(I=ie),f.baseState=I,f.firstBaseUpdate=X,f.lastBaseUpdate=re,h===null&&(f.shared.lanes=0),vr|=k,e.lanes=k,e.memoizedState=ie}}function Sx(e,a){if(typeof e!="function")throw Error(t(191,e));e.call(a)}function Cx(e,a){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Sx(i[e],a)}var qs=F(null),Oo=F(0);function kx(e,a){e=qn,ue(Oo,e),ue(qs,a),qn=e|a.baseLanes}function Ad(){ue(Oo,qn),ue(qs,qs.current)}function Td(){qn=Oo.current,ae(qs),ae(Oo)}var Ca=F(null),Ya=null;function fr(e){var a=e.alternate;ue(Dt,Dt.current&1),ue(Ca,e),Ya===null&&(a===null||qs.current!==null||a.memoizedState!==null)&&(Ya=e)}function Ed(e){ue(Dt,Dt.current),ue(Ca,e),Ya===null&&(Ya=e)}function Dx(e){e.tag===22?(ue(Dt,Dt.current),ue(Ca,e),Ya===null&&(Ya=e)):pr()}function pr(){ue(Dt,Dt.current),ue(Ca,Ca.current)}function ka(e){ae(Ca),Ya===e&&(Ya=null),ae(Dt)}var Dt=F(0);function Ro(e){for(var a=e;a!==null;){if(a.tag===13){var i=a.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Pm(i)||zm(i)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ln=0,Ie=null,it=null,_t=null,Io=!1,$s=!1,es=!1,Lo=0,ni=0,Vs=null,kN=0;function jt(){throw Error(t(321))}function _d(e,a){if(a===null)return!1;for(var i=0;i<a.length&&i<e.length;i++)if(!wa(e[i],a[i]))return!1;return!0}function Od(e,a,i,c,f,h){return Ln=h,Ie=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,z.H=e===null||e.memoizedState===null?uh:Qd,es=!1,h=i(c,f),es=!1,$s&&(h=Ax(a,i,c,f)),Mx(e),h}function Mx(e){z.H=li;var a=it!==null&&it.next!==null;if(Ln=0,_t=it=Ie=null,Io=!1,ni=0,Vs=null,a)throw Error(t(300));e===null||Ot||(e=e.dependencies,e!==null&&ko(e)&&(Ot=!0))}function Ax(e,a,i,c){Ie=e;var f=0;do{if($s&&(Vs=null),ni=0,$s=!1,25<=f)throw Error(t(301));if(f+=1,_t=it=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}z.H=dh,h=a(i,c)}while($s);return h}function DN(){var e=z.H,a=e.useState()[0];return a=typeof a.then=="function"?ri(a):a,e=e.useState()[0],(it!==null?it.memoizedState:null)!==e&&(Ie.flags|=1024),a}function Rd(){var e=Lo!==0;return Lo=0,e}function Id(e,a,i){a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~i}function Ld(e){if(Io){for(e=e.memoizedState;e!==null;){var a=e.queue;a!==null&&(a.pending=null),e=e.next}Io=!1}Ln=0,_t=it=Ie=null,$s=!1,ni=Lo=0,Vs=null}function sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Ie.memoizedState=_t=e:_t=_t.next=e,_t}function Mt(){if(it===null){var e=Ie.alternate;e=e!==null?e.memoizedState:null}else e=it.next;var a=_t===null?Ie.memoizedState:_t.next;if(a!==null)_t=a,it=e;else{if(e===null)throw Ie.alternate===null?Error(t(467)):Error(t(310));it=e,e={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},_t===null?Ie.memoizedState=_t=e:_t=_t.next=e}return _t}function Po(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ri(e){var a=ni;return ni+=1,Vs===null&&(Vs=[]),e=gx(Vs,e,a),a=Ie,(_t===null?a.memoizedState:_t.next)===null&&(a=a.alternate,z.H=a===null||a.memoizedState===null?uh:Qd),e}function zo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ri(e);if(e.$$typeof===g)return $t(e)}throw Error(t(438,String(e)))}function Pd(e){var a=null,i=Ie.updateQueue;if(i!==null&&(a=i.memoCache),a==null){var c=Ie.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),i===null&&(i=Po(),Ie.updateQueue=i),i.memoCache=a,i=a.data[a.index],i===void 0)for(i=a.data[a.index]=Array(e),c=0;c<e;c++)i[c]=B;return a.index++,i}function Pn(e,a){return typeof a=="function"?a(e):a}function Fo(e){var a=Mt();return zd(a,it,e)}function zd(e,a,i){var c=e.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=i;var f=e.baseQueue,h=c.pending;if(h!==null){if(f!==null){var k=f.next;f.next=h.next,h.next=k}a.baseQueue=f=h,c.pending=null}if(h=e.baseState,f===null)e.memoizedState=h;else{a=f.next;var T=k=null,I=null,X=a,re=!1;do{var ie=X.lane&-536870913;if(ie!==X.lane?(Ue&ie)===ie:(Ln&ie)===ie){var Z=X.revertLane;if(Z===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ie===Bs&&(re=!0);else if((Ln&Z)===Z){X=X.next,Z===Bs&&(re=!0);continue}else ie={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},I===null?(T=I=ie,k=h):I=I.next=ie,Ie.lanes|=Z,vr|=Z;ie=X.action,es&&i(h,ie),h=X.hasEagerState?X.eagerState:i(h,ie)}else Z={lane:ie,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},I===null?(T=I=Z,k=h):I=I.next=Z,Ie.lanes|=ie,vr|=ie;X=X.next}while(X!==null&&X!==a);if(I===null?k=h:I.next=T,!wa(h,e.memoizedState)&&(Ot=!0,re&&(i=Hs,i!==null)))throw i;e.memoizedState=h,e.baseState=k,e.baseQueue=I,c.lastRenderedState=h}return f===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Fd(e){var a=Mt(),i=a.queue;if(i===null)throw Error(t(311));i.lastRenderedReducer=e;var c=i.dispatch,f=i.pending,h=a.memoizedState;if(f!==null){i.pending=null;var k=f=f.next;do h=e(h,k.action),k=k.next;while(k!==f);wa(h,a.memoizedState)||(Ot=!0),a.memoizedState=h,a.baseQueue===null&&(a.baseState=h),i.lastRenderedState=h}return[h,c]}function Tx(e,a,i){var c=Ie,f=Mt(),h=Ve;if(h){if(i===void 0)throw Error(t(407));i=i()}else i=a();var k=!wa((it||f).memoizedState,i);if(k&&(f.memoizedState=i,Ot=!0),f=f.queue,Yd(Ox.bind(null,c,f,e),[e]),f.getSnapshot!==a||k||_t!==null&&_t.memoizedState.tag&1){if(c.flags|=2048,Gs(9,{destroy:void 0},_x.bind(null,c,f,i,a),null),ut===null)throw Error(t(349));h||(Ln&127)!==0||Ex(c,a,i)}return i}function Ex(e,a,i){e.flags|=16384,e={getSnapshot:a,value:i},a=Ie.updateQueue,a===null?(a=Po(),Ie.updateQueue=a,a.stores=[e]):(i=a.stores,i===null?a.stores=[e]:i.push(e))}function _x(e,a,i,c){a.value=i,a.getSnapshot=c,Rx(a)&&Ix(e)}function Ox(e,a,i){return i(function(){Rx(a)&&Ix(e)})}function Rx(e){var a=e.getSnapshot;e=e.value;try{var i=a();return!wa(e,i)}catch{return!0}}function Ix(e){var a=$r(e,2);a!==null&&xa(a,e,2)}function Bd(e){var a=sa();if(typeof e=="function"){var i=e;if(e=i(),es){sn(!0);try{i()}finally{sn(!1)}}}return a.memoizedState=a.baseState=e,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:e},a}function Lx(e,a,i,c){return e.baseState=i,zd(e,it,typeof c=="function"?c:Pn)}function MN(e,a,i,c,f){if(Yo(e))throw Error(t(485));if(e=a.action,e!==null){var h={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){h.listeners.push(k)}};z.T!==null?i(!0):h.isTransition=!1,c(h),i=a.pending,i===null?(h.next=a.pending=h,Px(a,h)):(h.next=i.next,a.pending=i.next=h)}}function Px(e,a){var i=a.action,c=a.payload,f=e.state;if(a.isTransition){var h=z.T,k={};z.T=k;try{var T=i(f,c),I=z.S;I!==null&&I(k,T),zx(e,a,T)}catch(X){Hd(e,a,X)}finally{h!==null&&k.types!==null&&(h.types=k.types),z.T=h}}else try{h=i(f,c),zx(e,a,h)}catch(X){Hd(e,a,X)}}function zx(e,a,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(c){Fx(e,a,c)},function(c){return Hd(e,a,c)}):Fx(e,a,i)}function Fx(e,a,i){a.status="fulfilled",a.value=i,Bx(a),e.state=i,a=e.pending,a!==null&&(i=a.next,i===a?e.pending=null:(i=i.next,a.next=i,Px(e,i)))}function Hd(e,a,i){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=i,Bx(a),a=a.next;while(a!==c)}e.action=null}function Bx(e){e=e.listeners;for(var a=0;a<e.length;a++)(0,e[a])()}function Hx(e,a){return a}function Yx(e,a){if(Ve){var i=ut.formState;if(i!==null){e:{var c=Ie;if(Ve){if(ft){t:{for(var f=ft,h=Ha;f.nodeType!==8;){if(!h){f=null;break t}if(f=Ua(f.nextSibling),f===null){f=null;break t}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){ft=Ua(f.nextSibling),c=f.data==="F!";break e}}or(c)}c=!1}c&&(a=i[0])}}return i=sa(),i.memoizedState=i.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hx,lastRenderedState:a},i.queue=c,i=ih.bind(null,Ie,c),c.dispatch=i,c=Bd(!1),h=Gd.bind(null,Ie,!1,c.queue),c=sa(),f={state:a,dispatch:null,action:e,pending:null},c.queue=f,i=MN.bind(null,Ie,f,h,i),f.dispatch=i,c.memoizedState=e,[a,i,!1]}function Ux(e){var a=Mt();return qx(a,it,e)}function qx(e,a,i){if(a=zd(e,a,Hx)[0],e=Fo(Pn)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=ri(a)}catch(k){throw k===Ys?Ao:k}else c=a;a=Mt();var f=a.queue,h=f.dispatch;return i!==a.memoizedState&&(Ie.flags|=2048,Gs(9,{destroy:void 0},AN.bind(null,f,i),null)),[c,h,e]}function AN(e,a){e.action=a}function $x(e){var a=Mt(),i=it;if(i!==null)return qx(a,i,e);Mt(),a=a.memoizedState,i=Mt();var c=i.queue.dispatch;return i.memoizedState=e,[a,c,!1]}function Gs(e,a,i,c){return e={tag:e,create:i,deps:c,inst:a,next:null},a=Ie.updateQueue,a===null&&(a=Po(),Ie.updateQueue=a),i=a.lastEffect,i===null?a.lastEffect=e.next=e:(c=i.next,i.next=e,e.next=c,a.lastEffect=e),e}function Vx(){return Mt().memoizedState}function Bo(e,a,i,c){var f=sa();Ie.flags|=e,f.memoizedState=Gs(1|a,{destroy:void 0},i,c===void 0?null:c)}function Ho(e,a,i,c){var f=Mt();c=c===void 0?null:c;var h=f.memoizedState.inst;it!==null&&c!==null&&_d(c,it.memoizedState.deps)?f.memoizedState=Gs(a,h,i,c):(Ie.flags|=e,f.memoizedState=Gs(1|a,h,i,c))}function Gx(e,a){Bo(8390656,8,e,a)}function Yd(e,a){Ho(2048,8,e,a)}function TN(e){Ie.flags|=4;var a=Ie.updateQueue;if(a===null)a=Po(),Ie.updateQueue=a,a.events=[e];else{var i=a.events;i===null?a.events=[e]:i.push(e)}}function Qx(e){var a=Mt().memoizedState;return TN({ref:a,nextImpl:e}),function(){if((Je&2)!==0)throw Error(t(440));return a.impl.apply(void 0,arguments)}}function Kx(e,a){return Ho(4,2,e,a)}function Xx(e,a){return Ho(4,4,e,a)}function Wx(e,a){if(typeof a=="function"){e=e();var i=a(e);return function(){typeof i=="function"?i():a(null)}}if(a!=null)return e=e(),a.current=e,function(){a.current=null}}function Zx(e,a,i){i=i!=null?i.concat([e]):null,Ho(4,4,Wx.bind(null,a,e),i)}function Ud(){}function Jx(e,a){var i=Mt();a=a===void 0?null:a;var c=i.memoizedState;return a!==null&&_d(a,c[1])?c[0]:(i.memoizedState=[e,a],e)}function eh(e,a){var i=Mt();a=a===void 0?null:a;var c=i.memoizedState;if(a!==null&&_d(a,c[1]))return c[0];if(c=e(),es){sn(!0);try{e()}finally{sn(!1)}}return i.memoizedState=[c,a],c}function qd(e,a,i){return i===void 0||(Ln&1073741824)!==0&&(Ue&261930)===0?e.memoizedState=a:(e.memoizedState=i,e=tv(),Ie.lanes|=e,vr|=e,i)}function th(e,a,i,c){return wa(i,a)?i:qs.current!==null?(e=qd(e,i,c),wa(e,a)||(Ot=!0),e):(Ln&42)===0||(Ln&1073741824)!==0&&(Ue&261930)===0?(Ot=!0,e.memoizedState=i):(e=tv(),Ie.lanes|=e,vr|=e,a)}function ah(e,a,i,c,f){var h=O.p;O.p=h!==0&&8>h?h:8;var k=z.T,T={};z.T=T,Gd(e,!1,a,i);try{var I=f(),X=z.S;if(X!==null&&X(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var re=CN(I,c);si(e,a,re,Aa(e))}else si(e,a,c,Aa(e))}catch(ie){si(e,a,{then:function(){},status:"rejected",reason:ie},Aa())}finally{O.p=h,k!==null&&T.types!==null&&(k.types=T.types),z.T=k}}function EN(){}function $d(e,a,i,c){if(e.tag!==5)throw Error(t(476));var f=nh(e).queue;ah(e,f,a,R,i===null?EN:function(){return rh(e),i(c)})}function nh(e){var a=e.memoizedState;if(a!==null)return a;a={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:R},next:null};var i={};return a.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:i},next:null},e.memoizedState=a,e=e.alternate,e!==null&&(e.memoizedState=a),a}function rh(e){var a=nh(e);a.next===null&&(a=e.alternate.memoizedState),si(e,a.next.queue,{},Aa())}function Vd(){return $t(ji)}function sh(){return Mt().memoizedState}function lh(){return Mt().memoizedState}function _N(e){for(var a=e.return;a!==null;){switch(a.tag){case 24:case 3:var i=Aa();e=dr(i);var c=mr(a,e,i);c!==null&&(xa(c,a,i),ei(c,a,i)),a={cache:Nd()},e.payload=a;return}a=a.return}}function ON(e,a,i){var c=Aa();i={lane:c,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Yo(e)?oh(a,i):(i=ud(e,a,i,c),i!==null&&(xa(i,e,c),ch(i,a,c)))}function ih(e,a,i){var c=Aa();si(e,a,i,c)}function si(e,a,i,c){var f={lane:c,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Yo(e))oh(a,f);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=a.lastRenderedReducer,h!==null))try{var k=a.lastRenderedState,T=h(k,i);if(f.hasEagerState=!0,f.eagerState=T,wa(T,k))return jo(e,a,f,0),ut===null&&No(),!1}catch{}if(i=ud(e,a,f,c),i!==null)return xa(i,e,c),ch(i,a,c),!0}return!1}function Gd(e,a,i,c){if(c={lane:2,revertLane:Cm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Yo(e)){if(a)throw Error(t(479))}else a=ud(e,i,c,2),a!==null&&xa(a,e,2)}function Yo(e){var a=e.alternate;return e===Ie||a!==null&&a===Ie}function oh(e,a){$s=Io=!0;var i=e.pending;i===null?a.next=a:(a.next=i.next,i.next=a),e.pending=a}function ch(e,a,i){if((i&4194048)!==0){var c=a.lanes;c&=e.pendingLanes,i|=c,a.lanes=i,so(e,i)}}var li={readContext:$t,use:zo,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useInsertionEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useSyncExternalStore:jt,useId:jt,useHostTransitionStatus:jt,useFormState:jt,useActionState:jt,useOptimistic:jt,useMemoCache:jt,useCacheRefresh:jt};li.useEffectEvent=jt;var uh={readContext:$t,use:zo,useCallback:function(e,a){return sa().memoizedState=[e,a===void 0?null:a],e},useContext:$t,useEffect:Gx,useImperativeHandle:function(e,a,i){i=i!=null?i.concat([e]):null,Bo(4194308,4,Wx.bind(null,a,e),i)},useLayoutEffect:function(e,a){return Bo(4194308,4,e,a)},useInsertionEffect:function(e,a){Bo(4,2,e,a)},useMemo:function(e,a){var i=sa();a=a===void 0?null:a;var c=e();if(es){sn(!0);try{e()}finally{sn(!1)}}return i.memoizedState=[c,a],c},useReducer:function(e,a,i){var c=sa();if(i!==void 0){var f=i(a);if(es){sn(!0);try{i(a)}finally{sn(!1)}}}else f=a;return c.memoizedState=c.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},c.queue=e,e=e.dispatch=ON.bind(null,Ie,e),[c.memoizedState,e]},useRef:function(e){var a=sa();return e={current:e},a.memoizedState=e},useState:function(e){e=Bd(e);var a=e.queue,i=ih.bind(null,Ie,a);return a.dispatch=i,[e.memoizedState,i]},useDebugValue:Ud,useDeferredValue:function(e,a){var i=sa();return qd(i,e,a)},useTransition:function(){var e=Bd(!1);return e=ah.bind(null,Ie,e.queue,!0,!1),sa().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,a,i){var c=Ie,f=sa();if(Ve){if(i===void 0)throw Error(t(407));i=i()}else{if(i=a(),ut===null)throw Error(t(349));(Ue&127)!==0||Ex(c,a,i)}f.memoizedState=i;var h={value:i,getSnapshot:a};return f.queue=h,Gx(Ox.bind(null,c,h,e),[e]),c.flags|=2048,Gs(9,{destroy:void 0},_x.bind(null,c,h,i,a),null),i},useId:function(){var e=sa(),a=ut.identifierPrefix;if(Ve){var i=cn,c=on;i=(c&~(1<<32-ra(c)-1)).toString(32)+i,a="_"+a+"R_"+i,i=Lo++,0<i&&(a+="H"+i.toString(32)),a+="_"}else i=kN++,a="_"+a+"r_"+i.toString(32)+"_";return e.memoizedState=a},useHostTransitionStatus:Vd,useFormState:Yx,useActionState:Yx,useOptimistic:function(e){var a=sa();a.memoizedState=a.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=i,a=Gd.bind(null,Ie,!0,i),i.dispatch=a,[e,a]},useMemoCache:Pd,useCacheRefresh:function(){return sa().memoizedState=_N.bind(null,Ie)},useEffectEvent:function(e){var a=sa(),i={impl:e};return a.memoizedState=i,function(){if((Je&2)!==0)throw Error(t(440));return i.impl.apply(void 0,arguments)}}},Qd={readContext:$t,use:zo,useCallback:Jx,useContext:$t,useEffect:Yd,useImperativeHandle:Zx,useInsertionEffect:Kx,useLayoutEffect:Xx,useMemo:eh,useReducer:Fo,useRef:Vx,useState:function(){return Fo(Pn)},useDebugValue:Ud,useDeferredValue:function(e,a){var i=Mt();return th(i,it.memoizedState,e,a)},useTransition:function(){var e=Fo(Pn)[0],a=Mt().memoizedState;return[typeof e=="boolean"?e:ri(e),a]},useSyncExternalStore:Tx,useId:sh,useHostTransitionStatus:Vd,useFormState:Ux,useActionState:Ux,useOptimistic:function(e,a){var i=Mt();return Lx(i,it,e,a)},useMemoCache:Pd,useCacheRefresh:lh};Qd.useEffectEvent=Qx;var dh={readContext:$t,use:zo,useCallback:Jx,useContext:$t,useEffect:Yd,useImperativeHandle:Zx,useInsertionEffect:Kx,useLayoutEffect:Xx,useMemo:eh,useReducer:Fd,useRef:Vx,useState:function(){return Fd(Pn)},useDebugValue:Ud,useDeferredValue:function(e,a){var i=Mt();return it===null?qd(i,e,a):th(i,it.memoizedState,e,a)},useTransition:function(){var e=Fd(Pn)[0],a=Mt().memoizedState;return[typeof e=="boolean"?e:ri(e),a]},useSyncExternalStore:Tx,useId:sh,useHostTransitionStatus:Vd,useFormState:$x,useActionState:$x,useOptimistic:function(e,a){var i=Mt();return it!==null?Lx(i,it,e,a):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Pd,useCacheRefresh:lh};dh.useEffectEvent=Qx;function Kd(e,a,i,c){a=e.memoizedState,i=i(c,a),i=i==null?a:b({},a,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Xd={enqueueSetState:function(e,a,i){e=e._reactInternals;var c=Aa(),f=dr(c);f.payload=a,i!=null&&(f.callback=i),a=mr(e,f,c),a!==null&&(xa(a,e,c),ei(a,e,c))},enqueueReplaceState:function(e,a,i){e=e._reactInternals;var c=Aa(),f=dr(c);f.tag=1,f.payload=a,i!=null&&(f.callback=i),a=mr(e,f,c),a!==null&&(xa(a,e,c),ei(a,e,c))},enqueueForceUpdate:function(e,a){e=e._reactInternals;var i=Aa(),c=dr(i);c.tag=2,a!=null&&(c.callback=a),a=mr(e,c,i),a!==null&&(xa(a,e,i),ei(a,e,i))}};function mh(e,a,i,c,f,h,k){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,h,k):a.prototype&&a.prototype.isPureReactComponent?!Vl(i,c)||!Vl(f,h):!0}function fh(e,a,i,c){e=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(i,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(i,c),a.state!==e&&Xd.enqueueReplaceState(a,a.state,null)}function ts(e,a){var i=a;if("ref"in a){i={};for(var c in a)c!=="ref"&&(i[c]=a[c])}if(e=e.defaultProps){i===a&&(i=b({},i));for(var f in e)i[f]===void 0&&(i[f]=e[f])}return i}function ph(e){yo(e)}function xh(e){console.error(e)}function hh(e){yo(e)}function Uo(e,a){try{var i=e.onUncaughtError;i(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function vh(e,a,i){try{var c=e.onCaughtError;c(i.value,{componentStack:i.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Wd(e,a,i){return i=dr(i),i.tag=3,i.payload={element:null},i.callback=function(){Uo(e,a)},i}function bh(e){return e=dr(e),e.tag=3,e}function gh(e,a,i,c){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var h=c.value;e.payload=function(){return f(h)},e.callback=function(){vh(a,i,c)}}var k=i.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(e.callback=function(){vh(a,i,c),typeof f!="function"&&(br===null?br=new Set([this]):br.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})})}function RN(e,a,i,c,f){if(i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=i.alternate,a!==null&&Fs(a,i,f,!0),i=Ca.current,i!==null){switch(i.tag){case 31:case 13:return Ya===null?tc():i.alternate===null&&wt===0&&(wt=3),i.flags&=-257,i.flags|=65536,i.lanes=f,c===To?i.flags|=16384:(a=i.updateQueue,a===null?i.updateQueue=new Set([c]):a.add(c),jm(e,c,f)),!1;case 22:return i.flags|=65536,c===To?i.flags|=16384:(a=i.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},i.updateQueue=a):(i=a.retryQueue,i===null?a.retryQueue=new Set([c]):i.add(c)),jm(e,c,f)),!1}throw Error(t(435,i.tag))}return jm(e,c,f),tc(),!1}if(Ve)return a=Ca.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,c!==hd&&(e=Error(t(422),{cause:c}),Kl(za(e,i)))):(c!==hd&&(a=Error(t(423),{cause:c}),Kl(za(a,i))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,c=za(c,i),f=Wd(e.stateNode,c,f),Dd(e,f),wt!==4&&(wt=2)),!1;var h=Error(t(520),{cause:c});if(h=za(h,i),pi===null?pi=[h]:pi.push(h),wt!==4&&(wt=2),a===null)return!0;c=za(c,i),i=a;do{switch(i.tag){case 3:return i.flags|=65536,e=f&-f,i.lanes|=e,e=Wd(i.stateNode,c,e),Dd(i,e),!1;case 1:if(a=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(br===null||!br.has(h))))return i.flags|=65536,f&=-f,i.lanes|=f,f=bh(f),gh(f,e,i,c),Dd(i,f),!1}i=i.return}while(i!==null);return!1}var Zd=Error(t(461)),Ot=!1;function Vt(e,a,i,c){a.child=e===null?wx(a,null,i,c):Jr(a,e.child,i,c)}function yh(e,a,i,c,f){i=i.render;var h=a.ref;if("ref"in c){var k={};for(var T in c)T!=="ref"&&(k[T]=c[T])}else k=c;return Kr(a),c=Od(e,a,i,k,h,f),T=Rd(),e!==null&&!Ot?(Id(e,a,f),zn(e,a,f)):(Ve&&T&&pd(a),a.flags|=1,Vt(e,a,c,f),a.child)}function Nh(e,a,i,c,f){if(e===null){var h=i.type;return typeof h=="function"&&!dd(h)&&h.defaultProps===void 0&&i.compare===null?(a.tag=15,a.type=h,jh(e,a,h,c,f)):(e=So(i.type,null,c,a,a.mode,f),e.ref=a.ref,e.return=a,a.child=e)}if(h=e.child,!lm(e,f)){var k=h.memoizedProps;if(i=i.compare,i=i!==null?i:Vl,i(k,c)&&e.ref===a.ref)return zn(e,a,f)}return a.flags|=1,e=_n(h,c),e.ref=a.ref,e.return=a,a.child=e}function jh(e,a,i,c,f){if(e!==null){var h=e.memoizedProps;if(Vl(h,c)&&e.ref===a.ref)if(Ot=!1,a.pendingProps=c=h,lm(e,f))(e.flags&131072)!==0&&(Ot=!0);else return a.lanes=e.lanes,zn(e,a,f)}return Jd(e,a,i,c,f)}function wh(e,a,i,c){var f=c.children,h=e!==null?e.memoizedState:null;if(e===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((a.flags&128)!==0){if(h=h!==null?h.baseLanes|i:i,e!==null){for(c=a.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~h}else c=0,a.child=null;return Sh(e,a,h,i,c)}if((i&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mo(a,h!==null?h.cachePool:null),h!==null?kx(a,h):Ad(),Dx(a);else return c=a.lanes=536870912,Sh(e,a,h!==null?h.baseLanes|i:i,i,c)}else h!==null?(Mo(a,h.cachePool),kx(a,h),pr(),a.memoizedState=null):(e!==null&&Mo(a,null),Ad(),pr());return Vt(e,a,f,i),a.child}function ii(e,a){return e!==null&&e.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Sh(e,a,i,c,f){var h=wd();return h=h===null?null:{parent:Et._currentValue,pool:h},a.memoizedState={baseLanes:i,cachePool:h},e!==null&&Mo(a,null),Ad(),Dx(a),e!==null&&Fs(e,a,c,!0),a.childLanes=f,null}function qo(e,a){return a=Vo({mode:a.mode,children:a.children},e.mode),a.ref=e.ref,e.child=a,a.return=e,a}function Ch(e,a,i){return Jr(a,e.child,null,i),e=qo(a,a.pendingProps),e.flags|=2,ka(a),a.memoizedState=null,e}function IN(e,a,i){var c=a.pendingProps,f=(a.flags&128)!==0;if(a.flags&=-129,e===null){if(Ve){if(c.mode==="hidden")return e=qo(a,c),a.lanes=536870912,ii(null,e);if(Ed(a),(e=ft)?(e=Pv(e,Ha),e=e!==null&&e.data==="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:lr!==null?{id:on,overflow:cn}:null,retryLane:536870912,hydrationErrors:null},i=ox(e),i.return=a,a.child=i,qt=a,ft=null)):e=null,e===null)throw or(a);return a.lanes=536870912,null}return qo(a,c)}var h=e.memoizedState;if(h!==null){var k=h.dehydrated;if(Ed(a),f)if(a.flags&256)a.flags&=-257,a=Ch(e,a,i);else if(a.memoizedState!==null)a.child=e.child,a.flags|=128,a=null;else throw Error(t(558));else if(Ot||Fs(e,a,i,!1),f=(i&e.childLanes)!==0,Ot||f){if(c=ut,c!==null&&(k=lo(c,i),k!==0&&k!==h.retryLane))throw h.retryLane=k,$r(e,k),xa(c,e,k),Zd;tc(),a=Ch(e,a,i)}else e=h.treeContext,ft=Ua(k.nextSibling),qt=a,Ve=!0,ir=null,Ha=!1,e!==null&&dx(a,e),a=qo(a,c),a.flags|=4096;return a}return e=_n(e.child,{mode:c.mode,children:c.children}),e.ref=a.ref,a.child=e,e.return=a,e}function $o(e,a){var i=a.ref;if(i===null)e!==null&&e.ref!==null&&(a.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(t(284));(e===null||e.ref!==i)&&(a.flags|=4194816)}}function Jd(e,a,i,c,f){return Kr(a),i=Od(e,a,i,c,void 0,f),c=Rd(),e!==null&&!Ot?(Id(e,a,f),zn(e,a,f)):(Ve&&c&&pd(a),a.flags|=1,Vt(e,a,i,f),a.child)}function kh(e,a,i,c,f,h){return Kr(a),a.updateQueue=null,i=Ax(a,c,i,f),Mx(e),c=Rd(),e!==null&&!Ot?(Id(e,a,h),zn(e,a,h)):(Ve&&c&&pd(a),a.flags|=1,Vt(e,a,i,h),a.child)}function Dh(e,a,i,c,f){if(Kr(a),a.stateNode===null){var h=Is,k=i.contextType;typeof k=="object"&&k!==null&&(h=$t(k)),h=new i(c,h),a.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Xd,a.stateNode=h,h._reactInternals=a,h=a.stateNode,h.props=c,h.state=a.memoizedState,h.refs={},Cd(a),k=i.contextType,h.context=typeof k=="object"&&k!==null?$t(k):Is,h.state=a.memoizedState,k=i.getDerivedStateFromProps,typeof k=="function"&&(Kd(a,i,k,c),h.state=a.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(k=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),k!==h.state&&Xd.enqueueReplaceState(h,h.state,null),ai(a,c,h,f),ti(),h.state=a.memoizedState),typeof h.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(e===null){h=a.stateNode;var T=a.memoizedProps,I=ts(i,T);h.props=I;var X=h.context,re=i.contextType;k=Is,typeof re=="object"&&re!==null&&(k=$t(re));var ie=i.getDerivedStateFromProps;re=typeof ie=="function"||typeof h.getSnapshotBeforeUpdate=="function",T=a.pendingProps!==T,re||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T||X!==k)&&fh(a,h,c,k),ur=!1;var Z=a.memoizedState;h.state=Z,ai(a,c,h,f),ti(),X=a.memoizedState,T||Z!==X||ur?(typeof ie=="function"&&(Kd(a,i,ie,c),X=a.memoizedState),(I=ur||mh(a,i,I,c,Z,X,k))?(re||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(a.flags|=4194308)):(typeof h.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=X),h.props=c,h.state=X,h.context=k,c=I):(typeof h.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{h=a.stateNode,kd(e,a),k=a.memoizedProps,re=ts(i,k),h.props=re,ie=a.pendingProps,Z=h.context,X=i.contextType,I=Is,typeof X=="object"&&X!==null&&(I=$t(X)),T=i.getDerivedStateFromProps,(X=typeof T=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(k!==ie||Z!==I)&&fh(a,h,c,I),ur=!1,Z=a.memoizedState,h.state=Z,ai(a,c,h,f),ti();var te=a.memoizedState;k!==ie||Z!==te||ur||e!==null&&e.dependencies!==null&&ko(e.dependencies)?(typeof T=="function"&&(Kd(a,i,T,c),te=a.memoizedState),(re=ur||mh(a,i,re,c,Z,te,I)||e!==null&&e.dependencies!==null&&ko(e.dependencies))?(X||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(c,te,I),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(c,te,I)),typeof h.componentDidUpdate=="function"&&(a.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof h.componentDidUpdate!="function"||k===e.memoizedProps&&Z===e.memoizedState||(a.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&Z===e.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=te),h.props=c,h.state=te,h.context=I,c=re):(typeof h.componentDidUpdate!="function"||k===e.memoizedProps&&Z===e.memoizedState||(a.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&Z===e.memoizedState||(a.flags|=1024),c=!1)}return h=c,$o(e,a),c=(a.flags&128)!==0,h||c?(h=a.stateNode,i=c&&typeof i.getDerivedStateFromError!="function"?null:h.render(),a.flags|=1,e!==null&&c?(a.child=Jr(a,e.child,null,f),a.child=Jr(a,null,i,f)):Vt(e,a,i,f),a.memoizedState=h.state,e=a.child):e=zn(e,a,f),e}function Mh(e,a,i,c){return Gr(),a.flags|=256,Vt(e,a,i,c),a.child}var em={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tm(e){return{baseLanes:e,cachePool:vx()}}function am(e,a,i){return e=e!==null?e.childLanes&~i:0,a&&(e|=Ma),e}function Ah(e,a,i){var c=a.pendingProps,f=!1,h=(a.flags&128)!==0,k;if((k=h)||(k=e!==null&&e.memoizedState===null?!1:(Dt.current&2)!==0),k&&(f=!0,a.flags&=-129),k=(a.flags&32)!==0,a.flags&=-33,e===null){if(Ve){if(f?fr(a):pr(),(e=ft)?(e=Pv(e,Ha),e=e!==null&&e.data!=="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:lr!==null?{id:on,overflow:cn}:null,retryLane:536870912,hydrationErrors:null},i=ox(e),i.return=a,a.child=i,qt=a,ft=null)):e=null,e===null)throw or(a);return zm(e)?a.lanes=32:a.lanes=536870912,null}var T=c.children;return c=c.fallback,f?(pr(),f=a.mode,T=Vo({mode:"hidden",children:T},f),c=Vr(c,f,i,null),T.return=a,c.return=a,T.sibling=c,a.child=T,c=a.child,c.memoizedState=tm(i),c.childLanes=am(e,k,i),a.memoizedState=em,ii(null,c)):(fr(a),nm(a,T))}var I=e.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(h)a.flags&256?(fr(a),a.flags&=-257,a=rm(e,a,i)):a.memoizedState!==null?(pr(),a.child=e.child,a.flags|=128,a=null):(pr(),T=c.fallback,f=a.mode,c=Vo({mode:"visible",children:c.children},f),T=Vr(T,f,i,null),T.flags|=2,c.return=a,T.return=a,c.sibling=T,a.child=c,Jr(a,e.child,null,i),c=a.child,c.memoizedState=tm(i),c.childLanes=am(e,k,i),a.memoizedState=em,a=ii(null,c));else if(fr(a),zm(T)){if(k=T.nextSibling&&T.nextSibling.dataset,k)var X=k.dgst;k=X,c=Error(t(419)),c.stack="",c.digest=k,Kl({value:c,source:null,stack:null}),a=rm(e,a,i)}else if(Ot||Fs(e,a,i,!1),k=(i&e.childLanes)!==0,Ot||k){if(k=ut,k!==null&&(c=lo(k,i),c!==0&&c!==I.retryLane))throw I.retryLane=c,$r(e,c),xa(k,e,c),Zd;Pm(T)||tc(),a=rm(e,a,i)}else Pm(T)?(a.flags|=192,a.child=e.child,a=null):(e=I.treeContext,ft=Ua(T.nextSibling),qt=a,Ve=!0,ir=null,Ha=!1,e!==null&&dx(a,e),a=nm(a,c.children),a.flags|=4096);return a}return f?(pr(),T=c.fallback,f=a.mode,I=e.child,X=I.sibling,c=_n(I,{mode:"hidden",children:c.children}),c.subtreeFlags=I.subtreeFlags&65011712,X!==null?T=_n(X,T):(T=Vr(T,f,i,null),T.flags|=2),T.return=a,c.return=a,c.sibling=T,a.child=c,ii(null,c),c=a.child,T=e.child.memoizedState,T===null?T=tm(i):(f=T.cachePool,f!==null?(I=Et._currentValue,f=f.parent!==I?{parent:I,pool:I}:f):f=vx(),T={baseLanes:T.baseLanes|i,cachePool:f}),c.memoizedState=T,c.childLanes=am(e,k,i),a.memoizedState=em,ii(e.child,c)):(fr(a),i=e.child,e=i.sibling,i=_n(i,{mode:"visible",children:c.children}),i.return=a,i.sibling=null,e!==null&&(k=a.deletions,k===null?(a.deletions=[e],a.flags|=16):k.push(e)),a.child=i,a.memoizedState=null,i)}function nm(e,a){return a=Vo({mode:"visible",children:a},e.mode),a.return=e,e.child=a}function Vo(e,a){return e=Sa(22,e,null,a),e.lanes=0,e}function rm(e,a,i){return Jr(a,e.child,null,i),e=nm(a,a.pendingProps.children),e.flags|=2,a.memoizedState=null,e}function Th(e,a,i){e.lanes|=a;var c=e.alternate;c!==null&&(c.lanes|=a),gd(e.return,a,i)}function sm(e,a,i,c,f,h){var k=e.memoizedState;k===null?e.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:i,tailMode:f,treeForkCount:h}:(k.isBackwards=a,k.rendering=null,k.renderingStartTime=0,k.last=c,k.tail=i,k.tailMode=f,k.treeForkCount=h)}function Eh(e,a,i){var c=a.pendingProps,f=c.revealOrder,h=c.tail;c=c.children;var k=Dt.current,T=(k&2)!==0;if(T?(k=k&1|2,a.flags|=128):k&=1,ue(Dt,k),Vt(e,a,c,i),c=Ve?Ql:0,!T&&e!==null&&(e.flags&128)!==0)e:for(e=a.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Th(e,i,a);else if(e.tag===19)Th(e,i,a);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break e;for(;e.sibling===null;){if(e.return===null||e.return===a)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(i=a.child,f=null;i!==null;)e=i.alternate,e!==null&&Ro(e)===null&&(f=i),i=i.sibling;i=f,i===null?(f=a.child,a.child=null):(f=i.sibling,i.sibling=null),sm(a,!1,f,i,h,c);break;case"backwards":case"unstable_legacy-backwards":for(i=null,f=a.child,a.child=null;f!==null;){if(e=f.alternate,e!==null&&Ro(e)===null){a.child=f;break}e=f.sibling,f.sibling=i,i=f,f=e}sm(a,!0,i,null,h,c);break;case"together":sm(a,!1,null,null,void 0,c);break;default:a.memoizedState=null}return a.child}function zn(e,a,i){if(e!==null&&(a.dependencies=e.dependencies),vr|=a.lanes,(i&a.childLanes)===0)if(e!==null){if(Fs(e,a,i,!1),(i&a.childLanes)===0)return null}else return null;if(e!==null&&a.child!==e.child)throw Error(t(153));if(a.child!==null){for(e=a.child,i=_n(e,e.pendingProps),a.child=i,i.return=a;e.sibling!==null;)e=e.sibling,i=i.sibling=_n(e,e.pendingProps),i.return=a;i.sibling=null}return a.child}function lm(e,a){return(e.lanes&a)!==0?!0:(e=e.dependencies,!!(e!==null&&ko(e)))}function LN(e,a,i){switch(a.tag){case 3:Qe(a,a.stateNode.containerInfo),cr(a,Et,e.memoizedState.cache),Gr();break;case 27:case 5:Yt(a);break;case 4:Qe(a,a.stateNode.containerInfo);break;case 10:cr(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Ed(a),null;break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(fr(a),a.flags|=128,null):(i&a.child.childLanes)!==0?Ah(e,a,i):(fr(a),e=zn(e,a,i),e!==null?e.sibling:null);fr(a);break;case 19:var f=(e.flags&128)!==0;if(c=(i&a.childLanes)!==0,c||(Fs(e,a,i,!1),c=(i&a.childLanes)!==0),f){if(c)return Eh(e,a,i);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(Dt,Dt.current),c)break;return null;case 22:return a.lanes=0,wh(e,a,i,a.pendingProps);case 24:cr(a,Et,e.memoizedState.cache)}return zn(e,a,i)}function _h(e,a,i){if(e!==null)if(e.memoizedProps!==a.pendingProps)Ot=!0;else{if(!lm(e,i)&&(a.flags&128)===0)return Ot=!1,LN(e,a,i);Ot=(e.flags&131072)!==0}else Ot=!1,Ve&&(a.flags&1048576)!==0&&ux(a,Ql,a.index);switch(a.lanes=0,a.tag){case 16:e:{var c=a.pendingProps;if(e=Wr(a.elementType),a.type=e,typeof e=="function")dd(e)?(c=ts(e,c),a.tag=1,a=Dh(null,a,e,c,i)):(a.tag=0,a=Jd(null,a,e,c,i));else{if(e!=null){var f=e.$$typeof;if(f===_){a.tag=11,a=yh(null,a,e,c,i);break e}else if(f===G){a.tag=14,a=Nh(null,a,e,c,i);break e}}throw a=q(e)||e,Error(t(306,a,""))}}return a;case 0:return Jd(e,a,a.type,a.pendingProps,i);case 1:return c=a.type,f=ts(c,a.pendingProps),Dh(e,a,c,f,i);case 3:e:{if(Qe(a,a.stateNode.containerInfo),e===null)throw Error(t(387));c=a.pendingProps;var h=a.memoizedState;f=h.element,kd(e,a),ai(a,c,null,i);var k=a.memoizedState;if(c=k.cache,cr(a,Et,c),c!==h.cache&&yd(a,[Et],i,!0),ti(),c=k.element,h.isDehydrated)if(h={element:c,isDehydrated:!1,cache:k.cache},a.updateQueue.baseState=h,a.memoizedState=h,a.flags&256){a=Mh(e,a,c,i);break e}else if(c!==f){f=za(Error(t(424)),a),Kl(f),a=Mh(e,a,c,i);break e}else for(e=a.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ft=Ua(e.firstChild),qt=a,Ve=!0,ir=null,Ha=!0,i=wx(a,null,c,i),a.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Gr(),c===f){a=zn(e,a,i);break e}Vt(e,a,c,i)}a=a.child}return a;case 26:return $o(e,a),e===null?(i=Uv(a.type,null,a.pendingProps,null))?a.memoizedState=i:Ve||(i=a.type,e=a.pendingProps,c=oc(je.current).createElement(i),c[Lt]=a,c[Wt]=e,Gt(c,i,e),Bt(c),a.stateNode=c):a.memoizedState=Uv(a.type,e.memoizedProps,a.pendingProps,e.memoizedState),null;case 27:return Yt(a),e===null&&Ve&&(c=a.stateNode=Bv(a.type,a.pendingProps,je.current),qt=a,Ha=!0,f=ft,jr(a.type)?(Fm=f,ft=Ua(c.firstChild)):ft=f),Vt(e,a,a.pendingProps.children,i),$o(e,a),e===null&&(a.flags|=4194304),a.child;case 5:return e===null&&Ve&&((f=c=ft)&&(c=mj(c,a.type,a.pendingProps,Ha),c!==null?(a.stateNode=c,qt=a,ft=Ua(c.firstChild),Ha=!1,f=!0):f=!1),f||or(a)),Yt(a),f=a.type,h=a.pendingProps,k=e!==null?e.memoizedProps:null,c=h.children,Rm(f,h)?c=null:k!==null&&Rm(f,k)&&(a.flags|=32),a.memoizedState!==null&&(f=Od(e,a,DN,null,null,i),ji._currentValue=f),$o(e,a),Vt(e,a,c,i),a.child;case 6:return e===null&&Ve&&((e=i=ft)&&(i=fj(i,a.pendingProps,Ha),i!==null?(a.stateNode=i,qt=a,ft=null,e=!0):e=!1),e||or(a)),null;case 13:return Ah(e,a,i);case 4:return Qe(a,a.stateNode.containerInfo),c=a.pendingProps,e===null?a.child=Jr(a,null,c,i):Vt(e,a,c,i),a.child;case 11:return yh(e,a,a.type,a.pendingProps,i);case 7:return Vt(e,a,a.pendingProps,i),a.child;case 8:return Vt(e,a,a.pendingProps.children,i),a.child;case 12:return Vt(e,a,a.pendingProps.children,i),a.child;case 10:return c=a.pendingProps,cr(a,a.type,c.value),Vt(e,a,c.children,i),a.child;case 9:return f=a.type._context,c=a.pendingProps.children,Kr(a),f=$t(f),c=c(f),a.flags|=1,Vt(e,a,c,i),a.child;case 14:return Nh(e,a,a.type,a.pendingProps,i);case 15:return jh(e,a,a.type,a.pendingProps,i);case 19:return Eh(e,a,i);case 31:return IN(e,a,i);case 22:return wh(e,a,i,a.pendingProps);case 24:return Kr(a),c=$t(Et),e===null?(f=wd(),f===null&&(f=ut,h=Nd(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=i),f=h),a.memoizedState={parent:c,cache:f},Cd(a),cr(a,Et,f)):((e.lanes&i)!==0&&(kd(e,a),ai(a,null,null,i),ti()),f=e.memoizedState,h=a.memoizedState,f.parent!==c?(f={parent:c,cache:c},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),cr(a,Et,c)):(c=h.cache,cr(a,Et,c),c!==f.cache&&yd(a,[Et],i,!0))),Vt(e,a,a.pendingProps.children,i),a.child;case 29:throw a.pendingProps}throw Error(t(156,a.tag))}function Fn(e){e.flags|=4}function im(e,a,i,c,f){if((a=(e.mode&32)!==0)&&(a=!1),a){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(sv())e.flags|=8192;else throw Zr=To,Sd}else e.flags&=-16777217}function Oh(e,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Qv(a))if(sv())e.flags|=8192;else throw Zr=To,Sd}function Go(e,a){a!==null&&(e.flags|=4),e.flags&16384&&(a=e.tag!==22?no():536870912,e.lanes|=a,Ws|=a)}function oi(e,a){if(!Ve)switch(e.tailMode){case"hidden":a=e.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?a||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function pt(e){var a=e.alternate!==null&&e.alternate.child===e.child,i=0,c=0;if(a)for(var f=e.child;f!==null;)i|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)i|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=c,e.childLanes=i,a}function PN(e,a,i){var c=a.pendingProps;switch(xd(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(a),null;case 1:return pt(a),null;case 3:return i=a.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),In(Et),Ze(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(zs(a)?Fn(a):e===null||e.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,vd())),pt(a),null;case 26:var f=a.type,h=a.memoizedState;return e===null?(Fn(a),h!==null?(pt(a),Oh(a,h)):(pt(a),im(a,f,null,c,i))):h?h!==e.memoizedState?(Fn(a),pt(a),Oh(a,h)):(pt(a),a.flags&=-16777217):(e=e.memoizedProps,e!==c&&Fn(a),pt(a),im(a,f,e,c,i)),null;case 27:if(Xt(a),i=je.current,f=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==c&&Fn(a);else{if(!c){if(a.stateNode===null)throw Error(t(166));return pt(a),null}e=de.current,zs(a)?mx(a):(e=Bv(f,c,i),a.stateNode=e,Fn(a))}return pt(a),null;case 5:if(Xt(a),f=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==c&&Fn(a);else{if(!c){if(a.stateNode===null)throw Error(t(166));return pt(a),null}if(h=de.current,zs(a))mx(a);else{var k=oc(je.current);switch(h){case 1:h=k.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:h=k.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":h=k.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":h=k.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":h=k.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof c.is=="string"?k.createElement("select",{is:c.is}):k.createElement("select"),c.multiple?h.multiple=!0:c.size&&(h.size=c.size);break;default:h=typeof c.is=="string"?k.createElement(f,{is:c.is}):k.createElement(f)}}h[Lt]=a,h[Wt]=c;e:for(k=a.child;k!==null;){if(k.tag===5||k.tag===6)h.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===a)break e;for(;k.sibling===null;){if(k.return===null||k.return===a)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}a.stateNode=h;e:switch(Gt(h,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Fn(a)}}return pt(a),im(a,a.type,e===null?null:e.memoizedProps,a.pendingProps,i),null;case 6:if(e&&a.stateNode!=null)e.memoizedProps!==c&&Fn(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(t(166));if(e=je.current,zs(a)){if(e=a.stateNode,i=a.memoizedProps,c=null,f=qt,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}e[Lt]=a,e=!!(e.nodeValue===i||c!==null&&c.suppressHydrationWarning===!0||Av(e.nodeValue,i)),e||or(a,!0)}else e=oc(e).createTextNode(c),e[Lt]=a,a.stateNode=e}return pt(a),null;case 31:if(i=a.memoizedState,e===null||e.memoizedState!==null){if(c=zs(a),i!==null){if(e===null){if(!c)throw Error(t(318));if(e=a.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(t(557));e[Lt]=a}else Gr(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;pt(a),e=!1}else i=vd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return a.flags&256?(ka(a),a):(ka(a),null);if((a.flags&128)!==0)throw Error(t(558))}return pt(a),null;case 13:if(c=a.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=zs(a),c!==null&&c.dehydrated!==null){if(e===null){if(!f)throw Error(t(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(t(317));f[Lt]=a}else Gr(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;pt(a),f=!1}else f=vd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return a.flags&256?(ka(a),a):(ka(a),null)}return ka(a),(a.flags&128)!==0?(a.lanes=i,a):(i=c!==null,e=e!==null&&e.memoizedState!==null,i&&(c=a.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),h=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(h=c.memoizedState.cachePool.pool),h!==f&&(c.flags|=2048)),i!==e&&i&&(a.child.flags|=8192),Go(a,a.updateQueue),pt(a),null);case 4:return Ze(),e===null&&Am(a.stateNode.containerInfo),pt(a),null;case 10:return In(a.type),pt(a),null;case 19:if(ae(Dt),c=a.memoizedState,c===null)return pt(a),null;if(f=(a.flags&128)!==0,h=c.rendering,h===null)if(f)oi(c,!1);else{if(wt!==0||e!==null&&(e.flags&128)!==0)for(e=a.child;e!==null;){if(h=Ro(e),h!==null){for(a.flags|=128,oi(c,!1),e=h.updateQueue,a.updateQueue=e,Go(a,e),a.subtreeFlags=0,e=i,i=a.child;i!==null;)ix(i,e),i=i.sibling;return ue(Dt,Dt.current&1|2),Ve&&On(a,c.treeForkCount),a.child}e=e.sibling}c.tail!==null&&Oe()>Zo&&(a.flags|=128,f=!0,oi(c,!1),a.lanes=4194304)}else{if(!f)if(e=Ro(h),e!==null){if(a.flags|=128,f=!0,e=e.updateQueue,a.updateQueue=e,Go(a,e),oi(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Ve)return pt(a),null}else 2*Oe()-c.renderingStartTime>Zo&&i!==536870912&&(a.flags|=128,f=!0,oi(c,!1),a.lanes=4194304);c.isBackwards?(h.sibling=a.child,a.child=h):(e=c.last,e!==null?e.sibling=h:a.child=h,c.last=h)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=Oe(),e.sibling=null,i=Dt.current,ue(Dt,f?i&1|2:i&1),Ve&&On(a,c.treeForkCount),e):(pt(a),null);case 22:case 23:return ka(a),Td(),c=a.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(i&536870912)!==0&&(a.flags&128)===0&&(pt(a),a.subtreeFlags&6&&(a.flags|=8192)):pt(a),i=a.updateQueue,i!==null&&Go(a,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==i&&(a.flags|=2048),e!==null&&ae(Xr),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),a.memoizedState.cache!==i&&(a.flags|=2048),In(Et),pt(a),null;case 25:return null;case 30:return null}throw Error(t(156,a.tag))}function zN(e,a){switch(xd(a),a.tag){case 1:return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 3:return In(Et),Ze(),e=a.flags,(e&65536)!==0&&(e&128)===0?(a.flags=e&-65537|128,a):null;case 26:case 27:case 5:return Xt(a),null;case 31:if(a.memoizedState!==null){if(ka(a),a.alternate===null)throw Error(t(340));Gr()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 13:if(ka(a),e=a.memoizedState,e!==null&&e.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Gr()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 19:return ae(Dt),null;case 4:return Ze(),null;case 10:return In(a.type),null;case 22:case 23:return ka(a),Td(),e!==null&&ae(Xr),e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 24:return In(Et),null;case 25:return null;default:return null}}function Rh(e,a){switch(xd(a),a.tag){case 3:In(Et),Ze();break;case 26:case 27:case 5:Xt(a);break;case 4:Ze();break;case 31:a.memoizedState!==null&&ka(a);break;case 13:ka(a);break;case 19:ae(Dt);break;case 10:In(a.type);break;case 22:case 23:ka(a),Td(),e!==null&&ae(Xr);break;case 24:In(Et)}}function ci(e,a){try{var i=a.updateQueue,c=i!==null?i.lastEffect:null;if(c!==null){var f=c.next;i=f;do{if((i.tag&e)===e){c=void 0;var h=i.create,k=i.inst;c=h(),k.destroy=c}i=i.next}while(i!==f)}}catch(T){at(a,a.return,T)}}function xr(e,a,i){try{var c=a.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var h=f.next;c=h;do{if((c.tag&e)===e){var k=c.inst,T=k.destroy;if(T!==void 0){k.destroy=void 0,f=a;var I=i,X=T;try{X()}catch(re){at(f,I,re)}}}c=c.next}while(c!==h)}}catch(re){at(a,a.return,re)}}function Ih(e){var a=e.updateQueue;if(a!==null){var i=e.stateNode;try{Cx(a,i)}catch(c){at(e,e.return,c)}}}function Lh(e,a,i){i.props=ts(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(c){at(e,a,c)}}function ui(e,a){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof i=="function"?e.refCleanup=i(c):i.current=c}}catch(f){at(e,a,f)}}function un(e,a){var i=e.ref,c=e.refCleanup;if(i!==null)if(typeof c=="function")try{c()}catch(f){at(e,a,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){at(e,a,f)}else i.current=null}function Ph(e){var a=e.type,i=e.memoizedProps,c=e.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":i.autoFocus&&c.focus();break e;case"img":i.src?c.src=i.src:i.srcSet&&(c.srcset=i.srcSet)}}catch(f){at(e,e.return,f)}}function om(e,a,i){try{var c=e.stateNode;lj(c,e.type,i,a),c[Wt]=a}catch(f){at(e,e.return,f)}}function zh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&jr(e.type)||e.tag===4}function cm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&jr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function um(e,a,i){var c=e.tag;if(c===5||c===6)e=e.stateNode,a?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,a):(a=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.appendChild(e),i=i._reactRootContainer,i!=null||a.onclick!==null||(a.onclick=Tn));else if(c!==4&&(c===27&&jr(e.type)&&(i=e.stateNode,a=null),e=e.child,e!==null))for(um(e,a,i),e=e.sibling;e!==null;)um(e,a,i),e=e.sibling}function Qo(e,a,i){var c=e.tag;if(c===5||c===6)e=e.stateNode,a?i.insertBefore(e,a):i.appendChild(e);else if(c!==4&&(c===27&&jr(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Qo(e,a,i),e=e.sibling;e!==null;)Qo(e,a,i),e=e.sibling}function Fh(e){var a=e.stateNode,i=e.memoizedProps;try{for(var c=e.type,f=a.attributes;f.length;)a.removeAttributeNode(f[0]);Gt(a,c,i),a[Lt]=e,a[Wt]=i}catch(h){at(e,e.return,h)}}var Bn=!1,Rt=!1,dm=!1,Bh=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function FN(e,a){if(e=e.containerInfo,_m=xc,e=Zp(e),rd(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var c=i.getSelection&&i.getSelection();if(c&&c.rangeCount!==0){i=c.anchorNode;var f=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var k=0,T=-1,I=-1,X=0,re=0,ie=e,Z=null;t:for(;;){for(var te;ie!==i||f!==0&&ie.nodeType!==3||(T=k+f),ie!==h||c!==0&&ie.nodeType!==3||(I=k+c),ie.nodeType===3&&(k+=ie.nodeValue.length),(te=ie.firstChild)!==null;)Z=ie,ie=te;for(;;){if(ie===e)break t;if(Z===i&&++X===f&&(T=k),Z===h&&++re===c&&(I=k),(te=ie.nextSibling)!==null)break;ie=Z,Z=ie.parentNode}ie=te}i=T===-1||I===-1?null:{start:T,end:I}}else i=null}i=i||{start:0,end:0}}else i=null;for(Om={focusedElem:e,selectionRange:i},xc=!1,Ht=a;Ht!==null;)if(a=Ht,e=a.child,(a.subtreeFlags&1028)!==0&&e!==null)e.return=a,Ht=e;else for(;Ht!==null;){switch(a=Ht,h=a.alternate,e=a.flags,a.tag){case 0:if((e&4)!==0&&(e=a.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)f=e[i],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,i=a,f=h.memoizedProps,h=h.memoizedState,c=i.stateNode;try{var we=ts(i.type,f);e=c.getSnapshotBeforeUpdate(we,h),c.__reactInternalSnapshotBeforeUpdate=e}catch(Te){at(i,i.return,Te)}}break;case 3:if((e&1024)!==0){if(e=a.stateNode.containerInfo,i=e.nodeType,i===9)Lm(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Lm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(t(163))}if(e=a.sibling,e!==null){e.return=a.return,Ht=e;break}Ht=a.return}}function Hh(e,a,i){var c=i.flags;switch(i.tag){case 0:case 11:case 15:Yn(e,i),c&4&&ci(5,i);break;case 1:if(Yn(e,i),c&4)if(e=i.stateNode,a===null)try{e.componentDidMount()}catch(k){at(i,i.return,k)}else{var f=ts(i.type,a.memoizedProps);a=a.memoizedState;try{e.componentDidUpdate(f,a,e.__reactInternalSnapshotBeforeUpdate)}catch(k){at(i,i.return,k)}}c&64&&Ih(i),c&512&&ui(i,i.return);break;case 3:if(Yn(e,i),c&64&&(e=i.updateQueue,e!==null)){if(a=null,i.child!==null)switch(i.child.tag){case 27:case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}try{Cx(e,a)}catch(k){at(i,i.return,k)}}break;case 27:a===null&&c&4&&Fh(i);case 26:case 5:Yn(e,i),a===null&&c&4&&Ph(i),c&512&&ui(i,i.return);break;case 12:Yn(e,i);break;case 31:Yn(e,i),c&4&&qh(e,i);break;case 13:Yn(e,i),c&4&&$h(e,i),c&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=QN.bind(null,i),pj(e,i))));break;case 22:if(c=i.memoizedState!==null||Bn,!c){a=a!==null&&a.memoizedState!==null||Rt,f=Bn;var h=Rt;Bn=c,(Rt=a)&&!h?Un(e,i,(i.subtreeFlags&8772)!==0):Yn(e,i),Bn=f,Rt=h}break;case 30:break;default:Yn(e,i)}}function Yh(e){var a=e.alternate;a!==null&&(e.alternate=null,Yh(a)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(a=e.stateNode,a!==null&&Ut(a)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ht=null,da=!1;function Hn(e,a,i){for(i=i.child;i!==null;)Uh(e,a,i),i=i.sibling}function Uh(e,a,i){if(na&&typeof na.onCommitFiberUnmount=="function")try{na.onCommitFiberUnmount(zr,i)}catch{}switch(i.tag){case 26:Rt||un(i,a),Hn(e,a,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Rt||un(i,a);var c=ht,f=da;jr(i.type)&&(ht=i.stateNode,da=!1),Hn(e,a,i),gi(i.stateNode),ht=c,da=f;break;case 5:Rt||un(i,a);case 6:if(c=ht,f=da,ht=null,Hn(e,a,i),ht=c,da=f,ht!==null)if(da)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(i.stateNode)}catch(h){at(i,a,h)}else try{ht.removeChild(i.stateNode)}catch(h){at(i,a,h)}break;case 18:ht!==null&&(da?(e=ht,Iv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),sl(e)):Iv(ht,i.stateNode));break;case 4:c=ht,f=da,ht=i.stateNode.containerInfo,da=!0,Hn(e,a,i),ht=c,da=f;break;case 0:case 11:case 14:case 15:xr(2,i,a),Rt||xr(4,i,a),Hn(e,a,i);break;case 1:Rt||(un(i,a),c=i.stateNode,typeof c.componentWillUnmount=="function"&&Lh(i,a,c)),Hn(e,a,i);break;case 21:Hn(e,a,i);break;case 22:Rt=(c=Rt)||i.memoizedState!==null,Hn(e,a,i),Rt=c;break;default:Hn(e,a,i)}}function qh(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{sl(e)}catch(i){at(a,a.return,i)}}}function $h(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{sl(e)}catch(i){at(a,a.return,i)}}function BN(e){switch(e.tag){case 31:case 13:case 19:var a=e.stateNode;return a===null&&(a=e.stateNode=new Bh),a;case 22:return e=e.stateNode,a=e._retryCache,a===null&&(a=e._retryCache=new Bh),a;default:throw Error(t(435,e.tag))}}function Ko(e,a){var i=BN(e);a.forEach(function(c){if(!i.has(c)){i.add(c);var f=KN.bind(null,e,c);c.then(f,f)}})}function ma(e,a){var i=a.deletions;if(i!==null)for(var c=0;c<i.length;c++){var f=i[c],h=e,k=a,T=k;e:for(;T!==null;){switch(T.tag){case 27:if(jr(T.type)){ht=T.stateNode,da=!1;break e}break;case 5:ht=T.stateNode,da=!1;break e;case 3:case 4:ht=T.stateNode.containerInfo,da=!0;break e}T=T.return}if(ht===null)throw Error(t(160));Uh(h,k,f),ht=null,da=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Vh(a,e),a=a.sibling}var Wa=null;function Vh(e,a){var i=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ma(a,e),fa(e),c&4&&(xr(3,e,e.return),ci(3,e),xr(5,e,e.return));break;case 1:ma(a,e),fa(e),c&512&&(Rt||i===null||un(i,i.return)),c&64&&Bn&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?c:i.concat(c))));break;case 26:var f=Wa;if(ma(a,e),fa(e),c&512&&(Rt||i===null||un(i,i.return)),c&4){var h=i!==null?i.memoizedState:null;if(c=e.memoizedState,i===null)if(c===null)if(e.stateNode===null){e:{c=e.type,i=e.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":h=f.getElementsByTagName("title")[0],(!h||h[me]||h[Lt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(c),f.head.insertBefore(h,f.querySelector("head > title"))),Gt(h,c,i),h[Lt]=e,Bt(h),c=h;break e;case"link":var k=Vv("link","href",f).get(c+(i.href||""));if(k){for(var T=0;T<k.length;T++)if(h=k[T],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){k.splice(T,1);break t}}h=f.createElement(c),Gt(h,c,i),f.head.appendChild(h);break;case"meta":if(k=Vv("meta","content",f).get(c+(i.content||""))){for(T=0;T<k.length;T++)if(h=k[T],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){k.splice(T,1);break t}}h=f.createElement(c),Gt(h,c,i),f.head.appendChild(h);break;default:throw Error(t(468,c))}h[Lt]=e,Bt(h),c=h}e.stateNode=c}else Gv(f,e.type,e.stateNode);else e.stateNode=$v(f,c,e.memoizedProps);else h!==c?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,c===null?Gv(f,e.type,e.stateNode):$v(f,c,e.memoizedProps)):c===null&&e.stateNode!==null&&om(e,e.memoizedProps,i.memoizedProps)}break;case 27:ma(a,e),fa(e),c&512&&(Rt||i===null||un(i,i.return)),i!==null&&c&4&&om(e,e.memoizedProps,i.memoizedProps);break;case 5:if(ma(a,e),fa(e),c&512&&(Rt||i===null||un(i,i.return)),e.flags&32){f=e.stateNode;try{Ms(f,"")}catch(we){at(e,e.return,we)}}c&4&&e.stateNode!=null&&(f=e.memoizedProps,om(e,f,i!==null?i.memoizedProps:f)),c&1024&&(dm=!0);break;case 6:if(ma(a,e),fa(e),c&4){if(e.stateNode===null)throw Error(t(162));c=e.memoizedProps,i=e.stateNode;try{i.nodeValue=c}catch(we){at(e,e.return,we)}}break;case 3:if(dc=null,f=Wa,Wa=cc(a.containerInfo),ma(a,e),Wa=f,fa(e),c&4&&i!==null&&i.memoizedState.isDehydrated)try{sl(a.containerInfo)}catch(we){at(e,e.return,we)}dm&&(dm=!1,Gh(e));break;case 4:c=Wa,Wa=cc(e.stateNode.containerInfo),ma(a,e),fa(e),Wa=c;break;case 12:ma(a,e),fa(e);break;case 31:ma(a,e),fa(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Ko(e,c)));break;case 13:ma(a,e),fa(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Wo=Oe()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Ko(e,c)));break;case 22:f=e.memoizedState!==null;var I=i!==null&&i.memoizedState!==null,X=Bn,re=Rt;if(Bn=X||f,Rt=re||I,ma(a,e),Rt=re,Bn=X,fa(e),c&8192)e:for(a=e.stateNode,a._visibility=f?a._visibility&-2:a._visibility|1,f&&(i===null||I||Bn||Rt||as(e)),i=null,a=e;;){if(a.tag===5||a.tag===26){if(i===null){I=i=a;try{if(h=I.stateNode,f)k=h.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{T=I.stateNode;var ie=I.memoizedProps.style,Z=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;T.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(we){at(I,I.return,we)}}}else if(a.tag===6){if(i===null){I=a;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(we){at(I,I.return,we)}}}else if(a.tag===18){if(i===null){I=a;try{var te=I.stateNode;f?Lv(te,!0):Lv(I.stateNode,!1)}catch(we){at(I,I.return,we)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;i===a&&(i=null),a=a.return}i===a&&(i=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=e.updateQueue,c!==null&&(i=c.retryQueue,i!==null&&(c.retryQueue=null,Ko(e,i))));break;case 19:ma(a,e),fa(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Ko(e,c)));break;case 30:break;case 21:break;default:ma(a,e),fa(e)}}function fa(e){var a=e.flags;if(a&2){try{for(var i,c=e.return;c!==null;){if(zh(c)){i=c;break}c=c.return}if(i==null)throw Error(t(160));switch(i.tag){case 27:var f=i.stateNode,h=cm(e);Qo(e,h,f);break;case 5:var k=i.stateNode;i.flags&32&&(Ms(k,""),i.flags&=-33);var T=cm(e);Qo(e,T,k);break;case 3:case 4:var I=i.stateNode.containerInfo,X=cm(e);um(e,X,I);break;default:throw Error(t(161))}}catch(re){at(e,e.return,re)}e.flags&=-3}a&4096&&(e.flags&=-4097)}function Gh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var a=e;Gh(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),e=e.sibling}}function Yn(e,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Hh(e,a.alternate,a),a=a.sibling}function as(e){for(e=e.child;e!==null;){var a=e;switch(a.tag){case 0:case 11:case 14:case 15:xr(4,a,a.return),as(a);break;case 1:un(a,a.return);var i=a.stateNode;typeof i.componentWillUnmount=="function"&&Lh(a,a.return,i),as(a);break;case 27:gi(a.stateNode);case 26:case 5:un(a,a.return),as(a);break;case 22:a.memoizedState===null&&as(a);break;case 30:as(a);break;default:as(a)}e=e.sibling}}function Un(e,a,i){for(i=i&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,f=e,h=a,k=h.flags;switch(h.tag){case 0:case 11:case 15:Un(f,h,i),ci(4,h);break;case 1:if(Un(f,h,i),c=h,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(X){at(c,c.return,X)}if(c=h,f=c.updateQueue,f!==null){var T=c.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)Sx(I[f],T)}catch(X){at(c,c.return,X)}}i&&k&64&&Ih(h),ui(h,h.return);break;case 27:Fh(h);case 26:case 5:Un(f,h,i),i&&c===null&&k&4&&Ph(h),ui(h,h.return);break;case 12:Un(f,h,i);break;case 31:Un(f,h,i),i&&k&4&&qh(f,h);break;case 13:Un(f,h,i),i&&k&4&&$h(f,h);break;case 22:h.memoizedState===null&&Un(f,h,i),ui(h,h.return);break;case 30:break;default:Un(f,h,i)}a=a.sibling}}function mm(e,a){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(e=a.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Xl(i))}function fm(e,a){e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&Xl(e))}function Za(e,a,i,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Qh(e,a,i,c),a=a.sibling}function Qh(e,a,i,c){var f=a.flags;switch(a.tag){case 0:case 11:case 15:Za(e,a,i,c),f&2048&&ci(9,a);break;case 1:Za(e,a,i,c);break;case 3:Za(e,a,i,c),f&2048&&(e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&Xl(e)));break;case 12:if(f&2048){Za(e,a,i,c),e=a.stateNode;try{var h=a.memoizedProps,k=h.id,T=h.onPostCommit;typeof T=="function"&&T(k,a.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){at(a,a.return,I)}}else Za(e,a,i,c);break;case 31:Za(e,a,i,c);break;case 13:Za(e,a,i,c);break;case 23:break;case 22:h=a.stateNode,k=a.alternate,a.memoizedState!==null?h._visibility&2?Za(e,a,i,c):di(e,a):h._visibility&2?Za(e,a,i,c):(h._visibility|=2,Qs(e,a,i,c,(a.subtreeFlags&10256)!==0||!1)),f&2048&&mm(k,a);break;case 24:Za(e,a,i,c),f&2048&&fm(a.alternate,a);break;default:Za(e,a,i,c)}}function Qs(e,a,i,c,f){for(f=f&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var h=e,k=a,T=i,I=c,X=k.flags;switch(k.tag){case 0:case 11:case 15:Qs(h,k,T,I,f),ci(8,k);break;case 23:break;case 22:var re=k.stateNode;k.memoizedState!==null?re._visibility&2?Qs(h,k,T,I,f):di(h,k):(re._visibility|=2,Qs(h,k,T,I,f)),f&&X&2048&&mm(k.alternate,k);break;case 24:Qs(h,k,T,I,f),f&&X&2048&&fm(k.alternate,k);break;default:Qs(h,k,T,I,f)}a=a.sibling}}function di(e,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var i=e,c=a,f=c.flags;switch(c.tag){case 22:di(i,c),f&2048&&mm(c.alternate,c);break;case 24:di(i,c),f&2048&&fm(c.alternate,c);break;default:di(i,c)}a=a.sibling}}var mi=8192;function Ks(e,a,i){if(e.subtreeFlags&mi)for(e=e.child;e!==null;)Kh(e,a,i),e=e.sibling}function Kh(e,a,i){switch(e.tag){case 26:Ks(e,a,i),e.flags&mi&&e.memoizedState!==null&&kj(i,Wa,e.memoizedState,e.memoizedProps);break;case 5:Ks(e,a,i);break;case 3:case 4:var c=Wa;Wa=cc(e.stateNode.containerInfo),Ks(e,a,i),Wa=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=mi,mi=16777216,Ks(e,a,i),mi=c):Ks(e,a,i));break;default:Ks(e,a,i)}}function Xh(e){var a=e.alternate;if(a!==null&&(e=a.child,e!==null)){a.child=null;do a=e.sibling,e.sibling=null,e=a;while(e!==null)}}function fi(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var i=0;i<a.length;i++){var c=a[i];Ht=c,Zh(c,e)}Xh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Wh(e),e=e.sibling}function Wh(e){switch(e.tag){case 0:case 11:case 15:fi(e),e.flags&2048&&xr(9,e,e.return);break;case 3:fi(e);break;case 12:fi(e);break;case 22:var a=e.stateNode;e.memoizedState!==null&&a._visibility&2&&(e.return===null||e.return.tag!==13)?(a._visibility&=-3,Xo(e)):fi(e);break;default:fi(e)}}function Xo(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var i=0;i<a.length;i++){var c=a[i];Ht=c,Zh(c,e)}Xh(e)}for(e=e.child;e!==null;){switch(a=e,a.tag){case 0:case 11:case 15:xr(8,a,a.return),Xo(a);break;case 22:i=a.stateNode,i._visibility&2&&(i._visibility&=-3,Xo(a));break;default:Xo(a)}e=e.sibling}}function Zh(e,a){for(;Ht!==null;){var i=Ht;switch(i.tag){case 0:case 11:case 15:xr(8,i,a);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var c=i.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Xl(i.memoizedState.cache)}if(c=i.child,c!==null)c.return=i,Ht=c;else e:for(i=e;Ht!==null;){c=Ht;var f=c.sibling,h=c.return;if(Yh(c),c===i){Ht=null;break e}if(f!==null){f.return=h,Ht=f;break e}Ht=h}}}var HN={getCacheForType:function(e){var a=$t(Et),i=a.data.get(e);return i===void 0&&(i=e(),a.data.set(e,i)),i},cacheSignal:function(){return $t(Et).controller.signal}},YN=typeof WeakMap=="function"?WeakMap:Map,Je=0,ut=null,Fe=null,Ue=0,tt=0,Da=null,hr=!1,Xs=!1,pm=!1,qn=0,wt=0,vr=0,ns=0,xm=0,Ma=0,Ws=0,pi=null,pa=null,hm=!1,Wo=0,Jh=0,Zo=1/0,Jo=null,br=null,Pt=0,gr=null,Zs=null,$n=0,vm=0,bm=null,ev=null,xi=0,gm=null;function Aa(){return(Je&2)!==0&&Ue!==0?Ue&-Ue:z.T!==null?Cm():io()}function tv(){if(Ma===0)if((Ue&536870912)===0||Ve){var e=js;js<<=1,(js&3932160)===0&&(js=262144),Ma=e}else Ma=536870912;return e=Ca.current,e!==null&&(e.flags|=32),Ma}function xa(e,a,i){(e===ut&&(tt===2||tt===9)||e.cancelPendingCommit!==null)&&(Js(e,0),yr(e,Ue,Ma,!1)),Br(e,i),((Je&2)===0||e!==ut)&&(e===ut&&((Je&2)===0&&(ns|=i),wt===4&&yr(e,Ue,Ma,!1)),dn(e))}function av(e,a,i){if((Je&6)!==0)throw Error(t(327));var c=!i&&(a&127)===0&&(a&e.expiredLanes)===0||Fr(e,a),f=c?$N(e,a):Nm(e,a,!0),h=c;do{if(f===0){Xs&&!c&&yr(e,a,0,!1);break}else{if(i=e.current.alternate,h&&!UN(i)){f=Nm(e,a,!1),h=!1;continue}if(f===2){if(h=a,e.errorRecoveryDisabledLanes&h)var k=0;else k=e.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){a=k;e:{var T=e;f=pi;var I=T.current.memoizedState.isDehydrated;if(I&&(Js(T,k).flags|=256),k=Nm(T,k,!1),k!==2){if(pm&&!I){T.errorRecoveryDisabledLanes|=h,ns|=h,f=4;break e}h=pa,pa=f,h!==null&&(pa===null?pa=h:pa.push.apply(pa,h))}f=k}if(h=!1,f!==2)continue}}if(f===1){Js(e,0),yr(e,a,0,!0);break}e:{switch(c=e,h=f,h){case 0:case 1:throw Error(t(345));case 4:if((a&4194048)!==a)break;case 6:yr(c,a,Ma,!hr);break e;case 2:pa=null;break;case 3:case 5:break;default:throw Error(t(329))}if((a&62914560)===a&&(f=Wo+300-Oe(),10<f)){if(yr(c,a,Ma,!hr),Ss(c,0,!0)!==0)break e;$n=a,c.timeoutHandle=Ov(nv.bind(null,c,i,pa,Jo,hm,a,Ma,ns,Ws,hr,h,"Throttled",-0,0),f);break e}nv(c,i,pa,Jo,hm,a,Ma,ns,Ws,hr,h,null,-0,0)}}break}while(!0);dn(e)}function nv(e,a,i,c,f,h,k,T,I,X,re,ie,Z,te){if(e.timeoutHandle=-1,ie=a.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Tn},Kh(a,h,ie);var we=(h&62914560)===h?Wo-Oe():(h&4194048)===h?Jh-Oe():0;if(we=Dj(ie,we),we!==null){$n=h,e.cancelPendingCommit=we(dv.bind(null,e,a,h,i,c,f,k,T,I,re,ie,null,Z,te)),yr(e,h,k,!X);return}}dv(e,a,h,i,c,f,k,T,I)}function UN(e){for(var a=e;;){var i=a.tag;if((i===0||i===11||i===15)&&a.flags&16384&&(i=a.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var c=0;c<i.length;c++){var f=i[c],h=f.getSnapshot;f=f.value;try{if(!wa(h(),f))return!1}catch{return!1}}if(i=a.child,a.subtreeFlags&16384&&i!==null)i.return=a,a=i;else{if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function yr(e,a,i,c){a&=~xm,a&=~ns,e.suspendedLanes|=a,e.pingedLanes&=~a,c&&(e.warmLanes|=a),c=e.expirationTimes;for(var f=a;0<f;){var h=31-ra(f),k=1<<h;c[h]=-1,f&=~k}i!==0&&ro(e,i,a)}function ec(){return(Je&6)===0?(hi(0),!1):!0}function ym(){if(Fe!==null){if(tt===0)var e=Fe.return;else e=Fe,Rn=Qr=null,Ld(e),Us=null,Zl=0,e=Fe;for(;e!==null;)Rh(e.alternate,e),e=e.return;Fe=null}}function Js(e,a){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,cj(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),$n=0,ym(),ut=e,Fe=i=_n(e.current,null),Ue=a,tt=0,Da=null,hr=!1,Xs=Fr(e,a),pm=!1,Ws=Ma=xm=ns=vr=wt=0,pa=pi=null,hm=!1,(a&8)!==0&&(a|=a&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=a;0<c;){var f=31-ra(c),h=1<<f;a|=e[f],c&=~h}return qn=a,No(),i}function rv(e,a){Ie=null,z.H=li,a===Ys||a===Ao?(a=yx(),tt=3):a===Sd?(a=yx(),tt=4):tt=a===Zd?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Da=a,Fe===null&&(wt=1,Uo(e,za(a,e.current)))}function sv(){var e=Ca.current;return e===null?!0:(Ue&4194048)===Ue?Ya===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?e===Ya:!1}function lv(){var e=z.H;return z.H=li,e===null?li:e}function iv(){var e=z.A;return z.A=HN,e}function tc(){wt=4,hr||(Ue&4194048)!==Ue&&Ca.current!==null||(Xs=!0),(vr&134217727)===0&&(ns&134217727)===0||ut===null||yr(ut,Ue,Ma,!1)}function Nm(e,a,i){var c=Je;Je|=2;var f=lv(),h=iv();(ut!==e||Ue!==a)&&(Jo=null,Js(e,a)),a=!1;var k=wt;e:do try{if(tt!==0&&Fe!==null){var T=Fe,I=Da;switch(tt){case 8:ym(),k=6;break e;case 3:case 2:case 9:case 6:Ca.current===null&&(a=!0);var X=tt;if(tt=0,Da=null,el(e,T,I,X),i&&Xs){k=0;break e}break;default:X=tt,tt=0,Da=null,el(e,T,I,X)}}qN(),k=wt;break}catch(re){rv(e,re)}while(!0);return a&&e.shellSuspendCounter++,Rn=Qr=null,Je=c,z.H=f,z.A=h,Fe===null&&(ut=null,Ue=0,No()),k}function qN(){for(;Fe!==null;)ov(Fe)}function $N(e,a){var i=Je;Je|=2;var c=lv(),f=iv();ut!==e||Ue!==a?(Jo=null,Zo=Oe()+500,Js(e,a)):Xs=Fr(e,a);e:do try{if(tt!==0&&Fe!==null){a=Fe;var h=Da;t:switch(tt){case 1:tt=0,Da=null,el(e,a,h,1);break;case 2:case 9:if(bx(h)){tt=0,Da=null,cv(a);break}a=function(){tt!==2&&tt!==9||ut!==e||(tt=7),dn(e)},h.then(a,a);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:bx(h)?(tt=0,Da=null,cv(a)):(tt=0,Da=null,el(e,a,h,7));break;case 5:var k=null;switch(Fe.tag){case 26:k=Fe.memoizedState;case 5:case 27:var T=Fe;if(k?Qv(k):T.stateNode.complete){tt=0,Da=null;var I=T.sibling;if(I!==null)Fe=I;else{var X=T.return;X!==null?(Fe=X,ac(X)):Fe=null}break t}}tt=0,Da=null,el(e,a,h,5);break;case 6:tt=0,Da=null,el(e,a,h,6);break;case 8:ym(),wt=6;break e;default:throw Error(t(462))}}VN();break}catch(re){rv(e,re)}while(!0);return Rn=Qr=null,z.H=c,z.A=f,Je=i,Fe!==null?0:(ut=null,Ue=0,No(),wt)}function VN(){for(;Fe!==null&&!oa();)ov(Fe)}function ov(e){var a=_h(e.alternate,e,qn);e.memoizedProps=e.pendingProps,a===null?ac(e):Fe=a}function cv(e){var a=e,i=a.alternate;switch(a.tag){case 15:case 0:a=kh(i,a,a.pendingProps,a.type,void 0,Ue);break;case 11:a=kh(i,a,a.pendingProps,a.type.render,a.ref,Ue);break;case 5:Ld(a);default:Rh(i,a),a=Fe=ix(a,qn),a=_h(i,a,qn)}e.memoizedProps=e.pendingProps,a===null?ac(e):Fe=a}function el(e,a,i,c){Rn=Qr=null,Ld(a),Us=null,Zl=0;var f=a.return;try{if(RN(e,f,a,i,Ue)){wt=1,Uo(e,za(i,e.current)),Fe=null;return}}catch(h){if(f!==null)throw Fe=f,h;wt=1,Uo(e,za(i,e.current)),Fe=null;return}a.flags&32768?(Ve||c===1?e=!0:Xs||(Ue&536870912)!==0?e=!1:(hr=e=!0,(c===2||c===9||c===3||c===6)&&(c=Ca.current,c!==null&&c.tag===13&&(c.flags|=16384))),uv(a,e)):ac(a)}function ac(e){var a=e;do{if((a.flags&32768)!==0){uv(a,hr);return}e=a.return;var i=PN(a.alternate,a,qn);if(i!==null){Fe=i;return}if(a=a.sibling,a!==null){Fe=a;return}Fe=a=e}while(a!==null);wt===0&&(wt=5)}function uv(e,a){do{var i=zN(e.alternate,e);if(i!==null){i.flags&=32767,Fe=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!a&&(e=e.sibling,e!==null)){Fe=e;return}Fe=e=i}while(e!==null);wt=6,Fe=null}function dv(e,a,i,c,f,h,k,T,I){e.cancelPendingCommit=null;do nc();while(Pt!==0);if((Je&6)!==0)throw Error(t(327));if(a!==null){if(a===e.current)throw Error(t(177));if(h=a.lanes|a.childLanes,h|=cd,Fu(e,i,h,k,T,I),e===ut&&(Fe=ut=null,Ue=0),Zs=a,gr=e,$n=i,vm=h,bm=f,ev=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,XN(dt,function(){return hv(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=z.T,z.T=null,f=O.p,O.p=2,k=Je,Je|=4;try{FN(e,a,i)}finally{Je=k,O.p=f,z.T=c}}Pt=1,mv(),fv(),pv()}}function mv(){if(Pt===1){Pt=0;var e=gr,a=Zs,i=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||i){i=z.T,z.T=null;var c=O.p;O.p=2;var f=Je;Je|=4;try{Vh(a,e);var h=Om,k=Zp(e.containerInfo),T=h.focusedElem,I=h.selectionRange;if(k!==T&&T&&T.ownerDocument&&Wp(T.ownerDocument.documentElement,T)){if(I!==null&&rd(T)){var X=I.start,re=I.end;if(re===void 0&&(re=X),"selectionStart"in T)T.selectionStart=X,T.selectionEnd=Math.min(re,T.value.length);else{var ie=T.ownerDocument||document,Z=ie&&ie.defaultView||window;if(Z.getSelection){var te=Z.getSelection(),we=T.textContent.length,Te=Math.min(I.start,we),ct=I.end===void 0?Te:Math.min(I.end,we);!te.extend&&Te>ct&&(k=ct,ct=Te,Te=k);var V=Xp(T,Te),Y=Xp(T,ct);if(V&&Y&&(te.rangeCount!==1||te.anchorNode!==V.node||te.anchorOffset!==V.offset||te.focusNode!==Y.node||te.focusOffset!==Y.offset)){var Q=ie.createRange();Q.setStart(V.node,V.offset),te.removeAllRanges(),Te>ct?(te.addRange(Q),te.extend(Y.node,Y.offset)):(Q.setEnd(Y.node,Y.offset),te.addRange(Q))}}}}for(ie=[],te=T;te=te.parentNode;)te.nodeType===1&&ie.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ie.length;T++){var le=ie[T];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}xc=!!_m,Om=_m=null}finally{Je=f,O.p=c,z.T=i}}e.current=a,Pt=2}}function fv(){if(Pt===2){Pt=0;var e=gr,a=Zs,i=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||i){i=z.T,z.T=null;var c=O.p;O.p=2;var f=Je;Je|=4;try{Hh(e,a.alternate,a)}finally{Je=f,O.p=c,z.T=i}}Pt=3}}function pv(){if(Pt===4||Pt===3){Pt=0,Ct();var e=gr,a=Zs,i=$n,c=ev;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Pt=5:(Pt=0,Zs=gr=null,xv(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(br=null),Ll(i),a=a.stateNode,na&&typeof na.onCommitFiberRoot=="function")try{na.onCommitFiberRoot(zr,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=z.T,f=O.p,O.p=2,z.T=null;try{for(var h=e.onRecoverableError,k=0;k<c.length;k++){var T=c[k];h(T.value,{componentStack:T.stack})}}finally{z.T=a,O.p=f}}($n&3)!==0&&nc(),dn(e),f=e.pendingLanes,(i&261930)!==0&&(f&42)!==0?e===gm?xi++:(xi=0,gm=e):xi=0,hi(0)}}function xv(e,a){(e.pooledCacheLanes&=a)===0&&(a=e.pooledCache,a!=null&&(e.pooledCache=null,Xl(a)))}function nc(){return mv(),fv(),pv(),hv()}function hv(){if(Pt!==5)return!1;var e=gr,a=vm;vm=0;var i=Ll($n),c=z.T,f=O.p;try{O.p=32>i?32:i,z.T=null,i=bm,bm=null;var h=gr,k=$n;if(Pt=0,Zs=gr=null,$n=0,(Je&6)!==0)throw Error(t(331));var T=Je;if(Je|=4,Wh(h.current),Qh(h,h.current,k,i),Je=T,hi(0,!1),na&&typeof na.onPostCommitFiberRoot=="function")try{na.onPostCommitFiberRoot(zr,h)}catch{}return!0}finally{O.p=f,z.T=c,xv(e,a)}}function vv(e,a,i){a=za(i,a),a=Wd(e.stateNode,a,2),e=mr(e,a,2),e!==null&&(Br(e,2),dn(e))}function at(e,a,i){if(e.tag===3)vv(e,e,i);else for(;a!==null;){if(a.tag===3){vv(a,e,i);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(br===null||!br.has(c))){e=za(i,e),i=bh(2),c=mr(a,i,2),c!==null&&(gh(i,c,a,e),Br(c,2),dn(c));break}}a=a.return}}function jm(e,a,i){var c=e.pingCache;if(c===null){c=e.pingCache=new YN;var f=new Set;c.set(a,f)}else f=c.get(a),f===void 0&&(f=new Set,c.set(a,f));f.has(i)||(pm=!0,f.add(i),e=GN.bind(null,e,a,i),a.then(e,e))}function GN(e,a,i){var c=e.pingCache;c!==null&&c.delete(a),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,ut===e&&(Ue&i)===i&&(wt===4||wt===3&&(Ue&62914560)===Ue&&300>Oe()-Wo?(Je&2)===0&&Js(e,0):xm|=i,Ws===Ue&&(Ws=0)),dn(e)}function bv(e,a){a===0&&(a=no()),e=$r(e,a),e!==null&&(Br(e,a),dn(e))}function QN(e){var a=e.memoizedState,i=0;a!==null&&(i=a.retryLane),bv(e,i)}function KN(e,a){var i=0;switch(e.tag){case 31:case 13:var c=e.stateNode,f=e.memoizedState;f!==null&&(i=f.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(t(314))}c!==null&&c.delete(a),bv(e,i)}function XN(e,a){return Ge(e,a)}var rc=null,tl=null,wm=!1,sc=!1,Sm=!1,Nr=0;function dn(e){e!==tl&&e.next===null&&(tl===null?rc=tl=e:tl=tl.next=e),sc=!0,wm||(wm=!0,ZN())}function hi(e,a){if(!Sm&&sc){Sm=!0;do for(var i=!1,c=rc;c!==null;){if(e!==0){var f=c.pendingLanes;if(f===0)var h=0;else{var k=c.suspendedLanes,T=c.pingedLanes;h=(1<<31-ra(42|e)+1)-1,h&=f&~(k&~T),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,jv(c,h))}else h=Ue,h=Ss(c,c===ut?h:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(h&3)===0||Fr(c,h)||(i=!0,jv(c,h));c=c.next}while(i);Sm=!1}}function WN(){gv()}function gv(){sc=wm=!1;var e=0;Nr!==0&&oj()&&(e=Nr);for(var a=Oe(),i=null,c=rc;c!==null;){var f=c.next,h=yv(c,a);h===0?(c.next=null,i===null?rc=f:i.next=f,f===null&&(tl=i)):(i=c,(e!==0||(h&3)!==0)&&(sc=!0)),c=f}Pt!==0&&Pt!==5||hi(e),Nr!==0&&(Nr=0)}function yv(e,a){for(var i=e.suspendedLanes,c=e.pingedLanes,f=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var k=31-ra(h),T=1<<k,I=f[k];I===-1?((T&i)===0||(T&c)!==0)&&(f[k]=zu(T,a)):I<=a&&(e.expiredLanes|=T),h&=~T}if(a=ut,i=Ue,i=Ss(e,e===a?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,i===0||e===a&&(tt===2||tt===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&Nt(c),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Fr(e,i)){if(a=i&-i,a===e.callbackPriority)return a;switch(c!==null&&Nt(c),Ll(i)){case 2:case 8:i=xe;break;case 32:i=dt;break;case 268435456:i=mt;break;default:i=dt}return c=Nv.bind(null,e),i=Ge(i,c),e.callbackPriority=a,e.callbackNode=i,a}return c!==null&&c!==null&&Nt(c),e.callbackPriority=2,e.callbackNode=null,2}function Nv(e,a){if(Pt!==0&&Pt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(nc()&&e.callbackNode!==i)return null;var c=Ue;return c=Ss(e,e===ut?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(av(e,c,a),yv(e,Oe()),e.callbackNode!=null&&e.callbackNode===i?Nv.bind(null,e):null)}function jv(e,a){if(nc())return null;av(e,a,!0)}function ZN(){uj(function(){(Je&6)!==0?Ge(Me,WN):gv()})}function Cm(){if(Nr===0){var e=Bs;e===0&&(e=Ns,Ns<<=1,(Ns&261888)===0&&(Ns=256)),Nr=e}return Nr}function wv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:fo(""+e)}function Sv(e,a){var i=a.ownerDocument.createElement("input");return i.name=a.name,i.value=a.value,e.id&&i.setAttribute("form",e.id),a.parentNode.insertBefore(i,a),e=new FormData(e),i.parentNode.removeChild(i),e}function JN(e,a,i,c,f){if(a==="submit"&&i&&i.stateNode===f){var h=wv((f[Wt]||null).action),k=c.submitter;k&&(a=(a=k[Wt]||null)?wv(a.formAction):k.getAttribute("formAction"),a!==null&&(h=a,k=null));var T=new vo("action","action",null,c,f);e.push({event:T,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Nr!==0){var I=k?Sv(f,k):new FormData(f);$d(i,{pending:!0,data:I,method:f.method,action:h},null,I)}}else typeof h=="function"&&(T.preventDefault(),I=k?Sv(f,k):new FormData(f),$d(i,{pending:!0,data:I,method:f.method,action:h},h,I))},currentTarget:f}]})}}for(var km=0;km<od.length;km++){var Dm=od[km],ej=Dm.toLowerCase(),tj=Dm[0].toUpperCase()+Dm.slice(1);Xa(ej,"on"+tj)}Xa(tx,"onAnimationEnd"),Xa(ax,"onAnimationIteration"),Xa(nx,"onAnimationStart"),Xa("dblclick","onDoubleClick"),Xa("focusin","onFocus"),Xa("focusout","onBlur"),Xa(vN,"onTransitionRun"),Xa(bN,"onTransitionStart"),Xa(gN,"onTransitionCancel"),Xa(rx,"onTransitionEnd"),ks("onMouseEnter",["mouseout","mouseover"]),ks("onMouseLeave",["mouseout","mouseover"]),ks("onPointerEnter",["pointerout","pointerover"]),ks("onPointerLeave",["pointerout","pointerover"]),Hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vi));function Cv(e,a){a=(a&4)!==0;for(var i=0;i<e.length;i++){var c=e[i],f=c.event;c=c.listeners;e:{var h=void 0;if(a)for(var k=c.length-1;0<=k;k--){var T=c[k],I=T.instance,X=T.currentTarget;if(T=T.listener,I!==h&&f.isPropagationStopped())break e;h=T,f.currentTarget=X;try{h(f)}catch(re){yo(re)}f.currentTarget=null,h=I}else for(k=0;k<c.length;k++){if(T=c[k],I=T.instance,X=T.currentTarget,T=T.listener,I!==h&&f.isPropagationStopped())break e;h=T,f.currentTarget=X;try{h(f)}catch(re){yo(re)}f.currentTarget=null,h=I}}}}function Be(e,a){var i=a[Pl];i===void 0&&(i=a[Pl]=new Set);var c=e+"__bubble";i.has(c)||(kv(a,e,2,!1),i.add(c))}function Mm(e,a,i){var c=0;a&&(c|=4),kv(i,e,c,a)}var lc="_reactListening"+Math.random().toString(36).slice(2);function Am(e){if(!e[lc]){e[lc]=!0,gp.forEach(function(i){i!=="selectionchange"&&(aj.has(i)||Mm(i,!1,e),Mm(i,!0,e))});var a=e.nodeType===9?e:e.ownerDocument;a===null||a[lc]||(a[lc]=!0,Mm("selectionchange",!1,a))}}function kv(e,a,i,c){switch(t0(a)){case 2:var f=Tj;break;case 8:f=Ej;break;default:f=qm}i=f.bind(null,a,i,e),f=void 0,!Ku||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),c?f!==void 0?e.addEventListener(a,i,{capture:!0,passive:f}):e.addEventListener(a,i,!0):f!==void 0?e.addEventListener(a,i,{passive:f}):e.addEventListener(a,i,!1)}function Tm(e,a,i,c,f){var h=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var k=c.tag;if(k===3||k===4){var T=c.stateNode.containerInfo;if(T===f)break;if(k===4)for(k=c.return;k!==null;){var I=k.tag;if((I===3||I===4)&&k.stateNode.containerInfo===f)return;k=k.return}for(;T!==null;){if(k=ca(T),k===null)return;if(I=k.tag,I===5||I===6||I===26||I===27){c=h=k;continue e}T=T.parentNode}}c=c.return}Ep(function(){var X=h,re=Gu(i),ie=[];e:{var Z=sx.get(e);if(Z!==void 0){var te=vo,we=e;switch(e){case"keypress":if(xo(i)===0)break e;case"keydown":case"keyup":te=K1;break;case"focusin":we="focus",te=Ju;break;case"focusout":we="blur",te=Ju;break;case"beforeblur":case"afterblur":te=Ju;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Rp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=P1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=Z1;break;case tx:case ax:case nx:te=B1;break;case rx:te=eN;break;case"scroll":case"scrollend":te=I1;break;case"wheel":te=aN;break;case"copy":case"cut":case"paste":te=Y1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Lp;break;case"toggle":case"beforetoggle":te=rN}var Te=(a&4)!==0,ct=!Te&&(e==="scroll"||e==="scrollend"),V=Te?Z!==null?Z+"Capture":null:Z;Te=[];for(var Y=X,Q;Y!==null;){var le=Y;if(Q=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||Q===null||V===null||(le=Fl(Y,V),le!=null&&Te.push(bi(Y,le,Q))),ct)break;Y=Y.return}0<Te.length&&(Z=new te(Z,we,null,i,re),ie.push({event:Z,listeners:Te}))}}if((a&7)===0){e:{if(Z=e==="mouseover"||e==="pointerover",te=e==="mouseout"||e==="pointerout",Z&&i!==Vu&&(we=i.relatedTarget||i.fromElement)&&(ca(we)||we[rr]))break e;if((te||Z)&&(Z=re.window===re?re:(Z=re.ownerDocument)?Z.defaultView||Z.parentWindow:window,te?(we=i.relatedTarget||i.toElement,te=X,we=we?ca(we):null,we!==null&&(ct=u(we),Te=we.tag,we!==ct||Te!==5&&Te!==27&&Te!==6)&&(we=null)):(te=null,we=X),te!==we)){if(Te=Rp,le="onMouseLeave",V="onMouseEnter",Y="mouse",(e==="pointerout"||e==="pointerover")&&(Te=Lp,le="onPointerLeave",V="onPointerEnter",Y="pointer"),ct=te==null?Z:zl(te),Q=we==null?Z:zl(we),Z=new Te(le,Y+"leave",te,i,re),Z.target=ct,Z.relatedTarget=Q,le=null,ca(re)===X&&(Te=new Te(V,Y+"enter",we,i,re),Te.target=Q,Te.relatedTarget=ct,le=Te),ct=le,te&&we)t:{for(Te=nj,V=te,Y=we,Q=0,le=V;le;le=Te(le))Q++;le=0;for(var De=Y;De;De=Te(De))le++;for(;0<Q-le;)V=Te(V),Q--;for(;0<le-Q;)Y=Te(Y),le--;for(;Q--;){if(V===Y||Y!==null&&V===Y.alternate){Te=V;break t}V=Te(V),Y=Te(Y)}Te=null}else Te=null;te!==null&&Dv(ie,Z,te,Te,!1),we!==null&&ct!==null&&Dv(ie,ct,we,Te,!0)}}e:{if(Z=X?zl(X):window,te=Z.nodeName&&Z.nodeName.toLowerCase(),te==="select"||te==="input"&&Z.type==="file")var Xe=qp;else if(Yp(Z))if($p)Xe=pN;else{Xe=mN;var Se=dN}else te=Z.nodeName,!te||te.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?X&&$u(X.elementType)&&(Xe=qp):Xe=fN;if(Xe&&(Xe=Xe(e,X))){Up(ie,Xe,i,re);break e}Se&&Se(e,Z,X),e==="focusout"&&X&&Z.type==="number"&&X.memoizedProps.value!=null&&qu(Z,"number",Z.value)}switch(Se=X?zl(X):window,e){case"focusin":(Yp(Se)||Se.contentEditable==="true")&&(_s=Se,sd=X,Gl=null);break;case"focusout":Gl=sd=_s=null;break;case"mousedown":ld=!0;break;case"contextmenu":case"mouseup":case"dragend":ld=!1,Jp(ie,i,re);break;case"selectionchange":if(hN)break;case"keydown":case"keyup":Jp(ie,i,re)}var Le;if(td)e:{switch(e){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else Es?Bp(e,i)&&(qe="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(qe="onCompositionStart");qe&&(Pp&&i.locale!=="ko"&&(Es||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&Es&&(Le=_p()):(sr=re,Xu="value"in sr?sr.value:sr.textContent,Es=!0)),Se=ic(X,qe),0<Se.length&&(qe=new Ip(qe,e,null,i,re),ie.push({event:qe,listeners:Se}),Le?qe.data=Le:(Le=Hp(i),Le!==null&&(qe.data=Le)))),(Le=lN?iN(e,i):oN(e,i))&&(qe=ic(X,"onBeforeInput"),0<qe.length&&(Se=new Ip("onBeforeInput","beforeinput",null,i,re),ie.push({event:Se,listeners:qe}),Se.data=Le)),JN(ie,e,X,i,re)}Cv(ie,a)})}function bi(e,a,i){return{instance:e,listener:a,currentTarget:i}}function ic(e,a){for(var i=a+"Capture",c=[];e!==null;){var f=e,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=Fl(e,i),f!=null&&c.unshift(bi(e,f,h)),f=Fl(e,a),f!=null&&c.push(bi(e,f,h))),e.tag===3)return c;e=e.return}return[]}function nj(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Dv(e,a,i,c,f){for(var h=a._reactName,k=[];i!==null&&i!==c;){var T=i,I=T.alternate,X=T.stateNode;if(T=T.tag,I!==null&&I===c)break;T!==5&&T!==26&&T!==27||X===null||(I=X,f?(X=Fl(i,h),X!=null&&k.unshift(bi(i,X,I))):f||(X=Fl(i,h),X!=null&&k.push(bi(i,X,I)))),i=i.return}k.length!==0&&e.push({event:a,listeners:k})}var rj=/\r\n?/g,sj=/\u0000|\uFFFD/g;function Mv(e){return(typeof e=="string"?e:""+e).replace(rj,`
`).replace(sj,"")}function Av(e,a){return a=Mv(a),Mv(e)===a}function ot(e,a,i,c,f,h){switch(i){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Ms(e,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Ms(e,""+c);break;case"className":uo(e,"class",c);break;case"tabIndex":uo(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":uo(e,i,c);break;case"style":Ap(e,c,h);break;case"data":if(a!=="object"){uo(e,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||i!=="href")){e.removeAttribute(i);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(i);break}c=fo(""+c),e.setAttribute(i,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(a!=="input"&&ot(e,a,"name",f.name,f,null),ot(e,a,"formEncType",f.formEncType,f,null),ot(e,a,"formMethod",f.formMethod,f,null),ot(e,a,"formTarget",f.formTarget,f,null)):(ot(e,a,"encType",f.encType,f,null),ot(e,a,"method",f.method,f,null),ot(e,a,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(i);break}c=fo(""+c),e.setAttribute(i,c);break;case"onClick":c!=null&&(e.onclick=Tn);break;case"onScroll":c!=null&&Be("scroll",e);break;case"onScrollEnd":c!=null&&Be("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(t(61));if(i=c.__html,i!=null){if(f.children!=null)throw Error(t(60));e.innerHTML=i}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}i=fo(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(i,""+c):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":c===!0?e.setAttribute(i,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(i,c):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(i,c):e.removeAttribute(i);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(i):e.setAttribute(i,c);break;case"popover":Be("beforetoggle",e),Be("toggle",e),co(e,"popover",c);break;case"xlinkActuate":An(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":An(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":An(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":An(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":An(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":An(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":An(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":An(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":An(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":co(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=O1.get(i)||i,co(e,i,c))}}function Em(e,a,i,c,f,h){switch(i){case"style":Ap(e,c,h);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(t(61));if(i=c.__html,i!=null){if(f.children!=null)throw Error(t(60));e.innerHTML=i}}break;case"children":typeof c=="string"?Ms(e,c):(typeof c=="number"||typeof c=="bigint")&&Ms(e,""+c);break;case"onScroll":c!=null&&Be("scroll",e);break;case"onScrollEnd":c!=null&&Be("scrollend",e);break;case"onClick":c!=null&&(e.onclick=Tn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yp.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),a=i.slice(2,f?i.length-7:void 0),h=e[Wt]||null,h=h!=null?h[i]:null,typeof h=="function"&&e.removeEventListener(a,h,f),typeof c=="function")){typeof h!="function"&&h!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(a,c,f);break e}i in e?e[i]=c:c===!0?e.setAttribute(i,""):co(e,i,c)}}}function Gt(e,a,i){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",e),Be("load",e);var c=!1,f=!1,h;for(h in i)if(i.hasOwnProperty(h)){var k=i[h];if(k!=null)switch(h){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(t(137,a));default:ot(e,a,h,k,i,null)}}f&&ot(e,a,"srcSet",i.srcSet,i,null),c&&ot(e,a,"src",i.src,i,null);return;case"input":Be("invalid",e);var T=h=k=f=null,I=null,X=null;for(c in i)if(i.hasOwnProperty(c)){var re=i[c];if(re!=null)switch(c){case"name":f=re;break;case"type":k=re;break;case"checked":I=re;break;case"defaultChecked":X=re;break;case"value":h=re;break;case"defaultValue":T=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(t(137,a));break;default:ot(e,a,c,re,i,null)}}Cp(e,h,T,I,X,k,f,!1);return;case"select":Be("invalid",e),c=k=h=null;for(f in i)if(i.hasOwnProperty(f)&&(T=i[f],T!=null))switch(f){case"value":h=T;break;case"defaultValue":k=T;break;case"multiple":c=T;default:ot(e,a,f,T,i,null)}a=h,i=k,e.multiple=!!c,a!=null?Ds(e,!!c,a,!1):i!=null&&Ds(e,!!c,i,!0);return;case"textarea":Be("invalid",e),h=f=c=null;for(k in i)if(i.hasOwnProperty(k)&&(T=i[k],T!=null))switch(k){case"value":c=T;break;case"defaultValue":f=T;break;case"children":h=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(t(91));break;default:ot(e,a,k,T,i,null)}Dp(e,c,f,h);return;case"option":for(I in i)i.hasOwnProperty(I)&&(c=i[I],c!=null)&&(I==="selected"?e.selected=c&&typeof c!="function"&&typeof c!="symbol":ot(e,a,I,c,i,null));return;case"dialog":Be("beforetoggle",e),Be("toggle",e),Be("cancel",e),Be("close",e);break;case"iframe":case"object":Be("load",e);break;case"video":case"audio":for(c=0;c<vi.length;c++)Be(vi[c],e);break;case"image":Be("error",e),Be("load",e);break;case"details":Be("toggle",e);break;case"embed":case"source":case"link":Be("error",e),Be("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in i)if(i.hasOwnProperty(X)&&(c=i[X],c!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(t(137,a));default:ot(e,a,X,c,i,null)}return;default:if($u(a)){for(re in i)i.hasOwnProperty(re)&&(c=i[re],c!==void 0&&Em(e,a,re,c,i,void 0));return}}for(T in i)i.hasOwnProperty(T)&&(c=i[T],c!=null&&ot(e,a,T,c,i,null))}function lj(e,a,i,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,k=null,T=null,I=null,X=null,re=null;for(te in i){var ie=i[te];if(i.hasOwnProperty(te)&&ie!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":I=ie;default:c.hasOwnProperty(te)||ot(e,a,te,null,c,ie)}}for(var Z in c){var te=c[Z];if(ie=i[Z],c.hasOwnProperty(Z)&&(te!=null||ie!=null))switch(Z){case"type":h=te;break;case"name":f=te;break;case"checked":X=te;break;case"defaultChecked":re=te;break;case"value":k=te;break;case"defaultValue":T=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(t(137,a));break;default:te!==ie&&ot(e,a,Z,te,c,ie)}}Uu(e,k,T,I,X,re,h,f);return;case"select":te=k=T=Z=null;for(h in i)if(I=i[h],i.hasOwnProperty(h)&&I!=null)switch(h){case"value":break;case"multiple":te=I;default:c.hasOwnProperty(h)||ot(e,a,h,null,c,I)}for(f in c)if(h=c[f],I=i[f],c.hasOwnProperty(f)&&(h!=null||I!=null))switch(f){case"value":Z=h;break;case"defaultValue":T=h;break;case"multiple":k=h;default:h!==I&&ot(e,a,f,h,c,I)}a=T,i=k,c=te,Z!=null?Ds(e,!!i,Z,!1):!!c!=!!i&&(a!=null?Ds(e,!!i,a,!0):Ds(e,!!i,i?[]:"",!1));return;case"textarea":te=Z=null;for(T in i)if(f=i[T],i.hasOwnProperty(T)&&f!=null&&!c.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ot(e,a,T,null,c,f)}for(k in c)if(f=c[k],h=i[k],c.hasOwnProperty(k)&&(f!=null||h!=null))switch(k){case"value":Z=f;break;case"defaultValue":te=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(t(91));break;default:f!==h&&ot(e,a,k,f,c,h)}kp(e,Z,te);return;case"option":for(var we in i)Z=i[we],i.hasOwnProperty(we)&&Z!=null&&!c.hasOwnProperty(we)&&(we==="selected"?e.selected=!1:ot(e,a,we,null,c,Z));for(I in c)Z=c[I],te=i[I],c.hasOwnProperty(I)&&Z!==te&&(Z!=null||te!=null)&&(I==="selected"?e.selected=Z&&typeof Z!="function"&&typeof Z!="symbol":ot(e,a,I,Z,c,te));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in i)Z=i[Te],i.hasOwnProperty(Te)&&Z!=null&&!c.hasOwnProperty(Te)&&ot(e,a,Te,null,c,Z);for(X in c)if(Z=c[X],te=i[X],c.hasOwnProperty(X)&&Z!==te&&(Z!=null||te!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(t(137,a));break;default:ot(e,a,X,Z,c,te)}return;default:if($u(a)){for(var ct in i)Z=i[ct],i.hasOwnProperty(ct)&&Z!==void 0&&!c.hasOwnProperty(ct)&&Em(e,a,ct,void 0,c,Z);for(re in c)Z=c[re],te=i[re],!c.hasOwnProperty(re)||Z===te||Z===void 0&&te===void 0||Em(e,a,re,Z,c,te);return}}for(var V in i)Z=i[V],i.hasOwnProperty(V)&&Z!=null&&!c.hasOwnProperty(V)&&ot(e,a,V,null,c,Z);for(ie in c)Z=c[ie],te=i[ie],!c.hasOwnProperty(ie)||Z===te||Z==null&&te==null||ot(e,a,ie,Z,c,te)}function Tv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ij(){if(typeof performance.getEntriesByType=="function"){for(var e=0,a=0,i=performance.getEntriesByType("resource"),c=0;c<i.length;c++){var f=i[c],h=f.transferSize,k=f.initiatorType,T=f.duration;if(h&&T&&Tv(k)){for(k=0,T=f.responseEnd,c+=1;c<i.length;c++){var I=i[c],X=I.startTime;if(X>T)break;var re=I.transferSize,ie=I.initiatorType;re&&Tv(ie)&&(I=I.responseEnd,k+=re*(I<T?1:(T-X)/(I-X)))}if(--c,a+=8*(h+k)/(f.duration/1e3),e++,10<e)break}}if(0<e)return a/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var _m=null,Om=null;function oc(e){return e.nodeType===9?e:e.ownerDocument}function Ev(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _v(e,a){if(e===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&a==="foreignObject"?0:e}function Rm(e,a){return e==="textarea"||e==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Im=null;function oj(){var e=window.event;return e&&e.type==="popstate"?e===Im?!1:(Im=e,!0):(Im=null,!1)}var Ov=typeof setTimeout=="function"?setTimeout:void 0,cj=typeof clearTimeout=="function"?clearTimeout:void 0,Rv=typeof Promise=="function"?Promise:void 0,uj=typeof queueMicrotask=="function"?queueMicrotask:typeof Rv<"u"?function(e){return Rv.resolve(null).then(e).catch(dj)}:Ov;function dj(e){setTimeout(function(){throw e})}function jr(e){return e==="head"}function Iv(e,a){var i=a,c=0;do{var f=i.nextSibling;if(e.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"||i==="/&"){if(c===0){e.removeChild(f),sl(a);return}c--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")c++;else if(i==="html")gi(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,gi(i);for(var h=i.firstChild;h;){var k=h.nextSibling,T=h.nodeName;h[me]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&h.rel.toLowerCase()==="stylesheet"||i.removeChild(h),h=k}}else i==="body"&&gi(e.ownerDocument.body);i=f}while(i);sl(a)}function Lv(e,a){var i=e;e=0;do{var c=i.nextSibling;if(i.nodeType===1?a?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(a?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=c}while(i)}function Lm(e){var a=e.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var i=a;switch(a=a.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Lm(i),Ut(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function mj(e,a,i,c){for(;e.nodeType===1;){var f=i;if(e.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[me])switch(a){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(a==="input"&&e.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Ua(e.nextSibling),e===null)break}return null}function fj(e,a,i){if(a==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Ua(e.nextSibling),e===null))return null;return e}function Pv(e,a){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ua(e.nextSibling),e===null))return null;return e}function Pm(e){return e.data==="$?"||e.data==="$~"}function zm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function pj(e,a){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=a;else if(e.data!=="$?"||i.readyState!=="loading")a();else{var c=function(){a(),i.removeEventListener("DOMContentLoaded",c)};i.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function Ua(e){for(;e!=null;e=e.nextSibling){var a=e.nodeType;if(a===1||a===3)break;if(a===8){if(a=e.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return e}var Fm=null;function zv(e){e=e.nextSibling;for(var a=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(a===0)return Ua(e.nextSibling);a--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||a++}e=e.nextSibling}return null}function Fv(e){e=e.previousSibling;for(var a=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(a===0)return e;a--}else i!=="/$"&&i!=="/&"||a++}e=e.previousSibling}return null}function Bv(e,a,i){switch(a=oc(i),e){case"html":if(e=a.documentElement,!e)throw Error(t(452));return e;case"head":if(e=a.head,!e)throw Error(t(453));return e;case"body":if(e=a.body,!e)throw Error(t(454));return e;default:throw Error(t(451))}}function gi(e){for(var a=e.attributes;a.length;)e.removeAttributeNode(a[0]);Ut(e)}var qa=new Map,Hv=new Set;function cc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Vn=O.d;O.d={f:xj,r:hj,D:vj,C:bj,L:gj,m:yj,X:jj,S:Nj,M:wj};function xj(){var e=Vn.f(),a=ec();return e||a}function hj(e){var a=Ka(e);a!==null&&a.tag===5&&a.type==="form"?rh(a):Vn.r(e)}var al=typeof document>"u"?null:document;function Yv(e,a,i){var c=al;if(c&&typeof a=="string"&&a){var f=La(a);f='link[rel="'+e+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),Hv.has(f)||(Hv.add(f),e={rel:e,crossOrigin:i,href:a},c.querySelector(f)===null&&(a=c.createElement("link"),Gt(a,"link",e),Bt(a),c.head.appendChild(a)))}}function vj(e){Vn.D(e),Yv("dns-prefetch",e,null)}function bj(e,a){Vn.C(e,a),Yv("preconnect",e,a)}function gj(e,a,i){Vn.L(e,a,i);var c=al;if(c&&e&&a){var f='link[rel="preload"][as="'+La(a)+'"]';a==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+La(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+La(i.imageSizes)+'"]')):f+='[href="'+La(e)+'"]';var h=f;switch(a){case"style":h=nl(e);break;case"script":h=rl(e)}qa.has(h)||(e=b({rel:"preload",href:a==="image"&&i&&i.imageSrcSet?void 0:e,as:a},i),qa.set(h,e),c.querySelector(f)!==null||a==="style"&&c.querySelector(yi(h))||a==="script"&&c.querySelector(Ni(h))||(a=c.createElement("link"),Gt(a,"link",e),Bt(a),c.head.appendChild(a)))}}function yj(e,a){Vn.m(e,a);var i=al;if(i&&e){var c=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+La(c)+'"][href="'+La(e)+'"]',h=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=rl(e)}if(!qa.has(h)&&(e=b({rel:"modulepreload",href:e},a),qa.set(h,e),i.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Ni(h)))return}c=i.createElement("link"),Gt(c,"link",e),Bt(c),i.head.appendChild(c)}}}function Nj(e,a,i){Vn.S(e,a,i);var c=al;if(c&&e){var f=Cs(c).hoistableStyles,h=nl(e);a=a||"default";var k=f.get(h);if(!k){var T={loading:0,preload:null};if(k=c.querySelector(yi(h)))T.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":a},i),(i=qa.get(h))&&Bm(e,i);var I=k=c.createElement("link");Bt(I),Gt(I,"link",e),I._p=new Promise(function(X,re){I.onload=X,I.onerror=re}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,uc(k,a,c)}k={type:"stylesheet",instance:k,count:1,state:T},f.set(h,k)}}}function jj(e,a){Vn.X(e,a);var i=al;if(i&&e){var c=Cs(i).hoistableScripts,f=rl(e),h=c.get(f);h||(h=i.querySelector(Ni(f)),h||(e=b({src:e,async:!0},a),(a=qa.get(f))&&Hm(e,a),h=i.createElement("script"),Bt(h),Gt(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(f,h))}}function wj(e,a){Vn.M(e,a);var i=al;if(i&&e){var c=Cs(i).hoistableScripts,f=rl(e),h=c.get(f);h||(h=i.querySelector(Ni(f)),h||(e=b({src:e,async:!0,type:"module"},a),(a=qa.get(f))&&Hm(e,a),h=i.createElement("script"),Bt(h),Gt(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(f,h))}}function Uv(e,a,i,c){var f=(f=je.current)?cc(f):null;if(!f)throw Error(t(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(a=nl(i.href),i=Cs(f).hoistableStyles,c=i.get(a),c||(c={type:"style",instance:null,count:0,state:null},i.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=nl(i.href);var h=Cs(f).hoistableStyles,k=h.get(e);if(k||(f=f.ownerDocument||f,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,k),(h=f.querySelector(yi(e)))&&!h._p&&(k.instance=h,k.state.loading=5),qa.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},qa.set(e,i),h||Sj(f,e,i,k.state))),a&&c===null)throw Error(t(528,""));return k}if(a&&c!==null)throw Error(t(529,""));return null;case"script":return a=i.async,i=i.src,typeof i=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=rl(i),i=Cs(f).hoistableScripts,c=i.get(a),c||(c={type:"script",instance:null,count:0,state:null},i.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(t(444,e))}}function nl(e){return'href="'+La(e)+'"'}function yi(e){return'link[rel="stylesheet"]['+e+"]"}function qv(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Sj(e,a,i,c){e.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=e.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),Gt(a,"link",i),Bt(a),e.head.appendChild(a))}function rl(e){return'[src="'+La(e)+'"]'}function Ni(e){return"script[async]"+e}function $v(e,a,i){if(a.count++,a.instance===null)switch(a.type){case"style":var c=e.querySelector('style[data-href~="'+La(i.href)+'"]');if(c)return a.instance=c,Bt(c),c;var f=b({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Bt(c),Gt(c,"style",f),uc(c,i.precedence,e),a.instance=c;case"stylesheet":f=nl(i.href);var h=e.querySelector(yi(f));if(h)return a.state.loading|=4,a.instance=h,Bt(h),h;c=qv(i),(f=qa.get(f))&&Bm(c,f),h=(e.ownerDocument||e).createElement("link"),Bt(h);var k=h;return k._p=new Promise(function(T,I){k.onload=T,k.onerror=I}),Gt(h,"link",c),a.state.loading|=4,uc(h,i.precedence,e),a.instance=h;case"script":return h=rl(i.src),(f=e.querySelector(Ni(h)))?(a.instance=f,Bt(f),f):(c=i,(f=qa.get(h))&&(c=b({},i),Hm(c,f)),e=e.ownerDocument||e,f=e.createElement("script"),Bt(f),Gt(f,"link",c),e.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(t(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,uc(c,i.precedence,e));return a.instance}function uc(e,a,i){for(var c=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,h=f,k=0;k<c.length;k++){var T=c[k];if(T.dataset.precedence===a)h=T;else if(h!==f)break}h?h.parentNode.insertBefore(e,h.nextSibling):(a=i.nodeType===9?i.head:i,a.insertBefore(e,a.firstChild))}function Bm(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.title==null&&(e.title=a.title)}function Hm(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.integrity==null&&(e.integrity=a.integrity)}var dc=null;function Vv(e,a,i){if(dc===null){var c=new Map,f=dc=new Map;f.set(i,c)}else f=dc,c=f.get(i),c||(c=new Map,f.set(i,c));if(c.has(e))return c;for(c.set(e,null),i=i.getElementsByTagName(e),f=0;f<i.length;f++){var h=i[f];if(!(h[me]||h[Lt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var k=h.getAttribute(a)||"";k=e+k;var T=c.get(k);T?T.push(h):c.set(k,[h])}}return c}function Gv(e,a,i){e=e.ownerDocument||e,e.head.insertBefore(i,a==="title"?e.querySelector("head > title"):null)}function Cj(e,a,i){if(i===1||a.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(e=a.disabled,typeof a.precedence=="string"&&e==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Qv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function kj(e,a,i,c){if(i.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=nl(c.href),h=a.querySelector(yi(f));if(h){a=h._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(e.count++,e=mc.bind(e),a.then(e,e)),i.state.loading|=4,i.instance=h,Bt(h);return}h=a.ownerDocument||a,c=qv(c),(f=qa.get(f))&&Bm(c,f),h=h.createElement("link"),Bt(h);var k=h;k._p=new Promise(function(T,I){k.onload=T,k.onerror=I}),Gt(h,"link",c),i.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,a),(a=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=mc.bind(e),a.addEventListener("load",i),a.addEventListener("error",i))}}var Ym=0;function Dj(e,a){return e.stylesheets&&e.count===0&&pc(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var c=setTimeout(function(){if(e.stylesheets&&pc(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+a);0<e.imgBytes&&Ym===0&&(Ym=62500*ij());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&pc(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>Ym?50:800)+a);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function mc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var fc=null;function pc(e,a){e.stylesheets=null,e.unsuspend!==null&&(e.count++,fc=new Map,a.forEach(Mj,e),fc=null,mc.call(e))}function Mj(e,a){if(!(a.state.loading&4)){var i=fc.get(e);if(i)var c=i.get(null);else{i=new Map,fc.set(e,i);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var k=f[h];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(i.set(k.dataset.precedence,k),c=k)}c&&i.set(null,c)}f=a.instance,k=f.getAttribute("data-precedence"),h=i.get(k)||c,h===c&&i.set(null,f),i.set(k,f),this.count++,c=mc.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),h?h.parentNode.insertBefore(f,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),a.state.loading|=4}}var ji={$$typeof:g,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function Aj(e,a,i,c,f,h,k,T,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rl(0),this.hiddenUpdates=Rl(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Kv(e,a,i,c,f,h,k,T,I,X,re,ie){return e=new Aj(e,a,i,k,I,X,re,ie,T),a=1,h===!0&&(a|=24),h=Sa(3,null,null,a),e.current=h,h.stateNode=e,a=Nd(),a.refCount++,e.pooledCache=a,a.refCount++,h.memoizedState={element:c,isDehydrated:i,cache:a},Cd(h),e}function Xv(e){return e?(e=Is,e):Is}function Wv(e,a,i,c,f,h){f=Xv(f),c.context===null?c.context=f:c.pendingContext=f,c=dr(a),c.payload={element:i},h=h===void 0?null:h,h!==null&&(c.callback=h),i=mr(e,c,a),i!==null&&(xa(i,e,a),ei(i,e,a))}function Zv(e,a){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<a?i:a}}function Um(e,a){Zv(e,a),(e=e.alternate)&&Zv(e,a)}function Jv(e){if(e.tag===13||e.tag===31){var a=$r(e,67108864);a!==null&&xa(a,e,67108864),Um(e,67108864)}}function e0(e){if(e.tag===13||e.tag===31){var a=Aa();a=Il(a);var i=$r(e,a);i!==null&&xa(i,e,a),Um(e,a)}}var xc=!0;function Tj(e,a,i,c){var f=z.T;z.T=null;var h=O.p;try{O.p=2,qm(e,a,i,c)}finally{O.p=h,z.T=f}}function Ej(e,a,i,c){var f=z.T;z.T=null;var h=O.p;try{O.p=8,qm(e,a,i,c)}finally{O.p=h,z.T=f}}function qm(e,a,i,c){if(xc){var f=$m(c);if(f===null)Tm(e,a,c,hc,i),a0(e,c);else if(Oj(f,e,a,i,c))c.stopPropagation();else if(a0(e,c),a&4&&-1<_j.indexOf(e)){for(;f!==null;){var h=Ka(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var k=Mn(h.pendingLanes);if(k!==0){var T=h;for(T.pendingLanes|=2,T.entangledLanes|=2;k;){var I=1<<31-ra(k);T.entanglements[1]|=I,k&=~I}dn(h),(Je&6)===0&&(Zo=Oe()+500,hi(0))}}break;case 31:case 13:T=$r(h,2),T!==null&&xa(T,h,2),ec(),Um(h,2)}if(h=$m(c),h===null&&Tm(e,a,c,hc,i),h===f)break;f=h}f!==null&&c.stopPropagation()}else Tm(e,a,c,null,i)}}function $m(e){return e=Gu(e),Vm(e)}var hc=null;function Vm(e){if(hc=null,e=ca(e),e!==null){var a=u(e);if(a===null)e=null;else{var i=a.tag;if(i===13){if(e=d(a),e!==null)return e;e=null}else if(i===31){if(e=m(a),e!==null)return e;e=null}else if(i===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;e=null}else a!==e&&(e=null)}}return hc=e,null}function t0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gt()){case Me:return 2;case xe:return 8;case dt:case Ft:return 32;case mt:return 268435456;default:return 32}default:return 32}}var Gm=!1,wr=null,Sr=null,Cr=null,wi=new Map,Si=new Map,kr=[],_j="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function a0(e,a){switch(e){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":Cr=null;break;case"pointerover":case"pointerout":wi.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Si.delete(a.pointerId)}}function Ci(e,a,i,c,f,h){return e===null||e.nativeEvent!==h?(e={blockedOn:a,domEventName:i,eventSystemFlags:c,nativeEvent:h,targetContainers:[f]},a!==null&&(a=Ka(a),a!==null&&Jv(a)),e):(e.eventSystemFlags|=c,a=e.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),e)}function Oj(e,a,i,c,f){switch(a){case"focusin":return wr=Ci(wr,e,a,i,c,f),!0;case"dragenter":return Sr=Ci(Sr,e,a,i,c,f),!0;case"mouseover":return Cr=Ci(Cr,e,a,i,c,f),!0;case"pointerover":var h=f.pointerId;return wi.set(h,Ci(wi.get(h)||null,e,a,i,c,f)),!0;case"gotpointercapture":return h=f.pointerId,Si.set(h,Ci(Si.get(h)||null,e,a,i,c,f)),!0}return!1}function n0(e){var a=ca(e.target);if(a!==null){var i=u(a);if(i!==null){if(a=i.tag,a===13){if(a=d(i),a!==null){e.blockedOn=a,oo(e.priority,function(){e0(i)});return}}else if(a===31){if(a=m(i),a!==null){e.blockedOn=a,oo(e.priority,function(){e0(i)});return}}else if(a===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vc(e){if(e.blockedOn!==null)return!1;for(var a=e.targetContainers;0<a.length;){var i=$m(e.nativeEvent);if(i===null){i=e.nativeEvent;var c=new i.constructor(i.type,i);Vu=c,i.target.dispatchEvent(c),Vu=null}else return a=Ka(i),a!==null&&Jv(a),e.blockedOn=i,!1;a.shift()}return!0}function r0(e,a,i){vc(e)&&i.delete(a)}function Rj(){Gm=!1,wr!==null&&vc(wr)&&(wr=null),Sr!==null&&vc(Sr)&&(Sr=null),Cr!==null&&vc(Cr)&&(Cr=null),wi.forEach(r0),Si.forEach(r0)}function bc(e,a){e.blockedOn===a&&(e.blockedOn=null,Gm||(Gm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Rj)))}var gc=null;function s0(e){gc!==e&&(gc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){gc===e&&(gc=null);for(var a=0;a<e.length;a+=3){var i=e[a],c=e[a+1],f=e[a+2];if(typeof c!="function"){if(Vm(c||i)===null)continue;break}var h=Ka(i);h!==null&&(e.splice(a,3),a-=3,$d(h,{pending:!0,data:f,method:i.method,action:c},c,f))}}))}function sl(e){function a(I){return bc(I,e)}wr!==null&&bc(wr,e),Sr!==null&&bc(Sr,e),Cr!==null&&bc(Cr,e),wi.forEach(a),Si.forEach(a);for(var i=0;i<kr.length;i++){var c=kr[i];c.blockedOn===e&&(c.blockedOn=null)}for(;0<kr.length&&(i=kr[0],i.blockedOn===null);)n0(i),i.blockedOn===null&&kr.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(c=0;c<i.length;c+=3){var f=i[c],h=i[c+1],k=f[Wt]||null;if(typeof h=="function")k||s0(i);else if(k){var T=null;if(h&&h.hasAttribute("formAction")){if(f=h,k=h[Wt]||null)T=k.formAction;else if(Vm(f)!==null)continue}else T=k.action;typeof T=="function"?i[c+1]=T:(i.splice(c,3),c-=3),s0(i)}}}function l0(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(k){return f=k})},focusReset:"manual",scroll:"manual"})}function a(){f!==null&&(f(),f=null),c||setTimeout(i,20)}function i(){if(!c&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(i,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),f!==null&&(f(),f=null)}}}function Qm(e){this._internalRoot=e}yc.prototype.render=Qm.prototype.render=function(e){var a=this._internalRoot;if(a===null)throw Error(t(409));var i=a.current,c=Aa();Wv(i,c,e,a,null,null)},yc.prototype.unmount=Qm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var a=e.containerInfo;Wv(e.current,2,null,e,null,null),ec(),a[rr]=null}};function yc(e){this._internalRoot=e}yc.prototype.unstable_scheduleHydration=function(e){if(e){var a=io();e={blockedOn:null,target:e,priority:a};for(var i=0;i<kr.length&&a!==0&&a<kr[i].priority;i++);kr.splice(i,0,e),i===0&&n0(e)}};var i0=l.version;if(i0!=="19.2.4")throw Error(t(527,i0,"19.2.4"));O.findDOMNode=function(e){var a=e._reactInternals;if(a===void 0)throw typeof e.render=="function"?Error(t(188)):(e=Object.keys(e).join(","),Error(t(268,e)));return e=p(a),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Ij={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{zr=Nc.inject(Ij),na=Nc}catch{}}return Di.createRoot=function(e,a){if(!o(e))throw Error(t(299));var i=!1,c="",f=ph,h=xh,k=hh;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(h=a.onCaughtError),a.onRecoverableError!==void 0&&(k=a.onRecoverableError)),a=Kv(e,1,!1,null,null,i,c,null,f,h,k,l0),e[rr]=a.current,Am(e),new Qm(a)},Di.hydrateRoot=function(e,a,i){if(!o(e))throw Error(t(299));var c=!1,f="",h=ph,k=xh,T=hh,I=null;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(k=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.formState!==void 0&&(I=i.formState)),a=Kv(e,1,!0,a,i??null,c,f,I,h,k,T,l0),a.context=Xv(null),i=a.current,c=Aa(),c=Il(c),f=dr(c),f.callback=null,mr(i,f,c),i=c,a.current.lanes=i,Br(a,i),dn(a),e[rr]=a.current,Am(e),new yc(a)},Di.version="19.2.4",Di}var v0;function $j(){if(v0)return Wm.exports;v0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(l){console.error(l)}}return s(),Wm.exports=qj(),Wm.exports}var Vj=$j();var b0="popstate";function Gj(s={}){function l(t,o){let{pathname:u,search:d,hash:m}=t.location;return Sf("",{pathname:u,search:d,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(t,o){return typeof o=="string"?o:qi(o)}return Kj(l,r,null,s)}function bt(s,l){if(s===!1||s===null||typeof s>"u")throw new Error(l)}function an(s,l){if(!s){typeof console<"u"&&console.warn(l);try{throw new Error(l)}catch{}}}function Qj(){return Math.random().toString(36).substring(2,10)}function g0(s,l){return{usr:s.state,key:s.key,idx:l}}function Sf(s,l,r=null,t){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof l=="string"?Dl(l):l,state:r,key:l&&l.key||t||Qj()}}function qi({pathname:s="/",search:l="",hash:r=""}){return l&&l!=="?"&&(s+=l.charAt(0)==="?"?l:"?"+l),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function Dl(s){let l={};if(s){let r=s.indexOf("#");r>=0&&(l.hash=s.substring(r),s=s.substring(0,r));let t=s.indexOf("?");t>=0&&(l.search=s.substring(t),s=s.substring(0,t)),s&&(l.pathname=s)}return l}function Kj(s,l,r,t={}){let{window:o=document.defaultView,v5Compat:u=!1}=t,d=o.history,m="POP",x=null,p=v();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function v(){return(d.state||{idx:null}).idx}function b(){m="POP";let y=v(),N=y==null?null:y-p;p=y,x&&x({action:m,location:C.location,delta:N})}function j(y,N){m="PUSH";let D=Sf(C.location,y,N);p=v()+1;let g=g0(D,p),_=C.createHref(D);try{d.pushState(g,"",_)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;o.location.assign(_)}u&&x&&x({action:m,location:C.location,delta:1})}function w(y,N){m="REPLACE";let D=Sf(C.location,y,N);p=v();let g=g0(D,p),_=C.createHref(D);d.replaceState(g,"",_),u&&x&&x({action:m,location:C.location,delta:0})}function M(y){return Xj(y)}let C={get action(){return m},get location(){return s(o,d)},listen(y){if(x)throw new Error("A history only accepts one active listener");return o.addEventListener(b0,b),x=y,()=>{o.removeEventListener(b0,b),x=null}},createHref(y){return l(o,y)},createURL:M,encodeLocation(y){let N=M(y);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:j,replace:w,go(y){return d.go(y)}};return C}function Xj(s,l=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),bt(r,"No window.location.(origin|href) available to create URL");let t=typeof s=="string"?s:qi(s);return t=t.replace(/ $/,"%20"),!l&&t.startsWith("//")&&(t=r+t),new URL(t,r)}function ug(s,l,r="/"){return Wj(s,l,r,!1)}function Wj(s,l,r,t){let o=typeof l=="string"?Dl(l):l,u=Jn(o.pathname||"/",r);if(u==null)return null;let d=dg(s);Zj(d);let m=null;for(let x=0;m==null&&x<d.length;++x){let p=cw(u);m=iw(d[x],p,t)}return m}function dg(s,l=[],r=[],t="",o=!1){let u=(d,m,x=o,p)=>{let v={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:m,route:d};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(t)&&x)return;bt(v.relativePath.startsWith(t),`Absolute route path "${v.relativePath}" nested under path "${t}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(t.length)}let b=Xn([t,v.relativePath]),j=r.concat(v);d.children&&d.children.length>0&&(bt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),dg(d.children,l,j,b,x)),!(d.path==null&&!d.index)&&l.push({path:b,score:sw(b,d.index),routesMeta:j})};return s.forEach((d,m)=>{if(d.path===""||!d.path?.includes("?"))u(d,m);else for(let x of mg(d.path))u(d,m,!0,x)}),l}function mg(s){let l=s.split("/");if(l.length===0)return[];let[r,...t]=l,o=r.endsWith("?"),u=r.replace(/\?$/,"");if(t.length===0)return o?[u,""]:[u];let d=mg(t.join("/")),m=[];return m.push(...d.map(x=>x===""?u:[u,x].join("/"))),o&&m.push(...d),m.map(x=>s.startsWith("/")&&x===""?"/":x)}function Zj(s){s.sort((l,r)=>l.score!==r.score?r.score-l.score:lw(l.routesMeta.map(t=>t.childrenIndex),r.routesMeta.map(t=>t.childrenIndex)))}var Jj=/^:[\w-]+$/,ew=3,tw=2,aw=1,nw=10,rw=-2,y0=s=>s==="*";function sw(s,l){let r=s.split("/"),t=r.length;return r.some(y0)&&(t+=rw),l&&(t+=tw),r.filter(o=>!y0(o)).reduce((o,u)=>o+(Jj.test(u)?ew:u===""?aw:nw),t)}function lw(s,l){return s.length===l.length&&s.slice(0,-1).every((t,o)=>t===l[o])?s[s.length-1]-l[l.length-1]:0}function iw(s,l,r=!1){let{routesMeta:t}=s,o={},u="/",d=[];for(let m=0;m<t.length;++m){let x=t[m],p=m===t.length-1,v=u==="/"?l:l.slice(u.length)||"/",b=Jc({path:x.relativePath,caseSensitive:x.caseSensitive,end:p},v),j=x.route;if(!b&&p&&r&&!t[t.length-1].route.index&&(b=Jc({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),d.push({params:o,pathname:Xn([u,b.pathname]),pathnameBase:fw(Xn([u,b.pathnameBase])),route:j}),b.pathnameBase!=="/"&&(u=Xn([u,b.pathnameBase]))}return d}function Jc(s,l){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[r,t]=ow(s.path,s.caseSensitive,s.end),o=l.match(r);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:t.reduce((p,{paramName:v,isOptional:b},j)=>{if(v==="*"){let M=m[j]||"";d=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const w=m[j];return b&&!w?p[v]=void 0:p[v]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:d,pattern:s}}function ow(s,l=!1,r=!0){an(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let t=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,x)=>(t.push({paramName:m,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(t.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,l?void 0:"i"),t]}function cw(s){try{return s.split("/").map(l=>decodeURIComponent(l).replace(/\//g,"%2F")).join("/")}catch(l){return an(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${l}).`),s}}function Jn(s,l){if(l==="/")return s;if(!s.toLowerCase().startsWith(l.toLowerCase()))return null;let r=l.endsWith("/")?l.length-1:l.length,t=s.charAt(r);return t&&t!=="/"?null:s.slice(r)||"/"}var uw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function dw(s,l="/"){let{pathname:r,search:t="",hash:o=""}=typeof s=="string"?Dl(s):s,u;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?u=N0(r.substring(1),"/"):u=N0(r,l)):u=l,{pathname:u,search:pw(t),hash:xw(o)}}function N0(s,l){let r=l.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function tf(s,l,r,t){return`Cannot include a '${s}' character in a manually specified \`to.${l}\` field [${JSON.stringify(t)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mw(s){return s.filter((l,r)=>r===0||l.route.path&&l.route.path.length>0)}function Yf(s){let l=mw(s);return l.map((r,t)=>t===l.length-1?r.pathname:r.pathnameBase)}function Uf(s,l,r,t=!1){let o;typeof s=="string"?o=Dl(s):(o={...s},bt(!o.pathname||!o.pathname.includes("?"),tf("?","pathname","search",o)),bt(!o.pathname||!o.pathname.includes("#"),tf("#","pathname","hash",o)),bt(!o.search||!o.search.includes("#"),tf("#","search","hash",o)));let u=s===""||o.pathname==="",d=u?"/":o.pathname,m;if(d==null)m=r;else{let b=l.length-1;if(!t&&d.startsWith("..")){let j=d.split("/");for(;j[0]==="..";)j.shift(),b-=1;o.pathname=j.join("/")}m=b>=0?l[b]:"/"}let x=dw(o,m),p=d&&d!=="/"&&d.endsWith("/"),v=(u||d===".")&&r.endsWith("/");return!x.pathname.endsWith("/")&&(p||v)&&(x.pathname+="/"),x}var Xn=s=>s.join("/").replace(/\/\/+/g,"/"),fw=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),pw=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,xw=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,hw=class{constructor(s,l,r,t=!1){this.status=s,this.statusText=l||"",this.internal=t,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function vw(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function bw(s){return s.map(l=>l.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var fg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function pg(s,l){let r=s;if(typeof r!="string"||!uw.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let t=r,o=!1;if(fg)try{let u=new URL(window.location.href),d=r.startsWith("//")?new URL(u.protocol+r):new URL(r),m=Jn(d.pathname,l);d.origin===u.origin&&m!=null?r=m+d.search+d.hash:o=!0}catch{an(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:t,isExternal:o,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var xg=["POST","PUT","PATCH","DELETE"];new Set(xg);var gw=["GET",...xg];new Set(gw);var Ml=S.createContext(null);Ml.displayName="DataRouter";var Nu=S.createContext(null);Nu.displayName="DataRouterState";var yw=S.createContext(!1),hg=S.createContext({isTransitioning:!1});hg.displayName="ViewTransition";var Nw=S.createContext(new Map);Nw.displayName="Fetchers";var jw=S.createContext(null);jw.displayName="Await";var Ra=S.createContext(null);Ra.displayName="Navigation";var Ki=S.createContext(null);Ki.displayName="Location";var rn=S.createContext({outlet:null,matches:[],isDataRoute:!1});rn.displayName="Route";var qf=S.createContext(null);qf.displayName="RouteError";var vg="REACT_ROUTER_ERROR",ww="REDIRECT",Sw="ROUTE_ERROR_RESPONSE";function Cw(s){if(s.startsWith(`${vg}:${ww}:{`))try{let l=JSON.parse(s.slice(28));if(typeof l=="object"&&l&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.location=="string"&&typeof l.reloadDocument=="boolean"&&typeof l.replace=="boolean")return l}catch{}}function kw(s){if(s.startsWith(`${vg}:${Sw}:{`))try{let l=JSON.parse(s.slice(40));if(typeof l=="object"&&l&&typeof l.status=="number"&&typeof l.statusText=="string")return new hw(l.status,l.statusText,l.data)}catch{}}function Dw(s,{relative:l}={}){bt(Al(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:t}=S.useContext(Ra),{hash:o,pathname:u,search:d}=Xi(s,{relative:l}),m=u;return r!=="/"&&(m=u==="/"?r:Xn([r,u])),t.createHref({pathname:m,search:d,hash:o})}function Al(){return S.useContext(Ki)!=null}function Ga(){return bt(Al(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Ki).location}var bg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gg(s){S.useContext(Ra).static||S.useLayoutEffect(s)}function bs(){let{isDataRoute:s}=S.useContext(rn);return s?Yw():Mw()}function Mw(){bt(Al(),"useNavigate() may be used only in the context of a <Router> component.");let s=S.useContext(Ml),{basename:l,navigator:r}=S.useContext(Ra),{matches:t}=S.useContext(rn),{pathname:o}=Ga(),u=JSON.stringify(Yf(t)),d=S.useRef(!1);return gg(()=>{d.current=!0}),S.useCallback((x,p={})=>{if(an(d.current,bg),!d.current)return;if(typeof x=="number"){r.go(x);return}let v=Uf(x,JSON.parse(u),o,p.relative==="path");s==null&&l!=="/"&&(v.pathname=v.pathname==="/"?l:Xn([l,v.pathname])),(p.replace?r.replace:r.push)(v,p.state,p)},[l,r,u,o,s])}var Aw=S.createContext(null);function Tw(s){let l=S.useContext(rn).outlet;return S.useMemo(()=>l&&S.createElement(Aw.Provider,{value:s},l),[l,s])}function Xi(s,{relative:l}={}){let{matches:r}=S.useContext(rn),{pathname:t}=Ga(),o=JSON.stringify(Yf(r));return S.useMemo(()=>Uf(s,JSON.parse(o),t,l==="path"),[s,o,t,l])}function Ew(s,l){return yg(s,l)}function yg(s,l,r,t,o){bt(Al(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=S.useContext(Ra),{matches:d}=S.useContext(rn),m=d[d.length-1],x=m?m.params:{},p=m?m.pathname:"/",v=m?m.pathnameBase:"/",b=m&&m.route;{let D=b&&b.path||"";jg(p,!b||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let j=Ga(),w;if(l){let D=typeof l=="string"?Dl(l):l;bt(v==="/"||D.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${D.pathname}" was given in the \`location\` prop.`),w=D}else w=j;let M=w.pathname||"/",C=M;if(v!=="/"){let D=v.replace(/^\//,"").split("/");C="/"+M.replace(/^\//,"").split("/").slice(D.length).join("/")}let y=ug(s,{pathname:C});an(b||y!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),an(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=Lw(y&&y.map(D=>Object.assign({},D,{params:Object.assign({},x,D.params),pathname:Xn([v,u.encodeLocation?u.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?v:Xn([v,u.encodeLocation?u.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),d,r,t,o);return l&&N?S.createElement(Ki.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},N):N}function _w(){let s=Hw(),l=vw(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),r=s instanceof Error?s.stack:null,t="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:t},u={padding:"2px 4px",backgroundColor:t},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:u},"ErrorBoundary")," or"," ",S.createElement("code",{style:u},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},l),r?S.createElement("pre",{style:o},r):null,d)}var Ow=S.createElement(_w,null),Ng=class extends S.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,l){return l.location!==s.location||l.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:l.error,location:l.location,revalidation:s.revalidation||l.revalidation}}componentDidCatch(s,l){this.props.onError?this.props.onError(s,l):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const r=kw(s.digest);r&&(s=r)}let l=s!==void 0?S.createElement(rn.Provider,{value:this.props.routeContext},S.createElement(qf.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?S.createElement(Rw,{error:s},l):l}};Ng.contextType=yw;var af=new WeakMap;function Rw({children:s,error:l}){let{basename:r}=S.useContext(Ra);if(typeof l=="object"&&l&&"digest"in l&&typeof l.digest=="string"){let t=Cw(l.digest);if(t){let o=af.get(l);if(o)throw o;let u=pg(t.location,r);if(fg&&!af.get(l))if(u.isExternal||t.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:t.replace}));throw af.set(l,d),d}return S.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return s}function Iw({routeContext:s,match:l,children:r}){let t=S.useContext(Ml);return t&&t.static&&t.staticContext&&(l.route.errorElement||l.route.ErrorBoundary)&&(t.staticContext._deepestRenderedBoundaryId=l.route.id),S.createElement(rn.Provider,{value:s},r)}function Lw(s,l=[],r=null,t=null,o=null){if(s==null){if(!r)return null;if(r.errors)s=r.matches;else if(l.length===0&&!r.initialized&&r.matches.length>0)s=r.matches;else return null}let u=s,d=r?.errors;if(d!=null){let v=u.findIndex(b=>b.route.id&&d?.[b.route.id]!==void 0);bt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let m=!1,x=-1;if(r)for(let v=0;v<u.length;v++){let b=u[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(x=v),b.route.id){let{loaderData:j,errors:w}=r,M=b.route.loader&&!j.hasOwnProperty(b.route.id)&&(!w||w[b.route.id]===void 0);if(b.route.lazy||M){m=!0,x>=0?u=u.slice(0,x+1):u=[u[0]];break}}}let p=r&&t?(v,b)=>{t(v,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:bw(r.matches),errorInfo:b})}:void 0;return u.reduceRight((v,b,j)=>{let w,M=!1,C=null,y=null;r&&(w=d&&b.route.id?d[b.route.id]:void 0,C=b.route.errorElement||Ow,m&&(x<0&&j===0?(jg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,y=null):x===j&&(M=!0,y=b.route.hydrateFallbackElement||null)));let N=l.concat(u.slice(0,j+1)),D=()=>{let g;return w?g=C:M?g=y:b.route.Component?g=S.createElement(b.route.Component,null):b.route.element?g=b.route.element:g=v,S.createElement(Iw,{match:b,routeContext:{outlet:v,matches:N,isDataRoute:r!=null},children:g})};return r&&(b.route.ErrorBoundary||b.route.errorElement||j===0)?S.createElement(Ng,{location:r.location,revalidation:r.revalidation,component:C,error:w,children:D(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:p}):D()},null)}function $f(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Pw(s){let l=S.useContext(Ml);return bt(l,$f(s)),l}function zw(s){let l=S.useContext(Nu);return bt(l,$f(s)),l}function Fw(s){let l=S.useContext(rn);return bt(l,$f(s)),l}function Vf(s){let l=Fw(s),r=l.matches[l.matches.length-1];return bt(r.route.id,`${s} can only be used on routes that contain a unique "id"`),r.route.id}function Bw(){return Vf("useRouteId")}function Hw(){let s=S.useContext(qf),l=zw("useRouteError"),r=Vf("useRouteError");return s!==void 0?s:l.errors?.[r]}function Yw(){let{router:s}=Pw("useNavigate"),l=Vf("useNavigate"),r=S.useRef(!1);return gg(()=>{r.current=!0}),S.useCallback(async(o,u={})=>{an(r.current,bg),r.current&&(typeof o=="number"?await s.navigate(o):await s.navigate(o,{fromRouteId:l,...u}))},[s,l])}var j0={};function jg(s,l,r){!l&&!j0[s]&&(j0[s]=!0,an(!1,r))}S.memo(Uw);function Uw({routes:s,future:l,state:r,onError:t}){return yg(s,void 0,r,t,l)}function eu({to:s,replace:l,state:r,relative:t}){bt(Al(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=S.useContext(Ra);an(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=S.useContext(rn),{pathname:d}=Ga(),m=bs(),x=Uf(s,Yf(u),d,t==="path"),p=JSON.stringify(x);return S.useEffect(()=>{m(JSON.parse(p),{replace:l,state:r,relative:t})},[m,p,t,l,r]),null}function wg(s){return Tw(s.context)}function vt(s){bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qw({basename:s="/",children:l=null,location:r,navigationType:t="POP",navigator:o,static:u=!1,unstable_useTransitions:d}){bt(!Al(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=s.replace(/^\/*/,"/"),x=S.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:d,future:{}}),[m,o,u,d]);typeof r=="string"&&(r=Dl(r));let{pathname:p="/",search:v="",hash:b="",state:j=null,key:w="default"}=r,M=S.useMemo(()=>{let C=Jn(p,m);return C==null?null:{location:{pathname:C,search:v,hash:b,state:j,key:w},navigationType:t}},[m,p,v,b,j,w,t]);return an(M!=null,`<Router basename="${m}"> is not able to match the URL "${p}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:S.createElement(Ra.Provider,{value:x},S.createElement(Ki.Provider,{children:l,value:M}))}function $w({children:s,location:l}){return Ew(Cf(s),l)}function Cf(s,l=[]){let r=[];return S.Children.forEach(s,(t,o)=>{if(!S.isValidElement(t))return;let u=[...l,o];if(t.type===S.Fragment){r.push.apply(r,Cf(t.props.children,u));return}bt(t.type===vt,`[${typeof t.type=="string"?t.type:t.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bt(!t.props.index||!t.props.children,"An index route cannot have child routes.");let d={id:t.props.id||u.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,middleware:t.props.middleware,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:t.props.hasErrorBoundary===!0||t.props.ErrorBoundary!=null||t.props.errorElement!=null,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(d.children=Cf(t.props.children,u)),r.push(d)}),r}var Uc="get",qc="application/x-www-form-urlencoded";function ju(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function Vw(s){return ju(s)&&s.tagName.toLowerCase()==="button"}function Gw(s){return ju(s)&&s.tagName.toLowerCase()==="form"}function Qw(s){return ju(s)&&s.tagName.toLowerCase()==="input"}function Kw(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Xw(s,l){return s.button===0&&(!l||l==="_self")&&!Kw(s)}var jc=null;function Ww(){if(jc===null)try{new FormData(document.createElement("form"),0),jc=!1}catch{jc=!0}return jc}var Zw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nf(s){return s!=null&&!Zw.has(s)?(an(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qc}"`),null):s}function Jw(s,l){let r,t,o,u,d;if(Gw(s)){let m=s.getAttribute("action");t=m?Jn(m,l):null,r=s.getAttribute("method")||Uc,o=nf(s.getAttribute("enctype"))||qc,u=new FormData(s)}else if(Vw(s)||Qw(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=s.getAttribute("formaction")||m.getAttribute("action");if(t=x?Jn(x,l):null,r=s.getAttribute("formmethod")||m.getAttribute("method")||Uc,o=nf(s.getAttribute("formenctype"))||nf(m.getAttribute("enctype"))||qc,u=new FormData(m,s),!Ww()){let{name:p,type:v,value:b}=s;if(v==="image"){let j=p?`${p}.`:"";u.append(`${j}x`,"0"),u.append(`${j}y`,"0")}else p&&u.append(p,b)}}else{if(ju(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Uc,t=null,o=qc,d=s}return u&&o==="text/plain"&&(d=u,u=void 0),{action:t,method:r.toLowerCase(),encType:o,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Gf(s,l){if(s===!1||s===null||typeof s>"u")throw new Error(l)}function e2(s,l,r,t){let o=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${t}`:o.pathname=`${o.pathname}.${t}`:o.pathname==="/"?o.pathname=`_root.${t}`:l&&Jn(o.pathname,l)==="/"?o.pathname=`${l.replace(/\/$/,"")}/_root.${t}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${t}`,o}async function t2(s,l){if(s.id in l)return l[s.id];try{let r=await import(s.module);return l[s.id]=r,r}catch(r){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function a2(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function n2(s,l,r){let t=await Promise.all(s.map(async o=>{let u=l.routes[o.route.id];if(u){let d=await t2(u,r);return d.links?d.links():[]}return[]}));return i2(t.flat(1).filter(a2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function w0(s,l,r,t,o,u){let d=(x,p)=>r[p]?x.route.id!==r[p].route.id:!0,m=(x,p)=>r[p].pathname!==x.pathname||r[p].route.path?.endsWith("*")&&r[p].params["*"]!==x.params["*"];return u==="assets"?l.filter((x,p)=>d(x,p)||m(x,p)):u==="data"?l.filter((x,p)=>{let v=t.routes[x.route.id];if(!v||!v.hasLoader)return!1;if(d(x,p)||m(x,p))return!0;if(x.route.shouldRevalidate){let b=x.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function r2(s,l,{includeHydrateFallback:r}={}){return s2(s.map(t=>{let o=l.routes[t.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function s2(s){return[...new Set(s)]}function l2(s){let l={},r=Object.keys(s).sort();for(let t of r)l[t]=s[t];return l}function i2(s,l){let r=new Set;return new Set(l),s.reduce((t,o)=>{let u=JSON.stringify(l2(o));return r.has(u)||(r.add(u),t.push({key:u,link:o})),t},[])}function Sg(){let s=S.useContext(Ml);return Gf(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function o2(){let s=S.useContext(Nu);return Gf(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Qf=S.createContext(void 0);Qf.displayName="FrameworkContext";function Cg(){let s=S.useContext(Qf);return Gf(s,"You must render this element inside a <HydratedRouter> element"),s}function c2(s,l){let r=S.useContext(Qf),[t,o]=S.useState(!1),[u,d]=S.useState(!1),{onFocus:m,onBlur:x,onMouseEnter:p,onMouseLeave:v,onTouchStart:b}=l,j=S.useRef(null);S.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let C=N=>{N.forEach(D=>{d(D.isIntersecting)})},y=new IntersectionObserver(C,{threshold:.5});return j.current&&y.observe(j.current),()=>{y.disconnect()}}},[s]),S.useEffect(()=>{if(t){let C=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(C)}}},[t]);let w=()=>{o(!0)},M=()=>{o(!1),d(!1)};return r?s!=="intent"?[u,j,{}]:[u,j,{onFocus:Mi(m,w),onBlur:Mi(x,M),onMouseEnter:Mi(p,w),onMouseLeave:Mi(v,M),onTouchStart:Mi(b,w)}]:[!1,j,{}]}function Mi(s,l){return r=>{s&&s(r),r.defaultPrevented||l(r)}}function u2({page:s,...l}){let{router:r}=Sg(),t=S.useMemo(()=>ug(r.routes,s,r.basename),[r.routes,s,r.basename]);return t?S.createElement(m2,{page:s,matches:t,...l}):null}function d2(s){let{manifest:l,routeModules:r}=Cg(),[t,o]=S.useState([]);return S.useEffect(()=>{let u=!1;return n2(s,l,r).then(d=>{u||o(d)}),()=>{u=!0}},[s,l,r]),t}function m2({page:s,matches:l,...r}){let t=Ga(),{future:o,manifest:u,routeModules:d}=Cg(),{basename:m}=Sg(),{loaderData:x,matches:p}=o2(),v=S.useMemo(()=>w0(s,l,p,u,t,"data"),[s,l,p,u,t]),b=S.useMemo(()=>w0(s,l,p,u,t,"assets"),[s,l,p,u,t]),j=S.useMemo(()=>{if(s===t.pathname+t.search+t.hash)return[];let C=new Set,y=!1;if(l.forEach(D=>{let g=u.routes[D.route.id];!g||!g.hasLoader||(!v.some(_=>_.route.id===D.route.id)&&D.route.id in x&&d[D.route.id]?.shouldRevalidate||g.hasClientLoader?y=!0:C.add(D.route.id))}),C.size===0)return[];let N=e2(s,m,o.unstable_trailingSlashAwareDataRequests,"data");return y&&C.size>0&&N.searchParams.set("_routes",l.filter(D=>C.has(D.route.id)).map(D=>D.route.id).join(",")),[N.pathname+N.search]},[m,o.unstable_trailingSlashAwareDataRequests,x,t,u,v,l,s,d]),w=S.useMemo(()=>r2(b,u),[b,u]),M=d2(b);return S.createElement(S.Fragment,null,j.map(C=>S.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...r})),w.map(C=>S.createElement("link",{key:C,rel:"modulepreload",href:C,...r})),M.map(({key:C,link:y})=>S.createElement("link",{key:C,nonce:r.nonce,...y,crossOrigin:y.crossOrigin??r.crossOrigin})))}function f2(...s){return l=>{s.forEach(r=>{typeof r=="function"?r(l):r!=null&&(r.current=l)})}}var p2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{p2&&(window.__reactRouterVersion="7.13.0")}catch{}function x2({basename:s,children:l,unstable_useTransitions:r,window:t}){let o=S.useRef();o.current==null&&(o.current=Gj({window:t,v5Compat:!0}));let u=o.current,[d,m]=S.useState({action:u.action,location:u.location}),x=S.useCallback(p=>{r===!1?m(p):S.startTransition(()=>m(p))},[r]);return S.useLayoutEffect(()=>u.listen(x),[u,x]),S.createElement(qw,{basename:s,children:l,location:d.location,navigationType:d.action,navigator:u,unstable_useTransitions:r})}var kg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fl=S.forwardRef(function({onClick:l,discover:r="render",prefetch:t="none",relative:o,reloadDocument:u,replace:d,state:m,target:x,to:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:j,...w},M){let{basename:C,unstable_useTransitions:y}=S.useContext(Ra),N=typeof p=="string"&&kg.test(p),D=pg(p,C);p=D.to;let g=Dw(p,{relative:o}),[_,P,U]=c2(t,w),G=b2(p,{replace:d,state:m,target:x,preventScrollReset:v,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:j,unstable_useTransitions:y});function E(B){l&&l(B),B.defaultPrevented||G(B)}let L=S.createElement("a",{...w,...U,href:D.absoluteURL||g,onClick:D.isExternal||u?l:E,ref:f2(M,P),target:x,"data-discover":!N&&r==="render"?"true":void 0});return _&&!N?S.createElement(S.Fragment,null,L,S.createElement(u2,{page:g})):L});fl.displayName="Link";var Kf=S.forwardRef(function({"aria-current":l="page",caseSensitive:r=!1,className:t="",end:o=!1,style:u,to:d,viewTransition:m,children:x,...p},v){let b=Xi(d,{relative:p.relative}),j=Ga(),w=S.useContext(Nu),{navigator:M,basename:C}=S.useContext(Ra),y=w!=null&&w2(b)&&m===!0,N=M.encodeLocation?M.encodeLocation(b).pathname:b.pathname,D=j.pathname,g=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;r||(D=D.toLowerCase(),g=g?g.toLowerCase():null,N=N.toLowerCase()),g&&C&&(g=Jn(g,C)||g);const _=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let P=D===N||!o&&D.startsWith(N)&&D.charAt(_)==="/",U=g!=null&&(g===N||!o&&g.startsWith(N)&&g.charAt(N.length)==="/"),G={isActive:P,isPending:U,isTransitioning:y},E=P?l:void 0,L;typeof t=="function"?L=t(G):L=[t,P?"active":null,U?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let B=typeof u=="function"?u(G):u;return S.createElement(fl,{...p,"aria-current":E,className:L,ref:v,style:B,to:d,viewTransition:m},typeof x=="function"?x(G):x)});Kf.displayName="NavLink";var h2=S.forwardRef(({discover:s="render",fetcherKey:l,navigate:r,reloadDocument:t,replace:o,state:u,method:d=Uc,action:m,onSubmit:x,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:j,...w},M)=>{let{unstable_useTransitions:C}=S.useContext(Ra),y=N2(),N=j2(m,{relative:p}),D=d.toLowerCase()==="get"?"get":"post",g=typeof m=="string"&&kg.test(m),_=P=>{if(x&&x(P),P.defaultPrevented)return;P.preventDefault();let U=P.nativeEvent.submitter,G=U?.getAttribute("formmethod")||d,E=()=>y(U||P.currentTarget,{fetcherKey:l,method:G,navigate:r,replace:o,state:u,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:j});C&&r!==!1?S.startTransition(()=>E()):E()};return S.createElement("form",{ref:M,method:D,action:N,onSubmit:t?x:_,...w,"data-discover":!g&&s==="render"?"true":void 0})});h2.displayName="Form";function v2(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dg(s){let l=S.useContext(Ml);return bt(l,v2(s)),l}function b2(s,{target:l,replace:r,state:t,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:m,unstable_useTransitions:x}={}){let p=bs(),v=Ga(),b=Xi(s,{relative:u});return S.useCallback(j=>{if(Xw(j,l)){j.preventDefault();let w=r!==void 0?r:qi(v)===qi(b),M=()=>p(s,{replace:w,state:t,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:m});x?S.startTransition(()=>M()):M()}},[v,p,b,r,t,l,s,o,u,d,m,x])}var g2=0,y2=()=>`__${String(++g2)}__`;function N2(){let{router:s}=Dg("useSubmit"),{basename:l}=S.useContext(Ra),r=Bw(),t=s.fetch,o=s.navigate;return S.useCallback(async(u,d={})=>{let{action:m,method:x,encType:p,formData:v,body:b}=Jw(u,l);if(d.navigate===!1){let j=d.fetcherKey||y2();await t(j,r,d.action||m,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:v,body:b,formMethod:d.method||x,formEncType:d.encType||p,flushSync:d.flushSync})}else await o(d.action||m,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:v,body:b,formMethod:d.method||x,formEncType:d.encType||p,replace:d.replace,state:d.state,fromRouteId:r,flushSync:d.flushSync,viewTransition:d.viewTransition})},[t,o,l,r])}function j2(s,{relative:l}={}){let{basename:r}=S.useContext(Ra),t=S.useContext(rn);bt(t,"useFormAction must be used inside a RouteContext");let[o]=t.matches.slice(-1),u={...Xi(s||".",{relative:l})},d=Ga();if(s==null){u.search=d.search;let m=new URLSearchParams(u.search),x=m.getAll("index");if(x.some(v=>v==="")){m.delete("index"),x.filter(b=>b).forEach(b=>m.append("index",b));let v=m.toString();u.search=v?`?${v}`:""}}return(!s||s===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:Xn([r,u.pathname])),qi(u)}function w2(s,{relative:l}={}){let r=S.useContext(hg);bt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:t}=Dg("useViewTransitionState"),o=Xi(s,{relative:l});if(!r.isTransitioning)return!1;let u=Jn(r.currentLocation.pathname,t)||r.currentLocation.pathname,d=Jn(r.nextLocation.pathname,t)||r.nextLocation.pathname;return Jc(o.pathname,d)!=null||Jc(o.pathname,u)!=null}var Mg=cg();const S2=ig(Mg),C2="AKfycbwflghk3-7EWIlOzkBu6sXgOvgqkbmiP7sxXRRxuZsCVgICBJ-qMUMNRkEcWs4_M33l",Xf="cf_access_token",Wf="cf_token_expiry",Zf="cf_user_name";function tu(){const s=localStorage.getItem(Wf);return s&&Date.now()>Number(s)?($c(),null):localStorage.getItem(Xf)}function S0(s,l=3500){localStorage.setItem(Xf,s),localStorage.setItem(Wf,String(Date.now()+l*1e3))}function $c(){localStorage.removeItem(Xf),localStorage.removeItem(Wf),localStorage.removeItem(Zf)}function C0(){return!!tu()}function k0(s){localStorage.setItem(Zf,s)}function k2(){return localStorage.getItem(Zf)||""}let kf=null;function D2(s){kf=s}async function ye(s,l={},r=!0){const t=tu();if(!t)throw new Error("Not authenticated. Please sign in.");const m=await(await fetch(`https://script.googleapis.com/v1/scripts/${C2}:run`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({function:"apiRouter",devMode:!1,parameters:[{action:s,params:l,userName:k2()}]})})).json();if(m.error){if(r&&(m.error.code===401||m.error.code===403||m.error.status==="UNAUTHENTICATED"||m.error.status==="PERMISSION_DENIED")&&kf)try{return await kf(),ye(s,l,!1)}catch{}if(m.error.details&&m.error.details.length>0){const x=m.error.details[0];throw new Error(x.errorMessage||"Script execution error")}throw new Error(m.error.message||"API error")}if(m.response&&m.response.result!==void 0){const x=m.response.result;if(x&&!x.success){const v=new Error(x.error||"Unknown error");throw v.code=x.code,v}const p=x?x.data:null;if(p&&p.success===!1)throw new Error(p.message||"Operation failed");return p}throw new Error("Unexpected response format")}const D0=()=>ye("auth:me"),M2=(s,l)=>ye("auth:invite",{email:s,name:l}),au=()=>ye("data:load-all"),Ag=()=>ye("members:list"),Tg=s=>ye("member:create",s),Eg=s=>ye("member:update",s),_g=s=>ye("member:delete",{memberId:s}),Og=()=>ye("banks:list"),Rg=s=>ye("bank:create",s),A2=s=>ye("bank:update",s),Ig=s=>ye("bank:delete",{accountId:s}),Lg=()=>ye("invaccounts:list"),Pg=s=>ye("invacct:create",s),T2=s=>ye("invacct:update",s),zg=s=>ye("invacct:delete",{accountId:s}),E2=()=>ye("portfolios:list"),_2=s=>ye("portfolio:create",s),O2=s=>ye("portfolio:update",s),R2=s=>ye("portfolio:delete",{portfolioId:s}),I2=s=>ye("mf:invest",s),L2=s=>ye("mf:redeem",s),P2=s=>ye("mf:switch",s),z2=(s,l)=>ye("mf:allocations-update",{portfolioId:s,allocations:l}),F2=()=>ye("funds:all"),Fg=()=>ye("goals:list"),Bg=s=>ye("goal:create",s),B2=(s,l)=>ye("goal:update",{goalId:s,...l}),Hg=s=>ye("goal:delete",{goalId:s}),H2=()=>ye("goal:mappings-list"),Y2=(s,l)=>ye("goal:mappings-update",{goalId:s,mappings:l}),Yg=()=>ye("insurance:list"),Ug=s=>ye("insurance:create",s),U2=s=>ye("insurance:update",s),qg=s=>ye("insurance:delete",{policyId:s}),$g=()=>ye("liabilities:list"),Vg=s=>ye("liability:create",s),q2=s=>ye("liability:update",s),Gg=s=>ye("liability:delete",{liabilityId:s}),Qg=()=>ye("otherinv:list"),Kg=s=>ye("otherinv:create",s),$2=s=>ye("otherinv:update",s),Xg=s=>ye("otherinv:delete",{investmentId:s}),Wg=()=>ye("stock-portfolios:list"),Zg=s=>ye("stock-portfolio:create",s),V2=s=>ye("stock-portfolio:update",s),Jg=s=>ye("stock-portfolio:delete",{portfolioId:s}),G2=s=>ye("stock:buy",s),Q2=s=>ye("stock:sell",s),K2=()=>ye("mf-holdings:list"),X2=()=>ye("mf-transactions:list"),W2=()=>ye("stock-holdings:list-all"),Z2=()=>ye("stock-transactions:list-all"),ey=()=>ye("reminders:list"),ty=s=>ye("reminder:create",s),J2=s=>ye("reminder:update",s),ay=s=>ye("reminder:delete",{reminderId:s}),eS=s=>ye("healthcheck:save",s),ny=()=>ye("healthcheck:get"),tS=()=>ye("settings:list"),aS=s=>ye("settings:update",s),nS=()=>ye("market:data"),rS=()=>ye("data:refresh-master");typeof window<"u"&&(window._cf={callAPI:ye,checkTriggers:()=>ye("test:triggers"),diagnose:()=>ye("test:diagnose")});const sS="capital-friends",lS=1,Na="cache";let Ai=null;function Tl(){return Ai||(Ai=new Promise((s,l)=>{const r=indexedDB.open(sS,lS);r.onupgradeneeded=t=>{const o=t.target.result;o.objectStoreNames.contains(Na)||o.createObjectStore(Na,{keyPath:"key"})},r.onsuccess=()=>s(r.result),r.onerror=()=>{console.warn("[idb] Failed to open database:",r.error),Ai=null,l(r.error)}}),Ai)}async function ry(s){try{const l=await Tl();return new Promise(r=>{const o=l.transaction(Na,"readonly").objectStore(Na).get(s);o.onsuccess=()=>r(o.result?o.result.data:null),o.onerror=()=>r(null)})}catch{return null}}async function iS(s){try{const l=await Tl();return new Promise(r=>{const o=l.transaction(Na,"readonly").objectStore(Na).get(s);o.onsuccess=()=>r(o.result||null),o.onerror=()=>r(null)})}catch{return null}}async function va(s,l){try{const r=await Tl();return new Promise(t=>{const o=r.transaction(Na,"readwrite");o.objectStore(Na).put({key:s,data:l,updatedAt:Date.now()}),o.oncomplete=()=>t(),o.onerror=()=>t()})}catch{}}async function oS(){try{const s=await Tl();return new Promise(l=>{const t=s.transaction(Na,"readonly").objectStore(Na).getAll();t.onsuccess=()=>{const o={};for(const u of t.result||[])o[u.key]=u.data;l(o)},t.onerror=()=>l({})})}catch{return{}}}async function rf(s){try{const l=await Tl();return new Promise(r=>{const t=l.transaction(Na,"readwrite"),o=t.objectStore(Na),u=Date.now();for(const[d,m]of Object.entries(s))o.put({key:d,data:m,updatedAt:u});t.oncomplete=()=>r(),t.onerror=()=>r()})}catch{}}async function cS(){try{const s=await Tl();return new Promise(l=>{const r=s.transaction(Na,"readwrite");r.objectStore(Na).clear(),r.oncomplete=()=>l(),r.onerror=()=>l()})}catch{}}const sy=S.createContext(null),uS="868467315292-7hfrvkh8pq8f1e2l3v38m6qrupboa295.apps.googleusercontent.com",dS=["https://www.googleapis.com/auth/spreadsheets","https://www.googleapis.com/auth/drive","https://www.googleapis.com/auth/gmail.send","https://www.googleapis.com/auth/script.scriptapp","openid","email","profile"].join(" "),Jf="cf_user_profile";function M0(){try{const s=localStorage.getItem(Jf);return s?JSON.parse(s):null}catch{return null}}function mS(s){try{localStorage.setItem(Jf,JSON.stringify(s))}catch{}}function A0(){localStorage.removeItem(Jf)}function fS({children:s}){const l=C0()?M0():null,[r,t]=S.useState(l),[o,u]=S.useState(!l),[d,m]=S.useState(null),x=S.useRef(null);function p(N){t(N),N?mS(N):A0()}S.useEffect(()=>{const N=()=>{if(!window.google?.accounts?.oauth2){setTimeout(N,200);return}x.current=window.google.accounts.oauth2.initTokenClient({client_id:uS,scope:dS,callback:v}),D2(w),C0()?j():u(!1)};N()},[]);async function v(N){if(N.error){m(N.error_description||N.error),u(!1);return}try{u(!0),m(null),S0(N.access_token,N.expires_in);const D=await b(N.access_token);k0(D.name||"");const g=await D0();p({email:g.email||D.email,name:g.name||D.name,role:g.role,picture:D.picture||""})}catch(D){m(D.message),$c(),p(null)}finally{u(!1)}}async function b(N){const D=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${N}`}});if(!D.ok)throw new Error("Failed to fetch user profile");return D.json()}async function j(){const N=!!M0();try{const D=tu(),g=await b(D);k0(g.name||"");const _=await D0();p({email:_.email||g.email,name:_.name||g.name,role:_.role,picture:g.picture||""})}catch{$c(),p(null)}finally{N||u(!1)}}function w(){return new Promise((N,D)=>{if(!x.current){D(new Error("Token client not initialized"));return}const g=x.current,_=g.callback;g.callback=P=>{g.callback=_,P.error?D(new Error(P.error)):(S0(P.access_token,P.expires_in),N())},g.requestAccessToken({prompt:""})})}const M=S.useCallback(()=>{x.current&&(m(null),x.current.requestAccessToken())},[]),C=S.useCallback(()=>{const N=tu();N&&window.google?.accounts?.oauth2&&window.google.accounts.oauth2.revoke(N),$c(),A0(),cS(),sessionStorage.removeItem("cf_health_check"),t(null)},[]),y={user:r,loading:o,error:d,isAuthenticated:!!r,isOwner:r?.role==="owner",signIn:M,signOut:C};return n.jsx(sy.Provider,{value:y,children:s})}function gs(){const s=S.useContext(sy);if(!s)throw new Error("useAuth must be used within AuthProvider");return s}const ly=S.createContext();function pS({children:s}){const[l,r]=S.useState(()=>{const o=localStorage.getItem("cf-theme");return o||(window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark")});S.useEffect(()=>{localStorage.setItem("cf-theme",l),document.documentElement.setAttribute("data-theme",l)},[l]);const t=()=>r(o=>o==="dark"?"light":"dark");return n.jsx(ly.Provider,{value:{theme:l,toggle:t},children:s})}function iy(){return S.useContext(ly)}const oy=S.createContext(),cy="cf_hc_done";function xS(){try{return sessionStorage.getItem(cy)==="1"?!0:null}catch{return null}}function ll(s){try{sessionStorage.setItem(cy,s?"1":"0")}catch{}}function hS({children:s}){const{isAuthenticated:l}=gs(),r=l?xS():null,[t,o]=S.useState(!0),[u,d]=S.useState(!1),[m,x]=S.useState(null),[p,v]=S.useState(null),[b,j]=S.useState(null),[w,M]=S.useState(null),[C,y]=S.useState(null),[N,D]=S.useState(null),[g,_]=S.useState(null),[P,U]=S.useState(null),[G,E]=S.useState(null),[L,B]=S.useState(null),[W,A]=S.useState(null),[se,q]=S.useState(null),[J,z]=S.useState(null),[O,R]=S.useState(null),[ce,ve]=S.useState(null),[F,ae]=S.useState(null),[ue,de]=S.useState(null),[ke,je]=S.useState(r!==null?r:null),ge=S.useRef(!1),Qe=S.useCallback($=>{$&&("members"in $&&v($.members||[]),"bankAccounts"in $&&j($.bankAccounts||[]),"investments"in $&&M($.investments||[]),"insurancePolicies"in $&&y($.insurancePolicies||[]),"liabilities"in $&&D($.liabilities||[]),"otherInvestments"in $&&_($.otherInvestments||[]),"stockPortfolios"in $&&U($.stockPortfolios||[]),"stockHoldings"in $&&E($.stockHoldings||[]),"stockTransactions"in $&&B($.stockTransactions||[]),"mfPortfolios"in $&&A($.mfPortfolios||[]),"mfHoldings"in $&&q(($.mfHoldings||[]).map(me=>me.schemeCode?me:{...me,schemeCode:me.fundCode})),"mfTransactions"in $&&z($.mfTransactions||[]),"goals"in $&&R($.goals||[]),"reminders"in $&&ve($.reminders||[]),"goalPortfolioMappings"in $&&ae($.goalPortfolioMappings||[]),"settings"in $&&de($.settings||{}))},[]),Ze=S.useCallback($=>{rf({members:$.members||[],bankAccounts:$.bankAccounts||[],investments:$.investments||[],insurancePolicies:$.insurancePolicies||[],liabilities:$.liabilities||[],otherInvestments:$.otherInvestments||[],stockPortfolios:$.stockPortfolios||[],stockHoldings:$.stockHoldings||[],stockTransactions:$.stockTransactions||[],mfPortfolios:$.mfPortfolios||[],mfHoldings:$.mfHoldings||[],mfTransactions:$.mfTransactions||[],goals:$.goals||[],reminders:$.reminders||[],goalPortfolioMappings:$.goalPortfolioMappings||[]})},[]),Yt=S.useCallback(async($=!1)=>{try{$?d(!0):o(!0),x(null);const me=await au();Qe(me),Ze(me)}catch(me){x(me.message)}finally{o(!1),d(!1)}},[Qe,Ze]),Xt=S.useCallback(async()=>{const $=await Ag();v($||[]),va("members",$||[])},[]),H=S.useCallback(async()=>{const $=await Og();j($||[]),va("bankAccounts",$||[])},[]),he=S.useCallback(async()=>{const $=await Lg();M($||[]),va("investments",$||[])},[]),oe=S.useCallback(async()=>{const $=await Yg();y($||[]),va("insurancePolicies",$||[])},[]),fe=S.useCallback(async()=>{const $=await $g();D($||[]),va("liabilities",$||[])},[]),Ae=S.useCallback(async()=>{const $=await Qg();_($||[]),va("otherInvestments",$||[])},[]),st=S.useCallback(async()=>{const[$,me]=await Promise.all([Fg(),H2()]);R($||[]),ae(me||[]),va("goals",$||[]),va("goalPortfolioMappings",me||[])},[]),lt=S.useCallback(async()=>{const $=await ey();ve($||[]),va("reminders",$||[])},[]),Pe=S.useCallback(async()=>{const[$,me,Ut]=await Promise.all([E2(),K2(),X2()]),ca=(me||[]).map(Ka=>Ka.schemeCode?Ka:{...Ka,schemeCode:Ka.fundCode});A($||[]),q(ca),z(Ut||[]),rf({mfPortfolios:$||[],mfHoldings:ca,mfTransactions:Ut||[]})},[]),Ge=S.useCallback(async()=>{const[$,me,Ut]=await Promise.all([Wg(),W2(),Z2()]);U($||[]),E(me||[]),B(Ut||[]),rf({stockPortfolios:$||[],stockHoldings:me||[],stockTransactions:Ut||[]})},[]),Nt=S.useCallback(async()=>{const $=await tS();de($||{}),va("settings",$||{})},[]),oa=S.useCallback(async $=>{await aS($),await Nt()},[Nt]),Ct=S.useCallback(async()=>{try{const $=await ry("healthCheckAnswers");if($&&Object.keys($).length>0){je(!0),ll(!0);return}const me=await ny();me&&Object.keys(me).length>0?(je(!0),ll(!0),va("healthCheckAnswers",me)):(je(!1),ll(!1))}catch{je(!1),ll(!1)}},[]),Oe=S.useCallback(async $=>{const me=await eS($);return me?.success&&(je(!0),ll(!0),va("healthCheckAnswers",$)),me},[]);S.useEffect(()=>{if(!l){o(!1);return}if(ge.current)return;ge.current=!0;async function $(){const me=await oS(),Ut=Object.keys(me).length>0;Ut&&(Qe(me),me.healthCheckAnswers&&Object.keys(me.healthCheckAnswers).length>0&&(je(!0),ll(!0)),o(!1));try{Ut&&d(!0);const ca=await au();Qe(ca),Ze(ca)}catch(ca){Ut||x(ca.message)}finally{o(!1),d(!1)}}$(),Nt().catch(()=>{}),r===null&&Ct().catch(()=>{})},[l,Qe,Ze,Nt,Ct]),S.useEffect(()=>{l||(ge.current=!1)},[l]);const gt=S.useCallback(async $=>{const me=await Tg($);if($.email)try{await M2($.email,$.memberName)}catch(Ut){console.warn("Auto-invite failed (non-blocking):",Ut.message)}return await Xt(),me},[Xt]),Me=S.useCallback(async($,me)=>{await Eg({memberId:$,...me}),await Xt()},[Xt]),xe=S.useCallback(async $=>{await _g($),await Xt()},[Xt]),dt=S.useCallback(async $=>{const me=await Rg($);return await H(),me},[H]),Ft=S.useCallback(async($,me)=>{await A2({accountId:$,...me}),await H()},[H]),mt=S.useCallback(async $=>{await Ig($),await H()},[H]),kt=S.useCallback(async $=>{const me=await Pg($);return await he(),me},[he]),Qa=S.useCallback(async($,me)=>{await T2({accountId:$,...me}),await he()},[he]),zr=S.useCallback(async $=>{await zg($),await he()},[he]),na=S.useCallback(async $=>{const me=await Ug($);return await oe(),me},[oe]),sn=S.useCallback(async($,me)=>{await U2({policyId:$,...me}),await oe()},[oe]),ra=S.useCallback(async $=>{await qg($),await oe()},[oe]),Iu=S.useCallback(async $=>{const me=await Vg($);return await fe(),me},[fe]),Lu=S.useCallback(async($,me)=>{await q2({liabilityId:$,...me}),await fe()},[fe]),Pu=S.useCallback(async $=>{await Gg($),await fe()},[fe]),Ns=S.useCallback(async $=>{const me=await Kg($);return await Ae(),$.quickLoan&&await fe(),me},[Ae,fe]),js=S.useCallback(async($,me)=>{await $2({investmentId:$,...me}),await Ae()},[Ae]),ws=S.useCallback(async $=>{await Xg($),await Ae()},[Ae]),Mn=S.useCallback(async $=>{const me=await Bg($);return await st(),me},[st]),Ss=S.useCallback(async($,me)=>{await B2($,me),await st()},[st]),Fr=S.useCallback(async $=>{await Hg($),await st()},[st]),zu=S.useCallback(async $=>{const me=await ty($);return await lt(),me},[lt]),no=S.useCallback(async($,me)=>{await J2({reminderId:$,...me}),await lt()},[lt]),Rl=S.useCallback(async $=>{await ay($),await lt()},[lt]),Br=S.useCallback(async($,me)=>{await Y2($,me),await st()},[st]),Fu=S.useCallback(async $=>{const me=await Zg($);return await Ge(),me},[Ge]),ro=S.useCallback(async($,me)=>{await V2({portfolioId:$,...me}),await Ge()},[Ge]),so=S.useCallback(async $=>{await Jg($),await Ge()},[Ge]),lo=S.useCallback(async $=>{const me=await G2($);return await Ge(),me},[Ge]),Il=S.useCallback(async $=>{const me=await Q2($);return await Ge(),me},[Ge]),Ll=S.useCallback(async $=>{const me=await _2($);return await Pe(),me},[Pe]),io=S.useCallback(async($,me)=>{await O2({portfolioId:$,...me}),await Pe()},[Pe]),oo=S.useCallback(async $=>{await R2($),await Pe()},[Pe]),ln=S.useCallback(async($,me)=>{const Ut=await I2({...$,transactionType:me});return await Pe(),Ut},[Pe]),Lt=S.useCallback(async $=>{const me=await L2($);return await Pe(),me},[Pe]),Wt=S.useCallback(async $=>{const me=await P2($);return await Pe(),me},[Pe]),rr=S.useCallback(async($,me)=>{await z2($,me),await Pe()},[Pe]),Pl=(p||[]).filter($=>$.status==="Active"),Bu=(b||[]).filter($=>$.status==="Active"),Hu=(w||[]).filter($=>$.status==="Active");return n.jsx(oy.Provider,{value:{loading:t,isRefreshing:u,error:m,refreshData:Yt,members:p,banks:b,investmentAccounts:w,insurancePolicies:C,liabilityList:N,otherInvList:g,activeMembers:Pl,activeBanks:Bu,activeInvestmentAccounts:Hu,addMember:gt,updateMember:Me,deleteMember:xe,addBankAccount:dt,updateBankAccount:Ft,deleteBankAccount:mt,addInvestmentAccount:kt,updateInvestmentAccount:Qa,deleteInvestmentAccount:zr,addInsurance:na,updateInsurance:sn,deleteInsurance:ra,addLiability:Iu,updateLiability:Lu,deleteLiability:Pu,addOtherInvestment:Ns,updateOtherInvestment:js,deleteOtherInvestment:ws,goalList:O,addGoal:Mn,updateGoal:Ss,deleteGoal:Fr,reminderList:ce,addReminder:zu,updateReminder:no,deleteReminder:Rl,goalPortfolioMappings:F,updateGoalMappings:Br,stockPortfolios:P,stockHoldings:G,stockTransactions:L,addStockPortfolio:Fu,updateStockPortfolio:ro,deleteStockPortfolio:so,buyStock:lo,sellStock:Il,mfPortfolios:W,mfHoldings:se,mfTransactions:J,addMFPortfolio:Ll,updateMFPortfolio:io,deleteMFPortfolio:oo,investMF:ln,redeemMF:Lt,switchMF:Wt,updateHoldingAllocations:rr,settings:ue,updateSettings:oa,refreshSettings:Nt,healthCheckCompleted:ke,completeHealthCheck:Oe},children:s})}function Ye(){return S.useContext(oy)}const uy=S.createContext();function vS({children:s}){const{activeMembers:l}=Ye(),[r,t]=S.useState("all"),o=l.find(u=>u.memberId===r)||null;return n.jsx(uy.Provider,{value:{selectedMember:r,setSelectedMember:t,member:o,familyMembers:l},children:s})}function Qt(){return S.useContext(uy)}const dy=(...s)=>s.filter((l,r,t)=>!!l&&l.trim()!==""&&t.indexOf(l)===r).join(" ").trim();const bS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const gS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(l,r,t)=>t?t.toUpperCase():r.toLowerCase());const T0=s=>{const l=gS(s);return l.charAt(0).toUpperCase()+l.slice(1)};var yS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const NS=s=>{for(const l in s)if(l.startsWith("aria-")||l==="role"||l==="title")return!0;return!1};const jS=S.forwardRef(({color:s="currentColor",size:l=24,strokeWidth:r=2,absoluteStrokeWidth:t,className:o="",children:u,iconNode:d,...m},x)=>S.createElement("svg",{ref:x,...yS,width:l,height:l,stroke:s,strokeWidth:t?Number(r)*24/Number(l):r,className:dy("lucide",o),...!u&&!NS(m)&&{"aria-hidden":"true"},...m},[...d.map(([p,v])=>S.createElement(p,v)),...Array.isArray(u)?u:[u]]));const Ne=(s,l)=>{const r=S.forwardRef(({className:t,...o},u)=>S.createElement(jS,{ref:u,iconNode:l,className:dy(`lucide-${bS(T0(s))}`,`lucide-${s}`,t),...o}));return r.displayName=T0(s),r};const wS=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],SS=Ne("arrow-down",wS);const CS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],kS=Ne("arrow-right",CS);const DS=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],MS=Ne("arrow-up-down",DS);const AS=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],TS=Ne("bell-off",AS);const ES=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],wu=Ne("bell",ES);const _S=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],my=Ne("briefcase",_S);const OS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],RS=Ne("calendar",OS);const IS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Hi=Ne("chart-column",IS);const LS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],E0=Ne("check",LS);const PS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Er=Ne("chevron-down",PS);const zS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],fy=Ne("chevron-left",zS);const FS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Yi=Ne("chevron-right",FS);const BS=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],HS=Ne("chevron-up",BS);const YS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],py=Ne("circle-arrow-down",YS);const US=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],qS=Ne("circle-check-big",US);const $S=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],El=Ne("circle-check",$S);const VS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],xy=Ne("circle-x",VS);const GS=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],hy=Ne("clipboard-check",GS);const QS=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],KS=Ne("coffee",QS);const XS=[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]],WS=Ne("construction",XS);const ZS=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],$i=Ne("credit-card",ZS);const JS=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],e5=Ne("database",JS);const t5=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],a5=Ne("dollar-sign",t5);const n5=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],r5=Ne("ellipsis",n5);const s5=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ep=Ne("eye",s5);const l5=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Vc=Ne("eye-off",l5);const i5=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],o5=Ne("file-spreadsheet",i5);const c5=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],vy=Ne("file-text",c5);const u5=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],d5=Ne("funnel",u5);const m5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],f5=Ne("globe",m5);const p5=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],nu=Ne("heart",p5);const x5=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],h5=Ne("indian-rupee",x5);const v5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],b5=Ne("info",v5);const g5=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],by=Ne("landmark",g5);const y5=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],gy=Ne("layers",y5);const N5=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],ru=Ne("link-2",N5);const j5=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],su=Ne("list",j5);const w5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],yy=Ne("loader-circle",w5);const S5=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],sf=Ne("lock",S5);const C5=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],k5=Ne("log-in",C5);const D5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Ny=Ne("log-out",D5);const M5=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],A5=Ne("mail",M5);const T5=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],E5=Ne("menu",T5);const _5=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],jy=Ne("moon",_5);const O5=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],wy=Ne("package",O5);const R5=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],wn=Ne("pencil",R5);const I5=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],L5=Ne("piggy-bank",I5);const P5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ja=Ne("plus",P5);const z5=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],vl=Ne("refresh-cw",z5);const F5=[["path",{d:"m2 9 3-3 3 3",key:"1ltn5i"}],["path",{d:"M13 18H7a2 2 0 0 1-2-2V6",key:"1r6tfw"}],["path",{d:"m22 15-3 3-3-3",key:"4rnwn2"}],["path",{d:"M11 6h6a2 2 0 0 1 2 2v10",key:"2f72bc"}]],B5=Ne("repeat-2",F5);const H5=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Y5=Ne("repeat",H5);const U5=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],q5=Ne("save",U5);const $5=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],V5=Ne("search",$5);const G5=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Q5=Ne("settings-2",G5);const K5=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],tp=Ne("settings",K5);const X5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ui=Ne("shield",X5);const W5=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Df=Ne("sun",W5);const Z5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Wi=Ne("target",Z5);const J5=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ap=Ne("trash-2",J5);const eC=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Su=Ne("trending-down",eC);const tC=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],_r=Ne("trending-up",tC);const aC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Cu=Ne("triangle-alert",aC);const nC=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],_0=Ne("trophy",nC);const rC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],sC=Ne("user",rC);const lC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],bl=Ne("users",lC);const iC=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],pl=Ne("wallet",iC);const oC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Zi=Ne("x",oC);const cC=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Mf=Ne("zap",cC),Sy=S.createContext();function uC({children:s}){const[l,r]=S.useState([]),[t,o]=S.useState(null),u=S.useRef(0),d=S.useCallback((v,b="success")=>{const j=++u.current;r(w=>[...w,{id:j,message:v,type:b}]),setTimeout(()=>r(w=>w.filter(M=>M.id!==j)),3e3)},[]),m=S.useCallback(v=>{r(b=>b.filter(j=>j.id!==v))},[]),x=S.useCallback((v="Saving...")=>{o(v)},[]),p=S.useCallback(()=>{o(null)},[]);return n.jsxs(Sy.Provider,{value:{showToast:d,showBlockUI:x,hideBlockUI:p},children:[s,t&&n.jsx("div",{className:"fixed inset-0 z-[200] bg-black/50 backdrop-blur-sm flex items-center justify-center",children:n.jsxs("div",{className:"flex flex-col items-center gap-3 bg-[var(--bg-card)] rounded-xl px-8 py-6 border border-[var(--border)] shadow-2xl",children:[n.jsx("span",{className:"w-7 h-7 border-[2.5px] border-violet-400/30 border-t-violet-400 rounded-full animate-spin"}),n.jsx("span",{className:"text-sm font-semibold text-[var(--text-primary)]",children:t})]})}),l.length>0&&n.jsx("div",{className:"fixed bottom-20 sm:bottom-6 left-1/2 -translate-x-1/2 z-[100] flex flex-col gap-2 items-center pointer-events-none",children:l.map(v=>n.jsxs("div",{className:`pointer-events-auto flex items-center gap-2 px-4 py-2.5 rounded-lg shadow-xl border text-sm font-medium animate-fade-in ${v.type==="error"?"bg-rose-500/15 border-rose-500/30 text-[var(--accent-rose)]":"bg-emerald-500/15 border-emerald-500/30 text-emerald-400"}`,style:{backdropFilter:"blur(12px)"},children:[v.type==="error"?n.jsx(xy,{size:16}):n.jsx(El,{size:16}),n.jsx("span",{children:v.message}),n.jsx("button",{onClick:()=>m(v.id),className:"ml-1 opacity-60 hover:opacity-100 transition-opacity",children:n.jsx(Zi,{size:14})})]},v.id))})]})}function Sn(){return S.useContext(Sy)}const Cy=S.createContext(),O0="cf-mask-data";function dC(s){return!s||s.length<4?"":""+s.slice(-4)}function mC(s){return!s||s.length<4?"  ":"  "+s.slice(-4)}function fC(s){return!s||s.length<3?"":""+s.slice(-3)}function pC(s){if(!s)return"@";const[l,r]=s.split("@");if(!r)return"@";const t=l.charAt(0)+"",o=r.split("."),u=o[0].charAt(0)+""+(o.length>1?"."+o.slice(1).join("."):"");return t+"@"+u}function xC(s){return!s||s.length<4?"":""+s.slice(-4)}function hC(s){return!s||s.length<3?"":""+s.slice(-3)}function vC(s){return!s||s.length<4?"":""+s.slice(-4)}const bC={pan:dC,aadhaar:mC,mobile:fC,email:pC,account:xC,clientId:hC,policy:vC};function gC({children:s}){const[l,r]=S.useState(()=>{try{return localStorage.getItem(O0)==="true"}catch{return!1}});S.useEffect(()=>{try{localStorage.setItem(O0,String(l))}catch{}},[l]);const t=S.useCallback(()=>r(u=>!u),[]),o=S.useCallback((u,d)=>{if(!l||u==null||u==="")return u;const m=bC[d];return m?m(String(u)):u},[l]);return n.jsx(Cy.Provider,{value:{masked:l,toggleMask:t,mv:o},children:s})}function Cn(){return S.useContext(Cy)}const R0=[{label:"Family",icon:bl,path:"/family"},{label:"Accounts",icon:$i,children:[{label:"Bank Accounts",icon:by,path:"/accounts/bank"},{label:"Investment A/c",icon:my,path:"/accounts/investment"}]},{label:"Insurance",icon:Ui,path:"/insurance"},{label:"Investments",icon:pl,children:[{label:"Mutual Funds",icon:pl,path:"/investments/mutual-funds"},{label:"Stocks",icon:Hi,path:"/investments/stocks"},{label:"Other Investments",icon:wy,path:"/investments/other"}]},{label:"Liabilities",icon:$i,path:"/liabilities"},{label:"Goals",icon:Wi,path:"/goals"},{label:"Settings",icon:tp,path:"/settings"}];function yC({open:s,onClose:l}){const r=Ga(),t=R0.filter(m=>m.children?.some(x=>r.pathname.startsWith(x.path))).map(m=>m.label),[o,u]=S.useState(new Set(t));function d(m){u(x=>{const p=new Set(x);return p.has(m)?p.delete(m):p.add(m),p})}return n.jsxs(n.Fragment,{children:[s&&n.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 lg:hidden",onClick:l}),n.jsxs("aside",{className:`
        fixed top-0 left-0 z-50 h-full w-56
        bg-[var(--bg-sidebar)] border-r border-[var(--border)]
        flex flex-col transition-transform duration-300
        lg:hidden
        ${s?"translate-x-0":"-translate-x-full"}
      `,children:[n.jsxs("div",{className:"flex items-center justify-between px-3 h-12 border-b border-[var(--border)] shrink-0",children:[n.jsx("p",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Menu"}),n.jsx("button",{onClick:l,className:"p-1.5 rounded-md text-[var(--text-dim)] hover:text-[var(--text-primary)]",children:n.jsx(Zi,{size:16})})]}),n.jsx("nav",{className:"flex-1 py-2 overflow-y-auto overflow-x-hidden",children:R0.map(m=>m.children?n.jsx(NC,{item:m,isOpen:o.has(m.label),onToggle:()=>d(m.label),onNavigate:l,currentPath:r.pathname},m.label):n.jsx(ky,{item:m,onNavigate:l},m.path))})]})]})}function ky({item:s,onNavigate:l,nested:r}){const{label:t,icon:o,path:u}=s;return n.jsx(Kf,{to:u,onClick:l,end:u==="/",className:({isActive:d})=>`group flex items-center gap-2.5 ${r?"pl-11 pr-4 py-[7px]":"px-4 py-2.5"} text-[13px] font-medium transition-all border-r-2 ${d?"bg-[var(--sidebar-active-bg)] text-[var(--sidebar-active-text)] border-[var(--sidebar-active-text)]":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] border-transparent"}`,children:({isActive:d})=>n.jsxs(n.Fragment,{children:[n.jsx(o,{size:r?14:17,strokeWidth:d?2.2:1.7}),n.jsx("span",{children:t})]})})}function NC({item:s,isOpen:l,onToggle:r,onNavigate:t,currentPath:o}){const{label:u,icon:d,children:m}=s,x=m.some(p=>o.startsWith(p.path));return n.jsxs("div",{children:[n.jsxs("button",{onClick:r,className:`w-full group flex items-center gap-2.5 px-4 py-2.5 text-[13px] font-medium transition-all border-r-2 border-transparent ${x?"text-[var(--sidebar-active-text)]":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,children:[n.jsx(d,{size:17,strokeWidth:x?2.2:1.7}),n.jsx("span",{className:"flex-1 text-left",children:u}),n.jsx(Er,{size:13,className:`text-[var(--text-dim)] transition-transform duration-200 ${l?"rotate-180":""}`})]}),l&&n.jsx("div",{className:"py-0.5",children:m.map(p=>n.jsx(ky,{item:p,onNavigate:t,nested:!0},p.path))})]})}function K(s){return s>=1e7?`${(s/1e7).toFixed(2)} Cr`:s>=1e5?`${(s/1e5).toFixed(2)} L`:s>=1e3?`${(s/1e3).toFixed(0)}K`:`${s.toLocaleString("en-IN")}`}const Dy="cf_market_data",jC=300*1e3,I0=300*1e3;function wC(){try{const s=sessionStorage.getItem(Dy);if(!s)return null;const l=JSON.parse(s);return Date.now()-l._ts>jC?null:l}catch{return null}}function SC(s){try{sessionStorage.setItem(Dy,JSON.stringify({...s,_ts:Date.now()}))}catch{}}function CC(){const[s,l]=S.useState(()=>wC()),[r,t]=S.useState([]),o=S.useRef(null),[u,d]=S.useState(!1),[m,x]=S.useState(!1);S.useEffect(()=>{let b=!1;async function j(){try{const M=await nS();if(!b&&M){const C={...M,_ts:Date.now()};l(C),SC(C)}}catch{}}j();const w=setInterval(j,I0);return()=>{b=!0,clearInterval(w)}},[]),S.useEffect(()=>{let b=!1;async function j(){try{const M=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum&vs_currencies=inr&include_24hr_change=true");if(!b&&M.ok){const C=await M.json(),y=[];C.bitcoin&&y.push({name:"BTC",price:C.bitcoin.inr,changePct:C.bitcoin.inr_24h_change||0,type:"crypto"}),C.ethereum&&y.push({name:"ETH",price:C.ethereum.inr,changePct:C.ethereum.inr_24h_change||0,type:"crypto"}),t(y)}}catch{}}j();const w=setInterval(j,I0);return()=>{b=!0,clearInterval(w)}},[]);const p=[];if(s?.indices&&p.push(...s.indices),s?.metals&&p.push(...s.metals),r.length>0&&p.push(...r),S.useEffect(()=>{if(!o.current)return;const b=o.current,j=b.parentElement;d(b.scrollWidth>j.clientWidth)},[p.length]),p.length===0)return null;const v=p.length*3;return n.jsxs("div",{className:"bg-[var(--bg-card)]/80 backdrop-blur-sm border-b border-[var(--border-light)] overflow-hidden",onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),onTouchStart:()=>x(!0),onTouchEnd:()=>x(!1),children:[n.jsx("div",{className:"overflow-hidden",children:n.jsxs("div",{ref:o,className:"flex items-stretch w-max",style:u?{animation:`ticker-scroll ${v}s linear infinite`,animationPlayState:m?"paused":"running"}:{margin:"0 auto"},children:[p.map((b,j)=>n.jsx(L0,{item:b},b.name+j)),u&&p.map((b,j)=>n.jsx(L0,{item:b},"dup-"+b.name+j))]})}),n.jsx("style",{children:`
        @keyframes ticker-scroll {
          0% { transform: translateX(0); }
          100% { transform: translateX(-50%); }
        }
      `})]})}function L0({item:s}){const l=s.changePct>=0,r=l?n.jsx(_r,{size:10}):n.jsx(Su,{size:10}),t=l?"text-emerald-400":"text-[var(--accent-rose)]",o=u=>u>=1e5?`${(u/1e5).toFixed(2)}L`:u>=1e3?`${u.toLocaleString("en-IN",{maximumFractionDigits:0})}`:`${u.toLocaleString("en-IN",{maximumFractionDigits:2})}`;return n.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 border-r border-[var(--border-light)] last:border-0 shrink-0",children:[n.jsx("span",{className:"text-[10px] font-semibold text-[var(--text-dim)] uppercase whitespace-nowrap",children:s.name}),n.jsx("span",{className:"text-[11px] font-bold text-[var(--text-primary)] tabular-nums whitespace-nowrap",children:s.unit?`${o(s.price)}`:o(s.price)}),s.changePct!==void 0&&s.changePct!==null&&n.jsxs("span",{className:`flex items-center gap-0.5 text-[10px] font-bold tabular-nums ${t}`,children:[r,l?"+":"",s.changePct.toFixed(2),"%"]})]})}function kC(){const{selectedMember:s}=Qt(),{mfPortfolios:l,mfHoldings:r,insurancePolicies:t,goalList:o,reminderList:u}=Ye(),d=(j,w)=>{const M=j||[];return s==="all"?M:M.filter(C=>C[w]===s)},m=S.useMemo(()=>{let j=0,w=0,M=0;return d((l||[]).filter(N=>N.status!=="Inactive"),"ownerId").forEach(N=>{const D=(r||[]).filter(P=>P.portfolioId===N.portfolioId&&P.units>0),g=D.reduce((P,U)=>P+U.currentValue,0),_=(N.rebalanceThreshold||.05)*100;D.forEach(P=>{if(P.athNav>0&&P.belowATHPct>=10?w++:P.athNav>0&&P.belowATHPct>=5&&j++,P.targetAllocationPct>0&&g>0){const U=P.currentValue/g*100;Math.abs(U-P.targetAllocationPct)>_&&M++}})}),{buyOppCount:j+w,buyCount:j,strongBuyCount:w,rebalanceCount:M}},[s,l,r]),x=S.useMemo(()=>{const j=[],w=d((t||[]).filter(g=>g.status==="Active"),"memberId");w.some(g=>g.policyType==="Term Life")||j.push({type:"critical",title:"Missing Term Life Insurance",badge:"Add Policy",navigateTo:"/insurance"});const C=w.filter(g=>g.policyType==="Health").reduce((g,_)=>g+_.sumAssured,0);return C===0?j.push({type:"critical",title:"No Health Insurance",badge:"Add Policy",navigateTo:"/insurance"}):C<5e5&&j.push({type:"warning",title:"Inadequate Health Insurance",badge:K(C),navigateTo:"/insurance"}),d((o||[]).filter(g=>g.isActive!==!1&&g.goalType==="Emergency Fund"),"familyMemberId").forEach(g=>{const _=g.targetAmount>0?g.currentValue/g.targetAmount*100:0;_<100&&j.push({type:_>=75?"info":"warning",title:`Emergency Fund at ${_.toFixed(0)}%`,badge:K(g.targetAmount-g.currentValue)+" left",navigateTo:"/goals"})}),d((u||[]).filter(g=>g.isActive!==!1),"familyMemberId").filter(g=>new Date(g.dueDate)<new Date).forEach(g=>{const _=Math.ceil((new Date-new Date(g.dueDate))/864e5);j.push({type:"critical",title:g.title,badge:`${_}d overdue`,navigateTo:"/reminders"})}),d((o||[]).filter(g=>g.isActive!==!1&&g.status==="Needs Attention"),"familyMemberId").forEach(g=>{j.push({type:"warning",title:`${g.goalName} needs attention`,badge:g.priority,navigateTo:"/goals"})}),j},[s,t,o,u]),p=S.useMemo(()=>{const j=d((u||[]).filter(M=>M.isActive!==!1&&M.status!=="Completed"),"familyMemberId"),w=new Date;return j.map(M=>{const C=new Date(M.dueDate)-w,y=Math.ceil(C/(1440*60*1e3)),N=new Date(M.dueDate).toLocaleDateString("en-IN",{day:"2-digit",month:"short"});return{...M,days:y,dateStr:N}}).filter(M=>M.days>=0&&M.days<=30).sort((M,C)=>M.days-C.days).slice(0,5)},[s,u]),v=x.length+m.buyOppCount+m.rebalanceCount+p.length,b=x.filter(j=>j.type==="critical").length;return{criticalAlerts:x,investmentSignals:m,upcomingReminders:p,totalCount:v,criticalCount:b}}function P0(s){return s>=20?"bg-rose-500/20 text-[var(--accent-rose)]":s>=10?"bg-orange-500/20 text-[var(--accent-orange)]":s>=5?"bg-amber-500/20 text-[var(--accent-amber)]":"bg-slate-500/20 text-[var(--text-muted)]"}function z0(s){return s>=10?{label:"Strong Buy",cls:"bg-emerald-500/20 text-emerald-400 ring-1 ring-emerald-500/30"}:s>=5?{label:"Buy",cls:"bg-blue-500/20 text-blue-400"}:null}function My(){const{mfHoldings:s,mfPortfolios:l}=Ye(),r=S.useMemo(()=>l.filter(o=>o.status!=="Inactive").map(o=>{const u=s.filter(x=>x.portfolioId===o.portfolioId&&x.units>0),d=u.reduce((x,p)=>x+p.currentValue,0),m=u.filter(x=>x.athNav>0&&x.belowATHPct>=1).sort((x,p)=>p.belowATHPct-x.belowATHPct).map(x=>({...x,currentPct:d>0?x.currentValue/d*100:0}));return{...o,totalValue:d,opportunities:m}}).filter(o=>o.opportunities.length>0),[l,s]);return r.reduce((o,u)=>o+u.opportunities.length,0)===0?n.jsxs("div",{className:"py-8 text-center",children:[n.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No buy opportunities right now"}),n.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"All funds are near their all-time highs"})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)] px-1",children:"Funds below their All-Time High NAV. Higher discount = better opportunity."}),r.map((o,u)=>n.jsxs("div",{className:"border border-[var(--border-light)] border-l-2 border-l-emerald-500/50 rounded-lg overflow-hidden",children:[n.jsxs("div",{className:"flex items-center gap-2 px-3 py-2.5 bg-[var(--bg-inset)]",children:[n.jsx("span",{className:"text-xs font-bold text-emerald-400 bg-emerald-500/15 w-5 h-5 rounded flex items-center justify-center",children:u+1}),n.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:o.portfolioName}),n.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:o.ownerName}),n.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-emerald-500/15 text-emerald-400",children:[o.opportunities.length," funds"]})]}),n.jsx("div",{className:"hidden sm:block overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[n.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),n.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Signal"}),n.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Below ATH"}),n.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"ATH NAV"}),n.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Current"}),n.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Value"})]})}),n.jsx("tbody",{children:o.opportunities.map(d=>{const m=z0(d.belowATHPct);return n.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[n.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[200px] truncate",children:d.fundName}),n.jsx("td",{className:"py-2 px-2 text-center",children:m?n.jsx("span",{className:`inline-block text-[10px] font-bold px-2 py-0.5 rounded-full whitespace-nowrap ${m.cls}`,children:m.label}):n.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:"Watch"})}),n.jsx("td",{className:"py-2 px-2 text-right",children:n.jsxs("span",{className:`inline-block text-xs font-semibold px-1.5 py-0.5 rounded-full ${P0(d.belowATHPct)}`,children:["",d.belowATHPct.toFixed(1),"%"]})}),n.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:["",d.athNav.toFixed(2)]}),n.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:["",d.currentNav.toFixed(2)]}),n.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:K(d.currentValue)})]},d.holdingId)})})]})}),n.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:o.opportunities.map(d=>{const m=z0(d.belowATHPct);return n.jsxs("div",{className:"px-3 py-2.5",children:[n.jsxs("div",{className:"flex items-start justify-between mb-1",children:[n.jsx("p",{className:"text-xs text-[var(--text-primary)] leading-tight flex-1 mr-2",children:d.fundName}),n.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[m&&n.jsx("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded-full ${m.cls}`,children:m.label}),n.jsxs("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${P0(d.belowATHPct)}`,children:["",d.belowATHPct.toFixed(1),"%"]})]})]}),n.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)]",children:[n.jsxs("span",{children:["ATH ",d.athNav.toFixed(2),"  ",d.currentNav.toFixed(2)]}),n.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:K(d.currentValue)})]})]},d.holdingId)})})]},o.portfolioId))]})}function Ay(s){var l,r,t="";if(typeof s=="string"||typeof s=="number")t+=s;else if(typeof s=="object")if(Array.isArray(s)){var o=s.length;for(l=0;l<o;l++)s[l]&&(r=Ay(s[l]))&&(t&&(t+=" "),t+=r)}else for(r in s)s[r]&&(t&&(t+=" "),t+=r);return t}function zt(){for(var s,l,r=0,t="",o=arguments.length;r<o;r++)(s=arguments[r])&&(l=Ay(s))&&(t&&(t+=" "),t+=l);return t}const Ty=6048e5,DC=864e5,ku=6e4,Du=36e5,MC=1e3,F0=Symbol.for("constructDateFrom");function rt(s,l){return typeof s=="function"?s(l):s&&typeof s=="object"&&F0 in s?s[F0](l):s instanceof Date?new s.constructor(l):new Date(l)}function Ce(s,l){return rt(l||s,s)}function en(s,l,r){const t=Ce(s,r?.in);return isNaN(l)?rt(r?.in||s,NaN):(l&&t.setDate(t.getDate()+l),t)}function nn(s,l,r){const t=Ce(s,r?.in);if(isNaN(l))return rt(s,NaN);if(!l)return t;const o=t.getDate(),u=rt(s,t.getTime());u.setMonth(t.getMonth()+l+1,0);const d=u.getDate();return o>=d?u:(t.setFullYear(u.getFullYear(),u.getMonth(),o),t)}function Ey(s,l,r){return rt(s,+Ce(s)+l)}function AC(s,l,r){return Ey(s,l*Du)}let TC={};function ys(){return TC}function er(s,l){const r=ys(),t=l?.weekStartsOn??l?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=Ce(s,l?.in),u=o.getDay(),d=(u<t?7:0)+u-t;return o.setDate(o.getDate()-d),o.setHours(0,0,0,0),o}function gl(s,l){return er(s,{...l,weekStartsOn:1})}function _y(s,l){const r=Ce(s,l?.in),t=r.getFullYear(),o=rt(r,0);o.setFullYear(t+1,0,4),o.setHours(0,0,0,0);const u=gl(o),d=rt(r,0);d.setFullYear(t,0,4),d.setHours(0,0,0,0);const m=gl(d);return r.getTime()>=u.getTime()?t+1:r.getTime()>=m.getTime()?t:t-1}function lu(s){const l=Ce(s),r=new Date(Date.UTC(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds()));return r.setUTCFullYear(l.getFullYear()),+s-+r}function ar(s,...l){const r=rt.bind(null,l.find(t=>typeof t=="object"));return l.map(r)}function hs(s,l){const r=Ce(s,l?.in);return r.setHours(0,0,0,0),r}function yl(s,l,r){const[t,o]=ar(r?.in,s,l),u=hs(t),d=hs(o),m=+u-lu(u),x=+d-lu(d);return Math.round((m-x)/DC)}function EC(s,l){const r=_y(s,l),t=rt(s,0);return t.setFullYear(r,0,4),t.setHours(0,0,0,0),gl(t)}function Vi(s,l,r){const t=Ce(s,r?.in);return t.setTime(t.getTime()+l*ku),t}function np(s,l,r){return nn(s,l*3,r)}function _C(s,l,r){return Ey(s,l*1e3)}function iu(s,l,r){return en(s,l*7,r)}function tn(s,l,r){return nn(s,l*12,r)}function B0(s,l){let r,t=l?.in;return s.forEach(o=>{!t&&typeof o=="object"&&(t=rt.bind(null,o));const u=Ce(o,t);(!r||r<u||isNaN(+u))&&(r=u)}),rt(t,r||NaN)}function H0(s,l){let r,t=l?.in;return s.forEach(o=>{!t&&typeof o=="object"&&(t=rt.bind(null,o));const u=Ce(o,t);(!r||r>u||isNaN(+u))&&(r=u)}),rt(t,r||NaN)}function OC(s,l,r){const[t,o]=ar(r?.in,s,l);return+hs(t)==+hs(o)}function yn(s){return s instanceof Date||typeof s=="object"&&Object.prototype.toString.call(s)==="[object Date]"}function Nl(s){return!(!yn(s)&&typeof s!="number"||isNaN(+Ce(s)))}function ou(s,l,r){const[t,o]=ar(r?.in,s,l),u=t.getFullYear()-o.getFullYear(),d=t.getMonth()-o.getMonth();return u*12+d}function Tr(s,l){const r=Ce(s,l?.in);return Math.trunc(r.getMonth()/3)+1}function cu(s,l,r){const[t,o]=ar(r?.in,s,l),u=t.getFullYear()-o.getFullYear(),d=Tr(t)-Tr(o);return u*4+d}function uu(s,l,r){const[t,o]=ar(r?.in,s,l);return t.getFullYear()-o.getFullYear()}function RC(s,l,r){const[t,o]=ar(r?.in,s,l),u=Y0(t,o),d=Math.abs(yl(t,o));t.setDate(t.getDate()-u*d);const m=+(Y0(t,o)===-u),x=u*(d-m);return x===0?0:x}function Y0(s,l){const r=s.getFullYear()-l.getFullYear()||s.getMonth()-l.getMonth()||s.getDate()-l.getDate()||s.getHours()-l.getHours()||s.getMinutes()-l.getMinutes()||s.getSeconds()-l.getSeconds()||s.getMilliseconds()-l.getMilliseconds();return r<0?-1:r>0?1:r}function Oy(s,l){const r=Ce(s,l?.in);return r.setHours(23,59,59,999),r}function Ry(s,l){const r=Ce(s,l?.in),t=r.getMonth();return r.setFullYear(r.getFullYear(),t+1,0),r.setHours(23,59,59,999),r}function Af(s,l){const r=Ce(s,l?.in),t=r.getMonth(),o=t-t%3;return r.setMonth(o,1),r.setHours(0,0,0,0),r}function Iy(s,l){const r=Ce(s,l?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function Ly(s,l){const r=Ce(s,l?.in),t=r.getFullYear();return r.setFullYear(t+1,0,0),r.setHours(23,59,59,999),r}function Mu(s,l){const r=Ce(s,l?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function IC(s,l){const r=ys(),t=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=Ce(s,l?.in),u=o.getDay(),d=(u<t?-7:0)+6-(u-t);return o.setDate(o.getDate()+d),o.setHours(23,59,59,999),o}const LC={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},PC=(s,l,r)=>{let t;const o=LC[s];return typeof o=="string"?t=o:l===1?t=o.one:t=o.other.replace("{{count}}",l.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+t:t+" ago":t};function lf(s){return(l={})=>{const r=l.width?String(l.width):s.defaultWidth;return s.formats[r]||s.formats[s.defaultWidth]}}const zC={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},FC={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},BC={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},HC={date:lf({formats:zC,defaultWidth:"full"}),time:lf({formats:FC,defaultWidth:"full"}),dateTime:lf({formats:BC,defaultWidth:"full"})},YC={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},UC=(s,l,r,t)=>YC[s];function Ti(s){return(l,r)=>{const t=r?.context?String(r.context):"standalone";let o;if(t==="formatting"&&s.formattingValues){const d=s.defaultFormattingWidth||s.defaultWidth,m=r?.width?String(r.width):d;o=s.formattingValues[m]||s.formattingValues[d]}else{const d=s.defaultWidth,m=r?.width?String(r.width):s.defaultWidth;o=s.values[m]||s.values[d]}const u=s.argumentCallback?s.argumentCallback(l):l;return o[u]}}const qC={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},$C={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},VC={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},GC={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},QC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},KC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},XC=(s,l)=>{const r=Number(s),t=r%100;if(t>20||t<10)switch(t%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},WC={ordinalNumber:XC,era:Ti({values:qC,defaultWidth:"wide"}),quarter:Ti({values:$C,defaultWidth:"wide",argumentCallback:s=>s-1}),month:Ti({values:VC,defaultWidth:"wide"}),day:Ti({values:GC,defaultWidth:"wide"}),dayPeriod:Ti({values:QC,defaultWidth:"wide",formattingValues:KC,defaultFormattingWidth:"wide"})};function Ei(s){return(l,r={})=>{const t=r.width,o=t&&s.matchPatterns[t]||s.matchPatterns[s.defaultMatchWidth],u=l.match(o);if(!u)return null;const d=u[0],m=t&&s.parsePatterns[t]||s.parsePatterns[s.defaultParseWidth],x=Array.isArray(m)?JC(m,b=>b.test(d)):ZC(m,b=>b.test(d));let p;p=s.valueCallback?s.valueCallback(x):x,p=r.valueCallback?r.valueCallback(p):p;const v=l.slice(d.length);return{value:p,rest:v}}}function ZC(s,l){for(const r in s)if(Object.prototype.hasOwnProperty.call(s,r)&&l(s[r]))return r}function JC(s,l){for(let r=0;r<s.length;r++)if(l(s[r]))return r}function ek(s){return(l,r={})=>{const t=l.match(s.matchPattern);if(!t)return null;const o=t[0],u=l.match(s.parsePattern);if(!u)return null;let d=s.valueCallback?s.valueCallback(u[0]):u[0];d=r.valueCallback?r.valueCallback(d):d;const m=l.slice(o.length);return{value:d,rest:m}}}const tk=/^(\d+)(th|st|nd|rd)?/i,ak=/\d+/i,nk={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},rk={any:[/^b/i,/^(a|c)/i]},sk={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},lk={any:[/1/i,/2/i,/3/i,/4/i]},ik={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ok={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ck={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},uk={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},dk={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mk={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},fk={ordinalNumber:ek({matchPattern:tk,parsePattern:ak,valueCallback:s=>parseInt(s,10)}),era:Ei({matchPatterns:nk,defaultMatchWidth:"wide",parsePatterns:rk,defaultParseWidth:"any"}),quarter:Ei({matchPatterns:sk,defaultMatchWidth:"wide",parsePatterns:lk,defaultParseWidth:"any",valueCallback:s=>s+1}),month:Ei({matchPatterns:ik,defaultMatchWidth:"wide",parsePatterns:ok,defaultParseWidth:"any"}),day:Ei({matchPatterns:ck,defaultMatchWidth:"wide",parsePatterns:uk,defaultParseWidth:"any"}),dayPeriod:Ei({matchPatterns:dk,defaultMatchWidth:"any",parsePatterns:mk,defaultParseWidth:"any"})},Py={code:"en-US",formatDistance:PC,formatLong:HC,formatRelative:UC,localize:WC,match:fk,options:{weekStartsOn:0,firstWeekContainsDate:1}};function pk(s,l){const r=Ce(s,l?.in);return yl(r,Mu(r))+1}function rp(s,l){const r=Ce(s,l?.in),t=+gl(r)-+EC(r);return Math.round(t/Ty)+1}function sp(s,l){const r=Ce(s,l?.in),t=r.getFullYear(),o=ys(),u=l?.firstWeekContainsDate??l?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,d=rt(l?.in||s,0);d.setFullYear(t+1,0,u),d.setHours(0,0,0,0);const m=er(d,l),x=rt(l?.in||s,0);x.setFullYear(t,0,u),x.setHours(0,0,0,0);const p=er(x,l);return+r>=+m?t+1:+r>=+p?t:t-1}function xk(s,l){const r=ys(),t=l?.firstWeekContainsDate??l?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=sp(s,l),u=rt(l?.in||s,0);return u.setFullYear(o,0,t),u.setHours(0,0,0,0),er(u,l)}function zy(s,l){const r=Ce(s,l?.in),t=+er(r,l)-+xk(r,l);return Math.round(t/Ty)+1}function nt(s,l){const r=s<0?"-":"",t=Math.abs(s).toString().padStart(l,"0");return r+t}const Mr={y(s,l){const r=s.getFullYear(),t=r>0?r:1-r;return nt(l==="yy"?t%100:t,l.length)},M(s,l){const r=s.getMonth();return l==="M"?String(r+1):nt(r+1,2)},d(s,l){return nt(s.getDate(),l.length)},a(s,l){const r=s.getHours()/12>=1?"pm":"am";switch(l){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(s,l){return nt(s.getHours()%12||12,l.length)},H(s,l){return nt(s.getHours(),l.length)},m(s,l){return nt(s.getMinutes(),l.length)},s(s,l){return nt(s.getSeconds(),l.length)},S(s,l){const r=l.length,t=s.getMilliseconds(),o=Math.trunc(t*Math.pow(10,r-3));return nt(o,l.length)}},il={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},U0={G:function(s,l,r){const t=s.getFullYear()>0?1:0;switch(l){case"G":case"GG":case"GGG":return r.era(t,{width:"abbreviated"});case"GGGGG":return r.era(t,{width:"narrow"});default:return r.era(t,{width:"wide"})}},y:function(s,l,r){if(l==="yo"){const t=s.getFullYear(),o=t>0?t:1-t;return r.ordinalNumber(o,{unit:"year"})}return Mr.y(s,l)},Y:function(s,l,r,t){const o=sp(s,t),u=o>0?o:1-o;if(l==="YY"){const d=u%100;return nt(d,2)}return l==="Yo"?r.ordinalNumber(u,{unit:"year"}):nt(u,l.length)},R:function(s,l){const r=_y(s);return nt(r,l.length)},u:function(s,l){const r=s.getFullYear();return nt(r,l.length)},Q:function(s,l,r){const t=Math.ceil((s.getMonth()+1)/3);switch(l){case"Q":return String(t);case"QQ":return nt(t,2);case"Qo":return r.ordinalNumber(t,{unit:"quarter"});case"QQQ":return r.quarter(t,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(t,{width:"narrow",context:"formatting"});default:return r.quarter(t,{width:"wide",context:"formatting"})}},q:function(s,l,r){const t=Math.ceil((s.getMonth()+1)/3);switch(l){case"q":return String(t);case"qq":return nt(t,2);case"qo":return r.ordinalNumber(t,{unit:"quarter"});case"qqq":return r.quarter(t,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(t,{width:"narrow",context:"standalone"});default:return r.quarter(t,{width:"wide",context:"standalone"})}},M:function(s,l,r){const t=s.getMonth();switch(l){case"M":case"MM":return Mr.M(s,l);case"Mo":return r.ordinalNumber(t+1,{unit:"month"});case"MMM":return r.month(t,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(t,{width:"narrow",context:"formatting"});default:return r.month(t,{width:"wide",context:"formatting"})}},L:function(s,l,r){const t=s.getMonth();switch(l){case"L":return String(t+1);case"LL":return nt(t+1,2);case"Lo":return r.ordinalNumber(t+1,{unit:"month"});case"LLL":return r.month(t,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(t,{width:"narrow",context:"standalone"});default:return r.month(t,{width:"wide",context:"standalone"})}},w:function(s,l,r,t){const o=zy(s,t);return l==="wo"?r.ordinalNumber(o,{unit:"week"}):nt(o,l.length)},I:function(s,l,r){const t=rp(s);return l==="Io"?r.ordinalNumber(t,{unit:"week"}):nt(t,l.length)},d:function(s,l,r){return l==="do"?r.ordinalNumber(s.getDate(),{unit:"date"}):Mr.d(s,l)},D:function(s,l,r){const t=pk(s);return l==="Do"?r.ordinalNumber(t,{unit:"dayOfYear"}):nt(t,l.length)},E:function(s,l,r){const t=s.getDay();switch(l){case"E":case"EE":case"EEE":return r.day(t,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(t,{width:"short",context:"formatting"});default:return r.day(t,{width:"wide",context:"formatting"})}},e:function(s,l,r,t){const o=s.getDay(),u=(o-t.weekStartsOn+8)%7||7;switch(l){case"e":return String(u);case"ee":return nt(u,2);case"eo":return r.ordinalNumber(u,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(s,l,r,t){const o=s.getDay(),u=(o-t.weekStartsOn+8)%7||7;switch(l){case"c":return String(u);case"cc":return nt(u,l.length);case"co":return r.ordinalNumber(u,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(s,l,r){const t=s.getDay(),o=t===0?7:t;switch(l){case"i":return String(o);case"ii":return nt(o,l.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(t,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(t,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(t,{width:"short",context:"formatting"});default:return r.day(t,{width:"wide",context:"formatting"})}},a:function(s,l,r){const o=s.getHours()/12>=1?"pm":"am";switch(l){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(s,l,r){const t=s.getHours();let o;switch(t===12?o=il.noon:t===0?o=il.midnight:o=t/12>=1?"pm":"am",l){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(s,l,r){const t=s.getHours();let o;switch(t>=17?o=il.evening:t>=12?o=il.afternoon:t>=4?o=il.morning:o=il.night,l){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(s,l,r){if(l==="ho"){let t=s.getHours()%12;return t===0&&(t=12),r.ordinalNumber(t,{unit:"hour"})}return Mr.h(s,l)},H:function(s,l,r){return l==="Ho"?r.ordinalNumber(s.getHours(),{unit:"hour"}):Mr.H(s,l)},K:function(s,l,r){const t=s.getHours()%12;return l==="Ko"?r.ordinalNumber(t,{unit:"hour"}):nt(t,l.length)},k:function(s,l,r){let t=s.getHours();return t===0&&(t=24),l==="ko"?r.ordinalNumber(t,{unit:"hour"}):nt(t,l.length)},m:function(s,l,r){return l==="mo"?r.ordinalNumber(s.getMinutes(),{unit:"minute"}):Mr.m(s,l)},s:function(s,l,r){return l==="so"?r.ordinalNumber(s.getSeconds(),{unit:"second"}):Mr.s(s,l)},S:function(s,l){return Mr.S(s,l)},X:function(s,l,r){const t=s.getTimezoneOffset();if(t===0)return"Z";switch(l){case"X":return $0(t);case"XXXX":case"XX":return is(t);default:return is(t,":")}},x:function(s,l,r){const t=s.getTimezoneOffset();switch(l){case"x":return $0(t);case"xxxx":case"xx":return is(t);default:return is(t,":")}},O:function(s,l,r){const t=s.getTimezoneOffset();switch(l){case"O":case"OO":case"OOO":return"GMT"+q0(t,":");default:return"GMT"+is(t,":")}},z:function(s,l,r){const t=s.getTimezoneOffset();switch(l){case"z":case"zz":case"zzz":return"GMT"+q0(t,":");default:return"GMT"+is(t,":")}},t:function(s,l,r){const t=Math.trunc(+s/1e3);return nt(t,l.length)},T:function(s,l,r){return nt(+s,l.length)}};function q0(s,l=""){const r=s>0?"-":"+",t=Math.abs(s),o=Math.trunc(t/60),u=t%60;return u===0?r+String(o):r+String(o)+l+nt(u,2)}function $0(s,l){return s%60===0?(s>0?"-":"+")+nt(Math.abs(s)/60,2):is(s,l)}function is(s,l=""){const r=s>0?"-":"+",t=Math.abs(s),o=nt(Math.trunc(t/60),2),u=nt(t%60,2);return r+o+l+u}const V0=(s,l)=>{switch(s){case"P":return l.date({width:"short"});case"PP":return l.date({width:"medium"});case"PPP":return l.date({width:"long"});default:return l.date({width:"full"})}},Fy=(s,l)=>{switch(s){case"p":return l.time({width:"short"});case"pp":return l.time({width:"medium"});case"ppp":return l.time({width:"long"});default:return l.time({width:"full"})}},hk=(s,l)=>{const r=s.match(/(P+)(p+)?/)||[],t=r[1],o=r[2];if(!o)return V0(s,l);let u;switch(t){case"P":u=l.dateTime({width:"short"});break;case"PP":u=l.dateTime({width:"medium"});break;case"PPP":u=l.dateTime({width:"long"});break;default:u=l.dateTime({width:"full"});break}return u.replace("{{date}}",V0(t,l)).replace("{{time}}",Fy(o,l))},Tf={p:Fy,P:hk},vk=/^D+$/,bk=/^Y+$/,gk=["D","DD","YY","YYYY"];function yk(s){return vk.test(s)}function Nk(s){return bk.test(s)}function jk(s,l,r){const t=wk(s,l,r);if(console.warn(t),gk.includes(s))throw new RangeError(t)}function wk(s,l,r){const t=s[0]==="Y"?"years":"days of the month";return`Use \`${s.toLowerCase()}\` instead of \`${s}\` (in \`${l}\`) for formatting ${t} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Sk=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ck=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kk=/^'([^]*?)'?$/,Dk=/''/g,Mk=/[a-zA-Z]/;function G0(s,l,r){const t=ys(),o=r?.locale??t.locale??Py,u=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,d=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,m=Ce(s,r?.in);if(!Nl(m))throw new RangeError("Invalid time value");let x=l.match(Ck).map(v=>{const b=v[0];if(b==="p"||b==="P"){const j=Tf[b];return j(v,o.formatLong)}return v}).join("").match(Sk).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const b=v[0];if(b==="'")return{isToken:!1,value:Ak(v)};if(U0[b])return{isToken:!0,value:v};if(b.match(Mk))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:v}});o.localize.preprocessor&&(x=o.localize.preprocessor(m,x));const p={firstWeekContainsDate:u,weekStartsOn:d,locale:o};return x.map(v=>{if(!v.isToken)return v.value;const b=v.value;(!r?.useAdditionalWeekYearTokens&&Nk(b)||!r?.useAdditionalDayOfYearTokens&&yk(b))&&jk(b,l,String(s));const j=U0[b[0]];return j(m,b,o.localize,p)}).join("")}function Ak(s){const l=s.match(kk);return l?l[1].replace(Dk,"'"):s}function Q0(s,l){return Ce(s,l?.in).getDate()}function Tk(s,l){return Ce(s,l?.in).getDay()}function Ek(s,l){const r=Ce(s,l?.in),t=r.getFullYear(),o=r.getMonth(),u=rt(r,0);return u.setFullYear(t,o+1,0),u.setHours(0,0,0,0),u.getDate()}function _k(){return Object.assign({},ys())}function ea(s,l){return Ce(s,l?.in).getHours()}function Ok(s,l){const r=Ce(s,l?.in).getDay();return r===0?7:r}function ta(s,l){return Ce(s,l?.in).getMinutes()}function ya(s,l){return Ce(s,l?.in).getMonth()}function Or(s){return Ce(s).getSeconds()}function Ef(s){return+Ce(s)}function He(s,l){return Ce(s,l?.in).getFullYear()}function Wn(s,l){return+Ce(s)>+Ce(l)}function vn(s,l){return+Ce(s)<+Ce(l)}function Rk(s,l){return+Ce(s)==+Ce(l)}function Ik(s,l){const r=Lk(l)?new l(0):rt(l,0);return r.setFullYear(s.getFullYear(),s.getMonth(),s.getDate()),r.setHours(s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()),r}function Lk(s){return typeof s=="function"&&s.prototype?.constructor===s}const Pk=10;class By{subPriority=0;validate(l,r){return!0}}class zk extends By{constructor(l,r,t,o,u){super(),this.value=l,this.validateValue=r,this.setValue=t,this.priority=o,u&&(this.subPriority=u)}validate(l,r){return this.validateValue(l,this.value,r)}set(l,r,t){return this.setValue(l,r,this.value,t)}}class Fk extends By{priority=Pk;subPriority=-1;constructor(l,r){super(),this.context=l||(t=>rt(r,t))}set(l,r){return r.timestampIsSet?l:rt(l,Ik(l,this.context))}}class et{run(l,r,t,o){const u=this.parse(l,r,t,o);return u?{setter:new zk(u.value,this.validate,this.set,this.priority,this.subPriority),rest:u.rest}:null}validate(l,r,t){return!0}}class Bk extends et{priority=140;parse(l,r,t){switch(r){case"G":case"GG":case"GGG":return t.era(l,{width:"abbreviated"})||t.era(l,{width:"narrow"});case"GGGGG":return t.era(l,{width:"narrow"});default:return t.era(l,{width:"wide"})||t.era(l,{width:"abbreviated"})||t.era(l,{width:"narrow"})}}set(l,r,t){return r.era=t,l.setFullYear(t,0,1),l.setHours(0,0,0,0),l}incompatibleTokens=["R","u","t","T"]}const At={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},xn={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Tt(s,l){return s&&{value:l(s.value),rest:s.rest}}function yt(s,l){const r=l.match(s);return r?{value:parseInt(r[0],10),rest:l.slice(r[0].length)}:null}function hn(s,l){const r=l.match(s);if(!r)return null;if(r[0]==="Z")return{value:0,rest:l.slice(1)};const t=r[1]==="+"?1:-1,o=r[2]?parseInt(r[2],10):0,u=r[3]?parseInt(r[3],10):0,d=r[5]?parseInt(r[5],10):0;return{value:t*(o*Du+u*ku+d*MC),rest:l.slice(r[0].length)}}function Hy(s){return yt(At.anyDigitsSigned,s)}function St(s,l){switch(s){case 1:return yt(At.singleDigit,l);case 2:return yt(At.twoDigits,l);case 3:return yt(At.threeDigits,l);case 4:return yt(At.fourDigits,l);default:return yt(new RegExp("^\\d{1,"+s+"}"),l)}}function du(s,l){switch(s){case 1:return yt(At.singleDigitSigned,l);case 2:return yt(At.twoDigitsSigned,l);case 3:return yt(At.threeDigitsSigned,l);case 4:return yt(At.fourDigitsSigned,l);default:return yt(new RegExp("^-?\\d{1,"+s+"}"),l)}}function lp(s){switch(s){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function Yy(s,l){const r=l>0,t=r?l:1-l;let o;if(t<=50)o=s||100;else{const u=t+50,d=Math.trunc(u/100)*100,m=s>=u%100;o=s+d-(m?100:0)}return r?o:1-o}function Uy(s){return s%400===0||s%4===0&&s%100!==0}class Hk extends et{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(l,r,t){const o=u=>({year:u,isTwoDigitYear:r==="yy"});switch(r){case"y":return Tt(St(4,l),o);case"yo":return Tt(t.ordinalNumber(l,{unit:"year"}),o);default:return Tt(St(r.length,l),o)}}validate(l,r){return r.isTwoDigitYear||r.year>0}set(l,r,t){const o=l.getFullYear();if(t.isTwoDigitYear){const d=Yy(t.year,o);return l.setFullYear(d,0,1),l.setHours(0,0,0,0),l}const u=!("era"in r)||r.era===1?t.year:1-t.year;return l.setFullYear(u,0,1),l.setHours(0,0,0,0),l}}class Yk extends et{priority=130;parse(l,r,t){const o=u=>({year:u,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Tt(St(4,l),o);case"Yo":return Tt(t.ordinalNumber(l,{unit:"year"}),o);default:return Tt(St(r.length,l),o)}}validate(l,r){return r.isTwoDigitYear||r.year>0}set(l,r,t,o){const u=sp(l,o);if(t.isTwoDigitYear){const m=Yy(t.year,u);return l.setFullYear(m,0,o.firstWeekContainsDate),l.setHours(0,0,0,0),er(l,o)}const d=!("era"in r)||r.era===1?t.year:1-t.year;return l.setFullYear(d,0,o.firstWeekContainsDate),l.setHours(0,0,0,0),er(l,o)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class Uk extends et{priority=130;parse(l,r){return du(r==="R"?4:r.length,l)}set(l,r,t){const o=rt(l,0);return o.setFullYear(t,0,4),o.setHours(0,0,0,0),gl(o)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class qk extends et{priority=130;parse(l,r){return du(r==="u"?4:r.length,l)}set(l,r,t){return l.setFullYear(t,0,1),l.setHours(0,0,0,0),l}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class $k extends et{priority=120;parse(l,r,t){switch(r){case"Q":case"QQ":return St(r.length,l);case"Qo":return t.ordinalNumber(l,{unit:"quarter"});case"QQQ":return t.quarter(l,{width:"abbreviated",context:"formatting"})||t.quarter(l,{width:"narrow",context:"formatting"});case"QQQQQ":return t.quarter(l,{width:"narrow",context:"formatting"});default:return t.quarter(l,{width:"wide",context:"formatting"})||t.quarter(l,{width:"abbreviated",context:"formatting"})||t.quarter(l,{width:"narrow",context:"formatting"})}}validate(l,r){return r>=1&&r<=4}set(l,r,t){return l.setMonth((t-1)*3,1),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class Vk extends et{priority=120;parse(l,r,t){switch(r){case"q":case"qq":return St(r.length,l);case"qo":return t.ordinalNumber(l,{unit:"quarter"});case"qqq":return t.quarter(l,{width:"abbreviated",context:"standalone"})||t.quarter(l,{width:"narrow",context:"standalone"});case"qqqqq":return t.quarter(l,{width:"narrow",context:"standalone"});default:return t.quarter(l,{width:"wide",context:"standalone"})||t.quarter(l,{width:"abbreviated",context:"standalone"})||t.quarter(l,{width:"narrow",context:"standalone"})}}validate(l,r){return r>=1&&r<=4}set(l,r,t){return l.setMonth((t-1)*3,1),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class Gk extends et{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(l,r,t){const o=u=>u-1;switch(r){case"M":return Tt(yt(At.month,l),o);case"MM":return Tt(St(2,l),o);case"Mo":return Tt(t.ordinalNumber(l,{unit:"month"}),o);case"MMM":return t.month(l,{width:"abbreviated",context:"formatting"})||t.month(l,{width:"narrow",context:"formatting"});case"MMMMM":return t.month(l,{width:"narrow",context:"formatting"});default:return t.month(l,{width:"wide",context:"formatting"})||t.month(l,{width:"abbreviated",context:"formatting"})||t.month(l,{width:"narrow",context:"formatting"})}}validate(l,r){return r>=0&&r<=11}set(l,r,t){return l.setMonth(t,1),l.setHours(0,0,0,0),l}}class Qk extends et{priority=110;parse(l,r,t){const o=u=>u-1;switch(r){case"L":return Tt(yt(At.month,l),o);case"LL":return Tt(St(2,l),o);case"Lo":return Tt(t.ordinalNumber(l,{unit:"month"}),o);case"LLL":return t.month(l,{width:"abbreviated",context:"standalone"})||t.month(l,{width:"narrow",context:"standalone"});case"LLLLL":return t.month(l,{width:"narrow",context:"standalone"});default:return t.month(l,{width:"wide",context:"standalone"})||t.month(l,{width:"abbreviated",context:"standalone"})||t.month(l,{width:"narrow",context:"standalone"})}}validate(l,r){return r>=0&&r<=11}set(l,r,t){return l.setMonth(t,1),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function Kk(s,l,r){const t=Ce(s,r?.in),o=zy(t,r)-l;return t.setDate(t.getDate()-o*7),Ce(t,r?.in)}class Xk extends et{priority=100;parse(l,r,t){switch(r){case"w":return yt(At.week,l);case"wo":return t.ordinalNumber(l,{unit:"week"});default:return St(r.length,l)}}validate(l,r){return r>=1&&r<=53}set(l,r,t,o){return er(Kk(l,t,o),o)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function Wk(s,l,r){const t=Ce(s,r?.in),o=rp(t,r)-l;return t.setDate(t.getDate()-o*7),t}class Zk extends et{priority=100;parse(l,r,t){switch(r){case"I":return yt(At.week,l);case"Io":return t.ordinalNumber(l,{unit:"week"});default:return St(r.length,l)}}validate(l,r){return r>=1&&r<=53}set(l,r,t){return gl(Wk(l,t))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const Jk=[31,28,31,30,31,30,31,31,30,31,30,31],eD=[31,29,31,30,31,30,31,31,30,31,30,31];class tD extends et{priority=90;subPriority=1;parse(l,r,t){switch(r){case"d":return yt(At.date,l);case"do":return t.ordinalNumber(l,{unit:"date"});default:return St(r.length,l)}}validate(l,r){const t=l.getFullYear(),o=Uy(t),u=l.getMonth();return o?r>=1&&r<=eD[u]:r>=1&&r<=Jk[u]}set(l,r,t){return l.setDate(t),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class aD extends et{priority=90;subpriority=1;parse(l,r,t){switch(r){case"D":case"DD":return yt(At.dayOfYear,l);case"Do":return t.ordinalNumber(l,{unit:"date"});default:return St(r.length,l)}}validate(l,r){const t=l.getFullYear();return Uy(t)?r>=1&&r<=366:r>=1&&r<=365}set(l,r,t){return l.setMonth(0,t),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function ip(s,l,r){const t=ys(),o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,u=Ce(s,r?.in),d=u.getDay(),x=(l%7+7)%7,p=7-o,v=l<0||l>6?l-(d+p)%7:(x+p)%7-(d+p)%7;return en(u,v,r)}class nD extends et{priority=90;parse(l,r,t){switch(r){case"E":case"EE":case"EEE":return t.day(l,{width:"abbreviated",context:"formatting"})||t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"});case"EEEEE":return t.day(l,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"});default:return t.day(l,{width:"wide",context:"formatting"})||t.day(l,{width:"abbreviated",context:"formatting"})||t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"})}}validate(l,r){return r>=0&&r<=6}set(l,r,t,o){return l=ip(l,t,o),l.setHours(0,0,0,0),l}incompatibleTokens=["D","i","e","c","t","T"]}class rD extends et{priority=90;parse(l,r,t,o){const u=d=>{const m=Math.floor((d-1)/7)*7;return(d+o.weekStartsOn+6)%7+m};switch(r){case"e":case"ee":return Tt(St(r.length,l),u);case"eo":return Tt(t.ordinalNumber(l,{unit:"day"}),u);case"eee":return t.day(l,{width:"abbreviated",context:"formatting"})||t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"});case"eeeee":return t.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"});default:return t.day(l,{width:"wide",context:"formatting"})||t.day(l,{width:"abbreviated",context:"formatting"})||t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"})}}validate(l,r){return r>=0&&r<=6}set(l,r,t,o){return l=ip(l,t,o),l.setHours(0,0,0,0),l}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class sD extends et{priority=90;parse(l,r,t,o){const u=d=>{const m=Math.floor((d-1)/7)*7;return(d+o.weekStartsOn+6)%7+m};switch(r){case"c":case"cc":return Tt(St(r.length,l),u);case"co":return Tt(t.ordinalNumber(l,{unit:"day"}),u);case"ccc":return t.day(l,{width:"abbreviated",context:"standalone"})||t.day(l,{width:"short",context:"standalone"})||t.day(l,{width:"narrow",context:"standalone"});case"ccccc":return t.day(l,{width:"narrow",context:"standalone"});case"cccccc":return t.day(l,{width:"short",context:"standalone"})||t.day(l,{width:"narrow",context:"standalone"});default:return t.day(l,{width:"wide",context:"standalone"})||t.day(l,{width:"abbreviated",context:"standalone"})||t.day(l,{width:"short",context:"standalone"})||t.day(l,{width:"narrow",context:"standalone"})}}validate(l,r){return r>=0&&r<=6}set(l,r,t,o){return l=ip(l,t,o),l.setHours(0,0,0,0),l}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function lD(s,l,r){const t=Ce(s,r?.in),o=Ok(t,r),u=l-o;return en(t,u,r)}class iD extends et{priority=90;parse(l,r,t){const o=u=>u===0?7:u;switch(r){case"i":case"ii":return St(r.length,l);case"io":return t.ordinalNumber(l,{unit:"day"});case"iii":return Tt(t.day(l,{width:"abbreviated",context:"formatting"})||t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"}),o);case"iiiii":return Tt(t.day(l,{width:"narrow",context:"formatting"}),o);case"iiiiii":return Tt(t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"}),o);default:return Tt(t.day(l,{width:"wide",context:"formatting"})||t.day(l,{width:"abbreviated",context:"formatting"})||t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"}),o)}}validate(l,r){return r>=1&&r<=7}set(l,r,t){return l=lD(l,t),l.setHours(0,0,0,0),l}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class oD extends et{priority=80;parse(l,r,t){switch(r){case"a":case"aa":case"aaa":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"})||t.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaaa":return t.dayPeriod(l,{width:"narrow",context:"formatting"});default:return t.dayPeriod(l,{width:"wide",context:"formatting"})||t.dayPeriod(l,{width:"abbreviated",context:"formatting"})||t.dayPeriod(l,{width:"narrow",context:"formatting"})}}set(l,r,t){return l.setHours(lp(t),0,0,0),l}incompatibleTokens=["b","B","H","k","t","T"]}class cD extends et{priority=80;parse(l,r,t){switch(r){case"b":case"bb":case"bbb":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"})||t.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbbb":return t.dayPeriod(l,{width:"narrow",context:"formatting"});default:return t.dayPeriod(l,{width:"wide",context:"formatting"})||t.dayPeriod(l,{width:"abbreviated",context:"formatting"})||t.dayPeriod(l,{width:"narrow",context:"formatting"})}}set(l,r,t){return l.setHours(lp(t),0,0,0),l}incompatibleTokens=["a","B","H","k","t","T"]}class uD extends et{priority=80;parse(l,r,t){switch(r){case"B":case"BB":case"BBB":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"})||t.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBBB":return t.dayPeriod(l,{width:"narrow",context:"formatting"});default:return t.dayPeriod(l,{width:"wide",context:"formatting"})||t.dayPeriod(l,{width:"abbreviated",context:"formatting"})||t.dayPeriod(l,{width:"narrow",context:"formatting"})}}set(l,r,t){return l.setHours(lp(t),0,0,0),l}incompatibleTokens=["a","b","t","T"]}class dD extends et{priority=70;parse(l,r,t){switch(r){case"h":return yt(At.hour12h,l);case"ho":return t.ordinalNumber(l,{unit:"hour"});default:return St(r.length,l)}}validate(l,r){return r>=1&&r<=12}set(l,r,t){const o=l.getHours()>=12;return o&&t<12?l.setHours(t+12,0,0,0):!o&&t===12?l.setHours(0,0,0,0):l.setHours(t,0,0,0),l}incompatibleTokens=["H","K","k","t","T"]}class mD extends et{priority=70;parse(l,r,t){switch(r){case"H":return yt(At.hour23h,l);case"Ho":return t.ordinalNumber(l,{unit:"hour"});default:return St(r.length,l)}}validate(l,r){return r>=0&&r<=23}set(l,r,t){return l.setHours(t,0,0,0),l}incompatibleTokens=["a","b","h","K","k","t","T"]}class fD extends et{priority=70;parse(l,r,t){switch(r){case"K":return yt(At.hour11h,l);case"Ko":return t.ordinalNumber(l,{unit:"hour"});default:return St(r.length,l)}}validate(l,r){return r>=0&&r<=11}set(l,r,t){return l.getHours()>=12&&t<12?l.setHours(t+12,0,0,0):l.setHours(t,0,0,0),l}incompatibleTokens=["h","H","k","t","T"]}class pD extends et{priority=70;parse(l,r,t){switch(r){case"k":return yt(At.hour24h,l);case"ko":return t.ordinalNumber(l,{unit:"hour"});default:return St(r.length,l)}}validate(l,r){return r>=1&&r<=24}set(l,r,t){const o=t<=24?t%24:t;return l.setHours(o,0,0,0),l}incompatibleTokens=["a","b","h","H","K","t","T"]}class xD extends et{priority=60;parse(l,r,t){switch(r){case"m":return yt(At.minute,l);case"mo":return t.ordinalNumber(l,{unit:"minute"});default:return St(r.length,l)}}validate(l,r){return r>=0&&r<=59}set(l,r,t){return l.setMinutes(t,0,0),l}incompatibleTokens=["t","T"]}class hD extends et{priority=50;parse(l,r,t){switch(r){case"s":return yt(At.second,l);case"so":return t.ordinalNumber(l,{unit:"second"});default:return St(r.length,l)}}validate(l,r){return r>=0&&r<=59}set(l,r,t){return l.setSeconds(t,0),l}incompatibleTokens=["t","T"]}class vD extends et{priority=30;parse(l,r){const t=o=>Math.trunc(o*Math.pow(10,-r.length+3));return Tt(St(r.length,l),t)}set(l,r,t){return l.setMilliseconds(t),l}incompatibleTokens=["t","T"]}class bD extends et{priority=10;parse(l,r){switch(r){case"X":return hn(xn.basicOptionalMinutes,l);case"XX":return hn(xn.basic,l);case"XXXX":return hn(xn.basicOptionalSeconds,l);case"XXXXX":return hn(xn.extendedOptionalSeconds,l);default:return hn(xn.extended,l)}}set(l,r,t){return r.timestampIsSet?l:rt(l,l.getTime()-lu(l)-t)}incompatibleTokens=["t","T","x"]}class gD extends et{priority=10;parse(l,r){switch(r){case"x":return hn(xn.basicOptionalMinutes,l);case"xx":return hn(xn.basic,l);case"xxxx":return hn(xn.basicOptionalSeconds,l);case"xxxxx":return hn(xn.extendedOptionalSeconds,l);default:return hn(xn.extended,l)}}set(l,r,t){return r.timestampIsSet?l:rt(l,l.getTime()-lu(l)-t)}incompatibleTokens=["t","T","X"]}class yD extends et{priority=40;parse(l){return Hy(l)}set(l,r,t){return[rt(l,t*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class ND extends et{priority=20;parse(l){return Hy(l)}set(l,r,t){return[rt(l,t),{timestampIsSet:!0}]}incompatibleTokens="*"}const jD={G:new Bk,y:new Hk,Y:new Yk,R:new Uk,u:new qk,Q:new $k,q:new Vk,M:new Gk,L:new Qk,w:new Xk,I:new Zk,d:new tD,D:new aD,E:new nD,e:new rD,c:new sD,i:new iD,a:new oD,b:new cD,B:new uD,h:new dD,H:new mD,K:new fD,k:new pD,m:new xD,s:new hD,S:new vD,X:new bD,x:new gD,t:new yD,T:new ND},wD=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,SD=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,CD=/^'([^]*?)'?$/,kD=/''/g,DD=/\S/,MD=/[a-zA-Z]/;function AD(s,l,r,t){const o=()=>rt(t?.in||r,NaN),u=_k(),d=t?.locale??u.locale??Py,m=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??u.firstWeekContainsDate??u.locale?.options?.firstWeekContainsDate??1,x=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??u.weekStartsOn??u.locale?.options?.weekStartsOn??0;if(!l)return s?o():Ce(r,t?.in);const p={firstWeekContainsDate:m,weekStartsOn:x,locale:d},v=[new Fk(t?.in,r)],b=l.match(SD).map(y=>{const N=y[0];if(N in Tf){const D=Tf[N];return D(y,d.formatLong)}return y}).join("").match(wD),j=[];for(let y of b){const N=y[0],D=jD[N];if(D){const{incompatibleTokens:g}=D;if(Array.isArray(g)){const P=j.find(U=>g.includes(U.token)||U.token===N);if(P)throw new RangeError(`The format string mustn't contain \`${P.fullToken}\` and \`${y}\` at the same time`)}else if(D.incompatibleTokens==="*"&&j.length>0)throw new RangeError(`The format string mustn't contain \`${y}\` and any other token at the same time`);j.push({token:N,fullToken:y});const _=D.run(s,y,d.match,p);if(!_)return o();v.push(_.setter),s=_.rest}else{if(N.match(MD))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");if(y==="''"?y="'":N==="'"&&(y=TD(y)),s.indexOf(y)===0)s=s.slice(y.length);else return o()}}if(s.length>0&&DD.test(s))return o();const w=v.map(y=>y.priority).sort((y,N)=>N-y).filter((y,N,D)=>D.indexOf(y)===N).map(y=>v.filter(N=>N.priority===y).sort((N,D)=>D.subPriority-N.subPriority)).map(y=>y[0]);let M=Ce(r,t?.in);if(isNaN(+M))return o();const C={};for(const y of w){if(!y.validate(M,p))return o();const N=y.set(M,C,p);Array.isArray(N)?(M=N[0],Object.assign(C,N[1])):M=N}return M}function TD(s){return s.match(CD)[1].replace(kD,"'")}function ED(s,l,r){const[t,o]=ar(r?.in,s,l);return t.getFullYear()===o.getFullYear()&&t.getMonth()===o.getMonth()}function _D(s,l,r){const[t,o]=ar(r?.in,s,l);return+Af(t)==+Af(o)}function OD(s,l,r){const[t,o]=ar(r?.in,s,l);return t.getFullYear()===o.getFullYear()}function Gi(s,l,r){const t=+Ce(s,r?.in),[o,u]=[+Ce(l.start,r?.in),+Ce(l.end,r?.in)].sort((d,m)=>d-m);return t>=o&&t<=u}function RD(s,l,r){return en(s,-1,r)}function ID(s,l){const r=()=>rt(l?.in,NaN),o=FD(s);let u;if(o.date){const p=BD(o.date,2);u=HD(p.restDateString,p.year)}if(!u||isNaN(+u))return r();const d=+u;let m=0,x;if(o.time&&(m=YD(o.time),isNaN(m)))return r();if(o.timezone){if(x=UD(o.timezone),isNaN(x))return r()}else{const p=new Date(d+m),v=Ce(0,l?.in);return v.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),v.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),v}return Ce(d+m+x,l?.in)}const wc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},LD=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,PD=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,zD=/^([+-])(\d{2})(?::?(\d{2}))?$/;function FD(s){const l={},r=s.split(wc.dateTimeDelimiter);let t;if(r.length>2)return l;if(/:/.test(r[0])?t=r[0]:(l.date=r[0],t=r[1],wc.timeZoneDelimiter.test(l.date)&&(l.date=s.split(wc.timeZoneDelimiter)[0],t=s.substr(l.date.length,s.length))),t){const o=wc.timezone.exec(t);o?(l.time=t.replace(o[1],""),l.timezone=o[1]):l.time=t}return l}function BD(s,l){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+l)+"})|(\\d{2}|[+-]\\d{"+(2+l)+"})$)"),t=s.match(r);if(!t)return{year:NaN,restDateString:""};const o=t[1]?parseInt(t[1]):null,u=t[2]?parseInt(t[2]):null;return{year:u===null?o:u*100,restDateString:s.slice((t[1]||t[2]).length)}}function HD(s,l){if(l===null)return new Date(NaN);const r=s.match(LD);if(!r)return new Date(NaN);const t=!!r[4],o=_i(r[1]),u=_i(r[2])-1,d=_i(r[3]),m=_i(r[4]),x=_i(r[5])-1;if(t)return QD(l,m,x)?qD(l,m,x):new Date(NaN);{const p=new Date(0);return!VD(l,u,d)||!GD(l,o)?new Date(NaN):(p.setUTCFullYear(l,u,Math.max(o,d)),p)}}function _i(s){return s?parseInt(s):1}function YD(s){const l=s.match(PD);if(!l)return NaN;const r=of(l[1]),t=of(l[2]),o=of(l[3]);return KD(r,t,o)?r*Du+t*ku+o*1e3:NaN}function of(s){return s&&parseFloat(s.replace(",","."))||0}function UD(s){if(s==="Z")return 0;const l=s.match(zD);if(!l)return 0;const r=l[1]==="+"?-1:1,t=parseInt(l[2]),o=l[3]&&parseInt(l[3])||0;return XD(t,o)?r*(t*Du+o*ku):NaN}function qD(s,l,r){const t=new Date(0);t.setUTCFullYear(s,0,4);const o=t.getUTCDay()||7,u=(l-1)*7+r+1-o;return t.setUTCDate(t.getUTCDate()+u),t}const $D=[31,null,31,30,31,30,31,31,30,31,30,31];function qy(s){return s%400===0||s%4===0&&s%100!==0}function VD(s,l,r){return l>=0&&l<=11&&r>=1&&r<=($D[l]||(qy(s)?29:28))}function GD(s,l){return l>=1&&l<=(qy(s)?366:365)}function QD(s,l,r){return l>=1&&l<=53&&r>=0&&r<=6}function KD(s,l,r){return s===24?l===0&&r===0:r>=0&&r<60&&l>=0&&l<60&&s>=0&&s<25}function XD(s,l){return l>=0&&l<=59}function Ea(s,l,r){const t=Ce(s,r?.in),o=t.getFullYear(),u=t.getDate(),d=rt(s,0);d.setFullYear(o,l,15),d.setHours(0,0,0,0);const m=Ek(d);return t.setMonth(l,Math.min(u,m)),t}function Gc(s,l,r){const t=Ce(s,r?.in);return t.setHours(l),t}function Qc(s,l,r){const t=Ce(s,r?.in);return t.setMinutes(l),t}function ml(s,l,r){const t=Ce(s,r?.in),o=Math.trunc(t.getMonth()/3)+1,u=l-o;return Ea(t,t.getMonth()+u*3)}function Kc(s,l,r){const t=Ce(s,r?.in);return t.setSeconds(l),t}function fn(s,l,r){const t=Ce(s,r?.in);return isNaN(+t)?rt(s,NaN):(t.setFullYear(l),t)}function ps(s,l,r){return nn(s,-l,r)}function $y(s,l,r){return np(s,-1,r)}function K0(s,l,r){return iu(s,-1,r)}function Ir(s,l,r){return tn(s,-l,r)}function Au(){return typeof window<"u"}function _l(s){return Vy(s)?(s.nodeName||"").toLowerCase():"#document"}function Oa(s){var l;return(s==null||(l=s.ownerDocument)==null?void 0:l.defaultView)||window}function kn(s){var l;return(l=(Vy(s)?s.ownerDocument:s.document)||window.document)==null?void 0:l.documentElement}function Vy(s){return Au()?s instanceof Node||s instanceof Oa(s).Node:!1}function ia(s){return Au()?s instanceof Element||s instanceof Oa(s).Element:!1}function jn(s){return Au()?s instanceof HTMLElement||s instanceof Oa(s).HTMLElement:!1}function X0(s){return!Au()||typeof ShadowRoot>"u"?!1:s instanceof ShadowRoot||s instanceof Oa(s).ShadowRoot}const WD=new Set(["inline","contents"]);function Ji(s){const{overflow:l,overflowX:r,overflowY:t,display:o}=Va(s);return/auto|scroll|overlay|hidden|clip/.test(l+t+r)&&!WD.has(o)}const ZD=new Set(["table","td","th"]);function JD(s){return ZD.has(_l(s))}const eM=[":popover-open",":modal"];function Tu(s){return eM.some(l=>{try{return s.matches(l)}catch{return!1}})}const tM=["transform","translate","scale","rotate","perspective"],aM=["transform","translate","scale","rotate","perspective","filter"],nM=["paint","layout","strict","content"];function op(s){const l=cp(),r=ia(s)?Va(s):s;return tM.some(t=>r[t]?r[t]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!l&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!l&&(r.filter?r.filter!=="none":!1)||aM.some(t=>(r.willChange||"").includes(t))||nM.some(t=>(r.contain||"").includes(t))}function rM(s){let l=Lr(s);for(;jn(l)&&!jl(l);){if(op(l))return l;if(Tu(l))return null;l=Lr(l)}return null}function cp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const sM=new Set(["html","body","#document"]);function jl(s){return sM.has(_l(s))}function Va(s){return Oa(s).getComputedStyle(s)}function Eu(s){return ia(s)?{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}:{scrollLeft:s.scrollX,scrollTop:s.scrollY}}function Lr(s){if(_l(s)==="html")return s;const l=s.assignedSlot||s.parentNode||X0(s)&&s.host||kn(s);return X0(l)?l.host:l}function Gy(s){const l=Lr(s);return jl(l)?s.ownerDocument?s.ownerDocument.body:s.body:jn(l)&&Ji(l)?l:Gy(l)}function Qi(s,l,r){var t;l===void 0&&(l=[]),r===void 0&&(r=!0);const o=Gy(s),u=o===((t=s.ownerDocument)==null?void 0:t.body),d=Oa(o);if(u){const m=_f(d);return l.concat(d,d.visualViewport||[],Ji(o)?o:[],m&&r?Qi(m):[])}return l.concat(o,Qi(o,[],r))}function _f(s){return s.parent&&Object.getPrototypeOf(s.parent)?s.frameElement:null}const wl=Math.min,xs=Math.max,mu=Math.round,Sc=Math.floor,Nn=s=>({x:s,y:s}),lM={left:"right",right:"left",bottom:"top",top:"bottom"},iM={start:"end",end:"start"};function oM(s,l,r){return xs(s,wl(l,r))}function _u(s,l){return typeof s=="function"?s(l):s}function Sl(s){return s.split("-")[0]}function eo(s){return s.split("-")[1]}function cM(s){return s==="x"?"y":"x"}function up(s){return s==="y"?"height":"width"}const uM=new Set(["top","bottom"]);function ds(s){return uM.has(Sl(s))?"y":"x"}function dp(s){return cM(ds(s))}function dM(s,l,r){r===void 0&&(r=!1);const t=eo(s),o=dp(s),u=up(o);let d=o==="x"?t===(r?"end":"start")?"right":"left":t==="start"?"bottom":"top";return l.reference[u]>l.floating[u]&&(d=fu(d)),[d,fu(d)]}function mM(s){const l=fu(s);return[Of(s),l,Of(l)]}function Of(s){return s.replace(/start|end/g,l=>iM[l])}const W0=["left","right"],Z0=["right","left"],fM=["top","bottom"],pM=["bottom","top"];function xM(s,l,r){switch(s){case"top":case"bottom":return r?l?Z0:W0:l?W0:Z0;case"left":case"right":return l?fM:pM;default:return[]}}function hM(s,l,r,t){const o=eo(s);let u=xM(Sl(s),r==="start",t);return o&&(u=u.map(d=>d+"-"+o),l&&(u=u.concat(u.map(Of)))),u}function fu(s){return s.replace(/left|right|bottom|top/g,l=>lM[l])}function vM(s){return{top:0,right:0,bottom:0,left:0,...s}}function Qy(s){return typeof s!="number"?vM(s):{top:s,right:s,bottom:s,left:s}}function pu(s){const{x:l,y:r,width:t,height:o}=s;return{width:t,height:o,top:r,left:l,right:l+t,bottom:r+o,x:l,y:r}}var bM=typeof document<"u",gM=function(){},xu=bM?S.useLayoutEffect:gM;const yM={...og},NM=yM.useInsertionEffect,jM=NM||(s=>s());function wM(s){const l=S.useRef(()=>{});return jM(()=>{l.current=s}),S.useCallback(function(){for(var r=arguments.length,t=new Array(r),o=0;o<r;o++)t[o]=arguments[o];return l.current==null?void 0:l.current(...t)},[])}function J0(s,l,r){let{reference:t,floating:o}=s;const u=ds(l),d=dp(l),m=up(d),x=Sl(l),p=u==="y",v=t.x+t.width/2-o.width/2,b=t.y+t.height/2-o.height/2,j=t[m]/2-o[m]/2;let w;switch(x){case"top":w={x:v,y:t.y-o.height};break;case"bottom":w={x:v,y:t.y+t.height};break;case"right":w={x:t.x+t.width,y:b};break;case"left":w={x:t.x-o.width,y:b};break;default:w={x:t.x,y:t.y}}switch(eo(l)){case"start":w[d]-=j*(r&&p?-1:1);break;case"end":w[d]+=j*(r&&p?-1:1);break}return w}async function SM(s,l){var r;l===void 0&&(l={});const{x:t,y:o,platform:u,rects:d,elements:m,strategy:x}=s,{boundary:p="clippingAncestors",rootBoundary:v="viewport",elementContext:b="floating",altBoundary:j=!1,padding:w=0}=_u(l,s),M=Qy(w),y=m[j?b==="floating"?"reference":"floating":b],N=pu(await u.getClippingRect({element:(r=await(u.isElement==null?void 0:u.isElement(y)))==null||r?y:y.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(m.floating)),boundary:p,rootBoundary:v,strategy:x})),D=b==="floating"?{x:t,y:o,width:d.floating.width,height:d.floating.height}:d.reference,g=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m.floating)),_=await(u.isElement==null?void 0:u.isElement(g))?await(u.getScale==null?void 0:u.getScale(g))||{x:1,y:1}:{x:1,y:1},P=pu(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:m,rect:D,offsetParent:g,strategy:x}):D);return{top:(N.top-P.top+M.top)/_.y,bottom:(P.bottom-N.bottom+M.bottom)/_.y,left:(N.left-P.left+M.left)/_.x,right:(P.right-N.right+M.right)/_.x}}const CM=async(s,l,r)=>{const{placement:t="bottom",strategy:o="absolute",middleware:u=[],platform:d}=r,m=u.filter(Boolean),x=await(d.isRTL==null?void 0:d.isRTL(l));let p=await d.getElementRects({reference:s,floating:l,strategy:o}),{x:v,y:b}=J0(p,t,x),j=t,w={},M=0;for(let y=0;y<m.length;y++){var C;const{name:N,fn:D}=m[y],{x:g,y:_,data:P,reset:U}=await D({x:v,y:b,initialPlacement:t,placement:j,strategy:o,middlewareData:w,rects:p,platform:{...d,detectOverflow:(C=d.detectOverflow)!=null?C:SM},elements:{reference:s,floating:l}});v=g??v,b=_??b,w={...w,[N]:{...w[N],...P}},U&&M<=50&&(M++,typeof U=="object"&&(U.placement&&(j=U.placement),U.rects&&(p=U.rects===!0?await d.getElementRects({reference:s,floating:l,strategy:o}):U.rects),{x:v,y:b}=J0(p,j,x)),y=-1)}return{x:v,y:b,placement:j,strategy:o,middlewareData:w}},kM=s=>({name:"arrow",options:s,async fn(l){const{x:r,y:t,placement:o,rects:u,platform:d,elements:m,middlewareData:x}=l,{element:p,padding:v=0}=_u(s,l)||{};if(p==null)return{};const b=Qy(v),j={x:r,y:t},w=dp(o),M=up(w),C=await d.getDimensions(p),y=w==="y",N=y?"top":"left",D=y?"bottom":"right",g=y?"clientHeight":"clientWidth",_=u.reference[M]+u.reference[w]-j[w]-u.floating[M],P=j[w]-u.reference[w],U=await(d.getOffsetParent==null?void 0:d.getOffsetParent(p));let G=U?U[g]:0;(!G||!await(d.isElement==null?void 0:d.isElement(U)))&&(G=m.floating[g]||u.floating[M]);const E=_/2-P/2,L=G/2-C[M]/2-1,B=wl(b[N],L),W=wl(b[D],L),A=B,se=G-C[M]-W,q=G/2-C[M]/2+E,J=oM(A,q,se),z=!x.arrow&&eo(o)!=null&&q!==J&&u.reference[M]/2-(q<A?B:W)-C[M]/2<0,O=z?q<A?q-A:q-se:0;return{[w]:j[w]+O,data:{[w]:J,centerOffset:q-J-O,...z&&{alignmentOffset:O}},reset:z}}}),DM=function(s){return s===void 0&&(s={}),{name:"flip",options:s,async fn(l){var r,t;const{placement:o,middlewareData:u,rects:d,initialPlacement:m,platform:x,elements:p}=l,{mainAxis:v=!0,crossAxis:b=!0,fallbackPlacements:j,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:M="none",flipAlignment:C=!0,...y}=_u(s,l);if((r=u.arrow)!=null&&r.alignmentOffset)return{};const N=Sl(o),D=ds(m),g=Sl(m)===m,_=await(x.isRTL==null?void 0:x.isRTL(p.floating)),P=j||(g||!C?[fu(m)]:mM(m)),U=M!=="none";!j&&U&&P.push(...hM(m,C,M,_));const G=[m,...P],E=await x.detectOverflow(l,y),L=[];let B=((t=u.flip)==null?void 0:t.overflows)||[];if(v&&L.push(E[N]),b){const q=dM(o,d,_);L.push(E[q[0]],E[q[1]])}if(B=[...B,{placement:o,overflows:L}],!L.every(q=>q<=0)){var W,A;const q=(((W=u.flip)==null?void 0:W.index)||0)+1,J=G[q];if(J&&(!(b==="alignment"?D!==ds(J):!1)||B.every(R=>ds(R.placement)===D?R.overflows[0]>0:!0)))return{data:{index:q,overflows:B},reset:{placement:J}};let z=(A=B.filter(O=>O.overflows[0]<=0).sort((O,R)=>O.overflows[1]-R.overflows[1])[0])==null?void 0:A.placement;if(!z)switch(w){case"bestFit":{var se;const O=(se=B.filter(R=>{if(U){const ce=ds(R.placement);return ce===D||ce==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(ce=>ce>0).reduce((ce,ve)=>ce+ve,0)]).sort((R,ce)=>R[1]-ce[1])[0])==null?void 0:se[0];O&&(z=O);break}case"initialPlacement":z=m;break}if(o!==z)return{reset:{placement:z}}}return{}}}},MM=new Set(["left","top"]);async function AM(s,l){const{placement:r,platform:t,elements:o}=s,u=await(t.isRTL==null?void 0:t.isRTL(o.floating)),d=Sl(r),m=eo(r),x=ds(r)==="y",p=MM.has(d)?-1:1,v=u&&x?-1:1,b=_u(l,s);let{mainAxis:j,crossAxis:w,alignmentAxis:M}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return m&&typeof M=="number"&&(w=m==="end"?M*-1:M),x?{x:w*v,y:j*p}:{x:j*p,y:w*v}}const TM=function(s){return s===void 0&&(s=0),{name:"offset",options:s,async fn(l){var r,t;const{x:o,y:u,placement:d,middlewareData:m}=l,x=await AM(l,s);return d===((r=m.offset)==null?void 0:r.placement)&&(t=m.arrow)!=null&&t.alignmentOffset?{}:{x:o+x.x,y:u+x.y,data:{...x,placement:d}}}}};function Ky(s){const l=Va(s);let r=parseFloat(l.width)||0,t=parseFloat(l.height)||0;const o=jn(s),u=o?s.offsetWidth:r,d=o?s.offsetHeight:t,m=mu(r)!==u||mu(t)!==d;return m&&(r=u,t=d),{width:r,height:t,$:m}}function mp(s){return ia(s)?s:s.contextElement}function xl(s){const l=mp(s);if(!jn(l))return Nn(1);const r=l.getBoundingClientRect(),{width:t,height:o,$:u}=Ky(l);let d=(u?mu(r.width):r.width)/t,m=(u?mu(r.height):r.height)/o;return(!d||!Number.isFinite(d))&&(d=1),(!m||!Number.isFinite(m))&&(m=1),{x:d,y:m}}const EM=Nn(0);function Xy(s){const l=Oa(s);return!cp()||!l.visualViewport?EM:{x:l.visualViewport.offsetLeft,y:l.visualViewport.offsetTop}}function _M(s,l,r){return l===void 0&&(l=!1),!r||l&&r!==Oa(s)?!1:l}function vs(s,l,r,t){l===void 0&&(l=!1),r===void 0&&(r=!1);const o=s.getBoundingClientRect(),u=mp(s);let d=Nn(1);l&&(t?ia(t)&&(d=xl(t)):d=xl(s));const m=_M(u,r,t)?Xy(u):Nn(0);let x=(o.left+m.x)/d.x,p=(o.top+m.y)/d.y,v=o.width/d.x,b=o.height/d.y;if(u){const j=Oa(u),w=t&&ia(t)?Oa(t):t;let M=j,C=_f(M);for(;C&&t&&w!==M;){const y=xl(C),N=C.getBoundingClientRect(),D=Va(C),g=N.left+(C.clientLeft+parseFloat(D.paddingLeft))*y.x,_=N.top+(C.clientTop+parseFloat(D.paddingTop))*y.y;x*=y.x,p*=y.y,v*=y.x,b*=y.y,x+=g,p+=_,M=Oa(C),C=_f(M)}}return pu({width:v,height:b,x,y:p})}function Ou(s,l){const r=Eu(s).scrollLeft;return l?l.left+r:vs(kn(s)).left+r}function Wy(s,l){const r=s.getBoundingClientRect(),t=r.left+l.scrollLeft-Ou(s,r),o=r.top+l.scrollTop;return{x:t,y:o}}function OM(s){let{elements:l,rect:r,offsetParent:t,strategy:o}=s;const u=o==="fixed",d=kn(t),m=l?Tu(l.floating):!1;if(t===d||m&&u)return r;let x={scrollLeft:0,scrollTop:0},p=Nn(1);const v=Nn(0),b=jn(t);if((b||!b&&!u)&&((_l(t)!=="body"||Ji(d))&&(x=Eu(t)),jn(t))){const w=vs(t);p=xl(t),v.x=w.x+t.clientLeft,v.y=w.y+t.clientTop}const j=d&&!b&&!u?Wy(d,x):Nn(0);return{width:r.width*p.x,height:r.height*p.y,x:r.x*p.x-x.scrollLeft*p.x+v.x+j.x,y:r.y*p.y-x.scrollTop*p.y+v.y+j.y}}function RM(s){return Array.from(s.getClientRects())}function IM(s){const l=kn(s),r=Eu(s),t=s.ownerDocument.body,o=xs(l.scrollWidth,l.clientWidth,t.scrollWidth,t.clientWidth),u=xs(l.scrollHeight,l.clientHeight,t.scrollHeight,t.clientHeight);let d=-r.scrollLeft+Ou(s);const m=-r.scrollTop;return Va(t).direction==="rtl"&&(d+=xs(l.clientWidth,t.clientWidth)-o),{width:o,height:u,x:d,y:m}}const eb=25;function LM(s,l){const r=Oa(s),t=kn(s),o=r.visualViewport;let u=t.clientWidth,d=t.clientHeight,m=0,x=0;if(o){u=o.width,d=o.height;const v=cp();(!v||v&&l==="fixed")&&(m=o.offsetLeft,x=o.offsetTop)}const p=Ou(t);if(p<=0){const v=t.ownerDocument,b=v.body,j=getComputedStyle(b),w=v.compatMode==="CSS1Compat"&&parseFloat(j.marginLeft)+parseFloat(j.marginRight)||0,M=Math.abs(t.clientWidth-b.clientWidth-w);M<=eb&&(u-=M)}else p<=eb&&(u+=p);return{width:u,height:d,x:m,y:x}}const PM=new Set(["absolute","fixed"]);function zM(s,l){const r=vs(s,!0,l==="fixed"),t=r.top+s.clientTop,o=r.left+s.clientLeft,u=jn(s)?xl(s):Nn(1),d=s.clientWidth*u.x,m=s.clientHeight*u.y,x=o*u.x,p=t*u.y;return{width:d,height:m,x,y:p}}function tb(s,l,r){let t;if(l==="viewport")t=LM(s,r);else if(l==="document")t=IM(kn(s));else if(ia(l))t=zM(l,r);else{const o=Xy(s);t={x:l.x-o.x,y:l.y-o.y,width:l.width,height:l.height}}return pu(t)}function Zy(s,l){const r=Lr(s);return r===l||!ia(r)||jl(r)?!1:Va(r).position==="fixed"||Zy(r,l)}function FM(s,l){const r=l.get(s);if(r)return r;let t=Qi(s,[],!1).filter(m=>ia(m)&&_l(m)!=="body"),o=null;const u=Va(s).position==="fixed";let d=u?Lr(s):s;for(;ia(d)&&!jl(d);){const m=Va(d),x=op(d);!x&&m.position==="fixed"&&(o=null),(u?!x&&!o:!x&&m.position==="static"&&!!o&&PM.has(o.position)||Ji(d)&&!x&&Zy(s,d))?t=t.filter(v=>v!==d):o=m,d=Lr(d)}return l.set(s,t),t}function BM(s){let{element:l,boundary:r,rootBoundary:t,strategy:o}=s;const d=[...r==="clippingAncestors"?Tu(l)?[]:FM(l,this._c):[].concat(r),t],m=d[0],x=d.reduce((p,v)=>{const b=tb(l,v,o);return p.top=xs(b.top,p.top),p.right=wl(b.right,p.right),p.bottom=wl(b.bottom,p.bottom),p.left=xs(b.left,p.left),p},tb(l,m,o));return{width:x.right-x.left,height:x.bottom-x.top,x:x.left,y:x.top}}function HM(s){const{width:l,height:r}=Ky(s);return{width:l,height:r}}function YM(s,l,r){const t=jn(l),o=kn(l),u=r==="fixed",d=vs(s,!0,u,l);let m={scrollLeft:0,scrollTop:0};const x=Nn(0);function p(){x.x=Ou(o)}if(t||!t&&!u)if((_l(l)!=="body"||Ji(o))&&(m=Eu(l)),t){const w=vs(l,!0,u,l);x.x=w.x+l.clientLeft,x.y=w.y+l.clientTop}else o&&p();u&&!t&&o&&p();const v=o&&!t&&!u?Wy(o,m):Nn(0),b=d.left+m.scrollLeft-x.x-v.x,j=d.top+m.scrollTop-x.y-v.y;return{x:b,y:j,width:d.width,height:d.height}}function cf(s){return Va(s).position==="static"}function ab(s,l){if(!jn(s)||Va(s).position==="fixed")return null;if(l)return l(s);let r=s.offsetParent;return kn(s)===r&&(r=r.ownerDocument.body),r}function Jy(s,l){const r=Oa(s);if(Tu(s))return r;if(!jn(s)){let o=Lr(s);for(;o&&!jl(o);){if(ia(o)&&!cf(o))return o;o=Lr(o)}return r}let t=ab(s,l);for(;t&&JD(t)&&cf(t);)t=ab(t,l);return t&&jl(t)&&cf(t)&&!op(t)?r:t||rM(s)||r}const UM=async function(s){const l=this.getOffsetParent||Jy,r=this.getDimensions,t=await r(s.floating);return{reference:YM(s.reference,await l(s.floating),s.strategy),floating:{x:0,y:0,width:t.width,height:t.height}}};function qM(s){return Va(s).direction==="rtl"}const $M={convertOffsetParentRelativeRectToViewportRelativeRect:OM,getDocumentElement:kn,getClippingRect:BM,getOffsetParent:Jy,getElementRects:UM,getClientRects:RM,getDimensions:HM,getScale:xl,isElement:ia,isRTL:qM};function e1(s,l){return s.x===l.x&&s.y===l.y&&s.width===l.width&&s.height===l.height}function VM(s,l){let r=null,t;const o=kn(s);function u(){var m;clearTimeout(t),(m=r)==null||m.disconnect(),r=null}function d(m,x){m===void 0&&(m=!1),x===void 0&&(x=1),u();const p=s.getBoundingClientRect(),{left:v,top:b,width:j,height:w}=p;if(m||l(),!j||!w)return;const M=Sc(b),C=Sc(o.clientWidth-(v+j)),y=Sc(o.clientHeight-(b+w)),N=Sc(v),g={rootMargin:-M+"px "+-C+"px "+-y+"px "+-N+"px",threshold:xs(0,wl(1,x))||1};let _=!0;function P(U){const G=U[0].intersectionRatio;if(G!==x){if(!_)return d();G?d(!1,G):t=setTimeout(()=>{d(!1,1e-7)},1e3)}G===1&&!e1(p,s.getBoundingClientRect())&&d(),_=!1}try{r=new IntersectionObserver(P,{...g,root:o.ownerDocument})}catch{r=new IntersectionObserver(P,g)}r.observe(s)}return d(!0),u}function GM(s,l,r,t){t===void 0&&(t={});const{ancestorScroll:o=!0,ancestorResize:u=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:m=typeof IntersectionObserver=="function",animationFrame:x=!1}=t,p=mp(s),v=o||u?[...p?Qi(p):[],...Qi(l)]:[];v.forEach(N=>{o&&N.addEventListener("scroll",r,{passive:!0}),u&&N.addEventListener("resize",r)});const b=p&&m?VM(p,r):null;let j=-1,w=null;d&&(w=new ResizeObserver(N=>{let[D]=N;D&&D.target===p&&w&&(w.unobserve(l),cancelAnimationFrame(j),j=requestAnimationFrame(()=>{var g;(g=w)==null||g.observe(l)})),r()}),p&&!x&&w.observe(p),w.observe(l));let M,C=x?vs(s):null;x&&y();function y(){const N=vs(s);C&&!e1(C,N)&&r(),C=N,M=requestAnimationFrame(y)}return r(),()=>{var N;v.forEach(D=>{o&&D.removeEventListener("scroll",r),u&&D.removeEventListener("resize",r)}),b?.(),(N=w)==null||N.disconnect(),w=null,x&&cancelAnimationFrame(M)}}const QM=TM,KM=DM,nb=kM,XM=(s,l,r)=>{const t=new Map,o={platform:$M,...r},u={...o.platform,_c:t};return CM(s,l,{...o,platform:u})};var WM=typeof document<"u",ZM=function(){},Xc=WM?S.useLayoutEffect:ZM;function hu(s,l){if(s===l)return!0;if(typeof s!=typeof l)return!1;if(typeof s=="function"&&s.toString()===l.toString())return!0;let r,t,o;if(s&&l&&typeof s=="object"){if(Array.isArray(s)){if(r=s.length,r!==l.length)return!1;for(t=r;t--!==0;)if(!hu(s[t],l[t]))return!1;return!0}if(o=Object.keys(s),r=o.length,r!==Object.keys(l).length)return!1;for(t=r;t--!==0;)if(!{}.hasOwnProperty.call(l,o[t]))return!1;for(t=r;t--!==0;){const u=o[t];if(!(u==="_owner"&&s.$$typeof)&&!hu(s[u],l[u]))return!1}return!0}return s!==s&&l!==l}function t1(s){return typeof window>"u"?1:(s.ownerDocument.defaultView||window).devicePixelRatio||1}function rb(s,l){const r=t1(s);return Math.round(l*r)/r}function uf(s){const l=S.useRef(s);return Xc(()=>{l.current=s}),l}function JM(s){s===void 0&&(s={});const{placement:l="bottom",strategy:r="absolute",middleware:t=[],platform:o,elements:{reference:u,floating:d}={},transform:m=!0,whileElementsMounted:x,open:p}=s,[v,b]=S.useState({x:0,y:0,strategy:r,placement:l,middlewareData:{},isPositioned:!1}),[j,w]=S.useState(t);hu(j,t)||w(t);const[M,C]=S.useState(null),[y,N]=S.useState(null),D=S.useCallback(R=>{R!==U.current&&(U.current=R,C(R))},[]),g=S.useCallback(R=>{R!==G.current&&(G.current=R,N(R))},[]),_=u||M,P=d||y,U=S.useRef(null),G=S.useRef(null),E=S.useRef(v),L=x!=null,B=uf(x),W=uf(o),A=uf(p),se=S.useCallback(()=>{if(!U.current||!G.current)return;const R={placement:l,strategy:r,middleware:j};W.current&&(R.platform=W.current),XM(U.current,G.current,R).then(ce=>{const ve={...ce,isPositioned:A.current!==!1};q.current&&!hu(E.current,ve)&&(E.current=ve,Mg.flushSync(()=>{b(ve)}))})},[j,l,r,W,A]);Xc(()=>{p===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,b(R=>({...R,isPositioned:!1})))},[p]);const q=S.useRef(!1);Xc(()=>(q.current=!0,()=>{q.current=!1}),[]),Xc(()=>{if(_&&(U.current=_),P&&(G.current=P),_&&P){if(B.current)return B.current(_,P,se);se()}},[_,P,se,B,L]);const J=S.useMemo(()=>({reference:U,floating:G,setReference:D,setFloating:g}),[D,g]),z=S.useMemo(()=>({reference:_,floating:P}),[_,P]),O=S.useMemo(()=>{const R={position:r,left:0,top:0};if(!z.floating)return R;const ce=rb(z.floating,v.x),ve=rb(z.floating,v.y);return m?{...R,transform:"translate("+ce+"px, "+ve+"px)",...t1(z.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ce,top:ve}},[r,m,z.floating,v.x,v.y]);return S.useMemo(()=>({...v,update:se,refs:J,elements:z,floatingStyles:O}),[v,se,J,z,O])}const e4=s=>{function l(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:s,fn(r){const{element:t,padding:o}=typeof s=="function"?s(r):s;return t&&l(t)?t.current!=null?nb({element:t.current,padding:o}).fn(r):{}:t?nb({element:t,padding:o}).fn(r):{}}}},t4=(s,l)=>({...QM(s),options:[s,l]}),a4=(s,l)=>({...KM(s),options:[s,l]}),n4=(s,l)=>({...e4(s),options:[s,l]}),r4={...og};let sb=!1,s4=0;const lb=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+s4++;function l4(){const[s,l]=S.useState(()=>sb?lb():void 0);return xu(()=>{s==null&&l(lb())},[]),S.useEffect(()=>{sb=!0},[]),s}const i4=r4.useId,a1=i4||l4,o4=S.forwardRef(function(l,r){const{context:{placement:t,elements:{floating:o},middlewareData:{arrow:u,shift:d}},width:m=14,height:x=7,tipRadius:p=0,strokeWidth:v=0,staticOffset:b,stroke:j,d:w,style:{transform:M,...C}={},...y}=l,N=a1(),[D,g]=S.useState(!1);if(xu(()=>{if(!o)return;Va(o).direction==="rtl"&&g(!0)},[o]),!o)return null;const[_,P]=t.split("-"),U=_==="top"||_==="bottom";let G=b;(U&&d!=null&&d.x||!U&&d!=null&&d.y)&&(G=null);const E=v*2,L=E/2,B=m/2*(p/-8+1),W=x/2*p/4,A=!!w,se=G&&P==="end"?"bottom":"top";let q=G&&P==="end"?"right":"left";G&&D&&(q=P==="end"?"left":"right");const J=u?.x!=null?G||u.x:"",z=u?.y!=null?G||u.y:"",O=w||"M0,0"+(" H"+m)+(" L"+(m-B)+","+(x-W))+(" Q"+m/2+","+x+" "+B+","+(x-W))+" Z",R={top:A?"rotate(180deg)":"",left:A?"rotate(90deg)":"rotate(-90deg)",bottom:A?"":"rotate(180deg)",right:A?"rotate(-90deg)":"rotate(90deg)"}[_];return n.jsxs("svg",{...y,"aria-hidden":!0,ref:r,width:A?m:m+E,height:m,viewBox:"0 0 "+m+" "+(x>m?x:m),style:{position:"absolute",pointerEvents:"none",[q]:J,[se]:z,[_]:U||A?"100%":"calc(100% - "+E/2+"px)",transform:[R,M].filter(ce=>!!ce).join(" "),...C},children:[E>0&&n.jsx("path",{clipPath:"url(#"+N+")",fill:"none",stroke:j,strokeWidth:E+(w?0:1),d:O}),n.jsx("path",{stroke:E&&!w?y.fill:"none",d:O}),n.jsx("clipPath",{id:N,children:n.jsx("rect",{x:-L,y:L*(A?-1:1),width:m+E,height:m})})]})});function c4(){const s=new Map;return{emit(l,r){var t;(t=s.get(l))==null||t.forEach(o=>o(r))},on(l,r){s.has(l)||s.set(l,new Set),s.get(l).add(r)},off(l,r){var t;(t=s.get(l))==null||t.delete(r)}}}const u4=S.createContext(null),d4=S.createContext(null),m4=()=>{var s;return((s=S.useContext(u4))==null?void 0:s.id)||null},f4=()=>S.useContext(d4);function p4(s){const{open:l=!1,onOpenChange:r,elements:t}=s,o=a1(),u=S.useRef({}),[d]=S.useState(()=>c4()),m=m4()!=null,[x,p]=S.useState(t.reference),v=wM((w,M,C)=>{u.current.openEvent=w?M:void 0,d.emit("openchange",{open:w,event:M,reason:C,nested:m}),r?.(w,M,C)}),b=S.useMemo(()=>({setPositionReference:p}),[]),j=S.useMemo(()=>({reference:x||t.reference||null,floating:t.floating||null,domReference:t.reference}),[x,t.reference,t.floating]);return S.useMemo(()=>({dataRef:u,open:l,onOpenChange:v,elements:j,events:d,floatingId:o,refs:b}),[l,v,j,d,o,b])}function x4(s){s===void 0&&(s={});const{nodeId:l}=s,r=p4({...s,elements:{reference:null,floating:null,...s.elements}}),t=s.rootContext||r,o=t.elements,[u,d]=S.useState(null),[m,x]=S.useState(null),v=o?.domReference||u,b=S.useRef(null),j=f4();xu(()=>{v&&(b.current=v)},[v]);const w=JM({...s,elements:{...o,...m&&{reference:m}}}),M=S.useCallback(g=>{const _=ia(g)?{getBoundingClientRect:()=>g.getBoundingClientRect(),getClientRects:()=>g.getClientRects(),contextElement:g}:g;x(_),w.refs.setReference(_)},[w.refs]),C=S.useCallback(g=>{(ia(g)||g===null)&&(b.current=g,d(g)),(ia(w.refs.reference.current)||w.refs.reference.current===null||g!==null&&!ia(g))&&w.refs.setReference(g)},[w.refs]),y=S.useMemo(()=>({...w.refs,setReference:C,setPositionReference:M,domReference:b}),[w.refs,C,M]),N=S.useMemo(()=>({...w.elements,domReference:v}),[w.elements,v]),D=S.useMemo(()=>({...w,...t,refs:y,elements:N,nodeId:l}),[w,y,N,l,t]);return xu(()=>{t.dataRef.current.floatingContext=D;const g=j?.nodesRef.current.find(_=>_.id===l);g&&(g.context=D)}),S.useMemo(()=>({...w,context:D,refs:y,elements:N}),[w,y,N,D])}var Rf=function(l,r){return Rf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(t[u]=o[u])},Rf(l,r)};function Kt(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");Rf(s,l);function r(){this.constructor=s}s.prototype=l===null?Object.create(l):(r.prototype=l.prototype,new r)}var ze=function(){return ze=Object.assign||function(r){for(var t,o=1,u=arguments.length;o<u;o++){t=arguments[o];for(var d in t)Object.prototype.hasOwnProperty.call(t,d)&&(r[d]=t[d])}return r},ze.apply(this,arguments)};function bn(s,l,r){if(r||arguments.length===2)for(var t=0,o=l.length,u;t<o;t++)(u||!(t in l))&&(u||(u=Array.prototype.slice.call(l,0,t)),u[t]=l[t]);return s.concat(u||Array.prototype.slice.call(l))}var h4=function(s){var l=s.showTimeSelectOnly,r=l===void 0?!1:l,t=s.showTime,o=t===void 0?!1:t,u=s.className,d=s.children,m=s.inline,x=r?"Choose Time":"Choose Date".concat(o?" and Time":"");return ne.createElement("div",{className:u,"aria-label":x,role:m?void 0:"dialog","aria-modal":m?void 0:"true",translate:"no"},d)},v4=function(s,l){var r=S.useRef(null),t=S.useRef(s);S.useEffect(function(){t.current=s},[s]);var o=S.useCallback(function(u){var d,m=u.composed&&u.composedPath&&u.composedPath().find(function(x){return x instanceof Node})||u.target;r.current&&!r.current.contains(m)&&(l&&m instanceof HTMLElement&&m.classList.contains(l)||(d=t.current)===null||d===void 0||d.call(t,u))},[l]);return S.useEffect(function(){return document.addEventListener("mousedown",o),function(){document.removeEventListener("mousedown",o)}},[o]),r},Ru=function(s){var l=s.children,r=s.onClickOutside,t=s.className,o=s.containerRef,u=s.style,d=s.ignoreClass,m=v4(r,d);return ne.createElement("div",{className:t,style:u,ref:function(x){m.current=x,o&&(o.current=x)}},l)},Cc=null,ib=!1;function n1(){if(ib)return Cc;ib=!0;try{var s="date-fns-tz";Cc=require(s)}catch{Cc=null}return Cc}function ob(s,l){if(!l)return s;var r=n1();return r?r.toZonedTime(s,l):s}function Gn(s,l){if(!l)return s;var r=n1();return r?r.fromZonedTime(s,l):s}var be;(function(s){s.ArrowUp="ArrowUp",s.ArrowDown="ArrowDown",s.ArrowLeft="ArrowLeft",s.ArrowRight="ArrowRight",s.PageUp="PageUp",s.PageDown="PageDown",s.Home="Home",s.End="End",s.Enter="Enter",s.Space=" ",s.Tab="Tab",s.Escape="Escape",s.Backspace="Backspace",s.X="x"})(be||(be={}));function r1(){var s=typeof window<"u"?window:globalThis;return s}var to=12;function Ke(s){if(s==null)return new Date;var l=typeof s=="string"?ID(s):Ce(s);return ga(l)?l:new Date}function rs(s,l,r,t,o){o===void 0&&(o=Ke());for(var u=Cl(r)||Cl(fp()),d=Array.isArray(l)?l:[l],m=0,x=d;m<x.length;m++){var p=x[m],v=AD(s,p,o,{locale:u});if(ga(v)&&(!t||s===xt(v,p,r)))return v}if(!t&&s&&s.length>=8){var b=new Date(s);if(Nl(b))return b}return null}function b4(s,l){if(l===void 0&&(l=Ke()),!s)return null;var r=s.match(/\b(1\d{3}|2\d{3})\b/);if(!r||!r[1])return null;var t=parseInt(r[1],10),o=s.match(/(?:^|[/\-\s])?(0?[1-9]|1[0-2])(?:[/\-\s]|$)/),u=o&&o[1]?parseInt(o[1],10)-1:l.getMonth();return new Date(t,u,1)}function ga(s){return Nl(s)}function ms(s){return s==null?null:yn(s)&&Nl(s)?s:null}function xt(s,l,r){if(r==="en")return G0(s,l,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var t=r?Cl(r):void 0;return r&&!t&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),t=t||Cl(fp()),G0(s,l,{locale:t,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function ba(s,l){var r=l.dateFormat,t=l.locale,o=Array.isArray(r)&&r.length>0?r[0]:r;return s&&xt(s,o,t)||""}var s1=" - ";function g4(s,l,r){if(!s&&!l)return"";var t=s?ba(s,r):"",o=l?ba(l,r):"",u=r.rangeSeparator||s1;return"".concat(t).concat(u).concat(o)}function y4(s,l){if(!s?.length)return"";var r=s[0]?ba(s[0],l):"";if(s.length===1)return r;if(s.length===2&&s[1]){var t=ba(s[1],l);return"".concat(r,", ").concat(t)}var o=s.length-1;return"".concat(r," (+").concat(o,")")}function Qn(s,l){var r=l.hour,t=r===void 0?0:r,o=l.minute,u=o===void 0?0:o,d=l.second,m=d===void 0?0:d;return Gc(Qc(Kc(s,m),u),t)}function N4(s){return rp(s)}function j4(s,l){return xt(s,"ddd",l)}function Fi(s){return hs(s)}function Rr(s,l,r){var t=Cl(l||fp());return er(s,{locale:t,weekStartsOn:r})}function Zn(s){return Iy(s)}function Bi(s){return Mu(s)}function cb(s){return Af(s)}function ub(){return hs(Ke())}function db(s){return Oy(s)}function w4(s){return IC(s)}function S4(s){return Ry(s)}function pn(s,l){return s&&l?OD(s,l):!s&&!l}function la(s,l){return s&&l?ED(s,l):!s&&!l}function vu(s,l){return s&&l?_D(s,l):!s&&!l}function $e(s,l){return s&&l?OC(s,l):!s&&!l}function fs(s,l){return s&&l?Rk(s,l):!s&&!l}function os(s,l,r){var t,o=hs(l),u=Oy(r);try{t=Gi(s,{start:o,end:u})}catch{t=!1}return t}function fp(){var s=r1();return s.__localeId__}function Cl(s){if(typeof s=="string"){var l=r1();return l.__localeData__?l.__localeData__[s]:void 0}else return s}function C4(s,l,r){return l(xt(s,"EEEE",r))}function k4(s,l){return xt(s,"EEEEEE",l)}function D4(s,l){return xt(s,"EEE",l)}function pp(s,l){return xt(Ea(Ke(),s),"LLLL",l)}function l1(s,l){return xt(Ea(Ke(),s),"LLL",l)}function M4(s,l){return xt(ml(Ke(),s),"QQQ",l)}function $a(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.excludeDateIntervals,m=r.includeDates,x=r.includeDateIntervals,p=r.filterDate,v=r.disabled;return v?!0:ao(s,{minDate:t,maxDate:o})||u&&u.some(function(b){return b instanceof Date?$e(s,b):$e(s,b.date)})||d&&d.some(function(b){var j=b.start,w=b.end;return Gi(s,{start:j,end:w})})||m&&!m.some(function(b){return $e(s,b)})||x&&!x.some(function(b){var j=b.start,w=b.end;return Gi(s,{start:j,end:w})})||p&&!p(Ke(s))||!1}function xp(s,l){var r=l===void 0?{}:l,t=r.excludeDates,o=r.excludeDateIntervals;return o&&o.length>0?o.some(function(u){var d=u.start,m=u.end;return Gi(s,{start:d,end:m})}):t&&t.some(function(u){var d;return u instanceof Date?$e(s,u):$e(s,(d=u.date)!==null&&d!==void 0?d:new Date)})||!1}function i1(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.includeDates,m=r.filterDate;return ao(s,{minDate:t?Iy(t):void 0,maxDate:o?Ry(o):void 0})||u?.some(function(x){return la(s,x instanceof Date?x:x.date)})||d&&!d.some(function(x){return la(s,x)})||m&&!m(Ke(s))||!1}function kc(s,l,r,t){var o=He(s),u=ya(s),d=He(l),m=ya(l),x=He(t);return o===d&&o===x?u<=r&&r<=m:o<d?x===o&&u<=r||x===d&&m>=r||x<d&&x>o:!1}function A4(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.includeDates;return ao(s,{minDate:t,maxDate:o})||u&&u.some(function(m){return la(m instanceof Date?m:m.date,s)})||d&&!d.some(function(m){return la(m,s)})||!1}function Dc(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.includeDates,m=r.filterDate,x=r.disabled;return x?!0:ao(s,{minDate:t,maxDate:o})||u?.some(function(p){return vu(s,p instanceof Date?p:p.date)})||d&&!d.some(function(p){return vu(s,p)})||m&&!m(Ke(s))||!1}function Mc(s,l,r){if(!l||!r||!Nl(l)||!Nl(r))return!1;var t=He(l),o=He(r);return t<=s&&o>=s}function Wc(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.includeDates,m=r.filterDate,x=r.disabled;if(x)return!0;var p=new Date(s,0,1);return ao(p,{minDate:t?Mu(t):void 0,maxDate:o?Ly(o):void 0})||u?.some(function(v){return pn(p,v instanceof Date?v:v.date)})||d&&!d.some(function(v){return pn(p,v)})||m&&!m(Ke(p))||!1}function Ac(s,l,r,t){var o=He(s),u=Tr(s),d=He(l),m=Tr(l),x=He(t);return o===d&&o===x?u<=r&&r<=m:o<d?x===o&&u<=r||x===d&&m>=r||x<d&&x>o:!1}function ao(s,l){var r,t=l===void 0?{}:l,o=t.minDate,u=t.maxDate;return(r=o&&yl(s,o)<0||u&&yl(s,u)>0)!==null&&r!==void 0?r:!1}function mb(s,l){return l.some(function(r){return ea(r)===ea(s)&&ta(r)===ta(s)&&Or(r)===Or(s)})}function fb(s,l){var r=l===void 0?{}:l,t=r.excludeTimes,o=r.includeTimes,u=r.filterTime;return t&&mb(s,t)||o&&!mb(s,o)||u&&!u(s)||!1}function pb(s,l){var r=l.minTime,t=l.maxTime;if(!r||!t)throw new Error("Both minTime and maxTime props required");var o=Ke();o=Gc(o,ea(s)),o=Qc(o,ta(s)),o=Kc(o,Or(s));var u=Ke();u=Gc(u,ea(r)),u=Qc(u,ta(r)),u=Kc(u,Or(r));var d=Ke();d=Gc(d,ea(t)),d=Qc(d,ta(t)),d=Kc(d,Or(t));var m;try{m=!Gi(o,{start:u,end:d})}catch{m=!1}return m}function xb(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.includeDates,u=ps(s,1);return t&&ou(t,u)>0||o&&o.every(function(d){return ou(d,u)>0})||!1}function hb(s,l){var r=l===void 0?{}:l,t=r.maxDate,o=r.includeDates,u=nn(s,1);return t&&ou(u,t)>0||o&&o.every(function(d){return ou(u,d)>0})||!1}function T4(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.includeDates,u=Mu(s),d=$y(u);return t&&cu(t,d)>0||o&&o.every(function(m){return cu(m,d)>0})||!1}function E4(s,l){var r=l===void 0?{}:l,t=r.maxDate,o=r.includeDates,u=Ly(s),d=np(u,1);return t&&cu(d,t)>0||o&&o.every(function(m){return cu(d,m)>0})||!1}function vb(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.includeDates,u=Ir(s,1);return t&&uu(t,u)>0||o&&o.every(function(d){return uu(d,u)>0})||!1}function _4(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.yearItemNumber,u=o===void 0?to:o,d=Bi(Ir(s,u)),m=Kn(d,u).endPeriod,x=t&&He(t);return x&&x>m||!1}function bb(s,l){var r=l===void 0?{}:l,t=r.maxDate,o=r.includeDates,u=tn(s,1);return t&&uu(u,t)>0||o&&o.every(function(d){return uu(u,d)>0})||!1}function O4(s,l){var r=l===void 0?{}:l,t=r.maxDate,o=r.yearItemNumber,u=o===void 0?to:o,d=tn(s,u),m=Kn(d,u).startPeriod,x=t&&He(t);return x&&x<m||!1}function o1(s){var l=s.minDate,r=s.includeDates;if(r&&l){var t=r.filter(function(o){return yl(o,l)>=0});return H0(t)}else return r?H0(r):l}function c1(s){var l=s.maxDate,r=s.includeDates;if(r&&l){var t=r.filter(function(o){return yl(o,l)<=0});return B0(t)}else return r?B0(r):l}function gb(s,l){var r;s===void 0&&(s=[]),l===void 0&&(l="react-datepicker__day--highlighted");for(var t=new Map,o=0,u=s.length;o<u;o++){var d=s[o];if(yn(d)){var m=xt(d,"MM.dd.yyyy"),x=t.get(m)||[];x.includes(l)||(x.push(l),t.set(m,x))}else if(typeof d=="object"){var p=Object.keys(d),v=(r=p[0])!==null&&r!==void 0?r:"",b=d[v];if(typeof v=="string"&&Array.isArray(b))for(var j=0,w=b.length;j<w;j++){var M=b[j];if(M){var m=xt(M,"MM.dd.yyyy"),x=t.get(m)||[];x.includes(v)||(x.push(v),t.set(m,x))}}}}return t}function R4(s,l){return s.length!==l.length?!1:s.every(function(r,t){return r===l[t]})}function I4(s,l){s===void 0&&(s=[]),l===void 0&&(l="react-datepicker__day--holidays");var r=new Map;return s.forEach(function(t){var o=t.date,u=t.holidayName;if(yn(o)){var d=xt(o,"MM.dd.yyyy"),m=r.get(d)||{className:"",holidayNames:[]};if(!("className"in m&&m.className===l&&R4(m.holidayNames,[u]))){m.className=l;var x=m.holidayNames;m.holidayNames=x?bn(bn([],x,!0),[u],!1):[u],r.set(d,m)}}}),r}function L4(s,l,r,t,o){for(var u=o.length,d=[],m=0;m<u;m++){var x=s,p=o[m];p&&(x=AC(x,ea(p)),x=Vi(x,ta(p)),x=_C(x,Or(p)));var v=Vi(s,(r+1)*t);Wn(x,l)&&vn(x,v)&&p!=null&&d.push(p)}return d}function ol(s){return s<10?"0".concat(s):"".concat(s)}function Kn(s,l){l===void 0&&(l=to);var r=Math.ceil(He(s)/l)*l,t=r-(l-1);return{startPeriod:t,endPeriod:r}}function P4(s){var l=new Date(s.getFullYear(),s.getMonth(),s.getDate()),r=new Date(s.getFullYear(),s.getMonth(),s.getDate(),24);return Math.round((+r-+l)/36e5)}function yb(s){var l=s.getSeconds(),r=s.getMilliseconds();return Ce(s.getTime()-l*1e3-r)}function u1(s,l){return yb(s).getTime()===yb(l).getTime()}function Nb(s){if(!yn(s))throw new Error("Invalid date");var l=new Date(s);return l.setHours(0,0,0,0),l}function df(s,l){if(!yn(s)||!yn(l))throw new Error("Invalid date received");var r=Nb(s),t=Nb(l);return vn(r,t)}function d1(s){return s.key===be.Space}var mf=(function(s){Kt(l,s);function l(r){var t=s.call(this,r)||this;return t.inputRef=ne.createRef(),t.onTimeChange=function(o){var u,d;t.setState({time:o});var m=t.props.date,x=m instanceof Date&&!isNaN(+m),p=x?m:new Date;if(o?.includes(":")){var v=o.split(":"),b=v[0],j=v[1];p.setHours(Number(b)),p.setMinutes(Number(j))}(d=(u=t.props).onChange)===null||d===void 0||d.call(u,p)},t.renderTimeInput=function(){var o=t.state.time,u=t.props,d=u.date,m=u.timeString,x=u.customTimeInput;return x?S.cloneElement(x,{date:d,value:o,onChange:t.onTimeChange}):ne.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:t.inputRef,onClick:function(){var p;(p=t.inputRef.current)===null||p===void 0||p.focus()},required:!0,value:o,onChange:function(p){t.onTimeChange(p.target.value||m)}})},t.state={time:t.props.timeString},t}return l.getDerivedStateFromProps=function(r,t){return r.timeString!==t.time?{time:r.timeString}:null},l.prototype.render=function(){return ne.createElement("div",{className:"react-datepicker__input-time-container"},ne.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ne.createElement("div",{className:"react-datepicker-time__input-container"},ne.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},l})(S.Component),z4=(function(s){Kt(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.dayEl=S.createRef(),r.handleClick=function(t){!r.isDisabled()&&r.props.onClick&&r.props.onClick(t)},r.handleMouseEnter=function(t){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(t)},r.handleOnKeyDown=function(t){var o,u,d=t.key;d===be.Space&&(t.preventDefault(),t.key=be.Enter),(u=(o=r.props).handleOnKeyDown)===null||u===void 0||u.call(o,t)},r.isSameDay=function(t){return $e(r.props.day,t)},r.isKeyboardSelected=function(){var t;if(r.props.disabledKeyboardNavigation)return!1;var o=r.props.selectsMultiple?(t=r.props.selectedDates)===null||t===void 0?void 0:t.some(function(d){return r.isSameDayOrWeek(d)}):r.isSameDayOrWeek(r.props.selected),u=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!o&&r.isSameDayOrWeek(r.props.preSelection)&&!u},r.isDisabled=function(t){return t===void 0&&(t=r.props.day),$a(t,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate,disabled:r.props.disabled})},r.isExcluded=function(){return xp(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return $e(r.props.day,Rr(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(t){return r.props.showWeekPicker&&$e(t,Rr(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(t){return r.isSameDay(t)||r.isSameWeek(t)},r.getHighLightedClass=function(){var t=r.props,o=t.day,u=t.highlightDates;if(!u)return!1;var d=xt(o,"MM.dd.yyyy");return u.get(d)},r.getHolidaysClass=function(){var t,o=r.props,u=o.day,d=o.holidays;if(!d)return[void 0];var m=xt(u,"MM.dd.yyyy");return d.has(m)?[(t=d.get(m))===null||t===void 0?void 0:t.className]:[void 0]},r.isInRange=function(){var t=r.props,o=t.day,u=t.startDate,d=t.endDate;return!u||!d?!1:os(o,u,d)},r.isInSelectingRange=function(){var t,o=r.props,u=o.day,d=o.selectsStart,m=o.selectsEnd,x=o.selectsRange,p=o.selectsDisabledDaysInRange,v=o.startDate,b=o.swapRange,j=o.endDate,w=(t=r.props.selectingDate)!==null&&t!==void 0?t:r.props.preSelection;if(r.isAfterMonth()||r.isBeforeMonth()||!(d||m||x)||!w||!p&&r.isDisabled())return!1;if(d&&j&&(vn(w,j)||fs(w,j)))return os(u,w,j);if(m&&v&&(Wn(w,v)||fs(w,v)))return os(u,v,w);if(x&&v&&!j){if(fs(w,v)||Wn(w,v))return os(u,v,w);if(b&&vn(w,v))return os(u,w,v)}return!1},r.isSelectingRangeStart=function(){var t;if(!r.isInSelectingRange())return!1;var o=r.props,u=o.day,d=o.startDate,m=o.selectsStart,x=o.swapRange,p=o.selectsRange,v=(t=r.props.selectingDate)!==null&&t!==void 0?t:r.props.preSelection;return m?$e(u,v):p&&x&&d&&v?$e(u,vn(v,d)?v:d):$e(u,d)},r.isSelectingRangeEnd=function(){var t;if(!r.isInSelectingRange())return!1;var o=r.props,u=o.day,d=o.endDate,m=o.selectsEnd,x=o.selectsRange,p=o.swapRange,v=o.startDate,b=(t=r.props.selectingDate)!==null&&t!==void 0?t:r.props.preSelection;return m?$e(u,b):x&&p&&v&&b?$e(u,vn(b,v)?v:b):x?$e(u,b):$e(u,d)},r.isRangeStart=function(){var t=r.props,o=t.day,u=t.startDate,d=t.endDate;return!u||!d?!1:$e(u,o)},r.isRangeEnd=function(){var t=r.props,o=t.day,u=t.startDate,d=t.endDate;return!u||!d?!1:$e(d,o)},r.isWeekend=function(){var t=Tk(r.props.day);return t===0||t===6},r.isAfterMonth=function(){return r.props.month!==void 0&&(r.props.month+1)%12===ya(r.props.day)},r.isBeforeMonth=function(){return r.props.month!==void 0&&(ya(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(Ke())},r.isSelected=function(){var t;return r.props.selectsMultiple?(t=r.props.selectedDates)===null||t===void 0?void 0:t.some(function(o){return r.isSameDayOrWeek(o)}):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(t){var o=r.props.dayClassName?r.props.dayClassName(t):void 0;return zt("react-datepicker__day",o,"react-datepicker__day--"+j4(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var t=r.props,o=t.day,u=t.ariaLabelPrefixWhenEnabled,d=u===void 0?"Choose":u,m=t.ariaLabelPrefixWhenDisabled,x=m===void 0?"Not available":m,p=r.isDisabled()||r.isExcluded()?x:d;return"".concat(p," ").concat(xt(o,"PPPP",r.props.locale))},r.getTitle=function(){var t=r.props,o=t.day,u=t.holidays,d=u===void 0?new Map:u,m=t.excludeDates,x=xt(o,"MM.dd.yyyy"),p=[];return d.has(x)&&p.push.apply(p,d.get(x).holidayNames),r.isExcluded()&&p.push(m?.filter(function(v){return v instanceof Date?$e(v,o):$e(v?.date,o)}).map(function(v){if(!(v instanceof Date))return v?.message})),p.join(", ")},r.getTabIndex=function(){var t=r.props.selected,o=r.props.preSelection,u=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(t)&&$e(o,t))?0:-1;return u},r.handleFocusDay=function(){var t;r.shouldFocusDay()&&((t=r.dayEl.current)===null||t===void 0||t.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(Q0(r.props.day),r.props.day):Q0(r.props.day)},r.render=function(){return ne.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"gridcell",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&ne.createElement("span",{className:"overlay"},r.getTitle()))},r}return l.prototype.componentDidMount=function(){this.handleFocusDay()},l.prototype.componentDidUpdate=function(){this.handleFocusDay()},l.prototype.shouldFocusDay=function(){var r=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(r=!1),this.isDayActiveElement()&&(r=!0),this.isDuplicateDay()&&(r=!1)),r},l.prototype.isDayActiveElement=function(){var r,t,o;return((t=(r=this.props.containerRef)===null||r===void 0?void 0:r.current)===null||t===void 0?void 0:t.contains(document.activeElement))&&((o=document.activeElement)===null||o===void 0?void 0:o.classList.contains("react-datepicker__day"))},l.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},l})(S.Component),F4=(function(s){Kt(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.weekNumberEl=S.createRef(),r.handleClick=function(t){r.props.onClick&&r.props.onClick(t)},r.handleOnKeyDown=function(t){var o,u,d=t.key;d===be.Space&&(t.preventDefault(),t.key=be.Enter),(u=(o=r.props).handleOnKeyDown)===null||u===void 0||u.call(o,t)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!$e(r.props.date,r.props.selected)&&$e(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||$e(r.props.date,r.props.selected)&&$e(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(t){var o=!1;r.getTabIndex()===0&&!t?.isInputFocused&&$e(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(o=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(o=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(o=!0)),o&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return Object.defineProperty(l,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),l.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},l.prototype.componentDidUpdate=function(r){this.handleFocusWeekNumber(r)},l.prototype.render=function(){var r=this.props,t=r.weekNumber,o=r.isWeekDisabled,u=r.ariaLabelPrefix,d=u===void 0?l.defaultProps.ariaLabelPrefix:u,m=r.onClick,x={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!m&&!o,"react-datepicker__week-number--selected":!!m&&$e(this.props.date,this.props.selected)};return ne.createElement("div",{ref:this.weekNumberEl,className:zt(x),"aria-label":"".concat(d," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},t)},l})(S.Component),B4=(function(s){Kt(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.isDisabled=function(t){return $a(t,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.handleDayClick=function(t,o){r.props.onDayClick&&r.props.onDayClick(t,o)},r.handleDayMouseEnter=function(t){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(t)},r.handleWeekClick=function(t,o,u){for(var d,m,x,p=new Date(t),v=0;v<7;v++){var b=new Date(t);b.setDate(b.getDate()+v);var j=!r.isDisabled(b);if(j){p=b;break}}typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(p,o,u),r.props.showWeekPicker&&r.handleDayClick(p,u),((d=r.props.shouldCloseOnSelect)!==null&&d!==void 0?d:l.defaultProps.shouldCloseOnSelect)&&((x=(m=r.props).setOpen)===null||x===void 0||x.call(m,!1))},r.formatWeekNumber=function(t){return r.props.formatWeekNumber?r.props.formatWeekNumber(t):N4(t)},r.isWeekDisabled=function(){for(var t=r.startOfWeek(),o=en(t,6),u=new Date(t);u<=o;){if(!r.isDisabled(u))return!1;u=en(u,1)}return!0},r.renderDays=function(){var t=r.startOfWeek(),o=[],u=r.formatWeekNumber(t);if(r.props.showWeekNumber){var d=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,t,u):void 0;o.push(ne.createElement(F4,ze({key:"W"},l.defaultProps,r.props,{weekNumber:u,isWeekDisabled:r.isWeekDisabled(),date:t,onClick:d})))}return o.concat([0,1,2,3,4,5,6].map(function(m){var x=en(t,m);return ne.createElement(z4,ze({},l.defaultProps,r.props,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:x.valueOf(),day:x,onClick:r.handleDayClick.bind(r,x),onMouseEnter:r.handleDayMouseEnter.bind(r,x)}))}))},r.startOfWeek=function(){return Rr(r.props.day,r.props.locale,r.props.calendarStartDay)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!$e(r.startOfWeek(),r.props.selected)&&$e(r.startOfWeek(),r.props.preSelection)},r}return Object.defineProperty(l,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),l.prototype.render=function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":$e(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},t=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return ne.createElement("div",{className:zt(r,t),role:"row"},this.renderDays())},l})(S.Component),Oi,H4=6,hl={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},ff=(Oi={},Oi[hl.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Oi[hl.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Oi[hl.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Oi),Tc=1;function jb(s,l){return s?hl.FOUR_COLUMNS:l?hl.TWO_COLUMNS:hl.THREE_COLUMNS}var Y4=(function(s){Kt(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.MONTH_REFS=bn([],Array(12),!0).map(function(){return S.createRef()}),r.QUARTER_REFS=bn([],Array(4),!0).map(function(){return S.createRef()}),r.isDisabled=function(t){return $a(t,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate,disabled:r.props.disabled})},r.isExcluded=function(t){return xp(t,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(t,o){var u,d;(d=(u=r.props).onDayClick)===null||d===void 0||d.call(u,t,o,r.props.orderInDisplay)},r.handleDayMouseEnter=function(t){var o,u;(u=(o=r.props).onDayMouseEnter)===null||u===void 0||u.call(o,t)},r.handleMouseLeave=function(){var t,o;(o=(t=r.props).onMouseLeave)===null||o===void 0||o.call(t)},r.isRangeStartMonth=function(t){var o=r.props,u=o.day,d=o.startDate,m=o.endDate;return!d||!m?!1:la(Ea(u,t),d)},r.isRangeStartQuarter=function(t){var o=r.props,u=o.day,d=o.startDate,m=o.endDate;return!d||!m?!1:vu(ml(u,t),d)},r.isRangeEndMonth=function(t){var o=r.props,u=o.day,d=o.startDate,m=o.endDate;return!d||!m?!1:la(Ea(u,t),m)},r.isRangeEndQuarter=function(t){var o=r.props,u=o.day,d=o.startDate,m=o.endDate;return!d||!m?!1:vu(ml(u,t),m)},r.isInSelectingRangeMonth=function(t){var o,u=r.props,d=u.day,m=u.selectsStart,x=u.selectsEnd,p=u.selectsRange,v=u.startDate,b=u.endDate,j=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return!(m||x||p)||!j?!1:m&&b?kc(j,b,t,d):x&&v||p&&v&&!b?kc(v,j,t,d):!1},r.isSelectingMonthRangeStart=function(t){var o;if(!r.isInSelectingRangeMonth(t))return!1;var u=r.props,d=u.day,m=u.startDate,x=u.selectsStart,p=Ea(d,t),v=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return x?la(p,v):la(p,m)},r.isSelectingMonthRangeEnd=function(t){var o;if(!r.isInSelectingRangeMonth(t))return!1;var u=r.props,d=u.day,m=u.endDate,x=u.selectsEnd,p=u.selectsRange,v=Ea(d,t),b=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return x||p?la(v,b):la(v,m)},r.isInSelectingRangeQuarter=function(t){var o,u=r.props,d=u.day,m=u.selectsStart,x=u.selectsEnd,p=u.selectsRange,v=u.startDate,b=u.endDate,j=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return!(m||x||p)||!j?!1:m&&b?Ac(j,b,t,d):x&&v||p&&v&&!b?Ac(v,j,t,d):!1},r.isWeekInMonth=function(t){var o=r.props.day,u=en(t,6);return la(t,o)||la(u,o)},r.isCurrentMonth=function(t,o){return He(t)===He(Ke())&&o===ya(Ke())},r.isCurrentQuarter=function(t,o){return He(t)===He(Ke())&&o===Tr(Ke())},r.isSelectedMonth=function(t,o,u){return ya(u)===o&&He(t)===He(u)},r.isSelectMonthInList=function(t,o,u){return u.some(function(d){return r.isSelectedMonth(t,o,d)})},r.isSelectedQuarter=function(t,o,u){return Tr(u)===o&&He(t)===He(u)},r.isSelectQuarterInList=function(t,o,u){return u.some(function(d){return r.isSelectedQuarter(t,o,d)})},r.isMonthSelected=function(){var t=r.props,o=t.day,u=t.selected,d=t.selectedDates,m=t.selectsMultiple,x=ya(o);return m?d?.some(function(p){return r.isSelectedMonth(o,x,p)}):!!u&&r.isSelectedMonth(o,x,u)},r.isQuarterSelected=function(){var t=r.props,o=t.day,u=t.selected,d=t.selectedDates,m=t.selectsMultiple,x=Tr(o);return m?d?.some(function(p){return r.isSelectedQuarter(o,x,p)}):!!u&&r.isSelectedQuarter(o,x,u)},r.renderWeeks=function(){if(!ga(r.props.day))return[];for(var t=[],o=r.props.fixedHeight,u=0,d=!1,m=Rr(Zn(r.props.day),r.props.locale,r.props.calendarStartDay),x=function(M){return r.props.showWeekPicker?Rr(M,r.props.locale,r.props.calendarStartDay):r.props.preSelection},p=function(M){return r.props.showWeekPicker?Rr(M,r.props.locale,r.props.calendarStartDay):r.props.selected},v=r.props.selected?p(r.props.selected):void 0,b=r.props.preSelection?x(r.props.preSelection):void 0;t.push(ne.createElement(B4,ze({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:u,day:m,month:ya(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:v,preSelection:b,showWeekNumber:r.props.showWeekNumbers}))),!d;){u++,m=iu(m,1);var j=o&&u>=H4,w=!o&&!r.isWeekInMonth(m);if(j||w)if(r.props.peekNextMonth)d=!0;else break}return t},r.onMonthClick=function(t,o){var u=r.isMonthDisabledForLabelDate(o),d=u.isDisabled,m=u.labelDate;d||r.handleDayClick(Zn(m),t)},r.onMonthMouseEnter=function(t){var o=r.isMonthDisabledForLabelDate(t),u=o.isDisabled,d=o.labelDate;u||r.handleDayMouseEnter(Zn(d))},r.handleMonthNavigation=function(t,o){var u,d,m,x;(d=(u=r.props).setPreSelection)===null||d===void 0||d.call(u,o),(x=(m=r.MONTH_REFS[t])===null||m===void 0?void 0:m.current)===null||x===void 0||x.focus()},r.handleKeyboardNavigation=function(t,o,u){var d,m=r.props,x=m.selected,p=m.preSelection,v=m.setPreSelection,b=m.minDate,j=m.maxDate,w=m.showFourColumnMonthYearPicker,M=m.showTwoColumnMonthYearPicker;if(p){var C=jb(w,M),y=r.getVerticalOffset(C),N=(d=ff[C])===null||d===void 0?void 0:d.grid,D=function(G,E,L){var B,W,A=E,se=L;switch(G){case be.ArrowRight:A=nn(E,Tc),se=L===11?0:L+Tc;break;case be.ArrowLeft:A=ps(E,Tc),se=L===0?11:L-Tc;break;case be.ArrowUp:A=ps(E,y),se=!((B=N?.[0])===null||B===void 0)&&B.includes(L)?L+12-y:L-y;break;case be.ArrowDown:A=nn(E,y),se=!((W=N?.[N.length-1])===null||W===void 0)&&W.includes(L)?L-12+y:L+y;break}return{newCalculatedDate:A,newCalculatedMonth:se}},g=function(G,E,L){for(var B=40,W=G,A=!1,se=0,q=D(W,E,L),J=q.newCalculatedDate,z=q.newCalculatedMonth;!A;){if(se>=B){J=E,z=L;break}if(b&&J<b){W=be.ArrowRight;var O=D(W,J,z);J=O.newCalculatedDate,z=O.newCalculatedMonth}if(j&&J>j){W=be.ArrowLeft;var O=D(W,J,z);J=O.newCalculatedDate,z=O.newCalculatedMonth}if(A4(J,r.props)){var O=D(W,J,z);J=O.newCalculatedDate,z=O.newCalculatedMonth}else A=!0;se++}return{newCalculatedDate:J,newCalculatedMonth:z}};if(o===be.Enter){r.isMonthDisabled(u)||(r.onMonthClick(t,u),v?.(x));return}var _=g(o,p,u),P=_.newCalculatedDate,U=_.newCalculatedMonth;switch(o){case be.ArrowRight:case be.ArrowLeft:case be.ArrowUp:case be.ArrowDown:r.handleMonthNavigation(U,P);break}}},r.getVerticalOffset=function(t){var o,u;return(u=(o=ff[t])===null||o===void 0?void 0:o.verticalNavigationOffset)!==null&&u!==void 0?u:0},r.onMonthKeyDown=function(t,o){var u=r.props,d=u.disabledKeyboardNavigation,m=u.handleOnMonthKeyDown,x=t.key;x!==be.Tab&&t.preventDefault(),d||r.handleKeyboardNavigation(t,x,o),m&&m(t)},r.onQuarterClick=function(t,o){var u=ml(r.props.day,o);Dc(u,r.props)||r.handleDayClick(cb(u),t)},r.onQuarterMouseEnter=function(t){var o=ml(r.props.day,t);Dc(o,r.props)||r.handleDayMouseEnter(cb(o))},r.handleQuarterNavigation=function(t,o){var u,d,m,x;r.isDisabled(o)||r.isExcluded(o)||((d=(u=r.props).setPreSelection)===null||d===void 0||d.call(u,o),(x=(m=r.QUARTER_REFS[t-1])===null||m===void 0?void 0:m.current)===null||x===void 0||x.focus())},r.onQuarterKeyDown=function(t,o){var u,d,m=t.key;if(!r.props.disabledKeyboardNavigation)switch(m){case be.Enter:r.onQuarterClick(t,o),(d=(u=r.props).setPreSelection)===null||d===void 0||d.call(u,r.props.selected);break;case be.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(o===4?1:o+1,np(r.props.preSelection,1));break;case be.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(o===1?4:o-1,$y(r.props.preSelection));break}},r.isMonthDisabledForLabelDate=function(t){var o,u=r.props,d=u.day,m=u.disabled,x=u.minDate,p=u.maxDate,v=u.excludeDates,b=u.includeDates,j=Ea(d,t);return m?{isDisabled:!0,labelDate:Ea(d,t)}:{isDisabled:(o=(x||p||v||b)&&i1(j,r.props))!==null&&o!==void 0?o:!1,labelDate:j}},r.isMonthDisabled=function(t){var o=r.isMonthDisabledForLabelDate(t).isDisabled;return o},r.getMonthClassNames=function(t){var o=r.props,u=o.day,d=o.startDate,m=o.endDate,x=o.preSelection,p=o.monthClassName,v=p?p(Ea(u,t)):void 0,b=r.getSelection();return zt("react-datepicker__month-text","react-datepicker__month-".concat(t),v,{"react-datepicker__month-text--disabled":r.isMonthDisabled(t),"react-datepicker__month-text--selected":b?r.isSelectMonthInList(u,t,b):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&x&&r.isSelectedMonth(u,t,x)&&!r.isMonthSelected()&&!r.isMonthDisabled(t),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(t),"react-datepicker__month-text--in-range":d&&m?kc(d,m,t,u):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(t),"react-datepicker__month-text--range-end":r.isRangeEndMonth(t),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(t),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(t),"react-datepicker__month-text--today":r.isCurrentMonth(u,t)})},r.getTabIndex=function(t){if(r.props.preSelection==null)return"-1";var o=ya(r.props.preSelection),u=r.isMonthDisabledForLabelDate(o).isDisabled,d=t===o&&!(u||r.props.disabledKeyboardNavigation)?"0":"-1";return d},r.getQuarterTabIndex=function(t){if(r.props.preSelection==null)return"-1";var o=Tr(r.props.preSelection),u=Dc(r.props.day,r.props),d=t===o&&!(u||r.props.disabledKeyboardNavigation)?"0":"-1";return d},r.getAriaLabel=function(t){var o=r.props,u=o.chooseDayAriaLabelPrefix,d=u===void 0?"Choose":u,m=o.disabledDayAriaLabelPrefix,x=m===void 0?"Not available":m,p=o.day,v=o.locale,b=Ea(p,t),j=r.isDisabled(b)||r.isExcluded(b)?x:d;return"".concat(j," ").concat(xt(b,"MMMM yyyy",v))},r.getQuarterClassNames=function(t){var o=r.props,u=o.day,d=o.startDate,m=o.endDate,x=o.minDate,p=o.maxDate,v=o.excludeDates,b=o.includeDates,j=o.filterDate,w=o.preSelection,M=o.disabledKeyboardNavigation,C=o.disabled,y=(x||p||v||b||j||C)&&Dc(ml(u,t),r.props),N=r.getSelection();return zt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(t),{"react-datepicker__quarter-text--disabled":y,"react-datepicker__quarter-text--selected":N?r.isSelectQuarterInList(u,t,N):void 0,"react-datepicker__quarter-text--keyboard-selected":!M&&w&&r.isSelectedQuarter(u,t,w)&&!r.isQuarterSelected()&&!y,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(t),"react-datepicker__quarter-text--in-range":d&&m?Ac(d,m,t,u):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(t),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(t),"react-datepicker__quarter-text--today":r.isCurrentQuarter(u,t)})},r.getMonthContent=function(t){var o=r.props,u=o.showFullMonthYearPicker,d=o.renderMonthContent,m=o.locale,x=o.day,p=l1(t,m),v=pp(t,m);return d?d(t,p,v,x):u?v:p},r.getQuarterContent=function(t){var o,u=r.props,d=u.renderQuarterContent,m=u.locale,x=M4(t,m);return(o=d?.(t,x))!==null&&o!==void 0?o:x},r.renderMonths=function(){var t,o=r.props,u=o.showTwoColumnMonthYearPicker,d=o.showFourColumnMonthYearPicker,m=o.day,x=o.selected,p=(t=ff[jb(d,u)])===null||t===void 0?void 0:t.grid;return p?.map(function(v,b){return ne.createElement("div",{className:"react-datepicker__month-wrapper",key:b},v.map(function(j,w){return ne.createElement("div",{ref:r.MONTH_REFS[j],key:w,onClick:function(M){r.onMonthClick(M,j)},onKeyDown:function(M){d1(M)&&(M.preventDefault(),M.key=be.Enter),r.onMonthKeyDown(M,j)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(j)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(j)}:void 0,tabIndex:Number(r.getTabIndex(j)),className:r.getMonthClassNames(j),"aria-disabled":r.isMonthDisabled(j),role:"option","aria-label":r.getAriaLabel(j),"aria-current":r.isCurrentMonth(m,j)?"date":void 0,"aria-selected":x?r.isSelectedMonth(m,j,x):void 0},r.getMonthContent(j))}))})},r.renderQuarters=function(){var t=r.props,o=t.day,u=t.selected,d=[1,2,3,4];return ne.createElement("div",{className:"react-datepicker__quarter-wrapper"},d.map(function(m,x){return ne.createElement("div",{key:x,ref:r.QUARTER_REFS[x],role:"option",onClick:function(p){r.onQuarterClick(p,m)},onKeyDown:function(p){r.onQuarterKeyDown(p,m)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(m)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(m)}:void 0,className:r.getQuarterClassNames(m),"aria-selected":u?r.isSelectedQuarter(o,m,u):void 0,tabIndex:Number(r.getQuarterTabIndex(m)),"aria-current":r.isCurrentQuarter(o,m)?"date":void 0},r.getQuarterContent(m))}))},r.getClassNames=function(){var t=r.props,o=t.selectingDate,u=t.selectsStart,d=t.selectsEnd,m=t.showMonthYearPicker,x=t.showQuarterYearPicker,p=t.showWeekPicker;return zt("react-datepicker__month",{"react-datepicker__month--selecting-range":o&&(u||d)},{"react-datepicker__monthPicker":m},{"react-datepicker__quarterPicker":x},{"react-datepicker__weekPicker":p})},r}return l.prototype.getSelection=function(){var r=this.props,t=r.selected,o=r.selectedDates,u=r.selectsMultiple;if(u)return o;if(t)return[t]},l.prototype.render=function(){var r=this.props,t=r.showMonthYearPicker,o=r.showQuarterYearPicker,u=r.day,d=r.ariaLabelPrefix,m=d===void 0?"Month ":d,x=m?m.trim()+" ":"",p=ga(u)?"".concat(x).concat(xt(u,"MMMM, yyyy",this.props.locale)):"",v=t||o;return v?ne.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":p,role:"listbox"},t?this.renderMonths():this.renderQuarters()):ne.createElement("div",{role:"table"},this.props.dayNamesHeader&&ne.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),this.props.monthHeader&&ne.createElement("div",{role:"rowgroup"},this.props.monthHeader),ne.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":p,role:"rowgroup"},this.renderWeeks()),this.props.monthFooter&&ne.createElement("div",{role:"rowgroup"},this.props.monthFooter))},l})(S.Component),U4=(function(s){Kt(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.monthOptionButtonsRef={},r.isSelectedMonth=function(t){return r.props.month===t},r.handleOptionKeyDown=function(t,o){var u;switch(o.key){case"Enter":o.preventDefault(),r.onChange(t);break;case"Escape":o.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{o.preventDefault();var d=(t+(o.key==="ArrowUp"?-1:1)+r.props.monthNames.length)%r.props.monthNames.length;(u=r.monthOptionButtonsRef[d])===null||u===void 0||u.focus();break}}},r.renderOptions=function(){return r.monthOptionButtonsRef={},r.props.monthNames.map(function(t,o){return ne.createElement("div",{ref:function(u){r.monthOptionButtonsRef[o]=u,r.isSelectedMonth(o)&&u?.focus()},role:"button",tabIndex:0,className:r.isSelectedMonth(o)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:t,onClick:r.onChange.bind(r,o),onKeyDown:r.handleOptionKeyDown.bind(r,o),"aria-selected":r.isSelectedMonth(o)?"true":void 0},r.isSelectedMonth(o)?ne.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",t)})},r.onChange=function(t){return r.props.onChange(t)},r.handleClickOutside=function(){return r.props.onCancel()},r}return l.prototype.render=function(){return ne.createElement(Ru,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},l})(S.Component),q4=(function(s){Kt(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(t){return t.map(function(o,u){return ne.createElement("option",{key:o,value:u},o)})},r.renderSelectMode=function(t){return ne.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(o){return r.onChange(parseInt(o.target.value))}},r.renderSelectOptions(t))},r.renderReadView=function(t,o){return ne.createElement("button",{key:"read",type:"button",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},ne.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ne.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},o[r.props.month]))},r.renderDropdown=function(t){return ne.createElement(U4,ze({key:"dropdown"},r.props,{monthNames:t,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(t){var o=r.state.dropdownVisible,u=[r.renderReadView(!o,t)];return o&&u.unshift(r.renderDropdown(t)),u},r.onChange=function(t){r.toggleDropdown(),t!==r.props.month&&r.props.onChange(t)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return l.prototype.render=function(){var r=this,t=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(u){return l1(u,r.props.locale)}:function(u){return pp(u,r.props.locale)}),o;switch(this.props.dropdownMode){case"scroll":o=this.renderScrollMode(t);break;case"select":o=this.renderSelectMode(t);break}return ne.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},o)},l})(S.Component),wb=5;function $4(s,l,r){for(var t=[],o=s??Ir(r,wb),u=l??tn(r,wb),d=Zn(o),m=Zn(u);!Wn(d,m);)t.push(Ke(d)),d=nn(d,1);return t}var V4=(function(s){Kt(l,s);function l(r){var t=s.call(this,r)||this;return t.renderOptions=function(){return t.state.monthYearsList.map(function(o){var u=Ef(o),d=pn(t.props.date,o)&&la(t.props.date,o);return ne.createElement("div",{className:d?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:u,onClick:t.onChange.bind(t,u),"aria-selected":d?"true":void 0},d?ne.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",xt(o,t.props.dateFormat,t.props.locale))})},t.onChange=function(o){return t.props.onChange(o)},t.handleClickOutside=function(){t.props.onCancel()},t.state={monthYearsList:$4(t.props.minDate,t.props.maxDate,t.props.date)},t}return l.prototype.render=function(){var r=zt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ne.createElement(Ru,{className:r,onClickOutside:this.handleClickOutside},this.renderOptions())},l})(S.Component),Sb=5,G4=(function(s){Kt(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var t,o,u=(t=r.props.minDate)!==null&&t!==void 0?t:Ir(r.props.date,Sb),d=(o=r.props.maxDate)!==null&&o!==void 0?o:tn(r.props.date,Sb),m=Zn(u),x=Zn(d),p=[];!Wn(m,x);){var v=Ef(m);p.push(ne.createElement("option",{key:v,value:v},xt(m,r.props.dateFormat,r.props.locale))),m=nn(m,1)}return p},r.onSelectChange=function(t){r.onChange(parseInt(t.target.value))},r.renderSelectMode=function(){return ne.createElement("select",{value:Ef(Zn(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(t){var o=xt(r.props.date,r.props.dateFormat,r.props.locale);return ne.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},ne.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ne.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},o))},r.renderDropdown=function(){return ne.createElement(V4,ze({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var t=r.state.dropdownVisible,o=[r.renderReadView(!t)];return t&&o.unshift(r.renderDropdown()),o},r.onChange=function(t){r.toggleDropdown();var o=Ke(t);pn(r.props.date,o)&&la(r.props.date,o)||r.props.onChange(o)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return l.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return ne.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)},l})(S.Component),Q4=(function(s){Kt(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.state={height:null},r.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var t,o,u;r.list&&(r.list.scrollTop=(u=r.centerLi&&l.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-((o=(t=r.header)===null||t===void 0?void 0:t.clientHeight)!==null&&o!==void 0?o:0):r.list.clientHeight,r.centerLi))!==null&&u!==void 0?u:0)})},r.handleClick=function(t){var o,u;(r.props.minTime||r.props.maxTime)&&pb(t,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&fb(t,r.props)||(u=(o=r.props).onChange)===null||u===void 0||u.call(o,t)},r.isSelectedTime=function(t){var o=ms(r.props.selected);return o&&u1(o,t)},r.isDisabledTime=function(t){return(r.props.minTime||r.props.maxTime)&&pb(t,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&fb(t,r.props)},r.liClasses=function(t){var o,u=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(t):void 0];return r.isSelectedTime(t)&&u.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(t)&&u.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(ea(t)*3600+ta(t)*60+Or(t))%(((o=r.props.intervals)!==null&&o!==void 0?o:l.defaultProps.intervals)*60)!==0&&u.push("react-datepicker__time-list-item--injected"),u.join(" ")},r.handleOnKeyDown=function(t,o){var u,d;t.key===be.Space&&(t.preventDefault(),t.key=be.Enter),(t.key===be.ArrowUp||t.key===be.ArrowLeft)&&t.target instanceof HTMLElement&&t.target.previousSibling&&(t.preventDefault(),t.target.previousSibling instanceof HTMLElement&&t.target.previousSibling.focus()),(t.key===be.ArrowDown||t.key===be.ArrowRight)&&t.target instanceof HTMLElement&&t.target.nextSibling&&(t.preventDefault(),t.target.nextSibling instanceof HTMLElement&&t.target.nextSibling.focus()),t.key===be.Enter&&r.handleClick(o),(d=(u=r.props).handleOnKeyDown)===null||d===void 0||d.call(u,t)},r.renderTimes=function(){for(var t,o=[],u=typeof r.props.format=="string"?r.props.format:"p",d=(t=r.props.intervals)!==null&&t!==void 0?t:l.defaultProps.intervals,m=ms(r.props.selected)||ms(r.props.openToDate)||Ke(),x=Fi(m),p=r.props.injectTimes&&r.props.injectTimes.sort(function(y,N){return y.getTime()-N.getTime()}),v=60*P4(m),b=v/d,j=0;j<b;j++){var w=Vi(x,j*d);if(o.push(w),p){var M=L4(x,w,j,d,p);o=o.concat(M)}}var C=o.reduce(function(y,N){return N.getTime()<=m.getTime()?N:y},o[0]);return o.map(function(y){return ne.createElement("li",{key:y.valueOf(),onClick:r.handleClick.bind(r,y),className:r.liClasses(y),ref:function(N){y===C&&(r.centerLi=N)},onKeyDown:function(N){r.handleOnKeyDown(N,y)},tabIndex:y===C?0:-1,role:"option","aria-selected":r.isSelectedTime(y)?"true":void 0,"aria-disabled":r.isDisabledTime(y)?"true":void 0},xt(y,u,r.props.locale))})},r.renderTimeCaption=function(){return r.props.showTimeCaption===!1?ne.createElement(ne.Fragment,null):ne.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(r.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(t){r.header=t}},ne.createElement("div",{className:"react-datepicker-time__header"},r.props.timeCaption))},r}return Object.defineProperty(l,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),l.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},l.prototype.componentWillUnmount=function(){var r;(r=this.resizeObserver)===null||r===void 0||r.disconnect()},l.prototype.observeDatePickerHeightChanges=function(){var r=this,t=this.props.monthRef;this.updateContainerHeight(),t&&(this.resizeObserver=new ResizeObserver(function(){r.updateContainerHeight()}),this.resizeObserver.observe(t))},l.prototype.updateContainerHeight=function(){if(this.props.monthRef&&this.header){var r=this.props.monthRef.clientHeight-this.header.clientHeight;this.state.height!==r&&this.setState({height:r})}},l.prototype.render=function(){var r=this,t,o=this.state.height;return ne.createElement("div",{className:"react-datepicker__time-container ".concat(((t=this.props.todayButton)!==null&&t!==void 0?t:l.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ne.createElement("div",{className:"react-datepicker__time"},ne.createElement("div",{className:"react-datepicker__time-box"},ne.createElement("ul",{className:"react-datepicker__time-list",ref:function(u){r.list=u},style:o?{height:o}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},l.calcCenterPosition=function(r,t){return t.offsetTop-(r/2-t.clientHeight/2)},l})(S.Component),Cb=3,K4=(function(s){Kt(l,s);function l(r){var t=s.call(this,r)||this;return t.YEAR_REFS=bn([],Array(t.props.yearItemNumber),!0).map(function(){return S.createRef()}),t.isDisabled=function(o){return $a(o,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(o){return xp(o,{excludeDates:t.props.excludeDates})},t.selectingDate=function(){var o;return(o=t.props.selectingDate)!==null&&o!==void 0?o:t.props.preSelection},t.updateFocusOnPaginate=function(o){var u=function(){var d,m;(m=(d=t.YEAR_REFS[o])===null||d===void 0?void 0:d.current)===null||m===void 0||m.focus()};window.requestAnimationFrame(u)},t.handleYearClick=function(o,u){t.props.onDayClick&&t.props.onDayClick(o,u)},t.handleYearNavigation=function(o,u){var d,m,x,p,v=t.props,b=v.date,j=v.yearItemNumber;if(!(b===void 0||j===void 0)){var w=Kn(b,j).startPeriod;t.isDisabled(u)||t.isExcluded(u)||((m=(d=t.props).setPreSelection)===null||m===void 0||m.call(d,u),o-w<0?t.updateFocusOnPaginate(j-(w-o)):o-w>=j?t.updateFocusOnPaginate(Math.abs(j-(o-w))):(p=(x=t.YEAR_REFS[o-w])===null||x===void 0?void 0:x.current)===null||p===void 0||p.focus())}},t.isSameDay=function(o,u){return $e(o,u)},t.isCurrentYear=function(o){return o===He(Ke())},t.isRangeStart=function(o){return t.props.startDate&&t.props.endDate&&pn(fn(Ke(),o),t.props.startDate)},t.isRangeEnd=function(o){return t.props.startDate&&t.props.endDate&&pn(fn(Ke(),o),t.props.endDate)},t.isInRange=function(o){return Mc(o,t.props.startDate,t.props.endDate)},t.isInSelectingRange=function(o){var u=t.props,d=u.selectsStart,m=u.selectsEnd,x=u.selectsRange,p=u.startDate,v=u.endDate;return!(d||m||x)||!t.selectingDate()?!1:d&&v?Mc(o,t.selectingDate(),v):m&&p||x&&p&&!v?Mc(o,p,t.selectingDate()):!1},t.isSelectingRangeStart=function(o){var u;if(!t.isInSelectingRange(o))return!1;var d=t.props,m=d.startDate,x=d.selectsStart,p=fn(Ke(),o);return x?pn(p,(u=t.selectingDate())!==null&&u!==void 0?u:null):pn(p,m??null)},t.isSelectingRangeEnd=function(o){var u;if(!t.isInSelectingRange(o))return!1;var d=t.props,m=d.endDate,x=d.selectsEnd,p=d.selectsRange,v=fn(Ke(),o);return x||p?pn(v,(u=t.selectingDate())!==null&&u!==void 0?u:null):pn(v,m??null)},t.isKeyboardSelected=function(o){if(!(t.props.disabledKeyboardNavigation||t.props.date===void 0||t.props.preSelection==null)){var u=t.props,d=u.minDate,m=u.maxDate,x=u.excludeDates,p=u.includeDates,v=u.filterDate,b=u.selected,j=Bi(fn(t.props.date,o)),w=(d||m||x||p||v)&&Wc(o,t.props),M=!!b&&$e(j,Bi(b)),C=$e(j,Bi(t.props.preSelection));return!t.props.inline&&!M&&C&&!w}},t.isSelectedYear=function(o){var u=t.props,d=u.selectsMultiple,m=u.selected,x=u.selectedDates;return d?x?.some(function(p){return o===He(p)}):!!m&&o===He(m)},t.onYearClick=function(o,u){var d=t.props.date;d!==void 0&&t.handleYearClick(Bi(fn(d,u)),o)},t.onYearKeyDown=function(o,u){var d,m,x=o.key,p=t.props,v=p.date,b=p.yearItemNumber,j=p.handleOnKeyDown;if(x!==be.Tab&&o.preventDefault(),!t.props.disabledKeyboardNavigation)switch(x){case be.Enter:if(t.props.selected==null)break;t.onYearClick(o,u),(m=(d=t.props).setPreSelection)===null||m===void 0||m.call(d,t.props.selected);break;case be.ArrowRight:if(t.props.preSelection==null)break;t.handleYearNavigation(u+1,tn(t.props.preSelection,1));break;case be.ArrowLeft:if(t.props.preSelection==null)break;t.handleYearNavigation(u-1,Ir(t.props.preSelection,1));break;case be.ArrowUp:{if(v===void 0||b===void 0||t.props.preSelection==null)break;var w=Kn(v,b).startPeriod,M=Cb,C=u-M;if(C<w){var y=b%M;u>=w&&u<w+y?M=y:M+=y,C=u-M}t.handleYearNavigation(C,Ir(t.props.preSelection,M));break}case be.ArrowDown:{if(v===void 0||b===void 0||t.props.preSelection==null)break;var N=Kn(v,b).endPeriod,M=Cb,C=u+M;if(C>N){var y=b%M;u<=N&&u>N-y?M=y:M+=y,C=u+M}t.handleYearNavigation(C,tn(t.props.preSelection,M));break}}j&&j(o)},t.getYearClassNames=function(o){var u=t.props,d=u.date,m=u.disabled,x=u.minDate,p=u.maxDate,v=u.excludeDates,b=u.includeDates,j=u.filterDate,w=u.yearClassName;return zt("react-datepicker__year-text","react-datepicker__year-".concat(o),d?w?.(fn(d,o)):void 0,{"react-datepicker__year-text--selected":t.isSelectedYear(o),"react-datepicker__year-text--disabled":(x||p||v||b||j||m)&&Wc(o,t.props),"react-datepicker__year-text--keyboard-selected":t.isKeyboardSelected(o),"react-datepicker__year-text--range-start":t.isRangeStart(o),"react-datepicker__year-text--range-end":t.isRangeEnd(o),"react-datepicker__year-text--in-range":t.isInRange(o),"react-datepicker__year-text--in-selecting-range":t.isInSelectingRange(o),"react-datepicker__year-text--selecting-range-start":t.isSelectingRangeStart(o),"react-datepicker__year-text--selecting-range-end":t.isSelectingRangeEnd(o),"react-datepicker__year-text--today":t.isCurrentYear(o)})},t.getYearTabIndex=function(o){if(t.props.disabledKeyboardNavigation||t.props.preSelection==null)return"-1";var u=He(t.props.preSelection),d=Wc(o,t.props);return o===u&&!d?"0":"-1"},t.getYearContent=function(o){return t.props.renderYearContent?t.props.renderYearContent(o):o},t}return l.prototype.render=function(){var r=this,t=[],o=this.props,u=o.date,d=o.yearItemNumber,m=o.onYearMouseEnter,x=o.onYearMouseLeave;if(u===void 0)return null;for(var p=Kn(u,d),v=p.startPeriod,b=p.endPeriod,j=function(C){t.push(ne.createElement("div",{ref:w.YEAR_REFS[C-v],onClick:function(y){r.onYearClick(y,C)},onKeyDown:function(y){d1(y)&&(y.preventDefault(),y.key=be.Enter),r.onYearKeyDown(y,C)},tabIndex:Number(w.getYearTabIndex(C)),className:w.getYearClassNames(C),onMouseEnter:w.props.usePointerEvent?void 0:function(y){return m(y,C)},onPointerEnter:w.props.usePointerEvent?function(y){return m(y,C)}:void 0,onMouseLeave:w.props.usePointerEvent?void 0:function(y){return x(y,C)},onPointerLeave:w.props.usePointerEvent?function(y){return x(y,C)}:void 0,key:C,"aria-current":w.isCurrentYear(C)?"date":void 0},w.getYearContent(C)))},w=this,M=v;M<=b;M++)j(M);return ne.createElement("div",{className:"react-datepicker__year"},ne.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},t))},l})(S.Component);function X4(s,l,r,t){for(var o=[],u=0;u<2*l+1;u++){var d=s+l-u,m=!0;r&&(m=He(r)<=d),t&&m&&(m=He(t)>=d),m&&o.push(d)}return o}var W4=(function(s){Kt(l,s);function l(r){var t=s.call(this,r)||this;t.yearOptionButtonsRef={},t.handleOptionKeyDown=function(m,x){var p;switch(x.key){case"Enter":x.preventDefault(),t.onChange(m);break;case"Escape":x.preventDefault(),t.props.onCancel();break;case"ArrowUp":case"ArrowDown":{x.preventDefault();var v=m+(x.key==="ArrowUp"?1:-1);t.yearOptionButtonsRef[v]&&((p=t.yearOptionButtonsRef[v])===null||p===void 0||p.focus());break}}},t.renderOptions=function(){t.yearOptionButtonsRef={};var m=t.props.year,x=t.state.yearsList.map(function(b){return ne.createElement("div",{ref:function(j){t.yearOptionButtonsRef[b]=j,b===m&&j?.focus()},role:"button",tabIndex:0,className:m===b?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:b,onClick:t.onChange.bind(t,b),onKeyDown:t.handleOptionKeyDown.bind(t,b),"aria-selected":m===b?"true":void 0},m===b?ne.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",b)}),p=t.props.minDate?He(t.props.minDate):null,v=t.props.maxDate?He(t.props.maxDate):null;return(!v||!t.state.yearsList.find(function(b){return b===v}))&&x.unshift(ne.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:t.incrementYears},ne.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!p||!t.state.yearsList.find(function(b){return b===p}))&&x.push(ne.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:t.decrementYears},ne.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),x},t.onChange=function(m){t.props.onChange(m)},t.handleClickOutside=function(){t.props.onCancel()},t.shiftYears=function(m){var x=t.state.yearsList.map(function(p){return p+m});t.setState({yearsList:x})},t.incrementYears=function(){return t.shiftYears(1)},t.decrementYears=function(){return t.shiftYears(-1)};var o=r.yearDropdownItemNumber,u=r.scrollableYearDropdown,d=o||(u?10:5);return t.state={yearsList:X4(t.props.year,d,t.props.minDate,t.props.maxDate)},t.dropdownRef=S.createRef(),t}return l.prototype.componentDidMount=function(){var r=this.dropdownRef.current;if(r){var t=r.children?Array.from(r.children):null,o=t?t.find(function(u){return u.ariaSelected}):null;r.scrollTop=o&&o instanceof HTMLElement?o.offsetTop+(o.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}},l.prototype.render=function(){var r=zt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ne.createElement(Ru,{className:r,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},l})(S.Component),Z4=(function(s){Kt(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var t=r.props.minDate?He(r.props.minDate):1900,o=r.props.maxDate?He(r.props.maxDate):2100,u=[],d=t;d<=o;d++)u.push(ne.createElement("option",{key:d,value:d},d));return u},r.onSelectChange=function(t){r.onChange(parseInt(t.target.value))},r.renderSelectMode=function(){return ne.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(t){return ne.createElement("button",{key:"read",type:"button",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:r.toggleDropdown},ne.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ne.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return ne.createElement(W4,ze({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var t=r.state.dropdownVisible,o=[r.renderReadView(!t)];return t&&o.unshift(r.renderDropdown()),o},r.onChange=function(t){r.toggleDropdown(),t!==r.props.year&&r.props.onChange(t)},r.toggleDropdown=function(t){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,t)})},r.handleYearChange=function(t,o){var u;(u=r.onSelect)===null||u===void 0||u.call(r,t,o),r.setOpen()},r.onSelect=function(t,o){var u,d;(d=(u=r.props).onSelect)===null||d===void 0||d.call(u,t,o)},r.setOpen=function(){var t,o;(o=(t=r.props).setOpen)===null||o===void 0||o.call(t,!0)},r}return l.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return ne.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)},l})(S.Component),J4=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],m1="react-datepicker-ignore-onclickoutside",e3=function(s){var l=(s.className||"").split(/\s+/);return J4.some(function(r){return l.indexOf(r)>=0})},t3=(function(s){Kt(l,s);function l(r){var t=s.call(this,r)||this;return t.monthContainer=void 0,t.handleClickOutside=function(o){t.props.onClickOutside(o)},t.setClickOutsideRef=function(){return t.containerRef.current},t.handleDropdownFocus=function(o){var u,d;e3(o.target)&&((d=(u=t.props).onDropdownFocus)===null||d===void 0||d.call(u,o))},t.getDateInView=function(){var o=t.props,u=o.preSelection,d=o.selected,m=o.openToDate,x=o1(t.props),p=c1(t.props),v=Ke(),b=m||d||u;return b||(x&&vn(v,x)?x:p&&Wn(v,p)?p:v)},t.increaseMonth=function(){t.setState(function(o){var u=o.date;return{date:nn(u,1)}},function(){return t.handleMonthChange(t.state.date)})},t.decreaseMonth=function(){t.setState(function(o){var u=o.date;return{date:ps(u,1)}},function(){return t.handleMonthChange(t.state.date)})},t.handleDayClick=function(o,u,d){t.props.onSelect(o,u,d),t.props.setPreSelection&&t.props.setPreSelection(o)},t.handleDayMouseEnter=function(o){t.setState({selectingDate:o}),t.props.onDayMouseEnter&&t.props.onDayMouseEnter(o)},t.handleMonthMouseLeave=function(){t.setState({selectingDate:void 0}),t.props.onMonthMouseLeave&&t.props.onMonthMouseLeave()},t.handleYearMouseEnter=function(o,u){t.setState({selectingDate:fn(Ke(),u)}),t.props.onYearMouseEnter&&t.props.onYearMouseEnter(o,u)},t.handleYearMouseLeave=function(o,u){t.props.onYearMouseLeave&&t.props.onYearMouseLeave(o,u)},t.handleYearChange=function(o){var u,d,m,x;(d=(u=t.props).onYearChange)===null||d===void 0||d.call(u,o),t.setState({isRenderAriaLiveMessage:!0}),t.props.adjustDateOnChange&&(t.props.onSelect(o),(x=(m=t.props).setOpen)===null||x===void 0||x.call(m,!0)),t.props.setPreSelection&&t.props.setPreSelection(o)},t.getEnabledPreSelectionDateForMonth=function(o){if(!$a(o,t.props))return o;for(var u=Zn(o),d=S4(o),m=RC(d,u),x=null,p=0;p<=m;p++){var v=en(u,p);if(!$a(v,t.props)){x=v;break}}return x},t.handleMonthChange=function(o){var u,d,m,x=(u=t.getEnabledPreSelectionDateForMonth(o))!==null&&u!==void 0?u:o;t.handleCustomMonthChange(x),t.props.adjustDateOnChange&&(t.props.onSelect(x),(m=(d=t.props).setOpen)===null||m===void 0||m.call(d,!0)),t.props.setPreSelection&&t.props.setPreSelection(x)},t.handleCustomMonthChange=function(o){var u,d;(d=(u=t.props).onMonthChange)===null||d===void 0||d.call(u,o),t.setState({isRenderAriaLiveMessage:!0})},t.handleMonthYearChange=function(o){t.handleYearChange(o),t.handleMonthChange(o)},t.changeYear=function(o){t.setState(function(u){var d=u.date;return{date:fn(d,Number(o))}},function(){return t.handleYearChange(t.state.date)})},t.changeMonth=function(o){t.setState(function(u){var d=u.date;return{date:Ea(d,Number(o))}},function(){var u,d;t.handleMonthChange(t.state.date),(d=(u=t.props).onMonthSelectedInChange)===null||d===void 0||d.call(u,0)})},t.changeMonthYear=function(o){t.setState(function(u){var d=u.date;return{date:fn(Ea(d,ya(o)),He(o))}},function(){return t.handleMonthYearChange(t.state.date)})},t.header=function(o,u){if(o===void 0&&(o=t.state.date),u===void 0&&(u=0),!ga(o))return[];var d=t.props.disabled,m=Rr(o,t.props.locale,t.props.calendarStartDay),x=[];return t.props.showWeekNumbers&&x.push(ne.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(d?"react-datepicker__day-name--disabled":""),role:"columnheader"},ne.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),ne.createElement("span",{"aria-hidden":"true"},t.props.weekLabel||"#"))),x.concat([0,1,2,3,4,5,6].map(function(p){var v=en(m,p),b=t.formatWeekday(v,t.props.locale),j=xt(v,"EEEE",t.props.locale),w=t.props.weekDayClassName?t.props.weekDayClassName(v):void 0;if(t.props.renderCustomDayName){var M=t.props.renderCustomDayName({day:v,shortName:b,fullName:j,locale:t.props.locale,customDayNameCount:u});return ne.createElement("div",{key:p,role:"columnheader",className:zt("react-datepicker__day-name",w,d?"react-datepicker__day-name--disabled":"")},M)}return ne.createElement("div",{key:p,role:"columnheader",className:zt("react-datepicker__day-name",w,d?"react-datepicker__day-name--disabled":"")},ne.createElement("span",{className:"react-datepicker__sr-only"},j),ne.createElement("span",{"aria-hidden":"true"},b))}))},t.formatWeekday=function(o,u){return t.props.formatWeekDay?C4(o,t.props.formatWeekDay,u):t.props.useWeekdaysShort?D4(o,u):k4(o,u)},t.decreaseYear=function(){t.setState(function(o){var u,d=o.date;return{date:Ir(d,t.props.showYearPicker?(u=t.props.yearItemNumber)!==null&&u!==void 0?u:l.defaultProps.yearItemNumber:1)}},function(){return t.handleYearChange(t.state.date)})},t.clearSelectingDate=function(){t.setState({selectingDate:void 0})},t.renderPreviousButton=function(){var o,u,d;if(!t.props.renderCustomHeader){var m=(o=t.props.monthsShown)!==null&&o!==void 0?o:l.defaultProps.monthsShown,x=t.props.showPreviousMonths?m-1:0,p=(u=t.props.monthSelectedIn)!==null&&u!==void 0?u:x,v=ps(t.state.date,p),b;switch(!0){case t.props.disabled:b=!0;break;case t.props.showMonthYearPicker:b=vb(t.state.date,t.props);break;case t.props.showYearPicker:b=_4(t.state.date,t.props);break;case t.props.showQuarterYearPicker:b=T4(t.state.date,t.props);break;default:b=xb(v,t.props);break}if(!(!((d=t.props.forceShowMonthNavigation)!==null&&d!==void 0?d:l.defaultProps.forceShowMonthNavigation)&&!t.props.showDisabledMonthNavigation&&b||t.props.showTimeSelectOnly)){var j=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],w=["react-datepicker__navigation","react-datepicker__navigation--previous"],M=t.decreaseMonth;(t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker)&&(M=t.decreaseYear),b&&t.props.showDisabledMonthNavigation&&(w.push("react-datepicker__navigation--previous--disabled"),M=void 0);var C=t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker,y=t.props,N=y.previousMonthButtonLabel,D=N===void 0?l.defaultProps.previousMonthButtonLabel:N,g=y.previousYearButtonLabel,_=g===void 0?l.defaultProps.previousYearButtonLabel:g,P=t.props,U=P.previousMonthAriaLabel,G=U===void 0?typeof D=="string"?D:"Previous Month":U,E=P.previousYearAriaLabel,L=E===void 0?typeof _=="string"?_:"Previous Year":E;return ne.createElement("button",{type:"button",className:w.join(" "),onClick:M,onKeyDown:t.props.handleOnKeyDown,"aria-label":C?L:G},ne.createElement("span",{className:j.join(" ")},C?_:D))}}},t.increaseYear=function(){t.setState(function(o){var u,d=o.date;return{date:tn(d,t.props.showYearPicker?(u=t.props.yearItemNumber)!==null&&u!==void 0?u:l.defaultProps.yearItemNumber:1)}},function(){return t.handleYearChange(t.state.date)})},t.renderNextButton=function(){var o;if(!t.props.renderCustomHeader){var u;switch(!0){case t.props.disabled:u=!0;break;case t.props.showMonthYearPicker:u=bb(t.state.date,t.props);break;case t.props.showYearPicker:u=O4(t.state.date,t.props);break;case t.props.showQuarterYearPicker:u=E4(t.state.date,t.props);break;default:u=hb(t.state.date,t.props);break}if(!(!((o=t.props.forceShowMonthNavigation)!==null&&o!==void 0?o:l.defaultProps.forceShowMonthNavigation)&&!t.props.showDisabledMonthNavigation&&u||t.props.showTimeSelectOnly)){var d=["react-datepicker__navigation","react-datepicker__navigation--next"],m=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];t.props.showTimeSelect&&d.push("react-datepicker__navigation--next--with-time"),t.props.todayButton&&d.push("react-datepicker__navigation--next--with-today-button");var x=t.increaseMonth;(t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker)&&(x=t.increaseYear),u&&t.props.showDisabledMonthNavigation&&(d.push("react-datepicker__navigation--next--disabled"),x=void 0);var p=t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker,v=t.props,b=v.nextMonthButtonLabel,j=b===void 0?l.defaultProps.nextMonthButtonLabel:b,w=v.nextYearButtonLabel,M=w===void 0?l.defaultProps.nextYearButtonLabel:w,C=t.props,y=C.nextMonthAriaLabel,N=y===void 0?typeof j=="string"?j:"Next Month":y,D=C.nextYearAriaLabel,g=D===void 0?typeof M=="string"?M:"Next Year":D;return ne.createElement("button",{type:"button",className:d.join(" "),onClick:x,onKeyDown:t.props.handleOnKeyDown,"aria-label":p?g:N},ne.createElement("span",{className:m.join(" ")},p?M:j))}}},t.renderCurrentMonth=function(o){o===void 0&&(o=t.state.date);var u=["react-datepicker__current-month"];return t.props.showYearDropdown&&u.push("react-datepicker__current-month--hasYearDropdown"),t.props.showMonthDropdown&&u.push("react-datepicker__current-month--hasMonthDropdown"),t.props.showMonthYearDropdown&&u.push("react-datepicker__current-month--hasMonthYearDropdown"),ne.createElement("h2",{className:u.join(" ")},ga(o)?xt(o,t.props.dateFormat,t.props.locale):"")},t.renderYearDropdown=function(o){if(o===void 0&&(o=!1),!(!t.props.showYearDropdown||o))return ne.createElement(Z4,ze({},l.defaultProps,t.props,{date:t.state.date,onChange:t.changeYear,year:He(t.state.date)}))},t.renderMonthDropdown=function(o){if(o===void 0&&(o=!1),!(!t.props.showMonthDropdown||o))return ne.createElement(q4,ze({},l.defaultProps,t.props,{month:ya(t.state.date),onChange:t.changeMonth}))},t.renderMonthYearDropdown=function(o){if(o===void 0&&(o=!1),!(!t.props.showMonthYearDropdown||o))return ne.createElement(G4,ze({},l.defaultProps,t.props,{date:t.state.date,onChange:t.changeMonthYear}))},t.handleTodayButtonClick=function(o){t.props.onSelect(ub(),o),t.props.setPreSelection&&t.props.setPreSelection(ub())},t.renderTodayButton=function(){if(!(!t.props.todayButton||t.props.showTimeSelectOnly))return ne.createElement("div",{className:"react-datepicker__today-button",onClick:t.handleTodayButtonClick},t.props.todayButton)},t.renderDayNamesHeader=function(o,u){return u===void 0&&(u=0),ne.createElement("div",{className:"react-datepicker__day-names",role:"row"},t.header(o,u))},t.renderDefaultHeader=function(o){var u=o.monthDate,d=o.i,m=ne.createElement("div",{className:zt("react-datepicker__header",{"react-datepicker__header--has-time-select":t.props.showTimeSelect,"react-datepicker__header--middle":t.props.monthHeaderPosition==="middle","react-datepicker__header--bottom":t.props.monthHeaderPosition==="bottom"})},t.renderCurrentMonth(u),ne.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(t.props.dropdownMode),onFocus:t.handleDropdownFocus},t.renderMonthDropdown(d!==0),t.renderMonthYearDropdown(d!==0),t.renderYearDropdown(d!==0)));return t.props.monthHeaderPosition==="top"?m:ne.createElement("div",{className:"react-datepicker__header-wrapper"},t.renderPreviousButton()||null,t.renderNextButton()||null,m)},t.renderCustomHeader=function(o){var u,d,m=o.monthDate,x=o.i;if(t.props.showTimeSelect&&!t.state.monthContainer||t.props.showTimeSelectOnly)return null;var p=t.props,v=p.showYearPicker,b=p.yearItemNumber,j;if(v){var w=Kn(m,b),M=w.startPeriod,C=w.endPeriod;j={startYear:M,endYear:C}}var y=xb(t.state.date,t.props),N=hb(t.state.date,t.props),D=vb(t.state.date,t.props),g=bb(t.state.date,t.props);return ne.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:t.props.onDropdownFocus},(d=(u=t.props).renderCustomHeader)===null||d===void 0?void 0:d.call(u,ze(ze(ze({},t.state),v&&{visibleYearsRange:j}),{customHeaderCount:x,monthDate:m,changeMonth:t.changeMonth,changeYear:t.changeYear,decreaseMonth:t.decreaseMonth,increaseMonth:t.increaseMonth,decreaseYear:t.decreaseYear,increaseYear:t.increaseYear,prevMonthButtonDisabled:y,nextMonthButtonDisabled:N,prevYearButtonDisabled:D,nextYearButtonDisabled:g})))},t.renderYearHeader=function(o){var u=o.monthDate,d=t.props,m=d.showYearPicker,x=d.yearItemNumber,p=x===void 0?l.defaultProps.yearItemNumber:x,v=Kn(u,p),b=v.startPeriod,j=v.endPeriod;return ne.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},m?"".concat(b," - ").concat(j):He(u))},t.renderHeader=function(o){var u=o.monthDate,d=o.i,m=d===void 0?0:d,x={monthDate:u,i:m};switch(!0){case t.props.renderCustomHeader!==void 0:return t.renderCustomHeader(x);case(t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker):return t.renderYearHeader(x);default:return t.renderDefaultHeader(x)}},t.renderMonths=function(){var o,u;if(!(t.props.showTimeSelectOnly||t.props.showYearPicker)){for(var d=[],m=(o=t.props.monthsShown)!==null&&o!==void 0?o:l.defaultProps.monthsShown,x=t.props.showPreviousMonths?m-1:0,p=t.props.showMonthYearPicker||t.props.showQuarterYearPicker?tn(t.state.date,x):ps(t.state.date,x),v=(u=t.props.monthSelectedIn)!==null&&u!==void 0?u:x,b=0;b<m;++b){var j=b-v+x,w=t.props.showMonthYearPicker||t.props.showQuarterYearPicker?tn(p,j):nn(p,j),M="month-".concat(b),C=b<m-1,y=b>0;d.push(ne.createElement("div",{key:M,ref:function(N){t.monthContainer=N??void 0},className:"react-datepicker__month-container"},t.props.monthHeaderPosition==="top"&&t.renderHeader({monthDate:w,i:b}),ne.createElement(Y4,ze({},l.defaultProps,t.props,{containerRef:t.containerRef,ariaLabelPrefix:t.props.monthAriaLabelPrefix,day:w,onDayClick:t.handleDayClick,handleOnKeyDown:t.props.handleOnDayKeyDown,handleOnMonthKeyDown:t.props.handleOnKeyDown,onDayMouseEnter:t.handleDayMouseEnter,onMouseLeave:t.handleMonthMouseLeave,orderInDisplay:b,selectingDate:t.state.selectingDate,monthShowsDuplicateDaysEnd:C,monthShowsDuplicateDaysStart:y,dayNamesHeader:t.renderDayNamesHeader(w,b),monthHeader:t.props.monthHeaderPosition==="middle"?t.renderHeader({monthDate:w,i:b}):void 0,monthFooter:t.props.monthHeaderPosition==="bottom"?t.renderHeader({monthDate:w,i:b}):void 0}))))}return d}},t.renderYears=function(){if(!t.props.showTimeSelectOnly&&t.props.showYearPicker)return ne.createElement("div",{className:"react-datepicker__year--container"},t.renderHeader({monthDate:t.state.date}),ne.createElement(K4,ze({},l.defaultProps,t.props,{selectingDate:t.state.selectingDate,date:t.state.date,onDayClick:t.handleDayClick,clearSelectingDate:t.clearSelectingDate,onYearMouseEnter:t.handleYearMouseEnter,onYearMouseLeave:t.handleYearMouseLeave})))},t.renderTimeSection=function(){if(t.props.showTimeSelect&&(t.state.monthContainer||t.props.showTimeSelectOnly))return ne.createElement(Q4,ze({},l.defaultProps,t.props,{onChange:t.props.onTimeChange,format:t.props.timeFormat,intervals:t.props.timeIntervals,monthRef:t.state.monthContainer}))},t.renderInputTimeSection=function(){var o,u;if(t.props.showTimeInput){if(t.props.selectsRange){var d=t.props,m=d.startDate,x=d.endDate,p=m?new Date(m):void 0,v=p&&ga(p)&&!!m,b=v?"".concat(ol(p.getHours()),":").concat(ol(p.getMinutes())):"",j=x?new Date(x):void 0,w=j&&ga(j)&&!!x,M=w?"".concat(ol(j.getHours()),":").concat(ol(j.getMinutes())):"";return ne.createElement(ne.Fragment,null,ne.createElement(mf,ze({},l.defaultProps,t.props,{date:p,timeString:b,onChange:function(D){var g,_;(_=(g=t.props).onTimeChange)===null||_===void 0||_.call(g,D,"start")},timeInputLabel:((o=t.props.timeInputLabel)!==null&&o!==void 0?o:"Time")+" (Start)"})),ne.createElement(mf,ze({},l.defaultProps,t.props,{date:j,timeString:M,onChange:function(D){var g,_;(_=(g=t.props).onTimeChange)===null||_===void 0||_.call(g,D,"end")},timeInputLabel:((u=t.props.timeInputLabel)!==null&&u!==void 0?u:"Time")+" (End)"})))}var C=t.props.selected?new Date(t.props.selected):void 0,y=C&&ga(C)&&!!t.props.selected,N=y?"".concat(ol(C.getHours()),":").concat(ol(C.getMinutes())):"";return ne.createElement(mf,ze({},l.defaultProps,t.props,{date:C,timeString:N,onChange:function(D){var g,_;(_=(g=t.props).onTimeChange)===null||_===void 0||_.call(g,D)}}))}},t.renderAriaLiveRegion=function(){var o;if(!ga(t.state.date))return ne.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"});var u=Kn(t.state.date,(o=t.props.yearItemNumber)!==null&&o!==void 0?o:l.defaultProps.yearItemNumber),d=u.startPeriod,m=u.endPeriod,x;return t.props.showYearPicker?x="".concat(d," - ").concat(m):t.props.showMonthYearPicker||t.props.showQuarterYearPicker?x=He(t.state.date):x="".concat(pp(ya(t.state.date),t.props.locale)," ").concat(He(t.state.date)),ne.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},t.state.isRenderAriaLiveMessage&&x)},t.renderChildren=function(){if(t.props.children)return ne.createElement("div",{className:"react-datepicker__children-container"},t.props.children)},t.containerRef=S.createRef(),t.state={date:t.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},t}return Object.defineProperty(l,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:m1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:to,monthHeaderPosition:"top"}},enumerable:!1,configurable:!0}),l.prototype.componentDidMount=function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){r.setState({monthContainer:r.monthContainer})})())},l.prototype.componentDidUpdate=function(r){var t=this;if(this.props.preSelection&&ga(this.props.preSelection)&&(!$e(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var o=!la(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return o&&t.handleCustomMonthChange(t.state.date)})}else this.props.openToDate&&!$e(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})},l.prototype.render=function(){var r=this.props.container||h4;return ne.createElement(Ru,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},ne.createElement("div",{style:{display:"contents"},ref:this.containerRef},ne.createElement(r,{className:zt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.props.monthHeaderPosition==="top"&&this.renderPreviousButton(),this.props.monthHeaderPosition==="top"&&this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},l})(S.Component),a3=function(s){var l=s.icon,r=s.className,t=r===void 0?"":r,o=s.onClick,u="react-datepicker__calendar-icon";if(typeof l=="string")return ne.createElement("i",{className:"".concat(u," ").concat(l," ").concat(t),"aria-hidden":"true",onClick:o});if(ne.isValidElement(l)){var d=l;return ne.cloneElement(d,{className:"".concat(d.props.className||""," ").concat(u," ").concat(t),onClick:function(m){typeof d.props.onClick=="function"&&d.props.onClick(m),typeof o=="function"&&o(m)}})}return ne.createElement("svg",{className:"".concat(u," ").concat(t),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:o},ne.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},f1=(function(s){Kt(l,s);function l(r){var t=s.call(this,r)||this;return t.portalRoot=null,t.el=document.createElement("div"),t}return l.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},l.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},l.prototype.render=function(){return S2.createPortal(this.props.children,this.el)},l})(S.Component),n3="[tabindex], a, button, input, select, textarea",r3=function(s){return(s instanceof HTMLAnchorElement||!s.disabled)&&s.tabIndex!==-1},p1=(function(s){Kt(l,s);function l(r){var t=s.call(this,r)||this;return t.getTabChildren=function(){var o;return Array.prototype.slice.call((o=t.tabLoopRef.current)===null||o===void 0?void 0:o.querySelectorAll(n3),1,-1).filter(r3)},t.handleFocusStart=function(){var o=t.getTabChildren();o&&o.length>1&&o[o.length-1].focus()},t.handleFocusEnd=function(){var o=t.getTabChildren();o&&o.length>1&&o[0].focus()},t.tabLoopRef=S.createRef(),t}return l.prototype.render=function(){var r;return((r=this.props.enableTabLoop)!==null&&r!==void 0?r:l.defaultProps.enableTabLoop)?ne.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ne.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ne.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},l.defaultProps={enableTabLoop:!0},l})(S.Component);function s3(s){function l(r){var t,o=typeof r.hidePopper=="boolean"?r.hidePopper:!0,u=S.useRef(null),d=x4(ze({open:!o,whileElementsMounted:GM,placement:r.popperPlacement,middleware:bn([a4({padding:15}),t4(10),n4({element:u})],(t=r.popperModifiers)!==null&&t!==void 0?t:[],!0)},r.popperProps)),m=ze(ze({},r),{hidePopper:o,popperProps:ze(ze({},d),{arrowRef:u})});return ne.createElement(s,ze({},m))}return l.displayName="withFloating(".concat(s.displayName||s.name||"Component",")"),l}var l3=function(s){var l=s.className,r=s.wrapperClassName,t=s.hidePopper,o=t===void 0?!0:t,u=s.popperComponent,d=s.targetComponent,m=s.enableTabLoop,x=s.popperOnKeyDown,p=s.portalId,v=s.portalHost,b=s.popperProps,j=s.showArrow,w=s.popperTargetRef,M=s.monthHeaderPosition;S.useEffect(function(){w?.current&&b.refs.setPositionReference(w.current)},[w,b.refs]);var C=void 0;if(!o){var y=zt("react-datepicker-popper",!j&&"react-datepicker-popper-offset",M==="middle"&&"react-datepicker-popper--header-middle",M==="bottom"&&"react-datepicker-popper--header-bottom",l);C=ne.createElement(p1,{enableTabLoop:m},ne.createElement("div",{ref:b.refs.setFloating,style:b.floatingStyles,className:y,"data-placement":b.placement,onKeyDown:x},u,j&&ne.createElement(o4,{ref:b.arrowRef,context:b.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}s.popperContainer&&(C=S.createElement(s.popperContainer,{},C)),p&&!o&&(C=ne.createElement(f1,{portalId:p,portalHost:v},C));var N=zt("react-datepicker-wrapper",r);return ne.createElement(ne.Fragment,null,ne.createElement("div",{ref:b.refs.setReference,className:N},d),C)},i3=s3(l3);function kb(s,l){return s&&l?ya(s)!==ya(l)||He(s)!==He(l):s!==l}var pf="Date input not valid.",o3=(function(s){Kt(l,s);function l(r){var t=s.call(this,r)||this;return t.calendar=null,t.input=null,t.getPreSelection=function(){var o=t.props.timeZone,u=t.props.openToDate?t.props.openToDate:t.props.selectsEnd&&t.props.startDate?t.props.startDate:t.props.selectsStart&&t.props.endDate?t.props.endDate:Ke();return o?ob(u,o):u},t.modifyHolidays=function(){var o;return(o=t.props.holidays)===null||o===void 0?void 0:o.reduce(function(u,d){var m=rs(d.date,"yyyy-MM-dd",void 0,!1);return m?bn(bn([],u,!0),[ze(ze({},d),{date:m})],!1):u},[])},t.calcInitialState=function(){var o=t.props.timeZone,u=t.getPreSelection(),d=o1(t.props),m=c1(t.props),x=d&&vn(u,Fi(d))?d:m&&Wn(u,db(m))?m:u,p=t.props.selectsRange?t.props.startDate:t.props.selected;return p&&o&&(p=ob(p,o)),{open:t.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:p??x,highlightDates:gb(t.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},t.getInputValue=function(){var o,u=t.props,d=u.locale,m=u.startDate,x=u.endDate,p=u.rangeSeparator,v=u.selected,b=u.selectedDates,j=u.selectsMultiple,w=u.selectsRange,M=u.formatMultipleDates,C=u.value,y=(o=t.props.dateFormat)!==null&&o!==void 0?o:l.defaultProps.dateFormat,N=t.state.inputValue;if(typeof C=="string")return C;if(typeof N=="string")return N;if(w)return g4(m,x,{dateFormat:y,locale:d,rangeSeparator:p});if(j){if(M){var D=function(g){return ba(g,{dateFormat:y,locale:d})};return M(b??[],D)}return y4(b??[],{dateFormat:y,locale:d})}return ba(v,{dateFormat:y,locale:d})},t.resetHiddenStatus=function(){t.setState(ze(ze({},t.state),{wasHidden:!1}))},t.setHiddenStatus=function(){t.setState(ze(ze({},t.state),{wasHidden:!0}))},t.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&t.setHiddenStatus()},t.clearPreventFocusTimeout=function(){t.preventFocusTimeout&&clearTimeout(t.preventFocusTimeout)},t.setFocus=function(){var o,u;(u=(o=t.input)===null||o===void 0?void 0:o.focus)===null||u===void 0||u.call(o,{preventScroll:!0})},t.setBlur=function(){var o,u;(u=(o=t.input)===null||o===void 0?void 0:o.blur)===null||u===void 0||u.call(o),t.cancelFocusInput()},t.deferBlur=function(){requestAnimationFrame(function(){t.setBlur()})},t.setOpen=function(o,u){u===void 0&&(u=!1),t.setState({open:o,preSelection:o&&t.state.open?t.state.preSelection:t.calcInitialState().preSelection,lastPreSelectChange:xf},function(){o||t.setState(function(d){return{focused:u?d.focused:!1}},function(){!u&&t.deferBlur(),t.setState({inputValue:null})})})},t.inputOk=function(){return yn(t.state.preSelection)},t.isCalendarOpen=function(){return t.props.open===void 0?t.state.open&&!t.props.disabled&&!t.props.readOnly:t.props.open},t.handleFocus=function(o){var u,d,m=t.state.wasHidden,x=m?t.state.open:!0;m&&t.resetHiddenStatus(),t.state.preventFocus||((d=(u=t.props).onFocus)===null||d===void 0||d.call(u,o),x&&!t.props.preventOpenOnFocus&&!t.props.readOnly&&t.setOpen(!0)),t.setState({focused:!0})},t.sendFocusBackToInput=function(){t.preventFocusTimeout&&t.clearPreventFocusTimeout(),t.setState({preventFocus:!0},function(){t.preventFocusTimeout=setTimeout(function(){t.setFocus(),t.setState({preventFocus:!1})})})},t.cancelFocusInput=function(){clearTimeout(t.inputFocusTimeout),t.inputFocusTimeout=void 0},t.deferFocusInput=function(){t.cancelFocusInput(),t.inputFocusTimeout=setTimeout(function(){return t.setFocus()},1)},t.handleDropdownFocus=function(){t.cancelFocusInput()},t.resetInputValue=function(){t.setState(ze(ze({},t.state),{inputValue:null}))},t.handleBlur=function(o){var u,d;(!t.state.open||t.props.withPortal||t.props.showTimeInput)&&((d=(u=t.props).onBlur)===null||d===void 0||d.call(u,o));var m=t.state.inputValue;if(typeof m=="string"&&m.length>0){var x=/[a-zA-Z0-9]/.test(m);!x&&t.props.selected&&t.setSelected(null,void 0,!0)}t.resetInputValue(),t.state.open&&t.props.open===!1&&t.setOpen(!1),t.setState({focused:!1})},t.handleCalendarClickOutside=function(o){var u,d;(d=(u=t.props).onClickOutside)===null||d===void 0||d.call(u,o),!t.props.inline&&!o.defaultPrevented&&t.setOpen(!1),t.props.withPortal&&o.preventDefault()},t.handleChange=function(){for(var o,u,d,m,x,p,v,b,j=[],w=0;w<arguments.length;w++)j[w]=arguments[w];var M=j[0];if(!(t.props.onChangeRaw&&(t.props.onChangeRaw.apply(t,j),!M||typeof M.isDefaultPrevented!="function"||M.isDefaultPrevented()))){t.setState({inputValue:M?.target instanceof HTMLInputElement?M.target.value:null,lastPreSelectChange:c3});var C=t.props,y=C.selectsRange,N=C.startDate,D=C.endDate,g=(o=t.props.dateFormat)!==null&&o!==void 0?o:l.defaultProps.dateFormat,_=(u=t.props.strictParsing)!==null&&u!==void 0?u:l.defaultProps.strictParsing,P=M?.target instanceof HTMLInputElement?M.target.value:"";if(y){var U=t.props.rangeSeparator,G=U.trim(),E=P.split(g.includes(G)?U:G,2).map(function(O){return O.trim()}),L=E[0],B=E[1],W=rs(L??"",g,t.props.locale,_),A=W?rs(B??"",g,t.props.locale,_):null,se=((d=ms(N))===null||d===void 0?void 0:d.getTime())!==W?.getTime(),q=((m=ms(D))===null||m===void 0?void 0:m.getTime())!==A?.getTime();if(!se&&!q||W&&$a(W,t.props)||A&&$a(A,t.props))return;W&&t.setState({preSelection:W}),(p=(x=t.props).onChange)===null||p===void 0||p.call(x,[W,A],M)}else{var J=rs(P,g,t.props.locale,_,(v=t.props.selected)!==null&&v!==void 0?v:void 0);if(J||!P)t.setSelected(J,M,!0);else if(!t.props.inline){var z=b4(P,(b=t.state.preSelection)!==null&&b!==void 0?b:void 0);z&&(!t.props.minDate||!vn(z,t.props.minDate))&&(!t.props.maxDate||!Wn(z,t.props.maxDate))&&t.setState({preSelection:z})}}}},t.handleSelect=function(o,u,d){var m;if(!t.props.readOnly){var x=t.props,p=x.selectsRange,v=x.startDate,b=x.endDate,j=x.locale,w=x.swapRange,M=(m=t.props.dateFormat)!==null&&m!==void 0?m:l.defaultProps.dateFormat,C=!p||v&&!b&&(w||!df(o,v));if(t.props.shouldCloseOnSelect&&!t.props.showTimeSelect&&C&&t.sendFocusBackToInput(),t.props.onChangeRaw){var y=ba(o,{dateFormat:M,locale:j});t.props.onChangeRaw(u,{date:o,formattedDate:y})}t.setSelected(o,u,!1,d),t.props.showDateSelect&&t.setState({isRenderAriaLiveMessage:!0}),!t.props.shouldCloseOnSelect||t.props.showTimeSelect?t.setPreSelection(o):C&&t.setOpen(!1)}},t.setSelected=function(o,u,d,m){var x,p,v=t.props.timeZone,b=o;if(b&&v&&(b=Gn(b,v)),t.props.showYearPicker){if(b!==null&&Wc(He(b),t.props))return}else if(t.props.showMonthYearPicker){if(b!==null&&i1(b,t.props))return}else if(b!==null&&$a(b,t.props))return;var j=t.props,w=j.onChange,M=j.selectsRange,C=j.startDate,y=j.endDate,N=j.selectsMultiple,D=j.selectedDates,g=j.minTime,_=j.swapRange;if(!fs(t.props.selected,b)||t.props.allowSameDay||M||N)if(b!==null&&(t.props.selected&&(!d||!t.props.showTimeSelect&&!t.props.showTimeSelectOnly&&!t.props.showTimeInput)&&(b=Qn(b,{hour:ea(t.props.selected),minute:ta(t.props.selected),second:Or(t.props.selected)})),!d&&(t.props.showTimeSelect||t.props.showTimeSelectOnly)&&g&&(b=Qn(b,{hour:g.getHours(),minute:g.getMinutes(),second:g.getSeconds()})),t.props.inline||t.setState({preSelection:b}),t.props.focusSelectedMonth||t.setState({monthSelectedIn:m})),M){var P=w,U=!C&&!y,G=C&&!y,E=!C&&!!y,L=C&&y;U?P?.([b,null],u):G?b===null?P?.([null,null],u):df(b,C)?P?.(_?[b,C]:[b,null],u):P?.([C,b],u):E&&(b&&df(b,y)?P?.([b,y],u):P?.([b,null],u)),L&&P?.([b,null],u)}else if(N){var B=w;if(b!==null)if(!D?.length)B?.([b],u);else{var W=D.some(function(se){return $e(se,b)});if(W){var A=D.filter(function(se){return!$e(se,b)});B?.(A,u)}else B?.(bn(bn([],D,!0),[b],!1),u)}}else w?.(b,u);d||((p=(x=t.props).onSelect)===null||p===void 0||p.call(x,b,u),t.setState({inputValue:null}))},t.setPreSelection=function(o){if(!t.props.readOnly){var u=yn(t.props.minDate),d=yn(t.props.maxDate),m=!0;if(o){var x=Fi(o);if(u&&d)m=os(o,t.props.minDate,t.props.maxDate);else if(u){var p=Fi(t.props.minDate);m=Wn(o,p)||fs(x,p)}else if(d){var v=db(t.props.maxDate);m=vn(o,v)||fs(x,v)}}m&&t.setState({preSelection:o})}},t.toggleCalendar=function(){t.setOpen(!t.state.open)},t.handleTimeChange=function(o,u){var d,m;if(!t.props.selectsMultiple){var x=t.props,p=x.selectsRange,v=x.startDate,b=x.endDate,j=x.onChange,w=x.timeZone;if(p){var M=j;if(u==="start"){if(v){var C=Qn(v,{hour:ea(o),minute:ta(o)});t.setState({preSelection:C}),w&&(C=Gn(C,w)),M?.([C,b?w?Gn(b,w):b:null],void 0)}}else if(u==="end"){if(b){var y=Qn(b,{hour:ea(o),minute:ta(o)});t.setState({preSelection:y}),w&&(y=Gn(y,w)),M?.([v?w?Gn(v,w):v:null,y],void 0)}}else{var N=v&&!b;if(N){var C=Qn(v,{hour:ea(o),minute:ta(o)});t.setState({preSelection:C}),w&&(C=Gn(C,w)),M?.([C,null],void 0)}else if(v&&b){var y=Qn(b,{hour:ea(o),minute:ta(o)});t.setState({preSelection:y}),w&&(y=Gn(y,w)),M?.([w?Gn(v,w):v,y],void 0)}else{var D=Qn(t.getPreSelection(),{hour:ea(o),minute:ta(o)});t.setState({preSelection:D})}}}else{var g=t.props.selected?t.props.selected:t.getPreSelection(),D=t.props.selected?o:Qn(g,{hour:ea(o),minute:ta(o)});t.setState({preSelection:D}),D&&w&&(D=Gn(D,w)),(m=(d=t.props).onChange)===null||m===void 0||m.call(d,D)}t.props.shouldCloseOnSelect&&!t.props.showTimeInput&&(t.sendFocusBackToInput(),t.setOpen(!1)),t.props.showTimeInput&&t.setOpen(!0),(t.props.showTimeSelectOnly||t.props.showTimeSelect)&&t.setState({isRenderAriaLiveMessage:!0}),t.setState({inputValue:null})}},t.onInputClick=function(){var o,u;!t.props.disabled&&!t.props.readOnly&&t.setOpen(!0),(u=(o=t.props).onInputClick)===null||u===void 0||u.call(o)},t.handleTimeOnlyArrowKey=function(o){var u,d,m,x,p=ms(t.props.selected)||t.state.preSelection||Ke(),v=(u=t.props.timeIntervals)!==null&&u!==void 0?u:30,b=(d=t.props.dateFormat)!==null&&d!==void 0?d:l.defaultProps.dateFormat,j=Array.isArray(b)?b[0]:b,w=Fi(p),M=ea(p)*60+ta(p),C=1440-v,y;if(o===be.ArrowUp){var N=Math.max(0,M-v);y=Vi(w,N)}else{var N=Math.min(C,M+v);y=Vi(w,N)}var D=xt(y,j||l.defaultProps.dateFormat,t.props.locale);if(t.setState({preSelection:y,inputValue:D}),!(t.props.selectsRange||t.props.selectsMultiple)){var g=t.props.selected?t.props.selected:t.getPreSelection(),_=t.props.selected?y:Qn(g,{hour:ea(y),minute:ta(y)});(x=(m=t.props).onChange)===null||x===void 0||x.call(m,_),(t.props.showTimeSelectOnly||t.props.showTimeSelect)&&t.setState({isRenderAriaLiveMessage:!0}),requestAnimationFrame(function(){t.scrollToTimeOption(y)})}},t.handleTimeOnlyEnterKey=function(o){var u,d,m,x,p=o.target,v=p.value,b=(u=t.props.dateFormat)!==null&&u!==void 0?u:l.defaultProps.dateFormat,j=t.props.timeFormat||"p",w=t.state.preSelection||ms(t.props.selected)||Ke(),M=rs(v,b,t.props.locale,(d=t.props.strictParsing)!==null&&d!==void 0?d:!1,w),C=w;if(M&&ga(M))C=M;else{var y=((m=t.calendar)===null||m===void 0?void 0:m.containerRef.current)instanceof Element&&t.calendar.containerRef.current.querySelector(".react-datepicker__time-list-item[tabindex='0']");if(y instanceof HTMLElement){var N=(x=y.textContent)===null||x===void 0?void 0:x.trim();if(N){var D=rs(N,j,t.props.locale,!1,w);D&&ga(D)&&(C=D)}}}t.handleTimeChange(C),t.setOpen(!1),t.sendFocusBackToInput()},t.scrollToTimeOption=function(o){var u,d;if(!((u=t.calendar)===null||u===void 0)&&u.containerRef.current){for(var m=t.calendar.containerRef.current,x=Array.from(m.querySelectorAll(".react-datepicker__time-list-item")),p=null,v=1/0,b=t.props.timeFormat||"p",j=0,w=x;j<w.length;j++){var M=w[j],C=(d=M.textContent)===null||d===void 0?void 0:d.trim();if(C){var y=rs(C,b,t.props.locale,!1,o);if(y&&ga(y)){if(u1(y,o)){p=M;break}var N=Math.abs(y.getTime()-o.getTime());N<v&&(v=N,p=M)}}}p&&(x.forEach(function(D){D.setAttribute("tabindex","-1")}),p.setAttribute("tabindex","0"),p.scrollIntoView({behavior:"smooth",block:"center"}))}},t.onInputKeyDown=function(o){var u,d,m,x,p,v;(d=(u=t.props).onKeyDown)===null||d===void 0||d.call(u,o);var b=o.key;if(!t.state.open&&!t.props.inline&&!t.props.preventOpenOnFocus){(b===be.ArrowDown||b===be.ArrowUp||b===be.Enter)&&((m=t.onInputClick)===null||m===void 0||m.call(t));return}if(t.state.open&&t.props.showTimeSelectOnly){if(b===be.ArrowDown||b===be.ArrowUp){o.preventDefault(),t.handleTimeOnlyArrowKey(b);return}if(b===be.Enter){o.preventDefault(),t.handleTimeOnlyEnterKey(o);return}}if(t.state.open){if(b===be.ArrowDown||b===be.ArrowUp){o.preventDefault();var j=t.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":t.props.showWeekPicker&&t.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':t.props.showFullMonthYearPicker||t.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',w=((x=t.calendar)===null||x===void 0?void 0:x.containerRef.current)instanceof Element&&t.calendar.containerRef.current.querySelector(j);w instanceof HTMLElement&&w.focus({preventScroll:!0});return}var M=Ke(t.state.preSelection);b===be.Enter?(o.preventDefault(),o.target.blur(),t.inputOk()&&t.state.lastPreSelectChange===xf?(t.handleSelect(M,o),!t.props.shouldCloseOnSelect&&t.setPreSelection(M)):t.setOpen(!1)):b===be.Escape?(o.preventDefault(),o.target.blur(),t.sendFocusBackToInput(),t.setOpen(!1)):b===be.Tab&&t.setOpen(!1),t.inputOk()||(v=(p=t.props).onInputError)===null||v===void 0||v.call(p,{code:1,msg:pf})}},t.onPortalKeyDown=function(o){var u=o.key;u===be.Escape&&(o.preventDefault(),t.setState({preventFocus:!0},function(){t.setOpen(!1),setTimeout(function(){t.setFocus(),t.setState({preventFocus:!1})})}))},t.onDayKeyDown=function(o){var u,d,m,x,p,v,b=t.props,j=b.minDate,w=b.maxDate,M=b.disabledKeyboardNavigation,C=b.showWeekPicker,y=b.shouldCloseOnSelect,N=b.locale,D=b.calendarStartDay,g=b.adjustDateOnChange,_=b.inline;if((d=(u=t.props).onKeyDown)===null||d===void 0||d.call(u,o),!M){var P=o.key,U=o.shiftKey,G=Ke(t.state.preSelection),E=function(W,A){var se=A;switch(W){case be.ArrowRight:se=C?iu(A,1):en(A,1);break;case be.ArrowLeft:se=C?K0(A):RD(A);break;case be.ArrowUp:se=K0(A);break;case be.ArrowDown:se=iu(A,1);break;case be.PageUp:se=U?Ir(A,1):ps(A,1);break;case be.PageDown:se=U?tn(A,1):nn(A,1);break;case be.Home:se=Rr(A,N,D);break;case be.End:se=w4(A);break}return se},L=function(W,A){for(var se=40,q=W,J=!1,z=0,O=E(W,A);!J;){if(z>=se){O=A;break}j&&O<j&&(q=be.ArrowRight,O=$a(j,t.props)?E(q,O):j),w&&O>w&&(q=be.ArrowLeft,O=$a(w,t.props)?E(q,O):w),$a(O,t.props)?((q===be.PageUp||q===be.Home)&&(q=be.ArrowRight),(q===be.PageDown||q===be.End)&&(q=be.ArrowLeft),O=E(q,O)):J=!0,z++}return O};if(P===be.Enter){o.preventDefault(),t.handleSelect(G,o),!y&&t.setPreSelection(G);return}else if(P===be.Escape){o.preventDefault(),t.setOpen(!1),t.inputOk()||(x=(m=t.props).onInputError)===null||x===void 0||x.call(m,{code:1,msg:pf});return}var B=null;switch(P){case be.ArrowLeft:case be.ArrowRight:case be.ArrowUp:case be.ArrowDown:case be.PageUp:case be.PageDown:case be.Home:case be.End:B=L(P,G);break}if(!B){(v=(p=t.props).onInputError)===null||v===void 0||v.call(p,{code:1,msg:pf});return}o.preventDefault(),t.setState({lastPreSelectChange:xf}),g&&t.setSelected(B),t.setPreSelection(B),_&&t.setState({shouldFocusDayInline:!0})}},t.onPopperKeyDown=function(o){var u=o.key;u===be.Escape&&(o.preventDefault(),t.sendFocusBackToInput(),t.setOpen(!1))},t.onClearClick=function(o){o&&o.preventDefault&&o.preventDefault(),t.sendFocusBackToInput();var u=t.props,d=u.selectsRange,m=u.onChange;m?.(d?[null,null]:null,o),t.setState({inputValue:null})},t.clear=function(){t.onClearClick()},t.onScroll=function(o){typeof t.props.closeOnScroll=="boolean"&&t.props.closeOnScroll?(o.target===document||o.target===document.documentElement||o.target===document.body)&&t.setOpen(!1):typeof t.props.closeOnScroll=="function"&&t.props.closeOnScroll(o)&&t.setOpen(!1)},t.handleMonthSelectedInChange=function(o){t.setState({monthSelectedIn:o})},t.renderCalendar=function(){var o,u;return!t.props.inline&&!t.isCalendarOpen()?null:ne.createElement(t3,ze({showMonthYearDropdown:void 0,ref:function(d){t.calendar=d}},t.props,t.state,{setOpen:t.setOpen,dateFormat:(o=t.props.dateFormatCalendar)!==null&&o!==void 0?o:l.defaultProps.dateFormatCalendar,onSelect:t.handleSelect,onClickOutside:t.handleCalendarClickOutside,holidays:I4(t.modifyHolidays()),outsideClickIgnoreClass:t.props.outsideClickIgnoreClass,onDropdownFocus:t.handleDropdownFocus,onTimeChange:t.handleTimeChange,className:t.props.calendarClassName,container:t.props.calendarContainer,handleOnKeyDown:t.props.onKeyDown,handleOnDayKeyDown:t.onDayKeyDown,setPreSelection:t.setPreSelection,dropdownMode:(u=t.props.dropdownMode)!==null&&u!==void 0?u:l.defaultProps.dropdownMode,onMonthSelectedInChange:t.handleMonthSelectedInChange}),t.props.children)},t.renderAriaLiveRegion=function(){var o,u=t.props.locale,d=(o=t.props.dateFormat)!==null&&o!==void 0?o:l.defaultProps.dateFormat,m=t.props.showTimeInput||t.props.showTimeSelect,x=m?"PPPPp":"PPPP",p;return t.props.selectsRange?p="Selected start date: ".concat(ba(t.props.startDate,{dateFormat:x,locale:u}),". ").concat(t.props.endDate?"End date: "+ba(t.props.endDate,{dateFormat:x,locale:u}):""):t.props.showTimeSelectOnly?p="Selected time: ".concat(ba(t.props.selected,{dateFormat:d,locale:u})):t.props.showYearPicker?p="Selected year: ".concat(ba(t.props.selected,{dateFormat:"yyyy",locale:u})):t.props.showMonthYearPicker?p="Selected month: ".concat(ba(t.props.selected,{dateFormat:"MMMM yyyy",locale:u})):t.props.showQuarterYearPicker?p="Selected quarter: ".concat(ba(t.props.selected,{dateFormat:"yyyy, QQQ",locale:u})):p="Selected date: ".concat(ba(t.props.selected,{dateFormat:x,locale:u})),ne.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},p)},t.renderDateInput=function(){var o,u,d,m,x,p,v,b=zt(t.props.className,(o={},o[t.props.outsideClickIgnoreClass||l.defaultProps.outsideClickIgnoreClass]=t.state.open,o)),j=t.props.customInput||ne.createElement("input",{type:"text"}),w=t.props.customInputRef||"ref",M={},C=(d=t.props["aria-describedby"])!==null&&d!==void 0?d:t.props.ariaDescribedBy,y=(m=t.props["aria-invalid"])!==null&&m!==void 0?m:t.props.ariaInvalid,N=(x=t.props["aria-label"])!==null&&x!==void 0?x:t.props.ariaLabel,D=(p=t.props["aria-labelledby"])!==null&&p!==void 0?p:t.props.ariaLabelledBy,g=(v=t.props["aria-required"])!==null&&v!==void 0?v:t.props.ariaRequired;return C!=null&&(M["aria-describedby"]=C),y!=null&&(M["aria-invalid"]=y),N!=null&&(M["aria-label"]=N),D!=null&&(M["aria-labelledby"]=D),g!=null&&(M["aria-required"]=g),S.cloneElement(j,ze((u={},u[w]=function(_){t.input=_},u.value=t.getInputValue(),u.onBlur=t.handleBlur,u.onChange=t.handleChange,u.onClick=t.onInputClick,u.onFocus=t.handleFocus,u.onKeyDown=t.onInputKeyDown,u.id=t.props.id,u.name=t.props.name,u.form=t.props.form,u.autoFocus=t.props.autoFocus,u.placeholder=t.props.placeholderText,u.disabled=t.props.disabled,u.autoComplete=t.props.autoComplete,u.className=zt(j.props.className,b),u.title=t.props.title,u.readOnly=t.props.readOnly,u.required=t.props.required,u.tabIndex=t.props.tabIndex,u),M))},t.renderClearButton=function(){var o=t.props,u=o.isClearable,d=o.disabled,m=o.selected,x=o.startDate,p=o.endDate,v=o.clearButtonTitle,b=o.clearButtonClassName,j=b===void 0?"":b,w=o.ariaLabelClose,M=w===void 0?"Close":w,C=o.selectedDates,y=o.readOnly;return u&&!y&&(m!=null||x!=null||p!=null||C?.length)?ne.createElement("button",{type:"button",className:zt("react-datepicker__close-icon",j,{"react-datepicker__close-icon--disabled":d}),disabled:d,"aria-label":M,onClick:t.onClearClick,title:v,tabIndex:-1}):null},t.state=t.calcInitialState(),t.preventFocusTimeout=void 0,t}return Object.defineProperty(l,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:m1,readOnly:!1,rangeSeparator:s1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:to,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),l.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},l.prototype.componentDidUpdate=function(r,t){var o,u,d,m;this.props.selectsRange&&kb(r.startDate,this.props.startDate)?this.setPreSelection(this.props.startDate):kb(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),this.props.selectsRange&&t.open===!1&&this.state.open===!0&&this.state.monthSelectedIn!==0&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:gb(this.props.highlightDates)}),!t.focused&&!fs(r.selected,this.props.selected)&&this.setState({inputValue:null}),t.open!==this.state.open&&(t.open===!1&&this.state.open===!0&&((u=(o=this.props).onCalendarOpen)===null||u===void 0||u.call(o)),t.open===!0&&this.state.open===!1&&((m=(d=this.props).onCalendarClose)===null||m===void 0||m.call(d)))},l.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},l.prototype.renderInputContainer=function(){var r=this.props,t=r.showIcon,o=r.icon,u=r.calendarIconClassname,d=r.calendarIconClassName,m=r.toggleCalendarOnIconClick,x=this.state.open;return u&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ne.createElement("div",{className:"react-datepicker__input-container".concat(t?" react-datepicker__view-calendar-icon":"")},t&&ne.createElement(a3,ze({icon:o,className:zt(d,!d&&u,x&&"react-datepicker-ignore-onclickoutside")},m?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},l.prototype.render=function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var t=this.state.open?ne.createElement(p1,{enableTabLoop:this.props.enableTabLoop},ne.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(t=ne.createElement(f1,ze({portalId:this.props.portalId},this.props),t)),ne.createElement(ne.Fragment,null,this.renderInputContainer(),t)}return ne.createElement(i3,ze({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:r,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow,monthHeaderPosition:this.props.monthHeaderPosition}))},l})(S.Component),c3="input",xf="navigate";function It({open:s,onClose:l,title:r,children:t,wide:o}){const u=S.useRef(null);return S.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[s]),S.useEffect(()=>{function d(m){m.key==="Escape"&&l()}return s&&window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[s,l]),s?n.jsxs("div",{ref:u,className:"fixed inset-0 z-50 flex items-start justify-center pt-[5vh] sm:pt-[10vh] px-4",onClick:d=>{d.target===u.current&&l()},children:[n.jsx("div",{className:"fixed inset-0 bg-black/60"}),n.jsxs("div",{className:`relative bg-[var(--bg-card)] border border-[var(--border)] rounded-xl shadow-2xl w-full ${o?"max-w-2xl":"max-w-lg"} max-h-[80vh] flex flex-col animate-fade-in`,children:[n.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-[var(--border-light)] shrink-0",children:[n.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:r}),n.jsx("button",{onClick:l,className:"p-1.5 rounded-lg text-[var(--text-dim)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:n.jsx(Zi,{size:16})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto px-5 py-4",children:t})]})]}):null}function ee({label:s,required:l,error:r,children:t}){return n.jsxs("div",{children:[n.jsxs("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:[s,l&&n.jsx("span",{className:"text-rose-500 ml-0.5",children:"*"})]}),t,r&&n.jsx("p",{className:"text-xs text-rose-500 mt-1",children:r})]})}function pe({value:s,onChange:l,placeholder:r,type:t="text",sensitive:o,...u}){const{masked:d}=Cn();return n.jsx("input",{type:t,value:s,onChange:m=>l(m.target.value),placeholder:r,className:`w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors ${o&&d?"sensitive-blur":""}`,...u})}function x1({value:s,onChange:l,...r}){const t=s?new Date(s+"T00:00:00"):null;function o(u){if(!u){l("");return}const d=u.getFullYear(),m=String(u.getMonth()+1).padStart(2,"0"),x=String(u.getDate()).padStart(2,"0");l(`${d}-${m}-${x}`)}return n.jsxs("div",{className:"relative cf-datepicker",children:[n.jsx(o3,{selected:t,onChange:o,dateFormat:"dd MMM yyyy",maxDate:new Date,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",placeholderText:"Select date",className:"w-full px-3 py-2 pr-9 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors",...r}),n.jsx(RS,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)] pointer-events-none"})]})}function _e({value:s,onChange:l,options:r,placeholder:t}){return n.jsxs("select",{value:s,onChange:o=>l(o.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors",children:[t&&n.jsx("option",{value:"",children:t}),r.map(o=>n.jsx("option",{value:o.value,children:o.label},o.value))]})}function kl({value:s,onChange:l,placeholder:r,rows:t=3}){return n.jsx("textarea",{value:s,onChange:o=>l(o.target.value),placeholder:r,rows:t,className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors resize-none"})}function u3({checked:s,onChange:l,label:r}){return n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:s,onChange:t=>l(t.target.checked),className:"w-4 h-4 rounded border-[var(--border-input)] bg-[var(--bg-input)] text-violet-500 focus:ring-violet-500"}),n.jsx("span",{className:"text-sm text-[var(--text-secondary)]",children:r})]})}function aa({onCancel:s,onSubmit:l,submitLabel:r="Save",loading:t}){return n.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4 mt-4 border-t border-[var(--border-light)]",children:[n.jsx("button",{onClick:s,disabled:t,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),n.jsxs("button",{onClick:l,disabled:t,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 flex items-center gap-1.5",children:[t&&n.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),t?"Saving...":r]})]})}function Dn({onClick:s,label:l="Deactivate"}){return n.jsx("button",{onClick:s,className:"px-4 py-2 text-xs font-semibold text-rose-400 hover:text-rose-300 hover:bg-rose-500/10 rounded-lg transition-colors",children:l})}const Db=[{key:"sip",label:"Adjust SIP",icon:Y5,color:"text-blue-400",dimColor:"text-blue-400/60 hover:text-blue-400",activeBg:"bg-blue-500/20 border border-blue-500/40"},{key:"lumpsum",label:"Lumpsum",icon:h5,color:"text-emerald-400",dimColor:"text-emerald-400/60 hover:text-emerald-400",activeBg:"bg-emerald-500/20 border border-emerald-500/40"},{key:"buysell",label:"Buy / Sell",icon:MS,color:"text-amber-400",dimColor:"text-amber-400/60 hover:text-amber-400",activeBg:"bg-amber-500/20 border border-amber-500/40"}];function cs(s){return s>=1e5?`${(s/1e5).toFixed(1)}L`:s>=1e3?`${(s/1e3).toFixed(0)}K`:`${Math.round(s)}`}function hp({exitOnly:s}){return n.jsx("div",{className:"py-4 text-center space-y-1",children:s?n.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Only exit candidates here  use ",n.jsx("span",{className:"font-semibold text-amber-400",children:"Buy / Sell"})," tab"]}):n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"No target allocations set"}),n.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Use ",n.jsx("span",{className:"font-semibold text-violet-400",children:"Allocations"})," to set target % for each fund first"]})]})})}function d3({portfolio:s,holdings:l,totalValue:r}){const t=s.sipTarget||0,o=(s.rebalanceThreshold||.05)*100,u=l.some(j=>j.targetAllocationPct>0),d=l.some(j=>j.targetAllocationPct===0&&j.units>0);if(!u)return n.jsx(hp,{exitOnly:d});if(t<=0)return n.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"No SIP target set for this portfolio"});const m=l.filter(j=>j.targetAllocationPct>0).map(j=>{const w=r>0?j.currentValue/r*100:0,M=Math.abs(w-j.targetAllocationPct),C=M>o,N=j.targetAllocationPct/100*r-j.currentValue,D=j.targetAllocationPct/100*t;return{...j,currentPct:w,drift:M,drifted:C,gap:N,normalSIP:D}}),x=m.filter(j=>j.drifted&&j.gap>0);m.filter(j=>j.drifted&&j.gap<=0);const p=x.reduce((j,w)=>j+w.gap,0),v=m.map(j=>({...j,suggestedSIP:j.drifted&&j.gap>0&&p>0?j.gap/p*t:j.drifted&&j.gap<=0?0:j.normalSIP}));return m.some(j=>j.drifted)?n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Funds drifted >",o.toFixed(0),"%: overweight  0, underweight  extra SIP. Others keep normal SIP."]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[n.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),n.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Allocation"}),n.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Normal SIP"}),n.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Rebalance SIP"})]})}),n.jsx("tbody",{children:v.map(j=>{const w=j.drifted&&j.gap<=0,M=j.drifted&&j.gap>0,C=!j.drifted;return n.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 ${C?"opacity-50":w?"opacity-60":""}`,children:[n.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:j.fundName}),n.jsxs("td",{className:"py-2 px-2 text-right tabular-nums",children:[n.jsxs("span",{className:w?"text-amber-400":M?"text-blue-400":"text-[var(--text-dim)]",children:[j.currentPct.toFixed(1),"%"]}),n.jsxs("span",{className:"text-[var(--text-dim)]",children:[" / ",j.targetAllocationPct.toFixed(1),"%"]})]}),n.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:cs(j.normalSIP)}),n.jsx("td",{className:"py-2 px-2 text-right font-semibold tabular-nums",children:w?n.jsx("span",{className:"text-amber-400/70",children:"0"}):M?n.jsx("span",{className:"text-blue-400",children:cs(j.suggestedSIP)}):n.jsx("span",{className:"text-[var(--text-dim)]",children:cs(j.suggestedSIP)})})]},j.holdingId)})}),n.jsx("tfoot",{children:n.jsxs("tr",{className:"border-t border-[var(--border)]",children:[n.jsx("td",{className:"py-1.5 px-2 text-xs font-bold text-[var(--text-primary)]",colSpan:2,children:"Total"}),n.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums",children:cs(t)}),n.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-blue-400 tabular-nums",children:cs(t)})]})})]})})]}):n.jsxs("p",{className:"text-xs text-[var(--text-dim)] py-2",children:["SIPs are balanced (within ",o.toFixed(0),"% threshold)"]})}function m3({portfolio:s,holdings:l,totalValue:r}){const[t,o]=S.useState("");(s.rebalanceThreshold||.05)*100;const u=l.some(C=>C.targetAllocationPct>0),d=l.some(C=>C.targetAllocationPct===0&&C.units>0);if(!u)return n.jsx(hp,{exitOnly:d});const m=l.filter(C=>C.targetAllocationPct>0).map(C=>{const y=r>0?C.currentValue/r*100:0;return{...C,currentPct:y}}),x=S.useMemo(()=>{if(r<=0||m.length===0)return 0;const C=m.filter(g=>{const _=g.targetAllocationPct/100*r;return g.currentValue<_});if(C.length===0)return 0;const y=C.reduce((g,_)=>g+_.targetAllocationPct,0);if(y>=100)return 0;const N=C.reduce((g,_)=>g+_.currentValue,0),D=(y/100*r-N)/(1-y/100);return D>0?Math.ceil(D/100)*100:0},[m,r]),p=Number(t)||s.lumpsumTarget||x,v=S.useMemo(()=>{const C=p>0?r+p:r,y=m.map(D=>{const g=D.targetAllocationPct/100*C,_=p>0?Math.max(0,g-D.currentValue):0,P=C>0?(D.currentValue+_)/C*100:0,U=D.currentValue>g+1;return{...D,invest:_,newPct:P,isOverweight:U}}),N=y.reduce((D,g)=>D+g.invest,0);if(p>0&&N>0&&Math.abs(N-p)>1){const D=p/N;return y.map(g=>({...g,invest:g.invest>0?g.invest*D:0,newPct:C>0?(g.currentValue+(g.invest>0?g.invest*D:0))/C*100:0}))}return y},[m,p,r]),b=v.reduce((C,y)=>C+y.invest,0),j=v.some(C=>C.isOverweight),w=Number(t),M=w>0&&x>0&&w<x;return n.jsxs("div",{className:"space-y-2",children:[x>0&&n.jsx("div",{className:"flex items-center gap-2 px-2.5 py-1.5 rounded-md bg-emerald-500/10 border border-emerald-500/20",children:n.jsxs("p",{className:"text-xs text-emerald-400",children:[n.jsx("span",{className:"font-bold",children:K(x)})," needed to bring all underweight funds to target %"]})}),n.jsxs("div",{className:"flex items-end gap-3",children:[n.jsx("div",{className:"flex-1 max-w-[200px]",children:n.jsx(ee,{label:"Invest Amount ()",children:n.jsx(pe,{type:"number",value:t,onChange:o,placeholder:x>0?`${K(x)}`:"Enter amount..."})})}),!w&&!s.lumpsumTarget&&x>0&&n.jsx("p",{className:"text-xs text-emerald-400/70 pb-2.5",children:"Using suggested"}),!w&&s.lumpsumTarget>=100&&n.jsx("p",{className:"text-xs text-[var(--text-dim)] pb-2.5",children:"Using lumpsum target"})]}),M&&n.jsxs("p",{className:"text-xs text-amber-400/80 px-1",children:["Below minimum  distributes proportionally but won't fully rebalance. Need ",K(x)," for exact target %."]}),v.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[n.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),n.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Allocation"}),n.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Invest"})]})}),n.jsx("tbody",{children:v.map(C=>n.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 ${C.invest===0?"opacity-50":""}`,children:[n.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:C.fundName}),n.jsxs("td",{className:"py-2 px-2 text-right tabular-nums",children:[n.jsxs("span",{className:C.isOverweight?"text-amber-400":C.invest>0?"text-blue-400":"text-[var(--text-dim)]",children:[C.currentPct.toFixed(1),"%"]}),n.jsxs("span",{className:"text-[var(--text-dim)]",children:["  ",C.newPct.toFixed(1),"%"]})]}),n.jsx("td",{className:"py-2 px-2 text-right font-semibold tabular-nums",children:C.isOverweight?n.jsx("span",{className:"text-amber-400/70 text-xs",children:"Overweight"}):C.invest>0?n.jsx("span",{className:"text-emerald-400",children:cs(C.invest)}):n.jsx("span",{className:"text-[var(--text-dim)] text-xs",children:"Balanced"})})]},C.holdingId))}),b>0&&n.jsx("tfoot",{children:n.jsxs("tr",{className:"border-t border-[var(--border)]",children:[n.jsx("td",{className:"py-1.5 px-2 text-xs font-bold text-[var(--text-primary)]",colSpan:2,children:"Total"}),n.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-emerald-400 tabular-nums",children:K(b)})]})})]})}):n.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2 text-center",children:"All funds balanced"}),j&&n.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Overweight funds can't be fixed by buying. Use ",n.jsx("span",{className:"font-semibold text-amber-400",children:"Buy / Sell"})," tab to sell overweight and buy underweight."]})]})}function f3({portfolio:s,holdings:l,totalValue:r}){const t=(s.rebalanceThreshold||.05)*100,o=l.some(m=>m.targetAllocationPct>0),u=l.some(m=>m.targetAllocationPct===0&&m.units>0);if(!o&&!u)return n.jsx(hp,{});const d=l.filter(m=>m.targetAllocationPct>0||m.units>0).map(m=>{const x=r>0?m.currentValue/r*100:0,p=m.targetAllocationPct===0&&m.units>0,v=p||Math.abs(x-m.targetAllocationPct)>t,b=m.targetAllocationPct/100*r,j=v?b-m.currentValue:0;return{...m,currentPct:x,amount:j,isExit:p}}).filter(m=>Math.abs(m.amount)>=500);return d.length===0?n.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"Portfolio is balanced"}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[n.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),n.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Drift"}),n.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Action"})]})}),n.jsx("tbody",{children:d.map(m=>{const x=m.amount>0;return n.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[n.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:m.fundName}),n.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:m.isExit?n.jsxs("span",{className:"text-[var(--accent-rose)]",children:[m.currentPct.toFixed(1),"%  Exit"]}):`${m.currentPct.toFixed(1)}%  ${m.targetAllocationPct.toFixed(1)}%`}),n.jsx("td",{className:"py-2 px-2 text-right",children:n.jsxs("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${x?"bg-emerald-500/20 text-emerald-400":"bg-rose-500/20 text-[var(--accent-rose)]"}`,children:[x?"Buy":m.isExit?"Exit":"Sell"," ",cs(Math.abs(m.amount))]})})]},m.schemeCode||m.fundCode)})})]})})}function h1(){const{mfHoldings:s,mfPortfolios:l}=Ye(),[r,t]=S.useState("buysell"),o=S.useMemo(()=>l.filter(x=>x.status!=="Inactive").map(x=>{const p=s.filter(C=>C.portfolioId===x.portfolioId&&C.units>0),v=p.reduce((C,y)=>C+y.currentValue,0),b=(x.rebalanceThreshold||.05)*100,j=p.filter(C=>{if(C.targetAllocationPct<=0)return!1;const y=v>0?C.currentValue/v*100:0;return Math.abs(y-C.targetAllocationPct)>b}).length,w=p.filter(C=>C.targetAllocationPct===0&&C.units>0&&C.currentValue>=500).length,M=p.some(C=>C.targetAllocationPct>0);return{...x,holdings:p,totalValue:v,driftedCount:j,exitCount:w,hasTargets:M}}).filter(x=>x.driftedCount>0||x.exitCount>0),[l,s]);if(o.length===0){const x=s.some(p=>p.targetAllocationPct>0);return n.jsx("div",{className:"py-8 text-center",children:x?n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"All portfolios are balanced"}),n.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"No funds exceed their rebalance threshold"})]}):n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No target allocations set"}),n.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:["Use ",n.jsx("span",{className:"font-semibold text-violet-400",children:"Allocations"})," to set target % for each fund, then rebalance will show drift"]})]})})}const d=o.some(x=>(x.sipTarget||0)>=500)?Db:Db.filter(x=>x.key!=="sip"),m=d.some(x=>x.key===r)?r:d[0]?.key||"buysell";return n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex bg-[var(--bg-inset)] rounded-lg p-0.5",children:d.map(({key:x,label:p,icon:v,color:b,dimColor:j,activeBg:w})=>n.jsxs("button",{onClick:()=>t(x),className:`flex-1 flex items-center justify-center gap-1.5 py-2 rounded-md text-xs font-semibold transition-colors ${m===x?`${w} ${b} shadow-sm`:j}`,children:[n.jsx(v,{size:13})," ",p]},x))}),o.map((x,p)=>n.jsxs("div",{className:"border border-[var(--border-light)] border-l-2 border-l-violet-500/50 rounded-lg overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between px-3 py-2.5 bg-[var(--bg-inset)]",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xs font-bold text-violet-400 bg-violet-500/15 w-5 h-5 rounded flex items-center justify-center",children:p+1}),n.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:x.portfolioName}),n.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:x.ownerName}),x.driftedCount>0&&n.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-amber-500/15 text-amber-400",children:[x.driftedCount," drifted"]}),x.exitCount>0&&n.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-rose-500/15 text-[var(--accent-rose)]",children:[x.exitCount," exit"]})]}),n.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-muted)]",children:[n.jsx("span",{className:"font-semibold text-[var(--text-secondary)]",children:K(x.totalValue)}),n.jsxs("span",{children:["Threshold: ",((x.rebalanceThreshold||.05)*100).toFixed(0),"%"]}),x.sipTarget>=100&&n.jsxs("span",{children:["SIP: ",K(x.sipTarget),"/mo"]})]})]}),n.jsxs("div",{className:"px-3 py-2",children:[m==="sip"&&n.jsx(d3,{portfolio:x,holdings:x.holdings,totalValue:x.totalValue}),m==="lumpsum"&&n.jsx(m3,{portfolio:x,holdings:x.holdings,totalValue:x.totalValue}),m==="buysell"&&n.jsx(f3,{portfolio:x,holdings:x.holdings,totalValue:x.totalValue})]})]},x.portfolioId))]})}const p3="https://raw.githubusercontent.com/jagadeeshkmanne/capital-friends/main/logo.png",Mb={mf:{label:"Mutual Funds",color:"bg-violet-500",order:1,route:"/investments/mutual-funds"},stocks:{label:"Stocks",color:"bg-blue-500",order:2,route:"/investments/stocks"},Debt:{label:"Debt",color:"bg-cyan-500",order:3,route:"/investments/other"},Gold:{label:"Gold",color:"bg-amber-500",order:4,route:"/investments/other"},Silver:{label:"Silver",color:"bg-slate-400",order:5,route:"/investments/other"},Property:{label:"Real Estate",color:"bg-orange-500",order:6,route:"/investments/other"},Alternative:{label:"Alternative",color:"bg-violet-400",order:7,route:"/investments/other"},Equity:{label:"Equity",color:"bg-emerald-500",order:8,route:"/investments/other"},Other:{label:"Other",color:"bg-gray-500",order:9,route:"/investments/other"}},Ec=["from-violet-500 to-indigo-500","from-rose-500 to-pink-500","from-blue-500 to-cyan-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],Ab=["bg-violet-500","bg-rose-500","bg-blue-500","bg-amber-500","bg-emerald-500"],x3=[{label:"Family Members",path:"/family",match:"/family"},{label:"Bank Accounts",path:"/accounts/bank",match:"/accounts/bank"},{label:"Investment Accounts",path:"/accounts/investment",match:"/accounts/investment"},{label:"Insurance",path:"/insurance",match:"/insurance"},{label:"Mutual Funds",path:"/investments/mutual-funds",match:"/investments/mutual-funds"},{label:"Stocks",path:"/investments/stocks",match:"/investments/stocks"},{label:"Other Investments",path:"/investments/other",match:"/investments/other"},{label:"Goals",path:"/goals",match:"/goals"}],h3={buyopp:"Buying Opportunities",rebalance:"Rebalance Alerts"};function v3({onMenuClick:s}){const{theme:l,toggle:r}=iy(),{selectedMember:t,setSelectedMember:o,familyMembers:u}=Qt(),{mfPortfolios:d,mfHoldings:m,stockPortfolios:x,stockHoldings:p,otherInvList:v,liabilityList:b,refreshData:j,isRefreshing:w}=Ye(),{user:M,signOut:C}=gs(),{masked:y,toggleMask:N,mv:D}=Cn(),g=bs(),_=Ga(),{criticalAlerts:P,upcomingReminders:U,investmentSignals:G}=kC(),[E,L]=S.useState(!1),[B,W]=S.useState(!1),[A,se]=S.useState(null),[q,J]=S.useState(!1),[z,O]=S.useState(!1),[R,ce]=S.useState(!0),ve=S.useRef(null),F=S.useRef(null),ae=S.useRef(null),ue=P.length+U.length,{buyOppCount:de,buyCount:ke,strongBuyCount:je,rebalanceCount:ge}=G;S.useEffect(()=>{function oe(fe){ve.current&&!ve.current.contains(fe.target)&&L(!1),F.current&&!F.current.contains(fe.target)&&W(!1)}return(E||B)&&document.addEventListener("mousedown",oe),()=>document.removeEventListener("mousedown",oe)},[E,B]);const Qe=u.findIndex(oe=>oe.memberId===t),Ze=Qe>=0?u[Qe]:null,Yt=S.useMemo(()=>{const oe=(Me,xe)=>t==="all"?Me:Me.filter(dt=>dt[xe]===t),fe={},Ae=(Me,xe,dt,Ft)=>{fe[Me]||(fe[Me]={items:[],invested:0}),fe[Me].items.push({label:xe,value:dt}),fe[Me].invested+=Ft};oe((d||[]).filter(Me=>Me.status==="Active"),"ownerId").forEach(Me=>{const xe=(m||[]).filter(mt=>mt.portfolioId===Me.portfolioId&&mt.units>0),dt=xe.reduce((mt,kt)=>mt+kt.currentValue,0),Ft=xe.reduce((mt,kt)=>mt+kt.investment,0);dt>0&&Ae("mf",Me.portfolioName?.replace(/^PFL-/,"")||Me.portfolioName,dt,Ft)}),oe((x||[]).filter(Me=>Me.status==="Active"),"ownerId").forEach(Me=>{const xe=(p||[]).filter(mt=>mt.portfolioId===Me.portfolioId),dt=xe.reduce((mt,kt)=>mt+kt.currentValue,0),Ft=xe.reduce((mt,kt)=>mt+kt.totalInvestment,0);dt>0&&Ae("stocks",Me.portfolioName,dt,Ft)}),oe((v||[]).filter(Me=>Me.status==="Active"),"familyMemberId").forEach(Me=>{const xe=Me.investmentCategory||"Other";Ae(xe,Me.investmentName||Me.investmentType||"Other",Me.currentValue,Me.investedAmount||0)});const Ge=Object.entries(fe).map(([Me,{items:xe,invested:dt}])=>{const Ft=Mb[Me]||Mb.Other,mt=xe.reduce((kt,Qa)=>kt+Qa.value,0);return{key:Me,label:Ft.label,color:Ft.color,order:Ft.order,route:Ft.route,total:mt,invested:dt,items:xe.sort((kt,Qa)=>Qa.value-kt.value)}}).filter(Me=>Me.total>0).sort((Me,xe)=>Me.order-xe.order),Nt=oe((b||[]).filter(Me=>Me.status==="Active"),"familyMemberId"),oa=Nt.map(Me=>({label:Me.liabilityName||Me.liabilityType||"Loan",value:Me.outstandingBalance})),Ct=Nt.reduce((Me,xe)=>Me+xe.outstandingBalance,0),Oe=Ge.reduce((Me,xe)=>Me+xe.total,0),gt=Ge.reduce((Me,xe)=>Me+xe.invested,0);return{netWorth:Oe-Ct,totalInv:Oe,totalInvested:gt,sections:Ge,totalLiab:Ct,liabilities:oa}},[t,d,m,x,p,v,b]);function Xt(){L(!1),W(!1)}function H(){if(!ae.current)return;const{scrollLeft:oe,scrollWidth:fe,clientWidth:Ae}=ae.current;O(oe>5),ce(oe+Ae<fe-5)}function he(oe){if(!ae.current)return;const Ae=(ae.current.querySelector("a")?.offsetWidth||240)+12;ae.current.scrollBy({left:oe*Ae,behavior:"smooth"})}return S.useEffect(()=>{H()},[Yt,q]),n.jsxs("header",{className:"sticky top-0 z-30 shrink-0",children:[n.jsx("style",{children:`
        @keyframes glow-emerald {
          0%, 100% { box-shadow: 0 0 6px rgba(16,185,129,0.3), 0 0 12px rgba(16,185,129,0.15); }
          50% { box-shadow: 0 0 12px rgba(16,185,129,0.5), 0 0 24px rgba(16,185,129,0.25); }
        }
        @keyframes glow-violet {
          0%, 100% { box-shadow: 0 0 6px rgba(139,92,246,0.3), 0 0 12px rgba(139,92,246,0.15); }
          50% { box-shadow: 0 0 12px rgba(139,92,246,0.5), 0 0 24px rgba(139,92,246,0.25); }
        }
        .glow-emerald { animation: glow-emerald 2s ease-in-out infinite; }
        .glow-violet { animation: glow-violet 2s ease-in-out infinite; }
      `}),n.jsx("div",{className:"relative z-10 bg-[var(--bg-header)]/95 backdrop-blur-sm border-b border-[var(--border)]",children:n.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 h-14",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:s,className:"lg:hidden p-2 -ml-1.5 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:n.jsx(E5,{size:20})}),n.jsx("img",{src:p3,alt:"Capital Friends",className:"h-10"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[de>0&&n.jsxs("button",{onClick:()=>{se(A==="buyopp"?null:"buyopp"),Xt()},className:`glow-emerald flex items-center gap-1.5 text-xs font-bold whitespace-nowrap px-3 py-1.5 rounded-full transition-all ${A==="buyopp"?"bg-emerald-500/30 text-emerald-300 ring-1 ring-emerald-400/50":"bg-emerald-500/15 text-emerald-400 hover:bg-emerald-500/25"}`,children:[n.jsx(Su,{size:13,strokeWidth:2.5}),n.jsx("span",{className:"hidden sm:inline",children:je>0?"Buy Opportunities":"Buying Opportunities"}),je>0&&n.jsxs("span",{className:"text-[11px] bg-emerald-500/30 px-1.5 py-0.5 rounded-full",children:[je," Strong"]}),ke>0&&n.jsxs("span",{className:"text-[11px] bg-emerald-500/20 px-1.5 py-0.5 rounded-full",children:[ke," Buy"]})]}),ge>0&&n.jsxs("button",{onClick:()=>{se(A==="rebalance"?null:"rebalance"),Xt()},className:`glow-violet flex items-center gap-1.5 text-xs font-bold whitespace-nowrap px-3 py-1.5 rounded-full transition-all ${A==="rebalance"?"bg-violet-500/30 text-violet-300 ring-1 ring-violet-400/50":"bg-violet-500/15 text-violet-400 hover:bg-violet-500/25"}`,children:[n.jsx(vl,{size:13,strokeWidth:2.5}),n.jsx("span",{className:"hidden sm:inline",children:"Rebalance Alerts"}),n.jsx("span",{className:"text-[11px] bg-violet-500/30 px-1.5 py-0.5 rounded-full",children:ge})]}),n.jsx("button",{onClick:()=>j(!0),disabled:w,className:`p-2 rounded-lg transition-colors ${w?"text-blue-400 cursor-not-allowed":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,title:"Sync data from Google Sheets",children:n.jsx(vl,{size:18,className:w?"animate-spin":""})}),n.jsx("button",{onClick:N,className:`p-2 rounded-lg transition-colors ${y?"text-amber-400 bg-amber-500/10":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,title:y?"Data masked  click to reveal":"Mask sensitive data",children:y?n.jsx(Vc,{size:18}):n.jsx(ep,{size:18})}),n.jsx("button",{onClick:r,className:"p-2 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",title:`Switch to ${l==="dark"?"light":"dark"} mode`,children:l==="dark"?n.jsx(Df,{size:18}):n.jsx(jy,{size:18})}),ue>0&&n.jsxs("div",{className:"relative",ref:F,children:[n.jsxs("button",{onClick:()=>{W(!B),L(!1)},className:"relative p-2 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[n.jsx(wu,{size:18}),n.jsx("span",{className:"absolute -top-0.5 -right-0.5 min-w-[16px] h-4 flex items-center justify-center text-[9px] font-bold text-white bg-rose-500 rounded-full px-1",children:ue})]}),B&&n.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-xl shadow-black/20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[n.jsx("div",{className:"px-3 py-2 border-b border-[var(--border-light)]",children:n.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:"Notifications"})}),n.jsxs("div",{className:"max-h-[300px] overflow-y-auto py-1",children:[P.map((oe,fe)=>{const Ae={critical:"bg-rose-500",warning:"bg-amber-500",info:"bg-blue-500"}[oe.type],st={critical:"bg-rose-500/15 text-rose-400",warning:"bg-amber-500/15 text-amber-400",info:"bg-blue-500/15 text-blue-400"}[oe.type];return n.jsxs("button",{onClick:()=>{W(!1),g(oe.navigateTo)},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-[var(--bg-hover)] transition-colors",children:[n.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${Ae}`}),n.jsx("span",{className:"text-xs text-[var(--text-secondary)] flex-1 text-left truncate",children:oe.title}),n.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded-full shrink-0 ${st}`,children:oe.badge})]},`c-${fe}`)}),P.length>0&&U.length>0&&n.jsx("div",{className:"mx-3 my-1 border-t border-[var(--border-light)]"}),U.map(oe=>{const fe=oe.days<=7?"bg-rose-500/15 text-rose-400":oe.days<=15?"bg-amber-500/15 text-amber-400":"bg-slate-500/15 text-[var(--text-muted)]";return n.jsxs("button",{onClick:()=>{W(!1),g("/reminders")},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[n.jsx("span",{className:"w-2 h-2 rounded-full shrink-0 bg-amber-500"}),n.jsx("span",{className:"text-xs text-[var(--text-secondary)] flex-1 truncate",children:oe.title}),n.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded-full shrink-0 ${fe}`,children:oe.days===0?"Today":oe.days<=30?`${oe.days}d`:oe.dateStr})]},`r-${oe.reminderId}`)})]})]})]}),n.jsxs("div",{className:"relative",ref:ve,children:[n.jsxs("button",{onClick:()=>{L(!E),W(!1)},className:"flex items-center gap-1.5 pl-1 pr-2 py-1 rounded-full hover:bg-[var(--bg-hover)] transition-colors",children:[Ze?n.jsx("div",{className:`w-8 h-8 rounded-full bg-gradient-to-br ${Ec[Qe%Ec.length]} flex items-center justify-center text-white text-xs font-bold shadow-sm`,children:Ze.memberName.charAt(0)}):n.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-500 flex items-center justify-center text-white shadow-sm",children:n.jsx(bl,{size:14})}),n.jsx(Er,{size:14,className:`text-[var(--text-muted)] transition-transform ${E?"rotate-180":""}`})]}),E&&n.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-xl shadow-black/20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[n.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)]",children:n.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:"Viewing as"})}),n.jsxs("div",{className:"py-1.5",children:[n.jsxs("button",{onClick:()=>{o("all"),L(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${t==="all"?"bg-violet-500/10":"hover:bg-[var(--bg-hover)]"}`,children:[n.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-violet-500 to-indigo-500 flex items-center justify-center text-white shadow-sm shrink-0",children:n.jsx(bl,{size:15})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:`text-sm font-semibold truncate ${t==="all"?"text-violet-400":"text-[var(--text-primary)]"}`,children:"Everyone"}),n.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:"All family members"})]}),t==="all"&&n.jsx(E0,{size:16,className:"text-violet-400 shrink-0"})]}),u.length>0&&n.jsx("div",{className:"mx-4 my-1 border-t border-[var(--border-light)]"}),u.map((oe,fe)=>{const Ae=t===oe.memberId;return n.jsxs("button",{onClick:()=>{o(oe.memberId),L(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${Ae?`${Ab[fe%Ab.length]}/10`:"hover:bg-[var(--bg-hover)]"}`,children:[n.jsx("div",{className:`w-9 h-9 rounded-full bg-gradient-to-br ${Ec[fe%Ec.length]} flex items-center justify-center text-white text-sm font-bold shadow-sm shrink-0`,children:oe.memberName.charAt(0)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-semibold truncate text-[var(--text-primary)]",children:oe.memberName}),n.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:oe.relationship||"Family member"})]}),Ae&&n.jsx(E0,{size:16,className:"text-emerald-400 shrink-0"})]},oe.memberId)})]}),n.jsxs("div",{className:"border-t border-[var(--border-light)] py-1.5",children:[n.jsxs(fl,{to:"/settings",onClick:()=>L(!1),className:"w-full flex items-center gap-3 px-4 py-2.5 text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[n.jsx(tp,{size:16}),n.jsx("span",{className:"text-sm font-medium",children:"Settings"})]}),M&&n.jsx("div",{className:"px-4 py-1.5",children:n.jsx("p",{className:"text-[11px] text-[var(--text-muted)] truncate",children:D(M.email,"email")})}),n.jsxs("button",{onClick:()=>{C(),L(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-left text-rose-400 hover:bg-rose-500/10 transition-colors",children:[n.jsx(Ny,{size:16}),n.jsx("span",{className:"text-sm font-medium",children:"Sign out"})]})]})]})]})]})]})}),n.jsx(CC,{}),n.jsx("nav",{className:"bg-[var(--bg-header)]/90 backdrop-blur-sm border-b border-[var(--border)]",children:n.jsxs("div",{className:"flex items-center px-3 sm:px-4 py-1.5",children:[n.jsx("div",{className:"flex items-center gap-1 overflow-x-auto no-scrollbar flex-1 min-w-0",children:x3.map(oe=>{const fe=_.pathname.startsWith(oe.match);return n.jsx(fl,{to:oe.path,className:`whitespace-nowrap px-3 py-1.5 rounded-lg text-[13px] font-medium transition-colors ${fe?"bg-violet-500/15 text-violet-400":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,children:oe.label},oe.path)})}),n.jsxs("button",{onClick:()=>J(!q),className:"shrink-0 ml-3 flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-emerald-500/10 border border-emerald-500/20 hover:bg-emerald-500/15 transition-colors",children:[n.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-emerald-400/70",children:"Net Worth"}),n.jsx("span",{className:"text-sm font-extrabold text-emerald-400 tabular-nums",children:K(Yt.netWorth)}),n.jsx(Er,{size:12,className:`text-emerald-400/60 transition-transform duration-200 ${q?"rotate-180":""}`})]})]})}),q&&n.jsx("div",{className:"bg-[var(--bg-card)]/90 backdrop-blur-sm border-b border-[var(--border-light)] animate-in slide-in-from-top-2 fade-in duration-200",children:n.jsxs("div",{className:"relative max-w-7xl mx-auto",children:[z&&n.jsx("button",{onClick:()=>he(-1),className:"absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 z-10 w-7 h-7 flex items-center justify-center rounded-full bg-[var(--bg-card)] border border-[var(--border)] shadow-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:n.jsx(fy,{size:14})}),n.jsxs("div",{ref:ae,onScroll:H,className:"flex gap-3 px-12 sm:px-14 py-3 overflow-x-auto scroll-smooth snap-x snap-mandatory no-scrollbar",children:[Yt.sections?.map(oe=>n.jsxs(fl,{to:oe.route,className:"group snap-start shrink-0 w-[calc(50%-6px)] sm:w-[calc(33.333%-8px)] lg:w-[calc(25%-9px)] rounded-lg p-3 bg-[var(--bg-inset)] hover:bg-[var(--bg-hover)] border border-[var(--border-light)] transition-colors",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[n.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] font-bold uppercase tracking-wider text-[var(--text-muted)]",children:[n.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${oe.color}`}),oe.label]}),n.jsx(Yi,{size:10,className:"text-[var(--text-dim)] opacity-0 group-hover:opacity-100 transition-opacity"})]}),n.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums mb-1",children:K(oe.total)}),oe.items.length>0&&n.jsx("div",{className:"space-y-0.5",children:oe.items.map(fe=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-[11px] text-[var(--text-dim)] truncate mr-2",children:fe.label}),n.jsx("span",{className:"text-[11px] text-[var(--text-muted)] tabular-nums shrink-0",children:K(fe.value)})]},fe.label))})]},oe.key)),Yt.totalLiab>0&&n.jsxs(fl,{to:"/liabilities",className:"group snap-start shrink-0 w-[calc(50%-6px)] sm:w-[calc(33.333%-8px)] lg:w-[calc(25%-9px)] rounded-lg p-3 bg-[var(--bg-inset)] hover:bg-[var(--bg-hover)] border border-[var(--border-light)] transition-colors",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[n.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] font-bold uppercase tracking-wider text-[var(--text-muted)]",children:[n.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-rose-500"}),"Liabilities"]}),n.jsx(Yi,{size:10,className:"text-[var(--text-dim)] opacity-0 group-hover:opacity-100 transition-opacity"})]}),n.jsxs("p",{className:"text-base font-bold text-[var(--accent-rose)] tabular-nums mb-1",children:["",K(Yt.totalLiab)]}),Yt.liabilities?.length>0&&n.jsx("div",{className:"space-y-0.5",children:Yt.liabilities.map(oe=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-[11px] text-[var(--text-dim)] truncate mr-2",children:oe.label}),n.jsx("span",{className:"text-[11px] text-[var(--accent-rose)]/70 tabular-nums shrink-0",children:K(oe.value)})]},oe.label))})]})]}),R&&n.jsx("button",{onClick:()=>he(1),className:"absolute right-2 sm:right-3 top-1/2 -translate-y-1/2 z-10 w-7 h-7 flex items-center justify-center rounded-full bg-[var(--bg-card)] border border-[var(--border)] shadow-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:n.jsx(Yi,{size:14})})]})}),A&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-16 sm:pt-24 px-3",children:[n.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>se(null)}),n.jsxs("div",{className:"relative w-full max-w-3xl max-h-[75vh] rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-2xl shadow-black/40 overflow-hidden flex flex-col animate-in fade-in slide-in-from-top-4 duration-200",children:[n.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-[var(--border-light)] shrink-0",children:[n.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:h3[A]}),n.jsx("button",{onClick:()=>se(null),className:"p-1.5 rounded-lg hover:bg-[var(--bg-hover)] text-[var(--text-dim)] transition-colors",children:n.jsx(Zi,{size:16})})]}),n.jsxs("div",{className:"overflow-y-auto p-4",children:[A==="buyopp"&&n.jsx(My,{}),A==="rebalance"&&n.jsx(h1,{})]})]})]})]})}const b3=[{label:"Invest",icon:pl,path:"/investments/mutual-funds"},{label:"Accounts",icon:$i,path:"/accounts/bank"},{label:"Goals",icon:Wi,path:"/goals"},{label:"Reminders",icon:wu,path:"/reminders"},{label:"More",icon:r5,path:"/more"}];function g3(){return n.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-40 bg-[var(--bg-sidebar)] border-t border-[var(--border)] safe-bottom",children:n.jsx("div",{className:"flex items-center justify-around h-[56px]",children:b3.map(({label:s,icon:l,path:r})=>n.jsx(Kf,{to:r,className:({isActive:t})=>`relative flex flex-col items-center justify-center gap-0.5 w-full h-full text-xs font-medium transition-colors ${t?"text-[var(--sidebar-active-text)]":"text-[var(--text-dim)]"}`,children:({isActive:t})=>n.jsxs(n.Fragment,{children:[t&&n.jsx("span",{className:"absolute top-0 w-10 h-[2.5px] bg-[var(--sidebar-active-text)] rounded-b-full"}),n.jsx("div",{className:`flex items-center justify-center w-9 h-9 rounded-xl transition-colors ${t?"bg-[var(--sidebar-active-bg)]":""}`,children:n.jsx(l,{size:19,strokeWidth:t?2.2:1.5})}),n.jsx("span",{className:t?"font-semibold":"",children:s})]})},r))})})}const y3="/logo-small.png",hf=[{key:"auth",label:"Signing in"},{key:"data",label:"Loading your data"},{key:"health",label:"Checking health status"},{key:"ready",label:"Almost ready"}];function bu({phase:s="auth"}){const[l,r]=S.useState("");S.useEffect(()=>{const o=setInterval(()=>{r(u=>u.length>=3?"":u+".")},500);return()=>clearInterval(o)},[]);const t=hf.findIndex(o=>o.key===s);return n.jsx("div",{className:"flex h-dvh items-center justify-center bg-[var(--bg-base)]",children:n.jsxs("div",{className:"flex flex-col items-center gap-8",children:[n.jsx("img",{src:y3,alt:"Capital Friends",className:"h-16 w-16 animate-pulse"}),n.jsxs("div",{className:"flex flex-col items-center gap-4 min-w-[220px]",children:[hf.map((o,u)=>{const d=u===t,m=u<t;return n.jsxs("div",{className:"flex items-center gap-3 w-full",children:[n.jsx("div",{className:`flex-shrink-0 w-5 h-5 rounded-full flex items-center justify-center text-xs font-medium transition-all duration-300 ${m?"bg-green-500 text-white":d?"bg-violet-500 text-white animate-pulse":"bg-[var(--border)] text-[var(--text-muted)]"}`,children:m?"":u+1}),n.jsxs("span",{className:`text-sm transition-all duration-300 ${m?"text-green-400":d?"text-[var(--text-primary)] font-medium":"text-[var(--text-muted)]"}`,children:[o.label,d?l:""]})]},o.key)}),n.jsx("div",{className:"w-full h-1 rounded-full bg-[var(--border)] overflow-hidden mt-2",children:n.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-violet-500 to-cyan-500 transition-all duration-500 ease-out",style:{width:`${(t+1)/hf.length*100}%`}})})]})]})})}function N3(){const[s,l]=S.useState(!1),{loading:r,error:t}=Ye();return r?n.jsx(bu,{}):t?n.jsx("div",{className:"flex h-dvh items-center justify-center bg-[var(--bg-base)]",children:n.jsxs("div",{className:"flex flex-col items-center gap-4 text-center px-6",children:[n.jsx("img",{src:"/logo-small.png",alt:"Capital Friends",className:"h-16 w-16 opacity-50"}),n.jsx("p",{className:"text-rose-400 text-sm font-medium",children:t}),n.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 text-sm font-medium rounded-lg bg-violet-600 hover:bg-violet-500 text-white transition-colors",children:"Retry"})]})}):n.jsxs("div",{className:"flex flex-col h-dvh bg-[var(--bg-base)] overflow-hidden",children:[n.jsx(v3,{onMenuClick:()=>l(!0)}),n.jsx(yC,{open:s,onClose:()=>l(!1)}),n.jsx("main",{className:"flex-1 overflow-y-auto overscroll-contain pb-20 lg:pb-0",children:n.jsx("div",{className:"px-3 sm:px-4 py-3 sm:py-4 w-full max-w-7xl mx-auto",children:n.jsx(wg,{})})}),n.jsx(g3,{})]})}function j3(){const{isAuthenticated:s,loading:l}=gs(),{healthCheckCompleted:r,loading:t}=Ye(),o=Ga();return l&&!s?n.jsx(bu,{phase:"auth"}):!s&&!l?n.jsx(eu,{to:"/",replace:!0}):t?n.jsx(bu,{phase:"data"}):r===!1&&o.pathname!=="/health-check"?n.jsx(eu,{to:"/health-check",replace:!0}):n.jsx(wg,{})}const Tb="https://raw.githubusercontent.com/jagadeeshkmanne/capital-friends/main/logo.png";function v1(){const{isAuthenticated:s,loading:l,error:r,signIn:t}=gs(),o=bs(),[u,d]=S.useState(0),[m,x]=S.useState(!1),p=S.useRef(null),v=S.useCallback(()=>{p.current&&clearInterval(p.current),p.current=setInterval(()=>{x(M=>(M||d(C=>(C+1)%4),M))},5e3)},[]);S.useEffect(()=>(v(),()=>{p.current&&clearInterval(p.current)}),[v]);function b(M){d(M),v()}if(S.useEffect(()=>{s&&o("/dashboard",{replace:!0})},[s,o]),l)return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#080d1a]",children:n.jsx("img",{src:"/logo-small.png",alt:"",className:"h-16 w-16 animate-pulse"})});const j=[{id:"ath",label:"ATH Tracking",icon:n.jsx(_r,{size:18}),color:"emerald",tagline:"Spot Buying Opportunities",desc:"See how far each mutual fund is from its All-Time High NAV. When a quality fund dips 10-20% below ATH, it's your signal to invest more  via SIP increase or lumpsum.",mock:n.jsx(S3,{})},{id:"rebalance",label:"Rebalancing",icon:n.jsx(vl,{size:18}),color:"violet",tagline:"Know Exactly What to Buy or Sell",desc:"Set target allocation for each fund. When your portfolio drifts, Capital Friends tells you exactly how much to adjust  via SIP changes, lumpsum top-ups, or buy/sell actions.",mock:n.jsx(C3,{})},{id:"goals",label:"Goal Linking",icon:n.jsx(Wi,{size:18}),color:"cyan",tagline:"Link Portfolios to Goals",desc:"Create goals like retirement, child education, or emergency fund. Link MF portfolios with allocation percentages. Goal progress updates automatically as NAVs change daily.",mock:n.jsx(k3,{})},{id:"dashboard",label:"Family View",icon:n.jsx(bl,{size:18}),color:"amber",tagline:"Everyone's Wealth, One Dashboard",desc:"Switch between family members in one click. See combined or individual net worth, investments, insurance, loans  everything your family owns, in one place.",mock:n.jsx(w3,{})}],w=j[u];return n.jsxs("div",{className:"min-h-screen bg-[#080d1a] text-slate-200",children:[n.jsx("header",{className:"sticky top-0 z-50 bg-[#0a0f1f]/95 backdrop-blur-sm border-b border-white/[0.06]",children:n.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 h-14",children:[n.jsx("img",{src:Tb,alt:"Capital Friends",className:"h-12"}),n.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-violet-600 to-cyan-600 text-white text-sm font-semibold hover:from-violet-500 hover:to-cyan-500 transition-all cursor-pointer",children:[n.jsx(_b,{s:14})," Sign In"]})]})}),n.jsxs("section",{className:"relative px-5 sm:px-8 lg:px-16 pt-10 sm:pt-14 pb-8 sm:pb-10 overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 left-1/4 w-[600px] h-[400px] bg-violet-600/8 rounded-full blur-[120px] pointer-events-none"}),n.jsx("div",{className:"absolute top-20 right-1/4 w-[400px] h-[300px] bg-cyan-600/6 rounded-full blur-[100px] pointer-events-none"}),n.jsxs("div",{className:"relative text-center",children:[n.jsx("span",{className:"inline-block text-xs font-bold uppercase tracking-[0.2em] text-violet-400 bg-violet-500/10 border border-violet-500/20 rounded-full px-4 py-1.5 mb-5",children:"Always Free  100% Private  Your Google Sheet"}),n.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-extrabold leading-[1.1] tracking-tight text-white",children:["One dashboard for your family's"," ",n.jsx("span",{className:"bg-gradient-to-r from-violet-400 to-cyan-400 bg-clip-text text-transparent",children:"entire wealth"})]}),n.jsxs("p",{className:"mt-5 text-base sm:text-lg text-slate-400 leading-relaxed max-w-2xl mx-auto",children:["Mutual funds, stocks, FDs, gold, insurance, loans  track everything for every family member. Manual entry means ",n.jsx("strong",{className:"text-white",children:"no bank credentials, no privacy risk"}),"."]}),r&&n.jsx("p",{className:"mt-5 text-sm text-rose-400",children:r})]})]}),n.jsxs("section",{className:"bg-gradient-to-b from-[#0d0a1a] to-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-10 sm:py-14",children:[n.jsxs("div",{className:"text-center mb-10",children:[n.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white inline-flex items-center gap-3 flex-wrap justify-center",children:[n.jsx(Cu,{size:28,className:"text-amber-400 shrink-0"}),n.jsxs("span",{children:["What happens if something happens to ",n.jsx("span",{className:"text-amber-400",children:"you"}),"?"]})]}),n.jsxs("p",{className:"mt-4 text-lg text-slate-400 leading-relaxed",children:["Your family should know about every investment, every policy, every loan. Not someday. ",n.jsx("strong",{className:"text-white",children:"Right now."})]})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsx(Eb,{icon:n.jsx(ep,{size:20}),color:"rose",title:"Without Capital Friends",items:["Scattered investments across 10+ platforms","Family has no idea what you own or owe","Insurance policies lost in email threads","Months of confusion, missed renewals, lost money"],bad:!0}),n.jsx(Eb,{icon:n.jsx(Ui,{size:20}),color:"emerald",title:"With Capital Friends",items:["One sheet  every investment, policy, and loan","Family receives email reports with full portfolio details","Reminders for SIPs, renewals, EMI payments","Complete clarity, instantly  when it matters most"]})]}),n.jsxs("p",{className:"text-center mt-8 text-base text-slate-500",children:["Built for ",n.jsx("strong",{className:"text-white",children:"you"})," to manage your wealth  and for your ",n.jsx("strong",{className:"text-white",children:"family"})," to access it when they need to."]})]}),n.jsxs("section",{className:"bg-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"How it Works"}),n.jsx("p",{className:"text-base text-slate-500",children:"Set up in 2 minutes  no bank credentials, no downloads"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-4",children:[n.jsx(_c,{num:1,icon:n.jsx(k5,{size:24}),color:"violet",title:"Sign In with Google",desc:"Go to capitalfriends.in and sign in with your Google account. That's all  no registration form, no passwords."}),n.jsx(_c,{num:2,icon:n.jsx(o5,{size:24}),color:"emerald",title:"App Creates Your Sheet",desc:"The app creates a private Google Sheet in your own Google Drive. This sheet stores all your financial data. Only you can see it  not even the developer."}),n.jsx(_c,{num:3,icon:n.jsx(hy,{size:24}),color:"cyan",title:"Financial Health Check",desc:"Answer 7 simple yes/no questions about your financial health. Get your score and personalized recommendations instantly."}),n.jsx(_c,{num:4,icon:n.jsx(_r,{size:24}),color:"amber",title:"Start Tracking",desc:"Add family members, portfolios, goals, insurance, and loans. The app connects to AMFI for live mutual fund prices automatically."})]}),n.jsxs("p",{className:"text-center mt-10 text-sm text-slate-600",children:["Your sheet is named ",n.jsx("strong",{className:"text-slate-400",children:"Capital Friends - Your Name"})," and lives in your Google Drive. The web app is just a beautiful dashboard to view and manage it."]})]}),n.jsxs("section",{id:"features",className:"bg-[#0b1022] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",onMouseEnter:()=>x(!0),onMouseLeave:()=>{x(!1),v()},children:[n.jsxs("div",{className:"text-center mb-10",children:[n.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Features That Set Us Apart"}),n.jsx("p",{className:"text-base text-slate-500",children:"Things you won't find on other portfolio trackers"})]}),n.jsx("div",{className:"flex justify-center gap-2 sm:gap-3 mb-10 flex-wrap",children:j.map((M,C)=>{const y=C===u,N={emerald:"border-emerald-500",violet:"border-violet-500",cyan:"border-cyan-500",amber:"border-amber-500"},D={emerald:"text-emerald-400",violet:"text-violet-400",cyan:"text-cyan-400",amber:"text-amber-400"};return n.jsxs("button",{onClick:()=>b(C),className:`relative flex items-center gap-2 px-5 py-2.5 rounded-full border text-sm font-semibold transition-all cursor-pointer ${y?`${N[M.color]} bg-white/[0.05] ${D[M.color]}`:"border-white/[0.08] text-slate-500 hover:border-white/[0.15] hover:text-slate-300"}`,children:[n.jsx("span",{className:"shrink-0",children:M.icon}),M.label,y&&n.jsx("div",{className:"absolute bottom-0 left-4 right-4 h-0.5 bg-white/[0.06] rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full rounded-full bg-current",style:{animation:"featureProgress 5s linear",animationPlayState:m?"paused":"running"}})})]},M.id)})}),n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-8 lg:gap-12",children:[n.jsxs("div",{className:"lg:flex-1 min-h-[280px]",children:[n.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:w.tagline}),n.jsx("p",{className:"mt-3 text-base text-slate-400 leading-relaxed",children:w.desc}),w.id==="ath"&&n.jsxs("div",{className:"mt-6 space-y-5",children:[n.jsx(Jt,{c:"emerald",t:"ATH tracking only for funds in your portfolios"}),n.jsx(Jt,{c:"emerald",t:"Color-coded signals: watch, consider, buy, strong buy"}),n.jsx(Jt,{c:"emerald",t:"Increase SIP or invest lumpsum when funds dip"}),n.jsx(Jt,{c:"emerald",t:"Daily NAV updates from AMFI data"})]}),w.id==="rebalance"&&n.jsxs("div",{className:"mt-6 space-y-5",children:[n.jsx(Jt,{c:"violet",t:"Adjust monthly SIP to rebalance gradually"}),n.jsx(Jt,{c:"violet",t:"Lumpsum top-up for quick rebalance"}),n.jsx(Jt,{c:"violet",t:"Buy/Sell amounts to match target"}),n.jsx(Jt,{c:"violet",t:"Configurable threshold per portfolio"})]}),w.id==="goals"&&n.jsxs("div",{className:"mt-6 space-y-5",children:[n.jsx(Jt,{c:"cyan",t:"Link multiple MF portfolios to each goal"}),n.jsx(Jt,{c:"cyan",t:"Built-in SIP + lumpsum calculator with inflation"}),n.jsx(Jt,{c:"cyan",t:"Auto-status: On Track, Needs Attention, Achieved"}),n.jsx(Jt,{c:"cyan",t:"Withdrawal planning for retirement goals"})]}),w.id==="dashboard"&&n.jsxs("div",{className:"mt-6 space-y-5",children:[n.jsx(Jt,{c:"amber",t:"One-click switch between family members"}),n.jsx(Jt,{c:"amber",t:"Combined net worth across everyone"}),n.jsx(Jt,{c:"amber",t:"MF, stocks, FD, gold, PPF, NPS, insurance"}),n.jsx(Jt,{c:"amber",t:"Email reports sent to family automatically"})]})]}),n.jsx("div",{className:"lg:flex-1 min-w-0 min-h-[380px] flex flex-col justify-center",children:w.mock})]}),n.jsx("style",{children:`
          @keyframes featureProgress {
            from { width: 0% }
            to { width: 100% }
          }
        `})]}),n.jsxs("section",{className:"bg-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",children:[n.jsxs("div",{className:"text-center mb-10",children:[n.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Everything You Need"}),n.jsx("p",{className:"text-base text-slate-500",children:"One dashboard for your entire financial life"})]}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:[n.jsx(Ar,{icon:n.jsx(Hi,{size:20}),c:"rose",t:"Stock Portfolios",d:"Buy/sell tracking, average cost, P&L with live NSE prices"}),n.jsx(Ar,{icon:n.jsx(L5,{size:20}),c:"orange",t:"FD, Gold, PPF, NPS",d:"Track any investment type  all counted in net worth"}),n.jsx(Ar,{icon:n.jsx(Ui,{size:20}),c:"teal",t:"Insurance Tracker",d:"Life, health, term policies with premiums & renewal dates"}),n.jsx(Ar,{icon:n.jsx($i,{size:20}),c:"red",t:"Liabilities",d:"Loans & EMIs. Net worth = total assets minus debts"}),n.jsx(Ar,{icon:n.jsx(wu,{size:20}),c:"yellow",t:"Smart Reminders",d:"SIP dates, renewals, EMI payments, maturity alerts"}),n.jsx(Ar,{icon:n.jsx(bl,{size:20}),c:"pink",t:"Family Sharing",d:"Invite family with Google accounts  shared dashboard"}),n.jsx(Ar,{icon:n.jsx(vl,{size:20}),c:"blue",t:"Daily Auto-Refresh",d:"NAVs and stock prices update automatically every day"}),n.jsx(Ar,{icon:n.jsx(sf,{size:20}),c:"emerald",t:"Complete Privacy",d:"No servers, no database, no tracking  your Sheet only"})]})]}),n.jsxs("section",{className:"border-y border-white/[0.06]",children:[n.jsxs("div",{className:"bg-[#0b1022] px-5 sm:px-8 lg:px-16 py-10 sm:py-14 text-center",children:[n.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white inline-flex items-center gap-3",children:[n.jsx(sf,{size:28,className:"text-emerald-400 shrink-0"}),"Your Data Never Leaves Google"]}),n.jsxs("p",{className:"mt-3 text-base sm:text-lg text-slate-400 leading-relaxed",children:["No backend server. No database. No tracking. The web app is a static site. Your spreadsheet lives in ",n.jsx("strong",{className:"text-white",children:"your Google Drive"}),". We literally cannot access your financial data."]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row",children:[n.jsx(gf,{icon:n.jsx(Ui,{size:20}),t:"Manual Entry Only",d:"No bank linking, no credentials shared. You type your data  no one else has access.",bg:"bg-[#0d1326]",c:"emerald"}),n.jsx(gf,{icon:n.jsx(sf,{size:20}),t:"Your Google Sheet",d:"A private spreadsheet in your Drive. Share only with family you choose.",bg:"bg-[#0f1530]",c:"violet"}),n.jsx(gf,{icon:n.jsx(nu,{size:20}),t:"Always Free",d:"No premium tier, no hidden fees, no ads. Free today, free forever.",bg:"bg-[#111838]",c:"amber"})]})]}),n.jsxs("section",{className:"bg-gradient-to-t from-[#080d1a] to-[#0d1128] border-t border-white/[0.06] px-5 sm:px-8 lg:px-16 py-16 text-center",children:[n.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-white",children:"Start managing your family's wealth today"}),n.jsx("p",{className:"mt-3 text-base text-slate-500",children:"Always free. No credit card. No bank linking. Just your Google account."}),n.jsxs("button",{onClick:t,className:"mt-8 inline-flex items-center gap-2.5 px-8 py-3.5 bg-gradient-to-r from-violet-600 to-cyan-600 text-white font-bold text-base rounded-xl hover:from-violet-500 hover:to-cyan-500 shadow-lg shadow-violet-900/30 transition-all hover:scale-[1.02] cursor-pointer",children:[n.jsx(_b,{s:20})," Sign in with Google  It's Free"]}),r&&n.jsx("p",{className:"mt-3 text-sm text-rose-400",children:r})]}),n.jsxs("footer",{className:"border-t border-white/[0.04] px-5 sm:px-8 lg:px-16 py-5 flex items-center justify-between",children:[n.jsx("img",{src:Tb,alt:"",className:"h-5 opacity-30"}),n.jsx("p",{className:"text-xs text-slate-600",children:"Your data. Your Google Drive. Your control."})]})]})}function Eb({icon:s,title:l,items:r,bad:t}){const o=t?"border-rose-500/15":"border-emerald-500/15",u=t?"bg-rose-500/[0.04]":"bg-emerald-500/[0.04]",d=t?"bg-rose-500/10 text-rose-400":"bg-emerald-500/10 text-emerald-400",m=t?"text-rose-400":"text-emerald-400";return n.jsxs("div",{className:`rounded-2xl border ${o} ${u} p-6`,children:[n.jsxs("h3",{className:`text-lg font-bold ${m} mb-4 flex items-center gap-2.5`,children:[n.jsx("span",{className:`flex items-center justify-center w-8 h-8 rounded-lg ${d} shrink-0`,children:s}),l]}),n.jsx("ul",{className:"space-y-3",children:r.map((x,p)=>n.jsxs("li",{className:"flex items-start gap-2.5",children:[t?n.jsx("span",{className:"text-rose-500/60 mt-0.5 shrink-0",children:""}):n.jsx(El,{size:16,className:"text-emerald-500 mt-0.5 shrink-0"}),n.jsx("span",{className:"text-sm text-slate-300 leading-relaxed",children:x})]},p))})]})}function w3(){return n.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[n.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f]",children:[n.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Dashboard"}),n.jsx("div",{className:"flex gap-1.5",children:["Everyone","Jagadeesh","Priya","Arjun"].map((s,l)=>n.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full font-medium ${l===0?"bg-violet-500/20 text-violet-300":"text-slate-600"}`,children:s},s))})]}),n.jsxs("div",{className:"grid grid-cols-3 divide-x divide-white/[0.04]",children:[n.jsx(vf,{l:"Net Worth",v:"45.2L",lc:"text-violet-400",vc:"text-white"}),n.jsx(vf,{l:"Invested",v:"38.7L",lc:"text-slate-500",vc:"text-slate-300"}),n.jsx(vf,{l:"P&L",v:"+6.5L",lc:"text-slate-500",vc:"text-emerald-400",extra:"+16.8%"})]}),n.jsxs("div",{className:"border-t border-white/[0.04]",children:[n.jsx(bf,{n:"Axis Bluechip Fund",alloc:"30% / 25%",cur:"6.2L",pl:"+24.0%",ath:"5.2%",athC:"text-[#e67e00]",up:!0}),n.jsx(bf,{n:"Parag Parikh Flexi Cap",alloc:"35% / 40%",cur:"4.8L",pl:"+37.1%",ath:"At ATH",athC:"text-emerald-500",up:!0}),n.jsx(bf,{n:"SBI Small Cap Fund",alloc:"20% / 15%",cur:"1.8L",pl:"-10.0%",ath:"18.3%",athC:"text-[#d84315]",last:!0})]})]})}function S3(){const s=[{n:"HDFC Mid-Cap Opportunities",nav:"142.35",ath:"168.50",pct:"15.5%",color:"text-[#d84315]",signal:"Good Buy Signal",sigC:"text-[#d84315] bg-[#d84315]/15"},{n:"Axis Small Cap Fund",nav:"38.22",ath:"52.10",pct:"26.6%",color:"text-[#c62828]",signal:"Strong Buy",sigC:"text-[#c62828] bg-[#c62828]/15 font-bold"},{n:"Kotak Emerging Equity",nav:"89.10",ath:"92.40",pct:"3.6%",color:"text-[#b8860b]",signal:"Watch",sigC:"text-[#b8860b] bg-[#b8860b]/15"},{n:"Mirae Asset Large Cap",nav:"105.80",ath:"106.20",pct:"0.4%",color:"text-slate-500",signal:"Near ATH",sigC:"text-slate-500 bg-white/[0.04]"}];return n.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[n.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-semibold text-white",children:"Buy Opportunities"}),n.jsx("span",{className:"text-xs text-emerald-400 font-semibold bg-emerald-500/10 px-2.5 py-1 rounded-full",children:"2 signals"})]}),s.map((l,r)=>n.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${r<s.length-1?"border-b border-white/[0.03]":""}`,children:[n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-slate-300 truncate",children:l.n}),n.jsxs("p",{className:"text-xs text-slate-600 mt-0.5",children:["NAV ","",l.nav,"  ATH ","",l.ath]})]}),n.jsxs("div",{className:"text-right shrink-0 ml-3",children:[n.jsxs("p",{className:`text-base font-bold tabular-nums ${l.color}`,children:[n.jsx(SS,{size:13,className:"inline -mt-0.5"})," ",l.pct]}),n.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded ${l.sigC}`,children:l.signal})]})]},r))]})}function C3(){const[s,l]=S.useState(0),r=["SIP Adjust","Lumpsum","Buy / Sell"],t=["New SIP","Lumpsum Top-up","Action"],u=[[{n:"Axis Bluechip",val:"SIP 6,000",cur:"30%",tgt:"25%",action:"Stop SIP",actionC:"text-amber-400"},{n:"Parag Parikh Flexi",val:"SIP 7,000",cur:"35%",tgt:"40%",action:"12,000/mo",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"SIP 4,000",cur:"20%",tgt:"15%",action:"Stop SIP",actionC:"text-amber-400"},{n:"HDFC Large Cap",val:"SIP 3,000",cur:"15%",tgt:"20%",action:"8,000/mo",actionC:"text-emerald-400"}],[{n:"Axis Bluechip",val:"3,00,000",cur:"30%",tgt:"25%",action:"No action",actionC:"text-slate-600"},{n:"Parag Parikh Flexi",val:"3,50,000",cur:"35%",tgt:"40%",action:"Invest 55,000",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"2,00,000",cur:"20%",tgt:"15%",action:"No action",actionC:"text-slate-600"},{n:"HDFC Large Cap",val:"1,50,000",cur:"15%",tgt:"20%",action:"Invest 45,000",actionC:"text-emerald-400"}],[{n:"Axis Bluechip",val:"3,00,000",cur:"30%",tgt:"25%",action:"Sell 50,000",actionC:"text-rose-400"},{n:"Parag Parikh Flexi",val:"3,50,000",cur:"35%",tgt:"40%",action:"Buy 50,000",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"2,00,000",cur:"20%",tgt:"15%",action:"Sell 50,000",actionC:"text-rose-400"},{n:"HDFC Large Cap",val:"1,50,000",cur:"15%",tgt:"20%",action:"Buy 50,000",actionC:"text-emerald-400"}]][s];return n.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[n.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-semibold text-white",children:"Rebalance Portfolio"}),n.jsx("span",{className:"text-xs text-violet-400 font-semibold bg-violet-500/10 px-2.5 py-1 rounded-full",children:"4 off-target"})]}),n.jsx("div",{className:"flex border-b border-white/[0.04]",children:r.map((d,m)=>n.jsx("button",{onClick:()=>l(m),className:`flex-1 text-xs font-semibold py-2.5 text-center cursor-pointer transition-colors ${m===s?"text-violet-400 border-b-2 border-violet-400":"text-slate-600 hover:text-slate-400"}`,children:d},d))}),n.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 border-b border-white/[0.04] bg-[#0a0f1f]/50 flex-wrap",children:[n.jsx("span",{className:"text-xs text-slate-500",children:"Portfolio Value"}),n.jsxs("span",{className:"text-sm text-white font-semibold tabular-nums",children:["","10,00,000"]}),s===0&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-xs text-slate-600",children:"|"}),n.jsx("span",{className:"text-xs text-slate-500",children:"Total SIP"}),n.jsxs("span",{className:"text-sm text-white font-semibold tabular-nums",children:["","20,000"]})]}),s===1&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-xs text-slate-600",children:"|"}),n.jsx("span",{className:"text-xs text-slate-500",children:"Lumpsum"}),n.jsx("input",{type:"text",readOnly:!0,value:"1,00,000",className:"bg-white/[0.04] border border-white/[0.08] rounded-md px-2 py-1 text-sm text-white font-semibold tabular-nums w-24 text-right cursor-default outline-none"})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"grid grid-cols-[1fr_50px_50px_1fr] gap-1 px-4 py-2.5 text-xs text-slate-600 font-semibold border-b border-white/[0.03]",children:[n.jsx("span",{children:"Fund / Value"}),n.jsx("span",{className:"text-center",children:"Current"}),n.jsx("span",{className:"text-center",children:"Target"}),n.jsx("span",{className:"text-right",children:t[s]})]}),u.map((d,m)=>n.jsxs("div",{className:`grid grid-cols-[1fr_50px_50px_1fr] gap-1 px-4 py-2.5 items-center ${m<u.length-1?"border-b border-white/[0.03]":""}`,children:[n.jsxs("div",{className:"min-w-0",children:[n.jsx("span",{className:"text-sm text-slate-300 truncate block",children:d.n}),n.jsxs("span",{className:"text-[10px] text-slate-600",children:["",d.val]})]}),n.jsx("span",{className:"text-sm text-center text-slate-400 tabular-nums",children:d.cur}),n.jsx("span",{className:"text-sm text-center text-slate-400 tabular-nums",children:d.tgt}),n.jsx("span",{className:`text-sm text-right font-semibold ${d.actionC}`,children:d.action})]},`${s}-${m}`))]})]})}function k3(){const s=[{n:"Retirement",tgt:"2Cr",cur:"28.5L",pct:14,sip:"45,000",yrs:"18 yrs",status:"On Track",sc:"text-blue-400 bg-blue-500/15",bc:"bg-blue-500"},{n:"Child Education",tgt:"50L",cur:"12.2L",pct:24,sip:"15,000",yrs:"12 yrs",status:"On Track",sc:"text-blue-400 bg-blue-500/15",bc:"bg-blue-500"},{n:"New Car",tgt:"15L",cur:"4.1L",pct:27,sip:"12,000",yrs:"3 yrs",status:"Needs Attention",sc:"text-amber-400 bg-amber-500/15",bc:"bg-amber-500"}];return n.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[n.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-semibold text-white",children:"Goals"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xs text-slate-500",children:"2 On Track"}),n.jsx("span",{className:"text-xs text-amber-400",children:"1 Needs Attention"})]})]}),s.map((l,r)=>n.jsxs("div",{className:`px-4 py-3.5 ${r<s.length-1?"border-b border-white/[0.03]":""}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm font-semibold text-white",children:l.n}),n.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded-full ${l.sc}`,children:l.status})]}),n.jsxs("span",{className:"text-xs text-slate-500",children:["",l.sip,"/mo  ",l.yrs]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex-1 h-2.5 rounded-full bg-white/[0.06] overflow-hidden",children:n.jsx("div",{className:`h-full rounded-full ${l.bc}`,style:{width:`${l.pct}%`}})}),n.jsxs("span",{className:"text-sm font-semibold text-slate-300 tabular-nums w-10 text-right",children:[l.pct,"%"]})]}),n.jsxs("div",{className:"flex justify-between mt-1.5 text-xs text-slate-600",children:[n.jsxs("span",{children:["",l.cur," of ","",l.tgt]}),n.jsxs("span",{className:"flex items-center gap-1 text-slate-500",children:[n.jsx(ru,{size:10})," 2 portfolios linked"]})]})]},r))]})}function _b({s=16}){return n.jsxs("svg",{viewBox:"0 0 24 24",width:s,height:s,className:"shrink-0",children:[n.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 01-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z",fill:"#4285F4"}),n.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),n.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),n.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}function vf({l:s,v:l,lc:r,vc:t,extra:o}){return n.jsxs("div",{className:"py-3.5 text-center",children:[n.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider ${r}`,children:s}),n.jsxs("p",{className:`text-lg font-bold tabular-nums mt-0.5 ${t}`,children:[l,o&&n.jsx("span",{className:"text-sm ml-1 text-emerald-400",children:o})]})]})}function bf({n:s,alloc:l,cur:r,pl:t,ath:o,athC:u,up:d,last:m}){return n.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${m?"":"border-b border-white/[0.03]"}`,children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-slate-300",children:s}),n.jsxs("p",{className:"text-xs text-slate-600",children:["Alloc ",l,"  ",n.jsx("span",{className:u,children:o!=="At ATH"?`${o} below ATH`:o})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm font-semibold text-slate-200 tabular-nums",children:r}),n.jsx("p",{className:`text-sm font-semibold tabular-nums ${d?"text-emerald-400":"text-rose-400"}`,children:t})]})]})}function Jt({c:s,t:l}){const r={violet:"text-violet-400",cyan:"text-cyan-400",amber:"text-amber-400",emerald:"text-emerald-400"};return n.jsxs("div",{className:"flex items-center gap-2.5",children:[n.jsx(El,{size:16,className:`${r[s]} shrink-0`}),n.jsx("span",{className:"text-sm text-slate-300",children:l})]})}function _c({num:s,icon:l,color:r,title:t,desc:o}){const u={violet:["text-violet-400","bg-violet-500/10","border-violet-500/20","from-violet-500/20 to-violet-500/5"],emerald:["text-emerald-400","bg-emerald-500/10","border-emerald-500/20","from-emerald-500/20 to-emerald-500/5"],cyan:["text-cyan-400","bg-cyan-500/10","border-cyan-500/20","from-cyan-500/20 to-cyan-500/5"],amber:["text-amber-400","bg-amber-500/10","border-amber-500/20","from-amber-500/20 to-amber-500/5"]},[d,m,x,p]=u[r]||u.violet;return n.jsxs("div",{className:`relative rounded-2xl border ${x} bg-gradient-to-b ${p} p-6 text-center`,children:[n.jsx("span",{className:`inline-flex items-center justify-center w-12 h-12 rounded-xl ${m} ${d} mb-4`,children:l}),n.jsxs("span",{className:`absolute top-4 right-4 text-xs font-bold ${d} opacity-40`,children:["0",s]}),n.jsx("h3",{className:"text-base font-bold text-white mb-2",children:t}),n.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:o})]})}function gf({icon:s,t:l,d:r,bg:t,c:o}){const u={emerald:"text-emerald-400",violet:"text-violet-400",amber:"text-amber-400"};return n.jsxs("div",{className:`flex-1 ${t} px-5 sm:px-8 lg:px-10 py-6 sm:py-8 border-b sm:border-b-0 sm:border-r border-white/[0.04] last:border-0`,children:[n.jsxs("p",{className:"text-base font-bold text-white flex items-center gap-2",children:[n.jsx("span",{className:`${u[o]} shrink-0`,children:s}),l]}),n.jsx("p",{className:"text-sm text-slate-500 mt-1.5 leading-relaxed",children:r})]})}const Ob={violet:["text-violet-400","bg-violet-500/8","border-violet-500/10"],blue:["text-blue-400","bg-blue-500/8","border-blue-500/10"],emerald:["text-emerald-400","bg-emerald-500/8","border-emerald-500/10"],cyan:["text-cyan-400","bg-cyan-500/8","border-cyan-500/10"],rose:["text-rose-400","bg-rose-500/8","border-rose-500/10"],orange:["text-orange-400","bg-orange-500/8","border-orange-500/10"],teal:["text-teal-400","bg-teal-500/8","border-teal-500/10"],red:["text-red-400","bg-red-500/8","border-red-500/10"],yellow:["text-yellow-400","bg-yellow-500/8","border-yellow-500/10"],pink:["text-pink-400","bg-pink-500/8","border-pink-500/10"]};function Ar({icon:s,c:l,t:r,d:t}){const[o,u,d]=Ob[l]||Ob.violet;return n.jsxs("div",{className:`rounded-xl border ${d} ${u} p-5`,children:[n.jsxs("p",{className:"text-base font-bold text-white flex items-center gap-2",children:[n.jsx("span",{className:`${o} shrink-0`,children:s}),r]}),n.jsx("p",{className:"text-sm text-slate-500 mt-1.5 leading-relaxed",children:t})]})}function D3(){const{isAuthenticated:s,loading:l}=gs();return l?n.jsx(bu,{}):s?n.jsx(eu,{to:"/investments/mutual-funds",replace:!0}):n.jsx(v1,{})}function M3(){const s=Ga();return n.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-violet-500/15 rounded-2xl flex items-center justify-center mb-4",children:n.jsx(WS,{size:32,className:"text-violet-400"})}),n.jsx("h3",{className:"text-xl font-semibold text-[var(--text-primary)] mb-2",children:"Coming Soon"}),n.jsx("p",{className:"text-[var(--text-muted)] text-sm max-w-sm",children:"This page is under construction. Navigate using the sidebar to explore available sections."}),n.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-3 font-mono",children:s.pathname})]})}const A3=["Savings Account","Current Account","Fixed Deposit (FD)","Recurring Deposit (RD)","NRE Account","NRO Account","Minor Account"].map(s=>({value:s,label:s}));function T3({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o}=Ye(),u=!!s,[d,m]=S.useState({accountName:s?.accountName||"",memberId:s?.memberId||"",bankName:s?.bankName||"",accountNumber:s?.accountNumber||"",ifscCode:s?.ifscCode||"",branchName:s?.branchName||"",accountType:s?.accountType||"",status:s?.status||"Active"}),[x,p]=S.useState({}),[v,b]=S.useState(!1);function j(y,N){m(D=>({...D,[y]:N})),p(D=>({...D,[y]:void 0}))}function w(){const y={};return d.accountName.trim()||(y.accountName="Required"),d.memberId||(y.memberId="Required"),d.bankName.trim()||(y.bankName="Required"),String(d.accountNumber||"").trim()||(y.accountNumber="Required"),d.ifscCode.trim()||(y.ifscCode="Required"),d.branchName.trim()||(y.branchName="Required"),d.accountType||(y.accountType="Required"),p(y),Object.keys(y).length===0}async function M(){if(w()){b(!0);try{await l({...d,ifscCode:d.ifscCode.toUpperCase()})}finally{b(!1)}}}const C=o.map(y=>({value:y.memberId,label:`${y.memberName} (${y.relationship})`}));return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Account Name",required:!0,error:x.accountName,children:n.jsx(pe,{value:d.accountName,onChange:y=>j("accountName",y),placeholder:"e.g., HDFC Savings"})}),n.jsx(ee,{label:"Family Member",required:!0,error:x.memberId,children:n.jsx(_e,{value:d.memberId,onChange:y=>j("memberId",y),options:C,placeholder:"Select member..."})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Bank Name",required:!0,error:x.bankName,children:n.jsx(pe,{value:d.bankName,onChange:y=>j("bankName",y),placeholder:"e.g., HDFC Bank"})}),n.jsx(ee,{label:"Account Type",required:!0,error:x.accountType,children:n.jsx(_e,{value:d.accountType,onChange:y=>j("accountType",y),options:A3,placeholder:"Select type..."})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Account Number",required:!0,error:x.accountNumber,children:n.jsx(pe,{sensitive:!0,value:d.accountNumber,onChange:y=>j("accountNumber",y),placeholder:"e.g., 1234567890"})}),n.jsx(ee,{label:"IFSC Code",required:!0,error:x.ifscCode,children:n.jsx(pe,{value:d.ifscCode,onChange:y=>j("ifscCode",y.toUpperCase()),placeholder:"e.g., HDFC0001234",maxLength:11})})]}),n.jsx(ee,{label:"Branch Name",required:!0,error:x.branchName,children:n.jsx(pe,{value:d.branchName,onChange:y=>j("branchName",y),placeholder:"e.g., Hyderabad - Kondapur"})}),u&&n.jsx(ee,{label:"Status",children:n.jsx(_e,{value:d.status,onChange:y=>j("status",y),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),n.jsxs("div",{className:"flex items-center justify-between",children:[u&&r?n.jsx(Dn,{onClick:r}):n.jsx("div",{}),n.jsx(aa,{onCancel:t,onSubmit:M,submitLabel:u?"Update":"Add Account",loading:v})]})]})}function nr({title:s="Loading"}){return n.jsxs("div",{className:"flex flex-col items-center justify-center py-32 gap-3",children:[n.jsx("span",{className:"w-7 h-7 border-[2.5px] border-violet-400/30 border-t-violet-400 rounded-full animate-spin"}),n.jsxs("span",{className:"text-sm font-semibold text-[var(--text-primary)]",children:[s,"..."]})]})}const Rb={"Savings Account":"bg-blue-500/15 text-[var(--accent-blue)]",Savings:"bg-blue-500/15 text-[var(--accent-blue)]",Salary:"bg-emerald-500/15 text-emerald-400","Current Account":"bg-violet-500/15 text-[var(--accent-violet)]","Fixed Deposit":"bg-amber-500/15 text-[var(--accent-amber)]","Fixed Deposit (FD)":"bg-amber-500/15 text-[var(--accent-amber)]"};function Ib(){const{selectedMember:s,member:l}=Qt(),{banks:r,addBankAccount:t,updateBankAccount:o,deleteBankAccount:u}=Ye(),{showToast:d,showBlockUI:m,hideBlockUI:x}=Sn(),{mv:p}=Cn(),[v,b]=S.useState(null);if(r===null)return n.jsx(nr,{title:"Loading bank accounts",cards:3});const j=S.useMemo(()=>{const N=r.filter(D=>D.status!=="Inactive");return s==="all"?N:N.filter(D=>D.memberId===s)},[r,s]),w=S.useMemo(()=>new Set(j.map(N=>N.bankName)).size,[j]),M=S.useMemo(()=>j.filter(N=>N.accountType==="Savings"||N.accountType==="Savings Account"||N.accountType==="Salary").length,[j]);async function C(N){m("Saving...");try{v?.edit?await o(v.edit.accountId,N):await t(N),d(v?.edit?"Bank account updated":"Bank account added"),b(null)}catch(D){d(D.message||"Failed to save bank account","error")}finally{x()}}async function y(){if(v?.edit&&confirm("Deactivate this bank account?")){m("Deactivating...");try{await u(v.edit.accountId),d("Bank account deactivated"),b(null)}catch(N){d(N.message||"Failed to deactivate bank account","error")}finally{x()}}}return n.jsxs("div",{className:"space-y-4",children:[j.length===0?n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[n.jsx(by,{size:32,className:"text-[var(--text-dim)]"}),n.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No bank accounts",l?` for ${l.memberName}`:""]}),n.jsx("button",{onClick:()=>b("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first bank account"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsx(yf,{label:"Total Accounts",value:j.length}),n.jsx(yf,{label:"Banks",value:w}),n.jsx(yf,{label:"Savings / Salary",value:M})]}),n.jsx("div",{className:"flex items-center justify-end px-1",children:n.jsxs("button",{onClick:()=>b("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[n.jsx(ja,{size:14})," Add Account"]})}),n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[n.jsx("div",{className:"hidden sm:block overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm min-w-[580px]",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[n.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Bank"}),!l&&n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account No."}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Branch"}),n.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),n.jsx("tbody",{children:j.map(N=>n.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[n.jsx("td",{className:"py-2.5 px-4",children:n.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:N.accountName})}),n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:N.bankName}),!l&&n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:N.memberName}),n.jsx("td",{className:"py-2.5 px-3",children:n.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Rb[N.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:N.accountType})}),n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:p(N.accountNumber,"account")}),n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-dim)]",children:N.branchName}),n.jsx("td",{className:"py-2.5 px-2",children:n.jsx("button",{onClick:()=>b({edit:N}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:n.jsx(wn,{size:12})})})]},N.accountId))})]})}),n.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:j.map(N=>n.jsxs("div",{onClick:()=>b({edit:N}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:N.accountName}),n.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Rb[N.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:N.accountType})]}),n.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[N.bankName,l?"":`  ${N.memberName}`]}),n.jsxs("div",{className:"flex items-center justify-between mt-1",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:p(N.accountNumber,"account")}),n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:N.branchName})]})]},N.accountId))})]})]}),n.jsx(It,{open:!!v,onClose:()=>b(null),title:v?.edit?"Edit Bank Account":"Add Bank Account",children:n.jsx(T3,{initial:v?.edit||void 0,onSave:C,onDelete:v?.edit?y:void 0,onCancel:()=>b(null)})})]})}function yf({label:s,value:l}){return n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),n.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:l})]})}const E3=["Demat + Trading","Mutual Fund","Trading","Direct AMC","Broker"].map(s=>({value:s,label:s}));function _3({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o,activeBanks:u}=Ye(),d=!!s,[m,x]=S.useState({accountName:s?.accountName||"",memberId:s?.memberId||"",bankAccountId:s?.bankAccountId||"",accountType:s?.accountType||"",platformBroker:s?.platformBroker||"",accountClientId:s?.accountClientId||"",dematDpId:s?.dematDpId||"",registeredEmail:s?.registeredEmail||"",registeredPhone:s?.registeredPhone||"",status:s?.status||"Active"}),[p,v]=S.useState({}),[b,j]=S.useState(!1);function w(g,_){x(P=>({...P,[g]:_})),v(P=>({...P,[g]:void 0}))}function M(g){x(_=>({..._,memberId:g,bankAccountId:""})),v(_=>({..._,memberId:void 0}))}function C(){const g={};return m.accountName.trim()||(g.accountName="Required"),m.memberId||(g.memberId="Required"),m.bankAccountId||(g.bankAccountId="Required"),m.accountType||(g.accountType="Required"),m.platformBroker.trim()||(g.platformBroker="Required"),m.registeredEmail.trim()||(g.registeredEmail="Required"),m.registeredPhone.trim()||(g.registeredPhone="Required"),v(g),Object.keys(g).length===0}async function y(){if(C()){j(!0);try{await l(m)}finally{j(!1)}}}const N=o.map(g=>({value:g.memberId,label:`${g.memberName} (${g.relationship})`})),D=S.useMemo(()=>m.memberId?u.filter(g=>g.memberId===m.memberId).map(g=>({value:g.accountId,label:`${g.accountName} - ${g.bankName}`})):[],[u,m.memberId]);return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Account Name",required:!0,error:p.accountName,children:n.jsx(pe,{value:m.accountName,onChange:g=>w("accountName",g),placeholder:"e.g., Zerodha Demat"})}),n.jsx(ee,{label:"Family Member",required:!0,error:p.memberId,children:n.jsx(_e,{value:m.memberId,onChange:M,options:N,placeholder:"Select member..."})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Linked Bank Account",required:!0,error:p.bankAccountId,children:n.jsx(_e,{value:m.bankAccountId,onChange:g=>w("bankAccountId",g),options:D,placeholder:m.memberId?D.length?"Select bank account...":"No bank accounts for this member":"Select member first..."})}),n.jsx(ee,{label:"Account Type",required:!0,error:p.accountType,children:n.jsx(_e,{value:m.accountType,onChange:g=>w("accountType",g),options:E3,placeholder:"Select type..."})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Platform / Broker",required:!0,error:p.platformBroker,children:n.jsx(pe,{value:m.platformBroker,onChange:g=>w("platformBroker",g),placeholder:"e.g., Zerodha, Groww"})}),n.jsx(ee,{label:"Account / Client ID",error:p.accountClientId,children:n.jsx(pe,{sensitive:!0,value:m.accountClientId,onChange:g=>w("accountClientId",g),placeholder:"e.g., ZR1234 (optional)"})})]}),n.jsx(ee,{label:"Demat DP ID",error:p.dematDpId,children:n.jsx(pe,{sensitive:!0,value:m.dematDpId,onChange:g=>w("dematDpId",g),placeholder:"16-digit DP ID (optional)",maxLength:16})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Registered Email",required:!0,error:p.registeredEmail,children:n.jsx(pe,{sensitive:!0,type:"email",value:m.registeredEmail,onChange:g=>w("registeredEmail",g),placeholder:"email@example.com"})}),n.jsx(ee,{label:"Registered Phone",required:!0,error:p.registeredPhone,children:n.jsx(pe,{sensitive:!0,value:m.registeredPhone,onChange:g=>w("registeredPhone",g),placeholder:"9876543210"})})]}),d&&n.jsx(ee,{label:"Status",children:n.jsx(_e,{value:m.status,onChange:g=>w("status",g),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),n.jsxs("div",{className:"flex items-center justify-between",children:[d&&r?n.jsx(Dn,{onClick:r}):n.jsx("div",{}),n.jsx(aa,{onCancel:t,onSubmit:y,submitLabel:d?"Update":"Add Account",loading:b})]})]})}const Lb={"Demat + Trading":"bg-violet-500/15 text-[var(--accent-violet)]","Mutual Fund":"bg-blue-500/15 text-[var(--accent-blue)]",Trading:"bg-orange-500/15 text-[var(--accent-orange)]",Demat:"bg-amber-500/15 text-[var(--accent-amber)]","Direct AMC":"bg-emerald-500/15 text-emerald-400",Broker:"bg-rose-500/15 text-[var(--accent-rose)]"};function O3(){const{selectedMember:s,member:l}=Qt(),{investmentAccounts:r,addInvestmentAccount:t,updateInvestmentAccount:o,deleteInvestmentAccount:u}=Ye(),{showToast:d,showBlockUI:m,hideBlockUI:x}=Sn(),{mv:p}=Cn(),[v,b]=S.useState(null);if(r===null)return n.jsx(nr,{title:"Loading investment accounts",cards:4});const j=S.useMemo(()=>{const D=r.filter(g=>g.status!=="Inactive");return s==="all"?D:D.filter(g=>g.memberId===s)},[r,s]),w=S.useMemo(()=>new Set(j.map(D=>D.platformBroker)).size,[j]),M=j.filter(D=>D.accountType==="Demat + Trading"||D.accountType==="Demat"||D.accountType==="Trading").length,C=j.filter(D=>D.accountType==="Mutual Fund"||D.accountType==="Direct AMC").length;async function y(D){m("Saving...");try{v?.edit?await o(v.edit.accountId,D):await t(D),d(v?.edit?"Investment account updated":"Investment account added"),b(null)}catch(g){d(g.message||"Failed to save investment account","error")}finally{x()}}async function N(){if(v?.edit&&confirm("Deactivate this investment account?")){m("Deactivating...");try{await u(v.edit.accountId),d("Investment account deactivated"),b(null)}catch(D){d(D.message||"Failed to deactivate investment account","error")}finally{x()}}}return n.jsxs("div",{className:"space-y-4",children:[j.length===0?n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[n.jsx(my,{size:32,className:"text-[var(--text-dim)]"}),n.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No investment accounts",l?` for ${l.memberName}`:""]}),n.jsx("button",{onClick:()=>b("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first investment account"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[n.jsx(Oc,{label:"Total Accounts",value:j.length}),n.jsx(Oc,{label:"Platforms",value:w}),n.jsx(Oc,{label:"Demat / Trading",value:M}),n.jsx(Oc,{label:"Mutual Fund",value:C})]}),n.jsx("div",{className:"flex items-center justify-end px-1",children:n.jsxs("button",{onClick:()=>b("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[n.jsx(ja,{size:14})," Add Account"]})}),n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[n.jsx("div",{className:"hidden sm:block overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm min-w-[620px]",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[n.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Platform"}),!l&&n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Client ID"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Bank"}),n.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),n.jsx("tbody",{children:j.map(D=>n.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[n.jsx("td",{className:"py-2.5 px-4",children:n.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:D.accountName})}),n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:D.platformBroker}),!l&&n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:D.memberName}),n.jsx("td",{className:"py-2.5 px-3",children:n.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Lb[D.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:D.accountType})}),n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:p(D.accountClientId,"clientId")}),n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-dim)]",children:D.bankAccountName}),n.jsx("td",{className:"py-2.5 px-2",children:n.jsx("button",{onClick:()=>b({edit:D}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:n.jsx(wn,{size:12})})})]},D.accountId))})]})}),n.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:j.map(D=>n.jsxs("div",{onClick:()=>b({edit:D}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:D.accountName}),n.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Lb[D.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:D.accountType})]}),n.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[D.platformBroker,l?"":`  ${D.memberName}`]}),n.jsxs("div",{className:"flex items-center justify-between mt-1",children:[n.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Client: ",p(D.accountClientId,"clientId")]}),n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:D.bankAccountName})]})]},D.accountId))})]})]}),n.jsx(It,{open:!!v,onClose:()=>b(null),title:v?.edit?"Edit Investment Account":"Add Investment Account",wide:!0,children:n.jsx(_3,{initial:v?.edit||void 0,onSave:y,onDelete:v?.edit?N:void 0,onCancel:()=>b(null)})})]})}function Oc({label:s,value:l}){return n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),n.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:l})]})}const R3=["Term Life","Health","Motor","Home Insurance","Travel","Personal Accident","Life Insurance","Others"].map(s=>({value:s,label:s})),I3=[{value:"Active",label:"Active"},{value:"Expired",label:"Expired"},{value:"Surrendered",label:"Surrendered"},{value:"Lapsed",label:"Lapsed"},{value:"Inactive",label:"Inactive"}];function L3({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o}=Ye(),u=!!s,[d,m]=S.useState({policyType:s?.policyType||"",company:s?.company||"",policyNumber:s?.policyNumber||"",policyName:s?.policyName||"",insuredMember:s?.insuredMember||"",memberId:s?.memberId||"",sumAssured:s?.sumAssured||"",nominee:s?.nominee||"",premium:s?.premium||"",premiumFrequency:s?.premiumFrequency||"Annual",status:s?.status||"Active",notes:s?.notes||""}),[x,p]=S.useState({}),[v,b]=S.useState(!1);function j(N,D){m(g=>({...g,[N]:D})),p(g=>({...g,[N]:void 0}))}function w(N){const D=o.find(g=>g.memberId===N);m(g=>({...g,memberId:N,insuredMember:D?.memberName||""})),p(g=>({...g,memberId:void 0}))}function M(){const N={};return d.policyType||(N.policyType="Required"),d.company.trim()||(N.company="Required"),d.policyNumber.trim()||(N.policyNumber="Required"),d.policyName.trim()||(N.policyName="Required"),d.memberId||(N.memberId="Required"),(!d.sumAssured||Number(d.sumAssured)<=0)&&(N.sumAssured="Must be > 0"),p(N),Object.keys(N).length===0}async function C(){if(M()){b(!0);try{await l({...d,sumAssured:Number(d.sumAssured),premium:Number(d.premium)||0})}finally{b(!1)}}}const y=o.map(N=>({value:N.memberId,label:`${N.memberName} (${N.relationship})`}));return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Policy Type",required:!0,error:x.policyType,children:n.jsx(_e,{value:d.policyType,onChange:N=>j("policyType",N),options:R3,placeholder:"Select type..."})}),n.jsx(ee,{label:"Insurance Company",required:!0,error:x.company,children:n.jsx(pe,{value:d.company,onChange:N=>j("company",N),placeholder:"e.g., HDFC Life"})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Policy Number",required:!0,error:x.policyNumber,children:n.jsx(pe,{sensitive:!0,value:d.policyNumber,onChange:N=>j("policyNumber",N),placeholder:"e.g., HL-2024-78901"})}),n.jsx(ee,{label:"Policy Name",required:!0,error:x.policyName,children:n.jsx(pe,{value:d.policyName,onChange:N=>j("policyName",N),placeholder:"e.g., Click 2 Protect Life"})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Insured Member",required:!0,error:x.memberId,children:n.jsx(_e,{value:d.memberId,onChange:w,options:y,placeholder:"Select member..."})}),n.jsx(ee,{label:"Nominee",children:n.jsx(_e,{value:d.nominee,onChange:N=>j("nominee",N),options:y.map(N=>({...N,label:N.label.split(" (")[0]})),placeholder:"Select nominee (optional)..."})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsx(ee,{label:"Sum Assured ()",required:!0,error:x.sumAssured,children:n.jsx(pe,{type:"number",value:d.sumAssured,onChange:N=>j("sumAssured",N),placeholder:"e.g., 10000000"})}),n.jsx(ee,{label:"Premium ()",children:n.jsx(pe,{type:"number",value:d.premium,onChange:N=>j("premium",N),placeholder:"e.g., 12500"})}),n.jsx(ee,{label:"Premium Frequency",children:n.jsx(_e,{value:d.premiumFrequency,onChange:N=>j("premiumFrequency",N),options:[{value:"Annual",label:"Annual"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"}]})})]}),u&&n.jsx(ee,{label:"Status",children:n.jsx(_e,{value:d.status,onChange:N=>j("status",N),options:I3})}),n.jsx(ee,{label:"Notes",children:n.jsx(kl,{value:d.notes,onChange:N=>j("notes",N),placeholder:"Additional information..."})}),n.jsxs("div",{className:"flex items-center justify-between",children:[u&&r?n.jsx(Dn,{onClick:r}):n.jsx("div",{}),n.jsx(aa,{onCancel:t,onSubmit:C,submitLabel:u?"Update":"Add Policy",loading:v})]})]})}const Pb={"Term Life":"bg-rose-500/15 text-[var(--accent-rose)]",Health:"bg-emerald-500/15 text-emerald-400",Motor:"bg-blue-500/15 text-[var(--accent-blue)]","Home Insurance":"bg-amber-500/15 text-[var(--accent-amber)]",Travel:"bg-violet-500/15 text-[var(--accent-violet)]","Life Insurance":"bg-rose-500/15 text-[var(--accent-rose)]","Personal Accident":"bg-orange-500/15 text-[var(--accent-orange)]"};function P3(){const{selectedMember:s,member:l}=Qt(),{insurancePolicies:r,addInsurance:t,updateInsurance:o,deleteInsurance:u}=Ye(),{showToast:d,showBlockUI:m,hideBlockUI:x}=Sn(),{mv:p}=Cn(),[v,b]=S.useState(null);if(r===null)return n.jsx(nr,{title:"Loading insurance",cards:5});const j=S.useMemo(()=>{const g=r.filter(_=>_.status!=="Inactive");return s==="all"?g:g.filter(_=>_.memberId===s)},[r,s]),w=j.reduce((g,_)=>g+(_.sumAssured||0),0),M=j.reduce((g,_)=>g+(_.premium||0),0),C=j.filter(g=>g.policyType==="Term Life"||g.policyType==="Life Insurance").reduce((g,_)=>g+(_.sumAssured||0),0),y=j.filter(g=>g.policyType==="Health").reduce((g,_)=>g+(_.sumAssured||0),0);async function N(g){m("Saving...");try{v?.edit?await o(v.edit.policyId,g):await t(g),d(v?.edit?"Insurance policy updated":"Insurance policy added"),b(null)}catch(_){d(_.message||"Failed to save insurance policy","error")}finally{x()}}async function D(){if(v?.edit&&confirm("Deactivate this insurance policy?")){m("Deactivating...");try{await u(v.edit.policyId),d("Insurance policy deactivated"),b(null)}catch(g){d(g.message||"Failed to deactivate insurance policy","error")}finally{x()}}}return n.jsxs("div",{className:"space-y-4",children:[j.length===0?n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[n.jsx(Ui,{size:32,className:"text-[var(--text-dim)]"}),n.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No insurance policies",l?` for ${l.memberName}`:""]}),n.jsx("button",{onClick:()=>b("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first policy"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[n.jsx(Ri,{label:"Policies",value:j.length}),n.jsx(Ri,{label:"Total Cover",value:K(w),bold:!0}),n.jsx(Ri,{label:"Life Cover",value:K(C)}),n.jsx(Ri,{label:"Health Cover",value:K(y)}),n.jsx(Ri,{label:"Annual Premium",value:K(M)})]}),n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[n.jsx("p",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider mb-3",children:"Coverage Adequacy"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsx(zb,{label:"Life Insurance",current:C,recommended:"10-15x annual income",tip:"Term life cover should be 10-15x your annual income to protect dependents",icon:"heart"}),n.jsx(zb,{label:"Health Insurance",current:y,recommended:"50L - 1Cr family floater",tip:"Considering medical inflation, a 50L-1Cr family floater is recommended",icon:"shield"})]})]}),n.jsx("div",{className:"flex items-center justify-end px-1",children:n.jsxs("button",{onClick:()=>b("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[n.jsx(ja,{size:14})," Add Policy"]})}),n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[n.jsx("div",{className:"hidden sm:block overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[n.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Policy"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Company"}),!l&&n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Insured"}),n.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Sum Assured"}),n.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Premium"}),n.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),n.jsx("tbody",{children:j.map(g=>n.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[n.jsxs("td",{className:"py-2.5 px-4",children:[n.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:g.policyName}),n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:p(g.policyNumber,"policy")})]}),n.jsx("td",{className:"py-2.5 px-3",children:n.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Pb[g.policyType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:g.policyType})}),n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:g.company}),!l&&n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:g.insuredMember}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(g.sumAssured)}),n.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:[K(g.premium),"/",g.premiumFrequency==="Annual"?"yr":"mo"]}),n.jsx("td",{className:"py-2.5 px-2",children:n.jsx("button",{onClick:()=>b({edit:g}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:n.jsx(wn,{size:12})})})]},g.policyId))})]})}),n.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:j.map(g=>n.jsxs("div",{onClick:()=>b({edit:g}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:g.policyName}),n.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${Pb[g.policyType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:g.policyType})]}),n.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[g.company,l?"":`  ${g.insuredMember}`]}),n.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Cover"}),n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(g.sumAssured)})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Premium"}),n.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:[K(g.premium),"/",g.premiumFrequency==="Annual"?"yr":"mo"]})]})]})]},g.policyId))})]})]}),n.jsx(It,{open:!!v,onClose:()=>b(null),title:v?.edit?"Edit Insurance Policy":"Add Insurance Policy",wide:!0,children:n.jsx(L3,{initial:v?.edit||void 0,onSave:N,onDelete:v?.edit?D:void 0,onCancel:()=>b(null)})})]})}function zb({label:s,current:l,recommended:r,tip:t}){const o=l===0;return n.jsxs("div",{className:`rounded-lg border px-3 py-2.5 ${o?"border-rose-500/30 bg-rose-500/5":"border-[var(--border)] bg-[var(--bg-inset)]"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:s}),o?n.jsx("span",{className:"text-xs font-bold text-[var(--accent-rose)]",children:"Not covered"}):n.jsx("span",{className:"text-xs font-semibold text-emerald-400",children:K(l)})]}),n.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Recommended: ",r]}),n.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5 italic",children:t})]})}function Ri({label:s,value:l,bold:r}){return n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),n.jsx("p",{className:`text-sm tabular-nums ${r?"font-bold":"font-semibold"} text-[var(--text-primary)]`,children:l})]})}const z3=["Home Loan","Car Loan","Personal Loan","Education Loan","Gold Loan","Credit Card","Business Loan","Loan Against Property","Other"].map(s=>({value:s,label:s})),F3=[{value:"Active",label:"Active"},{value:"Closed",label:"Closed"},{value:"Inactive",label:"Inactive"}];function B3({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o}=Ye(),u=!!s,[d,m]=S.useState({liabilityType:s?.liabilityType||"",lenderName:s?.lenderName||"",familyMemberId:s?.familyMemberId||"",outstandingBalance:s?.outstandingBalance||"",emiAmount:s?.emiAmount||"",interestRate:s?.interestRate||"",status:s?.status||"Active",notes:s?.notes||""}),[x,p]=S.useState({}),[v,b]=S.useState(!1);function j(y,N){m(D=>({...D,[y]:N})),p(D=>({...D,[y]:void 0}))}function w(){const y={};return d.liabilityType||(y.liabilityType="Required"),d.lenderName.trim()||(y.lenderName="Required"),(!d.outstandingBalance||Number(d.outstandingBalance)<=0)&&(y.outstandingBalance="Must be > 0"),p(y),Object.keys(y).length===0}async function M(){if(w()){b(!0);try{await l({...d,outstandingBalance:Number(d.outstandingBalance),emiAmount:Number(d.emiAmount)||0,interestRate:Number(d.interestRate)||0})}finally{b(!1)}}}const C=o.map(y=>({value:y.memberId,label:`${y.memberName} (${y.relationship})`}));return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Liability Type",required:!0,error:x.liabilityType,children:n.jsx(_e,{value:d.liabilityType,onChange:y=>j("liabilityType",y),options:z3,placeholder:"Select type..."})}),n.jsx(ee,{label:"Lender / Bank",required:!0,error:x.lenderName,children:n.jsx(pe,{value:d.lenderName,onChange:y=>j("lenderName",y),placeholder:"e.g., HDFC Bank"})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Family Member",children:n.jsx(_e,{value:d.familyMemberId,onChange:y=>j("familyMemberId",y),options:C,placeholder:"Select member (optional)..."})}),n.jsx(ee,{label:"Outstanding Balance ()",required:!0,error:x.outstandingBalance,children:n.jsx(pe,{type:"number",value:d.outstandingBalance,onChange:y=>j("outstandingBalance",y),placeholder:"e.g., 3500000"})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"EMI Amount ()",children:n.jsx(pe,{type:"number",value:d.emiAmount,onChange:y=>j("emiAmount",y),placeholder:"e.g., 32000"})}),n.jsx(ee,{label:"Interest Rate (%)",children:n.jsx(pe,{type:"number",value:d.interestRate,onChange:y=>j("interestRate",y),placeholder:"e.g., 8.5",step:"0.01"})})]}),u&&n.jsx(ee,{label:"Status",children:n.jsx(_e,{value:d.status,onChange:y=>j("status",y),options:F3})}),n.jsx(ee,{label:"Notes",children:n.jsx(kl,{value:d.notes,onChange:y=>j("notes",y),placeholder:"e.g., Flat in Kondapur"})}),n.jsxs("div",{className:"flex items-center justify-between",children:[u&&r?n.jsx(Dn,{onClick:r}):n.jsx("div",{}),n.jsx(aa,{onCancel:t,onSubmit:M,submitLabel:u?"Update":"Add Liability",loading:v})]})]})}const Fb={"Home Loan":"bg-blue-500/15 text-[var(--accent-blue)]","Car Loan":"bg-amber-500/15 text-[var(--accent-amber)]","Gold Loan":"bg-orange-500/15 text-[var(--accent-orange)]","Personal Loan":"bg-violet-500/15 text-[var(--accent-violet)]","Education Loan":"bg-emerald-500/15 text-emerald-400","Credit Card":"bg-rose-500/15 text-[var(--accent-rose)]"};function H3(){const{selectedMember:s,member:l}=Qt(),{liabilityList:r,addLiability:t,updateLiability:o,deleteLiability:u}=Ye(),{showToast:d,showBlockUI:m,hideBlockUI:x}=Sn(),[p,v]=S.useState(null);if(r===null)return n.jsx(nr,{title:"Loading liabilities",cards:4});const b=S.useMemo(()=>{const N=r.filter(D=>D.status!=="Inactive");return s==="all"?N:N.filter(D=>D.familyMemberId===s)},[r,s]),j=b.reduce((N,D)=>N+(D.outstandingBalance||0),0),w=b.reduce((N,D)=>N+(D.emiAmount||0),0),M=b.filter(N=>N.status==="Active").length;async function C(N){m("Saving...");try{p?.edit?await o(p.edit.liabilityId,N):await t(N),d(p?.edit?"Liability updated":"Liability added"),v(null)}catch(D){d(D.message||"Failed to save liability","error")}finally{x()}}async function y(){if(p?.edit&&confirm("Deactivate this liability?")){m("Deactivating...");try{await u(p.edit.liabilityId),d("Liability deactivated"),v(null)}catch(N){d(N.message||"Failed to deactivate liability","error")}finally{x()}}}return n.jsxs("div",{className:"space-y-4",children:[b.length===0?n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[n.jsx($i,{size:32,className:"text-[var(--text-dim)]"}),n.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No liabilities",l?` for ${l.memberName}`:""]}),n.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add a liability"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[n.jsx(Rc,{label:"Liabilities",value:`${M} active`}),n.jsx(Rc,{label:"Outstanding",value:K(j),color:"rose",bold:!0}),n.jsx(Rc,{label:"Monthly EMI",value:K(w),color:"rose"}),n.jsx(Rc,{label:"Avg. Interest",value:b.length>0?`${(b.reduce((N,D)=>N+(D.interestRate||0),0)/b.length).toFixed(1)}%`:""})]}),n.jsx("div",{className:"flex items-center justify-end px-1",children:n.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[n.jsx(ja,{size:14})," Add Liability"]})}),n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[n.jsx("div",{className:"hidden sm:block overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm min-w-[640px]",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[n.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Lender"}),!l&&n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),n.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Outstanding"}),n.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"EMI"}),n.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Interest"}),n.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Remaining"}),n.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),n.jsx("tbody",{children:b.map(N=>n.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[n.jsxs("td",{className:"py-2.5 px-4",children:[n.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Fb[N.liabilityType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:N.liabilityType}),N.notes&&n.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:N.notes})]}),n.jsx("td",{className:"py-2.5 px-3 text-sm font-medium text-[var(--text-primary)]",children:N.lenderName}),!l&&n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:N.familyMemberName}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:K(N.outstandingBalance)}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:N.emiAmount?`${K(N.emiAmount)}/mo`:""}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:N.interestRate?`${N.interestRate}%`:""}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:N.emiAmount>0&&N.outstandingBalance>0?`${Math.ceil(N.outstandingBalance/N.emiAmount)} mo`:""}),n.jsx("td",{className:"py-2.5 px-2",children:n.jsx("button",{onClick:()=>v({edit:N}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:n.jsx(wn,{size:12})})})]},N.liabilityId))})]})}),n.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(N=>n.jsxs("div",{onClick:()=>v({edit:N}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Fb[N.liabilityType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:N.liabilityType}),n.jsx("p",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:K(N.outstandingBalance)})]}),n.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:N.lenderName}),n.jsxs("div",{className:"flex items-center justify-between mt-1",children:[n.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[N.familyMemberName,N.notes?`  ${N.notes}`:""]}),n.jsxs("div",{className:"text-right",children:[N.emiAmount>0&&n.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:["EMI: ",K(N.emiAmount),"/mo"]}),N.emiAmount>0&&N.outstandingBalance>0&&n.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:[Math.ceil(N.outstandingBalance/N.emiAmount)," months left"]})]})]})]},N.liabilityId))})]})]}),n.jsx(It,{open:!!p,onClose:()=>v(null),title:p?.edit?"Edit Liability":"Add Liability",children:n.jsx(B3,{initial:p?.edit||void 0,onSave:C,onDelete:p?.edit?y:void 0,onCancel:()=>v(null)})})]})}function Rc({label:s,value:l,color:r,bold:t}){const o=r==="rose"?"text-[var(--accent-rose)]":"text-[var(--text-primary)]";return n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),n.jsx("p",{className:`text-sm tabular-nums ${t?"font-bold":"font-semibold"} ${o}`,children:l})]})}const Y3="cf_market_data",b1=[{value:"Fixed Deposit",category:"Debt"},{value:"PPF",category:"Debt"},{value:"EPF",category:"Debt"},{value:"NPS",category:"Debt"},{value:"Sovereign Gold Bond",category:"Gold"},{value:"Physical Gold",category:"Gold"},{value:"Digital Gold",category:"Gold"},{value:"Real Estate",category:"Property"},{value:"Bonds",category:"Debt"},{value:"Physical Silver",category:"Silver"},{value:"Digital Silver",category:"Silver"},{value:"Crypto",category:"Alternative"},{value:"Other",category:"Other"}],Bb={"Real Estate":"Home Loan","Physical Gold":"Gold Loan","Sovereign Gold Bond":"Gold Loan","Fixed Deposit":"Loan Against FD"},U3=b1.map(s=>({value:s.value,label:s.value})),q3=["Equity","Debt","Gold","Silver","Property","Alternative","Other"].map(s=>({value:s,label:s})),$3=[{value:"Active",label:"Active"},{value:"Sold",label:"Sold"},{value:"Matured",label:"Matured"},{value:"Inactive",label:"Inactive"}],Hb=[{value:"24K",label:"24K (99.9%)",factor:.999},{value:"22K",label:"22K (91.6%)",factor:.916},{value:"18K",label:"18K (75.0%)",factor:.75}],Yb=[{value:"999",label:"999 Fine (99.9%)",factor:.999},{value:"925",label:"925 Sterling (92.5%)",factor:.925}];function Zc(s){return["Physical Gold","Digital Gold","Sovereign Gold Bond"].includes(s)}function V3(s){return["Physical Silver","Digital Silver"].includes(s)||s&&s.toLowerCase().includes("silver")}function Nf(s){return Zc(s)||V3(s)}function G3(s){try{const l=sessionStorage.getItem(Y3);if(!l)return null;const r=JSON.parse(l);if(!r.metals)return null;const t=s==="gold"?"Gold":"Silver",o=r.metals.find(u=>u.name.toLowerCase().includes(t.toLowerCase()));return o?o.price:null}catch{return null}}function Q3({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o,liabilityList:u}=Ye(),d=!!s;function m(R){return b1.find(ce=>ce.value===R)?.category||"Other"}const x=s?.dynamicFields?typeof s.dynamicFields=="string"?JSON.parse(s.dynamicFields):s.dynamicFields:{},[p,v]=S.useState({investmentType:s?.investmentType||"",investmentCategory:s?.investmentCategory||"",investmentName:s?.investmentName||"",familyMemberId:s?.familyMemberId||"",investedAmount:s?.investedAmount||"",currentValue:s?.currentValue||"",linkedLiabilityId:s?.linkedLiabilityId||"",status:s?.status||"Active",notes:s?.notes||""}),[b,j]=S.useState(x.weightGrams||""),[w,M]=S.useState(x.purity||""),[C,y]=S.useState(null),[N,D]=S.useState(!1),[g,_]=S.useState({lenderName:"",outstandingBalance:"",emiAmount:"",interestRate:""});S.useEffect(()=>{if(!Nf(p.investmentType)||!b||Number(b)<=0){y(null);return}const R=Zc(p.investmentType)?"gold":"silver",ce=G3(R);if(!ce){y(null);return}const F=(R==="gold"?Hb:Yb).find(ue=>ue.value===w),ae=F?F.factor:1;y(Math.round(Number(b)*ce*ae))},[p.investmentType,b,w]);const[P,U]=S.useState({}),[G,E]=S.useState(!1);function L(R,ce){v(ve=>({...ve,[R]:ce})),U(ve=>({...ve,[R]:void 0}))}function B(R){v(ce=>({...ce,investmentType:R,investmentCategory:m(R)})),U(ce=>({...ce,investmentType:void 0}))}function W(R,ce){_(ve=>({...ve,[R]:ce}))}function A(){const R={};return p.investmentType||(R.investmentType="Required"),p.investmentName.trim()||(R.investmentName="Required"),(!p.currentValue||Number(p.currentValue)<0)&&(R.currentValue="Required"),N&&(g.lenderName.trim()||(R.qlLender="Required"),(!g.outstandingBalance||Number(g.outstandingBalance)<=0)&&(R.qlOutstanding="Must be > 0")),U(R),Object.keys(R).length===0}async function se(){if(!A())return;const R={...p,investedAmount:Number(p.investedAmount)||0,currentValue:Number(p.currentValue)||0};Nf(p.investmentType)&&(R.dynamicFields=JSON.stringify({weightGrams:Number(b)||0,purity:w||""})),N&&g.lenderName&&(R.quickLoan={liabilityType:Bb[p.investmentType]||"Personal Loan",lenderName:g.lenderName,outstandingBalance:Number(g.outstandingBalance)||0,emiAmount:Number(g.emiAmount)||0,interestRate:Number(g.interestRate)||0}),E(!0);try{await l(R)}finally{E(!1)}}const q=u.filter(R=>R.status!=="Inactive"),J=[{value:"",label:"None"},...q.map(R=>({value:R.liabilityId,label:`${R.liabilityType}  ${R.lenderName} (${K(R.outstandingBalance)})`}))],z=o.map(R=>({value:R.memberId,label:`${R.memberName} (${R.relationship})`})),O=Bb[p.investmentType];return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Investment Type",required:!0,error:P.investmentType,children:n.jsx(_e,{value:p.investmentType,onChange:B,options:U3,placeholder:"Select type..."})}),n.jsx(ee,{label:"Category",children:n.jsx(_e,{value:p.investmentCategory,onChange:R=>L("investmentCategory",R),options:q3,placeholder:"Auto-selected..."})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Investment Name",required:!0,error:P.investmentName,children:n.jsx(pe,{value:p.investmentName,onChange:R=>L("investmentName",R),placeholder:"e.g., HDFC FD - 7.5%"})}),n.jsx(ee,{label:"Family Member",children:n.jsx(_e,{value:p.familyMemberId,onChange:R=>L("familyMemberId",R),options:z,placeholder:"Select member (optional)..."})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Invested Amount",children:n.jsx(pe,{type:"number",value:p.investedAmount,onChange:R=>L("investedAmount",R),placeholder:"e.g., 500000"})}),n.jsx(ee,{label:"Current Value",required:!0,error:P.currentValue,children:n.jsx(pe,{type:"number",value:p.currentValue,onChange:R=>L("currentValue",R),placeholder:"e.g., 537500"})})]}),Nf(p.investmentType)&&n.jsxs("div",{className:"p-3 bg-[var(--bg-inset)] rounded-lg space-y-3",children:[n.jsxs("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider",children:[Zc(p.investmentType)?"Gold":"Silver"," Details"]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsx(ee,{label:"Weight (grams)",children:n.jsx(pe,{type:"number",value:b,onChange:j,placeholder:"e.g., 50"})}),n.jsx(ee,{label:"Purity",children:n.jsx(_e,{value:w,onChange:M,options:(Zc(p.investmentType)?Hb:Yb).map(R=>({value:R.value,label:R.label})),placeholder:"Select purity..."})})]}),C!==null&&n.jsxs("div",{className:"flex items-center justify-between bg-[var(--bg-card)] rounded-lg px-3 py-2 border border-[var(--border)]",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Estimated market value"}),n.jsx("p",{className:"text-sm font-bold text-emerald-400 tabular-nums",children:K(C)})]}),n.jsx("button",{type:"button",onClick:()=>L("currentValue",String(C)),className:"text-xs font-semibold text-violet-400 hover:text-violet-300 px-3 py-1.5 rounded-lg bg-violet-500/10 border border-violet-500/20 transition-colors",children:"Use this value"})]})]}),n.jsxs("div",{className:"border-t border-[var(--border-light)] pt-4",children:[n.jsx(ee,{label:"Linked Loan / Liability",children:n.jsx(_e,{value:p.linkedLiabilityId,onChange:R=>{L("linkedLiabilityId",R),R&&D(!1)},options:J})}),!p.linkedLiabilityId&&!d&&n.jsx("div",{className:"mt-2",children:n.jsx("button",{type:"button",onClick:()=>D(!N),className:"text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:N?" Cancel quick loan":`+ Create new loan${O?` (${O})`:""}`})}),N&&n.jsxs("div",{className:"mt-3 p-3 bg-[var(--bg-inset)] rounded-lg space-y-3",children:[n.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider",children:"Quick Loan"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsx(ee,{label:"Lender",required:!0,error:P.qlLender,children:n.jsx(pe,{value:g.lenderName,onChange:R=>W("lenderName",R),placeholder:"e.g., HDFC Bank"})}),n.jsx(ee,{label:"Outstanding Balance",required:!0,error:P.qlOutstanding,children:n.jsx(pe,{type:"number",value:g.outstandingBalance,onChange:R=>W("outstandingBalance",R),placeholder:"e.g., 3500000"})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsx(ee,{label:"EMI (monthly)",children:n.jsx(pe,{type:"number",value:g.emiAmount,onChange:R=>W("emiAmount",R),placeholder:"e.g., 32000"})}),n.jsx(ee,{label:"Interest Rate %",children:n.jsx(pe,{type:"number",value:g.interestRate,onChange:R=>W("interestRate",R),placeholder:"e.g., 8.5"})})]})]})]}),d&&n.jsx(ee,{label:"Status",children:n.jsx(_e,{value:p.status,onChange:R=>L("status",R),options:$3})}),n.jsx(ee,{label:"Notes",children:n.jsx(kl,{value:p.notes,onChange:R=>L("notes",R),placeholder:"Additional information..."})}),n.jsxs("div",{className:"flex items-center justify-between",children:[d&&r?n.jsx(Dn,{onClick:r}):n.jsx("div",{}),n.jsx(aa,{onCancel:t,onSubmit:se,submitLabel:d?"Update":"Add Investment",loading:G})]})]})}const Ub={Debt:"bg-blue-500/15 text-[var(--accent-blue)]",Gold:"bg-amber-500/15 text-[var(--accent-amber)]",Property:"bg-orange-500/15 text-[var(--accent-orange)]",Equity:"bg-emerald-500/15 text-emerald-400",Alternative:"bg-violet-500/15 text-[var(--accent-violet)]"};function K3(){const{selectedMember:s,member:l}=Qt(),{otherInvList:r,liabilityList:t,addOtherInvestment:o,updateOtherInvestment:u,deleteOtherInvestment:d}=Ye(),{showToast:m,showBlockUI:x,hideBlockUI:p}=Sn(),[v,b]=S.useState(null);if(r===null)return n.jsx(nr,{title:"Loading investments",cards:5});const j=S.useMemo(()=>{const U=r.filter(G=>G.status!=="Inactive");return s==="all"?U:U.filter(G=>G.familyMemberId===s)},[r,s]),w=j.reduce((U,G)=>U+(G.investedAmount||0),0),M=j.reduce((U,G)=>U+(G.currentValue||0),0),C=M-w,y=C>=0,N=w>0?C/w*100:0,D=S.useMemo(()=>{const U={};return t.forEach(G=>{U[G.liabilityId]=G}),U},[t]),g=j.reduce((U,G)=>{const E=G.linkedLiabilityId?D[G.linkedLiabilityId]:null;return U+(E?.outstandingBalance||0)},0);async function _(U){x("Saving...");try{v?.edit?await u(v.edit.investmentId,U):await o(U),m(v?.edit?"Investment updated":"Investment added"),b(null)}catch(G){m(G.message||"Failed to save investment","error")}finally{p()}}async function P(){if(v?.edit&&confirm("Deactivate this investment?")){x("Deactivating...");try{await d(v.edit.investmentId),m("Investment deactivated"),b(null)}catch(U){m(U.message||"Failed to deactivate investment","error")}finally{p()}}}return n.jsxs("div",{className:"space-y-4",children:[j.length===0?n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[n.jsx(wy,{size:32,className:"text-[var(--text-dim)]"}),n.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No other investments",l?` for ${l.memberName}`:""]}),n.jsx("button",{onClick:()=>b("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add an investment"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[n.jsx(Ii,{label:"Invested",value:K(w)}),n.jsx(Ii,{label:"Current Value",value:K(M),bold:!0}),n.jsx(Ii,{label:"P&L",value:`${y?"+":""}${K(Math.abs(C))}`,sub:`${y?"+":""}${N.toFixed(1)}%`,positive:y,bold:!0}),g>0&&n.jsx(Ii,{label:"Linked Loans",value:K(g),color:"rose"}),n.jsx(Ii,{label:"Holdings",value:j.length})]}),n.jsx("div",{className:"flex items-center justify-end px-1",children:n.jsxs("button",{onClick:()=>b("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[n.jsx(ja,{size:14})," Add Investment"]})}),n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[n.jsx("div",{className:"hidden sm:block overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm min-w-[720px]",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[n.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Investment"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Category"}),!l&&n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),n.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Invested"}),n.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current"}),n.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"}),n.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Loan"}),n.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),n.jsx("tbody",{children:j.map(U=>{const G=(U.currentValue||0)-(U.investedAmount||0),E=G>=0,L=U.linkedLiabilityId?D[U.linkedLiabilityId]:null;return n.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[n.jsxs("td",{className:"py-2.5 px-4",children:[n.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:U.investmentName}),n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:U.investmentType})]}),n.jsx("td",{className:"py-2.5 px-3",children:n.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Ub[U.investmentCategory]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:U.investmentCategory})}),!l&&n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:U.familyMemberName}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:K(U.investedAmount)}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(U.currentValue)}),n.jsx("td",{className:"py-2.5 px-3 text-right",children:n.jsxs("span",{className:`text-xs font-semibold tabular-nums ${E?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[E?"+":"",K(G)]})}),n.jsx("td",{className:"py-2.5 px-3 text-right",children:L?n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:K(L.outstandingBalance)}),n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:L.liabilityType})]}):n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),n.jsx("td",{className:"py-2.5 px-2",children:n.jsx("button",{onClick:()=>b({edit:U}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:n.jsx(wn,{size:12})})})]},U.investmentId)})})]})}),n.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:j.map(U=>{const G=(U.currentValue||0)-(U.investedAmount||0),E=G>=0,L=U.linkedLiabilityId?D[U.linkedLiabilityId]:null;return n.jsxs("div",{onClick:()=>b({edit:U}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:U.investmentName}),n.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${Ub[U.investmentCategory]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:U.investmentCategory})]}),n.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[U.familyMemberName,"  ",U.investmentType]}),n.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Invested"}),n.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:K(U.investedAmount)})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Current"}),n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(U.currentValue)})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"P&L"}),n.jsxs("p",{className:`text-xs font-semibold tabular-nums ${E?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[E?"+":"",K(G)]})]})]}),L&&n.jsxs("div",{className:"mt-1.5 flex items-center justify-between bg-rose-500/5 rounded px-2 py-1",children:[n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:L.liabilityType}),n.jsx("span",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:K(L.outstandingBalance)})]})]},U.investmentId)})})]})]}),n.jsx(It,{open:!!v,onClose:()=>b(null),title:v?.edit?"Edit Investment":"Add Investment",wide:!0,children:n.jsx(Q3,{initial:v?.edit||void 0,onSave:_,onDelete:v?.edit?P:void 0,onCancel:()=>b(null)})})]})}function Ii({label:s,value:l,sub:r,positive:t,bold:o,color:u}){const d=u==="rose"?"text-[var(--accent-rose)]":t===void 0?"text-[var(--text-primary)]":t?"text-emerald-400":"text-[var(--accent-rose)]";return n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),n.jsx("p",{className:`text-sm tabular-nums ${o?"font-bold":"font-semibold"} ${d}`,children:l}),r&&n.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${t?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}function X3({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o,activeInvestmentAccounts:u}=Ye(),d=!!s,[m,x]=S.useState({portfolioName:(s?.portfolioName||"").replace(/^PFL-/,""),investmentAccountId:s?.investmentAccountId||"",ownerId:s?.ownerId||"",initialInvestment:s?.initialInvestment||0,sipTarget:s?.sipTarget||"",lumpsumTarget:s?.lumpsumTarget||"",rebalanceThreshold:s?s.rebalanceThreshold*100:5}),[p,v]=S.useState({}),[b,j]=S.useState(!1);function w(g,_){x(P=>({...P,[g]:_})),v(P=>({...P,[g]:void 0}))}function M(g){x(_=>({..._,ownerId:g,investmentAccountId:""})),v(_=>({..._,ownerId:void 0}))}const C=u.filter(g=>m.ownerId?g.memberId===m.ownerId:!0).map(g=>({value:g.accountId,label:`${g.accountName} - ${g.platformBroker}`})),y=o.map(g=>({value:g.memberId,label:`${g.memberName} (${g.relationship})`}));function N(){const g={};return m.portfolioName.trim()||(g.portfolioName="Required"),m.ownerId||(g.ownerId="Required"),m.investmentAccountId||(g.investmentAccountId="Required"),v(g),Object.keys(g).length===0}async function D(){if(N()){j(!0);try{const g=u.find(P=>P.accountId===m.investmentAccountId),_=g?`${g.accountName} - ${g.platformBroker}`:m.investmentAccountId;await l({...m,investmentAccount:_,initialInvestment:Number(m.initialInvestment)||0,sipTarget:Number(m.sipTarget)||0,lumpsumTarget:Number(m.lumpsumTarget)||0,rebalanceThreshold:Number(m.rebalanceThreshold)})}finally{j(!1)}}}return n.jsxs("div",{className:"space-y-4",children:[n.jsx(ee,{label:"Portfolio Name",required:!0,error:p.portfolioName,children:n.jsx(pe,{value:m.portfolioName,onChange:g=>w("portfolioName",g),placeholder:"e.g., Long Term Wealth"})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Owner",required:!0,error:p.ownerId,children:n.jsx(_e,{value:m.ownerId,onChange:M,options:y,placeholder:"Select member..."})}),n.jsx(ee,{label:"Investment Account",required:!0,error:p.investmentAccountId,children:n.jsx(_e,{value:m.investmentAccountId,onChange:g=>w("investmentAccountId",g),options:C,placeholder:m.ownerId?C.length?"Select account...":"No MF accounts":"Select owner first..."})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsx(ee,{label:"SIP Target (/month)",children:n.jsx(pe,{type:"number",value:m.sipTarget,onChange:g=>w("sipTarget",g),placeholder:"e.g., 50000"})}),n.jsx(ee,{label:"Lumpsum Target ()",children:n.jsx(pe,{type:"number",value:m.lumpsumTarget,onChange:g=>w("lumpsumTarget",g),placeholder:"e.g., 200000"})}),n.jsx(ee,{label:"Rebalance Threshold (%)",children:n.jsx(pe,{type:"number",value:m.rebalanceThreshold,onChange:g=>w("rebalanceThreshold",g),placeholder:"e.g., 5"})})]}),!d&&n.jsx(ee,{label:"Initial Investment ()",children:n.jsx(pe,{type:"number",value:m.initialInvestment,onChange:g=>w("initialInvestment",g),placeholder:"0 if unknown"})}),n.jsxs("div",{className:"flex items-center justify-between",children:[d&&r?n.jsx(Dn,{onClick:r}):n.jsx("div",{}),n.jsx(aa,{onCancel:t,onSubmit:D,submitLabel:d?"Update":"Create Portfolio",loading:b})]})]})}function tr(s){return Array.isArray?Array.isArray(s):N1(s)==="[object Array]"}function W3(s){if(typeof s=="string")return s;let l=s+"";return l=="0"&&1/s==-1/0?"-0":l}function Z3(s){return s==null?"":W3(s)}function gn(s){return typeof s=="string"}function g1(s){return typeof s=="number"}function J3(s){return s===!0||s===!1||eA(s)&&N1(s)=="[object Boolean]"}function y1(s){return typeof s=="object"}function eA(s){return y1(s)&&s!==null}function _a(s){return s!=null}function jf(s){return!s.trim().length}function N1(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}const tA="Incorrect 'index' type",aA=s=>`Invalid value for key ${s}`,nA=s=>`Pattern length exceeds max of ${s}.`,rA=s=>`Missing ${s} property in key`,sA=s=>`Property 'weight' in key '${s}' must be a positive integer`,qb=Object.prototype.hasOwnProperty;class lA{constructor(l){this._keys=[],this._keyMap={};let r=0;l.forEach(t=>{let o=j1(t);this._keys.push(o),this._keyMap[o.id]=o,r+=o.weight}),this._keys.forEach(t=>{t.weight/=r})}get(l){return this._keyMap[l]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function j1(s){let l=null,r=null,t=null,o=1,u=null;if(gn(s)||tr(s))t=s,l=$b(s),r=If(s);else{if(!qb.call(s,"name"))throw new Error(rA("name"));const d=s.name;if(t=d,qb.call(s,"weight")&&(o=s.weight,o<=0))throw new Error(sA(d));l=$b(d),r=If(d),u=s.getFn}return{path:l,id:r,weight:o,src:t,getFn:u}}function $b(s){return tr(s)?s:s.split(".")}function If(s){return tr(s)?s.join("."):s}function iA(s,l){let r=[],t=!1;const o=(u,d,m)=>{if(_a(u))if(!d[m])r.push(u);else{let x=d[m];const p=u[x];if(!_a(p))return;if(m===d.length-1&&(gn(p)||g1(p)||J3(p)))r.push(Z3(p));else if(tr(p)){t=!0;for(let v=0,b=p.length;v<b;v+=1)o(p[v],d,m+1)}else d.length&&o(p,d,m+1)}};return o(s,gn(l)?l.split("."):l,0),t?r:r[0]}const oA={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},cA={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(s,l)=>s.score===l.score?s.idx<l.idx?-1:1:s.score<l.score?-1:1},uA={location:0,threshold:.6,distance:100},dA={useExtendedSearch:!1,getFn:iA,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Ee={...cA,...oA,...uA,...dA};const mA=/[^ ]+/g;function fA(s=1,l=3){const r=new Map,t=Math.pow(10,l);return{get(o){const u=o.match(mA).length;if(r.has(u))return r.get(u);const d=1/Math.pow(u,.5*s),m=parseFloat(Math.round(d*t)/t);return r.set(u,m),m},clear(){r.clear()}}}class vp{constructor({getFn:l=Ee.getFn,fieldNormWeight:r=Ee.fieldNormWeight}={}){this.norm=fA(r,3),this.getFn=l,this.isCreated=!1,this.setIndexRecords()}setSources(l=[]){this.docs=l}setIndexRecords(l=[]){this.records=l}setKeys(l=[]){this.keys=l,this._keysMap={},l.forEach((r,t)=>{this._keysMap[r.id]=t})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,gn(this.docs[0])?this.docs.forEach((l,r)=>{this._addString(l,r)}):this.docs.forEach((l,r)=>{this._addObject(l,r)}),this.norm.clear())}add(l){const r=this.size();gn(l)?this._addString(l,r):this._addObject(l,r)}removeAt(l){this.records.splice(l,1);for(let r=l,t=this.size();r<t;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(l,r){return l[this._keysMap[r]]}size(){return this.records.length}_addString(l,r){if(!_a(l)||jf(l))return;let t={v:l,i:r,n:this.norm.get(l)};this.records.push(t)}_addObject(l,r){let t={i:r,$:{}};this.keys.forEach((o,u)=>{let d=o.getFn?o.getFn(l):this.getFn(l,o.path);if(_a(d)){if(tr(d)){let m=[];const x=[{nestedArrIndex:-1,value:d}];for(;x.length;){const{nestedArrIndex:p,value:v}=x.pop();if(_a(v))if(gn(v)&&!jf(v)){let b={v,i:p,n:this.norm.get(v)};m.push(b)}else tr(v)&&v.forEach((b,j)=>{x.push({nestedArrIndex:j,value:b})})}t.$[u]=m}else if(gn(d)&&!jf(d)){let m={v:d,n:this.norm.get(d)};t.$[u]=m}}}),this.records.push(t)}toJSON(){return{keys:this.keys,records:this.records}}}function w1(s,l,{getFn:r=Ee.getFn,fieldNormWeight:t=Ee.fieldNormWeight}={}){const o=new vp({getFn:r,fieldNormWeight:t});return o.setKeys(s.map(j1)),o.setSources(l),o.create(),o}function pA(s,{getFn:l=Ee.getFn,fieldNormWeight:r=Ee.fieldNormWeight}={}){const{keys:t,records:o}=s,u=new vp({getFn:l,fieldNormWeight:r});return u.setKeys(t),u.setIndexRecords(o),u}function Ic(s,{errors:l=0,currentLocation:r=0,expectedLocation:t=0,distance:o=Ee.distance,ignoreLocation:u=Ee.ignoreLocation}={}){const d=l/s.length;if(u)return d;const m=Math.abs(t-r);return o?d+m/o:m?1:d}function xA(s=[],l=Ee.minMatchCharLength){let r=[],t=-1,o=-1,u=0;for(let d=s.length;u<d;u+=1){let m=s[u];m&&t===-1?t=u:!m&&t!==-1&&(o=u-1,o-t+1>=l&&r.push([t,o]),t=-1)}return s[u-1]&&u-t>=l&&r.push([t,u-1]),r}const us=32;function hA(s,l,r,{location:t=Ee.location,distance:o=Ee.distance,threshold:u=Ee.threshold,findAllMatches:d=Ee.findAllMatches,minMatchCharLength:m=Ee.minMatchCharLength,includeMatches:x=Ee.includeMatches,ignoreLocation:p=Ee.ignoreLocation}={}){if(l.length>us)throw new Error(nA(us));const v=l.length,b=s.length,j=Math.max(0,Math.min(t,b));let w=u,M=j;const C=m>1||x,y=C?Array(b):[];let N;for(;(N=s.indexOf(l,M))>-1;){let G=Ic(l,{currentLocation:N,expectedLocation:j,distance:o,ignoreLocation:p});if(w=Math.min(G,w),M=N+v,C){let E=0;for(;E<v;)y[N+E]=1,E+=1}}M=-1;let D=[],g=1,_=v+b;const P=1<<v-1;for(let G=0;G<v;G+=1){let E=0,L=_;for(;E<L;)Ic(l,{errors:G,currentLocation:j+L,expectedLocation:j,distance:o,ignoreLocation:p})<=w?E=L:_=L,L=Math.floor((_-E)/2+E);_=L;let B=Math.max(1,j-L+1),W=d?b:Math.min(j+L,b)+v,A=Array(W+2);A[W+1]=(1<<G)-1;for(let q=W;q>=B;q-=1){let J=q-1,z=r[s.charAt(J)];if(C&&(y[J]=+!!z),A[q]=(A[q+1]<<1|1)&z,G&&(A[q]|=(D[q+1]|D[q])<<1|1|D[q+1]),A[q]&P&&(g=Ic(l,{errors:G,currentLocation:J,expectedLocation:j,distance:o,ignoreLocation:p}),g<=w)){if(w=g,M=J,M<=j)break;B=Math.max(1,2*j-M)}}if(Ic(l,{errors:G+1,currentLocation:j,expectedLocation:j,distance:o,ignoreLocation:p})>w)break;D=A}const U={isMatch:M>=0,score:Math.max(.001,g)};if(C){const G=xA(y,m);G.length?x&&(U.indices=G):U.isMatch=!1}return U}function vA(s){let l={};for(let r=0,t=s.length;r<t;r+=1){const o=s.charAt(r);l[o]=(l[o]||0)|1<<t-r-1}return l}const gu=String.prototype.normalize?(s=>s.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(s=>s);class S1{constructor(l,{location:r=Ee.location,threshold:t=Ee.threshold,distance:o=Ee.distance,includeMatches:u=Ee.includeMatches,findAllMatches:d=Ee.findAllMatches,minMatchCharLength:m=Ee.minMatchCharLength,isCaseSensitive:x=Ee.isCaseSensitive,ignoreDiacritics:p=Ee.ignoreDiacritics,ignoreLocation:v=Ee.ignoreLocation}={}){if(this.options={location:r,threshold:t,distance:o,includeMatches:u,findAllMatches:d,minMatchCharLength:m,isCaseSensitive:x,ignoreDiacritics:p,ignoreLocation:v},l=x?l:l.toLowerCase(),l=p?gu(l):l,this.pattern=l,this.chunks=[],!this.pattern.length)return;const b=(w,M)=>{this.chunks.push({pattern:w,alphabet:vA(w),startIndex:M})},j=this.pattern.length;if(j>us){let w=0;const M=j%us,C=j-M;for(;w<C;)b(this.pattern.substr(w,us),w),w+=us;if(M){const y=j-us;b(this.pattern.substr(y),y)}}else b(this.pattern,0)}searchIn(l){const{isCaseSensitive:r,ignoreDiacritics:t,includeMatches:o}=this.options;if(l=r?l:l.toLowerCase(),l=t?gu(l):l,this.pattern===l){let C={isMatch:!0,score:0};return o&&(C.indices=[[0,l.length-1]]),C}const{location:u,distance:d,threshold:m,findAllMatches:x,minMatchCharLength:p,ignoreLocation:v}=this.options;let b=[],j=0,w=!1;this.chunks.forEach(({pattern:C,alphabet:y,startIndex:N})=>{const{isMatch:D,score:g,indices:_}=hA(l,C,y,{location:u+N,distance:d,threshold:m,findAllMatches:x,minMatchCharLength:p,includeMatches:o,ignoreLocation:v});D&&(w=!0),j+=g,D&&_&&(b=[...b,..._])});let M={isMatch:w,score:w?j/this.chunks.length:1};return w&&o&&(M.indices=b),M}}class Pr{constructor(l){this.pattern=l}static isMultiMatch(l){return Vb(l,this.multiRegex)}static isSingleMatch(l){return Vb(l,this.singleRegex)}search(){}}function Vb(s,l){const r=s.match(l);return r?r[1]:null}class bA extends Pr{constructor(l){super(l)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(l){const r=l===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class gA extends Pr{constructor(l){super(l)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(l){const t=l.indexOf(this.pattern)===-1;return{isMatch:t,score:t?0:1,indices:[0,l.length-1]}}}class yA extends Pr{constructor(l){super(l)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(l){const r=l.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class NA extends Pr{constructor(l){super(l)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(l){const r=!l.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,l.length-1]}}}class jA extends Pr{constructor(l){super(l)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(l){const r=l.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[l.length-this.pattern.length,l.length-1]}}}class wA extends Pr{constructor(l){super(l)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(l){const r=!l.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,l.length-1]}}}class C1 extends Pr{constructor(l,{location:r=Ee.location,threshold:t=Ee.threshold,distance:o=Ee.distance,includeMatches:u=Ee.includeMatches,findAllMatches:d=Ee.findAllMatches,minMatchCharLength:m=Ee.minMatchCharLength,isCaseSensitive:x=Ee.isCaseSensitive,ignoreDiacritics:p=Ee.ignoreDiacritics,ignoreLocation:v=Ee.ignoreLocation}={}){super(l),this._bitapSearch=new S1(l,{location:r,threshold:t,distance:o,includeMatches:u,findAllMatches:d,minMatchCharLength:m,isCaseSensitive:x,ignoreDiacritics:p,ignoreLocation:v})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(l){return this._bitapSearch.searchIn(l)}}class k1 extends Pr{constructor(l){super(l)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(l){let r=0,t;const o=[],u=this.pattern.length;for(;(t=l.indexOf(this.pattern,r))>-1;)r=t+u,o.push([t,r-1]);const d=!!o.length;return{isMatch:d,score:d?0:1,indices:o}}}const Lf=[bA,k1,yA,NA,wA,jA,gA,C1],Gb=Lf.length,SA=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,CA="|";function kA(s,l={}){return s.split(CA).map(r=>{let t=r.trim().split(SA).filter(u=>u&&!!u.trim()),o=[];for(let u=0,d=t.length;u<d;u+=1){const m=t[u];let x=!1,p=-1;for(;!x&&++p<Gb;){const v=Lf[p];let b=v.isMultiMatch(m);b&&(o.push(new v(b,l)),x=!0)}if(!x)for(p=-1;++p<Gb;){const v=Lf[p];let b=v.isSingleMatch(m);if(b){o.push(new v(b,l));break}}}return o})}const DA=new Set([C1.type,k1.type]);class MA{constructor(l,{isCaseSensitive:r=Ee.isCaseSensitive,ignoreDiacritics:t=Ee.ignoreDiacritics,includeMatches:o=Ee.includeMatches,minMatchCharLength:u=Ee.minMatchCharLength,ignoreLocation:d=Ee.ignoreLocation,findAllMatches:m=Ee.findAllMatches,location:x=Ee.location,threshold:p=Ee.threshold,distance:v=Ee.distance}={}){this.query=null,this.options={isCaseSensitive:r,ignoreDiacritics:t,includeMatches:o,minMatchCharLength:u,findAllMatches:m,ignoreLocation:d,location:x,threshold:p,distance:v},l=r?l:l.toLowerCase(),l=t?gu(l):l,this.pattern=l,this.query=kA(this.pattern,this.options)}static condition(l,r){return r.useExtendedSearch}searchIn(l){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:t,isCaseSensitive:o,ignoreDiacritics:u}=this.options;l=o?l:l.toLowerCase(),l=u?gu(l):l;let d=0,m=[],x=0;for(let p=0,v=r.length;p<v;p+=1){const b=r[p];m.length=0,d=0;for(let j=0,w=b.length;j<w;j+=1){const M=b[j],{isMatch:C,indices:y,score:N}=M.search(l);if(C){if(d+=1,x+=N,t){const D=M.constructor.type;DA.has(D)?m=[...m,...y]:m.push(y)}}else{x=0,d=0,m.length=0;break}}if(d){let j={isMatch:!0,score:x/d};return t&&(j.indices=m),j}}return{isMatch:!1,score:1}}}const Pf=[];function AA(...s){Pf.push(...s)}function zf(s,l){for(let r=0,t=Pf.length;r<t;r+=1){let o=Pf[r];if(o.condition(s,l))return new o(s,l)}return new S1(s,l)}const yu={AND:"$and",OR:"$or"},Ff={PATH:"$path",PATTERN:"$val"},Bf=s=>!!(s[yu.AND]||s[yu.OR]),TA=s=>!!s[Ff.PATH],EA=s=>!tr(s)&&y1(s)&&!Bf(s),Qb=s=>({[yu.AND]:Object.keys(s).map(l=>({[l]:s[l]}))});function D1(s,l,{auto:r=!0}={}){const t=o=>{let u=Object.keys(o);const d=TA(o);if(!d&&u.length>1&&!Bf(o))return t(Qb(o));if(EA(o)){const x=d?o[Ff.PATH]:u[0],p=d?o[Ff.PATTERN]:o[x];if(!gn(p))throw new Error(aA(x));const v={keyId:If(x),pattern:p};return r&&(v.searcher=zf(p,l)),v}let m={children:[],operator:u[0]};return u.forEach(x=>{const p=o[x];tr(p)&&p.forEach(v=>{m.children.push(t(v))})}),m};return Bf(s)||(s=Qb(s)),t(s)}function _A(s,{ignoreFieldNorm:l=Ee.ignoreFieldNorm}){s.forEach(r=>{let t=1;r.matches.forEach(({key:o,norm:u,score:d})=>{const m=o?o.weight:null;t*=Math.pow(d===0&&m?Number.EPSILON:d,(m||1)*(l?1:u))}),r.score=t})}function OA(s,l){const r=s.matches;l.matches=[],_a(r)&&r.forEach(t=>{if(!_a(t.indices)||!t.indices.length)return;const{indices:o,value:u}=t;let d={indices:o,value:u};t.key&&(d.key=t.key.src),t.idx>-1&&(d.refIndex=t.idx),l.matches.push(d)})}function RA(s,l){l.score=s.score}function IA(s,l,{includeMatches:r=Ee.includeMatches,includeScore:t=Ee.includeScore}={}){const o=[];return r&&o.push(OA),t&&o.push(RA),s.map(u=>{const{idx:d}=u,m={item:l[d],refIndex:d};return o.length&&o.forEach(x=>{x(u,m)}),m})}class Ol{constructor(l,r={},t){this.options={...Ee,...r},this.options.useExtendedSearch,this._keyStore=new lA(this.options.keys),this.setCollection(l,t)}setCollection(l,r){if(this._docs=l,r&&!(r instanceof vp))throw new Error(tA);this._myIndex=r||w1(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(l){_a(l)&&(this._docs.push(l),this._myIndex.add(l))}remove(l=()=>!1){const r=[];for(let t=0,o=this._docs.length;t<o;t+=1){const u=this._docs[t];l(u,t)&&(this.removeAt(t),t-=1,o-=1,r.push(u))}return r}removeAt(l){this._docs.splice(l,1),this._myIndex.removeAt(l)}getIndex(){return this._myIndex}search(l,{limit:r=-1}={}){const{includeMatches:t,includeScore:o,shouldSort:u,sortFn:d,ignoreFieldNorm:m}=this.options;let x=gn(l)?gn(this._docs[0])?this._searchStringList(l):this._searchObjectList(l):this._searchLogical(l);return _A(x,{ignoreFieldNorm:m}),u&&x.sort(d),g1(r)&&r>-1&&(x=x.slice(0,r)),IA(x,this._docs,{includeMatches:t,includeScore:o})}_searchStringList(l){const r=zf(l,this.options),{records:t}=this._myIndex,o=[];return t.forEach(({v:u,i:d,n:m})=>{if(!_a(u))return;const{isMatch:x,score:p,indices:v}=r.searchIn(u);x&&o.push({item:u,idx:d,matches:[{score:p,value:u,norm:m,indices:v}]})}),o}_searchLogical(l){const r=D1(l,this.options),t=(m,x,p)=>{if(!m.children){const{keyId:b,searcher:j}=m,w=this._findMatches({key:this._keyStore.get(b),value:this._myIndex.getValueForItemAtKeyId(x,b),searcher:j});return w&&w.length?[{idx:p,item:x,matches:w}]:[]}const v=[];for(let b=0,j=m.children.length;b<j;b+=1){const w=m.children[b],M=t(w,x,p);if(M.length)v.push(...M);else if(m.operator===yu.AND)return[]}return v},o=this._myIndex.records,u={},d=[];return o.forEach(({$:m,i:x})=>{if(_a(m)){let p=t(r,m,x);p.length&&(u[x]||(u[x]={idx:x,item:m,matches:[]},d.push(u[x])),p.forEach(({matches:v})=>{u[x].matches.push(...v)}))}}),d}_searchObjectList(l){const r=zf(l,this.options),{keys:t,records:o}=this._myIndex,u=[];return o.forEach(({$:d,i:m})=>{if(!_a(d))return;let x=[];t.forEach((p,v)=>{x.push(...this._findMatches({key:p,value:d[v],searcher:r}))}),x.length&&u.push({idx:m,item:d,matches:x})}),u}_findMatches({key:l,value:r,searcher:t}){if(!_a(r))return[];let o=[];if(tr(r))r.forEach(({v:u,i:d,n:m})=>{if(!_a(u))return;const{isMatch:x,score:p,indices:v}=t.searchIn(u);x&&o.push({score:p,key:l,value:u,idx:d,norm:m,indices:v})});else{const{v:u,n:d}=r,{isMatch:m,score:x,indices:p}=t.searchIn(u);m&&o.push({score:x,key:l,value:u,norm:d,indices:p})}return o}}Ol.version="7.1.0";Ol.createIndex=w1;Ol.parseIndex=pA;Ol.config=Ee;Ol.parseQuery=D1;AA(MA);let Ja=null,Li=null;function LA(s){if(!s)return!1;const l=new Date(s),r=new Date;return l.getFullYear()===r.getFullYear()&&l.getMonth()===r.getMonth()&&l.getDate()===r.getDate()}function PA(){return Ja?Promise.resolve(Ja):Li||(Li=iS("fundsList").then(s=>s&&Array.isArray(s.data)&&LA(s.updatedAt)?(Ja=s.data,Ja):F2().then(l=>(Ja=Array.isArray(l)?l:[],va("fundsList",Ja),Ja))).catch(()=>(Li=null,[])),Li)}function bp({value:s,onSelect:l,placeholder:r,disabled:t}){const[o,u]=S.useState(""),[d,m]=S.useState(Ja||[]),[x,p]=S.useState(!Ja),[v,b]=S.useState(!1),j=S.useRef(null);S.useEffect(()=>{if(Ja){m(Ja),p(!1);return}PA().then(D=>{m(D),p(!1)})},[]),S.useEffect(()=>{function D(g){j.current&&!j.current.contains(g.target)&&b(!1)}return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]);const w=S.useMemo(()=>d.length?new Ol(d,{keys:["fundName"],threshold:.3,distance:50,minMatchCharLength:2,includeScore:!0,ignoreLocation:!1,findAllMatches:!0}):null,[d]),M=S.useMemo(()=>!w||o.length<2?[]:w.search(o).slice(0,50).map(D=>D.item),[w,o]);function C(D){u(D),b(D.length>=2)}function y(D){l({schemeCode:D.fundCode||D.schemeCode,fundName:D.fundName,nav:D.nav,navDate:D.navDate}),u(""),b(!1)}function N(){l({schemeCode:"",fundName:"",nav:0,navDate:""}),u("")}return s?.fundName?n.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg px-3 py-2",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate",children:s.fundName}),n.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:s.schemeCode}),s.nav>0&&n.jsxs("span",{className:"text-xs font-medium text-emerald-400",children:["NAV: ",s.nav.toFixed(2),s.navDate?` (${s.navDate})`:""]})]})]}),n.jsx("button",{type:"button",onClick:N,className:"shrink-0 p-1 rounded-md hover:bg-[var(--bg-hover)] text-[var(--text-dim)] hover:text-[var(--text-secondary)] transition-colors",children:n.jsx(Zi,{size:14})})]}):n.jsxs("div",{ref:j,className:"relative",children:[n.jsxs("div",{className:"relative",children:[x?n.jsx(yy,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-400 animate-spin"}):n.jsx(V5,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)]"}),n.jsx("input",{type:"text",value:o,onChange:D=>C(D.target.value),onFocus:()=>o.length>=2&&b(!0),placeholder:x?"Loading funds...":r||"Search fund name...",disabled:t||x,className:"w-full bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg pl-9 pr-3 py-2 text-sm text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-violet-500/50 disabled:opacity-50 transition-colors"})]}),v&&M.length>0&&n.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl max-h-[240px] overflow-y-auto",children:M.map(D=>n.jsxs("button",{type:"button",onClick:()=>y(D),className:"w-full text-left px-3 py-2.5 hover:bg-[var(--bg-hover)] transition-colors border-b border-[var(--border-light)] last:border-0",children:[n.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:D.fundName}),n.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:D.fundCode||D.schemeCode}),D.nav>0&&n.jsxs("span",{className:"text-xs text-emerald-400 tabular-nums",children:["NAV: ",D.nav.toFixed(2),D.navDate?` (${D.navDate})`:""]})]})]},D.fundCode||D.schemeCode))}),v&&o.length>=2&&M.length===0&&!x&&n.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl p-4 text-center",children:n.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:['No funds found for "',o,'"']})})]})}const zA=[{value:"INITIAL",label:"Add Existing Holdings"},{value:"SIP",label:"SIP Investment"},{value:"LUMPSUM",label:"Lumpsum Investment"}];function FA({portfolioId:s,fundCode:l,fundName:r,transactionType:t,onSave:o,onCancel:u}){const{mfPortfolios:d,mfHoldings:m}=Ye(),{selectedMember:x}=Qt(),p=S.useMemo(()=>{const A=d.filter(se=>se.status==="Active");return x==="all"?A:A.filter(se=>se.ownerId===x)},[d,x]),[v,b]=S.useState({portfolioId:s||"",fundCode:l||"",fundName:r||"",nav:0,navDate:"",transactionType:t||"SIP",date:new Date().toISOString().split("T")[0],units:"",price:"",notes:""}),[j,w]=S.useState({}),[M,C]=S.useState(!1),[y,N]=S.useState(!l);function D(A,se){b(q=>({...q,[A]:se})),w(q=>({...q,[A]:void 0}))}function g({schemeCode:A,fundName:se,nav:q,navDate:J}){b(z=>({...z,fundCode:A,fundName:se,nav:q||0,navDate:J||"",price:q>0?String(q):z.price})),w(z=>({...z,fundCode:void 0,fundName:void 0})),N(!1)}function _(A){b(se=>({...se,fundCode:A.schemeCode,fundName:A.fundName,nav:A.currentNav||0,navDate:"",price:A.currentNav>0?String(A.currentNav):se.price})),w(se=>({...se,fundCode:void 0})),N(!1)}const P=S.useMemo(()=>v.portfolioId?m.filter(A=>A.portfolioId===v.portfolioId&&A.units>0).sort((A,se)=>se.currentValue-A.currentValue):[],[m,v.portfolioId]),U=S.useMemo(()=>!v.portfolioId||!v.fundCode?null:m.find(A=>A.portfolioId===v.portfolioId&&A.schemeCode===v.fundCode),[m,v.portfolioId,v.fundCode]),G=v.fundCode&&!U,E=S.useMemo(()=>(Number(v.units)||0)*(Number(v.price)||0),[v.units,v.price]);function L(){const A={};return v.portfolioId||(A.portfolioId="Required"),v.fundCode||(A.fundCode="Select a fund"),v.date||(A.date="Required"),(!v.units||Number(v.units)<=0)&&(A.units="Must be > 0"),(!v.price||Number(v.price)<=0)&&(A.price="Must be > 0"),w(A),Object.keys(A).length===0}async function B(){if(L()){C(!0);try{await o({portfolioId:v.portfolioId,fundCode:v.fundCode,fundName:v.fundName,transactionType:v.transactionType,purchaseDate:v.date,units:v.units,avgPrice:v.price,notes:v.notes})}finally{C(!1)}}}const W=p.map(A=>({value:A.portfolioId,label:`${A.portfolioName} (${A.ownerName})`}));return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Portfolio",required:!0,error:j.portfolioId,children:n.jsx(_e,{value:v.portfolioId,onChange:A=>{D("portfolioId",A),l||(D("fundCode",""),D("fundName",""),N(!1))},options:W,placeholder:"Select portfolio..."})}),n.jsx(ee,{label:"Transaction Type",required:!0,children:n.jsx(_e,{value:v.transactionType,onChange:A=>D("transactionType",A),options:zA})})]}),n.jsx(ee,{label:"Fund",required:!0,error:j.fundCode,children:v.fundCode&&!y?n.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:v.fundName}),n.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[v.fundCode,v.nav>0&&n.jsxs("span",{className:"ml-2 text-emerald-400",children:["NAV: ",v.nav.toFixed(2)]})]})]}),n.jsx("button",{type:"button",onClick:()=>{D("fundCode",""),D("fundName",""),N(!0)},className:"text-xs text-[var(--text-muted)] hover:text-[var(--text-primary)] underline shrink-0",children:"Change"})]}):n.jsxs("div",{className:"space-y-2",children:[P.length>0&&n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-muted)] mb-1",children:"Portfolio Funds"}),n.jsx("div",{className:"max-h-[180px] overflow-y-auto space-y-1 border border-[var(--border-light)] rounded-lg p-1.5",children:P.map(A=>n.jsxs("button",{type:"button",onClick:()=>_(A),className:`w-full text-left px-2.5 py-2 rounded-md transition-colors hover:bg-[var(--bg-hover)] ${v.fundCode===A.schemeCode?"bg-violet-500/10 ring-1 ring-violet-500/30":""}`,children:[n.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight truncate",children:A.fundName}),n.jsxs("div",{className:"flex items-center gap-2 mt-0.5 text-[11px] text-[var(--text-dim)]",children:[n.jsx("span",{children:A.schemeCode}),n.jsxs("span",{children:[A.units.toFixed(2)," units"]}),n.jsx("span",{className:"font-semibold text-[var(--text-muted)]",children:K(A.currentValue)}),A.currentNav>0&&n.jsxs("span",{className:"text-emerald-400/70",children:["NAV ",A.currentNav.toFixed(2)]})]})]},A.holdingId))})]}),n.jsxs("div",{children:[P.length>0&&n.jsxs("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-muted)] mb-1 flex items-center gap-1",children:[n.jsx(ja,{size:10})," Add New Fund"]}),n.jsx(bp,{value:null,onSelect:g,placeholder:"Search fund by name, code, or category..."})]})]})}),U&&n.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Existing holding  will average out"}),n.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Current: ",n.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:U.units.toFixed(2)})," units @ ",U.avgNav.toFixed(2)," avg NAV | Value: ",K(U.currentValue),U.targetAllocationPct>0&&n.jsxs("span",{children:["  Target: ",U.targetAllocationPct.toFixed(1),"%"]})]})]}),G&&n.jsxs("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:[n.jsx("p",{className:"text-xs text-violet-400 font-semibold",children:"New fund  will be added to portfolio"}),n.jsx("p",{className:"text-xs text-violet-300/70 mt-0.5",children:"Use Allocations to plan how much to invest before buying"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsx(ee,{label:"Date",required:!0,error:j.date,children:n.jsx(x1,{value:v.date,onChange:A=>D("date",A)})}),n.jsx(ee,{label:"Units",required:!0,error:j.units,children:n.jsx(pe,{type:"number",value:v.units,onChange:A=>D("units",A),placeholder:"e.g., 150.50"})}),n.jsx(ee,{label:"NAV ()",required:!0,error:j.price,children:n.jsx(pe,{type:"number",value:v.price,onChange:A=>D("price",A),placeholder:"e.g., 178.45"})})]}),E>0&&n.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),n.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:K(E)}),U&&n.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:["New avg NAV: ",((U.investment+E)/(U.units+Number(v.units))).toFixed(2)," Total units: ",(U.units+Number(v.units)).toFixed(2)]})]}),n.jsx(ee,{label:"Notes",children:n.jsx(pe,{value:v.notes,onChange:A=>D("notes",A),placeholder:"Optional notes..."})}),n.jsx(aa,{onCancel:u,onSubmit:B,submitLabel:v.transactionType==="SIP"?"Record SIP":v.transactionType==="LUMPSUM"?"Record Lumpsum":"Add Holdings",loading:M})]})}function BA({portfolioId:s,onSave:l,onCancel:r}){const{mfPortfolios:t,mfHoldings:o}=Ye(),{selectedMember:u}=Qt(),d=S.useMemo(()=>{const E=t.filter(L=>L.status==="Active");return u==="all"?E:E.filter(L=>L.ownerId===u)},[t,u]),[m,x]=S.useState({portfolioId:s||"",fundCode:"",fundName:"",date:new Date().toISOString().split("T")[0],units:"",price:"",notes:""}),[p,v]=S.useState({}),[b,j]=S.useState(!1);function w(E,L){x(B=>({...B,[E]:L})),v(B=>({...B,[E]:void 0}))}const M=S.useMemo(()=>m.portfolioId?o.filter(E=>E.portfolioId===m.portfolioId&&E.units>0):[],[o,m.portfolioId]),C=M.find(E=>E.schemeCode===m.fundCode);function y(E){const L=M.find(B=>B.schemeCode===E);x(B=>({...B,fundCode:E,fundName:L?.fundName||"",price:L?.currentNav?.toString()||""})),v(B=>({...B,fundCode:void 0}))}function N(E){x(L=>({...L,portfolioId:E,fundCode:"",fundName:"",units:"",price:""})),v(L=>({...L,portfolioId:void 0}))}const D=S.useMemo(()=>(Number(m.units)||0)*(Number(m.price)||0),[m.units,m.price]),g=C?D-Number(m.units)*C.avgNav:0;function _(){const E={};return m.portfolioId||(E.portfolioId="Required"),m.fundCode||(E.fundCode="Required"),m.date||(E.date="Required"),(!m.units||Number(m.units)<=0)&&(E.units="Must be > 0"),C&&Number(m.units)>C.units&&(E.units=`Max ${C.units.toFixed(2)} units`),(!m.price||Number(m.price)<=0)&&(E.price="Must be > 0"),v(E),Object.keys(E).length===0}async function P(){if(_()){j(!0);try{await l(m)}finally{j(!1)}}}const U=d.map(E=>({value:E.portfolioId,label:`${E.portfolioName} (${E.ownerName})`})),G=M.map(E=>({value:E.schemeCode,label:`${E.fundName}`}));return n.jsxs("div",{className:"space-y-4",children:[n.jsx(ee,{label:"Portfolio",required:!0,error:p.portfolioId,children:n.jsx(_e,{value:m.portfolioId,onChange:N,options:U,placeholder:"Select portfolio..."})}),n.jsx(ee,{label:"Fund to Redeem",required:!0,error:p.fundCode,children:n.jsx(_e,{value:m.fundCode,onChange:y,options:G,placeholder:m.portfolioId?M.length?"Select fund...":"No holdings":"Select portfolio first..."})}),C&&n.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:C.fundName}),n.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",n.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:C.units.toFixed(2)})," units @ ",C.avgNav.toFixed(2)," avg | Current NAV: ",C.currentNav.toFixed(2)]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsx(ee,{label:"Date",required:!0,error:p.date,children:n.jsx(x1,{value:m.date,onChange:E=>w("date",E)})}),n.jsx(ee,{label:"Units",required:!0,error:p.units,children:n.jsx(pe,{type:"number",value:m.units,onChange:E=>w("units",E),placeholder:C?`Max: ${C.units.toFixed(2)}`:""})}),n.jsx(ee,{label:"NAV ()",required:!0,error:p.price,children:n.jsx(pe,{type:"number",value:m.price,onChange:E=>w("price",E),placeholder:"e.g., 178.45"})})]}),D>0&&n.jsx("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Redemption Amount"}),n.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:K(D)})]}),C&&n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. Gain/Loss"}),n.jsxs("p",{className:`text-sm font-bold tabular-nums ${g>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[g>=0?"+":"",K(g)]})]})]})}),n.jsx(ee,{label:"Notes",children:n.jsx(pe,{value:m.notes,onChange:E=>w("notes",E),placeholder:"Optional notes..."})}),n.jsx(aa,{onCancel:r,onSubmit:P,submitLabel:"Redeem",loading:b})]})}function HA({portfolioId:s,onSave:l,onCancel:r}){const{mfPortfolios:t,mfHoldings:o}=Ye(),{selectedMember:u}=Qt(),d=S.useMemo(()=>{const A=t.filter(se=>se.status==="Active");return u==="all"?A:A.filter(se=>se.ownerId===u)},[t,u]),[m,x]=S.useState({portfolioId:s||"",fromFundCode:"",fromFundName:"",toFundCode:"",toFundName:"",date:new Date().toISOString().split("T")[0],units:"",fromPrice:"",toPrice:"",targetAllocation:"",notes:""}),[p,v]=S.useState({}),[b,j]=S.useState(!1);function w(A,se){x(q=>({...q,[A]:se})),v(q=>({...q,[A]:void 0}))}function M(A){x(se=>({...se,portfolioId:A,fromFundCode:"",fromFundName:"",toFundCode:"",toFundName:"",units:"",fromPrice:"",toPrice:"",targetAllocation:""})),v(se=>({...se,portfolioId:void 0}))}const C=S.useMemo(()=>m.portfolioId?o.filter(A=>A.portfolioId===m.portfolioId&&A.units>0):[],[o,m.portfolioId]),y=C.find(A=>A.schemeCode===m.fromFundCode),N=S.useMemo(()=>!m.portfolioId||!m.toFundCode?null:o.find(A=>A.portfolioId===m.portfolioId&&A.schemeCode===m.toFundCode),[o,m.portfolioId,m.toFundCode]),D=m.toFundCode&&!N;function g(A){const se=C.find(q=>q.schemeCode===A);x(q=>({...q,fromFundCode:A,fromFundName:se?.fundName||"",fromPrice:se?.currentNav?.toString()||""})),v(q=>({...q,fromFundCode:void 0}))}function _({schemeCode:A,fundName:se}){const q=o.find(J=>J.portfolioId===m.portfolioId&&J.schemeCode===A);x(J=>({...J,toFundCode:A,toFundName:se,toPrice:q?.currentNav?.toString()||J.toPrice,targetAllocation:""})),v(J=>({...J,toFundCode:void 0}))}const P=S.useMemo(()=>(Number(m.units)||0)*(Number(m.fromPrice)||0),[m.units,m.fromPrice]),U=P>0&&Number(m.toPrice)>0?P/Number(m.toPrice):0,G=y?P-Number(m.units)*y.avgNav:0;function E(){const A={};return m.portfolioId||(A.portfolioId="Required"),m.fromFundCode||(A.fromFundCode="Required"),m.toFundCode||(A.toFundCode="Required"),m.fromFundCode&&m.toFundCode&&m.fromFundCode===m.toFundCode&&(A.toFundCode="Must be different from source fund"),m.date||(A.date="Required"),(!m.units||Number(m.units)<=0)&&(A.units="Must be > 0"),y&&Number(m.units)>y.units&&(A.units=`Max ${y.units.toFixed(2)} units`),(!m.fromPrice||Number(m.fromPrice)<=0)&&(A.fromPrice="Must be > 0"),(!m.toPrice||Number(m.toPrice)<=0)&&(A.toPrice="Must be > 0"),v(A),Object.keys(A).length===0}async function L(){if(E()){j(!0);try{await l(m)}finally{j(!1)}}}const B=d.map(A=>({value:A.portfolioId,label:`${A.portfolioName} (${A.ownerName})`})),W=C.map(A=>({value:A.schemeCode,label:A.fundName}));return n.jsxs("div",{className:"space-y-4",children:[n.jsx(ee,{label:"Portfolio",required:!0,error:p.portfolioId,children:n.jsx(_e,{value:m.portfolioId,onChange:M,options:B,placeholder:"Select portfolio..."})}),n.jsx(ee,{label:"Switch From (Sell)",required:!0,error:p.fromFundCode,children:n.jsx(_e,{value:m.fromFundCode,onChange:g,options:W,placeholder:m.portfolioId?C.length?"Select fund to switch from...":"No holdings":"Select portfolio first..."})}),y&&n.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:y.fundName}),n.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",n.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:y.units.toFixed(2)})," units @ ",y.avgNav.toFixed(2)," avg | Current NAV: ",y.currentNav.toFixed(2)]})]}),n.jsx(ee,{label:"Switch To (Buy)",required:!0,error:p.toFundCode,children:n.jsx(bp,{value:m.toFundCode?{schemeCode:m.toFundCode,fundName:m.toFundName}:null,onSelect:_,placeholder:"Search fund to switch into...",disabled:!m.portfolioId})}),N&&n.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Existing holding  units will be added, NAV averaged out"}),n.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Current: ",n.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:N.units.toFixed(2)})," units @ ",N.avgNav.toFixed(2)," avg | Alloc: ",N.targetAllocationPct.toFixed(1),"%"]})]}),D&&m.toFundCode&&n.jsx("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:n.jsx("p",{className:"text-xs text-violet-400 font-semibold",children:"New fund  will be added to portfolio"})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Switch Date",required:!0,error:p.date,children:n.jsx(pe,{type:"date",value:m.date,onChange:A=>w("date",A)})}),n.jsx(ee,{label:"Units to Switch",required:!0,error:p.units,children:n.jsx(pe,{type:"number",value:m.units,onChange:A=>w("units",A),placeholder:y?`Max: ${y.units.toFixed(2)}`:""})})]}),n.jsxs("div",{className:`grid grid-cols-1 ${D?"sm:grid-cols-3":"sm:grid-cols-2"} gap-4`,children:[n.jsx(ee,{label:"From Fund NAV ()",required:!0,error:p.fromPrice,children:n.jsx(pe,{type:"number",value:m.fromPrice,onChange:A=>w("fromPrice",A),placeholder:"e.g., 178.45"})}),n.jsx(ee,{label:"To Fund NAV ()",required:!0,error:p.toPrice,children:n.jsx(pe,{type:"number",value:m.toPrice,onChange:A=>w("toPrice",A),placeholder:"e.g., 82.10"})}),D&&n.jsx(ee,{label:"Target Allocation (%)",children:n.jsx(pe,{type:"number",value:m.targetAllocation,onChange:A=>w("targetAllocation",A),placeholder:"e.g., 20"})})]}),P>0&&n.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Switch Amount"}),n.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:K(P)})]}),U>0&&n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Units Bought"}),n.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:U.toFixed(4)})]}),y&&n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. Gain/Loss"}),n.jsxs("p",{className:`text-sm font-bold tabular-nums ${G>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[G>=0?"+":"",K(G)]})]})]}),N&&U>0&&n.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1 border-t border-[var(--border-light)] pt-1",children:["New total: ",(N.units+U).toFixed(2)," units  New avg NAV: ",((N.investment+P)/(N.units+U)).toFixed(2)]})]}),n.jsx(ee,{label:"Notes",children:n.jsx(pe,{value:m.notes,onChange:A=>w("notes",A),placeholder:"Optional notes..."})}),n.jsx(aa,{onCancel:r,onSubmit:L,submitLabel:"Switch Funds",loading:b})]})}function YA({portfolioId:s,onSave:l,onCancel:r}){const{mfHoldings:t,mfPortfolios:o}=Ye(),u=o.find(E=>E.portfolioId===s),d=S.useMemo(()=>t.filter(E=>E.portfolioId===s),[t,s]),[m,x]=S.useState(()=>d.map(E=>({schemeCode:E.schemeCode,fundName:E.fundName,units:E.units,currentValue:E.currentValue,currentAllocationPct:E.currentAllocationPct,targetAllocationPct:E.targetAllocationPct,isNew:!1}))),[p,v]=S.useState(null),[b,j]=S.useState(""),[w,M]=S.useState(""),[C,y]=S.useState(!1),N=m.reduce((E,L)=>E+L.targetAllocationPct,0),D=m.reduce((E,L)=>E+L.currentValue,0);function g(E,L){x(B=>B.map(W=>W.schemeCode===E?{...W,targetAllocationPct:Number(L)||0}:W)),M("")}function _(E){const L=m.find(B=>B.schemeCode===E);L&&L.units>0||x(B=>B.filter(W=>W.schemeCode!==E))}function P(){if(p){if(m.find(E=>E.schemeCode===p.schemeCode)){M("Fund already exists in portfolio");return}x(E=>[...E,{schemeCode:p.schemeCode,fundName:p.fundName,units:0,currentValue:0,currentAllocationPct:0,targetAllocationPct:Number(b)||0,isNew:!0}]),v(null),j(""),M("")}}async function U(){if(N>100){M(`Total allocation is ${N.toFixed(1)}%  must be  100%`);return}y(!0);try{await l(m.map(E=>({schemeCode:E.schemeCode,fundName:E.fundName,targetAllocationPct:E.targetAllocationPct,isNew:E.isNew})))}finally{y(!1)}}const G=u?.sipTarget||0;return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:u?.portfolioName}),n.jsx("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)] mt-0.5 flex-wrap",children:n.jsxs("span",{children:["Current Value: ",n.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:K(D)})]})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[n.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Fund"}),n.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Units"}),n.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Current %"}),n.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Target %"}),n.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold w-8"})]})}),n.jsx("tbody",{children:m.map(E=>{const L=E.isNew&&E.targetAllocationPct>0&&E.targetAllocationPct<100&&D>0?E.targetAllocationPct/(100-E.targetAllocationPct)*D:0,B=E.isNew&&E.targetAllocationPct>0&&G>=100?E.targetAllocationPct/100*G:0;return n.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[n.jsxs("td",{className:"py-2 px-2",children:[n.jsx("p",{className:"text-xs text-[var(--text-primary)] leading-tight max-w-[200px] truncate",children:E.fundName}),n.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[E.schemeCode,E.isNew&&n.jsx("span",{className:"text-violet-400 ml-1",children:"(new)"})]}),(L>0||B>0)&&n.jsxs("p",{className:"text-xs text-blue-400 mt-0.5",children:["Invest: ",L>0&&n.jsx("span",{className:"font-semibold",children:K(L)}),L>0&&B>0&&"  ",B>0&&n.jsxs("span",{className:"font-semibold",children:[K(B),"/mo SIP"]})]})]}),n.jsx("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:E.units.toFixed(2)}),n.jsxs("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:[E.currentAllocationPct.toFixed(1),"%"]}),n.jsx("td",{className:"py-2 px-2",children:n.jsx("input",{type:"number",value:E.targetAllocationPct,onChange:W=>g(E.schemeCode,W.target.value),className:"w-20 mx-auto block bg-[var(--bg-inset)] border border-[var(--border)] rounded px-2 py-1 text-xs text-center text-[var(--text-primary)] focus:outline-none focus:border-violet-500/50"})}),n.jsx("td",{className:"py-2 px-2 text-center",children:E.units===0&&n.jsx("button",{onClick:()=>_(E.schemeCode),className:"p-1 rounded hover:bg-rose-500/15 text-[var(--text-dim)] hover:text-[var(--accent-rose)] transition-colors",children:n.jsx(ap,{size:12})})})]},E.schemeCode)})}),n.jsx("tfoot",{children:n.jsxs("tr",{className:"border-t border-[var(--border)]",children:[n.jsx("td",{className:"py-2 px-2 text-xs font-bold text-[var(--text-primary)]",children:"Total"}),n.jsx("td",{}),n.jsxs("td",{className:"py-2 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[m.reduce((E,L)=>E+L.currentAllocationPct,0).toFixed(1),"%"]}),n.jsx("td",{className:"py-2 px-2 text-center",children:n.jsxs("span",{className:`text-xs font-bold tabular-nums ${N>100?"text-[var(--accent-rose)]":N===100?"text-emerald-400":"text-amber-400"}`,children:[N.toFixed(1),"%"]})}),n.jsx("td",{})]})})]})}),n.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3",children:[n.jsx("p",{className:"text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider mb-1",children:"Add New Fund"}),n.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"Set target % to see how much to invest. After buying, use Invest to record the transaction."}),n.jsxs("div",{className:"flex items-end gap-2",children:[n.jsx("div",{className:"flex-1",children:n.jsx(bp,{value:p,onSelect:E=>v(E.schemeCode?E:null),placeholder:"Search fund to add..."})}),n.jsx("div",{className:"w-24",children:n.jsx(pe,{type:"number",value:b,onChange:j,placeholder:"Target %",style:{textAlign:"center"}})}),n.jsxs("button",{onClick:P,disabled:!p,className:"shrink-0 flex items-center gap-1 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors disabled:opacity-40 disabled:cursor-not-allowed",children:[n.jsx(ja,{size:14})," Add"]})]})]})]}),w&&n.jsx("p",{className:"text-xs text-[var(--accent-rose)] font-medium",children:w}),n.jsx(aa,{onCancel:r,onSubmit:U,submitLabel:"Save Allocations",loading:C})]})}const Pi=s=>s?.replace(/^PFL-/,"")||s;function Kb(s){return s>=20?{color:"#c62828",fontWeight:700}:s>=10?{color:"#d84315",fontWeight:700}:s>=5?{color:"#e67e00",fontWeight:600}:s>=1?{color:"#b8860b",fontWeight:600}:{color:"var(--text-dim)",fontWeight:400}}function UA(){const{selectedMember:s}=Qt(),{mfPortfolios:l,mfHoldings:r,mfTransactions:t,activeMembers:o,activeInvestmentAccounts:u,addMFPortfolio:d,updateMFPortfolio:m,deleteMFPortfolio:x,investMF:p,redeemMF:v,switchMF:b,updateHoldingAllocations:j}=Ye(),{showToast:w,showBlockUI:M,hideBlockUI:C}=Sn(),{mv:y}=Cn(),[N,D]=S.useState(null),[g,_]=S.useState("all"),[P,U]=S.useState("holdings"),[G,E]=S.useState(!1),[L,B]=S.useState(null),[W,A]=S.useState({}),se=S.useCallback(H=>{B(he=>he===H?null:H)},[]),q=S.useCallback(H=>{A(he=>({...he,[H]:(he[H]||5)+10}))},[]),J=S.useMemo(()=>l?l.filter(H=>H.status!=="Inactive").map(H=>{let he=u.find(Ae=>Ae.accountId===H.investmentAccountId);!he&&H.investmentAccountId&&(he=u.find(Ae=>`${Ae.accountName} - ${Ae.platformBroker}`===H.investmentAccountId));const oe=he?.memberId||H.ownerId||"",fe=oe?o.find(Ae=>Ae.memberId===oe):null;return{...H,investmentAccountId:he?.accountId||H.investmentAccountId,ownerId:oe,ownerName:fe?.memberName||H.ownerName||"",platform:he?.platformBroker||H.investmentAccountName||"",clientId:he?.accountClientId||""}}):[],[l,u,o]),z=S.useMemo(()=>J.length?s==="all"?J:J.filter(H=>H.ownerId===s):[],[J,s]),O=S.useMemo(()=>r?z.map(H=>{const he=r.filter(fe=>fe.portfolioId===H.portfolioId),oe=(t||[]).filter(fe=>fe.portfolioId===H.portfolioId);return{...H,holdings:he,txns:oe,fundCount:he.length}}):[],[z,r,t]),R=S.useMemo(()=>{const H=g==="all"?O:O.filter(Oe=>Oe.portfolioId===g),he=H.reduce((Oe,gt)=>Oe+gt.totalInvestment,0),oe=H.reduce((Oe,gt)=>Oe+gt.currentValue,0),fe=H.reduce((Oe,gt)=>Oe+gt.unrealizedPL,0),Ae=H.reduce((Oe,gt)=>Oe+gt.realizedPL,0),st=fe+Ae,lt=he>0?st/he*100:0,Pe=he>0?fe/he*100:0,Ge=he>0?Ae/he*100:0,Nt=H.reduce((Oe,gt)=>Oe+gt.fundCount,0),Ct=(r?g==="all"?r.filter(Oe=>H.some(gt=>gt.portfolioId===Oe.portfolioId)):r.filter(Oe=>Oe.portfolioId===g):[]).reduce((Oe,gt)=>Oe+(gt.ongoingSIP||0),0);return{invested:he,current:oe,unrealizedPL:fe,unrealizedPLPct:Pe,realizedPL:Ae,realizedPLPct:Ge,totalPL:st,totalPLPct:lt,funds:Nt,monthlySIP:Ct}},[O,g,r]),ce=S.useMemo(()=>r?g==="all"?r.filter(H=>z.some(he=>he.portfolioId===H.portfolioId)):r.filter(H=>H.portfolioId===g):[],[r,z,g]),ve=S.useMemo(()=>t?(g==="all"?t.filter(he=>z.some(oe=>oe.portfolioId===he.portfolioId)):t.filter(he=>he.portfolioId===g)).sort((he,oe)=>new Date(oe.date)-new Date(he.date)):[],[t,z,g]),F=S.useMemo(()=>{const H={};return ce.forEach(he=>{H[he.portfolioId]=(H[he.portfolioId]||0)+he.currentValue}),ce.map(he=>{const oe=H[he.portfolioId]||0,fe=oe>0?he.currentValue/oe*100:0,Ae=he.investment>0?he.pl/he.investment*100:0;return{...he,currentAllocationPct:fe,plPct:Ae}})},[ce]),ae=S.useMemo(()=>{if(!r)return{};const H={};return O.forEach(he=>{const oe=r.filter(Pe=>Pe.portfolioId===he.portfolioId&&Pe.units>0),fe=oe.reduce((Pe,Ge)=>Pe+Ge.currentValue,0),Ae=(he.rebalanceThreshold||.05)*100;let st=0,lt=0;oe.forEach(Pe=>{Pe.athNav>0&&Pe.belowATHPct>=5&&st++;const Ge=fe>0?Pe.currentValue/fe*100:0;Pe.targetAllocationPct>0&&Math.abs(Ge-Pe.targetAllocationPct)>Ae&&lt++}),H[he.portfolioId]={buyOpp:st,rebalance:lt}}),H},[O,r]),ue=S.useMemo(()=>{if(g!=="all")return ae[g]||{buyOpp:0,rebalance:0};let H=0,he=0;return Object.values(ae).forEach(oe=>{H+=oe.buyOpp,he+=oe.rebalance}),{buyOpp:H,rebalance:he}},[g,ae]);if(l===null||r===null)return n.jsx(nr,{title:"Loading mutual funds",cards:5});const de=O.find(H=>H.portfolioId===g),ke=g==="all"?`All Portfolios (${z.length})`:`${Pi(de?.portfolioName)}  ${de?.ownerName}`;async function je(H){M("Saving...");try{N?.editPortfolio?await m(N.editPortfolio.portfolioId,H):await d(H),w(N?.editPortfolio?"Portfolio updated":"Portfolio created"),D(null)}catch(he){w(he.message||"Failed to save portfolio","error")}finally{C()}}async function ge(){if(N?.editPortfolio&&confirm("Deactivate this portfolio?")){M("Deactivating...");try{await x(N.editPortfolio.portfolioId),w("Portfolio deactivated"),_("all"),D(null)}catch(H){w(H.message||"Failed to deactivate portfolio","error")}finally{C()}}}async function Qe(H){M("Recording investment...");try{await p(H,H.transactionType),w("Investment recorded"),D(null)}catch(he){w(he.message||"Failed to record investment","error")}finally{C()}}async function Ze(H){M("Recording redemption...");try{await v(H),w("Redemption recorded"),D(null)}catch(he){w(he.message||"Failed to record redemption","error")}finally{C()}}async function Yt(H){M("Recording switch...");try{await b(H),w("Switch recorded"),D(null)}catch(he){w(he.message||"Failed to record switch","error")}finally{C()}}async function Xt(H){if(N?.allocations){M("Saving allocations...");try{await j(N.allocations,H),w("Allocations updated"),D(null)}catch(he){w(he.message||"Failed to update allocations","error")}finally{C()}}}return n.jsxs("div",{className:"space-y-4",children:[z.length===0?n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[n.jsx(pl,{size:32,className:"text-[var(--text-dim)]"}),n.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No mutual fund portfolios yet"}),n.jsx("button",{onClick:()=>D("addPortfolio"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first portfolio"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>E(!G),className:"flex items-center gap-2 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm font-semibold text-[var(--text-primary)] hover:border-[var(--border-light)] transition-colors min-w-[220px]",children:[n.jsx(pl,{size:14,className:"text-violet-400 shrink-0"}),n.jsx("span",{className:"truncate",children:ke}),n.jsx(Er,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${G?"rotate-180":""}`})]}),G&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>E(!1)}),n.jsxs("div",{className:"absolute left-0 top-full mt-1 z-40 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl min-w-[300px] py-1 overflow-hidden",children:[n.jsxs("button",{onClick:()=>{_("all"),E(!1),U("holdings")},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${g==="all"?"bg-[var(--sidebar-active-bg)] text-[var(--text-primary)] font-semibold":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:["All Portfolios (",z.length,")"]}),n.jsx("div",{className:"border-t border-[var(--border-light)]"}),O.map(H=>{const he=H.totalPL>=0,oe=ae[H.portfolioId]||{};return n.jsx("button",{onClick:()=>{_(H.portfolioId),E(!1),U("holdings")},className:`w-full text-left px-4 py-2.5 transition-colors ${g===H.portfolioId?"bg-[var(--sidebar-active-bg)]":"hover:bg-[var(--bg-hover)]"}`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("p",{className:`text-sm ${g===H.portfolioId?"font-semibold text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:Pi(H.portfolioName)}),oe.buyOpp>0&&n.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 shrink-0",title:`${oe.buyOpp} buy opportunities`}),oe.rebalance>0&&n.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-400 shrink-0",title:`${oe.rebalance} funds need rebalancing`})]}),n.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[H.ownerName,"  ",H.platform,"  ",H.fundCount," funds"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(H.currentValue)}),n.jsxs("p",{className:`text-xs font-semibold tabular-nums ${he?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[he?"+":"",H.totalPLPct.toFixed(1),"%"]})]})]})},H.portfolioId)})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs("button",{onClick:()=>D("buyOpp"),disabled:ue.buyOpp===0,className:`flex items-center gap-1.5 px-3 py-2 text-xs font-medium rounded-lg transition-colors ${ue.buyOpp>0?"text-emerald-400 hover:text-emerald-300 bg-[var(--bg-card)] border border-emerald-500/30 animate-glow-emerald":"text-[var(--text-dim)] bg-[var(--bg-card)] border border-[var(--border)] opacity-50 cursor-not-allowed"}`,children:[n.jsx(Su,{size:12})," Buy Opp.",ue.buyOpp>0&&n.jsx("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-emerald-500/15",children:ue.buyOpp})]}),n.jsxs("button",{onClick:()=>D("rebalance"),disabled:ue.rebalance===0,className:`flex items-center gap-1.5 px-3 py-2 text-xs font-medium rounded-lg transition-colors ${ue.rebalance>0?"text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-violet-500/30 animate-glow-violet":"text-[var(--text-dim)] bg-[var(--bg-card)] border border-[var(--border)] opacity-50 cursor-not-allowed"}`,children:[n.jsx(vl,{size:12})," Rebalance",ue.rebalance>0&&n.jsx("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-violet-500/15",children:ue.rebalance})]}),de&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>D({allocations:de.portfolioId}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[n.jsx(Q5,{size:12})," Allocations"]}),n.jsxs("button",{onClick:()=>D({editPortfolio:de}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[n.jsx(wn,{size:12})," Edit"]})]}),n.jsxs("button",{onClick:()=>D("addPortfolio"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[n.jsx(ja,{size:14})," New Portfolio"]})]})]}),de&&n.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-dim)] px-1 flex-wrap",children:[n.jsxs("span",{children:[n.jsx("span",{className:"font-semibold",children:"Platform:"})," ",de.platform]}),n.jsxs("span",{children:[n.jsx("span",{className:"font-semibold",children:"Client ID:"})," ",y(de.clientId,"clientId")]}),n.jsxs("span",{children:[n.jsx("span",{className:"font-semibold",children:"Funds:"})," ",de.fundCount]}),de.sipTarget>=100&&n.jsxs("span",{children:[n.jsx("span",{className:"font-semibold",children:"SIP Target:"})," ",K(de.sipTarget),"/mo"]}),de.lumpsumTarget>=100&&n.jsxs("span",{children:[n.jsx("span",{className:"font-semibold",children:"Lumpsum Target:"})," ",K(de.lumpsumTarget)]}),n.jsxs("span",{children:[n.jsx("span",{className:"font-semibold",children:"Rebalance Threshold:"})," ",(de.rebalanceThreshold*100).toFixed(0),"%"]})]}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[n.jsx(cl,{label:"Invested",value:K(R.invested)}),n.jsx(cl,{label:"Current Value",value:K(R.current),bold:!0}),n.jsx(cl,{label:"Unrealized P&L",value:`${R.unrealizedPL>=0?"+":""}${K(R.unrealizedPL)}`,sub:`${R.unrealizedPLPct>=0?"+":""}${R.unrealizedPLPct.toFixed(1)}%`,positive:R.unrealizedPL>=0}),n.jsx(cl,{label:"Realized P&L",value:`${R.realizedPL>=0?"+":""}${K(R.realizedPL)}`,sub:`${R.realizedPLPct>=0?"+":""}${R.realizedPLPct.toFixed(1)}%`,positive:R.realizedPL>=0}),n.jsx(cl,{label:"Total P&L",value:`${R.totalPL>=0?"+":""}${K(R.totalPL)}`,sub:`${R.totalPLPct>=0?"+":""}${R.totalPLPct.toFixed(1)}%`,positive:R.totalPL>=0,bold:!0}),n.jsx(cl,{label:"Monthly SIP",value:K(R.monthlySIP),sub:`${R.funds} funds`})]}),n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[n.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5",children:[n.jsxs("button",{onClick:()=>U("holdings"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${P==="holdings"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[n.jsx(gy,{size:12})," Holdings (",ce.length,")"]}),n.jsxs("button",{onClick:()=>U("transactions"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${P==="transactions"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[n.jsx(su,{size:12})," Transactions (",ve.length,")"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[g==="all"&&n.jsx("span",{className:"text-xs text-[var(--text-dim)] mr-1 hidden sm:inline",children:"Select a portfolio to take actions"}),n.jsxs("button",{onClick:()=>g!=="all"&&D({invest:g}),disabled:g==="all",className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${g==="all"?"bg-emerald-600/40 text-white/50 cursor-not-allowed":"text-white bg-emerald-600 hover:bg-emerald-500"}`,title:g==="all"?"Select a portfolio first":"",children:[n.jsx(_r,{size:14})," Invest"]}),n.jsxs("button",{onClick:()=>g!=="all"&&ce.length>0&&D({redeem:g}),disabled:g==="all"||ce.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${g==="all"||ce.length===0?"bg-rose-600/40 text-white/50 cursor-not-allowed":"text-white bg-rose-600 hover:bg-rose-500"}`,title:g==="all"?"Select a portfolio first":"",children:[n.jsx(py,{size:14})," Redeem"]}),n.jsxs("button",{onClick:()=>g!=="all"&&ce.length>0&&D({switchFunds:g}),disabled:g==="all"||ce.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${g==="all"||ce.length===0?"bg-amber-600/40 text-white/50 cursor-not-allowed":"text-white bg-amber-600 hover:bg-amber-500"}`,title:g==="all"?"Select a portfolio first":"",children:[n.jsx(B5,{size:14})," Switch"]})]})]}),P==="holdings"&&n.jsx(n.Fragment,{children:ce.length>0?n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[n.jsx("div",{className:"hidden lg:block overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[n.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Fund Name"}),n.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),n.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[n.jsx("div",{children:"NAV"}),n.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Avg"})]}),n.jsxs("th",{className:"text-center py-2 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[n.jsx("div",{children:"ATH"}),n.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Below Peak"})]}),n.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[n.jsx("div",{children:"Allocation %"}),n.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Target"})]}),n.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[n.jsx("div",{children:"Amount"}),n.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Invested"})]}),n.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[n.jsx("div",{children:"P&L"}),n.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"on Holdings"})]}),n.jsx("th",{className:"py-2 px-2 w-8"})]})}),n.jsx("tbody",{children:F.map(H=>{const he=Kb(H.belowATHPct),oe=g==="all"?O.find(xe=>xe.portfolioId===H.portfolioId):null,fe=H.units===0,Ae=O.find(xe=>xe.portfolioId===H.portfolioId),st=Ae?.currentValue||0,lt=L===H.holdingId,Pe=H.pl,Ge=Pe>=0,Nt=fe&&H.targetAllocationPct>0&&H.targetAllocationPct<100&&st>0?H.targetAllocationPct/(100-H.targetAllocationPct)*st:0,oa=fe&&H.targetAllocationPct>0&&Ae?.sipTarget>=100?H.targetAllocationPct/100*Ae.sipTarget:0,Ct=lt?(t||[]).filter(xe=>xe.portfolioId===H.portfolioId&&xe.fundCode===H.schemeCode).sort((xe,dt)=>new Date(dt.date)-new Date(xe.date)):[],Oe=W[H.holdingId]||5,gt=Ct.slice(0,Oe),Me=xe=>Math.floor((new Date-new Date(xe))/864e5);return n.jsxs(ne.Fragment,{children:[n.jsxs("tr",{onClick:()=>!fe&&se(H.holdingId),className:`border-b border-[var(--border-light)] last:border-0 transition-colors ${fe?"opacity-60":"cursor-pointer hover:bg-[var(--bg-hover)]"} ${lt?"bg-[var(--bg-hover)]":""}`,children:[n.jsx("td",{className:"py-2.5 px-3 max-w-[240px]",children:n.jsxs("div",{className:"flex items-center gap-1.5",children:[!fe&&n.jsx(Er,{size:12,className:`shrink-0 text-[var(--text-dim)] transition-transform ${lt?"rotate-180":""}`}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-xs text-[var(--text-primary)] leading-tight",children:[H.fundName,fe&&n.jsx("span",{className:"ml-1.5 text-xs font-semibold text-violet-400 bg-violet-500/15 px-1.5 py-0.5 rounded",children:"Planned"})]}),oe&&n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:Pi(oe.portfolioName)}),fe&&(Nt>0||oa>0)&&n.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[Nt>0&&n.jsxs("span",{className:"text-xs text-emerald-400 font-semibold",children:["Buy ",K(Nt)]}),oa>0&&n.jsxs("span",{className:"text-xs text-blue-400 font-semibold",children:["SIP ",K(oa),"/mo"]})]})]})]})}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:fe?"":H.units.toFixed(2)}),n.jsx("td",{className:"py-2.5 px-3 text-right",children:fe?n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):n.jsxs(n.Fragment,{children:[n.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:["",H.currentNav.toFixed(2)]}),n.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:["",H.avgNav.toFixed(2)]})]})}),n.jsx("td",{className:"py-2.5 px-2 text-center",children:fe?n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):H.athNav>0&&H.belowATHPct>0?n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-bold tabular-nums",style:he,children:["",H.belowATHPct.toFixed(1),"%"]}),n.jsxs("p",{className:"text-[11px] text-[var(--text-muted)] tabular-nums",children:["",H.athNav.toFixed(0)]})]}):H.athNav>0?n.jsx("span",{className:"text-[10px] text-emerald-400/70 font-semibold",children:"AT HIGH"}):n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),n.jsx("td",{className:"py-2.5 px-3 text-right",children:fe?n.jsxs("p",{className:"text-xs font-semibold text-violet-400 tabular-nums",children:[H.targetAllocationPct.toFixed(1),"%"]}):n.jsxs(n.Fragment,{children:[n.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:[H.currentAllocationPct.toFixed(1),"%"]}),n.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:[H.targetAllocationPct.toFixed(1),"%"]})]})}),n.jsx("td",{className:"py-2.5 px-3 text-right",children:fe?n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(H.currentValue)}),n.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:K(H.investment)})]})}),n.jsx("td",{className:"py-2.5 px-3 text-right",children:fe?n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):n.jsxs(n.Fragment,{children:[n.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Ge?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Ge?"+":"",K(Pe)]}),n.jsxs("p",{className:`text-xs font-bold tabular-nums ${Ge?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Ge?"+":"",H.plPct.toFixed(1),"%"]})]})}),n.jsx("td",{className:"py-2.5 px-2 text-center",children:!fe&&n.jsx("button",{onClick:xe=>{xe.stopPropagation(),D({invest:{portfolioId:H.portfolioId,fundCode:H.schemeCode,fundName:H.fundName}})},className:"p-1.5 rounded-md text-emerald-400/60 hover:text-emerald-400 hover:bg-emerald-500/10 transition-colors",title:"Invest in this fund",children:n.jsx(_r,{size:14})})})]}),lt&&!fe&&n.jsx("tr",{className:"border-b border-[var(--border-light)]",children:n.jsx("td",{colSpan:8,className:"p-0",children:n.jsxs("div",{className:"bg-[var(--bg-inset)] border-l-2 border-l-violet-500/40",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row",children:[n.jsx("div",{className:"lg:w-52 shrink-0 p-4 border-b lg:border-b-0 lg:border-r border-[var(--border-light)]",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider",children:"Units"}),n.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:H.units.toFixed(3)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider",children:"Avg NAV"}),n.jsxs("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:["",H.avgNav.toFixed(4)]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider",children:"Invested"}),n.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:K(H.investment)})]}),H.ongoingSIP>0&&n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider",children:"Monthly SIP"}),n.jsx("p",{className:"text-sm font-bold text-blue-400 tabular-nums",children:K(H.ongoingSIP)})]}),n.jsx("div",{className:"pt-2 border-t border-[var(--border-light)]",children:n.jsxs("button",{onClick:xe=>{xe.stopPropagation(),D({invest:{portfolioId:H.portfolioId,fundCode:H.schemeCode,fundName:H.fundName}})},className:"w-full flex items-center justify-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-emerald-400 bg-emerald-500/10 hover:bg-emerald-500/20 rounded-lg transition-colors",children:[n.jsx(_r,{size:12})," Invest"]})})]})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"px-4 py-2 border-b border-[var(--border-light)] flex items-center justify-between",children:n.jsxs("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:["Transactions (",Ct.length,")"]})}),Ct.length===0?n.jsx("p",{className:"px-4 py-6 text-xs text-[var(--text-dim)] text-center",children:"No transactions recorded"}):n.jsxs(n.Fragment,{children:[n.jsxs("table",{className:"w-full text-xs",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[n.jsx("th",{className:"text-left py-1.5 px-3 text-[10px] text-[var(--text-dim)] font-semibold uppercase",children:"Date"}),n.jsx("th",{className:"text-right py-1.5 px-3 text-[10px] text-[var(--text-dim)] font-semibold uppercase",children:"Days"}),n.jsx("th",{className:"text-right py-1.5 px-3 text-[10px] text-[var(--text-dim)] font-semibold uppercase",children:"Amount"}),n.jsx("th",{className:"text-right py-1.5 px-3 text-[10px] text-[var(--text-dim)] font-semibold uppercase",children:"NAV"}),n.jsx("th",{className:"text-right py-1.5 px-3 text-[10px] text-[var(--text-dim)] font-semibold uppercase",children:"Units"}),n.jsx("th",{className:"text-right py-1.5 px-3 text-[10px] text-[var(--text-dim)] font-semibold uppercase",children:"P&L"})]})}),n.jsx("tbody",{children:gt.map((xe,dt)=>{const Ft=Me(xe.date),mt=xe.type==="BUY"?(H.currentNav-xe.price)*xe.units:xe.gainLoss||0,kt=mt>=0,Qa=xe.type==="BUY";return n.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[n.jsxs("td",{className:"py-1.5 px-3 text-[var(--text-secondary)] whitespace-nowrap",children:[new Date(xe.date).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),n.jsx("span",{className:`ml-1.5 text-[10px] font-semibold px-1 py-0.5 rounded ${Qa?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:xe.transactionType||xe.type})]}),n.jsx("td",{className:"py-1.5 px-3 text-right text-[var(--text-dim)] tabular-nums",children:Ft}),n.jsx("td",{className:"py-1.5 px-3 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:K(xe.totalAmount)}),n.jsxs("td",{className:"py-1.5 px-3 text-right text-[var(--text-muted)] tabular-nums",children:["",Number(xe.price).toFixed(4)]}),n.jsx("td",{className:"py-1.5 px-3 text-right text-[var(--text-muted)] tabular-nums",children:Number(xe.units).toFixed(3)}),n.jsx("td",{className:"py-1.5 px-3 text-right tabular-nums",children:n.jsxs("span",{className:`font-semibold ${kt?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[kt?"+":"",K(mt)]})})]},xe.transactionId||`txn-${dt}`)})})]}),Ct.length>Oe&&n.jsx("div",{className:"px-4 py-2 text-center border-t border-[var(--border-light)]",children:n.jsxs("button",{onClick:xe=>{xe.stopPropagation(),q(H.holdingId)},className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:["Show More (",Ct.length-Oe," remaining)"]})})]})]})]}),n.jsx("div",{className:"flex justify-center py-1 border-t border-[var(--border-light)]",children:n.jsx("button",{onClick:()=>se(H.holdingId),className:"p-0.5 text-[var(--text-dim)] hover:text-[var(--text-muted)]",children:n.jsx(HS,{size:14})})})]})})})]},H.holdingId)})})]})}),n.jsx("div",{className:"lg:hidden divide-y divide-[var(--border-light)]",children:F.map(H=>{const he=Kb(H.belowATHPct),oe=g==="all"?O.find(xe=>xe.portfolioId===H.portfolioId):null,fe=H.units===0,Ae=O.find(xe=>xe.portfolioId===H.portfolioId),st=Ae?.currentValue||0,lt=L===H.holdingId,Pe=H.pl,Ge=Pe>=0,Nt=fe&&H.targetAllocationPct>0&&H.targetAllocationPct<100&&st>0?H.targetAllocationPct/(100-H.targetAllocationPct)*st:0,oa=fe&&H.targetAllocationPct>0&&Ae?.sipTarget>=100?H.targetAllocationPct/100*Ae.sipTarget:0,Ct=lt?(t||[]).filter(xe=>xe.portfolioId===H.portfolioId&&xe.fundCode===H.schemeCode).sort((xe,dt)=>new Date(dt.date)-new Date(xe.date)):[],Oe=W[H.holdingId]||5,gt=Ct.slice(0,Oe),Me=xe=>Math.floor((new Date-new Date(xe))/864e5);return n.jsxs("div",{className:fe?"opacity-60":"",children:[n.jsxs("div",{onClick:()=>!fe&&se(H.holdingId),className:`px-4 py-3 ${fe?"":"cursor-pointer"} ${lt?"bg-[var(--bg-hover)]":""}`,children:[n.jsxs("div",{className:"flex items-start justify-between mb-1.5",children:[n.jsxs("div",{className:"flex-1 mr-3",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[!fe&&n.jsx(Er,{size:12,className:`shrink-0 text-[var(--text-dim)] transition-transform ${lt?"rotate-180":""}`}),n.jsxs("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:[H.fundName,fe&&n.jsx("span",{className:"ml-1.5 text-xs font-semibold text-violet-400 bg-violet-500/15 px-1.5 py-0.5 rounded",children:"Planned"})]})]}),oe&&n.jsx("p",{className:"text-xs text-[var(--text-dim)] ml-5",children:Pi(oe.portfolioName)}),fe&&(Nt>0||oa>0)&&n.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[Nt>0&&n.jsxs("span",{className:"text-xs text-emerald-400 font-semibold",children:["Buy ",K(Nt)]}),oa>0&&n.jsxs("span",{className:"text-xs text-blue-400 font-semibold",children:["SIP ",K(oa),"/mo"]})]})]}),fe?n.jsxs("p",{className:"text-xs font-semibold text-violet-400 tabular-nums shrink-0",children:["Target: ",H.targetAllocationPct.toFixed(1),"%"]}):n.jsxs("div",{className:"text-right shrink-0",children:[n.jsxs("p",{className:`text-xs font-bold tabular-nums ${Ge?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Ge?"+":"",K(Pe)]}),n.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Ge?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Ge?"+":"",H.plPct.toFixed(1),"%"]})]})]}),fe?null:n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between text-xs text-[var(--text-dim)]",children:[n.jsxs("div",{children:[n.jsxs("span",{children:[H.units.toFixed(2)," units"]}),n.jsx("span",{className:"mx-1",children:""}),n.jsxs("span",{children:["NAV ",H.currentNav.toFixed(2)," / ",H.avgNav.toFixed(2)]})]}),n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(H.currentValue)})]}),n.jsxs("div",{className:"flex items-center justify-between mt-1",children:[n.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)] flex-wrap",children:[n.jsxs("span",{children:["Alloc: ",H.currentAllocationPct.toFixed(1),"% / ",H.targetAllocationPct.toFixed(1),"%"]}),H.athNav>0&&H.belowATHPct>0?n.jsxs("span",{className:"font-bold tabular-nums",style:he,children:["ATH ",H.belowATHPct.toFixed(1),"%"]}):H.athNav>0?n.jsx("span",{className:"text-emerald-400/70 font-semibold text-[10px]",children:"AT HIGH"}):null]}),n.jsx("button",{onClick:xe=>{xe.stopPropagation(),D({invest:{portfolioId:H.portfolioId,fundCode:H.schemeCode,fundName:H.fundName}})},className:"shrink-0 text-[10px] font-semibold text-emerald-400 hover:text-emerald-300 px-2 py-0.5 rounded bg-emerald-500/10",children:"Invest"})]})]})]}),lt&&!fe&&n.jsxs("div",{className:"bg-[var(--bg-inset)] border-l-2 border-l-violet-500/40 px-4 pb-3",children:[n.jsx("div",{className:"flex items-center justify-between py-2",children:n.jsxs("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:["Transactions (",Ct.length,")"]})}),Ct.length===0?n.jsx("p",{className:"py-4 text-xs text-[var(--text-dim)] text-center",children:"No transactions recorded"}):n.jsxs("div",{className:"space-y-2",children:[gt.map((xe,dt)=>{const Ft=Me(xe.date),mt=xe.type==="BUY"?(H.currentNav-xe.price)*xe.units:xe.gainLoss||0,kt=mt>=0,Qa=xe.type==="BUY";return n.jsxs("div",{className:"flex items-center justify-between text-xs bg-[var(--bg-card)] rounded-lg px-3 py-2",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("span",{className:"text-[var(--text-secondary)]",children:new Date(xe.date).toLocaleDateString("en-IN",{day:"2-digit",month:"short"})}),n.jsx("span",{className:`text-[10px] font-semibold px-1 py-0.5 rounded ${Qa?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:xe.transactionType||xe.type}),n.jsxs("span",{className:"text-[var(--text-dim)]",children:[Ft,"d"]})]}),n.jsxs("p",{className:"text-[var(--text-dim)] mt-0.5",children:[Number(xe.units).toFixed(3)," units @ ",Number(xe.price).toFixed(2)]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"font-semibold text-[var(--text-primary)] tabular-nums",children:K(xe.totalAmount)}),n.jsxs("p",{className:`font-semibold tabular-nums ${kt?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[kt?"+":"",K(mt)]})]})]},xe.transactionId||`txn-${dt}`)}),Ct.length>Oe&&n.jsxs("button",{onClick:()=>q(H.holdingId),className:"w-full py-1.5 text-xs font-semibold text-violet-400 hover:text-violet-300 text-center",children:["Show More (",Ct.length-Oe," remaining)"]})]})]})]},H.holdingId)})})]}):n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[n.jsx(pl,{size:28,className:"text-[var(--text-dim)]"}),n.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No holdings",de?" in this portfolio":""]}),n.jsx("button",{onClick:()=>D({invest:g!=="all"?g:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Add your first fund"})]})}),P==="transactions"&&n.jsx(n.Fragment,{children:ve.length>0?n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[n.jsx("div",{className:"hidden sm:block overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[n.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Fund"}),n.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),n.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"NAV"}),n.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),n.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Gain/Loss"})]})}),n.jsx("tbody",{children:ve.map((H,he)=>{const oe=H.type==="BUY",fe=!oe&&H.gainLoss!=null&&H.gainLoss!==0,Ae=fe&&H.gainLoss>=0,st=g==="all"?O.find(Pe=>Pe.portfolioId===H.portfolioId):null,lt={INITIAL:{bg:"bg-purple-500/15",text:"text-purple-400"},SIP:{bg:"bg-blue-500/15",text:"text-blue-400"},LUMPSUM:{bg:"bg-emerald-500/15",text:"text-emerald-400"},WITHDRAWAL:{bg:"bg-rose-500/15",text:"text-[var(--accent-rose)]"},SWITCH:{bg:"bg-amber-500/15",text:"text-amber-400"}}[H.transactionType]||{bg:"bg-gray-500/15",text:"text-[var(--text-muted)]"};return n.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:H.date}),n.jsx("td",{className:"py-2.5 px-3",children:n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${oe?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:H.type}),n.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${lt.bg} ${lt.text}`,children:H.transactionType})]})}),n.jsxs("td",{className:"py-2.5 px-3",children:[n.jsx("p",{className:"text-xs text-[var(--text-primary)] truncate max-w-[200px]",children:H.fundName}),st&&n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:Pi(st.portfolioName)})]}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:H.units.toFixed(2)}),n.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:["",H.price.toFixed(2)]}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(H.totalAmount)}),n.jsx("td",{className:"py-2.5 px-3 text-right",children:fe?n.jsxs("span",{className:`text-xs font-semibold tabular-nums ${Ae?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Ae?"+":"",K(H.gainLoss)]}):n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})]},H.transactionId||`txn-${he}`)})})]})}),n.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:ve.map((H,he)=>{const oe=H.type==="BUY",fe=!oe&&H.gainLoss!=null&&H.gainLoss!==0,Ae=fe&&H.gainLoss>=0;return n.jsxs("div",{className:"px-4 py-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${oe?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:H.type}),n.jsx("span",{className:"text-xs font-semibold text-[var(--text-dim)]",children:H.transactionType})]}),n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:H.date})]}),n.jsx("p",{className:"text-xs text-[var(--text-primary)] truncate mb-1",children:H.fundName}),n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[n.jsxs("p",{className:"text-[var(--text-dim)]",children:[H.units.toFixed(2)," units @ ",H.price.toFixed(2)]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(H.totalAmount)}),fe&&n.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Ae?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["G/L: ",Ae?"+":"",K(H.gainLoss)]})]})]}),H.notes&&n.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:H.notes})]},H.transactionId||`txn-m-${he}`)})})]}):n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[n.jsx(su,{size:28,className:"text-[var(--text-dim)]"}),n.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions yet"}),n.jsx("button",{onClick:()=>D({invest:g!=="all"?g:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Make your first investment"})]})})]}),n.jsx(It,{open:N==="addPortfolio"||!!N?.editPortfolio,onClose:()=>D(null),title:N?.editPortfolio?"Edit Portfolio":"New MF Portfolio",children:n.jsx(X3,{initial:N?.editPortfolio||void 0,onSave:je,onDelete:N?.editPortfolio?ge:void 0,onCancel:()=>D(null)})}),n.jsx(It,{open:!!N?.invest,onClose:()=>D(null),title:"Invest in Mutual Fund",wide:!0,children:n.jsx(FA,{portfolioId:typeof N?.invest=="object"?N.invest.portfolioId:typeof N?.invest=="string"?N.invest:void 0,fundCode:typeof N?.invest=="object"?N.invest.fundCode:void 0,fundName:typeof N?.invest=="object"?N.invest.fundName:void 0,onSave:Qe,onCancel:()=>D(null)},N?.invest?.fundCode||N?.invest?.portfolioId||N?.invest)}),n.jsx(It,{open:!!N?.redeem,onClose:()=>D(null),title:"Redeem Mutual Fund",wide:!0,children:n.jsx(BA,{portfolioId:typeof N?.redeem=="string"?N.redeem:void 0,onSave:Ze,onCancel:()=>D(null)})}),n.jsx(It,{open:!!N?.switchFunds,onClose:()=>D(null),title:"Switch Funds",wide:!0,children:n.jsx(HA,{portfolioId:typeof N?.switchFunds=="string"?N.switchFunds:void 0,onSave:Yt,onCancel:()=>D(null)})}),n.jsx(It,{open:!!N?.allocations,onClose:()=>D(null),title:"Manage Portfolio Allocation",wide:!0,children:N?.allocations&&n.jsx(YA,{portfolioId:N.allocations,onSave:Xt,onCancel:()=>D(null)})}),n.jsx(It,{open:N==="rebalance",onClose:()=>D(null),title:"Rebalance Portfolios",wide:!0,children:N==="rebalance"&&n.jsx(h1,{})}),n.jsx(It,{open:N==="buyOpp",onClose:()=>D(null),title:"Buy Opportunities",wide:!0,children:N==="buyOpp"&&n.jsx(My,{})})]})}function cl({label:s,value:l,sub:r,positive:t,bold:o}){return n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),n.jsx("p",{className:`text-sm tabular-nums ${o?"font-bold":"font-semibold"} ${t===void 0?"text-[var(--text-primary)]":t?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:l}),r&&n.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${t?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}function qA({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o,activeInvestmentAccounts:u}=Ye(),d=!!s,[m,x]=S.useState({portfolioName:s?.portfolioName||"",ownerId:s?.ownerId||"",investmentAccountId:s?.investmentAccountId||""}),[p,v]=S.useState({}),[b,j]=S.useState(!1);function w(g,_){x(P=>({...P,[g]:_})),v(P=>({...P,[g]:void 0}))}function M(g){x(_=>({..._,ownerId:g,investmentAccountId:""})),v(_=>({..._,ownerId:void 0}))}const C=S.useMemo(()=>m.ownerId?u.filter(g=>g.memberId===m.ownerId&&(g.accountType==="Demat + Trading"||g.accountType==="Trading")).map(g=>({value:g.accountId,label:`${g.accountName} - ${g.platformBroker}`})):[],[u,m.ownerId]);function y(){const g={};return m.portfolioName.trim()||(g.portfolioName="Required"),m.ownerId||(g.ownerId="Required"),m.investmentAccountId||(g.investmentAccountId="Required"),v(g),Object.keys(g).length===0}async function N(){if(y()){j(!0);try{await l(m)}finally{j(!1)}}}const D=o.map(g=>({value:g.memberId,label:`${g.memberName} (${g.relationship})`}));return n.jsxs("div",{className:"space-y-4",children:[n.jsx(ee,{label:"Portfolio Name",required:!0,error:p.portfolioName,children:n.jsx(pe,{value:m.portfolioName,onChange:g=>w("portfolioName",g),placeholder:"e.g., Long-Term Growth"})}),n.jsx(ee,{label:"Owner",required:!0,error:p.ownerId,children:n.jsx(_e,{value:m.ownerId,onChange:M,options:D,placeholder:"Select family member..."})}),n.jsx(ee,{label:"Investment Account",required:!0,error:p.investmentAccountId,children:n.jsx(_e,{value:m.investmentAccountId,onChange:g=>w("investmentAccountId",g),options:C,placeholder:m.ownerId?C.length?"Select demat account...":"No demat accounts for this member":"Select owner first..."})}),n.jsxs("div",{className:"flex items-center justify-between",children:[d&&r?n.jsx(Dn,{onClick:r}):n.jsx("div",{}),n.jsx(aa,{onCancel:t,onSubmit:N,submitLabel:d?"Update":"Create Portfolio",loading:b})]})]})}function $A({portfolioId:s,onSave:l,onCancel:r}){const{stockPortfolios:t}=Ye(),{selectedMember:o}=Qt(),u=S.useMemo(()=>{const D=t.filter(g=>g.status==="Active");return o==="all"?D:D.filter(g=>g.ownerId===o)},[t,o]),[d,m]=S.useState({portfolioId:s||"",symbol:"",companyName:"",exchange:"NSE",date:new Date().toISOString().split("T")[0],quantity:"",pricePerShare:"",brokerage:"0",notes:""}),[x,p]=S.useState({}),[v,b]=S.useState(!1);function j(D,g){m(_=>({..._,[D]:g})),p(_=>({..._,[D]:void 0}))}const w=S.useMemo(()=>{const D=Number(d.quantity)||0,g=Number(d.pricePerShare)||0;return D*g},[d.quantity,d.pricePerShare]),M=S.useMemo(()=>w+(Number(d.brokerage)||0),[w,d.brokerage]);function C(){const D={};return d.portfolioId||(D.portfolioId="Required"),d.symbol.trim()||(D.symbol="Required"),d.companyName.trim()||(D.companyName="Required"),d.date||(D.date="Required"),(!d.quantity||Number(d.quantity)<=0)&&(D.quantity="Must be > 0"),(!d.pricePerShare||Number(d.pricePerShare)<=0)&&(D.pricePerShare="Must be > 0"),p(D),Object.keys(D).length===0}async function y(){if(C()){b(!0);try{await l(d)}finally{b(!1)}}}const N=u.map(D=>({value:D.portfolioId,label:`${D.portfolioName} (${D.ownerName})`}));return n.jsxs("div",{className:"space-y-4",children:[n.jsx(ee,{label:"Portfolio",required:!0,error:x.portfolioId,children:n.jsx(_e,{value:d.portfolioId,onChange:D=>j("portfolioId",D),options:N,placeholder:"Select portfolio..."})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Stock Symbol",required:!0,error:x.symbol,children:n.jsx(pe,{value:d.symbol,onChange:D=>j("symbol",D.toUpperCase()),placeholder:"e.g., RELIANCE"})}),n.jsx(ee,{label:"Company Name",required:!0,error:x.companyName,children:n.jsx(pe,{value:d.companyName,onChange:D=>j("companyName",D),placeholder:"e.g., Reliance Industries Ltd"})})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:n.jsx(ee,{label:"Purchase Date",required:!0,error:x.date,children:n.jsx(pe,{type:"date",value:d.date,onChange:D=>j("date",D)})})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Quantity (Shares)",required:!0,error:x.quantity,children:n.jsx(pe,{type:"number",value:d.quantity,onChange:D=>j("quantity",D),placeholder:"e.g., 100"})}),n.jsx(ee,{label:"Price per Share ()",required:!0,error:x.pricePerShare,children:n.jsx(pe,{type:"number",value:d.pricePerShare,onChange:D=>j("pricePerShare",D),placeholder:"e.g., 2500"})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Brokerage ()",children:n.jsx(pe,{type:"number",value:d.brokerage,onChange:D=>j("brokerage",D),placeholder:"0"})}),n.jsx("div",{className:"flex flex-col justify-end",children:n.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),n.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:K(w)}),Number(d.brokerage)>0&&n.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:["Net: ",K(M)]})]})})]}),n.jsx(ee,{label:"Notes",children:n.jsx(pe,{value:d.notes,onChange:D=>j("notes",D),placeholder:"Optional notes..."})}),n.jsx(aa,{onCancel:r,onSubmit:y,submitLabel:"Buy Stock",loading:v})]})}function VA({portfolioId:s,onSave:l,onCancel:r}){const{stockPortfolios:t,stockHoldings:o}=Ye(),{selectedMember:u}=Qt(),d=S.useMemo(()=>{const L=t.filter(B=>B.status==="Active");return u==="all"?L:L.filter(B=>B.ownerId===u)},[t,u]),[m,x]=S.useState({portfolioId:s||"",symbol:"",companyName:"",date:new Date().toISOString().split("T")[0],quantity:"",pricePerShare:"",brokerage:"0",notes:""}),[p,v]=S.useState({}),[b,j]=S.useState(!1);function w(L,B){x(W=>({...W,[L]:B})),v(W=>({...W,[L]:void 0}))}const M=S.useMemo(()=>m.portfolioId?o.filter(L=>L.portfolioId===m.portfolioId&&L.quantity>0):[],[o,m.portfolioId]),C=M.find(L=>L.symbol===m.symbol),y=C?.quantity||0,N=S.useMemo(()=>{const L=Number(m.quantity)||0,B=Number(m.pricePerShare)||0;return L*B},[m.quantity,m.pricePerShare]),D=S.useMemo(()=>N-(Number(m.brokerage)||0),[N,m.brokerage]);function g(L){const B=M.find(W=>W.symbol===L);x(W=>({...W,symbol:L,companyName:B?.companyName||""})),v(W=>({...W,symbol:void 0}))}function _(L){x(B=>({...B,portfolioId:L,symbol:"",companyName:"",quantity:""})),v(B=>({...B,portfolioId:void 0}))}function P(){const L={};return m.portfolioId||(L.portfolioId="Required"),m.symbol||(L.symbol="Required"),m.date||(L.date="Required"),(!m.quantity||Number(m.quantity)<=0)&&(L.quantity="Must be > 0"),Number(m.quantity)>y&&(L.quantity=`Max ${y} shares`),(!m.pricePerShare||Number(m.pricePerShare)<=0)&&(L.pricePerShare="Must be > 0"),v(L),Object.keys(L).length===0}async function U(){if(P()){j(!0);try{await l(m)}finally{j(!1)}}}const G=d.map(L=>({value:L.portfolioId,label:`${L.portfolioName} (${L.ownerName})`})),E=M.map(L=>({value:L.symbol,label:`${L.symbol}  ${L.quantity} shares`}));return n.jsxs("div",{className:"space-y-4",children:[n.jsx(ee,{label:"Portfolio",required:!0,error:p.portfolioId,children:n.jsx(_e,{value:m.portfolioId,onChange:_,options:G,placeholder:"Select portfolio..."})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Stock to Sell",required:!0,error:p.symbol,children:n.jsx(_e,{value:m.symbol,onChange:g,options:E,placeholder:m.portfolioId?M.length?"Select stock...":"No holdings in this portfolio":"Select portfolio first..."})}),C&&n.jsx("div",{className:"flex flex-col justify-end",children:n.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:C.companyName}),n.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",n.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:y})," shares @ ",K(C.avgBuyPrice)," avg"]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Sale Date",required:!0,error:p.date,children:n.jsx(pe,{type:"date",value:m.date,onChange:L=>w("date",L)})}),n.jsx(ee,{label:"Quantity to Sell",required:!0,error:p.quantity,children:n.jsx(pe,{type:"number",value:m.quantity,onChange:L=>w("quantity",L),placeholder:y?`Max: ${y}`:""})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Sale Price per Share ()",required:!0,error:p.pricePerShare,children:n.jsx(pe,{type:"number",value:m.pricePerShare,onChange:L=>w("pricePerShare",L),placeholder:"e.g., 2750"})}),n.jsx(ee,{label:"Brokerage ()",children:n.jsx(pe,{type:"number",value:m.brokerage,onChange:L=>w("brokerage",L),placeholder:"0"})})]}),N>0&&n.jsx("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Net Sale Amount"}),n.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:K(D)})]}),C&&n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. P&L"}),(()=>{const L=Number(m.quantity)*C.avgBuyPrice,B=D-L,W=B>=0;return n.jsxs("p",{className:`text-sm font-bold tabular-nums ${W?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[W?"+":"",K(B)]})})()]})]})}),n.jsx(ee,{label:"Notes",children:n.jsx(pe,{value:m.notes,onChange:L=>w("notes",L),placeholder:"Optional notes..."})}),n.jsx(aa,{onCancel:r,onSubmit:U,submitLabel:"Sell Stock",loading:b})]})}function GA(){const{selectedMember:s}=Qt(),{stockPortfolios:l,stockHoldings:r,stockTransactions:t,activeInvestmentAccounts:o,addStockPortfolio:u,updateStockPortfolio:d,deleteStockPortfolio:m,buyStock:x,sellStock:p}=Ye(),{showToast:v,showBlockUI:b,hideBlockUI:j}=Sn(),{mv:w}=Cn(),[M,C]=S.useState(null),[y,N]=S.useState("all"),[D,g]=S.useState("holdings"),[_,P]=S.useState(!1),U=S.useMemo(()=>{if(!l)return[];const O=l.filter(R=>R.status!=="Inactive");return s==="all"?O:O.filter(R=>R.ownerId===s)},[l,s]),G=S.useMemo(()=>r?U.map(O=>{const R=r.filter(ge=>ge.portfolioId===O.portfolioId),ce=(t||[]).filter(ge=>ge.portfolioId===O.portfolioId),ve=R.reduce((ge,Qe)=>ge+Qe.totalInvestment,0),F=R.reduce((ge,Qe)=>ge+Qe.currentValue,0),ae=F-ve,ue=ce.filter(ge=>ge.type==="SELL"&&ge.realizedPL!=null).reduce((ge,Qe)=>ge+Qe.realizedPL,0),de=ae+ue,ke=ve>0?de/ve*100:0,je=o.find(ge=>ge.accountId===O.investmentAccountId);return{...O,holdings:R,txns:ce,invested:ve,current:F,unrealizedPL:ae,realizedPL:ue,totalPL:de,totalPLPct:ke,stockCount:R.length,platform:je?.platformBroker||O.investmentAccountName||"",clientId:je?.accountClientId||""}}):[],[U,r,t,o]),E=S.useMemo(()=>{const O=y==="all"?G:G.filter(je=>je.portfolioId===y),R=O.reduce((je,ge)=>je+ge.invested,0),ce=O.reduce((je,ge)=>je+ge.current,0),ve=O.reduce((je,ge)=>je+ge.unrealizedPL,0),F=O.reduce((je,ge)=>je+ge.realizedPL,0),ae=ve+F,ue=R>0?ae/R*100:0,de=R>0?ve/R*100:0,ke=O.reduce((je,ge)=>je+ge.stockCount,0);return{invested:R,current:ce,unrealizedPL:ve,unrealizedPLPct:de,realizedPL:F,totalPL:ae,totalPLPct:ue,stocks:ke}},[G,y]),L=S.useMemo(()=>r?y==="all"?r.filter(O=>U.some(R=>R.portfolioId===O.portfolioId)):r.filter(O=>O.portfolioId===y):[],[r,U,y]),B=S.useMemo(()=>t?(y==="all"?t.filter(R=>U.some(ce=>ce.portfolioId===R.portfolioId)):t.filter(R=>R.portfolioId===y)).sort((R,ce)=>new Date(ce.date)-new Date(R.date)):[],[t,U,y]);if(l===null||r===null)return n.jsx(nr,{title:"Loading stocks",cards:5});const W=G.find(O=>O.portfolioId===y),A=y==="all"?`All Portfolios (${U.length})`:`${W?.portfolioName}  ${W?.ownerName}`;async function se(O){b("Saving...");try{M?.editPortfolio?await d(M.editPortfolio.portfolioId,O):await u(O),v(M?.editPortfolio?"Portfolio updated":"Portfolio created"),C(null)}catch(R){v(R.message||"Failed to save portfolio","error")}finally{j()}}async function q(){if(M?.editPortfolio&&confirm("Deactivate this portfolio?")){b("Deactivating...");try{await m(M.editPortfolio.portfolioId),v("Portfolio deactivated"),N("all"),C(null)}catch(O){v(O.message||"Failed to deactivate portfolio","error")}finally{j()}}}async function J(O){b("Recording purchase...");try{await x(O),v("Stock purchase recorded"),C(null)}catch(R){v(R.message||"Failed to record purchase","error")}finally{j()}}async function z(O){b("Recording sale...");try{await p(O),v("Stock sale recorded"),C(null)}catch(R){v(R.message||"Failed to record sale","error")}finally{j()}}return n.jsxs("div",{className:"space-y-4",children:[U.length===0?n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[n.jsx(Hi,{size:32,className:"text-[var(--text-dim)]"}),n.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No stock portfolios yet"}),n.jsx("button",{onClick:()=>C("addPortfolio"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first portfolio"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>P(!_),className:"flex items-center gap-2 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm font-semibold text-[var(--text-primary)] hover:border-[var(--border-light)] transition-colors min-w-[220px]",children:[n.jsx(Hi,{size:14,className:"text-violet-400 shrink-0"}),n.jsx("span",{className:"truncate",children:A}),n.jsx(Er,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${_?"rotate-180":""}`})]}),_&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>P(!1)}),n.jsxs("div",{className:"absolute left-0 top-full mt-1 z-40 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl min-w-[280px] py-1 overflow-hidden",children:[n.jsxs("button",{onClick:()=>{N("all"),P(!1),g("holdings")},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${y==="all"?"bg-[var(--sidebar-active-bg)] text-[var(--text-primary)] font-semibold":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:["All Portfolios (",U.length,")"]}),n.jsx("div",{className:"border-t border-[var(--border-light)]"}),G.map(O=>{const R=O.totalPL>=0;return n.jsx("button",{onClick:()=>{N(O.portfolioId),P(!1),g("holdings")},className:`w-full text-left px-4 py-2.5 transition-colors ${y===O.portfolioId?"bg-[var(--sidebar-active-bg)]":"hover:bg-[var(--bg-hover)]"}`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${y===O.portfolioId?"font-semibold text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:O.portfolioName}),n.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[O.ownerName,"  ",O.platform]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(O.current)}),n.jsxs("p",{className:`text-xs font-semibold tabular-nums ${R?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[R?"+":"",O.totalPLPct.toFixed(1),"%"]})]})]})},O.portfolioId)})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[W&&n.jsxs("button",{onClick:()=>C({editPortfolio:W}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[n.jsx(wn,{size:12})," Edit"]}),n.jsxs("button",{onClick:()=>C("addPortfolio"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[n.jsx(ja,{size:14})," New Portfolio"]})]})]}),W&&n.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-dim)] px-1",children:[n.jsxs("span",{children:[n.jsx("span",{className:"font-semibold",children:"Platform:"})," ",W.platform]}),n.jsxs("span",{children:[n.jsx("span",{className:"font-semibold",children:"Client ID:"})," ",w(W.clientId,"clientId")]}),n.jsxs("span",{children:[n.jsx("span",{className:"font-semibold",children:"Stocks:"})," ",W.stockCount]})]}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[n.jsx(zi,{label:"Invested",value:K(E.invested)}),n.jsx(zi,{label:"Current Value",value:K(E.current),bold:!0}),n.jsx(zi,{label:"Unrealized P&L",value:`${E.unrealizedPL>=0?"+":""}${K(E.unrealizedPL)}`,sub:`${E.unrealizedPLPct>=0?"+":""}${E.unrealizedPLPct.toFixed(1)}%`,positive:E.unrealizedPL>=0}),n.jsx(zi,{label:"Realized P&L",value:`${E.realizedPL>=0?"+":""}${K(E.realizedPL)}`,positive:E.realizedPL>=0}),n.jsx(zi,{label:"Total P&L",value:`${E.totalPL>=0?"+":""}${K(E.totalPL)}`,sub:`${E.totalPLPct>=0?"+":""}${E.totalPLPct.toFixed(1)}%`,positive:E.totalPL>=0,bold:!0})]}),n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[n.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5",children:[n.jsxs("button",{onClick:()=>g("holdings"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${D==="holdings"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[n.jsx(gy,{size:12})," Holdings (",L.length,")"]}),n.jsxs("button",{onClick:()=>g("transactions"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${D==="transactions"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[n.jsx(su,{size:12})," Transactions (",B.length,")"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:()=>y!=="all"&&C({buy:y}),disabled:y==="all",className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${y==="all"?"bg-emerald-600/40 text-white/50 cursor-not-allowed":"text-white bg-emerald-600 hover:bg-emerald-500"}`,title:y==="all"?"Select a portfolio first":"",children:[n.jsx(_r,{size:14})," Buy"]}),n.jsxs("button",{onClick:()=>y!=="all"&&L.length>0&&C({sell:y}),disabled:y==="all"||L.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${y==="all"||L.length===0?"bg-rose-600/40 text-white/50 cursor-not-allowed":"text-white bg-rose-600 hover:bg-rose-500"}`,title:y==="all"?"Select a portfolio first":"",children:[n.jsx(Su,{size:14})," Sell"]})]})]}),D==="holdings"&&n.jsx(n.Fragment,{children:L.length>0?n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[n.jsx("div",{className:"hidden sm:block overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[n.jsx("th",{className:"text-left py-2 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Stock"}),n.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Qty"}),n.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Avg Price"}),n.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current Price"}),n.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Invested"}),n.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current Value"}),n.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"}),n.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Returns"})]})}),n.jsxs("tbody",{children:[L.map(O=>{const R=O.unrealizedPL>=0,ce=y==="all"?G.find(ve=>ve.portfolioId===O.portfolioId):null;return n.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[n.jsxs("td",{className:"py-2.5 px-4",children:[n.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:O.companyName}),n.jsxs("p",{className:"text-xs font-mono text-[var(--text-dim)]",children:[O.symbol,ce&&n.jsxs("span",{className:"ml-1.5 text-[var(--text-dim)] font-sans",children:[" ",ce.portfolioName]})]})]}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:O.quantity}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:K(O.avgBuyPrice)}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(O.currentPrice)}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:K(O.totalInvestment)}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(O.currentValue)}),n.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-semibold tabular-nums ${R?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[R?"+":"",K(O.unrealizedPL)]}),n.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-bold tabular-nums ${R?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[R?"+":"",O.unrealizedPLPct.toFixed(1),"%"]})]},O.holdingId)}),n.jsxs("tr",{className:"bg-[var(--bg-inset)] border-t-2 border-[var(--border-light)]",children:[n.jsxs("td",{className:"py-2.5 px-4 text-xs font-semibold text-[var(--text-muted)]",children:["Total (",L.length," stocks)"]}),n.jsx("td",{colSpan:3,className:"py-2.5 px-3"}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(E.invested)}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(E.current)}),n.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-semibold tabular-nums ${E.unrealizedPL>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[E.unrealizedPL>=0?"+":"",K(E.unrealizedPL)]}),n.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-bold tabular-nums ${E.unrealizedPL>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[E.unrealizedPLPct>=0?"+":"",E.unrealizedPLPct.toFixed(1),"%"]})]})]})]})}),n.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:L.map(O=>{const R=O.unrealizedPL>=0,ce=y==="all"?G.find(ve=>ve.portfolioId===O.portfolioId):null;return n.jsxs("div",{className:"px-4 py-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:O.companyName}),n.jsxs("p",{className:"text-xs font-mono text-[var(--text-dim)]",children:[O.symbol,ce&&n.jsxs("span",{className:"ml-1 font-sans",children:[" ",ce.portfolioName]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:`text-xs font-bold tabular-nums ${R?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[R?"+":"",O.unrealizedPLPct.toFixed(1),"%"]}),n.jsxs("p",{className:`text-xs font-semibold tabular-nums ${R?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[R?"+":"",K(O.unrealizedPL)]})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[n.jsxs("div",{className:"text-[var(--text-dim)]",children:[n.jsxs("span",{children:[O.quantity," shares"]}),n.jsx("span",{className:"mx-1",children:""}),n.jsxs("span",{children:["Avg ",K(O.avgBuyPrice)]}),n.jsx("span",{className:"mx-1",children:""}),n.jsxs("span",{children:["CMP ",K(O.currentPrice)]})]}),n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(O.currentValue)})]})]},O.holdingId)})})]}):n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[n.jsx(Hi,{size:28,className:"text-[var(--text-dim)]"}),n.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No holdings",W?" in this portfolio":""]}),n.jsx("button",{onClick:()=>C({buy:y!=="all"?y:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Buy your first stock"})]})}),D==="transactions"&&n.jsx(n.Fragment,{children:B.length>0?n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[n.jsx("div",{className:"hidden sm:block overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[n.jsx("th",{className:"text-left py-2 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Stock"}),n.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Qty"}),n.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Price"}),n.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),n.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Brokerage"}),n.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Net"}),n.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Realized P&L"})]})}),n.jsx("tbody",{children:B.map(O=>{const R=O.type==="BUY",ce=!R&&O.realizedPL!=null,ve=ce&&O.realizedPL>=0,F=y==="all"?G.find(ae=>ae.portfolioId===O.portfolioId):null;return n.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[n.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-secondary)]",children:O.date}),n.jsx("td",{className:"py-2.5 px-3",children:n.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${R?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:O.type})}),n.jsxs("td",{className:"py-2.5 px-3",children:[n.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:O.symbol}),n.jsxs("p",{className:"text-xs text-[var(--text-dim)] truncate max-w-[140px]",children:[O.companyName,F&&n.jsxs("span",{children:["  ",F.portfolioName]})]})]}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:O.quantity}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:K(O.pricePerShare)}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:K(O.totalAmount)}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-dim)] tabular-nums",children:O.brokerage>0?K(O.brokerage):""}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(O.netAmount)}),n.jsx("td",{className:"py-2.5 px-3 text-right",children:ce?n.jsxs("span",{className:`text-xs font-semibold tabular-nums ${ve?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ve?"+":"",K(O.realizedPL)]}):n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})]},O.transactionId)})})]})}),n.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:B.map(O=>{const R=O.type==="BUY",ce=!R&&O.realizedPL!=null,ve=ce&&O.realizedPL>=0;return n.jsxs("div",{className:"px-4 py-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${R?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:O.type}),n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:O.symbol})]}),n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:O.date})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[O.quantity," shares @ ",K(O.pricePerShare)]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(O.netAmount)}),ce&&n.jsxs("p",{className:`text-xs font-semibold tabular-nums ${ve?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["P&L: ",ve?"+":"",K(O.realizedPL)]})]})]}),O.notes&&n.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:O.notes})]},O.transactionId)})})]}):n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[n.jsx(su,{size:28,className:"text-[var(--text-dim)]"}),n.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions yet"}),n.jsx("button",{onClick:()=>C({buy:y!=="all"?y:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Make your first purchase"})]})})]}),n.jsx(It,{open:M==="addPortfolio"||!!M?.editPortfolio,onClose:()=>C(null),title:M?.editPortfolio?"Edit Portfolio":"New Stock Portfolio",children:n.jsx(qA,{initial:M?.editPortfolio||void 0,onSave:se,onDelete:M?.editPortfolio?q:void 0,onCancel:()=>C(null)})}),n.jsx(It,{open:!!M?.buy,onClose:()=>C(null),title:"Buy Stock",wide:!0,children:n.jsx($A,{portfolioId:typeof M?.buy=="string"?M.buy:void 0,onSave:J,onCancel:()=>C(null)})}),n.jsx(It,{open:!!M?.sell,onClose:()=>C(null),title:"Sell Stock",wide:!0,children:n.jsx(VA,{portfolioId:typeof M?.sell=="string"?M.sell:void 0,onSave:z,onCancel:()=>C(null)})})]})}function zi({label:s,value:l,sub:r,positive:t,bold:o}){return n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),n.jsx("p",{className:`text-sm tabular-nums ${o?"font-bold":"font-semibold"} ${t===void 0?"text-[var(--text-primary)]":t?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:l}),r&&n.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${t?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}const QA=["Self","Spouse","Father","Mother","Son","Daughter","Brother","Sister","Other"].map(s=>({value:s,label:s})),Lc={pan:/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/,aadhar:/^\d{12}$/,email:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,mobile:/^\d{10}$/};function KA({initial:s,onSave:l,onDelete:r,onCancel:t}){const o=!!s,[u,d]=S.useState({memberName:s?.memberName||"",relationship:s?.relationship||"",pan:s?.pan||"",aadhar:s?.aadhar||"",email:s?.email||"",mobile:s?.mobile||"",includeInEmailReports:s?.includeInEmailReports??!0,status:s?.status||"Active"}),[m,x]=S.useState({}),[p,v]=S.useState(!1),[b,j]=S.useState(()=>{const g=s?.dynamicFields||{};return Object.entries(g).map(([_,P])=>({key:_,value:P}))});function w(g,_){d(P=>({...P,[g]:_})),x(P=>({...P,[g]:void 0}))}function M(){const g={};return u.memberName.trim()||(g.memberName="Required"),u.relationship||(g.relationship="Required"),Lc.pan.test(u.pan.toUpperCase())||(g.pan="Format: ABCDE1234F"),Lc.aadhar.test(u.aadhar)||(g.aadhar="12 digits required"),Lc.email.test(u.email)||(g.email="Invalid email"),Lc.mobile.test(u.mobile)||(g.mobile="10 digits required"),x(g),Object.keys(g).length===0}function C(){j(g=>[...g,{key:"",value:""}])}function y(g,_,P){j(U=>U.map((G,E)=>E===g?{...G,[_]:P}:G))}function N(g){j(_=>_.filter((P,U)=>U!==g))}async function D(){if(!M())return;const g={};b.forEach(({key:_,value:P})=>{const U=_.trim();U&&(g[U]=P)}),v(!0);try{await l({...u,pan:u.pan.toUpperCase(),dynamicFields:g})}finally{v(!1)}}return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Member Name",required:!0,error:m.memberName,children:n.jsx(pe,{value:u.memberName,onChange:g=>w("memberName",g),placeholder:"e.g., Jagadeesh"})}),n.jsx(ee,{label:"Relationship",required:!0,error:m.relationship,children:n.jsx(_e,{value:u.relationship,onChange:g=>w("relationship",g),options:QA,placeholder:"Select..."})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"PAN",required:!0,error:m.pan,children:n.jsx(pe,{sensitive:!0,value:u.pan,onChange:g=>w("pan",g.toUpperCase()),placeholder:"ABCDE1234F",maxLength:10})}),n.jsx(ee,{label:"Aadhar",required:!0,error:m.aadhar,children:n.jsx(pe,{sensitive:!0,value:u.aadhar,onChange:g=>w("aadhar",g.replace(/\D/g,"")),placeholder:"123456789012",maxLength:12})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Email",required:!0,error:m.email,children:n.jsx(pe,{sensitive:!0,type:"email",value:u.email,onChange:g=>w("email",g),placeholder:"email@example.com"})}),n.jsx(ee,{label:"Mobile",required:!0,error:m.mobile,children:n.jsx(pe,{sensitive:!0,value:u.mobile,onChange:g=>w("mobile",g.replace(/\D/g,"")),placeholder:"9876543210",maxLength:10})})]}),n.jsx(u3,{checked:u.includeInEmailReports,onChange:g=>w("includeInEmailReports",g),label:"Include in email reports"}),o&&n.jsx(ee,{label:"Status",children:n.jsx(_e,{value:u.status,onChange:g=>w("status",g),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)]",children:"Custom Fields"}),n.jsxs("button",{onClick:C,type:"button",className:"flex items-center gap-1 text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[n.jsx(ja,{size:12})," Add Field"]})]}),b.length===0&&n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"No custom fields. Add DOB, occupation, blood group, etc."}),n.jsx("div",{className:"space-y-2",children:b.map((g,_)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{value:g.key,onChange:P=>y(_,"key",P.target.value),placeholder:"Field name",className:"flex-1 px-2.5 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] transition-colors"}),n.jsx("input",{value:g.value,onChange:P=>y(_,"value",P.target.value),placeholder:"Value",className:"flex-1 px-2.5 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] transition-colors"}),n.jsx("button",{onClick:()=>N(_),type:"button",className:"p-1 text-[var(--text-dim)] hover:text-rose-400 transition-colors",children:n.jsx(ap,{size:13})})]},_))})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[o&&r?n.jsx(Dn,{onClick:r}):n.jsx("div",{}),n.jsx(aa,{onCancel:t,onSubmit:D,submitLabel:o?"Update":"Add Member",loading:p})]})]})}const Pc=["from-violet-500 to-indigo-500","from-rose-500 to-pink-500","from-blue-500 to-cyan-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],Xb={Self:"bg-violet-500/15 text-[var(--accent-violet)]",Spouse:"bg-rose-500/15 text-[var(--accent-rose)]",Father:"bg-blue-500/15 text-[var(--accent-blue)]",Mother:"bg-amber-500/15 text-[var(--accent-amber)]",Son:"bg-emerald-500/15 text-emerald-400",Daughter:"bg-emerald-500/15 text-emerald-400"};function XA(){const{members:s,addMember:l,updateMember:r,deleteMember:t}=Ye(),{showToast:o,showBlockUI:u,hideBlockUI:d}=Sn(),{mv:m}=Cn(),[x,p]=S.useState(null);if(s===null)return n.jsx(nr,{title:"Loading family",cards:3});const v=s.filter(w=>w.status!=="Inactive");async function b(w){u("Saving member...");try{x?.edit?await r(x.edit.memberId,w):await l(w),o(x?.edit?"Member updated":"Member added"),p(null)}catch(M){o(M.message||"Failed to save member","error")}finally{d()}}async function j(){if(x?.edit&&confirm("Deactivate this family member?")){u("Deactivating...");try{await t(x.edit.memberId),o("Member deactivated"),p(null)}catch(w){o(w.message||"Failed to deactivate member","error")}finally{d()}}}return[...new Set(v.flatMap(w=>Object.keys(w.dynamicFields||{})))],n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex items-center justify-end px-1",children:n.jsxs("button",{onClick:()=>p("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[n.jsx(ja,{size:14})," Add Member"]})}),v.length===0?n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[n.jsx(bl,{size:32,className:"text-[var(--text-dim)]"}),n.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No family members yet"}),n.jsx("button",{onClick:()=>p("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first member"})]}):n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[n.jsx("div",{className:"hidden sm:block overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm min-w-[640px]",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[n.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Relationship"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"PAN"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Aadhaar"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Email"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Mobile"}),n.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),n.jsx("tbody",{children:v.map((w,M)=>{const C=w.dynamicFields||{},y=Object.entries(C);return n.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[n.jsx("td",{className:"py-2.5 px-4",children:n.jsxs("div",{className:"flex items-center gap-2.5",children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white bg-gradient-to-br ${Pc[M%Pc.length]}`,children:w.memberName.charAt(0)}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:w.memberName}),y.length>0&&n.jsxs("div",{className:"flex flex-wrap gap-1 mt-0.5",children:[y.slice(0,3).map(([N,D])=>n.jsxs("span",{className:"text-[10px] text-[var(--text-dim)] bg-[var(--bg-inset)] px-1.5 py-0.5 rounded",children:[N,": ",D]},N)),y.length>3&&n.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["+",y.length-3," more"]})]})]})]})}),n.jsx("td",{className:"py-2.5 px-3",children:n.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Xb[w.relationship]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:w.relationship})}),n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] font-mono tabular-nums",children:m(w.pan,"pan")||""}),n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] font-mono tabular-nums",children:m(w.aadhar,"aadhaar")||""}),n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] truncate max-w-[180px]",children:m(w.email,"email")}),n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:m(w.mobile,"mobile")}),n.jsx("td",{className:"py-2.5 px-2",children:n.jsx("button",{onClick:()=>p({edit:w}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:n.jsx(wn,{size:12})})})]},w.memberId)})})]})}),n.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:v.map((w,M)=>{const C=w.dynamicFields||{},y=Object.entries(C);return n.jsxs("div",{onClick:()=>p({edit:w}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[n.jsxs("div",{className:"flex items-center gap-2.5 mb-1.5",children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white bg-gradient-to-br ${Pc[M%Pc.length]}`,children:w.memberName.charAt(0)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:w.memberName}),n.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Xb[w.relationship]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:w.relationship})]}),n.jsx("p",{className:"text-xs text-[var(--text-muted)] truncate",children:m(w.email,"email")})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:m(w.mobile,"mobile")}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("p",{className:"text-xs text-[var(--text-dim)] font-mono",children:["PAN: ",m(w.pan,"pan")||""]}),w.aadhar&&n.jsxs("p",{className:"text-xs text-[var(--text-dim)] font-mono",children:["Aadhaar: ",m(w.aadhar,"aadhaar")]})]})]}),y.length>0&&n.jsxs("div",{className:"flex flex-wrap gap-1 mt-1.5",children:[y.slice(0,3).map(([N,D])=>n.jsxs("span",{className:"text-[10px] text-[var(--text-dim)] bg-[var(--bg-inset)] px-1.5 py-0.5 rounded",children:[N,": ",D]},N)),y.length>3&&n.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["+",y.length-3," more"]})]})]},w.memberId)})})]}),n.jsx(It,{open:!!x,onClose:()=>p(null),title:x?.edit?"Edit Member":"Add Family Member",wide:!0,children:n.jsx(KA,{initial:x?.edit||void 0,onSave:b,onDelete:x?.edit?j:void 0,onCancel:()=>p(null)})})]})}const Wb=["Retirement","Emergency Fund","Child Education","Home Purchase","Car","Travel","Wedding","Custom"].map(s=>({value:s,label:s})),Zb=[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}],WA=[{value:"On Track",label:"On Track"},{value:"Needs Attention",label:"Needs Attention"},{value:"Achieved",label:"Achieved"},{value:"Paused",label:"Paused"}],zc={Retirement:{inflation:6,cagr:12},"Emergency Fund":{inflation:0,cagr:7},"Child Education":{inflation:10,cagr:12},"Home Purchase":{inflation:8,cagr:12},Wedding:{inflation:6,cagr:12},Car:{inflation:5,cagr:10},Travel:{inflation:6,cagr:10},Custom:{inflation:6,cagr:12}},Jb=[{label:"Basics",icon:Wi},{label:"Financials",icon:a5},{label:"Review",icon:El}];function ZA({initial:s,onSave:l,onDelete:r,onCancel:t}){const o=!!s,{activeMembers:u}=Ye(),d=[{value:"",label:"Family (Default)"},...u.map(E=>({value:E.memberId,label:E.memberName}))],[m,x]=S.useState(0),[p,v]=S.useState(()=>{if(o){const E=(s.expectedInflation||.06)*100,L=(s.expectedCAGR||.12)*100,B=s.targetDate?Math.max(0,(new Date(s.targetDate)-new Date)/(365.25*24*60*60*1e3)):0,W=E/100;let A=s.targetAmount||0;return W>0&&B>0&&s.goalType!=="Emergency Fund"&&(A=s.targetAmount/Math.pow(1+W,B)),{goalType:s.goalType||"",goalName:s.goalName||"",familyMemberId:s.familyMemberId||"",todaysCost:Math.round(A).toString(),targetDate:s.targetDate||"",lumpsum:(s.lumpsumInvested||0).toString(),monthlySIP:(s.monthlyInvestment||0).toString(),inflation:E.toString(),cagr:L.toString(),priority:s.priority||"Medium",status:s.status||"On Track",notes:s.notes||"",monthlyExpenses:(s.monthlyExpenses||"").toString(),emergencyMonths:(s.emergencyMonths||6).toString()}}return{goalType:"",goalName:"",familyMemberId:"",todaysCost:"",targetDate:"",lumpsum:"",monthlySIP:"",inflation:"6",cagr:"12",priority:"Medium",status:"On Track",notes:"",monthlyExpenses:"",emergencyMonths:"6"}}),[b,j]=S.useState({}),[w,M]=S.useState(!1);function C(E,L){v(B=>({...B,[E]:L})),j(B=>({...B,[E]:void 0}))}S.useEffect(()=>{if(o||!p.goalType)return;const E=zc[p.goalType]||zc.Custom;v(L=>({...L,inflation:E.inflation.toString(),cagr:E.cagr.toString()}))},[p.goalType,o]);const y=p.goalType==="Retirement",N=p.goalType==="Emergency Fund",D=S.useMemo(()=>{const E=(Number(p.inflation)||0)/100,B=(Number(p.cagr)||0)/100/12,W=Number(p.lumpsum)||0,A=Number(p.monthlySIP)||0,se=Number(p.monthlyExpenses)||0,q=Number(p.emergencyMonths)||6,J=p.targetDate?Math.max(0,(new Date(p.targetDate)-new Date)/(365.25*24*60*60*1e3)):0,z=Math.round(J*12);let O=0,R=0;y?(O=se*12*25,R=O*Math.pow(1+E,J)):N?(O=se*q,R=O):(O=Number(p.todaysCost)||0,R=E>0&&J>0?O*Math.pow(1+E,J):O),R=Math.round(R);const ce=W>0&&z>0?W*Math.pow(1+B,z):W,ve=A>0&&B>0&&z>0?A*((Math.pow(1+B,z)-1)/B):A*z,F=Math.round(ce+ve),ae=Math.round(W+A*z),ue=F-ae;let de=0;if(R>0&&z>0){const ge=R-ce;ge>0&&B>0?de=ge/((Math.pow(1+B,z)-1)/B):ge>0&&(de=ge/z),de=Math.max(0,Math.ceil(de))}const ke=R>0&&F>=R,je=R>0?F/R*100:0;return{todaysCost:O,inflatedTarget:R,yearsToGo:J,months:z,fvLumpsum:Math.round(ce),fvSIP:Math.round(ve),projectedValue:F,totalInvested:ae,totalReturns:ue,requiredSIP:de,isOnTrack:ke,pctOfTarget:je,hasTarget:R>0,hasInputs:W>0||A>0}},[p.todaysCost,p.targetDate,p.lumpsum,p.monthlySIP,p.inflation,p.cagr,p.monthlyExpenses,p.emergencyMonths,y,N]);function g(E){const L={};return E===0&&(p.goalType||(L.goalType="Required"),p.goalName.trim()||(L.goalName="Required")),E===1&&(p.targetDate||(L.targetDate="Required"),y||N?(!p.monthlyExpenses||Number(p.monthlyExpenses)<=0)&&(L.monthlyExpenses="Required"):(!p.todaysCost||Number(p.todaysCost)<=0)&&(L.todaysCost="Must be > 0")),j(L),Object.keys(L).length===0}function _(){const E={};return p.goalType||(E.goalType="Required"),p.goalName.trim()||(E.goalName="Required"),p.targetDate||(E.targetDate="Required"),y||N?(!p.monthlyExpenses||Number(p.monthlyExpenses)<=0)&&(E.monthlyExpenses="Required"):(!p.todaysCost||Number(p.todaysCost)<=0)&&(E.todaysCost="Must be > 0"),j(E),Object.keys(E).length===0}function P(){g(m)&&x(E=>Math.min(E+1,2))}async function U(){if(!_())return;const E=p.familyMemberId&&u.find(L=>L.memberId===p.familyMemberId)?.memberName||"Family";M(!0);try{await l({goalType:p.goalType,goalName:p.goalName,familyMemberId:p.familyMemberId||"",familyMember:E,targetAmount:D.inflatedTarget,targetDate:p.targetDate,priority:p.priority,status:p.status,notes:p.notes,expectedInflation:(Number(p.inflation)||0)/100,expectedCAGR:(Number(p.cagr)||0)/100,monthlyInvestment:Number(p.monthlySIP)||0,lumpsumInvested:Number(p.lumpsum)||0,monthlyExpenses:y||N?Number(p.monthlyExpenses)||0:void 0,emergencyMonths:N?Number(p.emergencyMonths)||6:void 0,isRetirement:y,currentCost:D.todaysCost})}finally{M(!1)}}const G=p.familyMemberId&&u.find(E=>E.memberId===p.familyMemberId)?.memberName||"Family";return o?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Goal Type",required:!0,error:b.goalType,children:n.jsx(_e,{value:p.goalType,onChange:E=>C("goalType",E),options:Wb,placeholder:"Select type..."})}),n.jsx(ee,{label:"Goal Name",required:!0,error:b.goalName,children:n.jsx(pe,{value:p.goalName,onChange:E=>C("goalName",E),placeholder:"e.g., Retirement Fund (2045)"})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Family Member",error:b.familyMemberId,children:n.jsx(_e,{value:p.familyMemberId,onChange:E=>C("familyMemberId",E),options:d,placeholder:"Family (Default)"})}),n.jsx(ee,{label:"Target Date",required:!0,error:b.targetDate,children:n.jsx(pe,{type:"date",value:p.targetDate,onChange:E=>C("targetDate",E)})})]}),y||N?n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Monthly Expenses",required:!0,error:b.monthlyExpenses,children:n.jsx(pe,{type:"number",value:p.monthlyExpenses,onChange:E=>C("monthlyExpenses",E),placeholder:"e.g., 50000"})}),N&&n.jsx(ee,{label:"Emergency Months",children:n.jsx(pe,{type:"number",value:p.emergencyMonths,onChange:E=>C("emergencyMonths",E),placeholder:"6"})})]}):n.jsx(ee,{label:"Today's Cost",required:!0,error:b.todaysCost,children:n.jsx(pe,{type:"number",value:p.todaysCost,onChange:E=>C("todaysCost",E),placeholder:"e.g., 1000000"})}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[n.jsx(ee,{label:"Inflation %",children:n.jsx(pe,{type:"number",value:p.inflation,onChange:E=>C("inflation",E),placeholder:"6"})}),n.jsx(ee,{label:"Expected CAGR %",children:n.jsx(pe,{type:"number",value:p.cagr,onChange:E=>C("cagr",E),placeholder:"12"})}),n.jsx(ee,{label:"Lumpsum",children:n.jsx(pe,{type:"number",value:p.lumpsum,onChange:E=>C("lumpsum",E),placeholder:"0"})}),n.jsx(ee,{label:"Monthly SIP",children:n.jsx(pe,{type:"number",value:p.monthlySIP,onChange:E=>C("monthlySIP",E),placeholder:"0"})})]}),D.hasTarget&&n.jsx(eg,{calc:D,inflation:p.inflation,isRetirement:y,isEmergency:N}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Priority",children:n.jsx(_e,{value:p.priority,onChange:E=>C("priority",E),options:Zb})}),n.jsx(ee,{label:"Status",children:n.jsx(_e,{value:p.status,onChange:E=>C("status",E),options:WA})})]}),n.jsx(ee,{label:"Notes",children:n.jsx(kl,{value:p.notes,onChange:E=>C("notes",E),placeholder:"Optional notes...",rows:2})}),n.jsxs("div",{className:"flex items-center justify-between",children:[r?n.jsx(Dn,{onClick:r}):n.jsx("div",{}),n.jsx(aa,{onCancel:t,onSubmit:U,submitLabel:"Update Goal",loading:w})]})]}):n.jsxs("div",{className:"space-y-5",children:[n.jsx("div",{className:"flex items-center gap-1 mb-2",children:Jb.map((E,L)=>{const B=E.icon,W=L===m,A=L<m;return n.jsxs("div",{className:"flex items-center flex-1",children:[n.jsxs("button",{onClick:()=>{L<m&&x(L)},className:`flex items-center gap-1.5 text-xs font-semibold transition-colors ${W?"text-violet-400":A?"text-emerald-400 cursor-pointer":"text-[var(--text-dim)]"}`,children:[n.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold border ${W?"border-violet-400 bg-violet-500/15":A?"border-emerald-400 bg-emerald-500/15":"border-[var(--border)] bg-[var(--bg-inset)]"}`,children:A?n.jsx(El,{size:12}):n.jsx(B,{size:12})}),n.jsx("span",{className:"hidden sm:inline",children:E.label})]}),L<Jb.length-1&&n.jsx("div",{className:`flex-1 h-px mx-2 ${A?"bg-emerald-400/40":"bg-[var(--border)]"}`})]},E.label)})}),m===0&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Tell us about your financial goal"}),n.jsx(ee,{label:"Goal Type",required:!0,error:b.goalType,children:n.jsx(_e,{value:p.goalType,onChange:E=>C("goalType",E),options:Wb,placeholder:"Select type..."})}),p.goalType&&n.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)]",children:[n.jsx(_r,{size:12,className:"text-[var(--text-dim)] shrink-0"}),n.jsxs("p",{className:"text-[11px] text-[var(--text-muted)]",children:["Default: ",zc[p.goalType]?.inflation||6,"% inflation, ",zc[p.goalType]?.cagr||12,"% CAGR",y&&"  Uses 25x annual expenses rule",N&&"  No inflation applied"]})]}),n.jsx(ee,{label:"Goal Name",required:!0,error:b.goalName,children:n.jsx(pe,{value:p.goalName,onChange:E=>C("goalName",E),placeholder:"e.g., Retirement Fund (2045)"})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Family Member",error:b.familyMemberId,children:n.jsx(_e,{value:p.familyMemberId,onChange:E=>C("familyMemberId",E),options:d,placeholder:"Family (Default)"})}),n.jsx(ee,{label:"Priority",children:n.jsx(_e,{value:p.priority,onChange:E=>C("priority",E),options:Zb})})]})]}),m===1&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:y?"Set your retirement timeline and monthly expenses":N?"Set your emergency fund requirements":"Set your target and investment plan"}),n.jsx(ee,{label:"Target Date",required:!0,error:b.targetDate,children:n.jsx(pe,{type:"date",value:p.targetDate,onChange:E=>C("targetDate",E)})}),y||N?n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Monthly Expenses (Today)",required:!0,error:b.monthlyExpenses,children:n.jsx(pe,{type:"number",value:p.monthlyExpenses,onChange:E=>C("monthlyExpenses",E),placeholder:"e.g., 50000"})}),N&&n.jsx(ee,{label:"Emergency Fund (Months)",children:n.jsx(pe,{type:"number",value:p.emergencyMonths,onChange:E=>C("emergencyMonths",E),placeholder:"6"})}),y&&n.jsx("div",{className:"sm:col-span-2",children:n.jsxs("p",{className:"text-[11px] text-[var(--text-dim)]",children:["Corpus = Monthly Expenses x 12 x 25 = ",K(D.todaysCost)," (today)"]})})]}):n.jsx(ee,{label:"Today's Cost",required:!0,error:b.todaysCost,children:n.jsx(pe,{type:"number",value:p.todaysCost,onChange:E=>C("todaysCost",E),placeholder:"e.g., 1000000"})}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(ee,{label:`Inflation Rate (%)${N?"  N/A":""}`,children:n.jsx(pe,{type:"number",value:p.inflation,onChange:E=>C("inflation",E),placeholder:"6"})}),n.jsx(ee,{label:"Expected Returns (CAGR %)",children:n.jsx(pe,{type:"number",value:p.cagr,onChange:E=>C("cagr",E),placeholder:"12"})})]}),D.hasTarget&&n.jsx(eg,{calc:D,inflation:p.inflation,isRetirement:y,isEmergency:N}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Lumpsum Investment (Optional)",children:n.jsx(pe,{type:"number",value:p.lumpsum,onChange:E=>C("lumpsum",E),placeholder:"0"})}),n.jsx(ee,{label:"Monthly SIP",children:n.jsx(pe,{type:"number",value:p.monthlySIP,onChange:E=>C("monthlySIP",E),placeholder:"0"})})]}),D.hasTarget&&D.months>0&&n.jsx(tg,{calc:D,sip:p.monthlySIP,lumpsum:p.lumpsum}),n.jsx(ee,{label:"Notes",children:n.jsx(kl,{value:p.notes,onChange:E=>C("notes",E),placeholder:"Optional notes...",rows:2})})]}),m===2&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Review your goal before saving"}),n.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-4 space-y-3",children:[n.jsx(ha,{label:"Goal",value:p.goalName,bold:!0}),n.jsx(ha,{label:"Type",value:p.goalType,color:"violet"}),n.jsx(ha,{label:"Member",value:G}),n.jsx(ha,{label:"Priority",value:p.priority,badge:p.priority==="High"?"rose":p.priority==="Low"?"blue":"amber"}),n.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3 space-y-2",children:[(y||N)&&n.jsx(ha,{label:"Monthly Expenses",value:K(Number(p.monthlyExpenses)||0)}),N&&n.jsx(ha,{label:"Emergency Months",value:p.emergencyMonths}),!y&&!N&&n.jsx(ha,{label:"Today's Cost",value:K(D.todaysCost)}),n.jsx(ha,{label:"Inflation",value:`${p.inflation}% p.a.`}),n.jsx(ha,{label:"Expected CAGR",value:`${p.cagr}% p.a.`}),n.jsx(ha,{label:"Future Value (Inflated)",value:K(D.inflatedTarget),bold:!0,color:"violet"})]}),n.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3 space-y-2",children:[n.jsx(ha,{label:"Lumpsum",value:K(Number(p.lumpsum)||0)}),n.jsx(ha,{label:"Monthly SIP",value:`${K(Number(p.monthlySIP)||0)}/mo`,color:"emerald"}),n.jsx(ha,{label:"Target Date",value:p.targetDate}),n.jsx(ha,{label:"Time Remaining",value:D.yearsToGo>0?`${D.yearsToGo.toFixed(1)} years`:""})]})]}),D.hasTarget&&D.months>0&&D.hasInputs&&n.jsx(tg,{calc:D,sip:p.monthlySIP,lumpsum:p.lumpsum,compact:!0})]}),n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-[var(--border-light)]",children:[n.jsx("div",{children:m>0&&n.jsxs("button",{onClick:()=>x(E=>E-1),className:"flex items-center gap-1 px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:[n.jsx(fy,{size:14})," Back"]})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:t,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),m<2?n.jsxs("button",{onClick:P,className:"flex items-center gap-1 px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors",children:["Next ",n.jsx(Yi,{size:14})]}):n.jsx("button",{onClick:U,disabled:w,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Saving...":"Create Goal"})]})]})]})}function eg({calc:s,inflation:l,isRetirement:r,isEmergency:t}){return t?n.jsx("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-blue-500/5 border border-blue-500/15",children:n.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Emergency Fund: ",n.jsx("span",{className:"font-bold text-[var(--text-primary)]",children:K(s.inflatedTarget)}),n.jsx("span",{className:"text-[var(--text-dim)]",children:" (no inflation applied)"})]})}):n.jsxs("div",{className:"flex items-center justify-between gap-2 px-3 py-2 rounded-lg bg-violet-500/5 border border-violet-500/15",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] font-semibold text-[var(--text-dim)] uppercase tracking-wider",children:r?"Corpus Today":"Today's Cost"}),n.jsx("p",{className:"text-xs font-semibold text-[var(--text-secondary)]",children:K(s.todaysCost)})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[l,"% x ",s.yearsToGo.toFixed(1),"yrs"]}),n.jsx(Yi,{size:12,className:"text-violet-400 mx-auto"})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-[10px] font-semibold text-violet-400 uppercase tracking-wider",children:"Future Value"}),n.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)]",children:K(s.inflatedTarget)})]})]})}function tg({calc:s,sip:l,lumpsum:r,compact:t}){const o=Number(l)||0,u=Number(r)||0;return n.jsxs("div",{className:`rounded-lg border p-3 space-y-2 ${s.isOnTrack?"bg-emerald-500/5 border-emerald-500/20":"bg-amber-500/5 border-amber-500/20"}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[s.isOnTrack?n.jsx(El,{size:12,className:"text-emerald-400"}):n.jsx(Cu,{size:12,className:"text-amber-400"}),n.jsx("p",{className:`text-[10px] font-bold uppercase tracking-wider ${s.isOnTrack?"text-emerald-400":"text-amber-400"}`,children:s.isOnTrack?"On Track":"SIP May Be Insufficient"})]}),n.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["@","0","CAGR assumed"]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Required Monthly SIP"}),n.jsxs("span",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:[K(s.requiredSIP),"/mo"]})]}),!t&&s.hasInputs&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Projected Value"}),n.jsx("span",{className:`text-sm font-bold tabular-nums ${s.isOnTrack?"text-emerald-400":"text-amber-400"}`,children:K(s.projectedValue)})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex-1 h-1.5 bg-[var(--bg-card)] rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full rounded-full ${s.isOnTrack?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${Math.min(s.pctOfTarget,100)}%`}})}),n.jsxs("span",{className:"text-xs font-bold tabular-nums text-[var(--text-primary)]",children:[Math.round(s.pctOfTarget),"%"]})]}),n.jsxs("div",{className:"border-t border-[var(--border-light)] pt-2 space-y-1",children:[u>0&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-[11px] text-[var(--text-dim)]",children:["Lumpsum ",K(u)," grows to"]}),n.jsx("span",{className:"text-[11px] font-semibold text-emerald-400 tabular-nums",children:K(s.fvLumpsum)})]}),o>0&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-[11px] text-[var(--text-dim)]",children:["SIP ",K(o),"/mo x ",s.months," mo"]}),n.jsx("span",{className:"text-[11px] font-semibold text-blue-400 tabular-nums",children:K(s.fvSIP)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-[11px] text-[var(--text-dim)]",children:"Total Invested"}),n.jsx("span",{className:"text-[11px] font-semibold text-[var(--text-primary)] tabular-nums",children:K(s.totalInvested)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-[11px] text-[var(--text-dim)]",children:"Wealth Created"}),n.jsxs("span",{className:"text-[11px] font-semibold text-emerald-400 tabular-nums",children:["+",K(s.totalReturns)]})]})]})]})]})}function ha({label:s,value:l,bold:r,color:t,badge:o}){const u=t==="violet"?"text-violet-400":t==="emerald"?"text-emerald-400":"text-[var(--text-primary)]";if(o){const d=o==="rose"?"bg-rose-500/15 text-rose-400":o==="blue"?"bg-blue-500/15 text-blue-400":"bg-amber-500/15 text-amber-400";return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:s}),n.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${d}`,children:l})]})}return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:s}),n.jsx("span",{className:`text-xs ${r?"font-bold text-sm":"font-semibold"} ${u}`,children:l})]})}function JA({goal:s,onClose:l}){const{mfPortfolios:r,goalPortfolioMappings:t,updateGoalMappings:o}=Ye(),u=r.filter(y=>y.status!=="Inactive"),d=S.useMemo(()=>t.filter(y=>y.goalId===s.goalId).map(y=>({portfolioId:y.portfolioId,allocationPct:y.allocationPct})),[t,s.goalId]),[m,x]=S.useState(d.length>0?d:[]),p=m.reduce((y,N)=>y+(N.allocationPct||0),0),v=p===100||m.length===0;function b(){const y=new Set(m.map(D=>D.portfolioId)),N=u.find(D=>!y.has(D.portfolioId));N&&x(D=>[...D,{portfolioId:N.portfolioId,allocationPct:0}])}function j(y){x(N=>N.filter((D,g)=>g!==y))}function w(y,N,D){x(g=>g.map((_,P)=>P===y?{..._,[N]:N==="allocationPct"?Math.max(0,Math.min(100,Number(D)||0)):D}:_))}function M(){o(s.goalId,m),l()}const C=m.reduce((y,N)=>{const D=u.find(g=>g.portfolioId===N.portfolioId);return y+(D?D.currentValue*N.allocationPct/100:0)},0);return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Goal Target"}),n.jsx("span",{className:"text-sm font-bold text-[var(--text-primary)]",children:K(s.targetAmount)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Linked Portfolio Value"}),n.jsx("span",{className:"text-sm font-semibold text-emerald-400",children:K(C)})]})]}),m.length===0?n.jsxs("div",{className:"py-6 text-center",children:[n.jsx(ru,{size:24,className:"mx-auto mb-2 text-[var(--text-dim)]"}),n.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"No portfolios linked to this goal"})]}):n.jsx("div",{className:"space-y-2",children:m.map((y,N)=>{const D=u.find(g=>g.portfolioId===y.portfolioId);return n.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-3",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("select",{value:y.portfolioId,onChange:g=>w(N,"portfolioId",g.target.value),className:"w-full px-2 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)]",children:u.map(g=>n.jsxs("option",{value:g.portfolioId,disabled:m.some((_,P)=>P!==N&&_.portfolioId===g.portfolioId),children:[g.portfolioName," (",g.ownerName,")  ",K(g.currentValue)]},g.portfolioId))}),D&&n.jsxs("p",{className:"text-[10px] text-[var(--text-dim)] mt-1 px-1",children:["Contributes ",K(D.currentValue*y.allocationPct/100)," to this goal"]})]}),n.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[n.jsx("input",{type:"number",value:y.allocationPct,onChange:g=>w(N,"allocationPct",g.target.value),className:"w-16 px-2 py-1.5 text-xs text-center bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)]",min:"0",max:"100"}),n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"%"}),n.jsx("button",{onClick:()=>j(N),className:"p-1.5 text-[var(--text-dim)] hover:text-rose-400 rounded transition-colors",children:n.jsx(ap,{size:12})})]})]},N)})}),m.length>0&&n.jsxs("div",{className:"flex items-center justify-between px-1",children:[n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Total Allocation"}),n.jsxs("span",{className:`text-xs font-bold ${p===100?"text-emerald-400":p>100?"text-rose-400":"text-amber-400"}`,children:[p,"%",p!==100&&n.jsx("span",{className:"font-normal text-[var(--text-dim)]",children:" (must be 100%)"})]})]}),m.length<u.length&&n.jsxs("button",{onClick:b,className:"flex items-center gap-1.5 text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[n.jsx(ja,{size:14})," Link Portfolio"]}),n.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4 border-t border-[var(--border-light)]",children:[n.jsx("button",{onClick:l,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),n.jsx("button",{onClick:M,disabled:!v,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Save Mapping"})]})]})}function eT({goal:s,onClose:l}){const{goalPortfolioMappings:r,mfPortfolios:t,mfHoldings:o}=Ye(),u=S.useMemo(()=>{const m=r.filter(b=>b.goalId===s.goalId);if(m.length===0)return null;const x=m.map(b=>{const j=t.find(N=>N.portfolioId===b.portfolioId);if(!j)return null;const w=o.filter(N=>N.portfolioId===b.portfolioId&&N.units>0),M=w.reduce((N,D)=>N+D.currentValue,0),C=M*b.allocationPct/100,y=w.map(N=>{const D=M>0?N.currentValue/M:0,g=C*D,_=N.currentNav>0?g/N.currentNav:0,P=g-_*N.avgNav;return{fundName:N.fundName,currentValue:N.currentValue,withdrawValue:g,withdrawUnits:Math.min(_,N.units),currentNav:N.currentNav,taxableGain:P,availableUnits:N.units}}).filter(N=>N.withdrawValue>0);return{portfolioName:j.portfolioName,ownerName:j.ownerName,allocationPct:b.allocationPct,portfolioValue:M,linkedValue:C,fundWithdrawals:y}}).filter(Boolean),p=x.reduce((b,j)=>b+j.linkedValue,0),v=x.reduce((b,j)=>b+j.fundWithdrawals.reduce((w,M)=>w+M.taxableGain,0),0);return{portfolioDetails:x,totalLinked:p,totalTaxableGain:v}},[s,r,t,o]);if(!u)return n.jsxs("div",{className:"py-8 text-center space-y-2",children:[n.jsx(Cu,{size:24,className:"mx-auto text-amber-400"}),n.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No portfolios linked to this goal"}),n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Link portfolios first to generate a withdrawal plan"}),n.jsx("button",{onClick:l,className:"mt-2 px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})]});const d=s.targetAmount>0?u.totalLinked/s.targetAmount*100:0;return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-4 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Goal Target"}),n.jsx("span",{className:"text-sm font-bold text-[var(--text-primary)]",children:K(s.targetAmount)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Available from Linked Portfolios"}),n.jsx("span",{className:`text-sm font-bold ${u.totalLinked>=s.targetAmount?"text-emerald-400":"text-amber-400"}`,children:K(u.totalLinked)})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-card)] rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full rounded-full ${d>=100?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${Math.min(d,100)}%`}})}),n.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[d.toFixed(0),"%"]})]}),u.totalTaxableGain>0&&n.jsxs("div",{className:"flex items-center justify-between pt-1",children:[n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Estimated Taxable Gain"}),n.jsx("span",{className:"text-xs font-semibold text-amber-400",children:K(u.totalTaxableGain)})]})]}),u.portfolioDetails.map(m=>n.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] overflow-hidden",children:[n.jsxs("div",{className:"px-4 py-2.5 bg-[var(--bg-card)] border-b border-[var(--border-light)] flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:m.portfolioName}),n.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[m.ownerName,"  ",m.allocationPct,"% allocated to goal"]})]}),n.jsx("span",{className:"text-xs font-bold text-[var(--text-primary)]",children:K(m.linkedValue)})]}),n.jsx("div",{className:"px-4 py-2",children:n.jsxs("table",{className:"w-full text-xs",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-[var(--text-dim)]",children:[n.jsx("th",{className:"text-left py-1 font-medium",children:"Fund"}),n.jsx("th",{className:"text-right py-1 font-medium",children:"Units"}),n.jsx("th",{className:"text-right py-1 font-medium",children:"Amount"}),n.jsx("th",{className:"text-right py-1 font-medium",children:"Gain"})]})}),n.jsx("tbody",{children:m.fundWithdrawals.map(x=>n.jsxs("tr",{className:"border-t border-[var(--border-light)]",children:[n.jsx("td",{className:"py-1.5 text-[var(--text-secondary)] max-w-[180px] truncate",children:x.fundName}),n.jsx("td",{className:"py-1.5 text-right text-[var(--text-muted)] tabular-nums",children:x.withdrawUnits.toFixed(2)}),n.jsx("td",{className:"py-1.5 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:K(x.withdrawValue)}),n.jsx("td",{className:`py-1.5 text-right tabular-nums font-semibold ${x.taxableGain>=0?"text-emerald-400":"text-rose-400"}`,children:K(Math.abs(x.taxableGain))})]},x.fundName))})]})})]},m.portfolioName)),n.jsx("div",{className:"flex items-center justify-end gap-2 pt-4 border-t border-[var(--border-light)]",children:n.jsx("button",{onClick:l,className:"px-5 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})})]})}const ag={"On Track":"bg-blue-500/15 text-[var(--accent-blue)]","Needs Attention":"bg-amber-500/15 text-[var(--accent-amber)]",Achieved:"bg-emerald-500/15 text-emerald-400",Paused:"bg-slate-500/15 text-[var(--text-muted)]"},tT={High:"bg-rose-500/15 text-[var(--accent-rose)]",Medium:"bg-amber-500/15 text-[var(--accent-amber)]",Low:"bg-blue-500/15 text-[var(--accent-blue)]"},ng={"On Track":"bg-blue-500","Needs Attention":"bg-amber-500",Achieved:"bg-emerald-500",Paused:"bg-slate-500"};function aT(){const{selectedMember:s,member:l}=Qt(),{goalList:r,addGoal:t,updateGoal:o,deleteGoal:u,goalPortfolioMappings:d}=Ye(),{showToast:m,showBlockUI:x,hideBlockUI:p}=Sn(),[v,b]=S.useState(null),[j,w]=S.useState(null),[M,C]=S.useState(null),[y,N]=S.useState(null),D=S.useRef(new Set),g=S.useMemo(()=>{if(!r)return[];const q=r.filter(J=>J.isActive!==!1);return s==="all"?q:q.filter(J=>J.familyMemberId===s)},[r,s]),_=g.reduce((q,J)=>q+(J.targetAmount||0),0),P=g.reduce((q,J)=>q+(J.currentValue||0),0),U=g.reduce((q,J)=>q+(J.monthlyInvestment||0),0),G=_>0?P/_*100:0,E=g.filter(q=>q.status==="Needs Attention").length,L=g.filter(q=>q.status==="Achieved").length;if(S.useEffect(()=>{const q=new Set(g.filter(z=>z.status==="Achieved").map(z=>z.goalId)),J=D.current;for(const z of q)if(!J.has(z)){const O=g.find(R=>R.goalId===z);O&&(N(O),setTimeout(()=>N(null),5e3))}D.current=q},[g]),r===null)return n.jsx(nr,{title:"Loading goals",cards:5});async function B(q){x("Saving...");try{v?.edit?await o(v.edit.goalId,q):await t(q),m(v?.edit?"Goal updated":"Goal added"),b(null)}catch(J){m(J.message||"Failed to save goal","error")}finally{p()}}async function W(){if(v?.edit&&confirm("Delete this goal?")){x("Deleting...");try{await u(v.edit.goalId),m("Goal deleted"),b(null)}catch(q){m(q.message||"Failed to delete goal","error")}finally{p()}}}function A(q){return!q.targetAmount||q.targetAmount===0?0:Math.min((q.currentValue||0)/q.targetAmount*100,100)}function se(q){if(!q.targetDate)return null;const z=(new Date(q.targetDate)-new Date)/(365.25*24*60*60*1e3);return z>0?z.toFixed(1):"0"}return n.jsxs("div",{className:"space-y-4",children:[g.length===0?n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[n.jsx(Wi,{size:32,className:"text-[var(--text-dim)]"}),n.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No goals set",l?` for ${l.memberName}`:""]}),n.jsx("button",{onClick:()=>b("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first goal"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[n.jsx(ul,{label:"Goals",value:g.length,sub:L>0?`${L} achieved`:void 0}),n.jsx(ul,{label:"Target",value:K(_),bold:!0}),n.jsx(ul,{label:"Current Value",value:K(P),bold:!0}),n.jsx(ul,{label:"Total Gap",value:K(Math.max(_-P,0)),sub:_>P?"remaining to target":"all targets met",positive:_<=P,bold:!0}),n.jsx(ul,{label:"Overall Progress",value:`${G.toFixed(1)}%`,positive:G>=50,bold:!0}),n.jsx(ul,{label:"Monthly SIP",value:K(U),sub:E>0?`${E} need attention`:void 0})]}),y&&n.jsxs("div",{className:"relative bg-gradient-to-r from-emerald-500/10 via-yellow-500/10 to-emerald-500/10 rounded-xl border border-emerald-500/30 px-4 py-3 flex items-center gap-3 animate-fade-in overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:20}).map((q,J)=>n.jsx("span",{className:"absolute text-sm animate-confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*2}s`},children:["","","","",""][J%5]},J))}),n.jsx(_0,{size:20,className:"text-yellow-400 shrink-0 relative z-10"}),n.jsxs("div",{className:"relative z-10",children:[n.jsx("p",{className:"text-sm font-bold text-emerald-400",children:"Goal Achieved!"}),n.jsxs("p",{className:"text-xs text-[var(--text-secondary)]",children:[y.goalName,"  Congratulations!"]})]}),n.jsx("button",{onClick:()=>N(null),className:"ml-auto text-xs text-[var(--text-dim)] hover:text-[var(--text-primary)] relative z-10",children:"Dismiss"})]}),L>0&&n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-emerald-500/20 p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(_0,{size:14,className:"text-yellow-400"}),n.jsx("p",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Achieved Goals"})]}),n.jsx("div",{className:"flex gap-3 overflow-x-auto no-scrollbar pb-1",children:g.filter(q=>q.status==="Achieved").map(q=>n.jsxs("div",{className:"shrink-0 bg-emerald-500/10 border border-emerald-500/20 rounded-lg px-3 py-2 min-w-[160px]",children:[n.jsx("p",{className:"text-xs font-semibold text-emerald-400",children:q.goalName}),n.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] mt-1",children:K(q.targetAmount)}),n.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5",children:q.familyMemberName})]},q.goalId))})]}),n.jsx("div",{className:"flex items-center justify-end gap-2 px-1",children:n.jsxs("button",{onClick:()=>b("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[n.jsx(ja,{size:14})," Add Goal"]})}),n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[n.jsx("div",{className:"hidden lg:block overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[n.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Goal"}),!l&&n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),n.jsxs("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[n.jsx("div",{children:"Amount"}),n.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Target"})]}),n.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider min-w-[120px]",children:"Progress"}),n.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Monthly SIP"}),n.jsxs("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[n.jsx("div",{children:"Timeline"}),n.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Years Left"})]}),n.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),n.jsx("tbody",{children:g.map(q=>{const J=A(q),z=se(q);return n.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[n.jsxs("td",{className:"py-2.5 px-4",children:[n.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:q.goalName}),n.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[n.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${tT[q.priority]||""}`,children:q.priority}),q.notes&&n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:q.notes})]})]}),!l&&n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:q.familyMemberName}),n.jsxs("td",{className:"py-2.5 px-3 text-right",children:[n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(q.currentValue)}),n.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:K(q.targetAmount)})]}),n.jsx("td",{className:"py-2.5 px-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-inset)] rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full rounded-full ${ng[q.status]||"bg-blue-500"}`,style:{width:`${J}%`}})}),n.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums w-10 text-right",children:[J.toFixed(0),"%"]})]})}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(q.monthlyInvestment)}),n.jsx("td",{className:"py-2.5 px-3 text-center text-xs text-[var(--text-muted)] tabular-nums",children:q.status==="Achieved"?"Done":z?`${z} yrs`:""}),n.jsx("td",{className:"py-2.5 px-3 text-center",children:n.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${ag[q.status]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:q.status})}),n.jsx("td",{className:"py-2.5 px-2",children:n.jsxs("div",{className:"flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition-all",children:[n.jsx("button",{onClick:()=>C(q),className:"p-1 rounded text-[var(--text-dim)] hover:text-emerald-400 transition-colors",title:"Withdrawal plan",children:n.jsx(py,{size:12})}),n.jsx("button",{onClick:()=>w(q),className:"p-1 rounded text-[var(--text-dim)] hover:text-violet-400 transition-colors",title:"Link portfolios",children:n.jsx(ru,{size:12})}),n.jsx("button",{onClick:()=>b({edit:q}),className:"p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-colors",children:n.jsx(wn,{size:12})})]})})]},q.goalId)})})]})}),n.jsx("div",{className:"lg:hidden divide-y divide-[var(--border-light)]",children:g.map(q=>{const J=A(q),z=se(q);return n.jsxs("div",{onClick:()=>b({edit:q}),className:"px-4 py-4 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:q.goalName}),n.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[n.jsxs("span",{className:"text-xs text-[var(--text-muted)]",children:[q.familyMemberName,"  SIP ",K(q.monthlyInvestment),"/mo"]}),d.filter(O=>O.goalId===q.goalId).length>0&&n.jsxs("span",{className:"text-[10px] font-semibold text-violet-400 flex items-center gap-0.5",children:[n.jsx(ru,{size:9}),d.filter(O=>O.goalId===q.goalId).length]})]})]}),n.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${ag[q.status]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:q.status})]}),n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-inset)] rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full rounded-full ${ng[q.status]||"bg-blue-500"}`,style:{width:`${J}%`}})}),n.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[J.toFixed(0),"%"]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-xs text-[var(--text-muted)]",children:[K(q.currentValue)," ",n.jsx("span",{className:"text-[var(--text-dim)]",children:"of"})," ",K(q.targetAmount)]}),n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:q.status==="Achieved"?"Done":z?`${z} yrs left`:""})]})]},q.goalId)})})]})]}),n.jsx(It,{open:!!v,onClose:()=>b(null),title:v?.edit?"Edit Goal":"Add Goal",wide:!0,children:n.jsx(ZA,{initial:v?.edit||void 0,onSave:B,onDelete:v?.edit?W:void 0,onCancel:()=>b(null)})}),n.jsx(It,{open:!!j,onClose:()=>w(null),title:`Link Portfolios  ${j?.goalName||""}`,wide:!0,children:j&&n.jsx(JA,{goal:j,onClose:()=>w(null)})}),n.jsx(It,{open:!!M,onClose:()=>C(null),title:`Withdrawal Plan  ${M?.goalName||""}`,wide:!0,children:M&&n.jsx(eT,{goal:M,onClose:()=>C(null)})})]})}function ul({label:s,value:l,sub:r,positive:t,bold:o}){return n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),n.jsx("p",{className:`text-sm tabular-nums ${o?"font-bold":"font-semibold"} ${t===void 0?"text-[var(--text-primary)]":t?"text-emerald-400":"text-[var(--accent-amber)]"}`,children:l}),r&&n.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:r})]})}const nT=[{label:"Reports & Transactions",desc:"View transaction history",icon:vy,path:"/reports",color:"bg-blue-500/15 text-[var(--accent-blue)]"},{label:"Reminders",desc:"View and manage reminders",icon:wu,path:"/reminders",color:"bg-amber-500/15 text-[var(--accent-amber)]"},{label:"Health Check",desc:"Financial health questionnaire",icon:Mf,path:"/health-check",color:"bg-emerald-500/15 text-emerald-400"},{label:"Settings",desc:"App configuration",icon:tp,path:"/settings",color:"bg-slate-500/15 text-[var(--text-muted)]"},{label:"About",desc:"Capital Friends v2.0",icon:b5,path:"/about",color:"bg-violet-500/15 text-[var(--accent-violet)]"},{label:"Support Developer",desc:"UPI: jagadeeshmanne.hdfc@kphdfc",icon:nu,path:"/about",color:"bg-pink-500/15 text-pink-400"}];function rT(){const s=bs();return n.jsxs("div",{className:"space-y-4",children:[n.jsx("h1",{className:"text-base font-bold text-[var(--text-primary)]",children:"More"}),n.jsx("div",{className:"space-y-2",children:nT.map(l=>n.jsxs("button",{onClick:()=>s(l.path),className:"w-full flex items-center gap-3 bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[n.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center shrink-0 ${l.color}`,children:n.jsx(l.icon,{size:18})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:l.label}),n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:l.desc})]})]},l.label))})]})}const Fc=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function sT(){const s=bs(),{theme:l,toggle:r}=iy(),{members:t,settings:o,updateSettings:u,updateMember:d,healthCheckCompleted:m}=Ye(),{user:x,signOut:p}=gs(),{masked:v,toggleMask:b,mv:j}=Cn(),w=t.filter(J=>J.status==="Active"),[M,C]=S.useState("Daily"),[y,N]=S.useState("09"),[D,g]=S.useState("Monday"),[_,P]=S.useState(!1),[U,G]=S.useState(!1),[E,L]=S.useState(!1),[B,W]=S.useState(null);S.useEffect(()=>{!o||!Object.keys(o).length||(o.EmailFrequency&&C(o.EmailFrequency),o.EmailHour!=null&&N(String(o.EmailHour).padStart(2,"0")),o.EmailDayOfWeek!=null&&g(Fc[Number(o.EmailDayOfWeek)]||"Monday"))},[o]);async function A(){P(!0),G(!1);try{const J=Fc.indexOf(D);await u({EmailFrequency:M==="None"?"None":M,EmailConfigured:M==="None"?"FALSE":"TRUE",EmailHour:String(parseInt(y,10)),EmailMinute:"0",EmailDayOfWeek:String(J>=0?J:1)}),G(!0),setTimeout(()=>G(!1),2e3)}catch(J){alert("Failed to save: "+J.message)}finally{P(!1)}}async function se(){L(!0),W(null);try{const J=await rS();W(J)}catch(J){W({error:J.message})}finally{L(!1)}}function q(J){if(!J)return"Never";try{const z=new Date(J);if(isNaN(z.getTime()))return"Unknown";const O=Date.now(),R=Math.floor((O-z.getTime())/(1e3*60));if(R<1)return"Just now";if(R<60)return R+" min ago";const ce=Math.floor(R/60);return ce<24?ce+"h ago":z.toLocaleDateString("en-IN",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}catch{return"Unknown"}}return n.jsxs("div",{className:"space-y-4 max-w-xl mx-auto",children:[n.jsxs(ss,{children:[n.jsx(ls,{icon:n.jsx(sC,{size:14}),title:"Account"}),n.jsxs("div",{className:"px-4 py-4 space-y-3",children:[n.jsx(Ta,{label:"Signed in as",children:n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate max-w-[200px]",children:j(x?.email,"email")||""})}),n.jsx(Ta,{label:"Name",children:n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:x?.name||""})}),n.jsx("div",{className:"pt-1",children:n.jsxs("button",{onClick:p,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-red-500 border border-red-200 dark:border-red-800/40 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[n.jsx(Ny,{size:12}),"Sign Out"]})})]})]}),n.jsxs(ss,{children:[n.jsx(ls,{icon:n.jsx(Mf,{size:14}),title:"Financial Health Check"}),n.jsxs("div",{className:"px-4 py-4 space-y-3",children:[n.jsx(Ta,{label:"Status",children:n.jsx("span",{className:`text-xs font-semibold ${m?"text-emerald-400":"text-[var(--accent-amber)]"}`,children:m?"Completed":"Not completed"})}),n.jsx("div",{className:"flex justify-end pt-1",children:n.jsxs("button",{onClick:()=>s("/health-check"),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-lg border border-[var(--border)] text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[n.jsx(Mf,{size:12}),m?"Update Answers":"Take Health Check"]})})]})]}),n.jsxs(ss,{children:[n.jsx(ls,{icon:n.jsx(e5,{size:14}),title:"Data & Sync"}),n.jsxs("div",{className:"px-4 py-4 space-y-3",children:[n.jsx(Ta,{label:"Last synced",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:q(o.masterDataLastSync)}),o._stale&&n.jsx("span",{className:"text-[10px] font-bold text-amber-600 px-1.5 py-0.5 rounded bg-amber-100 dark:bg-amber-900/30",children:"STALE"})]})}),o._navDataDate&&n.jsx(Ta,{label:"NAV data as of",children:n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:o._navDataDate})}),n.jsx(Ta,{label:"Auto-refresh",children:n.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Daily at ~6:30 AM"})}),n.jsxs("div",{className:"flex items-center justify-between pt-1",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Refresh MF NAVs, ATH & Stock prices"}),n.jsxs("button",{onClick:se,disabled:E,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-lg bg-violet-600 text-white hover:bg-violet-500 transition-colors disabled:opacity-50",children:[n.jsx(vl,{size:12,className:E?"animate-spin":""}),E?"Refreshing...":"Refresh Now"]})]}),B&&n.jsx("div",{className:`text-xs px-3 py-2 rounded-lg ${B.error?"bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400":"bg-green-50 text-green-600 dark:bg-green-900/20 dark:text-green-400"}`,children:B.error?"Failed: "+B.error:`Done  MF: ${B.mf?.count||0} | ATH: ${B.ath?.count||0} | Stocks: ${B.stocks?.count||0} (${B.duration})`})]})]}),n.jsxs(ss,{children:[n.jsx(ls,{icon:n.jsx(Df,{size:14}),title:"Appearance"}),n.jsx("div",{className:"px-4 py-4",children:n.jsx(Ta,{label:"Theme",children:n.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-3 py-1.5 text-xs font-semibold rounded-lg border border-[var(--border)] bg-[var(--bg-inset)] text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[l==="dark"?n.jsx(jy,{size:12}):n.jsx(Df,{size:12}),l==="dark"?"Dark":"Light"]})})})]}),n.jsxs(ss,{children:[n.jsx(ls,{icon:n.jsx(A5,{size:14}),title:"Email Reports"}),n.jsxs("div",{className:"px-4 py-4 space-y-3",children:[n.jsx(Ta,{label:"Frequency",children:n.jsx(wf,{value:M,onChange:C,options:["Daily","Weekly","Monthly","None"]})}),M!=="None"&&n.jsx(Ta,{label:"Send time",children:n.jsx(wf,{value:y,onChange:N,options:Array.from({length:24},(J,z)=>String(z).padStart(2,"0")),suffix:":00"})}),M==="Weekly"&&n.jsx(Ta,{label:"Day",children:n.jsx(wf,{value:D,onChange:g,options:Fc.slice(1).concat(Fc[0])})}),n.jsx("div",{className:"flex justify-end pt-1",children:n.jsx("button",{onClick:A,disabled:_,className:"px-4 py-1.5 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50",children:_?"Saving...":U?"Saved!":"Save"})}),w.length>0&&n.jsx(n.Fragment,{children:n.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"Send report to"}),n.jsx("div",{className:"space-y-2",children:w.map(J=>n.jsx(lT,{member:J,onToggle:d},J.memberId))})]})}),w.length===0&&n.jsx("p",{className:"text-xs text-[var(--text-dim)] pt-1",children:"Add family members to configure email recipients."})]})]}),n.jsxs(ss,{children:[n.jsx(ls,{icon:n.jsx(Vc,{size:14}),title:"Privacy"}),n.jsxs("div",{className:"px-4 py-4 space-y-3",children:[n.jsx(Ta,{label:"Mask sensitive data",children:n.jsx("button",{onClick:b,className:`relative w-9 h-5 rounded-full transition-colors shrink-0 ${v?"bg-amber-500":"bg-[var(--bg-inset)] border border-[var(--border)]"}`,children:n.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full transition-all ${v?"left-[18px] bg-white":"left-0.5 bg-[var(--text-dim)]"}`})})}),n.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[v?"Sensitive data is hidden. ":"","Masks PAN, Aadhaar, mobile, email, account numbers, client IDs, and policy numbers across the app. Use the ",v?n.jsx(Vc,{size:11,className:"inline text-amber-400"}):n.jsx(ep,{size:11,className:"inline"})," icon in the header to quickly toggle."]}),v&&n.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[n.jsx(Vc,{size:14,className:"text-amber-400 shrink-0"}),n.jsx("p",{className:"text-xs text-amber-400 font-medium",children:"Data masking is active  safe for screen sharing"})]})]})]}),n.jsxs(ss,{children:[n.jsx(ls,{icon:n.jsx(f5,{size:14}),title:"Display"}),n.jsxs("div",{className:"px-4 py-4 space-y-3",children:[n.jsx(Ta,{label:"Currency",children:n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"INR ()"})}),n.jsx(Ta,{label:"Date format",children:n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"DD/MM/YYYY"})})]})]})]})}function ss({children:s}){return n.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:s})}function ls({icon:s,title:l}){return n.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-[var(--text-muted)]",children:s}),n.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:l})]})})}function Ta({label:s,children:l}){return n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)] shrink-0",children:s}),l]})}function wf({value:s,onChange:l,options:r,suffix:t}){return n.jsxs("div",{className:"relative",children:[n.jsx("select",{value:s,onChange:o=>l(o.target.value),className:"appearance-none pl-3 pr-7 py-1.5 text-xs font-semibold bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-violet-500 cursor-pointer",children:r.map(o=>n.jsxs("option",{value:o,children:[o,t||""]},o))}),n.jsx(Er,{size:10,className:"absolute right-2 top-1/2 -translate-y-1/2 text-[var(--text-dim)] pointer-events-none"})]})}function lT({member:s,onToggle:l}){const{mv:r}=Cn(),t=s.includeInEmailReports==="Yes"||s.includeInEmailReports===!0,[o,u]=S.useState(!1);async function d(){u(!0);try{await l(s.memberId,{...s,includeInEmailReports:t?"No":"Yes"})}catch{}finally{u(!1)}}return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx("div",{className:"w-6 h-6 rounded-full bg-violet-100 dark:bg-violet-900/30 flex items-center justify-center shrink-0",children:n.jsx("span",{className:"text-[10px] font-bold text-violet-600",children:s.memberName?.charAt(0)?.toUpperCase()})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate",children:s.memberName}),s.email&&n.jsx("p",{className:"text-[10px] text-[var(--text-dim)] truncate",children:r(s.email,"email")})]})]}),n.jsx("button",{onClick:d,disabled:o,className:`relative w-9 h-5 rounded-full transition-colors shrink-0 disabled:opacity-50 ${t?"bg-violet-500":"bg-[var(--bg-inset)] border border-[var(--border)]"}`,children:n.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full transition-all ${t?"left-[18px] bg-white":"left-0.5 bg-[var(--text-dim)]"}`})})]})}const iT=["SIP Due Date","Insurance Renewal","FD Maturity","Loan EMI","Investment Review","Custom"].map(s=>({value:s,label:s})),oT=[{value:"One-time",label:"One-time"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"},{value:"Yearly",label:"Yearly"}],cT=[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}];function uT({initial:s,onSave:l,onDelete:r,onCancel:t}){const o=!!s,{activeMembers:u}=Ye(),d=u.map(y=>({value:y.memberId,label:y.memberName})),[m,x]=S.useState({reminderType:s?.reminderType||"",title:s?.title||"",description:s?.description||"",familyMemberId:s?.familyMemberId||"",dueDate:s?.dueDate||"",advanceNoticeDays:s?.advanceNoticeDays?.toString()||"7",frequency:s?.frequency||"One-time",priority:s?.priority||"Medium",status:s?.status||"Pending"}),[p,v]=S.useState({}),[b,j]=S.useState(!1);function w(y,N){x(D=>({...D,[y]:N})),v(D=>({...D,[y]:void 0}))}function M(){const y={};return m.reminderType||(y.reminderType="Required"),m.title.trim()||(y.title="Required"),m.familyMemberId||(y.familyMemberId="Required"),m.dueDate||(y.dueDate="Required"),v(y),Object.keys(y).length===0}async function C(){if(M()){j(!0);try{await l({...m,advanceNoticeDays:Number(m.advanceNoticeDays)||7})}finally{j(!1)}}}return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Reminder Type",required:!0,error:p.reminderType,children:n.jsx(_e,{value:m.reminderType,onChange:y=>w("reminderType",y),options:iT,placeholder:"Select type..."})}),n.jsx(ee,{label:"Title",required:!0,error:p.title,children:n.jsx(pe,{value:m.title,onChange:y=>w("title",y),placeholder:"e.g., HDFC SIP Due"})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(ee,{label:"Family Member",required:!0,error:p.familyMemberId,children:n.jsx(_e,{value:m.familyMemberId,onChange:y=>w("familyMemberId",y),options:d,placeholder:"Select member..."})}),n.jsx(ee,{label:"Due Date",required:!0,error:p.dueDate,children:n.jsx(pe,{type:"date",value:m.dueDate,onChange:y=>w("dueDate",y)})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsx(ee,{label:"Frequency",children:n.jsx(_e,{value:m.frequency,onChange:y=>w("frequency",y),options:oT})}),n.jsx(ee,{label:"Priority",children:n.jsx(_e,{value:m.priority,onChange:y=>w("priority",y),options:cT})}),n.jsx(ee,{label:"Advance Notice (days)",children:n.jsx(pe,{type:"number",value:m.advanceNoticeDays,onChange:y=>w("advanceNoticeDays",y),placeholder:"7"})})]}),o&&n.jsx(ee,{label:"Status",children:n.jsx(_e,{value:m.status,onChange:y=>w("status",y),options:[{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"}]})}),n.jsx(ee,{label:"Description",children:n.jsx(kl,{value:m.description,onChange:y=>w("description",y),placeholder:"Optional details...",rows:2})}),n.jsxs("div",{className:"flex items-center justify-between",children:[o&&r?n.jsx(Dn,{onClick:r,label:"Delete"}):n.jsx("div",{}),n.jsx(aa,{onCancel:t,onSubmit:C,submitLabel:o?"Update Reminder":"Add Reminder",loading:b})]})]})}const Bc={"SIP Due Date":"bg-violet-500/15 text-[var(--accent-violet)]","Insurance Renewal":"bg-amber-500/15 text-[var(--accent-amber)]","FD Maturity":"bg-blue-500/15 text-[var(--accent-blue)]","Loan EMI":"bg-rose-500/15 text-[var(--accent-rose)]","Investment Review":"bg-emerald-500/15 text-emerald-400",Custom:"bg-slate-500/15 text-[var(--text-muted)]"},rg={High:"bg-rose-500",Medium:"bg-amber-500",Low:"bg-blue-500"};function dl(s){if(!s)return 1/0;const l=new Date(s)-new Date;return Math.ceil(l/(1440*60*1e3))}function dT(){const{selectedMember:s,member:l}=Qt(),{reminderList:r,addReminder:t,updateReminder:o,deleteReminder:u}=Ye(),{showToast:d,showBlockUI:m,hideBlockUI:x}=Sn(),[p,v]=S.useState(null),b=S.useMemo(()=>{const g=r.filter(_=>_.isActive!==!1);return s==="all"?g:g.filter(_=>_.familyMemberId===s)},[r,s]),j=b.filter(g=>dl(g.dueDate)<0).length,w=b.filter(g=>{const _=dl(g.dueDate);return _>=0&&_<=7}).length,M=b.filter(g=>{const _=dl(g.dueDate);return _>7&&_<=30}).length,C=[...b].sort((g,_)=>{const P=dl(g.dueDate),U=dl(_.dueDate);return P-U});async function y(g){m("Saving...");try{p?.edit?await o(p.edit.reminderId,g):await t(g),d(p?.edit?"Reminder updated":"Reminder added"),v(null)}catch(_){d(_.message||"Failed to save reminder","error")}finally{x()}}async function N(){if(p?.edit&&confirm("Delete this reminder?")){m("Deleting...");try{await u(p.edit.reminderId),d("Reminder deleted"),v(null)}catch(g){d(g.message||"Failed to delete reminder","error")}finally{x()}}}function D(g){const _=dl(g);return _<0?{label:`${Math.abs(_)}d overdue`,cls:"bg-rose-500/20 text-[var(--accent-rose)]"}:_===0?{label:"Today",cls:"bg-rose-500/20 text-[var(--accent-rose)]"}:_<=7?{label:`${_}d`,cls:"bg-amber-500/20 text-[var(--accent-amber)]"}:_<=30?{label:`${_}d`,cls:"bg-blue-500/20 text-[var(--accent-blue)]"}:{label:`${_}d`,cls:"bg-slate-500/20 text-[var(--text-muted)]"}}return n.jsxs("div",{className:"space-y-4",children:[b.length===0?n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[n.jsx(TS,{size:32,className:"text-[var(--text-dim)]"}),n.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No reminders",l?` for ${l.memberName}`:""]}),n.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add a reminder"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[n.jsx(Hc,{label:"Active",value:b.length}),j>0&&n.jsx(Hc,{label:"Overdue",value:j,color:"rose"}),w>0&&n.jsx(Hc,{label:"Due This Week",value:w,color:"amber"}),n.jsx(Hc,{label:"Next 30 Days",value:M})]}),n.jsx("div",{className:"flex items-center justify-end px-1",children:n.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[n.jsx(ja,{size:14})," Add Reminder"]})}),n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[n.jsx("div",{className:"hidden sm:block overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm min-w-[680px]",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[n.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Reminder"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),!l&&n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),n.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Due Date"}),n.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Frequency"}),n.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),n.jsx("tbody",{children:C.map(g=>{const _=D(g.dueDate);return n.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[n.jsx("td",{className:"py-2.5 px-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${rg[g.priority]||"bg-slate-400"}`}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:g.title}),g.description&&n.jsx("p",{className:"text-xs text-[var(--text-dim)] truncate max-w-[200px]",children:g.description})]})]})}),n.jsx("td",{className:"py-2.5 px-3",children:n.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Bc[g.reminderType]||Bc.Custom}`,children:g.reminderType})}),!l&&n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:g.familyMemberName}),n.jsx("td",{className:"py-2.5 px-3 text-center",children:n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:g.dueDate}),n.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${_.cls}`,children:_.label})]})}),n.jsx("td",{className:"py-2.5 px-3 text-center text-xs text-[var(--text-muted)]",children:g.frequency}),n.jsx("td",{className:"py-2.5 px-3 text-center",children:n.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${g.status==="Pending"?"bg-amber-500/15 text-[var(--accent-amber)]":"bg-emerald-500/15 text-emerald-400"}`,children:g.status})}),n.jsx("td",{className:"py-2.5 px-2",children:n.jsx("button",{onClick:()=>v({edit:g}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:n.jsx(wn,{size:12})})})]},g.reminderId)})})]})}),n.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:C.map(g=>{const _=D(g.dueDate);return n.jsxs("div",{onClick:()=>v({edit:g}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${rg[g.priority]||"bg-slate-400"}`}),n.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:g.title})]}),n.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ml-2 ${Bc[g.reminderType]||Bc.Custom}`,children:g.reminderType})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[g.familyMemberName,"  ",g.frequency]}),n.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${_.cls}`,children:_.label})]})]},g.reminderId)})})]})]}),n.jsx(It,{open:!!p,onClose:()=>v(null),title:p?.edit?"Edit Reminder":"Add Reminder",wide:!0,children:n.jsx(uT,{initial:p?.edit||void 0,onSave:y,onDelete:p?.edit?N:void 0,onCancel:()=>v(null)})})]})}function Hc({label:s,value:l,color:r}){const t=r==="rose"?"text-[var(--accent-rose)]":r==="amber"?"text-[var(--accent-amber)]":"text-[var(--text-primary)]";return n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),n.jsx("p",{className:`text-sm font-bold tabular-nums ${t}`,children:l})]})}const sg={BUY:"bg-emerald-500/15 text-emerald-400",SELL:"bg-rose-500/15 text-[var(--accent-rose)]"},mT={INITIAL:"bg-violet-500/15 text-[var(--accent-violet)]",SIP:"bg-blue-500/15 text-[var(--accent-blue)]",LUMPSUM:"bg-emerald-500/15 text-emerald-400",WITHDRAWAL:"bg-amber-500/15 text-[var(--accent-amber)]",SWITCH:"bg-orange-500/15 text-[var(--accent-orange)]"};function fT(){const{selectedMember:s}=Qt(),{mfTransactions:l,mfPortfolios:r,stockTransactions:t,stockPortfolios:o}=Ye(),[u,d]=S.useState("mf"),[m,x]=S.useState("all"),p=S.useMemo(()=>{let C=[...l].sort((y,N)=>new Date(N.date)-new Date(y.date));if(s!=="all"){const y=new Set(r.filter(N=>N.ownerId===s).map(N=>N.portfolioId));C=C.filter(N=>y.has(N.portfolioId))}return m!=="all"&&(C=C.filter(y=>y.type===m)),C},[l,r,s,m]),v=S.useMemo(()=>{let C=[...t].sort((y,N)=>new Date(N.date)-new Date(y.date));if(s!=="all"){const y=new Set(o.filter(N=>N.ownerId===s).map(N=>N.portfolioId));C=C.filter(N=>y.has(N.portfolioId))}return m!=="all"&&(C=C.filter(y=>y.type===m)),C},[t,o,s,m]),b=u==="mf"?p:v,j=b.filter(C=>C.type==="BUY").reduce((C,y)=>C+(y.totalAmount||0),0),w=b.filter(C=>C.type==="SELL").reduce((C,y)=>C+(y.totalAmount||0),0),M=b.reduce((C,y)=>C+(y.gainLoss||y.realizedPL||0),0);return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[n.jsx(Yc,{label:"Transactions",value:b.length}),n.jsx(Yc,{label:"Total Bought",value:K(j)}),n.jsx(Yc,{label:"Total Sold",value:K(w)}),n.jsx(Yc,{label:"Realized P&L",value:`${M>=0?"+":""}${K(Math.abs(M))}`,positive:M>=0,bold:!0})]}),n.jsxs("div",{className:"flex items-center justify-between px-1",children:[n.jsx("div",{className:"flex gap-1",children:["mf","stocks"].map(C=>n.jsx("button",{onClick:()=>d(C),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${u===C?"bg-violet-500/20 text-violet-400 border border-violet-500/30":"text-[var(--text-dim)] hover:text-[var(--text-primary)] border border-transparent"}`,children:C==="mf"?"Mutual Funds":"Stocks"},C))}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(d5,{size:12,className:"text-[var(--text-dim)]"}),["all","BUY","SELL"].map(C=>n.jsx("button",{onClick:()=>x(C),className:`px-2 py-1 text-xs font-semibold rounded transition-colors ${m===C?"bg-[var(--bg-card)] text-[var(--text-primary)] border border-[var(--border)]":"text-[var(--text-dim)] hover:text-[var(--text-muted)]"}`,children:C==="all"?"All":C},C))]})]}),n.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:b.length===0?n.jsxs("div",{className:"py-12 flex flex-col items-center gap-3",children:[n.jsx(vy,{size:32,className:"text-[var(--text-dim)]"}),n.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions found"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden sm:block overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[n.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:u==="mf"?"Fund":"Stock"}),n.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Portfolio"}),n.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:u==="mf"?"Units":"Qty"}),n.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:u==="mf"?"NAV":"Price"}),n.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),n.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"})]})}),n.jsx("tbody",{children:b.map(C=>{const y=C.gainLoss||C.realizedPL||0;return n.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[n.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-muted)] tabular-nums",children:C.date}),n.jsx("td",{className:"py-2.5 px-3",children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${sg[C.type]||""}`,children:C.type}),C.transactionType&&n.jsx("span",{className:`text-[10px] font-semibold px-1 py-0.5 rounded ${mT[C.transactionType]||""}`,children:C.transactionType})]})}),n.jsxs("td",{className:"py-2.5 px-3",children:[n.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate max-w-[180px]",children:C.fundName||C.companyName}),n.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:C.fundCode||C.symbol})]}),n.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)]",children:C.portfolioName||""}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:(C.units||C.quantity||0).toFixed(u==="mf"?2:0)}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:K(C.price||C.pricePerShare||0)}),n.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(C.totalAmount||0)}),n.jsx("td",{className:"py-2.5 px-3 text-right",children:y!==0?n.jsxs("span",{className:`text-xs font-semibold tabular-nums ${y>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[y>=0?"+":"",K(Math.abs(y))]}):n.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})]},C.transactionId)})})]})}),n.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(C=>(C.gainLoss||C.realizedPL,n.jsxs("div",{className:"px-4 py-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:C.fundName||C.companyName}),n.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded shrink-0 ${sg[C.type]||""}`,children:C.type})]}),n.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[C.date,"  ",C.portfolioName]}),n.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[n.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[(C.units||C.quantity||0).toFixed(u==="mf"?2:0)," @ ",K(C.price||C.pricePerShare||0)]}),n.jsx("span",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(C.totalAmount||0)})]})]},C.transactionId)))})]})})]})}function Yc({label:s,value:l,positive:r,bold:t}){return n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),n.jsx("p",{className:`text-sm tabular-nums ${t?"font-bold":"font-semibold"} ${r===void 0?"text-[var(--text-primary)]":r?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:l})]})}const mn=[{id:"healthIns",question:"Does your family have Health Insurance?",tip:"50L to 1Cr family floater recommended (considering inflation & future expenses)",category:"Insurance"},{id:"termLife",question:"Do you have adequate Term Life Insurance?",tip:"Recommended: 10-15x annual income",category:"Insurance"},{id:"emergencyFund",question:"Do you have an Emergency Fund?",tip:"6-12 months of monthly expenses in liquid assets",category:"Savings"},{id:"familyAware",question:"Is your family aware of all investments?",tip:"Ensure nominees and family know about all assets",category:"Planning"},{id:"hasWill",question:"Do you have a Will?",tip:"Legal document for asset distribution",category:"Planning"},{id:"nominees",question:"Have you updated Nominees on all accounts?",tip:"Bank, demat, insurance, MF  all should have nominees",category:"Planning"},{id:"goals",question:"Do you have clearly defined Financial Goals?",tip:"Retirement, education, home  with target amounts and dates",category:"Goals"}];function pT(){const s=bs(),{members:l,insurancePolicies:r,goalList:t,otherInvList:o,healthCheckCompleted:u,completeHealthCheck:d}=Ye(),m=l.filter(B=>B.status==="Active"),x=u===!1,[p,v]=S.useState(!1),[b,j]=S.useState(!0),[w,M]=S.useState(null),C=S.useMemo(()=>{const B={},W=r.filter(J=>J.policyType==="Health"&&J.status==="Active");B.healthIns=W.length>0;const A=r.filter(J=>J.policyType==="Term Life"&&J.status==="Active");B.termLife=A.length>0;const se=t.filter(J=>J.goalType==="Emergency Fund"&&J.isActive),q=o.filter(J=>J.investmentType==="FD"||J.investmentType==="PPF");return B.emergencyFund=se.length>0||q.length>0,B.goals=t.filter(J=>J.isActive).length>=2,B},[r,t,o]);S.useEffect(()=>{let B=!1;async function W(){const A=await ry("healthCheckAnswers");!B&&A&&(M(A),j(!1));try{const se=await ny();!B&&se&&(M(se),va("healthCheckAnswers",se))}catch{}B||j(!1)}return W(),()=>{B=!0}},[]);const[y,N]=S.useState(()=>{const B={};return mn.forEach(W=>{B[W.id]=C[W.id]?"yes":""}),B});S.useEffect(()=>{w&&N(B=>{const W={...B};return mn.forEach(A=>{const se=w[A.id];se==="Yes"?W[A.id]="yes":se==="No"&&(W[A.id]="no")}),W})},[w]);const D=Object.values(y).filter(B=>B).length,g=Object.values(y).filter(B=>B==="yes").length,_=D===mn.length,P=D>0?Math.round(g/mn.length*100):0;function U(){return P>=80?"text-emerald-400":P>=50?"text-[var(--accent-amber)]":"text-[var(--accent-rose)]"}function G(){return P>=80?"Excellent":P>=60?"Good":P>=40?"Needs Work":"Critical"}const E=S.useMemo(()=>{const B=[];return y.healthIns!=="yes"&&B.push({severity:"critical",text:"Get Health Insurance for your family",action:"Minimum 5L cover recommended"}),y.termLife!=="yes"&&B.push({severity:"critical",text:"Get Term Life Insurance (10-15x annual income)",action:"Compare plans online"}),y.emergencyFund!=="yes"&&B.push({severity:"warning",text:"Build an Emergency Fund",action:"Save 6-12 months expenses in liquid fund/FD"}),y.familyAware!=="yes"&&B.push({severity:"warning",text:"Share investment details with family",action:"Create a document with all account info"}),y.hasWill!=="yes"&&B.push({severity:"warning",text:"Create a legal Will",action:"Consult a lawyer for Will registration"}),y.nominees!=="yes"&&B.push({severity:"warning",text:"Update nominees on all accounts",action:"Check bank, demat, insurance, MF accounts"}),y.goals!=="yes"&&B.push({severity:"info",text:"Define clear financial goals",action:"Use the Goal Planner to set targets"}),B},[y]),L=S.useCallback(async()=>{if(_){v(!0);try{const B={};mn.forEach(W=>{B[W.id]=y[W.id]==="yes"?"Yes":"No"}),B.score=g,B.total=mn.length,await d(B),s("/dashboard")}catch(B){console.error("Failed to save health check:",B)}finally{v(!1)}}},[_,y,g,d,s]);return n.jsxs("div",{className:"space-y-4 max-w-2xl mx-auto",children:[x&&n.jsxs("div",{className:"bg-violet-500/10 border border-violet-500/20 rounded-xl p-4",children:[n.jsx("h2",{className:"text-base font-bold text-violet-400 mb-1",children:"Welcome to Capital Friends!"}),n.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Before you start, please complete this quick Financial Health Check. It takes less than a minute and helps you understand where your family stands financially."})]}),n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(hy,{size:16,className:"text-violet-400"}),n.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:"Financial Health Score"})]}),n.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[D,"/",mn.length," answered"]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"relative w-20 h-20",children:[n.jsxs("svg",{className:"w-20 h-20 -rotate-90",viewBox:"0 0 36 36",children:[n.jsx("path",{d:"M18 2.0845a 15.9155 15.9155 0 0 1 0 31.831a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"var(--border)",strokeWidth:"3"}),n.jsx("path",{d:"M18 2.0845a 15.9155 15.9155 0 0 1 0 31.831a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:`${P}, 100`,className:U(),strokeLinecap:"round"})]}),n.jsxs("span",{className:`absolute inset-0 flex items-center justify-center text-lg font-bold ${U()}`,children:[P,"%"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:`text-base font-bold ${U()}`,children:G()}),n.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:[g," of ",mn.length," checks passed"]}),n.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[m.length," family members tracked"]})]})]})]}),n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[n.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:n.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Health Check Questions"})}),n.jsx("div",{className:"divide-y divide-[var(--border-light)]",children:mn.map((B,W)=>n.jsxs("div",{className:"px-4 py-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"text-sm text-[var(--text-primary)]",children:[n.jsxs("span",{className:"text-[var(--text-dim)] mr-2",children:[W+1,"."]}),B.question]}),n.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5 ml-5",children:B.tip})]}),n.jsxs("div",{className:"flex gap-1 shrink-0",children:[n.jsx("button",{onClick:()=>N(A=>({...A,[B.id]:"yes"})),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${y[B.id]==="yes"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"bg-[var(--bg-inset)] text-[var(--text-dim)] border border-[var(--border)] hover:text-[var(--text-primary)]"}`,children:"Yes"}),n.jsx("button",{onClick:()=>N(A=>({...A,[B.id]:"no"})),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${y[B.id]==="no"?"bg-rose-500/20 text-[var(--accent-rose)] border border-rose-500/30":"bg-[var(--bg-inset)] text-[var(--text-dim)] border border-[var(--border)] hover:text-[var(--text-primary)]"}`,children:"No"})]})]}),C[B.id]&&n.jsx("p",{className:"text-xs text-violet-400 mt-1 ml-5",children:"Auto-detected from your data"})]},B.id))})]}),E.length>0&&_&&n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[n.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:n.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Recommendations"})}),n.jsx("div",{className:"divide-y divide-[var(--border-light)]",children:E.map((B,W)=>{const A=B.severity==="critical"?n.jsx(xy,{size:14,className:"text-[var(--accent-rose)]"}):B.severity==="warning"?n.jsx(Cu,{size:14,className:"text-[var(--accent-amber)]"}):n.jsx(qS,{size:14,className:"text-[var(--accent-blue)]"});return n.jsxs("div",{className:"flex items-start gap-3 px-4 py-3",children:[n.jsx("span",{className:"shrink-0 mt-0.5",children:A}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-[var(--text-primary)]",children:B.text}),n.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:B.action})]})]},W)})})]}),n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[!_&&n.jsxs("p",{className:"text-xs text-[var(--accent-amber)] mb-3",children:["Please answer all ",mn.length," questions before saving."]}),n.jsx("button",{onClick:L,disabled:!_||p,className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg text-sm font-bold transition-colors ${_&&!p?"bg-violet-600 hover:bg-violet-500 text-white":"bg-[var(--bg-inset)] text-[var(--text-dim)] cursor-not-allowed"}`,children:p?n.jsxs(n.Fragment,{children:[n.jsx(yy,{size:16,className:"animate-spin"}),"Saving..."]}):x?n.jsxs(n.Fragment,{children:["Save & Continue to Dashboard",n.jsx(kS,{size:16})]}):n.jsxs(n.Fragment,{children:[n.jsx(q5,{size:16}),"Update Health Check"]})})]})]})}function xT(){return n.jsxs("div",{className:"space-y-4 max-w-lg mx-auto",children:[n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-5 text-center",children:[n.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-indigo-600 flex items-center justify-center mx-auto mb-3",children:n.jsx("span",{className:"text-xl font-bold text-white",children:"CF"})}),n.jsx("h1",{className:"text-lg font-bold text-[var(--text-primary)]",children:"Capital Friends"}),n.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:"Family Portfolio Management"}),n.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-2",children:"v2.0.0"})]}),n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[n.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:n.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Features"})}),n.jsx("div",{className:"px-4 py-3 space-y-2",children:["Track Mutual Funds, Stocks & Other Investments","Family member-wise portfolio management","ATH-based Buy Opportunities","Smart Rebalancing with threshold alerts","Goal planning with portfolio mapping","Insurance, Liabilities & Bank Accounts","Financial Health Check questionnaire","Reminders for SIPs, renewals & due dates","Email reports with detailed breakdowns"].map(s=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-500 shrink-0"}),n.jsx("p",{className:"text-xs text-[var(--text-secondary)]",children:s})]},s))})]}),n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[n.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(nu,{size:12,className:"text-pink-400"}),n.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Support Developer"})]})}),n.jsxs("div",{className:"px-4 py-4 text-center",children:[n.jsx("p",{className:"text-sm text-[var(--text-secondary)] mb-3",children:"If Capital Friends helps you manage your family finances, consider supporting the developer."}),n.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-4 py-3 border border-[var(--border)]",children:[n.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-1",children:"UPI"}),n.jsx("p",{className:"text-sm font-mono font-semibold text-[var(--text-primary)] select-all",children:"jagadeeshmanne.hdfc@kphdfc"})]}),n.jsxs("div",{className:"flex items-center justify-center gap-1 mt-3",children:[n.jsx(KS,{size:12,className:"text-[var(--accent-amber)]"}),n.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Buy me a chai!"})]})]})]}),n.jsxs("div",{className:"text-center py-2",children:[n.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Made with ",n.jsx(nu,{size:10,className:"inline text-pink-400 mx-0.5"})," by Jagadeesh Manne"]}),n.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:"Built with React + Vite + Tailwind CSS"})]})]})}function hT(){return Date.now().toString(36).toUpperCase()}function vT(){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZ",l=r=>Array.from({length:r},()=>s[Math.floor(Math.random()*26)]).join("");return l(5)+Math.floor(1e3+Math.random()*9e3)+l(1)}function bT(){return String(Math.floor(2e11+Math.random()*8e11))}function lg(){return"9"+String(Math.floor(1e8+Math.random()*9e8))}function gT(){return String(Math.floor(1e9+Math.random()*9e9))}function yT(){const s=hT();return{member:{memberName:`Test Member ${s}`,relationship:"Self",pan:vT(),aadhar:bT(),email:`test-${s.toLowerCase()}@example.com`,mobile:lg(),includeInEmailReports:!0},bank:{accountName:`Test Savings ${s}`,bankName:"Test Bank",accountNumber:gT(),ifscCode:"TEST0001234",accountType:"Savings",branchName:"Test Branch"},investmentAccount:{accountName:`Test Demat ${s}`,accountType:"Demat",platformBroker:"Test Broker Platform",accountClientId:`CLI-${s}`,registeredEmail:`test-${s.toLowerCase()}@example.com`,registeredPhone:lg()},insurance:{policyType:"Term Life",company:"Test Insurance Co",policyNumber:`POL-${s}`,policyName:`Test Term Plan ${s}`,sumAssured:5e6,nominee:"Test Nominee",dynamicFields:{Premium:15e3,"Premium Frequency":"Annual"}},liability:{liabilityType:"Home Loan",lenderName:"Test Bank",outstandingBalance:45e5,dynamicFields:{"Principal Amount":5e6,"Interest Rate":8.5,"EMI Amount":45e3},notes:`Test liability ${s}`},otherInvestment:{investmentType:"Fixed Deposit",investmentName:`Test FD ${s}`,investedAmount:1e5,currentValue:105e3,investmentCategory:"Debt"},stockPortfolio:{portfolioName:`Test Stock Portfolio ${s}`,broker:"Test Broker"},reminder:{title:`Test Reminder ${s}`,description:"Automated test reminder",dueDate:new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0],category:"Insurance",priority:"Medium"},goal:{goalName:`Test Goal ${s}`,goalType:"Custom",targetAmount:1e6,targetDate:"2040-01-01",priority:"Medium",expectedInflation:.06,expectedCAGR:.12}}}function NT({status:s,text:l}){const r={pass:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",fail:"bg-rose-500/20 text-rose-400 border-rose-500/30",skip:"bg-amber-500/20 text-amber-400 border-amber-500/30",running:"bg-blue-500/20 text-blue-400 border-blue-500/30",pending:"bg-gray-500/20 text-gray-400 border-gray-500/30"};return n.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded border ${r[s]||r.pending}`,children:l||s.toUpperCase()})}function jT(){const{user:s}=gs(),[l,r]=S.useState([]),[t,o]=S.useState(!1),[u,d]=S.useState(null),[m,x]=S.useState(!1),p=S.useCallback((y,N,D="")=>{r(g=>[...g,{test:y,status:N,detail:D,time:new Date().toLocaleTimeString()}])},[]),v=S.useCallback((y,N="")=>{r(D=>{const g=[...D];return g.length>0&&(g[g.length-1]={...g[g.length-1],status:y,detail:N}),g})},[]),b=async()=>{x(!0),d(null);try{const y=await ye("test:diagnose");d(y)}catch(y){d({error:y.message})}finally{x(!1)}},j=async()=>{o(!0),r([]);const y=yT();let N=null,D=null,g=null,_=null,P=null,U=null,G=null,E=null,L=null,B=null;try{p("API Echo Test","running");try{const A=await ye("test:echo",{hello:"world"});A&&A.echo&&A.echo.hello==="world"?v("pass","Echo response received correctly"):v("fail","Unexpected response: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Diagnostics","running");try{const A=await ye("test:diagnose"),se=Object.entries(A.sheets||{}).filter(([,J])=>!J.exists).map(([J])=>J);if(se.length>0)v("fail",`Missing sheets: ${se.join(", ")}`);else{const J=Object.keys(A.sheets).length;v("pass",`All ${J} sheets exist. SpreadsheetId: ${A.spreadsheetId}`)}const q=Object.entries(A.dataTests||{}).filter(([,J])=>!J.success).map(([J,z])=>`${J}: ${z.error}`);q.length>0&&p("Data Function Errors","fail",q.join("; "))}catch(A){v("fail",A.message)}p("Load All Data (bulk)","running");try{const A=await au(),se=Object.entries(A).map(([q,J])=>`${q}: ${Array.isArray(J)?J.length:"?"}`);v("pass",se.join(", "))}catch(A){v("fail",A.message)}p("Members  Create","running");try{const A=await Tg(y.member);N=A?.memberId,D=y.member.memberName,N?v("pass",`Created: ${N}`):v("fail","No memberId returned: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Members  List","running");try{const A=await Ag();Array.isArray(A)&&A.some(q=>q.memberId===N)?v("pass",`Found ${N} in ${A.length} member(s)`):v("fail",`Member ${N} not found. Got ${Array.isArray(A)?A.length:0} members: ${JSON.stringify(A).substring(0,200)}`)}catch(A){v("fail",A.message)}if(N){p("Members  Update","running");try{await Eg({...y.member,memberId:N,memberName:"Updated Test Member"}),D="Updated Test Member",v("pass",'Updated name to "Updated Test Member"')}catch(A){v("fail",A.message)}}p("Banks  Create","running");try{const A=await Rg({...y.bank,memberId:N||"FM-001"});g=A?.accountId,v(g?"pass":"fail",g?`Created: ${g}`:"No accountId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Banks  List","running");try{const A=await Og();v("pass",`${Array.isArray(A)?A.length:0} account(s)`)}catch(A){v("fail",A.message)}p("Investment Accounts  Create","running");try{const A=await Pg({...y.investmentAccount,memberId:N||"FM-001",bankAccountId:g||"BA-001"});_=A?.accountId,v(_?"pass":"fail",_?`Created: ${_}`:"No accountId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Investment Accounts  List","running");try{const A=await Lg();v("pass",`${Array.isArray(A)?A.length:0} account(s)`)}catch(A){v("fail",A.message)}p("Insurance  Create","running");try{const A=await Ug({...y.insurance,memberId:N||"FM-001",insuredMember:D||"Test Member"});P=A?.policyId,v(P?"pass":"fail",P?`Created: ${P}`:"No policyId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Insurance  List","running");try{const A=await Yg();v("pass",`${Array.isArray(A)?A.length:0} policy/policies`)}catch(A){v("fail",A.message)}p("Liabilities  Create","running");try{const A=await Vg({...y.liability,familyMember:N||"FM-001"});U=A?.liabilityId,v(U?"pass":"fail",U?`Created: ${U}`:"No liabilityId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Liabilities  List","running");try{const A=await $g();v("pass",`${Array.isArray(A)?A.length:0} liability/liabilities`)}catch(A){v("fail",A.message)}p("Other Investments  Create","running");try{const A=await Kg({...y.otherInvestment,familyMember:N||"FM-001"});G=A?.investmentId,v(G?"pass":"fail",G?`Created: ${G}`:"No investmentId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Other Investments  List","running");try{const A=await Qg();v("pass",`${Array.isArray(A)?A.length:0} investment(s)`)}catch(A){v("fail",A.message)}p("Stock Portfolios  Create","running");try{const A=await Zg({...y.stockPortfolio,owner:N||"FM-001"});E=A?.portfolioId,v(E?"pass":"fail",E?`Created: ${E}`:"No portfolioId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Stock Portfolios  List","running");try{const A=await Wg();v("pass",`${Array.isArray(A)?A.length:0} portfolio(s)`)}catch(A){v("fail",A.message)}p("Reminders  Create","running");try{const A=await ty(y.reminder);L=A?.reminderId,v(L?"pass":"fail",L?`Created: ${L}`:"No reminderId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Reminders  List","running");try{const A=await ey();v("pass",`${Array.isArray(A)?A.length:0} reminder(s)`)}catch(A){v("fail",A.message)}p("Goals  Create","running");try{const A=await Bg(y.goal);B=A?.goalId,v(B?"pass":"fail",B?`Created: ${B}`:"No goalId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Goals  List","running");try{const A=await Fg();v("pass",`${Array.isArray(A)?A.length:0} goal(s)`)}catch(A){v("fail",A.message)}p("Cleanup  Delete test data","running");const W=[];if(B)try{await Hg(B)}catch(A){W.push("goal: "+A.message)}if(L)try{await ay(L)}catch(A){W.push("reminder: "+A.message)}if(E)try{await Jg(E)}catch(A){W.push("stockPortfolio: "+A.message)}if(G)try{await Xg(G)}catch(A){W.push("otherInv: "+A.message)}if(U)try{await Gg(U)}catch(A){W.push("liability: "+A.message)}if(P)try{await qg(P)}catch(A){W.push("insurance: "+A.message)}if(_)try{await zg(_)}catch(A){W.push("invAcct: "+A.message)}if(g)try{await Ig(g)}catch(A){W.push("bank: "+A.message)}if(N)try{await _g(N)}catch(A){W.push("member: "+A.message)}W.length>0?v("fail",W.join("; ")):v("pass","All test data cleaned up"),p("Final Load All (post-cleanup)","running");try{const A=await au(),se=Object.entries(A).map(([q,J])=>`${q}: ${Array.isArray(J)?J.length:"?"}`);v("pass",se.join(", "))}catch(A){v("fail",A.message)}}catch(W){p("UNEXPECTED ERROR","fail",W.message)}finally{o(!1)}},w=l.filter(y=>y.status==="pass").length,M=l.filter(y=>y.status==="fail").length,C=l.filter(y=>y.status!=="running").length;return n.jsx("div",{className:"min-h-screen bg-[var(--bg-main)] p-4 max-w-3xl mx-auto",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-lg font-bold text-[var(--text-primary)]",children:"API Test Suite"}),n.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Signed in as ",s?.email||"unknown"]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:b,disabled:m||t,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-[var(--bg-card)] border border-[var(--border)] text-[var(--text-secondary)] hover:bg-[var(--bg-elevated)] disabled:opacity-50 cursor-pointer",children:m?"Running...":"Diagnostics"}),n.jsx("button",{onClick:j,disabled:t,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-violet-600 text-white hover:bg-violet-700 disabled:opacity-50 cursor-pointer",children:t?"Running Tests...":"Run All Tests"})]})]}),C>0&&n.jsxs("div",{className:"flex gap-3 text-xs",children:[n.jsxs("span",{className:"text-emerald-400",children:["Pass: ",w]}),n.jsxs("span",{className:"text-rose-400",children:["Fail: ",M]}),n.jsxs("span",{className:"text-[var(--text-dim)]",children:["Total: ",C]})]}),u&&n.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4 space-y-3",children:[n.jsx("h2",{className:"text-sm font-semibold text-[var(--text-primary)]",children:"Diagnostics Report"}),u.error?n.jsx("p",{className:"text-xs text-rose-400",children:u.error}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-xs text-[var(--text-secondary)] space-y-1",children:[n.jsxs("p",{children:[n.jsx("span",{className:"text-[var(--text-dim)]",children:"Spreadsheet:"})," ",u.spreadsheetName]}),n.jsxs("p",{children:[n.jsx("span",{className:"text-[var(--text-dim)]",children:"ID:"})," ",n.jsx("code",{className:"text-[10px]",children:u.spreadsheetId})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xs font-medium text-[var(--text-primary)] mb-1",children:"Sheets"}),n.jsx("div",{className:"grid grid-cols-2 gap-1",children:Object.entries(u.sheets||{}).map(([y,N])=>n.jsxs("div",{className:"flex items-center justify-between text-[11px] px-2 py-1 rounded bg-[var(--bg-elevated)]",children:[n.jsx("span",{className:"text-[var(--text-secondary)] truncate",children:y}),N.exists?n.jsxs("span",{className:"text-emerald-400 ml-1",children:[N.dataRows,"r"]}):n.jsx("span",{className:"text-rose-400 ml-1",children:"MISSING"})]},y))})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xs font-medium text-[var(--text-primary)] mb-1",children:"Data Functions"}),n.jsx("div",{className:"space-y-1",children:Object.entries(u.dataTests||{}).map(([y,N])=>n.jsxs("div",{className:"flex items-center justify-between text-[11px] px-2 py-1 rounded bg-[var(--bg-elevated)]",children:[n.jsx("span",{className:"text-[var(--text-secondary)]",children:y}),N.success?n.jsxs("span",{className:"text-emerald-400",children:[N.count," items"]}):n.jsx("span",{className:"text-rose-400 truncate ml-2 max-w-[200px]",title:N.error,children:N.error})]},y))})]}),u.safeCallErrors&&u.safeCallErrors.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-xs font-medium text-rose-400 mb-1",children:"SafeCall Errors"}),u.safeCallErrors.map((y,N)=>n.jsxs("p",{className:"text-[11px] text-rose-400",children:[y.fn,": ",y.error]},N))]})]})]}),l.length>0&&n.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:n.jsx("div",{className:"divide-y divide-[var(--border)]",children:l.map((y,N)=>n.jsxs("div",{className:"px-4 py-2 flex items-start gap-3",children:[n.jsx("div",{className:"mt-0.5 shrink-0",children:n.jsx(NT,{status:y.status})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:y.test}),y.detail&&n.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5 break-all",children:y.detail})]}),n.jsx("span",{className:"text-[10px] text-[var(--text-dim)] shrink-0",children:y.time})]},N))})}),l.length===0&&!u&&n.jsxs("div",{className:"text-center py-12 text-[var(--text-dim)]",children:[n.jsx("p",{className:"text-sm",children:'Click "Run All Tests" to test all CRUD operations'}),n.jsx("p",{className:"text-xs mt-1",children:'or "Diagnostics" to check spreadsheet structure'})]})]})})}function wT(){return n.jsxs($w,{children:[n.jsx(vt,{index:!0,element:n.jsx(D3,{})}),n.jsx(vt,{path:"login",element:n.jsx(v1,{})}),n.jsx(vt,{element:n.jsx(j3,{}),children:n.jsxs(vt,{element:n.jsx(N3,{}),children:[n.jsx(vt,{path:"dashboard",element:n.jsx(eu,{to:"/investments/mutual-funds",replace:!0})}),n.jsx(vt,{path:"family",element:n.jsx(XA,{})}),n.jsx(vt,{path:"accounts/bank",element:n.jsx(Ib,{})}),n.jsx(vt,{path:"accounts/investment",element:n.jsx(O3,{})}),n.jsx(vt,{path:"insurance",element:n.jsx(P3,{})}),n.jsx(vt,{path:"investments/mutual-funds",element:n.jsx(UA,{})}),n.jsx(vt,{path:"investments/stocks",element:n.jsx(GA,{})}),n.jsx(vt,{path:"investments/other",element:n.jsx(K3,{})}),n.jsx(vt,{path:"liabilities",element:n.jsx(H3,{})}),n.jsx(vt,{path:"goals",element:n.jsx(aT,{})}),n.jsx(vt,{path:"reports",element:n.jsx(fT,{})}),n.jsx(vt,{path:"reminders",element:n.jsx(dT,{})}),n.jsx(vt,{path:"health-check",element:n.jsx(pT,{})}),n.jsx(vt,{path:"about",element:n.jsx(xT,{})}),n.jsx(vt,{path:"test",element:n.jsx(jT,{})}),n.jsx(vt,{path:"settings",element:n.jsx(sT,{})}),n.jsx(vt,{path:"more",element:n.jsx(rT,{})}),n.jsx(vt,{path:"accounts",element:n.jsx(Ib,{})}),n.jsx(vt,{path:"*",element:n.jsx(M3,{})})]})})]})}Vj.createRoot(document.getElementById("root")).render(n.jsx(x2,{children:n.jsx(fS,{children:n.jsx(pS,{children:n.jsx(gC,{children:n.jsx(uC,{children:n.jsx(hS,{children:n.jsx(vS,{children:n.jsx(wT,{})})})})})})})}));
