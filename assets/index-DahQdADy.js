function qj(s,l){for(var r=0;r<l.length;r++){const t=l[r];if(typeof t!="string"&&!Array.isArray(t)){for(const o in t)if(o!=="default"&&!(o in s)){const u=Object.getOwnPropertyDescriptor(t,o);u&&Object.defineProperty(s,o,u.get?u:{enumerable:!0,get:()=>t[o]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&t(d)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function t(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();function fg(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var ef={exports:{}},Li={};var p0;function $j(){if(p0)return Li;p0=1;var s=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function r(t,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:t,key:d,ref:o!==void 0?o:null,props:u}}return Li.Fragment=l,Li.jsx=r,Li.jsxs=r,Li}var x0;function Vj(){return x0||(x0=1,ef.exports=$j()),ef.exports}var a=Vj(),tf={exports:{}},Ie={};var h0;function Gj(){if(h0)return Ie;h0=1;var s=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),t=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),y=Symbol.iterator;function S(P){return P===null||typeof P!="object"?null:(P=y&&P[y]||P["@@iterator"],typeof P=="function"?P:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,g={};function w(P,ee,ue){this.props=P,this.context=ee,this.refs=g,this.updater=ue||M}w.prototype.isReactComponent={},w.prototype.setState=function(P,ee){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ee,"setState")},w.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function D(){}D.prototype=w.prototype;function k(P,ee,ue){this.props=P,this.context=ee,this.refs=g,this.updater=ue||M}var T=k.prototype=new D;T.constructor=k,j(T,w.prototype),T.isPureReactComponent=!0;var _=Array.isArray;function B(){}var H={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function L(P,ee,ue){var fe=ue.ref;return{$$typeof:s,type:P,key:ee,ref:fe!==void 0?fe:null,props:ue}}function I(P,ee){return L(P.type,ee,P.props)}function V(P){return typeof P=="object"&&P!==null&&P.$$typeof===s}function A(P){var ee={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ue){return ee[ue]})}var se=/\/+/g;function oe(P,ee){return typeof P=="object"&&P!==null&&P.key!=null?A(""+P.key):ee.toString(36)}function U(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(B,B):(P.status="pending",P.then(function(ee){P.status==="pending"&&(P.status="fulfilled",P.value=ee)},function(ee){P.status==="pending"&&(P.status="rejected",P.reason=ee)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function z(P,ee,ue,fe,ye){var we=typeof P;(we==="undefined"||we==="boolean")&&(P=null);var Se=!1;if(P===null)Se=!0;else switch(we){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(P.$$typeof){case s:case l:Se=!0;break;case v:return Se=P._init,z(Se(P._payload),ee,ue,fe,ye)}}if(Se)return ye=ye(P),Se=fe===""?"."+oe(P,0):fe,_(ye)?(ue="",Se!=null&&(ue=Se.replace(se,"$&/")+"/"),z(ye,ee,ue,"",function(Ft){return Ft})):ye!=null&&(V(ye)&&(ye=I(ye,ue+(ye.key==null||P&&P.key===ye.key?"":(""+ye.key).replace(se,"$&/")+"/")+Se)),ee.push(ye)),1;Se=0;var Te=fe===""?".":fe+":";if(_(P))for(var Be=0;Be<P.length;Be++)fe=P[Be],we=Te+oe(fe,Be),Se+=z(fe,ee,ue,we,ye);else if(Be=S(P),typeof Be=="function")for(P=Be.call(P),Be=0;!(fe=P.next()).done;)fe=fe.value,we=Te+oe(fe,Be++),Se+=z(fe,ee,ue,we,ye);else if(we==="object"){if(typeof P.then=="function")return z(U(P),ee,ue,fe,ye);throw ee=String(P),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Se}function W(P,ee,ue){if(P==null)return P;var fe=[],ye=0;return z(P,fe,"","",function(we){return ee.call(ue,we,ye++)}),fe}function R(P){if(P._status===-1){var ee=P._result;ee=ee(),ee.then(function(ue){(P._status===0||P._status===-1)&&(P._status=1,P._result=ue)},function(ue){(P._status===0||P._status===-1)&&(P._status=2,P._result=ue)}),P._status===-1&&(P._status=0,P._result=ee)}if(P._status===1)return P._result.default;throw P._result}var ne=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},ve={map:W,forEach:function(P,ee,ue){W(P,function(){ee.apply(this,arguments)},ue)},count:function(P){var ee=0;return W(P,function(){ee++}),ee},toArray:function(P){return W(P,function(ee){return ee})||[]},only:function(P){if(!V(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Ie.Activity=b,Ie.Children=ve,Ie.Component=w,Ie.Fragment=r,Ie.Profiler=o,Ie.PureComponent=k,Ie.StrictMode=t,Ie.Suspense=x,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(P){return H.H.useMemoCache(P)}},Ie.cache=function(P){return function(){return P.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(P,ee,ue){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var fe=j({},P.props),ye=P.key;if(ee!=null)for(we in ee.key!==void 0&&(ye=""+ee.key),ee)!O.call(ee,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ee.ref===void 0||(fe[we]=ee[we]);var we=arguments.length-2;if(we===1)fe.children=ue;else if(1<we){for(var Se=Array(we),Te=0;Te<we;Te++)Se[Te]=arguments[Te+2];fe.children=Se}return L(P.type,ye,fe)},Ie.createContext=function(P){return P={$$typeof:d,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},Ie.createElement=function(P,ee,ue){var fe,ye={},we=null;if(ee!=null)for(fe in ee.key!==void 0&&(we=""+ee.key),ee)O.call(ee,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(ye[fe]=ee[fe]);var Se=arguments.length-2;if(Se===1)ye.children=ue;else if(1<Se){for(var Te=Array(Se),Be=0;Be<Se;Be++)Te[Be]=arguments[Be+2];ye.children=Te}if(P&&P.defaultProps)for(fe in Se=P.defaultProps,Se)ye[fe]===void 0&&(ye[fe]=Se[fe]);return L(P,we,ye)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(P){return{$$typeof:m,render:P}},Ie.isValidElement=V,Ie.lazy=function(P){return{$$typeof:v,_payload:{_status:-1,_result:P},_init:R}},Ie.memo=function(P,ee){return{$$typeof:p,type:P,compare:ee===void 0?null:ee}},Ie.startTransition=function(P){var ee=H.T,ue={};H.T=ue;try{var fe=P(),ye=H.S;ye!==null&&ye(ue,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(B,ne)}catch(we){ne(we)}finally{ee!==null&&ue.types!==null&&(ee.types=ue.types),H.T=ee}},Ie.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Ie.use=function(P){return H.H.use(P)},Ie.useActionState=function(P,ee,ue){return H.H.useActionState(P,ee,ue)},Ie.useCallback=function(P,ee){return H.H.useCallback(P,ee)},Ie.useContext=function(P){return H.H.useContext(P)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(P,ee){return H.H.useDeferredValue(P,ee)},Ie.useEffect=function(P,ee){return H.H.useEffect(P,ee)},Ie.useEffectEvent=function(P){return H.H.useEffectEvent(P)},Ie.useId=function(){return H.H.useId()},Ie.useImperativeHandle=function(P,ee,ue){return H.H.useImperativeHandle(P,ee,ue)},Ie.useInsertionEffect=function(P,ee){return H.H.useInsertionEffect(P,ee)},Ie.useLayoutEffect=function(P,ee){return H.H.useLayoutEffect(P,ee)},Ie.useMemo=function(P,ee){return H.H.useMemo(P,ee)},Ie.useOptimistic=function(P,ee){return H.H.useOptimistic(P,ee)},Ie.useReducer=function(P,ee,ue){return H.H.useReducer(P,ee,ue)},Ie.useRef=function(P){return H.H.useRef(P)},Ie.useState=function(P){return H.H.useState(P)},Ie.useSyncExternalStore=function(P,ee,ue){return H.H.useSyncExternalStore(P,ee,ue)},Ie.useTransition=function(){return H.H.useTransition()},Ie.version="19.2.4",Ie}var v0;function Gf(){return v0||(v0=1,tf.exports=Gj()),tf.exports}var N=Gf();const ae=fg(N),pg=qj({__proto__:null,default:ae},[N]);var af={exports:{}},Pi={},nf={exports:{}},rf={};var b0;function Qj(){return b0||(b0=1,(function(s){function l(z,W){var R=z.length;z.push(W);e:for(;0<R;){var ne=R-1>>>1,ve=z[ne];if(0<o(ve,W))z[ne]=W,z[R]=ve,R=ne;else break e}}function r(z){return z.length===0?null:z[0]}function t(z){if(z.length===0)return null;var W=z[0],R=z.pop();if(R!==W){z[0]=R;e:for(var ne=0,ve=z.length,P=ve>>>1;ne<P;){var ee=2*(ne+1)-1,ue=z[ee],fe=ee+1,ye=z[fe];if(0>o(ue,R))fe<ve&&0>o(ye,ue)?(z[ne]=ye,z[fe]=R,ne=fe):(z[ne]=ue,z[ee]=R,ne=ee);else if(fe<ve&&0>o(ye,R))z[ne]=ye,z[fe]=R,ne=fe;else break e}}return W}function o(z,W){var R=z.sortIndex-W.sortIndex;return R!==0?R:z.id-W.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();s.unstable_now=function(){return d.now()-m}}var x=[],p=[],v=1,b=null,y=3,S=!1,M=!1,j=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function T(z){for(var W=r(p);W!==null;){if(W.callback===null)t(p);else if(W.startTime<=z)t(p),W.sortIndex=W.expirationTime,l(x,W);else break;W=r(p)}}function _(z){if(j=!1,T(z),!M)if(r(x)!==null)M=!0,B||(B=!0,A());else{var W=r(p);W!==null&&U(_,W.startTime-z)}}var B=!1,H=-1,O=5,L=-1;function I(){return g?!0:!(s.unstable_now()-L<O)}function V(){if(g=!1,B){var z=s.unstable_now();L=z;var W=!0;try{e:{M=!1,j&&(j=!1,D(H),H=-1),S=!0;var R=y;try{t:{for(T(z),b=r(x);b!==null&&!(b.expirationTime>z&&I());){var ne=b.callback;if(typeof ne=="function"){b.callback=null,y=b.priorityLevel;var ve=ne(b.expirationTime<=z);if(z=s.unstable_now(),typeof ve=="function"){b.callback=ve,T(z),W=!0;break t}b===r(x)&&t(x),T(z)}else t(x);b=r(x)}if(b!==null)W=!0;else{var P=r(p);P!==null&&U(_,P.startTime-z),W=!1}}break e}finally{b=null,y=R,S=!1}W=void 0}}finally{W?A():B=!1}}}var A;if(typeof k=="function")A=function(){k(V)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,oe=se.port2;se.port1.onmessage=V,A=function(){oe.postMessage(null)}}else A=function(){w(V,0)};function U(z,W){H=w(function(){z(s.unstable_now())},W)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(z){z.callback=null},s.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<z?Math.floor(1e3/z):5},s.unstable_getCurrentPriorityLevel=function(){return y},s.unstable_next=function(z){switch(y){case 1:case 2:case 3:var W=3;break;default:W=y}var R=y;y=W;try{return z()}finally{y=R}},s.unstable_requestPaint=function(){g=!0},s.unstable_runWithPriority=function(z,W){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var R=y;y=z;try{return W()}finally{y=R}},s.unstable_scheduleCallback=function(z,W,R){var ne=s.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?ne+R:ne):R=ne,z){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=R+ve,z={id:v++,callback:W,priorityLevel:z,startTime:R,expirationTime:ve,sortIndex:-1},R>ne?(z.sortIndex=R,l(p,z),r(x)===null&&z===r(p)&&(j?(D(H),H=-1):j=!0,U(_,R-ne))):(z.sortIndex=ve,l(x,z),M||S||(M=!0,B||(B=!0,A()))),z},s.unstable_shouldYield=I,s.unstable_wrapCallback=function(z){var W=y;return function(){var R=y;y=W;try{return z.apply(this,arguments)}finally{y=R}}}})(rf)),rf}var g0;function Kj(){return g0||(g0=1,nf.exports=Qj()),nf.exports}var sf={exports:{}},na={};var y0;function Xj(){if(y0)return na;y0=1;var s=Gf();function l(x){var p="https://react.dev/errors/"+x;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+x+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var t={d:{f:r,r:function(){throw Error(l(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(x,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:x,containerInfo:p,implementation:v}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(x,p){if(x==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return na.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=t,na.createPortal=function(x,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(l(299));return u(x,p,null,v)},na.flushSync=function(x){var p=d.T,v=t.p;try{if(d.T=null,t.p=2,x)return x()}finally{d.T=p,t.p=v,t.d.f()}},na.preconnect=function(x,p){typeof x=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,t.d.C(x,p))},na.prefetchDNS=function(x){typeof x=="string"&&t.d.D(x)},na.preinit=function(x,p){if(typeof x=="string"&&p&&typeof p.as=="string"){var v=p.as,b=m(v,p.crossOrigin),y=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?t.d.S(x,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:y,fetchPriority:S}):v==="script"&&t.d.X(x,{crossOrigin:b,integrity:y,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},na.preinitModule=function(x,p){if(typeof x=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=m(p.as,p.crossOrigin);t.d.M(x,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&t.d.M(x)},na.preload=function(x,p){if(typeof x=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=m(v,p.crossOrigin);t.d.L(x,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},na.preloadModule=function(x,p){if(typeof x=="string")if(p){var v=m(p.as,p.crossOrigin);t.d.m(x,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else t.d.m(x)},na.requestFormReset=function(x){t.d.r(x)},na.unstable_batchedUpdates=function(x,p){return x(p)},na.useFormState=function(x,p,v){return d.H.useFormState(x,p,v)},na.useFormStatus=function(){return d.H.useHostTransitionStatus()},na.version="19.2.4",na}var N0;function xg(){if(N0)return sf.exports;N0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(l){console.error(l)}}return s(),sf.exports=Xj(),sf.exports}var j0;function Wj(){if(j0)return Pi;j0=1;var s=Kj(),l=Gf(),r=xg();function t(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function x(e){if(u(e)!==e)throw Error(t(188))}function p(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(t(188));return n!==e?null:e}for(var i=e,c=n;;){var f=i.return;if(f===null)break;var h=f.alternate;if(h===null){if(c=f.return,c!==null){i=c;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===i)return x(f),e;if(h===c)return x(f),n;h=h.sibling}throw Error(t(188))}if(i.return!==c.return)i=f,c=h;else{for(var C=!1,E=f.child;E;){if(E===i){C=!0,i=f,c=h;break}if(E===c){C=!0,c=f,i=h;break}E=E.sibling}if(!C){for(E=h.child;E;){if(E===i){C=!0,i=h,c=f;break}if(E===c){C=!0,c=h,i=f;break}E=E.sibling}if(!C)throw Error(t(189))}}if(i.alternate!==c)throw Error(t(190))}if(i.tag!==3)throw Error(t(188));return i.stateNode.current===i?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,y=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),k=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function A(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var se=Symbol.for("react.client.reference");function oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===se?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case w:return"Profiler";case g:return"StrictMode";case _:return"Suspense";case B:return"SuspenseList";case L:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case k:return e.displayName||"Context";case D:return(e._context.displayName||"Context")+".Consumer";case T:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case H:return n=e.displayName||null,n!==null?n:oe(e.type)||"Memo";case O:n=e._payload,e=e._init;try{return oe(e(n))}catch{}}return null}var U=Array.isArray,z=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},ne=[],ve=-1;function P(e){return{current:e}}function ee(e){0>ve||(e.current=ne[ve],ne[ve]=null,ve--)}function ue(e,n){ve++,ne[ve]=e.current,e.current=n}var fe=P(null),ye=P(null),we=P(null),Se=P(null);function Te(e,n){switch(ue(we,n),ue(ye,e),ue(fe,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Pv(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Pv(n),e=zv(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ee(fe),ue(fe,e)}function Be(){ee(fe),ee(ye),ee(we)}function Ft(e){e.memoizedState!==null&&ue(Se,e);var n=fe.current,i=zv(n,e.type);n!==i&&(ue(ye,e),ue(fe,i))}function ta(e){ye.current===e&&(ee(fe),ee(ye)),Se.current===e&&(ee(Se),_i._currentValue=R)}var Ut,Ct;function xe(e){if(Ut===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);Ut=n&&n[1]||"",Ct=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ut+e+Ct}var He=!1;function mt(e,n){if(!e||He)return"";He=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(te){var Z=te}Reflect.construct(e,[],ce)}else{try{ce.call()}catch(te){Z=te}e.call(ce.prototype)}}else{try{throw Error()}catch(te){Z=te}(ce=e())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(te){if(te&&Z&&typeof te.stack=="string")return[te.stack,Z.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=c.DetermineComponentFrameRoot(),C=h[0],E=h[1];if(C&&E){var F=C.split(`
`),X=E.split(`
`);for(f=c=0;c<F.length&&!F[c].includes("DetermineComponentFrameRoot");)c++;for(;f<X.length&&!X[f].includes("DetermineComponentFrameRoot");)f++;if(c===F.length||f===X.length)for(c=F.length-1,f=X.length-1;1<=c&&0<=f&&F[c]!==X[f];)f--;for(;1<=c&&0<=f;c--,f--)if(F[c]!==X[f]){if(c!==1||f!==1)do if(c--,f--,0>f||F[c]!==X[f]){var re=`
`+F[c].replace(" at new "," at ");return e.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",e.displayName)),re}while(1<=c&&0<=f);break}}}finally{He=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?xe(i):""}function ia(e,n){switch(e.tag){case 26:case 27:case 5:return xe(e.type);case 16:return xe("Lazy");case 13:return e.child!==n&&n!==null?xe("Suspense Fallback"):xe("Suspense");case 19:return xe("SuspenseList");case 0:case 15:return mt(e.type,!1);case 11:return mt(e.type.render,!1);case 1:return mt(e.type,!0);case 31:return xe("Activity");default:return""}}function Ba(e){try{var n="",i=null;do n+=ia(e,i),i=e,e=e.return;while(e);return n}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var ft=Object.prototype.hasOwnProperty,_t=s.unstable_scheduleCallback,Gt=s.unstable_cancelCallback,Zr=s.unstable_shouldYield,Bn=s.unstable_requestPaint,Q=s.unstable_now,de=s.unstable_getCurrentPriorityLevel,me=s.unstable_ImmediatePriority,Ee=s.unstable_UserBlockingPriority,Pe=s.unstable_NormalPriority,le=s.unstable_LowPriority,We=s.unstable_IdlePriority,Me=s.log,kt=s.unstable_setDisableYieldValue,oa=null,dt=null;function qt(e){if(typeof Me=="function"&&kt(e),dt&&typeof dt.setStrictMode=="function")try{dt.setStrictMode(oa,e)}catch{}}var Le=Math.clz32?Math.clz32:fa,pt=Math.log,tn=Math.LN2;function fa(e){return e>>>=0,e===0?32:31-(pt(e)/tn|0)|0}var pa=256,xn=262144,hn=4194304;function he(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ot(e,n,i){var c=e.pendingLanes;if(c===0)return 0;var f=0,h=e.suspendedLanes,C=e.pingedLanes;e=e.warmLanes;var E=c&134217727;return E!==0?(c=E&~h,c!==0?f=he(c):(C&=E,C!==0?f=he(C):i||(i=E&~e,i!==0&&(f=he(i))))):(E=c&~h,E!==0?f=he(E):C!==0?f=he(C):i||(i=c&~e,i!==0&&(f=he(i)))),f===0?0:n!==0&&n!==f&&(n&h)===0&&(h=f&-f,i=n&-n,h>=i||h===32&&(i&4194048)!==0)?n:f}function Ha(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Hn(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yn(){var e=hn;return hn<<=1,(hn&62914560)===0&&(hn=4194304),e}function vn(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function bn(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Jr(e,n,i,c,f,h){var C=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var E=e.entanglements,F=e.expirationTimes,X=e.hiddenUpdates;for(i=C&~i;0<i;){var re=31-Le(i),ce=1<<re;E[re]=0,F[re]=-1;var Z=X[re];if(Z!==null)for(X[re]=null,re=0;re<Z.length;re++){var te=Z[re];te!==null&&(te.lane&=-536870913)}i&=~ce}c!==0&&es(e,c,0),h!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=h&~(C&~n))}function es(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var c=31-Le(n);e.entangledLanes|=n,e.entanglements[c]=e.entanglements[c]|1073741824|i&261930}function fo(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var c=31-Le(i),f=1<<c;f&n|e[c]&n&&(e[c]|=n),i&=~f}}function po(e,n){var i=n&-n;return i=(i&42)!==0?1:Vl(i),(i&(e.suspendedLanes|n))!==0?0:i}function Vl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Gl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function xo(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:i0(e.type))}function ho(e,n){var i=W.p;try{return W.p=e,n()}finally{W.p=i}}var gn=Math.random().toString(36).slice(2),Bt="__reactFiber$"+gn,aa="__reactProps$"+gn,yr="__reactContainer$"+gn,Ql="__reactEvents$"+gn,$u="__reactListeners$"+gn,Vu="__reactHandles$"+gn,vo="__reactResources$"+gn,ts="__reactMarker$"+gn;function q(e){delete e[Bt],delete e[aa],delete e[Ql],delete e[$u],delete e[Vu]}function pe(e){var n=e[Bt];if(n)return n;for(var i=e.parentNode;i;){if(n=i[yr]||i[Bt]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=$v(e);e!==null;){if(i=e[Bt])return i;e=$v(e)}return n}e=i,i=e.parentNode}return null}function Rt(e){if(e=e[Bt]||e[yr]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Da(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(t(33))}function an(e){var n=e[vo];return n||(n=e[vo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function $t(e){e[ts]=!0}var Cp=new Set,kp={};function as(e,n){Ps(e,n),Ps(e+"Capture",n)}function Ps(e,n){for(kp[e]=n,e=0;e<n.length;e++)Cp.add(n[e])}var I1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dp={},Mp={};function L1(e){return ft.call(Mp,e)?!0:ft.call(Dp,e)?!1:I1.test(e)?Mp[e]=!0:(Dp[e]=!0,!1)}function bo(e,n,i){if(L1(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function go(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function Un(e,n,i,c){if(c===null)e.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+c)}}function Ya(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ap(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function P1(e,n,i){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,h=c.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(C){i=""+C,h.call(this,C)}}),Object.defineProperty(e,n,{enumerable:c.enumerable}),{getValue:function(){return i},setValue:function(C){i=""+C},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gu(e){if(!e._valueTracker){var n=Ap(e)?"checked":"value";e._valueTracker=P1(e,n,""+e[n])}}function Tp(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),c="";return e&&(c=Ap(e)?e.checked?"true":"false":e.value),e=c,e!==i?(n.setValue(e),!0):!1}function yo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var z1=/[\n"\\]/g;function Ua(e){return e.replace(z1,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Qu(e,n,i,c,f,h,C,E){e.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.type=C:e.removeAttribute("type"),n!=null?C==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ya(n)):e.value!==""+Ya(n)&&(e.value=""+Ya(n)):C!=="submit"&&C!=="reset"||e.removeAttribute("value"),n!=null?Ku(e,C,Ya(n)):i!=null?Ku(e,C,Ya(i)):c!=null&&e.removeAttribute("value"),f==null&&h!=null&&(e.defaultChecked=!!h),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ya(E):e.removeAttribute("name")}function Ep(e,n,i,c,f,h,C,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){Gu(e);return}i=i!=null?""+Ya(i):"",n=n!=null?""+Ya(n):i,E||n===e.value||(e.value=n),e.defaultValue=n}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=E?e.checked:!!c,e.defaultChecked=!!c,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(e.name=C),Gu(e)}function Ku(e,n,i){n==="number"&&yo(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function zs(e,n,i,c){if(e=e.options,n){n={};for(var f=0;f<i.length;f++)n["$"+i[f]]=!0;for(i=0;i<e.length;i++)f=n.hasOwnProperty("$"+e[i].value),e[i].selected!==f&&(e[i].selected=f),f&&c&&(e[i].defaultSelected=!0)}else{for(i=""+Ya(i),n=null,f=0;f<e.length;f++){if(e[f].value===i){e[f].selected=!0,c&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function _p(e,n,i){if(n!=null&&(n=""+Ya(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+Ya(i):""}function Op(e,n,i,c){if(n==null){if(c!=null){if(i!=null)throw Error(t(92));if(U(c)){if(1<c.length)throw Error(t(93));c=c[0]}i=c}i==null&&(i=""),n=i}i=Ya(n),e.defaultValue=i,c=e.textContent,c===i&&c!==""&&c!==null&&(e.value=c),Gu(e)}function Fs(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var F1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rp(e,n,i){var c=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?c?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":c?e.setProperty(n,i):typeof i!="number"||i===0||F1.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function Ip(e,n,i){if(n!=null&&typeof n!="object")throw Error(t(62));if(e=e.style,i!=null){for(var c in i)!i.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var f in n)c=n[f],n.hasOwnProperty(f)&&i[f]!==c&&Rp(e,f,c)}else for(var h in n)n.hasOwnProperty(h)&&Rp(e,h,n[h])}function Xu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var B1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),H1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function No(e){return H1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qn(){}var Wu=null;function Zu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bs=null,Hs=null;function Lp(e){var n=Rt(e);if(n&&(e=n.stateNode)){var i=e[aa]||null;e:switch(e=n.stateNode,n.type){case"input":if(Qu(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Ua(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var c=i[n];if(c!==e&&c.form===e.form){var f=c[aa]||null;if(!f)throw Error(t(90));Qu(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<i.length;n++)c=i[n],c.form===e.form&&Tp(c)}break e;case"textarea":_p(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&zs(e,!!i.multiple,n,!1)}}}var Ju=!1;function Pp(e,n,i){if(Ju)return e(n,i);Ju=!0;try{var c=e(n);return c}finally{if(Ju=!1,(Bs!==null||Hs!==null)&&(oc(),Bs&&(n=Bs,e=Hs,Hs=Bs=null,Lp(n),e)))for(n=0;n<e.length;n++)Lp(e[n])}}function Kl(e,n){var i=e.stateNode;if(i===null)return null;var c=i[aa]||null;if(c===null)return null;i=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(t(231,n,typeof i));return i}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ed=!1;if($n)try{var Xl={};Object.defineProperty(Xl,"passive",{get:function(){ed=!0}}),window.addEventListener("test",Xl,Xl),window.removeEventListener("test",Xl,Xl)}catch{ed=!1}var Nr=null,td=null,jo=null;function zp(){if(jo)return jo;var e,n=td,i=n.length,c,f="value"in Nr?Nr.value:Nr.textContent,h=f.length;for(e=0;e<i&&n[e]===f[e];e++);var C=i-e;for(c=1;c<=C&&n[i-c]===f[h-c];c++);return jo=f.slice(e,1<c?1-c:void 0)}function wo(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function So(){return!0}function Fp(){return!1}function xa(e){function n(i,c,f,h,C){this._reactName=i,this._targetInst=f,this.type=c,this.nativeEvent=h,this.target=C,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(i=e[E],this[E]=i?i(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?So:Fp,this.isPropagationStopped=Fp,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=So)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=So)},persist:function(){},isPersistent:So}),n}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Co=xa(ns),Wl=b({},ns,{view:0,detail:0}),Y1=xa(Wl),ad,nd,Zl,ko=b({},Wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zl&&(Zl&&e.type==="mousemove"?(ad=e.screenX-Zl.screenX,nd=e.screenY-Zl.screenY):nd=ad=0,Zl=e),ad)},movementY:function(e){return"movementY"in e?e.movementY:nd}}),Bp=xa(ko),U1=b({},ko,{dataTransfer:0}),q1=xa(U1),$1=b({},Wl,{relatedTarget:0}),rd=xa($1),V1=b({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),G1=xa(V1),Q1=b({},ns,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),K1=xa(Q1),X1=b({},ns,{data:0}),Hp=xa(X1),W1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eN(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=J1[e])?!!n[e]:!1}function sd(){return eN}var tN=b({},Wl,{key:function(e){if(e.key){var n=W1[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=wo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Z1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sd,charCode:function(e){return e.type==="keypress"?wo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),aN=xa(tN),nN=b({},ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yp=xa(nN),rN=b({},Wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sd}),sN=xa(rN),lN=b({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),iN=xa(lN),oN=b({},ko,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cN=xa(oN),uN=b({},ns,{newState:0,oldState:0}),dN=xa(uN),mN=[9,13,27,32],ld=$n&&"CompositionEvent"in window,Jl=null;$n&&"documentMode"in document&&(Jl=document.documentMode);var fN=$n&&"TextEvent"in window&&!Jl,Up=$n&&(!ld||Jl&&8<Jl&&11>=Jl),qp=" ",$p=!1;function Vp(e,n){switch(e){case"keyup":return mN.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ys=!1;function pN(e,n){switch(e){case"compositionend":return Gp(n);case"keypress":return n.which!==32?null:($p=!0,qp);case"textInput":return e=n.data,e===qp&&$p?null:e;default:return null}}function xN(e,n){if(Ys)return e==="compositionend"||!ld&&Vp(e,n)?(e=zp(),jo=td=Nr=null,Ys=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Up&&n.locale!=="ko"?null:n.data;default:return null}}var hN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!hN[e.type]:n==="textarea"}function Kp(e,n,i,c){Bs?Hs?Hs.push(c):Hs=[c]:Bs=c,n=xc(n,"onChange"),0<n.length&&(i=new Co("onChange","change",null,i,c),e.push({event:i,listeners:n}))}var ei=null,ti=null;function vN(e){Ev(e,0)}function Do(e){var n=Da(e);if(Tp(n))return e}function Xp(e,n){if(e==="change")return n}var Wp=!1;if($n){var id;if($n){var od="oninput"in document;if(!od){var Zp=document.createElement("div");Zp.setAttribute("oninput","return;"),od=typeof Zp.oninput=="function"}id=od}else id=!1;Wp=id&&(!document.documentMode||9<document.documentMode)}function Jp(){ei&&(ei.detachEvent("onpropertychange",ex),ti=ei=null)}function ex(e){if(e.propertyName==="value"&&Do(ti)){var n=[];Kp(n,ti,e,Zu(e)),Pp(vN,n)}}function bN(e,n,i){e==="focusin"?(Jp(),ei=n,ti=i,ei.attachEvent("onpropertychange",ex)):e==="focusout"&&Jp()}function gN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Do(ti)}function yN(e,n){if(e==="click")return Do(n)}function NN(e,n){if(e==="input"||e==="change")return Do(n)}function jN(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ma=typeof Object.is=="function"?Object.is:jN;function ai(e,n){if(Ma(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),c=Object.keys(n);if(i.length!==c.length)return!1;for(c=0;c<i.length;c++){var f=i[c];if(!ft.call(n,f)||!Ma(e[f],n[f]))return!1}return!0}function tx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ax(e,n){var i=tx(e);e=0;for(var c;i;){if(i.nodeType===3){if(c=e+i.textContent.length,e<=n&&c>=n)return{node:i,offset:n-e};e=c}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=tx(i)}}function nx(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?nx(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function rx(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=yo(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=yo(e.document)}return n}function cd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var wN=$n&&"documentMode"in document&&11>=document.documentMode,Us=null,ud=null,ni=null,dd=!1;function sx(e,n,i){var c=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;dd||Us==null||Us!==yo(c)||(c=Us,"selectionStart"in c&&cd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ni&&ai(ni,c)||(ni=c,c=xc(ud,"onSelect"),0<c.length&&(n=new Co("onSelect","select",null,n,i),e.push({event:n,listeners:c}),n.target=Us)))}function rs(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var qs={animationend:rs("Animation","AnimationEnd"),animationiteration:rs("Animation","AnimationIteration"),animationstart:rs("Animation","AnimationStart"),transitionrun:rs("Transition","TransitionRun"),transitionstart:rs("Transition","TransitionStart"),transitioncancel:rs("Transition","TransitionCancel"),transitionend:rs("Transition","TransitionEnd")},md={},lx={};$n&&(lx=document.createElement("div").style,"AnimationEvent"in window||(delete qs.animationend.animation,delete qs.animationiteration.animation,delete qs.animationstart.animation),"TransitionEvent"in window||delete qs.transitionend.transition);function ss(e){if(md[e])return md[e];if(!qs[e])return e;var n=qs[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in lx)return md[e]=n[i];return e}var ix=ss("animationend"),ox=ss("animationiteration"),cx=ss("animationstart"),SN=ss("transitionrun"),CN=ss("transitionstart"),kN=ss("transitioncancel"),ux=ss("transitionend"),dx=new Map,fd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fd.push("scrollEnd");function nn(e,n){dx.set(e,n),as(n,[e])}var Mo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},qa=[],$s=0,pd=0;function Ao(){for(var e=$s,n=pd=$s=0;n<e;){var i=qa[n];qa[n++]=null;var c=qa[n];qa[n++]=null;var f=qa[n];qa[n++]=null;var h=qa[n];if(qa[n++]=null,c!==null&&f!==null){var C=c.pending;C===null?f.next=f:(f.next=C.next,C.next=f),c.pending=f}h!==0&&mx(i,f,h)}}function To(e,n,i,c){qa[$s++]=e,qa[$s++]=n,qa[$s++]=i,qa[$s++]=c,pd|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function xd(e,n,i,c){return To(e,n,i,c),Eo(e)}function ls(e,n){return To(e,null,null,n),Eo(e)}function mx(e,n,i){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i);for(var f=!1,h=e.return;h!==null;)h.childLanes|=i,c=h.alternate,c!==null&&(c.childLanes|=i),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(f=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,f&&n!==null&&(f=31-Le(i),e=h.hiddenUpdates,c=e[f],c===null?e[f]=[n]:c.push(n),n.lane=i|536870912),h):null}function Eo(e){if(50<Ci)throw Ci=0,Sm=null,Error(t(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Vs={};function DN(e,n,i,c){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Aa(e,n,i,c){return new DN(e,n,i,c)}function hd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vn(e,n){var i=e.alternate;return i===null?(i=Aa(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function fx(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function _o(e,n,i,c,f,h){var C=0;if(c=e,typeof e=="function")hd(e)&&(C=1);else if(typeof e=="string")C=_j(e,i,fe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case L:return e=Aa(31,i,n,f),e.elementType=L,e.lanes=h,e;case j:return is(i.children,f,h,n);case g:C=8,f|=24;break;case w:return e=Aa(12,i,n,f|2),e.elementType=w,e.lanes=h,e;case _:return e=Aa(13,i,n,f),e.elementType=_,e.lanes=h,e;case B:return e=Aa(19,i,n,f),e.elementType=B,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k:C=10;break e;case D:C=9;break e;case T:C=11;break e;case H:C=14;break e;case O:C=16,c=null;break e}C=29,i=Error(t(130,e===null?"null":typeof e,"")),c=null}return n=Aa(C,i,n,f),n.elementType=e,n.type=c,n.lanes=h,n}function is(e,n,i,c){return e=Aa(7,e,c,n),e.lanes=i,e}function vd(e,n,i){return e=Aa(6,e,null,n),e.lanes=i,e}function px(e){var n=Aa(18,null,null,0);return n.stateNode=e,n}function bd(e,n,i){return n=Aa(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var xx=new WeakMap;function $a(e,n){if(typeof e=="object"&&e!==null){var i=xx.get(e);return i!==void 0?i:(n={value:e,source:n,stack:Ba(n)},xx.set(e,n),n)}return{value:e,source:n,stack:Ba(n)}}var Gs=[],Qs=0,Oo=null,ri=0,Va=[],Ga=0,jr=null,yn=1,Nn="";function Gn(e,n){Gs[Qs++]=ri,Gs[Qs++]=Oo,Oo=e,ri=n}function hx(e,n,i){Va[Ga++]=yn,Va[Ga++]=Nn,Va[Ga++]=jr,jr=e;var c=yn;e=Nn;var f=32-Le(c)-1;c&=~(1<<f),i+=1;var h=32-Le(n)+f;if(30<h){var C=f-f%5;h=(c&(1<<C)-1).toString(32),c>>=C,f-=C,yn=1<<32-Le(n)+f|i<<f|c,Nn=h+e}else yn=1<<h|i<<f|c,Nn=e}function gd(e){e.return!==null&&(Gn(e,1),hx(e,1,0))}function yd(e){for(;e===Oo;)Oo=Gs[--Qs],Gs[Qs]=null,ri=Gs[--Qs],Gs[Qs]=null;for(;e===jr;)jr=Va[--Ga],Va[Ga]=null,Nn=Va[--Ga],Va[Ga]=null,yn=Va[--Ga],Va[Ga]=null}function vx(e,n){Va[Ga++]=yn,Va[Ga++]=Nn,Va[Ga++]=jr,yn=n.id,Nn=n.overflow,jr=e}var Qt=null,xt=null,Xe=!1,wr=null,Qa=!1,Nd=Error(t(519));function Sr(e){var n=Error(t(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw si($a(n,e)),Nd}function bx(e){var n=e.stateNode,i=e.type,c=e.memoizedProps;switch(n[Bt]=e,n[aa]=c,i){case"dialog":qe("cancel",n),qe("close",n);break;case"iframe":case"object":case"embed":qe("load",n);break;case"video":case"audio":for(i=0;i<Di.length;i++)qe(Di[i],n);break;case"source":qe("error",n);break;case"img":case"image":case"link":qe("error",n),qe("load",n);break;case"details":qe("toggle",n);break;case"input":qe("invalid",n),Ep(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":qe("invalid",n);break;case"textarea":qe("invalid",n),Op(n,c.value,c.defaultValue,c.children)}i=c.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||c.suppressHydrationWarning===!0||Iv(n.textContent,i)?(c.popover!=null&&(qe("beforetoggle",n),qe("toggle",n)),c.onScroll!=null&&qe("scroll",n),c.onScrollEnd!=null&&qe("scrollend",n),c.onClick!=null&&(n.onclick=qn),n=!0):n=!1,n||Sr(e,!0)}function gx(e){for(Qt=e.return;Qt;)switch(Qt.tag){case 5:case 31:case 13:Qa=!1;return;case 27:case 3:Qa=!0;return;default:Qt=Qt.return}}function Ks(e){if(e!==Qt)return!1;if(!Xe)return gx(e),Xe=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Fm(e.type,e.memoizedProps)),i=!i),i&&xt&&Sr(e),gx(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(t(317));xt=qv(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(t(317));xt=qv(e)}else n===27?(n=xt,zr(e.type)?(e=qm,qm=null,xt=e):xt=n):xt=Qt?Xa(e.stateNode.nextSibling):null;return!0}function os(){xt=Qt=null,Xe=!1}function jd(){var e=wr;return e!==null&&(ga===null?ga=e:ga.push.apply(ga,e),wr=null),e}function si(e){wr===null?wr=[e]:wr.push(e)}var wd=P(null),cs=null,Qn=null;function Cr(e,n,i){ue(wd,n._currentValue),n._currentValue=i}function Kn(e){e._currentValue=wd.current,ee(wd)}function Sd(e,n,i){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===i)break;e=e.return}}function Cd(e,n,i,c){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var h=f.dependencies;if(h!==null){var C=f.child;h=h.firstContext;e:for(;h!==null;){var E=h;h=f;for(var F=0;F<n.length;F++)if(E.context===n[F]){h.lanes|=i,E=h.alternate,E!==null&&(E.lanes|=i),Sd(h.return,i,e),c||(C=null);break e}h=E.next}}else if(f.tag===18){if(C=f.return,C===null)throw Error(t(341));C.lanes|=i,h=C.alternate,h!==null&&(h.lanes|=i),Sd(C,i,e),C=null}else C=f.child;if(C!==null)C.return=f;else for(C=f;C!==null;){if(C===e){C=null;break}if(f=C.sibling,f!==null){f.return=C.return,C=f;break}C=C.return}f=C}}function Xs(e,n,i,c){e=null;for(var f=n,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var C=f.alternate;if(C===null)throw Error(t(387));if(C=C.memoizedProps,C!==null){var E=f.type;Ma(f.pendingProps.value,C.value)||(e!==null?e.push(E):e=[E])}}else if(f===Se.current){if(C=f.alternate,C===null)throw Error(t(387));C.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(_i):e=[_i])}f=f.return}e!==null&&Cd(n,e,i,c),n.flags|=262144}function Ro(e){for(e=e.firstContext;e!==null;){if(!Ma(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function us(e){cs=e,Qn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Kt(e){return yx(cs,e)}function Io(e,n){return cs===null&&us(e),yx(e,n)}function yx(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},Qn===null){if(e===null)throw Error(t(308));Qn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Qn=Qn.next=n;return i}var MN=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,c){e.push(c)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},AN=s.unstable_scheduleCallback,TN=s.unstable_NormalPriority,It={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kd(){return{controller:new MN,data:new Map,refCount:0}}function li(e){e.refCount--,e.refCount===0&&AN(TN,function(){e.controller.abort()})}var ii=null,Dd=0,Ws=0,Zs=null;function EN(e,n){if(ii===null){var i=ii=[];Dd=0,Ws=Tm(),Zs={status:"pending",value:void 0,then:function(c){i.push(c)}}}return Dd++,n.then(Nx,Nx),n}function Nx(){if(--Dd===0&&ii!==null){Zs!==null&&(Zs.status="fulfilled");var e=ii;ii=null,Ws=0,Zs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function _N(e,n){var i=[],c={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return e.then(function(){c.status="fulfilled",c.value=n;for(var f=0;f<i.length;f++)(0,i[f])(n)},function(f){for(c.status="rejected",c.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),c}var jx=z.S;z.S=function(e,n){sv=Q(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&EN(e,n),jx!==null&&jx(e,n)};var ds=P(null);function Md(){var e=ds.current;return e!==null?e:ut.pooledCache}function Lo(e,n){n===null?ue(ds,ds.current):ue(ds,n.pool)}function wx(){var e=Md();return e===null?null:{parent:It._currentValue,pool:e}}var Js=Error(t(460)),Ad=Error(t(474)),Po=Error(t(542)),zo={then:function(){}};function Sx(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Cx(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(qn,qn),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Dx(e),e;default:if(typeof n.status=="string")n.then(qn,qn);else{if(e=ut,e!==null&&100<e.shellSuspendCounter)throw Error(t(482));e=n,e.status="pending",e.then(function(c){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=c}},function(c){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Dx(e),e}throw fs=n,Js}}function ms(e){try{var n=e._init;return n(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(fs=i,Js):i}}var fs=null;function kx(){if(fs===null)throw Error(t(459));var e=fs;return fs=null,e}function Dx(e){if(e===Js||e===Po)throw Error(t(483))}var el=null,oi=0;function Fo(e){var n=oi;return oi+=1,el===null&&(el=[]),Cx(el,e,n)}function ci(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Bo(e,n){throw n.$$typeof===y?Error(t(525)):(e=Object.prototype.toString.call(n),Error(t(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Mx(e){function n($,Y){if(e){var K=$.deletions;K===null?($.deletions=[Y],$.flags|=16):K.push(Y)}}function i($,Y){if(!e)return null;for(;Y!==null;)n($,Y),Y=Y.sibling;return null}function c($){for(var Y=new Map;$!==null;)$.key!==null?Y.set($.key,$):Y.set($.index,$),$=$.sibling;return Y}function f($,Y){return $=Vn($,Y),$.index=0,$.sibling=null,$}function h($,Y,K){return $.index=K,e?(K=$.alternate,K!==null?(K=K.index,K<Y?($.flags|=67108866,Y):K):($.flags|=67108866,Y)):($.flags|=1048576,Y)}function C($){return e&&$.alternate===null&&($.flags|=67108866),$}function E($,Y,K,ie){return Y===null||Y.tag!==6?(Y=vd(K,$.mode,ie),Y.return=$,Y):(Y=f(Y,K),Y.return=$,Y)}function F($,Y,K,ie){var Ae=K.type;return Ae===j?re($,Y,K.props.children,ie,K.key):Y!==null&&(Y.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===O&&ms(Ae)===Y.type)?(Y=f(Y,K.props),ci(Y,K),Y.return=$,Y):(Y=_o(K.type,K.key,K.props,null,$.mode,ie),ci(Y,K),Y.return=$,Y)}function X($,Y,K,ie){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==K.containerInfo||Y.stateNode.implementation!==K.implementation?(Y=bd(K,$.mode,ie),Y.return=$,Y):(Y=f(Y,K.children||[]),Y.return=$,Y)}function re($,Y,K,ie,Ae){return Y===null||Y.tag!==7?(Y=is(K,$.mode,ie,Ae),Y.return=$,Y):(Y=f(Y,K),Y.return=$,Y)}function ce($,Y,K){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=vd(""+Y,$.mode,K),Y.return=$,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:return K=_o(Y.type,Y.key,Y.props,null,$.mode,K),ci(K,Y),K.return=$,K;case M:return Y=bd(Y,$.mode,K),Y.return=$,Y;case O:return Y=ms(Y),ce($,Y,K)}if(U(Y)||A(Y))return Y=is(Y,$.mode,K,null),Y.return=$,Y;if(typeof Y.then=="function")return ce($,Fo(Y),K);if(Y.$$typeof===k)return ce($,Io($,Y),K);Bo($,Y)}return null}function Z($,Y,K,ie){var Ae=Y!==null?Y.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Ae!==null?null:E($,Y,""+K,ie);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case S:return K.key===Ae?F($,Y,K,ie):null;case M:return K.key===Ae?X($,Y,K,ie):null;case O:return K=ms(K),Z($,Y,K,ie)}if(U(K)||A(K))return Ae!==null?null:re($,Y,K,ie,null);if(typeof K.then=="function")return Z($,Y,Fo(K),ie);if(K.$$typeof===k)return Z($,Y,Io($,K),ie);Bo($,K)}return null}function te($,Y,K,ie,Ae){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return $=$.get(K)||null,E(Y,$,""+ie,Ae);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case S:return $=$.get(ie.key===null?K:ie.key)||null,F(Y,$,ie,Ae);case M:return $=$.get(ie.key===null?K:ie.key)||null,X(Y,$,ie,Ae);case O:return ie=ms(ie),te($,Y,K,ie,Ae)}if(U(ie)||A(ie))return $=$.get(K)||null,re(Y,$,ie,Ae,null);if(typeof ie.then=="function")return te($,Y,K,Fo(ie),Ae);if(ie.$$typeof===k)return te($,Y,K,Io(Y,ie),Ae);Bo(Y,ie)}return null}function Ce($,Y,K,ie){for(var Ae=null,Je=null,ke=Y,Fe=Y=0,Qe=null;ke!==null&&Fe<K.length;Fe++){ke.index>Fe?(Qe=ke,ke=null):Qe=ke.sibling;var et=Z($,ke,K[Fe],ie);if(et===null){ke===null&&(ke=Qe);break}e&&ke&&et.alternate===null&&n($,ke),Y=h(et,Y,Fe),Je===null?Ae=et:Je.sibling=et,Je=et,ke=Qe}if(Fe===K.length)return i($,ke),Xe&&Gn($,Fe),Ae;if(ke===null){for(;Fe<K.length;Fe++)ke=ce($,K[Fe],ie),ke!==null&&(Y=h(ke,Y,Fe),Je===null?Ae=ke:Je.sibling=ke,Je=ke);return Xe&&Gn($,Fe),Ae}for(ke=c(ke);Fe<K.length;Fe++)Qe=te(ke,$,Fe,K[Fe],ie),Qe!==null&&(e&&Qe.alternate!==null&&ke.delete(Qe.key===null?Fe:Qe.key),Y=h(Qe,Y,Fe),Je===null?Ae=Qe:Je.sibling=Qe,Je=Qe);return e&&ke.forEach(function(Ur){return n($,Ur)}),Xe&&Gn($,Fe),Ae}function _e($,Y,K,ie){if(K==null)throw Error(t(151));for(var Ae=null,Je=null,ke=Y,Fe=Y=0,Qe=null,et=K.next();ke!==null&&!et.done;Fe++,et=K.next()){ke.index>Fe?(Qe=ke,ke=null):Qe=ke.sibling;var Ur=Z($,ke,et.value,ie);if(Ur===null){ke===null&&(ke=Qe);break}e&&ke&&Ur.alternate===null&&n($,ke),Y=h(Ur,Y,Fe),Je===null?Ae=Ur:Je.sibling=Ur,Je=Ur,ke=Qe}if(et.done)return i($,ke),Xe&&Gn($,Fe),Ae;if(ke===null){for(;!et.done;Fe++,et=K.next())et=ce($,et.value,ie),et!==null&&(Y=h(et,Y,Fe),Je===null?Ae=et:Je.sibling=et,Je=et);return Xe&&Gn($,Fe),Ae}for(ke=c(ke);!et.done;Fe++,et=K.next())et=te(ke,$,Fe,et.value,ie),et!==null&&(e&&et.alternate!==null&&ke.delete(et.key===null?Fe:et.key),Y=h(et,Y,Fe),Je===null?Ae=et:Je.sibling=et,Je=et);return e&&ke.forEach(function(Uj){return n($,Uj)}),Xe&&Gn($,Fe),Ae}function ct($,Y,K,ie){if(typeof K=="object"&&K!==null&&K.type===j&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case S:e:{for(var Ae=K.key;Y!==null;){if(Y.key===Ae){if(Ae=K.type,Ae===j){if(Y.tag===7){i($,Y.sibling),ie=f(Y,K.props.children),ie.return=$,$=ie;break e}}else if(Y.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===O&&ms(Ae)===Y.type){i($,Y.sibling),ie=f(Y,K.props),ci(ie,K),ie.return=$,$=ie;break e}i($,Y);break}else n($,Y);Y=Y.sibling}K.type===j?(ie=is(K.props.children,$.mode,ie,K.key),ie.return=$,$=ie):(ie=_o(K.type,K.key,K.props,null,$.mode,ie),ci(ie,K),ie.return=$,$=ie)}return C($);case M:e:{for(Ae=K.key;Y!==null;){if(Y.key===Ae)if(Y.tag===4&&Y.stateNode.containerInfo===K.containerInfo&&Y.stateNode.implementation===K.implementation){i($,Y.sibling),ie=f(Y,K.children||[]),ie.return=$,$=ie;break e}else{i($,Y);break}else n($,Y);Y=Y.sibling}ie=bd(K,$.mode,ie),ie.return=$,$=ie}return C($);case O:return K=ms(K),ct($,Y,K,ie)}if(U(K))return Ce($,Y,K,ie);if(A(K)){if(Ae=A(K),typeof Ae!="function")throw Error(t(150));return K=Ae.call(K),_e($,Y,K,ie)}if(typeof K.then=="function")return ct($,Y,Fo(K),ie);if(K.$$typeof===k)return ct($,Y,Io($,K),ie);Bo($,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,Y!==null&&Y.tag===6?(i($,Y.sibling),ie=f(Y,K),ie.return=$,$=ie):(i($,Y),ie=vd(K,$.mode,ie),ie.return=$,$=ie),C($)):i($,Y)}return function($,Y,K,ie){try{oi=0;var Ae=ct($,Y,K,ie);return el=null,Ae}catch(ke){if(ke===Js||ke===Po)throw ke;var Je=Aa(29,ke,null,$.mode);return Je.lanes=ie,Je.return=$,Je}}}var ps=Mx(!0),Ax=Mx(!1),kr=!1;function Td(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ed(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Dr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Mr(e,n,i){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(tt&2)!==0){var f=c.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),c.pending=n,n=Eo(e),mx(e,null,i),n}return To(e,c,n,i),Eo(e)}function ui(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var c=n.lanes;c&=e.pendingLanes,i|=c,n.lanes=i,fo(e,i)}}function _d(e,n){var i=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,i===c)){var f=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var C={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?f=h=C:h=h.next=C,i=i.next}while(i!==null);h===null?f=h=n:h=h.next=n}else f=h=n;i={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:c.shared,callbacks:c.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var Od=!1;function di(){if(Od){var e=Zs;if(e!==null)throw e}}function mi(e,n,i,c){Od=!1;var f=e.updateQueue;kr=!1;var h=f.firstBaseUpdate,C=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var F=E,X=F.next;F.next=null,C===null?h=X:C.next=X,C=F;var re=e.alternate;re!==null&&(re=re.updateQueue,E=re.lastBaseUpdate,E!==C&&(E===null?re.firstBaseUpdate=X:E.next=X,re.lastBaseUpdate=F))}if(h!==null){var ce=f.baseState;C=0,re=X=F=null,E=h;do{var Z=E.lane&-536870913,te=Z!==E.lane;if(te?(Ge&Z)===Z:(c&Z)===Z){Z!==0&&Z===Ws&&(Od=!0),re!==null&&(re=re.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Ce=e,_e=E;Z=n;var ct=i;switch(_e.tag){case 1:if(Ce=_e.payload,typeof Ce=="function"){ce=Ce.call(ct,ce,Z);break e}ce=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=_e.payload,Z=typeof Ce=="function"?Ce.call(ct,ce,Z):Ce,Z==null)break e;ce=b({},ce,Z);break e;case 2:kr=!0}}Z=E.callback,Z!==null&&(e.flags|=64,te&&(e.flags|=8192),te=f.callbacks,te===null?f.callbacks=[Z]:te.push(Z))}else te={lane:Z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},re===null?(X=re=te,F=ce):re=re.next=te,C|=Z;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;te=E,E=te.next,te.next=null,f.lastBaseUpdate=te,f.shared.pending=null}}while(!0);re===null&&(F=ce),f.baseState=F,f.firstBaseUpdate=X,f.lastBaseUpdate=re,h===null&&(f.shared.lanes=0),Or|=C,e.lanes=C,e.memoizedState=ce}}function Tx(e,n){if(typeof e!="function")throw Error(t(191,e));e.call(n)}function Ex(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Tx(i[e],n)}var tl=P(null),Ho=P(0);function _x(e,n){e=rr,ue(Ho,e),ue(tl,n),rr=e|n.baseLanes}function Rd(){ue(Ho,rr),ue(tl,tl.current)}function Id(){rr=Ho.current,ee(tl),ee(Ho)}var Ta=P(null),Ka=null;function Ar(e){var n=e.alternate;ue(Dt,Dt.current&1),ue(Ta,e),Ka===null&&(n===null||tl.current!==null||n.memoizedState!==null)&&(Ka=e)}function Ld(e){ue(Dt,Dt.current),ue(Ta,e),Ka===null&&(Ka=e)}function Ox(e){e.tag===22?(ue(Dt,Dt.current),ue(Ta,e),Ka===null&&(Ka=e)):Tr()}function Tr(){ue(Dt,Dt.current),ue(Ta,Ta.current)}function Ea(e){ee(Ta),Ka===e&&(Ka=null),ee(Dt)}var Dt=P(0);function Yo(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Ym(i)||Um(i)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Xn=0,ze=null,it=null,Lt=null,Uo=!1,al=!1,xs=!1,qo=0,fi=0,nl=null,ON=0;function jt(){throw Error(t(321))}function Pd(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!Ma(e[i],n[i]))return!1;return!0}function zd(e,n,i,c,f,h){return Xn=h,ze=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,z.H=e===null||e.memoizedState===null?hh:Jd,xs=!1,h=i(c,f),xs=!1,al&&(h=Ix(n,i,c,f)),Rx(e),h}function Rx(e){z.H=hi;var n=it!==null&&it.next!==null;if(Xn=0,Lt=it=ze=null,Uo=!1,fi=0,nl=null,n)throw Error(t(300));e===null||Pt||(e=e.dependencies,e!==null&&Ro(e)&&(Pt=!0))}function Ix(e,n,i,c){ze=e;var f=0;do{if(al&&(nl=null),fi=0,al=!1,25<=f)throw Error(t(301));if(f+=1,Lt=it=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}z.H=vh,h=n(i,c)}while(al);return h}function RN(){var e=z.H,n=e.useState()[0];return n=typeof n.then=="function"?pi(n):n,e=e.useState()[0],(it!==null?it.memoizedState:null)!==e&&(ze.flags|=1024),n}function Fd(){var e=qo!==0;return qo=0,e}function Bd(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function Hd(e){if(Uo){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Uo=!1}Xn=0,Lt=it=ze=null,al=!1,fi=qo=0,nl=null}function ca(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?ze.memoizedState=Lt=e:Lt=Lt.next=e,Lt}function Mt(){if(it===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=it.next;var n=Lt===null?ze.memoizedState:Lt.next;if(n!==null)Lt=n,it=e;else{if(e===null)throw ze.alternate===null?Error(t(467)):Error(t(310));it=e,e={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Lt===null?ze.memoizedState=Lt=e:Lt=Lt.next=e}return Lt}function $o(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pi(e){var n=fi;return fi+=1,nl===null&&(nl=[]),e=Cx(nl,e,n),n=ze,(Lt===null?n.memoizedState:Lt.next)===null&&(n=n.alternate,z.H=n===null||n.memoizedState===null?hh:Jd),e}function Vo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return pi(e);if(e.$$typeof===k)return Kt(e)}throw Error(t(438,String(e)))}function Yd(e){var n=null,i=ze.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var c=ze.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=$o(),ze.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),c=0;c<e;c++)i[c]=I;return n.index++,i}function Wn(e,n){return typeof n=="function"?n(e):n}function Go(e){var n=Mt();return Ud(n,it,e)}function Ud(e,n,i){var c=e.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=i;var f=e.baseQueue,h=c.pending;if(h!==null){if(f!==null){var C=f.next;f.next=h.next,h.next=C}n.baseQueue=f=h,c.pending=null}if(h=e.baseState,f===null)e.memoizedState=h;else{n=f.next;var E=C=null,F=null,X=n,re=!1;do{var ce=X.lane&-536870913;if(ce!==X.lane?(Ge&ce)===ce:(Xn&ce)===ce){var Z=X.revertLane;if(Z===0)F!==null&&(F=F.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ce===Ws&&(re=!0);else if((Xn&Z)===Z){X=X.next,Z===Ws&&(re=!0);continue}else ce={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},F===null?(E=F=ce,C=h):F=F.next=ce,ze.lanes|=Z,Or|=Z;ce=X.action,xs&&i(h,ce),h=X.hasEagerState?X.eagerState:i(h,ce)}else Z={lane:ce,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},F===null?(E=F=Z,C=h):F=F.next=Z,ze.lanes|=ce,Or|=ce;X=X.next}while(X!==null&&X!==n);if(F===null?C=h:F.next=E,!Ma(h,e.memoizedState)&&(Pt=!0,re&&(i=Zs,i!==null)))throw i;e.memoizedState=h,e.baseState=C,e.baseQueue=F,c.lastRenderedState=h}return f===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function qd(e){var n=Mt(),i=n.queue;if(i===null)throw Error(t(311));i.lastRenderedReducer=e;var c=i.dispatch,f=i.pending,h=n.memoizedState;if(f!==null){i.pending=null;var C=f=f.next;do h=e(h,C.action),C=C.next;while(C!==f);Ma(h,n.memoizedState)||(Pt=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),i.lastRenderedState=h}return[h,c]}function Lx(e,n,i){var c=ze,f=Mt(),h=Xe;if(h){if(i===void 0)throw Error(t(407));i=i()}else i=n();var C=!Ma((it||f).memoizedState,i);if(C&&(f.memoizedState=i,Pt=!0),f=f.queue,Gd(Fx.bind(null,c,f,e),[e]),f.getSnapshot!==n||C||Lt!==null&&Lt.memoizedState.tag&1){if(c.flags|=2048,rl(9,{destroy:void 0},zx.bind(null,c,f,i,n),null),ut===null)throw Error(t(349));h||(Xn&127)!==0||Px(c,n,i)}return i}function Px(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=ze.updateQueue,n===null?(n=$o(),ze.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function zx(e,n,i,c){n.value=i,n.getSnapshot=c,Bx(n)&&Hx(e)}function Fx(e,n,i){return i(function(){Bx(n)&&Hx(e)})}function Bx(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!Ma(e,i)}catch{return!0}}function Hx(e){var n=ls(e,2);n!==null&&ya(n,e,2)}function $d(e){var n=ca();if(typeof e=="function"){var i=e;if(e=i(),xs){qt(!0);try{i()}finally{qt(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:e},n}function Yx(e,n,i,c){return e.baseState=i,Ud(e,it,typeof c=="function"?c:Wn)}function IN(e,n,i,c,f){if(Xo(e))throw Error(t(485));if(e=n.action,e!==null){var h={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){h.listeners.push(C)}};z.T!==null?i(!0):h.isTransition=!1,c(h),i=n.pending,i===null?(h.next=n.pending=h,Ux(n,h)):(h.next=i.next,n.pending=i.next=h)}}function Ux(e,n){var i=n.action,c=n.payload,f=e.state;if(n.isTransition){var h=z.T,C={};z.T=C;try{var E=i(f,c),F=z.S;F!==null&&F(C,E),qx(e,n,E)}catch(X){Vd(e,n,X)}finally{h!==null&&C.types!==null&&(h.types=C.types),z.T=h}}else try{h=i(f,c),qx(e,n,h)}catch(X){Vd(e,n,X)}}function qx(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(c){$x(e,n,c)},function(c){return Vd(e,n,c)}):$x(e,n,i)}function $x(e,n,i){n.status="fulfilled",n.value=i,Vx(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,Ux(e,i)))}function Vd(e,n,i){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=i,Vx(n),n=n.next;while(n!==c)}e.action=null}function Vx(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Gx(e,n){return n}function Qx(e,n){if(Xe){var i=ut.formState;if(i!==null){e:{var c=ze;if(Xe){if(xt){t:{for(var f=xt,h=Qa;f.nodeType!==8;){if(!h){f=null;break t}if(f=Xa(f.nextSibling),f===null){f=null;break t}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){xt=Xa(f.nextSibling),c=f.data==="F!";break e}}Sr(c)}c=!1}c&&(n=i[0])}}return i=ca(),i.memoizedState=i.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gx,lastRenderedState:n},i.queue=c,i=fh.bind(null,ze,c),c.dispatch=i,c=$d(!1),h=Zd.bind(null,ze,!1,c.queue),c=ca(),f={state:n,dispatch:null,action:e,pending:null},c.queue=f,i=IN.bind(null,ze,f,h,i),f.dispatch=i,c.memoizedState=e,[n,i,!1]}function Kx(e){var n=Mt();return Xx(n,it,e)}function Xx(e,n,i){if(n=Ud(e,n,Gx)[0],e=Go(Wn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var c=pi(n)}catch(C){throw C===Js?Po:C}else c=n;n=Mt();var f=n.queue,h=f.dispatch;return i!==n.memoizedState&&(ze.flags|=2048,rl(9,{destroy:void 0},LN.bind(null,f,i),null)),[c,h,e]}function LN(e,n){e.action=n}function Wx(e){var n=Mt(),i=it;if(i!==null)return Xx(n,i,e);Mt(),n=n.memoizedState,i=Mt();var c=i.queue.dispatch;return i.memoizedState=e,[n,c,!1]}function rl(e,n,i,c){return e={tag:e,create:i,deps:c,inst:n,next:null},n=ze.updateQueue,n===null&&(n=$o(),ze.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(c=i.next,i.next=e,e.next=c,n.lastEffect=e),e}function Zx(){return Mt().memoizedState}function Qo(e,n,i,c){var f=ca();ze.flags|=e,f.memoizedState=rl(1|n,{destroy:void 0},i,c===void 0?null:c)}function Ko(e,n,i,c){var f=Mt();c=c===void 0?null:c;var h=f.memoizedState.inst;it!==null&&c!==null&&Pd(c,it.memoizedState.deps)?f.memoizedState=rl(n,h,i,c):(ze.flags|=e,f.memoizedState=rl(1|n,h,i,c))}function Jx(e,n){Qo(8390656,8,e,n)}function Gd(e,n){Ko(2048,8,e,n)}function PN(e){ze.flags|=4;var n=ze.updateQueue;if(n===null)n=$o(),ze.updateQueue=n,n.events=[e];else{var i=n.events;i===null?n.events=[e]:i.push(e)}}function eh(e){var n=Mt().memoizedState;return PN({ref:n,nextImpl:e}),function(){if((tt&2)!==0)throw Error(t(440));return n.impl.apply(void 0,arguments)}}function th(e,n){return Ko(4,2,e,n)}function ah(e,n){return Ko(4,4,e,n)}function nh(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function rh(e,n,i){i=i!=null?i.concat([e]):null,Ko(4,4,nh.bind(null,n,e),i)}function Qd(){}function sh(e,n){var i=Mt();n=n===void 0?null:n;var c=i.memoizedState;return n!==null&&Pd(n,c[1])?c[0]:(i.memoizedState=[e,n],e)}function lh(e,n){var i=Mt();n=n===void 0?null:n;var c=i.memoizedState;if(n!==null&&Pd(n,c[1]))return c[0];if(c=e(),xs){qt(!0);try{e()}finally{qt(!1)}}return i.memoizedState=[c,n],c}function Kd(e,n,i){return i===void 0||(Xn&1073741824)!==0&&(Ge&261930)===0?e.memoizedState=n:(e.memoizedState=i,e=iv(),ze.lanes|=e,Or|=e,i)}function ih(e,n,i,c){return Ma(i,n)?i:tl.current!==null?(e=Kd(e,i,c),Ma(e,n)||(Pt=!0),e):(Xn&42)===0||(Xn&1073741824)!==0&&(Ge&261930)===0?(Pt=!0,e.memoizedState=i):(e=iv(),ze.lanes|=e,Or|=e,n)}function oh(e,n,i,c,f){var h=W.p;W.p=h!==0&&8>h?h:8;var C=z.T,E={};z.T=E,Zd(e,!1,n,i);try{var F=f(),X=z.S;if(X!==null&&X(E,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var re=_N(F,c);xi(e,n,re,Ra(e))}else xi(e,n,c,Ra(e))}catch(ce){xi(e,n,{then:function(){},status:"rejected",reason:ce},Ra())}finally{W.p=h,C!==null&&E.types!==null&&(C.types=E.types),z.T=C}}function zN(){}function Xd(e,n,i,c){if(e.tag!==5)throw Error(t(476));var f=ch(e).queue;oh(e,f,n,R,i===null?zN:function(){return uh(e),i(c)})}function ch(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:R},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function uh(e){var n=ch(e);n.next===null&&(n=e.alternate.memoizedState),xi(e,n.next.queue,{},Ra())}function Wd(){return Kt(_i)}function dh(){return Mt().memoizedState}function mh(){return Mt().memoizedState}function FN(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=Ra();e=Dr(i);var c=Mr(n,e,i);c!==null&&(ya(c,n,i),ui(c,n,i)),n={cache:kd()},e.payload=n;return}n=n.return}}function BN(e,n,i){var c=Ra();i={lane:c,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Xo(e)?ph(n,i):(i=xd(e,n,i,c),i!==null&&(ya(i,e,c),xh(i,n,c)))}function fh(e,n,i){var c=Ra();xi(e,n,i,c)}function xi(e,n,i,c){var f={lane:c,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Xo(e))ph(n,f);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var C=n.lastRenderedState,E=h(C,i);if(f.hasEagerState=!0,f.eagerState=E,Ma(E,C))return To(e,n,f,0),ut===null&&Ao(),!1}catch{}if(i=xd(e,n,f,c),i!==null)return ya(i,e,c),xh(i,n,c),!0}return!1}function Zd(e,n,i,c){if(c={lane:2,revertLane:Tm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Xo(e)){if(n)throw Error(t(479))}else n=xd(e,i,c,2),n!==null&&ya(n,e,2)}function Xo(e){var n=e.alternate;return e===ze||n!==null&&n===ze}function ph(e,n){al=Uo=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function xh(e,n,i){if((i&4194048)!==0){var c=n.lanes;c&=e.pendingLanes,i|=c,n.lanes=i,fo(e,i)}}var hi={readContext:Kt,use:Vo,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useInsertionEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useSyncExternalStore:jt,useId:jt,useHostTransitionStatus:jt,useFormState:jt,useActionState:jt,useOptimistic:jt,useMemoCache:jt,useCacheRefresh:jt};hi.useEffectEvent=jt;var hh={readContext:Kt,use:Vo,useCallback:function(e,n){return ca().memoizedState=[e,n===void 0?null:n],e},useContext:Kt,useEffect:Jx,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,Qo(4194308,4,nh.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Qo(4194308,4,e,n)},useInsertionEffect:function(e,n){Qo(4,2,e,n)},useMemo:function(e,n){var i=ca();n=n===void 0?null:n;var c=e();if(xs){qt(!0);try{e()}finally{qt(!1)}}return i.memoizedState=[c,n],c},useReducer:function(e,n,i){var c=ca();if(i!==void 0){var f=i(n);if(xs){qt(!0);try{i(n)}finally{qt(!1)}}}else f=n;return c.memoizedState=c.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},c.queue=e,e=e.dispatch=BN.bind(null,ze,e),[c.memoizedState,e]},useRef:function(e){var n=ca();return e={current:e},n.memoizedState=e},useState:function(e){e=$d(e);var n=e.queue,i=fh.bind(null,ze,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:Qd,useDeferredValue:function(e,n){var i=ca();return Kd(i,e,n)},useTransition:function(){var e=$d(!1);return e=oh.bind(null,ze,e.queue,!0,!1),ca().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var c=ze,f=ca();if(Xe){if(i===void 0)throw Error(t(407));i=i()}else{if(i=n(),ut===null)throw Error(t(349));(Ge&127)!==0||Px(c,n,i)}f.memoizedState=i;var h={value:i,getSnapshot:n};return f.queue=h,Jx(Fx.bind(null,c,h,e),[e]),c.flags|=2048,rl(9,{destroy:void 0},zx.bind(null,c,h,i,n),null),i},useId:function(){var e=ca(),n=ut.identifierPrefix;if(Xe){var i=Nn,c=yn;i=(c&~(1<<32-Le(c)-1)).toString(32)+i,n="_"+n+"R_"+i,i=qo++,0<i&&(n+="H"+i.toString(32)),n+="_"}else i=ON++,n="_"+n+"r_"+i.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Wd,useFormState:Qx,useActionState:Qx,useOptimistic:function(e){var n=ca();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=Zd.bind(null,ze,!0,i),i.dispatch=n,[e,n]},useMemoCache:Yd,useCacheRefresh:function(){return ca().memoizedState=FN.bind(null,ze)},useEffectEvent:function(e){var n=ca(),i={impl:e};return n.memoizedState=i,function(){if((tt&2)!==0)throw Error(t(440));return i.impl.apply(void 0,arguments)}}},Jd={readContext:Kt,use:Vo,useCallback:sh,useContext:Kt,useEffect:Gd,useImperativeHandle:rh,useInsertionEffect:th,useLayoutEffect:ah,useMemo:lh,useReducer:Go,useRef:Zx,useState:function(){return Go(Wn)},useDebugValue:Qd,useDeferredValue:function(e,n){var i=Mt();return ih(i,it.memoizedState,e,n)},useTransition:function(){var e=Go(Wn)[0],n=Mt().memoizedState;return[typeof e=="boolean"?e:pi(e),n]},useSyncExternalStore:Lx,useId:dh,useHostTransitionStatus:Wd,useFormState:Kx,useActionState:Kx,useOptimistic:function(e,n){var i=Mt();return Yx(i,it,e,n)},useMemoCache:Yd,useCacheRefresh:mh};Jd.useEffectEvent=eh;var vh={readContext:Kt,use:Vo,useCallback:sh,useContext:Kt,useEffect:Gd,useImperativeHandle:rh,useInsertionEffect:th,useLayoutEffect:ah,useMemo:lh,useReducer:qd,useRef:Zx,useState:function(){return qd(Wn)},useDebugValue:Qd,useDeferredValue:function(e,n){var i=Mt();return it===null?Kd(i,e,n):ih(i,it.memoizedState,e,n)},useTransition:function(){var e=qd(Wn)[0],n=Mt().memoizedState;return[typeof e=="boolean"?e:pi(e),n]},useSyncExternalStore:Lx,useId:dh,useHostTransitionStatus:Wd,useFormState:Wx,useActionState:Wx,useOptimistic:function(e,n){var i=Mt();return it!==null?Yx(i,it,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Yd,useCacheRefresh:mh};vh.useEffectEvent=eh;function em(e,n,i,c){n=e.memoizedState,i=i(c,n),i=i==null?n:b({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var tm={enqueueSetState:function(e,n,i){e=e._reactInternals;var c=Ra(),f=Dr(c);f.payload=n,i!=null&&(f.callback=i),n=Mr(e,f,c),n!==null&&(ya(n,e,c),ui(n,e,c))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var c=Ra(),f=Dr(c);f.tag=1,f.payload=n,i!=null&&(f.callback=i),n=Mr(e,f,c),n!==null&&(ya(n,e,c),ui(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Ra(),c=Dr(i);c.tag=2,n!=null&&(c.callback=n),n=Mr(e,c,i),n!==null&&(ya(n,e,i),ui(n,e,i))}};function bh(e,n,i,c,f,h,C){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,h,C):n.prototype&&n.prototype.isPureReactComponent?!ai(i,c)||!ai(f,h):!0}function gh(e,n,i,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,c),n.state!==e&&tm.enqueueReplaceState(n,n.state,null)}function hs(e,n){var i=n;if("ref"in n){i={};for(var c in n)c!=="ref"&&(i[c]=n[c])}if(e=e.defaultProps){i===n&&(i=b({},i));for(var f in e)i[f]===void 0&&(i[f]=e[f])}return i}function yh(e){Mo(e)}function Nh(e){console.error(e)}function jh(e){Mo(e)}function Wo(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function wh(e,n,i){try{var c=e.onCaughtError;c(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function am(e,n,i){return i=Dr(i),i.tag=3,i.payload={element:null},i.callback=function(){Wo(e,n)},i}function Sh(e){return e=Dr(e),e.tag=3,e}function Ch(e,n,i,c){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var h=c.value;e.payload=function(){return f(h)},e.callback=function(){wh(n,i,c)}}var C=i.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(e.callback=function(){wh(n,i,c),typeof f!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var E=c.stack;this.componentDidCatch(c.value,{componentStack:E!==null?E:""})})}function HN(e,n,i,c,f){if(i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=i.alternate,n!==null&&Xs(n,i,f,!0),i=Ta.current,i!==null){switch(i.tag){case 31:case 13:return Ka===null?cc():i.alternate===null&&wt===0&&(wt=3),i.flags&=-257,i.flags|=65536,i.lanes=f,c===zo?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([c]):n.add(c),Dm(e,c,f)),!1;case 22:return i.flags|=65536,c===zo?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([c]):i.add(c)),Dm(e,c,f)),!1}throw Error(t(435,i.tag))}return Dm(e,c,f),cc(),!1}if(Xe)return n=Ta.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,c!==Nd&&(e=Error(t(422),{cause:c}),si($a(e,i)))):(c!==Nd&&(n=Error(t(423),{cause:c}),si($a(n,i))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,c=$a(c,i),f=am(e.stateNode,c,f),_d(e,f),wt!==4&&(wt=2)),!1;var h=Error(t(520),{cause:c});if(h=$a(h,i),Si===null?Si=[h]:Si.push(h),wt!==4&&(wt=2),n===null)return!0;c=$a(c,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=f&-f,i.lanes|=e,e=am(i.stateNode,c,e),_d(i,e),!1;case 1:if(n=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Rr===null||!Rr.has(h))))return i.flags|=65536,f&=-f,i.lanes|=f,f=Sh(f),Ch(f,e,i,c),_d(i,f),!1}i=i.return}while(i!==null);return!1}var nm=Error(t(461)),Pt=!1;function Xt(e,n,i,c){n.child=e===null?Ax(n,null,i,c):ps(n,e.child,i,c)}function kh(e,n,i,c,f){i=i.render;var h=n.ref;if("ref"in c){var C={};for(var E in c)E!=="ref"&&(C[E]=c[E])}else C=c;return us(n),c=zd(e,n,i,C,h,f),E=Fd(),e!==null&&!Pt?(Bd(e,n,f),Zn(e,n,f)):(Xe&&E&&gd(n),n.flags|=1,Xt(e,n,c,f),n.child)}function Dh(e,n,i,c,f){if(e===null){var h=i.type;return typeof h=="function"&&!hd(h)&&h.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=h,Mh(e,n,h,c,f)):(e=_o(i.type,null,c,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!dm(e,f)){var C=h.memoizedProps;if(i=i.compare,i=i!==null?i:ai,i(C,c)&&e.ref===n.ref)return Zn(e,n,f)}return n.flags|=1,e=Vn(h,c),e.ref=n.ref,e.return=n,n.child=e}function Mh(e,n,i,c,f){if(e!==null){var h=e.memoizedProps;if(ai(h,c)&&e.ref===n.ref)if(Pt=!1,n.pendingProps=c=h,dm(e,f))(e.flags&131072)!==0&&(Pt=!0);else return n.lanes=e.lanes,Zn(e,n,f)}return rm(e,n,i,c,f)}function Ah(e,n,i,c){var f=c.children,h=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|i:i,e!==null){for(c=n.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~h}else c=0,n.child=null;return Th(e,n,h,i,c)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Lo(n,h!==null?h.cachePool:null),h!==null?_x(n,h):Rd(),Ox(n);else return c=n.lanes=536870912,Th(e,n,h!==null?h.baseLanes|i:i,i,c)}else h!==null?(Lo(n,h.cachePool),_x(n,h),Tr(),n.memoizedState=null):(e!==null&&Lo(n,null),Rd(),Tr());return Xt(e,n,f,i),n.child}function vi(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Th(e,n,i,c,f){var h=Md();return h=h===null?null:{parent:It._currentValue,pool:h},n.memoizedState={baseLanes:i,cachePool:h},e!==null&&Lo(n,null),Rd(),Ox(n),e!==null&&Xs(e,n,c,!0),n.childLanes=f,null}function Zo(e,n){return n=ec({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Eh(e,n,i){return ps(n,e.child,null,i),e=Zo(n,n.pendingProps),e.flags|=2,Ea(n),n.memoizedState=null,e}function YN(e,n,i){var c=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Xe){if(c.mode==="hidden")return e=Zo(n,c),n.lanes=536870912,vi(null,e);if(Ld(n),(e=xt)?(e=Uv(e,Qa),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:jr!==null?{id:yn,overflow:Nn}:null,retryLane:536870912,hydrationErrors:null},i=px(e),i.return=n,n.child=i,Qt=n,xt=null)):e=null,e===null)throw Sr(n);return n.lanes=536870912,null}return Zo(n,c)}var h=e.memoizedState;if(h!==null){var C=h.dehydrated;if(Ld(n),f)if(n.flags&256)n.flags&=-257,n=Eh(e,n,i);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(t(558));else if(Pt||Xs(e,n,i,!1),f=(i&e.childLanes)!==0,Pt||f){if(c=ut,c!==null&&(C=po(c,i),C!==0&&C!==h.retryLane))throw h.retryLane=C,ls(e,C),ya(c,e,C),nm;cc(),n=Eh(e,n,i)}else e=h.treeContext,xt=Xa(C.nextSibling),Qt=n,Xe=!0,wr=null,Qa=!1,e!==null&&vx(n,e),n=Zo(n,c),n.flags|=4096;return n}return e=Vn(e.child,{mode:c.mode,children:c.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Jo(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(t(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function rm(e,n,i,c,f){return us(n),i=zd(e,n,i,c,void 0,f),c=Fd(),e!==null&&!Pt?(Bd(e,n,f),Zn(e,n,f)):(Xe&&c&&gd(n),n.flags|=1,Xt(e,n,i,f),n.child)}function _h(e,n,i,c,f,h){return us(n),n.updateQueue=null,i=Ix(n,c,i,f),Rx(e),c=Fd(),e!==null&&!Pt?(Bd(e,n,h),Zn(e,n,h)):(Xe&&c&&gd(n),n.flags|=1,Xt(e,n,i,h),n.child)}function Oh(e,n,i,c,f){if(us(n),n.stateNode===null){var h=Vs,C=i.contextType;typeof C=="object"&&C!==null&&(h=Kt(C)),h=new i(c,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=tm,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=c,h.state=n.memoizedState,h.refs={},Td(n),C=i.contextType,h.context=typeof C=="object"&&C!==null?Kt(C):Vs,h.state=n.memoizedState,C=i.getDerivedStateFromProps,typeof C=="function"&&(em(n,i,C,c),h.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(C=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),C!==h.state&&tm.enqueueReplaceState(h,h.state,null),mi(n,c,h,f),di(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(e===null){h=n.stateNode;var E=n.memoizedProps,F=hs(i,E);h.props=F;var X=h.context,re=i.contextType;C=Vs,typeof re=="object"&&re!==null&&(C=Kt(re));var ce=i.getDerivedStateFromProps;re=typeof ce=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,re||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||X!==C)&&gh(n,h,c,C),kr=!1;var Z=n.memoizedState;h.state=Z,mi(n,c,h,f),di(),X=n.memoizedState,E||Z!==X||kr?(typeof ce=="function"&&(em(n,i,ce,c),X=n.memoizedState),(F=kr||bh(n,i,F,c,Z,X,C))?(re||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=X),h.props=c,h.state=X,h.context=C,c=F):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{h=n.stateNode,Ed(e,n),C=n.memoizedProps,re=hs(i,C),h.props=re,ce=n.pendingProps,Z=h.context,X=i.contextType,F=Vs,typeof X=="object"&&X!==null&&(F=Kt(X)),E=i.getDerivedStateFromProps,(X=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(C!==ce||Z!==F)&&gh(n,h,c,F),kr=!1,Z=n.memoizedState,h.state=Z,mi(n,c,h,f),di();var te=n.memoizedState;C!==ce||Z!==te||kr||e!==null&&e.dependencies!==null&&Ro(e.dependencies)?(typeof E=="function"&&(em(n,i,E,c),te=n.memoizedState),(re=kr||bh(n,i,re,c,Z,te,F)||e!==null&&e.dependencies!==null&&Ro(e.dependencies))?(X||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(c,te,F),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(c,te,F)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||C===e.memoizedProps&&Z===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&Z===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=te),h.props=c,h.state=te,h.context=F,c=re):(typeof h.componentDidUpdate!="function"||C===e.memoizedProps&&Z===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&Z===e.memoizedState||(n.flags|=1024),c=!1)}return h=c,Jo(e,n),c=(n.flags&128)!==0,h||c?(h=n.stateNode,i=c&&typeof i.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&c?(n.child=ps(n,e.child,null,f),n.child=ps(n,null,i,f)):Xt(e,n,i,f),n.memoizedState=h.state,e=n.child):e=Zn(e,n,f),e}function Rh(e,n,i,c){return os(),n.flags|=256,Xt(e,n,i,c),n.child}var sm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lm(e){return{baseLanes:e,cachePool:wx()}}function im(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=Oa),e}function Ih(e,n,i){var c=n.pendingProps,f=!1,h=(n.flags&128)!==0,C;if((C=h)||(C=e!==null&&e.memoizedState===null?!1:(Dt.current&2)!==0),C&&(f=!0,n.flags&=-129),C=(n.flags&32)!==0,n.flags&=-33,e===null){if(Xe){if(f?Ar(n):Tr(),(e=xt)?(e=Uv(e,Qa),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:jr!==null?{id:yn,overflow:Nn}:null,retryLane:536870912,hydrationErrors:null},i=px(e),i.return=n,n.child=i,Qt=n,xt=null)):e=null,e===null)throw Sr(n);return Um(e)?n.lanes=32:n.lanes=536870912,null}var E=c.children;return c=c.fallback,f?(Tr(),f=n.mode,E=ec({mode:"hidden",children:E},f),c=is(c,f,i,null),E.return=n,c.return=n,E.sibling=c,n.child=E,c=n.child,c.memoizedState=lm(i),c.childLanes=im(e,C,i),n.memoizedState=sm,vi(null,c)):(Ar(n),om(n,E))}var F=e.memoizedState;if(F!==null&&(E=F.dehydrated,E!==null)){if(h)n.flags&256?(Ar(n),n.flags&=-257,n=cm(e,n,i)):n.memoizedState!==null?(Tr(),n.child=e.child,n.flags|=128,n=null):(Tr(),E=c.fallback,f=n.mode,c=ec({mode:"visible",children:c.children},f),E=is(E,f,i,null),E.flags|=2,c.return=n,E.return=n,c.sibling=E,n.child=c,ps(n,e.child,null,i),c=n.child,c.memoizedState=lm(i),c.childLanes=im(e,C,i),n.memoizedState=sm,n=vi(null,c));else if(Ar(n),Um(E)){if(C=E.nextSibling&&E.nextSibling.dataset,C)var X=C.dgst;C=X,c=Error(t(419)),c.stack="",c.digest=C,si({value:c,source:null,stack:null}),n=cm(e,n,i)}else if(Pt||Xs(e,n,i,!1),C=(i&e.childLanes)!==0,Pt||C){if(C=ut,C!==null&&(c=po(C,i),c!==0&&c!==F.retryLane))throw F.retryLane=c,ls(e,c),ya(C,e,c),nm;Ym(E)||cc(),n=cm(e,n,i)}else Ym(E)?(n.flags|=192,n.child=e.child,n=null):(e=F.treeContext,xt=Xa(E.nextSibling),Qt=n,Xe=!0,wr=null,Qa=!1,e!==null&&vx(n,e),n=om(n,c.children),n.flags|=4096);return n}return f?(Tr(),E=c.fallback,f=n.mode,F=e.child,X=F.sibling,c=Vn(F,{mode:"hidden",children:c.children}),c.subtreeFlags=F.subtreeFlags&65011712,X!==null?E=Vn(X,E):(E=is(E,f,i,null),E.flags|=2),E.return=n,c.return=n,c.sibling=E,n.child=c,vi(null,c),c=n.child,E=e.child.memoizedState,E===null?E=lm(i):(f=E.cachePool,f!==null?(F=It._currentValue,f=f.parent!==F?{parent:F,pool:F}:f):f=wx(),E={baseLanes:E.baseLanes|i,cachePool:f}),c.memoizedState=E,c.childLanes=im(e,C,i),n.memoizedState=sm,vi(e.child,c)):(Ar(n),i=e.child,e=i.sibling,i=Vn(i,{mode:"visible",children:c.children}),i.return=n,i.sibling=null,e!==null&&(C=n.deletions,C===null?(n.deletions=[e],n.flags|=16):C.push(e)),n.child=i,n.memoizedState=null,i)}function om(e,n){return n=ec({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ec(e,n){return e=Aa(22,e,null,n),e.lanes=0,e}function cm(e,n,i){return ps(n,e.child,null,i),e=om(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Lh(e,n,i){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),Sd(e.return,n,i)}function um(e,n,i,c,f,h){var C=e.memoizedState;C===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:i,tailMode:f,treeForkCount:h}:(C.isBackwards=n,C.rendering=null,C.renderingStartTime=0,C.last=c,C.tail=i,C.tailMode=f,C.treeForkCount=h)}function Ph(e,n,i){var c=n.pendingProps,f=c.revealOrder,h=c.tail;c=c.children;var C=Dt.current,E=(C&2)!==0;if(E?(C=C&1|2,n.flags|=128):C&=1,ue(Dt,C),Xt(e,n,c,i),c=Xe?ri:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lh(e,i,n);else if(e.tag===19)Lh(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(i=n.child,f=null;i!==null;)e=i.alternate,e!==null&&Yo(e)===null&&(f=i),i=i.sibling;i=f,i===null?(f=n.child,n.child=null):(f=i.sibling,i.sibling=null),um(n,!1,f,i,h,c);break;case"backwards":case"unstable_legacy-backwards":for(i=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Yo(e)===null){n.child=f;break}e=f.sibling,f.sibling=i,i=f,f=e}um(n,!0,i,null,h,c);break;case"together":um(n,!1,null,null,void 0,c);break;default:n.memoizedState=null}return n.child}function Zn(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Or|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(Xs(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(t(153));if(n.child!==null){for(e=n.child,i=Vn(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=Vn(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function dm(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ro(e)))}function UN(e,n,i){switch(n.tag){case 3:Te(n,n.stateNode.containerInfo),Cr(n,It,e.memoizedState.cache),os();break;case 27:case 5:Ft(n);break;case 4:Te(n,n.stateNode.containerInfo);break;case 10:Cr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ld(n),null;break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(Ar(n),n.flags|=128,null):(i&n.child.childLanes)!==0?Ih(e,n,i):(Ar(n),e=Zn(e,n,i),e!==null?e.sibling:null);Ar(n);break;case 19:var f=(e.flags&128)!==0;if(c=(i&n.childLanes)!==0,c||(Xs(e,n,i,!1),c=(i&n.childLanes)!==0),f){if(c)return Ph(e,n,i);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(Dt,Dt.current),c)break;return null;case 22:return n.lanes=0,Ah(e,n,i,n.pendingProps);case 24:Cr(n,It,e.memoizedState.cache)}return Zn(e,n,i)}function zh(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)Pt=!0;else{if(!dm(e,i)&&(n.flags&128)===0)return Pt=!1,UN(e,n,i);Pt=(e.flags&131072)!==0}else Pt=!1,Xe&&(n.flags&1048576)!==0&&hx(n,ri,n.index);switch(n.lanes=0,n.tag){case 16:e:{var c=n.pendingProps;if(e=ms(n.elementType),n.type=e,typeof e=="function")hd(e)?(c=hs(e,c),n.tag=1,n=Oh(null,n,e,c,i)):(n.tag=0,n=rm(null,n,e,c,i));else{if(e!=null){var f=e.$$typeof;if(f===T){n.tag=11,n=kh(null,n,e,c,i);break e}else if(f===H){n.tag=14,n=Dh(null,n,e,c,i);break e}}throw n=oe(e)||e,Error(t(306,n,""))}}return n;case 0:return rm(e,n,n.type,n.pendingProps,i);case 1:return c=n.type,f=hs(c,n.pendingProps),Oh(e,n,c,f,i);case 3:e:{if(Te(n,n.stateNode.containerInfo),e===null)throw Error(t(387));c=n.pendingProps;var h=n.memoizedState;f=h.element,Ed(e,n),mi(n,c,null,i);var C=n.memoizedState;if(c=C.cache,Cr(n,It,c),c!==h.cache&&Cd(n,[It],i,!0),di(),c=C.element,h.isDehydrated)if(h={element:c,isDehydrated:!1,cache:C.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Rh(e,n,c,i);break e}else if(c!==f){f=$a(Error(t(424)),n),si(f),n=Rh(e,n,c,i);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,xt=Xa(e.firstChild),Qt=n,Xe=!0,wr=null,Qa=!0,i=Ax(n,null,c,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(os(),c===f){n=Zn(e,n,i);break e}Xt(e,n,c,i)}n=n.child}return n;case 26:return Jo(e,n),e===null?(i=Kv(n.type,null,n.pendingProps,null))?n.memoizedState=i:Xe||(i=n.type,e=n.pendingProps,c=hc(we.current).createElement(i),c[Bt]=n,c[aa]=e,Wt(c,i,e),$t(c),n.stateNode=c):n.memoizedState=Kv(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ft(n),e===null&&Xe&&(c=n.stateNode=Vv(n.type,n.pendingProps,we.current),Qt=n,Qa=!0,f=xt,zr(n.type)?(qm=f,xt=Xa(c.firstChild)):xt=f),Xt(e,n,n.pendingProps.children,i),Jo(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Xe&&((f=c=xt)&&(c=gj(c,n.type,n.pendingProps,Qa),c!==null?(n.stateNode=c,Qt=n,xt=Xa(c.firstChild),Qa=!1,f=!0):f=!1),f||Sr(n)),Ft(n),f=n.type,h=n.pendingProps,C=e!==null?e.memoizedProps:null,c=h.children,Fm(f,h)?c=null:C!==null&&Fm(f,C)&&(n.flags|=32),n.memoizedState!==null&&(f=zd(e,n,RN,null,null,i),_i._currentValue=f),Jo(e,n),Xt(e,n,c,i),n.child;case 6:return e===null&&Xe&&((e=i=xt)&&(i=yj(i,n.pendingProps,Qa),i!==null?(n.stateNode=i,Qt=n,xt=null,e=!0):e=!1),e||Sr(n)),null;case 13:return Ih(e,n,i);case 4:return Te(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=ps(n,null,c,i):Xt(e,n,c,i),n.child;case 11:return kh(e,n,n.type,n.pendingProps,i);case 7:return Xt(e,n,n.pendingProps,i),n.child;case 8:return Xt(e,n,n.pendingProps.children,i),n.child;case 12:return Xt(e,n,n.pendingProps.children,i),n.child;case 10:return c=n.pendingProps,Cr(n,n.type,c.value),Xt(e,n,c.children,i),n.child;case 9:return f=n.type._context,c=n.pendingProps.children,us(n),f=Kt(f),c=c(f),n.flags|=1,Xt(e,n,c,i),n.child;case 14:return Dh(e,n,n.type,n.pendingProps,i);case 15:return Mh(e,n,n.type,n.pendingProps,i);case 19:return Ph(e,n,i);case 31:return YN(e,n,i);case 22:return Ah(e,n,i,n.pendingProps);case 24:return us(n),c=Kt(It),e===null?(f=Md(),f===null&&(f=ut,h=kd(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=i),f=h),n.memoizedState={parent:c,cache:f},Td(n),Cr(n,It,f)):((e.lanes&i)!==0&&(Ed(e,n),mi(n,null,null,i),di()),f=e.memoizedState,h=n.memoizedState,f.parent!==c?(f={parent:c,cache:c},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Cr(n,It,c)):(c=h.cache,Cr(n,It,c),c!==f.cache&&Cd(n,[It],i,!0))),Xt(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(t(156,n.tag))}function Jn(e){e.flags|=4}function mm(e,n,i,c,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(dv())e.flags|=8192;else throw fs=zo,Ad}else e.flags&=-16777217}function Fh(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!e0(n))if(dv())e.flags|=8192;else throw fs=zo,Ad}function tc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Yn():536870912,e.lanes|=n,ol|=n)}function bi(e,n){if(!Xe)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function ht(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,c=0;if(n)for(var f=e.child;f!==null;)i|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)i|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=c,e.childLanes=i,n}function qN(e,n,i){var c=n.pendingProps;switch(yd(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(n),null;case 1:return ht(n),null;case 3:return i=n.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),Kn(It),Be(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Ks(n)?Jn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,jd())),ht(n),null;case 26:var f=n.type,h=n.memoizedState;return e===null?(Jn(n),h!==null?(ht(n),Fh(n,h)):(ht(n),mm(n,f,null,c,i))):h?h!==e.memoizedState?(Jn(n),ht(n),Fh(n,h)):(ht(n),n.flags&=-16777217):(e=e.memoizedProps,e!==c&&Jn(n),ht(n),mm(n,f,e,c,i)),null;case 27:if(ta(n),i=we.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Jn(n);else{if(!c){if(n.stateNode===null)throw Error(t(166));return ht(n),null}e=fe.current,Ks(n)?bx(n):(e=Vv(f,c,i),n.stateNode=e,Jn(n))}return ht(n),null;case 5:if(ta(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Jn(n);else{if(!c){if(n.stateNode===null)throw Error(t(166));return ht(n),null}if(h=fe.current,Ks(n))bx(n);else{var C=hc(we.current);switch(h){case 1:h=C.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:h=C.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":h=C.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":h=C.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":h=C.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof c.is=="string"?C.createElement("select",{is:c.is}):C.createElement("select"),c.multiple?h.multiple=!0:c.size&&(h.size=c.size);break;default:h=typeof c.is=="string"?C.createElement(f,{is:c.is}):C.createElement(f)}}h[Bt]=n,h[aa]=c;e:for(C=n.child;C!==null;){if(C.tag===5||C.tag===6)h.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===n)break e;for(;C.sibling===null;){if(C.return===null||C.return===n)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}n.stateNode=h;e:switch(Wt(h,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Jn(n)}}return ht(n),mm(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,i),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==c&&Jn(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(t(166));if(e=we.current,Ks(n)){if(e=n.stateNode,i=n.memoizedProps,c=null,f=Qt,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}e[Bt]=n,e=!!(e.nodeValue===i||c!==null&&c.suppressHydrationWarning===!0||Iv(e.nodeValue,i)),e||Sr(n,!0)}else e=hc(e).createTextNode(c),e[Bt]=n,n.stateNode=e}return ht(n),null;case 31:if(i=n.memoizedState,e===null||e.memoizedState!==null){if(c=Ks(n),i!==null){if(e===null){if(!c)throw Error(t(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(t(557));e[Bt]=n}else os(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ht(n),e=!1}else i=jd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return n.flags&256?(Ea(n),n):(Ea(n),null);if((n.flags&128)!==0)throw Error(t(558))}return ht(n),null;case 13:if(c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Ks(n),c!==null&&c.dehydrated!==null){if(e===null){if(!f)throw Error(t(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(t(317));f[Bt]=n}else os(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ht(n),f=!1}else f=jd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(Ea(n),n):(Ea(n),null)}return Ea(n),(n.flags&128)!==0?(n.lanes=i,n):(i=c!==null,e=e!==null&&e.memoizedState!==null,i&&(c=n.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),h=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(h=c.memoizedState.cachePool.pool),h!==f&&(c.flags|=2048)),i!==e&&i&&(n.child.flags|=8192),tc(n,n.updateQueue),ht(n),null);case 4:return Be(),e===null&&Rm(n.stateNode.containerInfo),ht(n),null;case 10:return Kn(n.type),ht(n),null;case 19:if(ee(Dt),c=n.memoizedState,c===null)return ht(n),null;if(f=(n.flags&128)!==0,h=c.rendering,h===null)if(f)bi(c,!1);else{if(wt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=Yo(e),h!==null){for(n.flags|=128,bi(c,!1),e=h.updateQueue,n.updateQueue=e,tc(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)fx(i,e),i=i.sibling;return ue(Dt,Dt.current&1|2),Xe&&Gn(n,c.treeForkCount),n.child}e=e.sibling}c.tail!==null&&Q()>lc&&(n.flags|=128,f=!0,bi(c,!1),n.lanes=4194304)}else{if(!f)if(e=Yo(h),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,tc(n,e),bi(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Xe)return ht(n),null}else 2*Q()-c.renderingStartTime>lc&&i!==536870912&&(n.flags|=128,f=!0,bi(c,!1),n.lanes=4194304);c.isBackwards?(h.sibling=n.child,n.child=h):(e=c.last,e!==null?e.sibling=h:n.child=h,c.last=h)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=Q(),e.sibling=null,i=Dt.current,ue(Dt,f?i&1|2:i&1),Xe&&Gn(n,c.treeForkCount),e):(ht(n),null);case 22:case 23:return Ea(n),Id(),c=n.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?(i&536870912)!==0&&(n.flags&128)===0&&(ht(n),n.subtreeFlags&6&&(n.flags|=8192)):ht(n),i=n.updateQueue,i!==null&&tc(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==i&&(n.flags|=2048),e!==null&&ee(ds),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),Kn(It),ht(n),null;case 25:return null;case 30:return null}throw Error(t(156,n.tag))}function $N(e,n){switch(yd(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Kn(It),Be(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ta(n),null;case 31:if(n.memoizedState!==null){if(Ea(n),n.alternate===null)throw Error(t(340));os()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Ea(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(t(340));os()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ee(Dt),null;case 4:return Be(),null;case 10:return Kn(n.type),null;case 22:case 23:return Ea(n),Id(),e!==null&&ee(ds),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Kn(It),null;case 25:return null;default:return null}}function Bh(e,n){switch(yd(n),n.tag){case 3:Kn(It),Be();break;case 26:case 27:case 5:ta(n);break;case 4:Be();break;case 31:n.memoizedState!==null&&Ea(n);break;case 13:Ea(n);break;case 19:ee(Dt);break;case 10:Kn(n.type);break;case 22:case 23:Ea(n),Id(),e!==null&&ee(ds);break;case 24:Kn(It)}}function gi(e,n){try{var i=n.updateQueue,c=i!==null?i.lastEffect:null;if(c!==null){var f=c.next;i=f;do{if((i.tag&e)===e){c=void 0;var h=i.create,C=i.inst;c=h(),C.destroy=c}i=i.next}while(i!==f)}}catch(E){rt(n,n.return,E)}}function Er(e,n,i){try{var c=n.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var h=f.next;c=h;do{if((c.tag&e)===e){var C=c.inst,E=C.destroy;if(E!==void 0){C.destroy=void 0,f=n;var F=i,X=E;try{X()}catch(re){rt(f,F,re)}}}c=c.next}while(c!==h)}}catch(re){rt(n,n.return,re)}}function Hh(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{Ex(n,i)}catch(c){rt(e,e.return,c)}}}function Yh(e,n,i){i.props=hs(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(c){rt(e,n,c)}}function yi(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof i=="function"?e.refCleanup=i(c):i.current=c}}catch(f){rt(e,n,f)}}function jn(e,n){var i=e.ref,c=e.refCleanup;if(i!==null)if(typeof c=="function")try{c()}catch(f){rt(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){rt(e,n,f)}else i.current=null}function Uh(e){var n=e.type,i=e.memoizedProps,c=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&c.focus();break e;case"img":i.src?c.src=i.src:i.srcSet&&(c.srcset=i.srcSet)}}catch(f){rt(e,e.return,f)}}function fm(e,n,i){try{var c=e.stateNode;fj(c,e.type,i,n),c[aa]=n}catch(f){rt(e,e.return,f)}}function qh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&zr(e.type)||e.tag===4}function pm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&zr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xm(e,n,i){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=qn));else if(c!==4&&(c===27&&zr(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(xm(e,n,i),e=e.sibling;e!==null;)xm(e,n,i),e=e.sibling}function ac(e,n,i){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(c!==4&&(c===27&&zr(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(ac(e,n,i),e=e.sibling;e!==null;)ac(e,n,i),e=e.sibling}function $h(e){var n=e.stateNode,i=e.memoizedProps;try{for(var c=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);Wt(n,c,i),n[Bt]=e,n[aa]=i}catch(h){rt(e,e.return,h)}}var er=!1,zt=!1,hm=!1,Vh=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function VN(e,n){if(e=e.containerInfo,Pm=wc,e=rx(e),cd(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var c=i.getSelection&&i.getSelection();if(c&&c.rangeCount!==0){i=c.anchorNode;var f=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var C=0,E=-1,F=-1,X=0,re=0,ce=e,Z=null;t:for(;;){for(var te;ce!==i||f!==0&&ce.nodeType!==3||(E=C+f),ce!==h||c!==0&&ce.nodeType!==3||(F=C+c),ce.nodeType===3&&(C+=ce.nodeValue.length),(te=ce.firstChild)!==null;)Z=ce,ce=te;for(;;){if(ce===e)break t;if(Z===i&&++X===f&&(E=C),Z===h&&++re===c&&(F=C),(te=ce.nextSibling)!==null)break;ce=Z,Z=ce.parentNode}ce=te}i=E===-1||F===-1?null:{start:E,end:F}}else i=null}i=i||{start:0,end:0}}else i=null;for(zm={focusedElem:e,selectionRange:i},wc=!1,Vt=n;Vt!==null;)if(n=Vt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Vt=e;else for(;Vt!==null;){switch(n=Vt,h=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)f=e[i],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,i=n,f=h.memoizedProps,h=h.memoizedState,c=i.stateNode;try{var Ce=hs(i.type,f);e=c.getSnapshotBeforeUpdate(Ce,h),c.__reactInternalSnapshotBeforeUpdate=e}catch(_e){rt(i,i.return,_e)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)Hm(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Hm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(t(163))}if(e=n.sibling,e!==null){e.return=n.return,Vt=e;break}Vt=n.return}}function Gh(e,n,i){var c=i.flags;switch(i.tag){case 0:case 11:case 15:ar(e,i),c&4&&gi(5,i);break;case 1:if(ar(e,i),c&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(C){rt(i,i.return,C)}else{var f=hs(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(C){rt(i,i.return,C)}}c&64&&Hh(i),c&512&&yi(i,i.return);break;case 3:if(ar(e,i),c&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{Ex(e,n)}catch(C){rt(i,i.return,C)}}break;case 27:n===null&&c&4&&$h(i);case 26:case 5:ar(e,i),n===null&&c&4&&Uh(i),c&512&&yi(i,i.return);break;case 12:ar(e,i);break;case 31:ar(e,i),c&4&&Xh(e,i);break;case 13:ar(e,i),c&4&&Wh(e,i),c&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=tj.bind(null,i),Nj(e,i))));break;case 22:if(c=i.memoizedState!==null||er,!c){n=n!==null&&n.memoizedState!==null||zt,f=er;var h=zt;er=c,(zt=n)&&!h?nr(e,i,(i.subtreeFlags&8772)!==0):ar(e,i),er=f,zt=h}break;case 30:break;default:ar(e,i)}}function Qh(e){var n=e.alternate;n!==null&&(e.alternate=null,Qh(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&q(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var bt=null,ha=!1;function tr(e,n,i){for(i=i.child;i!==null;)Kh(e,n,i),i=i.sibling}function Kh(e,n,i){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(oa,i)}catch{}switch(i.tag){case 26:zt||jn(i,n),tr(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:zt||jn(i,n);var c=bt,f=ha;zr(i.type)&&(bt=i.stateNode,ha=!1),tr(e,n,i),Ai(i.stateNode),bt=c,ha=f;break;case 5:zt||jn(i,n);case 6:if(c=bt,f=ha,bt=null,tr(e,n,i),bt=c,ha=f,bt!==null)if(ha)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(i.stateNode)}catch(h){rt(i,n,h)}else try{bt.removeChild(i.stateNode)}catch(h){rt(i,n,h)}break;case 18:bt!==null&&(ha?(e=bt,Hv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),hl(e)):Hv(bt,i.stateNode));break;case 4:c=bt,f=ha,bt=i.stateNode.containerInfo,ha=!0,tr(e,n,i),bt=c,ha=f;break;case 0:case 11:case 14:case 15:Er(2,i,n),zt||Er(4,i,n),tr(e,n,i);break;case 1:zt||(jn(i,n),c=i.stateNode,typeof c.componentWillUnmount=="function"&&Yh(i,n,c)),tr(e,n,i);break;case 21:tr(e,n,i);break;case 22:zt=(c=zt)||i.memoizedState!==null,tr(e,n,i),zt=c;break;default:tr(e,n,i)}}function Xh(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{hl(e)}catch(i){rt(n,n.return,i)}}}function Wh(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{hl(e)}catch(i){rt(n,n.return,i)}}function GN(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Vh),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Vh),n;default:throw Error(t(435,e.tag))}}function nc(e,n){var i=GN(e);n.forEach(function(c){if(!i.has(c)){i.add(c);var f=aj.bind(null,e,c);c.then(f,f)}})}function va(e,n){var i=n.deletions;if(i!==null)for(var c=0;c<i.length;c++){var f=i[c],h=e,C=n,E=C;e:for(;E!==null;){switch(E.tag){case 27:if(zr(E.type)){bt=E.stateNode,ha=!1;break e}break;case 5:bt=E.stateNode,ha=!1;break e;case 3:case 4:bt=E.stateNode.containerInfo,ha=!0;break e}E=E.return}if(bt===null)throw Error(t(160));Kh(h,C,f),bt=null,ha=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Zh(n,e),n=n.sibling}var rn=null;function Zh(e,n){var i=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:va(n,e),ba(e),c&4&&(Er(3,e,e.return),gi(3,e),Er(5,e,e.return));break;case 1:va(n,e),ba(e),c&512&&(zt||i===null||jn(i,i.return)),c&64&&er&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?c:i.concat(c))));break;case 26:var f=rn;if(va(n,e),ba(e),c&512&&(zt||i===null||jn(i,i.return)),c&4){var h=i!==null?i.memoizedState:null;if(c=e.memoizedState,i===null)if(c===null)if(e.stateNode===null){e:{c=e.type,i=e.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":h=f.getElementsByTagName("title")[0],(!h||h[ts]||h[Bt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(c),f.head.insertBefore(h,f.querySelector("head > title"))),Wt(h,c,i),h[Bt]=e,$t(h),c=h;break e;case"link":var C=Zv("link","href",f).get(c+(i.href||""));if(C){for(var E=0;E<C.length;E++)if(h=C[E],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){C.splice(E,1);break t}}h=f.createElement(c),Wt(h,c,i),f.head.appendChild(h);break;case"meta":if(C=Zv("meta","content",f).get(c+(i.content||""))){for(E=0;E<C.length;E++)if(h=C[E],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){C.splice(E,1);break t}}h=f.createElement(c),Wt(h,c,i),f.head.appendChild(h);break;default:throw Error(t(468,c))}h[Bt]=e,$t(h),c=h}e.stateNode=c}else Jv(f,e.type,e.stateNode);else e.stateNode=Wv(f,c,e.memoizedProps);else h!==c?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,c===null?Jv(f,e.type,e.stateNode):Wv(f,c,e.memoizedProps)):c===null&&e.stateNode!==null&&fm(e,e.memoizedProps,i.memoizedProps)}break;case 27:va(n,e),ba(e),c&512&&(zt||i===null||jn(i,i.return)),i!==null&&c&4&&fm(e,e.memoizedProps,i.memoizedProps);break;case 5:if(va(n,e),ba(e),c&512&&(zt||i===null||jn(i,i.return)),e.flags&32){f=e.stateNode;try{Fs(f,"")}catch(Ce){rt(e,e.return,Ce)}}c&4&&e.stateNode!=null&&(f=e.memoizedProps,fm(e,f,i!==null?i.memoizedProps:f)),c&1024&&(hm=!0);break;case 6:if(va(n,e),ba(e),c&4){if(e.stateNode===null)throw Error(t(162));c=e.memoizedProps,i=e.stateNode;try{i.nodeValue=c}catch(Ce){rt(e,e.return,Ce)}}break;case 3:if(gc=null,f=rn,rn=vc(n.containerInfo),va(n,e),rn=f,ba(e),c&4&&i!==null&&i.memoizedState.isDehydrated)try{hl(n.containerInfo)}catch(Ce){rt(e,e.return,Ce)}hm&&(hm=!1,Jh(e));break;case 4:c=rn,rn=vc(e.stateNode.containerInfo),va(n,e),ba(e),rn=c;break;case 12:va(n,e),ba(e);break;case 31:va(n,e),ba(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,nc(e,c)));break;case 13:va(n,e),ba(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(sc=Q()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,nc(e,c)));break;case 22:f=e.memoizedState!==null;var F=i!==null&&i.memoizedState!==null,X=er,re=zt;if(er=X||f,zt=re||F,va(n,e),zt=re,er=X,ba(e),c&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(i===null||F||er||zt||vs(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){F=i=n;try{if(h=F.stateNode,f)C=h.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{E=F.stateNode;var ce=F.memoizedProps.style,Z=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;E.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(Ce){rt(F,F.return,Ce)}}}else if(n.tag===6){if(i===null){F=n;try{F.stateNode.nodeValue=f?"":F.memoizedProps}catch(Ce){rt(F,F.return,Ce)}}}else if(n.tag===18){if(i===null){F=n;try{var te=F.stateNode;f?Yv(te,!0):Yv(F.stateNode,!1)}catch(Ce){rt(F,F.return,Ce)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=e.updateQueue,c!==null&&(i=c.retryQueue,i!==null&&(c.retryQueue=null,nc(e,i))));break;case 19:va(n,e),ba(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,nc(e,c)));break;case 30:break;case 21:break;default:va(n,e),ba(e)}}function ba(e){var n=e.flags;if(n&2){try{for(var i,c=e.return;c!==null;){if(qh(c)){i=c;break}c=c.return}if(i==null)throw Error(t(160));switch(i.tag){case 27:var f=i.stateNode,h=pm(e);ac(e,h,f);break;case 5:var C=i.stateNode;i.flags&32&&(Fs(C,""),i.flags&=-33);var E=pm(e);ac(e,E,C);break;case 3:case 4:var F=i.stateNode.containerInfo,X=pm(e);xm(e,X,F);break;default:throw Error(t(161))}}catch(re){rt(e,e.return,re)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Jh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Jh(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ar(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Gh(e,n.alternate,n),n=n.sibling}function vs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Er(4,n,n.return),vs(n);break;case 1:jn(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&Yh(n,n.return,i),vs(n);break;case 27:Ai(n.stateNode);case 26:case 5:jn(n,n.return),vs(n);break;case 22:n.memoizedState===null&&vs(n);break;case 30:vs(n);break;default:vs(n)}e=e.sibling}}function nr(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,f=e,h=n,C=h.flags;switch(h.tag){case 0:case 11:case 15:nr(f,h,i),gi(4,h);break;case 1:if(nr(f,h,i),c=h,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(X){rt(c,c.return,X)}if(c=h,f=c.updateQueue,f!==null){var E=c.stateNode;try{var F=f.shared.hiddenCallbacks;if(F!==null)for(f.shared.hiddenCallbacks=null,f=0;f<F.length;f++)Tx(F[f],E)}catch(X){rt(c,c.return,X)}}i&&C&64&&Hh(h),yi(h,h.return);break;case 27:$h(h);case 26:case 5:nr(f,h,i),i&&c===null&&C&4&&Uh(h),yi(h,h.return);break;case 12:nr(f,h,i);break;case 31:nr(f,h,i),i&&C&4&&Xh(f,h);break;case 13:nr(f,h,i),i&&C&4&&Wh(f,h);break;case 22:h.memoizedState===null&&nr(f,h,i),yi(h,h.return);break;case 30:break;default:nr(f,h,i)}n=n.sibling}}function vm(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&li(i))}function bm(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&li(e))}function sn(e,n,i,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ev(e,n,i,c),n=n.sibling}function ev(e,n,i,c){var f=n.flags;switch(n.tag){case 0:case 11:case 15:sn(e,n,i,c),f&2048&&gi(9,n);break;case 1:sn(e,n,i,c);break;case 3:sn(e,n,i,c),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&li(e)));break;case 12:if(f&2048){sn(e,n,i,c),e=n.stateNode;try{var h=n.memoizedProps,C=h.id,E=h.onPostCommit;typeof E=="function"&&E(C,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(F){rt(n,n.return,F)}}else sn(e,n,i,c);break;case 31:sn(e,n,i,c);break;case 13:sn(e,n,i,c);break;case 23:break;case 22:h=n.stateNode,C=n.alternate,n.memoizedState!==null?h._visibility&2?sn(e,n,i,c):Ni(e,n):h._visibility&2?sn(e,n,i,c):(h._visibility|=2,sl(e,n,i,c,(n.subtreeFlags&10256)!==0||!1)),f&2048&&vm(C,n);break;case 24:sn(e,n,i,c),f&2048&&bm(n.alternate,n);break;default:sn(e,n,i,c)}}function sl(e,n,i,c,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=e,C=n,E=i,F=c,X=C.flags;switch(C.tag){case 0:case 11:case 15:sl(h,C,E,F,f),gi(8,C);break;case 23:break;case 22:var re=C.stateNode;C.memoizedState!==null?re._visibility&2?sl(h,C,E,F,f):Ni(h,C):(re._visibility|=2,sl(h,C,E,F,f)),f&&X&2048&&vm(C.alternate,C);break;case 24:sl(h,C,E,F,f),f&&X&2048&&bm(C.alternate,C);break;default:sl(h,C,E,F,f)}n=n.sibling}}function Ni(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,c=n,f=c.flags;switch(c.tag){case 22:Ni(i,c),f&2048&&vm(c.alternate,c);break;case 24:Ni(i,c),f&2048&&bm(c.alternate,c);break;default:Ni(i,c)}n=n.sibling}}var ji=8192;function ll(e,n,i){if(e.subtreeFlags&ji)for(e=e.child;e!==null;)tv(e,n,i),e=e.sibling}function tv(e,n,i){switch(e.tag){case 26:ll(e,n,i),e.flags&ji&&e.memoizedState!==null&&Oj(i,rn,e.memoizedState,e.memoizedProps);break;case 5:ll(e,n,i);break;case 3:case 4:var c=rn;rn=vc(e.stateNode.containerInfo),ll(e,n,i),rn=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=ji,ji=16777216,ll(e,n,i),ji=c):ll(e,n,i));break;default:ll(e,n,i)}}function av(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function wi(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var c=n[i];Vt=c,rv(c,e)}av(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)nv(e),e=e.sibling}function nv(e){switch(e.tag){case 0:case 11:case 15:wi(e),e.flags&2048&&Er(9,e,e.return);break;case 3:wi(e);break;case 12:wi(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,rc(e)):wi(e);break;default:wi(e)}}function rc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var c=n[i];Vt=c,rv(c,e)}av(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Er(8,n,n.return),rc(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,rc(n));break;default:rc(n)}e=e.sibling}}function rv(e,n){for(;Vt!==null;){var i=Vt;switch(i.tag){case 0:case 11:case 15:Er(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var c=i.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:li(i.memoizedState.cache)}if(c=i.child,c!==null)c.return=i,Vt=c;else e:for(i=e;Vt!==null;){c=Vt;var f=c.sibling,h=c.return;if(Qh(c),c===i){Vt=null;break e}if(f!==null){f.return=h,Vt=f;break e}Vt=h}}}var QN={getCacheForType:function(e){var n=Kt(It),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i},cacheSignal:function(){return Kt(It).controller.signal}},KN=typeof WeakMap=="function"?WeakMap:Map,tt=0,ut=null,Ue=null,Ge=0,nt=0,_a=null,_r=!1,il=!1,gm=!1,rr=0,wt=0,Or=0,bs=0,ym=0,Oa=0,ol=0,Si=null,ga=null,Nm=!1,sc=0,sv=0,lc=1/0,ic=null,Rr=null,Ht=0,Ir=null,cl=null,sr=0,jm=0,wm=null,lv=null,Ci=0,Sm=null;function Ra(){return(tt&2)!==0&&Ge!==0?Ge&-Ge:z.T!==null?Tm():xo()}function iv(){if(Oa===0)if((Ge&536870912)===0||Xe){var e=xn;xn<<=1,(xn&3932160)===0&&(xn=262144),Oa=e}else Oa=536870912;return e=Ta.current,e!==null&&(e.flags|=32),Oa}function ya(e,n,i){(e===ut&&(nt===2||nt===9)||e.cancelPendingCommit!==null)&&(ul(e,0),Lr(e,Ge,Oa,!1)),bn(e,i),((tt&2)===0||e!==ut)&&(e===ut&&((tt&2)===0&&(bs|=i),wt===4&&Lr(e,Ge,Oa,!1)),wn(e))}function ov(e,n,i){if((tt&6)!==0)throw Error(t(327));var c=!i&&(n&127)===0&&(n&e.expiredLanes)===0||Ha(e,n),f=c?ZN(e,n):km(e,n,!0),h=c;do{if(f===0){il&&!c&&Lr(e,n,0,!1);break}else{if(i=e.current.alternate,h&&!XN(i)){f=km(e,n,!1),h=!1;continue}if(f===2){if(h=n,e.errorRecoveryDisabledLanes&h)var C=0;else C=e.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){n=C;e:{var E=e;f=Si;var F=E.current.memoizedState.isDehydrated;if(F&&(ul(E,C).flags|=256),C=km(E,C,!1),C!==2){if(gm&&!F){E.errorRecoveryDisabledLanes|=h,bs|=h,f=4;break e}h=ga,ga=f,h!==null&&(ga===null?ga=h:ga.push.apply(ga,h))}f=C}if(h=!1,f!==2)continue}}if(f===1){ul(e,0),Lr(e,n,0,!0);break}e:{switch(c=e,h=f,h){case 0:case 1:throw Error(t(345));case 4:if((n&4194048)!==n)break;case 6:Lr(c,n,Oa,!_r);break e;case 2:ga=null;break;case 3:case 5:break;default:throw Error(t(329))}if((n&62914560)===n&&(f=sc+300-Q(),10<f)){if(Lr(c,n,Oa,!_r),Ot(c,0,!0)!==0)break e;sr=n,c.timeoutHandle=Fv(cv.bind(null,c,i,ga,ic,Nm,n,Oa,bs,ol,_r,h,"Throttled",-0,0),f);break e}cv(c,i,ga,ic,Nm,n,Oa,bs,ol,_r,h,null,-0,0)}}break}while(!0);wn(e)}function cv(e,n,i,c,f,h,C,E,F,X,re,ce,Z,te){if(e.timeoutHandle=-1,ce=n.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},tv(n,h,ce);var Ce=(h&62914560)===h?sc-Q():(h&4194048)===h?sv-Q():0;if(Ce=Rj(ce,Ce),Ce!==null){sr=h,e.cancelPendingCommit=Ce(vv.bind(null,e,n,h,i,c,f,C,E,F,re,ce,null,Z,te)),Lr(e,h,C,!X);return}}vv(e,n,h,i,c,f,C,E,F)}function XN(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var c=0;c<i.length;c++){var f=i[c],h=f.getSnapshot;f=f.value;try{if(!Ma(h(),f))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Lr(e,n,i,c){n&=~ym,n&=~bs,e.suspendedLanes|=n,e.pingedLanes&=~n,c&&(e.warmLanes|=n),c=e.expirationTimes;for(var f=n;0<f;){var h=31-Le(f),C=1<<h;c[h]=-1,f&=~C}i!==0&&es(e,i,n)}function oc(){return(tt&6)===0?(ki(0),!1):!0}function Cm(){if(Ue!==null){if(nt===0)var e=Ue.return;else e=Ue,Qn=cs=null,Hd(e),el=null,oi=0,e=Ue;for(;e!==null;)Bh(e.alternate,e),e=e.return;Ue=null}}function ul(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,hj(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),sr=0,Cm(),ut=e,Ue=i=Vn(e.current,null),Ge=n,nt=0,_a=null,_r=!1,il=Ha(e,n),gm=!1,ol=Oa=ym=bs=Or=wt=0,ga=Si=null,Nm=!1,(n&8)!==0&&(n|=n&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=n;0<c;){var f=31-Le(c),h=1<<f;n|=e[f],c&=~h}return rr=n,Ao(),i}function uv(e,n){ze=null,z.H=hi,n===Js||n===Po?(n=kx(),nt=3):n===Ad?(n=kx(),nt=4):nt=n===nm?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_a=n,Ue===null&&(wt=1,Wo(e,$a(n,e.current)))}function dv(){var e=Ta.current;return e===null?!0:(Ge&4194048)===Ge?Ka===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?e===Ka:!1}function mv(){var e=z.H;return z.H=hi,e===null?hi:e}function fv(){var e=z.A;return z.A=QN,e}function cc(){wt=4,_r||(Ge&4194048)!==Ge&&Ta.current!==null||(il=!0),(Or&134217727)===0&&(bs&134217727)===0||ut===null||Lr(ut,Ge,Oa,!1)}function km(e,n,i){var c=tt;tt|=2;var f=mv(),h=fv();(ut!==e||Ge!==n)&&(ic=null,ul(e,n)),n=!1;var C=wt;e:do try{if(nt!==0&&Ue!==null){var E=Ue,F=_a;switch(nt){case 8:Cm(),C=6;break e;case 3:case 2:case 9:case 6:Ta.current===null&&(n=!0);var X=nt;if(nt=0,_a=null,dl(e,E,F,X),i&&il){C=0;break e}break;default:X=nt,nt=0,_a=null,dl(e,E,F,X)}}WN(),C=wt;break}catch(re){uv(e,re)}while(!0);return n&&e.shellSuspendCounter++,Qn=cs=null,tt=c,z.H=f,z.A=h,Ue===null&&(ut=null,Ge=0,Ao()),C}function WN(){for(;Ue!==null;)pv(Ue)}function ZN(e,n){var i=tt;tt|=2;var c=mv(),f=fv();ut!==e||Ge!==n?(ic=null,lc=Q()+500,ul(e,n)):il=Ha(e,n);e:do try{if(nt!==0&&Ue!==null){n=Ue;var h=_a;t:switch(nt){case 1:nt=0,_a=null,dl(e,n,h,1);break;case 2:case 9:if(Sx(h)){nt=0,_a=null,xv(n);break}n=function(){nt!==2&&nt!==9||ut!==e||(nt=7),wn(e)},h.then(n,n);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:Sx(h)?(nt=0,_a=null,xv(n)):(nt=0,_a=null,dl(e,n,h,7));break;case 5:var C=null;switch(Ue.tag){case 26:C=Ue.memoizedState;case 5:case 27:var E=Ue;if(C?e0(C):E.stateNode.complete){nt=0,_a=null;var F=E.sibling;if(F!==null)Ue=F;else{var X=E.return;X!==null?(Ue=X,uc(X)):Ue=null}break t}}nt=0,_a=null,dl(e,n,h,5);break;case 6:nt=0,_a=null,dl(e,n,h,6);break;case 8:Cm(),wt=6;break e;default:throw Error(t(462))}}JN();break}catch(re){uv(e,re)}while(!0);return Qn=cs=null,z.H=c,z.A=f,tt=i,Ue!==null?0:(ut=null,Ge=0,Ao(),wt)}function JN(){for(;Ue!==null&&!Zr();)pv(Ue)}function pv(e){var n=zh(e.alternate,e,rr);e.memoizedProps=e.pendingProps,n===null?uc(e):Ue=n}function xv(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=_h(i,n,n.pendingProps,n.type,void 0,Ge);break;case 11:n=_h(i,n,n.pendingProps,n.type.render,n.ref,Ge);break;case 5:Hd(n);default:Bh(i,n),n=Ue=fx(n,rr),n=zh(i,n,rr)}e.memoizedProps=e.pendingProps,n===null?uc(e):Ue=n}function dl(e,n,i,c){Qn=cs=null,Hd(n),el=null,oi=0;var f=n.return;try{if(HN(e,f,n,i,Ge)){wt=1,Wo(e,$a(i,e.current)),Ue=null;return}}catch(h){if(f!==null)throw Ue=f,h;wt=1,Wo(e,$a(i,e.current)),Ue=null;return}n.flags&32768?(Xe||c===1?e=!0:il||(Ge&536870912)!==0?e=!1:(_r=e=!0,(c===2||c===9||c===3||c===6)&&(c=Ta.current,c!==null&&c.tag===13&&(c.flags|=16384))),hv(n,e)):uc(n)}function uc(e){var n=e;do{if((n.flags&32768)!==0){hv(n,_r);return}e=n.return;var i=qN(n.alternate,n,rr);if(i!==null){Ue=i;return}if(n=n.sibling,n!==null){Ue=n;return}Ue=n=e}while(n!==null);wt===0&&(wt=5)}function hv(e,n){do{var i=$N(e.alternate,e);if(i!==null){i.flags&=32767,Ue=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){Ue=e;return}Ue=e=i}while(e!==null);wt=6,Ue=null}function vv(e,n,i,c,f,h,C,E,F){e.cancelPendingCommit=null;do dc();while(Ht!==0);if((tt&6)!==0)throw Error(t(327));if(n!==null){if(n===e.current)throw Error(t(177));if(h=n.lanes|n.childLanes,h|=pd,Jr(e,i,h,C,E,F),e===ut&&(Ue=ut=null,Ge=0),cl=n,Ir=e,sr=i,jm=h,wm=f,lv=c,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,nj(Pe,function(){return jv(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||c){c=z.T,z.T=null,f=W.p,W.p=2,C=tt,tt|=4;try{VN(e,n,i)}finally{tt=C,W.p=f,z.T=c}}Ht=1,bv(),gv(),yv()}}function bv(){if(Ht===1){Ht=0;var e=Ir,n=cl,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=z.T,z.T=null;var c=W.p;W.p=2;var f=tt;tt|=4;try{Zh(n,e);var h=zm,C=rx(e.containerInfo),E=h.focusedElem,F=h.selectionRange;if(C!==E&&E&&E.ownerDocument&&nx(E.ownerDocument.documentElement,E)){if(F!==null&&cd(E)){var X=F.start,re=F.end;if(re===void 0&&(re=X),"selectionStart"in E)E.selectionStart=X,E.selectionEnd=Math.min(re,E.value.length);else{var ce=E.ownerDocument||document,Z=ce&&ce.defaultView||window;if(Z.getSelection){var te=Z.getSelection(),Ce=E.textContent.length,_e=Math.min(F.start,Ce),ct=F.end===void 0?_e:Math.min(F.end,Ce);!te.extend&&_e>ct&&(C=ct,ct=_e,_e=C);var $=ax(E,_e),Y=ax(E,ct);if($&&Y&&(te.rangeCount!==1||te.anchorNode!==$.node||te.anchorOffset!==$.offset||te.focusNode!==Y.node||te.focusOffset!==Y.offset)){var K=ce.createRange();K.setStart($.node,$.offset),te.removeAllRanges(),_e>ct?(te.addRange(K),te.extend(Y.node,Y.offset)):(K.setEnd(Y.node,Y.offset),te.addRange(K))}}}}for(ce=[],te=E;te=te.parentNode;)te.nodeType===1&&ce.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<ce.length;E++){var ie=ce[E];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}wc=!!Pm,zm=Pm=null}finally{tt=f,W.p=c,z.T=i}}e.current=n,Ht=2}}function gv(){if(Ht===2){Ht=0;var e=Ir,n=cl,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=z.T,z.T=null;var c=W.p;W.p=2;var f=tt;tt|=4;try{Gh(e,n.alternate,n)}finally{tt=f,W.p=c,z.T=i}}Ht=3}}function yv(){if(Ht===4||Ht===3){Ht=0,Bn();var e=Ir,n=cl,i=sr,c=lv;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ht=5:(Ht=0,cl=Ir=null,Nv(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Rr=null),Gl(i),n=n.stateNode,dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(oa,n,void 0,(n.current.flags&128)===128)}catch{}if(c!==null){n=z.T,f=W.p,W.p=2,z.T=null;try{for(var h=e.onRecoverableError,C=0;C<c.length;C++){var E=c[C];h(E.value,{componentStack:E.stack})}}finally{z.T=n,W.p=f}}(sr&3)!==0&&dc(),wn(e),f=e.pendingLanes,(i&261930)!==0&&(f&42)!==0?e===Sm?Ci++:(Ci=0,Sm=e):Ci=0,ki(0)}}function Nv(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,li(n)))}function dc(){return bv(),gv(),yv(),jv()}function jv(){if(Ht!==5)return!1;var e=Ir,n=jm;jm=0;var i=Gl(sr),c=z.T,f=W.p;try{W.p=32>i?32:i,z.T=null,i=wm,wm=null;var h=Ir,C=sr;if(Ht=0,cl=Ir=null,sr=0,(tt&6)!==0)throw Error(t(331));var E=tt;if(tt|=4,nv(h.current),ev(h,h.current,C,i),tt=E,ki(0,!1),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(oa,h)}catch{}return!0}finally{W.p=f,z.T=c,Nv(e,n)}}function wv(e,n,i){n=$a(i,n),n=am(e.stateNode,n,2),e=Mr(e,n,2),e!==null&&(bn(e,2),wn(e))}function rt(e,n,i){if(e.tag===3)wv(e,e,i);else for(;n!==null;){if(n.tag===3){wv(n,e,i);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Rr===null||!Rr.has(c))){e=$a(i,e),i=Sh(2),c=Mr(n,i,2),c!==null&&(Ch(i,c,n,e),bn(c,2),wn(c));break}}n=n.return}}function Dm(e,n,i){var c=e.pingCache;if(c===null){c=e.pingCache=new KN;var f=new Set;c.set(n,f)}else f=c.get(n),f===void 0&&(f=new Set,c.set(n,f));f.has(i)||(gm=!0,f.add(i),e=ej.bind(null,e,n,i),n.then(e,e))}function ej(e,n,i){var c=e.pingCache;c!==null&&c.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,ut===e&&(Ge&i)===i&&(wt===4||wt===3&&(Ge&62914560)===Ge&&300>Q()-sc?(tt&2)===0&&ul(e,0):ym|=i,ol===Ge&&(ol=0)),wn(e)}function Sv(e,n){n===0&&(n=Yn()),e=ls(e,n),e!==null&&(bn(e,n),wn(e))}function tj(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Sv(e,i)}function aj(e,n){var i=0;switch(e.tag){case 31:case 13:var c=e.stateNode,f=e.memoizedState;f!==null&&(i=f.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(t(314))}c!==null&&c.delete(n),Sv(e,i)}function nj(e,n){return _t(e,n)}var mc=null,ml=null,Mm=!1,fc=!1,Am=!1,Pr=0;function wn(e){e!==ml&&e.next===null&&(ml===null?mc=ml=e:ml=ml.next=e),fc=!0,Mm||(Mm=!0,sj())}function ki(e,n){if(!Am&&fc){Am=!0;do for(var i=!1,c=mc;c!==null;){if(e!==0){var f=c.pendingLanes;if(f===0)var h=0;else{var C=c.suspendedLanes,E=c.pingedLanes;h=(1<<31-Le(42|e)+1)-1,h&=f&~(C&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,Mv(c,h))}else h=Ge,h=Ot(c,c===ut?h:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(h&3)===0||Ha(c,h)||(i=!0,Mv(c,h));c=c.next}while(i);Am=!1}}function rj(){Cv()}function Cv(){fc=Mm=!1;var e=0;Pr!==0&&xj()&&(e=Pr);for(var n=Q(),i=null,c=mc;c!==null;){var f=c.next,h=kv(c,n);h===0?(c.next=null,i===null?mc=f:i.next=f,f===null&&(ml=i)):(i=c,(e!==0||(h&3)!==0)&&(fc=!0)),c=f}Ht!==0&&Ht!==5||ki(e),Pr!==0&&(Pr=0)}function kv(e,n){for(var i=e.suspendedLanes,c=e.pingedLanes,f=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var C=31-Le(h),E=1<<C,F=f[C];F===-1?((E&i)===0||(E&c)!==0)&&(f[C]=Hn(E,n)):F<=n&&(e.expiredLanes|=E),h&=~E}if(n=ut,i=Ge,i=Ot(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,i===0||e===n&&(nt===2||nt===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&Gt(c),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Ha(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(c!==null&&Gt(c),Gl(i)){case 2:case 8:i=Ee;break;case 32:i=Pe;break;case 268435456:i=We;break;default:i=Pe}return c=Dv.bind(null,e),i=_t(i,c),e.callbackPriority=n,e.callbackNode=i,n}return c!==null&&c!==null&&Gt(c),e.callbackPriority=2,e.callbackNode=null,2}function Dv(e,n){if(Ht!==0&&Ht!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(dc()&&e.callbackNode!==i)return null;var c=Ge;return c=Ot(e,e===ut?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(ov(e,c,n),kv(e,Q()),e.callbackNode!=null&&e.callbackNode===i?Dv.bind(null,e):null)}function Mv(e,n){if(dc())return null;ov(e,n,!0)}function sj(){vj(function(){(tt&6)!==0?_t(me,rj):Cv()})}function Tm(){if(Pr===0){var e=Ws;e===0&&(e=pa,pa<<=1,(pa&261888)===0&&(pa=256)),Pr=e}return Pr}function Av(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:No(""+e)}function Tv(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function lj(e,n,i,c,f){if(n==="submit"&&i&&i.stateNode===f){var h=Av((f[aa]||null).action),C=c.submitter;C&&(n=(n=C[aa]||null)?Av(n.formAction):C.getAttribute("formAction"),n!==null&&(h=n,C=null));var E=new Co("action","action",null,c,f);e.push({event:E,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Pr!==0){var F=C?Tv(f,C):new FormData(f);Xd(i,{pending:!0,data:F,method:f.method,action:h},null,F)}}else typeof h=="function"&&(E.preventDefault(),F=C?Tv(f,C):new FormData(f),Xd(i,{pending:!0,data:F,method:f.method,action:h},h,F))},currentTarget:f}]})}}for(var Em=0;Em<fd.length;Em++){var _m=fd[Em],ij=_m.toLowerCase(),oj=_m[0].toUpperCase()+_m.slice(1);nn(ij,"on"+oj)}nn(ix,"onAnimationEnd"),nn(ox,"onAnimationIteration"),nn(cx,"onAnimationStart"),nn("dblclick","onDoubleClick"),nn("focusin","onFocus"),nn("focusout","onBlur"),nn(SN,"onTransitionRun"),nn(CN,"onTransitionStart"),nn(kN,"onTransitionCancel"),nn(ux,"onTransitionEnd"),Ps("onMouseEnter",["mouseout","mouseover"]),Ps("onMouseLeave",["mouseout","mouseover"]),Ps("onPointerEnter",["pointerout","pointerover"]),Ps("onPointerLeave",["pointerout","pointerover"]),as("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),as("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),as("onBeforeInput",["compositionend","keypress","textInput","paste"]),as("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),as("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),as("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Di));function Ev(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var c=e[i],f=c.event;c=c.listeners;e:{var h=void 0;if(n)for(var C=c.length-1;0<=C;C--){var E=c[C],F=E.instance,X=E.currentTarget;if(E=E.listener,F!==h&&f.isPropagationStopped())break e;h=E,f.currentTarget=X;try{h(f)}catch(re){Mo(re)}f.currentTarget=null,h=F}else for(C=0;C<c.length;C++){if(E=c[C],F=E.instance,X=E.currentTarget,E=E.listener,F!==h&&f.isPropagationStopped())break e;h=E,f.currentTarget=X;try{h(f)}catch(re){Mo(re)}f.currentTarget=null,h=F}}}}function qe(e,n){var i=n[Ql];i===void 0&&(i=n[Ql]=new Set);var c=e+"__bubble";i.has(c)||(_v(n,e,2,!1),i.add(c))}function Om(e,n,i){var c=0;n&&(c|=4),_v(i,e,c,n)}var pc="_reactListening"+Math.random().toString(36).slice(2);function Rm(e){if(!e[pc]){e[pc]=!0,Cp.forEach(function(i){i!=="selectionchange"&&(cj.has(i)||Om(i,!1,e),Om(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[pc]||(n[pc]=!0,Om("selectionchange",!1,n))}}function _v(e,n,i,c){switch(i0(n)){case 2:var f=Pj;break;case 8:f=zj;break;default:f=Km}i=f.bind(null,n,i,e),f=void 0,!ed||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),c?f!==void 0?e.addEventListener(n,i,{capture:!0,passive:f}):e.addEventListener(n,i,!0):f!==void 0?e.addEventListener(n,i,{passive:f}):e.addEventListener(n,i,!1)}function Im(e,n,i,c,f){var h=c;if((n&1)===0&&(n&2)===0&&c!==null)e:for(;;){if(c===null)return;var C=c.tag;if(C===3||C===4){var E=c.stateNode.containerInfo;if(E===f)break;if(C===4)for(C=c.return;C!==null;){var F=C.tag;if((F===3||F===4)&&C.stateNode.containerInfo===f)return;C=C.return}for(;E!==null;){if(C=pe(E),C===null)return;if(F=C.tag,F===5||F===6||F===26||F===27){c=h=C;continue e}E=E.parentNode}}c=c.return}Pp(function(){var X=h,re=Zu(i),ce=[];e:{var Z=dx.get(e);if(Z!==void 0){var te=Co,Ce=e;switch(e){case"keypress":if(wo(i)===0)break e;case"keydown":case"keyup":te=aN;break;case"focusin":Ce="focus",te=rd;break;case"focusout":Ce="blur",te=rd;break;case"beforeblur":case"afterblur":te=rd;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Bp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=q1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=sN;break;case ix:case ox:case cx:te=G1;break;case ux:te=iN;break;case"scroll":case"scrollend":te=Y1;break;case"wheel":te=cN;break;case"copy":case"cut":case"paste":te=K1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Yp;break;case"toggle":case"beforetoggle":te=dN}var _e=(n&4)!==0,ct=!_e&&(e==="scroll"||e==="scrollend"),$=_e?Z!==null?Z+"Capture":null:Z;_e=[];for(var Y=X,K;Y!==null;){var ie=Y;if(K=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||K===null||$===null||(ie=Kl(Y,$),ie!=null&&_e.push(Mi(Y,ie,K))),ct)break;Y=Y.return}0<_e.length&&(Z=new te(Z,Ce,null,i,re),ce.push({event:Z,listeners:_e}))}}if((n&7)===0){e:{if(Z=e==="mouseover"||e==="pointerover",te=e==="mouseout"||e==="pointerout",Z&&i!==Wu&&(Ce=i.relatedTarget||i.fromElement)&&(pe(Ce)||Ce[yr]))break e;if((te||Z)&&(Z=re.window===re?re:(Z=re.ownerDocument)?Z.defaultView||Z.parentWindow:window,te?(Ce=i.relatedTarget||i.toElement,te=X,Ce=Ce?pe(Ce):null,Ce!==null&&(ct=u(Ce),_e=Ce.tag,Ce!==ct||_e!==5&&_e!==27&&_e!==6)&&(Ce=null)):(te=null,Ce=X),te!==Ce)){if(_e=Bp,ie="onMouseLeave",$="onMouseEnter",Y="mouse",(e==="pointerout"||e==="pointerover")&&(_e=Yp,ie="onPointerLeave",$="onPointerEnter",Y="pointer"),ct=te==null?Z:Da(te),K=Ce==null?Z:Da(Ce),Z=new _e(ie,Y+"leave",te,i,re),Z.target=ct,Z.relatedTarget=K,ie=null,pe(re)===X&&(_e=new _e($,Y+"enter",Ce,i,re),_e.target=K,_e.relatedTarget=ct,ie=_e),ct=ie,te&&Ce)t:{for(_e=uj,$=te,Y=Ce,K=0,ie=$;ie;ie=_e(ie))K++;ie=0;for(var Ae=Y;Ae;Ae=_e(Ae))ie++;for(;0<K-ie;)$=_e($),K--;for(;0<ie-K;)Y=_e(Y),ie--;for(;K--;){if($===Y||Y!==null&&$===Y.alternate){_e=$;break t}$=_e($),Y=_e(Y)}_e=null}else _e=null;te!==null&&Ov(ce,Z,te,_e,!1),Ce!==null&&ct!==null&&Ov(ce,ct,Ce,_e,!0)}}e:{if(Z=X?Da(X):window,te=Z.nodeName&&Z.nodeName.toLowerCase(),te==="select"||te==="input"&&Z.type==="file")var Je=Xp;else if(Qp(Z))if(Wp)Je=NN;else{Je=gN;var ke=bN}else te=Z.nodeName,!te||te.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?X&&Xu(X.elementType)&&(Je=Xp):Je=yN;if(Je&&(Je=Je(e,X))){Kp(ce,Je,i,re);break e}ke&&ke(e,Z,X),e==="focusout"&&X&&Z.type==="number"&&X.memoizedProps.value!=null&&Ku(Z,"number",Z.value)}switch(ke=X?Da(X):window,e){case"focusin":(Qp(ke)||ke.contentEditable==="true")&&(Us=ke,ud=X,ni=null);break;case"focusout":ni=ud=Us=null;break;case"mousedown":dd=!0;break;case"contextmenu":case"mouseup":case"dragend":dd=!1,sx(ce,i,re);break;case"selectionchange":if(wN)break;case"keydown":case"keyup":sx(ce,i,re)}var Fe;if(ld)e:{switch(e){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else Ys?Vp(e,i)&&(Qe="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Qe="onCompositionStart");Qe&&(Up&&i.locale!=="ko"&&(Ys||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&Ys&&(Fe=zp()):(Nr=re,td="value"in Nr?Nr.value:Nr.textContent,Ys=!0)),ke=xc(X,Qe),0<ke.length&&(Qe=new Hp(Qe,e,null,i,re),ce.push({event:Qe,listeners:ke}),Fe?Qe.data=Fe:(Fe=Gp(i),Fe!==null&&(Qe.data=Fe)))),(Fe=fN?pN(e,i):xN(e,i))&&(Qe=xc(X,"onBeforeInput"),0<Qe.length&&(ke=new Hp("onBeforeInput","beforeinput",null,i,re),ce.push({event:ke,listeners:Qe}),ke.data=Fe)),lj(ce,e,X,i,re)}Ev(ce,n)})}function Mi(e,n,i){return{instance:e,listener:n,currentTarget:i}}function xc(e,n){for(var i=n+"Capture",c=[];e!==null;){var f=e,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=Kl(e,i),f!=null&&c.unshift(Mi(e,f,h)),f=Kl(e,n),f!=null&&c.push(Mi(e,f,h))),e.tag===3)return c;e=e.return}return[]}function uj(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ov(e,n,i,c,f){for(var h=n._reactName,C=[];i!==null&&i!==c;){var E=i,F=E.alternate,X=E.stateNode;if(E=E.tag,F!==null&&F===c)break;E!==5&&E!==26&&E!==27||X===null||(F=X,f?(X=Kl(i,h),X!=null&&C.unshift(Mi(i,X,F))):f||(X=Kl(i,h),X!=null&&C.push(Mi(i,X,F)))),i=i.return}C.length!==0&&e.push({event:n,listeners:C})}var dj=/\r\n?/g,mj=/\u0000|\uFFFD/g;function Rv(e){return(typeof e=="string"?e:""+e).replace(dj,`
`).replace(mj,"")}function Iv(e,n){return n=Rv(n),Rv(e)===n}function ot(e,n,i,c,f,h){switch(i){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||Fs(e,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&Fs(e,""+c);break;case"className":go(e,"class",c);break;case"tabIndex":go(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":go(e,i,c);break;case"style":Ip(e,c,h);break;case"data":if(n!=="object"){go(e,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(i);break}c=No(""+c),e.setAttribute(i,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(n!=="input"&&ot(e,n,"name",f.name,f,null),ot(e,n,"formEncType",f.formEncType,f,null),ot(e,n,"formMethod",f.formMethod,f,null),ot(e,n,"formTarget",f.formTarget,f,null)):(ot(e,n,"encType",f.encType,f,null),ot(e,n,"method",f.method,f,null),ot(e,n,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(i);break}c=No(""+c),e.setAttribute(i,c);break;case"onClick":c!=null&&(e.onclick=qn);break;case"onScroll":c!=null&&qe("scroll",e);break;case"onScrollEnd":c!=null&&qe("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(t(61));if(i=c.__html,i!=null){if(f.children!=null)throw Error(t(60));e.innerHTML=i}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}i=No(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(i,""+c):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":c===!0?e.setAttribute(i,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(i,c):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(i,c):e.removeAttribute(i);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(i):e.setAttribute(i,c);break;case"popover":qe("beforetoggle",e),qe("toggle",e),bo(e,"popover",c);break;case"xlinkActuate":Un(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Un(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Un(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Un(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Un(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Un(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Un(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Un(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Un(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":bo(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=B1.get(i)||i,bo(e,i,c))}}function Lm(e,n,i,c,f,h){switch(i){case"style":Ip(e,c,h);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(t(61));if(i=c.__html,i!=null){if(f.children!=null)throw Error(t(60));e.innerHTML=i}}break;case"children":typeof c=="string"?Fs(e,c):(typeof c=="number"||typeof c=="bigint")&&Fs(e,""+c);break;case"onScroll":c!=null&&qe("scroll",e);break;case"onScrollEnd":c!=null&&qe("scrollend",e);break;case"onClick":c!=null&&(e.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kp.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),n=i.slice(2,f?i.length-7:void 0),h=e[aa]||null,h=h!=null?h[i]:null,typeof h=="function"&&e.removeEventListener(n,h,f),typeof c=="function")){typeof h!="function"&&h!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,c,f);break e}i in e?e[i]=c:c===!0?e.setAttribute(i,""):bo(e,i,c)}}}function Wt(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",e),qe("load",e);var c=!1,f=!1,h;for(h in i)if(i.hasOwnProperty(h)){var C=i[h];if(C!=null)switch(h){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(t(137,n));default:ot(e,n,h,C,i,null)}}f&&ot(e,n,"srcSet",i.srcSet,i,null),c&&ot(e,n,"src",i.src,i,null);return;case"input":qe("invalid",e);var E=h=C=f=null,F=null,X=null;for(c in i)if(i.hasOwnProperty(c)){var re=i[c];if(re!=null)switch(c){case"name":f=re;break;case"type":C=re;break;case"checked":F=re;break;case"defaultChecked":X=re;break;case"value":h=re;break;case"defaultValue":E=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(t(137,n));break;default:ot(e,n,c,re,i,null)}}Ep(e,h,E,F,X,C,f,!1);return;case"select":qe("invalid",e),c=C=h=null;for(f in i)if(i.hasOwnProperty(f)&&(E=i[f],E!=null))switch(f){case"value":h=E;break;case"defaultValue":C=E;break;case"multiple":c=E;default:ot(e,n,f,E,i,null)}n=h,i=C,e.multiple=!!c,n!=null?zs(e,!!c,n,!1):i!=null&&zs(e,!!c,i,!0);return;case"textarea":qe("invalid",e),h=f=c=null;for(C in i)if(i.hasOwnProperty(C)&&(E=i[C],E!=null))switch(C){case"value":c=E;break;case"defaultValue":f=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(t(91));break;default:ot(e,n,C,E,i,null)}Op(e,c,f,h);return;case"option":for(F in i)i.hasOwnProperty(F)&&(c=i[F],c!=null)&&(F==="selected"?e.selected=c&&typeof c!="function"&&typeof c!="symbol":ot(e,n,F,c,i,null));return;case"dialog":qe("beforetoggle",e),qe("toggle",e),qe("cancel",e),qe("close",e);break;case"iframe":case"object":qe("load",e);break;case"video":case"audio":for(c=0;c<Di.length;c++)qe(Di[c],e);break;case"image":qe("error",e),qe("load",e);break;case"details":qe("toggle",e);break;case"embed":case"source":case"link":qe("error",e),qe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in i)if(i.hasOwnProperty(X)&&(c=i[X],c!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(t(137,n));default:ot(e,n,X,c,i,null)}return;default:if(Xu(n)){for(re in i)i.hasOwnProperty(re)&&(c=i[re],c!==void 0&&Lm(e,n,re,c,i,void 0));return}}for(E in i)i.hasOwnProperty(E)&&(c=i[E],c!=null&&ot(e,n,E,c,i,null))}function fj(e,n,i,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,C=null,E=null,F=null,X=null,re=null;for(te in i){var ce=i[te];if(i.hasOwnProperty(te)&&ce!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":F=ce;default:c.hasOwnProperty(te)||ot(e,n,te,null,c,ce)}}for(var Z in c){var te=c[Z];if(ce=i[Z],c.hasOwnProperty(Z)&&(te!=null||ce!=null))switch(Z){case"type":h=te;break;case"name":f=te;break;case"checked":X=te;break;case"defaultChecked":re=te;break;case"value":C=te;break;case"defaultValue":E=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(t(137,n));break;default:te!==ce&&ot(e,n,Z,te,c,ce)}}Qu(e,C,E,F,X,re,h,f);return;case"select":te=C=E=Z=null;for(h in i)if(F=i[h],i.hasOwnProperty(h)&&F!=null)switch(h){case"value":break;case"multiple":te=F;default:c.hasOwnProperty(h)||ot(e,n,h,null,c,F)}for(f in c)if(h=c[f],F=i[f],c.hasOwnProperty(f)&&(h!=null||F!=null))switch(f){case"value":Z=h;break;case"defaultValue":E=h;break;case"multiple":C=h;default:h!==F&&ot(e,n,f,h,c,F)}n=E,i=C,c=te,Z!=null?zs(e,!!i,Z,!1):!!c!=!!i&&(n!=null?zs(e,!!i,n,!0):zs(e,!!i,i?[]:"",!1));return;case"textarea":te=Z=null;for(E in i)if(f=i[E],i.hasOwnProperty(E)&&f!=null&&!c.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ot(e,n,E,null,c,f)}for(C in c)if(f=c[C],h=i[C],c.hasOwnProperty(C)&&(f!=null||h!=null))switch(C){case"value":Z=f;break;case"defaultValue":te=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(t(91));break;default:f!==h&&ot(e,n,C,f,c,h)}_p(e,Z,te);return;case"option":for(var Ce in i)Z=i[Ce],i.hasOwnProperty(Ce)&&Z!=null&&!c.hasOwnProperty(Ce)&&(Ce==="selected"?e.selected=!1:ot(e,n,Ce,null,c,Z));for(F in c)Z=c[F],te=i[F],c.hasOwnProperty(F)&&Z!==te&&(Z!=null||te!=null)&&(F==="selected"?e.selected=Z&&typeof Z!="function"&&typeof Z!="symbol":ot(e,n,F,Z,c,te));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in i)Z=i[_e],i.hasOwnProperty(_e)&&Z!=null&&!c.hasOwnProperty(_e)&&ot(e,n,_e,null,c,Z);for(X in c)if(Z=c[X],te=i[X],c.hasOwnProperty(X)&&Z!==te&&(Z!=null||te!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(t(137,n));break;default:ot(e,n,X,Z,c,te)}return;default:if(Xu(n)){for(var ct in i)Z=i[ct],i.hasOwnProperty(ct)&&Z!==void 0&&!c.hasOwnProperty(ct)&&Lm(e,n,ct,void 0,c,Z);for(re in c)Z=c[re],te=i[re],!c.hasOwnProperty(re)||Z===te||Z===void 0&&te===void 0||Lm(e,n,re,Z,c,te);return}}for(var $ in i)Z=i[$],i.hasOwnProperty($)&&Z!=null&&!c.hasOwnProperty($)&&ot(e,n,$,null,c,Z);for(ce in c)Z=c[ce],te=i[ce],!c.hasOwnProperty(ce)||Z===te||Z==null&&te==null||ot(e,n,ce,Z,c,te)}function Lv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pj(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,i=performance.getEntriesByType("resource"),c=0;c<i.length;c++){var f=i[c],h=f.transferSize,C=f.initiatorType,E=f.duration;if(h&&E&&Lv(C)){for(C=0,E=f.responseEnd,c+=1;c<i.length;c++){var F=i[c],X=F.startTime;if(X>E)break;var re=F.transferSize,ce=F.initiatorType;re&&Lv(ce)&&(F=F.responseEnd,C+=re*(F<E?1:(E-X)/(F-X)))}if(--c,n+=8*(h+C)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Pm=null,zm=null;function hc(e){return e.nodeType===9?e:e.ownerDocument}function Pv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zv(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Fm(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Bm=null;function xj(){var e=window.event;return e&&e.type==="popstate"?e===Bm?!1:(Bm=e,!0):(Bm=null,!1)}var Fv=typeof setTimeout=="function"?setTimeout:void 0,hj=typeof clearTimeout=="function"?clearTimeout:void 0,Bv=typeof Promise=="function"?Promise:void 0,vj=typeof queueMicrotask=="function"?queueMicrotask:typeof Bv<"u"?function(e){return Bv.resolve(null).then(e).catch(bj)}:Fv;function bj(e){setTimeout(function(){throw e})}function zr(e){return e==="head"}function Hv(e,n){var i=n,c=0;do{var f=i.nextSibling;if(e.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"||i==="/&"){if(c===0){e.removeChild(f),hl(n);return}c--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")c++;else if(i==="html")Ai(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Ai(i);for(var h=i.firstChild;h;){var C=h.nextSibling,E=h.nodeName;h[ts]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&h.rel.toLowerCase()==="stylesheet"||i.removeChild(h),h=C}}else i==="body"&&Ai(e.ownerDocument.body);i=f}while(i);hl(n)}function Yv(e,n){var i=e;e=0;do{var c=i.nextSibling;if(i.nodeType===1?n?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(n?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=c}while(i)}function Hm(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Hm(i),q(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function gj(e,n,i,c){for(;e.nodeType===1;){var f=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[ts])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Xa(e.nextSibling),e===null)break}return null}function yj(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Xa(e.nextSibling),e===null))return null;return e}function Uv(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Xa(e.nextSibling),e===null))return null;return e}function Ym(e){return e.data==="$?"||e.data==="$~"}function Um(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Nj(e,n){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||i.readyState!=="loading")n();else{var c=function(){n(),i.removeEventListener("DOMContentLoaded",c)};i.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function Xa(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var qm=null;function qv(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(n===0)return Xa(e.nextSibling);n--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||n++}e=e.nextSibling}return null}function $v(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(n===0)return e;n--}else i!=="/$"&&i!=="/&"||n++}e=e.previousSibling}return null}function Vv(e,n,i){switch(n=hc(i),e){case"html":if(e=n.documentElement,!e)throw Error(t(452));return e;case"head":if(e=n.head,!e)throw Error(t(453));return e;case"body":if(e=n.body,!e)throw Error(t(454));return e;default:throw Error(t(451))}}function Ai(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);q(e)}var Wa=new Map,Gv=new Set;function vc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var lr=W.d;W.d={f:jj,r:wj,D:Sj,C:Cj,L:kj,m:Dj,X:Aj,S:Mj,M:Tj};function jj(){var e=lr.f(),n=oc();return e||n}function wj(e){var n=Rt(e);n!==null&&n.tag===5&&n.type==="form"?uh(n):lr.r(e)}var fl=typeof document>"u"?null:document;function Qv(e,n,i){var c=fl;if(c&&typeof n=="string"&&n){var f=Ua(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),Gv.has(f)||(Gv.add(f),e={rel:e,crossOrigin:i,href:n},c.querySelector(f)===null&&(n=c.createElement("link"),Wt(n,"link",e),$t(n),c.head.appendChild(n)))}}function Sj(e){lr.D(e),Qv("dns-prefetch",e,null)}function Cj(e,n){lr.C(e,n),Qv("preconnect",e,n)}function kj(e,n,i){lr.L(e,n,i);var c=fl;if(c&&e&&n){var f='link[rel="preload"][as="'+Ua(n)+'"]';n==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+Ua(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+Ua(i.imageSizes)+'"]')):f+='[href="'+Ua(e)+'"]';var h=f;switch(n){case"style":h=pl(e);break;case"script":h=xl(e)}Wa.has(h)||(e=b({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),Wa.set(h,e),c.querySelector(f)!==null||n==="style"&&c.querySelector(Ti(h))||n==="script"&&c.querySelector(Ei(h))||(n=c.createElement("link"),Wt(n,"link",e),$t(n),c.head.appendChild(n)))}}function Dj(e,n){lr.m(e,n);var i=fl;if(i&&e){var c=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Ua(c)+'"][href="'+Ua(e)+'"]',h=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=xl(e)}if(!Wa.has(h)&&(e=b({rel:"modulepreload",href:e},n),Wa.set(h,e),i.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Ei(h)))return}c=i.createElement("link"),Wt(c,"link",e),$t(c),i.head.appendChild(c)}}}function Mj(e,n,i){lr.S(e,n,i);var c=fl;if(c&&e){var f=an(c).hoistableStyles,h=pl(e);n=n||"default";var C=f.get(h);if(!C){var E={loading:0,preload:null};if(C=c.querySelector(Ti(h)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},i),(i=Wa.get(h))&&$m(e,i);var F=C=c.createElement("link");$t(F),Wt(F,"link",e),F._p=new Promise(function(X,re){F.onload=X,F.onerror=re}),F.addEventListener("load",function(){E.loading|=1}),F.addEventListener("error",function(){E.loading|=2}),E.loading|=4,bc(C,n,c)}C={type:"stylesheet",instance:C,count:1,state:E},f.set(h,C)}}}function Aj(e,n){lr.X(e,n);var i=fl;if(i&&e){var c=an(i).hoistableScripts,f=xl(e),h=c.get(f);h||(h=i.querySelector(Ei(f)),h||(e=b({src:e,async:!0},n),(n=Wa.get(f))&&Vm(e,n),h=i.createElement("script"),$t(h),Wt(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(f,h))}}function Tj(e,n){lr.M(e,n);var i=fl;if(i&&e){var c=an(i).hoistableScripts,f=xl(e),h=c.get(f);h||(h=i.querySelector(Ei(f)),h||(e=b({src:e,async:!0,type:"module"},n),(n=Wa.get(f))&&Vm(e,n),h=i.createElement("script"),$t(h),Wt(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(f,h))}}function Kv(e,n,i,c){var f=(f=we.current)?vc(f):null;if(!f)throw Error(t(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=pl(i.href),i=an(f).hoistableStyles,c=i.get(n),c||(c={type:"style",instance:null,count:0,state:null},i.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=pl(i.href);var h=an(f).hoistableStyles,C=h.get(e);if(C||(f=f.ownerDocument||f,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,C),(h=f.querySelector(Ti(e)))&&!h._p&&(C.instance=h,C.state.loading=5),Wa.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Wa.set(e,i),h||Ej(f,e,i,C.state))),n&&c===null)throw Error(t(528,""));return C}if(n&&c!==null)throw Error(t(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=xl(i),i=an(f).hoistableScripts,c=i.get(n),c||(c={type:"script",instance:null,count:0,state:null},i.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(t(444,e))}}function pl(e){return'href="'+Ua(e)+'"'}function Ti(e){return'link[rel="stylesheet"]['+e+"]"}function Xv(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Ej(e,n,i,c){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=e.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),Wt(n,"link",i),$t(n),e.head.appendChild(n))}function xl(e){return'[src="'+Ua(e)+'"]'}function Ei(e){return"script[async]"+e}function Wv(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var c=e.querySelector('style[data-href~="'+Ua(i.href)+'"]');if(c)return n.instance=c,$t(c),c;var f=b({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),$t(c),Wt(c,"style",f),bc(c,i.precedence,e),n.instance=c;case"stylesheet":f=pl(i.href);var h=e.querySelector(Ti(f));if(h)return n.state.loading|=4,n.instance=h,$t(h),h;c=Xv(i),(f=Wa.get(f))&&$m(c,f),h=(e.ownerDocument||e).createElement("link"),$t(h);var C=h;return C._p=new Promise(function(E,F){C.onload=E,C.onerror=F}),Wt(h,"link",c),n.state.loading|=4,bc(h,i.precedence,e),n.instance=h;case"script":return h=xl(i.src),(f=e.querySelector(Ei(h)))?(n.instance=f,$t(f),f):(c=i,(f=Wa.get(h))&&(c=b({},i),Vm(c,f)),e=e.ownerDocument||e,f=e.createElement("script"),$t(f),Wt(f,"link",c),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(t(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(c=n.instance,n.state.loading|=4,bc(c,i.precedence,e));return n.instance}function bc(e,n,i){for(var c=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,h=f,C=0;C<c.length;C++){var E=c[C];if(E.dataset.precedence===n)h=E;else if(h!==f)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function $m(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Vm(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var gc=null;function Zv(e,n,i){if(gc===null){var c=new Map,f=gc=new Map;f.set(i,c)}else f=gc,c=f.get(i),c||(c=new Map,f.set(i,c));if(c.has(e))return c;for(c.set(e,null),i=i.getElementsByTagName(e),f=0;f<i.length;f++){var h=i[f];if(!(h[ts]||h[Bt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var C=h.getAttribute(n)||"";C=e+C;var E=c.get(C);E?E.push(h):c.set(C,[h])}}return c}function Jv(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function _j(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function e0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Oj(e,n,i,c){if(i.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=pl(c.href),h=n.querySelector(Ti(f));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=yc.bind(e),n.then(e,e)),i.state.loading|=4,i.instance=h,$t(h);return}h=n.ownerDocument||n,c=Xv(c),(f=Wa.get(f))&&$m(c,f),h=h.createElement("link"),$t(h);var C=h;C._p=new Promise(function(E,F){C.onload=E,C.onerror=F}),Wt(h,"link",c),i.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=yc.bind(e),n.addEventListener("load",i),n.addEventListener("error",i))}}var Gm=0;function Rj(e,n){return e.stylesheets&&e.count===0&&jc(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var c=setTimeout(function(){if(e.stylesheets&&jc(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+n);0<e.imgBytes&&Gm===0&&(Gm=62500*pj());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&jc(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>Gm?50:800)+n);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Nc=null;function jc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Nc=new Map,n.forEach(Ij,e),Nc=null,yc.call(e))}function Ij(e,n){if(!(n.state.loading&4)){var i=Nc.get(e);if(i)var c=i.get(null);else{i=new Map,Nc.set(e,i);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var C=f[h];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(i.set(C.dataset.precedence,C),c=C)}c&&i.set(null,c)}f=n.instance,C=f.getAttribute("data-precedence"),h=i.get(C)||c,h===c&&i.set(null,f),i.set(C,f),this.count++,c=yc.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),h?h.parentNode.insertBefore(f,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var _i={$$typeof:k,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function Lj(e,n,i,c,f,h,C,E,F){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vn(0),this.hiddenUpdates=vn(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function t0(e,n,i,c,f,h,C,E,F,X,re,ce){return e=new Lj(e,n,i,C,F,X,re,ce,E),n=1,h===!0&&(n|=24),h=Aa(3,null,null,n),e.current=h,h.stateNode=e,n=kd(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:c,isDehydrated:i,cache:n},Td(h),e}function a0(e){return e?(e=Vs,e):Vs}function n0(e,n,i,c,f,h){f=a0(f),c.context===null?c.context=f:c.pendingContext=f,c=Dr(n),c.payload={element:i},h=h===void 0?null:h,h!==null&&(c.callback=h),i=Mr(e,c,n),i!==null&&(ya(i,e,n),ui(i,e,n))}function r0(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function Qm(e,n){r0(e,n),(e=e.alternate)&&r0(e,n)}function s0(e){if(e.tag===13||e.tag===31){var n=ls(e,67108864);n!==null&&ya(n,e,67108864),Qm(e,67108864)}}function l0(e){if(e.tag===13||e.tag===31){var n=Ra();n=Vl(n);var i=ls(e,n);i!==null&&ya(i,e,n),Qm(e,n)}}var wc=!0;function Pj(e,n,i,c){var f=z.T;z.T=null;var h=W.p;try{W.p=2,Km(e,n,i,c)}finally{W.p=h,z.T=f}}function zj(e,n,i,c){var f=z.T;z.T=null;var h=W.p;try{W.p=8,Km(e,n,i,c)}finally{W.p=h,z.T=f}}function Km(e,n,i,c){if(wc){var f=Xm(c);if(f===null)Im(e,n,c,Sc,i),o0(e,c);else if(Bj(f,e,n,i,c))c.stopPropagation();else if(o0(e,c),n&4&&-1<Fj.indexOf(e)){for(;f!==null;){var h=Rt(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var C=he(h.pendingLanes);if(C!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;C;){var F=1<<31-Le(C);E.entanglements[1]|=F,C&=~F}wn(h),(tt&6)===0&&(lc=Q()+500,ki(0))}}break;case 31:case 13:E=ls(h,2),E!==null&&ya(E,h,2),oc(),Qm(h,2)}if(h=Xm(c),h===null&&Im(e,n,c,Sc,i),h===f)break;f=h}f!==null&&c.stopPropagation()}else Im(e,n,c,null,i)}}function Xm(e){return e=Zu(e),Wm(e)}var Sc=null;function Wm(e){if(Sc=null,e=pe(e),e!==null){var n=u(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=d(n),e!==null)return e;e=null}else if(i===31){if(e=m(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Sc=e,null}function i0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(de()){case me:return 2;case Ee:return 8;case Pe:case le:return 32;case We:return 268435456;default:return 32}default:return 32}}var Zm=!1,Fr=null,Br=null,Hr=null,Oi=new Map,Ri=new Map,Yr=[],Fj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function o0(e,n){switch(e){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":Oi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ri.delete(n.pointerId)}}function Ii(e,n,i,c,f,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:i,eventSystemFlags:c,nativeEvent:h,targetContainers:[f]},n!==null&&(n=Rt(n),n!==null&&s0(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function Bj(e,n,i,c,f){switch(n){case"focusin":return Fr=Ii(Fr,e,n,i,c,f),!0;case"dragenter":return Br=Ii(Br,e,n,i,c,f),!0;case"mouseover":return Hr=Ii(Hr,e,n,i,c,f),!0;case"pointerover":var h=f.pointerId;return Oi.set(h,Ii(Oi.get(h)||null,e,n,i,c,f)),!0;case"gotpointercapture":return h=f.pointerId,Ri.set(h,Ii(Ri.get(h)||null,e,n,i,c,f)),!0}return!1}function c0(e){var n=pe(e.target);if(n!==null){var i=u(n);if(i!==null){if(n=i.tag,n===13){if(n=d(i),n!==null){e.blockedOn=n,ho(e.priority,function(){l0(i)});return}}else if(n===31){if(n=m(i),n!==null){e.blockedOn=n,ho(e.priority,function(){l0(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=Xm(e.nativeEvent);if(i===null){i=e.nativeEvent;var c=new i.constructor(i.type,i);Wu=c,i.target.dispatchEvent(c),Wu=null}else return n=Rt(i),n!==null&&s0(n),e.blockedOn=i,!1;n.shift()}return!0}function u0(e,n,i){Cc(e)&&i.delete(n)}function Hj(){Zm=!1,Fr!==null&&Cc(Fr)&&(Fr=null),Br!==null&&Cc(Br)&&(Br=null),Hr!==null&&Cc(Hr)&&(Hr=null),Oi.forEach(u0),Ri.forEach(u0)}function kc(e,n){e.blockedOn===n&&(e.blockedOn=null,Zm||(Zm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Hj)))}var Dc=null;function d0(e){Dc!==e&&(Dc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Dc===e&&(Dc=null);for(var n=0;n<e.length;n+=3){var i=e[n],c=e[n+1],f=e[n+2];if(typeof c!="function"){if(Wm(c||i)===null)continue;break}var h=Rt(i);h!==null&&(e.splice(n,3),n-=3,Xd(h,{pending:!0,data:f,method:i.method,action:c},c,f))}}))}function hl(e){function n(F){return kc(F,e)}Fr!==null&&kc(Fr,e),Br!==null&&kc(Br,e),Hr!==null&&kc(Hr,e),Oi.forEach(n),Ri.forEach(n);for(var i=0;i<Yr.length;i++){var c=Yr[i];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Yr.length&&(i=Yr[0],i.blockedOn===null);)c0(i),i.blockedOn===null&&Yr.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(c=0;c<i.length;c+=3){var f=i[c],h=i[c+1],C=f[aa]||null;if(typeof h=="function")C||d0(i);else if(C){var E=null;if(h&&h.hasAttribute("formAction")){if(f=h,C=h[aa]||null)E=C.formAction;else if(Wm(f)!==null)continue}else E=C.action;typeof E=="function"?i[c+1]=E:(i.splice(c,3),c-=3),d0(i)}}}function m0(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(C){return f=C})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),c||setTimeout(i,20)}function i(){if(!c&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(i,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function Jm(e){this._internalRoot=e}Mc.prototype.render=Jm.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(t(409));var i=n.current,c=Ra();n0(i,c,e,n,null,null)},Mc.prototype.unmount=Jm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;n0(e.current,2,null,e,null,null),oc(),n[yr]=null}};function Mc(e){this._internalRoot=e}Mc.prototype.unstable_scheduleHydration=function(e){if(e){var n=xo();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Yr.length&&n!==0&&n<Yr[i].priority;i++);Yr.splice(i,0,e),i===0&&c0(e)}};var f0=l.version;if(f0!=="19.2.4")throw Error(t(527,f0,"19.2.4"));W.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(t(188)):(e=Object.keys(e).join(","),Error(t(268,e)));return e=p(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Yj={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{oa=Ac.inject(Yj),dt=Ac}catch{}}return Pi.createRoot=function(e,n){if(!o(e))throw Error(t(299));var i=!1,c="",f=yh,h=Nh,C=jh;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(C=n.onRecoverableError)),n=t0(e,1,!1,null,null,i,c,null,f,h,C,m0),e[yr]=n.current,Rm(e),new Jm(n)},Pi.hydrateRoot=function(e,n,i){if(!o(e))throw Error(t(299));var c=!1,f="",h=yh,C=Nh,E=jh,F=null;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(C=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.formState!==void 0&&(F=i.formState)),n=t0(e,1,!0,n,i??null,c,f,F,h,C,E,m0),n.context=a0(null),i=n.current,c=Ra(),c=Vl(c),f=Dr(c),f.callback=null,Mr(i,f,c),i=c,n.current.lanes=i,bn(n,i),wn(n),e[yr]=n.current,Rm(e),new Mc(n)},Pi.version="19.2.4",Pi}var w0;function Zj(){if(w0)return af.exports;w0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(l){console.error(l)}}return s(),af.exports=Wj(),af.exports}var Jj=Zj();var S0="popstate";function ew(s={}){function l(t,o){let{pathname:u,search:d,hash:m}=t.location;return Tf("",{pathname:u,search:d,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(t,o){return typeof o=="string"?o:Ji(o)}return aw(l,r,null,s)}function yt(s,l){if(s===!1||s===null||typeof s>"u")throw new Error(l)}function dn(s,l){if(!s){typeof console<"u"&&console.warn(l);try{throw new Error(l)}catch{}}}function tw(){return Math.random().toString(36).substring(2,10)}function C0(s,l){return{usr:s.state,key:s.key,idx:l}}function Tf(s,l,r=null,t){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof l=="string"?Fl(l):l,state:r,key:l&&l.key||t||tw()}}function Ji({pathname:s="/",search:l="",hash:r=""}){return l&&l!=="?"&&(s+=l.charAt(0)==="?"?l:"?"+l),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function Fl(s){let l={};if(s){let r=s.indexOf("#");r>=0&&(l.hash=s.substring(r),s=s.substring(0,r));let t=s.indexOf("?");t>=0&&(l.search=s.substring(t),s=s.substring(0,t)),s&&(l.pathname=s)}return l}function aw(s,l,r,t={}){let{window:o=document.defaultView,v5Compat:u=!1}=t,d=o.history,m="POP",x=null,p=v();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function v(){return(d.state||{idx:null}).idx}function b(){m="POP";let g=v(),w=g==null?null:g-p;p=g,x&&x({action:m,location:j.location,delta:w})}function y(g,w){m="PUSH";let D=Tf(j.location,g,w);p=v()+1;let k=C0(D,p),T=j.createHref(D);try{d.pushState(k,"",T)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;o.location.assign(T)}u&&x&&x({action:m,location:j.location,delta:1})}function S(g,w){m="REPLACE";let D=Tf(j.location,g,w);p=v();let k=C0(D,p),T=j.createHref(D);d.replaceState(k,"",T),u&&x&&x({action:m,location:j.location,delta:0})}function M(g){return nw(g)}let j={get action(){return m},get location(){return s(o,d)},listen(g){if(x)throw new Error("A history only accepts one active listener");return o.addEventListener(S0,b),x=g,()=>{o.removeEventListener(S0,b),x=null}},createHref(g){return l(o,g)},createURL:M,encodeLocation(g){let w=M(g);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:y,replace:S,go(g){return d.go(g)}};return j}function nw(s,l=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),yt(r,"No window.location.(origin|href) available to create URL");let t=typeof s=="string"?s:Ji(s);return t=t.replace(/ $/,"%20"),!l&&t.startsWith("//")&&(t=r+t),new URL(t,r)}function hg(s,l,r="/"){return rw(s,l,r,!1)}function rw(s,l,r,t){let o=typeof l=="string"?Fl(l):l,u=pr(o.pathname||"/",r);if(u==null)return null;let d=vg(s);sw(d);let m=null;for(let x=0;m==null&&x<d.length;++x){let p=hw(u);m=pw(d[x],p,t)}return m}function vg(s,l=[],r=[],t="",o=!1){let u=(d,m,x=o,p)=>{let v={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:m,route:d};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(t)&&x)return;yt(v.relativePath.startsWith(t),`Absolute route path "${v.relativePath}" nested under path "${t}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(t.length)}let b=ur([t,v.relativePath]),y=r.concat(v);d.children&&d.children.length>0&&(yt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),vg(d.children,l,y,b,x)),!(d.path==null&&!d.index)&&l.push({path:b,score:mw(b,d.index),routesMeta:y})};return s.forEach((d,m)=>{if(d.path===""||!d.path?.includes("?"))u(d,m);else for(let x of bg(d.path))u(d,m,!0,x)}),l}function bg(s){let l=s.split("/");if(l.length===0)return[];let[r,...t]=l,o=r.endsWith("?"),u=r.replace(/\?$/,"");if(t.length===0)return o?[u,""]:[u];let d=bg(t.join("/")),m=[];return m.push(...d.map(x=>x===""?u:[u,x].join("/"))),o&&m.push(...d),m.map(x=>s.startsWith("/")&&x===""?"/":x)}function sw(s){s.sort((l,r)=>l.score!==r.score?r.score-l.score:fw(l.routesMeta.map(t=>t.childrenIndex),r.routesMeta.map(t=>t.childrenIndex)))}var lw=/^:[\w-]+$/,iw=3,ow=2,cw=1,uw=10,dw=-2,k0=s=>s==="*";function mw(s,l){let r=s.split("/"),t=r.length;return r.some(k0)&&(t+=dw),l&&(t+=ow),r.filter(o=>!k0(o)).reduce((o,u)=>o+(lw.test(u)?iw:u===""?cw:uw),t)}function fw(s,l){return s.length===l.length&&s.slice(0,-1).every((t,o)=>t===l[o])?s[s.length-1]-l[l.length-1]:0}function pw(s,l,r=!1){let{routesMeta:t}=s,o={},u="/",d=[];for(let m=0;m<t.length;++m){let x=t[m],p=m===t.length-1,v=u==="/"?l:l.slice(u.length)||"/",b=cu({path:x.relativePath,caseSensitive:x.caseSensitive,end:p},v),y=x.route;if(!b&&p&&r&&!t[t.length-1].route.index&&(b=cu({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),d.push({params:o,pathname:ur([u,b.pathname]),pathnameBase:yw(ur([u,b.pathnameBase])),route:y}),b.pathnameBase!=="/"&&(u=ur([u,b.pathnameBase]))}return d}function cu(s,l){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[r,t]=xw(s.path,s.caseSensitive,s.end),o=l.match(r);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:t.reduce((p,{paramName:v,isOptional:b},y)=>{if(v==="*"){let M=m[y]||"";d=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const S=m[y];return b&&!S?p[v]=void 0:p[v]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:d,pattern:s}}function xw(s,l=!1,r=!0){dn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let t=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,x)=>(t.push({paramName:m,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(t.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,l?void 0:"i"),t]}function hw(s){try{return s.split("/").map(l=>decodeURIComponent(l).replace(/\//g,"%2F")).join("/")}catch(l){return dn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${l}).`),s}}function pr(s,l){if(l==="/")return s;if(!s.toLowerCase().startsWith(l.toLowerCase()))return null;let r=l.endsWith("/")?l.length-1:l.length,t=s.charAt(r);return t&&t!=="/"?null:s.slice(r)||"/"}var vw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function bw(s,l="/"){let{pathname:r,search:t="",hash:o=""}=typeof s=="string"?Fl(s):s,u;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?u=D0(r.substring(1),"/"):u=D0(r,l)):u=l,{pathname:u,search:Nw(t),hash:jw(o)}}function D0(s,l){let r=l.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function lf(s,l,r,t){return`Cannot include a '${s}' character in a manually specified \`to.${l}\` field [${JSON.stringify(t)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gw(s){return s.filter((l,r)=>r===0||l.route.path&&l.route.path.length>0)}function Qf(s){let l=gw(s);return l.map((r,t)=>t===l.length-1?r.pathname:r.pathnameBase)}function Kf(s,l,r,t=!1){let o;typeof s=="string"?o=Fl(s):(o={...s},yt(!o.pathname||!o.pathname.includes("?"),lf("?","pathname","search",o)),yt(!o.pathname||!o.pathname.includes("#"),lf("#","pathname","hash",o)),yt(!o.search||!o.search.includes("#"),lf("#","search","hash",o)));let u=s===""||o.pathname==="",d=u?"/":o.pathname,m;if(d==null)m=r;else{let b=l.length-1;if(!t&&d.startsWith("..")){let y=d.split("/");for(;y[0]==="..";)y.shift(),b-=1;o.pathname=y.join("/")}m=b>=0?l[b]:"/"}let x=bw(o,m),p=d&&d!=="/"&&d.endsWith("/"),v=(u||d===".")&&r.endsWith("/");return!x.pathname.endsWith("/")&&(p||v)&&(x.pathname+="/"),x}var ur=s=>s.join("/").replace(/\/\/+/g,"/"),yw=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Nw=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,jw=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,ww=class{constructor(s,l,r,t=!1){this.status=s,this.statusText=l||"",this.internal=t,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Sw(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function Cw(s){return s.map(l=>l.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var gg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function yg(s,l){let r=s;if(typeof r!="string"||!vw.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let t=r,o=!1;if(gg)try{let u=new URL(window.location.href),d=r.startsWith("//")?new URL(u.protocol+r):new URL(r),m=pr(d.pathname,l);d.origin===u.origin&&m!=null?r=m+d.search+d.hash:o=!0}catch{dn(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:t,isExternal:o,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ng=["POST","PUT","PATCH","DELETE"];new Set(Ng);var kw=["GET",...Ng];new Set(kw);var Bl=N.createContext(null);Bl.displayName="DataRouter";var Eu=N.createContext(null);Eu.displayName="DataRouterState";var Dw=N.createContext(!1),jg=N.createContext({isTransitioning:!1});jg.displayName="ViewTransition";var Mw=N.createContext(new Map);Mw.displayName="Fetchers";var Aw=N.createContext(null);Aw.displayName="Await";var Fa=N.createContext(null);Fa.displayName="Navigation";var ro=N.createContext(null);ro.displayName="Location";var fn=N.createContext({outlet:null,matches:[],isDataRoute:!1});fn.displayName="Route";var Xf=N.createContext(null);Xf.displayName="RouteError";var wg="REACT_ROUTER_ERROR",Tw="REDIRECT",Ew="ROUTE_ERROR_RESPONSE";function _w(s){if(s.startsWith(`${wg}:${Tw}:{`))try{let l=JSON.parse(s.slice(28));if(typeof l=="object"&&l&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.location=="string"&&typeof l.reloadDocument=="boolean"&&typeof l.replace=="boolean")return l}catch{}}function Ow(s){if(s.startsWith(`${wg}:${Ew}:{`))try{let l=JSON.parse(s.slice(40));if(typeof l=="object"&&l&&typeof l.status=="number"&&typeof l.statusText=="string")return new ww(l.status,l.statusText,l.data)}catch{}}function Rw(s,{relative:l}={}){yt(Hl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:t}=N.useContext(Fa),{hash:o,pathname:u,search:d}=so(s,{relative:l}),m=u;return r!=="/"&&(m=u==="/"?r:ur([r,u])),t.createHref({pathname:m,search:d,hash:o})}function Hl(){return N.useContext(ro)!=null}function en(){return yt(Hl(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(ro).location}var Sg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Cg(s){N.useContext(Fa).static||N.useLayoutEffect(s)}function Rs(){let{isDataRoute:s}=N.useContext(fn);return s?Kw():Iw()}function Iw(){yt(Hl(),"useNavigate() may be used only in the context of a <Router> component.");let s=N.useContext(Bl),{basename:l,navigator:r}=N.useContext(Fa),{matches:t}=N.useContext(fn),{pathname:o}=en(),u=JSON.stringify(Qf(t)),d=N.useRef(!1);return Cg(()=>{d.current=!0}),N.useCallback((x,p={})=>{if(dn(d.current,Sg),!d.current)return;if(typeof x=="number"){r.go(x);return}let v=Kf(x,JSON.parse(u),o,p.relative==="path");s==null&&l!=="/"&&(v.pathname=v.pathname==="/"?l:ur([l,v.pathname])),(p.replace?r.replace:r.push)(v,p.state,p)},[l,r,u,o,s])}var Lw=N.createContext(null);function Pw(s){let l=N.useContext(fn).outlet;return N.useMemo(()=>l&&N.createElement(Lw.Provider,{value:s},l),[l,s])}function so(s,{relative:l}={}){let{matches:r}=N.useContext(fn),{pathname:t}=en(),o=JSON.stringify(Qf(r));return N.useMemo(()=>Kf(s,JSON.parse(o),t,l==="path"),[s,o,t,l])}function zw(s,l){return kg(s,l)}function kg(s,l,r,t,o){yt(Hl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=N.useContext(Fa),{matches:d}=N.useContext(fn),m=d[d.length-1],x=m?m.params:{},p=m?m.pathname:"/",v=m?m.pathnameBase:"/",b=m&&m.route;{let D=b&&b.path||"";Mg(p,!b||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let y=en(),S;if(l){let D=typeof l=="string"?Fl(l):l;yt(v==="/"||D.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${D.pathname}" was given in the \`location\` prop.`),S=D}else S=y;let M=S.pathname||"/",j=M;if(v!=="/"){let D=v.replace(/^\//,"").split("/");j="/"+M.replace(/^\//,"").split("/").slice(D.length).join("/")}let g=hg(s,{pathname:j});dn(b||g!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),dn(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=Uw(g&&g.map(D=>Object.assign({},D,{params:Object.assign({},x,D.params),pathname:ur([v,u.encodeLocation?u.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?v:ur([v,u.encodeLocation?u.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),d,r,t,o);return l&&w?N.createElement(ro.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},w):w}function Fw(){let s=Qw(),l=Sw(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),r=s instanceof Error?s.stack:null,t="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:t},u={padding:"2px 4px",backgroundColor:t},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:u},"ErrorBoundary")," or"," ",N.createElement("code",{style:u},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},l),r?N.createElement("pre",{style:o},r):null,d)}var Bw=N.createElement(Fw,null),Dg=class extends N.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,l){return l.location!==s.location||l.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:l.error,location:l.location,revalidation:s.revalidation||l.revalidation}}componentDidCatch(s,l){this.props.onError?this.props.onError(s,l):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const r=Ow(s.digest);r&&(s=r)}let l=s!==void 0?N.createElement(fn.Provider,{value:this.props.routeContext},N.createElement(Xf.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?N.createElement(Hw,{error:s},l):l}};Dg.contextType=Dw;var of=new WeakMap;function Hw({children:s,error:l}){let{basename:r}=N.useContext(Fa);if(typeof l=="object"&&l&&"digest"in l&&typeof l.digest=="string"){let t=_w(l.digest);if(t){let o=of.get(l);if(o)throw o;let u=yg(t.location,r);if(gg&&!of.get(l))if(u.isExternal||t.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:t.replace}));throw of.set(l,d),d}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return s}function Yw({routeContext:s,match:l,children:r}){let t=N.useContext(Bl);return t&&t.static&&t.staticContext&&(l.route.errorElement||l.route.ErrorBoundary)&&(t.staticContext._deepestRenderedBoundaryId=l.route.id),N.createElement(fn.Provider,{value:s},r)}function Uw(s,l=[],r=null,t=null,o=null){if(s==null){if(!r)return null;if(r.errors)s=r.matches;else if(l.length===0&&!r.initialized&&r.matches.length>0)s=r.matches;else return null}let u=s,d=r?.errors;if(d!=null){let v=u.findIndex(b=>b.route.id&&d?.[b.route.id]!==void 0);yt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let m=!1,x=-1;if(r)for(let v=0;v<u.length;v++){let b=u[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(x=v),b.route.id){let{loaderData:y,errors:S}=r,M=b.route.loader&&!y.hasOwnProperty(b.route.id)&&(!S||S[b.route.id]===void 0);if(b.route.lazy||M){m=!0,x>=0?u=u.slice(0,x+1):u=[u[0]];break}}}let p=r&&t?(v,b)=>{t(v,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:Cw(r.matches),errorInfo:b})}:void 0;return u.reduceRight((v,b,y)=>{let S,M=!1,j=null,g=null;r&&(S=d&&b.route.id?d[b.route.id]:void 0,j=b.route.errorElement||Bw,m&&(x<0&&y===0?(Mg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,g=null):x===y&&(M=!0,g=b.route.hydrateFallbackElement||null)));let w=l.concat(u.slice(0,y+1)),D=()=>{let k;return S?k=j:M?k=g:b.route.Component?k=N.createElement(b.route.Component,null):b.route.element?k=b.route.element:k=v,N.createElement(Yw,{match:b,routeContext:{outlet:v,matches:w,isDataRoute:r!=null},children:k})};return r&&(b.route.ErrorBoundary||b.route.errorElement||y===0)?N.createElement(Dg,{location:r.location,revalidation:r.revalidation,component:j,error:S,children:D(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:p}):D()},null)}function Wf(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qw(s){let l=N.useContext(Bl);return yt(l,Wf(s)),l}function $w(s){let l=N.useContext(Eu);return yt(l,Wf(s)),l}function Vw(s){let l=N.useContext(fn);return yt(l,Wf(s)),l}function Zf(s){let l=Vw(s),r=l.matches[l.matches.length-1];return yt(r.route.id,`${s} can only be used on routes that contain a unique "id"`),r.route.id}function Gw(){return Zf("useRouteId")}function Qw(){let s=N.useContext(Xf),l=$w("useRouteError"),r=Zf("useRouteError");return s!==void 0?s:l.errors?.[r]}function Kw(){let{router:s}=qw("useNavigate"),l=Zf("useNavigate"),r=N.useRef(!1);return Cg(()=>{r.current=!0}),N.useCallback(async(o,u={})=>{dn(r.current,Sg),r.current&&(typeof o=="number"?await s.navigate(o):await s.navigate(o,{fromRouteId:l,...u}))},[s,l])}var M0={};function Mg(s,l,r){!l&&!M0[s]&&(M0[s]=!0,dn(!1,r))}N.memo(Xw);function Xw({routes:s,future:l,state:r,onError:t}){return kg(s,void 0,r,t,l)}function uu({to:s,replace:l,state:r,relative:t}){yt(Hl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=N.useContext(Fa);dn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=N.useContext(fn),{pathname:d}=en(),m=Rs(),x=Kf(s,Qf(u),d,t==="path"),p=JSON.stringify(x);return N.useEffect(()=>{m(JSON.parse(p),{replace:l,state:r,relative:t})},[m,p,t,l,r]),null}function Ag(s){return Pw(s.context)}function gt(s){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ww({basename:s="/",children:l=null,location:r,navigationType:t="POP",navigator:o,static:u=!1,unstable_useTransitions:d}){yt(!Hl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=s.replace(/^\/*/,"/"),x=N.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:d,future:{}}),[m,o,u,d]);typeof r=="string"&&(r=Fl(r));let{pathname:p="/",search:v="",hash:b="",state:y=null,key:S="default"}=r,M=N.useMemo(()=>{let j=pr(p,m);return j==null?null:{location:{pathname:j,search:v,hash:b,state:y,key:S},navigationType:t}},[m,p,v,b,y,S,t]);return dn(M!=null,`<Router basename="${m}"> is not able to match the URL "${p}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:N.createElement(Fa.Provider,{value:x},N.createElement(ro.Provider,{children:l,value:M}))}function Zw({children:s,location:l}){return zw(Ef(s),l)}function Ef(s,l=[]){let r=[];return N.Children.forEach(s,(t,o)=>{if(!N.isValidElement(t))return;let u=[...l,o];if(t.type===N.Fragment){r.push.apply(r,Ef(t.props.children,u));return}yt(t.type===gt,`[${typeof t.type=="string"?t.type:t.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!t.props.index||!t.props.children,"An index route cannot have child routes.");let d={id:t.props.id||u.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,middleware:t.props.middleware,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:t.props.hasErrorBoundary===!0||t.props.ErrorBoundary!=null||t.props.errorElement!=null,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(d.children=Ef(t.props.children,u)),r.push(d)}),r}var Jc="get",eu="application/x-www-form-urlencoded";function _u(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function Jw(s){return _u(s)&&s.tagName.toLowerCase()==="button"}function e2(s){return _u(s)&&s.tagName.toLowerCase()==="form"}function t2(s){return _u(s)&&s.tagName.toLowerCase()==="input"}function a2(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function n2(s,l){return s.button===0&&(!l||l==="_self")&&!a2(s)}var Tc=null;function r2(){if(Tc===null)try{new FormData(document.createElement("form"),0),Tc=!1}catch{Tc=!0}return Tc}var s2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cf(s){return s!=null&&!s2.has(s)?(dn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${eu}"`),null):s}function l2(s,l){let r,t,o,u,d;if(e2(s)){let m=s.getAttribute("action");t=m?pr(m,l):null,r=s.getAttribute("method")||Jc,o=cf(s.getAttribute("enctype"))||eu,u=new FormData(s)}else if(Jw(s)||t2(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=s.getAttribute("formaction")||m.getAttribute("action");if(t=x?pr(x,l):null,r=s.getAttribute("formmethod")||m.getAttribute("method")||Jc,o=cf(s.getAttribute("formenctype"))||cf(m.getAttribute("enctype"))||eu,u=new FormData(m,s),!r2()){let{name:p,type:v,value:b}=s;if(v==="image"){let y=p?`${p}.`:"";u.append(`${y}x`,"0"),u.append(`${y}y`,"0")}else p&&u.append(p,b)}}else{if(_u(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Jc,t=null,o=eu,d=s}return u&&o==="text/plain"&&(d=u,u=void 0),{action:t,method:r.toLowerCase(),encType:o,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Jf(s,l){if(s===!1||s===null||typeof s>"u")throw new Error(l)}function i2(s,l,r,t){let o=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${t}`:o.pathname=`${o.pathname}.${t}`:o.pathname==="/"?o.pathname=`_root.${t}`:l&&pr(o.pathname,l)==="/"?o.pathname=`${l.replace(/\/$/,"")}/_root.${t}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${t}`,o}async function o2(s,l){if(s.id in l)return l[s.id];try{let r=await import(s.module);return l[s.id]=r,r}catch(r){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function c2(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function u2(s,l,r){let t=await Promise.all(s.map(async o=>{let u=l.routes[o.route.id];if(u){let d=await o2(u,r);return d.links?d.links():[]}return[]}));return p2(t.flat(1).filter(c2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function A0(s,l,r,t,o,u){let d=(x,p)=>r[p]?x.route.id!==r[p].route.id:!0,m=(x,p)=>r[p].pathname!==x.pathname||r[p].route.path?.endsWith("*")&&r[p].params["*"]!==x.params["*"];return u==="assets"?l.filter((x,p)=>d(x,p)||m(x,p)):u==="data"?l.filter((x,p)=>{let v=t.routes[x.route.id];if(!v||!v.hasLoader)return!1;if(d(x,p)||m(x,p))return!0;if(x.route.shouldRevalidate){let b=x.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function d2(s,l,{includeHydrateFallback:r}={}){return m2(s.map(t=>{let o=l.routes[t.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function m2(s){return[...new Set(s)]}function f2(s){let l={},r=Object.keys(s).sort();for(let t of r)l[t]=s[t];return l}function p2(s,l){let r=new Set;return new Set(l),s.reduce((t,o)=>{let u=JSON.stringify(f2(o));return r.has(u)||(r.add(u),t.push({key:u,link:o})),t},[])}function Tg(){let s=N.useContext(Bl);return Jf(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function x2(){let s=N.useContext(Eu);return Jf(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var ep=N.createContext(void 0);ep.displayName="FrameworkContext";function Eg(){let s=N.useContext(ep);return Jf(s,"You must render this element inside a <HydratedRouter> element"),s}function h2(s,l){let r=N.useContext(ep),[t,o]=N.useState(!1),[u,d]=N.useState(!1),{onFocus:m,onBlur:x,onMouseEnter:p,onMouseLeave:v,onTouchStart:b}=l,y=N.useRef(null);N.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let j=w=>{w.forEach(D=>{d(D.isIntersecting)})},g=new IntersectionObserver(j,{threshold:.5});return y.current&&g.observe(y.current),()=>{g.disconnect()}}},[s]),N.useEffect(()=>{if(t){let j=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(j)}}},[t]);let S=()=>{o(!0)},M=()=>{o(!1),d(!1)};return r?s!=="intent"?[u,y,{}]:[u,y,{onFocus:zi(m,S),onBlur:zi(x,M),onMouseEnter:zi(p,S),onMouseLeave:zi(v,M),onTouchStart:zi(b,S)}]:[!1,y,{}]}function zi(s,l){return r=>{s&&s(r),r.defaultPrevented||l(r)}}function v2({page:s,...l}){let{router:r}=Tg(),t=N.useMemo(()=>hg(r.routes,s,r.basename),[r.routes,s,r.basename]);return t?N.createElement(g2,{page:s,matches:t,...l}):null}function b2(s){let{manifest:l,routeModules:r}=Eg(),[t,o]=N.useState([]);return N.useEffect(()=>{let u=!1;return u2(s,l,r).then(d=>{u||o(d)}),()=>{u=!0}},[s,l,r]),t}function g2({page:s,matches:l,...r}){let t=en(),{future:o,manifest:u,routeModules:d}=Eg(),{basename:m}=Tg(),{loaderData:x,matches:p}=x2(),v=N.useMemo(()=>A0(s,l,p,u,t,"data"),[s,l,p,u,t]),b=N.useMemo(()=>A0(s,l,p,u,t,"assets"),[s,l,p,u,t]),y=N.useMemo(()=>{if(s===t.pathname+t.search+t.hash)return[];let j=new Set,g=!1;if(l.forEach(D=>{let k=u.routes[D.route.id];!k||!k.hasLoader||(!v.some(T=>T.route.id===D.route.id)&&D.route.id in x&&d[D.route.id]?.shouldRevalidate||k.hasClientLoader?g=!0:j.add(D.route.id))}),j.size===0)return[];let w=i2(s,m,o.unstable_trailingSlashAwareDataRequests,"data");return g&&j.size>0&&w.searchParams.set("_routes",l.filter(D=>j.has(D.route.id)).map(D=>D.route.id).join(",")),[w.pathname+w.search]},[m,o.unstable_trailingSlashAwareDataRequests,x,t,u,v,l,s,d]),S=N.useMemo(()=>d2(b,u),[b,u]),M=b2(b);return N.createElement(N.Fragment,null,y.map(j=>N.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...r})),S.map(j=>N.createElement("link",{key:j,rel:"modulepreload",href:j,...r})),M.map(({key:j,link:g})=>N.createElement("link",{key:j,nonce:r.nonce,...g,crossOrigin:g.crossOrigin??r.crossOrigin})))}function y2(...s){return l=>{s.forEach(r=>{typeof r=="function"?r(l):r!=null&&(r.current=l)})}}var N2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{N2&&(window.__reactRouterVersion="7.13.0")}catch{}function j2({basename:s,children:l,unstable_useTransitions:r,window:t}){let o=N.useRef();o.current==null&&(o.current=ew({window:t,v5Compat:!0}));let u=o.current,[d,m]=N.useState({action:u.action,location:u.location}),x=N.useCallback(p=>{r===!1?m(p):N.startTransition(()=>m(p))},[r]);return N.useLayoutEffect(()=>u.listen(x),[u,x]),N.createElement(Ww,{basename:s,children:l,location:d.location,navigationType:d.action,navigator:u,unstable_useTransitions:r})}var _g=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sl=N.forwardRef(function({onClick:l,discover:r="render",prefetch:t="none",relative:o,reloadDocument:u,replace:d,state:m,target:x,to:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:y,...S},M){let{basename:j,unstable_useTransitions:g}=N.useContext(Fa),w=typeof p=="string"&&_g.test(p),D=yg(p,j);p=D.to;let k=Rw(p,{relative:o}),[T,_,B]=h2(t,S),H=C2(p,{replace:d,state:m,target:x,preventScrollReset:v,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:y,unstable_useTransitions:g});function O(I){l&&l(I),I.defaultPrevented||H(I)}let L=N.createElement("a",{...S,...B,href:D.absoluteURL||k,onClick:D.isExternal||u?l:O,ref:y2(M,_),target:x,"data-discover":!w&&r==="render"?"true":void 0});return T&&!w?N.createElement(N.Fragment,null,L,N.createElement(v2,{page:k})):L});Sl.displayName="Link";var tp=N.forwardRef(function({"aria-current":l="page",caseSensitive:r=!1,className:t="",end:o=!1,style:u,to:d,viewTransition:m,children:x,...p},v){let b=so(d,{relative:p.relative}),y=en(),S=N.useContext(Eu),{navigator:M,basename:j}=N.useContext(Fa),g=S!=null&&T2(b)&&m===!0,w=M.encodeLocation?M.encodeLocation(b).pathname:b.pathname,D=y.pathname,k=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;r||(D=D.toLowerCase(),k=k?k.toLowerCase():null,w=w.toLowerCase()),k&&j&&(k=pr(k,j)||k);const T=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let _=D===w||!o&&D.startsWith(w)&&D.charAt(T)==="/",B=k!=null&&(k===w||!o&&k.startsWith(w)&&k.charAt(w.length)==="/"),H={isActive:_,isPending:B,isTransitioning:g},O=_?l:void 0,L;typeof t=="function"?L=t(H):L=[t,_?"active":null,B?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(H):u;return N.createElement(Sl,{...p,"aria-current":O,className:L,ref:v,style:I,to:d,viewTransition:m},typeof x=="function"?x(H):x)});tp.displayName="NavLink";var w2=N.forwardRef(({discover:s="render",fetcherKey:l,navigate:r,reloadDocument:t,replace:o,state:u,method:d=Jc,action:m,onSubmit:x,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:y,...S},M)=>{let{unstable_useTransitions:j}=N.useContext(Fa),g=M2(),w=A2(m,{relative:p}),D=d.toLowerCase()==="get"?"get":"post",k=typeof m=="string"&&_g.test(m),T=_=>{if(x&&x(_),_.defaultPrevented)return;_.preventDefault();let B=_.nativeEvent.submitter,H=B?.getAttribute("formmethod")||d,O=()=>g(B||_.currentTarget,{fetcherKey:l,method:H,navigate:r,replace:o,state:u,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:y});j&&r!==!1?N.startTransition(()=>O()):O()};return N.createElement("form",{ref:M,method:D,action:w,onSubmit:t?x:T,...S,"data-discover":!k&&s==="render"?"true":void 0})});w2.displayName="Form";function S2(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Og(s){let l=N.useContext(Bl);return yt(l,S2(s)),l}function C2(s,{target:l,replace:r,state:t,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:m,unstable_useTransitions:x}={}){let p=Rs(),v=en(),b=so(s,{relative:u});return N.useCallback(y=>{if(n2(y,l)){y.preventDefault();let S=r!==void 0?r:Ji(v)===Ji(b),M=()=>p(s,{replace:S,state:t,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:m});x?N.startTransition(()=>M()):M()}},[v,p,b,r,t,l,s,o,u,d,m,x])}var k2=0,D2=()=>`__${String(++k2)}__`;function M2(){let{router:s}=Og("useSubmit"),{basename:l}=N.useContext(Fa),r=Gw(),t=s.fetch,o=s.navigate;return N.useCallback(async(u,d={})=>{let{action:m,method:x,encType:p,formData:v,body:b}=l2(u,l);if(d.navigate===!1){let y=d.fetcherKey||D2();await t(y,r,d.action||m,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:v,body:b,formMethod:d.method||x,formEncType:d.encType||p,flushSync:d.flushSync})}else await o(d.action||m,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:v,body:b,formMethod:d.method||x,formEncType:d.encType||p,replace:d.replace,state:d.state,fromRouteId:r,flushSync:d.flushSync,viewTransition:d.viewTransition})},[t,o,l,r])}function A2(s,{relative:l}={}){let{basename:r}=N.useContext(Fa),t=N.useContext(fn);yt(t,"useFormAction must be used inside a RouteContext");let[o]=t.matches.slice(-1),u={...so(s||".",{relative:l})},d=en();if(s==null){u.search=d.search;let m=new URLSearchParams(u.search),x=m.getAll("index");if(x.some(v=>v==="")){m.delete("index"),x.filter(b=>b).forEach(b=>m.append("index",b));let v=m.toString();u.search=v?`?${v}`:""}}return(!s||s===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:ur([r,u.pathname])),Ji(u)}function T2(s,{relative:l}={}){let r=N.useContext(jg);yt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:t}=Og("useViewTransitionState"),o=so(s,{relative:l});if(!r.isTransitioning)return!1;let u=pr(r.currentLocation.pathname,t)||r.currentLocation.pathname,d=pr(r.nextLocation.pathname,t)||r.nextLocation.pathname;return cu(o.pathname,d)!=null||cu(o.pathname,u)!=null}var ap=xg();const E2=fg(ap),_2="AKfycbxccNCtP7OjhWSJAtlgz2OzUVlZrAliD9w0a38na-9s_k2mMOwlzg-RN3brvyc5-3NX",np="cf_access_token",rp="cf_token_expiry",sp="cf_user_name";function du(){const s=localStorage.getItem(rp);return s&&Date.now()>Number(s)?(tu(),null):localStorage.getItem(np)}function T0(s,l=3500){localStorage.setItem(np,s),localStorage.setItem(rp,String(Date.now()+l*1e3))}function tu(){localStorage.removeItem(np),localStorage.removeItem(rp),localStorage.removeItem(sp)}function E0(){return!!du()}function _0(s){localStorage.setItem(sp,s)}function O2(){return localStorage.getItem(sp)||""}let _f=null;function R2(s){_f=s}async function Ne(s,l={},r=!0){const t=du();if(!t)throw new Error("Not authenticated. Please sign in.");const m=await(await fetch(`https://script.googleapis.com/v1/scripts/${_2}:run`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({function:"apiRouter",devMode:!1,parameters:[{action:s,params:l,userName:O2()}]})})).json();if(m.error){if(r&&(m.error.code===401||m.error.code===403||m.error.status==="UNAUTHENTICATED"||m.error.status==="PERMISSION_DENIED")&&_f)try{return await _f(),Ne(s,l,!1)}catch{}if(m.error.details&&m.error.details.length>0){const x=m.error.details[0];throw new Error(x.errorMessage||"Script execution error")}throw new Error(m.error.message||"API error")}if(m.response&&m.response.result!==void 0){const x=m.response.result;if(x&&!x.success){const v=new Error(x.error||"Unknown error");throw v.code=x.code,v}const p=x?x.data:null;if(p&&p.success===!1)throw new Error(p.message||"Operation failed");return p}throw new Error("Unexpected response format")}const O0=()=>Ne("auth:me"),I2=(s,l)=>Ne("auth:invite",{email:s,name:l}),mu=()=>Ne("data:load-all"),Rg=()=>Ne("members:list"),Ig=s=>Ne("member:create",s),Lg=s=>Ne("member:update",s),Pg=s=>Ne("member:delete",{memberId:s}),zg=()=>Ne("banks:list"),Fg=s=>Ne("bank:create",s),L2=s=>Ne("bank:update",s),Bg=s=>Ne("bank:delete",{accountId:s}),Hg=()=>Ne("invaccounts:list"),Yg=s=>Ne("invacct:create",s),P2=s=>Ne("invacct:update",s),Ug=s=>Ne("invacct:delete",{accountId:s}),z2=()=>Ne("portfolios:list"),F2=s=>Ne("portfolio:create",s),B2=s=>Ne("portfolio:update",s),H2=s=>Ne("portfolio:delete",{portfolioId:s}),Y2=s=>Ne("mf:invest",s),U2=s=>Ne("mf:redeem",s),q2=s=>Ne("mf:switch",s),$2=(s,l)=>Ne("mf:allocations-update",{portfolioId:s,allocations:l}),V2=()=>Ne("funds:all"),qg=()=>Ne("goals:list"),$g=s=>Ne("goal:create",s),G2=(s,l)=>Ne("goal:update",{goalId:s,...l}),Vg=s=>Ne("goal:delete",{goalId:s}),Q2=()=>Ne("goal:mappings-list"),K2=(s,l)=>Ne("goal:mappings-update",{goalId:s,mappings:l}),Gg=()=>Ne("insurance:list"),Qg=s=>Ne("insurance:create",s),X2=s=>Ne("insurance:update",s),Kg=s=>Ne("insurance:delete",{policyId:s}),Xg=()=>Ne("liabilities:list"),Wg=s=>Ne("liability:create",s),W2=s=>Ne("liability:update",s),Zg=s=>Ne("liability:delete",{liabilityId:s}),Jg=()=>Ne("otherinv:list"),ey=s=>Ne("otherinv:create",s),Z2=s=>Ne("otherinv:update",s),ty=s=>Ne("otherinv:delete",{investmentId:s}),ay=()=>Ne("stock-portfolios:list"),ny=s=>Ne("stock-portfolio:create",s),J2=s=>Ne("stock-portfolio:update",s),ry=s=>Ne("stock-portfolio:delete",{portfolioId:s}),eS=s=>Ne("stock:buy",s),tS=s=>Ne("stock:sell",s),aS=s=>Ne("mf-transaction:delete",{transactionId:s}),nS=s=>Ne("mf-transaction:edit",s),rS=()=>Ne("mf-holdings:list"),sS=()=>Ne("mf-transactions:list"),lS=()=>Ne("stock-holdings:list-all"),iS=()=>Ne("stock-transactions:list-all"),sy=()=>Ne("reminders:list"),ly=s=>Ne("reminder:create",s),oS=s=>Ne("reminder:update",s),iy=s=>Ne("reminder:delete",{reminderId:s}),cS=s=>Ne("healthcheck:save",s),oy=()=>Ne("healthcheck:get"),uS=()=>Ne("settings:list"),dS=s=>Ne("settings:update",s),mS=()=>Ne("market:data"),fS=()=>Ne("data:refresh-master");typeof window<"u"&&(window._cf={callAPI:Ne,checkTriggers:()=>Ne("test:triggers"),diagnose:()=>Ne("test:diagnose")});const pS="capital-friends",xS=1,ka="cache";let Fi=null;function Yl(){return Fi||(Fi=new Promise((s,l)=>{const r=indexedDB.open(pS,xS);r.onupgradeneeded=t=>{const o=t.target.result;o.objectStoreNames.contains(ka)||o.createObjectStore(ka,{keyPath:"key"})},r.onsuccess=()=>s(r.result),r.onerror=()=>{console.warn("[idb] Failed to open database:",r.error),Fi=null,l(r.error)}}),Fi)}async function cy(s){try{const l=await Yl();return new Promise(r=>{const o=l.transaction(ka,"readonly").objectStore(ka).get(s);o.onsuccess=()=>r(o.result?o.result.data:null),o.onerror=()=>r(null)})}catch{return null}}async function hS(s){try{const l=await Yl();return new Promise(r=>{const o=l.transaction(ka,"readonly").objectStore(ka).get(s);o.onsuccess=()=>r(o.result||null),o.onerror=()=>r(null)})}catch{return null}}async function ja(s,l){try{const r=await Yl();return new Promise(t=>{const o=r.transaction(ka,"readwrite");o.objectStore(ka).put({key:s,data:l,updatedAt:Date.now()}),o.oncomplete=()=>t(),o.onerror=()=>t()})}catch{}}async function vS(){try{const s=await Yl();return new Promise(l=>{const t=s.transaction(ka,"readonly").objectStore(ka).getAll();t.onsuccess=()=>{const o={};for(const u of t.result||[])o[u.key]=u.data;l(o)},t.onerror=()=>l({})})}catch{return{}}}async function uf(s){try{const l=await Yl();return new Promise(r=>{const t=l.transaction(ka,"readwrite"),o=t.objectStore(ka),u=Date.now();for(const[d,m]of Object.entries(s))o.put({key:d,data:m,updatedAt:u});t.oncomplete=()=>r(),t.onerror=()=>r()})}catch{}}async function bS(){try{const s=await Yl();return new Promise(l=>{const r=s.transaction(ka,"readwrite");r.objectStore(ka).clear(),r.oncomplete=()=>l(),r.onerror=()=>l()})}catch{}}const uy=N.createContext(null),gS="868467315292-7hfrvkh8pq8f1e2l3v38m6qrupboa295.apps.googleusercontent.com",yS=["https://www.googleapis.com/auth/spreadsheets","https://www.googleapis.com/auth/drive","https://www.googleapis.com/auth/gmail.send","https://www.googleapis.com/auth/script.scriptapp","openid","email","profile"].join(" "),lp="cf_user_profile";function R0(){try{const s=localStorage.getItem(lp);return s?JSON.parse(s):null}catch{return null}}function NS(s){try{localStorage.setItem(lp,JSON.stringify(s))}catch{}}function I0(){localStorage.removeItem(lp)}function jS({children:s}){const l=E0()?R0():null,[r,t]=N.useState(l),[o,u]=N.useState(!l),[d,m]=N.useState(null),x=N.useRef(null);function p(w){t(w),w?NS(w):I0()}N.useEffect(()=>{const w=()=>{if(!window.google?.accounts?.oauth2){setTimeout(w,200);return}x.current=window.google.accounts.oauth2.initTokenClient({client_id:gS,scope:yS,callback:v}),R2(S),E0()?y():u(!1)};w()},[]);async function v(w){if(w.error){m(w.error_description||w.error),u(!1);return}try{u(!0),m(null),T0(w.access_token,w.expires_in);const D=await b(w.access_token);_0(D.name||"");const k=await O0();p({email:k.email||D.email,name:k.name||D.name,role:k.role,picture:D.picture||""})}catch(D){m(D.message),tu(),p(null)}finally{u(!1)}}async function b(w){const D=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${w}`}});if(!D.ok)throw new Error("Failed to fetch user profile");return D.json()}async function y(){const w=!!R0();try{const D=du(),k=await b(D);_0(k.name||"");const T=await O0();p({email:T.email||k.email,name:T.name||k.name,role:T.role,picture:k.picture||""})}catch{tu(),p(null)}finally{w||u(!1)}}function S(){return new Promise((w,D)=>{if(!x.current){D(new Error("Token client not initialized"));return}const k=x.current,T=k.callback;k.callback=_=>{k.callback=T,_.error?D(new Error(_.error)):(T0(_.access_token,_.expires_in),w())},k.requestAccessToken({prompt:""})})}const M=N.useCallback(()=>{x.current&&(m(null),x.current.requestAccessToken())},[]),j=N.useCallback(()=>{const w=du();w&&window.google?.accounts?.oauth2&&window.google.accounts.oauth2.revoke(w),tu(),I0(),bS(),sessionStorage.removeItem("cf_health_check"),t(null)},[]),g={user:r,loading:o,error:d,isAuthenticated:!!r,isOwner:r?.role==="owner",signIn:M,signOut:j};return a.jsx(uy.Provider,{value:g,children:s})}function Is(){const s=N.useContext(uy);if(!s)throw new Error("useAuth must be used within AuthProvider");return s}const dy=N.createContext();function wS({children:s}){const[l,r]=N.useState(()=>{const o=localStorage.getItem("cf-theme");return o||(window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark")});N.useEffect(()=>{localStorage.setItem("cf-theme",l),document.documentElement.setAttribute("data-theme",l)},[l]);const t=()=>r(o=>o==="dark"?"light":"dark");return a.jsx(dy.Provider,{value:{theme:l,toggle:t},children:s})}function my(){return N.useContext(dy)}const fy=N.createContext(),py="cf_hc_done";function SS(){try{return sessionStorage.getItem(py)==="1"?!0:null}catch{return null}}function vl(s){try{sessionStorage.setItem(py,s?"1":"0")}catch{}}function CS({children:s}){const{isAuthenticated:l}=Is(),r=l?SS():null,[t,o]=N.useState(!0),[u,d]=N.useState(!1),[m,x]=N.useState(null),[p,v]=N.useState(null),[b,y]=N.useState(null),[S,M]=N.useState(null),[j,g]=N.useState(null),[w,D]=N.useState(null),[k,T]=N.useState(null),[_,B]=N.useState(null),[H,O]=N.useState(null),[L,I]=N.useState(null),[V,A]=N.useState(null),[se,oe]=N.useState(null),[U,z]=N.useState(null),[W,R]=N.useState(null),[ne,ve]=N.useState(null),[P,ee]=N.useState(null),[ue,fe]=N.useState(null),[ye,we]=N.useState(r!==null?r:null),Se=N.useRef(!1),Te=N.useCallback(q=>{q&&("members"in q&&v(q.members||[]),"bankAccounts"in q&&y(q.bankAccounts||[]),"investments"in q&&M(q.investments||[]),"insurancePolicies"in q&&g(q.insurancePolicies||[]),"liabilities"in q&&D(q.liabilities||[]),"otherInvestments"in q&&T(q.otherInvestments||[]),"stockPortfolios"in q&&B(q.stockPortfolios||[]),"stockHoldings"in q&&O(q.stockHoldings||[]),"stockTransactions"in q&&I(q.stockTransactions||[]),"mfPortfolios"in q&&A(q.mfPortfolios||[]),"mfHoldings"in q&&oe((q.mfHoldings||[]).map(pe=>pe.schemeCode?pe:{...pe,schemeCode:pe.fundCode})),"mfTransactions"in q&&z(q.mfTransactions||[]),"goals"in q&&R(q.goals||[]),"reminders"in q&&ve(q.reminders||[]),"goalPortfolioMappings"in q&&ee(q.goalPortfolioMappings||[]),"settings"in q&&fe(q.settings||{}))},[]),Be=N.useCallback(q=>{uf({members:q.members||[],bankAccounts:q.bankAccounts||[],investments:q.investments||[],insurancePolicies:q.insurancePolicies||[],liabilities:q.liabilities||[],otherInvestments:q.otherInvestments||[],stockPortfolios:q.stockPortfolios||[],stockHoldings:q.stockHoldings||[],stockTransactions:q.stockTransactions||[],mfPortfolios:q.mfPortfolios||[],mfHoldings:q.mfHoldings||[],mfTransactions:q.mfTransactions||[],goals:q.goals||[],reminders:q.reminders||[],goalPortfolioMappings:q.goalPortfolioMappings||[]})},[]),Ft=N.useCallback(async(q=!1)=>{try{q?d(!0):o(!0),x(null);const pe=await mu();Te(pe),Be(pe)}catch(pe){x(pe.message)}finally{o(!1),d(!1)}},[Te,Be]),ta=N.useCallback(async()=>{const q=await Rg();v(q||[]),ja("members",q||[])},[]),Ut=N.useCallback(async()=>{const q=await zg();y(q||[]),ja("bankAccounts",q||[])},[]),Ct=N.useCallback(async()=>{const q=await Hg();M(q||[]),ja("investments",q||[])},[]),xe=N.useCallback(async()=>{const q=await Gg();g(q||[]),ja("insurancePolicies",q||[])},[]),He=N.useCallback(async()=>{const q=await Xg();D(q||[]),ja("liabilities",q||[])},[]),mt=N.useCallback(async()=>{const q=await Jg();T(q||[]),ja("otherInvestments",q||[])},[]),ia=N.useCallback(async()=>{const[q,pe]=await Promise.all([qg(),Q2()]);R(q||[]),ee(pe||[]),ja("goals",q||[]),ja("goalPortfolioMappings",pe||[])},[]),Ba=N.useCallback(async()=>{const q=await sy();ve(q||[]),ja("reminders",q||[])},[]),ft=N.useCallback(async()=>{const[q,pe,Rt]=await Promise.all([z2(),rS(),sS()]),Da=(pe||[]).map(an=>an.schemeCode?an:{...an,schemeCode:an.fundCode});A(q||[]),oe(Da),z(Rt||[]),uf({mfPortfolios:q||[],mfHoldings:Da,mfTransactions:Rt||[]})},[]),_t=N.useCallback(async()=>{const[q,pe,Rt]=await Promise.all([ay(),lS(),iS()]);B(q||[]),O(pe||[]),I(Rt||[]),uf({stockPortfolios:q||[],stockHoldings:pe||[],stockTransactions:Rt||[]})},[]),Gt=N.useCallback(async()=>{const q=await uS();fe(q||{}),ja("settings",q||{})},[]),Zr=N.useCallback(async q=>{await dS(q),await Gt()},[Gt]),Bn=N.useCallback(async()=>{try{const q=await cy("healthCheckAnswers");if(q&&Object.keys(q).length>0){we(!0),vl(!0);return}const pe=await oy();pe&&Object.keys(pe).length>0?(we(!0),vl(!0),ja("healthCheckAnswers",pe)):(we(!1),vl(!1))}catch{we(!1),vl(!1)}},[]),Q=N.useCallback(async q=>{const pe=await cS(q);return pe?.success&&(we(!0),vl(!0),ja("healthCheckAnswers",q)),pe},[]);N.useEffect(()=>{if(!l){o(!1);return}if(Se.current)return;Se.current=!0;async function q(){const pe=await vS(),Rt=Object.keys(pe).length>0;Rt&&(Te(pe),pe.healthCheckAnswers&&Object.keys(pe.healthCheckAnswers).length>0&&(we(!0),vl(!0)),o(!1));try{Rt&&d(!0);const Da=await mu();Te(Da),Be(Da)}catch(Da){Rt||x(Da.message)}finally{o(!1),d(!1)}}q(),Gt().catch(()=>{}),r===null&&Bn().catch(()=>{})},[l,Te,Be,Gt,Bn]),N.useEffect(()=>{l||(Se.current=!1)},[l]);const de=N.useCallback(async q=>{const pe=await Ig(q);if(q.email)try{await I2(q.email,q.memberName)}catch(Rt){console.warn("Auto-invite failed (non-blocking):",Rt.message)}return await ta(),pe},[ta]),me=N.useCallback(async(q,pe)=>{await Lg({memberId:q,...pe}),await ta()},[ta]),Ee=N.useCallback(async q=>{await Pg(q),await ta()},[ta]),Pe=N.useCallback(async q=>{const pe=await Fg(q);return await Ut(),pe},[Ut]),le=N.useCallback(async(q,pe)=>{await L2({accountId:q,...pe}),await Ut()},[Ut]),We=N.useCallback(async q=>{await Bg(q),await Ut()},[Ut]),Me=N.useCallback(async q=>{const pe=await Yg(q);return await Ct(),pe},[Ct]),kt=N.useCallback(async(q,pe)=>{await P2({accountId:q,...pe}),await Ct()},[Ct]),oa=N.useCallback(async q=>{await Ug(q),await Ct()},[Ct]),dt=N.useCallback(async q=>{const pe=await Qg(q);return await xe(),pe},[xe]),qt=N.useCallback(async(q,pe)=>{await X2({policyId:q,...pe}),await xe()},[xe]),Le=N.useCallback(async q=>{await Kg(q),await xe()},[xe]),pt=N.useCallback(async q=>{const pe=await Wg(q);return await He(),pe},[He]),tn=N.useCallback(async(q,pe)=>{await W2({liabilityId:q,...pe}),await He()},[He]),fa=N.useCallback(async q=>{await Zg(q),await He()},[He]),pa=N.useCallback(async q=>{const pe=await ey(q);return await mt(),q.quickLoan&&await He(),pe},[mt,He]),xn=N.useCallback(async(q,pe)=>{await Z2({investmentId:q,...pe}),await mt()},[mt]),hn=N.useCallback(async q=>{await ty(q),await mt()},[mt]),he=N.useCallback(async q=>{const pe=await $g(q);return await ia(),pe},[ia]),Ot=N.useCallback(async(q,pe)=>{await G2(q,pe),await ia()},[ia]),Ha=N.useCallback(async q=>{await Vg(q),await ia()},[ia]),Hn=N.useCallback(async q=>{const pe=await ly(q);return await Ba(),pe},[Ba]),Yn=N.useCallback(async(q,pe)=>{await oS({reminderId:q,...pe}),await Ba()},[Ba]),vn=N.useCallback(async q=>{await iy(q),await Ba()},[Ba]),bn=N.useCallback(async(q,pe)=>{await K2(q,pe),await ia()},[ia]),Jr=N.useCallback(async q=>{const pe=await ny(q);return await _t(),pe},[_t]),es=N.useCallback(async(q,pe)=>{await J2({portfolioId:q,...pe}),await _t()},[_t]),fo=N.useCallback(async q=>{await ry(q),await _t()},[_t]),po=N.useCallback(async q=>{const pe=await eS(q);return await _t(),pe},[_t]),Vl=N.useCallback(async q=>{const pe=await tS(q);return await _t(),pe},[_t]),Gl=N.useCallback(async q=>{const pe=await F2(q);return await ft(),pe},[ft]),xo=N.useCallback(async(q,pe)=>{await B2({portfolioId:q,...pe}),await ft()},[ft]),ho=N.useCallback(async q=>{await H2(q),await ft()},[ft]),gn=N.useCallback(async(q,pe)=>{const Rt=await Y2({...q,transactionType:pe});return await ft(),Rt},[ft]),Bt=N.useCallback(async q=>{const pe=await U2(q);return await ft(),pe},[ft]),aa=N.useCallback(async q=>{const pe=await q2(q);return await ft(),pe},[ft]),yr=N.useCallback(async(q,pe)=>{await $2(q,pe),await ft()},[ft]),Ql=N.useCallback(async q=>{await aS(q),await ft()},[ft]),$u=N.useCallback(async q=>{await nS(q),await ft()},[ft]),Vu=(p||[]).filter(q=>q.status==="Active"),vo=(b||[]).filter(q=>q.status==="Active"),ts=(S||[]).filter(q=>q.status==="Active");return a.jsx(fy.Provider,{value:{loading:t,isRefreshing:u,error:m,refreshData:Ft,members:p,banks:b,investmentAccounts:S,insurancePolicies:j,liabilityList:w,otherInvList:k,activeMembers:Vu,activeBanks:vo,activeInvestmentAccounts:ts,addMember:de,updateMember:me,deleteMember:Ee,addBankAccount:Pe,updateBankAccount:le,deleteBankAccount:We,addInvestmentAccount:Me,updateInvestmentAccount:kt,deleteInvestmentAccount:oa,addInsurance:dt,updateInsurance:qt,deleteInsurance:Le,addLiability:pt,updateLiability:tn,deleteLiability:fa,addOtherInvestment:pa,updateOtherInvestment:xn,deleteOtherInvestment:hn,goalList:W,addGoal:he,updateGoal:Ot,deleteGoal:Ha,reminderList:ne,addReminder:Hn,updateReminder:Yn,deleteReminder:vn,goalPortfolioMappings:P,updateGoalMappings:bn,stockPortfolios:_,stockHoldings:H,stockTransactions:L,addStockPortfolio:Jr,updateStockPortfolio:es,deleteStockPortfolio:fo,buyStock:po,sellStock:Vl,mfPortfolios:V,mfHoldings:se,mfTransactions:U,addMFPortfolio:Gl,updateMFPortfolio:xo,deleteMFPortfolio:ho,investMF:gn,redeemMF:Bt,switchMF:aa,updateHoldingAllocations:yr,deleteMFTransaction:Ql,editMFTransaction:$u,settings:ue,updateSettings:Zr,refreshSettings:Gt,healthCheckCompleted:ye,completeHealthCheck:Q},children:s})}function Ve(){return N.useContext(fy)}const xy=N.createContext();function kS({children:s}){const{activeMembers:l}=Ve(),[r,t]=N.useState("all"),o=l.find(u=>u.memberId===r)||null;return a.jsx(xy.Provider,{value:{selectedMember:r,setSelectedMember:t,member:o,familyMembers:l},children:s})}function Jt(){return N.useContext(xy)}const hy=(...s)=>s.filter((l,r,t)=>!!l&&l.trim()!==""&&t.indexOf(l)===r).join(" ").trim();const DS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const MS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(l,r,t)=>t?t.toUpperCase():r.toLowerCase());const L0=s=>{const l=MS(s);return l.charAt(0).toUpperCase()+l.slice(1)};var AS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const TS=s=>{for(const l in s)if(l.startsWith("aria-")||l==="role"||l==="title")return!0;return!1};const ES=N.forwardRef(({color:s="currentColor",size:l=24,strokeWidth:r=2,absoluteStrokeWidth:t,className:o="",children:u,iconNode:d,...m},x)=>N.createElement("svg",{ref:x,...AS,width:l,height:l,stroke:s,strokeWidth:t?Number(r)*24/Number(l):r,className:hy("lucide",o),...!u&&!TS(m)&&{"aria-hidden":"true"},...m},[...d.map(([p,v])=>N.createElement(p,v)),...Array.isArray(u)?u:[u]]));const je=(s,l)=>{const r=N.forwardRef(({className:t,...o},u)=>N.createElement(ES,{ref:u,iconNode:l,className:hy(`lucide-${DS(L0(s))}`,`lucide-${s}`,t),...o}));return r.displayName=L0(s),r};const _S=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],OS=je("arrow-down",_S);const RS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],IS=je("arrow-right",RS);const LS=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],PS=je("arrow-up-down",LS);const zS=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],FS=je("bell-off",zS);const BS=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ou=je("bell",BS);const HS=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],vy=je("briefcase",HS);const YS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],US=je("calendar",YS);const qS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Xi=je("chart-column",qS);const $S=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],P0=je("check",$S);const VS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],dr=je("chevron-down",VS);const GS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],by=je("chevron-left",GS);const QS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Wi=je("chevron-right",QS);const KS=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],XS=je("chevron-up",KS);const WS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],gy=je("circle-arrow-down",WS);const ZS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],JS=je("circle-check-big",ZS);const e5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ul=je("circle-check",e5);const t5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],yy=je("circle-x",t5);const a5=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Ny=je("clipboard-check",a5);const n5=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],r5=je("coffee",n5);const s5=[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]],l5=je("construction",s5);const i5=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],eo=je("credit-card",i5);const o5=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],c5=je("database",o5);const u5=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],d5=je("dollar-sign",u5);const m5=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],f5=je("ellipsis-vertical",m5);const p5=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],x5=je("ellipsis",p5);const h5=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ip=je("eye",h5);const v5=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],au=je("eye-off",v5);const b5=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],g5=je("file-spreadsheet",b5);const y5=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],jy=je("file-text",y5);const N5=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],wy=je("funnel",N5);const j5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],w5=je("globe",j5);const S5=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],fu=je("heart",S5);const C5=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],k5=je("indian-rupee",C5);const D5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],M5=je("info",D5);const A5=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],Sy=je("landmark",A5);const T5=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Cy=je("layers",T5);const E5=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],pu=je("link-2",E5);const _5=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],xu=je("list",_5);const O5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ky=je("loader-circle",O5);const R5=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],df=je("lock",R5);const I5=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],L5=je("log-in",I5);const P5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Dy=je("log-out",P5);const z5=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],F5=je("mail",z5);const B5=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],H5=je("menu",B5);const Y5=[["path",{d:"M5 12h14",key:"1ays0h"}]],mf=je("minus",Y5);const U5=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],My=je("moon",U5);const q5=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ay=je("package",q5);const $5=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],pn=je("pencil",$5);const V5=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],G5=je("piggy-bank",V5);const Q5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Zt=je("plus",Q5);const K5=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ml=je("refresh-cw",K5);const X5=[["path",{d:"m2 9 3-3 3 3",key:"1ltn5i"}],["path",{d:"M13 18H7a2 2 0 0 1-2-2V6",key:"1r6tfw"}],["path",{d:"m22 15-3 3-3-3",key:"4rnwn2"}],["path",{d:"M11 6h6a2 2 0 0 1 2 2v10",key:"2f72bc"}]],W5=je("repeat-2",X5);const Z5=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],J5=je("repeat",Z5);const eC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],tC=je("save",eC);const aC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ty=je("search",aC);const nC=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],rC=je("settings-2",nC);const sC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],op=je("settings",sC);const lC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Zi=je("shield",lC);const iC=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Of=je("sun",iC);const oC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],lo=je("target",oC);const cC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ru=je("trash-2",cC);const uC=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Iu=je("trending-down",uC);const dC=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Al=je("trending-up",dC);const mC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Es=je("triangle-alert",mC);const fC=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],z0=je("trophy",fC);const pC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],xC=je("user",pC);const hC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Tl=je("users",hC);const vC=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Cl=je("wallet",vC);const bC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],io=je("x",bC);const gC=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Rf=je("zap",gC),Ey=N.createContext();function yC({children:s}){const[l,r]=N.useState([]),[t,o]=N.useState(null),u=N.useRef(0),d=N.useCallback((v,b="success")=>{const y=++u.current;r(S=>[...S,{id:y,message:v,type:b}]),setTimeout(()=>r(S=>S.filter(M=>M.id!==y)),3e3)},[]),m=N.useCallback(v=>{r(b=>b.filter(y=>y.id!==v))},[]),x=N.useCallback((v="Saving...")=>{o(v)},[]),p=N.useCallback(()=>{o(null)},[]);return a.jsxs(Ey.Provider,{value:{showToast:d,showBlockUI:x,hideBlockUI:p},children:[s,t&&a.jsx("div",{className:"fixed inset-0 z-[200] bg-black/50 backdrop-blur-sm flex items-center justify-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-3 bg-[var(--bg-card)] rounded-xl px-8 py-6 border border-[var(--border)] shadow-2xl",children:[a.jsx("span",{className:"w-7 h-7 border-[2.5px] border-violet-400/30 border-t-violet-400 rounded-full animate-spin"}),a.jsx("span",{className:"text-sm font-semibold text-[var(--text-primary)]",children:t})]})}),l.length>0&&a.jsx("div",{className:"fixed bottom-20 sm:bottom-6 left-1/2 -translate-x-1/2 z-[100] flex flex-col gap-2 items-center pointer-events-none",children:l.map(v=>a.jsxs("div",{className:`pointer-events-auto flex items-center gap-2 px-4 py-2.5 rounded-lg shadow-xl border text-sm font-medium animate-fade-in ${v.type==="error"?"bg-rose-500/15 border-rose-500/30 text-[var(--accent-rose)]":"bg-emerald-500/15 border-emerald-500/30 text-emerald-400"}`,style:{backdropFilter:"blur(12px)"},children:[v.type==="error"?a.jsx(yy,{size:16}):a.jsx(Ul,{size:16}),a.jsx("span",{children:v.message}),a.jsx("button",{onClick:()=>m(v.id),className:"ml-1 opacity-60 hover:opacity-100 transition-opacity",children:a.jsx(io,{size:14})})]},v.id))})]})}function Ln(){return N.useContext(Ey)}const _y=N.createContext();function NC({children:s}){const[l,r]=N.useState(null),t=N.useRef(null),o=N.useCallback((m,{title:x="Confirm",confirmLabel:p="Yes, proceed",cancelLabel:v="Cancel",destructive:b=!0}={})=>new Promise(y=>{t.current=y,r({message:m,title:x,confirmLabel:p,cancelLabel:v,destructive:b})}),[]);function u(){t.current?.(!0),t.current=null,r(null)}function d(){t.current?.(!1),t.current=null,r(null)}return a.jsxs(_y.Provider,{value:{confirm:o},children:[s,l&&a.jsxs("div",{className:"fixed inset-0 z-[300] flex items-center justify-center px-4",onClick:d,children:[a.jsx("div",{className:"fixed inset-0 bg-black/60"}),a.jsxs("div",{className:"relative bg-[var(--bg-card)] border border-[var(--border)] rounded-xl shadow-2xl w-full max-w-sm p-5 animate-fade-in",onClick:m=>m.stopPropagation(),children:[a.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[a.jsx("span",{className:`shrink-0 w-9 h-9 rounded-full flex items-center justify-center ${l.destructive?"bg-rose-500/15":"bg-violet-500/15"}`,children:a.jsx(Es,{size:18,className:l.destructive?"text-[var(--accent-rose)]":"text-violet-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-bold text-[var(--text-primary)]",children:l.title}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-1 leading-relaxed",children:l.message})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{onClick:d,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:l.cancelLabel}),a.jsx("button",{onClick:u,autoFocus:!0,className:`px-4 py-2 text-xs font-bold text-white rounded-lg transition-colors ${l.destructive?"bg-rose-600 hover:bg-rose-500":"bg-violet-600 hover:bg-violet-500"}`,children:l.confirmLabel})]})]})]})]})}function Pn(){return N.useContext(_y).confirm}const Oy=N.createContext(),F0="cf-mask-data";function jC(s){return!s||s.length<4?"":""+s.slice(-4)}function wC(s){return!s||s.length<4?"  ":"  "+s.slice(-4)}function SC(s){return!s||s.length<3?"":""+s.slice(-3)}function CC(s){if(!s)return"@";const[l,r]=s.split("@");if(!r)return"@";const t=l.charAt(0)+"",o=r.split("."),u=o[0].charAt(0)+""+(o.length>1?"."+o.slice(1).join("."):"");return t+"@"+u}function kC(s){return!s||s.length<4?"":""+s.slice(-4)}function DC(s){return!s||s.length<3?"":""+s.slice(-3)}function MC(s){return!s||s.length<4?"":""+s.slice(-4)}function AC(s){return!s||s.length<2?"":s.split(/\s+/).map(l=>l.charAt(0)+"").join(" ")}const TC={pan:jC,aadhaar:wC,mobile:SC,email:CC,account:kC,clientId:DC,policy:MC,name:AC};function EC({children:s}){const[l,r]=N.useState(()=>{try{return localStorage.getItem(F0)==="true"}catch{return!1}});N.useEffect(()=>{try{localStorage.setItem(F0,String(l))}catch{}},[l]);const t=N.useCallback(()=>r(u=>!u),[]),o=N.useCallback((u,d)=>{if(!l||u==null||u==="")return u;const m=TC[d];return m?m(String(u)):u},[l]);return a.jsx(Oy.Provider,{value:{masked:l,toggleMask:t,mv:o},children:s})}function zn(){return N.useContext(Oy)}const B0=[{label:"Family",icon:Tl,path:"/family"},{label:"Accounts",icon:eo,children:[{label:"Bank Accounts",icon:Sy,path:"/accounts/bank"},{label:"Investment A/c",icon:vy,path:"/accounts/investment"}]},{label:"Insurance",icon:Zi,path:"/insurance"},{label:"Investments",icon:Cl,children:[{label:"Mutual Funds",icon:Cl,path:"/investments/mutual-funds"},{label:"Stocks",icon:Xi,path:"/investments/stocks"},{label:"Other Investments",icon:Ay,path:"/investments/other"}]},{label:"Liabilities",icon:eo,path:"/liabilities"},{label:"Goals",icon:lo,path:"/goals"},{label:"Settings",icon:op,path:"/settings"}];function _C({open:s,onClose:l}){const r=en(),t=B0.filter(m=>m.children?.some(x=>r.pathname.startsWith(x.path))).map(m=>m.label),[o,u]=N.useState(new Set(t));function d(m){u(x=>{const p=new Set(x);return p.has(m)?p.delete(m):p.add(m),p})}return a.jsxs(a.Fragment,{children:[s&&a.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 lg:hidden",onClick:l}),a.jsxs("aside",{className:`
        fixed top-0 left-0 z-50 h-full w-56
        bg-[var(--bg-sidebar)] border-r border-[var(--border)]
        flex flex-col transition-transform duration-300
        lg:hidden
        ${s?"translate-x-0":"-translate-x-full"}
      `,children:[a.jsxs("div",{className:"flex items-center justify-between px-3 h-12 border-b border-[var(--border)] shrink-0",children:[a.jsx("p",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Menu"}),a.jsx("button",{onClick:l,className:"p-1.5 rounded-md text-[var(--text-dim)] hover:text-[var(--text-primary)]",children:a.jsx(io,{size:16})})]}),a.jsx("nav",{className:"flex-1 py-2 overflow-y-auto overflow-x-hidden",children:B0.map(m=>m.children?a.jsx(OC,{item:m,isOpen:o.has(m.label),onToggle:()=>d(m.label),onNavigate:l,currentPath:r.pathname},m.label):a.jsx(Ry,{item:m,onNavigate:l},m.path))})]})]})}function Ry({item:s,onNavigate:l,nested:r}){const{label:t,icon:o,path:u}=s;return a.jsx(tp,{to:u,onClick:l,end:u==="/",className:({isActive:d})=>`group flex items-center gap-2.5 ${r?"pl-11 pr-4 py-[7px]":"px-4 py-2.5"} text-[13px] font-medium transition-all border-r-2 ${d?"bg-[var(--sidebar-active-bg)] text-[var(--sidebar-active-text)] border-[var(--sidebar-active-text)]":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] border-transparent"}`,children:({isActive:d})=>a.jsxs(a.Fragment,{children:[a.jsx(o,{size:r?14:17,strokeWidth:d?2.2:1.7}),a.jsx("span",{children:t})]})})}function OC({item:s,isOpen:l,onToggle:r,onNavigate:t,currentPath:o}){const{label:u,icon:d,children:m}=s,x=m.some(p=>o.startsWith(p.path));return a.jsxs("div",{children:[a.jsxs("button",{onClick:r,className:`w-full group flex items-center gap-2.5 px-4 py-2.5 text-[13px] font-medium transition-all border-r-2 border-transparent ${x?"text-[var(--sidebar-active-text)]":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,children:[a.jsx(d,{size:17,strokeWidth:x?2.2:1.7}),a.jsx("span",{className:"flex-1 text-left",children:u}),a.jsx(dr,{size:13,className:`text-[var(--text-dim)] transition-transform duration-200 ${l?"rotate-180":""}`})]}),l&&a.jsx("div",{className:"py-0.5",children:m.map(p=>a.jsx(Ry,{item:p,onNavigate:t,nested:!0},p.path))})]})}function G(s){return s>=1e7?`${(s/1e7).toFixed(2)} Cr`:s>=1e5?`${(s/1e5).toFixed(2)} L`:s>=1e3?`${(s/1e3).toFixed(0)}K`:`${s.toLocaleString("en-IN")}`}const Iy="cf_market_data",RC=300*1e3,H0=300*1e3;function IC(){try{const s=sessionStorage.getItem(Iy);if(!s)return null;const l=JSON.parse(s);return Date.now()-l._ts>RC?null:l}catch{return null}}function LC(s){try{sessionStorage.setItem(Iy,JSON.stringify({...s,_ts:Date.now()}))}catch{}}function PC(){const[s,l]=N.useState(()=>IC()),[r,t]=N.useState([]),o=N.useRef(null),[u,d]=N.useState(!1),[m,x]=N.useState(!1);N.useEffect(()=>{let b=!1;async function y(){try{const M=await mS();if(!b&&M){const j={...M,_ts:Date.now()};l(j),LC(j)}}catch{}}y();const S=setInterval(y,H0);return()=>{b=!0,clearInterval(S)}},[]),N.useEffect(()=>{let b=!1;async function y(){try{const M=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum&vs_currencies=inr&include_24hr_change=true");if(!b&&M.ok){const j=await M.json(),g=[];j.bitcoin&&g.push({name:"BTC",price:j.bitcoin.inr,changePct:j.bitcoin.inr_24h_change||0,type:"crypto"}),j.ethereum&&g.push({name:"ETH",price:j.ethereum.inr,changePct:j.ethereum.inr_24h_change||0,type:"crypto"}),t(g)}}catch{}}y();const S=setInterval(y,H0);return()=>{b=!0,clearInterval(S)}},[]);const p=[];if(s?.indices&&p.push(...s.indices),s?.metals&&p.push(...s.metals),r.length>0&&p.push(...r),N.useEffect(()=>{if(!o.current)return;const b=o.current,y=b.parentElement;d(b.scrollWidth>y.clientWidth)},[p.length]),p.length===0)return null;const v=p.length*3;return a.jsxs("div",{className:"bg-[var(--bg-card)]/80 backdrop-blur-sm border-b border-[var(--border-light)] overflow-hidden",onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),onTouchStart:()=>x(!0),onTouchEnd:()=>x(!1),children:[a.jsx("div",{className:"overflow-hidden",children:a.jsxs("div",{ref:o,className:"flex items-stretch w-max",style:u?{animation:`ticker-scroll ${v}s linear infinite`,animationPlayState:m?"paused":"running"}:{margin:"0 auto"},children:[p.map((b,y)=>a.jsx(Y0,{item:b},b.name+y)),u&&p.map((b,y)=>a.jsx(Y0,{item:b},"dup-"+b.name+y))]})}),a.jsx("style",{children:`
        @keyframes ticker-scroll {
          0% { transform: translateX(0); }
          100% { transform: translateX(-50%); }
        }
      `})]})}function Y0({item:s}){const l=s.changePct>=0,r=l?a.jsx(Al,{size:10}):a.jsx(Iu,{size:10}),t=l?"text-emerald-400":"text-[var(--accent-rose)]",o=u=>u>=1e5?`${(u/1e5).toFixed(2)}L`:u>=1e3?`${u.toLocaleString("en-IN",{maximumFractionDigits:0})}`:`${u.toLocaleString("en-IN",{maximumFractionDigits:2})}`;return a.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 border-r border-[var(--border-light)] last:border-0 shrink-0",children:[a.jsx("span",{className:"text-[10px] font-semibold text-[var(--text-dim)] uppercase whitespace-nowrap",children:s.name}),a.jsx("span",{className:"text-[11px] font-bold text-[var(--text-primary)] tabular-nums whitespace-nowrap",children:s.unit?`${o(s.price)}`:o(s.price)}),s.changePct!==void 0&&s.changePct!==null&&a.jsxs("span",{className:`flex items-center gap-0.5 text-[10px] font-bold tabular-nums ${t}`,children:[r,l?"+":"",s.changePct.toFixed(2),"%"]})]})}function zC(){const{selectedMember:s}=Jt(),{mfPortfolios:l,mfHoldings:r,insurancePolicies:t,goalList:o,reminderList:u}=Ve(),d=(y,S)=>{const M=y||[];return s==="all"?M:M.filter(j=>j[S]===s)},m=N.useMemo(()=>{let y=0,S=0,M=0;return d((l||[]).filter(w=>w.status!=="Inactive"),"ownerId").forEach(w=>{const D=(r||[]).filter(_=>_.portfolioId===w.portfolioId&&_.units>0),k=D.reduce((_,B)=>_+B.currentValue,0),T=(w.rebalanceThreshold||.05)*100;D.forEach(_=>{if(_.athNav>0&&_.belowATHPct>=10?S++:_.athNav>0&&_.belowATHPct>=5&&y++,_.targetAllocationPct>0&&k>0){const B=_.currentValue/k*100;Math.abs(B-_.targetAllocationPct)>T&&M++}})}),{buyOppCount:y+S,buyCount:y,strongBuyCount:S,rebalanceCount:M}},[s,l,r]),x=N.useMemo(()=>{const y=[],S=d((t||[]).filter(k=>k.status==="Active"),"memberId");S.some(k=>k.policyType==="Term Life")||y.push({type:"critical",title:"Missing Term Life Insurance",badge:"Add Policy",navigateTo:"/insurance"});const j=S.filter(k=>k.policyType==="Health").reduce((k,T)=>k+T.sumAssured,0);return j===0?y.push({type:"critical",title:"No Health Insurance",badge:"Add Policy",navigateTo:"/insurance"}):j<5e5&&y.push({type:"warning",title:"Inadequate Health Insurance",badge:G(j),navigateTo:"/insurance"}),d((o||[]).filter(k=>k.isActive!==!1&&k.goalType==="Emergency Fund"),"familyMemberId").forEach(k=>{const T=k.targetAmount>0?k.currentValue/k.targetAmount*100:0;T<100&&y.push({type:T>=75?"info":"warning",title:`Emergency Fund at ${T.toFixed(0)}%`,badge:G(k.targetAmount-k.currentValue)+" left",navigateTo:"/goals"})}),d((u||[]).filter(k=>k.isActive!==!1),"familyMemberId").filter(k=>new Date(k.dueDate)<new Date).forEach(k=>{const T=Math.ceil((new Date-new Date(k.dueDate))/864e5);y.push({type:"critical",title:k.title,badge:`${T}d overdue`,navigateTo:"/reminders"})}),d((o||[]).filter(k=>k.isActive!==!1&&k.status==="Needs Attention"),"familyMemberId").forEach(k=>{y.push({type:"warning",title:`${k.goalName} needs attention`,badge:k.priority,navigateTo:"/goals"})}),y},[s,t,o,u]),p=N.useMemo(()=>{const y=d((u||[]).filter(M=>M.isActive!==!1&&M.status!=="Completed"),"familyMemberId"),S=new Date;return y.map(M=>{const j=new Date(M.dueDate)-S,g=Math.ceil(j/(1440*60*1e3)),w=new Date(M.dueDate).toLocaleDateString("en-IN",{day:"2-digit",month:"short"});return{...M,days:g,dateStr:w}}).filter(M=>M.days>=0&&M.days<=30).sort((M,j)=>M.days-j.days).slice(0,5)},[s,u]),v=x.length+m.buyOppCount+m.rebalanceCount+p.length,b=x.filter(y=>y.type==="critical").length;return{criticalAlerts:x,investmentSignals:m,upcomingReminders:p,totalCount:v,criticalCount:b}}function U0(s){return s>=20?"bg-rose-500/20 text-[var(--accent-rose)]":s>=10?"bg-orange-500/20 text-[var(--accent-orange)]":s>=5?"bg-amber-500/20 text-[var(--accent-amber)]":"bg-slate-500/20 text-[var(--text-muted)]"}function q0(s){return s>=10?{label:"Strong Buy",cls:"bg-emerald-500/20 text-emerald-400 ring-1 ring-emerald-500/30"}:s>=5?{label:"Buy",cls:"bg-blue-500/20 text-blue-400"}:null}function Ly(){const{mfHoldings:s,mfPortfolios:l}=Ve(),r=N.useMemo(()=>l.filter(o=>o.status!=="Inactive").map(o=>{const u=s.filter(x=>x.portfolioId===o.portfolioId&&x.units>0),d=u.reduce((x,p)=>x+p.currentValue,0),m=u.filter(x=>x.athNav>0&&x.belowATHPct>=1).sort((x,p)=>p.belowATHPct-x.belowATHPct).map(x=>({...x,currentPct:d>0?x.currentValue/d*100:0}));return{...o,totalValue:d,opportunities:m}}).filter(o=>o.opportunities.length>0),[l,s]);return r.reduce((o,u)=>o+u.opportunities.length,0)===0?a.jsxs("div",{className:"py-8 text-center",children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No buy opportunities right now"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"All funds are near their all-time highs"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] px-1",children:"Funds below their All-Time High NAV. Higher discount = better opportunity."}),r.map((o,u)=>a.jsxs("div",{className:"border border-[var(--border-light)] border-l-2 border-l-emerald-500/50 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2.5 bg-[var(--bg-inset)]",children:[a.jsx("span",{className:"text-xs font-bold text-emerald-400 bg-emerald-500/15 w-5 h-5 rounded flex items-center justify-center",children:u+1}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:o.portfolioName}),a.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:o.ownerName}),a.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-emerald-500/15 text-emerald-400",children:[o.opportunities.length," funds"]})]}),a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),a.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Signal"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Below ATH"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"ATH NAV"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Current"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Value"})]})}),a.jsx("tbody",{children:o.opportunities.map(d=>{const m=q0(d.belowATHPct);return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[a.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[200px] truncate",children:d.fundName}),a.jsx("td",{className:"py-2 px-2 text-center",children:m?a.jsx("span",{className:`inline-block text-[10px] font-bold px-2 py-0.5 rounded-full whitespace-nowrap ${m.cls}`,children:m.label}):a.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:"Watch"})}),a.jsx("td",{className:"py-2 px-2 text-right",children:a.jsxs("span",{className:`inline-block text-xs font-semibold px-1.5 py-0.5 rounded-full ${U0(d.belowATHPct)}`,children:["",d.belowATHPct.toFixed(1),"%"]})}),a.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:["",d.athNav.toFixed(2)]}),a.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:["",d.currentNav.toFixed(2)]}),a.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:G(d.currentValue)})]},d.holdingId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:o.opportunities.map(d=>{const m=q0(d.belowATHPct);return a.jsxs("div",{className:"px-3 py-2.5",children:[a.jsxs("div",{className:"flex items-start justify-between mb-1",children:[a.jsx("p",{className:"text-xs text-[var(--text-primary)] leading-tight flex-1 mr-2",children:d.fundName}),a.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[m&&a.jsx("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded-full ${m.cls}`,children:m.label}),a.jsxs("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${U0(d.belowATHPct)}`,children:["",d.belowATHPct.toFixed(1),"%"]})]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)]",children:[a.jsxs("span",{children:["ATH ",d.athNav.toFixed(2),"  ",d.currentNav.toFixed(2)]}),a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:G(d.currentValue)})]})]},d.holdingId)})})]},o.portfolioId))]})}function Py(s){var l,r,t="";if(typeof s=="string"||typeof s=="number")t+=s;else if(typeof s=="object")if(Array.isArray(s)){var o=s.length;for(l=0;l<o;l++)s[l]&&(r=Py(s[l]))&&(t&&(t+=" "),t+=r)}else for(r in s)s[r]&&(t&&(t+=" "),t+=r);return t}function Yt(){for(var s,l,r=0,t="",o=arguments.length;r<o;r++)(s=arguments[r])&&(l=Py(s))&&(t&&(t+=" "),t+=l);return t}const zy=6048e5,FC=864e5,Lu=6e4,Pu=36e5,BC=1e3,$0=Symbol.for("constructDateFrom");function lt(s,l){return typeof s=="function"?s(l):s&&typeof s=="object"&&$0 in s?s[$0](l):s instanceof Date?new s.constructor(l):new Date(l)}function De(s,l){return lt(l||s,s)}function cn(s,l,r){const t=De(s,r?.in);return isNaN(l)?lt(r?.in||s,NaN):(l&&t.setDate(t.getDate()+l),t)}function mn(s,l,r){const t=De(s,r?.in);if(isNaN(l))return lt(s,NaN);if(!l)return t;const o=t.getDate(),u=lt(s,t.getTime());u.setMonth(t.getMonth()+l+1,0);const d=u.getDate();return o>=d?u:(t.setFullYear(u.getFullYear(),u.getMonth(),o),t)}function Fy(s,l,r){return lt(s,+De(s)+l)}function HC(s,l,r){return Fy(s,l*Pu)}let YC={};function Ls(){return YC}function xr(s,l){const r=Ls(),t=l?.weekStartsOn??l?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=De(s,l?.in),u=o.getDay(),d=(u<t?7:0)+u-t;return o.setDate(o.getDate()-d),o.setHours(0,0,0,0),o}function El(s,l){return xr(s,{...l,weekStartsOn:1})}function By(s,l){const r=De(s,l?.in),t=r.getFullYear(),o=lt(r,0);o.setFullYear(t+1,0,4),o.setHours(0,0,0,0);const u=El(o),d=lt(r,0);d.setFullYear(t,0,4),d.setHours(0,0,0,0);const m=El(d);return r.getTime()>=u.getTime()?t+1:r.getTime()>=m.getTime()?t:t-1}function hu(s){const l=De(s),r=new Date(Date.UTC(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds()));return r.setUTCFullYear(l.getFullYear()),+s-+r}function vr(s,...l){const r=lt.bind(null,l.find(t=>typeof t=="object"));return l.map(r)}function _s(s,l){const r=De(s,l?.in);return r.setHours(0,0,0,0),r}function _l(s,l,r){const[t,o]=vr(r?.in,s,l),u=_s(t),d=_s(o),m=+u-hu(u),x=+d-hu(d);return Math.round((m-x)/FC)}function UC(s,l){const r=By(s,l),t=lt(s,0);return t.setFullYear(r,0,4),t.setHours(0,0,0,0),El(t)}function to(s,l,r){const t=De(s,r?.in);return t.setTime(t.getTime()+l*Lu),t}function cp(s,l,r){return mn(s,l*3,r)}function qC(s,l,r){return Fy(s,l*1e3)}function vu(s,l,r){return cn(s,l*7,r)}function un(s,l,r){return mn(s,l*12,r)}function V0(s,l){let r,t=l?.in;return s.forEach(o=>{!t&&typeof o=="object"&&(t=lt.bind(null,o));const u=De(o,t);(!r||r<u||isNaN(+u))&&(r=u)}),lt(t,r||NaN)}function G0(s,l){let r,t=l?.in;return s.forEach(o=>{!t&&typeof o=="object"&&(t=lt.bind(null,o));const u=De(o,t);(!r||r>u||isNaN(+u))&&(r=u)}),lt(t,r||NaN)}function $C(s,l,r){const[t,o]=vr(r?.in,s,l);return+_s(t)==+_s(o)}function _n(s){return s instanceof Date||typeof s=="object"&&Object.prototype.toString.call(s)==="[object Date]"}function Ol(s){return!(!_n(s)&&typeof s!="number"||isNaN(+De(s)))}function bu(s,l,r){const[t,o]=vr(r?.in,s,l),u=t.getFullYear()-o.getFullYear(),d=t.getMonth()-o.getMonth();return u*12+d}function Vr(s,l){const r=De(s,l?.in);return Math.trunc(r.getMonth()/3)+1}function gu(s,l,r){const[t,o]=vr(r?.in,s,l),u=t.getFullYear()-o.getFullYear(),d=Vr(t)-Vr(o);return u*4+d}function yu(s,l,r){const[t,o]=vr(r?.in,s,l);return t.getFullYear()-o.getFullYear()}function VC(s,l,r){const[t,o]=vr(r?.in,s,l),u=Q0(t,o),d=Math.abs(_l(t,o));t.setDate(t.getDate()-u*d);const m=+(Q0(t,o)===-u),x=u*(d-m);return x===0?0:x}function Q0(s,l){const r=s.getFullYear()-l.getFullYear()||s.getMonth()-l.getMonth()||s.getDate()-l.getDate()||s.getHours()-l.getHours()||s.getMinutes()-l.getMinutes()||s.getSeconds()-l.getSeconds()||s.getMilliseconds()-l.getMilliseconds();return r<0?-1:r>0?1:r}function Hy(s,l){const r=De(s,l?.in);return r.setHours(23,59,59,999),r}function Yy(s,l){const r=De(s,l?.in),t=r.getMonth();return r.setFullYear(r.getFullYear(),t+1,0),r.setHours(23,59,59,999),r}function If(s,l){const r=De(s,l?.in),t=r.getMonth(),o=t-t%3;return r.setMonth(o,1),r.setHours(0,0,0,0),r}function Uy(s,l){const r=De(s,l?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function qy(s,l){const r=De(s,l?.in),t=r.getFullYear();return r.setFullYear(t+1,0,0),r.setHours(23,59,59,999),r}function zu(s,l){const r=De(s,l?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function GC(s,l){const r=Ls(),t=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=De(s,l?.in),u=o.getDay(),d=(u<t?-7:0)+6-(u-t);return o.setDate(o.getDate()+d),o.setHours(23,59,59,999),o}const QC={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},KC=(s,l,r)=>{let t;const o=QC[s];return typeof o=="string"?t=o:l===1?t=o.one:t=o.other.replace("{{count}}",l.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+t:t+" ago":t};function ff(s){return(l={})=>{const r=l.width?String(l.width):s.defaultWidth;return s.formats[r]||s.formats[s.defaultWidth]}}const XC={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},WC={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ZC={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},JC={date:ff({formats:XC,defaultWidth:"full"}),time:ff({formats:WC,defaultWidth:"full"}),dateTime:ff({formats:ZC,defaultWidth:"full"})},ek={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},tk=(s,l,r,t)=>ek[s];function Bi(s){return(l,r)=>{const t=r?.context?String(r.context):"standalone";let o;if(t==="formatting"&&s.formattingValues){const d=s.defaultFormattingWidth||s.defaultWidth,m=r?.width?String(r.width):d;o=s.formattingValues[m]||s.formattingValues[d]}else{const d=s.defaultWidth,m=r?.width?String(r.width):s.defaultWidth;o=s.values[m]||s.values[d]}const u=s.argumentCallback?s.argumentCallback(l):l;return o[u]}}const ak={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},nk={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},rk={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},sk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},lk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ik={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ok=(s,l)=>{const r=Number(s),t=r%100;if(t>20||t<10)switch(t%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},ck={ordinalNumber:ok,era:Bi({values:ak,defaultWidth:"wide"}),quarter:Bi({values:nk,defaultWidth:"wide",argumentCallback:s=>s-1}),month:Bi({values:rk,defaultWidth:"wide"}),day:Bi({values:sk,defaultWidth:"wide"}),dayPeriod:Bi({values:lk,defaultWidth:"wide",formattingValues:ik,defaultFormattingWidth:"wide"})};function Hi(s){return(l,r={})=>{const t=r.width,o=t&&s.matchPatterns[t]||s.matchPatterns[s.defaultMatchWidth],u=l.match(o);if(!u)return null;const d=u[0],m=t&&s.parsePatterns[t]||s.parsePatterns[s.defaultParseWidth],x=Array.isArray(m)?dk(m,b=>b.test(d)):uk(m,b=>b.test(d));let p;p=s.valueCallback?s.valueCallback(x):x,p=r.valueCallback?r.valueCallback(p):p;const v=l.slice(d.length);return{value:p,rest:v}}}function uk(s,l){for(const r in s)if(Object.prototype.hasOwnProperty.call(s,r)&&l(s[r]))return r}function dk(s,l){for(let r=0;r<s.length;r++)if(l(s[r]))return r}function mk(s){return(l,r={})=>{const t=l.match(s.matchPattern);if(!t)return null;const o=t[0],u=l.match(s.parsePattern);if(!u)return null;let d=s.valueCallback?s.valueCallback(u[0]):u[0];d=r.valueCallback?r.valueCallback(d):d;const m=l.slice(o.length);return{value:d,rest:m}}}const fk=/^(\d+)(th|st|nd|rd)?/i,pk=/\d+/i,xk={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},hk={any:[/^b/i,/^(a|c)/i]},vk={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bk={any:[/1/i,/2/i,/3/i,/4/i]},gk={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Nk={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jk={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},wk={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Sk={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ck={ordinalNumber:mk({matchPattern:fk,parsePattern:pk,valueCallback:s=>parseInt(s,10)}),era:Hi({matchPatterns:xk,defaultMatchWidth:"wide",parsePatterns:hk,defaultParseWidth:"any"}),quarter:Hi({matchPatterns:vk,defaultMatchWidth:"wide",parsePatterns:bk,defaultParseWidth:"any",valueCallback:s=>s+1}),month:Hi({matchPatterns:gk,defaultMatchWidth:"wide",parsePatterns:yk,defaultParseWidth:"any"}),day:Hi({matchPatterns:Nk,defaultMatchWidth:"wide",parsePatterns:jk,defaultParseWidth:"any"}),dayPeriod:Hi({matchPatterns:wk,defaultMatchWidth:"any",parsePatterns:Sk,defaultParseWidth:"any"})},$y={code:"en-US",formatDistance:KC,formatLong:JC,formatRelative:tk,localize:ck,match:Ck,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kk(s,l){const r=De(s,l?.in);return _l(r,zu(r))+1}function up(s,l){const r=De(s,l?.in),t=+El(r)-+UC(r);return Math.round(t/zy)+1}function dp(s,l){const r=De(s,l?.in),t=r.getFullYear(),o=Ls(),u=l?.firstWeekContainsDate??l?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,d=lt(l?.in||s,0);d.setFullYear(t+1,0,u),d.setHours(0,0,0,0);const m=xr(d,l),x=lt(l?.in||s,0);x.setFullYear(t,0,u),x.setHours(0,0,0,0);const p=xr(x,l);return+r>=+m?t+1:+r>=+p?t:t-1}function Dk(s,l){const r=Ls(),t=l?.firstWeekContainsDate??l?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=dp(s,l),u=lt(l?.in||s,0);return u.setFullYear(o,0,t),u.setHours(0,0,0,0),xr(u,l)}function Vy(s,l){const r=De(s,l?.in),t=+xr(r,l)-+Dk(r,l);return Math.round(t/zy)+1}function st(s,l){const r=s<0?"-":"",t=Math.abs(s).toString().padStart(l,"0");return r+t}const qr={y(s,l){const r=s.getFullYear(),t=r>0?r:1-r;return st(l==="yy"?t%100:t,l.length)},M(s,l){const r=s.getMonth();return l==="M"?String(r+1):st(r+1,2)},d(s,l){return st(s.getDate(),l.length)},a(s,l){const r=s.getHours()/12>=1?"pm":"am";switch(l){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(s,l){return st(s.getHours()%12||12,l.length)},H(s,l){return st(s.getHours(),l.length)},m(s,l){return st(s.getMinutes(),l.length)},s(s,l){return st(s.getSeconds(),l.length)},S(s,l){const r=l.length,t=s.getMilliseconds(),o=Math.trunc(t*Math.pow(10,r-3));return st(o,l.length)}},bl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},K0={G:function(s,l,r){const t=s.getFullYear()>0?1:0;switch(l){case"G":case"GG":case"GGG":return r.era(t,{width:"abbreviated"});case"GGGGG":return r.era(t,{width:"narrow"});default:return r.era(t,{width:"wide"})}},y:function(s,l,r){if(l==="yo"){const t=s.getFullYear(),o=t>0?t:1-t;return r.ordinalNumber(o,{unit:"year"})}return qr.y(s,l)},Y:function(s,l,r,t){const o=dp(s,t),u=o>0?o:1-o;if(l==="YY"){const d=u%100;return st(d,2)}return l==="Yo"?r.ordinalNumber(u,{unit:"year"}):st(u,l.length)},R:function(s,l){const r=By(s);return st(r,l.length)},u:function(s,l){const r=s.getFullYear();return st(r,l.length)},Q:function(s,l,r){const t=Math.ceil((s.getMonth()+1)/3);switch(l){case"Q":return String(t);case"QQ":return st(t,2);case"Qo":return r.ordinalNumber(t,{unit:"quarter"});case"QQQ":return r.quarter(t,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(t,{width:"narrow",context:"formatting"});default:return r.quarter(t,{width:"wide",context:"formatting"})}},q:function(s,l,r){const t=Math.ceil((s.getMonth()+1)/3);switch(l){case"q":return String(t);case"qq":return st(t,2);case"qo":return r.ordinalNumber(t,{unit:"quarter"});case"qqq":return r.quarter(t,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(t,{width:"narrow",context:"standalone"});default:return r.quarter(t,{width:"wide",context:"standalone"})}},M:function(s,l,r){const t=s.getMonth();switch(l){case"M":case"MM":return qr.M(s,l);case"Mo":return r.ordinalNumber(t+1,{unit:"month"});case"MMM":return r.month(t,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(t,{width:"narrow",context:"formatting"});default:return r.month(t,{width:"wide",context:"formatting"})}},L:function(s,l,r){const t=s.getMonth();switch(l){case"L":return String(t+1);case"LL":return st(t+1,2);case"Lo":return r.ordinalNumber(t+1,{unit:"month"});case"LLL":return r.month(t,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(t,{width:"narrow",context:"standalone"});default:return r.month(t,{width:"wide",context:"standalone"})}},w:function(s,l,r,t){const o=Vy(s,t);return l==="wo"?r.ordinalNumber(o,{unit:"week"}):st(o,l.length)},I:function(s,l,r){const t=up(s);return l==="Io"?r.ordinalNumber(t,{unit:"week"}):st(t,l.length)},d:function(s,l,r){return l==="do"?r.ordinalNumber(s.getDate(),{unit:"date"}):qr.d(s,l)},D:function(s,l,r){const t=kk(s);return l==="Do"?r.ordinalNumber(t,{unit:"dayOfYear"}):st(t,l.length)},E:function(s,l,r){const t=s.getDay();switch(l){case"E":case"EE":case"EEE":return r.day(t,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(t,{width:"short",context:"formatting"});default:return r.day(t,{width:"wide",context:"formatting"})}},e:function(s,l,r,t){const o=s.getDay(),u=(o-t.weekStartsOn+8)%7||7;switch(l){case"e":return String(u);case"ee":return st(u,2);case"eo":return r.ordinalNumber(u,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(s,l,r,t){const o=s.getDay(),u=(o-t.weekStartsOn+8)%7||7;switch(l){case"c":return String(u);case"cc":return st(u,l.length);case"co":return r.ordinalNumber(u,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(s,l,r){const t=s.getDay(),o=t===0?7:t;switch(l){case"i":return String(o);case"ii":return st(o,l.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(t,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(t,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(t,{width:"short",context:"formatting"});default:return r.day(t,{width:"wide",context:"formatting"})}},a:function(s,l,r){const o=s.getHours()/12>=1?"pm":"am";switch(l){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(s,l,r){const t=s.getHours();let o;switch(t===12?o=bl.noon:t===0?o=bl.midnight:o=t/12>=1?"pm":"am",l){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(s,l,r){const t=s.getHours();let o;switch(t>=17?o=bl.evening:t>=12?o=bl.afternoon:t>=4?o=bl.morning:o=bl.night,l){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(s,l,r){if(l==="ho"){let t=s.getHours()%12;return t===0&&(t=12),r.ordinalNumber(t,{unit:"hour"})}return qr.h(s,l)},H:function(s,l,r){return l==="Ho"?r.ordinalNumber(s.getHours(),{unit:"hour"}):qr.H(s,l)},K:function(s,l,r){const t=s.getHours()%12;return l==="Ko"?r.ordinalNumber(t,{unit:"hour"}):st(t,l.length)},k:function(s,l,r){let t=s.getHours();return t===0&&(t=24),l==="ko"?r.ordinalNumber(t,{unit:"hour"}):st(t,l.length)},m:function(s,l,r){return l==="mo"?r.ordinalNumber(s.getMinutes(),{unit:"minute"}):qr.m(s,l)},s:function(s,l,r){return l==="so"?r.ordinalNumber(s.getSeconds(),{unit:"second"}):qr.s(s,l)},S:function(s,l){return qr.S(s,l)},X:function(s,l,r){const t=s.getTimezoneOffset();if(t===0)return"Z";switch(l){case"X":return W0(t);case"XXXX":case"XX":return js(t);default:return js(t,":")}},x:function(s,l,r){const t=s.getTimezoneOffset();switch(l){case"x":return W0(t);case"xxxx":case"xx":return js(t);default:return js(t,":")}},O:function(s,l,r){const t=s.getTimezoneOffset();switch(l){case"O":case"OO":case"OOO":return"GMT"+X0(t,":");default:return"GMT"+js(t,":")}},z:function(s,l,r){const t=s.getTimezoneOffset();switch(l){case"z":case"zz":case"zzz":return"GMT"+X0(t,":");default:return"GMT"+js(t,":")}},t:function(s,l,r){const t=Math.trunc(+s/1e3);return st(t,l.length)},T:function(s,l,r){return st(+s,l.length)}};function X0(s,l=""){const r=s>0?"-":"+",t=Math.abs(s),o=Math.trunc(t/60),u=t%60;return u===0?r+String(o):r+String(o)+l+st(u,2)}function W0(s,l){return s%60===0?(s>0?"-":"+")+st(Math.abs(s)/60,2):js(s,l)}function js(s,l=""){const r=s>0?"-":"+",t=Math.abs(s),o=st(Math.trunc(t/60),2),u=st(t%60,2);return r+o+l+u}const Z0=(s,l)=>{switch(s){case"P":return l.date({width:"short"});case"PP":return l.date({width:"medium"});case"PPP":return l.date({width:"long"});default:return l.date({width:"full"})}},Gy=(s,l)=>{switch(s){case"p":return l.time({width:"short"});case"pp":return l.time({width:"medium"});case"ppp":return l.time({width:"long"});default:return l.time({width:"full"})}},Mk=(s,l)=>{const r=s.match(/(P+)(p+)?/)||[],t=r[1],o=r[2];if(!o)return Z0(s,l);let u;switch(t){case"P":u=l.dateTime({width:"short"});break;case"PP":u=l.dateTime({width:"medium"});break;case"PPP":u=l.dateTime({width:"long"});break;default:u=l.dateTime({width:"full"});break}return u.replace("{{date}}",Z0(t,l)).replace("{{time}}",Gy(o,l))},Lf={p:Gy,P:Mk},Ak=/^D+$/,Tk=/^Y+$/,Ek=["D","DD","YY","YYYY"];function _k(s){return Ak.test(s)}function Ok(s){return Tk.test(s)}function Rk(s,l,r){const t=Ik(s,l,r);if(console.warn(t),Ek.includes(s))throw new RangeError(t)}function Ik(s,l,r){const t=s[0]==="Y"?"years":"days of the month";return`Use \`${s.toLowerCase()}\` instead of \`${s}\` (in \`${l}\`) for formatting ${t} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Lk=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Pk=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zk=/^'([^]*?)'?$/,Fk=/''/g,Bk=/[a-zA-Z]/;function J0(s,l,r){const t=Ls(),o=r?.locale??t.locale??$y,u=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,d=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,m=De(s,r?.in);if(!Ol(m))throw new RangeError("Invalid time value");let x=l.match(Pk).map(v=>{const b=v[0];if(b==="p"||b==="P"){const y=Lf[b];return y(v,o.formatLong)}return v}).join("").match(Lk).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const b=v[0];if(b==="'")return{isToken:!1,value:Hk(v)};if(K0[b])return{isToken:!0,value:v};if(b.match(Bk))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:v}});o.localize.preprocessor&&(x=o.localize.preprocessor(m,x));const p={firstWeekContainsDate:u,weekStartsOn:d,locale:o};return x.map(v=>{if(!v.isToken)return v.value;const b=v.value;(!r?.useAdditionalWeekYearTokens&&Ok(b)||!r?.useAdditionalDayOfYearTokens&&_k(b))&&Rk(b,l,String(s));const y=K0[b[0]];return y(m,b,o.localize,p)}).join("")}function Hk(s){const l=s.match(zk);return l?l[1].replace(Fk,"'"):s}function eb(s,l){return De(s,l?.in).getDate()}function Yk(s,l){return De(s,l?.in).getDay()}function Uk(s,l){const r=De(s,l?.in),t=r.getFullYear(),o=r.getMonth(),u=lt(r,0);return u.setFullYear(t,o+1,0),u.setHours(0,0,0,0),u.getDate()}function qk(){return Object.assign({},Ls())}function sa(s,l){return De(s,l?.in).getHours()}function $k(s,l){const r=De(s,l?.in).getDay();return r===0?7:r}function la(s,l){return De(s,l?.in).getMinutes()}function Ca(s,l){return De(s,l?.in).getMonth()}function Gr(s){return De(s).getSeconds()}function Pf(s){return+De(s)}function $e(s,l){return De(s,l?.in).getFullYear()}function mr(s,l){return+De(s)>+De(l)}function An(s,l){return+De(s)<+De(l)}function Vk(s,l){return+De(s)==+De(l)}function Gk(s,l){const r=Qk(l)?new l(0):lt(l,0);return r.setFullYear(s.getFullYear(),s.getMonth(),s.getDate()),r.setHours(s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()),r}function Qk(s){return typeof s=="function"&&s.prototype?.constructor===s}const Kk=10;class Qy{subPriority=0;validate(l,r){return!0}}class Xk extends Qy{constructor(l,r,t,o,u){super(),this.value=l,this.validateValue=r,this.setValue=t,this.priority=o,u&&(this.subPriority=u)}validate(l,r){return this.validateValue(l,this.value,r)}set(l,r,t){return this.setValue(l,r,this.value,t)}}class Wk extends Qy{priority=Kk;subPriority=-1;constructor(l,r){super(),this.context=l||(t=>lt(r,t))}set(l,r){return r.timestampIsSet?l:lt(l,Gk(l,this.context))}}class at{run(l,r,t,o){const u=this.parse(l,r,t,o);return u?{setter:new Xk(u.value,this.validate,this.set,this.priority,this.subPriority),rest:u.rest}:null}validate(l,r,t){return!0}}class Zk extends at{priority=140;parse(l,r,t){switch(r){case"G":case"GG":case"GGG":return t.era(l,{width:"abbreviated"})||t.era(l,{width:"narrow"});case"GGGGG":return t.era(l,{width:"narrow"});default:return t.era(l,{width:"wide"})||t.era(l,{width:"abbreviated"})||t.era(l,{width:"narrow"})}}set(l,r,t){return r.era=t,l.setFullYear(t,0,1),l.setHours(0,0,0,0),l}incompatibleTokens=["R","u","t","T"]}const Tt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Dn={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Et(s,l){return s&&{value:l(s.value),rest:s.rest}}function Nt(s,l){const r=l.match(s);return r?{value:parseInt(r[0],10),rest:l.slice(r[0].length)}:null}function Mn(s,l){const r=l.match(s);if(!r)return null;if(r[0]==="Z")return{value:0,rest:l.slice(1)};const t=r[1]==="+"?1:-1,o=r[2]?parseInt(r[2],10):0,u=r[3]?parseInt(r[3],10):0,d=r[5]?parseInt(r[5],10):0;return{value:t*(o*Pu+u*Lu+d*BC),rest:l.slice(r[0].length)}}function Ky(s){return Nt(Tt.anyDigitsSigned,s)}function St(s,l){switch(s){case 1:return Nt(Tt.singleDigit,l);case 2:return Nt(Tt.twoDigits,l);case 3:return Nt(Tt.threeDigits,l);case 4:return Nt(Tt.fourDigits,l);default:return Nt(new RegExp("^\\d{1,"+s+"}"),l)}}function Nu(s,l){switch(s){case 1:return Nt(Tt.singleDigitSigned,l);case 2:return Nt(Tt.twoDigitsSigned,l);case 3:return Nt(Tt.threeDigitsSigned,l);case 4:return Nt(Tt.fourDigitsSigned,l);default:return Nt(new RegExp("^-?\\d{1,"+s+"}"),l)}}function mp(s){switch(s){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function Xy(s,l){const r=l>0,t=r?l:1-l;let o;if(t<=50)o=s||100;else{const u=t+50,d=Math.trunc(u/100)*100,m=s>=u%100;o=s+d-(m?100:0)}return r?o:1-o}function Wy(s){return s%400===0||s%4===0&&s%100!==0}class Jk extends at{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(l,r,t){const o=u=>({year:u,isTwoDigitYear:r==="yy"});switch(r){case"y":return Et(St(4,l),o);case"yo":return Et(t.ordinalNumber(l,{unit:"year"}),o);default:return Et(St(r.length,l),o)}}validate(l,r){return r.isTwoDigitYear||r.year>0}set(l,r,t){const o=l.getFullYear();if(t.isTwoDigitYear){const d=Xy(t.year,o);return l.setFullYear(d,0,1),l.setHours(0,0,0,0),l}const u=!("era"in r)||r.era===1?t.year:1-t.year;return l.setFullYear(u,0,1),l.setHours(0,0,0,0),l}}class eD extends at{priority=130;parse(l,r,t){const o=u=>({year:u,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Et(St(4,l),o);case"Yo":return Et(t.ordinalNumber(l,{unit:"year"}),o);default:return Et(St(r.length,l),o)}}validate(l,r){return r.isTwoDigitYear||r.year>0}set(l,r,t,o){const u=dp(l,o);if(t.isTwoDigitYear){const m=Xy(t.year,u);return l.setFullYear(m,0,o.firstWeekContainsDate),l.setHours(0,0,0,0),xr(l,o)}const d=!("era"in r)||r.era===1?t.year:1-t.year;return l.setFullYear(d,0,o.firstWeekContainsDate),l.setHours(0,0,0,0),xr(l,o)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class tD extends at{priority=130;parse(l,r){return Nu(r==="R"?4:r.length,l)}set(l,r,t){const o=lt(l,0);return o.setFullYear(t,0,4),o.setHours(0,0,0,0),El(o)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class aD extends at{priority=130;parse(l,r){return Nu(r==="u"?4:r.length,l)}set(l,r,t){return l.setFullYear(t,0,1),l.setHours(0,0,0,0),l}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class nD extends at{priority=120;parse(l,r,t){switch(r){case"Q":case"QQ":return St(r.length,l);case"Qo":return t.ordinalNumber(l,{unit:"quarter"});case"QQQ":return t.quarter(l,{width:"abbreviated",context:"formatting"})||t.quarter(l,{width:"narrow",context:"formatting"});case"QQQQQ":return t.quarter(l,{width:"narrow",context:"formatting"});default:return t.quarter(l,{width:"wide",context:"formatting"})||t.quarter(l,{width:"abbreviated",context:"formatting"})||t.quarter(l,{width:"narrow",context:"formatting"})}}validate(l,r){return r>=1&&r<=4}set(l,r,t){return l.setMonth((t-1)*3,1),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class rD extends at{priority=120;parse(l,r,t){switch(r){case"q":case"qq":return St(r.length,l);case"qo":return t.ordinalNumber(l,{unit:"quarter"});case"qqq":return t.quarter(l,{width:"abbreviated",context:"standalone"})||t.quarter(l,{width:"narrow",context:"standalone"});case"qqqqq":return t.quarter(l,{width:"narrow",context:"standalone"});default:return t.quarter(l,{width:"wide",context:"standalone"})||t.quarter(l,{width:"abbreviated",context:"standalone"})||t.quarter(l,{width:"narrow",context:"standalone"})}}validate(l,r){return r>=1&&r<=4}set(l,r,t){return l.setMonth((t-1)*3,1),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class sD extends at{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(l,r,t){const o=u=>u-1;switch(r){case"M":return Et(Nt(Tt.month,l),o);case"MM":return Et(St(2,l),o);case"Mo":return Et(t.ordinalNumber(l,{unit:"month"}),o);case"MMM":return t.month(l,{width:"abbreviated",context:"formatting"})||t.month(l,{width:"narrow",context:"formatting"});case"MMMMM":return t.month(l,{width:"narrow",context:"formatting"});default:return t.month(l,{width:"wide",context:"formatting"})||t.month(l,{width:"abbreviated",context:"formatting"})||t.month(l,{width:"narrow",context:"formatting"})}}validate(l,r){return r>=0&&r<=11}set(l,r,t){return l.setMonth(t,1),l.setHours(0,0,0,0),l}}class lD extends at{priority=110;parse(l,r,t){const o=u=>u-1;switch(r){case"L":return Et(Nt(Tt.month,l),o);case"LL":return Et(St(2,l),o);case"Lo":return Et(t.ordinalNumber(l,{unit:"month"}),o);case"LLL":return t.month(l,{width:"abbreviated",context:"standalone"})||t.month(l,{width:"narrow",context:"standalone"});case"LLLLL":return t.month(l,{width:"narrow",context:"standalone"});default:return t.month(l,{width:"wide",context:"standalone"})||t.month(l,{width:"abbreviated",context:"standalone"})||t.month(l,{width:"narrow",context:"standalone"})}}validate(l,r){return r>=0&&r<=11}set(l,r,t){return l.setMonth(t,1),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function iD(s,l,r){const t=De(s,r?.in),o=Vy(t,r)-l;return t.setDate(t.getDate()-o*7),De(t,r?.in)}class oD extends at{priority=100;parse(l,r,t){switch(r){case"w":return Nt(Tt.week,l);case"wo":return t.ordinalNumber(l,{unit:"week"});default:return St(r.length,l)}}validate(l,r){return r>=1&&r<=53}set(l,r,t,o){return xr(iD(l,t,o),o)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function cD(s,l,r){const t=De(s,r?.in),o=up(t,r)-l;return t.setDate(t.getDate()-o*7),t}class uD extends at{priority=100;parse(l,r,t){switch(r){case"I":return Nt(Tt.week,l);case"Io":return t.ordinalNumber(l,{unit:"week"});default:return St(r.length,l)}}validate(l,r){return r>=1&&r<=53}set(l,r,t){return El(cD(l,t))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const dD=[31,28,31,30,31,30,31,31,30,31,30,31],mD=[31,29,31,30,31,30,31,31,30,31,30,31];class fD extends at{priority=90;subPriority=1;parse(l,r,t){switch(r){case"d":return Nt(Tt.date,l);case"do":return t.ordinalNumber(l,{unit:"date"});default:return St(r.length,l)}}validate(l,r){const t=l.getFullYear(),o=Wy(t),u=l.getMonth();return o?r>=1&&r<=mD[u]:r>=1&&r<=dD[u]}set(l,r,t){return l.setDate(t),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class pD extends at{priority=90;subpriority=1;parse(l,r,t){switch(r){case"D":case"DD":return Nt(Tt.dayOfYear,l);case"Do":return t.ordinalNumber(l,{unit:"date"});default:return St(r.length,l)}}validate(l,r){const t=l.getFullYear();return Wy(t)?r>=1&&r<=366:r>=1&&r<=365}set(l,r,t){return l.setMonth(0,t),l.setHours(0,0,0,0),l}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function fp(s,l,r){const t=Ls(),o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,u=De(s,r?.in),d=u.getDay(),x=(l%7+7)%7,p=7-o,v=l<0||l>6?l-(d+p)%7:(x+p)%7-(d+p)%7;return cn(u,v,r)}class xD extends at{priority=90;parse(l,r,t){switch(r){case"E":case"EE":case"EEE":return t.day(l,{width:"abbreviated",context:"formatting"})||t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"});case"EEEEE":return t.day(l,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"});default:return t.day(l,{width:"wide",context:"formatting"})||t.day(l,{width:"abbreviated",context:"formatting"})||t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"})}}validate(l,r){return r>=0&&r<=6}set(l,r,t,o){return l=fp(l,t,o),l.setHours(0,0,0,0),l}incompatibleTokens=["D","i","e","c","t","T"]}class hD extends at{priority=90;parse(l,r,t,o){const u=d=>{const m=Math.floor((d-1)/7)*7;return(d+o.weekStartsOn+6)%7+m};switch(r){case"e":case"ee":return Et(St(r.length,l),u);case"eo":return Et(t.ordinalNumber(l,{unit:"day"}),u);case"eee":return t.day(l,{width:"abbreviated",context:"formatting"})||t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"});case"eeeee":return t.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"});default:return t.day(l,{width:"wide",context:"formatting"})||t.day(l,{width:"abbreviated",context:"formatting"})||t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"})}}validate(l,r){return r>=0&&r<=6}set(l,r,t,o){return l=fp(l,t,o),l.setHours(0,0,0,0),l}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class vD extends at{priority=90;parse(l,r,t,o){const u=d=>{const m=Math.floor((d-1)/7)*7;return(d+o.weekStartsOn+6)%7+m};switch(r){case"c":case"cc":return Et(St(r.length,l),u);case"co":return Et(t.ordinalNumber(l,{unit:"day"}),u);case"ccc":return t.day(l,{width:"abbreviated",context:"standalone"})||t.day(l,{width:"short",context:"standalone"})||t.day(l,{width:"narrow",context:"standalone"});case"ccccc":return t.day(l,{width:"narrow",context:"standalone"});case"cccccc":return t.day(l,{width:"short",context:"standalone"})||t.day(l,{width:"narrow",context:"standalone"});default:return t.day(l,{width:"wide",context:"standalone"})||t.day(l,{width:"abbreviated",context:"standalone"})||t.day(l,{width:"short",context:"standalone"})||t.day(l,{width:"narrow",context:"standalone"})}}validate(l,r){return r>=0&&r<=6}set(l,r,t,o){return l=fp(l,t,o),l.setHours(0,0,0,0),l}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function bD(s,l,r){const t=De(s,r?.in),o=$k(t,r),u=l-o;return cn(t,u,r)}class gD extends at{priority=90;parse(l,r,t){const o=u=>u===0?7:u;switch(r){case"i":case"ii":return St(r.length,l);case"io":return t.ordinalNumber(l,{unit:"day"});case"iii":return Et(t.day(l,{width:"abbreviated",context:"formatting"})||t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"}),o);case"iiiii":return Et(t.day(l,{width:"narrow",context:"formatting"}),o);case"iiiiii":return Et(t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"}),o);default:return Et(t.day(l,{width:"wide",context:"formatting"})||t.day(l,{width:"abbreviated",context:"formatting"})||t.day(l,{width:"short",context:"formatting"})||t.day(l,{width:"narrow",context:"formatting"}),o)}}validate(l,r){return r>=1&&r<=7}set(l,r,t){return l=bD(l,t),l.setHours(0,0,0,0),l}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class yD extends at{priority=80;parse(l,r,t){switch(r){case"a":case"aa":case"aaa":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"})||t.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaaa":return t.dayPeriod(l,{width:"narrow",context:"formatting"});default:return t.dayPeriod(l,{width:"wide",context:"formatting"})||t.dayPeriod(l,{width:"abbreviated",context:"formatting"})||t.dayPeriod(l,{width:"narrow",context:"formatting"})}}set(l,r,t){return l.setHours(mp(t),0,0,0),l}incompatibleTokens=["b","B","H","k","t","T"]}class ND extends at{priority=80;parse(l,r,t){switch(r){case"b":case"bb":case"bbb":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"})||t.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbbb":return t.dayPeriod(l,{width:"narrow",context:"formatting"});default:return t.dayPeriod(l,{width:"wide",context:"formatting"})||t.dayPeriod(l,{width:"abbreviated",context:"formatting"})||t.dayPeriod(l,{width:"narrow",context:"formatting"})}}set(l,r,t){return l.setHours(mp(t),0,0,0),l}incompatibleTokens=["a","B","H","k","t","T"]}class jD extends at{priority=80;parse(l,r,t){switch(r){case"B":case"BB":case"BBB":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"})||t.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBBB":return t.dayPeriod(l,{width:"narrow",context:"formatting"});default:return t.dayPeriod(l,{width:"wide",context:"formatting"})||t.dayPeriod(l,{width:"abbreviated",context:"formatting"})||t.dayPeriod(l,{width:"narrow",context:"formatting"})}}set(l,r,t){return l.setHours(mp(t),0,0,0),l}incompatibleTokens=["a","b","t","T"]}class wD extends at{priority=70;parse(l,r,t){switch(r){case"h":return Nt(Tt.hour12h,l);case"ho":return t.ordinalNumber(l,{unit:"hour"});default:return St(r.length,l)}}validate(l,r){return r>=1&&r<=12}set(l,r,t){const o=l.getHours()>=12;return o&&t<12?l.setHours(t+12,0,0,0):!o&&t===12?l.setHours(0,0,0,0):l.setHours(t,0,0,0),l}incompatibleTokens=["H","K","k","t","T"]}class SD extends at{priority=70;parse(l,r,t){switch(r){case"H":return Nt(Tt.hour23h,l);case"Ho":return t.ordinalNumber(l,{unit:"hour"});default:return St(r.length,l)}}validate(l,r){return r>=0&&r<=23}set(l,r,t){return l.setHours(t,0,0,0),l}incompatibleTokens=["a","b","h","K","k","t","T"]}class CD extends at{priority=70;parse(l,r,t){switch(r){case"K":return Nt(Tt.hour11h,l);case"Ko":return t.ordinalNumber(l,{unit:"hour"});default:return St(r.length,l)}}validate(l,r){return r>=0&&r<=11}set(l,r,t){return l.getHours()>=12&&t<12?l.setHours(t+12,0,0,0):l.setHours(t,0,0,0),l}incompatibleTokens=["h","H","k","t","T"]}class kD extends at{priority=70;parse(l,r,t){switch(r){case"k":return Nt(Tt.hour24h,l);case"ko":return t.ordinalNumber(l,{unit:"hour"});default:return St(r.length,l)}}validate(l,r){return r>=1&&r<=24}set(l,r,t){const o=t<=24?t%24:t;return l.setHours(o,0,0,0),l}incompatibleTokens=["a","b","h","H","K","t","T"]}class DD extends at{priority=60;parse(l,r,t){switch(r){case"m":return Nt(Tt.minute,l);case"mo":return t.ordinalNumber(l,{unit:"minute"});default:return St(r.length,l)}}validate(l,r){return r>=0&&r<=59}set(l,r,t){return l.setMinutes(t,0,0),l}incompatibleTokens=["t","T"]}class MD extends at{priority=50;parse(l,r,t){switch(r){case"s":return Nt(Tt.second,l);case"so":return t.ordinalNumber(l,{unit:"second"});default:return St(r.length,l)}}validate(l,r){return r>=0&&r<=59}set(l,r,t){return l.setSeconds(t,0),l}incompatibleTokens=["t","T"]}class AD extends at{priority=30;parse(l,r){const t=o=>Math.trunc(o*Math.pow(10,-r.length+3));return Et(St(r.length,l),t)}set(l,r,t){return l.setMilliseconds(t),l}incompatibleTokens=["t","T"]}class TD extends at{priority=10;parse(l,r){switch(r){case"X":return Mn(Dn.basicOptionalMinutes,l);case"XX":return Mn(Dn.basic,l);case"XXXX":return Mn(Dn.basicOptionalSeconds,l);case"XXXXX":return Mn(Dn.extendedOptionalSeconds,l);default:return Mn(Dn.extended,l)}}set(l,r,t){return r.timestampIsSet?l:lt(l,l.getTime()-hu(l)-t)}incompatibleTokens=["t","T","x"]}class ED extends at{priority=10;parse(l,r){switch(r){case"x":return Mn(Dn.basicOptionalMinutes,l);case"xx":return Mn(Dn.basic,l);case"xxxx":return Mn(Dn.basicOptionalSeconds,l);case"xxxxx":return Mn(Dn.extendedOptionalSeconds,l);default:return Mn(Dn.extended,l)}}set(l,r,t){return r.timestampIsSet?l:lt(l,l.getTime()-hu(l)-t)}incompatibleTokens=["t","T","X"]}class _D extends at{priority=40;parse(l){return Ky(l)}set(l,r,t){return[lt(l,t*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class OD extends at{priority=20;parse(l){return Ky(l)}set(l,r,t){return[lt(l,t),{timestampIsSet:!0}]}incompatibleTokens="*"}const RD={G:new Zk,y:new Jk,Y:new eD,R:new tD,u:new aD,Q:new nD,q:new rD,M:new sD,L:new lD,w:new oD,I:new uD,d:new fD,D:new pD,E:new xD,e:new hD,c:new vD,i:new gD,a:new yD,b:new ND,B:new jD,h:new wD,H:new SD,K:new CD,k:new kD,m:new DD,s:new MD,S:new AD,X:new TD,x:new ED,t:new _D,T:new OD},ID=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,LD=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,PD=/^'([^]*?)'?$/,zD=/''/g,FD=/\S/,BD=/[a-zA-Z]/;function HD(s,l,r,t){const o=()=>lt(t?.in||r,NaN),u=qk(),d=t?.locale??u.locale??$y,m=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??u.firstWeekContainsDate??u.locale?.options?.firstWeekContainsDate??1,x=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??u.weekStartsOn??u.locale?.options?.weekStartsOn??0;if(!l)return s?o():De(r,t?.in);const p={firstWeekContainsDate:m,weekStartsOn:x,locale:d},v=[new Wk(t?.in,r)],b=l.match(LD).map(g=>{const w=g[0];if(w in Lf){const D=Lf[w];return D(g,d.formatLong)}return g}).join("").match(ID),y=[];for(let g of b){const w=g[0],D=RD[w];if(D){const{incompatibleTokens:k}=D;if(Array.isArray(k)){const _=y.find(B=>k.includes(B.token)||B.token===w);if(_)throw new RangeError(`The format string mustn't contain \`${_.fullToken}\` and \`${g}\` at the same time`)}else if(D.incompatibleTokens==="*"&&y.length>0)throw new RangeError(`The format string mustn't contain \`${g}\` and any other token at the same time`);y.push({token:w,fullToken:g});const T=D.run(s,g,d.match,p);if(!T)return o();v.push(T.setter),s=T.rest}else{if(w.match(BD))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");if(g==="''"?g="'":w==="'"&&(g=YD(g)),s.indexOf(g)===0)s=s.slice(g.length);else return o()}}if(s.length>0&&FD.test(s))return o();const S=v.map(g=>g.priority).sort((g,w)=>w-g).filter((g,w,D)=>D.indexOf(g)===w).map(g=>v.filter(w=>w.priority===g).sort((w,D)=>D.subPriority-w.subPriority)).map(g=>g[0]);let M=De(r,t?.in);if(isNaN(+M))return o();const j={};for(const g of S){if(!g.validate(M,p))return o();const w=g.set(M,j,p);Array.isArray(w)?(M=w[0],Object.assign(j,w[1])):M=w}return M}function YD(s){return s.match(PD)[1].replace(zD,"'")}function UD(s,l,r){const[t,o]=vr(r?.in,s,l);return t.getFullYear()===o.getFullYear()&&t.getMonth()===o.getMonth()}function qD(s,l,r){const[t,o]=vr(r?.in,s,l);return+If(t)==+If(o)}function $D(s,l,r){const[t,o]=vr(r?.in,s,l);return t.getFullYear()===o.getFullYear()}function ao(s,l,r){const t=+De(s,r?.in),[o,u]=[+De(l.start,r?.in),+De(l.end,r?.in)].sort((d,m)=>d-m);return t>=o&&t<=u}function VD(s,l,r){return cn(s,-1,r)}function GD(s,l){const r=()=>lt(l?.in,NaN),o=WD(s);let u;if(o.date){const p=ZD(o.date,2);u=JD(p.restDateString,p.year)}if(!u||isNaN(+u))return r();const d=+u;let m=0,x;if(o.time&&(m=eM(o.time),isNaN(m)))return r();if(o.timezone){if(x=tM(o.timezone),isNaN(x))return r()}else{const p=new Date(d+m),v=De(0,l?.in);return v.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),v.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),v}return De(d+m+x,l?.in)}const Ec={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},QD=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,KD=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,XD=/^([+-])(\d{2})(?::?(\d{2}))?$/;function WD(s){const l={},r=s.split(Ec.dateTimeDelimiter);let t;if(r.length>2)return l;if(/:/.test(r[0])?t=r[0]:(l.date=r[0],t=r[1],Ec.timeZoneDelimiter.test(l.date)&&(l.date=s.split(Ec.timeZoneDelimiter)[0],t=s.substr(l.date.length,s.length))),t){const o=Ec.timezone.exec(t);o?(l.time=t.replace(o[1],""),l.timezone=o[1]):l.time=t}return l}function ZD(s,l){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+l)+"})|(\\d{2}|[+-]\\d{"+(2+l)+"})$)"),t=s.match(r);if(!t)return{year:NaN,restDateString:""};const o=t[1]?parseInt(t[1]):null,u=t[2]?parseInt(t[2]):null;return{year:u===null?o:u*100,restDateString:s.slice((t[1]||t[2]).length)}}function JD(s,l){if(l===null)return new Date(NaN);const r=s.match(QD);if(!r)return new Date(NaN);const t=!!r[4],o=Yi(r[1]),u=Yi(r[2])-1,d=Yi(r[3]),m=Yi(r[4]),x=Yi(r[5])-1;if(t)return lM(l,m,x)?aM(l,m,x):new Date(NaN);{const p=new Date(0);return!rM(l,u,d)||!sM(l,o)?new Date(NaN):(p.setUTCFullYear(l,u,Math.max(o,d)),p)}}function Yi(s){return s?parseInt(s):1}function eM(s){const l=s.match(KD);if(!l)return NaN;const r=pf(l[1]),t=pf(l[2]),o=pf(l[3]);return iM(r,t,o)?r*Pu+t*Lu+o*1e3:NaN}function pf(s){return s&&parseFloat(s.replace(",","."))||0}function tM(s){if(s==="Z")return 0;const l=s.match(XD);if(!l)return 0;const r=l[1]==="+"?-1:1,t=parseInt(l[2]),o=l[3]&&parseInt(l[3])||0;return oM(t,o)?r*(t*Pu+o*Lu):NaN}function aM(s,l,r){const t=new Date(0);t.setUTCFullYear(s,0,4);const o=t.getUTCDay()||7,u=(l-1)*7+r+1-o;return t.setUTCDate(t.getUTCDate()+u),t}const nM=[31,null,31,30,31,30,31,31,30,31,30,31];function Zy(s){return s%400===0||s%4===0&&s%100!==0}function rM(s,l,r){return l>=0&&l<=11&&r>=1&&r<=(nM[l]||(Zy(s)?29:28))}function sM(s,l){return l>=1&&l<=(Zy(s)?366:365)}function lM(s,l,r){return l>=1&&l<=53&&r>=0&&r<=6}function iM(s,l,r){return s===24?l===0&&r===0:r>=0&&r<60&&l>=0&&l<60&&s>=0&&s<25}function oM(s,l){return l>=0&&l<=59}function La(s,l,r){const t=De(s,r?.in),o=t.getFullYear(),u=t.getDate(),d=lt(s,0);d.setFullYear(o,l,15),d.setHours(0,0,0,0);const m=Uk(d);return t.setMonth(l,Math.min(u,m)),t}function nu(s,l,r){const t=De(s,r?.in);return t.setHours(l),t}function ru(s,l,r){const t=De(s,r?.in);return t.setMinutes(l),t}function wl(s,l,r){const t=De(s,r?.in),o=Math.trunc(t.getMonth()/3)+1,u=l-o;return La(t,t.getMonth()+u*3)}function su(s,l,r){const t=De(s,r?.in);return t.setSeconds(l),t}function Cn(s,l,r){const t=De(s,r?.in);return isNaN(+t)?lt(s,NaN):(t.setFullYear(l),t)}function As(s,l,r){return mn(s,-l,r)}function Jy(s,l,r){return cp(s,-1,r)}function tb(s,l,r){return vu(s,-1,r)}function Kr(s,l,r){return un(s,-l,r)}function Fu(){return typeof window<"u"}function ql(s){return e1(s)?(s.nodeName||"").toLowerCase():"#document"}function za(s){var l;return(s==null||(l=s.ownerDocument)==null?void 0:l.defaultView)||window}function Fn(s){var l;return(l=(e1(s)?s.ownerDocument:s.document)||window.document)==null?void 0:l.documentElement}function e1(s){return Fu()?s instanceof Node||s instanceof za(s).Node:!1}function da(s){return Fu()?s instanceof Element||s instanceof za(s).Element:!1}function In(s){return Fu()?s instanceof HTMLElement||s instanceof za(s).HTMLElement:!1}function ab(s){return!Fu()||typeof ShadowRoot>"u"?!1:s instanceof ShadowRoot||s instanceof za(s).ShadowRoot}const cM=new Set(["inline","contents"]);function oo(s){const{overflow:l,overflowX:r,overflowY:t,display:o}=Ja(s);return/auto|scroll|overlay|hidden|clip/.test(l+t+r)&&!cM.has(o)}const uM=new Set(["table","td","th"]);function dM(s){return uM.has(ql(s))}const mM=[":popover-open",":modal"];function Bu(s){return mM.some(l=>{try{return s.matches(l)}catch{return!1}})}const fM=["transform","translate","scale","rotate","perspective"],pM=["transform","translate","scale","rotate","perspective","filter"],xM=["paint","layout","strict","content"];function pp(s){const l=xp(),r=da(s)?Ja(s):s;return fM.some(t=>r[t]?r[t]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!l&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!l&&(r.filter?r.filter!=="none":!1)||pM.some(t=>(r.willChange||"").includes(t))||xM.some(t=>(r.contain||"").includes(t))}function hM(s){let l=Xr(s);for(;In(l)&&!Rl(l);){if(pp(l))return l;if(Bu(l))return null;l=Xr(l)}return null}function xp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const vM=new Set(["html","body","#document"]);function Rl(s){return vM.has(ql(s))}function Ja(s){return za(s).getComputedStyle(s)}function Hu(s){return da(s)?{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}:{scrollLeft:s.scrollX,scrollTop:s.scrollY}}function Xr(s){if(ql(s)==="html")return s;const l=s.assignedSlot||s.parentNode||ab(s)&&s.host||Fn(s);return ab(l)?l.host:l}function t1(s){const l=Xr(s);return Rl(l)?s.ownerDocument?s.ownerDocument.body:s.body:In(l)&&oo(l)?l:t1(l)}function no(s,l,r){var t;l===void 0&&(l=[]),r===void 0&&(r=!0);const o=t1(s),u=o===((t=s.ownerDocument)==null?void 0:t.body),d=za(o);if(u){const m=zf(d);return l.concat(d,d.visualViewport||[],oo(o)?o:[],m&&r?no(m):[])}return l.concat(o,no(o,[],r))}function zf(s){return s.parent&&Object.getPrototypeOf(s.parent)?s.frameElement:null}const Il=Math.min,Ts=Math.max,ju=Math.round,_c=Math.floor,On=s=>({x:s,y:s}),bM={left:"right",right:"left",bottom:"top",top:"bottom"},gM={start:"end",end:"start"};function yM(s,l,r){return Ts(s,Il(l,r))}function Yu(s,l){return typeof s=="function"?s(l):s}function Ll(s){return s.split("-")[0]}function co(s){return s.split("-")[1]}function NM(s){return s==="x"?"y":"x"}function hp(s){return s==="y"?"height":"width"}const jM=new Set(["top","bottom"]);function ks(s){return jM.has(Ll(s))?"y":"x"}function vp(s){return NM(ks(s))}function wM(s,l,r){r===void 0&&(r=!1);const t=co(s),o=vp(s),u=hp(o);let d=o==="x"?t===(r?"end":"start")?"right":"left":t==="start"?"bottom":"top";return l.reference[u]>l.floating[u]&&(d=wu(d)),[d,wu(d)]}function SM(s){const l=wu(s);return[Ff(s),l,Ff(l)]}function Ff(s){return s.replace(/start|end/g,l=>gM[l])}const nb=["left","right"],rb=["right","left"],CM=["top","bottom"],kM=["bottom","top"];function DM(s,l,r){switch(s){case"top":case"bottom":return r?l?rb:nb:l?nb:rb;case"left":case"right":return l?CM:kM;default:return[]}}function MM(s,l,r,t){const o=co(s);let u=DM(Ll(s),r==="start",t);return o&&(u=u.map(d=>d+"-"+o),l&&(u=u.concat(u.map(Ff)))),u}function wu(s){return s.replace(/left|right|bottom|top/g,l=>bM[l])}function AM(s){return{top:0,right:0,bottom:0,left:0,...s}}function a1(s){return typeof s!="number"?AM(s):{top:s,right:s,bottom:s,left:s}}function Su(s){const{x:l,y:r,width:t,height:o}=s;return{width:t,height:o,top:r,left:l,right:l+t,bottom:r+o,x:l,y:r}}var TM=typeof document<"u",EM=function(){},Cu=TM?N.useLayoutEffect:EM;const _M={...pg},OM=_M.useInsertionEffect,RM=OM||(s=>s());function IM(s){const l=N.useRef(()=>{});return RM(()=>{l.current=s}),N.useCallback(function(){for(var r=arguments.length,t=new Array(r),o=0;o<r;o++)t[o]=arguments[o];return l.current==null?void 0:l.current(...t)},[])}function sb(s,l,r){let{reference:t,floating:o}=s;const u=ks(l),d=vp(l),m=hp(d),x=Ll(l),p=u==="y",v=t.x+t.width/2-o.width/2,b=t.y+t.height/2-o.height/2,y=t[m]/2-o[m]/2;let S;switch(x){case"top":S={x:v,y:t.y-o.height};break;case"bottom":S={x:v,y:t.y+t.height};break;case"right":S={x:t.x+t.width,y:b};break;case"left":S={x:t.x-o.width,y:b};break;default:S={x:t.x,y:t.y}}switch(co(l)){case"start":S[d]-=y*(r&&p?-1:1);break;case"end":S[d]+=y*(r&&p?-1:1);break}return S}async function LM(s,l){var r;l===void 0&&(l={});const{x:t,y:o,platform:u,rects:d,elements:m,strategy:x}=s,{boundary:p="clippingAncestors",rootBoundary:v="viewport",elementContext:b="floating",altBoundary:y=!1,padding:S=0}=Yu(l,s),M=a1(S),g=m[y?b==="floating"?"reference":"floating":b],w=Su(await u.getClippingRect({element:(r=await(u.isElement==null?void 0:u.isElement(g)))==null||r?g:g.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(m.floating)),boundary:p,rootBoundary:v,strategy:x})),D=b==="floating"?{x:t,y:o,width:d.floating.width,height:d.floating.height}:d.reference,k=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m.floating)),T=await(u.isElement==null?void 0:u.isElement(k))?await(u.getScale==null?void 0:u.getScale(k))||{x:1,y:1}:{x:1,y:1},_=Su(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:m,rect:D,offsetParent:k,strategy:x}):D);return{top:(w.top-_.top+M.top)/T.y,bottom:(_.bottom-w.bottom+M.bottom)/T.y,left:(w.left-_.left+M.left)/T.x,right:(_.right-w.right+M.right)/T.x}}const PM=async(s,l,r)=>{const{placement:t="bottom",strategy:o="absolute",middleware:u=[],platform:d}=r,m=u.filter(Boolean),x=await(d.isRTL==null?void 0:d.isRTL(l));let p=await d.getElementRects({reference:s,floating:l,strategy:o}),{x:v,y:b}=sb(p,t,x),y=t,S={},M=0;for(let g=0;g<m.length;g++){var j;const{name:w,fn:D}=m[g],{x:k,y:T,data:_,reset:B}=await D({x:v,y:b,initialPlacement:t,placement:y,strategy:o,middlewareData:S,rects:p,platform:{...d,detectOverflow:(j=d.detectOverflow)!=null?j:LM},elements:{reference:s,floating:l}});v=k??v,b=T??b,S={...S,[w]:{...S[w],..._}},B&&M<=50&&(M++,typeof B=="object"&&(B.placement&&(y=B.placement),B.rects&&(p=B.rects===!0?await d.getElementRects({reference:s,floating:l,strategy:o}):B.rects),{x:v,y:b}=sb(p,y,x)),g=-1)}return{x:v,y:b,placement:y,strategy:o,middlewareData:S}},zM=s=>({name:"arrow",options:s,async fn(l){const{x:r,y:t,placement:o,rects:u,platform:d,elements:m,middlewareData:x}=l,{element:p,padding:v=0}=Yu(s,l)||{};if(p==null)return{};const b=a1(v),y={x:r,y:t},S=vp(o),M=hp(S),j=await d.getDimensions(p),g=S==="y",w=g?"top":"left",D=g?"bottom":"right",k=g?"clientHeight":"clientWidth",T=u.reference[M]+u.reference[S]-y[S]-u.floating[M],_=y[S]-u.reference[S],B=await(d.getOffsetParent==null?void 0:d.getOffsetParent(p));let H=B?B[k]:0;(!H||!await(d.isElement==null?void 0:d.isElement(B)))&&(H=m.floating[k]||u.floating[M]);const O=T/2-_/2,L=H/2-j[M]/2-1,I=Il(b[w],L),V=Il(b[D],L),A=I,se=H-j[M]-V,oe=H/2-j[M]/2+O,U=yM(A,oe,se),z=!x.arrow&&co(o)!=null&&oe!==U&&u.reference[M]/2-(oe<A?I:V)-j[M]/2<0,W=z?oe<A?oe-A:oe-se:0;return{[S]:y[S]+W,data:{[S]:U,centerOffset:oe-U-W,...z&&{alignmentOffset:W}},reset:z}}}),FM=function(s){return s===void 0&&(s={}),{name:"flip",options:s,async fn(l){var r,t;const{placement:o,middlewareData:u,rects:d,initialPlacement:m,platform:x,elements:p}=l,{mainAxis:v=!0,crossAxis:b=!0,fallbackPlacements:y,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:M="none",flipAlignment:j=!0,...g}=Yu(s,l);if((r=u.arrow)!=null&&r.alignmentOffset)return{};const w=Ll(o),D=ks(m),k=Ll(m)===m,T=await(x.isRTL==null?void 0:x.isRTL(p.floating)),_=y||(k||!j?[wu(m)]:SM(m)),B=M!=="none";!y&&B&&_.push(...MM(m,j,M,T));const H=[m,..._],O=await x.detectOverflow(l,g),L=[];let I=((t=u.flip)==null?void 0:t.overflows)||[];if(v&&L.push(O[w]),b){const oe=wM(o,d,T);L.push(O[oe[0]],O[oe[1]])}if(I=[...I,{placement:o,overflows:L}],!L.every(oe=>oe<=0)){var V,A;const oe=(((V=u.flip)==null?void 0:V.index)||0)+1,U=H[oe];if(U&&(!(b==="alignment"?D!==ks(U):!1)||I.every(R=>ks(R.placement)===D?R.overflows[0]>0:!0)))return{data:{index:oe,overflows:I},reset:{placement:U}};let z=(A=I.filter(W=>W.overflows[0]<=0).sort((W,R)=>W.overflows[1]-R.overflows[1])[0])==null?void 0:A.placement;if(!z)switch(S){case"bestFit":{var se;const W=(se=I.filter(R=>{if(B){const ne=ks(R.placement);return ne===D||ne==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(ne=>ne>0).reduce((ne,ve)=>ne+ve,0)]).sort((R,ne)=>R[1]-ne[1])[0])==null?void 0:se[0];W&&(z=W);break}case"initialPlacement":z=m;break}if(o!==z)return{reset:{placement:z}}}return{}}}},BM=new Set(["left","top"]);async function HM(s,l){const{placement:r,platform:t,elements:o}=s,u=await(t.isRTL==null?void 0:t.isRTL(o.floating)),d=Ll(r),m=co(r),x=ks(r)==="y",p=BM.has(d)?-1:1,v=u&&x?-1:1,b=Yu(l,s);let{mainAxis:y,crossAxis:S,alignmentAxis:M}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return m&&typeof M=="number"&&(S=m==="end"?M*-1:M),x?{x:S*v,y:y*p}:{x:y*p,y:S*v}}const YM=function(s){return s===void 0&&(s=0),{name:"offset",options:s,async fn(l){var r,t;const{x:o,y:u,placement:d,middlewareData:m}=l,x=await HM(l,s);return d===((r=m.offset)==null?void 0:r.placement)&&(t=m.arrow)!=null&&t.alignmentOffset?{}:{x:o+x.x,y:u+x.y,data:{...x,placement:d}}}}};function n1(s){const l=Ja(s);let r=parseFloat(l.width)||0,t=parseFloat(l.height)||0;const o=In(s),u=o?s.offsetWidth:r,d=o?s.offsetHeight:t,m=ju(r)!==u||ju(t)!==d;return m&&(r=u,t=d),{width:r,height:t,$:m}}function bp(s){return da(s)?s:s.contextElement}function kl(s){const l=bp(s);if(!In(l))return On(1);const r=l.getBoundingClientRect(),{width:t,height:o,$:u}=n1(l);let d=(u?ju(r.width):r.width)/t,m=(u?ju(r.height):r.height)/o;return(!d||!Number.isFinite(d))&&(d=1),(!m||!Number.isFinite(m))&&(m=1),{x:d,y:m}}const UM=On(0);function r1(s){const l=za(s);return!xp()||!l.visualViewport?UM:{x:l.visualViewport.offsetLeft,y:l.visualViewport.offsetTop}}function qM(s,l,r){return l===void 0&&(l=!1),!r||l&&r!==za(s)?!1:l}function Os(s,l,r,t){l===void 0&&(l=!1),r===void 0&&(r=!1);const o=s.getBoundingClientRect(),u=bp(s);let d=On(1);l&&(t?da(t)&&(d=kl(t)):d=kl(s));const m=qM(u,r,t)?r1(u):On(0);let x=(o.left+m.x)/d.x,p=(o.top+m.y)/d.y,v=o.width/d.x,b=o.height/d.y;if(u){const y=za(u),S=t&&da(t)?za(t):t;let M=y,j=zf(M);for(;j&&t&&S!==M;){const g=kl(j),w=j.getBoundingClientRect(),D=Ja(j),k=w.left+(j.clientLeft+parseFloat(D.paddingLeft))*g.x,T=w.top+(j.clientTop+parseFloat(D.paddingTop))*g.y;x*=g.x,p*=g.y,v*=g.x,b*=g.y,x+=k,p+=T,M=za(j),j=zf(M)}}return Su({width:v,height:b,x,y:p})}function Uu(s,l){const r=Hu(s).scrollLeft;return l?l.left+r:Os(Fn(s)).left+r}function s1(s,l){const r=s.getBoundingClientRect(),t=r.left+l.scrollLeft-Uu(s,r),o=r.top+l.scrollTop;return{x:t,y:o}}function $M(s){let{elements:l,rect:r,offsetParent:t,strategy:o}=s;const u=o==="fixed",d=Fn(t),m=l?Bu(l.floating):!1;if(t===d||m&&u)return r;let x={scrollLeft:0,scrollTop:0},p=On(1);const v=On(0),b=In(t);if((b||!b&&!u)&&((ql(t)!=="body"||oo(d))&&(x=Hu(t)),In(t))){const S=Os(t);p=kl(t),v.x=S.x+t.clientLeft,v.y=S.y+t.clientTop}const y=d&&!b&&!u?s1(d,x):On(0);return{width:r.width*p.x,height:r.height*p.y,x:r.x*p.x-x.scrollLeft*p.x+v.x+y.x,y:r.y*p.y-x.scrollTop*p.y+v.y+y.y}}function VM(s){return Array.from(s.getClientRects())}function GM(s){const l=Fn(s),r=Hu(s),t=s.ownerDocument.body,o=Ts(l.scrollWidth,l.clientWidth,t.scrollWidth,t.clientWidth),u=Ts(l.scrollHeight,l.clientHeight,t.scrollHeight,t.clientHeight);let d=-r.scrollLeft+Uu(s);const m=-r.scrollTop;return Ja(t).direction==="rtl"&&(d+=Ts(l.clientWidth,t.clientWidth)-o),{width:o,height:u,x:d,y:m}}const lb=25;function QM(s,l){const r=za(s),t=Fn(s),o=r.visualViewport;let u=t.clientWidth,d=t.clientHeight,m=0,x=0;if(o){u=o.width,d=o.height;const v=xp();(!v||v&&l==="fixed")&&(m=o.offsetLeft,x=o.offsetTop)}const p=Uu(t);if(p<=0){const v=t.ownerDocument,b=v.body,y=getComputedStyle(b),S=v.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,M=Math.abs(t.clientWidth-b.clientWidth-S);M<=lb&&(u-=M)}else p<=lb&&(u+=p);return{width:u,height:d,x:m,y:x}}const KM=new Set(["absolute","fixed"]);function XM(s,l){const r=Os(s,!0,l==="fixed"),t=r.top+s.clientTop,o=r.left+s.clientLeft,u=In(s)?kl(s):On(1),d=s.clientWidth*u.x,m=s.clientHeight*u.y,x=o*u.x,p=t*u.y;return{width:d,height:m,x,y:p}}function ib(s,l,r){let t;if(l==="viewport")t=QM(s,r);else if(l==="document")t=GM(Fn(s));else if(da(l))t=XM(l,r);else{const o=r1(s);t={x:l.x-o.x,y:l.y-o.y,width:l.width,height:l.height}}return Su(t)}function l1(s,l){const r=Xr(s);return r===l||!da(r)||Rl(r)?!1:Ja(r).position==="fixed"||l1(r,l)}function WM(s,l){const r=l.get(s);if(r)return r;let t=no(s,[],!1).filter(m=>da(m)&&ql(m)!=="body"),o=null;const u=Ja(s).position==="fixed";let d=u?Xr(s):s;for(;da(d)&&!Rl(d);){const m=Ja(d),x=pp(d);!x&&m.position==="fixed"&&(o=null),(u?!x&&!o:!x&&m.position==="static"&&!!o&&KM.has(o.position)||oo(d)&&!x&&l1(s,d))?t=t.filter(v=>v!==d):o=m,d=Xr(d)}return l.set(s,t),t}function ZM(s){let{element:l,boundary:r,rootBoundary:t,strategy:o}=s;const d=[...r==="clippingAncestors"?Bu(l)?[]:WM(l,this._c):[].concat(r),t],m=d[0],x=d.reduce((p,v)=>{const b=ib(l,v,o);return p.top=Ts(b.top,p.top),p.right=Il(b.right,p.right),p.bottom=Il(b.bottom,p.bottom),p.left=Ts(b.left,p.left),p},ib(l,m,o));return{width:x.right-x.left,height:x.bottom-x.top,x:x.left,y:x.top}}function JM(s){const{width:l,height:r}=n1(s);return{width:l,height:r}}function e4(s,l,r){const t=In(l),o=Fn(l),u=r==="fixed",d=Os(s,!0,u,l);let m={scrollLeft:0,scrollTop:0};const x=On(0);function p(){x.x=Uu(o)}if(t||!t&&!u)if((ql(l)!=="body"||oo(o))&&(m=Hu(l)),t){const S=Os(l,!0,u,l);x.x=S.x+l.clientLeft,x.y=S.y+l.clientTop}else o&&p();u&&!t&&o&&p();const v=o&&!t&&!u?s1(o,m):On(0),b=d.left+m.scrollLeft-x.x-v.x,y=d.top+m.scrollTop-x.y-v.y;return{x:b,y,width:d.width,height:d.height}}function xf(s){return Ja(s).position==="static"}function ob(s,l){if(!In(s)||Ja(s).position==="fixed")return null;if(l)return l(s);let r=s.offsetParent;return Fn(s)===r&&(r=r.ownerDocument.body),r}function i1(s,l){const r=za(s);if(Bu(s))return r;if(!In(s)){let o=Xr(s);for(;o&&!Rl(o);){if(da(o)&&!xf(o))return o;o=Xr(o)}return r}let t=ob(s,l);for(;t&&dM(t)&&xf(t);)t=ob(t,l);return t&&Rl(t)&&xf(t)&&!pp(t)?r:t||hM(s)||r}const t4=async function(s){const l=this.getOffsetParent||i1,r=this.getDimensions,t=await r(s.floating);return{reference:e4(s.reference,await l(s.floating),s.strategy),floating:{x:0,y:0,width:t.width,height:t.height}}};function a4(s){return Ja(s).direction==="rtl"}const n4={convertOffsetParentRelativeRectToViewportRelativeRect:$M,getDocumentElement:Fn,getClippingRect:ZM,getOffsetParent:i1,getElementRects:t4,getClientRects:VM,getDimensions:JM,getScale:kl,isElement:da,isRTL:a4};function o1(s,l){return s.x===l.x&&s.y===l.y&&s.width===l.width&&s.height===l.height}function r4(s,l){let r=null,t;const o=Fn(s);function u(){var m;clearTimeout(t),(m=r)==null||m.disconnect(),r=null}function d(m,x){m===void 0&&(m=!1),x===void 0&&(x=1),u();const p=s.getBoundingClientRect(),{left:v,top:b,width:y,height:S}=p;if(m||l(),!y||!S)return;const M=_c(b),j=_c(o.clientWidth-(v+y)),g=_c(o.clientHeight-(b+S)),w=_c(v),k={rootMargin:-M+"px "+-j+"px "+-g+"px "+-w+"px",threshold:Ts(0,Il(1,x))||1};let T=!0;function _(B){const H=B[0].intersectionRatio;if(H!==x){if(!T)return d();H?d(!1,H):t=setTimeout(()=>{d(!1,1e-7)},1e3)}H===1&&!o1(p,s.getBoundingClientRect())&&d(),T=!1}try{r=new IntersectionObserver(_,{...k,root:o.ownerDocument})}catch{r=new IntersectionObserver(_,k)}r.observe(s)}return d(!0),u}function s4(s,l,r,t){t===void 0&&(t={});const{ancestorScroll:o=!0,ancestorResize:u=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:m=typeof IntersectionObserver=="function",animationFrame:x=!1}=t,p=bp(s),v=o||u?[...p?no(p):[],...no(l)]:[];v.forEach(w=>{o&&w.addEventListener("scroll",r,{passive:!0}),u&&w.addEventListener("resize",r)});const b=p&&m?r4(p,r):null;let y=-1,S=null;d&&(S=new ResizeObserver(w=>{let[D]=w;D&&D.target===p&&S&&(S.unobserve(l),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var k;(k=S)==null||k.observe(l)})),r()}),p&&!x&&S.observe(p),S.observe(l));let M,j=x?Os(s):null;x&&g();function g(){const w=Os(s);j&&!o1(j,w)&&r(),j=w,M=requestAnimationFrame(g)}return r(),()=>{var w;v.forEach(D=>{o&&D.removeEventListener("scroll",r),u&&D.removeEventListener("resize",r)}),b?.(),(w=S)==null||w.disconnect(),S=null,x&&cancelAnimationFrame(M)}}const l4=YM,i4=FM,cb=zM,o4=(s,l,r)=>{const t=new Map,o={platform:n4,...r},u={...o.platform,_c:t};return PM(s,l,{...o,platform:u})};var c4=typeof document<"u",u4=function(){},lu=c4?N.useLayoutEffect:u4;function ku(s,l){if(s===l)return!0;if(typeof s!=typeof l)return!1;if(typeof s=="function"&&s.toString()===l.toString())return!0;let r,t,o;if(s&&l&&typeof s=="object"){if(Array.isArray(s)){if(r=s.length,r!==l.length)return!1;for(t=r;t--!==0;)if(!ku(s[t],l[t]))return!1;return!0}if(o=Object.keys(s),r=o.length,r!==Object.keys(l).length)return!1;for(t=r;t--!==0;)if(!{}.hasOwnProperty.call(l,o[t]))return!1;for(t=r;t--!==0;){const u=o[t];if(!(u==="_owner"&&s.$$typeof)&&!ku(s[u],l[u]))return!1}return!0}return s!==s&&l!==l}function c1(s){return typeof window>"u"?1:(s.ownerDocument.defaultView||window).devicePixelRatio||1}function ub(s,l){const r=c1(s);return Math.round(l*r)/r}function hf(s){const l=N.useRef(s);return lu(()=>{l.current=s}),l}function d4(s){s===void 0&&(s={});const{placement:l="bottom",strategy:r="absolute",middleware:t=[],platform:o,elements:{reference:u,floating:d}={},transform:m=!0,whileElementsMounted:x,open:p}=s,[v,b]=N.useState({x:0,y:0,strategy:r,placement:l,middlewareData:{},isPositioned:!1}),[y,S]=N.useState(t);ku(y,t)||S(t);const[M,j]=N.useState(null),[g,w]=N.useState(null),D=N.useCallback(R=>{R!==B.current&&(B.current=R,j(R))},[]),k=N.useCallback(R=>{R!==H.current&&(H.current=R,w(R))},[]),T=u||M,_=d||g,B=N.useRef(null),H=N.useRef(null),O=N.useRef(v),L=x!=null,I=hf(x),V=hf(o),A=hf(p),se=N.useCallback(()=>{if(!B.current||!H.current)return;const R={placement:l,strategy:r,middleware:y};V.current&&(R.platform=V.current),o4(B.current,H.current,R).then(ne=>{const ve={...ne,isPositioned:A.current!==!1};oe.current&&!ku(O.current,ve)&&(O.current=ve,ap.flushSync(()=>{b(ve)}))})},[y,l,r,V,A]);lu(()=>{p===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,b(R=>({...R,isPositioned:!1})))},[p]);const oe=N.useRef(!1);lu(()=>(oe.current=!0,()=>{oe.current=!1}),[]),lu(()=>{if(T&&(B.current=T),_&&(H.current=_),T&&_){if(I.current)return I.current(T,_,se);se()}},[T,_,se,I,L]);const U=N.useMemo(()=>({reference:B,floating:H,setReference:D,setFloating:k}),[D,k]),z=N.useMemo(()=>({reference:T,floating:_}),[T,_]),W=N.useMemo(()=>{const R={position:r,left:0,top:0};if(!z.floating)return R;const ne=ub(z.floating,v.x),ve=ub(z.floating,v.y);return m?{...R,transform:"translate("+ne+"px, "+ve+"px)",...c1(z.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ne,top:ve}},[r,m,z.floating,v.x,v.y]);return N.useMemo(()=>({...v,update:se,refs:U,elements:z,floatingStyles:W}),[v,se,U,z,W])}const m4=s=>{function l(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:s,fn(r){const{element:t,padding:o}=typeof s=="function"?s(r):s;return t&&l(t)?t.current!=null?cb({element:t.current,padding:o}).fn(r):{}:t?cb({element:t,padding:o}).fn(r):{}}}},f4=(s,l)=>({...l4(s),options:[s,l]}),p4=(s,l)=>({...i4(s),options:[s,l]}),x4=(s,l)=>({...m4(s),options:[s,l]}),h4={...pg};let db=!1,v4=0;const mb=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+v4++;function b4(){const[s,l]=N.useState(()=>db?mb():void 0);return Cu(()=>{s==null&&l(mb())},[]),N.useEffect(()=>{db=!0},[]),s}const g4=h4.useId,u1=g4||b4,y4=N.forwardRef(function(l,r){const{context:{placement:t,elements:{floating:o},middlewareData:{arrow:u,shift:d}},width:m=14,height:x=7,tipRadius:p=0,strokeWidth:v=0,staticOffset:b,stroke:y,d:S,style:{transform:M,...j}={},...g}=l,w=u1(),[D,k]=N.useState(!1);if(Cu(()=>{if(!o)return;Ja(o).direction==="rtl"&&k(!0)},[o]),!o)return null;const[T,_]=t.split("-"),B=T==="top"||T==="bottom";let H=b;(B&&d!=null&&d.x||!B&&d!=null&&d.y)&&(H=null);const O=v*2,L=O/2,I=m/2*(p/-8+1),V=x/2*p/4,A=!!S,se=H&&_==="end"?"bottom":"top";let oe=H&&_==="end"?"right":"left";H&&D&&(oe=_==="end"?"left":"right");const U=u?.x!=null?H||u.x:"",z=u?.y!=null?H||u.y:"",W=S||"M0,0"+(" H"+m)+(" L"+(m-I)+","+(x-V))+(" Q"+m/2+","+x+" "+I+","+(x-V))+" Z",R={top:A?"rotate(180deg)":"",left:A?"rotate(90deg)":"rotate(-90deg)",bottom:A?"":"rotate(180deg)",right:A?"rotate(-90deg)":"rotate(90deg)"}[T];return a.jsxs("svg",{...g,"aria-hidden":!0,ref:r,width:A?m:m+O,height:m,viewBox:"0 0 "+m+" "+(x>m?x:m),style:{position:"absolute",pointerEvents:"none",[oe]:U,[se]:z,[T]:B||A?"100%":"calc(100% - "+O/2+"px)",transform:[R,M].filter(ne=>!!ne).join(" "),...j},children:[O>0&&a.jsx("path",{clipPath:"url(#"+w+")",fill:"none",stroke:y,strokeWidth:O+(S?0:1),d:W}),a.jsx("path",{stroke:O&&!S?g.fill:"none",d:W}),a.jsx("clipPath",{id:w,children:a.jsx("rect",{x:-L,y:L*(A?-1:1),width:m+O,height:m})})]})});function N4(){const s=new Map;return{emit(l,r){var t;(t=s.get(l))==null||t.forEach(o=>o(r))},on(l,r){s.has(l)||s.set(l,new Set),s.get(l).add(r)},off(l,r){var t;(t=s.get(l))==null||t.delete(r)}}}const j4=N.createContext(null),w4=N.createContext(null),S4=()=>{var s;return((s=N.useContext(j4))==null?void 0:s.id)||null},C4=()=>N.useContext(w4);function k4(s){const{open:l=!1,onOpenChange:r,elements:t}=s,o=u1(),u=N.useRef({}),[d]=N.useState(()=>N4()),m=S4()!=null,[x,p]=N.useState(t.reference),v=IM((S,M,j)=>{u.current.openEvent=S?M:void 0,d.emit("openchange",{open:S,event:M,reason:j,nested:m}),r?.(S,M,j)}),b=N.useMemo(()=>({setPositionReference:p}),[]),y=N.useMemo(()=>({reference:x||t.reference||null,floating:t.floating||null,domReference:t.reference}),[x,t.reference,t.floating]);return N.useMemo(()=>({dataRef:u,open:l,onOpenChange:v,elements:y,events:d,floatingId:o,refs:b}),[l,v,y,d,o,b])}function D4(s){s===void 0&&(s={});const{nodeId:l}=s,r=k4({...s,elements:{reference:null,floating:null,...s.elements}}),t=s.rootContext||r,o=t.elements,[u,d]=N.useState(null),[m,x]=N.useState(null),v=o?.domReference||u,b=N.useRef(null),y=C4();Cu(()=>{v&&(b.current=v)},[v]);const S=d4({...s,elements:{...o,...m&&{reference:m}}}),M=N.useCallback(k=>{const T=da(k)?{getBoundingClientRect:()=>k.getBoundingClientRect(),getClientRects:()=>k.getClientRects(),contextElement:k}:k;x(T),S.refs.setReference(T)},[S.refs]),j=N.useCallback(k=>{(da(k)||k===null)&&(b.current=k,d(k)),(da(S.refs.reference.current)||S.refs.reference.current===null||k!==null&&!da(k))&&S.refs.setReference(k)},[S.refs]),g=N.useMemo(()=>({...S.refs,setReference:j,setPositionReference:M,domReference:b}),[S.refs,j,M]),w=N.useMemo(()=>({...S.elements,domReference:v}),[S.elements,v]),D=N.useMemo(()=>({...S,...t,refs:g,elements:w,nodeId:l}),[S,g,w,l,t]);return Cu(()=>{t.dataRef.current.floatingContext=D;const k=y?.nodesRef.current.find(T=>T.id===l);k&&(k.context=D)}),N.useMemo(()=>({...S,context:D,refs:g,elements:w}),[S,g,w,D])}var Bf=function(l,r){return Bf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(t[u]=o[u])},Bf(l,r)};function ea(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");Bf(s,l);function r(){this.constructor=s}s.prototype=l===null?Object.create(l):(r.prototype=l.prototype,new r)}var Ye=function(){return Ye=Object.assign||function(r){for(var t,o=1,u=arguments.length;o<u;o++){t=arguments[o];for(var d in t)Object.prototype.hasOwnProperty.call(t,d)&&(r[d]=t[d])}return r},Ye.apply(this,arguments)};function Tn(s,l,r){if(r||arguments.length===2)for(var t=0,o=l.length,u;t<o;t++)(u||!(t in l))&&(u||(u=Array.prototype.slice.call(l,0,t)),u[t]=l[t]);return s.concat(u||Array.prototype.slice.call(l))}var M4=function(s){var l=s.showTimeSelectOnly,r=l===void 0?!1:l,t=s.showTime,o=t===void 0?!1:t,u=s.className,d=s.children,m=s.inline,x=r?"Choose Time":"Choose Date".concat(o?" and Time":"");return ae.createElement("div",{className:u,"aria-label":x,role:m?void 0:"dialog","aria-modal":m?void 0:"true",translate:"no"},d)},A4=function(s,l){var r=N.useRef(null),t=N.useRef(s);N.useEffect(function(){t.current=s},[s]);var o=N.useCallback(function(u){var d,m=u.composed&&u.composedPath&&u.composedPath().find(function(x){return x instanceof Node})||u.target;r.current&&!r.current.contains(m)&&(l&&m instanceof HTMLElement&&m.classList.contains(l)||(d=t.current)===null||d===void 0||d.call(t,u))},[l]);return N.useEffect(function(){return document.addEventListener("mousedown",o),function(){document.removeEventListener("mousedown",o)}},[o]),r},qu=function(s){var l=s.children,r=s.onClickOutside,t=s.className,o=s.containerRef,u=s.style,d=s.ignoreClass,m=A4(r,d);return ae.createElement("div",{className:t,style:u,ref:function(x){m.current=x,o&&(o.current=x)}},l)},Oc=null,fb=!1;function d1(){if(fb)return Oc;fb=!0;try{var s="date-fns-tz";Oc=require(s)}catch{Oc=null}return Oc}function pb(s,l){if(!l)return s;var r=d1();return r?r.toZonedTime(s,l):s}function ir(s,l){if(!l)return s;var r=d1();return r?r.fromZonedTime(s,l):s}var ge;(function(s){s.ArrowUp="ArrowUp",s.ArrowDown="ArrowDown",s.ArrowLeft="ArrowLeft",s.ArrowRight="ArrowRight",s.PageUp="PageUp",s.PageDown="PageDown",s.Home="Home",s.End="End",s.Enter="Enter",s.Space=" ",s.Tab="Tab",s.Escape="Escape",s.Backspace="Backspace",s.X="x"})(ge||(ge={}));function m1(){var s=typeof window<"u"?window:globalThis;return s}var uo=12;function Ze(s){if(s==null)return new Date;var l=typeof s=="string"?GD(s):De(s);return Sa(l)?l:new Date}function gs(s,l,r,t,o){o===void 0&&(o=Ze());for(var u=Pl(r)||Pl(gp()),d=Array.isArray(l)?l:[l],m=0,x=d;m<x.length;m++){var p=x[m],v=HD(s,p,o,{locale:u});if(Sa(v)&&(!t||s===vt(v,p,r)))return v}if(!t&&s&&s.length>=8){var b=new Date(s);if(Ol(b))return b}return null}function T4(s,l){if(l===void 0&&(l=Ze()),!s)return null;var r=s.match(/\b(1\d{3}|2\d{3})\b/);if(!r||!r[1])return null;var t=parseInt(r[1],10),o=s.match(/(?:^|[/\-\s])?(0?[1-9]|1[0-2])(?:[/\-\s]|$)/),u=o&&o[1]?parseInt(o[1],10)-1:l.getMonth();return new Date(t,u,1)}function Sa(s){return Ol(s)}function Ds(s){return s==null?null:_n(s)&&Ol(s)?s:null}function vt(s,l,r){if(r==="en")return J0(s,l,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var t=r?Pl(r):void 0;return r&&!t&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),t=t||Pl(gp()),J0(s,l,{locale:t,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function wa(s,l){var r=l.dateFormat,t=l.locale,o=Array.isArray(r)&&r.length>0?r[0]:r;return s&&vt(s,o,t)||""}var f1=" - ";function E4(s,l,r){if(!s&&!l)return"";var t=s?wa(s,r):"",o=l?wa(l,r):"",u=r.rangeSeparator||f1;return"".concat(t).concat(u).concat(o)}function _4(s,l){if(!s?.length)return"";var r=s[0]?wa(s[0],l):"";if(s.length===1)return r;if(s.length===2&&s[1]){var t=wa(s[1],l);return"".concat(r,", ").concat(t)}var o=s.length-1;return"".concat(r," (+").concat(o,")")}function or(s,l){var r=l.hour,t=r===void 0?0:r,o=l.minute,u=o===void 0?0:o,d=l.second,m=d===void 0?0:d;return nu(ru(su(s,m),u),t)}function O4(s){return up(s)}function R4(s,l){return vt(s,"ddd",l)}function Qi(s){return _s(s)}function Qr(s,l,r){var t=Pl(l||gp());return xr(s,{locale:t,weekStartsOn:r})}function fr(s){return Uy(s)}function Ki(s){return zu(s)}function xb(s){return If(s)}function hb(){return _s(Ze())}function vb(s){return Hy(s)}function I4(s){return GC(s)}function L4(s){return Yy(s)}function kn(s,l){return s&&l?$D(s,l):!s&&!l}function ua(s,l){return s&&l?UD(s,l):!s&&!l}function Du(s,l){return s&&l?qD(s,l):!s&&!l}function Ke(s,l){return s&&l?$C(s,l):!s&&!l}function Ms(s,l){return s&&l?Vk(s,l):!s&&!l}function ws(s,l,r){var t,o=_s(l),u=Hy(r);try{t=ao(s,{start:o,end:u})}catch{t=!1}return t}function gp(){var s=m1();return s.__localeId__}function Pl(s){if(typeof s=="string"){var l=m1();return l.__localeData__?l.__localeData__[s]:void 0}else return s}function P4(s,l,r){return l(vt(s,"EEEE",r))}function z4(s,l){return vt(s,"EEEEEE",l)}function F4(s,l){return vt(s,"EEE",l)}function yp(s,l){return vt(La(Ze(),s),"LLLL",l)}function p1(s,l){return vt(La(Ze(),s),"LLL",l)}function B4(s,l){return vt(wl(Ze(),s),"QQQ",l)}function Za(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.excludeDateIntervals,m=r.includeDates,x=r.includeDateIntervals,p=r.filterDate,v=r.disabled;return v?!0:mo(s,{minDate:t,maxDate:o})||u&&u.some(function(b){return b instanceof Date?Ke(s,b):Ke(s,b.date)})||d&&d.some(function(b){var y=b.start,S=b.end;return ao(s,{start:y,end:S})})||m&&!m.some(function(b){return Ke(s,b)})||x&&!x.some(function(b){var y=b.start,S=b.end;return ao(s,{start:y,end:S})})||p&&!p(Ze(s))||!1}function Np(s,l){var r=l===void 0?{}:l,t=r.excludeDates,o=r.excludeDateIntervals;return o&&o.length>0?o.some(function(u){var d=u.start,m=u.end;return ao(s,{start:d,end:m})}):t&&t.some(function(u){var d;return u instanceof Date?Ke(s,u):Ke(s,(d=u.date)!==null&&d!==void 0?d:new Date)})||!1}function x1(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.includeDates,m=r.filterDate;return mo(s,{minDate:t?Uy(t):void 0,maxDate:o?Yy(o):void 0})||u?.some(function(x){return ua(s,x instanceof Date?x:x.date)})||d&&!d.some(function(x){return ua(s,x)})||m&&!m(Ze(s))||!1}function Rc(s,l,r,t){var o=$e(s),u=Ca(s),d=$e(l),m=Ca(l),x=$e(t);return o===d&&o===x?u<=r&&r<=m:o<d?x===o&&u<=r||x===d&&m>=r||x<d&&x>o:!1}function H4(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.includeDates;return mo(s,{minDate:t,maxDate:o})||u&&u.some(function(m){return ua(m instanceof Date?m:m.date,s)})||d&&!d.some(function(m){return ua(m,s)})||!1}function Ic(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.includeDates,m=r.filterDate,x=r.disabled;return x?!0:mo(s,{minDate:t,maxDate:o})||u?.some(function(p){return Du(s,p instanceof Date?p:p.date)})||d&&!d.some(function(p){return Du(s,p)})||m&&!m(Ze(s))||!1}function Lc(s,l,r){if(!l||!r||!Ol(l)||!Ol(r))return!1;var t=$e(l),o=$e(r);return t<=s&&o>=s}function iu(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.maxDate,u=r.excludeDates,d=r.includeDates,m=r.filterDate,x=r.disabled;if(x)return!0;var p=new Date(s,0,1);return mo(p,{minDate:t?zu(t):void 0,maxDate:o?qy(o):void 0})||u?.some(function(v){return kn(p,v instanceof Date?v:v.date)})||d&&!d.some(function(v){return kn(p,v)})||m&&!m(Ze(p))||!1}function Pc(s,l,r,t){var o=$e(s),u=Vr(s),d=$e(l),m=Vr(l),x=$e(t);return o===d&&o===x?u<=r&&r<=m:o<d?x===o&&u<=r||x===d&&m>=r||x<d&&x>o:!1}function mo(s,l){var r,t=l===void 0?{}:l,o=t.minDate,u=t.maxDate;return(r=o&&_l(s,o)<0||u&&_l(s,u)>0)!==null&&r!==void 0?r:!1}function bb(s,l){return l.some(function(r){return sa(r)===sa(s)&&la(r)===la(s)&&Gr(r)===Gr(s)})}function gb(s,l){var r=l===void 0?{}:l,t=r.excludeTimes,o=r.includeTimes,u=r.filterTime;return t&&bb(s,t)||o&&!bb(s,o)||u&&!u(s)||!1}function yb(s,l){var r=l.minTime,t=l.maxTime;if(!r||!t)throw new Error("Both minTime and maxTime props required");var o=Ze();o=nu(o,sa(s)),o=ru(o,la(s)),o=su(o,Gr(s));var u=Ze();u=nu(u,sa(r)),u=ru(u,la(r)),u=su(u,Gr(r));var d=Ze();d=nu(d,sa(t)),d=ru(d,la(t)),d=su(d,Gr(t));var m;try{m=!ao(o,{start:u,end:d})}catch{m=!1}return m}function Nb(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.includeDates,u=As(s,1);return t&&bu(t,u)>0||o&&o.every(function(d){return bu(d,u)>0})||!1}function jb(s,l){var r=l===void 0?{}:l,t=r.maxDate,o=r.includeDates,u=mn(s,1);return t&&bu(u,t)>0||o&&o.every(function(d){return bu(u,d)>0})||!1}function Y4(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.includeDates,u=zu(s),d=Jy(u);return t&&gu(t,d)>0||o&&o.every(function(m){return gu(m,d)>0})||!1}function U4(s,l){var r=l===void 0?{}:l,t=r.maxDate,o=r.includeDates,u=qy(s),d=cp(u,1);return t&&gu(d,t)>0||o&&o.every(function(m){return gu(d,m)>0})||!1}function wb(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.includeDates,u=Kr(s,1);return t&&yu(t,u)>0||o&&o.every(function(d){return yu(d,u)>0})||!1}function q4(s,l){var r=l===void 0?{}:l,t=r.minDate,o=r.yearItemNumber,u=o===void 0?uo:o,d=Ki(Kr(s,u)),m=cr(d,u).endPeriod,x=t&&$e(t);return x&&x>m||!1}function Sb(s,l){var r=l===void 0?{}:l,t=r.maxDate,o=r.includeDates,u=un(s,1);return t&&yu(u,t)>0||o&&o.every(function(d){return yu(u,d)>0})||!1}function $4(s,l){var r=l===void 0?{}:l,t=r.maxDate,o=r.yearItemNumber,u=o===void 0?uo:o,d=un(s,u),m=cr(d,u).startPeriod,x=t&&$e(t);return x&&x<m||!1}function h1(s){var l=s.minDate,r=s.includeDates;if(r&&l){var t=r.filter(function(o){return _l(o,l)>=0});return G0(t)}else return r?G0(r):l}function v1(s){var l=s.maxDate,r=s.includeDates;if(r&&l){var t=r.filter(function(o){return _l(o,l)<=0});return V0(t)}else return r?V0(r):l}function Cb(s,l){var r;s===void 0&&(s=[]),l===void 0&&(l="react-datepicker__day--highlighted");for(var t=new Map,o=0,u=s.length;o<u;o++){var d=s[o];if(_n(d)){var m=vt(d,"MM.dd.yyyy"),x=t.get(m)||[];x.includes(l)||(x.push(l),t.set(m,x))}else if(typeof d=="object"){var p=Object.keys(d),v=(r=p[0])!==null&&r!==void 0?r:"",b=d[v];if(typeof v=="string"&&Array.isArray(b))for(var y=0,S=b.length;y<S;y++){var M=b[y];if(M){var m=vt(M,"MM.dd.yyyy"),x=t.get(m)||[];x.includes(v)||(x.push(v),t.set(m,x))}}}}return t}function V4(s,l){return s.length!==l.length?!1:s.every(function(r,t){return r===l[t]})}function G4(s,l){s===void 0&&(s=[]),l===void 0&&(l="react-datepicker__day--holidays");var r=new Map;return s.forEach(function(t){var o=t.date,u=t.holidayName;if(_n(o)){var d=vt(o,"MM.dd.yyyy"),m=r.get(d)||{className:"",holidayNames:[]};if(!("className"in m&&m.className===l&&V4(m.holidayNames,[u]))){m.className=l;var x=m.holidayNames;m.holidayNames=x?Tn(Tn([],x,!0),[u],!1):[u],r.set(d,m)}}}),r}function Q4(s,l,r,t,o){for(var u=o.length,d=[],m=0;m<u;m++){var x=s,p=o[m];p&&(x=HC(x,sa(p)),x=to(x,la(p)),x=qC(x,Gr(p)));var v=to(s,(r+1)*t);mr(x,l)&&An(x,v)&&p!=null&&d.push(p)}return d}function gl(s){return s<10?"0".concat(s):"".concat(s)}function cr(s,l){l===void 0&&(l=uo);var r=Math.ceil($e(s)/l)*l,t=r-(l-1);return{startPeriod:t,endPeriod:r}}function K4(s){var l=new Date(s.getFullYear(),s.getMonth(),s.getDate()),r=new Date(s.getFullYear(),s.getMonth(),s.getDate(),24);return Math.round((+r-+l)/36e5)}function kb(s){var l=s.getSeconds(),r=s.getMilliseconds();return De(s.getTime()-l*1e3-r)}function b1(s,l){return kb(s).getTime()===kb(l).getTime()}function Db(s){if(!_n(s))throw new Error("Invalid date");var l=new Date(s);return l.setHours(0,0,0,0),l}function vf(s,l){if(!_n(s)||!_n(l))throw new Error("Invalid date received");var r=Db(s),t=Db(l);return An(r,t)}function g1(s){return s.key===ge.Space}var bf=(function(s){ea(l,s);function l(r){var t=s.call(this,r)||this;return t.inputRef=ae.createRef(),t.onTimeChange=function(o){var u,d;t.setState({time:o});var m=t.props.date,x=m instanceof Date&&!isNaN(+m),p=x?m:new Date;if(o?.includes(":")){var v=o.split(":"),b=v[0],y=v[1];p.setHours(Number(b)),p.setMinutes(Number(y))}(d=(u=t.props).onChange)===null||d===void 0||d.call(u,p)},t.renderTimeInput=function(){var o=t.state.time,u=t.props,d=u.date,m=u.timeString,x=u.customTimeInput;return x?N.cloneElement(x,{date:d,value:o,onChange:t.onTimeChange}):ae.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:t.inputRef,onClick:function(){var p;(p=t.inputRef.current)===null||p===void 0||p.focus()},required:!0,value:o,onChange:function(p){t.onTimeChange(p.target.value||m)}})},t.state={time:t.props.timeString},t}return l.getDerivedStateFromProps=function(r,t){return r.timeString!==t.time?{time:r.timeString}:null},l.prototype.render=function(){return ae.createElement("div",{className:"react-datepicker__input-time-container"},ae.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ae.createElement("div",{className:"react-datepicker-time__input-container"},ae.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},l})(N.Component),X4=(function(s){ea(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.dayEl=N.createRef(),r.handleClick=function(t){!r.isDisabled()&&r.props.onClick&&r.props.onClick(t)},r.handleMouseEnter=function(t){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(t)},r.handleOnKeyDown=function(t){var o,u,d=t.key;d===ge.Space&&(t.preventDefault(),t.key=ge.Enter),(u=(o=r.props).handleOnKeyDown)===null||u===void 0||u.call(o,t)},r.isSameDay=function(t){return Ke(r.props.day,t)},r.isKeyboardSelected=function(){var t;if(r.props.disabledKeyboardNavigation)return!1;var o=r.props.selectsMultiple?(t=r.props.selectedDates)===null||t===void 0?void 0:t.some(function(d){return r.isSameDayOrWeek(d)}):r.isSameDayOrWeek(r.props.selected),u=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!o&&r.isSameDayOrWeek(r.props.preSelection)&&!u},r.isDisabled=function(t){return t===void 0&&(t=r.props.day),Za(t,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate,disabled:r.props.disabled})},r.isExcluded=function(){return Np(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return Ke(r.props.day,Qr(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(t){return r.props.showWeekPicker&&Ke(t,Qr(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(t){return r.isSameDay(t)||r.isSameWeek(t)},r.getHighLightedClass=function(){var t=r.props,o=t.day,u=t.highlightDates;if(!u)return!1;var d=vt(o,"MM.dd.yyyy");return u.get(d)},r.getHolidaysClass=function(){var t,o=r.props,u=o.day,d=o.holidays;if(!d)return[void 0];var m=vt(u,"MM.dd.yyyy");return d.has(m)?[(t=d.get(m))===null||t===void 0?void 0:t.className]:[void 0]},r.isInRange=function(){var t=r.props,o=t.day,u=t.startDate,d=t.endDate;return!u||!d?!1:ws(o,u,d)},r.isInSelectingRange=function(){var t,o=r.props,u=o.day,d=o.selectsStart,m=o.selectsEnd,x=o.selectsRange,p=o.selectsDisabledDaysInRange,v=o.startDate,b=o.swapRange,y=o.endDate,S=(t=r.props.selectingDate)!==null&&t!==void 0?t:r.props.preSelection;if(r.isAfterMonth()||r.isBeforeMonth()||!(d||m||x)||!S||!p&&r.isDisabled())return!1;if(d&&y&&(An(S,y)||Ms(S,y)))return ws(u,S,y);if(m&&v&&(mr(S,v)||Ms(S,v)))return ws(u,v,S);if(x&&v&&!y){if(Ms(S,v)||mr(S,v))return ws(u,v,S);if(b&&An(S,v))return ws(u,S,v)}return!1},r.isSelectingRangeStart=function(){var t;if(!r.isInSelectingRange())return!1;var o=r.props,u=o.day,d=o.startDate,m=o.selectsStart,x=o.swapRange,p=o.selectsRange,v=(t=r.props.selectingDate)!==null&&t!==void 0?t:r.props.preSelection;return m?Ke(u,v):p&&x&&d&&v?Ke(u,An(v,d)?v:d):Ke(u,d)},r.isSelectingRangeEnd=function(){var t;if(!r.isInSelectingRange())return!1;var o=r.props,u=o.day,d=o.endDate,m=o.selectsEnd,x=o.selectsRange,p=o.swapRange,v=o.startDate,b=(t=r.props.selectingDate)!==null&&t!==void 0?t:r.props.preSelection;return m?Ke(u,b):x&&p&&v&&b?Ke(u,An(b,v)?v:b):x?Ke(u,b):Ke(u,d)},r.isRangeStart=function(){var t=r.props,o=t.day,u=t.startDate,d=t.endDate;return!u||!d?!1:Ke(u,o)},r.isRangeEnd=function(){var t=r.props,o=t.day,u=t.startDate,d=t.endDate;return!u||!d?!1:Ke(d,o)},r.isWeekend=function(){var t=Yk(r.props.day);return t===0||t===6},r.isAfterMonth=function(){return r.props.month!==void 0&&(r.props.month+1)%12===Ca(r.props.day)},r.isBeforeMonth=function(){return r.props.month!==void 0&&(Ca(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(Ze())},r.isSelected=function(){var t;return r.props.selectsMultiple?(t=r.props.selectedDates)===null||t===void 0?void 0:t.some(function(o){return r.isSameDayOrWeek(o)}):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(t){var o=r.props.dayClassName?r.props.dayClassName(t):void 0;return Yt("react-datepicker__day",o,"react-datepicker__day--"+R4(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var t=r.props,o=t.day,u=t.ariaLabelPrefixWhenEnabled,d=u===void 0?"Choose":u,m=t.ariaLabelPrefixWhenDisabled,x=m===void 0?"Not available":m,p=r.isDisabled()||r.isExcluded()?x:d;return"".concat(p," ").concat(vt(o,"PPPP",r.props.locale))},r.getTitle=function(){var t=r.props,o=t.day,u=t.holidays,d=u===void 0?new Map:u,m=t.excludeDates,x=vt(o,"MM.dd.yyyy"),p=[];return d.has(x)&&p.push.apply(p,d.get(x).holidayNames),r.isExcluded()&&p.push(m?.filter(function(v){return v instanceof Date?Ke(v,o):Ke(v?.date,o)}).map(function(v){if(!(v instanceof Date))return v?.message})),p.join(", ")},r.getTabIndex=function(){var t=r.props.selected,o=r.props.preSelection,u=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(t)&&Ke(o,t))?0:-1;return u},r.handleFocusDay=function(){var t;r.shouldFocusDay()&&((t=r.dayEl.current)===null||t===void 0||t.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(eb(r.props.day),r.props.day):eb(r.props.day)},r.render=function(){return ae.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"gridcell",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&ae.createElement("span",{className:"overlay"},r.getTitle()))},r}return l.prototype.componentDidMount=function(){this.handleFocusDay()},l.prototype.componentDidUpdate=function(){this.handleFocusDay()},l.prototype.shouldFocusDay=function(){var r=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(r=!1),this.isDayActiveElement()&&(r=!0),this.isDuplicateDay()&&(r=!1)),r},l.prototype.isDayActiveElement=function(){var r,t,o;return((t=(r=this.props.containerRef)===null||r===void 0?void 0:r.current)===null||t===void 0?void 0:t.contains(document.activeElement))&&((o=document.activeElement)===null||o===void 0?void 0:o.classList.contains("react-datepicker__day"))},l.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},l})(N.Component),W4=(function(s){ea(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.weekNumberEl=N.createRef(),r.handleClick=function(t){r.props.onClick&&r.props.onClick(t)},r.handleOnKeyDown=function(t){var o,u,d=t.key;d===ge.Space&&(t.preventDefault(),t.key=ge.Enter),(u=(o=r.props).handleOnKeyDown)===null||u===void 0||u.call(o,t)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!Ke(r.props.date,r.props.selected)&&Ke(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||Ke(r.props.date,r.props.selected)&&Ke(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(t){var o=!1;r.getTabIndex()===0&&!t?.isInputFocused&&Ke(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(o=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(o=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(o=!0)),o&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return Object.defineProperty(l,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),l.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},l.prototype.componentDidUpdate=function(r){this.handleFocusWeekNumber(r)},l.prototype.render=function(){var r=this.props,t=r.weekNumber,o=r.isWeekDisabled,u=r.ariaLabelPrefix,d=u===void 0?l.defaultProps.ariaLabelPrefix:u,m=r.onClick,x={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!m&&!o,"react-datepicker__week-number--selected":!!m&&Ke(this.props.date,this.props.selected)};return ae.createElement("div",{ref:this.weekNumberEl,className:Yt(x),"aria-label":"".concat(d," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},t)},l})(N.Component),Z4=(function(s){ea(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.isDisabled=function(t){return Za(t,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.handleDayClick=function(t,o){r.props.onDayClick&&r.props.onDayClick(t,o)},r.handleDayMouseEnter=function(t){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(t)},r.handleWeekClick=function(t,o,u){for(var d,m,x,p=new Date(t),v=0;v<7;v++){var b=new Date(t);b.setDate(b.getDate()+v);var y=!r.isDisabled(b);if(y){p=b;break}}typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(p,o,u),r.props.showWeekPicker&&r.handleDayClick(p,u),((d=r.props.shouldCloseOnSelect)!==null&&d!==void 0?d:l.defaultProps.shouldCloseOnSelect)&&((x=(m=r.props).setOpen)===null||x===void 0||x.call(m,!1))},r.formatWeekNumber=function(t){return r.props.formatWeekNumber?r.props.formatWeekNumber(t):O4(t)},r.isWeekDisabled=function(){for(var t=r.startOfWeek(),o=cn(t,6),u=new Date(t);u<=o;){if(!r.isDisabled(u))return!1;u=cn(u,1)}return!0},r.renderDays=function(){var t=r.startOfWeek(),o=[],u=r.formatWeekNumber(t);if(r.props.showWeekNumber){var d=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,t,u):void 0;o.push(ae.createElement(W4,Ye({key:"W"},l.defaultProps,r.props,{weekNumber:u,isWeekDisabled:r.isWeekDisabled(),date:t,onClick:d})))}return o.concat([0,1,2,3,4,5,6].map(function(m){var x=cn(t,m);return ae.createElement(X4,Ye({},l.defaultProps,r.props,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:x.valueOf(),day:x,onClick:r.handleDayClick.bind(r,x),onMouseEnter:r.handleDayMouseEnter.bind(r,x)}))}))},r.startOfWeek=function(){return Qr(r.props.day,r.props.locale,r.props.calendarStartDay)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!Ke(r.startOfWeek(),r.props.selected)&&Ke(r.startOfWeek(),r.props.preSelection)},r}return Object.defineProperty(l,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),l.prototype.render=function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":Ke(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},t=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return ae.createElement("div",{className:Yt(r,t),role:"row"},this.renderDays())},l})(N.Component),Ui,J4=6,Dl={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},gf=(Ui={},Ui[Dl.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Ui[Dl.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Ui[Dl.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Ui),zc=1;function Mb(s,l){return s?Dl.FOUR_COLUMNS:l?Dl.TWO_COLUMNS:Dl.THREE_COLUMNS}var e3=(function(s){ea(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.MONTH_REFS=Tn([],Array(12),!0).map(function(){return N.createRef()}),r.QUARTER_REFS=Tn([],Array(4),!0).map(function(){return N.createRef()}),r.isDisabled=function(t){return Za(t,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate,disabled:r.props.disabled})},r.isExcluded=function(t){return Np(t,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(t,o){var u,d;(d=(u=r.props).onDayClick)===null||d===void 0||d.call(u,t,o,r.props.orderInDisplay)},r.handleDayMouseEnter=function(t){var o,u;(u=(o=r.props).onDayMouseEnter)===null||u===void 0||u.call(o,t)},r.handleMouseLeave=function(){var t,o;(o=(t=r.props).onMouseLeave)===null||o===void 0||o.call(t)},r.isRangeStartMonth=function(t){var o=r.props,u=o.day,d=o.startDate,m=o.endDate;return!d||!m?!1:ua(La(u,t),d)},r.isRangeStartQuarter=function(t){var o=r.props,u=o.day,d=o.startDate,m=o.endDate;return!d||!m?!1:Du(wl(u,t),d)},r.isRangeEndMonth=function(t){var o=r.props,u=o.day,d=o.startDate,m=o.endDate;return!d||!m?!1:ua(La(u,t),m)},r.isRangeEndQuarter=function(t){var o=r.props,u=o.day,d=o.startDate,m=o.endDate;return!d||!m?!1:Du(wl(u,t),m)},r.isInSelectingRangeMonth=function(t){var o,u=r.props,d=u.day,m=u.selectsStart,x=u.selectsEnd,p=u.selectsRange,v=u.startDate,b=u.endDate,y=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return!(m||x||p)||!y?!1:m&&b?Rc(y,b,t,d):x&&v||p&&v&&!b?Rc(v,y,t,d):!1},r.isSelectingMonthRangeStart=function(t){var o;if(!r.isInSelectingRangeMonth(t))return!1;var u=r.props,d=u.day,m=u.startDate,x=u.selectsStart,p=La(d,t),v=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return x?ua(p,v):ua(p,m)},r.isSelectingMonthRangeEnd=function(t){var o;if(!r.isInSelectingRangeMonth(t))return!1;var u=r.props,d=u.day,m=u.endDate,x=u.selectsEnd,p=u.selectsRange,v=La(d,t),b=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return x||p?ua(v,b):ua(v,m)},r.isInSelectingRangeQuarter=function(t){var o,u=r.props,d=u.day,m=u.selectsStart,x=u.selectsEnd,p=u.selectsRange,v=u.startDate,b=u.endDate,y=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return!(m||x||p)||!y?!1:m&&b?Pc(y,b,t,d):x&&v||p&&v&&!b?Pc(v,y,t,d):!1},r.isWeekInMonth=function(t){var o=r.props.day,u=cn(t,6);return ua(t,o)||ua(u,o)},r.isCurrentMonth=function(t,o){return $e(t)===$e(Ze())&&o===Ca(Ze())},r.isCurrentQuarter=function(t,o){return $e(t)===$e(Ze())&&o===Vr(Ze())},r.isSelectedMonth=function(t,o,u){return Ca(u)===o&&$e(t)===$e(u)},r.isSelectMonthInList=function(t,o,u){return u.some(function(d){return r.isSelectedMonth(t,o,d)})},r.isSelectedQuarter=function(t,o,u){return Vr(u)===o&&$e(t)===$e(u)},r.isSelectQuarterInList=function(t,o,u){return u.some(function(d){return r.isSelectedQuarter(t,o,d)})},r.isMonthSelected=function(){var t=r.props,o=t.day,u=t.selected,d=t.selectedDates,m=t.selectsMultiple,x=Ca(o);return m?d?.some(function(p){return r.isSelectedMonth(o,x,p)}):!!u&&r.isSelectedMonth(o,x,u)},r.isQuarterSelected=function(){var t=r.props,o=t.day,u=t.selected,d=t.selectedDates,m=t.selectsMultiple,x=Vr(o);return m?d?.some(function(p){return r.isSelectedQuarter(o,x,p)}):!!u&&r.isSelectedQuarter(o,x,u)},r.renderWeeks=function(){if(!Sa(r.props.day))return[];for(var t=[],o=r.props.fixedHeight,u=0,d=!1,m=Qr(fr(r.props.day),r.props.locale,r.props.calendarStartDay),x=function(M){return r.props.showWeekPicker?Qr(M,r.props.locale,r.props.calendarStartDay):r.props.preSelection},p=function(M){return r.props.showWeekPicker?Qr(M,r.props.locale,r.props.calendarStartDay):r.props.selected},v=r.props.selected?p(r.props.selected):void 0,b=r.props.preSelection?x(r.props.preSelection):void 0;t.push(ae.createElement(Z4,Ye({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:u,day:m,month:Ca(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:v,preSelection:b,showWeekNumber:r.props.showWeekNumbers}))),!d;){u++,m=vu(m,1);var y=o&&u>=J4,S=!o&&!r.isWeekInMonth(m);if(y||S)if(r.props.peekNextMonth)d=!0;else break}return t},r.onMonthClick=function(t,o){var u=r.isMonthDisabledForLabelDate(o),d=u.isDisabled,m=u.labelDate;d||r.handleDayClick(fr(m),t)},r.onMonthMouseEnter=function(t){var o=r.isMonthDisabledForLabelDate(t),u=o.isDisabled,d=o.labelDate;u||r.handleDayMouseEnter(fr(d))},r.handleMonthNavigation=function(t,o){var u,d,m,x;(d=(u=r.props).setPreSelection)===null||d===void 0||d.call(u,o),(x=(m=r.MONTH_REFS[t])===null||m===void 0?void 0:m.current)===null||x===void 0||x.focus()},r.handleKeyboardNavigation=function(t,o,u){var d,m=r.props,x=m.selected,p=m.preSelection,v=m.setPreSelection,b=m.minDate,y=m.maxDate,S=m.showFourColumnMonthYearPicker,M=m.showTwoColumnMonthYearPicker;if(p){var j=Mb(S,M),g=r.getVerticalOffset(j),w=(d=gf[j])===null||d===void 0?void 0:d.grid,D=function(H,O,L){var I,V,A=O,se=L;switch(H){case ge.ArrowRight:A=mn(O,zc),se=L===11?0:L+zc;break;case ge.ArrowLeft:A=As(O,zc),se=L===0?11:L-zc;break;case ge.ArrowUp:A=As(O,g),se=!((I=w?.[0])===null||I===void 0)&&I.includes(L)?L+12-g:L-g;break;case ge.ArrowDown:A=mn(O,g),se=!((V=w?.[w.length-1])===null||V===void 0)&&V.includes(L)?L-12+g:L+g;break}return{newCalculatedDate:A,newCalculatedMonth:se}},k=function(H,O,L){for(var I=40,V=H,A=!1,se=0,oe=D(V,O,L),U=oe.newCalculatedDate,z=oe.newCalculatedMonth;!A;){if(se>=I){U=O,z=L;break}if(b&&U<b){V=ge.ArrowRight;var W=D(V,U,z);U=W.newCalculatedDate,z=W.newCalculatedMonth}if(y&&U>y){V=ge.ArrowLeft;var W=D(V,U,z);U=W.newCalculatedDate,z=W.newCalculatedMonth}if(H4(U,r.props)){var W=D(V,U,z);U=W.newCalculatedDate,z=W.newCalculatedMonth}else A=!0;se++}return{newCalculatedDate:U,newCalculatedMonth:z}};if(o===ge.Enter){r.isMonthDisabled(u)||(r.onMonthClick(t,u),v?.(x));return}var T=k(o,p,u),_=T.newCalculatedDate,B=T.newCalculatedMonth;switch(o){case ge.ArrowRight:case ge.ArrowLeft:case ge.ArrowUp:case ge.ArrowDown:r.handleMonthNavigation(B,_);break}}},r.getVerticalOffset=function(t){var o,u;return(u=(o=gf[t])===null||o===void 0?void 0:o.verticalNavigationOffset)!==null&&u!==void 0?u:0},r.onMonthKeyDown=function(t,o){var u=r.props,d=u.disabledKeyboardNavigation,m=u.handleOnMonthKeyDown,x=t.key;x!==ge.Tab&&t.preventDefault(),d||r.handleKeyboardNavigation(t,x,o),m&&m(t)},r.onQuarterClick=function(t,o){var u=wl(r.props.day,o);Ic(u,r.props)||r.handleDayClick(xb(u),t)},r.onQuarterMouseEnter=function(t){var o=wl(r.props.day,t);Ic(o,r.props)||r.handleDayMouseEnter(xb(o))},r.handleQuarterNavigation=function(t,o){var u,d,m,x;r.isDisabled(o)||r.isExcluded(o)||((d=(u=r.props).setPreSelection)===null||d===void 0||d.call(u,o),(x=(m=r.QUARTER_REFS[t-1])===null||m===void 0?void 0:m.current)===null||x===void 0||x.focus())},r.onQuarterKeyDown=function(t,o){var u,d,m=t.key;if(!r.props.disabledKeyboardNavigation)switch(m){case ge.Enter:r.onQuarterClick(t,o),(d=(u=r.props).setPreSelection)===null||d===void 0||d.call(u,r.props.selected);break;case ge.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(o===4?1:o+1,cp(r.props.preSelection,1));break;case ge.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(o===1?4:o-1,Jy(r.props.preSelection));break}},r.isMonthDisabledForLabelDate=function(t){var o,u=r.props,d=u.day,m=u.disabled,x=u.minDate,p=u.maxDate,v=u.excludeDates,b=u.includeDates,y=La(d,t);return m?{isDisabled:!0,labelDate:La(d,t)}:{isDisabled:(o=(x||p||v||b)&&x1(y,r.props))!==null&&o!==void 0?o:!1,labelDate:y}},r.isMonthDisabled=function(t){var o=r.isMonthDisabledForLabelDate(t).isDisabled;return o},r.getMonthClassNames=function(t){var o=r.props,u=o.day,d=o.startDate,m=o.endDate,x=o.preSelection,p=o.monthClassName,v=p?p(La(u,t)):void 0,b=r.getSelection();return Yt("react-datepicker__month-text","react-datepicker__month-".concat(t),v,{"react-datepicker__month-text--disabled":r.isMonthDisabled(t),"react-datepicker__month-text--selected":b?r.isSelectMonthInList(u,t,b):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&x&&r.isSelectedMonth(u,t,x)&&!r.isMonthSelected()&&!r.isMonthDisabled(t),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(t),"react-datepicker__month-text--in-range":d&&m?Rc(d,m,t,u):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(t),"react-datepicker__month-text--range-end":r.isRangeEndMonth(t),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(t),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(t),"react-datepicker__month-text--today":r.isCurrentMonth(u,t)})},r.getTabIndex=function(t){if(r.props.preSelection==null)return"-1";var o=Ca(r.props.preSelection),u=r.isMonthDisabledForLabelDate(o).isDisabled,d=t===o&&!(u||r.props.disabledKeyboardNavigation)?"0":"-1";return d},r.getQuarterTabIndex=function(t){if(r.props.preSelection==null)return"-1";var o=Vr(r.props.preSelection),u=Ic(r.props.day,r.props),d=t===o&&!(u||r.props.disabledKeyboardNavigation)?"0":"-1";return d},r.getAriaLabel=function(t){var o=r.props,u=o.chooseDayAriaLabelPrefix,d=u===void 0?"Choose":u,m=o.disabledDayAriaLabelPrefix,x=m===void 0?"Not available":m,p=o.day,v=o.locale,b=La(p,t),y=r.isDisabled(b)||r.isExcluded(b)?x:d;return"".concat(y," ").concat(vt(b,"MMMM yyyy",v))},r.getQuarterClassNames=function(t){var o=r.props,u=o.day,d=o.startDate,m=o.endDate,x=o.minDate,p=o.maxDate,v=o.excludeDates,b=o.includeDates,y=o.filterDate,S=o.preSelection,M=o.disabledKeyboardNavigation,j=o.disabled,g=(x||p||v||b||y||j)&&Ic(wl(u,t),r.props),w=r.getSelection();return Yt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(t),{"react-datepicker__quarter-text--disabled":g,"react-datepicker__quarter-text--selected":w?r.isSelectQuarterInList(u,t,w):void 0,"react-datepicker__quarter-text--keyboard-selected":!M&&S&&r.isSelectedQuarter(u,t,S)&&!r.isQuarterSelected()&&!g,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(t),"react-datepicker__quarter-text--in-range":d&&m?Pc(d,m,t,u):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(t),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(t),"react-datepicker__quarter-text--today":r.isCurrentQuarter(u,t)})},r.getMonthContent=function(t){var o=r.props,u=o.showFullMonthYearPicker,d=o.renderMonthContent,m=o.locale,x=o.day,p=p1(t,m),v=yp(t,m);return d?d(t,p,v,x):u?v:p},r.getQuarterContent=function(t){var o,u=r.props,d=u.renderQuarterContent,m=u.locale,x=B4(t,m);return(o=d?.(t,x))!==null&&o!==void 0?o:x},r.renderMonths=function(){var t,o=r.props,u=o.showTwoColumnMonthYearPicker,d=o.showFourColumnMonthYearPicker,m=o.day,x=o.selected,p=(t=gf[Mb(d,u)])===null||t===void 0?void 0:t.grid;return p?.map(function(v,b){return ae.createElement("div",{className:"react-datepicker__month-wrapper",key:b},v.map(function(y,S){return ae.createElement("div",{ref:r.MONTH_REFS[y],key:S,onClick:function(M){r.onMonthClick(M,y)},onKeyDown:function(M){g1(M)&&(M.preventDefault(),M.key=ge.Enter),r.onMonthKeyDown(M,y)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(y)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(y)}:void 0,tabIndex:Number(r.getTabIndex(y)),className:r.getMonthClassNames(y),"aria-disabled":r.isMonthDisabled(y),role:"option","aria-label":r.getAriaLabel(y),"aria-current":r.isCurrentMonth(m,y)?"date":void 0,"aria-selected":x?r.isSelectedMonth(m,y,x):void 0},r.getMonthContent(y))}))})},r.renderQuarters=function(){var t=r.props,o=t.day,u=t.selected,d=[1,2,3,4];return ae.createElement("div",{className:"react-datepicker__quarter-wrapper"},d.map(function(m,x){return ae.createElement("div",{key:x,ref:r.QUARTER_REFS[x],role:"option",onClick:function(p){r.onQuarterClick(p,m)},onKeyDown:function(p){r.onQuarterKeyDown(p,m)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(m)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(m)}:void 0,className:r.getQuarterClassNames(m),"aria-selected":u?r.isSelectedQuarter(o,m,u):void 0,tabIndex:Number(r.getQuarterTabIndex(m)),"aria-current":r.isCurrentQuarter(o,m)?"date":void 0},r.getQuarterContent(m))}))},r.getClassNames=function(){var t=r.props,o=t.selectingDate,u=t.selectsStart,d=t.selectsEnd,m=t.showMonthYearPicker,x=t.showQuarterYearPicker,p=t.showWeekPicker;return Yt("react-datepicker__month",{"react-datepicker__month--selecting-range":o&&(u||d)},{"react-datepicker__monthPicker":m},{"react-datepicker__quarterPicker":x},{"react-datepicker__weekPicker":p})},r}return l.prototype.getSelection=function(){var r=this.props,t=r.selected,o=r.selectedDates,u=r.selectsMultiple;if(u)return o;if(t)return[t]},l.prototype.render=function(){var r=this.props,t=r.showMonthYearPicker,o=r.showQuarterYearPicker,u=r.day,d=r.ariaLabelPrefix,m=d===void 0?"Month ":d,x=m?m.trim()+" ":"",p=Sa(u)?"".concat(x).concat(vt(u,"MMMM, yyyy",this.props.locale)):"",v=t||o;return v?ae.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":p,role:"listbox"},t?this.renderMonths():this.renderQuarters()):ae.createElement("div",{role:"table"},this.props.dayNamesHeader&&ae.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),this.props.monthHeader&&ae.createElement("div",{role:"rowgroup"},this.props.monthHeader),ae.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":p,role:"rowgroup"},this.renderWeeks()),this.props.monthFooter&&ae.createElement("div",{role:"rowgroup"},this.props.monthFooter))},l})(N.Component),t3=(function(s){ea(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.monthOptionButtonsRef={},r.isSelectedMonth=function(t){return r.props.month===t},r.handleOptionKeyDown=function(t,o){var u;switch(o.key){case"Enter":o.preventDefault(),r.onChange(t);break;case"Escape":o.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{o.preventDefault();var d=(t+(o.key==="ArrowUp"?-1:1)+r.props.monthNames.length)%r.props.monthNames.length;(u=r.monthOptionButtonsRef[d])===null||u===void 0||u.focus();break}}},r.renderOptions=function(){return r.monthOptionButtonsRef={},r.props.monthNames.map(function(t,o){return ae.createElement("div",{ref:function(u){r.monthOptionButtonsRef[o]=u,r.isSelectedMonth(o)&&u?.focus()},role:"button",tabIndex:0,className:r.isSelectedMonth(o)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:t,onClick:r.onChange.bind(r,o),onKeyDown:r.handleOptionKeyDown.bind(r,o),"aria-selected":r.isSelectedMonth(o)?"true":void 0},r.isSelectedMonth(o)?ae.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",t)})},r.onChange=function(t){return r.props.onChange(t)},r.handleClickOutside=function(){return r.props.onCancel()},r}return l.prototype.render=function(){return ae.createElement(qu,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},l})(N.Component),a3=(function(s){ea(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(t){return t.map(function(o,u){return ae.createElement("option",{key:o,value:u},o)})},r.renderSelectMode=function(t){return ae.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(o){return r.onChange(parseInt(o.target.value))}},r.renderSelectOptions(t))},r.renderReadView=function(t,o){return ae.createElement("button",{key:"read",type:"button",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},ae.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ae.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},o[r.props.month]))},r.renderDropdown=function(t){return ae.createElement(t3,Ye({key:"dropdown"},r.props,{monthNames:t,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(t){var o=r.state.dropdownVisible,u=[r.renderReadView(!o,t)];return o&&u.unshift(r.renderDropdown(t)),u},r.onChange=function(t){r.toggleDropdown(),t!==r.props.month&&r.props.onChange(t)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return l.prototype.render=function(){var r=this,t=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(u){return p1(u,r.props.locale)}:function(u){return yp(u,r.props.locale)}),o;switch(this.props.dropdownMode){case"scroll":o=this.renderScrollMode(t);break;case"select":o=this.renderSelectMode(t);break}return ae.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},o)},l})(N.Component),Ab=5;function n3(s,l,r){for(var t=[],o=s??Kr(r,Ab),u=l??un(r,Ab),d=fr(o),m=fr(u);!mr(d,m);)t.push(Ze(d)),d=mn(d,1);return t}var r3=(function(s){ea(l,s);function l(r){var t=s.call(this,r)||this;return t.renderOptions=function(){return t.state.monthYearsList.map(function(o){var u=Pf(o),d=kn(t.props.date,o)&&ua(t.props.date,o);return ae.createElement("div",{className:d?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:u,onClick:t.onChange.bind(t,u),"aria-selected":d?"true":void 0},d?ae.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",vt(o,t.props.dateFormat,t.props.locale))})},t.onChange=function(o){return t.props.onChange(o)},t.handleClickOutside=function(){t.props.onCancel()},t.state={monthYearsList:n3(t.props.minDate,t.props.maxDate,t.props.date)},t}return l.prototype.render=function(){var r=Yt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ae.createElement(qu,{className:r,onClickOutside:this.handleClickOutside},this.renderOptions())},l})(N.Component),Tb=5,s3=(function(s){ea(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var t,o,u=(t=r.props.minDate)!==null&&t!==void 0?t:Kr(r.props.date,Tb),d=(o=r.props.maxDate)!==null&&o!==void 0?o:un(r.props.date,Tb),m=fr(u),x=fr(d),p=[];!mr(m,x);){var v=Pf(m);p.push(ae.createElement("option",{key:v,value:v},vt(m,r.props.dateFormat,r.props.locale))),m=mn(m,1)}return p},r.onSelectChange=function(t){r.onChange(parseInt(t.target.value))},r.renderSelectMode=function(){return ae.createElement("select",{value:Pf(fr(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(t){var o=vt(r.props.date,r.props.dateFormat,r.props.locale);return ae.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},ae.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ae.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},o))},r.renderDropdown=function(){return ae.createElement(r3,Ye({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var t=r.state.dropdownVisible,o=[r.renderReadView(!t)];return t&&o.unshift(r.renderDropdown()),o},r.onChange=function(t){r.toggleDropdown();var o=Ze(t);kn(r.props.date,o)&&ua(r.props.date,o)||r.props.onChange(o)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return l.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return ae.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)},l})(N.Component),l3=(function(s){ea(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.state={height:null},r.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var t,o,u;r.list&&(r.list.scrollTop=(u=r.centerLi&&l.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-((o=(t=r.header)===null||t===void 0?void 0:t.clientHeight)!==null&&o!==void 0?o:0):r.list.clientHeight,r.centerLi))!==null&&u!==void 0?u:0)})},r.handleClick=function(t){var o,u;(r.props.minTime||r.props.maxTime)&&yb(t,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&gb(t,r.props)||(u=(o=r.props).onChange)===null||u===void 0||u.call(o,t)},r.isSelectedTime=function(t){var o=Ds(r.props.selected);return o&&b1(o,t)},r.isDisabledTime=function(t){return(r.props.minTime||r.props.maxTime)&&yb(t,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&gb(t,r.props)},r.liClasses=function(t){var o,u=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(t):void 0];return r.isSelectedTime(t)&&u.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(t)&&u.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(sa(t)*3600+la(t)*60+Gr(t))%(((o=r.props.intervals)!==null&&o!==void 0?o:l.defaultProps.intervals)*60)!==0&&u.push("react-datepicker__time-list-item--injected"),u.join(" ")},r.handleOnKeyDown=function(t,o){var u,d;t.key===ge.Space&&(t.preventDefault(),t.key=ge.Enter),(t.key===ge.ArrowUp||t.key===ge.ArrowLeft)&&t.target instanceof HTMLElement&&t.target.previousSibling&&(t.preventDefault(),t.target.previousSibling instanceof HTMLElement&&t.target.previousSibling.focus()),(t.key===ge.ArrowDown||t.key===ge.ArrowRight)&&t.target instanceof HTMLElement&&t.target.nextSibling&&(t.preventDefault(),t.target.nextSibling instanceof HTMLElement&&t.target.nextSibling.focus()),t.key===ge.Enter&&r.handleClick(o),(d=(u=r.props).handleOnKeyDown)===null||d===void 0||d.call(u,t)},r.renderTimes=function(){for(var t,o=[],u=typeof r.props.format=="string"?r.props.format:"p",d=(t=r.props.intervals)!==null&&t!==void 0?t:l.defaultProps.intervals,m=Ds(r.props.selected)||Ds(r.props.openToDate)||Ze(),x=Qi(m),p=r.props.injectTimes&&r.props.injectTimes.sort(function(g,w){return g.getTime()-w.getTime()}),v=60*K4(m),b=v/d,y=0;y<b;y++){var S=to(x,y*d);if(o.push(S),p){var M=Q4(x,S,y,d,p);o=o.concat(M)}}var j=o.reduce(function(g,w){return w.getTime()<=m.getTime()?w:g},o[0]);return o.map(function(g){return ae.createElement("li",{key:g.valueOf(),onClick:r.handleClick.bind(r,g),className:r.liClasses(g),ref:function(w){g===j&&(r.centerLi=w)},onKeyDown:function(w){r.handleOnKeyDown(w,g)},tabIndex:g===j?0:-1,role:"option","aria-selected":r.isSelectedTime(g)?"true":void 0,"aria-disabled":r.isDisabledTime(g)?"true":void 0},vt(g,u,r.props.locale))})},r.renderTimeCaption=function(){return r.props.showTimeCaption===!1?ae.createElement(ae.Fragment,null):ae.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(r.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(t){r.header=t}},ae.createElement("div",{className:"react-datepicker-time__header"},r.props.timeCaption))},r}return Object.defineProperty(l,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),l.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},l.prototype.componentWillUnmount=function(){var r;(r=this.resizeObserver)===null||r===void 0||r.disconnect()},l.prototype.observeDatePickerHeightChanges=function(){var r=this,t=this.props.monthRef;this.updateContainerHeight(),t&&(this.resizeObserver=new ResizeObserver(function(){r.updateContainerHeight()}),this.resizeObserver.observe(t))},l.prototype.updateContainerHeight=function(){if(this.props.monthRef&&this.header){var r=this.props.monthRef.clientHeight-this.header.clientHeight;this.state.height!==r&&this.setState({height:r})}},l.prototype.render=function(){var r=this,t,o=this.state.height;return ae.createElement("div",{className:"react-datepicker__time-container ".concat(((t=this.props.todayButton)!==null&&t!==void 0?t:l.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ae.createElement("div",{className:"react-datepicker__time"},ae.createElement("div",{className:"react-datepicker__time-box"},ae.createElement("ul",{className:"react-datepicker__time-list",ref:function(u){r.list=u},style:o?{height:o}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},l.calcCenterPosition=function(r,t){return t.offsetTop-(r/2-t.clientHeight/2)},l})(N.Component),Eb=3,i3=(function(s){ea(l,s);function l(r){var t=s.call(this,r)||this;return t.YEAR_REFS=Tn([],Array(t.props.yearItemNumber),!0).map(function(){return N.createRef()}),t.isDisabled=function(o){return Za(o,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(o){return Np(o,{excludeDates:t.props.excludeDates})},t.selectingDate=function(){var o;return(o=t.props.selectingDate)!==null&&o!==void 0?o:t.props.preSelection},t.updateFocusOnPaginate=function(o){var u=function(){var d,m;(m=(d=t.YEAR_REFS[o])===null||d===void 0?void 0:d.current)===null||m===void 0||m.focus()};window.requestAnimationFrame(u)},t.handleYearClick=function(o,u){t.props.onDayClick&&t.props.onDayClick(o,u)},t.handleYearNavigation=function(o,u){var d,m,x,p,v=t.props,b=v.date,y=v.yearItemNumber;if(!(b===void 0||y===void 0)){var S=cr(b,y).startPeriod;t.isDisabled(u)||t.isExcluded(u)||((m=(d=t.props).setPreSelection)===null||m===void 0||m.call(d,u),o-S<0?t.updateFocusOnPaginate(y-(S-o)):o-S>=y?t.updateFocusOnPaginate(Math.abs(y-(o-S))):(p=(x=t.YEAR_REFS[o-S])===null||x===void 0?void 0:x.current)===null||p===void 0||p.focus())}},t.isSameDay=function(o,u){return Ke(o,u)},t.isCurrentYear=function(o){return o===$e(Ze())},t.isRangeStart=function(o){return t.props.startDate&&t.props.endDate&&kn(Cn(Ze(),o),t.props.startDate)},t.isRangeEnd=function(o){return t.props.startDate&&t.props.endDate&&kn(Cn(Ze(),o),t.props.endDate)},t.isInRange=function(o){return Lc(o,t.props.startDate,t.props.endDate)},t.isInSelectingRange=function(o){var u=t.props,d=u.selectsStart,m=u.selectsEnd,x=u.selectsRange,p=u.startDate,v=u.endDate;return!(d||m||x)||!t.selectingDate()?!1:d&&v?Lc(o,t.selectingDate(),v):m&&p||x&&p&&!v?Lc(o,p,t.selectingDate()):!1},t.isSelectingRangeStart=function(o){var u;if(!t.isInSelectingRange(o))return!1;var d=t.props,m=d.startDate,x=d.selectsStart,p=Cn(Ze(),o);return x?kn(p,(u=t.selectingDate())!==null&&u!==void 0?u:null):kn(p,m??null)},t.isSelectingRangeEnd=function(o){var u;if(!t.isInSelectingRange(o))return!1;var d=t.props,m=d.endDate,x=d.selectsEnd,p=d.selectsRange,v=Cn(Ze(),o);return x||p?kn(v,(u=t.selectingDate())!==null&&u!==void 0?u:null):kn(v,m??null)},t.isKeyboardSelected=function(o){if(!(t.props.disabledKeyboardNavigation||t.props.date===void 0||t.props.preSelection==null)){var u=t.props,d=u.minDate,m=u.maxDate,x=u.excludeDates,p=u.includeDates,v=u.filterDate,b=u.selected,y=Ki(Cn(t.props.date,o)),S=(d||m||x||p||v)&&iu(o,t.props),M=!!b&&Ke(y,Ki(b)),j=Ke(y,Ki(t.props.preSelection));return!t.props.inline&&!M&&j&&!S}},t.isSelectedYear=function(o){var u=t.props,d=u.selectsMultiple,m=u.selected,x=u.selectedDates;return d?x?.some(function(p){return o===$e(p)}):!!m&&o===$e(m)},t.onYearClick=function(o,u){var d=t.props.date;d!==void 0&&t.handleYearClick(Ki(Cn(d,u)),o)},t.onYearKeyDown=function(o,u){var d,m,x=o.key,p=t.props,v=p.date,b=p.yearItemNumber,y=p.handleOnKeyDown;if(x!==ge.Tab&&o.preventDefault(),!t.props.disabledKeyboardNavigation)switch(x){case ge.Enter:if(t.props.selected==null)break;t.onYearClick(o,u),(m=(d=t.props).setPreSelection)===null||m===void 0||m.call(d,t.props.selected);break;case ge.ArrowRight:if(t.props.preSelection==null)break;t.handleYearNavigation(u+1,un(t.props.preSelection,1));break;case ge.ArrowLeft:if(t.props.preSelection==null)break;t.handleYearNavigation(u-1,Kr(t.props.preSelection,1));break;case ge.ArrowUp:{if(v===void 0||b===void 0||t.props.preSelection==null)break;var S=cr(v,b).startPeriod,M=Eb,j=u-M;if(j<S){var g=b%M;u>=S&&u<S+g?M=g:M+=g,j=u-M}t.handleYearNavigation(j,Kr(t.props.preSelection,M));break}case ge.ArrowDown:{if(v===void 0||b===void 0||t.props.preSelection==null)break;var w=cr(v,b).endPeriod,M=Eb,j=u+M;if(j>w){var g=b%M;u<=w&&u>w-g?M=g:M+=g,j=u+M}t.handleYearNavigation(j,un(t.props.preSelection,M));break}}y&&y(o)},t.getYearClassNames=function(o){var u=t.props,d=u.date,m=u.disabled,x=u.minDate,p=u.maxDate,v=u.excludeDates,b=u.includeDates,y=u.filterDate,S=u.yearClassName;return Yt("react-datepicker__year-text","react-datepicker__year-".concat(o),d?S?.(Cn(d,o)):void 0,{"react-datepicker__year-text--selected":t.isSelectedYear(o),"react-datepicker__year-text--disabled":(x||p||v||b||y||m)&&iu(o,t.props),"react-datepicker__year-text--keyboard-selected":t.isKeyboardSelected(o),"react-datepicker__year-text--range-start":t.isRangeStart(o),"react-datepicker__year-text--range-end":t.isRangeEnd(o),"react-datepicker__year-text--in-range":t.isInRange(o),"react-datepicker__year-text--in-selecting-range":t.isInSelectingRange(o),"react-datepicker__year-text--selecting-range-start":t.isSelectingRangeStart(o),"react-datepicker__year-text--selecting-range-end":t.isSelectingRangeEnd(o),"react-datepicker__year-text--today":t.isCurrentYear(o)})},t.getYearTabIndex=function(o){if(t.props.disabledKeyboardNavigation||t.props.preSelection==null)return"-1";var u=$e(t.props.preSelection),d=iu(o,t.props);return o===u&&!d?"0":"-1"},t.getYearContent=function(o){return t.props.renderYearContent?t.props.renderYearContent(o):o},t}return l.prototype.render=function(){var r=this,t=[],o=this.props,u=o.date,d=o.yearItemNumber,m=o.onYearMouseEnter,x=o.onYearMouseLeave;if(u===void 0)return null;for(var p=cr(u,d),v=p.startPeriod,b=p.endPeriod,y=function(j){t.push(ae.createElement("div",{ref:S.YEAR_REFS[j-v],onClick:function(g){r.onYearClick(g,j)},onKeyDown:function(g){g1(g)&&(g.preventDefault(),g.key=ge.Enter),r.onYearKeyDown(g,j)},tabIndex:Number(S.getYearTabIndex(j)),className:S.getYearClassNames(j),onMouseEnter:S.props.usePointerEvent?void 0:function(g){return m(g,j)},onPointerEnter:S.props.usePointerEvent?function(g){return m(g,j)}:void 0,onMouseLeave:S.props.usePointerEvent?void 0:function(g){return x(g,j)},onPointerLeave:S.props.usePointerEvent?function(g){return x(g,j)}:void 0,key:j,"aria-current":S.isCurrentYear(j)?"date":void 0},S.getYearContent(j)))},S=this,M=v;M<=b;M++)y(M);return ae.createElement("div",{className:"react-datepicker__year"},ae.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},t))},l})(N.Component);function o3(s,l,r,t){for(var o=[],u=0;u<2*l+1;u++){var d=s+l-u,m=!0;r&&(m=$e(r)<=d),t&&m&&(m=$e(t)>=d),m&&o.push(d)}return o}var c3=(function(s){ea(l,s);function l(r){var t=s.call(this,r)||this;t.yearOptionButtonsRef={},t.handleOptionKeyDown=function(m,x){var p;switch(x.key){case"Enter":x.preventDefault(),t.onChange(m);break;case"Escape":x.preventDefault(),t.props.onCancel();break;case"ArrowUp":case"ArrowDown":{x.preventDefault();var v=m+(x.key==="ArrowUp"?1:-1);t.yearOptionButtonsRef[v]&&((p=t.yearOptionButtonsRef[v])===null||p===void 0||p.focus());break}}},t.renderOptions=function(){t.yearOptionButtonsRef={};var m=t.props.year,x=t.state.yearsList.map(function(b){return ae.createElement("div",{ref:function(y){t.yearOptionButtonsRef[b]=y,b===m&&y?.focus()},role:"button",tabIndex:0,className:m===b?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:b,onClick:t.onChange.bind(t,b),onKeyDown:t.handleOptionKeyDown.bind(t,b),"aria-selected":m===b?"true":void 0},m===b?ae.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",b)}),p=t.props.minDate?$e(t.props.minDate):null,v=t.props.maxDate?$e(t.props.maxDate):null;return(!v||!t.state.yearsList.find(function(b){return b===v}))&&x.unshift(ae.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:t.incrementYears},ae.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!p||!t.state.yearsList.find(function(b){return b===p}))&&x.push(ae.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:t.decrementYears},ae.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),x},t.onChange=function(m){t.props.onChange(m)},t.handleClickOutside=function(){t.props.onCancel()},t.shiftYears=function(m){var x=t.state.yearsList.map(function(p){return p+m});t.setState({yearsList:x})},t.incrementYears=function(){return t.shiftYears(1)},t.decrementYears=function(){return t.shiftYears(-1)};var o=r.yearDropdownItemNumber,u=r.scrollableYearDropdown,d=o||(u?10:5);return t.state={yearsList:o3(t.props.year,d,t.props.minDate,t.props.maxDate)},t.dropdownRef=N.createRef(),t}return l.prototype.componentDidMount=function(){var r=this.dropdownRef.current;if(r){var t=r.children?Array.from(r.children):null,o=t?t.find(function(u){return u.ariaSelected}):null;r.scrollTop=o&&o instanceof HTMLElement?o.offsetTop+(o.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}},l.prototype.render=function(){var r=Yt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ae.createElement(qu,{className:r,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},l})(N.Component),u3=(function(s){ea(l,s);function l(){var r=s!==null&&s.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var t=r.props.minDate?$e(r.props.minDate):1900,o=r.props.maxDate?$e(r.props.maxDate):2100,u=[],d=t;d<=o;d++)u.push(ae.createElement("option",{key:d,value:d},d));return u},r.onSelectChange=function(t){r.onChange(parseInt(t.target.value))},r.renderSelectMode=function(){return ae.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(t){return ae.createElement("button",{key:"read",type:"button",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:r.toggleDropdown},ae.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ae.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return ae.createElement(c3,Ye({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var t=r.state.dropdownVisible,o=[r.renderReadView(!t)];return t&&o.unshift(r.renderDropdown()),o},r.onChange=function(t){r.toggleDropdown(),t!==r.props.year&&r.props.onChange(t)},r.toggleDropdown=function(t){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,t)})},r.handleYearChange=function(t,o){var u;(u=r.onSelect)===null||u===void 0||u.call(r,t,o),r.setOpen()},r.onSelect=function(t,o){var u,d;(d=(u=r.props).onSelect)===null||d===void 0||d.call(u,t,o)},r.setOpen=function(){var t,o;(o=(t=r.props).setOpen)===null||o===void 0||o.call(t,!0)},r}return l.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return ae.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)},l})(N.Component),d3=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],y1="react-datepicker-ignore-onclickoutside",m3=function(s){var l=(s.className||"").split(/\s+/);return d3.some(function(r){return l.indexOf(r)>=0})},f3=(function(s){ea(l,s);function l(r){var t=s.call(this,r)||this;return t.monthContainer=void 0,t.handleClickOutside=function(o){t.props.onClickOutside(o)},t.setClickOutsideRef=function(){return t.containerRef.current},t.handleDropdownFocus=function(o){var u,d;m3(o.target)&&((d=(u=t.props).onDropdownFocus)===null||d===void 0||d.call(u,o))},t.getDateInView=function(){var o=t.props,u=o.preSelection,d=o.selected,m=o.openToDate,x=h1(t.props),p=v1(t.props),v=Ze(),b=m||d||u;return b||(x&&An(v,x)?x:p&&mr(v,p)?p:v)},t.increaseMonth=function(){t.setState(function(o){var u=o.date;return{date:mn(u,1)}},function(){return t.handleMonthChange(t.state.date)})},t.decreaseMonth=function(){t.setState(function(o){var u=o.date;return{date:As(u,1)}},function(){return t.handleMonthChange(t.state.date)})},t.handleDayClick=function(o,u,d){t.props.onSelect(o,u,d),t.props.setPreSelection&&t.props.setPreSelection(o)},t.handleDayMouseEnter=function(o){t.setState({selectingDate:o}),t.props.onDayMouseEnter&&t.props.onDayMouseEnter(o)},t.handleMonthMouseLeave=function(){t.setState({selectingDate:void 0}),t.props.onMonthMouseLeave&&t.props.onMonthMouseLeave()},t.handleYearMouseEnter=function(o,u){t.setState({selectingDate:Cn(Ze(),u)}),t.props.onYearMouseEnter&&t.props.onYearMouseEnter(o,u)},t.handleYearMouseLeave=function(o,u){t.props.onYearMouseLeave&&t.props.onYearMouseLeave(o,u)},t.handleYearChange=function(o){var u,d,m,x;(d=(u=t.props).onYearChange)===null||d===void 0||d.call(u,o),t.setState({isRenderAriaLiveMessage:!0}),t.props.adjustDateOnChange&&(t.props.onSelect(o),(x=(m=t.props).setOpen)===null||x===void 0||x.call(m,!0)),t.props.setPreSelection&&t.props.setPreSelection(o)},t.getEnabledPreSelectionDateForMonth=function(o){if(!Za(o,t.props))return o;for(var u=fr(o),d=L4(o),m=VC(d,u),x=null,p=0;p<=m;p++){var v=cn(u,p);if(!Za(v,t.props)){x=v;break}}return x},t.handleMonthChange=function(o){var u,d,m,x=(u=t.getEnabledPreSelectionDateForMonth(o))!==null&&u!==void 0?u:o;t.handleCustomMonthChange(x),t.props.adjustDateOnChange&&(t.props.onSelect(x),(m=(d=t.props).setOpen)===null||m===void 0||m.call(d,!0)),t.props.setPreSelection&&t.props.setPreSelection(x)},t.handleCustomMonthChange=function(o){var u,d;(d=(u=t.props).onMonthChange)===null||d===void 0||d.call(u,o),t.setState({isRenderAriaLiveMessage:!0})},t.handleMonthYearChange=function(o){t.handleYearChange(o),t.handleMonthChange(o)},t.changeYear=function(o){t.setState(function(u){var d=u.date;return{date:Cn(d,Number(o))}},function(){return t.handleYearChange(t.state.date)})},t.changeMonth=function(o){t.setState(function(u){var d=u.date;return{date:La(d,Number(o))}},function(){var u,d;t.handleMonthChange(t.state.date),(d=(u=t.props).onMonthSelectedInChange)===null||d===void 0||d.call(u,0)})},t.changeMonthYear=function(o){t.setState(function(u){var d=u.date;return{date:Cn(La(d,Ca(o)),$e(o))}},function(){return t.handleMonthYearChange(t.state.date)})},t.header=function(o,u){if(o===void 0&&(o=t.state.date),u===void 0&&(u=0),!Sa(o))return[];var d=t.props.disabled,m=Qr(o,t.props.locale,t.props.calendarStartDay),x=[];return t.props.showWeekNumbers&&x.push(ae.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(d?"react-datepicker__day-name--disabled":""),role:"columnheader"},ae.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),ae.createElement("span",{"aria-hidden":"true"},t.props.weekLabel||"#"))),x.concat([0,1,2,3,4,5,6].map(function(p){var v=cn(m,p),b=t.formatWeekday(v,t.props.locale),y=vt(v,"EEEE",t.props.locale),S=t.props.weekDayClassName?t.props.weekDayClassName(v):void 0;if(t.props.renderCustomDayName){var M=t.props.renderCustomDayName({day:v,shortName:b,fullName:y,locale:t.props.locale,customDayNameCount:u});return ae.createElement("div",{key:p,role:"columnheader",className:Yt("react-datepicker__day-name",S,d?"react-datepicker__day-name--disabled":"")},M)}return ae.createElement("div",{key:p,role:"columnheader",className:Yt("react-datepicker__day-name",S,d?"react-datepicker__day-name--disabled":"")},ae.createElement("span",{className:"react-datepicker__sr-only"},y),ae.createElement("span",{"aria-hidden":"true"},b))}))},t.formatWeekday=function(o,u){return t.props.formatWeekDay?P4(o,t.props.formatWeekDay,u):t.props.useWeekdaysShort?F4(o,u):z4(o,u)},t.decreaseYear=function(){t.setState(function(o){var u,d=o.date;return{date:Kr(d,t.props.showYearPicker?(u=t.props.yearItemNumber)!==null&&u!==void 0?u:l.defaultProps.yearItemNumber:1)}},function(){return t.handleYearChange(t.state.date)})},t.clearSelectingDate=function(){t.setState({selectingDate:void 0})},t.renderPreviousButton=function(){var o,u,d;if(!t.props.renderCustomHeader){var m=(o=t.props.monthsShown)!==null&&o!==void 0?o:l.defaultProps.monthsShown,x=t.props.showPreviousMonths?m-1:0,p=(u=t.props.monthSelectedIn)!==null&&u!==void 0?u:x,v=As(t.state.date,p),b;switch(!0){case t.props.disabled:b=!0;break;case t.props.showMonthYearPicker:b=wb(t.state.date,t.props);break;case t.props.showYearPicker:b=q4(t.state.date,t.props);break;case t.props.showQuarterYearPicker:b=Y4(t.state.date,t.props);break;default:b=Nb(v,t.props);break}if(!(!((d=t.props.forceShowMonthNavigation)!==null&&d!==void 0?d:l.defaultProps.forceShowMonthNavigation)&&!t.props.showDisabledMonthNavigation&&b||t.props.showTimeSelectOnly)){var y=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],S=["react-datepicker__navigation","react-datepicker__navigation--previous"],M=t.decreaseMonth;(t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker)&&(M=t.decreaseYear),b&&t.props.showDisabledMonthNavigation&&(S.push("react-datepicker__navigation--previous--disabled"),M=void 0);var j=t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker,g=t.props,w=g.previousMonthButtonLabel,D=w===void 0?l.defaultProps.previousMonthButtonLabel:w,k=g.previousYearButtonLabel,T=k===void 0?l.defaultProps.previousYearButtonLabel:k,_=t.props,B=_.previousMonthAriaLabel,H=B===void 0?typeof D=="string"?D:"Previous Month":B,O=_.previousYearAriaLabel,L=O===void 0?typeof T=="string"?T:"Previous Year":O;return ae.createElement("button",{type:"button",className:S.join(" "),onClick:M,onKeyDown:t.props.handleOnKeyDown,"aria-label":j?L:H},ae.createElement("span",{className:y.join(" ")},j?T:D))}}},t.increaseYear=function(){t.setState(function(o){var u,d=o.date;return{date:un(d,t.props.showYearPicker?(u=t.props.yearItemNumber)!==null&&u!==void 0?u:l.defaultProps.yearItemNumber:1)}},function(){return t.handleYearChange(t.state.date)})},t.renderNextButton=function(){var o;if(!t.props.renderCustomHeader){var u;switch(!0){case t.props.disabled:u=!0;break;case t.props.showMonthYearPicker:u=Sb(t.state.date,t.props);break;case t.props.showYearPicker:u=$4(t.state.date,t.props);break;case t.props.showQuarterYearPicker:u=U4(t.state.date,t.props);break;default:u=jb(t.state.date,t.props);break}if(!(!((o=t.props.forceShowMonthNavigation)!==null&&o!==void 0?o:l.defaultProps.forceShowMonthNavigation)&&!t.props.showDisabledMonthNavigation&&u||t.props.showTimeSelectOnly)){var d=["react-datepicker__navigation","react-datepicker__navigation--next"],m=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];t.props.showTimeSelect&&d.push("react-datepicker__navigation--next--with-time"),t.props.todayButton&&d.push("react-datepicker__navigation--next--with-today-button");var x=t.increaseMonth;(t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker)&&(x=t.increaseYear),u&&t.props.showDisabledMonthNavigation&&(d.push("react-datepicker__navigation--next--disabled"),x=void 0);var p=t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker,v=t.props,b=v.nextMonthButtonLabel,y=b===void 0?l.defaultProps.nextMonthButtonLabel:b,S=v.nextYearButtonLabel,M=S===void 0?l.defaultProps.nextYearButtonLabel:S,j=t.props,g=j.nextMonthAriaLabel,w=g===void 0?typeof y=="string"?y:"Next Month":g,D=j.nextYearAriaLabel,k=D===void 0?typeof M=="string"?M:"Next Year":D;return ae.createElement("button",{type:"button",className:d.join(" "),onClick:x,onKeyDown:t.props.handleOnKeyDown,"aria-label":p?k:w},ae.createElement("span",{className:m.join(" ")},p?M:y))}}},t.renderCurrentMonth=function(o){o===void 0&&(o=t.state.date);var u=["react-datepicker__current-month"];return t.props.showYearDropdown&&u.push("react-datepicker__current-month--hasYearDropdown"),t.props.showMonthDropdown&&u.push("react-datepicker__current-month--hasMonthDropdown"),t.props.showMonthYearDropdown&&u.push("react-datepicker__current-month--hasMonthYearDropdown"),ae.createElement("h2",{className:u.join(" ")},Sa(o)?vt(o,t.props.dateFormat,t.props.locale):"")},t.renderYearDropdown=function(o){if(o===void 0&&(o=!1),!(!t.props.showYearDropdown||o))return ae.createElement(u3,Ye({},l.defaultProps,t.props,{date:t.state.date,onChange:t.changeYear,year:$e(t.state.date)}))},t.renderMonthDropdown=function(o){if(o===void 0&&(o=!1),!(!t.props.showMonthDropdown||o))return ae.createElement(a3,Ye({},l.defaultProps,t.props,{month:Ca(t.state.date),onChange:t.changeMonth}))},t.renderMonthYearDropdown=function(o){if(o===void 0&&(o=!1),!(!t.props.showMonthYearDropdown||o))return ae.createElement(s3,Ye({},l.defaultProps,t.props,{date:t.state.date,onChange:t.changeMonthYear}))},t.handleTodayButtonClick=function(o){t.props.onSelect(hb(),o),t.props.setPreSelection&&t.props.setPreSelection(hb())},t.renderTodayButton=function(){if(!(!t.props.todayButton||t.props.showTimeSelectOnly))return ae.createElement("div",{className:"react-datepicker__today-button",onClick:t.handleTodayButtonClick},t.props.todayButton)},t.renderDayNamesHeader=function(o,u){return u===void 0&&(u=0),ae.createElement("div",{className:"react-datepicker__day-names",role:"row"},t.header(o,u))},t.renderDefaultHeader=function(o){var u=o.monthDate,d=o.i,m=ae.createElement("div",{className:Yt("react-datepicker__header",{"react-datepicker__header--has-time-select":t.props.showTimeSelect,"react-datepicker__header--middle":t.props.monthHeaderPosition==="middle","react-datepicker__header--bottom":t.props.monthHeaderPosition==="bottom"})},t.renderCurrentMonth(u),ae.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(t.props.dropdownMode),onFocus:t.handleDropdownFocus},t.renderMonthDropdown(d!==0),t.renderMonthYearDropdown(d!==0),t.renderYearDropdown(d!==0)));return t.props.monthHeaderPosition==="top"?m:ae.createElement("div",{className:"react-datepicker__header-wrapper"},t.renderPreviousButton()||null,t.renderNextButton()||null,m)},t.renderCustomHeader=function(o){var u,d,m=o.monthDate,x=o.i;if(t.props.showTimeSelect&&!t.state.monthContainer||t.props.showTimeSelectOnly)return null;var p=t.props,v=p.showYearPicker,b=p.yearItemNumber,y;if(v){var S=cr(m,b),M=S.startPeriod,j=S.endPeriod;y={startYear:M,endYear:j}}var g=Nb(t.state.date,t.props),w=jb(t.state.date,t.props),D=wb(t.state.date,t.props),k=Sb(t.state.date,t.props);return ae.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:t.props.onDropdownFocus},(d=(u=t.props).renderCustomHeader)===null||d===void 0?void 0:d.call(u,Ye(Ye(Ye({},t.state),v&&{visibleYearsRange:y}),{customHeaderCount:x,monthDate:m,changeMonth:t.changeMonth,changeYear:t.changeYear,decreaseMonth:t.decreaseMonth,increaseMonth:t.increaseMonth,decreaseYear:t.decreaseYear,increaseYear:t.increaseYear,prevMonthButtonDisabled:g,nextMonthButtonDisabled:w,prevYearButtonDisabled:D,nextYearButtonDisabled:k})))},t.renderYearHeader=function(o){var u=o.monthDate,d=t.props,m=d.showYearPicker,x=d.yearItemNumber,p=x===void 0?l.defaultProps.yearItemNumber:x,v=cr(u,p),b=v.startPeriod,y=v.endPeriod;return ae.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},m?"".concat(b," - ").concat(y):$e(u))},t.renderHeader=function(o){var u=o.monthDate,d=o.i,m=d===void 0?0:d,x={monthDate:u,i:m};switch(!0){case t.props.renderCustomHeader!==void 0:return t.renderCustomHeader(x);case(t.props.showMonthYearPicker||t.props.showQuarterYearPicker||t.props.showYearPicker):return t.renderYearHeader(x);default:return t.renderDefaultHeader(x)}},t.renderMonths=function(){var o,u;if(!(t.props.showTimeSelectOnly||t.props.showYearPicker)){for(var d=[],m=(o=t.props.monthsShown)!==null&&o!==void 0?o:l.defaultProps.monthsShown,x=t.props.showPreviousMonths?m-1:0,p=t.props.showMonthYearPicker||t.props.showQuarterYearPicker?un(t.state.date,x):As(t.state.date,x),v=(u=t.props.monthSelectedIn)!==null&&u!==void 0?u:x,b=0;b<m;++b){var y=b-v+x,S=t.props.showMonthYearPicker||t.props.showQuarterYearPicker?un(p,y):mn(p,y),M="month-".concat(b),j=b<m-1,g=b>0;d.push(ae.createElement("div",{key:M,ref:function(w){t.monthContainer=w??void 0},className:"react-datepicker__month-container"},t.props.monthHeaderPosition==="top"&&t.renderHeader({monthDate:S,i:b}),ae.createElement(e3,Ye({},l.defaultProps,t.props,{containerRef:t.containerRef,ariaLabelPrefix:t.props.monthAriaLabelPrefix,day:S,onDayClick:t.handleDayClick,handleOnKeyDown:t.props.handleOnDayKeyDown,handleOnMonthKeyDown:t.props.handleOnKeyDown,onDayMouseEnter:t.handleDayMouseEnter,onMouseLeave:t.handleMonthMouseLeave,orderInDisplay:b,selectingDate:t.state.selectingDate,monthShowsDuplicateDaysEnd:j,monthShowsDuplicateDaysStart:g,dayNamesHeader:t.renderDayNamesHeader(S,b),monthHeader:t.props.monthHeaderPosition==="middle"?t.renderHeader({monthDate:S,i:b}):void 0,monthFooter:t.props.monthHeaderPosition==="bottom"?t.renderHeader({monthDate:S,i:b}):void 0}))))}return d}},t.renderYears=function(){if(!t.props.showTimeSelectOnly&&t.props.showYearPicker)return ae.createElement("div",{className:"react-datepicker__year--container"},t.renderHeader({monthDate:t.state.date}),ae.createElement(i3,Ye({},l.defaultProps,t.props,{selectingDate:t.state.selectingDate,date:t.state.date,onDayClick:t.handleDayClick,clearSelectingDate:t.clearSelectingDate,onYearMouseEnter:t.handleYearMouseEnter,onYearMouseLeave:t.handleYearMouseLeave})))},t.renderTimeSection=function(){if(t.props.showTimeSelect&&(t.state.monthContainer||t.props.showTimeSelectOnly))return ae.createElement(l3,Ye({},l.defaultProps,t.props,{onChange:t.props.onTimeChange,format:t.props.timeFormat,intervals:t.props.timeIntervals,monthRef:t.state.monthContainer}))},t.renderInputTimeSection=function(){var o,u;if(t.props.showTimeInput){if(t.props.selectsRange){var d=t.props,m=d.startDate,x=d.endDate,p=m?new Date(m):void 0,v=p&&Sa(p)&&!!m,b=v?"".concat(gl(p.getHours()),":").concat(gl(p.getMinutes())):"",y=x?new Date(x):void 0,S=y&&Sa(y)&&!!x,M=S?"".concat(gl(y.getHours()),":").concat(gl(y.getMinutes())):"";return ae.createElement(ae.Fragment,null,ae.createElement(bf,Ye({},l.defaultProps,t.props,{date:p,timeString:b,onChange:function(D){var k,T;(T=(k=t.props).onTimeChange)===null||T===void 0||T.call(k,D,"start")},timeInputLabel:((o=t.props.timeInputLabel)!==null&&o!==void 0?o:"Time")+" (Start)"})),ae.createElement(bf,Ye({},l.defaultProps,t.props,{date:y,timeString:M,onChange:function(D){var k,T;(T=(k=t.props).onTimeChange)===null||T===void 0||T.call(k,D,"end")},timeInputLabel:((u=t.props.timeInputLabel)!==null&&u!==void 0?u:"Time")+" (End)"})))}var j=t.props.selected?new Date(t.props.selected):void 0,g=j&&Sa(j)&&!!t.props.selected,w=g?"".concat(gl(j.getHours()),":").concat(gl(j.getMinutes())):"";return ae.createElement(bf,Ye({},l.defaultProps,t.props,{date:j,timeString:w,onChange:function(D){var k,T;(T=(k=t.props).onTimeChange)===null||T===void 0||T.call(k,D)}}))}},t.renderAriaLiveRegion=function(){var o;if(!Sa(t.state.date))return ae.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"});var u=cr(t.state.date,(o=t.props.yearItemNumber)!==null&&o!==void 0?o:l.defaultProps.yearItemNumber),d=u.startPeriod,m=u.endPeriod,x;return t.props.showYearPicker?x="".concat(d," - ").concat(m):t.props.showMonthYearPicker||t.props.showQuarterYearPicker?x=$e(t.state.date):x="".concat(yp(Ca(t.state.date),t.props.locale)," ").concat($e(t.state.date)),ae.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},t.state.isRenderAriaLiveMessage&&x)},t.renderChildren=function(){if(t.props.children)return ae.createElement("div",{className:"react-datepicker__children-container"},t.props.children)},t.containerRef=N.createRef(),t.state={date:t.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},t}return Object.defineProperty(l,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:y1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:uo,monthHeaderPosition:"top"}},enumerable:!1,configurable:!0}),l.prototype.componentDidMount=function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){r.setState({monthContainer:r.monthContainer})})())},l.prototype.componentDidUpdate=function(r){var t=this;if(this.props.preSelection&&Sa(this.props.preSelection)&&(!Ke(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var o=!ua(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return o&&t.handleCustomMonthChange(t.state.date)})}else this.props.openToDate&&!Ke(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})},l.prototype.render=function(){var r=this.props.container||M4;return ae.createElement(qu,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},ae.createElement("div",{style:{display:"contents"},ref:this.containerRef},ae.createElement(r,{className:Yt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.props.monthHeaderPosition==="top"&&this.renderPreviousButton(),this.props.monthHeaderPosition==="top"&&this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},l})(N.Component),p3=function(s){var l=s.icon,r=s.className,t=r===void 0?"":r,o=s.onClick,u="react-datepicker__calendar-icon";if(typeof l=="string")return ae.createElement("i",{className:"".concat(u," ").concat(l," ").concat(t),"aria-hidden":"true",onClick:o});if(ae.isValidElement(l)){var d=l;return ae.cloneElement(d,{className:"".concat(d.props.className||""," ").concat(u," ").concat(t),onClick:function(m){typeof d.props.onClick=="function"&&d.props.onClick(m),typeof o=="function"&&o(m)}})}return ae.createElement("svg",{className:"".concat(u," ").concat(t),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:o},ae.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},N1=(function(s){ea(l,s);function l(r){var t=s.call(this,r)||this;return t.portalRoot=null,t.el=document.createElement("div"),t}return l.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},l.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},l.prototype.render=function(){return E2.createPortal(this.props.children,this.el)},l})(N.Component),x3="[tabindex], a, button, input, select, textarea",h3=function(s){return(s instanceof HTMLAnchorElement||!s.disabled)&&s.tabIndex!==-1},j1=(function(s){ea(l,s);function l(r){var t=s.call(this,r)||this;return t.getTabChildren=function(){var o;return Array.prototype.slice.call((o=t.tabLoopRef.current)===null||o===void 0?void 0:o.querySelectorAll(x3),1,-1).filter(h3)},t.handleFocusStart=function(){var o=t.getTabChildren();o&&o.length>1&&o[o.length-1].focus()},t.handleFocusEnd=function(){var o=t.getTabChildren();o&&o.length>1&&o[0].focus()},t.tabLoopRef=N.createRef(),t}return l.prototype.render=function(){var r;return((r=this.props.enableTabLoop)!==null&&r!==void 0?r:l.defaultProps.enableTabLoop)?ae.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ae.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ae.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},l.defaultProps={enableTabLoop:!0},l})(N.Component);function v3(s){function l(r){var t,o=typeof r.hidePopper=="boolean"?r.hidePopper:!0,u=N.useRef(null),d=D4(Ye({open:!o,whileElementsMounted:s4,placement:r.popperPlacement,middleware:Tn([p4({padding:15}),f4(10),x4({element:u})],(t=r.popperModifiers)!==null&&t!==void 0?t:[],!0)},r.popperProps)),m=Ye(Ye({},r),{hidePopper:o,popperProps:Ye(Ye({},d),{arrowRef:u})});return ae.createElement(s,Ye({},m))}return l.displayName="withFloating(".concat(s.displayName||s.name||"Component",")"),l}var b3=function(s){var l=s.className,r=s.wrapperClassName,t=s.hidePopper,o=t===void 0?!0:t,u=s.popperComponent,d=s.targetComponent,m=s.enableTabLoop,x=s.popperOnKeyDown,p=s.portalId,v=s.portalHost,b=s.popperProps,y=s.showArrow,S=s.popperTargetRef,M=s.monthHeaderPosition;N.useEffect(function(){S?.current&&b.refs.setPositionReference(S.current)},[S,b.refs]);var j=void 0;if(!o){var g=Yt("react-datepicker-popper",!y&&"react-datepicker-popper-offset",M==="middle"&&"react-datepicker-popper--header-middle",M==="bottom"&&"react-datepicker-popper--header-bottom",l);j=ae.createElement(j1,{enableTabLoop:m},ae.createElement("div",{ref:b.refs.setFloating,style:b.floatingStyles,className:g,"data-placement":b.placement,onKeyDown:x},u,y&&ae.createElement(y4,{ref:b.arrowRef,context:b.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}s.popperContainer&&(j=N.createElement(s.popperContainer,{},j)),p&&!o&&(j=ae.createElement(N1,{portalId:p,portalHost:v},j));var w=Yt("react-datepicker-wrapper",r);return ae.createElement(ae.Fragment,null,ae.createElement("div",{ref:b.refs.setReference,className:w},d),j)},g3=v3(b3);function _b(s,l){return s&&l?Ca(s)!==Ca(l)||$e(s)!==$e(l):s!==l}var yf="Date input not valid.",y3=(function(s){ea(l,s);function l(r){var t=s.call(this,r)||this;return t.calendar=null,t.input=null,t.getPreSelection=function(){var o=t.props.timeZone,u=t.props.openToDate?t.props.openToDate:t.props.selectsEnd&&t.props.startDate?t.props.startDate:t.props.selectsStart&&t.props.endDate?t.props.endDate:Ze();return o?pb(u,o):u},t.modifyHolidays=function(){var o;return(o=t.props.holidays)===null||o===void 0?void 0:o.reduce(function(u,d){var m=gs(d.date,"yyyy-MM-dd",void 0,!1);return m?Tn(Tn([],u,!0),[Ye(Ye({},d),{date:m})],!1):u},[])},t.calcInitialState=function(){var o=t.props.timeZone,u=t.getPreSelection(),d=h1(t.props),m=v1(t.props),x=d&&An(u,Qi(d))?d:m&&mr(u,vb(m))?m:u,p=t.props.selectsRange?t.props.startDate:t.props.selected;return p&&o&&(p=pb(p,o)),{open:t.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:p??x,highlightDates:Cb(t.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},t.getInputValue=function(){var o,u=t.props,d=u.locale,m=u.startDate,x=u.endDate,p=u.rangeSeparator,v=u.selected,b=u.selectedDates,y=u.selectsMultiple,S=u.selectsRange,M=u.formatMultipleDates,j=u.value,g=(o=t.props.dateFormat)!==null&&o!==void 0?o:l.defaultProps.dateFormat,w=t.state.inputValue;if(typeof j=="string")return j;if(typeof w=="string")return w;if(S)return E4(m,x,{dateFormat:g,locale:d,rangeSeparator:p});if(y){if(M){var D=function(k){return wa(k,{dateFormat:g,locale:d})};return M(b??[],D)}return _4(b??[],{dateFormat:g,locale:d})}return wa(v,{dateFormat:g,locale:d})},t.resetHiddenStatus=function(){t.setState(Ye(Ye({},t.state),{wasHidden:!1}))},t.setHiddenStatus=function(){t.setState(Ye(Ye({},t.state),{wasHidden:!0}))},t.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&t.setHiddenStatus()},t.clearPreventFocusTimeout=function(){t.preventFocusTimeout&&clearTimeout(t.preventFocusTimeout)},t.setFocus=function(){var o,u;(u=(o=t.input)===null||o===void 0?void 0:o.focus)===null||u===void 0||u.call(o,{preventScroll:!0})},t.setBlur=function(){var o,u;(u=(o=t.input)===null||o===void 0?void 0:o.blur)===null||u===void 0||u.call(o),t.cancelFocusInput()},t.deferBlur=function(){requestAnimationFrame(function(){t.setBlur()})},t.setOpen=function(o,u){u===void 0&&(u=!1),t.setState({open:o,preSelection:o&&t.state.open?t.state.preSelection:t.calcInitialState().preSelection,lastPreSelectChange:Nf},function(){o||t.setState(function(d){return{focused:u?d.focused:!1}},function(){!u&&t.deferBlur(),t.setState({inputValue:null})})})},t.inputOk=function(){return _n(t.state.preSelection)},t.isCalendarOpen=function(){return t.props.open===void 0?t.state.open&&!t.props.disabled&&!t.props.readOnly:t.props.open},t.handleFocus=function(o){var u,d,m=t.state.wasHidden,x=m?t.state.open:!0;m&&t.resetHiddenStatus(),t.state.preventFocus||((d=(u=t.props).onFocus)===null||d===void 0||d.call(u,o),x&&!t.props.preventOpenOnFocus&&!t.props.readOnly&&t.setOpen(!0)),t.setState({focused:!0})},t.sendFocusBackToInput=function(){t.preventFocusTimeout&&t.clearPreventFocusTimeout(),t.setState({preventFocus:!0},function(){t.preventFocusTimeout=setTimeout(function(){t.setFocus(),t.setState({preventFocus:!1})})})},t.cancelFocusInput=function(){clearTimeout(t.inputFocusTimeout),t.inputFocusTimeout=void 0},t.deferFocusInput=function(){t.cancelFocusInput(),t.inputFocusTimeout=setTimeout(function(){return t.setFocus()},1)},t.handleDropdownFocus=function(){t.cancelFocusInput()},t.resetInputValue=function(){t.setState(Ye(Ye({},t.state),{inputValue:null}))},t.handleBlur=function(o){var u,d;(!t.state.open||t.props.withPortal||t.props.showTimeInput)&&((d=(u=t.props).onBlur)===null||d===void 0||d.call(u,o));var m=t.state.inputValue;if(typeof m=="string"&&m.length>0){var x=/[a-zA-Z0-9]/.test(m);!x&&t.props.selected&&t.setSelected(null,void 0,!0)}t.resetInputValue(),t.state.open&&t.props.open===!1&&t.setOpen(!1),t.setState({focused:!1})},t.handleCalendarClickOutside=function(o){var u,d;(d=(u=t.props).onClickOutside)===null||d===void 0||d.call(u,o),!t.props.inline&&!o.defaultPrevented&&t.setOpen(!1),t.props.withPortal&&o.preventDefault()},t.handleChange=function(){for(var o,u,d,m,x,p,v,b,y=[],S=0;S<arguments.length;S++)y[S]=arguments[S];var M=y[0];if(!(t.props.onChangeRaw&&(t.props.onChangeRaw.apply(t,y),!M||typeof M.isDefaultPrevented!="function"||M.isDefaultPrevented()))){t.setState({inputValue:M?.target instanceof HTMLInputElement?M.target.value:null,lastPreSelectChange:N3});var j=t.props,g=j.selectsRange,w=j.startDate,D=j.endDate,k=(o=t.props.dateFormat)!==null&&o!==void 0?o:l.defaultProps.dateFormat,T=(u=t.props.strictParsing)!==null&&u!==void 0?u:l.defaultProps.strictParsing,_=M?.target instanceof HTMLInputElement?M.target.value:"";if(g){var B=t.props.rangeSeparator,H=B.trim(),O=_.split(k.includes(H)?B:H,2).map(function(W){return W.trim()}),L=O[0],I=O[1],V=gs(L??"",k,t.props.locale,T),A=V?gs(I??"",k,t.props.locale,T):null,se=((d=Ds(w))===null||d===void 0?void 0:d.getTime())!==V?.getTime(),oe=((m=Ds(D))===null||m===void 0?void 0:m.getTime())!==A?.getTime();if(!se&&!oe||V&&Za(V,t.props)||A&&Za(A,t.props))return;V&&t.setState({preSelection:V}),(p=(x=t.props).onChange)===null||p===void 0||p.call(x,[V,A],M)}else{var U=gs(_,k,t.props.locale,T,(v=t.props.selected)!==null&&v!==void 0?v:void 0);if(U||!_)t.setSelected(U,M,!0);else if(!t.props.inline){var z=T4(_,(b=t.state.preSelection)!==null&&b!==void 0?b:void 0);z&&(!t.props.minDate||!An(z,t.props.minDate))&&(!t.props.maxDate||!mr(z,t.props.maxDate))&&t.setState({preSelection:z})}}}},t.handleSelect=function(o,u,d){var m;if(!t.props.readOnly){var x=t.props,p=x.selectsRange,v=x.startDate,b=x.endDate,y=x.locale,S=x.swapRange,M=(m=t.props.dateFormat)!==null&&m!==void 0?m:l.defaultProps.dateFormat,j=!p||v&&!b&&(S||!vf(o,v));if(t.props.shouldCloseOnSelect&&!t.props.showTimeSelect&&j&&t.sendFocusBackToInput(),t.props.onChangeRaw){var g=wa(o,{dateFormat:M,locale:y});t.props.onChangeRaw(u,{date:o,formattedDate:g})}t.setSelected(o,u,!1,d),t.props.showDateSelect&&t.setState({isRenderAriaLiveMessage:!0}),!t.props.shouldCloseOnSelect||t.props.showTimeSelect?t.setPreSelection(o):j&&t.setOpen(!1)}},t.setSelected=function(o,u,d,m){var x,p,v=t.props.timeZone,b=o;if(b&&v&&(b=ir(b,v)),t.props.showYearPicker){if(b!==null&&iu($e(b),t.props))return}else if(t.props.showMonthYearPicker){if(b!==null&&x1(b,t.props))return}else if(b!==null&&Za(b,t.props))return;var y=t.props,S=y.onChange,M=y.selectsRange,j=y.startDate,g=y.endDate,w=y.selectsMultiple,D=y.selectedDates,k=y.minTime,T=y.swapRange;if(!Ms(t.props.selected,b)||t.props.allowSameDay||M||w)if(b!==null&&(t.props.selected&&(!d||!t.props.showTimeSelect&&!t.props.showTimeSelectOnly&&!t.props.showTimeInput)&&(b=or(b,{hour:sa(t.props.selected),minute:la(t.props.selected),second:Gr(t.props.selected)})),!d&&(t.props.showTimeSelect||t.props.showTimeSelectOnly)&&k&&(b=or(b,{hour:k.getHours(),minute:k.getMinutes(),second:k.getSeconds()})),t.props.inline||t.setState({preSelection:b}),t.props.focusSelectedMonth||t.setState({monthSelectedIn:m})),M){var _=S,B=!j&&!g,H=j&&!g,O=!j&&!!g,L=j&&g;B?_?.([b,null],u):H?b===null?_?.([null,null],u):vf(b,j)?_?.(T?[b,j]:[b,null],u):_?.([j,b],u):O&&(b&&vf(b,g)?_?.([b,g],u):_?.([b,null],u)),L&&_?.([b,null],u)}else if(w){var I=S;if(b!==null)if(!D?.length)I?.([b],u);else{var V=D.some(function(se){return Ke(se,b)});if(V){var A=D.filter(function(se){return!Ke(se,b)});I?.(A,u)}else I?.(Tn(Tn([],D,!0),[b],!1),u)}}else S?.(b,u);d||((p=(x=t.props).onSelect)===null||p===void 0||p.call(x,b,u),t.setState({inputValue:null}))},t.setPreSelection=function(o){if(!t.props.readOnly){var u=_n(t.props.minDate),d=_n(t.props.maxDate),m=!0;if(o){var x=Qi(o);if(u&&d)m=ws(o,t.props.minDate,t.props.maxDate);else if(u){var p=Qi(t.props.minDate);m=mr(o,p)||Ms(x,p)}else if(d){var v=vb(t.props.maxDate);m=An(o,v)||Ms(x,v)}}m&&t.setState({preSelection:o})}},t.toggleCalendar=function(){t.setOpen(!t.state.open)},t.handleTimeChange=function(o,u){var d,m;if(!t.props.selectsMultiple){var x=t.props,p=x.selectsRange,v=x.startDate,b=x.endDate,y=x.onChange,S=x.timeZone;if(p){var M=y;if(u==="start"){if(v){var j=or(v,{hour:sa(o),minute:la(o)});t.setState({preSelection:j}),S&&(j=ir(j,S)),M?.([j,b?S?ir(b,S):b:null],void 0)}}else if(u==="end"){if(b){var g=or(b,{hour:sa(o),minute:la(o)});t.setState({preSelection:g}),S&&(g=ir(g,S)),M?.([v?S?ir(v,S):v:null,g],void 0)}}else{var w=v&&!b;if(w){var j=or(v,{hour:sa(o),minute:la(o)});t.setState({preSelection:j}),S&&(j=ir(j,S)),M?.([j,null],void 0)}else if(v&&b){var g=or(b,{hour:sa(o),minute:la(o)});t.setState({preSelection:g}),S&&(g=ir(g,S)),M?.([S?ir(v,S):v,g],void 0)}else{var D=or(t.getPreSelection(),{hour:sa(o),minute:la(o)});t.setState({preSelection:D})}}}else{var k=t.props.selected?t.props.selected:t.getPreSelection(),D=t.props.selected?o:or(k,{hour:sa(o),minute:la(o)});t.setState({preSelection:D}),D&&S&&(D=ir(D,S)),(m=(d=t.props).onChange)===null||m===void 0||m.call(d,D)}t.props.shouldCloseOnSelect&&!t.props.showTimeInput&&(t.sendFocusBackToInput(),t.setOpen(!1)),t.props.showTimeInput&&t.setOpen(!0),(t.props.showTimeSelectOnly||t.props.showTimeSelect)&&t.setState({isRenderAriaLiveMessage:!0}),t.setState({inputValue:null})}},t.onInputClick=function(){var o,u;!t.props.disabled&&!t.props.readOnly&&t.setOpen(!0),(u=(o=t.props).onInputClick)===null||u===void 0||u.call(o)},t.handleTimeOnlyArrowKey=function(o){var u,d,m,x,p=Ds(t.props.selected)||t.state.preSelection||Ze(),v=(u=t.props.timeIntervals)!==null&&u!==void 0?u:30,b=(d=t.props.dateFormat)!==null&&d!==void 0?d:l.defaultProps.dateFormat,y=Array.isArray(b)?b[0]:b,S=Qi(p),M=sa(p)*60+la(p),j=1440-v,g;if(o===ge.ArrowUp){var w=Math.max(0,M-v);g=to(S,w)}else{var w=Math.min(j,M+v);g=to(S,w)}var D=vt(g,y||l.defaultProps.dateFormat,t.props.locale);if(t.setState({preSelection:g,inputValue:D}),!(t.props.selectsRange||t.props.selectsMultiple)){var k=t.props.selected?t.props.selected:t.getPreSelection(),T=t.props.selected?g:or(k,{hour:sa(g),minute:la(g)});(x=(m=t.props).onChange)===null||x===void 0||x.call(m,T),(t.props.showTimeSelectOnly||t.props.showTimeSelect)&&t.setState({isRenderAriaLiveMessage:!0}),requestAnimationFrame(function(){t.scrollToTimeOption(g)})}},t.handleTimeOnlyEnterKey=function(o){var u,d,m,x,p=o.target,v=p.value,b=(u=t.props.dateFormat)!==null&&u!==void 0?u:l.defaultProps.dateFormat,y=t.props.timeFormat||"p",S=t.state.preSelection||Ds(t.props.selected)||Ze(),M=gs(v,b,t.props.locale,(d=t.props.strictParsing)!==null&&d!==void 0?d:!1,S),j=S;if(M&&Sa(M))j=M;else{var g=((m=t.calendar)===null||m===void 0?void 0:m.containerRef.current)instanceof Element&&t.calendar.containerRef.current.querySelector(".react-datepicker__time-list-item[tabindex='0']");if(g instanceof HTMLElement){var w=(x=g.textContent)===null||x===void 0?void 0:x.trim();if(w){var D=gs(w,y,t.props.locale,!1,S);D&&Sa(D)&&(j=D)}}}t.handleTimeChange(j),t.setOpen(!1),t.sendFocusBackToInput()},t.scrollToTimeOption=function(o){var u,d;if(!((u=t.calendar)===null||u===void 0)&&u.containerRef.current){for(var m=t.calendar.containerRef.current,x=Array.from(m.querySelectorAll(".react-datepicker__time-list-item")),p=null,v=1/0,b=t.props.timeFormat||"p",y=0,S=x;y<S.length;y++){var M=S[y],j=(d=M.textContent)===null||d===void 0?void 0:d.trim();if(j){var g=gs(j,b,t.props.locale,!1,o);if(g&&Sa(g)){if(b1(g,o)){p=M;break}var w=Math.abs(g.getTime()-o.getTime());w<v&&(v=w,p=M)}}}p&&(x.forEach(function(D){D.setAttribute("tabindex","-1")}),p.setAttribute("tabindex","0"),p.scrollIntoView({behavior:"smooth",block:"center"}))}},t.onInputKeyDown=function(o){var u,d,m,x,p,v;(d=(u=t.props).onKeyDown)===null||d===void 0||d.call(u,o);var b=o.key;if(!t.state.open&&!t.props.inline&&!t.props.preventOpenOnFocus){(b===ge.ArrowDown||b===ge.ArrowUp||b===ge.Enter)&&((m=t.onInputClick)===null||m===void 0||m.call(t));return}if(t.state.open&&t.props.showTimeSelectOnly){if(b===ge.ArrowDown||b===ge.ArrowUp){o.preventDefault(),t.handleTimeOnlyArrowKey(b);return}if(b===ge.Enter){o.preventDefault(),t.handleTimeOnlyEnterKey(o);return}}if(t.state.open){if(b===ge.ArrowDown||b===ge.ArrowUp){o.preventDefault();var y=t.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":t.props.showWeekPicker&&t.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':t.props.showFullMonthYearPicker||t.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',S=((x=t.calendar)===null||x===void 0?void 0:x.containerRef.current)instanceof Element&&t.calendar.containerRef.current.querySelector(y);S instanceof HTMLElement&&S.focus({preventScroll:!0});return}var M=Ze(t.state.preSelection);b===ge.Enter?(o.preventDefault(),o.target.blur(),t.inputOk()&&t.state.lastPreSelectChange===Nf?(t.handleSelect(M,o),!t.props.shouldCloseOnSelect&&t.setPreSelection(M)):t.setOpen(!1)):b===ge.Escape?(o.preventDefault(),o.target.blur(),t.sendFocusBackToInput(),t.setOpen(!1)):b===ge.Tab&&t.setOpen(!1),t.inputOk()||(v=(p=t.props).onInputError)===null||v===void 0||v.call(p,{code:1,msg:yf})}},t.onPortalKeyDown=function(o){var u=o.key;u===ge.Escape&&(o.preventDefault(),t.setState({preventFocus:!0},function(){t.setOpen(!1),setTimeout(function(){t.setFocus(),t.setState({preventFocus:!1})})}))},t.onDayKeyDown=function(o){var u,d,m,x,p,v,b=t.props,y=b.minDate,S=b.maxDate,M=b.disabledKeyboardNavigation,j=b.showWeekPicker,g=b.shouldCloseOnSelect,w=b.locale,D=b.calendarStartDay,k=b.adjustDateOnChange,T=b.inline;if((d=(u=t.props).onKeyDown)===null||d===void 0||d.call(u,o),!M){var _=o.key,B=o.shiftKey,H=Ze(t.state.preSelection),O=function(V,A){var se=A;switch(V){case ge.ArrowRight:se=j?vu(A,1):cn(A,1);break;case ge.ArrowLeft:se=j?tb(A):VD(A);break;case ge.ArrowUp:se=tb(A);break;case ge.ArrowDown:se=vu(A,1);break;case ge.PageUp:se=B?Kr(A,1):As(A,1);break;case ge.PageDown:se=B?un(A,1):mn(A,1);break;case ge.Home:se=Qr(A,w,D);break;case ge.End:se=I4(A);break}return se},L=function(V,A){for(var se=40,oe=V,U=!1,z=0,W=O(V,A);!U;){if(z>=se){W=A;break}y&&W<y&&(oe=ge.ArrowRight,W=Za(y,t.props)?O(oe,W):y),S&&W>S&&(oe=ge.ArrowLeft,W=Za(S,t.props)?O(oe,W):S),Za(W,t.props)?((oe===ge.PageUp||oe===ge.Home)&&(oe=ge.ArrowRight),(oe===ge.PageDown||oe===ge.End)&&(oe=ge.ArrowLeft),W=O(oe,W)):U=!0,z++}return W};if(_===ge.Enter){o.preventDefault(),t.handleSelect(H,o),!g&&t.setPreSelection(H);return}else if(_===ge.Escape){o.preventDefault(),t.setOpen(!1),t.inputOk()||(x=(m=t.props).onInputError)===null||x===void 0||x.call(m,{code:1,msg:yf});return}var I=null;switch(_){case ge.ArrowLeft:case ge.ArrowRight:case ge.ArrowUp:case ge.ArrowDown:case ge.PageUp:case ge.PageDown:case ge.Home:case ge.End:I=L(_,H);break}if(!I){(v=(p=t.props).onInputError)===null||v===void 0||v.call(p,{code:1,msg:yf});return}o.preventDefault(),t.setState({lastPreSelectChange:Nf}),k&&t.setSelected(I),t.setPreSelection(I),T&&t.setState({shouldFocusDayInline:!0})}},t.onPopperKeyDown=function(o){var u=o.key;u===ge.Escape&&(o.preventDefault(),t.sendFocusBackToInput(),t.setOpen(!1))},t.onClearClick=function(o){o&&o.preventDefault&&o.preventDefault(),t.sendFocusBackToInput();var u=t.props,d=u.selectsRange,m=u.onChange;m?.(d?[null,null]:null,o),t.setState({inputValue:null})},t.clear=function(){t.onClearClick()},t.onScroll=function(o){typeof t.props.closeOnScroll=="boolean"&&t.props.closeOnScroll?(o.target===document||o.target===document.documentElement||o.target===document.body)&&t.setOpen(!1):typeof t.props.closeOnScroll=="function"&&t.props.closeOnScroll(o)&&t.setOpen(!1)},t.handleMonthSelectedInChange=function(o){t.setState({monthSelectedIn:o})},t.renderCalendar=function(){var o,u;return!t.props.inline&&!t.isCalendarOpen()?null:ae.createElement(f3,Ye({showMonthYearDropdown:void 0,ref:function(d){t.calendar=d}},t.props,t.state,{setOpen:t.setOpen,dateFormat:(o=t.props.dateFormatCalendar)!==null&&o!==void 0?o:l.defaultProps.dateFormatCalendar,onSelect:t.handleSelect,onClickOutside:t.handleCalendarClickOutside,holidays:G4(t.modifyHolidays()),outsideClickIgnoreClass:t.props.outsideClickIgnoreClass,onDropdownFocus:t.handleDropdownFocus,onTimeChange:t.handleTimeChange,className:t.props.calendarClassName,container:t.props.calendarContainer,handleOnKeyDown:t.props.onKeyDown,handleOnDayKeyDown:t.onDayKeyDown,setPreSelection:t.setPreSelection,dropdownMode:(u=t.props.dropdownMode)!==null&&u!==void 0?u:l.defaultProps.dropdownMode,onMonthSelectedInChange:t.handleMonthSelectedInChange}),t.props.children)},t.renderAriaLiveRegion=function(){var o,u=t.props.locale,d=(o=t.props.dateFormat)!==null&&o!==void 0?o:l.defaultProps.dateFormat,m=t.props.showTimeInput||t.props.showTimeSelect,x=m?"PPPPp":"PPPP",p;return t.props.selectsRange?p="Selected start date: ".concat(wa(t.props.startDate,{dateFormat:x,locale:u}),". ").concat(t.props.endDate?"End date: "+wa(t.props.endDate,{dateFormat:x,locale:u}):""):t.props.showTimeSelectOnly?p="Selected time: ".concat(wa(t.props.selected,{dateFormat:d,locale:u})):t.props.showYearPicker?p="Selected year: ".concat(wa(t.props.selected,{dateFormat:"yyyy",locale:u})):t.props.showMonthYearPicker?p="Selected month: ".concat(wa(t.props.selected,{dateFormat:"MMMM yyyy",locale:u})):t.props.showQuarterYearPicker?p="Selected quarter: ".concat(wa(t.props.selected,{dateFormat:"yyyy, QQQ",locale:u})):p="Selected date: ".concat(wa(t.props.selected,{dateFormat:x,locale:u})),ae.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},p)},t.renderDateInput=function(){var o,u,d,m,x,p,v,b=Yt(t.props.className,(o={},o[t.props.outsideClickIgnoreClass||l.defaultProps.outsideClickIgnoreClass]=t.state.open,o)),y=t.props.customInput||ae.createElement("input",{type:"text"}),S=t.props.customInputRef||"ref",M={},j=(d=t.props["aria-describedby"])!==null&&d!==void 0?d:t.props.ariaDescribedBy,g=(m=t.props["aria-invalid"])!==null&&m!==void 0?m:t.props.ariaInvalid,w=(x=t.props["aria-label"])!==null&&x!==void 0?x:t.props.ariaLabel,D=(p=t.props["aria-labelledby"])!==null&&p!==void 0?p:t.props.ariaLabelledBy,k=(v=t.props["aria-required"])!==null&&v!==void 0?v:t.props.ariaRequired;return j!=null&&(M["aria-describedby"]=j),g!=null&&(M["aria-invalid"]=g),w!=null&&(M["aria-label"]=w),D!=null&&(M["aria-labelledby"]=D),k!=null&&(M["aria-required"]=k),N.cloneElement(y,Ye((u={},u[S]=function(T){t.input=T},u.value=t.getInputValue(),u.onBlur=t.handleBlur,u.onChange=t.handleChange,u.onClick=t.onInputClick,u.onFocus=t.handleFocus,u.onKeyDown=t.onInputKeyDown,u.id=t.props.id,u.name=t.props.name,u.form=t.props.form,u.autoFocus=t.props.autoFocus,u.placeholder=t.props.placeholderText,u.disabled=t.props.disabled,u.autoComplete=t.props.autoComplete,u.className=Yt(y.props.className,b),u.title=t.props.title,u.readOnly=t.props.readOnly,u.required=t.props.required,u.tabIndex=t.props.tabIndex,u),M))},t.renderClearButton=function(){var o=t.props,u=o.isClearable,d=o.disabled,m=o.selected,x=o.startDate,p=o.endDate,v=o.clearButtonTitle,b=o.clearButtonClassName,y=b===void 0?"":b,S=o.ariaLabelClose,M=S===void 0?"Close":S,j=o.selectedDates,g=o.readOnly;return u&&!g&&(m!=null||x!=null||p!=null||j?.length)?ae.createElement("button",{type:"button",className:Yt("react-datepicker__close-icon",y,{"react-datepicker__close-icon--disabled":d}),disabled:d,"aria-label":M,onClick:t.onClearClick,title:v,tabIndex:-1}):null},t.state=t.calcInitialState(),t.preventFocusTimeout=void 0,t}return Object.defineProperty(l,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:y1,readOnly:!1,rangeSeparator:f1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:uo,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),l.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},l.prototype.componentDidUpdate=function(r,t){var o,u,d,m;this.props.selectsRange&&_b(r.startDate,this.props.startDate)?this.setPreSelection(this.props.startDate):_b(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),this.props.selectsRange&&t.open===!1&&this.state.open===!0&&this.state.monthSelectedIn!==0&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Cb(this.props.highlightDates)}),!t.focused&&!Ms(r.selected,this.props.selected)&&this.setState({inputValue:null}),t.open!==this.state.open&&(t.open===!1&&this.state.open===!0&&((u=(o=this.props).onCalendarOpen)===null||u===void 0||u.call(o)),t.open===!0&&this.state.open===!1&&((m=(d=this.props).onCalendarClose)===null||m===void 0||m.call(d)))},l.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},l.prototype.renderInputContainer=function(){var r=this.props,t=r.showIcon,o=r.icon,u=r.calendarIconClassname,d=r.calendarIconClassName,m=r.toggleCalendarOnIconClick,x=this.state.open;return u&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ae.createElement("div",{className:"react-datepicker__input-container".concat(t?" react-datepicker__view-calendar-icon":"")},t&&ae.createElement(p3,Ye({icon:o,className:Yt(d,!d&&u,x&&"react-datepicker-ignore-onclickoutside")},m?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},l.prototype.render=function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var t=this.state.open?ae.createElement(j1,{enableTabLoop:this.props.enableTabLoop},ae.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(t=ae.createElement(N1,Ye({portalId:this.props.portalId},this.props),t)),ae.createElement(ae.Fragment,null,this.renderInputContainer(),t)}return ae.createElement(g3,Ye({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:r,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow,monthHeaderPosition:this.props.monthHeaderPosition}))},l})(N.Component),N3="input",Nf="navigate";function At({open:s,onClose:l,title:r,children:t,wide:o}){const u=N.useRef(null);return N.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[s]),N.useEffect(()=>{function d(m){m.key==="Escape"&&l()}return s&&window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[s,l]),s?a.jsxs("div",{ref:u,className:"fixed inset-0 z-50 flex items-start justify-center pt-[5vh] sm:pt-[10vh] px-4",onClick:d=>{d.target===u.current&&l()},children:[a.jsx("div",{className:"fixed inset-0 bg-black/60"}),a.jsxs("div",{className:`relative bg-[var(--bg-card)] border border-[var(--border)] rounded-xl shadow-2xl w-full ${o?"max-w-2xl":"max-w-lg"} max-h-[80vh] flex flex-col animate-fade-in`,children:[a.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-[var(--border-light)] shrink-0",children:[a.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:r}),a.jsx("button",{onClick:l,className:"p-1.5 rounded-lg text-[var(--text-dim)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:a.jsx(io,{size:16})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto px-5 py-4",children:t})]})]}):null}function J({label:s,required:l,error:r,children:t}){return a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:[s,l&&a.jsx("span",{className:"text-rose-500 ml-0.5",children:"*"})]}),t,r&&a.jsx("p",{className:"text-xs text-rose-500 mt-1",children:r})]})}function be({value:s,onChange:l,placeholder:r,type:t="text",sensitive:o,...u}){const{masked:d}=zn();return a.jsx("input",{type:t,value:s,onChange:m=>l(m.target.value),placeholder:r,className:`w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors ${o&&d?"sensitive-blur":""}`,...u})}function Rn({value:s,onChange:l,...r}){const t=s?new Date(s+"T00:00:00"):null;function o(u){if(!u){l("");return}const d=u.getFullYear(),m=String(u.getMonth()+1).padStart(2,"0"),x=String(u.getDate()).padStart(2,"0");l(`${d}-${m}-${x}`)}return a.jsxs("div",{className:"relative cf-datepicker",children:[a.jsx(y3,{selected:t,onChange:o,dateFormat:"dd MMM yyyy",maxDate:new Date,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",placeholderText:"Select date",className:"w-full px-3 py-2 pr-9 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors",...r}),a.jsx(US,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)] pointer-events-none"})]})}function Re({value:s,onChange:l,options:r,placeholder:t}){return a.jsxs("select",{value:s,onChange:o=>l(o.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors",children:[t&&a.jsx("option",{value:"",children:t}),r.map(o=>a.jsx("option",{value:o.value,children:o.label},o.value))]})}function zl({value:s,onChange:l,placeholder:r,rows:t=3}){return a.jsx("textarea",{value:s,onChange:o=>l(o.target.value),placeholder:r,rows:t,className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors resize-none"})}function j3({checked:s,onChange:l,label:r}){return a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:s,onChange:t=>l(t.target.checked),className:"w-4 h-4 rounded border-[var(--border-input)] bg-[var(--bg-input)] text-violet-500 focus:ring-violet-500"}),a.jsx("span",{className:"text-sm text-[var(--text-secondary)]",children:r})]})}function ma({onCancel:s,onSubmit:l,submitLabel:r="Save",loading:t}){return a.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4 mt-4 border-t border-[var(--border-light)]",children:[a.jsx("button",{onClick:s,disabled:t,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),a.jsxs("button",{onClick:l,disabled:t,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 flex items-center gap-1.5",children:[t&&a.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),t?"Saving...":r]})]})}function br({onClick:s,label:l="Deactivate"}){return a.jsx("button",{onClick:s,className:"px-4 py-2 text-xs font-semibold text-rose-400 hover:text-rose-300 hover:bg-rose-500/10 rounded-lg transition-colors",children:l})}const Ob=[{key:"sip",label:"Adjust SIP",icon:J5,color:"text-blue-400",dimColor:"text-blue-400/60 hover:text-blue-400",activeBg:"bg-blue-500/20 border border-blue-500/40"},{key:"lumpsum",label:"Lumpsum",icon:k5,color:"text-emerald-400",dimColor:"text-emerald-400/60 hover:text-emerald-400",activeBg:"bg-emerald-500/20 border border-emerald-500/40"},{key:"buysell",label:"Buy / Sell",icon:PS,color:"text-amber-400",dimColor:"text-amber-400/60 hover:text-amber-400",activeBg:"bg-amber-500/20 border border-amber-500/40"}];function Ss(s){return s>=1e5?`${(s/1e5).toFixed(1)}L`:s>=1e3?`${(s/1e3).toFixed(0)}K`:`${Math.round(s)}`}function jp({exitOnly:s}){return a.jsx("div",{className:"py-4 text-center space-y-1",children:s?a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Only exit candidates here  use ",a.jsx("span",{className:"font-semibold text-amber-400",children:"Buy / Sell"})," tab"]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"No target allocations set"}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Use ",a.jsx("span",{className:"font-semibold text-violet-400",children:"Allocations"})," to set target % for each fund first"]})]})})}function w3({portfolio:s,holdings:l,totalValue:r}){const t=s.sipTarget||0,o=(s.rebalanceThreshold||.05)*100,u=l.some(y=>y.targetAllocationPct>0),d=l.some(y=>y.targetAllocationPct===0&&y.units>0);if(!u)return a.jsx(jp,{exitOnly:d});if(t<=0)return a.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"No SIP target set for this portfolio"});const m=l.filter(y=>y.targetAllocationPct>0).map(y=>{const S=r>0?y.currentValue/r*100:0,M=Math.abs(S-y.targetAllocationPct),j=M>o,w=y.targetAllocationPct/100*r-y.currentValue,D=y.targetAllocationPct/100*t;return{...y,currentPct:S,drift:M,drifted:j,gap:w,normalSIP:D}}),x=m.filter(y=>y.drifted&&y.gap>0);m.filter(y=>y.drifted&&y.gap<=0);const p=x.reduce((y,S)=>y+S.gap,0),v=m.map(y=>({...y,suggestedSIP:y.drifted&&y.gap>0&&p>0?y.gap/p*t:y.drifted&&y.gap<=0?0:y.normalSIP}));return m.some(y=>y.drifted)?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Funds drifted >",o.toFixed(0),"%: overweight  0, underweight  extra SIP. Others keep normal SIP."]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Allocation"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Normal SIP"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Rebalance SIP"})]})}),a.jsx("tbody",{children:v.map(y=>{const S=y.drifted&&y.gap<=0,M=y.drifted&&y.gap>0,j=!y.drifted;return a.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 ${j?"opacity-50":S?"opacity-60":""}`,children:[a.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:y.fundName}),a.jsxs("td",{className:"py-2 px-2 text-right tabular-nums",children:[a.jsxs("span",{className:S?"text-amber-400":M?"text-blue-400":"text-[var(--text-dim)]",children:[y.currentPct.toFixed(1),"%"]}),a.jsxs("span",{className:"text-[var(--text-dim)]",children:[" / ",y.targetAllocationPct.toFixed(1),"%"]})]}),a.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:Ss(y.normalSIP)}),a.jsx("td",{className:"py-2 px-2 text-right font-semibold tabular-nums",children:S?a.jsx("span",{className:"text-amber-400/70",children:"0"}):M?a.jsx("span",{className:"text-blue-400",children:Ss(y.suggestedSIP)}):a.jsx("span",{className:"text-[var(--text-dim)]",children:Ss(y.suggestedSIP)})})]},y.holdingId)})}),a.jsx("tfoot",{children:a.jsxs("tr",{className:"border-t border-[var(--border)]",children:[a.jsx("td",{className:"py-1.5 px-2 text-xs font-bold text-[var(--text-primary)]",colSpan:2,children:"Total"}),a.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums",children:Ss(t)}),a.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-blue-400 tabular-nums",children:Ss(t)})]})})]})})]}):a.jsxs("p",{className:"text-xs text-[var(--text-dim)] py-2",children:["SIPs are balanced (within ",o.toFixed(0),"% threshold)"]})}function S3({portfolio:s,holdings:l,totalValue:r}){const[t,o]=N.useState("");(s.rebalanceThreshold||.05)*100;const u=l.some(j=>j.targetAllocationPct>0),d=l.some(j=>j.targetAllocationPct===0&&j.units>0);if(!u)return a.jsx(jp,{exitOnly:d});const m=l.filter(j=>j.targetAllocationPct>0).map(j=>{const g=r>0?j.currentValue/r*100:0;return{...j,currentPct:g}}),x=N.useMemo(()=>{if(r<=0||m.length===0)return 0;const j=m.filter(k=>{const T=k.targetAllocationPct/100*r;return k.currentValue<T});if(j.length===0)return 0;const g=j.reduce((k,T)=>k+T.targetAllocationPct,0);if(g>=100)return 0;const w=j.reduce((k,T)=>k+T.currentValue,0),D=(g/100*r-w)/(1-g/100);return D>0?Math.ceil(D/100)*100:0},[m,r]),p=Number(t)||s.lumpsumTarget||x,v=N.useMemo(()=>{const j=p>0?r+p:r,g=m.map(D=>{const k=D.targetAllocationPct/100*j,T=p>0?Math.max(0,k-D.currentValue):0,_=j>0?(D.currentValue+T)/j*100:0,B=D.currentValue>k+1;return{...D,invest:T,newPct:_,isOverweight:B}}),w=g.reduce((D,k)=>D+k.invest,0);if(p>0&&w>0&&Math.abs(w-p)>1){const D=p/w;return g.map(k=>({...k,invest:k.invest>0?k.invest*D:0,newPct:j>0?(k.currentValue+(k.invest>0?k.invest*D:0))/j*100:0}))}return g},[m,p,r]),b=v.reduce((j,g)=>j+g.invest,0),y=v.some(j=>j.isOverweight),S=Number(t),M=S>0&&x>0&&S<x;return a.jsxs("div",{className:"space-y-2",children:[x>0&&a.jsx("div",{className:"flex items-center gap-2 px-2.5 py-1.5 rounded-md bg-emerald-500/10 border border-emerald-500/20",children:a.jsxs("p",{className:"text-xs text-emerald-400",children:[a.jsx("span",{className:"font-bold",children:G(x)})," needed to bring all underweight funds to target %"]})}),a.jsxs("div",{className:"flex items-end gap-3",children:[a.jsx("div",{className:"flex-1 max-w-[200px]",children:a.jsx(J,{label:"Invest Amount ()",children:a.jsx(be,{type:"number",value:t,onChange:o,placeholder:x>0?`${G(x)}`:"Enter amount..."})})}),!S&&!s.lumpsumTarget&&x>0&&a.jsx("p",{className:"text-xs text-emerald-400/70 pb-2.5",children:"Using suggested"}),!S&&s.lumpsumTarget>=100&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] pb-2.5",children:"Using lumpsum target"})]}),M&&a.jsxs("p",{className:"text-xs text-amber-400/80 px-1",children:["Below minimum  distributes proportionally but won't fully rebalance. Need ",G(x)," for exact target %."]}),v.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Allocation"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Invest"})]})}),a.jsx("tbody",{children:v.map(j=>a.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 ${j.invest===0?"opacity-50":""}`,children:[a.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:j.fundName}),a.jsxs("td",{className:"py-2 px-2 text-right tabular-nums",children:[a.jsxs("span",{className:j.isOverweight?"text-amber-400":j.invest>0?"text-blue-400":"text-[var(--text-dim)]",children:[j.currentPct.toFixed(1),"%"]}),a.jsxs("span",{className:"text-[var(--text-dim)]",children:["  ",j.newPct.toFixed(1),"%"]})]}),a.jsx("td",{className:"py-2 px-2 text-right font-semibold tabular-nums",children:j.isOverweight?a.jsx("span",{className:"text-amber-400/70 text-xs",children:"Overweight"}):j.invest>0?a.jsx("span",{className:"text-emerald-400",children:Ss(j.invest)}):a.jsx("span",{className:"text-[var(--text-dim)] text-xs",children:"Balanced"})})]},j.holdingId))}),b>0&&a.jsx("tfoot",{children:a.jsxs("tr",{className:"border-t border-[var(--border)]",children:[a.jsx("td",{className:"py-1.5 px-2 text-xs font-bold text-[var(--text-primary)]",colSpan:2,children:"Total"}),a.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-emerald-400 tabular-nums",children:G(b)})]})})]})}):a.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2 text-center",children:"All funds balanced"}),y&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Overweight funds can't be fixed by buying. Use ",a.jsx("span",{className:"font-semibold text-amber-400",children:"Buy / Sell"})," tab to sell overweight and buy underweight."]})]})}function C3({portfolio:s,holdings:l,totalValue:r}){const t=(s.rebalanceThreshold||.05)*100,o=l.some(m=>m.targetAllocationPct>0),u=l.some(m=>m.targetAllocationPct===0&&m.units>0);if(!o&&!u)return a.jsx(jp,{});const d=l.filter(m=>m.targetAllocationPct>0||m.units>0).map(m=>{const x=r>0?m.currentValue/r*100:0,p=m.targetAllocationPct===0&&m.units>0,v=p||Math.abs(x-m.targetAllocationPct)>t,b=m.targetAllocationPct/100*r,y=v?b-m.currentValue:0;return{...m,currentPct:x,amount:y,isExit:p}}).filter(m=>Math.abs(m.amount)>=500);return d.length===0?a.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"Portfolio is balanced"}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Drift"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Action"})]})}),a.jsx("tbody",{children:d.map(m=>{const x=m.amount>0;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[a.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:m.fundName}),a.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:m.isExit?a.jsxs("span",{className:"text-[var(--accent-rose)]",children:[m.currentPct.toFixed(1),"%  Exit"]}):`${m.currentPct.toFixed(1)}%  ${m.targetAllocationPct.toFixed(1)}%`}),a.jsx("td",{className:"py-2 px-2 text-right",children:a.jsxs("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${x?"bg-emerald-500/20 text-emerald-400":"bg-rose-500/20 text-[var(--accent-rose)]"}`,children:[x?"Buy":m.isExit?"Exit":"Sell"," ",Ss(Math.abs(m.amount))]})})]},m.schemeCode||m.fundCode)})})]})})}function w1(){const{mfHoldings:s,mfPortfolios:l}=Ve(),[r,t]=N.useState("buysell"),o=N.useMemo(()=>l.filter(x=>x.status!=="Inactive").map(x=>{const p=s.filter(j=>j.portfolioId===x.portfolioId&&j.units>0),v=p.reduce((j,g)=>j+g.currentValue,0),b=(x.rebalanceThreshold||.05)*100,y=p.filter(j=>{if(j.targetAllocationPct<=0)return!1;const g=v>0?j.currentValue/v*100:0;return Math.abs(g-j.targetAllocationPct)>b}).length,S=p.filter(j=>j.targetAllocationPct===0&&j.units>0&&j.currentValue>=500).length,M=p.some(j=>j.targetAllocationPct>0);return{...x,holdings:p,totalValue:v,driftedCount:y,exitCount:S,hasTargets:M}}).filter(x=>x.driftedCount>0||x.exitCount>0),[l,s]);if(o.length===0){const x=s.some(p=>p.targetAllocationPct>0);return a.jsx("div",{className:"py-8 text-center",children:x?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"All portfolios are balanced"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"No funds exceed their rebalance threshold"})]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No target allocations set"}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:["Use ",a.jsx("span",{className:"font-semibold text-violet-400",children:"Allocations"})," to set target % for each fund, then rebalance will show drift"]})]})})}const d=o.some(x=>(x.sipTarget||0)>=500)?Ob:Ob.filter(x=>x.key!=="sip"),m=d.some(x=>x.key===r)?r:d[0]?.key||"buysell";return a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex bg-[var(--bg-inset)] rounded-lg p-0.5",children:d.map(({key:x,label:p,icon:v,color:b,dimColor:y,activeBg:S})=>a.jsxs("button",{onClick:()=>t(x),className:`flex-1 flex items-center justify-center gap-1.5 py-2 rounded-md text-xs font-semibold transition-colors ${m===x?`${S} ${b} shadow-sm`:y}`,children:[a.jsx(v,{size:13})," ",p]},x))}),o.map((x,p)=>a.jsxs("div",{className:"border border-[var(--border-light)] border-l-2 border-l-violet-500/50 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between px-3 py-2.5 bg-[var(--bg-inset)]",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs font-bold text-violet-400 bg-violet-500/15 w-5 h-5 rounded flex items-center justify-center",children:p+1}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:x.portfolioName}),a.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:x.ownerName}),x.driftedCount>0&&a.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-amber-500/15 text-amber-400",children:[x.driftedCount," drifted"]}),x.exitCount>0&&a.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-rose-500/15 text-[var(--accent-rose)]",children:[x.exitCount," exit"]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-muted)]",children:[a.jsx("span",{className:"font-semibold text-[var(--text-secondary)]",children:G(x.totalValue)}),a.jsxs("span",{children:["Threshold: ",((x.rebalanceThreshold||.05)*100).toFixed(0),"%"]}),x.sipTarget>=100&&a.jsxs("span",{children:["SIP: ",G(x.sipTarget),"/mo"]})]})]}),a.jsxs("div",{className:"px-3 py-2",children:[m==="sip"&&a.jsx(w3,{portfolio:x,holdings:x.holdings,totalValue:x.totalValue}),m==="lumpsum"&&a.jsx(S3,{portfolio:x,holdings:x.holdings,totalValue:x.totalValue}),m==="buysell"&&a.jsx(C3,{portfolio:x,holdings:x.holdings,totalValue:x.totalValue})]})]},x.portfolioId))]})}const k3="https://raw.githubusercontent.com/jagadeeshkmanne/capital-friends/main/logo.png",Rb={mf:{label:"Mutual Funds",color:"bg-violet-500",order:1,route:"/investments/mutual-funds"},stocks:{label:"Stocks",color:"bg-blue-500",order:2,route:"/investments/stocks"},Debt:{label:"Debt",color:"bg-cyan-500",order:3,route:"/investments/other"},Gold:{label:"Gold",color:"bg-amber-500",order:4,route:"/investments/other"},Silver:{label:"Silver",color:"bg-slate-400",order:5,route:"/investments/other"},Property:{label:"Real Estate",color:"bg-orange-500",order:6,route:"/investments/other"},Alternative:{label:"Alternative",color:"bg-violet-400",order:7,route:"/investments/other"},Equity:{label:"Equity",color:"bg-emerald-500",order:8,route:"/investments/other"},Other:{label:"Other",color:"bg-gray-500",order:9,route:"/investments/other"}},Fc=["from-violet-500 to-indigo-500","from-rose-500 to-pink-500","from-blue-500 to-cyan-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],Ib=["bg-violet-500","bg-rose-500","bg-blue-500","bg-amber-500","bg-emerald-500"],D3=[{label:"Family Members",path:"/family",match:"/family"},{label:"Bank Accounts",path:"/accounts/bank",match:"/accounts/bank"},{label:"Investment Accounts",path:"/accounts/investment",match:"/accounts/investment"},{label:"Insurance",path:"/insurance",match:"/insurance"},{label:"Mutual Funds",path:"/investments/mutual-funds",match:"/investments/mutual-funds"},{label:"Stocks",path:"/investments/stocks",match:"/investments/stocks"},{label:"Other Investments",path:"/investments/other",match:"/investments/other"},{label:"Goals",path:"/goals",match:"/goals"}],M3={buyopp:"Buying Opportunities",rebalance:"Rebalance Alerts"};function A3({onMenuClick:s}){const{theme:l,toggle:r}=my(),{selectedMember:t,setSelectedMember:o,familyMembers:u}=Jt(),{mfPortfolios:d,mfHoldings:m,stockPortfolios:x,stockHoldings:p,otherInvList:v,liabilityList:b,refreshData:y,isRefreshing:S}=Ve(),{user:M,signOut:j}=Is(),{masked:g,toggleMask:w,mv:D}=zn(),k=Rs(),T=en(),{criticalAlerts:_,upcomingReminders:B,investmentSignals:H}=zC(),[O,L]=N.useState(!1),[I,V]=N.useState(!1),[A,se]=N.useState(null),[oe,U]=N.useState(!1),[z,W]=N.useState(!1),[R,ne]=N.useState(!0),ve=N.useRef(null),P=N.useRef(null),ee=N.useRef(null),ue=_.length+B.length,{buyOppCount:fe,buyCount:ye,strongBuyCount:we,rebalanceCount:Se}=H;N.useEffect(()=>{function xe(He){ve.current&&!ve.current.contains(He.target)&&L(!1),P.current&&!P.current.contains(He.target)&&V(!1)}return(O||I)&&document.addEventListener("mousedown",xe),()=>document.removeEventListener("mousedown",xe)},[O,I]);const Te=u.findIndex(xe=>xe.memberId===t),Be=Te>=0?u[Te]:null,Ft=N.useMemo(()=>{const xe=(me,Ee)=>t==="all"?me:me.filter(Pe=>Pe[Ee]===t),He={},mt=(me,Ee,Pe,le)=>{He[me]||(He[me]={items:[],invested:0}),He[me].items.push({label:Ee,value:Pe}),He[me].invested+=le};xe((d||[]).filter(me=>me.status==="Active"),"ownerId").forEach(me=>{const Ee=(m||[]).filter(We=>We.portfolioId===me.portfolioId&&We.units>0),Pe=Ee.reduce((We,Me)=>We+Me.currentValue,0),le=Ee.reduce((We,Me)=>We+Me.investment,0);Pe>0&&mt("mf",me.portfolioName?.replace(/^PFL-/,"")||me.portfolioName,Pe,le)}),xe((x||[]).filter(me=>me.status==="Active"),"ownerId").forEach(me=>{const Ee=(p||[]).filter(We=>We.portfolioId===me.portfolioId),Pe=Ee.reduce((We,Me)=>We+Me.currentValue,0),le=Ee.reduce((We,Me)=>We+Me.totalInvestment,0);Pe>0&&mt("stocks",me.portfolioName,Pe,le)}),xe((v||[]).filter(me=>me.status==="Active"),"familyMemberId").forEach(me=>{const Ee=me.investmentCategory||"Other";mt(Ee,me.investmentName||me.investmentType||"Other",me.currentValue,me.investedAmount||0)});const _t=Object.entries(He).map(([me,{items:Ee,invested:Pe}])=>{const le=Rb[me]||Rb.Other,We=Ee.reduce((Me,kt)=>Me+kt.value,0);return{key:me,label:le.label,color:le.color,order:le.order,route:le.route,total:We,invested:Pe,items:Ee.sort((Me,kt)=>kt.value-Me.value)}}).filter(me=>me.total>0).sort((me,Ee)=>me.order-Ee.order),Gt=xe((b||[]).filter(me=>me.status==="Active"),"familyMemberId"),Zr=Gt.map(me=>({label:me.liabilityName||me.liabilityType||"Loan",value:me.outstandingBalance})),Bn=Gt.reduce((me,Ee)=>me+Ee.outstandingBalance,0),Q=_t.reduce((me,Ee)=>me+Ee.total,0),de=_t.reduce((me,Ee)=>me+Ee.invested,0);return{netWorth:Q-Bn,totalInv:Q,totalInvested:de,sections:_t,totalLiab:Bn,liabilities:Zr}},[t,d,m,x,p,v,b]);function ta(){L(!1),V(!1)}function Ut(){if(!ee.current)return;const{scrollLeft:xe,scrollWidth:He,clientWidth:mt}=ee.current;W(xe>5),ne(xe+mt<He-5)}function Ct(xe){if(!ee.current)return;const mt=(ee.current.querySelector("a")?.offsetWidth||240)+12;ee.current.scrollBy({left:xe*mt,behavior:"smooth"})}return N.useEffect(()=>{Ut()},[Ft,oe]),a.jsxs("header",{className:"sticky top-0 z-30 shrink-0",children:[a.jsx("style",{children:`
        @keyframes glow-emerald {
          0%, 100% { box-shadow: 0 0 6px rgba(16,185,129,0.3), 0 0 12px rgba(16,185,129,0.15); }
          50% { box-shadow: 0 0 12px rgba(16,185,129,0.5), 0 0 24px rgba(16,185,129,0.25); }
        }
        @keyframes glow-violet {
          0%, 100% { box-shadow: 0 0 6px rgba(139,92,246,0.3), 0 0 12px rgba(139,92,246,0.15); }
          50% { box-shadow: 0 0 12px rgba(139,92,246,0.5), 0 0 24px rgba(139,92,246,0.25); }
        }
        .glow-emerald { animation: glow-emerald 2s ease-in-out infinite; }
        .glow-violet { animation: glow-violet 2s ease-in-out infinite; }
      `}),a.jsx("div",{className:"relative z-10 bg-[var(--bg-header)]/95 backdrop-blur-sm border-b border-[var(--border)]",children:a.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 h-14",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:s,className:"lg:hidden p-2 -ml-1.5 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:a.jsx(H5,{size:20})}),a.jsx("img",{src:k3,alt:"Capital Friends",className:"h-10"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[fe>0&&a.jsxs("button",{onClick:()=>{se(A==="buyopp"?null:"buyopp"),ta()},className:`glow-emerald flex items-center gap-1.5 text-xs font-bold whitespace-nowrap px-3 py-1.5 rounded-full transition-all ${A==="buyopp"?"bg-emerald-500/30 text-emerald-300 ring-1 ring-emerald-400/50":"bg-emerald-500/15 text-emerald-400 hover:bg-emerald-500/25"}`,children:[a.jsx(Iu,{size:13,strokeWidth:2.5}),a.jsx("span",{className:"hidden sm:inline",children:we>0?"Buy Opportunities":"Buying Opportunities"}),we>0&&a.jsxs("span",{className:"text-[11px] bg-emerald-500/30 px-1.5 py-0.5 rounded-full",children:[we," Strong"]}),ye>0&&a.jsxs("span",{className:"text-[11px] bg-emerald-500/20 px-1.5 py-0.5 rounded-full",children:[ye," Buy"]})]}),Se>0&&a.jsxs("button",{onClick:()=>{se(A==="rebalance"?null:"rebalance"),ta()},className:`glow-violet flex items-center gap-1.5 text-xs font-bold whitespace-nowrap px-3 py-1.5 rounded-full transition-all ${A==="rebalance"?"bg-violet-500/30 text-violet-300 ring-1 ring-violet-400/50":"bg-violet-500/15 text-violet-400 hover:bg-violet-500/25"}`,children:[a.jsx(Ml,{size:13,strokeWidth:2.5}),a.jsx("span",{className:"hidden sm:inline",children:"Rebalance Alerts"}),a.jsx("span",{className:"text-[11px] bg-violet-500/30 px-1.5 py-0.5 rounded-full",children:Se})]}),a.jsx("button",{onClick:()=>y(!0),disabled:S,className:`p-2 rounded-lg transition-colors ${S?"text-blue-400 cursor-not-allowed":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,title:"Sync data from Google Sheets",children:a.jsx(Ml,{size:18,className:S?"animate-spin":""})}),a.jsx("button",{onClick:w,className:`p-2 rounded-lg transition-colors ${g?"text-amber-400 bg-amber-500/10":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,title:g?"Data masked  click to reveal":"Mask sensitive data",children:g?a.jsx(au,{size:18}):a.jsx(ip,{size:18})}),a.jsx("button",{onClick:r,className:"p-2 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",title:`Switch to ${l==="dark"?"light":"dark"} mode`,children:l==="dark"?a.jsx(Of,{size:18}):a.jsx(My,{size:18})}),ue>0&&a.jsxs("div",{className:"relative",ref:P,children:[a.jsxs("button",{onClick:()=>{V(!I),L(!1)},className:"relative p-2 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx(Ou,{size:18}),a.jsx("span",{className:"absolute -top-0.5 -right-0.5 min-w-[16px] h-4 flex items-center justify-center text-[9px] font-bold text-white bg-rose-500 rounded-full px-1",children:ue})]}),I&&a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-xl shadow-black/20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[a.jsx("div",{className:"px-3 py-2 border-b border-[var(--border-light)]",children:a.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:"Notifications"})}),a.jsxs("div",{className:"max-h-[300px] overflow-y-auto py-1",children:[_.map((xe,He)=>{const mt={critical:"bg-rose-500",warning:"bg-amber-500",info:"bg-blue-500"}[xe.type],ia={critical:"bg-rose-500/15 text-rose-400",warning:"bg-amber-500/15 text-amber-400",info:"bg-blue-500/15 text-blue-400"}[xe.type];return a.jsxs("button",{onClick:()=>{V(!1),k(xe.navigateTo)},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${mt}`}),a.jsx("span",{className:"text-xs text-[var(--text-secondary)] flex-1 text-left truncate",children:xe.title}),a.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded-full shrink-0 ${ia}`,children:xe.badge})]},`c-${He}`)}),_.length>0&&B.length>0&&a.jsx("div",{className:"mx-3 my-1 border-t border-[var(--border-light)]"}),B.map(xe=>{const He=xe.days<=7?"bg-rose-500/15 text-rose-400":xe.days<=15?"bg-amber-500/15 text-amber-400":"bg-slate-500/15 text-[var(--text-muted)]";return a.jsxs("button",{onClick:()=>{V(!1),k("/reminders")},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[a.jsx("span",{className:"w-2 h-2 rounded-full shrink-0 bg-amber-500"}),a.jsx("span",{className:"text-xs text-[var(--text-secondary)] flex-1 truncate",children:xe.title}),a.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded-full shrink-0 ${He}`,children:xe.days===0?"Today":xe.days<=30?`${xe.days}d`:xe.dateStr})]},`r-${xe.reminderId}`)})]})]})]}),a.jsxs("div",{className:"relative",ref:ve,children:[a.jsxs("button",{onClick:()=>{L(!O),V(!1)},className:"flex items-center gap-1.5 pl-1 pr-2 py-1 rounded-full hover:bg-[var(--bg-hover)] transition-colors",children:[Be?a.jsx("div",{className:`w-8 h-8 rounded-full bg-gradient-to-br ${Fc[Te%Fc.length]} flex items-center justify-center text-white text-xs font-bold shadow-sm`,children:Be.memberName.charAt(0)}):a.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-500 flex items-center justify-center text-white shadow-sm",children:a.jsx(Tl,{size:14})}),a.jsx(dr,{size:14,className:`text-[var(--text-muted)] transition-transform ${O?"rotate-180":""}`})]}),O&&a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-xl shadow-black/20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[a.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)]",children:a.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:"Viewing as"})}),a.jsxs("div",{className:"py-1.5",children:[a.jsxs("button",{onClick:()=>{o("all"),L(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${t==="all"?"bg-violet-500/10":"hover:bg-[var(--bg-hover)]"}`,children:[a.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-violet-500 to-indigo-500 flex items-center justify-center text-white shadow-sm shrink-0",children:a.jsx(Tl,{size:15})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:`text-sm font-semibold truncate ${t==="all"?"text-violet-400":"text-[var(--text-primary)]"}`,children:"Everyone"}),a.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:"All family members"})]}),t==="all"&&a.jsx(P0,{size:16,className:"text-violet-400 shrink-0"})]}),u.length>0&&a.jsx("div",{className:"mx-4 my-1 border-t border-[var(--border-light)]"}),u.map((xe,He)=>{const mt=t===xe.memberId;return a.jsxs("button",{onClick:()=>{o(xe.memberId),L(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${mt?`${Ib[He%Ib.length]}/10`:"hover:bg-[var(--bg-hover)]"}`,children:[a.jsx("div",{className:`w-9 h-9 rounded-full bg-gradient-to-br ${Fc[He%Fc.length]} flex items-center justify-center text-white text-sm font-bold shadow-sm shrink-0`,children:xe.memberName.charAt(0)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold truncate text-[var(--text-primary)]",children:D(xe.memberName,"name")}),a.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:xe.relationship||"Family member"})]}),mt&&a.jsx(P0,{size:16,className:"text-emerald-400 shrink-0"})]},xe.memberId)})]}),a.jsxs("div",{className:"border-t border-[var(--border-light)] py-1.5",children:[a.jsxs(Sl,{to:"/settings",onClick:()=>L(!1),className:"w-full flex items-center gap-3 px-4 py-2.5 text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx(op,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:"Settings"})]}),M&&a.jsx("div",{className:"px-4 py-1.5",children:a.jsx("p",{className:"text-[11px] text-[var(--text-muted)] truncate",children:D(M.email,"email")})}),a.jsxs("button",{onClick:()=>{j(),L(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-left text-rose-400 hover:bg-rose-500/10 transition-colors",children:[a.jsx(Dy,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:"Sign out"})]})]})]})]})]})]})}),a.jsx(PC,{}),a.jsx("nav",{className:"bg-[var(--bg-header)]/90 backdrop-blur-sm border-b border-[var(--border)]",children:a.jsxs("div",{className:"flex items-center px-3 sm:px-4 py-1.5",children:[a.jsx("div",{className:"flex items-center gap-1 overflow-x-auto no-scrollbar flex-1 min-w-0",children:D3.map(xe=>{const He=T.pathname.startsWith(xe.match);return a.jsx(Sl,{to:xe.path,className:`whitespace-nowrap px-3 py-1.5 rounded-lg text-[13px] font-medium transition-colors ${He?"bg-violet-500/15 text-violet-400":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,children:xe.label},xe.path)})}),a.jsxs("button",{onClick:()=>U(!oe),className:"shrink-0 ml-3 flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-emerald-500/10 border border-emerald-500/20 hover:bg-emerald-500/15 transition-colors",children:[a.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-emerald-400/70",children:"Net Worth"}),a.jsx("span",{className:"text-sm font-extrabold text-emerald-400 tabular-nums",children:G(Ft.netWorth)}),a.jsx(dr,{size:12,className:`text-emerald-400/60 transition-transform duration-200 ${oe?"rotate-180":""}`})]})]})}),oe&&a.jsx("div",{className:"bg-[var(--bg-card)]/90 backdrop-blur-sm border-b border-[var(--border-light)] animate-in slide-in-from-top-2 fade-in duration-200",children:a.jsxs("div",{className:"relative max-w-7xl mx-auto",children:[z&&a.jsx("button",{onClick:()=>Ct(-1),className:"absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 z-10 w-7 h-7 flex items-center justify-center rounded-full bg-[var(--bg-card)] border border-[var(--border)] shadow-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:a.jsx(by,{size:14})}),a.jsxs("div",{ref:ee,onScroll:Ut,className:"flex gap-3 px-12 sm:px-14 py-3 overflow-x-auto scroll-smooth snap-x snap-mandatory no-scrollbar",children:[Ft.sections?.map(xe=>a.jsxs(Sl,{to:xe.route,className:"group snap-start shrink-0 w-[calc(50%-6px)] sm:w-[calc(33.333%-8px)] lg:w-[calc(25%-9px)] rounded-lg p-3 bg-[var(--bg-inset)] hover:bg-[var(--bg-hover)] border border-[var(--border-light)] transition-colors",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[a.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] font-bold uppercase tracking-wider text-[var(--text-muted)]",children:[a.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${xe.color}`}),xe.label]}),a.jsx(Wi,{size:10,className:"text-[var(--text-dim)] opacity-0 group-hover:opacity-100 transition-opacity"})]}),a.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums mb-1",children:G(xe.total)}),xe.items.length>0&&a.jsx("div",{className:"space-y-0.5",children:xe.items.map(He=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[11px] text-[var(--text-dim)] truncate mr-2",children:He.label}),a.jsx("span",{className:"text-[11px] text-[var(--text-muted)] tabular-nums shrink-0",children:G(He.value)})]},He.label))})]},xe.key)),Ft.totalLiab>0&&a.jsxs(Sl,{to:"/liabilities",className:"group snap-start shrink-0 w-[calc(50%-6px)] sm:w-[calc(33.333%-8px)] lg:w-[calc(25%-9px)] rounded-lg p-3 bg-[var(--bg-inset)] hover:bg-[var(--bg-hover)] border border-[var(--border-light)] transition-colors",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[a.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] font-bold uppercase tracking-wider text-[var(--text-muted)]",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-rose-500"}),"Liabilities"]}),a.jsx(Wi,{size:10,className:"text-[var(--text-dim)] opacity-0 group-hover:opacity-100 transition-opacity"})]}),a.jsxs("p",{className:"text-base font-bold text-[var(--accent-rose)] tabular-nums mb-1",children:["",G(Ft.totalLiab)]}),Ft.liabilities?.length>0&&a.jsx("div",{className:"space-y-0.5",children:Ft.liabilities.map(xe=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[11px] text-[var(--text-dim)] truncate mr-2",children:xe.label}),a.jsx("span",{className:"text-[11px] text-[var(--accent-rose)]/70 tabular-nums shrink-0",children:G(xe.value)})]},xe.label))})]})]}),R&&a.jsx("button",{onClick:()=>Ct(1),className:"absolute right-2 sm:right-3 top-1/2 -translate-y-1/2 z-10 w-7 h-7 flex items-center justify-center rounded-full bg-[var(--bg-card)] border border-[var(--border)] shadow-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:a.jsx(Wi,{size:14})})]})}),A&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-16 sm:pt-24 px-3",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>se(null)}),a.jsxs("div",{className:"relative w-full max-w-3xl max-h-[75vh] rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-2xl shadow-black/40 overflow-hidden flex flex-col animate-in fade-in slide-in-from-top-4 duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-[var(--border-light)] shrink-0",children:[a.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:M3[A]}),a.jsx("button",{onClick:()=>se(null),className:"p-1.5 rounded-lg hover:bg-[var(--bg-hover)] text-[var(--text-dim)] transition-colors",children:a.jsx(io,{size:16})})]}),a.jsxs("div",{className:"overflow-y-auto p-4",children:[A==="buyopp"&&a.jsx(Ly,{}),A==="rebalance"&&a.jsx(w1,{})]})]})]})]})}const T3=[{label:"Invest",icon:Cl,path:"/investments/mutual-funds"},{label:"Accounts",icon:eo,path:"/accounts/bank"},{label:"Goals",icon:lo,path:"/goals"},{label:"Reminders",icon:Ou,path:"/reminders"},{label:"More",icon:x5,path:"/more"}];function E3(){return a.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-40 bg-[var(--bg-sidebar)] border-t border-[var(--border)] safe-bottom",children:a.jsx("div",{className:"flex items-center justify-around h-[56px]",children:T3.map(({label:s,icon:l,path:r})=>a.jsx(tp,{to:r,className:({isActive:t})=>`relative flex flex-col items-center justify-center gap-0.5 w-full h-full text-xs font-medium transition-colors ${t?"text-[var(--sidebar-active-text)]":"text-[var(--text-dim)]"}`,children:({isActive:t})=>a.jsxs(a.Fragment,{children:[t&&a.jsx("span",{className:"absolute top-0 w-10 h-[2.5px] bg-[var(--sidebar-active-text)] rounded-b-full"}),a.jsx("div",{className:`flex items-center justify-center w-9 h-9 rounded-xl transition-colors ${t?"bg-[var(--sidebar-active-bg)]":""}`,children:a.jsx(l,{size:19,strokeWidth:t?2.2:1.5})}),a.jsx("span",{className:t?"font-semibold":"",children:s})]})},r))})})}const _3="/logo-small.png",jf=[{key:"auth",label:"Signing in"},{key:"data",label:"Loading your data"},{key:"health",label:"Checking health status"},{key:"ready",label:"Almost ready"}];function Mu({phase:s="auth"}){const[l,r]=N.useState("");N.useEffect(()=>{const o=setInterval(()=>{r(u=>u.length>=3?"":u+".")},500);return()=>clearInterval(o)},[]);const t=jf.findIndex(o=>o.key===s);return a.jsx("div",{className:"flex h-dvh items-center justify-center bg-[var(--bg-base)]",children:a.jsxs("div",{className:"flex flex-col items-center gap-8",children:[a.jsx("img",{src:_3,alt:"Capital Friends",className:"h-16 w-16 animate-pulse"}),a.jsxs("div",{className:"flex flex-col items-center gap-4 min-w-[220px]",children:[jf.map((o,u)=>{const d=u===t,m=u<t;return a.jsxs("div",{className:"flex items-center gap-3 w-full",children:[a.jsx("div",{className:`flex-shrink-0 w-5 h-5 rounded-full flex items-center justify-center text-xs font-medium transition-all duration-300 ${m?"bg-green-500 text-white":d?"bg-violet-500 text-white animate-pulse":"bg-[var(--border)] text-[var(--text-muted)]"}`,children:m?"":u+1}),a.jsxs("span",{className:`text-sm transition-all duration-300 ${m?"text-green-400":d?"text-[var(--text-primary)] font-medium":"text-[var(--text-muted)]"}`,children:[o.label,d?l:""]})]},o.key)}),a.jsx("div",{className:"w-full h-1 rounded-full bg-[var(--border)] overflow-hidden mt-2",children:a.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-violet-500 to-cyan-500 transition-all duration-500 ease-out",style:{width:`${(t+1)/jf.length*100}%`}})})]})]})})}function O3(){const[s,l]=N.useState(!1),{loading:r,error:t}=Ve();return r?a.jsx(Mu,{}):t?a.jsx("div",{className:"flex h-dvh items-center justify-center bg-[var(--bg-base)]",children:a.jsxs("div",{className:"flex flex-col items-center gap-4 text-center px-6",children:[a.jsx("img",{src:"/logo-small.png",alt:"Capital Friends",className:"h-16 w-16 opacity-50"}),a.jsx("p",{className:"text-rose-400 text-sm font-medium",children:t}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 text-sm font-medium rounded-lg bg-violet-600 hover:bg-violet-500 text-white transition-colors",children:"Retry"})]})}):a.jsxs("div",{className:"flex flex-col h-dvh bg-[var(--bg-base)] overflow-hidden",children:[a.jsx(A3,{onMenuClick:()=>l(!0)}),a.jsx(_C,{open:s,onClose:()=>l(!1)}),a.jsx("main",{className:"flex-1 overflow-y-auto overscroll-contain pb-20 lg:pb-0",children:a.jsx("div",{className:"px-3 sm:px-4 py-3 sm:py-4 w-full max-w-7xl mx-auto",children:a.jsx(Ag,{})})}),a.jsx(E3,{})]})}function R3(){const{isAuthenticated:s,loading:l}=Is(),{healthCheckCompleted:r,loading:t}=Ve(),o=en();return l&&!s?a.jsx(Mu,{phase:"auth"}):!s&&!l?a.jsx(uu,{to:"/",replace:!0}):t?a.jsx(Mu,{phase:"data"}):r===!1&&o.pathname!=="/health-check"?a.jsx(uu,{to:"/health-check",replace:!0}):a.jsx(Ag,{})}const Lb="https://raw.githubusercontent.com/jagadeeshkmanne/capital-friends/main/logo.png";function S1(){const{isAuthenticated:s,loading:l,error:r,signIn:t}=Is(),o=Rs(),[u,d]=N.useState(0),[m,x]=N.useState(!1),p=N.useRef(null),v=N.useCallback(()=>{p.current&&clearInterval(p.current),p.current=setInterval(()=>{x(M=>(M||d(j=>(j+1)%4),M))},5e3)},[]);N.useEffect(()=>(v(),()=>{p.current&&clearInterval(p.current)}),[v]);function b(M){d(M),v()}if(N.useEffect(()=>{s&&o("/dashboard",{replace:!0})},[s,o]),l)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#080d1a]",children:a.jsx("img",{src:"/logo-small.png",alt:"",className:"h-16 w-16 animate-pulse"})});const y=[{id:"ath",label:"ATH Tracking",icon:a.jsx(Al,{size:18}),color:"emerald",tagline:"Spot Buying Opportunities",desc:"See how far each mutual fund is from its All-Time High NAV. When a quality fund dips 10-20% below ATH, it's your signal to invest more  via SIP increase or lumpsum.",mock:a.jsx(L3,{})},{id:"rebalance",label:"Rebalancing",icon:a.jsx(Ml,{size:18}),color:"violet",tagline:"Know Exactly What to Buy or Sell",desc:"Set target allocation for each fund. When your portfolio drifts, Capital Friends tells you exactly how much to adjust  via SIP changes, lumpsum top-ups, or buy/sell actions.",mock:a.jsx(P3,{})},{id:"goals",label:"Goal Linking",icon:a.jsx(lo,{size:18}),color:"cyan",tagline:"Link Portfolios to Goals",desc:"Create goals like retirement, child education, or emergency fund. Link MF portfolios with allocation percentages. Goal progress updates automatically as NAVs change daily.",mock:a.jsx(z3,{})},{id:"dashboard",label:"Family View",icon:a.jsx(Tl,{size:18}),color:"amber",tagline:"Everyone's Wealth, One Dashboard",desc:"Switch between family members in one click. See combined or individual net worth, investments, insurance, loans  everything your family owns, in one place.",mock:a.jsx(I3,{})}],S=y[u];return a.jsxs("div",{className:"min-h-screen bg-[#080d1a] text-slate-200",children:[a.jsx("header",{className:"sticky top-0 z-50 bg-[#0a0f1f]/95 backdrop-blur-sm border-b border-white/[0.06]",children:a.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 h-14",children:[a.jsx("img",{src:Lb,alt:"Capital Friends",className:"h-12"}),a.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-violet-600 to-cyan-600 text-white text-sm font-semibold hover:from-violet-500 hover:to-cyan-500 transition-all cursor-pointer",children:[a.jsx(zb,{s:14})," Sign In"]})]})}),a.jsxs("section",{className:"relative px-5 sm:px-8 lg:px-16 pt-10 sm:pt-14 pb-8 sm:pb-10 overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 left-1/4 w-[600px] h-[400px] bg-violet-600/8 rounded-full blur-[120px] pointer-events-none"}),a.jsx("div",{className:"absolute top-20 right-1/4 w-[400px] h-[300px] bg-cyan-600/6 rounded-full blur-[100px] pointer-events-none"}),a.jsxs("div",{className:"relative text-center",children:[a.jsx("span",{className:"inline-block text-xs font-bold uppercase tracking-[0.2em] text-violet-400 bg-violet-500/10 border border-violet-500/20 rounded-full px-4 py-1.5 mb-5",children:"Always Free  100% Private  Your Google Sheet"}),a.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-extrabold leading-[1.1] tracking-tight text-white",children:["One dashboard for your family's"," ",a.jsx("span",{className:"bg-gradient-to-r from-violet-400 to-cyan-400 bg-clip-text text-transparent",children:"entire wealth"})]}),a.jsxs("p",{className:"mt-5 text-base sm:text-lg text-slate-400 leading-relaxed max-w-2xl mx-auto",children:["Mutual funds, stocks, FDs, gold, insurance, loans  track everything for every family member. Manual entry means ",a.jsx("strong",{className:"text-white",children:"no bank credentials, no privacy risk"}),"."]}),r&&a.jsx("p",{className:"mt-5 text-sm text-rose-400",children:r})]})]}),a.jsxs("section",{className:"bg-gradient-to-b from-[#0d0a1a] to-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-10 sm:py-14",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white inline-flex items-center gap-3 flex-wrap justify-center",children:[a.jsx(Es,{size:28,className:"text-amber-400 shrink-0"}),a.jsxs("span",{children:["What happens if something happens to ",a.jsx("span",{className:"text-amber-400",children:"you"}),"?"]})]}),a.jsxs("p",{className:"mt-4 text-lg text-slate-400 leading-relaxed",children:["Your family should know about every investment, every policy, every loan. Not someday. ",a.jsx("strong",{className:"text-white",children:"Right now."})]})]}),a.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[a.jsx(Pb,{icon:a.jsx(ip,{size:20}),color:"rose",title:"Without Capital Friends",items:["Scattered investments across 10+ platforms","Family has no idea what you own or owe","Insurance policies lost in email threads","Months of confusion, missed renewals, lost money"],bad:!0}),a.jsx(Pb,{icon:a.jsx(Zi,{size:20}),color:"emerald",title:"With Capital Friends",items:["One sheet  every investment, policy, and loan","Family receives email reports with full portfolio details","Reminders for SIPs, renewals, EMI payments","Complete clarity, instantly  when it matters most"]})]}),a.jsxs("p",{className:"text-center mt-8 text-base text-slate-500",children:["Built for ",a.jsx("strong",{className:"text-white",children:"you"})," to manage your wealth  and for your ",a.jsx("strong",{className:"text-white",children:"family"})," to access it when they need to."]})]}),a.jsxs("section",{className:"bg-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"How it Works"}),a.jsx("p",{className:"text-base text-slate-500",children:"Set up in 2 minutes  no bank credentials, no downloads"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-4",children:[a.jsx(Bc,{num:1,icon:a.jsx(L5,{size:24}),color:"violet",title:"Sign In with Google",desc:"Go to capitalfriends.in and sign in with your Google account. That's all  no registration form, no passwords."}),a.jsx(Bc,{num:2,icon:a.jsx(g5,{size:24}),color:"emerald",title:"App Creates Your Sheet",desc:"The app creates a private Google Sheet in your own Google Drive. This sheet stores all your financial data. Only you can see it  not even the developer."}),a.jsx(Bc,{num:3,icon:a.jsx(Ny,{size:24}),color:"cyan",title:"Financial Health Check",desc:"Answer 7 simple yes/no questions about your financial health. Get your score and personalized recommendations instantly."}),a.jsx(Bc,{num:4,icon:a.jsx(Al,{size:24}),color:"amber",title:"Start Tracking",desc:"Add family members, portfolios, goals, insurance, and loans. The app connects to AMFI for live mutual fund prices automatically."})]}),a.jsxs("p",{className:"text-center mt-10 text-sm text-slate-600",children:["Your sheet is named ",a.jsx("strong",{className:"text-slate-400",children:"Capital Friends - Your Name"})," and lives in your Google Drive. The web app is just a beautiful dashboard to view and manage it."]})]}),a.jsxs("section",{id:"features",className:"bg-[#0b1022] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",onMouseEnter:()=>x(!0),onMouseLeave:()=>{x(!1),v()},children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Features That Set Us Apart"}),a.jsx("p",{className:"text-base text-slate-500",children:"Things you won't find on other portfolio trackers"})]}),a.jsx("div",{className:"flex justify-center gap-2 sm:gap-3 mb-10 flex-wrap",children:y.map((M,j)=>{const g=j===u,w={emerald:"border-emerald-500",violet:"border-violet-500",cyan:"border-cyan-500",amber:"border-amber-500"},D={emerald:"text-emerald-400",violet:"text-violet-400",cyan:"text-cyan-400",amber:"text-amber-400"};return a.jsxs("button",{onClick:()=>b(j),className:`relative flex items-center gap-2 px-5 py-2.5 rounded-full border text-sm font-semibold transition-all cursor-pointer ${g?`${w[M.color]} bg-white/[0.05] ${D[M.color]}`:"border-white/[0.08] text-slate-500 hover:border-white/[0.15] hover:text-slate-300"}`,children:[a.jsx("span",{className:"shrink-0",children:M.icon}),M.label,g&&a.jsx("div",{className:"absolute bottom-0 left-4 right-4 h-0.5 bg-white/[0.06] rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full bg-current",style:{animation:"featureProgress 5s linear",animationPlayState:m?"paused":"running"}})})]},M.id)})}),a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-8 lg:gap-12",children:[a.jsxs("div",{className:"lg:flex-1 min-h-[280px]",children:[a.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:S.tagline}),a.jsx("p",{className:"mt-3 text-base text-slate-400 leading-relaxed",children:S.desc}),S.id==="ath"&&a.jsxs("div",{className:"mt-6 space-y-5",children:[a.jsx(ra,{c:"emerald",t:"ATH tracking only for funds in your portfolios"}),a.jsx(ra,{c:"emerald",t:"Color-coded signals: watch, consider, buy, strong buy"}),a.jsx(ra,{c:"emerald",t:"Increase SIP or invest lumpsum when funds dip"}),a.jsx(ra,{c:"emerald",t:"Daily NAV updates from AMFI data"})]}),S.id==="rebalance"&&a.jsxs("div",{className:"mt-6 space-y-5",children:[a.jsx(ra,{c:"violet",t:"Adjust monthly SIP to rebalance gradually"}),a.jsx(ra,{c:"violet",t:"Lumpsum top-up for quick rebalance"}),a.jsx(ra,{c:"violet",t:"Buy/Sell amounts to match target"}),a.jsx(ra,{c:"violet",t:"Configurable threshold per portfolio"})]}),S.id==="goals"&&a.jsxs("div",{className:"mt-6 space-y-5",children:[a.jsx(ra,{c:"cyan",t:"Link multiple MF portfolios to each goal"}),a.jsx(ra,{c:"cyan",t:"Built-in SIP + lumpsum calculator with inflation"}),a.jsx(ra,{c:"cyan",t:"Auto-status: On Track, Needs Attention, Achieved"}),a.jsx(ra,{c:"cyan",t:"Withdrawal planning for retirement goals"})]}),S.id==="dashboard"&&a.jsxs("div",{className:"mt-6 space-y-5",children:[a.jsx(ra,{c:"amber",t:"One-click switch between family members"}),a.jsx(ra,{c:"amber",t:"Combined net worth across everyone"}),a.jsx(ra,{c:"amber",t:"MF, stocks, FD, gold, PPF, NPS, insurance"}),a.jsx(ra,{c:"amber",t:"Email reports sent to family automatically"})]})]}),a.jsx("div",{className:"lg:flex-1 min-w-0 min-h-[380px] flex flex-col justify-center",children:S.mock})]}),a.jsx("style",{children:`
          @keyframes featureProgress {
            from { width: 0% }
            to { width: 100% }
          }
        `})]}),a.jsxs("section",{className:"bg-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Everything You Need"}),a.jsx("p",{className:"text-base text-slate-500",children:"One dashboard for your entire financial life"})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:[a.jsx($r,{icon:a.jsx(Xi,{size:20}),c:"rose",t:"Stock Portfolios",d:"Buy/sell tracking, average cost, P&L with live NSE prices"}),a.jsx($r,{icon:a.jsx(G5,{size:20}),c:"orange",t:"FD, Gold, PPF, NPS",d:"Track any investment type  all counted in net worth"}),a.jsx($r,{icon:a.jsx(Zi,{size:20}),c:"teal",t:"Insurance Tracker",d:"Life, health, term policies with premiums & renewal dates"}),a.jsx($r,{icon:a.jsx(eo,{size:20}),c:"red",t:"Liabilities",d:"Loans & EMIs. Net worth = total assets minus debts"}),a.jsx($r,{icon:a.jsx(Ou,{size:20}),c:"yellow",t:"Smart Reminders",d:"SIP dates, renewals, EMI payments, maturity alerts"}),a.jsx($r,{icon:a.jsx(Tl,{size:20}),c:"pink",t:"Family Sharing",d:"Invite family with Google accounts  shared dashboard"}),a.jsx($r,{icon:a.jsx(Ml,{size:20}),c:"blue",t:"Daily Auto-Refresh",d:"NAVs and stock prices update automatically every day"}),a.jsx($r,{icon:a.jsx(df,{size:20}),c:"emerald",t:"Complete Privacy",d:"No servers, no database, no tracking  your Sheet only"})]})]}),a.jsxs("section",{className:"border-y border-white/[0.06]",children:[a.jsxs("div",{className:"bg-[#0b1022] px-5 sm:px-8 lg:px-16 py-10 sm:py-14 text-center",children:[a.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white inline-flex items-center gap-3",children:[a.jsx(df,{size:28,className:"text-emerald-400 shrink-0"}),"Your Data Never Leaves Google"]}),a.jsxs("p",{className:"mt-3 text-base sm:text-lg text-slate-400 leading-relaxed",children:["No backend server. No database. No tracking. The web app is a static site. Your spreadsheet lives in ",a.jsx("strong",{className:"text-white",children:"your Google Drive"}),". We literally cannot access your financial data."]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row",children:[a.jsx(Cf,{icon:a.jsx(Zi,{size:20}),t:"Manual Entry Only",d:"No bank linking, no credentials shared. You type your data  no one else has access.",bg:"bg-[#0d1326]",c:"emerald"}),a.jsx(Cf,{icon:a.jsx(df,{size:20}),t:"Your Google Sheet",d:"A private spreadsheet in your Drive. Share only with family you choose.",bg:"bg-[#0f1530]",c:"violet"}),a.jsx(Cf,{icon:a.jsx(fu,{size:20}),t:"Always Free",d:"No premium tier, no hidden fees, no ads. Free today, free forever.",bg:"bg-[#111838]",c:"amber"})]})]}),a.jsxs("section",{className:"bg-gradient-to-t from-[#080d1a] to-[#0d1128] border-t border-white/[0.06] px-5 sm:px-8 lg:px-16 py-16 text-center",children:[a.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-white",children:"Start managing your family's wealth today"}),a.jsx("p",{className:"mt-3 text-base text-slate-500",children:"Always free. No credit card. No bank linking. Just your Google account."}),a.jsxs("button",{onClick:t,className:"mt-8 inline-flex items-center gap-2.5 px-8 py-3.5 bg-gradient-to-r from-violet-600 to-cyan-600 text-white font-bold text-base rounded-xl hover:from-violet-500 hover:to-cyan-500 shadow-lg shadow-violet-900/30 transition-all hover:scale-[1.02] cursor-pointer",children:[a.jsx(zb,{s:20})," Sign in with Google  It's Free"]}),r&&a.jsx("p",{className:"mt-3 text-sm text-rose-400",children:r})]}),a.jsxs("footer",{className:"border-t border-white/[0.04] px-5 sm:px-8 lg:px-16 py-5 flex items-center justify-between",children:[a.jsx("img",{src:Lb,alt:"",className:"h-5 opacity-30"}),a.jsx("p",{className:"text-xs text-slate-600",children:"Your data. Your Google Drive. Your control."})]})]})}function Pb({icon:s,title:l,items:r,bad:t}){const o=t?"border-rose-500/15":"border-emerald-500/15",u=t?"bg-rose-500/[0.04]":"bg-emerald-500/[0.04]",d=t?"bg-rose-500/10 text-rose-400":"bg-emerald-500/10 text-emerald-400",m=t?"text-rose-400":"text-emerald-400";return a.jsxs("div",{className:`rounded-2xl border ${o} ${u} p-6`,children:[a.jsxs("h3",{className:`text-lg font-bold ${m} mb-4 flex items-center gap-2.5`,children:[a.jsx("span",{className:`flex items-center justify-center w-8 h-8 rounded-lg ${d} shrink-0`,children:s}),l]}),a.jsx("ul",{className:"space-y-3",children:r.map((x,p)=>a.jsxs("li",{className:"flex items-start gap-2.5",children:[t?a.jsx("span",{className:"text-rose-500/60 mt-0.5 shrink-0",children:""}):a.jsx(Ul,{size:16,className:"text-emerald-500 mt-0.5 shrink-0"}),a.jsx("span",{className:"text-sm text-slate-300 leading-relaxed",children:x})]},p))})]})}function I3(){return a.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f]",children:[a.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Dashboard"}),a.jsx("div",{className:"flex gap-1.5",children:["Everyone","Jagadeesh","Priya","Arjun"].map((s,l)=>a.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full font-medium ${l===0?"bg-violet-500/20 text-violet-300":"text-slate-600"}`,children:s},s))})]}),a.jsxs("div",{className:"grid grid-cols-3 divide-x divide-white/[0.04]",children:[a.jsx(wf,{l:"Net Worth",v:"45.2L",lc:"text-violet-400",vc:"text-white"}),a.jsx(wf,{l:"Invested",v:"38.7L",lc:"text-slate-500",vc:"text-slate-300"}),a.jsx(wf,{l:"P&L",v:"+6.5L",lc:"text-slate-500",vc:"text-emerald-400",extra:"+16.8%"})]}),a.jsxs("div",{className:"border-t border-white/[0.04]",children:[a.jsx(Sf,{n:"Axis Bluechip Fund",alloc:"30% / 25%",cur:"6.2L",pl:"+24.0%",ath:"5.2%",athC:"text-[#e67e00]",up:!0}),a.jsx(Sf,{n:"Parag Parikh Flexi Cap",alloc:"35% / 40%",cur:"4.8L",pl:"+37.1%",ath:"At ATH",athC:"text-emerald-500",up:!0}),a.jsx(Sf,{n:"SBI Small Cap Fund",alloc:"20% / 15%",cur:"1.8L",pl:"-10.0%",ath:"18.3%",athC:"text-[#d84315]",last:!0})]})]})}function L3(){const s=[{n:"HDFC Mid-Cap Opportunities",nav:"142.35",ath:"168.50",pct:"15.5%",color:"text-[#d84315]",signal:"Good Buy Signal",sigC:"text-[#d84315] bg-[#d84315]/15"},{n:"Axis Small Cap Fund",nav:"38.22",ath:"52.10",pct:"26.6%",color:"text-[#c62828]",signal:"Strong Buy",sigC:"text-[#c62828] bg-[#c62828]/15 font-bold"},{n:"Kotak Emerging Equity",nav:"89.10",ath:"92.40",pct:"3.6%",color:"text-[#b8860b]",signal:"Watch",sigC:"text-[#b8860b] bg-[#b8860b]/15"},{n:"Mirae Asset Large Cap",nav:"105.80",ath:"106.20",pct:"0.4%",color:"text-slate-500",signal:"Near ATH",sigC:"text-slate-500 bg-white/[0.04]"}];return a.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-semibold text-white",children:"Buy Opportunities"}),a.jsx("span",{className:"text-xs text-emerald-400 font-semibold bg-emerald-500/10 px-2.5 py-1 rounded-full",children:"2 signals"})]}),s.map((l,r)=>a.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${r<s.length-1?"border-b border-white/[0.03]":""}`,children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-slate-300 truncate",children:l.n}),a.jsxs("p",{className:"text-xs text-slate-600 mt-0.5",children:["NAV ","",l.nav,"  ATH ","",l.ath]})]}),a.jsxs("div",{className:"text-right shrink-0 ml-3",children:[a.jsxs("p",{className:`text-base font-bold tabular-nums ${l.color}`,children:[a.jsx(OS,{size:13,className:"inline -mt-0.5"})," ",l.pct]}),a.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded ${l.sigC}`,children:l.signal})]})]},r))]})}function P3(){const[s,l]=N.useState(0),r=["SIP Adjust","Lumpsum","Buy / Sell"],t=["New SIP","Lumpsum Top-up","Action"],u=[[{n:"Axis Bluechip",val:"SIP 6,000",cur:"30%",tgt:"25%",action:"Stop SIP",actionC:"text-amber-400"},{n:"Parag Parikh Flexi",val:"SIP 7,000",cur:"35%",tgt:"40%",action:"12,000/mo",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"SIP 4,000",cur:"20%",tgt:"15%",action:"Stop SIP",actionC:"text-amber-400"},{n:"HDFC Large Cap",val:"SIP 3,000",cur:"15%",tgt:"20%",action:"8,000/mo",actionC:"text-emerald-400"}],[{n:"Axis Bluechip",val:"3,00,000",cur:"30%",tgt:"25%",action:"No action",actionC:"text-slate-600"},{n:"Parag Parikh Flexi",val:"3,50,000",cur:"35%",tgt:"40%",action:"Invest 55,000",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"2,00,000",cur:"20%",tgt:"15%",action:"No action",actionC:"text-slate-600"},{n:"HDFC Large Cap",val:"1,50,000",cur:"15%",tgt:"20%",action:"Invest 45,000",actionC:"text-emerald-400"}],[{n:"Axis Bluechip",val:"3,00,000",cur:"30%",tgt:"25%",action:"Sell 50,000",actionC:"text-rose-400"},{n:"Parag Parikh Flexi",val:"3,50,000",cur:"35%",tgt:"40%",action:"Buy 50,000",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"2,00,000",cur:"20%",tgt:"15%",action:"Sell 50,000",actionC:"text-rose-400"},{n:"HDFC Large Cap",val:"1,50,000",cur:"15%",tgt:"20%",action:"Buy 50,000",actionC:"text-emerald-400"}]][s];return a.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-semibold text-white",children:"Rebalance Portfolio"}),a.jsx("span",{className:"text-xs text-violet-400 font-semibold bg-violet-500/10 px-2.5 py-1 rounded-full",children:"4 off-target"})]}),a.jsx("div",{className:"flex border-b border-white/[0.04]",children:r.map((d,m)=>a.jsx("button",{onClick:()=>l(m),className:`flex-1 text-xs font-semibold py-2.5 text-center cursor-pointer transition-colors ${m===s?"text-violet-400 border-b-2 border-violet-400":"text-slate-600 hover:text-slate-400"}`,children:d},d))}),a.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 border-b border-white/[0.04] bg-[#0a0f1f]/50 flex-wrap",children:[a.jsx("span",{className:"text-xs text-slate-500",children:"Portfolio Value"}),a.jsxs("span",{className:"text-sm text-white font-semibold tabular-nums",children:["","10,00,000"]}),s===0&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-xs text-slate-600",children:"|"}),a.jsx("span",{className:"text-xs text-slate-500",children:"Total SIP"}),a.jsxs("span",{className:"text-sm text-white font-semibold tabular-nums",children:["","20,000"]})]}),s===1&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-xs text-slate-600",children:"|"}),a.jsx("span",{className:"text-xs text-slate-500",children:"Lumpsum"}),a.jsx("input",{type:"text",readOnly:!0,value:"1,00,000",className:"bg-white/[0.04] border border-white/[0.08] rounded-md px-2 py-1 text-sm text-white font-semibold tabular-nums w-24 text-right cursor-default outline-none"})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"grid grid-cols-[1fr_50px_50px_1fr] gap-1 px-4 py-2.5 text-xs text-slate-600 font-semibold border-b border-white/[0.03]",children:[a.jsx("span",{children:"Fund / Value"}),a.jsx("span",{className:"text-center",children:"Current"}),a.jsx("span",{className:"text-center",children:"Target"}),a.jsx("span",{className:"text-right",children:t[s]})]}),u.map((d,m)=>a.jsxs("div",{className:`grid grid-cols-[1fr_50px_50px_1fr] gap-1 px-4 py-2.5 items-center ${m<u.length-1?"border-b border-white/[0.03]":""}`,children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("span",{className:"text-sm text-slate-300 truncate block",children:d.n}),a.jsxs("span",{className:"text-[10px] text-slate-600",children:["",d.val]})]}),a.jsx("span",{className:"text-sm text-center text-slate-400 tabular-nums",children:d.cur}),a.jsx("span",{className:"text-sm text-center text-slate-400 tabular-nums",children:d.tgt}),a.jsx("span",{className:`text-sm text-right font-semibold ${d.actionC}`,children:d.action})]},`${s}-${m}`))]})]})}function z3(){const s=[{n:"Retirement",tgt:"2Cr",cur:"28.5L",pct:14,sip:"45,000",yrs:"18 yrs",status:"On Track",sc:"text-blue-400 bg-blue-500/15",bc:"bg-blue-500"},{n:"Child Education",tgt:"50L",cur:"12.2L",pct:24,sip:"15,000",yrs:"12 yrs",status:"On Track",sc:"text-blue-400 bg-blue-500/15",bc:"bg-blue-500"},{n:"New Car",tgt:"15L",cur:"4.1L",pct:27,sip:"12,000",yrs:"3 yrs",status:"Needs Attention",sc:"text-amber-400 bg-amber-500/15",bc:"bg-amber-500"}];return a.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-semibold text-white",children:"Goals"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-slate-500",children:"2 On Track"}),a.jsx("span",{className:"text-xs text-amber-400",children:"1 Needs Attention"})]})]}),s.map((l,r)=>a.jsxs("div",{className:`px-4 py-3.5 ${r<s.length-1?"border-b border-white/[0.03]":""}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-semibold text-white",children:l.n}),a.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded-full ${l.sc}`,children:l.status})]}),a.jsxs("span",{className:"text-xs text-slate-500",children:["",l.sip,"/mo  ",l.yrs]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex-1 h-2.5 rounded-full bg-white/[0.06] overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${l.bc}`,style:{width:`${l.pct}%`}})}),a.jsxs("span",{className:"text-sm font-semibold text-slate-300 tabular-nums w-10 text-right",children:[l.pct,"%"]})]}),a.jsxs("div",{className:"flex justify-between mt-1.5 text-xs text-slate-600",children:[a.jsxs("span",{children:["",l.cur," of ","",l.tgt]}),a.jsxs("span",{className:"flex items-center gap-1 text-slate-500",children:[a.jsx(pu,{size:10})," 2 portfolios linked"]})]})]},r))]})}function zb({s=16}){return a.jsxs("svg",{viewBox:"0 0 24 24",width:s,height:s,className:"shrink-0",children:[a.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 01-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z",fill:"#4285F4"}),a.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),a.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),a.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}function wf({l:s,v:l,lc:r,vc:t,extra:o}){return a.jsxs("div",{className:"py-3.5 text-center",children:[a.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider ${r}`,children:s}),a.jsxs("p",{className:`text-lg font-bold tabular-nums mt-0.5 ${t}`,children:[l,o&&a.jsx("span",{className:"text-sm ml-1 text-emerald-400",children:o})]})]})}function Sf({n:s,alloc:l,cur:r,pl:t,ath:o,athC:u,up:d,last:m}){return a.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${m?"":"border-b border-white/[0.03]"}`,children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-300",children:s}),a.jsxs("p",{className:"text-xs text-slate-600",children:["Alloc ",l,"  ",a.jsx("span",{className:u,children:o!=="At ATH"?`${o} below ATH`:o})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-200 tabular-nums",children:r}),a.jsx("p",{className:`text-sm font-semibold tabular-nums ${d?"text-emerald-400":"text-rose-400"}`,children:t})]})]})}function ra({c:s,t:l}){const r={violet:"text-violet-400",cyan:"text-cyan-400",amber:"text-amber-400",emerald:"text-emerald-400"};return a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx(Ul,{size:16,className:`${r[s]} shrink-0`}),a.jsx("span",{className:"text-sm text-slate-300",children:l})]})}function Bc({num:s,icon:l,color:r,title:t,desc:o}){const u={violet:["text-violet-400","bg-violet-500/10","border-violet-500/20","from-violet-500/20 to-violet-500/5"],emerald:["text-emerald-400","bg-emerald-500/10","border-emerald-500/20","from-emerald-500/20 to-emerald-500/5"],cyan:["text-cyan-400","bg-cyan-500/10","border-cyan-500/20","from-cyan-500/20 to-cyan-500/5"],amber:["text-amber-400","bg-amber-500/10","border-amber-500/20","from-amber-500/20 to-amber-500/5"]},[d,m,x,p]=u[r]||u.violet;return a.jsxs("div",{className:`relative rounded-2xl border ${x} bg-gradient-to-b ${p} p-6 text-center`,children:[a.jsx("span",{className:`inline-flex items-center justify-center w-12 h-12 rounded-xl ${m} ${d} mb-4`,children:l}),a.jsxs("span",{className:`absolute top-4 right-4 text-xs font-bold ${d} opacity-40`,children:["0",s]}),a.jsx("h3",{className:"text-base font-bold text-white mb-2",children:t}),a.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:o})]})}function Cf({icon:s,t:l,d:r,bg:t,c:o}){const u={emerald:"text-emerald-400",violet:"text-violet-400",amber:"text-amber-400"};return a.jsxs("div",{className:`flex-1 ${t} px-5 sm:px-8 lg:px-10 py-6 sm:py-8 border-b sm:border-b-0 sm:border-r border-white/[0.04] last:border-0`,children:[a.jsxs("p",{className:"text-base font-bold text-white flex items-center gap-2",children:[a.jsx("span",{className:`${u[o]} shrink-0`,children:s}),l]}),a.jsx("p",{className:"text-sm text-slate-500 mt-1.5 leading-relaxed",children:r})]})}const Fb={violet:["text-violet-400","bg-violet-500/8","border-violet-500/10"],blue:["text-blue-400","bg-blue-500/8","border-blue-500/10"],emerald:["text-emerald-400","bg-emerald-500/8","border-emerald-500/10"],cyan:["text-cyan-400","bg-cyan-500/8","border-cyan-500/10"],rose:["text-rose-400","bg-rose-500/8","border-rose-500/10"],orange:["text-orange-400","bg-orange-500/8","border-orange-500/10"],teal:["text-teal-400","bg-teal-500/8","border-teal-500/10"],red:["text-red-400","bg-red-500/8","border-red-500/10"],yellow:["text-yellow-400","bg-yellow-500/8","border-yellow-500/10"],pink:["text-pink-400","bg-pink-500/8","border-pink-500/10"]};function $r({icon:s,c:l,t:r,d:t}){const[o,u,d]=Fb[l]||Fb.violet;return a.jsxs("div",{className:`rounded-xl border ${d} ${u} p-5`,children:[a.jsxs("p",{className:"text-base font-bold text-white flex items-center gap-2",children:[a.jsx("span",{className:`${o} shrink-0`,children:s}),r]}),a.jsx("p",{className:"text-sm text-slate-500 mt-1.5 leading-relaxed",children:t})]})}function F3(){const{isAuthenticated:s,loading:l}=Is();return l?a.jsx(Mu,{}):s?a.jsx(uu,{to:"/investments/mutual-funds",replace:!0}):a.jsx(S1,{})}function B3(){const s=en();return a.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-violet-500/15 rounded-2xl flex items-center justify-center mb-4",children:a.jsx(l5,{size:32,className:"text-violet-400"})}),a.jsx("h3",{className:"text-xl font-semibold text-[var(--text-primary)] mb-2",children:"Coming Soon"}),a.jsx("p",{className:"text-[var(--text-muted)] text-sm max-w-sm",children:"This page is under construction. Navigate using the sidebar to explore available sections."}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-3 font-mono",children:s.pathname})]})}const H3=["Savings Account","Current Account","Fixed Deposit (FD)","Recurring Deposit (RD)","NRE Account","NRO Account","Minor Account"].map(s=>({value:s,label:s}));function Y3({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o}=Ve(),u=!!s,[d,m]=N.useState({accountName:s?.accountName||"",memberId:s?.memberId||"",bankName:s?.bankName||"",accountNumber:s?.accountNumber||"",ifscCode:s?.ifscCode||"",branchName:s?.branchName||"",accountType:s?.accountType||"",status:s?.status||"Active"}),[x,p]=N.useState({}),[v,b]=N.useState(!1);function y(g,w){m(D=>({...D,[g]:w})),p(D=>({...D,[g]:void 0}))}function S(){const g={};return d.accountName.trim()||(g.accountName="Required"),d.memberId||(g.memberId="Required"),d.bankName.trim()||(g.bankName="Required"),String(d.accountNumber||"").trim()||(g.accountNumber="Required"),d.ifscCode.trim()||(g.ifscCode="Required"),d.branchName.trim()||(g.branchName="Required"),d.accountType||(g.accountType="Required"),p(g),Object.keys(g).length===0}async function M(){if(S()){b(!0);try{await l({...d,ifscCode:d.ifscCode.toUpperCase()})}finally{b(!1)}}}const j=o.map(g=>({value:g.memberId,label:`${g.memberName} (${g.relationship})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Account Name",required:!0,error:x.accountName,children:a.jsx(be,{value:d.accountName,onChange:g=>y("accountName",g),placeholder:"e.g., HDFC Savings"})}),a.jsx(J,{label:"Family Member",required:!0,error:x.memberId,children:a.jsx(Re,{value:d.memberId,onChange:g=>y("memberId",g),options:j,placeholder:"Select member..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Bank Name",required:!0,error:x.bankName,children:a.jsx(be,{value:d.bankName,onChange:g=>y("bankName",g),placeholder:"e.g., HDFC Bank"})}),a.jsx(J,{label:"Account Type",required:!0,error:x.accountType,children:a.jsx(Re,{value:d.accountType,onChange:g=>y("accountType",g),options:H3,placeholder:"Select type..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Account Number",required:!0,error:x.accountNumber,children:a.jsx(be,{sensitive:!0,value:d.accountNumber,onChange:g=>y("accountNumber",g),placeholder:"e.g., 1234567890"})}),a.jsx(J,{label:"IFSC Code",required:!0,error:x.ifscCode,children:a.jsx(be,{value:d.ifscCode,onChange:g=>y("ifscCode",g.toUpperCase()),placeholder:"e.g., HDFC0001234",maxLength:11})})]}),a.jsx(J,{label:"Branch Name",required:!0,error:x.branchName,children:a.jsx(be,{value:d.branchName,onChange:g=>y("branchName",g),placeholder:"e.g., Hyderabad - Kondapur"})}),u&&a.jsx(J,{label:"Status",children:a.jsx(Re,{value:d.status,onChange:g=>y("status",g),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[u&&r?a.jsx(br,{onClick:r}):a.jsx("div",{}),a.jsx(ma,{onCancel:t,onSubmit:M,submitLabel:u?"Update":"Add Account",loading:v})]})]})}function gr({title:s="Loading"}){return a.jsxs("div",{className:"flex flex-col items-center justify-center py-32 gap-3",children:[a.jsx("span",{className:"w-7 h-7 border-[2.5px] border-violet-400/30 border-t-violet-400 rounded-full animate-spin"}),a.jsxs("span",{className:"text-sm font-semibold text-[var(--text-primary)]",children:[s,"..."]})]})}const Bb={"Savings Account":"bg-blue-500/15 text-[var(--accent-blue)]",Savings:"bg-blue-500/15 text-[var(--accent-blue)]",Salary:"bg-emerald-500/15 text-emerald-400","Current Account":"bg-violet-500/15 text-[var(--accent-violet)]","Fixed Deposit":"bg-amber-500/15 text-[var(--accent-amber)]","Fixed Deposit (FD)":"bg-amber-500/15 text-[var(--accent-amber)]"};function Hb(){const{selectedMember:s,member:l}=Jt(),{banks:r,addBankAccount:t,updateBankAccount:o,deleteBankAccount:u}=Ve(),{showToast:d,showBlockUI:m,hideBlockUI:x}=Ln(),p=Pn(),{mv:v}=zn(),[b,y]=N.useState(null);if(r===null)return a.jsx(gr,{title:"Loading bank accounts",cards:3});const S=N.useMemo(()=>{const D=r.filter(k=>k.status!=="Inactive");return s==="all"?D:D.filter(k=>k.memberId===s)},[r,s]),M=N.useMemo(()=>new Set(S.map(D=>D.bankName)).size,[S]),j=N.useMemo(()=>S.filter(D=>D.accountType==="Savings"||D.accountType==="Savings Account"||D.accountType==="Salary").length,[S]);async function g(D){m("Saving...");try{b?.edit?await o(b.edit.accountId,D):await t(D),d(b?.edit?"Bank account updated":"Bank account added"),y(null)}catch(k){d(k.message||"Failed to save bank account","error")}finally{x()}}async function w(){if(b?.edit&&await p("Deactivate this bank account?",{title:"Deactivate Account",confirmLabel:"Deactivate"})){m("Deactivating...");try{await u(b.edit.accountId),d("Bank account deactivated"),y(null)}catch(D){d(D.message||"Failed to deactivate bank account","error")}finally{x()}}}return a.jsxs("div",{className:"space-y-4",children:[S.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(Sy,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No bank accounts",l?` for ${l.memberName}`:""]}),a.jsx("button",{onClick:()=>y("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first bank account"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsx(kf,{label:"Total Accounts",value:S.length}),a.jsx(kf,{label:"Banks",value:M}),a.jsx(kf,{label:"Savings / Salary",value:j})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>y("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Zt,{size:14})," Add Account"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[580px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Bank"}),!l&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account No."}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Branch"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:S.map(D=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-4",children:a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:D.accountName})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:D.bankName}),!l&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:v(D.memberName,"name")}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Bb[D.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:D.accountType})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:v(D.accountNumber,"account")}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-dim)]",children:D.branchName}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>y({edit:D}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(pn,{size:12})})})]},D.accountId))})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:S.map(D=>a.jsxs("div",{onClick:()=>y({edit:D}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:D.accountName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Bb[D.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:D.accountType})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[D.bankName,l?"":`  ${v(D.memberName,"name")}`]}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:v(D.accountNumber,"account")}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:D.branchName})]})]},D.accountId))})]})]}),a.jsx(At,{open:!!b,onClose:()=>y(null),title:b?.edit?"Edit Bank Account":"Add Bank Account",children:a.jsx(Y3,{initial:b?.edit||void 0,onSave:g,onDelete:b?.edit?w:void 0,onCancel:()=>y(null)})})]})}function kf({label:s,value:l}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:l})]})}const U3=["Demat + Trading","Mutual Fund","Trading","Direct AMC","Broker"].map(s=>({value:s,label:s}));function q3({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o,activeBanks:u}=Ve(),d=!!s,[m,x]=N.useState({accountName:s?.accountName||"",memberId:s?.memberId||"",bankAccountId:s?.bankAccountId||"",accountType:s?.accountType||"",platformBroker:s?.platformBroker||"",accountClientId:s?.accountClientId||"",dematDpId:s?.dematDpId||"",registeredEmail:s?.registeredEmail||"",registeredPhone:s?.registeredPhone||"",status:s?.status||"Active"}),[p,v]=N.useState({}),[b,y]=N.useState(!1);function S(k,T){x(_=>({..._,[k]:T})),v(_=>({..._,[k]:void 0}))}function M(k){x(T=>({...T,memberId:k,bankAccountId:""})),v(T=>({...T,memberId:void 0}))}function j(){const k={};return m.accountName.trim()||(k.accountName="Required"),m.memberId||(k.memberId="Required"),m.bankAccountId||(k.bankAccountId="Required"),m.accountType||(k.accountType="Required"),m.platformBroker.trim()||(k.platformBroker="Required"),m.registeredEmail.trim()||(k.registeredEmail="Required"),m.registeredPhone.trim()||(k.registeredPhone="Required"),v(k),Object.keys(k).length===0}async function g(){if(j()){y(!0);try{await l(m)}finally{y(!1)}}}const w=o.map(k=>({value:k.memberId,label:`${k.memberName} (${k.relationship})`})),D=N.useMemo(()=>m.memberId?u.filter(k=>k.memberId===m.memberId).map(k=>({value:k.accountId,label:`${k.accountName} - ${k.bankName}`})):[],[u,m.memberId]);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Account Name",required:!0,error:p.accountName,children:a.jsx(be,{value:m.accountName,onChange:k=>S("accountName",k),placeholder:"e.g., Zerodha Demat"})}),a.jsx(J,{label:"Family Member",required:!0,error:p.memberId,children:a.jsx(Re,{value:m.memberId,onChange:M,options:w,placeholder:"Select member..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Linked Bank Account",required:!0,error:p.bankAccountId,children:a.jsx(Re,{value:m.bankAccountId,onChange:k=>S("bankAccountId",k),options:D,placeholder:m.memberId?D.length?"Select bank account...":"No bank accounts for this member":"Select member first..."})}),a.jsx(J,{label:"Account Type",required:!0,error:p.accountType,children:a.jsx(Re,{value:m.accountType,onChange:k=>S("accountType",k),options:U3,placeholder:"Select type..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Platform / Broker",required:!0,error:p.platformBroker,children:a.jsx(be,{value:m.platformBroker,onChange:k=>S("platformBroker",k),placeholder:"e.g., Zerodha, Groww"})}),a.jsx(J,{label:"Account / Client ID",error:p.accountClientId,children:a.jsx(be,{sensitive:!0,value:m.accountClientId,onChange:k=>S("accountClientId",k),placeholder:"e.g., ZR1234 (optional)"})})]}),a.jsx(J,{label:"Demat DP ID",error:p.dematDpId,children:a.jsx(be,{sensitive:!0,value:m.dematDpId,onChange:k=>S("dematDpId",k),placeholder:"16-digit DP ID (optional)",maxLength:16})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Registered Email",required:!0,error:p.registeredEmail,children:a.jsx(be,{sensitive:!0,type:"email",value:m.registeredEmail,onChange:k=>S("registeredEmail",k),placeholder:"email@example.com"})}),a.jsx(J,{label:"Registered Phone",required:!0,error:p.registeredPhone,children:a.jsx(be,{sensitive:!0,value:m.registeredPhone,onChange:k=>S("registeredPhone",k),placeholder:"9876543210"})})]}),d&&a.jsx(J,{label:"Status",children:a.jsx(Re,{value:m.status,onChange:k=>S("status",k),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[d&&r?a.jsx(br,{onClick:r}):a.jsx("div",{}),a.jsx(ma,{onCancel:t,onSubmit:g,submitLabel:d?"Update":"Add Account",loading:b})]})]})}const Yb={"Demat + Trading":"bg-violet-500/15 text-[var(--accent-violet)]","Mutual Fund":"bg-blue-500/15 text-[var(--accent-blue)]",Trading:"bg-orange-500/15 text-[var(--accent-orange)]",Demat:"bg-amber-500/15 text-[var(--accent-amber)]","Direct AMC":"bg-emerald-500/15 text-emerald-400",Broker:"bg-rose-500/15 text-[var(--accent-rose)]"};function $3(){const{selectedMember:s,member:l}=Jt(),{investmentAccounts:r,addInvestmentAccount:t,updateInvestmentAccount:o,deleteInvestmentAccount:u}=Ve(),{showToast:d,showBlockUI:m,hideBlockUI:x}=Ln(),p=Pn(),{mv:v}=zn(),[b,y]=N.useState(null);if(r===null)return a.jsx(gr,{title:"Loading investment accounts",cards:4});const S=N.useMemo(()=>{const k=r.filter(T=>T.status!=="Inactive");return s==="all"?k:k.filter(T=>T.memberId===s)},[r,s]),M=N.useMemo(()=>new Set(S.map(k=>k.platformBroker)).size,[S]),j=S.filter(k=>k.accountType==="Demat + Trading"||k.accountType==="Demat"||k.accountType==="Trading").length,g=S.filter(k=>k.accountType==="Mutual Fund"||k.accountType==="Direct AMC").length;async function w(k){m("Saving...");try{b?.edit?await o(b.edit.accountId,k):await t(k),d(b?.edit?"Investment account updated":"Investment account added"),y(null)}catch(T){d(T.message||"Failed to save investment account","error")}finally{x()}}async function D(){if(b?.edit&&await p("Deactivate this investment account?",{title:"Deactivate Account",confirmLabel:"Deactivate"})){m("Deactivating...");try{await u(b.edit.accountId),d("Investment account deactivated"),y(null)}catch(k){d(k.message||"Failed to deactivate investment account","error")}finally{x()}}}return a.jsxs("div",{className:"space-y-4",children:[S.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(vy,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No investment accounts",l?` for ${l.memberName}`:""]}),a.jsx("button",{onClick:()=>y("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first investment account"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(Hc,{label:"Total Accounts",value:S.length}),a.jsx(Hc,{label:"Platforms",value:M}),a.jsx(Hc,{label:"Demat / Trading",value:j}),a.jsx(Hc,{label:"Mutual Fund",value:g})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>y("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Zt,{size:14})," Add Account"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[620px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Platform"}),!l&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Client ID"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Bank"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:S.map(k=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-4",children:a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:k.accountName})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:k.platformBroker}),!l&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:v(k.memberName,"name")}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Yb[k.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:k.accountType})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:v(k.accountClientId,"clientId")}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-dim)]",children:k.bankAccountName}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>y({edit:k}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(pn,{size:12})})})]},k.accountId))})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:S.map(k=>a.jsxs("div",{onClick:()=>y({edit:k}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:k.accountName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Yb[k.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:k.accountType})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[k.platformBroker,l?"":`  ${v(k.memberName,"name")}`]}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Client: ",v(k.accountClientId,"clientId")]}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:k.bankAccountName})]})]},k.accountId))})]})]}),a.jsx(At,{open:!!b,onClose:()=>y(null),title:b?.edit?"Edit Investment Account":"Add Investment Account",wide:!0,children:a.jsx(q3,{initial:b?.edit||void 0,onSave:w,onDelete:b?.edit?D:void 0,onCancel:()=>y(null)})})]})}function Hc({label:s,value:l}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:l})]})}const V3=["Term Life","Health","Motor","Home Insurance","Travel","Personal Accident","Life Insurance","Others"].map(s=>({value:s,label:s})),G3=[{value:"Active",label:"Active"},{value:"Expired",label:"Expired"},{value:"Surrendered",label:"Surrendered"},{value:"Lapsed",label:"Lapsed"},{value:"Inactive",label:"Inactive"}];function Q3({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o}=Ve(),u=!!s,[d,m]=N.useState({policyType:s?.policyType||"",company:s?.company||"",policyNumber:s?.policyNumber||"",policyName:s?.policyName||"",insuredMember:s?.insuredMember||"",memberId:s?.memberId||"",sumAssured:s?.sumAssured||"",nominee:s?.nominee||"",premium:s?.premium||"",premiumFrequency:s?.premiumFrequency||"Annual",status:s?.status||"Active",notes:s?.notes||""}),[x,p]=N.useState({}),[v,b]=N.useState(!1);function y(w,D){m(k=>({...k,[w]:D})),p(k=>({...k,[w]:void 0}))}function S(w){const D=o.find(k=>k.memberId===w);m(k=>({...k,memberId:w,insuredMember:D?.memberName||""})),p(k=>({...k,memberId:void 0}))}function M(){const w={};return d.policyType||(w.policyType="Required"),d.company.trim()||(w.company="Required"),d.policyNumber.trim()||(w.policyNumber="Required"),d.policyName.trim()||(w.policyName="Required"),d.memberId||(w.memberId="Required"),(!d.sumAssured||Number(d.sumAssured)<=0)&&(w.sumAssured="Must be > 0"),p(w),Object.keys(w).length===0}async function j(){if(M()){b(!0);try{await l({...d,sumAssured:Number(d.sumAssured),premium:Number(d.premium)||0})}finally{b(!1)}}}const g=o.map(w=>({value:w.memberId,label:`${w.memberName} (${w.relationship})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Policy Type",required:!0,error:x.policyType,children:a.jsx(Re,{value:d.policyType,onChange:w=>y("policyType",w),options:V3,placeholder:"Select type..."})}),a.jsx(J,{label:"Insurance Company",required:!0,error:x.company,children:a.jsx(be,{value:d.company,onChange:w=>y("company",w),placeholder:"e.g., HDFC Life"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Policy Number",required:!0,error:x.policyNumber,children:a.jsx(be,{sensitive:!0,value:d.policyNumber,onChange:w=>y("policyNumber",w),placeholder:"e.g., HL-2024-78901"})}),a.jsx(J,{label:"Policy Name",required:!0,error:x.policyName,children:a.jsx(be,{value:d.policyName,onChange:w=>y("policyName",w),placeholder:"e.g., Click 2 Protect Life"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Insured Member",required:!0,error:x.memberId,children:a.jsx(Re,{value:d.memberId,onChange:S,options:g,placeholder:"Select member..."})}),a.jsx(J,{label:"Nominee",children:a.jsx(Re,{value:d.nominee,onChange:w=>y("nominee",w),options:g.map(w=>({...w,label:w.label.split(" (")[0]})),placeholder:"Select nominee (optional)..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(J,{label:"Sum Assured ()",required:!0,error:x.sumAssured,children:a.jsx(be,{type:"number",value:d.sumAssured,onChange:w=>y("sumAssured",w),placeholder:"e.g., 10000000"})}),a.jsx(J,{label:"Premium ()",children:a.jsx(be,{type:"number",value:d.premium,onChange:w=>y("premium",w),placeholder:"e.g., 12500"})}),a.jsx(J,{label:"Premium Frequency",children:a.jsx(Re,{value:d.premiumFrequency,onChange:w=>y("premiumFrequency",w),options:[{value:"Annual",label:"Annual"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"}]})})]}),u&&a.jsx(J,{label:"Status",children:a.jsx(Re,{value:d.status,onChange:w=>y("status",w),options:G3})}),a.jsx(J,{label:"Notes",children:a.jsx(zl,{value:d.notes,onChange:w=>y("notes",w),placeholder:"Additional information..."})}),a.jsxs("div",{className:"flex items-center justify-between",children:[u&&r?a.jsx(br,{onClick:r}):a.jsx("div",{}),a.jsx(ma,{onCancel:t,onSubmit:j,submitLabel:u?"Update":"Add Policy",loading:v})]})]})}const Ub={"Term Life":"bg-rose-500/15 text-[var(--accent-rose)]",Health:"bg-emerald-500/15 text-emerald-400",Motor:"bg-blue-500/15 text-[var(--accent-blue)]","Home Insurance":"bg-amber-500/15 text-[var(--accent-amber)]",Travel:"bg-violet-500/15 text-[var(--accent-violet)]","Life Insurance":"bg-rose-500/15 text-[var(--accent-rose)]","Personal Accident":"bg-orange-500/15 text-[var(--accent-orange)]"};function K3(){const{selectedMember:s,member:l}=Jt(),{insurancePolicies:r,addInsurance:t,updateInsurance:o,deleteInsurance:u}=Ve(),{showToast:d,showBlockUI:m,hideBlockUI:x}=Ln(),p=Pn(),{mv:v}=zn(),[b,y]=N.useState(null);if(r===null)return a.jsx(gr,{title:"Loading insurance",cards:5});const S=N.useMemo(()=>{const T=r.filter(_=>_.status!=="Inactive");return s==="all"?T:T.filter(_=>_.memberId===s)},[r,s]),M=S.reduce((T,_)=>T+(_.sumAssured||0),0),j=S.reduce((T,_)=>T+(_.premium||0),0),g=S.filter(T=>T.policyType==="Term Life"||T.policyType==="Life Insurance").reduce((T,_)=>T+(_.sumAssured||0),0),w=S.filter(T=>T.policyType==="Health").reduce((T,_)=>T+(_.sumAssured||0),0);async function D(T){m("Saving...");try{b?.edit?await o(b.edit.policyId,T):await t(T),d(b?.edit?"Insurance policy updated":"Insurance policy added"),y(null)}catch(_){d(_.message||"Failed to save insurance policy","error")}finally{x()}}async function k(){if(b?.edit&&await p("Deactivate this insurance policy?",{title:"Deactivate Policy",confirmLabel:"Deactivate"})){m("Deactivating...");try{await u(b.edit.policyId),d("Insurance policy deactivated"),y(null)}catch(T){d(T.message||"Failed to deactivate insurance policy","error")}finally{x()}}}return a.jsxs("div",{className:"space-y-4",children:[S.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(Zi,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No insurance policies",l?` for ${l.memberName}`:""]}),a.jsx("button",{onClick:()=>y("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first policy"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[a.jsx(qi,{label:"Policies",value:S.length}),a.jsx(qi,{label:"Total Cover",value:G(M),bold:!0}),a.jsx(qi,{label:"Life Cover",value:G(g)}),a.jsx(qi,{label:"Health Cover",value:G(w)}),a.jsx(qi,{label:"Annual Premium",value:G(j)})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[a.jsx("p",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider mb-3",children:"Coverage Adequacy"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(qb,{label:"Life Insurance",current:g,recommended:"10-15x annual income",tip:"Term life cover should be 10-15x your annual income to protect dependents",icon:"heart"}),a.jsx(qb,{label:"Health Insurance",current:w,recommended:"50L - 1Cr family floater",tip:"Considering medical inflation, a 50L-1Cr family floater is recommended",icon:"shield"})]})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>y("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Zt,{size:14})," Add Policy"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Policy"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Company"}),!l&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Insured"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Sum Assured"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Premium"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:S.map(T=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:T.policyName}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:v(T.policyNumber,"policy")})]}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Ub[T.policyType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:T.policyType})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:T.company}),!l&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:T.insuredMember}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(T.sumAssured)}),a.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:[G(T.premium),"/",T.premiumFrequency==="Annual"?"yr":"mo"]}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>y({edit:T}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(pn,{size:12})})})]},T.policyId))})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:S.map(T=>a.jsxs("div",{onClick:()=>y({edit:T}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:T.policyName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${Ub[T.policyType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:T.policyType})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[T.company,l?"":`  ${T.insuredMember}`]}),a.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Cover"}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(T.sumAssured)})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Premium"}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:[G(T.premium),"/",T.premiumFrequency==="Annual"?"yr":"mo"]})]})]})]},T.policyId))})]})]}),a.jsx(At,{open:!!b,onClose:()=>y(null),title:b?.edit?"Edit Insurance Policy":"Add Insurance Policy",wide:!0,children:a.jsx(Q3,{initial:b?.edit||void 0,onSave:D,onDelete:b?.edit?k:void 0,onCancel:()=>y(null)})})]})}function qb({label:s,current:l,recommended:r,tip:t}){const o=l===0;return a.jsxs("div",{className:`rounded-lg border px-3 py-2.5 ${o?"border-rose-500/30 bg-rose-500/5":"border-[var(--border)] bg-[var(--bg-inset)]"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:s}),o?a.jsx("span",{className:"text-xs font-bold text-[var(--accent-rose)]",children:"Not covered"}):a.jsx("span",{className:"text-xs font-semibold text-emerald-400",children:G(l)})]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Recommended: ",r]}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5 italic",children:t})]})}function qi({label:s,value:l,bold:r}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:`text-sm tabular-nums ${r?"font-bold":"font-semibold"} text-[var(--text-primary)]`,children:l})]})}const X3=["Home Loan","Car Loan","Personal Loan","Education Loan","Gold Loan","Credit Card","Business Loan","Loan Against Property","Other"].map(s=>({value:s,label:s})),W3=[{value:"Active",label:"Active"},{value:"Closed",label:"Closed"},{value:"Inactive",label:"Inactive"}];function Z3({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o}=Ve(),u=!!s,[d,m]=N.useState({liabilityType:s?.liabilityType||"",lenderName:s?.lenderName||"",familyMemberId:s?.familyMemberId||"",outstandingBalance:s?.outstandingBalance||"",emiAmount:s?.emiAmount||"",interestRate:s?.interestRate||"",status:s?.status||"Active",notes:s?.notes||""}),[x,p]=N.useState({}),[v,b]=N.useState(!1);function y(g,w){m(D=>({...D,[g]:w})),p(D=>({...D,[g]:void 0}))}function S(){const g={};return d.liabilityType||(g.liabilityType="Required"),d.lenderName.trim()||(g.lenderName="Required"),(!d.outstandingBalance||Number(d.outstandingBalance)<=0)&&(g.outstandingBalance="Must be > 0"),p(g),Object.keys(g).length===0}async function M(){if(S()){b(!0);try{await l({...d,outstandingBalance:Number(d.outstandingBalance),emiAmount:Number(d.emiAmount)||0,interestRate:Number(d.interestRate)||0})}finally{b(!1)}}}const j=o.map(g=>({value:g.memberId,label:`${g.memberName} (${g.relationship})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Liability Type",required:!0,error:x.liabilityType,children:a.jsx(Re,{value:d.liabilityType,onChange:g=>y("liabilityType",g),options:X3,placeholder:"Select type..."})}),a.jsx(J,{label:"Lender / Bank",required:!0,error:x.lenderName,children:a.jsx(be,{value:d.lenderName,onChange:g=>y("lenderName",g),placeholder:"e.g., HDFC Bank"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Family Member",children:a.jsx(Re,{value:d.familyMemberId,onChange:g=>y("familyMemberId",g),options:j,placeholder:"Select member (optional)..."})}),a.jsx(J,{label:"Outstanding Balance ()",required:!0,error:x.outstandingBalance,children:a.jsx(be,{type:"number",value:d.outstandingBalance,onChange:g=>y("outstandingBalance",g),placeholder:"e.g., 3500000"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"EMI Amount ()",children:a.jsx(be,{type:"number",value:d.emiAmount,onChange:g=>y("emiAmount",g),placeholder:"e.g., 32000"})}),a.jsx(J,{label:"Interest Rate (%)",children:a.jsx(be,{type:"number",value:d.interestRate,onChange:g=>y("interestRate",g),placeholder:"e.g., 8.5",step:"0.01"})})]}),u&&a.jsx(J,{label:"Status",children:a.jsx(Re,{value:d.status,onChange:g=>y("status",g),options:W3})}),a.jsx(J,{label:"Notes",children:a.jsx(zl,{value:d.notes,onChange:g=>y("notes",g),placeholder:"e.g., Flat in Kondapur"})}),a.jsxs("div",{className:"flex items-center justify-between",children:[u&&r?a.jsx(br,{onClick:r}):a.jsx("div",{}),a.jsx(ma,{onCancel:t,onSubmit:M,submitLabel:u?"Update":"Add Liability",loading:v})]})]})}const $b={"Home Loan":"bg-blue-500/15 text-[var(--accent-blue)]","Car Loan":"bg-amber-500/15 text-[var(--accent-amber)]","Gold Loan":"bg-orange-500/15 text-[var(--accent-orange)]","Personal Loan":"bg-violet-500/15 text-[var(--accent-violet)]","Education Loan":"bg-emerald-500/15 text-emerald-400","Credit Card":"bg-rose-500/15 text-[var(--accent-rose)]"};function J3(){const{selectedMember:s,member:l}=Jt(),{liabilityList:r,addLiability:t,updateLiability:o,deleteLiability:u}=Ve(),{showToast:d,showBlockUI:m,hideBlockUI:x}=Ln(),p=Pn(),[v,b]=N.useState(null);if(r===null)return a.jsx(gr,{title:"Loading liabilities",cards:4});const y=N.useMemo(()=>{const D=r.filter(k=>k.status!=="Inactive");return s==="all"?D:D.filter(k=>k.familyMemberId===s)},[r,s]),S=y.reduce((D,k)=>D+(k.outstandingBalance||0),0),M=y.reduce((D,k)=>D+(k.emiAmount||0),0),j=y.filter(D=>D.status==="Active").length;async function g(D){m("Saving...");try{v?.edit?await o(v.edit.liabilityId,D):await t(D),d(v?.edit?"Liability updated":"Liability added"),b(null)}catch(k){d(k.message||"Failed to save liability","error")}finally{x()}}async function w(){if(v?.edit&&await p("Deactivate this liability?",{title:"Deactivate Liability",confirmLabel:"Deactivate"})){m("Deactivating...");try{await u(v.edit.liabilityId),d("Liability deactivated"),b(null)}catch(D){d(D.message||"Failed to deactivate liability","error")}finally{x()}}}return a.jsxs("div",{className:"space-y-4",children:[y.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(eo,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No liabilities",l?` for ${l.memberName}`:""]}),a.jsx("button",{onClick:()=>b("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add a liability"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(Yc,{label:"Liabilities",value:`${j} active`}),a.jsx(Yc,{label:"Outstanding",value:G(S),color:"rose",bold:!0}),a.jsx(Yc,{label:"Monthly EMI",value:G(M),color:"rose"}),a.jsx(Yc,{label:"Avg. Interest",value:y.length>0?`${(y.reduce((D,k)=>D+(k.interestRate||0),0)/y.length).toFixed(1)}%`:""})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>b("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Zt,{size:14})," Add Liability"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[640px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Lender"}),!l&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Outstanding"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"EMI"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Interest"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Remaining"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:y.map(D=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${$b[D.liabilityType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:D.liabilityType}),D.notes&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:D.notes})]}),a.jsx("td",{className:"py-2.5 px-3 text-sm font-medium text-[var(--text-primary)]",children:D.lenderName}),!l&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:D.familyMemberName}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:G(D.outstandingBalance)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:D.emiAmount?`${G(D.emiAmount)}/mo`:""}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:D.interestRate?`${D.interestRate}%`:""}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:D.emiAmount>0&&D.outstandingBalance>0?`${Math.ceil(D.outstandingBalance/D.emiAmount)} mo`:""}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>b({edit:D}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(pn,{size:12})})})]},D.liabilityId))})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:y.map(D=>a.jsxs("div",{onClick:()=>b({edit:D}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${$b[D.liabilityType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:D.liabilityType}),a.jsx("p",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:G(D.outstandingBalance)})]}),a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:D.lenderName}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[D.familyMemberName,D.notes?`  ${D.notes}`:""]}),a.jsxs("div",{className:"text-right",children:[D.emiAmount>0&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:["EMI: ",G(D.emiAmount),"/mo"]}),D.emiAmount>0&&D.outstandingBalance>0&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:[Math.ceil(D.outstandingBalance/D.emiAmount)," months left"]})]})]})]},D.liabilityId))})]})]}),a.jsx(At,{open:!!v,onClose:()=>b(null),title:v?.edit?"Edit Liability":"Add Liability",children:a.jsx(Z3,{initial:v?.edit||void 0,onSave:g,onDelete:v?.edit?w:void 0,onCancel:()=>b(null)})})]})}function Yc({label:s,value:l,color:r,bold:t}){const o=r==="rose"?"text-[var(--accent-rose)]":"text-[var(--text-primary)]";return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:`text-sm tabular-nums ${t?"font-bold":"font-semibold"} ${o}`,children:l})]})}const eA="cf_market_data",C1=[{value:"Fixed Deposit",category:"Debt"},{value:"PPF",category:"Debt"},{value:"EPF",category:"Debt"},{value:"NPS",category:"Debt"},{value:"Sovereign Gold Bond",category:"Gold"},{value:"Physical Gold",category:"Gold"},{value:"Digital Gold",category:"Gold"},{value:"Real Estate",category:"Property"},{value:"Bonds",category:"Debt"},{value:"Physical Silver",category:"Silver"},{value:"Digital Silver",category:"Silver"},{value:"Crypto",category:"Alternative"},{value:"Other",category:"Other"}],Vb={"Real Estate":"Home Loan","Physical Gold":"Gold Loan","Sovereign Gold Bond":"Gold Loan","Fixed Deposit":"Loan Against FD"},tA=C1.map(s=>({value:s.value,label:s.value})),aA=["Equity","Debt","Gold","Silver","Property","Alternative","Other"].map(s=>({value:s,label:s})),nA=[{value:"Active",label:"Active"},{value:"Sold",label:"Sold"},{value:"Matured",label:"Matured"},{value:"Inactive",label:"Inactive"}],Gb=[{value:"24K",label:"24K (99.9%)",factor:.999},{value:"22K",label:"22K (91.6%)",factor:.916},{value:"18K",label:"18K (75.0%)",factor:.75}],Qb=[{value:"999",label:"999 Fine (99.9%)",factor:.999},{value:"925",label:"925 Sterling (92.5%)",factor:.925}];function ou(s){return["Physical Gold","Digital Gold","Sovereign Gold Bond"].includes(s)}function rA(s){return["Physical Silver","Digital Silver"].includes(s)||s&&s.toLowerCase().includes("silver")}function Df(s){return ou(s)||rA(s)}function sA(s){try{const l=sessionStorage.getItem(eA);if(!l)return null;const r=JSON.parse(l);if(!r.metals)return null;const t=s==="gold"?"Gold":"Silver",o=r.metals.find(u=>u.name.toLowerCase().includes(t.toLowerCase()));return o?o.price:null}catch{return null}}function lA({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o,liabilityList:u}=Ve(),d=!!s;function m(R){return C1.find(ne=>ne.value===R)?.category||"Other"}const x=s?.dynamicFields?typeof s.dynamicFields=="string"?JSON.parse(s.dynamicFields):s.dynamicFields:{},[p,v]=N.useState({investmentType:s?.investmentType||"",investmentCategory:s?.investmentCategory||"",investmentName:s?.investmentName||"",familyMemberId:s?.familyMemberId||"",investedAmount:s?.investedAmount||"",currentValue:s?.currentValue||"",linkedLiabilityId:s?.linkedLiabilityId||"",status:s?.status||"Active",notes:s?.notes||""}),[b,y]=N.useState(x.weightGrams||""),[S,M]=N.useState(x.purity||""),[j,g]=N.useState(null),[w,D]=N.useState(!1),[k,T]=N.useState({lenderName:"",outstandingBalance:"",emiAmount:"",interestRate:""});N.useEffect(()=>{if(!Df(p.investmentType)||!b||Number(b)<=0){g(null);return}const R=ou(p.investmentType)?"gold":"silver",ne=sA(R);if(!ne){g(null);return}const P=(R==="gold"?Gb:Qb).find(ue=>ue.value===S),ee=P?P.factor:1;g(Math.round(Number(b)*ne*ee))},[p.investmentType,b,S]);const[_,B]=N.useState({}),[H,O]=N.useState(!1);function L(R,ne){v(ve=>({...ve,[R]:ne})),B(ve=>({...ve,[R]:void 0}))}function I(R){v(ne=>({...ne,investmentType:R,investmentCategory:m(R)})),B(ne=>({...ne,investmentType:void 0}))}function V(R,ne){T(ve=>({...ve,[R]:ne}))}function A(){const R={};return p.investmentType||(R.investmentType="Required"),p.investmentName.trim()||(R.investmentName="Required"),(!p.currentValue||Number(p.currentValue)<0)&&(R.currentValue="Required"),w&&(k.lenderName.trim()||(R.qlLender="Required"),(!k.outstandingBalance||Number(k.outstandingBalance)<=0)&&(R.qlOutstanding="Must be > 0")),B(R),Object.keys(R).length===0}async function se(){if(!A())return;const R={...p,investedAmount:Number(p.investedAmount)||0,currentValue:Number(p.currentValue)||0};Df(p.investmentType)&&(R.dynamicFields=JSON.stringify({weightGrams:Number(b)||0,purity:S||""})),w&&k.lenderName&&(R.quickLoan={liabilityType:Vb[p.investmentType]||"Personal Loan",lenderName:k.lenderName,outstandingBalance:Number(k.outstandingBalance)||0,emiAmount:Number(k.emiAmount)||0,interestRate:Number(k.interestRate)||0}),O(!0);try{await l(R)}finally{O(!1)}}const oe=u.filter(R=>R.status!=="Inactive"),U=[{value:"",label:"None"},...oe.map(R=>({value:R.liabilityId,label:`${R.liabilityType}  ${R.lenderName} (${G(R.outstandingBalance)})`}))],z=o.map(R=>({value:R.memberId,label:`${R.memberName} (${R.relationship})`})),W=Vb[p.investmentType];return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Investment Type",required:!0,error:_.investmentType,children:a.jsx(Re,{value:p.investmentType,onChange:I,options:tA,placeholder:"Select type..."})}),a.jsx(J,{label:"Category",children:a.jsx(Re,{value:p.investmentCategory,onChange:R=>L("investmentCategory",R),options:aA,placeholder:"Auto-selected..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Investment Name",required:!0,error:_.investmentName,children:a.jsx(be,{value:p.investmentName,onChange:R=>L("investmentName",R),placeholder:"e.g., HDFC FD - 7.5%"})}),a.jsx(J,{label:"Family Member",children:a.jsx(Re,{value:p.familyMemberId,onChange:R=>L("familyMemberId",R),options:z,placeholder:"Select member (optional)..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Invested Amount",children:a.jsx(be,{type:"number",value:p.investedAmount,onChange:R=>L("investedAmount",R),placeholder:"e.g., 500000"})}),a.jsx(J,{label:"Current Value",required:!0,error:_.currentValue,children:a.jsx(be,{type:"number",value:p.currentValue,onChange:R=>L("currentValue",R),placeholder:"e.g., 537500"})})]}),Df(p.investmentType)&&a.jsxs("div",{className:"p-3 bg-[var(--bg-inset)] rounded-lg space-y-3",children:[a.jsxs("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider",children:[ou(p.investmentType)?"Gold":"Silver"," Details"]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(J,{label:"Weight (grams)",children:a.jsx(be,{type:"number",value:b,onChange:y,placeholder:"e.g., 50"})}),a.jsx(J,{label:"Purity",children:a.jsx(Re,{value:S,onChange:M,options:(ou(p.investmentType)?Gb:Qb).map(R=>({value:R.value,label:R.label})),placeholder:"Select purity..."})})]}),j!==null&&a.jsxs("div",{className:"flex items-center justify-between bg-[var(--bg-card)] rounded-lg px-3 py-2 border border-[var(--border)]",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Estimated market value"}),a.jsx("p",{className:"text-sm font-bold text-emerald-400 tabular-nums",children:G(j)})]}),a.jsx("button",{type:"button",onClick:()=>L("currentValue",String(j)),className:"text-xs font-semibold text-violet-400 hover:text-violet-300 px-3 py-1.5 rounded-lg bg-violet-500/10 border border-violet-500/20 transition-colors",children:"Use this value"})]})]}),a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-4",children:[a.jsx(J,{label:"Linked Loan / Liability",children:a.jsx(Re,{value:p.linkedLiabilityId,onChange:R=>{L("linkedLiabilityId",R),R&&D(!1)},options:U})}),!p.linkedLiabilityId&&!d&&a.jsx("div",{className:"mt-2",children:a.jsx("button",{type:"button",onClick:()=>D(!w),className:"text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:w?" Cancel quick loan":`+ Create new loan${W?` (${W})`:""}`})}),w&&a.jsxs("div",{className:"mt-3 p-3 bg-[var(--bg-inset)] rounded-lg space-y-3",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider",children:"Quick Loan"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(J,{label:"Lender",required:!0,error:_.qlLender,children:a.jsx(be,{value:k.lenderName,onChange:R=>V("lenderName",R),placeholder:"e.g., HDFC Bank"})}),a.jsx(J,{label:"Outstanding Balance",required:!0,error:_.qlOutstanding,children:a.jsx(be,{type:"number",value:k.outstandingBalance,onChange:R=>V("outstandingBalance",R),placeholder:"e.g., 3500000"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(J,{label:"EMI (monthly)",children:a.jsx(be,{type:"number",value:k.emiAmount,onChange:R=>V("emiAmount",R),placeholder:"e.g., 32000"})}),a.jsx(J,{label:"Interest Rate %",children:a.jsx(be,{type:"number",value:k.interestRate,onChange:R=>V("interestRate",R),placeholder:"e.g., 8.5"})})]})]})]}),d&&a.jsx(J,{label:"Status",children:a.jsx(Re,{value:p.status,onChange:R=>L("status",R),options:nA})}),a.jsx(J,{label:"Notes",children:a.jsx(zl,{value:p.notes,onChange:R=>L("notes",R),placeholder:"Additional information..."})}),a.jsxs("div",{className:"flex items-center justify-between",children:[d&&r?a.jsx(br,{onClick:r}):a.jsx("div",{}),a.jsx(ma,{onCancel:t,onSubmit:se,submitLabel:d?"Update":"Add Investment",loading:H})]})]})}const Kb={Debt:"bg-blue-500/15 text-[var(--accent-blue)]",Gold:"bg-amber-500/15 text-[var(--accent-amber)]",Property:"bg-orange-500/15 text-[var(--accent-orange)]",Equity:"bg-emerald-500/15 text-emerald-400",Alternative:"bg-violet-500/15 text-[var(--accent-violet)]"};function iA(){const{selectedMember:s,member:l}=Jt(),{otherInvList:r,liabilityList:t,addOtherInvestment:o,updateOtherInvestment:u,deleteOtherInvestment:d}=Ve(),{showToast:m,showBlockUI:x,hideBlockUI:p}=Ln(),v=Pn(),[b,y]=N.useState(null);if(r===null)return a.jsx(gr,{title:"Loading investments",cards:5});const S=N.useMemo(()=>{const H=r.filter(O=>O.status!=="Inactive");return s==="all"?H:H.filter(O=>O.familyMemberId===s)},[r,s]),M=S.reduce((H,O)=>H+(O.investedAmount||0),0),j=S.reduce((H,O)=>H+(O.currentValue||0),0),g=j-M,w=g>=0,D=M>0?g/M*100:0,k=N.useMemo(()=>{const H={};return t.forEach(O=>{H[O.liabilityId]=O}),H},[t]),T=S.reduce((H,O)=>{const L=O.linkedLiabilityId?k[O.linkedLiabilityId]:null;return H+(L?.outstandingBalance||0)},0);async function _(H){x("Saving...");try{b?.edit?await u(b.edit.investmentId,H):await o(H),m(b?.edit?"Investment updated":"Investment added"),y(null)}catch(O){m(O.message||"Failed to save investment","error")}finally{p()}}async function B(){if(b?.edit&&await v("Deactivate this investment?",{title:"Deactivate Investment",confirmLabel:"Deactivate"})){x("Deactivating...");try{await d(b.edit.investmentId),m("Investment deactivated"),y(null)}catch(H){m(H.message||"Failed to deactivate investment","error")}finally{p()}}}return a.jsxs("div",{className:"space-y-4",children:[S.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(Ay,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No other investments",l?` for ${l.memberName}`:""]}),a.jsx("button",{onClick:()=>y("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add an investment"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[a.jsx($i,{label:"Invested",value:G(M)}),a.jsx($i,{label:"Current Value",value:G(j),bold:!0}),a.jsx($i,{label:"P&L",value:`${w?"+":""}${G(Math.abs(g))}`,sub:`${w?"+":""}${D.toFixed(1)}%`,positive:w,bold:!0}),T>0&&a.jsx($i,{label:"Linked Loans",value:G(T),color:"rose"}),a.jsx($i,{label:"Holdings",value:S.length})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>y("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Zt,{size:14})," Add Investment"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[720px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Investment"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Category"}),!l&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Invested"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Loan"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:S.map(H=>{const O=(H.currentValue||0)-(H.investedAmount||0),L=O>=0,I=H.linkedLiabilityId?k[H.linkedLiabilityId]:null;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:H.investmentName}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:H.investmentType})]}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Kb[H.investmentCategory]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:H.investmentCategory})}),!l&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:H.familyMemberName}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:G(H.investedAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(H.currentValue)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${L?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[L?"+":"",G(O)]})}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:I?a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:G(I.outstandingBalance)}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:I.liabilityType})]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>y({edit:H}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(pn,{size:12})})})]},H.investmentId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:S.map(H=>{const O=(H.currentValue||0)-(H.investedAmount||0),L=O>=0,I=H.linkedLiabilityId?k[H.linkedLiabilityId]:null;return a.jsxs("div",{onClick:()=>y({edit:H}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:H.investmentName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${Kb[H.investmentCategory]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:H.investmentCategory})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[H.familyMemberName,"  ",H.investmentType]}),a.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Invested"}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:G(H.investedAmount)})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Current"}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(H.currentValue)})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"P&L"}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${L?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[L?"+":"",G(O)]})]})]}),I&&a.jsxs("div",{className:"mt-1.5 flex items-center justify-between bg-rose-500/5 rounded px-2 py-1",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:I.liabilityType}),a.jsx("span",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:G(I.outstandingBalance)})]})]},H.investmentId)})})]})]}),a.jsx(At,{open:!!b,onClose:()=>y(null),title:b?.edit?"Edit Investment":"Add Investment",wide:!0,children:a.jsx(lA,{initial:b?.edit||void 0,onSave:_,onDelete:b?.edit?B:void 0,onCancel:()=>y(null)})})]})}function $i({label:s,value:l,sub:r,positive:t,bold:o,color:u}){const d=u==="rose"?"text-[var(--accent-rose)]":t===void 0?"text-[var(--text-primary)]":t?"text-emerald-400":"text-[var(--accent-rose)]";return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:`text-sm tabular-nums ${o?"font-bold":"font-semibold"} ${d}`,children:l}),r&&a.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${t?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}function oA({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o,activeInvestmentAccounts:u}=Ve(),d=!!s,[m,x]=N.useState({portfolioName:(s?.portfolioName||"").replace(/^PFL-/,""),investmentAccountId:s?.investmentAccountId||"",ownerId:s?.ownerId||"",initialInvestment:s?.initialInvestment||0,sipTarget:s?.sipTarget||"",lumpsumTarget:s?.lumpsumTarget||"",rebalanceThreshold:s?s.rebalanceThreshold*100:5}),[p,v]=N.useState({}),[b,y]=N.useState(!1),[S,M]=N.useState(!1);function j(_,B){x(H=>({...H,[_]:B})),v(H=>({...H,[_]:void 0}))}function g(_){x(B=>({...B,ownerId:_,investmentAccountId:""})),v(B=>({...B,ownerId:void 0}))}const w=u.filter(_=>m.ownerId?_.memberId===m.ownerId:!0).map(_=>({value:_.accountId,label:`${_.accountName} - ${_.platformBroker}`})),D=o.map(_=>({value:_.memberId,label:`${_.memberName} (${_.relationship})`}));function k(){const _={};return m.portfolioName.trim()||(_.portfolioName="Required"),m.ownerId||(_.ownerId="Required"),m.investmentAccountId||(_.investmentAccountId="Required"),v(_),Object.keys(_).length===0}async function T(){if(k()){y(!0);try{const _=u.find(H=>H.accountId===m.investmentAccountId),B=_?`${_.accountName} - ${_.platformBroker}`:m.investmentAccountId;await l({...m,investmentAccount:B,initialInvestment:Number(m.initialInvestment)||0,sipTarget:Number(m.sipTarget)||0,lumpsumTarget:Number(m.lumpsumTarget)||0,rebalanceThreshold:Number(m.rebalanceThreshold)})}finally{y(!1)}}}return a.jsxs("div",{className:"space-y-5",children:[a.jsx(J,{label:"Portfolio Name",required:!0,error:p.portfolioName,children:a.jsx(be,{value:m.portfolioName,onChange:_=>j("portfolioName",_),placeholder:"e.g., Long Term Wealth"})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Owner",required:!0,error:p.ownerId,children:a.jsx(Re,{value:m.ownerId,onChange:g,options:D,placeholder:"Select member..."})}),a.jsx(J,{label:"Investment Account",required:!0,error:p.investmentAccountId,children:a.jsx(Re,{value:m.investmentAccountId,onChange:_=>j("investmentAccountId",_),options:w,placeholder:m.ownerId?w.length?"Select account...":"No MF accounts":"Select owner first..."})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(J,{label:"SIP Target (/month)",children:a.jsx(be,{type:"number",value:m.sipTarget,onChange:_=>j("sipTarget",_),placeholder:"e.g., 50000"})}),a.jsx(J,{label:"Lumpsum Target ()",children:a.jsx(be,{type:"number",value:m.lumpsumTarget,onChange:_=>j("lumpsumTarget",_),placeholder:"e.g., 200000"})})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-xs font-semibold text-[var(--text-muted)] whitespace-nowrap",children:"Rebalance Threshold"}),a.jsx("div",{className:"w-20 shrink-0",children:a.jsx("input",{type:"number",value:m.rebalanceThreshold,onChange:_=>j("rebalanceThreshold",_.target.value),placeholder:"5",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})}),a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"%"})]}),!d&&a.jsx(J,{label:"Initial Investment ()",children:a.jsx(be,{type:"number",value:m.initialInvestment,onChange:_=>j("initialInvestment",_),placeholder:"0 if unknown"})}),d&&r&&S&&a.jsxs("div",{className:"flex items-center gap-3 px-3 py-2.5 bg-rose-500/10 border border-rose-500/20 rounded-lg",children:[a.jsx(Es,{size:15,className:"text-rose-400 shrink-0"}),a.jsx("p",{className:"text-xs text-rose-300/90 flex-1",children:"This will deactivate the portfolio and hide it from views. Are you sure?"}),a.jsxs("div",{className:"flex gap-2 shrink-0",children:[a.jsx("button",{onClick:()=>M(!1),className:"px-2.5 py-1 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded transition-colors",children:"No"}),a.jsx("button",{onClick:r,className:"px-2.5 py-1 text-xs font-semibold text-white bg-rose-600 hover:bg-rose-500 rounded transition-colors",children:"Yes, Deactivate"})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 mt-4 border-t border-[var(--border-light)]",children:[d&&r?a.jsxs("button",{onClick:()=>M(!0),disabled:b,className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-amber-400 border border-amber-500/30 hover:bg-amber-500/15 hover:border-amber-500/50 rounded-lg transition-colors disabled:opacity-40",children:[a.jsx(Es,{size:13}),"Deactivate"]}):a.jsx("div",{}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:t,disabled:b,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),a.jsxs("button",{onClick:T,disabled:b,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 flex items-center gap-1.5",children:[b&&a.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),b?"Saving...":d?"Update":"Create Portfolio"]})]})]})]})}function hr(s){return Array.isArray?Array.isArray(s):M1(s)==="[object Array]"}function cA(s){if(typeof s=="string")return s;let l=s+"";return l=="0"&&1/s==-1/0?"-0":l}function uA(s){return s==null?"":cA(s)}function En(s){return typeof s=="string"}function k1(s){return typeof s=="number"}function dA(s){return s===!0||s===!1||mA(s)&&M1(s)=="[object Boolean]"}function D1(s){return typeof s=="object"}function mA(s){return D1(s)&&s!==null}function Pa(s){return s!=null}function Mf(s){return!s.trim().length}function M1(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}const fA="Incorrect 'index' type",pA=s=>`Invalid value for key ${s}`,xA=s=>`Pattern length exceeds max of ${s}.`,hA=s=>`Missing ${s} property in key`,vA=s=>`Property 'weight' in key '${s}' must be a positive integer`,Xb=Object.prototype.hasOwnProperty;class bA{constructor(l){this._keys=[],this._keyMap={};let r=0;l.forEach(t=>{let o=A1(t);this._keys.push(o),this._keyMap[o.id]=o,r+=o.weight}),this._keys.forEach(t=>{t.weight/=r})}get(l){return this._keyMap[l]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function A1(s){let l=null,r=null,t=null,o=1,u=null;if(En(s)||hr(s))t=s,l=Wb(s),r=Hf(s);else{if(!Xb.call(s,"name"))throw new Error(hA("name"));const d=s.name;if(t=d,Xb.call(s,"weight")&&(o=s.weight,o<=0))throw new Error(vA(d));l=Wb(d),r=Hf(d),u=s.getFn}return{path:l,id:r,weight:o,src:t,getFn:u}}function Wb(s){return hr(s)?s:s.split(".")}function Hf(s){return hr(s)?s.join("."):s}function gA(s,l){let r=[],t=!1;const o=(u,d,m)=>{if(Pa(u))if(!d[m])r.push(u);else{let x=d[m];const p=u[x];if(!Pa(p))return;if(m===d.length-1&&(En(p)||k1(p)||dA(p)))r.push(uA(p));else if(hr(p)){t=!0;for(let v=0,b=p.length;v<b;v+=1)o(p[v],d,m+1)}else d.length&&o(p,d,m+1)}};return o(s,En(l)?l.split("."):l,0),t?r:r[0]}const yA={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},NA={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(s,l)=>s.score===l.score?s.idx<l.idx?-1:1:s.score<l.score?-1:1},jA={location:0,threshold:.6,distance:100},wA={useExtendedSearch:!1,getFn:gA,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Oe={...NA,...yA,...jA,...wA};const SA=/[^ ]+/g;function CA(s=1,l=3){const r=new Map,t=Math.pow(10,l);return{get(o){const u=o.match(SA).length;if(r.has(u))return r.get(u);const d=1/Math.pow(u,.5*s),m=parseFloat(Math.round(d*t)/t);return r.set(u,m),m},clear(){r.clear()}}}class wp{constructor({getFn:l=Oe.getFn,fieldNormWeight:r=Oe.fieldNormWeight}={}){this.norm=CA(r,3),this.getFn=l,this.isCreated=!1,this.setIndexRecords()}setSources(l=[]){this.docs=l}setIndexRecords(l=[]){this.records=l}setKeys(l=[]){this.keys=l,this._keysMap={},l.forEach((r,t)=>{this._keysMap[r.id]=t})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,En(this.docs[0])?this.docs.forEach((l,r)=>{this._addString(l,r)}):this.docs.forEach((l,r)=>{this._addObject(l,r)}),this.norm.clear())}add(l){const r=this.size();En(l)?this._addString(l,r):this._addObject(l,r)}removeAt(l){this.records.splice(l,1);for(let r=l,t=this.size();r<t;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(l,r){return l[this._keysMap[r]]}size(){return this.records.length}_addString(l,r){if(!Pa(l)||Mf(l))return;let t={v:l,i:r,n:this.norm.get(l)};this.records.push(t)}_addObject(l,r){let t={i:r,$:{}};this.keys.forEach((o,u)=>{let d=o.getFn?o.getFn(l):this.getFn(l,o.path);if(Pa(d)){if(hr(d)){let m=[];const x=[{nestedArrIndex:-1,value:d}];for(;x.length;){const{nestedArrIndex:p,value:v}=x.pop();if(Pa(v))if(En(v)&&!Mf(v)){let b={v,i:p,n:this.norm.get(v)};m.push(b)}else hr(v)&&v.forEach((b,y)=>{x.push({nestedArrIndex:y,value:b})})}t.$[u]=m}else if(En(d)&&!Mf(d)){let m={v:d,n:this.norm.get(d)};t.$[u]=m}}}),this.records.push(t)}toJSON(){return{keys:this.keys,records:this.records}}}function T1(s,l,{getFn:r=Oe.getFn,fieldNormWeight:t=Oe.fieldNormWeight}={}){const o=new wp({getFn:r,fieldNormWeight:t});return o.setKeys(s.map(A1)),o.setSources(l),o.create(),o}function kA(s,{getFn:l=Oe.getFn,fieldNormWeight:r=Oe.fieldNormWeight}={}){const{keys:t,records:o}=s,u=new wp({getFn:l,fieldNormWeight:r});return u.setKeys(t),u.setIndexRecords(o),u}function Uc(s,{errors:l=0,currentLocation:r=0,expectedLocation:t=0,distance:o=Oe.distance,ignoreLocation:u=Oe.ignoreLocation}={}){const d=l/s.length;if(u)return d;const m=Math.abs(t-r);return o?d+m/o:m?1:d}function DA(s=[],l=Oe.minMatchCharLength){let r=[],t=-1,o=-1,u=0;for(let d=s.length;u<d;u+=1){let m=s[u];m&&t===-1?t=u:!m&&t!==-1&&(o=u-1,o-t+1>=l&&r.push([t,o]),t=-1)}return s[u-1]&&u-t>=l&&r.push([t,u-1]),r}const Cs=32;function MA(s,l,r,{location:t=Oe.location,distance:o=Oe.distance,threshold:u=Oe.threshold,findAllMatches:d=Oe.findAllMatches,minMatchCharLength:m=Oe.minMatchCharLength,includeMatches:x=Oe.includeMatches,ignoreLocation:p=Oe.ignoreLocation}={}){if(l.length>Cs)throw new Error(xA(Cs));const v=l.length,b=s.length,y=Math.max(0,Math.min(t,b));let S=u,M=y;const j=m>1||x,g=j?Array(b):[];let w;for(;(w=s.indexOf(l,M))>-1;){let H=Uc(l,{currentLocation:w,expectedLocation:y,distance:o,ignoreLocation:p});if(S=Math.min(H,S),M=w+v,j){let O=0;for(;O<v;)g[w+O]=1,O+=1}}M=-1;let D=[],k=1,T=v+b;const _=1<<v-1;for(let H=0;H<v;H+=1){let O=0,L=T;for(;O<L;)Uc(l,{errors:H,currentLocation:y+L,expectedLocation:y,distance:o,ignoreLocation:p})<=S?O=L:T=L,L=Math.floor((T-O)/2+O);T=L;let I=Math.max(1,y-L+1),V=d?b:Math.min(y+L,b)+v,A=Array(V+2);A[V+1]=(1<<H)-1;for(let oe=V;oe>=I;oe-=1){let U=oe-1,z=r[s.charAt(U)];if(j&&(g[U]=+!!z),A[oe]=(A[oe+1]<<1|1)&z,H&&(A[oe]|=(D[oe+1]|D[oe])<<1|1|D[oe+1]),A[oe]&_&&(k=Uc(l,{errors:H,currentLocation:U,expectedLocation:y,distance:o,ignoreLocation:p}),k<=S)){if(S=k,M=U,M<=y)break;I=Math.max(1,2*y-M)}}if(Uc(l,{errors:H+1,currentLocation:y,expectedLocation:y,distance:o,ignoreLocation:p})>S)break;D=A}const B={isMatch:M>=0,score:Math.max(.001,k)};if(j){const H=DA(g,m);H.length?x&&(B.indices=H):B.isMatch=!1}return B}function AA(s){let l={};for(let r=0,t=s.length;r<t;r+=1){const o=s.charAt(r);l[o]=(l[o]||0)|1<<t-r-1}return l}const Au=String.prototype.normalize?(s=>s.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(s=>s);class E1{constructor(l,{location:r=Oe.location,threshold:t=Oe.threshold,distance:o=Oe.distance,includeMatches:u=Oe.includeMatches,findAllMatches:d=Oe.findAllMatches,minMatchCharLength:m=Oe.minMatchCharLength,isCaseSensitive:x=Oe.isCaseSensitive,ignoreDiacritics:p=Oe.ignoreDiacritics,ignoreLocation:v=Oe.ignoreLocation}={}){if(this.options={location:r,threshold:t,distance:o,includeMatches:u,findAllMatches:d,minMatchCharLength:m,isCaseSensitive:x,ignoreDiacritics:p,ignoreLocation:v},l=x?l:l.toLowerCase(),l=p?Au(l):l,this.pattern=l,this.chunks=[],!this.pattern.length)return;const b=(S,M)=>{this.chunks.push({pattern:S,alphabet:AA(S),startIndex:M})},y=this.pattern.length;if(y>Cs){let S=0;const M=y%Cs,j=y-M;for(;S<j;)b(this.pattern.substr(S,Cs),S),S+=Cs;if(M){const g=y-Cs;b(this.pattern.substr(g),g)}}else b(this.pattern,0)}searchIn(l){const{isCaseSensitive:r,ignoreDiacritics:t,includeMatches:o}=this.options;if(l=r?l:l.toLowerCase(),l=t?Au(l):l,this.pattern===l){let j={isMatch:!0,score:0};return o&&(j.indices=[[0,l.length-1]]),j}const{location:u,distance:d,threshold:m,findAllMatches:x,minMatchCharLength:p,ignoreLocation:v}=this.options;let b=[],y=0,S=!1;this.chunks.forEach(({pattern:j,alphabet:g,startIndex:w})=>{const{isMatch:D,score:k,indices:T}=MA(l,j,g,{location:u+w,distance:d,threshold:m,findAllMatches:x,minMatchCharLength:p,includeMatches:o,ignoreLocation:v});D&&(S=!0),y+=k,D&&T&&(b=[...b,...T])});let M={isMatch:S,score:S?y/this.chunks.length:1};return S&&o&&(M.indices=b),M}}class Wr{constructor(l){this.pattern=l}static isMultiMatch(l){return Zb(l,this.multiRegex)}static isSingleMatch(l){return Zb(l,this.singleRegex)}search(){}}function Zb(s,l){const r=s.match(l);return r?r[1]:null}class TA extends Wr{constructor(l){super(l)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(l){const r=l===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class EA extends Wr{constructor(l){super(l)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(l){const t=l.indexOf(this.pattern)===-1;return{isMatch:t,score:t?0:1,indices:[0,l.length-1]}}}class _A extends Wr{constructor(l){super(l)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(l){const r=l.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class OA extends Wr{constructor(l){super(l)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(l){const r=!l.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,l.length-1]}}}class RA extends Wr{constructor(l){super(l)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(l){const r=l.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[l.length-this.pattern.length,l.length-1]}}}class IA extends Wr{constructor(l){super(l)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(l){const r=!l.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,l.length-1]}}}class _1 extends Wr{constructor(l,{location:r=Oe.location,threshold:t=Oe.threshold,distance:o=Oe.distance,includeMatches:u=Oe.includeMatches,findAllMatches:d=Oe.findAllMatches,minMatchCharLength:m=Oe.minMatchCharLength,isCaseSensitive:x=Oe.isCaseSensitive,ignoreDiacritics:p=Oe.ignoreDiacritics,ignoreLocation:v=Oe.ignoreLocation}={}){super(l),this._bitapSearch=new E1(l,{location:r,threshold:t,distance:o,includeMatches:u,findAllMatches:d,minMatchCharLength:m,isCaseSensitive:x,ignoreDiacritics:p,ignoreLocation:v})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(l){return this._bitapSearch.searchIn(l)}}class O1 extends Wr{constructor(l){super(l)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(l){let r=0,t;const o=[],u=this.pattern.length;for(;(t=l.indexOf(this.pattern,r))>-1;)r=t+u,o.push([t,r-1]);const d=!!o.length;return{isMatch:d,score:d?0:1,indices:o}}}const Yf=[TA,O1,_A,OA,IA,RA,EA,_1],Jb=Yf.length,LA=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,PA="|";function zA(s,l={}){return s.split(PA).map(r=>{let t=r.trim().split(LA).filter(u=>u&&!!u.trim()),o=[];for(let u=0,d=t.length;u<d;u+=1){const m=t[u];let x=!1,p=-1;for(;!x&&++p<Jb;){const v=Yf[p];let b=v.isMultiMatch(m);b&&(o.push(new v(b,l)),x=!0)}if(!x)for(p=-1;++p<Jb;){const v=Yf[p];let b=v.isSingleMatch(m);if(b){o.push(new v(b,l));break}}}return o})}const FA=new Set([_1.type,O1.type]);class BA{constructor(l,{isCaseSensitive:r=Oe.isCaseSensitive,ignoreDiacritics:t=Oe.ignoreDiacritics,includeMatches:o=Oe.includeMatches,minMatchCharLength:u=Oe.minMatchCharLength,ignoreLocation:d=Oe.ignoreLocation,findAllMatches:m=Oe.findAllMatches,location:x=Oe.location,threshold:p=Oe.threshold,distance:v=Oe.distance}={}){this.query=null,this.options={isCaseSensitive:r,ignoreDiacritics:t,includeMatches:o,minMatchCharLength:u,findAllMatches:m,ignoreLocation:d,location:x,threshold:p,distance:v},l=r?l:l.toLowerCase(),l=t?Au(l):l,this.pattern=l,this.query=zA(this.pattern,this.options)}static condition(l,r){return r.useExtendedSearch}searchIn(l){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:t,isCaseSensitive:o,ignoreDiacritics:u}=this.options;l=o?l:l.toLowerCase(),l=u?Au(l):l;let d=0,m=[],x=0;for(let p=0,v=r.length;p<v;p+=1){const b=r[p];m.length=0,d=0;for(let y=0,S=b.length;y<S;y+=1){const M=b[y],{isMatch:j,indices:g,score:w}=M.search(l);if(j){if(d+=1,x+=w,t){const D=M.constructor.type;FA.has(D)?m=[...m,...g]:m.push(g)}}else{x=0,d=0,m.length=0;break}}if(d){let y={isMatch:!0,score:x/d};return t&&(y.indices=m),y}}return{isMatch:!1,score:1}}}const Uf=[];function HA(...s){Uf.push(...s)}function qf(s,l){for(let r=0,t=Uf.length;r<t;r+=1){let o=Uf[r];if(o.condition(s,l))return new o(s,l)}return new E1(s,l)}const Tu={AND:"$and",OR:"$or"},$f={PATH:"$path",PATTERN:"$val"},Vf=s=>!!(s[Tu.AND]||s[Tu.OR]),YA=s=>!!s[$f.PATH],UA=s=>!hr(s)&&D1(s)&&!Vf(s),eg=s=>({[Tu.AND]:Object.keys(s).map(l=>({[l]:s[l]}))});function R1(s,l,{auto:r=!0}={}){const t=o=>{let u=Object.keys(o);const d=YA(o);if(!d&&u.length>1&&!Vf(o))return t(eg(o));if(UA(o)){const x=d?o[$f.PATH]:u[0],p=d?o[$f.PATTERN]:o[x];if(!En(p))throw new Error(pA(x));const v={keyId:Hf(x),pattern:p};return r&&(v.searcher=qf(p,l)),v}let m={children:[],operator:u[0]};return u.forEach(x=>{const p=o[x];hr(p)&&p.forEach(v=>{m.children.push(t(v))})}),m};return Vf(s)||(s=eg(s)),t(s)}function qA(s,{ignoreFieldNorm:l=Oe.ignoreFieldNorm}){s.forEach(r=>{let t=1;r.matches.forEach(({key:o,norm:u,score:d})=>{const m=o?o.weight:null;t*=Math.pow(d===0&&m?Number.EPSILON:d,(m||1)*(l?1:u))}),r.score=t})}function $A(s,l){const r=s.matches;l.matches=[],Pa(r)&&r.forEach(t=>{if(!Pa(t.indices)||!t.indices.length)return;const{indices:o,value:u}=t;let d={indices:o,value:u};t.key&&(d.key=t.key.src),t.idx>-1&&(d.refIndex=t.idx),l.matches.push(d)})}function VA(s,l){l.score=s.score}function GA(s,l,{includeMatches:r=Oe.includeMatches,includeScore:t=Oe.includeScore}={}){const o=[];return r&&o.push($A),t&&o.push(VA),s.map(u=>{const{idx:d}=u,m={item:l[d],refIndex:d};return o.length&&o.forEach(x=>{x(u,m)}),m})}class $l{constructor(l,r={},t){this.options={...Oe,...r},this.options.useExtendedSearch,this._keyStore=new bA(this.options.keys),this.setCollection(l,t)}setCollection(l,r){if(this._docs=l,r&&!(r instanceof wp))throw new Error(fA);this._myIndex=r||T1(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(l){Pa(l)&&(this._docs.push(l),this._myIndex.add(l))}remove(l=()=>!1){const r=[];for(let t=0,o=this._docs.length;t<o;t+=1){const u=this._docs[t];l(u,t)&&(this.removeAt(t),t-=1,o-=1,r.push(u))}return r}removeAt(l){this._docs.splice(l,1),this._myIndex.removeAt(l)}getIndex(){return this._myIndex}search(l,{limit:r=-1}={}){const{includeMatches:t,includeScore:o,shouldSort:u,sortFn:d,ignoreFieldNorm:m}=this.options;let x=En(l)?En(this._docs[0])?this._searchStringList(l):this._searchObjectList(l):this._searchLogical(l);return qA(x,{ignoreFieldNorm:m}),u&&x.sort(d),k1(r)&&r>-1&&(x=x.slice(0,r)),GA(x,this._docs,{includeMatches:t,includeScore:o})}_searchStringList(l){const r=qf(l,this.options),{records:t}=this._myIndex,o=[];return t.forEach(({v:u,i:d,n:m})=>{if(!Pa(u))return;const{isMatch:x,score:p,indices:v}=r.searchIn(u);x&&o.push({item:u,idx:d,matches:[{score:p,value:u,norm:m,indices:v}]})}),o}_searchLogical(l){const r=R1(l,this.options),t=(m,x,p)=>{if(!m.children){const{keyId:b,searcher:y}=m,S=this._findMatches({key:this._keyStore.get(b),value:this._myIndex.getValueForItemAtKeyId(x,b),searcher:y});return S&&S.length?[{idx:p,item:x,matches:S}]:[]}const v=[];for(let b=0,y=m.children.length;b<y;b+=1){const S=m.children[b],M=t(S,x,p);if(M.length)v.push(...M);else if(m.operator===Tu.AND)return[]}return v},o=this._myIndex.records,u={},d=[];return o.forEach(({$:m,i:x})=>{if(Pa(m)){let p=t(r,m,x);p.length&&(u[x]||(u[x]={idx:x,item:m,matches:[]},d.push(u[x])),p.forEach(({matches:v})=>{u[x].matches.push(...v)}))}}),d}_searchObjectList(l){const r=qf(l,this.options),{keys:t,records:o}=this._myIndex,u=[];return o.forEach(({$:d,i:m})=>{if(!Pa(d))return;let x=[];t.forEach((p,v)=>{x.push(...this._findMatches({key:p,value:d[v],searcher:r}))}),x.length&&u.push({idx:m,item:d,matches:x})}),u}_findMatches({key:l,value:r,searcher:t}){if(!Pa(r))return[];let o=[];if(hr(r))r.forEach(({v:u,i:d,n:m})=>{if(!Pa(u))return;const{isMatch:x,score:p,indices:v}=t.searchIn(u);x&&o.push({score:p,key:l,value:u,idx:d,norm:m,indices:v})});else{const{v:u,n:d}=r,{isMatch:m,score:x,indices:p}=t.searchIn(u);m&&o.push({score:x,key:l,value:u,norm:d,indices:p})}return o}}$l.version="7.1.0";$l.createIndex=T1;$l.parseIndex=kA;$l.config=Oe;$l.parseQuery=R1;HA(BA);let on=null,Vi=null;function QA(s){if(!s)return!1;const l=new Date(s),r=new Date;return l.getFullYear()===r.getFullYear()&&l.getMonth()===r.getMonth()&&l.getDate()===r.getDate()}function KA(){return on?Promise.resolve(on):Vi||(Vi=hS("fundsList").then(s=>s&&Array.isArray(s.data)&&QA(s.updatedAt)?(on=s.data,on):V2().then(l=>(on=Array.isArray(l)?l:[],ja("fundsList",on),on))).catch(()=>(Vi=null,[])),Vi)}function Sp({value:s,onSelect:l,placeholder:r,disabled:t}){const[o,u]=N.useState(""),[d,m]=N.useState(on||[]),[x,p]=N.useState(!on),[v,b]=N.useState(!1),y=N.useRef(null);N.useEffect(()=>{if(on){m(on),p(!1);return}KA().then(D=>{m(D),p(!1)})},[]),N.useEffect(()=>{function D(k){y.current&&!y.current.contains(k.target)&&b(!1)}return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]);const S=N.useMemo(()=>d.length?new $l(d,{keys:["fundName"],threshold:.3,distance:50,minMatchCharLength:2,includeScore:!0,ignoreLocation:!1,findAllMatches:!0}):null,[d]),M=N.useMemo(()=>!S||o.length<2?[]:S.search(o).slice(0,50).map(D=>D.item),[S,o]);function j(D){u(D),b(D.length>=2)}function g(D){l({schemeCode:D.fundCode||D.schemeCode,fundName:D.fundName,nav:D.nav,navDate:D.navDate}),u(""),b(!1)}function w(){l({schemeCode:"",fundName:"",nav:0,navDate:""}),u("")}return s?.fundName?a.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg px-3 py-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate",children:s.fundName}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:s.schemeCode}),s.nav>0&&a.jsxs("span",{className:"text-xs font-medium text-emerald-400",children:["NAV: ",s.nav.toFixed(2),s.navDate?` (${s.navDate})`:""]})]})]}),a.jsx("button",{type:"button",onClick:w,className:"shrink-0 p-1 rounded-md hover:bg-[var(--bg-hover)] text-[var(--text-dim)] hover:text-[var(--text-secondary)] transition-colors",children:a.jsx(io,{size:14})})]}):a.jsxs("div",{ref:y,className:"relative",children:[a.jsxs("div",{className:"relative",children:[x?a.jsx(ky,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-400 animate-spin"}):a.jsx(Ty,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)]"}),a.jsx("input",{type:"text",value:o,onChange:D=>j(D.target.value),onFocus:()=>o.length>=2&&b(!0),placeholder:x?"Loading funds...":r||"Search fund name...",disabled:t||x,className:"w-full bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg pl-9 pr-3 py-2 text-sm text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-violet-500/50 disabled:opacity-50 transition-colors"})]}),v&&M.length>0&&a.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl max-h-[240px] overflow-y-auto",children:M.map(D=>a.jsxs("button",{type:"button",onClick:()=>g(D),className:"w-full text-left px-3 py-2.5 hover:bg-[var(--bg-hover)] transition-colors border-b border-[var(--border-light)] last:border-0",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:D.fundName}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:D.fundCode||D.schemeCode}),D.nav>0&&a.jsxs("span",{className:"text-xs text-emerald-400 tabular-nums",children:["NAV: ",D.nav.toFixed(2),D.navDate?` (${D.navDate})`:""]})]})]},D.fundCode||D.schemeCode))}),v&&o.length>=2&&M.length===0&&!x&&a.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl p-4 text-center",children:a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:['No funds found for "',o,'"']})})]})}const XA=[{value:"INITIAL",label:"Add Existing Holdings"},{value:"SIP",label:"SIP Investment"},{value:"LUMPSUM",label:"Lumpsum Investment"}];function WA({portfolioId:s,fundCode:l,fundName:r,transactionType:t,onSave:o,onCancel:u}){const{mfPortfolios:d,mfHoldings:m}=Ve(),{selectedMember:x}=Jt(),p=N.useMemo(()=>{const A=d.filter(se=>se.status==="Active");return x==="all"?A:A.filter(se=>se.ownerId===x)},[d,x]),[v,b]=N.useState({portfolioId:s||"",fundCode:l||"",fundName:r||"",nav:0,navDate:"",transactionType:t||"SIP",date:new Date().toISOString().split("T")[0],units:"",price:"",notes:""}),[y,S]=N.useState({}),[M,j]=N.useState(!1),[g,w]=N.useState(!l);function D(A,se){b(oe=>({...oe,[A]:se})),S(oe=>({...oe,[A]:void 0}))}function k({schemeCode:A,fundName:se,nav:oe,navDate:U}){b(z=>({...z,fundCode:A,fundName:se,nav:oe||0,navDate:U||"",price:oe>0?String(oe):z.price})),S(z=>({...z,fundCode:void 0,fundName:void 0})),w(!1)}function T(A){b(se=>({...se,fundCode:A.schemeCode,fundName:A.fundName,nav:A.currentNav||0,navDate:"",price:A.currentNav>0?String(A.currentNav):se.price})),S(se=>({...se,fundCode:void 0})),w(!1)}const _=N.useMemo(()=>v.portfolioId?m.filter(A=>A.portfolioId===v.portfolioId).sort((A,se)=>se.currentValue-A.currentValue):[],[m,v.portfolioId]),B=N.useMemo(()=>!v.portfolioId||!v.fundCode?null:m.find(A=>A.portfolioId===v.portfolioId&&A.schemeCode===v.fundCode),[m,v.portfolioId,v.fundCode]),H=v.fundCode&&!B,O=N.useMemo(()=>(Number(v.units)||0)*(Number(v.price)||0),[v.units,v.price]);function L(){const A={};return v.portfolioId||(A.portfolioId="Required"),v.fundCode||(A.fundCode="Select a fund"),v.date||(A.date="Required"),(!v.units||Number(v.units)<=0)&&(A.units="Must be > 0"),(!v.price||Number(v.price)<=0)&&(A.price="Must be > 0"),S(A),Object.keys(A).length===0}async function I(){if(L()){j(!0);try{await o({portfolioId:v.portfolioId,fundCode:v.fundCode,fundName:v.fundName,transactionType:v.transactionType,purchaseDate:v.date,units:v.units,avgPrice:v.price,notes:v.notes})}finally{j(!1)}}}const V=p.map(A=>{const se=A.portfolioName?.replace(/^PFL-/,"")||A.portfolioName,oe=A.ownerName?`${se} (${A.ownerName})`:se;return{value:A.portfolioId,label:oe}});return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Portfolio",required:!0,error:y.portfolioId,children:a.jsx(Re,{value:v.portfolioId,onChange:A=>{D("portfolioId",A),l||(D("fundCode",""),D("fundName",""),w(!1))},options:V,placeholder:"Select portfolio..."})}),a.jsx(J,{label:"Transaction Type",required:!0,children:a.jsx(Re,{value:v.transactionType,onChange:A=>D("transactionType",A),options:XA})})]}),a.jsx(J,{label:"Fund",required:!0,error:y.fundCode,children:v.fundCode&&!g?a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:v.fundName}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[v.fundCode,v.nav>0&&a.jsxs("span",{className:"ml-2 text-emerald-400",children:["NAV: ",v.nav.toFixed(2)]})]})]}),a.jsx("button",{type:"button",onClick:()=>{D("fundCode",""),D("fundName",""),w(!0)},className:"text-xs text-[var(--text-muted)] hover:text-[var(--text-primary)] underline shrink-0",children:"Change"})]}):a.jsxs("div",{className:"space-y-3",children:[_.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)] mb-1.5",children:"Portfolio Funds"}),a.jsx("div",{className:"rounded-lg border border-[var(--border)] bg-[var(--bg-inset)] overflow-hidden max-h-44 overflow-y-auto",children:_.map(A=>a.jsxs("button",{type:"button",onClick:()=>T(A),className:"w-full flex items-center gap-3 px-3 py-2 text-left hover:bg-[var(--bg-hover)] border-b border-[var(--border-light)] last:border-b-0 transition-colors group",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate group-hover:text-white transition-colors",children:A.fundName}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5",children:A.units>0?`${A.units.toFixed(0)} units  ${G(A.currentValue)}`:"Planned"})]}),a.jsx(dr,{size:12,className:"text-[var(--text-dim)] -rotate-90 shrink-0 opacity-0 group-hover:opacity-100 transition-opacity"})]},A.holdingId))})]}),a.jsxs("div",{children:[_.length>0&&a.jsxs("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)] mb-1.5 flex items-center gap-1",children:[a.jsx(Ty,{size:10})," Or search new fund"]}),a.jsx(Sp,{value:null,onSelect:k,placeholder:"Search fund by name or code..."})]})]})}),B&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Existing holding  will average out"}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Current: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:B.units.toFixed(2)})," units @ ",B.avgNav.toFixed(2)," avg NAV | Value: ",G(B.currentValue),B.targetAllocationPct>0&&a.jsxs("span",{children:["  Target: ",B.targetAllocationPct.toFixed(1),"%"]})]})]}),H&&a.jsxs("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:[a.jsx("p",{className:"text-xs text-violet-400 font-semibold",children:"New fund  will be added to portfolio"}),a.jsx("p",{className:"text-xs text-violet-300/70 mt-0.5",children:"Use Allocations to plan how much to invest before buying"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(J,{label:"Date",required:!0,error:y.date,children:a.jsx(Rn,{value:v.date,onChange:A=>D("date",A)})}),a.jsx(J,{label:"Units",required:!0,error:y.units,children:a.jsx(be,{type:"number",value:v.units,onChange:A=>D("units",A),placeholder:"e.g., 150.50"})}),a.jsx(J,{label:"NAV ()",required:!0,error:y.price,children:a.jsx(be,{type:"number",value:v.price,onChange:A=>D("price",A),placeholder:"e.g., 178.45"})})]}),O>0&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:G(O)}),B&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:["New avg NAV: ",((B.investment+O)/(B.units+Number(v.units))).toFixed(2)," Total units: ",(B.units+Number(v.units)).toFixed(2)]})]}),a.jsx(J,{label:"Notes",children:a.jsx(be,{value:v.notes,onChange:A=>D("notes",A),placeholder:"Optional notes..."})}),a.jsx(ma,{onCancel:u,onSubmit:I,submitLabel:v.transactionType==="SIP"?"Record SIP":v.transactionType==="LUMPSUM"?"Record Lumpsum":"Add Holdings",loading:M})]})}function ZA({portfolioId:s,fundCode:l,onSave:r,onCancel:t}){const{mfPortfolios:o,mfHoldings:u}=Ve(),{selectedMember:d}=Jt(),m=N.useMemo(()=>{const I=o.filter(V=>V.status==="Active");return d==="all"?I:I.filter(V=>V.ownerId===d)},[o,d]),x=N.useMemo(()=>!s||!l?null:u.find(I=>I.portfolioId===s&&I.schemeCode===l),[u,s,l]),[p,v]=N.useState({portfolioId:s||"",fundCode:l||"",fundName:x?.fundName||"",date:new Date().toISOString().split("T")[0],units:"",price:x?.currentNav>0?String(x.currentNav):"",notes:""}),[b,y]=N.useState({}),[S,M]=N.useState(!1);function j(I,V){v(A=>({...A,[I]:V})),y(A=>({...A,[I]:void 0}))}const g=N.useMemo(()=>p.portfolioId?u.filter(I=>I.portfolioId===p.portfolioId&&I.units>0):[],[u,p.portfolioId]),w=g.find(I=>I.schemeCode===p.fundCode);function D(I){const V=g.find(A=>A.schemeCode===I);v(A=>({...A,fundCode:I,fundName:V?.fundName||"",price:V?.currentNav?.toString()||""})),y(A=>({...A,fundCode:void 0}))}function k(I){v(V=>({...V,portfolioId:I,fundCode:"",fundName:"",units:"",price:""})),y(V=>({...V,portfolioId:void 0}))}const T=N.useMemo(()=>(Number(p.units)||0)*(Number(p.price)||0),[p.units,p.price]),_=w?T-Number(p.units)*w.avgNav:0;function B(){const I={};return p.portfolioId||(I.portfolioId="Required"),p.fundCode||(I.fundCode="Required"),p.date||(I.date="Required"),(!p.units||Number(p.units)<=0)&&(I.units="Must be > 0"),w&&Number(p.units)>w.units&&(I.units=`Max ${w.units.toFixed(2)} units`),(!p.price||Number(p.price)<=0)&&(I.price="Must be > 0"),y(I),Object.keys(I).length===0}async function H(){if(B()){M(!0);try{await r(p)}finally{M(!1)}}}const O=m.map(I=>{const V=I.portfolioName?.replace(/^PFL-/,"")||I.portfolioName,A=I.ownerName?`${V} (${I.ownerName})`:V;return{value:I.portfolioId,label:A}}),L=g.map(I=>({value:I.schemeCode,label:`${I.fundName}  ${I.units.toFixed(0)} units  ${G(I.currentValue)}`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(J,{label:"Portfolio",required:!0,error:b.portfolioId,children:a.jsx(Re,{value:p.portfolioId,onChange:k,options:O,placeholder:"Select portfolio..."})}),a.jsx(J,{label:"Fund to Redeem",required:!0,error:b.fundCode,children:a.jsx(Re,{value:p.fundCode,onChange:D,options:L,placeholder:p.portfolioId?g.length?"Select fund...":"No holdings":"Select portfolio first..."})}),w&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:w.fundName}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:w.units.toFixed(2)})," units @ ",w.avgNav.toFixed(2)," avg | Current NAV: ",w.currentNav.toFixed(2)]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(J,{label:"Date",required:!0,error:b.date,children:a.jsx(Rn,{value:p.date,onChange:I=>j("date",I)})}),a.jsx(J,{label:"Units",required:!0,error:b.units,children:a.jsx(be,{type:"number",value:p.units,onChange:I=>j("units",I),placeholder:w?`Max: ${w.units.toFixed(2)}`:""})}),a.jsx(J,{label:"NAV ()",required:!0,error:b.price,children:a.jsx(be,{type:"number",value:p.price,onChange:I=>j("price",I),placeholder:"e.g., 178.45"})})]}),T>0&&a.jsx("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Redemption Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:G(T)})]}),w&&a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. Gain/Loss"}),a.jsxs("p",{className:`text-sm font-bold tabular-nums ${_>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[_>=0?"+":"",G(_)]})]})]})}),a.jsx(J,{label:"Notes",children:a.jsx(be,{value:p.notes,onChange:I=>j("notes",I),placeholder:"Optional notes..."})}),a.jsx(ma,{onCancel:t,onSubmit:H,submitLabel:"Redeem",loading:S})]})}function JA({portfolioId:s,onSave:l,onCancel:r}){const{mfPortfolios:t,mfHoldings:o}=Ve(),{selectedMember:u}=Jt(),d=N.useMemo(()=>{const A=t.filter(se=>se.status==="Active");return u==="all"?A:A.filter(se=>se.ownerId===u)},[t,u]),[m,x]=N.useState({portfolioId:s||"",fromFundCode:"",fromFundName:"",toFundCode:"",toFundName:"",date:new Date().toISOString().split("T")[0],units:"",fromPrice:"",toPrice:"",targetAllocation:"",notes:""}),[p,v]=N.useState({}),[b,y]=N.useState(!1);function S(A,se){x(oe=>({...oe,[A]:se})),v(oe=>({...oe,[A]:void 0}))}function M(A){x(se=>({...se,portfolioId:A,fromFundCode:"",fromFundName:"",toFundCode:"",toFundName:"",units:"",fromPrice:"",toPrice:"",targetAllocation:""})),v(se=>({...se,portfolioId:void 0}))}const j=N.useMemo(()=>m.portfolioId?o.filter(A=>A.portfolioId===m.portfolioId&&A.units>0):[],[o,m.portfolioId]),g=j.find(A=>A.schemeCode===m.fromFundCode),w=N.useMemo(()=>!m.portfolioId||!m.toFundCode?null:o.find(A=>A.portfolioId===m.portfolioId&&A.schemeCode===m.toFundCode),[o,m.portfolioId,m.toFundCode]),D=m.toFundCode&&!w;function k(A){const se=j.find(oe=>oe.schemeCode===A);x(oe=>({...oe,fromFundCode:A,fromFundName:se?.fundName||"",fromPrice:se?.currentNav?.toString()||""})),v(oe=>({...oe,fromFundCode:void 0}))}function T({schemeCode:A,fundName:se}){const oe=o.find(U=>U.portfolioId===m.portfolioId&&U.schemeCode===A);x(U=>({...U,toFundCode:A,toFundName:se,toPrice:oe?.currentNav?.toString()||U.toPrice,targetAllocation:""})),v(U=>({...U,toFundCode:void 0}))}const _=N.useMemo(()=>(Number(m.units)||0)*(Number(m.fromPrice)||0),[m.units,m.fromPrice]),B=_>0&&Number(m.toPrice)>0?_/Number(m.toPrice):0,H=g?_-Number(m.units)*g.avgNav:0;function O(){const A={};return m.portfolioId||(A.portfolioId="Required"),m.fromFundCode||(A.fromFundCode="Required"),m.toFundCode||(A.toFundCode="Required"),m.fromFundCode&&m.toFundCode&&m.fromFundCode===m.toFundCode&&(A.toFundCode="Must be different from source fund"),m.date||(A.date="Required"),(!m.units||Number(m.units)<=0)&&(A.units="Must be > 0"),g&&Number(m.units)>g.units&&(A.units=`Max ${g.units.toFixed(2)} units`),(!m.fromPrice||Number(m.fromPrice)<=0)&&(A.fromPrice="Must be > 0"),(!m.toPrice||Number(m.toPrice)<=0)&&(A.toPrice="Must be > 0"),v(A),Object.keys(A).length===0}async function L(){if(O()){y(!0);try{await l(m)}finally{y(!1)}}}const I=d.map(A=>{const se=A.portfolioName?.replace(/^PFL-/,"")||A.portfolioName,oe=A.ownerName?`${se} (${A.ownerName})`:se;return{value:A.portfolioId,label:oe}}),V=j.map(A=>({value:A.schemeCode,label:A.fundName}));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(J,{label:"Portfolio",required:!0,error:p.portfolioId,children:a.jsx(Re,{value:m.portfolioId,onChange:M,options:I,placeholder:"Select portfolio..."})}),a.jsx(J,{label:"Switch From (Sell)",required:!0,error:p.fromFundCode,children:a.jsx(Re,{value:m.fromFundCode,onChange:k,options:V,placeholder:m.portfolioId?j.length?"Select fund to switch from...":"No holdings":"Select portfolio first..."})}),g&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:g.fundName}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:g.units.toFixed(2)})," units @ ",g.avgNav.toFixed(2)," avg | Current NAV: ",g.currentNav.toFixed(2)]})]}),a.jsx(J,{label:"Switch To (Buy)",required:!0,error:p.toFundCode,children:a.jsx(Sp,{value:m.toFundCode?{schemeCode:m.toFundCode,fundName:m.toFundName}:null,onSelect:T,placeholder:"Search fund to switch into...",disabled:!m.portfolioId})}),w&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Existing holding  units will be added, NAV averaged out"}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Current: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:w.units.toFixed(2)})," units @ ",w.avgNav.toFixed(2)," avg | Alloc: ",w.targetAllocationPct.toFixed(1),"%"]})]}),D&&m.toFundCode&&a.jsx("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:a.jsx("p",{className:"text-xs text-violet-400 font-semibold",children:"New fund  will be added to portfolio"})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Switch Date",required:!0,error:p.date,children:a.jsx(Rn,{value:m.date,onChange:A=>S("date",A)})}),a.jsx(J,{label:"Units to Switch",required:!0,error:p.units,children:a.jsx(be,{type:"number",value:m.units,onChange:A=>S("units",A),placeholder:g?`Max: ${g.units.toFixed(2)}`:""})})]}),a.jsxs("div",{className:`grid grid-cols-1 ${D?"sm:grid-cols-3":"sm:grid-cols-2"} gap-4`,children:[a.jsx(J,{label:"From Fund NAV ()",required:!0,error:p.fromPrice,children:a.jsx(be,{type:"number",value:m.fromPrice,onChange:A=>S("fromPrice",A),placeholder:"e.g., 178.45"})}),a.jsx(J,{label:"To Fund NAV ()",required:!0,error:p.toPrice,children:a.jsx(be,{type:"number",value:m.toPrice,onChange:A=>S("toPrice",A),placeholder:"e.g., 82.10"})}),D&&a.jsx(J,{label:"Target Allocation (%)",children:a.jsx(be,{type:"number",value:m.targetAllocation,onChange:A=>S("targetAllocation",A),placeholder:"e.g., 20"})})]}),_>0&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Switch Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:G(_)})]}),B>0&&a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Units Bought"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:B.toFixed(4)})]}),g&&a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. Gain/Loss"}),a.jsxs("p",{className:`text-sm font-bold tabular-nums ${H>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[H>=0?"+":"",G(H)]})]})]}),w&&B>0&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1 border-t border-[var(--border-light)] pt-1",children:["New total: ",(w.units+B).toFixed(2)," units  New avg NAV: ",((w.investment+_)/(w.units+B)).toFixed(2)]})]}),a.jsx(J,{label:"Notes",children:a.jsx(be,{value:m.notes,onChange:A=>S("notes",A),placeholder:"Optional notes..."})}),a.jsx(ma,{onCancel:r,onSubmit:L,submitLabel:"Switch Funds",loading:b})]})}function eT({portfolioId:s,onSave:l,onCancel:r}){const{mfHoldings:t,mfPortfolios:o}=Ve(),u=o.find(O=>O.portfolioId===s),d=N.useMemo(()=>t.filter(O=>O.portfolioId===s),[t,s]),[m,x]=N.useState(()=>d.map(O=>({schemeCode:O.schemeCode,fundName:O.fundName,units:O.units,currentValue:O.currentValue,currentAllocationPct:O.currentAllocationPct,targetAllocationPct:O.targetAllocationPct,isNew:!1}))),[p,v]=N.useState(null),[b,y]=N.useState(""),[S,M]=N.useState(""),[j,g]=N.useState(!1),w=m.reduce((O,L)=>O+L.targetAllocationPct,0),D=m.reduce((O,L)=>O+L.currentValue,0);function k(O,L){x(I=>I.map(V=>V.schemeCode===O?{...V,targetAllocationPct:Number(L)||0}:V)),M("")}function T(O){const L=m.find(I=>I.schemeCode===O);L&&L.units>0||x(I=>I.filter(V=>V.schemeCode!==O))}function _(){if(p){if(m.find(O=>O.schemeCode===p.schemeCode)){M("Fund already exists in portfolio");return}x(O=>[...O,{schemeCode:p.schemeCode,fundName:p.fundName,units:0,currentValue:0,currentAllocationPct:0,targetAllocationPct:Number(b)||0,isNew:!0}]),v(null),y(""),M("")}}async function B(){if(w>100){M(`Total allocation is ${w.toFixed(1)}%  must be  100%`);return}g(!0);try{await l(m.map(O=>({schemeCode:O.schemeCode,fundName:O.fundName,targetAllocationPct:O.targetAllocationPct,isNew:O.isNew})))}finally{g(!1)}}const H=u?.sipTarget||0;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:u?.portfolioName}),a.jsx("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)] mt-0.5 flex-wrap",children:a.jsxs("span",{children:["Current Value: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:G(D)})]})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Fund"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Units"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Current %"}),a.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Target %"}),a.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold w-8"})]})}),a.jsx("tbody",{children:m.map(O=>{const L=O.isNew&&O.targetAllocationPct>0&&O.targetAllocationPct<100&&D>0?O.targetAllocationPct/(100-O.targetAllocationPct)*D:0,I=O.isNew&&O.targetAllocationPct>0&&H>=100?O.targetAllocationPct/100*H:0;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[a.jsxs("td",{className:"py-2 px-2",children:[a.jsx("p",{className:"text-xs text-[var(--text-primary)] leading-tight max-w-[200px] truncate",children:O.fundName}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[O.schemeCode,O.isNew&&a.jsx("span",{className:"text-violet-400 ml-1",children:"(new)"})]}),(L>0||I>0)&&a.jsxs("p",{className:"text-xs text-blue-400 mt-0.5",children:["Invest: ",L>0&&a.jsx("span",{className:"font-semibold",children:G(L)}),L>0&&I>0&&"  ",I>0&&a.jsxs("span",{className:"font-semibold",children:[G(I),"/mo SIP"]})]})]}),a.jsx("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:O.units.toFixed(2)}),a.jsxs("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:[O.currentAllocationPct.toFixed(1),"%"]}),a.jsx("td",{className:"py-2 px-2",children:a.jsx("input",{type:"number",value:O.targetAllocationPct,onChange:V=>k(O.schemeCode,V.target.value),className:"w-20 mx-auto block bg-[var(--bg-inset)] border border-[var(--border)] rounded px-2 py-1 text-xs text-center text-[var(--text-primary)] focus:outline-none focus:border-violet-500/50"})}),a.jsx("td",{className:"py-2 px-2 text-center",children:O.units===0&&a.jsx("button",{onClick:()=>T(O.schemeCode),className:"p-1 rounded hover:bg-rose-500/15 text-[var(--text-dim)] hover:text-[var(--accent-rose)] transition-colors",children:a.jsx(Ru,{size:12})})})]},O.schemeCode)})}),a.jsx("tfoot",{children:a.jsxs("tr",{className:"border-t border-[var(--border)]",children:[a.jsx("td",{className:"py-2 px-2 text-xs font-bold text-[var(--text-primary)]",children:"Total"}),a.jsx("td",{}),a.jsxs("td",{className:"py-2 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[m.reduce((O,L)=>O+L.currentAllocationPct,0).toFixed(1),"%"]}),a.jsx("td",{className:"py-2 px-2 text-center",children:a.jsxs("span",{className:`text-xs font-bold tabular-nums ${w>100?"text-[var(--accent-rose)]":w===100?"text-emerald-400":"text-amber-400"}`,children:[w.toFixed(1),"%"]})}),a.jsx("td",{})]})})]})}),a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider mb-1",children:"Add New Fund"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"Set target % to see how much to invest. After buying, use Invest to record the transaction."}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Sp,{value:p,onSelect:O=>v(O.schemeCode?O:null),placeholder:"Search fund to add..."}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-28",children:a.jsx("input",{type:"number",value:b,onChange:O=>y(O.target.value),placeholder:"Target %",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})}),a.jsxs("button",{onClick:_,disabled:!p,className:"flex items-center gap-1 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors disabled:opacity-40 disabled:cursor-not-allowed",children:[a.jsx(Zt,{size:14})," Add"]})]})]})]})]}),S&&a.jsx("p",{className:"text-xs text-[var(--accent-rose)] font-medium",children:S}),a.jsx(ma,{onCancel:r,onSubmit:B,submitLabel:"Save Allocations",loading:j})]})}const qc=s=>s?.replace(/^PFL-/,"")||s;function ln(s){if(!s)return null;if(s instanceof Date)return isNaN(s.getTime())?null:s;const l=String(s),r=l.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})/);if(r)return new Date(Number(r[3]),Number(r[2])-1,Number(r[1]));const t=new Date(l);return isNaN(t.getTime())?null:t}function tg(s){return s>=20?{color:"#c62828",fontWeight:700}:s>=10?{color:"#d84315",fontWeight:700}:s>=5?{color:"#e67e00",fontWeight:600}:s>=1?{color:"#b8860b",fontWeight:600}:{color:"var(--text-dim)",fontWeight:400}}function tT(){const{selectedMember:s}=Jt(),{mfPortfolios:l,mfHoldings:r,mfTransactions:t,activeMembers:o,activeInvestmentAccounts:u,addMFPortfolio:d,updateMFPortfolio:m,deleteMFPortfolio:x,investMF:p,redeemMF:v,switchMF:b,updateHoldingAllocations:y,deleteMFTransaction:S,editMFTransaction:M}=Ve(),{showToast:j,showBlockUI:g,hideBlockUI:w}=Ln(),D=Pn(),{mv:k}=zn(),[T,_]=N.useState(null),[B,H]=N.useState("all"),[O,L]=N.useState("holdings"),[I,V]=N.useState(!1),[A,se]=N.useState(null),[oe,U]=N.useState({}),[z,W]=N.useState("all"),[R,ne]=N.useState(null),ve=N.useCallback(Q=>{se(de=>de===Q?null:Q)},[]),P=N.useCallback(Q=>{U(de=>({...de,[Q]:(de[Q]||5)+10}))},[]),ee=N.useMemo(()=>l?l.filter(Q=>Q.status!=="Inactive").map(Q=>{let de=u.find(Pe=>Pe.accountId===Q.investmentAccountId);!de&&Q.investmentAccountId&&(de=u.find(Pe=>`${Pe.accountName} - ${Pe.platformBroker}`===Q.investmentAccountId));const me=de?.memberId||Q.ownerId||"",Ee=me?o.find(Pe=>Pe.memberId===me):null;return{...Q,investmentAccountId:de?.accountId||Q.investmentAccountId,ownerId:me,ownerName:Ee?.memberName||Q.ownerName||"",platform:de?.platformBroker||Q.investmentAccountName||"",clientId:de?.accountClientId||""}}):[],[l,u,o]),ue=N.useMemo(()=>ee.length?s==="all"?ee:ee.filter(Q=>Q.ownerId===s):[],[ee,s]),fe=N.useMemo(()=>r?ue.map(Q=>{const de=r.filter(Ee=>Ee.portfolioId===Q.portfolioId),me=(t||[]).filter(Ee=>Ee.portfolioId===Q.portfolioId);return{...Q,holdings:de,txns:me,fundCount:de.length}}):[],[ue,r,t]),ye=N.useMemo(()=>{const Q=B==="all"?fe:fe.filter(Le=>Le.portfolioId===B),de=Q.reduce((Le,pt)=>Le+pt.totalInvestment,0),me=Q.reduce((Le,pt)=>Le+pt.currentValue,0),Ee=Q.reduce((Le,pt)=>Le+pt.unrealizedPL,0),Pe=Q.reduce((Le,pt)=>Le+pt.realizedPL,0),le=Ee+Pe,We=de>0?le/de*100:0,Me=de>0?Ee/de*100:0,kt=de>0?Pe/de*100:0,oa=Q.reduce((Le,pt)=>Le+pt.fundCount,0),qt=(r?B==="all"?r.filter(Le=>Q.some(pt=>pt.portfolioId===Le.portfolioId)):r.filter(Le=>Le.portfolioId===B):[]).reduce((Le,pt)=>Le+(pt.ongoingSIP||0),0);return{invested:de,current:me,unrealizedPL:Ee,unrealizedPLPct:Me,realizedPL:Pe,realizedPLPct:kt,totalPL:le,totalPLPct:We,funds:oa,monthlySIP:qt}},[fe,B,r]),we=N.useMemo(()=>r?B==="all"?r.filter(Q=>ue.some(de=>de.portfolioId===Q.portfolioId)):r.filter(Q=>Q.portfolioId===B):[],[r,ue,B]),Se=N.useMemo(()=>t?(B==="all"?t.filter(de=>ue.some(me=>me.portfolioId===de.portfolioId)):t.filter(de=>de.portfolioId===B)).sort((de,me)=>(ln(me.date)||0)-(ln(de.date)||0)):[],[t,ue,B]),Te=N.useMemo(()=>{const Q=new Set;return Se.forEach(de=>{de.fundName&&Q.add(de.fundName)}),[...Q].sort()},[Se]),Be=N.useMemo(()=>z==="all"?Se:Se.filter(Q=>Q.fundName===z),[Se,z]),Ft=N.useMemo(()=>{const Q={};return we.forEach(de=>{Q[de.portfolioId]=(Q[de.portfolioId]||0)+de.currentValue}),we.map(de=>{const me=Q[de.portfolioId]||0,Ee=me>0?de.currentValue/me*100:0,Pe=de.investment>0?de.pl/de.investment*100:0,le=de.holdingId||`${de.portfolioId}::${de.schemeCode||de.fundCode}`;return{...de,currentAllocationPct:Ee,plPct:Pe,_key:le}})},[we]),ta=N.useMemo(()=>{if(B!=="all")return null;const Q=[],de={};return Ft.forEach(me=>{de[me.portfolioId]||(de[me.portfolioId]={portfolioId:me.portfolioId,holdings:[]},Q.push(de[me.portfolioId])),de[me.portfolioId].holdings.push(me)}),Q},[Ft,B]),Ut=N.useMemo(()=>{if(!r)return{};const Q={};return fe.forEach(de=>{const me=r.filter(Me=>Me.portfolioId===de.portfolioId&&Me.units>0),Ee=me.reduce((Me,kt)=>Me+kt.currentValue,0),Pe=(de.rebalanceThreshold||.05)*100;let le=0,We=0;me.forEach(Me=>{Me.athNav>0&&Me.belowATHPct>=5&&le++;const kt=Ee>0?Me.currentValue/Ee*100:0;Me.targetAllocationPct>0&&Math.abs(kt-Me.targetAllocationPct)>Pe&&We++}),Q[de.portfolioId]={buyOpp:le,rebalance:We}}),Q},[fe,r]),Ct=N.useMemo(()=>{if(B!=="all")return Ut[B]||{buyOpp:0,rebalance:0};let Q=0,de=0;return Object.values(Ut).forEach(me=>{Q+=me.buyOpp,de+=me.rebalance}),{buyOpp:Q,rebalance:de}},[B,Ut]);if(l===null||r===null)return a.jsx(gr,{title:"Loading mutual funds",cards:5});const xe=fe.find(Q=>Q.portfolioId===B),He=B==="all"?`All Portfolios (${ue.length})`:`${qc(xe?.portfolioName)}  ${k(xe?.ownerName,"name")}`;async function mt(Q){g("Saving...");try{T?.editPortfolio?await m(T.editPortfolio.portfolioId,Q):await d(Q),j(T?.editPortfolio?"Portfolio updated":"Portfolio created"),_(null)}catch(de){j(de.message||"Failed to save portfolio","error")}finally{w()}}async function ia(){if(T?.editPortfolio&&await D("Deactivate this portfolio?",{title:"Deactivate Portfolio",confirmLabel:"Deactivate"})){g("Deactivating...");try{await x(T.editPortfolio.portfolioId),j("Portfolio deactivated"),H("all"),_(null)}catch(Q){j(Q.message||"Failed to deactivate portfolio","error")}finally{w()}}}async function Ba(Q){g("Recording investment...");try{await p(Q,Q.transactionType),j("Investment recorded"),_(null)}catch(de){j(de.message||"Failed to record investment","error")}finally{w()}}async function ft(Q){g("Recording redemption...");try{await v(Q),j("Redemption recorded"),_(null)}catch(de){j(de.message||"Failed to record redemption","error")}finally{w()}}async function _t(Q){g("Recording switch...");try{await b(Q),j("Switch recorded"),_(null)}catch(de){j(de.message||"Failed to record switch","error")}finally{w()}}async function Gt(Q){if(await D("Delete this transaction? This will recalculate your holdings.",{title:"Delete Transaction",confirmLabel:"Delete"})){g("Deleting...");try{await S(Q),j("Transaction deleted"),ne(null)}catch(de){j(de.message||"Failed to delete transaction","error")}finally{w()}}}async function Zr(Q){g("Updating...");try{await M(Q),j("Transaction updated"),_(null)}catch(de){j(de.message||"Failed to update transaction","error")}finally{w()}}async function Bn(Q){if(T?.allocations){g("Saving allocations...");try{await y(T.allocations,Q),j("Allocations updated"),_(null)}catch(de){j(de.message||"Failed to update allocations","error")}finally{w()}}}return a.jsxs("div",{className:"space-y-4",children:[ue.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(Cl,{size:32,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No mutual fund portfolios yet"}),a.jsx("button",{onClick:()=>_("addPortfolio"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first portfolio"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>V(!I),className:"flex items-center gap-2 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm font-semibold text-[var(--text-primary)] hover:border-[var(--border-light)] transition-colors min-w-[220px]",children:[a.jsx(Cl,{size:14,className:"text-violet-400 shrink-0"}),a.jsx("span",{className:"truncate",children:He}),a.jsx(dr,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${I?"rotate-180":""}`})]}),I&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>V(!1)}),a.jsxs("div",{className:"absolute left-0 top-full mt-1 z-40 bg-[var(--bg-dropdown)] border border-white/10 rounded-lg shadow-2xl min-w-[300px] py-1 overflow-hidden",children:[a.jsxs("button",{onClick:()=>{H("all"),V(!1),L("holdings")},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${B==="all"?"bg-[var(--sidebar-active-bg)] text-[var(--text-primary)] font-semibold":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:["All Portfolios (",ue.length,")"]}),a.jsx("div",{className:"border-t border-[var(--border-light)]"}),fe.map(Q=>{const de=Q.totalPL>=0,me=Ut[Q.portfolioId]||{};return a.jsx("button",{onClick:()=>{H(Q.portfolioId),V(!1),L("holdings")},className:`w-full text-left px-4 py-2.5 transition-colors ${B===Q.portfolioId?"bg-[var(--sidebar-active-bg)]":"hover:bg-[var(--bg-hover)]"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("p",{className:`text-sm ${B===Q.portfolioId?"font-semibold text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:qc(Q.portfolioName)}),me.buyOpp>0&&a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 shrink-0",title:`${me.buyOpp} buy opportunities`}),me.rebalance>0&&a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-400 shrink-0",title:`${me.rebalance} funds need rebalancing`})]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[k(Q.ownerName,"name"),"  ",Q.platform,"  ",Q.fundCount," funds"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(Q.currentValue)}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${de?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[de?"+":"",Q.totalPLPct.toFixed(1),"%"]})]})]})},Q.portfolioId)})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs("button",{onClick:()=>_("buyOpp"),disabled:Ct.buyOpp===0,className:`flex items-center gap-1.5 px-3 py-2 text-xs font-medium rounded-lg transition-colors ${Ct.buyOpp>0?"text-emerald-400 hover:text-emerald-300 bg-[var(--bg-card)] border border-emerald-500/30 animate-glow-emerald":"text-[var(--text-dim)] bg-[var(--bg-card)] border border-[var(--border)] opacity-50 cursor-not-allowed"}`,children:[a.jsx(Iu,{size:12})," Buy Opp.",Ct.buyOpp>0&&a.jsx("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-emerald-500/15",children:Ct.buyOpp})]}),a.jsxs("button",{onClick:()=>_("rebalance"),disabled:Ct.rebalance===0,className:`flex items-center gap-1.5 px-3 py-2 text-xs font-medium rounded-lg transition-colors ${Ct.rebalance>0?"text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-violet-500/30 animate-glow-violet":"text-[var(--text-dim)] bg-[var(--bg-card)] border border-[var(--border)] opacity-50 cursor-not-allowed"}`,children:[a.jsx(Ml,{size:12})," Rebalance",Ct.rebalance>0&&a.jsx("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-violet-500/15",children:Ct.rebalance})]}),xe&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>_({allocations:xe.portfolioId}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(rC,{size:12})," Allocations"]}),a.jsxs("button",{onClick:()=>_({editPortfolio:xe}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(pn,{size:12})," Edit"]})]}),a.jsxs("button",{onClick:()=>_("addPortfolio"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Zt,{size:14})," New Portfolio"]})]})]}),xe&&a.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-dim)] px-1 flex-wrap",children:[a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Platform:"})," ",xe.platform]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Client ID:"})," ",k(xe.clientId,"clientId")]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Funds:"})," ",xe.fundCount]}),xe.sipTarget>=100&&a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"SIP Target:"})," ",G(xe.sipTarget),"/mo"]}),xe.lumpsumTarget>=100&&a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Lumpsum Target:"})," ",G(xe.lumpsumTarget)]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Rebalance Threshold:"})," ",(xe.rebalanceThreshold*100).toFixed(0),"%"]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[a.jsx(yl,{label:"Invested",value:G(ye.invested)}),a.jsx(yl,{label:"Current Value",value:G(ye.current),bold:!0}),a.jsx(yl,{label:"Unrealized P&L",value:`${ye.unrealizedPL>=0?"+":""}${G(ye.unrealizedPL)}`,sub:`${ye.unrealizedPLPct>=0?"+":""}${ye.unrealizedPLPct.toFixed(1)}%`,positive:ye.unrealizedPL>=0}),a.jsx(yl,{label:"Realized P&L",value:`${ye.realizedPL>=0?"+":""}${G(ye.realizedPL)}`,sub:`${ye.realizedPLPct>=0?"+":""}${ye.realizedPLPct.toFixed(1)}%`,positive:ye.realizedPL>=0}),a.jsx(yl,{label:"Total P&L",value:`${ye.totalPL>=0?"+":""}${G(ye.totalPL)}`,sub:`${ye.totalPLPct>=0?"+":""}${ye.totalPLPct.toFixed(1)}%`,positive:ye.totalPL>=0,bold:!0}),a.jsx(yl,{label:"Monthly SIP",value:G(ye.monthlySIP),sub:`${ye.funds} funds`})]}),a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5",children:[a.jsxs("button",{onClick:()=>L("holdings"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${O==="holdings"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(Cy,{size:12})," Holdings (",we.length,")"]}),a.jsxs("button",{onClick:()=>L("transactions"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${O==="transactions"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(xu,{size:12})," Transactions (",Be.length,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[B==="all"&&a.jsx("span",{className:"text-xs text-[var(--text-dim)] mr-1 hidden sm:inline",children:"Select a portfolio to take actions"}),a.jsxs("button",{onClick:()=>B!=="all"&&_({invest:B}),disabled:B==="all",className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${B==="all"?"bg-emerald-600/40 text-white/50 cursor-not-allowed":"text-white bg-emerald-600 hover:bg-emerald-500"}`,title:B==="all"?"Select a portfolio first":"",children:[a.jsx(Al,{size:14})," Invest"]}),a.jsxs("button",{onClick:()=>B!=="all"&&we.length>0&&_({redeem:B}),disabled:B==="all"||we.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${B==="all"||we.length===0?"bg-rose-600/40 text-white/50 cursor-not-allowed":"text-white bg-rose-600 hover:bg-rose-500"}`,title:B==="all"?"Select a portfolio first":"",children:[a.jsx(gy,{size:14})," Redeem"]}),a.jsxs("button",{onClick:()=>B!=="all"&&we.length>0&&_({switchFunds:B}),disabled:B==="all"||we.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${B==="all"||we.length===0?"bg-amber-600/40 text-white/50 cursor-not-allowed":"text-white bg-amber-600 hover:bg-amber-500"}`,title:B==="all"?"Select a portfolio first":"",children:[a.jsx(W5,{size:14})," Switch"]})]})]}),O==="holdings"&&a.jsx(a.Fragment,{children:we.length>0?a.jsx("div",{className:B==="all"?"space-y-4":"",children:(B==="all"?ta:[{portfolioId:B,holdings:Ft}]).map(Q=>{const de=fe.find(le=>le.portfolioId===Q.portfolioId),me=Q.holdings,Ee=me.reduce((le,We)=>le+We.pl,0),Pe=Ee>=0;return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[B==="all"&&de&&a.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:qc(de.portfolioName)}),de.ownerName&&a.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:["(",k(de.ownerName,"name"),")"]}),a.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[" ",me.filter(le=>le.units>0).length," funds"]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-xs tabular-nums",children:[a.jsx("span",{className:"text-[var(--text-muted)]",children:G(de.currentValue||0)}),a.jsxs("span",{className:`font-bold ${Pe?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Pe?"+":"",G(Ee)]})]})]}),a.jsx("div",{className:"hidden lg:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:`border-b border-[var(--border-light)] ${B!=="all"?"bg-[var(--bg-inset)]":""}`,children:[a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Fund Name"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),a.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"NAV"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Avg"})]}),a.jsxs("th",{className:"text-center py-2 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"ATH"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Below Peak"})]}),a.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"Allocation %"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Target"})]}),a.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"Amount"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Invested"})]}),a.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"P&L"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"on Holdings"})]}),a.jsx("th",{className:"py-2 px-2 w-8"})]})}),a.jsx("tbody",{children:me.map(le=>{const We=tg(le.belowATHPct),Me=le.units===0,kt=fe.find(he=>he.portfolioId===le.portfolioId),oa=kt?.currentValue||0,dt=A===le._key,qt=le.pl,Le=qt>=0,pt=Me&&le.targetAllocationPct>0&&le.targetAllocationPct<100&&oa>0?le.targetAllocationPct/(100-le.targetAllocationPct)*oa:0,tn=Me&&le.targetAllocationPct>0&&kt?.sipTarget>=100?le.targetAllocationPct/100*kt.sipTarget:0,fa=dt?(t||[]).filter(he=>he.portfolioId===le.portfolioId&&he.fundCode===le.schemeCode).sort((he,Ot)=>(ln(Ot.date)||0)-(ln(he.date)||0)):[],pa=oe[le._key]||5,xn=fa.slice(0,pa),hn=he=>{const Ot=ln(he);return Ot?Math.floor((new Date-Ot)/864e5):null};return a.jsxs(ae.Fragment,{children:[a.jsxs("tr",{onClick:()=>!Me&&ve(le._key),className:`border-b border-[var(--border-light)] last:border-0 transition-colors ${Me?"opacity-60":"cursor-pointer hover:bg-[var(--bg-hover)]"} ${dt?"bg-[var(--bg-hover)]":""}`,children:[a.jsx("td",{className:"py-2.5 px-3 max-w-[240px]",children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[!Me&&a.jsx(dr,{size:12,className:`shrink-0 text-[var(--text-dim)] transition-transform ${dt?"rotate-180":""}`}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-xs text-[var(--text-primary)] leading-tight",children:[le.fundName,Me&&a.jsx("span",{className:"ml-1.5 text-xs font-semibold text-violet-400 bg-violet-500/15 px-1.5 py-0.5 rounded",children:"Planned"})]}),Me&&(pt>0||tn>0)&&a.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[pt>0&&a.jsxs("span",{className:"text-xs text-emerald-400 font-semibold",children:["Buy ",G(pt)]}),tn>0&&a.jsxs("span",{className:"text-xs text-blue-400 font-semibold",children:["SIP ",G(tn),"/mo"]})]})]})]})}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:Me?"":le.units.toFixed(2)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:Me?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:["",le.currentNav.toFixed(2)]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:["",le.avgNav.toFixed(2)]})]})}),a.jsx("td",{className:"py-2.5 px-2 text-center",children:Me?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):le.athNav>0&&le.belowATHPct>0?a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-bold tabular-nums",style:We,children:["",le.belowATHPct.toFixed(1),"%"]}),a.jsxs("p",{className:"text-[11px] text-[var(--text-muted)] tabular-nums",children:["",le.athNav.toFixed(0)]})]}):le.athNav>0?a.jsx("span",{className:"text-[10px] text-emerald-400/70 font-semibold",children:"AT HIGH"}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:Me?a.jsxs("p",{className:"text-xs font-semibold text-violet-400 tabular-nums",children:[le.targetAllocationPct.toFixed(1),"%"]}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:[le.currentAllocationPct.toFixed(1),"%"]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:[le.targetAllocationPct.toFixed(1),"%"]})]})}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:Me?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(le.currentValue)}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:G(le.investment)})]})}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:Me?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Le?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Le?"+":"",G(qt)]}),a.jsxs("p",{className:`text-xs font-bold tabular-nums ${Le?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Le?"+":"",le.plPct.toFixed(1),"%"]})]})}),a.jsx("td",{className:"py-2.5 px-2 text-center",children:a.jsxs("div",{className:"flex items-center gap-0.5 justify-center",children:[a.jsx("button",{onClick:he=>{he.stopPropagation(),_({invest:{portfolioId:le.portfolioId,fundCode:le.schemeCode,fundName:le.fundName}})},className:"w-6 h-6 flex items-center justify-center rounded-full bg-emerald-500/15 text-emerald-400 hover:bg-emerald-500/25 transition-colors",title:"Buy / Invest",children:a.jsx(Zt,{size:14,strokeWidth:2.5})}),!Me&&a.jsx("button",{onClick:he=>{he.stopPropagation(),_({redeem:{portfolioId:le.portfolioId,fundCode:le.schemeCode}})},className:"w-6 h-6 flex items-center justify-center rounded-full bg-rose-500/15 text-rose-400 hover:bg-rose-500/25 transition-colors",title:"Sell / Redeem",children:a.jsx(mf,{size:14,strokeWidth:2.5})})]})})]}),dt&&!Me&&a.jsx("tr",{className:"border-b border-[var(--border-light)]",children:a.jsx("td",{colSpan:8,className:"p-0",children:a.jsxs("div",{className:"bg-[var(--bg-expanded)] border-t border-[var(--border-light)]",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row",children:[a.jsx("div",{className:"lg:w-52 shrink-0 p-4 border-b lg:border-b-0 lg:border-r border-[var(--border-light)]",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Units"}),a.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums",children:le.units.toFixed(3)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Avg NAV"}),a.jsxs("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums",children:["",le.avgNav.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Invested"}),a.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums",children:G(le.investment)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Current Value"}),a.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums",children:G(le.currentValue)})]}),le.ongoingSIP>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"Monthly SIP"}),a.jsx("p",{className:"text-base font-bold text-blue-400 tabular-nums",children:G(le.ongoingSIP)})]}),a.jsxs("div",{className:"pt-3 border-t border-[var(--border-light)] flex gap-2",children:[a.jsxs("button",{onClick:he=>{he.stopPropagation(),_({invest:{portfolioId:le.portfolioId,fundCode:le.schemeCode,fundName:le.fundName}})},className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-emerald-400 bg-emerald-500/10 hover:bg-emerald-500/20 rounded-lg transition-colors",children:[a.jsx("span",{className:"w-5 h-5 flex items-center justify-center rounded-full bg-emerald-500/20",children:a.jsx(Zt,{size:12,strokeWidth:2.5})})," Buy"]}),a.jsxs("button",{onClick:he=>{he.stopPropagation(),_({redeem:{portfolioId:le.portfolioId,fundCode:le.schemeCode}})},className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-rose-400 bg-rose-500/10 hover:bg-rose-500/20 rounded-lg transition-colors",children:[a.jsx("span",{className:"w-5 h-5 flex items-center justify-center rounded-full bg-rose-500/20",children:a.jsx(mf,{size:12,strokeWidth:2.5})})," Sell"]})]})]})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"px-4 pt-3 pb-1",children:a.jsx("p",{className:"text-xs font-semibold text-[var(--text-secondary)]",children:"Transactions"})}),fa.length===0?a.jsx("p",{className:"py-8 text-xs text-[var(--text-dim)] text-center",children:"No transactions recorded"}):a.jsxs(a.Fragment,{children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-2 px-4 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Date"}),a.jsx("th",{className:"text-left py-2 px-2 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Type"}),a.jsx("th",{className:"text-center py-2 px-2 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Days"}),a.jsx("th",{className:"text-right py-2 px-3 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Amount"}),a.jsx("th",{className:"text-right py-2 px-3 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"NAV"}),a.jsx("th",{className:"text-right py-2 px-3 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"Units"}),a.jsx("th",{className:"text-right py-2 px-3 text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)]",children:"P&L"}),a.jsx("th",{className:"w-8 py-2 px-1"})]})}),a.jsx("tbody",{children:xn.map((he,Ot)=>{const Ha=ln(he.date),Hn=!!Ha,Yn=Hn?Ha.toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):he.date||"",vn=Hn?hn(he.date):null,bn=he.type==="BUY",Jr=!bn&&he.gainLoss!=null&&he.gainLoss!==0,es=Jr&&he.gainLoss>=0;return a.jsxs("tr",{className:"group border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-secondary)] tabular-nums whitespace-nowrap",children:Yn}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded ${bn?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:he.transactionType||he.type})}),a.jsx("td",{className:"py-2.5 px-2 text-xs text-[var(--text-dim)] tabular-nums text-center",children:vn??""}),a.jsx("td",{className:"py-2.5 px-3 text-xs font-semibold text-[var(--text-primary)] tabular-nums text-right",children:G(he.totalAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums text-right",children:Number(he.price).toFixed(4)}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums text-right",children:Number(he.units).toFixed(3)}),a.jsx("td",{className:`py-2.5 px-3 text-xs font-semibold tabular-nums text-right ${Jr?es?"text-emerald-400":"text-[var(--accent-rose)]":"text-[var(--text-dim)]"}`,children:Jr?`${es?"+":""}${G(he.gainLoss)}`:""}),a.jsx("td",{className:"py-2.5 px-1",children:a.jsx($c,{txn:he,isOpen:R===he.transactionId,onToggle:()=>ne(R===he.transactionId?null:he.transactionId),onEdit:()=>{ne(null),_({editTxn:he})},onDelete:()=>{ne(null),Gt(he.transactionId)}})})]},he.transactionId||`txn-${Ot}`)})})]}),fa.length>pa&&a.jsx("div",{className:"py-2 text-center border-t border-[var(--border-light)]",children:a.jsxs("button",{onClick:he=>{he.stopPropagation(),P(le._key)},className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:["Show More (",fa.length-pa," remaining)"]})})]})]})]}),a.jsx("div",{className:"flex justify-center py-1.5 border-t border-[var(--border-light)]",children:a.jsx("button",{onClick:()=>ve(le._key),className:"p-0.5 text-[var(--text-dim)] hover:text-[var(--text-muted)]",children:a.jsx(XS,{size:14})})})]})})})]},le._key)})})]})}),a.jsx("div",{className:"lg:hidden divide-y divide-[var(--border-light)]",children:me.map(le=>{const We=tg(le.belowATHPct),Me=le.units===0,kt=fe.find(he=>he.portfolioId===le.portfolioId),oa=kt?.currentValue||0,dt=A===le._key,qt=le.pl,Le=qt>=0,pt=Me&&le.targetAllocationPct>0&&le.targetAllocationPct<100&&oa>0?le.targetAllocationPct/(100-le.targetAllocationPct)*oa:0,tn=Me&&le.targetAllocationPct>0&&kt?.sipTarget>=100?le.targetAllocationPct/100*kt.sipTarget:0,fa=dt?(t||[]).filter(he=>he.portfolioId===le.portfolioId&&he.fundCode===le.schemeCode).sort((he,Ot)=>(ln(Ot.date)||0)-(ln(he.date)||0)):[],pa=oe[le._key]||5,xn=fa.slice(0,pa),hn=he=>{const Ot=ln(he);return Ot?Math.floor((new Date-Ot)/864e5):null};return a.jsxs("div",{className:Me?"opacity-60":"",children:[a.jsxs("div",{onClick:()=>!Me&&ve(le._key),className:`px-4 py-3 ${Me?"":"cursor-pointer"} ${dt?"bg-[var(--bg-hover)]":""}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-1.5",children:[a.jsxs("div",{className:"flex-1 mr-3",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[!Me&&a.jsx(dr,{size:12,className:`shrink-0 text-[var(--text-dim)] transition-transform ${dt?"rotate-180":""}`}),a.jsxs("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:[le.fundName,Me&&a.jsx("span",{className:"ml-1.5 text-xs font-semibold text-violet-400 bg-violet-500/15 px-1.5 py-0.5 rounded",children:"Planned"})]})]}),Me&&(pt>0||tn>0)&&a.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[pt>0&&a.jsxs("span",{className:"text-xs text-emerald-400 font-semibold",children:["Buy ",G(pt)]}),tn>0&&a.jsxs("span",{className:"text-xs text-blue-400 font-semibold",children:["SIP ",G(tn),"/mo"]})]})]}),Me?a.jsxs("p",{className:"text-xs font-semibold text-violet-400 tabular-nums shrink-0",children:["Target: ",le.targetAllocationPct.toFixed(1),"%"]}):a.jsxs("div",{className:"text-right shrink-0",children:[a.jsxs("p",{className:`text-xs font-bold tabular-nums ${Le?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Le?"+":"",G(qt)]}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Le?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Le?"+":"",le.plPct.toFixed(1),"%"]})]})]}),Me?a.jsx("div",{className:"flex items-center justify-end mt-1",children:a.jsxs("button",{onClick:he=>{he.stopPropagation(),_({invest:{portfolioId:le.portfolioId,fundCode:le.schemeCode,fundName:le.fundName}})},className:"shrink-0 flex items-center gap-1 text-[10px] font-semibold text-emerald-400 hover:text-emerald-300 px-2 py-0.5 rounded bg-emerald-500/10",children:[a.jsx("span",{className:"w-4 h-4 flex items-center justify-center rounded-full bg-emerald-500/20",children:a.jsx(Zt,{size:10,strokeWidth:2.5})})," Buy"]})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between text-xs text-[var(--text-dim)]",children:[a.jsxs("div",{children:[a.jsxs("span",{children:[le.units.toFixed(2)," units"]}),a.jsx("span",{className:"mx-1",children:""}),a.jsxs("span",{children:["NAV ",le.currentNav.toFixed(2)," / ",le.avgNav.toFixed(2)]})]}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(le.currentValue)})]}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)] flex-wrap",children:[a.jsxs("span",{children:["Alloc: ",le.currentAllocationPct.toFixed(1),"% / ",le.targetAllocationPct.toFixed(1),"%"]}),le.athNav>0&&le.belowATHPct>0?a.jsxs("span",{className:"font-bold tabular-nums",style:We,children:["ATH ",le.belowATHPct.toFixed(1),"%"]}):le.athNav>0?a.jsx("span",{className:"text-emerald-400/70 font-semibold text-[10px]",children:"AT HIGH"}):null]}),a.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[a.jsxs("button",{onClick:he=>{he.stopPropagation(),_({invest:{portfolioId:le.portfolioId,fundCode:le.schemeCode,fundName:le.fundName}})},className:"flex items-center gap-1 text-[10px] font-semibold text-emerald-400 hover:text-emerald-300 px-2 py-0.5 rounded bg-emerald-500/10",children:[a.jsx("span",{className:"w-4 h-4 flex items-center justify-center rounded-full bg-emerald-500/20",children:a.jsx(Zt,{size:10,strokeWidth:2.5})})," Buy"]}),a.jsxs("button",{onClick:he=>{he.stopPropagation(),_({redeem:{portfolioId:le.portfolioId,fundCode:le.schemeCode}})},className:"flex items-center gap-1 text-[10px] font-semibold text-rose-400 hover:text-rose-300 px-2 py-0.5 rounded bg-rose-500/10",children:[a.jsx("span",{className:"w-4 h-4 flex items-center justify-center rounded-full bg-rose-500/20",children:a.jsx(mf,{size:10,strokeWidth:2.5})})," Sell"]})]})]})]})]}),dt&&!Me&&a.jsxs("div",{className:"bg-[var(--bg-inset)] border-l-2 border-l-violet-500/40 px-4 pb-3",children:[a.jsx("div",{className:"flex items-center justify-between py-2",children:a.jsxs("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:["Transactions (",fa.length,")"]})}),fa.length===0?a.jsx("p",{className:"py-4 text-xs text-[var(--text-dim)] text-center",children:"No transactions recorded"}):a.jsxs("div",{className:"space-y-2",children:[xn.map((he,Ot)=>{const Ha=hn(he.date),Hn=he.type==="BUY",Yn=!Hn&&he.gainLoss!=null&&he.gainLoss!==0,vn=Yn&&he.gainLoss>=0;return a.jsxs("div",{className:"flex items-center justify-between text-xs bg-[var(--bg-card)] rounded-lg px-3 py-2",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:"text-[var(--text-secondary)]",children:(ln(he.date)||new Date).toLocaleDateString("en-IN",{day:"2-digit",month:"short"})}),a.jsx("span",{className:`text-[10px] font-semibold px-1 py-0.5 rounded ${Hn?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:he.transactionType||he.type}),a.jsxs("span",{className:"text-[var(--text-dim)]",children:[Ha,"d"]})]}),a.jsxs("p",{className:"text-[var(--text-dim)] mt-0.5",children:[Number(he.units).toFixed(3)," units @ ",Number(he.price).toFixed(2)]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-semibold text-[var(--text-primary)] tabular-nums",children:G(he.totalAmount)}),Yn&&a.jsxs("p",{className:`font-semibold tabular-nums ${vn?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[vn?"+":"",G(he.gainLoss)]})]}),a.jsx($c,{txn:he,isOpen:R===he.transactionId,onToggle:()=>ne(R===he.transactionId?null:he.transactionId),onEdit:()=>{ne(null),_({editTxn:he})},onDelete:()=>{ne(null),Gt(he.transactionId)}})]})]},he.transactionId||`txn-${Ot}`)}),fa.length>pa&&a.jsxs("button",{onClick:()=>P(le._key),className:"w-full py-1.5 text-xs font-semibold text-violet-400 hover:text-violet-300 text-center",children:["Show More (",fa.length-pa," remaining)"]})]})]})]},le._key)})})]},Q.portfolioId)})}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(Cl,{size:28,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No holdings",xe?" in this portfolio":""]}),a.jsx("button",{onClick:()=>_({invest:B!=="all"?B:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Add your first fund"})]})}),O==="transactions"&&a.jsxs(a.Fragment,{children:[Te.length>1&&a.jsxs("div",{className:"flex items-center gap-2 px-1",children:[a.jsx(wy,{size:12,className:"text-[var(--text-dim)]"}),a.jsxs("select",{value:z,onChange:Q=>W(Q.target.value),className:"text-xs bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg px-3 py-1.5 max-w-[350px] truncate",children:[a.jsxs("option",{value:"all",children:["All Funds (",Se.length,")"]}),Te.map(Q=>a.jsxs("option",{value:Q,children:[Q," (",Se.filter(de=>de.fundName===Q).length,")"]},Q))]}),z!=="all"&&a.jsx("button",{onClick:()=>W("all"),className:"text-xs text-[var(--text-dim)] hover:text-[var(--text-muted)] underline",children:"Clear"})]}),Be.length>0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Fund"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"NAV"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Gain/Loss"}),a.jsx("th",{className:"w-8"})]})}),a.jsx("tbody",{children:Be.map((Q,de)=>{const me=Q.type==="BUY",Ee=!me&&Q.gainLoss!=null&&Q.gainLoss!==0,Pe=Ee&&Q.gainLoss>=0,le=B==="all"?fe.find(Me=>Me.portfolioId===Q.portfolioId):null,We={INITIAL:{bg:"bg-purple-500/15",text:"text-purple-400"},SIP:{bg:"bg-blue-500/15",text:"text-blue-400"},LUMPSUM:{bg:"bg-emerald-500/15",text:"text-emerald-400"},WITHDRAWAL:{bg:"bg-rose-500/15",text:"text-[var(--accent-rose)]"},SWITCH:{bg:"bg-amber-500/15",text:"text-amber-400"}}[Q.transactionType]||{bg:"bg-gray-500/15",text:"text-[var(--text-muted)]"};return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:Q.date}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${me?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:Q.type}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${We.bg} ${We.text}`,children:Q.transactionType})]})}),a.jsxs("td",{className:"py-2.5 px-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-primary)] truncate max-w-[200px]",children:Q.fundName}),le&&a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:qc(le.portfolioName)})]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:Q.units.toFixed(2)}),a.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:["",Q.price.toFixed(2)]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(Q.totalAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:Ee?a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${Pe?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Pe?"+":"",G(Q.gainLoss)]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),a.jsx("td",{className:"py-2.5 px-1",children:a.jsx($c,{txn:Q,isOpen:R===Q.transactionId,onToggle:()=>ne(R===Q.transactionId?null:Q.transactionId),onEdit:()=>{ne(null),_({editTxn:Q})},onDelete:()=>{ne(null),Gt(Q.transactionId)}})})]},Q.transactionId||`txn-${de}`)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:Be.map((Q,de)=>{const me=Q.type==="BUY",Ee=!me&&Q.gainLoss!=null&&Q.gainLoss!==0,Pe=Ee&&Q.gainLoss>=0;return a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${me?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:Q.type}),a.jsx("span",{className:"text-xs font-semibold text-[var(--text-dim)]",children:Q.transactionType})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:Q.date}),a.jsx($c,{txn:Q,isOpen:R===Q.transactionId,onToggle:()=>ne(R===Q.transactionId?null:Q.transactionId),onEdit:()=>{ne(null),_({editTxn:Q})},onDelete:()=>{ne(null),Gt(Q.transactionId)}})]})]}),a.jsx("p",{className:"text-xs text-[var(--text-primary)] truncate mb-1",children:Q.fundName}),a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsxs("p",{className:"text-[var(--text-dim)]",children:[Q.units.toFixed(2)," units @ ",Q.price.toFixed(2)]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(Q.totalAmount)}),Ee&&a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Pe?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["G/L: ",Pe?"+":"",G(Q.gainLoss)]})]})]}),Q.notes&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:Q.notes})]},Q.transactionId||`txn-m-${de}`)})})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(xu,{size:28,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:z!=="all"?"No transactions for this fund":"No transactions yet"}),z!=="all"?a.jsx("button",{onClick:()=>W("all"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Show all transactions"}):a.jsx("button",{onClick:()=>_({invest:B!=="all"?B:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Make your first investment"})]})]})]}),a.jsx(At,{open:T==="addPortfolio"||!!T?.editPortfolio,onClose:()=>_(null),title:T?.editPortfolio?"Edit Portfolio":"New MF Portfolio",children:a.jsx(oA,{initial:T?.editPortfolio||void 0,onSave:mt,onDelete:T?.editPortfolio?ia:void 0,onCancel:()=>_(null)})}),a.jsx(At,{open:!!T?.invest,onClose:()=>_(null),title:"Invest in Mutual Fund",wide:!0,children:a.jsx(WA,{portfolioId:typeof T?.invest=="object"?T.invest.portfolioId:typeof T?.invest=="string"?T.invest:void 0,fundCode:typeof T?.invest=="object"?T.invest.fundCode:void 0,fundName:typeof T?.invest=="object"?T.invest.fundName:void 0,onSave:Ba,onCancel:()=>_(null)},T?.invest?.fundCode||T?.invest?.portfolioId||T?.invest)}),a.jsx(At,{open:!!T?.redeem,onClose:()=>_(null),title:"Redeem Mutual Fund",wide:!0,children:a.jsx(ZA,{portfolioId:typeof T?.redeem=="object"?T.redeem.portfolioId:typeof T?.redeem=="string"?T.redeem:void 0,fundCode:typeof T?.redeem=="object"?T.redeem.fundCode:void 0,onSave:ft,onCancel:()=>_(null)},T?.redeem?.fundCode||T?.redeem?.portfolioId||T?.redeem)}),a.jsx(At,{open:!!T?.switchFunds,onClose:()=>_(null),title:"Switch Funds",wide:!0,children:a.jsx(JA,{portfolioId:typeof T?.switchFunds=="string"?T.switchFunds:void 0,onSave:_t,onCancel:()=>_(null)})}),a.jsx(At,{open:!!T?.allocations,onClose:()=>_(null),title:"Manage Portfolio Allocation",wide:!0,children:T?.allocations&&a.jsx(eT,{portfolioId:T.allocations,onSave:Bn,onCancel:()=>_(null)})}),a.jsx(At,{open:T==="rebalance",onClose:()=>_(null),title:"Rebalance Portfolios",wide:!0,children:T==="rebalance"&&a.jsx(w1,{})}),a.jsx(At,{open:T==="buyOpp",onClose:()=>_(null),title:"Buy Opportunities",wide:!0,children:T==="buyOpp"&&a.jsx(Ly,{})}),a.jsx(At,{open:!!T?.editTxn,onClose:()=>_(null),title:"Edit Transaction",children:T?.editTxn&&a.jsx(aT,{txn:T.editTxn,onSave:Zr,onCancel:()=>_(null)})})]})}function yl({label:s,value:l,sub:r,positive:t,bold:o}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:`text-sm tabular-nums ${o?"font-bold":"font-semibold"} ${t===void 0?"text-[var(--text-primary)]":t?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:l}),r&&a.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${t?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}function $c({txn:s,isOpen:l,onToggle:r,onEdit:t,onDelete:o}){const u=N.useRef(null),[d,m]=N.useState({top:0,right:0});if(!s.transactionId)return null;function x(p){if(p.stopPropagation(),!l&&u.current){const v=u.current.getBoundingClientRect();m({top:v.bottom+4,right:window.innerWidth-v.right})}r()}return a.jsxs(a.Fragment,{children:[a.jsx("button",{ref:u,onClick:x,className:"p-1 rounded-md text-[var(--text-dim)] hover:text-[var(--text-muted)] hover:bg-[var(--bg-hover)] transition-colors",title:"Actions",children:a.jsx(f5,{size:14})}),l&&ap.createPortal(a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{position:"fixed",inset:0,zIndex:9998},onClick:p=>{p.stopPropagation(),r()}}),a.jsxs("div",{style:{position:"fixed",top:d.top,right:d.right,zIndex:9999},className:"bg-[var(--bg-dropdown)] border border-white/10 rounded-lg shadow-2xl py-1 min-w-[120px] animate-fade-in",children:[a.jsxs("button",{onClick:p=>{p.stopPropagation(),t()},className:"w-full text-left px-3 py-2 text-xs text-[var(--text-secondary)] hover:bg-[var(--bg-hover)] hover:text-[var(--text-primary)] flex items-center gap-2 transition-colors",children:[a.jsx(pn,{size:12})," Edit"]}),a.jsxs("button",{onClick:p=>{p.stopPropagation(),o()},className:"w-full text-left px-3 py-2 text-xs text-[var(--accent-rose)] hover:bg-rose-500/10 flex items-center gap-2 transition-colors",children:[a.jsx(Ru,{size:12})," Delete"]})]})]}),document.body)]})}function aT({txn:s,onSave:l,onCancel:r}){const[t,o]=N.useState(()=>{const j=ln(s.date);return j?j.toISOString().split("T")[0]:""}),[u,d]=N.useState(String(s.units||"")),[m,x]=N.useState(String(s.price||"")),[p,v]=N.useState(s.notes||""),[b,y]=N.useState(!1),S=(Number(u)||0)*(Number(m)||0);async function M(){if(!(!u||Number(u)<=0)&&!(!m||Number(m)<=0)){y(!0);try{await l({transactionId:s.transactionId,date:t,units:u,price:m,notes:p})}finally{y(!1)}}}return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:s.fundName}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[s.type,"  ",s.transactionType,"  ",s.transactionId]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Date"}),a.jsx(Rn,{value:t,onChange:o})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Units"}),a.jsx("input",{type:"number",value:u,onChange:j=>d(j.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"NAV (price)"}),a.jsx("input",{type:"number",value:m,onChange:j=>x(j.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]})]}),S>0&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:G(S)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Notes"}),a.jsx("input",{type:"text",value:p,onChange:j=>v(j.target.value),placeholder:"Optional notes...",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-[var(--border-light)]",children:[a.jsx("button",{onClick:r,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:"Cancel"}),a.jsx("button",{onClick:M,disabled:b||!u||Number(u)<=0||!m||Number(m)<=0,className:"px-4 py-2 text-xs font-bold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Saving...":"Update Transaction"})]})]})}function nT({initial:s,onSave:l,onDelete:r,onCancel:t}){const{activeMembers:o,activeInvestmentAccounts:u}=Ve(),d=!!s,[m,x]=N.useState({portfolioName:s?.portfolioName||"",ownerId:s?.ownerId||"",investmentAccountId:s?.investmentAccountId||""}),[p,v]=N.useState({}),[b,y]=N.useState(!1);function S(k,T){x(_=>({..._,[k]:T})),v(_=>({..._,[k]:void 0}))}function M(k){x(T=>({...T,ownerId:k,investmentAccountId:""})),v(T=>({...T,ownerId:void 0}))}const j=N.useMemo(()=>m.ownerId?u.filter(k=>k.memberId===m.ownerId&&(k.accountType==="Demat + Trading"||k.accountType==="Trading")).map(k=>({value:k.accountId,label:`${k.accountName} - ${k.platformBroker}`})):[],[u,m.ownerId]);function g(){const k={};return m.portfolioName.trim()||(k.portfolioName="Required"),m.ownerId||(k.ownerId="Required"),m.investmentAccountId||(k.investmentAccountId="Required"),v(k),Object.keys(k).length===0}async function w(){if(g()){y(!0);try{await l(m)}finally{y(!1)}}}const D=o.map(k=>({value:k.memberId,label:`${k.memberName} (${k.relationship})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(J,{label:"Portfolio Name",required:!0,error:p.portfolioName,children:a.jsx(be,{value:m.portfolioName,onChange:k=>S("portfolioName",k),placeholder:"e.g., Long-Term Growth"})}),a.jsx(J,{label:"Owner",required:!0,error:p.ownerId,children:a.jsx(Re,{value:m.ownerId,onChange:M,options:D,placeholder:"Select family member..."})}),a.jsx(J,{label:"Investment Account",required:!0,error:p.investmentAccountId,children:a.jsx(Re,{value:m.investmentAccountId,onChange:k=>S("investmentAccountId",k),options:j,placeholder:m.ownerId?j.length?"Select demat account...":"No demat accounts for this member":"Select owner first..."})}),d&&r&&a.jsx(br,{onClick:r}),a.jsx(ma,{onCancel:t,onSubmit:w,submitLabel:d?"Update":"Create Portfolio",loading:b})]})}function rT({portfolioId:s,onSave:l,onCancel:r}){const{stockPortfolios:t}=Ve(),{selectedMember:o}=Jt(),u=N.useMemo(()=>{const D=t.filter(k=>k.status==="Active");return o==="all"?D:D.filter(k=>k.ownerId===o)},[t,o]),[d,m]=N.useState({portfolioId:s||"",symbol:"",companyName:"",exchange:"NSE",date:new Date().toISOString().split("T")[0],quantity:"",pricePerShare:"",brokerage:"0",notes:""}),[x,p]=N.useState({}),[v,b]=N.useState(!1);function y(D,k){m(T=>({...T,[D]:k})),p(T=>({...T,[D]:void 0}))}const S=N.useMemo(()=>{const D=Number(d.quantity)||0,k=Number(d.pricePerShare)||0;return D*k},[d.quantity,d.pricePerShare]),M=N.useMemo(()=>S+(Number(d.brokerage)||0),[S,d.brokerage]);function j(){const D={};return d.portfolioId||(D.portfolioId="Required"),d.symbol.trim()||(D.symbol="Required"),d.companyName.trim()||(D.companyName="Required"),d.date||(D.date="Required"),(!d.quantity||Number(d.quantity)<=0)&&(D.quantity="Must be > 0"),(!d.pricePerShare||Number(d.pricePerShare)<=0)&&(D.pricePerShare="Must be > 0"),p(D),Object.keys(D).length===0}async function g(){if(j()){b(!0);try{await l(d)}finally{b(!1)}}}const w=u.map(D=>{const k=D.portfolioName?.replace(/^PFL-/,"")||D.portfolioName,T=D.ownerName?`${k} (${D.ownerName})`:k;return{value:D.portfolioId,label:T}});return a.jsxs("div",{className:"space-y-4",children:[a.jsx(J,{label:"Portfolio",required:!0,error:x.portfolioId,children:a.jsx(Re,{value:d.portfolioId,onChange:D=>y("portfolioId",D),options:w,placeholder:"Select portfolio..."})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Stock Symbol",required:!0,error:x.symbol,children:a.jsx(be,{value:d.symbol,onChange:D=>y("symbol",D.toUpperCase()),placeholder:"e.g., RELIANCE"})}),a.jsx(J,{label:"Company Name",required:!0,error:x.companyName,children:a.jsx(be,{value:d.companyName,onChange:D=>y("companyName",D),placeholder:"e.g., Reliance Industries Ltd"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(J,{label:"Purchase Date",required:!0,error:x.date,children:a.jsx(Rn,{value:d.date,onChange:D=>y("date",D)})}),a.jsx(J,{label:"Quantity (Shares)",required:!0,error:x.quantity,children:a.jsx(be,{type:"number",value:d.quantity,onChange:D=>y("quantity",D),placeholder:"e.g., 100"})}),a.jsx(J,{label:"Price per Share ()",required:!0,error:x.pricePerShare,children:a.jsx(be,{type:"number",value:d.pricePerShare,onChange:D=>y("pricePerShare",D),placeholder:"e.g., 2500"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Brokerage ()",children:a.jsx(be,{type:"number",value:d.brokerage,onChange:D=>y("brokerage",D),placeholder:"0"})}),a.jsx("div",{className:"flex flex-col justify-end",children:a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:G(S)}),Number(d.brokerage)>0&&a.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:["Net: ",G(M)]})]})})]}),a.jsx(J,{label:"Notes",children:a.jsx(be,{value:d.notes,onChange:D=>y("notes",D),placeholder:"Optional notes..."})}),a.jsx(ma,{onCancel:r,onSubmit:g,submitLabel:"Buy Stock",loading:v})]})}function sT({portfolioId:s,onSave:l,onCancel:r}){const{stockPortfolios:t,stockHoldings:o}=Ve(),{selectedMember:u}=Jt(),d=N.useMemo(()=>{const L=t.filter(I=>I.status==="Active");return u==="all"?L:L.filter(I=>I.ownerId===u)},[t,u]),[m,x]=N.useState({portfolioId:s||"",symbol:"",companyName:"",date:new Date().toISOString().split("T")[0],quantity:"",pricePerShare:"",brokerage:"0",notes:""}),[p,v]=N.useState({}),[b,y]=N.useState(!1);function S(L,I){x(V=>({...V,[L]:I})),v(V=>({...V,[L]:void 0}))}const M=N.useMemo(()=>m.portfolioId?o.filter(L=>L.portfolioId===m.portfolioId&&L.quantity>0):[],[o,m.portfolioId]),j=M.find(L=>L.symbol===m.symbol),g=j?.quantity||0,w=N.useMemo(()=>{const L=Number(m.quantity)||0,I=Number(m.pricePerShare)||0;return L*I},[m.quantity,m.pricePerShare]),D=N.useMemo(()=>w-(Number(m.brokerage)||0),[w,m.brokerage]);function k(L){const I=M.find(V=>V.symbol===L);x(V=>({...V,symbol:L,companyName:I?.companyName||""})),v(V=>({...V,symbol:void 0}))}function T(L){x(I=>({...I,portfolioId:L,symbol:"",companyName:"",quantity:""})),v(I=>({...I,portfolioId:void 0}))}function _(){const L={};return m.portfolioId||(L.portfolioId="Required"),m.symbol||(L.symbol="Required"),m.date||(L.date="Required"),(!m.quantity||Number(m.quantity)<=0)&&(L.quantity="Must be > 0"),Number(m.quantity)>g&&(L.quantity=`Max ${g} shares`),(!m.pricePerShare||Number(m.pricePerShare)<=0)&&(L.pricePerShare="Must be > 0"),v(L),Object.keys(L).length===0}async function B(){if(_()){y(!0);try{await l(m)}finally{y(!1)}}}const H=d.map(L=>{const I=L.portfolioName?.replace(/^PFL-/,"")||L.portfolioName,V=L.ownerName?`${I} (${L.ownerName})`:I;return{value:L.portfolioId,label:V}}),O=M.map(L=>({value:L.symbol,label:`${L.symbol}  ${L.quantity} shares`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(J,{label:"Portfolio",required:!0,error:p.portfolioId,children:a.jsx(Re,{value:m.portfolioId,onChange:T,options:H,placeholder:"Select portfolio..."})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Stock to Sell",required:!0,error:p.symbol,children:a.jsx(Re,{value:m.symbol,onChange:k,options:O,placeholder:m.portfolioId?M.length?"Select stock...":"No holdings in this portfolio":"Select portfolio first..."})}),j&&a.jsx("div",{className:"flex flex-col justify-end",children:a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:j.companyName}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:g})," shares @ ",G(j.avgBuyPrice)," avg"]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Sale Date",required:!0,error:p.date,children:a.jsx(Rn,{value:m.date,onChange:L=>S("date",L)})}),a.jsx(J,{label:"Quantity to Sell",required:!0,error:p.quantity,children:a.jsx(be,{type:"number",value:m.quantity,onChange:L=>S("quantity",L),placeholder:g?`Max: ${g}`:""})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Sale Price per Share ()",required:!0,error:p.pricePerShare,children:a.jsx(be,{type:"number",value:m.pricePerShare,onChange:L=>S("pricePerShare",L),placeholder:"e.g., 2750"})}),a.jsx(J,{label:"Brokerage ()",children:a.jsx(be,{type:"number",value:m.brokerage,onChange:L=>S("brokerage",L),placeholder:"0"})})]}),w>0&&a.jsx("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Net Sale Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:G(D)})]}),j&&a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. P&L"}),(()=>{const L=Number(m.quantity)*j.avgBuyPrice,I=D-L,V=I>=0;return a.jsxs("p",{className:`text-sm font-bold tabular-nums ${V?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[V?"+":"",G(I)]})})()]})]})}),a.jsx(J,{label:"Notes",children:a.jsx(be,{value:m.notes,onChange:L=>S("notes",L),placeholder:"Optional notes..."})}),a.jsx(ma,{onCancel:r,onSubmit:B,submitLabel:"Sell Stock",loading:b})]})}function lT(){const{selectedMember:s}=Jt(),{stockPortfolios:l,stockHoldings:r,stockTransactions:t,activeInvestmentAccounts:o,addStockPortfolio:u,updateStockPortfolio:d,deleteStockPortfolio:m,buyStock:x,sellStock:p}=Ve(),{showToast:v,showBlockUI:b,hideBlockUI:y}=Ln(),S=Pn(),{mv:M}=zn(),[j,g]=N.useState(null),[w,D]=N.useState("all"),[k,T]=N.useState("holdings"),[_,B]=N.useState(!1),H=N.useMemo(()=>{if(!l)return[];const R=l.filter(ne=>ne.status!=="Inactive");return s==="all"?R:R.filter(ne=>ne.ownerId===s)},[l,s]),O=N.useMemo(()=>r?H.map(R=>{const ne=r.filter(Te=>Te.portfolioId===R.portfolioId),ve=(t||[]).filter(Te=>Te.portfolioId===R.portfolioId),P=ne.reduce((Te,Be)=>Te+Be.totalInvestment,0),ee=ne.reduce((Te,Be)=>Te+Be.currentValue,0),ue=ee-P,fe=ve.filter(Te=>Te.type==="SELL"&&Te.realizedPL!=null).reduce((Te,Be)=>Te+Be.realizedPL,0),ye=ue+fe,we=P>0?ye/P*100:0,Se=o.find(Te=>Te.accountId===R.investmentAccountId);return{...R,holdings:ne,txns:ve,invested:P,current:ee,unrealizedPL:ue,realizedPL:fe,totalPL:ye,totalPLPct:we,stockCount:ne.length,platform:Se?.platformBroker||R.investmentAccountName||"",clientId:Se?.accountClientId||""}}):[],[H,r,t,o]),L=N.useMemo(()=>{const R=w==="all"?O:O.filter(Se=>Se.portfolioId===w),ne=R.reduce((Se,Te)=>Se+Te.invested,0),ve=R.reduce((Se,Te)=>Se+Te.current,0),P=R.reduce((Se,Te)=>Se+Te.unrealizedPL,0),ee=R.reduce((Se,Te)=>Se+Te.realizedPL,0),ue=P+ee,fe=ne>0?ue/ne*100:0,ye=ne>0?P/ne*100:0,we=R.reduce((Se,Te)=>Se+Te.stockCount,0);return{invested:ne,current:ve,unrealizedPL:P,unrealizedPLPct:ye,realizedPL:ee,totalPL:ue,totalPLPct:fe,stocks:we}},[O,w]),I=N.useMemo(()=>r?w==="all"?r.filter(R=>H.some(ne=>ne.portfolioId===R.portfolioId)):r.filter(R=>R.portfolioId===w):[],[r,H,w]),V=N.useMemo(()=>t?(w==="all"?t.filter(ne=>H.some(ve=>ve.portfolioId===ne.portfolioId)):t.filter(ne=>ne.portfolioId===w)).sort((ne,ve)=>new Date(ve.date)-new Date(ne.date)):[],[t,H,w]);if(l===null||r===null)return a.jsx(gr,{title:"Loading stocks",cards:5});const A=O.find(R=>R.portfolioId===w),se=w==="all"?`All Portfolios (${H.length})`:`${A?.portfolioName}  ${M(A?.ownerName,"name")}`;async function oe(R){b("Saving...");try{j?.editPortfolio?await d(j.editPortfolio.portfolioId,R):await u(R),v(j?.editPortfolio?"Portfolio updated":"Portfolio created"),g(null)}catch(ne){v(ne.message||"Failed to save portfolio","error")}finally{y()}}async function U(){if(j?.editPortfolio&&await S("Deactivate this portfolio?",{title:"Deactivate Portfolio",confirmLabel:"Deactivate"})){b("Deactivating...");try{await m(j.editPortfolio.portfolioId),v("Portfolio deactivated"),D("all"),g(null)}catch(R){v(R.message||"Failed to deactivate portfolio","error")}finally{y()}}}async function z(R){b("Recording purchase...");try{await x(R),v("Stock purchase recorded"),g(null)}catch(ne){v(ne.message||"Failed to record purchase","error")}finally{y()}}async function W(R){b("Recording sale...");try{await p(R),v("Stock sale recorded"),g(null)}catch(ne){v(ne.message||"Failed to record sale","error")}finally{y()}}return a.jsxs("div",{className:"space-y-4",children:[H.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(Xi,{size:32,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No stock portfolios yet"}),a.jsx("button",{onClick:()=>g("addPortfolio"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first portfolio"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>B(!_),className:"flex items-center gap-2 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm font-semibold text-[var(--text-primary)] hover:border-[var(--border-light)] transition-colors min-w-[220px]",children:[a.jsx(Xi,{size:14,className:"text-violet-400 shrink-0"}),a.jsx("span",{className:"truncate",children:se}),a.jsx(dr,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${_?"rotate-180":""}`})]}),_&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>B(!1)}),a.jsxs("div",{className:"absolute left-0 top-full mt-1 z-40 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl min-w-[280px] py-1 overflow-hidden",children:[a.jsxs("button",{onClick:()=>{D("all"),B(!1),T("holdings")},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${w==="all"?"bg-[var(--sidebar-active-bg)] text-[var(--text-primary)] font-semibold":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:["All Portfolios (",H.length,")"]}),a.jsx("div",{className:"border-t border-[var(--border-light)]"}),O.map(R=>{const ne=R.totalPL>=0;return a.jsx("button",{onClick:()=>{D(R.portfolioId),B(!1),T("holdings")},className:`w-full text-left px-4 py-2.5 transition-colors ${w===R.portfolioId?"bg-[var(--sidebar-active-bg)]":"hover:bg-[var(--bg-hover)]"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-sm ${w===R.portfolioId?"font-semibold text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:R.portfolioName}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[M(R.ownerName,"name"),"  ",R.platform]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(R.current)}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${ne?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ne?"+":"",R.totalPLPct.toFixed(1),"%"]})]})]})},R.portfolioId)})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[A&&a.jsxs("button",{onClick:()=>g({editPortfolio:A}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(pn,{size:12})," Edit"]}),a.jsxs("button",{onClick:()=>g("addPortfolio"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Zt,{size:14})," New Portfolio"]})]})]}),A&&a.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-dim)] px-1",children:[a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Platform:"})," ",A.platform]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Client ID:"})," ",M(A.clientId,"clientId")]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Stocks:"})," ",A.stockCount]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[a.jsx(Gi,{label:"Invested",value:G(L.invested)}),a.jsx(Gi,{label:"Current Value",value:G(L.current),bold:!0}),a.jsx(Gi,{label:"Unrealized P&L",value:`${L.unrealizedPL>=0?"+":""}${G(L.unrealizedPL)}`,sub:`${L.unrealizedPLPct>=0?"+":""}${L.unrealizedPLPct.toFixed(1)}%`,positive:L.unrealizedPL>=0}),a.jsx(Gi,{label:"Realized P&L",value:`${L.realizedPL>=0?"+":""}${G(L.realizedPL)}`,positive:L.realizedPL>=0}),a.jsx(Gi,{label:"Total P&L",value:`${L.totalPL>=0?"+":""}${G(L.totalPL)}`,sub:`${L.totalPLPct>=0?"+":""}${L.totalPLPct.toFixed(1)}%`,positive:L.totalPL>=0,bold:!0})]}),a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5",children:[a.jsxs("button",{onClick:()=>T("holdings"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${k==="holdings"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(Cy,{size:12})," Holdings (",I.length,")"]}),a.jsxs("button",{onClick:()=>T("transactions"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${k==="transactions"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(xu,{size:12})," Transactions (",V.length,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>w!=="all"&&g({buy:w}),disabled:w==="all",className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${w==="all"?"bg-emerald-600/40 text-white/50 cursor-not-allowed":"text-white bg-emerald-600 hover:bg-emerald-500"}`,title:w==="all"?"Select a portfolio first":"",children:[a.jsx(Al,{size:14})," Buy"]}),a.jsxs("button",{onClick:()=>w!=="all"&&I.length>0&&g({sell:w}),disabled:w==="all"||I.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${w==="all"||I.length===0?"bg-rose-600/40 text-white/50 cursor-not-allowed":"text-white bg-rose-600 hover:bg-rose-500"}`,title:w==="all"?"Select a portfolio first":"",children:[a.jsx(Iu,{size:14})," Sell"]})]})]}),k==="holdings"&&a.jsx(a.Fragment,{children:I.length>0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Stock"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Qty"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Avg Price"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current Price"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Invested"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current Value"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Returns"})]})}),a.jsxs("tbody",{children:[I.map(R=>{const ne=R.unrealizedPL>=0,ve=w==="all"?O.find(P=>P.portfolioId===R.portfolioId):null;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:R.companyName}),a.jsxs("p",{className:"text-xs font-mono text-[var(--text-dim)]",children:[R.symbol,ve&&a.jsxs("span",{className:"ml-1.5 text-[var(--text-dim)] font-sans",children:[" ",ve.portfolioName]})]})]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:R.quantity}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:G(R.avgBuyPrice)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(R.currentPrice)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:G(R.totalInvestment)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(R.currentValue)}),a.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-semibold tabular-nums ${ne?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ne?"+":"",G(R.unrealizedPL)]}),a.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-bold tabular-nums ${ne?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ne?"+":"",R.unrealizedPLPct.toFixed(1),"%"]})]},R.holdingId)}),a.jsxs("tr",{className:"bg-[var(--bg-inset)] border-t-2 border-[var(--border-light)]",children:[a.jsxs("td",{className:"py-2.5 px-4 text-xs font-semibold text-[var(--text-muted)]",children:["Total (",I.length," stocks)"]}),a.jsx("td",{colSpan:3,className:"py-2.5 px-3"}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(L.invested)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(L.current)}),a.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-semibold tabular-nums ${L.unrealizedPL>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[L.unrealizedPL>=0?"+":"",G(L.unrealizedPL)]}),a.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-bold tabular-nums ${L.unrealizedPL>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[L.unrealizedPLPct>=0?"+":"",L.unrealizedPLPct.toFixed(1),"%"]})]})]})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:I.map(R=>{const ne=R.unrealizedPL>=0,ve=w==="all"?O.find(P=>P.portfolioId===R.portfolioId):null;return a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:R.companyName}),a.jsxs("p",{className:"text-xs font-mono text-[var(--text-dim)]",children:[R.symbol,ve&&a.jsxs("span",{className:"ml-1 font-sans",children:[" ",ve.portfolioName]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:`text-xs font-bold tabular-nums ${ne?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ne?"+":"",R.unrealizedPLPct.toFixed(1),"%"]}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${ne?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ne?"+":"",G(R.unrealizedPL)]})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsxs("div",{className:"text-[var(--text-dim)]",children:[a.jsxs("span",{children:[R.quantity," shares"]}),a.jsx("span",{className:"mx-1",children:""}),a.jsxs("span",{children:["Avg ",G(R.avgBuyPrice)]}),a.jsx("span",{className:"mx-1",children:""}),a.jsxs("span",{children:["CMP ",G(R.currentPrice)]})]}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(R.currentValue)})]})]},R.holdingId)})})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(Xi,{size:28,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No holdings",A?" in this portfolio":""]}),a.jsx("button",{onClick:()=>g({buy:w!=="all"?w:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Buy your first stock"})]})}),k==="transactions"&&a.jsx(a.Fragment,{children:V.length>0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Stock"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Qty"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Price"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Brokerage"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Net"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Realized P&L"})]})}),a.jsx("tbody",{children:V.map(R=>{const ne=R.type==="BUY",ve=!ne&&R.realizedPL!=null,P=ve&&R.realizedPL>=0,ee=w==="all"?O.find(ue=>ue.portfolioId===R.portfolioId):null;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-secondary)]",children:R.date}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${ne?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:R.type})}),a.jsxs("td",{className:"py-2.5 px-3",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:R.symbol}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] truncate max-w-[140px]",children:[R.companyName,ee&&a.jsxs("span",{children:["  ",ee.portfolioName]})]})]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:R.quantity}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:G(R.pricePerShare)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:G(R.totalAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-dim)] tabular-nums",children:R.brokerage>0?G(R.brokerage):""}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(R.netAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:ve?a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${P?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[P?"+":"",G(R.realizedPL)]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})]},R.transactionId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:V.map(R=>{const ne=R.type==="BUY",ve=!ne&&R.realizedPL!=null,P=ve&&R.realizedPL>=0;return a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${ne?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:R.type}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:R.symbol})]}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:R.date})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[R.quantity," shares @ ",G(R.pricePerShare)]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(R.netAmount)}),ve&&a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${P?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["P&L: ",P?"+":"",G(R.realizedPL)]})]})]}),R.notes&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:R.notes})]},R.transactionId)})})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(xu,{size:28,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions yet"}),a.jsx("button",{onClick:()=>g({buy:w!=="all"?w:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Make your first purchase"})]})})]}),a.jsx(At,{open:j==="addPortfolio"||!!j?.editPortfolio,onClose:()=>g(null),title:j?.editPortfolio?"Edit Portfolio":"New Stock Portfolio",children:a.jsx(nT,{initial:j?.editPortfolio||void 0,onSave:oe,onDelete:j?.editPortfolio?U:void 0,onCancel:()=>g(null)})}),a.jsx(At,{open:!!j?.buy,onClose:()=>g(null),title:"Buy Stock",wide:!0,children:a.jsx(rT,{portfolioId:typeof j?.buy=="string"?j.buy:void 0,onSave:z,onCancel:()=>g(null)})}),a.jsx(At,{open:!!j?.sell,onClose:()=>g(null),title:"Sell Stock",wide:!0,children:a.jsx(sT,{portfolioId:typeof j?.sell=="string"?j.sell:void 0,onSave:W,onCancel:()=>g(null)})})]})}function Gi({label:s,value:l,sub:r,positive:t,bold:o}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:`text-sm tabular-nums ${o?"font-bold":"font-semibold"} ${t===void 0?"text-[var(--text-primary)]":t?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:l}),r&&a.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${t?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}const iT=["Self","Spouse","Father","Mother","Son","Daughter","Brother","Sister","Other"].map(s=>({value:s,label:s})),Vc={pan:/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/,aadhar:/^\d{12}$/,email:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,mobile:/^\d{10}$/};function oT({initial:s,onSave:l,onDelete:r,onCancel:t}){const o=!!s,[u,d]=N.useState({memberName:s?.memberName||"",relationship:s?.relationship||"",pan:s?.pan||"",aadhar:s?.aadhar||"",email:s?.email||"",mobile:s?.mobile||"",includeInEmailReports:s?.includeInEmailReports??!0,status:s?.status||"Active"}),[m,x]=N.useState({}),[p,v]=N.useState(!1),[b,y]=N.useState(()=>{const k=s?.dynamicFields||{};return Object.entries(k).map(([T,_])=>({key:T,value:_}))});function S(k,T){d(_=>({..._,[k]:T})),x(_=>({..._,[k]:void 0}))}function M(){const k={};return u.memberName.trim()||(k.memberName="Required"),u.relationship||(k.relationship="Required"),Vc.pan.test(u.pan.toUpperCase())||(k.pan="Format: ABCDE1234F"),Vc.aadhar.test(u.aadhar)||(k.aadhar="12 digits required"),Vc.email.test(u.email)||(k.email="Invalid email"),Vc.mobile.test(u.mobile)||(k.mobile="10 digits required"),x(k),Object.keys(k).length===0}function j(){y(k=>[...k,{key:"",value:""}])}function g(k,T,_){y(B=>B.map((H,O)=>O===k?{...H,[T]:_}:H))}function w(k){y(T=>T.filter((_,B)=>B!==k))}async function D(){if(!M())return;const k={};b.forEach(({key:T,value:_})=>{const B=T.trim();B&&(k[B]=_)}),v(!0);try{await l({...u,pan:u.pan.toUpperCase(),dynamicFields:k})}finally{v(!1)}}return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Member Name",required:!0,error:m.memberName,children:a.jsx(be,{value:u.memberName,onChange:k=>S("memberName",k),placeholder:"e.g., Jagadeesh"})}),a.jsx(J,{label:"Relationship",required:!0,error:m.relationship,children:a.jsx(Re,{value:u.relationship,onChange:k=>S("relationship",k),options:iT,placeholder:"Select..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"PAN",required:!0,error:m.pan,children:a.jsx(be,{sensitive:!0,value:u.pan,onChange:k=>S("pan",k.toUpperCase()),placeholder:"ABCDE1234F",maxLength:10})}),a.jsx(J,{label:"Aadhar",required:!0,error:m.aadhar,children:a.jsx(be,{sensitive:!0,value:u.aadhar,onChange:k=>S("aadhar",k.replace(/\D/g,"")),placeholder:"123456789012",maxLength:12})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Email",required:!0,error:m.email,children:a.jsx(be,{sensitive:!0,type:"email",value:u.email,onChange:k=>S("email",k),placeholder:"email@example.com"})}),a.jsx(J,{label:"Mobile",required:!0,error:m.mobile,children:a.jsx(be,{sensitive:!0,value:u.mobile,onChange:k=>S("mobile",k.replace(/\D/g,"")),placeholder:"9876543210",maxLength:10})})]}),a.jsx(j3,{checked:u.includeInEmailReports,onChange:k=>S("includeInEmailReports",k),label:"Include in email reports"}),o&&a.jsx(J,{label:"Status",children:a.jsx(Re,{value:u.status,onChange:k=>S("status",k),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)]",children:"Custom Fields"}),a.jsxs("button",{onClick:j,type:"button",className:"flex items-center gap-1 text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[a.jsx(Zt,{size:12})," Add Field"]})]}),b.length===0&&a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"No custom fields. Add DOB, occupation, blood group, etc."}),a.jsx("div",{className:"space-y-2",children:b.map((k,T)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{value:k.key,onChange:_=>g(T,"key",_.target.value),placeholder:"Field name",className:"flex-1 px-2.5 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] transition-colors"}),a.jsx("input",{value:k.value,onChange:_=>g(T,"value",_.target.value),placeholder:"Value",className:"flex-1 px-2.5 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] transition-colors"}),a.jsx("button",{onClick:()=>w(T),type:"button",className:"p-1 text-[var(--text-dim)] hover:text-rose-400 transition-colors",children:a.jsx(Ru,{size:13})})]},T))})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[o&&r?a.jsx(br,{onClick:r}):a.jsx("div",{}),a.jsx(ma,{onCancel:t,onSubmit:D,submitLabel:o?"Update":"Add Member",loading:p})]})]})}const Gc=["from-violet-500 to-indigo-500","from-rose-500 to-pink-500","from-blue-500 to-cyan-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],ag={Self:"bg-violet-500/15 text-[var(--accent-violet)]",Spouse:"bg-rose-500/15 text-[var(--accent-rose)]",Father:"bg-blue-500/15 text-[var(--accent-blue)]",Mother:"bg-amber-500/15 text-[var(--accent-amber)]",Son:"bg-emerald-500/15 text-emerald-400",Daughter:"bg-emerald-500/15 text-emerald-400"};function cT(){const{members:s,addMember:l,updateMember:r,deleteMember:t}=Ve(),{showToast:o,showBlockUI:u,hideBlockUI:d}=Ln(),m=Pn(),{mv:x}=zn(),[p,v]=N.useState(null);if(s===null)return a.jsx(gr,{title:"Loading family",cards:3});const b=s.filter(M=>M.status!=="Inactive");async function y(M){u("Saving member...");try{p?.edit?await r(p.edit.memberId,M):await l(M),o(p?.edit?"Member updated":"Member added"),v(null)}catch(j){o(j.message||"Failed to save member","error")}finally{d()}}async function S(){if(p?.edit&&await m("Deactivate this family member?",{title:"Deactivate Member",confirmLabel:"Deactivate"})){u("Deactivating...");try{await t(p.edit.memberId),o("Member deactivated"),v(null)}catch(M){o(M.message||"Failed to deactivate member","error")}finally{d()}}}return[...new Set(b.flatMap(M=>Object.keys(M.dynamicFields||{})))],a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Zt,{size:14})," Add Member"]})}),b.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(Tl,{size:32,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No family members yet"}),a.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first member"})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[640px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Relationship"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"PAN"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Aadhaar"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Mobile"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:b.map((M,j)=>{const g=M.dynamicFields||{},w=Object.entries(g);return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-4",children:a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white bg-gradient-to-br ${Gc[j%Gc.length]}`,children:M.memberName.charAt(0)}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:x(M.memberName,"name")}),w.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mt-0.5",children:[w.slice(0,3).map(([D,k])=>a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)] bg-[var(--bg-inset)] px-1.5 py-0.5 rounded",children:[D,": ",k]},D)),w.length>3&&a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["+",w.length-3," more"]})]})]})]})}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${ag[M.relationship]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.relationship})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] font-mono tabular-nums",children:x(M.pan,"pan")||""}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] font-mono tabular-nums",children:x(M.aadhar,"aadhaar")||""}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] truncate max-w-[180px]",children:x(M.email,"email")}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:x(M.mobile,"mobile")}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>v({edit:M}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(pn,{size:12})})})]},M.memberId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map((M,j)=>{const g=M.dynamicFields||{},w=Object.entries(g);return a.jsxs("div",{onClick:()=>v({edit:M}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center gap-2.5 mb-1.5",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white bg-gradient-to-br ${Gc[j%Gc.length]}`,children:M.memberName.charAt(0)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:x(M.memberName,"name")}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${ag[M.relationship]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.relationship})]}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] truncate",children:x(M.email,"email")})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:x(M.mobile,"mobile")}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)] font-mono",children:["PAN: ",x(M.pan,"pan")||""]}),M.aadhar&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] font-mono",children:["Aadhaar: ",x(M.aadhar,"aadhaar")]})]})]}),w.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mt-1.5",children:[w.slice(0,3).map(([D,k])=>a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)] bg-[var(--bg-inset)] px-1.5 py-0.5 rounded",children:[D,": ",k]},D)),w.length>3&&a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["+",w.length-3," more"]})]})]},M.memberId)})})]}),a.jsx(At,{open:!!p,onClose:()=>v(null),title:p?.edit?"Edit Member":"Add Family Member",wide:!0,children:a.jsx(oT,{initial:p?.edit||void 0,onSave:y,onDelete:p?.edit?S:void 0,onCancel:()=>v(null)})})]})}const ng=["Retirement","Emergency Fund","Child Education","Home Purchase","Car","Travel","Wedding","Custom"].map(s=>({value:s,label:s})),rg=[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}],uT=[{value:"On Track",label:"On Track"},{value:"Needs Attention",label:"Needs Attention"},{value:"Achieved",label:"Achieved"},{value:"Paused",label:"Paused"}],Qc={Retirement:{inflation:6,cagr:12},"Emergency Fund":{inflation:0,cagr:7},"Child Education":{inflation:10,cagr:12},"Home Purchase":{inflation:8,cagr:12},Wedding:{inflation:6,cagr:12},Car:{inflation:5,cagr:10},Travel:{inflation:6,cagr:10},Custom:{inflation:6,cagr:12}},sg=[{label:"Basics",icon:lo},{label:"Financials",icon:d5},{label:"Review",icon:Ul}];function dT({initial:s,onSave:l,onDelete:r,onCancel:t}){const o=!!s,{activeMembers:u}=Ve(),d=[{value:"",label:"Family (Default)"},...u.map(O=>({value:O.memberId,label:O.memberName}))],[m,x]=N.useState(0),[p,v]=N.useState(()=>{if(o){const O=(s.expectedInflation||.06)*100,L=(s.expectedCAGR||.12)*100,I=s.targetDate?Math.max(0,(new Date(s.targetDate)-new Date)/(365.25*24*60*60*1e3)):0,V=O/100;let A=s.targetAmount||0;return V>0&&I>0&&s.goalType!=="Emergency Fund"&&(A=s.targetAmount/Math.pow(1+V,I)),{goalType:s.goalType||"",goalName:s.goalName||"",familyMemberId:s.familyMemberId||"",todaysCost:Math.round(A).toString(),targetDate:s.targetDate||"",lumpsum:(s.lumpsumInvested||0).toString(),monthlySIP:(s.monthlyInvestment||0).toString(),inflation:O.toString(),cagr:L.toString(),priority:s.priority||"Medium",status:s.status||"On Track",notes:s.notes||"",monthlyExpenses:(s.monthlyExpenses||"").toString(),emergencyMonths:(s.emergencyMonths||6).toString()}}return{goalType:"",goalName:"",familyMemberId:"",todaysCost:"",targetDate:"",lumpsum:"",monthlySIP:"",inflation:"6",cagr:"12",priority:"Medium",status:"On Track",notes:"",monthlyExpenses:"",emergencyMonths:"6"}}),[b,y]=N.useState({}),[S,M]=N.useState(!1);function j(O,L){v(I=>({...I,[O]:L})),y(I=>({...I,[O]:void 0}))}N.useEffect(()=>{if(o||!p.goalType)return;const O=Qc[p.goalType]||Qc.Custom;v(L=>({...L,inflation:O.inflation.toString(),cagr:O.cagr.toString()}))},[p.goalType,o]);const g=p.goalType==="Retirement",w=p.goalType==="Emergency Fund",D=N.useMemo(()=>{const O=(Number(p.inflation)||0)/100,I=(Number(p.cagr)||0)/100/12,V=Number(p.lumpsum)||0,A=Number(p.monthlySIP)||0,se=Number(p.monthlyExpenses)||0,oe=Number(p.emergencyMonths)||6,U=p.targetDate?Math.max(0,(new Date(p.targetDate)-new Date)/(365.25*24*60*60*1e3)):0,z=Math.round(U*12);let W=0,R=0;g?(W=se*12*25,R=W*Math.pow(1+O,U)):w?(W=se*oe,R=W):(W=Number(p.todaysCost)||0,R=O>0&&U>0?W*Math.pow(1+O,U):W),R=Math.round(R);const ne=V>0&&z>0?V*Math.pow(1+I,z):V,ve=A>0&&I>0&&z>0?A*((Math.pow(1+I,z)-1)/I):A*z,P=Math.round(ne+ve),ee=Math.round(V+A*z),ue=P-ee;let fe=0;if(R>0&&z>0){const Se=R-ne;Se>0&&I>0?fe=Se/((Math.pow(1+I,z)-1)/I):Se>0&&(fe=Se/z),fe=Math.max(0,Math.ceil(fe))}const ye=R>0&&P>=R,we=R>0?P/R*100:0;return{todaysCost:W,inflatedTarget:R,yearsToGo:U,months:z,fvLumpsum:Math.round(ne),fvSIP:Math.round(ve),projectedValue:P,totalInvested:ee,totalReturns:ue,requiredSIP:fe,isOnTrack:ye,pctOfTarget:we,hasTarget:R>0,hasInputs:V>0||A>0}},[p.todaysCost,p.targetDate,p.lumpsum,p.monthlySIP,p.inflation,p.cagr,p.monthlyExpenses,p.emergencyMonths,g,w]);function k(O){const L={};return O===0&&(p.goalType||(L.goalType="Required"),p.goalName.trim()||(L.goalName="Required")),O===1&&(p.targetDate||(L.targetDate="Required"),g||w?(!p.monthlyExpenses||Number(p.monthlyExpenses)<=0)&&(L.monthlyExpenses="Required"):(!p.todaysCost||Number(p.todaysCost)<=0)&&(L.todaysCost="Must be > 0")),y(L),Object.keys(L).length===0}function T(){const O={};return p.goalType||(O.goalType="Required"),p.goalName.trim()||(O.goalName="Required"),p.targetDate||(O.targetDate="Required"),g||w?(!p.monthlyExpenses||Number(p.monthlyExpenses)<=0)&&(O.monthlyExpenses="Required"):(!p.todaysCost||Number(p.todaysCost)<=0)&&(O.todaysCost="Must be > 0"),y(O),Object.keys(O).length===0}function _(){k(m)&&x(O=>Math.min(O+1,2))}async function B(){if(!T())return;const O=p.familyMemberId&&u.find(L=>L.memberId===p.familyMemberId)?.memberName||"Family";M(!0);try{await l({goalType:p.goalType,goalName:p.goalName,familyMemberId:p.familyMemberId||"",familyMember:O,targetAmount:D.inflatedTarget,targetDate:p.targetDate,priority:p.priority,status:p.status,notes:p.notes,expectedInflation:(Number(p.inflation)||0)/100,expectedCAGR:(Number(p.cagr)||0)/100,monthlyInvestment:Number(p.monthlySIP)||0,lumpsumInvested:Number(p.lumpsum)||0,monthlyExpenses:g||w?Number(p.monthlyExpenses)||0:void 0,emergencyMonths:w?Number(p.emergencyMonths)||6:void 0,isRetirement:g,currentCost:D.todaysCost})}finally{M(!1)}}const H=p.familyMemberId&&u.find(O=>O.memberId===p.familyMemberId)?.memberName||"Family";return o?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Goal Type",required:!0,error:b.goalType,children:a.jsx(Re,{value:p.goalType,onChange:O=>j("goalType",O),options:ng,placeholder:"Select type..."})}),a.jsx(J,{label:"Goal Name",required:!0,error:b.goalName,children:a.jsx(be,{value:p.goalName,onChange:O=>j("goalName",O),placeholder:"e.g., Retirement Fund (2045)"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Family Member",error:b.familyMemberId,children:a.jsx(Re,{value:p.familyMemberId,onChange:O=>j("familyMemberId",O),options:d,placeholder:"Family (Default)"})}),a.jsx(J,{label:"Target Date",required:!0,error:b.targetDate,children:a.jsx(Rn,{value:p.targetDate,onChange:O=>j("targetDate",O),maxDate:null})})]}),g||w?a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Monthly Expenses",required:!0,error:b.monthlyExpenses,children:a.jsx(be,{type:"number",value:p.monthlyExpenses,onChange:O=>j("monthlyExpenses",O),placeholder:"e.g., 50000"})}),w&&a.jsx(J,{label:"Emergency Months",children:a.jsx(be,{type:"number",value:p.emergencyMonths,onChange:O=>j("emergencyMonths",O),placeholder:"6"})})]}):a.jsx(J,{label:"Today's Cost",required:!0,error:b.todaysCost,children:a.jsx(be,{type:"number",value:p.todaysCost,onChange:O=>j("todaysCost",O),placeholder:"e.g., 1000000"})}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(J,{label:"Inflation %",children:a.jsx(be,{type:"number",value:p.inflation,onChange:O=>j("inflation",O),placeholder:"6"})}),a.jsx(J,{label:"Expected CAGR %",children:a.jsx(be,{type:"number",value:p.cagr,onChange:O=>j("cagr",O),placeholder:"12"})}),a.jsx(J,{label:"Lumpsum",children:a.jsx(be,{type:"number",value:p.lumpsum,onChange:O=>j("lumpsum",O),placeholder:"0"})}),a.jsx(J,{label:"Monthly SIP",children:a.jsx(be,{type:"number",value:p.monthlySIP,onChange:O=>j("monthlySIP",O),placeholder:"0"})})]}),D.hasTarget&&a.jsx(lg,{calc:D,inflation:p.inflation,isRetirement:g,isEmergency:w}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Priority",children:a.jsx(Re,{value:p.priority,onChange:O=>j("priority",O),options:rg})}),a.jsx(J,{label:"Status",children:a.jsx(Re,{value:p.status,onChange:O=>j("status",O),options:uT})})]}),a.jsx(J,{label:"Notes",children:a.jsx(zl,{value:p.notes,onChange:O=>j("notes",O),placeholder:"Optional notes...",rows:2})}),a.jsxs("div",{className:"flex items-center justify-between",children:[r?a.jsx(br,{onClick:r}):a.jsx("div",{}),a.jsx(ma,{onCancel:t,onSubmit:B,submitLabel:"Update Goal",loading:S})]})]}):a.jsxs("div",{className:"space-y-5",children:[a.jsx("div",{className:"flex items-center gap-1 mb-2",children:sg.map((O,L)=>{const I=O.icon,V=L===m,A=L<m;return a.jsxs("div",{className:"flex items-center flex-1",children:[a.jsxs("button",{onClick:()=>{L<m&&x(L)},className:`flex items-center gap-1.5 text-xs font-semibold transition-colors ${V?"text-violet-400":A?"text-emerald-400 cursor-pointer":"text-[var(--text-dim)]"}`,children:[a.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold border ${V?"border-violet-400 bg-violet-500/15":A?"border-emerald-400 bg-emerald-500/15":"border-[var(--border)] bg-[var(--bg-inset)]"}`,children:A?a.jsx(Ul,{size:12}):a.jsx(I,{size:12})}),a.jsx("span",{className:"hidden sm:inline",children:O.label})]}),L<sg.length-1&&a.jsx("div",{className:`flex-1 h-px mx-2 ${A?"bg-emerald-400/40":"bg-[var(--border)]"}`})]},O.label)})}),m===0&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Tell us about your financial goal"}),a.jsx(J,{label:"Goal Type",required:!0,error:b.goalType,children:a.jsx(Re,{value:p.goalType,onChange:O=>j("goalType",O),options:ng,placeholder:"Select type..."})}),p.goalType&&a.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)]",children:[a.jsx(Al,{size:12,className:"text-[var(--text-dim)] shrink-0"}),a.jsxs("p",{className:"text-[11px] text-[var(--text-muted)]",children:["Default: ",Qc[p.goalType]?.inflation||6,"% inflation, ",Qc[p.goalType]?.cagr||12,"% CAGR",g&&"  Uses 25x annual expenses rule",w&&"  No inflation applied"]})]}),a.jsx(J,{label:"Goal Name",required:!0,error:b.goalName,children:a.jsx(be,{value:p.goalName,onChange:O=>j("goalName",O),placeholder:"e.g., Retirement Fund (2045)"})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Family Member",error:b.familyMemberId,children:a.jsx(Re,{value:p.familyMemberId,onChange:O=>j("familyMemberId",O),options:d,placeholder:"Family (Default)"})}),a.jsx(J,{label:"Priority",children:a.jsx(Re,{value:p.priority,onChange:O=>j("priority",O),options:rg})})]})]}),m===1&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:g?"Set your retirement timeline and monthly expenses":w?"Set your emergency fund requirements":"Set your target and investment plan"}),g||w?a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Target Date",required:!0,error:b.targetDate,children:a.jsx(Rn,{value:p.targetDate,onChange:O=>j("targetDate",O),maxDate:null})}),a.jsx(J,{label:"Monthly Expenses (Today)",required:!0,error:b.monthlyExpenses,children:a.jsx(be,{type:"number",value:p.monthlyExpenses,onChange:O=>j("monthlyExpenses",O),placeholder:"e.g., 50000"})}),w&&a.jsx(J,{label:"Emergency Fund (Months)",children:a.jsx(be,{type:"number",value:p.emergencyMonths,onChange:O=>j("emergencyMonths",O),placeholder:"6"})}),g&&a.jsx("div",{className:"sm:col-span-2",children:a.jsxs("p",{className:"text-[11px] text-[var(--text-dim)]",children:["Corpus = Monthly Expenses x 12 x 25 = ",G(D.todaysCost)," (today)"]})})]}):a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Target Date",required:!0,error:b.targetDate,children:a.jsx(Rn,{value:p.targetDate,onChange:O=>j("targetDate",O),maxDate:null})}),a.jsx(J,{label:"Today's Cost",required:!0,error:b.todaysCost,children:a.jsx(be,{type:"number",value:p.todaysCost,onChange:O=>j("todaysCost",O),placeholder:"e.g., 1000000"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(J,{label:`Inflation Rate (%)${w?"  N/A":""}`,children:a.jsx(be,{type:"number",value:p.inflation,onChange:O=>j("inflation",O),placeholder:"6"})}),a.jsx(J,{label:"Expected Returns (CAGR %)",children:a.jsx(be,{type:"number",value:p.cagr,onChange:O=>j("cagr",O),placeholder:"12"})})]}),D.hasTarget&&a.jsx(lg,{calc:D,inflation:p.inflation,isRetirement:g,isEmergency:w}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Lumpsum Investment (Optional)",children:a.jsx(be,{type:"number",value:p.lumpsum,onChange:O=>j("lumpsum",O),placeholder:"0"})}),a.jsx(J,{label:"Monthly SIP",children:a.jsx(be,{type:"number",value:p.monthlySIP,onChange:O=>j("monthlySIP",O),placeholder:"0"})})]}),D.hasTarget&&D.months>0&&a.jsx(ig,{calc:D,sip:p.monthlySIP,lumpsum:p.lumpsum}),a.jsx(J,{label:"Notes",children:a.jsx(zl,{value:p.notes,onChange:O=>j("notes",O),placeholder:"Optional notes...",rows:2})})]}),m===2&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Review your goal before saving"}),a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-4 space-y-3",children:[a.jsx(Na,{label:"Goal",value:p.goalName,bold:!0}),a.jsx(Na,{label:"Type",value:p.goalType,color:"violet"}),a.jsx(Na,{label:"Member",value:H}),a.jsx(Na,{label:"Priority",value:p.priority,badge:p.priority==="High"?"rose":p.priority==="Low"?"blue":"amber"}),a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3 space-y-2",children:[(g||w)&&a.jsx(Na,{label:"Monthly Expenses",value:G(Number(p.monthlyExpenses)||0)}),w&&a.jsx(Na,{label:"Emergency Months",value:p.emergencyMonths}),!g&&!w&&a.jsx(Na,{label:"Today's Cost",value:G(D.todaysCost)}),a.jsx(Na,{label:"Inflation",value:`${p.inflation}% p.a.`}),a.jsx(Na,{label:"Expected CAGR",value:`${p.cagr}% p.a.`}),a.jsx(Na,{label:"Future Value (Inflated)",value:G(D.inflatedTarget),bold:!0,color:"violet"})]}),a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3 space-y-2",children:[a.jsx(Na,{label:"Lumpsum",value:G(Number(p.lumpsum)||0)}),a.jsx(Na,{label:"Monthly SIP",value:`${G(Number(p.monthlySIP)||0)}/mo`,color:"emerald"}),a.jsx(Na,{label:"Target Date",value:p.targetDate}),a.jsx(Na,{label:"Time Remaining",value:D.yearsToGo>0?`${D.yearsToGo.toFixed(1)} years`:""})]})]}),D.hasTarget&&D.months>0&&D.hasInputs&&a.jsx(ig,{calc:D,sip:p.monthlySIP,lumpsum:p.lumpsum,compact:!0})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-[var(--border-light)]",children:[a.jsx("div",{children:m>0&&a.jsxs("button",{onClick:()=>x(O=>O-1),className:"flex items-center gap-1 px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx(by,{size:14})," Back"]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),m<2?a.jsxs("button",{onClick:_,className:"flex items-center gap-1 px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors",children:["Next ",a.jsx(Wi,{size:14})]}):a.jsx("button",{onClick:B,disabled:S,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:S?"Saving...":"Create Goal"})]})]})]})}function lg({calc:s,inflation:l,isRetirement:r,isEmergency:t}){return t?a.jsx("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-blue-500/5 border border-blue-500/15",children:a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Emergency Fund: ",a.jsx("span",{className:"font-bold text-[var(--text-primary)]",children:G(s.inflatedTarget)}),a.jsx("span",{className:"text-[var(--text-dim)]",children:" (no inflation applied)"})]})}):a.jsxs("div",{className:"flex items-center justify-between gap-2 px-3 py-2 rounded-lg bg-violet-500/5 border border-violet-500/15",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-semibold text-[var(--text-dim)] uppercase tracking-wider",children:r?"Corpus Today":"Today's Cost"}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-secondary)]",children:G(s.todaysCost)})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[l,"% x ",s.yearsToGo.toFixed(1),"yrs"]}),a.jsx(Wi,{size:12,className:"text-violet-400 mx-auto"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] font-semibold text-violet-400 uppercase tracking-wider",children:"Future Value"}),a.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)]",children:G(s.inflatedTarget)})]})]})}function ig({calc:s,sip:l,lumpsum:r,compact:t}){const o=Number(l)||0,u=Number(r)||0;return a.jsxs("div",{className:`rounded-lg border p-3 space-y-2 ${s.isOnTrack?"bg-emerald-500/5 border-emerald-500/20":"bg-amber-500/5 border-amber-500/20"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[s.isOnTrack?a.jsx(Ul,{size:12,className:"text-emerald-400"}):a.jsx(Es,{size:12,className:"text-amber-400"}),a.jsx("p",{className:`text-[10px] font-bold uppercase tracking-wider ${s.isOnTrack?"text-emerald-400":"text-amber-400"}`,children:s.isOnTrack?"On Track":"SIP May Be Insufficient"})]}),a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["@","0","CAGR assumed"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Required Monthly SIP"}),a.jsxs("span",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:[G(s.requiredSIP),"/mo"]})]}),!t&&s.hasInputs&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Projected Value"}),a.jsx("span",{className:`text-sm font-bold tabular-nums ${s.isOnTrack?"text-emerald-400":"text-amber-400"}`,children:G(s.projectedValue)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 h-1.5 bg-[var(--bg-card)] rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${s.isOnTrack?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${Math.min(s.pctOfTarget,100)}%`}})}),a.jsxs("span",{className:"text-xs font-bold tabular-nums text-[var(--text-primary)]",children:[Math.round(s.pctOfTarget),"%"]})]}),a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-2 space-y-1",children:[u>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-[11px] text-[var(--text-dim)]",children:["Lumpsum ",G(u)," grows to"]}),a.jsx("span",{className:"text-[11px] font-semibold text-emerald-400 tabular-nums",children:G(s.fvLumpsum)})]}),o>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-[11px] text-[var(--text-dim)]",children:["SIP ",G(o),"/mo x ",s.months," mo"]}),a.jsx("span",{className:"text-[11px] font-semibold text-blue-400 tabular-nums",children:G(s.fvSIP)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[11px] text-[var(--text-dim)]",children:"Total Invested"}),a.jsx("span",{className:"text-[11px] font-semibold text-[var(--text-primary)] tabular-nums",children:G(s.totalInvested)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[11px] text-[var(--text-dim)]",children:"Wealth Created"}),a.jsxs("span",{className:"text-[11px] font-semibold text-emerald-400 tabular-nums",children:["+",G(s.totalReturns)]})]})]})]})]})}function Na({label:s,value:l,bold:r,color:t,badge:o}){const u=t==="violet"?"text-violet-400":t==="emerald"?"text-emerald-400":"text-[var(--text-primary)]";if(o){const d=o==="rose"?"bg-rose-500/15 text-rose-400":o==="blue"?"bg-blue-500/15 text-blue-400":"bg-amber-500/15 text-amber-400";return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:s}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${d}`,children:l})]})}return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:s}),a.jsx("span",{className:`text-xs ${r?"font-bold text-sm":"font-semibold"} ${u}`,children:l})]})}function mT({goal:s,onClose:l}){const{mfPortfolios:r,goalPortfolioMappings:t,updateGoalMappings:o}=Ve(),u=r.filter(g=>g.status!=="Inactive"),d=N.useMemo(()=>t.filter(g=>g.goalId===s.goalId).map(g=>({portfolioId:g.portfolioId,allocationPct:g.allocationPct})),[t,s.goalId]),[m,x]=N.useState(d.length>0?d:[]),p=m.reduce((g,w)=>g+(w.allocationPct||0),0),v=p===100||m.length===0;function b(){const g=new Set(m.map(D=>D.portfolioId)),w=u.find(D=>!g.has(D.portfolioId));w&&x(D=>[...D,{portfolioId:w.portfolioId,allocationPct:0}])}function y(g){x(w=>w.filter((D,k)=>k!==g))}function S(g,w,D){x(k=>k.map((T,_)=>_===g?{...T,[w]:w==="allocationPct"?Math.max(0,Math.min(100,Number(D)||0)):D}:T))}function M(){o(s.goalId,m),l()}const j=m.reduce((g,w)=>{const D=u.find(k=>k.portfolioId===w.portfolioId);return g+(D?D.currentValue*w.allocationPct/100:0)},0);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Goal Target"}),a.jsx("span",{className:"text-sm font-bold text-[var(--text-primary)]",children:G(s.targetAmount)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Linked Portfolio Value"}),a.jsx("span",{className:"text-sm font-semibold text-emerald-400",children:G(j)})]})]}),m.length===0?a.jsxs("div",{className:"py-6 text-center",children:[a.jsx(pu,{size:24,className:"mx-auto mb-2 text-[var(--text-dim)]"}),a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"No portfolios linked to this goal"})]}):a.jsx("div",{className:"space-y-2",children:m.map((g,w)=>{const D=u.find(k=>k.portfolioId===g.portfolioId);return a.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("select",{value:g.portfolioId,onChange:k=>S(w,"portfolioId",k.target.value),className:"w-full px-2 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)]",children:u.map(k=>a.jsxs("option",{value:k.portfolioId,disabled:m.some((T,_)=>_!==w&&T.portfolioId===k.portfolioId),children:[k.portfolioName?.replace(/^PFL-/,"")||k.portfolioName,k.ownerName?` (${k.ownerName})`:"","  ",G(k.currentValue)]},k.portfolioId))}),D&&a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)] mt-1 px-1",children:["Contributes ",G(D.currentValue*g.allocationPct/100)," to this goal"]})]}),a.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[a.jsx("input",{type:"number",value:g.allocationPct,onChange:k=>S(w,"allocationPct",k.target.value),className:"w-16 px-2 py-1.5 text-xs text-center bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)]",min:"0",max:"100"}),a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"%"}),a.jsx("button",{onClick:()=>y(w),className:"p-1.5 text-[var(--text-dim)] hover:text-rose-400 rounded transition-colors",children:a.jsx(Ru,{size:12})})]})]},w)})}),m.length>0&&a.jsxs("div",{className:"flex items-center justify-between px-1",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Total Allocation"}),a.jsxs("span",{className:`text-xs font-bold ${p===100?"text-emerald-400":p>100?"text-rose-400":"text-amber-400"}`,children:[p,"%",p!==100&&a.jsx("span",{className:"font-normal text-[var(--text-dim)]",children:" (must be 100%)"})]})]}),m.length<u.length&&a.jsxs("button",{onClick:b,className:"flex items-center gap-1.5 text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[a.jsx(Zt,{size:14})," Link Portfolio"]}),a.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4 border-t border-[var(--border-light)]",children:[a.jsx("button",{onClick:l,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),a.jsx("button",{onClick:M,disabled:!v,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Save Mapping"})]})]})}function fT({goal:s,onClose:l}){const{goalPortfolioMappings:r,mfPortfolios:t,mfHoldings:o}=Ve(),u=N.useMemo(()=>{const m=r.filter(b=>b.goalId===s.goalId);if(m.length===0)return null;const x=m.map(b=>{const y=t.find(w=>w.portfolioId===b.portfolioId);if(!y)return null;const S=o.filter(w=>w.portfolioId===b.portfolioId&&w.units>0),M=S.reduce((w,D)=>w+D.currentValue,0),j=M*b.allocationPct/100,g=S.map(w=>{const D=M>0?w.currentValue/M:0,k=j*D,T=w.currentNav>0?k/w.currentNav:0,_=k-T*w.avgNav;return{fundName:w.fundName,currentValue:w.currentValue,withdrawValue:k,withdrawUnits:Math.min(T,w.units),currentNav:w.currentNav,taxableGain:_,availableUnits:w.units}}).filter(w=>w.withdrawValue>0);return{portfolioName:y.portfolioName,ownerName:y.ownerName,allocationPct:b.allocationPct,portfolioValue:M,linkedValue:j,fundWithdrawals:g}}).filter(Boolean),p=x.reduce((b,y)=>b+y.linkedValue,0),v=x.reduce((b,y)=>b+y.fundWithdrawals.reduce((S,M)=>S+M.taxableGain,0),0);return{portfolioDetails:x,totalLinked:p,totalTaxableGain:v}},[s,r,t,o]);if(!u)return a.jsxs("div",{className:"py-8 text-center space-y-2",children:[a.jsx(Es,{size:24,className:"mx-auto text-amber-400"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No portfolios linked to this goal"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Link portfolios first to generate a withdrawal plan"}),a.jsx("button",{onClick:l,className:"mt-2 px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})]});const d=s.targetAmount>0?u.totalLinked/s.targetAmount*100:0;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-4 space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Goal Target"}),a.jsx("span",{className:"text-sm font-bold text-[var(--text-primary)]",children:G(s.targetAmount)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Available from Linked Portfolios"}),a.jsx("span",{className:`text-sm font-bold ${u.totalLinked>=s.targetAmount?"text-emerald-400":"text-amber-400"}`,children:G(u.totalLinked)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-card)] rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${d>=100?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${Math.min(d,100)}%`}})}),a.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[d.toFixed(0),"%"]})]}),u.totalTaxableGain>0&&a.jsxs("div",{className:"flex items-center justify-between pt-1",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Estimated Taxable Gain"}),a.jsx("span",{className:"text-xs font-semibold text-amber-400",children:G(u.totalTaxableGain)})]})]}),u.portfolioDetails.map(m=>a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] overflow-hidden",children:[a.jsxs("div",{className:"px-4 py-2.5 bg-[var(--bg-card)] border-b border-[var(--border-light)] flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:m.portfolioName}),a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[m.ownerName,"  ",m.allocationPct,"% allocated to goal"]})]}),a.jsx("span",{className:"text-xs font-bold text-[var(--text-primary)]",children:G(m.linkedValue)})]}),a.jsx("div",{className:"px-4 py-2",children:a.jsxs("table",{className:"w-full text-xs",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-[var(--text-dim)]",children:[a.jsx("th",{className:"text-left py-1 font-medium",children:"Fund"}),a.jsx("th",{className:"text-right py-1 font-medium",children:"Units"}),a.jsx("th",{className:"text-right py-1 font-medium",children:"Amount"}),a.jsx("th",{className:"text-right py-1 font-medium",children:"Gain"})]})}),a.jsx("tbody",{children:m.fundWithdrawals.map(x=>a.jsxs("tr",{className:"border-t border-[var(--border-light)]",children:[a.jsx("td",{className:"py-1.5 text-[var(--text-secondary)] max-w-[180px] truncate",children:x.fundName}),a.jsx("td",{className:"py-1.5 text-right text-[var(--text-muted)] tabular-nums",children:x.withdrawUnits.toFixed(2)}),a.jsx("td",{className:"py-1.5 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:G(x.withdrawValue)}),a.jsx("td",{className:`py-1.5 text-right tabular-nums font-semibold ${x.taxableGain>=0?"text-emerald-400":"text-rose-400"}`,children:G(Math.abs(x.taxableGain))})]},x.fundName))})]})})]},m.portfolioName)),a.jsx("div",{className:"flex items-center justify-end gap-2 pt-4 border-t border-[var(--border-light)]",children:a.jsx("button",{onClick:l,className:"px-5 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})})]})}const og={"On Track":"bg-blue-500/15 text-[var(--accent-blue)]","Needs Attention":"bg-amber-500/15 text-[var(--accent-amber)]",Achieved:"bg-emerald-500/15 text-emerald-400",Paused:"bg-slate-500/15 text-[var(--text-muted)]"},pT={High:"bg-rose-500/15 text-[var(--accent-rose)]",Medium:"bg-amber-500/15 text-[var(--accent-amber)]",Low:"bg-blue-500/15 text-[var(--accent-blue)]"},cg={"On Track":"bg-blue-500","Needs Attention":"bg-amber-500",Achieved:"bg-emerald-500",Paused:"bg-slate-500"};function xT(){const{selectedMember:s,member:l}=Jt(),{goalList:r,addGoal:t,updateGoal:o,deleteGoal:u,goalPortfolioMappings:d}=Ve(),{showToast:m,showBlockUI:x,hideBlockUI:p}=Ln(),v=Pn(),[b,y]=N.useState(null),[S,M]=N.useState(null),[j,g]=N.useState(null),[w,D]=N.useState(null),k=N.useRef(new Set),T=N.useMemo(()=>{if(!r)return[];const U=r.filter(z=>z.isActive!==!1);return s==="all"?U:U.filter(z=>z.familyMemberId===s)},[r,s]),_=T.reduce((U,z)=>U+(z.targetAmount||0),0),B=T.reduce((U,z)=>U+(z.currentValue||0),0),H=T.reduce((U,z)=>U+(z.monthlyInvestment||0),0),O=_>0?B/_*100:0,L=T.filter(U=>U.status==="Needs Attention").length,I=T.filter(U=>U.status==="Achieved").length;if(N.useEffect(()=>{const U=new Set(T.filter(W=>W.status==="Achieved").map(W=>W.goalId)),z=k.current;for(const W of U)if(!z.has(W)){const R=T.find(ne=>ne.goalId===W);R&&(D(R),setTimeout(()=>D(null),5e3))}k.current=U},[T]),r===null)return a.jsx(gr,{title:"Loading goals",cards:5});async function V(U){x("Saving...");try{b?.edit?await o(b.edit.goalId,U):await t(U),m(b?.edit?"Goal updated":"Goal added"),y(null)}catch(z){m(z.message||"Failed to save goal","error")}finally{p()}}async function A(){if(b?.edit&&await v("Delete this goal?",{title:"Delete Goal",confirmLabel:"Delete"})){x("Deleting...");try{await u(b.edit.goalId),m("Goal deleted"),y(null)}catch(U){m(U.message||"Failed to delete goal","error")}finally{p()}}}function se(U){return!U.targetAmount||U.targetAmount===0?0:Math.min((U.currentValue||0)/U.targetAmount*100,100)}function oe(U){if(!U.targetDate)return null;const W=(new Date(U.targetDate)-new Date)/(365.25*24*60*60*1e3);return W>0?W.toFixed(1):"0"}return a.jsxs("div",{className:"space-y-4",children:[T.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(lo,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No goals set",l?` for ${l.memberName}`:""]}),a.jsx("button",{onClick:()=>y("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first goal"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[a.jsx(Nl,{label:"Goals",value:T.length,sub:I>0?`${I} achieved`:void 0}),a.jsx(Nl,{label:"Target",value:G(_),bold:!0}),a.jsx(Nl,{label:"Current Value",value:G(B),bold:!0}),a.jsx(Nl,{label:"Total Gap",value:G(Math.max(_-B,0)),sub:_>B?"remaining to target":"all targets met",positive:_<=B,bold:!0}),a.jsx(Nl,{label:"Overall Progress",value:`${O.toFixed(1)}%`,positive:O>=50,bold:!0}),a.jsx(Nl,{label:"Monthly SIP",value:G(H),sub:L>0?`${L} need attention`:void 0})]}),w&&a.jsxs("div",{className:"relative bg-gradient-to-r from-emerald-500/10 via-yellow-500/10 to-emerald-500/10 rounded-xl border border-emerald-500/30 px-4 py-3 flex items-center gap-3 animate-fade-in overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:20}).map((U,z)=>a.jsx("span",{className:"absolute text-sm animate-confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*2}s`},children:["","","","",""][z%5]},z))}),a.jsx(z0,{size:20,className:"text-yellow-400 shrink-0 relative z-10"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-sm font-bold text-emerald-400",children:"Goal Achieved!"}),a.jsxs("p",{className:"text-xs text-[var(--text-secondary)]",children:[w.goalName,"  Congratulations!"]})]}),a.jsx("button",{onClick:()=>D(null),className:"ml-auto text-xs text-[var(--text-dim)] hover:text-[var(--text-primary)] relative z-10",children:"Dismiss"})]}),I>0&&a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-emerald-500/20 p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(z0,{size:14,className:"text-yellow-400"}),a.jsx("p",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Achieved Goals"})]}),a.jsx("div",{className:"flex gap-3 overflow-x-auto no-scrollbar pb-1",children:T.filter(U=>U.status==="Achieved").map(U=>a.jsxs("div",{className:"shrink-0 bg-emerald-500/10 border border-emerald-500/20 rounded-lg px-3 py-2 min-w-[160px]",children:[a.jsx("p",{className:"text-xs font-semibold text-emerald-400",children:U.goalName}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] mt-1",children:G(U.targetAmount)}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5",children:U.familyMemberName})]},U.goalId))})]}),a.jsx("div",{className:"flex items-center justify-end gap-2 px-1",children:a.jsxs("button",{onClick:()=>y("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Zt,{size:14})," Add Goal"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden lg:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Goal"}),!l&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsxs("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"Amount"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Target"})]}),a.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider min-w-[120px]",children:"Progress"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Monthly SIP"}),a.jsxs("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"Timeline"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Years Left"})]}),a.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:T.map(U=>{const z=se(U),W=oe(U);return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:U.goalName}),a.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${pT[U.priority]||""}`,children:U.priority}),U.notes&&a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:U.notes})]})]}),!l&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:U.familyMemberName}),a.jsxs("td",{className:"py-2.5 px-3 text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(U.currentValue)}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:G(U.targetAmount)})]}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-inset)] rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${cg[U.status]||"bg-blue-500"}`,style:{width:`${z}%`}})}),a.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums w-10 text-right",children:[z.toFixed(0),"%"]})]})}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(U.monthlyInvestment)}),a.jsx("td",{className:"py-2.5 px-3 text-center text-xs text-[var(--text-muted)] tabular-nums",children:U.status==="Achieved"?"Done":W?`${W} yrs`:""}),a.jsx("td",{className:"py-2.5 px-3 text-center",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${og[U.status]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:U.status})}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsxs("div",{className:"flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition-all",children:[a.jsx("button",{onClick:()=>g(U),className:"p-1 rounded text-[var(--text-dim)] hover:text-emerald-400 transition-colors",title:"Withdrawal plan",children:a.jsx(gy,{size:12})}),a.jsx("button",{onClick:()=>M(U),className:"p-1 rounded text-[var(--text-dim)] hover:text-violet-400 transition-colors",title:"Link portfolios",children:a.jsx(pu,{size:12})}),a.jsx("button",{onClick:()=>y({edit:U}),className:"p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-colors",children:a.jsx(pn,{size:12})})]})})]},U.goalId)})})]})}),a.jsx("div",{className:"lg:hidden divide-y divide-[var(--border-light)]",children:T.map(U=>{const z=se(U),W=oe(U);return a.jsxs("div",{onClick:()=>y({edit:U}),className:"px-4 py-4 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:U.goalName}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsxs("span",{className:"text-xs text-[var(--text-muted)]",children:[U.familyMemberName,"  SIP ",G(U.monthlyInvestment),"/mo"]}),d.filter(R=>R.goalId===U.goalId).length>0&&a.jsxs("span",{className:"text-[10px] font-semibold text-violet-400 flex items-center gap-0.5",children:[a.jsx(pu,{size:9}),d.filter(R=>R.goalId===U.goalId).length]})]})]}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${og[U.status]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:U.status})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-inset)] rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${cg[U.status]||"bg-blue-500"}`,style:{width:`${z}%`}})}),a.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[z.toFixed(0),"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-xs text-[var(--text-muted)]",children:[G(U.currentValue)," ",a.jsx("span",{className:"text-[var(--text-dim)]",children:"of"})," ",G(U.targetAmount)]}),a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:U.status==="Achieved"?"Done":W?`${W} yrs left`:""})]})]},U.goalId)})})]})]}),a.jsx(At,{open:!!b,onClose:()=>y(null),title:b?.edit?"Edit Goal":"Add Goal",wide:!0,children:a.jsx(dT,{initial:b?.edit||void 0,onSave:V,onDelete:b?.edit?A:void 0,onCancel:()=>y(null)})}),a.jsx(At,{open:!!S,onClose:()=>M(null),title:`Link Portfolios  ${S?.goalName||""}`,wide:!0,children:S&&a.jsx(mT,{goal:S,onClose:()=>M(null)})}),a.jsx(At,{open:!!j,onClose:()=>g(null),title:`Withdrawal Plan  ${j?.goalName||""}`,wide:!0,children:j&&a.jsx(fT,{goal:j,onClose:()=>g(null)})})]})}function Nl({label:s,value:l,sub:r,positive:t,bold:o}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:`text-sm tabular-nums ${o?"font-bold":"font-semibold"} ${t===void 0?"text-[var(--text-primary)]":t?"text-emerald-400":"text-[var(--accent-amber)]"}`,children:l}),r&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:r})]})}const hT=[{label:"Reports & Transactions",desc:"View transaction history",icon:jy,path:"/reports",color:"bg-blue-500/15 text-[var(--accent-blue)]"},{label:"Reminders",desc:"View and manage reminders",icon:Ou,path:"/reminders",color:"bg-amber-500/15 text-[var(--accent-amber)]"},{label:"Health Check",desc:"Financial health questionnaire",icon:Rf,path:"/health-check",color:"bg-emerald-500/15 text-emerald-400"},{label:"Settings",desc:"App configuration",icon:op,path:"/settings",color:"bg-slate-500/15 text-[var(--text-muted)]"},{label:"About",desc:"Capital Friends v2.0",icon:M5,path:"/about",color:"bg-violet-500/15 text-[var(--accent-violet)]"},{label:"Support Developer",desc:"UPI: jagadeeshmanne.hdfc@kphdfc",icon:fu,path:"/about",color:"bg-pink-500/15 text-pink-400"}];function vT(){const s=Rs();return a.jsxs("div",{className:"space-y-4",children:[a.jsx("h1",{className:"text-base font-bold text-[var(--text-primary)]",children:"More"}),a.jsx("div",{className:"space-y-2",children:hT.map(l=>a.jsxs("button",{onClick:()=>s(l.path),className:"w-full flex items-center gap-3 bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center shrink-0 ${l.color}`,children:a.jsx(l.icon,{size:18})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:l.label}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:l.desc})]})]},l.label))})]})}const Kc=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function bT(){const s=Rs(),{theme:l,toggle:r}=my(),{members:t,settings:o,updateSettings:u,updateMember:d,healthCheckCompleted:m}=Ve(),{user:x,signOut:p}=Is(),{masked:v,toggleMask:b,mv:y}=zn(),S=t.filter(U=>U.status==="Active"),[M,j]=N.useState("Daily"),[g,w]=N.useState("09"),[D,k]=N.useState("Monday"),[T,_]=N.useState(!1),[B,H]=N.useState(!1),[O,L]=N.useState(!1),[I,V]=N.useState(null);N.useEffect(()=>{!o||!Object.keys(o).length||(o.EmailFrequency&&j(o.EmailFrequency),o.EmailHour!=null&&w(String(o.EmailHour).padStart(2,"0")),o.EmailDayOfWeek!=null&&k(Kc[Number(o.EmailDayOfWeek)]||"Monday"))},[o]);async function A(){_(!0),H(!1);try{const U=Kc.indexOf(D);await u({EmailFrequency:M==="None"?"None":M,EmailConfigured:M==="None"?"FALSE":"TRUE",EmailHour:String(parseInt(g,10)),EmailMinute:"0",EmailDayOfWeek:String(U>=0?U:1)}),H(!0),setTimeout(()=>H(!1),2e3)}catch(U){alert("Failed to save: "+U.message)}finally{_(!1)}}async function se(){L(!0),V(null);try{const U=await fS();V(U)}catch(U){V({error:U.message})}finally{L(!1)}}function oe(U){if(!U)return"Never";try{const z=new Date(U);if(isNaN(z.getTime()))return"Unknown";const W=Date.now(),R=Math.floor((W-z.getTime())/(1e3*60));if(R<1)return"Just now";if(R<60)return R+" min ago";const ne=Math.floor(R/60);return ne<24?ne+"h ago":z.toLocaleDateString("en-IN",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}catch{return"Unknown"}}return a.jsxs("div",{className:"space-y-4 max-w-xl mx-auto",children:[a.jsxs(ys,{children:[a.jsx(Ns,{icon:a.jsx(xC,{size:14}),title:"Account"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(Ia,{label:"Signed in as",children:a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate max-w-[200px]",children:y(x?.email,"email")||""})}),a.jsx(Ia,{label:"Name",children:a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:x?.name||""})}),a.jsx("div",{className:"pt-1",children:a.jsxs("button",{onClick:p,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-red-500 border border-red-200 dark:border-red-800/40 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[a.jsx(Dy,{size:12}),"Sign Out"]})})]})]}),a.jsxs(ys,{children:[a.jsx(Ns,{icon:a.jsx(Rf,{size:14}),title:"Financial Health Check"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(Ia,{label:"Status",children:a.jsx("span",{className:`text-xs font-semibold ${m?"text-emerald-400":"text-[var(--accent-amber)]"}`,children:m?"Completed":"Not completed"})}),a.jsx("div",{className:"flex justify-end pt-1",children:a.jsxs("button",{onClick:()=>s("/health-check"),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-lg border border-[var(--border)] text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx(Rf,{size:12}),m?"Update Answers":"Take Health Check"]})})]})]}),a.jsxs(ys,{children:[a.jsx(Ns,{icon:a.jsx(c5,{size:14}),title:"Data & Sync"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(Ia,{label:"Last synced",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:oe(o.masterDataLastSync)}),o._stale&&a.jsx("span",{className:"text-[10px] font-bold text-amber-600 px-1.5 py-0.5 rounded bg-amber-100 dark:bg-amber-900/30",children:"STALE"})]})}),o._navDataDate&&a.jsx(Ia,{label:"NAV data as of",children:a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:o._navDataDate})}),a.jsx(Ia,{label:"Auto-refresh",children:a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Daily at ~6:30 AM"})}),a.jsxs("div",{className:"flex items-center justify-between pt-1",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Refresh MF NAVs, ATH & Stock prices"}),a.jsxs("button",{onClick:se,disabled:O,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-lg bg-violet-600 text-white hover:bg-violet-500 transition-colors disabled:opacity-50",children:[a.jsx(Ml,{size:12,className:O?"animate-spin":""}),O?"Refreshing...":"Refresh Now"]})]}),I&&a.jsx("div",{className:`text-xs px-3 py-2 rounded-lg ${I.error?"bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400":"bg-green-50 text-green-600 dark:bg-green-900/20 dark:text-green-400"}`,children:I.error?"Failed: "+I.error:`Done  MF: ${I.mf?.count||0} | ATH: ${I.ath?.count||0} | Stocks: ${I.stocks?.count||0} (${I.duration})`})]})]}),a.jsxs(ys,{children:[a.jsx(Ns,{icon:a.jsx(Of,{size:14}),title:"Appearance"}),a.jsx("div",{className:"px-4 py-4",children:a.jsx(Ia,{label:"Theme",children:a.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-3 py-1.5 text-xs font-semibold rounded-lg border border-[var(--border)] bg-[var(--bg-inset)] text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[l==="dark"?a.jsx(My,{size:12}):a.jsx(Of,{size:12}),l==="dark"?"Dark":"Light"]})})})]}),a.jsxs(ys,{children:[a.jsx(Ns,{icon:a.jsx(F5,{size:14}),title:"Email Reports"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(Ia,{label:"Frequency",children:a.jsx(Af,{value:M,onChange:j,options:["Daily","Weekly","Monthly","None"]})}),M!=="None"&&a.jsx(Ia,{label:"Send time",children:a.jsx(Af,{value:g,onChange:w,options:Array.from({length:24},(U,z)=>String(z).padStart(2,"0")),suffix:":00"})}),M==="Weekly"&&a.jsx(Ia,{label:"Day",children:a.jsx(Af,{value:D,onChange:k,options:Kc.slice(1).concat(Kc[0])})}),a.jsx("div",{className:"flex justify-end pt-1",children:a.jsx("button",{onClick:A,disabled:T,className:"px-4 py-1.5 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50",children:T?"Saving...":B?"Saved!":"Save"})}),S.length>0&&a.jsx(a.Fragment,{children:a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"Send report to"}),a.jsx("div",{className:"space-y-2",children:S.map(U=>a.jsx(gT,{member:U,onToggle:d},U.memberId))})]})}),S.length===0&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] pt-1",children:"Add family members to configure email recipients."})]})]}),a.jsxs(ys,{children:[a.jsx(Ns,{icon:a.jsx(au,{size:14}),title:"Privacy"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(Ia,{label:"Mask sensitive data",children:a.jsx("button",{onClick:b,className:`relative w-9 h-5 rounded-full transition-colors shrink-0 ${v?"bg-amber-500":"bg-[var(--bg-inset)] border border-[var(--border)]"}`,children:a.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full transition-all ${v?"left-[18px] bg-white":"left-0.5 bg-[var(--text-dim)]"}`})})}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[v?"Sensitive data is hidden. ":"","Masks PAN, Aadhaar, mobile, email, account numbers, client IDs, and policy numbers across the app. Use the ",v?a.jsx(au,{size:11,className:"inline text-amber-400"}):a.jsx(ip,{size:11,className:"inline"})," icon in the header to quickly toggle."]}),v&&a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[a.jsx(au,{size:14,className:"text-amber-400 shrink-0"}),a.jsx("p",{className:"text-xs text-amber-400 font-medium",children:"Data masking is active  safe for screen sharing"})]})]})]}),a.jsxs(ys,{children:[a.jsx(Ns,{icon:a.jsx(w5,{size:14}),title:"Display"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(Ia,{label:"Currency",children:a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"INR ()"})}),a.jsx(Ia,{label:"Date format",children:a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"DD/MM/YYYY"})})]})]})]})}function ys({children:s}){return a.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:s})}function Ns({icon:s,title:l}){return a.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[var(--text-muted)]",children:s}),a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:l})]})})}function Ia({label:s,children:l}){return a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] shrink-0",children:s}),l]})}function Af({value:s,onChange:l,options:r,suffix:t}){return a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:s,onChange:o=>l(o.target.value),className:"appearance-none pl-3 pr-7 py-1.5 text-xs font-semibold bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-violet-500 cursor-pointer",children:r.map(o=>a.jsxs("option",{value:o,children:[o,t||""]},o))}),a.jsx(dr,{size:10,className:"absolute right-2 top-1/2 -translate-y-1/2 text-[var(--text-dim)] pointer-events-none"})]})}function gT({member:s,onToggle:l}){const{mv:r}=zn(),t=s.includeInEmailReports==="Yes"||s.includeInEmailReports===!0,[o,u]=N.useState(!1);async function d(){u(!0);try{await l(s.memberId,{...s,includeInEmailReports:t?"No":"Yes"})}catch{}finally{u(!1)}}return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-violet-100 dark:bg-violet-900/30 flex items-center justify-center shrink-0",children:a.jsx("span",{className:"text-[10px] font-bold text-violet-600",children:s.memberName?.charAt(0)?.toUpperCase()})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate",children:r(s.memberName,"name")}),s.email&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] truncate",children:r(s.email,"email")})]})]}),a.jsx("button",{onClick:d,disabled:o,className:`relative w-9 h-5 rounded-full transition-colors shrink-0 disabled:opacity-50 ${t?"bg-violet-500":"bg-[var(--bg-inset)] border border-[var(--border)]"}`,children:a.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full transition-all ${t?"left-[18px] bg-white":"left-0.5 bg-[var(--text-dim)]"}`})})]})}const yT=["SIP Due Date","Insurance Renewal","FD Maturity","Loan EMI","Investment Review","Custom"].map(s=>({value:s,label:s})),NT=[{value:"One-time",label:"One-time"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"},{value:"Yearly",label:"Yearly"}],jT=[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}];function wT({initial:s,onSave:l,onDelete:r,onCancel:t}){const o=!!s,{activeMembers:u}=Ve(),d=u.map(g=>({value:g.memberId,label:g.memberName})),[m,x]=N.useState({reminderType:s?.reminderType||"",title:s?.title||"",description:s?.description||"",familyMemberId:s?.familyMemberId||"",dueDate:s?.dueDate||"",advanceNoticeDays:s?.advanceNoticeDays?.toString()||"7",frequency:s?.frequency||"One-time",priority:s?.priority||"Medium",status:s?.status||"Pending"}),[p,v]=N.useState({}),[b,y]=N.useState(!1);function S(g,w){x(D=>({...D,[g]:w})),v(D=>({...D,[g]:void 0}))}function M(){const g={};return m.reminderType||(g.reminderType="Required"),m.title.trim()||(g.title="Required"),m.familyMemberId||(g.familyMemberId="Required"),m.dueDate||(g.dueDate="Required"),v(g),Object.keys(g).length===0}async function j(){if(M()){y(!0);try{await l({...m,advanceNoticeDays:Number(m.advanceNoticeDays)||7})}finally{y(!1)}}}return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Reminder Type",required:!0,error:p.reminderType,children:a.jsx(Re,{value:m.reminderType,onChange:g=>S("reminderType",g),options:yT,placeholder:"Select type..."})}),a.jsx(J,{label:"Title",required:!0,error:p.title,children:a.jsx(be,{value:m.title,onChange:g=>S("title",g),placeholder:"e.g., HDFC SIP Due"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Family Member",required:!0,error:p.familyMemberId,children:a.jsx(Re,{value:m.familyMemberId,onChange:g=>S("familyMemberId",g),options:d,placeholder:"Select member..."})}),a.jsx(J,{label:"Due Date",required:!0,error:p.dueDate,children:a.jsx(Rn,{value:m.dueDate,onChange:g=>S("dueDate",g),maxDate:null})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(J,{label:"Frequency",children:a.jsx(Re,{value:m.frequency,onChange:g=>S("frequency",g),options:NT})}),a.jsx(J,{label:"Priority",children:a.jsx(Re,{value:m.priority,onChange:g=>S("priority",g),options:jT})}),a.jsx(J,{label:"Advance Notice (days)",children:a.jsx(be,{type:"number",value:m.advanceNoticeDays,onChange:g=>S("advanceNoticeDays",g),placeholder:"7"})})]}),o&&a.jsx(J,{label:"Status",children:a.jsx(Re,{value:m.status,onChange:g=>S("status",g),options:[{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"}]})}),a.jsx(J,{label:"Description",children:a.jsx(zl,{value:m.description,onChange:g=>S("description",g),placeholder:"Optional details...",rows:2})}),a.jsxs("div",{className:"flex items-center justify-between",children:[o&&r?a.jsx(br,{onClick:r,label:"Delete"}):a.jsx("div",{}),a.jsx(ma,{onCancel:t,onSubmit:j,submitLabel:o?"Update Reminder":"Add Reminder",loading:b})]})]})}const Xc={"SIP Due Date":"bg-violet-500/15 text-[var(--accent-violet)]","Insurance Renewal":"bg-amber-500/15 text-[var(--accent-amber)]","FD Maturity":"bg-blue-500/15 text-[var(--accent-blue)]","Loan EMI":"bg-rose-500/15 text-[var(--accent-rose)]","Investment Review":"bg-emerald-500/15 text-emerald-400",Custom:"bg-slate-500/15 text-[var(--text-muted)]"},ug={High:"bg-rose-500",Medium:"bg-amber-500",Low:"bg-blue-500"};function jl(s){if(!s)return 1/0;const l=new Date(s)-new Date;return Math.ceil(l/(1440*60*1e3))}function ST(){const{selectedMember:s,member:l}=Jt(),{reminderList:r,addReminder:t,updateReminder:o,deleteReminder:u}=Ve(),{showToast:d,showBlockUI:m,hideBlockUI:x}=Ln(),p=Pn(),[v,b]=N.useState(null),y=N.useMemo(()=>{const T=r.filter(_=>_.isActive!==!1);return s==="all"?T:T.filter(_=>_.familyMemberId===s)},[r,s]),S=y.filter(T=>jl(T.dueDate)<0).length,M=y.filter(T=>{const _=jl(T.dueDate);return _>=0&&_<=7}).length,j=y.filter(T=>{const _=jl(T.dueDate);return _>7&&_<=30}).length,g=[...y].sort((T,_)=>{const B=jl(T.dueDate),H=jl(_.dueDate);return B-H});async function w(T){m("Saving...");try{v?.edit?await o(v.edit.reminderId,T):await t(T),d(v?.edit?"Reminder updated":"Reminder added"),b(null)}catch(_){d(_.message||"Failed to save reminder","error")}finally{x()}}async function D(){if(v?.edit&&await p("Delete this reminder?",{title:"Delete Reminder",confirmLabel:"Delete"})){m("Deleting...");try{await u(v.edit.reminderId),d("Reminder deleted"),b(null)}catch(T){d(T.message||"Failed to delete reminder","error")}finally{x()}}}function k(T){const _=jl(T);return _<0?{label:`${Math.abs(_)}d overdue`,cls:"bg-rose-500/20 text-[var(--accent-rose)]"}:_===0?{label:"Today",cls:"bg-rose-500/20 text-[var(--accent-rose)]"}:_<=7?{label:`${_}d`,cls:"bg-amber-500/20 text-[var(--accent-amber)]"}:_<=30?{label:`${_}d`,cls:"bg-blue-500/20 text-[var(--accent-blue)]"}:{label:`${_}d`,cls:"bg-slate-500/20 text-[var(--text-muted)]"}}return a.jsxs("div",{className:"space-y-4",children:[y.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(FS,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No reminders",l?` for ${l.memberName}`:""]}),a.jsx("button",{onClick:()=>b("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add a reminder"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(Wc,{label:"Active",value:y.length}),S>0&&a.jsx(Wc,{label:"Overdue",value:S,color:"rose"}),M>0&&a.jsx(Wc,{label:"Due This Week",value:M,color:"amber"}),a.jsx(Wc,{label:"Next 30 Days",value:j})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>b("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Zt,{size:14})," Add Reminder"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[680px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Reminder"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),!l&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Due Date"}),a.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Frequency"}),a.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:g.map(T=>{const _=k(T.dueDate);return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${ug[T.priority]||"bg-slate-400"}`}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:T.title}),T.description&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] truncate max-w-[200px]",children:T.description})]})]})}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${Xc[T.reminderType]||Xc.Custom}`,children:T.reminderType})}),!l&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:T.familyMemberName}),a.jsx("td",{className:"py-2.5 px-3 text-center",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:T.dueDate}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${_.cls}`,children:_.label})]})}),a.jsx("td",{className:"py-2.5 px-3 text-center text-xs text-[var(--text-muted)]",children:T.frequency}),a.jsx("td",{className:"py-2.5 px-3 text-center",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${T.status==="Pending"?"bg-amber-500/15 text-[var(--accent-amber)]":"bg-emerald-500/15 text-emerald-400"}`,children:T.status})}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>b({edit:T}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(pn,{size:12})})})]},T.reminderId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:g.map(T=>{const _=k(T.dueDate);return a.jsxs("div",{onClick:()=>b({edit:T}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${ug[T.priority]||"bg-slate-400"}`}),a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:T.title})]}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ml-2 ${Xc[T.reminderType]||Xc.Custom}`,children:T.reminderType})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[T.familyMemberName,"  ",T.frequency]}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${_.cls}`,children:_.label})]})]},T.reminderId)})})]})]}),a.jsx(At,{open:!!v,onClose:()=>b(null),title:v?.edit?"Edit Reminder":"Add Reminder",wide:!0,children:a.jsx(wT,{initial:v?.edit||void 0,onSave:w,onDelete:v?.edit?D:void 0,onCancel:()=>b(null)})})]})}function Wc({label:s,value:l,color:r}){const t=r==="rose"?"text-[var(--accent-rose)]":r==="amber"?"text-[var(--accent-amber)]":"text-[var(--text-primary)]";return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:`text-sm font-bold tabular-nums ${t}`,children:l})]})}const dg={BUY:"bg-emerald-500/15 text-emerald-400",SELL:"bg-rose-500/15 text-[var(--accent-rose)]"},CT={INITIAL:"bg-violet-500/15 text-[var(--accent-violet)]",SIP:"bg-blue-500/15 text-[var(--accent-blue)]",LUMPSUM:"bg-emerald-500/15 text-emerald-400",WITHDRAWAL:"bg-amber-500/15 text-[var(--accent-amber)]",SWITCH:"bg-orange-500/15 text-[var(--accent-orange)]"};function kT(){const{selectedMember:s}=Jt(),{mfTransactions:l,mfPortfolios:r,stockTransactions:t,stockPortfolios:o}=Ve(),[u,d]=N.useState("mf"),[m,x]=N.useState("all"),p=N.useMemo(()=>{let j=[...l].sort((g,w)=>new Date(w.date)-new Date(g.date));if(s!=="all"){const g=new Set(r.filter(w=>w.ownerId===s).map(w=>w.portfolioId));j=j.filter(w=>g.has(w.portfolioId))}return m!=="all"&&(j=j.filter(g=>g.type===m)),j},[l,r,s,m]),v=N.useMemo(()=>{let j=[...t].sort((g,w)=>new Date(w.date)-new Date(g.date));if(s!=="all"){const g=new Set(o.filter(w=>w.ownerId===s).map(w=>w.portfolioId));j=j.filter(w=>g.has(w.portfolioId))}return m!=="all"&&(j=j.filter(g=>g.type===m)),j},[t,o,s,m]),b=u==="mf"?p:v,y=b.filter(j=>j.type==="BUY").reduce((j,g)=>j+(g.totalAmount||0),0),S=b.filter(j=>j.type==="SELL").reduce((j,g)=>j+(g.totalAmount||0),0),M=b.reduce((j,g)=>j+(g.gainLoss||g.realizedPL||0),0);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(Zc,{label:"Transactions",value:b.length}),a.jsx(Zc,{label:"Total Bought",value:G(y)}),a.jsx(Zc,{label:"Total Sold",value:G(S)}),a.jsx(Zc,{label:"Realized P&L",value:`${M>=0?"+":""}${G(Math.abs(M))}`,positive:M>=0,bold:!0})]}),a.jsxs("div",{className:"flex items-center justify-between px-1",children:[a.jsx("div",{className:"flex gap-1",children:["mf","stocks"].map(j=>a.jsx("button",{onClick:()=>d(j),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${u===j?"bg-violet-500/20 text-violet-400 border border-violet-500/30":"text-[var(--text-dim)] hover:text-[var(--text-primary)] border border-transparent"}`,children:j==="mf"?"Mutual Funds":"Stocks"},j))}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(wy,{size:12,className:"text-[var(--text-dim)]"}),["all","BUY","SELL"].map(j=>a.jsx("button",{onClick:()=>x(j),className:`px-2 py-1 text-xs font-semibold rounded transition-colors ${m===j?"bg-[var(--bg-card)] text-[var(--text-primary)] border border-[var(--border)]":"text-[var(--text-dim)] hover:text-[var(--text-muted)]"}`,children:j==="all"?"All":j},j))]})]}),a.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:b.length===0?a.jsxs("div",{className:"py-12 flex flex-col items-center gap-3",children:[a.jsx(jy,{size:32,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions found"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:u==="mf"?"Fund":"Stock"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Portfolio"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:u==="mf"?"Units":"Qty"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:u==="mf"?"NAV":"Price"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"})]})}),a.jsx("tbody",{children:b.map(j=>{const g=j.gainLoss||j.realizedPL||0;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-muted)] tabular-nums",children:j.date}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${dg[j.type]||""}`,children:j.type}),j.transactionType&&a.jsx("span",{className:`text-[10px] font-semibold px-1 py-0.5 rounded ${CT[j.transactionType]||""}`,children:j.transactionType})]})}),a.jsxs("td",{className:"py-2.5 px-3",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate max-w-[180px]",children:j.fundName||j.companyName}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:j.fundCode||j.symbol})]}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)]",children:j.portfolioName||""}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:(j.units||j.quantity||0).toFixed(u==="mf"?2:0)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:G(j.price||j.pricePerShare||0)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(j.totalAmount||0)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:g!==0?a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${g>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[g>=0?"+":"",G(Math.abs(g))]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})]},j.transactionId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(j=>(j.gainLoss||j.realizedPL,a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:j.fundName||j.companyName}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded shrink-0 ${dg[j.type]||""}`,children:j.type})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[j.date,"  ",j.portfolioName]}),a.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[a.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[(j.units||j.quantity||0).toFixed(u==="mf"?2:0)," @ ",G(j.price||j.pricePerShare||0)]}),a.jsx("span",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:G(j.totalAmount||0)})]})]},j.transactionId)))})]})})]})}function Zc({label:s,value:l,positive:r,bold:t}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:s}),a.jsx("p",{className:`text-sm tabular-nums ${t?"font-bold":"font-semibold"} ${r===void 0?"text-[var(--text-primary)]":r?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:l})]})}const Sn=[{id:"healthIns",question:"Does your family have Health Insurance?",tip:"50L to 1Cr family floater recommended (considering inflation & future expenses)",category:"Insurance"},{id:"termLife",question:"Do you have adequate Term Life Insurance?",tip:"Recommended: 10-15x annual income",category:"Insurance"},{id:"emergencyFund",question:"Do you have an Emergency Fund?",tip:"6-12 months of monthly expenses in liquid assets",category:"Savings"},{id:"familyAware",question:"Is your family aware of all investments?",tip:"Ensure nominees and family know about all assets",category:"Planning"},{id:"hasWill",question:"Do you have a Will?",tip:"Legal document for asset distribution",category:"Planning"},{id:"nominees",question:"Have you updated Nominees on all accounts?",tip:"Bank, demat, insurance, MF  all should have nominees",category:"Planning"},{id:"goals",question:"Do you have clearly defined Financial Goals?",tip:"Retirement, education, home  with target amounts and dates",category:"Goals"}];function DT(){const s=Rs(),{members:l,insurancePolicies:r,goalList:t,otherInvList:o,healthCheckCompleted:u,completeHealthCheck:d}=Ve(),m=l.filter(I=>I.status==="Active"),x=u===!1,[p,v]=N.useState(!1),[b,y]=N.useState(!0),[S,M]=N.useState(null),j=N.useMemo(()=>{const I={},V=r.filter(U=>U.policyType==="Health"&&U.status==="Active");I.healthIns=V.length>0;const A=r.filter(U=>U.policyType==="Term Life"&&U.status==="Active");I.termLife=A.length>0;const se=t.filter(U=>U.goalType==="Emergency Fund"&&U.isActive),oe=o.filter(U=>U.investmentType==="FD"||U.investmentType==="PPF");return I.emergencyFund=se.length>0||oe.length>0,I.goals=t.filter(U=>U.isActive).length>=2,I},[r,t,o]);N.useEffect(()=>{let I=!1;async function V(){const A=await cy("healthCheckAnswers");!I&&A&&(M(A),y(!1));try{const se=await oy();!I&&se&&(M(se),ja("healthCheckAnswers",se))}catch{}I||y(!1)}return V(),()=>{I=!0}},[]);const[g,w]=N.useState(()=>{const I={};return Sn.forEach(V=>{I[V.id]=j[V.id]?"yes":""}),I});N.useEffect(()=>{S&&w(I=>{const V={...I};return Sn.forEach(A=>{const se=S[A.id];se==="Yes"?V[A.id]="yes":se==="No"&&(V[A.id]="no")}),V})},[S]);const D=Object.values(g).filter(I=>I).length,k=Object.values(g).filter(I=>I==="yes").length,T=D===Sn.length,_=D>0?Math.round(k/Sn.length*100):0;function B(){return _>=80?"text-emerald-400":_>=50?"text-[var(--accent-amber)]":"text-[var(--accent-rose)]"}function H(){return _>=80?"Excellent":_>=60?"Good":_>=40?"Needs Work":"Critical"}const O=N.useMemo(()=>{const I=[];return g.healthIns!=="yes"&&I.push({severity:"critical",text:"Get Health Insurance for your family",action:"Minimum 5L cover recommended"}),g.termLife!=="yes"&&I.push({severity:"critical",text:"Get Term Life Insurance (10-15x annual income)",action:"Compare plans online"}),g.emergencyFund!=="yes"&&I.push({severity:"warning",text:"Build an Emergency Fund",action:"Save 6-12 months expenses in liquid fund/FD"}),g.familyAware!=="yes"&&I.push({severity:"warning",text:"Share investment details with family",action:"Create a document with all account info"}),g.hasWill!=="yes"&&I.push({severity:"warning",text:"Create a legal Will",action:"Consult a lawyer for Will registration"}),g.nominees!=="yes"&&I.push({severity:"warning",text:"Update nominees on all accounts",action:"Check bank, demat, insurance, MF accounts"}),g.goals!=="yes"&&I.push({severity:"info",text:"Define clear financial goals",action:"Use the Goal Planner to set targets"}),I},[g]),L=N.useCallback(async()=>{if(T){v(!0);try{const I={};Sn.forEach(V=>{I[V.id]=g[V.id]==="yes"?"Yes":"No"}),I.score=k,I.total=Sn.length,await d(I),s("/dashboard")}catch(I){console.error("Failed to save health check:",I)}finally{v(!1)}}},[T,g,k,d,s]);return a.jsxs("div",{className:"space-y-4 max-w-2xl mx-auto",children:[x&&a.jsxs("div",{className:"bg-violet-500/10 border border-violet-500/20 rounded-xl p-4",children:[a.jsx("h2",{className:"text-base font-bold text-violet-400 mb-1",children:"Welcome to Capital Friends!"}),a.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Before you start, please complete this quick Financial Health Check. It takes less than a minute and helps you understand where your family stands financially."})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ny,{size:16,className:"text-violet-400"}),a.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:"Financial Health Score"})]}),a.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[D,"/",Sn.length," answered"]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative w-20 h-20",children:[a.jsxs("svg",{className:"w-20 h-20 -rotate-90",viewBox:"0 0 36 36",children:[a.jsx("path",{d:"M18 2.0845a 15.9155 15.9155 0 0 1 0 31.831a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"var(--border)",strokeWidth:"3"}),a.jsx("path",{d:"M18 2.0845a 15.9155 15.9155 0 0 1 0 31.831a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:`${_}, 100`,className:B(),strokeLinecap:"round"})]}),a.jsxs("span",{className:`absolute inset-0 flex items-center justify-center text-lg font-bold ${B()}`,children:[_,"%"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:`text-base font-bold ${B()}`,children:H()}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:[k," of ",Sn.length," checks passed"]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[m.length," family members tracked"]})]})]})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Health Check Questions"})}),a.jsx("div",{className:"divide-y divide-[var(--border-light)]",children:Sn.map((I,V)=>a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"text-sm text-[var(--text-primary)]",children:[a.jsxs("span",{className:"text-[var(--text-dim)] mr-2",children:[V+1,"."]}),I.question]}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5 ml-5",children:I.tip})]}),a.jsxs("div",{className:"flex gap-1 shrink-0",children:[a.jsx("button",{onClick:()=>w(A=>({...A,[I.id]:"yes"})),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${g[I.id]==="yes"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"bg-[var(--bg-inset)] text-[var(--text-dim)] border border-[var(--border)] hover:text-[var(--text-primary)]"}`,children:"Yes"}),a.jsx("button",{onClick:()=>w(A=>({...A,[I.id]:"no"})),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${g[I.id]==="no"?"bg-rose-500/20 text-[var(--accent-rose)] border border-rose-500/30":"bg-[var(--bg-inset)] text-[var(--text-dim)] border border-[var(--border)] hover:text-[var(--text-primary)]"}`,children:"No"})]})]}),j[I.id]&&a.jsx("p",{className:"text-xs text-violet-400 mt-1 ml-5",children:"Auto-detected from your data"})]},I.id))})]}),O.length>0&&T&&a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Recommendations"})}),a.jsx("div",{className:"divide-y divide-[var(--border-light)]",children:O.map((I,V)=>{const A=I.severity==="critical"?a.jsx(yy,{size:14,className:"text-[var(--accent-rose)]"}):I.severity==="warning"?a.jsx(Es,{size:14,className:"text-[var(--accent-amber)]"}):a.jsx(JS,{size:14,className:"text-[var(--accent-blue)]"});return a.jsxs("div",{className:"flex items-start gap-3 px-4 py-3",children:[a.jsx("span",{className:"shrink-0 mt-0.5",children:A}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-[var(--text-primary)]",children:I.text}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:I.action})]})]},V)})})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[!T&&a.jsxs("p",{className:"text-xs text-[var(--accent-amber)] mb-3",children:["Please answer all ",Sn.length," questions before saving."]}),a.jsx("button",{onClick:L,disabled:!T||p,className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg text-sm font-bold transition-colors ${T&&!p?"bg-violet-600 hover:bg-violet-500 text-white":"bg-[var(--bg-inset)] text-[var(--text-dim)] cursor-not-allowed"}`,children:p?a.jsxs(a.Fragment,{children:[a.jsx(ky,{size:16,className:"animate-spin"}),"Saving..."]}):x?a.jsxs(a.Fragment,{children:["Save & Continue to Dashboard",a.jsx(IS,{size:16})]}):a.jsxs(a.Fragment,{children:[a.jsx(tC,{size:16}),"Update Health Check"]})})]})]})}function MT(){return a.jsxs("div",{className:"space-y-4 max-w-lg mx-auto",children:[a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-5 text-center",children:[a.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-indigo-600 flex items-center justify-center mx-auto mb-3",children:a.jsx("span",{className:"text-xl font-bold text-white",children:"CF"})}),a.jsx("h1",{className:"text-lg font-bold text-[var(--text-primary)]",children:"Capital Friends"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:"Family Portfolio Management"}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-2",children:"v2.0.0"})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Features"})}),a.jsx("div",{className:"px-4 py-3 space-y-2",children:["Track Mutual Funds, Stocks & Other Investments","Family member-wise portfolio management","ATH-based Buy Opportunities","Smart Rebalancing with threshold alerts","Goal planning with portfolio mapping","Insurance, Liabilities & Bank Accounts","Financial Health Check questionnaire","Reminders for SIPs, renewals & due dates","Email reports with detailed breakdowns"].map(s=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-500 shrink-0"}),a.jsx("p",{className:"text-xs text-[var(--text-secondary)]",children:s})]},s))})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fu,{size:12,className:"text-pink-400"}),a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Support Developer"})]})}),a.jsxs("div",{className:"px-4 py-4 text-center",children:[a.jsx("p",{className:"text-sm text-[var(--text-secondary)] mb-3",children:"If Capital Friends helps you manage your family finances, consider supporting the developer."}),a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-4 py-3 border border-[var(--border)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-1",children:"UPI"}),a.jsx("p",{className:"text-sm font-mono font-semibold text-[var(--text-primary)] select-all",children:"jagadeeshmanne.hdfc@kphdfc"})]}),a.jsxs("div",{className:"flex items-center justify-center gap-1 mt-3",children:[a.jsx(r5,{size:12,className:"text-[var(--accent-amber)]"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Buy me a chai!"})]})]})]}),a.jsxs("div",{className:"text-center py-2",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Made with ",a.jsx(fu,{size:10,className:"inline text-pink-400 mx-0.5"})," by Jagadeesh Manne"]}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:"Built with React + Vite + Tailwind CSS"})]})]})}function AT(){return Date.now().toString(36).toUpperCase()}function TT(){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZ",l=r=>Array.from({length:r},()=>s[Math.floor(Math.random()*26)]).join("");return l(5)+Math.floor(1e3+Math.random()*9e3)+l(1)}function ET(){return String(Math.floor(2e11+Math.random()*8e11))}function mg(){return"9"+String(Math.floor(1e8+Math.random()*9e8))}function _T(){return String(Math.floor(1e9+Math.random()*9e9))}function OT(){const s=AT();return{member:{memberName:`Test Member ${s}`,relationship:"Self",pan:TT(),aadhar:ET(),email:`test-${s.toLowerCase()}@example.com`,mobile:mg(),includeInEmailReports:!0},bank:{accountName:`Test Savings ${s}`,bankName:"Test Bank",accountNumber:_T(),ifscCode:"TEST0001234",accountType:"Savings",branchName:"Test Branch"},investmentAccount:{accountName:`Test Demat ${s}`,accountType:"Demat",platformBroker:"Test Broker Platform",accountClientId:`CLI-${s}`,registeredEmail:`test-${s.toLowerCase()}@example.com`,registeredPhone:mg()},insurance:{policyType:"Term Life",company:"Test Insurance Co",policyNumber:`POL-${s}`,policyName:`Test Term Plan ${s}`,sumAssured:5e6,nominee:"Test Nominee",dynamicFields:{Premium:15e3,"Premium Frequency":"Annual"}},liability:{liabilityType:"Home Loan",lenderName:"Test Bank",outstandingBalance:45e5,dynamicFields:{"Principal Amount":5e6,"Interest Rate":8.5,"EMI Amount":45e3},notes:`Test liability ${s}`},otherInvestment:{investmentType:"Fixed Deposit",investmentName:`Test FD ${s}`,investedAmount:1e5,currentValue:105e3,investmentCategory:"Debt"},stockPortfolio:{portfolioName:`Test Stock Portfolio ${s}`,broker:"Test Broker"},reminder:{title:`Test Reminder ${s}`,description:"Automated test reminder",dueDate:new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0],category:"Insurance",priority:"Medium"},goal:{goalName:`Test Goal ${s}`,goalType:"Custom",targetAmount:1e6,targetDate:"2040-01-01",priority:"Medium",expectedInflation:.06,expectedCAGR:.12}}}function RT({status:s,text:l}){const r={pass:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",fail:"bg-rose-500/20 text-rose-400 border-rose-500/30",skip:"bg-amber-500/20 text-amber-400 border-amber-500/30",running:"bg-blue-500/20 text-blue-400 border-blue-500/30",pending:"bg-gray-500/20 text-gray-400 border-gray-500/30"};return a.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded border ${r[s]||r.pending}`,children:l||s.toUpperCase()})}function IT(){const{user:s}=Is(),[l,r]=N.useState([]),[t,o]=N.useState(!1),[u,d]=N.useState(null),[m,x]=N.useState(!1),p=N.useCallback((g,w,D="")=>{r(k=>[...k,{test:g,status:w,detail:D,time:new Date().toLocaleTimeString()}])},[]),v=N.useCallback((g,w="")=>{r(D=>{const k=[...D];return k.length>0&&(k[k.length-1]={...k[k.length-1],status:g,detail:w}),k})},[]),b=async()=>{x(!0),d(null);try{const g=await Ne("test:diagnose");d(g)}catch(g){d({error:g.message})}finally{x(!1)}},y=async()=>{o(!0),r([]);const g=OT();let w=null,D=null,k=null,T=null,_=null,B=null,H=null,O=null,L=null,I=null;try{p("API Echo Test","running");try{const A=await Ne("test:echo",{hello:"world"});A&&A.echo&&A.echo.hello==="world"?v("pass","Echo response received correctly"):v("fail","Unexpected response: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Diagnostics","running");try{const A=await Ne("test:diagnose"),se=Object.entries(A.sheets||{}).filter(([,U])=>!U.exists).map(([U])=>U);if(se.length>0)v("fail",`Missing sheets: ${se.join(", ")}`);else{const U=Object.keys(A.sheets).length;v("pass",`All ${U} sheets exist. SpreadsheetId: ${A.spreadsheetId}`)}const oe=Object.entries(A.dataTests||{}).filter(([,U])=>!U.success).map(([U,z])=>`${U}: ${z.error}`);oe.length>0&&p("Data Function Errors","fail",oe.join("; "))}catch(A){v("fail",A.message)}p("Load All Data (bulk)","running");try{const A=await mu(),se=Object.entries(A).map(([oe,U])=>`${oe}: ${Array.isArray(U)?U.length:"?"}`);v("pass",se.join(", "))}catch(A){v("fail",A.message)}p("Members  Create","running");try{const A=await Ig(g.member);w=A?.memberId,D=g.member.memberName,w?v("pass",`Created: ${w}`):v("fail","No memberId returned: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Members  List","running");try{const A=await Rg();Array.isArray(A)&&A.some(oe=>oe.memberId===w)?v("pass",`Found ${w} in ${A.length} member(s)`):v("fail",`Member ${w} not found. Got ${Array.isArray(A)?A.length:0} members: ${JSON.stringify(A).substring(0,200)}`)}catch(A){v("fail",A.message)}if(w){p("Members  Update","running");try{await Lg({...g.member,memberId:w,memberName:"Updated Test Member"}),D="Updated Test Member",v("pass",'Updated name to "Updated Test Member"')}catch(A){v("fail",A.message)}}p("Banks  Create","running");try{const A=await Fg({...g.bank,memberId:w||"FM-001"});k=A?.accountId,v(k?"pass":"fail",k?`Created: ${k}`:"No accountId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Banks  List","running");try{const A=await zg();v("pass",`${Array.isArray(A)?A.length:0} account(s)`)}catch(A){v("fail",A.message)}p("Investment Accounts  Create","running");try{const A=await Yg({...g.investmentAccount,memberId:w||"FM-001",bankAccountId:k||"BA-001"});T=A?.accountId,v(T?"pass":"fail",T?`Created: ${T}`:"No accountId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Investment Accounts  List","running");try{const A=await Hg();v("pass",`${Array.isArray(A)?A.length:0} account(s)`)}catch(A){v("fail",A.message)}p("Insurance  Create","running");try{const A=await Qg({...g.insurance,memberId:w||"FM-001",insuredMember:D||"Test Member"});_=A?.policyId,v(_?"pass":"fail",_?`Created: ${_}`:"No policyId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Insurance  List","running");try{const A=await Gg();v("pass",`${Array.isArray(A)?A.length:0} policy/policies`)}catch(A){v("fail",A.message)}p("Liabilities  Create","running");try{const A=await Wg({...g.liability,familyMember:w||"FM-001"});B=A?.liabilityId,v(B?"pass":"fail",B?`Created: ${B}`:"No liabilityId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Liabilities  List","running");try{const A=await Xg();v("pass",`${Array.isArray(A)?A.length:0} liability/liabilities`)}catch(A){v("fail",A.message)}p("Other Investments  Create","running");try{const A=await ey({...g.otherInvestment,familyMember:w||"FM-001"});H=A?.investmentId,v(H?"pass":"fail",H?`Created: ${H}`:"No investmentId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Other Investments  List","running");try{const A=await Jg();v("pass",`${Array.isArray(A)?A.length:0} investment(s)`)}catch(A){v("fail",A.message)}p("Stock Portfolios  Create","running");try{const A=await ny({...g.stockPortfolio,owner:w||"FM-001"});O=A?.portfolioId,v(O?"pass":"fail",O?`Created: ${O}`:"No portfolioId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Stock Portfolios  List","running");try{const A=await ay();v("pass",`${Array.isArray(A)?A.length:0} portfolio(s)`)}catch(A){v("fail",A.message)}p("Reminders  Create","running");try{const A=await ly(g.reminder);L=A?.reminderId,v(L?"pass":"fail",L?`Created: ${L}`:"No reminderId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Reminders  List","running");try{const A=await sy();v("pass",`${Array.isArray(A)?A.length:0} reminder(s)`)}catch(A){v("fail",A.message)}p("Goals  Create","running");try{const A=await $g(g.goal);I=A?.goalId,v(I?"pass":"fail",I?`Created: ${I}`:"No goalId: "+JSON.stringify(A))}catch(A){v("fail",A.message)}p("Goals  List","running");try{const A=await qg();v("pass",`${Array.isArray(A)?A.length:0} goal(s)`)}catch(A){v("fail",A.message)}p("Cleanup  Delete test data","running");const V=[];if(I)try{await Vg(I)}catch(A){V.push("goal: "+A.message)}if(L)try{await iy(L)}catch(A){V.push("reminder: "+A.message)}if(O)try{await ry(O)}catch(A){V.push("stockPortfolio: "+A.message)}if(H)try{await ty(H)}catch(A){V.push("otherInv: "+A.message)}if(B)try{await Zg(B)}catch(A){V.push("liability: "+A.message)}if(_)try{await Kg(_)}catch(A){V.push("insurance: "+A.message)}if(T)try{await Ug(T)}catch(A){V.push("invAcct: "+A.message)}if(k)try{await Bg(k)}catch(A){V.push("bank: "+A.message)}if(w)try{await Pg(w)}catch(A){V.push("member: "+A.message)}V.length>0?v("fail",V.join("; ")):v("pass","All test data cleaned up"),p("Final Load All (post-cleanup)","running");try{const A=await mu(),se=Object.entries(A).map(([oe,U])=>`${oe}: ${Array.isArray(U)?U.length:"?"}`);v("pass",se.join(", "))}catch(A){v("fail",A.message)}}catch(V){p("UNEXPECTED ERROR","fail",V.message)}finally{o(!1)}},S=l.filter(g=>g.status==="pass").length,M=l.filter(g=>g.status==="fail").length,j=l.filter(g=>g.status!=="running").length;return a.jsx("div",{className:"min-h-screen bg-[var(--bg-main)] p-4 max-w-3xl mx-auto",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-bold text-[var(--text-primary)]",children:"API Test Suite"}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Signed in as ",s?.email||"unknown"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:b,disabled:m||t,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-[var(--bg-card)] border border-[var(--border)] text-[var(--text-secondary)] hover:bg-[var(--bg-elevated)] disabled:opacity-50 cursor-pointer",children:m?"Running...":"Diagnostics"}),a.jsx("button",{onClick:y,disabled:t,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-violet-600 text-white hover:bg-violet-700 disabled:opacity-50 cursor-pointer",children:t?"Running Tests...":"Run All Tests"})]})]}),j>0&&a.jsxs("div",{className:"flex gap-3 text-xs",children:[a.jsxs("span",{className:"text-emerald-400",children:["Pass: ",S]}),a.jsxs("span",{className:"text-rose-400",children:["Fail: ",M]}),a.jsxs("span",{className:"text-[var(--text-dim)]",children:["Total: ",j]})]}),u&&a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4 space-y-3",children:[a.jsx("h2",{className:"text-sm font-semibold text-[var(--text-primary)]",children:"Diagnostics Report"}),u.error?a.jsx("p",{className:"text-xs text-rose-400",children:u.error}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-xs text-[var(--text-secondary)] space-y-1",children:[a.jsxs("p",{children:[a.jsx("span",{className:"text-[var(--text-dim)]",children:"Spreadsheet:"})," ",u.spreadsheetName]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-[var(--text-dim)]",children:"ID:"})," ",a.jsx("code",{className:"text-[10px]",children:u.spreadsheetId})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-medium text-[var(--text-primary)] mb-1",children:"Sheets"}),a.jsx("div",{className:"grid grid-cols-2 gap-1",children:Object.entries(u.sheets||{}).map(([g,w])=>a.jsxs("div",{className:"flex items-center justify-between text-[11px] px-2 py-1 rounded bg-[var(--bg-elevated)]",children:[a.jsx("span",{className:"text-[var(--text-secondary)] truncate",children:g}),w.exists?a.jsxs("span",{className:"text-emerald-400 ml-1",children:[w.dataRows,"r"]}):a.jsx("span",{className:"text-rose-400 ml-1",children:"MISSING"})]},g))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-medium text-[var(--text-primary)] mb-1",children:"Data Functions"}),a.jsx("div",{className:"space-y-1",children:Object.entries(u.dataTests||{}).map(([g,w])=>a.jsxs("div",{className:"flex items-center justify-between text-[11px] px-2 py-1 rounded bg-[var(--bg-elevated)]",children:[a.jsx("span",{className:"text-[var(--text-secondary)]",children:g}),w.success?a.jsxs("span",{className:"text-emerald-400",children:[w.count," items"]}):a.jsx("span",{className:"text-rose-400 truncate ml-2 max-w-[200px]",title:w.error,children:w.error})]},g))})]}),u.safeCallErrors&&u.safeCallErrors.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-medium text-rose-400 mb-1",children:"SafeCall Errors"}),u.safeCallErrors.map((g,w)=>a.jsxs("p",{className:"text-[11px] text-rose-400",children:[g.fn,": ",g.error]},w))]})]})]}),l.length>0&&a.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:a.jsx("div",{className:"divide-y divide-[var(--border)]",children:l.map((g,w)=>a.jsxs("div",{className:"px-4 py-2 flex items-start gap-3",children:[a.jsx("div",{className:"mt-0.5 shrink-0",children:a.jsx(RT,{status:g.status})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:g.test}),g.detail&&a.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5 break-all",children:g.detail})]}),a.jsx("span",{className:"text-[10px] text-[var(--text-dim)] shrink-0",children:g.time})]},w))})}),l.length===0&&!u&&a.jsxs("div",{className:"text-center py-12 text-[var(--text-dim)]",children:[a.jsx("p",{className:"text-sm",children:'Click "Run All Tests" to test all CRUD operations'}),a.jsx("p",{className:"text-xs mt-1",children:'or "Diagnostics" to check spreadsheet structure'})]})]})})}function LT(){return a.jsxs(Zw,{children:[a.jsx(gt,{index:!0,element:a.jsx(F3,{})}),a.jsx(gt,{path:"login",element:a.jsx(S1,{})}),a.jsx(gt,{element:a.jsx(R3,{}),children:a.jsxs(gt,{element:a.jsx(O3,{}),children:[a.jsx(gt,{path:"dashboard",element:a.jsx(uu,{to:"/investments/mutual-funds",replace:!0})}),a.jsx(gt,{path:"family",element:a.jsx(cT,{})}),a.jsx(gt,{path:"accounts/bank",element:a.jsx(Hb,{})}),a.jsx(gt,{path:"accounts/investment",element:a.jsx($3,{})}),a.jsx(gt,{path:"insurance",element:a.jsx(K3,{})}),a.jsx(gt,{path:"investments/mutual-funds",element:a.jsx(tT,{})}),a.jsx(gt,{path:"investments/stocks",element:a.jsx(lT,{})}),a.jsx(gt,{path:"investments/other",element:a.jsx(iA,{})}),a.jsx(gt,{path:"liabilities",element:a.jsx(J3,{})}),a.jsx(gt,{path:"goals",element:a.jsx(xT,{})}),a.jsx(gt,{path:"reports",element:a.jsx(kT,{})}),a.jsx(gt,{path:"reminders",element:a.jsx(ST,{})}),a.jsx(gt,{path:"health-check",element:a.jsx(DT,{})}),a.jsx(gt,{path:"about",element:a.jsx(MT,{})}),a.jsx(gt,{path:"test",element:a.jsx(IT,{})}),a.jsx(gt,{path:"settings",element:a.jsx(bT,{})}),a.jsx(gt,{path:"more",element:a.jsx(vT,{})}),a.jsx(gt,{path:"accounts",element:a.jsx(Hb,{})}),a.jsx(gt,{path:"*",element:a.jsx(B3,{})})]})})]})}Jj.createRoot(document.getElementById("root")).render(a.jsx(j2,{children:a.jsx(jS,{children:a.jsx(wS,{children:a.jsx(EC,{children:a.jsx(yC,{children:a.jsx(NC,{children:a.jsx(CS,{children:a.jsx(kS,{children:a.jsx(LT,{})})})})})})})})}));
