function h8(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const l=Object.getOwnPropertyDescriptor(n,i);l&&Object.defineProperty(e,i,l.get?l:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(i){if(i.ep)return;i.ep=!0;const l=r(i);fetch(i.href,l)}})();var pce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ci(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var W0={exports:{}},zu={};var MC;function x8(){if(MC)return zu;MC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,i,l){var c=null;if(l!==void 0&&(c=""+l),i.key!==void 0&&(c=""+i.key),"key"in i){l={};for(var u in i)u!=="key"&&(l[u]=i[u])}else l=i;return i=l.ref,{$$typeof:e,type:n,key:c,ref:i!==void 0?i:null,props:l}}return zu.Fragment=t,zu.jsx=r,zu.jsxs=r,zu}var EC;function v8(){return EC||(EC=1,W0.exports=x8()),W0.exports}var a=v8(),K0={exports:{}},st={};var DC;function g8(){if(DC)return st;DC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),v=Symbol.iterator;function g(F){return F===null||typeof F!="object"?null:(F=v&&F[v]||F["@@iterator"],typeof F=="function"?F:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,w={};function A(F,ce,ee){this.props=F,this.context=ce,this.refs=w,this.updater=ee||j}A.prototype.isReactComponent={},A.prototype.setState=function(F,ce){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ce,"setState")},A.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function k(){}k.prototype=A.prototype;function C(F,ce,ee){this.props=F,this.context=ce,this.refs=w,this.updater=ee||j}var M=C.prototype=new k;M.constructor=C,y(M,A.prototype),M.isPureReactComponent=!0;var E=Array.isArray;function O(){}var P={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function $(F,ce,ee){var B=ee.ref;return{$$typeof:e,type:F,key:ce,ref:B!==void 0?B:null,props:ee}}function L(F,ce){return $(F.type,ce,F.props)}function H(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function D(F){var ce={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ee){return ce[ee]})}var Z=/\/+/g;function K(F,ce){return typeof F=="object"&&F!==null&&F.key!=null?D(""+F.key):ce.toString(36)}function J(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(O,O):(F.status="pending",F.then(function(ce){F.status==="pending"&&(F.status="fulfilled",F.value=ce)},function(ce){F.status==="pending"&&(F.status="rejected",F.reason=ce)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function R(F,ce,ee,B,z){var U=typeof F;(U==="undefined"||U==="boolean")&&(F=null);var xe=!1;if(F===null)xe=!0;else switch(U){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(F.$$typeof){case e:case t:xe=!0;break;case p:return xe=F._init,R(xe(F._payload),ce,ee,B,z)}}if(xe)return z=z(F),xe=B===""?"."+K(F,0):B,E(z)?(ee="",xe!=null&&(ee=xe.replace(Z,"$&/")+"/"),R(z,ce,ee,"",function(De){return De})):z!=null&&(H(z)&&(z=L(z,ee+(z.key==null||F&&F.key===z.key?"":(""+z.key).replace(Z,"$&/")+"/")+xe)),ce.push(z)),1;xe=0;var je=B===""?".":B+":";if(E(F))for(var ne=0;ne<F.length;ne++)B=F[ne],U=je+K(B,ne),xe+=R(B,ce,ee,U,z);else if(ne=g(F),typeof ne=="function")for(F=ne.call(F),ne=0;!(B=F.next()).done;)B=B.value,U=je+K(B,ne++),xe+=R(B,ce,ee,U,z);else if(U==="object"){if(typeof F.then=="function")return R(J(F),ce,ee,B,z);throw ce=String(F),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return xe}function G(F,ce,ee){if(F==null)return F;var B=[],z=0;return R(F,B,"","",function(U){return ce.call(ee,U,z++)}),B}function me(F){if(F._status===-1){var ce=F._result;ce=ce(),ce.then(function(ee){(F._status===0||F._status===-1)&&(F._status=1,F._result=ee)},function(ee){(F._status===0||F._status===-1)&&(F._status=2,F._result=ee)}),F._status===-1&&(F._status=0,F._result=ce)}if(F._status===1)return F._result.default;throw F._result}var we=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},Ne={map:G,forEach:function(F,ce,ee){G(F,function(){ce.apply(this,arguments)},ee)},count:function(F){var ce=0;return G(F,function(){ce++}),ce},toArray:function(F){return G(F,function(ce){return ce})||[]},only:function(F){if(!H(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return st.Activity=x,st.Children=Ne,st.Component=A,st.Fragment=r,st.Profiler=i,st.PureComponent=C,st.StrictMode=n,st.Suspense=f,st.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,st.__COMPILER_RUNTIME={__proto__:null,c:function(F){return P.H.useMemoCache(F)}},st.cache=function(F){return function(){return F.apply(null,arguments)}},st.cacheSignal=function(){return null},st.cloneElement=function(F,ce,ee){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var B=y({},F.props),z=F.key;if(ce!=null)for(U in ce.key!==void 0&&(z=""+ce.key),ce)!T.call(ce,U)||U==="key"||U==="__self"||U==="__source"||U==="ref"&&ce.ref===void 0||(B[U]=ce[U]);var U=arguments.length-2;if(U===1)B.children=ee;else if(1<U){for(var xe=Array(U),je=0;je<U;je++)xe[je]=arguments[je+2];B.children=xe}return $(F.type,z,B)},st.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:l,_context:F},F},st.createElement=function(F,ce,ee){var B,z={},U=null;if(ce!=null)for(B in ce.key!==void 0&&(U=""+ce.key),ce)T.call(ce,B)&&B!=="key"&&B!=="__self"&&B!=="__source"&&(z[B]=ce[B]);var xe=arguments.length-2;if(xe===1)z.children=ee;else if(1<xe){for(var je=Array(xe),ne=0;ne<xe;ne++)je[ne]=arguments[ne+2];z.children=je}if(F&&F.defaultProps)for(B in xe=F.defaultProps,xe)z[B]===void 0&&(z[B]=xe[B]);return $(F,U,z)},st.createRef=function(){return{current:null}},st.forwardRef=function(F){return{$$typeof:u,render:F}},st.isValidElement=H,st.lazy=function(F){return{$$typeof:p,_payload:{_status:-1,_result:F},_init:me}},st.memo=function(F,ce){return{$$typeof:m,type:F,compare:ce===void 0?null:ce}},st.startTransition=function(F){var ce=P.T,ee={};P.T=ee;try{var B=F(),z=P.S;z!==null&&z(ee,B),typeof B=="object"&&B!==null&&typeof B.then=="function"&&B.then(O,we)}catch(U){we(U)}finally{ce!==null&&ee.types!==null&&(ce.types=ee.types),P.T=ce}},st.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},st.use=function(F){return P.H.use(F)},st.useActionState=function(F,ce,ee){return P.H.useActionState(F,ce,ee)},st.useCallback=function(F,ce){return P.H.useCallback(F,ce)},st.useContext=function(F){return P.H.useContext(F)},st.useDebugValue=function(){},st.useDeferredValue=function(F,ce){return P.H.useDeferredValue(F,ce)},st.useEffect=function(F,ce){return P.H.useEffect(F,ce)},st.useEffectEvent=function(F){return P.H.useEffectEvent(F)},st.useId=function(){return P.H.useId()},st.useImperativeHandle=function(F,ce,ee){return P.H.useImperativeHandle(F,ce,ee)},st.useInsertionEffect=function(F,ce){return P.H.useInsertionEffect(F,ce)},st.useLayoutEffect=function(F,ce){return P.H.useLayoutEffect(F,ce)},st.useMemo=function(F,ce){return P.H.useMemo(F,ce)},st.useOptimistic=function(F,ce){return P.H.useOptimistic(F,ce)},st.useReducer=function(F,ce,ee){return P.H.useReducer(F,ce,ee)},st.useRef=function(F){return P.H.useRef(F)},st.useState=function(F){return P.H.useState(F)},st.useSyncExternalStore=function(F,ce,ee){return P.H.useSyncExternalStore(F,ce,ee)},st.useTransition=function(){return P.H.useTransition()},st.version="19.2.4",st}var _C;function _c(){return _C||(_C=1,K0.exports=g8()),K0.exports}var N=_c();const se=ci(N),w1=h8({__proto__:null,default:se},[N]);var Q0={exports:{}},Bu={},X0={exports:{}},Z0={};var OC;function b8(){return OC||(OC=1,(function(e){function t(R,G){var me=R.length;R.push(G);e:for(;0<me;){var we=me-1>>>1,Ne=R[we];if(0<i(Ne,G))R[we]=G,R[me]=Ne,me=we;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var G=R[0],me=R.pop();if(me!==G){R[0]=me;e:for(var we=0,Ne=R.length,F=Ne>>>1;we<F;){var ce=2*(we+1)-1,ee=R[ce],B=ce+1,z=R[B];if(0>i(ee,me))B<Ne&&0>i(z,ee)?(R[we]=z,R[B]=me,we=B):(R[we]=ee,R[ce]=me,we=ce);else if(B<Ne&&0>i(z,me))R[we]=z,R[B]=me,we=B;else break e}}return G}function i(R,G){var me=R.sortIndex-G.sortIndex;return me!==0?me:R.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var f=[],m=[],p=1,x=null,v=3,g=!1,j=!1,y=!1,w=!1,A=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function M(R){for(var G=r(m);G!==null;){if(G.callback===null)n(m);else if(G.startTime<=R)n(m),G.sortIndex=G.expirationTime,t(f,G);else break;G=r(m)}}function E(R){if(y=!1,M(R),!j)if(r(f)!==null)j=!0,O||(O=!0,D());else{var G=r(m);G!==null&&J(E,G.startTime-R)}}var O=!1,P=-1,T=5,$=-1;function L(){return w?!0:!(e.unstable_now()-$<T)}function H(){if(w=!1,O){var R=e.unstable_now();$=R;var G=!0;try{e:{j=!1,y&&(y=!1,k(P),P=-1),g=!0;var me=v;try{t:{for(M(R),x=r(f);x!==null&&!(x.expirationTime>R&&L());){var we=x.callback;if(typeof we=="function"){x.callback=null,v=x.priorityLevel;var Ne=we(x.expirationTime<=R);if(R=e.unstable_now(),typeof Ne=="function"){x.callback=Ne,M(R),G=!0;break t}x===r(f)&&n(f),M(R)}else n(f);x=r(f)}if(x!==null)G=!0;else{var F=r(m);F!==null&&J(E,F.startTime-R),G=!1}}break e}finally{x=null,v=me,g=!1}G=void 0}}finally{G?D():O=!1}}}var D;if(typeof C=="function")D=function(){C(H)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,K=Z.port2;Z.port1.onmessage=H,D=function(){K.postMessage(null)}}else D=function(){A(H,0)};function J(R,G){P=A(function(){R(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(R){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var me=v;v=G;try{return R()}finally{v=me}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(R,G){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var me=v;v=R;try{return G()}finally{v=me}},e.unstable_scheduleCallback=function(R,G,me){var we=e.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?we+me:we):me=we,R){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=me+Ne,R={id:p++,callback:G,priorityLevel:R,startTime:me,expirationTime:Ne,sortIndex:-1},me>we?(R.sortIndex=me,t(m,R),r(f)===null&&R===r(m)&&(y?(k(P),P=-1):y=!0,J(E,me-we))):(R.sortIndex=Ne,t(f,R),j||g||(j=!0,O||(O=!0,D()))),R},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(R){var G=v;return function(){var me=v;v=G;try{return R.apply(this,arguments)}finally{v=me}}}})(Z0)),Z0}var TC;function y8(){return TC||(TC=1,X0.exports=b8()),X0.exports}var J0={exports:{}},tn={};var PC;function w8(){if(PC)return tn;PC=1;var e=_c();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)m+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(f,m,p){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:x==null?null:""+x,children:f,containerInfo:m,implementation:p}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,tn.createPortal=function(f,m){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(f,m,null,p)},tn.flushSync=function(f){var m=c.T,p=n.p;try{if(c.T=null,n.p=2,f)return f()}finally{c.T=m,n.p=p,n.d.f()}},tn.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(f,m))},tn.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},tn.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var p=m.as,x=u(p,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,g=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;p==="style"?n.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:v,fetchPriority:g}):p==="script"&&n.d.X(f,{crossOrigin:x,integrity:v,fetchPriority:g,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},tn.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var p=u(m.as,m.crossOrigin);n.d.M(f,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(f)},tn.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var p=m.as,x=u(p,m.crossOrigin);n.d.L(f,p,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},tn.preloadModule=function(f,m){if(typeof f=="string")if(m){var p=u(m.as,m.crossOrigin);n.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(f)},tn.requestFormReset=function(f){n.d.r(f)},tn.unstable_batchedUpdates=function(f,m){return f(m)},tn.useFormState=function(f,m,p){return c.H.useFormState(f,m,p)},tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},tn.version="19.2.4",tn}var IC;function p_(){if(IC)return J0.exports;IC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),J0.exports=w8(),J0.exports}var RC;function N8(){if(RC)return Bu;RC=1;var e=y8(),t=_c(),r=p_();function n(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var o=s,d=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(d=o.return),s=o.return;while(s)}return o.tag===3?d:null}function c(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function u(s){if(s.tag===31){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function f(s){if(l(s)!==s)throw Error(n(188))}function m(s){var o=s.alternate;if(!o){if(o=l(s),o===null)throw Error(n(188));return o!==s?null:s}for(var d=s,h=o;;){var b=d.return;if(b===null)break;var S=b.alternate;if(S===null){if(h=b.return,h!==null){d=h;continue}break}if(b.child===S.child){for(S=b.child;S;){if(S===d)return f(b),s;if(S===h)return f(b),o;S=S.sibling}throw Error(n(188))}if(d.return!==h.return)d=b,h=S;else{for(var _=!1,I=b.child;I;){if(I===d){_=!0,d=b,h=S;break}if(I===h){_=!0,h=b,d=S;break}I=I.sibling}if(!_){for(I=S.child;I;){if(I===d){_=!0,d=S,h=b;break}if(I===h){_=!0,h=S,d=b;break}I=I.sibling}if(!_)throw Error(n(189))}}if(d.alternate!==h)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?s:o}function p(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=p(s),o!==null)return o;s=s.sibling}return null}var x=Object.assign,v=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),C=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function D(s){return s===null||typeof s!="object"?null:(s=H&&s[H]||s["@@iterator"],typeof s=="function"?s:null)}var Z=Symbol.for("react.client.reference");function K(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===Z?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case y:return"Fragment";case A:return"Profiler";case w:return"StrictMode";case E:return"Suspense";case O:return"SuspenseList";case $:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case j:return"Portal";case C:return s.displayName||"Context";case k:return(s._context.displayName||"Context")+".Consumer";case M:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case P:return o=s.displayName||null,o!==null?o:K(s.type)||"Memo";case T:o=s._payload,s=s._init;try{return K(s(o))}catch{}}return null}var J=Array.isArray,R=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},we=[],Ne=-1;function F(s){return{current:s}}function ce(s){0>Ne||(s.current=we[Ne],we[Ne]=null,Ne--)}function ee(s,o){Ne++,we[Ne]=s.current,s.current=o}var B=F(null),z=F(null),U=F(null),xe=F(null);function je(s,o){switch(ee(U,o),ee(z,s),ee(B,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?XS(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=XS(o),s=ZS(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ce(B),ee(B,s)}function ne(){ce(B),ce(z),ce(U)}function De(s){s.memoizedState!==null&&ee(xe,s);var o=B.current,d=ZS(o,s.type);o!==d&&(ee(z,s),ee(B,d))}function Ce(s){z.current===s&&(ce(B),ce(z)),xe.current===s&&(ce(xe),Iu._currentValue=me)}var ue,$e;function Ie(s){if(ue===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);ue=o&&o[1]||"",$e=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ue+s+$e}var Re=!1;function rt(s,o){if(!s||Re)return"";Re=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(pe){var oe=pe}Reflect.construct(s,[],be)}else{try{be.call()}catch(pe){oe=pe}s.call(be.prototype)}}else{try{throw Error()}catch(pe){oe=pe}(be=s())&&typeof be.catch=="function"&&be.catch(function(){})}}catch(pe){if(pe&&oe&&typeof pe.stack=="string")return[pe.stack,oe.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=h.DetermineComponentFrameRoot(),_=S[0],I=S[1];if(_&&I){var V=_.split(`
`),ie=I.split(`
`);for(b=h=0;h<V.length&&!V[h].includes("DetermineComponentFrameRoot");)h++;for(;b<ie.length&&!ie[b].includes("DetermineComponentFrameRoot");)b++;if(h===V.length||b===ie.length)for(h=V.length-1,b=ie.length-1;1<=h&&0<=b&&V[h]!==ie[b];)b--;for(;1<=h&&0<=b;h--,b--)if(V[h]!==ie[b]){if(h!==1||b!==1)do if(h--,b--,0>b||V[h]!==ie[b]){var ve=`
`+V[h].replace(" at new "," at ");return s.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",s.displayName)),ve}while(1<=h&&0<=b);break}}}finally{Re=!1,Error.prepareStackTrace=d}return(d=s?s.displayName||s.name:"")?Ie(d):""}function jt(s,o){switch(s.tag){case 26:case 27:case 5:return Ie(s.type);case 16:return Ie("Lazy");case 13:return s.child!==o&&o!==null?Ie("Suspense Fallback"):Ie("Suspense");case 19:return Ie("SuspenseList");case 0:case 15:return rt(s.type,!1);case 11:return rt(s.type.render,!1);case 1:return rt(s.type,!0);case 31:return Ie("Activity");default:return""}}function Bt(s){try{var o="",d=null;do o+=jt(s,d),d=s,s=s.return;while(s);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Ut=Object.prototype.hasOwnProperty,Zt=e.unstable_scheduleCallback,Jt=e.unstable_cancelCallback,ye=e.unstable_shouldYield,_e=e.unstable_requestPaint,ze=e.unstable_now,Et=e.unstable_getCurrentPriorityLevel,W=e.unstable_ImmediatePriority,q=e.unstable_UserBlockingPriority,re=e.unstable_NormalPriority,Ae=e.unstable_LowPriority,Ue=e.unstable_IdlePriority,le=e.log,it=e.unstable_setDisableYieldValue,Ye=null,Be=null;function Je(s){if(typeof le=="function"&&it(s),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(Ye,s)}catch{}}var nt=Math.clz32?Math.clz32:Ee,Yt=Math.log,Qe=Math.LN2;function Ee(s){return s>>>=0,s===0?32:31-(Yt(s)/Qe|0)|0}var We=256,Fe=262144,yt=4194304;function $t(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Vt(s,o,d){var h=s.pendingLanes;if(h===0)return 0;var b=0,S=s.suspendedLanes,_=s.pingedLanes;s=s.warmLanes;var I=h&134217727;return I!==0?(h=I&~S,h!==0?b=$t(h):(_&=I,_!==0?b=$t(_):d||(d=I&~s,d!==0&&(b=$t(d))))):(I=h&~S,I!==0?b=$t(I):_!==0?b=$t(_):d||(d=h&~s,d!==0&&(b=$t(d)))),b===0?0:o!==0&&o!==b&&(o&S)===0&&(S=b&-b,d=o&-o,S>=d||S===32&&(d&4194048)!==0)?o:b}function yr(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function kn(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fe(){var s=yt;return yt<<=1,(yt&62914560)===0&&(yt=4194304),s}function ke(s){for(var o=[],d=0;31>d;d++)o.push(s);return o}function Xe(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function er(s,o,d,h,b,S){var _=s.pendingLanes;s.pendingLanes=d,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=d,s.entangledLanes&=d,s.errorRecoveryDisabledLanes&=d,s.shellSuspendCounter=0;var I=s.entanglements,V=s.expirationTimes,ie=s.hiddenUpdates;for(d=_&~d;0<d;){var ve=31-nt(d),be=1<<ve;I[ve]=0,V[ve]=-1;var oe=ie[ve];if(oe!==null)for(ie[ve]=null,ve=0;ve<oe.length;ve++){var pe=oe[ve];pe!==null&&(pe.lane&=-536870913)}d&=~be}h!==0&&lr(s,h,0),S!==0&&b===0&&s.tag!==0&&(s.suspendedLanes|=S&~(_&~o))}function lr(s,o,d){s.pendingLanes|=o,s.suspendedLanes&=~o;var h=31-nt(o);s.entangledLanes|=o,s.entanglements[h]=s.entanglements[h]|1073741824|d&261930}function hi(s,o){var d=s.entangledLanes|=o;for(s=s.entanglements;d;){var h=31-nt(d),b=1<<h;b&o|s[h]&o&&(s[h]|=o),d&=~b}}function ol(s,o){var d=o&-o;return d=(d&42)!==0?1:cl(d),(d&(s.suspendedLanes|o))!==0?0:d}function cl(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Kc(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function sf(){var s=G.p;return s!==0?s:(s=window.event,s===void 0?32:wC(s.type))}function lf(s,o){var d=G.p;try{return G.p=s,o()}finally{G.p=d}}var Ra=Math.random().toString(36).slice(2),Pr="__reactFiber$"+Ra,en="__reactProps$"+Ra,os="__reactContainer$"+Ra,Qc="__reactEvents$"+Ra,zx="__reactListeners$"+Ra,Bx="__reactHandles$"+Ra,of="__reactResources$"+Ra,ul="__reactMarker$"+Ra;function Xc(s){delete s[Pr],delete s[en],delete s[Qc],delete s[zx],delete s[Bx]}function cs(s){var o=s[Pr];if(o)return o;for(var d=s.parentNode;d;){if(o=d[os]||d[Pr]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(s=iC(s);s!==null;){if(d=s[Pr])return d;s=iC(s)}return o}s=d,d=s.parentNode}return null}function us(s){if(s=s[Pr]||s[os]){var o=s.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return s}return null}function dl(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(n(33))}function ds(s){var o=s[of];return o||(o=s[of]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Ar(s){s[ul]=!0}var cf=new Set,Y={};function Se(s,o){ur(s,o),ur(s+"Capture",o)}function ur(s,o){for(Y[s]=o,s=0;s<o.length;s++)cf.add(o[s])}var Mn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),La={},Fa={};function xi(s){return Ut.call(Fa,s)?!0:Ut.call(La,s)?!1:Mn.test(s)?Fa[s]=!0:(La[s]=!0,!1)}function vi(s,o,d){if(xi(o))if(d===null)s.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+d)}}function fl(s,o,d){if(d===null)s.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+d)}}function kr(s,o,d,h){if(h===null)s.removeAttribute(d);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(d);return}s.setAttributeNS(o,d,""+h)}}function wr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function qN(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function oR(s,o,d){var h=Object.getOwnPropertyDescriptor(s.constructor.prototype,o);if(!s.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var b=h.get,S=h.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return b.call(this)},set:function(_){d=""+_,S.call(this,_)}}),Object.defineProperty(s,o,{enumerable:h.enumerable}),{getValue:function(){return d},setValue:function(_){d=""+_},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function $x(s){if(!s._valueTracker){var o=qN(s)?"checked":"value";s._valueTracker=oR(s,o,""+s[o])}}function UN(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var d=o.getValue(),h="";return s&&(h=qN(s)?s.checked?"true":"false":s.value),s=h,s!==d?(o.setValue(s),!0):!1}function uf(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var cR=/[\n"\\]/g;function Wn(s){return s.replace(cR,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Hx(s,o,d,h,b,S,_,I){s.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?s.type=_:s.removeAttribute("type"),o!=null?_==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+wr(o)):s.value!==""+wr(o)&&(s.value=""+wr(o)):_!=="submit"&&_!=="reset"||s.removeAttribute("value"),o!=null?qx(s,_,wr(o)):d!=null?qx(s,_,wr(d)):h!=null&&s.removeAttribute("value"),b==null&&S!=null&&(s.defaultChecked=!!S),b!=null&&(s.checked=b&&typeof b!="function"&&typeof b!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.name=""+wr(I):s.removeAttribute("name")}function YN(s,o,d,h,b,S,_,I){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(s.type=S),o!=null||d!=null){if(!(S!=="submit"&&S!=="reset"||o!=null)){$x(s);return}d=d!=null?""+wr(d):"",o=o!=null?""+wr(o):d,I||o===s.value||(s.value=o),s.defaultValue=o}h=h??b,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=I?s.checked:!!h,s.defaultChecked=!!h,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.name=_),$x(s)}function qx(s,o,d){o==="number"&&uf(s.ownerDocument)===s||s.defaultValue===""+d||(s.defaultValue=""+d)}function mo(s,o,d,h){if(s=s.options,o){o={};for(var b=0;b<d.length;b++)o["$"+d[b]]=!0;for(d=0;d<s.length;d++)b=o.hasOwnProperty("$"+s[d].value),s[d].selected!==b&&(s[d].selected=b),b&&h&&(s[d].defaultSelected=!0)}else{for(d=""+wr(d),o=null,b=0;b<s.length;b++){if(s[b].value===d){s[b].selected=!0,h&&(s[b].defaultSelected=!0);return}o!==null||s[b].disabled||(o=s[b])}o!==null&&(o.selected=!0)}}function VN(s,o,d){if(o!=null&&(o=""+wr(o),o!==s.value&&(s.value=o),d==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=d!=null?""+wr(d):""}function GN(s,o,d,h){if(o==null){if(h!=null){if(d!=null)throw Error(n(92));if(J(h)){if(1<h.length)throw Error(n(93));h=h[0]}d=h}d==null&&(d=""),o=d}d=wr(o),s.defaultValue=d,h=s.textContent,h===d&&h!==""&&h!==null&&(s.value=h),$x(s)}function po(s,o){if(o){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=o;return}}s.textContent=o}var uR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function WN(s,o,d){var h=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?h?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":h?s.setProperty(o,d):typeof d!="number"||d===0||uR.has(o)?o==="float"?s.cssFloat=d:s[o]=(""+d).trim():s[o]=d+"px"}function KN(s,o,d){if(o!=null&&typeof o!="object")throw Error(n(62));if(s=s.style,d!=null){for(var h in d)!d.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var b in o)h=o[b],o.hasOwnProperty(b)&&d[b]!==h&&WN(s,b,h)}else for(var S in o)o.hasOwnProperty(S)&&WN(s,S,o[S])}function Ux(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fR=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function df(s){return fR.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function gi(){}var Yx=null;function Vx(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ho=null,xo=null;function QN(s){var o=us(s);if(o&&(s=o.stateNode)){var d=s[en]||null;e:switch(s=o.stateNode,o.type){case"input":if(Hx(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Wn(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var h=d[o];if(h!==s&&h.form===s.form){var b=h[en]||null;if(!b)throw Error(n(90));Hx(h,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(o=0;o<d.length;o++)h=d[o],h.form===s.form&&UN(h)}break e;case"textarea":VN(s,d.value,d.defaultValue);break e;case"select":o=d.value,o!=null&&mo(s,!!d.multiple,o,!1)}}}var Gx=!1;function XN(s,o,d){if(Gx)return s(o,d);Gx=!0;try{var h=s(o);return h}finally{if(Gx=!1,(ho!==null||xo!==null)&&(Zf(),ho&&(o=ho,s=xo,xo=ho=null,QN(o),s)))for(o=0;o<s.length;o++)QN(s[o])}}function Zc(s,o){var d=s.stateNode;if(d===null)return null;var h=d[en]||null;if(h===null)return null;d=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(n(231,o,typeof d));return d}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wx=!1;if(bi)try{var Jc={};Object.defineProperty(Jc,"passive",{get:function(){Wx=!0}}),window.addEventListener("test",Jc,Jc),window.removeEventListener("test",Jc,Jc)}catch{Wx=!1}var fs=null,Kx=null,ff=null;function ZN(){if(ff)return ff;var s,o=Kx,d=o.length,h,b="value"in fs?fs.value:fs.textContent,S=b.length;for(s=0;s<d&&o[s]===b[s];s++);var _=d-s;for(h=1;h<=_&&o[d-h]===b[S-h];h++);return ff=b.slice(s,1<h?1-h:void 0)}function mf(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function pf(){return!0}function JN(){return!1}function mn(s){function o(d,h,b,S,_){this._reactName=d,this._targetInst=b,this.type=h,this.nativeEvent=S,this.target=_,this.currentTarget=null;for(var I in s)s.hasOwnProperty(I)&&(d=s[I],this[I]=d?d(S):S[I]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?pf:JN,this.isPropagationStopped=JN,this}return x(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=pf)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=pf)},persist:function(){},isPersistent:pf}),o}var ml={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hf=mn(ml),eu=x({},ml,{view:0,detail:0}),mR=mn(eu),Qx,Xx,tu,xf=x({},eu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jx,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==tu&&(tu&&s.type==="mousemove"?(Qx=s.screenX-tu.screenX,Xx=s.screenY-tu.screenY):Xx=Qx=0,tu=s),Qx)},movementY:function(s){return"movementY"in s?s.movementY:Xx}}),ej=mn(xf),pR=x({},xf,{dataTransfer:0}),hR=mn(pR),xR=x({},eu,{relatedTarget:0}),Zx=mn(xR),vR=x({},ml,{animationName:0,elapsedTime:0,pseudoElement:0}),gR=mn(vR),bR=x({},ml,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),yR=mn(bR),wR=x({},ml,{data:0}),tj=mn(wR),NR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CR(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=SR[s])?!!o[s]:!1}function Jx(){return CR}var AR=x({},eu,{key:function(s){if(s.key){var o=NR[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=mf(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?jR[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jx,charCode:function(s){return s.type==="keypress"?mf(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?mf(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),kR=mn(AR),MR=x({},xf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rj=mn(MR),ER=x({},eu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jx}),DR=mn(ER),_R=x({},ml,{propertyName:0,elapsedTime:0,pseudoElement:0}),OR=mn(_R),TR=x({},xf,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),PR=mn(TR),IR=x({},ml,{newState:0,oldState:0}),RR=mn(IR),LR=[9,13,27,32],ev=bi&&"CompositionEvent"in window,ru=null;bi&&"documentMode"in document&&(ru=document.documentMode);var FR=bi&&"TextEvent"in window&&!ru,nj=bi&&(!ev||ru&&8<ru&&11>=ru),aj=" ",ij=!1;function sj(s,o){switch(s){case"keyup":return LR.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lj(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var vo=!1;function zR(s,o){switch(s){case"compositionend":return lj(o);case"keypress":return o.which!==32?null:(ij=!0,aj);case"textInput":return s=o.data,s===aj&&ij?null:s;default:return null}}function BR(s,o){if(vo)return s==="compositionend"||!ev&&sj(s,o)?(s=ZN(),ff=Kx=fs=null,vo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return nj&&o.locale!=="ko"?null:o.data;default:return null}}var $R={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oj(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!$R[s.type]:o==="textarea"}function cj(s,o,d,h){ho?xo?xo.push(h):xo=[h]:ho=h,o=im(o,"onChange"),0<o.length&&(d=new hf("onChange","change",null,d,h),s.push({event:d,listeners:o}))}var nu=null,au=null;function HR(s){YS(s,0)}function vf(s){var o=dl(s);if(UN(o))return s}function uj(s,o){if(s==="change")return o}var dj=!1;if(bi){var tv;if(bi){var rv="oninput"in document;if(!rv){var fj=document.createElement("div");fj.setAttribute("oninput","return;"),rv=typeof fj.oninput=="function"}tv=rv}else tv=!1;dj=tv&&(!document.documentMode||9<document.documentMode)}function mj(){nu&&(nu.detachEvent("onpropertychange",pj),au=nu=null)}function pj(s){if(s.propertyName==="value"&&vf(au)){var o=[];cj(o,au,s,Vx(s)),XN(HR,o)}}function qR(s,o,d){s==="focusin"?(mj(),nu=o,au=d,nu.attachEvent("onpropertychange",pj)):s==="focusout"&&mj()}function UR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return vf(au)}function YR(s,o){if(s==="click")return vf(o)}function VR(s,o){if(s==="input"||s==="change")return vf(o)}function GR(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var En=typeof Object.is=="function"?Object.is:GR;function iu(s,o){if(En(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var d=Object.keys(s),h=Object.keys(o);if(d.length!==h.length)return!1;for(h=0;h<d.length;h++){var b=d[h];if(!Ut.call(o,b)||!En(s[b],o[b]))return!1}return!0}function hj(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function xj(s,o){var d=hj(s);s=0;for(var h;d;){if(d.nodeType===3){if(h=s+d.textContent.length,s<=o&&h>=o)return{node:d,offset:o-s};s=h}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=hj(d)}}function vj(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?vj(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function gj(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=uf(s.document);o instanceof s.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)s=o.contentWindow;else break;o=uf(s.document)}return o}function nv(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var WR=bi&&"documentMode"in document&&11>=document.documentMode,go=null,av=null,su=null,iv=!1;function bj(s,o,d){var h=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;iv||go==null||go!==uf(h)||(h=go,"selectionStart"in h&&nv(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),su&&iu(su,h)||(su=h,h=im(av,"onSelect"),0<h.length&&(o=new hf("onSelect","select",null,o,d),s.push({event:o,listeners:h}),o.target=go)))}function pl(s,o){var d={};return d[s.toLowerCase()]=o.toLowerCase(),d["Webkit"+s]="webkit"+o,d["Moz"+s]="moz"+o,d}var bo={animationend:pl("Animation","AnimationEnd"),animationiteration:pl("Animation","AnimationIteration"),animationstart:pl("Animation","AnimationStart"),transitionrun:pl("Transition","TransitionRun"),transitionstart:pl("Transition","TransitionStart"),transitioncancel:pl("Transition","TransitionCancel"),transitionend:pl("Transition","TransitionEnd")},sv={},yj={};bi&&(yj=document.createElement("div").style,"AnimationEvent"in window||(delete bo.animationend.animation,delete bo.animationiteration.animation,delete bo.animationstart.animation),"TransitionEvent"in window||delete bo.transitionend.transition);function hl(s){if(sv[s])return sv[s];if(!bo[s])return s;var o=bo[s],d;for(d in o)if(o.hasOwnProperty(d)&&d in yj)return sv[s]=o[d];return s}var wj=hl("animationend"),Nj=hl("animationiteration"),jj=hl("animationstart"),KR=hl("transitionrun"),QR=hl("transitionstart"),XR=hl("transitioncancel"),Sj=hl("transitionend"),Cj=new Map,lv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lv.push("scrollEnd");function ha(s,o){Cj.set(s,o),Se(o,[s])}var gf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Kn=[],yo=0,ov=0;function bf(){for(var s=yo,o=ov=yo=0;o<s;){var d=Kn[o];Kn[o++]=null;var h=Kn[o];Kn[o++]=null;var b=Kn[o];Kn[o++]=null;var S=Kn[o];if(Kn[o++]=null,h!==null&&b!==null){var _=h.pending;_===null?b.next=b:(b.next=_.next,_.next=b),h.pending=b}S!==0&&Aj(d,b,S)}}function yf(s,o,d,h){Kn[yo++]=s,Kn[yo++]=o,Kn[yo++]=d,Kn[yo++]=h,ov|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function cv(s,o,d,h){return yf(s,o,d,h),wf(s)}function xl(s,o){return yf(s,null,null,o),wf(s)}function Aj(s,o,d){s.lanes|=d;var h=s.alternate;h!==null&&(h.lanes|=d);for(var b=!1,S=s.return;S!==null;)S.childLanes|=d,h=S.alternate,h!==null&&(h.childLanes|=d),S.tag===22&&(s=S.stateNode,s===null||s._visibility&1||(b=!0)),s=S,S=S.return;return s.tag===3?(S=s.stateNode,b&&o!==null&&(b=31-nt(d),s=S.hiddenUpdates,h=s[b],h===null?s[b]=[o]:h.push(o),o.lane=d|536870912),S):null}function wf(s){if(50<Mu)throw Mu=0,g0=null,Error(n(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var wo={};function ZR(s,o,d,h){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(s,o,d,h){return new ZR(s,o,d,h)}function uv(s){return s=s.prototype,!(!s||!s.isReactComponent)}function yi(s,o){var d=s.alternate;return d===null?(d=Dn(s.tag,o,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=o,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&65011712,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,o=s.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d.refCleanup=s.refCleanup,d}function kj(s,o){s.flags&=65011714;var d=s.alternate;return d===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,o=d.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Nf(s,o,d,h,b,S){var _=0;if(h=s,typeof s=="function")uv(s)&&(_=1);else if(typeof s=="string")_=n8(s,d,B.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case $:return s=Dn(31,d,o,b),s.elementType=$,s.lanes=S,s;case y:return vl(d.children,b,S,o);case w:_=8,b|=24;break;case A:return s=Dn(12,d,o,b|2),s.elementType=A,s.lanes=S,s;case E:return s=Dn(13,d,o,b),s.elementType=E,s.lanes=S,s;case O:return s=Dn(19,d,o,b),s.elementType=O,s.lanes=S,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case C:_=10;break e;case k:_=9;break e;case M:_=11;break e;case P:_=14;break e;case T:_=16,h=null;break e}_=29,d=Error(n(130,s===null?"null":typeof s,"")),h=null}return o=Dn(_,d,o,b),o.elementType=s,o.type=h,o.lanes=S,o}function vl(s,o,d,h){return s=Dn(7,s,h,o),s.lanes=d,s}function dv(s,o,d){return s=Dn(6,s,null,o),s.lanes=d,s}function Mj(s){var o=Dn(18,null,null,0);return o.stateNode=s,o}function fv(s,o,d){return o=Dn(4,s.children!==null?s.children:[],s.key,o),o.lanes=d,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var Ej=new WeakMap;function Qn(s,o){if(typeof s=="object"&&s!==null){var d=Ej.get(s);return d!==void 0?d:(o={value:s,source:o,stack:Bt(o)},Ej.set(s,o),o)}return{value:s,source:o,stack:Bt(o)}}var No=[],jo=0,jf=null,lu=0,Xn=[],Zn=0,ms=null,za=1,Ba="";function wi(s,o){No[jo++]=lu,No[jo++]=jf,jf=s,lu=o}function Dj(s,o,d){Xn[Zn++]=za,Xn[Zn++]=Ba,Xn[Zn++]=ms,ms=s;var h=za;s=Ba;var b=32-nt(h)-1;h&=~(1<<b),d+=1;var S=32-nt(o)+b;if(30<S){var _=b-b%5;S=(h&(1<<_)-1).toString(32),h>>=_,b-=_,za=1<<32-nt(o)+b|d<<b|h,Ba=S+s}else za=1<<S|d<<b|h,Ba=s}function mv(s){s.return!==null&&(wi(s,1),Dj(s,1,0))}function pv(s){for(;s===jf;)jf=No[--jo],No[jo]=null,lu=No[--jo],No[jo]=null;for(;s===ms;)ms=Xn[--Zn],Xn[Zn]=null,Ba=Xn[--Zn],Xn[Zn]=null,za=Xn[--Zn],Xn[Zn]=null}function _j(s,o){Xn[Zn++]=za,Xn[Zn++]=Ba,Xn[Zn++]=ms,za=o.id,Ba=o.overflow,ms=s}var Vr=null,Wt=null,wt=!1,ps=null,Jn=!1,hv=Error(n(519));function hs(s){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ou(Qn(o,s)),hv}function Oj(s){var o=s.stateNode,d=s.type,h=s.memoizedProps;switch(o[Pr]=s,o[en]=h,d){case"dialog":mt("cancel",o),mt("close",o);break;case"iframe":case"object":case"embed":mt("load",o);break;case"video":case"audio":for(d=0;d<Du.length;d++)mt(Du[d],o);break;case"source":mt("error",o);break;case"img":case"image":case"link":mt("error",o),mt("load",o);break;case"details":mt("toggle",o);break;case"input":mt("invalid",o),YN(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":mt("invalid",o);break;case"textarea":mt("invalid",o),GN(o,h.value,h.defaultValue,h.children)}d=h.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||h.suppressHydrationWarning===!0||KS(o.textContent,d)?(h.popover!=null&&(mt("beforetoggle",o),mt("toggle",o)),h.onScroll!=null&&mt("scroll",o),h.onScrollEnd!=null&&mt("scrollend",o),h.onClick!=null&&(o.onclick=gi),o=!0):o=!1,o||hs(s,!0)}function Tj(s){for(Vr=s.return;Vr;)switch(Vr.tag){case 5:case 31:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:Vr=Vr.return}}function So(s){if(s!==Vr)return!1;if(!wt)return Tj(s),wt=!0,!1;var o=s.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=s.type,d=!(d!=="form"&&d!=="button")||T0(s.type,s.memoizedProps)),d=!d),d&&Wt&&hs(s),Tj(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));Wt=aC(s)}else if(o===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));Wt=aC(s)}else o===27?(o=Wt,Es(s.type)?(s=F0,F0=null,Wt=s):Wt=o):Wt=Vr?ta(s.stateNode.nextSibling):null;return!0}function gl(){Wt=Vr=null,wt=!1}function xv(){var s=ps;return s!==null&&(vn===null?vn=s:vn.push.apply(vn,s),ps=null),s}function ou(s){ps===null?ps=[s]:ps.push(s)}var vv=F(null),bl=null,Ni=null;function xs(s,o,d){ee(vv,o._currentValue),o._currentValue=d}function ji(s){s._currentValue=vv.current,ce(vv)}function gv(s,o,d){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===d)break;s=s.return}}function bv(s,o,d,h){var b=s.child;for(b!==null&&(b.return=s);b!==null;){var S=b.dependencies;if(S!==null){var _=b.child;S=S.firstContext;e:for(;S!==null;){var I=S;S=b;for(var V=0;V<o.length;V++)if(I.context===o[V]){S.lanes|=d,I=S.alternate,I!==null&&(I.lanes|=d),gv(S.return,d,s),h||(_=null);break e}S=I.next}}else if(b.tag===18){if(_=b.return,_===null)throw Error(n(341));_.lanes|=d,S=_.alternate,S!==null&&(S.lanes|=d),gv(_,d,s),_=null}else _=b.child;if(_!==null)_.return=b;else for(_=b;_!==null;){if(_===s){_=null;break}if(b=_.sibling,b!==null){b.return=_.return,_=b;break}_=_.return}b=_}}function Co(s,o,d,h){s=null;for(var b=o,S=!1;b!==null;){if(!S){if((b.flags&524288)!==0)S=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var _=b.alternate;if(_===null)throw Error(n(387));if(_=_.memoizedProps,_!==null){var I=b.type;En(b.pendingProps.value,_.value)||(s!==null?s.push(I):s=[I])}}else if(b===xe.current){if(_=b.alternate,_===null)throw Error(n(387));_.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(s!==null?s.push(Iu):s=[Iu])}b=b.return}s!==null&&bv(o,s,d,h),o.flags|=262144}function Sf(s){for(s=s.firstContext;s!==null;){if(!En(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function yl(s){bl=s,Ni=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Gr(s){return Pj(bl,s)}function Cf(s,o){return bl===null&&yl(s),Pj(s,o)}function Pj(s,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},Ni===null){if(s===null)throw Error(n(308));Ni=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Ni=Ni.next=o;return d}var JR=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(d,h){s.push(h)}};this.abort=function(){o.aborted=!0,s.forEach(function(d){return d()})}},eL=e.unstable_scheduleCallback,tL=e.unstable_NormalPriority,Mr={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yv(){return{controller:new JR,data:new Map,refCount:0}}function cu(s){s.refCount--,s.refCount===0&&eL(tL,function(){s.controller.abort()})}var uu=null,wv=0,Ao=0,ko=null;function rL(s,o){if(uu===null){var d=uu=[];wv=0,Ao=S0(),ko={status:"pending",value:void 0,then:function(h){d.push(h)}}}return wv++,o.then(Ij,Ij),o}function Ij(){if(--wv===0&&uu!==null){ko!==null&&(ko.status="fulfilled");var s=uu;uu=null,Ao=0,ko=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function nL(s,o){var d=[],h={status:"pending",value:null,reason:null,then:function(b){d.push(b)}};return s.then(function(){h.status="fulfilled",h.value=o;for(var b=0;b<d.length;b++)(0,d[b])(o)},function(b){for(h.status="rejected",h.reason=b,b=0;b<d.length;b++)(0,d[b])(void 0)}),h}var Rj=R.S;R.S=function(s,o){bS=ze(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&rL(s,o),Rj!==null&&Rj(s,o)};var wl=F(null);function Nv(){var s=wl.current;return s!==null?s:Ht.pooledCache}function Af(s,o){o===null?ee(wl,wl.current):ee(wl,o.pool)}function Lj(){var s=Nv();return s===null?null:{parent:Mr._currentValue,pool:s}}var Mo=Error(n(460)),jv=Error(n(474)),kf=Error(n(542)),Mf={then:function(){}};function Fj(s){return s=s.status,s==="fulfilled"||s==="rejected"}function zj(s,o,d){switch(d=s[d],d===void 0?s.push(o):d!==o&&(o.then(gi,gi),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,$j(s),s;default:if(typeof o.status=="string")o.then(gi,gi);else{if(s=Ht,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=o,s.status="pending",s.then(function(h){if(o.status==="pending"){var b=o;b.status="fulfilled",b.value=h}},function(h){if(o.status==="pending"){var b=o;b.status="rejected",b.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,$j(s),s}throw jl=o,Mo}}function Nl(s){try{var o=s._init;return o(s._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(jl=d,Mo):d}}var jl=null;function Bj(){if(jl===null)throw Error(n(459));var s=jl;return jl=null,s}function $j(s){if(s===Mo||s===kf)throw Error(n(483))}var Eo=null,du=0;function Ef(s){var o=du;return du+=1,Eo===null&&(Eo=[]),zj(Eo,s,o)}function fu(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function Df(s,o){throw o.$$typeof===v?Error(n(525)):(s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function Hj(s){function o(te,X){if(s){var ae=te.deletions;ae===null?(te.deletions=[X],te.flags|=16):ae.push(X)}}function d(te,X){if(!s)return null;for(;X!==null;)o(te,X),X=X.sibling;return null}function h(te){for(var X=new Map;te!==null;)te.key!==null?X.set(te.key,te):X.set(te.index,te),te=te.sibling;return X}function b(te,X){return te=yi(te,X),te.index=0,te.sibling=null,te}function S(te,X,ae){return te.index=ae,s?(ae=te.alternate,ae!==null?(ae=ae.index,ae<X?(te.flags|=67108866,X):ae):(te.flags|=67108866,X)):(te.flags|=1048576,X)}function _(te){return s&&te.alternate===null&&(te.flags|=67108866),te}function I(te,X,ae,ge){return X===null||X.tag!==6?(X=dv(ae,te.mode,ge),X.return=te,X):(X=b(X,ae),X.return=te,X)}function V(te,X,ae,ge){var Ke=ae.type;return Ke===y?ve(te,X,ae.props.children,ge,ae.key):X!==null&&(X.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===T&&Nl(Ke)===X.type)?(X=b(X,ae.props),fu(X,ae),X.return=te,X):(X=Nf(ae.type,ae.key,ae.props,null,te.mode,ge),fu(X,ae),X.return=te,X)}function ie(te,X,ae,ge){return X===null||X.tag!==4||X.stateNode.containerInfo!==ae.containerInfo||X.stateNode.implementation!==ae.implementation?(X=fv(ae,te.mode,ge),X.return=te,X):(X=b(X,ae.children||[]),X.return=te,X)}function ve(te,X,ae,ge,Ke){return X===null||X.tag!==7?(X=vl(ae,te.mode,ge,Ke),X.return=te,X):(X=b(X,ae),X.return=te,X)}function be(te,X,ae){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=dv(""+X,te.mode,ae),X.return=te,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case g:return ae=Nf(X.type,X.key,X.props,null,te.mode,ae),fu(ae,X),ae.return=te,ae;case j:return X=fv(X,te.mode,ae),X.return=te,X;case T:return X=Nl(X),be(te,X,ae)}if(J(X)||D(X))return X=vl(X,te.mode,ae,null),X.return=te,X;if(typeof X.then=="function")return be(te,Ef(X),ae);if(X.$$typeof===C)return be(te,Cf(te,X),ae);Df(te,X)}return null}function oe(te,X,ae,ge){var Ke=X!==null?X.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Ke!==null?null:I(te,X,""+ae,ge);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case g:return ae.key===Ke?V(te,X,ae,ge):null;case j:return ae.key===Ke?ie(te,X,ae,ge):null;case T:return ae=Nl(ae),oe(te,X,ae,ge)}if(J(ae)||D(ae))return Ke!==null?null:ve(te,X,ae,ge,null);if(typeof ae.then=="function")return oe(te,X,Ef(ae),ge);if(ae.$$typeof===C)return oe(te,X,Cf(te,ae),ge);Df(te,ae)}return null}function pe(te,X,ae,ge,Ke){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return te=te.get(ae)||null,I(X,te,""+ge,Ke);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case g:return te=te.get(ge.key===null?ae:ge.key)||null,V(X,te,ge,Ke);case j:return te=te.get(ge.key===null?ae:ge.key)||null,ie(X,te,ge,Ke);case T:return ge=Nl(ge),pe(te,X,ae,ge,Ke)}if(J(ge)||D(ge))return te=te.get(ae)||null,ve(X,te,ge,Ke,null);if(typeof ge.then=="function")return pe(te,X,ae,Ef(ge),Ke);if(ge.$$typeof===C)return pe(te,X,ae,Cf(X,ge),Ke);Df(X,ge)}return null}function qe(te,X,ae,ge){for(var Ke=null,St=null,Ve=X,ot=X=0,gt=null;Ve!==null&&ot<ae.length;ot++){Ve.index>ot?(gt=Ve,Ve=null):gt=Ve.sibling;var Ct=oe(te,Ve,ae[ot],ge);if(Ct===null){Ve===null&&(Ve=gt);break}s&&Ve&&Ct.alternate===null&&o(te,Ve),X=S(Ct,X,ot),St===null?Ke=Ct:St.sibling=Ct,St=Ct,Ve=gt}if(ot===ae.length)return d(te,Ve),wt&&wi(te,ot),Ke;if(Ve===null){for(;ot<ae.length;ot++)Ve=be(te,ae[ot],ge),Ve!==null&&(X=S(Ve,X,ot),St===null?Ke=Ve:St.sibling=Ve,St=Ve);return wt&&wi(te,ot),Ke}for(Ve=h(Ve);ot<ae.length;ot++)gt=pe(Ve,te,ot,ae[ot],ge),gt!==null&&(s&&gt.alternate!==null&&Ve.delete(gt.key===null?ot:gt.key),X=S(gt,X,ot),St===null?Ke=gt:St.sibling=gt,St=gt);return s&&Ve.forEach(function(Ps){return o(te,Ps)}),wt&&wi(te,ot),Ke}function Ze(te,X,ae,ge){if(ae==null)throw Error(n(151));for(var Ke=null,St=null,Ve=X,ot=X=0,gt=null,Ct=ae.next();Ve!==null&&!Ct.done;ot++,Ct=ae.next()){Ve.index>ot?(gt=Ve,Ve=null):gt=Ve.sibling;var Ps=oe(te,Ve,Ct.value,ge);if(Ps===null){Ve===null&&(Ve=gt);break}s&&Ve&&Ps.alternate===null&&o(te,Ve),X=S(Ps,X,ot),St===null?Ke=Ps:St.sibling=Ps,St=Ps,Ve=gt}if(Ct.done)return d(te,Ve),wt&&wi(te,ot),Ke;if(Ve===null){for(;!Ct.done;ot++,Ct=ae.next())Ct=be(te,Ct.value,ge),Ct!==null&&(X=S(Ct,X,ot),St===null?Ke=Ct:St.sibling=Ct,St=Ct);return wt&&wi(te,ot),Ke}for(Ve=h(Ve);!Ct.done;ot++,Ct=ae.next())Ct=pe(Ve,te,ot,Ct.value,ge),Ct!==null&&(s&&Ct.alternate!==null&&Ve.delete(Ct.key===null?ot:Ct.key),X=S(Ct,X,ot),St===null?Ke=Ct:St.sibling=Ct,St=Ct);return s&&Ve.forEach(function(p8){return o(te,p8)}),wt&&wi(te,ot),Ke}function Lt(te,X,ae,ge){if(typeof ae=="object"&&ae!==null&&ae.type===y&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case g:e:{for(var Ke=ae.key;X!==null;){if(X.key===Ke){if(Ke=ae.type,Ke===y){if(X.tag===7){d(te,X.sibling),ge=b(X,ae.props.children),ge.return=te,te=ge;break e}}else if(X.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===T&&Nl(Ke)===X.type){d(te,X.sibling),ge=b(X,ae.props),fu(ge,ae),ge.return=te,te=ge;break e}d(te,X);break}else o(te,X);X=X.sibling}ae.type===y?(ge=vl(ae.props.children,te.mode,ge,ae.key),ge.return=te,te=ge):(ge=Nf(ae.type,ae.key,ae.props,null,te.mode,ge),fu(ge,ae),ge.return=te,te=ge)}return _(te);case j:e:{for(Ke=ae.key;X!==null;){if(X.key===Ke)if(X.tag===4&&X.stateNode.containerInfo===ae.containerInfo&&X.stateNode.implementation===ae.implementation){d(te,X.sibling),ge=b(X,ae.children||[]),ge.return=te,te=ge;break e}else{d(te,X);break}else o(te,X);X=X.sibling}ge=fv(ae,te.mode,ge),ge.return=te,te=ge}return _(te);case T:return ae=Nl(ae),Lt(te,X,ae,ge)}if(J(ae))return qe(te,X,ae,ge);if(D(ae)){if(Ke=D(ae),typeof Ke!="function")throw Error(n(150));return ae=Ke.call(ae),Ze(te,X,ae,ge)}if(typeof ae.then=="function")return Lt(te,X,Ef(ae),ge);if(ae.$$typeof===C)return Lt(te,X,Cf(te,ae),ge);Df(te,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,X!==null&&X.tag===6?(d(te,X.sibling),ge=b(X,ae),ge.return=te,te=ge):(d(te,X),ge=dv(ae,te.mode,ge),ge.return=te,te=ge),_(te)):d(te,X)}return function(te,X,ae,ge){try{du=0;var Ke=Lt(te,X,ae,ge);return Eo=null,Ke}catch(Ve){if(Ve===Mo||Ve===kf)throw Ve;var St=Dn(29,Ve,null,te.mode);return St.lanes=ge,St.return=te,St}}}var Sl=Hj(!0),qj=Hj(!1),vs=!1;function Sv(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cv(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function gs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function bs(s,o,d){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(kt&2)!==0){var b=h.pending;return b===null?o.next=o:(o.next=b.next,b.next=o),h.pending=o,o=wf(s),Aj(s,null,d),o}return yf(s,h,o,d),wf(s)}function mu(s,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var h=o.lanes;h&=s.pendingLanes,d|=h,o.lanes=d,hi(s,d)}}function Av(s,o){var d=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,d===h)){var b=null,S=null;if(d=d.firstBaseUpdate,d!==null){do{var _={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};S===null?b=S=_:S=S.next=_,d=d.next}while(d!==null);S===null?b=S=o:S=S.next=o}else b=S=o;d={baseState:h.baseState,firstBaseUpdate:b,lastBaseUpdate:S,shared:h.shared,callbacks:h.callbacks},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=o:s.next=o,d.lastBaseUpdate=o}var kv=!1;function pu(){if(kv){var s=ko;if(s!==null)throw s}}function hu(s,o,d,h){kv=!1;var b=s.updateQueue;vs=!1;var S=b.firstBaseUpdate,_=b.lastBaseUpdate,I=b.shared.pending;if(I!==null){b.shared.pending=null;var V=I,ie=V.next;V.next=null,_===null?S=ie:_.next=ie,_=V;var ve=s.alternate;ve!==null&&(ve=ve.updateQueue,I=ve.lastBaseUpdate,I!==_&&(I===null?ve.firstBaseUpdate=ie:I.next=ie,ve.lastBaseUpdate=V))}if(S!==null){var be=b.baseState;_=0,ve=ie=V=null,I=S;do{var oe=I.lane&-536870913,pe=oe!==I.lane;if(pe?(vt&oe)===oe:(h&oe)===oe){oe!==0&&oe===Ao&&(kv=!0),ve!==null&&(ve=ve.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var qe=s,Ze=I;oe=o;var Lt=d;switch(Ze.tag){case 1:if(qe=Ze.payload,typeof qe=="function"){be=qe.call(Lt,be,oe);break e}be=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=Ze.payload,oe=typeof qe=="function"?qe.call(Lt,be,oe):qe,oe==null)break e;be=x({},be,oe);break e;case 2:vs=!0}}oe=I.callback,oe!==null&&(s.flags|=64,pe&&(s.flags|=8192),pe=b.callbacks,pe===null?b.callbacks=[oe]:pe.push(oe))}else pe={lane:oe,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ve===null?(ie=ve=pe,V=be):ve=ve.next=pe,_|=oe;if(I=I.next,I===null){if(I=b.shared.pending,I===null)break;pe=I,I=pe.next,pe.next=null,b.lastBaseUpdate=pe,b.shared.pending=null}}while(!0);ve===null&&(V=be),b.baseState=V,b.firstBaseUpdate=ie,b.lastBaseUpdate=ve,S===null&&(b.shared.lanes=0),Ss|=_,s.lanes=_,s.memoizedState=be}}function Uj(s,o){if(typeof s!="function")throw Error(n(191,s));s.call(o)}function Yj(s,o){var d=s.callbacks;if(d!==null)for(s.callbacks=null,s=0;s<d.length;s++)Uj(d[s],o)}var Do=F(null),_f=F(0);function Vj(s,o){s=Oi,ee(_f,s),ee(Do,o),Oi=s|o.baseLanes}function Mv(){ee(_f,Oi),ee(Do,Do.current)}function Ev(){Oi=_f.current,ce(Do),ce(_f)}var _n=F(null),ea=null;function ys(s){var o=s.alternate;ee(Nr,Nr.current&1),ee(_n,s),ea===null&&(o===null||Do.current!==null||o.memoizedState!==null)&&(ea=s)}function Dv(s){ee(Nr,Nr.current),ee(_n,s),ea===null&&(ea=s)}function Gj(s){s.tag===22?(ee(Nr,Nr.current),ee(_n,s),ea===null&&(ea=s)):ws()}function ws(){ee(Nr,Nr.current),ee(_n,_n.current)}function On(s){ce(_n),ea===s&&(ea=null),ce(Nr)}var Nr=F(0);function Of(s){for(var o=s;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||R0(d)||L0(d)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Si=0,lt=null,It=null,Er=null,Tf=!1,_o=!1,Cl=!1,Pf=0,xu=0,Oo=null,aL=0;function dr(){throw Error(n(321))}function _v(s,o){if(o===null)return!1;for(var d=0;d<o.length&&d<s.length;d++)if(!En(s[d],o[d]))return!1;return!0}function Ov(s,o,d,h,b,S){return Si=S,lt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,R.H=s===null||s.memoizedState===null?D2:Gv,Cl=!1,S=d(h,b),Cl=!1,_o&&(S=Kj(o,d,h,b)),Wj(s),S}function Wj(s){R.H=bu;var o=It!==null&&It.next!==null;if(Si=0,Er=It=lt=null,Tf=!1,xu=0,Oo=null,o)throw Error(n(300));s===null||Dr||(s=s.dependencies,s!==null&&Sf(s)&&(Dr=!0))}function Kj(s,o,d,h){lt=s;var b=0;do{if(_o&&(Oo=null),xu=0,_o=!1,25<=b)throw Error(n(301));if(b+=1,Er=It=null,s.updateQueue!=null){var S=s.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}R.H=_2,S=o(d,h)}while(_o);return S}function iL(){var s=R.H,o=s.useState()[0];return o=typeof o.then=="function"?vu(o):o,s=s.useState()[0],(It!==null?It.memoizedState:null)!==s&&(lt.flags|=1024),o}function Tv(){var s=Pf!==0;return Pf=0,s}function Pv(s,o,d){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~d}function Iv(s){if(Tf){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Tf=!1}Si=0,Er=It=lt=null,_o=!1,xu=Pf=0,Oo=null}function sn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Er===null?lt.memoizedState=Er=s:Er=Er.next=s,Er}function jr(){if(It===null){var s=lt.alternate;s=s!==null?s.memoizedState:null}else s=It.next;var o=Er===null?lt.memoizedState:Er.next;if(o!==null)Er=o,It=s;else{if(s===null)throw lt.alternate===null?Error(n(467)):Error(n(310));It=s,s={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Er===null?lt.memoizedState=Er=s:Er=Er.next=s}return Er}function If(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vu(s){var o=xu;return xu+=1,Oo===null&&(Oo=[]),s=zj(Oo,s,o),o=lt,(Er===null?o.memoizedState:Er.next)===null&&(o=o.alternate,R.H=o===null||o.memoizedState===null?D2:Gv),s}function Rf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return vu(s);if(s.$$typeof===C)return Gr(s)}throw Error(n(438,String(s)))}function Rv(s){var o=null,d=lt.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var h=lt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(b){return b.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=If(),lt.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(s),h=0;h<s;h++)d[h]=L;return o.index++,d}function Ci(s,o){return typeof o=="function"?o(s):o}function Lf(s){var o=jr();return Lv(o,It,s)}function Lv(s,o,d){var h=s.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=d;var b=s.baseQueue,S=h.pending;if(S!==null){if(b!==null){var _=b.next;b.next=S.next,S.next=_}o.baseQueue=b=S,h.pending=null}if(S=s.baseState,b===null)s.memoizedState=S;else{o=b.next;var I=_=null,V=null,ie=o,ve=!1;do{var be=ie.lane&-536870913;if(be!==ie.lane?(vt&be)===be:(Si&be)===be){var oe=ie.revertLane;if(oe===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),be===Ao&&(ve=!0);else if((Si&oe)===oe){ie=ie.next,oe===Ao&&(ve=!0);continue}else be={lane:0,revertLane:ie.revertLane,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},V===null?(I=V=be,_=S):V=V.next=be,lt.lanes|=oe,Ss|=oe;be=ie.action,Cl&&d(S,be),S=ie.hasEagerState?ie.eagerState:d(S,be)}else oe={lane:be,revertLane:ie.revertLane,gesture:ie.gesture,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},V===null?(I=V=oe,_=S):V=V.next=oe,lt.lanes|=be,Ss|=be;ie=ie.next}while(ie!==null&&ie!==o);if(V===null?_=S:V.next=I,!En(S,s.memoizedState)&&(Dr=!0,ve&&(d=ko,d!==null)))throw d;s.memoizedState=S,s.baseState=_,s.baseQueue=V,h.lastRenderedState=S}return b===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function Fv(s){var o=jr(),d=o.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var h=d.dispatch,b=d.pending,S=o.memoizedState;if(b!==null){d.pending=null;var _=b=b.next;do S=s(S,_.action),_=_.next;while(_!==b);En(S,o.memoizedState)||(Dr=!0),o.memoizedState=S,o.baseQueue===null&&(o.baseState=S),d.lastRenderedState=S}return[S,h]}function Qj(s,o,d){var h=lt,b=jr(),S=wt;if(S){if(d===void 0)throw Error(n(407));d=d()}else d=o();var _=!En((It||b).memoizedState,d);if(_&&(b.memoizedState=d,Dr=!0),b=b.queue,$v(Jj.bind(null,h,b,s),[s]),b.getSnapshot!==o||_||Er!==null&&Er.memoizedState.tag&1){if(h.flags|=2048,To(9,{destroy:void 0},Zj.bind(null,h,b,d,o),null),Ht===null)throw Error(n(349));S||(Si&127)!==0||Xj(h,o,d)}return d}function Xj(s,o,d){s.flags|=16384,s={getSnapshot:o,value:d},o=lt.updateQueue,o===null?(o=If(),lt.updateQueue=o,o.stores=[s]):(d=o.stores,d===null?o.stores=[s]:d.push(s))}function Zj(s,o,d,h){o.value=d,o.getSnapshot=h,e2(o)&&t2(s)}function Jj(s,o,d){return d(function(){e2(o)&&t2(s)})}function e2(s){var o=s.getSnapshot;s=s.value;try{var d=o();return!En(s,d)}catch{return!0}}function t2(s){var o=xl(s,2);o!==null&&gn(o,s,2)}function zv(s){var o=sn();if(typeof s=="function"){var d=s;if(s=d(),Cl){Je(!0);try{d()}finally{Je(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:s},o}function r2(s,o,d,h){return s.baseState=d,Lv(s,It,typeof h=="function"?h:Ci)}function sL(s,o,d,h,b){if(Bf(s))throw Error(n(485));if(s=o.action,s!==null){var S={payload:b,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){S.listeners.push(_)}};R.T!==null?d(!0):S.isTransition=!1,h(S),d=o.pending,d===null?(S.next=o.pending=S,n2(o,S)):(S.next=d.next,o.pending=d.next=S)}}function n2(s,o){var d=o.action,h=o.payload,b=s.state;if(o.isTransition){var S=R.T,_={};R.T=_;try{var I=d(b,h),V=R.S;V!==null&&V(_,I),a2(s,o,I)}catch(ie){Bv(s,o,ie)}finally{S!==null&&_.types!==null&&(S.types=_.types),R.T=S}}else try{S=d(b,h),a2(s,o,S)}catch(ie){Bv(s,o,ie)}}function a2(s,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(h){i2(s,o,h)},function(h){return Bv(s,o,h)}):i2(s,o,d)}function i2(s,o,d){o.status="fulfilled",o.value=d,s2(o),s.state=d,o=s.pending,o!==null&&(d=o.next,d===o?s.pending=null:(d=d.next,o.next=d,n2(s,d)))}function Bv(s,o,d){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=d,s2(o),o=o.next;while(o!==h)}s.action=null}function s2(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function l2(s,o){return o}function o2(s,o){if(wt){var d=Ht.formState;if(d!==null){e:{var h=lt;if(wt){if(Wt){t:{for(var b=Wt,S=Jn;b.nodeType!==8;){if(!S){b=null;break t}if(b=ta(b.nextSibling),b===null){b=null;break t}}S=b.data,b=S==="F!"||S==="F"?b:null}if(b){Wt=ta(b.nextSibling),h=b.data==="F!";break e}}hs(h)}h=!1}h&&(o=d[0])}}return d=sn(),d.memoizedState=d.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l2,lastRenderedState:o},d.queue=h,d=k2.bind(null,lt,h),h.dispatch=d,h=zv(!1),S=Vv.bind(null,lt,!1,h.queue),h=sn(),b={state:o,dispatch:null,action:s,pending:null},h.queue=b,d=sL.bind(null,lt,b,S,d),b.dispatch=d,h.memoizedState=s,[o,d,!1]}function c2(s){var o=jr();return u2(o,It,s)}function u2(s,o,d){if(o=Lv(s,o,l2)[0],s=Lf(Ci)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=vu(o)}catch(_){throw _===Mo?kf:_}else h=o;o=jr();var b=o.queue,S=b.dispatch;return d!==o.memoizedState&&(lt.flags|=2048,To(9,{destroy:void 0},lL.bind(null,b,d),null)),[h,S,s]}function lL(s,o){s.action=o}function d2(s){var o=jr(),d=It;if(d!==null)return u2(o,d,s);jr(),o=o.memoizedState,d=jr();var h=d.queue.dispatch;return d.memoizedState=s,[o,h,!1]}function To(s,o,d,h){return s={tag:s,create:d,deps:h,inst:o,next:null},o=lt.updateQueue,o===null&&(o=If(),lt.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=s.next=s:(h=d.next,d.next=s,s.next=h,o.lastEffect=s),s}function f2(){return jr().memoizedState}function Ff(s,o,d,h){var b=sn();lt.flags|=s,b.memoizedState=To(1|o,{destroy:void 0},d,h===void 0?null:h)}function zf(s,o,d,h){var b=jr();h=h===void 0?null:h;var S=b.memoizedState.inst;It!==null&&h!==null&&_v(h,It.memoizedState.deps)?b.memoizedState=To(o,S,d,h):(lt.flags|=s,b.memoizedState=To(1|o,S,d,h))}function m2(s,o){Ff(8390656,8,s,o)}function $v(s,o){zf(2048,8,s,o)}function oL(s){lt.flags|=4;var o=lt.updateQueue;if(o===null)o=If(),lt.updateQueue=o,o.events=[s];else{var d=o.events;d===null?o.events=[s]:d.push(s)}}function p2(s){var o=jr().memoizedState;return oL({ref:o,nextImpl:s}),function(){if((kt&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function h2(s,o){return zf(4,2,s,o)}function x2(s,o){return zf(4,4,s,o)}function v2(s,o){if(typeof o=="function"){s=s();var d=o(s);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function g2(s,o,d){d=d!=null?d.concat([s]):null,zf(4,4,v2.bind(null,o,s),d)}function Hv(){}function b2(s,o){var d=jr();o=o===void 0?null:o;var h=d.memoizedState;return o!==null&&_v(o,h[1])?h[0]:(d.memoizedState=[s,o],s)}function y2(s,o){var d=jr();o=o===void 0?null:o;var h=d.memoizedState;if(o!==null&&_v(o,h[1]))return h[0];if(h=s(),Cl){Je(!0);try{s()}finally{Je(!1)}}return d.memoizedState=[h,o],h}function qv(s,o,d){return d===void 0||(Si&1073741824)!==0&&(vt&261930)===0?s.memoizedState=o:(s.memoizedState=d,s=wS(),lt.lanes|=s,Ss|=s,d)}function w2(s,o,d,h){return En(d,o)?d:Do.current!==null?(s=qv(s,d,h),En(s,o)||(Dr=!0),s):(Si&42)===0||(Si&1073741824)!==0&&(vt&261930)===0?(Dr=!0,s.memoizedState=d):(s=wS(),lt.lanes|=s,Ss|=s,o)}function N2(s,o,d,h,b){var S=G.p;G.p=S!==0&&8>S?S:8;var _=R.T,I={};R.T=I,Vv(s,!1,o,d);try{var V=b(),ie=R.S;if(ie!==null&&ie(I,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ve=nL(V,h);gu(s,o,ve,In(s))}else gu(s,o,h,In(s))}catch(be){gu(s,o,{then:function(){},status:"rejected",reason:be},In())}finally{G.p=S,_!==null&&I.types!==null&&(_.types=I.types),R.T=_}}function cL(){}function Uv(s,o,d,h){if(s.tag!==5)throw Error(n(476));var b=j2(s).queue;N2(s,b,o,me,d===null?cL:function(){return S2(s),d(h)})}function j2(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:me},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:d},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function S2(s){var o=j2(s);o.next===null&&(o=s.alternate.memoizedState),gu(s,o.next.queue,{},In())}function Yv(){return Gr(Iu)}function C2(){return jr().memoizedState}function A2(){return jr().memoizedState}function uL(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var d=In();s=gs(d);var h=bs(o,s,d);h!==null&&(gn(h,o,d),mu(h,o,d)),o={cache:yv()},s.payload=o;return}o=o.return}}function dL(s,o,d){var h=In();d={lane:h,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Bf(s)?M2(o,d):(d=cv(s,o,d,h),d!==null&&(gn(d,s,h),E2(d,o,h)))}function k2(s,o,d){var h=In();gu(s,o,d,h)}function gu(s,o,d,h){var b={lane:h,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Bf(s))M2(o,b);else{var S=s.alternate;if(s.lanes===0&&(S===null||S.lanes===0)&&(S=o.lastRenderedReducer,S!==null))try{var _=o.lastRenderedState,I=S(_,d);if(b.hasEagerState=!0,b.eagerState=I,En(I,_))return yf(s,o,b,0),Ht===null&&bf(),!1}catch{}if(d=cv(s,o,b,h),d!==null)return gn(d,s,h),E2(d,o,h),!0}return!1}function Vv(s,o,d,h){if(h={lane:2,revertLane:S0(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Bf(s)){if(o)throw Error(n(479))}else o=cv(s,d,h,2),o!==null&&gn(o,s,2)}function Bf(s){var o=s.alternate;return s===lt||o!==null&&o===lt}function M2(s,o){_o=Tf=!0;var d=s.pending;d===null?o.next=o:(o.next=d.next,d.next=o),s.pending=o}function E2(s,o,d){if((d&4194048)!==0){var h=o.lanes;h&=s.pendingLanes,d|=h,o.lanes=d,hi(s,d)}}var bu={readContext:Gr,use:Rf,useCallback:dr,useContext:dr,useEffect:dr,useImperativeHandle:dr,useLayoutEffect:dr,useInsertionEffect:dr,useMemo:dr,useReducer:dr,useRef:dr,useState:dr,useDebugValue:dr,useDeferredValue:dr,useTransition:dr,useSyncExternalStore:dr,useId:dr,useHostTransitionStatus:dr,useFormState:dr,useActionState:dr,useOptimistic:dr,useMemoCache:dr,useCacheRefresh:dr};bu.useEffectEvent=dr;var D2={readContext:Gr,use:Rf,useCallback:function(s,o){return sn().memoizedState=[s,o===void 0?null:o],s},useContext:Gr,useEffect:m2,useImperativeHandle:function(s,o,d){d=d!=null?d.concat([s]):null,Ff(4194308,4,v2.bind(null,o,s),d)},useLayoutEffect:function(s,o){return Ff(4194308,4,s,o)},useInsertionEffect:function(s,o){Ff(4,2,s,o)},useMemo:function(s,o){var d=sn();o=o===void 0?null:o;var h=s();if(Cl){Je(!0);try{s()}finally{Je(!1)}}return d.memoizedState=[h,o],h},useReducer:function(s,o,d){var h=sn();if(d!==void 0){var b=d(o);if(Cl){Je(!0);try{d(o)}finally{Je(!1)}}}else b=o;return h.memoizedState=h.baseState=b,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:b},h.queue=s,s=s.dispatch=dL.bind(null,lt,s),[h.memoizedState,s]},useRef:function(s){var o=sn();return s={current:s},o.memoizedState=s},useState:function(s){s=zv(s);var o=s.queue,d=k2.bind(null,lt,o);return o.dispatch=d,[s.memoizedState,d]},useDebugValue:Hv,useDeferredValue:function(s,o){var d=sn();return qv(d,s,o)},useTransition:function(){var s=zv(!1);return s=N2.bind(null,lt,s.queue,!0,!1),sn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,d){var h=lt,b=sn();if(wt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=o(),Ht===null)throw Error(n(349));(vt&127)!==0||Xj(h,o,d)}b.memoizedState=d;var S={value:d,getSnapshot:o};return b.queue=S,m2(Jj.bind(null,h,S,s),[s]),h.flags|=2048,To(9,{destroy:void 0},Zj.bind(null,h,S,d,o),null),d},useId:function(){var s=sn(),o=Ht.identifierPrefix;if(wt){var d=Ba,h=za;d=(h&~(1<<32-nt(h)-1)).toString(32)+d,o="_"+o+"R_"+d,d=Pf++,0<d&&(o+="H"+d.toString(32)),o+="_"}else d=aL++,o="_"+o+"r_"+d.toString(32)+"_";return s.memoizedState=o},useHostTransitionStatus:Yv,useFormState:o2,useActionState:o2,useOptimistic:function(s){var o=sn();o.memoizedState=o.baseState=s;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=Vv.bind(null,lt,!0,d),d.dispatch=o,[s,o]},useMemoCache:Rv,useCacheRefresh:function(){return sn().memoizedState=uL.bind(null,lt)},useEffectEvent:function(s){var o=sn(),d={impl:s};return o.memoizedState=d,function(){if((kt&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}},Gv={readContext:Gr,use:Rf,useCallback:b2,useContext:Gr,useEffect:$v,useImperativeHandle:g2,useInsertionEffect:h2,useLayoutEffect:x2,useMemo:y2,useReducer:Lf,useRef:f2,useState:function(){return Lf(Ci)},useDebugValue:Hv,useDeferredValue:function(s,o){var d=jr();return w2(d,It.memoizedState,s,o)},useTransition:function(){var s=Lf(Ci)[0],o=jr().memoizedState;return[typeof s=="boolean"?s:vu(s),o]},useSyncExternalStore:Qj,useId:C2,useHostTransitionStatus:Yv,useFormState:c2,useActionState:c2,useOptimistic:function(s,o){var d=jr();return r2(d,It,s,o)},useMemoCache:Rv,useCacheRefresh:A2};Gv.useEffectEvent=p2;var _2={readContext:Gr,use:Rf,useCallback:b2,useContext:Gr,useEffect:$v,useImperativeHandle:g2,useInsertionEffect:h2,useLayoutEffect:x2,useMemo:y2,useReducer:Fv,useRef:f2,useState:function(){return Fv(Ci)},useDebugValue:Hv,useDeferredValue:function(s,o){var d=jr();return It===null?qv(d,s,o):w2(d,It.memoizedState,s,o)},useTransition:function(){var s=Fv(Ci)[0],o=jr().memoizedState;return[typeof s=="boolean"?s:vu(s),o]},useSyncExternalStore:Qj,useId:C2,useHostTransitionStatus:Yv,useFormState:d2,useActionState:d2,useOptimistic:function(s,o){var d=jr();return It!==null?r2(d,It,s,o):(d.baseState=s,[s,d.queue.dispatch])},useMemoCache:Rv,useCacheRefresh:A2};_2.useEffectEvent=p2;function Wv(s,o,d,h){o=s.memoizedState,d=d(h,o),d=d==null?o:x({},o,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var Kv={enqueueSetState:function(s,o,d){s=s._reactInternals;var h=In(),b=gs(h);b.payload=o,d!=null&&(b.callback=d),o=bs(s,b,h),o!==null&&(gn(o,s,h),mu(o,s,h))},enqueueReplaceState:function(s,o,d){s=s._reactInternals;var h=In(),b=gs(h);b.tag=1,b.payload=o,d!=null&&(b.callback=d),o=bs(s,b,h),o!==null&&(gn(o,s,h),mu(o,s,h))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var d=In(),h=gs(d);h.tag=2,o!=null&&(h.callback=o),o=bs(s,h,d),o!==null&&(gn(o,s,d),mu(o,s,d))}};function O2(s,o,d,h,b,S,_){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,S,_):o.prototype&&o.prototype.isPureReactComponent?!iu(d,h)||!iu(b,S):!0}function T2(s,o,d,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,h),o.state!==s&&Kv.enqueueReplaceState(o,o.state,null)}function Al(s,o){var d=o;if("ref"in o){d={};for(var h in o)h!=="ref"&&(d[h]=o[h])}if(s=s.defaultProps){d===o&&(d=x({},d));for(var b in s)d[b]===void 0&&(d[b]=s[b])}return d}function P2(s){gf(s)}function I2(s){console.error(s)}function R2(s){gf(s)}function $f(s,o){try{var d=s.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function L2(s,o,d){try{var h=s.onCaughtError;h(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Qv(s,o,d){return d=gs(d),d.tag=3,d.payload={element:null},d.callback=function(){$f(s,o)},d}function F2(s){return s=gs(s),s.tag=3,s}function z2(s,o,d,h){var b=d.type.getDerivedStateFromError;if(typeof b=="function"){var S=h.value;s.payload=function(){return b(S)},s.callback=function(){L2(o,d,h)}}var _=d.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(s.callback=function(){L2(o,d,h),typeof b!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var I=h.stack;this.componentDidCatch(h.value,{componentStack:I!==null?I:""})})}function fL(s,o,d,h,b){if(d.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=d.alternate,o!==null&&Co(o,d,b,!0),d=_n.current,d!==null){switch(d.tag){case 31:case 13:return ea===null?Jf():d.alternate===null&&fr===0&&(fr=3),d.flags&=-257,d.flags|=65536,d.lanes=b,h===Mf?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([h]):o.add(h),w0(s,h,b)),!1;case 22:return d.flags|=65536,h===Mf?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([h]):d.add(h)),w0(s,h,b)),!1}throw Error(n(435,d.tag))}return w0(s,h,b),Jf(),!1}if(wt)return o=_n.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=b,h!==hv&&(s=Error(n(422),{cause:h}),ou(Qn(s,d)))):(h!==hv&&(o=Error(n(423),{cause:h}),ou(Qn(o,d))),s=s.current.alternate,s.flags|=65536,b&=-b,s.lanes|=b,h=Qn(h,d),b=Qv(s.stateNode,h,b),Av(s,b),fr!==4&&(fr=2)),!1;var S=Error(n(520),{cause:h});if(S=Qn(S,d),ku===null?ku=[S]:ku.push(S),fr!==4&&(fr=2),o===null)return!0;h=Qn(h,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,s=b&-b,d.lanes|=s,s=Qv(d.stateNode,h,s),Av(d,s),!1;case 1:if(o=d.type,S=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Cs===null||!Cs.has(S))))return d.flags|=65536,b&=-b,d.lanes|=b,b=F2(b),z2(b,s,d,h),Av(d,b),!1}d=d.return}while(d!==null);return!1}var Xv=Error(n(461)),Dr=!1;function Wr(s,o,d,h){o.child=s===null?qj(o,null,d,h):Sl(o,s.child,d,h)}function B2(s,o,d,h,b){d=d.render;var S=o.ref;if("ref"in h){var _={};for(var I in h)I!=="ref"&&(_[I]=h[I])}else _=h;return yl(o),h=Ov(s,o,d,_,S,b),I=Tv(),s!==null&&!Dr?(Pv(s,o,b),Ai(s,o,b)):(wt&&I&&mv(o),o.flags|=1,Wr(s,o,h,b),o.child)}function $2(s,o,d,h,b){if(s===null){var S=d.type;return typeof S=="function"&&!uv(S)&&S.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=S,H2(s,o,S,h,b)):(s=Nf(d.type,null,h,o,o.mode,b),s.ref=o.ref,s.return=o,o.child=s)}if(S=s.child,!i0(s,b)){var _=S.memoizedProps;if(d=d.compare,d=d!==null?d:iu,d(_,h)&&s.ref===o.ref)return Ai(s,o,b)}return o.flags|=1,s=yi(S,h),s.ref=o.ref,s.return=o,o.child=s}function H2(s,o,d,h,b){if(s!==null){var S=s.memoizedProps;if(iu(S,h)&&s.ref===o.ref)if(Dr=!1,o.pendingProps=h=S,i0(s,b))(s.flags&131072)!==0&&(Dr=!0);else return o.lanes=s.lanes,Ai(s,o,b)}return Zv(s,o,d,h,b)}function q2(s,o,d,h){var b=h.children,S=s!==null?s.memoizedState:null;if(s===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(S=S!==null?S.baseLanes|d:d,s!==null){for(h=o.child=s.child,b=0;h!==null;)b=b|h.lanes|h.childLanes,h=h.sibling;h=b&~S}else h=0,o.child=null;return U2(s,o,S,d,h)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&Af(o,S!==null?S.cachePool:null),S!==null?Vj(o,S):Mv(),Gj(o);else return h=o.lanes=536870912,U2(s,o,S!==null?S.baseLanes|d:d,d,h)}else S!==null?(Af(o,S.cachePool),Vj(o,S),ws(),o.memoizedState=null):(s!==null&&Af(o,null),Mv(),ws());return Wr(s,o,b,d),o.child}function yu(s,o){return s!==null&&s.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function U2(s,o,d,h,b){var S=Nv();return S=S===null?null:{parent:Mr._currentValue,pool:S},o.memoizedState={baseLanes:d,cachePool:S},s!==null&&Af(o,null),Mv(),Gj(o),s!==null&&Co(s,o,h,!0),o.childLanes=b,null}function Hf(s,o){return o=Uf({mode:o.mode,children:o.children},s.mode),o.ref=s.ref,s.child=o,o.return=s,o}function Y2(s,o,d){return Sl(o,s.child,null,d),s=Hf(o,o.pendingProps),s.flags|=2,On(o),o.memoizedState=null,s}function mL(s,o,d){var h=o.pendingProps,b=(o.flags&128)!==0;if(o.flags&=-129,s===null){if(wt){if(h.mode==="hidden")return s=Hf(o,h),o.lanes=536870912,yu(null,s);if(Dv(o),(s=Wt)?(s=nC(s,Jn),s=s!==null&&s.data==="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:ms!==null?{id:za,overflow:Ba}:null,retryLane:536870912,hydrationErrors:null},d=Mj(s),d.return=o,o.child=d,Vr=o,Wt=null)):s=null,s===null)throw hs(o);return o.lanes=536870912,null}return Hf(o,h)}var S=s.memoizedState;if(S!==null){var _=S.dehydrated;if(Dv(o),b)if(o.flags&256)o.flags&=-257,o=Y2(s,o,d);else if(o.memoizedState!==null)o.child=s.child,o.flags|=128,o=null;else throw Error(n(558));else if(Dr||Co(s,o,d,!1),b=(d&s.childLanes)!==0,Dr||b){if(h=Ht,h!==null&&(_=ol(h,d),_!==0&&_!==S.retryLane))throw S.retryLane=_,xl(s,_),gn(h,s,_),Xv;Jf(),o=Y2(s,o,d)}else s=S.treeContext,Wt=ta(_.nextSibling),Vr=o,wt=!0,ps=null,Jn=!1,s!==null&&_j(o,s),o=Hf(o,h),o.flags|=4096;return o}return s=yi(s.child,{mode:h.mode,children:h.children}),s.ref=o.ref,o.child=s,s.return=o,s}function qf(s,o){var d=o.ref;if(d===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(s===null||s.ref!==d)&&(o.flags|=4194816)}}function Zv(s,o,d,h,b){return yl(o),d=Ov(s,o,d,h,void 0,b),h=Tv(),s!==null&&!Dr?(Pv(s,o,b),Ai(s,o,b)):(wt&&h&&mv(o),o.flags|=1,Wr(s,o,d,b),o.child)}function V2(s,o,d,h,b,S){return yl(o),o.updateQueue=null,d=Kj(o,h,d,b),Wj(s),h=Tv(),s!==null&&!Dr?(Pv(s,o,S),Ai(s,o,S)):(wt&&h&&mv(o),o.flags|=1,Wr(s,o,d,S),o.child)}function G2(s,o,d,h,b){if(yl(o),o.stateNode===null){var S=wo,_=d.contextType;typeof _=="object"&&_!==null&&(S=Gr(_)),S=new d(h,S),o.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Kv,o.stateNode=S,S._reactInternals=o,S=o.stateNode,S.props=h,S.state=o.memoizedState,S.refs={},Sv(o),_=d.contextType,S.context=typeof _=="object"&&_!==null?Gr(_):wo,S.state=o.memoizedState,_=d.getDerivedStateFromProps,typeof _=="function"&&(Wv(o,d,_,h),S.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(_=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),_!==S.state&&Kv.enqueueReplaceState(S,S.state,null),hu(o,h,S,b),pu(),S.state=o.memoizedState),typeof S.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(s===null){S=o.stateNode;var I=o.memoizedProps,V=Al(d,I);S.props=V;var ie=S.context,ve=d.contextType;_=wo,typeof ve=="object"&&ve!==null&&(_=Gr(ve));var be=d.getDerivedStateFromProps;ve=typeof be=="function"||typeof S.getSnapshotBeforeUpdate=="function",I=o.pendingProps!==I,ve||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(I||ie!==_)&&T2(o,S,h,_),vs=!1;var oe=o.memoizedState;S.state=oe,hu(o,h,S,b),pu(),ie=o.memoizedState,I||oe!==ie||vs?(typeof be=="function"&&(Wv(o,d,be,h),ie=o.memoizedState),(V=vs||O2(o,d,V,h,oe,ie,_))?(ve||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=ie),S.props=h,S.state=ie,S.context=_,h=V):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{S=o.stateNode,Cv(s,o),_=o.memoizedProps,ve=Al(d,_),S.props=ve,be=o.pendingProps,oe=S.context,ie=d.contextType,V=wo,typeof ie=="object"&&ie!==null&&(V=Gr(ie)),I=d.getDerivedStateFromProps,(ie=typeof I=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(_!==be||oe!==V)&&T2(o,S,h,V),vs=!1,oe=o.memoizedState,S.state=oe,hu(o,h,S,b),pu();var pe=o.memoizedState;_!==be||oe!==pe||vs||s!==null&&s.dependencies!==null&&Sf(s.dependencies)?(typeof I=="function"&&(Wv(o,d,I,h),pe=o.memoizedState),(ve=vs||O2(o,d,ve,h,oe,pe,V)||s!==null&&s.dependencies!==null&&Sf(s.dependencies))?(ie||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(h,pe,V),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(h,pe,V)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||_===s.memoizedProps&&oe===s.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&oe===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=pe),S.props=h,S.state=pe,S.context=V,h=ve):(typeof S.componentDidUpdate!="function"||_===s.memoizedProps&&oe===s.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&oe===s.memoizedState||(o.flags|=1024),h=!1)}return S=h,qf(s,o),h=(o.flags&128)!==0,S||h?(S=o.stateNode,d=h&&typeof d.getDerivedStateFromError!="function"?null:S.render(),o.flags|=1,s!==null&&h?(o.child=Sl(o,s.child,null,b),o.child=Sl(o,null,d,b)):Wr(s,o,d,b),o.memoizedState=S.state,s=o.child):s=Ai(s,o,b),s}function W2(s,o,d,h){return gl(),o.flags|=256,Wr(s,o,d,h),o.child}var Jv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function e0(s){return{baseLanes:s,cachePool:Lj()}}function t0(s,o,d){return s=s!==null?s.childLanes&~d:0,o&&(s|=Pn),s}function K2(s,o,d){var h=o.pendingProps,b=!1,S=(o.flags&128)!==0,_;if((_=S)||(_=s!==null&&s.memoizedState===null?!1:(Nr.current&2)!==0),_&&(b=!0,o.flags&=-129),_=(o.flags&32)!==0,o.flags&=-33,s===null){if(wt){if(b?ys(o):ws(),(s=Wt)?(s=nC(s,Jn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:ms!==null?{id:za,overflow:Ba}:null,retryLane:536870912,hydrationErrors:null},d=Mj(s),d.return=o,o.child=d,Vr=o,Wt=null)):s=null,s===null)throw hs(o);return L0(s)?o.lanes=32:o.lanes=536870912,null}var I=h.children;return h=h.fallback,b?(ws(),b=o.mode,I=Uf({mode:"hidden",children:I},b),h=vl(h,b,d,null),I.return=o,h.return=o,I.sibling=h,o.child=I,h=o.child,h.memoizedState=e0(d),h.childLanes=t0(s,_,d),o.memoizedState=Jv,yu(null,h)):(ys(o),r0(o,I))}var V=s.memoizedState;if(V!==null&&(I=V.dehydrated,I!==null)){if(S)o.flags&256?(ys(o),o.flags&=-257,o=n0(s,o,d)):o.memoizedState!==null?(ws(),o.child=s.child,o.flags|=128,o=null):(ws(),I=h.fallback,b=o.mode,h=Uf({mode:"visible",children:h.children},b),I=vl(I,b,d,null),I.flags|=2,h.return=o,I.return=o,h.sibling=I,o.child=h,Sl(o,s.child,null,d),h=o.child,h.memoizedState=e0(d),h.childLanes=t0(s,_,d),o.memoizedState=Jv,o=yu(null,h));else if(ys(o),L0(I)){if(_=I.nextSibling&&I.nextSibling.dataset,_)var ie=_.dgst;_=ie,h=Error(n(419)),h.stack="",h.digest=_,ou({value:h,source:null,stack:null}),o=n0(s,o,d)}else if(Dr||Co(s,o,d,!1),_=(d&s.childLanes)!==0,Dr||_){if(_=Ht,_!==null&&(h=ol(_,d),h!==0&&h!==V.retryLane))throw V.retryLane=h,xl(s,h),gn(_,s,h),Xv;R0(I)||Jf(),o=n0(s,o,d)}else R0(I)?(o.flags|=192,o.child=s.child,o=null):(s=V.treeContext,Wt=ta(I.nextSibling),Vr=o,wt=!0,ps=null,Jn=!1,s!==null&&_j(o,s),o=r0(o,h.children),o.flags|=4096);return o}return b?(ws(),I=h.fallback,b=o.mode,V=s.child,ie=V.sibling,h=yi(V,{mode:"hidden",children:h.children}),h.subtreeFlags=V.subtreeFlags&65011712,ie!==null?I=yi(ie,I):(I=vl(I,b,d,null),I.flags|=2),I.return=o,h.return=o,h.sibling=I,o.child=h,yu(null,h),h=o.child,I=s.child.memoizedState,I===null?I=e0(d):(b=I.cachePool,b!==null?(V=Mr._currentValue,b=b.parent!==V?{parent:V,pool:V}:b):b=Lj(),I={baseLanes:I.baseLanes|d,cachePool:b}),h.memoizedState=I,h.childLanes=t0(s,_,d),o.memoizedState=Jv,yu(s.child,h)):(ys(o),d=s.child,s=d.sibling,d=yi(d,{mode:"visible",children:h.children}),d.return=o,d.sibling=null,s!==null&&(_=o.deletions,_===null?(o.deletions=[s],o.flags|=16):_.push(s)),o.child=d,o.memoizedState=null,d)}function r0(s,o){return o=Uf({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function Uf(s,o){return s=Dn(22,s,null,o),s.lanes=0,s}function n0(s,o,d){return Sl(o,s.child,null,d),s=r0(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function Q2(s,o,d){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),gv(s.return,o,d)}function a0(s,o,d,h,b,S){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:d,tailMode:b,treeForkCount:S}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=d,_.tailMode=b,_.treeForkCount=S)}function X2(s,o,d){var h=o.pendingProps,b=h.revealOrder,S=h.tail;h=h.children;var _=Nr.current,I=(_&2)!==0;if(I?(_=_&1|2,o.flags|=128):_&=1,ee(Nr,_),Wr(s,o,h,d),h=wt?lu:0,!I&&s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Q2(s,d,o);else if(s.tag===19)Q2(s,d,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(b){case"forwards":for(d=o.child,b=null;d!==null;)s=d.alternate,s!==null&&Of(s)===null&&(b=d),d=d.sibling;d=b,d===null?(b=o.child,o.child=null):(b=d.sibling,d.sibling=null),a0(o,!1,b,d,S,h);break;case"backwards":case"unstable_legacy-backwards":for(d=null,b=o.child,o.child=null;b!==null;){if(s=b.alternate,s!==null&&Of(s)===null){o.child=b;break}s=b.sibling,b.sibling=d,d=b,b=s}a0(o,!0,d,null,S,h);break;case"together":a0(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function Ai(s,o,d){if(s!==null&&(o.dependencies=s.dependencies),Ss|=o.lanes,(d&o.childLanes)===0)if(s!==null){if(Co(s,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,d=yi(s,s.pendingProps),o.child=d,d.return=o;s.sibling!==null;)s=s.sibling,d=d.sibling=yi(s,s.pendingProps),d.return=o;d.sibling=null}return o.child}function i0(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&Sf(s)))}function pL(s,o,d){switch(o.tag){case 3:je(o,o.stateNode.containerInfo),xs(o,Mr,s.memoizedState.cache),gl();break;case 27:case 5:De(o);break;case 4:je(o,o.stateNode.containerInfo);break;case 10:xs(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Dv(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(ys(o),o.flags|=128,null):(d&o.child.childLanes)!==0?K2(s,o,d):(ys(o),s=Ai(s,o,d),s!==null?s.sibling:null);ys(o);break;case 19:var b=(s.flags&128)!==0;if(h=(d&o.childLanes)!==0,h||(Co(s,o,d,!1),h=(d&o.childLanes)!==0),b){if(h)return X2(s,o,d);o.flags|=128}if(b=o.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),ee(Nr,Nr.current),h)break;return null;case 22:return o.lanes=0,q2(s,o,d,o.pendingProps);case 24:xs(o,Mr,s.memoizedState.cache)}return Ai(s,o,d)}function Z2(s,o,d){if(s!==null)if(s.memoizedProps!==o.pendingProps)Dr=!0;else{if(!i0(s,d)&&(o.flags&128)===0)return Dr=!1,pL(s,o,d);Dr=(s.flags&131072)!==0}else Dr=!1,wt&&(o.flags&1048576)!==0&&Dj(o,lu,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(s=Nl(o.elementType),o.type=s,typeof s=="function")uv(s)?(h=Al(s,h),o.tag=1,o=G2(null,o,s,h,d)):(o.tag=0,o=Zv(null,o,s,h,d));else{if(s!=null){var b=s.$$typeof;if(b===M){o.tag=11,o=B2(null,o,s,h,d);break e}else if(b===P){o.tag=14,o=$2(null,o,s,h,d);break e}}throw o=K(s)||s,Error(n(306,o,""))}}return o;case 0:return Zv(s,o,o.type,o.pendingProps,d);case 1:return h=o.type,b=Al(h,o.pendingProps),G2(s,o,h,b,d);case 3:e:{if(je(o,o.stateNode.containerInfo),s===null)throw Error(n(387));h=o.pendingProps;var S=o.memoizedState;b=S.element,Cv(s,o),hu(o,h,null,d);var _=o.memoizedState;if(h=_.cache,xs(o,Mr,h),h!==S.cache&&bv(o,[Mr],d,!0),pu(),h=_.element,S.isDehydrated)if(S={element:h,isDehydrated:!1,cache:_.cache},o.updateQueue.baseState=S,o.memoizedState=S,o.flags&256){o=W2(s,o,h,d);break e}else if(h!==b){b=Qn(Error(n(424)),o),ou(b),o=W2(s,o,h,d);break e}else for(s=o.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,Wt=ta(s.firstChild),Vr=o,wt=!0,ps=null,Jn=!0,d=qj(o,null,h,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(gl(),h===b){o=Ai(s,o,d);break e}Wr(s,o,h,d)}o=o.child}return o;case 26:return qf(s,o),s===null?(d=cC(o.type,null,o.pendingProps,null))?o.memoizedState=d:wt||(d=o.type,s=o.pendingProps,h=sm(U.current).createElement(d),h[Pr]=o,h[en]=s,Kr(h,d,s),Ar(h),o.stateNode=h):o.memoizedState=cC(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return De(o),s===null&&wt&&(h=o.stateNode=sC(o.type,o.pendingProps,U.current),Vr=o,Jn=!0,b=Wt,Es(o.type)?(F0=b,Wt=ta(h.firstChild)):Wt=b),Wr(s,o,o.pendingProps.children,d),qf(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&wt&&((b=h=Wt)&&(h=UL(h,o.type,o.pendingProps,Jn),h!==null?(o.stateNode=h,Vr=o,Wt=ta(h.firstChild),Jn=!1,b=!0):b=!1),b||hs(o)),De(o),b=o.type,S=o.pendingProps,_=s!==null?s.memoizedProps:null,h=S.children,T0(b,S)?h=null:_!==null&&T0(b,_)&&(o.flags|=32),o.memoizedState!==null&&(b=Ov(s,o,iL,null,null,d),Iu._currentValue=b),qf(s,o),Wr(s,o,h,d),o.child;case 6:return s===null&&wt&&((s=d=Wt)&&(d=YL(d,o.pendingProps,Jn),d!==null?(o.stateNode=d,Vr=o,Wt=null,s=!0):s=!1),s||hs(o)),null;case 13:return K2(s,o,d);case 4:return je(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=Sl(o,null,h,d):Wr(s,o,h,d),o.child;case 11:return B2(s,o,o.type,o.pendingProps,d);case 7:return Wr(s,o,o.pendingProps,d),o.child;case 8:return Wr(s,o,o.pendingProps.children,d),o.child;case 12:return Wr(s,o,o.pendingProps.children,d),o.child;case 10:return h=o.pendingProps,xs(o,o.type,h.value),Wr(s,o,h.children,d),o.child;case 9:return b=o.type._context,h=o.pendingProps.children,yl(o),b=Gr(b),h=h(b),o.flags|=1,Wr(s,o,h,d),o.child;case 14:return $2(s,o,o.type,o.pendingProps,d);case 15:return H2(s,o,o.type,o.pendingProps,d);case 19:return X2(s,o,d);case 31:return mL(s,o,d);case 22:return q2(s,o,d,o.pendingProps);case 24:return yl(o),h=Gr(Mr),s===null?(b=Nv(),b===null&&(b=Ht,S=yv(),b.pooledCache=S,S.refCount++,S!==null&&(b.pooledCacheLanes|=d),b=S),o.memoizedState={parent:h,cache:b},Sv(o),xs(o,Mr,b)):((s.lanes&d)!==0&&(Cv(s,o),hu(o,null,null,d),pu()),b=s.memoizedState,S=o.memoizedState,b.parent!==h?(b={parent:h,cache:h},o.memoizedState=b,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=b),xs(o,Mr,h)):(h=S.cache,xs(o,Mr,h),h!==b.cache&&bv(o,[Mr],d,!0))),Wr(s,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function ki(s){s.flags|=4}function s0(s,o,d,h,b){if((o=(s.mode&32)!==0)&&(o=!1),o){if(s.flags|=16777216,(b&335544128)===b)if(s.stateNode.complete)s.flags|=8192;else if(CS())s.flags|=8192;else throw jl=Mf,jv}else s.flags&=-16777217}function J2(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!pC(o))if(CS())s.flags|=8192;else throw jl=Mf,jv}function Yf(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?fe():536870912,s.lanes|=o,Lo|=o)}function wu(s,o){if(!wt)switch(s.tailMode){case"hidden":o=s.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var h=null;d!==null;)d.alternate!==null&&(h=d),d=d.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Kt(s){var o=s.alternate!==null&&s.alternate.child===s.child,d=0,h=0;if(o)for(var b=s.child;b!==null;)d|=b.lanes|b.childLanes,h|=b.subtreeFlags&65011712,h|=b.flags&65011712,b.return=s,b=b.sibling;else for(b=s.child;b!==null;)d|=b.lanes|b.childLanes,h|=b.subtreeFlags,h|=b.flags,b.return=s,b=b.sibling;return s.subtreeFlags|=h,s.childLanes=d,o}function hL(s,o,d){var h=o.pendingProps;switch(pv(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(o),null;case 1:return Kt(o),null;case 3:return d=o.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),ji(Mr),ne(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(So(o)?ki(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,xv())),Kt(o),null;case 26:var b=o.type,S=o.memoizedState;return s===null?(ki(o),S!==null?(Kt(o),J2(o,S)):(Kt(o),s0(o,b,null,h,d))):S?S!==s.memoizedState?(ki(o),Kt(o),J2(o,S)):(Kt(o),o.flags&=-16777217):(s=s.memoizedProps,s!==h&&ki(o),Kt(o),s0(o,b,s,h,d)),null;case 27:if(Ce(o),d=U.current,b=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==h&&ki(o);else{if(!h){if(o.stateNode===null)throw Error(n(166));return Kt(o),null}s=B.current,So(o)?Oj(o):(s=sC(b,h,d),o.stateNode=s,ki(o))}return Kt(o),null;case 5:if(Ce(o),b=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==h&&ki(o);else{if(!h){if(o.stateNode===null)throw Error(n(166));return Kt(o),null}if(S=B.current,So(o))Oj(o);else{var _=sm(U.current);switch(S){case 1:S=_.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:S=_.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":S=_.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":S=_.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":S=_.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof h.is=="string"?_.createElement("select",{is:h.is}):_.createElement("select"),h.multiple?S.multiple=!0:h.size&&(S.size=h.size);break;default:S=typeof h.is=="string"?_.createElement(b,{is:h.is}):_.createElement(b)}}S[Pr]=o,S[en]=h;e:for(_=o.child;_!==null;){if(_.tag===5||_.tag===6)S.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===o)break e;for(;_.sibling===null;){if(_.return===null||_.return===o)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}o.stateNode=S;e:switch(Kr(S,b,h),b){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&ki(o)}}return Kt(o),s0(o,o.type,s===null?null:s.memoizedProps,o.pendingProps,d),null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==h&&ki(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(n(166));if(s=U.current,So(o)){if(s=o.stateNode,d=o.memoizedProps,h=null,b=Vr,b!==null)switch(b.tag){case 27:case 5:h=b.memoizedProps}s[Pr]=o,s=!!(s.nodeValue===d||h!==null&&h.suppressHydrationWarning===!0||KS(s.nodeValue,d)),s||hs(o,!0)}else s=sm(s).createTextNode(h),s[Pr]=o,o.stateNode=s}return Kt(o),null;case 31:if(d=o.memoizedState,s===null||s.memoizedState!==null){if(h=So(o),d!==null){if(s===null){if(!h)throw Error(n(318));if(s=o.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(557));s[Pr]=o}else gl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Kt(o),s=!1}else d=xv(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=d),s=!0;if(!s)return o.flags&256?(On(o),o):(On(o),null);if((o.flags&128)!==0)throw Error(n(558))}return Kt(o),null;case 13:if(h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(b=So(o),h!==null&&h.dehydrated!==null){if(s===null){if(!b)throw Error(n(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[Pr]=o}else gl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Kt(o),b=!1}else b=xv(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=b),b=!0;if(!b)return o.flags&256?(On(o),o):(On(o),null)}return On(o),(o.flags&128)!==0?(o.lanes=d,o):(d=h!==null,s=s!==null&&s.memoizedState!==null,d&&(h=o.child,b=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(b=h.alternate.memoizedState.cachePool.pool),S=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(S=h.memoizedState.cachePool.pool),S!==b&&(h.flags|=2048)),d!==s&&d&&(o.child.flags|=8192),Yf(o,o.updateQueue),Kt(o),null);case 4:return ne(),s===null&&M0(o.stateNode.containerInfo),Kt(o),null;case 10:return ji(o.type),Kt(o),null;case 19:if(ce(Nr),h=o.memoizedState,h===null)return Kt(o),null;if(b=(o.flags&128)!==0,S=h.rendering,S===null)if(b)wu(h,!1);else{if(fr!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(S=Of(s),S!==null){for(o.flags|=128,wu(h,!1),s=S.updateQueue,o.updateQueue=s,Yf(o,s),o.subtreeFlags=0,s=d,d=o.child;d!==null;)kj(d,s),d=d.sibling;return ee(Nr,Nr.current&1|2),wt&&wi(o,h.treeForkCount),o.child}s=s.sibling}h.tail!==null&&ze()>Qf&&(o.flags|=128,b=!0,wu(h,!1),o.lanes=4194304)}else{if(!b)if(s=Of(S),s!==null){if(o.flags|=128,b=!0,s=s.updateQueue,o.updateQueue=s,Yf(o,s),wu(h,!0),h.tail===null&&h.tailMode==="hidden"&&!S.alternate&&!wt)return Kt(o),null}else 2*ze()-h.renderingStartTime>Qf&&d!==536870912&&(o.flags|=128,b=!0,wu(h,!1),o.lanes=4194304);h.isBackwards?(S.sibling=o.child,o.child=S):(s=h.last,s!==null?s.sibling=S:o.child=S,h.last=S)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=ze(),s.sibling=null,d=Nr.current,ee(Nr,b?d&1|2:d&1),wt&&wi(o,h.treeForkCount),s):(Kt(o),null);case 22:case 23:return On(o),Ev(),h=o.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(d&536870912)!==0&&(o.flags&128)===0&&(Kt(o),o.subtreeFlags&6&&(o.flags|=8192)):Kt(o),d=o.updateQueue,d!==null&&Yf(o,d.retryQueue),d=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==d&&(o.flags|=2048),s!==null&&ce(wl),null;case 24:return d=null,s!==null&&(d=s.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),ji(Mr),Kt(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function xL(s,o){switch(pv(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return ji(Mr),ne(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return Ce(o),null;case 31:if(o.memoizedState!==null){if(On(o),o.alternate===null)throw Error(n(340));gl()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 13:if(On(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));gl()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return ce(Nr),null;case 4:return ne(),null;case 10:return ji(o.type),null;case 22:case 23:return On(o),Ev(),s!==null&&ce(wl),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return ji(Mr),null;case 25:return null;default:return null}}function eS(s,o){switch(pv(o),o.tag){case 3:ji(Mr),ne();break;case 26:case 27:case 5:Ce(o);break;case 4:ne();break;case 31:o.memoizedState!==null&&On(o);break;case 13:On(o);break;case 19:ce(Nr);break;case 10:ji(o.type);break;case 22:case 23:On(o),Ev(),s!==null&&ce(wl);break;case 24:ji(Mr)}}function Nu(s,o){try{var d=o.updateQueue,h=d!==null?d.lastEffect:null;if(h!==null){var b=h.next;d=b;do{if((d.tag&s)===s){h=void 0;var S=d.create,_=d.inst;h=S(),_.destroy=h}d=d.next}while(d!==b)}}catch(I){_t(o,o.return,I)}}function Ns(s,o,d){try{var h=o.updateQueue,b=h!==null?h.lastEffect:null;if(b!==null){var S=b.next;h=S;do{if((h.tag&s)===s){var _=h.inst,I=_.destroy;if(I!==void 0){_.destroy=void 0,b=o;var V=d,ie=I;try{ie()}catch(ve){_t(b,V,ve)}}}h=h.next}while(h!==S)}}catch(ve){_t(o,o.return,ve)}}function tS(s){var o=s.updateQueue;if(o!==null){var d=s.stateNode;try{Yj(o,d)}catch(h){_t(s,s.return,h)}}}function rS(s,o,d){d.props=Al(s.type,s.memoizedProps),d.state=s.memoizedState;try{d.componentWillUnmount()}catch(h){_t(s,o,h)}}function ju(s,o){try{var d=s.ref;if(d!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof d=="function"?s.refCleanup=d(h):d.current=h}}catch(b){_t(s,o,b)}}function $a(s,o){var d=s.ref,h=s.refCleanup;if(d!==null)if(typeof h=="function")try{h()}catch(b){_t(s,o,b)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(b){_t(s,o,b)}else d.current=null}function nS(s){var o=s.type,d=s.memoizedProps,h=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&h.focus();break e;case"img":d.src?h.src=d.src:d.srcSet&&(h.srcset=d.srcSet)}}catch(b){_t(s,s.return,b)}}function l0(s,o,d){try{var h=s.stateNode;FL(h,s.type,d,o),h[en]=o}catch(b){_t(s,s.return,b)}}function aS(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Es(s.type)||s.tag===4}function o0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||aS(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Es(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function c0(s,o,d){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(s,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(s),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=gi));else if(h!==4&&(h===27&&Es(s.type)&&(d=s.stateNode,o=null),s=s.child,s!==null))for(c0(s,o,d),s=s.sibling;s!==null;)c0(s,o,d),s=s.sibling}function Vf(s,o,d){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?d.insertBefore(s,o):d.appendChild(s);else if(h!==4&&(h===27&&Es(s.type)&&(d=s.stateNode),s=s.child,s!==null))for(Vf(s,o,d),s=s.sibling;s!==null;)Vf(s,o,d),s=s.sibling}function iS(s){var o=s.stateNode,d=s.memoizedProps;try{for(var h=s.type,b=o.attributes;b.length;)o.removeAttributeNode(b[0]);Kr(o,h,d),o[Pr]=s,o[en]=d}catch(S){_t(s,s.return,S)}}var Mi=!1,_r=!1,u0=!1,sS=typeof WeakSet=="function"?WeakSet:Set,Br=null;function vL(s,o){if(s=s.containerInfo,_0=mm,s=gj(s),nv(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var h=d.getSelection&&d.getSelection();if(h&&h.rangeCount!==0){d=h.anchorNode;var b=h.anchorOffset,S=h.focusNode;h=h.focusOffset;try{d.nodeType,S.nodeType}catch{d=null;break e}var _=0,I=-1,V=-1,ie=0,ve=0,be=s,oe=null;t:for(;;){for(var pe;be!==d||b!==0&&be.nodeType!==3||(I=_+b),be!==S||h!==0&&be.nodeType!==3||(V=_+h),be.nodeType===3&&(_+=be.nodeValue.length),(pe=be.firstChild)!==null;)oe=be,be=pe;for(;;){if(be===s)break t;if(oe===d&&++ie===b&&(I=_),oe===S&&++ve===h&&(V=_),(pe=be.nextSibling)!==null)break;be=oe,oe=be.parentNode}be=pe}d=I===-1||V===-1?null:{start:I,end:V}}else d=null}d=d||{start:0,end:0}}else d=null;for(O0={focusedElem:s,selectionRange:d},mm=!1,Br=o;Br!==null;)if(o=Br,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Br=s;else for(;Br!==null;){switch(o=Br,S=o.alternate,s=o.flags,o.tag){case 0:if((s&4)!==0&&(s=o.updateQueue,s=s!==null?s.events:null,s!==null))for(d=0;d<s.length;d++)b=s[d],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&S!==null){s=void 0,d=o,b=S.memoizedProps,S=S.memoizedState,h=d.stateNode;try{var qe=Al(d.type,b);s=h.getSnapshotBeforeUpdate(qe,S),h.__reactInternalSnapshotBeforeUpdate=s}catch(Ze){_t(d,d.return,Ze)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,d=s.nodeType,d===9)I0(s);else if(d===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":I0(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=o.sibling,s!==null){s.return=o.return,Br=s;break}Br=o.return}}function lS(s,o,d){var h=d.flags;switch(d.tag){case 0:case 11:case 15:Di(s,d),h&4&&Nu(5,d);break;case 1:if(Di(s,d),h&4)if(s=d.stateNode,o===null)try{s.componentDidMount()}catch(_){_t(d,d.return,_)}else{var b=Al(d.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(b,o,s.__reactInternalSnapshotBeforeUpdate)}catch(_){_t(d,d.return,_)}}h&64&&tS(d),h&512&&ju(d,d.return);break;case 3:if(Di(s,d),h&64&&(s=d.updateQueue,s!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{Yj(s,o)}catch(_){_t(d,d.return,_)}}break;case 27:o===null&&h&4&&iS(d);case 26:case 5:Di(s,d),o===null&&h&4&&nS(d),h&512&&ju(d,d.return);break;case 12:Di(s,d);break;case 31:Di(s,d),h&4&&uS(s,d);break;case 13:Di(s,d),h&4&&dS(s,d),h&64&&(s=d.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(d=AL.bind(null,d),VL(s,d))));break;case 22:if(h=d.memoizedState!==null||Mi,!h){o=o!==null&&o.memoizedState!==null||_r,b=Mi;var S=_r;Mi=h,(_r=o)&&!S?_i(s,d,(d.subtreeFlags&8772)!==0):Di(s,d),Mi=b,_r=S}break;case 30:break;default:Di(s,d)}}function oS(s){var o=s.alternate;o!==null&&(s.alternate=null,oS(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&Xc(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var tr=null,pn=!1;function Ei(s,o,d){for(d=d.child;d!==null;)cS(s,o,d),d=d.sibling}function cS(s,o,d){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(Ye,d)}catch{}switch(d.tag){case 26:_r||$a(d,o),Ei(s,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:_r||$a(d,o);var h=tr,b=pn;Es(d.type)&&(tr=d.stateNode,pn=!1),Ei(s,o,d),Ou(d.stateNode),tr=h,pn=b;break;case 5:_r||$a(d,o);case 6:if(h=tr,b=pn,tr=null,Ei(s,o,d),tr=h,pn=b,tr!==null)if(pn)try{(tr.nodeType===9?tr.body:tr.nodeName==="HTML"?tr.ownerDocument.body:tr).removeChild(d.stateNode)}catch(S){_t(d,o,S)}else try{tr.removeChild(d.stateNode)}catch(S){_t(d,o,S)}break;case 18:tr!==null&&(pn?(s=tr,tC(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,d.stateNode),Yo(s)):tC(tr,d.stateNode));break;case 4:h=tr,b=pn,tr=d.stateNode.containerInfo,pn=!0,Ei(s,o,d),tr=h,pn=b;break;case 0:case 11:case 14:case 15:Ns(2,d,o),_r||Ns(4,d,o),Ei(s,o,d);break;case 1:_r||($a(d,o),h=d.stateNode,typeof h.componentWillUnmount=="function"&&rS(d,o,h)),Ei(s,o,d);break;case 21:Ei(s,o,d);break;case 22:_r=(h=_r)||d.memoizedState!==null,Ei(s,o,d),_r=h;break;default:Ei(s,o,d)}}function uS(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Yo(s)}catch(d){_t(o,o.return,d)}}}function dS(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Yo(s)}catch(d){_t(o,o.return,d)}}function gL(s){switch(s.tag){case 31:case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new sS),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new sS),o;default:throw Error(n(435,s.tag))}}function Gf(s,o){var d=gL(s);o.forEach(function(h){if(!d.has(h)){d.add(h);var b=kL.bind(null,s,h);h.then(b,b)}})}function hn(s,o){var d=o.deletions;if(d!==null)for(var h=0;h<d.length;h++){var b=d[h],S=s,_=o,I=_;e:for(;I!==null;){switch(I.tag){case 27:if(Es(I.type)){tr=I.stateNode,pn=!1;break e}break;case 5:tr=I.stateNode,pn=!1;break e;case 3:case 4:tr=I.stateNode.containerInfo,pn=!0;break e}I=I.return}if(tr===null)throw Error(n(160));cS(S,_,b),tr=null,pn=!1,S=b.alternate,S!==null&&(S.return=null),b.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)fS(o,s),o=o.sibling}var xa=null;function fS(s,o){var d=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:hn(o,s),xn(s),h&4&&(Ns(3,s,s.return),Nu(3,s),Ns(5,s,s.return));break;case 1:hn(o,s),xn(s),h&512&&(_r||d===null||$a(d,d.return)),h&64&&Mi&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(d=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=d===null?h:d.concat(h))));break;case 26:var b=xa;if(hn(o,s),xn(s),h&512&&(_r||d===null||$a(d,d.return)),h&4){var S=d!==null?d.memoizedState:null;if(h=s.memoizedState,d===null)if(h===null)if(s.stateNode===null){e:{h=s.type,d=s.memoizedProps,b=b.ownerDocument||b;t:switch(h){case"title":S=b.getElementsByTagName("title")[0],(!S||S[ul]||S[Pr]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=b.createElement(h),b.head.insertBefore(S,b.querySelector("head > title"))),Kr(S,h,d),S[Pr]=s,Ar(S),h=S;break e;case"link":var _=fC("link","href",b).get(h+(d.href||""));if(_){for(var I=0;I<_.length;I++)if(S=_[I],S.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&S.getAttribute("rel")===(d.rel==null?null:d.rel)&&S.getAttribute("title")===(d.title==null?null:d.title)&&S.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){_.splice(I,1);break t}}S=b.createElement(h),Kr(S,h,d),b.head.appendChild(S);break;case"meta":if(_=fC("meta","content",b).get(h+(d.content||""))){for(I=0;I<_.length;I++)if(S=_[I],S.getAttribute("content")===(d.content==null?null:""+d.content)&&S.getAttribute("name")===(d.name==null?null:d.name)&&S.getAttribute("property")===(d.property==null?null:d.property)&&S.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&S.getAttribute("charset")===(d.charSet==null?null:d.charSet)){_.splice(I,1);break t}}S=b.createElement(h),Kr(S,h,d),b.head.appendChild(S);break;default:throw Error(n(468,h))}S[Pr]=s,Ar(S),h=S}s.stateNode=h}else mC(b,s.type,s.stateNode);else s.stateNode=dC(b,h,s.memoizedProps);else S!==h?(S===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):S.count--,h===null?mC(b,s.type,s.stateNode):dC(b,h,s.memoizedProps)):h===null&&s.stateNode!==null&&l0(s,s.memoizedProps,d.memoizedProps)}break;case 27:hn(o,s),xn(s),h&512&&(_r||d===null||$a(d,d.return)),d!==null&&h&4&&l0(s,s.memoizedProps,d.memoizedProps);break;case 5:if(hn(o,s),xn(s),h&512&&(_r||d===null||$a(d,d.return)),s.flags&32){b=s.stateNode;try{po(b,"")}catch(qe){_t(s,s.return,qe)}}h&4&&s.stateNode!=null&&(b=s.memoizedProps,l0(s,b,d!==null?d.memoizedProps:b)),h&1024&&(u0=!0);break;case 6:if(hn(o,s),xn(s),h&4){if(s.stateNode===null)throw Error(n(162));h=s.memoizedProps,d=s.stateNode;try{d.nodeValue=h}catch(qe){_t(s,s.return,qe)}}break;case 3:if(cm=null,b=xa,xa=lm(o.containerInfo),hn(o,s),xa=b,xn(s),h&4&&d!==null&&d.memoizedState.isDehydrated)try{Yo(o.containerInfo)}catch(qe){_t(s,s.return,qe)}u0&&(u0=!1,mS(s));break;case 4:h=xa,xa=lm(s.stateNode.containerInfo),hn(o,s),xn(s),xa=h;break;case 12:hn(o,s),xn(s);break;case 31:hn(o,s),xn(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Gf(s,h)));break;case 13:hn(o,s),xn(s),s.child.flags&8192&&s.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Kf=ze()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Gf(s,h)));break;case 22:b=s.memoizedState!==null;var V=d!==null&&d.memoizedState!==null,ie=Mi,ve=_r;if(Mi=ie||b,_r=ve||V,hn(o,s),_r=ve,Mi=ie,xn(s),h&8192)e:for(o=s.stateNode,o._visibility=b?o._visibility&-2:o._visibility|1,b&&(d===null||V||Mi||_r||kl(s)),d=null,o=s;;){if(o.tag===5||o.tag===26){if(d===null){V=d=o;try{if(S=V.stateNode,b)_=S.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{I=V.stateNode;var be=V.memoizedProps.style,oe=be!=null&&be.hasOwnProperty("display")?be.display:null;I.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(qe){_t(V,V.return,qe)}}}else if(o.tag===6){if(d===null){V=o;try{V.stateNode.nodeValue=b?"":V.memoizedProps}catch(qe){_t(V,V.return,qe)}}}else if(o.tag===18){if(d===null){V=o;try{var pe=V.stateNode;b?rC(pe,!0):rC(V.stateNode,!1)}catch(qe){_t(V,V.return,qe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=s.updateQueue,h!==null&&(d=h.retryQueue,d!==null&&(h.retryQueue=null,Gf(s,d))));break;case 19:hn(o,s),xn(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Gf(s,h)));break;case 30:break;case 21:break;default:hn(o,s),xn(s)}}function xn(s){var o=s.flags;if(o&2){try{for(var d,h=s.return;h!==null;){if(aS(h)){d=h;break}h=h.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var b=d.stateNode,S=o0(s);Vf(s,S,b);break;case 5:var _=d.stateNode;d.flags&32&&(po(_,""),d.flags&=-33);var I=o0(s);Vf(s,I,_);break;case 3:case 4:var V=d.stateNode.containerInfo,ie=o0(s);c0(s,ie,V);break;default:throw Error(n(161))}}catch(ve){_t(s,s.return,ve)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function mS(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;mS(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Di(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)lS(s,o.alternate,o),o=o.sibling}function kl(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:Ns(4,o,o.return),kl(o);break;case 1:$a(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&rS(o,o.return,d),kl(o);break;case 27:Ou(o.stateNode);case 26:case 5:$a(o,o.return),kl(o);break;case 22:o.memoizedState===null&&kl(o);break;case 30:kl(o);break;default:kl(o)}s=s.sibling}}function _i(s,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,b=s,S=o,_=S.flags;switch(S.tag){case 0:case 11:case 15:_i(b,S,d),Nu(4,S);break;case 1:if(_i(b,S,d),h=S,b=h.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(ie){_t(h,h.return,ie)}if(h=S,b=h.updateQueue,b!==null){var I=h.stateNode;try{var V=b.shared.hiddenCallbacks;if(V!==null)for(b.shared.hiddenCallbacks=null,b=0;b<V.length;b++)Uj(V[b],I)}catch(ie){_t(h,h.return,ie)}}d&&_&64&&tS(S),ju(S,S.return);break;case 27:iS(S);case 26:case 5:_i(b,S,d),d&&h===null&&_&4&&nS(S),ju(S,S.return);break;case 12:_i(b,S,d);break;case 31:_i(b,S,d),d&&_&4&&uS(b,S);break;case 13:_i(b,S,d),d&&_&4&&dS(b,S);break;case 22:S.memoizedState===null&&_i(b,S,d),ju(S,S.return);break;case 30:break;default:_i(b,S,d)}o=o.sibling}}function d0(s,o){var d=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==d&&(s!=null&&s.refCount++,d!=null&&cu(d))}function f0(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&cu(s))}function va(s,o,d,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)pS(s,o,d,h),o=o.sibling}function pS(s,o,d,h){var b=o.flags;switch(o.tag){case 0:case 11:case 15:va(s,o,d,h),b&2048&&Nu(9,o);break;case 1:va(s,o,d,h);break;case 3:va(s,o,d,h),b&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&cu(s)));break;case 12:if(b&2048){va(s,o,d,h),s=o.stateNode;try{var S=o.memoizedProps,_=S.id,I=S.onPostCommit;typeof I=="function"&&I(_,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(V){_t(o,o.return,V)}}else va(s,o,d,h);break;case 31:va(s,o,d,h);break;case 13:va(s,o,d,h);break;case 23:break;case 22:S=o.stateNode,_=o.alternate,o.memoizedState!==null?S._visibility&2?va(s,o,d,h):Su(s,o):S._visibility&2?va(s,o,d,h):(S._visibility|=2,Po(s,o,d,h,(o.subtreeFlags&10256)!==0||!1)),b&2048&&d0(_,o);break;case 24:va(s,o,d,h),b&2048&&f0(o.alternate,o);break;default:va(s,o,d,h)}}function Po(s,o,d,h,b){for(b=b&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var S=s,_=o,I=d,V=h,ie=_.flags;switch(_.tag){case 0:case 11:case 15:Po(S,_,I,V,b),Nu(8,_);break;case 23:break;case 22:var ve=_.stateNode;_.memoizedState!==null?ve._visibility&2?Po(S,_,I,V,b):Su(S,_):(ve._visibility|=2,Po(S,_,I,V,b)),b&&ie&2048&&d0(_.alternate,_);break;case 24:Po(S,_,I,V,b),b&&ie&2048&&f0(_.alternate,_);break;default:Po(S,_,I,V,b)}o=o.sibling}}function Su(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=s,h=o,b=h.flags;switch(h.tag){case 22:Su(d,h),b&2048&&d0(h.alternate,h);break;case 24:Su(d,h),b&2048&&f0(h.alternate,h);break;default:Su(d,h)}o=o.sibling}}var Cu=8192;function Io(s,o,d){if(s.subtreeFlags&Cu)for(s=s.child;s!==null;)hS(s,o,d),s=s.sibling}function hS(s,o,d){switch(s.tag){case 26:Io(s,o,d),s.flags&Cu&&s.memoizedState!==null&&a8(d,xa,s.memoizedState,s.memoizedProps);break;case 5:Io(s,o,d);break;case 3:case 4:var h=xa;xa=lm(s.stateNode.containerInfo),Io(s,o,d),xa=h;break;case 22:s.memoizedState===null&&(h=s.alternate,h!==null&&h.memoizedState!==null?(h=Cu,Cu=16777216,Io(s,o,d),Cu=h):Io(s,o,d));break;default:Io(s,o,d)}}function xS(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Au(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var h=o[d];Br=h,gS(h,s)}xS(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)vS(s),s=s.sibling}function vS(s){switch(s.tag){case 0:case 11:case 15:Au(s),s.flags&2048&&Ns(9,s,s.return);break;case 3:Au(s);break;case 12:Au(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Wf(s)):Au(s);break;default:Au(s)}}function Wf(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var h=o[d];Br=h,gS(h,s)}xS(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:Ns(8,o,o.return),Wf(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,Wf(o));break;default:Wf(o)}s=s.sibling}}function gS(s,o){for(;Br!==null;){var d=Br;switch(d.tag){case 0:case 11:case 15:Ns(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var h=d.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:cu(d.memoizedState.cache)}if(h=d.child,h!==null)h.return=d,Br=h;else e:for(d=s;Br!==null;){h=Br;var b=h.sibling,S=h.return;if(oS(h),h===d){Br=null;break e}if(b!==null){b.return=S,Br=b;break e}Br=S}}}var bL={getCacheForType:function(s){var o=Gr(Mr),d=o.data.get(s);return d===void 0&&(d=s(),o.data.set(s,d)),d},cacheSignal:function(){return Gr(Mr).controller.signal}},yL=typeof WeakMap=="function"?WeakMap:Map,kt=0,Ht=null,ft=null,vt=0,Dt=0,Tn=null,js=!1,Ro=!1,m0=!1,Oi=0,fr=0,Ss=0,Ml=0,p0=0,Pn=0,Lo=0,ku=null,vn=null,h0=!1,Kf=0,bS=0,Qf=1/0,Xf=null,Cs=null,Ir=0,As=null,Fo=null,Ti=0,x0=0,v0=null,yS=null,Mu=0,g0=null;function In(){return(kt&2)!==0&&vt!==0?vt&-vt:R.T!==null?S0():sf()}function wS(){if(Pn===0)if((vt&536870912)===0||wt){var s=Fe;Fe<<=1,(Fe&3932160)===0&&(Fe=262144),Pn=s}else Pn=536870912;return s=_n.current,s!==null&&(s.flags|=32),Pn}function gn(s,o,d){(s===Ht&&(Dt===2||Dt===9)||s.cancelPendingCommit!==null)&&(zo(s,0),ks(s,vt,Pn,!1)),Xe(s,d),((kt&2)===0||s!==Ht)&&(s===Ht&&((kt&2)===0&&(Ml|=d),fr===4&&ks(s,vt,Pn,!1)),Ha(s))}function NS(s,o,d){if((kt&6)!==0)throw Error(n(327));var h=!d&&(o&127)===0&&(o&s.expiredLanes)===0||yr(s,o),b=h?jL(s,o):y0(s,o,!0),S=h;do{if(b===0){Ro&&!h&&ks(s,o,0,!1);break}else{if(d=s.current.alternate,S&&!wL(d)){b=y0(s,o,!1),S=!1;continue}if(b===2){if(S=o,s.errorRecoveryDisabledLanes&S)var _=0;else _=s.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){o=_;e:{var I=s;b=ku;var V=I.current.memoizedState.isDehydrated;if(V&&(zo(I,_).flags|=256),_=y0(I,_,!1),_!==2){if(m0&&!V){I.errorRecoveryDisabledLanes|=S,Ml|=S,b=4;break e}S=vn,vn=b,S!==null&&(vn===null?vn=S:vn.push.apply(vn,S))}b=_}if(S=!1,b!==2)continue}}if(b===1){zo(s,0),ks(s,o,0,!0);break}e:{switch(h=s,S=b,S){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:ks(h,o,Pn,!js);break e;case 2:vn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(b=Kf+300-ze(),10<b)){if(ks(h,o,Pn,!js),Vt(h,0,!0)!==0)break e;Ti=o,h.timeoutHandle=JS(jS.bind(null,h,d,vn,Xf,h0,o,Pn,Ml,Lo,js,S,"Throttled",-0,0),b);break e}jS(h,d,vn,Xf,h0,o,Pn,Ml,Lo,js,S,null,-0,0)}}break}while(!0);Ha(s)}function jS(s,o,d,h,b,S,_,I,V,ie,ve,be,oe,pe){if(s.timeoutHandle=-1,be=o.subtreeFlags,be&8192||(be&16785408)===16785408){be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gi},hS(o,S,be);var qe=(S&62914560)===S?Kf-ze():(S&4194048)===S?bS-ze():0;if(qe=i8(be,qe),qe!==null){Ti=S,s.cancelPendingCommit=qe(_S.bind(null,s,o,S,d,h,b,_,I,V,ve,be,null,oe,pe)),ks(s,S,_,!ie);return}}_S(s,o,S,d,h,b,_,I,V)}function wL(s){for(var o=s;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var h=0;h<d.length;h++){var b=d[h],S=b.getSnapshot;b=b.value;try{if(!En(S(),b))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ks(s,o,d,h){o&=~p0,o&=~Ml,s.suspendedLanes|=o,s.pingedLanes&=~o,h&&(s.warmLanes|=o),h=s.expirationTimes;for(var b=o;0<b;){var S=31-nt(b),_=1<<S;h[S]=-1,b&=~_}d!==0&&lr(s,d,o)}function Zf(){return(kt&6)===0?(Eu(0),!1):!0}function b0(){if(ft!==null){if(Dt===0)var s=ft.return;else s=ft,Ni=bl=null,Iv(s),Eo=null,du=0,s=ft;for(;s!==null;)eS(s.alternate,s),s=s.return;ft=null}}function zo(s,o){var d=s.timeoutHandle;d!==-1&&(s.timeoutHandle=-1,$L(d)),d=s.cancelPendingCommit,d!==null&&(s.cancelPendingCommit=null,d()),Ti=0,b0(),Ht=s,ft=d=yi(s.current,null),vt=o,Dt=0,Tn=null,js=!1,Ro=yr(s,o),m0=!1,Lo=Pn=p0=Ml=Ss=fr=0,vn=ku=null,h0=!1,(o&8)!==0&&(o|=o&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=o;0<h;){var b=31-nt(h),S=1<<b;o|=s[b],h&=~S}return Oi=o,bf(),d}function SS(s,o){lt=null,R.H=bu,o===Mo||o===kf?(o=Bj(),Dt=3):o===jv?(o=Bj(),Dt=4):Dt=o===Xv?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Tn=o,ft===null&&(fr=1,$f(s,Qn(o,s.current)))}function CS(){var s=_n.current;return s===null?!0:(vt&4194048)===vt?ea===null:(vt&62914560)===vt||(vt&536870912)!==0?s===ea:!1}function AS(){var s=R.H;return R.H=bu,s===null?bu:s}function kS(){var s=R.A;return R.A=bL,s}function Jf(){fr=4,js||(vt&4194048)!==vt&&_n.current!==null||(Ro=!0),(Ss&134217727)===0&&(Ml&134217727)===0||Ht===null||ks(Ht,vt,Pn,!1)}function y0(s,o,d){var h=kt;kt|=2;var b=AS(),S=kS();(Ht!==s||vt!==o)&&(Xf=null,zo(s,o)),o=!1;var _=fr;e:do try{if(Dt!==0&&ft!==null){var I=ft,V=Tn;switch(Dt){case 8:b0(),_=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(o=!0);var ie=Dt;if(Dt=0,Tn=null,Bo(s,I,V,ie),d&&Ro){_=0;break e}break;default:ie=Dt,Dt=0,Tn=null,Bo(s,I,V,ie)}}NL(),_=fr;break}catch(ve){SS(s,ve)}while(!0);return o&&s.shellSuspendCounter++,Ni=bl=null,kt=h,R.H=b,R.A=S,ft===null&&(Ht=null,vt=0,bf()),_}function NL(){for(;ft!==null;)MS(ft)}function jL(s,o){var d=kt;kt|=2;var h=AS(),b=kS();Ht!==s||vt!==o?(Xf=null,Qf=ze()+500,zo(s,o)):Ro=yr(s,o);e:do try{if(Dt!==0&&ft!==null){o=ft;var S=Tn;t:switch(Dt){case 1:Dt=0,Tn=null,Bo(s,o,S,1);break;case 2:case 9:if(Fj(S)){Dt=0,Tn=null,ES(o);break}o=function(){Dt!==2&&Dt!==9||Ht!==s||(Dt=7),Ha(s)},S.then(o,o);break e;case 3:Dt=7;break e;case 4:Dt=5;break e;case 7:Fj(S)?(Dt=0,Tn=null,ES(o)):(Dt=0,Tn=null,Bo(s,o,S,7));break;case 5:var _=null;switch(ft.tag){case 26:_=ft.memoizedState;case 5:case 27:var I=ft;if(_?pC(_):I.stateNode.complete){Dt=0,Tn=null;var V=I.sibling;if(V!==null)ft=V;else{var ie=I.return;ie!==null?(ft=ie,em(ie)):ft=null}break t}}Dt=0,Tn=null,Bo(s,o,S,5);break;case 6:Dt=0,Tn=null,Bo(s,o,S,6);break;case 8:b0(),fr=6;break e;default:throw Error(n(462))}}SL();break}catch(ve){SS(s,ve)}while(!0);return Ni=bl=null,R.H=h,R.A=b,kt=d,ft!==null?0:(Ht=null,vt=0,bf(),fr)}function SL(){for(;ft!==null&&!ye();)MS(ft)}function MS(s){var o=Z2(s.alternate,s,Oi);s.memoizedProps=s.pendingProps,o===null?em(s):ft=o}function ES(s){var o=s,d=o.alternate;switch(o.tag){case 15:case 0:o=V2(d,o,o.pendingProps,o.type,void 0,vt);break;case 11:o=V2(d,o,o.pendingProps,o.type.render,o.ref,vt);break;case 5:Iv(o);default:eS(d,o),o=ft=kj(o,Oi),o=Z2(d,o,Oi)}s.memoizedProps=s.pendingProps,o===null?em(s):ft=o}function Bo(s,o,d,h){Ni=bl=null,Iv(o),Eo=null,du=0;var b=o.return;try{if(fL(s,b,o,d,vt)){fr=1,$f(s,Qn(d,s.current)),ft=null;return}}catch(S){if(b!==null)throw ft=b,S;fr=1,$f(s,Qn(d,s.current)),ft=null;return}o.flags&32768?(wt||h===1?s=!0:Ro||(vt&536870912)!==0?s=!1:(js=s=!0,(h===2||h===9||h===3||h===6)&&(h=_n.current,h!==null&&h.tag===13&&(h.flags|=16384))),DS(o,s)):em(o)}function em(s){var o=s;do{if((o.flags&32768)!==0){DS(o,js);return}s=o.return;var d=hL(o.alternate,o,Oi);if(d!==null){ft=d;return}if(o=o.sibling,o!==null){ft=o;return}ft=o=s}while(o!==null);fr===0&&(fr=5)}function DS(s,o){do{var d=xL(s.alternate,s);if(d!==null){d.flags&=32767,ft=d;return}if(d=s.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(s=s.sibling,s!==null)){ft=s;return}ft=s=d}while(s!==null);fr=6,ft=null}function _S(s,o,d,h,b,S,_,I,V){s.cancelPendingCommit=null;do tm();while(Ir!==0);if((kt&6)!==0)throw Error(n(327));if(o!==null){if(o===s.current)throw Error(n(177));if(S=o.lanes|o.childLanes,S|=ov,er(s,d,S,_,I,V),s===Ht&&(ft=Ht=null,vt=0),Fo=o,As=s,Ti=d,x0=S,v0=b,yS=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,ML(re,function(){return RS(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=R.T,R.T=null,b=G.p,G.p=2,_=kt,kt|=4;try{vL(s,o,d)}finally{kt=_,G.p=b,R.T=h}}Ir=1,OS(),TS(),PS()}}function OS(){if(Ir===1){Ir=0;var s=As,o=Fo,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=R.T,R.T=null;var h=G.p;G.p=2;var b=kt;kt|=4;try{fS(o,s);var S=O0,_=gj(s.containerInfo),I=S.focusedElem,V=S.selectionRange;if(_!==I&&I&&I.ownerDocument&&vj(I.ownerDocument.documentElement,I)){if(V!==null&&nv(I)){var ie=V.start,ve=V.end;if(ve===void 0&&(ve=ie),"selectionStart"in I)I.selectionStart=ie,I.selectionEnd=Math.min(ve,I.value.length);else{var be=I.ownerDocument||document,oe=be&&be.defaultView||window;if(oe.getSelection){var pe=oe.getSelection(),qe=I.textContent.length,Ze=Math.min(V.start,qe),Lt=V.end===void 0?Ze:Math.min(V.end,qe);!pe.extend&&Ze>Lt&&(_=Lt,Lt=Ze,Ze=_);var te=xj(I,Ze),X=xj(I,Lt);if(te&&X&&(pe.rangeCount!==1||pe.anchorNode!==te.node||pe.anchorOffset!==te.offset||pe.focusNode!==X.node||pe.focusOffset!==X.offset)){var ae=be.createRange();ae.setStart(te.node,te.offset),pe.removeAllRanges(),Ze>Lt?(pe.addRange(ae),pe.extend(X.node,X.offset)):(ae.setEnd(X.node,X.offset),pe.addRange(ae))}}}}for(be=[],pe=I;pe=pe.parentNode;)pe.nodeType===1&&be.push({element:pe,left:pe.scrollLeft,top:pe.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<be.length;I++){var ge=be[I];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}mm=!!_0,O0=_0=null}finally{kt=b,G.p=h,R.T=d}}s.current=o,Ir=2}}function TS(){if(Ir===2){Ir=0;var s=As,o=Fo,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=R.T,R.T=null;var h=G.p;G.p=2;var b=kt;kt|=4;try{lS(s,o.alternate,o)}finally{kt=b,G.p=h,R.T=d}}Ir=3}}function PS(){if(Ir===4||Ir===3){Ir=0,_e();var s=As,o=Fo,d=Ti,h=yS;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Ir=5:(Ir=0,Fo=As=null,IS(s,s.pendingLanes));var b=s.pendingLanes;if(b===0&&(Cs=null),Kc(d),o=o.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(Ye,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=R.T,b=G.p,G.p=2,R.T=null;try{for(var S=s.onRecoverableError,_=0;_<h.length;_++){var I=h[_];S(I.value,{componentStack:I.stack})}}finally{R.T=o,G.p=b}}(Ti&3)!==0&&tm(),Ha(s),b=s.pendingLanes,(d&261930)!==0&&(b&42)!==0?s===g0?Mu++:(Mu=0,g0=s):Mu=0,Eu(0)}}function IS(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,cu(o)))}function tm(){return OS(),TS(),PS(),RS()}function RS(){if(Ir!==5)return!1;var s=As,o=x0;x0=0;var d=Kc(Ti),h=R.T,b=G.p;try{G.p=32>d?32:d,R.T=null,d=v0,v0=null;var S=As,_=Ti;if(Ir=0,Fo=As=null,Ti=0,(kt&6)!==0)throw Error(n(331));var I=kt;if(kt|=4,vS(S.current),pS(S,S.current,_,d),kt=I,Eu(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(Ye,S)}catch{}return!0}finally{G.p=b,R.T=h,IS(s,o)}}function LS(s,o,d){o=Qn(d,o),o=Qv(s.stateNode,o,2),s=bs(s,o,2),s!==null&&(Xe(s,2),Ha(s))}function _t(s,o,d){if(s.tag===3)LS(s,s,d);else for(;o!==null;){if(o.tag===3){LS(o,s,d);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Cs===null||!Cs.has(h))){s=Qn(d,s),d=F2(2),h=bs(o,d,2),h!==null&&(z2(d,h,o,s),Xe(h,2),Ha(h));break}}o=o.return}}function w0(s,o,d){var h=s.pingCache;if(h===null){h=s.pingCache=new yL;var b=new Set;h.set(o,b)}else b=h.get(o),b===void 0&&(b=new Set,h.set(o,b));b.has(d)||(m0=!0,b.add(d),s=CL.bind(null,s,o,d),o.then(s,s))}function CL(s,o,d){var h=s.pingCache;h!==null&&h.delete(o),s.pingedLanes|=s.suspendedLanes&d,s.warmLanes&=~d,Ht===s&&(vt&d)===d&&(fr===4||fr===3&&(vt&62914560)===vt&&300>ze()-Kf?(kt&2)===0&&zo(s,0):p0|=d,Lo===vt&&(Lo=0)),Ha(s)}function FS(s,o){o===0&&(o=fe()),s=xl(s,o),s!==null&&(Xe(s,o),Ha(s))}function AL(s){var o=s.memoizedState,d=0;o!==null&&(d=o.retryLane),FS(s,d)}function kL(s,o){var d=0;switch(s.tag){case 31:case 13:var h=s.stateNode,b=s.memoizedState;b!==null&&(d=b.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(n(314))}h!==null&&h.delete(o),FS(s,d)}function ML(s,o){return Zt(s,o)}var rm=null,$o=null,N0=!1,nm=!1,j0=!1,Ms=0;function Ha(s){s!==$o&&s.next===null&&($o===null?rm=$o=s:$o=$o.next=s),nm=!0,N0||(N0=!0,DL())}function Eu(s,o){if(!j0&&nm){j0=!0;do for(var d=!1,h=rm;h!==null;){if(s!==0){var b=h.pendingLanes;if(b===0)var S=0;else{var _=h.suspendedLanes,I=h.pingedLanes;S=(1<<31-nt(42|s)+1)-1,S&=b&~(_&~I),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(d=!0,HS(h,S))}else S=vt,S=Vt(h,h===Ht?S:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(S&3)===0||yr(h,S)||(d=!0,HS(h,S));h=h.next}while(d);j0=!1}}function EL(){zS()}function zS(){nm=N0=!1;var s=0;Ms!==0&&BL()&&(s=Ms);for(var o=ze(),d=null,h=rm;h!==null;){var b=h.next,S=BS(h,o);S===0?(h.next=null,d===null?rm=b:d.next=b,b===null&&($o=d)):(d=h,(s!==0||(S&3)!==0)&&(nm=!0)),h=b}Ir!==0&&Ir!==5||Eu(s),Ms!==0&&(Ms=0)}function BS(s,o){for(var d=s.suspendedLanes,h=s.pingedLanes,b=s.expirationTimes,S=s.pendingLanes&-62914561;0<S;){var _=31-nt(S),I=1<<_,V=b[_];V===-1?((I&d)===0||(I&h)!==0)&&(b[_]=kn(I,o)):V<=o&&(s.expiredLanes|=I),S&=~I}if(o=Ht,d=vt,d=Vt(s,s===o?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,d===0||s===o&&(Dt===2||Dt===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&Jt(h),s.callbackNode=null,s.callbackPriority=0;if((d&3)===0||yr(s,d)){if(o=d&-d,o===s.callbackPriority)return o;switch(h!==null&&Jt(h),Kc(d)){case 2:case 8:d=q;break;case 32:d=re;break;case 268435456:d=Ue;break;default:d=re}return h=$S.bind(null,s),d=Zt(d,h),s.callbackPriority=o,s.callbackNode=d,o}return h!==null&&h!==null&&Jt(h),s.callbackPriority=2,s.callbackNode=null,2}function $S(s,o){if(Ir!==0&&Ir!==5)return s.callbackNode=null,s.callbackPriority=0,null;var d=s.callbackNode;if(tm()&&s.callbackNode!==d)return null;var h=vt;return h=Vt(s,s===Ht?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(NS(s,h,o),BS(s,ze()),s.callbackNode!=null&&s.callbackNode===d?$S.bind(null,s):null)}function HS(s,o){if(tm())return null;NS(s,o,!0)}function DL(){HL(function(){(kt&6)!==0?Zt(W,EL):zS()})}function S0(){if(Ms===0){var s=Ao;s===0&&(s=We,We<<=1,(We&261888)===0&&(We=256)),Ms=s}return Ms}function qS(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:df(""+s)}function US(s,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,s.id&&d.setAttribute("form",s.id),o.parentNode.insertBefore(d,o),s=new FormData(s),d.parentNode.removeChild(d),s}function _L(s,o,d,h,b){if(o==="submit"&&d&&d.stateNode===b){var S=qS((b[en]||null).action),_=h.submitter;_&&(o=(o=_[en]||null)?qS(o.formAction):_.getAttribute("formAction"),o!==null&&(S=o,_=null));var I=new hf("action","action",null,h,b);s.push({event:I,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Ms!==0){var V=_?US(b,_):new FormData(b);Uv(d,{pending:!0,data:V,method:b.method,action:S},null,V)}}else typeof S=="function"&&(I.preventDefault(),V=_?US(b,_):new FormData(b),Uv(d,{pending:!0,data:V,method:b.method,action:S},S,V))},currentTarget:b}]})}}for(var C0=0;C0<lv.length;C0++){var A0=lv[C0],OL=A0.toLowerCase(),TL=A0[0].toUpperCase()+A0.slice(1);ha(OL,"on"+TL)}ha(wj,"onAnimationEnd"),ha(Nj,"onAnimationIteration"),ha(jj,"onAnimationStart"),ha("dblclick","onDoubleClick"),ha("focusin","onFocus"),ha("focusout","onBlur"),ha(KR,"onTransitionRun"),ha(QR,"onTransitionStart"),ha(XR,"onTransitionCancel"),ha(Sj,"onTransitionEnd"),ur("onMouseEnter",["mouseout","mouseover"]),ur("onMouseLeave",["mouseout","mouseover"]),ur("onPointerEnter",["pointerout","pointerover"]),ur("onPointerLeave",["pointerout","pointerover"]),Se("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Se("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Se("onBeforeInput",["compositionend","keypress","textInput","paste"]),Se("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Se("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Se("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Du));function YS(s,o){o=(o&4)!==0;for(var d=0;d<s.length;d++){var h=s[d],b=h.event;h=h.listeners;e:{var S=void 0;if(o)for(var _=h.length-1;0<=_;_--){var I=h[_],V=I.instance,ie=I.currentTarget;if(I=I.listener,V!==S&&b.isPropagationStopped())break e;S=I,b.currentTarget=ie;try{S(b)}catch(ve){gf(ve)}b.currentTarget=null,S=V}else for(_=0;_<h.length;_++){if(I=h[_],V=I.instance,ie=I.currentTarget,I=I.listener,V!==S&&b.isPropagationStopped())break e;S=I,b.currentTarget=ie;try{S(b)}catch(ve){gf(ve)}b.currentTarget=null,S=V}}}}function mt(s,o){var d=o[Qc];d===void 0&&(d=o[Qc]=new Set);var h=s+"__bubble";d.has(h)||(VS(o,s,2,!1),d.add(h))}function k0(s,o,d){var h=0;o&&(h|=4),VS(d,s,h,o)}var am="_reactListening"+Math.random().toString(36).slice(2);function M0(s){if(!s[am]){s[am]=!0,cf.forEach(function(d){d!=="selectionchange"&&(PL.has(d)||k0(d,!1,s),k0(d,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[am]||(o[am]=!0,k0("selectionchange",!1,o))}}function VS(s,o,d,h){switch(wC(o)){case 2:var b=o8;break;case 8:b=c8;break;default:b=q0}d=b.bind(null,o,d,s),b=void 0,!Wx||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(b=!0),h?b!==void 0?s.addEventListener(o,d,{capture:!0,passive:b}):s.addEventListener(o,d,!0):b!==void 0?s.addEventListener(o,d,{passive:b}):s.addEventListener(o,d,!1)}function E0(s,o,d,h,b){var S=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var _=h.tag;if(_===3||_===4){var I=h.stateNode.containerInfo;if(I===b)break;if(_===4)for(_=h.return;_!==null;){var V=_.tag;if((V===3||V===4)&&_.stateNode.containerInfo===b)return;_=_.return}for(;I!==null;){if(_=cs(I),_===null)return;if(V=_.tag,V===5||V===6||V===26||V===27){h=S=_;continue e}I=I.parentNode}}h=h.return}XN(function(){var ie=S,ve=Vx(d),be=[];e:{var oe=Cj.get(s);if(oe!==void 0){var pe=hf,qe=s;switch(s){case"keypress":if(mf(d)===0)break e;case"keydown":case"keyup":pe=kR;break;case"focusin":qe="focus",pe=Zx;break;case"focusout":qe="blur",pe=Zx;break;case"beforeblur":case"afterblur":pe=Zx;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=ej;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=hR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=DR;break;case wj:case Nj:case jj:pe=gR;break;case Sj:pe=OR;break;case"scroll":case"scrollend":pe=mR;break;case"wheel":pe=PR;break;case"copy":case"cut":case"paste":pe=yR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=rj;break;case"toggle":case"beforetoggle":pe=RR}var Ze=(o&4)!==0,Lt=!Ze&&(s==="scroll"||s==="scrollend"),te=Ze?oe!==null?oe+"Capture":null:oe;Ze=[];for(var X=ie,ae;X!==null;){var ge=X;if(ae=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||ae===null||te===null||(ge=Zc(X,te),ge!=null&&Ze.push(_u(X,ge,ae))),Lt)break;X=X.return}0<Ze.length&&(oe=new pe(oe,qe,null,d,ve),be.push({event:oe,listeners:Ze}))}}if((o&7)===0){e:{if(oe=s==="mouseover"||s==="pointerover",pe=s==="mouseout"||s==="pointerout",oe&&d!==Yx&&(qe=d.relatedTarget||d.fromElement)&&(cs(qe)||qe[os]))break e;if((pe||oe)&&(oe=ve.window===ve?ve:(oe=ve.ownerDocument)?oe.defaultView||oe.parentWindow:window,pe?(qe=d.relatedTarget||d.toElement,pe=ie,qe=qe?cs(qe):null,qe!==null&&(Lt=l(qe),Ze=qe.tag,qe!==Lt||Ze!==5&&Ze!==27&&Ze!==6)&&(qe=null)):(pe=null,qe=ie),pe!==qe)){if(Ze=ej,ge="onMouseLeave",te="onMouseEnter",X="mouse",(s==="pointerout"||s==="pointerover")&&(Ze=rj,ge="onPointerLeave",te="onPointerEnter",X="pointer"),Lt=pe==null?oe:dl(pe),ae=qe==null?oe:dl(qe),oe=new Ze(ge,X+"leave",pe,d,ve),oe.target=Lt,oe.relatedTarget=ae,ge=null,cs(ve)===ie&&(Ze=new Ze(te,X+"enter",qe,d,ve),Ze.target=ae,Ze.relatedTarget=Lt,ge=Ze),Lt=ge,pe&&qe)t:{for(Ze=IL,te=pe,X=qe,ae=0,ge=te;ge;ge=Ze(ge))ae++;ge=0;for(var Ke=X;Ke;Ke=Ze(Ke))ge++;for(;0<ae-ge;)te=Ze(te),ae--;for(;0<ge-ae;)X=Ze(X),ge--;for(;ae--;){if(te===X||X!==null&&te===X.alternate){Ze=te;break t}te=Ze(te),X=Ze(X)}Ze=null}else Ze=null;pe!==null&&GS(be,oe,pe,Ze,!1),qe!==null&&Lt!==null&&GS(be,Lt,qe,Ze,!0)}}e:{if(oe=ie?dl(ie):window,pe=oe.nodeName&&oe.nodeName.toLowerCase(),pe==="select"||pe==="input"&&oe.type==="file")var St=uj;else if(oj(oe))if(dj)St=VR;else{St=UR;var Ve=qR}else pe=oe.nodeName,!pe||pe.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?ie&&Ux(ie.elementType)&&(St=uj):St=YR;if(St&&(St=St(s,ie))){cj(be,St,d,ve);break e}Ve&&Ve(s,oe,ie),s==="focusout"&&ie&&oe.type==="number"&&ie.memoizedProps.value!=null&&qx(oe,"number",oe.value)}switch(Ve=ie?dl(ie):window,s){case"focusin":(oj(Ve)||Ve.contentEditable==="true")&&(go=Ve,av=ie,su=null);break;case"focusout":su=av=go=null;break;case"mousedown":iv=!0;break;case"contextmenu":case"mouseup":case"dragend":iv=!1,bj(be,d,ve);break;case"selectionchange":if(WR)break;case"keydown":case"keyup":bj(be,d,ve)}var ot;if(ev)e:{switch(s){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else vo?sj(s,d)&&(gt="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(gt="onCompositionStart");gt&&(nj&&d.locale!=="ko"&&(vo||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&vo&&(ot=ZN()):(fs=ve,Kx="value"in fs?fs.value:fs.textContent,vo=!0)),Ve=im(ie,gt),0<Ve.length&&(gt=new tj(gt,s,null,d,ve),be.push({event:gt,listeners:Ve}),ot?gt.data=ot:(ot=lj(d),ot!==null&&(gt.data=ot)))),(ot=FR?zR(s,d):BR(s,d))&&(gt=im(ie,"onBeforeInput"),0<gt.length&&(Ve=new tj("onBeforeInput","beforeinput",null,d,ve),be.push({event:Ve,listeners:gt}),Ve.data=ot)),_L(be,s,ie,d,ve)}YS(be,o)})}function _u(s,o,d){return{instance:s,listener:o,currentTarget:d}}function im(s,o){for(var d=o+"Capture",h=[];s!==null;){var b=s,S=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||S===null||(b=Zc(s,d),b!=null&&h.unshift(_u(s,b,S)),b=Zc(s,o),b!=null&&h.push(_u(s,b,S))),s.tag===3)return h;s=s.return}return[]}function IL(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function GS(s,o,d,h,b){for(var S=o._reactName,_=[];d!==null&&d!==h;){var I=d,V=I.alternate,ie=I.stateNode;if(I=I.tag,V!==null&&V===h)break;I!==5&&I!==26&&I!==27||ie===null||(V=ie,b?(ie=Zc(d,S),ie!=null&&_.unshift(_u(d,ie,V))):b||(ie=Zc(d,S),ie!=null&&_.push(_u(d,ie,V)))),d=d.return}_.length!==0&&s.push({event:o,listeners:_})}var RL=/\r\n?/g,LL=/\u0000|\uFFFD/g;function WS(s){return(typeof s=="string"?s:""+s).replace(RL,`
`).replace(LL,"")}function KS(s,o){return o=WS(o),WS(s)===o}function Rt(s,o,d,h,b,S){switch(d){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||po(s,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&po(s,""+h);break;case"className":fl(s,"class",h);break;case"tabIndex":fl(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":fl(s,d,h);break;case"style":KN(s,h,S);break;case"data":if(o!=="object"){fl(s,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||d!=="href")){s.removeAttribute(d);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(d);break}h=df(""+h),s.setAttribute(d,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(d==="formAction"?(o!=="input"&&Rt(s,o,"name",b.name,b,null),Rt(s,o,"formEncType",b.formEncType,b,null),Rt(s,o,"formMethod",b.formMethod,b,null),Rt(s,o,"formTarget",b.formTarget,b,null)):(Rt(s,o,"encType",b.encType,b,null),Rt(s,o,"method",b.method,b,null),Rt(s,o,"target",b.target,b,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(d);break}h=df(""+h),s.setAttribute(d,h);break;case"onClick":h!=null&&(s.onclick=gi);break;case"onScroll":h!=null&&mt("scroll",s);break;case"onScrollEnd":h!=null&&mt("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(d=h.__html,d!=null){if(b.children!=null)throw Error(n(60));s.innerHTML=d}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}d=df(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(d,""+h):s.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(d,""):s.removeAttribute(d);break;case"capture":case"download":h===!0?s.setAttribute(d,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(d,h):s.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(d,h):s.removeAttribute(d);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(d):s.setAttribute(d,h);break;case"popover":mt("beforetoggle",s),mt("toggle",s),vi(s,"popover",h);break;case"xlinkActuate":kr(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":kr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":kr(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":kr(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":kr(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":kr(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":kr(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":kr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":kr(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":vi(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=dR.get(d)||d,vi(s,d,h))}}function D0(s,o,d,h,b,S){switch(d){case"style":KN(s,h,S);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(d=h.__html,d!=null){if(b.children!=null)throw Error(n(60));s.innerHTML=d}}break;case"children":typeof h=="string"?po(s,h):(typeof h=="number"||typeof h=="bigint")&&po(s,""+h);break;case"onScroll":h!=null&&mt("scroll",s);break;case"onScrollEnd":h!=null&&mt("scrollend",s);break;case"onClick":h!=null&&(s.onclick=gi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Y.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(b=d.endsWith("Capture"),o=d.slice(2,b?d.length-7:void 0),S=s[en]||null,S=S!=null?S[d]:null,typeof S=="function"&&s.removeEventListener(o,S,b),typeof h=="function")){typeof S!="function"&&S!==null&&(d in s?s[d]=null:s.hasAttribute(d)&&s.removeAttribute(d)),s.addEventListener(o,h,b);break e}d in s?s[d]=h:h===!0?s.setAttribute(d,""):vi(s,d,h)}}}function Kr(s,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mt("error",s),mt("load",s);var h=!1,b=!1,S;for(S in d)if(d.hasOwnProperty(S)){var _=d[S];if(_!=null)switch(S){case"src":h=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Rt(s,o,S,_,d,null)}}b&&Rt(s,o,"srcSet",d.srcSet,d,null),h&&Rt(s,o,"src",d.src,d,null);return;case"input":mt("invalid",s);var I=S=_=b=null,V=null,ie=null;for(h in d)if(d.hasOwnProperty(h)){var ve=d[h];if(ve!=null)switch(h){case"name":b=ve;break;case"type":_=ve;break;case"checked":V=ve;break;case"defaultChecked":ie=ve;break;case"value":S=ve;break;case"defaultValue":I=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(n(137,o));break;default:Rt(s,o,h,ve,d,null)}}YN(s,S,I,V,ie,_,b,!1);return;case"select":mt("invalid",s),h=_=S=null;for(b in d)if(d.hasOwnProperty(b)&&(I=d[b],I!=null))switch(b){case"value":S=I;break;case"defaultValue":_=I;break;case"multiple":h=I;default:Rt(s,o,b,I,d,null)}o=S,d=_,s.multiple=!!h,o!=null?mo(s,!!h,o,!1):d!=null&&mo(s,!!h,d,!0);return;case"textarea":mt("invalid",s),S=b=h=null;for(_ in d)if(d.hasOwnProperty(_)&&(I=d[_],I!=null))switch(_){case"value":h=I;break;case"defaultValue":b=I;break;case"children":S=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(n(91));break;default:Rt(s,o,_,I,d,null)}GN(s,h,b,S);return;case"option":for(V in d)d.hasOwnProperty(V)&&(h=d[V],h!=null)&&(V==="selected"?s.selected=h&&typeof h!="function"&&typeof h!="symbol":Rt(s,o,V,h,d,null));return;case"dialog":mt("beforetoggle",s),mt("toggle",s),mt("cancel",s),mt("close",s);break;case"iframe":case"object":mt("load",s);break;case"video":case"audio":for(h=0;h<Du.length;h++)mt(Du[h],s);break;case"image":mt("error",s),mt("load",s);break;case"details":mt("toggle",s);break;case"embed":case"source":case"link":mt("error",s),mt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in d)if(d.hasOwnProperty(ie)&&(h=d[ie],h!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Rt(s,o,ie,h,d,null)}return;default:if(Ux(o)){for(ve in d)d.hasOwnProperty(ve)&&(h=d[ve],h!==void 0&&D0(s,o,ve,h,d,void 0));return}}for(I in d)d.hasOwnProperty(I)&&(h=d[I],h!=null&&Rt(s,o,I,h,d,null))}function FL(s,o,d,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,S=null,_=null,I=null,V=null,ie=null,ve=null;for(pe in d){var be=d[pe];if(d.hasOwnProperty(pe)&&be!=null)switch(pe){case"checked":break;case"value":break;case"defaultValue":V=be;default:h.hasOwnProperty(pe)||Rt(s,o,pe,null,h,be)}}for(var oe in h){var pe=h[oe];if(be=d[oe],h.hasOwnProperty(oe)&&(pe!=null||be!=null))switch(oe){case"type":S=pe;break;case"name":b=pe;break;case"checked":ie=pe;break;case"defaultChecked":ve=pe;break;case"value":_=pe;break;case"defaultValue":I=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(n(137,o));break;default:pe!==be&&Rt(s,o,oe,pe,h,be)}}Hx(s,_,I,V,ie,ve,S,b);return;case"select":pe=_=I=oe=null;for(S in d)if(V=d[S],d.hasOwnProperty(S)&&V!=null)switch(S){case"value":break;case"multiple":pe=V;default:h.hasOwnProperty(S)||Rt(s,o,S,null,h,V)}for(b in h)if(S=h[b],V=d[b],h.hasOwnProperty(b)&&(S!=null||V!=null))switch(b){case"value":oe=S;break;case"defaultValue":I=S;break;case"multiple":_=S;default:S!==V&&Rt(s,o,b,S,h,V)}o=I,d=_,h=pe,oe!=null?mo(s,!!d,oe,!1):!!h!=!!d&&(o!=null?mo(s,!!d,o,!0):mo(s,!!d,d?[]:"",!1));return;case"textarea":pe=oe=null;for(I in d)if(b=d[I],d.hasOwnProperty(I)&&b!=null&&!h.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Rt(s,o,I,null,h,b)}for(_ in h)if(b=h[_],S=d[_],h.hasOwnProperty(_)&&(b!=null||S!=null))switch(_){case"value":oe=b;break;case"defaultValue":pe=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(n(91));break;default:b!==S&&Rt(s,o,_,b,h,S)}VN(s,oe,pe);return;case"option":for(var qe in d)oe=d[qe],d.hasOwnProperty(qe)&&oe!=null&&!h.hasOwnProperty(qe)&&(qe==="selected"?s.selected=!1:Rt(s,o,qe,null,h,oe));for(V in h)oe=h[V],pe=d[V],h.hasOwnProperty(V)&&oe!==pe&&(oe!=null||pe!=null)&&(V==="selected"?s.selected=oe&&typeof oe!="function"&&typeof oe!="symbol":Rt(s,o,V,oe,h,pe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in d)oe=d[Ze],d.hasOwnProperty(Ze)&&oe!=null&&!h.hasOwnProperty(Ze)&&Rt(s,o,Ze,null,h,oe);for(ie in h)if(oe=h[ie],pe=d[ie],h.hasOwnProperty(ie)&&oe!==pe&&(oe!=null||pe!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(n(137,o));break;default:Rt(s,o,ie,oe,h,pe)}return;default:if(Ux(o)){for(var Lt in d)oe=d[Lt],d.hasOwnProperty(Lt)&&oe!==void 0&&!h.hasOwnProperty(Lt)&&D0(s,o,Lt,void 0,h,oe);for(ve in h)oe=h[ve],pe=d[ve],!h.hasOwnProperty(ve)||oe===pe||oe===void 0&&pe===void 0||D0(s,o,ve,oe,h,pe);return}}for(var te in d)oe=d[te],d.hasOwnProperty(te)&&oe!=null&&!h.hasOwnProperty(te)&&Rt(s,o,te,null,h,oe);for(be in h)oe=h[be],pe=d[be],!h.hasOwnProperty(be)||oe===pe||oe==null&&pe==null||Rt(s,o,be,oe,h,pe)}function QS(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zL(){if(typeof performance.getEntriesByType=="function"){for(var s=0,o=0,d=performance.getEntriesByType("resource"),h=0;h<d.length;h++){var b=d[h],S=b.transferSize,_=b.initiatorType,I=b.duration;if(S&&I&&QS(_)){for(_=0,I=b.responseEnd,h+=1;h<d.length;h++){var V=d[h],ie=V.startTime;if(ie>I)break;var ve=V.transferSize,be=V.initiatorType;ve&&QS(be)&&(V=V.responseEnd,_+=ve*(V<I?1:(I-ie)/(V-ie)))}if(--h,o+=8*(S+_)/(b.duration/1e3),s++,10<s)break}}if(0<s)return o/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var _0=null,O0=null;function sm(s){return s.nodeType===9?s:s.ownerDocument}function XS(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ZS(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function T0(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var P0=null;function BL(){var s=window.event;return s&&s.type==="popstate"?s===P0?!1:(P0=s,!0):(P0=null,!1)}var JS=typeof setTimeout=="function"?setTimeout:void 0,$L=typeof clearTimeout=="function"?clearTimeout:void 0,eC=typeof Promise=="function"?Promise:void 0,HL=typeof queueMicrotask=="function"?queueMicrotask:typeof eC<"u"?function(s){return eC.resolve(null).then(s).catch(qL)}:JS;function qL(s){setTimeout(function(){throw s})}function Es(s){return s==="head"}function tC(s,o){var d=o,h=0;do{var b=d.nextSibling;if(s.removeChild(d),b&&b.nodeType===8)if(d=b.data,d==="/$"||d==="/&"){if(h===0){s.removeChild(b),Yo(o);return}h--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")h++;else if(d==="html")Ou(s.ownerDocument.documentElement);else if(d==="head"){d=s.ownerDocument.head,Ou(d);for(var S=d.firstChild;S;){var _=S.nextSibling,I=S.nodeName;S[ul]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&S.rel.toLowerCase()==="stylesheet"||d.removeChild(S),S=_}}else d==="body"&&Ou(s.ownerDocument.body);d=b}while(d);Yo(o)}function rC(s,o){var d=s;s=0;do{var h=d.nextSibling;if(d.nodeType===1?o?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(o?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),h&&h.nodeType===8)if(d=h.data,d==="/$"){if(s===0)break;s--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||s++;d=h}while(d)}function I0(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":I0(d),Xc(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}s.removeChild(d)}}function UL(s,o,d,h){for(;s.nodeType===1;){var b=d;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[ul])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(S=s.getAttribute("rel"),S==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(S!==b.rel||s.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||s.getAttribute("title")!==(b.title==null?null:b.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(S=s.getAttribute("src"),(S!==(b.src==null?null:b.src)||s.getAttribute("type")!==(b.type==null?null:b.type)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&S&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var S=b.name==null?null:""+b.name;if(b.type==="hidden"&&s.getAttribute("name")===S)return s}else return s;if(s=ta(s.nextSibling),s===null)break}return null}function YL(s,o,d){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!d||(s=ta(s.nextSibling),s===null))return null;return s}function nC(s,o){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=ta(s.nextSibling),s===null))return null;return s}function R0(s){return s.data==="$?"||s.data==="$~"}function L0(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function VL(s,o){var d=s.ownerDocument;if(s.data==="$~")s._reactRetry=o;else if(s.data!=="$?"||d.readyState!=="loading")o();else{var h=function(){o(),d.removeEventListener("DOMContentLoaded",h)};d.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function ta(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return s}var F0=null;function aC(s){s=s.nextSibling;for(var o=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"||d==="/&"){if(o===0)return ta(s.nextSibling);o--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||o++}s=s.nextSibling}return null}function iC(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(o===0)return s;o--}else d!=="/$"&&d!=="/&"||o++}s=s.previousSibling}return null}function sC(s,o,d){switch(o=sm(d),s){case"html":if(s=o.documentElement,!s)throw Error(n(452));return s;case"head":if(s=o.head,!s)throw Error(n(453));return s;case"body":if(s=o.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function Ou(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);Xc(s)}var ra=new Map,lC=new Set;function lm(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Pi=G.d;G.d={f:GL,r:WL,D:KL,C:QL,L:XL,m:ZL,X:e8,S:JL,M:t8};function GL(){var s=Pi.f(),o=Zf();return s||o}function WL(s){var o=us(s);o!==null&&o.tag===5&&o.type==="form"?S2(o):Pi.r(s)}var Ho=typeof document>"u"?null:document;function oC(s,o,d){var h=Ho;if(h&&typeof o=="string"&&o){var b=Wn(o);b='link[rel="'+s+'"][href="'+b+'"]',typeof d=="string"&&(b+='[crossorigin="'+d+'"]'),lC.has(b)||(lC.add(b),s={rel:s,crossOrigin:d,href:o},h.querySelector(b)===null&&(o=h.createElement("link"),Kr(o,"link",s),Ar(o),h.head.appendChild(o)))}}function KL(s){Pi.D(s),oC("dns-prefetch",s,null)}function QL(s,o){Pi.C(s,o),oC("preconnect",s,o)}function XL(s,o,d){Pi.L(s,o,d);var h=Ho;if(h&&s&&o){var b='link[rel="preload"][as="'+Wn(o)+'"]';o==="image"&&d&&d.imageSrcSet?(b+='[imagesrcset="'+Wn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(b+='[imagesizes="'+Wn(d.imageSizes)+'"]')):b+='[href="'+Wn(s)+'"]';var S=b;switch(o){case"style":S=qo(s);break;case"script":S=Uo(s)}ra.has(S)||(s=x({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:s,as:o},d),ra.set(S,s),h.querySelector(b)!==null||o==="style"&&h.querySelector(Tu(S))||o==="script"&&h.querySelector(Pu(S))||(o=h.createElement("link"),Kr(o,"link",s),Ar(o),h.head.appendChild(o)))}}function ZL(s,o){Pi.m(s,o);var d=Ho;if(d&&s){var h=o&&typeof o.as=="string"?o.as:"script",b='link[rel="modulepreload"][as="'+Wn(h)+'"][href="'+Wn(s)+'"]',S=b;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Uo(s)}if(!ra.has(S)&&(s=x({rel:"modulepreload",href:s},o),ra.set(S,s),d.querySelector(b)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Pu(S)))return}h=d.createElement("link"),Kr(h,"link",s),Ar(h),d.head.appendChild(h)}}}function JL(s,o,d){Pi.S(s,o,d);var h=Ho;if(h&&s){var b=ds(h).hoistableStyles,S=qo(s);o=o||"default";var _=b.get(S);if(!_){var I={loading:0,preload:null};if(_=h.querySelector(Tu(S)))I.loading=5;else{s=x({rel:"stylesheet",href:s,"data-precedence":o},d),(d=ra.get(S))&&z0(s,d);var V=_=h.createElement("link");Ar(V),Kr(V,"link",s),V._p=new Promise(function(ie,ve){V.onload=ie,V.onerror=ve}),V.addEventListener("load",function(){I.loading|=1}),V.addEventListener("error",function(){I.loading|=2}),I.loading|=4,om(_,o,h)}_={type:"stylesheet",instance:_,count:1,state:I},b.set(S,_)}}}function e8(s,o){Pi.X(s,o);var d=Ho;if(d&&s){var h=ds(d).hoistableScripts,b=Uo(s),S=h.get(b);S||(S=d.querySelector(Pu(b)),S||(s=x({src:s,async:!0},o),(o=ra.get(b))&&B0(s,o),S=d.createElement("script"),Ar(S),Kr(S,"link",s),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},h.set(b,S))}}function t8(s,o){Pi.M(s,o);var d=Ho;if(d&&s){var h=ds(d).hoistableScripts,b=Uo(s),S=h.get(b);S||(S=d.querySelector(Pu(b)),S||(s=x({src:s,async:!0,type:"module"},o),(o=ra.get(b))&&B0(s,o),S=d.createElement("script"),Ar(S),Kr(S,"link",s),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},h.set(b,S))}}function cC(s,o,d,h){var b=(b=U.current)?lm(b):null;if(!b)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=qo(d.href),d=ds(b).hoistableStyles,h=d.get(o),h||(h={type:"style",instance:null,count:0,state:null},d.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){s=qo(d.href);var S=ds(b).hoistableStyles,_=S.get(s);if(_||(b=b.ownerDocument||b,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(s,_),(S=b.querySelector(Tu(s)))&&!S._p&&(_.instance=S,_.state.loading=5),ra.has(s)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},ra.set(s,d),S||r8(b,s,d,_.state))),o&&h===null)throw Error(n(528,""));return _}if(o&&h!==null)throw Error(n(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Uo(d),d=ds(b).hoistableScripts,h=d.get(o),h||(h={type:"script",instance:null,count:0,state:null},d.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function qo(s){return'href="'+Wn(s)+'"'}function Tu(s){return'link[rel="stylesheet"]['+s+"]"}function uC(s){return x({},s,{"data-precedence":s.precedence,precedence:null})}function r8(s,o,d,h){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=s.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),Kr(o,"link",d),Ar(o),s.head.appendChild(o))}function Uo(s){return'[src="'+Wn(s)+'"]'}function Pu(s){return"script[async]"+s}function dC(s,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var h=s.querySelector('style[data-href~="'+Wn(d.href)+'"]');if(h)return o.instance=h,Ar(h),h;var b=x({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),Ar(h),Kr(h,"style",b),om(h,d.precedence,s),o.instance=h;case"stylesheet":b=qo(d.href);var S=s.querySelector(Tu(b));if(S)return o.state.loading|=4,o.instance=S,Ar(S),S;h=uC(d),(b=ra.get(b))&&z0(h,b),S=(s.ownerDocument||s).createElement("link"),Ar(S);var _=S;return _._p=new Promise(function(I,V){_.onload=I,_.onerror=V}),Kr(S,"link",h),o.state.loading|=4,om(S,d.precedence,s),o.instance=S;case"script":return S=Uo(d.src),(b=s.querySelector(Pu(S)))?(o.instance=b,Ar(b),b):(h=d,(b=ra.get(S))&&(h=x({},d),B0(h,b)),s=s.ownerDocument||s,b=s.createElement("script"),Ar(b),Kr(b,"link",h),s.head.appendChild(b),o.instance=b);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,om(h,d.precedence,s));return o.instance}function om(s,o,d){for(var h=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=h.length?h[h.length-1]:null,S=b,_=0;_<h.length;_++){var I=h[_];if(I.dataset.precedence===o)S=I;else if(S!==b)break}S?S.parentNode.insertBefore(s,S.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(s,o.firstChild))}function z0(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function B0(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var cm=null;function fC(s,o,d){if(cm===null){var h=new Map,b=cm=new Map;b.set(d,h)}else b=cm,h=b.get(d),h||(h=new Map,b.set(d,h));if(h.has(s))return h;for(h.set(s,null),d=d.getElementsByTagName(s),b=0;b<d.length;b++){var S=d[b];if(!(S[ul]||S[Pr]||s==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var _=S.getAttribute(o)||"";_=s+_;var I=h.get(_);I?I.push(S):h.set(_,[S])}}return h}function mC(s,o,d){s=s.ownerDocument||s,s.head.insertBefore(d,o==="title"?s.querySelector("head > title"):null)}function n8(s,o,d){if(d===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(s=o.disabled,typeof o.precedence=="string"&&s==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function pC(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function a8(s,o,d,h){if(d.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var b=qo(h.href),S=o.querySelector(Tu(b));if(S){o=S._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(s.count++,s=um.bind(s),o.then(s,s)),d.state.loading|=4,d.instance=S,Ar(S);return}S=o.ownerDocument||o,h=uC(h),(b=ra.get(b))&&z0(h,b),S=S.createElement("link"),Ar(S);var _=S;_._p=new Promise(function(I,V){_.onload=I,_.onerror=V}),Kr(S,"link",h),d.instance=S}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(d,o),(o=d.state.preload)&&(d.state.loading&3)===0&&(s.count++,d=um.bind(s),o.addEventListener("load",d),o.addEventListener("error",d))}}var $0=0;function i8(s,o){return s.stylesheets&&s.count===0&&fm(s,s.stylesheets),0<s.count||0<s.imgCount?function(d){var h=setTimeout(function(){if(s.stylesheets&&fm(s,s.stylesheets),s.unsuspend){var S=s.unsuspend;s.unsuspend=null,S()}},6e4+o);0<s.imgBytes&&$0===0&&($0=62500*zL());var b=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&fm(s,s.stylesheets),s.unsuspend)){var S=s.unsuspend;s.unsuspend=null,S()}},(s.imgBytes>$0?50:800)+o);return s.unsuspend=d,function(){s.unsuspend=null,clearTimeout(h),clearTimeout(b)}}:null}function um(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fm(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var dm=null;function fm(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,dm=new Map,o.forEach(s8,s),dm=null,um.call(s))}function s8(s,o){if(!(o.state.loading&4)){var d=dm.get(s);if(d)var h=d.get(null);else{d=new Map,dm.set(s,d);for(var b=s.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<b.length;S++){var _=b[S];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(d.set(_.dataset.precedence,_),h=_)}h&&d.set(null,h)}b=o.instance,_=b.getAttribute("data-precedence"),S=d.get(_)||h,S===h&&d.set(null,b),d.set(_,b),this.count++,h=um.bind(this),b.addEventListener("load",h),b.addEventListener("error",h),S?S.parentNode.insertBefore(b,S.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(b,s.firstChild)),o.state.loading|=4}}var Iu={$$typeof:C,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function l8(s,o,d,h,b,S,_,I,V){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.hiddenUpdates=ke(null),this.identifierPrefix=h,this.onUncaughtError=b,this.onCaughtError=S,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function hC(s,o,d,h,b,S,_,I,V,ie,ve,be){return s=new l8(s,o,d,_,V,ie,ve,be,I),o=1,S===!0&&(o|=24),S=Dn(3,null,null,o),s.current=S,S.stateNode=s,o=yv(),o.refCount++,s.pooledCache=o,o.refCount++,S.memoizedState={element:h,isDehydrated:d,cache:o},Sv(S),s}function xC(s){return s?(s=wo,s):wo}function vC(s,o,d,h,b,S){b=xC(b),h.context===null?h.context=b:h.pendingContext=b,h=gs(o),h.payload={element:d},S=S===void 0?null:S,S!==null&&(h.callback=S),d=bs(s,h,o),d!==null&&(gn(d,s,o),mu(d,s,o))}function gC(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<o?d:o}}function H0(s,o){gC(s,o),(s=s.alternate)&&gC(s,o)}function bC(s){if(s.tag===13||s.tag===31){var o=xl(s,67108864);o!==null&&gn(o,s,67108864),H0(s,67108864)}}function yC(s){if(s.tag===13||s.tag===31){var o=In();o=cl(o);var d=xl(s,o);d!==null&&gn(d,s,o),H0(s,o)}}var mm=!0;function o8(s,o,d,h){var b=R.T;R.T=null;var S=G.p;try{G.p=2,q0(s,o,d,h)}finally{G.p=S,R.T=b}}function c8(s,o,d,h){var b=R.T;R.T=null;var S=G.p;try{G.p=8,q0(s,o,d,h)}finally{G.p=S,R.T=b}}function q0(s,o,d,h){if(mm){var b=U0(h);if(b===null)E0(s,o,h,pm,d),NC(s,h);else if(d8(b,s,o,d,h))h.stopPropagation();else if(NC(s,h),o&4&&-1<u8.indexOf(s)){for(;b!==null;){var S=us(b);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var _=$t(S.pendingLanes);if(_!==0){var I=S;for(I.pendingLanes|=2,I.entangledLanes|=2;_;){var V=1<<31-nt(_);I.entanglements[1]|=V,_&=~V}Ha(S),(kt&6)===0&&(Qf=ze()+500,Eu(0))}}break;case 31:case 13:I=xl(S,2),I!==null&&gn(I,S,2),Zf(),H0(S,2)}if(S=U0(h),S===null&&E0(s,o,h,pm,d),S===b)break;b=S}b!==null&&h.stopPropagation()}else E0(s,o,h,null,d)}}function U0(s){return s=Vx(s),Y0(s)}var pm=null;function Y0(s){if(pm=null,s=cs(s),s!==null){var o=l(s);if(o===null)s=null;else{var d=o.tag;if(d===13){if(s=c(o),s!==null)return s;s=null}else if(d===31){if(s=u(o),s!==null)return s;s=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return pm=s,null}function wC(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Et()){case W:return 2;case q:return 8;case re:case Ae:return 32;case Ue:return 268435456;default:return 32}default:return 32}}var V0=!1,Ds=null,_s=null,Os=null,Ru=new Map,Lu=new Map,Ts=[],u8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function NC(s,o){switch(s){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":_s=null;break;case"mouseover":case"mouseout":Os=null;break;case"pointerover":case"pointerout":Ru.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lu.delete(o.pointerId)}}function Fu(s,o,d,h,b,S){return s===null||s.nativeEvent!==S?(s={blockedOn:o,domEventName:d,eventSystemFlags:h,nativeEvent:S,targetContainers:[b]},o!==null&&(o=us(o),o!==null&&bC(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,b!==null&&o.indexOf(b)===-1&&o.push(b),s)}function d8(s,o,d,h,b){switch(o){case"focusin":return Ds=Fu(Ds,s,o,d,h,b),!0;case"dragenter":return _s=Fu(_s,s,o,d,h,b),!0;case"mouseover":return Os=Fu(Os,s,o,d,h,b),!0;case"pointerover":var S=b.pointerId;return Ru.set(S,Fu(Ru.get(S)||null,s,o,d,h,b)),!0;case"gotpointercapture":return S=b.pointerId,Lu.set(S,Fu(Lu.get(S)||null,s,o,d,h,b)),!0}return!1}function jC(s){var o=cs(s.target);if(o!==null){var d=l(o);if(d!==null){if(o=d.tag,o===13){if(o=c(d),o!==null){s.blockedOn=o,lf(s.priority,function(){yC(d)});return}}else if(o===31){if(o=u(d),o!==null){s.blockedOn=o,lf(s.priority,function(){yC(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function hm(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var d=U0(s.nativeEvent);if(d===null){d=s.nativeEvent;var h=new d.constructor(d.type,d);Yx=h,d.target.dispatchEvent(h),Yx=null}else return o=us(d),o!==null&&bC(o),s.blockedOn=d,!1;o.shift()}return!0}function SC(s,o,d){hm(s)&&d.delete(o)}function f8(){V0=!1,Ds!==null&&hm(Ds)&&(Ds=null),_s!==null&&hm(_s)&&(_s=null),Os!==null&&hm(Os)&&(Os=null),Ru.forEach(SC),Lu.forEach(SC)}function xm(s,o){s.blockedOn===o&&(s.blockedOn=null,V0||(V0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,f8)))}var vm=null;function CC(s){vm!==s&&(vm=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){vm===s&&(vm=null);for(var o=0;o<s.length;o+=3){var d=s[o],h=s[o+1],b=s[o+2];if(typeof h!="function"){if(Y0(h||d)===null)continue;break}var S=us(d);S!==null&&(s.splice(o,3),o-=3,Uv(S,{pending:!0,data:b,method:d.method,action:h},h,b))}}))}function Yo(s){function o(V){return xm(V,s)}Ds!==null&&xm(Ds,s),_s!==null&&xm(_s,s),Os!==null&&xm(Os,s),Ru.forEach(o),Lu.forEach(o);for(var d=0;d<Ts.length;d++){var h=Ts[d];h.blockedOn===s&&(h.blockedOn=null)}for(;0<Ts.length&&(d=Ts[0],d.blockedOn===null);)jC(d),d.blockedOn===null&&Ts.shift();if(d=(s.ownerDocument||s).$$reactFormReplay,d!=null)for(h=0;h<d.length;h+=3){var b=d[h],S=d[h+1],_=b[en]||null;if(typeof S=="function")_||CC(d);else if(_){var I=null;if(S&&S.hasAttribute("formAction")){if(b=S,_=S[en]||null)I=_.formAction;else if(Y0(b)!==null)continue}else I=_.action;typeof I=="function"?d[h+1]=I:(d.splice(h,3),h-=3),CC(d)}}}function AC(){function s(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(_){return b=_})},focusReset:"manual",scroll:"manual"})}function o(){b!==null&&(b(),b=null),h||setTimeout(d,20)}function d(){if(!h&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,b=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(d,100),function(){h=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),b!==null&&(b(),b=null)}}}function G0(s){this._internalRoot=s}gm.prototype.render=G0.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));var d=o.current,h=In();vC(d,h,s,o,null,null)},gm.prototype.unmount=G0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;vC(s.current,2,null,s,null,null),Zf(),o[os]=null}};function gm(s){this._internalRoot=s}gm.prototype.unstable_scheduleHydration=function(s){if(s){var o=sf();s={blockedOn:null,target:s,priority:o};for(var d=0;d<Ts.length&&o!==0&&o<Ts[d].priority;d++);Ts.splice(d,0,s),d===0&&jC(s)}};var kC=t.version;if(kC!=="19.2.4")throw Error(n(527,kC,"19.2.4"));G.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=m(o),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var m8={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bm.isDisabled&&bm.supportsFiber)try{Ye=bm.inject(m8),Be=bm}catch{}}return Bu.createRoot=function(s,o){if(!i(s))throw Error(n(299));var d=!1,h="",b=P2,S=I2,_=R2;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(b=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),o=hC(s,1,!1,null,null,d,h,null,b,S,_,AC),s[os]=o.current,M0(s),new G0(o)},Bu.hydrateRoot=function(s,o,d){if(!i(s))throw Error(n(299));var h=!1,b="",S=P2,_=I2,I=R2,V=null;return d!=null&&(d.unstable_strictMode===!0&&(h=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onUncaughtError!==void 0&&(S=d.onUncaughtError),d.onCaughtError!==void 0&&(_=d.onCaughtError),d.onRecoverableError!==void 0&&(I=d.onRecoverableError),d.formState!==void 0&&(V=d.formState)),o=hC(s,1,!0,o,d??null,h,b,V,S,_,I,AC),o.context=xC(null),d=o.current,h=In(),h=cl(h),b=gs(h),b.callback=null,bs(d,b,h),d=h,o.current.lanes=d,Xe(o,d),Ha(o),s[os]=o.current,M0(s),new gm(o)},Bu.version="19.2.4",Bu}var LC;function j8(){if(LC)return Q0.exports;LC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Q0.exports=N8(),Q0.exports}var S8=j8();var FC="popstate";function C8(e={}){function t(n,i){let{pathname:l,search:c,hash:u}=n.location;return ly("",{pathname:l,search:c,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:fd(i)}return k8(t,r,null,e)}function ir(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ea(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function A8(){return Math.random().toString(36).substring(2,10)}function zC(e,t){return{usr:e.state,key:e.key,idx:t}}function ly(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Oc(t):t,state:r,key:t&&t.key||n||A8()}}function fd({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Oc(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function k8(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:l=!1}=n,c=i.history,u="POP",f=null,m=p();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function p(){return(c.state||{idx:null}).idx}function x(){u="POP";let w=p(),A=w==null?null:w-m;m=w,f&&f({action:u,location:y.location,delta:A})}function v(w,A){u="PUSH";let k=ly(y.location,w,A);m=p()+1;let C=zC(k,m),M=y.createHref(k);try{c.pushState(C,"",M)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(M)}l&&f&&f({action:u,location:y.location,delta:1})}function g(w,A){u="REPLACE";let k=ly(y.location,w,A);m=p();let C=zC(k,m),M=y.createHref(k);c.replaceState(C,"",M),l&&f&&f({action:u,location:y.location,delta:0})}function j(w){return M8(w)}let y={get action(){return u},get location(){return e(i,c)},listen(w){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(FC,x),f=w,()=>{i.removeEventListener(FC,x),f=null}},createHref(w){return t(i,w)},createURL:j,encodeLocation(w){let A=j(w);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:v,replace:g,go(w){return c.go(w)}};return y}function M8(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ir(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:fd(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function h_(e,t,r="/"){return E8(e,t,r,!1)}function E8(e,t,r,n){let i=typeof t=="string"?Oc(t):t,l=Yi(i.pathname||"/",r);if(l==null)return null;let c=x_(e);D8(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let m=$8(l);u=z8(c[f],m,n)}return u}function x_(e,t=[],r=[],n="",i=!1){let l=(c,u,f=i,m)=>{let p={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&f)return;ir(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let x=$i([n,p.relativePath]),v=r.concat(p);c.children&&c.children.length>0&&(ir(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),x_(c.children,t,v,x,f)),!(c.path==null&&!c.index)&&t.push({path:x,score:L8(x,c.index),routesMeta:v})};return e.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))l(c,u);else for(let f of v_(c.path))l(c,u,!0,f)}),t}function v_(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return i?[l,""]:[l];let c=v_(n.join("/")),u=[];return u.push(...c.map(f=>f===""?l:[l,f].join("/"))),i&&u.push(...c),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function D8(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:F8(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var _8=/^:[\w-]+$/,O8=3,T8=2,P8=1,I8=10,R8=-2,BC=e=>e==="*";function L8(e,t){let r=e.split("/"),n=r.length;return r.some(BC)&&(n+=R8),t&&(n+=T8),r.filter(i=>!BC(i)).reduce((i,l)=>i+(_8.test(l)?O8:l===""?P8:I8),n)}function F8(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function z8(e,t,r=!1){let{routesMeta:n}=e,i={},l="/",c=[];for(let u=0;u<n.length;++u){let f=n[u],m=u===n.length-1,p=l==="/"?t:t.slice(l.length)||"/",x=Ap({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},p),v=f.route;if(!x&&m&&r&&!n[n.length-1].route.index&&(x=Ap({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!x)return null;Object.assign(i,x.params),c.push({params:i,pathname:$i([l,x.pathname]),pathnameBase:Y8($i([l,x.pathnameBase])),route:v}),x.pathnameBase!=="/"&&(l=$i([l,x.pathnameBase]))}return c}function Ap(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=B8(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let l=i[0],c=l.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((m,{paramName:p,isOptional:x},v)=>{if(p==="*"){let j=u[v]||"";c=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const g=u[v];return x&&!g?m[p]=void 0:m[p]=(g||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:e}}function B8(e,t=!1,r=!0){Ea(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(n.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function $8(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ea(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Yi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var H8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function q8(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Oc(e):e,l;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?l=$C(r.substring(1),"/"):l=$C(r,t)):l=t,{pathname:l,search:V8(n),hash:G8(i)}}function $C(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function eg(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function U8(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function N1(e){let t=U8(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function j1(e,t,r,n=!1){let i;typeof e=="string"?i=Oc(e):(i={...e},ir(!i.pathname||!i.pathname.includes("?"),eg("?","pathname","search",i)),ir(!i.pathname||!i.pathname.includes("#"),eg("#","pathname","hash",i)),ir(!i.search||!i.search.includes("#"),eg("#","search","hash",i)));let l=e===""||i.pathname==="",c=l?"/":i.pathname,u;if(c==null)u=r;else{let x=t.length-1;if(!n&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),x-=1;i.pathname=v.join("/")}u=x>=0?t[x]:"/"}let f=q8(i,u),m=c&&c!=="/"&&c.endsWith("/"),p=(l||c===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(m||p)&&(f.pathname+="/"),f}var $i=e=>e.join("/").replace(/\/\/+/g,"/"),Y8=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V8=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,G8=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,W8=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function K8(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function Q8(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var g_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function b_(e,t){let r=e;if(typeof r!="string"||!H8.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,i=!1;if(g_)try{let l=new URL(window.location.href),c=r.startsWith("//")?new URL(l.protocol+r):new URL(r),u=Yi(c.pathname,t);c.origin===l.origin&&u!=null?r=u+c.search+c.hash:i=!0}catch{Ea(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:i,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var y_=["POST","PUT","PATCH","DELETE"];new Set(y_);var X8=["GET",...y_];new Set(X8);var Tc=N.createContext(null);Tc.displayName="DataRouter";var zh=N.createContext(null);zh.displayName="DataRouterState";var Z8=N.createContext(!1),w_=N.createContext({isTransitioning:!1});w_.displayName="ViewTransition";var J8=N.createContext(new Map);J8.displayName="Fetchers";var e6=N.createContext(null);e6.displayName="Await";var Gn=N.createContext(null);Gn.displayName="Navigation";var Td=N.createContext(null);Td.displayName="Location";var Oa=N.createContext({outlet:null,matches:[],isDataRoute:!1});Oa.displayName="Route";var S1=N.createContext(null);S1.displayName="RouteError";var N_="REACT_ROUTER_ERROR",t6="REDIRECT",r6="ROUTE_ERROR_RESPONSE";function n6(e){if(e.startsWith(`${N_}:${t6}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function a6(e){if(e.startsWith(`${N_}:${r6}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new W8(t.status,t.statusText,t.data)}catch{}}function i6(e,{relative:t}={}){ir(Pc(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=N.useContext(Gn),{hash:i,pathname:l,search:c}=Pd(e,{relative:t}),u=l;return r!=="/"&&(u=l==="/"?r:$i([r,l])),n.createHref({pathname:u,search:c,hash:i})}function Pc(){return N.useContext(Td)!=null}function Ta(){return ir(Pc(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Td).location}var j_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function S_(e){N.useContext(Gn).static||N.useLayoutEffect(e)}function Zs(){let{isDataRoute:e}=N.useContext(Oa);return e?y6():s6()}function s6(){ir(Pc(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext(Tc),{basename:t,navigator:r}=N.useContext(Gn),{matches:n}=N.useContext(Oa),{pathname:i}=Ta(),l=JSON.stringify(N1(n)),c=N.useRef(!1);return S_(()=>{c.current=!0}),N.useCallback((f,m={})=>{if(Ea(c.current,j_),!c.current)return;if(typeof f=="number"){r.go(f);return}let p=j1(f,JSON.parse(l),i,m.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:$i([t,p.pathname])),(m.replace?r.replace:r.push)(p,m.state,m)},[t,r,l,i,e])}var l6=N.createContext(null);function o6(e){let t=N.useContext(Oa).outlet;return N.useMemo(()=>t&&N.createElement(l6.Provider,{value:e},t),[t,e])}function Pd(e,{relative:t}={}){let{matches:r}=N.useContext(Oa),{pathname:n}=Ta(),i=JSON.stringify(N1(r));return N.useMemo(()=>j1(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function c6(e,t){return C_(e,t)}function C_(e,t,r,n,i){ir(Pc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=N.useContext(Gn),{matches:c}=N.useContext(Oa),u=c[c.length-1],f=u?u.params:{},m=u?u.pathname:"/",p=u?u.pathnameBase:"/",x=u&&u.route;{let k=x&&x.path||"";k_(m,!x||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let v=Ta(),g;if(t){let k=typeof t=="string"?Oc(t):t;ir(p==="/"||k.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${k.pathname}" was given in the \`location\` prop.`),g=k}else g=v;let j=g.pathname||"/",y=j;if(p!=="/"){let k=p.replace(/^\//,"").split("/");y="/"+j.replace(/^\//,"").split("/").slice(k.length).join("/")}let w=h_(e,{pathname:y});Ea(x||w!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Ea(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=p6(w&&w.map(k=>Object.assign({},k,{params:Object.assign({},f,k.params),pathname:$i([p,l.encodeLocation?l.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?p:$i([p,l.encodeLocation?l.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),c,r,n,i);return t&&A?N.createElement(Td.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},A):A}function u6(){let e=b6(),t=K8(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},l={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),r?N.createElement("pre",{style:i},r):null,c)}var d6=N.createElement(u6,null),A_=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=a6(e.digest);r&&(e=r)}let t=e!==void 0?N.createElement(Oa.Provider,{value:this.props.routeContext},N.createElement(S1.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?N.createElement(f6,{error:e},t):t}};A_.contextType=Z8;var tg=new WeakMap;function f6({children:e,error:t}){let{basename:r}=N.useContext(Gn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=n6(t.digest);if(n){let i=tg.get(t);if(i)throw i;let l=b_(n.location,r);if(g_&&!tg.get(t))if(l.isExternal||n.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:n.replace}));throw tg.set(t,c),c}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return e}function m6({routeContext:e,match:t,children:r}){let n=N.useContext(Tc);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(Oa.Provider,{value:e},r)}function p6(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,c=r?.errors;if(c!=null){let p=l.findIndex(x=>x.route.id&&c?.[x.route.id]!==void 0);ir(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let u=!1,f=-1;if(r)for(let p=0;p<l.length;p++){let x=l[p];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(f=p),x.route.id){let{loaderData:v,errors:g}=r,j=x.route.loader&&!v.hasOwnProperty(x.route.id)&&(!g||g[x.route.id]===void 0);if(x.route.lazy||j){u=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let m=r&&n?(p,x)=>{n(p,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:Q8(r.matches),errorInfo:x})}:void 0;return l.reduceRight((p,x,v)=>{let g,j=!1,y=null,w=null;r&&(g=c&&x.route.id?c[x.route.id]:void 0,y=x.route.errorElement||d6,u&&(f<0&&v===0?(k_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,w=null):f===v&&(j=!0,w=x.route.hydrateFallbackElement||null)));let A=t.concat(l.slice(0,v+1)),k=()=>{let C;return g?C=y:j?C=w:x.route.Component?C=N.createElement(x.route.Component,null):x.route.element?C=x.route.element:C=p,N.createElement(m6,{match:x,routeContext:{outlet:p,matches:A,isDataRoute:r!=null},children:C})};return r&&(x.route.ErrorBoundary||x.route.errorElement||v===0)?N.createElement(A_,{location:r.location,revalidation:r.revalidation,component:y,error:g,children:k(),routeContext:{outlet:null,matches:A,isDataRoute:!0},onError:m}):k()},null)}function C1(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h6(e){let t=N.useContext(Tc);return ir(t,C1(e)),t}function x6(e){let t=N.useContext(zh);return ir(t,C1(e)),t}function v6(e){let t=N.useContext(Oa);return ir(t,C1(e)),t}function A1(e){let t=v6(e),r=t.matches[t.matches.length-1];return ir(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function g6(){return A1("useRouteId")}function b6(){let e=N.useContext(S1),t=x6("useRouteError"),r=A1("useRouteError");return e!==void 0?e:t.errors?.[r]}function y6(){let{router:e}=h6("useNavigate"),t=A1("useNavigate"),r=N.useRef(!1);return S_(()=>{r.current=!0}),N.useCallback(async(i,l={})=>{Ea(r.current,j_),r.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...l}))},[e,t])}var HC={};function k_(e,t,r){!t&&!HC[e]&&(HC[e]=!0,Ea(!1,r))}N.memo(w6);function w6({routes:e,future:t,state:r,onError:n}){return C_(e,void 0,r,n,t)}function oy({to:e,replace:t,state:r,relative:n}){ir(Pc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=N.useContext(Gn);Ea(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=N.useContext(Oa),{pathname:c}=Ta(),u=Zs(),f=j1(e,N1(l),c,n==="path"),m=JSON.stringify(f);return N.useEffect(()=>{u(JSON.parse(m),{replace:t,state:r,relative:n})},[u,m,n,t,r]),null}function M_(e){return o6(e.context)}function rr(e){ir(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function N6({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:l=!1,unstable_useTransitions:c}){ir(!Pc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),f=N.useMemo(()=>({basename:u,navigator:i,static:l,unstable_useTransitions:c,future:{}}),[u,i,l,c]);typeof r=="string"&&(r=Oc(r));let{pathname:m="/",search:p="",hash:x="",state:v=null,key:g="default"}=r,j=N.useMemo(()=>{let y=Yi(m,u);return y==null?null:{location:{pathname:y,search:p,hash:x,state:v,key:g},navigationType:n}},[u,m,p,x,v,g,n]);return Ea(j!=null,`<Router basename="${u}"> is not able to match the URL "${m}${p}${x}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:N.createElement(Gn.Provider,{value:f},N.createElement(Td.Provider,{children:t,value:j}))}function j6({children:e,location:t}){return c6(cy(e),t)}function cy(e,t=[]){let r=[];return N.Children.forEach(e,(n,i)=>{if(!N.isValidElement(n))return;let l=[...t,i];if(n.type===N.Fragment){r.push.apply(r,cy(n.props.children,l));return}ir(n.type===rr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ir(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=cy(n.props.children,l)),r.push(c)}),r}var up="get",dp="application/x-www-form-urlencoded";function Bh(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function S6(e){return Bh(e)&&e.tagName.toLowerCase()==="button"}function C6(e){return Bh(e)&&e.tagName.toLowerCase()==="form"}function A6(e){return Bh(e)&&e.tagName.toLowerCase()==="input"}function k6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function M6(e,t){return e.button===0&&(!t||t==="_self")&&!k6(e)}var ym=null;function E6(){if(ym===null)try{new FormData(document.createElement("form"),0),ym=!1}catch{ym=!0}return ym}var D6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rg(e){return e!=null&&!D6.has(e)?(Ea(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dp}"`),null):e}function _6(e,t){let r,n,i,l,c;if(C6(e)){let u=e.getAttribute("action");n=u?Yi(u,t):null,r=e.getAttribute("method")||up,i=rg(e.getAttribute("enctype"))||dp,l=new FormData(e)}else if(S6(e)||A6(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||u.getAttribute("action");if(n=f?Yi(f,t):null,r=e.getAttribute("formmethod")||u.getAttribute("method")||up,i=rg(e.getAttribute("formenctype"))||rg(u.getAttribute("enctype"))||dp,l=new FormData(u,e),!E6()){let{name:m,type:p,value:x}=e;if(p==="image"){let v=m?`${m}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else m&&l.append(m,x)}}else{if(Bh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=up,n=null,i=dp,c=e}return l&&i==="text/plain"&&(c=l,l=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function k1(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function O6(e,t,r,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${n}`:i.pathname=`${i.pathname}.${n}`:i.pathname==="/"?i.pathname=`_root.${n}`:t&&Yi(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function T6(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function P6(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function I6(e,t,r){let n=await Promise.all(e.map(async i=>{let l=t.routes[i.route.id];if(l){let c=await T6(l,r);return c.links?c.links():[]}return[]}));return z6(n.flat(1).filter(P6).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function qC(e,t,r,n,i,l){let c=(f,m)=>r[m]?f.route.id!==r[m].route.id:!0,u=(f,m)=>r[m].pathname!==f.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==f.params["*"];return l==="assets"?t.filter((f,m)=>c(f,m)||u(f,m)):l==="data"?t.filter((f,m)=>{let p=n.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(c(f,m)||u(f,m))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function R6(e,t,{includeHydrateFallback:r}={}){return L6(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function L6(e){return[...new Set(e)]}function F6(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function z6(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let l=JSON.stringify(F6(i));return r.has(l)||(r.add(l),n.push({key:l,link:i})),n},[])}function E_(){let e=N.useContext(Tc);return k1(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function B6(){let e=N.useContext(zh);return k1(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var M1=N.createContext(void 0);M1.displayName="FrameworkContext";function D_(){let e=N.useContext(M1);return k1(e,"You must render this element inside a <HydratedRouter> element"),e}function $6(e,t){let r=N.useContext(M1),[n,i]=N.useState(!1),[l,c]=N.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:m,onMouseLeave:p,onTouchStart:x}=t,v=N.useRef(null);N.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let y=A=>{A.forEach(k=>{c(k.isIntersecting)})},w=new IntersectionObserver(y,{threshold:.5});return v.current&&w.observe(v.current),()=>{w.disconnect()}}},[e]),N.useEffect(()=>{if(n){let y=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(y)}}},[n]);let g=()=>{i(!0)},j=()=>{i(!1),c(!1)};return r?e!=="intent"?[l,v,{}]:[l,v,{onFocus:$u(u,g),onBlur:$u(f,j),onMouseEnter:$u(m,g),onMouseLeave:$u(p,j),onTouchStart:$u(x,g)}]:[!1,v,{}]}function $u(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function H6({page:e,...t}){let{router:r}=E_(),n=N.useMemo(()=>h_(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?N.createElement(U6,{page:e,matches:n,...t}):null}function q6(e){let{manifest:t,routeModules:r}=D_(),[n,i]=N.useState([]);return N.useEffect(()=>{let l=!1;return I6(e,t,r).then(c=>{l||i(c)}),()=>{l=!0}},[e,t,r]),n}function U6({page:e,matches:t,...r}){let n=Ta(),{future:i,manifest:l,routeModules:c}=D_(),{basename:u}=E_(),{loaderData:f,matches:m}=B6(),p=N.useMemo(()=>qC(e,t,m,l,n,"data"),[e,t,m,l,n]),x=N.useMemo(()=>qC(e,t,m,l,n,"assets"),[e,t,m,l,n]),v=N.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let y=new Set,w=!1;if(t.forEach(k=>{let C=l.routes[k.route.id];!C||!C.hasLoader||(!p.some(M=>M.route.id===k.route.id)&&k.route.id in f&&c[k.route.id]?.shouldRevalidate||C.hasClientLoader?w=!0:y.add(k.route.id))}),y.size===0)return[];let A=O6(e,u,i.unstable_trailingSlashAwareDataRequests,"data");return w&&y.size>0&&A.searchParams.set("_routes",t.filter(k=>y.has(k.route.id)).map(k=>k.route.id).join(",")),[A.pathname+A.search]},[u,i.unstable_trailingSlashAwareDataRequests,f,n,l,p,t,e,c]),g=N.useMemo(()=>R6(x,l),[x,l]),j=q6(x);return N.createElement(N.Fragment,null,v.map(y=>N.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),g.map(y=>N.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),j.map(({key:y,link:w})=>N.createElement("link",{key:y,nonce:r.nonce,...w,crossOrigin:w.crossOrigin??r.crossOrigin})))}function Y6(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var V6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{V6&&(window.__reactRouterVersion="7.13.0")}catch{}function G6({basename:e,children:t,unstable_useTransitions:r,window:n}){let i=N.useRef();i.current==null&&(i.current=C8({window:n,v5Compat:!0}));let l=i.current,[c,u]=N.useState({action:l.action,location:l.location}),f=N.useCallback(m=>{r===!1?u(m):N.startTransition(()=>u(m))},[r]);return N.useLayoutEffect(()=>l.listen(f),[l,f]),N.createElement(N6,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:r})}var __=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fs=N.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:l,replace:c,state:u,target:f,to:m,preventScrollReset:p,viewTransition:x,unstable_defaultShouldRevalidate:v,...g},j){let{basename:y,unstable_useTransitions:w}=N.useContext(Gn),A=typeof m=="string"&&__.test(m),k=b_(m,y);m=k.to;let C=i6(m,{relative:i}),[M,E,O]=$6(n,g),P=Q6(m,{replace:c,state:u,target:f,preventScrollReset:p,relative:i,viewTransition:x,unstable_defaultShouldRevalidate:v,unstable_useTransitions:w});function T(L){t&&t(L),L.defaultPrevented||P(L)}let $=N.createElement("a",{...g,...O,href:k.absoluteURL||C,onClick:k.isExternal||l?t:T,ref:Y6(j,E),target:f,"data-discover":!A&&r==="render"?"true":void 0});return M&&!A?N.createElement(N.Fragment,null,$,N.createElement(H6,{page:C})):$});Fs.displayName="Link";var O_=N.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:l,to:c,viewTransition:u,children:f,...m},p){let x=Pd(c,{relative:m.relative}),v=Ta(),g=N.useContext(zh),{navigator:j,basename:y}=N.useContext(Gn),w=g!=null&&tF(x)&&u===!0,A=j.encodeLocation?j.encodeLocation(x).pathname:x.pathname,k=v.pathname,C=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(k=k.toLowerCase(),C=C?C.toLowerCase():null,A=A.toLowerCase()),C&&y&&(C=Yi(C,y)||C);const M=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let E=k===A||!i&&k.startsWith(A)&&k.charAt(M)==="/",O=C!=null&&(C===A||!i&&C.startsWith(A)&&C.charAt(A.length)==="/"),P={isActive:E,isPending:O,isTransitioning:w},T=E?t:void 0,$;typeof n=="function"?$=n(P):$=[n,E?"active":null,O?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(P):l;return N.createElement(Fs,{...m,"aria-current":T,className:$,ref:p,style:L,to:c,viewTransition:u},typeof f=="function"?f(P):f)});O_.displayName="NavLink";var W6=N.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:l,method:c=up,action:u,onSubmit:f,relative:m,preventScrollReset:p,viewTransition:x,unstable_defaultShouldRevalidate:v,...g},j)=>{let{unstable_useTransitions:y}=N.useContext(Gn),w=J6(),A=eF(u,{relative:m}),k=c.toLowerCase()==="get"?"get":"post",C=typeof u=="string"&&__.test(u),M=E=>{if(f&&f(E),E.defaultPrevented)return;E.preventDefault();let O=E.nativeEvent.submitter,P=O?.getAttribute("formmethod")||c,T=()=>w(O||E.currentTarget,{fetcherKey:t,method:P,navigate:r,replace:i,state:l,relative:m,preventScrollReset:p,viewTransition:x,unstable_defaultShouldRevalidate:v});y&&r!==!1?N.startTransition(()=>T()):T()};return N.createElement("form",{ref:j,method:k,action:A,onSubmit:n?f:M,...g,"data-discover":!C&&e==="render"?"true":void 0})});W6.displayName="Form";function K6(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T_(e){let t=N.useContext(Tc);return ir(t,K6(e)),t}function Q6(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:u,unstable_useTransitions:f}={}){let m=Zs(),p=Ta(),x=Pd(e,{relative:l});return N.useCallback(v=>{if(M6(v,t)){v.preventDefault();let g=r!==void 0?r:fd(p)===fd(x),j=()=>m(e,{replace:g,state:n,preventScrollReset:i,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:u});f?N.startTransition(()=>j()):j()}},[p,m,x,r,n,t,e,i,l,c,u,f])}var X6=0,Z6=()=>`__${String(++X6)}__`;function J6(){let{router:e}=T_("useSubmit"),{basename:t}=N.useContext(Gn),r=g6(),n=e.fetch,i=e.navigate;return N.useCallback(async(l,c={})=>{let{action:u,method:f,encType:m,formData:p,body:x}=_6(l,t);if(c.navigate===!1){let v=c.fetcherKey||Z6();await n(v,r,c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:p,body:x,formMethod:c.method||f,formEncType:c.encType||m,flushSync:c.flushSync})}else await i(c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:p,body:x,formMethod:c.method||f,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:r,flushSync:c.flushSync,viewTransition:c.viewTransition})},[n,i,t,r])}function eF(e,{relative:t}={}){let{basename:r}=N.useContext(Gn),n=N.useContext(Oa);ir(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),l={...Pd(e||".",{relative:t})},c=Ta();if(e==null){l.search=c.search;let u=new URLSearchParams(l.search),f=u.getAll("index");if(f.some(p=>p==="")){u.delete("index"),f.filter(x=>x).forEach(x=>u.append("index",x));let p=u.toString();l.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:$i([r,l.pathname])),fd(l)}function tF(e,{relative:t}={}){let r=N.useContext(w_);ir(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=T_("useViewTransitionState"),i=Pd(e,{relative:t});if(!r.isTransitioning)return!1;let l=Yi(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=Yi(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Ap(i.pathname,c)!=null||Ap(i.pathname,l)!=null}var Ic=p_();const rF=ci(Ic),nF="AKfycbzyFtF2jdvgBZo-4KmK2Wv2TMpImYF-V2zOvgJSw0ukiJiv03Zx0swLXJfdOb5zTvul",E1="cf_access_token",D1="cf_token_expiry",_1="cf_user_name";function kp(){const e=localStorage.getItem(D1);return e&&Date.now()>Number(e)?(fp(),null):localStorage.getItem(E1)}function UC(e,t=3500){localStorage.setItem(E1,e),localStorage.setItem(D1,String(Date.now()+t*1e3))}function fp(){localStorage.removeItem(E1),localStorage.removeItem(D1),localStorage.removeItem(_1)}function YC(){return!!kp()}function VC(e){localStorage.setItem(_1,e)}function aF(){return localStorage.getItem(_1)||""}let uy=null;function iF(e){uy=e}async function Oe(e,t={},r=!0){const n=kp();if(!n)throw new Error("Not authenticated. Please sign in.");const u=await(await fetch(`https://script.googleapis.com/v1/scripts/${nF}:run`,{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({function:"apiRouter",devMode:!1,parameters:[{action:e,params:t,userName:aF()}]})})).json();if(u.error){if(r&&(u.error.code===401||u.error.code===403||u.error.status==="UNAUTHENTICATED"||u.error.status==="PERMISSION_DENIED")&&uy)try{return await uy(),Oe(e,t,!1)}catch{}if(u.error.details&&u.error.details.length>0){const f=u.error.details[0];throw new Error(f.errorMessage||"Script execution error")}throw new Error(u.error.message||"API error")}if(u.response&&u.response.result!==void 0){const f=u.response.result;if(f&&!f.success){const p=new Error(f.error||"Unknown error");throw p.code=f.code,p}const m=f?f.data:null;if(m&&m.success===!1)throw new Error(m.error||m.message||"Operation failed");return m}throw new Error("Unexpected response format")}const GC=()=>Oe("auth:me"),sF=(e,t)=>Oe("auth:invite",{email:e,name:t}),Mp=()=>Oe("data:load-all"),P_=()=>Oe("members:list"),I_=e=>Oe("member:create",e),R_=e=>Oe("member:update",e),L_=e=>Oe("member:delete",{memberId:e}),F_=()=>Oe("banks:list"),z_=e=>Oe("bank:create",e),lF=e=>Oe("bank:update",e),B_=e=>Oe("bank:delete",{accountId:e}),$_=()=>Oe("invaccounts:list"),H_=e=>Oe("invacct:create",e),oF=e=>Oe("invacct:update",e),q_=e=>Oe("invacct:delete",{accountId:e}),cF=()=>Oe("portfolios:list"),uF=e=>Oe("portfolio:create",e),dF=e=>Oe("portfolio:update",e),fF=e=>Oe("portfolio:delete",{portfolioId:e}),mF=e=>Oe("mf:invest",e),pF=e=>Oe("mf:redeem",e),hF=e=>Oe("mf:switch",e),xF=(e,t)=>Oe("mf:allocations-update",{portfolioId:e,allocations:t}),vF=()=>Oe("funds:all"),gF=e=>Oe("asset-allocation:save",e),U_=()=>Oe("goals:list"),Y_=e=>Oe("goal:create",e),bF=(e,t)=>Oe("goal:update",{goalId:e,...t}),V_=e=>Oe("goal:delete",{goalId:e}),yF=()=>Oe("goal:mappings-list"),wF=(e,t)=>Oe("goal:mappings-update",{goalId:e,mappings:t}),G_=()=>Oe("insurance:list"),W_=e=>Oe("insurance:create",e),NF=e=>Oe("insurance:update",e),K_=e=>Oe("insurance:delete",{policyId:e}),Q_=()=>Oe("liabilities:list"),X_=e=>Oe("liability:create",e),jF=e=>Oe("liability:update",e),Z_=e=>Oe("liability:delete",{liabilityId:e}),J_=()=>Oe("otherinv:list"),eO=e=>Oe("otherinv:create",e),SF=e=>Oe("otherinv:update",e),tO=e=>Oe("otherinv:delete",{investmentId:e}),rO=()=>Oe("stock-portfolios:list"),nO=e=>Oe("stock-portfolio:create",e),CF=e=>Oe("stock-portfolio:update",e),aO=e=>Oe("stock-portfolio:delete",{portfolioId:e}),AF=()=>Oe("stocks:all"),kF=e=>Oe("stock:price",{symbol:e}),MF=e=>Oe("stock:buy",e),EF=e=>Oe("stock:sell",e),DF=e=>Oe("mf-transaction:delete",{transactionId:e}),_F=e=>Oe("mf-transaction:edit",e),OF=e=>Oe("stock-transaction:edit",e),TF=e=>Oe("stock-transaction:delete",{transactionId:e}),PF=()=>Oe("mf-holdings:list"),IF=()=>Oe("mf-transactions:list"),RF=()=>Oe("stock-holdings:list-all"),LF=()=>Oe("stock-transactions:list-all"),iO=()=>Oe("reminders:list"),sO=e=>Oe("reminder:create",e),FF=e=>Oe("reminder:update",e),lO=e=>Oe("reminder:delete",{reminderId:e}),zF=e=>Oe("healthcheck:save",e),oO=()=>Oe("healthcheck:get"),BF=()=>Oe("settings:list"),$F=e=>Oe("settings:update",e),HF=()=>Oe("market:data"),qF=()=>Oe("data:refresh-master"),UF=()=>Oe("email:send-report-now"),YF=(e,t)=>Oe("email:send-dashboard-pdf",{pdfBase64:e,fileName:t});typeof window<"u"&&(window._cf={callAPI:Oe,checkTriggers:()=>Oe("test:triggers"),diagnose:()=>Oe("test:diagnose")});const VF="capital-friends",GF=1,Cn="cache";let Hu=null;function Rc(){return Hu||(Hu=new Promise((e,t)=>{const r=indexedDB.open(VF,GF);r.onupgradeneeded=n=>{const i=n.target.result;i.objectStoreNames.contains(Cn)||i.createObjectStore(Cn,{keyPath:"key"})},r.onsuccess=()=>e(r.result),r.onerror=()=>{console.warn("[idb] Failed to open database:",r.error),Hu=null,t(r.error)}}),Hu)}async function cO(e){try{const t=await Rc();return new Promise(r=>{const i=t.transaction(Cn,"readonly").objectStore(Cn).get(e);i.onsuccess=()=>r(i.result?i.result.data:null),i.onerror=()=>r(null)})}catch{return null}}async function uO(e){try{const t=await Rc();return new Promise(r=>{const i=t.transaction(Cn,"readonly").objectStore(Cn).get(e);i.onsuccess=()=>r(i.result||null),i.onerror=()=>r(null)})}catch{return null}}async function ln(e,t){try{const r=await Rc();return new Promise(n=>{const i=r.transaction(Cn,"readwrite");i.objectStore(Cn).put({key:e,data:t,updatedAt:Date.now()}),i.oncomplete=()=>n(),i.onerror=()=>n()})}catch{}}async function WF(){try{const e=await Rc();return new Promise(t=>{const n=e.transaction(Cn,"readonly").objectStore(Cn).getAll();n.onsuccess=()=>{const i={};for(const l of n.result||[])i[l.key]=l.data;t(i)},n.onerror=()=>t({})})}catch{return{}}}async function ng(e){try{const t=await Rc();return new Promise(r=>{const n=t.transaction(Cn,"readwrite"),i=n.objectStore(Cn),l=Date.now();for(const[c,u]of Object.entries(e))i.put({key:c,data:u,updatedAt:l});n.oncomplete=()=>r(),n.onerror=()=>r()})}catch{}}async function KF(){try{const e=await Rc();return new Promise(t=>{const r=e.transaction(Cn,"readwrite");r.objectStore(Cn).clear(),r.oncomplete=()=>t(),r.onerror=()=>t()})}catch{}}const dO=N.createContext(null),QF="868467315292-7hfrvkh8pq8f1e2l3v38m6qrupboa295.apps.googleusercontent.com",XF=["https://www.googleapis.com/auth/spreadsheets","https://www.googleapis.com/auth/drive","https://www.googleapis.com/auth/gmail.send","https://www.googleapis.com/auth/script.scriptapp","openid","email","profile"].join(" "),O1="cf_user_profile";function WC(){try{const e=localStorage.getItem(O1);return e?JSON.parse(e):null}catch{return null}}function ZF(e){try{localStorage.setItem(O1,JSON.stringify(e))}catch{}}function KC(){localStorage.removeItem(O1)}function JF({children:e}){const t=YC()?WC():null,[r,n]=N.useState(t),[i,l]=N.useState(!t),[c,u]=N.useState(null),f=N.useRef(null);function m(A){n(A),A?ZF(A):KC()}N.useEffect(()=>{const A=()=>{if(!window.google?.accounts?.oauth2){setTimeout(A,200);return}f.current=window.google.accounts.oauth2.initTokenClient({client_id:QF,scope:XF,callback:p}),iF(g),YC()?v():l(!1)};A()},[]);async function p(A){if(A.error){u(A.error_description||A.error),l(!1);return}try{l(!0),u(null),UC(A.access_token,A.expires_in);const k=await x(A.access_token);VC(k.name||"");const C=await GC();m({email:C.email||k.email,name:C.name||k.name,role:C.role,picture:k.picture||""})}catch(k){u(k.message),fp(),m(null)}finally{l(!1)}}async function x(A){const k=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${A}`}});if(!k.ok)throw new Error("Failed to fetch user profile");return k.json()}async function v(){const A=!!WC();try{const k=kp(),C=await x(k);VC(C.name||"");const M=await GC();m({email:M.email||C.email,name:M.name||C.name,role:M.role,picture:C.picture||""})}catch{fp(),m(null)}finally{A||l(!1)}}function g(){return new Promise((A,k)=>{if(!f.current){k(new Error("Token client not initialized"));return}const C=f.current,M=C.callback;C.callback=E=>{C.callback=M,E.error?k(new Error(E.error)):(UC(E.access_token,E.expires_in),A())},C.requestAccessToken({prompt:""})})}const j=N.useCallback(()=>{f.current&&(u(null),f.current.requestAccessToken())},[]),y=N.useCallback(()=>{const A=kp();A&&window.google?.accounts?.oauth2&&window.google.accounts.oauth2.revoke(A),fp(),KC(),KF(),sessionStorage.removeItem("cf_health_check"),n(null)},[]),w={user:r,loading:i,error:c,isAuthenticated:!!r,isOwner:r?.role==="owner",signIn:j,signOut:y};return a.jsx(dO.Provider,{value:w,children:e})}function lo(){const e=N.useContext(dO);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const fO=N.createContext();function ez({children:e}){const[t,r]=N.useState(()=>{const i=localStorage.getItem("cf-theme");return i||(window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark")});N.useEffect(()=>{localStorage.setItem("cf-theme",t),document.documentElement.setAttribute("data-theme",t)},[t]);const n=()=>r(i=>i==="dark"?"light":"dark");return a.jsx(fO.Provider,{value:{theme:t,toggle:n},children:e})}function mO(){return N.useContext(fO)}const pO=N.createContext(),hO="cf_hc_done";function tz(){try{return sessionStorage.getItem(hO)==="1"?!0:null}catch{return null}}function Vo(e){try{sessionStorage.setItem(hO,e?"1":"0")}catch{}}function rz({children:e}){const{isAuthenticated:t}=lo(),r=t?tz():null,[n,i]=N.useState(!0),[l,c]=N.useState(!1),[u,f]=N.useState(null),[m,p]=N.useState(null),[x,v]=N.useState(null),[g,j]=N.useState(null),[y,w]=N.useState(null),[A,k]=N.useState(null),[C,M]=N.useState(null),[E,O]=N.useState(null),[P,T]=N.useState(null),[$,L]=N.useState(null),[H,D]=N.useState(null),[Z,K]=N.useState(null),[J,R]=N.useState(null),[G,me]=N.useState(null),[we,Ne]=N.useState(null),[F,ce]=N.useState(null),[ee,B]=N.useState(null),[z,U]=N.useState(null),[xe,je]=N.useState(r!==null?r:null),[ne,De]=N.useState(null),Ce=N.useRef(!1),ue=N.useCallback(Y=>{Y&&("members"in Y&&p(Y.members||[]),"bankAccounts"in Y&&v(Y.bankAccounts||[]),"investments"in Y&&j(Y.investments||[]),"insurancePolicies"in Y&&w(Y.insurancePolicies||[]),"liabilities"in Y&&k(Y.liabilities||[]),"otherInvestments"in Y&&M(Y.otherInvestments||[]),"stockPortfolios"in Y&&O(Y.stockPortfolios||[]),"stockHoldings"in Y&&T(Y.stockHoldings||[]),"stockTransactions"in Y&&L(Y.stockTransactions||[]),"mfPortfolios"in Y&&D(Y.mfPortfolios||[]),"mfHoldings"in Y&&K((Y.mfHoldings||[]).map(Se=>Se.schemeCode?Se:{...Se,schemeCode:Se.fundCode})),"mfTransactions"in Y&&R(Y.mfTransactions||[]),"goals"in Y&&me(Y.goals||[]),"reminders"in Y&&Ne(Y.reminders||[]),"goalPortfolioMappings"in Y&&ce(Y.goalPortfolioMappings||[]),"assetAllocations"in Y&&B(Y.assetAllocations||[]),"settings"in Y&&U(Y.settings||{}))},[]),$e=N.useCallback(Y=>{ng({members:Y.members||[],bankAccounts:Y.bankAccounts||[],investments:Y.investments||[],insurancePolicies:Y.insurancePolicies||[],liabilities:Y.liabilities||[],otherInvestments:Y.otherInvestments||[],stockPortfolios:Y.stockPortfolios||[],stockHoldings:Y.stockHoldings||[],stockTransactions:Y.stockTransactions||[],mfPortfolios:Y.mfPortfolios||[],mfHoldings:Y.mfHoldings||[],mfTransactions:Y.mfTransactions||[],goals:Y.goals||[],reminders:Y.reminders||[],goalPortfolioMappings:Y.goalPortfolioMappings||[],assetAllocations:Y.assetAllocations||[]})},[]),Ie=N.useCallback(async(Y=!1)=>{try{Y?c(!0):i(!0),f(null);const Se=await Mp();ue(Se),$e(Se)}catch(Se){f(Se.message)}finally{i(!1),c(!1)}},[ue,$e]),Re=N.useCallback(async()=>{const Y=await P_();p(Y||[]),ln("members",Y||[])},[]),rt=N.useCallback(async()=>{const Y=await F_();v(Y||[]),ln("bankAccounts",Y||[])},[]),jt=N.useCallback(async()=>{const Y=await $_();j(Y||[]),ln("investments",Y||[])},[]),Bt=N.useCallback(async()=>{const Y=await G_();w(Y||[]),ln("insurancePolicies",Y||[])},[]),Ut=N.useCallback(async()=>{const Y=await Q_();k(Y||[]),ln("liabilities",Y||[])},[]),Zt=N.useCallback(async()=>{const Y=await J_();M(Y||[]),ln("otherInvestments",Y||[])},[]),Jt=N.useCallback(async()=>{const[Y,Se]=await Promise.all([U_(),yF()]);me(Y||[]),ce(Se||[]),ln("goals",Y||[]),ln("goalPortfolioMappings",Se||[])},[]),ye=N.useCallback(async()=>{const Y=await iO();Ne(Y||[]),ln("reminders",Y||[])},[]),_e=N.useCallback(async()=>{const[Y,Se,ur]=await Promise.all([cF(),PF(),IF()]),Mn=(Se||[]).map(La=>La.schemeCode?La:{...La,schemeCode:La.fundCode});D(Y||[]),K(Mn),R(ur||[]),ng({mfPortfolios:Y||[],mfHoldings:Mn,mfTransactions:ur||[]})},[]),ze=N.useCallback(async()=>{const[Y,Se,ur]=await Promise.all([rO(),RF(),LF()]);O(Y||[]),T(Se||[]),L(ur||[]),ng({stockPortfolios:Y||[],stockHoldings:Se||[],stockTransactions:ur||[]})},[]),Et=N.useCallback(async()=>{const Y=await BF();U(Y||{}),ln("settings",Y||{})},[]),W=N.useCallback(async Y=>{await $F(Y),await Et()},[Et]),q=N.useCallback(async()=>{try{const Y=await cO("healthCheckAnswers");if(Y&&Object.keys(Y).length>0){je(!0),De(Y),Vo(!0);return}const Se=await oO();Se&&Object.keys(Se).length>0?(je(!0),De(Se),Vo(!0),ln("healthCheckAnswers",Se)):(je(!1),Vo(!1))}catch{je(!1),Vo(!1)}},[]),re=N.useCallback(async Y=>{const Se=await zF(Y);return Se?.success&&(je(!0),De(Y),Vo(!0),ln("healthCheckAnswers",Y)),Se},[]);N.useEffect(()=>{if(!t){i(!1);return}if(Ce.current)return;Ce.current=!0;async function Y(){const Se=await WF(),ur=Object.keys(Se).length>0;ur&&(ue(Se),Se.healthCheckAnswers&&Object.keys(Se.healthCheckAnswers).length>0&&(je(!0),De(Se.healthCheckAnswers),Vo(!0)),i(!1));try{ur&&c(!0);const Mn=await Mp();ue(Mn),$e(Mn)}catch(Mn){ur||f(Mn.message)}finally{i(!1),c(!1)}}Y(),Et().catch(()=>{}),r===null&&q().catch(()=>{})},[t,ue,$e,Et,q]),N.useEffect(()=>{t||(Ce.current=!1)},[t]);const Ae=N.useCallback(async Y=>{const Se=await I_(Y);if(Y.email)try{await sF(Y.email,Y.memberName)}catch(ur){console.warn("Auto-invite failed (non-blocking):",ur.message)}return await Re(),Se},[Re]),Ue=N.useCallback(async(Y,Se)=>{await R_({memberId:Y,...Se}),await Re()},[Re]),le=N.useCallback(async Y=>{await L_(Y),await Re()},[Re]),it=N.useCallback(async Y=>{const Se=await z_(Y);return await rt(),Se},[rt]),Ye=N.useCallback(async(Y,Se)=>{await lF({accountId:Y,...Se}),await rt()},[rt]),Be=N.useCallback(async Y=>{await B_(Y),await rt()},[rt]),Je=N.useCallback(async Y=>{const Se=await H_(Y);return await jt(),Se},[jt]),nt=N.useCallback(async(Y,Se)=>{await oF({accountId:Y,...Se}),await jt()},[jt]),Yt=N.useCallback(async Y=>{await q_(Y),await jt()},[jt]),Qe=N.useCallback(async Y=>{const Se=await W_(Y);return await Bt(),Se},[Bt]),Ee=N.useCallback(async(Y,Se)=>{await NF({policyId:Y,...Se}),await Bt()},[Bt]),We=N.useCallback(async Y=>{await K_(Y),await Bt()},[Bt]),Fe=N.useCallback(async Y=>{const Se=await X_(Y);return await Ut(),Se},[Ut]),yt=N.useCallback(async(Y,Se)=>{await jF({liabilityId:Y,...Se}),await Ut()},[Ut]),$t=N.useCallback(async Y=>{await Z_(Y),await Ut()},[Ut]),Vt=N.useCallback(async Y=>{const Se=await eO(Y);return await Zt(),Y.quickLoan&&await Ut(),Se},[Zt,Ut]),yr=N.useCallback(async(Y,Se)=>{await SF({investmentId:Y,...Se}),await Zt(),await Ut()},[Zt,Ut]),kn=N.useCallback(async Y=>{await tO(Y),await Zt()},[Zt]),fe=N.useCallback(async Y=>{const Se=await Y_(Y);return await Jt(),Se},[Jt]),ke=N.useCallback(async(Y,Se)=>{await bF(Y,Se),await Jt()},[Jt]),Xe=N.useCallback(async Y=>{await V_(Y),await Jt()},[Jt]),er=N.useCallback(async Y=>{const Se=await sO(Y);return await ye(),Se},[ye]),lr=N.useCallback(async(Y,Se)=>{await FF({reminderId:Y,...Se}),await ye()},[ye]),hi=N.useCallback(async Y=>{await lO(Y),await ye()},[ye]),ol=N.useCallback(async(Y,Se)=>{await wF(Y,Se),await Jt()},[Jt]),cl=N.useCallback(async Y=>{const Se=await nO(Y);return await ze(),Se},[ze]),Kc=N.useCallback(async(Y,Se)=>{await CF({portfolioId:Y,...Se}),await ze()},[ze]),sf=N.useCallback(async Y=>{await aO(Y),await ze()},[ze]),lf=N.useCallback(async Y=>{const Se=await MF(Y);return await ze(),Se},[ze]),Ra=N.useCallback(async Y=>{const Se=await EF(Y);return await ze(),Se},[ze]),Pr=N.useCallback(async Y=>{await OF(Y),await ze()},[ze]),en=N.useCallback(async Y=>{await TF(Y),await ze()},[ze]),os=N.useCallback(async Y=>{const Se=await uF(Y);return await _e(),Se},[_e]),Qc=N.useCallback(async(Y,Se)=>{await dF({portfolioId:Y,...Se}),await _e()},[_e]),zx=N.useCallback(async Y=>{await fF(Y),await _e()},[_e]),Bx=N.useCallback(async(Y,Se)=>{const ur=await mF({...Y,transactionType:Se});return await _e(),ur},[_e]),of=N.useCallback(async Y=>{const Se=await pF(Y);return await _e(),Se},[_e]),ul=N.useCallback(async Y=>{const Se=await hF(Y);return await _e(),Se},[_e]),Xc=N.useCallback(async(Y,Se)=>{await xF(Y,Se),await _e()},[_e]),cs=N.useCallback(async Y=>{await DF(Y),await _e()},[_e]),us=N.useCallback(async Y=>{await _F(Y),await _e()},[_e]),dl=N.useCallback(async Y=>{const Se=await gF(Y);return B(ur=>{const Mn=ur||[],La=Mn.findIndex(kr=>kr.fundCode===Y.fundCode),Fa={};Y.equity&&(Fa.Equity=Y.equity),Y.debt&&(Fa.Debt=Y.debt),Y.cash&&(Fa.Cash=Y.cash),Y.realEstate&&(Fa["Real Estate"]=Y.realEstate),Y.commodities&&(Fa.Commodities=Y.commodities),Y.customAsset&&Object.entries(Y.customAsset).forEach(([kr,wr])=>{wr>0&&(Fa[kr]=wr)});const xi={};Y.giantCap&&(xi.Giant=Y.giantCap),Y.largeCap&&(xi.Large=Y.largeCap),Y.midCap&&(xi.Mid=Y.midCap),Y.smallCap&&(xi.Small=Y.smallCap),Y.microCap&&(xi.Micro=Y.microCap),Y.customCap&&Object.entries(Y.customCap).forEach(([kr,wr])=>{wr>0&&(xi[kr]=wr)});const vi={};Y.geoIndia&&(vi.India=Y.geoIndia),Y.geoGlobal&&(vi.Global=Y.geoGlobal),Y.customGeo&&Object.entries(Y.customGeo).forEach(([kr,wr])=>{wr>0&&(vi[kr]=wr)});const fl={fundCode:Y.fundCode,fundName:Y.fundName,assetAllocation:Fa,equityAllocation:xi,geoAllocation:vi};if(La>=0){const kr=[...Mn];return kr[La]=fl,kr}return[...Mn,fl]}),Se},[]),ds=(m||[]).filter(Y=>Y.status==="Active"),Ar=(x||[]).filter(Y=>Y.status==="Active"),cf=(g||[]).filter(Y=>Y.status==="Active");return a.jsx(pO.Provider,{value:{loading:n,isRefreshing:l,error:u,refreshData:Ie,members:m,banks:x,investmentAccounts:g,insurancePolicies:y,liabilityList:A,otherInvList:C,activeMembers:ds,activeBanks:Ar,activeInvestmentAccounts:cf,addMember:Ae,updateMember:Ue,deleteMember:le,addBankAccount:it,updateBankAccount:Ye,deleteBankAccount:Be,addInvestmentAccount:Je,updateInvestmentAccount:nt,deleteInvestmentAccount:Yt,addInsurance:Qe,updateInsurance:Ee,deleteInsurance:We,addLiability:Fe,updateLiability:yt,deleteLiability:$t,addOtherInvestment:Vt,updateOtherInvestment:yr,deleteOtherInvestment:kn,goalList:G,addGoal:fe,updateGoal:ke,deleteGoal:Xe,reminderList:we,addReminder:er,updateReminder:lr,deleteReminder:hi,goalPortfolioMappings:F,updateGoalMappings:ol,assetAllocations:ee,updateAssetAllocation:dl,stockPortfolios:E,stockHoldings:P,stockTransactions:$,addStockPortfolio:cl,updateStockPortfolio:Kc,deleteStockPortfolio:sf,buyStock:lf,sellStock:Ra,editStockTransaction:Pr,deleteStockTransaction:en,mfPortfolios:H,mfHoldings:Z,mfTransactions:J,addMFPortfolio:os,updateMFPortfolio:Qc,deleteMFPortfolio:zx,investMF:Bx,redeemMF:of,switchMF:ul,updateHoldingAllocations:Xc,deleteMFTransaction:cs,editMFTransaction:us,settings:z,updateSettings:W,refreshSettings:Et,healthCheckCompleted:xe,healthCheckAnswers:ne,completeHealthCheck:re},children:e})}function xt(){return N.useContext(pO)}const xO=N.createContext();function nz({children:e}){const{activeMembers:t}=xt(),[r,n]=N.useState("all"),i=t.find(l=>l.memberId===r)||null;return a.jsx(xO.Provider,{value:{selectedMember:r,setSelectedMember:n,member:i,familyMembers:t},children:e})}function Hr(){return N.useContext(xO)}const vO=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();const az=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const iz=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase());const QC=e=>{const t=iz(e);return t.charAt(0).toUpperCase()+t.slice(1)};var sz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const lz=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const oz=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:l,iconNode:c,...u},f)=>N.createElement("svg",{ref:f,...sz,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:vO("lucide",i),...!l&&!lz(u)&&{"aria-hidden":"true"},...u},[...c.map(([m,p])=>N.createElement(m,p)),...Array.isArray(l)?l:[l]]));const Me=(e,t)=>{const r=N.forwardRef(({className:n,...i},l)=>N.createElement(oz,{ref:l,iconNode:t,className:vO(`lucide-${az(QC(e))}`,`lucide-${e}`,n),...i}));return r.displayName=QC(e),r};const cz=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],uz=Me("arrow-down",cz);const dz=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],fz=Me("arrow-left",dz);const mz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],pz=Me("arrow-right",mz);const hz=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],xz=Me("arrow-up-down",hz);const vz=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],gz=Me("bell-off",vz);const bz=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],T1=Me("bell",bz);const yz=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],gO=Me("briefcase",yz);const wz=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],Nz=Me("bug",wz);const jz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Sz=Me("calendar",jz);const Cz=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],oc=Me("chart-column",Cz);const Az=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],XC=Me("chart-pie",Az);const kz=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],md=Me("check",kz);const Mz=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Kl=Me("chevron-down",Mz);const Ez=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Dz=Me("chevron-left",Ez);const _z=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],zn=Me("chevron-right",_z);const Oz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],bO=Me("circle-arrow-down",Oz);const Tz=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Pz=Me("circle-check-big",Tz);const Iz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Lc=Me("circle-check",Iz);const Rz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],yO=Me("circle-x",Rz);const Lz=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],wO=Me("clipboard-check",Lz);const Fz=[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]],zz=Me("cloud-download",Fz);const Bz=[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]],$z=Me("construction",Bz);const Hz=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],qz=Me("copy",Hz);const Uz=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],$h=Me("credit-card",Uz);const Yz=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Vz=Me("database",Yz);const Gz=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Wz=Me("dollar-sign",Gz);const Kz=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Qz=Me("download",Kz);const Xz=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],NO=Me("ellipsis-vertical",Xz);const Zz=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Jz=Me("ellipsis",Zz);const eB=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ep=Me("eye",eB);const tB=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Dp=Me("eye-off",tB);const rB=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],nB=Me("file-spreadsheet",rB);const aB=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],iB=Me("file-text",aB);const sB=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],jO=Me("funnel",sB);const lB=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],oB=Me("github",lB);const cB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],SO=Me("globe",cB);const uB=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Ql=Me("heart",uB);const dB=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],fB=Me("indian-rupee",dB);const mB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],pB=Me("info",mB);const hB=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],xB=Me("landmark",hB);const vB=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],CO=Me("layers",vB);const gB=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],bB=Me("layout-dashboard",gB);const yB=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],AO=Me("link-2",yB);const wB=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],dd=Me("list",wB);const NB=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],pc=Me("loader-circle",NB);const jB=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ag=Me("lock",jB);const SB=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],CB=Me("log-in",SB);const AB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],kO=Me("log-out",AB);const kB=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Hh=Me("mail",kB);const MB=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M12 8v6",key:"1ib9pf"}],["path",{d:"M9 11h6",key:"1fldmi"}]],EB=Me("message-square-plus",MB);const DB=[["path",{d:"M5 12h14",key:"1ays0h"}]],ZC=Me("minus",DB);const _B=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],dy=Me("moon",_B);const OB=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],MO=Me("package",OB);const TB=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],PB=Me("palette",TB);const IB=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],ma=Me("pencil",IB);const RB=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],LB=Me("piggy-bank",RB);const FB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Zr=Me("plus",FB);const zB=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],_p=Me("refresh-cw",zB);const BB=[["path",{d:"m2 9 3-3 3 3",key:"1ltn5i"}],["path",{d:"M13 18H7a2 2 0 0 1-2-2V6",key:"1r6tfw"}],["path",{d:"m22 15-3 3-3-3",key:"4rnwn2"}],["path",{d:"M11 6h6a2 2 0 0 1 2 2v10",key:"2f72bc"}]],ig=Me("repeat-2",BB);const $B=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],HB=Me("repeat",$B);const qB=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],EO=Me("save",qB);const UB=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],JC=Me("scale",UB);const YB=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],P1=Me("search",YB);const VB=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],GB=Me("send",VB);const WB=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],DO=Me("settings-2",WB);const KB=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_O=Me("settings",KB);const QB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],XB=Me("shield-alert",QB);const ZB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],cc=Me("shield",ZB);const JB=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],e$=Me("smartphone",JB);const t$=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],fy=Me("sun",t$);const r$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Id=Me("target",r$);const n$=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],hc=Me("trash-2",n$);const a$=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Op=Me("trending-down",a$);const i$=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],xc=Me("trending-up",i$);const s$=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Vs=Me("triangle-alert",s$);const l$=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],eA=Me("trophy",l$);const o$=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],c$=Me("user",o$);const u$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Xl=Me("users",u$);const d$=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],mp=Me("wallet",d$);const f$=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],si=Me("x",f$);const m$=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],OO=Me("zap",m$),TO=N.createContext();function p$({children:e}){const[t,r]=N.useState([]),[n,i]=N.useState(null),l=N.useRef(0),c=N.useCallback((p,x="success",v=3e3)=>{const g=++l.current;r(j=>[...j,{id:g,message:p,type:x}]),setTimeout(()=>r(j=>j.filter(y=>y.id!==g)),v)},[]),u=N.useCallback(p=>{r(x=>x.filter(v=>v.id!==p))},[]),f=N.useCallback((p="Saving...")=>{i(p)},[]),m=N.useCallback(()=>{i(null)},[]);return a.jsxs(TO.Provider,{value:{showToast:c,showBlockUI:f,hideBlockUI:m},children:[e,n&&a.jsx("div",{className:"fixed inset-0 z-[200] bg-black/50 backdrop-blur-sm flex items-center justify-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-3 bg-[var(--bg-card)] rounded-xl px-8 py-6 border border-[var(--border)] shadow-2xl",children:[a.jsx("span",{className:"w-7 h-7 border-[2.5px] border-violet-400/30 border-t-violet-400 rounded-full animate-spin"}),a.jsx("span",{className:"text-sm font-semibold text-[var(--text-primary)]",children:n})]})}),t.length>0&&a.jsx("div",{className:"fixed bottom-20 sm:bottom-6 left-1/2 -translate-x-1/2 z-[100] flex flex-col gap-2 items-center pointer-events-none",children:t.map(p=>a.jsxs("div",{className:`pointer-events-auto flex items-center gap-2 px-4 py-2.5 rounded-lg shadow-xl border text-sm font-medium animate-fade-in ${p.type==="error"?"bg-rose-500/15 border-rose-500/30 text-[var(--accent-rose)]":p.type==="warning"?"bg-amber-500/15 border-amber-500/30 text-amber-400":"bg-emerald-500/15 border-emerald-500/30 text-emerald-400"}`,style:{backdropFilter:"blur(12px)"},children:[p.type==="error"?a.jsx(yO,{size:16}):p.type==="warning"?a.jsx(Vs,{size:16}):a.jsx(Lc,{size:16}),a.jsx("span",{children:p.message}),a.jsx("button",{onClick:()=>u(p.id),className:"ml-1 opacity-60 hover:opacity-100 transition-opacity",children:a.jsx(si,{size:14})})]},p.id))})]})}function ui(){return N.useContext(TO)}const PO=N.createContext();function h$({children:e}){const[t,r]=N.useState(null),n=N.useRef(null),i=N.useCallback((u,{title:f="Confirm",confirmLabel:m="Yes, proceed",cancelLabel:p="Cancel",destructive:x=!0}={})=>new Promise(v=>{n.current=v,r({message:u,title:f,confirmLabel:m,cancelLabel:p,destructive:x})}),[]);function l(){n.current?.(!0),n.current=null,r(null)}function c(){n.current?.(!1),n.current=null,r(null)}return a.jsxs(PO.Provider,{value:{confirm:i},children:[e,t&&a.jsxs("div",{className:"fixed inset-0 z-[300] flex items-center justify-center px-4",onClick:c,children:[a.jsx("div",{className:"fixed inset-0 bg-black/60"}),a.jsxs("div",{className:"relative bg-[var(--bg-card)] border border-[var(--border)] rounded-xl shadow-2xl w-full max-w-sm p-5 animate-fade-in",onClick:u=>u.stopPropagation(),children:[a.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[a.jsx("span",{className:`shrink-0 w-9 h-9 rounded-full flex items-center justify-center ${t.destructive?"bg-rose-500/15":"bg-violet-500/15"}`,children:a.jsx(Vs,{size:18,className:t.destructive?"text-[var(--accent-rose)]":"text-violet-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-bold text-[var(--text-primary)]",children:t.title}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-1 leading-relaxed",children:t.message})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{onClick:c,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:t.cancelLabel}),a.jsx("button",{onClick:l,autoFocus:!0,className:`px-4 py-2 text-xs font-bold text-white rounded-lg transition-colors ${t.destructive?"bg-rose-600 hover:bg-rose-500":"bg-violet-600 hover:bg-violet-500"}`,children:t.confirmLabel})]})]})]})]})}function di(){return N.useContext(PO).confirm}const IO=N.createContext(),tA="cf-mask-data";function x$(e){return!e||e.length<4?"":""+e.slice(-4)}function v$(e){return!e||e.length<4?"  ":"  "+e.slice(-4)}function g$(e){return!e||e.length<3?"":""+e.slice(-3)}function b$(e){if(!e)return"@";const[t,r]=e.split("@");if(!r)return"@";const n=t.charAt(0)+"",i=r.split("."),l=i[0].charAt(0)+""+(i.length>1?"."+i.slice(1).join("."):"");return n+"@"+l}function y$(e){return!e||e.length<4?"":""+e.slice(-4)}function w$(e){return!e||e.length<3?"":""+e.slice(-3)}function N$(e){return!e||e.length<4?"":""+e.slice(-4)}function j$(e){return!e||e.length<2?"":e.split(/\s+/).map(t=>t.charAt(0)+"").join(" ")}const S$={pan:x$,aadhaar:v$,mobile:g$,email:b$,account:y$,clientId:w$,policy:N$,name:j$};function C$({children:e}){const[t,r]=N.useState(()=>{try{return localStorage.getItem(tA)==="true"}catch{return!1}});N.useEffect(()=>{try{localStorage.setItem(tA,String(t))}catch{}},[t]);const n=N.useCallback(()=>r(l=>!l),[]),i=N.useCallback((l,c)=>{if(!t||l==null||l==="")return l;const u=S$[c];return u?u(String(l)):l},[t]);return a.jsx(IO.Provider,{value:{masked:t,toggleMask:n,mv:i},children:e})}function Pa(){return N.useContext(IO)}function RO(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=RO(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function dt(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=RO(e))&&(n&&(n+=" "),n+=t);return n}var A$=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function I1(e){if(typeof e!="string")return!1;var t=A$;return t.includes(e)}var k$=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],M$=new Set(k$);function LO(e){return typeof e!="string"?!1:M$.has(e)}function FO(e){return typeof e=="string"&&e.startsWith("data-")}function vc(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(LO(r)||FO(r))&&(t[r]=e[r]);return t}function my(e){if(e==null)return null;if(N.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return vc(t)}return typeof e=="object"&&!Array.isArray(e)?vc(e):null}function ca(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(LO(r)||FO(r)||I1(r))&&(t[r]=e[r]);return t}var E$=["children","width","height","viewBox","className","style","title","desc"];function py(){return py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},py.apply(null,arguments)}function D$(e,t){if(e==null)return{};var r,n,i=_$(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zO=N.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:l,className:c,style:u,title:f,desc:m}=e,p=D$(e,E$),x=l||{width:n,height:i,x:0,y:0},v=dt("recharts-surface",c);return N.createElement("svg",py({},ca(p),{className:v,width:n,height:i,style:u,viewBox:"".concat(x.x," ").concat(x.y," ").concat(x.width," ").concat(x.height),ref:t}),N.createElement("title",null,f),N.createElement("desc",null,m),r)}),O$=["children","className"];function hy(){return hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hy.apply(null,arguments)}function T$(e,t){if(e==null)return{};var r,n,i=P$(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function P$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Gs=N.forwardRef((e,t)=>{var{children:r,className:n}=e,i=T$(e,O$),l=dt("recharts-layer",n);return N.createElement("g",hy({className:l},ca(i),{ref:t}),r)}),I$=N.createContext(null);function Gt(e){return function(){return e}}const BO=Math.cos,Tp=Math.sin,Ia=Math.sqrt,Pp=Math.PI,qh=2*Pp,xy=Math.PI,vy=2*xy,Ol=1e-6,R$=vy-Ol;function $O(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function L$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return $O;const r=10**t;return function(n){this._+=n[0];for(let i=1,l=n.length;i<l;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class F${constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?$O:L$(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,l,c){this._append`C${+t},${+r},${+n},${+i},${this._x1=+l},${this._y1=+c}`}arcTo(t,r,n,i,l){if(t=+t,r=+r,n=+n,i=+i,l=+l,l<0)throw new Error(`negative radius: ${l}`);let c=this._x1,u=this._y1,f=n-t,m=i-r,p=c-t,x=u-r,v=p*p+x*x;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>Ol)if(!(Math.abs(x*f-m*p)>Ol)||!l)this._append`L${this._x1=t},${this._y1=r}`;else{let g=n-c,j=i-u,y=f*f+m*m,w=g*g+j*j,A=Math.sqrt(y),k=Math.sqrt(v),C=l*Math.tan((xy-Math.acos((y+v-w)/(2*A*k)))/2),M=C/k,E=C/A;Math.abs(M-1)>Ol&&this._append`L${t+M*p},${r+M*x}`,this._append`A${l},${l},0,0,${+(x*g>p*j)},${this._x1=t+E*f},${this._y1=r+E*m}`}}arc(t,r,n,i,l,c){if(t=+t,r=+r,n=+n,c=!!c,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),f=n*Math.sin(i),m=t+u,p=r+f,x=1^c,v=c?i-l:l-i;this._x1===null?this._append`M${m},${p}`:(Math.abs(this._x1-m)>Ol||Math.abs(this._y1-p)>Ol)&&this._append`L${m},${p}`,n&&(v<0&&(v=v%vy+vy),v>R$?this._append`A${n},${n},0,1,${x},${t-u},${r-f}A${n},${n},0,1,${x},${this._x1=m},${this._y1=p}`:v>Ol&&this._append`A${n},${n},0,${+(v>=xy)},${x},${this._x1=t+n*Math.cos(l)},${this._y1=r+n*Math.sin(l)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function R1(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new F$(t)}function L1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function HO(e){this._context=e}HO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Uh(e){return new HO(e)}function qO(e){return e[0]}function UO(e){return e[1]}function YO(e,t){var r=Gt(!0),n=null,i=Uh,l=null,c=R1(u);e=typeof e=="function"?e:e===void 0?qO:Gt(e),t=typeof t=="function"?t:t===void 0?UO:Gt(t);function u(f){var m,p=(f=L1(f)).length,x,v=!1,g;for(n==null&&(l=i(g=c())),m=0;m<=p;++m)!(m<p&&r(x=f[m],m,f))===v&&((v=!v)?l.lineStart():l.lineEnd()),v&&l.point(+e(x,m,f),+t(x,m,f));if(g)return l=null,g+""||null}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Gt(+f),u):e},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Gt(+f),u):t},u.defined=function(f){return arguments.length?(r=typeof f=="function"?f:Gt(!!f),u):r},u.curve=function(f){return arguments.length?(i=f,n!=null&&(l=i(n)),u):i},u.context=function(f){return arguments.length?(f==null?n=l=null:l=i(n=f),u):n},u}function wm(e,t,r){var n=null,i=Gt(!0),l=null,c=Uh,u=null,f=R1(m);e=typeof e=="function"?e:e===void 0?qO:Gt(+e),t=typeof t=="function"?t:Gt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?UO:Gt(+r);function m(x){var v,g,j,y=(x=L1(x)).length,w,A=!1,k,C=new Array(y),M=new Array(y);for(l==null&&(u=c(k=f())),v=0;v<=y;++v){if(!(v<y&&i(w=x[v],v,x))===A)if(A=!A)g=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),j=v-1;j>=g;--j)u.point(C[j],M[j]);u.lineEnd(),u.areaEnd()}A&&(C[v]=+e(w,v,x),M[v]=+t(w,v,x),u.point(n?+n(w,v,x):C[v],r?+r(w,v,x):M[v]))}if(k)return u=null,k+""||null}function p(){return YO().defined(i).curve(c).context(l)}return m.x=function(x){return arguments.length?(e=typeof x=="function"?x:Gt(+x),n=null,m):e},m.x0=function(x){return arguments.length?(e=typeof x=="function"?x:Gt(+x),m):e},m.x1=function(x){return arguments.length?(n=x==null?null:typeof x=="function"?x:Gt(+x),m):n},m.y=function(x){return arguments.length?(t=typeof x=="function"?x:Gt(+x),r=null,m):t},m.y0=function(x){return arguments.length?(t=typeof x=="function"?x:Gt(+x),m):t},m.y1=function(x){return arguments.length?(r=x==null?null:typeof x=="function"?x:Gt(+x),m):r},m.lineX0=m.lineY0=function(){return p().x(e).y(t)},m.lineY1=function(){return p().x(e).y(r)},m.lineX1=function(){return p().x(n).y(t)},m.defined=function(x){return arguments.length?(i=typeof x=="function"?x:Gt(!!x),m):i},m.curve=function(x){return arguments.length?(c=x,l!=null&&(u=c(l)),m):c},m.context=function(x){return arguments.length?(x==null?l=u=null:u=c(l=x),m):l},m}class VO{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function z$(e){return new VO(e,!0)}function B$(e){return new VO(e,!1)}const F1={draw(e,t){const r=Ia(t/Pp);e.moveTo(r,0),e.arc(0,0,r,0,qh)}},$$={draw(e,t){const r=Ia(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},GO=Ia(1/3),H$=GO*2,q$={draw(e,t){const r=Ia(t/H$),n=r*GO;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},U$={draw(e,t){const r=Ia(t),n=-r/2;e.rect(n,n,r,r)}},Y$=.8908130915292852,WO=Tp(Pp/10)/Tp(7*Pp/10),V$=Tp(qh/10)*WO,G$=-BO(qh/10)*WO,W$={draw(e,t){const r=Ia(t*Y$),n=V$*r,i=G$*r;e.moveTo(0,-r),e.lineTo(n,i);for(let l=1;l<5;++l){const c=qh*l/5,u=BO(c),f=Tp(c);e.lineTo(f*r,-u*r),e.lineTo(u*n-f*i,f*n+u*i)}e.closePath()}},sg=Ia(3),K$={draw(e,t){const r=-Ia(t/(sg*3));e.moveTo(0,r*2),e.lineTo(-sg*r,-r),e.lineTo(sg*r,-r),e.closePath()}},na=-.5,aa=Ia(3)/2,gy=1/Ia(12),Q$=(gy/2+1)*3,X$={draw(e,t){const r=Ia(t/Q$),n=r/2,i=r*gy,l=n,c=r*gy+r,u=-l,f=c;e.moveTo(n,i),e.lineTo(l,c),e.lineTo(u,f),e.lineTo(na*n-aa*i,aa*n+na*i),e.lineTo(na*l-aa*c,aa*l+na*c),e.lineTo(na*u-aa*f,aa*u+na*f),e.lineTo(na*n+aa*i,na*i-aa*n),e.lineTo(na*l+aa*c,na*c-aa*l),e.lineTo(na*u+aa*f,na*f-aa*u),e.closePath()}};function Z$(e,t){let r=null,n=R1(i);e=typeof e=="function"?e:Gt(e||F1),t=typeof t=="function"?t:Gt(t===void 0?64:+t);function i(){let l;if(r||(r=l=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),l)return r=null,l+""||null}return i.type=function(l){return arguments.length?(e=typeof l=="function"?l:Gt(l),i):e},i.size=function(l){return arguments.length?(t=typeof l=="function"?l:Gt(+l),i):t},i.context=function(l){return arguments.length?(r=l??null,i):r},i}function Ip(){}function Rp(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function KO(e){this._context=e}KO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Rp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Rp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function J$(e){return new KO(e)}function QO(e){this._context=e}QO.prototype={areaStart:Ip,areaEnd:Ip,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Rp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function e9(e){return new QO(e)}function XO(e){this._context=e}XO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Rp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function t9(e){return new XO(e)}function ZO(e){this._context=e}ZO.prototype={areaStart:Ip,areaEnd:Ip,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function r9(e){return new ZO(e)}function rA(e){return e<0?-1:1}function nA(e,t,r){var n=e._x1-e._x0,i=t-e._x1,l=(e._y1-e._y0)/(n||i<0&&-0),c=(r-e._y1)/(i||n<0&&-0),u=(l*i+c*n)/(n+i);return(rA(l)+rA(c))*Math.min(Math.abs(l),Math.abs(c),.5*Math.abs(u))||0}function aA(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function lg(e,t,r){var n=e._x0,i=e._y0,l=e._x1,c=e._y1,u=(l-n)/3;e._context.bezierCurveTo(n+u,i+u*t,l-u,c-u*r,l,c)}function Lp(e){this._context=e}Lp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:lg(this,this._t0,aA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,lg(this,aA(this,r=nA(this,e,t)),r);break;default:lg(this,this._t0,r=nA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function JO(e){this._context=new eT(e)}(JO.prototype=Object.create(Lp.prototype)).point=function(e,t){Lp.prototype.point.call(this,t,e)};function eT(e){this._context=e}eT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,l){this._context.bezierCurveTo(t,e,n,r,l,i)}};function n9(e){return new Lp(e)}function a9(e){return new JO(e)}function tT(e){this._context=e}tT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=iA(e),i=iA(t),l=0,c=1;c<r;++l,++c)this._context.bezierCurveTo(n[0][l],i[0][l],n[1][l],i[1][l],e[c],t[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function iA(e){var t,r=e.length-1,n,i=new Array(r),l=new Array(r),c=new Array(r);for(i[0]=0,l[0]=2,c[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,l[t]=4,c[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,l[r-1]=7,c[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/l[t-1],l[t]-=n,c[t]-=n*c[t-1];for(i[r-1]=c[r-1]/l[r-1],t=r-2;t>=0;--t)i[t]=(c[t]-i[t+1])/l[t];for(l[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)l[t]=2*e[t+1]-i[t+1];return[i,l]}function i9(e){return new tT(e)}function Yh(e,t){this._context=e,this._t=t}Yh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function s9(e){return new Yh(e,.5)}function l9(e){return new Yh(e,0)}function o9(e){return new Yh(e,1)}function Zl(e,t){if((c=e.length)>1)for(var r=1,n,i,l=e[t[0]],c,u=l.length;r<c;++r)for(i=l,l=e[t[r]],n=0;n<u;++n)l[n][1]+=l[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function by(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function c9(e,t){return e[t]}function u9(e){const t=[];return t.key=e,t}function d9(){var e=Gt([]),t=by,r=Zl,n=c9;function i(l){var c=Array.from(e.apply(this,arguments),u9),u,f=c.length,m=-1,p;for(const x of l)for(u=0,++m;u<f;++u)(c[u][m]=[0,+n(x,c[u].key,m,l)]).data=x;for(u=0,p=L1(t(c));u<f;++u)c[p[u]].index=u;return r(c,p),c}return i.keys=function(l){return arguments.length?(e=typeof l=="function"?l:Gt(Array.from(l)),i):e},i.value=function(l){return arguments.length?(n=typeof l=="function"?l:Gt(+l),i):n},i.order=function(l){return arguments.length?(t=l==null?by:typeof l=="function"?l:Gt(Array.from(l)),i):t},i.offset=function(l){return arguments.length?(r=l??Zl,i):r},i}function f9(e,t){if((n=e.length)>0){for(var r,n,i=0,l=e[0].length,c;i<l;++i){for(c=r=0;r<n;++r)c+=e[r][i][1]||0;if(c)for(r=0;r<n;++r)e[r][i][1]/=c}Zl(e,t)}}function m9(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,l=n.length;r<l;++r){for(var c=0,u=0;c<i;++c)u+=e[c][r][1]||0;n[r][1]+=n[r][0]=-u/2}Zl(e,t)}}function p9(e,t){if(!(!((c=e.length)>0)||!((l=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,l,c;n<l;++n){for(var u=0,f=0,m=0;u<c;++u){for(var p=e[t[u]],x=p[n][1]||0,v=p[n-1][1]||0,g=(x-v)/2,j=0;j<u;++j){var y=e[t[j]],w=y[n][1]||0,A=y[n-1][1]||0;g+=w-A}f+=x,m+=g*x}i[n-1][1]+=i[n-1][0]=r,f&&(r-=m/f)}i[n-1][1]+=i[n-1][0]=r,Zl(e,t)}}var og={},cg={},sA;function h9(){return sA||(sA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(cg)),cg}var ug={},lA;function rT(){return lA||(lA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(ug)),ug}var dg={},oA;function z1(){return oA||(oA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(dg)),dg}var fg={},mg={},cA;function x9(){return cA||(cA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(mg)),mg}var uA;function B1(){return uA||(uA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x9(),r=z1();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const l=[],c=i.length;if(c===0)return l;let u=0,f="",m="",p=!1;for(i.charCodeAt(0)===46&&(l.push(""),u++);u<c;){const x=i[u];m?x==="\\"&&u+1<c?(u++,f+=i[u]):x===m?m="":f+=x:p?x==='"'||x==="'"?m=x:x==="]"?(p=!1,l.push(f),f=""):f+=x:x==="["?(p=!0,f&&(l.push(f),f="")):x==="."?f&&(l.push(f),f=""):f+=x,u++}return f&&l.push(f),l}e.toPath=n})(fg)),fg}var dA;function $1(){return dA||(dA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h9(),r=rT(),n=z1(),i=B1();function l(u,f,m){if(u==null)return m;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return m;const p=u[f];return p===void 0?r.isDeepKey(f)?l(u,i.toPath(f),m):m:p}case"number":case"symbol":{typeof f=="number"&&(f=n.toKey(f));const p=u[f];return p===void 0?m:p}default:{if(Array.isArray(f))return c(u,f,m);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return m;const p=u[f];return p===void 0?m:p}}}function c(u,f,m){if(f.length===0)return m;let p=u;for(let x=0;x<f.length;x++){if(p==null||t.isUnsafeProperty(f[x]))return m;p=p[f[x]]}return p===void 0?m:p}e.get=l})(og)),og}var pg,fA;function v9(){return fA||(fA=1,pg=$1().get),pg}var g9=v9();const pd=ci(g9);var b9=4;function Bs(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:b9,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function pr(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((i,l,c)=>{var u=r[c-1];return typeof u=="string"?i+u+l:u!==void 0?i+Bs(u)+l:i+l},"")}var jn=e=>e===0?0:e>0?1:-1,Vi=e=>typeof e=="number"&&e!=+e,Jl=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,at=e=>(typeof e=="number"||e instanceof Number)&&!Vi(e),Gi=e=>at(e)||typeof e=="string",y9=0,hd=e=>{var t=++y9;return"".concat(e||"").concat(t)},Hn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!at(t)&&typeof t!="string")return n;var l;if(Jl(t)){if(r==null)return n;var c=t.indexOf("%");l=r*parseFloat(t.slice(0,c))/100}else l=+t;return Vi(l)&&(l=n),i&&r!=null&&l>r&&(l=r),l},nT=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function ya(e,t,r){return at(e)&&at(t)?Bs(e+r*(t-e)):t}function w9(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):pd(n,t))===r)}var Yn=e=>e===null||typeof e>"u",Rd=e=>Yn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Xa(e){return e!=null}function Ld(){}var N9=["type","size","sizeType"];function yy(){return yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yy.apply(null,arguments)}function mA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mA(Object(r),!0).forEach(function(n){j9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j9(e,t,r){return(t=S9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S9(e){var t=C9(e,"string");return typeof t=="symbol"?t:t+""}function C9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A9(e,t){if(e==null)return{};var r,n,i=k9(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function k9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var aT={symbolCircle:F1,symbolCross:$$,symbolDiamond:q$,symbolSquare:U$,symbolStar:W$,symbolTriangle:K$,symbolWye:X$},M9=Math.PI/180,E9=e=>{var t="symbol".concat(Rd(e));return aT[t]||F1},D9=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*M9;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},_9=(e,t)=>{aT["symbol".concat(Rd(e))]=t},iT=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=A9(e,N9),l=pA(pA({},i),{},{type:t,size:r,sizeType:n}),c="circle";typeof t=="string"&&(c=t);var u=()=>{var v=E9(c),g=Z$().type(v).size(D9(r,n,c)),j=g();if(j!==null)return j},{className:f,cx:m,cy:p}=l,x=ca(l);return at(m)&&at(p)&&at(r)?N.createElement("path",yy({},x,{className:dt("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(p,")"),d:u()})):null};iT.registerSymbol=_9;var sT=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,O9=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(N.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{I1(i)&&(n[i]=(l=>r[i](r,l)))}),n},T9=(e,t,r)=>n=>(e(t,r,n),null),P9=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var l=e[i];I1(i)&&typeof l=="function"&&(n||(n={}),n[i]=T9(l,t,r))}),n};function hA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function I9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hA(Object(r),!0).forEach(function(n){R9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R9(e,t,r){return(t=L9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L9(e){var t=F9(e,"string");return typeof t=="symbol"?t:t+""}function F9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fi(e,t){var r=I9({},e),n=t,i=Object.keys(t),l=i.reduce((c,u)=>(c[u]===void 0&&n[u]!==void 0&&(c[u]=n[u]),c),r);return l}var hg={},xg={},xA;function z9(){return xA||(xA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let l=0;l<r.length;l++){const c=r[l],u=n(c,l,r);i.has(u)||i.set(u,c)}return Array.from(i.values())}e.uniqBy=t})(xg)),xg}var vg={},vA;function B9(){return vA||(vA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...i){return r.apply(this,i.slice(0,n))}}e.ary=t})(vg)),vg}var gg={},gA;function lT(){return gA||(gA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(gg)),gg}var bg={},yg={},wg={},bA;function $9(){return bA||(bA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(wg)),wg}var yA;function H1(){return yA||(yA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$9();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(yg)),yg}var Ng={},wA;function H9(){return wA||(wA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Ng)),Ng}var NA;function q9(){return NA||(NA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H1(),r=H9();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(bg)),bg}var jg={},Sg={},jA;function U9(){return jA||(jA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$1();function r(n){return function(i){return t.get(i,n)}}e.property=r})(Sg)),Sg}var Cg={},Ag={},kg={},Mg={},SA;function oT(){return SA||(SA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Mg)),Mg}var Eg={},CA;function cT(){return CA||(CA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Eg)),Eg}var Dg={},AA;function uT(){return AA||(AA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(Dg)),Dg}var kA;function Y9(){return kA||(kA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oT(),r=cT(),n=uT();function i(p,x,v){return typeof v!="function"?i(p,x,()=>{}):l(p,x,function g(j,y,w,A,k,C){const M=v(j,y,w,A,k,C);return M!==void 0?!!M:l(j,y,g,C)},new Map)}function l(p,x,v,g){if(x===p)return!0;switch(typeof x){case"object":return c(p,x,v,g);case"function":return Object.keys(x).length>0?l(p,{...x},v,g):n.isEqualsSameValueZero(p,x);default:return t.isObject(p)?typeof x=="string"?x==="":!0:n.isEqualsSameValueZero(p,x)}}function c(p,x,v,g){if(x==null)return!0;if(Array.isArray(x))return f(p,x,v,g);if(x instanceof Map)return u(p,x,v,g);if(x instanceof Set)return m(p,x,v,g);const j=Object.keys(x);if(p==null||r.isPrimitive(p))return j.length===0;if(j.length===0)return!0;if(g?.has(x))return g.get(x)===p;g?.set(x,p);try{for(let y=0;y<j.length;y++){const w=j[y];if(!r.isPrimitive(p)&&!(w in p)||x[w]===void 0&&p[w]!==void 0||x[w]===null&&p[w]!==null||!v(p[w],x[w],w,p,x,g))return!1}return!0}finally{g?.delete(x)}}function u(p,x,v,g){if(x.size===0)return!0;if(!(p instanceof Map))return!1;for(const[j,y]of x.entries()){const w=p.get(j);if(v(w,y,j,p,x,g)===!1)return!1}return!0}function f(p,x,v,g){if(x.length===0)return!0;if(!Array.isArray(p))return!1;const j=new Set;for(let y=0;y<x.length;y++){const w=x[y];let A=!1;for(let k=0;k<p.length;k++){if(j.has(k))continue;const C=p[k];let M=!1;if(v(C,w,y,p,x,g)&&(M=!0),M){j.add(k),A=!0;break}}if(!A)return!1}return!0}function m(p,x,v,g){return x.size===0?!0:p instanceof Set?f([...p],[...x],v,g):!1}e.isMatchWith=i,e.isSetMatch=m})(kg)),kg}var MA;function dT(){return MA||(MA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y9();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(Ag)),Ag}var _g={},Og={},Tg={},EA;function V9(){return EA||(EA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Tg)),Tg}var Pg={},DA;function q1(){return DA||(DA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Pg)),Pg}var Ig={},_A;function fT(){return _A||(_A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",l="[object Arguments]",c="[object Symbol]",u="[object Date]",f="[object Map]",m="[object Set]",p="[object Array]",x="[object Function]",v="[object ArrayBuffer]",g="[object Object]",j="[object Error]",y="[object DataView]",w="[object Uint8Array]",A="[object Uint8ClampedArray]",k="[object Uint16Array]",C="[object Uint32Array]",M="[object BigUint64Array]",E="[object Int8Array]",O="[object Int16Array]",P="[object Int32Array]",T="[object BigInt64Array]",$="[object Float32Array]",L="[object Float64Array]";e.argumentsTag=l,e.arrayBufferTag=v,e.arrayTag=p,e.bigInt64ArrayTag=T,e.bigUint64ArrayTag=M,e.booleanTag=i,e.dataViewTag=y,e.dateTag=u,e.errorTag=j,e.float32ArrayTag=$,e.float64ArrayTag=L,e.functionTag=x,e.int16ArrayTag=O,e.int32ArrayTag=P,e.int8ArrayTag=E,e.mapTag=f,e.numberTag=n,e.objectTag=g,e.regexpTag=t,e.setTag=m,e.stringTag=r,e.symbolTag=c,e.uint16ArrayTag=k,e.uint32ArrayTag=C,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=A})(Ig)),Ig}var Rg={},OA;function G9(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Rg)),Rg}var TA;function mT(){return TA||(TA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V9(),r=q1(),n=fT(),i=cT(),l=G9();function c(p,x){return u(p,void 0,p,new Map,x)}function u(p,x,v,g=new Map,j=void 0){const y=j?.(p,x,v,g);if(y!==void 0)return y;if(i.isPrimitive(p))return p;if(g.has(p))return g.get(p);if(Array.isArray(p)){const w=new Array(p.length);g.set(p,w);for(let A=0;A<p.length;A++)w[A]=u(p[A],A,v,g,j);return Object.hasOwn(p,"index")&&(w.index=p.index),Object.hasOwn(p,"input")&&(w.input=p.input),w}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const w=new RegExp(p.source,p.flags);return w.lastIndex=p.lastIndex,w}if(p instanceof Map){const w=new Map;g.set(p,w);for(const[A,k]of p)w.set(A,u(k,A,v,g,j));return w}if(p instanceof Set){const w=new Set;g.set(p,w);for(const A of p)w.add(u(A,void 0,v,g,j));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(l.isTypedArray(p)){const w=new(Object.getPrototypeOf(p)).constructor(p.length);g.set(p,w);for(let A=0;A<p.length;A++)w[A]=u(p[A],A,v,g,j);return w}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const w=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return g.set(p,w),f(w,p,v,g,j),w}if(typeof File<"u"&&p instanceof File){const w=new File([p],p.name,{type:p.type});return g.set(p,w),f(w,p,v,g,j),w}if(typeof Blob<"u"&&p instanceof Blob){const w=new Blob([p],{type:p.type});return g.set(p,w),f(w,p,v,g,j),w}if(p instanceof Error){const w=new p.constructor;return g.set(p,w),w.message=p.message,w.name=p.name,w.stack=p.stack,w.cause=p.cause,f(w,p,v,g,j),w}if(p instanceof Boolean){const w=new Boolean(p.valueOf());return g.set(p,w),f(w,p,v,g,j),w}if(p instanceof Number){const w=new Number(p.valueOf());return g.set(p,w),f(w,p,v,g,j),w}if(p instanceof String){const w=new String(p.valueOf());return g.set(p,w),f(w,p,v,g,j),w}if(typeof p=="object"&&m(p)){const w=Object.create(Object.getPrototypeOf(p));return g.set(p,w),f(w,p,v,g,j),w}return p}function f(p,x,v=p,g,j){const y=[...Object.keys(x),...t.getSymbols(x)];for(let w=0;w<y.length;w++){const A=y[w],k=Object.getOwnPropertyDescriptor(p,A);(k==null||k.writable)&&(p[A]=u(x[A],A,v,g,j))}}function m(p){switch(r.getTag(p)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=u,e.copyProperties=f})(Og)),Og}var PA;function W9(){return PA||(PA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mT();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(_g)),_g}var IA;function K9(){return IA||(IA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dT(),r=W9();function n(i){return i=r.cloneDeep(i),l=>t.isMatch(l,i)}e.matches=n})(Cg)),Cg}var Lg={},Fg={},zg={},RA;function Q9(){return RA||(RA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mT(),r=q1(),n=fT();function i(l,c){return t.cloneDeepWith(l,(u,f,m,p)=>{const x=c?.(u,f,m,p);if(x!==void 0)return x;if(typeof l=="object"){if(r.getTag(l)===n.objectTag&&typeof l.constructor!="function"){const v={};return p.set(l,v),t.copyProperties(v,l,m,p),v}switch(Object.prototype.toString.call(l)){case n.numberTag:case n.stringTag:case n.booleanTag:{const v=new l.constructor(l?.valueOf());return t.copyProperties(v,l),v}case n.argumentsTag:{const v={};return t.copyProperties(v,l),v.length=l.length,v[Symbol.iterator]=l[Symbol.iterator],v}default:return}}})}e.cloneDeepWith=i})(zg)),zg}var LA;function X9(){return LA||(LA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q9();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Fg)),Fg}var Bg={},$g={},FA;function pT(){return FA||(FA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})($g)),$g}var Hg={},zA;function Z9(){return zA||(zA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q1();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Hg)),Hg}var BA;function J9(){return BA||(BA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rT(),r=pT(),n=Z9(),i=B1();function l(c,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&t.isDeepKey(u)&&c?.[u]==null?f=i.toPath(u):f=[u],f.length===0)return!1;let m=c;for(let p=0;p<f.length;p++){const x=f[p];if((m==null||!Object.hasOwn(m,x))&&!((Array.isArray(m)||n.isArguments(m))&&r.isIndex(x)&&x<m.length))return!1;m=m[x]}return!0}e.has=l})(Bg)),Bg}var $A;function e7(){return $A||($A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dT(),r=z1(),n=X9(),i=$1(),l=J9();function c(u,f){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=r.toKey(u);break}}return f=n.cloneDeep(f),function(m){const p=i.get(m,u);return p===void 0?l.has(m,u):f===void 0?p===void 0:t.isMatch(p,f)}}e.matchesProperty=c})(Lg)),Lg}var HA;function t7(){return HA||(HA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lT(),r=U9(),n=K9(),i=e7();function l(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?i.matchesProperty(c[0],c[1]):n.matches(c);case"string":case"symbol":case"number":return r.property(c)}}e.iteratee=l})(jg)),jg}var qA;function r7(){return qA||(qA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z9(),r=B9(),n=lT(),i=q9(),l=t7();function c(u,f=n.identity){return i.isArrayLikeObject(u)?t.uniqBy(Array.from(u),r.ary(l.iteratee(f),1)):[]}e.uniqBy=c})(hg)),hg}var qg,UA;function n7(){return UA||(UA=1,qg=r7().uniqBy),qg}var a7=n7();const YA=ci(a7);function i7(e,t,r){return t===!0?YA(e,r):typeof t=="function"?YA(e,t):e}var Ug={exports:{}},Yg={},Vg={exports:{}},Gg={};var VA;function s7(){if(VA)return Gg;VA=1;var e=_c();function t(x,v){return x===v&&(x!==0||1/x===1/v)||x!==x&&v!==v}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function u(x,v){var g=v(),j=n({inst:{value:g,getSnapshot:v}}),y=j[0].inst,w=j[1];return l(function(){y.value=g,y.getSnapshot=v,f(y)&&w({inst:y})},[x,g,v]),i(function(){return f(y)&&w({inst:y}),x(function(){f(y)&&w({inst:y})})},[x]),c(g),g}function f(x){var v=x.getSnapshot;x=x.value;try{var g=v();return!r(x,g)}catch{return!0}}function m(x,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return Gg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Gg}var GA;function l7(){return GA||(GA=1,Vg.exports=s7()),Vg.exports}var WA;function o7(){if(WA)return Yg;WA=1;var e=_c(),t=l7();function r(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,l=e.useRef,c=e.useEffect,u=e.useMemo,f=e.useDebugValue;return Yg.useSyncExternalStoreWithSelector=function(m,p,x,v,g){var j=l(null);if(j.current===null){var y={hasValue:!1,value:null};j.current=y}else y=j.current;j=u(function(){function A(O){if(!k){if(k=!0,C=O,O=v(O),g!==void 0&&y.hasValue){var P=y.value;if(g(P,O))return M=P}return M=O}if(P=M,n(C,O))return P;var T=v(O);return g!==void 0&&g(P,T)?(C=O,P):(C=O,M=T)}var k=!1,C,M,E=x===void 0?null:x;return[function(){return A(p())},E===null?void 0:function(){return A(E())}]},[p,x,v,g]);var w=i(m,j[0],j[1]);return c(function(){y.hasValue=!0,y.value=w},[w]),f(w),w},Yg}var KA;function c7(){return KA||(KA=1,Ug.exports=o7()),Ug.exports}var u7=c7(),U1=N.createContext(null),d7=e=>e,Lr=()=>{var e=N.useContext(U1);return e?e.store.dispatch:d7},pp=()=>{},f7=()=>pp,m7=(e,t)=>e===t;function ct(e){var t=N.useContext(U1),r=N.useMemo(()=>t?n=>{if(n!=null)return e(n)}:pp,[t,e]);return u7.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:f7,t?t.store.getState:pp,t?t.store.getState:pp,r,m7)}function p7(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function h7(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function x7(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var QA=e=>Array.isArray(e)?e:[e];function v7(e){const t=Array.isArray(e[0])?e[0]:e;return x7(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function g7(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var b7=class{constructor(e){this.value=e}deref(){return this.value}},y7=typeof WeakRef<"u"?WeakRef:b7,w7=0,XA=1;function Nm(){return{s:w7,v:void 0,o:null,p:null}}function hT(e,t={}){let r=Nm();const{resultEqualityCheck:n}=t;let i,l=0;function c(){let u=r;const{length:f}=arguments;for(let x=0,v=f;x<v;x++){const g=arguments[x];if(typeof g=="function"||typeof g=="object"&&g!==null){let j=u.o;j===null&&(u.o=j=new WeakMap);const y=j.get(g);y===void 0?(u=Nm(),j.set(g,u)):u=y}else{let j=u.p;j===null&&(u.p=j=new Map);const y=j.get(g);y===void 0?(u=Nm(),j.set(g,u)):u=y}}const m=u;let p;if(u.s===XA)p=u.v;else if(p=e.apply(null,arguments),l++,n){const x=i?.deref?.()??i;x!=null&&n(x,p)&&(p=x,l!==0&&l--),i=typeof p=="object"&&p!==null||typeof p=="function"?new y7(p):p}return m.s=XA,m.v=p,p}return c.clearCache=()=>{r=Nm(),c.resetResultsCount()},c.resultsCount=()=>l,c.resetResultsCount=()=>{l=0},c}function N7(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let l=0,c=0,u,f={},m=i.pop();typeof m=="object"&&(f=m,m=i.pop()),p7(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const p={...r,...f},{memoize:x,memoizeOptions:v=[],argsMemoize:g=hT,argsMemoizeOptions:j=[]}=p,y=QA(v),w=QA(j),A=v7(i),k=x(function(){return l++,m.apply(null,arguments)},...y),C=g(function(){c++;const E=g7(A,arguments);return u=k.apply(null,E),u},...w);return Object.assign(C,{resultFunc:m,memoizedResultFunc:k,dependencies:A,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>u,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:x,argsMemoize:g})};return Object.assign(n,{withTypes:()=>n}),n}var de=N7(hT),j7=Object.assign((e,t=de)=>{h7(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(l=>e[l]);return t(n,(...l)=>l.reduce((c,u,f)=>(c[r[f]]=u,c),{}))},{withTypes:()=>j7}),Wg={},Kg={},Qg={},ZA;function S7(){return ZA||(ZA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,l)=>{if(n!==i){const c=t(n),u=t(i);if(c===u&&c===0){if(n<i)return l==="desc"?1:-1;if(n>i)return l==="desc"?-1:1}return l==="desc"?u-c:c-u}return 0};e.compareValues=r})(Qg)),Qg}var Xg={},Zg={},JA;function xT(){return JA||(JA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Zg)),Zg}var ek;function C7(){return ek||(ek=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xT(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(l,c){return Array.isArray(l)?!1:typeof l=="number"||typeof l=="boolean"||l==null||t.isSymbol(l)?!0:typeof l=="string"&&(n.test(l)||!r.test(l))||c!=null&&Object.hasOwn(c,l)}e.isKey=i})(Xg)),Xg}var tk;function A7(){return tk||(tk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S7(),r=C7(),n=B1();function i(l,c,u,f){if(l==null)return[];u=f?void 0:u,Array.isArray(l)||(l=Object.values(l)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(g=>String(g));const m=(g,j)=>{let y=g;for(let w=0;w<j.length&&y!=null;++w)y=y[j[w]];return y},p=(g,j)=>j==null||g==null?j:typeof g=="object"&&"key"in g?Object.hasOwn(j,g.key)?j[g.key]:m(j,g.path):typeof g=="function"?g(j):Array.isArray(g)?m(j,g):typeof j=="object"?j[g]:j,x=c.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||r.isKey(g)?g:{key:g,path:n.toPath(g)}));return l.map(g=>({original:g,criteria:x.map(j=>p(j,g))})).slice().sort((g,j)=>{for(let y=0;y<x.length;y++){const w=t.compareValues(g.criteria[y],j.criteria[y],u[y]);if(w!==0)return w}return 0}).map(g=>g.original)}e.orderBy=i})(Kg)),Kg}var Jg={},rk;function k7(){return rk||(rk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],l=Math.floor(n),c=(u,f)=>{for(let m=0;m<u.length;m++){const p=u[m];Array.isArray(p)&&f<l?c(p,f+1):i.push(p)}};return c(r,0),i}e.flatten=t})(Jg)),Jg}var eb={},nk;function vT(){return nk||(nk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pT(),r=H1(),n=oT(),i=uT();function l(c,u,f){return n.isObject(f)&&(typeof u=="number"&&r.isArrayLike(f)&&t.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?i.isEqualsSameValueZero(f[u],c):!1}e.isIterateeCall=l})(eb)),eb}var ak;function M7(){return ak||(ak=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A7(),r=k7(),n=vT();function i(l,...c){const u=c.length;return u>1&&n.isIterateeCall(l,c[0],c[1])?c=[]:u>2&&n.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(l,r.flatten(c),["asc"])}e.sortBy=i})(Wg)),Wg}var tb,ik;function E7(){return ik||(ik=1,tb=M7().sortBy),tb}var D7=E7();const Vh=ci(D7);var gT=e=>e.legend.settings,_7=e=>e.legend.size,O7=e=>e.legend.payload;de([O7,gT],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Vh(n,r):n});var jm=1;function T7(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=N.useState({height:0,left:0,top:0,width:0}),n=N.useCallback(i=>{if(i!=null){var l=i.getBoundingClientRect(),c={height:l.height,left:l.left,top:l.top,width:l.width};(Math.abs(c.height-t.height)>jm||Math.abs(c.left-t.left)>jm||Math.abs(c.top-t.top)>jm||Math.abs(c.width-t.width)>jm)&&r({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Qr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var P7=typeof Symbol=="function"&&Symbol.observable||"@@observable",sk=P7,rb=()=>Math.random().toString(36).substring(7).split("").join("."),I7={INIT:`@@redux/INIT${rb()}`,REPLACE:`@@redux/REPLACE${rb()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${rb()}`},Fp=I7;function Y1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function bT(e,t,r){if(typeof e!="function")throw new Error(Qr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Qr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Qr(1));return r(bT)(e,t)}let n=e,i=t,l=new Map,c=l,u=0,f=!1;function m(){c===l&&(c=new Map,l.forEach((w,A)=>{c.set(A,w)}))}function p(){if(f)throw new Error(Qr(3));return i}function x(w){if(typeof w!="function")throw new Error(Qr(4));if(f)throw new Error(Qr(5));let A=!0;m();const k=u++;return c.set(k,w),function(){if(A){if(f)throw new Error(Qr(6));A=!1,m(),c.delete(k),l=null}}}function v(w){if(!Y1(w))throw new Error(Qr(7));if(typeof w.type>"u")throw new Error(Qr(8));if(typeof w.type!="string")throw new Error(Qr(17));if(f)throw new Error(Qr(9));try{f=!0,i=n(i,w)}finally{f=!1}return(l=c).forEach(k=>{k()}),w}function g(w){if(typeof w!="function")throw new Error(Qr(10));n=w,v({type:Fp.REPLACE})}function j(){const w=x;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(Qr(11));function k(){const M=A;M.next&&M.next(p())}return k(),{unsubscribe:w(k)}},[sk](){return this}}}return v({type:Fp.INIT}),{dispatch:v,subscribe:x,getState:p,replaceReducer:g,[sk]:j}}function R7(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Fp.INIT})>"u")throw new Error(Qr(12));if(typeof r(void 0,{type:Fp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Qr(13))})}function yT(e){const t=Object.keys(e),r={};for(let l=0;l<t.length;l++){const c=t[l];typeof e[c]=="function"&&(r[c]=e[c])}const n=Object.keys(r);let i;try{R7(r)}catch(l){i=l}return function(c={},u){if(i)throw i;let f=!1;const m={};for(let p=0;p<n.length;p++){const x=n[p],v=r[x],g=c[x],j=v(g,u);if(typeof j>"u")throw u&&u.type,new Error(Qr(14));m[x]=j,f=f||j!==g}return f=f||n.length!==Object.keys(c).length,f?m:c}}function zp(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function L7(...e){return t=>(r,n)=>{const i=t(r,n);let l=()=>{throw new Error(Qr(15))};const c={getState:i.getState,dispatch:(f,...m)=>l(f,...m)},u=e.map(f=>f(c));return l=zp(...u)(i.dispatch),{...i,dispatch:l}}}function wT(e){return Y1(e)&&"type"in e&&typeof e.type=="string"}var NT=Symbol.for("immer-nothing"),lk=Symbol.for("immer-draftable"),dn=Symbol.for("immer-state");function wa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var $n=Object,gc=$n.getPrototypeOf,Bp="constructor",Gh="prototype",wy="configurable",$p="enumerable",hp="writable",xd="value",Wi=e=>!!e&&!!e[dn];function Da(e){return e?jT(e)||Kh(e)||!!e[lk]||!!e[Bp]?.[lk]||Qh(e)||Xh(e):!1}var F7=$n[Gh][Bp].toString(),ok=new WeakMap;function jT(e){if(!e||!V1(e))return!1;const t=gc(e);if(t===null||t===$n[Gh])return!0;const r=$n.hasOwnProperty.call(t,Bp)&&t[Bp];if(r===Object)return!0;if(!nc(r))return!1;let n=ok.get(r);return n===void 0&&(n=Function.toString.call(r),ok.set(r,n)),n===F7}function Wh(e,t,r=!0){Fd(e)===0?(r?Reflect.ownKeys(e):$n.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Fd(e){const t=e[dn];return t?t.type_:Kh(e)?1:Qh(e)?2:Xh(e)?3:0}var ck=(e,t,r=Fd(e))=>r===2?e.has(t):$n[Gh].hasOwnProperty.call(e,t),Ny=(e,t,r=Fd(e))=>r===2?e.get(t):e[t],Hp=(e,t,r,n=Fd(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function z7(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Kh=Array.isArray,Qh=e=>e instanceof Map,Xh=e=>e instanceof Set,V1=e=>typeof e=="object",nc=e=>typeof e=="function",nb=e=>typeof e=="boolean";function B7(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Li=e=>e.copy_||e.base_,G1=e=>e.modified_?e.copy_:e.base_;function jy(e,t){if(Qh(e))return new Map(e);if(Xh(e))return new Set(e);if(Kh(e))return Array[Gh].slice.call(e);const r=jT(e);if(t===!0||t==="class_only"&&!r){const n=$n.getOwnPropertyDescriptors(e);delete n[dn];let i=Reflect.ownKeys(n);for(let l=0;l<i.length;l++){const c=i[l],u=n[c];u[hp]===!1&&(u[hp]=!0,u[wy]=!0),(u.get||u.set)&&(n[c]={[wy]:!0,[hp]:!0,[$p]:u[$p],[xd]:e[c]})}return $n.create(gc(e),n)}else{const n=gc(e);if(n!==null&&r)return{...e};const i=$n.create(n);return $n.assign(i,e)}}function W1(e,t=!1){return Zh(e)||Wi(e)||!Da(e)||(Fd(e)>1&&$n.defineProperties(e,{set:Sm,add:Sm,clear:Sm,delete:Sm}),$n.freeze(e),t&&Wh(e,(r,n)=>{W1(n,!0)},!1)),e}function $7(){wa(2)}var Sm={[xd]:$7};function Zh(e){return e===null||!V1(e)?!0:$n.isFrozen(e)}var qp="MapSet",Sy="Patches",uk="ArrayMethods",ST={};function eo(e){const t=ST[e];return t||wa(0,e),t}var dk=e=>!!ST[e],vd,CT=()=>vd,H7=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:dk(qp)?eo(qp):void 0,arrayMethodsPlugin_:dk(uk)?eo(uk):void 0});function fk(e,t){t&&(e.patchPlugin_=eo(Sy),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Cy(e){Ay(e),e.drafts_.forEach(q7),e.drafts_=null}function Ay(e){e===vd&&(vd=e.parent_)}var mk=e=>vd=H7(vd,e);function q7(e){const t=e[dn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function pk(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[dn].modified_&&(Cy(t),wa(4)),Da(e)&&(e=hk(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[dn].base_,e,t)}else e=hk(t,r);return U7(t,e,!0),Cy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==NT?e:void 0}function hk(e,t){if(Zh(t))return t;const r=t[dn];if(!r)return Up(t,e.handledSet_,e);if(!Jh(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);MT(r,e)}return r.copy_}function U7(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&W1(t,r)}function AT(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Jh=(e,t)=>e.scope_===t,Y7=[];function kT(e,t,r,n){const i=Li(e),l=e.type_;if(n!==void 0&&Ny(i,n,l)===t){Hp(i,n,r,l);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;Wh(i,(f,m)=>{if(Wi(m)){const p=u.get(m)||[];p.push(f),u.set(m,p)}})}const c=e.draftLocations_.get(t)??Y7;for(const u of c)Hp(i,u,r,l)}function V7(e,t,r){e.callbacks_.push(function(i){const l=t;if(!l||!Jh(l,i))return;i.mapSetPlugin_?.fixSetContents(l);const c=G1(l);kT(e,l.draft_??l,c,r),MT(l,i)})}function MT(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const i=n.getPath(e);i&&n.generatePatches_(e,i,t)}AT(e)}}function G7(e,t,r){const{scope_:n}=e;if(Wi(r)){const i=r[dn];Jh(i,n)&&i.callbacks_.push(function(){xp(e);const c=G1(i);kT(e,r,c,t)})}else Da(r)&&e.callbacks_.push(function(){const l=Li(e);e.type_===3?l.has(r)&&Up(r,n.handledSet_,n):Ny(l,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Up(Ny(e.copy_,t,e.type_),n.handledSet_,n)})}function Up(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Wi(e)||t.has(e)||!Da(e)||Zh(e)||(t.add(e),Wh(e,(n,i)=>{if(Wi(i)){const l=i[dn];if(Jh(l,r)){const c=G1(l);Hp(e,n,c,e.type_),AT(l)}}else Da(i)&&Up(i,t,r)})),e}function W7(e,t){const r=Kh(e),n={type_:r?1:0,scope_:t?t.scope_:CT(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,l=Yp;r&&(i=[n],l=gd);const{revoke:c,proxy:u}=Proxy.revocable(i,l);return n.draft_=u,n.revoke_=c,[u,n]}var Yp={get(e,t){if(t===dn)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const i=Li(e);if(!ck(i,t,e.type_))return K7(e,i,t);const l=i[t];if(e.finalized_||!Da(l)||n&&e.operationMethod&&r?.isMutatingArrayMethod(e.operationMethod)&&B7(t))return l;if(l===ab(e.base_,t)){xp(e);const c=e.type_===1?+t:t,u=My(e.scope_,l,e,c);return e.copy_[c]=u}return l},has(e,t){return t in Li(e)},ownKeys(e){return Reflect.ownKeys(Li(e))},set(e,t,r){const n=ET(Li(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=ab(Li(e),t),l=i?.[dn];if(l&&l.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(z7(r,i)&&(r!==void 0||ck(e.base_,t,e.type_)))return!0;xp(e),ky(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),G7(e,t,r)),!0},deleteProperty(e,t){return xp(e),ab(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),ky(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Li(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[hp]:!0,[wy]:e.type_!==1||t!=="length",[$p]:n[$p],[xd]:r[t]}},defineProperty(){wa(11)},getPrototypeOf(e){return gc(e.base_)},setPrototypeOf(){wa(12)}},gd={};for(let e in Yp){let t=Yp[e];gd[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}gd.deleteProperty=function(e,t){return gd.set.call(this,e,t,void 0)};gd.set=function(e,t,r){return Yp.set.call(this,e[0],t,r,e[0])};function ab(e,t){const r=e[dn];return(r?Li(r):e)[t]}function K7(e,t,r){const n=ET(t,r);return n?xd in n?n[xd]:n.get?.call(e.draft_):void 0}function ET(e,t){if(!(t in e))return;let r=gc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=gc(r)}}function ky(e){e.modified_||(e.modified_=!0,e.parent_&&ky(e.parent_))}function xp(e){e.copy_||(e.assigned_=new Map,e.copy_=jy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Q7=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(nc(r)&&!nc(n)){const c=n;n=r;const u=this;return function(m=c,...p){return u.produce(m,x=>n.call(this,x,...p))}}nc(n)||wa(6),i!==void 0&&!nc(i)&&wa(7);let l;if(Da(r)){const c=mk(this),u=My(c,r,void 0);let f=!0;try{l=n(u),f=!1}finally{f?Cy(c):Ay(c)}return fk(c,i),pk(l,c)}else if(!r||!V1(r)){if(l=n(r),l===void 0&&(l=r),l===NT&&(l=void 0),this.autoFreeze_&&W1(l,!0),i){const c=[],u=[];eo(Sy).generateReplacementPatches_(r,l,{patches_:c,inversePatches_:u}),i(c,u)}return l}else wa(1,r)},this.produceWithPatches=(r,n)=>{if(nc(r))return(u,...f)=>this.produceWithPatches(u,m=>r(m,...f));let i,l;return[this.produce(r,n,(u,f)=>{i=u,l=f}),i,l]},nb(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),nb(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),nb(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Da(t)||wa(8),Wi(t)&&(t=Ca(t));const r=mk(this),n=My(r,t,void 0);return n[dn].isManual_=!0,Ay(r),n}finishDraft(t,r){const n=t&&t[dn];(!n||!n.isManual_)&&wa(9);const{scope_:i}=n;return fk(i,r),pk(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const l=r[n];if(l.path.length===0&&l.op==="replace"){t=l.value;break}}n>-1&&(r=r.slice(n+1));const i=eo(Sy).applyPatches_;return Wi(t)?i(t,r):this.produce(t,l=>i(l,r))}};function My(e,t,r,n){const[i,l]=Qh(t)?eo(qp).proxyMap_(t,r):Xh(t)?eo(qp).proxySet_(t,r):W7(t,r);return(r?.scope_??CT()).drafts_.push(i),l.callbacks_=r?.callbacks_??[],l.key_=n,r&&n!==void 0?V7(r,l,n):l.callbacks_.push(function(f){f.mapSetPlugin_?.fixSetContents(l);const{patchPlugin_:m}=f;l.modified_&&m&&m.generatePatches_(l,[],f)}),i}function Ca(e){return Wi(e)||wa(10,e),DT(e)}function DT(e){if(!Da(e)||Zh(e))return e;const t=e[dn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=jy(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=jy(e,!0);return Wh(r,(i,l)=>{Hp(r,i,DT(l))},n),t&&(t.finalized_=!1),r}var X7=new Q7,_T=X7.produce;function OT(e){return({dispatch:r,getState:n})=>i=>l=>typeof l=="function"?l(r,n,e):i(l)}var Z7=OT(),J7=OT,eH=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?zp:zp.apply(null,arguments)};function ua(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(qn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>wT(n)&&n.type===e,r}var TT=class ld extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ld.prototype)}static get[Symbol.species](){return ld}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ld(...t[0].concat(this)):new ld(...t.concat(this))}};function xk(e){return Da(e)?_T(e,()=>{}):e}function Cm(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function tH(e){return typeof e=="boolean"}var rH=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:l=!0}=t??{};let c=new TT;return r&&(tH(r)?c.push(Z7):c.push(J7(r.extraArgument))),c},PT="RTK_autoBatch",nr=()=>e=>({payload:e,meta:{[PT]:!0}}),vk=e=>t=>{setTimeout(t,e)},IT=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,l=!1,c=!1;const u=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:vk(10):e.type==="callback"?e.queueNotification:vk(e.timeout),m=()=>{c=!1,l&&(l=!1,u.forEach(p=>p()))};return Object.assign({},n,{subscribe(p){const x=()=>i&&p(),v=n.subscribe(x);return u.add(p),()=>{v(),u.delete(p)}},dispatch(p){try{return i=!p?.meta?.[PT],l=!i,l&&(c||(c=!0,f(m))),n.dispatch(p)}finally{i=!0}}})},nH=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new TT(e);return n&&i.push(IT(typeof n=="object"?n:void 0)),i};function aH(e){const t=rH(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:l=void 0,enhancers:c=void 0}=e||{};let u;if(typeof r=="function")u=r;else if(Y1(r))u=yT(r);else throw new Error(qn(1));let f;typeof n=="function"?f=n(t):f=t();let m=zp;i&&(m=eH({trace:!1,...typeof i=="object"&&i}));const p=L7(...f),x=nH(p);let v=typeof c=="function"?c(x):x();const g=m(...v);return bT(u,l,g)}function RT(e){const t={},r=[];let n;const i={addCase(l,c){const u=typeof l=="string"?l:l.type;if(!u)throw new Error(qn(28));if(u in t)throw new Error(qn(29));return t[u]=c,i},addAsyncThunk(l,c){return c.pending&&(t[l.pending.type]=c.pending),c.rejected&&(t[l.rejected.type]=c.rejected),c.fulfilled&&(t[l.fulfilled.type]=c.fulfilled),c.settled&&r.push({matcher:l.settled,reducer:c.settled}),i},addMatcher(l,c){return r.push({matcher:l,reducer:c}),i},addDefaultCase(l){return n=l,i}};return e(i),[t,r,n]}function iH(e){return typeof e=="function"}function sH(e,t){let[r,n,i]=RT(t),l;if(iH(e))l=()=>xk(e());else{const u=xk(e);l=()=>u}function c(u=l(),f){let m=[r[f.type],...n.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return m.filter(p=>!!p).length===0&&(m=[i]),m.reduce((p,x)=>{if(x)if(Wi(p)){const g=x(p,f);return g===void 0?p:g}else{if(Da(p))return _T(p,v=>x(v,f));{const v=x(p,f);if(v===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return p},u)}return c.getInitialState=l,c}var lH="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",oH=(e=21)=>{let t="",r=e;for(;r--;)t+=lH[Math.random()*64|0];return t},cH=Symbol.for("rtk-slice-createasyncthunk");function uH(e,t){return`${e}/${t}`}function dH({creators:e}={}){const t=e?.asyncThunk?.[cH];return function(n){const{name:i,reducerPath:l=i}=n;if(!i)throw new Error(qn(11));const c=(typeof n.reducers=="function"?n.reducers(mH()):n.reducers)||{},u=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(C,M){const E=typeof C=="string"?C:C.type;if(!E)throw new Error(qn(12));if(E in f.sliceCaseReducersByType)throw new Error(qn(13));return f.sliceCaseReducersByType[E]=M,m},addMatcher(C,M){return f.sliceMatchers.push({matcher:C,reducer:M}),m},exposeAction(C,M){return f.actionCreators[C]=M,m},exposeCaseReducer(C,M){return f.sliceCaseReducersByName[C]=M,m}};u.forEach(C=>{const M=c[C],E={reducerName:C,type:uH(i,C),createNotation:typeof n.reducers=="function"};hH(M)?vH(E,M,m,t):pH(E,M,m)});function p(){const[C={},M=[],E=void 0]=typeof n.extraReducers=="function"?RT(n.extraReducers):[n.extraReducers],O={...C,...f.sliceCaseReducersByType};return sH(n.initialState,P=>{for(let T in O)P.addCase(T,O[T]);for(let T of f.sliceMatchers)P.addMatcher(T.matcher,T.reducer);for(let T of M)P.addMatcher(T.matcher,T.reducer);E&&P.addDefaultCase(E)})}const x=C=>C,v=new Map,g=new WeakMap;let j;function y(C,M){return j||(j=p()),j(C,M)}function w(){return j||(j=p()),j.getInitialState()}function A(C,M=!1){function E(P){let T=P[C];return typeof T>"u"&&M&&(T=Cm(g,E,w)),T}function O(P=x){const T=Cm(v,M,()=>new WeakMap);return Cm(T,P,()=>{const $={};for(const[L,H]of Object.entries(n.selectors??{}))$[L]=fH(H,P,()=>Cm(g,P,w),M);return $})}return{reducerPath:C,getSelectors:O,get selectors(){return O(E)},selectSlice:E}}const k={name:i,reducer:y,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:w,...A(l),injectInto(C,{reducerPath:M,...E}={}){const O=M??l;return C.inject({reducerPath:O,reducer:y},E),{...k,...A(O,!0)}}};return k}}function fH(e,t,r,n){function i(l,...c){let u=t(l);return typeof u>"u"&&n&&(u=r()),e(u,...c)}return i.unwrapped=e,i}var An=dH();function mH(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function pH({type:e,reducerName:t,createNotation:r},n,i){let l,c;if("reducer"in n){if(r&&!xH(n))throw new Error(qn(17));l=n.reducer,c=n.prepare}else l=n;i.addCase(e,l).exposeCaseReducer(t,l).exposeAction(t,c?ua(e,c):ua(e))}function hH(e){return e._reducerDefinitionType==="asyncThunk"}function xH(e){return e._reducerDefinitionType==="reducerWithPrepare"}function vH({type:e,reducerName:t},r,n,i){if(!i)throw new Error(qn(18));const{payloadCreator:l,fulfilled:c,pending:u,rejected:f,settled:m,options:p}=r,x=i(e,l,p);n.exposeAction(t,x),c&&n.addCase(x.fulfilled,c),u&&n.addCase(x.pending,u),f&&n.addCase(x.rejected,f),m&&n.addMatcher(x.settled,m),n.exposeCaseReducer(t,{fulfilled:c||Am,pending:u||Am,rejected:f||Am,settled:m||Am})}function Am(){}var gH="task",LT="listener",FT="completed",K1="cancelled",bH=`task-${K1}`,yH=`task-${FT}`,Ey=`${LT}-${K1}`,wH=`${LT}-${FT}`,ex=class{constructor(e){this.code=e,this.message=`${gH} ${K1} (reason: ${e})`}name="TaskAbortError";message},Q1=(e,t)=>{if(typeof e!="function")throw new TypeError(qn(32))},Vp=()=>{},zT=(e,t=Vp)=>(e.catch(t),e),BT=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ul=e=>{if(e.aborted)throw new ex(e.reason)};function $T(e,t){let r=Vp;return new Promise((n,i)=>{const l=()=>i(new ex(e.reason));if(e.aborted){l();return}r=BT(e,l),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Vp})}var NH=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof ex?"cancelled":"rejected",error:r}}finally{t?.()}},Gp=e=>t=>zT($T(e,t).then(r=>(Ul(e),r))),HT=e=>{const t=Gp(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:uc}=Object,gk={},tx="listenerMiddleware",jH=(e,t)=>{const r=n=>BT(e,()=>n.abort(e.reason));return(n,i)=>{Q1(n);const l=new AbortController;r(l);const c=NH(async()=>{Ul(e),Ul(l.signal);const u=await n({pause:Gp(l.signal),delay:HT(l.signal),signal:l.signal});return Ul(l.signal),u},()=>l.abort(yH));return i?.autoJoin&&t.push(c.catch(Vp)),{result:Gp(e)(c),cancel(){l.abort(bH)}}}},SH=(e,t)=>{const r=async(n,i)=>{Ul(t);let l=()=>{};const u=[new Promise((f,m)=>{let p=e({predicate:n,effect:(x,v)=>{v.unsubscribe(),f([x,v.getState(),v.getOriginalState()])}});l=()=>{p(),m()}})];i!=null&&u.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await $T(t,Promise.race(u));return Ul(t),f}finally{l()}};return(n,i)=>zT(r(n,i))},qT=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:l}=e;if(t)i=ua(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(qn(21));return Q1(l),{predicate:i,type:t,effect:l}},UT=uc(e=>{const{type:t,predicate:r,effect:n}=qT(e);return{id:oH(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(qn(22))}}},{withTypes:()=>UT}),bk=(e,t)=>{const{type:r,effect:n,predicate:i}=qT(t);return Array.from(e.values()).find(l=>(typeof r=="string"?l.type===r:l.predicate===i)&&l.effect===n)},Dy=e=>{e.pending.forEach(t=>{t.abort(Ey)})},CH=(e,t)=>()=>{for(const r of t.keys())Dy(r);e.clear()},yk=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},YT=uc(ua(`${tx}/add`),{withTypes:()=>YT}),AH=ua(`${tx}/removeAll`),VT=uc(ua(`${tx}/remove`),{withTypes:()=>VT}),kH=(...e)=>{console.error(`${tx}/error`,...e)},zd=(e={})=>{const t=new Map,r=new Map,n=g=>{const j=r.get(g)??0;r.set(g,j+1)},i=g=>{const j=r.get(g)??1;j===1?r.delete(g):r.set(g,j-1)},{extra:l,onError:c=kH}=e;Q1(c);const u=g=>(g.unsubscribe=()=>t.delete(g.id),t.set(g.id,g),j=>{g.unsubscribe(),j?.cancelActive&&Dy(g)}),f=g=>{const j=bk(t,g)??UT(g);return u(j)};uc(f,{withTypes:()=>f});const m=g=>{const j=bk(t,g);return j&&(j.unsubscribe(),g.cancelActive&&Dy(j)),!!j};uc(m,{withTypes:()=>m});const p=async(g,j,y,w)=>{const A=new AbortController,k=SH(f,A.signal),C=[];try{g.pending.add(A),n(g),await Promise.resolve(g.effect(j,uc({},y,{getOriginalState:w,condition:(M,E)=>k(M,E).then(Boolean),take:k,delay:HT(A.signal),pause:Gp(A.signal),extra:l,signal:A.signal,fork:jH(A.signal,C),unsubscribe:g.unsubscribe,subscribe:()=>{t.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((M,E,O)=>{M!==A&&(M.abort(Ey),O.delete(M))})},cancel:()=>{A.abort(Ey),g.pending.delete(A)},throwIfCancelled:()=>{Ul(A.signal)}})))}catch(M){M instanceof ex||yk(c,M,{raisedBy:"effect"})}finally{await Promise.all(C),A.abort(wH),i(g),g.pending.delete(A)}},x=CH(t,r);return{middleware:g=>j=>y=>{if(!wT(y))return j(y);if(YT.match(y))return f(y.payload);if(AH.match(y)){x();return}if(VT.match(y))return m(y.payload);let w=g.getState();const A=()=>{if(w===gk)throw new Error(qn(23));return w};let k;try{if(k=j(y),t.size>0){const C=g.getState(),M=Array.from(t.values());for(const E of M){let O=!1;try{O=E.predicate(y,C,w)}catch(P){O=!1,yk(c,P,{raisedBy:"predicate"})}O&&p(E,y,g,A)}}}finally{w=gk}return k},startListening:f,stopListening:m,clearListeners:x}};function qn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var MH={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},GT=An({name:"chartLayout",initialState:MH,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,l;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(l=t.payload.left)!==null&&l!==void 0?l:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:EH,setLayout:DH,setChartSize:_H,setScale:OH}=GT.actions,TH=GT.reducer;function WT(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function zt(e){return Number.isFinite(e)}function Ws(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function wk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ic(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wk(Object(r),!0).forEach(function(n){PH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PH(e,t,r){return(t=IH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IH(e){var t=RH(e,"string");return typeof t=="symbol"?t:t+""}function RH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vr(e,t,r){return Yn(e)||Yn(t)?r:Gi(t)?pd(e,t,r):typeof t=="function"?t(e):r}var LH=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:l,verticalAlign:c,layout:u}=t;if((u==="vertical"||u==="horizontal"&&c==="middle")&&l!=="center"&&at(e[l]))return ic(ic({},e),{},{[l]:e[l]+(n||0)});if((u==="horizontal"||u==="vertical"&&l==="center")&&c!=="middle"&&at(e[c]))return ic(ic({},e),{},{[c]:e[c]+(i||0)})}return e},Js=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",FH=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var l=0,c=0,u=0;u<r;++u){var f=e[u],m=f?.[i];if(m!=null){var p=m[1],x=m[0],v=Vi(p)?x:p;v>=0?(m[0]=l,l+=v,m[1]=l):(m[0]=c,c+=v,m[1]=c)}}}},zH=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var l=0,c=0;c<r;++c){var u=e[c],f=u?.[i];if(f!=null){var m=Vi(f[1])?f[0]:f[1];m>=0?(f[0]=l,l+=m,f[1]=l):(f[0]=0,f[1]=0)}}}},BH={sign:FH,expand:f9,none:Zl,silhouette:m9,wiggle:p9,positive:zH},$H=(e,t,r)=>{var n,i=(n=BH[r])!==null&&n!==void 0?n:Zl,l=d9().keys(t).value((u,f)=>Number(vr(u,f,0))).order(by).offset(i),c=l(e);return c.forEach((u,f)=>{u.forEach((m,p)=>{var x=vr(e[p],t[f],0);Array.isArray(x)&&x.length===2&&at(x[0])&&at(x[1])&&(m[0]=x[0],m[1]=x[1])})}),c},HH=e=>{var t=e.flat(2).filter(at);return[Math.min(...t),Math.max(...t)]},qH=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],UH=(e,t,r)=>{if(e!=null)return qH(Object.keys(e).reduce((n,i)=>{var l=e[i];if(!l)return n;var{stackedData:c}=l,u=c.reduce((f,m)=>{var p=WT(m,t,r),x=HH(p);return!zt(x[0])||!zt(x[1])?f:[Math.min(f[0],x[0]),Math.max(f[1],x[1])]},[1/0,-1/0]);return[Math.min(u[0],n[0]),Math.max(u[1],n[1])]},[1/0,-1/0]))},Nk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Sk=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();return n}if(e&&t&&t.length>=2){for(var i=Vh(t,p=>p.coordinate),l=1/0,c=1,u=i.length;c<u;c++){var f=i[c],m=i[c-1];l=Math.min((f?.coordinate||0)-(m?.coordinate||0),l)}return l===1/0?0:l}return r?void 0:0};function Ck(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:l}=e;return ic(ic({},t),{},{dataKey:r,payload:n,value:i,name:l})}function KT(e,t){if(e)return String(e);if(typeof t=="string")return t}var YH=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},VH=(e,t)=>t==="centric"?e.angle:e.radius,rs=e=>e.layout.width,ns=e=>e.layout.height,GH=e=>e.layout.scale,QT=e=>e.layout.margin,rx=de(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),nx=de(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),XT="data-recharts-item-index",ZT="data-recharts-item-id",Bd=60;function Ak(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function km(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ak(Object(r),!0).forEach(function(n){WH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ak(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WH(e,t,r){return(t=KH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KH(e){var t=QH(e,"string");return typeof t=="symbol"?t:t+""}function QH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XH=e=>e.brush.height;function ZH(e){var t=nx(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Bd;return r+i}return r},0)}function JH(e){var t=nx(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Bd;return r+i}return r},0)}function eq(e){var t=rx(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function tq(e){var t=rx(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var qr=de([rs,ns,QT,XH,ZH,JH,eq,tq,gT,_7],(e,t,r,n,i,l,c,u,f,m)=>{var p={left:(r.left||0)+i,right:(r.right||0)+l},x={top:(r.top||0)+c,bottom:(r.bottom||0)+u},v=km(km({},x),p),g=v.bottom;v.bottom+=n,v=LH(v,f,m);var j=e-v.left-v.right,y=t-v.top-v.bottom;return km(km({brushBottom:g},v),{},{width:Math.max(j,0),height:Math.max(y,0)})}),rq=de(qr,e=>({x:e.left,y:e.top,width:e.width,height:e.height}));de(rs,ns,(e,t)=>({x:0,y:0,width:e,height:t}));var nq=N.createContext(null),el=()=>N.useContext(nq)!=null,ax=e=>e.brush,ix=de([ax,qr,QT],(e,t,r)=>({height:e.height,x:at(e.x)?e.x:t.left,y:at(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:at(e.width)?e.width:t.width})),ib={},sb={},lb={},kk;function aq(){return kk||(kk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:l}={}){let c,u=null;const f=l!=null&&l.includes("leading"),m=l==null||l.includes("trailing"),p=()=>{u!==null&&(r.apply(c,u),c=void 0,u=null)},x=()=>{m&&p(),y()};let v=null;const g=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,x()},n)},j=()=>{v!==null&&(clearTimeout(v),v=null)},y=()=>{j(),c=void 0,u=null},w=()=>{p()},A=function(...k){if(i?.aborted)return;c=this,u=k;const C=v==null;g(),f&&C&&p()};return A.schedule=g,A.cancel=y,A.flush=w,i?.addEventListener("abort",y,{once:!0}),A}e.debounce=t})(lb)),lb}var Mk;function iq(){return Mk||(Mk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aq();function r(n,i=0,l={}){typeof l!="object"&&(l={});const{leading:c=!1,trailing:u=!0,maxWait:f}=l,m=Array(2);c&&(m[0]="leading"),u&&(m[1]="trailing");let p,x=null;const v=t.debounce(function(...y){p=n.apply(this,y),x=null},i,{edges:m}),g=function(...y){return f!=null&&(x===null&&(x=Date.now()),Date.now()-x>=f)?(p=n.apply(this,y),x=Date.now(),v.cancel(),v.schedule(),p):(v.apply(this,y),p)},j=()=>(v.flush(),p);return g.cancel=v.cancel,g.flush=j,g}e.debounce=r})(sb)),sb}var Ek;function sq(){return Ek||(Ek=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iq();function r(n,i=0,l={}){const{leading:c=!0,trailing:u=!0}=l;return t.debounce(n,i,{leading:c,maxWait:i,trailing:u})}e.throttle=r})(ib)),ib}var ob,Dk;function lq(){return Dk||(Dk=1,ob=sq().throttle),ob}var oq=lq();const cq=ci(oq);var _k=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),l=2;l<n;l++)i[l-2]=arguments[l];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(r.replace(/%s/g,()=>i[c++]))}},Za={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},JT=(e,t,r)=>{var{width:n=Za.width,height:i=Za.height,aspect:l,maxHeight:c}=r,u=Jl(n)?e:Number(n),f=Jl(i)?t:Number(i);return l&&l>0&&(u?f=u/l:f&&(u=f*l),c&&f!=null&&f>c&&(f=c)),{calculatedWidth:u,calculatedHeight:f}},uq={width:0,height:0,overflow:"visible"},dq={width:0,overflowX:"visible"},fq={height:0,overflowY:"visible"},mq={},pq=e=>{var{width:t,height:r}=e,n=Jl(t),i=Jl(r);return n&&i?uq:n?dq:i?fq:mq};function hq(e){var{width:t,height:r,aspect:n}=e,i=t,l=r;return i===void 0&&l===void 0?(i=Za.width,l=Za.height):i===void 0?i=n&&n>0?void 0:Za.width:l===void 0&&(l=n&&n>0?void 0:Za.height),{width:i,height:l}}function _y(){return _y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_y.apply(null,arguments)}function Ok(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ok(Object(r),!0).forEach(function(n){xq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ok(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xq(e,t,r){return(t=vq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vq(e){var t=gq(e,"string");return typeof t=="symbol"?t:t+""}function gq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eP=N.createContext(Za.initialDimension);function bq(e){return Ws(e.width)&&Ws(e.height)}function tP(e){var{children:t,width:r,height:n}=e,i=N.useMemo(()=>({width:r,height:n}),[r,n]);return bq(i)?N.createElement(eP.Provider,{value:i},t):null}var X1=()=>N.useContext(eP),yq=N.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=Za.initialDimension,width:i,height:l,minWidth:c=Za.minWidth,minHeight:u,maxHeight:f,children:m,debounce:p=Za.debounce,id:x,className:v,onResize:g,style:j={}}=e,y=N.useRef(null),w=N.useRef();w.current=g,N.useImperativeHandle(t,()=>y.current);var[A,k]=N.useState({containerWidth:n.width,containerHeight:n.height}),C=N.useCallback((T,$)=>{k(L=>{var H=Math.round(T),D=Math.round($);return L.containerWidth===H&&L.containerHeight===D?L:{containerWidth:H,containerHeight:D}})},[]);N.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return Ld;var T=D=>{var Z,K=D[0];if(K!=null){var{width:J,height:R}=K.contentRect;C(J,R),(Z=w.current)===null||Z===void 0||Z.call(w,J,R)}};p>0&&(T=cq(T,p,{trailing:!0,leading:!1}));var $=new ResizeObserver(T),{width:L,height:H}=y.current.getBoundingClientRect();return C(L,H),$.observe(y.current),()=>{$.disconnect()}},[C,p]);var{containerWidth:M,containerHeight:E}=A;_k(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:O,calculatedHeight:P}=JT(M,E,{width:i,height:l,aspect:r,maxHeight:f});return _k(O!=null&&O>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,P,i,l,c,u,r),N.createElement("div",{id:x?"".concat(x):void 0,className:dt("recharts-responsive-container",v),style:Tk(Tk({},j),{},{width:i,height:l,minWidth:c,minHeight:u,maxHeight:f}),ref:y},N.createElement("div",{style:pq({width:i,height:l})},N.createElement(tP,{width:O,height:P},m)))}),Z1=N.forwardRef((e,t)=>{var r=X1();if(Ws(r.width)&&Ws(r.height))return e.children;var{width:n,height:i}=hq({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:l,calculatedHeight:c}=JT(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return at(l)&&at(c)?N.createElement(tP,{width:l,height:c},e.children):N.createElement(yq,_y({},e,{width:n,height:i,ref:t}))});function J1(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var sx=()=>{var e,t=el(),r=ct(rq),n=ct(ix),i=(e=ct(ax))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},wq={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Nq=()=>{var e;return(e=ct(qr))!==null&&e!==void 0?e:wq},jq=()=>ct(rs),Sq=()=>ct(ns),sr=e=>e.layout.layoutType,lx=()=>ct(sr),rP=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},Cq=()=>{var e=lx();return e!==void 0},$d=e=>{var t=Lr(),r=el(),{width:n,height:i}=e,l=X1(),c=n,u=i;return l&&(c=l.width>0?l.width:n,u=l.height>0?l.height:i),N.useEffect(()=>{!r&&Ws(c)&&Ws(u)&&t(_H({width:c,height:u}))},[t,r,c,u]),null},nP=Symbol.for("immer-nothing"),Pk=Symbol.for("immer-draftable"),Vn=Symbol.for("immer-state");function Na(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var bd=Object.getPrototypeOf;function bc(e){return!!e&&!!e[Vn]}function to(e){return e?aP(e)||Array.isArray(e)||!!e[Pk]||!!e.constructor?.[Pk]||Hd(e)||cx(e):!1}var Aq=Object.prototype.constructor.toString(),Ik=new WeakMap;function aP(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=Ik.get(r);return n===void 0&&(n=Function.toString.call(r),Ik.set(r,n)),n===Aq}function Wp(e,t,r=!0){ox(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function ox(e){const t=e[Vn];return t?t.type_:Array.isArray(e)?1:Hd(e)?2:cx(e)?3:0}function Oy(e,t){return ox(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function iP(e,t,r){const n=ox(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function kq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Hd(e){return e instanceof Map}function cx(e){return e instanceof Set}function Tl(e){return e.copy_||e.base_}function Ty(e,t){if(Hd(e))return new Map(e);if(cx(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=aP(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Vn];let i=Reflect.ownKeys(n);for(let l=0;l<i.length;l++){const c=i[l],u=n[c];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[c]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[c]})}return Object.create(bd(e),n)}else{const n=bd(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function ew(e,t=!1){return ux(e)||bc(e)||!to(e)||(ox(e)>1&&Object.defineProperties(e,{set:Mm,add:Mm,clear:Mm,delete:Mm}),Object.freeze(e),t&&Object.values(e).forEach(r=>ew(r,!0))),e}function Mq(){Na(2)}var Mm={value:Mq};function ux(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Eq={};function ro(e){const t=Eq[e];return t||Na(0,e),t}var yd;function sP(){return yd}function Dq(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Rk(e,t){t&&(ro("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Py(e){Iy(e),e.drafts_.forEach(_q),e.drafts_=null}function Iy(e){e===yd&&(yd=e.parent_)}function Lk(e){return yd=Dq(yd,e)}function _q(e){const t=e[Vn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Fk(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Vn].modified_&&(Py(t),Na(4)),to(e)&&(e=Kp(t,e),t.parent_||Qp(t,e)),t.patches_&&ro("Patches").generateReplacementPatches_(r[Vn].base_,e,t.patches_,t.inversePatches_)):e=Kp(t,r,[]),Py(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==nP?e:void 0}function Kp(e,t,r){if(ux(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[Vn];if(!i)return Wp(t,(l,c)=>zk(e,i,t,l,c,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return Qp(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const l=i.copy_;let c=l,u=!1;i.type_===3&&(c=new Set(l),l.clear(),u=!0),Wp(c,(f,m)=>zk(e,i,l,f,m,r,u),n),Qp(e,l,!1),r&&e.patches_&&ro("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function zk(e,t,r,n,i,l,c){if(i==null||typeof i!="object"&&!c)return;const u=ux(i);if(!(u&&!c)){if(bc(i)){const f=l&&t&&t.type_!==3&&!Oy(t.assigned_,n)?l.concat(n):void 0,m=Kp(e,i,f);if(iP(r,n,m),bc(m))e.canAutoFreeze_=!1;else return}else c&&r.add(i);if(to(i)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&u)return;Kp(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Hd(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Qp(e,i)}}}function Qp(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ew(t,r)}function Oq(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:sP(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,l=tw;r&&(i=[n],l=wd);const{revoke:c,proxy:u}=Proxy.revocable(i,l);return n.draft_=u,n.revoke_=c,u}var tw={get(e,t){if(t===Vn)return e;const r=Tl(e);if(!Oy(r,t))return Tq(e,r,t);const n=r[t];return e.finalized_||!to(n)?n:n===cb(e.base_,t)?(ub(e),e.copy_[t]=Ly(n,e)):n},has(e,t){return t in Tl(e)},ownKeys(e){return Reflect.ownKeys(Tl(e))},set(e,t,r){const n=lP(Tl(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=cb(Tl(e),t),l=i?.[Vn];if(l&&l.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(kq(r,i)&&(r!==void 0||Oy(e.base_,t)))return!0;ub(e),Ry(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return cb(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ub(e),Ry(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Tl(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Na(11)},getPrototypeOf(e){return bd(e.base_)},setPrototypeOf(){Na(12)}},wd={};Wp(tw,(e,t)=>{wd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});wd.deleteProperty=function(e,t){return wd.set.call(this,e,t,void 0)};wd.set=function(e,t,r){return tw.set.call(this,e[0],t,r,e[0])};function cb(e,t){const r=e[Vn];return(r?Tl(r):e)[t]}function Tq(e,t,r){const n=lP(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function lP(e,t){if(!(t in e))return;let r=bd(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=bd(r)}}function Ry(e){e.modified_||(e.modified_=!0,e.parent_&&Ry(e.parent_))}function ub(e){e.copy_||(e.copy_=Ty(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Pq=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const l=r;r=t;const c=this;return function(f=l,...m){return c.produce(f,p=>r.call(this,p,...m))}}typeof r!="function"&&Na(6),n!==void 0&&typeof n!="function"&&Na(7);let i;if(to(t)){const l=Lk(this),c=Ly(t,void 0);let u=!0;try{i=r(c),u=!1}finally{u?Py(l):Iy(l)}return Rk(l,n),Fk(i,l)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===nP&&(i=void 0),this.autoFreeze_&&ew(i,!0),n){const l=[],c=[];ro("Patches").generateReplacementPatches_(t,i,l,c),n(l,c)}return i}else Na(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...u)=>this.produceWithPatches(c,f=>t(f,...u));let n,i;return[this.produce(t,r,(c,u)=>{n=c,i=u}),n,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){to(e)||Na(8),bc(e)&&(e=Iq(e));const t=Lk(this),r=Ly(e,void 0);return r[Vn].isManual_=!0,Iy(t),r}finishDraft(e,t){const r=e&&e[Vn];(!r||!r.isManual_)&&Na(9);const{scope_:n}=r;return Rk(n,t),Fk(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=ro("Patches").applyPatches_;return bc(e)?n(e,t):this.produce(e,i=>n(i,t))}};function Ly(e,t){const r=Hd(e)?ro("MapSet").proxyMap_(e,t):cx(e)?ro("MapSet").proxySet_(e,t):Oq(e,t);return(t?t.scope_:sP()).drafts_.push(r),r}function Iq(e){return bc(e)||Na(10,e),oP(e)}function oP(e){if(!to(e)||ux(e))return e;const t=e[Vn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Ty(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Ty(e,!0);return Wp(r,(i,l)=>{iP(r,i,oP(l))},n),t&&(t.finalized_=!1),r}var Rq=new Pq;Rq.produce;var Lq={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},cP=An({name:"legend",initialState:Lq,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:nr()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Ca(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:nr()},removeLegendPayload:{reducer(e,t){var r=Ca(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:nr()}}}),{setLegendSize:xce,setLegendSettings:vce,addLegendPayload:Fq,replaceLegendPayload:zq,removeLegendPayload:Bq}=cP.actions,$q=cP.reducer;function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fy.apply(null,arguments)}function Bk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bk(Object(r),!0).forEach(function(n){Hq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hq(e,t,r){return(t=qq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qq(e){var t=Uq(e,"string");return typeof t=="symbol"?t:t+""}function Uq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yq(e){return Array.isArray(e)&&Gi(e[0])&&Gi(e[1])?e.join(" ~ "):e}var Go={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},Vq=e=>{var{separator:t=Go.separator,contentStyle:r,itemStyle:n,labelStyle:i=Go.labelStyle,payload:l,formatter:c,itemSorter:u,wrapperClassName:f,labelClassName:m,label:p,labelFormatter:x,accessibilityLayer:v=Go.accessibilityLayer}=e,g=()=>{if(l&&l.length){var E={padding:0,margin:0},O=(u?Vh(l,u):l).map((P,T)=>{if(P.type==="none")return null;var $=P.formatter||c||Yq,{value:L,name:H}=P,D=L,Z=H;if($){var K=$(L,H,P,T,l);if(Array.isArray(K))[D,Z]=K;else if(K!=null)D=K;else return null}var J=qu(qu({},Go.itemStyle),{},{color:P.color||Go.itemStyle.color},n);return N.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:J},Gi(Z)?N.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,Gi(Z)?N.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,N.createElement("span",{className:"recharts-tooltip-item-value"},D),N.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return N.createElement("ul",{className:"recharts-tooltip-item-list",style:E},O)}return null},j=qu(qu({},Go.contentStyle),r),y=qu({margin:0},i),w=!Yn(p),A=w?p:"",k=dt("recharts-default-tooltip",f),C=dt("recharts-tooltip-label",m);w&&x&&l!==void 0&&l!==null&&(A=x(p,l));var M=v?{role:"status","aria-live":"assertive"}:{};return N.createElement("div",Fy({className:k,style:j},M),N.createElement("p",{className:C,style:y},N.isValidElement(A)?A:"".concat(A)),g())},Uu="recharts-tooltip-wrapper",Gq={visibility:"hidden"};function Wq(e){var{coordinate:t,translateX:r,translateY:n}=e;return dt(Uu,{["".concat(Uu,"-right")]:at(r)&&t&&at(t.x)&&r>=t.x,["".concat(Uu,"-left")]:at(r)&&t&&at(t.x)&&r<t.x,["".concat(Uu,"-bottom")]:at(n)&&t&&at(t.y)&&n>=t.y,["".concat(Uu,"-top")]:at(n)&&t&&at(t.y)&&n<t.y})}function $k(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:i,position:l,reverseDirection:c,tooltipDimension:u,viewBox:f,viewBoxDimension:m}=e;if(l&&at(l[n]))return l[n];var p=r[n]-u-(i>0?i:0),x=r[n]+i;if(t[n])return c[n]?p:x;var v=f[n];if(v==null)return 0;if(c[n]){var g=p,j=v;return g<j?Math.max(x,v):Math.max(p,v)}if(m==null)return 0;var y=x+u,w=v+m;return y>w?Math.max(p,v):Math.max(x,v)}function Kq(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Qq(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:i,position:l,reverseDirection:c,tooltipBox:u,useTranslate3d:f,viewBox:m}=e,p,x,v;return u.height>0&&u.width>0&&r?(x=$k({allowEscapeViewBox:t,coordinate:r,key:"x",offset:i,position:l,reverseDirection:c,tooltipDimension:u.width,viewBox:m,viewBoxDimension:m.width}),v=$k({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:l,reverseDirection:c,tooltipDimension:u.height,viewBox:m,viewBoxDimension:m.height}),p=Kq({translateX:x,translateY:v,useTranslate3d:f})):p=Gq,{cssProperties:p,cssClasses:Wq({translateX:x,translateY:v,coordinate:r})}}function Hk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Em(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hk(Object(r),!0).forEach(function(n){zy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zy(e,t,r){return(t=Xq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xq(e){var t=Zq(e,"string");return typeof t=="symbol"?t:t+""}function Zq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Jq extends N.PureComponent{constructor(){super(...arguments),zy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),zy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,l;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:l,coordinate:c,hasPayload:u,isAnimationActive:f,offset:m,position:p,reverseDirection:x,useTranslate3d:v,viewBox:g,wrapperStyle:j,lastBoundingBox:y,innerRef:w,hasPortalFromProps:A}=this.props,k=typeof m=="number"?m:m.x,C=typeof m=="number"?m:m.y,{cssClasses:M,cssProperties:E}=Qq({allowEscapeViewBox:r,coordinate:c,offsetLeft:k,offsetTop:C,position:p,reverseDirection:x,tooltipBox:{height:y.height,width:y.width},useTranslate3d:v,viewBox:g}),O=A?{}:Em(Em({transition:f&&t?"transform ".concat(n,"ms ").concat(i):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),P=Em(Em({},O),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},j);return N.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:M,style:P,ref:w},l)}}var uP=()=>{var e;return(e=ct(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},By.apply(null,arguments)}function qk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Uk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qk(Object(r),!0).forEach(function(n){eU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eU(e,t,r){return(t=tU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tU(e){var t=rU(e,"string");return typeof t=="symbol"?t:t+""}function rU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yk={curveBasisClosed:e9,curveBasisOpen:t9,curveBasis:J$,curveBumpX:z$,curveBumpY:B$,curveLinearClosed:r9,curveLinear:Uh,curveMonotoneX:n9,curveMonotoneY:a9,curveNatural:i9,curveStep:s9,curveStepAfter:o9,curveStepBefore:l9},Xp=e=>zt(e.x)&&zt(e.y),Vk=e=>e.base!=null&&Xp(e.base)&&Xp(e),Yu=e=>e.x,Vu=e=>e.y,nU=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Rd(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=Yk["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return Yk[r]||Uh},Gk={connectNulls:!1,type:"linear"},aU=e=>{var{type:t=Gk.type,points:r=[],baseLine:n,layout:i,connectNulls:l=Gk.connectNulls}=e,c=nU(t,i),u=l?r.filter(Xp):r;if(Array.isArray(n)){var f,m=r.map((j,y)=>Uk(Uk({},j),{},{base:n[y]}));i==="vertical"?f=wm().y(Vu).x1(Yu).x0(j=>j.base.x):f=wm().x(Yu).y1(Vu).y0(j=>j.base.y);var p=f.defined(Vk).curve(c),x=l?m.filter(Vk):m;return p(x)}var v;i==="vertical"&&at(n)?v=wm().y(Vu).x1(Yu).x0(n):at(n)?v=wm().x(Yu).y1(Vu).y0(n):v=YO().x(Yu).y(Vu);var g=v.defined(Xp).curve(c);return g(u)},rw=e=>{var{className:t,points:r,path:n,pathRef:i}=e,l=lx();if((!r||!r.length)&&!n)return null;var c={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||l,connectNulls:e.connectNulls},u=r&&r.length?aU(c):n;return N.createElement("path",By({},vc(e),O9(e),{className:dt("recharts-curve",t),d:u===null?void 0:u,ref:i}))},iU=["x","y","top","left","width","height","className"];function $y(){return $y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$y.apply(null,arguments)}function Wk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wk(Object(r),!0).forEach(function(n){lU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lU(e,t,r){return(t=oU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oU(e){var t=cU(e,"string");return typeof t=="symbol"?t:t+""}function cU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uU(e,t){if(e==null)return{};var r,n,i=dU(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function dU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var fU=(e,t,r,n,i,l)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(l,",").concat(t,"h").concat(r),mU=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:l=0,height:c=0,className:u}=e,f=uU(e,iU),m=sU({x:t,y:r,top:n,left:i,width:l,height:c},f);return!at(t)||!at(r)||!at(l)||!at(c)||!at(n)||!at(i)?null:N.createElement("path",$y({},ca(m),{className:dt("recharts-cross",u),d:fU(t,r,l,c,n,i)}))};function pU(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Kk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kk(Object(r),!0).forEach(function(n){hU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hU(e,t,r){return(t=xU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xU(e){var t=vU(e,"string");return typeof t=="symbol"?t:t+""}function vU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gU=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),dP=(e,t,r)=>e.map(n=>"".concat(gU(n)," ").concat(t,"ms ").concat(r)).join(","),bU=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Nd=(e,t)=>Object.keys(t).reduce((r,n)=>Qk(Qk({},r),{},{[n]:e(n,t[n])}),{});function Xk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xk(Object(r),!0).forEach(function(n){yU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yU(e,t,r){return(t=wU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wU(e){var t=NU(e,"string");return typeof t=="symbol"?t:t+""}function NU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zp=(e,t,r)=>e+(t-e)*r,Hy=e=>{var{from:t,to:r}=e;return t!==r},fP=(e,t,r)=>{var n=Nd((i,l)=>{if(Hy(l)){var[c,u]=e(l.from,l.to,l.velocity);return Rr(Rr({},l),{},{from:c,velocity:u})}return l},t);return r<1?Nd((i,l)=>Hy(l)&&n[i]!=null?Rr(Rr({},l),{},{velocity:Zp(l.velocity,n[i].velocity,r),from:Zp(l.from,n[i].from,r)}):l,t):fP(e,n,r-1)};function jU(e,t,r,n,i,l){var c,u=n.reduce((v,g)=>Rr(Rr({},v),{},{[g]:{from:e[g],velocity:0,to:t[g]}}),{}),f=()=>Nd((v,g)=>g.from,u),m=()=>!Object.values(u).filter(Hy).length,p=null,x=v=>{c||(c=v);var g=v-c,j=g/r.dt;u=fP(r,u,j),i(Rr(Rr(Rr({},e),t),f())),c=v,m()||(p=l.setTimeout(x))};return()=>(p=l.setTimeout(x),()=>{var v;(v=p)===null||v===void 0||v()})}function SU(e,t,r,n,i,l,c){var u=null,f=i.reduce((x,v)=>{var g=e[v],j=t[v];return g==null||j==null?x:Rr(Rr({},x),{},{[v]:[g,j]})},{}),m,p=x=>{m||(m=x);var v=(x-m)/n,g=Nd((y,w)=>Zp(...w,r(v)),f);if(l(Rr(Rr(Rr({},e),t),g)),v<1)u=c.setTimeout(p);else{var j=Nd((y,w)=>Zp(...w,r(1)),f);l(Rr(Rr(Rr({},e),t),j))}};return()=>(u=c.setTimeout(p),()=>{var x;(x=u)===null||x===void 0||x()})}const CU=(e,t,r,n,i,l)=>{var c=bU(e,t);return r==null?()=>(i(Rr(Rr({},e),t)),()=>{}):r.isStepper===!0?jU(e,t,r,c,i,l):SU(e,t,r,n,c,i,l)};var Jp=1e-4,mP=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],pP=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Zk=(e,t)=>r=>{var n=mP(e,t);return pP(n,r)},AU=(e,t)=>r=>{var n=mP(e,t),i=[...n.map((l,c)=>l*c).slice(1),0];return pP(i,r)},kU=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var i=n.map(l=>parseFloat(l));return[i[0],i[1],i[2],i[3]]},MU=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=kU(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},EU=(e,t,r,n)=>{var i=Zk(e,r),l=Zk(t,n),c=AU(e,r),u=m=>m>1?1:m<0?0:m,f=m=>{for(var p=m>1?1:m,x=p,v=0;v<8;++v){var g=i(x)-p,j=c(x);if(Math.abs(g-p)<Jp||j<Jp)return l(x);x=u(x-g/j)}return l(x)};return f.isStepper=!1,f},Jk=function(){return EU(...MU(...arguments))},DU=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,l=(c,u,f)=>{var m=-(c-u)*r,p=f*n,x=f+(m-p)*i/1e3,v=f*i/1e3+c;return Math.abs(v-u)<Jp&&Math.abs(x)<Jp?[u,0]:[v,x]};return l.isStepper=!0,l.dt=i,l},_U=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Jk(e);case"spring":return DU();default:if(e.split("(")[0]==="cubic-bezier")return Jk(e)}return typeof e=="function"?e:null};function OU(e){var t,r=()=>null,n=!1,i=null,l=c=>{if(!n){if(Array.isArray(c)){if(!c.length)return;var u=c,[f,...m]=u;if(typeof f=="number"){i=e.setTimeout(l.bind(null,m),f);return}l(f),i=e.setTimeout(l.bind(null,m));return}typeof c=="string"&&(t=c,r(t)),typeof c=="object"&&(t=c,r(t)),typeof c=="function"&&c()}};return{stop:()=>{n=!0},start:c=>{n=!1,i&&(i(),i=null),l(c)},subscribe:c=>(r=c,()=>{r=()=>null}),getTimeoutController:()=>e}}class TU{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,l=c=>{c-n>=r?t(c):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(l))};return i=requestAnimationFrame(l),()=>{i!=null&&cancelAnimationFrame(i)}}}function PU(){return OU(new TU)}var IU=N.createContext(PU);function RU(e,t){var r=N.useContext(IU);return N.useMemo(()=>t??r(e),[e,t,r])}var LU=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),nw={isSsr:LU()},FU={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},eM={t:0},db={t:1};function aw(e){var t=fi(e,FU),{isActive:r,canBegin:n,duration:i,easing:l,begin:c,onAnimationEnd:u,onAnimationStart:f,children:m}=t,p=r==="auto"?!nw.isSsr:r,x=RU(t.animationId,t.animationManager),[v,g]=N.useState(p?eM:db),j=N.useRef(null);return N.useEffect(()=>{p||g(db)},[p]),N.useEffect(()=>{if(!p||!n)return Ld;var y=CU(eM,db,_U(l),i,g,x.getTimeoutController()),w=()=>{j.current=y()};return x.start([f,c,w,i,u]),()=>{x.stop(),j.current&&j.current(),u()}},[p,n,i,l,c,f,u,x]),m(v.t)}function iw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=N.useRef(hd(t)),n=N.useRef(e);return n.current!==e&&(r.current=hd(t),n.current=e),r.current}var zU=["radius"],BU=["radius"],tM,rM,nM,aM,iM,sM,lM,oM,cM,uM;function dM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dM(Object(r),!0).forEach(function(n){$U(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $U(e,t,r){return(t=HU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HU(e){var t=qU(e,"string");return typeof t=="symbol"?t:t+""}function qU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eh(){return eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eh.apply(null,arguments)}function mM(e,t){if(e==null)return{};var r,n,i=UU(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function UU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function qa(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var pM=(e,t,r,n,i)=>{var l=Bs(r),c=Bs(n),u=Math.min(Math.abs(l)/2,Math.abs(c)/2),f=c>=0?1:-1,m=l>=0?1:-1,p=c>=0&&l>=0||c<0&&l<0?1:0,x;if(u>0&&Array.isArray(i)){for(var v=[0,0,0,0],g=0,j=4;g<j;g++){var y,w=(y=i[g])!==null&&y!==void 0?y:0;v[g]=w>u?u:w}x=pr(tM||(tM=qa(["M",",",""])),e,t+f*v[0]),v[0]>0&&(x+=pr(rM||(rM=qa(["A ",",",",0,0,",",",",",""])),v[0],v[0],p,e+m*v[0],t)),x+=pr(nM||(nM=qa(["L ",",",""])),e+r-m*v[1],t),v[1]>0&&(x+=pr(aM||(aM=qa(["A ",",",",0,0,",`,
        `,",",""])),v[1],v[1],p,e+r,t+f*v[1])),x+=pr(iM||(iM=qa(["L ",",",""])),e+r,t+n-f*v[2]),v[2]>0&&(x+=pr(sM||(sM=qa(["A ",",",",0,0,",`,
        `,",",""])),v[2],v[2],p,e+r-m*v[2],t+n)),x+=pr(lM||(lM=qa(["L ",",",""])),e+m*v[3],t+n),v[3]>0&&(x+=pr(oM||(oM=qa(["A ",",",",0,0,",`,
        `,",",""])),v[3],v[3],p,e,t+n-f*v[3])),x+="Z"}else if(u>0&&i===+i&&i>0){var A=Math.min(u,i);x=pr(cM||(cM=qa(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+f*A,A,A,p,e+m*A,t,e+r-m*A,t,A,A,p,e+r,t+f*A,e+r,t+n-f*A,A,A,p,e+r-m*A,t+n,e+m*A,t+n,A,A,p,e,t+n-f*A)}else x=pr(uM||(uM=qa(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return x},hM={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hP=e=>{var t=fi(e,hM),r=N.useRef(null),[n,i]=N.useState(-1);N.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var G=r.current.getTotalLength();G&&i(G)}catch{}},[]);var{x:l,y:c,width:u,height:f,radius:m,className:p}=t,{animationEasing:x,animationDuration:v,animationBegin:g,isAnimationActive:j,isUpdateAnimationActive:y}=t,w=N.useRef(u),A=N.useRef(f),k=N.useRef(l),C=N.useRef(c),M=N.useMemo(()=>({x:l,y:c,width:u,height:f,radius:m}),[l,c,u,f,m]),E=iw(M,"rectangle-");if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var O=dt("recharts-rectangle",p);if(!y){var P=ca(t),{radius:T}=P,$=mM(P,zU);return N.createElement("path",eh({},$,{x:Bs(l),y:Bs(c),width:Bs(u),height:Bs(f),radius:typeof m=="number"?m:void 0,className:O,d:pM(l,c,u,f,m)}))}var L=w.current,H=A.current,D=k.current,Z=C.current,K="0px ".concat(n===-1?1:n,"px"),J="".concat(n,"px 0px"),R=dP(["strokeDasharray"],v,typeof x=="string"?x:hM.animationEasing);return N.createElement(aw,{animationId:E,key:E,canBegin:n>0,duration:v,easing:x,isActive:y,begin:g},G=>{var me=ya(L,u,G),we=ya(H,f,G),Ne=ya(D,l,G),F=ya(Z,c,G);r.current&&(w.current=me,A.current=we,k.current=Ne,C.current=F);var ce;j?G>0?ce={transition:R,strokeDasharray:J}:ce={strokeDasharray:K}:ce={strokeDasharray:J};var ee=ca(t),{radius:B}=ee,z=mM(ee,BU);return N.createElement("path",eh({},z,{radius:typeof m=="number"?m:void 0,className:O,d:pM(Ne,F,me,we,m),ref:r,style:fM(fM({},ce),t.style)}))})};function xM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xM(Object(r),!0).forEach(function(n){YU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YU(e,t,r){return(t=VU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VU(e){var t=GU(e,"string");return typeof t=="symbol"?t:t+""}function GU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var th=Math.PI/180,WU=e=>e*180/Math.PI,Or=(e,t,r,n)=>({x:e+Math.cos(-th*n)*r,y:t+Math.sin(-th*n)*r}),xP=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},KU=(e,t)=>{var{x:r,y:n}=e,{x:i,y:l}=t;return Math.sqrt((r-i)**2+(n-l)**2)},QU=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:l}=t,c=KU({x:r,y:n},{x:i,y:l});if(c<=0)return{radius:c,angle:0};var u=(r-i)/c,f=Math.acos(u);return n>l&&(f=2*Math.PI-f),{radius:c,angle:WU(f),angleInRadian:f}},XU=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),l=Math.min(n,i);return{startAngle:t-l*360,endAngle:r-l*360}},ZU=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),l=Math.floor(n/360),c=Math.min(i,l);return e+c*360},JU=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:l}=QU({x:r,y:n},t),{innerRadius:c,outerRadius:u}=t;if(i<c||i>u||i===0)return null;var{startAngle:f,endAngle:m}=XU(t),p=l,x;if(f<=m){for(;p>m;)p-=360;for(;p<f;)p+=360;x=p>=f&&p<=m}else{for(;p>f;)p-=360;for(;p<m;)p+=360;x=p>=m&&p<=f}return x?vM(vM({},t),{},{radius:i,angle:ZU(p,t)}):null};function vP(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:l}=e,c=Or(t,r,n,i),u=Or(t,r,n,l);return{points:[c,u],cx:t,cy:r,radius:n,startAngle:i,endAngle:l}}var gM,bM,yM,wM,NM,jM,SM;function qy(){return qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qy.apply(null,arguments)}function Fl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var eY=(e,t)=>{var r=jn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Dm=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:l,isExternal:c,cornerRadius:u,cornerIsExternal:f}=e,m=u*(c?1:-1)+n,p=Math.asin(u/m)/th,x=f?i:i+l*p,v=Or(t,r,m,x),g=Or(t,r,n,x),j=f?i-l*p:i,y=Or(t,r,m*Math.cos(p*th),j);return{center:v,circleTangency:g,lineTangency:y,theta:p}},gP=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:c}=e,u=eY(l,c),f=l+u,m=Or(t,r,i,l),p=Or(t,r,i,f),x=pr(gM||(gM=Fl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),m.x,m.y,i,i,+(Math.abs(u)>180),+(l>f),p.x,p.y);if(n>0){var v=Or(t,r,n,l),g=Or(t,r,n,f);x+=pr(bM||(bM=Fl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),g.x,g.y,n,n,+(Math.abs(u)>180),+(l<=f),v.x,v.y)}else x+=pr(yM||(yM=Fl(["L ",","," Z"])),t,r);return x},tY=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:m}=e,p=jn(m-f),{circleTangency:x,lineTangency:v,theta:g}=Dm({cx:t,cy:r,radius:i,angle:f,sign:p,cornerRadius:l,cornerIsExternal:u}),{circleTangency:j,lineTangency:y,theta:w}=Dm({cx:t,cy:r,radius:i,angle:m,sign:-p,cornerRadius:l,cornerIsExternal:u}),A=u?Math.abs(f-m):Math.abs(f-m)-g-w;if(A<0)return c?pr(wM||(wM=Fl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),v.x,v.y,l,l,l*2,l,l,-l*2):gP({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:f,endAngle:m});var k=pr(NM||(NM=Fl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),v.x,v.y,l,l,+(p<0),x.x,x.y,i,i,+(A>180),+(p<0),j.x,j.y,l,l,+(p<0),y.x,y.y);if(n>0){var{circleTangency:C,lineTangency:M,theta:E}=Dm({cx:t,cy:r,radius:n,angle:f,sign:p,isExternal:!0,cornerRadius:l,cornerIsExternal:u}),{circleTangency:O,lineTangency:P,theta:T}=Dm({cx:t,cy:r,radius:n,angle:m,sign:-p,isExternal:!0,cornerRadius:l,cornerIsExternal:u}),$=u?Math.abs(f-m):Math.abs(f-m)-E-T;if($<0&&l===0)return"".concat(k,"L").concat(t,",").concat(r,"Z");k+=pr(jM||(jM=Fl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),P.x,P.y,l,l,+(p<0),O.x,O.y,n,n,+($>180),+(p>0),C.x,C.y,l,l,+(p<0),M.x,M.y)}else k+=pr(SM||(SM=Fl(["L",",","Z"])),t,r);return k},rY={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},bP=e=>{var t=fi(e,rY),{cx:r,cy:n,innerRadius:i,outerRadius:l,cornerRadius:c,forceCornerRadius:u,cornerIsExternal:f,startAngle:m,endAngle:p,className:x}=t;if(l<i||m===p)return null;var v=dt("recharts-sector",x),g=l-i,j=Hn(c,g,0,!0),y;return j>0&&Math.abs(m-p)<360?y=tY({cx:r,cy:n,innerRadius:i,outerRadius:l,cornerRadius:Math.min(j,g/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:m,endAngle:p}):y=gP({cx:r,cy:n,innerRadius:i,outerRadius:l,startAngle:m,endAngle:p}),N.createElement("path",qy({},ca(t),{className:v,d:y}))};function nY(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(sT(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:l,outerRadius:c,angle:u}=t,f=Or(n,i,l,u),m=Or(n,i,c,u);return[{x:f.x,y:f.y},{x:m.x,y:m.y}]}return vP(t)}}var fb={},mb={},pb={},CM;function aY(){return CM||(CM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xT();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(pb)),pb}var AM;function iY(){return AM||(AM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aY();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(mb)),mb}var kM;function sY(){return kM||(kM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vT(),r=iY();function n(i,l,c){c&&typeof c!="number"&&t.isIterateeCall(i,l,c)&&(l=c=void 0),i=r.toFinite(i),l===void 0?(l=i,i=0):l=r.toFinite(l),c=c===void 0?i<l?1:-1:r.toFinite(c);const u=Math.max(Math.ceil((l-i)/(c||1)),0),f=new Array(u);for(let m=0;m<u;m++)f[m]=i,i+=c;return f}e.range=n})(fb)),fb}var hb,MM;function lY(){return MM||(MM=1,hb=sY().range),hb}var oY=lY();const yP=ci(oY);function Hs(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cY(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function sw(e){let t,r,n;e.length!==2?(t=Hs,r=(u,f)=>Hs(e(u),f),n=(u,f)=>e(u)-f):(t=e===Hs||e===cY?e:uY,r=e,n=e);function i(u,f,m=0,p=u.length){if(m<p){if(t(f,f)!==0)return p;do{const x=m+p>>>1;r(u[x],f)<0?m=x+1:p=x}while(m<p)}return m}function l(u,f,m=0,p=u.length){if(m<p){if(t(f,f)!==0)return p;do{const x=m+p>>>1;r(u[x],f)<=0?m=x+1:p=x}while(m<p)}return m}function c(u,f,m=0,p=u.length){const x=i(u,f,m,p-1);return x>m&&n(u[x-1],f)>-n(u[x],f)?x-1:x}return{left:i,center:c,right:l}}function uY(){return 0}function wP(e){return e===null?NaN:+e}function*dY(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const fY=sw(Hs),qd=fY.right;sw(wP).center;class EM extends Map{constructor(t,r=hY){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(DM(this,t))}has(t){return super.has(DM(this,t))}set(t,r){return super.set(mY(this,t),r)}delete(t){return super.delete(pY(this,t))}}function DM({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function mY({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function pY({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function hY(e){return e!==null&&typeof e=="object"?e.valueOf():e}function xY(e=Hs){if(e===Hs)return NP;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function NP(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const vY=Math.sqrt(50),gY=Math.sqrt(10),bY=Math.sqrt(2);function rh(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),l=n/Math.pow(10,i),c=l>=vY?10:l>=gY?5:l>=bY?2:1;let u,f,m;return i<0?(m=Math.pow(10,-i)/c,u=Math.round(e*m),f=Math.round(t*m),u/m<e&&++u,f/m>t&&--f,m=-m):(m=Math.pow(10,i)*c,u=Math.round(e/m),f=Math.round(t/m),u*m<e&&++u,f*m>t&&--f),f<u&&.5<=r&&r<2?rh(e,t,r*2):[u,f,m]}function Uy(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,l,c]=n?rh(t,e,r):rh(e,t,r);if(!(l>=i))return[];const u=l-i+1,f=new Array(u);if(n)if(c<0)for(let m=0;m<u;++m)f[m]=(l-m)/-c;else for(let m=0;m<u;++m)f[m]=(l-m)*c;else if(c<0)for(let m=0;m<u;++m)f[m]=(i+m)/-c;else for(let m=0;m<u;++m)f[m]=(i+m)*c;return f}function Yy(e,t,r){return t=+t,e=+e,r=+r,rh(e,t,r)[2]}function Vy(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Yy(t,e,r):Yy(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function _M(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function OM(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function jP(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?NP:xY(i);n>r;){if(n-r>600){const f=n-r+1,m=t-r+1,p=Math.log(f),x=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*x*(f-x)/f)*(m-f/2<0?-1:1),g=Math.max(r,Math.floor(t-m*x/f+v)),j=Math.min(n,Math.floor(t+(f-m)*x/f+v));jP(e,t,g,j,i)}const l=e[t];let c=r,u=n;for(Gu(e,r,t),i(e[n],l)>0&&Gu(e,r,n);c<u;){for(Gu(e,c,u),++c,--u;i(e[c],l)<0;)++c;for(;i(e[u],l)>0;)--u}i(e[r],l)===0?Gu(e,r,u):(++u,Gu(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function Gu(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function yY(e,t,r){if(e=Float64Array.from(dY(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return OM(e);if(t>=1)return _M(e);var n,i=(n-1)*t,l=Math.floor(i),c=_M(jP(e,l).subarray(0,l+1)),u=OM(e.subarray(l+1));return c+(u-c)*(i-l)}}function wY(e,t,r=wP){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,l=Math.floor(i),c=+r(e[l],l,e),u=+r(e[l+1],l+1,e);return c+(u-c)*(i-l)}}function NY(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,l=new Array(i);++n<i;)l[n]=e+n*r;return l}function pa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function as(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Gy=Symbol("implicit");function lw(){var e=new EM,t=[],r=[],n=Gy;function i(l){let c=e.get(l);if(c===void 0){if(n!==Gy)return n;e.set(l,c=t.push(l)-1)}return r[c%r.length]}return i.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new EM;for(const c of l)e.has(c)||e.set(c,t.push(c)-1);return i},i.range=function(l){return arguments.length?(r=Array.from(l),i):r.slice()},i.unknown=function(l){return arguments.length?(n=l,i):n},i.copy=function(){return lw(t,r).unknown(n)},pa.apply(i,arguments),i}function ow(){var e=lw().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,l,c,u=!1,f=0,m=0,p=.5;delete e.unknown;function x(){var v=t().length,g=i<n,j=g?i:n,y=g?n:i;l=(y-j)/Math.max(1,v-f+m*2),u&&(l=Math.floor(l)),j+=(y-j-l*(v-f))*p,c=l*(1-f),u&&(j=Math.round(j),c=Math.round(c));var w=NY(v).map(function(A){return j+l*A});return r(g?w.reverse():w)}return e.domain=function(v){return arguments.length?(t(v),x()):t()},e.range=function(v){return arguments.length?([n,i]=v,n=+n,i=+i,x()):[n,i]},e.rangeRound=function(v){return[n,i]=v,n=+n,i=+i,u=!0,x()},e.bandwidth=function(){return c},e.step=function(){return l},e.round=function(v){return arguments.length?(u=!!v,x()):u},e.padding=function(v){return arguments.length?(f=Math.min(1,m=+v),x()):f},e.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),x()):f},e.paddingOuter=function(v){return arguments.length?(m=+v,x()):m},e.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),x()):p},e.copy=function(){return ow(t(),[n,i]).round(u).paddingInner(f).paddingOuter(m).align(p)},pa.apply(x(),arguments)}function SP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return SP(t())},e}function jY(){return SP(ow.apply(null,arguments).paddingInner(1))}function cw(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function CP(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ud(){}var jd=.7,nh=1/jd,dc="\\s*([+-]?\\d+)\\s*",Sd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ni="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",SY=/^#([0-9a-f]{3,8})$/,CY=new RegExp(`^rgb\\(${dc},${dc},${dc}\\)$`),AY=new RegExp(`^rgb\\(${ni},${ni},${ni}\\)$`),kY=new RegExp(`^rgba\\(${dc},${dc},${dc},${Sd}\\)$`),MY=new RegExp(`^rgba\\(${ni},${ni},${ni},${Sd}\\)$`),EY=new RegExp(`^hsl\\(${Sd},${ni},${ni}\\)$`),DY=new RegExp(`^hsla\\(${Sd},${ni},${ni},${Sd}\\)$`),TM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cw(Ud,Cd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:PM,formatHex:PM,formatHex8:_Y,formatHsl:OY,formatRgb:IM,toString:IM});function PM(){return this.rgb().formatHex()}function _Y(){return this.rgb().formatHex8()}function OY(){return AP(this).formatHsl()}function IM(){return this.rgb().formatRgb()}function Cd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=SY.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?RM(t):r===3?new Sn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?_m(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?_m(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=CY.exec(e))?new Sn(t[1],t[2],t[3],1):(t=AY.exec(e))?new Sn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=kY.exec(e))?_m(t[1],t[2],t[3],t[4]):(t=MY.exec(e))?_m(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=EY.exec(e))?zM(t[1],t[2]/100,t[3]/100,1):(t=DY.exec(e))?zM(t[1],t[2]/100,t[3]/100,t[4]):TM.hasOwnProperty(e)?RM(TM[e]):e==="transparent"?new Sn(NaN,NaN,NaN,0):null}function RM(e){return new Sn(e>>16&255,e>>8&255,e&255,1)}function _m(e,t,r,n){return n<=0&&(e=t=r=NaN),new Sn(e,t,r,n)}function TY(e){return e instanceof Ud||(e=Cd(e)),e?(e=e.rgb(),new Sn(e.r,e.g,e.b,e.opacity)):new Sn}function Wy(e,t,r,n){return arguments.length===1?TY(e):new Sn(e,t,r,n??1)}function Sn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}cw(Sn,Wy,CP(Ud,{brighter(e){return e=e==null?nh:Math.pow(nh,e),new Sn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?jd:Math.pow(jd,e),new Sn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Sn(Yl(this.r),Yl(this.g),Yl(this.b),ah(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:LM,formatHex:LM,formatHex8:PY,formatRgb:FM,toString:FM}));function LM(){return`#${zl(this.r)}${zl(this.g)}${zl(this.b)}`}function PY(){return`#${zl(this.r)}${zl(this.g)}${zl(this.b)}${zl((isNaN(this.opacity)?1:this.opacity)*255)}`}function FM(){const e=ah(this.opacity);return`${e===1?"rgb(":"rgba("}${Yl(this.r)}, ${Yl(this.g)}, ${Yl(this.b)}${e===1?")":`, ${e})`}`}function ah(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Yl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function zl(e){return e=Yl(e),(e<16?"0":"")+e.toString(16)}function zM(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ja(e,t,r,n)}function AP(e){if(e instanceof ja)return new ja(e.h,e.s,e.l,e.opacity);if(e instanceof Ud||(e=Cd(e)),!e)return new ja;if(e instanceof ja)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),l=Math.max(t,r,n),c=NaN,u=l-i,f=(l+i)/2;return u?(t===l?c=(r-n)/u+(r<n)*6:r===l?c=(n-t)/u+2:c=(t-r)/u+4,u/=f<.5?l+i:2-l-i,c*=60):u=f>0&&f<1?0:c,new ja(c,u,f,e.opacity)}function IY(e,t,r,n){return arguments.length===1?AP(e):new ja(e,t,r,n??1)}function ja(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}cw(ja,IY,CP(Ud,{brighter(e){return e=e==null?nh:Math.pow(nh,e),new ja(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?jd:Math.pow(jd,e),new ja(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Sn(xb(e>=240?e-240:e+120,i,n),xb(e,i,n),xb(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new ja(BM(this.h),Om(this.s),Om(this.l),ah(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ah(this.opacity);return`${e===1?"hsl(":"hsla("}${BM(this.h)}, ${Om(this.s)*100}%, ${Om(this.l)*100}%${e===1?")":`, ${e})`}`}}));function BM(e){return e=(e||0)%360,e<0?e+360:e}function Om(e){return Math.max(0,Math.min(1,e||0))}function xb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const uw=e=>()=>e;function RY(e,t){return function(r){return e+r*t}}function LY(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function FY(e){return(e=+e)==1?kP:function(t,r){return r-t?LY(t,r,e):uw(isNaN(t)?r:t)}}function kP(e,t){var r=t-e;return r?RY(e,r):uw(isNaN(e)?t:e)}const $M=(function e(t){var r=FY(t);function n(i,l){var c=r((i=Wy(i)).r,(l=Wy(l)).r),u=r(i.g,l.g),f=r(i.b,l.b),m=kP(i.opacity,l.opacity);return function(p){return i.r=c(p),i.g=u(p),i.b=f(p),i.opacity=m(p),i+""}}return n.gamma=e,n})(1);function zY(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(l){for(i=0;i<r;++i)n[i]=e[i]*(1-l)+t[i]*l;return n}}function BY(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function $Y(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),l=new Array(r),c;for(c=0;c<n;++c)i[c]=Fc(e[c],t[c]);for(;c<r;++c)l[c]=t[c];return function(u){for(c=0;c<n;++c)l[c]=i[c](u);return l}}function HY(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ih(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function qY(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Fc(e[i],t[i]):n[i]=t[i];return function(l){for(i in r)n[i]=r[i](l);return n}}var Ky=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vb=new RegExp(Ky.source,"g");function UY(e){return function(){return e}}function YY(e){return function(t){return e(t)+""}}function VY(e,t){var r=Ky.lastIndex=vb.lastIndex=0,n,i,l,c=-1,u=[],f=[];for(e=e+"",t=t+"";(n=Ky.exec(e))&&(i=vb.exec(t));)(l=i.index)>r&&(l=t.slice(r,l),u[c]?u[c]+=l:u[++c]=l),(n=n[0])===(i=i[0])?u[c]?u[c]+=i:u[++c]=i:(u[++c]=null,f.push({i:c,x:ih(n,i)})),r=vb.lastIndex;return r<t.length&&(l=t.slice(r),u[c]?u[c]+=l:u[++c]=l),u.length<2?f[0]?YY(f[0].x):UY(t):(t=f.length,function(m){for(var p=0,x;p<t;++p)u[(x=f[p]).i]=x.x(m);return u.join("")})}function Fc(e,t){var r=typeof t,n;return t==null||r==="boolean"?uw(t):(r==="number"?ih:r==="string"?(n=Cd(t))?(t=n,$M):VY:t instanceof Cd?$M:t instanceof Date?HY:BY(t)?zY:Array.isArray(t)?$Y:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?qY:ih)(e,t)}function dw(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function GY(e,t){t===void 0&&(t=e,e=Fc);for(var r=0,n=t.length-1,i=t[0],l=new Array(n<0?0:n);r<n;)l[r]=e(i,i=t[++r]);return function(c){var u=Math.max(0,Math.min(n-1,Math.floor(c*=n)));return l[u](c-u)}}function WY(e){return function(){return e}}function sh(e){return+e}var HM=[0,1];function cn(e){return e}function Qy(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:WY(isNaN(t)?NaN:.5)}function KY(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function QY(e,t,r){var n=e[0],i=e[1],l=t[0],c=t[1];return i<n?(n=Qy(i,n),l=r(c,l)):(n=Qy(n,i),l=r(l,c)),function(u){return l(n(u))}}function XY(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),l=new Array(n),c=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<n;)i[c]=Qy(e[c],e[c+1]),l[c]=r(t[c],t[c+1]);return function(u){var f=qd(e,u,1,n)-1;return l[f](i[f](u))}}function Yd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function dx(){var e=HM,t=HM,r=Fc,n,i,l,c=cn,u,f,m;function p(){var v=Math.min(e.length,t.length);return c!==cn&&(c=KY(e[0],e[v-1])),u=v>2?XY:QY,f=m=null,x}function x(v){return v==null||isNaN(v=+v)?l:(f||(f=u(e.map(n),t,r)))(n(c(v)))}return x.invert=function(v){return c(i((m||(m=u(t,e.map(n),ih)))(v)))},x.domain=function(v){return arguments.length?(e=Array.from(v,sh),p()):e.slice()},x.range=function(v){return arguments.length?(t=Array.from(v),p()):t.slice()},x.rangeRound=function(v){return t=Array.from(v),r=dw,p()},x.clamp=function(v){return arguments.length?(c=v?!0:cn,p()):c!==cn},x.interpolate=function(v){return arguments.length?(r=v,p()):r},x.unknown=function(v){return arguments.length?(l=v,x):l},function(v,g){return n=v,i=g,p()}}function fw(){return dx()(cn,cn)}function ZY(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function lh(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function yc(e){return e=lh(Math.abs(e)),e?e[1]:NaN}function JY(e,t){return function(r,n){for(var i=r.length,l=[],c=0,u=e[0],f=0;i>0&&u>0&&(f+u+1>n&&(u=Math.max(1,n-f)),l.push(r.substring(i-=u,i+u)),!((f+=u+1)>n));)u=e[c=(c+1)%e.length];return l.reverse().join(t)}}function eV(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var tV=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ad(e){if(!(t=tV.exec(e)))throw new Error("invalid format: "+e);var t;return new mw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ad.prototype=mw.prototype;function mw(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}mw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rV(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var oh;function nV(e,t){var r=lh(e,t);if(!r)return oh=void 0,e.toPrecision(t);var n=r[0],i=r[1],l=i-(oh=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,c=n.length;return l===c?n:l>c?n+new Array(l-c+1).join("0"):l>0?n.slice(0,l)+"."+n.slice(l):"0."+new Array(1-l).join("0")+lh(e,Math.max(0,t+l-1))[0]}function qM(e,t){var r=lh(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const UM={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ZY,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>qM(e*100,t),r:qM,s:nV,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function YM(e){return e}var VM=Array.prototype.map,GM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function aV(e){var t=e.grouping===void 0||e.thousands===void 0?YM:JY(VM.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?YM:eV(VM.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function m(x,v){x=Ad(x);var g=x.fill,j=x.align,y=x.sign,w=x.symbol,A=x.zero,k=x.width,C=x.comma,M=x.precision,E=x.trim,O=x.type;O==="n"?(C=!0,O="g"):UM[O]||(M===void 0&&(M=12),E=!0,O="g"),(A||g==="0"&&j==="=")&&(A=!0,g="0",j="=");var P=(v&&v.prefix!==void 0?v.prefix:"")+(w==="$"?r:w==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():""),T=(w==="$"?n:/[%p]/.test(O)?c:"")+(v&&v.suffix!==void 0?v.suffix:""),$=UM[O],L=/[defgprs%]/.test(O);M=M===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function H(D){var Z=P,K=T,J,R,G;if(O==="c")K=$(D)+K,D="";else{D=+D;var me=D<0||1/D<0;if(D=isNaN(D)?f:$(Math.abs(D),M),E&&(D=rV(D)),me&&+D==0&&y!=="+"&&(me=!1),Z=(me?y==="("?y:u:y==="-"||y==="("?"":y)+Z,K=(O==="s"&&!isNaN(D)&&oh!==void 0?GM[8+oh/3]:"")+K+(me&&y==="("?")":""),L){for(J=-1,R=D.length;++J<R;)if(G=D.charCodeAt(J),48>G||G>57){K=(G===46?i+D.slice(J+1):D.slice(J))+K,D=D.slice(0,J);break}}}C&&!A&&(D=t(D,1/0));var we=Z.length+D.length+K.length,Ne=we<k?new Array(k-we+1).join(g):"";switch(C&&A&&(D=t(Ne+D,Ne.length?k-K.length:1/0),Ne=""),j){case"<":D=Z+D+K+Ne;break;case"=":D=Z+Ne+D+K;break;case"^":D=Ne.slice(0,we=Ne.length>>1)+Z+D+K+Ne.slice(we);break;default:D=Ne+Z+D+K;break}return l(D)}return H.toString=function(){return x+""},H}function p(x,v){var g=Math.max(-8,Math.min(8,Math.floor(yc(v)/3)))*3,j=Math.pow(10,-g),y=m((x=Ad(x),x.type="f",x),{suffix:GM[8+g/3]});return function(w){return y(j*w)}}return{format:m,formatPrefix:p}}var Tm,pw,MP;iV({thousands:",",grouping:[3],currency:["$",""]});function iV(e){return Tm=aV(e),pw=Tm.format,MP=Tm.formatPrefix,Tm}function sV(e){return Math.max(0,-yc(Math.abs(e)))}function lV(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(yc(t)/3)))*3-yc(Math.abs(e)))}function oV(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,yc(t)-yc(e))+1}function EP(e,t,r,n){var i=Vy(e,t,r),l;switch(n=Ad(n??",f"),n.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(l=lV(i,c))&&(n.precision=l),MP(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(l=oV(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=l-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(l=sV(i))&&(n.precision=l-(n.type==="%")*2);break}}return pw(n)}function tl(e){var t=e.domain;return e.ticks=function(r){var n=t();return Uy(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return EP(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,l=n.length-1,c=n[i],u=n[l],f,m,p=10;for(u<c&&(m=c,c=u,u=m,m=i,i=l,l=m);p-- >0;){if(m=Yy(c,u,r),m===f)return n[i]=c,n[l]=u,t(n);if(m>0)c=Math.floor(c/m)*m,u=Math.ceil(u/m)*m;else if(m<0)c=Math.ceil(c*m)/m,u=Math.floor(u*m)/m;else break;f=m}return e},e}function DP(){var e=fw();return e.copy=function(){return Yd(e,DP())},pa.apply(e,arguments),tl(e)}function _P(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,sh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return _P(e).unknown(t)},e=arguments.length?Array.from(e,sh):[0,1],tl(r)}function OP(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],l=e[n],c;return l<i&&(c=r,r=n,n=c,c=i,i=l,l=c),e[r]=t.floor(i),e[n]=t.ceil(l),e}function WM(e){return Math.log(e)}function KM(e){return Math.exp(e)}function cV(e){return-Math.log(-e)}function uV(e){return-Math.exp(-e)}function dV(e){return isFinite(e)?+("1e"+e):e<0?0:e}function fV(e){return e===10?dV:e===Math.E?Math.exp:t=>Math.pow(e,t)}function mV(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function QM(e){return(t,r)=>-e(-t,r)}function hw(e){const t=e(WM,KM),r=t.domain;let n=10,i,l;function c(){return i=mV(n),l=fV(n),r()[0]<0?(i=QM(i),l=QM(l),e(cV,uV)):e(WM,KM),t}return t.base=function(u){return arguments.length?(n=+u,c()):n},t.domain=function(u){return arguments.length?(r(u),c()):r()},t.ticks=u=>{const f=r();let m=f[0],p=f[f.length-1];const x=p<m;x&&([m,p]=[p,m]);let v=i(m),g=i(p),j,y;const w=u==null?10:+u;let A=[];if(!(n%1)&&g-v<w){if(v=Math.floor(v),g=Math.ceil(g),m>0){for(;v<=g;++v)for(j=1;j<n;++j)if(y=v<0?j/l(-v):j*l(v),!(y<m)){if(y>p)break;A.push(y)}}else for(;v<=g;++v)for(j=n-1;j>=1;--j)if(y=v>0?j/l(-v):j*l(v),!(y<m)){if(y>p)break;A.push(y)}A.length*2<w&&(A=Uy(m,p,w))}else A=Uy(v,g,Math.min(g-v,w)).map(l);return x?A.reverse():A},t.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=n===10?"s":","),typeof f!="function"&&(!(n%1)&&(f=Ad(f)).precision==null&&(f.trim=!0),f=pw(f)),u===1/0)return f;const m=Math.max(1,n*u/t.ticks().length);return p=>{let x=p/l(Math.round(i(p)));return x*n<n-.5&&(x*=n),x<=m?f(p):""}},t.nice=()=>r(OP(r(),{floor:u=>l(Math.floor(i(u))),ceil:u=>l(Math.ceil(i(u)))})),t}function TP(){const e=hw(dx()).domain([1,10]);return e.copy=()=>Yd(e,TP()).base(e.base()),pa.apply(e,arguments),e}function XM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ZM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function xw(e){var t=1,r=e(XM(t),ZM(t));return r.constant=function(n){return arguments.length?e(XM(t=+n),ZM(t)):t},tl(r)}function PP(){var e=xw(dx());return e.copy=function(){return Yd(e,PP()).constant(e.constant())},pa.apply(e,arguments)}function JM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function pV(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function hV(e){return e<0?-e*e:e*e}function vw(e){var t=e(cn,cn),r=1;function n(){return r===1?e(cn,cn):r===.5?e(pV,hV):e(JM(r),JM(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},tl(t)}function gw(){var e=vw(dx());return e.copy=function(){return Yd(e,gw()).exponent(e.exponent())},pa.apply(e,arguments),e}function xV(){return gw.apply(null,arguments).exponent(.5)}function e5(e){return Math.sign(e)*e*e}function vV(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function IP(){var e=fw(),t=[0,1],r=!1,n;function i(l){var c=vV(e(l));return isNaN(c)?n:r?Math.round(c):c}return i.invert=function(l){return e.invert(e5(l))},i.domain=function(l){return arguments.length?(e.domain(l),i):e.domain()},i.range=function(l){return arguments.length?(e.range((t=Array.from(l,sh)).map(e5)),i):t.slice()},i.rangeRound=function(l){return i.range(l).round(!0)},i.round=function(l){return arguments.length?(r=!!l,i):r},i.clamp=function(l){return arguments.length?(e.clamp(l),i):e.clamp()},i.unknown=function(l){return arguments.length?(n=l,i):n},i.copy=function(){return IP(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},pa.apply(i,arguments),tl(i)}function RP(){var e=[],t=[],r=[],n;function i(){var c=0,u=Math.max(1,t.length);for(r=new Array(u-1);++c<u;)r[c-1]=wY(e,c/u);return l}function l(c){return c==null||isNaN(c=+c)?n:t[qd(r,c)]}return l.invertExtent=function(c){var u=t.indexOf(c);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},l.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let u of c)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Hs),i()},l.range=function(c){return arguments.length?(t=Array.from(c),i()):t.slice()},l.unknown=function(c){return arguments.length?(n=c,l):n},l.quantiles=function(){return r.slice()},l.copy=function(){return RP().domain(e).range(t).unknown(n)},pa.apply(l,arguments)}function LP(){var e=0,t=1,r=1,n=[.5],i=[0,1],l;function c(f){return f!=null&&f<=f?i[qd(n,f,0,r)]:l}function u(){var f=-1;for(n=new Array(r);++f<r;)n[f]=((f+1)*t-(f-r)*e)/(r+1);return c}return c.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,u()):[e,t]},c.range=function(f){return arguments.length?(r=(i=Array.from(f)).length-1,u()):i.slice()},c.invertExtent=function(f){var m=i.indexOf(f);return m<0?[NaN,NaN]:m<1?[e,n[0]]:m>=r?[n[r-1],t]:[n[m-1],n[m]]},c.unknown=function(f){return arguments.length&&(l=f),c},c.thresholds=function(){return n.slice()},c.copy=function(){return LP().domain([e,t]).range(i).unknown(l)},pa.apply(tl(c),arguments)}function FP(){var e=[.5],t=[0,1],r,n=1;function i(l){return l!=null&&l<=l?t[qd(e,l,0,n)]:r}return i.domain=function(l){return arguments.length?(e=Array.from(l),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(l){return arguments.length?(t=Array.from(l),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(l){var c=t.indexOf(l);return[e[c-1],e[c]]},i.unknown=function(l){return arguments.length?(r=l,i):r},i.copy=function(){return FP().domain(e).range(t).unknown(r)},pa.apply(i,arguments)}const gb=new Date,bb=new Date;function Fr(e,t,r,n){function i(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return i.floor=l=>(e(l=new Date(+l)),l),i.ceil=l=>(e(l=new Date(l-1)),t(l,1),e(l),l),i.round=l=>{const c=i(l),u=i.ceil(l);return l-c<u-l?c:u},i.offset=(l,c)=>(t(l=new Date(+l),c==null?1:Math.floor(c)),l),i.range=(l,c,u)=>{const f=[];if(l=i.ceil(l),u=u==null?1:Math.floor(u),!(l<c)||!(u>0))return f;let m;do f.push(m=new Date(+l)),t(l,u),e(l);while(m<l&&l<c);return f},i.filter=l=>Fr(c=>{if(c>=c)for(;e(c),!l(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;t(c,-1),!l(c););else for(;--u>=0;)for(;t(c,1),!l(c););}),r&&(i.count=(l,c)=>(gb.setTime(+l),bb.setTime(+c),e(gb),e(bb),Math.floor(r(gb,bb))),i.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?i.filter(n?c=>n(c)%l===0:c=>i.count(0,c)%l===0):i)),i}const ch=Fr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ch.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Fr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ch);ch.range;const Fi=1e3,oa=Fi*60,zi=oa*60,Ki=zi*24,bw=Ki*7,t5=Ki*30,yb=Ki*365,Bl=Fr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Fi)},(e,t)=>(t-e)/Fi,e=>e.getUTCSeconds());Bl.range;const yw=Fr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fi)},(e,t)=>{e.setTime(+e+t*oa)},(e,t)=>(t-e)/oa,e=>e.getMinutes());yw.range;const ww=Fr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*oa)},(e,t)=>(t-e)/oa,e=>e.getUTCMinutes());ww.range;const Nw=Fr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fi-e.getMinutes()*oa)},(e,t)=>{e.setTime(+e+t*zi)},(e,t)=>(t-e)/zi,e=>e.getHours());Nw.range;const jw=Fr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*zi)},(e,t)=>(t-e)/zi,e=>e.getUTCHours());jw.range;const Vd=Fr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*oa)/Ki,e=>e.getDate()-1);Vd.range;const fx=Fr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ki,e=>e.getUTCDate()-1);fx.range;const zP=Fr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ki,e=>Math.floor(e/Ki));zP.range;function oo(e){return Fr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*oa)/bw)}const mx=oo(0),uh=oo(1),gV=oo(2),bV=oo(3),wc=oo(4),yV=oo(5),wV=oo(6);mx.range;uh.range;gV.range;bV.range;wc.range;yV.range;wV.range;function co(e){return Fr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/bw)}const px=co(0),dh=co(1),NV=co(2),jV=co(3),Nc=co(4),SV=co(5),CV=co(6);px.range;dh.range;NV.range;jV.range;Nc.range;SV.range;CV.range;const Sw=Fr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Sw.range;const Cw=Fr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Cw.range;const Qi=Fr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Qi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Fr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Qi.range;const Xi=Fr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Xi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Fr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Xi.range;function BP(e,t,r,n,i,l){const c=[[Bl,1,Fi],[Bl,5,5*Fi],[Bl,15,15*Fi],[Bl,30,30*Fi],[l,1,oa],[l,5,5*oa],[l,15,15*oa],[l,30,30*oa],[i,1,zi],[i,3,3*zi],[i,6,6*zi],[i,12,12*zi],[n,1,Ki],[n,2,2*Ki],[r,1,bw],[t,1,t5],[t,3,3*t5],[e,1,yb]];function u(m,p,x){const v=p<m;v&&([m,p]=[p,m]);const g=x&&typeof x.range=="function"?x:f(m,p,x),j=g?g.range(m,+p+1):[];return v?j.reverse():j}function f(m,p,x){const v=Math.abs(p-m)/x,g=sw(([,,w])=>w).right(c,v);if(g===c.length)return e.every(Vy(m/yb,p/yb,x));if(g===0)return ch.every(Math.max(Vy(m,p,x),1));const[j,y]=c[v/c[g-1][2]<c[g][2]/v?g-1:g];return j.every(y)}return[u,f]}const[AV,kV]=BP(Xi,Cw,px,zP,jw,ww),[MV,EV]=BP(Qi,Sw,mx,Vd,Nw,yw);function wb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Nb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Wu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function DV(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,l=e.days,c=e.shortDays,u=e.months,f=e.shortMonths,m=Ku(i),p=Qu(i),x=Ku(l),v=Qu(l),g=Ku(c),j=Qu(c),y=Ku(u),w=Qu(u),A=Ku(f),k=Qu(f),C={a:G,A:me,b:we,B:Ne,c:null,d:l5,e:l5,f:JV,g:cG,G:dG,H:QV,I:XV,j:ZV,L:$P,m:eG,M:tG,p:F,q:ce,Q:u5,s:d5,S:rG,u:nG,U:aG,V:iG,w:sG,W:lG,x:null,X:null,y:oG,Y:uG,Z:fG,"%":c5},M={a:ee,A:B,b:z,B:U,c:null,d:o5,e:o5,f:xG,g:AG,G:MG,H:mG,I:pG,j:hG,L:qP,m:vG,M:gG,p:xe,q:je,Q:u5,s:d5,S:bG,u:yG,U:wG,V:NG,w:jG,W:SG,x:null,X:null,y:CG,Y:kG,Z:EG,"%":c5},E={a:L,A:H,b:D,B:Z,c:K,d:i5,e:i5,f:VV,g:a5,G:n5,H:s5,I:s5,j:HV,L:YV,m:$V,M:qV,p:$,q:BV,Q:WV,s:KV,S:UV,u:IV,U:RV,V:LV,w:PV,W:FV,x:J,X:R,y:a5,Y:n5,Z:zV,"%":GV};C.x=O(r,C),C.X=O(n,C),C.c=O(t,C),M.x=O(r,M),M.X=O(n,M),M.c=O(t,M);function O(ne,De){return function(Ce){var ue=[],$e=-1,Ie=0,Re=ne.length,rt,jt,Bt;for(Ce instanceof Date||(Ce=new Date(+Ce));++$e<Re;)ne.charCodeAt($e)===37&&(ue.push(ne.slice(Ie,$e)),(jt=r5[rt=ne.charAt(++$e)])!=null?rt=ne.charAt(++$e):jt=rt==="e"?" ":"0",(Bt=De[rt])&&(rt=Bt(Ce,jt)),ue.push(rt),Ie=$e+1);return ue.push(ne.slice(Ie,$e)),ue.join("")}}function P(ne,De){return function(Ce){var ue=Wu(1900,void 0,1),$e=T(ue,ne,Ce+="",0),Ie,Re;if($e!=Ce.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(De&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(Ie=Nb(Wu(ue.y,0,1)),Re=Ie.getUTCDay(),Ie=Re>4||Re===0?dh.ceil(Ie):dh(Ie),Ie=fx.offset(Ie,(ue.V-1)*7),ue.y=Ie.getUTCFullYear(),ue.m=Ie.getUTCMonth(),ue.d=Ie.getUTCDate()+(ue.w+6)%7):(Ie=wb(Wu(ue.y,0,1)),Re=Ie.getDay(),Ie=Re>4||Re===0?uh.ceil(Ie):uh(Ie),Ie=Vd.offset(Ie,(ue.V-1)*7),ue.y=Ie.getFullYear(),ue.m=Ie.getMonth(),ue.d=Ie.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),Re="Z"in ue?Nb(Wu(ue.y,0,1)).getUTCDay():wb(Wu(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(Re+5)%7:ue.w+ue.U*7-(Re+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,Nb(ue)):wb(ue)}}function T(ne,De,Ce,ue){for(var $e=0,Ie=De.length,Re=Ce.length,rt,jt;$e<Ie;){if(ue>=Re)return-1;if(rt=De.charCodeAt($e++),rt===37){if(rt=De.charAt($e++),jt=E[rt in r5?De.charAt($e++):rt],!jt||(ue=jt(ne,Ce,ue))<0)return-1}else if(rt!=Ce.charCodeAt(ue++))return-1}return ue}function $(ne,De,Ce){var ue=m.exec(De.slice(Ce));return ue?(ne.p=p.get(ue[0].toLowerCase()),Ce+ue[0].length):-1}function L(ne,De,Ce){var ue=g.exec(De.slice(Ce));return ue?(ne.w=j.get(ue[0].toLowerCase()),Ce+ue[0].length):-1}function H(ne,De,Ce){var ue=x.exec(De.slice(Ce));return ue?(ne.w=v.get(ue[0].toLowerCase()),Ce+ue[0].length):-1}function D(ne,De,Ce){var ue=A.exec(De.slice(Ce));return ue?(ne.m=k.get(ue[0].toLowerCase()),Ce+ue[0].length):-1}function Z(ne,De,Ce){var ue=y.exec(De.slice(Ce));return ue?(ne.m=w.get(ue[0].toLowerCase()),Ce+ue[0].length):-1}function K(ne,De,Ce){return T(ne,t,De,Ce)}function J(ne,De,Ce){return T(ne,r,De,Ce)}function R(ne,De,Ce){return T(ne,n,De,Ce)}function G(ne){return c[ne.getDay()]}function me(ne){return l[ne.getDay()]}function we(ne){return f[ne.getMonth()]}function Ne(ne){return u[ne.getMonth()]}function F(ne){return i[+(ne.getHours()>=12)]}function ce(ne){return 1+~~(ne.getMonth()/3)}function ee(ne){return c[ne.getUTCDay()]}function B(ne){return l[ne.getUTCDay()]}function z(ne){return f[ne.getUTCMonth()]}function U(ne){return u[ne.getUTCMonth()]}function xe(ne){return i[+(ne.getUTCHours()>=12)]}function je(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var De=O(ne+="",C);return De.toString=function(){return ne},De},parse:function(ne){var De=P(ne+="",!1);return De.toString=function(){return ne},De},utcFormat:function(ne){var De=O(ne+="",M);return De.toString=function(){return ne},De},utcParse:function(ne){var De=P(ne+="",!0);return De.toString=function(){return ne},De}}}var r5={"-":"",_:" ",0:"0"},Ur=/^\s*\d+/,_V=/^%/,OV=/[\\^$*+?|[\]().{}]/g;function At(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",l=i.length;return n+(l<r?new Array(r-l+1).join(t)+i:i)}function TV(e){return e.replace(OV,"\\$&")}function Ku(e){return new RegExp("^(?:"+e.map(TV).join("|")+")","i")}function Qu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function PV(e,t,r){var n=Ur.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function IV(e,t,r){var n=Ur.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function RV(e,t,r){var n=Ur.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function LV(e,t,r){var n=Ur.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function FV(e,t,r){var n=Ur.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function n5(e,t,r){var n=Ur.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function a5(e,t,r){var n=Ur.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function zV(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function BV(e,t,r){var n=Ur.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function $V(e,t,r){var n=Ur.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function i5(e,t,r){var n=Ur.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function HV(e,t,r){var n=Ur.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function s5(e,t,r){var n=Ur.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function qV(e,t,r){var n=Ur.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function UV(e,t,r){var n=Ur.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function YV(e,t,r){var n=Ur.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function VV(e,t,r){var n=Ur.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function GV(e,t,r){var n=_V.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function WV(e,t,r){var n=Ur.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function KV(e,t,r){var n=Ur.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function l5(e,t){return At(e.getDate(),t,2)}function QV(e,t){return At(e.getHours(),t,2)}function XV(e,t){return At(e.getHours()%12||12,t,2)}function ZV(e,t){return At(1+Vd.count(Qi(e),e),t,3)}function $P(e,t){return At(e.getMilliseconds(),t,3)}function JV(e,t){return $P(e,t)+"000"}function eG(e,t){return At(e.getMonth()+1,t,2)}function tG(e,t){return At(e.getMinutes(),t,2)}function rG(e,t){return At(e.getSeconds(),t,2)}function nG(e){var t=e.getDay();return t===0?7:t}function aG(e,t){return At(mx.count(Qi(e)-1,e),t,2)}function HP(e){var t=e.getDay();return t>=4||t===0?wc(e):wc.ceil(e)}function iG(e,t){return e=HP(e),At(wc.count(Qi(e),e)+(Qi(e).getDay()===4),t,2)}function sG(e){return e.getDay()}function lG(e,t){return At(uh.count(Qi(e)-1,e),t,2)}function oG(e,t){return At(e.getFullYear()%100,t,2)}function cG(e,t){return e=HP(e),At(e.getFullYear()%100,t,2)}function uG(e,t){return At(e.getFullYear()%1e4,t,4)}function dG(e,t){var r=e.getDay();return e=r>=4||r===0?wc(e):wc.ceil(e),At(e.getFullYear()%1e4,t,4)}function fG(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+At(t/60|0,"0",2)+At(t%60,"0",2)}function o5(e,t){return At(e.getUTCDate(),t,2)}function mG(e,t){return At(e.getUTCHours(),t,2)}function pG(e,t){return At(e.getUTCHours()%12||12,t,2)}function hG(e,t){return At(1+fx.count(Xi(e),e),t,3)}function qP(e,t){return At(e.getUTCMilliseconds(),t,3)}function xG(e,t){return qP(e,t)+"000"}function vG(e,t){return At(e.getUTCMonth()+1,t,2)}function gG(e,t){return At(e.getUTCMinutes(),t,2)}function bG(e,t){return At(e.getUTCSeconds(),t,2)}function yG(e){var t=e.getUTCDay();return t===0?7:t}function wG(e,t){return At(px.count(Xi(e)-1,e),t,2)}function UP(e){var t=e.getUTCDay();return t>=4||t===0?Nc(e):Nc.ceil(e)}function NG(e,t){return e=UP(e),At(Nc.count(Xi(e),e)+(Xi(e).getUTCDay()===4),t,2)}function jG(e){return e.getUTCDay()}function SG(e,t){return At(dh.count(Xi(e)-1,e),t,2)}function CG(e,t){return At(e.getUTCFullYear()%100,t,2)}function AG(e,t){return e=UP(e),At(e.getUTCFullYear()%100,t,2)}function kG(e,t){return At(e.getUTCFullYear()%1e4,t,4)}function MG(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Nc(e):Nc.ceil(e),At(e.getUTCFullYear()%1e4,t,4)}function EG(){return"+0000"}function c5(){return"%"}function u5(e){return+e}function d5(e){return Math.floor(+e/1e3)}var Wo,YP,VP;DG({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function DG(e){return Wo=DV(e),YP=Wo.format,Wo.parse,VP=Wo.utcFormat,Wo.utcParse,Wo}function _G(e){return new Date(e)}function OG(e){return e instanceof Date?+e:+new Date(+e)}function Aw(e,t,r,n,i,l,c,u,f,m){var p=fw(),x=p.invert,v=p.domain,g=m(".%L"),j=m(":%S"),y=m("%I:%M"),w=m("%I %p"),A=m("%a %d"),k=m("%b %d"),C=m("%B"),M=m("%Y");function E(O){return(f(O)<O?g:u(O)<O?j:c(O)<O?y:l(O)<O?w:n(O)<O?i(O)<O?A:k:r(O)<O?C:M)(O)}return p.invert=function(O){return new Date(x(O))},p.domain=function(O){return arguments.length?v(Array.from(O,OG)):v().map(_G)},p.ticks=function(O){var P=v();return e(P[0],P[P.length-1],O??10)},p.tickFormat=function(O,P){return P==null?E:m(P)},p.nice=function(O){var P=v();return(!O||typeof O.range!="function")&&(O=t(P[0],P[P.length-1],O??10)),O?v(OP(P,O)):p},p.copy=function(){return Yd(p,Aw(e,t,r,n,i,l,c,u,f,m))},p}function TG(){return pa.apply(Aw(MV,EV,Qi,Sw,mx,Vd,Nw,yw,Bl,YP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function PG(){return pa.apply(Aw(AV,kV,Xi,Cw,px,fx,jw,ww,Bl,VP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function hx(){var e=0,t=1,r,n,i,l,c=cn,u=!1,f;function m(x){return x==null||isNaN(x=+x)?f:c(i===0?.5:(x=(l(x)-r)*i,u?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t]=x,r=l(e=+e),n=l(t=+t),i=r===n?0:1/(n-r),m):[e,t]},m.clamp=function(x){return arguments.length?(u=!!x,m):u},m.interpolator=function(x){return arguments.length?(c=x,m):c};function p(x){return function(v){var g,j;return arguments.length?([g,j]=v,c=x(g,j),m):[c(0),c(1)]}}return m.range=p(Fc),m.rangeRound=p(dw),m.unknown=function(x){return arguments.length?(f=x,m):f},function(x){return l=x,r=x(e),n=x(t),i=r===n?0:1/(n-r),m}}function rl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function GP(){var e=tl(hx()(cn));return e.copy=function(){return rl(e,GP())},as.apply(e,arguments)}function WP(){var e=hw(hx()).domain([1,10]);return e.copy=function(){return rl(e,WP()).base(e.base())},as.apply(e,arguments)}function KP(){var e=xw(hx());return e.copy=function(){return rl(e,KP()).constant(e.constant())},as.apply(e,arguments)}function kw(){var e=vw(hx());return e.copy=function(){return rl(e,kw()).exponent(e.exponent())},as.apply(e,arguments)}function IG(){return kw.apply(null,arguments).exponent(.5)}function QP(){var e=[],t=cn;function r(n){if(n!=null&&!isNaN(n=+n))return t((qd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Hs),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,l)=>yY(e,l/n))},r.copy=function(){return QP(t).domain(e)},as.apply(r,arguments)}function xx(){var e=0,t=.5,r=1,n=1,i,l,c,u,f,m=cn,p,x=!1,v;function g(y){return isNaN(y=+y)?v:(y=.5+((y=+p(y))-l)*(n*y<n*l?u:f),m(x?Math.max(0,Math.min(1,y)):y))}g.domain=function(y){return arguments.length?([e,t,r]=y,i=p(e=+e),l=p(t=+t),c=p(r=+r),u=i===l?0:.5/(l-i),f=l===c?0:.5/(c-l),n=l<i?-1:1,g):[e,t,r]},g.clamp=function(y){return arguments.length?(x=!!y,g):x},g.interpolator=function(y){return arguments.length?(m=y,g):m};function j(y){return function(w){var A,k,C;return arguments.length?([A,k,C]=w,m=GY(y,[A,k,C]),g):[m(0),m(.5),m(1)]}}return g.range=j(Fc),g.rangeRound=j(dw),g.unknown=function(y){return arguments.length?(v=y,g):v},function(y){return p=y,i=y(e),l=y(t),c=y(r),u=i===l?0:.5/(l-i),f=l===c?0:.5/(c-l),n=l<i?-1:1,g}}function XP(){var e=tl(xx()(cn));return e.copy=function(){return rl(e,XP())},as.apply(e,arguments)}function ZP(){var e=hw(xx()).domain([.1,1,10]);return e.copy=function(){return rl(e,ZP()).base(e.base())},as.apply(e,arguments)}function JP(){var e=xw(xx());return e.copy=function(){return rl(e,JP()).constant(e.constant())},as.apply(e,arguments)}function Mw(){var e=vw(xx());return e.copy=function(){return rl(e,Mw()).exponent(e.exponent())},as.apply(e,arguments)}function RG(){return Mw.apply(null,arguments).exponent(.5)}const od=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ow,scaleDiverging:XP,scaleDivergingLog:ZP,scaleDivergingPow:Mw,scaleDivergingSqrt:RG,scaleDivergingSymlog:JP,scaleIdentity:_P,scaleImplicit:Gy,scaleLinear:DP,scaleLog:TP,scaleOrdinal:lw,scalePoint:jY,scalePow:gw,scaleQuantile:RP,scaleQuantize:LP,scaleRadial:IP,scaleSequential:GP,scaleSequentialLog:WP,scaleSequentialPow:kw,scaleSequentialQuantile:QP,scaleSequentialSqrt:IG,scaleSequentialSymlog:KP,scaleSqrt:xV,scaleSymlog:PP,scaleThreshold:FP,scaleTime:TG,scaleUtc:PG,tickFormat:EP},Symbol.toStringTag,{value:"Module"}));var nl=e=>e.chartData,Ew=de([nl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),e3=(e,t,r,n)=>n?Ew(e):nl(e);function Zi(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(zt(t)&&zt(r))return!0}return!1}function f5(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function t3(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,l;if(zt(r))i=r;else if(typeof r=="function")return;if(zt(n))l=n;else if(typeof n=="function")return;var c=[i,l];if(Zi(c))return c}}function LG(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Zi(n))return f5(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,l]=e,c,u;if(i==="auto")t!=null&&(c=Math.min(...t));else if(at(i))c=i;else if(typeof i=="function")try{t!=null&&(c=i(t?.[0]))}catch{}else if(typeof i=="string"&&Nk.test(i)){var f=Nk.exec(i);if(f==null||f[1]==null||t==null)c=void 0;else{var m=+f[1];c=t[0]-m}}else c=t?.[0];if(l==="auto")t!=null&&(u=Math.max(...t));else if(at(l))u=l;else if(typeof l=="function")try{t!=null&&(u=l(t?.[1]))}catch{}else if(typeof l=="string"&&jk.test(l)){var p=jk.exec(l);if(p==null||p[1]==null||t==null)u=void 0;else{var x=+p[1];u=t[1]+x}}else u=t?.[1];var v=[c,u];if(Zi(v))return t==null?v:f5(v,t,r)}}}var zc=1e9,FG={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},_w,ar=!0,da="[DecimalError] ",Vl=da+"Invalid argument: ",Dw=da+"Exponent out of range: ",Bc=Math.floor,Pl=Math.pow,zG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Bn,$r=1e7,Qt=7,r3=9007199254740991,fh=Bc(r3/Qt),He={};He.absoluteValue=He.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};He.comparedTo=He.cmp=function(e){var t,r,n,i,l=this;if(e=new l.constructor(e),l.s!==e.s)return l.s||-e.s;if(l.e!==e.e)return l.e>e.e^l.s<0?1:-1;for(n=l.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(l.d[t]!==e.d[t])return l.d[t]>e.d[t]^l.s<0?1:-1;return n===i?0:n>i^l.s<0?1:-1};He.decimalPlaces=He.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Qt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};He.dividedBy=He.div=function(e){return Hi(this,new this.constructor(e))};He.dividedToIntegerBy=He.idiv=function(e){var t=this,r=t.constructor;return qt(Hi(t,new r(e),0,1),r.precision)};He.equals=He.eq=function(e){return!this.cmp(e)};He.exponent=function(){return Tr(this)};He.greaterThan=He.gt=function(e){return this.cmp(e)>0};He.greaterThanOrEqualTo=He.gte=function(e){return this.cmp(e)>=0};He.isInteger=He.isint=function(){return this.e>this.d.length-2};He.isNegative=He.isneg=function(){return this.s<0};He.isPositive=He.ispos=function(){return this.s>0};He.isZero=function(){return this.s===0};He.lessThan=He.lt=function(e){return this.cmp(e)<0};He.lessThanOrEqualTo=He.lte=function(e){return this.cmp(e)<1};He.logarithm=He.log=function(e){var t,r=this,n=r.constructor,i=n.precision,l=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Bn))throw Error(da+"NaN");if(r.s<1)throw Error(da+(r.s?"NaN":"-Infinity"));return r.eq(Bn)?new n(0):(ar=!1,t=Hi(kd(r,l),kd(e,l),l),ar=!0,qt(t,i))};He.minus=He.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?i3(t,e):n3(t,(e.s=-e.s,e))};He.modulo=He.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(da+"NaN");return r.s?(ar=!1,t=Hi(r,e,0,1).times(e),ar=!0,r.minus(t)):qt(new n(r),i)};He.naturalExponential=He.exp=function(){return a3(this)};He.naturalLogarithm=He.ln=function(){return kd(this)};He.negated=He.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};He.plus=He.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?n3(t,e):i3(t,(e.s=-e.s,e))};He.precision=He.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Vl+e);if(t=Tr(i)+1,n=i.d.length-1,r=n*Qt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};He.squareRoot=He.sqrt=function(){var e,t,r,n,i,l,c,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(da+"NaN")}for(e=Tr(u),ar=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=Ja(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Bc((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new f(t)):n=new f(i.toString()),r=f.precision,i=c=r+3;;)if(l=n,n=l.plus(Hi(u,l,c+2)).times(.5),Ja(l.d).slice(0,c)===(t=Ja(n.d)).slice(0,c)){if(t=t.slice(c-3,c+1),i==c&&t=="4999"){if(qt(l,r+1,0),l.times(l).eq(u)){n=l;break}}else if(t!="9999")break;c+=4}return ar=!0,qt(n,r)};He.times=He.mul=function(e){var t,r,n,i,l,c,u,f,m,p=this,x=p.constructor,v=p.d,g=(e=new x(e)).d;if(!p.s||!e.s)return new x(0);for(e.s*=p.s,r=p.e+e.e,f=v.length,m=g.length,f<m&&(l=v,v=g,g=l,c=f,f=m,m=c),l=[],c=f+m,n=c;n--;)l.push(0);for(n=m;--n>=0;){for(t=0,i=f+n;i>n;)u=l[i]+g[n]*v[i-n-1]+t,l[i--]=u%$r|0,t=u/$r|0;l[i]=(l[i]+t)%$r|0}for(;!l[--c];)l.pop();return t?++r:l.shift(),e.d=l,e.e=r,ar?qt(e,x.precision):e};He.toDecimalPlaces=He.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(li(e,0,zc),t===void 0?t=n.rounding:li(t,0,8),qt(r,e+Tr(r)+1,t))};He.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=no(n,!0):(li(e,0,zc),t===void 0?t=i.rounding:li(t,0,8),n=qt(new i(n),e+1,t),r=no(n,!0,e+1)),r};He.toFixed=function(e,t){var r,n,i=this,l=i.constructor;return e===void 0?no(i):(li(e,0,zc),t===void 0?t=l.rounding:li(t,0,8),n=qt(new l(i),e+Tr(i)+1,t),r=no(n.abs(),!1,e+Tr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};He.toInteger=He.toint=function(){var e=this,t=e.constructor;return qt(new t(e),Tr(e)+1,t.rounding)};He.toNumber=function(){return+this};He.toPower=He.pow=function(e){var t,r,n,i,l,c,u=this,f=u.constructor,m=12,p=+(e=new f(e));if(!e.s)return new f(Bn);if(u=new f(u),!u.s){if(e.s<1)throw Error(da+"Infinity");return u}if(u.eq(Bn))return u;if(n=f.precision,e.eq(Bn))return qt(u,n);if(t=e.e,r=e.d.length-1,c=t>=r,l=u.s,c){if((r=p<0?-p:p)<=r3){for(i=new f(Bn),t=Math.ceil(n/Qt+4),ar=!1;r%2&&(i=i.times(u),p5(i.d,t)),r=Bc(r/2),r!==0;)u=u.times(u),p5(u.d,t);return ar=!0,e.s<0?new f(Bn).div(i):qt(i,n)}}else if(l<0)throw Error(da+"NaN");return l=l<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,ar=!1,i=e.times(kd(u,n+m)),ar=!0,i=a3(i),i.s=l,i};He.toPrecision=function(e,t){var r,n,i=this,l=i.constructor;return e===void 0?(r=Tr(i),n=no(i,r<=l.toExpNeg||r>=l.toExpPos)):(li(e,1,zc),t===void 0?t=l.rounding:li(t,0,8),i=qt(new l(i),e,t),r=Tr(i),n=no(i,e<=r||r<=l.toExpNeg,e)),n};He.toSignificantDigits=He.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(li(e,1,zc),t===void 0?t=n.rounding:li(t,0,8)),qt(new n(r),e,t)};He.toString=He.valueOf=He.val=He.toJSON=He[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Tr(e),r=e.constructor;return no(e,t<=r.toExpNeg||t>=r.toExpPos)};function n3(e,t){var r,n,i,l,c,u,f,m,p=e.constructor,x=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),ar?qt(t,x):t;if(f=e.d,m=t.d,c=e.e,i=t.e,f=f.slice(),l=c-i,l){for(l<0?(n=f,l=-l,u=m.length):(n=m,i=c,u=f.length),c=Math.ceil(x/Qt),u=c>u?c+1:u+1,l>u&&(l=u,n.length=1),n.reverse();l--;)n.push(0);n.reverse()}for(u=f.length,l=m.length,u-l<0&&(l=u,n=m,m=f,f=n),r=0;l;)r=(f[--l]=f[l]+m[l]+r)/$r|0,f[l]%=$r;for(r&&(f.unshift(r),++i),u=f.length;f[--u]==0;)f.pop();return t.d=f,t.e=i,ar?qt(t,x):t}function li(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Vl+e)}function Ja(e){var t,r,n,i=e.length-1,l="",c=e[0];if(i>0){for(l+=c,t=1;t<i;t++)n=e[t]+"",r=Qt-n.length,r&&(l+=Ls(r)),l+=n;c=e[t],n=c+"",r=Qt-n.length,r&&(l+=Ls(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return l+c}var Hi=(function(){function e(n,i){var l,c=0,u=n.length;for(n=n.slice();u--;)l=n[u]*i+c,n[u]=l%$r|0,c=l/$r|0;return c&&n.unshift(c),n}function t(n,i,l,c){var u,f;if(l!=c)f=l>c?1:-1;else for(u=f=0;u<l;u++)if(n[u]!=i[u]){f=n[u]>i[u]?1:-1;break}return f}function r(n,i,l){for(var c=0;l--;)n[l]-=c,c=n[l]<i[l]?1:0,n[l]=c*$r+n[l]-i[l];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,l,c){var u,f,m,p,x,v,g,j,y,w,A,k,C,M,E,O,P,T,$=n.constructor,L=n.s==i.s?1:-1,H=n.d,D=i.d;if(!n.s)return new $(n);if(!i.s)throw Error(da+"Division by zero");for(f=n.e-i.e,P=D.length,E=H.length,g=new $(L),j=g.d=[],m=0;D[m]==(H[m]||0);)++m;if(D[m]>(H[m]||0)&&--f,l==null?k=l=$.precision:c?k=l+(Tr(n)-Tr(i))+1:k=l,k<0)return new $(0);if(k=k/Qt+2|0,m=0,P==1)for(p=0,D=D[0],k++;(m<E||p)&&k--;m++)C=p*$r+(H[m]||0),j[m]=C/D|0,p=C%D|0;else{for(p=$r/(D[0]+1)|0,p>1&&(D=e(D,p),H=e(H,p),P=D.length,E=H.length),M=P,y=H.slice(0,P),w=y.length;w<P;)y[w++]=0;T=D.slice(),T.unshift(0),O=D[0],D[1]>=$r/2&&++O;do p=0,u=t(D,y,P,w),u<0?(A=y[0],P!=w&&(A=A*$r+(y[1]||0)),p=A/O|0,p>1?(p>=$r&&(p=$r-1),x=e(D,p),v=x.length,w=y.length,u=t(x,y,v,w),u==1&&(p--,r(x,P<v?T:D,v))):(p==0&&(u=p=1),x=D.slice()),v=x.length,v<w&&x.unshift(0),r(y,x,w),u==-1&&(w=y.length,u=t(D,y,P,w),u<1&&(p++,r(y,P<w?T:D,w))),w=y.length):u===0&&(p++,y=[0]),j[m++]=p,u&&y[0]?y[w++]=H[M]||0:(y=[H[M]],w=1);while((M++<E||y[0]!==void 0)&&k--)}return j[0]||j.shift(),g.e=f,qt(g,c?l+Tr(g)+1:l)}})();function a3(e,t){var r,n,i,l,c,u,f=0,m=0,p=e.constructor,x=p.precision;if(Tr(e)>16)throw Error(Dw+Tr(e));if(!e.s)return new p(Bn);for(ar=!1,u=x,c=new p(.03125);e.abs().gte(.1);)e=e.times(c),m+=5;for(n=Math.log(Pl(2,m))/Math.LN10*2+5|0,u+=n,r=i=l=new p(Bn),p.precision=u;;){if(i=qt(i.times(e),u),r=r.times(++f),c=l.plus(Hi(i,r,u)),Ja(c.d).slice(0,u)===Ja(l.d).slice(0,u)){for(;m--;)l=qt(l.times(l),u);return p.precision=x,t==null?(ar=!0,qt(l,x)):l}l=c}}function Tr(e){for(var t=e.e*Qt,r=e.d[0];r>=10;r/=10)t++;return t}function jb(e,t,r){if(t>e.LN10.sd())throw ar=!0,r&&(e.precision=r),Error(da+"LN10 precision limit exceeded");return qt(new e(e.LN10),t)}function Ls(e){for(var t="";e--;)t+="0";return t}function kd(e,t){var r,n,i,l,c,u,f,m,p,x=1,v=10,g=e,j=g.d,y=g.constructor,w=y.precision;if(g.s<1)throw Error(da+(g.s?"NaN":"-Infinity"));if(g.eq(Bn))return new y(0);if(t==null?(ar=!1,m=w):m=t,g.eq(10))return t==null&&(ar=!0),jb(y,m);if(m+=v,y.precision=m,r=Ja(j),n=r.charAt(0),l=Tr(g),Math.abs(l)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(e),r=Ja(g.d),n=r.charAt(0),x++;l=Tr(g),n>1?(g=new y("0."+r),l++):g=new y(n+"."+r.slice(1))}else return f=jb(y,m+2,w).times(l+""),g=kd(new y(n+"."+r.slice(1)),m-v).plus(f),y.precision=w,t==null?(ar=!0,qt(g,w)):g;for(u=c=g=Hi(g.minus(Bn),g.plus(Bn),m),p=qt(g.times(g),m),i=3;;){if(c=qt(c.times(p),m),f=u.plus(Hi(c,new y(i),m)),Ja(f.d).slice(0,m)===Ja(u.d).slice(0,m))return u=u.times(2),l!==0&&(u=u.plus(jb(y,m+2,w).times(l+""))),u=Hi(u,new y(x),m),y.precision=w,t==null?(ar=!0,qt(u,w)):u;u=f,i+=2}}function m5(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Bc(r/Qt),e.d=[],n=(r+1)%Qt,r<0&&(n+=Qt),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Qt;n<i;)e.d.push(+t.slice(n,n+=Qt));t=t.slice(n),n=Qt-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),ar&&(e.e>fh||e.e<-fh))throw Error(Dw+r)}else e.s=0,e.e=0,e.d=[0];return e}function qt(e,t,r){var n,i,l,c,u,f,m,p,x=e.d;for(c=1,l=x[0];l>=10;l/=10)c++;if(n=t-c,n<0)n+=Qt,i=t,m=x[p=0];else{if(p=Math.ceil((n+1)/Qt),l=x.length,p>=l)return e;for(m=l=x[p],c=1;l>=10;l/=10)c++;n%=Qt,i=n-Qt+c}if(r!==void 0&&(l=Pl(10,c-i-1),u=m/l%10|0,f=t<0||x[p+1]!==void 0||m%l,f=r<4?(u||f)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||f||r==6&&(n>0?i>0?m/Pl(10,c-i):0:x[p-1])%10&1||r==(e.s<0?8:7))),t<1||!x[0])return f?(l=Tr(e),x.length=1,t=t-l-1,x[0]=Pl(10,(Qt-t%Qt)%Qt),e.e=Bc(-t/Qt)||0):(x.length=1,x[0]=e.e=e.s=0),e;if(n==0?(x.length=p,l=1,p--):(x.length=p+1,l=Pl(10,Qt-n),x[p]=i>0?(m/Pl(10,c-i)%Pl(10,i)|0)*l:0),f)for(;;)if(p==0){(x[0]+=l)==$r&&(x[0]=1,++e.e);break}else{if(x[p]+=l,x[p]!=$r)break;x[p--]=0,l=1}for(n=x.length;x[--n]===0;)x.pop();if(ar&&(e.e>fh||e.e<-fh))throw Error(Dw+Tr(e));return e}function i3(e,t){var r,n,i,l,c,u,f,m,p,x,v=e.constructor,g=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),ar?qt(t,g):t;if(f=e.d,x=t.d,n=t.e,m=e.e,f=f.slice(),c=m-n,c){for(p=c<0,p?(r=f,c=-c,u=x.length):(r=x,n=m,u=f.length),i=Math.max(Math.ceil(g/Qt),u)+2,c>i&&(c=i,r.length=1),r.reverse(),i=c;i--;)r.push(0);r.reverse()}else{for(i=f.length,u=x.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(f[i]!=x[i]){p=f[i]<x[i];break}c=0}for(p&&(r=f,f=x,x=r,t.s=-t.s),u=f.length,i=x.length-u;i>0;--i)f[u++]=0;for(i=x.length;i>c;){if(f[--i]<x[i]){for(l=i;l&&f[--l]===0;)f[l]=$r-1;--f[l],f[i]+=$r}f[i]-=x[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(t.d=f,t.e=n,ar?qt(t,g):t):new v(0)}function no(e,t,r){var n,i=Tr(e),l=Ja(e.d),c=l.length;return t?(r&&(n=r-c)>0?l=l.charAt(0)+"."+l.slice(1)+Ls(n):c>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(i<0?"e":"e+")+i):i<0?(l="0."+Ls(-i-1)+l,r&&(n=r-c)>0&&(l+=Ls(n))):i>=c?(l+=Ls(i+1-c),r&&(n=r-i-1)>0&&(l=l+"."+Ls(n))):((n=i+1)<c&&(l=l.slice(0,n)+"."+l.slice(n)),r&&(n=r-c)>0&&(i+1===c&&(l+="."),l+=Ls(n))),e.s<0?"-"+l:l}function p5(e,t){if(e.length>t)return e.length=t,!0}function s3(e){var t,r,n;function i(l){var c=this;if(!(c instanceof i))return new i(l);if(c.constructor=i,l instanceof i){c.s=l.s,c.e=l.e,c.d=(l=l.d)?l.slice():l;return}if(typeof l=="number"){if(l*0!==0)throw Error(Vl+l);if(l>0)c.s=1;else if(l<0)l=-l,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(l===~~l&&l<1e7){c.e=0,c.d=[l];return}return m5(c,l.toString())}else if(typeof l!="string")throw Error(Vl+l);if(l.charCodeAt(0)===45?(l=l.slice(1),c.s=-1):c.s=1,zG.test(l))m5(c,l);else throw Error(Vl+l)}if(i.prototype=He,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=s3,i.config=i.set=BG,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function BG(e){if(!e||typeof e!="object")throw Error(da+"Object expected");var t,r,n,i=["precision",1,zc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Bc(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Vl+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Vl+r+": "+n);return this}var _w=s3(FG);Bn=new _w(1);const Tt=_w;function l3(e){var t;return e===0?t=1:t=Math.floor(new Tt(e).abs().log(10).toNumber())+1,t}function o3(e,t,r){for(var n=new Tt(e),i=0,l=[];n.lt(t)&&i<1e5;)l.push(n.toNumber()),n=n.add(r),i++;return l}var c3=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},u3=(e,t,r)=>{if(e.lte(0))return new Tt(0);var n=l3(e.toNumber()),i=new Tt(10).pow(n),l=e.div(i),c=n!==1?.05:.1,u=new Tt(Math.ceil(l.div(c).toNumber())).add(r).mul(c),f=u.mul(i);return t?new Tt(f.toNumber()):new Tt(Math.ceil(f.toNumber()))},$G=(e,t,r)=>{var n=new Tt(1),i=new Tt(e);if(!i.isint()&&r){var l=Math.abs(e);l<1?(n=new Tt(10).pow(l3(e)-1),i=new Tt(Math.floor(i.div(n).toNumber())).mul(n)):l>1&&(i=new Tt(Math.floor(e)))}else e===0?i=new Tt(Math.floor((t-1)/2)):r||(i=new Tt(Math.floor(e)));for(var c=Math.floor((t-1)/2),u=[],f=0;f<t;f++)u.push(i.add(new Tt(f-c).mul(n)).toNumber());return u},d3=function(t,r,n,i){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Tt(0),tickMin:new Tt(0),tickMax:new Tt(0)};var c=u3(new Tt(r).sub(t).div(n-1),i,l),u;t<=0&&r>=0?u=new Tt(0):(u=new Tt(t).add(r).div(2),u=u.sub(new Tt(u).mod(c)));var f=Math.ceil(u.sub(t).div(c).toNumber()),m=Math.ceil(new Tt(r).sub(u).div(c).toNumber()),p=f+m+1;return p>n?d3(t,r,n,i,l+1):(p<n&&(m=r>0?m+(n-p):m,f=r>0?f:f+(n-p)),{step:c,tickMin:u.sub(new Tt(f).mul(c)),tickMax:u.add(new Tt(m).mul(c))})},HG=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(i,2),[u,f]=c3([r,n]);if(u===-1/0||f===1/0){var m=f===1/0?[u,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),f];return r>n?m.reverse():m}if(u===f)return $G(u,i,l);var{step:p,tickMin:x,tickMax:v}=d3(u,f,c,l,0),g=o3(x,v.add(new Tt(.1).mul(p)),p);return r>n?g.reverse():g},qG=function(t,r){var[n,i]=t,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,u]=c3([n,i]);if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var f=Math.max(r,2),m=u3(new Tt(u).sub(c).div(f-1),l,0),p=[...o3(new Tt(c),new Tt(u),m),u];return l===!1&&(p=p.map(x=>Math.round(x))),n>i?p.reverse():p},UG=e=>e.rootProps.barCategoryGap,Gd=e=>e.rootProps.stackOffset,f3=e=>e.rootProps.reverseStackOrder,Ow=e=>e.options.chartName,Tw=e=>e.rootProps.syncId,m3=e=>e.rootProps.syncMethod,Pw=e=>e.options.eventEmitter,Sa={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},El={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Ua={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},vx=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function p3(e,t,r){if(r!=="auto")return r;if(e!=null)return Js(e,t)?"category":"number"}function h5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h5(Object(r),!0).forEach(function(n){YG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YG(e,t,r){return(t=VG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VG(e){var t=GG(e,"string");return typeof t=="symbol"?t:t+""}function GG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x5={allowDataOverflow:El.allowDataOverflow,allowDecimals:El.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:El.angleAxisId,includeHidden:!1,name:void 0,reversed:El.reversed,scale:El.scale,tick:El.tick,tickCount:void 0,ticks:void 0,type:El.type,unit:void 0},v5={allowDataOverflow:Ua.allowDataOverflow,allowDecimals:Ua.allowDecimals,allowDuplicatedCategory:Ua.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ua.radiusAxisId,includeHidden:Ua.includeHidden,name:void 0,reversed:Ua.reversed,scale:Ua.scale,tick:Ua.tick,tickCount:Ua.tickCount,ticks:void 0,type:Ua.type,unit:void 0},WG=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},Iw=de([WG,rP],(e,t)=>{var r;if(e!=null)return e;var n=(r=p3(t,"angleAxis",x5.type))!==null&&r!==void 0?r:"category";return mh(mh({},x5),{},{type:n})}),KG=(e,t)=>e.polarAxis.radiusAxis[t],Rw=de([KG,rP],(e,t)=>{var r;if(e!=null)return e;var n=(r=p3(t,"radiusAxis",v5.type))!==null&&r!==void 0?r:"category";return mh(mh({},v5),{},{type:n})}),gx=e=>e.polarOptions,Lw=de([rs,ns,qr],xP),h3=de([gx,Lw],(e,t)=>{if(e!=null)return Hn(e.innerRadius,t,0)}),x3=de([gx,Lw],(e,t)=>{if(e!=null)return Hn(e.outerRadius,t,t*.8)}),QG=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},v3=de([gx],QG);de([Iw,v3],vx);var g3=de([Lw,h3,x3],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});de([Rw,g3],vx);var b3=de([sr,gx,h3,x3,rs,ns],(e,t,r,n,i,l)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:c,cy:u,startAngle:f,endAngle:m}=t;return{cx:Hn(c,i,i/2),cy:Hn(u,l,l/2),innerRadius:r,outerRadius:n,startAngle:f,endAngle:m,clockWise:!1}}}),cr=(e,t)=>t,Wd=(e,t,r)=>r;function y3(e){return e?.id}function w3(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:l}=r,c=new Map;return e.forEach(u=>{var f,m=(f=u.data)!==null&&f!==void 0?f:n;if(!(m==null||m.length===0)){var p=y3(u);m.forEach((x,v)=>{var g=l==null||i?v:String(vr(x,l,null)),j=vr(x,u.dataKey,0),y;c.has(g)?y=c.get(g):y={},Object.assign(y,{[p]:j}),c.set(g,y)})}}),Array.from(c.values())}function Fw(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var bx=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function yx(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function XG(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Yr=e=>{var t=sr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},$c=e=>e.tooltip.settings.axisId;function ZG(e){if(e in od)return od[e]();var t="scale".concat(Rd(e));if(t in od)return od[t]()}function g5(e){var t=e.ticks,r=e.bandwidth,n=e.range(),i=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:(function(l){function c(){return l.apply(this,arguments)}return c.toString=function(){return l.toString()},c})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(l){var c=i[0],u=i[1];return c<=u?l>=c&&l<=u:l>=u&&l<=c},bandwidth:r?()=>r.call(e):void 0,ticks:t?l=>t.call(e,l):void 0,map:(l,c)=>{var u=e(l);if(u!=null){if(e.bandwidth&&c!==null&&c!==void 0&&c.position){var f=e.bandwidth();switch(c.position){case"middle":u+=f/2;break;case"end":u+=f;break}}return u}}}}function b5(e,t,r){if(typeof e=="function")return g5(e.copy().domain(t).range(r));if(e!=null){var n=ZG(e);if(n!=null)return n.domain(t).range(r),g5(n)}}var N3=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Zi(t)){for(var r,n,i=0;i<t.length;i++){var l=t[i];zt(l)&&((r===void 0||l<r)&&(r=l),(n===void 0||l>n)&&(n=l))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function y5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ph(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y5(Object(r),!0).forEach(function(n){JG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JG(e,t,r){return(t=eW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eW(e){var t=tW(e,"string");return typeof t=="symbol"?t:t+""}function tW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xy=[0,"auto"],rW={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},nW=(e,t)=>e.cartesianAxis.xAxis[t],al=(e,t)=>{var r=nW(e,t);return r??rW},aW={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Xy,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Bd},iW=(e,t)=>e.cartesianAxis.yAxis[t],il=(e,t)=>{var r=iW(e,t);return r??aW},sW={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},zw=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??sW},br=(e,t,r)=>{switch(t){case"xAxis":return al(e,r);case"yAxis":return il(e,r);case"zAxis":return zw(e,r);case"angleAxis":return Iw(e,r);case"radiusAxis":return Rw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},lW=(e,t,r)=>{switch(t){case"xAxis":return al(e,r);case"yAxis":return il(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Hc=(e,t,r)=>{switch(t){case"xAxis":return al(e,r);case"yAxis":return il(e,r);case"angleAxis":return Iw(e,r);case"radiusAxis":return Rw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},j3=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Bw(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var oW=e=>e.graphicalItems.cartesianItems,cW=de([cr,Wd],Bw),$w=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Kd=de([oW,br,cW],$w,{memoizeOptions:{resultEqualityCheck:yx}}),S3=de([Kd],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Fw)),C3=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),uW=de([Kd],C3),Hw=e=>e.map(t=>t.data).filter(Boolean).flat(1),dW=de([Kd],Hw,{memoizeOptions:{resultEqualityCheck:yx}}),qw=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},Uw=de([dW,e3],qw),Yw=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:vr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:vr(i,n)}))):e.map(n=>({value:n})),wx=de([Uw,br,Kd],Yw);function A3(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function vp(e){if(Gi(e)||e instanceof Date){var t=Number(e);if(zt(t))return t}}function w5(e){if(Array.isArray(e)){var t=[vp(e[0]),vp(e[1])];return Zi(t)?t:void 0}var r=vp(e);if(r!=null)return[r,r]}function Ji(e){return e.map(vp).filter(Xa)}function fW(e,t,r){return!r||typeof t!="number"||Vi(t)?[]:r.length?Ji(r.flatMap(n=>{var i=vr(e,n.dataKey),l,c;if(Array.isArray(i)?[l,c]=i:l=c=i,!(!zt(l)||!zt(c)))return[t-l,t+c]})):[]}var zr=e=>{var t=Yr(e),r=$c(e);return Hc(e,t,r)},Qd=de([zr],e=>e?.dataKey),mW=de([S3,e3,zr],w3),k3=(e,t,r,n)=>{var i={},l=t.reduce((c,u)=>{if(u.stackId==null)return c;var f=c[u.stackId];return f==null&&(f=[]),f.push(u),c[u.stackId]=f,c},i);return Object.fromEntries(Object.entries(l).map(c=>{var[u,f]=c,m=n?[...f].reverse():f,p=m.map(y3);return[u,{stackedData:$H(e,p,r),graphicalItems:m}]}))},pW=de([mW,S3,Gd,f3],k3),M3=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:l}=t;if(n==null&&r!=="zAxis"){var c=UH(e,i,l);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},hW=de([br],e=>e.allowDataOverflow),Vw=e=>{var t;if(e==null||!("domain"in e))return Xy;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Ji(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Xy},Gw=de([br],Vw),Ww=de([Gw,hW],t3),xW=de([pW,nl,cr,Ww],M3,{memoizeOptions:{resultEqualityCheck:bx}}),Nx=e=>e.errorBars,vW=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>A3(r,n)),hh=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var l=i.flat(),c=Math.min(...l),u=Math.max(...l);return[c,u]}},Kw=(e,t,r,n,i)=>{var l,c;if(r.length>0&&e.forEach(u=>{r.forEach(f=>{var m,p,x=(m=n[f.id])===null||m===void 0?void 0:m.filter(A=>A3(i,A)),v=vr(u,(p=t.dataKey)!==null&&p!==void 0?p:f.dataKey),g=fW(u,v,x);if(g.length>=2){var j=Math.min(...g),y=Math.max(...g);(l==null||j<l)&&(l=j),(c==null||y>c)&&(c=y)}var w=w5(v);w!=null&&(l=l==null?w[0]:Math.min(l,w[0]),c=c==null?w[1]:Math.max(c,w[1]))})}),t?.dataKey!=null&&e.forEach(u=>{var f=w5(vr(u,t.dataKey));f!=null&&(l=l==null?f[0]:Math.min(l,f[0]),c=c==null?f[1]:Math.max(c,f[1]))}),zt(l)&&zt(c))return[l,c]},gW=de([Uw,br,uW,Nx,cr],Kw,{memoizeOptions:{resultEqualityCheck:bx}});function bW(e){var{value:t}=e;if(Gi(t)||t instanceof Date)return t}var yW=(e,t,r)=>{var n=e.map(bW).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&nT(n))?yP(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},E3=e=>e.referenceElements.dots,qc=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),wW=de([E3,cr,Wd],qc),D3=e=>e.referenceElements.areas,NW=de([D3,cr,Wd],qc),_3=e=>e.referenceElements.lines,jW=de([_3,cr,Wd],qc),O3=(e,t)=>{if(e!=null){var r=Ji(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},SW=de(wW,cr,O3),T3=(e,t)=>{if(e!=null){var r=Ji(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},CW=de([NW,cr],T3);function AW(e){var t;if(e.x!=null)return Ji([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Ji(r)}function kW(e){var t;if(e.y!=null)return Ji([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Ji(r)}var P3=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?AW(n):kW(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},MW=de([jW,cr],P3),EW=de(SW,MW,CW,(e,t,r)=>hh(e,r,t)),Qw=(e,t,r,n,i,l,c,u)=>{if(r!=null)return r;var f=c==="vertical"&&u==="xAxis"||c==="horizontal"&&u==="yAxis",m=f?hh(n,l,i):hh(l,i);return LG(t,m,e.allowDataOverflow)},DW=de([br,Gw,Ww,xW,gW,EW,sr,cr],Qw,{memoizeOptions:{resultEqualityCheck:bx}}),_W=[0,1],Xw=(e,t,r,n,i,l,c)=>{if(!((e==null||r==null||r.length===0)&&c===void 0)){var{dataKey:u,type:f}=e,m=Js(t,l);if(m&&u==null){var p;return yP(0,(p=r?.length)!==null&&p!==void 0?p:0)}return f==="category"?yW(n,e,m):i==="expand"?_W:c}},Zw=de([br,sr,Uw,wx,Gd,cr,DW],Xw);function OW(e){return e in od}var I3=(e,t,r)=>{if(e!=null){var{scale:n,type:i}=e;if(n==="auto")return i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof n=="string"){var l="scale".concat(Rd(n));return OW(l)?l:"point"}}},sl=de([br,j3,Ow],I3);function Jw(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?b5(e.scale,r,n):b5(t,r,n)}var eN=(e,t,r)=>{var n=Vw(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Zi(e))return HG(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Zi(e))return qG(e,t.tickCount,t.allowDecimals)}},tN=de([Zw,Hc,sl],eN),rN=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Zi(t)&&Array.isArray(r)&&r.length>0){var i,l,c=t[0],u=(i=r[0])!==null&&i!==void 0?i:0,f=t[1],m=(l=r[r.length-1])!==null&&l!==void 0?l:0;return[Math.min(c,u),Math.max(f,m)]}return t},TW=de([br,Zw,tN,cr],rN),PW=de(wx,br,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Ji(e.map(x=>x.value))).sort((x,v)=>x-v),i=n[0],l=n[n.length-1];if(i==null||l==null)return 1/0;var c=l-i;if(c===0)return 1/0;for(var u=0;u<n.length-1;u++){var f=n[u],m=n[u+1];if(!(f==null||m==null)){var p=m-f;r=Math.min(r,p)}}return r/c}}),R3=de(PW,sr,UG,qr,(e,t,r,n,i)=>i,(e,t,r,n,i)=>{if(!zt(e))return 0;var l=t==="vertical"?n.height:n.width;if(i==="gap")return e*l/2;if(i==="no-gap"){var c=Hn(r,e*l),u=e*l/2;return u-c-(u-c)/l*c}return 0}),IW=(e,t,r)=>{var n=al(e,t);return n==null||typeof n.padding!="string"?0:R3(e,"xAxis",t,r,n.padding)},RW=(e,t,r)=>{var n=il(e,t);return n==null||typeof n.padding!="string"?0:R3(e,"yAxis",t,r,n.padding)},LW=de(al,IW,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),FW=de(il,RW,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),zW=de([qr,LW,ix,ax,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:l}=n;return i?[l.left,r.width-l.right]:[e.left+t.left,e.left+e.width-t.right]}),BW=de([qr,sr,FW,ix,ax,(e,t,r)=>r],(e,t,r,n,i,l)=>{var{padding:c}=i;return l?[n.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Xd=(e,t,r,n)=>{var i;switch(t){case"xAxis":return zW(e,r,n);case"yAxis":return BW(e,r,n);case"zAxis":return(i=zw(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return v3(e);case"radiusAxis":return g3(e,r);default:return}},L3=de([br,Xd],vx),$W=de([sl,TW],N3),jx=de([br,sl,$W,L3],Jw);de([Kd,Nx,cr],vW);function F3(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Sx=(e,t)=>t,Cx=(e,t,r)=>r,HW=de(rx,Sx,Cx,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(F3)),qW=de(nx,Sx,Cx,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(F3)),z3=(e,t)=>({width:e.width,height:t.height}),UW=(e,t)=>{var r=typeof t.width=="number"?t.width:Bd;return{width:r,height:e.height}};de(qr,al,z3);var YW=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},VW=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},GW=de(ns,qr,HW,Sx,Cx,(e,t,r,n,i)=>{var l={},c;return r.forEach(u=>{var f=z3(t,u);c==null&&(c=YW(t,n,e));var m=n==="top"&&!i||n==="bottom"&&i;l[u.id]=c-Number(m)*f.height,c+=(m?-1:1)*f.height}),l}),WW=de(rs,qr,qW,Sx,Cx,(e,t,r,n,i)=>{var l={},c;return r.forEach(u=>{var f=UW(t,u);c==null&&(c=VW(t,n,e));var m=n==="left"&&!i||n==="right"&&i;l[u.id]=c-Number(m)*f.width,c+=(m?-1:1)*f.width}),l}),KW=(e,t)=>{var r=al(e,t);if(r!=null)return GW(e,r.orientation,r.mirror)};de([qr,al,KW,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}});var QW=(e,t)=>{var r=il(e,t);if(r!=null)return WW(e,r.orientation,r.mirror)};de([qr,il,QW,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}});de(qr,il,(e,t)=>{var r=typeof t.width=="number"?t.width:Bd;return{width:r,height:e.height}});var B3=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:l,dataKey:c}=r,u=Js(e,n),f=t.map(m=>m.value);if(c&&u&&l==="category"&&i&&nT(f))return f}},nN=de([sr,wx,br,cr],B3),$3=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:l}=r,c=Js(e,n);if(c&&(i==="number"||l!=="auto"))return t.map(u=>u.value)}},aN=de([sr,wx,Hc,cr],$3);de([sr,lW,sl,jx,nN,aN,Xd,tN,cr],(e,t,r,n,i,l,c,u,f)=>{if(t!=null){var m=Js(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:l,duplicateDomain:i,isCategorical:m,niceTicks:u,range:c,realScaleType:r,scale:n}}});var XW=(e,t,r,n,i,l,c,u,f)=>{if(!(t==null||n==null)){var m=Js(e,f),{type:p,ticks:x,tickCount:v}=t,g=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,j=p==="category"&&n.bandwidth?n.bandwidth()/g:0;j=f==="angleAxis"&&l!=null&&l.length>=2?jn(l[0]-l[1])*2*j:j;var y=x||i;return y?y.map((w,A)=>{var k=c?c.indexOf(w):w,C=n.map(k);return zt(C)?{index:A,coordinate:C+j,value:w,offset:j}:null}).filter(Xa):m&&u?u.map((w,A)=>{var k=n.map(w);return zt(k)?{coordinate:k+j,value:w,index:A,offset:j}:null}).filter(Xa):n.ticks?n.ticks(v).map((w,A)=>{var k=n.map(w);return zt(k)?{coordinate:k+j,value:w,index:A,offset:j}:null}).filter(Xa):n.domain().map((w,A)=>{var k=n.map(w);return zt(k)?{coordinate:k+j,value:c?c[w]:w,index:A,offset:j}:null}).filter(Xa)}};de([sr,Hc,sl,jx,tN,Xd,nN,aN,cr],XW);var ZW=(e,t,r,n,i,l,c)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var u=Js(e,c),{tickCount:f}=t,m=0;return m=c==="angleAxis"&&n?.length>=2?jn(n[0]-n[1])*2*m:m,u&&l?l.map((p,x)=>{var v=r.map(p);return zt(v)?{coordinate:v+m,value:p,index:x,offset:m}:null}).filter(Xa):r.ticks?r.ticks(f).map((p,x)=>{var v=r.map(p);return zt(v)?{coordinate:v+m,value:p,index:x,offset:m}:null}).filter(Xa):r.domain().map((p,x)=>{var v=r.map(p);return zt(v)?{coordinate:v+m,value:i?i[p]:p,index:x,offset:m}:null}).filter(Xa)}};de([sr,Hc,jx,Xd,nN,aN,cr],ZW);de(br,jx,(e,t)=>{if(!(e==null||t==null))return ph(ph({},e),{},{scale:t})});var JW=de([br,sl,Zw,L3],Jw);de((e,t,r)=>zw(e,r),JW,(e,t)=>{if(!(e==null||t==null))return ph(ph({},e),{},{scale:t})});var eK=de([sr,rx,nx],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),H3=e=>e.options.defaultTooltipEventType,q3=e=>e.options.validateTooltipEventTypes;function U3(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function iN(e,t){var r=H3(e),n=q3(e);return U3(t,r,n)}function tK(e){return ct(t=>iN(t,e))}var Y3=(e,t)=>{var r,n=Number(t);if(!(Vi(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},rK=e=>e.tooltip.settings,zs={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},nK={itemInteraction:{click:zs,hover:zs},axisInteraction:{click:zs,hover:zs},keyboardInteraction:zs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},V3=An({name:"tooltip",initialState:nK,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:nr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Ca(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:nr()},removeTooltipEntrySettings:{reducer(e,t){var r=Ca(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:nr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:aK,replaceTooltipEntrySettings:iK,removeTooltipEntrySettings:sK,setTooltipSettingsState:lK,setActiveMouseOverItemIndex:G3,mouseLeaveItem:oK,mouseLeaveChart:W3,setActiveClickItemIndex:cK,setMouseOverAxisIndex:K3,setMouseClickAxisIndex:uK,setSyncInteraction:Zy,setKeyboardInteraction:Jy}=V3.actions,dK=V3.reducer;function N5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N5(Object(r),!0).forEach(function(n){fK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fK(e,t,r){return(t=mK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mK(e){var t=pK(e,"string");return typeof t=="symbol"?t:t+""}function pK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hK(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function xK(e){return e.index!=null}var Q3=(e,t,r,n)=>{if(t==null)return zs;var i=hK(e,t,r);if(i==null)return zs;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var l=e.settings.active===!0;if(xK(i)){if(l)return Pm(Pm({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Pm(Pm({},zs),{},{coordinate:i.coordinate})};function vK(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function gK(e,t){var r=vK(e),n=t[0],i=t[1];if(r===void 0)return!1;var l=Math.min(n,i),c=Math.max(n,i);return r>=l&&r<=c}function bK(e,t,r){if(r==null||t==null)return!0;var n=vr(e,t);return n==null||!Zi(r)?!0:gK(n,r)}var sN=(e,t,r,n)=>{var i=e?.index;if(i==null)return null;var l=Number(i);if(!zt(l))return i;var c=0,u=1/0;t.length>0&&(u=t.length-1);var f=Math.max(c,Math.min(l,u)),m=t[f];return m==null||bK(m,r,n)?String(f):null},X3=(e,t,r,n,i,l,c)=>{if(l!=null){var u=c[0],f=u?.getPosition(l);if(f!=null)return f;var m=i?.[Number(l)];if(m)return r==="horizontal"?{x:m.coordinate,y:(n.top+t)/2}:{x:(n.left+e)/2,y:m.coordinate}}},Z3=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&n!=null){var l=e.tooltipItemPayloads[0];return l!=null?[l]:[]}return e.tooltipItemPayloads.filter(c=>{var u;return((u=c.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},J3=e=>e.options.tooltipPayloadSearcher,Uc=e=>e.tooltip;function j5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function S5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j5(Object(r),!0).forEach(function(n){yK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yK(e,t,r){return(t=wK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wK(e){var t=NK(e,"string");return typeof t=="symbol"?t:t+""}function NK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jK(e,t){return e??t}var e4=(e,t,r,n,i,l,c)=>{if(!(t==null||l==null)){var{chartData:u,computedData:f,dataStartIndex:m,dataEndIndex:p}=r,x=[];return e.reduce((v,g)=>{var j,{dataDefinedOnItem:y,settings:w}=g,A=jK(y,u),k=Array.isArray(A)?WT(A,m,p):A,C=(j=w?.dataKey)!==null&&j!==void 0?j:n,M=w?.nameKey,E;if(n&&Array.isArray(k)&&!Array.isArray(k[0])&&c==="axis"?E=w9(k,n,i):E=l(k,t,f,M),Array.isArray(E))E.forEach(P=>{var T=S5(S5({},w),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});v.push(Ck({tooltipEntrySettings:T,dataKey:P.dataKey,payload:P.payload,value:vr(P.payload,P.dataKey),name:P.name}))});else{var O;v.push(Ck({tooltipEntrySettings:w,dataKey:C,payload:E,value:vr(E,C),name:(O=vr(E,M))!==null&&O!==void 0?O:w?.name}))}return v},x)}},lN=de([zr,j3,Ow],I3),SK=de([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),CK=de([Yr,$c],Bw),Yc=de([SK,zr,CK],$w,{memoizeOptions:{resultEqualityCheck:yx}}),AK=de([Yc],e=>e.filter(Fw)),kK=de([Yc],Hw,{memoizeOptions:{resultEqualityCheck:yx}}),Vc=de([kK,nl],qw),MK=de([AK,nl,zr],w3),oN=de([Vc,zr,Yc],Yw),t4=de([zr],Vw),EK=de([zr],e=>e.allowDataOverflow),r4=de([t4,EK],t3),DK=de([Yc],e=>e.filter(Fw)),_K=de([MK,DK,Gd,f3],k3),OK=de([_K,nl,Yr,r4],M3),TK=de([Yc],C3),PK=de([Vc,zr,TK,Nx,Yr],Kw,{memoizeOptions:{resultEqualityCheck:bx}}),IK=de([E3,Yr,$c],qc),RK=de([IK,Yr],O3),LK=de([D3,Yr,$c],qc),FK=de([LK,Yr],T3),zK=de([_3,Yr,$c],qc),BK=de([zK,Yr],P3),$K=de([RK,BK,FK],hh),HK=de([zr,t4,r4,OK,PK,$K,sr,Yr],Qw),Zd=de([zr,sr,Vc,oN,Gd,Yr,HK],Xw),qK=de([Zd,zr,lN],eN),UK=de([zr,Zd,qK,Yr],rN),n4=e=>{var t=Yr(e),r=$c(e),n=!1;return Xd(e,t,r,n)},a4=de([zr,n4],vx),i4=de([zr,lN,UK,a4],Jw),YK=de([sr,oN,zr,Yr],B3),VK=de([sr,oN,zr,Yr],$3),GK=(e,t,r,n,i,l,c,u)=>{if(t){var{type:f}=t,m=Js(e,u);if(n){var p=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,x=f==="category"&&n.bandwidth?n.bandwidth()/p:0;return x=u==="angleAxis"&&i!=null&&i?.length>=2?jn(i[0]-i[1])*2*x:x,m&&c?c.map((v,g)=>{var j=n.map(v);return zt(j)?{coordinate:j+x,value:v,index:g,offset:x}:null}).filter(Xa):n.domain().map((v,g)=>{var j=n.map(v);return zt(j)?{coordinate:j+x,value:l?l[v]:v,index:g,offset:x}:null}).filter(Xa)}}},is=de([sr,zr,lN,i4,n4,YK,VK,Yr],GK),cN=de([H3,q3,rK],(e,t,r)=>U3(r.shared,e,t)),s4=e=>e.tooltip.settings.trigger,uN=e=>e.tooltip.settings.defaultIndex,Jd=de([Uc,cN,s4,uN],Q3),Md=de([Jd,Vc,Qd,Zd],sN),l4=de([is,Md],Y3),o4=de([Jd],e=>{if(e)return e.dataKey}),WK=de([Jd],e=>{if(e)return e.graphicalItemId}),c4=de([Uc,cN,s4,uN],Z3),KK=de([rs,ns,sr,qr,is,uN,c4],X3),QK=de([Jd,KK],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),XK=de([Jd],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),ZK=de([c4,Md,nl,Qd,l4,J3,cN],e4);de([ZK],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function C5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function A5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C5(Object(r),!0).forEach(function(n){JK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JK(e,t,r){return(t=eQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eQ(e){var t=tQ(e,"string");return typeof t=="symbol"?t:t+""}function tQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rQ=()=>ct(zr),nQ=()=>{var e=rQ(),t=ct(is),r=ct(i4);return Sk(!e||!r?void 0:A5(A5({},e),{},{scale:r}),t)};function k5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ko(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k5(Object(r),!0).forEach(function(n){aQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aQ(e,t,r){return(t=iQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iQ(e){var t=sQ(e,"string");return typeof t=="symbol"?t:t+""}function sQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lQ=(e,t,r,n)=>{var i=t.find(l=>l&&l.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},oQ=(e,t,r,n)=>{var i=t.find(m=>m&&m.index===r);if(i){if(e==="centric"){var l=i.coordinate,{radius:c}=n;return Ko(Ko(Ko({},n),Or(n.cx,n.cy,c,l)),{},{angle:l,radius:c})}var u=i.coordinate,{angle:f}=n;return Ko(Ko(Ko({},n),Or(n.cx,n.cy,u,f)),{},{angle:f,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function cQ(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var u4=(e,t,r,n,i)=>{var l,c=(l=t?.length)!==null&&l!==void 0?l:0;if(c<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<c;u++){var f,m,p,x,v,g=u>0?(f=r[u-1])===null||f===void 0?void 0:f.coordinate:(m=r[c-1])===null||m===void 0?void 0:m.coordinate,j=(p=r[u])===null||p===void 0?void 0:p.coordinate,y=u>=c-1?(x=r[0])===null||x===void 0?void 0:x.coordinate:(v=r[u+1])===null||v===void 0?void 0:v.coordinate,w=void 0;if(!(g==null||j==null||y==null))if(jn(j-g)!==jn(y-j)){var A=[];if(jn(y-j)===jn(i[1]-i[0])){w=y;var k=j+i[1]-i[0];A[0]=Math.min(k,(k+g)/2),A[1]=Math.max(k,(k+g)/2)}else{w=g;var C=y+i[1]-i[0];A[0]=Math.min(j,(C+j)/2),A[1]=Math.max(j,(C+j)/2)}var M=[Math.min(j,(w+j)/2),Math.max(j,(w+j)/2)];if(e>M[0]&&e<=M[1]||e>=A[0]&&e<=A[1]){var E;return(E=r[u])===null||E===void 0?void 0:E.index}}else{var O=Math.min(g,y),P=Math.max(g,y);if(e>(O+j)/2&&e<=(P+j)/2){var T;return(T=r[u])===null||T===void 0?void 0:T.index}}}else if(t)for(var $=0;$<c;$++){var L=t[$];if(L!=null){var H=t[$+1],D=t[$-1];if($===0&&H!=null&&e<=(L.coordinate+H.coordinate)/2||$===c-1&&D!=null&&e>(L.coordinate+D.coordinate)/2||$>0&&$<c-1&&D!=null&&H!=null&&e>(L.coordinate+D.coordinate)/2&&e<=(L.coordinate+H.coordinate)/2)return L.index}}return-1},uQ=()=>ct(Ow),dN=(e,t)=>t,d4=(e,t,r)=>r,fN=(e,t,r,n)=>n,dQ=de(is,e=>Vh(e,t=>t.coordinate)),mN=de([Uc,dN,d4,fN],Q3),pN=de([mN,Vc,Qd,Zd],sN),fQ=(e,t,r)=>{if(t!=null){var n=Uc(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},f4=de([Uc,dN,d4,fN],Z3),xh=de([rs,ns,sr,qr,is,fN,f4],X3),mQ=de([mN,xh],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),m4=de([is,pN],Y3),pQ=de([f4,pN,nl,Qd,m4,J3,dN],e4),hQ=de([mN,pN],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),xQ=(e,t,r,n,i,l,c)=>{if(!(!e||!r||!n||!i)&&cQ(e,c)){var u=YH(e,t),f=u4(u,l,i,r,n),m=lQ(t,i,f,e);return{activeIndex:String(f),activeCoordinate:m}}},vQ=(e,t,r,n,i,l,c)=>{if(!(!e||!n||!i||!l||!r)){var u=JU(e,r);if(u){var f=VH(u,t),m=u4(f,c,l,n,i),p=oQ(t,l,m,u);return{activeIndex:String(m),activeCoordinate:p}}}},gQ=(e,t,r,n,i,l,c,u)=>{if(!(!e||!t||!n||!i||!l))return t==="horizontal"||t==="vertical"?xQ(e,t,n,i,l,c,u):vQ(e,t,r,n,i,l,c)},bQ=de(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),yQ=de(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Sa)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:XG}});function M5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function E5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M5(Object(r),!0).forEach(function(n){wQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wQ(e,t,r){return(t=NQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NQ(e){var t=jQ(e,"string");return typeof t=="symbol"?t:t+""}function jQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SQ={},CQ={zIndexMap:Object.values(Sa).reduce((e,t)=>E5(E5({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),SQ)},AQ=new Set(Object.values(Sa));function kQ(e){return AQ.has(e)}var p4=An({name:"zIndex",initialState:CQ,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:nr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!kQ(r)&&delete e.zIndexMap[r])},prepare:nr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:nr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:nr()}}}),{registerZIndexPortal:MQ,unregisterZIndexPortal:EQ,registerZIndexPortalElement:DQ,unregisterZIndexPortalElement:_Q}=p4.actions,OQ=p4.reducer;function ef(e){var{zIndex:t,children:r}=e,n=Cq(),i=n&&t!==void 0&&t!==0,l=el(),c=Lr();N.useLayoutEffect(()=>i?(c(MQ({zIndex:t})),()=>{c(EQ({zIndex:t}))}):Ld,[c,t,i]);var u=ct(f=>bQ(f,t,l));return i?u?Ic.createPortal(r,u):null:r}function e1(){return e1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e1.apply(null,arguments)}function D5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Im(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D5(Object(r),!0).forEach(function(n){TQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TQ(e,t,r){return(t=PQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PQ(e){var t=IQ(e,"string");return typeof t=="symbol"?t:t+""}function IQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RQ(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return N.isValidElement(t)?N.cloneElement(t,n):N.createElement(r,n)}function LQ(e){var t,{coordinate:r,payload:n,index:i,offset:l,tooltipAxisBandSize:c,layout:u,cursor:f,tooltipEventType:m,chartName:p}=e,x=r,v=n,g=i;if(!f||!x||p!=="ScatterChart"&&m!=="axis")return null;var j,y,w;if(p==="ScatterChart")j=x,y=mU,w=Sa.cursorLine;else if(p==="BarChart")j=pU(u,x,l,c),y=hP,w=Sa.cursorRectangle;else if(u==="radial"&&sT(x)){var{cx:A,cy:k,radius:C,startAngle:M,endAngle:E}=vP(x);j={cx:A,cy:k,startAngle:M,endAngle:E,innerRadius:C,outerRadius:C},y=bP,w=Sa.cursorLine}else j={points:nY(u,x,l)},y=rw,w=Sa.cursorLine;var O=typeof f=="object"&&"className"in f?f.className:void 0,P=Im(Im(Im(Im({stroke:"#ccc",pointerEvents:"none"},l),j),my(f)),{},{payload:v,payloadIndex:g,className:dt("recharts-tooltip-cursor",O)});return N.createElement(ef,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:w},N.createElement(RQ,{cursor:f,cursorComp:y,cursorProps:P}))}function FQ(e){var t=nQ(),r=Nq(),n=lx(),i=uQ();return t==null||r==null||n==null||i==null?null:N.createElement(LQ,e1({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var h4=N.createContext(null),zQ=()=>N.useContext(h4),Sb={exports:{}},_5;function BQ(){return _5||(_5=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(f,m,p){this.fn=f,this.context=m,this.once=p||!1}function l(f,m,p,x,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var g=new i(p,x||f,v),j=r?r+m:m;return f._events[j]?f._events[j].fn?f._events[j]=[f._events[j],g]:f._events[j].push(g):(f._events[j]=g,f._eventsCount++),f}function c(f,m){--f._eventsCount===0?f._events=new n:delete f._events[m]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var m=[],p,x;if(this._eventsCount===0)return m;for(x in p=this._events)t.call(p,x)&&m.push(r?x.slice(1):x);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(p)):m},u.prototype.listeners=function(m){var p=r?r+m:m,x=this._events[p];if(!x)return[];if(x.fn)return[x.fn];for(var v=0,g=x.length,j=new Array(g);v<g;v++)j[v]=x[v].fn;return j},u.prototype.listenerCount=function(m){var p=r?r+m:m,x=this._events[p];return x?x.fn?1:x.length:0},u.prototype.emit=function(m,p,x,v,g,j){var y=r?r+m:m;if(!this._events[y])return!1;var w=this._events[y],A=arguments.length,k,C;if(w.fn){switch(w.once&&this.removeListener(m,w.fn,void 0,!0),A){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,p),!0;case 3:return w.fn.call(w.context,p,x),!0;case 4:return w.fn.call(w.context,p,x,v),!0;case 5:return w.fn.call(w.context,p,x,v,g),!0;case 6:return w.fn.call(w.context,p,x,v,g,j),!0}for(C=1,k=new Array(A-1);C<A;C++)k[C-1]=arguments[C];w.fn.apply(w.context,k)}else{var M=w.length,E;for(C=0;C<M;C++)switch(w[C].once&&this.removeListener(m,w[C].fn,void 0,!0),A){case 1:w[C].fn.call(w[C].context);break;case 2:w[C].fn.call(w[C].context,p);break;case 3:w[C].fn.call(w[C].context,p,x);break;case 4:w[C].fn.call(w[C].context,p,x,v);break;default:if(!k)for(E=1,k=new Array(A-1);E<A;E++)k[E-1]=arguments[E];w[C].fn.apply(w[C].context,k)}}return!0},u.prototype.on=function(m,p,x){return l(this,m,p,x,!1)},u.prototype.once=function(m,p,x){return l(this,m,p,x,!0)},u.prototype.removeListener=function(m,p,x,v){var g=r?r+m:m;if(!this._events[g])return this;if(!p)return c(this,g),this;var j=this._events[g];if(j.fn)j.fn===p&&(!v||j.once)&&(!x||j.context===x)&&c(this,g);else{for(var y=0,w=[],A=j.length;y<A;y++)(j[y].fn!==p||v&&!j[y].once||x&&j[y].context!==x)&&w.push(j[y]);w.length?this._events[g]=w.length===1?w[0]:w:c(this,g)}return this},u.prototype.removeAllListeners=function(m){var p;return m?(p=r?r+m:m,this._events[p]&&c(this,p)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(Sb)),Sb.exports}var $Q=BQ();const HQ=ci($Q);var Ed=new HQ,t1="recharts.syncEvent.tooltip",O5="recharts.syncEvent.brush",qQ=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!Vi(r))return e[r]}},UQ={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},x4=An({name:"options",initialState:UQ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),YQ=x4.reducer,{createEventEmitter:VQ}=x4.actions;function GQ(e){return e.tooltip.syncInteraction}var WQ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},v4=An({name:"chartData",initialState:WQ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:T5,setDataStartEndIndexes:KQ,setComputedData:gce}=v4.actions,QQ=v4.reducer,XQ=["x","y"];function P5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P5(Object(r),!0).forEach(function(n){ZQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZQ(e,t,r){return(t=JQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JQ(e){var t=eX(e,"string");return typeof t=="symbol"?t:t+""}function eX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tX(e,t){if(e==null)return{};var r,n,i=rX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function rX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nX(){var e=ct(Tw),t=ct(Pw),r=Lr(),n=ct(m3),i=ct(is),l=lx(),c=sx(),u=ct(f=>f.rootProps.className);N.useEffect(()=>{if(e==null)return Ld;var f=(m,p,x)=>{if(t!==x&&e===m){if(n==="index"){var v;if(c&&p!==null&&p!==void 0&&(v=p.payload)!==null&&v!==void 0&&v.coordinate&&p.payload.sourceViewBox){var g=p.payload.coordinate,{x:j,y}=g,w=tX(g,XQ),{x:A,y:k,width:C,height:M}=p.payload.sourceViewBox,E=Qo(Qo({},w),{},{x:c.x+(C?(j-A)/C:0)*c.width,y:c.y+(M?(y-k)/M:0)*c.height});r(Qo(Qo({},p),{},{payload:Qo(Qo({},p.payload),{},{coordinate:E})}))}else r(p);return}if(i!=null){var O;if(typeof n=="function"){var P={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},T=n(i,P);O=i[T]}else n==="value"&&(O=i.find(R=>String(R.value)===p.payload.label));var{coordinate:$}=p.payload;if(O==null||p.payload.active===!1||$==null||c==null){r(Zy({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:L,y:H}=$,D=Math.min(L,c.x+c.width),Z=Math.min(H,c.y+c.height),K={x:l==="horizontal"?O.coordinate:D,y:l==="horizontal"?Z:O.coordinate},J=Zy({active:p.payload.active,coordinate:K,dataKey:p.payload.dataKey,index:String(O.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});r(J)}}};return Ed.on(t1,f),()=>{Ed.off(t1,f)}},[u,r,t,e,n,i,l,c])}function aX(){var e=ct(Tw),t=ct(Pw),r=Lr();N.useEffect(()=>{if(e==null)return Ld;var n=(i,l,c)=>{t!==c&&e===i&&r(KQ(l))};return Ed.on(O5,n),()=>{Ed.off(O5,n)}},[r,t,e])}function iX(){var e=Lr();N.useEffect(()=>{e(VQ())},[e]),nX(),aX()}function sX(e,t,r,n,i,l){var c=ct(g=>fQ(g,e,t)),u=ct(Pw),f=ct(Tw),m=ct(m3),p=ct(GQ),x=p?.active,v=sx();N.useEffect(()=>{if(!x&&f!=null&&u!=null){var g=Zy({active:l,coordinate:r,dataKey:c,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:v,graphicalItemId:void 0});Ed.emit(t1,f,g,u)}},[x,r,c,i,n,u,f,m,l,v])}function I5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function R5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I5(Object(r),!0).forEach(function(n){lX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lX(e,t,r){return(t=oX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oX(e){var t=cX(e,"string");return typeof t=="symbol"?t:t+""}function cX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uX(e){return e.dataKey}function dX(e,t){return N.isValidElement(e)?N.cloneElement(e,t):typeof e=="function"?N.createElement(e,t):N.createElement(Vq,t)}var L5=[],fX={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function hN(e){var t,r,n=fi(e,fX),{active:i,allowEscapeViewBox:l,animationDuration:c,animationEasing:u,content:f,filterNull:m,isAnimationActive:p,offset:x,payloadUniqBy:v,position:g,reverseDirection:j,useTranslate3d:y,wrapperStyle:w,cursor:A,shared:k,trigger:C,defaultIndex:M,portal:E,axisId:O}=n,P=Lr(),T=typeof M=="number"?String(M):M;N.useEffect(()=>{P(lK({shared:k,trigger:C,axisId:O,active:i,defaultIndex:T}))},[P,k,C,O,i,T]);var $=sx(),L=uP(),H=tK(k),{activeIndex:D,isActive:Z}=(t=ct(xe=>hQ(xe,H,C,T)))!==null&&t!==void 0?t:{},K=ct(xe=>pQ(xe,H,C,T)),J=ct(xe=>m4(xe,H,C,T)),R=ct(xe=>mQ(xe,H,C,T)),G=K,me=zQ(),we=(r=i??Z)!==null&&r!==void 0?r:!1,[Ne,F]=T7([G,we]),ce=H==="axis"?J:void 0;sX(H,C,R,ce,D,we);var ee=E??me;if(ee==null||$==null||H==null)return null;var B=G??L5;we||(B=L5),m&&B.length&&(B=i7(B.filter(xe=>xe.value!=null&&(xe.hide!==!0||n.includeHidden)),v,uX));var z=B.length>0,U=N.createElement(Jq,{allowEscapeViewBox:l,animationDuration:c,animationEasing:u,isAnimationActive:p,active:we,coordinate:R,hasPayload:z,offset:x,position:g,reverseDirection:j,useTranslate3d:y,viewBox:$,wrapperStyle:w,lastBoundingBox:Ne,innerRef:F,hasPortalFromProps:!!E},dX(f,R5(R5({},n),{},{payload:B,label:ce,active:we,activeIndex:D,coordinate:R,accessibilityLayer:L})));return N.createElement(N.Fragment,null,Ic.createPortal(U,ee),we&&N.createElement(FQ,{cursor:A,tooltipEventType:H,coordinate:R,payload:B,index:D}))}var Gc=e=>null;Gc.displayName="Cell";function mX(e,t,r){return(t=pX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pX(e){var t=hX(e,"string");return typeof t=="symbol"?t:t+""}function hX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class xX{constructor(t){mX(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function F5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F5(Object(r),!0).forEach(function(n){gX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gX(e,t,r){return(t=bX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bX(e){var t=yX(e,"string");return typeof t=="symbol"?t:t+""}function yX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wX={cacheSize:2e3,enableCache:!0},g4=vX({},wX),z5=new xX(g4.cacheSize),NX={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},B5="recharts_measurement_span";function jX(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",l=t.fontStyle||"",c=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(l,"|").concat(c,"|").concat(u)}var $5=(e,t)=>{try{var r=document.getElementById(B5);r||(r=document.createElement("span"),r.setAttribute("id",B5),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,NX,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},H5=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||nw.isSsr)return{width:0,height:0};if(!g4.enableCache)return $5(t,r);var n=jX(t,r),i=z5.get(n);if(i)return i;var l=$5(t,r);return z5.set(n,l),l},b4;function SX(e,t,r){return(t=CX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CX(e){var t=AX(e,"string");return typeof t=="symbol"?t:t+""}function AX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,U5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,MX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,EX={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},DX=["cm","mm","pt","pc","in","Q","px"];function _X(e){return DX.includes(e)}var sc="NaN";function OX(e,t){return e*EX[t]}class Xr{static parse(t){var r,[,n,i]=(r=MX.exec(t))!==null&&r!==void 0?r:[];return n==null?Xr.NaN:new Xr(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Vi(t)&&(this.unit=""),r!==""&&!kX.test(r)&&(this.num=NaN,this.unit=""),_X(r)&&(this.num=OX(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Xr(NaN,""):new Xr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Xr(NaN,""):new Xr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Xr(NaN,""):new Xr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Xr(NaN,""):new Xr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Vi(this.num)}}b4=Xr;SX(Xr,"NaN",new b4(NaN,""));function y4(e){if(e==null||e.includes(sc))return sc;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,l]=(r=q5.exec(t))!==null&&r!==void 0?r:[],c=Xr.parse(n??""),u=Xr.parse(l??""),f=i==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return sc;t=t.replace(q5,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,p,x,v]=(m=U5.exec(t))!==null&&m!==void 0?m:[],g=Xr.parse(p??""),j=Xr.parse(v??""),y=x==="+"?g.add(j):g.subtract(j);if(y.isNaN())return sc;t=t.replace(U5,y.toString())}return t}var Y5=/\(([^()]*)\)/;function TX(e){for(var t=e,r;(r=Y5.exec(t))!=null;){var[,n]=r;t=t.replace(Y5,y4(n))}return t}function PX(e){var t=e.replace(/\s+/g,"");return t=TX(t),t=y4(t),t}function IX(e){try{return PX(e)}catch{return sc}}function Cb(e){var t=IX(e.slice(5,-1));return t===sc?"":t}var RX=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],LX=["dx","dy","angle","className","breakAll"];function r1(){return r1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r1.apply(null,arguments)}function V5(e,t){if(e==null)return{};var r,n,i=FX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function FX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var w4=/[ \f\n\r\t\v\u2028\u2029]+/,N4=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];Yn(t)||(r?i=t.toString().split(""):i=t.toString().split(w4));var l=i.map(u=>({word:u,width:H5(u,n).width})),c=r?0:H5("",n).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}};function zX(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var j4=(e,t,r,n)=>e.reduce((i,l)=>{var{word:c,width:u}=l,f=i[i.length-1];if(f&&u!=null&&(t==null||n||f.width+u+r<Number(t)))f.words.push(c),f.width+=u+r;else{var m={words:[c],width:u};i.push(m)}return i},[]),S4=e=>e.reduce((t,r)=>t.width>r.width?t:r),BX="",G5=(e,t,r,n,i,l,c,u)=>{var f=e.slice(0,t),m=N4({breakAll:r,style:n,children:f+BX});if(!m)return[!1,[]];var p=j4(m.wordsWithComputedWidth,l,c,u),x=p.length>i||S4(p).width>Number(l);return[x,p]},$X=(e,t,r,n,i)=>{var{maxLines:l,children:c,style:u,breakAll:f}=e,m=at(l),p=String(c),x=j4(t,n,r,i);if(!m||i)return x;var v=x.length>l||S4(x).width>Number(n);if(!v)return x;for(var g=0,j=p.length-1,y=0,w;g<=j&&y<=p.length-1;){var A=Math.floor((g+j)/2),k=A-1,[C,M]=G5(p,k,f,u,l,n,r,i),[E]=G5(p,A,f,u,l,n,r,i);if(!C&&!E&&(g=A+1),C&&E&&(j=A-1),!C&&E){w=M;break}y++}return w||x},W5=e=>{var t=Yn(e)?[]:e.toString().split(w4);return[{words:t,width:void 0}]},HX=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:l,maxLines:c}=e;if((t||r)&&!nw.isSsr){var u,f,m=N4({breakAll:l,children:n,style:i});if(m){var{wordsWithComputedWidth:p,spaceWidth:x}=m;u=p,f=x}else return W5(n);return $X({breakAll:l,children:n,maxLines:c,style:i},u,f,t,!!r)}return W5(n)},C4="#808080",qX={angle:0,breakAll:!1,capHeight:"0.71em",fill:C4,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},xN=N.forwardRef((e,t)=>{var r=fi(e,qX),{x:n,y:i,lineHeight:l,capHeight:c,fill:u,scaleToFit:f,textAnchor:m,verticalAnchor:p}=r,x=V5(r,RX),v=N.useMemo(()=>HX({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width}),[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),{dx:g,dy:j,angle:y,className:w,breakAll:A}=x,k=V5(x,LX);if(!Gi(n)||!Gi(i)||v.length===0)return null;var C=Number(n)+(at(g)?g:0),M=Number(i)+(at(j)?j:0);if(!zt(C)||!zt(M))return null;var E;switch(p){case"start":E=Cb("calc(".concat(c,")"));break;case"middle":E=Cb("calc(".concat((v.length-1)/2," * -").concat(l," + (").concat(c," / 2))"));break;default:E=Cb("calc(".concat(v.length-1," * -").concat(l,")"));break}var O=[],P=v[0];if(f&&P!=null){var T=P.width,{width:$}=x;O.push("scale(".concat(at($)&&at(T)?$/T:1,")"))}return y&&O.push("rotate(".concat(y,", ").concat(C,", ").concat(M,")")),O.length&&(k.transform=O.join(" ")),N.createElement("text",r1({},ca(k),{ref:t,x:C,y:M,className:dt("recharts-text",w),textAnchor:m,fill:u.includes("url")?C4:u}),v.map((L,H)=>{var D=L.words.join(A?"":" ");return N.createElement("tspan",{x:C,dy:H===0?E:l,key:"".concat(D,"-").concat(H)},D)}))});xN.displayName="Text";function K5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ya(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K5(Object(r),!0).forEach(function(n){UX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UX(e,t,r){return(t=YX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YX(e){var t=VX(e,"string");return typeof t=="symbol"?t:t+""}function VX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GX=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:i}=e,{x:l,y:c,height:u,upperWidth:f,lowerWidth:m}=J1(t),p=l,x=l+(f-m)/2,v=(p+x)/2,g=(f+m)/2,j=p+f/2,y=u>=0?1:-1,w=y*n,A=y>0?"end":"start",k=y>0?"start":"end",C=f>=0?1:-1,M=C*n,E=C>0?"end":"start",O=C>0?"start":"end",P=i;if(r==="top"){var T={x:p+f/2,y:c-w,horizontalAnchor:"middle",verticalAnchor:A};return P&&(T.height=Math.max(c-P.y,0),T.width=f),T}if(r==="bottom"){var $={x:x+m/2,y:c+u+w,horizontalAnchor:"middle",verticalAnchor:k};return P&&($.height=Math.max(P.y+P.height-(c+u),0),$.width=m),$}if(r==="left"){var L={x:v-M,y:c+u/2,horizontalAnchor:E,verticalAnchor:"middle"};return P&&(L.width=Math.max(L.x-P.x,0),L.height=u),L}if(r==="right"){var H={x:v+g+M,y:c+u/2,horizontalAnchor:O,verticalAnchor:"middle"};return P&&(H.width=Math.max(P.x+P.width-H.x,0),H.height=u),H}var D=P?{width:g,height:u}:{};return r==="insideLeft"?Ya({x:v+M,y:c+u/2,horizontalAnchor:O,verticalAnchor:"middle"},D):r==="insideRight"?Ya({x:v+g-M,y:c+u/2,horizontalAnchor:E,verticalAnchor:"middle"},D):r==="insideTop"?Ya({x:p+f/2,y:c+w,horizontalAnchor:"middle",verticalAnchor:k},D):r==="insideBottom"?Ya({x:x+m/2,y:c+u-w,horizontalAnchor:"middle",verticalAnchor:A},D):r==="insideTopLeft"?Ya({x:p+M,y:c+w,horizontalAnchor:O,verticalAnchor:k},D):r==="insideTopRight"?Ya({x:p+f-M,y:c+w,horizontalAnchor:E,verticalAnchor:k},D):r==="insideBottomLeft"?Ya({x:x+M,y:c+u-w,horizontalAnchor:O,verticalAnchor:A},D):r==="insideBottomRight"?Ya({x:x+m-M,y:c+u-w,horizontalAnchor:E,verticalAnchor:A},D):r&&typeof r=="object"&&(at(r.x)||Jl(r.x))&&(at(r.y)||Jl(r.y))?Ya({x:l+Hn(r.x,g),y:c+Hn(r.y,u),horizontalAnchor:"end",verticalAnchor:"end"},D):Ya({x:j,y:c+u/2,horizontalAnchor:"middle",verticalAnchor:"middle"},D)},WX=["labelRef"],KX=["content"];function Q5(e,t){if(e==null)return{};var r,n,i=QX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function QX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function X5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X5(Object(r),!0).forEach(function(n){XX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XX(e,t,r){return(t=ZX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZX(e){var t=JX(e,"string");return typeof t=="symbol"?t:t+""}function JX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vh(){return vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vh.apply(null,arguments)}var eZ=N.createContext(null),tZ=()=>{var e=N.useContext(eZ),t=sx();return e||(t?J1(t):void 0)},rZ=N.createContext(null),nZ=()=>{var e=N.useContext(rZ),t=ct(b3);return e||t},aZ=e=>{var{value:t,formatter:r}=e,n=Yn(e.children)?t:e.children;return typeof r=="function"?r(n):n},iZ=e=>e!=null&&typeof e=="function",sZ=(e,t)=>{var r=jn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},lZ=(e,t,r,n,i)=>{var{offset:l,className:c}=e,{cx:u,cy:f,innerRadius:m,outerRadius:p,startAngle:x,endAngle:v,clockWise:g}=i,j=(m+p)/2,y=sZ(x,v),w=y>=0?1:-1,A,k;switch(t){case"insideStart":A=x+w*l,k=g;break;case"insideEnd":A=v-w*l,k=!g;break;case"end":A=v+w*l,k=g;break;default:throw new Error("Unsupported position ".concat(t))}k=y<=0?k:!k;var C=Or(u,f,j,A),M=Or(u,f,j,A+(k?1:-1)*359),E="M".concat(C.x,",").concat(C.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(k?0:1,`,
    `).concat(M.x,",").concat(M.y),O=Yn(e.id)?hd("recharts-radial-line-"):e.id;return N.createElement("text",vh({},n,{dominantBaseline:"central",className:dt("recharts-radial-bar-label",c)}),N.createElement("defs",null,N.createElement("path",{id:O,d:E})),N.createElement("textPath",{xlinkHref:"#".concat(O)},r))},oZ=(e,t,r)=>{var{cx:n,cy:i,innerRadius:l,outerRadius:c,startAngle:u,endAngle:f}=e,m=(u+f)/2;if(r==="outside"){var{x:p,y:x}=Or(n,i,c+t,m);return{x:p,y:x,textAnchor:p>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,{x:g,y:j}=Or(n,i,v,m);return{x:g,y:j,textAnchor:"middle",verticalAnchor:"middle"}},gp=e=>e!=null&&"cx"in e&&at(e.cx),cZ={angle:0,offset:5,zIndex:Sa.label,position:"middle",textBreakAll:!1};function uZ(e){if(!gp(e))return e;var{cx:t,cy:r,outerRadius:n}=e,i=n*2;return{x:t-n,y:r-n,width:i,upperWidth:i,lowerWidth:i,height:i}}function A4(e){var t=fi(e,cZ),{viewBox:r,parentViewBox:n,position:i,value:l,children:c,content:u,className:f="",textBreakAll:m,labelRef:p}=t,x=nZ(),v=tZ(),g=i==="center"?v:x??v,j,y,w;r==null?j=g:gp(r)?j=r:j=J1(r);var A=uZ(j);if(!j||Yn(l)&&Yn(c)&&!N.isValidElement(u)&&typeof u!="function")return null;var k=Rm(Rm({},t),{},{viewBox:j});if(N.isValidElement(u)){var{labelRef:C}=k,M=Q5(k,WX);return N.cloneElement(u,M)}if(typeof u=="function"){var{content:E}=k,O=Q5(k,KX);if(y=N.createElement(u,O),N.isValidElement(y))return y}else y=aZ(t);var P=ca(t);if(gp(j)){if(i==="insideStart"||i==="insideEnd"||i==="end")return lZ(t,i,y,P,j);w=oZ(j,t.offset,t.position)}else{if(!A)return null;var T=GX({viewBox:A,position:i,offset:t.offset,parentViewBox:gp(n)?void 0:n});w=Rm(Rm({x:T.x,y:T.y,textAnchor:T.horizontalAnchor,verticalAnchor:T.verticalAnchor},T.width!==void 0?{width:T.width}:{}),T.height!==void 0?{height:T.height}:{})}return N.createElement(ef,{zIndex:t.zIndex},N.createElement(xN,vh({ref:p,className:dt("recharts-label",f)},P,w,{textAnchor:zX(P.textAnchor)?P.textAnchor:w.textAnchor,breakAll:m}),y))}A4.displayName="Label";var Ab={},kb={},Z5;function dZ(){return Z5||(Z5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(kb)),kb}var Mb={},J5;function fZ(){return J5||(J5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Mb)),Mb}var eE;function mZ(){return eE||(eE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dZ(),r=fZ(),n=H1();function i(l){if(n.isArrayLike(l))return t.last(r.toArray(l))}e.last=i})(Ab)),Ab}var Eb,tE;function pZ(){return tE||(tE=1,Eb=mZ().last),Eb}var hZ=pZ();const xZ=ci(hZ);var vZ=["valueAccessor"],gZ=["dataKey","clockWise","id","textBreakAll","zIndex"];function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gh.apply(null,arguments)}function rE(e,t){if(e==null)return{};var r,n,i=bZ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function bZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yZ=e=>Array.isArray(e.value)?xZ(e.value):e.value,k4=N.createContext(void 0);k4.Provider;var M4=N.createContext(void 0),wZ=M4.Provider;function NZ(){return N.useContext(k4)}function jZ(){return N.useContext(M4)}function bp(e){var{valueAccessor:t=yZ}=e,r=rE(e,vZ),{dataKey:n,clockWise:i,id:l,textBreakAll:c,zIndex:u}=r,f=rE(r,gZ),m=NZ(),p=jZ(),x=m||p;return!x||!x.length?null:N.createElement(ef,{zIndex:u??Sa.label},N.createElement(Gs,{className:"recharts-label-list"},x.map((v,g)=>{var j,y=Yn(n)?t(v,g):vr(v.payload,n),w=Yn(l)?{}:{id:"".concat(l,"-").concat(g)};return N.createElement(A4,gh({key:"label-".concat(g)},ca(v),f,w,{fill:(j=r.fill)!==null&&j!==void 0?j:v.fill,parentViewBox:v.parentViewBox,value:y,textBreakAll:c,viewBox:v.viewBox,index:g,zIndex:0}))})))}bp.displayName="LabelList";function SZ(e){var{label:t}=e;return t?t===!0?N.createElement(bp,{key:"labelList-implicit"}):N.isValidElement(t)||iZ(t)?N.createElement(bp,{key:"labelList-implicit",content:t}):typeof t=="object"?N.createElement(bp,gh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var E4=e=>e.graphicalItems.polarItems,CZ=de([cr,Wd],Bw),Ax=de([E4,br,CZ],$w),AZ=de([Ax],Hw),kx=de([AZ,Ew],qw),kZ=de([kx,br,Ax],Yw);de([kx,br,Ax],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var l,c=vr(n,(l=t.dataKey)!==null&&l!==void 0?l:i.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:vr(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var nE=()=>{},MZ=de([kx,br,Ax,Nx,cr],Kw),EZ=de([br,Gw,Ww,nE,MZ,nE,sr,cr],Qw),D4=de([br,sr,kx,kZ,Gd,cr,EZ],Xw),DZ=de([D4,Hc,sl],eN),_Z=de([br,D4,DZ,cr],rN);de([sl,_Z],N3);var OZ={radiusAxis:{},angleAxis:{}},_4=An({name:"polarAxis",initialState:OZ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:bce,removeRadiusAxis:yce,addAngleAxis:wce,removeAngleAxis:Nce}=_4.actions,TZ=_4.reducer;function PZ(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function aE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function iE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aE(Object(r),!0).forEach(function(n){IZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IZ(e,t,r){return(t=RZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RZ(e){var t=LZ(e,"string");return typeof t=="symbol"?t:t+""}function LZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FZ=(e,t)=>t,vN=de([E4,FZ],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),zZ=[],gN=(e,t,r)=>r?.length===0?zZ:r,O4=de([Ew,vN,gN],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if(t?.data!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(l=>iE(iE({},t.presentationProps),l.props))),i!=null)return i}}),BZ=de([O4,vN,gN],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var l,c=vr(n,t.nameKey,t.name),u;return r!=null&&(l=r[i])!==null&&l!==void 0&&(l=l.props)!==null&&l!==void 0&&l.fill?u=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?u=n.fill:u=t.fill,{value:KT(c,t.dataKey),color:u,payload:n,type:t.legendType}})}),$Z=de([O4,vN,gN,qr],(e,t,r,n)=>{if(!(t==null||e==null))return UJ({offset:n,pieSettings:t,displayedData:e,cells:r})}),Db={exports:{}},Ft={};var sE;function HZ(){if(sE)return Ft;sE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),g=Symbol.for("react.client.reference");function j(y){if(typeof y=="object"&&y!==null){var w=y.$$typeof;switch(w){case e:switch(y=y.type,y){case r:case i:case n:case f:case m:case v:return y;default:switch(y=y&&y.$$typeof,y){case c:case u:case x:case p:return y;case l:return y;default:return w}}case t:return w}}}return Ft.ContextConsumer=l,Ft.ContextProvider=c,Ft.Element=e,Ft.ForwardRef=u,Ft.Fragment=r,Ft.Lazy=x,Ft.Memo=p,Ft.Portal=t,Ft.Profiler=i,Ft.StrictMode=n,Ft.Suspense=f,Ft.SuspenseList=m,Ft.isContextConsumer=function(y){return j(y)===l},Ft.isContextProvider=function(y){return j(y)===c},Ft.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},Ft.isForwardRef=function(y){return j(y)===u},Ft.isFragment=function(y){return j(y)===r},Ft.isLazy=function(y){return j(y)===x},Ft.isMemo=function(y){return j(y)===p},Ft.isPortal=function(y){return j(y)===t},Ft.isProfiler=function(y){return j(y)===i},Ft.isStrictMode=function(y){return j(y)===n},Ft.isSuspense=function(y){return j(y)===f},Ft.isSuspenseList=function(y){return j(y)===m},Ft.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===i||y===n||y===f||y===m||typeof y=="object"&&y!==null&&(y.$$typeof===x||y.$$typeof===p||y.$$typeof===c||y.$$typeof===l||y.$$typeof===u||y.$$typeof===g||y.getModuleId!==void 0)},Ft.typeOf=j,Ft}var lE;function qZ(){return lE||(lE=1,Db.exports=HZ()),Db.exports}var UZ=qZ(),oE=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",cE=null,_b=null,T4=e=>{if(e===cE&&Array.isArray(_b))return _b;var t=[];return N.Children.forEach(e,r=>{Yn(r)||(UZ.isFragment(r)?t=t.concat(T4(r.props.children)):t.push(r))}),_b=t,cE=e,t};function P4(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>oE(i)):n=[oE(t)],T4(e).forEach(i=>{var l=pd(i,"type.displayName")||pd(i,"type.name");l&&n.indexOf(l)!==-1&&r.push(i)}),r}var Ob={},uE;function YZ(){return uE||(uE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(Ob)),Ob}var Tb,dE;function VZ(){return dE||(dE=1,Tb=YZ().isPlainObject),Tb}var GZ=VZ();const WZ=ci(GZ);var fE,mE,pE,hE,xE;function vE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vE(Object(r),!0).forEach(function(n){KZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KZ(e,t,r){return(t=QZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QZ(e){var t=XZ(e,"string");return typeof t=="symbol"?t:t+""}function XZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bh(){return bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bh.apply(null,arguments)}function Xu(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var bE=(e,t,r,n,i)=>{var l=r-n,c;return c=pr(fE||(fE=Xu(["M ",",",""])),e,t),c+=pr(mE||(mE=Xu(["L ",",",""])),e+r,t),c+=pr(pE||(pE=Xu(["L ",",",""])),e+r-l/2,t+i),c+=pr(hE||(hE=Xu(["L ",",",""])),e+r-l/2-n,t+i),c+=pr(xE||(xE=Xu(["L ",","," Z"])),e,t),c},ZZ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},JZ=e=>{var t=fi(e,ZZ),{x:r,y:n,upperWidth:i,lowerWidth:l,height:c,className:u}=t,{animationEasing:f,animationDuration:m,animationBegin:p,isUpdateAnimationActive:x}=t,v=N.useRef(null),[g,j]=N.useState(-1),y=N.useRef(i),w=N.useRef(l),A=N.useRef(c),k=N.useRef(r),C=N.useRef(n),M=iw(e,"trapezoid-");if(N.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var K=v.current.getTotalLength();K&&j(K)}catch{}},[]),r!==+r||n!==+n||i!==+i||l!==+l||c!==+c||i===0&&l===0||c===0)return null;var E=dt("recharts-trapezoid",u);if(!x)return N.createElement("g",null,N.createElement("path",bh({},ca(t),{className:E,d:bE(r,n,i,l,c)})));var O=y.current,P=w.current,T=A.current,$=k.current,L=C.current,H="0px ".concat(g===-1?1:g,"px"),D="".concat(g,"px 0px"),Z=dP(["strokeDasharray"],m,f);return N.createElement(aw,{animationId:M,key:M,canBegin:g>0,duration:m,easing:f,isActive:x,begin:p},K=>{var J=ya(O,i,K),R=ya(P,l,K),G=ya(T,c,K),me=ya($,r,K),we=ya(L,n,K);v.current&&(y.current=J,w.current=R,A.current=G,k.current=me,C.current=we);var Ne=K>0?{transition:Z,strokeDasharray:D}:{strokeDasharray:H};return N.createElement("path",bh({},ca(t),{className:E,d:bE(me,we,J,R,G),ref:v,style:gE(gE({},Ne),t.style)}))})},eJ=["option","shapeType","activeClassName"];function tJ(e,t){if(e==null)return{};var r,n,i=rJ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function rJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yE(Object(r),!0).forEach(function(n){nJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nJ(e,t,r){return(t=aJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aJ(e){var t=iJ(e,"string");return typeof t=="symbol"?t:t+""}function iJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sJ(e,t){return yh(yh({},t),e)}function lJ(e,t){return e==="symbols"}function wE(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return N.createElement(hP,r);case"trapezoid":return N.createElement(JZ,r);case"sector":return N.createElement(bP,r);case"symbols":if(lJ(t))return N.createElement(iT,r);break;case"curve":return N.createElement(rw,r);default:return null}}function oJ(e){return N.isValidElement(e)?e.props:e}function cJ(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,i=tJ(e,eJ),l;if(N.isValidElement(t))l=N.cloneElement(t,yh(yh({},i),oJ(t)));else if(typeof t=="function")l=t(i,i.index);else if(WZ(t)&&typeof t!="boolean"){var c=sJ(t,i);l=N.createElement(wE,{shapeType:r,elementProps:c})}else{var u=i;l=N.createElement(wE,{shapeType:r,elementProps:u})}return i.isActive?N.createElement(Gs,{className:n},l):l}var uJ=(e,t,r)=>{var n=Lr();return(i,l)=>c=>{e?.(i,l,c),n(G3({activeIndex:String(l),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},dJ=e=>{var t=Lr();return(r,n)=>i=>{e?.(r,n,i),t(oK())}},fJ=(e,t,r)=>{var n=Lr();return(i,l)=>c=>{e?.(i,l,c),n(cK({activeIndex:String(l),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function mJ(e){var{tooltipEntrySettings:t}=e,r=Lr(),n=el(),i=N.useRef(null);return N.useLayoutEffect(()=>{n||(i.current===null?r(aK(t)):i.current!==t&&r(iK({prev:i.current,next:t})),i.current=t)},[t,r,n]),N.useLayoutEffect(()=>()=>{i.current&&(r(sK(i.current)),i.current=null)},[r]),null}function pJ(e){var{legendPayload:t}=e,r=Lr(),n=ct(sr),i=N.useRef(null);return N.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(Fq(t)):i.current!==t&&r(zq({prev:i.current,next:t})),i.current=t)},[r,n,t]),N.useLayoutEffect(()=>()=>{i.current&&(r(Bq(i.current)),i.current=null)},[r]),null}var Pb,hJ=()=>{var[e]=N.useState(()=>hd("uid-"));return e},xJ=(Pb=w1.useId)!==null&&Pb!==void 0?Pb:hJ;function vJ(e,t){var r=xJ();return t||(e?"".concat(e,"-").concat(r):r)}var gJ=N.createContext(void 0),bJ=e=>{var{id:t,type:r,children:n}=e,i=vJ("recharts-".concat(r),t);return N.createElement(gJ.Provider,{value:i},n(i))},yJ={cartesianItems:[],polarItems:[]},I4=An({name:"graphicalItems",initialState:yJ,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:nr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Ca(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:nr()},removeCartesianGraphicalItem:{reducer(e,t){var r=Ca(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:nr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:nr()},removePolarGraphicalItem:{reducer(e,t){var r=Ca(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:nr()}}}),{addCartesianGraphicalItem:jce,replaceCartesianGraphicalItem:Sce,removeCartesianGraphicalItem:Cce,addPolarGraphicalItem:wJ,removePolarGraphicalItem:NJ}=I4.actions,jJ=I4.reducer;function SJ(e){var t=Lr();return N.useLayoutEffect(()=>(t(wJ(e)),()=>{t(NJ(e))}),[t,e]),null}var CJ=["key"],AJ=["onMouseEnter","onClick","onMouseLeave"],kJ=["id"],MJ=["id"];function NE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NE(Object(r),!0).forEach(function(n){EJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EJ(e,t,r){return(t=DJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DJ(e){var t=_J(e,"string");return typeof t=="symbol"?t:t+""}function _J(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ks(){return Ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ks.apply(null,arguments)}function Mx(e,t){if(e==null)return{};var r,n,i=OJ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function OJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function TJ(e){var t=N.useMemo(()=>P4(e.children,Gc),[e.children]),r=ct(n=>BZ(n,e.id,t));return r==null?null:N.createElement(pJ,{legendPayload:r})}var PJ=N.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:l,fill:c,name:u,hide:f,tooltipType:m,id:p}=e,x={dataDefinedOnItem:n.map(v=>v.tooltipPayload),getPosition:v=>{var g;return(g=n[Number(v)])===null||g===void 0?void 0:g.tooltipPosition},settings:{stroke:i,strokeWidth:l,fill:c,dataKey:t,nameKey:r,name:KT(u,t),hide:f,type:m,color:c,unit:"",graphicalItemId:p}};return N.createElement(mJ,{tooltipEntrySettings:x})}),IJ=(e,t)=>e>t?"start":e<t?"end":"middle",RJ=(e,t,r)=>Hn(typeof t=="function"?t(e):t,r,r*.8),LJ=(e,t,r)=>{var{top:n,left:i,width:l,height:c}=t,u=xP(l,c),f=i+Hn(e.cx,l,l/2),m=n+Hn(e.cy,c,c/2),p=Hn(e.innerRadius,u,0),x=RJ(r,e.outerRadius,u),v=e.maxRadius||Math.sqrt(l*l+c*c)/2;return{cx:f,cy:m,innerRadius:p,outerRadius:x,maxRadius:v}},FJ=(e,t)=>{var r=jn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},zJ=(e,t)=>{if(N.isValidElement(e))return N.cloneElement(e,t);if(typeof e=="function")return e(t);var r=dt("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,i=Mx(t,CJ);return N.createElement(rw,Ks({},i,{type:"linear",className:r}))},BJ=(e,t,r)=>{if(N.isValidElement(e))return N.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),N.isValidElement(n)))return n;var i=dt("recharts-pie-label-text",PZ(e));return N.createElement(xN,Ks({},t,{alignmentBaseline:"middle",className:i}),n)};function $J(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:l,dataKey:c}=r;if(!n||!i||!t)return null;var u=vc(r),f=my(i),m=my(l),p=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,x=t.map((v,g)=>{var j=(v.startAngle+v.endAngle)/2,y=Or(v.cx,v.cy,v.outerRadius+p,j),w=xr(xr(xr(xr({},u),v),{},{stroke:"none"},f),{},{index:g,textAnchor:IJ(y.x,v.cx)},y),A=xr(xr(xr(xr({},u),v),{},{fill:"none",stroke:v.fill},m),{},{index:g,points:[Or(v.cx,v.cy,v.outerRadius,j),y],key:"line"});return N.createElement(ef,{zIndex:Sa.label,key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(g)},N.createElement(Gs,null,l&&zJ(l,A),BJ(i,w,vr(v,c))))});return N.createElement(Gs,{className:"recharts-pie-labels"},x)}function HJ(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?N.createElement(SZ,{label:i}):N.createElement($J,{sectors:t,props:r,showLabels:n})}function qJ(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:l,id:c}=e,u=ct(Md),f=ct(o4),m=ct(WK),{onMouseEnter:p,onClick:x,onMouseLeave:v}=i,g=Mx(i,AJ),j=uJ(p,i.dataKey,c),y=dJ(v),w=fJ(x,i.dataKey,c);return t==null||t.length===0?null:N.createElement(N.Fragment,null,t.map((A,k)=>{if(A?.startAngle===0&&A?.endAngle===0&&t.length!==1)return null;var C=m==null||m===c,M=String(k)===u&&(f==null||i.dataKey===f)&&C,E=u?n:null,O=r&&M?r:E,P=xr(xr({},A),{},{stroke:A.stroke,tabIndex:-1,[XT]:k,[ZT]:c});return N.createElement(Gs,Ks({key:"sector-".concat(A?.startAngle,"-").concat(A?.endAngle,"-").concat(A.midAngle,"-").concat(k),tabIndex:-1,className:"recharts-pie-sector"},P9(g,A,k),{onMouseEnter:j(A,k),onMouseLeave:y(A,k),onClick:w(A,k)}),N.createElement(cJ,Ks({option:l??O,index:k,shapeType:"sector",isActive:M},P)))}))}function UJ(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:l}=e,{cornerRadius:c,startAngle:u,endAngle:f,dataKey:m,nameKey:p,tooltipType:x}=r,v=Math.abs(r.minAngle),g=FJ(u,f),j=Math.abs(g),y=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,w=n.filter(O=>vr(O,m,0)!==0).length,A=(j>=360?w:w-1)*y,k=j-w*v-A,C=n.reduce((O,P)=>{var T=vr(P,m,0);return O+(at(T)?T:0)},0),M;if(C>0){var E;M=n.map((O,P)=>{var T=vr(O,m,0),$=vr(O,p,P),L=LJ(r,l,O),H=(at(T)?T:0)/C,D,Z=xr(xr({},O),i&&i[P]&&i[P].props);P?D=E.endAngle+jn(g)*y*(T!==0?1:0):D=u;var K=D+jn(g)*((T!==0?v:0)+H*k),J=(D+K)/2,R=(L.innerRadius+L.outerRadius)/2,G=[{name:$,value:T,payload:Z,dataKey:m,type:x,graphicalItemId:r.id}],me=Or(L.cx,L.cy,R,J);return E=xr(xr(xr(xr({},r.presentationProps),{},{percent:H,cornerRadius:typeof c=="string"?parseFloat(c):c,name:$,tooltipPayload:G,midAngle:J,middleRadius:R,tooltipPosition:me},Z),L),{},{value:T,dataKey:m,startAngle:D,endAngle:K,payload:Z,paddingAngle:jn(g)*y}),E})}return M}function YJ(e){var{showLabels:t,sectors:r,children:n}=e,i=N.useMemo(()=>!t||!r?[]:r.map(l=>({value:l.value,payload:l.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:l.cx,cy:l.cy,innerRadius:l.innerRadius,outerRadius:l.outerRadius,startAngle:l.startAngle,endAngle:l.endAngle,clockWise:!1},fill:l.fill})),[r,t]);return N.createElement(wZ,{value:t?i:void 0},n)}function VJ(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:f,activeShape:m,inactiveShape:p,onAnimationStart:x,onAnimationEnd:v}=t,g=iw(t,"recharts-pie-"),j=r.current,[y,w]=N.useState(!1),A=N.useCallback(()=>{typeof v=="function"&&v(),w(!1)},[v]),k=N.useCallback(()=>{typeof x=="function"&&x(),w(!0)},[x]);return N.createElement(YJ,{showLabels:!y,sectors:i},N.createElement(aw,{animationId:g,begin:c,duration:u,isActive:l,easing:f,onAnimationStart:k,onAnimationEnd:A,key:g},C=>{var M,E=[],O=i&&i[0],P=(M=O?.startAngle)!==null&&M!==void 0?M:0;return i?.forEach((T,$)=>{var L=j&&j[$],H=$>0?pd(T,"paddingAngle",0):0;if(L){var D=ya(L.endAngle-L.startAngle,T.endAngle-T.startAngle,C),Z=xr(xr({},T),{},{startAngle:P+H,endAngle:P+D+H});E.push(Z),P=Z.endAngle}else{var{endAngle:K,startAngle:J}=T,R=ya(0,K-J,C),G=xr(xr({},T),{},{startAngle:P+H,endAngle:P+R+H});E.push(G),P=G.endAngle}}),r.current=E,N.createElement(Gs,null,N.createElement(qJ,{sectors:E,activeShape:m,inactiveShape:p,allOtherPieProps:t,shape:t.shape,id:n}))}),N.createElement(HJ,{showLabels:!y,sectors:i,props:t}),t.children)}var GJ={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Sa.area};function WJ(e){var{id:t}=e,r=Mx(e,kJ),{hide:n,className:i,rootTabIndex:l}=e,c=N.useMemo(()=>P4(e.children,Gc),[e.children]),u=ct(p=>$Z(p,t,c)),f=N.useRef(null),m=dt("recharts-pie",i);return n||u==null?(f.current=null,N.createElement(Gs,{tabIndex:l,className:m})):N.createElement(ef,{zIndex:e.zIndex},N.createElement(PJ,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:u,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),N.createElement(Gs,{tabIndex:l,className:m},N.createElement(VJ,{props:xr(xr({},r),{},{sectors:u}),previousSectorsRef:f,id:t})))}function Ex(e){var t=fi(e,GJ),{id:r}=t,n=Mx(t,MJ),i=vc(n);return N.createElement(bJ,{id:r,type:"pie"},l=>N.createElement(N.Fragment,null,N.createElement(SJ,{type:"pie",id:l,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),N.createElement(TJ,Ks({},n,{id:l})),N.createElement(WJ,Ks({},n,{id:l}))))}Ex.displayName="Pie";function jE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function SE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jE(Object(r),!0).forEach(function(n){KJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KJ(e,t,r){return(t=QJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QJ(e){var t=XJ(e,"string");return typeof t=="symbol"?t:t+""}function XJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZJ={xAxis:{},yAxis:{},zAxis:{}},R4=An({name:"cartesianAxis",initialState:ZJ,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:nr()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:nr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:nr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:nr()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:nr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:nr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:nr()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:nr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:nr()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var l,c=i.widthHistory||[];if(c.length===3&&c[0]===c[2]&&n===c[1]&&n!==i.width&&Math.abs(n-((l=c[0])!==null&&l!==void 0?l:0))<=1)return;var u=[...c,n].slice(-3);e.yAxis[r]=SE(SE({},i),{},{width:n,widthHistory:u})}}}}),{addXAxis:Ace,replaceXAxis:kce,removeXAxis:Mce,addYAxis:Ece,replaceYAxis:Dce,removeYAxis:_ce,addZAxis:Oce,replaceZAxis:Tce,removeZAxis:Pce,updateYAxisWidth:Ice}=R4.actions,JJ=R4.reducer,eee=de([qr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),tee=de([eee,rs,ns],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),ree=()=>ct(tee),nee=e=>{var{chartData:t}=e,r=Lr(),n=el();return N.useEffect(()=>n?()=>{}:(r(T5(t)),()=>{r(T5(void 0))}),[t,r,n]),null},CE={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},L4=An({name:"brush",initialState:CE,reducers:{setBrushSettings(e,t){return t.payload==null?CE:t.payload}}}),{setBrushSettings:Rce}=L4.actions,aee=L4.reducer,iee={dots:[],areas:[],lines:[]},F4=An({name:"referenceElements",initialState:iee,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Ca(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Ca(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Ca(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Lce,removeDot:Fce,addArea:zce,removeArea:Bce,addLine:$ce,removeLine:Hce}=F4.actions,see=F4.reducer,lee=N.createContext(void 0),oee=e=>{var{children:t}=e,[r]=N.useState("".concat(hd("recharts"),"-clip")),n=ree();if(n==null)return null;var{x:i,y:l,width:c,height:u}=n;return N.createElement(lee.Provider,{value:r},N.createElement("defs",null,N.createElement("clipPath",{id:r},N.createElement("rect",{x:i,y:l,height:u,width:c}))),t)},cee={},z4=An({name:"errorBars",initialState:cee,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(l=>l.dataKey===n.dataKey&&l.direction===n.direction?i:l))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:qce,replaceErrorBar:Uce,removeErrorBar:Yce}=z4.actions,uee=z4.reducer,Ib={exports:{}},Rb={};var AE;function dee(){if(AE)return Rb;AE=1;var e=_c();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,l=e.useEffect,c=e.useMemo,u=e.useDebugValue;return Rb.useSyncExternalStoreWithSelector=function(f,m,p,x,v){var g=i(null);if(g.current===null){var j={hasValue:!1,value:null};g.current=j}else j=g.current;g=c(function(){function w(E){if(!A){if(A=!0,k=E,E=x(E),v!==void 0&&j.hasValue){var O=j.value;if(v(O,E))return C=O}return C=E}if(O=C,r(k,E))return O;var P=x(E);return v!==void 0&&v(O,P)?(k=E,O):(k=E,C=P)}var A=!1,k,C,M=p===void 0?null:p;return[function(){return w(m())},M===null?void 0:function(){return w(M())}]},[m,p,x,v]);var y=n(f,g[0],g[1]);return l(function(){j.hasValue=!0,j.value=y},[y]),u(y),y},Rb}var kE;function fee(){return kE||(kE=1,Ib.exports=dee()),Ib.exports}fee();function mee(e){e()}function pee(){let e=null,t=null;return{clear(){e=null,t=null},notify(){mee(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var ME={notify(){},get:()=>[]};function hee(e,t){let r,n=ME,i=0,l=!1;function c(y){p();const w=n.subscribe(y);let A=!1;return()=>{A||(A=!0,w(),x())}}function u(){n.notify()}function f(){j.onStateChange&&j.onStateChange()}function m(){return l}function p(){i++,r||(r=e.subscribe(f),n=pee())}function x(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=ME)}function v(){l||(l=!0,p())}function g(){l&&(l=!1,x())}const j={addNestedSub:c,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:m,trySubscribe:v,tryUnsubscribe:g,getListeners:()=>n};return j}var xee=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vee=xee(),gee=()=>typeof navigator<"u"&&navigator.product==="ReactNative",bee=gee(),yee=()=>vee||bee?N.useLayoutEffect:N.useEffect,wee=yee();function EE(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Nee(e,t){if(EE(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!EE(e[r[i]],t[r[i]]))return!1;return!0}var jee=Symbol.for("react-redux-context"),See=typeof globalThis<"u"?globalThis:{};function Cee(){if(!N.createContext)return{};const e=See[jee]??=new Map;let t=e.get(N.createContext);return t||(t=N.createContext(null),e.set(N.createContext,t)),t}var Aee=Cee();function kee(e){const{children:t,context:r,serverState:n,store:i}=e,l=N.useMemo(()=>{const f=hee(i);return{store:i,subscription:f,getServerState:n?()=>n:void 0}},[i,n]),c=N.useMemo(()=>i.getState(),[i]);wee(()=>{const{subscription:f}=l;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[l,c]);const u=r||Aee;return N.createElement(u.Provider,{value:l},t)}var Mee=kee,Eee=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Dee(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function _ee(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(Eee.has(n)){if(e[n]==null&&t[n]==null)continue;if(!Nee(e[n],t[n]))return!1}else if(!Dee(e[n],t[n]))return!1;return!0}var Oee=(e,t)=>t,bN=de([Oee,sr,b3,Yr,a4,is,dQ,qr],gQ),yN=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},B4=ua("mouseClick"),$4=zd();$4.startListening({actionCreator:B4,effect:(e,t)=>{var r=e.payload,n=bN(t.getState(),yN(r));n?.activeIndex!=null&&t.dispatch(uK({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var n1=ua("mouseMove"),H4=zd(),Lm=null;H4.startListening({actionCreator:n1,effect:(e,t)=>{var r=e.payload;Lm!==null&&cancelAnimationFrame(Lm);var n=yN(r);Lm=requestAnimationFrame(()=>{var i=t.getState(),l=iN(i,i.tooltip.settings.shared);if(l==="axis"){var c=bN(i,n);c?.activeIndex!=null?t.dispatch(K3({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(W3())}Lm=null})}});function Tee(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var DE={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},q4=An({name:"rootProps",initialState:DE,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:DE.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Pee=q4.reducer,{updateOptions:Iee}=q4.actions,Ree=null,Lee={updatePolarOptions:(e,t)=>t.payload},U4=An({name:"polarOptions",initialState:Ree,reducers:Lee}),{updatePolarOptions:Fee}=U4.actions,zee=U4.reducer,Y4=ua("keyDown"),V4=ua("focus"),wN=zd();wN.startListening({actionCreator:Y4,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,l=e.payload;if(!(l!=="ArrowRight"&&l!=="ArrowLeft"&&l!=="Enter")){var c=sN(i,Vc(r),Qd(r),Zd(r)),u=c==null?-1:Number(c);if(!(!Number.isFinite(u)||u<0)){var f=is(r);if(l==="Enter"){var m=xh(r,"axis","hover",String(i.index));t.dispatch(Jy({active:!i.active,activeIndex:i.index,activeCoordinate:m}));return}var p=eK(r),x=p==="left-to-right"?1:-1,v=l==="ArrowRight"?1:-1,g=u+v*x;if(!(f==null||g>=f.length||g<0)){var j=xh(r,"axis","hover",String(g));t.dispatch(Jy({active:!0,activeIndex:g.toString(),activeCoordinate:j}))}}}}}});wN.startListening({actionCreator:V4,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var l="0",c=xh(r,"axis","hover",String(l));t.dispatch(Jy({active:!0,activeIndex:l,activeCoordinate:c}))}}}});var sa=ua("externalEvent"),G4=zd(),Lb=new Map;G4.startListening({actionCreator:sa,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,l=Lb.get(i);l!==void 0&&cancelAnimationFrame(l);var c=requestAnimationFrame(()=>{try{var u=t.getState(),f={activeCoordinate:QK(u),activeDataKey:o4(u),activeIndex:Md(u),activeLabel:l4(u),activeTooltipIndex:Md(u),isTooltipActive:XK(u)};r(f,n)}finally{Lb.delete(i)}});Lb.set(i,c)}}});var Bee=de([Uc],e=>e.tooltipItemPayloads),$ee=de([Bee,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(l=>l.settings.graphicalItemId===r);if(n!=null){var{getPosition:i}=n;if(i!=null)return i(t)}}}),W4=ua("touchMove"),K4=zd();K4.startListening({actionCreator:W4,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=iN(n,n.tooltip.settings.shared);if(i==="axis"){var l=r.touches[0];if(l==null)return;var c=bN(n,yN({clientX:l.clientX,clientY:l.clientY,currentTarget:r.currentTarget}));c?.activeIndex!=null&&t.dispatch(K3({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(i==="item"){var u,f=r.touches[0];if(document.elementFromPoint==null||f==null)return;var m=document.elementFromPoint(f.clientX,f.clientY);if(!m||!m.getAttribute)return;var p=m.getAttribute(XT),x=(u=m.getAttribute(ZT))!==null&&u!==void 0?u:void 0,v=Yc(n).find(y=>y.id===x);if(p==null||v==null||x==null)return;var{dataKey:g}=v,j=$ee(n,p,x);t.dispatch(G3({activeDataKey:g,activeIndex:p,activeCoordinate:j,activeGraphicalItemId:x}))}}}});var Hee=yT({brush:aee,cartesianAxis:JJ,chartData:QQ,errorBars:uee,graphicalItems:jJ,layout:TH,legend:$q,options:YQ,polarAxis:TZ,polarOptions:zee,referenceElements:see,rootProps:Pee,tooltip:dK,zIndex:OQ}),qee=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return aH({reducer:Hee,preloadedState:t,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([$4.middleware,H4.middleware,wN.middleware,G4.middleware,K4.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(IT({type:"raf"}))},devTools:{serialize:{replacer:Tee},name:"recharts-".concat(r)}})};function Uee(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=el(),l=N.useRef(null);if(i)return r;l.current==null&&(l.current=qee(t,n));var c=U1;return N.createElement(Mee,{context:c,store:l.current},r)}function Yee(e){var{layout:t,margin:r}=e,n=Lr(),i=el();return N.useEffect(()=>{i||(n(DH(t)),n(EH(r)))},[n,i,t,r]),null}var Vee=N.memo(Yee,_ee);function Gee(e){var t=Lr();return N.useEffect(()=>{t(Iee(e))},[t,e]),null}function _E(e){var{zIndex:t,isPanorama:r}=e,n=N.useRef(null),i=Lr();return N.useLayoutEffect(()=>(n.current&&i(DQ({zIndex:t,element:n.current,isPanorama:r})),()=>{i(_Q({zIndex:t,isPanorama:r}))}),[i,t,r]),N.createElement("g",{tabIndex:-1,ref:n})}function OE(e){var{children:t,isPanorama:r}=e,n=ct(yQ);if(!n||n.length===0)return t;var i=n.filter(c=>c<0),l=n.filter(c=>c>0);return N.createElement(N.Fragment,null,i.map(c=>N.createElement(_E,{key:c,zIndex:c,isPanorama:r})),t,l.map(c=>N.createElement(_E,{key:c,zIndex:c,isPanorama:r})))}var Wee=["children"];function Kee(e,t){if(e==null)return{};var r,n,i=Qee(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Qee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function wh(){return wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wh.apply(null,arguments)}var Xee={width:"100%",height:"100%",display:"block"},Zee=N.forwardRef((e,t)=>{var r=jq(),n=Sq(),i=uP();if(!Ws(r)||!Ws(n))return null;var{children:l,otherAttributes:c,title:u,desc:f}=e,m,p;return c!=null&&(typeof c.tabIndex=="number"?m=c.tabIndex:m=i?0:void 0,typeof c.role=="string"?p=c.role:p=i?"application":void 0),N.createElement(zO,wh({},c,{title:u,desc:f,role:p,tabIndex:m,width:r,height:n,style:Xee,ref:t}),l)}),Jee=e=>{var{children:t}=e,r=ct(ix);if(!r)return null;var{width:n,height:i,y:l,x:c}=r;return N.createElement(zO,{width:n,height:i,x:c,y:l},t)},TE=N.forwardRef((e,t)=>{var{children:r}=e,n=Kee(e,Wee),i=el();return i?N.createElement(Jee,null,N.createElement(OE,{isPanorama:!0},r)):N.createElement(Zee,wh({ref:t},n),N.createElement(OE,{isPanorama:!1},r))});function ete(){var e=Lr(),[t,r]=N.useState(null),n=ct(GH);return N.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),l=i.width/t.offsetWidth;zt(l)&&l!==n&&e(OH(l))}},[t,e,n]),r}function PE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tte(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PE(Object(r),!0).forEach(function(n){rte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rte(e,t,r){return(t=nte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nte(e){var t=ate(e,"string");return typeof t=="symbol"?t:t+""}function ate(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qs(){return qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qs.apply(null,arguments)}var ite=()=>(iX(),null);function Nh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var ste=N.forwardRef((e,t)=>{var r,n,i=N.useRef(null),[l,c]=N.useState({containerWidth:Nh((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Nh((n=e.style)===null||n===void 0?void 0:n.height)}),u=N.useCallback((m,p)=>{c(x=>{var v=Math.round(m),g=Math.round(p);return x.containerWidth===v&&x.containerHeight===g?x:{containerWidth:v,containerHeight:g}})},[]),f=N.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null&&typeof ResizeObserver<"u"){var{width:p,height:x}=m.getBoundingClientRect();u(p,x);var v=j=>{var y=j[0];if(y!=null){var{width:w,height:A}=y.contentRect;u(w,A)}},g=new ResizeObserver(v);g.observe(m),i.current=g}},[t,u]);return N.useEffect(()=>()=>{var m=i.current;m?.disconnect()},[u]),N.createElement(N.Fragment,null,N.createElement($d,{width:l.containerWidth,height:l.containerHeight}),N.createElement("div",qs({ref:f},e)))}),lte=N.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,l]=N.useState({containerWidth:Nh(r),containerHeight:Nh(n)}),c=N.useCallback((f,m)=>{l(p=>{var x=Math.round(f),v=Math.round(m);return p.containerWidth===x&&p.containerHeight===v?p:{containerWidth:x,containerHeight:v}})},[]),u=N.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:m,height:p}=f.getBoundingClientRect();c(m,p)}},[t,c]);return N.createElement(N.Fragment,null,N.createElement($d,{width:i.containerWidth,height:i.containerHeight}),N.createElement("div",qs({ref:u},e)))}),ote=N.forwardRef((e,t)=>{var{width:r,height:n}=e;return N.createElement(N.Fragment,null,N.createElement($d,{width:r,height:n}),N.createElement("div",qs({ref:t},e)))}),cte=N.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?N.createElement(lte,qs({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?N.createElement(ote,qs({},e,{width:r,height:n,ref:t})):N.createElement(N.Fragment,null,N.createElement($d,{width:r,height:n}),N.createElement("div",qs({ref:t},e)))});function ute(e){return e?ste:cte}var dte=N.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:l,onContextMenu:c,onDoubleClick:u,onMouseDown:f,onMouseEnter:m,onMouseLeave:p,onMouseMove:x,onMouseUp:v,onTouchEnd:g,onTouchMove:j,onTouchStart:y,style:w,width:A,responsive:k,dispatchTouchEvents:C=!0}=e,M=N.useRef(null),E=Lr(),[O,P]=N.useState(null),[T,$]=N.useState(null),L=ete(),H=X1(),D=H?.width>0?H.width:A,Z=H?.height>0?H.height:i,K=N.useCallback(ne=>{L(ne),typeof t=="function"&&t(ne),P(ne),$(ne),ne!=null&&(M.current=ne)},[L,t,P,$]),J=N.useCallback(ne=>{E(B4(ne)),E(sa({handler:l,reactEvent:ne}))},[E,l]),R=N.useCallback(ne=>{E(n1(ne)),E(sa({handler:m,reactEvent:ne}))},[E,m]),G=N.useCallback(ne=>{E(W3()),E(sa({handler:p,reactEvent:ne}))},[E,p]),me=N.useCallback(ne=>{E(n1(ne)),E(sa({handler:x,reactEvent:ne}))},[E,x]),we=N.useCallback(()=>{E(V4())},[E]),Ne=N.useCallback(ne=>{E(Y4(ne.key))},[E]),F=N.useCallback(ne=>{E(sa({handler:c,reactEvent:ne}))},[E,c]),ce=N.useCallback(ne=>{E(sa({handler:u,reactEvent:ne}))},[E,u]),ee=N.useCallback(ne=>{E(sa({handler:f,reactEvent:ne}))},[E,f]),B=N.useCallback(ne=>{E(sa({handler:v,reactEvent:ne}))},[E,v]),z=N.useCallback(ne=>{E(sa({handler:y,reactEvent:ne}))},[E,y]),U=N.useCallback(ne=>{C&&E(W4(ne)),E(sa({handler:j,reactEvent:ne}))},[E,C,j]),xe=N.useCallback(ne=>{E(sa({handler:g,reactEvent:ne}))},[E,g]),je=ute(k);return N.createElement(h4.Provider,{value:O},N.createElement(I$.Provider,{value:T},N.createElement(je,{width:D??w?.width,height:Z??w?.height,className:dt("recharts-wrapper",n),style:tte({position:"relative",cursor:"default",width:D,height:Z},w),onClick:J,onContextMenu:F,onDoubleClick:ce,onFocus:we,onKeyDown:Ne,onMouseDown:ee,onMouseEnter:R,onMouseLeave:G,onMouseMove:me,onMouseUp:B,onTouchEnd:xe,onTouchMove:U,onTouchStart:z,ref:K},N.createElement(ite,null),r)))}),fte=["width","height","responsive","children","className","style","compact","title","desc"];function mte(e,t){if(e==null)return{};var r,n,i=pte(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function pte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hte=N.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:l,className:c,style:u,compact:f,title:m,desc:p}=e,x=mte(e,fte),v=vc(x);return f?N.createElement(N.Fragment,null,N.createElement($d,{width:r,height:n}),N.createElement(TE,{otherAttributes:v,title:m,desc:p},l)):N.createElement(dte,{className:c,style:u,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},N.createElement(TE,{otherAttributes:v,title:m,desc:p,ref:t},N.createElement(oee,null,l)))});function xte(e){var t=Lr();return N.useEffect(()=>{t(Fee(e))},[t,e]),null}var vte=["layout"];function a1(){return a1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a1.apply(null,arguments)}function gte(e,t){if(e==null)return{};var r,n,i=bte(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function bte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yte={top:5,right:5,bottom:5,left:5},Q4={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:yte,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},wte=N.forwardRef(function(t,r){var n,i=fi(t.categoricalChartProps,Q4),{layout:l}=i,c=gte(i,vte),{chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:p}=t,x={chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:p,eventEmitter:void 0};return N.createElement(Uee,{preloadedState:{options:x},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:u},N.createElement(nee,{chartData:i.data}),N.createElement(Vee,{layout:l,margin:i.margin}),N.createElement(Gee,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),N.createElement(xte,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),N.createElement(hte,a1({},c,{ref:r})))});function IE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function RE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IE(Object(r),!0).forEach(function(n){Nte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nte(e,t,r){return(t=jte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jte(e){var t=Ste(e,"string");return typeof t=="symbol"?t:t+""}function Ste(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cte=["item"],Ate=RE(RE({},Q4),{},{layout:"centric",startAngle:0,endAngle:360}),NN=N.forwardRef((e,t)=>{var r=fi(e,Ate);return N.createElement(wte,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Cte,tooltipPayloadSearcher:qQ,categoricalChartProps:r,ref:t})});function Le(e){const t=e.match(/ ?-\s+(Direct|Regular|Growth)\b/i);if(t){const r=t.index+t[0].length-t[1].length;return{main:e.slice(0,t.index).trim(),plan:e.slice(r)}}return{main:e,plan:""}}function Q(e){return e<0?`-${Q(-e)}`:e>=1e7?`${(e/1e7).toFixed(2)} Cr`:e>=1e5?`${(e/1e5).toFixed(2)} L`:e>=1e3?`${(e/1e3).toFixed(0)}K`:`${e.toLocaleString("en-IN")}`}const X4="cf_market_data",kte=300*1e3,LE=300*1e3;function Mte(){try{const e=sessionStorage.getItem(X4);if(!e)return null;const t=JSON.parse(e);return Date.now()-t._ts>kte?null:t}catch{return null}}function Ete(e){try{sessionStorage.setItem(X4,JSON.stringify({...e,_ts:Date.now()}))}catch{}}function Dte(){const[e,t]=N.useState(()=>Mte()),[r,n]=N.useState([]),i=N.useRef(null),[l,c]=N.useState(!1),[u,f]=N.useState(!1);N.useEffect(()=>{let x=!1;async function v(){try{const j=await HF();if(!x&&j){const y={...j,_ts:Date.now()};t(y),Ete(y)}}catch{}}v();const g=setInterval(v,LE);return()=>{x=!0,clearInterval(g)}},[]),N.useEffect(()=>{let x=!1;async function v(){try{const j=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum&vs_currencies=inr&include_24hr_change=true");if(!x&&j.ok){const y=await j.json(),w=[];y.bitcoin&&w.push({name:"BTC",price:y.bitcoin.inr,changePct:y.bitcoin.inr_24h_change||0,type:"crypto"}),y.ethereum&&w.push({name:"ETH",price:y.ethereum.inr,changePct:y.ethereum.inr_24h_change||0,type:"crypto"}),n(w)}}catch{}}v();const g=setInterval(v,LE);return()=>{x=!0,clearInterval(g)}},[]);const m=[];if(e?.indices&&m.push(...e.indices),e?.metals&&m.push(...e.metals),r.length>0&&m.push(...r),N.useEffect(()=>{if(!i.current)return;const x=i.current,v=x.parentElement;c(x.scrollWidth>v.clientWidth)},[m.length]),m.length===0)return null;const p=m.length*3;return a.jsxs("div",{className:"bg-[var(--bg-card)]/80 backdrop-blur-sm border-b border-[var(--border-light)] overflow-hidden",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),onTouchStart:()=>f(!0),onTouchEnd:()=>f(!1),children:[a.jsx("div",{className:"overflow-hidden",children:a.jsxs("div",{ref:i,className:"flex items-stretch w-max",style:l?{animation:`ticker-scroll ${p}s linear infinite`,animationPlayState:u?"paused":"running"}:{margin:"0 auto"},children:[m.map((x,v)=>a.jsx(FE,{item:x},x.name+v)),l&&m.map((x,v)=>a.jsx(FE,{item:x},"dup-"+x.name+v))]})}),a.jsx("style",{children:`
        @keyframes ticker-scroll {
          0% { transform: translateX(0); }
          100% { transform: translateX(-50%); }
        }
      `})]})}function FE({item:e}){const t=e.changePct>=0,r=t?a.jsx(xc,{size:10}):a.jsx(Op,{size:10}),n=t?"text-emerald-400":"text-[var(--accent-rose)]",i=l=>l>=1e5?`${(l/1e5).toFixed(2)}L`:l>=1e3?`${l.toLocaleString("en-IN",{maximumFractionDigits:0})}`:`${l.toLocaleString("en-IN",{maximumFractionDigits:2})}`;return a.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 border-r border-[var(--border-light)] last:border-0 shrink-0",children:[a.jsx("span",{className:"text-[10px] font-semibold text-[var(--text-dim)] uppercase whitespace-nowrap",children:e.name}),a.jsx("span",{className:"text-[11px] font-bold text-[var(--text-primary)] tabular-nums whitespace-nowrap",children:e.unit?`${i(e.price)}`:i(e.price)}),e.changePct!==void 0&&e.changePct!==null&&a.jsxs("span",{className:`flex items-center gap-0.5 text-[10px] font-bold tabular-nums ${n}`,children:[r,t?"+":"",e.changePct.toFixed(2),"%"]})]})}function _te(){const{selectedMember:e}=Hr(),{mfPortfolios:t,mfHoldings:r,insurancePolicies:n,goalList:i,reminderList:l}=xt(),c=(v,g)=>{const j=v||[];return e==="all"?j:j.filter(y=>y[g]===e)},u=N.useMemo(()=>{let v=0,g=0,j=0;return c((t||[]).filter(A=>A.status!=="Inactive"),"ownerId").forEach(A=>{const k=(r||[]).filter(E=>E.portfolioId===A.portfolioId&&E.units>0),C=k.reduce((E,O)=>E+O.currentValue,0),M=(A.rebalanceThreshold||.05)*100;k.forEach(E=>{if(E.athNav>0&&E.belowATHPct>=10?g++:E.athNav>0&&E.belowATHPct>=5&&v++,E.targetAllocationPct>0&&C>0){const O=E.currentValue/C*100;Math.abs(O-E.targetAllocationPct)>M&&j++}})}),{buyOppCount:v+g,buyCount:v,strongBuyCount:g,rebalanceCount:j}},[e,t,r]),f=N.useMemo(()=>{const v=[],g=c((n||[]).filter(C=>C.status==="Active"),"memberId");g.some(C=>C.policyType==="Term Life")||v.push({type:"critical",title:"Missing Term Life Insurance",badge:"Add Policy",navigateTo:"/insurance"});const y=g.filter(C=>C.policyType==="Health").reduce((C,M)=>C+M.sumAssured,0);return y===0?v.push({type:"critical",title:"No Health Insurance",badge:"Add Policy",navigateTo:"/insurance"}):y<5e5&&v.push({type:"warning",title:"Inadequate Health Insurance",badge:Q(y),navigateTo:"/insurance"}),c((i||[]).filter(C=>C.isActive!==!1&&C.goalType==="Emergency Fund"),"familyMemberId").forEach(C=>{const M=C.targetAmount>0?C.currentValue/C.targetAmount*100:0;M<100&&v.push({type:M>=75?"info":"warning",title:`Emergency Fund at ${M.toFixed(0)}%`,badge:Q(C.targetAmount-C.currentValue)+" left",navigateTo:"/goals"})}),c((l||[]).filter(C=>C.isActive!==!1),"familyMemberId").filter(C=>new Date(C.dueDate)<new Date).forEach(C=>{const M=Math.ceil((new Date-new Date(C.dueDate))/864e5);v.push({type:"critical",title:C.title,badge:`${M}d overdue`,navigateTo:"/reminders"})}),c((i||[]).filter(C=>C.isActive!==!1&&C.status==="Needs Attention"),"familyMemberId").forEach(C=>{v.push({type:"warning",title:`${C.goalName} needs attention`,badge:C.priority,navigateTo:"/goals"})}),v},[e,n,i,l]),m=N.useMemo(()=>{const v=c((l||[]).filter(j=>j.isActive!==!1&&j.status!=="Completed"),"familyMemberId"),g=new Date;return v.map(j=>{const y=new Date(j.dueDate)-g,w=Math.ceil(y/(1440*60*1e3)),A=new Date(j.dueDate).toLocaleDateString("en-IN",{day:"2-digit",month:"short"});return{...j,days:w,dateStr:A}}).filter(j=>j.days>=0&&j.days<=30).sort((j,y)=>j.days-y.days).slice(0,5)},[e,l]),p=f.length+u.buyOppCount+u.rebalanceCount+m.length,x=f.filter(v=>v.type==="critical").length;return{criticalAlerts:f,investmentSignals:u,upcomingReminders:m,totalCount:p,criticalCount:x}}function zE(e){return e>=20?"bg-rose-500/20 text-[var(--accent-rose)]":e>=10?"bg-orange-500/20 text-[var(--accent-orange)]":e>=5?"bg-amber-500/20 text-[var(--accent-amber)]":"bg-slate-500/20 text-[var(--text-muted)]"}function BE(e){return e>=10?{label:"Strong Buy",cls:"bg-emerald-500/20 text-emerald-400 ring-1 ring-emerald-500/30"}:e>=5?{label:"Buy",cls:"bg-blue-500/20 text-blue-400"}:null}function Z4(){const{mfHoldings:e,mfPortfolios:t}=xt(),r=N.useMemo(()=>t.filter(i=>i.status!=="Inactive").map(i=>{const l=e.filter(f=>f.portfolioId===i.portfolioId&&f.units>0),c=l.reduce((f,m)=>f+m.currentValue,0),u=l.filter(f=>f.athNav>0&&f.belowATHPct>=1).sort((f,m)=>m.belowATHPct-f.belowATHPct).map(f=>({...f,currentPct:c>0?f.currentValue/c*100:0}));return{...i,totalValue:c,opportunities:u}}).filter(i=>i.opportunities.length>0),[t,e]);return r.reduce((i,l)=>i+l.opportunities.length,0)===0?a.jsxs("div",{className:"py-8 text-center",children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No buy opportunities right now"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"All funds are near their all-time highs"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] px-1",children:"Funds below their All-Time High NAV. Higher discount = better opportunity."}),r.map((i,l)=>a.jsxs("div",{className:"border border-[var(--border-light)] border-l-2 border-l-emerald-500/50 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2.5 bg-[var(--bg-inset)]",children:[a.jsx("span",{className:"text-xs font-bold text-emerald-400 bg-emerald-500/15 w-5 h-5 rounded flex items-center justify-center",children:l+1}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:i.portfolioName}),a.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:i.ownerName}),a.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-emerald-500/15 text-emerald-400",children:[i.opportunities.length," funds"]})]}),a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),a.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Signal"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Below ATH"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"ATH NAV"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Current"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Value"})]})}),a.jsx("tbody",{children:i.opportunities.map(c=>{const u=BE(c.belowATHPct);return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[a.jsxs("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[200px]",children:[a.jsx("p",{className:"truncate",children:Le(c.fundName).main}),Le(c.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(c.fundName).plan})]}),a.jsx("td",{className:"py-2 px-2 text-center",children:u?a.jsx("span",{className:`inline-block text-[10px] font-bold px-2 py-0.5 rounded-full whitespace-nowrap ${u.cls}`,children:u.label}):a.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:"Watch"})}),a.jsx("td",{className:"py-2 px-2 text-right",children:a.jsxs("span",{className:`inline-block text-xs font-semibold px-1.5 py-0.5 rounded-full ${zE(c.belowATHPct)}`,children:["",c.belowATHPct.toFixed(1),"%"]})}),a.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:["",c.athNav.toFixed(2)]}),a.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:["",c.currentNav.toFixed(2)]}),a.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:Q(c.currentValue)})]},c.holdingId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:i.opportunities.map(c=>{const u=BE(c.belowATHPct);return a.jsxs("div",{className:"px-3 py-2.5",children:[a.jsxs("div",{className:"flex items-start justify-between mb-1",children:[a.jsxs("div",{className:"flex-1 mr-2",children:[a.jsx("p",{className:"text-xs text-[var(--text-primary)] leading-tight",children:Le(c.fundName).main}),Le(c.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(c.fundName).plan})]}),a.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[u&&a.jsx("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded-full ${u.cls}`,children:u.label}),a.jsxs("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${zE(c.belowATHPct)}`,children:["",c.belowATHPct.toFixed(1),"%"]})]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)]",children:[a.jsxs("span",{children:["ATH ",c.athNav.toFixed(2),"  ",c.currentNav.toFixed(2)]}),a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:Q(c.currentValue)})]})]},c.holdingId)})})]},i.portfolioId))]})}const J4=6048e5,Ote=864e5,Dx=6e4,_x=36e5,Tte=1e3,$E=Symbol.for("constructDateFrom");function Pt(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&$E in e?e[$E](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ge(e,t){return Pt(t||e,e)}function Aa(e,t,r){const n=Ge(e,r?.in);return isNaN(t)?Pt(r?.in||e,NaN):(t&&n.setDate(n.getDate()+t),n)}function _a(e,t,r){const n=Ge(e,r?.in);if(isNaN(t))return Pt(e,NaN);if(!t)return n;const i=n.getDate(),l=Pt(e,n.getTime());l.setMonth(n.getMonth()+t+1,0);const c=l.getDate();return i>=c?l:(n.setFullYear(l.getFullYear(),l.getMonth(),i),n)}function eI(e,t,r){return Pt(e,+Ge(e)+t)}function Pte(e,t,r){return eI(e,t*_x)}let Ite={};function uo(){return Ite}function es(e,t){const r=uo(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=Ge(e,t?.in),l=i.getDay(),c=(l<n?7:0)+l-n;return i.setDate(i.getDate()-c),i.setHours(0,0,0,0),i}function jc(e,t){return es(e,{...t,weekStartsOn:1})}function tI(e,t){const r=Ge(e,t?.in),n=r.getFullYear(),i=Pt(r,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const l=jc(i),c=Pt(r,0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);const u=jc(c);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function jh(e){const t=Ge(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ss(e,...t){const r=Pt.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function ao(e,t){const r=Ge(e,t?.in);return r.setHours(0,0,0,0),r}function Sc(e,t,r){const[n,i]=ss(r?.in,e,t),l=ao(n),c=ao(i),u=+l-jh(l),f=+c-jh(c);return Math.round((u-f)/Ote)}function Rte(e,t){const r=tI(e,t),n=Pt(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),jc(n)}function Dd(e,t,r){const n=Ge(e,r?.in);return n.setTime(n.getTime()+t*Dx),n}function jN(e,t,r){return _a(e,t*3,r)}function Lte(e,t,r){return eI(e,t*1e3)}function Sh(e,t,r){return Aa(e,t*7,r)}function ka(e,t,r){return _a(e,t*12,r)}function HE(e,t){let r,n=t?.in;return e.forEach(i=>{!n&&typeof i=="object"&&(n=Pt.bind(null,i));const l=Ge(i,n);(!r||r<l||isNaN(+l))&&(r=l)}),Pt(n,r||NaN)}function qE(e,t){let r,n=t?.in;return e.forEach(i=>{!n&&typeof i=="object"&&(n=Pt.bind(null,i));const l=Ge(i,n);(!r||r>l||isNaN(+l))&&(r=l)}),Pt(n,r||NaN)}function Fte(e,t,r){const[n,i]=ss(r?.in,e,t);return+ao(n)==+ao(i)}function ai(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Cc(e){return!(!ai(e)&&typeof e!="number"||isNaN(+Ge(e)))}function Ch(e,t,r){const[n,i]=ss(r?.in,e,t),l=n.getFullYear()-i.getFullYear(),c=n.getMonth()-i.getMonth();return l*12+c}function $s(e,t){const r=Ge(e,t?.in);return Math.trunc(r.getMonth()/3)+1}function Ah(e,t,r){const[n,i]=ss(r?.in,e,t),l=n.getFullYear()-i.getFullYear(),c=$s(n)-$s(i);return l*4+c}function kh(e,t,r){const[n,i]=ss(r?.in,e,t);return n.getFullYear()-i.getFullYear()}function zte(e,t,r){const[n,i]=ss(r?.in,e,t),l=UE(n,i),c=Math.abs(Sc(n,i));n.setDate(n.getDate()-l*c);const u=+(UE(n,i)===-l),f=l*(c-u);return f===0?0:f}function UE(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function rI(e,t){const r=Ge(e,t?.in);return r.setHours(23,59,59,999),r}function nI(e,t){const r=Ge(e,t?.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function i1(e,t){const r=Ge(e,t?.in),n=r.getMonth(),i=n-n%3;return r.setMonth(i,1),r.setHours(0,0,0,0),r}function aI(e,t){const r=Ge(e,t?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function iI(e,t){const r=Ge(e,t?.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function Ox(e,t){const r=Ge(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Bte(e,t){const r=uo(),n=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=Ge(e,t?.in),l=i.getDay(),c=(l<n?-7:0)+6-(l-n);return i.setDate(i.getDate()+c),i.setHours(23,59,59,999),i}const $te={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Hte=(e,t,r)=>{let n;const i=$te[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Fb(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const qte={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ute={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Yte={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Vte={date:Fb({formats:qte,defaultWidth:"full"}),time:Fb({formats:Ute,defaultWidth:"full"}),dateTime:Fb({formats:Yte,defaultWidth:"full"})},Gte={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Wte=(e,t,r,n)=>Gte[e];function Zu(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,u=r?.width?String(r.width):c;i=e.formattingValues[u]||e.formattingValues[c]}else{const c=e.defaultWidth,u=r?.width?String(r.width):e.defaultWidth;i=e.values[u]||e.values[c]}const l=e.argumentCallback?e.argumentCallback(t):t;return i[l]}}const Kte={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Qte={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Xte={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Zte={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Jte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ere={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},tre=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},rre={ordinalNumber:tre,era:Zu({values:Kte,defaultWidth:"wide"}),quarter:Zu({values:Qte,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Zu({values:Xte,defaultWidth:"wide"}),day:Zu({values:Zte,defaultWidth:"wide"}),dayPeriod:Zu({values:Jte,defaultWidth:"wide",formattingValues:ere,defaultFormattingWidth:"wide"})};function Ju(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],l=t.match(i);if(!l)return null;const c=l[0],u=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(u)?are(u,x=>x.test(c)):nre(u,x=>x.test(c));let m;m=e.valueCallback?e.valueCallback(f):f,m=r.valueCallback?r.valueCallback(m):m;const p=t.slice(c.length);return{value:m,rest:p}}}function nre(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function are(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function ire(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],l=t.match(e.parsePattern);if(!l)return null;let c=e.valueCallback?e.valueCallback(l[0]):l[0];c=r.valueCallback?r.valueCallback(c):c;const u=t.slice(i.length);return{value:c,rest:u}}}const sre=/^(\d+)(th|st|nd|rd)?/i,lre=/\d+/i,ore={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},cre={any:[/^b/i,/^(a|c)/i]},ure={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},dre={any:[/1/i,/2/i,/3/i,/4/i]},fre={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},mre={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},pre={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hre={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},xre={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},vre={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gre={ordinalNumber:ire({matchPattern:sre,parsePattern:lre,valueCallback:e=>parseInt(e,10)}),era:Ju({matchPatterns:ore,defaultMatchWidth:"wide",parsePatterns:cre,defaultParseWidth:"any"}),quarter:Ju({matchPatterns:ure,defaultMatchWidth:"wide",parsePatterns:dre,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ju({matchPatterns:fre,defaultMatchWidth:"wide",parsePatterns:mre,defaultParseWidth:"any"}),day:Ju({matchPatterns:pre,defaultMatchWidth:"wide",parsePatterns:hre,defaultParseWidth:"any"}),dayPeriod:Ju({matchPatterns:xre,defaultMatchWidth:"any",parsePatterns:vre,defaultParseWidth:"any"})},sI={code:"en-US",formatDistance:Hte,formatLong:Vte,formatRelative:Wte,localize:rre,match:gre,options:{weekStartsOn:0,firstWeekContainsDate:1}};function bre(e,t){const r=Ge(e,t?.in);return Sc(r,Ox(r))+1}function SN(e,t){const r=Ge(e,t?.in),n=+jc(r)-+Rte(r);return Math.round(n/J4)+1}function CN(e,t){const r=Ge(e,t?.in),n=r.getFullYear(),i=uo(),l=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=Pt(t?.in||e,0);c.setFullYear(n+1,0,l),c.setHours(0,0,0,0);const u=es(c,t),f=Pt(t?.in||e,0);f.setFullYear(n,0,l),f.setHours(0,0,0,0);const m=es(f,t);return+r>=+u?n+1:+r>=+m?n:n-1}function yre(e,t){const r=uo(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=CN(e,t),l=Pt(t?.in||e,0);return l.setFullYear(i,0,n),l.setHours(0,0,0,0),es(l,t)}function lI(e,t){const r=Ge(e,t?.in),n=+es(r,t)-+yre(r,t);return Math.round(n/J4)+1}function Ot(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Is={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Ot(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ot(r+1,2)},d(e,t){return Ot(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ot(e.getHours()%12||12,t.length)},H(e,t){return Ot(e.getHours(),t.length)},m(e,t){return Ot(e.getMinutes(),t.length)},s(e,t){return Ot(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Ot(i,t.length)}},Xo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},YE={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Is.y(e,t)},Y:function(e,t,r,n){const i=CN(e,n),l=i>0?i:1-i;if(t==="YY"){const c=l%100;return Ot(c,2)}return t==="Yo"?r.ordinalNumber(l,{unit:"year"}):Ot(l,t.length)},R:function(e,t){const r=tI(e);return Ot(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ot(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ot(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ot(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Is.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Ot(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=lI(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):Ot(i,t.length)},I:function(e,t,r){const n=SN(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Ot(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Is.d(e,t)},D:function(e,t,r){const n=bre(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ot(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),l=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return Ot(l,2);case"eo":return r.ordinalNumber(l,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),l=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return Ot(l,t.length);case"co":return r.ordinalNumber(l,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return Ot(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=Xo.noon:n===0?i=Xo.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=Xo.evening:n>=12?i=Xo.afternoon:n>=4?i=Xo.morning:i=Xo.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Is.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Is.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ot(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ot(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Is.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Is.s(e,t)},S:function(e,t){return Is.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return GE(n);case"XXXX":case"XX":return Il(n);default:return Il(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return GE(n);case"xxxx":case"xx":return Il(n);default:return Il(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+VE(n,":");default:return"GMT"+Il(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+VE(n,":");default:return"GMT"+Il(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Ot(n,t.length)},T:function(e,t,r){return Ot(+e,t.length)}};function VE(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),l=n%60;return l===0?r+String(i):r+String(i)+t+Ot(l,2)}function GE(e,t){return e%60===0?(e>0?"-":"+")+Ot(Math.abs(e)/60,2):Il(e,t)}function Il(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Ot(Math.trunc(n/60),2),l=Ot(n%60,2);return r+i+t+l}const WE=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},oI=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},wre=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return WE(e,t);let l;switch(n){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",WE(n,t)).replace("{{time}}",oI(i,t))},s1={p:oI,P:wre},Nre=/^D+$/,jre=/^Y+$/,Sre=["D","DD","YY","YYYY"];function Cre(e){return Nre.test(e)}function Are(e){return jre.test(e)}function kre(e,t,r){const n=Mre(e,t,r);if(console.warn(n),Sre.includes(e))throw new RangeError(n)}function Mre(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ere=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Dre=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_re=/^'([^]*?)'?$/,Ore=/''/g,Tre=/[a-zA-Z]/;function KE(e,t,r){const n=uo(),i=r?.locale??n.locale??sI,l=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,c=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,u=Ge(e,r?.in);if(!Cc(u))throw new RangeError("Invalid time value");let f=t.match(Dre).map(p=>{const x=p[0];if(x==="p"||x==="P"){const v=s1[x];return v(p,i.formatLong)}return p}).join("").match(Ere).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const x=p[0];if(x==="'")return{isToken:!1,value:Pre(p)};if(YE[x])return{isToken:!0,value:p};if(x.match(Tre))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:p}});i.localize.preprocessor&&(f=i.localize.preprocessor(u,f));const m={firstWeekContainsDate:l,weekStartsOn:c,locale:i};return f.map(p=>{if(!p.isToken)return p.value;const x=p.value;(!r?.useAdditionalWeekYearTokens&&Are(x)||!r?.useAdditionalDayOfYearTokens&&Cre(x))&&kre(x,t,String(e));const v=YE[x[0]];return v(u,x,i.localize,m)}).join("")}function Pre(e){const t=e.match(_re);return t?t[1].replace(Ore,"'"):e}function QE(e,t){return Ge(e,t?.in).getDate()}function Ire(e,t){return Ge(e,t?.in).getDay()}function Rre(e,t){const r=Ge(e,t?.in),n=r.getFullYear(),i=r.getMonth(),l=Pt(r,0);return l.setFullYear(n,i+1,0),l.setHours(0,0,0,0),l.getDate()}function Lre(){return Object.assign({},uo())}function nn(e,t){return Ge(e,t?.in).getHours()}function Fre(e,t){const r=Ge(e,t?.in).getDay();return r===0?7:r}function an(e,t){return Ge(e,t?.in).getMinutes()}function Nn(e,t){return Ge(e,t?.in).getMonth()}function Us(e){return Ge(e).getSeconds()}function l1(e){return+Ge(e)}function ht(e,t){return Ge(e,t?.in).getFullYear()}function qi(e,t){return+Ge(e)>+Ge(t)}function ei(e,t){return+Ge(e)<+Ge(t)}function zre(e,t){return+Ge(e)==+Ge(t)}function Bre(e,t){const r=$re(t)?new t(0):Pt(t,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function $re(e){return typeof e=="function"&&e.prototype?.constructor===e}const Hre=10;class cI{subPriority=0;validate(t,r){return!0}}class qre extends cI{constructor(t,r,n,i,l){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=i,l&&(this.subPriority=l)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class Ure extends cI{priority=Hre;subPriority=-1;constructor(t,r){super(),this.context=t||(n=>Pt(r,n))}set(t,r){return r.timestampIsSet?t:Pt(t,Bre(t,this.context))}}class Mt{run(t,r,n,i){const l=this.parse(t,r,n,i);return l?{setter:new qre(l.value,this.validate,this.set,this.priority,this.subPriority),rest:l.rest}:null}validate(t,r,n){return!0}}class Yre extends Mt{priority=140;parse(t,r,n){switch(r){case"G":case"GG":case"GGG":return n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"});case"GGGGG":return n.era(t,{width:"narrow"});default:return n.era(t,{width:"wide"})||n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"})}}set(t,r,n){return r.era=n,t.setFullYear(n,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const Sr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ka={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Cr(e,t){return e&&{value:t(e.value),rest:e.rest}}function or(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function Qa(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,i=r[2]?parseInt(r[2],10):0,l=r[3]?parseInt(r[3],10):0,c=r[5]?parseInt(r[5],10):0;return{value:n*(i*_x+l*Dx+c*Tte),rest:t.slice(r[0].length)}}function uI(e){return or(Sr.anyDigitsSigned,e)}function gr(e,t){switch(e){case 1:return or(Sr.singleDigit,t);case 2:return or(Sr.twoDigits,t);case 3:return or(Sr.threeDigits,t);case 4:return or(Sr.fourDigits,t);default:return or(new RegExp("^\\d{1,"+e+"}"),t)}}function Mh(e,t){switch(e){case 1:return or(Sr.singleDigitSigned,t);case 2:return or(Sr.twoDigitsSigned,t);case 3:return or(Sr.threeDigitsSigned,t);case 4:return or(Sr.fourDigitsSigned,t);default:return or(new RegExp("^-?\\d{1,"+e+"}"),t)}}function AN(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function dI(e,t){const r=t>0,n=r?t:1-t;let i;if(n<=50)i=e||100;else{const l=n+50,c=Math.trunc(l/100)*100,u=e>=l%100;i=e+c-(u?100:0)}return r?i:1-i}function fI(e){return e%400===0||e%4===0&&e%100!==0}class Vre extends Mt{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,r,n){const i=l=>({year:l,isTwoDigitYear:r==="yy"});switch(r){case"y":return Cr(gr(4,t),i);case"yo":return Cr(n.ordinalNumber(t,{unit:"year"}),i);default:return Cr(gr(r.length,t),i)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,n){const i=t.getFullYear();if(n.isTwoDigitYear){const c=dI(n.year,i);return t.setFullYear(c,0,1),t.setHours(0,0,0,0),t}const l=!("era"in r)||r.era===1?n.year:1-n.year;return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}}class Gre extends Mt{priority=130;parse(t,r,n){const i=l=>({year:l,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Cr(gr(4,t),i);case"Yo":return Cr(n.ordinalNumber(t,{unit:"year"}),i);default:return Cr(gr(r.length,t),i)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,n,i){const l=CN(t,i);if(n.isTwoDigitYear){const u=dI(n.year,l);return t.setFullYear(u,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),es(t,i)}const c=!("era"in r)||r.era===1?n.year:1-n.year;return t.setFullYear(c,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),es(t,i)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class Wre extends Mt{priority=130;parse(t,r){return Mh(r==="R"?4:r.length,t)}set(t,r,n){const i=Pt(t,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),jc(i)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class Kre extends Mt{priority=130;parse(t,r){return Mh(r==="u"?4:r.length,t)}set(t,r,n){return t.setFullYear(n,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class Qre extends Mt{priority=120;parse(t,r,n){switch(r){case"Q":case"QQ":return gr(r.length,t);case"Qo":return n.ordinalNumber(t,{unit:"quarter"});case"QQQ":return n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(t,{width:"narrow",context:"formatting"});default:return n.quarter(t,{width:"wide",context:"formatting"})||n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,n){return t.setMonth((n-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class Xre extends Mt{priority=120;parse(t,r,n){switch(r){case"q":case"qq":return gr(r.length,t);case"qo":return n.ordinalNumber(t,{unit:"quarter"});case"qqq":return n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(t,{width:"narrow",context:"standalone"});default:return n.quarter(t,{width:"wide",context:"standalone"})||n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,n){return t.setMonth((n-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class Zre extends Mt{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,r,n){const i=l=>l-1;switch(r){case"M":return Cr(or(Sr.month,t),i);case"MM":return Cr(gr(2,t),i);case"Mo":return Cr(n.ordinalNumber(t,{unit:"month"}),i);case"MMM":return n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(t,{width:"narrow",context:"formatting"});default:return n.month(t,{width:"wide",context:"formatting"})||n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,n){return t.setMonth(n,1),t.setHours(0,0,0,0),t}}class Jre extends Mt{priority=110;parse(t,r,n){const i=l=>l-1;switch(r){case"L":return Cr(or(Sr.month,t),i);case"LL":return Cr(gr(2,t),i);case"Lo":return Cr(n.ordinalNumber(t,{unit:"month"}),i);case"LLL":return n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(t,{width:"narrow",context:"standalone"});default:return n.month(t,{width:"wide",context:"standalone"})||n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,n){return t.setMonth(n,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function ene(e,t,r){const n=Ge(e,r?.in),i=lI(n,r)-t;return n.setDate(n.getDate()-i*7),Ge(n,r?.in)}class tne extends Mt{priority=100;parse(t,r,n){switch(r){case"w":return or(Sr.week,t);case"wo":return n.ordinalNumber(t,{unit:"week"});default:return gr(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,n,i){return es(ene(t,n,i),i)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function rne(e,t,r){const n=Ge(e,r?.in),i=SN(n,r)-t;return n.setDate(n.getDate()-i*7),n}class nne extends Mt{priority=100;parse(t,r,n){switch(r){case"I":return or(Sr.week,t);case"Io":return n.ordinalNumber(t,{unit:"week"});default:return gr(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,n){return jc(rne(t,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const ane=[31,28,31,30,31,30,31,31,30,31,30,31],ine=[31,29,31,30,31,30,31,31,30,31,30,31];class sne extends Mt{priority=90;subPriority=1;parse(t,r,n){switch(r){case"d":return or(Sr.date,t);case"do":return n.ordinalNumber(t,{unit:"date"});default:return gr(r.length,t)}}validate(t,r){const n=t.getFullYear(),i=fI(n),l=t.getMonth();return i?r>=1&&r<=ine[l]:r>=1&&r<=ane[l]}set(t,r,n){return t.setDate(n),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class lne extends Mt{priority=90;subpriority=1;parse(t,r,n){switch(r){case"D":case"DD":return or(Sr.dayOfYear,t);case"Do":return n.ordinalNumber(t,{unit:"date"});default:return gr(r.length,t)}}validate(t,r){const n=t.getFullYear();return fI(n)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,n){return t.setMonth(0,n),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function kN(e,t,r){const n=uo(),i=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=Ge(e,r?.in),c=l.getDay(),f=(t%7+7)%7,m=7-i,p=t<0||t>6?t-(c+m)%7:(f+m)%7-(c+m)%7;return Aa(l,p,r)}class one extends Mt{priority=90;parse(t,r,n){switch(r){case"E":case"EE":case"EEE":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,n,i){return t=kN(t,n,i),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class cne extends Mt{priority=90;parse(t,r,n,i){const l=c=>{const u=Math.floor((c-1)/7)*7;return(c+i.weekStartsOn+6)%7+u};switch(r){case"e":case"ee":return Cr(gr(r.length,t),l);case"eo":return Cr(n.ordinalNumber(t,{unit:"day"}),l);case"eee":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeeee":return n.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,n,i){return t=kN(t,n,i),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class une extends Mt{priority=90;parse(t,r,n,i){const l=c=>{const u=Math.floor((c-1)/7)*7;return(c+i.weekStartsOn+6)%7+u};switch(r){case"c":case"cc":return Cr(gr(r.length,t),l);case"co":return Cr(n.ordinalNumber(t,{unit:"day"}),l);case"ccc":return n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"ccccc":return n.day(t,{width:"narrow",context:"standalone"});case"cccccc":return n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});default:return n.day(t,{width:"wide",context:"standalone"})||n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,n,i){return t=kN(t,n,i),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function dne(e,t,r){const n=Ge(e,r?.in),i=Fre(n,r),l=t-i;return Aa(n,l,r)}class fne extends Mt{priority=90;parse(t,r,n){const i=l=>l===0?7:l;switch(r){case"i":case"ii":return gr(r.length,t);case"io":return n.ordinalNumber(t,{unit:"day"});case"iii":return Cr(n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),i);case"iiiii":return Cr(n.day(t,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Cr(n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),i);default:return Cr(n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),i)}}validate(t,r){return r>=1&&r<=7}set(t,r,n){return t=dne(t,n),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class mne extends Mt{priority=80;parse(t,r,n){switch(r){case"a":case"aa":case"aaa":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,n){return t.setHours(AN(n),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class pne extends Mt{priority=80;parse(t,r,n){switch(r){case"b":case"bb":case"bbb":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,n){return t.setHours(AN(n),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class hne extends Mt{priority=80;parse(t,r,n){switch(r){case"B":case"BB":case"BBB":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,n){return t.setHours(AN(n),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class xne extends Mt{priority=70;parse(t,r,n){switch(r){case"h":return or(Sr.hour12h,t);case"ho":return n.ordinalNumber(t,{unit:"hour"});default:return gr(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,n){const i=t.getHours()>=12;return i&&n<12?t.setHours(n+12,0,0,0):!i&&n===12?t.setHours(0,0,0,0):t.setHours(n,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class vne extends Mt{priority=70;parse(t,r,n){switch(r){case"H":return or(Sr.hour23h,t);case"Ho":return n.ordinalNumber(t,{unit:"hour"});default:return gr(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,n){return t.setHours(n,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class gne extends Mt{priority=70;parse(t,r,n){switch(r){case"K":return or(Sr.hour11h,t);case"Ko":return n.ordinalNumber(t,{unit:"hour"});default:return gr(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,n){return t.getHours()>=12&&n<12?t.setHours(n+12,0,0,0):t.setHours(n,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class bne extends Mt{priority=70;parse(t,r,n){switch(r){case"k":return or(Sr.hour24h,t);case"ko":return n.ordinalNumber(t,{unit:"hour"});default:return gr(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,n){const i=n<=24?n%24:n;return t.setHours(i,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class yne extends Mt{priority=60;parse(t,r,n){switch(r){case"m":return or(Sr.minute,t);case"mo":return n.ordinalNumber(t,{unit:"minute"});default:return gr(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,n){return t.setMinutes(n,0,0),t}incompatibleTokens=["t","T"]}class wne extends Mt{priority=50;parse(t,r,n){switch(r){case"s":return or(Sr.second,t);case"so":return n.ordinalNumber(t,{unit:"second"});default:return gr(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,n){return t.setSeconds(n,0),t}incompatibleTokens=["t","T"]}class Nne extends Mt{priority=30;parse(t,r){const n=i=>Math.trunc(i*Math.pow(10,-r.length+3));return Cr(gr(r.length,t),n)}set(t,r,n){return t.setMilliseconds(n),t}incompatibleTokens=["t","T"]}class jne extends Mt{priority=10;parse(t,r){switch(r){case"X":return Qa(Ka.basicOptionalMinutes,t);case"XX":return Qa(Ka.basic,t);case"XXXX":return Qa(Ka.basicOptionalSeconds,t);case"XXXXX":return Qa(Ka.extendedOptionalSeconds,t);default:return Qa(Ka.extended,t)}}set(t,r,n){return r.timestampIsSet?t:Pt(t,t.getTime()-jh(t)-n)}incompatibleTokens=["t","T","x"]}class Sne extends Mt{priority=10;parse(t,r){switch(r){case"x":return Qa(Ka.basicOptionalMinutes,t);case"xx":return Qa(Ka.basic,t);case"xxxx":return Qa(Ka.basicOptionalSeconds,t);case"xxxxx":return Qa(Ka.extendedOptionalSeconds,t);default:return Qa(Ka.extended,t)}}set(t,r,n){return r.timestampIsSet?t:Pt(t,t.getTime()-jh(t)-n)}incompatibleTokens=["t","T","X"]}class Cne extends Mt{priority=40;parse(t){return uI(t)}set(t,r,n){return[Pt(t,n*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class Ane extends Mt{priority=20;parse(t){return uI(t)}set(t,r,n){return[Pt(t,n),{timestampIsSet:!0}]}incompatibleTokens="*"}const kne={G:new Yre,y:new Vre,Y:new Gre,R:new Wre,u:new Kre,Q:new Qre,q:new Xre,M:new Zre,L:new Jre,w:new tne,I:new nne,d:new sne,D:new lne,E:new one,e:new cne,c:new une,i:new fne,a:new mne,b:new pne,B:new hne,h:new xne,H:new vne,K:new gne,k:new bne,m:new yne,s:new wne,S:new Nne,X:new jne,x:new Sne,t:new Cne,T:new Ane},Mne=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ene=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Dne=/^'([^]*?)'?$/,_ne=/''/g,One=/\S/,Tne=/[a-zA-Z]/;function Pne(e,t,r,n){const i=()=>Pt(n?.in||r,NaN),l=Lre(),c=n?.locale??l.locale??sI,u=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,f=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??l.weekStartsOn??l.locale?.options?.weekStartsOn??0;if(!t)return e?i():Ge(r,n?.in);const m={firstWeekContainsDate:u,weekStartsOn:f,locale:c},p=[new Ure(n?.in,r)],x=t.match(Ene).map(w=>{const A=w[0];if(A in s1){const k=s1[A];return k(w,c.formatLong)}return w}).join("").match(Mne),v=[];for(let w of x){const A=w[0],k=kne[A];if(k){const{incompatibleTokens:C}=k;if(Array.isArray(C)){const E=v.find(O=>C.includes(O.token)||O.token===A);if(E)throw new RangeError(`The format string mustn't contain \`${E.fullToken}\` and \`${w}\` at the same time`)}else if(k.incompatibleTokens==="*"&&v.length>0)throw new RangeError(`The format string mustn't contain \`${w}\` and any other token at the same time`);v.push({token:A,fullToken:w});const M=k.run(e,w,c.match,m);if(!M)return i();p.push(M.setter),e=M.rest}else{if(A.match(Tne))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");if(w==="''"?w="'":A==="'"&&(w=Ine(w)),e.indexOf(w)===0)e=e.slice(w.length);else return i()}}if(e.length>0&&One.test(e))return i();const g=p.map(w=>w.priority).sort((w,A)=>A-w).filter((w,A,k)=>k.indexOf(w)===A).map(w=>p.filter(A=>A.priority===w).sort((A,k)=>k.subPriority-A.subPriority)).map(w=>w[0]);let j=Ge(r,n?.in);if(isNaN(+j))return i();const y={};for(const w of g){if(!w.validate(j,m))return i();const A=w.set(j,y,m);Array.isArray(A)?(j=A[0],Object.assign(y,A[1])):j=A}return j}function Ine(e){return e.match(Dne)[1].replace(_ne,"'")}function Rne(e,t,r){const[n,i]=ss(r?.in,e,t);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}function Lne(e,t,r){const[n,i]=ss(r?.in,e,t);return+i1(n)==+i1(i)}function Fne(e,t,r){const[n,i]=ss(r?.in,e,t);return n.getFullYear()===i.getFullYear()}function _d(e,t,r){const n=+Ge(e,r?.in),[i,l]=[+Ge(t.start,r?.in),+Ge(t.end,r?.in)].sort((c,u)=>c-u);return n>=i&&n<=l}function zne(e,t,r){return Aa(e,-1,r)}function Bne(e,t){const r=()=>Pt(t?.in,NaN),i=Une(e);let l;if(i.date){const m=Yne(i.date,2);l=Vne(m.restDateString,m.year)}if(!l||isNaN(+l))return r();const c=+l;let u=0,f;if(i.time&&(u=Gne(i.time),isNaN(u)))return r();if(i.timezone){if(f=Wne(i.timezone),isNaN(f))return r()}else{const m=new Date(c+u),p=Ge(0,t?.in);return p.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),p.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),p}return Ge(c+u+f,t?.in)}const Fm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},$ne=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Hne=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,qne=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Une(e){const t={},r=e.split(Fm.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Fm.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Fm.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const i=Fm.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function Yne(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,l=n[2]?parseInt(n[2]):null;return{year:l===null?i:l*100,restDateString:e.slice((n[1]||n[2]).length)}}function Vne(e,t){if(t===null)return new Date(NaN);const r=e.match($ne);if(!r)return new Date(NaN);const n=!!r[4],i=ed(r[1]),l=ed(r[2])-1,c=ed(r[3]),u=ed(r[4]),f=ed(r[5])-1;if(n)return Jne(t,u,f)?Kne(t,u,f):new Date(NaN);{const m=new Date(0);return!Xne(t,l,c)||!Zne(t,i)?new Date(NaN):(m.setUTCFullYear(t,l,Math.max(i,c)),m)}}function ed(e){return e?parseInt(e):1}function Gne(e){const t=e.match(Hne);if(!t)return NaN;const r=zb(t[1]),n=zb(t[2]),i=zb(t[3]);return eae(r,n,i)?r*_x+n*Dx+i*1e3:NaN}function zb(e){return e&&parseFloat(e.replace(",","."))||0}function Wne(e){if(e==="Z")return 0;const t=e.match(qne);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return tae(n,i)?r*(n*_x+i*Dx):NaN}function Kne(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const i=n.getUTCDay()||7,l=(t-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+l),n}const Qne=[31,null,31,30,31,30,31,31,30,31,30,31];function mI(e){return e%400===0||e%4===0&&e%100!==0}function Xne(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Qne[t]||(mI(e)?29:28))}function Zne(e,t){return t>=1&&t<=(mI(e)?366:365)}function Jne(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function eae(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function tae(e,t){return t>=0&&t<=59}function Ln(e,t,r){const n=Ge(e,r?.in),i=n.getFullYear(),l=n.getDate(),c=Pt(e,0);c.setFullYear(i,t,15),c.setHours(0,0,0,0);const u=Rre(c);return n.setMonth(t,Math.min(l,u)),n}function yp(e,t,r){const n=Ge(e,r?.in);return n.setHours(t),n}function wp(e,t,r){const n=Ge(e,r?.in);return n.setMinutes(t),n}function ac(e,t,r){const n=Ge(e,r?.in),i=Math.trunc(n.getMonth()/3)+1,l=t-i;return Ln(n,n.getMonth()+l*3)}function Np(e,t,r){const n=Ge(e,r?.in);return n.setSeconds(t),n}function Ga(e,t,r){const n=Ge(e,r?.in);return isNaN(+n)?Pt(e,NaN):(n.setFullYear(t),n)}function Gl(e,t,r){return _a(e,-t,r)}function pI(e,t,r){return jN(e,-1,r)}function XE(e,t,r){return Sh(e,-1,r)}function Qs(e,t,r){return ka(e,-t,r)}function Tx(){return typeof window<"u"}function Wc(e){return hI(e)?(e.nodeName||"").toLowerCase():"#document"}function Un(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function mi(e){var t;return(t=(hI(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function hI(e){return Tx()?e instanceof Node||e instanceof Un(e).Node:!1}function un(e){return Tx()?e instanceof Element||e instanceof Un(e).Element:!1}function oi(e){return Tx()?e instanceof HTMLElement||e instanceof Un(e).HTMLElement:!1}function ZE(e){return!Tx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Un(e).ShadowRoot}const rae=new Set(["inline","contents"]);function tf(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=fa(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!rae.has(i)}const nae=new Set(["table","td","th"]);function aae(e){return nae.has(Wc(e))}const iae=[":popover-open",":modal"];function Px(e){return iae.some(t=>{try{return e.matches(t)}catch{return!1}})}const sae=["transform","translate","scale","rotate","perspective"],lae=["transform","translate","scale","rotate","perspective","filter"],oae=["paint","layout","strict","content"];function MN(e){const t=EN(),r=un(e)?fa(e):e;return sae.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||lae.some(n=>(r.willChange||"").includes(n))||oae.some(n=>(r.contain||"").includes(n))}function cae(e){let t=Xs(e);for(;oi(t)&&!Ac(t);){if(MN(t))return t;if(Px(t))return null;t=Xs(t)}return null}function EN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const uae=new Set(["html","body","#document"]);function Ac(e){return uae.has(Wc(e))}function fa(e){return Un(e).getComputedStyle(e)}function Ix(e){return un(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Xs(e){if(Wc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ZE(e)&&e.host||mi(e);return ZE(t)?t.host:t}function xI(e){const t=Xs(e);return Ac(t)?e.ownerDocument?e.ownerDocument.body:e.body:oi(t)&&tf(t)?t:xI(t)}function Od(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=xI(e),l=i===((n=e.ownerDocument)==null?void 0:n.body),c=Un(i);if(l){const u=o1(c);return t.concat(c,c.visualViewport||[],tf(i)?i:[],u&&r?Od(u):[])}return t.concat(i,Od(i,[],r))}function o1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const kc=Math.min,Wl=Math.max,Eh=Math.round,zm=Math.floor,ii=e=>({x:e,y:e}),dae={left:"right",right:"left",bottom:"top",top:"bottom"},fae={start:"end",end:"start"};function mae(e,t,r){return Wl(e,kc(t,r))}function Rx(e,t){return typeof e=="function"?e(t):e}function Mc(e){return e.split("-")[0]}function rf(e){return e.split("-")[1]}function pae(e){return e==="x"?"y":"x"}function DN(e){return e==="y"?"height":"width"}const hae=new Set(["top","bottom"]);function $l(e){return hae.has(Mc(e))?"y":"x"}function _N(e){return pae($l(e))}function xae(e,t,r){r===void 0&&(r=!1);const n=rf(e),i=_N(e),l=DN(i);let c=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(c=Dh(c)),[c,Dh(c)]}function vae(e){const t=Dh(e);return[c1(e),t,c1(t)]}function c1(e){return e.replace(/start|end/g,t=>fae[t])}const JE=["left","right"],eD=["right","left"],gae=["top","bottom"],bae=["bottom","top"];function yae(e,t,r){switch(e){case"top":case"bottom":return r?t?eD:JE:t?JE:eD;case"left":case"right":return t?gae:bae;default:return[]}}function wae(e,t,r,n){const i=rf(e);let l=yae(Mc(e),r==="start",n);return i&&(l=l.map(c=>c+"-"+i),t&&(l=l.concat(l.map(c1)))),l}function Dh(e){return e.replace(/left|right|bottom|top/g,t=>dae[t])}function Nae(e){return{top:0,right:0,bottom:0,left:0,...e}}function vI(e){return typeof e!="number"?Nae(e):{top:e,right:e,bottom:e,left:e}}function _h(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}var jae=typeof document<"u",Sae=function(){},Oh=jae?N.useLayoutEffect:Sae;const Cae={...w1},Aae=Cae.useInsertionEffect,kae=Aae||(e=>e());function Mae(e){const t=N.useRef(()=>{});return kae(()=>{t.current=e}),N.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t.current==null?void 0:t.current(...n)},[])}function tD(e,t,r){let{reference:n,floating:i}=e;const l=$l(t),c=_N(t),u=DN(c),f=Mc(t),m=l==="y",p=n.x+n.width/2-i.width/2,x=n.y+n.height/2-i.height/2,v=n[u]/2-i[u]/2;let g;switch(f){case"top":g={x:p,y:n.y-i.height};break;case"bottom":g={x:p,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:x};break;case"left":g={x:n.x-i.width,y:x};break;default:g={x:n.x,y:n.y}}switch(rf(t)){case"start":g[c]-=v*(r&&m?-1:1);break;case"end":g[c]+=v*(r&&m?-1:1);break}return g}async function Eae(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:l,rects:c,elements:u,strategy:f}=e,{boundary:m="clippingAncestors",rootBoundary:p="viewport",elementContext:x="floating",altBoundary:v=!1,padding:g=0}=Rx(t,e),j=vI(g),w=u[v?x==="floating"?"reference":"floating":x],A=_h(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(w)))==null||r?w:w.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(u.floating)),boundary:m,rootBoundary:p,strategy:f})),k=x==="floating"?{x:n,y:i,width:c.floating.width,height:c.floating.height}:c.reference,C=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u.floating)),M=await(l.isElement==null?void 0:l.isElement(C))?await(l.getScale==null?void 0:l.getScale(C))||{x:1,y:1}:{x:1,y:1},E=_h(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:k,offsetParent:C,strategy:f}):k);return{top:(A.top-E.top+j.top)/M.y,bottom:(E.bottom-A.bottom+j.bottom)/M.y,left:(A.left-E.left+j.left)/M.x,right:(E.right-A.right+j.right)/M.x}}const Dae=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:l=[],platform:c}=r,u=l.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(t));let m=await c.getElementRects({reference:e,floating:t,strategy:i}),{x:p,y:x}=tD(m,n,f),v=n,g={},j=0;for(let w=0;w<u.length;w++){var y;const{name:A,fn:k}=u[w],{x:C,y:M,data:E,reset:O}=await k({x:p,y:x,initialPlacement:n,placement:v,strategy:i,middlewareData:g,rects:m,platform:{...c,detectOverflow:(y=c.detectOverflow)!=null?y:Eae},elements:{reference:e,floating:t}});p=C??p,x=M??x,g={...g,[A]:{...g[A],...E}},O&&j<=50&&(j++,typeof O=="object"&&(O.placement&&(v=O.placement),O.rects&&(m=O.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:i}):O.rects),{x:p,y:x}=tD(m,v,f)),w=-1)}return{x:p,y:x,placement:v,strategy:i,middlewareData:g}},_ae=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:l,platform:c,elements:u,middlewareData:f}=t,{element:m,padding:p=0}=Rx(e,t)||{};if(m==null)return{};const x=vI(p),v={x:r,y:n},g=_N(i),j=DN(g),y=await c.getDimensions(m),w=g==="y",A=w?"top":"left",k=w?"bottom":"right",C=w?"clientHeight":"clientWidth",M=l.reference[j]+l.reference[g]-v[g]-l.floating[j],E=v[g]-l.reference[g],O=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let P=O?O[C]:0;(!P||!await(c.isElement==null?void 0:c.isElement(O)))&&(P=u.floating[C]||l.floating[j]);const T=M/2-E/2,$=P/2-y[j]/2-1,L=kc(x[A],$),H=kc(x[k],$),D=L,Z=P-y[j]-H,K=P/2-y[j]/2+T,J=mae(D,K,Z),R=!f.arrow&&rf(i)!=null&&K!==J&&l.reference[j]/2-(K<D?L:H)-y[j]/2<0,G=R?K<D?K-D:K-Z:0;return{[g]:v[g]+G,data:{[g]:J,centerOffset:K-J-G,...R&&{alignmentOffset:G}},reset:R}}}),Oae=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:l,rects:c,initialPlacement:u,platform:f,elements:m}=t,{mainAxis:p=!0,crossAxis:x=!0,fallbackPlacements:v,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:y=!0,...w}=Rx(e,t);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const A=Mc(i),k=$l(u),C=Mc(u)===u,M=await(f.isRTL==null?void 0:f.isRTL(m.floating)),E=v||(C||!y?[Dh(u)]:vae(u)),O=j!=="none";!v&&O&&E.push(...wae(u,y,j,M));const P=[u,...E],T=await f.detectOverflow(t,w),$=[];let L=((n=l.flip)==null?void 0:n.overflows)||[];if(p&&$.push(T[A]),x){const K=xae(i,c,M);$.push(T[K[0]],T[K[1]])}if(L=[...L,{placement:i,overflows:$}],!$.every(K=>K<=0)){var H,D;const K=(((H=l.flip)==null?void 0:H.index)||0)+1,J=P[K];if(J&&(!(x==="alignment"?k!==$l(J):!1)||L.every(me=>$l(me.placement)===k?me.overflows[0]>0:!0)))return{data:{index:K,overflows:L},reset:{placement:J}};let R=(D=L.filter(G=>G.overflows[0]<=0).sort((G,me)=>G.overflows[1]-me.overflows[1])[0])==null?void 0:D.placement;if(!R)switch(g){case"bestFit":{var Z;const G=(Z=L.filter(me=>{if(O){const we=$l(me.placement);return we===k||we==="y"}return!0}).map(me=>[me.placement,me.overflows.filter(we=>we>0).reduce((we,Ne)=>we+Ne,0)]).sort((me,we)=>me[1]-we[1])[0])==null?void 0:Z[0];G&&(R=G);break}case"initialPlacement":R=u;break}if(i!==R)return{reset:{placement:R}}}return{}}}},Tae=new Set(["left","top"]);async function Pae(e,t){const{placement:r,platform:n,elements:i}=e,l=await(n.isRTL==null?void 0:n.isRTL(i.floating)),c=Mc(r),u=rf(r),f=$l(r)==="y",m=Tae.has(c)?-1:1,p=l&&f?-1:1,x=Rx(t,e);let{mainAxis:v,crossAxis:g,alignmentAxis:j}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return u&&typeof j=="number"&&(g=u==="end"?j*-1:j),f?{x:g*p,y:v*m}:{x:v*m,y:g*p}}const Iae=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:l,placement:c,middlewareData:u}=t,f=await Pae(t,e);return c===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:i+f.x,y:l+f.y,data:{...f,placement:c}}}}};function gI(e){const t=fa(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=oi(e),l=i?e.offsetWidth:r,c=i?e.offsetHeight:n,u=Eh(r)!==l||Eh(n)!==c;return u&&(r=l,n=c),{width:r,height:n,$:u}}function ON(e){return un(e)?e:e.contextElement}function fc(e){const t=ON(e);if(!oi(t))return ii(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:l}=gI(t);let c=(l?Eh(r.width):r.width)/n,u=(l?Eh(r.height):r.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const Rae=ii(0);function bI(e){const t=Un(e);return!EN()||!t.visualViewport?Rae:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Lae(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Un(e)?!1:t}function io(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),l=ON(e);let c=ii(1);t&&(n?un(n)&&(c=fc(n)):c=fc(e));const u=Lae(l,r,n)?bI(l):ii(0);let f=(i.left+u.x)/c.x,m=(i.top+u.y)/c.y,p=i.width/c.x,x=i.height/c.y;if(l){const v=Un(l),g=n&&un(n)?Un(n):n;let j=v,y=o1(j);for(;y&&n&&g!==j;){const w=fc(y),A=y.getBoundingClientRect(),k=fa(y),C=A.left+(y.clientLeft+parseFloat(k.paddingLeft))*w.x,M=A.top+(y.clientTop+parseFloat(k.paddingTop))*w.y;f*=w.x,m*=w.y,p*=w.x,x*=w.y,f+=C,m+=M,j=Un(y),y=o1(j)}}return _h({width:p,height:x,x:f,y:m})}function Lx(e,t){const r=Ix(e).scrollLeft;return t?t.left+r:io(mi(e)).left+r}function yI(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Lx(e,r),i=r.top+t.scrollTop;return{x:n,y:i}}function Fae(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const l=i==="fixed",c=mi(n),u=t?Px(t.floating):!1;if(n===c||u&&l)return r;let f={scrollLeft:0,scrollTop:0},m=ii(1);const p=ii(0),x=oi(n);if((x||!x&&!l)&&((Wc(n)!=="body"||tf(c))&&(f=Ix(n)),oi(n))){const g=io(n);m=fc(n),p.x=g.x+n.clientLeft,p.y=g.y+n.clientTop}const v=c&&!x&&!l?yI(c,f):ii(0);return{width:r.width*m.x,height:r.height*m.y,x:r.x*m.x-f.scrollLeft*m.x+p.x+v.x,y:r.y*m.y-f.scrollTop*m.y+p.y+v.y}}function zae(e){return Array.from(e.getClientRects())}function Bae(e){const t=mi(e),r=Ix(e),n=e.ownerDocument.body,i=Wl(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),l=Wl(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+Lx(e);const u=-r.scrollTop;return fa(n).direction==="rtl"&&(c+=Wl(t.clientWidth,n.clientWidth)-i),{width:i,height:l,x:c,y:u}}const rD=25;function $ae(e,t){const r=Un(e),n=mi(e),i=r.visualViewport;let l=n.clientWidth,c=n.clientHeight,u=0,f=0;if(i){l=i.width,c=i.height;const p=EN();(!p||p&&t==="fixed")&&(u=i.offsetLeft,f=i.offsetTop)}const m=Lx(n);if(m<=0){const p=n.ownerDocument,x=p.body,v=getComputedStyle(x),g=p.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,j=Math.abs(n.clientWidth-x.clientWidth-g);j<=rD&&(l-=j)}else m<=rD&&(l+=m);return{width:l,height:c,x:u,y:f}}const Hae=new Set(["absolute","fixed"]);function qae(e,t){const r=io(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,l=oi(e)?fc(e):ii(1),c=e.clientWidth*l.x,u=e.clientHeight*l.y,f=i*l.x,m=n*l.y;return{width:c,height:u,x:f,y:m}}function nD(e,t,r){let n;if(t==="viewport")n=$ae(e,r);else if(t==="document")n=Bae(mi(e));else if(un(t))n=qae(t,r);else{const i=bI(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return _h(n)}function wI(e,t){const r=Xs(e);return r===t||!un(r)||Ac(r)?!1:fa(r).position==="fixed"||wI(r,t)}function Uae(e,t){const r=t.get(e);if(r)return r;let n=Od(e,[],!1).filter(u=>un(u)&&Wc(u)!=="body"),i=null;const l=fa(e).position==="fixed";let c=l?Xs(e):e;for(;un(c)&&!Ac(c);){const u=fa(c),f=MN(c);!f&&u.position==="fixed"&&(i=null),(l?!f&&!i:!f&&u.position==="static"&&!!i&&Hae.has(i.position)||tf(c)&&!f&&wI(e,c))?n=n.filter(p=>p!==c):i=u,c=Xs(c)}return t.set(e,n),n}function Yae(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const c=[...r==="clippingAncestors"?Px(t)?[]:Uae(t,this._c):[].concat(r),n],u=c[0],f=c.reduce((m,p)=>{const x=nD(t,p,i);return m.top=Wl(x.top,m.top),m.right=kc(x.right,m.right),m.bottom=kc(x.bottom,m.bottom),m.left=Wl(x.left,m.left),m},nD(t,u,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function Vae(e){const{width:t,height:r}=gI(e);return{width:t,height:r}}function Gae(e,t,r){const n=oi(t),i=mi(t),l=r==="fixed",c=io(e,!0,l,t);let u={scrollLeft:0,scrollTop:0};const f=ii(0);function m(){f.x=Lx(i)}if(n||!n&&!l)if((Wc(t)!=="body"||tf(i))&&(u=Ix(t)),n){const g=io(t,!0,l,t);f.x=g.x+t.clientLeft,f.y=g.y+t.clientTop}else i&&m();l&&!n&&i&&m();const p=i&&!n&&!l?yI(i,u):ii(0),x=c.left+u.scrollLeft-f.x-p.x,v=c.top+u.scrollTop-f.y-p.y;return{x,y:v,width:c.width,height:c.height}}function Bb(e){return fa(e).position==="static"}function aD(e,t){if(!oi(e)||fa(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return mi(e)===r&&(r=r.ownerDocument.body),r}function NI(e,t){const r=Un(e);if(Px(e))return r;if(!oi(e)){let i=Xs(e);for(;i&&!Ac(i);){if(un(i)&&!Bb(i))return i;i=Xs(i)}return r}let n=aD(e,t);for(;n&&aae(n)&&Bb(n);)n=aD(n,t);return n&&Ac(n)&&Bb(n)&&!MN(n)?r:n||cae(e)||r}const Wae=async function(e){const t=this.getOffsetParent||NI,r=this.getDimensions,n=await r(e.floating);return{reference:Gae(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Kae(e){return fa(e).direction==="rtl"}const Qae={convertOffsetParentRelativeRectToViewportRelativeRect:Fae,getDocumentElement:mi,getClippingRect:Yae,getOffsetParent:NI,getElementRects:Wae,getClientRects:zae,getDimensions:Vae,getScale:fc,isElement:un,isRTL:Kae};function jI(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Xae(e,t){let r=null,n;const i=mi(e);function l(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function c(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),l();const m=e.getBoundingClientRect(),{left:p,top:x,width:v,height:g}=m;if(u||t(),!v||!g)return;const j=zm(x),y=zm(i.clientWidth-(p+v)),w=zm(i.clientHeight-(x+g)),A=zm(p),C={rootMargin:-j+"px "+-y+"px "+-w+"px "+-A+"px",threshold:Wl(0,kc(1,f))||1};let M=!0;function E(O){const P=O[0].intersectionRatio;if(P!==f){if(!M)return c();P?c(!1,P):n=setTimeout(()=>{c(!1,1e-7)},1e3)}P===1&&!jI(m,e.getBoundingClientRect())&&c(),M=!1}try{r=new IntersectionObserver(E,{...C,root:i.ownerDocument})}catch{r=new IntersectionObserver(E,C)}r.observe(e)}return c(!0),l}function Zae(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=n,m=ON(e),p=i||l?[...m?Od(m):[],...Od(t)]:[];p.forEach(A=>{i&&A.addEventListener("scroll",r,{passive:!0}),l&&A.addEventListener("resize",r)});const x=m&&u?Xae(m,r):null;let v=-1,g=null;c&&(g=new ResizeObserver(A=>{let[k]=A;k&&k.target===m&&g&&(g.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var C;(C=g)==null||C.observe(t)})),r()}),m&&!f&&g.observe(m),g.observe(t));let j,y=f?io(e):null;f&&w();function w(){const A=io(e);y&&!jI(y,A)&&r(),y=A,j=requestAnimationFrame(w)}return r(),()=>{var A;p.forEach(k=>{i&&k.removeEventListener("scroll",r),l&&k.removeEventListener("resize",r)}),x?.(),(A=g)==null||A.disconnect(),g=null,f&&cancelAnimationFrame(j)}}const Jae=Iae,eie=Oae,iD=_ae,tie=(e,t,r)=>{const n=new Map,i={platform:Qae,...r},l={...i.platform,_c:n};return Dae(e,t,{...i,platform:l})};var rie=typeof document<"u",nie=function(){},jp=rie?N.useLayoutEffect:nie;function Th(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Th(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const l=i[n];if(!(l==="_owner"&&e.$$typeof)&&!Th(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function SI(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function sD(e,t){const r=SI(e);return Math.round(t*r)/r}function $b(e){const t=N.useRef(e);return jp(()=>{t.current=e}),t}function aie(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:l,floating:c}={},transform:u=!0,whileElementsMounted:f,open:m}=e,[p,x]=N.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[v,g]=N.useState(n);Th(v,n)||g(n);const[j,y]=N.useState(null),[w,A]=N.useState(null),k=N.useCallback(me=>{me!==O.current&&(O.current=me,y(me))},[]),C=N.useCallback(me=>{me!==P.current&&(P.current=me,A(me))},[]),M=l||j,E=c||w,O=N.useRef(null),P=N.useRef(null),T=N.useRef(p),$=f!=null,L=$b(f),H=$b(i),D=$b(m),Z=N.useCallback(()=>{if(!O.current||!P.current)return;const me={placement:t,strategy:r,middleware:v};H.current&&(me.platform=H.current),tie(O.current,P.current,me).then(we=>{const Ne={...we,isPositioned:D.current!==!1};K.current&&!Th(T.current,Ne)&&(T.current=Ne,Ic.flushSync(()=>{x(Ne)}))})},[v,t,r,H,D]);jp(()=>{m===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,x(me=>({...me,isPositioned:!1})))},[m]);const K=N.useRef(!1);jp(()=>(K.current=!0,()=>{K.current=!1}),[]),jp(()=>{if(M&&(O.current=M),E&&(P.current=E),M&&E){if(L.current)return L.current(M,E,Z);Z()}},[M,E,Z,L,$]);const J=N.useMemo(()=>({reference:O,floating:P,setReference:k,setFloating:C}),[k,C]),R=N.useMemo(()=>({reference:M,floating:E}),[M,E]),G=N.useMemo(()=>{const me={position:r,left:0,top:0};if(!R.floating)return me;const we=sD(R.floating,p.x),Ne=sD(R.floating,p.y);return u?{...me,transform:"translate("+we+"px, "+Ne+"px)",...SI(R.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:we,top:Ne}},[r,u,R.floating,p.x,p.y]);return N.useMemo(()=>({...p,update:Z,refs:J,elements:R,floatingStyles:G}),[p,Z,J,R,G])}const iie=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?iD({element:n.current,padding:i}).fn(r):{}:n?iD({element:n,padding:i}).fn(r):{}}}},sie=(e,t)=>({...Jae(e),options:[e,t]}),lie=(e,t)=>({...eie(e),options:[e,t]}),oie=(e,t)=>({...iie(e),options:[e,t]}),cie={...w1};let lD=!1,uie=0;const oD=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+uie++;function die(){const[e,t]=N.useState(()=>lD?oD():void 0);return Oh(()=>{e==null&&t(oD())},[]),N.useEffect(()=>{lD=!0},[]),e}const fie=cie.useId,CI=fie||die,mie=N.forwardRef(function(t,r){const{context:{placement:n,elements:{floating:i},middlewareData:{arrow:l,shift:c}},width:u=14,height:f=7,tipRadius:m=0,strokeWidth:p=0,staticOffset:x,stroke:v,d:g,style:{transform:j,...y}={},...w}=t,A=CI(),[k,C]=N.useState(!1);if(Oh(()=>{if(!i)return;fa(i).direction==="rtl"&&C(!0)},[i]),!i)return null;const[M,E]=n.split("-"),O=M==="top"||M==="bottom";let P=x;(O&&c!=null&&c.x||!O&&c!=null&&c.y)&&(P=null);const T=p*2,$=T/2,L=u/2*(m/-8+1),H=f/2*m/4,D=!!g,Z=P&&E==="end"?"bottom":"top";let K=P&&E==="end"?"right":"left";P&&k&&(K=E==="end"?"left":"right");const J=l?.x!=null?P||l.x:"",R=l?.y!=null?P||l.y:"",G=g||"M0,0"+(" H"+u)+(" L"+(u-L)+","+(f-H))+(" Q"+u/2+","+f+" "+L+","+(f-H))+" Z",me={top:D?"rotate(180deg)":"",left:D?"rotate(90deg)":"rotate(-90deg)",bottom:D?"":"rotate(180deg)",right:D?"rotate(-90deg)":"rotate(90deg)"}[M];return a.jsxs("svg",{...w,"aria-hidden":!0,ref:r,width:D?u:u+T,height:u,viewBox:"0 0 "+u+" "+(f>u?f:u),style:{position:"absolute",pointerEvents:"none",[K]:J,[Z]:R,[M]:O||D?"100%":"calc(100% - "+T/2+"px)",transform:[me,j].filter(we=>!!we).join(" "),...y},children:[T>0&&a.jsx("path",{clipPath:"url(#"+A+")",fill:"none",stroke:v,strokeWidth:T+(g?0:1),d:G}),a.jsx("path",{stroke:T&&!g?w.fill:"none",d:G}),a.jsx("clipPath",{id:A,children:a.jsx("rect",{x:-$,y:$*(D?-1:1),width:u+T,height:u})})]})});function pie(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(i=>i(r))},on(t,r){e.has(t)||e.set(t,new Set),e.get(t).add(r)},off(t,r){var n;(n=e.get(t))==null||n.delete(r)}}}const hie=N.createContext(null),xie=N.createContext(null),vie=()=>{var e;return((e=N.useContext(hie))==null?void 0:e.id)||null},gie=()=>N.useContext(xie);function bie(e){const{open:t=!1,onOpenChange:r,elements:n}=e,i=CI(),l=N.useRef({}),[c]=N.useState(()=>pie()),u=vie()!=null,[f,m]=N.useState(n.reference),p=Mae((g,j,y)=>{l.current.openEvent=g?j:void 0,c.emit("openchange",{open:g,event:j,reason:y,nested:u}),r?.(g,j,y)}),x=N.useMemo(()=>({setPositionReference:m}),[]),v=N.useMemo(()=>({reference:f||n.reference||null,floating:n.floating||null,domReference:n.reference}),[f,n.reference,n.floating]);return N.useMemo(()=>({dataRef:l,open:t,onOpenChange:p,elements:v,events:c,floatingId:i,refs:x}),[t,p,v,c,i,x])}function yie(e){e===void 0&&(e={});const{nodeId:t}=e,r=bie({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,i=n.elements,[l,c]=N.useState(null),[u,f]=N.useState(null),p=i?.domReference||l,x=N.useRef(null),v=gie();Oh(()=>{p&&(x.current=p)},[p]);const g=aie({...e,elements:{...i,...u&&{reference:u}}}),j=N.useCallback(C=>{const M=un(C)?{getBoundingClientRect:()=>C.getBoundingClientRect(),getClientRects:()=>C.getClientRects(),contextElement:C}:C;f(M),g.refs.setReference(M)},[g.refs]),y=N.useCallback(C=>{(un(C)||C===null)&&(x.current=C,c(C)),(un(g.refs.reference.current)||g.refs.reference.current===null||C!==null&&!un(C))&&g.refs.setReference(C)},[g.refs]),w=N.useMemo(()=>({...g.refs,setReference:y,setPositionReference:j,domReference:x}),[g.refs,y,j]),A=N.useMemo(()=>({...g.elements,domReference:p}),[g.elements,p]),k=N.useMemo(()=>({...g,...n,refs:w,elements:A,nodeId:t}),[g,w,A,t,n]);return Oh(()=>{n.dataRef.current.floatingContext=k;const C=v?.nodesRef.current.find(M=>M.id===t);C&&(C.context=k)}),N.useMemo(()=>({...g,context:k,refs:w,elements:A}),[g,w,A,k])}var u1=function(t,r){return u1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(n[l]=i[l])},u1(t,r)};function Jr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u1(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ut=function(){return ut=Object.assign||function(r){for(var n,i=1,l=arguments.length;i<l;i++){n=arguments[i];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(r[c]=n[c])}return r},ut.apply(this,arguments)};function ti(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,l;n<i;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return e.concat(l||Array.prototype.slice.call(t))}var wie=function(e){var t=e.showTimeSelectOnly,r=t===void 0?!1:t,n=e.showTime,i=n===void 0?!1:n,l=e.className,c=e.children,u=e.inline,f=r?"Choose Time":"Choose Date".concat(i?" and Time":"");return se.createElement("div",{className:l,"aria-label":f,role:u?void 0:"dialog","aria-modal":u?void 0:"true",translate:"no"},c)},Nie=function(e,t){var r=N.useRef(null),n=N.useRef(e);N.useEffect(function(){n.current=e},[e]);var i=N.useCallback(function(l){var c,u=l.composed&&l.composedPath&&l.composedPath().find(function(f){return f instanceof Node})||l.target;r.current&&!r.current.contains(u)&&(t&&u instanceof HTMLElement&&u.classList.contains(t)||(c=n.current)===null||c===void 0||c.call(n,l))},[t]);return N.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),r},Fx=function(e){var t=e.children,r=e.onClickOutside,n=e.className,i=e.containerRef,l=e.style,c=e.ignoreClass,u=Nie(r,c);return se.createElement("div",{className:n,style:l,ref:function(f){u.current=f,i&&(i.current=f)}},t)},Bm=null,cD=!1;function AI(){if(cD)return Bm;cD=!0;try{var e="date-fns-tz";Bm=require(e)}catch{Bm=null}return Bm}function uD(e,t){if(!t)return e;var r=AI();return r?r.toZonedTime(e,t):e}function Ii(e,t){if(!t)return e;var r=AI();return r?r.fromZonedTime(e,t):e}var Te;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(Te||(Te={}));function kI(){var e=typeof window<"u"?window:globalThis;return e}var nf=12;function Nt(e){if(e==null)return new Date;var t=typeof e=="string"?Bne(e):Ge(e);return wn(t)?t:new Date}function Dl(e,t,r,n,i){i===void 0&&(i=Nt());for(var l=Ec(r)||Ec(TN()),c=Array.isArray(t)?t:[t],u=0,f=c;u<f.length;u++){var m=f[u],p=Pne(e,m,i,{locale:l});if(wn(p)&&(!n||e===Xt(p,m,r)))return p}if(!n&&e&&e.length>=8){var x=new Date(e);if(Cc(x))return x}return null}function jie(e,t){if(t===void 0&&(t=Nt()),!e)return null;var r=e.match(/\b(1\d{3}|2\d{3})\b/);if(!r||!r[1])return null;var n=parseInt(r[1],10),i=e.match(/(?:^|[/\-\s])?(0?[1-9]|1[0-2])(?:[/\-\s]|$)/),l=i&&i[1]?parseInt(i[1],10)-1:t.getMonth();return new Date(n,l,1)}function wn(e){return Cc(e)}function Hl(e){return e==null?null:ai(e)&&Cc(e)?e:null}function Xt(e,t,r){if(r==="en")return KE(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=r?Ec(r):void 0;return r&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),n=n||Ec(TN()),KE(e,t,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function yn(e,t){var r=t.dateFormat,n=t.locale,i=Array.isArray(r)&&r.length>0?r[0]:r;return e&&Xt(e,i,n)||""}var MI=" - ";function Sie(e,t,r){if(!e&&!t)return"";var n=e?yn(e,r):"",i=t?yn(t,r):"",l=r.rangeSeparator||MI;return"".concat(n).concat(l).concat(i)}function Cie(e,t){if(!e?.length)return"";var r=e[0]?yn(e[0],t):"";if(e.length===1)return r;if(e.length===2&&e[1]){var n=yn(e[1],t);return"".concat(r,", ").concat(n)}var i=e.length-1;return"".concat(r," (+").concat(i,")")}function Ri(e,t){var r=t.hour,n=r===void 0?0:r,i=t.minute,l=i===void 0?0:i,c=t.second,u=c===void 0?0:c;return yp(wp(Np(e,u),l),n)}function Aie(e){return SN(e)}function kie(e,t){return Xt(e,"ddd",t)}function cd(e){return ao(e)}function Ys(e,t,r){var n=Ec(t||TN());return es(e,{locale:n,weekStartsOn:r})}function Ui(e){return aI(e)}function ud(e){return Ox(e)}function dD(e){return i1(e)}function fD(){return ao(Nt())}function mD(e){return rI(e)}function Mie(e){return Bte(e)}function Eie(e){return nI(e)}function Wa(e,t){return e&&t?Fne(e,t):!e&&!t}function on(e,t){return e&&t?Rne(e,t):!e&&!t}function Ph(e,t){return e&&t?Lne(e,t):!e&&!t}function bt(e,t){return e&&t?Fte(e,t):!e&&!t}function ql(e,t){return e&&t?zre(e,t):!e&&!t}function Rl(e,t,r){var n,i=ao(t),l=rI(r);try{n=_d(e,{start:i,end:l})}catch{n=!1}return n}function TN(){var e=kI();return e.__localeId__}function Ec(e){if(typeof e=="string"){var t=kI();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function Die(e,t,r){return t(Xt(e,"EEEE",r))}function _ie(e,t){return Xt(e,"EEEEEE",t)}function Oie(e,t){return Xt(e,"EEE",t)}function PN(e,t){return Xt(Ln(Nt(),e),"LLLL",t)}function EI(e,t){return Xt(Ln(Nt(),e),"LLL",t)}function Tie(e,t){return Xt(ac(Nt(),e),"QQQ",t)}function la(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.maxDate,l=r.excludeDates,c=r.excludeDateIntervals,u=r.includeDates,f=r.includeDateIntervals,m=r.filterDate,p=r.disabled;return p?!0:af(e,{minDate:n,maxDate:i})||l&&l.some(function(x){return x instanceof Date?bt(e,x):bt(e,x.date)})||c&&c.some(function(x){var v=x.start,g=x.end;return _d(e,{start:v,end:g})})||u&&!u.some(function(x){return bt(e,x)})||f&&!f.some(function(x){var v=x.start,g=x.end;return _d(e,{start:v,end:g})})||m&&!m(Nt(e))||!1}function IN(e,t){var r=t===void 0?{}:t,n=r.excludeDates,i=r.excludeDateIntervals;return i&&i.length>0?i.some(function(l){var c=l.start,u=l.end;return _d(e,{start:c,end:u})}):n&&n.some(function(l){var c;return l instanceof Date?bt(e,l):bt(e,(c=l.date)!==null&&c!==void 0?c:new Date)})||!1}function DI(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.maxDate,l=r.excludeDates,c=r.includeDates,u=r.filterDate;return af(e,{minDate:n?aI(n):void 0,maxDate:i?nI(i):void 0})||l?.some(function(f){return on(e,f instanceof Date?f:f.date)})||c&&!c.some(function(f){return on(e,f)})||u&&!u(Nt(e))||!1}function $m(e,t,r,n){var i=ht(e),l=Nn(e),c=ht(t),u=Nn(t),f=ht(n);return i===c&&i===f?l<=r&&r<=u:i<c?f===i&&l<=r||f===c&&u>=r||f<c&&f>i:!1}function Pie(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.maxDate,l=r.excludeDates,c=r.includeDates;return af(e,{minDate:n,maxDate:i})||l&&l.some(function(u){return on(u instanceof Date?u:u.date,e)})||c&&!c.some(function(u){return on(u,e)})||!1}function Hm(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.maxDate,l=r.excludeDates,c=r.includeDates,u=r.filterDate,f=r.disabled;return f?!0:af(e,{minDate:n,maxDate:i})||l?.some(function(m){return Ph(e,m instanceof Date?m:m.date)})||c&&!c.some(function(m){return Ph(e,m)})||u&&!u(Nt(e))||!1}function qm(e,t,r){if(!t||!r||!Cc(t)||!Cc(r))return!1;var n=ht(t),i=ht(r);return n<=e&&i>=e}function Sp(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.maxDate,l=r.excludeDates,c=r.includeDates,u=r.filterDate,f=r.disabled;if(f)return!0;var m=new Date(e,0,1);return af(m,{minDate:n?Ox(n):void 0,maxDate:i?iI(i):void 0})||l?.some(function(p){return Wa(m,p instanceof Date?p:p.date)})||c&&!c.some(function(p){return Wa(m,p)})||u&&!u(Nt(m))||!1}function Um(e,t,r,n){var i=ht(e),l=$s(e),c=ht(t),u=$s(t),f=ht(n);return i===c&&i===f?l<=r&&r<=u:i<c?f===i&&l<=r||f===c&&u>=r||f<c&&f>i:!1}function af(e,t){var r,n=t===void 0?{}:t,i=n.minDate,l=n.maxDate;return(r=i&&Sc(e,i)<0||l&&Sc(e,l)>0)!==null&&r!==void 0?r:!1}function pD(e,t){return t.some(function(r){return nn(r)===nn(e)&&an(r)===an(e)&&Us(r)===Us(e)})}function hD(e,t){var r=t===void 0?{}:t,n=r.excludeTimes,i=r.includeTimes,l=r.filterTime;return n&&pD(e,n)||i&&!pD(e,i)||l&&!l(e)||!1}function xD(e,t){var r=t.minTime,n=t.maxTime;if(!r||!n)throw new Error("Both minTime and maxTime props required");var i=Nt();i=yp(i,nn(e)),i=wp(i,an(e)),i=Np(i,Us(e));var l=Nt();l=yp(l,nn(r)),l=wp(l,an(r)),l=Np(l,Us(r));var c=Nt();c=yp(c,nn(n)),c=wp(c,an(n)),c=Np(c,Us(n));var u;try{u=!_d(i,{start:l,end:c})}catch{u=!1}return u}function vD(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.includeDates,l=Gl(e,1);return n&&Ch(n,l)>0||i&&i.every(function(c){return Ch(c,l)>0})||!1}function gD(e,t){var r=t===void 0?{}:t,n=r.maxDate,i=r.includeDates,l=_a(e,1);return n&&Ch(l,n)>0||i&&i.every(function(c){return Ch(l,c)>0})||!1}function Iie(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.includeDates,l=Ox(e),c=pI(l);return n&&Ah(n,c)>0||i&&i.every(function(u){return Ah(u,c)>0})||!1}function Rie(e,t){var r=t===void 0?{}:t,n=r.maxDate,i=r.includeDates,l=iI(e),c=jN(l,1);return n&&Ah(c,n)>0||i&&i.every(function(u){return Ah(c,u)>0})||!1}function bD(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.includeDates,l=Qs(e,1);return n&&kh(n,l)>0||i&&i.every(function(c){return kh(c,l)>0})||!1}function Lie(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.yearItemNumber,l=i===void 0?nf:i,c=ud(Qs(e,l)),u=Bi(c,l).endPeriod,f=n&&ht(n);return f&&f>u||!1}function yD(e,t){var r=t===void 0?{}:t,n=r.maxDate,i=r.includeDates,l=ka(e,1);return n&&kh(l,n)>0||i&&i.every(function(c){return kh(l,c)>0})||!1}function Fie(e,t){var r=t===void 0?{}:t,n=r.maxDate,i=r.yearItemNumber,l=i===void 0?nf:i,c=ka(e,l),u=Bi(c,l).startPeriod,f=n&&ht(n);return f&&f<u||!1}function _I(e){var t=e.minDate,r=e.includeDates;if(r&&t){var n=r.filter(function(i){return Sc(i,t)>=0});return qE(n)}else return r?qE(r):t}function OI(e){var t=e.maxDate,r=e.includeDates;if(r&&t){var n=r.filter(function(i){return Sc(i,t)<=0});return HE(n)}else return r?HE(r):t}function wD(e,t){var r;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var n=new Map,i=0,l=e.length;i<l;i++){var c=e[i];if(ai(c)){var u=Xt(c,"MM.dd.yyyy"),f=n.get(u)||[];f.includes(t)||(f.push(t),n.set(u,f))}else if(typeof c=="object"){var m=Object.keys(c),p=(r=m[0])!==null&&r!==void 0?r:"",x=c[p];if(typeof p=="string"&&Array.isArray(x))for(var v=0,g=x.length;v<g;v++){var j=x[v];if(j){var u=Xt(j,"MM.dd.yyyy"),f=n.get(u)||[];f.includes(p)||(f.push(p),n.set(u,f))}}}}return n}function zie(e,t){return e.length!==t.length?!1:e.every(function(r,n){return r===t[n]})}function Bie(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var r=new Map;return e.forEach(function(n){var i=n.date,l=n.holidayName;if(ai(i)){var c=Xt(i,"MM.dd.yyyy"),u=r.get(c)||{className:"",holidayNames:[]};if(!("className"in u&&u.className===t&&zie(u.holidayNames,[l]))){u.className=t;var f=u.holidayNames;u.holidayNames=f?ti(ti([],f,!0),[l],!1):[l],r.set(c,u)}}}),r}function $ie(e,t,r,n,i){for(var l=i.length,c=[],u=0;u<l;u++){var f=e,m=i[u];m&&(f=Pte(f,nn(m)),f=Dd(f,an(m)),f=Lte(f,Us(m)));var p=Dd(e,(r+1)*n);qi(f,t)&&ei(f,p)&&m!=null&&c.push(m)}return c}function Zo(e){return e<10?"0".concat(e):"".concat(e)}function Bi(e,t){t===void 0&&(t=nf);var r=Math.ceil(ht(e)/t)*t,n=r-(t-1);return{startPeriod:n,endPeriod:r}}function Hie(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+r-+t)/36e5)}function ND(e){var t=e.getSeconds(),r=e.getMilliseconds();return Ge(e.getTime()-t*1e3-r)}function TI(e,t){return ND(e).getTime()===ND(t).getTime()}function jD(e){if(!ai(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function Hb(e,t){if(!ai(e)||!ai(t))throw new Error("Invalid date received");var r=jD(e),n=jD(t);return ei(r,n)}function PI(e){return e.key===Te.Space}var qb=(function(e){Jr(t,e);function t(r){var n=e.call(this,r)||this;return n.inputRef=se.createRef(),n.onTimeChange=function(i){var l,c;n.setState({time:i});var u=n.props.date,f=u instanceof Date&&!isNaN(+u),m=f?u:new Date;if(i?.includes(":")){var p=i.split(":"),x=p[0],v=p[1];m.setHours(Number(x)),m.setMinutes(Number(v))}(c=(l=n.props).onChange)===null||c===void 0||c.call(l,m)},n.renderTimeInput=function(){var i=n.state.time,l=n.props,c=l.date,u=l.timeString,f=l.customTimeInput;return f?N.cloneElement(f,{date:c,value:i,onChange:n.onTimeChange}):se.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var m;(m=n.inputRef.current)===null||m===void 0||m.focus()},required:!0,value:i,onChange:function(m){n.onTimeChange(m.target.value||u)}})},n.state={time:n.props.timeString},n}return t.getDerivedStateFromProps=function(r,n){return r.timeString!==n.time?{time:r.timeString}:null},t.prototype.render=function(){return se.createElement("div",{className:"react-datepicker__input-time-container"},se.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),se.createElement("div",{className:"react-datepicker-time__input-container"},se.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t})(N.Component),qie=(function(e){Jr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.dayEl=N.createRef(),r.handleClick=function(n){!r.isDisabled()&&r.props.onClick&&r.props.onClick(n)},r.handleMouseEnter=function(n){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(n)},r.handleOnKeyDown=function(n){var i,l,c=n.key;c===Te.Space&&(n.preventDefault(),n.key=Te.Enter),(l=(i=r.props).handleOnKeyDown)===null||l===void 0||l.call(i,n)},r.isSameDay=function(n){return bt(r.props.day,n)},r.isKeyboardSelected=function(){var n;if(r.props.disabledKeyboardNavigation)return!1;var i=r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(c){return r.isSameDayOrWeek(c)}):r.isSameDayOrWeek(r.props.selected),l=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!i&&r.isSameDayOrWeek(r.props.preSelection)&&!l},r.isDisabled=function(n){return n===void 0&&(n=r.props.day),la(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate,disabled:r.props.disabled})},r.isExcluded=function(){return IN(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return bt(r.props.day,Ys(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(n){return r.props.showWeekPicker&&bt(n,Ys(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(n){return r.isSameDay(n)||r.isSameWeek(n)},r.getHighLightedClass=function(){var n=r.props,i=n.day,l=n.highlightDates;if(!l)return!1;var c=Xt(i,"MM.dd.yyyy");return l.get(c)},r.getHolidaysClass=function(){var n,i=r.props,l=i.day,c=i.holidays;if(!c)return[void 0];var u=Xt(l,"MM.dd.yyyy");return c.has(u)?[(n=c.get(u))===null||n===void 0?void 0:n.className]:[void 0]},r.isInRange=function(){var n=r.props,i=n.day,l=n.startDate,c=n.endDate;return!l||!c?!1:Rl(i,l,c)},r.isInSelectingRange=function(){var n,i=r.props,l=i.day,c=i.selectsStart,u=i.selectsEnd,f=i.selectsRange,m=i.selectsDisabledDaysInRange,p=i.startDate,x=i.swapRange,v=i.endDate,g=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;if(r.isAfterMonth()||r.isBeforeMonth()||!(c||u||f)||!g||!m&&r.isDisabled())return!1;if(c&&v&&(ei(g,v)||ql(g,v)))return Rl(l,g,v);if(u&&p&&(qi(g,p)||ql(g,p)))return Rl(l,p,g);if(f&&p&&!v){if(ql(g,p)||qi(g,p))return Rl(l,p,g);if(x&&ei(g,p))return Rl(l,g,p)}return!1},r.isSelectingRangeStart=function(){var n;if(!r.isInSelectingRange())return!1;var i=r.props,l=i.day,c=i.startDate,u=i.selectsStart,f=i.swapRange,m=i.selectsRange,p=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return u?bt(l,p):m&&f&&c&&p?bt(l,ei(p,c)?p:c):bt(l,c)},r.isSelectingRangeEnd=function(){var n;if(!r.isInSelectingRange())return!1;var i=r.props,l=i.day,c=i.endDate,u=i.selectsEnd,f=i.selectsRange,m=i.swapRange,p=i.startDate,x=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return u?bt(l,x):f&&m&&p&&x?bt(l,ei(x,p)?p:x):f?bt(l,x):bt(l,c)},r.isRangeStart=function(){var n=r.props,i=n.day,l=n.startDate,c=n.endDate;return!l||!c?!1:bt(l,i)},r.isRangeEnd=function(){var n=r.props,i=n.day,l=n.startDate,c=n.endDate;return!l||!c?!1:bt(c,i)},r.isWeekend=function(){var n=Ire(r.props.day);return n===0||n===6},r.isAfterMonth=function(){return r.props.month!==void 0&&(r.props.month+1)%12===Nn(r.props.day)},r.isBeforeMonth=function(){return r.props.month!==void 0&&(Nn(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(Nt())},r.isSelected=function(){var n;return r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(i){return r.isSameDayOrWeek(i)}):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(n){var i=r.props.dayClassName?r.props.dayClassName(n):void 0;return dt("react-datepicker__day",i,"react-datepicker__day--"+kie(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var n=r.props,i=n.day,l=n.ariaLabelPrefixWhenEnabled,c=l===void 0?"Choose":l,u=n.ariaLabelPrefixWhenDisabled,f=u===void 0?"Not available":u,m=r.isDisabled()||r.isExcluded()?f:c;return"".concat(m," ").concat(Xt(i,"PPPP",r.props.locale))},r.getTitle=function(){var n=r.props,i=n.day,l=n.holidays,c=l===void 0?new Map:l,u=n.excludeDates,f=Xt(i,"MM.dd.yyyy"),m=[];return c.has(f)&&m.push.apply(m,c.get(f).holidayNames),r.isExcluded()&&m.push(u?.filter(function(p){return p instanceof Date?bt(p,i):bt(p?.date,i)}).map(function(p){if(!(p instanceof Date))return p?.message})),m.join(", ")},r.getTabIndex=function(){var n=r.props.selected,i=r.props.preSelection,l=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(n)&&bt(i,n))?0:-1;return l},r.handleFocusDay=function(){var n;r.shouldFocusDay()&&((n=r.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(QE(r.props.day),r.props.day):QE(r.props.day)},r.render=function(){return se.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"gridcell",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&se.createElement("span",{className:"overlay"},r.getTitle()))},r}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var r=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(r=!1),this.isDayActiveElement()&&(r=!0),this.isDuplicateDay()&&(r=!1)),r},t.prototype.isDayActiveElement=function(){var r,n,i;return((n=(r=this.props.containerRef)===null||r===void 0?void 0:r.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t})(N.Component),Uie=(function(e){Jr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.weekNumberEl=N.createRef(),r.handleClick=function(n){r.props.onClick&&r.props.onClick(n)},r.handleOnKeyDown=function(n){var i,l,c=n.key;c===Te.Space&&(n.preventDefault(),n.key=Te.Enter),(l=(i=r.props).handleOnKeyDown)===null||l===void 0||l.call(i,n)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!bt(r.props.date,r.props.selected)&&bt(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||bt(r.props.date,r.props.selected)&&bt(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(n){var i=!1;r.getTabIndex()===0&&!n?.isInputFocused&&bt(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(i=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(r){this.handleFocusWeekNumber(r)},t.prototype.render=function(){var r=this.props,n=r.weekNumber,i=r.isWeekDisabled,l=r.ariaLabelPrefix,c=l===void 0?t.defaultProps.ariaLabelPrefix:l,u=r.onClick,f={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!u&&!i,"react-datepicker__week-number--selected":!!u&&bt(this.props.date,this.props.selected)};return se.createElement("div",{ref:this.weekNumberEl,className:dt(f),"aria-label":"".concat(c," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},n)},t})(N.Component),Yie=(function(e){Jr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.isDisabled=function(n){return la(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.handleDayClick=function(n,i){r.props.onDayClick&&r.props.onDayClick(n,i)},r.handleDayMouseEnter=function(n){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(n)},r.handleWeekClick=function(n,i,l){for(var c,u,f,m=new Date(n),p=0;p<7;p++){var x=new Date(n);x.setDate(x.getDate()+p);var v=!r.isDisabled(x);if(v){m=x;break}}typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(m,i,l),r.props.showWeekPicker&&r.handleDayClick(m,l),((c=r.props.shouldCloseOnSelect)!==null&&c!==void 0?c:t.defaultProps.shouldCloseOnSelect)&&((f=(u=r.props).setOpen)===null||f===void 0||f.call(u,!1))},r.formatWeekNumber=function(n){return r.props.formatWeekNumber?r.props.formatWeekNumber(n):Aie(n)},r.isWeekDisabled=function(){for(var n=r.startOfWeek(),i=Aa(n,6),l=new Date(n);l<=i;){if(!r.isDisabled(l))return!1;l=Aa(l,1)}return!0},r.renderDays=function(){var n=r.startOfWeek(),i=[],l=r.formatWeekNumber(n);if(r.props.showWeekNumber){var c=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,n,l):void 0;i.push(se.createElement(Uie,ut({key:"W"},t.defaultProps,r.props,{weekNumber:l,isWeekDisabled:r.isWeekDisabled(),date:n,onClick:c})))}return i.concat([0,1,2,3,4,5,6].map(function(u){var f=Aa(n,u);return se.createElement(qie,ut({},t.defaultProps,r.props,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:f.valueOf(),day:f,onClick:r.handleDayClick.bind(r,f),onMouseEnter:r.handleDayMouseEnter.bind(r,f)}))}))},r.startOfWeek=function(){return Ys(r.props.day,r.props.locale,r.props.calendarStartDay)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!bt(r.startOfWeek(),r.props.selected)&&bt(r.startOfWeek(),r.props.preSelection)},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":bt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},n=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return se.createElement("div",{className:dt(r,n),role:"row"},this.renderDays())},t})(N.Component),td,Vie=6,mc={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Ub=(td={},td[mc.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},td[mc.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},td[mc.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},td),Ym=1;function SD(e,t){return e?mc.FOUR_COLUMNS:t?mc.TWO_COLUMNS:mc.THREE_COLUMNS}var Gie=(function(e){Jr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.MONTH_REFS=ti([],Array(12),!0).map(function(){return N.createRef()}),r.QUARTER_REFS=ti([],Array(4),!0).map(function(){return N.createRef()}),r.isDisabled=function(n){return la(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate,disabled:r.props.disabled})},r.isExcluded=function(n){return IN(n,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(n,i){var l,c;(c=(l=r.props).onDayClick)===null||c===void 0||c.call(l,n,i,r.props.orderInDisplay)},r.handleDayMouseEnter=function(n){var i,l;(l=(i=r.props).onDayMouseEnter)===null||l===void 0||l.call(i,n)},r.handleMouseLeave=function(){var n,i;(i=(n=r.props).onMouseLeave)===null||i===void 0||i.call(n)},r.isRangeStartMonth=function(n){var i=r.props,l=i.day,c=i.startDate,u=i.endDate;return!c||!u?!1:on(Ln(l,n),c)},r.isRangeStartQuarter=function(n){var i=r.props,l=i.day,c=i.startDate,u=i.endDate;return!c||!u?!1:Ph(ac(l,n),c)},r.isRangeEndMonth=function(n){var i=r.props,l=i.day,c=i.startDate,u=i.endDate;return!c||!u?!1:on(Ln(l,n),u)},r.isRangeEndQuarter=function(n){var i=r.props,l=i.day,c=i.startDate,u=i.endDate;return!c||!u?!1:Ph(ac(l,n),u)},r.isInSelectingRangeMonth=function(n){var i,l=r.props,c=l.day,u=l.selectsStart,f=l.selectsEnd,m=l.selectsRange,p=l.startDate,x=l.endDate,v=(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection;return!(u||f||m)||!v?!1:u&&x?$m(v,x,n,c):f&&p||m&&p&&!x?$m(p,v,n,c):!1},r.isSelectingMonthRangeStart=function(n){var i;if(!r.isInSelectingRangeMonth(n))return!1;var l=r.props,c=l.day,u=l.startDate,f=l.selectsStart,m=Ln(c,n),p=(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection;return f?on(m,p):on(m,u)},r.isSelectingMonthRangeEnd=function(n){var i;if(!r.isInSelectingRangeMonth(n))return!1;var l=r.props,c=l.day,u=l.endDate,f=l.selectsEnd,m=l.selectsRange,p=Ln(c,n),x=(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection;return f||m?on(p,x):on(p,u)},r.isInSelectingRangeQuarter=function(n){var i,l=r.props,c=l.day,u=l.selectsStart,f=l.selectsEnd,m=l.selectsRange,p=l.startDate,x=l.endDate,v=(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection;return!(u||f||m)||!v?!1:u&&x?Um(v,x,n,c):f&&p||m&&p&&!x?Um(p,v,n,c):!1},r.isWeekInMonth=function(n){var i=r.props.day,l=Aa(n,6);return on(n,i)||on(l,i)},r.isCurrentMonth=function(n,i){return ht(n)===ht(Nt())&&i===Nn(Nt())},r.isCurrentQuarter=function(n,i){return ht(n)===ht(Nt())&&i===$s(Nt())},r.isSelectedMonth=function(n,i,l){return Nn(l)===i&&ht(n)===ht(l)},r.isSelectMonthInList=function(n,i,l){return l.some(function(c){return r.isSelectedMonth(n,i,c)})},r.isSelectedQuarter=function(n,i,l){return $s(l)===i&&ht(n)===ht(l)},r.isSelectQuarterInList=function(n,i,l){return l.some(function(c){return r.isSelectedQuarter(n,i,c)})},r.isMonthSelected=function(){var n=r.props,i=n.day,l=n.selected,c=n.selectedDates,u=n.selectsMultiple,f=Nn(i);return u?c?.some(function(m){return r.isSelectedMonth(i,f,m)}):!!l&&r.isSelectedMonth(i,f,l)},r.isQuarterSelected=function(){var n=r.props,i=n.day,l=n.selected,c=n.selectedDates,u=n.selectsMultiple,f=$s(i);return u?c?.some(function(m){return r.isSelectedQuarter(i,f,m)}):!!l&&r.isSelectedQuarter(i,f,l)},r.renderWeeks=function(){if(!wn(r.props.day))return[];for(var n=[],i=r.props.fixedHeight,l=0,c=!1,u=Ys(Ui(r.props.day),r.props.locale,r.props.calendarStartDay),f=function(j){return r.props.showWeekPicker?Ys(j,r.props.locale,r.props.calendarStartDay):r.props.preSelection},m=function(j){return r.props.showWeekPicker?Ys(j,r.props.locale,r.props.calendarStartDay):r.props.selected},p=r.props.selected?m(r.props.selected):void 0,x=r.props.preSelection?f(r.props.preSelection):void 0;n.push(se.createElement(Yie,ut({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:l,day:u,month:Nn(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:p,preSelection:x,showWeekNumber:r.props.showWeekNumbers}))),!c;){l++,u=Sh(u,1);var v=i&&l>=Vie,g=!i&&!r.isWeekInMonth(u);if(v||g)if(r.props.peekNextMonth)c=!0;else break}return n},r.onMonthClick=function(n,i){var l=r.isMonthDisabledForLabelDate(i),c=l.isDisabled,u=l.labelDate;c||r.handleDayClick(Ui(u),n)},r.onMonthMouseEnter=function(n){var i=r.isMonthDisabledForLabelDate(n),l=i.isDisabled,c=i.labelDate;l||r.handleDayMouseEnter(Ui(c))},r.handleMonthNavigation=function(n,i){var l,c,u,f;(c=(l=r.props).setPreSelection)===null||c===void 0||c.call(l,i),(f=(u=r.MONTH_REFS[n])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus()},r.handleKeyboardNavigation=function(n,i,l){var c,u=r.props,f=u.selected,m=u.preSelection,p=u.setPreSelection,x=u.minDate,v=u.maxDate,g=u.showFourColumnMonthYearPicker,j=u.showTwoColumnMonthYearPicker;if(m){var y=SD(g,j),w=r.getVerticalOffset(y),A=(c=Ub[y])===null||c===void 0?void 0:c.grid,k=function(P,T,$){var L,H,D=T,Z=$;switch(P){case Te.ArrowRight:D=_a(T,Ym),Z=$===11?0:$+Ym;break;case Te.ArrowLeft:D=Gl(T,Ym),Z=$===0?11:$-Ym;break;case Te.ArrowUp:D=Gl(T,w),Z=!((L=A?.[0])===null||L===void 0)&&L.includes($)?$+12-w:$-w;break;case Te.ArrowDown:D=_a(T,w),Z=!((H=A?.[A.length-1])===null||H===void 0)&&H.includes($)?$-12+w:$+w;break}return{newCalculatedDate:D,newCalculatedMonth:Z}},C=function(P,T,$){for(var L=40,H=P,D=!1,Z=0,K=k(H,T,$),J=K.newCalculatedDate,R=K.newCalculatedMonth;!D;){if(Z>=L){J=T,R=$;break}if(x&&J<x){H=Te.ArrowRight;var G=k(H,J,R);J=G.newCalculatedDate,R=G.newCalculatedMonth}if(v&&J>v){H=Te.ArrowLeft;var G=k(H,J,R);J=G.newCalculatedDate,R=G.newCalculatedMonth}if(Pie(J,r.props)){var G=k(H,J,R);J=G.newCalculatedDate,R=G.newCalculatedMonth}else D=!0;Z++}return{newCalculatedDate:J,newCalculatedMonth:R}};if(i===Te.Enter){r.isMonthDisabled(l)||(r.onMonthClick(n,l),p?.(f));return}var M=C(i,m,l),E=M.newCalculatedDate,O=M.newCalculatedMonth;switch(i){case Te.ArrowRight:case Te.ArrowLeft:case Te.ArrowUp:case Te.ArrowDown:r.handleMonthNavigation(O,E);break}}},r.getVerticalOffset=function(n){var i,l;return(l=(i=Ub[n])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&l!==void 0?l:0},r.onMonthKeyDown=function(n,i){var l=r.props,c=l.disabledKeyboardNavigation,u=l.handleOnMonthKeyDown,f=n.key;f!==Te.Tab&&n.preventDefault(),c||r.handleKeyboardNavigation(n,f,i),u&&u(n)},r.onQuarterClick=function(n,i){var l=ac(r.props.day,i);Hm(l,r.props)||r.handleDayClick(dD(l),n)},r.onQuarterMouseEnter=function(n){var i=ac(r.props.day,n);Hm(i,r.props)||r.handleDayMouseEnter(dD(i))},r.handleQuarterNavigation=function(n,i){var l,c,u,f;r.isDisabled(i)||r.isExcluded(i)||((c=(l=r.props).setPreSelection)===null||c===void 0||c.call(l,i),(f=(u=r.QUARTER_REFS[n-1])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus())},r.onQuarterKeyDown=function(n,i){var l,c,u=n.key;if(!r.props.disabledKeyboardNavigation)switch(u){case Te.Enter:r.onQuarterClick(n,i),(c=(l=r.props).setPreSelection)===null||c===void 0||c.call(l,r.props.selected);break;case Te.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(i===4?1:i+1,jN(r.props.preSelection,1));break;case Te.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(i===1?4:i-1,pI(r.props.preSelection));break}},r.isMonthDisabledForLabelDate=function(n){var i,l=r.props,c=l.day,u=l.disabled,f=l.minDate,m=l.maxDate,p=l.excludeDates,x=l.includeDates,v=Ln(c,n);return u?{isDisabled:!0,labelDate:Ln(c,n)}:{isDisabled:(i=(f||m||p||x)&&DI(v,r.props))!==null&&i!==void 0?i:!1,labelDate:v}},r.isMonthDisabled=function(n){var i=r.isMonthDisabledForLabelDate(n).isDisabled;return i},r.getMonthClassNames=function(n){var i=r.props,l=i.day,c=i.startDate,u=i.endDate,f=i.preSelection,m=i.monthClassName,p=m?m(Ln(l,n)):void 0,x=r.getSelection();return dt("react-datepicker__month-text","react-datepicker__month-".concat(n),p,{"react-datepicker__month-text--disabled":r.isMonthDisabled(n),"react-datepicker__month-text--selected":x?r.isSelectMonthInList(l,n,x):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&f&&r.isSelectedMonth(l,n,f)&&!r.isMonthSelected()&&!r.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":c&&u?$m(c,u,n,l):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(n),"react-datepicker__month-text--range-end":r.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":r.isCurrentMonth(l,n)})},r.getTabIndex=function(n){if(r.props.preSelection==null)return"-1";var i=Nn(r.props.preSelection),l=r.isMonthDisabledForLabelDate(i).isDisabled,c=n===i&&!(l||r.props.disabledKeyboardNavigation)?"0":"-1";return c},r.getQuarterTabIndex=function(n){if(r.props.preSelection==null)return"-1";var i=$s(r.props.preSelection),l=Hm(r.props.day,r.props),c=n===i&&!(l||r.props.disabledKeyboardNavigation)?"0":"-1";return c},r.getAriaLabel=function(n){var i=r.props,l=i.chooseDayAriaLabelPrefix,c=l===void 0?"Choose":l,u=i.disabledDayAriaLabelPrefix,f=u===void 0?"Not available":u,m=i.day,p=i.locale,x=Ln(m,n),v=r.isDisabled(x)||r.isExcluded(x)?f:c;return"".concat(v," ").concat(Xt(x,"MMMM yyyy",p))},r.getQuarterClassNames=function(n){var i=r.props,l=i.day,c=i.startDate,u=i.endDate,f=i.minDate,m=i.maxDate,p=i.excludeDates,x=i.includeDates,v=i.filterDate,g=i.preSelection,j=i.disabledKeyboardNavigation,y=i.disabled,w=(f||m||p||x||v||y)&&Hm(ac(l,n),r.props),A=r.getSelection();return dt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":w,"react-datepicker__quarter-text--selected":A?r.isSelectQuarterInList(l,n,A):void 0,"react-datepicker__quarter-text--keyboard-selected":!j&&g&&r.isSelectedQuarter(l,n,g)&&!r.isQuarterSelected()&&!w,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":c&&u?Um(c,u,n,l):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":r.isCurrentQuarter(l,n)})},r.getMonthContent=function(n){var i=r.props,l=i.showFullMonthYearPicker,c=i.renderMonthContent,u=i.locale,f=i.day,m=EI(n,u),p=PN(n,u);return c?c(n,m,p,f):l?p:m},r.getQuarterContent=function(n){var i,l=r.props,c=l.renderQuarterContent,u=l.locale,f=Tie(n,u);return(i=c?.(n,f))!==null&&i!==void 0?i:f},r.renderMonths=function(){var n,i=r.props,l=i.showTwoColumnMonthYearPicker,c=i.showFourColumnMonthYearPicker,u=i.day,f=i.selected,m=(n=Ub[SD(c,l)])===null||n===void 0?void 0:n.grid;return m?.map(function(p,x){return se.createElement("div",{className:"react-datepicker__month-wrapper",key:x},p.map(function(v,g){return se.createElement("div",{ref:r.MONTH_REFS[v],key:g,onClick:function(j){r.onMonthClick(j,v)},onKeyDown:function(j){PI(j)&&(j.preventDefault(),j.key=Te.Enter),r.onMonthKeyDown(j,v)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(v)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(v)}:void 0,tabIndex:Number(r.getTabIndex(v)),className:r.getMonthClassNames(v),"aria-disabled":r.isMonthDisabled(v),role:"option","aria-label":r.getAriaLabel(v),"aria-current":r.isCurrentMonth(u,v)?"date":void 0,"aria-selected":f?r.isSelectedMonth(u,v,f):void 0},r.getMonthContent(v))}))})},r.renderQuarters=function(){var n=r.props,i=n.day,l=n.selected,c=[1,2,3,4];return se.createElement("div",{className:"react-datepicker__quarter-wrapper"},c.map(function(u,f){return se.createElement("div",{key:f,ref:r.QUARTER_REFS[f],role:"option",onClick:function(m){r.onQuarterClick(m,u)},onKeyDown:function(m){r.onQuarterKeyDown(m,u)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(u)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(u)}:void 0,className:r.getQuarterClassNames(u),"aria-selected":l?r.isSelectedQuarter(i,u,l):void 0,tabIndex:Number(r.getQuarterTabIndex(u)),"aria-current":r.isCurrentQuarter(i,u)?"date":void 0},r.getQuarterContent(u))}))},r.getClassNames=function(){var n=r.props,i=n.selectingDate,l=n.selectsStart,c=n.selectsEnd,u=n.showMonthYearPicker,f=n.showQuarterYearPicker,m=n.showWeekPicker;return dt("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(l||c)},{"react-datepicker__monthPicker":u},{"react-datepicker__quarterPicker":f},{"react-datepicker__weekPicker":m})},r}return t.prototype.getSelection=function(){var r=this.props,n=r.selected,i=r.selectedDates,l=r.selectsMultiple;if(l)return i;if(n)return[n]},t.prototype.render=function(){var r=this.props,n=r.showMonthYearPicker,i=r.showQuarterYearPicker,l=r.day,c=r.ariaLabelPrefix,u=c===void 0?"Month ":c,f=u?u.trim()+" ":"",m=wn(l)?"".concat(f).concat(Xt(l,"MMMM, yyyy",this.props.locale)):"",p=n||i;return p?se.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":m,role:"listbox"},n?this.renderMonths():this.renderQuarters()):se.createElement("div",{role:"table"},this.props.dayNamesHeader&&se.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),this.props.monthHeader&&se.createElement("div",{role:"rowgroup"},this.props.monthHeader),se.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":m,role:"rowgroup"},this.renderWeeks()),this.props.monthFooter&&se.createElement("div",{role:"rowgroup"},this.props.monthFooter))},t})(N.Component),Wie=(function(e){Jr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.monthOptionButtonsRef={},r.isSelectedMonth=function(n){return r.props.month===n},r.handleOptionKeyDown=function(n,i){var l;switch(i.key){case"Enter":i.preventDefault(),r.onChange(n);break;case"Escape":i.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{i.preventDefault();var c=(n+(i.key==="ArrowUp"?-1:1)+r.props.monthNames.length)%r.props.monthNames.length;(l=r.monthOptionButtonsRef[c])===null||l===void 0||l.focus();break}}},r.renderOptions=function(){return r.monthOptionButtonsRef={},r.props.monthNames.map(function(n,i){return se.createElement("div",{ref:function(l){r.monthOptionButtonsRef[i]=l,r.isSelectedMonth(i)&&l?.focus()},role:"button",tabIndex:0,className:r.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:r.onChange.bind(r,i),onKeyDown:r.handleOptionKeyDown.bind(r,i),"aria-selected":r.isSelectedMonth(i)?"true":void 0},r.isSelectedMonth(i)?se.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},r.onChange=function(n){return r.props.onChange(n)},r.handleClickOutside=function(){return r.props.onCancel()},r}return t.prototype.render=function(){return se.createElement(Fx,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t})(N.Component),Kie=(function(e){Jr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(n){return n.map(function(i,l){return se.createElement("option",{key:i,value:l},i)})},r.renderSelectMode=function(n){return se.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(i){return r.onChange(parseInt(i.target.value))}},r.renderSelectOptions(n))},r.renderReadView=function(n,i){return se.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},se.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),se.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[r.props.month]))},r.renderDropdown=function(n){return se.createElement(Wie,ut({key:"dropdown"},r.props,{monthNames:n,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(n){var i=r.state.dropdownVisible,l=[r.renderReadView(!i,n)];return i&&l.unshift(r.renderDropdown(n)),l},r.onChange=function(n){r.toggleDropdown(),n!==r.props.month&&r.props.onChange(n)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(l){return EI(l,r.props.locale)}:function(l){return PN(l,r.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(n);break;case"select":i=this.renderSelectMode(n);break}return se.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},t})(N.Component),CD=5;function Qie(e,t,r){for(var n=[],i=e??Qs(r,CD),l=t??ka(r,CD),c=Ui(i),u=Ui(l);!qi(c,u);)n.push(Nt(c)),c=_a(c,1);return n}var Xie=(function(e){Jr(t,e);function t(r){var n=e.call(this,r)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(i){var l=l1(i),c=Wa(n.props.date,i)&&on(n.props.date,i);return se.createElement("div",{className:c?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:l,onClick:n.onChange.bind(n,l),"aria-selected":c?"true":void 0},c?se.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Xt(i,n.props.dateFormat,n.props.locale))})},n.onChange=function(i){return n.props.onChange(i)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:Qie(n.props.minDate,n.props.maxDate,n.props.date)},n}return t.prototype.render=function(){var r=dt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return se.createElement(Fx,{className:r,onClickOutside:this.handleClickOutside},this.renderOptions())},t})(N.Component),AD=5,Zie=(function(e){Jr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n,i,l=(n=r.props.minDate)!==null&&n!==void 0?n:Qs(r.props.date,AD),c=(i=r.props.maxDate)!==null&&i!==void 0?i:ka(r.props.date,AD),u=Ui(l),f=Ui(c),m=[];!qi(u,f);){var p=l1(u);m.push(se.createElement("option",{key:p,value:p},Xt(u,r.props.dateFormat,r.props.locale))),u=_a(u,1)}return m},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return se.createElement("select",{value:l1(Ui(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){var i=Xt(r.props.date,r.props.dateFormat,r.props.locale);return se.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},se.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),se.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},r.renderDropdown=function(){return se.createElement(Xie,ut({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,i=[r.renderReadView(!n)];return n&&i.unshift(r.renderDropdown()),i},r.onChange=function(n){r.toggleDropdown();var i=Nt(n);Wa(r.props.date,i)&&on(r.props.date,i)||r.props.onChange(i)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return se.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)},t})(N.Component),Jie=(function(e){Jr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={height:null},r.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,i,l;r.list&&(r.list.scrollTop=(l=r.centerLi&&t.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-((i=(n=r.header)===null||n===void 0?void 0:n.clientHeight)!==null&&i!==void 0?i:0):r.list.clientHeight,r.centerLi))!==null&&l!==void 0?l:0)})},r.handleClick=function(n){var i,l;(r.props.minTime||r.props.maxTime)&&xD(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&hD(n,r.props)||(l=(i=r.props).onChange)===null||l===void 0||l.call(i,n)},r.isSelectedTime=function(n){var i=Hl(r.props.selected);return i&&TI(i,n)},r.isDisabledTime=function(n){return(r.props.minTime||r.props.maxTime)&&xD(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&hD(n,r.props)},r.liClasses=function(n){var i,l=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(n):void 0];return r.isSelectedTime(n)&&l.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(n)&&l.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(nn(n)*3600+an(n)*60+Us(n))%(((i=r.props.intervals)!==null&&i!==void 0?i:t.defaultProps.intervals)*60)!==0&&l.push("react-datepicker__time-list-item--injected"),l.join(" ")},r.handleOnKeyDown=function(n,i){var l,c;n.key===Te.Space&&(n.preventDefault(),n.key=Te.Enter),(n.key===Te.ArrowUp||n.key===Te.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===Te.ArrowDown||n.key===Te.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===Te.Enter&&r.handleClick(i),(c=(l=r.props).handleOnKeyDown)===null||c===void 0||c.call(l,n)},r.renderTimes=function(){for(var n,i=[],l=typeof r.props.format=="string"?r.props.format:"p",c=(n=r.props.intervals)!==null&&n!==void 0?n:t.defaultProps.intervals,u=Hl(r.props.selected)||Hl(r.props.openToDate)||Nt(),f=cd(u),m=r.props.injectTimes&&r.props.injectTimes.sort(function(w,A){return w.getTime()-A.getTime()}),p=60*Hie(u),x=p/c,v=0;v<x;v++){var g=Dd(f,v*c);if(i.push(g),m){var j=$ie(f,g,v,c,m);i=i.concat(j)}}var y=i.reduce(function(w,A){return A.getTime()<=u.getTime()?A:w},i[0]);return i.map(function(w){return se.createElement("li",{key:w.valueOf(),onClick:r.handleClick.bind(r,w),className:r.liClasses(w),ref:function(A){w===y&&(r.centerLi=A)},onKeyDown:function(A){r.handleOnKeyDown(A,w)},tabIndex:w===y?0:-1,role:"option","aria-selected":r.isSelectedTime(w)?"true":void 0,"aria-disabled":r.isDisabledTime(w)?"true":void 0},Xt(w,l,r.props.locale))})},r.renderTimeCaption=function(){return r.props.showTimeCaption===!1?se.createElement(se.Fragment,null):se.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(r.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){r.header=n}},se.createElement("div",{className:"react-datepicker-time__header"},r.props.timeCaption))},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var r;(r=this.resizeObserver)===null||r===void 0||r.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var r=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){r.updateContainerHeight()}),this.resizeObserver.observe(n))},t.prototype.updateContainerHeight=function(){if(this.props.monthRef&&this.header){var r=this.props.monthRef.clientHeight-this.header.clientHeight;this.state.height!==r&&this.setState({height:r})}},t.prototype.render=function(){var r=this,n,i=this.state.height;return se.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),se.createElement("div",{className:"react-datepicker__time"},se.createElement("div",{className:"react-datepicker__time-box"},se.createElement("ul",{className:"react-datepicker__time-list",ref:function(l){r.list=l},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(r,n){return n.offsetTop-(r/2-n.clientHeight/2)},t})(N.Component),kD=3,ese=(function(e){Jr(t,e);function t(r){var n=e.call(this,r)||this;return n.YEAR_REFS=ti([],Array(n.props.yearItemNumber),!0).map(function(){return N.createRef()}),n.isDisabled=function(i){return la(i,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(i){return IN(i,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var i;return(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection},n.updateFocusOnPaginate=function(i){var l=function(){var c,u;(u=(c=n.YEAR_REFS[i])===null||c===void 0?void 0:c.current)===null||u===void 0||u.focus()};window.requestAnimationFrame(l)},n.handleYearClick=function(i,l){n.props.onDayClick&&n.props.onDayClick(i,l)},n.handleYearNavigation=function(i,l){var c,u,f,m,p=n.props,x=p.date,v=p.yearItemNumber;if(!(x===void 0||v===void 0)){var g=Bi(x,v).startPeriod;n.isDisabled(l)||n.isExcluded(l)||((u=(c=n.props).setPreSelection)===null||u===void 0||u.call(c,l),i-g<0?n.updateFocusOnPaginate(v-(g-i)):i-g>=v?n.updateFocusOnPaginate(Math.abs(v-(i-g))):(m=(f=n.YEAR_REFS[i-g])===null||f===void 0?void 0:f.current)===null||m===void 0||m.focus())}},n.isSameDay=function(i,l){return bt(i,l)},n.isCurrentYear=function(i){return i===ht(Nt())},n.isRangeStart=function(i){return n.props.startDate&&n.props.endDate&&Wa(Ga(Nt(),i),n.props.startDate)},n.isRangeEnd=function(i){return n.props.startDate&&n.props.endDate&&Wa(Ga(Nt(),i),n.props.endDate)},n.isInRange=function(i){return qm(i,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(i){var l=n.props,c=l.selectsStart,u=l.selectsEnd,f=l.selectsRange,m=l.startDate,p=l.endDate;return!(c||u||f)||!n.selectingDate()?!1:c&&p?qm(i,n.selectingDate(),p):u&&m||f&&m&&!p?qm(i,m,n.selectingDate()):!1},n.isSelectingRangeStart=function(i){var l;if(!n.isInSelectingRange(i))return!1;var c=n.props,u=c.startDate,f=c.selectsStart,m=Ga(Nt(),i);return f?Wa(m,(l=n.selectingDate())!==null&&l!==void 0?l:null):Wa(m,u??null)},n.isSelectingRangeEnd=function(i){var l;if(!n.isInSelectingRange(i))return!1;var c=n.props,u=c.endDate,f=c.selectsEnd,m=c.selectsRange,p=Ga(Nt(),i);return f||m?Wa(p,(l=n.selectingDate())!==null&&l!==void 0?l:null):Wa(p,u??null)},n.isKeyboardSelected=function(i){if(!(n.props.disabledKeyboardNavigation||n.props.date===void 0||n.props.preSelection==null)){var l=n.props,c=l.minDate,u=l.maxDate,f=l.excludeDates,m=l.includeDates,p=l.filterDate,x=l.selected,v=ud(Ga(n.props.date,i)),g=(c||u||f||m||p)&&Sp(i,n.props),j=!!x&&bt(v,ud(x)),y=bt(v,ud(n.props.preSelection));return!n.props.inline&&!j&&y&&!g}},n.isSelectedYear=function(i){var l=n.props,c=l.selectsMultiple,u=l.selected,f=l.selectedDates;return c?f?.some(function(m){return i===ht(m)}):!!u&&i===ht(u)},n.onYearClick=function(i,l){var c=n.props.date;c!==void 0&&n.handleYearClick(ud(Ga(c,l)),i)},n.onYearKeyDown=function(i,l){var c,u,f=i.key,m=n.props,p=m.date,x=m.yearItemNumber,v=m.handleOnKeyDown;if(f!==Te.Tab&&i.preventDefault(),!n.props.disabledKeyboardNavigation)switch(f){case Te.Enter:if(n.props.selected==null)break;n.onYearClick(i,l),(u=(c=n.props).setPreSelection)===null||u===void 0||u.call(c,n.props.selected);break;case Te.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(l+1,ka(n.props.preSelection,1));break;case Te.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(l-1,Qs(n.props.preSelection,1));break;case Te.ArrowUp:{if(p===void 0||x===void 0||n.props.preSelection==null)break;var g=Bi(p,x).startPeriod,j=kD,y=l-j;if(y<g){var w=x%j;l>=g&&l<g+w?j=w:j+=w,y=l-j}n.handleYearNavigation(y,Qs(n.props.preSelection,j));break}case Te.ArrowDown:{if(p===void 0||x===void 0||n.props.preSelection==null)break;var A=Bi(p,x).endPeriod,j=kD,y=l+j;if(y>A){var w=x%j;l<=A&&l>A-w?j=w:j+=w,y=l+j}n.handleYearNavigation(y,ka(n.props.preSelection,j));break}}v&&v(i)},n.getYearClassNames=function(i){var l=n.props,c=l.date,u=l.disabled,f=l.minDate,m=l.maxDate,p=l.excludeDates,x=l.includeDates,v=l.filterDate,g=l.yearClassName;return dt("react-datepicker__year-text","react-datepicker__year-".concat(i),c?g?.(Ga(c,i)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(i),"react-datepicker__year-text--disabled":(f||m||p||x||v||u)&&Sp(i,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(i),"react-datepicker__year-text--range-start":n.isRangeStart(i),"react-datepicker__year-text--range-end":n.isRangeEnd(i),"react-datepicker__year-text--in-range":n.isInRange(i),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(i),"react-datepicker__year-text--today":n.isCurrentYear(i)})},n.getYearTabIndex=function(i){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var l=ht(n.props.preSelection),c=Sp(i,n.props);return i===l&&!c?"0":"-1"},n.getYearContent=function(i){return n.props.renderYearContent?n.props.renderYearContent(i):i},n}return t.prototype.render=function(){var r=this,n=[],i=this.props,l=i.date,c=i.yearItemNumber,u=i.onYearMouseEnter,f=i.onYearMouseLeave;if(l===void 0)return null;for(var m=Bi(l,c),p=m.startPeriod,x=m.endPeriod,v=function(y){n.push(se.createElement("div",{ref:g.YEAR_REFS[y-p],onClick:function(w){r.onYearClick(w,y)},onKeyDown:function(w){PI(w)&&(w.preventDefault(),w.key=Te.Enter),r.onYearKeyDown(w,y)},tabIndex:Number(g.getYearTabIndex(y)),className:g.getYearClassNames(y),onMouseEnter:g.props.usePointerEvent?void 0:function(w){return u(w,y)},onPointerEnter:g.props.usePointerEvent?function(w){return u(w,y)}:void 0,onMouseLeave:g.props.usePointerEvent?void 0:function(w){return f(w,y)},onPointerLeave:g.props.usePointerEvent?function(w){return f(w,y)}:void 0,key:y,"aria-current":g.isCurrentYear(y)?"date":void 0},g.getYearContent(y)))},g=this,j=p;j<=x;j++)v(j);return se.createElement("div",{className:"react-datepicker__year"},se.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},t})(N.Component);function tse(e,t,r,n){for(var i=[],l=0;l<2*t+1;l++){var c=e+t-l,u=!0;r&&(u=ht(r)<=c),n&&u&&(u=ht(n)>=c),u&&i.push(c)}return i}var rse=(function(e){Jr(t,e);function t(r){var n=e.call(this,r)||this;n.yearOptionButtonsRef={},n.handleOptionKeyDown=function(u,f){var m;switch(f.key){case"Enter":f.preventDefault(),n.onChange(u);break;case"Escape":f.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":{f.preventDefault();var p=u+(f.key==="ArrowUp"?1:-1);n.yearOptionButtonsRef[p]&&((m=n.yearOptionButtonsRef[p])===null||m===void 0||m.focus());break}}},n.renderOptions=function(){n.yearOptionButtonsRef={};var u=n.props.year,f=n.state.yearsList.map(function(x){return se.createElement("div",{ref:function(v){n.yearOptionButtonsRef[x]=v,x===u&&v?.focus()},role:"button",tabIndex:0,className:u===x?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:x,onClick:n.onChange.bind(n,x),onKeyDown:n.handleOptionKeyDown.bind(n,x),"aria-selected":u===x?"true":void 0},u===x?se.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",x)}),m=n.props.minDate?ht(n.props.minDate):null,p=n.props.maxDate?ht(n.props.maxDate):null;return(!p||!n.state.yearsList.find(function(x){return x===p}))&&f.unshift(se.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},se.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!m||!n.state.yearsList.find(function(x){return x===m}))&&f.push(se.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},se.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),f},n.onChange=function(u){n.props.onChange(u)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(u){var f=n.state.yearsList.map(function(m){return m+u});n.setState({yearsList:f})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var i=r.yearDropdownItemNumber,l=r.scrollableYearDropdown,c=i||(l?10:5);return n.state={yearsList:tse(n.props.year,c,n.props.minDate,n.props.maxDate)},n.dropdownRef=N.createRef(),n}return t.prototype.componentDidMount=function(){var r=this.dropdownRef.current;if(r){var n=r.children?Array.from(r.children):null,i=n?n.find(function(l){return l.ariaSelected}):null;r.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}},t.prototype.render=function(){var r=dt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return se.createElement(Fx,{className:r,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t})(N.Component),nse=(function(e){Jr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=r.props.minDate?ht(r.props.minDate):1900,i=r.props.maxDate?ht(r.props.maxDate):2100,l=[],c=n;c<=i;c++)l.push(se.createElement("option",{key:c,value:c},c));return l},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return se.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){return se.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:r.toggleDropdown},se.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),se.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return se.createElement(rse,ut({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,i=[r.renderReadView(!n)];return n&&i.unshift(r.renderDropdown()),i},r.onChange=function(n){r.toggleDropdown(),n!==r.props.year&&r.props.onChange(n)},r.toggleDropdown=function(n){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,n)})},r.handleYearChange=function(n,i){var l;(l=r.onSelect)===null||l===void 0||l.call(r,n,i),r.setOpen()},r.onSelect=function(n,i){var l,c;(c=(l=r.props).onSelect)===null||c===void 0||c.call(l,n,i)},r.setOpen=function(){var n,i;(i=(n=r.props).setOpen)===null||i===void 0||i.call(n,!0)},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return se.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)},t})(N.Component),ase=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],II="react-datepicker-ignore-onclickoutside",ise=function(e){var t=(e.className||"").split(/\s+/);return ase.some(function(r){return t.indexOf(r)>=0})},sse=(function(e){Jr(t,e);function t(r){var n=e.call(this,r)||this;return n.monthContainer=void 0,n.handleClickOutside=function(i){n.props.onClickOutside(i)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(i){var l,c;ise(i.target)&&((c=(l=n.props).onDropdownFocus)===null||c===void 0||c.call(l,i))},n.getDateInView=function(){var i=n.props,l=i.preSelection,c=i.selected,u=i.openToDate,f=_I(n.props),m=OI(n.props),p=Nt(),x=u||c||l;return x||(f&&ei(p,f)?f:m&&qi(p,m)?m:p)},n.increaseMonth=function(){n.setState(function(i){var l=i.date;return{date:_a(l,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(i){var l=i.date;return{date:Gl(l,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(i,l,c){n.props.onSelect(i,l,c),n.props.setPreSelection&&n.props.setPreSelection(i)},n.handleDayMouseEnter=function(i){n.setState({selectingDate:i}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(i)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(i,l){n.setState({selectingDate:Ga(Nt(),l)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(i,l)},n.handleYearMouseLeave=function(i,l){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(i,l)},n.handleYearChange=function(i){var l,c,u,f;(c=(l=n.props).onYearChange)===null||c===void 0||c.call(l,i),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(i),(f=(u=n.props).setOpen)===null||f===void 0||f.call(u,!0)),n.props.setPreSelection&&n.props.setPreSelection(i)},n.getEnabledPreSelectionDateForMonth=function(i){if(!la(i,n.props))return i;for(var l=Ui(i),c=Eie(i),u=zte(c,l),f=null,m=0;m<=u;m++){var p=Aa(l,m);if(!la(p,n.props)){f=p;break}}return f},n.handleMonthChange=function(i){var l,c,u,f=(l=n.getEnabledPreSelectionDateForMonth(i))!==null&&l!==void 0?l:i;n.handleCustomMonthChange(f),n.props.adjustDateOnChange&&(n.props.onSelect(f),(u=(c=n.props).setOpen)===null||u===void 0||u.call(c,!0)),n.props.setPreSelection&&n.props.setPreSelection(f)},n.handleCustomMonthChange=function(i){var l,c;(c=(l=n.props).onMonthChange)===null||c===void 0||c.call(l,i),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(i){n.handleYearChange(i),n.handleMonthChange(i)},n.changeYear=function(i){n.setState(function(l){var c=l.date;return{date:Ga(c,Number(i))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(i){n.setState(function(l){var c=l.date;return{date:Ln(c,Number(i))}},function(){var l,c;n.handleMonthChange(n.state.date),(c=(l=n.props).onMonthSelectedInChange)===null||c===void 0||c.call(l,0)})},n.changeMonthYear=function(i){n.setState(function(l){var c=l.date;return{date:Ga(Ln(c,Nn(i)),ht(i))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(i,l){if(i===void 0&&(i=n.state.date),l===void 0&&(l=0),!wn(i))return[];var c=n.props.disabled,u=Ys(i,n.props.locale,n.props.calendarStartDay),f=[];return n.props.showWeekNumbers&&f.push(se.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(c?"react-datepicker__day-name--disabled":""),role:"columnheader"},se.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),se.createElement("span",{"aria-hidden":"true"},n.props.weekLabel||"#"))),f.concat([0,1,2,3,4,5,6].map(function(m){var p=Aa(u,m),x=n.formatWeekday(p,n.props.locale),v=Xt(p,"EEEE",n.props.locale),g=n.props.weekDayClassName?n.props.weekDayClassName(p):void 0;if(n.props.renderCustomDayName){var j=n.props.renderCustomDayName({day:p,shortName:x,fullName:v,locale:n.props.locale,customDayNameCount:l});return se.createElement("div",{key:m,role:"columnheader",className:dt("react-datepicker__day-name",g,c?"react-datepicker__day-name--disabled":"")},j)}return se.createElement("div",{key:m,role:"columnheader",className:dt("react-datepicker__day-name",g,c?"react-datepicker__day-name--disabled":"")},se.createElement("span",{className:"react-datepicker__sr-only"},v),se.createElement("span",{"aria-hidden":"true"},x))}))},n.formatWeekday=function(i,l){return n.props.formatWeekDay?Die(i,n.props.formatWeekDay,l):n.props.useWeekdaysShort?Oie(i,l):_ie(i,l)},n.decreaseYear=function(){n.setState(function(i){var l,c=i.date;return{date:Qs(c,n.props.showYearPicker?(l=n.props.yearItemNumber)!==null&&l!==void 0?l:t.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var i,l,c;if(!n.props.renderCustomHeader){var u=(i=n.props.monthsShown)!==null&&i!==void 0?i:t.defaultProps.monthsShown,f=n.props.showPreviousMonths?u-1:0,m=(l=n.props.monthSelectedIn)!==null&&l!==void 0?l:f,p=Gl(n.state.date,m),x;switch(!0){case n.props.disabled:x=!0;break;case n.props.showMonthYearPicker:x=bD(n.state.date,n.props);break;case n.props.showYearPicker:x=Lie(n.state.date,n.props);break;case n.props.showQuarterYearPicker:x=Iie(n.state.date,n.props);break;default:x=vD(p,n.props);break}if(!(!((c=n.props.forceShowMonthNavigation)!==null&&c!==void 0?c:t.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&x||n.props.showTimeSelectOnly)){var v=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],g=["react-datepicker__navigation","react-datepicker__navigation--previous"],j=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(j=n.decreaseYear),x&&n.props.showDisabledMonthNavigation&&(g.push("react-datepicker__navigation--previous--disabled"),j=void 0);var y=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,w=n.props,A=w.previousMonthButtonLabel,k=A===void 0?t.defaultProps.previousMonthButtonLabel:A,C=w.previousYearButtonLabel,M=C===void 0?t.defaultProps.previousYearButtonLabel:C,E=n.props,O=E.previousMonthAriaLabel,P=O===void 0?typeof k=="string"?k:"Previous Month":O,T=E.previousYearAriaLabel,$=T===void 0?typeof M=="string"?M:"Previous Year":T;return se.createElement("button",{type:"button",className:g.join(" "),onClick:j,onKeyDown:n.props.handleOnKeyDown,"aria-label":y?$:P},se.createElement("span",{className:v.join(" ")},y?M:k))}}},n.increaseYear=function(){n.setState(function(i){var l,c=i.date;return{date:ka(c,n.props.showYearPicker?(l=n.props.yearItemNumber)!==null&&l!==void 0?l:t.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var i;if(!n.props.renderCustomHeader){var l;switch(!0){case n.props.disabled:l=!0;break;case n.props.showMonthYearPicker:l=yD(n.state.date,n.props);break;case n.props.showYearPicker:l=Fie(n.state.date,n.props);break;case n.props.showQuarterYearPicker:l=Rie(n.state.date,n.props);break;default:l=gD(n.state.date,n.props);break}if(!(!((i=n.props.forceShowMonthNavigation)!==null&&i!==void 0?i:t.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&l||n.props.showTimeSelectOnly)){var c=["react-datepicker__navigation","react-datepicker__navigation--next"],u=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&c.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&c.push("react-datepicker__navigation--next--with-today-button");var f=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(f=n.increaseYear),l&&n.props.showDisabledMonthNavigation&&(c.push("react-datepicker__navigation--next--disabled"),f=void 0);var m=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,p=n.props,x=p.nextMonthButtonLabel,v=x===void 0?t.defaultProps.nextMonthButtonLabel:x,g=p.nextYearButtonLabel,j=g===void 0?t.defaultProps.nextYearButtonLabel:g,y=n.props,w=y.nextMonthAriaLabel,A=w===void 0?typeof v=="string"?v:"Next Month":w,k=y.nextYearAriaLabel,C=k===void 0?typeof j=="string"?j:"Next Year":k;return se.createElement("button",{type:"button",className:c.join(" "),onClick:f,onKeyDown:n.props.handleOnKeyDown,"aria-label":m?C:A},se.createElement("span",{className:u.join(" ")},m?j:v))}}},n.renderCurrentMonth=function(i){i===void 0&&(i=n.state.date);var l=["react-datepicker__current-month"];return n.props.showYearDropdown&&l.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&l.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&l.push("react-datepicker__current-month--hasMonthYearDropdown"),se.createElement("h2",{className:l.join(" ")},wn(i)?Xt(i,n.props.dateFormat,n.props.locale):"")},n.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showYearDropdown||i))return se.createElement(nse,ut({},t.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:ht(n.state.date)}))},n.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthDropdown||i))return se.createElement(Kie,ut({},t.defaultProps,n.props,{month:Nn(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthYearDropdown||i))return se.createElement(Zie,ut({},t.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(i){n.props.onSelect(fD(),i),n.props.setPreSelection&&n.props.setPreSelection(fD())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return se.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDayNamesHeader=function(i,l){return l===void 0&&(l=0),se.createElement("div",{className:"react-datepicker__day-names",role:"row"},n.header(i,l))},n.renderDefaultHeader=function(i){var l=i.monthDate,c=i.i,u=se.createElement("div",{className:dt("react-datepicker__header",{"react-datepicker__header--has-time-select":n.props.showTimeSelect,"react-datepicker__header--middle":n.props.monthHeaderPosition==="middle","react-datepicker__header--bottom":n.props.monthHeaderPosition==="bottom"})},n.renderCurrentMonth(l),se.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(c!==0),n.renderMonthYearDropdown(c!==0),n.renderYearDropdown(c!==0)));return n.props.monthHeaderPosition==="top"?u:se.createElement("div",{className:"react-datepicker__header-wrapper"},n.renderPreviousButton()||null,n.renderNextButton()||null,u)},n.renderCustomHeader=function(i){var l,c,u=i.monthDate,f=i.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var m=n.props,p=m.showYearPicker,x=m.yearItemNumber,v;if(p){var g=Bi(u,x),j=g.startPeriod,y=g.endPeriod;v={startYear:j,endYear:y}}var w=vD(n.state.date,n.props),A=gD(n.state.date,n.props),k=bD(n.state.date,n.props),C=yD(n.state.date,n.props);return se.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(c=(l=n.props).renderCustomHeader)===null||c===void 0?void 0:c.call(l,ut(ut(ut({},n.state),p&&{visibleYearsRange:v}),{customHeaderCount:f,monthDate:u,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:w,nextMonthButtonDisabled:A,prevYearButtonDisabled:k,nextYearButtonDisabled:C})))},n.renderYearHeader=function(i){var l=i.monthDate,c=n.props,u=c.showYearPicker,f=c.yearItemNumber,m=f===void 0?t.defaultProps.yearItemNumber:f,p=Bi(l,m),x=p.startPeriod,v=p.endPeriod;return se.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},u?"".concat(x," - ").concat(v):ht(l))},n.renderHeader=function(i){var l=i.monthDate,c=i.i,u=c===void 0?0:c,f={monthDate:l,i:u};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(f);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(f);default:return n.renderDefaultHeader(f)}},n.renderMonths=function(){var i,l;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var c=[],u=(i=n.props.monthsShown)!==null&&i!==void 0?i:t.defaultProps.monthsShown,f=n.props.showPreviousMonths?u-1:0,m=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?ka(n.state.date,f):Gl(n.state.date,f),p=(l=n.props.monthSelectedIn)!==null&&l!==void 0?l:f,x=0;x<u;++x){var v=x-p+f,g=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?ka(m,v):_a(m,v),j="month-".concat(x),y=x<u-1,w=x>0;c.push(se.createElement("div",{key:j,ref:function(A){n.monthContainer=A??void 0},className:"react-datepicker__month-container"},n.props.monthHeaderPosition==="top"&&n.renderHeader({monthDate:g,i:x}),se.createElement(Gie,ut({},t.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:g,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:x,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:y,monthShowsDuplicateDaysStart:w,dayNamesHeader:n.renderDayNamesHeader(g,x),monthHeader:n.props.monthHeaderPosition==="middle"?n.renderHeader({monthDate:g,i:x}):void 0,monthFooter:n.props.monthHeaderPosition==="bottom"?n.renderHeader({monthDate:g,i:x}):void 0}))))}return c}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return se.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),se.createElement(ese,ut({},t.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return se.createElement(Jie,ut({},t.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var i,l;if(n.props.showTimeInput){if(n.props.selectsRange){var c=n.props,u=c.startDate,f=c.endDate,m=u?new Date(u):void 0,p=m&&wn(m)&&!!u,x=p?"".concat(Zo(m.getHours()),":").concat(Zo(m.getMinutes())):"",v=f?new Date(f):void 0,g=v&&wn(v)&&!!f,j=g?"".concat(Zo(v.getHours()),":").concat(Zo(v.getMinutes())):"";return se.createElement(se.Fragment,null,se.createElement(qb,ut({},t.defaultProps,n.props,{date:m,timeString:x,onChange:function(k){var C,M;(M=(C=n.props).onTimeChange)===null||M===void 0||M.call(C,k,"start")},timeInputLabel:((i=n.props.timeInputLabel)!==null&&i!==void 0?i:"Time")+" (Start)"})),se.createElement(qb,ut({},t.defaultProps,n.props,{date:v,timeString:j,onChange:function(k){var C,M;(M=(C=n.props).onTimeChange)===null||M===void 0||M.call(C,k,"end")},timeInputLabel:((l=n.props.timeInputLabel)!==null&&l!==void 0?l:"Time")+" (End)"})))}var y=n.props.selected?new Date(n.props.selected):void 0,w=y&&wn(y)&&!!n.props.selected,A=w?"".concat(Zo(y.getHours()),":").concat(Zo(y.getMinutes())):"";return se.createElement(qb,ut({},t.defaultProps,n.props,{date:y,timeString:A,onChange:function(k){var C,M;(M=(C=n.props).onTimeChange)===null||M===void 0||M.call(C,k)}}))}},n.renderAriaLiveRegion=function(){var i;if(!wn(n.state.date))return se.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"});var l=Bi(n.state.date,(i=n.props.yearItemNumber)!==null&&i!==void 0?i:t.defaultProps.yearItemNumber),c=l.startPeriod,u=l.endPeriod,f;return n.props.showYearPicker?f="".concat(c," - ").concat(u):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?f=ht(n.state.date):f="".concat(PN(Nn(n.state.date),n.props.locale)," ").concat(ht(n.state.date)),se.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&f)},n.renderChildren=function(){if(n.props.children)return se.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=N.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:II,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:nf,monthHeaderPosition:"top"}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){r.setState({monthContainer:r.monthContainer})})())},t.prototype.componentDidUpdate=function(r){var n=this;if(this.props.preSelection&&wn(this.props.preSelection)&&(!bt(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var i=!on(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!bt(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var r=this.props.container||wie;return se.createElement(Fx,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},se.createElement("div",{style:{display:"contents"},ref:this.containerRef},se.createElement(r,{className:dt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.props.monthHeaderPosition==="top"&&this.renderPreviousButton(),this.props.monthHeaderPosition==="top"&&this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t})(N.Component),lse=function(e){var t=e.icon,r=e.className,n=r===void 0?"":r,i=e.onClick,l="react-datepicker__calendar-icon";if(typeof t=="string")return se.createElement("i",{className:"".concat(l," ").concat(t," ").concat(n),"aria-hidden":"true",onClick:i});if(se.isValidElement(t)){var c=t;return se.cloneElement(c,{className:"".concat(c.props.className||""," ").concat(l," ").concat(n),onClick:function(u){typeof c.props.onClick=="function"&&c.props.onClick(u),typeof i=="function"&&i(u)}})}return se.createElement("svg",{className:"".concat(l," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},se.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},RI=(function(e){Jr(t,e);function t(r){var n=e.call(this,r)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return rF.createPortal(this.props.children,this.el)},t})(N.Component),ose="[tabindex], a, button, input, select, textarea",cse=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},LI=(function(e){Jr(t,e);function t(r){var n=e.call(this,r)||this;return n.getTabChildren=function(){var i;return Array.prototype.slice.call((i=n.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(ose),1,-1).filter(cse)},n.handleFocusStart=function(){var i=n.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},n.handleFocusEnd=function(){var i=n.getTabChildren();i&&i.length>1&&i[0].focus()},n.tabLoopRef=N.createRef(),n}return t.prototype.render=function(){var r;return((r=this.props.enableTabLoop)!==null&&r!==void 0?r:t.defaultProps.enableTabLoop)?se.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},se.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,se.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t})(N.Component);function use(e){function t(r){var n,i=typeof r.hidePopper=="boolean"?r.hidePopper:!0,l=N.useRef(null),c=yie(ut({open:!i,whileElementsMounted:Zae,placement:r.popperPlacement,middleware:ti([lie({padding:15}),sie(10),oie({element:l})],(n=r.popperModifiers)!==null&&n!==void 0?n:[],!0)},r.popperProps)),u=ut(ut({},r),{hidePopper:i,popperProps:ut(ut({},c),{arrowRef:l})});return se.createElement(e,ut({},u))}return t.displayName="withFloating(".concat(e.displayName||e.name||"Component",")"),t}var dse=function(e){var t=e.className,r=e.wrapperClassName,n=e.hidePopper,i=n===void 0?!0:n,l=e.popperComponent,c=e.targetComponent,u=e.enableTabLoop,f=e.popperOnKeyDown,m=e.portalId,p=e.portalHost,x=e.popperProps,v=e.showArrow,g=e.popperTargetRef,j=e.monthHeaderPosition;N.useEffect(function(){g?.current&&x.refs.setPositionReference(g.current)},[g,x.refs]);var y=void 0;if(!i){var w=dt("react-datepicker-popper",!v&&"react-datepicker-popper-offset",j==="middle"&&"react-datepicker-popper--header-middle",j==="bottom"&&"react-datepicker-popper--header-bottom",t);y=se.createElement(LI,{enableTabLoop:u},se.createElement("div",{ref:x.refs.setFloating,style:x.floatingStyles,className:w,"data-placement":x.placement,onKeyDown:f},l,v&&se.createElement(mie,{ref:x.arrowRef,context:x.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}e.popperContainer&&(y=N.createElement(e.popperContainer,{},y)),m&&!i&&(y=se.createElement(RI,{portalId:m,portalHost:p},y));var A=dt("react-datepicker-wrapper",r);return se.createElement(se.Fragment,null,se.createElement("div",{ref:x.refs.setReference,className:A},c),y)},fse=use(dse);function MD(e,t){return e&&t?Nn(e)!==Nn(t)||ht(e)!==ht(t):e!==t}var Yb="Date input not valid.",mse=(function(e){Jr(t,e);function t(r){var n=e.call(this,r)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){var i=n.props.timeZone,l=n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:Nt();return i?uD(l,i):l},n.modifyHolidays=function(){var i;return(i=n.props.holidays)===null||i===void 0?void 0:i.reduce(function(l,c){var u=Dl(c.date,"yyyy-MM-dd",void 0,!1);return u?ti(ti([],l,!0),[ut(ut({},c),{date:u})],!1):l},[])},n.calcInitialState=function(){var i=n.props.timeZone,l=n.getPreSelection(),c=_I(n.props),u=OI(n.props),f=c&&ei(l,cd(c))?c:u&&qi(l,mD(u))?u:l,m=n.props.selectsRange?n.props.startDate:n.props.selected;return m&&i&&(m=uD(m,i)),{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:m??f,highlightDates:wD(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.getInputValue=function(){var i,l=n.props,c=l.locale,u=l.startDate,f=l.endDate,m=l.rangeSeparator,p=l.selected,x=l.selectedDates,v=l.selectsMultiple,g=l.selectsRange,j=l.formatMultipleDates,y=l.value,w=(i=n.props.dateFormat)!==null&&i!==void 0?i:t.defaultProps.dateFormat,A=n.state.inputValue;if(typeof y=="string")return y;if(typeof A=="string")return A;if(g)return Sie(u,f,{dateFormat:w,locale:c,rangeSeparator:m});if(v){if(j){var k=function(C){return yn(C,{dateFormat:w,locale:c})};return j(x??[],k)}return Cie(x??[],{dateFormat:w,locale:c})}return yn(p,{dateFormat:w,locale:c})},n.resetHiddenStatus=function(){n.setState(ut(ut({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(ut(ut({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var i,l;(l=(i=n.input)===null||i===void 0?void 0:i.focus)===null||l===void 0||l.call(i,{preventScroll:!0})},n.setBlur=function(){var i,l;(l=(i=n.input)===null||i===void 0?void 0:i.blur)===null||l===void 0||l.call(i),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(i,l){l===void 0&&(l=!1),n.setState({open:i,preSelection:i&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:Vb},function(){i||n.setState(function(c){return{focused:l?c.focused:!1}},function(){!l&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return ai(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(i){var l,c,u=n.state.wasHidden,f=u?n.state.open:!0;u&&n.resetHiddenStatus(),n.state.preventFocus||((c=(l=n.props).onFocus)===null||c===void 0||c.call(l,i),f&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.resetInputValue=function(){n.setState(ut(ut({},n.state),{inputValue:null}))},n.handleBlur=function(i){var l,c;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((c=(l=n.props).onBlur)===null||c===void 0||c.call(l,i));var u=n.state.inputValue;if(typeof u=="string"&&u.length>0){var f=/[a-zA-Z0-9]/.test(u);!f&&n.props.selected&&n.setSelected(null,void 0,!0)}n.resetInputValue(),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(i){var l,c;(c=(l=n.props).onClickOutside)===null||c===void 0||c.call(l,i),!n.props.inline&&!i.defaultPrevented&&n.setOpen(!1),n.props.withPortal&&i.preventDefault()},n.handleChange=function(){for(var i,l,c,u,f,m,p,x,v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];var j=v[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,v),!j||typeof j.isDefaultPrevented!="function"||j.isDefaultPrevented()))){n.setState({inputValue:j?.target instanceof HTMLInputElement?j.target.value:null,lastPreSelectChange:pse});var y=n.props,w=y.selectsRange,A=y.startDate,k=y.endDate,C=(i=n.props.dateFormat)!==null&&i!==void 0?i:t.defaultProps.dateFormat,M=(l=n.props.strictParsing)!==null&&l!==void 0?l:t.defaultProps.strictParsing,E=j?.target instanceof HTMLInputElement?j.target.value:"";if(w){var O=n.props.rangeSeparator,P=O.trim(),T=E.split(C.includes(P)?O:P,2).map(function(G){return G.trim()}),$=T[0],L=T[1],H=Dl($??"",C,n.props.locale,M),D=H?Dl(L??"",C,n.props.locale,M):null,Z=((c=Hl(A))===null||c===void 0?void 0:c.getTime())!==H?.getTime(),K=((u=Hl(k))===null||u===void 0?void 0:u.getTime())!==D?.getTime();if(!Z&&!K||H&&la(H,n.props)||D&&la(D,n.props))return;H&&n.setState({preSelection:H}),(m=(f=n.props).onChange)===null||m===void 0||m.call(f,[H,D],j)}else{var J=Dl(E,C,n.props.locale,M,(p=n.props.selected)!==null&&p!==void 0?p:void 0);if(J||!E)n.setSelected(J,j,!0);else if(!n.props.inline){var R=jie(E,(x=n.state.preSelection)!==null&&x!==void 0?x:void 0);R&&(!n.props.minDate||!ei(R,n.props.minDate))&&(!n.props.maxDate||!qi(R,n.props.maxDate))&&n.setState({preSelection:R})}}}},n.handleSelect=function(i,l,c){var u;if(!n.props.readOnly){var f=n.props,m=f.selectsRange,p=f.startDate,x=f.endDate,v=f.locale,g=f.swapRange,j=(u=n.props.dateFormat)!==null&&u!==void 0?u:t.defaultProps.dateFormat,y=!m||p&&!x&&(g||!Hb(i,p));if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&y&&n.sendFocusBackToInput(),n.props.onChangeRaw){var w=yn(i,{dateFormat:j,locale:v});n.props.onChangeRaw(l,{date:i,formattedDate:w})}n.setSelected(i,l,!1,c),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect?n.setPreSelection(i):y&&n.setOpen(!1)}},n.setSelected=function(i,l,c,u){var f,m,p=n.props.timeZone,x=i;if(x&&p&&(x=Ii(x,p)),n.props.showYearPicker){if(x!==null&&Sp(ht(x),n.props))return}else if(n.props.showMonthYearPicker){if(x!==null&&DI(x,n.props))return}else if(x!==null&&la(x,n.props))return;var v=n.props,g=v.onChange,j=v.selectsRange,y=v.startDate,w=v.endDate,A=v.selectsMultiple,k=v.selectedDates,C=v.minTime,M=v.swapRange;if(!ql(n.props.selected,x)||n.props.allowSameDay||j||A)if(x!==null&&(n.props.selected&&(!c||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(x=Ri(x,{hour:nn(n.props.selected),minute:an(n.props.selected),second:Us(n.props.selected)})),!c&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&C&&(x=Ri(x,{hour:C.getHours(),minute:C.getMinutes(),second:C.getSeconds()})),n.props.inline||n.setState({preSelection:x}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:u})),j){var E=g,O=!y&&!w,P=y&&!w,T=!y&&!!w,$=y&&w;O?E?.([x,null],l):P?x===null?E?.([null,null],l):Hb(x,y)?E?.(M?[x,y]:[x,null],l):E?.([y,x],l):T&&(x&&Hb(x,w)?E?.([x,w],l):E?.([x,null],l)),$&&E?.([x,null],l)}else if(A){var L=g;if(x!==null)if(!k?.length)L?.([x],l);else{var H=k.some(function(Z){return bt(Z,x)});if(H){var D=k.filter(function(Z){return!bt(Z,x)});L?.(D,l)}else L?.(ti(ti([],k,!0),[x],!1),l)}}else g?.(x,l);c||((m=(f=n.props).onSelect)===null||m===void 0||m.call(f,x,l),n.setState({inputValue:null}))},n.setPreSelection=function(i){if(!n.props.readOnly){var l=ai(n.props.minDate),c=ai(n.props.maxDate),u=!0;if(i){var f=cd(i);if(l&&c)u=Rl(i,n.props.minDate,n.props.maxDate);else if(l){var m=cd(n.props.minDate);u=qi(i,m)||ql(f,m)}else if(c){var p=mD(n.props.maxDate);u=ei(i,p)||ql(f,p)}}u&&n.setState({preSelection:i})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(i,l){var c,u;if(!n.props.selectsMultiple){var f=n.props,m=f.selectsRange,p=f.startDate,x=f.endDate,v=f.onChange,g=f.timeZone;if(m){var j=v;if(l==="start"){if(p){var y=Ri(p,{hour:nn(i),minute:an(i)});n.setState({preSelection:y}),g&&(y=Ii(y,g)),j?.([y,x?g?Ii(x,g):x:null],void 0)}}else if(l==="end"){if(x){var w=Ri(x,{hour:nn(i),minute:an(i)});n.setState({preSelection:w}),g&&(w=Ii(w,g)),j?.([p?g?Ii(p,g):p:null,w],void 0)}}else{var A=p&&!x;if(A){var y=Ri(p,{hour:nn(i),minute:an(i)});n.setState({preSelection:y}),g&&(y=Ii(y,g)),j?.([y,null],void 0)}else if(p&&x){var w=Ri(x,{hour:nn(i),minute:an(i)});n.setState({preSelection:w}),g&&(w=Ii(w,g)),j?.([g?Ii(p,g):p,w],void 0)}else{var k=Ri(n.getPreSelection(),{hour:nn(i),minute:an(i)});n.setState({preSelection:k})}}}else{var C=n.props.selected?n.props.selected:n.getPreSelection(),k=n.props.selected?i:Ri(C,{hour:nn(i),minute:an(i)});n.setState({preSelection:k}),k&&g&&(k=Ii(k,g)),(u=(c=n.props).onChange)===null||u===void 0||u.call(c,k)}n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var i,l;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(l=(i=n.props).onInputClick)===null||l===void 0||l.call(i)},n.handleTimeOnlyArrowKey=function(i){var l,c,u,f,m=Hl(n.props.selected)||n.state.preSelection||Nt(),p=(l=n.props.timeIntervals)!==null&&l!==void 0?l:30,x=(c=n.props.dateFormat)!==null&&c!==void 0?c:t.defaultProps.dateFormat,v=Array.isArray(x)?x[0]:x,g=cd(m),j=nn(m)*60+an(m),y=1440-p,w;if(i===Te.ArrowUp){var A=Math.max(0,j-p);w=Dd(g,A)}else{var A=Math.min(y,j+p);w=Dd(g,A)}var k=Xt(w,v||t.defaultProps.dateFormat,n.props.locale);if(n.setState({preSelection:w,inputValue:k}),!(n.props.selectsRange||n.props.selectsMultiple)){var C=n.props.selected?n.props.selected:n.getPreSelection(),M=n.props.selected?w:Ri(C,{hour:nn(w),minute:an(w)});(f=(u=n.props).onChange)===null||f===void 0||f.call(u,M),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),requestAnimationFrame(function(){n.scrollToTimeOption(w)})}},n.handleTimeOnlyEnterKey=function(i){var l,c,u,f,m=i.target,p=m.value,x=(l=n.props.dateFormat)!==null&&l!==void 0?l:t.defaultProps.dateFormat,v=n.props.timeFormat||"p",g=n.state.preSelection||Hl(n.props.selected)||Nt(),j=Dl(p,x,n.props.locale,(c=n.props.strictParsing)!==null&&c!==void 0?c:!1,g),y=g;if(j&&wn(j))y=j;else{var w=((u=n.calendar)===null||u===void 0?void 0:u.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(".react-datepicker__time-list-item[tabindex='0']");if(w instanceof HTMLElement){var A=(f=w.textContent)===null||f===void 0?void 0:f.trim();if(A){var k=Dl(A,v,n.props.locale,!1,g);k&&wn(k)&&(y=k)}}}n.handleTimeChange(y),n.setOpen(!1),n.sendFocusBackToInput()},n.scrollToTimeOption=function(i){var l,c;if(!((l=n.calendar)===null||l===void 0)&&l.containerRef.current){for(var u=n.calendar.containerRef.current,f=Array.from(u.querySelectorAll(".react-datepicker__time-list-item")),m=null,p=1/0,x=n.props.timeFormat||"p",v=0,g=f;v<g.length;v++){var j=g[v],y=(c=j.textContent)===null||c===void 0?void 0:c.trim();if(y){var w=Dl(y,x,n.props.locale,!1,i);if(w&&wn(w)){if(TI(w,i)){m=j;break}var A=Math.abs(w.getTime()-i.getTime());A<p&&(p=A,m=j)}}}m&&(f.forEach(function(k){k.setAttribute("tabindex","-1")}),m.setAttribute("tabindex","0"),m.scrollIntoView({behavior:"smooth",block:"center"}))}},n.onInputKeyDown=function(i){var l,c,u,f,m,p;(c=(l=n.props).onKeyDown)===null||c===void 0||c.call(l,i);var x=i.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(x===Te.ArrowDown||x===Te.ArrowUp||x===Te.Enter)&&((u=n.onInputClick)===null||u===void 0||u.call(n));return}if(n.state.open&&n.props.showTimeSelectOnly){if(x===Te.ArrowDown||x===Te.ArrowUp){i.preventDefault(),n.handleTimeOnlyArrowKey(x);return}if(x===Te.Enter){i.preventDefault(),n.handleTimeOnlyEnterKey(i);return}}if(n.state.open){if(x===Te.ArrowDown||x===Te.ArrowUp){i.preventDefault();var v=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',g=((f=n.calendar)===null||f===void 0?void 0:f.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(v);g instanceof HTMLElement&&g.focus({preventScroll:!0});return}var j=Nt(n.state.preSelection);x===Te.Enter?(i.preventDefault(),i.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===Vb?(n.handleSelect(j,i),!n.props.shouldCloseOnSelect&&n.setPreSelection(j)):n.setOpen(!1)):x===Te.Escape?(i.preventDefault(),i.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):x===Te.Tab&&n.setOpen(!1),n.inputOk()||(p=(m=n.props).onInputError)===null||p===void 0||p.call(m,{code:1,msg:Yb})}},n.onPortalKeyDown=function(i){var l=i.key;l===Te.Escape&&(i.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(i){var l,c,u,f,m,p,x=n.props,v=x.minDate,g=x.maxDate,j=x.disabledKeyboardNavigation,y=x.showWeekPicker,w=x.shouldCloseOnSelect,A=x.locale,k=x.calendarStartDay,C=x.adjustDateOnChange,M=x.inline;if((c=(l=n.props).onKeyDown)===null||c===void 0||c.call(l,i),!j){var E=i.key,O=i.shiftKey,P=Nt(n.state.preSelection),T=function(H,D){var Z=D;switch(H){case Te.ArrowRight:Z=y?Sh(D,1):Aa(D,1);break;case Te.ArrowLeft:Z=y?XE(D):zne(D);break;case Te.ArrowUp:Z=XE(D);break;case Te.ArrowDown:Z=Sh(D,1);break;case Te.PageUp:Z=O?Qs(D,1):Gl(D,1);break;case Te.PageDown:Z=O?ka(D,1):_a(D,1);break;case Te.Home:Z=Ys(D,A,k);break;case Te.End:Z=Mie(D);break}return Z},$=function(H,D){for(var Z=40,K=H,J=!1,R=0,G=T(H,D);!J;){if(R>=Z){G=D;break}v&&G<v&&(K=Te.ArrowRight,G=la(v,n.props)?T(K,G):v),g&&G>g&&(K=Te.ArrowLeft,G=la(g,n.props)?T(K,G):g),la(G,n.props)?((K===Te.PageUp||K===Te.Home)&&(K=Te.ArrowRight),(K===Te.PageDown||K===Te.End)&&(K=Te.ArrowLeft),G=T(K,G)):J=!0,R++}return G};if(E===Te.Enter){i.preventDefault(),n.handleSelect(P,i),!w&&n.setPreSelection(P);return}else if(E===Te.Escape){i.preventDefault(),n.setOpen(!1),n.inputOk()||(f=(u=n.props).onInputError)===null||f===void 0||f.call(u,{code:1,msg:Yb});return}var L=null;switch(E){case Te.ArrowLeft:case Te.ArrowRight:case Te.ArrowUp:case Te.ArrowDown:case Te.PageUp:case Te.PageDown:case Te.Home:case Te.End:L=$(E,P);break}if(!L){(p=(m=n.props).onInputError)===null||p===void 0||p.call(m,{code:1,msg:Yb});return}i.preventDefault(),n.setState({lastPreSelectChange:Vb}),C&&n.setSelected(L),n.setPreSelection(L),M&&n.setState({shouldFocusDayInline:!0})}},n.onPopperKeyDown=function(i){var l=i.key;l===Te.Escape&&(i.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),n.sendFocusBackToInput();var l=n.props,c=l.selectsRange,u=l.onChange;u?.(c?[null,null]:null,i),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(i){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(i)&&n.setOpen(!1)},n.handleMonthSelectedInChange=function(i){n.setState({monthSelectedIn:i})},n.renderCalendar=function(){var i,l;return!n.props.inline&&!n.isCalendarOpen()?null:se.createElement(sse,ut({showMonthYearDropdown:void 0,ref:function(c){n.calendar=c}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(i=n.props.dateFormatCalendar)!==null&&i!==void 0?i:t.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:Bie(n.modifyHolidays()),outsideClickIgnoreClass:n.props.outsideClickIgnoreClass,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(l=n.props.dropdownMode)!==null&&l!==void 0?l:t.defaultProps.dropdownMode,onMonthSelectedInChange:n.handleMonthSelectedInChange}),n.props.children)},n.renderAriaLiveRegion=function(){var i,l=n.props.locale,c=(i=n.props.dateFormat)!==null&&i!==void 0?i:t.defaultProps.dateFormat,u=n.props.showTimeInput||n.props.showTimeSelect,f=u?"PPPPp":"PPPP",m;return n.props.selectsRange?m="Selected start date: ".concat(yn(n.props.startDate,{dateFormat:f,locale:l}),". ").concat(n.props.endDate?"End date: "+yn(n.props.endDate,{dateFormat:f,locale:l}):""):n.props.showTimeSelectOnly?m="Selected time: ".concat(yn(n.props.selected,{dateFormat:c,locale:l})):n.props.showYearPicker?m="Selected year: ".concat(yn(n.props.selected,{dateFormat:"yyyy",locale:l})):n.props.showMonthYearPicker?m="Selected month: ".concat(yn(n.props.selected,{dateFormat:"MMMM yyyy",locale:l})):n.props.showQuarterYearPicker?m="Selected quarter: ".concat(yn(n.props.selected,{dateFormat:"yyyy, QQQ",locale:l})):m="Selected date: ".concat(yn(n.props.selected,{dateFormat:f,locale:l})),se.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},m)},n.renderDateInput=function(){var i,l,c,u,f,m,p,x=dt(n.props.className,(i={},i[n.props.outsideClickIgnoreClass||t.defaultProps.outsideClickIgnoreClass]=n.state.open,i)),v=n.props.customInput||se.createElement("input",{type:"text"}),g=n.props.customInputRef||"ref",j={},y=(c=n.props["aria-describedby"])!==null&&c!==void 0?c:n.props.ariaDescribedBy,w=(u=n.props["aria-invalid"])!==null&&u!==void 0?u:n.props.ariaInvalid,A=(f=n.props["aria-label"])!==null&&f!==void 0?f:n.props.ariaLabel,k=(m=n.props["aria-labelledby"])!==null&&m!==void 0?m:n.props.ariaLabelledBy,C=(p=n.props["aria-required"])!==null&&p!==void 0?p:n.props.ariaRequired;return y!=null&&(j["aria-describedby"]=y),w!=null&&(j["aria-invalid"]=w),A!=null&&(j["aria-label"]=A),k!=null&&(j["aria-labelledby"]=k),C!=null&&(j["aria-required"]=C),N.cloneElement(v,ut((l={},l[g]=function(M){n.input=M},l.value=n.getInputValue(),l.onBlur=n.handleBlur,l.onChange=n.handleChange,l.onClick=n.onInputClick,l.onFocus=n.handleFocus,l.onKeyDown=n.onInputKeyDown,l.id=n.props.id,l.name=n.props.name,l.form=n.props.form,l.autoFocus=n.props.autoFocus,l.placeholder=n.props.placeholderText,l.disabled=n.props.disabled,l.autoComplete=n.props.autoComplete,l.className=dt(v.props.className,x),l.title=n.props.title,l.readOnly=n.props.readOnly,l.required=n.props.required,l.tabIndex=n.props.tabIndex,l),j))},n.renderClearButton=function(){var i=n.props,l=i.isClearable,c=i.disabled,u=i.selected,f=i.startDate,m=i.endDate,p=i.clearButtonTitle,x=i.clearButtonClassName,v=x===void 0?"":x,g=i.ariaLabelClose,j=g===void 0?"Close":g,y=i.selectedDates,w=i.readOnly;return l&&!w&&(u!=null||f!=null||m!=null||y?.length)?se.createElement("button",{type:"button",className:dt("react-datepicker__close-icon",v,{"react-datepicker__close-icon--disabled":c}),disabled:c,"aria-label":j,onClick:n.onClearClick,title:p,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:II,readOnly:!1,rangeSeparator:MI,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:nf,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(r,n){var i,l,c,u;this.props.selectsRange&&MD(r.startDate,this.props.startDate)?this.setPreSelection(this.props.startDate):MD(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),this.props.selectsRange&&n.open===!1&&this.state.open===!0&&this.state.monthSelectedIn!==0&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:wD(this.props.highlightDates)}),!n.focused&&!ql(r.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((l=(i=this.props).onCalendarOpen)===null||l===void 0||l.call(i)),n.open===!0&&this.state.open===!1&&((u=(c=this.props).onCalendarClose)===null||u===void 0||u.call(c)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var r=this.props,n=r.showIcon,i=r.icon,l=r.calendarIconClassname,c=r.calendarIconClassName,u=r.toggleCalendarOnIconClick,f=this.state.open;return l&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),se.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&se.createElement(lse,ut({icon:i,className:dt(c,!c&&l,f&&"react-datepicker-ignore-onclickoutside")},u?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var n=this.state.open?se.createElement(LI,{enableTabLoop:this.props.enableTabLoop},se.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(n=se.createElement(RI,ut({portalId:this.props.portalId},this.props),n)),se.createElement(se.Fragment,null,this.renderInputContainer(),n)}return se.createElement(fse,ut({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:r,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow,monthHeaderPosition:this.props.monthHeaderPosition}))},t})(N.Component),pse="input",Vb="navigate";function hr({open:e,onClose:t,title:r,children:n,wide:i}){const l=N.useRef(null);return N.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),N.useEffect(()=>{function c(u){u.key==="Escape"&&t()}return e&&window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[e,t]),e?a.jsxs("div",{ref:l,className:"fixed inset-0 z-50 flex items-start justify-center pt-[5vh] sm:pt-[10vh] px-4",onClick:c=>{c.target===l.current&&t()},children:[a.jsx("div",{className:"fixed inset-0 bg-black/60"}),a.jsxs("div",{className:`relative bg-[var(--bg-card)] border border-[var(--border)] rounded-xl shadow-2xl w-full ${i?"max-w-2xl":"max-w-lg"} max-h-[80vh] flex flex-col animate-fade-in`,children:[a.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-[var(--border-light)] shrink-0",children:[a.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:r}),a.jsx("button",{onClick:t,className:"p-1.5 rounded-lg text-[var(--text-dim)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:a.jsx(si,{size:16})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto px-5 py-4",children:n})]})]}):null}function he({label:e,required:t,error:r,children:n}){return a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:[e,t&&a.jsx("span",{className:"text-rose-500 ml-0.5",children:"*"})]}),n,r&&a.jsx("p",{className:"text-xs text-rose-500 mt-1",children:r})]})}function Pe({value:e,onChange:t,placeholder:r,type:n="text",sensitive:i,...l}){const{masked:c}=Pa();return a.jsx("input",{type:n,value:e,onChange:u=>t(u.target.value),placeholder:r,className:`w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors ${i&&c?"sensitive-blur":""}`,...l})}function Ma({value:e,onChange:t,...r}){const n=e?new Date(e.length>10?e:e+"T00:00:00"):null;function i(l){if(!l){t("");return}const c=l.getFullYear(),u=String(l.getMonth()+1).padStart(2,"0"),f=String(l.getDate()).padStart(2,"0");t(`${c}-${u}-${f}`)}return a.jsxs("div",{className:"relative cf-datepicker",children:[a.jsx(mse,{selected:n,onChange:i,dateFormat:"dd MMM yyyy",maxDate:new Date,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",placeholderText:"Select date",className:"w-full px-3 py-2 pr-9 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors",...r}),a.jsx(Sz,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)] pointer-events-none"})]})}function tt({value:e,onChange:t,options:r,placeholder:n}){return a.jsxs("select",{value:e,onChange:i=>t(i.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors",children:[n&&a.jsx("option",{value:"",children:n}),r.map(i=>a.jsx("option",{value:i.value,children:i.label},i.value))]})}function Dc({value:e,onChange:t,placeholder:r,rows:n=3}){return a.jsx("textarea",{value:e,onChange:i=>t(i.target.value),placeholder:r,rows:n,className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors resize-none"})}function hse({checked:e,onChange:t,label:r}){return a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e,onChange:n=>t(n.target.checked),className:"w-4 h-4 rounded border-[var(--border-input)] bg-[var(--bg-input)] text-violet-500 focus:ring-violet-500"}),a.jsx("span",{className:"text-sm text-[var(--text-secondary)]",children:r})]})}function fn({onCancel:e,onSubmit:t,submitLabel:r="Save",loading:n}){return a.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4 mt-4 border-t border-[var(--border-light)]",children:[a.jsx("button",{onClick:e,disabled:n,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),a.jsxs("button",{onClick:t,disabled:n,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 flex items-center gap-1.5",children:[n&&a.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),n?"Saving...":r]})]})}function ls({onClick:e,label:t="Deactivate"}){return a.jsx("button",{onClick:e,className:"px-4 py-2 text-xs font-semibold text-rose-400 hover:text-rose-300 hover:bg-rose-500/10 rounded-lg transition-colors",children:t})}const ED=[{key:"sip",label:"Adjust SIP",icon:HB,color:"text-blue-400",dimColor:"text-blue-400/60 hover:text-blue-400",activeBg:"bg-blue-500/20 border border-blue-500/40"},{key:"lumpsum",label:"Lumpsum",icon:fB,color:"text-emerald-400",dimColor:"text-emerald-400/60 hover:text-emerald-400",activeBg:"bg-emerald-500/20 border border-emerald-500/40"},{key:"buysell",label:"Buy / Sell",icon:xz,color:"text-amber-400",dimColor:"text-amber-400/60 hover:text-amber-400",activeBg:"bg-amber-500/20 border border-amber-500/40"}];function Rn(e){return e>=1e5?`${(e/1e5).toFixed(1)}L`:e>=1e3?`${(e/1e3).toFixed(0)}K`:`${Math.round(e)}`}function RN({exitOnly:e}){return a.jsx("div",{className:"py-4 text-center space-y-1",children:e?a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Only exit candidates here  use ",a.jsx("span",{className:"font-semibold text-amber-400",children:"Buy / Sell"})," tab"]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"No target allocations set"}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Use ",a.jsx("span",{className:"font-semibold text-violet-400",children:"Allocations"})," to set target % for each fund first"]})]})})}function LN({children:e,dimmed:t}){return a.jsx("div",{className:`bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-3.5 py-3 space-y-2 ${t?"opacity-50":""}`,children:e})}function FN({fundName:e}){const{main:t,plan:r}=Le(e);return a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-[11px] font-medium text-[var(--text-primary)] leading-tight",children:t}),r&&a.jsx("p",{className:"text-[9px] text-[var(--text-dim)]",children:r})]})}function zN({label:e,value:t,valueClass:r}){return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:e}),a.jsx("span",{className:`text-[11px] tabular-nums font-medium ${r||"text-[var(--text-secondary)]"}`,children:t})]})}function xse({portfolio:e,holdings:t,totalValue:r}){const n=e.sipTarget||0,i=(e.rebalanceThreshold||.05)*100,l=t.some(v=>v.targetAllocationPct>0),c=t.some(v=>v.targetAllocationPct===0&&v.units>0);if(!l)return a.jsx(RN,{exitOnly:c});if(n<=0)return a.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"No SIP target set for this portfolio"});const u=t.filter(v=>v.targetAllocationPct>0).map(v=>{const g=r>0?v.currentValue/r*100:0,j=Math.abs(g-v.targetAllocationPct),y=j>i,A=v.targetAllocationPct/100*r-v.currentValue,k=v.targetAllocationPct/100*n;return{...v,currentPct:g,drift:j,drifted:y,gap:A,normalSIP:k}}),m=u.filter(v=>v.drifted&&v.gap>0).reduce((v,g)=>v+g.gap,0),p=u.map(v=>({...v,suggestedSIP:v.drifted&&v.gap>0&&m>0?v.gap/m*n:v.drifted&&v.gap<=0?0:v.normalSIP}));return u.some(v=>v.drifted)?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Funds drifted >",i.toFixed(0),"%: overweight  0, underweight  extra SIP. Others keep normal SIP."]}),a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Allocation"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Normal SIP"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Rebalance SIP"})]})}),a.jsx("tbody",{children:p.map(v=>{const g=v.drifted&&v.gap<=0,j=v.drifted&&v.gap>0,y=!v.drifted;return a.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 ${y?"opacity-50":g?"opacity-60":""}`,children:[a.jsxs("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px]",children:[a.jsx("p",{className:"truncate",children:Le(v.fundName).main}),Le(v.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(v.fundName).plan})]}),a.jsxs("td",{className:"py-2 px-2 text-right tabular-nums",children:[a.jsxs("span",{className:g?"text-amber-400":j?"text-blue-400":"text-[var(--text-dim)]",children:[v.currentPct.toFixed(1),"%"]}),a.jsxs("span",{className:"text-[var(--text-dim)]",children:[" / ",v.targetAllocationPct.toFixed(1),"%"]})]}),a.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:Rn(v.normalSIP)}),a.jsx("td",{className:"py-2 px-2 text-right font-semibold tabular-nums",children:g?a.jsx("span",{className:"text-amber-400/70",children:"0"}):j?a.jsx("span",{className:"text-blue-400",children:Rn(v.suggestedSIP)}):a.jsx("span",{className:"text-[var(--text-dim)]",children:Rn(v.suggestedSIP)})})]},v.holdingId)})}),a.jsx("tfoot",{children:a.jsxs("tr",{className:"border-t border-[var(--border)]",children:[a.jsx("td",{className:"py-1.5 px-2 text-xs font-bold text-[var(--text-primary)]",colSpan:2,children:"Total"}),a.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums",children:Rn(n)}),a.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-blue-400 tabular-nums",children:Rn(n)})]})})]})}),a.jsxs("div",{className:"sm:hidden space-y-2",children:[p.map(v=>{const g=v.drifted&&v.gap<=0,j=v.drifted&&v.gap>0,y=!v.drifted;return a.jsxs(LN,{dimmed:y||g,children:[a.jsx(FN,{fundName:v.fundName}),a.jsx(zN,{label:"Allocation",value:a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:g?"text-amber-400":j?"text-blue-400":"",children:[v.currentPct.toFixed(1),"%"]})," ",a.jsxs("span",{className:"text-[var(--text-dim)]",children:["/ ",v.targetAllocationPct.toFixed(1),"%"]})]})}),a.jsxs("div",{className:"flex items-center justify-between pt-1 border-t border-[var(--border-light)]",children:[a.jsxs("div",{className:"text-center flex-1",children:[a.jsx("p",{className:"text-[9px] text-[var(--text-dim)] uppercase",children:"Normal"}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:Rn(v.normalSIP)})]}),a.jsx("div",{className:"text-[var(--text-dim)] text-xs px-2",children:""}),a.jsxs("div",{className:"text-center flex-1",children:[a.jsx("p",{className:"text-[9px] text-[var(--text-dim)] uppercase",children:"Rebalance"}),a.jsx("p",{className:`text-xs font-semibold tabular-nums ${g?"text-amber-400/70":j?"text-blue-400":"text-[var(--text-dim)]"}`,children:g?"0":Rn(v.suggestedSIP)})]})]})]},v.holdingId)}),a.jsxs("div",{className:"flex items-center justify-between bg-[var(--bg-inset)] rounded-xl border border-[var(--border-light)] px-3.5 py-2.5",children:[a.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)]",children:"Total SIP"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:Rn(n)}),a.jsx("span",{className:"text-[var(--text-dim)]",children:""}),a.jsx("span",{className:"text-xs font-bold text-blue-400 tabular-nums",children:Rn(n)})]})]})]})]}):a.jsxs("p",{className:"text-xs text-[var(--text-dim)] py-2",children:["SIPs are balanced (within ",i.toFixed(0),"% threshold)"]})}function vse({portfolio:e,holdings:t,totalValue:r}){const[n,i]=N.useState("");(e.rebalanceThreshold||.05)*100;const l=t.some(y=>y.targetAllocationPct>0),c=t.some(y=>y.targetAllocationPct===0&&y.units>0);if(!l)return a.jsx(RN,{exitOnly:c});const u=t.filter(y=>y.targetAllocationPct>0).map(y=>{const w=r>0?y.currentValue/r*100:0;return{...y,currentPct:w}}),f=N.useMemo(()=>{if(r<=0||u.length===0)return 0;const y=u.filter(C=>{const M=C.targetAllocationPct/100*r;return C.currentValue<M});if(y.length===0)return 0;const w=y.reduce((C,M)=>C+M.targetAllocationPct,0);if(w>=100)return 0;const A=y.reduce((C,M)=>C+M.currentValue,0),k=(w/100*r-A)/(1-w/100);return k>0?Math.ceil(k/100)*100:0},[u,r]),m=Number(n)||e.lumpsumTarget||f,p=N.useMemo(()=>{const y=m>0?r+m:r,w=u.map(k=>{const C=k.targetAllocationPct/100*y,M=m>0?Math.max(0,C-k.currentValue):0,E=y>0?(k.currentValue+M)/y*100:0,O=k.currentValue>C+1;return{...k,invest:M,newPct:E,isOverweight:O}}),A=w.reduce((k,C)=>k+C.invest,0);if(m>0&&A>0&&Math.abs(A-m)>1){const k=m/A;return w.map(C=>({...C,invest:C.invest>0?C.invest*k:0,newPct:y>0?(C.currentValue+(C.invest>0?C.invest*k:0))/y*100:0}))}return w},[u,m,r]),x=p.reduce((y,w)=>y+w.invest,0),v=p.some(y=>y.isOverweight),g=Number(n),j=g>0&&f>0&&g<f;return a.jsxs("div",{className:"space-y-2",children:[f>0&&a.jsx("div",{className:"flex items-center gap-2 px-2.5 py-1.5 rounded-md bg-emerald-500/10 border border-emerald-500/20",children:a.jsxs("p",{className:"text-xs text-emerald-400",children:[a.jsx("span",{className:"font-bold",children:Q(f)})," needed to bring all underweight funds to target %"]})}),a.jsxs("div",{className:"flex items-end gap-3",children:[a.jsx("div",{className:"flex-1 max-w-[200px]",children:a.jsx(he,{label:"Invest Amount ()",children:a.jsx(Pe,{type:"number",value:n,onChange:i,placeholder:f>0?`${Q(f)}`:"Enter amount..."})})}),!g&&!e.lumpsumTarget&&f>0&&a.jsx("p",{className:"text-xs text-emerald-400/70 pb-2.5",children:"Using suggested"}),!g&&e.lumpsumTarget>=100&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] pb-2.5",children:"Using lumpsum target"})]}),j&&a.jsxs("p",{className:"text-xs text-amber-400/80 px-1",children:["Below minimum  distributes proportionally but won't fully rebalance. Need ",Q(f)," for exact target %."]}),p.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Allocation"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Invest"})]})}),a.jsx("tbody",{children:p.map(y=>a.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 ${y.invest===0?"opacity-50":""}`,children:[a.jsxs("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px]",children:[a.jsx("p",{className:"truncate",children:Le(y.fundName).main}),Le(y.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(y.fundName).plan})]}),a.jsxs("td",{className:"py-2 px-2 text-right tabular-nums",children:[a.jsxs("span",{className:y.isOverweight?"text-amber-400":y.invest>0?"text-blue-400":"text-[var(--text-dim)]",children:[y.currentPct.toFixed(1),"%"]}),a.jsxs("span",{className:"text-[var(--text-dim)]",children:["  ",y.newPct.toFixed(1),"%"]})]}),a.jsx("td",{className:"py-2 px-2 text-right font-semibold tabular-nums",children:y.isOverweight?a.jsx("span",{className:"text-amber-400/70 text-xs",children:"Overweight"}):y.invest>0?a.jsx("span",{className:"text-emerald-400",children:Rn(y.invest)}):a.jsx("span",{className:"text-[var(--text-dim)] text-xs",children:"Balanced"})})]},y.holdingId))}),x>0&&a.jsx("tfoot",{children:a.jsxs("tr",{className:"border-t border-[var(--border)]",children:[a.jsx("td",{className:"py-1.5 px-2 text-xs font-bold text-[var(--text-primary)]",colSpan:2,children:"Total"}),a.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-emerald-400 tabular-nums",children:Q(x)})]})})]})}),a.jsxs("div",{className:"sm:hidden space-y-2",children:[p.map(y=>a.jsxs(LN,{dimmed:y.invest===0,children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsx(FN,{fundName:y.fundName}),a.jsx("div",{className:"text-right shrink-0",children:y.isOverweight?a.jsx("span",{className:"text-[10px] font-semibold px-2 py-0.5 rounded-full bg-amber-500/15 text-amber-400",children:"Overweight"}):y.invest>0?a.jsx("p",{className:"text-xs font-bold text-emerald-400 tabular-nums",children:Rn(y.invest)}):a.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:"Balanced"})})]}),a.jsx(zN,{label:"Allocation",value:a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:y.isOverweight?"text-amber-400":y.invest>0?"text-blue-400":"",children:[y.currentPct.toFixed(1),"%"]})," ",a.jsxs("span",{className:"text-[var(--text-dim)]",children:[" ",y.newPct.toFixed(1),"%"]})]})})]},y.holdingId)),x>0&&a.jsxs("div",{className:"flex items-center justify-between bg-[var(--bg-inset)] rounded-xl border border-[var(--border-light)] px-3.5 py-2.5",children:[a.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)]",children:"Total Invest"}),a.jsx("span",{className:"text-sm font-bold text-emerald-400 tabular-nums",children:Q(x)})]})]})]}):a.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2 text-center",children:"All funds balanced"}),v&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Overweight funds can't be fixed by buying. Use ",a.jsx("span",{className:"font-semibold text-amber-400",children:"Buy / Sell"})," tab to sell overweight and buy underweight."]})]})}function gse({portfolio:e,holdings:t,totalValue:r}){const n=(e.rebalanceThreshold||.05)*100,i=t.some(u=>u.targetAllocationPct>0),l=t.some(u=>u.targetAllocationPct===0&&u.units>0);if(!i&&!l)return a.jsx(RN,{});const c=t.filter(u=>u.targetAllocationPct>0||u.units>0).map(u=>{const f=r>0?u.currentValue/r*100:0,m=u.targetAllocationPct===0&&u.units>0,p=m||Math.abs(f-u.targetAllocationPct)>n,x=u.targetAllocationPct/100*r,v=p?x-u.currentValue:0;return{...u,currentPct:f,amount:v,isExit:m}}).filter(u=>Math.abs(u.amount)>=500);return c.length===0?a.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"Portfolio is balanced"}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Drift"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Action"})]})}),a.jsx("tbody",{children:c.map(u=>{const f=u.amount>0;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[a.jsxs("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px]",children:[a.jsx("p",{className:"truncate",children:Le(u.fundName).main}),Le(u.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(u.fundName).plan})]}),a.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:u.isExit?a.jsxs("span",{className:"text-[var(--accent-rose)]",children:[u.currentPct.toFixed(1),"%  Exit"]}):`${u.currentPct.toFixed(1)}%  ${u.targetAllocationPct.toFixed(1)}%`}),a.jsx("td",{className:"py-2 px-2 text-right",children:a.jsxs("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${f?"bg-emerald-500/20 text-emerald-400":"bg-rose-500/20 text-[var(--accent-rose)]"}`,children:[f?"Buy":u.isExit?"Exit":"Sell"," ",Rn(Math.abs(u.amount))]})})]},u.schemeCode||u.fundCode)})})]})}),a.jsx("div",{className:"sm:hidden space-y-2",children:c.map(u=>{const f=u.amount>0;return a.jsxs(LN,{children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsx(FN,{fundName:u.fundName}),a.jsxs("span",{className:`text-[11px] font-bold px-2.5 py-1 rounded-full shrink-0 ${f?"bg-emerald-500/20 text-emerald-400":"bg-rose-500/20 text-[var(--accent-rose)]"}`,children:[f?"Buy":u.isExit?"Exit":"Sell"," ",Rn(Math.abs(u.amount))]})]}),a.jsx(zN,{label:"Drift",value:u.isExit?a.jsxs("span",{className:"text-[var(--accent-rose)]",children:[u.currentPct.toFixed(1),"%  Exit"]}):a.jsxs(a.Fragment,{children:[a.jsxs("span",{children:[u.currentPct.toFixed(1),"%"]})," ",a.jsxs("span",{className:"text-[var(--text-dim)]",children:[" ",u.targetAllocationPct.toFixed(1),"%"]})]}),valueClass:f?"text-emerald-400":"text-amber-400"})]},u.schemeCode||u.fundCode)})})]})}function FI(){const{mfHoldings:e,mfPortfolios:t}=xt(),[r,n]=N.useState("buysell"),i=N.useMemo(()=>t.filter(f=>f.status!=="Inactive").map(f=>{const m=e.filter(y=>y.portfolioId===f.portfolioId&&y.units>0),p=m.reduce((y,w)=>y+w.currentValue,0),x=(f.rebalanceThreshold||.05)*100,v=m.filter(y=>{if(y.targetAllocationPct<=0)return!1;const w=p>0?y.currentValue/p*100:0;return Math.abs(w-y.targetAllocationPct)>x}).length,g=m.filter(y=>y.targetAllocationPct===0&&y.units>0&&y.currentValue>=500).length,j=m.some(y=>y.targetAllocationPct>0);return{...f,holdings:m,totalValue:p,driftedCount:v,exitCount:g,hasTargets:j}}).filter(f=>f.driftedCount>0||f.exitCount>0),[t,e]);if(i.length===0){const f=e.some(m=>m.targetAllocationPct>0);return a.jsx("div",{className:"py-8 text-center",children:f?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"All portfolios are balanced"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"No funds exceed their rebalance threshold"})]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No target allocations set"}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:["Use ",a.jsx("span",{className:"font-semibold text-violet-400",children:"Allocations"})," to set target % for each fund, then rebalance will show drift"]})]})})}const c=i.some(f=>(f.sipTarget||0)>=500)?ED:ED.filter(f=>f.key!=="sip"),u=c.some(f=>f.key===r)?r:c[0]?.key||"buysell";return a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"hidden sm:flex bg-[var(--bg-inset)] rounded-lg p-0.5",children:c.map(({key:f,label:m,icon:p,color:x,dimColor:v,activeBg:g})=>a.jsxs("button",{onClick:()=>n(f),className:`flex-1 flex items-center justify-center gap-1.5 py-2 rounded-md text-xs font-semibold transition-colors ${u===f?`${g} ${x} shadow-sm`:v}`,children:[a.jsx(p,{size:13})," ",m]},f))}),a.jsx("div",{className:"sm:hidden space-y-1.5",children:c.map(({key:f,label:m,icon:p,color:x,dimColor:v,activeBg:g})=>a.jsxs("button",{onClick:()=>n(f),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-semibold transition-colors ${u===f?`${g} ${x}`:`bg-[var(--bg-card)] border border-[var(--border)] ${v}`}`,children:[a.jsx(p,{size:16}),a.jsx("span",{children:m})]},f))}),i.map((f,m)=>a.jsxs("div",{className:"border border-[var(--border-light)] border-l-2 border-l-violet-500/50 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"px-3 py-2.5 bg-[var(--bg-inset)]",children:[a.jsxs("div",{className:"hidden sm:flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs font-bold text-violet-400 bg-violet-500/15 w-5 h-5 rounded flex items-center justify-center",children:m+1}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:f.portfolioName}),a.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:f.ownerName}),f.driftedCount>0&&a.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-amber-500/15 text-amber-400",children:[f.driftedCount," drifted"]}),f.exitCount>0&&a.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-rose-500/15 text-[var(--accent-rose)]",children:[f.exitCount," exit"]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-muted)]",children:[a.jsx("span",{className:"font-semibold text-[var(--text-secondary)]",children:Q(f.totalValue)}),a.jsxs("span",{children:["Threshold: ",((f.rebalanceThreshold||.05)*100).toFixed(0),"%"]}),f.sipTarget>=100&&a.jsxs("span",{children:["SIP: ",Q(f.sipTarget),"/mo"]})]})]}),a.jsxs("div",{className:"sm:hidden space-y-1.5",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs font-bold text-violet-400 bg-violet-500/15 w-5 h-5 rounded flex items-center justify-center shrink-0",children:m+1}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] flex-1 min-w-0 truncate",children:f.portfolioName})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap pl-7",children:[a.jsx("span",{className:"text-[11px] font-semibold text-[var(--text-secondary)] tabular-nums",children:Q(f.totalValue)}),a.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:f.ownerName}),f.driftedCount>0&&a.jsxs("span",{className:"text-[10px] font-bold px-1.5 py-0.5 rounded-full bg-amber-500/15 text-amber-400",children:[f.driftedCount," drifted"]}),f.exitCount>0&&a.jsxs("span",{className:"text-[10px] font-bold px-1.5 py-0.5 rounded-full bg-rose-500/15 text-[var(--accent-rose)]",children:[f.exitCount," exit"]})]})]})]}),a.jsxs("div",{className:"px-3 py-2",children:[u==="sip"&&a.jsx(xse,{portfolio:f,holdings:f.holdings,totalValue:f.totalValue}),u==="lumpsum"&&a.jsx(vse,{portfolio:f,holdings:f.holdings,totalValue:f.totalValue}),u==="buysell"&&a.jsx(gse,{portfolio:f,holdings:f.holdings,totalValue:f.totalValue})]})]},f.portfolioId))]})}const bse="/logo-new.png",yse={mf:{label:"Mutual Funds",color:"bg-violet-500",order:1,route:"/investments/mutual-funds"},stocks:{label:"Stocks",color:"bg-blue-500",order:2,route:"/investments/stocks"},PPF:{label:"PPF",color:"bg-cyan-600",order:3,route:"/investments/other"},EPF:{label:"EPF",color:"bg-cyan-500",order:4,route:"/investments/other"},NPS:{label:"NPS",color:"bg-sky-500",order:5,route:"/investments/other"},"Fixed Deposit":{label:"Fixed Deposit",color:"bg-teal-500",order:6,route:"/investments/other"},FD:{label:"Fixed Deposit",color:"bg-teal-500",order:6,route:"/investments/other"},RD:{label:"RD",color:"bg-teal-400",order:7,route:"/investments/other"},SSY:{label:"SSY",color:"bg-pink-400",order:8,route:"/investments/other"},NSC:{label:"NSC",color:"bg-indigo-400",order:9,route:"/investments/other"},Bonds:{label:"Bonds",color:"bg-cyan-400",order:10,route:"/investments/other"},Debt:{label:"Debt",color:"bg-cyan-500",order:11,route:"/investments/other"},"Physical Gold":{label:"Physical Gold",color:"bg-amber-500",order:12,route:"/investments/other"},"Digital Gold":{label:"Digital Gold",color:"bg-amber-400",order:12,route:"/investments/other"},"Sovereign Gold Bond":{label:"SGB",color:"bg-amber-600",order:12,route:"/investments/other"},Gold:{label:"Gold",color:"bg-amber-500",order:12,route:"/investments/other"},"Physical Silver":{label:"Physical Silver",color:"bg-slate-400",order:13,route:"/investments/other"},"Digital Silver":{label:"Digital Silver",color:"bg-slate-300",order:13,route:"/investments/other"},Silver:{label:"Silver",color:"bg-slate-400",order:13,route:"/investments/other"},"Real Estate":{label:"Real Estate",color:"bg-orange-500",order:14,route:"/investments/other"},Property:{label:"Real Estate",color:"bg-orange-500",order:14,route:"/investments/other"},Crypto:{label:"Crypto",color:"bg-violet-400",order:15,route:"/investments/other"},Alternative:{label:"Alternative",color:"bg-violet-400",order:15,route:"/investments/other"},Equity:{label:"Equity",color:"bg-emerald-500",order:16,route:"/investments/other"},Other:{label:"Other",color:"bg-gray-500",order:17,route:"/investments/other"}},Vm=["from-violet-500 to-indigo-500","from-rose-500 to-pink-500","from-blue-500 to-cyan-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],DD=["bg-violet-500","bg-rose-500","bg-blue-500","bg-amber-500","bg-emerald-500"],wse=[{label:"Dashboard",path:"/dashboard",match:"/dashboard"},{label:"Family Members",path:"/family",match:"/family"},{label:"Bank Accounts",path:"/accounts/bank",match:"/accounts/bank"},{label:"Investment Accounts",path:"/accounts/investment",match:"/accounts/investment"},{label:"Insurance",path:"/insurance",match:"/insurance"},{label:"Mutual Funds",path:"/investments/mutual-funds",match:"/investments/mutual-funds"},{label:"Stocks",path:"/investments/stocks",match:"/investments/stocks"},{label:"Other Investments",path:"/investments/other",match:"/investments/other"},{label:"Liabilities",path:"/liabilities",match:"/liabilities"},{label:"Goals",path:"/goals",match:"/goals"}],Nse={mf:"#8b5cf6",stocks:"#3b82f6",PPF:"#14b8a6",EPF:"#f59e0b",NPS:"#ec4899","Fixed Deposit":"#06b6d4",FD:"#06b6d4",RD:"#2dd4bf",SSY:"#f472b6",NSC:"#818cf8",Bonds:"#22d3ee",Debt:"#0ea5e9","Physical Gold":"#fbbf24","Digital Gold":"#f59e0b","Sovereign Gold Bond":"#d97706",Gold:"#fbbf24","Physical Silver":"#94a3b8","Digital Silver":"#cbd5e1",Silver:"#94a3b8","Real Estate":"#f97316",Property:"#f97316",Crypto:"#a78bfa",Alternative:"#a78bfa",Equity:"#10b981",Other:"#6b7280"};function jse(e){let t=0;for(let n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);return`hsl(${(t%360+360)%360}, 65%, 55%)`}function _D(e){return Nse[e]||jse(e)}const Sse={stocks:"Equity",PPF:"Debt",EPF:"Debt",NPS:"Debt","Fixed Deposit":"Debt",FD:"Debt",RD:"Debt",SSY:"Debt",NSC:"Debt",Bonds:"Debt",Debt:"Debt","Physical Gold":"Gold","Digital Gold":"Gold","Sovereign Gold Bond":"Gold",Gold:"Gold","Physical Silver":"Gold","Digital Silver":"Gold",Silver:"Gold","Real Estate":"Real Estate",Property:"Real Estate",Crypto:"Alternative",Alternative:"Alternative",Equity:"Equity",Other:"Other"},Cse={Equity:"#8b5cf6",Debt:"#3b82f6",Gold:"#fbbf24","Real Estate":"#f97316",Cash:"#2dd4bf",Alternative:"#a78bfa",Other:"#6b7280"};function Ase(e){if(!e)return"Equity";const t=e.toLowerCase();return t.includes("gold")||t.includes("silver")||t.includes("commodity")?"Gold":t.includes("liquid")||t.includes("money market")||t.includes("overnight")?"Cash":t.includes("gilt")||t.includes("government securities")||t.includes("constant maturity")||t.includes("debt")||t.includes("bond")||t.includes("income fund")||t.includes("corporate bond")||t.includes("banking & psu")||t.includes("short duration")||t.includes("medium duration")||t.includes("long duration")||t.includes("short term")||t.includes("medium term")||t.includes("floater")||t.includes("floating rate")||t.includes("credit")||t.includes("accrual")||t.includes("savings fund")||t.includes("ultra short")?"Debt":t.includes("multi asset")?"Multi-Asset":t.includes("hybrid")||t.includes("balanced")||t.includes("dynamic asset")||t.includes("arbitrage")||t.includes("retirement")||t.includes("aggressive")||t.includes("conservative")||t.includes("children")||t.includes("pension")||t.includes("fund of fund")||t.includes("fof")?"Hybrid":"Equity"}const kse={buyopp:"Buy Opportunities",rebalance:"Rebalance Alerts"};function Mse(){const{theme:e,toggle:t}=mO(),{selectedMember:r,setSelectedMember:n,familyMembers:i}=Hr(),{mfPortfolios:l,mfHoldings:c,stockPortfolios:u,stockHoldings:f,otherInvList:m,liabilityList:p,assetAllocations:x}=xt(),{user:v,signOut:g}=lo(),{masked:j,toggleMask:y,mv:w}=Pa(),A=Zs(),k=Ta(),{criticalAlerts:C,upcomingReminders:M,investmentSignals:E}=_te(),[O,P]=N.useState(!1),[T,$]=N.useState(!1),[L,H]=N.useState(null),[D,Z]=N.useState(!1),K=N.useRef(null),J=N.useRef(null),R=C.length+M.length,{buyOppCount:G,buyCount:me,strongBuyCount:we,rebalanceCount:Ne}=E;N.useEffect(()=>{function z(U){K.current&&!K.current.contains(U.target)&&P(!1),J.current&&!J.current.contains(U.target)&&$(!1)}return(O||T)&&document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[O,T]);const F=i.findIndex(z=>z.memberId===r),ce=F>=0?i[F]:null,ee=N.useMemo(()=>{const z=(ye,_e)=>r==="all"?ye:ye.filter(ze=>ze[_e]===r),U={},xe=(ye,_e,ze,Et)=>{U[ye]||(U[ye]={items:[],invested:0}),U[ye].items.push({label:_e,value:ze}),U[ye].invested+=Et};z((l||[]).filter(ye=>ye.status==="Active"),"ownerId").forEach(ye=>{const _e=(c||[]).filter(W=>W.portfolioId===ye.portfolioId&&W.units>0),ze=_e.reduce((W,q)=>W+q.currentValue,0),Et=_e.reduce((W,q)=>W+q.investment,0);ze>0&&xe("mf",ye.portfolioName?.replace(/^PFL-/,"")||ye.portfolioName,ze,Et)}),z((u||[]).filter(ye=>ye.status==="Active"),"ownerId").forEach(ye=>{const _e=(f||[]).filter(W=>W.portfolioId===ye.portfolioId),ze=_e.reduce((W,q)=>W+q.currentValue,0),Et=_e.reduce((W,q)=>W+q.totalInvestment,0);ze>0&&xe("stocks",ye.portfolioName,ze,Et)}),z((m||[]).filter(ye=>ye.status==="Active"),"familyMemberId").forEach(ye=>{const _e=ye.investmentType||"Other";xe(_e,ye.investmentName||_e,ye.currentValue,ye.investedAmount||0)});const Ce=Object.entries(U).map(([ye,{items:_e,invested:ze}])=>{const Et=yse[ye]||{label:ye,color:"bg-gray-500",order:50,route:"/investments/other"},W=_e.reduce((q,re)=>q+re.value,0);return{key:ye,label:Et.label,color:Et.color,order:Et.order,route:Et.route,total:W,invested:ze,items:_e.sort((q,re)=>re.value-q.value)}}).filter(ye=>ye.total>0).sort((ye,_e)=>_e.total-ye.total),ue={Equity:0,Debt:0,Gold:0,Cash:0,"Real Estate":0,Alternative:0,Other:0},$e={};if(x)for(const ye of x)$e[ye.fundCode]=ye.assetAllocation;const Ie=(c||[]).filter(ye=>ye.units>0);(r==="all"?Ie:Ie.filter(ye=>{const _e=(l||[]).find(ze=>ze.portfolioId===ye.portfolioId);return _e&&_e.ownerId===r&&_e.status==="Active"})).forEach(ye=>{const _e=$e[ye.fundCode||ye.schemeCode];if(_e)for(const[ze,Et]of Object.entries(_e)){const W=ye.currentValue*(Et/100);ze==="Equity"?ue.Equity+=W:ze==="Debt"?ue.Debt+=W:ze==="Cash"?ue.Cash+=W:ze==="Commodities"||ze==="Gold"?ue.Gold+=W:ze==="Real Estate"?ue["Real Estate"]+=W:ue.Other+=W}else{const ze=Ase(ye.fundName);ze==="Equity"?ue.Equity+=ye.currentValue:ze==="Debt"?ue.Debt+=ye.currentValue:ze==="Cash"?ue.Cash+=ye.currentValue:ze==="Gold"?ue.Gold+=ye.currentValue:ze==="Hybrid"?(ue.Equity+=ye.currentValue*.65,ue.Debt+=ye.currentValue*.35):ze==="Multi-Asset"?(ue.Equity+=ye.currentValue*.5,ue.Debt+=ye.currentValue*.3,ue.Gold+=ye.currentValue*.2):ue.Equity+=ye.currentValue}}),Ce.filter(ye=>ye.key==="stocks").forEach(ye=>{ue.Equity+=ye.total}),Ce.filter(ye=>ye.key!=="mf"&&ye.key!=="stocks").forEach(ye=>{const _e=Sse[ye.key]||"Other";_e in ue?ue[_e]+=ye.total:ue.Other+=ye.total});const rt=Object.entries(ue).filter(([,ye])=>ye>0).map(([ye,_e])=>({cls:ye,total:_e,hex:Cse[ye]||"#6b7280"})).sort((ye,_e)=>_e.total-ye.total),jt=z((p||[]).filter(ye=>ye.status==="Active"),"familyMemberId"),Bt=jt.map(ye=>({label:ye.liabilityName||ye.liabilityType||"Loan",value:ye.outstandingBalance})),Ut=jt.reduce((ye,_e)=>ye+_e.outstandingBalance,0),Zt=Ce.reduce((ye,_e)=>ye+_e.total,0),Jt=Ce.reduce((ye,_e)=>ye+_e.invested,0);return{netWorth:Zt-Ut,totalInv:Zt,totalInvested:Jt,sections:Ce,totalLiab:Ut,liabilities:Bt,assetAllocation:rt}},[r,l,c,u,f,m,p,x]);function B(){P(!1),$(!1)}return a.jsxs("header",{className:"sticky top-0 z-30 shrink-0",children:[a.jsx("div",{className:"relative z-10 bg-[var(--bg-header)]/95 backdrop-blur-sm border-b border-[var(--border)]",children:a.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 h-14",children:[a.jsxs(Fs,{to:"/dashboard",className:"flex items-center gap-2",children:[a.jsx("img",{src:bse,alt:"CF",className:"h-9 sm:h-12 w-auto"}),a.jsxs("span",{className:"hidden sm:flex items-baseline gap-1 text-lg tracking-tight",style:{fontFamily:"'Poppins', sans-serif"},children:[a.jsx("span",{className:"font-bold text-[var(--text-primary)]",children:"Capital"}),a.jsx("span",{className:"font-extrabold text-emerald-400",children:"Friends"})]})]}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[G>0&&a.jsxs("button",{onClick:()=>{H(L==="buyopp"?null:"buyopp"),B()},className:`hidden sm:flex relative p-2 rounded-lg transition-colors ${L==="buyopp"?"text-emerald-300 bg-emerald-500/20":"text-emerald-400 hover:text-emerald-300 hover:bg-emerald-500/10"}`,title:`${G} Buy Opportunit${G===1?"y":"ies"}${we>0?` (${we} Strong)`:""}`,children:[a.jsx(Op,{size:18}),a.jsx("span",{className:"absolute -top-0.5 -right-0.5 min-w-[16px] h-4 flex items-center justify-center text-[9px] font-bold text-white bg-emerald-500 rounded-full px-1",children:G})]}),Ne>0&&a.jsxs("button",{onClick:()=>{H(L==="rebalance"?null:"rebalance"),B()},className:`hidden sm:flex relative p-2 rounded-lg transition-colors ${L==="rebalance"?"text-violet-300 bg-violet-500/20":"text-violet-400 hover:text-violet-300 hover:bg-violet-500/10"}`,title:`${Ne} fund${Ne===1?"":"s"} need rebalancing`,children:[a.jsx(JC,{size:18}),a.jsx("span",{className:"absolute -top-0.5 -right-0.5 min-w-[16px] h-4 flex items-center justify-center text-[9px] font-bold text-white bg-violet-500 rounded-full px-1",children:Ne})]}),a.jsx("button",{onClick:y,className:`hidden sm:block p-2 rounded-lg transition-colors ${j?"text-amber-400 bg-amber-500/10":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,title:j?"Data masked  click to reveal":"Mask sensitive data",children:j?a.jsx(Dp,{size:18}):a.jsx(Ep,{size:18})}),a.jsx("button",{onClick:t,className:"hidden sm:block p-2 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",title:`Switch to ${e==="dark"?"light":"dark"} mode`,children:e==="dark"?a.jsx(fy,{size:18}):a.jsx(dy,{size:18})}),R>0&&a.jsxs("div",{className:"relative",ref:J,children:[a.jsxs("button",{onClick:()=>{$(!T),P(!1)},className:"relative p-2 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx(T1,{size:18}),a.jsx("span",{className:"absolute -top-0.5 -right-0.5 min-w-[16px] h-4 flex items-center justify-center text-[9px] font-bold text-white bg-rose-500 rounded-full px-1",children:R})]}),T&&a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-xl shadow-black/20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[a.jsx("div",{className:"px-3 py-2 border-b border-[var(--border-light)]",children:a.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:"Notifications"})}),a.jsxs("div",{className:"max-h-[300px] overflow-y-auto py-1",children:[C.map((z,U)=>{const xe={critical:"bg-rose-500",warning:"bg-amber-500",info:"bg-blue-500"}[z.type],je={critical:"bg-rose-500/15 text-rose-400",warning:"bg-amber-500/15 text-amber-400",info:"bg-blue-500/15 text-blue-400"}[z.type];return a.jsxs("button",{onClick:()=>{$(!1),A(z.navigateTo)},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${xe}`}),a.jsx("span",{className:"text-xs text-[var(--text-secondary)] flex-1 text-left truncate",children:z.title}),a.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded-full shrink-0 ${je}`,children:z.badge})]},`c-${U}`)}),C.length>0&&M.length>0&&a.jsx("div",{className:"mx-3 my-1 border-t border-[var(--border-light)]"}),M.map(z=>{const U=z.days<=7?"bg-rose-500/15 text-rose-400":z.days<=15?"bg-amber-500/15 text-amber-400":"bg-slate-500/15 text-[var(--text-muted)]";return a.jsxs("button",{onClick:()=>{$(!1),A("/reminders")},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[a.jsx("span",{className:"w-2 h-2 rounded-full shrink-0 bg-amber-500"}),a.jsx("span",{className:"text-xs text-[var(--text-secondary)] flex-1 truncate",children:z.title}),a.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded-full shrink-0 ${U}`,children:z.days===0?"Today":z.days<=30?`${z.days}d`:z.dateStr})]},`r-${z.reminderId}`)})]})]})]}),a.jsxs("div",{className:"relative",ref:K,children:[a.jsxs("button",{onClick:()=>{P(!O),$(!1)},className:"flex items-center gap-1.5 pl-1 pr-2 py-1 rounded-full hover:bg-[var(--bg-hover)] transition-colors",children:[ce?a.jsx("div",{className:`w-8 h-8 rounded-full bg-gradient-to-br ${Vm[F%Vm.length]} flex items-center justify-center text-white text-xs font-bold shadow-sm`,children:ce.memberName.charAt(0)}):a.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-500 flex items-center justify-center text-white shadow-sm",children:a.jsx(Xl,{size:14})}),a.jsx(Kl,{size:14,className:`text-[var(--text-muted)] transition-transform ${O?"rotate-180":""}`})]}),O&&a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-xl shadow-black/20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[a.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)]",children:a.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:"Viewing as"})}),a.jsxs("div",{className:"py-1.5",children:[a.jsxs("button",{onClick:()=>{n("all"),P(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${r==="all"?"bg-violet-500/10":"hover:bg-[var(--bg-hover)]"}`,children:[a.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-violet-500 to-indigo-500 flex items-center justify-center text-white shadow-sm shrink-0",children:a.jsx(Xl,{size:15})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:`text-sm font-semibold truncate ${r==="all"?"text-violet-400":"text-[var(--text-primary)]"}`,children:"Everyone"}),a.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:"All family members"})]}),r==="all"&&a.jsx(md,{size:16,className:"text-violet-400 shrink-0"})]}),i.length>0&&a.jsx("div",{className:"mx-4 my-1 border-t border-[var(--border-light)]"}),i.map((z,U)=>{const xe=r===z.memberId;return a.jsxs("button",{onClick:()=>{n(z.memberId),P(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${xe?`${DD[U%DD.length]}/10`:"hover:bg-[var(--bg-hover)]"}`,children:[a.jsx("div",{className:`w-9 h-9 rounded-full bg-gradient-to-br ${Vm[U%Vm.length]} flex items-center justify-center text-white text-sm font-bold shadow-sm shrink-0`,children:z.memberName.charAt(0)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold truncate text-[var(--text-primary)]",children:w(z.memberName,"name")}),a.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:z.relationship||"Family member"})]}),xe&&a.jsx(md,{size:16,className:"text-emerald-400 shrink-0"})]},z.memberId)})]}),a.jsxs("div",{className:"sm:hidden border-t border-[var(--border-light)] py-1.5",children:[a.jsxs("button",{onClick:()=>{y(),P(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[j?a.jsx(Dp,{size:16}):a.jsx(Ep,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:j?"Unmask Data":"Mask Data"})]}),a.jsxs("button",{onClick:()=>{t(),P(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[e==="dark"?a.jsx(fy,{size:16}):a.jsx(dy,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:e==="dark"?"Light Mode":"Dark Mode"})]})]}),a.jsxs("div",{className:"border-t border-[var(--border-light)] py-1.5",children:[a.jsxs(Fs,{to:"/settings",onClick:()=>P(!1),className:"w-full flex items-center gap-3 px-4 py-2.5 text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx(_O,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:"Settings"})]}),v&&a.jsx("div",{className:"px-4 py-1.5",children:a.jsx("p",{className:"text-[11px] text-[var(--text-muted)] truncate",children:w(v.email,"email")})}),a.jsxs("button",{onClick:()=>{g(),P(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-left text-rose-400 hover:bg-rose-500/10 transition-colors",children:[a.jsx(kO,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:"Sign out"})]})]})]})]})]})]})}),a.jsx(Dte,{}),a.jsx("nav",{className:"hidden lg:block bg-[var(--bg-header)]/90 backdrop-blur-sm border-b border-[var(--border)]",children:a.jsxs("div",{className:"flex items-center px-3 sm:px-4 py-1.5",children:[a.jsx("div",{className:"flex items-center gap-1 overflow-x-auto no-scrollbar flex-1 min-w-0",children:wse.map(z=>{const U=k.pathname.startsWith(z.match);return a.jsx(Fs,{to:z.path,className:`whitespace-nowrap px-3 py-1.5 rounded-lg text-[13px] font-medium transition-colors ${U?"bg-violet-500/15 text-violet-400":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,children:z.label},z.path)})}),a.jsxs("button",{onClick:()=>{Z(!0),B()},className:`shrink-0 ml-3 flex items-center gap-1.5 px-3 py-1.5 rounded-lg transition-colors ${ee.netWorth>=0?"bg-emerald-500/10 border border-emerald-500/20 hover:bg-emerald-500/15":"bg-rose-500/10 border border-rose-500/20 hover:bg-rose-500/15"}`,children:[a.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider ${ee.netWorth>=0?"text-emerald-400/70":"text-rose-400/70"}`,children:"Net Worth"}),a.jsx("span",{className:`text-sm font-extrabold tabular-nums ${ee.netWorth>=0?"text-emerald-400":"text-rose-400"}`,children:Q(ee.netWorth)}),a.jsx(zn,{size:12,className:ee.netWorth>=0?"text-emerald-400/60":"text-rose-400/60"})]})]})}),a.jsxs("div",{className:"lg:hidden bg-[var(--bg-header)]/90 backdrop-blur-sm border-b border-[var(--border)] px-3 py-1.5 flex items-center gap-2 justify-end",children:[G>0&&a.jsxs("button",{onClick:()=>{H(L==="buyopp"?null:"buyopp"),B()},className:"relative p-1.5 rounded-lg text-emerald-400 hover:bg-emerald-500/10 transition-colors",children:[a.jsx(Op,{size:16}),a.jsx("span",{className:"absolute -top-0.5 -right-0.5 min-w-[14px] h-3.5 flex items-center justify-center text-[8px] font-bold text-white bg-emerald-500 rounded-full px-0.5",children:G})]}),Ne>0&&a.jsxs("button",{onClick:()=>{H(L==="rebalance"?null:"rebalance"),B()},className:"relative p-1.5 rounded-lg text-violet-400 hover:bg-violet-500/10 transition-colors",children:[a.jsx(JC,{size:16}),a.jsx("span",{className:"absolute -top-0.5 -right-0.5 min-w-[14px] h-3.5 flex items-center justify-center text-[8px] font-bold text-white bg-violet-500 rounded-full px-0.5",children:Ne})]}),a.jsxs("button",{onClick:()=>{Z(!0),B()},className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg transition-colors ${ee.netWorth>=0?"bg-emerald-500/10 border border-emerald-500/20 hover:bg-emerald-500/15":"bg-rose-500/10 border border-rose-500/20 hover:bg-rose-500/15"}`,children:[a.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider ${ee.netWorth>=0?"text-emerald-400/70":"text-rose-400/70"}`,children:"Net Worth"}),a.jsx("span",{className:`text-sm font-extrabold tabular-nums ${ee.netWorth>=0?"text-emerald-400":"text-rose-400"}`,children:Q(ee.netWorth)}),a.jsx(zn,{size:12,className:ee.netWorth>=0?"text-emerald-400/60":"text-rose-400/60"})]})]}),D&&(()=>{const z=ee.sections.map(U=>({name:U.label,value:U.total,fill:_D(U.key),pct:ee.totalInv>0?U.total/ee.totalInv*100:0,color:U.color,route:U.route}));return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-3",onClick:()=>Z(!1),children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),a.jsxs("div",{className:"relative w-full md:w-auto md:min-w-[720px] md:max-w-4xl max-h-[85vh] overflow-y-auto bg-[var(--bg-card)] rounded-2xl border border-[var(--border)] shadow-2xl shadow-black/40",onClick:U=>U.stopPropagation(),children:[a.jsx("button",{onClick:()=>Z(!1),className:"absolute top-4 right-4 z-20 p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors",children:a.jsx(si,{size:18,className:"text-[var(--text-secondary)]"})}),ee.assetAllocation.length>0&&a.jsxs("div",{className:"px-6 pt-6 pb-3 border-b border-[var(--border-light)]",children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider text-center mb-2",children:"Asset Allocation"}),a.jsx("div",{className:"flex h-3 rounded-full overflow-hidden",children:ee.assetAllocation.map(U=>a.jsx("div",{style:{width:`${U.total/ee.totalInv*100}%`,backgroundColor:U.hex},title:`${U.cls}: ${(U.total/ee.totalInv*100).toFixed(1)}%`},U.cls))}),a.jsx("div",{className:"flex flex-wrap justify-center gap-x-4 gap-y-1 mt-2",children:ee.assetAllocation.map(U=>a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:U.hex}}),a.jsxs("span",{className:"text-[10px] text-[var(--text-muted)] tabular-nums",children:[U.cls," ",(U.total/ee.totalInv*100).toFixed(0),"%"]})]},U.cls))})]}),a.jsxs("div",{className:"flex flex-col md:flex-row",children:[a.jsxs("div",{className:"flex-shrink-0 md:w-[340px] pt-6 pb-4 md:pb-6 px-6 flex flex-col items-center justify-center md:border-r md:border-[var(--border-light)]",children:[a.jsxs("div",{className:"relative w-[200px] h-[200px] md:w-[260px] md:h-[260px]",children:[a.jsx(Z1,{width:"100%",height:"100%",children:a.jsxs(NN,{children:[a.jsx(Ex,{data:z,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:"55%",outerRadius:"85%",paddingAngle:3,stroke:"none",isAnimationActive:!1,activeShape:null,children:z.map((U,xe)=>a.jsx(Gc,{fill:U.fill},xe))}),a.jsx(hN,{content:({active:U,payload:xe})=>{if(!U||!xe?.[0])return null;const je=xe[0].payload;return a.jsxs("div",{className:"bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-2.5 py-1.5 shadow-lg text-xs",children:[a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:je.name}),a.jsxs("span",{className:"text-[var(--text-muted)] ml-1.5",children:[Q(je.value)," (",je.pct.toFixed(1),"%)"]})]})}})]})}),a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider",children:"Net Worth"}),a.jsx("p",{className:`text-lg md:text-xl font-bold tabular-nums ${ee.netWorth>=0?"text-emerald-400":"text-rose-400"}`,children:Q(ee.netWorth)})]})]}),a.jsxs("div",{className:"w-full max-w-[280px] mt-4 grid grid-cols-2 gap-2",children:[a.jsxs("div",{className:"rounded-lg px-3 py-2.5 text-center",style:{backgroundColor:"rgba(139,92,246,0.08)"},children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider",children:"Investments"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums mt-0.5",children:Q(ee.totalInv)}),ee.totalInvested>0&&a.jsxs("p",{className:"text-[10px] tabular-nums mt-0.5",style:{color:ee.totalInv>=ee.totalInvested?"#34d399":"#f87171"},children:[ee.totalInv>=ee.totalInvested?"+":"",Q(ee.totalInv-ee.totalInvested)," P&L"]})]}),ee.totalLiab>0?a.jsxs("div",{className:"rounded-lg px-3 py-2.5 text-center",style:{backgroundColor:"rgba(244,63,94,0.08)"},children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider",children:"Liabilities"}),a.jsx("p",{className:"text-sm font-bold text-rose-400 tabular-nums mt-0.5",children:Q(ee.totalLiab)}),a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)] tabular-nums mt-0.5",children:[ee.liabilities.length," ",ee.liabilities.length===1?"loan":"loans"]})]}):a.jsxs("div",{className:"rounded-lg px-3 py-2.5 text-center",style:{backgroundColor:"rgba(52,211,153,0.08)"},children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider",children:"Invested"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums mt-0.5",children:Q(ee.totalInvested)}),ee.totalInvested>0&&a.jsxs("p",{className:"text-[10px] tabular-nums mt-0.5",style:{color:ee.totalInv>=ee.totalInvested?"#34d399":"#f87171"},children:[((ee.totalInv-ee.totalInvested)/ee.totalInvested*100).toFixed(1),"% returns"]})]})]})]}),a.jsxs("div",{className:"flex-1 min-w-0 px-3 md:px-5 pt-4 md:pt-6 pb-5 flex flex-col justify-center",children:[a.jsxs("div",{className:"space-y-2",children:[ee.sections.map(U=>{const xe=ee.totalInv>0?U.total/ee.totalInv*100:0,je=_D(U.key);return a.jsxs(Fs,{to:U.route,onClick:()=>Z(!1),className:"flex items-center gap-2.5 py-2.5 px-3 rounded-xl transition-colors group",style:{backgroundColor:`${je}12`},children:[a.jsx("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:je}}),a.jsx("span",{className:"text-[13px] font-medium text-[var(--text-primary)] flex-1 min-w-0 truncate",children:U.label}),a.jsx("span",{className:"text-[13px] font-bold text-[var(--text-primary)] tabular-nums shrink-0 w-[80px] text-right",children:Q(U.total)}),a.jsxs("span",{className:"text-[10px] font-medium tabular-nums shrink-0 w-[40px] text-center py-0.5 rounded-full",style:{backgroundColor:`${je}20`,color:je},children:[xe.toFixed(0),"%"]})]},U.key)}),ee.totalLiab>0&&a.jsxs(Fs,{to:"/liabilities",onClick:()=>Z(!1),className:"flex items-center gap-2.5 py-2.5 px-3 rounded-xl transition-colors group bg-rose-500/[0.07]",children:[a.jsx("span",{className:"w-2 h-2 rounded-full shrink-0 bg-rose-500"}),a.jsxs("span",{className:"text-[13px] font-medium text-[var(--text-primary)] flex-1 min-w-0",children:[ee.liabilities.length," ",ee.liabilities.length===1?"Loan":"Loans"]}),a.jsxs("span",{className:"text-[13px] font-bold text-rose-400 tabular-nums shrink-0",children:["",Q(ee.totalLiab)]})]})]}),a.jsxs("div",{className:"mt-4 pt-3 mx-1 border-t border-[var(--border-light)] flex items-center justify-between",children:[a.jsx("span",{className:"text-[10px] uppercase tracking-wider text-[var(--text-dim)]",children:"Net Worth"}),a.jsx("span",{className:`text-base font-bold tabular-nums ${ee.netWorth>=0?"text-emerald-400":"text-rose-400"}`,children:Q(ee.netWorth)})]})]})]}),ee.assetAllocation.length>0&&a.jsx("div",{className:"px-6 py-2.5 border-t border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] text-center",children:"Approximate. MF splits are estimated from fund names. Add Morningstar data in Fund Breakdown for accuracy."})})]})]})})(),L&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-16 sm:pt-24 px-3",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>H(null)}),a.jsxs("div",{className:"relative w-full max-w-3xl max-h-[75vh] rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-2xl shadow-black/40 overflow-hidden flex flex-col animate-in fade-in slide-in-from-top-4 duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-[var(--border-light)] shrink-0",children:[a.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:kse[L]}),a.jsx("button",{onClick:()=>H(null),className:"p-1.5 rounded-lg hover:bg-[var(--bg-hover)] text-[var(--text-dim)] transition-colors",children:a.jsx(si,{size:16})})]}),a.jsxs("div",{className:"overflow-y-auto p-4",children:[L==="buyopp"&&a.jsx(Z4,{}),L==="rebalance"&&a.jsx(FI,{})]})]})]})]})}const Ese=[{label:"Dashboard",icon:bB,path:"/dashboard"},{label:"Invest",icon:mp,path:"/investments/mutual-funds"},{label:"Accounts",icon:$h,path:"/accounts/bank"},{label:"Goals",icon:Id,path:"/goals"},{label:"More",icon:Jz,path:"/more"}];function Dse(){return a.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-40 bg-[var(--bg-sidebar)] border-t border-[var(--border)] safe-bottom",children:a.jsx("div",{className:"flex items-center justify-around h-[56px]",children:Ese.map(({label:e,icon:t,path:r})=>a.jsx(O_,{to:r,className:({isActive:n})=>`relative flex flex-col items-center justify-center gap-0.5 w-full h-full text-xs font-medium transition-colors ${n?"text-[var(--sidebar-active-text)]":"text-[var(--text-dim)]"}`,children:({isActive:n})=>a.jsxs(a.Fragment,{children:[n&&a.jsx("span",{className:"absolute top-0 w-10 h-[2.5px] bg-[var(--sidebar-active-text)] rounded-b-full"}),a.jsx("div",{className:`flex items-center justify-center w-9 h-9 rounded-xl transition-colors ${n?"bg-[var(--sidebar-active-bg)]":""}`,children:a.jsx(t,{size:19,strokeWidth:n?2.2:1.5})}),a.jsx("span",{className:n?"font-semibold":"",children:e})]})},r))})})}const _se="/logo-new.png";function Ih(){return a.jsx("div",{className:"flex h-dvh items-center justify-center bg-[var(--bg-base)]",children:a.jsxs("div",{className:"flex flex-col items-center gap-6",children:[a.jsx("img",{src:_se,alt:"Capital Friends",className:"h-16 w-auto animate-pulse"}),a.jsx("div",{className:"w-40 h-1 rounded-full bg-[var(--border)] overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-violet-500 to-cyan-500 animate-loading-bar"})})]})})}var Ose=Object.defineProperty,Rh=Object.getOwnPropertySymbols,zI=Object.prototype.hasOwnProperty,BI=Object.prototype.propertyIsEnumerable,OD=(e,t,r)=>t in e?Ose(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d1=(e,t)=>{for(var r in t||(t={}))zI.call(t,r)&&OD(e,r,t[r]);if(Rh)for(var r of Rh(t))BI.call(t,r)&&OD(e,r,t[r]);return e},f1=(e,t)=>{var r={};for(var n in e)zI.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Rh)for(var n of Rh(e))t.indexOf(n)<0&&BI.call(e,n)&&(r[n]=e[n]);return r};var so;(e=>{const t=class pt{constructor(f,m,p,x){if(this.version=f,this.errorCorrectionLevel=m,this.modules=[],this.isFunction=[],f<pt.MIN_VERSION||f>pt.MAX_VERSION)throw new RangeError("Version value out of range");if(x<-1||x>7)throw new RangeError("Mask value out of range");this.size=f*4+17;let v=[];for(let j=0;j<this.size;j++)v.push(!1);for(let j=0;j<this.size;j++)this.modules.push(v.slice()),this.isFunction.push(v.slice());this.drawFunctionPatterns();const g=this.addEccAndInterleave(p);if(this.drawCodewords(g),x==-1){let j=1e9;for(let y=0;y<8;y++){this.applyMask(y),this.drawFormatBits(y);const w=this.getPenaltyScore();w<j&&(x=y,j=w),this.applyMask(y)}}i(0<=x&&x<=7),this.mask=x,this.applyMask(x),this.drawFormatBits(x),this.isFunction=[]}static encodeText(f,m){const p=e.QrSegment.makeSegments(f);return pt.encodeSegments(p,m)}static encodeBinary(f,m){const p=e.QrSegment.makeBytes(f);return pt.encodeSegments([p],m)}static encodeSegments(f,m,p=1,x=40,v=-1,g=!0){if(!(pt.MIN_VERSION<=p&&p<=x&&x<=pt.MAX_VERSION)||v<-1||v>7)throw new RangeError("Invalid value");let j,y;for(j=p;;j++){const C=pt.getNumDataCodewords(j,m)*8,M=c.getTotalBits(f,j);if(M<=C){y=M;break}if(j>=x)throw new RangeError("Data too long")}for(const C of[pt.Ecc.MEDIUM,pt.Ecc.QUARTILE,pt.Ecc.HIGH])g&&y<=pt.getNumDataCodewords(j,C)*8&&(m=C);let w=[];for(const C of f){r(C.mode.modeBits,4,w),r(C.numChars,C.mode.numCharCountBits(j),w);for(const M of C.getData())w.push(M)}i(w.length==y);const A=pt.getNumDataCodewords(j,m)*8;i(w.length<=A),r(0,Math.min(4,A-w.length),w),r(0,(8-w.length%8)%8,w),i(w.length%8==0);for(let C=236;w.length<A;C^=253)r(C,8,w);let k=[];for(;k.length*8<w.length;)k.push(0);return w.forEach((C,M)=>k[M>>>3]|=C<<7-(M&7)),new pt(j,m,k,v)}getModule(f,m){return 0<=f&&f<this.size&&0<=m&&m<this.size&&this.modules[m][f]}getModules(){return this.modules}drawFunctionPatterns(){for(let p=0;p<this.size;p++)this.setFunctionModule(6,p,p%2==0),this.setFunctionModule(p,6,p%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const f=this.getAlignmentPatternPositions(),m=f.length;for(let p=0;p<m;p++)for(let x=0;x<m;x++)p==0&&x==0||p==0&&x==m-1||p==m-1&&x==0||this.drawAlignmentPattern(f[p],f[x]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(f){const m=this.errorCorrectionLevel.formatBits<<3|f;let p=m;for(let v=0;v<10;v++)p=p<<1^(p>>>9)*1335;const x=(m<<10|p)^21522;i(x>>>15==0);for(let v=0;v<=5;v++)this.setFunctionModule(8,v,n(x,v));this.setFunctionModule(8,7,n(x,6)),this.setFunctionModule(8,8,n(x,7)),this.setFunctionModule(7,8,n(x,8));for(let v=9;v<15;v++)this.setFunctionModule(14-v,8,n(x,v));for(let v=0;v<8;v++)this.setFunctionModule(this.size-1-v,8,n(x,v));for(let v=8;v<15;v++)this.setFunctionModule(8,this.size-15+v,n(x,v));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let f=this.version;for(let p=0;p<12;p++)f=f<<1^(f>>>11)*7973;const m=this.version<<12|f;i(m>>>18==0);for(let p=0;p<18;p++){const x=n(m,p),v=this.size-11+p%3,g=Math.floor(p/3);this.setFunctionModule(v,g,x),this.setFunctionModule(g,v,x)}}drawFinderPattern(f,m){for(let p=-4;p<=4;p++)for(let x=-4;x<=4;x++){const v=Math.max(Math.abs(x),Math.abs(p)),g=f+x,j=m+p;0<=g&&g<this.size&&0<=j&&j<this.size&&this.setFunctionModule(g,j,v!=2&&v!=4)}}drawAlignmentPattern(f,m){for(let p=-2;p<=2;p++)for(let x=-2;x<=2;x++)this.setFunctionModule(f+x,m+p,Math.max(Math.abs(x),Math.abs(p))!=1)}setFunctionModule(f,m,p){this.modules[m][f]=p,this.isFunction[m][f]=!0}addEccAndInterleave(f){const m=this.version,p=this.errorCorrectionLevel;if(f.length!=pt.getNumDataCodewords(m,p))throw new RangeError("Invalid argument");const x=pt.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][m],v=pt.ECC_CODEWORDS_PER_BLOCK[p.ordinal][m],g=Math.floor(pt.getNumRawDataModules(m)/8),j=x-g%x,y=Math.floor(g/x);let w=[];const A=pt.reedSolomonComputeDivisor(v);for(let C=0,M=0;C<x;C++){let E=f.slice(M,M+y-v+(C<j?0:1));M+=E.length;const O=pt.reedSolomonComputeRemainder(E,A);C<j&&E.push(0),w.push(E.concat(O))}let k=[];for(let C=0;C<w[0].length;C++)w.forEach((M,E)=>{(C!=y-v||E>=j)&&k.push(M[C])});return i(k.length==g),k}drawCodewords(f){if(f.length!=Math.floor(pt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let m=0;for(let p=this.size-1;p>=1;p-=2){p==6&&(p=5);for(let x=0;x<this.size;x++)for(let v=0;v<2;v++){const g=p-v,y=(p+1&2)==0?this.size-1-x:x;!this.isFunction[y][g]&&m<f.length*8&&(this.modules[y][g]=n(f[m>>>3],7-(m&7)),m++)}}i(m==f.length*8)}applyMask(f){if(f<0||f>7)throw new RangeError("Mask value out of range");for(let m=0;m<this.size;m++)for(let p=0;p<this.size;p++){let x;switch(f){case 0:x=(p+m)%2==0;break;case 1:x=m%2==0;break;case 2:x=p%3==0;break;case 3:x=(p+m)%3==0;break;case 4:x=(Math.floor(p/3)+Math.floor(m/2))%2==0;break;case 5:x=p*m%2+p*m%3==0;break;case 6:x=(p*m%2+p*m%3)%2==0;break;case 7:x=((p+m)%2+p*m%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[m][p]&&x&&(this.modules[m][p]=!this.modules[m][p])}}getPenaltyScore(){let f=0;for(let v=0;v<this.size;v++){let g=!1,j=0,y=[0,0,0,0,0,0,0];for(let w=0;w<this.size;w++)this.modules[v][w]==g?(j++,j==5?f+=pt.PENALTY_N1:j>5&&f++):(this.finderPenaltyAddHistory(j,y),g||(f+=this.finderPenaltyCountPatterns(y)*pt.PENALTY_N3),g=this.modules[v][w],j=1);f+=this.finderPenaltyTerminateAndCount(g,j,y)*pt.PENALTY_N3}for(let v=0;v<this.size;v++){let g=!1,j=0,y=[0,0,0,0,0,0,0];for(let w=0;w<this.size;w++)this.modules[w][v]==g?(j++,j==5?f+=pt.PENALTY_N1:j>5&&f++):(this.finderPenaltyAddHistory(j,y),g||(f+=this.finderPenaltyCountPatterns(y)*pt.PENALTY_N3),g=this.modules[w][v],j=1);f+=this.finderPenaltyTerminateAndCount(g,j,y)*pt.PENALTY_N3}for(let v=0;v<this.size-1;v++)for(let g=0;g<this.size-1;g++){const j=this.modules[v][g];j==this.modules[v][g+1]&&j==this.modules[v+1][g]&&j==this.modules[v+1][g+1]&&(f+=pt.PENALTY_N2)}let m=0;for(const v of this.modules)m=v.reduce((g,j)=>g+(j?1:0),m);const p=this.size*this.size,x=Math.ceil(Math.abs(m*20-p*10)/p)-1;return i(0<=x&&x<=9),f+=x*pt.PENALTY_N4,i(0<=f&&f<=2568888),f}getAlignmentPatternPositions(){if(this.version==1)return[];{const f=Math.floor(this.version/7)+2,m=this.version==32?26:Math.ceil((this.version*4+4)/(f*2-2))*2;let p=[6];for(let x=this.size-7;p.length<f;x-=m)p.splice(1,0,x);return p}}static getNumRawDataModules(f){if(f<pt.MIN_VERSION||f>pt.MAX_VERSION)throw new RangeError("Version number out of range");let m=(16*f+128)*f+64;if(f>=2){const p=Math.floor(f/7)+2;m-=(25*p-10)*p-55,f>=7&&(m-=36)}return i(208<=m&&m<=29648),m}static getNumDataCodewords(f,m){return Math.floor(pt.getNumRawDataModules(f)/8)-pt.ECC_CODEWORDS_PER_BLOCK[m.ordinal][f]*pt.NUM_ERROR_CORRECTION_BLOCKS[m.ordinal][f]}static reedSolomonComputeDivisor(f){if(f<1||f>255)throw new RangeError("Degree out of range");let m=[];for(let x=0;x<f-1;x++)m.push(0);m.push(1);let p=1;for(let x=0;x<f;x++){for(let v=0;v<m.length;v++)m[v]=pt.reedSolomonMultiply(m[v],p),v+1<m.length&&(m[v]^=m[v+1]);p=pt.reedSolomonMultiply(p,2)}return m}static reedSolomonComputeRemainder(f,m){let p=m.map(x=>0);for(const x of f){const v=x^p.shift();p.push(0),m.forEach((g,j)=>p[j]^=pt.reedSolomonMultiply(g,v))}return p}static reedSolomonMultiply(f,m){if(f>>>8||m>>>8)throw new RangeError("Byte out of range");let p=0;for(let x=7;x>=0;x--)p=p<<1^(p>>>7)*285,p^=(m>>>x&1)*f;return i(p>>>8==0),p}finderPenaltyCountPatterns(f){const m=f[1];i(m<=this.size*3);const p=m>0&&f[2]==m&&f[3]==m*3&&f[4]==m&&f[5]==m;return(p&&f[0]>=m*4&&f[6]>=m?1:0)+(p&&f[6]>=m*4&&f[0]>=m?1:0)}finderPenaltyTerminateAndCount(f,m,p){return f&&(this.finderPenaltyAddHistory(m,p),m=0),m+=this.size,this.finderPenaltyAddHistory(m,p),this.finderPenaltyCountPatterns(p)}finderPenaltyAddHistory(f,m){m[0]==0&&(f+=this.size),m.pop(),m.unshift(f)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function r(u,f,m){if(f<0||f>31||u>>>f)throw new RangeError("Value out of range");for(let p=f-1;p>=0;p--)m.push(u>>>p&1)}function n(u,f){return(u>>>f&1)!=0}function i(u){if(!u)throw new Error("Assertion error")}const l=class mr{constructor(f,m,p){if(this.mode=f,this.numChars=m,this.bitData=p,m<0)throw new RangeError("Invalid argument");this.bitData=p.slice()}static makeBytes(f){let m=[];for(const p of f)r(p,8,m);return new mr(mr.Mode.BYTE,f.length,m)}static makeNumeric(f){if(!mr.isNumeric(f))throw new RangeError("String contains non-numeric characters");let m=[];for(let p=0;p<f.length;){const x=Math.min(f.length-p,3);r(parseInt(f.substring(p,p+x),10),x*3+1,m),p+=x}return new mr(mr.Mode.NUMERIC,f.length,m)}static makeAlphanumeric(f){if(!mr.isAlphanumeric(f))throw new RangeError("String contains unencodable characters in alphanumeric mode");let m=[],p;for(p=0;p+2<=f.length;p+=2){let x=mr.ALPHANUMERIC_CHARSET.indexOf(f.charAt(p))*45;x+=mr.ALPHANUMERIC_CHARSET.indexOf(f.charAt(p+1)),r(x,11,m)}return p<f.length&&r(mr.ALPHANUMERIC_CHARSET.indexOf(f.charAt(p)),6,m),new mr(mr.Mode.ALPHANUMERIC,f.length,m)}static makeSegments(f){return f==""?[]:mr.isNumeric(f)?[mr.makeNumeric(f)]:mr.isAlphanumeric(f)?[mr.makeAlphanumeric(f)]:[mr.makeBytes(mr.toUtf8ByteArray(f))]}static makeEci(f){let m=[];if(f<0)throw new RangeError("ECI assignment value out of range");if(f<128)r(f,8,m);else if(f<16384)r(2,2,m),r(f,14,m);else if(f<1e6)r(6,3,m),r(f,21,m);else throw new RangeError("ECI assignment value out of range");return new mr(mr.Mode.ECI,0,m)}static isNumeric(f){return mr.NUMERIC_REGEX.test(f)}static isAlphanumeric(f){return mr.ALPHANUMERIC_REGEX.test(f)}getData(){return this.bitData.slice()}static getTotalBits(f,m){let p=0;for(const x of f){const v=x.mode.numCharCountBits(m);if(x.numChars>=1<<v)return 1/0;p+=4+v+x.bitData.length}return p}static toUtf8ByteArray(f){f=encodeURI(f);let m=[];for(let p=0;p<f.length;p++)f.charAt(p)!="%"?m.push(f.charCodeAt(p)):(m.push(parseInt(f.substring(p+1,p+3),16)),p+=2);return m}};l.NUMERIC_REGEX=/^[0-9]*$/,l.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,l.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let c=l;e.QrSegment=l})(so||(so={}));(e=>{(t=>{const r=class{constructor(i,l){this.ordinal=i,this.formatBits=l}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(so||(so={}));(e=>{(t=>{const r=class{constructor(i,l){this.modeBits=i,this.numBitsCharCount=l}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(so||(so={}));var lc=so;var Tse={L:lc.QrCode.Ecc.LOW,M:lc.QrCode.Ecc.MEDIUM,Q:lc.QrCode.Ecc.QUARTILE,H:lc.QrCode.Ecc.HIGH},$I=128,HI="L",qI="#FFFFFF",UI="#000000",YI=!1,VI=1,Pse=4,Ise=0,Rse=.1;function GI(e,t=0){const r=[];return e.forEach(function(n,i){let l=null;n.forEach(function(c,u){if(!c&&l!==null){r.push(`M${l+t} ${i+t}h${u-l}v1H${l+t}z`),l=null;return}if(u===n.length-1){if(!c)return;l===null?r.push(`M${u+t},${i+t} h1v1H${u+t}z`):r.push(`M${l+t},${i+t} h${u+1-l}v1H${l+t}z`);return}c&&l===null&&(l=u)})}),r.join("")}function WI(e,t){return e.slice().map((r,n)=>n<t.y||n>=t.y+t.h?r:r.map((i,l)=>l<t.x||l>=t.x+t.w?i:!1))}function Lse(e,t,r,n){if(n==null)return null;const i=e.length+r*2,l=Math.floor(t*Rse),c=i/t,u=(n.width||l)*c,f=(n.height||l)*c,m=n.x==null?e.length/2-u/2:n.x*c,p=n.y==null?e.length/2-f/2:n.y*c,x=n.opacity==null?1:n.opacity;let v=null;if(n.excavate){let j=Math.floor(m),y=Math.floor(p),w=Math.ceil(u+m-j),A=Math.ceil(f+p-y);v={x:j,y,w,h:A}}const g=n.crossOrigin;return{x:m,y:p,h:f,w:u,excavation:v,opacity:x,crossOrigin:g}}function Fse(e,t){return t!=null?Math.max(Math.floor(t),0):e?Pse:Ise}function KI({value:e,level:t,minVersion:r,includeMargin:n,marginSize:i,imageSettings:l,size:c,boostLevel:u}){let f=se.useMemo(()=>{const j=(Array.isArray(e)?e:[e]).reduce((y,w)=>(y.push(...lc.QrSegment.makeSegments(w)),y),[]);return lc.QrCode.encodeSegments(j,Tse[t],r,void 0,void 0,u)},[e,t,r,u]);const{cells:m,margin:p,numCells:x,calculatedImageSettings:v}=se.useMemo(()=>{let g=f.getModules();const j=Fse(n,i),y=g.length+j*2,w=Lse(g,c,j,l);return{cells:g,margin:j,numCells:y,calculatedImageSettings:w}},[f,c,l,n,i]);return{qrcode:f,margin:p,cells:m,numCells:x,calculatedImageSettings:v}}var zse=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),Bse=se.forwardRef(function(t,r){const n=t,{value:i,size:l=$I,level:c=HI,bgColor:u=qI,fgColor:f=UI,includeMargin:m=YI,minVersion:p=VI,boostLevel:x,marginSize:v,imageSettings:g}=n,y=f1(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:w}=y,A=f1(y,["style"]),k=g?.src,C=se.useRef(null),M=se.useRef(null),E=se.useCallback(K=>{C.current=K,typeof r=="function"?r(K):r&&(r.current=K)},[r]),[O,P]=se.useState(!1),{margin:T,cells:$,numCells:L,calculatedImageSettings:H}=KI({value:i,level:c,minVersion:p,boostLevel:x,includeMargin:m,marginSize:v,imageSettings:g,size:l});se.useEffect(()=>{if(C.current!=null){const K=C.current,J=K.getContext("2d");if(!J)return;let R=$;const G=M.current,me=H!=null&&G!==null&&G.complete&&G.naturalHeight!==0&&G.naturalWidth!==0;me&&H.excavation!=null&&(R=WI($,H.excavation));const we=window.devicePixelRatio||1;K.height=K.width=l*we;const Ne=l/L*we;J.scale(Ne,Ne),J.fillStyle=u,J.fillRect(0,0,L,L),J.fillStyle=f,zse?J.fill(new Path2D(GI(R,T))):$.forEach(function(F,ce){F.forEach(function(ee,B){ee&&J.fillRect(B+T,ce+T,1,1)})}),H&&(J.globalAlpha=H.opacity),me&&J.drawImage(G,H.x+T,H.y+T,H.w,H.h)}}),se.useEffect(()=>{P(!1)},[k]);const D=d1({height:l,width:l},w);let Z=null;return k!=null&&(Z=se.createElement("img",{src:k,key:k,style:{display:"none"},onLoad:()=>{P(!0)},ref:M,crossOrigin:H?.crossOrigin})),se.createElement(se.Fragment,null,se.createElement("canvas",d1({style:D,height:l,width:l,ref:E,role:"img"},A)),Z)});Bse.displayName="QRCodeCanvas";var QI=se.forwardRef(function(t,r){const n=t,{value:i,size:l=$I,level:c=HI,bgColor:u=qI,fgColor:f=UI,includeMargin:m=YI,minVersion:p=VI,boostLevel:x,title:v,marginSize:g,imageSettings:j}=n,y=f1(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:w,cells:A,numCells:k,calculatedImageSettings:C}=KI({value:i,level:c,minVersion:p,boostLevel:x,includeMargin:m,marginSize:g,imageSettings:j,size:l});let M=A,E=null;j!=null&&C!=null&&(C.excavation!=null&&(M=WI(A,C.excavation)),E=se.createElement("image",{href:j.src,height:C.h,width:C.w,x:C.x+w,y:C.y+w,preserveAspectRatio:"none",opacity:C.opacity,crossOrigin:C.crossOrigin}));const O=GI(M,w);return se.createElement("svg",d1({height:l,width:l,viewBox:`0 0 ${k} ${k}`,ref:r,role:"img"},y),!!v&&se.createElement("title",null,v),se.createElement("path",{fill:u,d:`M0,0 h${k}v${k}H0z`,shapeRendering:"crispEdges"}),se.createElement("path",{fill:f,d:O,shapeRendering:"crispEdges"}),E)});QI.displayName="QRCodeSVG";const m1="jagadeeshmanne.hdfc@kphdfc",$se=`upi://pay?pa=${m1}&pn=Jagadeesh%20Manne&cu=INR`;function BN({open:e,onClose:t}){const[r,n]=N.useState(!1);if(!e)return null;function i(){navigator.clipboard.writeText(m1).then(()=>{n(!0),setTimeout(()=>n(!1),2e3)})}return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",onClick:t,children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),a.jsxs("div",{className:"relative w-full max-w-sm mx-4 bg-[var(--bg-card)] rounded-2xl border border-[var(--border)] overflow-hidden",onClick:l=>l.stopPropagation(),children:[a.jsx("button",{onClick:t,className:"absolute top-3 right-3 z-20 p-1.5 rounded-full bg-[var(--bg-inset)] hover:bg-[var(--bg-hover)]",children:a.jsx(si,{size:16,className:"text-[var(--text-muted)]"})}),a.jsxs("div",{className:"pt-6 pb-5 px-6 text-center",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-pink-500/20 flex items-center justify-center mx-auto mb-3",children:a.jsx(Ql,{size:24,className:"text-pink-400"})}),a.jsx("h3",{className:"text-lg font-bold text-[var(--text-primary)]",children:"Support the Developer"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"Capital Friends is free and always will be. If it helps your family, a small donation means a lot!"}),a.jsx("div",{className:"mt-4 bg-white rounded-xl p-3 inline-block mx-auto",children:a.jsx(QI,{value:$se,size:192,level:"M"})}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-3",children:"Scan with any UPI app"}),a.jsxs("div",{className:"mt-3 flex items-center justify-center gap-2",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border)]",children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"UPI ID"}),a.jsx("p",{className:"text-sm font-mono font-semibold text-[var(--text-primary)] select-all",children:m1})]}),a.jsx("button",{onClick:i,className:"shrink-0 px-3 py-2.5 rounded-lg text-xs font-semibold bg-pink-500/15 text-pink-400 hover:bg-pink-500/25 transition-colors flex items-center gap-1.5",children:r?a.jsxs(a.Fragment,{children:[a.jsx(md,{size:14})," Copied"]}):a.jsxs(a.Fragment,{children:[a.jsx(qz,{size:14})," Copy"]})})]}),a.jsxs("p",{className:"text-[11px] text-[var(--text-dim)] mt-4",children:["Developed with ",""," by ",a.jsx("span",{className:"font-semibold text-[var(--text-muted)]",children:"Jagadeesh Manne"})]})]})]})]})}function Hse(){const{loading:e,error:t}=xt(),[r,n]=N.useState(!1),[i,l]=N.useState(()=>{try{return sessionStorage.getItem("cf_donate_dismissed")==="1"}catch{return!1}});function c(){l(!0);try{sessionStorage.setItem("cf_donate_dismissed","1")}catch{}}return e?a.jsx(Ih,{}):t?a.jsx("div",{className:"flex h-dvh items-center justify-center bg-[var(--bg-base)]",children:a.jsxs("div",{className:"flex flex-col items-center gap-4 text-center px-6",children:[a.jsx("img",{src:"/logo-new.png",alt:"Capital Friends",className:"h-16 w-auto opacity-50"}),a.jsx("p",{className:"text-rose-400 text-sm font-medium",children:t}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 text-sm font-medium rounded-lg bg-violet-600 hover:bg-violet-500 text-white transition-colors",children:"Retry"})]})}):a.jsxs("div",{className:"flex flex-col h-dvh bg-[var(--bg-base)] overflow-hidden",children:[a.jsx(Mse,{}),a.jsxs("main",{className:"flex-1 overflow-y-auto overscroll-contain pb-20 lg:pb-0",children:[a.jsx("div",{className:"px-3 sm:px-4 py-3 sm:py-4 w-full max-w-7xl mx-auto",children:a.jsx(M_,{})}),a.jsx("footer",{className:"border-t border-[var(--border-light)] mt-4",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 flex items-center justify-between gap-3 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsxs(Fs,{to:"/about",className:"flex items-center gap-1.5 no-underline shrink-0",children:[a.jsx("img",{src:"/logo-new.png",alt:"Capital Friends",className:"h-5 w-auto"}),a.jsxs("span",{style:{fontFamily:"'Poppins', sans-serif",fontSize:"11px"},children:[a.jsx("span",{className:"font-bold text-[var(--text-primary)]",children:"Capital"}),a.jsx("span",{className:"font-extrabold text-emerald-400",children:"Friends"})]}),a.jsx("span",{className:"text-[9px] font-semibold text-[var(--text-dim)] px-1.5 py-0.5 rounded bg-[var(--bg-inset)] border border-[var(--border-light)]",children:"v1.0"})]}),a.jsx("span",{className:"text-[var(--border)] text-[10px]",children:""}),a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["Made with ",""," by ",a.jsx("span",{className:"font-semibold text-[var(--text-muted)]",children:"Jagadeesh"})]})]}),a.jsxs("button",{onClick:()=>{n(!0),c()},className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg transition-colors shrink-0",style:{background:"rgba(245,158,11,0.08)",border:"1px solid rgba(245,158,11,0.15)"},children:[a.jsx(Ql,{size:12,className:"text-amber-400"}),a.jsx("span",{className:"text-[11px] font-semibold text-amber-400",children:"Donate"})]})]})})]}),a.jsx(Dse,{}),!i&&a.jsx("div",{className:"fixed bottom-20 lg:bottom-4 left-1/2 -translate-x-1/2 z-40 w-[calc(100%-32px)] max-w-md",children:a.jsxs("div",{className:"relative overflow-hidden rounded-xl border border-amber-500/25 p-3.5 shadow-lg backdrop-blur-sm",style:{background:"var(--bg-card)"},children:[a.jsx("button",{onClick:u=>{u.stopPropagation(),c()},className:"absolute top-2 right-2 p-1 rounded-full hover:bg-[var(--bg-hover)] transition-colors",children:a.jsx(si,{size:14,className:"text-[var(--text-dim)]"})}),a.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>{n(!0),c()},children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-500/15 flex items-center justify-center shrink-0",children:a.jsx(Ql,{size:20,className:"text-amber-400"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("p",{className:"text-[11px] text-[var(--text-dim)]",children:["Built with ",a.jsx("span",{className:"text-amber-400",children:""})," by Jagadeesh Manne"]}),a.jsx("p",{className:"text-sm font-semibold text-amber-400 mt-0.5",children:"Support the Developer"}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5",children:"If Capital Friends helps you, consider buying me a chai!"})]})]})]})}),a.jsx(BN,{open:r,onClose:()=>n(!1)})]})}function qse(){const{isAuthenticated:e,loading:t}=lo(),{healthCheckCompleted:r,loading:n}=xt(),i=Ta();return t&&!e?a.jsx(Ih,{phase:"auth"}):!e&&!t?a.jsx(oy,{to:"/",replace:!0}):n?a.jsx(Ih,{phase:"data"}):r===!1&&i.pathname!=="/health-check"?a.jsx(oy,{to:"/health-check",replace:!0}):a.jsx(M_,{})}const Gb="/logo-new.png";function XI(){const{isAuthenticated:e,loading:t,error:r,signIn:n}=lo(),i=Zs(),[l,c]=N.useState(0),[u,f]=N.useState(!1),m=N.useRef(null),p=N.useCallback(()=>{m.current&&clearInterval(m.current),m.current=setInterval(()=>{f(j=>(j||c(y=>(y+1)%4),j))},5e3)},[]);N.useEffect(()=>(p(),()=>{m.current&&clearInterval(m.current)}),[p]);function x(j){c(j),p()}if(N.useEffect(()=>{e&&i("/dashboard",{replace:!0})},[e,i]),t)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#080d1a]",children:a.jsx("img",{src:Gb,alt:"",className:"h-16 w-auto animate-pulse"})});const v=[{id:"ath",label:"ATH Tracking",icon:a.jsx(xc,{size:18}),color:"emerald",tagline:"Spot Buying Opportunities",desc:"See how far each mutual fund is from its All-Time High NAV. When a quality fund dips 10-20% below ATH, it's your signal to invest more  via SIP increase or lumpsum.",mock:a.jsx(Yse,{})},{id:"rebalance",label:"Rebalancing",icon:a.jsx(_p,{size:18}),color:"violet",tagline:"Know Exactly What to Buy or Sell",desc:"Set target allocation for each fund. When your portfolio drifts, Capital Friends tells you exactly how much to adjust  via SIP changes, lumpsum top-ups, or buy/sell actions.",mock:a.jsx(Vse,{})},{id:"goals",label:"Goal Linking",icon:a.jsx(Id,{size:18}),color:"cyan",tagline:"Link Portfolios to Goals",desc:"Create goals like retirement, child education, or emergency fund. Link MF portfolios with allocation percentages. Goal progress updates automatically as NAVs change daily.",mock:a.jsx(Gse,{})},{id:"dashboard",label:"Family View",icon:a.jsx(Xl,{size:18}),color:"amber",tagline:"Everyone's Wealth, One Dashboard",desc:"Switch between family members in one click. See combined or individual net worth, investments, insurance, loans  everything your family owns, in one place.",mock:a.jsx(Use,{})}],g=v[l];return a.jsxs("div",{className:"min-h-screen bg-[#080d1a] text-slate-200",children:[a.jsx("header",{className:"sticky top-0 z-50 bg-[#0a0f1f]/95 backdrop-blur-sm border-b border-white/[0.06]",children:a.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 h-14",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("img",{src:Gb,alt:"CF",className:"h-12 w-auto"}),a.jsxs("span",{className:"flex items-baseline gap-1 text-lg tracking-tight",style:{fontFamily:"'Poppins', sans-serif"},children:[a.jsx("span",{className:"font-bold text-white",children:"Capital"}),a.jsx("span",{className:"font-extrabold text-emerald-400",children:"Friends"})]})]}),a.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-violet-600 to-cyan-600 text-white text-sm font-semibold hover:from-violet-500 hover:to-cyan-500 transition-all cursor-pointer",children:[a.jsx(PD,{s:14})," Sign In"]})]})}),a.jsxs("section",{className:"relative px-5 sm:px-8 lg:px-16 pt-10 sm:pt-14 pb-8 sm:pb-10 overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 left-1/4 w-[600px] h-[400px] bg-violet-600/8 rounded-full blur-[120px] pointer-events-none"}),a.jsx("div",{className:"absolute top-20 right-1/4 w-[400px] h-[300px] bg-cyan-600/6 rounded-full blur-[100px] pointer-events-none"}),a.jsxs("div",{className:"relative text-center",children:[a.jsx("span",{className:"inline-block text-xs font-bold uppercase tracking-[0.2em] text-violet-400 bg-violet-500/10 border border-violet-500/20 rounded-full px-4 py-1.5 mb-5",children:"Always Free  100% Private  Your Google Sheet"}),a.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-extrabold leading-[1.1] tracking-tight text-white",children:["One dashboard for your family's"," ",a.jsx("span",{className:"bg-gradient-to-r from-violet-400 to-cyan-400 bg-clip-text text-transparent",children:"entire wealth"})]}),a.jsxs("p",{className:"mt-5 text-base sm:text-lg text-slate-400 leading-relaxed max-w-2xl mx-auto",children:["Mutual funds, stocks, FDs, gold, insurance, loans  track everything for every family member. Manual entry means ",a.jsx("strong",{className:"text-white",children:"no bank credentials, no privacy risk"}),"."]}),r&&a.jsx("p",{className:"mt-5 text-sm text-rose-400",children:r})]})]}),a.jsxs("section",{className:"bg-gradient-to-b from-[#0d0a1a] to-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-10 sm:py-14",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white inline-flex items-center gap-3 flex-wrap justify-center",children:[a.jsx(Vs,{size:28,className:"text-amber-400 shrink-0"}),a.jsxs("span",{children:["What happens if something happens to ",a.jsx("span",{className:"text-amber-400",children:"you"}),"?"]})]}),a.jsxs("p",{className:"mt-4 text-lg text-slate-400 leading-relaxed",children:["Your family should know about every investment, every policy, every loan. Not someday. ",a.jsx("strong",{className:"text-white",children:"Right now."})]})]}),a.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[a.jsx(TD,{icon:a.jsx(Ep,{size:20}),color:"rose",title:"Without Capital Friends",items:["Scattered investments across 10+ platforms","Family has no idea what you own or owe","Insurance policies lost in email threads","Months of confusion, missed renewals, lost money"],bad:!0}),a.jsx(TD,{icon:a.jsx(cc,{size:20}),color:"emerald",title:"With Capital Friends",items:["One sheet  every investment, policy, and loan","Family receives email reports with full portfolio details","Reminders for SIPs, renewals, EMI payments","Complete clarity, instantly  when it matters most"]})]}),a.jsxs("p",{className:"text-center mt-8 text-base text-slate-500",children:["Built for ",a.jsx("strong",{className:"text-white",children:"you"})," to manage your wealth  and for your ",a.jsx("strong",{className:"text-white",children:"family"})," to access it when they need to."]})]}),a.jsxs("section",{className:"bg-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"How it Works"}),a.jsx("p",{className:"text-base text-slate-500",children:"Set up in 2 minutes  no bank credentials, no downloads"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-4",children:[a.jsx(Gm,{num:1,icon:a.jsx(CB,{size:24}),color:"violet",title:"Sign In with Google",desc:"Go to capitalfriends.in and sign in with your Google account. That's all  no registration form, no passwords."}),a.jsx(Gm,{num:2,icon:a.jsx(nB,{size:24}),color:"emerald",title:"App Creates Your Sheet",desc:"The app creates a private Google Sheet in your own Google Drive. This sheet stores all your financial data. Only you can see it  not even the developer."}),a.jsx(Gm,{num:3,icon:a.jsx(wO,{size:24}),color:"cyan",title:"Financial Health Check",desc:"Answer 7 simple yes/no questions about your financial health. Get your score and personalized recommendations instantly."}),a.jsx(Gm,{num:4,icon:a.jsx(xc,{size:24}),color:"amber",title:"Start Tracking",desc:"Add family members, portfolios, goals, insurance, and loans. The app connects to AMFI for live mutual fund prices automatically."})]}),a.jsxs("p",{className:"text-center mt-10 text-sm text-slate-600",children:["Your sheet is named ",a.jsx("strong",{className:"text-slate-400",children:"Capital Friends - Your Name"})," and lives in your Google Drive. The web app is just a beautiful dashboard to view and manage it."]})]}),a.jsxs("section",{id:"features",className:"bg-[#0b1022] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",onMouseEnter:()=>f(!0),onMouseLeave:()=>{f(!1),p()},children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Features That Set Us Apart"}),a.jsx("p",{className:"text-base text-slate-500",children:"Things you won't find on other portfolio trackers"})]}),a.jsx("div",{className:"flex justify-center gap-2 sm:gap-3 mb-10 flex-wrap",children:v.map((j,y)=>{const w=y===l,A={emerald:"border-emerald-500",violet:"border-violet-500",cyan:"border-cyan-500",amber:"border-amber-500"},k={emerald:"text-emerald-400",violet:"text-violet-400",cyan:"text-cyan-400",amber:"text-amber-400"};return a.jsxs("button",{onClick:()=>x(y),className:`relative flex items-center gap-2 px-5 py-2.5 rounded-full border text-sm font-semibold transition-all cursor-pointer ${w?`${A[j.color]} bg-white/[0.05] ${k[j.color]}`:"border-white/[0.08] text-slate-500 hover:border-white/[0.15] hover:text-slate-300"}`,children:[a.jsx("span",{className:"shrink-0",children:j.icon}),j.label,w&&a.jsx("div",{className:"absolute bottom-0 left-4 right-4 h-0.5 bg-white/[0.06] rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full bg-current",style:{animation:"featureProgress 5s linear",animationPlayState:u?"paused":"running"}})})]},j.id)})}),a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-8 lg:gap-12",children:[a.jsxs("div",{className:"lg:flex-1 min-h-[280px]",children:[a.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:g.tagline}),a.jsx("p",{className:"mt-3 text-base text-slate-400 leading-relaxed",children:g.desc}),g.id==="ath"&&a.jsxs("div",{className:"mt-6 space-y-5",children:[a.jsx(rn,{c:"emerald",t:"ATH tracking only for funds in your portfolios"}),a.jsx(rn,{c:"emerald",t:"Color-coded signals: watch, consider, buy, strong buy"}),a.jsx(rn,{c:"emerald",t:"Increase SIP or invest lumpsum when funds dip"}),a.jsx(rn,{c:"emerald",t:"Daily NAV updates from AMFI data"})]}),g.id==="rebalance"&&a.jsxs("div",{className:"mt-6 space-y-5",children:[a.jsx(rn,{c:"violet",t:"Adjust monthly SIP to rebalance gradually"}),a.jsx(rn,{c:"violet",t:"Lumpsum top-up for quick rebalance"}),a.jsx(rn,{c:"violet",t:"Buy/Sell amounts to match target"}),a.jsx(rn,{c:"violet",t:"Configurable threshold per portfolio"})]}),g.id==="goals"&&a.jsxs("div",{className:"mt-6 space-y-5",children:[a.jsx(rn,{c:"cyan",t:"Link multiple MF portfolios to each goal"}),a.jsx(rn,{c:"cyan",t:"Built-in SIP + lumpsum calculator with inflation"}),a.jsx(rn,{c:"cyan",t:"Auto-status: On Track, Needs Attention, Achieved"}),a.jsx(rn,{c:"cyan",t:"Withdrawal planning for retirement goals"})]}),g.id==="dashboard"&&a.jsxs("div",{className:"mt-6 space-y-5",children:[a.jsx(rn,{c:"amber",t:"One-click switch between family members"}),a.jsx(rn,{c:"amber",t:"Combined net worth across everyone"}),a.jsx(rn,{c:"amber",t:"MF, stocks, FD, gold, PPF, NPS, insurance"}),a.jsx(rn,{c:"amber",t:"Email reports sent to family automatically"})]})]}),a.jsx("div",{className:"lg:flex-1 min-w-0 min-h-[380px] flex flex-col justify-center",children:g.mock})]}),a.jsx("style",{children:`
          @keyframes featureProgress {
            from { width: 0% }
            to { width: 100% }
          }
        `})]}),a.jsxs("section",{className:"bg-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Everything You Need"}),a.jsx("p",{className:"text-base text-slate-500",children:"One dashboard for your entire financial life"})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:[a.jsx(Rs,{icon:a.jsx(oc,{size:20}),c:"rose",t:"Stock Portfolios",d:"Buy/sell tracking, average cost, P&L with live NSE prices"}),a.jsx(Rs,{icon:a.jsx(LB,{size:20}),c:"orange",t:"FD, Gold, PPF, NPS",d:"Track any investment type  all counted in net worth"}),a.jsx(Rs,{icon:a.jsx(cc,{size:20}),c:"teal",t:"Insurance Tracker",d:"Life, health, term policies with premiums & renewal dates"}),a.jsx(Rs,{icon:a.jsx($h,{size:20}),c:"red",t:"Liabilities",d:"Loans & EMIs. Net worth = total assets minus debts"}),a.jsx(Rs,{icon:a.jsx(T1,{size:20}),c:"yellow",t:"Smart Reminders",d:"SIP dates, renewals, EMI payments, maturity alerts"}),a.jsx(Rs,{icon:a.jsx(Xl,{size:20}),c:"pink",t:"Family Sharing",d:"Invite family with Google accounts  shared dashboard"}),a.jsx(Rs,{icon:a.jsx(_p,{size:20}),c:"blue",t:"Daily Auto-Refresh",d:"NAVs and stock prices update automatically every day"}),a.jsx(Rs,{icon:a.jsx(ag,{size:20}),c:"emerald",t:"Complete Privacy",d:"No servers, no database, no tracking  your Sheet only"})]})]}),a.jsxs("section",{className:"border-y border-white/[0.06]",children:[a.jsxs("div",{className:"bg-[#0b1022] px-5 sm:px-8 lg:px-16 py-10 sm:py-14 text-center",children:[a.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white inline-flex items-center gap-3",children:[a.jsx(ag,{size:28,className:"text-emerald-400 shrink-0"}),"Your Data Never Leaves Google"]}),a.jsxs("p",{className:"mt-3 text-base sm:text-lg text-slate-400 leading-relaxed",children:["No backend server. No database. No tracking. The web app is a static site. Your spreadsheet lives in ",a.jsx("strong",{className:"text-white",children:"your Google Drive"}),". We literally cannot access your financial data."]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row",children:[a.jsx(Qb,{icon:a.jsx(cc,{size:20}),t:"Manual Entry Only",d:"No bank linking, no credentials shared. You type your data  no one else has access.",bg:"bg-[#0d1326]",c:"emerald"}),a.jsx(Qb,{icon:a.jsx(ag,{size:20}),t:"Your Google Sheet",d:"A private spreadsheet in your Drive. Share only with family you choose.",bg:"bg-[#0f1530]",c:"violet"}),a.jsx(Qb,{icon:a.jsx(Ql,{size:20}),t:"Always Free",d:"No premium tier, no hidden fees, no ads. Free today, free forever.",bg:"bg-[#111838]",c:"amber"})]})]}),a.jsxs("section",{className:"bg-gradient-to-t from-[#080d1a] to-[#0d1128] border-t border-white/[0.06] px-5 sm:px-8 lg:px-16 py-16 text-center",children:[a.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-white",children:"Start managing your family's wealth today"}),a.jsx("p",{className:"mt-3 text-base text-slate-500",children:"Always free. No credit card. No bank linking. Just your Google account."}),a.jsxs("button",{onClick:n,className:"mt-8 inline-flex items-center gap-2.5 px-8 py-3.5 bg-gradient-to-r from-violet-600 to-cyan-600 text-white font-bold text-base rounded-xl hover:from-violet-500 hover:to-cyan-500 shadow-lg shadow-violet-900/30 transition-all hover:scale-[1.02] cursor-pointer",children:[a.jsx(PD,{s:20})," Sign in with Google  It's Free"]}),r&&a.jsx("p",{className:"mt-3 text-sm text-rose-400",children:r})]}),a.jsxs("footer",{className:"border-t border-white/[0.04] px-5 sm:px-8 lg:px-16 py-5 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-1.5 opacity-30",children:[a.jsx("img",{src:Gb,alt:"",className:"h-5 w-auto"}),a.jsxs("span",{className:"text-xs font-bold text-white",style:{fontFamily:"'Poppins', sans-serif"},children:["Capital",a.jsx("span",{class:"text-emerald-400",children:"Friends"})]})]}),a.jsx("p",{className:"text-xs text-slate-600",children:"Your data. Your Google Drive. Your control."})]})]})}function TD({icon:e,title:t,items:r,bad:n}){const i=n?"border-rose-500/15":"border-emerald-500/15",l=n?"bg-rose-500/[0.04]":"bg-emerald-500/[0.04]",c=n?"bg-rose-500/10 text-rose-400":"bg-emerald-500/10 text-emerald-400",u=n?"text-rose-400":"text-emerald-400";return a.jsxs("div",{className:`rounded-2xl border ${i} ${l} p-6`,children:[a.jsxs("h3",{className:`text-lg font-bold ${u} mb-4 flex items-center gap-2.5`,children:[a.jsx("span",{className:`flex items-center justify-center w-8 h-8 rounded-lg ${c} shrink-0`,children:e}),t]}),a.jsx("ul",{className:"space-y-3",children:r.map((f,m)=>a.jsxs("li",{className:"flex items-start gap-2.5",children:[n?a.jsx("span",{className:"text-rose-500/60 mt-0.5 shrink-0",children:""}):a.jsx(Lc,{size:16,className:"text-emerald-500 mt-0.5 shrink-0"}),a.jsx("span",{className:"text-sm text-slate-300 leading-relaxed",children:f})]},m))})]})}function Use(){return a.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f]",children:[a.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Dashboard"}),a.jsx("div",{className:"flex gap-1.5",children:["Everyone","Jagadeesh","Priya","Arjun"].map((e,t)=>a.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full font-medium ${t===0?"bg-violet-500/20 text-violet-300":"text-slate-600"}`,children:e},e))})]}),a.jsxs("div",{className:"grid grid-cols-3 divide-x divide-white/[0.04]",children:[a.jsx(Wb,{l:"Net Worth",v:"45.2L",lc:"text-violet-400",vc:"text-white"}),a.jsx(Wb,{l:"Invested",v:"38.7L",lc:"text-slate-500",vc:"text-slate-300"}),a.jsx(Wb,{l:"P&L",v:"+6.5L",lc:"text-slate-500",vc:"text-emerald-400",extra:"+16.8%"})]}),a.jsxs("div",{className:"border-t border-white/[0.04]",children:[a.jsx(Kb,{n:"Axis Bluechip Fund",alloc:"30% / 25%",cur:"6.2L",pl:"+24.0%",ath:"5.2%",athC:"text-[#e67e00]",up:!0}),a.jsx(Kb,{n:"Parag Parikh Flexi Cap",alloc:"35% / 40%",cur:"4.8L",pl:"+37.1%",ath:"At ATH",athC:"text-emerald-500",up:!0}),a.jsx(Kb,{n:"SBI Small Cap Fund",alloc:"20% / 15%",cur:"1.8L",pl:"-10.0%",ath:"18.3%",athC:"text-[#d84315]",last:!0})]})]})}function Yse(){const e=[{n:"HDFC Mid-Cap Opportunities",nav:"142.35",ath:"168.50",pct:"15.5%",color:"text-[#d84315]",signal:"Good Buy Signal",sigC:"text-[#d84315] bg-[#d84315]/15"},{n:"Axis Small Cap Fund",nav:"38.22",ath:"52.10",pct:"26.6%",color:"text-[#c62828]",signal:"Strong Buy",sigC:"text-[#c62828] bg-[#c62828]/15 font-bold"},{n:"Kotak Emerging Equity",nav:"89.10",ath:"92.40",pct:"3.6%",color:"text-[#b8860b]",signal:"Watch",sigC:"text-[#b8860b] bg-[#b8860b]/15"},{n:"Mirae Asset Large Cap",nav:"105.80",ath:"106.20",pct:"0.4%",color:"text-slate-500",signal:"Near ATH",sigC:"text-slate-500 bg-white/[0.04]"}];return a.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-semibold text-white",children:"Buy Opportunities"}),a.jsx("span",{className:"text-xs text-emerald-400 font-semibold bg-emerald-500/10 px-2.5 py-1 rounded-full",children:"2 signals"})]}),e.map((t,r)=>a.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${r<e.length-1?"border-b border-white/[0.03]":""}`,children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-slate-300 truncate",children:t.n}),a.jsxs("p",{className:"text-xs text-slate-600 mt-0.5",children:["NAV ","",t.nav,"  ATH ","",t.ath]})]}),a.jsxs("div",{className:"text-right shrink-0 ml-3",children:[a.jsxs("p",{className:`text-base font-bold tabular-nums ${t.color}`,children:[a.jsx(uz,{size:13,className:"inline -mt-0.5"})," ",t.pct]}),a.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded ${t.sigC}`,children:t.signal})]})]},r))]})}function Vse(){const[e,t]=N.useState(0),r=["SIP Adjust","Lumpsum","Buy / Sell"],n=["New SIP","Lumpsum Top-up","Action"],l=[[{n:"Axis Bluechip",val:"SIP 6,000",cur:"30%",tgt:"25%",action:"Stop SIP",actionC:"text-amber-400"},{n:"Parag Parikh Flexi",val:"SIP 7,000",cur:"35%",tgt:"40%",action:"12,000/mo",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"SIP 4,000",cur:"20%",tgt:"15%",action:"Stop SIP",actionC:"text-amber-400"},{n:"HDFC Large Cap",val:"SIP 3,000",cur:"15%",tgt:"20%",action:"8,000/mo",actionC:"text-emerald-400"}],[{n:"Axis Bluechip",val:"3,00,000",cur:"30%",tgt:"25%",action:"No action",actionC:"text-slate-600"},{n:"Parag Parikh Flexi",val:"3,50,000",cur:"35%",tgt:"40%",action:"Invest 55,000",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"2,00,000",cur:"20%",tgt:"15%",action:"No action",actionC:"text-slate-600"},{n:"HDFC Large Cap",val:"1,50,000",cur:"15%",tgt:"20%",action:"Invest 45,000",actionC:"text-emerald-400"}],[{n:"Axis Bluechip",val:"3,00,000",cur:"30%",tgt:"25%",action:"Sell 50,000",actionC:"text-rose-400"},{n:"Parag Parikh Flexi",val:"3,50,000",cur:"35%",tgt:"40%",action:"Buy 50,000",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"2,00,000",cur:"20%",tgt:"15%",action:"Sell 50,000",actionC:"text-rose-400"},{n:"HDFC Large Cap",val:"1,50,000",cur:"15%",tgt:"20%",action:"Buy 50,000",actionC:"text-emerald-400"}]][e];return a.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-semibold text-white",children:"Rebalance Portfolio"}),a.jsx("span",{className:"text-xs text-violet-400 font-semibold bg-violet-500/10 px-2.5 py-1 rounded-full",children:"4 off-target"})]}),a.jsx("div",{className:"flex border-b border-white/[0.04]",children:r.map((c,u)=>a.jsx("button",{onClick:()=>t(u),className:`flex-1 text-xs font-semibold py-2.5 text-center cursor-pointer transition-colors ${u===e?"text-violet-400 border-b-2 border-violet-400":"text-slate-600 hover:text-slate-400"}`,children:c},c))}),a.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 border-b border-white/[0.04] bg-[#0a0f1f]/50 flex-wrap",children:[a.jsx("span",{className:"text-xs text-slate-500",children:"Portfolio Value"}),a.jsxs("span",{className:"text-sm text-white font-semibold tabular-nums",children:["","10,00,000"]}),e===0&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-xs text-slate-600",children:"|"}),a.jsx("span",{className:"text-xs text-slate-500",children:"Total SIP"}),a.jsxs("span",{className:"text-sm text-white font-semibold tabular-nums",children:["","20,000"]})]}),e===1&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-xs text-slate-600",children:"|"}),a.jsx("span",{className:"text-xs text-slate-500",children:"Lumpsum"}),a.jsx("input",{type:"text",readOnly:!0,value:"1,00,000",className:"bg-white/[0.04] border border-white/[0.08] rounded-md px-2 py-1 text-sm text-white font-semibold tabular-nums w-24 text-right cursor-default outline-none"})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"grid grid-cols-[1fr_50px_50px_1fr] gap-1 px-4 py-2.5 text-xs text-slate-600 font-semibold border-b border-white/[0.03]",children:[a.jsx("span",{children:"Fund / Value"}),a.jsx("span",{className:"text-center",children:"Current"}),a.jsx("span",{className:"text-center",children:"Target"}),a.jsx("span",{className:"text-right",children:n[e]})]}),l.map((c,u)=>a.jsxs("div",{className:`grid grid-cols-[1fr_50px_50px_1fr] gap-1 px-4 py-2.5 items-center ${u<l.length-1?"border-b border-white/[0.03]":""}`,children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("span",{className:"text-sm text-slate-300 truncate block",children:c.n}),a.jsxs("span",{className:"text-[10px] text-slate-600",children:["",c.val]})]}),a.jsx("span",{className:"text-sm text-center text-slate-400 tabular-nums",children:c.cur}),a.jsx("span",{className:"text-sm text-center text-slate-400 tabular-nums",children:c.tgt}),a.jsx("span",{className:`text-sm text-right font-semibold ${c.actionC}`,children:c.action})]},`${e}-${u}`))]})]})}function Gse(){const e=[{n:"Retirement",tgt:"2Cr",cur:"28.5L",pct:14,sip:"45,000",yrs:"18 yrs",status:"On Track",sc:"text-blue-400 bg-blue-500/15",bc:"bg-blue-500"},{n:"Child Education",tgt:"50L",cur:"12.2L",pct:24,sip:"15,000",yrs:"12 yrs",status:"On Track",sc:"text-blue-400 bg-blue-500/15",bc:"bg-blue-500"},{n:"New Car",tgt:"15L",cur:"4.1L",pct:27,sip:"12,000",yrs:"3 yrs",status:"Needs Attention",sc:"text-amber-400 bg-amber-500/15",bc:"bg-amber-500"}];return a.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-semibold text-white",children:"Goals"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-slate-500",children:"2 On Track"}),a.jsx("span",{className:"text-xs text-amber-400",children:"1 Needs Attention"})]})]}),e.map((t,r)=>a.jsxs("div",{className:`px-4 py-3.5 ${r<e.length-1?"border-b border-white/[0.03]":""}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-semibold text-white",children:t.n}),a.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded-full ${t.sc}`,children:t.status})]}),a.jsxs("span",{className:"text-xs text-slate-500",children:["",t.sip,"/mo  ",t.yrs]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex-1 h-2.5 rounded-full bg-white/[0.06] overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${t.bc}`,style:{width:`${t.pct}%`}})}),a.jsxs("span",{className:"text-sm font-semibold text-slate-300 tabular-nums w-10 text-right",children:[t.pct,"%"]})]}),a.jsxs("div",{className:"flex justify-between mt-1.5 text-xs text-slate-600",children:[a.jsxs("span",{children:["",t.cur," of ","",t.tgt]}),a.jsxs("span",{className:"flex items-center gap-1 text-slate-500",children:[a.jsx(AO,{size:10})," 2 portfolios linked"]})]})]},r))]})}function PD({s:e=16}){return a.jsxs("svg",{viewBox:"0 0 24 24",width:e,height:e,className:"shrink-0",children:[a.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 01-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z",fill:"#4285F4"}),a.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),a.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),a.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}function Wb({l:e,v:t,lc:r,vc:n,extra:i}){return a.jsxs("div",{className:"py-3.5 text-center",children:[a.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider ${r}`,children:e}),a.jsxs("p",{className:`text-lg font-bold tabular-nums mt-0.5 ${n}`,children:[t,i&&a.jsx("span",{className:"text-sm ml-1 text-emerald-400",children:i})]})]})}function Kb({n:e,alloc:t,cur:r,pl:n,ath:i,athC:l,up:c,last:u}){return a.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${u?"":"border-b border-white/[0.03]"}`,children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-300",children:e}),a.jsxs("p",{className:"text-xs text-slate-600",children:["Alloc ",t,"  ",a.jsx("span",{className:l,children:i!=="At ATH"?`${i} below ATH`:i})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-200 tabular-nums",children:r}),a.jsx("p",{className:`text-sm font-semibold tabular-nums ${c?"text-emerald-400":"text-rose-400"}`,children:n})]})]})}function rn({c:e,t}){const r={violet:"text-violet-400",cyan:"text-cyan-400",amber:"text-amber-400",emerald:"text-emerald-400"};return a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx(Lc,{size:16,className:`${r[e]} shrink-0`}),a.jsx("span",{className:"text-sm text-slate-300",children:t})]})}function Gm({num:e,icon:t,color:r,title:n,desc:i}){const l={violet:["text-violet-400","bg-violet-500/10","border-violet-500/20","from-violet-500/20 to-violet-500/5"],emerald:["text-emerald-400","bg-emerald-500/10","border-emerald-500/20","from-emerald-500/20 to-emerald-500/5"],cyan:["text-cyan-400","bg-cyan-500/10","border-cyan-500/20","from-cyan-500/20 to-cyan-500/5"],amber:["text-amber-400","bg-amber-500/10","border-amber-500/20","from-amber-500/20 to-amber-500/5"]},[c,u,f,m]=l[r]||l.violet;return a.jsxs("div",{className:`relative rounded-2xl border ${f} bg-gradient-to-b ${m} p-6 text-center`,children:[a.jsx("span",{className:`inline-flex items-center justify-center w-12 h-12 rounded-xl ${u} ${c} mb-4`,children:t}),a.jsxs("span",{className:`absolute top-4 right-4 text-xs font-bold ${c} opacity-40`,children:["0",e]}),a.jsx("h3",{className:"text-base font-bold text-white mb-2",children:n}),a.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:i})]})}function Qb({icon:e,t,d:r,bg:n,c:i}){const l={emerald:"text-emerald-400",violet:"text-violet-400",amber:"text-amber-400"};return a.jsxs("div",{className:`flex-1 ${n} px-5 sm:px-8 lg:px-10 py-6 sm:py-8 border-b sm:border-b-0 sm:border-r border-white/[0.04] last:border-0`,children:[a.jsxs("p",{className:"text-base font-bold text-white flex items-center gap-2",children:[a.jsx("span",{className:`${l[i]} shrink-0`,children:e}),t]}),a.jsx("p",{className:"text-sm text-slate-500 mt-1.5 leading-relaxed",children:r})]})}const ID={violet:["text-violet-400","bg-violet-500/8","border-violet-500/10"],blue:["text-blue-400","bg-blue-500/8","border-blue-500/10"],emerald:["text-emerald-400","bg-emerald-500/8","border-emerald-500/10"],cyan:["text-cyan-400","bg-cyan-500/8","border-cyan-500/10"],rose:["text-rose-400","bg-rose-500/8","border-rose-500/10"],orange:["text-orange-400","bg-orange-500/8","border-orange-500/10"],teal:["text-teal-400","bg-teal-500/8","border-teal-500/10"],red:["text-red-400","bg-red-500/8","border-red-500/10"],yellow:["text-yellow-400","bg-yellow-500/8","border-yellow-500/10"],pink:["text-pink-400","bg-pink-500/8","border-pink-500/10"]};function Rs({icon:e,c:t,t:r,d:n}){const[i,l,c]=ID[t]||ID.violet;return a.jsxs("div",{className:`rounded-xl border ${c} ${l} p-5`,children:[a.jsxs("p",{className:"text-base font-bold text-white flex items-center gap-2",children:[a.jsx("span",{className:`${i} shrink-0`,children:e}),r]}),a.jsx("p",{className:"text-sm text-slate-500 mt-1.5 leading-relaxed",children:n})]})}function Wse(){const{isAuthenticated:e,loading:t}=lo();return t?a.jsx(Ih,{}):e?a.jsx(oy,{to:"/dashboard",replace:!0}):a.jsx(XI,{})}function Kse(){const e=Ta();return a.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-violet-500/15 rounded-2xl flex items-center justify-center mb-4",children:a.jsx($z,{size:32,className:"text-violet-400"})}),a.jsx("h3",{className:"text-xl font-semibold text-[var(--text-primary)] mb-2",children:"Coming Soon"}),a.jsx("p",{className:"text-[var(--text-muted)] text-sm max-w-sm",children:"This page is under construction. Navigate using the sidebar to explore available sections."}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-3 font-mono",children:e.pathname})]})}const Qse=["Savings Account","Current Account","Fixed Deposit (FD)","Recurring Deposit (RD)","NRE Account","NRO Account","Minor Account"].map(e=>({value:e,label:e}));function Xse({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:i}=xt(),l=!!e,[c,u]=N.useState({accountName:e?.accountName||"",memberId:e?.memberId||"",bankName:e?.bankName||"",accountNumber:e?.accountNumber||"",ifscCode:e?.ifscCode||"",branchName:e?.branchName||"",accountType:e?.accountType||"",status:e?.status||"Active"}),[f,m]=N.useState({}),[p,x]=N.useState(!1);function v(w,A){u(k=>({...k,[w]:A})),m(k=>({...k,[w]:void 0}))}function g(){const w={};return c.accountName.trim()||(w.accountName="Required"),c.memberId||(w.memberId="Required"),c.bankName.trim()||(w.bankName="Required"),String(c.accountNumber||"").trim()||(w.accountNumber="Required"),c.ifscCode.trim()||(w.ifscCode="Required"),c.branchName.trim()||(w.branchName="Required"),c.accountType||(w.accountType="Required"),m(w),Object.keys(w).length===0}async function j(){if(g()){x(!0);try{await t({...c,ifscCode:c.ifscCode.toUpperCase()})}finally{x(!1)}}}const y=i.map(w=>({value:w.memberId,label:`${w.memberName} (${w.relationship})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(he,{label:"Account Name",required:!0,error:f.accountName,children:a.jsx(Pe,{value:c.accountName,onChange:w=>v("accountName",w),placeholder:"e.g., HDFC Savings"})}),a.jsx(he,{label:"Family Member",required:!0,error:f.memberId,children:a.jsx(tt,{value:c.memberId,onChange:w=>v("memberId",w),options:y,placeholder:"Select member..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(he,{label:"Bank Name",required:!0,error:f.bankName,children:a.jsx(Pe,{value:c.bankName,onChange:w=>v("bankName",w),placeholder:"e.g., HDFC Bank"})}),a.jsx(he,{label:"Account Type",required:!0,error:f.accountType,children:a.jsx(tt,{value:c.accountType,onChange:w=>v("accountType",w),options:Qse,placeholder:"Select type..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(he,{label:"Account Number",required:!0,error:f.accountNumber,children:a.jsx(Pe,{sensitive:!0,value:c.accountNumber,onChange:w=>v("accountNumber",w),placeholder:"e.g., 1234567890"})}),a.jsx(he,{label:"IFSC Code",required:!0,error:f.ifscCode,children:a.jsx(Pe,{value:c.ifscCode,onChange:w=>v("ifscCode",w.toUpperCase()),placeholder:"e.g., HDFC0001234",maxLength:11})})]}),a.jsx(he,{label:"Branch Name",required:!0,error:f.branchName,children:a.jsx(Pe,{value:c.branchName,onChange:w=>v("branchName",w),placeholder:"e.g., Hyderabad - Kondapur"})}),l&&a.jsx(he,{label:"Status",children:a.jsx(tt,{value:c.status,onChange:w=>v("status",w),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[l&&r?a.jsx(ls,{onClick:r}):a.jsx("div",{}),a.jsx(fn,{onCancel:n,onSubmit:j,submitLabel:l?"Update":"Add Account",loading:p})]})]})}function pi({title:e="Loading"}){return a.jsxs("div",{className:"flex flex-col items-center justify-center py-32 gap-3",children:[a.jsx("span",{className:"w-7 h-7 border-[2.5px] border-violet-400/30 border-t-violet-400 rounded-full animate-spin"}),a.jsxs("span",{className:"text-sm font-semibold text-[var(--text-primary)]",children:[e,"..."]})]})}const RD={"Savings Account":"bg-blue-500/15 text-[var(--accent-blue)]",Savings:"bg-blue-500/15 text-[var(--accent-blue)]",Salary:"bg-emerald-500/15 text-emerald-400","Current Account":"bg-violet-500/15 text-[var(--accent-violet)]","Fixed Deposit":"bg-amber-500/15 text-[var(--accent-amber)]","Fixed Deposit (FD)":"bg-amber-500/15 text-[var(--accent-amber)]"};function LD(){const{selectedMember:e,member:t}=Hr(),{banks:r,addBankAccount:n,updateBankAccount:i,deleteBankAccount:l}=xt(),{showToast:c,showBlockUI:u,hideBlockUI:f}=ui(),m=di(),{mv:p}=Pa(),[x,v]=N.useState(null);if(r===null)return a.jsx(pi,{title:"Loading bank accounts",cards:3});const g=N.useMemo(()=>{const k=r.filter(C=>C.status!=="Inactive");return e==="all"?k:k.filter(C=>C.memberId===e)},[r,e]),j=N.useMemo(()=>new Set(g.map(k=>k.bankName)).size,[g]),y=N.useMemo(()=>g.filter(k=>k.accountType==="Savings"||k.accountType==="Savings Account"||k.accountType==="Salary").length,[g]);async function w(k){u("Saving...");try{x?.edit?await i(x.edit.accountId,k):await n(k),c(x?.edit?"Bank account updated":"Bank account added"),v(null)}catch(C){c(C.message||"Failed to save bank account","error")}finally{f()}}async function A(){if(x?.edit&&await m("Deactivate this bank account?",{title:"Deactivate Account",confirmLabel:"Deactivate"})){u("Deactivating...");try{await l(x.edit.accountId),c("Bank account deactivated"),v(null)}catch(k){c(k.message||"Failed to deactivate bank account","error")}finally{f()}}}return a.jsxs("div",{className:"space-y-4",children:[g.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(xB,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No bank accounts",t?` for ${t.memberName}`:""]}),a.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first bank account"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[a.jsx(Xb,{label:"Total Accounts",value:g.length}),a.jsx(Xb,{label:"Banks",value:j}),a.jsx(Xb,{label:"Savings / Salary",value:y})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Zr,{size:14})," Add Account"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[580px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Bank"}),!t&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account No."}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Branch"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:g.map(k=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-4",children:a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:k.accountName})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:k.bankName}),!t&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:p(k.memberName,"name")}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${RD[k.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:k.accountType})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:p(k.accountNumber,"account")}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-dim)]",children:k.branchName}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>v({edit:k}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(ma,{size:12})})})]},k.accountId))})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:g.map(k=>a.jsxs("div",{onClick:()=>v({edit:k}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:k.accountName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${RD[k.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:k.accountType})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[k.bankName,t?"":`  ${p(k.memberName,"name")}`]}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:p(k.accountNumber,"account")}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:k.branchName})]})]},k.accountId))})]})]}),a.jsx(hr,{open:!!x,onClose:()=>v(null),title:x?.edit?"Edit Bank Account":"Add Bank Account",children:a.jsx(Xse,{initial:x?.edit||void 0,onSave:w,onDelete:x?.edit?A:void 0,onCancel:()=>v(null)})})]})}function Xb({label:e,value:t}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:t})]})}const Zse=["Demat + Trading","Mutual Fund","Trading","Direct AMC","Broker"].map(e=>({value:e,label:e}));function Jse({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:i,activeBanks:l}=xt(),c=!!e,[u,f]=N.useState({accountName:e?.accountName||"",memberId:e?.memberId||"",bankAccountId:e?.bankAccountId||"",accountType:e?.accountType||"",platformBroker:e?.platformBroker||"",accountClientId:e?.accountClientId||"",dematDpId:e?.dematDpId||"",registeredEmail:e?.registeredEmail||"",registeredPhone:e?.registeredPhone||"",status:e?.status||"Active"}),[m,p]=N.useState({}),[x,v]=N.useState(!1);function g(C,M){f(E=>({...E,[C]:M})),p(E=>({...E,[C]:void 0}))}function j(C){f(M=>({...M,memberId:C,bankAccountId:""})),p(M=>({...M,memberId:void 0}))}function y(){const C={};return u.accountName.trim()||(C.accountName="Required"),u.memberId||(C.memberId="Required"),u.bankAccountId||(C.bankAccountId="Required"),u.accountType||(C.accountType="Required"),u.platformBroker.trim()||(C.platformBroker="Required"),u.registeredEmail.trim()||(C.registeredEmail="Required"),u.registeredPhone.trim()||(C.registeredPhone="Required"),p(C),Object.keys(C).length===0}async function w(){if(y()){v(!0);try{await t(u)}finally{v(!1)}}}const A=i.map(C=>({value:C.memberId,label:`${C.memberName} (${C.relationship})`})),k=N.useMemo(()=>u.memberId?l.filter(C=>C.memberId===u.memberId).map(C=>({value:C.accountId,label:`${C.accountName} - ${C.bankName}`})):[],[l,u.memberId]);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(he,{label:"Account Name",required:!0,error:m.accountName,children:a.jsx(Pe,{value:u.accountName,onChange:C=>g("accountName",C),placeholder:"e.g., Zerodha Demat"})}),a.jsx(he,{label:"Family Member",required:!0,error:m.memberId,children:a.jsx(tt,{value:u.memberId,onChange:j,options:A,placeholder:"Select member..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(he,{label:"Linked Bank Account",required:!0,error:m.bankAccountId,children:a.jsx(tt,{value:u.bankAccountId,onChange:C=>g("bankAccountId",C),options:k,placeholder:u.memberId?k.length?"Select bank account...":"No bank accounts for this member":"Select member first..."})}),a.jsx(he,{label:"Account Type",required:!0,error:m.accountType,children:a.jsx(tt,{value:u.accountType,onChange:C=>g("accountType",C),options:Zse,placeholder:"Select type..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(he,{label:"Platform / Broker",required:!0,error:m.platformBroker,children:a.jsx(Pe,{value:u.platformBroker,onChange:C=>g("platformBroker",C),placeholder:"e.g., Zerodha, Groww"})}),a.jsx(he,{label:"Account / Client ID",error:m.accountClientId,children:a.jsx(Pe,{sensitive:!0,value:u.accountClientId,onChange:C=>g("accountClientId",C),placeholder:"e.g., ZR1234 (optional)"})})]}),a.jsx(he,{label:"Demat DP ID",error:m.dematDpId,children:a.jsx(Pe,{sensitive:!0,value:u.dematDpId,onChange:C=>g("dematDpId",C),placeholder:"16-digit DP ID (optional)",maxLength:16})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(he,{label:"Registered Email",required:!0,error:m.registeredEmail,children:a.jsx(Pe,{sensitive:!0,type:"email",value:u.registeredEmail,onChange:C=>g("registeredEmail",C),placeholder:"email@example.com"})}),a.jsx(he,{label:"Registered Phone",required:!0,error:m.registeredPhone,children:a.jsx(Pe,{sensitive:!0,value:u.registeredPhone,onChange:C=>g("registeredPhone",C),placeholder:"9876543210"})})]}),c&&a.jsx(he,{label:"Status",children:a.jsx(tt,{value:u.status,onChange:C=>g("status",C),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[c&&r?a.jsx(ls,{onClick:r}):a.jsx("div",{}),a.jsx(fn,{onCancel:n,onSubmit:w,submitLabel:c?"Update":"Add Account",loading:x})]})]})}const FD={"Demat + Trading":"bg-violet-500/15 text-[var(--accent-violet)]","Mutual Fund":"bg-blue-500/15 text-[var(--accent-blue)]",Trading:"bg-orange-500/15 text-[var(--accent-orange)]",Demat:"bg-amber-500/15 text-[var(--accent-amber)]","Direct AMC":"bg-emerald-500/15 text-emerald-400",Broker:"bg-rose-500/15 text-[var(--accent-rose)]"};function ele(){const{selectedMember:e,member:t}=Hr(),{investmentAccounts:r,addInvestmentAccount:n,updateInvestmentAccount:i,deleteInvestmentAccount:l}=xt(),{showToast:c,showBlockUI:u,hideBlockUI:f}=ui(),m=di(),{mv:p}=Pa(),[x,v]=N.useState(null);if(r===null)return a.jsx(pi,{title:"Loading investment accounts",cards:4});const g=N.useMemo(()=>{const C=r.filter(M=>M.status!=="Inactive");return e==="all"?C:C.filter(M=>M.memberId===e)},[r,e]),j=N.useMemo(()=>new Set(g.map(C=>C.platformBroker)).size,[g]),y=g.filter(C=>C.accountType==="Demat + Trading"||C.accountType==="Demat"||C.accountType==="Trading").length,w=g.filter(C=>C.accountType==="Mutual Fund"||C.accountType==="Direct AMC").length;async function A(C){u("Saving...");try{x?.edit?await i(x.edit.accountId,C):await n(C),c(x?.edit?"Investment account updated":"Investment account added"),v(null)}catch(M){c(M.message||"Failed to save investment account","error")}finally{f()}}async function k(){if(x?.edit&&await m("Deactivate this investment account?",{title:"Deactivate Account",confirmLabel:"Deactivate"})){u("Deactivating...");try{await l(x.edit.accountId),c("Investment account deactivated"),v(null)}catch(C){c(C.message||"Failed to deactivate investment account","error")}finally{f()}}}return a.jsxs("div",{className:"space-y-4",children:[g.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(gO,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No investment accounts",t?` for ${t.memberName}`:""]}),a.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first investment account"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(Wm,{label:"Total Accounts",value:g.length}),a.jsx(Wm,{label:"Platforms",value:j}),a.jsx(Wm,{label:"Demat / Trading",value:y}),a.jsx(Wm,{label:"Mutual Fund",value:w})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Zr,{size:14})," Add Account"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[620px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Platform"}),!t&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Client ID"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Bank"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:g.map(C=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-4",children:a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:C.accountName})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:C.platformBroker}),!t&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:p(C.memberName,"name")}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${FD[C.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:C.accountType})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:p(C.accountClientId,"clientId")}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-dim)]",children:C.bankAccountName}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>v({edit:C}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(ma,{size:12})})})]},C.accountId))})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:g.map(C=>a.jsxs("div",{onClick:()=>v({edit:C}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:C.accountName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${FD[C.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:C.accountType})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[C.platformBroker,t?"":`  ${p(C.memberName,"name")}`]}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Client: ",p(C.accountClientId,"clientId")]}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:C.bankAccountName})]})]},C.accountId))})]})]}),a.jsx(hr,{open:!!x,onClose:()=>v(null),title:x?.edit?"Edit Investment Account":"Add Investment Account",wide:!0,children:a.jsx(Jse,{initial:x?.edit||void 0,onSave:A,onDelete:x?.edit?k:void 0,onCancel:()=>v(null)})})]})}function Wm({label:e,value:t}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:t})]})}const tle=["Term Life","Health","Motor","Home Insurance","Travel","Personal Accident","Life Insurance","Others"].map(e=>({value:e,label:e})),rle=[{value:"Active",label:"Active"},{value:"Expired",label:"Expired"},{value:"Surrendered",label:"Surrendered"},{value:"Lapsed",label:"Lapsed"},{value:"Inactive",label:"Inactive"}];function nle({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:i}=xt(),l=!!e,[c,u]=N.useState({policyType:e?.policyType||"",company:e?.company||"",policyNumber:e?.policyNumber||"",policyName:e?.policyName||"",insuredMember:e?.insuredMember||"",memberId:e?.memberId||"",sumAssured:e?.sumAssured||"",nominee:e?.nominee||"",premium:e?.premium||"",premiumFrequency:e?.premiumFrequency||"Annual",status:e?.status||"Active",notes:e?.notes||""}),[f,m]=N.useState({}),[p,x]=N.useState(!1);function v(A,k){u(C=>({...C,[A]:k})),m(C=>({...C,[A]:void 0}))}function g(A){const k=i.find(C=>C.memberId===A);u(C=>({...C,memberId:A,insuredMember:k?.memberName||""})),m(C=>({...C,memberId:void 0}))}function j(){const A={};return c.policyType||(A.policyType="Required"),c.company.trim()||(A.company="Required"),c.policyNumber.trim()||(A.policyNumber="Required"),c.policyName.trim()||(A.policyName="Required"),c.memberId||(A.memberId="Required"),(!c.sumAssured||Number(c.sumAssured)<=0)&&(A.sumAssured="Must be > 0"),m(A),Object.keys(A).length===0}async function y(){if(j()){x(!0);try{await t({...c,sumAssured:Number(c.sumAssured),premium:Number(c.premium)||0})}finally{x(!1)}}}const w=i.map(A=>({value:A.memberId,label:`${A.memberName} (${A.relationship})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(he,{label:"Policy Type",required:!0,error:f.policyType,children:a.jsx(tt,{value:c.policyType,onChange:A=>v("policyType",A),options:tle,placeholder:"Select type..."})}),a.jsx(he,{label:"Insurance Company",required:!0,error:f.company,children:a.jsx(Pe,{value:c.company,onChange:A=>v("company",A),placeholder:"e.g., HDFC Life"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(he,{label:"Policy Number",required:!0,error:f.policyNumber,children:a.jsx(Pe,{sensitive:!0,value:c.policyNumber,onChange:A=>v("policyNumber",A),placeholder:"e.g., HL-2024-78901"})}),a.jsx(he,{label:"Policy Name",required:!0,error:f.policyName,children:a.jsx(Pe,{value:c.policyName,onChange:A=>v("policyName",A),placeholder:"e.g., Click 2 Protect Life"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(he,{label:"Insured Member",required:!0,error:f.memberId,children:a.jsx(tt,{value:c.memberId,onChange:g,options:w,placeholder:"Select member..."})}),a.jsx(he,{label:"Nominee",children:a.jsx(tt,{value:c.nominee,onChange:A=>v("nominee",A),options:w.map(A=>({...A,label:A.label.split(" (")[0]})),placeholder:"Select nominee (optional)..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(he,{label:"Sum Assured ()",required:!0,error:f.sumAssured,children:a.jsx(Pe,{type:"number",value:c.sumAssured,onChange:A=>v("sumAssured",A),placeholder:"e.g., 10000000"})}),a.jsx(he,{label:"Premium ()",children:a.jsx(Pe,{type:"number",value:c.premium,onChange:A=>v("premium",A),placeholder:"e.g., 12500"})}),a.jsx(he,{label:"Premium Frequency",children:a.jsx(tt,{value:c.premiumFrequency,onChange:A=>v("premiumFrequency",A),options:[{value:"Annual",label:"Annual"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"}]})})]}),l&&a.jsx(he,{label:"Status",children:a.jsx(tt,{value:c.status,onChange:A=>v("status",A),options:rle})}),a.jsx(he,{label:"Notes",children:a.jsx(Dc,{value:c.notes,onChange:A=>v("notes",A),placeholder:"Additional information..."})}),a.jsxs("div",{className:"flex items-center justify-between",children:[l&&r?a.jsx(ls,{onClick:r}):a.jsx("div",{}),a.jsx(fn,{onCancel:n,onSubmit:y,submitLabel:l?"Update":"Add Policy",loading:p})]})]})}const zD={"Term Life":"bg-rose-500/15 text-[var(--accent-rose)]",Health:"bg-emerald-500/15 text-emerald-400",Motor:"bg-blue-500/15 text-[var(--accent-blue)]","Home Insurance":"bg-amber-500/15 text-[var(--accent-amber)]",Travel:"bg-violet-500/15 text-[var(--accent-violet)]","Life Insurance":"bg-rose-500/15 text-[var(--accent-rose)]","Personal Accident":"bg-orange-500/15 text-[var(--accent-orange)]"};function ale(){const{selectedMember:e,member:t}=Hr(),{insurancePolicies:r,addInsurance:n,updateInsurance:i,deleteInsurance:l}=xt(),{showToast:c,showBlockUI:u,hideBlockUI:f}=ui(),m=di(),{mv:p}=Pa(),[x,v]=N.useState(null);if(r===null)return a.jsx(pi,{title:"Loading insurance",cards:5});const g=N.useMemo(()=>{const M=r.filter(E=>E.status!=="Inactive");return e==="all"?M:M.filter(E=>E.memberId===e)},[r,e]),j=g.reduce((M,E)=>M+(E.sumAssured||0),0),y=g.reduce((M,E)=>M+(E.premium||0),0),w=g.filter(M=>M.policyType==="Term Life"||M.policyType==="Life Insurance").reduce((M,E)=>M+(E.sumAssured||0),0),A=g.filter(M=>M.policyType==="Health").reduce((M,E)=>M+(E.sumAssured||0),0);async function k(M){u("Saving...");try{x?.edit?await i(x.edit.policyId,M):await n(M),c(x?.edit?"Insurance policy updated":"Insurance policy added"),v(null)}catch(E){c(E.message||"Failed to save insurance policy","error")}finally{f()}}async function C(){if(x?.edit&&await m("Deactivate this insurance policy?",{title:"Deactivate Policy",confirmLabel:"Deactivate"})){u("Deactivating...");try{await l(x.edit.policyId),c("Insurance policy deactivated"),v(null)}catch(M){c(M.message||"Failed to deactivate insurance policy","error")}finally{f()}}}return a.jsxs("div",{className:"space-y-4",children:[g.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(cc,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No insurance policies",t?` for ${t.memberName}`:""]}),a.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first policy"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[a.jsx(rd,{label:"Policies",value:g.length}),a.jsx(rd,{label:"Total Cover",value:Q(j),bold:!0}),a.jsx(rd,{label:"Life Cover",value:Q(w)}),a.jsx(rd,{label:"Health Cover",value:Q(A)}),a.jsx(rd,{label:"Annual Premium",value:Q(y)})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[a.jsx("p",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider mb-3",children:"Coverage Adequacy"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(BD,{label:"Life Insurance",current:w,recommended:"10-15x annual income",tip:"Term life cover should be 10-15x your annual income to protect dependents",icon:"heart"}),a.jsx(BD,{label:"Health Insurance",current:A,recommended:"50L - 1Cr family floater",tip:"Considering medical inflation, a 50L-1Cr family floater is recommended",icon:"shield"})]})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Zr,{size:14})," Add Policy"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Policy"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Company"}),!t&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Insured"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Sum Assured"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Premium"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:g.map(M=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:M.policyName}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:p(M.policyNumber,"policy")})]}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${zD[M.policyType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.policyType})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:M.company}),!t&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:M.insuredMember}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(M.sumAssured)}),a.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:[Q(M.premium),"/",M.premiumFrequency==="Annual"?"yr":"mo"]}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>v({edit:M}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(ma,{size:12})})})]},M.policyId))})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:g.map(M=>a.jsxs("div",{onClick:()=>v({edit:M}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:M.policyName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${zD[M.policyType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.policyType})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[M.company,t?"":`  ${M.insuredMember}`]}),a.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Cover"}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(M.sumAssured)})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Premium"}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:[Q(M.premium),"/",M.premiumFrequency==="Annual"?"yr":"mo"]})]})]})]},M.policyId))})]})]}),a.jsx(hr,{open:!!x,onClose:()=>v(null),title:x?.edit?"Edit Insurance Policy":"Add Insurance Policy",wide:!0,children:a.jsx(nle,{initial:x?.edit||void 0,onSave:k,onDelete:x?.edit?C:void 0,onCancel:()=>v(null)})})]})}function BD({label:e,current:t,recommended:r,tip:n}){const i=t===0;return a.jsxs("div",{className:`rounded-lg border px-3 py-2.5 ${i?"border-rose-500/30 bg-rose-500/5":"border-[var(--border)] bg-[var(--bg-inset)]"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:e}),i?a.jsx("span",{className:"text-xs font-bold text-[var(--accent-rose)]",children:"Not covered"}):a.jsx("span",{className:"text-xs font-semibold text-emerald-400",children:Q(t)})]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Recommended: ",r]}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5 italic",children:n})]})}function rd({label:e,value:t,bold:r}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:`text-sm tabular-nums ${r?"font-bold":"font-semibold"} text-[var(--text-primary)]`,children:t})]})}const ile=["Home Loan","Car Loan","Personal Loan","Education Loan","Gold Loan","Credit Card","Business Loan","Loan Against Property","Other"].map(e=>({value:e,label:e})),sle=[{value:"Active",label:"Active"},{value:"Closed",label:"Closed"},{value:"Inactive",label:"Inactive"}];function lle({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:i,otherInvList:l}=xt(),c=!!e,[u,f]=N.useState({liabilityType:e?.liabilityType||"",lenderName:e?.lenderName||"",familyMemberId:e?.familyMemberId||"",outstandingBalance:e?.outstandingBalance||"",emiAmount:e?.emiAmount||"",interestRate:e?.interestRate||"",linkedInvestmentId:e?.linkedInvestmentId||"",status:e?.status||"Active",notes:e?.notes||""}),[m,p]=N.useState({}),[x,v]=N.useState(!1);function g(C,M){f(E=>({...E,[C]:M})),p(E=>({...E,[C]:void 0}))}function j(){const C={};return u.liabilityType||(C.liabilityType="Required"),u.lenderName.trim()||(C.lenderName="Required"),(!u.outstandingBalance||Number(u.outstandingBalance)<=0)&&(C.outstandingBalance="Must be > 0"),p(C),Object.keys(C).length===0}async function y(){if(j()){v(!0);try{await t({...u,outstandingBalance:Number(u.outstandingBalance),emiAmount:Number(u.emiAmount)||0,interestRate:Number(u.interestRate)||0,linkedInvestmentId:u.linkedInvestmentId||""})}finally{v(!1)}}}const w=i.map(C=>({value:C.memberId,label:`${C.memberName} (${C.relationship})`})),A=(l||[]).filter(C=>C.status!=="Inactive"),k=[{value:"",label:"None"},...A.map(C=>({value:C.investmentId,label:`${C.investmentName} (${C.investmentType}  ${Q(C.currentValue)})`}))];return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(he,{label:"Liability Type",required:!0,error:m.liabilityType,children:a.jsx(tt,{value:u.liabilityType,onChange:C=>g("liabilityType",C),options:ile,placeholder:"Select type..."})}),a.jsx(he,{label:"Lender / Bank",required:!0,error:m.lenderName,children:a.jsx(Pe,{value:u.lenderName,onChange:C=>g("lenderName",C),placeholder:"e.g., HDFC Bank"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(he,{label:"Family Member",children:a.jsx(tt,{value:u.familyMemberId,onChange:C=>g("familyMemberId",C),options:w,placeholder:"Select member (optional)..."})}),a.jsx(he,{label:"Outstanding Balance ()",required:!0,error:m.outstandingBalance,children:a.jsx(Pe,{type:"number",value:u.outstandingBalance,onChange:C=>g("outstandingBalance",C),placeholder:"e.g., 3500000"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(he,{label:"EMI Amount ()",children:a.jsx(Pe,{type:"number",value:u.emiAmount,onChange:C=>g("emiAmount",C),placeholder:"e.g., 32000"})}),a.jsx(he,{label:"Interest Rate (%)",children:a.jsx(Pe,{type:"number",value:u.interestRate,onChange:C=>g("interestRate",C),placeholder:"e.g., 8.5",step:"0.01"})})]}),a.jsx(he,{label:"Linked Investment",children:a.jsx(tt,{value:u.linkedInvestmentId,onChange:C=>g("linkedInvestmentId",C),options:k,placeholder:"Link to an investment (optional)..."})}),c&&a.jsx(he,{label:"Status",children:a.jsx(tt,{value:u.status,onChange:C=>g("status",C),options:sle})}),a.jsx(he,{label:"Notes",children:a.jsx(Dc,{value:u.notes,onChange:C=>g("notes",C),placeholder:"e.g., Flat in Kondapur"})}),a.jsxs("div",{className:"flex items-center justify-between",children:[c&&r?a.jsx(ls,{onClick:r}):a.jsx("div",{}),a.jsx(fn,{onCancel:n,onSubmit:y,submitLabel:c?"Update":"Add Liability",loading:x})]})]})}const $D={"Home Loan":"bg-blue-500/15 text-[var(--accent-blue)]","Car Loan":"bg-amber-500/15 text-[var(--accent-amber)]","Gold Loan":"bg-orange-500/15 text-[var(--accent-orange)]","Personal Loan":"bg-violet-500/15 text-[var(--accent-violet)]","Education Loan":"bg-emerald-500/15 text-emerald-400","Credit Card":"bg-rose-500/15 text-[var(--accent-rose)]"};function ole(){const{selectedMember:e,member:t}=Hr(),{liabilityList:r,otherInvList:n,addLiability:i,updateLiability:l,deleteLiability:c}=xt(),{showToast:u,showBlockUI:f,hideBlockUI:m}=ui(),p=di(),[x,v]=N.useState(null);if(r===null)return a.jsx(pi,{title:"Loading liabilities",cards:4});const g=N.useMemo(()=>{const E=r.filter(O=>O.status!=="Inactive");return e==="all"?E:E.filter(O=>O.familyMemberId===e)},[r,e]),j=g.reduce((E,O)=>E+(O.outstandingBalance||0),0),y=g.reduce((E,O)=>E+(O.emiAmount||0),0),w=g.filter(E=>E.status==="Active").length,A=N.useMemo(()=>{const E={};return n&&n.forEach(O=>{E[O.investmentId]=O}),E},[n]),k=N.useMemo(()=>{const E={};return n&&n.forEach(O=>{O.linkedLiabilityId&&O.linkedLiabilityId.split(",").map(P=>P.trim()).filter(Boolean).forEach(P=>{E[P]=O})}),E},[n]);async function C(E){f("Saving...");try{x?.edit?await l(x.edit.liabilityId,E):await i(E),u(x?.edit?"Liability updated":"Liability added"),v(null)}catch(O){u(O.message||"Failed to save liability","error")}finally{m()}}async function M(){if(x?.edit&&await p("Deactivate this liability?",{title:"Deactivate Liability",confirmLabel:"Deactivate"})){f("Deactivating...");try{await c(x.edit.liabilityId),u("Liability deactivated"),v(null)}catch(E){u(E.message||"Failed to deactivate liability","error")}finally{m()}}}return a.jsxs("div",{className:"space-y-4",children:[g.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx($h,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No liabilities",t?` for ${t.memberName}`:""]}),a.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add a liability"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(Km,{label:"Liabilities",value:`${w} active`}),a.jsx(Km,{label:"Outstanding",value:Q(j),color:"rose",bold:!0}),a.jsx(Km,{label:"Monthly EMI",value:Q(y),color:"rose"}),a.jsx(Km,{label:"Avg. Interest",value:g.length>0?`${(g.reduce((E,O)=>E+(O.interestRate||0),0)/g.length).toFixed(1)}%`:""})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Zr,{size:14})," Add Liability"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[640px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Lender"}),!t&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Outstanding"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"EMI"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Interest"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Remaining"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Asset"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:g.map(E=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${$D[E.liabilityType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:E.liabilityType}),E.notes&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:E.notes})]}),a.jsx("td",{className:"py-2.5 px-3 text-sm font-medium text-[var(--text-primary)]",children:E.lenderName}),!t&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:E.familyMemberName}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:Q(E.outstandingBalance)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:E.emiAmount?`${Q(E.emiAmount)}/mo`:""}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:E.interestRate?`${E.interestRate}%`:""}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:E.emiAmount>0&&E.outstandingBalance>0?`${Math.ceil(E.outstandingBalance/E.emiAmount)} mo`:""}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:(()=>{const O=E.linkedInvestmentId&&A[E.linkedInvestmentId]||k[E.liabilityId];return O?a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-primary)]",children:O.investmentName}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:O.investmentType})]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})()}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>v({edit:E}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(ma,{size:12})})})]},E.liabilityId))})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:g.map(E=>a.jsxs("div",{onClick:()=>v({edit:E}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${$D[E.liabilityType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:E.liabilityType}),a.jsx("p",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:Q(E.outstandingBalance)})]}),a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:E.lenderName}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[E.familyMemberName,E.notes?`  ${E.notes}`:""]}),a.jsxs("div",{className:"text-right",children:[E.emiAmount>0&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:["EMI: ",Q(E.emiAmount),"/mo"]}),E.emiAmount>0&&E.outstandingBalance>0&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:[Math.ceil(E.outstandingBalance/E.emiAmount)," months left"]})]})]}),(()=>{const O=E.linkedInvestmentId&&A[E.linkedInvestmentId]||k[E.liabilityId];return O?a.jsxs("div",{className:"mt-1.5 flex items-center justify-between bg-blue-500/5 rounded px-2 py-1",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Linked"}),a.jsx("span",{className:"text-xs text-[var(--text-secondary)]",children:O.investmentName})]}):null})()]},E.liabilityId))})]})]}),a.jsx(hr,{open:!!x,onClose:()=>v(null),title:x?.edit?"Edit Liability":"Add Liability",children:a.jsx(lle,{initial:x?.edit||void 0,onSave:C,onDelete:x?.edit?M:void 0,onCancel:()=>v(null)})})]})}function Km({label:e,value:t,color:r,bold:n}){const i=r==="rose"?"text-[var(--accent-rose)]":"text-[var(--text-primary)]";return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:`text-sm tabular-nums ${n?"font-bold":"font-semibold"} ${i}`,children:t})]})}const cle="cf_market_data",ZI=[{value:"Fixed Deposit",category:"Debt"},{value:"PPF",category:"Debt"},{value:"EPF",category:"Debt"},{value:"NPS",category:"Debt"},{value:"Sovereign Gold Bond",category:"Gold"},{value:"Physical Gold",category:"Gold"},{value:"Digital Gold",category:"Gold"},{value:"Real Estate",category:"Property"},{value:"Bonds",category:"Debt"},{value:"Physical Silver",category:"Silver"},{value:"Digital Silver",category:"Silver"},{value:"Crypto",category:"Alternative"},{value:"Other",category:"Other"}],Zb={"Real Estate":"Home Loan"},ule=ZI.map(e=>({value:e.value,label:e.value})),dle=["Equity","Debt","Gold","Silver","Property","Alternative","Other"].map(e=>({value:e,label:e})),fle=[{value:"Active",label:"Active"},{value:"Sold",label:"Sold"},{value:"Matured",label:"Matured"},{value:"Inactive",label:"Inactive"}],HD=[{value:"24K",label:"24K (99.9%)",factor:.999},{value:"22K",label:"22K (91.6%)",factor:.916},{value:"18K",label:"18K (75.0%)",factor:.75}],qD=[{value:"999",label:"999 Fine (99.9%)",factor:.999},{value:"925",label:"925 Sterling (92.5%)",factor:.925}];function Cp(e){return["Physical Gold","Digital Gold","Sovereign Gold Bond"].includes(e)}function mle(e){return["Physical Silver","Digital Silver"].includes(e)||e&&e.toLowerCase().includes("silver")}function Jb(e){return Cp(e)||mle(e)}function ple(e){try{const t=sessionStorage.getItem(cle);if(!t)return null;const r=JSON.parse(t);if(!r.metals)return null;const n=e==="gold"?"Gold":"Silver",i=r.metals.find(l=>l.name.toLowerCase().includes(n.toLowerCase()));return i?i.price:null}catch{return null}}function hle({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:i,liabilityList:l}=xt(),c=!!e;function u(R){return ZI.find(G=>G.value===R)?.category||"Other"}const f=e?.dynamicFields?typeof e.dynamicFields=="string"?JSON.parse(e.dynamicFields):e.dynamicFields:{},[m,p]=N.useState({investmentType:e?.investmentType||"",investmentCategory:e?.investmentCategory||"",investmentName:e?.investmentName||"",customType:e?.customType||"",familyMemberId:e?.familyMemberId||"",investedAmount:e?.investedAmount||"",currentValue:e?.currentValue||"",linkedLiabilityIds:e?.linkedLiabilityId?e.linkedLiabilityId.split(",").map(R=>R.trim()).filter(Boolean):[],status:e?.status||"Active",notes:e?.notes||""}),[x,v]=N.useState(f.weightGrams||""),[g,j]=N.useState(f.purity||""),[y,w]=N.useState(null),[A,k]=N.useState(!1),[C,M]=N.useState({lenderName:"",outstandingBalance:"",emiAmount:"",interestRate:""});N.useEffect(()=>{if(!Jb(m.investmentType)||!x||Number(x)<=0){w(null);return}const R=Cp(m.investmentType)?"gold":"silver",G=ple(R);if(!G){w(null);return}const we=(R==="gold"?HD:qD).find(F=>F.value===g),Ne=we?we.factor:1;w(Math.round(Number(x)*G*Ne))},[m.investmentType,x,g]);const[E,O]=N.useState({}),[P,T]=N.useState(!1);function $(R,G){p(me=>({...me,[R]:G})),O(me=>({...me,[R]:void 0}))}function L(R){p(G=>({...G,investmentType:R,investmentCategory:u(R)})),O(G=>({...G,investmentType:void 0}))}function H(R,G){M(me=>({...me,[R]:G}))}function D(){const R={};return m.investmentType||(R.investmentType="Required"),m.investmentType==="Other"&&!m.customType?.trim()&&(R.customType="Specify the type"),m.investmentName.trim()||(R.investmentName="Required"),(!m.currentValue||Number(m.currentValue)<0)&&(R.currentValue="Required"),A&&(C.lenderName.trim()||(R.qlLender="Required"),(!C.outstandingBalance||Number(C.outstandingBalance)<=0)&&(R.qlOutstanding="Must be > 0")),O(R),Object.keys(R).length===0}async function Z(){if(!D())return;const R={...m,investmentType:m.investmentType==="Other"?m.customType.trim():m.investmentType,familyMember:m.familyMemberId,investedAmount:Number(m.investedAmount)||0,currentValue:Number(m.currentValue)||0,linkedLiabilityId:m.linkedLiabilityIds.join(",")};delete R.linkedLiabilityIds,delete R.customType,Jb(m.investmentType)&&(R.dynamicFields=JSON.stringify({weightGrams:Number(x)||0,purity:g||""})),A&&C.lenderName&&(R.quickLoan={liabilityType:Zb[m.investmentType]||"Personal Loan",lender:C.lenderName,outstanding:Number(C.outstandingBalance)||0,emiAmount:Number(C.emiAmount)||0,interestRate:Number(C.interestRate)||0}),T(!0);try{await t(R)}finally{T(!1)}}const K=(l||[]).filter(R=>R.status!=="Inactive"),J=(i||[]).map(R=>({value:R.memberId,label:`${R.memberName} (${R.relationship})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(he,{label:"Investment Type",required:!0,error:E.investmentType,children:a.jsx(tt,{value:m.investmentType,onChange:L,options:ule,placeholder:"Select type..."})}),a.jsx(he,{label:"Category",children:a.jsx(tt,{value:m.investmentCategory,onChange:R=>$("investmentCategory",R),options:dle,placeholder:"Auto-selected..."})})]}),m.investmentType==="Other"&&a.jsx(he,{label:"Custom Type",required:!0,error:E.customType,children:a.jsx(Pe,{value:m.customType||"",onChange:R=>$("customType",R),placeholder:"e.g., Art, Collectibles, ULIP..."})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(he,{label:"Investment Name",required:!0,error:E.investmentName,children:a.jsx(Pe,{value:m.investmentName,onChange:R=>$("investmentName",R),placeholder:"e.g., HDFC FD - 7.5%"})}),a.jsx(he,{label:"Family Member",children:a.jsx(tt,{value:m.familyMemberId,onChange:R=>$("familyMemberId",R),options:J,placeholder:"Select member (optional)..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(he,{label:"Invested Amount",children:a.jsx(Pe,{type:"number",value:m.investedAmount,onChange:R=>$("investedAmount",R),placeholder:"e.g., 500000"})}),a.jsx(he,{label:"Current Value",required:!0,error:E.currentValue,children:a.jsx(Pe,{type:"number",value:m.currentValue,onChange:R=>$("currentValue",R),placeholder:"e.g., 537500"})})]}),Jb(m.investmentType)&&a.jsxs("div",{className:"p-3 bg-[var(--bg-inset)] rounded-lg space-y-3",children:[a.jsxs("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider",children:[Cp(m.investmentType)?"Gold":"Silver"," Details"]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(he,{label:"Weight (grams)",children:a.jsx(Pe,{type:"number",value:x,onChange:v,placeholder:"e.g., 50"})}),a.jsx(he,{label:"Purity",children:a.jsx(tt,{value:g,onChange:j,options:(Cp(m.investmentType)?HD:qD).map(R=>({value:R.value,label:R.label})),placeholder:"Select purity..."})})]}),y!==null&&a.jsxs("div",{className:"flex items-center justify-between bg-[var(--bg-card)] rounded-lg px-3 py-2 border border-[var(--border)]",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Estimated market value"}),a.jsx("p",{className:"text-sm font-bold text-emerald-400 tabular-nums",children:Q(y)})]}),a.jsx("button",{type:"button",onClick:()=>$("currentValue",String(y)),className:"text-xs font-semibold text-violet-400 hover:text-violet-300 px-3 py-1.5 rounded-lg bg-violet-500/10 border border-violet-500/20 transition-colors",children:"Use this value"})]})]}),Zb[m.investmentType]&&a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-4",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider mb-2",children:"Linked Loans"}),m.linkedLiabilityIds.length>0&&a.jsx("div",{className:"space-y-1.5 mb-3",children:m.linkedLiabilityIds.map(R=>{const G=K.find(me=>me.liabilityId===R);return G?a.jsxs("div",{className:"flex items-center justify-between bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border)]",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:[G.liabilityType,"  ",G.lenderName]}),a.jsx("p",{className:"text-xs text-[var(--accent-rose)] tabular-nums",children:Q(G.outstandingBalance)})]}),a.jsx("button",{type:"button",onClick:()=>$("linkedLiabilityIds",m.linkedLiabilityIds.filter(me=>me!==R)),className:"text-xs text-[var(--text-dim)] hover:text-[var(--accent-rose)] transition-colors px-2 py-1",children:"Remove"})]},R):null})}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("div",{className:"flex-1",children:a.jsx(tt,{value:"",onChange:R=>{R&&!m.linkedLiabilityIds.includes(R)&&($("linkedLiabilityIds",[...m.linkedLiabilityIds,R]),k(!1))},options:[{value:"",label:"Link an existing loan..."},...K.filter(R=>!m.linkedLiabilityIds.includes(R.liabilityId)).map(R=>({value:R.liabilityId,label:`${R.liabilityType}  ${R.lenderName} (${Q(R.outstandingBalance)})`}))]})})}),!c&&a.jsx("div",{className:"mt-2",children:a.jsx("button",{type:"button",onClick:()=>k(!A),className:"text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:A?" Cancel quick loan":`+ Create new loan (${Zb[m.investmentType]})`})}),A&&a.jsxs("div",{className:"mt-3 p-3 bg-[var(--bg-inset)] rounded-lg space-y-3",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider",children:"Quick Loan"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(he,{label:"Lender",required:!0,error:E.qlLender,children:a.jsx(Pe,{value:C.lenderName,onChange:R=>H("lenderName",R),placeholder:"e.g., HDFC Bank"})}),a.jsx(he,{label:"Outstanding Balance",required:!0,error:E.qlOutstanding,children:a.jsx(Pe,{type:"number",value:C.outstandingBalance,onChange:R=>H("outstandingBalance",R),placeholder:"e.g., 3500000"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(he,{label:"EMI (monthly)",children:a.jsx(Pe,{type:"number",value:C.emiAmount,onChange:R=>H("emiAmount",R),placeholder:"e.g., 32000"})}),a.jsx(he,{label:"Interest Rate %",children:a.jsx(Pe,{type:"number",value:C.interestRate,onChange:R=>H("interestRate",R),placeholder:"e.g., 8.5"})})]})]})]}),c&&a.jsx(he,{label:"Status",children:a.jsx(tt,{value:m.status,onChange:R=>$("status",R),options:fle})}),a.jsx(he,{label:"Notes",children:a.jsx(Dc,{value:m.notes,onChange:R=>$("notes",R),placeholder:"Additional information..."})}),a.jsxs("div",{className:"flex items-center justify-between",children:[c&&r?a.jsx(ls,{onClick:r}):a.jsx("div",{}),a.jsx(fn,{onCancel:n,onSubmit:Z,submitLabel:c?"Update":"Add Investment",loading:P})]})]})}const UD={Debt:"bg-blue-500/15 text-[var(--accent-blue)]",Gold:"bg-amber-500/15 text-[var(--accent-amber)]",Property:"bg-orange-500/15 text-[var(--accent-orange)]",Equity:"bg-emerald-500/15 text-emerald-400",Alternative:"bg-violet-500/15 text-[var(--accent-violet)]"};function xle(){const{selectedMember:e,member:t}=Hr(),{otherInvList:r,liabilityList:n,addOtherInvestment:i,updateOtherInvestment:l,deleteOtherInvestment:c}=xt(),{showToast:u,showBlockUI:f,hideBlockUI:m}=ui(),p=di(),[x,v]=N.useState(null);if(r===null)return a.jsx(pi,{title:"Loading investments",cards:5});const g=N.useMemo(()=>{const M=r.filter(E=>E.status!=="Inactive");return e==="all"?M:M.filter(E=>E.familyMemberId===e)},[r,e]),j=g.reduce((M,E)=>M+(E.investedAmount||0),0),y=g.reduce((M,E)=>M+(E.currentValue||0),0),w=N.useMemo(()=>{const M={};return n.forEach(E=>{M[E.liabilityId]=E}),M},[n]),A=g.reduce((M,E)=>{if(!E.linkedLiabilityId)return M;const O=E.linkedLiabilityId.split(",").map(P=>P.trim()).filter(Boolean);return M+O.reduce((P,T)=>P+(w[T]?.outstandingBalance||0),0)},0);async function k(M){f("Saving...");try{x?.edit?await l(x.edit.investmentId,M):await i(M),u(x?.edit?"Investment updated":"Investment added"),v(null)}catch(E){u(E.message||"Failed to save investment","error")}finally{m()}}async function C(){if(x?.edit&&await p("Deactivate this investment?",{title:"Deactivate Investment",confirmLabel:"Deactivate"})){f("Deactivating...");try{await c(x.edit.investmentId),u("Investment deactivated"),v(null)}catch(M){u(M.message||"Failed to deactivate investment","error")}finally{m()}}}return a.jsxs("div",{className:"space-y-4",children:[g.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(MO,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No other investments",t?` for ${t.memberName}`:""]}),a.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add an investment"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(Qm,{label:"Invested",value:Q(j)}),a.jsx(Qm,{label:"Current Value",value:Q(y),bold:!0}),A>0&&a.jsx(Qm,{label:"Linked Loans",value:Q(A),color:"rose"}),a.jsx(Qm,{label:"Holdings",value:g.length})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Zr,{size:14})," Add Investment"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[720px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Investment"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Category"}),!t&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Invested"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Loan"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:g.map(M=>{const E=(M.currentValue||0)-(M.investedAmount||0),O=E>=0;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:M.investmentName}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:M.investmentType})]}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${UD[M.investmentCategory]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.investmentCategory})}),!t&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:M.familyMemberName}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:Q(M.investedAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(M.currentValue)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:M.investedAmount>0?a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${O?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[O?"+":"",Q(E)]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:(()=>{const T=(M.linkedLiabilityId?M.linkedLiabilityId.split(",").map($=>$.trim()).filter(Boolean):[]).map($=>w[$]).filter(Boolean);return T.length===0?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):a.jsx("div",{className:"space-y-0.5",children:T.map($=>a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:Q($.outstandingBalance)}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:$.liabilityType})]},$.liabilityId))})})()}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>v({edit:M}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(ma,{size:12})})})]},M.investmentId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:g.map(M=>{const E=(M.currentValue||0)-(M.investedAmount||0),O=E>=0;return a.jsxs("div",{onClick:()=>v({edit:M}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:M.investmentName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${UD[M.investmentCategory]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.investmentCategory})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[M.familyMemberName,"  ",M.investmentType]}),a.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Invested"}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:Q(M.investedAmount)})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Current"}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(M.currentValue)})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"P&L"}),M.investedAmount>0?a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${O?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[O?"+":"",Q(E)]}):a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:""})]})]}),(()=>{const T=(M.linkedLiabilityId?M.linkedLiabilityId.split(",").map($=>$.trim()).filter(Boolean):[]).map($=>w[$]).filter(Boolean);return T.length===0?null:T.map($=>a.jsxs("div",{className:"mt-1.5 flex items-center justify-between bg-rose-500/5 rounded px-2 py-1",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:$.liabilityType}),a.jsx("span",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:Q($.outstandingBalance)})]},$.liabilityId))})()]},M.investmentId)})})]})]}),a.jsx(hr,{open:!!x,onClose:()=>v(null),title:x?.edit?"Edit Investment":"Add Investment",wide:!0,children:a.jsx(hle,{initial:x?.edit||void 0,onSave:k,onDelete:x?.edit?C:void 0,onCancel:()=>v(null)})})]})}function Qm({label:e,value:t,sub:r,positive:n,bold:i,color:l}){const c=l==="rose"?"text-[var(--accent-rose)]":n===void 0?"text-[var(--text-primary)]":n?"text-emerald-400":"text-[var(--accent-rose)]";return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:`text-sm tabular-nums ${i?"font-bold":"font-semibold"} ${c}`,children:t}),r&&a.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${n?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}function vle({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:i,activeInvestmentAccounts:l}=xt(),c=!!e,[u,f]=N.useState({portfolioName:(e?.portfolioName||"").replace(/^PFL-/,""),investmentAccountId:e?.investmentAccountId||"",ownerId:e?.ownerId||"",initialInvestment:e?.initialInvestment||0,sipTarget:e?.sipTarget||"",lumpsumTarget:e?.lumpsumTarget||"",rebalanceThreshold:e?e.rebalanceThreshold*100:5}),[m,p]=N.useState({}),[x,v]=N.useState(!1),[g,j]=N.useState(!1);function y(E,O){f(P=>({...P,[E]:O})),p(P=>({...P,[E]:void 0}))}function w(E){f(O=>({...O,ownerId:E,investmentAccountId:""})),p(O=>({...O,ownerId:void 0}))}const A=l.filter(E=>u.ownerId?E.memberId===u.ownerId:!0).map(E=>({value:E.accountId,label:`${E.accountName} - ${E.platformBroker}`})),k=i.map(E=>({value:E.memberId,label:`${E.memberName} (${E.relationship})`}));function C(){const E={};return u.portfolioName.trim()||(E.portfolioName="Required"),u.ownerId||(E.ownerId="Required"),u.investmentAccountId||(E.investmentAccountId="Required"),p(E),Object.keys(E).length===0}async function M(){if(C()){v(!0);try{const E=l.find(P=>P.accountId===u.investmentAccountId),O=E?`${E.accountName} - ${E.platformBroker}`:u.investmentAccountId;await t({...u,investmentAccount:O,initialInvestment:Number(u.initialInvestment)||0,sipTarget:Number(u.sipTarget)||0,lumpsumTarget:Number(u.lumpsumTarget)||0,rebalanceThreshold:Number(u.rebalanceThreshold)})}finally{v(!1)}}}return a.jsxs("div",{className:"space-y-5",children:[a.jsx(he,{label:"Portfolio Name",required:!0,error:m.portfolioName,children:a.jsx(Pe,{value:u.portfolioName,onChange:E=>y("portfolioName",E),placeholder:"e.g., Long Term Wealth"})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(he,{label:"Owner",required:!0,error:m.ownerId,children:a.jsx(tt,{value:u.ownerId,onChange:w,options:k,placeholder:"Select member..."})}),a.jsx(he,{label:"Investment Account",required:!0,error:m.investmentAccountId,children:a.jsx(tt,{value:u.investmentAccountId,onChange:E=>y("investmentAccountId",E),options:A,placeholder:u.ownerId?A.length?"Select account...":"No MF accounts":"Select owner first..."})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(he,{label:"SIP Target (/month)",children:a.jsx(Pe,{type:"number",value:u.sipTarget,onChange:E=>y("sipTarget",E),placeholder:"e.g., 50000"})}),a.jsx(he,{label:"Lumpsum Target ()",children:a.jsx(Pe,{type:"number",value:u.lumpsumTarget,onChange:E=>y("lumpsumTarget",E),placeholder:"e.g., 200000"})})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-xs font-semibold text-[var(--text-muted)] whitespace-nowrap",children:"Rebalance Threshold"}),a.jsx("div",{className:"w-20 shrink-0",children:a.jsx("input",{type:"number",value:u.rebalanceThreshold,onChange:E=>y("rebalanceThreshold",E.target.value),placeholder:"5",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})}),a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"%"})]}),!c&&a.jsx(he,{label:"Initial Investment ()",children:a.jsx(Pe,{type:"number",value:u.initialInvestment,onChange:E=>y("initialInvestment",E),placeholder:"0 if unknown"})}),c&&r&&g&&a.jsxs("div",{className:"flex items-center gap-3 px-3 py-2.5 bg-rose-500/10 border border-rose-500/20 rounded-lg",children:[a.jsx(Vs,{size:15,className:"text-rose-400 shrink-0"}),a.jsx("p",{className:"text-xs text-rose-300/90 flex-1",children:"This will deactivate the portfolio and hide it from views. Are you sure?"}),a.jsxs("div",{className:"flex gap-2 shrink-0",children:[a.jsx("button",{onClick:()=>j(!1),className:"px-2.5 py-1 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded transition-colors",children:"No"}),a.jsx("button",{onClick:r,className:"px-2.5 py-1 text-xs font-semibold text-white bg-rose-600 hover:bg-rose-500 rounded transition-colors",children:"Yes, Deactivate"})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 mt-4 border-t border-[var(--border-light)]",children:[c&&r?a.jsxs("button",{onClick:()=>j(!0),disabled:x,className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-amber-400 border border-amber-500/30 hover:bg-amber-500/15 hover:border-amber-500/50 rounded-lg transition-colors disabled:opacity-40",children:[a.jsx(Vs,{size:13}),"Deactivate"]}):a.jsx("div",{}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:n,disabled:x,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),a.jsxs("button",{onClick:M,disabled:x,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 flex items-center gap-1.5",children:[x&&a.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),x?"Saving...":c?"Update":"Create Portfolio"]})]})]})]})}function ts(e){return Array.isArray?Array.isArray(e):tR(e)==="[object Array]"}function gle(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function ble(e){return e==null?"":gle(e)}function ri(e){return typeof e=="string"}function JI(e){return typeof e=="number"}function yle(e){return e===!0||e===!1||wle(e)&&tR(e)=="[object Boolean]"}function eR(e){return typeof e=="object"}function wle(e){return eR(e)&&e!==null}function Fn(e){return e!=null}function ey(e){return!e.trim().length}function tR(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const Nle="Incorrect 'index' type",jle=e=>`Invalid value for key ${e}`,Sle=e=>`Pattern length exceeds max of ${e}.`,Cle=e=>`Missing ${e} property in key`,Ale=e=>`Property 'weight' in key '${e}' must be a positive integer`,YD=Object.prototype.hasOwnProperty;class kle{constructor(t){this._keys=[],this._keyMap={};let r=0;t.forEach(n=>{let i=rR(n);this._keys.push(i),this._keyMap[i.id]=i,r+=i.weight}),this._keys.forEach(n=>{n.weight/=r})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function rR(e){let t=null,r=null,n=null,i=1,l=null;if(ri(e)||ts(e))n=e,t=VD(e),r=p1(e);else{if(!YD.call(e,"name"))throw new Error(Cle("name"));const c=e.name;if(n=c,YD.call(e,"weight")&&(i=e.weight,i<=0))throw new Error(Ale(c));t=VD(c),r=p1(c),l=e.getFn}return{path:t,id:r,weight:i,src:n,getFn:l}}function VD(e){return ts(e)?e:e.split(".")}function p1(e){return ts(e)?e.join("."):e}function Mle(e,t){let r=[],n=!1;const i=(l,c,u)=>{if(Fn(l))if(!c[u])r.push(l);else{let f=c[u];const m=l[f];if(!Fn(m))return;if(u===c.length-1&&(ri(m)||JI(m)||yle(m)))r.push(ble(m));else if(ts(m)){n=!0;for(let p=0,x=m.length;p<x;p+=1)i(m[p],c,u+1)}else c.length&&i(m,c,u+1)}};return i(e,ri(t)?t.split("."):t,0),n?r:r[0]}const Ele={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Dle={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},_le={location:0,threshold:.6,distance:100},Ole={useExtendedSearch:!1,getFn:Mle,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var et={...Dle,...Ele,..._le,...Ole};const Tle=/[^ ]+/g;function Ple(e=1,t=3){const r=new Map,n=Math.pow(10,t);return{get(i){const l=i.match(Tle).length;if(r.has(l))return r.get(l);const c=1/Math.pow(l,.5*e),u=parseFloat(Math.round(c*n)/n);return r.set(l,u),u},clear(){r.clear()}}}class $N{constructor({getFn:t=et.getFn,fieldNormWeight:r=et.fieldNormWeight}={}){this.norm=Ple(r,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((r,n)=>{this._keysMap[r.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,ri(this.docs[0])?this.docs.forEach((t,r)=>{this._addString(t,r)}):this.docs.forEach((t,r)=>{this._addObject(t,r)}),this.norm.clear())}add(t){const r=this.size();ri(t)?this._addString(t,r):this._addObject(t,r)}removeAt(t){this.records.splice(t,1);for(let r=t,n=this.size();r<n;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(t,r){return t[this._keysMap[r]]}size(){return this.records.length}_addString(t,r){if(!Fn(t)||ey(t))return;let n={v:t,i:r,n:this.norm.get(t)};this.records.push(n)}_addObject(t,r){let n={i:r,$:{}};this.keys.forEach((i,l)=>{let c=i.getFn?i.getFn(t):this.getFn(t,i.path);if(Fn(c)){if(ts(c)){let u=[];const f=[{nestedArrIndex:-1,value:c}];for(;f.length;){const{nestedArrIndex:m,value:p}=f.pop();if(Fn(p))if(ri(p)&&!ey(p)){let x={v:p,i:m,n:this.norm.get(p)};u.push(x)}else ts(p)&&p.forEach((x,v)=>{f.push({nestedArrIndex:v,value:x})})}n.$[l]=u}else if(ri(c)&&!ey(c)){let u={v:c,n:this.norm.get(c)};n.$[l]=u}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function nR(e,t,{getFn:r=et.getFn,fieldNormWeight:n=et.fieldNormWeight}={}){const i=new $N({getFn:r,fieldNormWeight:n});return i.setKeys(e.map(rR)),i.setSources(t),i.create(),i}function Ile(e,{getFn:t=et.getFn,fieldNormWeight:r=et.fieldNormWeight}={}){const{keys:n,records:i}=e,l=new $N({getFn:t,fieldNormWeight:r});return l.setKeys(n),l.setIndexRecords(i),l}function Xm(e,{errors:t=0,currentLocation:r=0,expectedLocation:n=0,distance:i=et.distance,ignoreLocation:l=et.ignoreLocation}={}){const c=t/e.length;if(l)return c;const u=Math.abs(n-r);return i?c+u/i:u?1:c}function Rle(e=[],t=et.minMatchCharLength){let r=[],n=-1,i=-1,l=0;for(let c=e.length;l<c;l+=1){let u=e[l];u&&n===-1?n=l:!u&&n!==-1&&(i=l-1,i-n+1>=t&&r.push([n,i]),n=-1)}return e[l-1]&&l-n>=t&&r.push([n,l-1]),r}const Ll=32;function Lle(e,t,r,{location:n=et.location,distance:i=et.distance,threshold:l=et.threshold,findAllMatches:c=et.findAllMatches,minMatchCharLength:u=et.minMatchCharLength,includeMatches:f=et.includeMatches,ignoreLocation:m=et.ignoreLocation}={}){if(t.length>Ll)throw new Error(Sle(Ll));const p=t.length,x=e.length,v=Math.max(0,Math.min(n,x));let g=l,j=v;const y=u>1||f,w=y?Array(x):[];let A;for(;(A=e.indexOf(t,j))>-1;){let P=Xm(t,{currentLocation:A,expectedLocation:v,distance:i,ignoreLocation:m});if(g=Math.min(P,g),j=A+p,y){let T=0;for(;T<p;)w[A+T]=1,T+=1}}j=-1;let k=[],C=1,M=p+x;const E=1<<p-1;for(let P=0;P<p;P+=1){let T=0,$=M;for(;T<$;)Xm(t,{errors:P,currentLocation:v+$,expectedLocation:v,distance:i,ignoreLocation:m})<=g?T=$:M=$,$=Math.floor((M-T)/2+T);M=$;let L=Math.max(1,v-$+1),H=c?x:Math.min(v+$,x)+p,D=Array(H+2);D[H+1]=(1<<P)-1;for(let K=H;K>=L;K-=1){let J=K-1,R=r[e.charAt(J)];if(y&&(w[J]=+!!R),D[K]=(D[K+1]<<1|1)&R,P&&(D[K]|=(k[K+1]|k[K])<<1|1|k[K+1]),D[K]&E&&(C=Xm(t,{errors:P,currentLocation:J,expectedLocation:v,distance:i,ignoreLocation:m}),C<=g)){if(g=C,j=J,j<=v)break;L=Math.max(1,2*v-j)}}if(Xm(t,{errors:P+1,currentLocation:v,expectedLocation:v,distance:i,ignoreLocation:m})>g)break;k=D}const O={isMatch:j>=0,score:Math.max(.001,C)};if(y){const P=Rle(w,u);P.length?f&&(O.indices=P):O.isMatch=!1}return O}function Fle(e){let t={};for(let r=0,n=e.length;r<n;r+=1){const i=e.charAt(r);t[i]=(t[i]||0)|1<<n-r-1}return t}const Lh=String.prototype.normalize?(e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(e=>e);class aR{constructor(t,{location:r=et.location,threshold:n=et.threshold,distance:i=et.distance,includeMatches:l=et.includeMatches,findAllMatches:c=et.findAllMatches,minMatchCharLength:u=et.minMatchCharLength,isCaseSensitive:f=et.isCaseSensitive,ignoreDiacritics:m=et.ignoreDiacritics,ignoreLocation:p=et.ignoreLocation}={}){if(this.options={location:r,threshold:n,distance:i,includeMatches:l,findAllMatches:c,minMatchCharLength:u,isCaseSensitive:f,ignoreDiacritics:m,ignoreLocation:p},t=f?t:t.toLowerCase(),t=m?Lh(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const x=(g,j)=>{this.chunks.push({pattern:g,alphabet:Fle(g),startIndex:j})},v=this.pattern.length;if(v>Ll){let g=0;const j=v%Ll,y=v-j;for(;g<y;)x(this.pattern.substr(g,Ll),g),g+=Ll;if(j){const w=v-Ll;x(this.pattern.substr(w),w)}}else x(this.pattern,0)}searchIn(t){const{isCaseSensitive:r,ignoreDiacritics:n,includeMatches:i}=this.options;if(t=r?t:t.toLowerCase(),t=n?Lh(t):t,this.pattern===t){let y={isMatch:!0,score:0};return i&&(y.indices=[[0,t.length-1]]),y}const{location:l,distance:c,threshold:u,findAllMatches:f,minMatchCharLength:m,ignoreLocation:p}=this.options;let x=[],v=0,g=!1;this.chunks.forEach(({pattern:y,alphabet:w,startIndex:A})=>{const{isMatch:k,score:C,indices:M}=Lle(t,y,w,{location:l+A,distance:c,threshold:u,findAllMatches:f,minMatchCharLength:m,includeMatches:i,ignoreLocation:p});k&&(g=!0),v+=C,k&&M&&(x=[...x,...M])});let j={isMatch:g,score:g?v/this.chunks.length:1};return g&&i&&(j.indices=x),j}}class ll{constructor(t){this.pattern=t}static isMultiMatch(t){return GD(t,this.multiRegex)}static isSingleMatch(t){return GD(t,this.singleRegex)}search(){}}function GD(e,t){const r=e.match(t);return r?r[1]:null}class zle extends ll{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const r=t===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class Ble extends ll{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const n=t.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class $le extends ll{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const r=t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class Hle extends ll{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const r=!t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class qle extends ll{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const r=t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class Ule extends ll{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const r=!t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class iR extends ll{constructor(t,{location:r=et.location,threshold:n=et.threshold,distance:i=et.distance,includeMatches:l=et.includeMatches,findAllMatches:c=et.findAllMatches,minMatchCharLength:u=et.minMatchCharLength,isCaseSensitive:f=et.isCaseSensitive,ignoreDiacritics:m=et.ignoreDiacritics,ignoreLocation:p=et.ignoreLocation}={}){super(t),this._bitapSearch=new aR(t,{location:r,threshold:n,distance:i,includeMatches:l,findAllMatches:c,minMatchCharLength:u,isCaseSensitive:f,ignoreDiacritics:m,ignoreLocation:p})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class sR extends ll{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let r=0,n;const i=[],l=this.pattern.length;for(;(n=t.indexOf(this.pattern,r))>-1;)r=n+l,i.push([n,r-1]);const c=!!i.length;return{isMatch:c,score:c?0:1,indices:i}}}const h1=[zle,sR,$le,Hle,Ule,qle,Ble,iR],WD=h1.length,Yle=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Vle="|";function Gle(e,t={}){return e.split(Vle).map(r=>{let n=r.trim().split(Yle).filter(l=>l&&!!l.trim()),i=[];for(let l=0,c=n.length;l<c;l+=1){const u=n[l];let f=!1,m=-1;for(;!f&&++m<WD;){const p=h1[m];let x=p.isMultiMatch(u);x&&(i.push(new p(x,t)),f=!0)}if(!f)for(m=-1;++m<WD;){const p=h1[m];let x=p.isSingleMatch(u);if(x){i.push(new p(x,t));break}}}return i})}const Wle=new Set([iR.type,sR.type]);class Kle{constructor(t,{isCaseSensitive:r=et.isCaseSensitive,ignoreDiacritics:n=et.ignoreDiacritics,includeMatches:i=et.includeMatches,minMatchCharLength:l=et.minMatchCharLength,ignoreLocation:c=et.ignoreLocation,findAllMatches:u=et.findAllMatches,location:f=et.location,threshold:m=et.threshold,distance:p=et.distance}={}){this.query=null,this.options={isCaseSensitive:r,ignoreDiacritics:n,includeMatches:i,minMatchCharLength:l,findAllMatches:u,ignoreLocation:c,location:f,threshold:m,distance:p},t=r?t:t.toLowerCase(),t=n?Lh(t):t,this.pattern=t,this.query=Gle(this.pattern,this.options)}static condition(t,r){return r.useExtendedSearch}searchIn(t){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:i,ignoreDiacritics:l}=this.options;t=i?t:t.toLowerCase(),t=l?Lh(t):t;let c=0,u=[],f=0;for(let m=0,p=r.length;m<p;m+=1){const x=r[m];u.length=0,c=0;for(let v=0,g=x.length;v<g;v+=1){const j=x[v],{isMatch:y,indices:w,score:A}=j.search(t);if(y){if(c+=1,f+=A,n){const k=j.constructor.type;Wle.has(k)?u=[...u,...w]:u.push(w)}}else{f=0,c=0,u.length=0;break}}if(c){let v={isMatch:!0,score:f/c};return n&&(v.indices=u),v}}return{isMatch:!1,score:1}}}const x1=[];function Qle(...e){x1.push(...e)}function v1(e,t){for(let r=0,n=x1.length;r<n;r+=1){let i=x1[r];if(i.condition(e,t))return new i(e,t)}return new aR(e,t)}const Fh={AND:"$and",OR:"$or"},g1={PATH:"$path",PATTERN:"$val"},b1=e=>!!(e[Fh.AND]||e[Fh.OR]),Xle=e=>!!e[g1.PATH],Zle=e=>!ts(e)&&eR(e)&&!b1(e),KD=e=>({[Fh.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function lR(e,t,{auto:r=!0}={}){const n=i=>{let l=Object.keys(i);const c=Xle(i);if(!c&&l.length>1&&!b1(i))return n(KD(i));if(Zle(i)){const f=c?i[g1.PATH]:l[0],m=c?i[g1.PATTERN]:i[f];if(!ri(m))throw new Error(jle(f));const p={keyId:p1(f),pattern:m};return r&&(p.searcher=v1(m,t)),p}let u={children:[],operator:l[0]};return l.forEach(f=>{const m=i[f];ts(m)&&m.forEach(p=>{u.children.push(n(p))})}),u};return b1(e)||(e=KD(e)),n(e)}function Jle(e,{ignoreFieldNorm:t=et.ignoreFieldNorm}){e.forEach(r=>{let n=1;r.matches.forEach(({key:i,norm:l,score:c})=>{const u=i?i.weight:null;n*=Math.pow(c===0&&u?Number.EPSILON:c,(u||1)*(t?1:l))}),r.score=n})}function eoe(e,t){const r=e.matches;t.matches=[],Fn(r)&&r.forEach(n=>{if(!Fn(n.indices)||!n.indices.length)return;const{indices:i,value:l}=n;let c={indices:i,value:l};n.key&&(c.key=n.key.src),n.idx>-1&&(c.refIndex=n.idx),t.matches.push(c)})}function toe(e,t){t.score=e.score}function roe(e,t,{includeMatches:r=et.includeMatches,includeScore:n=et.includeScore}={}){const i=[];return r&&i.push(eoe),n&&i.push(toe),e.map(l=>{const{idx:c}=l,u={item:t[c],refIndex:c};return i.length&&i.forEach(f=>{f(l,u)}),u})}class fo{constructor(t,r={},n){this.options={...et,...r},this.options.useExtendedSearch,this._keyStore=new kle(this.options.keys),this.setCollection(t,n)}setCollection(t,r){if(this._docs=t,r&&!(r instanceof $N))throw new Error(Nle);this._myIndex=r||nR(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){Fn(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const r=[];for(let n=0,i=this._docs.length;n<i;n+=1){const l=this._docs[n];t(l,n)&&(this.removeAt(n),n-=1,i-=1,r.push(l))}return r}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:r=-1}={}){const{includeMatches:n,includeScore:i,shouldSort:l,sortFn:c,ignoreFieldNorm:u}=this.options;let f=ri(t)?ri(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return Jle(f,{ignoreFieldNorm:u}),l&&f.sort(c),JI(r)&&r>-1&&(f=f.slice(0,r)),roe(f,this._docs,{includeMatches:n,includeScore:i})}_searchStringList(t){const r=v1(t,this.options),{records:n}=this._myIndex,i=[];return n.forEach(({v:l,i:c,n:u})=>{if(!Fn(l))return;const{isMatch:f,score:m,indices:p}=r.searchIn(l);f&&i.push({item:l,idx:c,matches:[{score:m,value:l,norm:u,indices:p}]})}),i}_searchLogical(t){const r=lR(t,this.options),n=(u,f,m)=>{if(!u.children){const{keyId:x,searcher:v}=u,g=this._findMatches({key:this._keyStore.get(x),value:this._myIndex.getValueForItemAtKeyId(f,x),searcher:v});return g&&g.length?[{idx:m,item:f,matches:g}]:[]}const p=[];for(let x=0,v=u.children.length;x<v;x+=1){const g=u.children[x],j=n(g,f,m);if(j.length)p.push(...j);else if(u.operator===Fh.AND)return[]}return p},i=this._myIndex.records,l={},c=[];return i.forEach(({$:u,i:f})=>{if(Fn(u)){let m=n(r,u,f);m.length&&(l[f]||(l[f]={idx:f,item:u,matches:[]},c.push(l[f])),m.forEach(({matches:p})=>{l[f].matches.push(...p)}))}}),c}_searchObjectList(t){const r=v1(t,this.options),{keys:n,records:i}=this._myIndex,l=[];return i.forEach(({$:c,i:u})=>{if(!Fn(c))return;let f=[];n.forEach((m,p)=>{f.push(...this._findMatches({key:m,value:c[p],searcher:r}))}),f.length&&l.push({idx:u,item:c,matches:f})}),l}_findMatches({key:t,value:r,searcher:n}){if(!Fn(r))return[];let i=[];if(ts(r))r.forEach(({v:l,i:c,n:u})=>{if(!Fn(l))return;const{isMatch:f,score:m,indices:p}=n.searchIn(l);f&&i.push({score:m,key:t,value:l,idx:c,norm:u,indices:p})});else{const{v:l,n:c}=r,{isMatch:u,score:f,indices:m}=n.searchIn(l);u&&i.push({score:f,key:t,value:l,norm:c,indices:m})}return i}}fo.version="7.1.0";fo.createIndex=nR;fo.parseIndex=Ile;fo.config=et;fo.parseQuery=lR;Qle(Kle);let ga=null,nd=null;function noe(e){if(!e)return!1;const t=new Date(e),r=new Date;return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()&&t.getDate()===r.getDate()}function aoe(){return ga?Promise.resolve(ga):nd||(nd=uO("fundsList").then(e=>e&&Array.isArray(e.data)&&noe(e.updatedAt)?(ga=e.data,ga):vF().then(t=>(ga=Array.isArray(t)?t:[],ln("fundsList",ga),ga))).catch(()=>(nd=null,[])),nd)}function HN({value:e,onSelect:t,placeholder:r,disabled:n}){const[i,l]=N.useState(""),[c,u]=N.useState(ga||[]),[f,m]=N.useState(!ga),[p,x]=N.useState(!1),v=N.useRef(null);N.useEffect(()=>{if(ga){u(ga),m(!1);return}aoe().then(k=>{u(k),m(!1)})},[]),N.useEffect(()=>{function k(C){v.current&&!v.current.contains(C.target)&&x(!1)}return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]);const g=N.useMemo(()=>c.length?new fo(c,{keys:["fundName"],threshold:.3,distance:50,minMatchCharLength:2,includeScore:!0,ignoreLocation:!1,findAllMatches:!0}):null,[c]),j=N.useMemo(()=>!g||i.length<2?[]:g.search(i).slice(0,50).map(k=>k.item),[g,i]);function y(k){l(k),x(k.length>=2)}function w(k){t({schemeCode:k.fundCode||k.schemeCode,fundName:k.fundName,nav:k.nav,navDate:k.navDate}),l(""),x(!1)}function A(){t({schemeCode:"",fundName:"",nav:0,navDate:""}),l("")}return e?.fundName?a.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg px-3 py-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate",children:Le(e.fundName).main}),Le(e.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(e.fundName).plan})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:e.schemeCode}),e.nav>0&&a.jsxs("span",{className:"text-xs font-medium text-emerald-400",children:["NAV: ",e.nav.toFixed(2),e.navDate?` (${e.navDate})`:""]})]})]}),a.jsx("button",{type:"button",onClick:A,className:"shrink-0 p-1 rounded-md hover:bg-[var(--bg-hover)] text-[var(--text-dim)] hover:text-[var(--text-secondary)] transition-colors",children:a.jsx(si,{size:14})})]}):a.jsxs("div",{ref:v,className:"relative",children:[a.jsxs("div",{className:"relative",children:[f?a.jsx(pc,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-400 animate-spin"}):a.jsx(P1,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)]"}),a.jsx("input",{type:"text",value:i,onChange:k=>y(k.target.value),onFocus:()=>i.length>=2&&x(!0),placeholder:f?"Loading funds...":r||"Search fund name...",disabled:n||f,className:"w-full bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg pl-9 pr-3 py-2 text-sm text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-violet-500/50 disabled:opacity-50 transition-colors"})]}),p&&j.length>0&&a.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl max-h-[240px] overflow-y-auto",children:j.map(k=>a.jsxs("button",{type:"button",onClick:()=>w(k),className:"w-full text-left px-3 py-2.5 hover:bg-[var(--bg-hover)] transition-colors border-b border-[var(--border-light)] last:border-0",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:Le(k.fundName).main}),Le(k.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(k.fundName).plan})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:k.fundCode||k.schemeCode}),k.nav>0&&a.jsxs("span",{className:"text-xs text-emerald-400 tabular-nums",children:["NAV: ",k.nav.toFixed(2),k.navDate?` (${k.navDate})`:""]})]})]},k.fundCode||k.schemeCode))}),p&&i.length>=2&&j.length===0&&!f&&a.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl p-4 text-center",children:a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:['No funds found for "',i,'"']})})]})}const ioe=[{value:"INITIAL",label:"Add Existing Holdings"},{value:"SIP",label:"SIP Investment"},{value:"LUMPSUM",label:"Lumpsum Investment"}];function soe({portfolioId:e,fundCode:t,fundName:r,transactionType:n,onSave:i,onCancel:l}){const{mfPortfolios:c,mfHoldings:u}=xt(),{selectedMember:f}=Hr(),m=N.useMemo(()=>{const D=c.filter(Z=>Z.status==="Active");return f==="all"?D:D.filter(Z=>Z.ownerId===f)},[c,f]),[p,x]=N.useState({portfolioId:e||"",fundCode:t||"",fundName:r||"",nav:0,navDate:"",transactionType:n||"SIP",date:new Date().toISOString().split("T")[0],units:"",price:"",notes:""}),[v,g]=N.useState({}),[j,y]=N.useState(!1),[w,A]=N.useState(!t);function k(D,Z){x(K=>({...K,[D]:Z})),g(K=>({...K,[D]:void 0}))}function C({schemeCode:D,fundName:Z,nav:K,navDate:J}){x(R=>({...R,fundCode:D,fundName:Z,nav:K||0,navDate:J||"",price:K>0?String(K):R.price})),g(R=>({...R,fundCode:void 0,fundName:void 0})),A(!1)}function M(D){x(Z=>({...Z,fundCode:D.schemeCode,fundName:D.fundName,nav:D.currentNav||0,navDate:"",price:D.currentNav>0?String(D.currentNav):Z.price})),g(Z=>({...Z,fundCode:void 0})),A(!1)}const E=N.useMemo(()=>p.portfolioId?u.filter(D=>D.portfolioId===p.portfolioId).sort((D,Z)=>Z.currentValue-D.currentValue):[],[u,p.portfolioId]),O=N.useMemo(()=>!p.portfolioId||!p.fundCode?null:u.find(D=>D.portfolioId===p.portfolioId&&D.schemeCode===p.fundCode),[u,p.portfolioId,p.fundCode]),P=p.fundCode&&!O,T=N.useMemo(()=>(Number(p.units)||0)*(Number(p.price)||0),[p.units,p.price]);function $(){const D={};return p.portfolioId||(D.portfolioId="Required"),p.fundCode||(D.fundCode="Select a fund"),p.date||(D.date="Required"),(!p.units||Number(p.units)<=0)&&(D.units="Must be > 0"),(!p.price||Number(p.price)<=0)&&(D.price="Must be > 0"),g(D),Object.keys(D).length===0}async function L(){if($()){y(!0);try{await i({portfolioId:p.portfolioId,fundCode:p.fundCode,fundName:p.fundName,transactionType:p.transactionType,purchaseDate:p.date,units:p.units,avgPrice:p.price,notes:p.notes})}finally{y(!1)}}}const H=m.map(D=>{const Z=D.portfolioName?.replace(/^PFL-/,"")||D.portfolioName,K=D.ownerName?`${Z} (${D.ownerName})`:Z;return{value:D.portfolioId,label:K}});return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(he,{label:"Portfolio",required:!0,error:v.portfolioId,children:a.jsx(tt,{value:p.portfolioId,onChange:D=>{k("portfolioId",D),t||(k("fundCode",""),k("fundName",""),A(!1))},options:H,placeholder:"Select portfolio..."})}),a.jsx(he,{label:"Transaction Type",required:!0,children:a.jsx(tt,{value:p.transactionType,onChange:D=>k("transactionType",D),options:ioe})})]}),a.jsx(he,{label:"Fund",required:!0,error:v.fundCode,children:p.fundCode&&!w?a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:Le(p.fundName).main}),Le(p.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(p.fundName).plan})]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[p.fundCode,p.nav>0&&a.jsxs("span",{className:"ml-2 text-emerald-400",children:["NAV: ",p.nav.toFixed(2)]})]})]}),a.jsx("button",{type:"button",onClick:()=>{k("fundCode",""),k("fundName",""),A(!0)},className:"text-xs text-[var(--text-muted)] hover:text-[var(--text-primary)] underline shrink-0",children:"Change"})]}):a.jsxs("div",{className:"space-y-3",children:[E.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)] mb-1.5",children:"Portfolio Funds"}),a.jsx("div",{className:"rounded-lg border border-[var(--border)] bg-[var(--bg-inset)] overflow-hidden max-h-44 overflow-y-auto",children:E.map(D=>a.jsxs("button",{type:"button",onClick:()=>M(D),className:"w-full flex items-center gap-3 px-3 py-2 text-left hover:bg-[var(--bg-hover)] border-b border-[var(--border-light)] last:border-b-0 transition-colors group",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate group-hover:text-white transition-colors",children:Le(D.fundName).main}),Le(D.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(D.fundName).plan})]}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5",children:D.units>0?`${D.units.toFixed(0)} units  ${Q(D.currentValue)}`:"Planned"})]}),a.jsx(Kl,{size:12,className:"text-[var(--text-dim)] -rotate-90 shrink-0 opacity-0 group-hover:opacity-100 transition-opacity"})]},D.holdingId))})]}),a.jsxs("div",{children:[E.length>0&&a.jsxs("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)] mb-1.5 flex items-center gap-1",children:[a.jsx(P1,{size:10})," Or search new fund"]}),a.jsx(HN,{value:null,onSelect:C,placeholder:"Search fund by name or code..."})]})]})}),O&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Existing holding  will average out"}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Current: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:O.units.toFixed(2)})," units @ ",O.avgNav.toFixed(2)," avg NAV | Value: ",Q(O.currentValue),O.targetAllocationPct>0&&a.jsxs("span",{children:["  Target: ",O.targetAllocationPct.toFixed(1),"%"]})]})]}),P&&a.jsxs("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:[a.jsx("p",{className:"text-xs text-violet-400 font-semibold",children:"New fund  will be added to portfolio"}),a.jsx("p",{className:"text-xs text-violet-300/70 mt-0.5",children:"Use Allocations to plan how much to invest before buying"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(he,{label:"Date",required:!0,error:v.date,children:a.jsx(Ma,{value:p.date,onChange:D=>k("date",D)})}),a.jsx(he,{label:"Units",required:!0,error:v.units,children:a.jsx(Pe,{type:"number",value:p.units,onChange:D=>k("units",D),placeholder:"e.g., 150.50"})}),a.jsx(he,{label:"NAV ()",required:!0,error:v.price,children:a.jsx(Pe,{type:"number",value:p.price,onChange:D=>k("price",D),placeholder:"e.g., 178.45"})})]}),T>0&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(T)}),O&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:["New avg NAV: ",((O.investment+T)/(O.units+Number(p.units))).toFixed(2)," Total units: ",(O.units+Number(p.units)).toFixed(2)]})]}),a.jsx(he,{label:"Notes",children:a.jsx(Pe,{value:p.notes,onChange:D=>k("notes",D),placeholder:"Optional notes..."})}),a.jsx(fn,{onCancel:l,onSubmit:L,submitLabel:p.transactionType==="SIP"?"Record SIP":p.transactionType==="LUMPSUM"?"Record Lumpsum":"Add Holdings",loading:j})]})}function loe({portfolioId:e,fundCode:t,onSave:r,onCancel:n}){const{mfPortfolios:i,mfHoldings:l}=xt(),{selectedMember:c}=Hr(),u=N.useMemo(()=>{const L=i.filter(H=>H.status==="Active");return c==="all"?L:L.filter(H=>H.ownerId===c)},[i,c]),f=N.useMemo(()=>!e||!t?null:l.find(L=>L.portfolioId===e&&L.schemeCode===t),[l,e,t]),[m,p]=N.useState({portfolioId:e||"",fundCode:t||"",fundName:f?.fundName||"",date:new Date().toISOString().split("T")[0],units:"",price:f?.currentNav>0?String(f.currentNav):"",notes:""}),[x,v]=N.useState({}),[g,j]=N.useState(!1);function y(L,H){p(D=>({...D,[L]:H})),v(D=>({...D,[L]:void 0}))}const w=N.useMemo(()=>m.portfolioId?l.filter(L=>L.portfolioId===m.portfolioId&&L.units>0):[],[l,m.portfolioId]),A=w.find(L=>L.schemeCode===m.fundCode);function k(L){const H=w.find(D=>D.schemeCode===L);p(D=>({...D,fundCode:L,fundName:H?.fundName||"",price:H?.currentNav?.toString()||""})),v(D=>({...D,fundCode:void 0}))}function C(L){p(H=>({...H,portfolioId:L,fundCode:"",fundName:"",units:"",price:""})),v(H=>({...H,portfolioId:void 0}))}const M=N.useMemo(()=>(Number(m.units)||0)*(Number(m.price)||0),[m.units,m.price]),E=A?M-Number(m.units)*A.avgNav:0;function O(){const L={};return m.portfolioId||(L.portfolioId="Required"),m.fundCode||(L.fundCode="Required"),m.date||(L.date="Required"),(!m.units||Number(m.units)<=0)&&(L.units="Must be > 0"),A&&Number(m.units)>A.units&&(L.units=`Max ${A.units.toFixed(2)} units`),(!m.price||Number(m.price)<=0)&&(L.price="Must be > 0"),v(L),Object.keys(L).length===0}async function P(){if(O()){j(!0);try{await r(m)}finally{j(!1)}}}const T=u.map(L=>{const H=L.portfolioName?.replace(/^PFL-/,"")||L.portfolioName,D=L.ownerName?`${H} (${L.ownerName})`:H;return{value:L.portfolioId,label:D}}),$=w.map(L=>({value:L.schemeCode,label:`${L.fundName}  ${L.units.toFixed(0)} units  ${Q(L.currentValue)}`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(he,{label:"Portfolio",required:!0,error:x.portfolioId,children:a.jsx(tt,{value:m.portfolioId,onChange:C,options:T,placeholder:"Select portfolio..."})}),a.jsx(he,{label:"Fund to Redeem",required:!0,error:x.fundCode,children:a.jsx(tt,{value:m.fundCode,onChange:k,options:$,placeholder:m.portfolioId?w.length?"Select fund...":"No holdings":"Select portfolio first..."})}),A&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:Le(A.fundName).main}),Le(A.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(A.fundName).plan})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:A.units.toFixed(2)})," units @ ",A.avgNav.toFixed(2)," avg | Current NAV: ",A.currentNav.toFixed(2)]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(he,{label:"Date",required:!0,error:x.date,children:a.jsx(Ma,{value:m.date,onChange:L=>y("date",L)})}),a.jsx(he,{label:"Units",required:!0,error:x.units,children:a.jsx(Pe,{type:"number",value:m.units,onChange:L=>y("units",L),placeholder:A?`Max: ${A.units.toFixed(2)}`:""})}),a.jsx(he,{label:"NAV ()",required:!0,error:x.price,children:a.jsx(Pe,{type:"number",value:m.price,onChange:L=>y("price",L),placeholder:"e.g., 178.45"})})]}),M>0&&a.jsx("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Redemption Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(M)})]}),A&&a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. Gain/Loss"}),a.jsxs("p",{className:`text-sm font-bold tabular-nums ${E>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[E>=0?"+":"",Q(E)]})]})]})}),a.jsx(he,{label:"Notes",children:a.jsx(Pe,{value:m.notes,onChange:L=>y("notes",L),placeholder:"Optional notes..."})}),a.jsx(fn,{onCancel:n,onSubmit:P,submitLabel:"Redeem",loading:g})]})}function ooe({portfolioId:e,onSave:t,onCancel:r}){const{mfPortfolios:n,mfHoldings:i}=xt(),{selectedMember:l}=Hr(),c=N.useMemo(()=>{const D=n.filter(Z=>Z.status==="Active");return l==="all"?D:D.filter(Z=>Z.ownerId===l)},[n,l]),[u,f]=N.useState({portfolioId:e||"",fromFundCode:"",fromFundName:"",toFundCode:"",toFundName:"",date:new Date().toISOString().split("T")[0],units:"",fromPrice:"",toPrice:"",targetAllocation:"",notes:""}),[m,p]=N.useState({}),[x,v]=N.useState(!1);function g(D,Z){f(K=>({...K,[D]:Z})),p(K=>({...K,[D]:void 0}))}function j(D){f(Z=>({...Z,portfolioId:D,fromFundCode:"",fromFundName:"",toFundCode:"",toFundName:"",units:"",fromPrice:"",toPrice:"",targetAllocation:""})),p(Z=>({...Z,portfolioId:void 0}))}const y=N.useMemo(()=>u.portfolioId?i.filter(D=>D.portfolioId===u.portfolioId&&D.units>0):[],[i,u.portfolioId]),w=y.find(D=>D.schemeCode===u.fromFundCode),A=N.useMemo(()=>!u.portfolioId||!u.toFundCode?null:i.find(D=>D.portfolioId===u.portfolioId&&D.schemeCode===u.toFundCode),[i,u.portfolioId,u.toFundCode]),k=u.toFundCode&&!A;function C(D){const Z=y.find(K=>K.schemeCode===D);f(K=>({...K,fromFundCode:D,fromFundName:Z?.fundName||"",fromPrice:Z?.currentNav?.toString()||""})),p(K=>({...K,fromFundCode:void 0}))}function M({schemeCode:D,fundName:Z}){const K=i.find(J=>J.portfolioId===u.portfolioId&&J.schemeCode===D);f(J=>({...J,toFundCode:D,toFundName:Z,toPrice:K?.currentNav?.toString()||J.toPrice,targetAllocation:""})),p(J=>({...J,toFundCode:void 0}))}const E=N.useMemo(()=>(Number(u.units)||0)*(Number(u.fromPrice)||0),[u.units,u.fromPrice]),O=E>0&&Number(u.toPrice)>0?E/Number(u.toPrice):0,P=w?E-Number(u.units)*w.avgNav:0;function T(){const D={};return u.portfolioId||(D.portfolioId="Required"),u.fromFundCode||(D.fromFundCode="Required"),u.toFundCode||(D.toFundCode="Required"),u.fromFundCode&&u.toFundCode&&u.fromFundCode===u.toFundCode&&(D.toFundCode="Must be different from source fund"),u.date||(D.date="Required"),(!u.units||Number(u.units)<=0)&&(D.units="Must be > 0"),w&&Number(u.units)>w.units&&(D.units=`Max ${w.units.toFixed(2)} units`),(!u.fromPrice||Number(u.fromPrice)<=0)&&(D.fromPrice="Must be > 0"),(!u.toPrice||Number(u.toPrice)<=0)&&(D.toPrice="Must be > 0"),p(D),Object.keys(D).length===0}async function $(){if(T()){v(!0);try{await t(u)}finally{v(!1)}}}const L=c.map(D=>{const Z=D.portfolioName?.replace(/^PFL-/,"")||D.portfolioName,K=D.ownerName?`${Z} (${D.ownerName})`:Z;return{value:D.portfolioId,label:K}}),H=y.map(D=>({value:D.schemeCode,label:D.fundName}));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(he,{label:"Portfolio",required:!0,error:m.portfolioId,children:a.jsx(tt,{value:u.portfolioId,onChange:j,options:L,placeholder:"Select portfolio..."})}),a.jsx(he,{label:"Switch From (Sell)",required:!0,error:m.fromFundCode,children:a.jsx(tt,{value:u.fromFundCode,onChange:C,options:H,placeholder:u.portfolioId?y.length?"Select fund to switch from...":"No holdings":"Select portfolio first..."})}),w&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:Le(w.fundName).main}),Le(w.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(w.fundName).plan})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:w.units.toFixed(2)})," units @ ",w.avgNav.toFixed(2)," avg | Current NAV: ",w.currentNav.toFixed(2)]})]}),a.jsx(he,{label:"Switch To (Buy)",required:!0,error:m.toFundCode,children:a.jsx(HN,{value:u.toFundCode?{schemeCode:u.toFundCode,fundName:u.toFundName}:null,onSelect:M,placeholder:"Search fund to switch into...",disabled:!u.portfolioId})}),A&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Existing holding  units will be added, NAV averaged out"}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Current: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:A.units.toFixed(2)})," units @ ",A.avgNav.toFixed(2)," avg | Alloc: ",A.targetAllocationPct.toFixed(1),"%"]})]}),k&&u.toFundCode&&a.jsx("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:a.jsx("p",{className:"text-xs text-violet-400 font-semibold",children:"New fund  will be added to portfolio"})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(he,{label:"Switch Date",required:!0,error:m.date,children:a.jsx(Ma,{value:u.date,onChange:D=>g("date",D)})}),a.jsx(he,{label:"Units to Switch",required:!0,error:m.units,children:a.jsx(Pe,{type:"number",value:u.units,onChange:D=>g("units",D),placeholder:w?`Max: ${w.units.toFixed(2)}`:""})})]}),a.jsxs("div",{className:`grid grid-cols-1 ${k?"sm:grid-cols-3":"sm:grid-cols-2"} gap-4`,children:[a.jsx(he,{label:"From Fund NAV ()",required:!0,error:m.fromPrice,children:a.jsx(Pe,{type:"number",value:u.fromPrice,onChange:D=>g("fromPrice",D),placeholder:"e.g., 178.45"})}),a.jsx(he,{label:"To Fund NAV ()",required:!0,error:m.toPrice,children:a.jsx(Pe,{type:"number",value:u.toPrice,onChange:D=>g("toPrice",D),placeholder:"e.g., 82.10"})}),k&&a.jsx(he,{label:"Target Allocation (%)",children:a.jsx(Pe,{type:"number",value:u.targetAllocation,onChange:D=>g("targetAllocation",D),placeholder:"e.g., 20"})})]}),E>0&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Switch Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(E)})]}),O>0&&a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Units Bought"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:O.toFixed(4)})]}),w&&a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. Gain/Loss"}),a.jsxs("p",{className:`text-sm font-bold tabular-nums ${P>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[P>=0?"+":"",Q(P)]})]})]}),A&&O>0&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1 border-t border-[var(--border-light)] pt-1",children:["New total: ",(A.units+O).toFixed(2)," units  New avg NAV: ",((A.investment+E)/(A.units+O)).toFixed(2)]})]}),a.jsx(he,{label:"Notes",children:a.jsx(Pe,{value:u.notes,onChange:D=>g("notes",D),placeholder:"Optional notes..."})}),a.jsx(fn,{onCancel:r,onSubmit:$,submitLabel:"Switch Funds",loading:x})]})}function coe({portfolioId:e,onSave:t,onCancel:r}){const{mfHoldings:n,mfPortfolios:i}=xt(),l=i.find(T=>T.portfolioId===e),c=N.useMemo(()=>n.filter(T=>T.portfolioId===e),[n,e]),[u,f]=N.useState(()=>c.map(T=>({schemeCode:T.schemeCode,fundName:T.fundName,units:T.units,currentValue:T.currentValue,currentAllocationPct:T.currentAllocationPct,targetAllocationPct:T.targetAllocationPct,isNew:!1}))),[m,p]=N.useState(null),[x,v]=N.useState(""),[g,j]=N.useState(""),[y,w]=N.useState(!1),A=u.reduce((T,$)=>T+$.targetAllocationPct,0),k=u.reduce((T,$)=>T+$.currentValue,0);function C(T,$){f(L=>L.map(H=>H.schemeCode===T?{...H,targetAllocationPct:Number($)||0}:H)),j("")}function M(T){const $=u.find(L=>L.schemeCode===T);$&&$.units>0||f(L=>L.filter(H=>H.schemeCode!==T))}function E(){if(m){if(u.find(T=>T.schemeCode===m.schemeCode)){j("Fund already exists in portfolio");return}f(T=>[...T,{schemeCode:m.schemeCode,fundName:m.fundName,units:0,currentValue:0,currentAllocationPct:0,targetAllocationPct:Number(x)||0,isNew:!0}]),p(null),v(""),j("")}}async function O(){if(A>100){j(`Total allocation is ${A.toFixed(1)}%  must be  100%`);return}w(!0);try{await t(u.map(T=>({schemeCode:T.schemeCode,fundName:T.fundName,targetAllocationPct:T.targetAllocationPct,isNew:T.isNew})))}finally{w(!1)}}const P=l?.sipTarget||0;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:l?.portfolioName}),a.jsx("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)] mt-0.5 flex-wrap",children:a.jsxs("span",{children:["Current Value: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:Q(k)})]})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Fund"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold whitespace-nowrap w-24",children:"Amount"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold whitespace-nowrap w-20",children:"Current %"}),a.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold whitespace-nowrap w-24",children:"Target %"}),a.jsx("th",{className:"w-8 px-2"})]})}),a.jsx("tbody",{children:u.map(T=>{const $=T.isNew&&T.targetAllocationPct>0&&T.targetAllocationPct<100&&k>0?T.targetAllocationPct/(100-T.targetAllocationPct)*k:0,L=T.isNew&&T.targetAllocationPct>0&&P>=100?T.targetAllocationPct/100*P:0;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[a.jsxs("td",{className:"py-2 px-2",children:[a.jsxs("p",{className:"text-xs text-[var(--text-primary)] leading-tight",children:[Le(T.fundName).main,T.isNew&&a.jsx("span",{className:"text-violet-400 ml-1 text-[10px]",children:"(new)"})]}),($>0||L>0)&&a.jsxs("p",{className:"text-xs text-blue-400 mt-0.5",children:["Invest: ",$>0&&a.jsx("span",{className:"font-semibold",children:Q($)}),$>0&&L>0&&"  ",L>0&&a.jsxs("span",{className:"font-semibold",children:[Q(L),"/mo SIP"]})]})]}),a.jsx("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums whitespace-nowrap",children:T.currentValue>0?Q(T.currentValue):""}),a.jsxs("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums whitespace-nowrap",children:[T.currentAllocationPct.toFixed(1),"%"]}),a.jsx("td",{className:"py-2 px-2",children:a.jsx("input",{type:"number",value:T.targetAllocationPct,onChange:H=>C(T.schemeCode,H.target.value),className:"w-20 mx-auto block bg-[var(--bg-inset)] border border-[var(--border)] rounded px-2 py-1 text-xs text-center text-[var(--text-primary)] focus:outline-none focus:border-violet-500/50"})}),a.jsx("td",{className:"py-2 px-2 text-center",children:T.units===0&&a.jsx("button",{onClick:()=>M(T.schemeCode),className:"p-1 rounded hover:bg-rose-500/15 text-[var(--text-dim)] hover:text-[var(--accent-rose)] transition-colors",children:a.jsx(hc,{size:12})})})]},T.schemeCode)})}),a.jsx("tfoot",{children:a.jsxs("tr",{className:"border-t border-[var(--border)]",children:[a.jsx("td",{className:"py-2 px-2 text-xs font-bold text-[var(--text-primary)]",children:"Total"}),a.jsx("td",{className:"py-2 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums whitespace-nowrap",children:Q(k)}),a.jsxs("td",{className:"py-2 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums whitespace-nowrap",children:[u.reduce((T,$)=>T+$.currentAllocationPct,0).toFixed(1),"%"]}),a.jsx("td",{className:"py-2 px-2 text-center",children:a.jsxs("span",{className:`text-xs font-bold tabular-nums ${A>100?"text-[var(--accent-rose)]":A===100?"text-emerald-400":"text-amber-400"}`,children:[A.toFixed(1),"%"]})}),a.jsx("td",{})]})})]})}),a.jsxs("div",{className:"sm:hidden space-y-2",children:[u.map(T=>{const $=T.isNew&&T.targetAllocationPct>0&&T.targetAllocationPct<100&&k>0?T.targetAllocationPct/(100-T.targetAllocationPct)*k:0,L=T.isNew&&T.targetAllocationPct>0&&P>=100?T.targetAllocationPct/100*P:0;return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-3.5 py-3 space-y-2",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:[Le(T.fundName).main,T.isNew&&a.jsx("span",{className:"text-violet-400 ml-1 text-[10px] font-semibold",children:"(new)"})]}),a.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5 text-[11px] text-[var(--text-dim)] flex-wrap",children:[T.currentValue>0&&a.jsx("span",{className:"tabular-nums",children:Q(T.currentValue)}),T.currentValue>0&&a.jsx("span",{children:""}),a.jsxs("span",{className:"tabular-nums",children:["Current ",T.currentAllocationPct.toFixed(1),"%"]})]})]}),T.units===0&&a.jsx("button",{onClick:()=>M(T.schemeCode),className:"p-1.5 rounded-lg hover:bg-rose-500/15 text-[var(--text-dim)] hover:text-[var(--accent-rose)] transition-colors shrink-0",children:a.jsx(hc,{size:14})})]}),a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx("span",{className:"text-[10px] text-[var(--text-dim)] w-10 shrink-0",children:"Target"}),a.jsx("input",{type:"range",min:"0",max:"50",step:"0.5",value:T.targetAllocationPct,onChange:H=>C(T.schemeCode,H.target.value),className:"flex-1 h-1.5 rounded-full appearance-none cursor-pointer accent-violet-500",style:{background:`linear-gradient(to right, rgb(139 92 246) 0%, rgb(139 92 246) ${T.targetAllocationPct/50*100}%, var(--bg-inset) ${T.targetAllocationPct/50*100}%, var(--bg-inset) 100%)`}}),a.jsx("input",{type:"number",value:T.targetAllocationPct,onChange:H=>C(T.schemeCode,H.target.value),className:"w-14 bg-[var(--bg-inset)] border border-[var(--border)] rounded px-1.5 py-1 text-xs text-center text-[var(--text-primary)] tabular-nums focus:outline-none focus:border-violet-500/50 shrink-0"}),a.jsx("span",{className:"text-[10px] text-[var(--text-dim)] shrink-0",children:"%"})]}),($>0||L>0)&&a.jsxs("p",{className:"text-[11px] text-blue-400",children:["Invest: ",$>0&&a.jsx("span",{className:"font-semibold",children:Q($)}),$>0&&L>0&&"  ",L>0&&a.jsxs("span",{className:"font-semibold",children:[Q(L),"/mo SIP"]})]})]},T.schemeCode)}),a.jsxs("div",{className:"flex items-center justify-between bg-[var(--bg-inset)] rounded-xl border border-[var(--border-light)] px-3.5 py-2.5",children:[a.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)]",children:"Total Target"}),a.jsxs("span",{className:`text-sm font-bold tabular-nums ${A>100?"text-[var(--accent-rose)]":A===100?"text-emerald-400":"text-amber-400"}`,children:[A.toFixed(1),"%"]})]})]}),a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider mb-1",children:"Add New Fund"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"Set target % to see how much to invest. After buying, use Invest to record the transaction."}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(HN,{value:m,onSelect:T=>p(T.schemeCode?T:null),placeholder:"Search fund to add..."}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-28",children:a.jsx("input",{type:"number",value:x,onChange:T=>v(T.target.value),placeholder:"Target %",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})}),a.jsxs("button",{onClick:E,disabled:!m,className:"flex items-center gap-1 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors disabled:opacity-40 disabled:cursor-not-allowed",children:[a.jsx(Zr,{size:14})," Add"]})]})]})]})]}),g&&a.jsx("p",{className:"text-xs text-[var(--accent-rose)] font-medium",children:g}),a.jsx(fn,{onCancel:r,onSubmit:O,submitLabel:"Save Allocations",loading:y})]})}const ty=["Equity","Debt","Cash","Commodities","Real Estate","Other"],ry=["Giant","Large","Mid","Small","Micro"],ny=["India","Global"];function uoe({fund:e,initial:t,onSave:r,onCancel:n}){const[i,l]=N.useState(()=>{const E={};return ty.forEach(O=>{E[O]=t?.assetAllocation?.[O]||0}),t?.assetAllocation&&Object.keys(t.assetAllocation).forEach(O=>{O in E||(E[O]=t.assetAllocation[O])}),E}),[c,u]=N.useState(()=>{const E={};return ry.forEach(O=>{E[O]=t?.equityAllocation?.[O]||0}),t?.equityAllocation&&Object.keys(t.equityAllocation).forEach(O=>{O in E||(E[O]=t.equityAllocation[O])}),E}),[f,m]=N.useState(()=>{const E={};return ny.forEach(O=>{E[O]=t?.geoAllocation?.[O]||0}),t?.geoAllocation&&Object.keys(t.geoAllocation).forEach(O=>{O in E||(E[O]=t.geoAllocation[O])}),E}),[p,x]=N.useState(!1),v=Object.values(i).reduce((E,O)=>E+O,0),g=Object.values(c).reduce((E,O)=>E+O,0),j=Object.values(f).reduce((E,O)=>E+O,0),y=i.Equity||0,w=v===100||v===0,A=g===100||g===0||y===0,k=j===100||j===0||y===0,C=w&&A&&k;async function M(){if(C){x(!0);try{const E={fundCode:e.fundCode,fundName:e.fundName,equity:i.Equity||0,debt:i.Debt||0,cash:i.Cash||0,commodities:i.Commodities||0,realEstate:i["Real Estate"]||0,customAsset:{},giantCap:c.Giant||0,largeCap:c.Large||0,midCap:c.Mid||0,smallCap:c.Small||0,microCap:c.Micro||0,customCap:{},geoIndia:f.India||0,geoGlobal:f.Global||0,customGeo:{}};Object.entries(i).forEach(([O,P])=>{!ty.includes(O)&&P>0&&(E.customAsset[O]=P)}),Object.entries(c).forEach(([O,P])=>{!ry.includes(O)&&P>0&&(E.customCap[O]=P)}),Object.entries(f).forEach(([O,P])=>{!ny.includes(O)&&P>0&&(E.customGeo[O]=P)}),await r(E)}finally{x(!1)}}}return a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-4 py-2.5",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)] truncate",children:Le(e.fundName).main}),Le(e.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(e.fundName).plan})]}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] tabular-nums mt-0.5",children:e.fundCode})]}),a.jsx(ay,{title:"Asset Class %",fields:i,setFields:l,standardKeys:ty,total:v,valid:w}),y>0&&a.jsx(ay,{title:"Market Cap %",subtitle:"Equity breakdown",fields:c,setFields:u,standardKeys:ry,total:g,valid:A}),y>0&&a.jsx(ay,{title:"Geography %",fields:f,setFields:m,standardKeys:ny,total:j,valid:k}),a.jsxs("div",{className:"flex items-center justify-end gap-2 pt-3 border-t border-[var(--border-light)]",children:[a.jsx("button",{onClick:n,disabled:p,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),a.jsxs("button",{onClick:M,disabled:p||!C,className:"flex items-center gap-1.5 px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50",children:[p?a.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):a.jsx(EO,{size:12}),p?"Saving...":"Save"]})]})]})}function ay({title:e,subtitle:t,fields:r,setFields:n,standardKeys:i,total:l,valid:c}){const[u,f]=N.useState(!1),[m,p]=N.useState("");function x(y,w){n(A=>({...A,[y]:Number(w)||0}))}function v(){const y=m.trim();!y||y in r||(n(w=>({...w,[y]:0})),p(""),f(!1))}function g(y){n(w=>{const A={...w};return delete A[y],A})}const j=Object.keys(r);return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("p",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider",children:e}),t&&a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["(",t,")"]})]}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-1.5",children:j.map(y=>{const w=!i.includes(y);return a.jsxs("div",{className:"relative",children:[a.jsxs("label",{className:"block text-[10px] text-[var(--text-dim)] mb-0.5 flex items-center gap-1",children:[y,w&&a.jsx("button",{onClick:()=>g(y),className:"text-[var(--text-dim)] hover:text-rose-400 transition-colors",children:a.jsx(si,{size:8})})]}),a.jsx("input",{type:"number",min:"0",max:"100",value:r[y]||"",onChange:A=>x(y,A.target.value),className:"w-[72px] px-1.5 py-1 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-md tabular-nums text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})]},y)})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:`text-[10px] tabular-nums ${c?"text-[var(--text-dim)]":"text-[var(--accent-rose)] font-semibold"}`,children:["Total: ",l,"% ",!c&&" must equal 100%",c&&l===100&&a.jsx("span",{className:"text-emerald-400 ml-1",children:""})]}),u?a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("input",{autoFocus:!0,value:m,onChange:y=>p(y.target.value),onKeyDown:y=>{y.key==="Enter"&&v(),y.key==="Escape"&&f(!1)},placeholder:"Field name",className:"w-24 px-1.5 py-0.5 text-[10px] bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-md focus:outline-none focus:border-[var(--sidebar-active-text)]"}),a.jsx("button",{onClick:v,className:"text-[10px] font-semibold text-emerald-400 hover:text-emerald-300",children:"Add"}),a.jsx("button",{onClick:()=>{f(!1),p("")},className:"text-[10px] text-[var(--text-dim)] hover:text-[var(--text-primary)]",children:a.jsx(si,{size:10})})]}):a.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-0.5 text-[10px] font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[a.jsx(Zr,{size:10})," Add Field"]})]})]})}const ad=e=>e?.replace(/^PFL-/,"")||e;function doe(e){if(!e)return"Other";const t=e.toLowerCase();return t.includes("gold")||t.includes("silver")||t.includes("commodity")?"Commodity":t.includes("liquid")||t.includes("money market")||t.includes("overnight")?"Liquid":t.includes("gilt")||t.includes("government securities")||t.includes("constant maturity")?"Gilt":t.includes("elss")||t.includes("tax saver")?"ELSS":t.includes("debt")||t.includes("bond")||t.includes("income fund")||t.includes("corporate bond")||t.includes("banking & psu")||t.includes("short duration")||t.includes("medium duration")||t.includes("long duration")||t.includes("short term")||t.includes("medium term")||t.includes("floater")||t.includes("floating rate")||t.includes("credit")||t.includes("accrual")||t.includes("savings fund")||t.includes("ultra short")?"Debt":t.includes("multi asset")?"Multi-Asset":t.includes("hybrid")||t.includes("balanced")||t.includes("dynamic asset")||t.includes("arbitrage")||t.includes("retirement")||t.includes("children")||t.includes("pension")?"Hybrid":t.includes("equity")||t.includes("flexi cap")||t.includes("large cap")||t.includes("mid cap")||t.includes("small cap")||t.includes("multi cap")||t.includes("focused")||t.includes("contra")||t.includes("value fund")||t.includes("thematic")||t.includes("sectoral")||t.includes("consumption")||t.includes("infrastructure")||t.includes("pharma")||t.includes("healthcare")||t.includes("technology")||t.includes("fmcg")||t.includes("mnc")||t.includes("opportunities fund")||t.includes("midcap")||t.includes("smallcap")||t.includes("largecap")||t.includes("large & mid")?"Equity":t.includes("index")||t.includes("etf")||t.includes("nifty")||t.includes("sensex")?"Index":t.includes("fund of fund")||t.includes("fof")||t.includes("aggressive")||t.includes("conservative")?"Hybrid":"Other"}const foe={Equity:"#8b5cf6",Debt:"#0ea5e9",Cash:"#2dd4bf",Commodities:"#eab308","Real Estate":"#f97316",Other:"#94a3b8"},moe={Giant:"#6366f1",Large:"#3b82f6",Mid:"#f59e0b",Small:"#ef4444",Micro:"#ec4899"},poe={India:"#f97316",Global:"#06b6d4"},hoe={Equity:"bg-violet-500",Debt:"bg-sky-500",Cash:"bg-teal-400",Commodities:"bg-yellow-500","Real Estate":"bg-orange-500",Other:"bg-slate-400"},xoe={Giant:"bg-indigo-500",Large:"bg-blue-500",Mid:"bg-amber-500",Small:"bg-rose-500",Micro:"bg-pink-500"},voe={India:"bg-orange-500",Global:"bg-cyan-500"};function y1(e){if(!e)return null;if(e instanceof Date)return isNaN(e.getTime())?null:e;const t=String(e),r=t.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})/);if(r)return new Date(Number(r[3]),Number(r[2])-1,Number(r[1]));const n=new Date(t);return isNaN(n.getTime())?null:n}function QD(e){return e>=20?{color:"#c62828",fontWeight:700}:e>=10?{color:"#d84315",fontWeight:700}:e>=5?{color:"#e67e00",fontWeight:600}:e>=1?{color:"#b8860b",fontWeight:600}:{color:"var(--text-dim)",fontWeight:400}}function goe(){const{selectedMember:e}=Hr(),{mfPortfolios:t,mfHoldings:r,mfTransactions:n,activeMembers:i,activeInvestmentAccounts:l,addMFPortfolio:c,updateMFPortfolio:u,deleteMFPortfolio:f,investMF:m,redeemMF:p,switchMF:x,updateHoldingAllocations:v,deleteMFTransaction:g,editMFTransaction:j,assetAllocations:y,updateAssetAllocation:w}=xt(),{showToast:A,showBlockUI:k,hideBlockUI:C}=ui(),M=di(),{mv:E}=Pa(),[O,P]=N.useState(null),[T,$]=N.useState("all"),[L,H]=N.useState("holdings"),[D,Z]=N.useState(!1),[K,J]=N.useState("all"),[R,G]=N.useState(null),[me,we]=N.useState(!1),[Ne,F]=N.useState(null),ce=N.useMemo(()=>t?t.filter(W=>W.status!=="Inactive").map(W=>{let q=l.find(Ue=>Ue.accountId===W.investmentAccountId);!q&&W.investmentAccountId&&(q=l.find(Ue=>`${Ue.accountName} - ${Ue.platformBroker}`===W.investmentAccountId));const re=q?.memberId||W.ownerId||"",Ae=re?i.find(Ue=>Ue.memberId===re):null;return{...W,investmentAccountId:q?.accountId||W.investmentAccountId,ownerId:re,ownerName:Ae?.memberName||W.ownerName||"",platform:q?.platformBroker||W.investmentAccountName||"",clientId:q?.accountClientId||""}}):[],[t,l,i]),ee=N.useMemo(()=>ce.length?e==="all"?ce:ce.filter(W=>W.ownerId===e):[],[ce,e]),B=N.useMemo(()=>r?ee.map(W=>{const q=r.filter(Ae=>Ae.portfolioId===W.portfolioId),re=(n||[]).filter(Ae=>Ae.portfolioId===W.portfolioId);return{...W,holdings:q,txns:re,fundCount:q.length}}):[],[ee,r,n]),z=N.useMemo(()=>{const W=T==="all"?B:B.filter(Qe=>Qe.portfolioId===T),q=W.reduce((Qe,Ee)=>Qe+Ee.totalInvestment,0),re=W.reduce((Qe,Ee)=>Qe+Ee.currentValue,0),Ae=W.reduce((Qe,Ee)=>Qe+Ee.unrealizedPL,0),Ue=W.reduce((Qe,Ee)=>Qe+Ee.realizedPL,0),le=Ae+Ue,it=q>0?le/q*100:0,Ye=q>0?Ae/q*100:0,Be=q>0?Ue/q*100:0,Je=W.reduce((Qe,Ee)=>Qe+Ee.fundCount,0),Yt=(r?T==="all"?r.filter(Qe=>W.some(Ee=>Ee.portfolioId===Qe.portfolioId)):r.filter(Qe=>Qe.portfolioId===T):[]).reduce((Qe,Ee)=>Qe+(Ee.ongoingSIP||0),0);return{invested:q,current:re,unrealizedPL:Ae,unrealizedPLPct:Ye,realizedPL:Ue,realizedPLPct:Be,totalPL:le,totalPLPct:it,funds:Je,monthlySIP:Yt}},[B,T,r]),U=N.useMemo(()=>r?T==="all"?r.filter(W=>ee.some(q=>q.portfolioId===W.portfolioId)):r.filter(W=>W.portfolioId===T):[],[r,ee,T]),xe=N.useMemo(()=>n?(T==="all"?n.filter(q=>ee.some(re=>re.portfolioId===q.portfolioId)):n.filter(q=>q.portfolioId===T)).sort((q,re)=>(y1(re.date)||0)-(y1(q.date)||0)):[],[n,ee,T]),je=N.useMemo(()=>{const W=new Set;return xe.forEach(q=>{q.fundName&&W.add(q.fundName)}),[...W].sort()},[xe]),ne=N.useMemo(()=>K==="all"?xe:xe.filter(W=>W.fundName===K),[xe,K]),De=N.useMemo(()=>{const W={};return U.forEach(q=>{W[q.portfolioId]=(W[q.portfolioId]||0)+q.currentValue}),U.map(q=>{const re=W[q.portfolioId]||0,Ae=re>0?q.currentValue/re*100:0,Ue=q.investment>0?q.pl/q.investment*100:0,le=q.holdingId||`${q.portfolioId}::${q.schemeCode||q.fundCode}`;return{...q,currentAllocationPct:Ae,plPct:Ue,_key:le}})},[U]),Ce=N.useMemo(()=>{if(T!=="all")return null;const W=[],q={};return De.forEach(re=>{q[re.portfolioId]||(q[re.portfolioId]={portfolioId:re.portfolioId,holdings:[]},W.push(q[re.portfolioId])),q[re.portfolioId].holdings.push(re)}),W},[De,T]),ue=N.useMemo(()=>{if(!r)return{};const W={};return B.forEach(q=>{const re=r.filter(Ye=>Ye.portfolioId===q.portfolioId&&Ye.units>0),Ae=re.reduce((Ye,Be)=>Ye+Be.currentValue,0),Ue=(q.rebalanceThreshold||.05)*100;let le=0,it=0;re.forEach(Ye=>{Ye.athNav>0&&Ye.belowATHPct>=5&&le++;const Be=Ae>0?Ye.currentValue/Ae*100:0;Ye.targetAllocationPct>0&&Math.abs(Be-Ye.targetAllocationPct)>Ue&&it++}),W[q.portfolioId]={buyOpp:le,rebalance:it}}),W},[B,r]);N.useMemo(()=>{if(T!=="all")return ue[T]||{buyOpp:0,rebalance:0};let W=0,q=0;return Object.values(ue).forEach(re=>{W+=re.buyOpp,q+=re.rebalance}),{buyOpp:W,rebalance:q}},[T,ue]);const $e=N.useMemo(()=>{if(!U.length)return null;const W={};if(y)for(const Ee of y)W[Ee.fundCode]={asset:Ee.assetAllocation,equity:Ee.equityAllocation,geo:Ee.geoAllocation};const q={Equity:0,Debt:0,Cash:0,Commodities:0,"Real Estate":0,Other:0},re={Giant:0,Large:0,Mid:0,Small:0,Micro:0},Ae={India:0,Global:0};let Ue=0,le=!1,it=0;for(const Ee of U){if(Ee.units<=0)continue;Ue+=Ee.currentValue;const We=W[Ee.fundCode||Ee.schemeCode];if(We?.asset){le=!0,it++;for(const[Fe,yt]of Object.entries(We.asset)){const $t=Ee.currentValue*(yt/100);Fe in q?q[Fe]+=$t:Fe==="Gold"?q.Commodities+=$t:q.Other+=$t}if(We.equity){const Fe=Ee.currentValue*((We.asset.Equity||0)/100);for(const[yt,$t]of Object.entries(We.equity)){const Vt=Fe*($t/100);yt in re?re[yt]+=Vt:yt==="Large Cap"?re.Large+=Vt:yt==="Mid Cap"?re.Mid+=Vt:re.Small+=Vt}}if(We.geo){const Fe=Ee.currentValue*((We.asset.Equity||0)/100);for(const[yt,$t]of Object.entries(We.geo)){const Vt=Fe*($t/100);yt in Ae?Ae[yt]+=Vt:Ae.Global+=Vt}}}else{let Fe=Ee.category;(!Fe||Fe==="Other")&&(Fe=doe(Ee.fundName)),Fe==="Equity"||Fe==="ELSS"||Fe==="Index"?q.Equity+=Ee.currentValue:Fe==="Debt"||Fe==="Gilt"?q.Debt+=Ee.currentValue:Fe==="Liquid"?q.Cash+=Ee.currentValue:Fe==="Commodity"?q.Commodities+=Ee.currentValue:Fe==="Multi-Asset"?(q.Equity+=Ee.currentValue*.5,q.Debt+=Ee.currentValue*.3,q.Commodities+=Ee.currentValue*.2):Fe==="Hybrid"||Fe==="FoF"?(q.Equity+=Ee.currentValue*.65,q.Debt+=Ee.currentValue*.35):q.Other+=Ee.currentValue}}if(Ue===0)return null;const Be=((Ee,We)=>Object.entries(Ee).filter(([,Fe])=>Fe>0).sort(([,Fe],[,yt])=>yt-Fe).map(([Fe,yt])=>({name:Fe,value:yt,pct:yt/Ue*100,fill:We[Fe]||"#94a3b8"})))(q,foe),Je=Object.values(re).reduce((Ee,We)=>Ee+We,0),nt=Je>0?Object.entries(re).filter(([,Ee])=>Ee>0).sort(([,Ee],[,We])=>We-Ee).map(([Ee,We])=>({name:Ee,value:We,pct:We/Je*100,fill:moe[Ee]||"#94a3b8"})):[],Yt=Object.values(Ae).reduce((Ee,We)=>Ee+We,0),Qe=Yt>0?Object.entries(Ae).filter(([,Ee])=>Ee>0).sort(([,Ee],[,We])=>We-Ee).map(([Ee,We])=>({name:Ee,value:We,pct:We/Yt*100,fill:poe[Ee]||"#94a3b8"})):[];return{assetList:Be,capList:nt,geoList:Qe,hasDetailedAlloc:le,configuredCount:it,totalFunds:U.filter(Ee=>Ee.units>0).length}},[U,y]),Ie=N.useMemo(()=>{if(!U.length)return[];const W={};return U.forEach(q=>{if(!q.fundCode&&!q.schemeCode)return;const re=(q.fundCode||q.schemeCode).toString();W[re]||(W[re]={fundCode:re,fundName:q.fundName||""})}),Object.values(W).sort((q,re)=>q.fundName.localeCompare(re.fundName))},[U]);if(t===null||r===null)return a.jsx(pi,{title:"Loading mutual funds",cards:5});const Re=B.find(W=>W.portfolioId===T),rt=T==="all"?`All Portfolios (${ee.length})`:`${ad(Re?.portfolioName)}  ${E(Re?.ownerName,"name")}`;async function jt(W){k("Saving...");try{O?.editPortfolio?await u(O.editPortfolio.portfolioId,W):await c(W),A(O?.editPortfolio?"Portfolio updated":"Portfolio created"),P(null)}catch(q){A(q.message||"Failed to save portfolio","error")}finally{C()}}async function Bt(){if(O?.editPortfolio&&await M("Deactivate this portfolio?",{title:"Deactivate Portfolio",confirmLabel:"Deactivate"})){k("Deactivating...");try{await f(O.editPortfolio.portfolioId),A("Portfolio deactivated"),$("all"),P(null)}catch(W){A(W.message||"Failed to deactivate portfolio","error")}finally{C()}}}async function Ut(W){k("Recording investment...");try{await m(W,W.transactionType),A("Investment recorded"),P(null)}catch(q){A(q.message||"Failed to record investment","error")}finally{C()}}async function Zt(W){k("Recording redemption...");try{await p(W),A("Redemption recorded"),P(null)}catch(q){A(q.message||"Failed to record redemption","error")}finally{C()}}async function Jt(W){k("Recording switch...");try{await x(W),A("Switch recorded"),P(null)}catch(q){A(q.message||"Failed to record switch","error")}finally{C()}}async function ye(W){if(await M("Delete this transaction? This will recalculate your holdings.",{title:"Delete Transaction",confirmLabel:"Delete"})){k("Deleting...");try{await g(W),A("Transaction deleted"),G(null)}catch(q){A(q.message||"Failed to delete transaction","error")}finally{C()}}}async function _e(W){k("Updating...");try{await j(W),A("Transaction updated"),P(null)}catch(q){A(q.message||"Failed to update transaction","error")}finally{C()}}async function ze(W){if(O?.allocations){k("Saving allocations...");try{await v(O.allocations,W),A("Allocations updated"),P(null)}catch(q){A(q.message||"Failed to update allocations","error")}finally{C()}}}async function Et(W){k("Saving classification...");try{await w(W),A("Fund classified"),P(null)}catch(q){A(q.message||"Failed to save classification","error")}finally{C()}}return a.jsxs("div",{className:"space-y-4",children:[ee.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(mp,{size:32,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No mutual fund portfolios yet"}),a.jsx("button",{onClick:()=>P("addPortfolio"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first portfolio"})]}):a.jsxs(a.Fragment,{children:[!Ne&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[a.jsxs("div",{className:"relative w-full sm:w-auto",children:[a.jsxs("button",{onClick:()=>Z(!D),className:"flex items-center gap-2 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm font-semibold text-[var(--text-primary)] hover:border-[var(--border-light)] transition-colors w-full sm:min-w-[220px]",children:[a.jsx(mp,{size:14,className:"text-violet-400 shrink-0"}),a.jsx("span",{className:"truncate",children:rt}),a.jsx(Kl,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${D?"rotate-180":""}`})]}),D&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>Z(!1)}),a.jsxs("div",{className:"absolute left-0 right-0 sm:right-auto top-full mt-1 z-40 bg-[var(--bg-dropdown)] border border-white/10 rounded-lg shadow-2xl sm:min-w-[300px] py-1 overflow-hidden",children:[a.jsxs("button",{onClick:()=>{$("all"),Z(!1),H("holdings")},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${T==="all"?"bg-[var(--sidebar-active-bg)] text-[var(--text-primary)] font-semibold":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:["All Portfolios (",ee.length,")"]}),a.jsx("div",{className:"border-t border-[var(--border-light)]"}),B.map(W=>{const q=W.totalPL>=0,re=ue[W.portfolioId]||{};return a.jsx("button",{onClick:()=>{$(W.portfolioId),Z(!1),H("holdings")},className:`w-full text-left px-4 py-2.5 transition-colors ${T===W.portfolioId?"bg-[var(--sidebar-active-bg)]":"hover:bg-[var(--bg-hover)]"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("p",{className:`text-sm ${T===W.portfolioId?"font-semibold text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:ad(W.portfolioName)}),re.buyOpp>0&&a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 shrink-0",title:`${re.buyOpp} buy opportunities`}),re.rebalance>0&&a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-400 shrink-0",title:`${re.rebalance} funds need rebalancing`})]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[E(W.ownerName,"name"),"  ",W.platform,"  ",W.fundCount," funds"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(W.currentValue)}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${q?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[q?"+":"",W.totalPLPct.toFixed(1),"%"]})]})]})},W.portfolioId)})]})]})]}),a.jsxs("div",{className:"flex items-center gap-1.5 overflow-x-auto no-scrollbar",children:[Re&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>P({allocations:Re.portfolioId}),className:"shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(DO,{size:12})," Allocations"]}),a.jsxs("button",{onClick:()=>P({editPortfolio:Re}),className:"shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(ma,{size:12})," Edit"]})]}),a.jsxs("button",{onClick:()=>P("addPortfolio"),className:"shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Zr,{size:13})," New Portfolio"]})]})]}),Re&&a.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-dim)] px-1 flex-wrap",children:[a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Platform:"})," ",Re.platform]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Client ID:"})," ",E(Re.clientId,"clientId")]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Funds:"})," ",Re.fundCount]}),Re.sipTarget>=100&&a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"SIP Target:"})," ",Q(Re.sipTarget),"/mo"]}),Re.lumpsumTarget>=100&&a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Lumpsum Target:"})," ",Q(Re.lumpsumTarget)]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Rebalance Threshold:"})," ",(Re.rebalanceThreshold*100).toFixed(0),"%"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[a.jsx(Jo,{label:"Invested",value:Q(z.invested)}),a.jsx(Jo,{label:"Current Value",value:Q(z.current),bold:!0}),a.jsx(Jo,{label:"Unrealized P&L",value:`${z.unrealizedPL>=0?"+":""}${Q(z.unrealizedPL)}`,sub:`${z.unrealizedPLPct>=0?"+":""}${z.unrealizedPLPct.toFixed(1)}%`,positive:z.unrealizedPL>=0}),a.jsx(Jo,{label:"Realized P&L",value:`${z.realizedPL>=0?"+":""}${Q(z.realizedPL)}`,sub:`${z.realizedPLPct>=0?"+":""}${z.realizedPLPct.toFixed(1)}%`,positive:z.realizedPL>=0}),a.jsx(Jo,{label:"Total P&L",value:`${z.totalPL>=0?"+":""}${Q(z.totalPL)}`,sub:`${z.totalPLPct>=0?"+":""}${z.totalPLPct.toFixed(1)}%`,positive:z.totalPL>=0,bold:!0}),a.jsx(Jo,{label:"Monthly SIP",value:Q(z.monthlySIP),sub:`${z.funds} funds`})]}),Ne?(()=>{const W=Ne,q=QD(W.belowATHPct),re=W.pl>=0,Ae=B.find(le=>le.portfolioId===W.portfolioId),Ue=xe.filter(le=>le.fundCode===W.schemeCode&&le.portfolioId===W.portfolioId);return a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-2.5",children:[a.jsx("button",{onClick:()=>F(null),className:"p-1 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors mt-0.5 shrink-0",children:a.jsx(fz,{size:16})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] leading-tight",children:Le(W.fundName).main}),Le(W.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5",children:Le(W.fundName).plan})]}),Ae&&a.jsxs("div",{className:"text-right shrink-0 mt-0.5",children:[a.jsx("p",{className:"text-[10px] font-semibold text-[var(--text-secondary)]",children:E(Ae.ownerName,"name")}),a.jsxs("p",{className:"text-[10px] text-violet-400 bg-violet-500/10 px-2 py-0.5 rounded mt-0.5 inline-block",children:[ad(Ae.portfolioName),"  ",Ae.platform]})]})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-2.5 flex items-baseline justify-between",children:[a.jsx("p",{className:"text-lg font-bold text-[var(--text-primary)] tabular-nums",children:Q(W.currentValue)}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${re?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[re?"+":"",Q(W.pl)," (",re?"+":"",W.plPct.toFixed(1),"%)"]})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] divide-y divide-[var(--border-light)]",children:[a.jsx(ec,{label:"Invested",value:Q(W.investment)}),a.jsx(ec,{label:"Units",value:W.units.toFixed(3)}),a.jsx(ec,{label:"NAV (Current / Avg)",value:`${W.currentNav.toFixed(2)} / ${W.avgNav.toFixed(2)}`}),a.jsx(ec,{label:"Allocation (Current / Target)",value:`${W.currentAllocationPct.toFixed(1)}% / ${W.targetAllocationPct.toFixed(1)}%`}),W.athNav>0&&a.jsx(ec,{label:"ATH",value:W.belowATHPct>0?`${W.belowATHPct.toFixed(1)}% (${W.athNav.toFixed(0)})`:"At All-Time High",valueStyle:W.belowATHPct>0?q:{color:"#34d399"}}),W.ongoingSIP>0&&a.jsx(ec,{label:"Monthly SIP",value:Q(W.ongoingSIP),valueClass:"text-blue-400"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>P({invest:{portfolioId:W.portfolioId,fundCode:W.schemeCode,fundName:W.fundName}}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-emerald-400 bg-[var(--bg-card)] border border-[var(--border)] hover:bg-emerald-500/10 rounded-lg transition-colors",children:[a.jsx(Zr,{size:14})," Invest"]}),a.jsxs("button",{onClick:()=>P({redeem:{portfolioId:W.portfolioId,fundCode:W.schemeCode}}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-rose-400 bg-[var(--bg-card)] border border-[var(--border)] hover:bg-rose-500/10 rounded-lg transition-colors",children:[a.jsx(ZC,{size:14})," Redeem"]}),a.jsxs("button",{onClick:()=>P({switchFunds:W.portfolioId}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-amber-400 bg-[var(--bg-card)] border border-[var(--border)] hover:bg-amber-500/10 rounded-lg transition-colors",children:[a.jsx(ig,{size:14})," Switch"]})]}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-dim)] px-1 mb-2",children:["Transactions (",Ue.length,")"]}),Ue.length>0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"NAV"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Gain/Loss"}),a.jsx("th",{className:"w-8"})]})}),a.jsx("tbody",{children:Ue.map((le,it)=>{const Ye=le.type==="BUY",Be=!Ye&&le.gainLoss!=null&&le.gainLoss!==0,Je=Be&&le.gainLoss>=0,nt={INITIAL:{bg:"bg-purple-500/15",text:"text-purple-400"},SIP:{bg:"bg-blue-500/15",text:"text-blue-400"},LUMPSUM:{bg:"bg-emerald-500/15",text:"text-emerald-400"},WITHDRAWAL:{bg:"bg-rose-500/15",text:"text-[var(--accent-rose)]"},SWITCH:{bg:"bg-amber-500/15",text:"text-amber-400"}}[le.transactionType]||{bg:"bg-gray-500/15",text:"text-[var(--text-muted)]"};return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:le.date}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${Ye?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:le.type}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${nt.bg} ${nt.text}`,children:le.transactionType})]})}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:le.units.toFixed(2)}),a.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:["",le.price.toFixed(2)]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(le.totalAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:Be?a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${Je?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Je?"+":"",Q(le.gainLoss)]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),a.jsx("td",{className:"py-2.5 px-1",children:a.jsx(Zm,{txn:le,isOpen:R===le.transactionId,onToggle:()=>G(R===le.transactionId?null:le.transactionId),onEdit:()=>{G(null),P({editTxn:le})},onDelete:()=>{G(null),ye(le.transactionId)}})})]},le.transactionId||`fd-txn-${it}`)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:Ue.map((le,it)=>{const Ye=le.type==="BUY",Be=!Ye&&le.gainLoss!=null&&le.gainLoss!==0,Je=Be&&le.gainLoss>=0;return a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${Ye?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:le.type}),a.jsx("span",{className:"text-xs font-semibold text-[var(--text-dim)]",children:le.transactionType})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:le.date}),a.jsx(Zm,{txn:le,isOpen:R===le.transactionId,onToggle:()=>G(R===le.transactionId?null:le.transactionId),onEdit:()=>{G(null),P({editTxn:le})},onDelete:()=>{G(null),ye(le.transactionId)}})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsxs("p",{className:"text-[var(--text-dim)]",children:[le.units.toFixed(2)," units @ ",le.price.toFixed(2)]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(le.totalAmount)}),Be&&a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Je?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["G/L: ",Je?"+":"",Q(le.gainLoss)]})]})]}),le.notes&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:le.notes})]},le.transactionId||`fd-txn-m-${it}`)})})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-8 flex flex-col items-center gap-2",children:[a.jsx(dd,{size:24,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"No transactions yet"})]})]})]})})():a.jsxs(a.Fragment,{children:[$e&&$e.assetList.length>0&&a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsxs("button",{onClick:()=>we(W=>!W),className:"w-full flex items-center justify-between px-4 py-2.5 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("span",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Portfolio Breakdown"}),a.jsx(Kl,{size:14,className:`text-[var(--text-dim)] transition-transform duration-200 ${me?"rotate-180":""}`})]}),me&&a.jsxs("div",{className:"px-4 pb-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(iy,{title:"Asset Class",data:$e.assetList,bgMap:hoe}),$e.capList.length>0?a.jsx(iy,{title:"Market Cap",data:$e.capList,bgMap:xoe}):a.jsx("div",{className:"flex items-center justify-center rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)] p-4",children:a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)] text-center",children:["Classify funds for",a.jsx("br",{}),"market cap breakdown"]})}),$e.geoList?.length>0?a.jsx(iy,{title:"Geography",data:$e.geoList,bgMap:voe}):a.jsx("div",{className:"flex items-center justify-center rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)] p-4",children:a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)] text-center",children:["Classify funds for",a.jsx("br",{}),"geography breakdown"]})})]}),!$e.hasDetailedAlloc&&a.jsx("p",{className:"text-[9px] text-[var(--text-dim)]/50 mt-2 text-center",children:"Based on fund category. Go to Fund Breakdown tab to add detailed data from Morningstar."}),$e.hasDetailedAlloc&&$e.configuredCount<$e.totalFunds&&a.jsxs("p",{className:"text-[9px] text-amber-400/70 mt-2 text-center",children:[$e.totalFunds-$e.configuredCount," of ",$e.totalFunds," funds not yet classified"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto no-scrollbar",children:[a.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5 shrink-0",children:[a.jsxs("button",{onClick:()=>H("holdings"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors whitespace-nowrap ${L==="holdings"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(CO,{size:12})," Holdings (",U.length,")"]}),a.jsxs("button",{onClick:()=>H("transactions"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors whitespace-nowrap ${L==="transactions"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(dd,{size:12})," All Transactions (",xe.length,")"]}),a.jsxs("button",{onClick:()=>H("breakdown"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors whitespace-nowrap ${L==="breakdown"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(XC,{size:12})," Fund Breakdown (",Ie.length,")"]})]}),a.jsxs("div",{className:"flex items-center gap-1.5 ml-auto shrink-0",children:[a.jsxs("button",{onClick:()=>T!=="all"&&P({invest:T}),disabled:T==="all",className:`shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium rounded-lg border transition-colors ${T==="all"?"border-[var(--border)] text-[var(--text-dim)] cursor-not-allowed opacity-50 bg-[var(--bg-card)]":"text-emerald-400 hover:text-emerald-300 bg-[var(--bg-card)] border-[var(--border)] hover:bg-[var(--bg-hover)]"}`,children:[a.jsx(xc,{size:12})," Invest"]}),a.jsxs("button",{onClick:()=>T!=="all"&&U.length>0&&P({redeem:T}),disabled:T==="all"||U.length===0,className:`shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium rounded-lg border transition-colors ${T==="all"||U.length===0?"border-[var(--border)] text-[var(--text-dim)] cursor-not-allowed opacity-50 bg-[var(--bg-card)]":"text-rose-400 hover:text-rose-300 bg-[var(--bg-card)] border-[var(--border)] hover:bg-[var(--bg-hover)]"}`,children:[a.jsx(bO,{size:12})," Redeem"]}),a.jsxs("button",{onClick:()=>T!=="all"&&U.length>0&&P({switchFunds:T}),disabled:T==="all"||U.length===0,className:`shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium rounded-lg border transition-colors ${T==="all"||U.length===0?"border-[var(--border)] text-[var(--text-dim)] cursor-not-allowed opacity-50 bg-[var(--bg-card)]":"text-amber-400 hover:text-amber-300 bg-[var(--bg-card)] border-[var(--border)] hover:bg-[var(--bg-hover)]"}`,children:[a.jsx(ig,{size:12})," Switch"]})]})]}),L==="holdings"&&a.jsx(a.Fragment,{children:U.length>0?a.jsx("div",{className:T==="all"?"space-y-4":"",children:(T==="all"?Ce:[{portfolioId:T,holdings:De}]).map(W=>{const q=B.find(le=>le.portfolioId===W.portfolioId),re=W.holdings,Ae=re.reduce((le,it)=>le+it.pl,0),Ue=Ae>=0;return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[T==="all"&&q&&a.jsxs("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:ad(q.portfolioName)}),a.jsxs("div",{className:"flex items-center gap-3 text-xs tabular-nums",children:[a.jsx("span",{className:"text-[var(--text-muted)]",children:Q(q.currentValue||0)}),a.jsxs("span",{className:`font-bold ${Ue?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Ue?"+":"",Q(Ae)]})]})]}),a.jsxs("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5",children:[E(q.ownerName,"name"),"  ",re.filter(le=>le.units>0).length," funds"]})]}),a.jsx("div",{className:"hidden lg:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:`border-b border-[var(--border-light)] ${T!=="all"?"bg-[var(--bg-inset)]":""}`,children:[a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Fund Name"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),a.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"NAV"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Avg"})]}),a.jsxs("th",{className:"text-center py-2 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"ATH"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Below Peak"})]}),a.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"Allocation %"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Target"})]}),a.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"Amount"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Invested"})]}),a.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"P&L"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"on Holdings"})]}),a.jsx("th",{className:"py-2 px-2 w-8"})]})}),a.jsx("tbody",{children:re.map(le=>{const it=QD(le.belowATHPct),Ye=le.units===0,Be=B.find(We=>We.portfolioId===le.portfolioId),Je=Be?.currentValue||0,nt=le.pl,Yt=nt>=0,Qe=Ye&&le.targetAllocationPct>0&&le.targetAllocationPct<100&&Je>0?le.targetAllocationPct/(100-le.targetAllocationPct)*Je:0,Ee=Ye&&le.targetAllocationPct>0&&Be?.sipTarget>=100?le.targetAllocationPct/100*Be.sipTarget:0;return a.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 transition-colors ${Ye?"opacity-60":"hover:bg-[var(--bg-hover)]"}`,children:[a.jsx("td",{className:"py-3.5 px-3 max-w-[240px]",children:a.jsxs("div",{children:[a.jsxs("button",{onClick:We=>{We.stopPropagation(),Ye||F(le)},className:`text-xs leading-tight text-left ${Ye?"text-[var(--text-secondary)] cursor-default":"text-[var(--text-secondary)] hover:text-violet-400 transition-colors cursor-pointer"}`,children:[Le(le.fundName).main,Ye&&a.jsx("span",{className:"ml-1.5 text-xs font-semibold text-violet-400 bg-violet-500/15 px-1.5 py-0.5 rounded",children:"Planned"}),Le(le.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] font-normal mt-0.5",children:Le(le.fundName).plan})]}),Ye&&(Qe>0||Ee>0)&&a.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[Qe>0&&a.jsxs("span",{className:"text-xs text-emerald-400 font-semibold",children:["Buy ",Q(Qe)]}),Ee>0&&a.jsxs("span",{className:"text-xs text-blue-400 font-semibold",children:["SIP ",Q(Ee),"/mo"]})]})]})}),a.jsx("td",{className:"py-3.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:Ye?"":le.units.toFixed(2)}),a.jsx("td",{className:"py-3.5 px-3 text-right",children:Ye?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:["",le.currentNav.toFixed(2)]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums mt-0.5",children:["",le.avgNav.toFixed(2)]})]})}),a.jsx("td",{className:"py-3.5 px-2 text-center",children:Ye?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):le.athNav>0&&le.belowATHPct>0?a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-bold tabular-nums",style:it,children:["",le.belowATHPct.toFixed(1),"%"]}),a.jsxs("p",{className:"text-[11px] text-[var(--text-muted)] tabular-nums mt-0.5",children:["",le.athNav.toFixed(0)]})]}):le.athNav>0?a.jsx("span",{className:"text-[10px] text-emerald-400/70 font-semibold",children:"AT HIGH"}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),a.jsx("td",{className:"py-3.5 px-3 text-right",children:Ye?a.jsxs("p",{className:"text-xs font-semibold text-violet-400 tabular-nums",children:[le.targetAllocationPct.toFixed(1),"%"]}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:[le.currentAllocationPct.toFixed(1),"%"]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums mt-0.5",children:[le.targetAllocationPct.toFixed(1),"%"]})]})}),a.jsx("td",{className:"py-3.5 px-3 text-right",children:Ye?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(le.currentValue)}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums mt-0.5",children:Q(le.investment)})]})}),a.jsx("td",{className:"py-3.5 px-3 text-right",children:Ye?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Yt?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Yt?"+":"",Q(nt)]}),a.jsxs("p",{className:`text-xs font-bold tabular-nums mt-0.5 ${Yt?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Yt?"+":"",le.plPct.toFixed(1),"%"]})]})}),a.jsx("td",{className:"py-3.5 px-2 text-center",children:a.jsxs("div",{className:"flex items-center gap-0.5 justify-center",children:[a.jsx("button",{onClick:We=>{We.stopPropagation(),P({invest:{portfolioId:le.portfolioId,fundCode:le.schemeCode,fundName:le.fundName}})},className:"w-6 h-6 flex items-center justify-center rounded-full bg-emerald-500/15 text-emerald-400 hover:bg-emerald-500/25 transition-colors",title:"Buy / Invest",children:a.jsx(Zr,{size:14,strokeWidth:2.5})}),!Ye&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:We=>{We.stopPropagation(),P({redeem:{portfolioId:le.portfolioId,fundCode:le.schemeCode}})},className:"w-6 h-6 flex items-center justify-center rounded-full bg-rose-500/15 text-rose-400 hover:bg-rose-500/25 transition-colors",title:"Sell / Redeem",children:a.jsx(ZC,{size:14,strokeWidth:2.5})}),a.jsx("button",{onClick:We=>{We.stopPropagation(),P({switchFunds:le.portfolioId})},className:"w-6 h-6 flex items-center justify-center rounded-full bg-amber-500/15 text-amber-400 hover:bg-amber-500/25 transition-colors",title:"Switch Fund",children:a.jsx(ig,{size:14,strokeWidth:2.5})})]})]})})]},le._key)})})]})}),a.jsx("div",{className:"lg:hidden space-y-2 p-3",children:re.map(le=>{const it=le.units===0,Ye=le.pl>=0,Je=B.find(Yt=>Yt.portfolioId===le.portfolioId)?.currentValue||0,nt=it&&le.targetAllocationPct>0&&le.targetAllocationPct<100&&Je>0?le.targetAllocationPct/(100-le.targetAllocationPct)*Je:0;return it?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3 opacity-60",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-[11px] text-[var(--text-primary)] leading-tight",children:Le(le.fundName).main}),Le(le.fundName).plan&&a.jsx("p",{className:"text-[9px] text-[var(--text-dim)]",children:Le(le.fundName).plan})]}),a.jsx("span",{className:"text-[10px] font-semibold text-violet-400 bg-violet-500/15 px-1.5 py-0.5 rounded shrink-0",children:"Planned"})]}),a.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[a.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:["Target ",le.targetAllocationPct.toFixed(1),"%"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[nt>0&&a.jsx("span",{className:"text-xs text-emerald-400 font-semibold",children:Q(nt)}),a.jsxs("button",{onClick:()=>P({invest:{portfolioId:le.portfolioId,fundCode:le.schemeCode,fundName:le.fundName}}),className:"flex items-center gap-1 text-[10px] font-semibold text-emerald-400 px-2 py-0.5 rounded bg-emerald-500/10",children:[a.jsx(Zr,{size:10,strokeWidth:2.5})," Buy"]})]})]})]},le._key):a.jsxs("button",{onClick:()=>F(le),className:"w-full bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3 text-left hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-[11px] font-medium text-[var(--text-primary)] leading-tight",children:Le(le.fundName).main}),Le(le.fundName).plan&&a.jsx("p",{className:"text-[9px] text-[var(--text-dim)]",children:Le(le.fundName).plan})]}),a.jsxs("div",{className:"text-right shrink-0",children:[a.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums",children:Q(le.currentValue)}),a.jsxs("p",{className:`text-[11px] font-semibold tabular-nums ${Ye?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Ye?"+":"",Q(le.pl)," (",Ye?"+":"",le.plPct.toFixed(1),"%)"]})]})]}),a.jsxs("div",{className:"flex items-center justify-between mt-1.5 text-[11px] tabular-nums",children:[a.jsxs("span",{className:"text-[var(--text-dim)]",children:["Invested ",Q(le.investment)]}),a.jsx(zn,{size:12,className:"text-[var(--text-dim)]"})]})]},le._key)})})]},W.portfolioId)})}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(mp,{size:28,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No holdings",Re?" in this portfolio":""]}),a.jsx("button",{onClick:()=>P({invest:T!=="all"?T:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Add your first fund"})]})}),L==="transactions"&&a.jsxs(a.Fragment,{children:[je.length>1&&a.jsxs("div",{className:"flex items-center gap-2 px-1",children:[a.jsx(jO,{size:12,className:"text-[var(--text-dim)]"}),a.jsxs("select",{value:K,onChange:W=>J(W.target.value),className:"text-xs bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg px-3 py-1.5 max-w-[350px] truncate",children:[a.jsxs("option",{value:"all",children:["All Funds (",xe.length,")"]}),je.map(W=>a.jsxs("option",{value:W,children:[W," (",xe.filter(q=>q.fundName===W).length,")"]},W))]}),K!=="all"&&a.jsx("button",{onClick:()=>J("all"),className:"text-xs text-[var(--text-dim)] hover:text-[var(--text-muted)] underline",children:"Clear"})]}),ne.length>0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Fund"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"NAV"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Gain/Loss"}),a.jsx("th",{className:"w-8"})]})}),a.jsx("tbody",{children:ne.map((W,q)=>{const re=W.type==="BUY",Ae=!re&&W.gainLoss!=null&&W.gainLoss!==0,Ue=Ae&&W.gainLoss>=0,le=T==="all"?B.find(Ye=>Ye.portfolioId===W.portfolioId):null,it={INITIAL:{bg:"bg-purple-500/15",text:"text-purple-400"},SIP:{bg:"bg-blue-500/15",text:"text-blue-400"},LUMPSUM:{bg:"bg-emerald-500/15",text:"text-emerald-400"},WITHDRAWAL:{bg:"bg-rose-500/15",text:"text-[var(--accent-rose)]"},SWITCH:{bg:"bg-amber-500/15",text:"text-amber-400"}}[W.transactionType]||{bg:"bg-gray-500/15",text:"text-[var(--text-muted)]"};return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:W.date}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${re?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:W.type}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${it.bg} ${it.text}`,children:W.transactionType})]})}),a.jsxs("td",{className:"py-2.5 px-3",children:[a.jsxs("div",{className:"max-w-[200px]",children:[a.jsx("p",{className:"text-xs text-[var(--text-primary)] truncate",children:Le(W.fundName).main}),Le(W.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(W.fundName).plan})]}),le&&a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:ad(le.portfolioName)})]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:W.units.toFixed(2)}),a.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:["",W.price.toFixed(2)]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(W.totalAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:Ae?a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${Ue?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Ue?"+":"",Q(W.gainLoss)]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),a.jsx("td",{className:"py-2.5 px-1",children:a.jsx(Zm,{txn:W,isOpen:R===W.transactionId,onToggle:()=>G(R===W.transactionId?null:W.transactionId),onEdit:()=>{G(null),P({editTxn:W})},onDelete:()=>{G(null),ye(W.transactionId)}})})]},W.transactionId||`txn-${q}`)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:ne.map((W,q)=>{const re=W.type==="BUY",Ae=!re&&W.gainLoss!=null&&W.gainLoss!==0,Ue=Ae&&W.gainLoss>=0;return a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${re?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:W.type}),a.jsx("span",{className:"text-xs font-semibold text-[var(--text-dim)]",children:W.transactionType})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:W.date}),a.jsx(Zm,{txn:W,isOpen:R===W.transactionId,onToggle:()=>G(R===W.transactionId?null:W.transactionId),onEdit:()=>{G(null),P({editTxn:W})},onDelete:()=>{G(null),ye(W.transactionId)}})]})]}),a.jsxs("div",{className:"mb-1",children:[a.jsx("p",{className:"text-[11px] text-[var(--text-primary)] truncate",children:Le(W.fundName).main}),Le(W.fundName).plan&&a.jsx("p",{className:"text-[9px] text-[var(--text-dim)]",children:Le(W.fundName).plan})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsxs("p",{className:"text-[var(--text-dim)]",children:[W.units.toFixed(2)," units @ ",W.price.toFixed(2)]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(W.totalAmount)}),Ae&&a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Ue?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["G/L: ",Ue?"+":"",Q(W.gainLoss)]})]})]}),W.notes&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:W.notes})]},W.transactionId||`txn-m-${q}`)})})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(dd,{size:28,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:K!=="all"?"No transactions for this fund":"No transactions yet"}),K!=="all"?a.jsx("button",{onClick:()=>J("all"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Show all transactions"}):a.jsx("button",{onClick:()=>P({invest:T!=="all"?T:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Make your first investment"})]})]}),L==="breakdown"&&a.jsx(a.Fragment,{children:Ie.length>0?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Copy allocation data from ",a.jsx("span",{className:"font-semibold text-[var(--text-muted)]",children:"morningstar.in"}),"  Fund  Portfolio tab"]}),Ie.map(W=>{const q=y?.find(re=>re.fundCode===W.fundCode);return a.jsx(Noe,{fund:W,existing:q,onConfigure:()=>P({classifyFund:{fund:W,existing:q}})},W.fundCode)})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(XC,{size:28,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No funds to configure"})]})})]})]}),a.jsx(hr,{open:O==="addPortfolio"||!!O?.editPortfolio,onClose:()=>P(null),title:O?.editPortfolio?"Edit Portfolio":"New MF Portfolio",children:a.jsx(vle,{initial:O?.editPortfolio||void 0,onSave:jt,onDelete:O?.editPortfolio?Bt:void 0,onCancel:()=>P(null)})}),a.jsx(hr,{open:!!O?.invest,onClose:()=>P(null),title:"Invest in Mutual Fund",wide:!0,children:a.jsx(soe,{portfolioId:typeof O?.invest=="object"?O.invest.portfolioId:typeof O?.invest=="string"?O.invest:void 0,fundCode:typeof O?.invest=="object"?O.invest.fundCode:void 0,fundName:typeof O?.invest=="object"?O.invest.fundName:void 0,onSave:Ut,onCancel:()=>P(null)},O?.invest?.fundCode||O?.invest?.portfolioId||O?.invest)}),a.jsx(hr,{open:!!O?.redeem,onClose:()=>P(null),title:"Redeem Mutual Fund",wide:!0,children:a.jsx(loe,{portfolioId:typeof O?.redeem=="object"?O.redeem.portfolioId:typeof O?.redeem=="string"?O.redeem:void 0,fundCode:typeof O?.redeem=="object"?O.redeem.fundCode:void 0,onSave:Zt,onCancel:()=>P(null)},O?.redeem?.fundCode||O?.redeem?.portfolioId||O?.redeem)}),a.jsx(hr,{open:!!O?.switchFunds,onClose:()=>P(null),title:"Switch Funds",wide:!0,children:a.jsx(ooe,{portfolioId:typeof O?.switchFunds=="string"?O.switchFunds:void 0,onSave:Jt,onCancel:()=>P(null)})}),a.jsx(hr,{open:!!O?.allocations,onClose:()=>P(null),title:"Manage Portfolio Allocation",wide:!0,children:O?.allocations&&a.jsx(coe,{portfolioId:O.allocations,onSave:ze,onCancel:()=>P(null)})}),a.jsx(hr,{open:O==="rebalance",onClose:()=>P(null),title:"Rebalance Alerts",wide:!0,children:O==="rebalance"&&a.jsx(FI,{})}),a.jsx(hr,{open:O==="buyOpp",onClose:()=>P(null),title:"Buy Opportunities",wide:!0,children:O==="buyOpp"&&a.jsx(Z4,{})}),a.jsx(hr,{open:!!O?.editTxn,onClose:()=>P(null),title:"Edit Transaction",children:O?.editTxn&&a.jsx(boe,{txn:O.editTxn,onSave:_e,onCancel:()=>P(null)})}),a.jsx(hr,{open:!!O?.classifyFund,onClose:()=>P(null),title:"Classify Fund",children:O?.classifyFund&&a.jsx(uoe,{fund:O.classifyFund.fund,initial:O.classifyFund.existing,onSave:Et,onCancel:()=>P(null)})})]})}function Jo({label:e,value:t,sub:r,positive:n,bold:i}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:`text-sm tabular-nums ${i?"font-bold":"font-semibold"} ${n===void 0?"text-[var(--text-primary)]":n?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:t}),r&&a.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${n?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}function ec({label:e,value:t,valueStyle:r,valueClass:n}){return a.jsxs("div",{className:"flex items-center justify-between px-3.5 py-2",children:[a.jsx("p",{className:"text-[11px] text-[var(--text-dim)]",children:e}),a.jsx("p",{className:`text-xs font-semibold tabular-nums ${n||"text-[var(--text-primary)]"}`,style:r,children:t})]})}function Zm({txn:e,isOpen:t,onToggle:r,onEdit:n,onDelete:i}){const l=N.useRef(null),[c,u]=N.useState({top:0,right:0});if(!e.transactionId)return null;function f(m){if(m.stopPropagation(),!t&&l.current){const p=l.current.getBoundingClientRect();u({top:p.bottom+4,right:window.innerWidth-p.right})}r()}return a.jsxs(a.Fragment,{children:[a.jsx("button",{ref:l,onClick:f,className:"p-1 rounded-md text-[var(--text-dim)] hover:text-[var(--text-muted)] hover:bg-[var(--bg-hover)] transition-colors",title:"Actions",children:a.jsx(NO,{size:14})}),t&&Ic.createPortal(a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{position:"fixed",inset:0,zIndex:9998},onClick:m=>{m.stopPropagation(),r()}}),a.jsxs("div",{style:{position:"fixed",top:c.top,right:c.right,zIndex:9999},className:"bg-[var(--bg-dropdown)] border border-white/10 rounded-lg shadow-2xl py-1 min-w-[120px] animate-fade-in",children:[a.jsxs("button",{onClick:m=>{m.stopPropagation(),n()},className:"w-full text-left px-3 py-2 text-xs text-[var(--text-secondary)] hover:bg-[var(--bg-hover)] hover:text-[var(--text-primary)] flex items-center gap-2 transition-colors",children:[a.jsx(ma,{size:12})," Edit"]}),a.jsxs("button",{onClick:m=>{m.stopPropagation(),i()},className:"w-full text-left px-3 py-2 text-xs text-[var(--accent-rose)] hover:bg-rose-500/10 flex items-center gap-2 transition-colors",children:[a.jsx(hc,{size:12})," Delete"]})]})]}),document.body)]})}function boe({txn:e,onSave:t,onCancel:r}){const[n,i]=N.useState(()=>{const y=y1(e.date);return y?y.toISOString().split("T")[0]:""}),[l,c]=N.useState(String(e.units||"")),[u,f]=N.useState(String(e.price||"")),[m,p]=N.useState(e.notes||""),[x,v]=N.useState(!1),g=(Number(l)||0)*(Number(u)||0);async function j(){if(!(!l||Number(l)<=0)&&!(!u||Number(u)<=0)){v(!0);try{await t({transactionId:e.transactionId,date:n,units:l,price:u,notes:m})}finally{v(!1)}}}return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:Le(e.fundName).main}),Le(e.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(e.fundName).plan}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[e.type,"  ",e.transactionType,"  ",e.transactionId]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Date"}),a.jsx(Ma,{value:n,onChange:i})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Units"}),a.jsx("input",{type:"number",value:l,onChange:y=>c(y.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"NAV (price)"}),a.jsx("input",{type:"number",value:u,onChange:y=>f(y.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]})]}),g>0&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(g)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Notes"}),a.jsx("input",{type:"text",value:m,onChange:y=>p(y.target.value),placeholder:"Optional notes...",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-[var(--border-light)]",children:[a.jsx("button",{onClick:r,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:"Cancel"}),a.jsx("button",{onClick:j,disabled:x||!l||Number(l)<=0||!u||Number(u)<=0,className:"px-4 py-2 text-xs font-bold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Saving...":"Update Transaction"})]})]})}const XD=[{key:"Equity",bg:"bg-violet-500"},{key:"Debt",bg:"bg-sky-500"},{key:"Cash",bg:"bg-teal-400"},{key:"Commodities",bg:"bg-yellow-500"},{key:"Real Estate",bg:"bg-orange-500"},{key:"Other",bg:"bg-slate-400"}],yoe={Giant:"G",Large:"L",Mid:"M",Small:"S",Micro:"Mi"},woe={India:"IN",Global:"GL"};function Noe({fund:e,existing:t,onConfigure:r}){const n=t?.assetAllocation&&Object.keys(t.assetAllocation).length>0,i=t?.equityAllocation&&Object.keys(t.equityAllocation).length>0,l=t?.geoAllocation&&Object.keys(t.geoAllocation).length>0;return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate",children:Le(e.fundName).main}),Le(e.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(e.fundName).plan})]}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] tabular-nums mt-0.5",children:e.fundCode})]}),a.jsx("button",{onClick:r,className:"p-1.5 rounded-lg text-[var(--text-dim)] hover:text-violet-400 hover:bg-violet-500/10 transition-colors shrink-0 ml-3",title:"Classify fund",children:a.jsx(DO,{size:14})})]}),n?a.jsxs("div",{className:"px-4 pb-3",children:[a.jsx("div",{className:"h-2 rounded-full overflow-hidden bg-[var(--bg-inset)] flex mb-1.5",children:XD.map(({key:c,bg:u})=>{const f=t.assetAllocation[c]||0;return f>0?a.jsx("div",{className:`h-full ${u}`,style:{width:`${f}%`}},c):null})}),a.jsxs("div",{className:"flex flex-wrap gap-x-3 gap-y-0.5",children:[XD.map(({key:c,bg:u})=>{const f=t.assetAllocation[c]||0;return f>0?a.jsxs("span",{className:"flex items-center gap-1 text-[11px] text-[var(--text-muted)] tabular-nums",children:[a.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${u}`}),f,"% ",c]},c):null}),i&&a.jsxs("span",{className:"text-[11px] text-[var(--text-dim)] tabular-nums ml-1",children:["| ",Object.entries(yoe).map(([c,u])=>{const f=t.equityAllocation[c]||0;return f>0?`${u}${f}`:""}).filter(Boolean).join(" ")]}),l&&a.jsxs("span",{className:"text-[11px] text-[var(--text-dim)] tabular-nums ml-1",children:["| ",Object.entries(woe).map(([c,u])=>{const f=t.geoAllocation[c]||0;return f>0?`${u}${f}`:""}).filter(Boolean).join(" ")]})]})]}):a.jsxs("div",{className:"px-4 pb-3",children:[a.jsx("div",{className:"h-2 rounded-full bg-[var(--bg-inset)] mb-1"}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] italic",children:"Not configured  click  to classify"})]})]})}function iy({title:e,data:t,bgMap:r}){return a.jsxs("div",{className:"rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)] p-3",children:[a.jsx("p",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider mb-2 text-center",children:e}),a.jsx("div",{className:"w-full h-[120px]",children:a.jsx(Z1,{width:"100%",height:"100%",children:a.jsxs(NN,{children:[a.jsx(Ex,{data:t,dataKey:"pct",nameKey:"name",cx:"50%",cy:"50%",innerRadius:30,outerRadius:48,paddingAngle:2,stroke:"none",children:t.map((n,i)=>a.jsx(Gc,{fill:n.fill},i))}),a.jsx(hN,{content:({payload:n})=>{if(!n?.length)return null;const i=n[0].payload;return a.jsxs("div",{className:"bg-[var(--bg-dropdown)] border border-white/10 rounded-lg px-2.5 py-1.5 shadow-xl",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:i.name}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:[i.pct.toFixed(1),"%"]})]})}})]})})}),a.jsx("div",{className:"flex flex-wrap justify-center gap-x-3 gap-y-0.5 mt-1",children:t.map(n=>a.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-[var(--text-muted)] tabular-nums",children:[a.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${r[n.name]||"bg-slate-500"}`}),n.name," ",n.pct.toFixed(0),"%"]},n.name))})]})}function joe({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:i,activeInvestmentAccounts:l}=xt(),c=!!e,[u,f]=N.useState({portfolioName:e?.portfolioName||"",ownerId:e?.ownerId||"",investmentAccountId:e?.investmentAccountId||""}),[m,p]=N.useState({}),[x,v]=N.useState(!1);function g(C,M){f(E=>({...E,[C]:M})),p(E=>({...E,[C]:void 0}))}function j(C){f(M=>({...M,ownerId:C,investmentAccountId:""})),p(M=>({...M,ownerId:void 0}))}const y=N.useMemo(()=>u.ownerId?l.filter(C=>C.memberId===u.ownerId&&(C.accountType==="Demat + Trading"||C.accountType==="Trading")).map(C=>({value:C.accountId,label:`${C.accountName} - ${C.platformBroker}`})):[],[l,u.ownerId]);function w(){const C={};return u.portfolioName.trim()||(C.portfolioName="Required"),u.ownerId||(C.ownerId="Required"),u.investmentAccountId||(C.investmentAccountId="Required"),p(C),Object.keys(C).length===0}async function A(){if(w()){v(!0);try{await t(u)}finally{v(!1)}}}const k=i.map(C=>({value:C.memberId,label:`${C.memberName} (${C.relationship})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(he,{label:"Portfolio Name",required:!0,error:m.portfolioName,children:a.jsx(Pe,{value:u.portfolioName,onChange:C=>g("portfolioName",C),placeholder:"e.g., Long-Term Growth"})}),a.jsx(he,{label:"Owner",required:!0,error:m.ownerId,children:a.jsx(tt,{value:u.ownerId,onChange:j,options:k,placeholder:"Select family member..."})}),a.jsx(he,{label:"Investment Account",required:!0,error:m.investmentAccountId,children:a.jsx(tt,{value:u.investmentAccountId,onChange:C=>g("investmentAccountId",C),options:y,placeholder:u.ownerId?y.length?"Select demat account...":"No demat accounts for this member":"Select owner first..."})}),c&&r&&a.jsx(ls,{onClick:r}),a.jsx(fn,{onCancel:n,onSubmit:A,submitLabel:c?"Update":"Create Portfolio",loading:x})]})}let ba=null,id=null;function Soe(e){if(!e)return!1;const t=new Date(e),r=new Date;return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()&&t.getDate()===r.getDate()}function Coe(){return ba?Promise.resolve(ba):id||(id=uO("stocksList").then(e=>e&&Array.isArray(e.data)&&Soe(e.updatedAt)?(ba=e.data,ba):AF().then(t=>(ba=Array.isArray(t)?t:[],ln("stocksList",ba),ba))).catch(()=>(id=null,[])),id)}function Aoe({value:e,onSelect:t,placeholder:r,disabled:n}){const[i,l]=N.useState(""),[c,u]=N.useState(ba||[]),[f,m]=N.useState(!ba),[p,x]=N.useState(!1),[v,g]=N.useState(!1),j=N.useRef(null);N.useEffect(()=>{if(ba){u(ba),m(!1);return}Coe().then(M=>{u(M),m(!1)})},[]),N.useEffect(()=>{function M(E){j.current&&!j.current.contains(E.target)&&x(!1)}return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[]);const y=N.useMemo(()=>c.length?new fo(c,{keys:[{name:"symbol",weight:2},{name:"companyName",weight:1}],threshold:.3,distance:80,minMatchCharLength:1,includeScore:!0,ignoreLocation:!1,findAllMatches:!0}):null,[c]),w=N.useMemo(()=>!y||i.length<1?[]:y.search(i).slice(0,50).map(M=>M.item),[y,i]);function A(M){l(M),x(M.length>=1)}function k(M){t({symbol:M.symbol,companyName:M.companyName,exchange:M.exchange,sector:M.sector}),l(""),x(!1),g(!0),kF(M.symbol).then(E=>{E?.price>0&&t({symbol:M.symbol,companyName:M.companyName,exchange:M.exchange,sector:M.sector,price:E.price})}).catch(()=>{}).finally(()=>g(!1))}function C(){t({symbol:"",companyName:""}),l("")}return e?.symbol?a.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg px-3 py-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:[a.jsx("span",{className:"font-bold",children:e.symbol}),"  ",e.companyName]}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.sector&&a.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:e.sector}),v&&a.jsx(pc,{size:10,className:"text-violet-400 animate-spin"}),!v&&e.price>0&&a.jsxs("span",{className:"text-[10px] font-semibold text-emerald-400 tabular-nums",children:["CMP: ",e.price.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),a.jsx("button",{type:"button",onClick:C,className:"shrink-0 p-1 rounded-md hover:bg-[var(--bg-hover)] text-[var(--text-dim)] hover:text-[var(--text-secondary)] transition-colors",children:a.jsx(si,{size:14})})]}):a.jsxs("div",{ref:j,className:"relative",children:[a.jsxs("div",{className:"relative",children:[f?a.jsx(pc,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-400 animate-spin"}):a.jsx(P1,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)]"}),a.jsx("input",{type:"text",value:i,onChange:M=>A(M.target.value),onFocus:()=>i.length>=1&&x(!0),placeholder:f?"Loading stocks...":r||"Search stock symbol or name...",disabled:n||f,className:"w-full bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg pl-9 pr-3 py-2 text-sm text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-violet-500/50 disabled:opacity-50 transition-colors"})]}),p&&w.length>0&&a.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl max-h-[240px] overflow-y-auto",children:w.map(M=>a.jsxs("button",{type:"button",onClick:()=>k(M),className:"w-full text-left px-3 py-2.5 hover:bg-[var(--bg-hover)] transition-colors border-b border-[var(--border-light)] last:border-0",children:[a.jsxs("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:[a.jsx("span",{className:"font-bold",children:M.symbol}),"  ",M.companyName]}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[M.sector&&a.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:M.sector}),M.industry&&a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:[" ",M.industry]})]})]},M.symbol))}),p&&i.length>=1&&w.length===0&&!f&&a.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl p-4 text-center",children:a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:['No stocks found for "',i,'"']})})]})}function koe({portfolioId:e,onSave:t,onCancel:r}){const{stockPortfolios:n}=xt(),{selectedMember:i}=Hr(),l=N.useMemo(()=>{const k=n.filter(C=>C.status==="Active");return i==="all"?k:k.filter(C=>C.ownerId===i)},[n,i]),[c,u]=N.useState({portfolioId:e||"",symbol:"",companyName:"",exchange:"NSE",date:new Date().toISOString().split("T")[0],quantity:"",pricePerShare:"",brokerage:"0",notes:""}),[f,m]=N.useState({}),[p,x]=N.useState(!1);function v(k,C){u(M=>({...M,[k]:C})),m(M=>({...M,[k]:void 0}))}const g=N.useMemo(()=>{const k=Number(c.quantity)||0,C=Number(c.pricePerShare)||0;return k*C},[c.quantity,c.pricePerShare]),j=N.useMemo(()=>g+(Number(c.brokerage)||0),[g,c.brokerage]);function y(){const k={};return c.portfolioId||(k.portfolioId="Required"),c.symbol.trim()||(k.symbol="Required"),c.companyName.trim()||(k.companyName="Required"),c.date||(k.date="Required"),(!c.quantity||Number(c.quantity)<=0)&&(k.quantity="Must be > 0"),(!c.pricePerShare||Number(c.pricePerShare)<=0)&&(k.pricePerShare="Must be > 0"),m(k),Object.keys(k).length===0}async function w(){if(y()){x(!0);try{await t(c)}finally{x(!1)}}}const A=l.map(k=>{const C=k.portfolioName?.replace(/^PFL-/,"")||k.portfolioName,M=k.ownerName?`${C} (${k.ownerName})`:C;return{value:k.portfolioId,label:M}});return a.jsxs("div",{className:"space-y-4",children:[a.jsx(he,{label:"Portfolio",required:!0,error:f.portfolioId,children:a.jsx(tt,{value:c.portfolioId,onChange:k=>v("portfolioId",k),options:A,placeholder:"Select portfolio..."})}),a.jsx(he,{label:"Stock",required:!0,error:f.symbol,children:a.jsx(Aoe,{value:c.symbol?{symbol:c.symbol,companyName:c.companyName,sector:c.sector,price:c.currentPrice}:null,onSelect:k=>{u(C=>({...C,symbol:k.symbol||"",companyName:k.companyName||"",sector:k.sector||"",currentPrice:k.price||C.currentPrice||0})),m(C=>({...C,symbol:void 0,companyName:void 0}))},placeholder:"Search by symbol or company name..."})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(he,{label:"Purchase Date",required:!0,error:f.date,children:a.jsx(Ma,{value:c.date,onChange:k=>v("date",k)})}),a.jsx(he,{label:"Quantity (Shares)",required:!0,error:f.quantity,children:a.jsx(Pe,{type:"number",value:c.quantity,onChange:k=>v("quantity",k),placeholder:"e.g., 100"})}),a.jsx(he,{label:"Price per Share ()",required:!0,error:f.pricePerShare,children:a.jsx(Pe,{type:"number",value:c.pricePerShare,onChange:k=>v("pricePerShare",k),placeholder:"e.g., 2500"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(he,{label:"Brokerage ()",children:a.jsx(Pe,{type:"number",value:c.brokerage,onChange:k=>v("brokerage",k),placeholder:"0"})}),a.jsx("div",{className:"flex flex-col justify-end",children:a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(g)}),Number(c.brokerage)>0&&a.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:["Net: ",Q(j)]})]})})]}),a.jsx(he,{label:"Notes",children:a.jsx(Pe,{value:c.notes,onChange:k=>v("notes",k),placeholder:"Optional notes..."})}),a.jsx(fn,{onCancel:r,onSubmit:w,submitLabel:"Buy Stock",loading:p})]})}function Moe({portfolioId:e,onSave:t,onCancel:r}){const{stockPortfolios:n,stockHoldings:i}=xt(),{selectedMember:l}=Hr(),c=N.useMemo(()=>{const $=n.filter(L=>L.status==="Active");return l==="all"?$:$.filter(L=>L.ownerId===l)},[n,l]),[u,f]=N.useState({portfolioId:e||"",symbol:"",companyName:"",date:new Date().toISOString().split("T")[0],quantity:"",pricePerShare:"",brokerage:"0",notes:""}),[m,p]=N.useState({}),[x,v]=N.useState(!1);function g($,L){f(H=>({...H,[$]:L})),p(H=>({...H,[$]:void 0}))}const j=N.useMemo(()=>u.portfolioId?i.filter($=>$.portfolioId===u.portfolioId&&$.quantity>0):[],[i,u.portfolioId]),y=j.find($=>$.symbol===u.symbol),w=y?.quantity||0,A=N.useMemo(()=>{const $=Number(u.quantity)||0,L=Number(u.pricePerShare)||0;return $*L},[u.quantity,u.pricePerShare]),k=N.useMemo(()=>A-(Number(u.brokerage)||0),[A,u.brokerage]);function C($){const L=j.find(H=>H.symbol===$);f(H=>({...H,symbol:$,companyName:L?.companyName||""})),p(H=>({...H,symbol:void 0}))}function M($){f(L=>({...L,portfolioId:$,symbol:"",companyName:"",quantity:""})),p(L=>({...L,portfolioId:void 0}))}function E(){const $={};return u.portfolioId||($.portfolioId="Required"),u.symbol||($.symbol="Required"),u.date||($.date="Required"),(!u.quantity||Number(u.quantity)<=0)&&($.quantity="Must be > 0"),Number(u.quantity)>w&&($.quantity=`Max ${w} shares`),(!u.pricePerShare||Number(u.pricePerShare)<=0)&&($.pricePerShare="Must be > 0"),p($),Object.keys($).length===0}async function O(){if(E()){v(!0);try{await t(u)}finally{v(!1)}}}const P=c.map($=>{const L=$.portfolioName?.replace(/^PFL-/,"")||$.portfolioName,H=$.ownerName?`${L} (${$.ownerName})`:L;return{value:$.portfolioId,label:H}}),T=j.map($=>({value:$.symbol,label:`${$.symbol}  ${$.quantity} shares`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(he,{label:"Portfolio",required:!0,error:m.portfolioId,children:a.jsx(tt,{value:u.portfolioId,onChange:M,options:P,placeholder:"Select portfolio..."})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(he,{label:"Stock to Sell",required:!0,error:m.symbol,children:a.jsx(tt,{value:u.symbol,onChange:C,options:T,placeholder:u.portfolioId?j.length?"Select stock...":"No holdings in this portfolio":"Select portfolio first..."})}),y&&a.jsx("div",{className:"flex flex-col justify-end",children:a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:y.companyName}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:w})," shares @ ",Q(y.avgBuyPrice)," avg"]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(he,{label:"Sale Date",required:!0,error:m.date,children:a.jsx(Ma,{value:u.date,onChange:$=>g("date",$)})}),a.jsx(he,{label:"Quantity to Sell",required:!0,error:m.quantity,children:a.jsx(Pe,{type:"number",value:u.quantity,onChange:$=>g("quantity",$),placeholder:w?`Max: ${w}`:""})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(he,{label:"Sale Price per Share ()",required:!0,error:m.pricePerShare,children:a.jsx(Pe,{type:"number",value:u.pricePerShare,onChange:$=>g("pricePerShare",$),placeholder:"e.g., 2750"})}),a.jsx(he,{label:"Brokerage ()",children:a.jsx(Pe,{type:"number",value:u.brokerage,onChange:$=>g("brokerage",$),placeholder:"0"})})]}),A>0&&a.jsx("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Net Sale Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(k)})]}),y&&a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. P&L"}),(()=>{const $=Number(u.quantity)*y.avgBuyPrice,L=k-$,H=L>=0;return a.jsxs("p",{className:`text-sm font-bold tabular-nums ${H?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[H?"+":"",Q(L)]})})()]})]})}),a.jsx(he,{label:"Notes",children:a.jsx(Pe,{value:u.notes,onChange:$=>g("notes",$),placeholder:"Optional notes..."})}),a.jsx(fn,{onCancel:r,onSubmit:O,submitLabel:"Sell Stock",loading:x})]})}function Eoe(){const{selectedMember:e}=Hr(),{stockPortfolios:t,stockHoldings:r,stockTransactions:n,activeInvestmentAccounts:i,activeMembers:l,addStockPortfolio:c,updateStockPortfolio:u,deleteStockPortfolio:f,buyStock:m,sellStock:p,editStockTransaction:x,deleteStockTransaction:v}=xt(),{showToast:g,showBlockUI:j,hideBlockUI:y}=ui(),w=di(),{mv:A}=Pa(),[k,C]=N.useState(null),[M,E]=N.useState("all"),[O,P]=N.useState("holdings"),[T,$]=N.useState(!1),[L,H]=N.useState(null),D=N.useMemo(()=>{if(!t)return[];const z=t.filter(U=>U.status!=="Inactive").map(U=>{const xe=U.ownerId?l.find(je=>je.memberId===U.ownerId):null;return{...U,ownerName:xe?.memberName||U.ownerName||""}});return e==="all"?z:z.filter(U=>U.ownerId===e)},[t,e,l]),Z=N.useMemo(()=>r?D.map(z=>{const U=r.filter(Re=>Re.portfolioId===z.portfolioId),xe=(n||[]).filter(Re=>Re.portfolioId===z.portfolioId),je=U.reduce((Re,rt)=>Re+rt.totalInvestment,0),ne=U.reduce((Re,rt)=>Re+rt.currentValue,0),De=ne-je,Ce=xe.filter(Re=>Re.type==="SELL"&&Re.realizedPL!=null).reduce((Re,rt)=>Re+rt.realizedPL,0),ue=De+Ce,$e=je>0?ue/je*100:0,Ie=i.find(Re=>Re.accountId===z.investmentAccountId);return{...z,holdings:U,txns:xe,invested:je,current:ne,unrealizedPL:De,realizedPL:Ce,totalPL:ue,totalPLPct:$e,stockCount:U.length,platform:Ie?.platformBroker||z.investmentAccountName||"",clientId:Ie?.accountClientId||""}}):[],[D,r,n,i]),K=N.useMemo(()=>{const z=M==="all"?Z:Z.filter(Ie=>Ie.portfolioId===M),U=z.reduce((Ie,Re)=>Ie+Re.invested,0),xe=z.reduce((Ie,Re)=>Ie+Re.current,0),je=z.reduce((Ie,Re)=>Ie+Re.unrealizedPL,0),ne=z.reduce((Ie,Re)=>Ie+Re.realizedPL,0),De=je+ne,Ce=U>0?De/U*100:0,ue=U>0?je/U*100:0,$e=z.reduce((Ie,Re)=>Ie+Re.stockCount,0);return{invested:U,current:xe,unrealizedPL:je,unrealizedPLPct:ue,realizedPL:ne,totalPL:De,totalPLPct:Ce,stocks:$e}},[Z,M]),J=N.useMemo(()=>r?M==="all"?r.filter(z=>D.some(U=>U.portfolioId===z.portfolioId)):r.filter(z=>z.portfolioId===M):[],[r,D,M]),R=N.useMemo(()=>n?(M==="all"?n.filter(U=>D.some(xe=>xe.portfolioId===U.portfolioId)):n.filter(U=>U.portfolioId===M)).sort((U,xe)=>new Date(xe.date)-new Date(U.date)):[],[n,D,M]);if(t===null||r===null)return a.jsx(pi,{title:"Loading stocks",cards:5});const G=Z.find(z=>z.portfolioId===M),me=M==="all"?`All Portfolios (${D.length})`:G?.ownerName?`${G?.portfolioName}  ${A(G?.ownerName,"name")}`:G?.portfolioName;async function we(z){j("Saving...");try{k?.editPortfolio?await u(k.editPortfolio.portfolioId,z):await c(z),g(k?.editPortfolio?"Portfolio updated":"Portfolio created"),C(null)}catch(U){g(U.message||"Failed to save portfolio","error")}finally{y()}}async function Ne(){if(k?.editPortfolio&&await w("Deactivate this portfolio?",{title:"Deactivate Portfolio",confirmLabel:"Deactivate"})){j("Deactivating...");try{await f(k.editPortfolio.portfolioId),g("Portfolio deactivated"),E("all"),C(null)}catch(z){g(z.message||"Failed to deactivate portfolio","error")}finally{y()}}}async function F(z){j("Recording purchase...");try{await m(z),g("Stock purchase recorded"),C(null)}catch(U){g(U.message||"Failed to record purchase","error")}finally{y()}}async function ce(z){j("Recording sale...");try{await p(z),g("Stock sale recorded"),C(null)}catch(U){g(U.message||"Failed to record sale","error")}finally{y()}}async function ee(z){if(await w("Delete this transaction? This will recalculate your holdings.",{title:"Delete Transaction",confirmLabel:"Delete"})){j("Deleting...");try{await v(z),g("Transaction deleted"),H(null)}catch(U){g(U.message||"Failed to delete transaction","error")}finally{y()}}}async function B(z){j("Updating...");try{await x(z),g("Transaction updated"),C(null)}catch(U){g(U.message||"Failed to update transaction","error")}finally{y()}}return a.jsxs("div",{className:"space-y-4",children:[D.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(oc,{size:32,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No stock portfolios yet"}),a.jsx("button",{onClick:()=>C("addPortfolio"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first portfolio"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>$(!T),className:"flex items-center gap-2 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm font-semibold text-[var(--text-primary)] hover:border-[var(--border-light)] transition-colors min-w-[220px]",children:[a.jsx(oc,{size:14,className:"text-violet-400 shrink-0"}),a.jsx("span",{className:"truncate",children:me}),a.jsx(Kl,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${T?"rotate-180":""}`})]}),T&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>$(!1)}),a.jsxs("div",{className:"absolute left-0 top-full mt-1 z-40 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl min-w-[280px] py-1 overflow-hidden",children:[a.jsxs("button",{onClick:()=>{E("all"),$(!1),P("holdings")},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${M==="all"?"bg-[var(--sidebar-active-bg)] text-[var(--text-primary)] font-semibold":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:["All Portfolios (",D.length,")"]}),a.jsx("div",{className:"border-t border-[var(--border-light)]"}),Z.map(z=>{const U=z.totalPL>=0;return a.jsx("button",{onClick:()=>{E(z.portfolioId),$(!1),P("holdings")},className:`w-full text-left px-4 py-2.5 transition-colors ${M===z.portfolioId?"bg-[var(--sidebar-active-bg)]":"hover:bg-[var(--bg-hover)]"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-sm ${M===z.portfolioId?"font-semibold text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:z.portfolioName}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[A(z.ownerName,"name"),"  ",z.platform]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(z.current)}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${U?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[U?"+":"",z.totalPLPct.toFixed(1),"%"]})]})]})},z.portfolioId)})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[G&&a.jsxs("button",{onClick:()=>C({editPortfolio:G}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(ma,{size:12})," Edit"]}),a.jsxs("button",{onClick:()=>C("addPortfolio"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Zr,{size:14})," New Portfolio"]})]})]}),G&&a.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-dim)] px-1 flex-wrap",children:[a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Platform:"})," ",G.platform]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Client ID:"})," ",A(G.clientId,"clientId")]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Stocks:"})," ",G.stockCount]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[a.jsx(sd,{label:"Invested",value:Q(K.invested)}),a.jsx(sd,{label:"Current Value",value:Q(K.current),bold:!0}),a.jsx(sd,{label:"Unrealized P&L",value:`${K.unrealizedPL>=0?"+":""}${Q(K.unrealizedPL)}`,sub:`${K.unrealizedPLPct>=0?"+":""}${K.unrealizedPLPct.toFixed(1)}%`,positive:K.unrealizedPL>=0}),a.jsx(sd,{label:"Realized P&L",value:`${K.realizedPL>=0?"+":""}${Q(K.realizedPL)}`,positive:K.realizedPL>=0}),a.jsx(sd,{label:"Total P&L",value:`${K.totalPL>=0?"+":""}${Q(K.totalPL)}`,sub:`${K.totalPLPct>=0?"+":""}${K.totalPLPct.toFixed(1)}%`,positive:K.totalPL>=0,bold:!0})]}),a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5",children:[a.jsxs("button",{onClick:()=>P("holdings"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${O==="holdings"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(CO,{size:12})," Holdings (",J.length,")"]}),a.jsxs("button",{onClick:()=>P("transactions"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${O==="transactions"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(dd,{size:12})," Transactions (",R.length,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>M!=="all"&&C({buy:M}),disabled:M==="all",className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${M==="all"?"bg-emerald-600/40 text-white/50 cursor-not-allowed":"text-white bg-emerald-600 hover:bg-emerald-500"}`,title:M==="all"?"Select a portfolio first":"",children:[a.jsx(xc,{size:14})," Buy"]}),a.jsxs("button",{onClick:()=>M!=="all"&&J.length>0&&C({sell:M}),disabled:M==="all"||J.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${M==="all"||J.length===0?"bg-rose-600/40 text-white/50 cursor-not-allowed":"text-white bg-rose-600 hover:bg-rose-500"}`,title:M==="all"?"Select a portfolio first":"",children:[a.jsx(Op,{size:14})," Sell"]})]})]}),O==="holdings"&&a.jsx(a.Fragment,{children:J.length>0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Stock"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Qty"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Avg Price"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current Price"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Invested"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current Value"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Returns"})]})}),a.jsxs("tbody",{children:[J.map(z=>{const U=z.unrealizedPL>=0,xe=M==="all"?Z.find(je=>je.portfolioId===z.portfolioId):null;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:z.companyName}),a.jsxs("p",{className:"text-xs font-mono text-[var(--text-dim)]",children:[z.symbol,xe&&a.jsxs("span",{className:"ml-1.5 text-[var(--text-dim)] font-sans",children:[" ",xe.portfolioName]})]})]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:z.quantity}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:Q(z.avgBuyPrice)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(z.currentPrice)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:Q(z.totalInvestment)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(z.currentValue)}),a.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-semibold tabular-nums ${U?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[U?"+":"",Q(z.unrealizedPL)]}),a.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-bold tabular-nums ${U?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[U?"+":"",z.unrealizedPLPct.toFixed(1),"%"]})]},`${z.portfolioId}-${z.symbol}`)}),a.jsxs("tr",{className:"bg-[var(--bg-inset)] border-t-2 border-[var(--border-light)]",children:[a.jsxs("td",{className:"py-2.5 px-4 text-xs font-semibold text-[var(--text-muted)]",children:["Total (",J.length," stocks)"]}),a.jsx("td",{colSpan:3,className:"py-2.5 px-3"}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(K.invested)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(K.current)}),a.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-semibold tabular-nums ${K.unrealizedPL>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[K.unrealizedPL>=0?"+":"",Q(K.unrealizedPL)]}),a.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-bold tabular-nums ${K.unrealizedPL>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[K.unrealizedPLPct>=0?"+":"",K.unrealizedPLPct.toFixed(1),"%"]})]})]})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:J.map(z=>{const U=z.unrealizedPL>=0,xe=M==="all"?Z.find(je=>je.portfolioId===z.portfolioId):null;return a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:z.companyName}),a.jsxs("p",{className:"text-xs font-mono text-[var(--text-dim)]",children:[z.symbol,xe&&a.jsxs("span",{className:"ml-1 font-sans",children:[" ",xe.portfolioName]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:`text-xs font-bold tabular-nums ${U?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[U?"+":"",z.unrealizedPLPct.toFixed(1),"%"]}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${U?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[U?"+":"",Q(z.unrealizedPL)]})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs gap-2",children:[a.jsxs("div",{className:"text-[var(--text-dim)] min-w-0 truncate",children:[a.jsxs("span",{children:[z.quantity," shares"]}),a.jsx("span",{className:"mx-1",children:""}),a.jsxs("span",{children:["Avg ",Q(z.avgBuyPrice)]}),a.jsx("span",{className:"mx-1",children:""}),a.jsxs("span",{children:["CMP ",Q(z.currentPrice)]})]}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums shrink-0",children:Q(z.currentValue)})]})]},`${z.portfolioId}-${z.symbol}`)})})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(oc,{size:28,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No holdings",G?" in this portfolio":""]}),a.jsx("button",{onClick:()=>C({buy:M!=="all"?M:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Buy your first stock"})]})}),O==="transactions"&&a.jsx(a.Fragment,{children:R.length>0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Stock"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Qty"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Price"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Brokerage"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Net"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Realized P&L"}),a.jsx("th",{className:"w-8 py-2 px-2"})]})}),a.jsx("tbody",{children:R.map(z=>{const U=z.type==="BUY",xe=!U&&z.realizedPL!=null,je=xe&&z.realizedPL>=0,ne=M==="all"?Z.find(De=>De.portfolioId===z.portfolioId):null;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-secondary)]",children:z.date}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${U?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:z.type})}),a.jsxs("td",{className:"py-2.5 px-3",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:z.symbol}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] truncate max-w-[140px]",children:[z.companyName,ne&&a.jsxs("span",{children:["  ",ne.portfolioName]})]})]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:z.quantity}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:Q(z.pricePerShare)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:Q(z.totalAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-dim)] tabular-nums",children:z.brokerage>0?Q(z.brokerage):""}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(z.netAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:xe?a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${je?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[je?"+":"",Q(z.realizedPL)]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx(ZD,{txn:z,isOpen:L===z.transactionId,onToggle:()=>H(L===z.transactionId?null:z.transactionId),onEdit:()=>{H(null),C({editTxn:z})},onDelete:()=>{H(null),ee(z.transactionId)}})})]},z.transactionId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:R.map(z=>{const U=z.type==="BUY",xe=!U&&z.realizedPL!=null,je=xe&&z.realizedPL>=0;return a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${U?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:z.type}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:z.symbol})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:z.date}),a.jsx(ZD,{txn:z,isOpen:L===z.transactionId,onToggle:()=>H(L===z.transactionId?null:z.transactionId),onEdit:()=>{H(null),C({editTxn:z})},onDelete:()=>{H(null),ee(z.transactionId)}})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[z.quantity," shares @ ",Q(z.pricePerShare)]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(z.netAmount)}),xe&&a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${je?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["P&L: ",je?"+":"",Q(z.realizedPL)]})]})]}),z.notes&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:z.notes})]},z.transactionId)})})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(dd,{size:28,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions yet"}),a.jsx("button",{onClick:()=>C({buy:M!=="all"?M:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Make your first purchase"})]})})]}),a.jsx(hr,{open:k==="addPortfolio"||!!k?.editPortfolio,onClose:()=>C(null),title:k?.editPortfolio?"Edit Portfolio":"New Stock Portfolio",children:a.jsx(joe,{initial:k?.editPortfolio||void 0,onSave:we,onDelete:k?.editPortfolio?Ne:void 0,onCancel:()=>C(null)})}),a.jsx(hr,{open:!!k?.buy,onClose:()=>C(null),title:"Buy Stock",wide:!0,children:a.jsx(koe,{portfolioId:typeof k?.buy=="string"?k.buy:void 0,onSave:F,onCancel:()=>C(null)})}),a.jsx(hr,{open:!!k?.sell,onClose:()=>C(null),title:"Sell Stock",wide:!0,children:a.jsx(Moe,{portfolioId:typeof k?.sell=="string"?k.sell:void 0,onSave:ce,onCancel:()=>C(null)})}),a.jsx(hr,{open:!!k?.editTxn,onClose:()=>C(null),title:"Edit Transaction",children:k?.editTxn&&a.jsx(Doe,{txn:k.editTxn,onSave:B,onCancel:()=>C(null)})})]})}function sd({label:e,value:t,sub:r,positive:n,bold:i}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:`text-sm tabular-nums ${i?"font-bold":"font-semibold"} ${n===void 0?"text-[var(--text-primary)]":n?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:t}),r&&a.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${n?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}function ZD({txn:e,isOpen:t,onToggle:r,onEdit:n,onDelete:i}){const l=N.useRef(null),[c,u]=N.useState({top:0,right:0});if(!e.transactionId)return null;function f(m){if(m.stopPropagation(),!t&&l.current){const p=l.current.getBoundingClientRect();u({top:p.bottom+4,right:window.innerWidth-p.right})}r()}return a.jsxs(a.Fragment,{children:[a.jsx("button",{ref:l,onClick:f,className:"p-1 rounded-md text-[var(--text-dim)] hover:text-[var(--text-muted)] hover:bg-[var(--bg-hover)] transition-colors",title:"Actions",children:a.jsx(NO,{size:14})}),t&&Ic.createPortal(a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{position:"fixed",inset:0,zIndex:9998},onClick:m=>{m.stopPropagation(),r()}}),a.jsxs("div",{style:{position:"fixed",top:c.top,right:c.right,zIndex:9999},className:"bg-[var(--bg-dropdown)] border border-white/10 rounded-lg shadow-2xl py-1 min-w-[120px] animate-fade-in",children:[a.jsxs("button",{onClick:m=>{m.stopPropagation(),n()},className:"w-full text-left px-3 py-2 text-xs text-[var(--text-secondary)] hover:bg-[var(--bg-hover)] hover:text-[var(--text-primary)] flex items-center gap-2 transition-colors",children:[a.jsx(ma,{size:12})," Edit"]}),a.jsxs("button",{onClick:m=>{m.stopPropagation(),i()},className:"w-full text-left px-3 py-2 text-xs text-[var(--accent-rose)] hover:bg-rose-500/10 flex items-center gap-2 transition-colors",children:[a.jsx(hc,{size:12})," Delete"]})]})]}),document.body)]})}function Doe({txn:e,onSave:t,onCancel:r}){const[n,i]=N.useState(()=>{if(!e.date)return"";const C=String(e.date),M=C.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})/);if(M)return new Date(Number(M[3]),Number(M[2])-1,Number(M[1])).toISOString().split("T")[0];const E=new Date(C);return isNaN(E.getTime())?"":E.toISOString().split("T")[0]}),[l,c]=N.useState(String(e.quantity||"")),[u,f]=N.useState(String(e.pricePerShare||"")),[m,p]=N.useState(String(e.brokerage||"0")),[x,v]=N.useState(e.notes||""),[g,j]=N.useState(!1),y=(Number(l)||0)*(Number(u)||0),w=Number(m)||0,A=e.type==="BUY"?y+w:y-w;async function k(){if(!(!l||Number(l)<=0)&&!(!u||Number(u)<=0)){j(!0);try{await t({transactionId:e.transactionId,date:n,quantity:l,pricePerShare:u,brokerage:m,notes:x})}finally{j(!1)}}}return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:e.companyName}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[e.symbol,"  ",e.type,"  ",e.transactionId]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Date"}),a.jsx(Ma,{value:n,onChange:i})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Quantity"}),a.jsx("input",{type:"number",value:l,onChange:C=>c(C.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Price per Share"}),a.jsx("input",{type:"number",value:u,onChange:C=>f(C.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Brokerage"}),a.jsx("input",{type:"number",value:m,onChange:C=>p(C.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]})]}),y>0&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)] flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(y)})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Net Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:Q(A)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Notes"}),a.jsx("input",{type:"text",value:x,onChange:C=>v(C.target.value),placeholder:"Optional notes...",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-[var(--border-light)]",children:[a.jsx("button",{onClick:r,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:"Cancel"}),a.jsx("button",{onClick:k,disabled:g||!l||Number(l)<=0||!u||Number(u)<=0,className:"px-4 py-2 text-xs font-bold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Saving...":"Update Transaction"})]})]})}const _oe=["Self","Spouse","Father","Mother","Son","Daughter","Brother","Sister","Other"].map(e=>({value:e,label:e})),Jm={pan:/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/,aadhar:/^\d{12}$/,email:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,mobile:/^\d{10}$/};function Ooe({initial:e,onSave:t,onDelete:r,onCancel:n}){const i=!!e,[l,c]=N.useState({memberName:e?.memberName||"",relationship:e?.relationship||"",pan:e?.pan||"",aadhar:e?.aadhar||"",email:e?.email||"",mobile:e?.mobile||"",includeInEmailReports:e?.includeInEmailReports??!0,status:e?.status||"Active"}),[u,f]=N.useState({}),[m,p]=N.useState(!1),[x,v]=N.useState(()=>{const C=e?.dynamicFields||{};return Object.entries(C).map(([M,E])=>({key:M,value:E}))});function g(C,M){c(E=>({...E,[C]:M})),f(E=>({...E,[C]:void 0}))}function j(){const C={};return l.memberName.trim()||(C.memberName="Required"),l.relationship||(C.relationship="Required"),Jm.pan.test(l.pan.toUpperCase())||(C.pan="Format: ABCDE1234F"),Jm.aadhar.test(l.aadhar)||(C.aadhar="12 digits required"),Jm.email.test(l.email)||(C.email="Invalid email"),Jm.mobile.test(l.mobile)||(C.mobile="10 digits required"),f(C),Object.keys(C).length===0}function y(){v(C=>[...C,{key:"",value:""}])}function w(C,M,E){v(O=>O.map((P,T)=>T===C?{...P,[M]:E}:P))}function A(C){v(M=>M.filter((E,O)=>O!==C))}async function k(){if(!j())return;const C={};x.forEach(({key:M,value:E})=>{const O=M.trim();O&&(C[O]=E)}),p(!0);try{await t({...l,pan:l.pan.toUpperCase(),dynamicFields:C})}finally{p(!1)}}return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(he,{label:"Member Name",required:!0,error:u.memberName,children:a.jsx(Pe,{value:l.memberName,onChange:C=>g("memberName",C),placeholder:"e.g., Jagadeesh"})}),a.jsx(he,{label:"Relationship",required:!0,error:u.relationship,children:a.jsx(tt,{value:l.relationship,onChange:C=>g("relationship",C),options:_oe,placeholder:"Select..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(he,{label:"PAN",required:!0,error:u.pan,children:a.jsx(Pe,{sensitive:!0,value:l.pan,onChange:C=>g("pan",C.toUpperCase()),placeholder:"ABCDE1234F",maxLength:10})}),a.jsx(he,{label:"Aadhar",required:!0,error:u.aadhar,children:a.jsx(Pe,{sensitive:!0,value:l.aadhar,onChange:C=>g("aadhar",C.replace(/\D/g,"")),placeholder:"123456789012",maxLength:12})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(he,{label:"Email",required:!0,error:u.email,children:a.jsx(Pe,{sensitive:!0,type:"email",value:l.email,onChange:C=>g("email",C),placeholder:"email@example.com"})}),a.jsx(he,{label:"Mobile",required:!0,error:u.mobile,children:a.jsx(Pe,{sensitive:!0,value:l.mobile,onChange:C=>g("mobile",C.replace(/\D/g,"")),placeholder:"9876543210",maxLength:10})})]}),a.jsx(hse,{checked:l.includeInEmailReports,onChange:C=>g("includeInEmailReports",C),label:"Include in email reports"}),i&&a.jsx(he,{label:"Status",children:a.jsx(tt,{value:l.status,onChange:C=>g("status",C),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)]",children:"Custom Fields"}),a.jsxs("button",{onClick:y,type:"button",className:"flex items-center gap-1 text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[a.jsx(Zr,{size:12})," Add Field"]})]}),x.length===0&&a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"No custom fields. Add DOB, occupation, blood group, etc."}),a.jsx("div",{className:"space-y-2",children:x.map((C,M)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{value:C.key,onChange:E=>w(M,"key",E.target.value),placeholder:"Field name",className:"flex-1 px-2.5 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] transition-colors"}),a.jsx("input",{value:C.value,onChange:E=>w(M,"value",E.target.value),placeholder:"Value",className:"flex-1 px-2.5 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] transition-colors"}),a.jsx("button",{onClick:()=>A(M),type:"button",className:"p-1 text-[var(--text-dim)] hover:text-rose-400 transition-colors",children:a.jsx(hc,{size:13})})]},M))})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[i&&r?a.jsx(ls,{onClick:r}):a.jsx("div",{}),a.jsx(fn,{onCancel:n,onSubmit:k,submitLabel:i?"Update":"Add Member",loading:m})]})]})}const ep=["from-violet-500 to-indigo-500","from-rose-500 to-pink-500","from-blue-500 to-cyan-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],JD={Self:"bg-violet-500/15 text-[var(--accent-violet)]",Spouse:"bg-rose-500/15 text-[var(--accent-rose)]",Father:"bg-blue-500/15 text-[var(--accent-blue)]",Mother:"bg-amber-500/15 text-[var(--accent-amber)]",Son:"bg-emerald-500/15 text-emerald-400",Daughter:"bg-emerald-500/15 text-emerald-400"};function Toe(){const{members:e,addMember:t,updateMember:r,deleteMember:n}=xt(),{showToast:i,showBlockUI:l,hideBlockUI:c}=ui(),u=di(),{mv:f}=Pa(),[m,p]=N.useState(null);if(e===null)return a.jsx(pi,{title:"Loading family",cards:3});const x=e.filter(j=>j.status!=="Inactive");async function v(j){l("Saving member...");try{m?.edit?await r(m.edit.memberId,j):await t(j),i(m?.edit?"Member updated":"Member added"),p(null)}catch(y){i(y.message||"Failed to save member","error")}finally{c()}}async function g(){if(m?.edit&&await u("Deactivate this family member?",{title:"Deactivate Member",confirmLabel:"Deactivate"})){l("Deactivating...");try{await n(m.edit.memberId),i("Member deactivated"),p(null)}catch(j){i(j.message||"Failed to deactivate member","error")}finally{c()}}}return[...new Set(x.flatMap(j=>Object.keys(j.dynamicFields||{})))],a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>p("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Zr,{size:14})," Add Member"]})}),x.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(Xl,{size:32,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No family members yet"}),a.jsx("button",{onClick:()=>p("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first member"})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[640px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Relationship"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"PAN"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Aadhaar"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Mobile"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:x.map((j,y)=>{const w=j.dynamicFields||{},A=Object.entries(w);return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-4",children:a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white bg-gradient-to-br ${ep[y%ep.length]}`,children:j.memberName.charAt(0)}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:f(j.memberName,"name")}),A.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mt-0.5",children:[A.slice(0,3).map(([k,C])=>a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)] bg-[var(--bg-inset)] px-1.5 py-0.5 rounded",children:[k,": ",C]},k)),A.length>3&&a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["+",A.length-3," more"]})]})]})]})}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${JD[j.relationship]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:j.relationship})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] font-mono tabular-nums",children:f(j.pan,"pan")||""}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] font-mono tabular-nums",children:f(j.aadhar,"aadhaar")||""}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] truncate max-w-[180px]",children:f(j.email,"email")}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:f(j.mobile,"mobile")}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>p({edit:j}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(ma,{size:12})})})]},j.memberId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:x.map((j,y)=>{const w=j.dynamicFields||{},A=Object.entries(w);return a.jsxs("div",{onClick:()=>p({edit:j}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center gap-2.5 mb-1.5",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white bg-gradient-to-br ${ep[y%ep.length]}`,children:j.memberName.charAt(0)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:f(j.memberName,"name")}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${JD[j.relationship]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:j.relationship})]}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] truncate",children:f(j.email,"email")})]})]}),a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-1",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:f(j.mobile,"mobile")}),a.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)] font-mono",children:["PAN: ",f(j.pan,"pan")||""]}),j.aadhar&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] font-mono",children:["Aadhaar: ",f(j.aadhar,"aadhaar")]})]})]}),A.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mt-1.5",children:[A.slice(0,3).map(([k,C])=>a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)] bg-[var(--bg-inset)] px-1.5 py-0.5 rounded",children:[k,": ",C]},k)),A.length>3&&a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["+",A.length-3," more"]})]})]},j.memberId)})})]}),a.jsx(hr,{open:!!m,onClose:()=>p(null),title:m?.edit?"Edit Member":"Add Family Member",wide:!0,children:a.jsx(Ooe,{initial:m?.edit||void 0,onSave:v,onDelete:m?.edit?g:void 0,onCancel:()=>p(null)})})]})}const e_=["Retirement","Emergency Fund","Child Education","Home Purchase","Car","Travel","Wedding","Custom"].map(e=>({value:e,label:e})),t_=[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}],tp={Retirement:{inflation:6,cagr:12},"Emergency Fund":{inflation:0,cagr:7},"Child Education":{inflation:10,cagr:12},"Home Purchase":{inflation:8,cagr:12},Wedding:{inflation:6,cagr:12},Car:{inflation:5,cagr:10},Travel:{inflation:6,cagr:10},Custom:{inflation:6,cagr:12}},r_=[{label:"Basics",icon:Id},{label:"Financials",icon:Wz},{label:"Review",icon:Lc}];function Poe({initial:e,onSave:t,onDelete:r,onCancel:n}){const i=!!e,{activeMembers:l}=xt(),c=(l||[]).map(T=>({value:T.memberId,label:T.relationship?`${T.memberName} (${T.relationship})`:T.memberName})),[u,f]=N.useState(0),[m,p]=N.useState(()=>{if(i){const T=(e.expectedInflation||.06)*100,$=(e.expectedCAGR||.12)*100,L=e.targetDate?Math.max(0,(new Date(e.targetDate)-new Date)/(365.25*24*60*60*1e3)):0,H=T/100;let D=e.targetAmount||0;H>0&&L>0&&e.goalType!=="Emergency Fund"&&(D=e.targetAmount/Math.pow(1+H,L));const Z=l.find(K=>K.memberName===e.familyMemberName);return{goalType:e.goalType||"",goalName:e.goalName||"",familyMemberId:Z?.memberId||"",todaysCost:Math.round(D).toString(),targetDate:e.targetDate||"",lumpsum:(e.lumpsumInvested||0).toString(),monthlySIP:(e.monthlyInvestment||0).toString(),inflation:T.toString(),cagr:$.toString(),priority:e.priority||"Medium",notes:e.notes||"",monthlyExpenses:(e.monthlyExpenses||"").toString(),emergencyMonths:(e.emergencyMonths||6).toString()}}return{goalType:"",goalName:"",familyMemberId:"",todaysCost:"",targetDate:"",lumpsum:"",monthlySIP:"",inflation:"6",cagr:"12",priority:"Medium",notes:"",monthlyExpenses:"",emergencyMonths:"6"}}),[x,v]=N.useState({}),[g,j]=N.useState(!1);function y(T,$){p(L=>({...L,[T]:$})),v(L=>({...L,[T]:void 0}))}N.useEffect(()=>{if(i||!m.goalType)return;const T=tp[m.goalType]||tp.Custom;p($=>({...$,inflation:T.inflation.toString(),cagr:T.cagr.toString()}))},[m.goalType,i]);const w=m.goalType==="Retirement",A=m.goalType==="Emergency Fund",k=N.useMemo(()=>{const T=(Number(m.inflation)||0)/100,L=(Number(m.cagr)||0)/100/12,H=Number(m.lumpsum)||0,D=Number(m.monthlyExpenses)||0,Z=Number(m.emergencyMonths)||6,K=m.targetDate?Math.max(0,(new Date(m.targetDate)-new Date)/(365.25*24*60*60*1e3)):0,J=Math.round(K*12);let R=0,G=0;w?(R=D*12*25,G=R*Math.pow(1+T,K)):A?(R=D*Z,G=R):(R=Number(m.todaysCost)||0,G=T>0&&K>0?R*Math.pow(1+T,K):R),G=Math.round(G);const me=H>0&&J>0?H*Math.pow(1+L,J):H;let we=0;if(G>0&&J>0){const B=G-me;B>0&&L>0?we=B/((Math.pow(1+L,J)-1)/L):B>0&&(we=B/J),we=Math.max(0,Math.ceil(we))}const Ne=we>0&&L>0&&J>0?we*((Math.pow(1+L,J)-1)/L):we*J,F=Math.round(H+we*J),ce=Math.round(G-F),ee=H>0&&me>=G;return{todaysCost:R,inflatedTarget:G,yearsToGo:K,months:J,fvLumpsum:Math.round(me),requiredSIP:we,fvRequiredSIP:Math.round(Ne),planTotalInvested:F,planReturns:ce,lumpsumCoversGoal:ee,hasTarget:G>0}},[m.todaysCost,m.targetDate,m.lumpsum,m.inflation,m.cagr,m.monthlyExpenses,m.emergencyMonths,w,A]);function C(T){const $={};return T===0&&(m.goalType||($.goalType="Required"),m.goalName.trim()||($.goalName="Required")),T===1&&(m.targetDate||($.targetDate="Required"),w||A?(!m.monthlyExpenses||Number(m.monthlyExpenses)<=0)&&($.monthlyExpenses="Required"):(!m.todaysCost||Number(m.todaysCost)<=0)&&($.todaysCost="Must be > 0")),v($),Object.keys($).length===0}function M(){const T={};return m.goalType||(T.goalType="Required"),m.goalName.trim()||(T.goalName="Required"),m.targetDate||(T.targetDate="Required"),w||A?(!m.monthlyExpenses||Number(m.monthlyExpenses)<=0)&&(T.monthlyExpenses="Required"):(!m.todaysCost||Number(m.todaysCost)<=0)&&(T.todaysCost="Must be > 0"),v(T),Object.keys(T).length===0}function E(){C(u)&&f(T=>Math.min(T+1,2))}async function O(){if(!M())return;const T=m.familyMemberId&&l.find($=>$.memberId===m.familyMemberId)?.memberName||"Family";j(!0);try{await t({goalType:m.goalType,goalName:m.goalName,familyMemberId:m.familyMemberId||"",familyMember:T,targetAmount:k.inflatedTarget,targetDate:m.targetDate,priority:m.priority,notes:m.notes,expectedInflation:(Number(m.inflation)||0)/100,expectedCAGR:(Number(m.cagr)||0)/100,monthlyInvestment:k.requiredSIP||0,lumpsumInvested:Number(m.lumpsum)||0,monthlyExpenses:w||A?Number(m.monthlyExpenses)||0:void 0,emergencyMonths:A?Number(m.emergencyMonths)||6:void 0,isRetirement:w,currentCost:k.todaysCost})}finally{j(!1)}}const P=m.familyMemberId&&l.find(T=>T.memberId===m.familyMemberId)?.memberName||"Family";return i?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(he,{label:"Goal Type",required:!0,error:x.goalType,children:a.jsx(tt,{value:m.goalType,onChange:T=>y("goalType",T),options:e_,placeholder:"Select type..."})}),a.jsx(he,{label:"Goal Name",required:!0,error:x.goalName,children:a.jsx(Pe,{value:m.goalName,onChange:T=>y("goalName",T),placeholder:"e.g., Retirement Fund (2045)"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(he,{label:"For",error:x.familyMemberId,children:a.jsx(tt,{value:m.familyMemberId,onChange:T=>y("familyMemberId",T),options:c,placeholder:"Family (Default)"})}),a.jsx(he,{label:"Target Date",required:!0,error:x.targetDate,children:a.jsx(Ma,{value:m.targetDate,onChange:T=>y("targetDate",T),maxDate:null})})]}),w||A?a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(he,{label:"Monthly Expenses",required:!0,error:x.monthlyExpenses,children:a.jsx(Pe,{type:"number",value:m.monthlyExpenses,onChange:T=>y("monthlyExpenses",T),placeholder:"e.g., 50000"})}),A&&a.jsx(he,{label:"Emergency Months",children:a.jsx(Pe,{type:"number",value:m.emergencyMonths,onChange:T=>y("emergencyMonths",T),placeholder:"6"})})]}):a.jsx(he,{label:"Today's Cost",required:!0,error:x.todaysCost,children:a.jsx(Pe,{type:"number",value:m.todaysCost,onChange:T=>y("todaysCost",T),placeholder:"e.g., 1000000"})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[a.jsx(he,{label:"Inflation %",children:a.jsx(Pe,{type:"number",value:m.inflation,onChange:T=>y("inflation",T),placeholder:"6"})}),a.jsx(he,{label:"Expected CAGR %",children:a.jsx(Pe,{type:"number",value:m.cagr,onChange:T=>y("cagr",T),placeholder:"12"})}),a.jsx(he,{label:"Lumpsum Invested",children:a.jsx(Pe,{type:"number",value:m.lumpsum,onChange:T=>y("lumpsum",T),placeholder:"0"})})]}),k.hasTarget&&a.jsx(n_,{calc:k,inflation:m.inflation,isRetirement:w,isEmergency:A}),a.jsx(he,{label:"Priority",children:a.jsx(tt,{value:m.priority,onChange:T=>y("priority",T),options:t_})}),a.jsx(he,{label:"Notes",children:a.jsx(Dc,{value:m.notes,onChange:T=>y("notes",T),placeholder:"Optional notes...",rows:2})}),a.jsxs("div",{className:"flex items-center justify-between",children:[r?a.jsx(ls,{onClick:r}):a.jsx("div",{}),a.jsx(fn,{onCancel:n,onSubmit:O,submitLabel:"Update Goal",loading:g})]})]}):a.jsxs("div",{className:"space-y-5",children:[a.jsx("div",{className:"flex items-center gap-1 mb-2",children:r_.map((T,$)=>{const L=T.icon,H=$===u,D=$<u;return a.jsxs("div",{className:"flex items-center flex-1",children:[a.jsxs("button",{onClick:()=>{$<u&&f($)},className:`flex items-center gap-1.5 text-xs font-semibold transition-colors ${H?"text-violet-400":D?"text-emerald-400 cursor-pointer":"text-[var(--text-dim)]"}`,children:[a.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold border ${H?"border-violet-400 bg-violet-500/15":D?"border-emerald-400 bg-emerald-500/15":"border-[var(--border)] bg-[var(--bg-inset)]"}`,children:D?a.jsx(Lc,{size:12}):a.jsx(L,{size:12})}),a.jsx("span",{className:"hidden sm:inline",children:T.label})]}),$<r_.length-1&&a.jsx("div",{className:`flex-1 h-px mx-2 ${D?"bg-emerald-400/40":"bg-[var(--border)]"}`})]},T.label)})}),u===0&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Tell us about your financial goal"}),a.jsx(he,{label:"Goal Type",required:!0,error:x.goalType,children:a.jsx(tt,{value:m.goalType,onChange:T=>y("goalType",T),options:e_,placeholder:"Select type..."})}),m.goalType&&a.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)]",children:[a.jsx(xc,{size:12,className:"text-[var(--text-dim)] shrink-0"}),a.jsxs("p",{className:"text-[11px] text-[var(--text-muted)]",children:["Default: ",tp[m.goalType]?.inflation||6,"% inflation, ",tp[m.goalType]?.cagr||12,"% CAGR",w&&"  Uses 25x annual expenses rule",A&&"  No inflation applied"]})]}),a.jsx(he,{label:"Goal Name",required:!0,error:x.goalName,children:a.jsx(Pe,{value:m.goalName,onChange:T=>y("goalName",T),placeholder:"e.g., Retirement Fund (2045)"})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(he,{label:"For",error:x.familyMemberId,children:a.jsx(tt,{value:m.familyMemberId,onChange:T=>y("familyMemberId",T),options:c,placeholder:"Family (Default)"})}),a.jsx(he,{label:"Priority",children:a.jsx(tt,{value:m.priority,onChange:T=>y("priority",T),options:t_})})]})]}),u===1&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:w?"Set your retirement timeline and monthly expenses":A?"Set your emergency fund requirements":"Set your target and investment plan"}),w||A?a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(he,{label:"Target Date",required:!0,error:x.targetDate,children:a.jsx(Ma,{value:m.targetDate,onChange:T=>y("targetDate",T),maxDate:null})}),a.jsx(he,{label:"Monthly Expenses (Today)",required:!0,error:x.monthlyExpenses,children:a.jsx(Pe,{type:"number",value:m.monthlyExpenses,onChange:T=>y("monthlyExpenses",T),placeholder:"e.g., 50000"})}),A&&a.jsx(he,{label:"Emergency Fund (Months)",children:a.jsx(Pe,{type:"number",value:m.emergencyMonths,onChange:T=>y("emergencyMonths",T),placeholder:"6"})}),w&&a.jsx("div",{className:"sm:col-span-2",children:a.jsxs("p",{className:"text-[11px] text-[var(--text-dim)]",children:["Corpus = Monthly Expenses x 12 x 25 = ",Q(k.todaysCost)," (today)"]})})]}):a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(he,{label:"Target Date",required:!0,error:x.targetDate,children:a.jsx(Ma,{value:m.targetDate,onChange:T=>y("targetDate",T),maxDate:null})}),a.jsx(he,{label:"Today's Cost",required:!0,error:x.todaysCost,children:a.jsx(Pe,{type:"number",value:m.todaysCost,onChange:T=>y("todaysCost",T),placeholder:"e.g., 1000000"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(he,{label:`Inflation Rate (%)${A?"  N/A":""}`,children:a.jsx(Pe,{type:"number",value:m.inflation,onChange:T=>y("inflation",T),placeholder:"6"})}),a.jsx(he,{label:"Expected Returns (CAGR %)",children:a.jsx(Pe,{type:"number",value:m.cagr,onChange:T=>y("cagr",T),placeholder:"12"})})]}),k.hasTarget&&a.jsx(n_,{calc:k,inflation:m.inflation,isRetirement:w,isEmergency:A}),a.jsx(he,{label:"Lumpsum You Plan to Invest (Optional)",children:a.jsx(Pe,{type:"number",value:m.lumpsum,onChange:T=>y("lumpsum",T),placeholder:"e.g., 500000"})}),k.hasTarget&&k.months>0&&a.jsx(a_,{calc:k,lumpsum:m.lumpsum}),a.jsx(he,{label:"Notes",children:a.jsx(Dc,{value:m.notes,onChange:T=>y("notes",T),placeholder:"Optional notes...",rows:2})})]}),u===2&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Review your goal before saving"}),a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-4 space-y-3",children:[a.jsx(bn,{label:"Goal",value:m.goalName,bold:!0}),a.jsx(bn,{label:"Type",value:m.goalType,color:"violet"}),a.jsx(bn,{label:"Member",value:P}),a.jsx(bn,{label:"Priority",value:m.priority,badge:m.priority==="High"?"rose":m.priority==="Low"?"blue":"amber"}),a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3 space-y-2",children:[(w||A)&&a.jsx(bn,{label:"Monthly Expenses",value:Q(Number(m.monthlyExpenses)||0)}),A&&a.jsx(bn,{label:"Emergency Months",value:m.emergencyMonths}),!w&&!A&&a.jsx(bn,{label:"Today's Cost",value:Q(k.todaysCost)}),a.jsx(bn,{label:"Inflation",value:`${m.inflation}% p.a.`}),a.jsx(bn,{label:"Expected CAGR",value:`${m.cagr}% p.a.`}),a.jsx(bn,{label:"Future Value (Inflated)",value:Q(k.inflatedTarget),bold:!0,color:"violet"})]}),a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3 space-y-2",children:[a.jsx(bn,{label:"Lumpsum",value:Q(Number(m.lumpsum)||0)}),a.jsx(bn,{label:"Required SIP",value:`${Q(k.requiredSIP)}/mo`,color:"emerald"}),a.jsx(bn,{label:"Target Date",value:m.targetDate}),a.jsx(bn,{label:"Time Remaining",value:k.yearsToGo>0?`${k.yearsToGo.toFixed(1)} years`:""})]})]}),k.hasTarget&&k.months>0&&a.jsx(a_,{calc:k,lumpsum:m.lumpsum,compact:!0})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-[var(--border-light)]",children:[a.jsx("div",{children:u>0&&a.jsxs("button",{onClick:()=>f(T=>T-1),className:"flex items-center gap-1 px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx(Dz,{size:14})," Back"]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:n,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),u<2?a.jsxs("button",{onClick:E,className:"flex items-center gap-1 px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors",children:["Next ",a.jsx(zn,{size:14})]}):a.jsx("button",{onClick:O,disabled:g,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Saving...":"Create Goal"})]})]})]})}function n_({calc:e,inflation:t,isRetirement:r,isEmergency:n}){return n?a.jsx("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-blue-500/5 border border-blue-500/15",children:a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Emergency Fund: ",a.jsx("span",{className:"font-bold text-[var(--text-primary)]",children:Q(e.inflatedTarget)}),a.jsx("span",{className:"text-[var(--text-dim)]",children:" (no inflation applied)"})]})}):a.jsxs("div",{className:"flex items-center justify-between gap-2 px-3 py-2 rounded-lg bg-violet-500/5 border border-violet-500/15",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-semibold text-[var(--text-dim)] uppercase tracking-wider",children:r?"Corpus Today":"Today's Cost"}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-secondary)]",children:Q(e.todaysCost)})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[t,"% x ",e.yearsToGo.toFixed(1),"yrs"]}),a.jsx(zn,{size:12,className:"text-violet-400 mx-auto"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] font-semibold text-violet-400 uppercase tracking-wider",children:"Future Value"}),a.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)]",children:Q(e.inflatedTarget)})]})]})}function a_({calc:e,lumpsum:t,compact:r}){const n=Number(t)||0;return r?a.jsxs("div",{className:"rounded-lg border p-3 bg-violet-500/5 border-violet-500/15",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Required Monthly SIP"}),a.jsxs("span",{className:"text-sm font-bold text-violet-400 tabular-nums",children:[e.lumpsumCoversGoal?"0":Q(e.requiredSIP),"/mo"]})]}),e.lumpsumCoversGoal&&a.jsx("p",{className:"text-[10px] text-emerald-400 mt-1",children:"Lumpsum alone covers this goal!"})]}):a.jsxs("div",{className:"rounded-lg border p-3 space-y-2 bg-violet-500/5 border-violet-500/15",children:[e.lumpsumCoversGoal?a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(Lc,{size:12,className:"text-emerald-400"}),a.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-emerald-400",children:"Lumpsum Covers Goal"})]}):a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-violet-400",children:"Required Monthly SIP"}),a.jsxs("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:[Q(e.requiredSIP),"/mo"]})]}),e.planTotalInvested>0&&a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-2 space-y-1",children:[n>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-[11px] text-[var(--text-dim)]",children:["Lumpsum ",Q(n)," grows to"]}),a.jsx("span",{className:"text-[11px] font-semibold text-emerald-400 tabular-nums",children:Q(e.fvLumpsum)})]}),e.requiredSIP>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-[11px] text-[var(--text-dim)]",children:["SIP ",Q(e.requiredSIP),"/mo x ",e.months," months"]}),a.jsx("span",{className:"text-[11px] font-semibold text-blue-400 tabular-nums",children:Q(e.fvRequiredSIP)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[11px] text-[var(--text-dim)]",children:"Total You Invest"}),a.jsx("span",{className:"text-[11px] font-semibold text-[var(--text-primary)] tabular-nums",children:Q(e.planTotalInvested)})]}),e.planReturns>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[11px] text-[var(--text-dim)]",children:"Wealth Created"}),a.jsxs("span",{className:"text-[11px] font-semibold text-emerald-400 tabular-nums",children:["+",Q(e.planReturns)]})]})]})]})}function bn({label:e,value:t,bold:r,color:n,badge:i}){const l=n==="violet"?"text-violet-400":n==="emerald"?"text-emerald-400":"text-[var(--text-primary)]";if(i){const c=i==="rose"?"bg-rose-500/15 text-rose-400":i==="blue"?"bg-blue-500/15 text-blue-400":"bg-amber-500/15 text-amber-400";return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:e}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${c}`,children:t})]})}return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:e}),a.jsx("span",{className:`text-xs ${r?"font-bold text-sm":"font-semibold"} ${l}`,children:t})]})}function Ioe({goal:e,onClose:t}){const{goalPortfolioMappings:r,mfPortfolios:n,mfHoldings:i}=xt(),l=N.useMemo(()=>{const u=r.filter(x=>x.goalId===e.goalId);if(u.length===0)return null;const f=u.map(x=>{const v=n.find(A=>A.portfolioId===x.portfolioId);if(!v)return null;const g=i.filter(A=>A.portfolioId===x.portfolioId&&A.units>0),j=g.reduce((A,k)=>A+k.currentValue,0),y=j*x.allocationPct/100,w=g.map(A=>{const k=j>0?A.currentValue/j:0,C=y*k,M=A.currentNav>0?C/A.currentNav:0,E=C-M*A.avgNav;return{fundName:A.fundName,currentValue:A.currentValue,withdrawValue:C,withdrawUnits:Math.min(M,A.units),currentNav:A.currentNav,taxableGain:E,availableUnits:A.units}}).filter(A=>A.withdrawValue>0);return{portfolioName:v.portfolioName,ownerName:v.ownerName,allocationPct:x.allocationPct,portfolioValue:j,linkedValue:y,fundWithdrawals:w}}).filter(Boolean),m=f.reduce((x,v)=>x+v.linkedValue,0),p=f.reduce((x,v)=>x+v.fundWithdrawals.reduce((g,j)=>g+j.taxableGain,0),0);return{portfolioDetails:f,totalLinked:m,totalTaxableGain:p}},[e,r,n,i]);if(!l)return a.jsxs("div",{className:"py-8 text-center space-y-2",children:[a.jsx(Vs,{size:24,className:"mx-auto text-amber-400"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No portfolios linked to this goal"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Link portfolios first to generate a withdrawal plan"}),a.jsx("button",{onClick:t,className:"mt-2 px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})]});const c=e.targetAmount>0?l.totalLinked/e.targetAmount*100:0;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-4 space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Goal Target"}),a.jsx("span",{className:"text-sm font-bold text-[var(--text-primary)]",children:Q(e.targetAmount)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Available from Linked Portfolios"}),a.jsx("span",{className:`text-sm font-bold ${l.totalLinked>=e.targetAmount?"text-emerald-400":"text-amber-400"}`,children:Q(l.totalLinked)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-card)] rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${c>=100?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${Math.min(c,100)}%`}})}),a.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[c.toFixed(0),"%"]})]}),l.totalTaxableGain>0&&a.jsxs("div",{className:"flex items-center justify-between pt-1",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Estimated Taxable Gain"}),a.jsx("span",{className:"text-xs font-semibold text-amber-400",children:Q(l.totalTaxableGain)})]})]}),l.portfolioDetails.map(u=>a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] overflow-hidden",children:[a.jsxs("div",{className:"px-4 py-2.5 bg-[var(--bg-card)] border-b border-[var(--border-light)] flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:u.portfolioName}),a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[u.ownerName,"  ",u.allocationPct,"% allocated to goal"]})]}),a.jsx("span",{className:"text-xs font-bold text-[var(--text-primary)]",children:Q(u.linkedValue)})]}),a.jsx("div",{className:"px-4 py-2",children:a.jsxs("table",{className:"w-full text-xs",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-[var(--text-dim)]",children:[a.jsx("th",{className:"text-left py-1 font-medium",children:"Fund"}),a.jsx("th",{className:"text-right py-1 font-medium",children:"Units"}),a.jsx("th",{className:"text-right py-1 font-medium",children:"Amount"}),a.jsx("th",{className:"text-right py-1 font-medium",children:"Gain"})]})}),a.jsx("tbody",{children:u.fundWithdrawals.map(f=>a.jsxs("tr",{className:"border-t border-[var(--border-light)]",children:[a.jsxs("td",{className:"py-1.5 text-[var(--text-secondary)] max-w-[180px]",children:[a.jsx("p",{className:"truncate",children:Le(f.fundName).main}),Le(f.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(f.fundName).plan})]}),a.jsx("td",{className:"py-1.5 text-right text-[var(--text-muted)] tabular-nums",children:f.withdrawUnits.toFixed(2)}),a.jsx("td",{className:"py-1.5 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:Q(f.withdrawValue)}),a.jsx("td",{className:`py-1.5 text-right tabular-nums font-semibold ${f.taxableGain>=0?"text-emerald-400":"text-rose-400"}`,children:Q(Math.abs(f.taxableGain))})]},f.fundName))})]})})]},u.portfolioName)),a.jsx("div",{className:"flex items-center justify-end gap-2 pt-4 border-t border-[var(--border-light)]",children:a.jsx("button",{onClick:t,className:"px-5 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})})]})}const Roe={"On Track":"bg-blue-500/15 text-[var(--accent-blue)]",Behind:"bg-amber-500/15 text-[var(--accent-amber)]",Critical:"bg-rose-500/15 text-[var(--accent-rose)]","Needs Attention":"bg-amber-500/15 text-[var(--accent-amber)]",Achieved:"bg-emerald-500/15 text-emerald-400",Paused:"bg-slate-500/15 text-[var(--text-muted)]"},Loe={High:"bg-rose-500/15 text-[var(--accent-rose)]",Medium:"bg-amber-500/15 text-[var(--accent-amber)]",Low:"bg-blue-500/15 text-[var(--accent-blue)]"},Foe={"On Track":"bg-blue-500",Behind:"bg-amber-500",Critical:"bg-rose-500","Needs Attention":"bg-amber-500",Achieved:"bg-emerald-500",Paused:"bg-slate-500"};function zoe(){const{selectedMember:e,member:t}=Hr(),{goalList:r,addGoal:n,updateGoal:i,deleteGoal:l,goalPortfolioMappings:c,updateGoalMappings:u,mfHoldings:f,activeMembers:m,mfPortfolios:p,stockPortfolios:x,otherInvList:v}=xt(),{showToast:g,showBlockUI:j,hideBlockUI:y}=ui(),w=di(),[A,k]=N.useState(null),[C,M]=N.useState(null),[E,O]=N.useState(null),P=N.useRef(new Set),[T,$]=N.useState(null),[L,H]=N.useState([]),[D,Z]=N.useState(!1),[K,J]=N.useState(!1),R=N.useMemo(()=>{if(!r)return[];const q=r.filter(re=>re.isActive!==!1);return e==="all"?q:q.filter(re=>re.familyMemberId===e)},[r,e]);function G(q){if(!q.familyMemberName||q.familyMemberName==="Family")return q.familyMemberName||"Family";const re=(m||[]).find(Ae=>Ae.memberName===q.familyMemberName);return re?.relationship?`${q.familyMemberName} (${re.relationship})`:q.familyMemberName}const me=R.reduce((q,re)=>q+(re.targetAmount||0),0),we=R.reduce((q,re)=>q+(re.currentValue||0),0),Ne=R.reduce((q,re)=>q+(re.monthlyInvestment||0),0),F=R.reduce((q,re)=>q+(re.lumpsumNeeded||0),0),ce=me>0?we/me*100:0,ee=R.filter(q=>q.status==="Needs Attention").length,B=R.filter(q=>q.status==="Achieved").length,z=new Set(["Equity","ELSS","Index"]),U=N.useMemo(()=>{if(!R.length||!c?.length||!f?.length)return[];const q=new Date,re=[];for(const Ae of R){if(Ae.status==="Achieved")continue;const le=(new Date(Ae.targetDate)-q)/(365.25*24*60*60*1e3);if(le>3||le<=0)continue;const it=c.filter(Yt=>Yt.goalId===Ae.goalId);if(!it.length)continue;let Ye=0,Be=0;for(const Yt of it){const Qe=f.filter(Ee=>Ee.portfolioId===Yt.portfolioId&&Ee.units>0);for(const Ee of Qe){const We=Ee.currentValue*(Yt.allocationPct/100);Ye+=We,z.has(Ee.category)?Be+=We:Ee.category==="Hybrid"&&(Be+=We*.65)}}const Je=Ye>0?Be/Ye*100:0,nt=le<1?30:le<2?50:70;Je>nt&&re.push({goalId:Ae.goalId,goalName:Ae.goalName,yearsLeft:le.toFixed(1),equityPct:Math.round(Je),maxEquity:nt,excessPct:Math.round(Je-nt)})}return re},[R,c,f]);N.useEffect(()=>{const q=new Set(R.filter(Ae=>Ae.status==="Achieved").map(Ae=>Ae.goalId)),re=P.current;for(const Ae of q)if(!re.has(Ae)){const Ue=R.find(le=>le.goalId===Ae);Ue&&(O(Ue),setTimeout(()=>O(null),5e3))}P.current=q},[R]);function xe(q){return q?q.startsWith("PFL-STK-")?"Stock":q.startsWith("INV-")?"Other":"MF":"MF"}const je=N.useMemo(()=>{const q={};return(p||[]).forEach(re=>{q[re.portfolioId]={name:re.portfolioName?.replace(/^PFL-/,"")||re.portfolioName,value:re.currentValue||0,type:"MF",owner:re.ownerName||""}}),(x||[]).forEach(re=>{q[re.portfolioId]={name:re.portfolioName,value:re.currentValue||0,type:"Stock",owner:re.ownerName||""}}),(v||[]).forEach(re=>{q[re.investmentId]={name:re.investmentName,value:re.currentValue||0,type:"Other",owner:re.familyMemberName||""}}),q},[p,x,v]),ne=N.useMemo(()=>{const q=[];return(p||[]).filter(re=>re.status!=="Inactive").forEach(re=>{q.push({id:re.portfolioId,name:re.portfolioName?.replace(/^PFL-/,"")||re.portfolioName,value:re.currentValue||0,type:"MF",owner:re.ownerName||""})}),(x||[]).filter(re=>re.status!=="Inactive").forEach(re=>{q.push({id:re.portfolioId,name:re.portfolioName,value:re.currentValue||0,type:"Stock",owner:re.ownerName||""})}),(v||[]).filter(re=>re.status==="Active").forEach(re=>{q.push({id:re.investmentId,name:re.investmentName,value:re.currentValue||0,type:"Other",owner:re.familyMemberName||""})}),q},[p,x,v]),De=ne.filter(q=>q.type==="MF"),Ce=ne.filter(q=>q.type==="Stock"),ue=ne.filter(q=>q.type==="Other"),$e=N.useMemo(()=>{const q={};return(c||[]).forEach(re=>{if(re.goalId===T)return;q[re.portfolioId]||(q[re.portfolioId]={total:0,goals:[]}),q[re.portfolioId].total+=re.allocationPct;const Ae=(r||[]).find(Ue=>Ue.goalId===re.goalId);q[re.portfolioId].goals.push({goalName:Ae?.goalName||re.goalId,pct:re.allocationPct})}),q},[c,T,r]),Ie=N.useMemo(()=>{const q=[];for(const re of L){const Ue=($e[re.portfolioId]?.total||0)+(re.allocationPct||0);if(Ue>100){const le=ne.find(it=>it.id===re.portfolioId);q.push({name:le?.name||re.portfolioId,combined:Ue,excess:Ue-100})}}return q},[L,$e,ne]),Re=Ie.length===0;function rt(q){const re=(c||[]).filter(Ae=>Ae.goalId===q).map(Ae=>({portfolioId:Ae.portfolioId,allocationPct:Ae.allocationPct,investmentType:Ae.investmentType||xe(Ae.portfolioId)}));H(re),$(q),Z(!1)}function jt(){$(null),H([]),Z(!1)}function Bt(q){T===q?jt():rt(q)}function Ut(){const q=new Set(L.map(Ae=>Ae.portfolioId)),re=ne.find(Ae=>!q.has(Ae.id)&&($e[Ae.id]?.total||0)<100);re&&(H(Ae=>[...Ae,{portfolioId:re.id,allocationPct:0,investmentType:re.type}]),Z(!0))}function Zt(q){H(re=>re.filter((Ae,Ue)=>Ue!==q)),Z(!0)}function Jt(q,re,Ae){H(Ue=>Ue.map((le,it)=>{if(it!==q)return le;if(re==="allocationPct"){const Ye=$e[le.portfolioId]?.total||0,Be=Math.max(0,100-Ye);return{...le,allocationPct:Math.max(0,Math.min(Be,Number(Ae)||0))}}if(re==="portfolioId"){const Ye=ne.find(nt=>nt.id===Ae),Be=$e[Ae]?.total||0,Je=Math.max(0,100-Be);return{...le,portfolioId:Ae,investmentType:Ye?.type||xe(Ae),allocationPct:Math.min(le.allocationPct,Je)}}return le})),Z(!0)}async function ye(){if(Re){J(!0),j("Saving...");try{await u(T,L.filter(q=>q.allocationPct>0)),g("Allocation updated"),jt()}catch(q){g(q.message||"Failed to save","error")}finally{y(),J(!1)}}}if(r===null)return a.jsx(pi,{title:"Loading goals",cards:5});async function _e(q){j("Saving...");try{A?.edit?await i(A.edit.goalId,q):await n(q),g(A?.edit?"Goal updated":"Goal added"),k(null)}catch(re){g(re.message||"Failed to save goal","error")}finally{y()}}async function ze(){if(A?.edit&&await w("Delete this goal?",{title:"Delete Goal",confirmLabel:"Delete"})){const q=A.edit.goalId,re=(c||[]).filter(Ae=>Ae.goalId===q);j("Deleting...");try{if(await l(q),k(null),re.length>0){const Ae=re.some(Ue=>(c||[]).some(le=>le.portfolioId===Ue.portfolioId&&le.goalId!==q));g(Ae?"Goal deleted  shared allocations freed":"Goal deleted")}else g("Goal deleted")}catch(Ae){g(Ae.message||"Failed to delete goal","error")}finally{y()}}}function Et(q){return!q.targetAmount||q.targetAmount===0?0:Math.min((q.currentValue||0)/q.targetAmount*100,100)}function W(q){if(!q.targetDate)return null;const Ae=(new Date(q.targetDate)-new Date)/(365.25*24*60*60*1e3);return Ae>0?Ae.toFixed(1):"0"}return a.jsxs("div",{className:"space-y-4",children:[R.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(Id,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No goals set",t?` for ${t.memberName}`:""]}),a.jsx("button",{onClick:()=>k("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first goal"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[a.jsx(tc,{label:"Target",value:Q(me),bold:!0}),a.jsx(tc,{label:"Current Value",value:Q(we),bold:!0}),a.jsx(tc,{label:"Gap",value:Q(Math.max(me-we,0)),positive:me<=we,bold:!0}),a.jsx(tc,{label:"Progress",value:`${ce.toFixed(1)}%`,sub:`${R.length} goal${R.length!==1?"s":""}${B>0?`  ${B} done`:""}`,positive:ce>=50,bold:!0}),a.jsx(tc,{label:"Required SIP",value:Q(Ne),sub:ee>0?`${ee} need attention`:"per month"}),a.jsx(tc,{label:"Required Lumpsum",value:Q(F),sub:"one-time today"})]}),E&&a.jsxs("div",{className:"relative bg-gradient-to-r from-emerald-500/10 via-yellow-500/10 to-emerald-500/10 rounded-xl border border-emerald-500/30 px-4 py-3 flex items-center gap-3 animate-fade-in overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:20}).map((q,re)=>a.jsx("span",{className:"absolute text-sm animate-confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*2}s`},children:["","","","",""][re%5]},re))}),a.jsx(eA,{size:20,className:"text-yellow-400 shrink-0 relative z-10"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-sm font-bold text-emerald-400",children:"Goal Achieved!"}),a.jsxs("p",{className:"text-xs text-[var(--text-secondary)]",children:[E.goalName,"  Congratulations!"]})]}),a.jsx("button",{onClick:()=>O(null),className:"ml-auto text-xs text-[var(--text-dim)] hover:text-[var(--text-primary)] relative z-10",children:"Dismiss"})]}),U.length>0&&a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-amber-500/20 p-4 space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(XB,{size:14,className:"text-amber-400"}),a.jsx("p",{className:"text-xs font-bold text-amber-400 uppercase tracking-wider",children:"De-risking Alerts"})]}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"These goals are approaching their deadline with high equity exposure. Consider moving funds to debt/liquid for capital protection."}),a.jsx("div",{className:"space-y-1.5",children:U.map(q=>a.jsxs("div",{className:"flex items-center justify-between bg-amber-500/5 rounded-lg px-3 py-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:q.goalName}),a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[q.yearsLeft," yrs left"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-xs font-bold text-amber-400",children:[q.equityPct,"% equity"]}),a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["Recommended max ",q.maxEquity,"%"]})]})]},q.goalId))})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>k("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Zr,{size:14})," Add Goal"]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:R.map(q=>{const re=Et(q),Ae=W(q),Ue=T===q.goalId,le=Ue?L:(c||[]).filter(Be=>Be.goalId===q.goalId),it=(c||[]).filter(Be=>Be.goalId===q.goalId).length,Ye=le.reduce((Be,Je)=>{const nt=je[Je.portfolioId];return Be+(nt?nt.value*Je.allocationPct/100:0)},0);return a.jsxs("div",{className:`bg-[var(--bg-card)] rounded-xl border overflow-hidden transition-colors ${Ue?"border-violet-500/40":"border-[var(--border)]"}`,children:[a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold text-[var(--text-primary)] truncate",children:q.goalName}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:G(q)}),a.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded ${Loe[q.priority]||""}`,children:q.priority})]})]}),a.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded-full shrink-0 ${Roe[q.status]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:q.status})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-inset)] rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full transition-all ${Foe[q.status]||"bg-blue-500"}`,style:{width:`${re}%`}})}),a.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums w-10 text-right",children:[re.toFixed(0),"%"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1.5 mb-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Current"}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(q.currentValue)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Target"}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(q.targetAmount)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Required SIP"}),a.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:[Q(q.monthlyInvestment),"/mo"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Timeline"}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:q.status==="Achieved"?"Done":Ae?`${Ae} yrs left`:""})]})]}),a.jsxs("div",{className:"flex items-center gap-1 pt-2 border-t border-[var(--border-light)]",children:[a.jsxs("button",{onClick:Be=>{Be.stopPropagation(),Bt(q.goalId)},className:`flex items-center gap-1 px-2.5 py-1.5 text-[10px] font-semibold rounded-lg transition-colors ${Ue?"bg-violet-500/20 text-violet-400":it>0?"text-violet-400 hover:bg-violet-500/10":"text-amber-400 hover:bg-amber-500/10"}`,children:[a.jsx(AO,{size:11}),Ue?"Linking...":it>0?`${it} linked`:"Link",!Ue&&it===0&&a.jsx("span",{className:"w-1.5 h-1.5 bg-amber-400 rounded-full animate-pulse"})]}),q.status==="Achieved"&&a.jsxs("button",{onClick:()=>M(q),className:"flex items-center gap-1 px-2.5 py-1.5 text-[10px] font-semibold text-[var(--text-dim)] hover:text-emerald-400 hover:bg-emerald-500/10 rounded-lg transition-colors",children:[a.jsx(bO,{size:11})," Withdraw"]}),a.jsxs("button",{onClick:()=>k({edit:q}),className:"flex items-center gap-1 px-2.5 py-1.5 text-[10px] font-semibold text-[var(--text-dim)] hover:text-[var(--text-primary)] hover:bg-white/5 rounded-lg transition-colors ml-auto",children:[a.jsx(ma,{size:11})," Edit"]})]})]}),Ue&&a.jsxs("div",{className:"px-4 pb-4 space-y-2 border-t border-violet-500/20 bg-violet-500/[0.03]",children:[a.jsxs("div",{className:"flex items-center justify-between pt-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Kl,{size:12,className:"text-violet-400"}),a.jsx("span",{className:"text-xs font-semibold text-violet-400",children:"Link Investments"})]}),Ye>0&&a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["Linked value: ",Q(Ye)]})]}),L.map((Be,Je)=>{const nt=ne.find(Fe=>Fe.id===Be.portfolioId),Yt=$e[Be.portfolioId],Qe=Yt?.total||0,Ee=100-Qe,We=Qe+(Be.allocationPct||0);return a.jsxs("div",{className:`bg-[var(--bg-card)] rounded-lg border p-2.5 space-y-1.5 ${We>100?"border-rose-500/40":"border-[var(--border-light)]"}`,children:[a.jsxs("select",{value:Be.portfolioId,onChange:Fe=>Jt(Je,"portfolioId",Fe.target.value),className:"w-full px-2 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)]",children:[De.length>0&&a.jsx("optgroup",{label:"MF Portfolios",children:De.map(Fe=>{const yt=($e[Fe.id]?.total||0)>=100,$t=L.some((Vt,yr)=>yr!==Je&&Vt.portfolioId===Fe.id);return a.jsxs("option",{value:Fe.id,disabled:$t||yt,children:[Fe.name,Fe.owner?` (${Fe.owner})`:"","  ",Q(Fe.value),yt?" (Fully allocated)":""]},Fe.id)})}),Ce.length>0&&a.jsx("optgroup",{label:"Stock Portfolios",children:Ce.map(Fe=>{const yt=($e[Fe.id]?.total||0)>=100,$t=L.some((Vt,yr)=>yr!==Je&&Vt.portfolioId===Fe.id);return a.jsxs("option",{value:Fe.id,disabled:$t||yt,children:[Fe.name,Fe.owner?` (${Fe.owner})`:"","  ",Q(Fe.value),yt?" (Fully allocated)":""]},Fe.id)})}),ue.length>0&&a.jsx("optgroup",{label:"Other Investments",children:ue.map(Fe=>{const yt=($e[Fe.id]?.total||0)>=100,$t=L.some((Vt,yr)=>yr!==Je&&Vt.portfolioId===Fe.id);return a.jsxs("option",{value:Fe.id,disabled:$t||yt,children:[Fe.name,Fe.owner?` (${Fe.owner})`:"","  ",Q(Fe.value),yt?" (Fully allocated)":""]},Fe.id)})})]}),Qe>0&&a.jsxs("div",{className:`text-[10px] px-2 py-1 rounded ${We>100?"bg-rose-500/10 text-rose-400":"bg-blue-500/10 text-blue-400"}`,children:[Yt.goals.map(Fe=>`${Fe.goalName} (${Fe.pct}%)`).join(", "),"  ",a.jsxs("span",{className:"font-bold",children:["Available: ",Math.max(0,Ee),"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:"Allocation"}),a.jsx("input",{type:"number",value:Be.allocationPct,onChange:Fe=>Jt(Je,"allocationPct",Fe.target.value),className:"w-16 px-2 py-1 text-xs text-center bg-[var(--bg-input)] border border-[var(--border-input)] rounded-md text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)]",min:"0",max:Ee}),a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"%"}),a.jsx("button",{onClick:()=>Zt(Je),className:"p-1 text-[var(--text-dim)] hover:text-rose-400 rounded transition-colors ml-1",children:a.jsx(hc,{size:12})})]}),nt&&a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["Contributes ",Q(nt.value*Be.allocationPct/100)]})]})]},Je)}),Ie.length>0&&a.jsxs("div",{className:"bg-rose-500/10 border border-rose-500/20 rounded-lg px-3 py-2 space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(Vs,{size:12,className:"text-rose-400 shrink-0"}),a.jsx("span",{className:"text-[10px] font-bold text-rose-400 uppercase",children:"Over-allocated"})]}),Ie.map((Be,Je)=>a.jsxs("p",{className:"text-[10px] text-rose-300",children:[Be.name,": ",Be.combined,"% total (exceeds by ",Be.excess,"%)"]},Je))]}),(()=>{const Be=new Set(L.map(nt=>nt.portfolioId));return ne.some(nt=>!Be.has(nt.id)&&($e[nt.id]?.total||0)<100)&&a.jsxs("button",{onClick:Ut,className:"flex items-center gap-1.5 text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[a.jsx(Zr,{size:14})," Link Investment"]})})(),a.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2 border-t border-[var(--border-light)]",children:[a.jsx("button",{onClick:jt,className:"px-4 py-1.5 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),a.jsx("button",{onClick:ye,disabled:!D||!Re||K,className:"px-5 py-1.5 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Save"})]})]})]},q.goalId)})}),B>0&&a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-emerald-500/20 p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(eA,{size:14,className:"text-yellow-400"}),a.jsx("p",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Achieved Goals"})]}),a.jsx("div",{className:"flex gap-3 overflow-x-auto no-scrollbar pb-1",children:R.filter(q=>q.status==="Achieved").map(q=>a.jsxs("div",{className:"shrink-0 bg-emerald-500/10 border border-emerald-500/20 rounded-lg px-3 py-2 min-w-[160px]",children:[a.jsx("p",{className:"text-xs font-semibold text-emerald-400",children:q.goalName}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] mt-1",children:Q(q.targetAmount)}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5",children:G(q)})]},q.goalId))})]})]}),a.jsx(hr,{open:!!A,onClose:()=>k(null),title:A?.edit?"Edit Goal":"Add Goal",wide:!0,children:a.jsx(Poe,{initial:A?.edit||void 0,onSave:_e,onDelete:A?.edit?ze:void 0,onCancel:()=>k(null)})}),a.jsx(hr,{open:!!C,onClose:()=>M(null),title:`Withdrawal Plan  ${C?.goalName||""}`,wide:!0,children:C&&a.jsx(Ioe,{goal:C,onClose:()=>M(null)})})]})}function tc({label:e,value:t,sub:r,positive:n,bold:i}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:`text-sm tabular-nums ${i?"font-bold":"font-semibold"} ${n===void 0?"text-[var(--text-primary)]":n?"text-emerald-400":"text-[var(--accent-amber)]"}`,children:t}),r&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:r})]})}const Boe=[{label:"Family Members",desc:"Manage family profiles",icon:Xl,path:"/family",color:"bg-violet-500/15 text-violet-400"},{label:"Investment Accounts",desc:"Demat & trading accounts",icon:gO,path:"/accounts/investment",color:"bg-blue-500/15 text-blue-400"},{label:"Insurance",desc:"Life & health policies",icon:cc,path:"/insurance",color:"bg-cyan-500/15 text-cyan-400"},{label:"Stocks",desc:"Stock portfolio holdings",icon:oc,path:"/investments/stocks",color:"bg-indigo-500/15 text-indigo-400"},{label:"Other Investments",desc:"FD, PPF, Gold, NPS & more",icon:MO,path:"/investments/other",color:"bg-teal-500/15 text-teal-400"},{label:"Liabilities",desc:"Loans & outstanding balances",icon:$h,path:"/liabilities",color:"bg-rose-500/15 text-rose-400"},{label:"Reminders",desc:"View and manage reminders",icon:T1,path:"/reminders",color:"bg-amber-500/15 text-[var(--accent-amber)]"}],$oe=[{label:"Health Check",desc:"Financial health questionnaire",icon:OO,path:"/health-check",color:"bg-emerald-500/15 text-emerald-400"},{label:"Settings",desc:"App configuration",icon:_O,path:"/settings",color:"bg-slate-500/15 text-[var(--text-muted)]"},{label:"About",desc:"Capital Friends v2.0",icon:pB,path:"/about",color:"bg-violet-500/15 text-[var(--accent-violet)]"}];function i_({item:e,onClick:t}){return a.jsxs("button",{onClick:t,className:"w-full flex items-center gap-3 bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-3.5 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[a.jsx("div",{className:`w-9 h-9 rounded-lg flex items-center justify-center shrink-0 ${e.color}`,children:a.jsx(e.icon,{size:17})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:e.label}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)]",children:e.desc})]}),a.jsx(zn,{size:14,className:"text-[var(--text-dim)] shrink-0"})]})}function Hoe(){const e=Zs(),[t,r]=N.useState(!1);return a.jsxs("div",{className:"space-y-5",children:[a.jsx("h1",{className:"text-base font-bold text-[var(--text-primary)]",children:"More"}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-dim)] px-1",children:"Navigate"}),a.jsx("div",{className:"space-y-1.5",children:Boe.map(n=>a.jsx(i_,{item:n,onClick:()=>e(n.path)},n.label))})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-dim)] px-1",children:"Tools & Settings"}),a.jsx("div",{className:"space-y-1.5",children:$oe.map(n=>a.jsx(i_,{item:n,onClick:()=>e(n.path)},n.label))})]}),a.jsx("button",{onClick:()=>r(!0),className:"w-full text-left rounded-xl border border-amber-500/25 p-4 hover:border-amber-500/40 transition-colors",style:{background:"linear-gradient(135deg, rgba(245,158,11,0.06) 0%, rgba(139,92,246,0.04) 100%)"},children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center shrink-0 bg-amber-500/15",children:a.jsx(Ql,{size:20,className:"text-amber-400"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold text-amber-400",children:"Support the Developer"}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5",children:"Capital Friends is free. If it helps, consider a small donation!"})]}),a.jsx(zn,{size:14,className:"text-amber-400/60 shrink-0"})]})}),a.jsx(BN,{open:t,onClose:()=>r(!1)})]})}const rp=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function qoe(){const e=Zs(),{theme:t,toggle:r}=mO(),{members:n,settings:i,updateSettings:l,updateMember:c,healthCheckCompleted:u,refreshData:f,isRefreshing:m}=xt(),{user:p,signOut:x}=lo(),{masked:v,toggleMask:g,mv:j}=Pa(),[y,w]=N.useState(!1),A=n.filter(ee=>ee.status==="Active"),[k,C]=N.useState("Daily"),[M,E]=N.useState("09"),[O,P]=N.useState("Monday"),[T,$]=N.useState(!1),[L,H]=N.useState(!1),[D,Z]=N.useState(!1),[K,J]=N.useState(null),[R,G]=N.useState(!1),[me,we]=N.useState(null);N.useEffect(()=>{!i||!Object.keys(i).length||(i.EmailFrequency&&C(i.EmailFrequency),i.EmailHour!=null&&E(String(i.EmailHour).padStart(2,"0")),i.EmailDayOfWeek!=null&&P(rp[Number(i.EmailDayOfWeek)]||"Monday"))},[i]);async function Ne(){$(!0),H(!1);try{const ee=rp.indexOf(O);await l({EmailFrequency:k==="None"?"None":k,EmailConfigured:k==="None"?"FALSE":"TRUE",EmailHour:String(parseInt(M,10)),EmailMinute:"0",EmailDayOfWeek:String(ee>=0?ee:1)}),H(!0),setTimeout(()=>H(!1),2e3)}catch(ee){alert("Failed to save: "+ee.message)}finally{$(!1)}}async function F(){G(!0),we(null);try{const ee=await qF();we(ee)}catch(ee){we({error:ee.message})}finally{G(!1)}}function ce(ee){if(!ee)return"Never";try{const B=new Date(ee);if(isNaN(B.getTime()))return"Unknown";const z=Date.now(),U=Math.floor((z-B.getTime())/(1e3*60));if(U<1)return"Just now";if(U<60)return U+" min ago";const xe=Math.floor(U/60);return xe<24?xe+"h ago":B.toLocaleDateString("en-IN",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}catch{return"Unknown"}}return a.jsxs("div",{className:"space-y-4 max-w-xl mx-auto",children:[a.jsxs(np,{children:[a.jsx(ap,{icon:a.jsx(c$,{size:14}),title:"Account"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(_l,{label:"Signed in as",children:a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate max-w-[200px]",children:j(p?.email,"email")||""})}),a.jsx(_l,{label:"Name",children:a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:p?.name||""})}),a.jsx("div",{className:"pt-1",children:a.jsxs("button",{onClick:x,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-red-500 border border-red-200 dark:border-red-800/40 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[a.jsx(kO,{size:12}),"Sign Out"]})})]})]}),a.jsxs(np,{children:[a.jsx(ap,{icon:a.jsx(PB,{size:14}),title:"Preferences"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(_l,{label:"Theme",children:a.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-3 py-1.5 text-xs font-semibold rounded-lg border border-[var(--border)] bg-[var(--bg-inset)] text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[t==="dark"?a.jsx(dy,{size:12}):a.jsx(fy,{size:12}),t==="dark"?"Dark":"Light"]})}),a.jsx("div",{className:"border-t border-[var(--border-light)]"}),a.jsx(_l,{label:"Mask sensitive data",children:a.jsx("button",{onClick:g,className:`relative w-9 h-5 rounded-full transition-colors shrink-0 ${v?"bg-amber-500":"bg-[var(--bg-inset)] border border-[var(--border)]"}`,children:a.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full transition-all ${v?"left-[18px] bg-white":"left-0.5 bg-[var(--text-dim)]"}`})})}),a.jsxs("p",{className:"text-[11px] text-[var(--text-dim)]",children:["Hides PAN, Aadhaar, mobile, email & account numbers. Use the ",v?a.jsx(Dp,{size:10,className:"inline text-amber-400"}):a.jsx(Ep,{size:10,className:"inline"})," icon in the header to quickly toggle."]}),v&&a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[a.jsx(Dp,{size:13,className:"text-amber-400 shrink-0"}),a.jsx("p",{className:"text-[11px] text-amber-400 font-medium",children:"Data masking active  safe for screen sharing"})]})]})]}),a.jsxs(np,{children:[a.jsx(ap,{icon:a.jsx(Vz,{size:14}),title:"Data & Sync"}),a.jsxs("div",{className:"px-4 py-4 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"Sync App Data"}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5",children:"Re-fetch all data from your Google Sheet"})]}),a.jsxs("button",{onClick:()=>f(!0),disabled:m,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-lg border border-[var(--border)] text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-50",children:[a.jsx(zz,{size:12,className:m?"animate-pulse":""}),m?"Syncing...":"Sync Now"]})]}),a.jsx("div",{className:"border-t border-[var(--border-light)]"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"Refresh Market Data"}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5",children:"Update MF NAVs, ATH & Stock prices"})]}),a.jsxs("button",{onClick:F,disabled:R,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-lg bg-violet-600 text-white hover:bg-violet-500 transition-colors disabled:opacity-50",children:[a.jsx(_p,{size:12,className:R?"animate-spin":""}),R?"Refreshing...":"Refresh Now"]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-[11px] text-[var(--text-dim)]",children:[a.jsxs("span",{children:["Last: ",a.jsx("span",{className:"font-medium text-[var(--text-muted)]",children:ce(i.masterDataLastSync)})]}),i._stale&&a.jsx("span",{className:"font-bold text-amber-600 px-1.5 py-0.5 rounded bg-amber-100 dark:bg-amber-900/30 text-[10px]",children:"STALE"}),i._navDataDate&&a.jsxs("span",{children:["NAV: ",a.jsx("span",{className:"font-medium text-[var(--text-muted)]",children:i._navDataDate})]})]})]}),me&&a.jsx("div",{className:`text-xs px-3 py-2 rounded-lg ${me.error?"bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400":"bg-green-50 text-green-600 dark:bg-green-900/20 dark:text-green-400"}`,children:me.error?"Failed: "+me.error:`Done  MF: ${me.mf?.count||0} | ATH: ${me.ath?.count||0} | Stocks: ${me.stocks?.count||0} (${me.duration})`})]})]}),a.jsxs(np,{children:[a.jsx(ap,{icon:a.jsx(Hh,{size:14}),title:"Email Reports"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(_l,{label:"Frequency",children:a.jsx(sy,{value:k,onChange:C,options:["Daily","Weekly","Monthly","None"]})}),k!=="None"&&a.jsx(_l,{label:"Send time",children:a.jsx(sy,{value:M,onChange:E,options:Array.from({length:24},(ee,B)=>String(B).padStart(2,"0")),suffix:":00"})}),k==="Weekly"&&a.jsx(_l,{label:"Day",children:a.jsx(sy,{value:O,onChange:P,options:rp.slice(1).concat(rp[0])})}),a.jsx("div",{className:"flex justify-end pt-1",children:a.jsx("button",{onClick:Ne,disabled:T,className:"px-4 py-1.5 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50",children:T?"Saving...":L?"Saved!":"Save"})}),A.length>0&&a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"Send report to"}),a.jsx("div",{className:"space-y-2",children:A.map(ee=>a.jsx(Uoe,{member:ee,onToggle:c},ee.memberId))})]}),A.length===0&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] pt-1",children:"Add family members to configure email recipients."}),a.jsx("div",{className:"border-t border-[var(--border-light)] pt-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-secondary)]",children:"Send Report Now"}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)]",children:"Send wealth report to all enabled members"})]}),a.jsxs("button",{onClick:async()=>{Z(!0),J(null);try{await UF(),J("sent"),setTimeout(()=>J(null),5e3)}catch{J("error"),setTimeout(()=>J(null),5e3)}finally{Z(!1)}},disabled:D,className:"flex items-center gap-1.5 px-3.5 py-1.5 text-xs font-semibold rounded-lg transition-colors disabled:opacity-50",style:{background:K==="sent"?"rgba(16,185,129,0.1)":K==="error"?"rgba(248,113,113,0.1)":"rgba(139,92,246,0.1)",color:K==="sent"?"#34d399":K==="error"?"#f87171":"#a78bfa",border:`1px solid ${K==="sent"?"rgba(16,185,129,0.2)":K==="error"?"rgba(248,113,113,0.2)":"rgba(139,92,246,0.2)"}`},children:[D?a.jsx(_p,{size:12,className:"animate-spin"}):a.jsx(GB,{size:12}),D?"Sending...":K==="sent"?"Sent!":K==="error"?"Failed":"Send Now"]})]})})]})]}),a.jsx("button",{onClick:()=>e("/health-check"),className:"w-full text-left bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden hover:bg-[var(--bg-hover)] transition-colors",children:a.jsxs("div",{className:"flex items-center gap-3 px-4 py-3.5",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shrink-0 bg-amber-500/15",children:a.jsx(OO,{size:15,className:"text-amber-400"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"Financial Health Check"}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)]",children:u?"Completed  update your answers":"Take the health check questionnaire"})]}),u&&a.jsx("span",{className:"text-[10px] font-bold text-emerald-400 px-1.5 py-0.5 rounded bg-emerald-500/10 shrink-0",children:"Done"}),a.jsx(zn,{size:14,className:"text-[var(--text-dim)] shrink-0"})]})}),a.jsx("button",{onClick:()=>w(!0),className:"w-full text-left rounded-xl border border-amber-500/25 p-4 hover:border-amber-500/40 transition-colors",style:{background:"linear-gradient(135deg, rgba(245,158,11,0.06) 0%, rgba(139,92,246,0.04) 100%)"},children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center shrink-0 bg-amber-500/15",children:a.jsx(Ql,{size:20,className:"text-amber-400"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold text-amber-400",children:"Support the Developer"}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5",children:"Capital Friends is free. If it helps your family, consider a small donation!"})]})]})}),a.jsx(BN,{open:y,onClose:()=>w(!1)})]})}function np({children:e}){return a.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:e})}function ap({icon:e,title:t}){return a.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[var(--text-muted)]",children:e}),a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:t})]})})}function _l({label:e,children:t}){return a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] shrink-0",children:e}),t]})}function sy({value:e,onChange:t,options:r,suffix:n}){return a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:e,onChange:i=>t(i.target.value),className:"appearance-none pl-3 pr-7 py-1.5 text-xs font-semibold bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-violet-500 cursor-pointer",children:r.map(i=>a.jsxs("option",{value:i,children:[i,n||""]},i))}),a.jsx(Kl,{size:10,className:"absolute right-2 top-1/2 -translate-y-1/2 text-[var(--text-dim)] pointer-events-none"})]})}function Uoe({member:e,onToggle:t}){const{mv:r}=Pa(),n=e.includeInEmailReports==="Yes"||e.includeInEmailReports===!0,[i,l]=N.useState(n),[c,u]=N.useState(!1);N.useEffect(()=>{l(n)},[n]);async function f(){const m=!i;l(m),u(!0);try{await t(e.memberId,{...e,includeInEmailReports:m?"Yes":"No"})}catch{l(!m)}finally{u(!1)}}return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-violet-100 dark:bg-violet-900/30 flex items-center justify-center shrink-0",children:a.jsx("span",{className:"text-[10px] font-bold text-violet-600",children:e.memberName?.charAt(0)?.toUpperCase()})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate",children:r(e.memberName,"name")}),e.email&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] truncate",children:r(e.email,"email")})]})]}),a.jsx("button",{onClick:f,disabled:c,className:`relative w-9 h-5 rounded-full transition-colors shrink-0 disabled:opacity-50 ${i?"bg-violet-500":"bg-[var(--bg-inset)] border border-[var(--border)]"}`,children:a.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full transition-all ${i?"left-[18px] bg-white":"left-0.5 bg-[var(--text-dim)]"}`})})]})}const Yoe=["SIP Due Date","Insurance Renewal","FD Maturity","Loan EMI","Investment Review","Custom"].map(e=>({value:e,label:e})),Voe=[{value:"One-time",label:"One-time"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"},{value:"Yearly",label:"Yearly"}],Goe=[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}];function Woe({initial:e,onSave:t,onDelete:r,onCancel:n}){const i=!!e,{activeMembers:l}=xt(),c=l.map(w=>({value:w.memberId,label:w.memberName})),[u,f]=N.useState({reminderType:e?.reminderType||"",title:e?.title||"",description:e?.description||"",familyMemberId:e?.familyMemberId||"",dueDate:e?.dueDate||"",advanceNoticeDays:e?.advanceNoticeDays?.toString()||"7",frequency:e?.frequency||"One-time",priority:e?.priority||"Medium",status:e?.status||"Pending"}),[m,p]=N.useState({}),[x,v]=N.useState(!1);function g(w,A){f(k=>({...k,[w]:A})),p(k=>({...k,[w]:void 0}))}function j(){const w={};return u.reminderType||(w.reminderType="Required"),u.title.trim()||(w.title="Required"),u.familyMemberId||(w.familyMemberId="Required"),u.dueDate||(w.dueDate="Required"),p(w),Object.keys(w).length===0}async function y(){if(j()){v(!0);try{await t({...u,advanceNoticeDays:Number(u.advanceNoticeDays)||7})}finally{v(!1)}}}return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(he,{label:"Reminder Type",required:!0,error:m.reminderType,children:a.jsx(tt,{value:u.reminderType,onChange:w=>g("reminderType",w),options:Yoe,placeholder:"Select type..."})}),a.jsx(he,{label:"Title",required:!0,error:m.title,children:a.jsx(Pe,{value:u.title,onChange:w=>g("title",w),placeholder:"e.g., HDFC SIP Due"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(he,{label:"Family Member",required:!0,error:m.familyMemberId,children:a.jsx(tt,{value:u.familyMemberId,onChange:w=>g("familyMemberId",w),options:c,placeholder:"Select member..."})}),a.jsx(he,{label:"Due Date",required:!0,error:m.dueDate,children:a.jsx(Ma,{value:u.dueDate,onChange:w=>g("dueDate",w),maxDate:null})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(he,{label:"Frequency",children:a.jsx(tt,{value:u.frequency,onChange:w=>g("frequency",w),options:Voe})}),a.jsx(he,{label:"Priority",children:a.jsx(tt,{value:u.priority,onChange:w=>g("priority",w),options:Goe})}),a.jsx(he,{label:"Advance Notice (days)",children:a.jsx(Pe,{type:"number",value:u.advanceNoticeDays,onChange:w=>g("advanceNoticeDays",w),placeholder:"7"})})]}),i&&a.jsx(he,{label:"Status",children:a.jsx(tt,{value:u.status,onChange:w=>g("status",w),options:[{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"}]})}),a.jsx(he,{label:"Description",children:a.jsx(Dc,{value:u.description,onChange:w=>g("description",w),placeholder:"Optional details...",rows:2})}),a.jsxs("div",{className:"flex items-center justify-between",children:[i&&r?a.jsx(ls,{onClick:r,label:"Delete"}):a.jsx("div",{}),a.jsx(fn,{onCancel:n,onSubmit:y,submitLabel:i?"Update Reminder":"Add Reminder",loading:x})]})]})}const ip={"SIP Due Date":"bg-violet-500/15 text-[var(--accent-violet)]","Insurance Renewal":"bg-amber-500/15 text-[var(--accent-amber)]","FD Maturity":"bg-blue-500/15 text-[var(--accent-blue)]","Loan EMI":"bg-rose-500/15 text-[var(--accent-rose)]","Investment Review":"bg-emerald-500/15 text-emerald-400",Custom:"bg-slate-500/15 text-[var(--text-muted)]"},s_={High:"bg-rose-500",Medium:"bg-amber-500",Low:"bg-blue-500"};function rc(e){if(!e)return 1/0;const t=new Date(e)-new Date;return Math.ceil(t/(1440*60*1e3))}function Koe(){const{selectedMember:e,member:t}=Hr(),{reminderList:r,addReminder:n,updateReminder:i,deleteReminder:l}=xt(),{showToast:c,showBlockUI:u,hideBlockUI:f}=ui(),m=di(),[p,x]=N.useState(null),v=N.useMemo(()=>{const M=r.filter(E=>E.isActive!==!1);return e==="all"?M:M.filter(E=>E.familyMemberId===e)},[r,e]),g=v.filter(M=>rc(M.dueDate)<0).length,j=v.filter(M=>{const E=rc(M.dueDate);return E>=0&&E<=7}).length,y=v.filter(M=>{const E=rc(M.dueDate);return E>7&&E<=30}).length,w=[...v].sort((M,E)=>{const O=rc(M.dueDate),P=rc(E.dueDate);return O-P});async function A(M){u("Saving...");try{p?.edit?await i(p.edit.reminderId,M):await n(M),c(p?.edit?"Reminder updated":"Reminder added"),x(null)}catch(E){c(E.message||"Failed to save reminder","error")}finally{f()}}async function k(){if(p?.edit&&await m("Delete this reminder?",{title:"Delete Reminder",confirmLabel:"Delete"})){u("Deleting...");try{await l(p.edit.reminderId),c("Reminder deleted"),x(null)}catch(M){c(M.message||"Failed to delete reminder","error")}finally{f()}}}function C(M){const E=rc(M);return E<0?{label:`${Math.abs(E)}d overdue`,cls:"bg-rose-500/20 text-[var(--accent-rose)]"}:E===0?{label:"Today",cls:"bg-rose-500/20 text-[var(--accent-rose)]"}:E<=7?{label:`${E}d`,cls:"bg-amber-500/20 text-[var(--accent-amber)]"}:E<=30?{label:`${E}d`,cls:"bg-blue-500/20 text-[var(--accent-blue)]"}:{label:`${E}d`,cls:"bg-slate-500/20 text-[var(--text-muted)]"}}return a.jsxs("div",{className:"space-y-4",children:[v.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(gz,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No reminders",t?` for ${t.memberName}`:""]}),a.jsx("button",{onClick:()=>x("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add a reminder"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(sp,{label:"Active",value:v.length}),g>0&&a.jsx(sp,{label:"Overdue",value:g,color:"rose"}),j>0&&a.jsx(sp,{label:"Due This Week",value:j,color:"amber"}),a.jsx(sp,{label:"Next 30 Days",value:y})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>x("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Zr,{size:14})," Add Reminder"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[680px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Reminder"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),!t&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Due Date"}),a.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Frequency"}),a.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:w.map(M=>{const E=C(M.dueDate);return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${s_[M.priority]||"bg-slate-400"}`}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:M.title}),M.description&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] truncate max-w-[200px]",children:M.description})]})]})}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${ip[M.reminderType]||ip.Custom}`,children:M.reminderType})}),!t&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:M.familyMemberName}),a.jsx("td",{className:"py-2.5 px-3 text-center",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:M.dueDate}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${E.cls}`,children:E.label})]})}),a.jsx("td",{className:"py-2.5 px-3 text-center text-xs text-[var(--text-muted)]",children:M.frequency}),a.jsx("td",{className:"py-2.5 px-3 text-center",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${M.status==="Pending"?"bg-amber-500/15 text-[var(--accent-amber)]":"bg-emerald-500/15 text-emerald-400"}`,children:M.status})}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>x({edit:M}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(ma,{size:12})})})]},M.reminderId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:w.map(M=>{const E=C(M.dueDate);return a.jsxs("div",{onClick:()=>x({edit:M}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${s_[M.priority]||"bg-slate-400"}`}),a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:M.title})]}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ml-2 ${ip[M.reminderType]||ip.Custom}`,children:M.reminderType})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[M.familyMemberName,"  ",M.frequency]}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${E.cls}`,children:E.label})]})]},M.reminderId)})})]})]}),a.jsx(hr,{open:!!p,onClose:()=>x(null),title:p?.edit?"Edit Reminder":"Add Reminder",wide:!0,children:a.jsx(Woe,{initial:p?.edit||void 0,onSave:A,onDelete:p?.edit?k:void 0,onCancel:()=>x(null)})})]})}function sp({label:e,value:t,color:r}){const n=r==="rose"?"text-[var(--accent-rose)]":r==="amber"?"text-[var(--accent-amber)]":"text-[var(--text-primary)]";return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:`text-sm font-bold tabular-nums ${n}`,children:t})]})}const l_={BUY:"bg-emerald-500/15 text-emerald-400",SELL:"bg-rose-500/15 text-[var(--accent-rose)]"},Qoe={INITIAL:"bg-violet-500/15 text-[var(--accent-violet)]",SIP:"bg-blue-500/15 text-[var(--accent-blue)]",LUMPSUM:"bg-emerald-500/15 text-emerald-400",WITHDRAWAL:"bg-amber-500/15 text-[var(--accent-amber)]",SWITCH:"bg-orange-500/15 text-[var(--accent-orange)]"};function Xoe(){const{selectedMember:e}=Hr(),{mfTransactions:t,mfPortfolios:r,stockTransactions:n,stockPortfolios:i}=xt(),[l,c]=N.useState("mf"),[u,f]=N.useState("all"),m=N.useMemo(()=>{let y=[...t].sort((w,A)=>new Date(A.date)-new Date(w.date));if(e!=="all"){const w=new Set(r.filter(A=>A.ownerId===e).map(A=>A.portfolioId));y=y.filter(A=>w.has(A.portfolioId))}return u!=="all"&&(y=y.filter(w=>w.type===u)),y},[t,r,e,u]),p=N.useMemo(()=>{let y=[...n].sort((w,A)=>new Date(A.date)-new Date(w.date));if(e!=="all"){const w=new Set(i.filter(A=>A.ownerId===e).map(A=>A.portfolioId));y=y.filter(A=>w.has(A.portfolioId))}return u!=="all"&&(y=y.filter(w=>w.type===u)),y},[n,i,e,u]),x=l==="mf"?m:p,v=x.filter(y=>y.type==="BUY").reduce((y,w)=>y+(w.totalAmount||0),0),g=x.filter(y=>y.type==="SELL").reduce((y,w)=>y+(w.totalAmount||0),0),j=x.reduce((y,w)=>y+(w.gainLoss||w.realizedPL||0),0);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(lp,{label:"Transactions",value:x.length}),a.jsx(lp,{label:"Total Bought",value:Q(v)}),a.jsx(lp,{label:"Total Sold",value:Q(g)}),a.jsx(lp,{label:"Realized P&L",value:`${j>=0?"+":""}${Q(Math.abs(j))}`,positive:j>=0,bold:!0})]}),a.jsxs("div",{className:"flex items-center justify-between px-1",children:[a.jsx("div",{className:"flex gap-1",children:["mf","stocks"].map(y=>a.jsx("button",{onClick:()=>c(y),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${l===y?"bg-violet-500/20 text-violet-400 border border-violet-500/30":"text-[var(--text-dim)] hover:text-[var(--text-primary)] border border-transparent"}`,children:y==="mf"?"Mutual Funds":"Stocks"},y))}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(jO,{size:12,className:"text-[var(--text-dim)]"}),["all","BUY","SELL"].map(y=>a.jsx("button",{onClick:()=>f(y),className:`px-2 py-1 text-xs font-semibold rounded transition-colors ${u===y?"bg-[var(--bg-card)] text-[var(--text-primary)] border border-[var(--border)]":"text-[var(--text-dim)] hover:text-[var(--text-muted)]"}`,children:y==="all"?"All":y},y))]})]}),a.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:x.length===0?a.jsxs("div",{className:"py-12 flex flex-col items-center gap-3",children:[a.jsx(iB,{size:32,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions found"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:l==="mf"?"Fund":"Stock"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Portfolio"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:l==="mf"?"Units":"Qty"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:l==="mf"?"NAV":"Price"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"})]})}),a.jsx("tbody",{children:x.map(y=>{const w=y.gainLoss||y.realizedPL||0;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-muted)] tabular-nums",children:y.date}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${l_[y.type]||""}`,children:y.type}),y.transactionType&&a.jsx("span",{className:`text-[10px] font-semibold px-1 py-0.5 rounded ${Qoe[y.transactionType]||""}`,children:y.transactionType})]})}),a.jsxs("td",{className:"py-2.5 px-3",children:[y.fundName?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate max-w-[180px]",children:Le(y.fundName).main}),Le(y.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(y.fundName).plan})]}):a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate max-w-[180px]",children:y.companyName}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:y.fundCode||y.symbol})]}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)]",children:y.portfolioName||""}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:(y.units||y.quantity||0).toFixed(l==="mf"?2:0)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:Q(y.price||y.pricePerShare||0)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(y.totalAmount||0)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:w!==0?a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${w>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[w>=0?"+":"",Q(Math.abs(w))]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})]},y.transactionId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:x.map(y=>(y.gainLoss||y.realizedPL,a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("div",{className:"flex-1 min-w-0 mr-2",children:y.fundName?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:Le(y.fundName).main}),Le(y.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(y.fundName).plan})]}):a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:y.companyName})}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded shrink-0 ${l_[y.type]||""}`,children:y.type})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[y.date,"  ",y.portfolioName]}),a.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[a.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[(y.units||y.quantity||0).toFixed(l==="mf"?2:0)," @ ",Q(y.price||y.pricePerShare||0)]}),a.jsx("span",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:Q(y.totalAmount||0)})]})]},y.transactionId)))})]})})]})}function lp({label:e,value:t,positive:r,bold:n}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:`text-sm tabular-nums ${n?"font-bold":"font-semibold"} ${r===void 0?"text-[var(--text-primary)]":r?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:t})]})}const Va=[{id:"healthIns",question:"Does your family have Health Insurance?",tip:"50L to 1Cr family floater recommended (considering inflation & future expenses)",category:"Insurance",autoFromPolicies:!0},{id:"termLife",question:"Do you have adequate Term Life Insurance?",tip:"Recommended: 10-15x annual income",category:"Insurance",autoFromPolicies:!0},{id:"emergencyFund",question:"Do you have an Emergency Fund?",tip:"6-12 months of monthly expenses in liquid assets",category:"Savings"},{id:"familyAware",question:"Is your family aware of all investments?",tip:"Ensure nominees and family know about all assets",category:"Planning"},{id:"hasWill",question:"Do you have a Will?",tip:"Legal document for asset distribution",category:"Planning"},{id:"nominees",question:"Have you updated Nominees on all accounts?",tip:"Bank, demat, insurance, MF  all should have nominees",category:"Planning"},{id:"goals",question:"Do you have clearly defined Financial Goals?",tip:"Retirement, education, home  with target amounts and dates",category:"Goals"}];function Zoe(){const e=Zs(),{members:t,insurancePolicies:r,goalList:n,otherInvList:i,healthCheckCompleted:l,completeHealthCheck:c}=xt(),u=t.filter(L=>L.status==="Active"),f=l===!1,[m,p]=N.useState(!1),[x,v]=N.useState(!0),[g,j]=N.useState(null),y=N.useMemo(()=>{const L={},H=r.filter(J=>J.policyType==="Health"&&J.status==="Active");L.healthIns=H.length>0;const D=r.filter(J=>J.policyType==="Term Life"&&J.status==="Active");L.termLife=D.length>0;const Z=n.filter(J=>J.goalType==="Emergency Fund"&&J.isActive),K=i.filter(J=>J.investmentType==="FD"||J.investmentType==="PPF");return L.emergencyFund=Z.length>0||K.length>0,L.goals=n.filter(J=>J.isActive).length>=2,L},[r,n,i]);N.useEffect(()=>{let L=!1;async function H(){const D=await cO("healthCheckAnswers");!L&&D&&(j(D),v(!1));try{const Z=await oO();!L&&Z&&(j(Z),ln("healthCheckAnswers",Z))}catch{}L||v(!1)}return H(),()=>{L=!0}},[]);const[w,A]=N.useState(()=>{const L={};return Va.forEach(H=>{L[H.id]=H.autoFromPolicies?y[H.id]?"yes":"no":y[H.id]?"yes":""}),L});N.useEffect(()=>{g&&A(L=>{const H={...L};return Va.forEach(D=>{if(D.autoFromPolicies)H[D.id]=y[D.id]?"yes":"no";else{const Z=g[D.id];Z==="Yes"?H[D.id]="yes":Z==="No"&&(H[D.id]="no")}}),H})},[g,y]);const k=Object.values(w).filter(L=>L).length,C=Object.values(w).filter(L=>L==="yes").length,M=k===Va.length,E=k>0?Math.round(C/Va.length*100):0;function O(){return E>=80?"text-emerald-400":E>=50?"text-[var(--accent-amber)]":"text-[var(--accent-rose)]"}function P(){return E>=80?"Excellent":E>=60?"Good":E>=40?"Needs Work":"Critical"}const T=N.useMemo(()=>{const L=[];return w.healthIns!=="yes"&&L.push({severity:"critical",text:"Get Health Insurance for your family",action:"Minimum 5L cover recommended"}),w.termLife!=="yes"&&L.push({severity:"critical",text:"Get Term Life Insurance (10-15x annual income)",action:"Compare plans online"}),w.emergencyFund!=="yes"&&L.push({severity:"warning",text:"Build an Emergency Fund",action:"Save 6-12 months expenses in liquid fund/FD"}),w.familyAware!=="yes"&&L.push({severity:"warning",text:"Share investment details with family",action:"Create a document with all account info"}),w.hasWill!=="yes"&&L.push({severity:"warning",text:"Create a legal Will",action:"Consult a lawyer for Will registration"}),w.nominees!=="yes"&&L.push({severity:"warning",text:"Update nominees on all accounts",action:"Check bank, demat, insurance, MF accounts"}),w.goals!=="yes"&&L.push({severity:"info",text:"Define clear financial goals",action:"Use the Goal Planner to set targets"}),L},[w]),$=N.useCallback(async()=>{if(M){p(!0);try{const L={};Va.forEach(H=>{L[H.id]=w[H.id]==="yes"?"Yes":"No"}),L.score=C,L.total=Va.length,await c(L),e("/dashboard")}catch(L){console.error("Failed to save health check:",L)}finally{p(!1)}}},[M,w,C,c,e]);return a.jsxs("div",{className:"space-y-4 max-w-2xl mx-auto",children:[f&&a.jsxs("div",{className:"bg-violet-500/10 border border-violet-500/20 rounded-xl p-4",children:[a.jsx("h2",{className:"text-base font-bold text-violet-400 mb-1",children:"Welcome to Capital Friends!"}),a.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Before you start, please complete this quick Financial Health Check. It takes less than a minute and helps you understand where your family stands financially."})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(wO,{size:16,className:"text-violet-400"}),a.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:"Financial Health Score"})]}),a.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[k,"/",Va.length," answered"]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative w-20 h-20",children:[a.jsxs("svg",{className:"w-20 h-20 -rotate-90",viewBox:"0 0 36 36",children:[a.jsx("path",{d:"M18 2.0845a 15.9155 15.9155 0 0 1 0 31.831a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"var(--border)",strokeWidth:"3"}),a.jsx("path",{d:"M18 2.0845a 15.9155 15.9155 0 0 1 0 31.831a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:`${E}, 100`,className:O(),strokeLinecap:"round"})]}),a.jsxs("span",{className:`absolute inset-0 flex items-center justify-center text-lg font-bold ${O()}`,children:[E,"%"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:`text-base font-bold ${O()}`,children:P()}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:[C," of ",Va.length," checks passed"]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[u.length," family members tracked"]})]})]})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Health Check Questions"})}),a.jsx("div",{className:"divide-y divide-[var(--border-light)]",children:Va.map((L,H)=>{const D=L.autoFromPolicies;return a.jsxs("div",{className:`px-4 py-3 ${D?"opacity-80":""}`,children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"text-sm text-[var(--text-primary)]",children:[a.jsxs("span",{className:"text-[var(--text-dim)] mr-2",children:[H+1,"."]}),L.question]}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5 ml-5",children:L.tip})]}),a.jsxs("div",{className:"flex gap-1 shrink-0",children:[a.jsx("button",{onClick:()=>!D&&A(Z=>({...Z,[L.id]:"yes"})),disabled:D,className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${w[L.id]==="yes"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"bg-[var(--bg-inset)] text-[var(--text-dim)] border border-[var(--border)] hover:text-[var(--text-primary)]"} ${D?"cursor-not-allowed":""}`,children:"Yes"}),a.jsx("button",{onClick:()=>!D&&A(Z=>({...Z,[L.id]:"no"})),disabled:D,className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${w[L.id]==="no"?"bg-rose-500/20 text-[var(--accent-rose)] border border-rose-500/30":"bg-[var(--bg-inset)] text-[var(--text-dim)] border border-[var(--border)] hover:text-[var(--text-primary)]"} ${D?"cursor-not-allowed":""}`,children:"No"})]})]}),D&&a.jsx("p",{className:"text-xs text-violet-400 mt-1 ml-5",children:y[L.id]?"Auto-detected: policy found in your data":"Auto-set: add a policy under Insurance to update"})]},L.id)})})]}),T.length>0&&M&&a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Recommendations"})}),a.jsx("div",{className:"divide-y divide-[var(--border-light)]",children:T.map((L,H)=>{const D=L.severity==="critical"?a.jsx(yO,{size:14,className:"text-[var(--accent-rose)]"}):L.severity==="warning"?a.jsx(Vs,{size:14,className:"text-[var(--accent-amber)]"}):a.jsx(Pz,{size:14,className:"text-[var(--accent-blue)]"});return a.jsxs("div",{className:"flex items-start gap-3 px-4 py-3",children:[a.jsx("span",{className:"shrink-0 mt-0.5",children:D}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-[var(--text-primary)]",children:L.text}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:L.action})]})]},H)})})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[!M&&a.jsxs("p",{className:"text-xs text-[var(--accent-amber)] mb-3",children:["Please answer all ",Va.length," questions before saving."]}),a.jsx("button",{onClick:$,disabled:!M||m,className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg text-sm font-bold transition-colors ${M&&!m?"bg-violet-600 hover:bg-violet-500 text-white":"bg-[var(--bg-inset)] text-[var(--text-dim)] cursor-not-allowed"}`,children:m?a.jsxs(a.Fragment,{children:[a.jsx(pc,{size:16,className:"animate-spin"}),"Saving..."]}):f?a.jsxs(a.Fragment,{children:["Save & Continue to Dashboard",a.jsx(pz,{size:16})]}):a.jsxs(a.Fragment,{children:[a.jsx(EO,{size:16}),"Update Health Check"]})})]})]})}const Joe=[{icon:oc,color:"text-violet-400 bg-violet-500/15",text:"Track Mutual Funds, Stocks & Other Investments"},{icon:Xl,color:"text-blue-400 bg-blue-500/15",text:"Family member-wise portfolio management"},{icon:Id,color:"text-emerald-400 bg-emerald-500/15",text:"Goal planning with portfolio mapping"},{icon:cc,color:"text-cyan-400 bg-cyan-500/15",text:"Insurance, Liabilities & Bank Accounts"},{icon:e$,color:"text-amber-400 bg-amber-500/15",text:"ATH-based Buy Opportunities & Smart Rebalancing"},{icon:Hh,color:"text-rose-400 bg-rose-500/15",text:"Email reports, Reminders & Financial Health Check"}];function ece(){return a.jsxs("div",{className:"space-y-4 max-w-lg mx-auto",children:[a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-6 text-center",children:[a.jsx("img",{src:"/logo-new.png",alt:"Capital Friends",className:"h-16 w-auto mx-auto mb-3"}),a.jsxs("h1",{className:"text-lg font-bold text-[var(--text-primary)]",style:{fontFamily:"'Poppins', sans-serif"},children:[a.jsx("span",{children:"Capital"}),a.jsx("span",{className:"text-emerald-400",children:"Friends"})]}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"Family Portfolio Manager"}),a.jsxs("div",{className:"flex items-center justify-center gap-3 mt-3",children:[a.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-lg text-[11px] font-semibold bg-violet-500/10 text-violet-400",children:"v1.0"}),a.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-lg text-[11px] font-medium bg-emerald-500/10 text-emerald-400",children:"Open Source"})]})]}),a.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:a.jsx("p",{className:"text-[13px] text-[var(--text-secondary)] leading-relaxed",children:"Capital Friends helps Indian families track, manage, and grow their wealth  all from a single Google Sheet powered by a modern web app."})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Features"})}),a.jsx("div",{className:"px-4 py-3 space-y-3",children:Joe.map(e=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-7 h-7 rounded-lg flex items-center justify-center shrink-0 ${e.color}`,children:a.jsx(e.icon,{size:14})}),a.jsx("p",{className:"text-xs text-[var(--text-secondary)]",children:e.text})]},e.text))})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Links & Feedback"})}),a.jsxs("div",{className:"divide-y divide-[var(--border-light)]",children:[a.jsxs("a",{href:"https://github.com/jagadeeshkmanne/capital-friends",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center shrink-0 bg-slate-500/15 text-[var(--text-muted)]",children:a.jsx(oB,{size:17})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:"GitHub Repository"}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)]",children:"View source code and contribute"})]}),a.jsx(zn,{size:14,className:"text-[var(--text-dim)] shrink-0"})]}),a.jsxs("a",{href:"https://capitalfriends.in",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center shrink-0 bg-emerald-500/15 text-emerald-400",children:a.jsx(SO,{size:17})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:"capitalfriends.in"}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)]",children:"Official website"})]}),a.jsx(zn,{size:14,className:"text-[var(--text-dim)] shrink-0"})]}),a.jsxs("a",{href:"https://github.com/jagadeeshkmanne/capital-friends/issues/new?labels=enhancement&template=feature_request.md&title=%5BFeature%5D+",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center shrink-0 bg-violet-500/15 text-violet-400",children:a.jsx(EB,{size:17})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:"Request a Feature"}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)]",children:"Suggest new features or improvements"})]}),a.jsx(zn,{size:14,className:"text-[var(--text-dim)] shrink-0"})]}),a.jsxs("a",{href:"https://github.com/jagadeeshkmanne/capital-friends/issues/new?labels=bug&template=bug_report.md&title=%5BBug%5D+",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center shrink-0 bg-rose-500/15 text-rose-400",children:a.jsx(Nz,{size:17})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:"Report a Bug"}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)]",children:"Found something wrong? Let us know"})]}),a.jsx(zn,{size:14,className:"text-[var(--text-dim)] shrink-0"})]})]})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Contact"})}),a.jsxs("a",{href:"mailto:jagadeesh.k.manne@gmail.com",className:"flex items-center gap-3 px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center shrink-0 bg-blue-500/15 text-blue-400",children:a.jsx(Hh,{size:17})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:"jagadeesh.k.manne@gmail.com"}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)]",children:"Questions, feedback, or just say hi"})]}),a.jsx(zn,{size:14,className:"text-[var(--text-dim)] shrink-0"})]})]}),a.jsxs("div",{className:"text-center py-3",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Built with ",a.jsx(Ql,{size:10,className:"inline text-pink-400 mx-0.5"})," by Jagadeesh Manne"]}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-1",children:"React + Vite + Tailwind CSS + Google Apps Script"})]})]})}function tce(){return Date.now().toString(36).toUpperCase()}function rce(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",t=r=>Array.from({length:r},()=>e[Math.floor(Math.random()*26)]).join("");return t(5)+Math.floor(1e3+Math.random()*9e3)+t(1)}function nce(){return String(Math.floor(2e11+Math.random()*8e11))}function o_(){return"9"+String(Math.floor(1e8+Math.random()*9e8))}function ace(){return String(Math.floor(1e9+Math.random()*9e9))}function ice(){const e=tce();return{member:{memberName:`Test Member ${e}`,relationship:"Self",pan:rce(),aadhar:nce(),email:`test-${e.toLowerCase()}@example.com`,mobile:o_(),includeInEmailReports:!0},bank:{accountName:`Test Savings ${e}`,bankName:"Test Bank",accountNumber:ace(),ifscCode:"TEST0001234",accountType:"Savings",branchName:"Test Branch"},investmentAccount:{accountName:`Test Demat ${e}`,accountType:"Demat",platformBroker:"Test Broker Platform",accountClientId:`CLI-${e}`,registeredEmail:`test-${e.toLowerCase()}@example.com`,registeredPhone:o_()},insurance:{policyType:"Term Life",company:"Test Insurance Co",policyNumber:`POL-${e}`,policyName:`Test Term Plan ${e}`,sumAssured:5e6,nominee:"Test Nominee",dynamicFields:{Premium:15e3,"Premium Frequency":"Annual"}},liability:{liabilityType:"Home Loan",lenderName:"Test Bank",outstandingBalance:45e5,dynamicFields:{"Principal Amount":5e6,"Interest Rate":8.5,"EMI Amount":45e3},notes:`Test liability ${e}`},otherInvestment:{investmentType:"Fixed Deposit",investmentName:`Test FD ${e}`,investedAmount:1e5,currentValue:105e3,investmentCategory:"Debt"},stockPortfolio:{portfolioName:`Test Stock Portfolio ${e}`,broker:"Test Broker"},reminder:{title:`Test Reminder ${e}`,description:"Automated test reminder",dueDate:new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0],category:"Insurance",priority:"Medium"},goal:{goalName:`Test Goal ${e}`,goalType:"Custom",targetAmount:1e6,targetDate:"2040-01-01",priority:"Medium",expectedInflation:.06,expectedCAGR:.12}}}function sce({status:e,text:t}){const r={pass:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",fail:"bg-rose-500/20 text-rose-400 border-rose-500/30",skip:"bg-amber-500/20 text-amber-400 border-amber-500/30",running:"bg-blue-500/20 text-blue-400 border-blue-500/30",pending:"bg-gray-500/20 text-gray-400 border-gray-500/30"};return a.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded border ${r[e]||r.pending}`,children:t||e.toUpperCase()})}function lce(){const{user:e}=lo(),[t,r]=N.useState([]),[n,i]=N.useState(!1),[l,c]=N.useState(null),[u,f]=N.useState(!1),m=N.useCallback((w,A,k="")=>{r(C=>[...C,{test:w,status:A,detail:k,time:new Date().toLocaleTimeString()}])},[]),p=N.useCallback((w,A="")=>{r(k=>{const C=[...k];return C.length>0&&(C[C.length-1]={...C[C.length-1],status:w,detail:A}),C})},[]),x=async()=>{f(!0),c(null);try{const w=await Oe("test:diagnose");c(w)}catch(w){c({error:w.message})}finally{f(!1)}},v=async()=>{i(!0),r([]);const w=ice();let A=null,k=null,C=null,M=null,E=null,O=null,P=null,T=null,$=null,L=null;try{m("API Echo Test","running");try{const D=await Oe("test:echo",{hello:"world"});D&&D.echo&&D.echo.hello==="world"?p("pass","Echo response received correctly"):p("fail","Unexpected response: "+JSON.stringify(D))}catch(D){p("fail",D.message)}m("Diagnostics","running");try{const D=await Oe("test:diagnose"),Z=Object.entries(D.sheets||{}).filter(([,J])=>!J.exists).map(([J])=>J);if(Z.length>0)p("fail",`Missing sheets: ${Z.join(", ")}`);else{const J=Object.keys(D.sheets).length;p("pass",`All ${J} sheets exist. SpreadsheetId: ${D.spreadsheetId}`)}const K=Object.entries(D.dataTests||{}).filter(([,J])=>!J.success).map(([J,R])=>`${J}: ${R.error}`);K.length>0&&m("Data Function Errors","fail",K.join("; "))}catch(D){p("fail",D.message)}m("Load All Data (bulk)","running");try{const D=await Mp(),Z=Object.entries(D).map(([K,J])=>`${K}: ${Array.isArray(J)?J.length:"?"}`);p("pass",Z.join(", "))}catch(D){p("fail",D.message)}m("Members  Create","running");try{const D=await I_(w.member);A=D?.memberId,k=w.member.memberName,A?p("pass",`Created: ${A}`):p("fail","No memberId returned: "+JSON.stringify(D))}catch(D){p("fail",D.message)}m("Members  List","running");try{const D=await P_();Array.isArray(D)&&D.some(K=>K.memberId===A)?p("pass",`Found ${A} in ${D.length} member(s)`):p("fail",`Member ${A} not found. Got ${Array.isArray(D)?D.length:0} members: ${JSON.stringify(D).substring(0,200)}`)}catch(D){p("fail",D.message)}if(A){m("Members  Update","running");try{await R_({...w.member,memberId:A,memberName:"Updated Test Member"}),k="Updated Test Member",p("pass",'Updated name to "Updated Test Member"')}catch(D){p("fail",D.message)}}m("Banks  Create","running");try{const D=await z_({...w.bank,memberId:A||"FM-001"});C=D?.accountId,p(C?"pass":"fail",C?`Created: ${C}`:"No accountId: "+JSON.stringify(D))}catch(D){p("fail",D.message)}m("Banks  List","running");try{const D=await F_();p("pass",`${Array.isArray(D)?D.length:0} account(s)`)}catch(D){p("fail",D.message)}m("Investment Accounts  Create","running");try{const D=await H_({...w.investmentAccount,memberId:A||"FM-001",bankAccountId:C||"BA-001"});M=D?.accountId,p(M?"pass":"fail",M?`Created: ${M}`:"No accountId: "+JSON.stringify(D))}catch(D){p("fail",D.message)}m("Investment Accounts  List","running");try{const D=await $_();p("pass",`${Array.isArray(D)?D.length:0} account(s)`)}catch(D){p("fail",D.message)}m("Insurance  Create","running");try{const D=await W_({...w.insurance,memberId:A||"FM-001",insuredMember:k||"Test Member"});E=D?.policyId,p(E?"pass":"fail",E?`Created: ${E}`:"No policyId: "+JSON.stringify(D))}catch(D){p("fail",D.message)}m("Insurance  List","running");try{const D=await G_();p("pass",`${Array.isArray(D)?D.length:0} policy/policies`)}catch(D){p("fail",D.message)}m("Liabilities  Create","running");try{const D=await X_({...w.liability,familyMember:A||"FM-001"});O=D?.liabilityId,p(O?"pass":"fail",O?`Created: ${O}`:"No liabilityId: "+JSON.stringify(D))}catch(D){p("fail",D.message)}m("Liabilities  List","running");try{const D=await Q_();p("pass",`${Array.isArray(D)?D.length:0} liability/liabilities`)}catch(D){p("fail",D.message)}m("Other Investments  Create","running");try{const D=await eO({...w.otherInvestment,familyMember:A||"FM-001"});P=D?.investmentId,p(P?"pass":"fail",P?`Created: ${P}`:"No investmentId: "+JSON.stringify(D))}catch(D){p("fail",D.message)}m("Other Investments  List","running");try{const D=await J_();p("pass",`${Array.isArray(D)?D.length:0} investment(s)`)}catch(D){p("fail",D.message)}m("Stock Portfolios  Create","running");try{const D=await nO({...w.stockPortfolio,owner:A||"FM-001"});T=D?.portfolioId,p(T?"pass":"fail",T?`Created: ${T}`:"No portfolioId: "+JSON.stringify(D))}catch(D){p("fail",D.message)}m("Stock Portfolios  List","running");try{const D=await rO();p("pass",`${Array.isArray(D)?D.length:0} portfolio(s)`)}catch(D){p("fail",D.message)}m("Reminders  Create","running");try{const D=await sO(w.reminder);$=D?.reminderId,p($?"pass":"fail",$?`Created: ${$}`:"No reminderId: "+JSON.stringify(D))}catch(D){p("fail",D.message)}m("Reminders  List","running");try{const D=await iO();p("pass",`${Array.isArray(D)?D.length:0} reminder(s)`)}catch(D){p("fail",D.message)}m("Goals  Create","running");try{const D=await Y_(w.goal);L=D?.goalId,p(L?"pass":"fail",L?`Created: ${L}`:"No goalId: "+JSON.stringify(D))}catch(D){p("fail",D.message)}m("Goals  List","running");try{const D=await U_();p("pass",`${Array.isArray(D)?D.length:0} goal(s)`)}catch(D){p("fail",D.message)}m("Cleanup  Delete test data","running");const H=[];if(L)try{await V_(L)}catch(D){H.push("goal: "+D.message)}if($)try{await lO($)}catch(D){H.push("reminder: "+D.message)}if(T)try{await aO(T)}catch(D){H.push("stockPortfolio: "+D.message)}if(P)try{await tO(P)}catch(D){H.push("otherInv: "+D.message)}if(O)try{await Z_(O)}catch(D){H.push("liability: "+D.message)}if(E)try{await K_(E)}catch(D){H.push("insurance: "+D.message)}if(M)try{await q_(M)}catch(D){H.push("invAcct: "+D.message)}if(C)try{await B_(C)}catch(D){H.push("bank: "+D.message)}if(A)try{await L_(A)}catch(D){H.push("member: "+D.message)}H.length>0?p("fail",H.join("; ")):p("pass","All test data cleaned up"),m("Final Load All (post-cleanup)","running");try{const D=await Mp(),Z=Object.entries(D).map(([K,J])=>`${K}: ${Array.isArray(J)?J.length:"?"}`);p("pass",Z.join(", "))}catch(D){p("fail",D.message)}}catch(H){m("UNEXPECTED ERROR","fail",H.message)}finally{i(!1)}},g=t.filter(w=>w.status==="pass").length,j=t.filter(w=>w.status==="fail").length,y=t.filter(w=>w.status!=="running").length;return a.jsx("div",{className:"min-h-screen bg-[var(--bg-main)] p-4 max-w-3xl mx-auto",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-bold text-[var(--text-primary)]",children:"API Test Suite"}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Signed in as ",e?.email||"unknown"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:x,disabled:u||n,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-[var(--bg-card)] border border-[var(--border)] text-[var(--text-secondary)] hover:bg-[var(--bg-elevated)] disabled:opacity-50 cursor-pointer",children:u?"Running...":"Diagnostics"}),a.jsx("button",{onClick:v,disabled:n,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-violet-600 text-white hover:bg-violet-700 disabled:opacity-50 cursor-pointer",children:n?"Running Tests...":"Run All Tests"})]})]}),y>0&&a.jsxs("div",{className:"flex gap-3 text-xs",children:[a.jsxs("span",{className:"text-emerald-400",children:["Pass: ",g]}),a.jsxs("span",{className:"text-rose-400",children:["Fail: ",j]}),a.jsxs("span",{className:"text-[var(--text-dim)]",children:["Total: ",y]})]}),l&&a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4 space-y-3",children:[a.jsx("h2",{className:"text-sm font-semibold text-[var(--text-primary)]",children:"Diagnostics Report"}),l.error?a.jsx("p",{className:"text-xs text-rose-400",children:l.error}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-xs text-[var(--text-secondary)] space-y-1",children:[a.jsxs("p",{children:[a.jsx("span",{className:"text-[var(--text-dim)]",children:"Spreadsheet:"})," ",l.spreadsheetName]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-[var(--text-dim)]",children:"ID:"})," ",a.jsx("code",{className:"text-[10px]",children:l.spreadsheetId})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-medium text-[var(--text-primary)] mb-1",children:"Sheets"}),a.jsx("div",{className:"grid grid-cols-2 gap-1",children:Object.entries(l.sheets||{}).map(([w,A])=>a.jsxs("div",{className:"flex items-center justify-between text-[11px] px-2 py-1 rounded bg-[var(--bg-elevated)]",children:[a.jsx("span",{className:"text-[var(--text-secondary)] truncate",children:w}),A.exists?a.jsxs("span",{className:"text-emerald-400 ml-1",children:[A.dataRows,"r"]}):a.jsx("span",{className:"text-rose-400 ml-1",children:"MISSING"})]},w))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-medium text-[var(--text-primary)] mb-1",children:"Data Functions"}),a.jsx("div",{className:"space-y-1",children:Object.entries(l.dataTests||{}).map(([w,A])=>a.jsxs("div",{className:"flex items-center justify-between text-[11px] px-2 py-1 rounded bg-[var(--bg-elevated)]",children:[a.jsx("span",{className:"text-[var(--text-secondary)]",children:w}),A.success?a.jsxs("span",{className:"text-emerald-400",children:[A.count," items"]}):a.jsx("span",{className:"text-rose-400 truncate ml-2 max-w-[200px]",title:A.error,children:A.error})]},w))})]}),l.safeCallErrors&&l.safeCallErrors.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-medium text-rose-400 mb-1",children:"SafeCall Errors"}),l.safeCallErrors.map((w,A)=>a.jsxs("p",{className:"text-[11px] text-rose-400",children:[w.fn,": ",w.error]},A))]})]})]}),t.length>0&&a.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:a.jsx("div",{className:"divide-y divide-[var(--border)]",children:t.map((w,A)=>a.jsxs("div",{className:"px-4 py-2 flex items-start gap-3",children:[a.jsx("div",{className:"mt-0.5 shrink-0",children:a.jsx(sce,{status:w.status})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:w.test}),w.detail&&a.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5 break-all",children:w.detail})]}),a.jsx("span",{className:"text-[10px] text-[var(--text-dim)] shrink-0",children:w.time})]},A))})}),t.length===0&&!l&&a.jsxs("div",{className:"text-center py-12 text-[var(--text-dim)]",children:[a.jsx("p",{className:"text-sm",children:'Click "Run All Tests" to test all CRUD operations'}),a.jsx("p",{className:"text-xs mt-1",children:'or "Diagnostics" to check spreadsheet structure'})]})]})})}const oce="modulepreload",cce=function(e){return"/"+e},c_={},op=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let f=function(m){return Promise.all(m.map(p=>Promise.resolve(p).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");i=f(r.map(m=>{if(m=cce(m),m in c_)return;c_[m]=!0;const p=m.endsWith(".css"),x=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${x}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":oce,p||(v.as="script"),v.crossOrigin="",v.href=m,u&&v.setAttribute("nonce",u),document.head.appendChild(v),p)return new Promise((g,j)=>{v.addEventListener("load",g),v.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return i.then(c=>{for(const u of c||[])u.status==="rejected"&&l(u.reason);return t().catch(l)})};function u_(e){return e>=0?"text-emerald-400":"text-red-400"}function cp(e){return e>=0?"+":""}function uce(e){if(!e)return"Other";const t=e.toLowerCase();return t.includes("gold")||t.includes("silver")||t.includes("commodity")?"Commodity":t.includes("liquid")||t.includes("money market")||t.includes("overnight")?"Liquid":t.includes("gilt")||t.includes("government securities")||t.includes("constant maturity")?"Gilt":t.includes("elss")||t.includes("tax saver")?"ELSS":t.includes("debt")||t.includes("bond")||t.includes("income fund")||t.includes("corporate bond")||t.includes("banking & psu")||t.includes("short duration")||t.includes("medium duration")||t.includes("long duration")||t.includes("short term")||t.includes("medium term")||t.includes("floater")||t.includes("floating rate")||t.includes("credit")||t.includes("accrual")||t.includes("savings fund")||t.includes("ultra short")?"Debt":t.includes("multi asset")?"Multi-Asset":t.includes("hybrid")||t.includes("balanced")||t.includes("dynamic asset")||t.includes("arbitrage")||t.includes("retirement")||t.includes("children")||t.includes("pension")?"Hybrid":t.includes("equity")||t.includes("flexi cap")||t.includes("large cap")||t.includes("mid cap")||t.includes("small cap")||t.includes("multi cap")||t.includes("focused")||t.includes("contra")||t.includes("value fund")||t.includes("thematic")||t.includes("sectoral")||t.includes("consumption")||t.includes("infrastructure")||t.includes("pharma")||t.includes("healthcare")||t.includes("technology")||t.includes("fmcg")||t.includes("mnc")||t.includes("opportunities fund")||t.includes("midcap")||t.includes("smallcap")||t.includes("largecap")||t.includes("large & mid")?"Equity":t.includes("index")||t.includes("etf")||t.includes("nifty")||t.includes("sensex")?"Index":t.includes("fund of fund")||t.includes("fof")||t.includes("aggressive")||t.includes("conservative")?"Hybrid":"Other"}const dce={Equity:"#8b5cf6",Debt:"#60a5fa",Gold:"#fbbf24",Commodities:"#eab308","Real Estate":"#f97316",Hybrid:"#818cf8",Cash:"#94a3b8",Other:"#94a3b8"},d_=["#f97316","#8b5cf6","#fbbf24","#f59e0b","#34d399","#ec4899","#60a5fa","#3b82f6","#06b6d4","#10b981","#ef4444","#a855f7"],f_=["linear-gradient(135deg, #8b5cf6, #6366f1)","linear-gradient(135deg, #ec4899, #f43f5e)","linear-gradient(135deg, #3b82f6, #06b6d4)","linear-gradient(135deg, #f59e0b, #f97316)","linear-gradient(135deg, #10b981, #34d399)","linear-gradient(135deg, #ef4444, #dc2626)"],m_={Self:{bg:"rgba(139,92,246,0.1)",color:"#a78bfa"},Spouse:{bg:"rgba(236,72,153,0.1)",color:"#ec4899"},Father:{bg:"rgba(59,130,246,0.1)",color:"#60a5fa"},Mother:{bg:"rgba(245,158,11,0.1)",color:"#f59e0b"},Child:{bg:"rgba(59,130,246,0.1)",color:"#60a5fa"}};function ia({label:e,color:t,badge:r,linkText:n,onClick:i}){return a.jsxs("div",{className:"-mx-6 -mt-6 px-6 py-3.5 mb-4 flex items-center justify-between rounded-t-xl",style:{background:"rgba(128,128,128,0.04)",borderBottom:"1px solid rgba(128,128,128,0.08)"},children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-[3px] h-3.5 rounded-sm opacity-60",style:{background:t||"currentColor"}}),a.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",style:{color:t||"var(--text-muted)"},children:e}),r!=null&&a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold",style:{background:t?`${t}15`:"rgba(128,128,128,0.1)",color:t||"var(--text-muted)"},children:r})]}),n&&a.jsxs("button",{onClick:i,className:"text-xs font-medium text-blue-400 hover:text-blue-300 transition-colors",children:[n," "]})]})}function fce(){const e=Zs(),{selectedMember:t,familyMembers:r}=Hr(),{masked:n,mv:i}=Pa(),{mfPortfolios:l,mfHoldings:c,stockPortfolios:u,stockHoldings:f,otherInvList:m,liabilityList:p,banks:x,investmentAccounts:v,insurancePolicies:g,reminderList:j,goalList:y,assetAllocations:w,activeMembers:A,activeBanks:k,activeInvestmentAccounts:C}=xt(),[M,E]=N.useState(!1),[O,P]=N.useState(!1),[T,$]=N.useState(!1),[L,H]=N.useState(null),D=N.useRef(null),Z=N.useRef(null),K=N.useRef(null);N.useEffect(()=>{Promise.all([op(()=>import("./html2canvas-pro.esm-BFE-rsXj.js"),[]),op(()=>import("./jspdf.es.min-nv0iyEfn.js").then(B=>B.j),[])]).then(([B,z])=>{K.current={html2canvas:B.default,jsPDF:z.jsPDF}}).catch(B=>{B.message?.includes("dynamically imported module")&&window.location.reload()})},[]);const J=N.useMemo(()=>(A||[]).find(z=>z.relationship==="Self")?.pan||"",[A]),R=N.useCallback(async({forEmail:B=!1}={})=>{if(!D.current)throw new Error("Dashboard not ready");let z,U;if(K.current)({html2canvas:z,jsPDF:U}=K.current);else{const[_e,ze]=await Promise.all([op(()=>import("./html2canvas-pro.esm-BFE-rsXj.js"),[]),op(()=>import("./jspdf.es.min-nv0iyEfn.js").then(Et=>Et.j),[])]);z=_e.default,U=ze.jsPDF}const xe=D.current;Z.current&&(Z.current.style.display="block"),await new Promise(_e=>setTimeout(_e,100));const je=await z(xe,{scale:B?1:2,useCORS:!0,backgroundColor:"#0f172a",logging:!1});Z.current&&(Z.current.style.display="none");const ne={orientation:"p",unit:"mm",format:"a4"};J&&!B&&(ne.encryption={userPassword:J,ownerPassword:J,userPermissions:["print","copy"]});const De=new U(ne),Ce=De.internal.pageSize.getWidth(),ue=De.internal.pageSize.getHeight(),$e=6,Ie=Ce-$e*2,Re=ue-$e*2,rt=Ie/je.width,jt=Math.floor(Re/rt);let Bt=0,Ut=0;for(;Bt<je.height;){Ut>0&&De.addPage(),De.setFillColor(15,23,42),De.rect(0,0,Ce,ue,"F");const _e=Math.min(jt,je.height-Bt),ze=document.createElement("canvas");ze.width=je.width,ze.height=_e,ze.getContext("2d").drawImage(je,0,Bt,je.width,_e,0,0,je.width,_e);const W=B?ze.toDataURL("image/jpeg",.65):ze.toDataURL("image/png"),q=_e*rt;De.addImage(W,B?"JPEG":"PNG",$e,$e,Ie,q),Bt+=jt,Ut++}const Zt=t==="all"?"Family":r?.find(_e=>_e.memberId===t)?.name||"Dashboard",Jt=new Date().toISOString().slice(0,10),ye=`Capital-Friends-${Zt}-${Jt}.pdf`;return{pdf:De,fileName:ye}},[t,r,J]),G=N.useCallback(async()=>{if(T)return;$(!0);const B=J?`${J.slice(0,2)}****${J.slice(-2)}`:"";J&&H({status:"generating",panHint:B});try{const{pdf:z,fileName:U}=await R();z.save(U),J&&(H({status:"done",panHint:B}),setTimeout(()=>H(null),8e3))}catch(z){console.error("PDF export failed:",z),H(null),window.print()}finally{$(!1)}},[T,R,J]),me=N.useCallback(async()=>{if(!(M||O)){E(!0);try{const{pdf:B,fileName:z}=await R({forEmail:!0}),U=B.output("datauristring").split(",")[1];await YF(U,z),P(!0),setTimeout(()=>P(!1),3e3)}catch(B){alert("Failed to send email: "+B.message)}finally{E(!1)}}},[M,O,R]),we=J?"Download as PDF (password: your PAN)":"Download as PDF",Ne=(B,z)=>t==="all"?B:B.filter(U=>U[z]===t),F=N.useMemo(()=>{const B=Ne((l||[]).filter(fe=>fe.status==="Active"),"ownerId"),z=new Set(B.map(fe=>fe.portfolioId)),U=(c||[]).filter(fe=>z.has(fe.portfolioId)&&fe.units>0),xe=U.reduce((fe,ke)=>fe+ke.investment,0),je=U.reduce((fe,ke)=>fe+ke.currentValue,0),ne=je-xe,De=Ne((u||[]).filter(fe=>fe.status==="Active"),"ownerId"),Ce=new Set(De.map(fe=>fe.portfolioId)),ue=(f||[]).filter(fe=>Ce.has(fe.portfolioId)),$e=ue.reduce((fe,ke)=>fe+ke.totalInvestment,0),Ie=ue.reduce((fe,ke)=>fe+ke.currentValue,0),Re=Ie-$e,rt=Ne((m||[]).filter(fe=>fe.status==="Active"),"familyMemberId"),jt=rt.reduce((fe,ke)=>fe+ke.investedAmount,0),Bt=rt.reduce((fe,ke)=>fe+ke.currentValue,0),Ut=Bt-jt,Zt=Ne((p||[]).filter(fe=>fe.status==="Active"),"familyMemberId"),Jt=Zt.reduce((fe,ke)=>fe+ke.outstandingBalance,0),ye=Zt.reduce((fe,ke)=>fe+ke.emiAmount,0),_e=Ne((g||[]).filter(fe=>fe.status==="Active"),"memberId"),ze=_e.filter(fe=>fe.policyType==="Term Life").reduce((fe,ke)=>fe+ke.sumAssured,0),Et=_e.filter(fe=>fe.policyType==="Health").reduce((fe,ke)=>fe+ke.sumAssured,0),W=_e.reduce((fe,ke)=>fe+(ke.premium||0),0),q=Ne((x||[]).filter(fe=>fe.status==="Active"),"memberId"),re=Ne((v||[]).filter(fe=>fe.status==="Active"),"memberId"),Ae=Ne((y||[]).filter(fe=>fe.isActive!==!1),"familyMemberId"),Ue=Ne((j||[]).filter(fe=>fe.isActive!==!1&&fe.status!=="Completed"),"familyMemberId"),le=t==="all"?A||[]:(A||[]).filter(fe=>fe.memberId===t),it=je+Ie+Bt,Ye=it-Jt,Be=xe+$e+jt,Je=it-Be,nt=Be>0?Je/Be*100:0,Yt={};if(w)for(const fe of w)fe.assetAllocation&&(Yt[fe.fundCode]=fe.assetAllocation);const Qe={Equity:0,Debt:0,Gold:0,Hybrid:0,Commodities:0,"Real Estate":0,Cash:0,Other:0};U.forEach(fe=>{const ke=Yt[fe.schemeCode||fe.fundCode];if(ke)for(const[Xe,er]of Object.entries(ke))Xe in Qe?Qe[Xe]+=fe.currentValue*(er/100):Qe.Other+=fe.currentValue*(er/100);else{let Xe=fe.category;(!Xe||Xe==="Other")&&(Xe=uce(fe.fundName)),Xe==="Equity"||Xe==="ELSS"||Xe==="Index"?Qe.Equity+=fe.currentValue:Xe==="Debt"||Xe==="Gilt"?Qe.Debt+=fe.currentValue:Xe==="Liquid"?Qe.Cash+=fe.currentValue:Xe==="Commodity"?Qe.Commodities+=fe.currentValue:Xe==="Multi-Asset"?(Qe.Equity+=fe.currentValue*.5,Qe.Debt+=fe.currentValue*.3,Qe.Commodities+=fe.currentValue*.2):Xe==="Hybrid"||Xe==="FoF"?(Qe.Equity+=fe.currentValue*.65,Qe.Debt+=fe.currentValue*.35):Qe.Other+=fe.currentValue}}),Qe.Equity+=Ie,rt.forEach(fe=>{const ke=(fe.investmentType||"").toLowerCase();ke.includes("gold")||ke.includes("sgb")||ke.includes("sovereign gold")?Qe.Gold+=fe.currentValue:ke.includes("silver")||ke.includes("commodity")?Qe.Commodities+=fe.currentValue:ke.includes("fd")||ke.includes("fixed")||ke.includes("bond")||ke.includes("ppf")||ke.includes("epf")||ke.includes("nps")||ke.includes("rd")||ke.includes("nsc")||ke.includes("ssy")?Qe.Debt+=fe.currentValue:ke.includes("real estate")||ke.includes("property")?Qe["Real Estate"]+=fe.currentValue:Qe.Other+=fe.currentValue});const Ee=Object.entries(Qe).filter(([,fe])=>fe>0).sort(([,fe],[,ke])=>ke-fe).map(([fe,ke])=>({name:fe,value:ke,pct:it>0?ke/it*100:0,fill:dce[fe]||"#94a3b8"})),We={};je>0&&(We["Mutual Funds"]=(We["Mutual Funds"]||0)+je),Ie>0&&(We.Stocks=(We.Stocks||0)+Ie),rt.forEach(fe=>{const ke=fe.investmentType||"Other";We[ke]=(We[ke]||0)+fe.currentValue});const Fe=Object.entries(We).filter(([,fe])=>fe>0).sort(([,fe],[,ke])=>ke-fe).map(([fe,ke],Xe)=>({name:fe,value:ke,pct:it>0?ke/it*100:0,fill:d_[Xe%d_.length]})),yt=[];B.forEach(fe=>{(c||[]).filter(Xe=>Xe.portfolioId===fe.portfolioId&&Xe.units>0).forEach(Xe=>{if(Xe.athNav>0&&Xe.belowATHPct>=5){const{main:er}=Le(Xe.fundName);yt.push({fundName:er,portfolioName:fe.portfolioName,ownerName:fe.ownerName,belowATHPct:Xe.belowATHPct,isStrongBuy:Xe.belowATHPct>=10})}})}),yt.sort((fe,ke)=>ke.belowATHPct-fe.belowATHPct);const $t=[];B.forEach(fe=>{const ke=(c||[]).filter(lr=>lr.portfolioId===fe.portfolioId&&lr.units>0),Xe=ke.reduce((lr,hi)=>lr+hi.currentValue,0),er=(fe.rebalanceThreshold||.05)*100;ke.forEach(lr=>{if(lr.targetAllocationPct>0&&Xe>0){const hi=lr.currentValue/Xe*100,ol=hi-lr.targetAllocationPct;if(Math.abs(ol)>er){const{main:cl}=Le(lr.fundName);$t.push({fundName:cl,portfolioName:fe.portfolioName,ownerName:fe.ownerName,currentPct:Math.round(hi),targetPct:Math.round(lr.targetAllocationPct),drift:Math.round(ol)})}}})}),$t.sort((fe,ke)=>Math.abs(ke.drift)-Math.abs(fe.drift));const Vt=[];if(je>0){const fe=[...new Set(B.map(Xe=>Xe.ownerName))].join(", "),ke=[...new Set(B.map(Xe=>{const er=(v||[]).find(lr=>lr.accountId===Xe.investmentAccountId);return er?er.platformBroker:Xe.investmentAccountName||""}).filter(Boolean))].join(", ");Vt.push({type:"Mutual Funds",platform:ke,owner:fe,invested:xe,current:je,pl:ne})}if(Ie>0){const fe=[...new Set(De.map(Xe=>Xe.ownerName))].join(", "),ke=[...new Set(De.map(Xe=>{const er=(v||[]).find(lr=>lr.accountId===Xe.investmentAccountId);return er?er.platformBroker:Xe.investmentAccountName||""}).filter(Boolean))].join(", ");Vt.push({type:"Stocks",platform:ke,owner:fe,invested:$e,current:Ie,pl:Re})}const yr={};rt.forEach(fe=>{const ke=fe.investmentType||"Other";yr[ke]||(yr[ke]={invested:0,current:0,owners:new Set,platforms:new Set}),yr[ke].invested+=fe.investedAmount,yr[ke].current+=fe.currentValue,yr[ke].owners.add(fe.familyMemberName),fe.investmentName&&yr[ke].platforms.add(fe.investmentName)}),Object.entries(yr).forEach(([fe,ke])=>{const Xe=ke.current-ke.invested;Vt.push({type:fe,platform:ke.platforms.size<=2?[...ke.platforms].join(", "):`${ke.platforms.size} investments`,owner:[...ke.owners].join(", "),invested:ke.invested,current:ke.current,pl:ke.invested>0?Xe:null})});const kn={};return B.forEach(fe=>{const Xe=U.filter(er=>er.portfolioId===fe.portfolioId).reduce((er,lr)=>er+lr.currentValue,0);kn[fe.ownerId]=(kn[fe.ownerId]||0)+Xe}),De.forEach(fe=>{const Xe=ue.filter(er=>er.portfolioId===fe.portfolioId).reduce((er,lr)=>er+lr.currentValue,0);kn[fe.ownerId]=(kn[fe.ownerId]||0)+Xe}),rt.forEach(fe=>{kn[fe.familyMemberId]=(kn[fe.familyMemberId]||0)+fe.currentValue}),Zt.forEach(fe=>{kn[fe.familyMemberId]=(kn[fe.familyMemberId]||0)-fe.outstandingBalance}),{mfCurrentValue:je,mfInvested:xe,mfPL:ne,stkCurrentValue:Ie,stkInvested:$e,stkPL:Re,otherCurrentValue:Bt,otherInvested:jt,otherPL:Ut,totalLiabilities:Jt,totalEMI:ye,lifeCover:ze,healthCover:Et,totalPremium:W,totalAssets:it,totalInvested:Be,totalPL:Je,plPct:nt,netWorth:Ye,assetClassList:Ee,allocByType:Fe,buyOpportunities:yt,rebalanceItems:$t,investmentRows:Vt,activeLiabilities:Zt,activeInsurance:_e,activeGoals:Ae,activeReminders:Ue,filteredBanks:q,filteredInvAccounts:re,filteredMembers:le,memberNetWorth:kn,activeMFPortfolios:B,activeStockPortfolios:De}},[t,l,c,u,f,m,p,x,v,g,y,j,w,A]),ce=N.useMemo(()=>{const B=[],z=Ne((g||[]).filter(Ce=>Ce.status==="Active"),"memberId");z.some(Ce=>Ce.policyType==="Term Life")||B.push({type:"critical",title:"No Term Life Insurance",description:"Family loses its sole income source if primary earner passes away. Get 10-15x annual income cover.",action:"Add Policy",navigateTo:"/insurance"});const xe=z.filter(Ce=>Ce.policyType==="Health").reduce((Ce,ue)=>Ce+ue.sumAssured,0);return xe===0?B.push({type:"critical",title:"No Health Insurance",description:"Medical emergencies without cover can wipe out years of savings. Get minimum 10L family cover.",action:"Add Policy",navigateTo:"/insurance"}):xe<5e5&&B.push({type:"warning",title:"Inadequate Health Insurance",description:`Current cover ${Q(xe)} may not cover a single hospital stay. Consider upgrading.`,navigateTo:"/insurance"}),Ne((y||[]).filter(Ce=>Ce.isActive!==!1&&Ce.goalType==="Emergency Fund"),"familyMemberId").forEach(Ce=>{const ue=Ce.targetAmount>0?Ce.currentValue/Ce.targetAmount*100:0;if(ue<100){const $e=Ce.targetAmount-Ce.currentValue;B.push({type:(ue>=75,"warning"),title:`Emergency Fund at ${ue.toFixed(0)}%`,description:`Job loss or medical emergency forces debt. ${Q($e)} more needed for full cushion.`,action:"View Goal",navigateTo:"/goals"})}}),Ne((j||[]).filter(Ce=>Ce.isActive!==!1),"familyMemberId").filter(Ce=>new Date(Ce.dueDate)<new Date).forEach(Ce=>{const ue=Math.ceil((new Date-new Date(Ce.dueDate))/864e5);B.push({type:"critical",title:Ce.title,description:`${ue} day${ue!==1?"s":""} overdue. ${Ce.description||""}`.trim(),navigateTo:"/reminders"})}),Ne((y||[]).filter(Ce=>Ce.isActive!==!1&&Ce.status==="Needs Attention"),"familyMemberId").forEach(Ce=>{B.push({type:"warning",title:`${Ce.goalName} needs attention`,description:"Progress is behind schedule. Consider increasing monthly investment.",action:"View Goal",navigateTo:"/goals"})}),B.slice(0,6)},[t,g,y,j]),ee=N.useMemo(()=>{const B=Ne((j||[]).filter(U=>U.isActive!==!1&&U.status!=="Completed"),"familyMemberId"),z=new Date;return B.map(U=>{const xe=new Date(U.dueDate)-z,je=Math.ceil(xe/(1440*60*1e3));return{...U,days:je}}).filter(U=>U.days>=0).sort((U,xe)=>U.days-xe.days).slice(0,5)},[t,j]);return l===null||c===null?a.jsx(pi,{title:"Loading dashboard",cards:4}):a.jsxs(a.Fragment,{children:[L&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center print:hidden",style:{backgroundColor:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)"},onClick:()=>L.status==="done"&&H(null),children:a.jsxs("div",{className:"w-[340px] rounded-2xl border border-[var(--border)] p-6 shadow-2xl",style:{background:"var(--bg-card)"},onClick:B=>B.stopPropagation(),children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center",style:{background:L.status==="done"?"rgba(16,185,129,0.12)":"rgba(139,92,246,0.12)",border:`1px solid ${L.status==="done"?"rgba(16,185,129,0.2)":"rgba(139,92,246,0.2)"}`},children:L.status==="done"?a.jsx(md,{size:28,className:"text-emerald-400"}):a.jsx(pc,{size:28,className:"text-violet-400 animate-spin"})})}),a.jsx("p",{className:"text-center text-base font-bold text-[var(--text-primary)]",children:L.status==="done"?"PDF Downloaded":"Generating PDF..."}),a.jsxs("div",{className:"mt-4 rounded-xl px-4 py-3 text-center",style:{background:"rgba(139,92,246,0.08)",border:"1px solid rgba(139,92,246,0.15)"},children:[a.jsx("p",{className:"text-[11px] uppercase tracking-wider text-[var(--text-dim)] font-semibold",children:"PDF Password"}),a.jsx("p",{className:"text-lg font-bold text-violet-400 mt-1 tracking-wider",children:"Your PAN"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:L.panHint})]}),L.status==="done"&&a.jsx("button",{onClick:()=>H(null),className:"w-full mt-4 py-2.5 rounded-xl text-sm font-semibold text-emerald-400 transition-colors hover:bg-emerald-500/10",style:{border:"1px solid rgba(16,185,129,0.2)"},children:"Got it"})]})}),a.jsxs("div",{className:"max-w-[1280px] mx-auto",ref:D,children:[a.jsx("style",{children:`
          @media print {
            @page { margin: 8mm; size: A4; }
            *, *::before, *::after { color-adjust: exact !important; -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }
            html, body { background: #0f172a !important; color: #e2e8f0 !important; overflow: visible !important; height: auto !important; }
            nav, header, footer, .print\\:hidden, [class*="BottomNav"], [class*="Sidebar"],
            [class*="safe-bottom"] { display: none !important; }
            div, main, section { overflow: visible !important; height: auto !important; max-height: none !important; }
            .flex.flex-col.h-dvh { height: auto !important; overflow: visible !important; display: block !important; }
            main.flex-1 { overflow: visible !important; padding-bottom: 0 !important; }
            .max-w-\\[1280px\\], .max-w-7xl { max-width: 100% !important; padding: 0 !important; margin: 0 auto !important; }
            .grid.grid-cols-1.md\\:grid-cols-2 { display: flex !important; flex-direction: column !important; gap: 8px !important; }
            .grid.grid-cols-1.md\\:grid-cols-2 > * { width: 100% !important; }
            .grid.grid-cols-1.md\\:grid-cols-3 { display: flex !important; flex-wrap: wrap !important; gap: 8px !important; }
            .grid.grid-cols-1.md\\:grid-cols-3 > * { flex: 1 1 30% !important; min-width: 180px !important; }
            .rounded-xl { break-inside: avoid; page-break-inside: avoid; }
            [class*="fixed"] { position: static !important; display: none !important; }
          }
        `}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"md:col-span-2 rounded-xl border border-[var(--border)] p-7",style:{background:"linear-gradient(135deg, var(--bg-card) 0%, var(--bg-card) 100%)"},children:[a.jsxs("div",{className:"-mx-7 -mt-7 px-7 py-3.5 mb-4 flex items-center justify-between rounded-t-xl",style:{background:"rgba(128,128,128,0.04)",borderBottom:"1px solid rgba(128,128,128,0.08)"},children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-[3px] h-3.5 rounded-sm opacity-60",style:{background:"var(--text-muted)"}}),a.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-[var(--text-muted)]",children:"Net Worth"})]}),a.jsxs("div",{className:"flex items-center gap-1.5 print:hidden",children:[a.jsxs("button",{onClick:G,disabled:T,className:"flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg text-xs font-medium text-[var(--text-secondary)] hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-50",title:we,children:[T?a.jsx(pc,{size:13,className:"animate-spin"}):a.jsx(Qz,{size:13}),a.jsx("span",{className:"hidden sm:inline",children:T?"Exporting...":"PDF"})]}),a.jsxs("button",{onClick:me,disabled:M,className:"flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg text-xs font-medium transition-colors disabled:opacity-50",style:{color:O?"#34d399":"var(--text-secondary)"},title:"Email wealth report",children:[O?a.jsx(md,{size:13}):a.jsx(Hh,{size:13}),a.jsx("span",{className:"hidden sm:inline",children:M?"Sending...":O?"Sent!":"Email"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-[34px] font-bold text-[var(--text-primary)] tabular-nums leading-tight",children:Q(F.netWorth)}),F.totalInvested>0&&a.jsxs("div",{className:"text-sm mt-1.5",children:[a.jsxs("span",{className:`font-semibold ${u_(F.totalPL)}`,children:[cp(F.totalPL),Q(Math.abs(F.totalPL))]}),a.jsxs("span",{className:"text-[var(--text-dim)] ml-1",children:["(",cp(F.totalPL),F.plPct.toFixed(1),"% returns)"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-xs text-[var(--text-dim)]",children:"Total Assets"}),a.jsx("div",{className:"text-lg font-semibold text-[var(--text-secondary)] tabular-nums",children:Q(F.totalAssets)}),F.totalLiabilities>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-xs text-[var(--text-dim)] mt-2",children:"Liabilities"}),a.jsx("div",{className:"text-lg font-semibold text-red-400 tabular-nums",children:Q(F.totalLiabilities)})]})]})]}),F.assetClassList.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("div",{className:"flex h-2.5 rounded-[5px] overflow-hidden gap-0.5",children:F.assetClassList.map(B=>a.jsx("div",{style:{width:`${B.pct}%`,background:B.fill},title:`${B.name} ${B.pct.toFixed(0)}%`},B.name))}),a.jsx("div",{className:"flex gap-4 mt-2 text-xs flex-wrap",children:F.assetClassList.map(B=>a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"inline-block w-2 h-2 rounded-full",style:{background:B.fill}}),a.jsxs("span",{className:"text-[var(--text-secondary)] font-medium",children:[B.name," ",B.pct.toFixed(0),"%"]})]},B.name))})]})]}),F.allocByType.length>0&&a.jsxs("div",{className:"md:col-span-2 rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6",style:{padding:"20px"},children:[a.jsx(ia,{label:"Asset Allocation",color:"var(--text-muted)"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5 items-center",children:[a.jsxs("div",{className:"flex flex-col items-center justify-center",children:[a.jsxs("div",{className:"relative w-[240px] h-[240px]",children:[a.jsx(Z1,{width:"100%",height:"100%",children:a.jsxs(NN,{children:[a.jsx(Ex,{data:F.allocByType,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:67,outerRadius:110,paddingAngle:2,stroke:"none",children:F.allocByType.map((B,z)=>a.jsx(Gc,{fill:B.fill},z))}),a.jsx(hN,{content:({active:B,payload:z})=>{if(!B||!z?.[0])return null;const U=z[0].payload;return a.jsxs("div",{className:"bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-2.5 py-1.5 shadow-lg text-xs",children:[a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:U.name}),a.jsxs("span",{className:"text-[var(--text-muted)] ml-1.5",children:[Q(U.value)," (",U.pct.toFixed(0),"%)"]})]})}})]})}),a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[a.jsx("div",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider",children:"Net Worth"}),a.jsx("div",{className:"text-2xl font-bold text-[var(--text-primary)] tabular-nums",children:Q(F.netWorth)})]})]}),a.jsxs("div",{className:"w-full max-w-[280px] mt-4 grid grid-cols-2 gap-2",children:[a.jsxs("div",{className:"rounded-lg px-3 py-2.5 text-center",style:{backgroundColor:"rgba(139,92,246,0.08)"},children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider",children:"Assets"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums mt-0.5",children:Q(F.totalAssets)}),F.totalInvested>0&&a.jsxs("p",{className:"text-[10px] tabular-nums mt-0.5",style:{color:F.totalPL>=0?"#34d399":"#f87171"},children:[F.totalPL>=0?"+":"",Q(F.totalPL)," P&L"]})]}),F.totalLiabilities>0?a.jsxs("div",{className:"rounded-lg px-3 py-2.5 text-center",style:{backgroundColor:"rgba(244,63,94,0.08)"},children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider",children:"Liabilities"}),a.jsx("p",{className:"text-sm font-bold text-rose-400 tabular-nums mt-0.5",children:Q(F.totalLiabilities)}),a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5",children:[F.activeLiabilities.length," ",F.activeLiabilities.length===1?"Loan":"Loans"]})]}):a.jsxs("div",{className:"rounded-lg px-3 py-2.5 text-center",style:{backgroundColor:"rgba(16,185,129,0.08)"},children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider",children:"Invested"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums mt-0.5",children:Q(F.totalInvested)}),F.totalInvested>0&&a.jsxs("p",{className:"text-[10px] tabular-nums mt-0.5",style:{color:F.totalPL>=0?"#34d399":"#f87171"},children:[F.plPct>=0?"+":"",F.plPct.toFixed(1),"% returns"]})]})]})]}),a.jsxs("div",{children:[F.allocByType.map(B=>a.jsxs("div",{className:"flex items-center justify-between py-2.5 px-3.5 mb-1.5 rounded-lg text-[13px]",style:{background:"rgba(128,128,128,0.05)"},children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"inline-block w-2 h-2 rounded-full",style:{background:B.fill}}),a.jsx("span",{className:"text-[var(--text-secondary)] font-medium",children:B.name})]}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[var(--text-secondary)] font-semibold tabular-nums",children:Q(B.value)}),a.jsxs("span",{className:"inline-flex items-center justify-center min-w-[36px] px-2 py-0.5 rounded-[5px] text-xs font-semibold tabular-nums",style:{background:"rgba(128,128,128,0.08)",color:B.fill},children:[B.pct.toFixed(0),"%"]})]})]},B.name)),F.totalLiabilities>0&&a.jsxs("div",{className:"flex items-center justify-between py-2.5 px-3.5 mb-1.5 rounded-lg text-[13px]",style:{background:"rgba(248,113,113,0.06)"},children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-red-400"}),a.jsxs("span",{className:"text-red-400 font-medium",children:[F.activeLiabilities.length," ",F.activeLiabilities.length===1?"Loan":"Loans"]})]}),a.jsxs("span",{className:"text-red-400 font-semibold tabular-nums",children:["",Q(F.totalLiabilities)]})]})]})]})]}),ce.length>0&&a.jsxs("div",{className:"md:col-span-2 rounded-xl border bg-[var(--bg-card)] p-6",style:{borderColor:"rgba(244,63,94,0.12)"},children:[a.jsx(ia,{label:"Action Required",color:"#fb7185",badge:ce.length}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:ce.map((B,z)=>{const U=B.type==="critical",xe=ce.length%2===1&&z===ce.length-1;return a.jsx("div",{className:`rounded-[10px] p-3.5 ${xe?"md:col-span-2":""}`,style:{background:U?"rgba(244,63,94,0.07)":"rgba(251,191,36,0.05)",border:`1px solid ${U?"rgba(244,63,94,0.18)":"rgba(251,191,36,0.12)"}`},children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-[26px] h-[26px] rounded-[7px] flex items-center justify-center text-[13px] shrink-0",style:{background:U?"rgba(244,63,94,0.12)":"rgba(251,191,36,0.1)",color:U?"#fb7185":"#fbbf24"},children:U?"":""}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm font-semibold",style:{color:U?"#fb7185":"#fbbf24"},children:B.title}),B.description&&a.jsx("div",{className:"text-[13px] text-[var(--text-muted)] mt-0.5 leading-relaxed",children:B.description}),B.action&&B.navigateTo&&a.jsxs("button",{onClick:()=>e(B.navigateTo),className:"text-xs font-medium mt-1.5 cursor-pointer",style:{color:U?"#fb7185":"#fbbf24"},children:[B.action," "]})]})]})},z)})})]}),F.buyOpportunities.length>0&&a.jsxs("div",{className:`rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors ${F.rebalanceItems.length===0?"md:col-span-2":""}`,onClick:()=>e("/investments/mutual-funds"),children:[a.jsx(ia,{label:"Buy Opportunities",color:"#34d399",badge:F.buyOpportunities.length,linkText:"Mutual Funds",onClick:B=>{B.stopPropagation(),e("/investments/mutual-funds")}}),a.jsx("div",{className:"text-xs text-[var(--text-dim)] mb-2.5",children:"Funds trading below All-Time High"}),F.buyOpportunities.map((B,z)=>a.jsxs("div",{className:"flex items-center justify-between py-2.5",style:{borderBottom:z<F.buyOpportunities.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-[13px] text-[var(--text-primary)] font-medium truncate",children:B.fundName}),a.jsxs("div",{className:"text-xs text-[var(--text-dim)] mt-1.5",children:[B.ownerName,"'s ",B.portfolioName]})]}),a.jsxs("div",{className:"text-right shrink-0 ml-3",children:[a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-bold",style:{background:B.isStrongBuy?"rgba(34,211,238,0.12)":"rgba(251,191,36,0.10)",color:B.isStrongBuy?"#22d3ee":"#fbbf24"},children:B.isStrongBuy?"Strong Buy":"Buy"}),a.jsxs("div",{className:"text-xs mt-0.5 font-medium tabular-nums",style:{color:B.isStrongBuy?"#22d3ee":"#fbbf24"},children:[" ",B.belowATHPct.toFixed(1),"% below ATH"]})]})]},z)),a.jsxs("div",{className:"mt-3.5 py-3 px-3.5 rounded-r-md text-[11px] text-[var(--text-muted)] leading-relaxed",style:{background:"rgba(251,191,36,0.06)",borderLeft:"3px solid rgba(251,191,36,0.3)"},onClick:B=>B.stopPropagation(),children:[a.jsx("span",{className:"text-amber-400 font-semibold",children:"Note:"})," A fund significantly below ATH may indicate market correction ",a.jsx("em",{children:"or"})," fund-specific issues (poor management, regulatory action, etc.). Always research before investing."]})]}),F.rebalanceItems.length>0&&a.jsxs("div",{className:`rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors ${F.buyOpportunities.length===0?"md:col-span-2":""}`,onClick:()=>e("/investments/mutual-funds"),children:[a.jsx(ia,{label:"Rebalance Needed",color:"#a78bfa",badge:F.rebalanceItems.length,linkText:"Portfolios",onClick:B=>{B.stopPropagation(),e("/investments/mutual-funds")}}),a.jsx("div",{className:"text-xs text-[var(--text-dim)] mb-2.5",children:"Allocation drifted beyond threshold"}),F.rebalanceItems.map((B,z)=>a.jsxs("div",{className:"flex items-center justify-between py-2.5",style:{borderBottom:z<F.rebalanceItems.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-[13px] text-[var(--text-primary)] font-medium truncate",children:B.fundName}),a.jsxs("div",{className:"text-xs text-[var(--text-dim)] mt-1.5",children:[B.ownerName,"'s ",B.portfolioName]})]}),a.jsxs("div",{className:"text-right shrink-0 ml-3",children:[a.jsxs("div",{className:"text-xs text-violet-400 font-semibold tabular-nums",children:[B.currentPct,"%  ",B.targetPct,"%"]}),a.jsxs("div",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:[B.drift>0?"+":"",B.drift,"% ",B.drift>0?"over":"under"," target"]})]})]},z))]}),F.investmentRows.length>0&&a.jsxs("div",{className:"md:col-span-2 rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors",onClick:()=>e("/investments/mutual-funds"),children:[a.jsx(ia,{label:"Investments",color:"var(--text-muted)",linkText:"View All",onClick:B=>{B.stopPropagation(),e("/investments/mutual-funds")}}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Type"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Platform"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Owner"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Invested"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Current"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-right pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"P&L"})]})}),a.jsx("tbody",{children:F.investmentRows.map((B,z)=>{const U=B.pl,xe=B.invested>0&&U!=null?U/B.invested*100:null;return a.jsxs("tr",{children:[a.jsx("td",{className:"text-[13px] font-medium text-[var(--text-primary)] py-3.5",style:{borderBottom:z<F.investmentRows.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:B.type}),a.jsx("td",{className:"text-[13px] text-[var(--text-secondary)] py-3.5",style:{borderBottom:z<F.investmentRows.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:B.platform||""}),a.jsx("td",{className:"text-[13px] text-[var(--text-secondary)] py-3.5",style:{borderBottom:z<F.investmentRows.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:B.owner}),a.jsx("td",{className:"text-[13px] text-[var(--text-secondary)] py-3.5 tabular-nums",style:{borderBottom:z<F.investmentRows.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:B.invested>0?Q(B.invested):""}),a.jsx("td",{className:"text-[13px] font-semibold text-[var(--text-primary)] py-3.5 tabular-nums",style:{borderBottom:z<F.investmentRows.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:Q(B.current)}),a.jsx("td",{className:"text-[13px] py-3.5 text-right tabular-nums",style:{borderBottom:z<F.investmentRows.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:U!=null&&B.invested>0?a.jsxs("span",{className:`font-semibold ${u_(U)}`,children:[cp(U),Q(Math.abs(U)),xe!=null&&a.jsxs("span",{className:"text-[var(--text-dim)] font-normal ml-1",children:["(",cp(U),xe.toFixed(1),"%)"]})]}):a.jsx("span",{className:"text-[var(--text-dim)]",children:""})})]},z)})})]})})]}),F.activeLiabilities.length>0&&a.jsxs("div",{className:`rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors ${ee.length===0?"md:col-span-2":""}`,onClick:()=>e("/liabilities"),children:[a.jsx(ia,{label:"Liabilities",color:"#f87171",linkText:"View",onClick:B=>{B.stopPropagation(),e("/liabilities")}}),a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("div",{className:"text-[22px] font-bold text-red-400 tabular-nums",children:Q(F.totalLiabilities)}),F.totalEMI>0&&a.jsxs("div",{className:"text-xs text-right",children:[a.jsx("span",{className:"text-[var(--text-dim)]",children:"Total EMI:"})," ",a.jsxs("span",{className:"text-red-400 font-semibold tabular-nums",children:[Q(F.totalEMI),"/m"]})]})]}),a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Loan"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"EMI"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-right pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Outstanding"})]})}),a.jsx("tbody",{children:F.activeLiabilities.map((B,z)=>a.jsxs("tr",{children:[a.jsxs("td",{className:"py-3.5",style:{borderBottom:z<F.activeLiabilities.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:[a.jsxs("div",{className:"text-[13px] font-medium text-[var(--text-primary)]",children:[B.lenderName," ",B.liabilityType]}),a.jsxs("div",{className:"text-xs text-[var(--text-dim)] mt-1.5",children:[B.familyMemberName,B.notes?`  ${B.notes}`:""]})]}),a.jsx("td",{className:"text-xs text-[var(--text-secondary)] py-3.5 tabular-nums",style:{borderBottom:z<F.activeLiabilities.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:B.emiAmount>0?`${Q(B.emiAmount)}/m`:""}),a.jsx("td",{className:"text-sm font-semibold text-red-400 py-3.5 text-right tabular-nums",style:{borderBottom:z<F.activeLiabilities.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:Q(B.outstandingBalance)})]},B.liabilityId||z))})]})]}),ee.length>0&&a.jsxs("div",{className:`rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors ${F.activeLiabilities.length===0?"md:col-span-2":""}`,onClick:()=>e("/reminders"),children:[a.jsx(ia,{label:"Upcoming Reminders",color:"var(--text-muted)",badge:ee.length,linkText:"View All",onClick:B=>{B.stopPropagation(),e("/reminders")}}),ee.map((B,z)=>{let U,xe,je;return B.days===0?(U="#fbbf24",xe="rgba(251,191,36,0.1)",je="Today"):B.days<=7?(U="#60a5fa",xe="transparent",je=`${B.days} day${B.days!==1?"s":""}`):(U="#94a3b8",xe="transparent",je=`${B.days} days`),a.jsxs("div",{className:"flex items-center justify-between py-2.5",style:{borderBottom:z<ee.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-[13px] text-[var(--text-primary)] font-medium truncate",children:B.title}),a.jsxs("div",{className:"text-xs text-[var(--text-dim)] mt-1.5",children:[B.familyMemberName,B.frequency?`  ${B.frequency}`:""]})]}),B.days===0?a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold shrink-0",style:{background:xe,color:U},children:je}):a.jsx("span",{className:"text-xs font-medium shrink-0 tabular-nums",style:{color:U},children:je})]},B.reminderId||z)})]}),F.activeInsurance.length>0&&a.jsxs("div",{className:`rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors ${F.activeGoals.length===0?"md:col-span-2":""}`,onClick:()=>e("/insurance"),children:[a.jsx(ia,{label:"Insurance Coverage",color:"var(--text-muted)",linkText:"View All",onClick:B=>{B.stopPropagation(),e("/insurance")}}),a.jsxs("div",{className:"flex gap-3 mb-4 flex-wrap",children:[F.lifeCover>0&&a.jsxs("div",{className:"flex items-center gap-1 text-[13px]",children:[a.jsx("span",{className:"text-[var(--text-dim)]",children:"Life:"}),a.jsx("span",{className:"font-semibold text-cyan-400",children:Q(F.lifeCover)})]}),F.healthCover>0&&a.jsxs("div",{className:"flex items-center gap-1 text-[13px]",children:[a.jsx("span",{className:"text-[var(--text-dim)]",children:"Health:"}),a.jsx("span",{className:"font-semibold text-emerald-400",children:Q(F.healthCover)})]}),F.totalPremium>0&&a.jsxs("div",{className:"flex items-center gap-1 text-[13px]",children:[a.jsx("span",{className:"text-[var(--text-dim)]",children:"Premium:"}),a.jsxs("span",{className:"font-medium text-[var(--text-muted)]",children:[Q(F.totalPremium),"/yr"]})]})]}),a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Policy"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Nominee"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Policy No."}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-right pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Cover"})]})}),a.jsx("tbody",{children:F.activeInsurance.map((B,z)=>{const U=B.policyType==="Term Life"?"#22d3ee":B.policyType==="Health"?"#34d399":"#94a3b8";return a.jsxs("tr",{children:[a.jsxs("td",{className:"py-3.5",style:{borderBottom:z<F.activeInsurance.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:[a.jsx("div",{className:"text-[13px] font-medium text-[var(--text-primary)]",children:B.policyName}),a.jsxs("div",{className:"text-xs text-[var(--text-dim)] mt-1.5",children:[B.policyType,"  ",B.insuredMember]})]}),a.jsx("td",{className:"text-xs text-[var(--text-secondary)] py-3.5",style:{borderBottom:z<F.activeInsurance.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:B.nominee||""}),a.jsx("td",{className:"text-xs text-[var(--text-secondary)] font-medium py-3.5 tabular-nums",style:{borderBottom:z<F.activeInsurance.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:i(B.policyNumber,"policy")}),a.jsx("td",{className:"text-sm font-semibold py-3.5 text-right tabular-nums",style:{color:U,borderBottom:z<F.activeInsurance.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:Q(B.sumAssured)})]},B.policyId||z)})})]})]}),F.activeGoals.length>0&&a.jsxs("div",{className:`rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors ${F.activeInsurance.length===0?"md:col-span-2":""}`,onClick:()=>e("/goals"),children:[a.jsx(ia,{label:"Financial Goals",color:"var(--text-muted)",linkText:"View All",onClick:B=>{B.stopPropagation(),e("/goals")}}),F.activeGoals.map((B,z)=>{const U=B.targetAmount>0?Math.min(B.currentValue/B.targetAmount*100,100):0,xe=B.targetDate?new Date(B.targetDate).getFullYear():null;let je,ne;return U>=100?(je="#34d399",ne="Achieved"):B.status==="Needs Attention"?(je="#fbbf24",ne="Needs Attention"):B.status==="On Track"?(je="#60a5fa",ne="On Track"):(je="#a78bfa",ne=B.status||"In Progress"),a.jsxs("div",{className:z<F.activeGoals.length-1?"mb-4":"",children:[a.jsxs("div",{className:"flex items-center justify-between text-[13px]",children:[a.jsx("span",{className:"font-medium text-[var(--text-secondary)]",children:B.goalName}),a.jsxs("span",{className:"text-[var(--text-muted)] font-medium tabular-nums",children:[Q(B.currentValue)," ",a.jsxs("span",{className:"text-[var(--text-dim)] font-normal",children:["/ ",Q(B.targetAmount)]})]})]}),a.jsx("div",{className:"h-[5px] rounded-[3px] overflow-hidden mt-2",style:{background:"var(--bg-inset)"},children:a.jsx("div",{className:"h-full rounded-[3px]",style:{width:`${U}%`,background:je}})}),a.jsxs("div",{className:"flex items-center justify-between text-xs mt-2",children:[a.jsx("span",{className:"font-medium",style:{color:je},children:ne}),a.jsxs("span",{className:"text-[var(--text-dim)] tabular-nums",children:[U.toFixed(U>=100?0:1),"%",xe?`  ${xe}`:""]})]})]},B.goalId||z)})]}),a.jsx("div",{className:"md:col-span-2",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[F.filteredMembers.length>0&&a.jsxs("div",{className:"rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors",onClick:()=>e("/family"),children:[a.jsx(ia,{label:"Family Members",color:"var(--text-muted)",linkText:"View",onClick:B=>{B.stopPropagation(),e("/family")}}),a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Member"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Role"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-right pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Net Worth"})]})}),a.jsx("tbody",{children:F.filteredMembers.map((B,z)=>{const U=F.memberNetWorth[B.memberId]||0,xe=F.netWorth||1,je=xe>0?Math.round(U/xe*100):0,ne=m_[B.relationship]||m_.Child;return a.jsxs("tr",{children:[a.jsx("td",{className:"py-3.5",style:{borderBottom:z<F.filteredMembers.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-[26px] h-[26px] rounded-full flex items-center justify-center text-[11px] font-bold text-white shrink-0",style:{background:f_[z%f_.length]},children:B.memberName?.charAt(0)||"?"}),a.jsx("span",{className:"text-[13px] font-medium text-[var(--text-primary)]",children:B.memberName})]})}),a.jsx("td",{className:"py-3.5",style:{borderBottom:z<F.filteredMembers.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold",style:{background:ne.bg,color:ne.color},children:B.relationship})}),a.jsxs("td",{className:"text-[13px] font-semibold text-[var(--text-primary)] py-3.5 text-right tabular-nums",style:{borderBottom:z<F.filteredMembers.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:[Q(U),F.filteredMembers.length>1&&a.jsxs("span",{className:"text-[var(--text-dim)] font-normal ml-1",children:["(",je,"%)"]})]})]},B.memberId)})})]})]}),F.filteredBanks.length>0&&a.jsxs("div",{className:"rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors",onClick:()=>e("/accounts/bank"),children:[a.jsx(ia,{label:"Bank Accounts",color:"var(--text-muted)",linkText:"View",onClick:B=>{B.stopPropagation(),e("/accounts/bank")}}),a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Account"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Owner"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-right pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"A/C Number"})]})}),a.jsx("tbody",{children:F.filteredBanks.map((B,z)=>a.jsxs("tr",{children:[a.jsx("td",{className:"text-[13px] font-medium text-[var(--text-primary)] py-3.5",style:{borderBottom:z<F.filteredBanks.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:B.accountName}),a.jsx("td",{className:"text-[13px] text-[var(--text-secondary)] py-3.5",style:{borderBottom:z<F.filteredBanks.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:B.memberName}),a.jsx("td",{className:"text-[13px] text-[var(--text-secondary)] font-medium py-3.5 text-right tabular-nums",style:{borderBottom:z<F.filteredBanks.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:i(B.accountNumber,"account")})]},B.accountId||z))})]})]}),F.filteredInvAccounts.length>0&&a.jsxs("div",{className:"rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors",onClick:()=>e("/accounts/investment"),children:[a.jsx(ia,{label:"Investment Accounts",color:"var(--text-muted)",linkText:"View",onClick:B=>{B.stopPropagation(),e("/accounts/investment")}}),a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Platform"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Owner"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-right pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Client ID"})]})}),a.jsx("tbody",{children:F.filteredInvAccounts.map((B,z)=>a.jsxs("tr",{children:[a.jsx("td",{className:"text-[13px] font-medium text-[var(--text-primary)] py-3.5",style:{borderBottom:z<F.filteredInvAccounts.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:B.platformBroker}),a.jsx("td",{className:"text-[13px] text-[var(--text-secondary)] py-3.5",style:{borderBottom:z<F.filteredInvAccounts.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:B.memberName}),a.jsx("td",{className:"text-[13px] text-[var(--text-secondary)] font-medium py-3.5 text-right tabular-nums",style:{borderBottom:z<F.filteredInvAccounts.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:i(B.accountClientId,"clientId")})]},B.accountId||z))})]})]})]})}),a.jsxs("div",{ref:Z,className:"md:col-span-2 mt-4 rounded-xl border border-[var(--border)] overflow-hidden",style:{display:"none",background:"linear-gradient(135deg, var(--bg-card) 0%, rgba(16,185,129,0.03) 100%)"},children:[a.jsxs("div",{className:"px-6 py-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx("img",{src:"/logo-new.png",alt:"Capital Friends",className:"h-8 w-auto"}),a.jsxs("div",{children:[a.jsxs("span",{style:{fontFamily:"'Poppins', sans-serif",fontSize:"14px"},children:[a.jsx("span",{className:"font-bold text-[var(--text-primary)]",children:"Capital"}),a.jsx("span",{className:"font-extrabold text-emerald-400",children:"Friends"})]}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] -mt-0.5",children:"Family Portfolio Manager"})]})]}),a.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg",style:{background:"rgba(16,185,129,0.08)",border:"1px solid rgba(16,185,129,0.15)"},children:[a.jsx(SO,{size:13,className:"text-emerald-400"}),a.jsx("span",{className:"text-xs font-semibold text-emerald-400",children:"capitalfriends.in"})]})]}),a.jsx("div",{className:"border-t border-[var(--border-light)]"}),a.jsxs("div",{className:"px-6 py-5 text-center",style:{background:"linear-gradient(180deg, rgba(245,158,11,0.05) 0%, rgba(139,92,246,0.05) 100%)"},children:[a.jsxs("p",{className:"text-sm font-semibold text-amber-400",children:[""," Support the Developer"]}),a.jsx("p",{className:"text-xs text-[var(--text-secondary)] mt-1",children:"Capital Friends is free and always will be. If it helps your family, a small donation means a lot!"}),a.jsx("div",{className:"mt-4 inline-block bg-white rounded-xl p-3",children:a.jsx("img",{src:"/upi-qr-code.png",alt:"UPI QR Code",className:"w-40 h-40 object-contain"})}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-2",children:"Scan with any UPI app"}),a.jsxs("div",{className:"mt-2 inline-block bg-[var(--bg-inset)] rounded-lg px-4 py-2 border border-[var(--border)]",children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:"UPI ID"}),a.jsx("p",{className:"text-sm font-mono font-semibold text-[var(--text-primary)]",children:"jagadeeshmanne.hdfc@kphdfc"})]}),a.jsxs("p",{className:"text-[11px] text-[var(--text-dim)] mt-3",children:["Built with ",""," by Jagadeesh Manne"]})]})]})]})]})]})}function mce(){return a.jsxs(j6,{children:[a.jsx(rr,{index:!0,element:a.jsx(Wse,{})}),a.jsx(rr,{path:"login",element:a.jsx(XI,{})}),a.jsx(rr,{element:a.jsx(qse,{}),children:a.jsxs(rr,{element:a.jsx(Hse,{}),children:[a.jsx(rr,{path:"dashboard",element:a.jsx(fce,{})}),a.jsx(rr,{path:"family",element:a.jsx(Toe,{})}),a.jsx(rr,{path:"accounts/bank",element:a.jsx(LD,{})}),a.jsx(rr,{path:"accounts/investment",element:a.jsx(ele,{})}),a.jsx(rr,{path:"insurance",element:a.jsx(ale,{})}),a.jsx(rr,{path:"investments/mutual-funds",element:a.jsx(goe,{})}),a.jsx(rr,{path:"investments/stocks",element:a.jsx(Eoe,{})}),a.jsx(rr,{path:"investments/other",element:a.jsx(xle,{})}),a.jsx(rr,{path:"liabilities",element:a.jsx(ole,{})}),a.jsx(rr,{path:"goals",element:a.jsx(zoe,{})}),a.jsx(rr,{path:"reports",element:a.jsx(Xoe,{})}),a.jsx(rr,{path:"reminders",element:a.jsx(Koe,{})}),a.jsx(rr,{path:"health-check",element:a.jsx(Zoe,{})}),a.jsx(rr,{path:"about",element:a.jsx(ece,{})}),a.jsx(rr,{path:"test",element:a.jsx(lce,{})}),a.jsx(rr,{path:"settings",element:a.jsx(qoe,{})}),a.jsx(rr,{path:"more",element:a.jsx(Hoe,{})}),a.jsx(rr,{path:"accounts",element:a.jsx(LD,{})}),a.jsx(rr,{path:"*",element:a.jsx(Kse,{})})]})})]})}S8.createRoot(document.getElementById("root")).render(a.jsx(G6,{children:a.jsx(JF,{children:a.jsx(ez,{children:a.jsx(C$,{children:a.jsx(p$,{children:a.jsx(h$,{children:a.jsx(rz,{children:a.jsx(nz,{children:a.jsx(mce,{})})})})})})})})}));export{op as _,pce as c,ci as g};
