function XL(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const l=Object.getOwnPropertyDescriptor(n,i);l&&Object.defineProperty(e,i,l.get?l:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(i){if(i.ep)return;i.ep=!0;const l=r(i);fetch(i.href,l)}})();var Foe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function li(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var H0={exports:{}},Iu={};var yC;function ZL(){if(yC)return Iu;yC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,i,l){var c=null;if(l!==void 0&&(c=""+l),i.key!==void 0&&(c=""+i.key),"key"in i){l={};for(var u in i)u!=="key"&&(l[u]=i[u])}else l=i;return i=l.ref,{$$typeof:e,type:n,key:c,ref:i!==void 0?i:null,props:l}}return Iu.Fragment=t,Iu.jsx=r,Iu.jsxs=r,Iu}var jC;function JL(){return jC||(jC=1,H0.exports=ZL()),H0.exports}var a=JL(),U0={exports:{}},st={};var NC;function e6(){if(NC)return st;NC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),v=Symbol.iterator;function g(F){return F===null||typeof F!="object"?null:(F=v&&F[v]||F["@@iterator"],typeof F=="function"?F:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,N={};function C(F,ue,J){this.props=F,this.context=ue,this.refs=N,this.updater=J||S}C.prototype.isReactComponent={},C.prototype.setState=function(F,ue){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ue,"setState")},C.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function A(){}A.prototype=C.prototype;function k(F,ue,J){this.props=F,this.context=ue,this.refs=N,this.updater=J||S}var M=k.prototype=new A;M.constructor=k,y(M,C.prototype),M.isPureReactComponent=!0;var D=Array.isArray;function O(){}var P={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function $(F,ue,J){var B=J.ref;return{$$typeof:e,type:F,key:ue,ref:B!==void 0?B:null,props:J}}function L(F,ue){return $(F.type,ue,F.props)}function q(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function E(F){var ue={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(J){return ue[J]})}var Z=/\/+/g;function Q(F,ue){return typeof F=="object"&&F!==null&&F.key!=null?E(""+F.key):ue.toString(36)}function re(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(O,O):(F.status="pending",F.then(function(ue){F.status==="pending"&&(F.status="fulfilled",F.value=ue)},function(ue){F.status==="pending"&&(F.status="rejected",F.reason=ue)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function R(F,ue,J,B,z){var U=typeof F;(U==="undefined"||U==="boolean")&&(F=null);var xe=!1;if(F===null)xe=!0;else switch(U){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(F.$$typeof){case e:case t:xe=!0;break;case h:return xe=F._init,R(xe(F._payload),ue,J,B,z)}}if(xe)return z=z(F),xe=B===""?"."+Q(F,0):B,D(z)?(J="",xe!=null&&(J=xe.replace(Z,"$&/")+"/"),R(z,ue,J,"",function(Ee){return Ee})):z!=null&&(q(z)&&(z=L(z,J+(z.key==null||F&&F.key===z.key?"":(""+z.key).replace(Z,"$&/")+"/")+xe)),ue.push(z)),1;xe=0;var Ne=B===""?".":B+":";if(D(F))for(var ne=0;ne<F.length;ne++)B=F[ne],U=Ne+Q(B,ne),xe+=R(B,ue,J,U,z);else if(ne=g(F),typeof ne=="function")for(F=ne.call(F),ne=0;!(B=F.next()).done;)B=B.value,U=Ne+Q(B,ne++),xe+=R(B,ue,J,U,z);else if(U==="object"){if(typeof F.then=="function")return R(re(F),ue,J,B,z);throw ue=String(F),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return xe}function G(F,ue,J){if(F==null)return F;var B=[],z=0;return R(F,B,"","",function(U){return ue.call(J,U,z++)}),B}function pe(F){if(F._status===-1){var ue=F._result;ue=ue(),ue.then(function(J){(F._status===0||F._status===-1)&&(F._status=1,F._result=J)},function(J){(F._status===0||F._status===-1)&&(F._status=2,F._result=J)}),F._status===-1&&(F._status=0,F._result=ue)}if(F._status===1)return F._result.default;throw F._result}var je=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},we={map:G,forEach:function(F,ue,J){G(F,function(){ue.apply(this,arguments)},J)},count:function(F){var ue=0;return G(F,function(){ue++}),ue},toArray:function(F){return G(F,function(ue){return ue})||[]},only:function(F){if(!q(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return st.Activity=x,st.Children=we,st.Component=C,st.Fragment=r,st.Profiler=i,st.PureComponent=k,st.StrictMode=n,st.Suspense=f,st.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,st.__COMPILER_RUNTIME={__proto__:null,c:function(F){return P.H.useMemoCache(F)}},st.cache=function(F){return function(){return F.apply(null,arguments)}},st.cacheSignal=function(){return null},st.cloneElement=function(F,ue,J){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var B=y({},F.props),z=F.key;if(ue!=null)for(U in ue.key!==void 0&&(z=""+ue.key),ue)!T.call(ue,U)||U==="key"||U==="__self"||U==="__source"||U==="ref"&&ue.ref===void 0||(B[U]=ue[U]);var U=arguments.length-2;if(U===1)B.children=J;else if(1<U){for(var xe=Array(U),Ne=0;Ne<U;Ne++)xe[Ne]=arguments[Ne+2];B.children=xe}return $(F.type,z,B)},st.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:l,_context:F},F},st.createElement=function(F,ue,J){var B,z={},U=null;if(ue!=null)for(B in ue.key!==void 0&&(U=""+ue.key),ue)T.call(ue,B)&&B!=="key"&&B!=="__self"&&B!=="__source"&&(z[B]=ue[B]);var xe=arguments.length-2;if(xe===1)z.children=J;else if(1<xe){for(var Ne=Array(xe),ne=0;ne<xe;ne++)Ne[ne]=arguments[ne+2];z.children=Ne}if(F&&F.defaultProps)for(B in xe=F.defaultProps,xe)z[B]===void 0&&(z[B]=xe[B]);return $(F,U,z)},st.createRef=function(){return{current:null}},st.forwardRef=function(F){return{$$typeof:u,render:F}},st.isValidElement=q,st.lazy=function(F){return{$$typeof:h,_payload:{_status:-1,_result:F},_init:pe}},st.memo=function(F,ue){return{$$typeof:m,type:F,compare:ue===void 0?null:ue}},st.startTransition=function(F){var ue=P.T,J={};P.T=J;try{var B=F(),z=P.S;z!==null&&z(J,B),typeof B=="object"&&B!==null&&typeof B.then=="function"&&B.then(O,je)}catch(U){je(U)}finally{ue!==null&&J.types!==null&&(ue.types=J.types),P.T=ue}},st.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},st.use=function(F){return P.H.use(F)},st.useActionState=function(F,ue,J){return P.H.useActionState(F,ue,J)},st.useCallback=function(F,ue){return P.H.useCallback(F,ue)},st.useContext=function(F){return P.H.useContext(F)},st.useDebugValue=function(){},st.useDeferredValue=function(F,ue){return P.H.useDeferredValue(F,ue)},st.useEffect=function(F,ue){return P.H.useEffect(F,ue)},st.useEffectEvent=function(F){return P.H.useEffectEvent(F)},st.useId=function(){return P.H.useId()},st.useImperativeHandle=function(F,ue,J){return P.H.useImperativeHandle(F,ue,J)},st.useInsertionEffect=function(F,ue){return P.H.useInsertionEffect(F,ue)},st.useLayoutEffect=function(F,ue){return P.H.useLayoutEffect(F,ue)},st.useMemo=function(F,ue){return P.H.useMemo(F,ue)},st.useOptimistic=function(F,ue){return P.H.useOptimistic(F,ue)},st.useReducer=function(F,ue,J){return P.H.useReducer(F,ue,J)},st.useRef=function(F){return P.H.useRef(F)},st.useState=function(F){return P.H.useState(F)},st.useSyncExternalStore=function(F,ue,J){return P.H.useSyncExternalStore(F,ue,J)},st.useTransition=function(){return P.H.useTransition()},st.version="19.2.4",st}var wC;function Ac(){return wC||(wC=1,U0.exports=e6()),U0.exports}var j=Ac();const he=li(j),m1=XL({__proto__:null,default:he},[j]);var Y0={exports:{}},Ru={},V0={exports:{}},G0={};var SC;function t6(){return SC||(SC=1,(function(e){function t(R,G){var pe=R.length;R.push(G);e:for(;0<pe;){var je=pe-1>>>1,we=R[je];if(0<i(we,G))R[je]=G,R[pe]=we,pe=je;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var G=R[0],pe=R.pop();if(pe!==G){R[0]=pe;e:for(var je=0,we=R.length,F=we>>>1;je<F;){var ue=2*(je+1)-1,J=R[ue],B=ue+1,z=R[B];if(0>i(J,pe))B<we&&0>i(z,J)?(R[je]=z,R[B]=pe,je=B):(R[je]=J,R[ue]=pe,je=ue);else if(B<we&&0>i(z,pe))R[je]=z,R[B]=pe,je=B;else break e}}return G}function i(R,G){var pe=R.sortIndex-G.sortIndex;return pe!==0?pe:R.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var f=[],m=[],h=1,x=null,v=3,g=!1,S=!1,y=!1,N=!1,C=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function M(R){for(var G=r(m);G!==null;){if(G.callback===null)n(m);else if(G.startTime<=R)n(m),G.sortIndex=G.expirationTime,t(f,G);else break;G=r(m)}}function D(R){if(y=!1,M(R),!S)if(r(f)!==null)S=!0,O||(O=!0,E());else{var G=r(m);G!==null&&re(D,G.startTime-R)}}var O=!1,P=-1,T=5,$=-1;function L(){return N?!0:!(e.unstable_now()-$<T)}function q(){if(N=!1,O){var R=e.unstable_now();$=R;var G=!0;try{e:{S=!1,y&&(y=!1,A(P),P=-1),g=!0;var pe=v;try{t:{for(M(R),x=r(f);x!==null&&!(x.expirationTime>R&&L());){var je=x.callback;if(typeof je=="function"){x.callback=null,v=x.priorityLevel;var we=je(x.expirationTime<=R);if(R=e.unstable_now(),typeof we=="function"){x.callback=we,M(R),G=!0;break t}x===r(f)&&n(f),M(R)}else n(f);x=r(f)}if(x!==null)G=!0;else{var F=r(m);F!==null&&re(D,F.startTime-R),G=!1}}break e}finally{x=null,v=pe,g=!1}G=void 0}}finally{G?E():O=!1}}}var E;if(typeof k=="function")E=function(){k(q)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,Q=Z.port2;Z.port1.onmessage=q,E=function(){Q.postMessage(null)}}else E=function(){C(q,0)};function re(R,G){P=C(function(){R(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(R){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var pe=v;v=G;try{return R()}finally{v=pe}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(R,G){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var pe=v;v=R;try{return G()}finally{v=pe}},e.unstable_scheduleCallback=function(R,G,pe){var je=e.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?je+pe:je):pe=je,R){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=pe+we,R={id:h++,callback:G,priorityLevel:R,startTime:pe,expirationTime:we,sortIndex:-1},pe>je?(R.sortIndex=pe,t(m,R),r(f)===null&&R===r(m)&&(y?(A(P),P=-1):y=!0,re(D,pe-je))):(R.sortIndex=we,t(f,R),S||g||(S=!0,O||(O=!0,E()))),R},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(R){var G=v;return function(){var pe=v;v=G;try{return R.apply(this,arguments)}finally{v=pe}}}})(G0)),G0}var CC;function r6(){return CC||(CC=1,V0.exports=t6()),V0.exports}var W0={exports:{}},Jr={};var kC;function n6(){if(kC)return Jr;kC=1;var e=Ac();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)m+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(f,m,h){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:x==null?null:""+x,children:f,containerInfo:m,implementation:h}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Jr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Jr.createPortal=function(f,m){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(f,m,null,h)},Jr.flushSync=function(f){var m=c.T,h=n.p;try{if(c.T=null,n.p=2,f)return f()}finally{c.T=m,n.p=h,n.d.f()}},Jr.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(f,m))},Jr.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},Jr.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var h=m.as,x=u(h,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,g=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;h==="style"?n.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:v,fetchPriority:g}):h==="script"&&n.d.X(f,{crossOrigin:x,integrity:v,fetchPriority:g,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Jr.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var h=u(m.as,m.crossOrigin);n.d.M(f,{crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(f)},Jr.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var h=m.as,x=u(h,m.crossOrigin);n.d.L(f,h,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Jr.preloadModule=function(f,m){if(typeof f=="string")if(m){var h=u(m.as,m.crossOrigin);n.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(f)},Jr.requestFormReset=function(f){n.d.r(f)},Jr.unstable_batchedUpdates=function(f,m){return f(m)},Jr.useFormState=function(f,m,h){return c.H.useFormState(f,m,h)},Jr.useFormStatus=function(){return c.H.useHostTransitionStatus()},Jr.version="19.2.4",Jr}var AC;function s_(){if(AC)return W0.exports;AC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),W0.exports=n6(),W0.exports}var MC;function a6(){if(MC)return Ru;MC=1;var e=r6(),t=Ac(),r=s_();function n(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var o=s,d=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(d=o.return),s=o.return;while(s)}return o.tag===3?d:null}function c(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function u(s){if(s.tag===31){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function f(s){if(l(s)!==s)throw Error(n(188))}function m(s){var o=s.alternate;if(!o){if(o=l(s),o===null)throw Error(n(188));return o!==s?null:s}for(var d=s,p=o;;){var b=d.return;if(b===null)break;var w=b.alternate;if(w===null){if(p=b.return,p!==null){d=p;continue}break}if(b.child===w.child){for(w=b.child;w;){if(w===d)return f(b),s;if(w===p)return f(b),o;w=w.sibling}throw Error(n(188))}if(d.return!==p.return)d=b,p=w;else{for(var _=!1,I=b.child;I;){if(I===d){_=!0,d=b,p=w;break}if(I===p){_=!0,p=b,d=w;break}I=I.sibling}if(!_){for(I=w.child;I;){if(I===d){_=!0,d=w,p=b;break}if(I===p){_=!0,p=w,d=b;break}I=I.sibling}if(!_)throw Error(n(189))}}if(d.alternate!==p)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?s:o}function h(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=h(s),o!==null)return o;s=s.sibling}return null}var x=Object.assign,v=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),k=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function E(s){return s===null||typeof s!="object"?null:(s=q&&s[q]||s["@@iterator"],typeof s=="function"?s:null)}var Z=Symbol.for("react.client.reference");function Q(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===Z?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case y:return"Fragment";case C:return"Profiler";case N:return"StrictMode";case D:return"Suspense";case O:return"SuspenseList";case $:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case S:return"Portal";case k:return s.displayName||"Context";case A:return(s._context.displayName||"Context")+".Consumer";case M:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case P:return o=s.displayName||null,o!==null?o:Q(s.type)||"Memo";case T:o=s._payload,s=s._init;try{return Q(s(o))}catch{}}return null}var re=Array.isArray,R=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},je=[],we=-1;function F(s){return{current:s}}function ue(s){0>we||(s.current=je[we],je[we]=null,we--)}function J(s,o){we++,je[we]=s.current,s.current=o}var B=F(null),z=F(null),U=F(null),xe=F(null);function Ne(s,o){switch(J(U,o),J(z,s),J(B,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?HS(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=HS(o),s=US(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ue(B),J(B,s)}function ne(){ue(B),ue(z),ue(U)}function Ee(s){s.memoizedState!==null&&J(xe,s);var o=B.current,d=US(o,s.type);o!==d&&(J(z,s),J(B,d))}function Ce(s){z.current===s&&(ue(B),ue(z)),xe.current===s&&(ue(xe),_u._currentValue=pe)}var oe,$e;function Ie(s){if(oe===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);oe=o&&o[1]||"",$e=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oe+s+$e}var Re=!1;function rt(s,o){if(!s||Re)return"";Re=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(fe){var le=fe}Reflect.construct(s,[],be)}else{try{be.call()}catch(fe){le=fe}s.call(be.prototype)}}else{try{throw Error()}catch(fe){le=fe}(be=s())&&typeof be.catch=="function"&&be.catch(function(){})}}catch(fe){if(fe&&le&&typeof fe.stack=="string")return[fe.stack,le.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=p.DetermineComponentFrameRoot(),_=w[0],I=w[1];if(_&&I){var V=_.split(`
`),ie=I.split(`
`);for(b=p=0;p<V.length&&!V[p].includes("DetermineComponentFrameRoot");)p++;for(;b<ie.length&&!ie[b].includes("DetermineComponentFrameRoot");)b++;if(p===V.length||b===ie.length)for(p=V.length-1,b=ie.length-1;1<=p&&0<=b&&V[p]!==ie[b];)b--;for(;1<=p&&0<=b;p--,b--)if(V[p]!==ie[b]){if(p!==1||b!==1)do if(p--,b--,0>b||V[p]!==ie[b]){var ve=`
`+V[p].replace(" at new "," at ");return s.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",s.displayName)),ve}while(1<=p&&0<=b);break}}}finally{Re=!1,Error.prepareStackTrace=d}return(d=s?s.displayName||s.name:"")?Ie(d):""}function Nt(s,o){switch(s.tag){case 26:case 27:case 5:return Ie(s.type);case 16:return Ie("Lazy");case 13:return s.child!==o&&o!==null?Ie("Suspense Fallback"):Ie("Suspense");case 19:return Ie("SuspenseList");case 0:case 15:return rt(s.type,!1);case 11:return rt(s.type.render,!1);case 1:return rt(s.type,!0);case 31:return Ie("Activity");default:return""}}function zt(s){try{var o="",d=null;do o+=Nt(s,d),d=s,s=s.return;while(s);return o}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Ht=Object.prototype.hasOwnProperty,Xt=e.unstable_scheduleCallback,Zt=e.unstable_cancelCallback,ye=e.unstable_shouldYield,_e=e.unstable_requestPaint,ze=e.unstable_now,Mt=e.unstable_getCurrentPriorityLevel,W=e.unstable_ImmediatePriority,H=e.unstable_UserBlockingPriority,te=e.unstable_NormalPriority,ke=e.unstable_LowPriority,Ue=e.unstable_IdlePriority,se=e.log,it=e.unstable_setDisableYieldValue,Ye=null,Be=null;function Je(s){if(typeof se=="function"&&it(s),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(Ye,s)}catch{}}var nt=Math.clz32?Math.clz32:De,Ut=Math.log,Qe=Math.LN2;function De(s){return s>>>=0,s===0?32:31-(Ut(s)/Qe|0)|0}var We=256,Fe=262144,bt=4194304;function Bt(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Yt(s,o,d){var p=s.pendingLanes;if(p===0)return 0;var b=0,w=s.suspendedLanes,_=s.pingedLanes;s=s.warmLanes;var I=p&134217727;return I!==0?(p=I&~w,p!==0?b=Bt(p):(_&=I,_!==0?b=Bt(_):d||(d=I&~s,d!==0&&(b=Bt(d))))):(I=p&~w,I!==0?b=Bt(I):_!==0?b=Bt(_):d||(d=p&~s,d!==0&&(b=Bt(d)))),b===0?0:o!==0&&o!==b&&(o&w)===0&&(w=b&-b,d=o&-o,w>=d||w===32&&(d&4194048)!==0)?o:b}function gr(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function kn(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function de(){var s=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),s}function Ae(s){for(var o=[],d=0;31>d;d++)o.push(s);return o}function Xe(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Jt(s,o,d,p,b,w){var _=s.pendingLanes;s.pendingLanes=d,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=d,s.entangledLanes&=d,s.errorRecoveryDisabledLanes&=d,s.shellSuspendCounter=0;var I=s.entanglements,V=s.expirationTimes,ie=s.hiddenUpdates;for(d=_&~d;0<d;){var ve=31-nt(d),be=1<<ve;I[ve]=0,V[ve]=-1;var le=ie[ve];if(le!==null)for(ie[ve]=null,ve=0;ve<le.length;ve++){var fe=le[ve];fe!==null&&(fe.lane&=-536870913)}d&=~be}p!==0&&sr(s,p,0),w!==0&&b===0&&s.tag!==0&&(s.suspendedLanes|=w&~(_&~o))}function sr(s,o,d){s.pendingLanes|=o,s.suspendedLanes&=~o;var p=31-nt(o);s.entangledLanes|=o,s.entanglements[p]=s.entanglements[p]|1073741824|d&261930}function mi(s,o){var d=s.entangledLanes|=o;for(s=s.entanglements;d;){var p=31-nt(d),b=1<<p;b&o|s[p]&o&&(s[p]|=o),d&=~b}}function il(s,o){var d=o&-o;return d=(d&42)!==0?1:sl(d),(d&(s.suspendedLanes|o))!==0?0:d}function sl(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Yc(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function rf(){var s=G.p;return s!==0?s:(s=window.event,s===void 0?32:mC(s.type))}function nf(s,o){var d=G.p;try{return G.p=s,o()}finally{G.p=d}}var Pa=Math.random().toString(36).slice(2),Or="__reactFiber$"+Pa,Zr="__reactProps$"+Pa,ss="__reactContainer$"+Pa,Vc="__reactEvents$"+Pa,Px="__reactListeners$"+Pa,Ix="__reactHandles$"+Pa,af="__reactResources$"+Pa,ll="__reactMarker$"+Pa;function Gc(s){delete s[Or],delete s[Zr],delete s[Vc],delete s[Px],delete s[Ix]}function ls(s){var o=s[Or];if(o)return o;for(var d=s.parentNode;d;){if(o=d[ss]||d[Or]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(s=XS(s);s!==null;){if(d=s[Or])return d;s=XS(s)}return o}s=d,d=s.parentNode}return null}function os(s){if(s=s[Or]||s[ss]){var o=s.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return s}return null}function ol(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(n(33))}function cs(s){var o=s[af];return o||(o=s[af]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Sr(s){s[ll]=!0}var sf=new Set,Y={};function Se(s,o){cr(s,o),cr(s+"Capture",o)}function cr(s,o){for(Y[s]=o,s=0;s<o.length;s++)sf.add(o[s])}var An=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ia={},Ra={};function pi(s){return Ht.call(Ra,s)?!0:Ht.call(Ia,s)?!1:An.test(s)?Ra[s]=!0:(Ia[s]=!0,!1)}function hi(s,o,d){if(pi(o))if(d===null)s.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+d)}}function cl(s,o,d){if(d===null)s.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+d)}}function Cr(s,o,d,p){if(p===null)s.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(d);return}s.setAttributeNS(o,d,""+p)}}function br(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function IN(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function UI(s,o,d){var p=Object.getOwnPropertyDescriptor(s.constructor.prototype,o);if(!s.hasOwnProperty(o)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var b=p.get,w=p.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return b.call(this)},set:function(_){d=""+_,w.call(this,_)}}),Object.defineProperty(s,o,{enumerable:p.enumerable}),{getValue:function(){return d},setValue:function(_){d=""+_},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Rx(s){if(!s._valueTracker){var o=IN(s)?"checked":"value";s._valueTracker=UI(s,o,""+s[o])}}function RN(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var d=o.getValue(),p="";return s&&(p=IN(s)?s.checked?"true":"false":s.value),s=p,s!==d?(o.setValue(s),!0):!1}function lf(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var YI=/[\n"\\]/g;function Vn(s){return s.replace(YI,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Lx(s,o,d,p,b,w,_,I){s.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?s.type=_:s.removeAttribute("type"),o!=null?_==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+br(o)):s.value!==""+br(o)&&(s.value=""+br(o)):_!=="submit"&&_!=="reset"||s.removeAttribute("value"),o!=null?Fx(s,_,br(o)):d!=null?Fx(s,_,br(d)):p!=null&&s.removeAttribute("value"),b==null&&w!=null&&(s.defaultChecked=!!w),b!=null&&(s.checked=b&&typeof b!="function"&&typeof b!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.name=""+br(I):s.removeAttribute("name")}function LN(s,o,d,p,b,w,_,I){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.type=w),o!=null||d!=null){if(!(w!=="submit"&&w!=="reset"||o!=null)){Rx(s);return}d=d!=null?""+br(d):"",o=o!=null?""+br(o):d,I||o===s.value||(s.value=o),s.defaultValue=o}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,s.checked=I?s.checked:!!p,s.defaultChecked=!!p,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.name=_),Rx(s)}function Fx(s,o,d){o==="number"&&lf(s.ownerDocument)===s||s.defaultValue===""+d||(s.defaultValue=""+d)}function co(s,o,d,p){if(s=s.options,o){o={};for(var b=0;b<d.length;b++)o["$"+d[b]]=!0;for(d=0;d<s.length;d++)b=o.hasOwnProperty("$"+s[d].value),s[d].selected!==b&&(s[d].selected=b),b&&p&&(s[d].defaultSelected=!0)}else{for(d=""+br(d),o=null,b=0;b<s.length;b++){if(s[b].value===d){s[b].selected=!0,p&&(s[b].defaultSelected=!0);return}o!==null||s[b].disabled||(o=s[b])}o!==null&&(o.selected=!0)}}function FN(s,o,d){if(o!=null&&(o=""+br(o),o!==s.value&&(s.value=o),d==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=d!=null?""+br(d):""}function zN(s,o,d,p){if(o==null){if(p!=null){if(d!=null)throw Error(n(92));if(re(p)){if(1<p.length)throw Error(n(93));p=p[0]}d=p}d==null&&(d=""),o=d}d=br(o),s.defaultValue=d,p=s.textContent,p===d&&p!==""&&p!==null&&(s.value=p),Rx(s)}function uo(s,o){if(o){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=o;return}}s.textContent=o}var VI=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function BN(s,o,d){var p=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":p?s.setProperty(o,d):typeof d!="number"||d===0||VI.has(o)?o==="float"?s.cssFloat=d:s[o]=(""+d).trim():s[o]=d+"px"}function $N(s,o,d){if(o!=null&&typeof o!="object")throw Error(n(62));if(s=s.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?s.setProperty(p,""):p==="float"?s.cssFloat="":s[p]="");for(var b in o)p=o[b],o.hasOwnProperty(b)&&d[b]!==p&&BN(s,b,p)}else for(var w in o)o.hasOwnProperty(w)&&BN(s,w,o[w])}function zx(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var GI=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),WI=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function of(s){return WI.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function xi(){}var Bx=null;function $x(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var fo=null,mo=null;function qN(s){var o=os(s);if(o&&(s=o.stateNode)){var d=s[Zr]||null;e:switch(s=o.stateNode,o.type){case"input":if(Lx(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Vn(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var p=d[o];if(p!==s&&p.form===s.form){var b=p[Zr]||null;if(!b)throw Error(n(90));Lx(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(o=0;o<d.length;o++)p=d[o],p.form===s.form&&RN(p)}break e;case"textarea":FN(s,d.value,d.defaultValue);break e;case"select":o=d.value,o!=null&&co(s,!!d.multiple,o,!1)}}}var qx=!1;function HN(s,o,d){if(qx)return s(o,d);qx=!0;try{var p=s(o);return p}finally{if(qx=!1,(fo!==null||mo!==null)&&(Kf(),fo&&(o=fo,s=mo,mo=fo=null,qN(o),s)))for(o=0;o<s.length;o++)qN(s[o])}}function Wc(s,o){var d=s.stateNode;if(d===null)return null;var p=d[Zr]||null;if(p===null)return null;d=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(n(231,o,typeof d));return d}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hx=!1;if(vi)try{var Kc={};Object.defineProperty(Kc,"passive",{get:function(){Hx=!0}}),window.addEventListener("test",Kc,Kc),window.removeEventListener("test",Kc,Kc)}catch{Hx=!1}var us=null,Ux=null,cf=null;function UN(){if(cf)return cf;var s,o=Ux,d=o.length,p,b="value"in us?us.value:us.textContent,w=b.length;for(s=0;s<d&&o[s]===b[s];s++);var _=d-s;for(p=1;p<=_&&o[d-p]===b[w-p];p++);return cf=b.slice(s,1<p?1-p:void 0)}function uf(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function df(){return!0}function YN(){return!1}function dn(s){function o(d,p,b,w,_){this._reactName=d,this._targetInst=b,this.type=p,this.nativeEvent=w,this.target=_,this.currentTarget=null;for(var I in s)s.hasOwnProperty(I)&&(d=s[I],this[I]=d?d(w):w[I]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?df:YN,this.isPropagationStopped=YN,this}return x(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=df)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=df)},persist:function(){},isPersistent:df}),o}var ul={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ff=dn(ul),Qc=x({},ul,{view:0,detail:0}),KI=dn(Qc),Yx,Vx,Xc,mf=x({},Qc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wx,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Xc&&(Xc&&s.type==="mousemove"?(Yx=s.screenX-Xc.screenX,Vx=s.screenY-Xc.screenY):Vx=Yx=0,Xc=s),Yx)},movementY:function(s){return"movementY"in s?s.movementY:Vx}}),VN=dn(mf),QI=x({},mf,{dataTransfer:0}),XI=dn(QI),ZI=x({},Qc,{relatedTarget:0}),Gx=dn(ZI),JI=x({},ul,{animationName:0,elapsedTime:0,pseudoElement:0}),eR=dn(JI),tR=x({},ul,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),rR=dn(tR),nR=x({},ul,{data:0}),GN=dn(nR),aR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lR(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=sR[s])?!!o[s]:!1}function Wx(){return lR}var oR=x({},Qc,{key:function(s){if(s.key){var o=aR[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=uf(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?iR[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wx,charCode:function(s){return s.type==="keypress"?uf(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?uf(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),cR=dn(oR),uR=x({},mf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),WN=dn(uR),dR=x({},Qc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wx}),fR=dn(dR),mR=x({},ul,{propertyName:0,elapsedTime:0,pseudoElement:0}),pR=dn(mR),hR=x({},mf,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),xR=dn(hR),vR=x({},ul,{newState:0,oldState:0}),gR=dn(vR),bR=[9,13,27,32],Kx=vi&&"CompositionEvent"in window,Zc=null;vi&&"documentMode"in document&&(Zc=document.documentMode);var yR=vi&&"TextEvent"in window&&!Zc,KN=vi&&(!Kx||Zc&&8<Zc&&11>=Zc),QN=" ",XN=!1;function ZN(s,o){switch(s){case"keyup":return bR.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function JN(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var po=!1;function jR(s,o){switch(s){case"compositionend":return JN(o);case"keypress":return o.which!==32?null:(XN=!0,QN);case"textInput":return s=o.data,s===QN&&XN?null:s;default:return null}}function NR(s,o){if(po)return s==="compositionend"||!Kx&&ZN(s,o)?(s=UN(),cf=Ux=us=null,po=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return KN&&o.locale!=="ko"?null:o.data;default:return null}}var wR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ew(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!wR[s.type]:o==="textarea"}function tw(s,o,d,p){fo?mo?mo.push(p):mo=[p]:fo=p,o=rm(o,"onChange"),0<o.length&&(d=new ff("onChange","change",null,d,p),s.push({event:d,listeners:o}))}var Jc=null,eu=null;function SR(s){LS(s,0)}function pf(s){var o=ol(s);if(RN(o))return s}function rw(s,o){if(s==="change")return o}var nw=!1;if(vi){var Qx;if(vi){var Xx="oninput"in document;if(!Xx){var aw=document.createElement("div");aw.setAttribute("oninput","return;"),Xx=typeof aw.oninput=="function"}Qx=Xx}else Qx=!1;nw=Qx&&(!document.documentMode||9<document.documentMode)}function iw(){Jc&&(Jc.detachEvent("onpropertychange",sw),eu=Jc=null)}function sw(s){if(s.propertyName==="value"&&pf(eu)){var o=[];tw(o,eu,s,$x(s)),HN(SR,o)}}function CR(s,o,d){s==="focusin"?(iw(),Jc=o,eu=d,Jc.attachEvent("onpropertychange",sw)):s==="focusout"&&iw()}function kR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return pf(eu)}function AR(s,o){if(s==="click")return pf(o)}function MR(s,o){if(s==="input"||s==="change")return pf(o)}function DR(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Mn=typeof Object.is=="function"?Object.is:DR;function tu(s,o){if(Mn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var d=Object.keys(s),p=Object.keys(o);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var b=d[p];if(!Ht.call(o,b)||!Mn(s[b],o[b]))return!1}return!0}function lw(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function ow(s,o){var d=lw(s);s=0;for(var p;d;){if(d.nodeType===3){if(p=s+d.textContent.length,s<=o&&p>=o)return{node:d,offset:o-s};s=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=lw(d)}}function cw(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?cw(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function uw(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=lf(s.document);o instanceof s.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)s=o.contentWindow;else break;o=lf(s.document)}return o}function Zx(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var ER=vi&&"documentMode"in document&&11>=document.documentMode,ho=null,Jx=null,ru=null,ev=!1;function dw(s,o,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;ev||ho==null||ho!==lf(p)||(p=ho,"selectionStart"in p&&Zx(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ru&&tu(ru,p)||(ru=p,p=rm(Jx,"onSelect"),0<p.length&&(o=new ff("onSelect","select",null,o,d),s.push({event:o,listeners:p}),o.target=ho)))}function dl(s,o){var d={};return d[s.toLowerCase()]=o.toLowerCase(),d["Webkit"+s]="webkit"+o,d["Moz"+s]="moz"+o,d}var xo={animationend:dl("Animation","AnimationEnd"),animationiteration:dl("Animation","AnimationIteration"),animationstart:dl("Animation","AnimationStart"),transitionrun:dl("Transition","TransitionRun"),transitionstart:dl("Transition","TransitionStart"),transitioncancel:dl("Transition","TransitionCancel"),transitionend:dl("Transition","TransitionEnd")},tv={},fw={};vi&&(fw=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function fl(s){if(tv[s])return tv[s];if(!xo[s])return s;var o=xo[s],d;for(d in o)if(o.hasOwnProperty(d)&&d in fw)return tv[s]=o[d];return s}var mw=fl("animationend"),pw=fl("animationiteration"),hw=fl("animationstart"),_R=fl("transitionrun"),OR=fl("transitionstart"),TR=fl("transitioncancel"),xw=fl("transitionend"),vw=new Map,rv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rv.push("scrollEnd");function ma(s,o){vw.set(s,o),Se(o,[s])}var hf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Gn=[],vo=0,nv=0;function xf(){for(var s=vo,o=nv=vo=0;o<s;){var d=Gn[o];Gn[o++]=null;var p=Gn[o];Gn[o++]=null;var b=Gn[o];Gn[o++]=null;var w=Gn[o];if(Gn[o++]=null,p!==null&&b!==null){var _=p.pending;_===null?b.next=b:(b.next=_.next,_.next=b),p.pending=b}w!==0&&gw(d,b,w)}}function vf(s,o,d,p){Gn[vo++]=s,Gn[vo++]=o,Gn[vo++]=d,Gn[vo++]=p,nv|=p,s.lanes|=p,s=s.alternate,s!==null&&(s.lanes|=p)}function av(s,o,d,p){return vf(s,o,d,p),gf(s)}function ml(s,o){return vf(s,null,null,o),gf(s)}function gw(s,o,d){s.lanes|=d;var p=s.alternate;p!==null&&(p.lanes|=d);for(var b=!1,w=s.return;w!==null;)w.childLanes|=d,p=w.alternate,p!==null&&(p.childLanes|=d),w.tag===22&&(s=w.stateNode,s===null||s._visibility&1||(b=!0)),s=w,w=w.return;return s.tag===3?(w=s.stateNode,b&&o!==null&&(b=31-nt(d),s=w.hiddenUpdates,p=s[b],p===null?s[b]=[o]:p.push(o),o.lane=d|536870912),w):null}function gf(s){if(50<Su)throw Su=0,m0=null,Error(n(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var go={};function PR(s,o,d,p){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(s,o,d,p){return new PR(s,o,d,p)}function iv(s){return s=s.prototype,!(!s||!s.isReactComponent)}function gi(s,o){var d=s.alternate;return d===null?(d=Dn(s.tag,o,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=o,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&65011712,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,o=s.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d.refCleanup=s.refCleanup,d}function bw(s,o){s.flags&=65011714;var d=s.alternate;return d===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,o=d.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function bf(s,o,d,p,b,w){var _=0;if(p=s,typeof s=="function")iv(s)&&(_=1);else if(typeof s=="string")_=zL(s,d,B.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case $:return s=Dn(31,d,o,b),s.elementType=$,s.lanes=w,s;case y:return pl(d.children,b,w,o);case N:_=8,b|=24;break;case C:return s=Dn(12,d,o,b|2),s.elementType=C,s.lanes=w,s;case D:return s=Dn(13,d,o,b),s.elementType=D,s.lanes=w,s;case O:return s=Dn(19,d,o,b),s.elementType=O,s.lanes=w,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case k:_=10;break e;case A:_=9;break e;case M:_=11;break e;case P:_=14;break e;case T:_=16,p=null;break e}_=29,d=Error(n(130,s===null?"null":typeof s,"")),p=null}return o=Dn(_,d,o,b),o.elementType=s,o.type=p,o.lanes=w,o}function pl(s,o,d,p){return s=Dn(7,s,p,o),s.lanes=d,s}function sv(s,o,d){return s=Dn(6,s,null,o),s.lanes=d,s}function yw(s){var o=Dn(18,null,null,0);return o.stateNode=s,o}function lv(s,o,d){return o=Dn(4,s.children!==null?s.children:[],s.key,o),o.lanes=d,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var jw=new WeakMap;function Wn(s,o){if(typeof s=="object"&&s!==null){var d=jw.get(s);return d!==void 0?d:(o={value:s,source:o,stack:zt(o)},jw.set(s,o),o)}return{value:s,source:o,stack:zt(o)}}var bo=[],yo=0,yf=null,nu=0,Kn=[],Qn=0,ds=null,La=1,Fa="";function bi(s,o){bo[yo++]=nu,bo[yo++]=yf,yf=s,nu=o}function Nw(s,o,d){Kn[Qn++]=La,Kn[Qn++]=Fa,Kn[Qn++]=ds,ds=s;var p=La;s=Fa;var b=32-nt(p)-1;p&=~(1<<b),d+=1;var w=32-nt(o)+b;if(30<w){var _=b-b%5;w=(p&(1<<_)-1).toString(32),p>>=_,b-=_,La=1<<32-nt(o)+b|d<<b|p,Fa=w+s}else La=1<<w|d<<b|p,Fa=s}function ov(s){s.return!==null&&(bi(s,1),Nw(s,1,0))}function cv(s){for(;s===yf;)yf=bo[--yo],bo[yo]=null,nu=bo[--yo],bo[yo]=null;for(;s===ds;)ds=Kn[--Qn],Kn[Qn]=null,Fa=Kn[--Qn],Kn[Qn]=null,La=Kn[--Qn],Kn[Qn]=null}function ww(s,o){Kn[Qn++]=La,Kn[Qn++]=Fa,Kn[Qn++]=ds,La=o.id,Fa=o.overflow,ds=s}var Ur=null,Gt=null,yt=!1,fs=null,Xn=!1,uv=Error(n(519));function ms(s){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw au(Wn(o,s)),uv}function Sw(s){var o=s.stateNode,d=s.type,p=s.memoizedProps;switch(o[Or]=s,o[Zr]=p,d){case"dialog":mt("cancel",o),mt("close",o);break;case"iframe":case"object":case"embed":mt("load",o);break;case"video":case"audio":for(d=0;d<ku.length;d++)mt(ku[d],o);break;case"source":mt("error",o);break;case"img":case"image":case"link":mt("error",o),mt("load",o);break;case"details":mt("toggle",o);break;case"input":mt("invalid",o),LN(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":mt("invalid",o);break;case"textarea":mt("invalid",o),zN(o,p.value,p.defaultValue,p.children)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||p.suppressHydrationWarning===!0||$S(o.textContent,d)?(p.popover!=null&&(mt("beforetoggle",o),mt("toggle",o)),p.onScroll!=null&&mt("scroll",o),p.onScrollEnd!=null&&mt("scrollend",o),p.onClick!=null&&(o.onclick=xi),o=!0):o=!1,o||ms(s,!0)}function Cw(s){for(Ur=s.return;Ur;)switch(Ur.tag){case 5:case 31:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:Ur=Ur.return}}function jo(s){if(s!==Ur)return!1;if(!yt)return Cw(s),yt=!0,!1;var o=s.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=s.type,d=!(d!=="form"&&d!=="button")||M0(s.type,s.memoizedProps)),d=!d),d&&Gt&&ms(s),Cw(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));Gt=QS(s)}else if(o===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));Gt=QS(s)}else o===27?(o=Gt,As(s.type)?(s=T0,T0=null,Gt=s):Gt=o):Gt=Ur?Jn(s.stateNode.nextSibling):null;return!0}function hl(){Gt=Ur=null,yt=!1}function dv(){var s=fs;return s!==null&&(hn===null?hn=s:hn.push.apply(hn,s),fs=null),s}function au(s){fs===null?fs=[s]:fs.push(s)}var fv=F(null),xl=null,yi=null;function ps(s,o,d){J(fv,o._currentValue),o._currentValue=d}function ji(s){s._currentValue=fv.current,ue(fv)}function mv(s,o,d){for(;s!==null;){var p=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),s===d)break;s=s.return}}function pv(s,o,d,p){var b=s.child;for(b!==null&&(b.return=s);b!==null;){var w=b.dependencies;if(w!==null){var _=b.child;w=w.firstContext;e:for(;w!==null;){var I=w;w=b;for(var V=0;V<o.length;V++)if(I.context===o[V]){w.lanes|=d,I=w.alternate,I!==null&&(I.lanes|=d),mv(w.return,d,s),p||(_=null);break e}w=I.next}}else if(b.tag===18){if(_=b.return,_===null)throw Error(n(341));_.lanes|=d,w=_.alternate,w!==null&&(w.lanes|=d),mv(_,d,s),_=null}else _=b.child;if(_!==null)_.return=b;else for(_=b;_!==null;){if(_===s){_=null;break}if(b=_.sibling,b!==null){b.return=_.return,_=b;break}_=_.return}b=_}}function No(s,o,d,p){s=null;for(var b=o,w=!1;b!==null;){if(!w){if((b.flags&524288)!==0)w=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var _=b.alternate;if(_===null)throw Error(n(387));if(_=_.memoizedProps,_!==null){var I=b.type;Mn(b.pendingProps.value,_.value)||(s!==null?s.push(I):s=[I])}}else if(b===xe.current){if(_=b.alternate,_===null)throw Error(n(387));_.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(s!==null?s.push(_u):s=[_u])}b=b.return}s!==null&&pv(o,s,d,p),o.flags|=262144}function jf(s){for(s=s.firstContext;s!==null;){if(!Mn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function vl(s){xl=s,yi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Yr(s){return kw(xl,s)}function Nf(s,o){return xl===null&&vl(s),kw(s,o)}function kw(s,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},yi===null){if(s===null)throw Error(n(308));yi=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else yi=yi.next=o;return d}var IR=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(d,p){s.push(p)}};this.abort=function(){o.aborted=!0,s.forEach(function(d){return d()})}},RR=e.unstable_scheduleCallback,LR=e.unstable_NormalPriority,kr={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hv(){return{controller:new IR,data:new Map,refCount:0}}function iu(s){s.refCount--,s.refCount===0&&RR(LR,function(){s.controller.abort()})}var su=null,xv=0,wo=0,So=null;function FR(s,o){if(su===null){var d=su=[];xv=0,wo=b0(),So={status:"pending",value:void 0,then:function(p){d.push(p)}}}return xv++,o.then(Aw,Aw),o}function Aw(){if(--xv===0&&su!==null){So!==null&&(So.status="fulfilled");var s=su;su=null,wo=0,So=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function zR(s,o){var d=[],p={status:"pending",value:null,reason:null,then:function(b){d.push(b)}};return s.then(function(){p.status="fulfilled",p.value=o;for(var b=0;b<d.length;b++)(0,d[b])(o)},function(b){for(p.status="rejected",p.reason=b,b=0;b<d.length;b++)(0,d[b])(void 0)}),p}var Mw=R.S;R.S=function(s,o){dS=ze(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&FR(s,o),Mw!==null&&Mw(s,o)};var gl=F(null);function vv(){var s=gl.current;return s!==null?s:$t.pooledCache}function wf(s,o){o===null?J(gl,gl.current):J(gl,o.pool)}function Dw(){var s=vv();return s===null?null:{parent:kr._currentValue,pool:s}}var Co=Error(n(460)),gv=Error(n(474)),Sf=Error(n(542)),Cf={then:function(){}};function Ew(s){return s=s.status,s==="fulfilled"||s==="rejected"}function _w(s,o,d){switch(d=s[d],d===void 0?s.push(o):d!==o&&(o.then(xi,xi),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,Tw(s),s;default:if(typeof o.status=="string")o.then(xi,xi);else{if(s=$t,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=o,s.status="pending",s.then(function(p){if(o.status==="pending"){var b=o;b.status="fulfilled",b.value=p}},function(p){if(o.status==="pending"){var b=o;b.status="rejected",b.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,Tw(s),s}throw yl=o,Co}}function bl(s){try{var o=s._init;return o(s._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(yl=d,Co):d}}var yl=null;function Ow(){if(yl===null)throw Error(n(459));var s=yl;return yl=null,s}function Tw(s){if(s===Co||s===Sf)throw Error(n(483))}var ko=null,lu=0;function kf(s){var o=lu;return lu+=1,ko===null&&(ko=[]),_w(ko,s,o)}function ou(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function Af(s,o){throw o.$$typeof===v?Error(n(525)):(s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function Pw(s){function o(ee,X){if(s){var ae=ee.deletions;ae===null?(ee.deletions=[X],ee.flags|=16):ae.push(X)}}function d(ee,X){if(!s)return null;for(;X!==null;)o(ee,X),X=X.sibling;return null}function p(ee){for(var X=new Map;ee!==null;)ee.key!==null?X.set(ee.key,ee):X.set(ee.index,ee),ee=ee.sibling;return X}function b(ee,X){return ee=gi(ee,X),ee.index=0,ee.sibling=null,ee}function w(ee,X,ae){return ee.index=ae,s?(ae=ee.alternate,ae!==null?(ae=ae.index,ae<X?(ee.flags|=67108866,X):ae):(ee.flags|=67108866,X)):(ee.flags|=1048576,X)}function _(ee){return s&&ee.alternate===null&&(ee.flags|=67108866),ee}function I(ee,X,ae,ge){return X===null||X.tag!==6?(X=sv(ae,ee.mode,ge),X.return=ee,X):(X=b(X,ae),X.return=ee,X)}function V(ee,X,ae,ge){var Ke=ae.type;return Ke===y?ve(ee,X,ae.props.children,ge,ae.key):X!==null&&(X.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===T&&bl(Ke)===X.type)?(X=b(X,ae.props),ou(X,ae),X.return=ee,X):(X=bf(ae.type,ae.key,ae.props,null,ee.mode,ge),ou(X,ae),X.return=ee,X)}function ie(ee,X,ae,ge){return X===null||X.tag!==4||X.stateNode.containerInfo!==ae.containerInfo||X.stateNode.implementation!==ae.implementation?(X=lv(ae,ee.mode,ge),X.return=ee,X):(X=b(X,ae.children||[]),X.return=ee,X)}function ve(ee,X,ae,ge,Ke){return X===null||X.tag!==7?(X=pl(ae,ee.mode,ge,Ke),X.return=ee,X):(X=b(X,ae),X.return=ee,X)}function be(ee,X,ae){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=sv(""+X,ee.mode,ae),X.return=ee,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case g:return ae=bf(X.type,X.key,X.props,null,ee.mode,ae),ou(ae,X),ae.return=ee,ae;case S:return X=lv(X,ee.mode,ae),X.return=ee,X;case T:return X=bl(X),be(ee,X,ae)}if(re(X)||E(X))return X=pl(X,ee.mode,ae,null),X.return=ee,X;if(typeof X.then=="function")return be(ee,kf(X),ae);if(X.$$typeof===k)return be(ee,Nf(ee,X),ae);Af(ee,X)}return null}function le(ee,X,ae,ge){var Ke=X!==null?X.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Ke!==null?null:I(ee,X,""+ae,ge);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case g:return ae.key===Ke?V(ee,X,ae,ge):null;case S:return ae.key===Ke?ie(ee,X,ae,ge):null;case T:return ae=bl(ae),le(ee,X,ae,ge)}if(re(ae)||E(ae))return Ke!==null?null:ve(ee,X,ae,ge,null);if(typeof ae.then=="function")return le(ee,X,kf(ae),ge);if(ae.$$typeof===k)return le(ee,X,Nf(ee,ae),ge);Af(ee,ae)}return null}function fe(ee,X,ae,ge,Ke){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return ee=ee.get(ae)||null,I(X,ee,""+ge,Ke);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case g:return ee=ee.get(ge.key===null?ae:ge.key)||null,V(X,ee,ge,Ke);case S:return ee=ee.get(ge.key===null?ae:ge.key)||null,ie(X,ee,ge,Ke);case T:return ge=bl(ge),fe(ee,X,ae,ge,Ke)}if(re(ge)||E(ge))return ee=ee.get(ae)||null,ve(X,ee,ge,Ke,null);if(typeof ge.then=="function")return fe(ee,X,ae,kf(ge),Ke);if(ge.$$typeof===k)return fe(ee,X,ae,Nf(X,ge),Ke);Af(X,ge)}return null}function He(ee,X,ae,ge){for(var Ke=null,wt=null,Ve=X,ot=X=0,vt=null;Ve!==null&&ot<ae.length;ot++){Ve.index>ot?(vt=Ve,Ve=null):vt=Ve.sibling;var St=le(ee,Ve,ae[ot],ge);if(St===null){Ve===null&&(Ve=vt);break}s&&Ve&&St.alternate===null&&o(ee,Ve),X=w(St,X,ot),wt===null?Ke=St:wt.sibling=St,wt=St,Ve=vt}if(ot===ae.length)return d(ee,Ve),yt&&bi(ee,ot),Ke;if(Ve===null){for(;ot<ae.length;ot++)Ve=be(ee,ae[ot],ge),Ve!==null&&(X=w(Ve,X,ot),wt===null?Ke=Ve:wt.sibling=Ve,wt=Ve);return yt&&bi(ee,ot),Ke}for(Ve=p(Ve);ot<ae.length;ot++)vt=fe(Ve,ee,ot,ae[ot],ge),vt!==null&&(s&&vt.alternate!==null&&Ve.delete(vt.key===null?ot:vt.key),X=w(vt,X,ot),wt===null?Ke=vt:wt.sibling=vt,wt=vt);return s&&Ve.forEach(function(Os){return o(ee,Os)}),yt&&bi(ee,ot),Ke}function Ze(ee,X,ae,ge){if(ae==null)throw Error(n(151));for(var Ke=null,wt=null,Ve=X,ot=X=0,vt=null,St=ae.next();Ve!==null&&!St.done;ot++,St=ae.next()){Ve.index>ot?(vt=Ve,Ve=null):vt=Ve.sibling;var Os=le(ee,Ve,St.value,ge);if(Os===null){Ve===null&&(Ve=vt);break}s&&Ve&&Os.alternate===null&&o(ee,Ve),X=w(Os,X,ot),wt===null?Ke=Os:wt.sibling=Os,wt=Os,Ve=vt}if(St.done)return d(ee,Ve),yt&&bi(ee,ot),Ke;if(Ve===null){for(;!St.done;ot++,St=ae.next())St=be(ee,St.value,ge),St!==null&&(X=w(St,X,ot),wt===null?Ke=St:wt.sibling=St,wt=St);return yt&&bi(ee,ot),Ke}for(Ve=p(Ve);!St.done;ot++,St=ae.next())St=fe(Ve,ee,ot,St.value,ge),St!==null&&(s&&St.alternate!==null&&Ve.delete(St.key===null?ot:St.key),X=w(St,X,ot),wt===null?Ke=St:wt.sibling=St,wt=St);return s&&Ve.forEach(function(QL){return o(ee,QL)}),yt&&bi(ee,ot),Ke}function Rt(ee,X,ae,ge){if(typeof ae=="object"&&ae!==null&&ae.type===y&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case g:e:{for(var Ke=ae.key;X!==null;){if(X.key===Ke){if(Ke=ae.type,Ke===y){if(X.tag===7){d(ee,X.sibling),ge=b(X,ae.props.children),ge.return=ee,ee=ge;break e}}else if(X.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===T&&bl(Ke)===X.type){d(ee,X.sibling),ge=b(X,ae.props),ou(ge,ae),ge.return=ee,ee=ge;break e}d(ee,X);break}else o(ee,X);X=X.sibling}ae.type===y?(ge=pl(ae.props.children,ee.mode,ge,ae.key),ge.return=ee,ee=ge):(ge=bf(ae.type,ae.key,ae.props,null,ee.mode,ge),ou(ge,ae),ge.return=ee,ee=ge)}return _(ee);case S:e:{for(Ke=ae.key;X!==null;){if(X.key===Ke)if(X.tag===4&&X.stateNode.containerInfo===ae.containerInfo&&X.stateNode.implementation===ae.implementation){d(ee,X.sibling),ge=b(X,ae.children||[]),ge.return=ee,ee=ge;break e}else{d(ee,X);break}else o(ee,X);X=X.sibling}ge=lv(ae,ee.mode,ge),ge.return=ee,ee=ge}return _(ee);case T:return ae=bl(ae),Rt(ee,X,ae,ge)}if(re(ae))return He(ee,X,ae,ge);if(E(ae)){if(Ke=E(ae),typeof Ke!="function")throw Error(n(150));return ae=Ke.call(ae),Ze(ee,X,ae,ge)}if(typeof ae.then=="function")return Rt(ee,X,kf(ae),ge);if(ae.$$typeof===k)return Rt(ee,X,Nf(ee,ae),ge);Af(ee,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,X!==null&&X.tag===6?(d(ee,X.sibling),ge=b(X,ae),ge.return=ee,ee=ge):(d(ee,X),ge=sv(ae,ee.mode,ge),ge.return=ee,ee=ge),_(ee)):d(ee,X)}return function(ee,X,ae,ge){try{lu=0;var Ke=Rt(ee,X,ae,ge);return ko=null,Ke}catch(Ve){if(Ve===Co||Ve===Sf)throw Ve;var wt=Dn(29,Ve,null,ee.mode);return wt.lanes=ge,wt.return=ee,wt}}}var jl=Pw(!0),Iw=Pw(!1),hs=!1;function bv(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yv(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function xs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function vs(s,o,d){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(kt&2)!==0){var b=p.pending;return b===null?o.next=o:(o.next=b.next,b.next=o),p.pending=o,o=gf(s),gw(s,null,d),o}return vf(s,p,o,d),gf(s)}function cu(s,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var p=o.lanes;p&=s.pendingLanes,d|=p,o.lanes=d,mi(s,d)}}function jv(s,o){var d=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var b=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var _={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};w===null?b=w=_:w=w.next=_,d=d.next}while(d!==null);w===null?b=w=o:w=w.next=o}else b=w=o;d={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:w,shared:p.shared,callbacks:p.callbacks},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=o:s.next=o,d.lastBaseUpdate=o}var Nv=!1;function uu(){if(Nv){var s=So;if(s!==null)throw s}}function du(s,o,d,p){Nv=!1;var b=s.updateQueue;hs=!1;var w=b.firstBaseUpdate,_=b.lastBaseUpdate,I=b.shared.pending;if(I!==null){b.shared.pending=null;var V=I,ie=V.next;V.next=null,_===null?w=ie:_.next=ie,_=V;var ve=s.alternate;ve!==null&&(ve=ve.updateQueue,I=ve.lastBaseUpdate,I!==_&&(I===null?ve.firstBaseUpdate=ie:I.next=ie,ve.lastBaseUpdate=V))}if(w!==null){var be=b.baseState;_=0,ve=ie=V=null,I=w;do{var le=I.lane&-536870913,fe=le!==I.lane;if(fe?(xt&le)===le:(p&le)===le){le!==0&&le===wo&&(Nv=!0),ve!==null&&(ve=ve.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var He=s,Ze=I;le=o;var Rt=d;switch(Ze.tag){case 1:if(He=Ze.payload,typeof He=="function"){be=He.call(Rt,be,le);break e}be=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=Ze.payload,le=typeof He=="function"?He.call(Rt,be,le):He,le==null)break e;be=x({},be,le);break e;case 2:hs=!0}}le=I.callback,le!==null&&(s.flags|=64,fe&&(s.flags|=8192),fe=b.callbacks,fe===null?b.callbacks=[le]:fe.push(le))}else fe={lane:le,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ve===null?(ie=ve=fe,V=be):ve=ve.next=fe,_|=le;if(I=I.next,I===null){if(I=b.shared.pending,I===null)break;fe=I,I=fe.next,fe.next=null,b.lastBaseUpdate=fe,b.shared.pending=null}}while(!0);ve===null&&(V=be),b.baseState=V,b.firstBaseUpdate=ie,b.lastBaseUpdate=ve,w===null&&(b.shared.lanes=0),Ns|=_,s.lanes=_,s.memoizedState=be}}function Rw(s,o){if(typeof s!="function")throw Error(n(191,s));s.call(o)}function Lw(s,o){var d=s.callbacks;if(d!==null)for(s.callbacks=null,s=0;s<d.length;s++)Rw(d[s],o)}var Ao=F(null),Mf=F(0);function Fw(s,o){s=Ei,J(Mf,s),J(Ao,o),Ei=s|o.baseLanes}function wv(){J(Mf,Ei),J(Ao,Ao.current)}function Sv(){Ei=Mf.current,ue(Ao),ue(Mf)}var En=F(null),Zn=null;function gs(s){var o=s.alternate;J(yr,yr.current&1),J(En,s),Zn===null&&(o===null||Ao.current!==null||o.memoizedState!==null)&&(Zn=s)}function Cv(s){J(yr,yr.current),J(En,s),Zn===null&&(Zn=s)}function zw(s){s.tag===22?(J(yr,yr.current),J(En,s),Zn===null&&(Zn=s)):bs()}function bs(){J(yr,yr.current),J(En,En.current)}function _n(s){ue(En),Zn===s&&(Zn=null),ue(yr)}var yr=F(0);function Df(s){for(var o=s;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||_0(d)||O0(d)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ni=0,lt=null,Pt=null,Ar=null,Ef=!1,Mo=!1,Nl=!1,_f=0,fu=0,Do=null,BR=0;function ur(){throw Error(n(321))}function kv(s,o){if(o===null)return!1;for(var d=0;d<o.length&&d<s.length;d++)if(!Mn(s[d],o[d]))return!1;return!0}function Av(s,o,d,p,b,w){return Ni=w,lt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,R.H=s===null||s.memoizedState===null?N2:qv,Nl=!1,w=d(p,b),Nl=!1,Mo&&(w=$w(o,d,p,b)),Bw(s),w}function Bw(s){R.H=hu;var o=Pt!==null&&Pt.next!==null;if(Ni=0,Ar=Pt=lt=null,Ef=!1,fu=0,Do=null,o)throw Error(n(300));s===null||Mr||(s=s.dependencies,s!==null&&jf(s)&&(Mr=!0))}function $w(s,o,d,p){lt=s;var b=0;do{if(Mo&&(Do=null),fu=0,Mo=!1,25<=b)throw Error(n(301));if(b+=1,Ar=Pt=null,s.updateQueue!=null){var w=s.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}R.H=w2,w=o(d,p)}while(Mo);return w}function $R(){var s=R.H,o=s.useState()[0];return o=typeof o.then=="function"?mu(o):o,s=s.useState()[0],(Pt!==null?Pt.memoizedState:null)!==s&&(lt.flags|=1024),o}function Mv(){var s=_f!==0;return _f=0,s}function Dv(s,o,d){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~d}function Ev(s){if(Ef){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Ef=!1}Ni=0,Ar=Pt=lt=null,Mo=!1,fu=_f=0,Do=null}function nn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ar===null?lt.memoizedState=Ar=s:Ar=Ar.next=s,Ar}function jr(){if(Pt===null){var s=lt.alternate;s=s!==null?s.memoizedState:null}else s=Pt.next;var o=Ar===null?lt.memoizedState:Ar.next;if(o!==null)Ar=o,Pt=s;else{if(s===null)throw lt.alternate===null?Error(n(467)):Error(n(310));Pt=s,s={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Ar===null?lt.memoizedState=Ar=s:Ar=Ar.next=s}return Ar}function Of(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mu(s){var o=fu;return fu+=1,Do===null&&(Do=[]),s=_w(Do,s,o),o=lt,(Ar===null?o.memoizedState:Ar.next)===null&&(o=o.alternate,R.H=o===null||o.memoizedState===null?N2:qv),s}function Tf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return mu(s);if(s.$$typeof===k)return Yr(s)}throw Error(n(438,String(s)))}function _v(s){var o=null,d=lt.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var p=lt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(b){return b.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=Of(),lt.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(s),p=0;p<s;p++)d[p]=L;return o.index++,d}function wi(s,o){return typeof o=="function"?o(s):o}function Pf(s){var o=jr();return Ov(o,Pt,s)}function Ov(s,o,d){var p=s.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=d;var b=s.baseQueue,w=p.pending;if(w!==null){if(b!==null){var _=b.next;b.next=w.next,w.next=_}o.baseQueue=b=w,p.pending=null}if(w=s.baseState,b===null)s.memoizedState=w;else{o=b.next;var I=_=null,V=null,ie=o,ve=!1;do{var be=ie.lane&-536870913;if(be!==ie.lane?(xt&be)===be:(Ni&be)===be){var le=ie.revertLane;if(le===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),be===wo&&(ve=!0);else if((Ni&le)===le){ie=ie.next,le===wo&&(ve=!0);continue}else be={lane:0,revertLane:ie.revertLane,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},V===null?(I=V=be,_=w):V=V.next=be,lt.lanes|=le,Ns|=le;be=ie.action,Nl&&d(w,be),w=ie.hasEagerState?ie.eagerState:d(w,be)}else le={lane:be,revertLane:ie.revertLane,gesture:ie.gesture,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},V===null?(I=V=le,_=w):V=V.next=le,lt.lanes|=be,Ns|=be;ie=ie.next}while(ie!==null&&ie!==o);if(V===null?_=w:V.next=I,!Mn(w,s.memoizedState)&&(Mr=!0,ve&&(d=So,d!==null)))throw d;s.memoizedState=w,s.baseState=_,s.baseQueue=V,p.lastRenderedState=w}return b===null&&(p.lanes=0),[s.memoizedState,p.dispatch]}function Tv(s){var o=jr(),d=o.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var p=d.dispatch,b=d.pending,w=o.memoizedState;if(b!==null){d.pending=null;var _=b=b.next;do w=s(w,_.action),_=_.next;while(_!==b);Mn(w,o.memoizedState)||(Mr=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),d.lastRenderedState=w}return[w,p]}function qw(s,o,d){var p=lt,b=jr(),w=yt;if(w){if(d===void 0)throw Error(n(407));d=d()}else d=o();var _=!Mn((Pt||b).memoizedState,d);if(_&&(b.memoizedState=d,Mr=!0),b=b.queue,Rv(Yw.bind(null,p,b,s),[s]),b.getSnapshot!==o||_||Ar!==null&&Ar.memoizedState.tag&1){if(p.flags|=2048,Eo(9,{destroy:void 0},Uw.bind(null,p,b,d,o),null),$t===null)throw Error(n(349));w||(Ni&127)!==0||Hw(p,o,d)}return d}function Hw(s,o,d){s.flags|=16384,s={getSnapshot:o,value:d},o=lt.updateQueue,o===null?(o=Of(),lt.updateQueue=o,o.stores=[s]):(d=o.stores,d===null?o.stores=[s]:d.push(s))}function Uw(s,o,d,p){o.value=d,o.getSnapshot=p,Vw(o)&&Gw(s)}function Yw(s,o,d){return d(function(){Vw(o)&&Gw(s)})}function Vw(s){var o=s.getSnapshot;s=s.value;try{var d=o();return!Mn(s,d)}catch{return!0}}function Gw(s){var o=ml(s,2);o!==null&&xn(o,s,2)}function Pv(s){var o=nn();if(typeof s=="function"){var d=s;if(s=d(),Nl){Je(!0);try{d()}finally{Je(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:s},o}function Ww(s,o,d,p){return s.baseState=d,Ov(s,Pt,typeof p=="function"?p:wi)}function qR(s,o,d,p,b){if(Lf(s))throw Error(n(485));if(s=o.action,s!==null){var w={payload:b,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){w.listeners.push(_)}};R.T!==null?d(!0):w.isTransition=!1,p(w),d=o.pending,d===null?(w.next=o.pending=w,Kw(o,w)):(w.next=d.next,o.pending=d.next=w)}}function Kw(s,o){var d=o.action,p=o.payload,b=s.state;if(o.isTransition){var w=R.T,_={};R.T=_;try{var I=d(b,p),V=R.S;V!==null&&V(_,I),Qw(s,o,I)}catch(ie){Iv(s,o,ie)}finally{w!==null&&_.types!==null&&(w.types=_.types),R.T=w}}else try{w=d(b,p),Qw(s,o,w)}catch(ie){Iv(s,o,ie)}}function Qw(s,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){Xw(s,o,p)},function(p){return Iv(s,o,p)}):Xw(s,o,d)}function Xw(s,o,d){o.status="fulfilled",o.value=d,Zw(o),s.state=d,o=s.pending,o!==null&&(d=o.next,d===o?s.pending=null:(d=d.next,o.next=d,Kw(s,d)))}function Iv(s,o,d){var p=s.pending;if(s.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=d,Zw(o),o=o.next;while(o!==p)}s.action=null}function Zw(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function Jw(s,o){return o}function e2(s,o){if(yt){var d=$t.formState;if(d!==null){e:{var p=lt;if(yt){if(Gt){t:{for(var b=Gt,w=Xn;b.nodeType!==8;){if(!w){b=null;break t}if(b=Jn(b.nextSibling),b===null){b=null;break t}}w=b.data,b=w==="F!"||w==="F"?b:null}if(b){Gt=Jn(b.nextSibling),p=b.data==="F!";break e}}ms(p)}p=!1}p&&(o=d[0])}}return d=nn(),d.memoizedState=d.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jw,lastRenderedState:o},d.queue=p,d=b2.bind(null,lt,p),p.dispatch=d,p=Pv(!1),w=$v.bind(null,lt,!1,p.queue),p=nn(),b={state:o,dispatch:null,action:s,pending:null},p.queue=b,d=qR.bind(null,lt,b,w,d),b.dispatch=d,p.memoizedState=s,[o,d,!1]}function t2(s){var o=jr();return r2(o,Pt,s)}function r2(s,o,d){if(o=Ov(s,o,Jw)[0],s=Pf(wi)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=mu(o)}catch(_){throw _===Co?Sf:_}else p=o;o=jr();var b=o.queue,w=b.dispatch;return d!==o.memoizedState&&(lt.flags|=2048,Eo(9,{destroy:void 0},HR.bind(null,b,d),null)),[p,w,s]}function HR(s,o){s.action=o}function n2(s){var o=jr(),d=Pt;if(d!==null)return r2(o,d,s);jr(),o=o.memoizedState,d=jr();var p=d.queue.dispatch;return d.memoizedState=s,[o,p,!1]}function Eo(s,o,d,p){return s={tag:s,create:d,deps:p,inst:o,next:null},o=lt.updateQueue,o===null&&(o=Of(),lt.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=s.next=s:(p=d.next,d.next=s,s.next=p,o.lastEffect=s),s}function a2(){return jr().memoizedState}function If(s,o,d,p){var b=nn();lt.flags|=s,b.memoizedState=Eo(1|o,{destroy:void 0},d,p===void 0?null:p)}function Rf(s,o,d,p){var b=jr();p=p===void 0?null:p;var w=b.memoizedState.inst;Pt!==null&&p!==null&&kv(p,Pt.memoizedState.deps)?b.memoizedState=Eo(o,w,d,p):(lt.flags|=s,b.memoizedState=Eo(1|o,w,d,p))}function i2(s,o){If(8390656,8,s,o)}function Rv(s,o){Rf(2048,8,s,o)}function UR(s){lt.flags|=4;var o=lt.updateQueue;if(o===null)o=Of(),lt.updateQueue=o,o.events=[s];else{var d=o.events;d===null?o.events=[s]:d.push(s)}}function s2(s){var o=jr().memoizedState;return UR({ref:o,nextImpl:s}),function(){if((kt&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function l2(s,o){return Rf(4,2,s,o)}function o2(s,o){return Rf(4,4,s,o)}function c2(s,o){if(typeof o=="function"){s=s();var d=o(s);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function u2(s,o,d){d=d!=null?d.concat([s]):null,Rf(4,4,c2.bind(null,o,s),d)}function Lv(){}function d2(s,o){var d=jr();o=o===void 0?null:o;var p=d.memoizedState;return o!==null&&kv(o,p[1])?p[0]:(d.memoizedState=[s,o],s)}function f2(s,o){var d=jr();o=o===void 0?null:o;var p=d.memoizedState;if(o!==null&&kv(o,p[1]))return p[0];if(p=s(),Nl){Je(!0);try{s()}finally{Je(!1)}}return d.memoizedState=[p,o],p}function Fv(s,o,d){return d===void 0||(Ni&1073741824)!==0&&(xt&261930)===0?s.memoizedState=o:(s.memoizedState=d,s=mS(),lt.lanes|=s,Ns|=s,d)}function m2(s,o,d,p){return Mn(d,o)?d:Ao.current!==null?(s=Fv(s,d,p),Mn(s,o)||(Mr=!0),s):(Ni&42)===0||(Ni&1073741824)!==0&&(xt&261930)===0?(Mr=!0,s.memoizedState=d):(s=mS(),lt.lanes|=s,Ns|=s,o)}function p2(s,o,d,p,b){var w=G.p;G.p=w!==0&&8>w?w:8;var _=R.T,I={};R.T=I,$v(s,!1,o,d);try{var V=b(),ie=R.S;if(ie!==null&&ie(I,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ve=zR(V,p);pu(s,o,ve,Pn(s))}else pu(s,o,p,Pn(s))}catch(be){pu(s,o,{then:function(){},status:"rejected",reason:be},Pn())}finally{G.p=w,_!==null&&I.types!==null&&(_.types=I.types),R.T=_}}function YR(){}function zv(s,o,d,p){if(s.tag!==5)throw Error(n(476));var b=h2(s).queue;p2(s,b,o,pe,d===null?YR:function(){return x2(s),d(p)})}function h2(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:pe},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:d},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function x2(s){var o=h2(s);o.next===null&&(o=s.alternate.memoizedState),pu(s,o.next.queue,{},Pn())}function Bv(){return Yr(_u)}function v2(){return jr().memoizedState}function g2(){return jr().memoizedState}function VR(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var d=Pn();s=xs(d);var p=vs(o,s,d);p!==null&&(xn(p,o,d),cu(p,o,d)),o={cache:hv()},s.payload=o;return}o=o.return}}function GR(s,o,d){var p=Pn();d={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Lf(s)?y2(o,d):(d=av(s,o,d,p),d!==null&&(xn(d,s,p),j2(d,o,p)))}function b2(s,o,d){var p=Pn();pu(s,o,d,p)}function pu(s,o,d,p){var b={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Lf(s))y2(o,b);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var _=o.lastRenderedState,I=w(_,d);if(b.hasEagerState=!0,b.eagerState=I,Mn(I,_))return vf(s,o,b,0),$t===null&&xf(),!1}catch{}if(d=av(s,o,b,p),d!==null)return xn(d,s,p),j2(d,o,p),!0}return!1}function $v(s,o,d,p){if(p={lane:2,revertLane:b0(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Lf(s)){if(o)throw Error(n(479))}else o=av(s,d,p,2),o!==null&&xn(o,s,2)}function Lf(s){var o=s.alternate;return s===lt||o!==null&&o===lt}function y2(s,o){Mo=Ef=!0;var d=s.pending;d===null?o.next=o:(o.next=d.next,d.next=o),s.pending=o}function j2(s,o,d){if((d&4194048)!==0){var p=o.lanes;p&=s.pendingLanes,d|=p,o.lanes=d,mi(s,d)}}var hu={readContext:Yr,use:Tf,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useLayoutEffect:ur,useInsertionEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useSyncExternalStore:ur,useId:ur,useHostTransitionStatus:ur,useFormState:ur,useActionState:ur,useOptimistic:ur,useMemoCache:ur,useCacheRefresh:ur};hu.useEffectEvent=ur;var N2={readContext:Yr,use:Tf,useCallback:function(s,o){return nn().memoizedState=[s,o===void 0?null:o],s},useContext:Yr,useEffect:i2,useImperativeHandle:function(s,o,d){d=d!=null?d.concat([s]):null,If(4194308,4,c2.bind(null,o,s),d)},useLayoutEffect:function(s,o){return If(4194308,4,s,o)},useInsertionEffect:function(s,o){If(4,2,s,o)},useMemo:function(s,o){var d=nn();o=o===void 0?null:o;var p=s();if(Nl){Je(!0);try{s()}finally{Je(!1)}}return d.memoizedState=[p,o],p},useReducer:function(s,o,d){var p=nn();if(d!==void 0){var b=d(o);if(Nl){Je(!0);try{d(o)}finally{Je(!1)}}}else b=o;return p.memoizedState=p.baseState=b,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:b},p.queue=s,s=s.dispatch=GR.bind(null,lt,s),[p.memoizedState,s]},useRef:function(s){var o=nn();return s={current:s},o.memoizedState=s},useState:function(s){s=Pv(s);var o=s.queue,d=b2.bind(null,lt,o);return o.dispatch=d,[s.memoizedState,d]},useDebugValue:Lv,useDeferredValue:function(s,o){var d=nn();return Fv(d,s,o)},useTransition:function(){var s=Pv(!1);return s=p2.bind(null,lt,s.queue,!0,!1),nn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,d){var p=lt,b=nn();if(yt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=o(),$t===null)throw Error(n(349));(xt&127)!==0||Hw(p,o,d)}b.memoizedState=d;var w={value:d,getSnapshot:o};return b.queue=w,i2(Yw.bind(null,p,w,s),[s]),p.flags|=2048,Eo(9,{destroy:void 0},Uw.bind(null,p,w,d,o),null),d},useId:function(){var s=nn(),o=$t.identifierPrefix;if(yt){var d=Fa,p=La;d=(p&~(1<<32-nt(p)-1)).toString(32)+d,o="_"+o+"R_"+d,d=_f++,0<d&&(o+="H"+d.toString(32)),o+="_"}else d=BR++,o="_"+o+"r_"+d.toString(32)+"_";return s.memoizedState=o},useHostTransitionStatus:Bv,useFormState:e2,useActionState:e2,useOptimistic:function(s){var o=nn();o.memoizedState=o.baseState=s;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=$v.bind(null,lt,!0,d),d.dispatch=o,[s,o]},useMemoCache:_v,useCacheRefresh:function(){return nn().memoizedState=VR.bind(null,lt)},useEffectEvent:function(s){var o=nn(),d={impl:s};return o.memoizedState=d,function(){if((kt&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}},qv={readContext:Yr,use:Tf,useCallback:d2,useContext:Yr,useEffect:Rv,useImperativeHandle:u2,useInsertionEffect:l2,useLayoutEffect:o2,useMemo:f2,useReducer:Pf,useRef:a2,useState:function(){return Pf(wi)},useDebugValue:Lv,useDeferredValue:function(s,o){var d=jr();return m2(d,Pt.memoizedState,s,o)},useTransition:function(){var s=Pf(wi)[0],o=jr().memoizedState;return[typeof s=="boolean"?s:mu(s),o]},useSyncExternalStore:qw,useId:v2,useHostTransitionStatus:Bv,useFormState:t2,useActionState:t2,useOptimistic:function(s,o){var d=jr();return Ww(d,Pt,s,o)},useMemoCache:_v,useCacheRefresh:g2};qv.useEffectEvent=s2;var w2={readContext:Yr,use:Tf,useCallback:d2,useContext:Yr,useEffect:Rv,useImperativeHandle:u2,useInsertionEffect:l2,useLayoutEffect:o2,useMemo:f2,useReducer:Tv,useRef:a2,useState:function(){return Tv(wi)},useDebugValue:Lv,useDeferredValue:function(s,o){var d=jr();return Pt===null?Fv(d,s,o):m2(d,Pt.memoizedState,s,o)},useTransition:function(){var s=Tv(wi)[0],o=jr().memoizedState;return[typeof s=="boolean"?s:mu(s),o]},useSyncExternalStore:qw,useId:v2,useHostTransitionStatus:Bv,useFormState:n2,useActionState:n2,useOptimistic:function(s,o){var d=jr();return Pt!==null?Ww(d,Pt,s,o):(d.baseState=s,[s,d.queue.dispatch])},useMemoCache:_v,useCacheRefresh:g2};w2.useEffectEvent=s2;function Hv(s,o,d,p){o=s.memoizedState,d=d(p,o),d=d==null?o:x({},o,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var Uv={enqueueSetState:function(s,o,d){s=s._reactInternals;var p=Pn(),b=xs(p);b.payload=o,d!=null&&(b.callback=d),o=vs(s,b,p),o!==null&&(xn(o,s,p),cu(o,s,p))},enqueueReplaceState:function(s,o,d){s=s._reactInternals;var p=Pn(),b=xs(p);b.tag=1,b.payload=o,d!=null&&(b.callback=d),o=vs(s,b,p),o!==null&&(xn(o,s,p),cu(o,s,p))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var d=Pn(),p=xs(d);p.tag=2,o!=null&&(p.callback=o),o=vs(s,p,d),o!==null&&(xn(o,s,d),cu(o,s,d))}};function S2(s,o,d,p,b,w,_){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,w,_):o.prototype&&o.prototype.isPureReactComponent?!tu(d,p)||!tu(b,w):!0}function C2(s,o,d,p){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,p),o.state!==s&&Uv.enqueueReplaceState(o,o.state,null)}function wl(s,o){var d=o;if("ref"in o){d={};for(var p in o)p!=="ref"&&(d[p]=o[p])}if(s=s.defaultProps){d===o&&(d=x({},d));for(var b in s)d[b]===void 0&&(d[b]=s[b])}return d}function k2(s){hf(s)}function A2(s){console.error(s)}function M2(s){hf(s)}function Ff(s,o){try{var d=s.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function D2(s,o,d){try{var p=s.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Yv(s,o,d){return d=xs(d),d.tag=3,d.payload={element:null},d.callback=function(){Ff(s,o)},d}function E2(s){return s=xs(s),s.tag=3,s}function _2(s,o,d,p){var b=d.type.getDerivedStateFromError;if(typeof b=="function"){var w=p.value;s.payload=function(){return b(w)},s.callback=function(){D2(o,d,p)}}var _=d.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(s.callback=function(){D2(o,d,p),typeof b!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var I=p.stack;this.componentDidCatch(p.value,{componentStack:I!==null?I:""})})}function WR(s,o,d,p,b){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=d.alternate,o!==null&&No(o,d,b,!0),d=En.current,d!==null){switch(d.tag){case 31:case 13:return Zn===null?Qf():d.alternate===null&&dr===0&&(dr=3),d.flags&=-257,d.flags|=65536,d.lanes=b,p===Cf?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([p]):o.add(p),x0(s,p,b)),!1;case 22:return d.flags|=65536,p===Cf?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([p]):d.add(p)),x0(s,p,b)),!1}throw Error(n(435,d.tag))}return x0(s,p,b),Qf(),!1}if(yt)return o=En.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=b,p!==uv&&(s=Error(n(422),{cause:p}),au(Wn(s,d)))):(p!==uv&&(o=Error(n(423),{cause:p}),au(Wn(o,d))),s=s.current.alternate,s.flags|=65536,b&=-b,s.lanes|=b,p=Wn(p,d),b=Yv(s.stateNode,p,b),jv(s,b),dr!==4&&(dr=2)),!1;var w=Error(n(520),{cause:p});if(w=Wn(w,d),wu===null?wu=[w]:wu.push(w),dr!==4&&(dr=2),o===null)return!0;p=Wn(p,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,s=b&-b,d.lanes|=s,s=Yv(d.stateNode,p,s),jv(d,s),!1;case 1:if(o=d.type,w=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ws===null||!ws.has(w))))return d.flags|=65536,b&=-b,d.lanes|=b,b=E2(b),_2(b,s,d,p),jv(d,b),!1}d=d.return}while(d!==null);return!1}var Vv=Error(n(461)),Mr=!1;function Vr(s,o,d,p){o.child=s===null?Iw(o,null,d,p):jl(o,s.child,d,p)}function O2(s,o,d,p,b){d=d.render;var w=o.ref;if("ref"in p){var _={};for(var I in p)I!=="ref"&&(_[I]=p[I])}else _=p;return vl(o),p=Av(s,o,d,_,w,b),I=Mv(),s!==null&&!Mr?(Dv(s,o,b),Si(s,o,b)):(yt&&I&&ov(o),o.flags|=1,Vr(s,o,p,b),o.child)}function T2(s,o,d,p,b){if(s===null){var w=d.type;return typeof w=="function"&&!iv(w)&&w.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=w,P2(s,o,w,p,b)):(s=bf(d.type,null,p,o,o.mode,b),s.ref=o.ref,s.return=o,o.child=s)}if(w=s.child,!e0(s,b)){var _=w.memoizedProps;if(d=d.compare,d=d!==null?d:tu,d(_,p)&&s.ref===o.ref)return Si(s,o,b)}return o.flags|=1,s=gi(w,p),s.ref=o.ref,s.return=o,o.child=s}function P2(s,o,d,p,b){if(s!==null){var w=s.memoizedProps;if(tu(w,p)&&s.ref===o.ref)if(Mr=!1,o.pendingProps=p=w,e0(s,b))(s.flags&131072)!==0&&(Mr=!0);else return o.lanes=s.lanes,Si(s,o,b)}return Gv(s,o,d,p,b)}function I2(s,o,d,p){var b=p.children,w=s!==null?s.memoizedState:null;if(s===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((o.flags&128)!==0){if(w=w!==null?w.baseLanes|d:d,s!==null){for(p=o.child=s.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;p=b&~w}else p=0,o.child=null;return R2(s,o,w,d,p)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&wf(o,w!==null?w.cachePool:null),w!==null?Fw(o,w):wv(),zw(o);else return p=o.lanes=536870912,R2(s,o,w!==null?w.baseLanes|d:d,d,p)}else w!==null?(wf(o,w.cachePool),Fw(o,w),bs(),o.memoizedState=null):(s!==null&&wf(o,null),wv(),bs());return Vr(s,o,b,d),o.child}function xu(s,o){return s!==null&&s.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function R2(s,o,d,p,b){var w=vv();return w=w===null?null:{parent:kr._currentValue,pool:w},o.memoizedState={baseLanes:d,cachePool:w},s!==null&&wf(o,null),wv(),zw(o),s!==null&&No(s,o,p,!0),o.childLanes=b,null}function zf(s,o){return o=$f({mode:o.mode,children:o.children},s.mode),o.ref=s.ref,s.child=o,o.return=s,o}function L2(s,o,d){return jl(o,s.child,null,d),s=zf(o,o.pendingProps),s.flags|=2,_n(o),o.memoizedState=null,s}function KR(s,o,d){var p=o.pendingProps,b=(o.flags&128)!==0;if(o.flags&=-129,s===null){if(yt){if(p.mode==="hidden")return s=zf(o,p),o.lanes=536870912,xu(null,s);if(Cv(o),(s=Gt)?(s=KS(s,Xn),s=s!==null&&s.data==="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:ds!==null?{id:La,overflow:Fa}:null,retryLane:536870912,hydrationErrors:null},d=yw(s),d.return=o,o.child=d,Ur=o,Gt=null)):s=null,s===null)throw ms(o);return o.lanes=536870912,null}return zf(o,p)}var w=s.memoizedState;if(w!==null){var _=w.dehydrated;if(Cv(o),b)if(o.flags&256)o.flags&=-257,o=L2(s,o,d);else if(o.memoizedState!==null)o.child=s.child,o.flags|=128,o=null;else throw Error(n(558));else if(Mr||No(s,o,d,!1),b=(d&s.childLanes)!==0,Mr||b){if(p=$t,p!==null&&(_=il(p,d),_!==0&&_!==w.retryLane))throw w.retryLane=_,ml(s,_),xn(p,s,_),Vv;Qf(),o=L2(s,o,d)}else s=w.treeContext,Gt=Jn(_.nextSibling),Ur=o,yt=!0,fs=null,Xn=!1,s!==null&&ww(o,s),o=zf(o,p),o.flags|=4096;return o}return s=gi(s.child,{mode:p.mode,children:p.children}),s.ref=o.ref,o.child=s,s.return=o,s}function Bf(s,o){var d=o.ref;if(d===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(s===null||s.ref!==d)&&(o.flags|=4194816)}}function Gv(s,o,d,p,b){return vl(o),d=Av(s,o,d,p,void 0,b),p=Mv(),s!==null&&!Mr?(Dv(s,o,b),Si(s,o,b)):(yt&&p&&ov(o),o.flags|=1,Vr(s,o,d,b),o.child)}function F2(s,o,d,p,b,w){return vl(o),o.updateQueue=null,d=$w(o,p,d,b),Bw(s),p=Mv(),s!==null&&!Mr?(Dv(s,o,w),Si(s,o,w)):(yt&&p&&ov(o),o.flags|=1,Vr(s,o,d,w),o.child)}function z2(s,o,d,p,b){if(vl(o),o.stateNode===null){var w=go,_=d.contextType;typeof _=="object"&&_!==null&&(w=Yr(_)),w=new d(p,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Uv,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=p,w.state=o.memoizedState,w.refs={},bv(o),_=d.contextType,w.context=typeof _=="object"&&_!==null?Yr(_):go,w.state=o.memoizedState,_=d.getDerivedStateFromProps,typeof _=="function"&&(Hv(o,d,_,p),w.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(_=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),_!==w.state&&Uv.enqueueReplaceState(w,w.state,null),du(o,p,w,b),uu(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(s===null){w=o.stateNode;var I=o.memoizedProps,V=wl(d,I);w.props=V;var ie=w.context,ve=d.contextType;_=go,typeof ve=="object"&&ve!==null&&(_=Yr(ve));var be=d.getDerivedStateFromProps;ve=typeof be=="function"||typeof w.getSnapshotBeforeUpdate=="function",I=o.pendingProps!==I,ve||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I||ie!==_)&&C2(o,w,p,_),hs=!1;var le=o.memoizedState;w.state=le,du(o,p,w,b),uu(),ie=o.memoizedState,I||le!==ie||hs?(typeof be=="function"&&(Hv(o,d,be,p),ie=o.memoizedState),(V=hs||S2(o,d,V,p,le,ie,_))?(ve||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=ie),w.props=p,w.state=ie,w.context=_,p=V):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{w=o.stateNode,yv(s,o),_=o.memoizedProps,ve=wl(d,_),w.props=ve,be=o.pendingProps,le=w.context,ie=d.contextType,V=go,typeof ie=="object"&&ie!==null&&(V=Yr(ie)),I=d.getDerivedStateFromProps,(ie=typeof I=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(_!==be||le!==V)&&C2(o,w,p,V),hs=!1,le=o.memoizedState,w.state=le,du(o,p,w,b),uu();var fe=o.memoizedState;_!==be||le!==fe||hs||s!==null&&s.dependencies!==null&&jf(s.dependencies)?(typeof I=="function"&&(Hv(o,d,I,p),fe=o.memoizedState),(ve=hs||S2(o,d,ve,p,le,fe,V)||s!==null&&s.dependencies!==null&&jf(s.dependencies))?(ie||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(p,fe,V),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(p,fe,V)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||_===s.memoizedProps&&le===s.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&le===s.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=fe),w.props=p,w.state=fe,w.context=V,p=ve):(typeof w.componentDidUpdate!="function"||_===s.memoizedProps&&le===s.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&le===s.memoizedState||(o.flags|=1024),p=!1)}return w=p,Bf(s,o),p=(o.flags&128)!==0,w||p?(w=o.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,s!==null&&p?(o.child=jl(o,s.child,null,b),o.child=jl(o,null,d,b)):Vr(s,o,d,b),o.memoizedState=w.state,s=o.child):s=Si(s,o,b),s}function B2(s,o,d,p){return hl(),o.flags|=256,Vr(s,o,d,p),o.child}var Wv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kv(s){return{baseLanes:s,cachePool:Dw()}}function Qv(s,o,d){return s=s!==null?s.childLanes&~d:0,o&&(s|=Tn),s}function $2(s,o,d){var p=o.pendingProps,b=!1,w=(o.flags&128)!==0,_;if((_=w)||(_=s!==null&&s.memoizedState===null?!1:(yr.current&2)!==0),_&&(b=!0,o.flags&=-129),_=(o.flags&32)!==0,o.flags&=-33,s===null){if(yt){if(b?gs(o):bs(),(s=Gt)?(s=KS(s,Xn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:ds!==null?{id:La,overflow:Fa}:null,retryLane:536870912,hydrationErrors:null},d=yw(s),d.return=o,o.child=d,Ur=o,Gt=null)):s=null,s===null)throw ms(o);return O0(s)?o.lanes=32:o.lanes=536870912,null}var I=p.children;return p=p.fallback,b?(bs(),b=o.mode,I=$f({mode:"hidden",children:I},b),p=pl(p,b,d,null),I.return=o,p.return=o,I.sibling=p,o.child=I,p=o.child,p.memoizedState=Kv(d),p.childLanes=Qv(s,_,d),o.memoizedState=Wv,xu(null,p)):(gs(o),Xv(o,I))}var V=s.memoizedState;if(V!==null&&(I=V.dehydrated,I!==null)){if(w)o.flags&256?(gs(o),o.flags&=-257,o=Zv(s,o,d)):o.memoizedState!==null?(bs(),o.child=s.child,o.flags|=128,o=null):(bs(),I=p.fallback,b=o.mode,p=$f({mode:"visible",children:p.children},b),I=pl(I,b,d,null),I.flags|=2,p.return=o,I.return=o,p.sibling=I,o.child=p,jl(o,s.child,null,d),p=o.child,p.memoizedState=Kv(d),p.childLanes=Qv(s,_,d),o.memoizedState=Wv,o=xu(null,p));else if(gs(o),O0(I)){if(_=I.nextSibling&&I.nextSibling.dataset,_)var ie=_.dgst;_=ie,p=Error(n(419)),p.stack="",p.digest=_,au({value:p,source:null,stack:null}),o=Zv(s,o,d)}else if(Mr||No(s,o,d,!1),_=(d&s.childLanes)!==0,Mr||_){if(_=$t,_!==null&&(p=il(_,d),p!==0&&p!==V.retryLane))throw V.retryLane=p,ml(s,p),xn(_,s,p),Vv;_0(I)||Qf(),o=Zv(s,o,d)}else _0(I)?(o.flags|=192,o.child=s.child,o=null):(s=V.treeContext,Gt=Jn(I.nextSibling),Ur=o,yt=!0,fs=null,Xn=!1,s!==null&&ww(o,s),o=Xv(o,p.children),o.flags|=4096);return o}return b?(bs(),I=p.fallback,b=o.mode,V=s.child,ie=V.sibling,p=gi(V,{mode:"hidden",children:p.children}),p.subtreeFlags=V.subtreeFlags&65011712,ie!==null?I=gi(ie,I):(I=pl(I,b,d,null),I.flags|=2),I.return=o,p.return=o,p.sibling=I,o.child=p,xu(null,p),p=o.child,I=s.child.memoizedState,I===null?I=Kv(d):(b=I.cachePool,b!==null?(V=kr._currentValue,b=b.parent!==V?{parent:V,pool:V}:b):b=Dw(),I={baseLanes:I.baseLanes|d,cachePool:b}),p.memoizedState=I,p.childLanes=Qv(s,_,d),o.memoizedState=Wv,xu(s.child,p)):(gs(o),d=s.child,s=d.sibling,d=gi(d,{mode:"visible",children:p.children}),d.return=o,d.sibling=null,s!==null&&(_=o.deletions,_===null?(o.deletions=[s],o.flags|=16):_.push(s)),o.child=d,o.memoizedState=null,d)}function Xv(s,o){return o=$f({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function $f(s,o){return s=Dn(22,s,null,o),s.lanes=0,s}function Zv(s,o,d){return jl(o,s.child,null,d),s=Xv(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function q2(s,o,d){s.lanes|=o;var p=s.alternate;p!==null&&(p.lanes|=o),mv(s.return,o,d)}function Jv(s,o,d,p,b,w){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:b,treeForkCount:w}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=p,_.tail=d,_.tailMode=b,_.treeForkCount=w)}function H2(s,o,d){var p=o.pendingProps,b=p.revealOrder,w=p.tail;p=p.children;var _=yr.current,I=(_&2)!==0;if(I?(_=_&1|2,o.flags|=128):_&=1,J(yr,_),Vr(s,o,p,d),p=yt?nu:0,!I&&s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&q2(s,d,o);else if(s.tag===19)q2(s,d,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(b){case"forwards":for(d=o.child,b=null;d!==null;)s=d.alternate,s!==null&&Df(s)===null&&(b=d),d=d.sibling;d=b,d===null?(b=o.child,o.child=null):(b=d.sibling,d.sibling=null),Jv(o,!1,b,d,w,p);break;case"backwards":case"unstable_legacy-backwards":for(d=null,b=o.child,o.child=null;b!==null;){if(s=b.alternate,s!==null&&Df(s)===null){o.child=b;break}s=b.sibling,b.sibling=d,d=b,b=s}Jv(o,!0,d,null,w,p);break;case"together":Jv(o,!1,null,null,void 0,p);break;default:o.memoizedState=null}return o.child}function Si(s,o,d){if(s!==null&&(o.dependencies=s.dependencies),Ns|=o.lanes,(d&o.childLanes)===0)if(s!==null){if(No(s,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,d=gi(s,s.pendingProps),o.child=d,d.return=o;s.sibling!==null;)s=s.sibling,d=d.sibling=gi(s,s.pendingProps),d.return=o;d.sibling=null}return o.child}function e0(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&jf(s)))}function QR(s,o,d){switch(o.tag){case 3:Ne(o,o.stateNode.containerInfo),ps(o,kr,s.memoizedState.cache),hl();break;case 27:case 5:Ee(o);break;case 4:Ne(o,o.stateNode.containerInfo);break;case 10:ps(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Cv(o),null;break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(gs(o),o.flags|=128,null):(d&o.child.childLanes)!==0?$2(s,o,d):(gs(o),s=Si(s,o,d),s!==null?s.sibling:null);gs(o);break;case 19:var b=(s.flags&128)!==0;if(p=(d&o.childLanes)!==0,p||(No(s,o,d,!1),p=(d&o.childLanes)!==0),b){if(p)return H2(s,o,d);o.flags|=128}if(b=o.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),J(yr,yr.current),p)break;return null;case 22:return o.lanes=0,I2(s,o,d,o.pendingProps);case 24:ps(o,kr,s.memoizedState.cache)}return Si(s,o,d)}function U2(s,o,d){if(s!==null)if(s.memoizedProps!==o.pendingProps)Mr=!0;else{if(!e0(s,d)&&(o.flags&128)===0)return Mr=!1,QR(s,o,d);Mr=(s.flags&131072)!==0}else Mr=!1,yt&&(o.flags&1048576)!==0&&Nw(o,nu,o.index);switch(o.lanes=0,o.tag){case 16:e:{var p=o.pendingProps;if(s=bl(o.elementType),o.type=s,typeof s=="function")iv(s)?(p=wl(s,p),o.tag=1,o=z2(null,o,s,p,d)):(o.tag=0,o=Gv(null,o,s,p,d));else{if(s!=null){var b=s.$$typeof;if(b===M){o.tag=11,o=O2(null,o,s,p,d);break e}else if(b===P){o.tag=14,o=T2(null,o,s,p,d);break e}}throw o=Q(s)||s,Error(n(306,o,""))}}return o;case 0:return Gv(s,o,o.type,o.pendingProps,d);case 1:return p=o.type,b=wl(p,o.pendingProps),z2(s,o,p,b,d);case 3:e:{if(Ne(o,o.stateNode.containerInfo),s===null)throw Error(n(387));p=o.pendingProps;var w=o.memoizedState;b=w.element,yv(s,o),du(o,p,null,d);var _=o.memoizedState;if(p=_.cache,ps(o,kr,p),p!==w.cache&&pv(o,[kr],d,!0),uu(),p=_.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:_.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=B2(s,o,p,d);break e}else if(p!==b){b=Wn(Error(n(424)),o),au(b),o=B2(s,o,p,d);break e}else for(s=o.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,Gt=Jn(s.firstChild),Ur=o,yt=!0,fs=null,Xn=!0,d=Iw(o,null,p,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(hl(),p===b){o=Si(s,o,d);break e}Vr(s,o,p,d)}o=o.child}return o;case 26:return Bf(s,o),s===null?(d=tC(o.type,null,o.pendingProps,null))?o.memoizedState=d:yt||(d=o.type,s=o.pendingProps,p=nm(U.current).createElement(d),p[Or]=o,p[Zr]=s,Gr(p,d,s),Sr(p),o.stateNode=p):o.memoizedState=tC(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return Ee(o),s===null&&yt&&(p=o.stateNode=ZS(o.type,o.pendingProps,U.current),Ur=o,Xn=!0,b=Gt,As(o.type)?(T0=b,Gt=Jn(p.firstChild)):Gt=b),Vr(s,o,o.pendingProps.children,d),Bf(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&yt&&((b=p=Gt)&&(p=kL(p,o.type,o.pendingProps,Xn),p!==null?(o.stateNode=p,Ur=o,Gt=Jn(p.firstChild),Xn=!1,b=!0):b=!1),b||ms(o)),Ee(o),b=o.type,w=o.pendingProps,_=s!==null?s.memoizedProps:null,p=w.children,M0(b,w)?p=null:_!==null&&M0(b,_)&&(o.flags|=32),o.memoizedState!==null&&(b=Av(s,o,$R,null,null,d),_u._currentValue=b),Bf(s,o),Vr(s,o,p,d),o.child;case 6:return s===null&&yt&&((s=d=Gt)&&(d=AL(d,o.pendingProps,Xn),d!==null?(o.stateNode=d,Ur=o,Gt=null,s=!0):s=!1),s||ms(o)),null;case 13:return $2(s,o,d);case 4:return Ne(o,o.stateNode.containerInfo),p=o.pendingProps,s===null?o.child=jl(o,null,p,d):Vr(s,o,p,d),o.child;case 11:return O2(s,o,o.type,o.pendingProps,d);case 7:return Vr(s,o,o.pendingProps,d),o.child;case 8:return Vr(s,o,o.pendingProps.children,d),o.child;case 12:return Vr(s,o,o.pendingProps.children,d),o.child;case 10:return p=o.pendingProps,ps(o,o.type,p.value),Vr(s,o,p.children,d),o.child;case 9:return b=o.type._context,p=o.pendingProps.children,vl(o),b=Yr(b),p=p(b),o.flags|=1,Vr(s,o,p,d),o.child;case 14:return T2(s,o,o.type,o.pendingProps,d);case 15:return P2(s,o,o.type,o.pendingProps,d);case 19:return H2(s,o,d);case 31:return KR(s,o,d);case 22:return I2(s,o,d,o.pendingProps);case 24:return vl(o),p=Yr(kr),s===null?(b=vv(),b===null&&(b=$t,w=hv(),b.pooledCache=w,w.refCount++,w!==null&&(b.pooledCacheLanes|=d),b=w),o.memoizedState={parent:p,cache:b},bv(o),ps(o,kr,b)):((s.lanes&d)!==0&&(yv(s,o),du(o,null,null,d),uu()),b=s.memoizedState,w=o.memoizedState,b.parent!==p?(b={parent:p,cache:p},o.memoizedState=b,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=b),ps(o,kr,p)):(p=w.cache,ps(o,kr,p),p!==b.cache&&pv(o,[kr],d,!0))),Vr(s,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function Ci(s){s.flags|=4}function t0(s,o,d,p,b){if((o=(s.mode&32)!==0)&&(o=!1),o){if(s.flags|=16777216,(b&335544128)===b)if(s.stateNode.complete)s.flags|=8192;else if(vS())s.flags|=8192;else throw yl=Cf,gv}else s.flags&=-16777217}function Y2(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!sC(o))if(vS())s.flags|=8192;else throw yl=Cf,gv}function qf(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?de():536870912,s.lanes|=o,Po|=o)}function vu(s,o){if(!yt)switch(s.tailMode){case"hidden":o=s.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function Wt(s){var o=s.alternate!==null&&s.alternate.child===s.child,d=0,p=0;if(o)for(var b=s.child;b!==null;)d|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=s,b=b.sibling;else for(b=s.child;b!==null;)d|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=s,b=b.sibling;return s.subtreeFlags|=p,s.childLanes=d,o}function XR(s,o,d){var p=o.pendingProps;switch(cv(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(o),null;case 1:return Wt(o),null;case 3:return d=o.stateNode,p=null,s!==null&&(p=s.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),ji(kr),ne(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(jo(o)?Ci(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,dv())),Wt(o),null;case 26:var b=o.type,w=o.memoizedState;return s===null?(Ci(o),w!==null?(Wt(o),Y2(o,w)):(Wt(o),t0(o,b,null,p,d))):w?w!==s.memoizedState?(Ci(o),Wt(o),Y2(o,w)):(Wt(o),o.flags&=-16777217):(s=s.memoizedProps,s!==p&&Ci(o),Wt(o),t0(o,b,s,p,d)),null;case 27:if(Ce(o),d=U.current,b=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==p&&Ci(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return Wt(o),null}s=B.current,jo(o)?Sw(o):(s=ZS(b,p,d),o.stateNode=s,Ci(o))}return Wt(o),null;case 5:if(Ce(o),b=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==p&&Ci(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return Wt(o),null}if(w=B.current,jo(o))Sw(o);else{var _=nm(U.current);switch(w){case 1:w=_.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:w=_.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":w=_.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":w=_.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":w=_.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof p.is=="string"?_.createElement("select",{is:p.is}):_.createElement("select"),p.multiple?w.multiple=!0:p.size&&(w.size=p.size);break;default:w=typeof p.is=="string"?_.createElement(b,{is:p.is}):_.createElement(b)}}w[Or]=o,w[Zr]=p;e:for(_=o.child;_!==null;){if(_.tag===5||_.tag===6)w.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===o)break e;for(;_.sibling===null;){if(_.return===null||_.return===o)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}o.stateNode=w;e:switch(Gr(w,b,p),b){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Ci(o)}}return Wt(o),t0(o,o.type,s===null?null:s.memoizedProps,o.pendingProps,d),null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==p&&Ci(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(n(166));if(s=U.current,jo(o)){if(s=o.stateNode,d=o.memoizedProps,p=null,b=Ur,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}s[Or]=o,s=!!(s.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||$S(s.nodeValue,d)),s||ms(o,!0)}else s=nm(s).createTextNode(p),s[Or]=o,o.stateNode=s}return Wt(o),null;case 31:if(d=o.memoizedState,s===null||s.memoizedState!==null){if(p=jo(o),d!==null){if(s===null){if(!p)throw Error(n(318));if(s=o.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(557));s[Or]=o}else hl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Wt(o),s=!1}else d=dv(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=d),s=!0;if(!s)return o.flags&256?(_n(o),o):(_n(o),null);if((o.flags&128)!==0)throw Error(n(558))}return Wt(o),null;case 13:if(p=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(b=jo(o),p!==null&&p.dehydrated!==null){if(s===null){if(!b)throw Error(n(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[Or]=o}else hl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Wt(o),b=!1}else b=dv(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=b),b=!0;if(!b)return o.flags&256?(_n(o),o):(_n(o),null)}return _n(o),(o.flags&128)!==0?(o.lanes=d,o):(d=p!==null,s=s!==null&&s.memoizedState!==null,d&&(p=o.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool),w=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(w=p.memoizedState.cachePool.pool),w!==b&&(p.flags|=2048)),d!==s&&d&&(o.child.flags|=8192),qf(o,o.updateQueue),Wt(o),null);case 4:return ne(),s===null&&w0(o.stateNode.containerInfo),Wt(o),null;case 10:return ji(o.type),Wt(o),null;case 19:if(ue(yr),p=o.memoizedState,p===null)return Wt(o),null;if(b=(o.flags&128)!==0,w=p.rendering,w===null)if(b)vu(p,!1);else{if(dr!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(w=Df(s),w!==null){for(o.flags|=128,vu(p,!1),s=w.updateQueue,o.updateQueue=s,qf(o,s),o.subtreeFlags=0,s=d,d=o.child;d!==null;)bw(d,s),d=d.sibling;return J(yr,yr.current&1|2),yt&&bi(o,p.treeForkCount),o.child}s=s.sibling}p.tail!==null&&ze()>Gf&&(o.flags|=128,b=!0,vu(p,!1),o.lanes=4194304)}else{if(!b)if(s=Df(w),s!==null){if(o.flags|=128,b=!0,s=s.updateQueue,o.updateQueue=s,qf(o,s),vu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!w.alternate&&!yt)return Wt(o),null}else 2*ze()-p.renderingStartTime>Gf&&d!==536870912&&(o.flags|=128,b=!0,vu(p,!1),o.lanes=4194304);p.isBackwards?(w.sibling=o.child,o.child=w):(s=p.last,s!==null?s.sibling=w:o.child=w,p.last=w)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=ze(),s.sibling=null,d=yr.current,J(yr,b?d&1|2:d&1),yt&&bi(o,p.treeForkCount),s):(Wt(o),null);case 22:case 23:return _n(o),Sv(),p=o.memoizedState!==null,s!==null?s.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(d&536870912)!==0&&(o.flags&128)===0&&(Wt(o),o.subtreeFlags&6&&(o.flags|=8192)):Wt(o),d=o.updateQueue,d!==null&&qf(o,d.retryQueue),d=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==d&&(o.flags|=2048),s!==null&&ue(gl),null;case 24:return d=null,s!==null&&(d=s.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),ji(kr),Wt(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function ZR(s,o){switch(cv(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return ji(kr),ne(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return Ce(o),null;case 31:if(o.memoizedState!==null){if(_n(o),o.alternate===null)throw Error(n(340));hl()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 13:if(_n(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));hl()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return ue(yr),null;case 4:return ne(),null;case 10:return ji(o.type),null;case 22:case 23:return _n(o),Sv(),s!==null&&ue(gl),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return ji(kr),null;case 25:return null;default:return null}}function V2(s,o){switch(cv(o),o.tag){case 3:ji(kr),ne();break;case 26:case 27:case 5:Ce(o);break;case 4:ne();break;case 31:o.memoizedState!==null&&_n(o);break;case 13:_n(o);break;case 19:ue(yr);break;case 10:ji(o.type);break;case 22:case 23:_n(o),Sv(),s!==null&&ue(gl);break;case 24:ji(kr)}}function gu(s,o){try{var d=o.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var b=p.next;d=b;do{if((d.tag&s)===s){p=void 0;var w=d.create,_=d.inst;p=w(),_.destroy=p}d=d.next}while(d!==b)}}catch(I){Et(o,o.return,I)}}function ys(s,o,d){try{var p=o.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var w=b.next;p=w;do{if((p.tag&s)===s){var _=p.inst,I=_.destroy;if(I!==void 0){_.destroy=void 0,b=o;var V=d,ie=I;try{ie()}catch(ve){Et(b,V,ve)}}}p=p.next}while(p!==w)}}catch(ve){Et(o,o.return,ve)}}function G2(s){var o=s.updateQueue;if(o!==null){var d=s.stateNode;try{Lw(o,d)}catch(p){Et(s,s.return,p)}}}function W2(s,o,d){d.props=wl(s.type,s.memoizedProps),d.state=s.memoizedState;try{d.componentWillUnmount()}catch(p){Et(s,o,p)}}function bu(s,o){try{var d=s.ref;if(d!==null){switch(s.tag){case 26:case 27:case 5:var p=s.stateNode;break;case 30:p=s.stateNode;break;default:p=s.stateNode}typeof d=="function"?s.refCleanup=d(p):d.current=p}}catch(b){Et(s,o,b)}}function za(s,o){var d=s.ref,p=s.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(b){Et(s,o,b)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(b){Et(s,o,b)}else d.current=null}function K2(s){var o=s.type,d=s.memoizedProps,p=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(b){Et(s,s.return,b)}}function r0(s,o,d){try{var p=s.stateNode;yL(p,s.type,d,o),p[Zr]=o}catch(b){Et(s,s.return,b)}}function Q2(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&As(s.type)||s.tag===4}function n0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Q2(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&As(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function a0(s,o,d){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(s,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(s),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=xi));else if(p!==4&&(p===27&&As(s.type)&&(d=s.stateNode,o=null),s=s.child,s!==null))for(a0(s,o,d),s=s.sibling;s!==null;)a0(s,o,d),s=s.sibling}function Hf(s,o,d){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?d.insertBefore(s,o):d.appendChild(s);else if(p!==4&&(p===27&&As(s.type)&&(d=s.stateNode),s=s.child,s!==null))for(Hf(s,o,d),s=s.sibling;s!==null;)Hf(s,o,d),s=s.sibling}function X2(s){var o=s.stateNode,d=s.memoizedProps;try{for(var p=s.type,b=o.attributes;b.length;)o.removeAttributeNode(b[0]);Gr(o,p,d),o[Or]=s,o[Zr]=d}catch(w){Et(s,s.return,w)}}var ki=!1,Dr=!1,i0=!1,Z2=typeof WeakSet=="function"?WeakSet:Set,Fr=null;function JR(s,o){if(s=s.containerInfo,k0=um,s=uw(s),Zx(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var b=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{d.nodeType,w.nodeType}catch{d=null;break e}var _=0,I=-1,V=-1,ie=0,ve=0,be=s,le=null;t:for(;;){for(var fe;be!==d||b!==0&&be.nodeType!==3||(I=_+b),be!==w||p!==0&&be.nodeType!==3||(V=_+p),be.nodeType===3&&(_+=be.nodeValue.length),(fe=be.firstChild)!==null;)le=be,be=fe;for(;;){if(be===s)break t;if(le===d&&++ie===b&&(I=_),le===w&&++ve===p&&(V=_),(fe=be.nextSibling)!==null)break;be=le,le=be.parentNode}be=fe}d=I===-1||V===-1?null:{start:I,end:V}}else d=null}d=d||{start:0,end:0}}else d=null;for(A0={focusedElem:s,selectionRange:d},um=!1,Fr=o;Fr!==null;)if(o=Fr,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Fr=s;else for(;Fr!==null;){switch(o=Fr,w=o.alternate,s=o.flags,o.tag){case 0:if((s&4)!==0&&(s=o.updateQueue,s=s!==null?s.events:null,s!==null))for(d=0;d<s.length;d++)b=s[d],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&w!==null){s=void 0,d=o,b=w.memoizedProps,w=w.memoizedState,p=d.stateNode;try{var He=wl(d.type,b);s=p.getSnapshotBeforeUpdate(He,w),p.__reactInternalSnapshotBeforeUpdate=s}catch(Ze){Et(d,d.return,Ze)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,d=s.nodeType,d===9)E0(s);else if(d===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":E0(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=o.sibling,s!==null){s.return=o.return,Fr=s;break}Fr=o.return}}function J2(s,o,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:Mi(s,d),p&4&&gu(5,d);break;case 1:if(Mi(s,d),p&4)if(s=d.stateNode,o===null)try{s.componentDidMount()}catch(_){Et(d,d.return,_)}else{var b=wl(d.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(b,o,s.__reactInternalSnapshotBeforeUpdate)}catch(_){Et(d,d.return,_)}}p&64&&G2(d),p&512&&bu(d,d.return);break;case 3:if(Mi(s,d),p&64&&(s=d.updateQueue,s!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{Lw(s,o)}catch(_){Et(d,d.return,_)}}break;case 27:o===null&&p&4&&X2(d);case 26:case 5:Mi(s,d),o===null&&p&4&&K2(d),p&512&&bu(d,d.return);break;case 12:Mi(s,d);break;case 31:Mi(s,d),p&4&&rS(s,d);break;case 13:Mi(s,d),p&4&&nS(s,d),p&64&&(s=d.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(d=oL.bind(null,d),ML(s,d))));break;case 22:if(p=d.memoizedState!==null||ki,!p){o=o!==null&&o.memoizedState!==null||Dr,b=ki;var w=Dr;ki=p,(Dr=o)&&!w?Di(s,d,(d.subtreeFlags&8772)!==0):Mi(s,d),ki=b,Dr=w}break;case 30:break;default:Mi(s,d)}}function eS(s){var o=s.alternate;o!==null&&(s.alternate=null,eS(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&Gc(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var er=null,fn=!1;function Ai(s,o,d){for(d=d.child;d!==null;)tS(s,o,d),d=d.sibling}function tS(s,o,d){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(Ye,d)}catch{}switch(d.tag){case 26:Dr||za(d,o),Ai(s,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Dr||za(d,o);var p=er,b=fn;As(d.type)&&(er=d.stateNode,fn=!1),Ai(s,o,d),Mu(d.stateNode),er=p,fn=b;break;case 5:Dr||za(d,o);case 6:if(p=er,b=fn,er=null,Ai(s,o,d),er=p,fn=b,er!==null)if(fn)try{(er.nodeType===9?er.body:er.nodeName==="HTML"?er.ownerDocument.body:er).removeChild(d.stateNode)}catch(w){Et(d,o,w)}else try{er.removeChild(d.stateNode)}catch(w){Et(d,o,w)}break;case 18:er!==null&&(fn?(s=er,GS(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,d.stateNode),qo(s)):GS(er,d.stateNode));break;case 4:p=er,b=fn,er=d.stateNode.containerInfo,fn=!0,Ai(s,o,d),er=p,fn=b;break;case 0:case 11:case 14:case 15:ys(2,d,o),Dr||ys(4,d,o),Ai(s,o,d);break;case 1:Dr||(za(d,o),p=d.stateNode,typeof p.componentWillUnmount=="function"&&W2(d,o,p)),Ai(s,o,d);break;case 21:Ai(s,o,d);break;case 22:Dr=(p=Dr)||d.memoizedState!==null,Ai(s,o,d),Dr=p;break;default:Ai(s,o,d)}}function rS(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{qo(s)}catch(d){Et(o,o.return,d)}}}function nS(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{qo(s)}catch(d){Et(o,o.return,d)}}function eL(s){switch(s.tag){case 31:case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new Z2),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new Z2),o;default:throw Error(n(435,s.tag))}}function Uf(s,o){var d=eL(s);o.forEach(function(p){if(!d.has(p)){d.add(p);var b=cL.bind(null,s,p);p.then(b,b)}})}function mn(s,o){var d=o.deletions;if(d!==null)for(var p=0;p<d.length;p++){var b=d[p],w=s,_=o,I=_;e:for(;I!==null;){switch(I.tag){case 27:if(As(I.type)){er=I.stateNode,fn=!1;break e}break;case 5:er=I.stateNode,fn=!1;break e;case 3:case 4:er=I.stateNode.containerInfo,fn=!0;break e}I=I.return}if(er===null)throw Error(n(160));tS(w,_,b),er=null,fn=!1,w=b.alternate,w!==null&&(w.return=null),b.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)aS(o,s),o=o.sibling}var pa=null;function aS(s,o){var d=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:mn(o,s),pn(s),p&4&&(ys(3,s,s.return),gu(3,s),ys(5,s,s.return));break;case 1:mn(o,s),pn(s),p&512&&(Dr||d===null||za(d,d.return)),p&64&&ki&&(s=s.updateQueue,s!==null&&(p=s.callbacks,p!==null&&(d=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var b=pa;if(mn(o,s),pn(s),p&512&&(Dr||d===null||za(d,d.return)),p&4){var w=d!==null?d.memoizedState:null;if(p=s.memoizedState,d===null)if(p===null)if(s.stateNode===null){e:{p=s.type,d=s.memoizedProps,b=b.ownerDocument||b;t:switch(p){case"title":w=b.getElementsByTagName("title")[0],(!w||w[ll]||w[Or]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=b.createElement(p),b.head.insertBefore(w,b.querySelector("head > title"))),Gr(w,p,d),w[Or]=s,Sr(w),p=w;break e;case"link":var _=aC("link","href",b).get(p+(d.href||""));if(_){for(var I=0;I<_.length;I++)if(w=_[I],w.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&w.getAttribute("rel")===(d.rel==null?null:d.rel)&&w.getAttribute("title")===(d.title==null?null:d.title)&&w.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){_.splice(I,1);break t}}w=b.createElement(p),Gr(w,p,d),b.head.appendChild(w);break;case"meta":if(_=aC("meta","content",b).get(p+(d.content||""))){for(I=0;I<_.length;I++)if(w=_[I],w.getAttribute("content")===(d.content==null?null:""+d.content)&&w.getAttribute("name")===(d.name==null?null:d.name)&&w.getAttribute("property")===(d.property==null?null:d.property)&&w.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&w.getAttribute("charset")===(d.charSet==null?null:d.charSet)){_.splice(I,1);break t}}w=b.createElement(p),Gr(w,p,d),b.head.appendChild(w);break;default:throw Error(n(468,p))}w[Or]=s,Sr(w),p=w}s.stateNode=p}else iC(b,s.type,s.stateNode);else s.stateNode=nC(b,p,s.memoizedProps);else w!==p?(w===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):w.count--,p===null?iC(b,s.type,s.stateNode):nC(b,p,s.memoizedProps)):p===null&&s.stateNode!==null&&r0(s,s.memoizedProps,d.memoizedProps)}break;case 27:mn(o,s),pn(s),p&512&&(Dr||d===null||za(d,d.return)),d!==null&&p&4&&r0(s,s.memoizedProps,d.memoizedProps);break;case 5:if(mn(o,s),pn(s),p&512&&(Dr||d===null||za(d,d.return)),s.flags&32){b=s.stateNode;try{uo(b,"")}catch(He){Et(s,s.return,He)}}p&4&&s.stateNode!=null&&(b=s.memoizedProps,r0(s,b,d!==null?d.memoizedProps:b)),p&1024&&(i0=!0);break;case 6:if(mn(o,s),pn(s),p&4){if(s.stateNode===null)throw Error(n(162));p=s.memoizedProps,d=s.stateNode;try{d.nodeValue=p}catch(He){Et(s,s.return,He)}}break;case 3:if(sm=null,b=pa,pa=am(o.containerInfo),mn(o,s),pa=b,pn(s),p&4&&d!==null&&d.memoizedState.isDehydrated)try{qo(o.containerInfo)}catch(He){Et(s,s.return,He)}i0&&(i0=!1,iS(s));break;case 4:p=pa,pa=am(s.stateNode.containerInfo),mn(o,s),pn(s),pa=p;break;case 12:mn(o,s),pn(s);break;case 31:mn(o,s),pn(s),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,Uf(s,p)));break;case 13:mn(o,s),pn(s),s.child.flags&8192&&s.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Vf=ze()),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,Uf(s,p)));break;case 22:b=s.memoizedState!==null;var V=d!==null&&d.memoizedState!==null,ie=ki,ve=Dr;if(ki=ie||b,Dr=ve||V,mn(o,s),Dr=ve,ki=ie,pn(s),p&8192)e:for(o=s.stateNode,o._visibility=b?o._visibility&-2:o._visibility|1,b&&(d===null||V||ki||Dr||Sl(s)),d=null,o=s;;){if(o.tag===5||o.tag===26){if(d===null){V=d=o;try{if(w=V.stateNode,b)_=w.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{I=V.stateNode;var be=V.memoizedProps.style,le=be!=null&&be.hasOwnProperty("display")?be.display:null;I.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(He){Et(V,V.return,He)}}}else if(o.tag===6){if(d===null){V=o;try{V.stateNode.nodeValue=b?"":V.memoizedProps}catch(He){Et(V,V.return,He)}}}else if(o.tag===18){if(d===null){V=o;try{var fe=V.stateNode;b?WS(fe,!0):WS(V.stateNode,!1)}catch(He){Et(V,V.return,He)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=s.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,Uf(s,d))));break;case 19:mn(o,s),pn(s),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,Uf(s,p)));break;case 30:break;case 21:break;default:mn(o,s),pn(s)}}function pn(s){var o=s.flags;if(o&2){try{for(var d,p=s.return;p!==null;){if(Q2(p)){d=p;break}p=p.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var b=d.stateNode,w=n0(s);Hf(s,w,b);break;case 5:var _=d.stateNode;d.flags&32&&(uo(_,""),d.flags&=-33);var I=n0(s);Hf(s,I,_);break;case 3:case 4:var V=d.stateNode.containerInfo,ie=n0(s);a0(s,ie,V);break;default:throw Error(n(161))}}catch(ve){Et(s,s.return,ve)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function iS(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;iS(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Mi(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)J2(s,o.alternate,o),o=o.sibling}function Sl(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:ys(4,o,o.return),Sl(o);break;case 1:za(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&W2(o,o.return,d),Sl(o);break;case 27:Mu(o.stateNode);case 26:case 5:za(o,o.return),Sl(o);break;case 22:o.memoizedState===null&&Sl(o);break;case 30:Sl(o);break;default:Sl(o)}s=s.sibling}}function Di(s,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,b=s,w=o,_=w.flags;switch(w.tag){case 0:case 11:case 15:Di(b,w,d),gu(4,w);break;case 1:if(Di(b,w,d),p=w,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(ie){Et(p,p.return,ie)}if(p=w,b=p.updateQueue,b!==null){var I=p.stateNode;try{var V=b.shared.hiddenCallbacks;if(V!==null)for(b.shared.hiddenCallbacks=null,b=0;b<V.length;b++)Rw(V[b],I)}catch(ie){Et(p,p.return,ie)}}d&&_&64&&G2(w),bu(w,w.return);break;case 27:X2(w);case 26:case 5:Di(b,w,d),d&&p===null&&_&4&&K2(w),bu(w,w.return);break;case 12:Di(b,w,d);break;case 31:Di(b,w,d),d&&_&4&&rS(b,w);break;case 13:Di(b,w,d),d&&_&4&&nS(b,w);break;case 22:w.memoizedState===null&&Di(b,w,d),bu(w,w.return);break;case 30:break;default:Di(b,w,d)}o=o.sibling}}function s0(s,o){var d=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==d&&(s!=null&&s.refCount++,d!=null&&iu(d))}function l0(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&iu(s))}function ha(s,o,d,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)sS(s,o,d,p),o=o.sibling}function sS(s,o,d,p){var b=o.flags;switch(o.tag){case 0:case 11:case 15:ha(s,o,d,p),b&2048&&gu(9,o);break;case 1:ha(s,o,d,p);break;case 3:ha(s,o,d,p),b&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&iu(s)));break;case 12:if(b&2048){ha(s,o,d,p),s=o.stateNode;try{var w=o.memoizedProps,_=w.id,I=w.onPostCommit;typeof I=="function"&&I(_,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(V){Et(o,o.return,V)}}else ha(s,o,d,p);break;case 31:ha(s,o,d,p);break;case 13:ha(s,o,d,p);break;case 23:break;case 22:w=o.stateNode,_=o.alternate,o.memoizedState!==null?w._visibility&2?ha(s,o,d,p):yu(s,o):w._visibility&2?ha(s,o,d,p):(w._visibility|=2,_o(s,o,d,p,(o.subtreeFlags&10256)!==0||!1)),b&2048&&s0(_,o);break;case 24:ha(s,o,d,p),b&2048&&l0(o.alternate,o);break;default:ha(s,o,d,p)}}function _o(s,o,d,p,b){for(b=b&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var w=s,_=o,I=d,V=p,ie=_.flags;switch(_.tag){case 0:case 11:case 15:_o(w,_,I,V,b),gu(8,_);break;case 23:break;case 22:var ve=_.stateNode;_.memoizedState!==null?ve._visibility&2?_o(w,_,I,V,b):yu(w,_):(ve._visibility|=2,_o(w,_,I,V,b)),b&&ie&2048&&s0(_.alternate,_);break;case 24:_o(w,_,I,V,b),b&&ie&2048&&l0(_.alternate,_);break;default:_o(w,_,I,V,b)}o=o.sibling}}function yu(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=s,p=o,b=p.flags;switch(p.tag){case 22:yu(d,p),b&2048&&s0(p.alternate,p);break;case 24:yu(d,p),b&2048&&l0(p.alternate,p);break;default:yu(d,p)}o=o.sibling}}var ju=8192;function Oo(s,o,d){if(s.subtreeFlags&ju)for(s=s.child;s!==null;)lS(s,o,d),s=s.sibling}function lS(s,o,d){switch(s.tag){case 26:Oo(s,o,d),s.flags&ju&&s.memoizedState!==null&&BL(d,pa,s.memoizedState,s.memoizedProps);break;case 5:Oo(s,o,d);break;case 3:case 4:var p=pa;pa=am(s.stateNode.containerInfo),Oo(s,o,d),pa=p;break;case 22:s.memoizedState===null&&(p=s.alternate,p!==null&&p.memoizedState!==null?(p=ju,ju=16777216,Oo(s,o,d),ju=p):Oo(s,o,d));break;default:Oo(s,o,d)}}function oS(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Nu(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var p=o[d];Fr=p,uS(p,s)}oS(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)cS(s),s=s.sibling}function cS(s){switch(s.tag){case 0:case 11:case 15:Nu(s),s.flags&2048&&ys(9,s,s.return);break;case 3:Nu(s);break;case 12:Nu(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Yf(s)):Nu(s);break;default:Nu(s)}}function Yf(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var p=o[d];Fr=p,uS(p,s)}oS(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:ys(8,o,o.return),Yf(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,Yf(o));break;default:Yf(o)}s=s.sibling}}function uS(s,o){for(;Fr!==null;){var d=Fr;switch(d.tag){case 0:case 11:case 15:ys(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:iu(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,Fr=p;else e:for(d=s;Fr!==null;){p=Fr;var b=p.sibling,w=p.return;if(eS(p),p===d){Fr=null;break e}if(b!==null){b.return=w,Fr=b;break e}Fr=w}}}var tL={getCacheForType:function(s){var o=Yr(kr),d=o.data.get(s);return d===void 0&&(d=s(),o.data.set(s,d)),d},cacheSignal:function(){return Yr(kr).controller.signal}},rL=typeof WeakMap=="function"?WeakMap:Map,kt=0,$t=null,ft=null,xt=0,Dt=0,On=null,js=!1,To=!1,o0=!1,Ei=0,dr=0,Ns=0,Cl=0,c0=0,Tn=0,Po=0,wu=null,hn=null,u0=!1,Vf=0,dS=0,Gf=1/0,Wf=null,ws=null,Tr=0,Ss=null,Io=null,_i=0,d0=0,f0=null,fS=null,Su=0,m0=null;function Pn(){return(kt&2)!==0&&xt!==0?xt&-xt:R.T!==null?b0():rf()}function mS(){if(Tn===0)if((xt&536870912)===0||yt){var s=Fe;Fe<<=1,(Fe&3932160)===0&&(Fe=262144),Tn=s}else Tn=536870912;return s=En.current,s!==null&&(s.flags|=32),Tn}function xn(s,o,d){(s===$t&&(Dt===2||Dt===9)||s.cancelPendingCommit!==null)&&(Ro(s,0),Cs(s,xt,Tn,!1)),Xe(s,d),((kt&2)===0||s!==$t)&&(s===$t&&((kt&2)===0&&(Cl|=d),dr===4&&Cs(s,xt,Tn,!1)),Ba(s))}function pS(s,o,d){if((kt&6)!==0)throw Error(n(327));var p=!d&&(o&127)===0&&(o&s.expiredLanes)===0||gr(s,o),b=p?iL(s,o):h0(s,o,!0),w=p;do{if(b===0){To&&!p&&Cs(s,o,0,!1);break}else{if(d=s.current.alternate,w&&!nL(d)){b=h0(s,o,!1),w=!1;continue}if(b===2){if(w=o,s.errorRecoveryDisabledLanes&w)var _=0;else _=s.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){o=_;e:{var I=s;b=wu;var V=I.current.memoizedState.isDehydrated;if(V&&(Ro(I,_).flags|=256),_=h0(I,_,!1),_!==2){if(o0&&!V){I.errorRecoveryDisabledLanes|=w,Cl|=w,b=4;break e}w=hn,hn=b,w!==null&&(hn===null?hn=w:hn.push.apply(hn,w))}b=_}if(w=!1,b!==2)continue}}if(b===1){Ro(s,0),Cs(s,o,0,!0);break}e:{switch(p=s,w=b,w){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:Cs(p,o,Tn,!js);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(b=Vf+300-ze(),10<b)){if(Cs(p,o,Tn,!js),Yt(p,0,!0)!==0)break e;_i=o,p.timeoutHandle=YS(hS.bind(null,p,d,hn,Wf,u0,o,Tn,Cl,Po,js,w,"Throttled",-0,0),b);break e}hS(p,d,hn,Wf,u0,o,Tn,Cl,Po,js,w,null,-0,0)}}break}while(!0);Ba(s)}function hS(s,o,d,p,b,w,_,I,V,ie,ve,be,le,fe){if(s.timeoutHandle=-1,be=o.subtreeFlags,be&8192||(be&16785408)===16785408){be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xi},lS(o,w,be);var He=(w&62914560)===w?Vf-ze():(w&4194048)===w?dS-ze():0;if(He=$L(be,He),He!==null){_i=w,s.cancelPendingCommit=He(wS.bind(null,s,o,w,d,p,b,_,I,V,ve,be,null,le,fe)),Cs(s,w,_,!ie);return}}wS(s,o,w,d,p,b,_,I,V)}function nL(s){for(var o=s;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var b=d[p],w=b.getSnapshot;b=b.value;try{if(!Mn(w(),b))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Cs(s,o,d,p){o&=~c0,o&=~Cl,s.suspendedLanes|=o,s.pingedLanes&=~o,p&&(s.warmLanes|=o),p=s.expirationTimes;for(var b=o;0<b;){var w=31-nt(b),_=1<<w;p[w]=-1,b&=~_}d!==0&&sr(s,d,o)}function Kf(){return(kt&6)===0?(Cu(0),!1):!0}function p0(){if(ft!==null){if(Dt===0)var s=ft.return;else s=ft,yi=xl=null,Ev(s),ko=null,lu=0,s=ft;for(;s!==null;)V2(s.alternate,s),s=s.return;ft=null}}function Ro(s,o){var d=s.timeoutHandle;d!==-1&&(s.timeoutHandle=-1,wL(d)),d=s.cancelPendingCommit,d!==null&&(s.cancelPendingCommit=null,d()),_i=0,p0(),$t=s,ft=d=gi(s.current,null),xt=o,Dt=0,On=null,js=!1,To=gr(s,o),o0=!1,Po=Tn=c0=Cl=Ns=dr=0,hn=wu=null,u0=!1,(o&8)!==0&&(o|=o&32);var p=s.entangledLanes;if(p!==0)for(s=s.entanglements,p&=o;0<p;){var b=31-nt(p),w=1<<b;o|=s[b],p&=~w}return Ei=o,xf(),d}function xS(s,o){lt=null,R.H=hu,o===Co||o===Sf?(o=Ow(),Dt=3):o===gv?(o=Ow(),Dt=4):Dt=o===Vv?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,On=o,ft===null&&(dr=1,Ff(s,Wn(o,s.current)))}function vS(){var s=En.current;return s===null?!0:(xt&4194048)===xt?Zn===null:(xt&62914560)===xt||(xt&536870912)!==0?s===Zn:!1}function gS(){var s=R.H;return R.H=hu,s===null?hu:s}function bS(){var s=R.A;return R.A=tL,s}function Qf(){dr=4,js||(xt&4194048)!==xt&&En.current!==null||(To=!0),(Ns&134217727)===0&&(Cl&134217727)===0||$t===null||Cs($t,xt,Tn,!1)}function h0(s,o,d){var p=kt;kt|=2;var b=gS(),w=bS();($t!==s||xt!==o)&&(Wf=null,Ro(s,o)),o=!1;var _=dr;e:do try{if(Dt!==0&&ft!==null){var I=ft,V=On;switch(Dt){case 8:p0(),_=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(o=!0);var ie=Dt;if(Dt=0,On=null,Lo(s,I,V,ie),d&&To){_=0;break e}break;default:ie=Dt,Dt=0,On=null,Lo(s,I,V,ie)}}aL(),_=dr;break}catch(ve){xS(s,ve)}while(!0);return o&&s.shellSuspendCounter++,yi=xl=null,kt=p,R.H=b,R.A=w,ft===null&&($t=null,xt=0,xf()),_}function aL(){for(;ft!==null;)yS(ft)}function iL(s,o){var d=kt;kt|=2;var p=gS(),b=bS();$t!==s||xt!==o?(Wf=null,Gf=ze()+500,Ro(s,o)):To=gr(s,o);e:do try{if(Dt!==0&&ft!==null){o=ft;var w=On;t:switch(Dt){case 1:Dt=0,On=null,Lo(s,o,w,1);break;case 2:case 9:if(Ew(w)){Dt=0,On=null,jS(o);break}o=function(){Dt!==2&&Dt!==9||$t!==s||(Dt=7),Ba(s)},w.then(o,o);break e;case 3:Dt=7;break e;case 4:Dt=5;break e;case 7:Ew(w)?(Dt=0,On=null,jS(o)):(Dt=0,On=null,Lo(s,o,w,7));break;case 5:var _=null;switch(ft.tag){case 26:_=ft.memoizedState;case 5:case 27:var I=ft;if(_?sC(_):I.stateNode.complete){Dt=0,On=null;var V=I.sibling;if(V!==null)ft=V;else{var ie=I.return;ie!==null?(ft=ie,Xf(ie)):ft=null}break t}}Dt=0,On=null,Lo(s,o,w,5);break;case 6:Dt=0,On=null,Lo(s,o,w,6);break;case 8:p0(),dr=6;break e;default:throw Error(n(462))}}sL();break}catch(ve){xS(s,ve)}while(!0);return yi=xl=null,R.H=p,R.A=b,kt=d,ft!==null?0:($t=null,xt=0,xf(),dr)}function sL(){for(;ft!==null&&!ye();)yS(ft)}function yS(s){var o=U2(s.alternate,s,Ei);s.memoizedProps=s.pendingProps,o===null?Xf(s):ft=o}function jS(s){var o=s,d=o.alternate;switch(o.tag){case 15:case 0:o=F2(d,o,o.pendingProps,o.type,void 0,xt);break;case 11:o=F2(d,o,o.pendingProps,o.type.render,o.ref,xt);break;case 5:Ev(o);default:V2(d,o),o=ft=bw(o,Ei),o=U2(d,o,Ei)}s.memoizedProps=s.pendingProps,o===null?Xf(s):ft=o}function Lo(s,o,d,p){yi=xl=null,Ev(o),ko=null,lu=0;var b=o.return;try{if(WR(s,b,o,d,xt)){dr=1,Ff(s,Wn(d,s.current)),ft=null;return}}catch(w){if(b!==null)throw ft=b,w;dr=1,Ff(s,Wn(d,s.current)),ft=null;return}o.flags&32768?(yt||p===1?s=!0:To||(xt&536870912)!==0?s=!1:(js=s=!0,(p===2||p===9||p===3||p===6)&&(p=En.current,p!==null&&p.tag===13&&(p.flags|=16384))),NS(o,s)):Xf(o)}function Xf(s){var o=s;do{if((o.flags&32768)!==0){NS(o,js);return}s=o.return;var d=XR(o.alternate,o,Ei);if(d!==null){ft=d;return}if(o=o.sibling,o!==null){ft=o;return}ft=o=s}while(o!==null);dr===0&&(dr=5)}function NS(s,o){do{var d=ZR(s.alternate,s);if(d!==null){d.flags&=32767,ft=d;return}if(d=s.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(s=s.sibling,s!==null)){ft=s;return}ft=s=d}while(s!==null);dr=6,ft=null}function wS(s,o,d,p,b,w,_,I,V){s.cancelPendingCommit=null;do Zf();while(Tr!==0);if((kt&6)!==0)throw Error(n(327));if(o!==null){if(o===s.current)throw Error(n(177));if(w=o.lanes|o.childLanes,w|=nv,Jt(s,d,w,_,I,V),s===$t&&(ft=$t=null,xt=0),Io=o,Ss=s,_i=d,d0=w,f0=b,fS=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,uL(te,function(){return MS(),null})):(s.callbackNode=null,s.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=R.T,R.T=null,b=G.p,G.p=2,_=kt,kt|=4;try{JR(s,o,d)}finally{kt=_,G.p=b,R.T=p}}Tr=1,SS(),CS(),kS()}}function SS(){if(Tr===1){Tr=0;var s=Ss,o=Io,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=R.T,R.T=null;var p=G.p;G.p=2;var b=kt;kt|=4;try{aS(o,s);var w=A0,_=uw(s.containerInfo),I=w.focusedElem,V=w.selectionRange;if(_!==I&&I&&I.ownerDocument&&cw(I.ownerDocument.documentElement,I)){if(V!==null&&Zx(I)){var ie=V.start,ve=V.end;if(ve===void 0&&(ve=ie),"selectionStart"in I)I.selectionStart=ie,I.selectionEnd=Math.min(ve,I.value.length);else{var be=I.ownerDocument||document,le=be&&be.defaultView||window;if(le.getSelection){var fe=le.getSelection(),He=I.textContent.length,Ze=Math.min(V.start,He),Rt=V.end===void 0?Ze:Math.min(V.end,He);!fe.extend&&Ze>Rt&&(_=Rt,Rt=Ze,Ze=_);var ee=ow(I,Ze),X=ow(I,Rt);if(ee&&X&&(fe.rangeCount!==1||fe.anchorNode!==ee.node||fe.anchorOffset!==ee.offset||fe.focusNode!==X.node||fe.focusOffset!==X.offset)){var ae=be.createRange();ae.setStart(ee.node,ee.offset),fe.removeAllRanges(),Ze>Rt?(fe.addRange(ae),fe.extend(X.node,X.offset)):(ae.setEnd(X.node,X.offset),fe.addRange(ae))}}}}for(be=[],fe=I;fe=fe.parentNode;)fe.nodeType===1&&be.push({element:fe,left:fe.scrollLeft,top:fe.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<be.length;I++){var ge=be[I];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}um=!!k0,A0=k0=null}finally{kt=b,G.p=p,R.T=d}}s.current=o,Tr=2}}function CS(){if(Tr===2){Tr=0;var s=Ss,o=Io,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=R.T,R.T=null;var p=G.p;G.p=2;var b=kt;kt|=4;try{J2(s,o.alternate,o)}finally{kt=b,G.p=p,R.T=d}}Tr=3}}function kS(){if(Tr===4||Tr===3){Tr=0,_e();var s=Ss,o=Io,d=_i,p=fS;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Tr=5:(Tr=0,Io=Ss=null,AS(s,s.pendingLanes));var b=s.pendingLanes;if(b===0&&(ws=null),Yc(d),o=o.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(Ye,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=R.T,b=G.p,G.p=2,R.T=null;try{for(var w=s.onRecoverableError,_=0;_<p.length;_++){var I=p[_];w(I.value,{componentStack:I.stack})}}finally{R.T=o,G.p=b}}(_i&3)!==0&&Zf(),Ba(s),b=s.pendingLanes,(d&261930)!==0&&(b&42)!==0?s===m0?Su++:(Su=0,m0=s):Su=0,Cu(0)}}function AS(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,iu(o)))}function Zf(){return SS(),CS(),kS(),MS()}function MS(){if(Tr!==5)return!1;var s=Ss,o=d0;d0=0;var d=Yc(_i),p=R.T,b=G.p;try{G.p=32>d?32:d,R.T=null,d=f0,f0=null;var w=Ss,_=_i;if(Tr=0,Io=Ss=null,_i=0,(kt&6)!==0)throw Error(n(331));var I=kt;if(kt|=4,cS(w.current),sS(w,w.current,_,d),kt=I,Cu(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(Ye,w)}catch{}return!0}finally{G.p=b,R.T=p,AS(s,o)}}function DS(s,o,d){o=Wn(d,o),o=Yv(s.stateNode,o,2),s=vs(s,o,2),s!==null&&(Xe(s,2),Ba(s))}function Et(s,o,d){if(s.tag===3)DS(s,s,d);else for(;o!==null;){if(o.tag===3){DS(o,s,d);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ws===null||!ws.has(p))){s=Wn(d,s),d=E2(2),p=vs(o,d,2),p!==null&&(_2(d,p,o,s),Xe(p,2),Ba(p));break}}o=o.return}}function x0(s,o,d){var p=s.pingCache;if(p===null){p=s.pingCache=new rL;var b=new Set;p.set(o,b)}else b=p.get(o),b===void 0&&(b=new Set,p.set(o,b));b.has(d)||(o0=!0,b.add(d),s=lL.bind(null,s,o,d),o.then(s,s))}function lL(s,o,d){var p=s.pingCache;p!==null&&p.delete(o),s.pingedLanes|=s.suspendedLanes&d,s.warmLanes&=~d,$t===s&&(xt&d)===d&&(dr===4||dr===3&&(xt&62914560)===xt&&300>ze()-Vf?(kt&2)===0&&Ro(s,0):c0|=d,Po===xt&&(Po=0)),Ba(s)}function ES(s,o){o===0&&(o=de()),s=ml(s,o),s!==null&&(Xe(s,o),Ba(s))}function oL(s){var o=s.memoizedState,d=0;o!==null&&(d=o.retryLane),ES(s,d)}function cL(s,o){var d=0;switch(s.tag){case 31:case 13:var p=s.stateNode,b=s.memoizedState;b!==null&&(d=b.retryLane);break;case 19:p=s.stateNode;break;case 22:p=s.stateNode._retryCache;break;default:throw Error(n(314))}p!==null&&p.delete(o),ES(s,d)}function uL(s,o){return Xt(s,o)}var Jf=null,Fo=null,v0=!1,em=!1,g0=!1,ks=0;function Ba(s){s!==Fo&&s.next===null&&(Fo===null?Jf=Fo=s:Fo=Fo.next=s),em=!0,v0||(v0=!0,fL())}function Cu(s,o){if(!g0&&em){g0=!0;do for(var d=!1,p=Jf;p!==null;){if(s!==0){var b=p.pendingLanes;if(b===0)var w=0;else{var _=p.suspendedLanes,I=p.pingedLanes;w=(1<<31-nt(42|s)+1)-1,w&=b&~(_&~I),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(d=!0,PS(p,w))}else w=xt,w=Yt(p,p===$t?w:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(w&3)===0||gr(p,w)||(d=!0,PS(p,w));p=p.next}while(d);g0=!1}}function dL(){_S()}function _S(){em=v0=!1;var s=0;ks!==0&&NL()&&(s=ks);for(var o=ze(),d=null,p=Jf;p!==null;){var b=p.next,w=OS(p,o);w===0?(p.next=null,d===null?Jf=b:d.next=b,b===null&&(Fo=d)):(d=p,(s!==0||(w&3)!==0)&&(em=!0)),p=b}Tr!==0&&Tr!==5||Cu(s),ks!==0&&(ks=0)}function OS(s,o){for(var d=s.suspendedLanes,p=s.pingedLanes,b=s.expirationTimes,w=s.pendingLanes&-62914561;0<w;){var _=31-nt(w),I=1<<_,V=b[_];V===-1?((I&d)===0||(I&p)!==0)&&(b[_]=kn(I,o)):V<=o&&(s.expiredLanes|=I),w&=~I}if(o=$t,d=xt,d=Yt(s,s===o?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p=s.callbackNode,d===0||s===o&&(Dt===2||Dt===9)||s.cancelPendingCommit!==null)return p!==null&&p!==null&&Zt(p),s.callbackNode=null,s.callbackPriority=0;if((d&3)===0||gr(s,d)){if(o=d&-d,o===s.callbackPriority)return o;switch(p!==null&&Zt(p),Yc(d)){case 2:case 8:d=H;break;case 32:d=te;break;case 268435456:d=Ue;break;default:d=te}return p=TS.bind(null,s),d=Xt(d,p),s.callbackPriority=o,s.callbackNode=d,o}return p!==null&&p!==null&&Zt(p),s.callbackPriority=2,s.callbackNode=null,2}function TS(s,o){if(Tr!==0&&Tr!==5)return s.callbackNode=null,s.callbackPriority=0,null;var d=s.callbackNode;if(Zf()&&s.callbackNode!==d)return null;var p=xt;return p=Yt(s,s===$t?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p===0?null:(pS(s,p,o),OS(s,ze()),s.callbackNode!=null&&s.callbackNode===d?TS.bind(null,s):null)}function PS(s,o){if(Zf())return null;pS(s,o,!0)}function fL(){SL(function(){(kt&6)!==0?Xt(W,dL):_S()})}function b0(){if(ks===0){var s=wo;s===0&&(s=We,We<<=1,(We&261888)===0&&(We=256)),ks=s}return ks}function IS(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:of(""+s)}function RS(s,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,s.id&&d.setAttribute("form",s.id),o.parentNode.insertBefore(d,o),s=new FormData(s),d.parentNode.removeChild(d),s}function mL(s,o,d,p,b){if(o==="submit"&&d&&d.stateNode===b){var w=IS((b[Zr]||null).action),_=p.submitter;_&&(o=(o=_[Zr]||null)?IS(o.formAction):_.getAttribute("formAction"),o!==null&&(w=o,_=null));var I=new ff("action","action",null,p,b);s.push({event:I,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(ks!==0){var V=_?RS(b,_):new FormData(b);zv(d,{pending:!0,data:V,method:b.method,action:w},null,V)}}else typeof w=="function"&&(I.preventDefault(),V=_?RS(b,_):new FormData(b),zv(d,{pending:!0,data:V,method:b.method,action:w},w,V))},currentTarget:b}]})}}for(var y0=0;y0<rv.length;y0++){var j0=rv[y0],pL=j0.toLowerCase(),hL=j0[0].toUpperCase()+j0.slice(1);ma(pL,"on"+hL)}ma(mw,"onAnimationEnd"),ma(pw,"onAnimationIteration"),ma(hw,"onAnimationStart"),ma("dblclick","onDoubleClick"),ma("focusin","onFocus"),ma("focusout","onBlur"),ma(_R,"onTransitionRun"),ma(OR,"onTransitionStart"),ma(TR,"onTransitionCancel"),ma(xw,"onTransitionEnd"),cr("onMouseEnter",["mouseout","mouseover"]),cr("onMouseLeave",["mouseout","mouseover"]),cr("onPointerEnter",["pointerout","pointerover"]),cr("onPointerLeave",["pointerout","pointerover"]),Se("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Se("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Se("onBeforeInput",["compositionend","keypress","textInput","paste"]),Se("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Se("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Se("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ku));function LS(s,o){o=(o&4)!==0;for(var d=0;d<s.length;d++){var p=s[d],b=p.event;p=p.listeners;e:{var w=void 0;if(o)for(var _=p.length-1;0<=_;_--){var I=p[_],V=I.instance,ie=I.currentTarget;if(I=I.listener,V!==w&&b.isPropagationStopped())break e;w=I,b.currentTarget=ie;try{w(b)}catch(ve){hf(ve)}b.currentTarget=null,w=V}else for(_=0;_<p.length;_++){if(I=p[_],V=I.instance,ie=I.currentTarget,I=I.listener,V!==w&&b.isPropagationStopped())break e;w=I,b.currentTarget=ie;try{w(b)}catch(ve){hf(ve)}b.currentTarget=null,w=V}}}}function mt(s,o){var d=o[Vc];d===void 0&&(d=o[Vc]=new Set);var p=s+"__bubble";d.has(p)||(FS(o,s,2,!1),d.add(p))}function N0(s,o,d){var p=0;o&&(p|=4),FS(d,s,p,o)}var tm="_reactListening"+Math.random().toString(36).slice(2);function w0(s){if(!s[tm]){s[tm]=!0,sf.forEach(function(d){d!=="selectionchange"&&(xL.has(d)||N0(d,!1,s),N0(d,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[tm]||(o[tm]=!0,N0("selectionchange",!1,o))}}function FS(s,o,d,p){switch(mC(o)){case 2:var b=UL;break;case 8:b=YL;break;default:b=F0}d=b.bind(null,o,d,s),b=void 0,!Hx||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(b=!0),p?b!==void 0?s.addEventListener(o,d,{capture:!0,passive:b}):s.addEventListener(o,d,!0):b!==void 0?s.addEventListener(o,d,{passive:b}):s.addEventListener(o,d,!1)}function S0(s,o,d,p,b){var w=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var _=p.tag;if(_===3||_===4){var I=p.stateNode.containerInfo;if(I===b)break;if(_===4)for(_=p.return;_!==null;){var V=_.tag;if((V===3||V===4)&&_.stateNode.containerInfo===b)return;_=_.return}for(;I!==null;){if(_=ls(I),_===null)return;if(V=_.tag,V===5||V===6||V===26||V===27){p=w=_;continue e}I=I.parentNode}}p=p.return}HN(function(){var ie=w,ve=$x(d),be=[];e:{var le=vw.get(s);if(le!==void 0){var fe=ff,He=s;switch(s){case"keypress":if(uf(d)===0)break e;case"keydown":case"keyup":fe=cR;break;case"focusin":He="focus",fe=Gx;break;case"focusout":He="blur",fe=Gx;break;case"beforeblur":case"afterblur":fe=Gx;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=VN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=XI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=fR;break;case mw:case pw:case hw:fe=eR;break;case xw:fe=pR;break;case"scroll":case"scrollend":fe=KI;break;case"wheel":fe=xR;break;case"copy":case"cut":case"paste":fe=rR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=WN;break;case"toggle":case"beforetoggle":fe=gR}var Ze=(o&4)!==0,Rt=!Ze&&(s==="scroll"||s==="scrollend"),ee=Ze?le!==null?le+"Capture":null:le;Ze=[];for(var X=ie,ae;X!==null;){var ge=X;if(ae=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||ae===null||ee===null||(ge=Wc(X,ee),ge!=null&&Ze.push(Au(X,ge,ae))),Rt)break;X=X.return}0<Ze.length&&(le=new fe(le,He,null,d,ve),be.push({event:le,listeners:Ze}))}}if((o&7)===0){e:{if(le=s==="mouseover"||s==="pointerover",fe=s==="mouseout"||s==="pointerout",le&&d!==Bx&&(He=d.relatedTarget||d.fromElement)&&(ls(He)||He[ss]))break e;if((fe||le)&&(le=ve.window===ve?ve:(le=ve.ownerDocument)?le.defaultView||le.parentWindow:window,fe?(He=d.relatedTarget||d.toElement,fe=ie,He=He?ls(He):null,He!==null&&(Rt=l(He),Ze=He.tag,He!==Rt||Ze!==5&&Ze!==27&&Ze!==6)&&(He=null)):(fe=null,He=ie),fe!==He)){if(Ze=VN,ge="onMouseLeave",ee="onMouseEnter",X="mouse",(s==="pointerout"||s==="pointerover")&&(Ze=WN,ge="onPointerLeave",ee="onPointerEnter",X="pointer"),Rt=fe==null?le:ol(fe),ae=He==null?le:ol(He),le=new Ze(ge,X+"leave",fe,d,ve),le.target=Rt,le.relatedTarget=ae,ge=null,ls(ve)===ie&&(Ze=new Ze(ee,X+"enter",He,d,ve),Ze.target=ae,Ze.relatedTarget=Rt,ge=Ze),Rt=ge,fe&&He)t:{for(Ze=vL,ee=fe,X=He,ae=0,ge=ee;ge;ge=Ze(ge))ae++;ge=0;for(var Ke=X;Ke;Ke=Ze(Ke))ge++;for(;0<ae-ge;)ee=Ze(ee),ae--;for(;0<ge-ae;)X=Ze(X),ge--;for(;ae--;){if(ee===X||X!==null&&ee===X.alternate){Ze=ee;break t}ee=Ze(ee),X=Ze(X)}Ze=null}else Ze=null;fe!==null&&zS(be,le,fe,Ze,!1),He!==null&&Rt!==null&&zS(be,Rt,He,Ze,!0)}}e:{if(le=ie?ol(ie):window,fe=le.nodeName&&le.nodeName.toLowerCase(),fe==="select"||fe==="input"&&le.type==="file")var wt=rw;else if(ew(le))if(nw)wt=MR;else{wt=kR;var Ve=CR}else fe=le.nodeName,!fe||fe.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?ie&&zx(ie.elementType)&&(wt=rw):wt=AR;if(wt&&(wt=wt(s,ie))){tw(be,wt,d,ve);break e}Ve&&Ve(s,le,ie),s==="focusout"&&ie&&le.type==="number"&&ie.memoizedProps.value!=null&&Fx(le,"number",le.value)}switch(Ve=ie?ol(ie):window,s){case"focusin":(ew(Ve)||Ve.contentEditable==="true")&&(ho=Ve,Jx=ie,ru=null);break;case"focusout":ru=Jx=ho=null;break;case"mousedown":ev=!0;break;case"contextmenu":case"mouseup":case"dragend":ev=!1,dw(be,d,ve);break;case"selectionchange":if(ER)break;case"keydown":case"keyup":dw(be,d,ve)}var ot;if(Kx)e:{switch(s){case"compositionstart":var vt="onCompositionStart";break e;case"compositionend":vt="onCompositionEnd";break e;case"compositionupdate":vt="onCompositionUpdate";break e}vt=void 0}else po?ZN(s,d)&&(vt="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(vt="onCompositionStart");vt&&(KN&&d.locale!=="ko"&&(po||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&po&&(ot=UN()):(us=ve,Ux="value"in us?us.value:us.textContent,po=!0)),Ve=rm(ie,vt),0<Ve.length&&(vt=new GN(vt,s,null,d,ve),be.push({event:vt,listeners:Ve}),ot?vt.data=ot:(ot=JN(d),ot!==null&&(vt.data=ot)))),(ot=yR?jR(s,d):NR(s,d))&&(vt=rm(ie,"onBeforeInput"),0<vt.length&&(Ve=new GN("onBeforeInput","beforeinput",null,d,ve),be.push({event:Ve,listeners:vt}),Ve.data=ot)),mL(be,s,ie,d,ve)}LS(be,o)})}function Au(s,o,d){return{instance:s,listener:o,currentTarget:d}}function rm(s,o){for(var d=o+"Capture",p=[];s!==null;){var b=s,w=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||w===null||(b=Wc(s,d),b!=null&&p.unshift(Au(s,b,w)),b=Wc(s,o),b!=null&&p.push(Au(s,b,w))),s.tag===3)return p;s=s.return}return[]}function vL(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function zS(s,o,d,p,b){for(var w=o._reactName,_=[];d!==null&&d!==p;){var I=d,V=I.alternate,ie=I.stateNode;if(I=I.tag,V!==null&&V===p)break;I!==5&&I!==26&&I!==27||ie===null||(V=ie,b?(ie=Wc(d,w),ie!=null&&_.unshift(Au(d,ie,V))):b||(ie=Wc(d,w),ie!=null&&_.push(Au(d,ie,V)))),d=d.return}_.length!==0&&s.push({event:o,listeners:_})}var gL=/\r\n?/g,bL=/\u0000|\uFFFD/g;function BS(s){return(typeof s=="string"?s:""+s).replace(gL,`
`).replace(bL,"")}function $S(s,o){return o=BS(o),BS(s)===o}function It(s,o,d,p,b,w){switch(d){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||uo(s,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&uo(s,""+p);break;case"className":cl(s,"class",p);break;case"tabIndex":cl(s,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":cl(s,d,p);break;case"style":$N(s,p,w);break;case"data":if(o!=="object"){cl(s,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||d!=="href")){s.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(d);break}p=of(""+p),s.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){s.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(d==="formAction"?(o!=="input"&&It(s,o,"name",b.name,b,null),It(s,o,"formEncType",b.formEncType,b,null),It(s,o,"formMethod",b.formMethod,b,null),It(s,o,"formTarget",b.formTarget,b,null)):(It(s,o,"encType",b.encType,b,null),It(s,o,"method",b.method,b,null),It(s,o,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(d);break}p=of(""+p),s.setAttribute(d,p);break;case"onClick":p!=null&&(s.onclick=xi);break;case"onScroll":p!=null&&mt("scroll",s);break;case"onScrollEnd":p!=null&&mt("scrollend",s);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(d=p.__html,d!=null){if(b.children!=null)throw Error(n(60));s.innerHTML=d}}break;case"multiple":s.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":s.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){s.removeAttribute("xlink:href");break}d=of(""+p),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(d,""+p):s.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(d,""):s.removeAttribute(d);break;case"capture":case"download":p===!0?s.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(d,p):s.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?s.setAttribute(d,p):s.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?s.removeAttribute(d):s.setAttribute(d,p);break;case"popover":mt("beforetoggle",s),mt("toggle",s),hi(s,"popover",p);break;case"xlinkActuate":Cr(s,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Cr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Cr(s,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Cr(s,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Cr(s,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Cr(s,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Cr(s,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Cr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Cr(s,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":hi(s,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=GI.get(d)||d,hi(s,d,p))}}function C0(s,o,d,p,b,w){switch(d){case"style":$N(s,p,w);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(d=p.__html,d!=null){if(b.children!=null)throw Error(n(60));s.innerHTML=d}}break;case"children":typeof p=="string"?uo(s,p):(typeof p=="number"||typeof p=="bigint")&&uo(s,""+p);break;case"onScroll":p!=null&&mt("scroll",s);break;case"onScrollEnd":p!=null&&mt("scrollend",s);break;case"onClick":p!=null&&(s.onclick=xi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Y.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(b=d.endsWith("Capture"),o=d.slice(2,b?d.length-7:void 0),w=s[Zr]||null,w=w!=null?w[d]:null,typeof w=="function"&&s.removeEventListener(o,w,b),typeof p=="function")){typeof w!="function"&&w!==null&&(d in s?s[d]=null:s.hasAttribute(d)&&s.removeAttribute(d)),s.addEventListener(o,p,b);break e}d in s?s[d]=p:p===!0?s.setAttribute(d,""):hi(s,d,p)}}}function Gr(s,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mt("error",s),mt("load",s);var p=!1,b=!1,w;for(w in d)if(d.hasOwnProperty(w)){var _=d[w];if(_!=null)switch(w){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:It(s,o,w,_,d,null)}}b&&It(s,o,"srcSet",d.srcSet,d,null),p&&It(s,o,"src",d.src,d,null);return;case"input":mt("invalid",s);var I=w=_=b=null,V=null,ie=null;for(p in d)if(d.hasOwnProperty(p)){var ve=d[p];if(ve!=null)switch(p){case"name":b=ve;break;case"type":_=ve;break;case"checked":V=ve;break;case"defaultChecked":ie=ve;break;case"value":w=ve;break;case"defaultValue":I=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(n(137,o));break;default:It(s,o,p,ve,d,null)}}LN(s,w,I,V,ie,_,b,!1);return;case"select":mt("invalid",s),p=_=w=null;for(b in d)if(d.hasOwnProperty(b)&&(I=d[b],I!=null))switch(b){case"value":w=I;break;case"defaultValue":_=I;break;case"multiple":p=I;default:It(s,o,b,I,d,null)}o=w,d=_,s.multiple=!!p,o!=null?co(s,!!p,o,!1):d!=null&&co(s,!!p,d,!0);return;case"textarea":mt("invalid",s),w=b=p=null;for(_ in d)if(d.hasOwnProperty(_)&&(I=d[_],I!=null))switch(_){case"value":p=I;break;case"defaultValue":b=I;break;case"children":w=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(n(91));break;default:It(s,o,_,I,d,null)}zN(s,p,b,w);return;case"option":for(V in d)d.hasOwnProperty(V)&&(p=d[V],p!=null)&&(V==="selected"?s.selected=p&&typeof p!="function"&&typeof p!="symbol":It(s,o,V,p,d,null));return;case"dialog":mt("beforetoggle",s),mt("toggle",s),mt("cancel",s),mt("close",s);break;case"iframe":case"object":mt("load",s);break;case"video":case"audio":for(p=0;p<ku.length;p++)mt(ku[p],s);break;case"image":mt("error",s),mt("load",s);break;case"details":mt("toggle",s);break;case"embed":case"source":case"link":mt("error",s),mt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in d)if(d.hasOwnProperty(ie)&&(p=d[ie],p!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:It(s,o,ie,p,d,null)}return;default:if(zx(o)){for(ve in d)d.hasOwnProperty(ve)&&(p=d[ve],p!==void 0&&C0(s,o,ve,p,d,void 0));return}}for(I in d)d.hasOwnProperty(I)&&(p=d[I],p!=null&&It(s,o,I,p,d,null))}function yL(s,o,d,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,w=null,_=null,I=null,V=null,ie=null,ve=null;for(fe in d){var be=d[fe];if(d.hasOwnProperty(fe)&&be!=null)switch(fe){case"checked":break;case"value":break;case"defaultValue":V=be;default:p.hasOwnProperty(fe)||It(s,o,fe,null,p,be)}}for(var le in p){var fe=p[le];if(be=d[le],p.hasOwnProperty(le)&&(fe!=null||be!=null))switch(le){case"type":w=fe;break;case"name":b=fe;break;case"checked":ie=fe;break;case"defaultChecked":ve=fe;break;case"value":_=fe;break;case"defaultValue":I=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(n(137,o));break;default:fe!==be&&It(s,o,le,fe,p,be)}}Lx(s,_,I,V,ie,ve,w,b);return;case"select":fe=_=I=le=null;for(w in d)if(V=d[w],d.hasOwnProperty(w)&&V!=null)switch(w){case"value":break;case"multiple":fe=V;default:p.hasOwnProperty(w)||It(s,o,w,null,p,V)}for(b in p)if(w=p[b],V=d[b],p.hasOwnProperty(b)&&(w!=null||V!=null))switch(b){case"value":le=w;break;case"defaultValue":I=w;break;case"multiple":_=w;default:w!==V&&It(s,o,b,w,p,V)}o=I,d=_,p=fe,le!=null?co(s,!!d,le,!1):!!p!=!!d&&(o!=null?co(s,!!d,o,!0):co(s,!!d,d?[]:"",!1));return;case"textarea":fe=le=null;for(I in d)if(b=d[I],d.hasOwnProperty(I)&&b!=null&&!p.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:It(s,o,I,null,p,b)}for(_ in p)if(b=p[_],w=d[_],p.hasOwnProperty(_)&&(b!=null||w!=null))switch(_){case"value":le=b;break;case"defaultValue":fe=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(n(91));break;default:b!==w&&It(s,o,_,b,p,w)}FN(s,le,fe);return;case"option":for(var He in d)le=d[He],d.hasOwnProperty(He)&&le!=null&&!p.hasOwnProperty(He)&&(He==="selected"?s.selected=!1:It(s,o,He,null,p,le));for(V in p)le=p[V],fe=d[V],p.hasOwnProperty(V)&&le!==fe&&(le!=null||fe!=null)&&(V==="selected"?s.selected=le&&typeof le!="function"&&typeof le!="symbol":It(s,o,V,le,p,fe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in d)le=d[Ze],d.hasOwnProperty(Ze)&&le!=null&&!p.hasOwnProperty(Ze)&&It(s,o,Ze,null,p,le);for(ie in p)if(le=p[ie],fe=d[ie],p.hasOwnProperty(ie)&&le!==fe&&(le!=null||fe!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(n(137,o));break;default:It(s,o,ie,le,p,fe)}return;default:if(zx(o)){for(var Rt in d)le=d[Rt],d.hasOwnProperty(Rt)&&le!==void 0&&!p.hasOwnProperty(Rt)&&C0(s,o,Rt,void 0,p,le);for(ve in p)le=p[ve],fe=d[ve],!p.hasOwnProperty(ve)||le===fe||le===void 0&&fe===void 0||C0(s,o,ve,le,p,fe);return}}for(var ee in d)le=d[ee],d.hasOwnProperty(ee)&&le!=null&&!p.hasOwnProperty(ee)&&It(s,o,ee,null,p,le);for(be in p)le=p[be],fe=d[be],!p.hasOwnProperty(be)||le===fe||le==null&&fe==null||It(s,o,be,le,p,fe)}function qS(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jL(){if(typeof performance.getEntriesByType=="function"){for(var s=0,o=0,d=performance.getEntriesByType("resource"),p=0;p<d.length;p++){var b=d[p],w=b.transferSize,_=b.initiatorType,I=b.duration;if(w&&I&&qS(_)){for(_=0,I=b.responseEnd,p+=1;p<d.length;p++){var V=d[p],ie=V.startTime;if(ie>I)break;var ve=V.transferSize,be=V.initiatorType;ve&&qS(be)&&(V=V.responseEnd,_+=ve*(V<I?1:(I-ie)/(V-ie)))}if(--p,o+=8*(w+_)/(b.duration/1e3),s++,10<s)break}}if(0<s)return o/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var k0=null,A0=null;function nm(s){return s.nodeType===9?s:s.ownerDocument}function HS(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function US(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function M0(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var D0=null;function NL(){var s=window.event;return s&&s.type==="popstate"?s===D0?!1:(D0=s,!0):(D0=null,!1)}var YS=typeof setTimeout=="function"?setTimeout:void 0,wL=typeof clearTimeout=="function"?clearTimeout:void 0,VS=typeof Promise=="function"?Promise:void 0,SL=typeof queueMicrotask=="function"?queueMicrotask:typeof VS<"u"?function(s){return VS.resolve(null).then(s).catch(CL)}:YS;function CL(s){setTimeout(function(){throw s})}function As(s){return s==="head"}function GS(s,o){var d=o,p=0;do{var b=d.nextSibling;if(s.removeChild(d),b&&b.nodeType===8)if(d=b.data,d==="/$"||d==="/&"){if(p===0){s.removeChild(b),qo(o);return}p--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")p++;else if(d==="html")Mu(s.ownerDocument.documentElement);else if(d==="head"){d=s.ownerDocument.head,Mu(d);for(var w=d.firstChild;w;){var _=w.nextSibling,I=w.nodeName;w[ll]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&w.rel.toLowerCase()==="stylesheet"||d.removeChild(w),w=_}}else d==="body"&&Mu(s.ownerDocument.body);d=b}while(d);qo(o)}function WS(s,o){var d=s;s=0;do{var p=d.nextSibling;if(d.nodeType===1?o?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(o?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),p&&p.nodeType===8)if(d=p.data,d==="/$"){if(s===0)break;s--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||s++;d=p}while(d)}function E0(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":E0(d),Gc(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}s.removeChild(d)}}function kL(s,o,d,p){for(;s.nodeType===1;){var b=d;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(p){if(!s[ll])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(w=s.getAttribute("rel"),w==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(w!==b.rel||s.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||s.getAttribute("title")!==(b.title==null?null:b.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(w=s.getAttribute("src"),(w!==(b.src==null?null:b.src)||s.getAttribute("type")!==(b.type==null?null:b.type)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&w&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var w=b.name==null?null:""+b.name;if(b.type==="hidden"&&s.getAttribute("name")===w)return s}else return s;if(s=Jn(s.nextSibling),s===null)break}return null}function AL(s,o,d){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!d||(s=Jn(s.nextSibling),s===null))return null;return s}function KS(s,o){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=Jn(s.nextSibling),s===null))return null;return s}function _0(s){return s.data==="$?"||s.data==="$~"}function O0(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function ML(s,o){var d=s.ownerDocument;if(s.data==="$~")s._reactRetry=o;else if(s.data!=="$?"||d.readyState!=="loading")o();else{var p=function(){o(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),s._reactRetry=p}}function Jn(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return s}var T0=null;function QS(s){s=s.nextSibling;for(var o=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"||d==="/&"){if(o===0)return Jn(s.nextSibling);o--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||o++}s=s.nextSibling}return null}function XS(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(o===0)return s;o--}else d!=="/$"&&d!=="/&"||o++}s=s.previousSibling}return null}function ZS(s,o,d){switch(o=nm(d),s){case"html":if(s=o.documentElement,!s)throw Error(n(452));return s;case"head":if(s=o.head,!s)throw Error(n(453));return s;case"body":if(s=o.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function Mu(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);Gc(s)}var ea=new Map,JS=new Set;function am(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Oi=G.d;G.d={f:DL,r:EL,D:_L,C:OL,L:TL,m:PL,X:RL,S:IL,M:LL};function DL(){var s=Oi.f(),o=Kf();return s||o}function EL(s){var o=os(s);o!==null&&o.tag===5&&o.type==="form"?x2(o):Oi.r(s)}var zo=typeof document>"u"?null:document;function eC(s,o,d){var p=zo;if(p&&typeof o=="string"&&o){var b=Vn(o);b='link[rel="'+s+'"][href="'+b+'"]',typeof d=="string"&&(b+='[crossorigin="'+d+'"]'),JS.has(b)||(JS.add(b),s={rel:s,crossOrigin:d,href:o},p.querySelector(b)===null&&(o=p.createElement("link"),Gr(o,"link",s),Sr(o),p.head.appendChild(o)))}}function _L(s){Oi.D(s),eC("dns-prefetch",s,null)}function OL(s,o){Oi.C(s,o),eC("preconnect",s,o)}function TL(s,o,d){Oi.L(s,o,d);var p=zo;if(p&&s&&o){var b='link[rel="preload"][as="'+Vn(o)+'"]';o==="image"&&d&&d.imageSrcSet?(b+='[imagesrcset="'+Vn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(b+='[imagesizes="'+Vn(d.imageSizes)+'"]')):b+='[href="'+Vn(s)+'"]';var w=b;switch(o){case"style":w=Bo(s);break;case"script":w=$o(s)}ea.has(w)||(s=x({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:s,as:o},d),ea.set(w,s),p.querySelector(b)!==null||o==="style"&&p.querySelector(Du(w))||o==="script"&&p.querySelector(Eu(w))||(o=p.createElement("link"),Gr(o,"link",s),Sr(o),p.head.appendChild(o)))}}function PL(s,o){Oi.m(s,o);var d=zo;if(d&&s){var p=o&&typeof o.as=="string"?o.as:"script",b='link[rel="modulepreload"][as="'+Vn(p)+'"][href="'+Vn(s)+'"]',w=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=$o(s)}if(!ea.has(w)&&(s=x({rel:"modulepreload",href:s},o),ea.set(w,s),d.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Eu(w)))return}p=d.createElement("link"),Gr(p,"link",s),Sr(p),d.head.appendChild(p)}}}function IL(s,o,d){Oi.S(s,o,d);var p=zo;if(p&&s){var b=cs(p).hoistableStyles,w=Bo(s);o=o||"default";var _=b.get(w);if(!_){var I={loading:0,preload:null};if(_=p.querySelector(Du(w)))I.loading=5;else{s=x({rel:"stylesheet",href:s,"data-precedence":o},d),(d=ea.get(w))&&P0(s,d);var V=_=p.createElement("link");Sr(V),Gr(V,"link",s),V._p=new Promise(function(ie,ve){V.onload=ie,V.onerror=ve}),V.addEventListener("load",function(){I.loading|=1}),V.addEventListener("error",function(){I.loading|=2}),I.loading|=4,im(_,o,p)}_={type:"stylesheet",instance:_,count:1,state:I},b.set(w,_)}}}function RL(s,o){Oi.X(s,o);var d=zo;if(d&&s){var p=cs(d).hoistableScripts,b=$o(s),w=p.get(b);w||(w=d.querySelector(Eu(b)),w||(s=x({src:s,async:!0},o),(o=ea.get(b))&&I0(s,o),w=d.createElement("script"),Sr(w),Gr(w,"link",s),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(b,w))}}function LL(s,o){Oi.M(s,o);var d=zo;if(d&&s){var p=cs(d).hoistableScripts,b=$o(s),w=p.get(b);w||(w=d.querySelector(Eu(b)),w||(s=x({src:s,async:!0,type:"module"},o),(o=ea.get(b))&&I0(s,o),w=d.createElement("script"),Sr(w),Gr(w,"link",s),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(b,w))}}function tC(s,o,d,p){var b=(b=U.current)?am(b):null;if(!b)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=Bo(d.href),d=cs(b).hoistableStyles,p=d.get(o),p||(p={type:"style",instance:null,count:0,state:null},d.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){s=Bo(d.href);var w=cs(b).hoistableStyles,_=w.get(s);if(_||(b=b.ownerDocument||b,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(s,_),(w=b.querySelector(Du(s)))&&!w._p&&(_.instance=w,_.state.loading=5),ea.has(s)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},ea.set(s,d),w||FL(b,s,d,_.state))),o&&p===null)throw Error(n(528,""));return _}if(o&&p!==null)throw Error(n(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=$o(d),d=cs(b).hoistableScripts,p=d.get(o),p||(p={type:"script",instance:null,count:0,state:null},d.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function Bo(s){return'href="'+Vn(s)+'"'}function Du(s){return'link[rel="stylesheet"]['+s+"]"}function rC(s){return x({},s,{"data-precedence":s.precedence,precedence:null})}function FL(s,o,d,p){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=s.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),Gr(o,"link",d),Sr(o),s.head.appendChild(o))}function $o(s){return'[src="'+Vn(s)+'"]'}function Eu(s){return"script[async]"+s}function nC(s,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var p=s.querySelector('style[data-href~="'+Vn(d.href)+'"]');if(p)return o.instance=p,Sr(p),p;var b=x({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(s.ownerDocument||s).createElement("style"),Sr(p),Gr(p,"style",b),im(p,d.precedence,s),o.instance=p;case"stylesheet":b=Bo(d.href);var w=s.querySelector(Du(b));if(w)return o.state.loading|=4,o.instance=w,Sr(w),w;p=rC(d),(b=ea.get(b))&&P0(p,b),w=(s.ownerDocument||s).createElement("link"),Sr(w);var _=w;return _._p=new Promise(function(I,V){_.onload=I,_.onerror=V}),Gr(w,"link",p),o.state.loading|=4,im(w,d.precedence,s),o.instance=w;case"script":return w=$o(d.src),(b=s.querySelector(Eu(w)))?(o.instance=b,Sr(b),b):(p=d,(b=ea.get(w))&&(p=x({},d),I0(p,b)),s=s.ownerDocument||s,b=s.createElement("script"),Sr(b),Gr(b,"link",p),s.head.appendChild(b),o.instance=b);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,im(p,d.precedence,s));return o.instance}function im(s,o,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,w=b,_=0;_<p.length;_++){var I=p[_];if(I.dataset.precedence===o)w=I;else if(w!==b)break}w?w.parentNode.insertBefore(s,w.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(s,o.firstChild))}function P0(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function I0(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var sm=null;function aC(s,o,d){if(sm===null){var p=new Map,b=sm=new Map;b.set(d,p)}else b=sm,p=b.get(d),p||(p=new Map,b.set(d,p));if(p.has(s))return p;for(p.set(s,null),d=d.getElementsByTagName(s),b=0;b<d.length;b++){var w=d[b];if(!(w[ll]||w[Or]||s==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var _=w.getAttribute(o)||"";_=s+_;var I=p.get(_);I?I.push(w):p.set(_,[w])}}return p}function iC(s,o,d){s=s.ownerDocument||s,s.head.insertBefore(d,o==="title"?s.querySelector("head > title"):null)}function zL(s,o,d){if(d===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(s=o.disabled,typeof o.precedence=="string"&&s==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function sC(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function BL(s,o,d,p){if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var b=Bo(p.href),w=o.querySelector(Du(b));if(w){o=w._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(s.count++,s=lm.bind(s),o.then(s,s)),d.state.loading|=4,d.instance=w,Sr(w);return}w=o.ownerDocument||o,p=rC(p),(b=ea.get(b))&&P0(p,b),w=w.createElement("link"),Sr(w);var _=w;_._p=new Promise(function(I,V){_.onload=I,_.onerror=V}),Gr(w,"link",p),d.instance=w}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(d,o),(o=d.state.preload)&&(d.state.loading&3)===0&&(s.count++,d=lm.bind(s),o.addEventListener("load",d),o.addEventListener("error",d))}}var R0=0;function $L(s,o){return s.stylesheets&&s.count===0&&cm(s,s.stylesheets),0<s.count||0<s.imgCount?function(d){var p=setTimeout(function(){if(s.stylesheets&&cm(s,s.stylesheets),s.unsuspend){var w=s.unsuspend;s.unsuspend=null,w()}},6e4+o);0<s.imgBytes&&R0===0&&(R0=62500*jL());var b=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&cm(s,s.stylesheets),s.unsuspend)){var w=s.unsuspend;s.unsuspend=null,w()}},(s.imgBytes>R0?50:800)+o);return s.unsuspend=d,function(){s.unsuspend=null,clearTimeout(p),clearTimeout(b)}}:null}function lm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cm(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var om=null;function cm(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,om=new Map,o.forEach(qL,s),om=null,lm.call(s))}function qL(s,o){if(!(o.state.loading&4)){var d=om.get(s);if(d)var p=d.get(null);else{d=new Map,om.set(s,d);for(var b=s.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<b.length;w++){var _=b[w];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(d.set(_.dataset.precedence,_),p=_)}p&&d.set(null,p)}b=o.instance,_=b.getAttribute("data-precedence"),w=d.get(_)||p,w===p&&d.set(null,b),d.set(_,b),this.count++,p=lm.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),w?w.parentNode.insertBefore(b,w.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(b,s.firstChild)),o.state.loading|=4}}var _u={$$typeof:k,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function HL(s,o,d,p,b,w,_,I,V){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.hiddenUpdates=Ae(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=w,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function lC(s,o,d,p,b,w,_,I,V,ie,ve,be){return s=new HL(s,o,d,_,V,ie,ve,be,I),o=1,w===!0&&(o|=24),w=Dn(3,null,null,o),s.current=w,w.stateNode=s,o=hv(),o.refCount++,s.pooledCache=o,o.refCount++,w.memoizedState={element:p,isDehydrated:d,cache:o},bv(w),s}function oC(s){return s?(s=go,s):go}function cC(s,o,d,p,b,w){b=oC(b),p.context===null?p.context=b:p.pendingContext=b,p=xs(o),p.payload={element:d},w=w===void 0?null:w,w!==null&&(p.callback=w),d=vs(s,p,o),d!==null&&(xn(d,s,o),cu(d,s,o))}function uC(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<o?d:o}}function L0(s,o){uC(s,o),(s=s.alternate)&&uC(s,o)}function dC(s){if(s.tag===13||s.tag===31){var o=ml(s,67108864);o!==null&&xn(o,s,67108864),L0(s,67108864)}}function fC(s){if(s.tag===13||s.tag===31){var o=Pn();o=sl(o);var d=ml(s,o);d!==null&&xn(d,s,o),L0(s,o)}}var um=!0;function UL(s,o,d,p){var b=R.T;R.T=null;var w=G.p;try{G.p=2,F0(s,o,d,p)}finally{G.p=w,R.T=b}}function YL(s,o,d,p){var b=R.T;R.T=null;var w=G.p;try{G.p=8,F0(s,o,d,p)}finally{G.p=w,R.T=b}}function F0(s,o,d,p){if(um){var b=z0(p);if(b===null)S0(s,o,p,dm,d),pC(s,p);else if(GL(b,s,o,d,p))p.stopPropagation();else if(pC(s,p),o&4&&-1<VL.indexOf(s)){for(;b!==null;){var w=os(b);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var _=Bt(w.pendingLanes);if(_!==0){var I=w;for(I.pendingLanes|=2,I.entangledLanes|=2;_;){var V=1<<31-nt(_);I.entanglements[1]|=V,_&=~V}Ba(w),(kt&6)===0&&(Gf=ze()+500,Cu(0))}}break;case 31:case 13:I=ml(w,2),I!==null&&xn(I,w,2),Kf(),L0(w,2)}if(w=z0(p),w===null&&S0(s,o,p,dm,d),w===b)break;b=w}b!==null&&p.stopPropagation()}else S0(s,o,p,null,d)}}function z0(s){return s=$x(s),B0(s)}var dm=null;function B0(s){if(dm=null,s=ls(s),s!==null){var o=l(s);if(o===null)s=null;else{var d=o.tag;if(d===13){if(s=c(o),s!==null)return s;s=null}else if(d===31){if(s=u(o),s!==null)return s;s=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return dm=s,null}function mC(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mt()){case W:return 2;case H:return 8;case te:case ke:return 32;case Ue:return 268435456;default:return 32}default:return 32}}var $0=!1,Ms=null,Ds=null,Es=null,Ou=new Map,Tu=new Map,_s=[],VL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pC(s,o){switch(s){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":Es=null;break;case"pointerover":case"pointerout":Ou.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tu.delete(o.pointerId)}}function Pu(s,o,d,p,b,w){return s===null||s.nativeEvent!==w?(s={blockedOn:o,domEventName:d,eventSystemFlags:p,nativeEvent:w,targetContainers:[b]},o!==null&&(o=os(o),o!==null&&dC(o)),s):(s.eventSystemFlags|=p,o=s.targetContainers,b!==null&&o.indexOf(b)===-1&&o.push(b),s)}function GL(s,o,d,p,b){switch(o){case"focusin":return Ms=Pu(Ms,s,o,d,p,b),!0;case"dragenter":return Ds=Pu(Ds,s,o,d,p,b),!0;case"mouseover":return Es=Pu(Es,s,o,d,p,b),!0;case"pointerover":var w=b.pointerId;return Ou.set(w,Pu(Ou.get(w)||null,s,o,d,p,b)),!0;case"gotpointercapture":return w=b.pointerId,Tu.set(w,Pu(Tu.get(w)||null,s,o,d,p,b)),!0}return!1}function hC(s){var o=ls(s.target);if(o!==null){var d=l(o);if(d!==null){if(o=d.tag,o===13){if(o=c(d),o!==null){s.blockedOn=o,nf(s.priority,function(){fC(d)});return}}else if(o===31){if(o=u(d),o!==null){s.blockedOn=o,nf(s.priority,function(){fC(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function fm(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var d=z0(s.nativeEvent);if(d===null){d=s.nativeEvent;var p=new d.constructor(d.type,d);Bx=p,d.target.dispatchEvent(p),Bx=null}else return o=os(d),o!==null&&dC(o),s.blockedOn=d,!1;o.shift()}return!0}function xC(s,o,d){fm(s)&&d.delete(o)}function WL(){$0=!1,Ms!==null&&fm(Ms)&&(Ms=null),Ds!==null&&fm(Ds)&&(Ds=null),Es!==null&&fm(Es)&&(Es=null),Ou.forEach(xC),Tu.forEach(xC)}function mm(s,o){s.blockedOn===o&&(s.blockedOn=null,$0||($0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,WL)))}var pm=null;function vC(s){pm!==s&&(pm=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){pm===s&&(pm=null);for(var o=0;o<s.length;o+=3){var d=s[o],p=s[o+1],b=s[o+2];if(typeof p!="function"){if(B0(p||d)===null)continue;break}var w=os(d);w!==null&&(s.splice(o,3),o-=3,zv(w,{pending:!0,data:b,method:d.method,action:p},p,b))}}))}function qo(s){function o(V){return mm(V,s)}Ms!==null&&mm(Ms,s),Ds!==null&&mm(Ds,s),Es!==null&&mm(Es,s),Ou.forEach(o),Tu.forEach(o);for(var d=0;d<_s.length;d++){var p=_s[d];p.blockedOn===s&&(p.blockedOn=null)}for(;0<_s.length&&(d=_s[0],d.blockedOn===null);)hC(d),d.blockedOn===null&&_s.shift();if(d=(s.ownerDocument||s).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var b=d[p],w=d[p+1],_=b[Zr]||null;if(typeof w=="function")_||vC(d);else if(_){var I=null;if(w&&w.hasAttribute("formAction")){if(b=w,_=w[Zr]||null)I=_.formAction;else if(B0(b)!==null)continue}else I=_.action;typeof I=="function"?d[p+1]=I:(d.splice(p,3),p-=3),vC(d)}}}function gC(){function s(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(_){return b=_})},focusReset:"manual",scroll:"manual"})}function o(){b!==null&&(b(),b=null),p||setTimeout(d,20)}function d(){if(!p&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,b=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(d,100),function(){p=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),b!==null&&(b(),b=null)}}}function q0(s){this._internalRoot=s}hm.prototype.render=q0.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));var d=o.current,p=Pn();cC(d,p,s,o,null,null)},hm.prototype.unmount=q0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;cC(s.current,2,null,s,null,null),Kf(),o[ss]=null}};function hm(s){this._internalRoot=s}hm.prototype.unstable_scheduleHydration=function(s){if(s){var o=rf();s={blockedOn:null,target:s,priority:o};for(var d=0;d<_s.length&&o!==0&&o<_s[d].priority;d++);_s.splice(d,0,s),d===0&&hC(s)}};var bC=t.version;if(bC!=="19.2.4")throw Error(n(527,bC,"19.2.4"));G.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=m(o),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var KL={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xm.isDisabled&&xm.supportsFiber)try{Ye=xm.inject(KL),Be=xm}catch{}}return Ru.createRoot=function(s,o){if(!i(s))throw Error(n(299));var d=!1,p="",b=k2,w=A2,_=M2;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(b=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),o=lC(s,1,!1,null,null,d,p,null,b,w,_,gC),s[ss]=o.current,w0(s),new q0(o)},Ru.hydrateRoot=function(s,o,d){if(!i(s))throw Error(n(299));var p=!1,b="",w=k2,_=A2,I=M2,V=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onUncaughtError!==void 0&&(w=d.onUncaughtError),d.onCaughtError!==void 0&&(_=d.onCaughtError),d.onRecoverableError!==void 0&&(I=d.onRecoverableError),d.formState!==void 0&&(V=d.formState)),o=lC(s,1,!0,o,d??null,p,b,V,w,_,I,gC),o.context=oC(null),d=o.current,p=Pn(),p=sl(p),b=xs(p),b.callback=null,vs(d,b,p),d=p,o.current.lanes=d,Xe(o,d),Ba(o),s[ss]=o.current,w0(s),new hm(o)},Ru.version="19.2.4",Ru}var DC;function i6(){if(DC)return Y0.exports;DC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Y0.exports=a6(),Y0.exports}var s6=i6();var EC="popstate";function l6(e={}){function t(n,i){let{pathname:l,search:c,hash:u}=n.location;return ry("",{pathname:l,search:c,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:cd(i)}return c6(t,r,null,e)}function ar(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Aa(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function o6(){return Math.random().toString(36).substring(2,10)}function _C(e,t){return{usr:e.state,key:e.key,idx:t}}function ry(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Mc(t):t,state:r,key:t&&t.key||n||o6()}}function cd({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Mc(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function c6(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:l=!1}=n,c=i.history,u="POP",f=null,m=h();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function h(){return(c.state||{idx:null}).idx}function x(){u="POP";let N=h(),C=N==null?null:N-m;m=N,f&&f({action:u,location:y.location,delta:C})}function v(N,C){u="PUSH";let A=ry(y.location,N,C);m=h()+1;let k=_C(A,m),M=y.createHref(A);try{c.pushState(k,"",M)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(M)}l&&f&&f({action:u,location:y.location,delta:1})}function g(N,C){u="REPLACE";let A=ry(y.location,N,C);m=h();let k=_C(A,m),M=y.createHref(A);c.replaceState(k,"",M),l&&f&&f({action:u,location:y.location,delta:0})}function S(N){return u6(N)}let y={get action(){return u},get location(){return e(i,c)},listen(N){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(EC,x),f=N,()=>{i.removeEventListener(EC,x),f=null}},createHref(N){return t(i,N)},createURL:S,encodeLocation(N){let C=S(N);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:g,go(N){return c.go(N)}};return y}function u6(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ar(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:cd(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function l_(e,t,r="/"){return d6(e,t,r,!1)}function d6(e,t,r,n){let i=typeof t=="string"?Mc(t):t,l=Hi(i.pathname||"/",r);if(l==null)return null;let c=o_(e);f6(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let m=w6(l);u=j6(c[f],m,n)}return u}function o_(e,t=[],r=[],n="",i=!1){let l=(c,u,f=i,m)=>{let h={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&f)return;ar(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let x=zi([n,h.relativePath]),v=r.concat(h);c.children&&c.children.length>0&&(ar(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),o_(c.children,t,v,x,f)),!(c.path==null&&!c.index)&&t.push({path:x,score:b6(x,c.index),routesMeta:v})};return e.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))l(c,u);else for(let f of c_(c.path))l(c,u,!0,f)}),t}function c_(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return i?[l,""]:[l];let c=c_(n.join("/")),u=[];return u.push(...c.map(f=>f===""?l:[l,f].join("/"))),i&&u.push(...c),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function f6(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:y6(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var m6=/^:[\w-]+$/,p6=3,h6=2,x6=1,v6=10,g6=-2,OC=e=>e==="*";function b6(e,t){let r=e.split("/"),n=r.length;return r.some(OC)&&(n+=g6),t&&(n+=h6),r.filter(i=>!OC(i)).reduce((i,l)=>i+(m6.test(l)?p6:l===""?x6:v6),n)}function y6(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function j6(e,t,r=!1){let{routesMeta:n}=e,i={},l="/",c=[];for(let u=0;u<n.length;++u){let f=n[u],m=u===n.length-1,h=l==="/"?t:t.slice(l.length)||"/",x=Np({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},h),v=f.route;if(!x&&m&&r&&!n[n.length-1].route.index&&(x=Np({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},h)),!x)return null;Object.assign(i,x.params),c.push({params:i,pathname:zi([l,x.pathname]),pathnameBase:A6(zi([l,x.pathnameBase])),route:v}),x.pathnameBase!=="/"&&(l=zi([l,x.pathnameBase]))}return c}function Np(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=N6(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let l=i[0],c=l.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((m,{paramName:h,isOptional:x},v)=>{if(h==="*"){let S=u[v]||"";c=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const g=u[v];return x&&!g?m[h]=void 0:m[h]=(g||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:e}}function N6(e,t=!1,r=!0){Aa(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(n.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function w6(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Aa(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Hi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var S6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function C6(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Mc(e):e,l;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?l=TC(r.substring(1),"/"):l=TC(r,t)):l=t,{pathname:l,search:M6(n),hash:D6(i)}}function TC(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function K0(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function k6(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function p1(e){let t=k6(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function h1(e,t,r,n=!1){let i;typeof e=="string"?i=Mc(e):(i={...e},ar(!i.pathname||!i.pathname.includes("?"),K0("?","pathname","search",i)),ar(!i.pathname||!i.pathname.includes("#"),K0("#","pathname","hash",i)),ar(!i.search||!i.search.includes("#"),K0("#","search","hash",i)));let l=e===""||i.pathname==="",c=l?"/":i.pathname,u;if(c==null)u=r;else{let x=t.length-1;if(!n&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),x-=1;i.pathname=v.join("/")}u=x>=0?t[x]:"/"}let f=C6(i,u),m=c&&c!=="/"&&c.endsWith("/"),h=(l||c===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(m||h)&&(f.pathname+="/"),f}var zi=e=>e.join("/").replace(/\/\/+/g,"/"),A6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),M6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,D6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,E6=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function _6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function O6(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var u_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function d_(e,t){let r=e;if(typeof r!="string"||!S6.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,i=!1;if(u_)try{let l=new URL(window.location.href),c=r.startsWith("//")?new URL(l.protocol+r):new URL(r),u=Hi(c.pathname,t);c.origin===l.origin&&u!=null?r=u+c.search+c.hash:i=!0}catch{Aa(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:i,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var f_=["POST","PUT","PATCH","DELETE"];new Set(f_);var T6=["GET",...f_];new Set(T6);var Dc=j.createContext(null);Dc.displayName="DataRouter";var Ph=j.createContext(null);Ph.displayName="DataRouterState";var P6=j.createContext(!1),m_=j.createContext({isTransitioning:!1});m_.displayName="ViewTransition";var I6=j.createContext(new Map);I6.displayName="Fetchers";var R6=j.createContext(null);R6.displayName="Await";var Yn=j.createContext(null);Yn.displayName="Navigation";var Ed=j.createContext(null);Ed.displayName="Location";var Ea=j.createContext({outlet:null,matches:[],isDataRoute:!1});Ea.displayName="Route";var x1=j.createContext(null);x1.displayName="RouteError";var p_="REACT_ROUTER_ERROR",L6="REDIRECT",F6="ROUTE_ERROR_RESPONSE";function z6(e){if(e.startsWith(`${p_}:${L6}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function B6(e){if(e.startsWith(`${p_}:${F6}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new E6(t.status,t.statusText,t.data)}catch{}}function $6(e,{relative:t}={}){ar(Ec(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=j.useContext(Yn),{hash:i,pathname:l,search:c}=_d(e,{relative:t}),u=l;return r!=="/"&&(u=l==="/"?r:zi([r,l])),n.createHref({pathname:u,search:c,hash:i})}function Ec(){return j.useContext(Ed)!=null}function _a(){return ar(Ec(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Ed).location}var h_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function x_(e){j.useContext(Yn).static||j.useLayoutEffect(e)}function Ks(){let{isDataRoute:e}=j.useContext(Ea);return e?r8():q6()}function q6(){ar(Ec(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(Dc),{basename:t,navigator:r}=j.useContext(Yn),{matches:n}=j.useContext(Ea),{pathname:i}=_a(),l=JSON.stringify(p1(n)),c=j.useRef(!1);return x_(()=>{c.current=!0}),j.useCallback((f,m={})=>{if(Aa(c.current,h_),!c.current)return;if(typeof f=="number"){r.go(f);return}let h=h1(f,JSON.parse(l),i,m.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:zi([t,h.pathname])),(m.replace?r.replace:r.push)(h,m.state,m)},[t,r,l,i,e])}var H6=j.createContext(null);function U6(e){let t=j.useContext(Ea).outlet;return j.useMemo(()=>t&&j.createElement(H6.Provider,{value:e},t),[t,e])}function _d(e,{relative:t}={}){let{matches:r}=j.useContext(Ea),{pathname:n}=_a(),i=JSON.stringify(p1(r));return j.useMemo(()=>h1(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function Y6(e,t){return v_(e,t)}function v_(e,t,r,n,i){ar(Ec(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=j.useContext(Yn),{matches:c}=j.useContext(Ea),u=c[c.length-1],f=u?u.params:{},m=u?u.pathname:"/",h=u?u.pathnameBase:"/",x=u&&u.route;{let A=x&&x.path||"";b_(m,!x||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let v=_a(),g;if(t){let A=typeof t=="string"?Mc(t):t;ar(h==="/"||A.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${A.pathname}" was given in the \`location\` prop.`),g=A}else g=v;let S=g.pathname||"/",y=S;if(h!=="/"){let A=h.replace(/^\//,"").split("/");y="/"+S.replace(/^\//,"").split("/").slice(A.length).join("/")}let N=l_(e,{pathname:y});Aa(x||N!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Aa(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=Q6(N&&N.map(A=>Object.assign({},A,{params:Object.assign({},f,A.params),pathname:zi([h,l.encodeLocation?l.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?h:zi([h,l.encodeLocation?l.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),c,r,n,i);return t&&C?j.createElement(Ed.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},C):C}function V6(){let e=t8(),t=_6(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},l={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:l},"ErrorBoundary")," or"," ",j.createElement("code",{style:l},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:i},r):null,c)}var G6=j.createElement(V6,null),g_=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=B6(e.digest);r&&(e=r)}let t=e!==void 0?j.createElement(Ea.Provider,{value:this.props.routeContext},j.createElement(x1.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?j.createElement(W6,{error:e},t):t}};g_.contextType=P6;var Q0=new WeakMap;function W6({children:e,error:t}){let{basename:r}=j.useContext(Yn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=z6(t.digest);if(n){let i=Q0.get(t);if(i)throw i;let l=d_(n.location,r);if(u_&&!Q0.get(t))if(l.isExternal||n.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:n.replace}));throw Q0.set(t,c),c}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return e}function K6({routeContext:e,match:t,children:r}){let n=j.useContext(Dc);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(Ea.Provider,{value:e},r)}function Q6(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,c=r?.errors;if(c!=null){let h=l.findIndex(x=>x.route.id&&c?.[x.route.id]!==void 0);ar(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,h+1))}let u=!1,f=-1;if(r)for(let h=0;h<l.length;h++){let x=l[h];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(f=h),x.route.id){let{loaderData:v,errors:g}=r,S=x.route.loader&&!v.hasOwnProperty(x.route.id)&&(!g||g[x.route.id]===void 0);if(x.route.lazy||S){u=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let m=r&&n?(h,x)=>{n(h,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:O6(r.matches),errorInfo:x})}:void 0;return l.reduceRight((h,x,v)=>{let g,S=!1,y=null,N=null;r&&(g=c&&x.route.id?c[x.route.id]:void 0,y=x.route.errorElement||G6,u&&(f<0&&v===0?(b_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,N=null):f===v&&(S=!0,N=x.route.hydrateFallbackElement||null)));let C=t.concat(l.slice(0,v+1)),A=()=>{let k;return g?k=y:S?k=N:x.route.Component?k=j.createElement(x.route.Component,null):x.route.element?k=x.route.element:k=h,j.createElement(K6,{match:x,routeContext:{outlet:h,matches:C,isDataRoute:r!=null},children:k})};return r&&(x.route.ErrorBoundary||x.route.errorElement||v===0)?j.createElement(g_,{location:r.location,revalidation:r.revalidation,component:y,error:g,children:A(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:m}):A()},null)}function v1(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function X6(e){let t=j.useContext(Dc);return ar(t,v1(e)),t}function Z6(e){let t=j.useContext(Ph);return ar(t,v1(e)),t}function J6(e){let t=j.useContext(Ea);return ar(t,v1(e)),t}function g1(e){let t=J6(e),r=t.matches[t.matches.length-1];return ar(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function e8(){return g1("useRouteId")}function t8(){let e=j.useContext(x1),t=Z6("useRouteError"),r=g1("useRouteError");return e!==void 0?e:t.errors?.[r]}function r8(){let{router:e}=X6("useNavigate"),t=g1("useNavigate"),r=j.useRef(!1);return x_(()=>{r.current=!0}),j.useCallback(async(i,l={})=>{Aa(r.current,h_),r.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...l}))},[e,t])}var PC={};function b_(e,t,r){!t&&!PC[e]&&(PC[e]=!0,Aa(!1,r))}j.memo(n8);function n8({routes:e,future:t,state:r,onError:n}){return v_(e,void 0,r,n,t)}function ny({to:e,replace:t,state:r,relative:n}){ar(Ec(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=j.useContext(Yn);Aa(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=j.useContext(Ea),{pathname:c}=_a(),u=Ks(),f=h1(e,p1(l),c,n==="path"),m=JSON.stringify(f);return j.useEffect(()=>{u(JSON.parse(m),{replace:t,state:r,relative:n})},[u,m,n,t,r]),null}function y_(e){return U6(e.context)}function tr(e){ar(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function a8({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:l=!1,unstable_useTransitions:c}){ar(!Ec(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),f=j.useMemo(()=>({basename:u,navigator:i,static:l,unstable_useTransitions:c,future:{}}),[u,i,l,c]);typeof r=="string"&&(r=Mc(r));let{pathname:m="/",search:h="",hash:x="",state:v=null,key:g="default"}=r,S=j.useMemo(()=>{let y=Hi(m,u);return y==null?null:{location:{pathname:y,search:h,hash:x,state:v,key:g},navigationType:n}},[u,m,h,x,v,g,n]);return Aa(S!=null,`<Router basename="${u}"> is not able to match the URL "${m}${h}${x}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:j.createElement(Yn.Provider,{value:f},j.createElement(Ed.Provider,{children:t,value:S}))}function i8({children:e,location:t}){return Y6(ay(e),t)}function ay(e,t=[]){let r=[];return j.Children.forEach(e,(n,i)=>{if(!j.isValidElement(n))return;let l=[...t,i];if(n.type===j.Fragment){r.push.apply(r,ay(n.props.children,l));return}ar(n.type===tr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ar(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=ay(n.props.children,l)),r.push(c)}),r}var sp="get",lp="application/x-www-form-urlencoded";function Ih(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function s8(e){return Ih(e)&&e.tagName.toLowerCase()==="button"}function l8(e){return Ih(e)&&e.tagName.toLowerCase()==="form"}function o8(e){return Ih(e)&&e.tagName.toLowerCase()==="input"}function c8(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function u8(e,t){return e.button===0&&(!t||t==="_self")&&!c8(e)}var vm=null;function d8(){if(vm===null)try{new FormData(document.createElement("form"),0),vm=!1}catch{vm=!0}return vm}var f8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function X0(e){return e!=null&&!f8.has(e)?(Aa(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lp}"`),null):e}function m8(e,t){let r,n,i,l,c;if(l8(e)){let u=e.getAttribute("action");n=u?Hi(u,t):null,r=e.getAttribute("method")||sp,i=X0(e.getAttribute("enctype"))||lp,l=new FormData(e)}else if(s8(e)||o8(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||u.getAttribute("action");if(n=f?Hi(f,t):null,r=e.getAttribute("formmethod")||u.getAttribute("method")||sp,i=X0(e.getAttribute("formenctype"))||X0(u.getAttribute("enctype"))||lp,l=new FormData(u,e),!d8()){let{name:m,type:h,value:x}=e;if(h==="image"){let v=m?`${m}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else m&&l.append(m,x)}}else{if(Ih(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=sp,n=null,i=lp,c=e}return l&&i==="text/plain"&&(c=l,l=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function b1(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function p8(e,t,r,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${n}`:i.pathname=`${i.pathname}.${n}`:i.pathname==="/"?i.pathname=`_root.${n}`:t&&Hi(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function h8(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function x8(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function v8(e,t,r){let n=await Promise.all(e.map(async i=>{let l=t.routes[i.route.id];if(l){let c=await h8(l,r);return c.links?c.links():[]}return[]}));return j8(n.flat(1).filter(x8).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function IC(e,t,r,n,i,l){let c=(f,m)=>r[m]?f.route.id!==r[m].route.id:!0,u=(f,m)=>r[m].pathname!==f.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==f.params["*"];return l==="assets"?t.filter((f,m)=>c(f,m)||u(f,m)):l==="data"?t.filter((f,m)=>{let h=n.routes[f.route.id];if(!h||!h.hasLoader)return!1;if(c(f,m)||u(f,m))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function g8(e,t,{includeHydrateFallback:r}={}){return b8(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function b8(e){return[...new Set(e)]}function y8(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function j8(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let l=JSON.stringify(y8(i));return r.has(l)||(r.add(l),n.push({key:l,link:i})),n},[])}function j_(){let e=j.useContext(Dc);return b1(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function N8(){let e=j.useContext(Ph);return b1(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var y1=j.createContext(void 0);y1.displayName="FrameworkContext";function N_(){let e=j.useContext(y1);return b1(e,"You must render this element inside a <HydratedRouter> element"),e}function w8(e,t){let r=j.useContext(y1),[n,i]=j.useState(!1),[l,c]=j.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:m,onMouseLeave:h,onTouchStart:x}=t,v=j.useRef(null);j.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let y=C=>{C.forEach(A=>{c(A.isIntersecting)})},N=new IntersectionObserver(y,{threshold:.5});return v.current&&N.observe(v.current),()=>{N.disconnect()}}},[e]),j.useEffect(()=>{if(n){let y=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(y)}}},[n]);let g=()=>{i(!0)},S=()=>{i(!1),c(!1)};return r?e!=="intent"?[l,v,{}]:[l,v,{onFocus:Lu(u,g),onBlur:Lu(f,S),onMouseEnter:Lu(m,g),onMouseLeave:Lu(h,S),onTouchStart:Lu(x,g)}]:[!1,v,{}]}function Lu(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function S8({page:e,...t}){let{router:r}=j_(),n=j.useMemo(()=>l_(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?j.createElement(k8,{page:e,matches:n,...t}):null}function C8(e){let{manifest:t,routeModules:r}=N_(),[n,i]=j.useState([]);return j.useEffect(()=>{let l=!1;return v8(e,t,r).then(c=>{l||i(c)}),()=>{l=!0}},[e,t,r]),n}function k8({page:e,matches:t,...r}){let n=_a(),{future:i,manifest:l,routeModules:c}=N_(),{basename:u}=j_(),{loaderData:f,matches:m}=N8(),h=j.useMemo(()=>IC(e,t,m,l,n,"data"),[e,t,m,l,n]),x=j.useMemo(()=>IC(e,t,m,l,n,"assets"),[e,t,m,l,n]),v=j.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let y=new Set,N=!1;if(t.forEach(A=>{let k=l.routes[A.route.id];!k||!k.hasLoader||(!h.some(M=>M.route.id===A.route.id)&&A.route.id in f&&c[A.route.id]?.shouldRevalidate||k.hasClientLoader?N=!0:y.add(A.route.id))}),y.size===0)return[];let C=p8(e,u,i.unstable_trailingSlashAwareDataRequests,"data");return N&&y.size>0&&C.searchParams.set("_routes",t.filter(A=>y.has(A.route.id)).map(A=>A.route.id).join(",")),[C.pathname+C.search]},[u,i.unstable_trailingSlashAwareDataRequests,f,n,l,h,t,e,c]),g=j.useMemo(()=>g8(x,l),[x,l]),S=C8(x);return j.createElement(j.Fragment,null,v.map(y=>j.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),g.map(y=>j.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),S.map(({key:y,link:N})=>j.createElement("link",{key:y,nonce:r.nonce,...N,crossOrigin:N.crossOrigin??r.crossOrigin})))}function A8(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var M8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{M8&&(window.__reactRouterVersion="7.13.0")}catch{}function D8({basename:e,children:t,unstable_useTransitions:r,window:n}){let i=j.useRef();i.current==null&&(i.current=l6({window:n,v5Compat:!0}));let l=i.current,[c,u]=j.useState({action:l.action,location:l.location}),f=j.useCallback(m=>{r===!1?u(m):j.startTransition(()=>u(m))},[r]);return j.useLayoutEffect(()=>l.listen(f),[l,f]),j.createElement(a8,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:r})}var w_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pl=j.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:l,replace:c,state:u,target:f,to:m,preventScrollReset:h,viewTransition:x,unstable_defaultShouldRevalidate:v,...g},S){let{basename:y,unstable_useTransitions:N}=j.useContext(Yn),C=typeof m=="string"&&w_.test(m),A=d_(m,y);m=A.to;let k=$6(m,{relative:i}),[M,D,O]=w8(n,g),P=O8(m,{replace:c,state:u,target:f,preventScrollReset:h,relative:i,viewTransition:x,unstable_defaultShouldRevalidate:v,unstable_useTransitions:N});function T(L){t&&t(L),L.defaultPrevented||P(L)}let $=j.createElement("a",{...g,...O,href:A.absoluteURL||k,onClick:A.isExternal||l?t:T,ref:A8(S,D),target:f,"data-discover":!C&&r==="render"?"true":void 0});return M&&!C?j.createElement(j.Fragment,null,$,j.createElement(S8,{page:k})):$});Pl.displayName="Link";var S_=j.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:l,to:c,viewTransition:u,children:f,...m},h){let x=_d(c,{relative:m.relative}),v=_a(),g=j.useContext(Ph),{navigator:S,basename:y}=j.useContext(Yn),N=g!=null&&L8(x)&&u===!0,C=S.encodeLocation?S.encodeLocation(x).pathname:x.pathname,A=v.pathname,k=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(A=A.toLowerCase(),k=k?k.toLowerCase():null,C=C.toLowerCase()),k&&y&&(k=Hi(k,y)||k);const M=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let D=A===C||!i&&A.startsWith(C)&&A.charAt(M)==="/",O=k!=null&&(k===C||!i&&k.startsWith(C)&&k.charAt(C.length)==="/"),P={isActive:D,isPending:O,isTransitioning:N},T=D?t:void 0,$;typeof n=="function"?$=n(P):$=[n,D?"active":null,O?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(P):l;return j.createElement(Pl,{...m,"aria-current":T,className:$,ref:h,style:L,to:c,viewTransition:u},typeof f=="function"?f(P):f)});S_.displayName="NavLink";var E8=j.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:l,method:c=sp,action:u,onSubmit:f,relative:m,preventScrollReset:h,viewTransition:x,unstable_defaultShouldRevalidate:v,...g},S)=>{let{unstable_useTransitions:y}=j.useContext(Yn),N=I8(),C=R8(u,{relative:m}),A=c.toLowerCase()==="get"?"get":"post",k=typeof u=="string"&&w_.test(u),M=D=>{if(f&&f(D),D.defaultPrevented)return;D.preventDefault();let O=D.nativeEvent.submitter,P=O?.getAttribute("formmethod")||c,T=()=>N(O||D.currentTarget,{fetcherKey:t,method:P,navigate:r,replace:i,state:l,relative:m,preventScrollReset:h,viewTransition:x,unstable_defaultShouldRevalidate:v});y&&r!==!1?j.startTransition(()=>T()):T()};return j.createElement("form",{ref:S,method:A,action:C,onSubmit:n?f:M,...g,"data-discover":!k&&e==="render"?"true":void 0})});E8.displayName="Form";function _8(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function C_(e){let t=j.useContext(Dc);return ar(t,_8(e)),t}function O8(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:u,unstable_useTransitions:f}={}){let m=Ks(),h=_a(),x=_d(e,{relative:l});return j.useCallback(v=>{if(u8(v,t)){v.preventDefault();let g=r!==void 0?r:cd(h)===cd(x),S=()=>m(e,{replace:g,state:n,preventScrollReset:i,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:u});f?j.startTransition(()=>S()):S()}},[h,m,x,r,n,t,e,i,l,c,u,f])}var T8=0,P8=()=>`__${String(++T8)}__`;function I8(){let{router:e}=C_("useSubmit"),{basename:t}=j.useContext(Yn),r=e8(),n=e.fetch,i=e.navigate;return j.useCallback(async(l,c={})=>{let{action:u,method:f,encType:m,formData:h,body:x}=m8(l,t);if(c.navigate===!1){let v=c.fetcherKey||P8();await n(v,r,c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:h,body:x,formMethod:c.method||f,formEncType:c.encType||m,flushSync:c.flushSync})}else await i(c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:h,body:x,formMethod:c.method||f,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:r,flushSync:c.flushSync,viewTransition:c.viewTransition})},[n,i,t,r])}function R8(e,{relative:t}={}){let{basename:r}=j.useContext(Yn),n=j.useContext(Ea);ar(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),l={..._d(e||".",{relative:t})},c=_a();if(e==null){l.search=c.search;let u=new URLSearchParams(l.search),f=u.getAll("index");if(f.some(h=>h==="")){u.delete("index"),f.filter(x=>x).forEach(x=>u.append("index",x));let h=u.toString();l.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:zi([r,l.pathname])),cd(l)}function L8(e,{relative:t}={}){let r=j.useContext(m_);ar(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=C_("useViewTransitionState"),i=_d(e,{relative:t});if(!r.isTransitioning)return!1;let l=Hi(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=Hi(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Np(i.pathname,c)!=null||Np(i.pathname,l)!=null}var _c=s_();const F8=li(_c),z8="AKfycbynPupVtwLAHNI6nPLNLFutzXyKlGDkMphljUMWL8RiEira9AoV20mJdubPU5l1CpA6",j1="cf_access_token",N1="cf_token_expiry",w1="cf_user_name";function wp(){const e=localStorage.getItem(N1);return e&&Date.now()>Number(e)?(op(),null):localStorage.getItem(j1)}function RC(e,t=3500){localStorage.setItem(j1,e),localStorage.setItem(N1,String(Date.now()+t*1e3))}function op(){localStorage.removeItem(j1),localStorage.removeItem(N1),localStorage.removeItem(w1)}function LC(){return!!wp()}function FC(e){localStorage.setItem(w1,e)}function B8(){return localStorage.getItem(w1)||""}let iy=null;function $8(e){iy=e}async function Oe(e,t={},r=!0){const n=wp();if(!n)throw new Error("Not authenticated. Please sign in.");const u=await(await fetch(`https://script.googleapis.com/v1/scripts/${z8}:run`,{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({function:"apiRouter",devMode:!1,parameters:[{action:e,params:t,userName:B8()}]})})).json();if(u.error){if(r&&(u.error.code===401||u.error.code===403||u.error.status==="UNAUTHENTICATED"||u.error.status==="PERMISSION_DENIED")&&iy)try{return await iy(),Oe(e,t,!1)}catch{}if(u.error.details&&u.error.details.length>0){const f=u.error.details[0];throw new Error(f.errorMessage||"Script execution error")}throw new Error(u.error.message||"API error")}if(u.response&&u.response.result!==void 0){const f=u.response.result;if(f&&!f.success){const h=new Error(f.error||"Unknown error");throw h.code=f.code,h}const m=f?f.data:null;if(m&&m.success===!1)throw new Error(m.error||m.message||"Operation failed");return m}throw new Error("Unexpected response format")}const zC=()=>Oe("auth:me"),q8=(e,t)=>Oe("auth:invite",{email:e,name:t}),Sp=()=>Oe("data:load-all"),k_=()=>Oe("members:list"),A_=e=>Oe("member:create",e),M_=e=>Oe("member:update",e),D_=e=>Oe("member:delete",{memberId:e}),E_=()=>Oe("banks:list"),__=e=>Oe("bank:create",e),H8=e=>Oe("bank:update",e),O_=e=>Oe("bank:delete",{accountId:e}),T_=()=>Oe("invaccounts:list"),P_=e=>Oe("invacct:create",e),U8=e=>Oe("invacct:update",e),I_=e=>Oe("invacct:delete",{accountId:e}),Y8=()=>Oe("portfolios:list"),V8=e=>Oe("portfolio:create",e),G8=e=>Oe("portfolio:update",e),W8=e=>Oe("portfolio:delete",{portfolioId:e}),K8=e=>Oe("mf:invest",e),Q8=e=>Oe("mf:redeem",e),X8=e=>Oe("mf:switch",e),Z8=(e,t)=>Oe("mf:allocations-update",{portfolioId:e,allocations:t}),J8=()=>Oe("funds:all"),eF=e=>Oe("asset-allocation:save",e),R_=()=>Oe("goals:list"),L_=e=>Oe("goal:create",e),tF=(e,t)=>Oe("goal:update",{goalId:e,...t}),F_=e=>Oe("goal:delete",{goalId:e}),rF=()=>Oe("goal:mappings-list"),nF=(e,t)=>Oe("goal:mappings-update",{goalId:e,mappings:t}),z_=()=>Oe("insurance:list"),B_=e=>Oe("insurance:create",e),aF=e=>Oe("insurance:update",e),$_=e=>Oe("insurance:delete",{policyId:e}),q_=()=>Oe("liabilities:list"),H_=e=>Oe("liability:create",e),iF=e=>Oe("liability:update",e),U_=e=>Oe("liability:delete",{liabilityId:e}),Y_=()=>Oe("otherinv:list"),V_=e=>Oe("otherinv:create",e),sF=e=>Oe("otherinv:update",e),G_=e=>Oe("otherinv:delete",{investmentId:e}),W_=()=>Oe("stock-portfolios:list"),K_=e=>Oe("stock-portfolio:create",e),lF=e=>Oe("stock-portfolio:update",e),Q_=e=>Oe("stock-portfolio:delete",{portfolioId:e}),oF=()=>Oe("stocks:all"),cF=e=>Oe("stock:price",{symbol:e}),uF=e=>Oe("stock:buy",e),dF=e=>Oe("stock:sell",e),fF=e=>Oe("mf-transaction:delete",{transactionId:e}),mF=e=>Oe("mf-transaction:edit",e),pF=e=>Oe("stock-transaction:edit",e),hF=e=>Oe("stock-transaction:delete",{transactionId:e}),xF=()=>Oe("mf-holdings:list"),vF=()=>Oe("mf-transactions:list"),gF=()=>Oe("stock-holdings:list-all"),bF=()=>Oe("stock-transactions:list-all"),X_=()=>Oe("reminders:list"),Z_=e=>Oe("reminder:create",e),yF=e=>Oe("reminder:update",e),J_=e=>Oe("reminder:delete",{reminderId:e}),jF=e=>Oe("healthcheck:save",e),eO=()=>Oe("healthcheck:get"),NF=()=>Oe("settings:list"),wF=e=>Oe("settings:update",e),SF=()=>Oe("market:data"),CF=()=>Oe("data:refresh-master"),kF=()=>Oe("email:send-report-now"),AF=(e,t)=>Oe("email:send-dashboard-pdf",{pdfBase64:e,fileName:t});typeof window<"u"&&(window._cf={callAPI:Oe,checkTriggers:()=>Oe("test:triggers"),diagnose:()=>Oe("test:diagnose")});const MF="capital-friends",DF=1,Sn="cache";let Fu=null;function Oc(){return Fu||(Fu=new Promise((e,t)=>{const r=indexedDB.open(MF,DF);r.onupgradeneeded=n=>{const i=n.target.result;i.objectStoreNames.contains(Sn)||i.createObjectStore(Sn,{keyPath:"key"})},r.onsuccess=()=>e(r.result),r.onerror=()=>{console.warn("[idb] Failed to open database:",r.error),Fu=null,t(r.error)}}),Fu)}async function tO(e){try{const t=await Oc();return new Promise(r=>{const i=t.transaction(Sn,"readonly").objectStore(Sn).get(e);i.onsuccess=()=>r(i.result?i.result.data:null),i.onerror=()=>r(null)})}catch{return null}}async function rO(e){try{const t=await Oc();return new Promise(r=>{const i=t.transaction(Sn,"readonly").objectStore(Sn).get(e);i.onsuccess=()=>r(i.result||null),i.onerror=()=>r(null)})}catch{return null}}async function an(e,t){try{const r=await Oc();return new Promise(n=>{const i=r.transaction(Sn,"readwrite");i.objectStore(Sn).put({key:e,data:t,updatedAt:Date.now()}),i.oncomplete=()=>n(),i.onerror=()=>n()})}catch{}}async function EF(){try{const e=await Oc();return new Promise(t=>{const n=e.transaction(Sn,"readonly").objectStore(Sn).getAll();n.onsuccess=()=>{const i={};for(const l of n.result||[])i[l.key]=l.data;t(i)},n.onerror=()=>t({})})}catch{return{}}}async function Z0(e){try{const t=await Oc();return new Promise(r=>{const n=t.transaction(Sn,"readwrite"),i=n.objectStore(Sn),l=Date.now();for(const[c,u]of Object.entries(e))i.put({key:c,data:u,updatedAt:l});n.oncomplete=()=>r(),n.onerror=()=>r()})}catch{}}async function _F(){try{const e=await Oc();return new Promise(t=>{const r=e.transaction(Sn,"readwrite");r.objectStore(Sn).clear(),r.oncomplete=()=>t(),r.onerror=()=>t()})}catch{}}const nO=j.createContext(null),OF="868467315292-7hfrvkh8pq8f1e2l3v38m6qrupboa295.apps.googleusercontent.com",TF=["https://www.googleapis.com/auth/spreadsheets","https://www.googleapis.com/auth/drive","https://www.googleapis.com/auth/gmail.send","https://www.googleapis.com/auth/script.scriptapp","openid","email","profile"].join(" "),S1="cf_user_profile";function BC(){try{const e=localStorage.getItem(S1);return e?JSON.parse(e):null}catch{return null}}function PF(e){try{localStorage.setItem(S1,JSON.stringify(e))}catch{}}function $C(){localStorage.removeItem(S1)}function IF({children:e}){const t=LC()?BC():null,[r,n]=j.useState(t),[i,l]=j.useState(!t),[c,u]=j.useState(null),f=j.useRef(null);function m(C){n(C),C?PF(C):$C()}j.useEffect(()=>{const C=()=>{if(!window.google?.accounts?.oauth2){setTimeout(C,200);return}f.current=window.google.accounts.oauth2.initTokenClient({client_id:OF,scope:TF,callback:h}),$8(g),LC()?v():l(!1)};C()},[]);async function h(C){if(C.error){u(C.error_description||C.error),l(!1);return}try{l(!0),u(null),RC(C.access_token,C.expires_in);const A=await x(C.access_token);FC(A.name||"");const k=await zC();m({email:k.email||A.email,name:k.name||A.name,role:k.role,picture:A.picture||""})}catch(A){u(A.message),op(),m(null)}finally{l(!1)}}async function x(C){const A=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${C}`}});if(!A.ok)throw new Error("Failed to fetch user profile");return A.json()}async function v(){const C=!!BC();try{const A=wp(),k=await x(A);FC(k.name||"");const M=await zC();m({email:M.email||k.email,name:M.name||k.name,role:M.role,picture:k.picture||""})}catch{op(),m(null)}finally{C||l(!1)}}function g(){return new Promise((C,A)=>{if(!f.current){A(new Error("Token client not initialized"));return}const k=f.current,M=k.callback;k.callback=D=>{k.callback=M,D.error?A(new Error(D.error)):(RC(D.access_token,D.expires_in),C())},k.requestAccessToken({prompt:""})})}const S=j.useCallback(()=>{f.current&&(u(null),f.current.requestAccessToken())},[]),y=j.useCallback(()=>{const C=wp();C&&window.google?.accounts?.oauth2&&window.google.accounts.oauth2.revoke(C),op(),$C(),_F(),sessionStorage.removeItem("cf_health_check"),n(null)},[]),N={user:r,loading:i,error:c,isAuthenticated:!!r,isOwner:r?.role==="owner",signIn:S,signOut:y};return a.jsx(nO.Provider,{value:N,children:e})}function ao(){const e=j.useContext(nO);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const aO=j.createContext();function RF({children:e}){const[t,r]=j.useState(()=>{const i=localStorage.getItem("cf-theme");return i||(window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark")});j.useEffect(()=>{localStorage.setItem("cf-theme",t),document.documentElement.setAttribute("data-theme",t)},[t]);const n=()=>r(i=>i==="dark"?"light":"dark");return a.jsx(aO.Provider,{value:{theme:t,toggle:n},children:e})}function iO(){return j.useContext(aO)}const sO=j.createContext(),lO="cf_hc_done";function LF(){try{return sessionStorage.getItem(lO)==="1"?!0:null}catch{return null}}function Ho(e){try{sessionStorage.setItem(lO,e?"1":"0")}catch{}}function FF({children:e}){const{isAuthenticated:t}=ao(),r=t?LF():null,[n,i]=j.useState(!0),[l,c]=j.useState(!1),[u,f]=j.useState(null),[m,h]=j.useState(null),[x,v]=j.useState(null),[g,S]=j.useState(null),[y,N]=j.useState(null),[C,A]=j.useState(null),[k,M]=j.useState(null),[D,O]=j.useState(null),[P,T]=j.useState(null),[$,L]=j.useState(null),[q,E]=j.useState(null),[Z,Q]=j.useState(null),[re,R]=j.useState(null),[G,pe]=j.useState(null),[je,we]=j.useState(null),[F,ue]=j.useState(null),[J,B]=j.useState(null),[z,U]=j.useState(null),[xe,Ne]=j.useState(r!==null?r:null),[ne,Ee]=j.useState(null),Ce=j.useRef(!1),oe=j.useCallback(Y=>{Y&&("members"in Y&&h(Y.members||[]),"bankAccounts"in Y&&v(Y.bankAccounts||[]),"investments"in Y&&S(Y.investments||[]),"insurancePolicies"in Y&&N(Y.insurancePolicies||[]),"liabilities"in Y&&A(Y.liabilities||[]),"otherInvestments"in Y&&M(Y.otherInvestments||[]),"stockPortfolios"in Y&&O(Y.stockPortfolios||[]),"stockHoldings"in Y&&T(Y.stockHoldings||[]),"stockTransactions"in Y&&L(Y.stockTransactions||[]),"mfPortfolios"in Y&&E(Y.mfPortfolios||[]),"mfHoldings"in Y&&Q((Y.mfHoldings||[]).map(Se=>Se.schemeCode?Se:{...Se,schemeCode:Se.fundCode})),"mfTransactions"in Y&&R(Y.mfTransactions||[]),"goals"in Y&&pe(Y.goals||[]),"reminders"in Y&&we(Y.reminders||[]),"goalPortfolioMappings"in Y&&ue(Y.goalPortfolioMappings||[]),"assetAllocations"in Y&&B(Y.assetAllocations||[]),"settings"in Y&&U(Y.settings||{}))},[]),$e=j.useCallback(Y=>{Z0({members:Y.members||[],bankAccounts:Y.bankAccounts||[],investments:Y.investments||[],insurancePolicies:Y.insurancePolicies||[],liabilities:Y.liabilities||[],otherInvestments:Y.otherInvestments||[],stockPortfolios:Y.stockPortfolios||[],stockHoldings:Y.stockHoldings||[],stockTransactions:Y.stockTransactions||[],mfPortfolios:Y.mfPortfolios||[],mfHoldings:Y.mfHoldings||[],mfTransactions:Y.mfTransactions||[],goals:Y.goals||[],reminders:Y.reminders||[],goalPortfolioMappings:Y.goalPortfolioMappings||[],assetAllocations:Y.assetAllocations||[]})},[]),Ie=j.useCallback(async(Y=!1)=>{try{Y?c(!0):i(!0),f(null);const Se=await Sp();oe(Se),$e(Se)}catch(Se){f(Se.message)}finally{i(!1),c(!1)}},[oe,$e]),Re=j.useCallback(async()=>{const Y=await k_();h(Y||[]),an("members",Y||[])},[]),rt=j.useCallback(async()=>{const Y=await E_();v(Y||[]),an("bankAccounts",Y||[])},[]),Nt=j.useCallback(async()=>{const Y=await T_();S(Y||[]),an("investments",Y||[])},[]),zt=j.useCallback(async()=>{const Y=await z_();N(Y||[]),an("insurancePolicies",Y||[])},[]),Ht=j.useCallback(async()=>{const Y=await q_();A(Y||[]),an("liabilities",Y||[])},[]),Xt=j.useCallback(async()=>{const Y=await Y_();M(Y||[]),an("otherInvestments",Y||[])},[]),Zt=j.useCallback(async()=>{const[Y,Se]=await Promise.all([R_(),rF()]);pe(Y||[]),ue(Se||[]),an("goals",Y||[]),an("goalPortfolioMappings",Se||[])},[]),ye=j.useCallback(async()=>{const Y=await X_();we(Y||[]),an("reminders",Y||[])},[]),_e=j.useCallback(async()=>{const[Y,Se,cr]=await Promise.all([Y8(),xF(),vF()]),An=(Se||[]).map(Ia=>Ia.schemeCode?Ia:{...Ia,schemeCode:Ia.fundCode});E(Y||[]),Q(An),R(cr||[]),Z0({mfPortfolios:Y||[],mfHoldings:An,mfTransactions:cr||[]})},[]),ze=j.useCallback(async()=>{const[Y,Se,cr]=await Promise.all([W_(),gF(),bF()]);O(Y||[]),T(Se||[]),L(cr||[]),Z0({stockPortfolios:Y||[],stockHoldings:Se||[],stockTransactions:cr||[]})},[]),Mt=j.useCallback(async()=>{const Y=await NF();U(Y||{}),an("settings",Y||{})},[]),W=j.useCallback(async Y=>{await wF(Y),await Mt()},[Mt]),H=j.useCallback(async()=>{try{const Y=await tO("healthCheckAnswers");if(Y&&Object.keys(Y).length>0){Ne(!0),Ee(Y),Ho(!0);return}const Se=await eO();Se&&Object.keys(Se).length>0?(Ne(!0),Ee(Se),Ho(!0),an("healthCheckAnswers",Se)):(Ne(!1),Ho(!1))}catch{Ne(!1),Ho(!1)}},[]),te=j.useCallback(async Y=>{const Se=await jF(Y);return Se?.success&&(Ne(!0),Ee(Y),Ho(!0),an("healthCheckAnswers",Y)),Se},[]);j.useEffect(()=>{if(!t){i(!1);return}if(Ce.current)return;Ce.current=!0;async function Y(){const Se=await EF(),cr=Object.keys(Se).length>0;cr&&(oe(Se),Se.healthCheckAnswers&&Object.keys(Se.healthCheckAnswers).length>0&&(Ne(!0),Ee(Se.healthCheckAnswers),Ho(!0)),i(!1));try{cr&&c(!0);const An=await Sp();oe(An),$e(An)}catch(An){cr||f(An.message)}finally{i(!1),c(!1)}}Y(),Mt().catch(()=>{}),r===null&&H().catch(()=>{})},[t,oe,$e,Mt,H]),j.useEffect(()=>{t||(Ce.current=!1)},[t]);const ke=j.useCallback(async Y=>{const Se=await A_(Y);if(Y.email)try{await q8(Y.email,Y.memberName)}catch(cr){console.warn("Auto-invite failed (non-blocking):",cr.message)}return await Re(),Se},[Re]),Ue=j.useCallback(async(Y,Se)=>{await M_({memberId:Y,...Se}),await Re()},[Re]),se=j.useCallback(async Y=>{await D_(Y),await Re()},[Re]),it=j.useCallback(async Y=>{const Se=await __(Y);return await rt(),Se},[rt]),Ye=j.useCallback(async(Y,Se)=>{await H8({accountId:Y,...Se}),await rt()},[rt]),Be=j.useCallback(async Y=>{await O_(Y),await rt()},[rt]),Je=j.useCallback(async Y=>{const Se=await P_(Y);return await Nt(),Se},[Nt]),nt=j.useCallback(async(Y,Se)=>{await U8({accountId:Y,...Se}),await Nt()},[Nt]),Ut=j.useCallback(async Y=>{await I_(Y),await Nt()},[Nt]),Qe=j.useCallback(async Y=>{const Se=await B_(Y);return await zt(),Se},[zt]),De=j.useCallback(async(Y,Se)=>{await aF({policyId:Y,...Se}),await zt()},[zt]),We=j.useCallback(async Y=>{await $_(Y),await zt()},[zt]),Fe=j.useCallback(async Y=>{const Se=await H_(Y);return await Ht(),Se},[Ht]),bt=j.useCallback(async(Y,Se)=>{await iF({liabilityId:Y,...Se}),await Ht()},[Ht]),Bt=j.useCallback(async Y=>{await U_(Y),await Ht()},[Ht]),Yt=j.useCallback(async Y=>{const Se=await V_(Y);return await Xt(),Y.quickLoan&&await Ht(),Se},[Xt,Ht]),gr=j.useCallback(async(Y,Se)=>{await sF({investmentId:Y,...Se}),await Xt(),await Ht()},[Xt,Ht]),kn=j.useCallback(async Y=>{await G_(Y),await Xt()},[Xt]),de=j.useCallback(async Y=>{const Se=await L_(Y);return await Zt(),Se},[Zt]),Ae=j.useCallback(async(Y,Se)=>{await tF(Y,Se),await Zt()},[Zt]),Xe=j.useCallback(async Y=>{await F_(Y),await Zt()},[Zt]),Jt=j.useCallback(async Y=>{const Se=await Z_(Y);return await ye(),Se},[ye]),sr=j.useCallback(async(Y,Se)=>{await yF({reminderId:Y,...Se}),await ye()},[ye]),mi=j.useCallback(async Y=>{await J_(Y),await ye()},[ye]),il=j.useCallback(async(Y,Se)=>{await nF(Y,Se),await Zt()},[Zt]),sl=j.useCallback(async Y=>{const Se=await K_(Y);return await ze(),Se},[ze]),Yc=j.useCallback(async(Y,Se)=>{await lF({portfolioId:Y,...Se}),await ze()},[ze]),rf=j.useCallback(async Y=>{await Q_(Y),await ze()},[ze]),nf=j.useCallback(async Y=>{const Se=await uF(Y);return await ze(),Se},[ze]),Pa=j.useCallback(async Y=>{const Se=await dF(Y);return await ze(),Se},[ze]),Or=j.useCallback(async Y=>{await pF(Y),await ze()},[ze]),Zr=j.useCallback(async Y=>{await hF(Y),await ze()},[ze]),ss=j.useCallback(async Y=>{const Se=await V8(Y);return await _e(),Se},[_e]),Vc=j.useCallback(async(Y,Se)=>{await G8({portfolioId:Y,...Se}),await _e()},[_e]),Px=j.useCallback(async Y=>{await W8(Y),await _e()},[_e]),Ix=j.useCallback(async(Y,Se)=>{const cr=await K8({...Y,transactionType:Se});return await _e(),cr},[_e]),af=j.useCallback(async Y=>{const Se=await Q8(Y);return await _e(),Se},[_e]),ll=j.useCallback(async Y=>{const Se=await X8(Y);return await _e(),Se},[_e]),Gc=j.useCallback(async(Y,Se)=>{await Z8(Y,Se),await _e()},[_e]),ls=j.useCallback(async Y=>{await fF(Y),await _e()},[_e]),os=j.useCallback(async Y=>{await mF(Y),await _e()},[_e]),ol=j.useCallback(async Y=>{const Se=await eF(Y);return B(cr=>{const An=cr||[],Ia=An.findIndex(Cr=>Cr.fundCode===Y.fundCode),Ra={};Y.equity&&(Ra.Equity=Y.equity),Y.debt&&(Ra.Debt=Y.debt),Y.cash&&(Ra.Cash=Y.cash),Y.realEstate&&(Ra["Real Estate"]=Y.realEstate),Y.commodities&&(Ra.Commodities=Y.commodities),Y.customAsset&&Object.entries(Y.customAsset).forEach(([Cr,br])=>{br>0&&(Ra[Cr]=br)});const pi={};Y.giantCap&&(pi.Giant=Y.giantCap),Y.largeCap&&(pi.Large=Y.largeCap),Y.midCap&&(pi.Mid=Y.midCap),Y.smallCap&&(pi.Small=Y.smallCap),Y.microCap&&(pi.Micro=Y.microCap),Y.customCap&&Object.entries(Y.customCap).forEach(([Cr,br])=>{br>0&&(pi[Cr]=br)});const hi={};Y.geoIndia&&(hi.India=Y.geoIndia),Y.geoGlobal&&(hi.Global=Y.geoGlobal),Y.customGeo&&Object.entries(Y.customGeo).forEach(([Cr,br])=>{br>0&&(hi[Cr]=br)});const cl={fundCode:Y.fundCode,fundName:Y.fundName,assetAllocation:Ra,equityAllocation:pi,geoAllocation:hi};if(Ia>=0){const Cr=[...An];return Cr[Ia]=cl,Cr}return[...An,cl]}),Se},[]),cs=(m||[]).filter(Y=>Y.status==="Active"),Sr=(x||[]).filter(Y=>Y.status==="Active"),sf=(g||[]).filter(Y=>Y.status==="Active");return a.jsx(sO.Provider,{value:{loading:n,isRefreshing:l,error:u,refreshData:Ie,members:m,banks:x,investmentAccounts:g,insurancePolicies:y,liabilityList:C,otherInvList:k,activeMembers:cs,activeBanks:Sr,activeInvestmentAccounts:sf,addMember:ke,updateMember:Ue,deleteMember:se,addBankAccount:it,updateBankAccount:Ye,deleteBankAccount:Be,addInvestmentAccount:Je,updateInvestmentAccount:nt,deleteInvestmentAccount:Ut,addInsurance:Qe,updateInsurance:De,deleteInsurance:We,addLiability:Fe,updateLiability:bt,deleteLiability:Bt,addOtherInvestment:Yt,updateOtherInvestment:gr,deleteOtherInvestment:kn,goalList:G,addGoal:de,updateGoal:Ae,deleteGoal:Xe,reminderList:je,addReminder:Jt,updateReminder:sr,deleteReminder:mi,goalPortfolioMappings:F,updateGoalMappings:il,assetAllocations:J,updateAssetAllocation:ol,stockPortfolios:D,stockHoldings:P,stockTransactions:$,addStockPortfolio:sl,updateStockPortfolio:Yc,deleteStockPortfolio:rf,buyStock:nf,sellStock:Pa,editStockTransaction:Or,deleteStockTransaction:Zr,mfPortfolios:q,mfHoldings:Z,mfTransactions:re,addMFPortfolio:ss,updateMFPortfolio:Vc,deleteMFPortfolio:Px,investMF:Ix,redeemMF:af,switchMF:ll,updateHoldingAllocations:Gc,deleteMFTransaction:ls,editMFTransaction:os,settings:z,updateSettings:W,refreshSettings:Mt,healthCheckCompleted:xe,healthCheckAnswers:ne,completeHealthCheck:te},children:e})}function ht(){return j.useContext(sO)}const oO=j.createContext();function zF({children:e}){const{activeMembers:t}=ht(),[r,n]=j.useState("all"),i=t.find(l=>l.memberId===r)||null;return a.jsx(oO.Provider,{value:{selectedMember:r,setSelectedMember:n,member:i,familyMembers:t},children:e})}function Br(){return j.useContext(oO)}const cO=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();const BF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const $F=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase());const qC=e=>{const t=$F(e);return t.charAt(0).toUpperCase()+t.slice(1)};var qF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const HF=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const UF=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:l,iconNode:c,...u},f)=>j.createElement("svg",{ref:f,...qF,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:cO("lucide",i),...!l&&!HF(u)&&{"aria-hidden":"true"},...u},[...c.map(([m,h])=>j.createElement(m,h)),...Array.isArray(l)?l:[l]]));const Me=(e,t)=>{const r=j.forwardRef(({className:n,...i},l)=>j.createElement(UF,{ref:l,iconNode:t,className:cO(`lucide-${BF(qC(e))}`,`lucide-${e}`,n),...i}));return r.displayName=qC(e),r};const YF=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],VF=Me("arrow-down",YF);const GF=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],WF=Me("arrow-left",GF);const KF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],QF=Me("arrow-right",KF);const XF=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],ZF=Me("arrow-up-down",XF);const JF=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],ez=Me("bell-off",JF);const tz=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],C1=Me("bell",tz);const rz=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],uO=Me("briefcase",rz);const nz=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],dO=Me("bug",nz);const az=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],iz=Me("calendar",az);const sz=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ac=Me("chart-column",sz);const lz=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],HC=Me("chart-pie",lz);const oz=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ud=Me("check",oz);const cz=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Gl=Me("chevron-down",cz);const uz=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],dz=Me("chevron-left",uz);const fz=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],yn=Me("chevron-right",fz);const mz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],fO=Me("circle-arrow-down",mz);const pz=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],hz=Me("circle-check-big",pz);const xz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Tc=Me("circle-check",xz);const vz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],mO=Me("circle-x",vz);const gz=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],pO=Me("clipboard-check",gz);const bz=[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]],yz=Me("cloud-download",bz);const jz=[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]],Nz=Me("construction",jz);const wz=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Sz=Me("copy",wz);const Cz=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Rh=Me("credit-card",Cz);const kz=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Az=Me("database",kz);const Mz=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Dz=Me("dollar-sign",Mz);const Ez=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],_z=Me("download",Ez);const Oz=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],hO=Me("ellipsis-vertical",Oz);const Tz=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Pz=Me("ellipsis",Tz);const Iz=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Cp=Me("eye",Iz);const Rz=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],kp=Me("eye-off",Rz);const Lz=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Fz=Me("file-spreadsheet",Lz);const zz=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Bz=Me("file-text",zz);const $z=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],xO=Me("funnel",$z);const qz=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],Hz=Me("github",qz);const Uz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],vO=Me("globe",Uz);const Yz=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Wl=Me("heart",Yz);const Vz=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],Gz=Me("indian-rupee",Vz);const Wz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],gO=Me("info",Wz);const Kz=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],Qz=Me("landmark",Kz);const Xz=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],bO=Me("layers",Xz);const Zz=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Jz=Me("layout-dashboard",Zz);const eB=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],yO=Me("link-2",eB);const tB=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],od=Me("list",tB);const rB=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],uc=Me("loader-circle",rB);const nB=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],J0=Me("lock",nB);const aB=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],iB=Me("log-in",aB);const sB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],jO=Me("log-out",sB);const lB=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Lh=Me("mail",lB);const oB=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M12 8v6",key:"1ib9pf"}],["path",{d:"M9 11h6",key:"1fldmi"}]],cB=Me("message-square-plus",oB);const uB=[["path",{d:"M5 12h14",key:"1ays0h"}]],UC=Me("minus",uB);const dB=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],sy=Me("moon",dB);const fB=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],NO=Me("package",fB);const mB=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],pB=Me("palette",mB);const hB=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],da=Me("pencil",hB);const xB=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],vB=Me("piggy-bank",xB);const gB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Qr=Me("plus",gB);const bB=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ap=Me("refresh-cw",bB);const yB=[["path",{d:"m2 9 3-3 3 3",key:"1ltn5i"}],["path",{d:"M13 18H7a2 2 0 0 1-2-2V6",key:"1r6tfw"}],["path",{d:"m22 15-3 3-3-3",key:"4rnwn2"}],["path",{d:"M11 6h6a2 2 0 0 1 2 2v10",key:"2f72bc"}]],eg=Me("repeat-2",yB);const jB=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],NB=Me("repeat",jB);const wB=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],wO=Me("save",wB);const SB=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],YC=Me("scale",SB);const CB=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],k1=Me("search",CB);const kB=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],AB=Me("send",kB);const MB=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],SO=Me("settings-2",MB);const DB=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],CO=Me("settings",DB);const EB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],_B=Me("shield-alert",EB);const OB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ic=Me("shield",OB);const TB=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],PB=Me("smartphone",TB);const IB=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],ly=Me("sun",IB);const RB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Od=Me("target",RB);const LB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],dc=Me("trash-2",LB);const FB=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Mp=Me("trending-down",FB);const zB=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],fc=Me("trending-up",zB);const BB=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Hs=Me("triangle-alert",BB);const $B=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],VC=Me("trophy",$B);const qB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],HB=Me("user",qB);const UB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Kl=Me("users",UB);const YB=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],cp=Me("wallet",YB);const VB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ai=Me("x",VB);const GB=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],kO=Me("zap",GB),AO=j.createContext();function WB({children:e}){const[t,r]=j.useState([]),[n,i]=j.useState(null),l=j.useRef(0),c=j.useCallback((h,x="success",v=3e3)=>{const g=++l.current;r(S=>[...S,{id:g,message:h,type:x}]),setTimeout(()=>r(S=>S.filter(y=>y.id!==g)),v)},[]),u=j.useCallback(h=>{r(x=>x.filter(v=>v.id!==h))},[]),f=j.useCallback((h="Saving...")=>{i(h)},[]),m=j.useCallback(()=>{i(null)},[]);return a.jsxs(AO.Provider,{value:{showToast:c,showBlockUI:f,hideBlockUI:m},children:[e,n&&a.jsx("div",{className:"fixed inset-0 z-[200] bg-black/50 backdrop-blur-sm flex items-center justify-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-3 bg-[var(--bg-card)] rounded-xl px-8 py-6 border border-[var(--border)] shadow-2xl",children:[a.jsx("span",{className:"w-7 h-7 border-[2.5px] border-violet-400/30 border-t-violet-400 rounded-full animate-spin"}),a.jsx("span",{className:"text-sm font-semibold text-[var(--text-primary)]",children:n})]})}),t.length>0&&a.jsx("div",{className:"fixed bottom-20 sm:bottom-6 left-1/2 -translate-x-1/2 z-[100] flex flex-col gap-2 items-center pointer-events-none",children:t.map(h=>a.jsxs("div",{className:`pointer-events-auto flex items-center gap-2 px-4 py-2.5 rounded-lg shadow-xl border text-sm font-medium animate-fade-in ${h.type==="error"?"bg-rose-500/15 border-rose-500/30 text-[var(--accent-rose)]":h.type==="warning"?"bg-amber-500/15 border-amber-500/30 text-amber-400":"bg-emerald-500/15 border-emerald-500/30 text-emerald-400"}`,style:{backdropFilter:"blur(12px)"},children:[h.type==="error"?a.jsx(mO,{size:16}):h.type==="warning"?a.jsx(Hs,{size:16}):a.jsx(Tc,{size:16}),a.jsx("span",{children:h.message}),a.jsx("button",{onClick:()=>u(h.id),className:"ml-1 opacity-60 hover:opacity-100 transition-opacity",children:a.jsx(ai,{size:14})})]},h.id))})]})}function oi(){return j.useContext(AO)}const MO=j.createContext();function KB({children:e}){const[t,r]=j.useState(null),n=j.useRef(null),i=j.useCallback((u,{title:f="Confirm",confirmLabel:m="Yes, proceed",cancelLabel:h="Cancel",destructive:x=!0}={})=>new Promise(v=>{n.current=v,r({message:u,title:f,confirmLabel:m,cancelLabel:h,destructive:x})}),[]);function l(){n.current?.(!0),n.current=null,r(null)}function c(){n.current?.(!1),n.current=null,r(null)}return a.jsxs(MO.Provider,{value:{confirm:i},children:[e,t&&a.jsxs("div",{className:"fixed inset-0 z-[300] flex items-center justify-center px-4",onClick:c,children:[a.jsx("div",{className:"fixed inset-0 bg-black/60"}),a.jsxs("div",{className:"relative bg-[var(--bg-card)] border border-[var(--border)] rounded-xl shadow-2xl w-full max-w-sm p-5 animate-fade-in",onClick:u=>u.stopPropagation(),children:[a.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[a.jsx("span",{className:`shrink-0 w-9 h-9 rounded-full flex items-center justify-center ${t.destructive?"bg-rose-500/15":"bg-violet-500/15"}`,children:a.jsx(Hs,{size:18,className:t.destructive?"text-[var(--accent-rose)]":"text-violet-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-bold text-[var(--text-primary)]",children:t.title}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-1 leading-relaxed",children:t.message})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{onClick:c,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:t.cancelLabel}),a.jsx("button",{onClick:l,autoFocus:!0,className:`px-4 py-2 text-xs font-bold text-white rounded-lg transition-colors ${t.destructive?"bg-rose-600 hover:bg-rose-500":"bg-violet-600 hover:bg-violet-500"}`,children:t.confirmLabel})]})]})]})]})}function ci(){return j.useContext(MO).confirm}const DO=j.createContext(),GC="cf-mask-data";function QB(e){return!e||e.length<4?"":""+e.slice(-4)}function XB(e){return!e||e.length<4?"  ":"  "+e.slice(-4)}function ZB(e){return!e||e.length<3?"":""+e.slice(-3)}function JB(e){if(!e)return"@";const[t,r]=e.split("@");if(!r)return"@";const n=t.charAt(0)+"",i=r.split("."),l=i[0].charAt(0)+""+(i.length>1?"."+i.slice(1).join("."):"");return n+"@"+l}function e$(e){return!e||e.length<4?"":""+e.slice(-4)}function t$(e){return!e||e.length<3?"":""+e.slice(-3)}function r$(e){return!e||e.length<4?"":""+e.slice(-4)}function n$(e){return!e||e.length<2?"":e.split(/\s+/).map(t=>t.charAt(0)+"").join(" ")}const a$={pan:QB,aadhaar:XB,mobile:ZB,email:JB,account:e$,clientId:t$,policy:r$,name:n$};function i$({children:e}){const[t,r]=j.useState(()=>{try{return localStorage.getItem(GC)==="true"}catch{return!1}});j.useEffect(()=>{try{localStorage.setItem(GC,String(t))}catch{}},[t]);const n=j.useCallback(()=>r(l=>!l),[]),i=j.useCallback((l,c)=>{if(!t||l==null||l==="")return l;const u=a$[c];return u?u(String(l)):l},[t]);return a.jsx(DO.Provider,{value:{masked:t,toggleMask:n,mv:i},children:e})}function Oa(){return j.useContext(DO)}function EO(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=EO(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function dt(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=EO(e))&&(n&&(n+=" "),n+=t);return n}var s$=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function A1(e){if(typeof e!="string")return!1;var t=s$;return t.includes(e)}var l$=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],o$=new Set(l$);function _O(e){return typeof e!="string"?!1:o$.has(e)}function OO(e){return typeof e=="string"&&e.startsWith("data-")}function mc(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(_O(r)||OO(r))&&(t[r]=e[r]);return t}function oy(e){if(e==null)return null;if(j.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return mc(t)}return typeof e=="object"&&!Array.isArray(e)?mc(e):null}function la(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(_O(r)||OO(r)||A1(r))&&(t[r]=e[r]);return t}var c$=["children","width","height","viewBox","className","style","title","desc"];function cy(){return cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cy.apply(null,arguments)}function u$(e,t){if(e==null)return{};var r,n,i=d$(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function d$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var TO=j.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:l,className:c,style:u,title:f,desc:m}=e,h=u$(e,c$),x=l||{width:n,height:i,x:0,y:0},v=dt("recharts-surface",c);return j.createElement("svg",cy({},la(h),{className:v,width:n,height:i,style:u,viewBox:"".concat(x.x," ").concat(x.y," ").concat(x.width," ").concat(x.height),ref:t}),j.createElement("title",null,f),j.createElement("desc",null,m),r)}),f$=["children","className"];function uy(){return uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uy.apply(null,arguments)}function m$(e,t){if(e==null)return{};var r,n,i=p$(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function p$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Us=j.forwardRef((e,t)=>{var{children:r,className:n}=e,i=m$(e,f$),l=dt("recharts-layer",n);return j.createElement("g",uy({className:l},la(i),{ref:t}),r)}),h$=j.createContext(null);function Vt(e){return function(){return e}}const PO=Math.cos,Dp=Math.sin,Ta=Math.sqrt,Ep=Math.PI,Fh=2*Ep,dy=Math.PI,fy=2*dy,Dl=1e-6,x$=fy-Dl;function IO(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function v$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return IO;const r=10**t;return function(n){this._+=n[0];for(let i=1,l=n.length;i<l;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class g${constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?IO:v$(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,l,c){this._append`C${+t},${+r},${+n},${+i},${this._x1=+l},${this._y1=+c}`}arcTo(t,r,n,i,l){if(t=+t,r=+r,n=+n,i=+i,l=+l,l<0)throw new Error(`negative radius: ${l}`);let c=this._x1,u=this._y1,f=n-t,m=i-r,h=c-t,x=u-r,v=h*h+x*x;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>Dl)if(!(Math.abs(x*f-m*h)>Dl)||!l)this._append`L${this._x1=t},${this._y1=r}`;else{let g=n-c,S=i-u,y=f*f+m*m,N=g*g+S*S,C=Math.sqrt(y),A=Math.sqrt(v),k=l*Math.tan((dy-Math.acos((y+v-N)/(2*C*A)))/2),M=k/A,D=k/C;Math.abs(M-1)>Dl&&this._append`L${t+M*h},${r+M*x}`,this._append`A${l},${l},0,0,${+(x*g>h*S)},${this._x1=t+D*f},${this._y1=r+D*m}`}}arc(t,r,n,i,l,c){if(t=+t,r=+r,n=+n,c=!!c,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),f=n*Math.sin(i),m=t+u,h=r+f,x=1^c,v=c?i-l:l-i;this._x1===null?this._append`M${m},${h}`:(Math.abs(this._x1-m)>Dl||Math.abs(this._y1-h)>Dl)&&this._append`L${m},${h}`,n&&(v<0&&(v=v%fy+fy),v>x$?this._append`A${n},${n},0,1,${x},${t-u},${r-f}A${n},${n},0,1,${x},${this._x1=m},${this._y1=h}`:v>Dl&&this._append`A${n},${n},0,${+(v>=dy)},${x},${this._x1=t+n*Math.cos(l)},${this._y1=r+n*Math.sin(l)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function M1(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new g$(t)}function D1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function RO(e){this._context=e}RO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function zh(e){return new RO(e)}function LO(e){return e[0]}function FO(e){return e[1]}function zO(e,t){var r=Vt(!0),n=null,i=zh,l=null,c=M1(u);e=typeof e=="function"?e:e===void 0?LO:Vt(e),t=typeof t=="function"?t:t===void 0?FO:Vt(t);function u(f){var m,h=(f=D1(f)).length,x,v=!1,g;for(n==null&&(l=i(g=c())),m=0;m<=h;++m)!(m<h&&r(x=f[m],m,f))===v&&((v=!v)?l.lineStart():l.lineEnd()),v&&l.point(+e(x,m,f),+t(x,m,f));if(g)return l=null,g+""||null}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Vt(+f),u):e},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Vt(+f),u):t},u.defined=function(f){return arguments.length?(r=typeof f=="function"?f:Vt(!!f),u):r},u.curve=function(f){return arguments.length?(i=f,n!=null&&(l=i(n)),u):i},u.context=function(f){return arguments.length?(f==null?n=l=null:l=i(n=f),u):n},u}function gm(e,t,r){var n=null,i=Vt(!0),l=null,c=zh,u=null,f=M1(m);e=typeof e=="function"?e:e===void 0?LO:Vt(+e),t=typeof t=="function"?t:Vt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?FO:Vt(+r);function m(x){var v,g,S,y=(x=D1(x)).length,N,C=!1,A,k=new Array(y),M=new Array(y);for(l==null&&(u=c(A=f())),v=0;v<=y;++v){if(!(v<y&&i(N=x[v],v,x))===C)if(C=!C)g=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=v-1;S>=g;--S)u.point(k[S],M[S]);u.lineEnd(),u.areaEnd()}C&&(k[v]=+e(N,v,x),M[v]=+t(N,v,x),u.point(n?+n(N,v,x):k[v],r?+r(N,v,x):M[v]))}if(A)return u=null,A+""||null}function h(){return zO().defined(i).curve(c).context(l)}return m.x=function(x){return arguments.length?(e=typeof x=="function"?x:Vt(+x),n=null,m):e},m.x0=function(x){return arguments.length?(e=typeof x=="function"?x:Vt(+x),m):e},m.x1=function(x){return arguments.length?(n=x==null?null:typeof x=="function"?x:Vt(+x),m):n},m.y=function(x){return arguments.length?(t=typeof x=="function"?x:Vt(+x),r=null,m):t},m.y0=function(x){return arguments.length?(t=typeof x=="function"?x:Vt(+x),m):t},m.y1=function(x){return arguments.length?(r=x==null?null:typeof x=="function"?x:Vt(+x),m):r},m.lineX0=m.lineY0=function(){return h().x(e).y(t)},m.lineY1=function(){return h().x(e).y(r)},m.lineX1=function(){return h().x(n).y(t)},m.defined=function(x){return arguments.length?(i=typeof x=="function"?x:Vt(!!x),m):i},m.curve=function(x){return arguments.length?(c=x,l!=null&&(u=c(l)),m):c},m.context=function(x){return arguments.length?(x==null?l=u=null:u=c(l=x),m):l},m}class BO{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function b$(e){return new BO(e,!0)}function y$(e){return new BO(e,!1)}const E1={draw(e,t){const r=Ta(t/Ep);e.moveTo(r,0),e.arc(0,0,r,0,Fh)}},j$={draw(e,t){const r=Ta(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},$O=Ta(1/3),N$=$O*2,w$={draw(e,t){const r=Ta(t/N$),n=r*$O;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},S$={draw(e,t){const r=Ta(t),n=-r/2;e.rect(n,n,r,r)}},C$=.8908130915292852,qO=Dp(Ep/10)/Dp(7*Ep/10),k$=Dp(Fh/10)*qO,A$=-PO(Fh/10)*qO,M$={draw(e,t){const r=Ta(t*C$),n=k$*r,i=A$*r;e.moveTo(0,-r),e.lineTo(n,i);for(let l=1;l<5;++l){const c=Fh*l/5,u=PO(c),f=Dp(c);e.lineTo(f*r,-u*r),e.lineTo(u*n-f*i,f*n+u*i)}e.closePath()}},tg=Ta(3),D$={draw(e,t){const r=-Ta(t/(tg*3));e.moveTo(0,r*2),e.lineTo(-tg*r,-r),e.lineTo(tg*r,-r),e.closePath()}},ta=-.5,ra=Ta(3)/2,my=1/Ta(12),E$=(my/2+1)*3,_$={draw(e,t){const r=Ta(t/E$),n=r/2,i=r*my,l=n,c=r*my+r,u=-l,f=c;e.moveTo(n,i),e.lineTo(l,c),e.lineTo(u,f),e.lineTo(ta*n-ra*i,ra*n+ta*i),e.lineTo(ta*l-ra*c,ra*l+ta*c),e.lineTo(ta*u-ra*f,ra*u+ta*f),e.lineTo(ta*n+ra*i,ta*i-ra*n),e.lineTo(ta*l+ra*c,ta*c-ra*l),e.lineTo(ta*u+ra*f,ta*f-ra*u),e.closePath()}};function O$(e,t){let r=null,n=M1(i);e=typeof e=="function"?e:Vt(e||E1),t=typeof t=="function"?t:Vt(t===void 0?64:+t);function i(){let l;if(r||(r=l=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),l)return r=null,l+""||null}return i.type=function(l){return arguments.length?(e=typeof l=="function"?l:Vt(l),i):e},i.size=function(l){return arguments.length?(t=typeof l=="function"?l:Vt(+l),i):t},i.context=function(l){return arguments.length?(r=l??null,i):r},i}function _p(){}function Op(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function HO(e){this._context=e}HO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Op(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Op(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function T$(e){return new HO(e)}function UO(e){this._context=e}UO.prototype={areaStart:_p,areaEnd:_p,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Op(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function P$(e){return new UO(e)}function YO(e){this._context=e}YO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Op(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function I$(e){return new YO(e)}function VO(e){this._context=e}VO.prototype={areaStart:_p,areaEnd:_p,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function R$(e){return new VO(e)}function WC(e){return e<0?-1:1}function KC(e,t,r){var n=e._x1-e._x0,i=t-e._x1,l=(e._y1-e._y0)/(n||i<0&&-0),c=(r-e._y1)/(i||n<0&&-0),u=(l*i+c*n)/(n+i);return(WC(l)+WC(c))*Math.min(Math.abs(l),Math.abs(c),.5*Math.abs(u))||0}function QC(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function rg(e,t,r){var n=e._x0,i=e._y0,l=e._x1,c=e._y1,u=(l-n)/3;e._context.bezierCurveTo(n+u,i+u*t,l-u,c-u*r,l,c)}function Tp(e){this._context=e}Tp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:rg(this,this._t0,QC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,rg(this,QC(this,r=KC(this,e,t)),r);break;default:rg(this,this._t0,r=KC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function GO(e){this._context=new WO(e)}(GO.prototype=Object.create(Tp.prototype)).point=function(e,t){Tp.prototype.point.call(this,t,e)};function WO(e){this._context=e}WO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,l){this._context.bezierCurveTo(t,e,n,r,l,i)}};function L$(e){return new Tp(e)}function F$(e){return new GO(e)}function KO(e){this._context=e}KO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=XC(e),i=XC(t),l=0,c=1;c<r;++l,++c)this._context.bezierCurveTo(n[0][l],i[0][l],n[1][l],i[1][l],e[c],t[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function XC(e){var t,r=e.length-1,n,i=new Array(r),l=new Array(r),c=new Array(r);for(i[0]=0,l[0]=2,c[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,l[t]=4,c[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,l[r-1]=7,c[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/l[t-1],l[t]-=n,c[t]-=n*c[t-1];for(i[r-1]=c[r-1]/l[r-1],t=r-2;t>=0;--t)i[t]=(c[t]-i[t+1])/l[t];for(l[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)l[t]=2*e[t+1]-i[t+1];return[i,l]}function z$(e){return new KO(e)}function Bh(e,t){this._context=e,this._t=t}Bh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function B$(e){return new Bh(e,.5)}function $$(e){return new Bh(e,0)}function q$(e){return new Bh(e,1)}function Ql(e,t){if((c=e.length)>1)for(var r=1,n,i,l=e[t[0]],c,u=l.length;r<c;++r)for(i=l,l=e[t[r]],n=0;n<u;++n)l[n][1]+=l[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function py(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function H$(e,t){return e[t]}function U$(e){const t=[];return t.key=e,t}function Y$(){var e=Vt([]),t=py,r=Ql,n=H$;function i(l){var c=Array.from(e.apply(this,arguments),U$),u,f=c.length,m=-1,h;for(const x of l)for(u=0,++m;u<f;++u)(c[u][m]=[0,+n(x,c[u].key,m,l)]).data=x;for(u=0,h=D1(t(c));u<f;++u)c[h[u]].index=u;return r(c,h),c}return i.keys=function(l){return arguments.length?(e=typeof l=="function"?l:Vt(Array.from(l)),i):e},i.value=function(l){return arguments.length?(n=typeof l=="function"?l:Vt(+l),i):n},i.order=function(l){return arguments.length?(t=l==null?py:typeof l=="function"?l:Vt(Array.from(l)),i):t},i.offset=function(l){return arguments.length?(r=l??Ql,i):r},i}function V$(e,t){if((n=e.length)>0){for(var r,n,i=0,l=e[0].length,c;i<l;++i){for(c=r=0;r<n;++r)c+=e[r][i][1]||0;if(c)for(r=0;r<n;++r)e[r][i][1]/=c}Ql(e,t)}}function G$(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,l=n.length;r<l;++r){for(var c=0,u=0;c<i;++c)u+=e[c][r][1]||0;n[r][1]+=n[r][0]=-u/2}Ql(e,t)}}function W$(e,t){if(!(!((c=e.length)>0)||!((l=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,l,c;n<l;++n){for(var u=0,f=0,m=0;u<c;++u){for(var h=e[t[u]],x=h[n][1]||0,v=h[n-1][1]||0,g=(x-v)/2,S=0;S<u;++S){var y=e[t[S]],N=y[n][1]||0,C=y[n-1][1]||0;g+=N-C}f+=x,m+=g*x}i[n-1][1]+=i[n-1][0]=r,f&&(r-=m/f)}i[n-1][1]+=i[n-1][0]=r,Ql(e,t)}}var ng={},ag={},ZC;function K$(){return ZC||(ZC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(ag)),ag}var ig={},JC;function QO(){return JC||(JC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(ig)),ig}var sg={},ek;function _1(){return ek||(ek=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(sg)),sg}var lg={},og={},tk;function Q$(){return tk||(tk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(og)),og}var rk;function O1(){return rk||(rk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q$(),r=_1();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const l=[],c=i.length;if(c===0)return l;let u=0,f="",m="",h=!1;for(i.charCodeAt(0)===46&&(l.push(""),u++);u<c;){const x=i[u];m?x==="\\"&&u+1<c?(u++,f+=i[u]):x===m?m="":f+=x:h?x==='"'||x==="'"?m=x:x==="]"?(h=!1,l.push(f),f=""):f+=x:x==="["?(h=!0,f&&(l.push(f),f="")):x==="."?f&&(l.push(f),f=""):f+=x,u++}return f&&l.push(f),l}e.toPath=n})(lg)),lg}var nk;function T1(){return nk||(nk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K$(),r=QO(),n=_1(),i=O1();function l(u,f,m){if(u==null)return m;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return m;const h=u[f];return h===void 0?r.isDeepKey(f)?l(u,i.toPath(f),m):m:h}case"number":case"symbol":{typeof f=="number"&&(f=n.toKey(f));const h=u[f];return h===void 0?m:h}default:{if(Array.isArray(f))return c(u,f,m);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return m;const h=u[f];return h===void 0?m:h}}}function c(u,f,m){if(f.length===0)return m;let h=u;for(let x=0;x<f.length;x++){if(h==null||t.isUnsafeProperty(f[x]))return m;h=h[f[x]]}return h===void 0?m:h}e.get=l})(ng)),ng}var cg,ak;function X$(){return ak||(ak=1,cg=T1().get),cg}var Z$=X$();const dd=li(Z$);var J$=4;function Ls(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:J$,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function fr(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((i,l,c)=>{var u=r[c-1];return typeof u=="string"?i+u+l:u!==void 0?i+Ls(u)+l:i+l},"")}var Nn=e=>e===0?0:e>0?1:-1,Ui=e=>typeof e=="number"&&e!=+e,Xl=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,at=e=>(typeof e=="number"||e instanceof Number)&&!Ui(e),Yi=e=>at(e)||typeof e=="string",e9=0,fd=e=>{var t=++e9;return"".concat(e||"").concat(t)},Bn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!at(t)&&typeof t!="string")return n;var l;if(Xl(t)){if(r==null)return n;var c=t.indexOf("%");l=r*parseFloat(t.slice(0,c))/100}else l=+t;return Ui(l)&&(l=n),i&&r!=null&&l>r&&(l=r),l},XO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function ga(e,t,r){return at(e)&&at(t)?Ls(e+r*(t-e)):t}function t9(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):dd(n,t))===r)}var Hn=e=>e===null||typeof e>"u",Td=e=>Hn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Ka(e){return e!=null}function Pd(){}var r9=["type","size","sizeType"];function hy(){return hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hy.apply(null,arguments)}function ik(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ik(Object(r),!0).forEach(function(n){n9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ik(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n9(e,t,r){return(t=a9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a9(e){var t=i9(e,"string");return typeof t=="symbol"?t:t+""}function i9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s9(e,t){if(e==null)return{};var r,n,i=l9(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function l9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ZO={symbolCircle:E1,symbolCross:j$,symbolDiamond:w$,symbolSquare:S$,symbolStar:M$,symbolTriangle:D$,symbolWye:_$},o9=Math.PI/180,c9=e=>{var t="symbol".concat(Td(e));return ZO[t]||E1},u9=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*o9;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},d9=(e,t)=>{ZO["symbol".concat(Td(e))]=t},JO=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=s9(e,r9),l=sk(sk({},i),{},{type:t,size:r,sizeType:n}),c="circle";typeof t=="string"&&(c=t);var u=()=>{var v=c9(c),g=O$().type(v).size(u9(r,n,c)),S=g();if(S!==null)return S},{className:f,cx:m,cy:h}=l,x=la(l);return at(m)&&at(h)&&at(r)?j.createElement("path",hy({},x,{className:dt("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:u()})):null};JO.registerSymbol=d9;var eT=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,f9=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{A1(i)&&(n[i]=(l=>r[i](r,l)))}),n},m9=(e,t,r)=>n=>(e(t,r,n),null),p9=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var l=e[i];A1(i)&&typeof l=="function"&&(n||(n={}),n[i]=m9(l,t,r))}),n};function lk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function h9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lk(Object(r),!0).forEach(function(n){x9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x9(e,t,r){return(t=v9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v9(e){var t=g9(e,"string");return typeof t=="symbol"?t:t+""}function g9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ui(e,t){var r=h9({},e),n=t,i=Object.keys(t),l=i.reduce((c,u)=>(c[u]===void 0&&n[u]!==void 0&&(c[u]=n[u]),c),r);return l}var ug={},dg={},ok;function b9(){return ok||(ok=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let l=0;l<r.length;l++){const c=r[l],u=n(c,l,r);i.has(u)||i.set(u,c)}return Array.from(i.values())}e.uniqBy=t})(dg)),dg}var fg={},ck;function y9(){return ck||(ck=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...i){return r.apply(this,i.slice(0,n))}}e.ary=t})(fg)),fg}var mg={},uk;function tT(){return uk||(uk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(mg)),mg}var pg={},hg={},xg={},dk;function j9(){return dk||(dk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(xg)),xg}var fk;function P1(){return fk||(fk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j9();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(hg)),hg}var vg={},mk;function N9(){return mk||(mk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(vg)),vg}var pk;function w9(){return pk||(pk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P1(),r=N9();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(pg)),pg}var gg={},bg={},hk;function S9(){return hk||(hk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T1();function r(n){return function(i){return t.get(i,n)}}e.property=r})(bg)),bg}var yg={},jg={},Ng={},wg={},xk;function rT(){return xk||(xk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(wg)),wg}var Sg={},vk;function nT(){return vk||(vk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Sg)),Sg}var Cg={},gk;function aT(){return gk||(gk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(Cg)),Cg}var bk;function C9(){return bk||(bk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rT(),r=nT(),n=aT();function i(h,x,v){return typeof v!="function"?i(h,x,()=>{}):l(h,x,function g(S,y,N,C,A,k){const M=v(S,y,N,C,A,k);return M!==void 0?!!M:l(S,y,g,k)},new Map)}function l(h,x,v,g){if(x===h)return!0;switch(typeof x){case"object":return c(h,x,v,g);case"function":return Object.keys(x).length>0?l(h,{...x},v,g):n.isEqualsSameValueZero(h,x);default:return t.isObject(h)?typeof x=="string"?x==="":!0:n.isEqualsSameValueZero(h,x)}}function c(h,x,v,g){if(x==null)return!0;if(Array.isArray(x))return f(h,x,v,g);if(x instanceof Map)return u(h,x,v,g);if(x instanceof Set)return m(h,x,v,g);const S=Object.keys(x);if(h==null||r.isPrimitive(h))return S.length===0;if(S.length===0)return!0;if(g?.has(x))return g.get(x)===h;g?.set(x,h);try{for(let y=0;y<S.length;y++){const N=S[y];if(!r.isPrimitive(h)&&!(N in h)||x[N]===void 0&&h[N]!==void 0||x[N]===null&&h[N]!==null||!v(h[N],x[N],N,h,x,g))return!1}return!0}finally{g?.delete(x)}}function u(h,x,v,g){if(x.size===0)return!0;if(!(h instanceof Map))return!1;for(const[S,y]of x.entries()){const N=h.get(S);if(v(N,y,S,h,x,g)===!1)return!1}return!0}function f(h,x,v,g){if(x.length===0)return!0;if(!Array.isArray(h))return!1;const S=new Set;for(let y=0;y<x.length;y++){const N=x[y];let C=!1;for(let A=0;A<h.length;A++){if(S.has(A))continue;const k=h[A];let M=!1;if(v(k,N,y,h,x,g)&&(M=!0),M){S.add(A),C=!0;break}}if(!C)return!1}return!0}function m(h,x,v,g){return x.size===0?!0:h instanceof Set?f([...h],[...x],v,g):!1}e.isMatchWith=i,e.isSetMatch=m})(Ng)),Ng}var yk;function iT(){return yk||(yk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C9();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(jg)),jg}var kg={},Ag={},Mg={},jk;function k9(){return jk||(jk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Mg)),Mg}var Dg={},Nk;function I1(){return Nk||(Nk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Dg)),Dg}var Eg={},wk;function sT(){return wk||(wk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",l="[object Arguments]",c="[object Symbol]",u="[object Date]",f="[object Map]",m="[object Set]",h="[object Array]",x="[object Function]",v="[object ArrayBuffer]",g="[object Object]",S="[object Error]",y="[object DataView]",N="[object Uint8Array]",C="[object Uint8ClampedArray]",A="[object Uint16Array]",k="[object Uint32Array]",M="[object BigUint64Array]",D="[object Int8Array]",O="[object Int16Array]",P="[object Int32Array]",T="[object BigInt64Array]",$="[object Float32Array]",L="[object Float64Array]";e.argumentsTag=l,e.arrayBufferTag=v,e.arrayTag=h,e.bigInt64ArrayTag=T,e.bigUint64ArrayTag=M,e.booleanTag=i,e.dataViewTag=y,e.dateTag=u,e.errorTag=S,e.float32ArrayTag=$,e.float64ArrayTag=L,e.functionTag=x,e.int16ArrayTag=O,e.int32ArrayTag=P,e.int8ArrayTag=D,e.mapTag=f,e.numberTag=n,e.objectTag=g,e.regexpTag=t,e.setTag=m,e.stringTag=r,e.symbolTag=c,e.uint16ArrayTag=A,e.uint32ArrayTag=k,e.uint8ArrayTag=N,e.uint8ClampedArrayTag=C})(Eg)),Eg}var _g={},Sk;function A9(){return Sk||(Sk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(_g)),_g}var Ck;function lT(){return Ck||(Ck=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k9(),r=I1(),n=sT(),i=nT(),l=A9();function c(h,x){return u(h,void 0,h,new Map,x)}function u(h,x,v,g=new Map,S=void 0){const y=S?.(h,x,v,g);if(y!==void 0)return y;if(i.isPrimitive(h))return h;if(g.has(h))return g.get(h);if(Array.isArray(h)){const N=new Array(h.length);g.set(h,N);for(let C=0;C<h.length;C++)N[C]=u(h[C],C,v,g,S);return Object.hasOwn(h,"index")&&(N.index=h.index),Object.hasOwn(h,"input")&&(N.input=h.input),N}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const N=new RegExp(h.source,h.flags);return N.lastIndex=h.lastIndex,N}if(h instanceof Map){const N=new Map;g.set(h,N);for(const[C,A]of h)N.set(C,u(A,C,v,g,S));return N}if(h instanceof Set){const N=new Set;g.set(h,N);for(const C of h)N.add(u(C,void 0,v,g,S));return N}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(l.isTypedArray(h)){const N=new(Object.getPrototypeOf(h)).constructor(h.length);g.set(h,N);for(let C=0;C<h.length;C++)N[C]=u(h[C],C,v,g,S);return N}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const N=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return g.set(h,N),f(N,h,v,g,S),N}if(typeof File<"u"&&h instanceof File){const N=new File([h],h.name,{type:h.type});return g.set(h,N),f(N,h,v,g,S),N}if(typeof Blob<"u"&&h instanceof Blob){const N=new Blob([h],{type:h.type});return g.set(h,N),f(N,h,v,g,S),N}if(h instanceof Error){const N=new h.constructor;return g.set(h,N),N.message=h.message,N.name=h.name,N.stack=h.stack,N.cause=h.cause,f(N,h,v,g,S),N}if(h instanceof Boolean){const N=new Boolean(h.valueOf());return g.set(h,N),f(N,h,v,g,S),N}if(h instanceof Number){const N=new Number(h.valueOf());return g.set(h,N),f(N,h,v,g,S),N}if(h instanceof String){const N=new String(h.valueOf());return g.set(h,N),f(N,h,v,g,S),N}if(typeof h=="object"&&m(h)){const N=Object.create(Object.getPrototypeOf(h));return g.set(h,N),f(N,h,v,g,S),N}return h}function f(h,x,v=h,g,S){const y=[...Object.keys(x),...t.getSymbols(x)];for(let N=0;N<y.length;N++){const C=y[N],A=Object.getOwnPropertyDescriptor(h,C);(A==null||A.writable)&&(h[C]=u(x[C],C,v,g,S))}}function m(h){switch(r.getTag(h)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=u,e.copyProperties=f})(Ag)),Ag}var kk;function M9(){return kk||(kk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lT();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(kg)),kg}var Ak;function D9(){return Ak||(Ak=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iT(),r=M9();function n(i){return i=r.cloneDeep(i),l=>t.isMatch(l,i)}e.matches=n})(yg)),yg}var Og={},Tg={},Pg={},Mk;function E9(){return Mk||(Mk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lT(),r=I1(),n=sT();function i(l,c){return t.cloneDeepWith(l,(u,f,m,h)=>{const x=c?.(u,f,m,h);if(x!==void 0)return x;if(typeof l=="object"){if(r.getTag(l)===n.objectTag&&typeof l.constructor!="function"){const v={};return h.set(l,v),t.copyProperties(v,l,m,h),v}switch(Object.prototype.toString.call(l)){case n.numberTag:case n.stringTag:case n.booleanTag:{const v=new l.constructor(l?.valueOf());return t.copyProperties(v,l),v}case n.argumentsTag:{const v={};return t.copyProperties(v,l),v.length=l.length,v[Symbol.iterator]=l[Symbol.iterator],v}default:return}}})}e.cloneDeepWith=i})(Pg)),Pg}var Dk;function _9(){return Dk||(Dk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E9();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Tg)),Tg}var Ig={},Rg={},Ek;function oT(){return Ek||(Ek=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Rg)),Rg}var Lg={},_k;function O9(){return _k||(_k=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I1();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Lg)),Lg}var Ok;function T9(){return Ok||(Ok=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QO(),r=oT(),n=O9(),i=O1();function l(c,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&t.isDeepKey(u)&&c?.[u]==null?f=i.toPath(u):f=[u],f.length===0)return!1;let m=c;for(let h=0;h<f.length;h++){const x=f[h];if((m==null||!Object.hasOwn(m,x))&&!((Array.isArray(m)||n.isArguments(m))&&r.isIndex(x)&&x<m.length))return!1;m=m[x]}return!0}e.has=l})(Ig)),Ig}var Tk;function P9(){return Tk||(Tk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iT(),r=_1(),n=_9(),i=T1(),l=T9();function c(u,f){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=r.toKey(u);break}}return f=n.cloneDeep(f),function(m){const h=i.get(m,u);return h===void 0?l.has(m,u):f===void 0?h===void 0:t.isMatch(h,f)}}e.matchesProperty=c})(Og)),Og}var Pk;function I9(){return Pk||(Pk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tT(),r=S9(),n=D9(),i=P9();function l(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?i.matchesProperty(c[0],c[1]):n.matches(c);case"string":case"symbol":case"number":return r.property(c)}}e.iteratee=l})(gg)),gg}var Ik;function R9(){return Ik||(Ik=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b9(),r=y9(),n=tT(),i=w9(),l=I9();function c(u,f=n.identity){return i.isArrayLikeObject(u)?t.uniqBy(Array.from(u),r.ary(l.iteratee(f),1)):[]}e.uniqBy=c})(ug)),ug}var Fg,Rk;function L9(){return Rk||(Rk=1,Fg=R9().uniqBy),Fg}var F9=L9();const Lk=li(F9);function z9(e,t,r){return t===!0?Lk(e,r):typeof t=="function"?Lk(e,t):e}var zg={exports:{}},Bg={},$g={exports:{}},qg={};var Fk;function B9(){if(Fk)return qg;Fk=1;var e=Ac();function t(x,v){return x===v&&(x!==0||1/x===1/v)||x!==x&&v!==v}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function u(x,v){var g=v(),S=n({inst:{value:g,getSnapshot:v}}),y=S[0].inst,N=S[1];return l(function(){y.value=g,y.getSnapshot=v,f(y)&&N({inst:y})},[x,g,v]),i(function(){return f(y)&&N({inst:y}),x(function(){f(y)&&N({inst:y})})},[x]),c(g),g}function f(x){var v=x.getSnapshot;x=x.value;try{var g=v();return!r(x,g)}catch{return!0}}function m(x,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return qg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,qg}var zk;function $9(){return zk||(zk=1,$g.exports=B9()),$g.exports}var Bk;function q9(){if(Bk)return Bg;Bk=1;var e=Ac(),t=$9();function r(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,l=e.useRef,c=e.useEffect,u=e.useMemo,f=e.useDebugValue;return Bg.useSyncExternalStoreWithSelector=function(m,h,x,v,g){var S=l(null);if(S.current===null){var y={hasValue:!1,value:null};S.current=y}else y=S.current;S=u(function(){function C(O){if(!A){if(A=!0,k=O,O=v(O),g!==void 0&&y.hasValue){var P=y.value;if(g(P,O))return M=P}return M=O}if(P=M,n(k,O))return P;var T=v(O);return g!==void 0&&g(P,T)?(k=O,P):(k=O,M=T)}var A=!1,k,M,D=x===void 0?null:x;return[function(){return C(h())},D===null?void 0:function(){return C(D())}]},[h,x,v,g]);var N=i(m,S[0],S[1]);return c(function(){y.hasValue=!0,y.value=N},[N]),f(N),N},Bg}var $k;function H9(){return $k||($k=1,zg.exports=q9()),zg.exports}var U9=H9(),R1=j.createContext(null),Y9=e=>e,Ir=()=>{var e=j.useContext(R1);return e?e.store.dispatch:Y9},up=()=>{},V9=()=>up,G9=(e,t)=>e===t;function ct(e){var t=j.useContext(R1),r=j.useMemo(()=>t?n=>{if(n!=null)return e(n)}:up,[t,e]);return U9.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:V9,t?t.store.getState:up,t?t.store.getState:up,r,G9)}function W9(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function K9(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Q9(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var qk=e=>Array.isArray(e)?e:[e];function X9(e){const t=Array.isArray(e[0])?e[0]:e;return Q9(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Z9(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var J9=class{constructor(e){this.value=e}deref(){return this.value}},eq=typeof WeakRef<"u"?WeakRef:J9,tq=0,Hk=1;function bm(){return{s:tq,v:void 0,o:null,p:null}}function cT(e,t={}){let r=bm();const{resultEqualityCheck:n}=t;let i,l=0;function c(){let u=r;const{length:f}=arguments;for(let x=0,v=f;x<v;x++){const g=arguments[x];if(typeof g=="function"||typeof g=="object"&&g!==null){let S=u.o;S===null&&(u.o=S=new WeakMap);const y=S.get(g);y===void 0?(u=bm(),S.set(g,u)):u=y}else{let S=u.p;S===null&&(u.p=S=new Map);const y=S.get(g);y===void 0?(u=bm(),S.set(g,u)):u=y}}const m=u;let h;if(u.s===Hk)h=u.v;else if(h=e.apply(null,arguments),l++,n){const x=i?.deref?.()??i;x!=null&&n(x,h)&&(h=x,l!==0&&l--),i=typeof h=="object"&&h!==null||typeof h=="function"?new eq(h):h}return m.s=Hk,m.v=h,h}return c.clearCache=()=>{r=bm(),c.resetResultsCount()},c.resultsCount=()=>l,c.resetResultsCount=()=>{l=0},c}function rq(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let l=0,c=0,u,f={},m=i.pop();typeof m=="object"&&(f=m,m=i.pop()),W9(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const h={...r,...f},{memoize:x,memoizeOptions:v=[],argsMemoize:g=cT,argsMemoizeOptions:S=[]}=h,y=qk(v),N=qk(S),C=X9(i),A=x(function(){return l++,m.apply(null,arguments)},...y),k=g(function(){c++;const D=Z9(C,arguments);return u=A.apply(null,D),u},...N);return Object.assign(k,{resultFunc:m,memoizedResultFunc:A,dependencies:C,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>u,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:x,argsMemoize:g})};return Object.assign(n,{withTypes:()=>n}),n}var ce=rq(cT),nq=Object.assign((e,t=ce)=>{K9(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(l=>e[l]);return t(n,(...l)=>l.reduce((c,u,f)=>(c[r[f]]=u,c),{}))},{withTypes:()=>nq}),Hg={},Ug={},Yg={},Uk;function aq(){return Uk||(Uk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,l)=>{if(n!==i){const c=t(n),u=t(i);if(c===u&&c===0){if(n<i)return l==="desc"?1:-1;if(n>i)return l==="desc"?-1:1}return l==="desc"?u-c:c-u}return 0};e.compareValues=r})(Yg)),Yg}var Vg={},Gg={},Yk;function uT(){return Yk||(Yk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Gg)),Gg}var Vk;function iq(){return Vk||(Vk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uT(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(l,c){return Array.isArray(l)?!1:typeof l=="number"||typeof l=="boolean"||l==null||t.isSymbol(l)?!0:typeof l=="string"&&(n.test(l)||!r.test(l))||c!=null&&Object.hasOwn(c,l)}e.isKey=i})(Vg)),Vg}var Gk;function sq(){return Gk||(Gk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aq(),r=iq(),n=O1();function i(l,c,u,f){if(l==null)return[];u=f?void 0:u,Array.isArray(l)||(l=Object.values(l)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(g=>String(g));const m=(g,S)=>{let y=g;for(let N=0;N<S.length&&y!=null;++N)y=y[S[N]];return y},h=(g,S)=>S==null||g==null?S:typeof g=="object"&&"key"in g?Object.hasOwn(S,g.key)?S[g.key]:m(S,g.path):typeof g=="function"?g(S):Array.isArray(g)?m(S,g):typeof S=="object"?S[g]:S,x=c.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||r.isKey(g)?g:{key:g,path:n.toPath(g)}));return l.map(g=>({original:g,criteria:x.map(S=>h(S,g))})).slice().sort((g,S)=>{for(let y=0;y<x.length;y++){const N=t.compareValues(g.criteria[y],S.criteria[y],u[y]);if(N!==0)return N}return 0}).map(g=>g.original)}e.orderBy=i})(Ug)),Ug}var Wg={},Wk;function lq(){return Wk||(Wk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],l=Math.floor(n),c=(u,f)=>{for(let m=0;m<u.length;m++){const h=u[m];Array.isArray(h)&&f<l?c(h,f+1):i.push(h)}};return c(r,0),i}e.flatten=t})(Wg)),Wg}var Kg={},Kk;function dT(){return Kk||(Kk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oT(),r=P1(),n=rT(),i=aT();function l(c,u,f){return n.isObject(f)&&(typeof u=="number"&&r.isArrayLike(f)&&t.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?i.isEqualsSameValueZero(f[u],c):!1}e.isIterateeCall=l})(Kg)),Kg}var Qk;function oq(){return Qk||(Qk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sq(),r=lq(),n=dT();function i(l,...c){const u=c.length;return u>1&&n.isIterateeCall(l,c[0],c[1])?c=[]:u>2&&n.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(l,r.flatten(c),["asc"])}e.sortBy=i})(Hg)),Hg}var Qg,Xk;function cq(){return Xk||(Xk=1,Qg=oq().sortBy),Qg}var uq=cq();const $h=li(uq);var fT=e=>e.legend.settings,dq=e=>e.legend.size,fq=e=>e.legend.payload;ce([fq,fT],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?$h(n,r):n});var ym=1;function mq(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=j.useState({height:0,left:0,top:0,width:0}),n=j.useCallback(i=>{if(i!=null){var l=i.getBoundingClientRect(),c={height:l.height,left:l.left,top:l.top,width:l.width};(Math.abs(c.height-t.height)>ym||Math.abs(c.left-t.left)>ym||Math.abs(c.top-t.top)>ym||Math.abs(c.width-t.width)>ym)&&r({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Wr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var pq=typeof Symbol=="function"&&Symbol.observable||"@@observable",Zk=pq,Xg=()=>Math.random().toString(36).substring(7).split("").join("."),hq={INIT:`@@redux/INIT${Xg()}`,REPLACE:`@@redux/REPLACE${Xg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Xg()}`},Pp=hq;function L1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function mT(e,t,r){if(typeof e!="function")throw new Error(Wr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Wr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Wr(1));return r(mT)(e,t)}let n=e,i=t,l=new Map,c=l,u=0,f=!1;function m(){c===l&&(c=new Map,l.forEach((N,C)=>{c.set(C,N)}))}function h(){if(f)throw new Error(Wr(3));return i}function x(N){if(typeof N!="function")throw new Error(Wr(4));if(f)throw new Error(Wr(5));let C=!0;m();const A=u++;return c.set(A,N),function(){if(C){if(f)throw new Error(Wr(6));C=!1,m(),c.delete(A),l=null}}}function v(N){if(!L1(N))throw new Error(Wr(7));if(typeof N.type>"u")throw new Error(Wr(8));if(typeof N.type!="string")throw new Error(Wr(17));if(f)throw new Error(Wr(9));try{f=!0,i=n(i,N)}finally{f=!1}return(l=c).forEach(A=>{A()}),N}function g(N){if(typeof N!="function")throw new Error(Wr(10));n=N,v({type:Pp.REPLACE})}function S(){const N=x;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(Wr(11));function A(){const M=C;M.next&&M.next(h())}return A(),{unsubscribe:N(A)}},[Zk](){return this}}}return v({type:Pp.INIT}),{dispatch:v,subscribe:x,getState:h,replaceReducer:g,[Zk]:S}}function xq(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Pp.INIT})>"u")throw new Error(Wr(12));if(typeof r(void 0,{type:Pp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Wr(13))})}function pT(e){const t=Object.keys(e),r={};for(let l=0;l<t.length;l++){const c=t[l];typeof e[c]=="function"&&(r[c]=e[c])}const n=Object.keys(r);let i;try{xq(r)}catch(l){i=l}return function(c={},u){if(i)throw i;let f=!1;const m={};for(let h=0;h<n.length;h++){const x=n[h],v=r[x],g=c[x],S=v(g,u);if(typeof S>"u")throw u&&u.type,new Error(Wr(14));m[x]=S,f=f||S!==g}return f=f||n.length!==Object.keys(c).length,f?m:c}}function Ip(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function vq(...e){return t=>(r,n)=>{const i=t(r,n);let l=()=>{throw new Error(Wr(15))};const c={getState:i.getState,dispatch:(f,...m)=>l(f,...m)},u=e.map(f=>f(c));return l=Ip(...u)(i.dispatch),{...i,dispatch:l}}}function hT(e){return L1(e)&&"type"in e&&typeof e.type=="string"}var xT=Symbol.for("immer-nothing"),Jk=Symbol.for("immer-draftable"),cn=Symbol.for("immer-state");function ba(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var zn=Object,pc=zn.getPrototypeOf,Rp="constructor",qh="prototype",xy="configurable",Lp="enumerable",dp="writable",md="value",Vi=e=>!!e&&!!e[cn];function Ma(e){return e?vT(e)||Uh(e)||!!e[Jk]||!!e[Rp]?.[Jk]||Yh(e)||Vh(e):!1}var gq=zn[qh][Rp].toString(),eA=new WeakMap;function vT(e){if(!e||!F1(e))return!1;const t=pc(e);if(t===null||t===zn[qh])return!0;const r=zn.hasOwnProperty.call(t,Rp)&&t[Rp];if(r===Object)return!0;if(!ec(r))return!1;let n=eA.get(r);return n===void 0&&(n=Function.toString.call(r),eA.set(r,n)),n===gq}function Hh(e,t,r=!0){Id(e)===0?(r?Reflect.ownKeys(e):zn.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Id(e){const t=e[cn];return t?t.type_:Uh(e)?1:Yh(e)?2:Vh(e)?3:0}var tA=(e,t,r=Id(e))=>r===2?e.has(t):zn[qh].hasOwnProperty.call(e,t),vy=(e,t,r=Id(e))=>r===2?e.get(t):e[t],Fp=(e,t,r,n=Id(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function bq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Uh=Array.isArray,Yh=e=>e instanceof Map,Vh=e=>e instanceof Set,F1=e=>typeof e=="object",ec=e=>typeof e=="function",Zg=e=>typeof e=="boolean";function yq(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Ii=e=>e.copy_||e.base_,z1=e=>e.modified_?e.copy_:e.base_;function gy(e,t){if(Yh(e))return new Map(e);if(Vh(e))return new Set(e);if(Uh(e))return Array[qh].slice.call(e);const r=vT(e);if(t===!0||t==="class_only"&&!r){const n=zn.getOwnPropertyDescriptors(e);delete n[cn];let i=Reflect.ownKeys(n);for(let l=0;l<i.length;l++){const c=i[l],u=n[c];u[dp]===!1&&(u[dp]=!0,u[xy]=!0),(u.get||u.set)&&(n[c]={[xy]:!0,[dp]:!0,[Lp]:u[Lp],[md]:e[c]})}return zn.create(pc(e),n)}else{const n=pc(e);if(n!==null&&r)return{...e};const i=zn.create(n);return zn.assign(i,e)}}function B1(e,t=!1){return Gh(e)||Vi(e)||!Ma(e)||(Id(e)>1&&zn.defineProperties(e,{set:jm,add:jm,clear:jm,delete:jm}),zn.freeze(e),t&&Hh(e,(r,n)=>{B1(n,!0)},!1)),e}function jq(){ba(2)}var jm={[md]:jq};function Gh(e){return e===null||!F1(e)?!0:zn.isFrozen(e)}var zp="MapSet",by="Patches",rA="ArrayMethods",gT={};function Zl(e){const t=gT[e];return t||ba(0,e),t}var nA=e=>!!gT[e],pd,bT=()=>pd,Nq=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:nA(zp)?Zl(zp):void 0,arrayMethodsPlugin_:nA(rA)?Zl(rA):void 0});function aA(e,t){t&&(e.patchPlugin_=Zl(by),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function yy(e){jy(e),e.drafts_.forEach(wq),e.drafts_=null}function jy(e){e===pd&&(pd=e.parent_)}var iA=e=>pd=Nq(pd,e);function wq(e){const t=e[cn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function sA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[cn].modified_&&(yy(t),ba(4)),Ma(e)&&(e=lA(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[cn].base_,e,t)}else e=lA(t,r);return Sq(t,e,!0),yy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==xT?e:void 0}function lA(e,t){if(Gh(t))return t;const r=t[cn];if(!r)return Bp(t,e.handledSet_,e);if(!Wh(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);NT(r,e)}return r.copy_}function Sq(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&B1(t,r)}function yT(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Wh=(e,t)=>e.scope_===t,Cq=[];function jT(e,t,r,n){const i=Ii(e),l=e.type_;if(n!==void 0&&vy(i,n,l)===t){Fp(i,n,r,l);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;Hh(i,(f,m)=>{if(Vi(m)){const h=u.get(m)||[];h.push(f),u.set(m,h)}})}const c=e.draftLocations_.get(t)??Cq;for(const u of c)Fp(i,u,r,l)}function kq(e,t,r){e.callbacks_.push(function(i){const l=t;if(!l||!Wh(l,i))return;i.mapSetPlugin_?.fixSetContents(l);const c=z1(l);jT(e,l.draft_??l,c,r),NT(l,i)})}function NT(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const i=n.getPath(e);i&&n.generatePatches_(e,i,t)}yT(e)}}function Aq(e,t,r){const{scope_:n}=e;if(Vi(r)){const i=r[cn];Wh(i,n)&&i.callbacks_.push(function(){fp(e);const c=z1(i);jT(e,r,c,t)})}else Ma(r)&&e.callbacks_.push(function(){const l=Ii(e);e.type_===3?l.has(r)&&Bp(r,n.handledSet_,n):vy(l,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Bp(vy(e.copy_,t,e.type_),n.handledSet_,n)})}function Bp(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Vi(e)||t.has(e)||!Ma(e)||Gh(e)||(t.add(e),Hh(e,(n,i)=>{if(Vi(i)){const l=i[cn];if(Wh(l,r)){const c=z1(l);Fp(e,n,c,e.type_),yT(l)}}else Ma(i)&&Bp(i,t,r)})),e}function Mq(e,t){const r=Uh(e),n={type_:r?1:0,scope_:t?t.scope_:bT(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,l=$p;r&&(i=[n],l=hd);const{revoke:c,proxy:u}=Proxy.revocable(i,l);return n.draft_=u,n.revoke_=c,[u,n]}var $p={get(e,t){if(t===cn)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const i=Ii(e);if(!tA(i,t,e.type_))return Dq(e,i,t);const l=i[t];if(e.finalized_||!Ma(l)||n&&e.operationMethod&&r?.isMutatingArrayMethod(e.operationMethod)&&yq(t))return l;if(l===Jg(e.base_,t)){fp(e);const c=e.type_===1?+t:t,u=wy(e.scope_,l,e,c);return e.copy_[c]=u}return l},has(e,t){return t in Ii(e)},ownKeys(e){return Reflect.ownKeys(Ii(e))},set(e,t,r){const n=wT(Ii(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Jg(Ii(e),t),l=i?.[cn];if(l&&l.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(bq(r,i)&&(r!==void 0||tA(e.base_,t,e.type_)))return!0;fp(e),Ny(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),Aq(e,t,r)),!0},deleteProperty(e,t){return fp(e),Jg(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Ny(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ii(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[dp]:!0,[xy]:e.type_!==1||t!=="length",[Lp]:n[Lp],[md]:r[t]}},defineProperty(){ba(11)},getPrototypeOf(e){return pc(e.base_)},setPrototypeOf(){ba(12)}},hd={};for(let e in $p){let t=$p[e];hd[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}hd.deleteProperty=function(e,t){return hd.set.call(this,e,t,void 0)};hd.set=function(e,t,r){return $p.set.call(this,e[0],t,r,e[0])};function Jg(e,t){const r=e[cn];return(r?Ii(r):e)[t]}function Dq(e,t,r){const n=wT(t,r);return n?md in n?n[md]:n.get?.call(e.draft_):void 0}function wT(e,t){if(!(t in e))return;let r=pc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=pc(r)}}function Ny(e){e.modified_||(e.modified_=!0,e.parent_&&Ny(e.parent_))}function fp(e){e.copy_||(e.assigned_=new Map,e.copy_=gy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Eq=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(ec(r)&&!ec(n)){const c=n;n=r;const u=this;return function(m=c,...h){return u.produce(m,x=>n.call(this,x,...h))}}ec(n)||ba(6),i!==void 0&&!ec(i)&&ba(7);let l;if(Ma(r)){const c=iA(this),u=wy(c,r,void 0);let f=!0;try{l=n(u),f=!1}finally{f?yy(c):jy(c)}return aA(c,i),sA(l,c)}else if(!r||!F1(r)){if(l=n(r),l===void 0&&(l=r),l===xT&&(l=void 0),this.autoFreeze_&&B1(l,!0),i){const c=[],u=[];Zl(by).generateReplacementPatches_(r,l,{patches_:c,inversePatches_:u}),i(c,u)}return l}else ba(1,r)},this.produceWithPatches=(r,n)=>{if(ec(r))return(u,...f)=>this.produceWithPatches(u,m=>r(m,...f));let i,l;return[this.produce(r,n,(u,f)=>{i=u,l=f}),i,l]},Zg(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Zg(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Zg(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ma(t)||ba(8),Vi(t)&&(t=wa(t));const r=iA(this),n=wy(r,t,void 0);return n[cn].isManual_=!0,jy(r),n}finishDraft(t,r){const n=t&&t[cn];(!n||!n.isManual_)&&ba(9);const{scope_:i}=n;return aA(i,r),sA(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const l=r[n];if(l.path.length===0&&l.op==="replace"){t=l.value;break}}n>-1&&(r=r.slice(n+1));const i=Zl(by).applyPatches_;return Vi(t)?i(t,r):this.produce(t,l=>i(l,r))}};function wy(e,t,r,n){const[i,l]=Yh(t)?Zl(zp).proxyMap_(t,r):Vh(t)?Zl(zp).proxySet_(t,r):Mq(t,r);return(r?.scope_??bT()).drafts_.push(i),l.callbacks_=r?.callbacks_??[],l.key_=n,r&&n!==void 0?kq(r,l,n):l.callbacks_.push(function(f){f.mapSetPlugin_?.fixSetContents(l);const{patchPlugin_:m}=f;l.modified_&&m&&m.generatePatches_(l,[],f)}),i}function wa(e){return Vi(e)||ba(10,e),ST(e)}function ST(e){if(!Ma(e)||Gh(e))return e;const t=e[cn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=gy(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=gy(e,!0);return Hh(r,(i,l)=>{Fp(r,i,ST(l))},n),t&&(t.finalized_=!1),r}var _q=new Eq,CT=_q.produce;function kT(e){return({dispatch:r,getState:n})=>i=>l=>typeof l=="function"?l(r,n,e):i(l)}var Oq=kT(),Tq=kT,Pq=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ip:Ip.apply(null,arguments)};function oa(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error($n(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>hT(n)&&n.type===e,r}var AT=class ad extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ad.prototype)}static get[Symbol.species](){return ad}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ad(...t[0].concat(this)):new ad(...t.concat(this))}};function oA(e){return Ma(e)?CT(e,()=>{}):e}function Nm(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Iq(e){return typeof e=="boolean"}var Rq=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:l=!0}=t??{};let c=new AT;return r&&(Iq(r)?c.push(Oq):c.push(Tq(r.extraArgument))),c},MT="RTK_autoBatch",rr=()=>e=>({payload:e,meta:{[MT]:!0}}),cA=e=>t=>{setTimeout(t,e)},DT=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,l=!1,c=!1;const u=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:cA(10):e.type==="callback"?e.queueNotification:cA(e.timeout),m=()=>{c=!1,l&&(l=!1,u.forEach(h=>h()))};return Object.assign({},n,{subscribe(h){const x=()=>i&&h(),v=n.subscribe(x);return u.add(h),()=>{v(),u.delete(h)}},dispatch(h){try{return i=!h?.meta?.[MT],l=!i,l&&(c||(c=!0,f(m))),n.dispatch(h)}finally{i=!0}}})},Lq=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new AT(e);return n&&i.push(DT(typeof n=="object"?n:void 0)),i};function Fq(e){const t=Rq(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:l=void 0,enhancers:c=void 0}=e||{};let u;if(typeof r=="function")u=r;else if(L1(r))u=pT(r);else throw new Error($n(1));let f;typeof n=="function"?f=n(t):f=t();let m=Ip;i&&(m=Pq({trace:!1,...typeof i=="object"&&i}));const h=vq(...f),x=Lq(h);let v=typeof c=="function"?c(x):x();const g=m(...v);return mT(u,l,g)}function ET(e){const t={},r=[];let n;const i={addCase(l,c){const u=typeof l=="string"?l:l.type;if(!u)throw new Error($n(28));if(u in t)throw new Error($n(29));return t[u]=c,i},addAsyncThunk(l,c){return c.pending&&(t[l.pending.type]=c.pending),c.rejected&&(t[l.rejected.type]=c.rejected),c.fulfilled&&(t[l.fulfilled.type]=c.fulfilled),c.settled&&r.push({matcher:l.settled,reducer:c.settled}),i},addMatcher(l,c){return r.push({matcher:l,reducer:c}),i},addDefaultCase(l){return n=l,i}};return e(i),[t,r,n]}function zq(e){return typeof e=="function"}function Bq(e,t){let[r,n,i]=ET(t),l;if(zq(e))l=()=>oA(e());else{const u=oA(e);l=()=>u}function c(u=l(),f){let m=[r[f.type],...n.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return m.filter(h=>!!h).length===0&&(m=[i]),m.reduce((h,x)=>{if(x)if(Vi(h)){const g=x(h,f);return g===void 0?h:g}else{if(Ma(h))return CT(h,v=>x(v,f));{const v=x(h,f);if(v===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return h},u)}return c.getInitialState=l,c}var $q="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",qq=(e=21)=>{let t="",r=e;for(;r--;)t+=$q[Math.random()*64|0];return t},Hq=Symbol.for("rtk-slice-createasyncthunk");function Uq(e,t){return`${e}/${t}`}function Yq({creators:e}={}){const t=e?.asyncThunk?.[Hq];return function(n){const{name:i,reducerPath:l=i}=n;if(!i)throw new Error($n(11));const c=(typeof n.reducers=="function"?n.reducers(Gq()):n.reducers)||{},u=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(k,M){const D=typeof k=="string"?k:k.type;if(!D)throw new Error($n(12));if(D in f.sliceCaseReducersByType)throw new Error($n(13));return f.sliceCaseReducersByType[D]=M,m},addMatcher(k,M){return f.sliceMatchers.push({matcher:k,reducer:M}),m},exposeAction(k,M){return f.actionCreators[k]=M,m},exposeCaseReducer(k,M){return f.sliceCaseReducersByName[k]=M,m}};u.forEach(k=>{const M=c[k],D={reducerName:k,type:Uq(i,k),createNotation:typeof n.reducers=="function"};Kq(M)?Xq(D,M,m,t):Wq(D,M,m)});function h(){const[k={},M=[],D=void 0]=typeof n.extraReducers=="function"?ET(n.extraReducers):[n.extraReducers],O={...k,...f.sliceCaseReducersByType};return Bq(n.initialState,P=>{for(let T in O)P.addCase(T,O[T]);for(let T of f.sliceMatchers)P.addMatcher(T.matcher,T.reducer);for(let T of M)P.addMatcher(T.matcher,T.reducer);D&&P.addDefaultCase(D)})}const x=k=>k,v=new Map,g=new WeakMap;let S;function y(k,M){return S||(S=h()),S(k,M)}function N(){return S||(S=h()),S.getInitialState()}function C(k,M=!1){function D(P){let T=P[k];return typeof T>"u"&&M&&(T=Nm(g,D,N)),T}function O(P=x){const T=Nm(v,M,()=>new WeakMap);return Nm(T,P,()=>{const $={};for(const[L,q]of Object.entries(n.selectors??{}))$[L]=Vq(q,P,()=>Nm(g,P,N),M);return $})}return{reducerPath:k,getSelectors:O,get selectors(){return O(D)},selectSlice:D}}const A={name:i,reducer:y,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:N,...C(l),injectInto(k,{reducerPath:M,...D}={}){const O=M??l;return k.inject({reducerPath:O,reducer:y},D),{...A,...C(O,!0)}}};return A}}function Vq(e,t,r,n){function i(l,...c){let u=t(l);return typeof u>"u"&&n&&(u=r()),e(u,...c)}return i.unwrapped=e,i}var Cn=Yq();function Gq(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Wq({type:e,reducerName:t,createNotation:r},n,i){let l,c;if("reducer"in n){if(r&&!Qq(n))throw new Error($n(17));l=n.reducer,c=n.prepare}else l=n;i.addCase(e,l).exposeCaseReducer(t,l).exposeAction(t,c?oa(e,c):oa(e))}function Kq(e){return e._reducerDefinitionType==="asyncThunk"}function Qq(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Xq({type:e,reducerName:t},r,n,i){if(!i)throw new Error($n(18));const{payloadCreator:l,fulfilled:c,pending:u,rejected:f,settled:m,options:h}=r,x=i(e,l,h);n.exposeAction(t,x),c&&n.addCase(x.fulfilled,c),u&&n.addCase(x.pending,u),f&&n.addCase(x.rejected,f),m&&n.addMatcher(x.settled,m),n.exposeCaseReducer(t,{fulfilled:c||wm,pending:u||wm,rejected:f||wm,settled:m||wm})}function wm(){}var Zq="task",_T="listener",OT="completed",$1="cancelled",Jq=`task-${$1}`,e7=`task-${OT}`,Sy=`${_T}-${$1}`,t7=`${_T}-${OT}`,Kh=class{constructor(e){this.code=e,this.message=`${Zq} ${$1} (reason: ${e})`}name="TaskAbortError";message},q1=(e,t)=>{if(typeof e!="function")throw new TypeError($n(32))},qp=()=>{},TT=(e,t=qp)=>(e.catch(t),e),PT=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ql=e=>{if(e.aborted)throw new Kh(e.reason)};function IT(e,t){let r=qp;return new Promise((n,i)=>{const l=()=>i(new Kh(e.reason));if(e.aborted){l();return}r=PT(e,l),t.finally(()=>r()).then(n,i)}).finally(()=>{r=qp})}var r7=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Kh?"cancelled":"rejected",error:r}}finally{t?.()}},Hp=e=>t=>TT(IT(e,t).then(r=>(ql(e),r))),RT=e=>{const t=Hp(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:sc}=Object,uA={},Qh="listenerMiddleware",n7=(e,t)=>{const r=n=>PT(e,()=>n.abort(e.reason));return(n,i)=>{q1(n);const l=new AbortController;r(l);const c=r7(async()=>{ql(e),ql(l.signal);const u=await n({pause:Hp(l.signal),delay:RT(l.signal),signal:l.signal});return ql(l.signal),u},()=>l.abort(e7));return i?.autoJoin&&t.push(c.catch(qp)),{result:Hp(e)(c),cancel(){l.abort(Jq)}}}},a7=(e,t)=>{const r=async(n,i)=>{ql(t);let l=()=>{};const u=[new Promise((f,m)=>{let h=e({predicate:n,effect:(x,v)=>{v.unsubscribe(),f([x,v.getState(),v.getOriginalState()])}});l=()=>{h(),m()}})];i!=null&&u.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await IT(t,Promise.race(u));return ql(t),f}finally{l()}};return(n,i)=>TT(r(n,i))},LT=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:l}=e;if(t)i=oa(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error($n(21));return q1(l),{predicate:i,type:t,effect:l}},FT=sc(e=>{const{type:t,predicate:r,effect:n}=LT(e);return{id:qq(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error($n(22))}}},{withTypes:()=>FT}),dA=(e,t)=>{const{type:r,effect:n,predicate:i}=LT(t);return Array.from(e.values()).find(l=>(typeof r=="string"?l.type===r:l.predicate===i)&&l.effect===n)},Cy=e=>{e.pending.forEach(t=>{t.abort(Sy)})},i7=(e,t)=>()=>{for(const r of t.keys())Cy(r);e.clear()},fA=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},zT=sc(oa(`${Qh}/add`),{withTypes:()=>zT}),s7=oa(`${Qh}/removeAll`),BT=sc(oa(`${Qh}/remove`),{withTypes:()=>BT}),l7=(...e)=>{console.error(`${Qh}/error`,...e)},Rd=(e={})=>{const t=new Map,r=new Map,n=g=>{const S=r.get(g)??0;r.set(g,S+1)},i=g=>{const S=r.get(g)??1;S===1?r.delete(g):r.set(g,S-1)},{extra:l,onError:c=l7}=e;q1(c);const u=g=>(g.unsubscribe=()=>t.delete(g.id),t.set(g.id,g),S=>{g.unsubscribe(),S?.cancelActive&&Cy(g)}),f=g=>{const S=dA(t,g)??FT(g);return u(S)};sc(f,{withTypes:()=>f});const m=g=>{const S=dA(t,g);return S&&(S.unsubscribe(),g.cancelActive&&Cy(S)),!!S};sc(m,{withTypes:()=>m});const h=async(g,S,y,N)=>{const C=new AbortController,A=a7(f,C.signal),k=[];try{g.pending.add(C),n(g),await Promise.resolve(g.effect(S,sc({},y,{getOriginalState:N,condition:(M,D)=>A(M,D).then(Boolean),take:A,delay:RT(C.signal),pause:Hp(C.signal),extra:l,signal:C.signal,fork:n7(C.signal,k),unsubscribe:g.unsubscribe,subscribe:()=>{t.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((M,D,O)=>{M!==C&&(M.abort(Sy),O.delete(M))})},cancel:()=>{C.abort(Sy),g.pending.delete(C)},throwIfCancelled:()=>{ql(C.signal)}})))}catch(M){M instanceof Kh||fA(c,M,{raisedBy:"effect"})}finally{await Promise.all(k),C.abort(t7),i(g),g.pending.delete(C)}},x=i7(t,r);return{middleware:g=>S=>y=>{if(!hT(y))return S(y);if(zT.match(y))return f(y.payload);if(s7.match(y)){x();return}if(BT.match(y))return m(y.payload);let N=g.getState();const C=()=>{if(N===uA)throw new Error($n(23));return N};let A;try{if(A=S(y),t.size>0){const k=g.getState(),M=Array.from(t.values());for(const D of M){let O=!1;try{O=D.predicate(y,k,N)}catch(P){O=!1,fA(c,P,{raisedBy:"predicate"})}O&&h(D,y,g,C)}}}finally{N=uA}return A},startListening:f,stopListening:m,clearListeners:x}};function $n(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var o7={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},$T=Cn({name:"chartLayout",initialState:o7,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,l;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(l=t.payload.left)!==null&&l!==void 0?l:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:c7,setLayout:u7,setChartSize:d7,setScale:f7}=$T.actions,m7=$T.reducer;function qT(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Ft(e){return Number.isFinite(e)}function Ys(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function mA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mA(Object(r),!0).forEach(function(n){p7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p7(e,t,r){return(t=h7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h7(e){var t=x7(e,"string");return typeof t=="symbol"?t:t+""}function x7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hr(e,t,r){return Hn(e)||Hn(t)?r:Yi(t)?dd(e,t,r):typeof t=="function"?t(e):r}var v7=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:l,verticalAlign:c,layout:u}=t;if((u==="vertical"||u==="horizontal"&&c==="middle")&&l!=="center"&&at(e[l]))return rc(rc({},e),{},{[l]:e[l]+(n||0)});if((u==="horizontal"||u==="vertical"&&l==="center")&&c!=="middle"&&at(e[c]))return rc(rc({},e),{},{[c]:e[c]+(i||0)})}return e},Qs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",g7=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var l=0,c=0,u=0;u<r;++u){var f=e[u],m=f?.[i];if(m!=null){var h=m[1],x=m[0],v=Ui(h)?x:h;v>=0?(m[0]=l,l+=v,m[1]=l):(m[0]=c,c+=v,m[1]=c)}}}},b7=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var l=0,c=0;c<r;++c){var u=e[c],f=u?.[i];if(f!=null){var m=Ui(f[1])?f[0]:f[1];m>=0?(f[0]=l,l+=m,f[1]=l):(f[0]=0,f[1]=0)}}}},y7={sign:g7,expand:V$,none:Ql,silhouette:G$,wiggle:W$,positive:b7},j7=(e,t,r)=>{var n,i=(n=y7[r])!==null&&n!==void 0?n:Ql,l=Y$().keys(t).value((u,f)=>Number(hr(u,f,0))).order(py).offset(i),c=l(e);return c.forEach((u,f)=>{u.forEach((m,h)=>{var x=hr(e[h],t[f],0);Array.isArray(x)&&x.length===2&&at(x[0])&&at(x[1])&&(m[0]=x[0],m[1]=x[1])})}),c},N7=e=>{var t=e.flat(2).filter(at);return[Math.min(...t),Math.max(...t)]},w7=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],S7=(e,t,r)=>{if(e!=null)return w7(Object.keys(e).reduce((n,i)=>{var l=e[i];if(!l)return n;var{stackedData:c}=l,u=c.reduce((f,m)=>{var h=qT(m,t,r),x=N7(h);return!Ft(x[0])||!Ft(x[1])?f:[Math.min(f[0],x[0]),Math.max(f[1],x[1])]},[1/0,-1/0]);return[Math.min(u[0],n[0]),Math.max(u[1],n[1])]},[1/0,-1/0]))},pA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xA=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();return n}if(e&&t&&t.length>=2){for(var i=$h(t,h=>h.coordinate),l=1/0,c=1,u=i.length;c<u;c++){var f=i[c],m=i[c-1];l=Math.min((f?.coordinate||0)-(m?.coordinate||0),l)}return l===1/0?0:l}return r?void 0:0};function vA(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:l}=e;return rc(rc({},t),{},{dataKey:r,payload:n,value:i,name:l})}function HT(e,t){if(e)return String(e);if(typeof t=="string")return t}var C7=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},k7=(e,t)=>t==="centric"?e.angle:e.radius,es=e=>e.layout.width,ts=e=>e.layout.height,A7=e=>e.layout.scale,UT=e=>e.layout.margin,Xh=ce(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Zh=ce(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),YT="data-recharts-item-index",VT="data-recharts-item-id",Ld=60;function gA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gA(Object(r),!0).forEach(function(n){M7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M7(e,t,r){return(t=D7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D7(e){var t=E7(e,"string");return typeof t=="symbol"?t:t+""}function E7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _7=e=>e.brush.height;function O7(e){var t=Zh(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Ld;return r+i}return r},0)}function T7(e){var t=Zh(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Ld;return r+i}return r},0)}function P7(e){var t=Xh(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function I7(e){var t=Xh(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var $r=ce([es,ts,UT,_7,O7,T7,P7,I7,fT,dq],(e,t,r,n,i,l,c,u,f,m)=>{var h={left:(r.left||0)+i,right:(r.right||0)+l},x={top:(r.top||0)+c,bottom:(r.bottom||0)+u},v=Sm(Sm({},x),h),g=v.bottom;v.bottom+=n,v=v7(v,f,m);var S=e-v.left-v.right,y=t-v.top-v.bottom;return Sm(Sm({brushBottom:g},v),{},{width:Math.max(S,0),height:Math.max(y,0)})}),R7=ce($r,e=>({x:e.left,y:e.top,width:e.width,height:e.height}));ce(es,ts,(e,t)=>({x:0,y:0,width:e,height:t}));var L7=j.createContext(null),Xs=()=>j.useContext(L7)!=null,Jh=e=>e.brush,ex=ce([Jh,$r,UT],(e,t,r)=>({height:e.height,x:at(e.x)?e.x:t.left,y:at(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:at(e.width)?e.width:t.width})),eb={},tb={},rb={},bA;function F7(){return bA||(bA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:l}={}){let c,u=null;const f=l!=null&&l.includes("leading"),m=l==null||l.includes("trailing"),h=()=>{u!==null&&(r.apply(c,u),c=void 0,u=null)},x=()=>{m&&h(),y()};let v=null;const g=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,x()},n)},S=()=>{v!==null&&(clearTimeout(v),v=null)},y=()=>{S(),c=void 0,u=null},N=()=>{h()},C=function(...A){if(i?.aborted)return;c=this,u=A;const k=v==null;g(),f&&k&&h()};return C.schedule=g,C.cancel=y,C.flush=N,i?.addEventListener("abort",y,{once:!0}),C}e.debounce=t})(rb)),rb}var yA;function z7(){return yA||(yA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F7();function r(n,i=0,l={}){typeof l!="object"&&(l={});const{leading:c=!1,trailing:u=!0,maxWait:f}=l,m=Array(2);c&&(m[0]="leading"),u&&(m[1]="trailing");let h,x=null;const v=t.debounce(function(...y){h=n.apply(this,y),x=null},i,{edges:m}),g=function(...y){return f!=null&&(x===null&&(x=Date.now()),Date.now()-x>=f)?(h=n.apply(this,y),x=Date.now(),v.cancel(),v.schedule(),h):(v.apply(this,y),h)},S=()=>(v.flush(),h);return g.cancel=v.cancel,g.flush=S,g}e.debounce=r})(tb)),tb}var jA;function B7(){return jA||(jA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z7();function r(n,i=0,l={}){const{leading:c=!0,trailing:u=!0}=l;return t.debounce(n,i,{leading:c,maxWait:i,trailing:u})}e.throttle=r})(eb)),eb}var nb,NA;function $7(){return NA||(NA=1,nb=B7().throttle),nb}var q7=$7();const H7=li(q7);var wA=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),l=2;l<n;l++)i[l-2]=arguments[l];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(r.replace(/%s/g,()=>i[c++]))}},Qa={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},GT=(e,t,r)=>{var{width:n=Qa.width,height:i=Qa.height,aspect:l,maxHeight:c}=r,u=Xl(n)?e:Number(n),f=Xl(i)?t:Number(i);return l&&l>0&&(u?f=u/l:f&&(u=f*l),c&&f!=null&&f>c&&(f=c)),{calculatedWidth:u,calculatedHeight:f}},U7={width:0,height:0,overflow:"visible"},Y7={width:0,overflowX:"visible"},V7={height:0,overflowY:"visible"},G7={},W7=e=>{var{width:t,height:r}=e,n=Xl(t),i=Xl(r);return n&&i?U7:n?Y7:i?V7:G7};function K7(e){var{width:t,height:r,aspect:n}=e,i=t,l=r;return i===void 0&&l===void 0?(i=Qa.width,l=Qa.height):i===void 0?i=n&&n>0?void 0:Qa.width:l===void 0&&(l=n&&n>0?void 0:Qa.height),{width:i,height:l}}function ky(){return ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ky.apply(null,arguments)}function SA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function CA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(r),!0).forEach(function(n){Q7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q7(e,t,r){return(t=X7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X7(e){var t=Z7(e,"string");return typeof t=="symbol"?t:t+""}function Z7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WT=j.createContext(Qa.initialDimension);function J7(e){return Ys(e.width)&&Ys(e.height)}function KT(e){var{children:t,width:r,height:n}=e,i=j.useMemo(()=>({width:r,height:n}),[r,n]);return J7(i)?j.createElement(WT.Provider,{value:i},t):null}var H1=()=>j.useContext(WT),eH=j.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=Qa.initialDimension,width:i,height:l,minWidth:c=Qa.minWidth,minHeight:u,maxHeight:f,children:m,debounce:h=Qa.debounce,id:x,className:v,onResize:g,style:S={}}=e,y=j.useRef(null),N=j.useRef();N.current=g,j.useImperativeHandle(t,()=>y.current);var[C,A]=j.useState({containerWidth:n.width,containerHeight:n.height}),k=j.useCallback((T,$)=>{A(L=>{var q=Math.round(T),E=Math.round($);return L.containerWidth===q&&L.containerHeight===E?L:{containerWidth:q,containerHeight:E}})},[]);j.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return Pd;var T=E=>{var Z,Q=E[0];if(Q!=null){var{width:re,height:R}=Q.contentRect;k(re,R),(Z=N.current)===null||Z===void 0||Z.call(N,re,R)}};h>0&&(T=H7(T,h,{trailing:!0,leading:!1}));var $=new ResizeObserver(T),{width:L,height:q}=y.current.getBoundingClientRect();return k(L,q),$.observe(y.current),()=>{$.disconnect()}},[k,h]);var{containerWidth:M,containerHeight:D}=C;wA(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:O,calculatedHeight:P}=GT(M,D,{width:i,height:l,aspect:r,maxHeight:f});return wA(O!=null&&O>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,P,i,l,c,u,r),j.createElement("div",{id:x?"".concat(x):void 0,className:dt("recharts-responsive-container",v),style:CA(CA({},S),{},{width:i,height:l,minWidth:c,minHeight:u,maxHeight:f}),ref:y},j.createElement("div",{style:W7({width:i,height:l})},j.createElement(KT,{width:O,height:P},m)))}),U1=j.forwardRef((e,t)=>{var r=H1();if(Ys(r.width)&&Ys(r.height))return e.children;var{width:n,height:i}=K7({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:l,calculatedHeight:c}=GT(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return at(l)&&at(c)?j.createElement(KT,{width:l,height:c},e.children):j.createElement(eH,ky({},e,{width:n,height:i,ref:t}))});function Y1(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var tx=()=>{var e,t=Xs(),r=ct(R7),n=ct(ex),i=(e=ct(Jh))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},tH={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},rH=()=>{var e;return(e=ct($r))!==null&&e!==void 0?e:tH},nH=()=>ct(es),aH=()=>ct(ts),ir=e=>e.layout.layoutType,rx=()=>ct(ir),QT=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},iH=()=>{var e=rx();return e!==void 0},Fd=e=>{var t=Ir(),r=Xs(),{width:n,height:i}=e,l=H1(),c=n,u=i;return l&&(c=l.width>0?l.width:n,u=l.height>0?l.height:i),j.useEffect(()=>{!r&&Ys(c)&&Ys(u)&&t(d7({width:c,height:u}))},[t,r,c,u]),null},XT=Symbol.for("immer-nothing"),kA=Symbol.for("immer-draftable"),Un=Symbol.for("immer-state");function ya(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var xd=Object.getPrototypeOf;function hc(e){return!!e&&!!e[Un]}function Jl(e){return e?ZT(e)||Array.isArray(e)||!!e[kA]||!!e.constructor?.[kA]||zd(e)||ax(e):!1}var sH=Object.prototype.constructor.toString(),AA=new WeakMap;function ZT(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=AA.get(r);return n===void 0&&(n=Function.toString.call(r),AA.set(r,n)),n===sH}function Up(e,t,r=!0){nx(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function nx(e){const t=e[Un];return t?t.type_:Array.isArray(e)?1:zd(e)?2:ax(e)?3:0}function Ay(e,t){return nx(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function JT(e,t,r){const n=nx(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function lH(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function zd(e){return e instanceof Map}function ax(e){return e instanceof Set}function El(e){return e.copy_||e.base_}function My(e,t){if(zd(e))return new Map(e);if(ax(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=ZT(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Un];let i=Reflect.ownKeys(n);for(let l=0;l<i.length;l++){const c=i[l],u=n[c];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[c]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[c]})}return Object.create(xd(e),n)}else{const n=xd(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function V1(e,t=!1){return ix(e)||hc(e)||!Jl(e)||(nx(e)>1&&Object.defineProperties(e,{set:Cm,add:Cm,clear:Cm,delete:Cm}),Object.freeze(e),t&&Object.values(e).forEach(r=>V1(r,!0))),e}function oH(){ya(2)}var Cm={value:oH};function ix(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var cH={};function eo(e){const t=cH[e];return t||ya(0,e),t}var vd;function eP(){return vd}function uH(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function MA(e,t){t&&(eo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Dy(e){Ey(e),e.drafts_.forEach(dH),e.drafts_=null}function Ey(e){e===vd&&(vd=e.parent_)}function DA(e){return vd=uH(vd,e)}function dH(e){const t=e[Un];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function EA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Un].modified_&&(Dy(t),ya(4)),Jl(e)&&(e=Yp(t,e),t.parent_||Vp(t,e)),t.patches_&&eo("Patches").generateReplacementPatches_(r[Un].base_,e,t.patches_,t.inversePatches_)):e=Yp(t,r,[]),Dy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==XT?e:void 0}function Yp(e,t,r){if(ix(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[Un];if(!i)return Up(t,(l,c)=>_A(e,i,t,l,c,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return Vp(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const l=i.copy_;let c=l,u=!1;i.type_===3&&(c=new Set(l),l.clear(),u=!0),Up(c,(f,m)=>_A(e,i,l,f,m,r,u),n),Vp(e,l,!1),r&&e.patches_&&eo("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function _A(e,t,r,n,i,l,c){if(i==null||typeof i!="object"&&!c)return;const u=ix(i);if(!(u&&!c)){if(hc(i)){const f=l&&t&&t.type_!==3&&!Ay(t.assigned_,n)?l.concat(n):void 0,m=Yp(e,i,f);if(JT(r,n,m),hc(m))e.canAutoFreeze_=!1;else return}else c&&r.add(i);if(Jl(i)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&u)return;Yp(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(zd(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Vp(e,i)}}}function Vp(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&V1(t,r)}function fH(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:eP(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,l=G1;r&&(i=[n],l=gd);const{revoke:c,proxy:u}=Proxy.revocable(i,l);return n.draft_=u,n.revoke_=c,u}var G1={get(e,t){if(t===Un)return e;const r=El(e);if(!Ay(r,t))return mH(e,r,t);const n=r[t];return e.finalized_||!Jl(n)?n:n===ab(e.base_,t)?(ib(e),e.copy_[t]=Oy(n,e)):n},has(e,t){return t in El(e)},ownKeys(e){return Reflect.ownKeys(El(e))},set(e,t,r){const n=tP(El(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=ab(El(e),t),l=i?.[Un];if(l&&l.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(lH(r,i)&&(r!==void 0||Ay(e.base_,t)))return!0;ib(e),_y(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ab(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ib(e),_y(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=El(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){ya(11)},getPrototypeOf(e){return xd(e.base_)},setPrototypeOf(){ya(12)}},gd={};Up(G1,(e,t)=>{gd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});gd.deleteProperty=function(e,t){return gd.set.call(this,e,t,void 0)};gd.set=function(e,t,r){return G1.set.call(this,e[0],t,r,e[0])};function ab(e,t){const r=e[Un];return(r?El(r):e)[t]}function mH(e,t,r){const n=tP(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function tP(e,t){if(!(t in e))return;let r=xd(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=xd(r)}}function _y(e){e.modified_||(e.modified_=!0,e.parent_&&_y(e.parent_))}function ib(e){e.copy_||(e.copy_=My(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var pH=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const l=r;r=t;const c=this;return function(f=l,...m){return c.produce(f,h=>r.call(this,h,...m))}}typeof r!="function"&&ya(6),n!==void 0&&typeof n!="function"&&ya(7);let i;if(Jl(t)){const l=DA(this),c=Oy(t,void 0);let u=!0;try{i=r(c),u=!1}finally{u?Dy(l):Ey(l)}return MA(l,n),EA(i,l)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===XT&&(i=void 0),this.autoFreeze_&&V1(i,!0),n){const l=[],c=[];eo("Patches").generateReplacementPatches_(t,i,l,c),n(l,c)}return i}else ya(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...u)=>this.produceWithPatches(c,f=>t(f,...u));let n,i;return[this.produce(t,r,(c,u)=>{n=c,i=u}),n,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Jl(e)||ya(8),hc(e)&&(e=hH(e));const t=DA(this),r=Oy(e,void 0);return r[Un].isManual_=!0,Ey(t),r}finishDraft(e,t){const r=e&&e[Un];(!r||!r.isManual_)&&ya(9);const{scope_:n}=r;return MA(n,t),EA(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=eo("Patches").applyPatches_;return hc(e)?n(e,t):this.produce(e,i=>n(i,t))}};function Oy(e,t){const r=zd(e)?eo("MapSet").proxyMap_(e,t):ax(e)?eo("MapSet").proxySet_(e,t):fH(e,t);return(t?t.scope_:eP()).drafts_.push(r),r}function hH(e){return hc(e)||ya(10,e),rP(e)}function rP(e){if(!Jl(e)||ix(e))return e;const t=e[Un];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=My(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=My(e,!0);return Up(r,(i,l)=>{JT(r,i,rP(l))},n),t&&(t.finalized_=!1),r}var xH=new pH;xH.produce;var vH={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},nP=Cn({name:"legend",initialState:vH,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:rr()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=wa(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:rr()},removeLegendPayload:{reducer(e,t){var r=wa(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:rr()}}}),{setLegendSize:Boe,setLegendSettings:$oe,addLegendPayload:gH,replaceLegendPayload:bH,removeLegendPayload:yH}=nP.actions,jH=nP.reducer;function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ty.apply(null,arguments)}function OA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OA(Object(r),!0).forEach(function(n){NH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NH(e,t,r){return(t=wH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wH(e){var t=SH(e,"string");return typeof t=="symbol"?t:t+""}function SH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CH(e){return Array.isArray(e)&&Yi(e[0])&&Yi(e[1])?e.join(" ~ "):e}var Uo={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},kH=e=>{var{separator:t=Uo.separator,contentStyle:r,itemStyle:n,labelStyle:i=Uo.labelStyle,payload:l,formatter:c,itemSorter:u,wrapperClassName:f,labelClassName:m,label:h,labelFormatter:x,accessibilityLayer:v=Uo.accessibilityLayer}=e,g=()=>{if(l&&l.length){var D={padding:0,margin:0},O=(u?$h(l,u):l).map((P,T)=>{if(P.type==="none")return null;var $=P.formatter||c||CH,{value:L,name:q}=P,E=L,Z=q;if($){var Q=$(L,q,P,T,l);if(Array.isArray(Q))[E,Z]=Q;else if(Q!=null)E=Q;else return null}var re=zu(zu({},Uo.itemStyle),{},{color:P.color||Uo.itemStyle.color},n);return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:re},Yi(Z)?j.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,Yi(Z)?j.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,j.createElement("span",{className:"recharts-tooltip-item-value"},E),j.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:D},O)}return null},S=zu(zu({},Uo.contentStyle),r),y=zu({margin:0},i),N=!Hn(h),C=N?h:"",A=dt("recharts-default-tooltip",f),k=dt("recharts-tooltip-label",m);N&&x&&l!==void 0&&l!==null&&(C=x(h,l));var M=v?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",Ty({className:A,style:S},M),j.createElement("p",{className:k,style:y},j.isValidElement(C)?C:"".concat(C)),g())},Bu="recharts-tooltip-wrapper",AH={visibility:"hidden"};function MH(e){var{coordinate:t,translateX:r,translateY:n}=e;return dt(Bu,{["".concat(Bu,"-right")]:at(r)&&t&&at(t.x)&&r>=t.x,["".concat(Bu,"-left")]:at(r)&&t&&at(t.x)&&r<t.x,["".concat(Bu,"-bottom")]:at(n)&&t&&at(t.y)&&n>=t.y,["".concat(Bu,"-top")]:at(n)&&t&&at(t.y)&&n<t.y})}function TA(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:i,position:l,reverseDirection:c,tooltipDimension:u,viewBox:f,viewBoxDimension:m}=e;if(l&&at(l[n]))return l[n];var h=r[n]-u-(i>0?i:0),x=r[n]+i;if(t[n])return c[n]?h:x;var v=f[n];if(v==null)return 0;if(c[n]){var g=h,S=v;return g<S?Math.max(x,v):Math.max(h,v)}if(m==null)return 0;var y=x+u,N=v+m;return y>N?Math.max(h,v):Math.max(x,v)}function DH(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function EH(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:i,position:l,reverseDirection:c,tooltipBox:u,useTranslate3d:f,viewBox:m}=e,h,x,v;return u.height>0&&u.width>0&&r?(x=TA({allowEscapeViewBox:t,coordinate:r,key:"x",offset:i,position:l,reverseDirection:c,tooltipDimension:u.width,viewBox:m,viewBoxDimension:m.width}),v=TA({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:l,reverseDirection:c,tooltipDimension:u.height,viewBox:m,viewBoxDimension:m.height}),h=DH({translateX:x,translateY:v,useTranslate3d:f})):h=AH,{cssProperties:h,cssClasses:MH({translateX:x,translateY:v,coordinate:r})}}function PA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function km(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PA(Object(r),!0).forEach(function(n){Py(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Py(e,t,r){return(t=_H(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _H(e){var t=OH(e,"string");return typeof t=="symbol"?t:t+""}function OH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class TH extends j.PureComponent{constructor(){super(...arguments),Py(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Py(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,l;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:l,coordinate:c,hasPayload:u,isAnimationActive:f,offset:m,position:h,reverseDirection:x,useTranslate3d:v,viewBox:g,wrapperStyle:S,lastBoundingBox:y,innerRef:N,hasPortalFromProps:C}=this.props,A=typeof m=="number"?m:m.x,k=typeof m=="number"?m:m.y,{cssClasses:M,cssProperties:D}=EH({allowEscapeViewBox:r,coordinate:c,offsetLeft:A,offsetTop:k,position:h,reverseDirection:x,tooltipBox:{height:y.height,width:y.width},useTranslate3d:v,viewBox:g}),O=C?{}:km(km({transition:f&&t?"transform ".concat(n,"ms ").concat(i):void 0},D),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),P=km(km({},O),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},S);return j.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:M,style:P,ref:N},l)}}var aP=()=>{var e;return(e=ct(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iy.apply(null,arguments)}function IA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function RA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IA(Object(r),!0).forEach(function(n){PH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PH(e,t,r){return(t=IH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IH(e){var t=RH(e,"string");return typeof t=="symbol"?t:t+""}function RH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LA={curveBasisClosed:P$,curveBasisOpen:I$,curveBasis:T$,curveBumpX:b$,curveBumpY:y$,curveLinearClosed:R$,curveLinear:zh,curveMonotoneX:L$,curveMonotoneY:F$,curveNatural:z$,curveStep:B$,curveStepAfter:q$,curveStepBefore:$$},Gp=e=>Ft(e.x)&&Ft(e.y),FA=e=>e.base!=null&&Gp(e.base)&&Gp(e),$u=e=>e.x,qu=e=>e.y,LH=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Td(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=LA["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return LA[r]||zh},zA={connectNulls:!1,type:"linear"},FH=e=>{var{type:t=zA.type,points:r=[],baseLine:n,layout:i,connectNulls:l=zA.connectNulls}=e,c=LH(t,i),u=l?r.filter(Gp):r;if(Array.isArray(n)){var f,m=r.map((S,y)=>RA(RA({},S),{},{base:n[y]}));i==="vertical"?f=gm().y(qu).x1($u).x0(S=>S.base.x):f=gm().x($u).y1(qu).y0(S=>S.base.y);var h=f.defined(FA).curve(c),x=l?m.filter(FA):m;return h(x)}var v;i==="vertical"&&at(n)?v=gm().y(qu).x1($u).x0(n):at(n)?v=gm().x($u).y1(qu).y0(n):v=zO().x($u).y(qu);var g=v.defined(Gp).curve(c);return g(u)},W1=e=>{var{className:t,points:r,path:n,pathRef:i}=e,l=rx();if((!r||!r.length)&&!n)return null;var c={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||l,connectNulls:e.connectNulls},u=r&&r.length?FH(c):n;return j.createElement("path",Iy({},mc(e),f9(e),{className:dt("recharts-curve",t),d:u===null?void 0:u,ref:i}))},zH=["x","y","top","left","width","height","className"];function Ry(){return Ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ry.apply(null,arguments)}function BA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function BH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BA(Object(r),!0).forEach(function(n){$H(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $H(e,t,r){return(t=qH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qH(e){var t=HH(e,"string");return typeof t=="symbol"?t:t+""}function HH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UH(e,t){if(e==null)return{};var r,n,i=YH(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function YH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var VH=(e,t,r,n,i,l)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(l,",").concat(t,"h").concat(r),GH=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:l=0,height:c=0,className:u}=e,f=UH(e,zH),m=BH({x:t,y:r,top:n,left:i,width:l,height:c},f);return!at(t)||!at(r)||!at(l)||!at(c)||!at(n)||!at(i)?null:j.createElement("path",Ry({},la(m),{className:dt("recharts-cross",u),d:VH(t,r,l,c,n,i)}))};function WH(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function $A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$A(Object(r),!0).forEach(function(n){KH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$A(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KH(e,t,r){return(t=QH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QH(e){var t=XH(e,"string");return typeof t=="symbol"?t:t+""}function XH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZH=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),iP=(e,t,r)=>e.map(n=>"".concat(ZH(n)," ").concat(t,"ms ").concat(r)).join(","),JH=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),bd=(e,t)=>Object.keys(t).reduce((r,n)=>qA(qA({},r),{},{[n]:e(n,t[n])}),{});function HA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HA(Object(r),!0).forEach(function(n){eU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eU(e,t,r){return(t=tU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tU(e){var t=rU(e,"string");return typeof t=="symbol"?t:t+""}function rU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wp=(e,t,r)=>e+(t-e)*r,Ly=e=>{var{from:t,to:r}=e;return t!==r},sP=(e,t,r)=>{var n=bd((i,l)=>{if(Ly(l)){var[c,u]=e(l.from,l.to,l.velocity);return Pr(Pr({},l),{},{from:c,velocity:u})}return l},t);return r<1?bd((i,l)=>Ly(l)&&n[i]!=null?Pr(Pr({},l),{},{velocity:Wp(l.velocity,n[i].velocity,r),from:Wp(l.from,n[i].from,r)}):l,t):sP(e,n,r-1)};function nU(e,t,r,n,i,l){var c,u=n.reduce((v,g)=>Pr(Pr({},v),{},{[g]:{from:e[g],velocity:0,to:t[g]}}),{}),f=()=>bd((v,g)=>g.from,u),m=()=>!Object.values(u).filter(Ly).length,h=null,x=v=>{c||(c=v);var g=v-c,S=g/r.dt;u=sP(r,u,S),i(Pr(Pr(Pr({},e),t),f())),c=v,m()||(h=l.setTimeout(x))};return()=>(h=l.setTimeout(x),()=>{var v;(v=h)===null||v===void 0||v()})}function aU(e,t,r,n,i,l,c){var u=null,f=i.reduce((x,v)=>{var g=e[v],S=t[v];return g==null||S==null?x:Pr(Pr({},x),{},{[v]:[g,S]})},{}),m,h=x=>{m||(m=x);var v=(x-m)/n,g=bd((y,N)=>Wp(...N,r(v)),f);if(l(Pr(Pr(Pr({},e),t),g)),v<1)u=c.setTimeout(h);else{var S=bd((y,N)=>Wp(...N,r(1)),f);l(Pr(Pr(Pr({},e),t),S))}};return()=>(u=c.setTimeout(h),()=>{var x;(x=u)===null||x===void 0||x()})}const iU=(e,t,r,n,i,l)=>{var c=JH(e,t);return r==null?()=>(i(Pr(Pr({},e),t)),()=>{}):r.isStepper===!0?nU(e,t,r,c,i,l):aU(e,t,r,n,c,i,l)};var Kp=1e-4,lP=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],oP=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),UA=(e,t)=>r=>{var n=lP(e,t);return oP(n,r)},sU=(e,t)=>r=>{var n=lP(e,t),i=[...n.map((l,c)=>l*c).slice(1),0];return oP(i,r)},lU=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var i=n.map(l=>parseFloat(l));return[i[0],i[1],i[2],i[3]]},oU=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=lU(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},cU=(e,t,r,n)=>{var i=UA(e,r),l=UA(t,n),c=sU(e,r),u=m=>m>1?1:m<0?0:m,f=m=>{for(var h=m>1?1:m,x=h,v=0;v<8;++v){var g=i(x)-h,S=c(x);if(Math.abs(g-h)<Kp||S<Kp)return l(x);x=u(x-g/S)}return l(x)};return f.isStepper=!1,f},YA=function(){return cU(...oU(...arguments))},uU=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,l=(c,u,f)=>{var m=-(c-u)*r,h=f*n,x=f+(m-h)*i/1e3,v=f*i/1e3+c;return Math.abs(v-u)<Kp&&Math.abs(x)<Kp?[u,0]:[v,x]};return l.isStepper=!0,l.dt=i,l},dU=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return YA(e);case"spring":return uU();default:if(e.split("(")[0]==="cubic-bezier")return YA(e)}return typeof e=="function"?e:null};function fU(e){var t,r=()=>null,n=!1,i=null,l=c=>{if(!n){if(Array.isArray(c)){if(!c.length)return;var u=c,[f,...m]=u;if(typeof f=="number"){i=e.setTimeout(l.bind(null,m),f);return}l(f),i=e.setTimeout(l.bind(null,m));return}typeof c=="string"&&(t=c,r(t)),typeof c=="object"&&(t=c,r(t)),typeof c=="function"&&c()}};return{stop:()=>{n=!0},start:c=>{n=!1,i&&(i(),i=null),l(c)},subscribe:c=>(r=c,()=>{r=()=>null}),getTimeoutController:()=>e}}class mU{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,l=c=>{c-n>=r?t(c):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(l))};return i=requestAnimationFrame(l),()=>{i!=null&&cancelAnimationFrame(i)}}}function pU(){return fU(new mU)}var hU=j.createContext(pU);function xU(e,t){var r=j.useContext(hU);return j.useMemo(()=>t??r(e),[e,t,r])}var vU=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),K1={isSsr:vU()},gU={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},VA={t:0},sb={t:1};function Q1(e){var t=ui(e,gU),{isActive:r,canBegin:n,duration:i,easing:l,begin:c,onAnimationEnd:u,onAnimationStart:f,children:m}=t,h=r==="auto"?!K1.isSsr:r,x=xU(t.animationId,t.animationManager),[v,g]=j.useState(h?VA:sb),S=j.useRef(null);return j.useEffect(()=>{h||g(sb)},[h]),j.useEffect(()=>{if(!h||!n)return Pd;var y=iU(VA,sb,dU(l),i,g,x.getTimeoutController()),N=()=>{S.current=y()};return x.start([f,c,N,i,u]),()=>{x.stop(),S.current&&S.current(),u()}},[h,n,i,l,c,f,u,x]),m(v.t)}function X1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=j.useRef(fd(t)),n=j.useRef(e);return n.current!==e&&(r.current=fd(t),n.current=e),r.current}var bU=["radius"],yU=["radius"],GA,WA,KA,QA,XA,ZA,JA,e5,t5,r5;function n5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function a5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n5(Object(r),!0).forEach(function(n){jU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jU(e,t,r){return(t=NU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NU(e){var t=wU(e,"string");return typeof t=="symbol"?t:t+""}function wU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qp(){return Qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qp.apply(null,arguments)}function i5(e,t){if(e==null)return{};var r,n,i=SU(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function SU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $a(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var s5=(e,t,r,n,i)=>{var l=Ls(r),c=Ls(n),u=Math.min(Math.abs(l)/2,Math.abs(c)/2),f=c>=0?1:-1,m=l>=0?1:-1,h=c>=0&&l>=0||c<0&&l<0?1:0,x;if(u>0&&Array.isArray(i)){for(var v=[0,0,0,0],g=0,S=4;g<S;g++){var y,N=(y=i[g])!==null&&y!==void 0?y:0;v[g]=N>u?u:N}x=fr(GA||(GA=$a(["M",",",""])),e,t+f*v[0]),v[0]>0&&(x+=fr(WA||(WA=$a(["A ",",",",0,0,",",",",",""])),v[0],v[0],h,e+m*v[0],t)),x+=fr(KA||(KA=$a(["L ",",",""])),e+r-m*v[1],t),v[1]>0&&(x+=fr(QA||(QA=$a(["A ",",",",0,0,",`,
        `,",",""])),v[1],v[1],h,e+r,t+f*v[1])),x+=fr(XA||(XA=$a(["L ",",",""])),e+r,t+n-f*v[2]),v[2]>0&&(x+=fr(ZA||(ZA=$a(["A ",",",",0,0,",`,
        `,",",""])),v[2],v[2],h,e+r-m*v[2],t+n)),x+=fr(JA||(JA=$a(["L ",",",""])),e+m*v[3],t+n),v[3]>0&&(x+=fr(e5||(e5=$a(["A ",",",",0,0,",`,
        `,",",""])),v[3],v[3],h,e,t+n-f*v[3])),x+="Z"}else if(u>0&&i===+i&&i>0){var C=Math.min(u,i);x=fr(t5||(t5=$a(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+f*C,C,C,h,e+m*C,t,e+r-m*C,t,C,C,h,e+r,t+f*C,e+r,t+n-f*C,C,C,h,e+r-m*C,t+n,e+m*C,t+n,C,C,h,e,t+n-f*C)}else x=fr(r5||(r5=$a(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return x},l5={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cP=e=>{var t=ui(e,l5),r=j.useRef(null),[n,i]=j.useState(-1);j.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var G=r.current.getTotalLength();G&&i(G)}catch{}},[]);var{x:l,y:c,width:u,height:f,radius:m,className:h}=t,{animationEasing:x,animationDuration:v,animationBegin:g,isAnimationActive:S,isUpdateAnimationActive:y}=t,N=j.useRef(u),C=j.useRef(f),A=j.useRef(l),k=j.useRef(c),M=j.useMemo(()=>({x:l,y:c,width:u,height:f,radius:m}),[l,c,u,f,m]),D=X1(M,"rectangle-");if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var O=dt("recharts-rectangle",h);if(!y){var P=la(t),{radius:T}=P,$=i5(P,bU);return j.createElement("path",Qp({},$,{x:Ls(l),y:Ls(c),width:Ls(u),height:Ls(f),radius:typeof m=="number"?m:void 0,className:O,d:s5(l,c,u,f,m)}))}var L=N.current,q=C.current,E=A.current,Z=k.current,Q="0px ".concat(n===-1?1:n,"px"),re="".concat(n,"px 0px"),R=iP(["strokeDasharray"],v,typeof x=="string"?x:l5.animationEasing);return j.createElement(Q1,{animationId:D,key:D,canBegin:n>0,duration:v,easing:x,isActive:y,begin:g},G=>{var pe=ga(L,u,G),je=ga(q,f,G),we=ga(E,l,G),F=ga(Z,c,G);r.current&&(N.current=pe,C.current=je,A.current=we,k.current=F);var ue;S?G>0?ue={transition:R,strokeDasharray:re}:ue={strokeDasharray:Q}:ue={strokeDasharray:re};var J=la(t),{radius:B}=J,z=i5(J,yU);return j.createElement("path",Qp({},z,{radius:typeof m=="number"?m:void 0,className:O,d:s5(we,F,pe,je,m),ref:r,style:a5(a5({},ue),t.style)}))})};function o5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function c5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o5(Object(r),!0).forEach(function(n){CU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CU(e,t,r){return(t=kU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kU(e){var t=AU(e,"string");return typeof t=="symbol"?t:t+""}function AU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xp=Math.PI/180,MU=e=>e*180/Math.PI,Er=(e,t,r,n)=>({x:e+Math.cos(-Xp*n)*r,y:t+Math.sin(-Xp*n)*r}),uP=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},DU=(e,t)=>{var{x:r,y:n}=e,{x:i,y:l}=t;return Math.sqrt((r-i)**2+(n-l)**2)},EU=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:l}=t,c=DU({x:r,y:n},{x:i,y:l});if(c<=0)return{radius:c,angle:0};var u=(r-i)/c,f=Math.acos(u);return n>l&&(f=2*Math.PI-f),{radius:c,angle:MU(f),angleInRadian:f}},_U=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),l=Math.min(n,i);return{startAngle:t-l*360,endAngle:r-l*360}},OU=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),l=Math.floor(n/360),c=Math.min(i,l);return e+c*360},TU=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:l}=EU({x:r,y:n},t),{innerRadius:c,outerRadius:u}=t;if(i<c||i>u||i===0)return null;var{startAngle:f,endAngle:m}=_U(t),h=l,x;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;x=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;x=h>=m&&h<=f}return x?c5(c5({},t),{},{radius:i,angle:OU(h,t)}):null};function dP(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:l}=e,c=Er(t,r,n,i),u=Er(t,r,n,l);return{points:[c,u],cx:t,cy:r,radius:n,startAngle:i,endAngle:l}}var u5,d5,f5,m5,p5,h5,x5;function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fy.apply(null,arguments)}function Rl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var PU=(e,t)=>{var r=Nn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Am=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:l,isExternal:c,cornerRadius:u,cornerIsExternal:f}=e,m=u*(c?1:-1)+n,h=Math.asin(u/m)/Xp,x=f?i:i+l*h,v=Er(t,r,m,x),g=Er(t,r,n,x),S=f?i-l*h:i,y=Er(t,r,m*Math.cos(h*Xp),S);return{center:v,circleTangency:g,lineTangency:y,theta:h}},fP=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:c}=e,u=PU(l,c),f=l+u,m=Er(t,r,i,l),h=Er(t,r,i,f),x=fr(u5||(u5=Rl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),m.x,m.y,i,i,+(Math.abs(u)>180),+(l>f),h.x,h.y);if(n>0){var v=Er(t,r,n,l),g=Er(t,r,n,f);x+=fr(d5||(d5=Rl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),g.x,g.y,n,n,+(Math.abs(u)>180),+(l<=f),v.x,v.y)}else x+=fr(f5||(f5=Rl(["L ",","," Z"])),t,r);return x},IU=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:m}=e,h=Nn(m-f),{circleTangency:x,lineTangency:v,theta:g}=Am({cx:t,cy:r,radius:i,angle:f,sign:h,cornerRadius:l,cornerIsExternal:u}),{circleTangency:S,lineTangency:y,theta:N}=Am({cx:t,cy:r,radius:i,angle:m,sign:-h,cornerRadius:l,cornerIsExternal:u}),C=u?Math.abs(f-m):Math.abs(f-m)-g-N;if(C<0)return c?fr(m5||(m5=Rl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),v.x,v.y,l,l,l*2,l,l,-l*2):fP({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:f,endAngle:m});var A=fr(p5||(p5=Rl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),v.x,v.y,l,l,+(h<0),x.x,x.y,i,i,+(C>180),+(h<0),S.x,S.y,l,l,+(h<0),y.x,y.y);if(n>0){var{circleTangency:k,lineTangency:M,theta:D}=Am({cx:t,cy:r,radius:n,angle:f,sign:h,isExternal:!0,cornerRadius:l,cornerIsExternal:u}),{circleTangency:O,lineTangency:P,theta:T}=Am({cx:t,cy:r,radius:n,angle:m,sign:-h,isExternal:!0,cornerRadius:l,cornerIsExternal:u}),$=u?Math.abs(f-m):Math.abs(f-m)-D-T;if($<0&&l===0)return"".concat(A,"L").concat(t,",").concat(r,"Z");A+=fr(h5||(h5=Rl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),P.x,P.y,l,l,+(h<0),O.x,O.y,n,n,+($>180),+(h>0),k.x,k.y,l,l,+(h<0),M.x,M.y)}else A+=fr(x5||(x5=Rl(["L",",","Z"])),t,r);return A},RU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},mP=e=>{var t=ui(e,RU),{cx:r,cy:n,innerRadius:i,outerRadius:l,cornerRadius:c,forceCornerRadius:u,cornerIsExternal:f,startAngle:m,endAngle:h,className:x}=t;if(l<i||m===h)return null;var v=dt("recharts-sector",x),g=l-i,S=Bn(c,g,0,!0),y;return S>0&&Math.abs(m-h)<360?y=IU({cx:r,cy:n,innerRadius:i,outerRadius:l,cornerRadius:Math.min(S,g/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:m,endAngle:h}):y=fP({cx:r,cy:n,innerRadius:i,outerRadius:l,startAngle:m,endAngle:h}),j.createElement("path",Fy({},la(t),{className:v,d:y}))};function LU(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(eT(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:l,outerRadius:c,angle:u}=t,f=Er(n,i,l,u),m=Er(n,i,c,u);return[{x:f.x,y:f.y},{x:m.x,y:m.y}]}return dP(t)}}var lb={},ob={},cb={},v5;function FU(){return v5||(v5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uT();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(cb)),cb}var g5;function zU(){return g5||(g5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FU();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(ob)),ob}var b5;function BU(){return b5||(b5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dT(),r=zU();function n(i,l,c){c&&typeof c!="number"&&t.isIterateeCall(i,l,c)&&(l=c=void 0),i=r.toFinite(i),l===void 0?(l=i,i=0):l=r.toFinite(l),c=c===void 0?i<l?1:-1:r.toFinite(c);const u=Math.max(Math.ceil((l-i)/(c||1)),0),f=new Array(u);for(let m=0;m<u;m++)f[m]=i,i+=c;return f}e.range=n})(lb)),lb}var ub,y5;function $U(){return y5||(y5=1,ub=BU().range),ub}var qU=$U();const pP=li(qU);function zs(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function HU(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Z1(e){let t,r,n;e.length!==2?(t=zs,r=(u,f)=>zs(e(u),f),n=(u,f)=>e(u)-f):(t=e===zs||e===HU?e:UU,r=e,n=e);function i(u,f,m=0,h=u.length){if(m<h){if(t(f,f)!==0)return h;do{const x=m+h>>>1;r(u[x],f)<0?m=x+1:h=x}while(m<h)}return m}function l(u,f,m=0,h=u.length){if(m<h){if(t(f,f)!==0)return h;do{const x=m+h>>>1;r(u[x],f)<=0?m=x+1:h=x}while(m<h)}return m}function c(u,f,m=0,h=u.length){const x=i(u,f,m,h-1);return x>m&&n(u[x-1],f)>-n(u[x],f)?x-1:x}return{left:i,center:c,right:l}}function UU(){return 0}function hP(e){return e===null?NaN:+e}function*YU(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const VU=Z1(zs),Bd=VU.right;Z1(hP).center;class j5 extends Map{constructor(t,r=KU){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(N5(this,t))}has(t){return super.has(N5(this,t))}set(t,r){return super.set(GU(this,t),r)}delete(t){return super.delete(WU(this,t))}}function N5({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function GU({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function WU({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function KU(e){return e!==null&&typeof e=="object"?e.valueOf():e}function QU(e=zs){if(e===zs)return xP;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function xP(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const XU=Math.sqrt(50),ZU=Math.sqrt(10),JU=Math.sqrt(2);function Zp(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),l=n/Math.pow(10,i),c=l>=XU?10:l>=ZU?5:l>=JU?2:1;let u,f,m;return i<0?(m=Math.pow(10,-i)/c,u=Math.round(e*m),f=Math.round(t*m),u/m<e&&++u,f/m>t&&--f,m=-m):(m=Math.pow(10,i)*c,u=Math.round(e/m),f=Math.round(t/m),u*m<e&&++u,f*m>t&&--f),f<u&&.5<=r&&r<2?Zp(e,t,r*2):[u,f,m]}function zy(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,l,c]=n?Zp(t,e,r):Zp(e,t,r);if(!(l>=i))return[];const u=l-i+1,f=new Array(u);if(n)if(c<0)for(let m=0;m<u;++m)f[m]=(l-m)/-c;else for(let m=0;m<u;++m)f[m]=(l-m)*c;else if(c<0)for(let m=0;m<u;++m)f[m]=(i+m)/-c;else for(let m=0;m<u;++m)f[m]=(i+m)*c;return f}function By(e,t,r){return t=+t,e=+e,r=+r,Zp(e,t,r)[2]}function $y(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?By(t,e,r):By(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function w5(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function S5(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function vP(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?xP:QU(i);n>r;){if(n-r>600){const f=n-r+1,m=t-r+1,h=Math.log(f),x=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*x*(f-x)/f)*(m-f/2<0?-1:1),g=Math.max(r,Math.floor(t-m*x/f+v)),S=Math.min(n,Math.floor(t+(f-m)*x/f+v));vP(e,t,g,S,i)}const l=e[t];let c=r,u=n;for(Hu(e,r,t),i(e[n],l)>0&&Hu(e,r,n);c<u;){for(Hu(e,c,u),++c,--u;i(e[c],l)<0;)++c;for(;i(e[u],l)>0;)--u}i(e[r],l)===0?Hu(e,r,u):(++u,Hu(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function Hu(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function eY(e,t,r){if(e=Float64Array.from(YU(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return S5(e);if(t>=1)return w5(e);var n,i=(n-1)*t,l=Math.floor(i),c=w5(vP(e,l).subarray(0,l+1)),u=S5(e.subarray(l+1));return c+(u-c)*(i-l)}}function tY(e,t,r=hP){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,l=Math.floor(i),c=+r(e[l],l,e),u=+r(e[l+1],l+1,e);return c+(u-c)*(i-l)}}function rY(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,l=new Array(i);++n<i;)l[n]=e+n*r;return l}function fa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function rs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const qy=Symbol("implicit");function J1(){var e=new j5,t=[],r=[],n=qy;function i(l){let c=e.get(l);if(c===void 0){if(n!==qy)return n;e.set(l,c=t.push(l)-1)}return r[c%r.length]}return i.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new j5;for(const c of l)e.has(c)||e.set(c,t.push(c)-1);return i},i.range=function(l){return arguments.length?(r=Array.from(l),i):r.slice()},i.unknown=function(l){return arguments.length?(n=l,i):n},i.copy=function(){return J1(t,r).unknown(n)},fa.apply(i,arguments),i}function ej(){var e=J1().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,l,c,u=!1,f=0,m=0,h=.5;delete e.unknown;function x(){var v=t().length,g=i<n,S=g?i:n,y=g?n:i;l=(y-S)/Math.max(1,v-f+m*2),u&&(l=Math.floor(l)),S+=(y-S-l*(v-f))*h,c=l*(1-f),u&&(S=Math.round(S),c=Math.round(c));var N=rY(v).map(function(C){return S+l*C});return r(g?N.reverse():N)}return e.domain=function(v){return arguments.length?(t(v),x()):t()},e.range=function(v){return arguments.length?([n,i]=v,n=+n,i=+i,x()):[n,i]},e.rangeRound=function(v){return[n,i]=v,n=+n,i=+i,u=!0,x()},e.bandwidth=function(){return c},e.step=function(){return l},e.round=function(v){return arguments.length?(u=!!v,x()):u},e.padding=function(v){return arguments.length?(f=Math.min(1,m=+v),x()):f},e.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),x()):f},e.paddingOuter=function(v){return arguments.length?(m=+v,x()):m},e.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),x()):h},e.copy=function(){return ej(t(),[n,i]).round(u).paddingInner(f).paddingOuter(m).align(h)},fa.apply(x(),arguments)}function gP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return gP(t())},e}function nY(){return gP(ej.apply(null,arguments).paddingInner(1))}function tj(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function bP(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function $d(){}var yd=.7,Jp=1/yd,lc="\\s*([+-]?\\d+)\\s*",jd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ti="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",aY=/^#([0-9a-f]{3,8})$/,iY=new RegExp(`^rgb\\(${lc},${lc},${lc}\\)$`),sY=new RegExp(`^rgb\\(${ti},${ti},${ti}\\)$`),lY=new RegExp(`^rgba\\(${lc},${lc},${lc},${jd}\\)$`),oY=new RegExp(`^rgba\\(${ti},${ti},${ti},${jd}\\)$`),cY=new RegExp(`^hsl\\(${jd},${ti},${ti}\\)$`),uY=new RegExp(`^hsla\\(${jd},${ti},${ti},${jd}\\)$`),C5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tj($d,Nd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:k5,formatHex:k5,formatHex8:dY,formatHsl:fY,formatRgb:A5,toString:A5});function k5(){return this.rgb().formatHex()}function dY(){return this.rgb().formatHex8()}function fY(){return yP(this).formatHsl()}function A5(){return this.rgb().formatRgb()}function Nd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=aY.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?M5(t):r===3?new wn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Mm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Mm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=iY.exec(e))?new wn(t[1],t[2],t[3],1):(t=sY.exec(e))?new wn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=lY.exec(e))?Mm(t[1],t[2],t[3],t[4]):(t=oY.exec(e))?Mm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=cY.exec(e))?_5(t[1],t[2]/100,t[3]/100,1):(t=uY.exec(e))?_5(t[1],t[2]/100,t[3]/100,t[4]):C5.hasOwnProperty(e)?M5(C5[e]):e==="transparent"?new wn(NaN,NaN,NaN,0):null}function M5(e){return new wn(e>>16&255,e>>8&255,e&255,1)}function Mm(e,t,r,n){return n<=0&&(e=t=r=NaN),new wn(e,t,r,n)}function mY(e){return e instanceof $d||(e=Nd(e)),e?(e=e.rgb(),new wn(e.r,e.g,e.b,e.opacity)):new wn}function Hy(e,t,r,n){return arguments.length===1?mY(e):new wn(e,t,r,n??1)}function wn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}tj(wn,Hy,bP($d,{brighter(e){return e=e==null?Jp:Math.pow(Jp,e),new wn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?yd:Math.pow(yd,e),new wn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new wn(Hl(this.r),Hl(this.g),Hl(this.b),eh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:D5,formatHex:D5,formatHex8:pY,formatRgb:E5,toString:E5}));function D5(){return`#${Ll(this.r)}${Ll(this.g)}${Ll(this.b)}`}function pY(){return`#${Ll(this.r)}${Ll(this.g)}${Ll(this.b)}${Ll((isNaN(this.opacity)?1:this.opacity)*255)}`}function E5(){const e=eh(this.opacity);return`${e===1?"rgb(":"rgba("}${Hl(this.r)}, ${Hl(this.g)}, ${Hl(this.b)}${e===1?")":`, ${e})`}`}function eh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Hl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ll(e){return e=Hl(e),(e<16?"0":"")+e.toString(16)}function _5(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ja(e,t,r,n)}function yP(e){if(e instanceof ja)return new ja(e.h,e.s,e.l,e.opacity);if(e instanceof $d||(e=Nd(e)),!e)return new ja;if(e instanceof ja)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),l=Math.max(t,r,n),c=NaN,u=l-i,f=(l+i)/2;return u?(t===l?c=(r-n)/u+(r<n)*6:r===l?c=(n-t)/u+2:c=(t-r)/u+4,u/=f<.5?l+i:2-l-i,c*=60):u=f>0&&f<1?0:c,new ja(c,u,f,e.opacity)}function hY(e,t,r,n){return arguments.length===1?yP(e):new ja(e,t,r,n??1)}function ja(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}tj(ja,hY,bP($d,{brighter(e){return e=e==null?Jp:Math.pow(Jp,e),new ja(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?yd:Math.pow(yd,e),new ja(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new wn(db(e>=240?e-240:e+120,i,n),db(e,i,n),db(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new ja(O5(this.h),Dm(this.s),Dm(this.l),eh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=eh(this.opacity);return`${e===1?"hsl(":"hsla("}${O5(this.h)}, ${Dm(this.s)*100}%, ${Dm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function O5(e){return e=(e||0)%360,e<0?e+360:e}function Dm(e){return Math.max(0,Math.min(1,e||0))}function db(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const rj=e=>()=>e;function xY(e,t){return function(r){return e+r*t}}function vY(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function gY(e){return(e=+e)==1?jP:function(t,r){return r-t?vY(t,r,e):rj(isNaN(t)?r:t)}}function jP(e,t){var r=t-e;return r?xY(e,r):rj(isNaN(e)?t:e)}const T5=(function e(t){var r=gY(t);function n(i,l){var c=r((i=Hy(i)).r,(l=Hy(l)).r),u=r(i.g,l.g),f=r(i.b,l.b),m=jP(i.opacity,l.opacity);return function(h){return i.r=c(h),i.g=u(h),i.b=f(h),i.opacity=m(h),i+""}}return n.gamma=e,n})(1);function bY(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(l){for(i=0;i<r;++i)n[i]=e[i]*(1-l)+t[i]*l;return n}}function yY(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function jY(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),l=new Array(r),c;for(c=0;c<n;++c)i[c]=Pc(e[c],t[c]);for(;c<r;++c)l[c]=t[c];return function(u){for(c=0;c<n;++c)l[c]=i[c](u);return l}}function NY(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function th(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function wY(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Pc(e[i],t[i]):n[i]=t[i];return function(l){for(i in r)n[i]=r[i](l);return n}}var Uy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fb=new RegExp(Uy.source,"g");function SY(e){return function(){return e}}function CY(e){return function(t){return e(t)+""}}function kY(e,t){var r=Uy.lastIndex=fb.lastIndex=0,n,i,l,c=-1,u=[],f=[];for(e=e+"",t=t+"";(n=Uy.exec(e))&&(i=fb.exec(t));)(l=i.index)>r&&(l=t.slice(r,l),u[c]?u[c]+=l:u[++c]=l),(n=n[0])===(i=i[0])?u[c]?u[c]+=i:u[++c]=i:(u[++c]=null,f.push({i:c,x:th(n,i)})),r=fb.lastIndex;return r<t.length&&(l=t.slice(r),u[c]?u[c]+=l:u[++c]=l),u.length<2?f[0]?CY(f[0].x):SY(t):(t=f.length,function(m){for(var h=0,x;h<t;++h)u[(x=f[h]).i]=x.x(m);return u.join("")})}function Pc(e,t){var r=typeof t,n;return t==null||r==="boolean"?rj(t):(r==="number"?th:r==="string"?(n=Nd(t))?(t=n,T5):kY:t instanceof Nd?T5:t instanceof Date?NY:yY(t)?bY:Array.isArray(t)?jY:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?wY:th)(e,t)}function nj(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function AY(e,t){t===void 0&&(t=e,e=Pc);for(var r=0,n=t.length-1,i=t[0],l=new Array(n<0?0:n);r<n;)l[r]=e(i,i=t[++r]);return function(c){var u=Math.max(0,Math.min(n-1,Math.floor(c*=n)));return l[u](c-u)}}function MY(e){return function(){return e}}function rh(e){return+e}var P5=[0,1];function ln(e){return e}function Yy(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:MY(isNaN(t)?NaN:.5)}function DY(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function EY(e,t,r){var n=e[0],i=e[1],l=t[0],c=t[1];return i<n?(n=Yy(i,n),l=r(c,l)):(n=Yy(n,i),l=r(l,c)),function(u){return l(n(u))}}function _Y(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),l=new Array(n),c=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<n;)i[c]=Yy(e[c],e[c+1]),l[c]=r(t[c],t[c+1]);return function(u){var f=Bd(e,u,1,n)-1;return l[f](i[f](u))}}function qd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function sx(){var e=P5,t=P5,r=Pc,n,i,l,c=ln,u,f,m;function h(){var v=Math.min(e.length,t.length);return c!==ln&&(c=DY(e[0],e[v-1])),u=v>2?_Y:EY,f=m=null,x}function x(v){return v==null||isNaN(v=+v)?l:(f||(f=u(e.map(n),t,r)))(n(c(v)))}return x.invert=function(v){return c(i((m||(m=u(t,e.map(n),th)))(v)))},x.domain=function(v){return arguments.length?(e=Array.from(v,rh),h()):e.slice()},x.range=function(v){return arguments.length?(t=Array.from(v),h()):t.slice()},x.rangeRound=function(v){return t=Array.from(v),r=nj,h()},x.clamp=function(v){return arguments.length?(c=v?!0:ln,h()):c!==ln},x.interpolate=function(v){return arguments.length?(r=v,h()):r},x.unknown=function(v){return arguments.length?(l=v,x):l},function(v,g){return n=v,i=g,h()}}function aj(){return sx()(ln,ln)}function OY(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function nh(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function xc(e){return e=nh(Math.abs(e)),e?e[1]:NaN}function TY(e,t){return function(r,n){for(var i=r.length,l=[],c=0,u=e[0],f=0;i>0&&u>0&&(f+u+1>n&&(u=Math.max(1,n-f)),l.push(r.substring(i-=u,i+u)),!((f+=u+1)>n));)u=e[c=(c+1)%e.length];return l.reverse().join(t)}}function PY(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var IY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wd(e){if(!(t=IY.exec(e)))throw new Error("invalid format: "+e);var t;return new ij({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}wd.prototype=ij.prototype;function ij(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ij.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function RY(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var ah;function LY(e,t){var r=nh(e,t);if(!r)return ah=void 0,e.toPrecision(t);var n=r[0],i=r[1],l=i-(ah=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,c=n.length;return l===c?n:l>c?n+new Array(l-c+1).join("0"):l>0?n.slice(0,l)+"."+n.slice(l):"0."+new Array(1-l).join("0")+nh(e,Math.max(0,t+l-1))[0]}function I5(e,t){var r=nh(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const R5={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:OY,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>I5(e*100,t),r:I5,s:LY,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function L5(e){return e}var F5=Array.prototype.map,z5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function FY(e){var t=e.grouping===void 0||e.thousands===void 0?L5:TY(F5.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?L5:PY(F5.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function m(x,v){x=wd(x);var g=x.fill,S=x.align,y=x.sign,N=x.symbol,C=x.zero,A=x.width,k=x.comma,M=x.precision,D=x.trim,O=x.type;O==="n"?(k=!0,O="g"):R5[O]||(M===void 0&&(M=12),D=!0,O="g"),(C||g==="0"&&S==="=")&&(C=!0,g="0",S="=");var P=(v&&v.prefix!==void 0?v.prefix:"")+(N==="$"?r:N==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():""),T=(N==="$"?n:/[%p]/.test(O)?c:"")+(v&&v.suffix!==void 0?v.suffix:""),$=R5[O],L=/[defgprs%]/.test(O);M=M===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function q(E){var Z=P,Q=T,re,R,G;if(O==="c")Q=$(E)+Q,E="";else{E=+E;var pe=E<0||1/E<0;if(E=isNaN(E)?f:$(Math.abs(E),M),D&&(E=RY(E)),pe&&+E==0&&y!=="+"&&(pe=!1),Z=(pe?y==="("?y:u:y==="-"||y==="("?"":y)+Z,Q=(O==="s"&&!isNaN(E)&&ah!==void 0?z5[8+ah/3]:"")+Q+(pe&&y==="("?")":""),L){for(re=-1,R=E.length;++re<R;)if(G=E.charCodeAt(re),48>G||G>57){Q=(G===46?i+E.slice(re+1):E.slice(re))+Q,E=E.slice(0,re);break}}}k&&!C&&(E=t(E,1/0));var je=Z.length+E.length+Q.length,we=je<A?new Array(A-je+1).join(g):"";switch(k&&C&&(E=t(we+E,we.length?A-Q.length:1/0),we=""),S){case"<":E=Z+E+Q+we;break;case"=":E=Z+we+E+Q;break;case"^":E=we.slice(0,je=we.length>>1)+Z+E+Q+we.slice(je);break;default:E=we+Z+E+Q;break}return l(E)}return q.toString=function(){return x+""},q}function h(x,v){var g=Math.max(-8,Math.min(8,Math.floor(xc(v)/3)))*3,S=Math.pow(10,-g),y=m((x=wd(x),x.type="f",x),{suffix:z5[8+g/3]});return function(N){return y(S*N)}}return{format:m,formatPrefix:h}}var Em,sj,NP;zY({thousands:",",grouping:[3],currency:["$",""]});function zY(e){return Em=FY(e),sj=Em.format,NP=Em.formatPrefix,Em}function BY(e){return Math.max(0,-xc(Math.abs(e)))}function $Y(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xc(t)/3)))*3-xc(Math.abs(e)))}function qY(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,xc(t)-xc(e))+1}function wP(e,t,r,n){var i=$y(e,t,r),l;switch(n=wd(n??",f"),n.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(l=$Y(i,c))&&(n.precision=l),NP(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(l=qY(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=l-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(l=BY(i))&&(n.precision=l-(n.type==="%")*2);break}}return sj(n)}function Zs(e){var t=e.domain;return e.ticks=function(r){var n=t();return zy(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return wP(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,l=n.length-1,c=n[i],u=n[l],f,m,h=10;for(u<c&&(m=c,c=u,u=m,m=i,i=l,l=m);h-- >0;){if(m=By(c,u,r),m===f)return n[i]=c,n[l]=u,t(n);if(m>0)c=Math.floor(c/m)*m,u=Math.ceil(u/m)*m;else if(m<0)c=Math.ceil(c*m)/m,u=Math.floor(u*m)/m;else break;f=m}return e},e}function SP(){var e=aj();return e.copy=function(){return qd(e,SP())},fa.apply(e,arguments),Zs(e)}function CP(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,rh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return CP(e).unknown(t)},e=arguments.length?Array.from(e,rh):[0,1],Zs(r)}function kP(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],l=e[n],c;return l<i&&(c=r,r=n,n=c,c=i,i=l,l=c),e[r]=t.floor(i),e[n]=t.ceil(l),e}function B5(e){return Math.log(e)}function $5(e){return Math.exp(e)}function HY(e){return-Math.log(-e)}function UY(e){return-Math.exp(-e)}function YY(e){return isFinite(e)?+("1e"+e):e<0?0:e}function VY(e){return e===10?YY:e===Math.E?Math.exp:t=>Math.pow(e,t)}function GY(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function q5(e){return(t,r)=>-e(-t,r)}function lj(e){const t=e(B5,$5),r=t.domain;let n=10,i,l;function c(){return i=GY(n),l=VY(n),r()[0]<0?(i=q5(i),l=q5(l),e(HY,UY)):e(B5,$5),t}return t.base=function(u){return arguments.length?(n=+u,c()):n},t.domain=function(u){return arguments.length?(r(u),c()):r()},t.ticks=u=>{const f=r();let m=f[0],h=f[f.length-1];const x=h<m;x&&([m,h]=[h,m]);let v=i(m),g=i(h),S,y;const N=u==null?10:+u;let C=[];if(!(n%1)&&g-v<N){if(v=Math.floor(v),g=Math.ceil(g),m>0){for(;v<=g;++v)for(S=1;S<n;++S)if(y=v<0?S/l(-v):S*l(v),!(y<m)){if(y>h)break;C.push(y)}}else for(;v<=g;++v)for(S=n-1;S>=1;--S)if(y=v>0?S/l(-v):S*l(v),!(y<m)){if(y>h)break;C.push(y)}C.length*2<N&&(C=zy(m,h,N))}else C=zy(v,g,Math.min(g-v,N)).map(l);return x?C.reverse():C},t.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=n===10?"s":","),typeof f!="function"&&(!(n%1)&&(f=wd(f)).precision==null&&(f.trim=!0),f=sj(f)),u===1/0)return f;const m=Math.max(1,n*u/t.ticks().length);return h=>{let x=h/l(Math.round(i(h)));return x*n<n-.5&&(x*=n),x<=m?f(h):""}},t.nice=()=>r(kP(r(),{floor:u=>l(Math.floor(i(u))),ceil:u=>l(Math.ceil(i(u)))})),t}function AP(){const e=lj(sx()).domain([1,10]);return e.copy=()=>qd(e,AP()).base(e.base()),fa.apply(e,arguments),e}function H5(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function U5(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function oj(e){var t=1,r=e(H5(t),U5(t));return r.constant=function(n){return arguments.length?e(H5(t=+n),U5(t)):t},Zs(r)}function MP(){var e=oj(sx());return e.copy=function(){return qd(e,MP()).constant(e.constant())},fa.apply(e,arguments)}function Y5(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function WY(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function KY(e){return e<0?-e*e:e*e}function cj(e){var t=e(ln,ln),r=1;function n(){return r===1?e(ln,ln):r===.5?e(WY,KY):e(Y5(r),Y5(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Zs(t)}function uj(){var e=cj(sx());return e.copy=function(){return qd(e,uj()).exponent(e.exponent())},fa.apply(e,arguments),e}function QY(){return uj.apply(null,arguments).exponent(.5)}function V5(e){return Math.sign(e)*e*e}function XY(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function DP(){var e=aj(),t=[0,1],r=!1,n;function i(l){var c=XY(e(l));return isNaN(c)?n:r?Math.round(c):c}return i.invert=function(l){return e.invert(V5(l))},i.domain=function(l){return arguments.length?(e.domain(l),i):e.domain()},i.range=function(l){return arguments.length?(e.range((t=Array.from(l,rh)).map(V5)),i):t.slice()},i.rangeRound=function(l){return i.range(l).round(!0)},i.round=function(l){return arguments.length?(r=!!l,i):r},i.clamp=function(l){return arguments.length?(e.clamp(l),i):e.clamp()},i.unknown=function(l){return arguments.length?(n=l,i):n},i.copy=function(){return DP(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},fa.apply(i,arguments),Zs(i)}function EP(){var e=[],t=[],r=[],n;function i(){var c=0,u=Math.max(1,t.length);for(r=new Array(u-1);++c<u;)r[c-1]=tY(e,c/u);return l}function l(c){return c==null||isNaN(c=+c)?n:t[Bd(r,c)]}return l.invertExtent=function(c){var u=t.indexOf(c);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},l.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let u of c)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(zs),i()},l.range=function(c){return arguments.length?(t=Array.from(c),i()):t.slice()},l.unknown=function(c){return arguments.length?(n=c,l):n},l.quantiles=function(){return r.slice()},l.copy=function(){return EP().domain(e).range(t).unknown(n)},fa.apply(l,arguments)}function _P(){var e=0,t=1,r=1,n=[.5],i=[0,1],l;function c(f){return f!=null&&f<=f?i[Bd(n,f,0,r)]:l}function u(){var f=-1;for(n=new Array(r);++f<r;)n[f]=((f+1)*t-(f-r)*e)/(r+1);return c}return c.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,u()):[e,t]},c.range=function(f){return arguments.length?(r=(i=Array.from(f)).length-1,u()):i.slice()},c.invertExtent=function(f){var m=i.indexOf(f);return m<0?[NaN,NaN]:m<1?[e,n[0]]:m>=r?[n[r-1],t]:[n[m-1],n[m]]},c.unknown=function(f){return arguments.length&&(l=f),c},c.thresholds=function(){return n.slice()},c.copy=function(){return _P().domain([e,t]).range(i).unknown(l)},fa.apply(Zs(c),arguments)}function OP(){var e=[.5],t=[0,1],r,n=1;function i(l){return l!=null&&l<=l?t[Bd(e,l,0,n)]:r}return i.domain=function(l){return arguments.length?(e=Array.from(l),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(l){return arguments.length?(t=Array.from(l),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(l){var c=t.indexOf(l);return[e[c-1],e[c]]},i.unknown=function(l){return arguments.length?(r=l,i):r},i.copy=function(){return OP().domain(e).range(t).unknown(r)},fa.apply(i,arguments)}const mb=new Date,pb=new Date;function Rr(e,t,r,n){function i(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return i.floor=l=>(e(l=new Date(+l)),l),i.ceil=l=>(e(l=new Date(l-1)),t(l,1),e(l),l),i.round=l=>{const c=i(l),u=i.ceil(l);return l-c<u-l?c:u},i.offset=(l,c)=>(t(l=new Date(+l),c==null?1:Math.floor(c)),l),i.range=(l,c,u)=>{const f=[];if(l=i.ceil(l),u=u==null?1:Math.floor(u),!(l<c)||!(u>0))return f;let m;do f.push(m=new Date(+l)),t(l,u),e(l);while(m<l&&l<c);return f},i.filter=l=>Rr(c=>{if(c>=c)for(;e(c),!l(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;t(c,-1),!l(c););else for(;--u>=0;)for(;t(c,1),!l(c););}),r&&(i.count=(l,c)=>(mb.setTime(+l),pb.setTime(+c),e(mb),e(pb),Math.floor(r(mb,pb))),i.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?i.filter(n?c=>n(c)%l===0:c=>i.count(0,c)%l===0):i)),i}const ih=Rr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ih.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Rr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ih);ih.range;const Ri=1e3,sa=Ri*60,Li=sa*60,Gi=Li*24,dj=Gi*7,G5=Gi*30,hb=Gi*365,Fl=Rr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ri)},(e,t)=>(t-e)/Ri,e=>e.getUTCSeconds());Fl.range;const fj=Rr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ri)},(e,t)=>{e.setTime(+e+t*sa)},(e,t)=>(t-e)/sa,e=>e.getMinutes());fj.range;const mj=Rr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*sa)},(e,t)=>(t-e)/sa,e=>e.getUTCMinutes());mj.range;const pj=Rr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ri-e.getMinutes()*sa)},(e,t)=>{e.setTime(+e+t*Li)},(e,t)=>(t-e)/Li,e=>e.getHours());pj.range;const hj=Rr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Li)},(e,t)=>(t-e)/Li,e=>e.getUTCHours());hj.range;const Hd=Rr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*sa)/Gi,e=>e.getDate()-1);Hd.range;const lx=Rr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gi,e=>e.getUTCDate()-1);lx.range;const TP=Rr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gi,e=>Math.floor(e/Gi));TP.range;function io(e){return Rr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*sa)/dj)}const ox=io(0),sh=io(1),ZY=io(2),JY=io(3),vc=io(4),eV=io(5),tV=io(6);ox.range;sh.range;ZY.range;JY.range;vc.range;eV.range;tV.range;function so(e){return Rr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/dj)}const cx=so(0),lh=so(1),rV=so(2),nV=so(3),gc=so(4),aV=so(5),iV=so(6);cx.range;lh.range;rV.range;nV.range;gc.range;aV.range;iV.range;const xj=Rr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());xj.range;const vj=Rr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());vj.range;const Wi=Rr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Wi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Rr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Wi.range;const Ki=Rr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ki.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Rr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ki.range;function PP(e,t,r,n,i,l){const c=[[Fl,1,Ri],[Fl,5,5*Ri],[Fl,15,15*Ri],[Fl,30,30*Ri],[l,1,sa],[l,5,5*sa],[l,15,15*sa],[l,30,30*sa],[i,1,Li],[i,3,3*Li],[i,6,6*Li],[i,12,12*Li],[n,1,Gi],[n,2,2*Gi],[r,1,dj],[t,1,G5],[t,3,3*G5],[e,1,hb]];function u(m,h,x){const v=h<m;v&&([m,h]=[h,m]);const g=x&&typeof x.range=="function"?x:f(m,h,x),S=g?g.range(m,+h+1):[];return v?S.reverse():S}function f(m,h,x){const v=Math.abs(h-m)/x,g=Z1(([,,N])=>N).right(c,v);if(g===c.length)return e.every($y(m/hb,h/hb,x));if(g===0)return ih.every(Math.max($y(m,h,x),1));const[S,y]=c[v/c[g-1][2]<c[g][2]/v?g-1:g];return S.every(y)}return[u,f]}const[sV,lV]=PP(Ki,vj,cx,TP,hj,mj),[oV,cV]=PP(Wi,xj,ox,Hd,pj,fj);function xb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function vb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Uu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function uV(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,l=e.days,c=e.shortDays,u=e.months,f=e.shortMonths,m=Yu(i),h=Vu(i),x=Yu(l),v=Vu(l),g=Yu(c),S=Vu(c),y=Yu(u),N=Vu(u),C=Yu(f),A=Vu(f),k={a:G,A:pe,b:je,B:we,c:null,d:J5,e:J5,f:TV,g:HV,G:YV,H:EV,I:_V,j:OV,L:IP,m:PV,M:IV,p:F,q:ue,Q:rM,s:nM,S:RV,u:LV,U:FV,V:zV,w:BV,W:$V,x:null,X:null,y:qV,Y:UV,Z:VV,"%":tM},M={a:J,A:B,b:z,B:U,c:null,d:eM,e:eM,f:QV,g:sG,G:oG,H:GV,I:WV,j:KV,L:LP,m:XV,M:ZV,p:xe,q:Ne,Q:rM,s:nM,S:JV,u:eG,U:tG,V:rG,w:nG,W:aG,x:null,X:null,y:iG,Y:lG,Z:cG,"%":tM},D={a:L,A:q,b:E,B:Z,c:Q,d:X5,e:X5,f:kV,g:Q5,G:K5,H:Z5,I:Z5,j:NV,L:CV,m:jV,M:wV,p:$,q:yV,Q:MV,s:DV,S:SV,u:hV,U:xV,V:vV,w:pV,W:gV,x:re,X:R,y:Q5,Y:K5,Z:bV,"%":AV};k.x=O(r,k),k.X=O(n,k),k.c=O(t,k),M.x=O(r,M),M.X=O(n,M),M.c=O(t,M);function O(ne,Ee){return function(Ce){var oe=[],$e=-1,Ie=0,Re=ne.length,rt,Nt,zt;for(Ce instanceof Date||(Ce=new Date(+Ce));++$e<Re;)ne.charCodeAt($e)===37&&(oe.push(ne.slice(Ie,$e)),(Nt=W5[rt=ne.charAt(++$e)])!=null?rt=ne.charAt(++$e):Nt=rt==="e"?" ":"0",(zt=Ee[rt])&&(rt=zt(Ce,Nt)),oe.push(rt),Ie=$e+1);return oe.push(ne.slice(Ie,$e)),oe.join("")}}function P(ne,Ee){return function(Ce){var oe=Uu(1900,void 0,1),$e=T(oe,ne,Ce+="",0),Ie,Re;if($e!=Ce.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(oe.s*1e3+("L"in oe?oe.L:0));if(Ee&&!("Z"in oe)&&(oe.Z=0),"p"in oe&&(oe.H=oe.H%12+oe.p*12),oe.m===void 0&&(oe.m="q"in oe?oe.q:0),"V"in oe){if(oe.V<1||oe.V>53)return null;"w"in oe||(oe.w=1),"Z"in oe?(Ie=vb(Uu(oe.y,0,1)),Re=Ie.getUTCDay(),Ie=Re>4||Re===0?lh.ceil(Ie):lh(Ie),Ie=lx.offset(Ie,(oe.V-1)*7),oe.y=Ie.getUTCFullYear(),oe.m=Ie.getUTCMonth(),oe.d=Ie.getUTCDate()+(oe.w+6)%7):(Ie=xb(Uu(oe.y,0,1)),Re=Ie.getDay(),Ie=Re>4||Re===0?sh.ceil(Ie):sh(Ie),Ie=Hd.offset(Ie,(oe.V-1)*7),oe.y=Ie.getFullYear(),oe.m=Ie.getMonth(),oe.d=Ie.getDate()+(oe.w+6)%7)}else("W"in oe||"U"in oe)&&("w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),Re="Z"in oe?vb(Uu(oe.y,0,1)).getUTCDay():xb(Uu(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+oe.W*7-(Re+5)%7:oe.w+oe.U*7-(Re+6)%7);return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,vb(oe)):xb(oe)}}function T(ne,Ee,Ce,oe){for(var $e=0,Ie=Ee.length,Re=Ce.length,rt,Nt;$e<Ie;){if(oe>=Re)return-1;if(rt=Ee.charCodeAt($e++),rt===37){if(rt=Ee.charAt($e++),Nt=D[rt in W5?Ee.charAt($e++):rt],!Nt||(oe=Nt(ne,Ce,oe))<0)return-1}else if(rt!=Ce.charCodeAt(oe++))return-1}return oe}function $(ne,Ee,Ce){var oe=m.exec(Ee.slice(Ce));return oe?(ne.p=h.get(oe[0].toLowerCase()),Ce+oe[0].length):-1}function L(ne,Ee,Ce){var oe=g.exec(Ee.slice(Ce));return oe?(ne.w=S.get(oe[0].toLowerCase()),Ce+oe[0].length):-1}function q(ne,Ee,Ce){var oe=x.exec(Ee.slice(Ce));return oe?(ne.w=v.get(oe[0].toLowerCase()),Ce+oe[0].length):-1}function E(ne,Ee,Ce){var oe=C.exec(Ee.slice(Ce));return oe?(ne.m=A.get(oe[0].toLowerCase()),Ce+oe[0].length):-1}function Z(ne,Ee,Ce){var oe=y.exec(Ee.slice(Ce));return oe?(ne.m=N.get(oe[0].toLowerCase()),Ce+oe[0].length):-1}function Q(ne,Ee,Ce){return T(ne,t,Ee,Ce)}function re(ne,Ee,Ce){return T(ne,r,Ee,Ce)}function R(ne,Ee,Ce){return T(ne,n,Ee,Ce)}function G(ne){return c[ne.getDay()]}function pe(ne){return l[ne.getDay()]}function je(ne){return f[ne.getMonth()]}function we(ne){return u[ne.getMonth()]}function F(ne){return i[+(ne.getHours()>=12)]}function ue(ne){return 1+~~(ne.getMonth()/3)}function J(ne){return c[ne.getUTCDay()]}function B(ne){return l[ne.getUTCDay()]}function z(ne){return f[ne.getUTCMonth()]}function U(ne){return u[ne.getUTCMonth()]}function xe(ne){return i[+(ne.getUTCHours()>=12)]}function Ne(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var Ee=O(ne+="",k);return Ee.toString=function(){return ne},Ee},parse:function(ne){var Ee=P(ne+="",!1);return Ee.toString=function(){return ne},Ee},utcFormat:function(ne){var Ee=O(ne+="",M);return Ee.toString=function(){return ne},Ee},utcParse:function(ne){var Ee=P(ne+="",!0);return Ee.toString=function(){return ne},Ee}}}var W5={"-":"",_:" ",0:"0"},qr=/^\s*\d+/,dV=/^%/,fV=/[\\^$*+?|[\]().{}]/g;function Ct(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",l=i.length;return n+(l<r?new Array(r-l+1).join(t)+i:i)}function mV(e){return e.replace(fV,"\\$&")}function Yu(e){return new RegExp("^(?:"+e.map(mV).join("|")+")","i")}function Vu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function pV(e,t,r){var n=qr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function hV(e,t,r){var n=qr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function xV(e,t,r){var n=qr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function vV(e,t,r){var n=qr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function gV(e,t,r){var n=qr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function K5(e,t,r){var n=qr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Q5(e,t,r){var n=qr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function bV(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function yV(e,t,r){var n=qr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function jV(e,t,r){var n=qr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function X5(e,t,r){var n=qr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function NV(e,t,r){var n=qr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Z5(e,t,r){var n=qr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function wV(e,t,r){var n=qr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function SV(e,t,r){var n=qr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function CV(e,t,r){var n=qr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function kV(e,t,r){var n=qr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function AV(e,t,r){var n=dV.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function MV(e,t,r){var n=qr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function DV(e,t,r){var n=qr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function J5(e,t){return Ct(e.getDate(),t,2)}function EV(e,t){return Ct(e.getHours(),t,2)}function _V(e,t){return Ct(e.getHours()%12||12,t,2)}function OV(e,t){return Ct(1+Hd.count(Wi(e),e),t,3)}function IP(e,t){return Ct(e.getMilliseconds(),t,3)}function TV(e,t){return IP(e,t)+"000"}function PV(e,t){return Ct(e.getMonth()+1,t,2)}function IV(e,t){return Ct(e.getMinutes(),t,2)}function RV(e,t){return Ct(e.getSeconds(),t,2)}function LV(e){var t=e.getDay();return t===0?7:t}function FV(e,t){return Ct(ox.count(Wi(e)-1,e),t,2)}function RP(e){var t=e.getDay();return t>=4||t===0?vc(e):vc.ceil(e)}function zV(e,t){return e=RP(e),Ct(vc.count(Wi(e),e)+(Wi(e).getDay()===4),t,2)}function BV(e){return e.getDay()}function $V(e,t){return Ct(sh.count(Wi(e)-1,e),t,2)}function qV(e,t){return Ct(e.getFullYear()%100,t,2)}function HV(e,t){return e=RP(e),Ct(e.getFullYear()%100,t,2)}function UV(e,t){return Ct(e.getFullYear()%1e4,t,4)}function YV(e,t){var r=e.getDay();return e=r>=4||r===0?vc(e):vc.ceil(e),Ct(e.getFullYear()%1e4,t,4)}function VV(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ct(t/60|0,"0",2)+Ct(t%60,"0",2)}function eM(e,t){return Ct(e.getUTCDate(),t,2)}function GV(e,t){return Ct(e.getUTCHours(),t,2)}function WV(e,t){return Ct(e.getUTCHours()%12||12,t,2)}function KV(e,t){return Ct(1+lx.count(Ki(e),e),t,3)}function LP(e,t){return Ct(e.getUTCMilliseconds(),t,3)}function QV(e,t){return LP(e,t)+"000"}function XV(e,t){return Ct(e.getUTCMonth()+1,t,2)}function ZV(e,t){return Ct(e.getUTCMinutes(),t,2)}function JV(e,t){return Ct(e.getUTCSeconds(),t,2)}function eG(e){var t=e.getUTCDay();return t===0?7:t}function tG(e,t){return Ct(cx.count(Ki(e)-1,e),t,2)}function FP(e){var t=e.getUTCDay();return t>=4||t===0?gc(e):gc.ceil(e)}function rG(e,t){return e=FP(e),Ct(gc.count(Ki(e),e)+(Ki(e).getUTCDay()===4),t,2)}function nG(e){return e.getUTCDay()}function aG(e,t){return Ct(lh.count(Ki(e)-1,e),t,2)}function iG(e,t){return Ct(e.getUTCFullYear()%100,t,2)}function sG(e,t){return e=FP(e),Ct(e.getUTCFullYear()%100,t,2)}function lG(e,t){return Ct(e.getUTCFullYear()%1e4,t,4)}function oG(e,t){var r=e.getUTCDay();return e=r>=4||r===0?gc(e):gc.ceil(e),Ct(e.getUTCFullYear()%1e4,t,4)}function cG(){return"+0000"}function tM(){return"%"}function rM(e){return+e}function nM(e){return Math.floor(+e/1e3)}var Yo,zP,BP;uG({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function uG(e){return Yo=uV(e),zP=Yo.format,Yo.parse,BP=Yo.utcFormat,Yo.utcParse,Yo}function dG(e){return new Date(e)}function fG(e){return e instanceof Date?+e:+new Date(+e)}function gj(e,t,r,n,i,l,c,u,f,m){var h=aj(),x=h.invert,v=h.domain,g=m(".%L"),S=m(":%S"),y=m("%I:%M"),N=m("%I %p"),C=m("%a %d"),A=m("%b %d"),k=m("%B"),M=m("%Y");function D(O){return(f(O)<O?g:u(O)<O?S:c(O)<O?y:l(O)<O?N:n(O)<O?i(O)<O?C:A:r(O)<O?k:M)(O)}return h.invert=function(O){return new Date(x(O))},h.domain=function(O){return arguments.length?v(Array.from(O,fG)):v().map(dG)},h.ticks=function(O){var P=v();return e(P[0],P[P.length-1],O??10)},h.tickFormat=function(O,P){return P==null?D:m(P)},h.nice=function(O){var P=v();return(!O||typeof O.range!="function")&&(O=t(P[0],P[P.length-1],O??10)),O?v(kP(P,O)):h},h.copy=function(){return qd(h,gj(e,t,r,n,i,l,c,u,f,m))},h}function mG(){return fa.apply(gj(oV,cV,Wi,xj,ox,Hd,pj,fj,Fl,zP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function pG(){return fa.apply(gj(sV,lV,Ki,vj,cx,lx,hj,mj,Fl,BP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ux(){var e=0,t=1,r,n,i,l,c=ln,u=!1,f;function m(x){return x==null||isNaN(x=+x)?f:c(i===0?.5:(x=(l(x)-r)*i,u?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t]=x,r=l(e=+e),n=l(t=+t),i=r===n?0:1/(n-r),m):[e,t]},m.clamp=function(x){return arguments.length?(u=!!x,m):u},m.interpolator=function(x){return arguments.length?(c=x,m):c};function h(x){return function(v){var g,S;return arguments.length?([g,S]=v,c=x(g,S),m):[c(0),c(1)]}}return m.range=h(Pc),m.rangeRound=h(nj),m.unknown=function(x){return arguments.length?(f=x,m):f},function(x){return l=x,r=x(e),n=x(t),i=r===n?0:1/(n-r),m}}function Js(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function $P(){var e=Zs(ux()(ln));return e.copy=function(){return Js(e,$P())},rs.apply(e,arguments)}function qP(){var e=lj(ux()).domain([1,10]);return e.copy=function(){return Js(e,qP()).base(e.base())},rs.apply(e,arguments)}function HP(){var e=oj(ux());return e.copy=function(){return Js(e,HP()).constant(e.constant())},rs.apply(e,arguments)}function bj(){var e=cj(ux());return e.copy=function(){return Js(e,bj()).exponent(e.exponent())},rs.apply(e,arguments)}function hG(){return bj.apply(null,arguments).exponent(.5)}function UP(){var e=[],t=ln;function r(n){if(n!=null&&!isNaN(n=+n))return t((Bd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(zs),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,l)=>eY(e,l/n))},r.copy=function(){return UP(t).domain(e)},rs.apply(r,arguments)}function dx(){var e=0,t=.5,r=1,n=1,i,l,c,u,f,m=ln,h,x=!1,v;function g(y){return isNaN(y=+y)?v:(y=.5+((y=+h(y))-l)*(n*y<n*l?u:f),m(x?Math.max(0,Math.min(1,y)):y))}g.domain=function(y){return arguments.length?([e,t,r]=y,i=h(e=+e),l=h(t=+t),c=h(r=+r),u=i===l?0:.5/(l-i),f=l===c?0:.5/(c-l),n=l<i?-1:1,g):[e,t,r]},g.clamp=function(y){return arguments.length?(x=!!y,g):x},g.interpolator=function(y){return arguments.length?(m=y,g):m};function S(y){return function(N){var C,A,k;return arguments.length?([C,A,k]=N,m=AY(y,[C,A,k]),g):[m(0),m(.5),m(1)]}}return g.range=S(Pc),g.rangeRound=S(nj),g.unknown=function(y){return arguments.length?(v=y,g):v},function(y){return h=y,i=y(e),l=y(t),c=y(r),u=i===l?0:.5/(l-i),f=l===c?0:.5/(c-l),n=l<i?-1:1,g}}function YP(){var e=Zs(dx()(ln));return e.copy=function(){return Js(e,YP())},rs.apply(e,arguments)}function VP(){var e=lj(dx()).domain([.1,1,10]);return e.copy=function(){return Js(e,VP()).base(e.base())},rs.apply(e,arguments)}function GP(){var e=oj(dx());return e.copy=function(){return Js(e,GP()).constant(e.constant())},rs.apply(e,arguments)}function yj(){var e=cj(dx());return e.copy=function(){return Js(e,yj()).exponent(e.exponent())},rs.apply(e,arguments)}function xG(){return yj.apply(null,arguments).exponent(.5)}const id=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ej,scaleDiverging:YP,scaleDivergingLog:VP,scaleDivergingPow:yj,scaleDivergingSqrt:xG,scaleDivergingSymlog:GP,scaleIdentity:CP,scaleImplicit:qy,scaleLinear:SP,scaleLog:AP,scaleOrdinal:J1,scalePoint:nY,scalePow:uj,scaleQuantile:EP,scaleQuantize:_P,scaleRadial:DP,scaleSequential:$P,scaleSequentialLog:qP,scaleSequentialPow:bj,scaleSequentialQuantile:UP,scaleSequentialSqrt:hG,scaleSequentialSymlog:HP,scaleSqrt:QY,scaleSymlog:MP,scaleThreshold:OP,scaleTime:mG,scaleUtc:pG,tickFormat:wP},Symbol.toStringTag,{value:"Module"}));var el=e=>e.chartData,jj=ce([el],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),WP=(e,t,r,n)=>n?jj(e):el(e);function Qi(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Ft(t)&&Ft(r))return!0}return!1}function aM(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function KP(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,l;if(Ft(r))i=r;else if(typeof r=="function")return;if(Ft(n))l=n;else if(typeof n=="function")return;var c=[i,l];if(Qi(c))return c}}function vG(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Qi(n))return aM(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,l]=e,c,u;if(i==="auto")t!=null&&(c=Math.min(...t));else if(at(i))c=i;else if(typeof i=="function")try{t!=null&&(c=i(t?.[0]))}catch{}else if(typeof i=="string"&&pA.test(i)){var f=pA.exec(i);if(f==null||f[1]==null||t==null)c=void 0;else{var m=+f[1];c=t[0]-m}}else c=t?.[0];if(l==="auto")t!=null&&(u=Math.max(...t));else if(at(l))u=l;else if(typeof l=="function")try{t!=null&&(u=l(t?.[1]))}catch{}else if(typeof l=="string"&&hA.test(l)){var h=hA.exec(l);if(h==null||h[1]==null||t==null)u=void 0;else{var x=+h[1];u=t[1]+x}}else u=t?.[1];var v=[c,u];if(Qi(v))return t==null?v:aM(v,t,r)}}}var Ic=1e9,gG={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},wj,nr=!0,ca="[DecimalError] ",Ul=ca+"Invalid argument: ",Nj=ca+"Exponent out of range: ",Rc=Math.floor,_l=Math.pow,bG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Fn,zr=1e7,Kt=7,QP=9007199254740991,oh=Rc(QP/Kt),qe={};qe.absoluteValue=qe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};qe.comparedTo=qe.cmp=function(e){var t,r,n,i,l=this;if(e=new l.constructor(e),l.s!==e.s)return l.s||-e.s;if(l.e!==e.e)return l.e>e.e^l.s<0?1:-1;for(n=l.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(l.d[t]!==e.d[t])return l.d[t]>e.d[t]^l.s<0?1:-1;return n===i?0:n>i^l.s<0?1:-1};qe.decimalPlaces=qe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Kt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};qe.dividedBy=qe.div=function(e){return Bi(this,new this.constructor(e))};qe.dividedToIntegerBy=qe.idiv=function(e){var t=this,r=t.constructor;return qt(Bi(t,new r(e),0,1),r.precision)};qe.equals=qe.eq=function(e){return!this.cmp(e)};qe.exponent=function(){return _r(this)};qe.greaterThan=qe.gt=function(e){return this.cmp(e)>0};qe.greaterThanOrEqualTo=qe.gte=function(e){return this.cmp(e)>=0};qe.isInteger=qe.isint=function(){return this.e>this.d.length-2};qe.isNegative=qe.isneg=function(){return this.s<0};qe.isPositive=qe.ispos=function(){return this.s>0};qe.isZero=function(){return this.s===0};qe.lessThan=qe.lt=function(e){return this.cmp(e)<0};qe.lessThanOrEqualTo=qe.lte=function(e){return this.cmp(e)<1};qe.logarithm=qe.log=function(e){var t,r=this,n=r.constructor,i=n.precision,l=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Fn))throw Error(ca+"NaN");if(r.s<1)throw Error(ca+(r.s?"NaN":"-Infinity"));return r.eq(Fn)?new n(0):(nr=!1,t=Bi(Sd(r,l),Sd(e,l),l),nr=!0,qt(t,i))};qe.minus=qe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?JP(t,e):XP(t,(e.s=-e.s,e))};qe.modulo=qe.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(ca+"NaN");return r.s?(nr=!1,t=Bi(r,e,0,1).times(e),nr=!0,r.minus(t)):qt(new n(r),i)};qe.naturalExponential=qe.exp=function(){return ZP(this)};qe.naturalLogarithm=qe.ln=function(){return Sd(this)};qe.negated=qe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};qe.plus=qe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?XP(t,e):JP(t,(e.s=-e.s,e))};qe.precision=qe.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ul+e);if(t=_r(i)+1,n=i.d.length-1,r=n*Kt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};qe.squareRoot=qe.sqrt=function(){var e,t,r,n,i,l,c,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(ca+"NaN")}for(e=_r(u),nr=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=Xa(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Rc((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new f(t)):n=new f(i.toString()),r=f.precision,i=c=r+3;;)if(l=n,n=l.plus(Bi(u,l,c+2)).times(.5),Xa(l.d).slice(0,c)===(t=Xa(n.d)).slice(0,c)){if(t=t.slice(c-3,c+1),i==c&&t=="4999"){if(qt(l,r+1,0),l.times(l).eq(u)){n=l;break}}else if(t!="9999")break;c+=4}return nr=!0,qt(n,r)};qe.times=qe.mul=function(e){var t,r,n,i,l,c,u,f,m,h=this,x=h.constructor,v=h.d,g=(e=new x(e)).d;if(!h.s||!e.s)return new x(0);for(e.s*=h.s,r=h.e+e.e,f=v.length,m=g.length,f<m&&(l=v,v=g,g=l,c=f,f=m,m=c),l=[],c=f+m,n=c;n--;)l.push(0);for(n=m;--n>=0;){for(t=0,i=f+n;i>n;)u=l[i]+g[n]*v[i-n-1]+t,l[i--]=u%zr|0,t=u/zr|0;l[i]=(l[i]+t)%zr|0}for(;!l[--c];)l.pop();return t?++r:l.shift(),e.d=l,e.e=r,nr?qt(e,x.precision):e};qe.toDecimalPlaces=qe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ii(e,0,Ic),t===void 0?t=n.rounding:ii(t,0,8),qt(r,e+_r(r)+1,t))};qe.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=to(n,!0):(ii(e,0,Ic),t===void 0?t=i.rounding:ii(t,0,8),n=qt(new i(n),e+1,t),r=to(n,!0,e+1)),r};qe.toFixed=function(e,t){var r,n,i=this,l=i.constructor;return e===void 0?to(i):(ii(e,0,Ic),t===void 0?t=l.rounding:ii(t,0,8),n=qt(new l(i),e+_r(i)+1,t),r=to(n.abs(),!1,e+_r(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};qe.toInteger=qe.toint=function(){var e=this,t=e.constructor;return qt(new t(e),_r(e)+1,t.rounding)};qe.toNumber=function(){return+this};qe.toPower=qe.pow=function(e){var t,r,n,i,l,c,u=this,f=u.constructor,m=12,h=+(e=new f(e));if(!e.s)return new f(Fn);if(u=new f(u),!u.s){if(e.s<1)throw Error(ca+"Infinity");return u}if(u.eq(Fn))return u;if(n=f.precision,e.eq(Fn))return qt(u,n);if(t=e.e,r=e.d.length-1,c=t>=r,l=u.s,c){if((r=h<0?-h:h)<=QP){for(i=new f(Fn),t=Math.ceil(n/Kt+4),nr=!1;r%2&&(i=i.times(u),sM(i.d,t)),r=Rc(r/2),r!==0;)u=u.times(u),sM(u.d,t);return nr=!0,e.s<0?new f(Fn).div(i):qt(i,n)}}else if(l<0)throw Error(ca+"NaN");return l=l<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,nr=!1,i=e.times(Sd(u,n+m)),nr=!0,i=ZP(i),i.s=l,i};qe.toPrecision=function(e,t){var r,n,i=this,l=i.constructor;return e===void 0?(r=_r(i),n=to(i,r<=l.toExpNeg||r>=l.toExpPos)):(ii(e,1,Ic),t===void 0?t=l.rounding:ii(t,0,8),i=qt(new l(i),e,t),r=_r(i),n=to(i,e<=r||r<=l.toExpNeg,e)),n};qe.toSignificantDigits=qe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ii(e,1,Ic),t===void 0?t=n.rounding:ii(t,0,8)),qt(new n(r),e,t)};qe.toString=qe.valueOf=qe.val=qe.toJSON=qe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=_r(e),r=e.constructor;return to(e,t<=r.toExpNeg||t>=r.toExpPos)};function XP(e,t){var r,n,i,l,c,u,f,m,h=e.constructor,x=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),nr?qt(t,x):t;if(f=e.d,m=t.d,c=e.e,i=t.e,f=f.slice(),l=c-i,l){for(l<0?(n=f,l=-l,u=m.length):(n=m,i=c,u=f.length),c=Math.ceil(x/Kt),u=c>u?c+1:u+1,l>u&&(l=u,n.length=1),n.reverse();l--;)n.push(0);n.reverse()}for(u=f.length,l=m.length,u-l<0&&(l=u,n=m,m=f,f=n),r=0;l;)r=(f[--l]=f[l]+m[l]+r)/zr|0,f[l]%=zr;for(r&&(f.unshift(r),++i),u=f.length;f[--u]==0;)f.pop();return t.d=f,t.e=i,nr?qt(t,x):t}function ii(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ul+e)}function Xa(e){var t,r,n,i=e.length-1,l="",c=e[0];if(i>0){for(l+=c,t=1;t<i;t++)n=e[t]+"",r=Kt-n.length,r&&(l+=Is(r)),l+=n;c=e[t],n=c+"",r=Kt-n.length,r&&(l+=Is(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return l+c}var Bi=(function(){function e(n,i){var l,c=0,u=n.length;for(n=n.slice();u--;)l=n[u]*i+c,n[u]=l%zr|0,c=l/zr|0;return c&&n.unshift(c),n}function t(n,i,l,c){var u,f;if(l!=c)f=l>c?1:-1;else for(u=f=0;u<l;u++)if(n[u]!=i[u]){f=n[u]>i[u]?1:-1;break}return f}function r(n,i,l){for(var c=0;l--;)n[l]-=c,c=n[l]<i[l]?1:0,n[l]=c*zr+n[l]-i[l];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,l,c){var u,f,m,h,x,v,g,S,y,N,C,A,k,M,D,O,P,T,$=n.constructor,L=n.s==i.s?1:-1,q=n.d,E=i.d;if(!n.s)return new $(n);if(!i.s)throw Error(ca+"Division by zero");for(f=n.e-i.e,P=E.length,D=q.length,g=new $(L),S=g.d=[],m=0;E[m]==(q[m]||0);)++m;if(E[m]>(q[m]||0)&&--f,l==null?A=l=$.precision:c?A=l+(_r(n)-_r(i))+1:A=l,A<0)return new $(0);if(A=A/Kt+2|0,m=0,P==1)for(h=0,E=E[0],A++;(m<D||h)&&A--;m++)k=h*zr+(q[m]||0),S[m]=k/E|0,h=k%E|0;else{for(h=zr/(E[0]+1)|0,h>1&&(E=e(E,h),q=e(q,h),P=E.length,D=q.length),M=P,y=q.slice(0,P),N=y.length;N<P;)y[N++]=0;T=E.slice(),T.unshift(0),O=E[0],E[1]>=zr/2&&++O;do h=0,u=t(E,y,P,N),u<0?(C=y[0],P!=N&&(C=C*zr+(y[1]||0)),h=C/O|0,h>1?(h>=zr&&(h=zr-1),x=e(E,h),v=x.length,N=y.length,u=t(x,y,v,N),u==1&&(h--,r(x,P<v?T:E,v))):(h==0&&(u=h=1),x=E.slice()),v=x.length,v<N&&x.unshift(0),r(y,x,N),u==-1&&(N=y.length,u=t(E,y,P,N),u<1&&(h++,r(y,P<N?T:E,N))),N=y.length):u===0&&(h++,y=[0]),S[m++]=h,u&&y[0]?y[N++]=q[M]||0:(y=[q[M]],N=1);while((M++<D||y[0]!==void 0)&&A--)}return S[0]||S.shift(),g.e=f,qt(g,c?l+_r(g)+1:l)}})();function ZP(e,t){var r,n,i,l,c,u,f=0,m=0,h=e.constructor,x=h.precision;if(_r(e)>16)throw Error(Nj+_r(e));if(!e.s)return new h(Fn);for(nr=!1,u=x,c=new h(.03125);e.abs().gte(.1);)e=e.times(c),m+=5;for(n=Math.log(_l(2,m))/Math.LN10*2+5|0,u+=n,r=i=l=new h(Fn),h.precision=u;;){if(i=qt(i.times(e),u),r=r.times(++f),c=l.plus(Bi(i,r,u)),Xa(c.d).slice(0,u)===Xa(l.d).slice(0,u)){for(;m--;)l=qt(l.times(l),u);return h.precision=x,t==null?(nr=!0,qt(l,x)):l}l=c}}function _r(e){for(var t=e.e*Kt,r=e.d[0];r>=10;r/=10)t++;return t}function gb(e,t,r){if(t>e.LN10.sd())throw nr=!0,r&&(e.precision=r),Error(ca+"LN10 precision limit exceeded");return qt(new e(e.LN10),t)}function Is(e){for(var t="";e--;)t+="0";return t}function Sd(e,t){var r,n,i,l,c,u,f,m,h,x=1,v=10,g=e,S=g.d,y=g.constructor,N=y.precision;if(g.s<1)throw Error(ca+(g.s?"NaN":"-Infinity"));if(g.eq(Fn))return new y(0);if(t==null?(nr=!1,m=N):m=t,g.eq(10))return t==null&&(nr=!0),gb(y,m);if(m+=v,y.precision=m,r=Xa(S),n=r.charAt(0),l=_r(g),Math.abs(l)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(e),r=Xa(g.d),n=r.charAt(0),x++;l=_r(g),n>1?(g=new y("0."+r),l++):g=new y(n+"."+r.slice(1))}else return f=gb(y,m+2,N).times(l+""),g=Sd(new y(n+"."+r.slice(1)),m-v).plus(f),y.precision=N,t==null?(nr=!0,qt(g,N)):g;for(u=c=g=Bi(g.minus(Fn),g.plus(Fn),m),h=qt(g.times(g),m),i=3;;){if(c=qt(c.times(h),m),f=u.plus(Bi(c,new y(i),m)),Xa(f.d).slice(0,m)===Xa(u.d).slice(0,m))return u=u.times(2),l!==0&&(u=u.plus(gb(y,m+2,N).times(l+""))),u=Bi(u,new y(x),m),y.precision=N,t==null?(nr=!0,qt(u,N)):u;u=f,i+=2}}function iM(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Rc(r/Kt),e.d=[],n=(r+1)%Kt,r<0&&(n+=Kt),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Kt;n<i;)e.d.push(+t.slice(n,n+=Kt));t=t.slice(n),n=Kt-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),nr&&(e.e>oh||e.e<-oh))throw Error(Nj+r)}else e.s=0,e.e=0,e.d=[0];return e}function qt(e,t,r){var n,i,l,c,u,f,m,h,x=e.d;for(c=1,l=x[0];l>=10;l/=10)c++;if(n=t-c,n<0)n+=Kt,i=t,m=x[h=0];else{if(h=Math.ceil((n+1)/Kt),l=x.length,h>=l)return e;for(m=l=x[h],c=1;l>=10;l/=10)c++;n%=Kt,i=n-Kt+c}if(r!==void 0&&(l=_l(10,c-i-1),u=m/l%10|0,f=t<0||x[h+1]!==void 0||m%l,f=r<4?(u||f)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||f||r==6&&(n>0?i>0?m/_l(10,c-i):0:x[h-1])%10&1||r==(e.s<0?8:7))),t<1||!x[0])return f?(l=_r(e),x.length=1,t=t-l-1,x[0]=_l(10,(Kt-t%Kt)%Kt),e.e=Rc(-t/Kt)||0):(x.length=1,x[0]=e.e=e.s=0),e;if(n==0?(x.length=h,l=1,h--):(x.length=h+1,l=_l(10,Kt-n),x[h]=i>0?(m/_l(10,c-i)%_l(10,i)|0)*l:0),f)for(;;)if(h==0){(x[0]+=l)==zr&&(x[0]=1,++e.e);break}else{if(x[h]+=l,x[h]!=zr)break;x[h--]=0,l=1}for(n=x.length;x[--n]===0;)x.pop();if(nr&&(e.e>oh||e.e<-oh))throw Error(Nj+_r(e));return e}function JP(e,t){var r,n,i,l,c,u,f,m,h,x,v=e.constructor,g=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),nr?qt(t,g):t;if(f=e.d,x=t.d,n=t.e,m=e.e,f=f.slice(),c=m-n,c){for(h=c<0,h?(r=f,c=-c,u=x.length):(r=x,n=m,u=f.length),i=Math.max(Math.ceil(g/Kt),u)+2,c>i&&(c=i,r.length=1),r.reverse(),i=c;i--;)r.push(0);r.reverse()}else{for(i=f.length,u=x.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(f[i]!=x[i]){h=f[i]<x[i];break}c=0}for(h&&(r=f,f=x,x=r,t.s=-t.s),u=f.length,i=x.length-u;i>0;--i)f[u++]=0;for(i=x.length;i>c;){if(f[--i]<x[i]){for(l=i;l&&f[--l]===0;)f[l]=zr-1;--f[l],f[i]+=zr}f[i]-=x[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(t.d=f,t.e=n,nr?qt(t,g):t):new v(0)}function to(e,t,r){var n,i=_r(e),l=Xa(e.d),c=l.length;return t?(r&&(n=r-c)>0?l=l.charAt(0)+"."+l.slice(1)+Is(n):c>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(i<0?"e":"e+")+i):i<0?(l="0."+Is(-i-1)+l,r&&(n=r-c)>0&&(l+=Is(n))):i>=c?(l+=Is(i+1-c),r&&(n=r-i-1)>0&&(l=l+"."+Is(n))):((n=i+1)<c&&(l=l.slice(0,n)+"."+l.slice(n)),r&&(n=r-c)>0&&(i+1===c&&(l+="."),l+=Is(n))),e.s<0?"-"+l:l}function sM(e,t){if(e.length>t)return e.length=t,!0}function e3(e){var t,r,n;function i(l){var c=this;if(!(c instanceof i))return new i(l);if(c.constructor=i,l instanceof i){c.s=l.s,c.e=l.e,c.d=(l=l.d)?l.slice():l;return}if(typeof l=="number"){if(l*0!==0)throw Error(Ul+l);if(l>0)c.s=1;else if(l<0)l=-l,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(l===~~l&&l<1e7){c.e=0,c.d=[l];return}return iM(c,l.toString())}else if(typeof l!="string")throw Error(Ul+l);if(l.charCodeAt(0)===45?(l=l.slice(1),c.s=-1):c.s=1,bG.test(l))iM(c,l);else throw Error(Ul+l)}if(i.prototype=qe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e3,i.config=i.set=yG,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function yG(e){if(!e||typeof e!="object")throw Error(ca+"Object expected");var t,r,n,i=["precision",1,Ic,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Rc(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Ul+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ul+r+": "+n);return this}var wj=e3(gG);Fn=new wj(1);const Ot=wj;function t3(e){var t;return e===0?t=1:t=Math.floor(new Ot(e).abs().log(10).toNumber())+1,t}function r3(e,t,r){for(var n=new Ot(e),i=0,l=[];n.lt(t)&&i<1e5;)l.push(n.toNumber()),n=n.add(r),i++;return l}var n3=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},a3=(e,t,r)=>{if(e.lte(0))return new Ot(0);var n=t3(e.toNumber()),i=new Ot(10).pow(n),l=e.div(i),c=n!==1?.05:.1,u=new Ot(Math.ceil(l.div(c).toNumber())).add(r).mul(c),f=u.mul(i);return t?new Ot(f.toNumber()):new Ot(Math.ceil(f.toNumber()))},jG=(e,t,r)=>{var n=new Ot(1),i=new Ot(e);if(!i.isint()&&r){var l=Math.abs(e);l<1?(n=new Ot(10).pow(t3(e)-1),i=new Ot(Math.floor(i.div(n).toNumber())).mul(n)):l>1&&(i=new Ot(Math.floor(e)))}else e===0?i=new Ot(Math.floor((t-1)/2)):r||(i=new Ot(Math.floor(e)));for(var c=Math.floor((t-1)/2),u=[],f=0;f<t;f++)u.push(i.add(new Ot(f-c).mul(n)).toNumber());return u},i3=function(t,r,n,i){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ot(0),tickMin:new Ot(0),tickMax:new Ot(0)};var c=a3(new Ot(r).sub(t).div(n-1),i,l),u;t<=0&&r>=0?u=new Ot(0):(u=new Ot(t).add(r).div(2),u=u.sub(new Ot(u).mod(c)));var f=Math.ceil(u.sub(t).div(c).toNumber()),m=Math.ceil(new Ot(r).sub(u).div(c).toNumber()),h=f+m+1;return h>n?i3(t,r,n,i,l+1):(h<n&&(m=r>0?m+(n-h):m,f=r>0?f:f+(n-h)),{step:c,tickMin:u.sub(new Ot(f).mul(c)),tickMax:u.add(new Ot(m).mul(c))})},NG=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(i,2),[u,f]=n3([r,n]);if(u===-1/0||f===1/0){var m=f===1/0?[u,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),f];return r>n?m.reverse():m}if(u===f)return jG(u,i,l);var{step:h,tickMin:x,tickMax:v}=i3(u,f,c,l,0),g=r3(x,v.add(new Ot(.1).mul(h)),h);return r>n?g.reverse():g},wG=function(t,r){var[n,i]=t,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,u]=n3([n,i]);if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var f=Math.max(r,2),m=a3(new Ot(u).sub(c).div(f-1),l,0),h=[...r3(new Ot(c),new Ot(u),m),u];return l===!1&&(h=h.map(x=>Math.round(x))),n>i?h.reverse():h},SG=e=>e.rootProps.barCategoryGap,Ud=e=>e.rootProps.stackOffset,s3=e=>e.rootProps.reverseStackOrder,Sj=e=>e.options.chartName,Cj=e=>e.rootProps.syncId,l3=e=>e.rootProps.syncMethod,kj=e=>e.options.eventEmitter,Na={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},kl={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},qa={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},fx=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function o3(e,t,r){if(r!=="auto")return r;if(e!=null)return Qs(e,t)?"category":"number"}function lM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ch(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lM(Object(r),!0).forEach(function(n){CG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CG(e,t,r){return(t=kG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kG(e){var t=AG(e,"string");return typeof t=="symbol"?t:t+""}function AG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oM={allowDataOverflow:kl.allowDataOverflow,allowDecimals:kl.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:kl.angleAxisId,includeHidden:!1,name:void 0,reversed:kl.reversed,scale:kl.scale,tick:kl.tick,tickCount:void 0,ticks:void 0,type:kl.type,unit:void 0},cM={allowDataOverflow:qa.allowDataOverflow,allowDecimals:qa.allowDecimals,allowDuplicatedCategory:qa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:qa.radiusAxisId,includeHidden:qa.includeHidden,name:void 0,reversed:qa.reversed,scale:qa.scale,tick:qa.tick,tickCount:qa.tickCount,ticks:void 0,type:qa.type,unit:void 0},MG=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},Aj=ce([MG,QT],(e,t)=>{var r;if(e!=null)return e;var n=(r=o3(t,"angleAxis",oM.type))!==null&&r!==void 0?r:"category";return ch(ch({},oM),{},{type:n})}),DG=(e,t)=>e.polarAxis.radiusAxis[t],Mj=ce([DG,QT],(e,t)=>{var r;if(e!=null)return e;var n=(r=o3(t,"radiusAxis",cM.type))!==null&&r!==void 0?r:"category";return ch(ch({},cM),{},{type:n})}),mx=e=>e.polarOptions,Dj=ce([es,ts,$r],uP),c3=ce([mx,Dj],(e,t)=>{if(e!=null)return Bn(e.innerRadius,t,0)}),u3=ce([mx,Dj],(e,t)=>{if(e!=null)return Bn(e.outerRadius,t,t*.8)}),EG=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},d3=ce([mx],EG);ce([Aj,d3],fx);var f3=ce([Dj,c3,u3],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ce([Mj,f3],fx);var m3=ce([ir,mx,c3,u3,es,ts],(e,t,r,n,i,l)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:c,cy:u,startAngle:f,endAngle:m}=t;return{cx:Bn(c,i,i/2),cy:Bn(u,l,l/2),innerRadius:r,outerRadius:n,startAngle:f,endAngle:m,clockWise:!1}}}),or=(e,t)=>t,Yd=(e,t,r)=>r;function p3(e){return e?.id}function h3(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:l}=r,c=new Map;return e.forEach(u=>{var f,m=(f=u.data)!==null&&f!==void 0?f:n;if(!(m==null||m.length===0)){var h=p3(u);m.forEach((x,v)=>{var g=l==null||i?v:String(hr(x,l,null)),S=hr(x,u.dataKey,0),y;c.has(g)?y=c.get(g):y={},Object.assign(y,{[h]:S}),c.set(g,y)})}}),Array.from(c.values())}function Ej(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var px=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function hx(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function _G(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Hr=e=>{var t=ir(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Lc=e=>e.tooltip.settings.axisId;function OG(e){if(e in id)return id[e]();var t="scale".concat(Td(e));if(t in id)return id[t]()}function uM(e){var t=e.ticks,r=e.bandwidth,n=e.range(),i=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:(function(l){function c(){return l.apply(this,arguments)}return c.toString=function(){return l.toString()},c})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(l){var c=i[0],u=i[1];return c<=u?l>=c&&l<=u:l>=u&&l<=c},bandwidth:r?()=>r.call(e):void 0,ticks:t?l=>t.call(e,l):void 0,map:(l,c)=>{var u=e(l);if(u!=null){if(e.bandwidth&&c!==null&&c!==void 0&&c.position){var f=e.bandwidth();switch(c.position){case"middle":u+=f/2;break;case"end":u+=f;break}}return u}}}}function dM(e,t,r){if(typeof e=="function")return uM(e.copy().domain(t).range(r));if(e!=null){var n=OG(e);if(n!=null)return n.domain(t).range(r),uM(n)}}var x3=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Qi(t)){for(var r,n,i=0;i<t.length;i++){var l=t[i];Ft(l)&&((r===void 0||l<r)&&(r=l),(n===void 0||l>n)&&(n=l))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function fM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fM(Object(r),!0).forEach(function(n){TG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TG(e,t,r){return(t=PG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PG(e){var t=IG(e,"string");return typeof t=="symbol"?t:t+""}function IG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vy=[0,"auto"],RG={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},LG=(e,t)=>e.cartesianAxis.xAxis[t],tl=(e,t)=>{var r=LG(e,t);return r??RG},FG={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Vy,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ld},zG=(e,t)=>e.cartesianAxis.yAxis[t],rl=(e,t)=>{var r=zG(e,t);return r??FG},BG={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},_j=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??BG},vr=(e,t,r)=>{switch(t){case"xAxis":return tl(e,r);case"yAxis":return rl(e,r);case"zAxis":return _j(e,r);case"angleAxis":return Aj(e,r);case"radiusAxis":return Mj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},$G=(e,t,r)=>{switch(t){case"xAxis":return tl(e,r);case"yAxis":return rl(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Fc=(e,t,r)=>{switch(t){case"xAxis":return tl(e,r);case"yAxis":return rl(e,r);case"angleAxis":return Aj(e,r);case"radiusAxis":return Mj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},v3=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Oj(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var qG=e=>e.graphicalItems.cartesianItems,HG=ce([or,Yd],Oj),Tj=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Vd=ce([qG,vr,HG],Tj,{memoizeOptions:{resultEqualityCheck:hx}}),g3=ce([Vd],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Ej)),b3=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),UG=ce([Vd],b3),Pj=e=>e.map(t=>t.data).filter(Boolean).flat(1),YG=ce([Vd],Pj,{memoizeOptions:{resultEqualityCheck:hx}}),Ij=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},Rj=ce([YG,WP],Ij),Lj=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:hr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:hr(i,n)}))):e.map(n=>({value:n})),xx=ce([Rj,vr,Vd],Lj);function y3(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function mp(e){if(Yi(e)||e instanceof Date){var t=Number(e);if(Ft(t))return t}}function mM(e){if(Array.isArray(e)){var t=[mp(e[0]),mp(e[1])];return Qi(t)?t:void 0}var r=mp(e);if(r!=null)return[r,r]}function Xi(e){return e.map(mp).filter(Ka)}function VG(e,t,r){return!r||typeof t!="number"||Ui(t)?[]:r.length?Xi(r.flatMap(n=>{var i=hr(e,n.dataKey),l,c;if(Array.isArray(i)?[l,c]=i:l=c=i,!(!Ft(l)||!Ft(c)))return[t-l,t+c]})):[]}var Lr=e=>{var t=Hr(e),r=Lc(e);return Fc(e,t,r)},Gd=ce([Lr],e=>e?.dataKey),GG=ce([g3,WP,Lr],h3),j3=(e,t,r,n)=>{var i={},l=t.reduce((c,u)=>{if(u.stackId==null)return c;var f=c[u.stackId];return f==null&&(f=[]),f.push(u),c[u.stackId]=f,c},i);return Object.fromEntries(Object.entries(l).map(c=>{var[u,f]=c,m=n?[...f].reverse():f,h=m.map(p3);return[u,{stackedData:j7(e,h,r),graphicalItems:m}]}))},WG=ce([GG,g3,Ud,s3],j3),N3=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:l}=t;if(n==null&&r!=="zAxis"){var c=S7(e,i,l);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},KG=ce([vr],e=>e.allowDataOverflow),Fj=e=>{var t;if(e==null||!("domain"in e))return Vy;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Xi(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Vy},zj=ce([vr],Fj),Bj=ce([zj,KG],KP),QG=ce([WG,el,or,Bj],N3,{memoizeOptions:{resultEqualityCheck:px}}),vx=e=>e.errorBars,XG=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>y3(r,n)),dh=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var l=i.flat(),c=Math.min(...l),u=Math.max(...l);return[c,u]}},$j=(e,t,r,n,i)=>{var l,c;if(r.length>0&&e.forEach(u=>{r.forEach(f=>{var m,h,x=(m=n[f.id])===null||m===void 0?void 0:m.filter(C=>y3(i,C)),v=hr(u,(h=t.dataKey)!==null&&h!==void 0?h:f.dataKey),g=VG(u,v,x);if(g.length>=2){var S=Math.min(...g),y=Math.max(...g);(l==null||S<l)&&(l=S),(c==null||y>c)&&(c=y)}var N=mM(v);N!=null&&(l=l==null?N[0]:Math.min(l,N[0]),c=c==null?N[1]:Math.max(c,N[1]))})}),t?.dataKey!=null&&e.forEach(u=>{var f=mM(hr(u,t.dataKey));f!=null&&(l=l==null?f[0]:Math.min(l,f[0]),c=c==null?f[1]:Math.max(c,f[1]))}),Ft(l)&&Ft(c))return[l,c]},ZG=ce([Rj,vr,UG,vx,or],$j,{memoizeOptions:{resultEqualityCheck:px}});function JG(e){var{value:t}=e;if(Yi(t)||t instanceof Date)return t}var eW=(e,t,r)=>{var n=e.map(JG).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&XO(n))?pP(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},w3=e=>e.referenceElements.dots,zc=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),tW=ce([w3,or,Yd],zc),S3=e=>e.referenceElements.areas,rW=ce([S3,or,Yd],zc),C3=e=>e.referenceElements.lines,nW=ce([C3,or,Yd],zc),k3=(e,t)=>{if(e!=null){var r=Xi(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},aW=ce(tW,or,k3),A3=(e,t)=>{if(e!=null){var r=Xi(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},iW=ce([rW,or],A3);function sW(e){var t;if(e.x!=null)return Xi([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Xi(r)}function lW(e){var t;if(e.y!=null)return Xi([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Xi(r)}var M3=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?sW(n):lW(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},oW=ce([nW,or],M3),cW=ce(aW,oW,iW,(e,t,r)=>dh(e,r,t)),qj=(e,t,r,n,i,l,c,u)=>{if(r!=null)return r;var f=c==="vertical"&&u==="xAxis"||c==="horizontal"&&u==="yAxis",m=f?dh(n,l,i):dh(l,i);return vG(t,m,e.allowDataOverflow)},uW=ce([vr,zj,Bj,QG,ZG,cW,ir,or],qj,{memoizeOptions:{resultEqualityCheck:px}}),dW=[0,1],Hj=(e,t,r,n,i,l,c)=>{if(!((e==null||r==null||r.length===0)&&c===void 0)){var{dataKey:u,type:f}=e,m=Qs(t,l);if(m&&u==null){var h;return pP(0,(h=r?.length)!==null&&h!==void 0?h:0)}return f==="category"?eW(n,e,m):i==="expand"?dW:c}},Uj=ce([vr,ir,Rj,xx,Ud,or,uW],Hj);function fW(e){return e in id}var D3=(e,t,r)=>{if(e!=null){var{scale:n,type:i}=e;if(n==="auto")return i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof n=="string"){var l="scale".concat(Td(n));return fW(l)?l:"point"}}},nl=ce([vr,v3,Sj],D3);function Yj(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?dM(e.scale,r,n):dM(t,r,n)}var Vj=(e,t,r)=>{var n=Fj(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Qi(e))return NG(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Qi(e))return wG(e,t.tickCount,t.allowDecimals)}},Gj=ce([Uj,Fc,nl],Vj),Wj=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Qi(t)&&Array.isArray(r)&&r.length>0){var i,l,c=t[0],u=(i=r[0])!==null&&i!==void 0?i:0,f=t[1],m=(l=r[r.length-1])!==null&&l!==void 0?l:0;return[Math.min(c,u),Math.max(f,m)]}return t},mW=ce([vr,Uj,Gj,or],Wj),pW=ce(xx,vr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Xi(e.map(x=>x.value))).sort((x,v)=>x-v),i=n[0],l=n[n.length-1];if(i==null||l==null)return 1/0;var c=l-i;if(c===0)return 1/0;for(var u=0;u<n.length-1;u++){var f=n[u],m=n[u+1];if(!(f==null||m==null)){var h=m-f;r=Math.min(r,h)}}return r/c}}),E3=ce(pW,ir,SG,$r,(e,t,r,n,i)=>i,(e,t,r,n,i)=>{if(!Ft(e))return 0;var l=t==="vertical"?n.height:n.width;if(i==="gap")return e*l/2;if(i==="no-gap"){var c=Bn(r,e*l),u=e*l/2;return u-c-(u-c)/l*c}return 0}),hW=(e,t,r)=>{var n=tl(e,t);return n==null||typeof n.padding!="string"?0:E3(e,"xAxis",t,r,n.padding)},xW=(e,t,r)=>{var n=rl(e,t);return n==null||typeof n.padding!="string"?0:E3(e,"yAxis",t,r,n.padding)},vW=ce(tl,hW,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),gW=ce(rl,xW,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),bW=ce([$r,vW,ex,Jh,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:l}=n;return i?[l.left,r.width-l.right]:[e.left+t.left,e.left+e.width-t.right]}),yW=ce([$r,ir,gW,ex,Jh,(e,t,r)=>r],(e,t,r,n,i,l)=>{var{padding:c}=i;return l?[n.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Wd=(e,t,r,n)=>{var i;switch(t){case"xAxis":return bW(e,r,n);case"yAxis":return yW(e,r,n);case"zAxis":return(i=_j(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return d3(e);case"radiusAxis":return f3(e,r);default:return}},_3=ce([vr,Wd],fx),jW=ce([nl,mW],x3),gx=ce([vr,nl,jW,_3],Yj);ce([Vd,vx,or],XG);function O3(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var bx=(e,t)=>t,yx=(e,t,r)=>r,NW=ce(Xh,bx,yx,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(O3)),wW=ce(Zh,bx,yx,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(O3)),T3=(e,t)=>({width:e.width,height:t.height}),SW=(e,t)=>{var r=typeof t.width=="number"?t.width:Ld;return{width:r,height:e.height}};ce($r,tl,T3);var CW=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},kW=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},AW=ce(ts,$r,NW,bx,yx,(e,t,r,n,i)=>{var l={},c;return r.forEach(u=>{var f=T3(t,u);c==null&&(c=CW(t,n,e));var m=n==="top"&&!i||n==="bottom"&&i;l[u.id]=c-Number(m)*f.height,c+=(m?-1:1)*f.height}),l}),MW=ce(es,$r,wW,bx,yx,(e,t,r,n,i)=>{var l={},c;return r.forEach(u=>{var f=SW(t,u);c==null&&(c=kW(t,n,e));var m=n==="left"&&!i||n==="right"&&i;l[u.id]=c-Number(m)*f.width,c+=(m?-1:1)*f.width}),l}),DW=(e,t)=>{var r=tl(e,t);if(r!=null)return AW(e,r.orientation,r.mirror)};ce([$r,tl,DW,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}});var EW=(e,t)=>{var r=rl(e,t);if(r!=null)return MW(e,r.orientation,r.mirror)};ce([$r,rl,EW,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}});ce($r,rl,(e,t)=>{var r=typeof t.width=="number"?t.width:Ld;return{width:r,height:e.height}});var P3=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:l,dataKey:c}=r,u=Qs(e,n),f=t.map(m=>m.value);if(c&&u&&l==="category"&&i&&XO(f))return f}},Kj=ce([ir,xx,vr,or],P3),I3=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:l}=r,c=Qs(e,n);if(c&&(i==="number"||l!=="auto"))return t.map(u=>u.value)}},Qj=ce([ir,xx,Fc,or],I3);ce([ir,$G,nl,gx,Kj,Qj,Wd,Gj,or],(e,t,r,n,i,l,c,u,f)=>{if(t!=null){var m=Qs(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:l,duplicateDomain:i,isCategorical:m,niceTicks:u,range:c,realScaleType:r,scale:n}}});var _W=(e,t,r,n,i,l,c,u,f)=>{if(!(t==null||n==null)){var m=Qs(e,f),{type:h,ticks:x,tickCount:v}=t,g=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,S=h==="category"&&n.bandwidth?n.bandwidth()/g:0;S=f==="angleAxis"&&l!=null&&l.length>=2?Nn(l[0]-l[1])*2*S:S;var y=x||i;return y?y.map((N,C)=>{var A=c?c.indexOf(N):N,k=n.map(A);return Ft(k)?{index:C,coordinate:k+S,value:N,offset:S}:null}).filter(Ka):m&&u?u.map((N,C)=>{var A=n.map(N);return Ft(A)?{coordinate:A+S,value:N,index:C,offset:S}:null}).filter(Ka):n.ticks?n.ticks(v).map((N,C)=>{var A=n.map(N);return Ft(A)?{coordinate:A+S,value:N,index:C,offset:S}:null}).filter(Ka):n.domain().map((N,C)=>{var A=n.map(N);return Ft(A)?{coordinate:A+S,value:c?c[N]:N,index:C,offset:S}:null}).filter(Ka)}};ce([ir,Fc,nl,gx,Gj,Wd,Kj,Qj,or],_W);var OW=(e,t,r,n,i,l,c)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var u=Qs(e,c),{tickCount:f}=t,m=0;return m=c==="angleAxis"&&n?.length>=2?Nn(n[0]-n[1])*2*m:m,u&&l?l.map((h,x)=>{var v=r.map(h);return Ft(v)?{coordinate:v+m,value:h,index:x,offset:m}:null}).filter(Ka):r.ticks?r.ticks(f).map((h,x)=>{var v=r.map(h);return Ft(v)?{coordinate:v+m,value:h,index:x,offset:m}:null}).filter(Ka):r.domain().map((h,x)=>{var v=r.map(h);return Ft(v)?{coordinate:v+m,value:i?i[h]:h,index:x,offset:m}:null}).filter(Ka)}};ce([ir,Fc,gx,Wd,Kj,Qj,or],OW);ce(vr,gx,(e,t)=>{if(!(e==null||t==null))return uh(uh({},e),{},{scale:t})});var TW=ce([vr,nl,Uj,_3],Yj);ce((e,t,r)=>_j(e,r),TW,(e,t)=>{if(!(e==null||t==null))return uh(uh({},e),{},{scale:t})});var PW=ce([ir,Xh,Zh],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),R3=e=>e.options.defaultTooltipEventType,L3=e=>e.options.validateTooltipEventTypes;function F3(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Xj(e,t){var r=R3(e),n=L3(e);return F3(t,r,n)}function IW(e){return ct(t=>Xj(t,e))}var z3=(e,t)=>{var r,n=Number(t);if(!(Ui(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},RW=e=>e.tooltip.settings,Rs={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},LW={itemInteraction:{click:Rs,hover:Rs},axisInteraction:{click:Rs,hover:Rs},keyboardInteraction:Rs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},B3=Cn({name:"tooltip",initialState:LW,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:rr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=wa(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:rr()},removeTooltipEntrySettings:{reducer(e,t){var r=wa(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:rr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:FW,replaceTooltipEntrySettings:zW,removeTooltipEntrySettings:BW,setTooltipSettingsState:$W,setActiveMouseOverItemIndex:$3,mouseLeaveItem:qW,mouseLeaveChart:q3,setActiveClickItemIndex:HW,setMouseOverAxisIndex:H3,setMouseClickAxisIndex:UW,setSyncInteraction:Gy,setKeyboardInteraction:Wy}=B3.actions,YW=B3.reducer;function pM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _m(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pM(Object(r),!0).forEach(function(n){VW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VW(e,t,r){return(t=GW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GW(e){var t=WW(e,"string");return typeof t=="symbol"?t:t+""}function WW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KW(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function QW(e){return e.index!=null}var U3=(e,t,r,n)=>{if(t==null)return Rs;var i=KW(e,t,r);if(i==null)return Rs;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var l=e.settings.active===!0;if(QW(i)){if(l)return _m(_m({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return _m(_m({},Rs),{},{coordinate:i.coordinate})};function XW(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function ZW(e,t){var r=XW(e),n=t[0],i=t[1];if(r===void 0)return!1;var l=Math.min(n,i),c=Math.max(n,i);return r>=l&&r<=c}function JW(e,t,r){if(r==null||t==null)return!0;var n=hr(e,t);return n==null||!Qi(r)?!0:ZW(n,r)}var Zj=(e,t,r,n)=>{var i=e?.index;if(i==null)return null;var l=Number(i);if(!Ft(l))return i;var c=0,u=1/0;t.length>0&&(u=t.length-1);var f=Math.max(c,Math.min(l,u)),m=t[f];return m==null||JW(m,r,n)?String(f):null},Y3=(e,t,r,n,i,l,c)=>{if(l!=null){var u=c[0],f=u?.getPosition(l);if(f!=null)return f;var m=i?.[Number(l)];if(m)return r==="horizontal"?{x:m.coordinate,y:(n.top+t)/2}:{x:(n.left+e)/2,y:m.coordinate}}},V3=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&n!=null){var l=e.tooltipItemPayloads[0];return l!=null?[l]:[]}return e.tooltipItemPayloads.filter(c=>{var u;return((u=c.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},G3=e=>e.options.tooltipPayloadSearcher,Bc=e=>e.tooltip;function hM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hM(Object(r),!0).forEach(function(n){eK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eK(e,t,r){return(t=tK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tK(e){var t=rK(e,"string");return typeof t=="symbol"?t:t+""}function rK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nK(e,t){return e??t}var W3=(e,t,r,n,i,l,c)=>{if(!(t==null||l==null)){var{chartData:u,computedData:f,dataStartIndex:m,dataEndIndex:h}=r,x=[];return e.reduce((v,g)=>{var S,{dataDefinedOnItem:y,settings:N}=g,C=nK(y,u),A=Array.isArray(C)?qT(C,m,h):C,k=(S=N?.dataKey)!==null&&S!==void 0?S:n,M=N?.nameKey,D;if(n&&Array.isArray(A)&&!Array.isArray(A[0])&&c==="axis"?D=t9(A,n,i):D=l(A,t,f,M),Array.isArray(D))D.forEach(P=>{var T=xM(xM({},N),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});v.push(vA({tooltipEntrySettings:T,dataKey:P.dataKey,payload:P.payload,value:hr(P.payload,P.dataKey),name:P.name}))});else{var O;v.push(vA({tooltipEntrySettings:N,dataKey:k,payload:D,value:hr(D,k),name:(O=hr(D,M))!==null&&O!==void 0?O:N?.name}))}return v},x)}},Jj=ce([Lr,v3,Sj],D3),aK=ce([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),iK=ce([Hr,Lc],Oj),$c=ce([aK,Lr,iK],Tj,{memoizeOptions:{resultEqualityCheck:hx}}),sK=ce([$c],e=>e.filter(Ej)),lK=ce([$c],Pj,{memoizeOptions:{resultEqualityCheck:hx}}),qc=ce([lK,el],Ij),oK=ce([sK,el,Lr],h3),eN=ce([qc,Lr,$c],Lj),K3=ce([Lr],Fj),cK=ce([Lr],e=>e.allowDataOverflow),Q3=ce([K3,cK],KP),uK=ce([$c],e=>e.filter(Ej)),dK=ce([oK,uK,Ud,s3],j3),fK=ce([dK,el,Hr,Q3],N3),mK=ce([$c],b3),pK=ce([qc,Lr,mK,vx,Hr],$j,{memoizeOptions:{resultEqualityCheck:px}}),hK=ce([w3,Hr,Lc],zc),xK=ce([hK,Hr],k3),vK=ce([S3,Hr,Lc],zc),gK=ce([vK,Hr],A3),bK=ce([C3,Hr,Lc],zc),yK=ce([bK,Hr],M3),jK=ce([xK,yK,gK],dh),NK=ce([Lr,K3,Q3,fK,pK,jK,ir,Hr],qj),Kd=ce([Lr,ir,qc,eN,Ud,Hr,NK],Hj),wK=ce([Kd,Lr,Jj],Vj),SK=ce([Lr,Kd,wK,Hr],Wj),X3=e=>{var t=Hr(e),r=Lc(e),n=!1;return Wd(e,t,r,n)},Z3=ce([Lr,X3],fx),J3=ce([Lr,Jj,SK,Z3],Yj),CK=ce([ir,eN,Lr,Hr],P3),kK=ce([ir,eN,Lr,Hr],I3),AK=(e,t,r,n,i,l,c,u)=>{if(t){var{type:f}=t,m=Qs(e,u);if(n){var h=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,x=f==="category"&&n.bandwidth?n.bandwidth()/h:0;return x=u==="angleAxis"&&i!=null&&i?.length>=2?Nn(i[0]-i[1])*2*x:x,m&&c?c.map((v,g)=>{var S=n.map(v);return Ft(S)?{coordinate:S+x,value:v,index:g,offset:x}:null}).filter(Ka):n.domain().map((v,g)=>{var S=n.map(v);return Ft(S)?{coordinate:S+x,value:l?l[v]:v,index:g,offset:x}:null}).filter(Ka)}}},ns=ce([ir,Lr,Jj,J3,X3,CK,kK,Hr],AK),tN=ce([R3,L3,RW],(e,t,r)=>F3(r.shared,e,t)),e4=e=>e.tooltip.settings.trigger,rN=e=>e.tooltip.settings.defaultIndex,Qd=ce([Bc,tN,e4,rN],U3),Cd=ce([Qd,qc,Gd,Kd],Zj),t4=ce([ns,Cd],z3),r4=ce([Qd],e=>{if(e)return e.dataKey}),MK=ce([Qd],e=>{if(e)return e.graphicalItemId}),n4=ce([Bc,tN,e4,rN],V3),DK=ce([es,ts,ir,$r,ns,rN,n4],Y3),EK=ce([Qd,DK],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),_K=ce([Qd],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),OK=ce([n4,Cd,el,Gd,t4,G3,tN],W3);ce([OK],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function vM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vM(Object(r),!0).forEach(function(n){TK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TK(e,t,r){return(t=PK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PK(e){var t=IK(e,"string");return typeof t=="symbol"?t:t+""}function IK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RK=()=>ct(Lr),LK=()=>{var e=RK(),t=ct(ns),r=ct(J3);return xA(!e||!r?void 0:gM(gM({},e),{},{scale:r}),t)};function bM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bM(Object(r),!0).forEach(function(n){FK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FK(e,t,r){return(t=zK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zK(e){var t=BK(e,"string");return typeof t=="symbol"?t:t+""}function BK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $K=(e,t,r,n)=>{var i=t.find(l=>l&&l.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},qK=(e,t,r,n)=>{var i=t.find(m=>m&&m.index===r);if(i){if(e==="centric"){var l=i.coordinate,{radius:c}=n;return Vo(Vo(Vo({},n),Er(n.cx,n.cy,c,l)),{},{angle:l,radius:c})}var u=i.coordinate,{angle:f}=n;return Vo(Vo(Vo({},n),Er(n.cx,n.cy,u,f)),{},{angle:f,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function HK(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var a4=(e,t,r,n,i)=>{var l,c=(l=t?.length)!==null&&l!==void 0?l:0;if(c<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<c;u++){var f,m,h,x,v,g=u>0?(f=r[u-1])===null||f===void 0?void 0:f.coordinate:(m=r[c-1])===null||m===void 0?void 0:m.coordinate,S=(h=r[u])===null||h===void 0?void 0:h.coordinate,y=u>=c-1?(x=r[0])===null||x===void 0?void 0:x.coordinate:(v=r[u+1])===null||v===void 0?void 0:v.coordinate,N=void 0;if(!(g==null||S==null||y==null))if(Nn(S-g)!==Nn(y-S)){var C=[];if(Nn(y-S)===Nn(i[1]-i[0])){N=y;var A=S+i[1]-i[0];C[0]=Math.min(A,(A+g)/2),C[1]=Math.max(A,(A+g)/2)}else{N=g;var k=y+i[1]-i[0];C[0]=Math.min(S,(k+S)/2),C[1]=Math.max(S,(k+S)/2)}var M=[Math.min(S,(N+S)/2),Math.max(S,(N+S)/2)];if(e>M[0]&&e<=M[1]||e>=C[0]&&e<=C[1]){var D;return(D=r[u])===null||D===void 0?void 0:D.index}}else{var O=Math.min(g,y),P=Math.max(g,y);if(e>(O+S)/2&&e<=(P+S)/2){var T;return(T=r[u])===null||T===void 0?void 0:T.index}}}else if(t)for(var $=0;$<c;$++){var L=t[$];if(L!=null){var q=t[$+1],E=t[$-1];if($===0&&q!=null&&e<=(L.coordinate+q.coordinate)/2||$===c-1&&E!=null&&e>(L.coordinate+E.coordinate)/2||$>0&&$<c-1&&E!=null&&q!=null&&e>(L.coordinate+E.coordinate)/2&&e<=(L.coordinate+q.coordinate)/2)return L.index}}return-1},UK=()=>ct(Sj),nN=(e,t)=>t,i4=(e,t,r)=>r,aN=(e,t,r,n)=>n,YK=ce(ns,e=>$h(e,t=>t.coordinate)),iN=ce([Bc,nN,i4,aN],U3),sN=ce([iN,qc,Gd,Kd],Zj),VK=(e,t,r)=>{if(t!=null){var n=Bc(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},s4=ce([Bc,nN,i4,aN],V3),fh=ce([es,ts,ir,$r,ns,aN,s4],Y3),GK=ce([iN,fh],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),l4=ce([ns,sN],z3),WK=ce([s4,sN,el,Gd,l4,G3,nN],W3),KK=ce([iN,sN],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),QK=(e,t,r,n,i,l,c)=>{if(!(!e||!r||!n||!i)&&HK(e,c)){var u=C7(e,t),f=a4(u,l,i,r,n),m=$K(t,i,f,e);return{activeIndex:String(f),activeCoordinate:m}}},XK=(e,t,r,n,i,l,c)=>{if(!(!e||!n||!i||!l||!r)){var u=TU(e,r);if(u){var f=k7(u,t),m=a4(f,c,l,n,i),h=qK(t,l,m,u);return{activeIndex:String(m),activeCoordinate:h}}}},ZK=(e,t,r,n,i,l,c,u)=>{if(!(!e||!t||!n||!i||!l))return t==="horizontal"||t==="vertical"?QK(e,t,n,i,l,c,u):XK(e,t,r,n,i,l,c)},JK=ce(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),eQ=ce(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Na)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:_G}});function yM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yM(Object(r),!0).forEach(function(n){tQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tQ(e,t,r){return(t=rQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rQ(e){var t=nQ(e,"string");return typeof t=="symbol"?t:t+""}function nQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aQ={},iQ={zIndexMap:Object.values(Na).reduce((e,t)=>jM(jM({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),aQ)},sQ=new Set(Object.values(Na));function lQ(e){return sQ.has(e)}var o4=Cn({name:"zIndex",initialState:iQ,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:rr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!lQ(r)&&delete e.zIndexMap[r])},prepare:rr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:rr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:rr()}}}),{registerZIndexPortal:oQ,unregisterZIndexPortal:cQ,registerZIndexPortalElement:uQ,unregisterZIndexPortalElement:dQ}=o4.actions,fQ=o4.reducer;function Xd(e){var{zIndex:t,children:r}=e,n=iH(),i=n&&t!==void 0&&t!==0,l=Xs(),c=Ir();j.useLayoutEffect(()=>i?(c(oQ({zIndex:t})),()=>{c(cQ({zIndex:t}))}):Pd,[c,t,i]);var u=ct(f=>JK(f,t,l));return i?u?_c.createPortal(r,u):null:r}function Ky(){return Ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ky.apply(null,arguments)}function NM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Om(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NM(Object(r),!0).forEach(function(n){mQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mQ(e,t,r){return(t=pQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pQ(e){var t=hQ(e,"string");return typeof t=="symbol"?t:t+""}function hQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xQ(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return j.isValidElement(t)?j.cloneElement(t,n):j.createElement(r,n)}function vQ(e){var t,{coordinate:r,payload:n,index:i,offset:l,tooltipAxisBandSize:c,layout:u,cursor:f,tooltipEventType:m,chartName:h}=e,x=r,v=n,g=i;if(!f||!x||h!=="ScatterChart"&&m!=="axis")return null;var S,y,N;if(h==="ScatterChart")S=x,y=GH,N=Na.cursorLine;else if(h==="BarChart")S=WH(u,x,l,c),y=cP,N=Na.cursorRectangle;else if(u==="radial"&&eT(x)){var{cx:C,cy:A,radius:k,startAngle:M,endAngle:D}=dP(x);S={cx:C,cy:A,startAngle:M,endAngle:D,innerRadius:k,outerRadius:k},y=mP,N=Na.cursorLine}else S={points:LU(u,x,l)},y=W1,N=Na.cursorLine;var O=typeof f=="object"&&"className"in f?f.className:void 0,P=Om(Om(Om(Om({stroke:"#ccc",pointerEvents:"none"},l),S),oy(f)),{},{payload:v,payloadIndex:g,className:dt("recharts-tooltip-cursor",O)});return j.createElement(Xd,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:N},j.createElement(xQ,{cursor:f,cursorComp:y,cursorProps:P}))}function gQ(e){var t=LK(),r=rH(),n=rx(),i=UK();return t==null||r==null||n==null||i==null?null:j.createElement(vQ,Ky({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var c4=j.createContext(null),bQ=()=>j.useContext(c4),bb={exports:{}},wM;function yQ(){return wM||(wM=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(f,m,h){this.fn=f,this.context=m,this.once=h||!1}function l(f,m,h,x,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var g=new i(h,x||f,v),S=r?r+m:m;return f._events[S]?f._events[S].fn?f._events[S]=[f._events[S],g]:f._events[S].push(g):(f._events[S]=g,f._eventsCount++),f}function c(f,m){--f._eventsCount===0?f._events=new n:delete f._events[m]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var m=[],h,x;if(this._eventsCount===0)return m;for(x in h=this._events)t.call(h,x)&&m.push(r?x.slice(1):x);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(h)):m},u.prototype.listeners=function(m){var h=r?r+m:m,x=this._events[h];if(!x)return[];if(x.fn)return[x.fn];for(var v=0,g=x.length,S=new Array(g);v<g;v++)S[v]=x[v].fn;return S},u.prototype.listenerCount=function(m){var h=r?r+m:m,x=this._events[h];return x?x.fn?1:x.length:0},u.prototype.emit=function(m,h,x,v,g,S){var y=r?r+m:m;if(!this._events[y])return!1;var N=this._events[y],C=arguments.length,A,k;if(N.fn){switch(N.once&&this.removeListener(m,N.fn,void 0,!0),C){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,h),!0;case 3:return N.fn.call(N.context,h,x),!0;case 4:return N.fn.call(N.context,h,x,v),!0;case 5:return N.fn.call(N.context,h,x,v,g),!0;case 6:return N.fn.call(N.context,h,x,v,g,S),!0}for(k=1,A=new Array(C-1);k<C;k++)A[k-1]=arguments[k];N.fn.apply(N.context,A)}else{var M=N.length,D;for(k=0;k<M;k++)switch(N[k].once&&this.removeListener(m,N[k].fn,void 0,!0),C){case 1:N[k].fn.call(N[k].context);break;case 2:N[k].fn.call(N[k].context,h);break;case 3:N[k].fn.call(N[k].context,h,x);break;case 4:N[k].fn.call(N[k].context,h,x,v);break;default:if(!A)for(D=1,A=new Array(C-1);D<C;D++)A[D-1]=arguments[D];N[k].fn.apply(N[k].context,A)}}return!0},u.prototype.on=function(m,h,x){return l(this,m,h,x,!1)},u.prototype.once=function(m,h,x){return l(this,m,h,x,!0)},u.prototype.removeListener=function(m,h,x,v){var g=r?r+m:m;if(!this._events[g])return this;if(!h)return c(this,g),this;var S=this._events[g];if(S.fn)S.fn===h&&(!v||S.once)&&(!x||S.context===x)&&c(this,g);else{for(var y=0,N=[],C=S.length;y<C;y++)(S[y].fn!==h||v&&!S[y].once||x&&S[y].context!==x)&&N.push(S[y]);N.length?this._events[g]=N.length===1?N[0]:N:c(this,g)}return this},u.prototype.removeAllListeners=function(m){var h;return m?(h=r?r+m:m,this._events[h]&&c(this,h)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(bb)),bb.exports}var jQ=yQ();const NQ=li(jQ);var kd=new NQ,Qy="recharts.syncEvent.tooltip",SM="recharts.syncEvent.brush",wQ=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!Ui(r))return e[r]}},SQ={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},u4=Cn({name:"options",initialState:SQ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),CQ=u4.reducer,{createEventEmitter:kQ}=u4.actions;function AQ(e){return e.tooltip.syncInteraction}var MQ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},d4=Cn({name:"chartData",initialState:MQ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:CM,setDataStartEndIndexes:DQ,setComputedData:qoe}=d4.actions,EQ=d4.reducer,_Q=["x","y"];function kM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Go(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kM(Object(r),!0).forEach(function(n){OQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OQ(e,t,r){return(t=TQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TQ(e){var t=PQ(e,"string");return typeof t=="symbol"?t:t+""}function PQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IQ(e,t){if(e==null)return{};var r,n,i=RQ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function RQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function LQ(){var e=ct(Cj),t=ct(kj),r=Ir(),n=ct(l3),i=ct(ns),l=rx(),c=tx(),u=ct(f=>f.rootProps.className);j.useEffect(()=>{if(e==null)return Pd;var f=(m,h,x)=>{if(t!==x&&e===m){if(n==="index"){var v;if(c&&h!==null&&h!==void 0&&(v=h.payload)!==null&&v!==void 0&&v.coordinate&&h.payload.sourceViewBox){var g=h.payload.coordinate,{x:S,y}=g,N=IQ(g,_Q),{x:C,y:A,width:k,height:M}=h.payload.sourceViewBox,D=Go(Go({},N),{},{x:c.x+(k?(S-C)/k:0)*c.width,y:c.y+(M?(y-A)/M:0)*c.height});r(Go(Go({},h),{},{payload:Go(Go({},h.payload),{},{coordinate:D})}))}else r(h);return}if(i!=null){var O;if(typeof n=="function"){var P={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},T=n(i,P);O=i[T]}else n==="value"&&(O=i.find(R=>String(R.value)===h.payload.label));var{coordinate:$}=h.payload;if(O==null||h.payload.active===!1||$==null||c==null){r(Gy({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:L,y:q}=$,E=Math.min(L,c.x+c.width),Z=Math.min(q,c.y+c.height),Q={x:l==="horizontal"?O.coordinate:E,y:l==="horizontal"?Z:O.coordinate},re=Gy({active:h.payload.active,coordinate:Q,dataKey:h.payload.dataKey,index:String(O.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});r(re)}}};return kd.on(Qy,f),()=>{kd.off(Qy,f)}},[u,r,t,e,n,i,l,c])}function FQ(){var e=ct(Cj),t=ct(kj),r=Ir();j.useEffect(()=>{if(e==null)return Pd;var n=(i,l,c)=>{t!==c&&e===i&&r(DQ(l))};return kd.on(SM,n),()=>{kd.off(SM,n)}},[r,t,e])}function zQ(){var e=Ir();j.useEffect(()=>{e(kQ())},[e]),LQ(),FQ()}function BQ(e,t,r,n,i,l){var c=ct(g=>VK(g,e,t)),u=ct(kj),f=ct(Cj),m=ct(l3),h=ct(AQ),x=h?.active,v=tx();j.useEffect(()=>{if(!x&&f!=null&&u!=null){var g=Gy({active:l,coordinate:r,dataKey:c,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:v,graphicalItemId:void 0});kd.emit(Qy,f,g,u)}},[x,r,c,i,n,u,f,m,l,v])}function AM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function MM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AM(Object(r),!0).forEach(function(n){$Q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Q(e,t,r){return(t=qQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qQ(e){var t=HQ(e,"string");return typeof t=="symbol"?t:t+""}function HQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UQ(e){return e.dataKey}function YQ(e,t){return j.isValidElement(e)?j.cloneElement(e,t):typeof e=="function"?j.createElement(e,t):j.createElement(kH,t)}var DM=[],VQ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function lN(e){var t,r,n=ui(e,VQ),{active:i,allowEscapeViewBox:l,animationDuration:c,animationEasing:u,content:f,filterNull:m,isAnimationActive:h,offset:x,payloadUniqBy:v,position:g,reverseDirection:S,useTranslate3d:y,wrapperStyle:N,cursor:C,shared:A,trigger:k,defaultIndex:M,portal:D,axisId:O}=n,P=Ir(),T=typeof M=="number"?String(M):M;j.useEffect(()=>{P($W({shared:A,trigger:k,axisId:O,active:i,defaultIndex:T}))},[P,A,k,O,i,T]);var $=tx(),L=aP(),q=IW(A),{activeIndex:E,isActive:Z}=(t=ct(xe=>KK(xe,q,k,T)))!==null&&t!==void 0?t:{},Q=ct(xe=>WK(xe,q,k,T)),re=ct(xe=>l4(xe,q,k,T)),R=ct(xe=>GK(xe,q,k,T)),G=Q,pe=bQ(),je=(r=i??Z)!==null&&r!==void 0?r:!1,[we,F]=mq([G,je]),ue=q==="axis"?re:void 0;BQ(q,k,R,ue,E,je);var J=D??pe;if(J==null||$==null||q==null)return null;var B=G??DM;je||(B=DM),m&&B.length&&(B=z9(B.filter(xe=>xe.value!=null&&(xe.hide!==!0||n.includeHidden)),v,UQ));var z=B.length>0,U=j.createElement(TH,{allowEscapeViewBox:l,animationDuration:c,animationEasing:u,isAnimationActive:h,active:je,coordinate:R,hasPayload:z,offset:x,position:g,reverseDirection:S,useTranslate3d:y,viewBox:$,wrapperStyle:N,lastBoundingBox:we,innerRef:F,hasPortalFromProps:!!D},YQ(f,MM(MM({},n),{},{payload:B,label:ue,active:je,activeIndex:E,coordinate:R,accessibilityLayer:L})));return j.createElement(j.Fragment,null,_c.createPortal(U,J),je&&j.createElement(gQ,{cursor:C,tooltipEventType:q,coordinate:R,payload:B,index:E}))}var Hc=e=>null;Hc.displayName="Cell";function GQ(e,t,r){return(t=WQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WQ(e){var t=KQ(e,"string");return typeof t=="symbol"?t:t+""}function KQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class QQ{constructor(t){GQ(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function EM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function XQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EM(Object(r),!0).forEach(function(n){ZQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZQ(e,t,r){return(t=JQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JQ(e){var t=eX(e,"string");return typeof t=="symbol"?t:t+""}function eX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tX={cacheSize:2e3,enableCache:!0},f4=XQ({},tX),_M=new QQ(f4.cacheSize),rX={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},OM="recharts_measurement_span";function nX(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",l=t.fontStyle||"",c=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(l,"|").concat(c,"|").concat(u)}var TM=(e,t)=>{try{var r=document.getElementById(OM);r||(r=document.createElement("span"),r.setAttribute("id",OM),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,rX,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},PM=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||K1.isSsr)return{width:0,height:0};if(!f4.enableCache)return TM(t,r);var n=nX(t,r),i=_M.get(n);if(i)return i;var l=TM(t,r);return _M.set(n,l),l},m4;function aX(e,t,r){return(t=iX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iX(e){var t=sX(e,"string");return typeof t=="symbol"?t:t+""}function sX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,oX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,cX={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},uX=["cm","mm","pt","pc","in","Q","px"];function dX(e){return uX.includes(e)}var nc="NaN";function fX(e,t){return e*cX[t]}class Kr{static parse(t){var r,[,n,i]=(r=oX.exec(t))!==null&&r!==void 0?r:[];return n==null?Kr.NaN:new Kr(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Ui(t)&&(this.unit=""),r!==""&&!lX.test(r)&&(this.num=NaN,this.unit=""),dX(r)&&(this.num=fX(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Kr(NaN,""):new Kr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Kr(NaN,""):new Kr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Kr(NaN,""):new Kr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Kr(NaN,""):new Kr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ui(this.num)}}m4=Kr;aX(Kr,"NaN",new m4(NaN,""));function p4(e){if(e==null||e.includes(nc))return nc;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,l]=(r=IM.exec(t))!==null&&r!==void 0?r:[],c=Kr.parse(n??""),u=Kr.parse(l??""),f=i==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return nc;t=t.replace(IM,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,h,x,v]=(m=RM.exec(t))!==null&&m!==void 0?m:[],g=Kr.parse(h??""),S=Kr.parse(v??""),y=x==="+"?g.add(S):g.subtract(S);if(y.isNaN())return nc;t=t.replace(RM,y.toString())}return t}var LM=/\(([^()]*)\)/;function mX(e){for(var t=e,r;(r=LM.exec(t))!=null;){var[,n]=r;t=t.replace(LM,p4(n))}return t}function pX(e){var t=e.replace(/\s+/g,"");return t=mX(t),t=p4(t),t}function hX(e){try{return pX(e)}catch{return nc}}function yb(e){var t=hX(e.slice(5,-1));return t===nc?"":t}var xX=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],vX=["dx","dy","angle","className","breakAll"];function Xy(){return Xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xy.apply(null,arguments)}function FM(e,t){if(e==null)return{};var r,n,i=gX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var h4=/[ \f\n\r\t\v\u2028\u2029]+/,x4=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];Hn(t)||(r?i=t.toString().split(""):i=t.toString().split(h4));var l=i.map(u=>({word:u,width:PM(u,n).width})),c=r?0:PM("",n).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}};function bX(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var v4=(e,t,r,n)=>e.reduce((i,l)=>{var{word:c,width:u}=l,f=i[i.length-1];if(f&&u!=null&&(t==null||n||f.width+u+r<Number(t)))f.words.push(c),f.width+=u+r;else{var m={words:[c],width:u};i.push(m)}return i},[]),g4=e=>e.reduce((t,r)=>t.width>r.width?t:r),yX="",zM=(e,t,r,n,i,l,c,u)=>{var f=e.slice(0,t),m=x4({breakAll:r,style:n,children:f+yX});if(!m)return[!1,[]];var h=v4(m.wordsWithComputedWidth,l,c,u),x=h.length>i||g4(h).width>Number(l);return[x,h]},jX=(e,t,r,n,i)=>{var{maxLines:l,children:c,style:u,breakAll:f}=e,m=at(l),h=String(c),x=v4(t,n,r,i);if(!m||i)return x;var v=x.length>l||g4(x).width>Number(n);if(!v)return x;for(var g=0,S=h.length-1,y=0,N;g<=S&&y<=h.length-1;){var C=Math.floor((g+S)/2),A=C-1,[k,M]=zM(h,A,f,u,l,n,r,i),[D]=zM(h,C,f,u,l,n,r,i);if(!k&&!D&&(g=C+1),k&&D&&(S=C-1),!k&&D){N=M;break}y++}return N||x},BM=e=>{var t=Hn(e)?[]:e.toString().split(h4);return[{words:t,width:void 0}]},NX=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:l,maxLines:c}=e;if((t||r)&&!K1.isSsr){var u,f,m=x4({breakAll:l,children:n,style:i});if(m){var{wordsWithComputedWidth:h,spaceWidth:x}=m;u=h,f=x}else return BM(n);return jX({breakAll:l,children:n,maxLines:c,style:i},u,f,t,!!r)}return BM(n)},b4="#808080",wX={angle:0,breakAll:!1,capHeight:"0.71em",fill:b4,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},oN=j.forwardRef((e,t)=>{var r=ui(e,wX),{x:n,y:i,lineHeight:l,capHeight:c,fill:u,scaleToFit:f,textAnchor:m,verticalAnchor:h}=r,x=FM(r,xX),v=j.useMemo(()=>NX({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width}),[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),{dx:g,dy:S,angle:y,className:N,breakAll:C}=x,A=FM(x,vX);if(!Yi(n)||!Yi(i)||v.length===0)return null;var k=Number(n)+(at(g)?g:0),M=Number(i)+(at(S)?S:0);if(!Ft(k)||!Ft(M))return null;var D;switch(h){case"start":D=yb("calc(".concat(c,")"));break;case"middle":D=yb("calc(".concat((v.length-1)/2," * -").concat(l," + (").concat(c," / 2))"));break;default:D=yb("calc(".concat(v.length-1," * -").concat(l,")"));break}var O=[],P=v[0];if(f&&P!=null){var T=P.width,{width:$}=x;O.push("scale(".concat(at($)&&at(T)?$/T:1,")"))}return y&&O.push("rotate(".concat(y,", ").concat(k,", ").concat(M,")")),O.length&&(A.transform=O.join(" ")),j.createElement("text",Xy({},la(A),{ref:t,x:k,y:M,className:dt("recharts-text",N),textAnchor:m,fill:u.includes("url")?b4:u}),v.map((L,q)=>{var E=L.words.join(C?"":" ");return j.createElement("tspan",{x:k,dy:q===0?D:l,key:"".concat(E,"-").concat(q)},E)}))});oN.displayName="Text";function $M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ha(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$M(Object(r),!0).forEach(function(n){SX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$M(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SX(e,t,r){return(t=CX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CX(e){var t=kX(e,"string");return typeof t=="symbol"?t:t+""}function kX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AX=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:i}=e,{x:l,y:c,height:u,upperWidth:f,lowerWidth:m}=Y1(t),h=l,x=l+(f-m)/2,v=(h+x)/2,g=(f+m)/2,S=h+f/2,y=u>=0?1:-1,N=y*n,C=y>0?"end":"start",A=y>0?"start":"end",k=f>=0?1:-1,M=k*n,D=k>0?"end":"start",O=k>0?"start":"end",P=i;if(r==="top"){var T={x:h+f/2,y:c-N,horizontalAnchor:"middle",verticalAnchor:C};return P&&(T.height=Math.max(c-P.y,0),T.width=f),T}if(r==="bottom"){var $={x:x+m/2,y:c+u+N,horizontalAnchor:"middle",verticalAnchor:A};return P&&($.height=Math.max(P.y+P.height-(c+u),0),$.width=m),$}if(r==="left"){var L={x:v-M,y:c+u/2,horizontalAnchor:D,verticalAnchor:"middle"};return P&&(L.width=Math.max(L.x-P.x,0),L.height=u),L}if(r==="right"){var q={x:v+g+M,y:c+u/2,horizontalAnchor:O,verticalAnchor:"middle"};return P&&(q.width=Math.max(P.x+P.width-q.x,0),q.height=u),q}var E=P?{width:g,height:u}:{};return r==="insideLeft"?Ha({x:v+M,y:c+u/2,horizontalAnchor:O,verticalAnchor:"middle"},E):r==="insideRight"?Ha({x:v+g-M,y:c+u/2,horizontalAnchor:D,verticalAnchor:"middle"},E):r==="insideTop"?Ha({x:h+f/2,y:c+N,horizontalAnchor:"middle",verticalAnchor:A},E):r==="insideBottom"?Ha({x:x+m/2,y:c+u-N,horizontalAnchor:"middle",verticalAnchor:C},E):r==="insideTopLeft"?Ha({x:h+M,y:c+N,horizontalAnchor:O,verticalAnchor:A},E):r==="insideTopRight"?Ha({x:h+f-M,y:c+N,horizontalAnchor:D,verticalAnchor:A},E):r==="insideBottomLeft"?Ha({x:x+M,y:c+u-N,horizontalAnchor:O,verticalAnchor:C},E):r==="insideBottomRight"?Ha({x:x+m-M,y:c+u-N,horizontalAnchor:D,verticalAnchor:C},E):r&&typeof r=="object"&&(at(r.x)||Xl(r.x))&&(at(r.y)||Xl(r.y))?Ha({x:l+Bn(r.x,g),y:c+Bn(r.y,u),horizontalAnchor:"end",verticalAnchor:"end"},E):Ha({x:S,y:c+u/2,horizontalAnchor:"middle",verticalAnchor:"middle"},E)},MX=["labelRef"],DX=["content"];function qM(e,t){if(e==null)return{};var r,n,i=EX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function EX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function HM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HM(Object(r),!0).forEach(function(n){_X(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _X(e,t,r){return(t=OX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OX(e){var t=TX(e,"string");return typeof t=="symbol"?t:t+""}function TX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mh(){return mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mh.apply(null,arguments)}var PX=j.createContext(null),IX=()=>{var e=j.useContext(PX),t=tx();return e||(t?Y1(t):void 0)},RX=j.createContext(null),LX=()=>{var e=j.useContext(RX),t=ct(m3);return e||t},FX=e=>{var{value:t,formatter:r}=e,n=Hn(e.children)?t:e.children;return typeof r=="function"?r(n):n},zX=e=>e!=null&&typeof e=="function",BX=(e,t)=>{var r=Nn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},$X=(e,t,r,n,i)=>{var{offset:l,className:c}=e,{cx:u,cy:f,innerRadius:m,outerRadius:h,startAngle:x,endAngle:v,clockWise:g}=i,S=(m+h)/2,y=BX(x,v),N=y>=0?1:-1,C,A;switch(t){case"insideStart":C=x+N*l,A=g;break;case"insideEnd":C=v-N*l,A=!g;break;case"end":C=v+N*l,A=g;break;default:throw new Error("Unsupported position ".concat(t))}A=y<=0?A:!A;var k=Er(u,f,S,C),M=Er(u,f,S,C+(A?1:-1)*359),D="M".concat(k.x,",").concat(k.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(A?0:1,`,
    `).concat(M.x,",").concat(M.y),O=Hn(e.id)?fd("recharts-radial-line-"):e.id;return j.createElement("text",mh({},n,{dominantBaseline:"central",className:dt("recharts-radial-bar-label",c)}),j.createElement("defs",null,j.createElement("path",{id:O,d:D})),j.createElement("textPath",{xlinkHref:"#".concat(O)},r))},qX=(e,t,r)=>{var{cx:n,cy:i,innerRadius:l,outerRadius:c,startAngle:u,endAngle:f}=e,m=(u+f)/2;if(r==="outside"){var{x:h,y:x}=Er(n,i,c+t,m);return{x:h,y:x,textAnchor:h>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,{x:g,y:S}=Er(n,i,v,m);return{x:g,y:S,textAnchor:"middle",verticalAnchor:"middle"}},pp=e=>e!=null&&"cx"in e&&at(e.cx),HX={angle:0,offset:5,zIndex:Na.label,position:"middle",textBreakAll:!1};function UX(e){if(!pp(e))return e;var{cx:t,cy:r,outerRadius:n}=e,i=n*2;return{x:t-n,y:r-n,width:i,upperWidth:i,lowerWidth:i,height:i}}function y4(e){var t=ui(e,HX),{viewBox:r,parentViewBox:n,position:i,value:l,children:c,content:u,className:f="",textBreakAll:m,labelRef:h}=t,x=LX(),v=IX(),g=i==="center"?v:x??v,S,y,N;r==null?S=g:pp(r)?S=r:S=Y1(r);var C=UX(S);if(!S||Hn(l)&&Hn(c)&&!j.isValidElement(u)&&typeof u!="function")return null;var A=Tm(Tm({},t),{},{viewBox:S});if(j.isValidElement(u)){var{labelRef:k}=A,M=qM(A,MX);return j.cloneElement(u,M)}if(typeof u=="function"){var{content:D}=A,O=qM(A,DX);if(y=j.createElement(u,O),j.isValidElement(y))return y}else y=FX(t);var P=la(t);if(pp(S)){if(i==="insideStart"||i==="insideEnd"||i==="end")return $X(t,i,y,P,S);N=qX(S,t.offset,t.position)}else{if(!C)return null;var T=AX({viewBox:C,position:i,offset:t.offset,parentViewBox:pp(n)?void 0:n});N=Tm(Tm({x:T.x,y:T.y,textAnchor:T.horizontalAnchor,verticalAnchor:T.verticalAnchor},T.width!==void 0?{width:T.width}:{}),T.height!==void 0?{height:T.height}:{})}return j.createElement(Xd,{zIndex:t.zIndex},j.createElement(oN,mh({ref:h,className:dt("recharts-label",f)},P,N,{textAnchor:bX(P.textAnchor)?P.textAnchor:N.textAnchor,breakAll:m}),y))}y4.displayName="Label";var jb={},Nb={},UM;function YX(){return UM||(UM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(Nb)),Nb}var wb={},YM;function VX(){return YM||(YM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(wb)),wb}var VM;function GX(){return VM||(VM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YX(),r=VX(),n=P1();function i(l){if(n.isArrayLike(l))return t.last(r.toArray(l))}e.last=i})(jb)),jb}var Sb,GM;function WX(){return GM||(GM=1,Sb=GX().last),Sb}var KX=WX();const QX=li(KX);var XX=["valueAccessor"],ZX=["dataKey","clockWise","id","textBreakAll","zIndex"];function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ph.apply(null,arguments)}function WM(e,t){if(e==null)return{};var r,n,i=JX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function JX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var eZ=e=>Array.isArray(e.value)?QX(e.value):e.value,j4=j.createContext(void 0);j4.Provider;var N4=j.createContext(void 0),tZ=N4.Provider;function rZ(){return j.useContext(j4)}function nZ(){return j.useContext(N4)}function hp(e){var{valueAccessor:t=eZ}=e,r=WM(e,XX),{dataKey:n,clockWise:i,id:l,textBreakAll:c,zIndex:u}=r,f=WM(r,ZX),m=rZ(),h=nZ(),x=m||h;return!x||!x.length?null:j.createElement(Xd,{zIndex:u??Na.label},j.createElement(Us,{className:"recharts-label-list"},x.map((v,g)=>{var S,y=Hn(n)?t(v,g):hr(v.payload,n),N=Hn(l)?{}:{id:"".concat(l,"-").concat(g)};return j.createElement(y4,ph({key:"label-".concat(g)},la(v),f,N,{fill:(S=r.fill)!==null&&S!==void 0?S:v.fill,parentViewBox:v.parentViewBox,value:y,textBreakAll:c,viewBox:v.viewBox,index:g,zIndex:0}))})))}hp.displayName="LabelList";function aZ(e){var{label:t}=e;return t?t===!0?j.createElement(hp,{key:"labelList-implicit"}):j.isValidElement(t)||zX(t)?j.createElement(hp,{key:"labelList-implicit",content:t}):typeof t=="object"?j.createElement(hp,ph({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var w4=e=>e.graphicalItems.polarItems,iZ=ce([or,Yd],Oj),jx=ce([w4,vr,iZ],Tj),sZ=ce([jx],Pj),Nx=ce([sZ,jj],Ij),lZ=ce([Nx,vr,jx],Lj);ce([Nx,vr,jx],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var l,c=hr(n,(l=t.dataKey)!==null&&l!==void 0?l:i.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:hr(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var KM=()=>{},oZ=ce([Nx,vr,jx,vx,or],$j),cZ=ce([vr,zj,Bj,KM,oZ,KM,ir,or],qj),S4=ce([vr,ir,Nx,lZ,Ud,or,cZ],Hj),uZ=ce([S4,Fc,nl],Vj),dZ=ce([vr,S4,uZ,or],Wj);ce([nl,dZ],x3);var fZ={radiusAxis:{},angleAxis:{}},C4=Cn({name:"polarAxis",initialState:fZ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Hoe,removeRadiusAxis:Uoe,addAngleAxis:Yoe,removeAngleAxis:Voe}=C4.actions,mZ=C4.reducer;function pZ(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function QM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function XM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QM(Object(r),!0).forEach(function(n){hZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hZ(e,t,r){return(t=xZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xZ(e){var t=vZ(e,"string");return typeof t=="symbol"?t:t+""}function vZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gZ=(e,t)=>t,cN=ce([w4,gZ],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),bZ=[],uN=(e,t,r)=>r?.length===0?bZ:r,k4=ce([jj,cN,uN],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if(t?.data!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(l=>XM(XM({},t.presentationProps),l.props))),i!=null)return i}}),yZ=ce([k4,cN,uN],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var l,c=hr(n,t.nameKey,t.name),u;return r!=null&&(l=r[i])!==null&&l!==void 0&&(l=l.props)!==null&&l!==void 0&&l.fill?u=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?u=n.fill:u=t.fill,{value:HT(c,t.dataKey),color:u,payload:n,type:t.legendType}})}),jZ=ce([k4,cN,uN,$r],(e,t,r,n)=>{if(!(t==null||e==null))return SJ({offset:n,pieSettings:t,displayedData:e,cells:r})}),Cb={exports:{}},Lt={};var ZM;function NZ(){if(ZM)return Lt;ZM=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),g=Symbol.for("react.client.reference");function S(y){if(typeof y=="object"&&y!==null){var N=y.$$typeof;switch(N){case e:switch(y=y.type,y){case r:case i:case n:case f:case m:case v:return y;default:switch(y=y&&y.$$typeof,y){case c:case u:case x:case h:return y;case l:return y;default:return N}}case t:return N}}}return Lt.ContextConsumer=l,Lt.ContextProvider=c,Lt.Element=e,Lt.ForwardRef=u,Lt.Fragment=r,Lt.Lazy=x,Lt.Memo=h,Lt.Portal=t,Lt.Profiler=i,Lt.StrictMode=n,Lt.Suspense=f,Lt.SuspenseList=m,Lt.isContextConsumer=function(y){return S(y)===l},Lt.isContextProvider=function(y){return S(y)===c},Lt.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},Lt.isForwardRef=function(y){return S(y)===u},Lt.isFragment=function(y){return S(y)===r},Lt.isLazy=function(y){return S(y)===x},Lt.isMemo=function(y){return S(y)===h},Lt.isPortal=function(y){return S(y)===t},Lt.isProfiler=function(y){return S(y)===i},Lt.isStrictMode=function(y){return S(y)===n},Lt.isSuspense=function(y){return S(y)===f},Lt.isSuspenseList=function(y){return S(y)===m},Lt.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===i||y===n||y===f||y===m||typeof y=="object"&&y!==null&&(y.$$typeof===x||y.$$typeof===h||y.$$typeof===c||y.$$typeof===l||y.$$typeof===u||y.$$typeof===g||y.getModuleId!==void 0)},Lt.typeOf=S,Lt}var JM;function wZ(){return JM||(JM=1,Cb.exports=NZ()),Cb.exports}var SZ=wZ(),eD=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",tD=null,kb=null,A4=e=>{if(e===tD&&Array.isArray(kb))return kb;var t=[];return j.Children.forEach(e,r=>{Hn(r)||(SZ.isFragment(r)?t=t.concat(A4(r.props.children)):t.push(r))}),kb=t,tD=e,t};function M4(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>eD(i)):n=[eD(t)],A4(e).forEach(i=>{var l=dd(i,"type.displayName")||dd(i,"type.name");l&&n.indexOf(l)!==-1&&r.push(i)}),r}var Ab={},rD;function CZ(){return rD||(rD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(Ab)),Ab}var Mb,nD;function kZ(){return nD||(nD=1,Mb=CZ().isPlainObject),Mb}var AZ=kZ();const MZ=li(AZ);var aD,iD,sD,lD,oD;function cD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cD(Object(r),!0).forEach(function(n){DZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DZ(e,t,r){return(t=EZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EZ(e){var t=_Z(e,"string");return typeof t=="symbol"?t:t+""}function _Z(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hh(){return hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hh.apply(null,arguments)}function Gu(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var dD=(e,t,r,n,i)=>{var l=r-n,c;return c=fr(aD||(aD=Gu(["M ",",",""])),e,t),c+=fr(iD||(iD=Gu(["L ",",",""])),e+r,t),c+=fr(sD||(sD=Gu(["L ",",",""])),e+r-l/2,t+i),c+=fr(lD||(lD=Gu(["L ",",",""])),e+r-l/2-n,t+i),c+=fr(oD||(oD=Gu(["L ",","," Z"])),e,t),c},OZ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},TZ=e=>{var t=ui(e,OZ),{x:r,y:n,upperWidth:i,lowerWidth:l,height:c,className:u}=t,{animationEasing:f,animationDuration:m,animationBegin:h,isUpdateAnimationActive:x}=t,v=j.useRef(null),[g,S]=j.useState(-1),y=j.useRef(i),N=j.useRef(l),C=j.useRef(c),A=j.useRef(r),k=j.useRef(n),M=X1(e,"trapezoid-");if(j.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var Q=v.current.getTotalLength();Q&&S(Q)}catch{}},[]),r!==+r||n!==+n||i!==+i||l!==+l||c!==+c||i===0&&l===0||c===0)return null;var D=dt("recharts-trapezoid",u);if(!x)return j.createElement("g",null,j.createElement("path",hh({},la(t),{className:D,d:dD(r,n,i,l,c)})));var O=y.current,P=N.current,T=C.current,$=A.current,L=k.current,q="0px ".concat(g===-1?1:g,"px"),E="".concat(g,"px 0px"),Z=iP(["strokeDasharray"],m,f);return j.createElement(Q1,{animationId:M,key:M,canBegin:g>0,duration:m,easing:f,isActive:x,begin:h},Q=>{var re=ga(O,i,Q),R=ga(P,l,Q),G=ga(T,c,Q),pe=ga($,r,Q),je=ga(L,n,Q);v.current&&(y.current=re,N.current=R,C.current=G,A.current=pe,k.current=je);var we=Q>0?{transition:Z,strokeDasharray:E}:{strokeDasharray:q};return j.createElement("path",hh({},la(t),{className:D,d:dD(pe,je,re,R,G),ref:v,style:uD(uD({},we),t.style)}))})},PZ=["option","shapeType","activeClassName"];function IZ(e,t){if(e==null)return{};var r,n,i=RZ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function RZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function fD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fD(Object(r),!0).forEach(function(n){LZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LZ(e,t,r){return(t=FZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FZ(e){var t=zZ(e,"string");return typeof t=="symbol"?t:t+""}function zZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BZ(e,t){return xh(xh({},t),e)}function $Z(e,t){return e==="symbols"}function mD(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return j.createElement(cP,r);case"trapezoid":return j.createElement(TZ,r);case"sector":return j.createElement(mP,r);case"symbols":if($Z(t))return j.createElement(JO,r);break;case"curve":return j.createElement(W1,r);default:return null}}function qZ(e){return j.isValidElement(e)?e.props:e}function HZ(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,i=IZ(e,PZ),l;if(j.isValidElement(t))l=j.cloneElement(t,xh(xh({},i),qZ(t)));else if(typeof t=="function")l=t(i,i.index);else if(MZ(t)&&typeof t!="boolean"){var c=BZ(t,i);l=j.createElement(mD,{shapeType:r,elementProps:c})}else{var u=i;l=j.createElement(mD,{shapeType:r,elementProps:u})}return i.isActive?j.createElement(Us,{className:n},l):l}var UZ=(e,t,r)=>{var n=Ir();return(i,l)=>c=>{e?.(i,l,c),n($3({activeIndex:String(l),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},YZ=e=>{var t=Ir();return(r,n)=>i=>{e?.(r,n,i),t(qW())}},VZ=(e,t,r)=>{var n=Ir();return(i,l)=>c=>{e?.(i,l,c),n(HW({activeIndex:String(l),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function GZ(e){var{tooltipEntrySettings:t}=e,r=Ir(),n=Xs(),i=j.useRef(null);return j.useLayoutEffect(()=>{n||(i.current===null?r(FW(t)):i.current!==t&&r(zW({prev:i.current,next:t})),i.current=t)},[t,r,n]),j.useLayoutEffect(()=>()=>{i.current&&(r(BW(i.current)),i.current=null)},[r]),null}function WZ(e){var{legendPayload:t}=e,r=Ir(),n=ct(ir),i=j.useRef(null);return j.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(gH(t)):i.current!==t&&r(bH({prev:i.current,next:t})),i.current=t)},[r,n,t]),j.useLayoutEffect(()=>()=>{i.current&&(r(yH(i.current)),i.current=null)},[r]),null}var Db,KZ=()=>{var[e]=j.useState(()=>fd("uid-"));return e},QZ=(Db=m1.useId)!==null&&Db!==void 0?Db:KZ;function XZ(e,t){var r=QZ();return t||(e?"".concat(e,"-").concat(r):r)}var ZZ=j.createContext(void 0),JZ=e=>{var{id:t,type:r,children:n}=e,i=XZ("recharts-".concat(r),t);return j.createElement(ZZ.Provider,{value:i},n(i))},eJ={cartesianItems:[],polarItems:[]},D4=Cn({name:"graphicalItems",initialState:eJ,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:rr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=wa(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:rr()},removeCartesianGraphicalItem:{reducer(e,t){var r=wa(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:rr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:rr()},removePolarGraphicalItem:{reducer(e,t){var r=wa(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:rr()}}}),{addCartesianGraphicalItem:Goe,replaceCartesianGraphicalItem:Woe,removeCartesianGraphicalItem:Koe,addPolarGraphicalItem:tJ,removePolarGraphicalItem:rJ}=D4.actions,nJ=D4.reducer;function aJ(e){var t=Ir();return j.useLayoutEffect(()=>(t(tJ(e)),()=>{t(rJ(e))}),[t,e]),null}var iJ=["key"],sJ=["onMouseEnter","onClick","onMouseLeave"],lJ=["id"],oJ=["id"];function pD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pD(Object(r),!0).forEach(function(n){cJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cJ(e,t,r){return(t=uJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uJ(e){var t=dJ(e,"string");return typeof t=="symbol"?t:t+""}function dJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vs(){return Vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vs.apply(null,arguments)}function wx(e,t){if(e==null)return{};var r,n,i=fJ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function fJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mJ(e){var t=j.useMemo(()=>M4(e.children,Hc),[e.children]),r=ct(n=>yZ(n,e.id,t));return r==null?null:j.createElement(WZ,{legendPayload:r})}var pJ=j.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:l,fill:c,name:u,hide:f,tooltipType:m,id:h}=e,x={dataDefinedOnItem:n.map(v=>v.tooltipPayload),getPosition:v=>{var g;return(g=n[Number(v)])===null||g===void 0?void 0:g.tooltipPosition},settings:{stroke:i,strokeWidth:l,fill:c,dataKey:t,nameKey:r,name:HT(u,t),hide:f,type:m,color:c,unit:"",graphicalItemId:h}};return j.createElement(GZ,{tooltipEntrySettings:x})}),hJ=(e,t)=>e>t?"start":e<t?"end":"middle",xJ=(e,t,r)=>Bn(typeof t=="function"?t(e):t,r,r*.8),vJ=(e,t,r)=>{var{top:n,left:i,width:l,height:c}=t,u=uP(l,c),f=i+Bn(e.cx,l,l/2),m=n+Bn(e.cy,c,c/2),h=Bn(e.innerRadius,u,0),x=xJ(r,e.outerRadius,u),v=e.maxRadius||Math.sqrt(l*l+c*c)/2;return{cx:f,cy:m,innerRadius:h,outerRadius:x,maxRadius:v}},gJ=(e,t)=>{var r=Nn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},bJ=(e,t)=>{if(j.isValidElement(e))return j.cloneElement(e,t);if(typeof e=="function")return e(t);var r=dt("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,i=wx(t,iJ);return j.createElement(W1,Vs({},i,{type:"linear",className:r}))},yJ=(e,t,r)=>{if(j.isValidElement(e))return j.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),j.isValidElement(n)))return n;var i=dt("recharts-pie-label-text",pZ(e));return j.createElement(oN,Vs({},t,{alignmentBaseline:"middle",className:i}),n)};function jJ(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:l,dataKey:c}=r;if(!n||!i||!t)return null;var u=mc(r),f=oy(i),m=oy(l),h=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,x=t.map((v,g)=>{var S=(v.startAngle+v.endAngle)/2,y=Er(v.cx,v.cy,v.outerRadius+h,S),N=pr(pr(pr(pr({},u),v),{},{stroke:"none"},f),{},{index:g,textAnchor:hJ(y.x,v.cx)},y),C=pr(pr(pr(pr({},u),v),{},{fill:"none",stroke:v.fill},m),{},{index:g,points:[Er(v.cx,v.cy,v.outerRadius,S),y],key:"line"});return j.createElement(Xd,{zIndex:Na.label,key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(g)},j.createElement(Us,null,l&&bJ(l,C),yJ(i,N,hr(v,c))))});return j.createElement(Us,{className:"recharts-pie-labels"},x)}function NJ(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?j.createElement(aZ,{label:i}):j.createElement(jJ,{sectors:t,props:r,showLabels:n})}function wJ(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:l,id:c}=e,u=ct(Cd),f=ct(r4),m=ct(MK),{onMouseEnter:h,onClick:x,onMouseLeave:v}=i,g=wx(i,sJ),S=UZ(h,i.dataKey,c),y=YZ(v),N=VZ(x,i.dataKey,c);return t==null||t.length===0?null:j.createElement(j.Fragment,null,t.map((C,A)=>{if(C?.startAngle===0&&C?.endAngle===0&&t.length!==1)return null;var k=m==null||m===c,M=String(A)===u&&(f==null||i.dataKey===f)&&k,D=u?n:null,O=r&&M?r:D,P=pr(pr({},C),{},{stroke:C.stroke,tabIndex:-1,[YT]:A,[VT]:c});return j.createElement(Us,Vs({key:"sector-".concat(C?.startAngle,"-").concat(C?.endAngle,"-").concat(C.midAngle,"-").concat(A),tabIndex:-1,className:"recharts-pie-sector"},p9(g,C,A),{onMouseEnter:S(C,A),onMouseLeave:y(C,A),onClick:N(C,A)}),j.createElement(HZ,Vs({option:l??O,index:A,shapeType:"sector",isActive:M},P)))}))}function SJ(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:l}=e,{cornerRadius:c,startAngle:u,endAngle:f,dataKey:m,nameKey:h,tooltipType:x}=r,v=Math.abs(r.minAngle),g=gJ(u,f),S=Math.abs(g),y=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,N=n.filter(O=>hr(O,m,0)!==0).length,C=(S>=360?N:N-1)*y,A=S-N*v-C,k=n.reduce((O,P)=>{var T=hr(P,m,0);return O+(at(T)?T:0)},0),M;if(k>0){var D;M=n.map((O,P)=>{var T=hr(O,m,0),$=hr(O,h,P),L=vJ(r,l,O),q=(at(T)?T:0)/k,E,Z=pr(pr({},O),i&&i[P]&&i[P].props);P?E=D.endAngle+Nn(g)*y*(T!==0?1:0):E=u;var Q=E+Nn(g)*((T!==0?v:0)+q*A),re=(E+Q)/2,R=(L.innerRadius+L.outerRadius)/2,G=[{name:$,value:T,payload:Z,dataKey:m,type:x,graphicalItemId:r.id}],pe=Er(L.cx,L.cy,R,re);return D=pr(pr(pr(pr({},r.presentationProps),{},{percent:q,cornerRadius:typeof c=="string"?parseFloat(c):c,name:$,tooltipPayload:G,midAngle:re,middleRadius:R,tooltipPosition:pe},Z),L),{},{value:T,dataKey:m,startAngle:E,endAngle:Q,payload:Z,paddingAngle:Nn(g)*y}),D})}return M}function CJ(e){var{showLabels:t,sectors:r,children:n}=e,i=j.useMemo(()=>!t||!r?[]:r.map(l=>({value:l.value,payload:l.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:l.cx,cy:l.cy,innerRadius:l.innerRadius,outerRadius:l.outerRadius,startAngle:l.startAngle,endAngle:l.endAngle,clockWise:!1},fill:l.fill})),[r,t]);return j.createElement(tZ,{value:t?i:void 0},n)}function kJ(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:f,activeShape:m,inactiveShape:h,onAnimationStart:x,onAnimationEnd:v}=t,g=X1(t,"recharts-pie-"),S=r.current,[y,N]=j.useState(!1),C=j.useCallback(()=>{typeof v=="function"&&v(),N(!1)},[v]),A=j.useCallback(()=>{typeof x=="function"&&x(),N(!0)},[x]);return j.createElement(CJ,{showLabels:!y,sectors:i},j.createElement(Q1,{animationId:g,begin:c,duration:u,isActive:l,easing:f,onAnimationStart:A,onAnimationEnd:C,key:g},k=>{var M,D=[],O=i&&i[0],P=(M=O?.startAngle)!==null&&M!==void 0?M:0;return i?.forEach((T,$)=>{var L=S&&S[$],q=$>0?dd(T,"paddingAngle",0):0;if(L){var E=ga(L.endAngle-L.startAngle,T.endAngle-T.startAngle,k),Z=pr(pr({},T),{},{startAngle:P+q,endAngle:P+E+q});D.push(Z),P=Z.endAngle}else{var{endAngle:Q,startAngle:re}=T,R=ga(0,Q-re,k),G=pr(pr({},T),{},{startAngle:P+q,endAngle:P+R+q});D.push(G),P=G.endAngle}}),r.current=D,j.createElement(Us,null,j.createElement(wJ,{sectors:D,activeShape:m,inactiveShape:h,allOtherPieProps:t,shape:t.shape,id:n}))}),j.createElement(NJ,{showLabels:!y,sectors:i,props:t}),t.children)}var AJ={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Na.area};function MJ(e){var{id:t}=e,r=wx(e,lJ),{hide:n,className:i,rootTabIndex:l}=e,c=j.useMemo(()=>M4(e.children,Hc),[e.children]),u=ct(h=>jZ(h,t,c)),f=j.useRef(null),m=dt("recharts-pie",i);return n||u==null?(f.current=null,j.createElement(Us,{tabIndex:l,className:m})):j.createElement(Xd,{zIndex:e.zIndex},j.createElement(pJ,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:u,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),j.createElement(Us,{tabIndex:l,className:m},j.createElement(kJ,{props:pr(pr({},r),{},{sectors:u}),previousSectorsRef:f,id:t})))}function Sx(e){var t=ui(e,AJ),{id:r}=t,n=wx(t,oJ),i=mc(n);return j.createElement(JZ,{id:r,type:"pie"},l=>j.createElement(j.Fragment,null,j.createElement(aJ,{type:"pie",id:l,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),j.createElement(mJ,Vs({},n,{id:l})),j.createElement(MJ,Vs({},n,{id:l}))))}Sx.displayName="Pie";function hD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hD(Object(r),!0).forEach(function(n){DJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DJ(e,t,r){return(t=EJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EJ(e){var t=_J(e,"string");return typeof t=="symbol"?t:t+""}function _J(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OJ={xAxis:{},yAxis:{},zAxis:{}},E4=Cn({name:"cartesianAxis",initialState:OJ,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:rr()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:rr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:rr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:rr()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:rr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:rr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:rr()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:rr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:rr()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var l,c=i.widthHistory||[];if(c.length===3&&c[0]===c[2]&&n===c[1]&&n!==i.width&&Math.abs(n-((l=c[0])!==null&&l!==void 0?l:0))<=1)return;var u=[...c,n].slice(-3);e.yAxis[r]=xD(xD({},i),{},{width:n,widthHistory:u})}}}}),{addXAxis:Qoe,replaceXAxis:Xoe,removeXAxis:Zoe,addYAxis:Joe,replaceYAxis:ece,removeYAxis:tce,addZAxis:rce,replaceZAxis:nce,removeZAxis:ace,updateYAxisWidth:ice}=E4.actions,TJ=E4.reducer,PJ=ce([$r],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),IJ=ce([PJ,es,ts],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),RJ=()=>ct(IJ),LJ=e=>{var{chartData:t}=e,r=Ir(),n=Xs();return j.useEffect(()=>n?()=>{}:(r(CM(t)),()=>{r(CM(void 0))}),[t,r,n]),null},vD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},_4=Cn({name:"brush",initialState:vD,reducers:{setBrushSettings(e,t){return t.payload==null?vD:t.payload}}}),{setBrushSettings:sce}=_4.actions,FJ=_4.reducer,zJ={dots:[],areas:[],lines:[]},O4=Cn({name:"referenceElements",initialState:zJ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=wa(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=wa(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=wa(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:lce,removeDot:oce,addArea:cce,removeArea:uce,addLine:dce,removeLine:fce}=O4.actions,BJ=O4.reducer,$J=j.createContext(void 0),qJ=e=>{var{children:t}=e,[r]=j.useState("".concat(fd("recharts"),"-clip")),n=RJ();if(n==null)return null;var{x:i,y:l,width:c,height:u}=n;return j.createElement($J.Provider,{value:r},j.createElement("defs",null,j.createElement("clipPath",{id:r},j.createElement("rect",{x:i,y:l,height:u,width:c}))),t)},HJ={},T4=Cn({name:"errorBars",initialState:HJ,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(l=>l.dataKey===n.dataKey&&l.direction===n.direction?i:l))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:mce,replaceErrorBar:pce,removeErrorBar:hce}=T4.actions,UJ=T4.reducer,Eb={exports:{}},_b={};var gD;function YJ(){if(gD)return _b;gD=1;var e=Ac();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,l=e.useEffect,c=e.useMemo,u=e.useDebugValue;return _b.useSyncExternalStoreWithSelector=function(f,m,h,x,v){var g=i(null);if(g.current===null){var S={hasValue:!1,value:null};g.current=S}else S=g.current;g=c(function(){function N(D){if(!C){if(C=!0,A=D,D=x(D),v!==void 0&&S.hasValue){var O=S.value;if(v(O,D))return k=O}return k=D}if(O=k,r(A,D))return O;var P=x(D);return v!==void 0&&v(O,P)?(A=D,O):(A=D,k=P)}var C=!1,A,k,M=h===void 0?null:h;return[function(){return N(m())},M===null?void 0:function(){return N(M())}]},[m,h,x,v]);var y=n(f,g[0],g[1]);return l(function(){S.hasValue=!0,S.value=y},[y]),u(y),y},_b}var bD;function VJ(){return bD||(bD=1,Eb.exports=YJ()),Eb.exports}VJ();function GJ(e){e()}function WJ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){GJ(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var yD={notify(){},get:()=>[]};function KJ(e,t){let r,n=yD,i=0,l=!1;function c(y){h();const N=n.subscribe(y);let C=!1;return()=>{C||(C=!0,N(),x())}}function u(){n.notify()}function f(){S.onStateChange&&S.onStateChange()}function m(){return l}function h(){i++,r||(r=e.subscribe(f),n=WJ())}function x(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=yD)}function v(){l||(l=!0,h())}function g(){l&&(l=!1,x())}const S={addNestedSub:c,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:m,trySubscribe:v,tryUnsubscribe:g,getListeners:()=>n};return S}var QJ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XJ=QJ(),ZJ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",JJ=ZJ(),eee=()=>XJ||JJ?j.useLayoutEffect:j.useEffect,tee=eee();function jD(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function ree(e,t){if(jD(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!jD(e[r[i]],t[r[i]]))return!1;return!0}var nee=Symbol.for("react-redux-context"),aee=typeof globalThis<"u"?globalThis:{};function iee(){if(!j.createContext)return{};const e=aee[nee]??=new Map;let t=e.get(j.createContext);return t||(t=j.createContext(null),e.set(j.createContext,t)),t}var see=iee();function lee(e){const{children:t,context:r,serverState:n,store:i}=e,l=j.useMemo(()=>{const f=KJ(i);return{store:i,subscription:f,getServerState:n?()=>n:void 0}},[i,n]),c=j.useMemo(()=>i.getState(),[i]);tee(()=>{const{subscription:f}=l;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[l,c]);const u=r||see;return j.createElement(u.Provider,{value:l},t)}var oee=lee,cee=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function uee(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function dee(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(cee.has(n)){if(e[n]==null&&t[n]==null)continue;if(!ree(e[n],t[n]))return!1}else if(!uee(e[n],t[n]))return!1;return!0}var fee=(e,t)=>t,dN=ce([fee,ir,m3,Hr,Z3,ns,YK,$r],ZK),fN=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},P4=oa("mouseClick"),I4=Rd();I4.startListening({actionCreator:P4,effect:(e,t)=>{var r=e.payload,n=dN(t.getState(),fN(r));n?.activeIndex!=null&&t.dispatch(UW({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Zy=oa("mouseMove"),R4=Rd(),Pm=null;R4.startListening({actionCreator:Zy,effect:(e,t)=>{var r=e.payload;Pm!==null&&cancelAnimationFrame(Pm);var n=fN(r);Pm=requestAnimationFrame(()=>{var i=t.getState(),l=Xj(i,i.tooltip.settings.shared);if(l==="axis"){var c=dN(i,n);c?.activeIndex!=null?t.dispatch(H3({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(q3())}Pm=null})}});function mee(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var ND={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},L4=Cn({name:"rootProps",initialState:ND,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:ND.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),pee=L4.reducer,{updateOptions:hee}=L4.actions,xee=null,vee={updatePolarOptions:(e,t)=>t.payload},F4=Cn({name:"polarOptions",initialState:xee,reducers:vee}),{updatePolarOptions:gee}=F4.actions,bee=F4.reducer,z4=oa("keyDown"),B4=oa("focus"),mN=Rd();mN.startListening({actionCreator:z4,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,l=e.payload;if(!(l!=="ArrowRight"&&l!=="ArrowLeft"&&l!=="Enter")){var c=Zj(i,qc(r),Gd(r),Kd(r)),u=c==null?-1:Number(c);if(!(!Number.isFinite(u)||u<0)){var f=ns(r);if(l==="Enter"){var m=fh(r,"axis","hover",String(i.index));t.dispatch(Wy({active:!i.active,activeIndex:i.index,activeCoordinate:m}));return}var h=PW(r),x=h==="left-to-right"?1:-1,v=l==="ArrowRight"?1:-1,g=u+v*x;if(!(f==null||g>=f.length||g<0)){var S=fh(r,"axis","hover",String(g));t.dispatch(Wy({active:!0,activeIndex:g.toString(),activeCoordinate:S}))}}}}}});mN.startListening({actionCreator:B4,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var l="0",c=fh(r,"axis","hover",String(l));t.dispatch(Wy({active:!0,activeIndex:l,activeCoordinate:c}))}}}});var aa=oa("externalEvent"),$4=Rd(),Ob=new Map;$4.startListening({actionCreator:aa,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,l=Ob.get(i);l!==void 0&&cancelAnimationFrame(l);var c=requestAnimationFrame(()=>{try{var u=t.getState(),f={activeCoordinate:EK(u),activeDataKey:r4(u),activeIndex:Cd(u),activeLabel:t4(u),activeTooltipIndex:Cd(u),isTooltipActive:_K(u)};r(f,n)}finally{Ob.delete(i)}});Ob.set(i,c)}}});var yee=ce([Bc],e=>e.tooltipItemPayloads),jee=ce([yee,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(l=>l.settings.graphicalItemId===r);if(n!=null){var{getPosition:i}=n;if(i!=null)return i(t)}}}),q4=oa("touchMove"),H4=Rd();H4.startListening({actionCreator:q4,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=Xj(n,n.tooltip.settings.shared);if(i==="axis"){var l=r.touches[0];if(l==null)return;var c=dN(n,fN({clientX:l.clientX,clientY:l.clientY,currentTarget:r.currentTarget}));c?.activeIndex!=null&&t.dispatch(H3({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(i==="item"){var u,f=r.touches[0];if(document.elementFromPoint==null||f==null)return;var m=document.elementFromPoint(f.clientX,f.clientY);if(!m||!m.getAttribute)return;var h=m.getAttribute(YT),x=(u=m.getAttribute(VT))!==null&&u!==void 0?u:void 0,v=$c(n).find(y=>y.id===x);if(h==null||v==null||x==null)return;var{dataKey:g}=v,S=jee(n,h,x);t.dispatch($3({activeDataKey:g,activeIndex:h,activeCoordinate:S,activeGraphicalItemId:x}))}}}});var Nee=pT({brush:FJ,cartesianAxis:TJ,chartData:EQ,errorBars:UJ,graphicalItems:nJ,layout:m7,legend:jH,options:CQ,polarAxis:mZ,polarOptions:bee,referenceElements:BJ,rootProps:pee,tooltip:YW,zIndex:fQ}),wee=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Fq({reducer:Nee,preloadedState:t,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([I4.middleware,R4.middleware,mN.middleware,$4.middleware,H4.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(DT({type:"raf"}))},devTools:{serialize:{replacer:mee},name:"recharts-".concat(r)}})};function See(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Xs(),l=j.useRef(null);if(i)return r;l.current==null&&(l.current=wee(t,n));var c=R1;return j.createElement(oee,{context:c,store:l.current},r)}function Cee(e){var{layout:t,margin:r}=e,n=Ir(),i=Xs();return j.useEffect(()=>{i||(n(u7(t)),n(c7(r)))},[n,i,t,r]),null}var kee=j.memo(Cee,dee);function Aee(e){var t=Ir();return j.useEffect(()=>{t(hee(e))},[t,e]),null}function wD(e){var{zIndex:t,isPanorama:r}=e,n=j.useRef(null),i=Ir();return j.useLayoutEffect(()=>(n.current&&i(uQ({zIndex:t,element:n.current,isPanorama:r})),()=>{i(dQ({zIndex:t,isPanorama:r}))}),[i,t,r]),j.createElement("g",{tabIndex:-1,ref:n})}function SD(e){var{children:t,isPanorama:r}=e,n=ct(eQ);if(!n||n.length===0)return t;var i=n.filter(c=>c<0),l=n.filter(c=>c>0);return j.createElement(j.Fragment,null,i.map(c=>j.createElement(wD,{key:c,zIndex:c,isPanorama:r})),t,l.map(c=>j.createElement(wD,{key:c,zIndex:c,isPanorama:r})))}var Mee=["children"];function Dee(e,t){if(e==null)return{};var r,n,i=Eee(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Eee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vh(){return vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vh.apply(null,arguments)}var _ee={width:"100%",height:"100%",display:"block"},Oee=j.forwardRef((e,t)=>{var r=nH(),n=aH(),i=aP();if(!Ys(r)||!Ys(n))return null;var{children:l,otherAttributes:c,title:u,desc:f}=e,m,h;return c!=null&&(typeof c.tabIndex=="number"?m=c.tabIndex:m=i?0:void 0,typeof c.role=="string"?h=c.role:h=i?"application":void 0),j.createElement(TO,vh({},c,{title:u,desc:f,role:h,tabIndex:m,width:r,height:n,style:_ee,ref:t}),l)}),Tee=e=>{var{children:t}=e,r=ct(ex);if(!r)return null;var{width:n,height:i,y:l,x:c}=r;return j.createElement(TO,{width:n,height:i,x:c,y:l},t)},CD=j.forwardRef((e,t)=>{var{children:r}=e,n=Dee(e,Mee),i=Xs();return i?j.createElement(Tee,null,j.createElement(SD,{isPanorama:!0},r)):j.createElement(Oee,vh({ref:t},n),j.createElement(SD,{isPanorama:!1},r))});function Pee(){var e=Ir(),[t,r]=j.useState(null),n=ct(A7);return j.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),l=i.width/t.offsetWidth;Ft(l)&&l!==n&&e(f7(l))}},[t,e,n]),r}function kD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Iee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kD(Object(r),!0).forEach(function(n){Ree(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ree(e,t,r){return(t=Lee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lee(e){var t=Fee(e,"string");return typeof t=="symbol"?t:t+""}function Fee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bs(){return Bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bs.apply(null,arguments)}var zee=()=>(zQ(),null);function gh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Bee=j.forwardRef((e,t)=>{var r,n,i=j.useRef(null),[l,c]=j.useState({containerWidth:gh((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:gh((n=e.style)===null||n===void 0?void 0:n.height)}),u=j.useCallback((m,h)=>{c(x=>{var v=Math.round(m),g=Math.round(h);return x.containerWidth===v&&x.containerHeight===g?x:{containerWidth:v,containerHeight:g}})},[]),f=j.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null&&typeof ResizeObserver<"u"){var{width:h,height:x}=m.getBoundingClientRect();u(h,x);var v=S=>{var y=S[0];if(y!=null){var{width:N,height:C}=y.contentRect;u(N,C)}},g=new ResizeObserver(v);g.observe(m),i.current=g}},[t,u]);return j.useEffect(()=>()=>{var m=i.current;m?.disconnect()},[u]),j.createElement(j.Fragment,null,j.createElement(Fd,{width:l.containerWidth,height:l.containerHeight}),j.createElement("div",Bs({ref:f},e)))}),$ee=j.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,l]=j.useState({containerWidth:gh(r),containerHeight:gh(n)}),c=j.useCallback((f,m)=>{l(h=>{var x=Math.round(f),v=Math.round(m);return h.containerWidth===x&&h.containerHeight===v?h:{containerWidth:x,containerHeight:v}})},[]),u=j.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:m,height:h}=f.getBoundingClientRect();c(m,h)}},[t,c]);return j.createElement(j.Fragment,null,j.createElement(Fd,{width:i.containerWidth,height:i.containerHeight}),j.createElement("div",Bs({ref:u},e)))}),qee=j.forwardRef((e,t)=>{var{width:r,height:n}=e;return j.createElement(j.Fragment,null,j.createElement(Fd,{width:r,height:n}),j.createElement("div",Bs({ref:t},e)))}),Hee=j.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?j.createElement($ee,Bs({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?j.createElement(qee,Bs({},e,{width:r,height:n,ref:t})):j.createElement(j.Fragment,null,j.createElement(Fd,{width:r,height:n}),j.createElement("div",Bs({ref:t},e)))});function Uee(e){return e?Bee:Hee}var Yee=j.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:l,onContextMenu:c,onDoubleClick:u,onMouseDown:f,onMouseEnter:m,onMouseLeave:h,onMouseMove:x,onMouseUp:v,onTouchEnd:g,onTouchMove:S,onTouchStart:y,style:N,width:C,responsive:A,dispatchTouchEvents:k=!0}=e,M=j.useRef(null),D=Ir(),[O,P]=j.useState(null),[T,$]=j.useState(null),L=Pee(),q=H1(),E=q?.width>0?q.width:C,Z=q?.height>0?q.height:i,Q=j.useCallback(ne=>{L(ne),typeof t=="function"&&t(ne),P(ne),$(ne),ne!=null&&(M.current=ne)},[L,t,P,$]),re=j.useCallback(ne=>{D(P4(ne)),D(aa({handler:l,reactEvent:ne}))},[D,l]),R=j.useCallback(ne=>{D(Zy(ne)),D(aa({handler:m,reactEvent:ne}))},[D,m]),G=j.useCallback(ne=>{D(q3()),D(aa({handler:h,reactEvent:ne}))},[D,h]),pe=j.useCallback(ne=>{D(Zy(ne)),D(aa({handler:x,reactEvent:ne}))},[D,x]),je=j.useCallback(()=>{D(B4())},[D]),we=j.useCallback(ne=>{D(z4(ne.key))},[D]),F=j.useCallback(ne=>{D(aa({handler:c,reactEvent:ne}))},[D,c]),ue=j.useCallback(ne=>{D(aa({handler:u,reactEvent:ne}))},[D,u]),J=j.useCallback(ne=>{D(aa({handler:f,reactEvent:ne}))},[D,f]),B=j.useCallback(ne=>{D(aa({handler:v,reactEvent:ne}))},[D,v]),z=j.useCallback(ne=>{D(aa({handler:y,reactEvent:ne}))},[D,y]),U=j.useCallback(ne=>{k&&D(q4(ne)),D(aa({handler:S,reactEvent:ne}))},[D,k,S]),xe=j.useCallback(ne=>{D(aa({handler:g,reactEvent:ne}))},[D,g]),Ne=Uee(A);return j.createElement(c4.Provider,{value:O},j.createElement(h$.Provider,{value:T},j.createElement(Ne,{width:E??N?.width,height:Z??N?.height,className:dt("recharts-wrapper",n),style:Iee({position:"relative",cursor:"default",width:E,height:Z},N),onClick:re,onContextMenu:F,onDoubleClick:ue,onFocus:je,onKeyDown:we,onMouseDown:J,onMouseEnter:R,onMouseLeave:G,onMouseMove:pe,onMouseUp:B,onTouchEnd:xe,onTouchMove:U,onTouchStart:z,ref:Q},j.createElement(zee,null),r)))}),Vee=["width","height","responsive","children","className","style","compact","title","desc"];function Gee(e,t){if(e==null)return{};var r,n,i=Wee(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Wee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Kee=j.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:l,className:c,style:u,compact:f,title:m,desc:h}=e,x=Gee(e,Vee),v=mc(x);return f?j.createElement(j.Fragment,null,j.createElement(Fd,{width:r,height:n}),j.createElement(CD,{otherAttributes:v,title:m,desc:h},l)):j.createElement(Yee,{className:c,style:u,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},j.createElement(CD,{otherAttributes:v,title:m,desc:h,ref:t},j.createElement(qJ,null,l)))});function Qee(e){var t=Ir();return j.useEffect(()=>{t(gee(e))},[t,e]),null}var Xee=["layout"];function Jy(){return Jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jy.apply(null,arguments)}function Zee(e,t){if(e==null)return{};var r,n,i=Jee(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Jee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ete={top:5,right:5,bottom:5,left:5},U4={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ete,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},tte=j.forwardRef(function(t,r){var n,i=ui(t.categoricalChartProps,U4),{layout:l}=i,c=Zee(i,Xee),{chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:h}=t,x={chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:h,eventEmitter:void 0};return j.createElement(See,{preloadedState:{options:x},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:u},j.createElement(LJ,{chartData:i.data}),j.createElement(kee,{layout:l,margin:i.margin}),j.createElement(Aee,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),j.createElement(Qee,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),j.createElement(Kee,Jy({},c,{ref:r})))});function AD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function MD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AD(Object(r),!0).forEach(function(n){rte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rte(e,t,r){return(t=nte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nte(e){var t=ate(e,"string");return typeof t=="symbol"?t:t+""}function ate(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ite=["item"],ste=MD(MD({},U4),{},{layout:"centric",startAngle:0,endAngle:360}),pN=j.forwardRef((e,t)=>{var r=ui(e,ste);return j.createElement(tte,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:ite,tooltipPayloadSearcher:wQ,categoricalChartProps:r,ref:t})});function Le(e){const t=e.match(/ ?-\s+(Direct|Regular|Growth)\b/i);if(t){const r=t.index+t[0].length-t[1].length;return{main:e.slice(0,t.index).trim(),plan:e.slice(r)}}return{main:e,plan:""}}function K(e){return e<0?`-${K(-e)}`:e>=1e7?`${(e/1e7).toFixed(2)} Cr`:e>=1e5?`${(e/1e5).toFixed(2)} L`:e>=1e3?`${(e/1e3).toFixed(0)}K`:`${e.toLocaleString("en-IN")}`}const Y4="cf_market_data",lte=300*1e3,DD=300*1e3;function ote(){try{const e=sessionStorage.getItem(Y4);if(!e)return null;const t=JSON.parse(e);return Date.now()-t._ts>lte?null:t}catch{return null}}function cte(e){try{sessionStorage.setItem(Y4,JSON.stringify({...e,_ts:Date.now()}))}catch{}}function ute(){const[e,t]=j.useState(()=>ote()),[r,n]=j.useState([]),i=j.useRef(null),[l,c]=j.useState(!1),[u,f]=j.useState(!1);j.useEffect(()=>{let x=!1;async function v(){try{const S=await SF();if(!x&&S){const y={...S,_ts:Date.now()};t(y),cte(y)}}catch{}}v();const g=setInterval(v,DD);return()=>{x=!0,clearInterval(g)}},[]),j.useEffect(()=>{let x=!1;async function v(){try{const S=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum&vs_currencies=inr&include_24hr_change=true");if(!x&&S.ok){const y=await S.json(),N=[];y.bitcoin&&N.push({name:"BTC",price:y.bitcoin.inr,changePct:y.bitcoin.inr_24h_change||0,type:"crypto"}),y.ethereum&&N.push({name:"ETH",price:y.ethereum.inr,changePct:y.ethereum.inr_24h_change||0,type:"crypto"}),n(N)}}catch{}}v();const g=setInterval(v,DD);return()=>{x=!0,clearInterval(g)}},[]);const m=[];if(e?.indices&&m.push(...e.indices),e?.metals&&m.push(...e.metals),r.length>0&&m.push(...r),j.useEffect(()=>{if(!i.current)return;const x=i.current,v=x.parentElement;c(x.scrollWidth>v.clientWidth)},[m.length]),m.length===0)return null;const h=m.length*3;return a.jsxs("div",{className:"bg-[var(--bg-card)]/80 backdrop-blur-sm border-b border-[var(--border-light)] overflow-hidden",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),onTouchStart:()=>f(!0),onTouchEnd:()=>f(!1),children:[a.jsx("div",{className:"overflow-hidden",children:a.jsxs("div",{ref:i,className:"flex items-stretch w-max",style:l?{animation:`ticker-scroll ${h}s linear infinite`,animationPlayState:u?"paused":"running"}:{margin:"0 auto"},children:[m.map((x,v)=>a.jsx(ED,{item:x},x.name+v)),l&&m.map((x,v)=>a.jsx(ED,{item:x},"dup-"+x.name+v))]})}),a.jsx("style",{children:`
        @keyframes ticker-scroll {
          0% { transform: translateX(0); }
          100% { transform: translateX(-50%); }
        }
      `})]})}function ED({item:e}){const t=e.changePct>=0,r=t?a.jsx(fc,{size:10}):a.jsx(Mp,{size:10}),n=t?"text-emerald-400":"text-[var(--accent-rose)]",i=l=>l>=1e5?`${(l/1e5).toFixed(2)}L`:l>=1e3?`${l.toLocaleString("en-IN",{maximumFractionDigits:0})}`:`${l.toLocaleString("en-IN",{maximumFractionDigits:2})}`;return a.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 border-r border-[var(--border-light)] last:border-0 shrink-0",children:[a.jsx("span",{className:"text-[10px] font-semibold text-[var(--text-dim)] uppercase whitespace-nowrap",children:e.name}),a.jsx("span",{className:"text-[11px] font-bold text-[var(--text-primary)] tabular-nums whitespace-nowrap",children:e.unit?`${i(e.price)}`:i(e.price)}),e.changePct!==void 0&&e.changePct!==null&&a.jsxs("span",{className:`flex items-center gap-0.5 text-[10px] font-bold tabular-nums ${n}`,children:[r,t?"+":"",e.changePct.toFixed(2),"%"]})]})}function dte(){const{selectedMember:e}=Br(),{mfPortfolios:t,mfHoldings:r,insurancePolicies:n,goalList:i,reminderList:l}=ht(),c=(v,g)=>{const S=v||[];return e==="all"?S:S.filter(y=>y[g]===e)},u=j.useMemo(()=>{let v=0,g=0,S=0;return c((t||[]).filter(C=>C.status!=="Inactive"),"ownerId").forEach(C=>{const A=(r||[]).filter(D=>D.portfolioId===C.portfolioId&&D.units>0),k=A.reduce((D,O)=>D+O.currentValue,0),M=(C.rebalanceThreshold||.05)*100;A.forEach(D=>{if(D.athNav>0&&D.belowATHPct>=10?g++:D.athNav>0&&D.belowATHPct>=5&&v++,D.targetAllocationPct>0&&k>0){const O=D.currentValue/k*100;Math.abs(O-D.targetAllocationPct)>M&&S++}})}),{buyOppCount:v+g,buyCount:v,strongBuyCount:g,rebalanceCount:S}},[e,t,r]),f=j.useMemo(()=>{const v=[],g=c((n||[]).filter(k=>k.status==="Active"),"memberId");g.some(k=>k.policyType==="Term Life")||v.push({type:"critical",title:"Missing Term Life Insurance",badge:"Add Policy",navigateTo:"/insurance"});const y=g.filter(k=>k.policyType==="Health").reduce((k,M)=>k+M.sumAssured,0);return y===0?v.push({type:"critical",title:"No Health Insurance",badge:"Add Policy",navigateTo:"/insurance"}):y<5e5&&v.push({type:"warning",title:"Inadequate Health Insurance",badge:K(y),navigateTo:"/insurance"}),c((i||[]).filter(k=>k.isActive!==!1&&k.goalType==="Emergency Fund"),"familyMemberId").forEach(k=>{const M=k.targetAmount>0?k.currentValue/k.targetAmount*100:0;M<100&&v.push({type:M>=75?"info":"warning",title:`Emergency Fund at ${M.toFixed(0)}%`,badge:K(k.targetAmount-k.currentValue)+" left",navigateTo:"/goals"})}),c((l||[]).filter(k=>k.isActive!==!1),"familyMemberId").filter(k=>new Date(k.dueDate)<new Date).forEach(k=>{const M=Math.ceil((new Date-new Date(k.dueDate))/864e5);v.push({type:"critical",title:k.title,badge:`${M}d overdue`,navigateTo:"/reminders"})}),c((i||[]).filter(k=>k.isActive!==!1&&k.status==="Needs Attention"),"familyMemberId").forEach(k=>{v.push({type:"warning",title:`${k.goalName} needs attention`,badge:k.priority,navigateTo:"/goals"})}),v},[e,n,i,l]),m=j.useMemo(()=>{const v=c((l||[]).filter(S=>S.isActive!==!1&&S.status!=="Completed"),"familyMemberId"),g=new Date;return v.map(S=>{const y=new Date(S.dueDate)-g,N=Math.ceil(y/(1440*60*1e3)),C=new Date(S.dueDate).toLocaleDateString("en-IN",{day:"2-digit",month:"short"});return{...S,days:N,dateStr:C}}).filter(S=>S.days>=0&&S.days<=30).sort((S,y)=>S.days-y.days).slice(0,5)},[e,l]),h=f.length+u.buyOppCount+u.rebalanceCount+m.length,x=f.filter(v=>v.type==="critical").length;return{criticalAlerts:f,investmentSignals:u,upcomingReminders:m,totalCount:h,criticalCount:x}}function _D(e){return e>=20?"bg-rose-500/20 text-[var(--accent-rose)]":e>=10?"bg-orange-500/20 text-[var(--accent-orange)]":e>=5?"bg-amber-500/20 text-[var(--accent-amber)]":"bg-slate-500/20 text-[var(--text-muted)]"}function OD(e){return e>=10?{label:"Strong Buy",cls:"bg-emerald-500/20 text-emerald-400 ring-1 ring-emerald-500/30"}:e>=5?{label:"Buy",cls:"bg-blue-500/20 text-blue-400"}:null}function V4(){const{mfHoldings:e,mfPortfolios:t}=ht(),r=j.useMemo(()=>t.filter(i=>i.status!=="Inactive").map(i=>{const l=e.filter(f=>f.portfolioId===i.portfolioId&&f.units>0),c=l.reduce((f,m)=>f+m.currentValue,0),u=l.filter(f=>f.athNav>0&&f.belowATHPct>=1).sort((f,m)=>m.belowATHPct-f.belowATHPct).map(f=>({...f,currentPct:c>0?f.currentValue/c*100:0}));return{...i,totalValue:c,opportunities:u}}).filter(i=>i.opportunities.length>0),[t,e]);return r.reduce((i,l)=>i+l.opportunities.length,0)===0?a.jsxs("div",{className:"py-8 text-center",children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No buy opportunities right now"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"All funds are near their all-time highs"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] px-1",children:"Funds below their All-Time High NAV. Higher discount = better opportunity."}),r.map((i,l)=>a.jsxs("div",{className:"border border-[var(--border-light)] border-l-2 border-l-emerald-500/50 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2.5 bg-[var(--bg-inset)]",children:[a.jsx("span",{className:"text-xs font-bold text-emerald-400 bg-emerald-500/15 w-5 h-5 rounded flex items-center justify-center",children:l+1}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:i.portfolioName}),a.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:i.ownerName}),a.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-emerald-500/15 text-emerald-400",children:[i.opportunities.length," funds"]})]}),a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),a.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Signal"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Below ATH"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"ATH NAV"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Current"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Value"})]})}),a.jsx("tbody",{children:i.opportunities.map(c=>{const u=OD(c.belowATHPct);return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[a.jsxs("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[200px]",children:[a.jsx("p",{className:"truncate",children:Le(c.fundName).main}),Le(c.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(c.fundName).plan})]}),a.jsx("td",{className:"py-2 px-2 text-center",children:u?a.jsx("span",{className:`inline-block text-[10px] font-bold px-2 py-0.5 rounded-full whitespace-nowrap ${u.cls}`,children:u.label}):a.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:"Watch"})}),a.jsx("td",{className:"py-2 px-2 text-right",children:a.jsxs("span",{className:`inline-block text-xs font-semibold px-1.5 py-0.5 rounded-full ${_D(c.belowATHPct)}`,children:["",c.belowATHPct.toFixed(1),"%"]})}),a.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:["",c.athNav.toFixed(2)]}),a.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:["",c.currentNav.toFixed(2)]}),a.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:K(c.currentValue)})]},c.holdingId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:i.opportunities.map(c=>{const u=OD(c.belowATHPct);return a.jsxs("div",{className:"px-3 py-2.5",children:[a.jsxs("div",{className:"flex items-start justify-between mb-1",children:[a.jsxs("div",{className:"flex-1 mr-2",children:[a.jsx("p",{className:"text-xs text-[var(--text-primary)] leading-tight",children:Le(c.fundName).main}),Le(c.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(c.fundName).plan})]}),a.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[u&&a.jsx("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded-full ${u.cls}`,children:u.label}),a.jsxs("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${_D(c.belowATHPct)}`,children:["",c.belowATHPct.toFixed(1),"%"]})]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)]",children:[a.jsxs("span",{children:["ATH ",c.athNav.toFixed(2),"  ",c.currentNav.toFixed(2)]}),a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:K(c.currentValue)})]})]},c.holdingId)})})]},i.portfolioId))]})}const G4=6048e5,fte=864e5,Cx=6e4,kx=36e5,mte=1e3,TD=Symbol.for("constructDateFrom");function Tt(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&TD in e?e[TD](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ge(e,t){return Tt(t||e,e)}function Sa(e,t,r){const n=Ge(e,r?.in);return isNaN(t)?Tt(r?.in||e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Da(e,t,r){const n=Ge(e,r?.in);if(isNaN(t))return Tt(e,NaN);if(!t)return n;const i=n.getDate(),l=Tt(e,n.getTime());l.setMonth(n.getMonth()+t+1,0);const c=l.getDate();return i>=c?l:(n.setFullYear(l.getFullYear(),l.getMonth(),i),n)}function W4(e,t,r){return Tt(e,+Ge(e)+t)}function pte(e,t,r){return W4(e,t*kx)}let hte={};function lo(){return hte}function Zi(e,t){const r=lo(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=Ge(e,t?.in),l=i.getDay(),c=(l<n?7:0)+l-n;return i.setDate(i.getDate()-c),i.setHours(0,0,0,0),i}function bc(e,t){return Zi(e,{...t,weekStartsOn:1})}function K4(e,t){const r=Ge(e,t?.in),n=r.getFullYear(),i=Tt(r,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const l=bc(i),c=Tt(r,0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);const u=bc(c);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function bh(e){const t=Ge(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function as(e,...t){const r=Tt.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function ro(e,t){const r=Ge(e,t?.in);return r.setHours(0,0,0,0),r}function yc(e,t,r){const[n,i]=as(r?.in,e,t),l=ro(n),c=ro(i),u=+l-bh(l),f=+c-bh(c);return Math.round((u-f)/fte)}function xte(e,t){const r=K4(e,t),n=Tt(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),bc(n)}function Ad(e,t,r){const n=Ge(e,r?.in);return n.setTime(n.getTime()+t*Cx),n}function hN(e,t,r){return Da(e,t*3,r)}function vte(e,t,r){return W4(e,t*1e3)}function yh(e,t,r){return Sa(e,t*7,r)}function Ca(e,t,r){return Da(e,t*12,r)}function PD(e,t){let r,n=t?.in;return e.forEach(i=>{!n&&typeof i=="object"&&(n=Tt.bind(null,i));const l=Ge(i,n);(!r||r<l||isNaN(+l))&&(r=l)}),Tt(n,r||NaN)}function ID(e,t){let r,n=t?.in;return e.forEach(i=>{!n&&typeof i=="object"&&(n=Tt.bind(null,i));const l=Ge(i,n);(!r||r>l||isNaN(+l))&&(r=l)}),Tt(n,r||NaN)}function gte(e,t,r){const[n,i]=as(r?.in,e,t);return+ro(n)==+ro(i)}function ri(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function jc(e){return!(!ri(e)&&typeof e!="number"||isNaN(+Ge(e)))}function jh(e,t,r){const[n,i]=as(r?.in,e,t),l=n.getFullYear()-i.getFullYear(),c=n.getMonth()-i.getMonth();return l*12+c}function Fs(e,t){const r=Ge(e,t?.in);return Math.trunc(r.getMonth()/3)+1}function Nh(e,t,r){const[n,i]=as(r?.in,e,t),l=n.getFullYear()-i.getFullYear(),c=Fs(n)-Fs(i);return l*4+c}function wh(e,t,r){const[n,i]=as(r?.in,e,t);return n.getFullYear()-i.getFullYear()}function bte(e,t,r){const[n,i]=as(r?.in,e,t),l=RD(n,i),c=Math.abs(yc(n,i));n.setDate(n.getDate()-l*c);const u=+(RD(n,i)===-l),f=l*(c-u);return f===0?0:f}function RD(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function Q4(e,t){const r=Ge(e,t?.in);return r.setHours(23,59,59,999),r}function X4(e,t){const r=Ge(e,t?.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function e1(e,t){const r=Ge(e,t?.in),n=r.getMonth(),i=n-n%3;return r.setMonth(i,1),r.setHours(0,0,0,0),r}function Z4(e,t){const r=Ge(e,t?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function J4(e,t){const r=Ge(e,t?.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function Ax(e,t){const r=Ge(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function yte(e,t){const r=lo(),n=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=Ge(e,t?.in),l=i.getDay(),c=(l<n?-7:0)+6-(l-n);return i.setDate(i.getDate()+c),i.setHours(23,59,59,999),i}const jte={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Nte=(e,t,r)=>{let n;const i=jte[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Tb(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const wte={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ste={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Cte={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kte={date:Tb({formats:wte,defaultWidth:"full"}),time:Tb({formats:Ste,defaultWidth:"full"}),dateTime:Tb({formats:Cte,defaultWidth:"full"})},Ate={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Mte=(e,t,r,n)=>Ate[e];function Wu(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,u=r?.width?String(r.width):c;i=e.formattingValues[u]||e.formattingValues[c]}else{const c=e.defaultWidth,u=r?.width?String(r.width):e.defaultWidth;i=e.values[u]||e.values[c]}const l=e.argumentCallback?e.argumentCallback(t):t;return i[l]}}const Dte={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ete={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_te={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ote={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Tte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Pte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ite=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Rte={ordinalNumber:Ite,era:Wu({values:Dte,defaultWidth:"wide"}),quarter:Wu({values:Ete,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Wu({values:_te,defaultWidth:"wide"}),day:Wu({values:Ote,defaultWidth:"wide"}),dayPeriod:Wu({values:Tte,defaultWidth:"wide",formattingValues:Pte,defaultFormattingWidth:"wide"})};function Ku(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],l=t.match(i);if(!l)return null;const c=l[0],u=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(u)?Fte(u,x=>x.test(c)):Lte(u,x=>x.test(c));let m;m=e.valueCallback?e.valueCallback(f):f,m=r.valueCallback?r.valueCallback(m):m;const h=t.slice(c.length);return{value:m,rest:h}}}function Lte(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Fte(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function zte(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],l=t.match(e.parsePattern);if(!l)return null;let c=e.valueCallback?e.valueCallback(l[0]):l[0];c=r.valueCallback?r.valueCallback(c):c;const u=t.slice(i.length);return{value:c,rest:u}}}const Bte=/^(\d+)(th|st|nd|rd)?/i,$te=/\d+/i,qte={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Hte={any:[/^b/i,/^(a|c)/i]},Ute={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Yte={any:[/1/i,/2/i,/3/i,/4/i]},Vte={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Gte={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Wte={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Kte={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Qte={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Xte={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Zte={ordinalNumber:zte({matchPattern:Bte,parsePattern:$te,valueCallback:e=>parseInt(e,10)}),era:Ku({matchPatterns:qte,defaultMatchWidth:"wide",parsePatterns:Hte,defaultParseWidth:"any"}),quarter:Ku({matchPatterns:Ute,defaultMatchWidth:"wide",parsePatterns:Yte,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ku({matchPatterns:Vte,defaultMatchWidth:"wide",parsePatterns:Gte,defaultParseWidth:"any"}),day:Ku({matchPatterns:Wte,defaultMatchWidth:"wide",parsePatterns:Kte,defaultParseWidth:"any"}),dayPeriod:Ku({matchPatterns:Qte,defaultMatchWidth:"any",parsePatterns:Xte,defaultParseWidth:"any"})},eI={code:"en-US",formatDistance:Nte,formatLong:kte,formatRelative:Mte,localize:Rte,match:Zte,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Jte(e,t){const r=Ge(e,t?.in);return yc(r,Ax(r))+1}function xN(e,t){const r=Ge(e,t?.in),n=+bc(r)-+xte(r);return Math.round(n/G4)+1}function vN(e,t){const r=Ge(e,t?.in),n=r.getFullYear(),i=lo(),l=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=Tt(t?.in||e,0);c.setFullYear(n+1,0,l),c.setHours(0,0,0,0);const u=Zi(c,t),f=Tt(t?.in||e,0);f.setFullYear(n,0,l),f.setHours(0,0,0,0);const m=Zi(f,t);return+r>=+u?n+1:+r>=+m?n:n-1}function ere(e,t){const r=lo(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=vN(e,t),l=Tt(t?.in||e,0);return l.setFullYear(i,0,n),l.setHours(0,0,0,0),Zi(l,t)}function tI(e,t){const r=Ge(e,t?.in),n=+Zi(r,t)-+ere(r,t);return Math.round(n/G4)+1}function _t(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Ts={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return _t(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):_t(r+1,2)},d(e,t){return _t(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(e,t){return _t(e.getHours()%12||12,t.length)},H(e,t){return _t(e.getHours(),t.length)},m(e,t){return _t(e.getMinutes(),t.length)},s(e,t){return _t(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return _t(i,t.length)}},Wo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},LD={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Ts.y(e,t)},Y:function(e,t,r,n){const i=vN(e,n),l=i>0?i:1-i;if(t==="YY"){const c=l%100;return _t(c,2)}return t==="Yo"?r.ordinalNumber(l,{unit:"year"}):_t(l,t.length)},R:function(e,t){const r=K4(e);return _t(r,t.length)},u:function(e,t){const r=e.getFullYear();return _t(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return _t(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return _t(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Ts.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return _t(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=tI(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):_t(i,t.length)},I:function(e,t,r){const n=xN(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):_t(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Ts.d(e,t)},D:function(e,t,r){const n=Jte(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):_t(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),l=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return _t(l,2);case"eo":return r.ordinalNumber(l,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),l=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return _t(l,t.length);case"co":return r.ordinalNumber(l,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return _t(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=Wo.noon:n===0?i=Wo.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=Wo.evening:n>=12?i=Wo.afternoon:n>=4?i=Wo.morning:i=Wo.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ts.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Ts.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):_t(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):_t(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ts.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Ts.s(e,t)},S:function(e,t){return Ts.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return zD(n);case"XXXX":case"XX":return Ol(n);default:return Ol(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return zD(n);case"xxxx":case"xx":return Ol(n);default:return Ol(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+FD(n,":");default:return"GMT"+Ol(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+FD(n,":");default:return"GMT"+Ol(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return _t(n,t.length)},T:function(e,t,r){return _t(+e,t.length)}};function FD(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),l=n%60;return l===0?r+String(i):r+String(i)+t+_t(l,2)}function zD(e,t){return e%60===0?(e>0?"-":"+")+_t(Math.abs(e)/60,2):Ol(e,t)}function Ol(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=_t(Math.trunc(n/60),2),l=_t(n%60,2);return r+i+t+l}const BD=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},rI=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},tre=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return BD(e,t);let l;switch(n){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",BD(n,t)).replace("{{time}}",rI(i,t))},t1={p:rI,P:tre},rre=/^D+$/,nre=/^Y+$/,are=["D","DD","YY","YYYY"];function ire(e){return rre.test(e)}function sre(e){return nre.test(e)}function lre(e,t,r){const n=ore(e,t,r);if(console.warn(n),are.includes(e))throw new RangeError(n)}function ore(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const cre=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ure=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,dre=/^'([^]*?)'?$/,fre=/''/g,mre=/[a-zA-Z]/;function $D(e,t,r){const n=lo(),i=r?.locale??n.locale??eI,l=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,c=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,u=Ge(e,r?.in);if(!jc(u))throw new RangeError("Invalid time value");let f=t.match(ure).map(h=>{const x=h[0];if(x==="p"||x==="P"){const v=t1[x];return v(h,i.formatLong)}return h}).join("").match(cre).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const x=h[0];if(x==="'")return{isToken:!1,value:pre(h)};if(LD[x])return{isToken:!0,value:h};if(x.match(mre))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:h}});i.localize.preprocessor&&(f=i.localize.preprocessor(u,f));const m={firstWeekContainsDate:l,weekStartsOn:c,locale:i};return f.map(h=>{if(!h.isToken)return h.value;const x=h.value;(!r?.useAdditionalWeekYearTokens&&sre(x)||!r?.useAdditionalDayOfYearTokens&&ire(x))&&lre(x,t,String(e));const v=LD[x[0]];return v(u,x,i.localize,m)}).join("")}function pre(e){const t=e.match(dre);return t?t[1].replace(fre,"'"):e}function qD(e,t){return Ge(e,t?.in).getDate()}function hre(e,t){return Ge(e,t?.in).getDay()}function xre(e,t){const r=Ge(e,t?.in),n=r.getFullYear(),i=r.getMonth(),l=Tt(r,0);return l.setFullYear(n,i+1,0),l.setHours(0,0,0,0),l.getDate()}function vre(){return Object.assign({},lo())}function tn(e,t){return Ge(e,t?.in).getHours()}function gre(e,t){const r=Ge(e,t?.in).getDay();return r===0?7:r}function rn(e,t){return Ge(e,t?.in).getMinutes()}function jn(e,t){return Ge(e,t?.in).getMonth()}function $s(e){return Ge(e).getSeconds()}function r1(e){return+Ge(e)}function pt(e,t){return Ge(e,t?.in).getFullYear()}function $i(e,t){return+Ge(e)>+Ge(t)}function Za(e,t){return+Ge(e)<+Ge(t)}function bre(e,t){return+Ge(e)==+Ge(t)}function yre(e,t){const r=jre(t)?new t(0):Tt(t,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function jre(e){return typeof e=="function"&&e.prototype?.constructor===e}const Nre=10;class nI{subPriority=0;validate(t,r){return!0}}class wre extends nI{constructor(t,r,n,i,l){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=i,l&&(this.subPriority=l)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class Sre extends nI{priority=Nre;subPriority=-1;constructor(t,r){super(),this.context=t||(n=>Tt(r,n))}set(t,r){return r.timestampIsSet?t:Tt(t,yre(t,this.context))}}class At{run(t,r,n,i){const l=this.parse(t,r,n,i);return l?{setter:new wre(l.value,this.validate,this.set,this.priority,this.subPriority),rest:l.rest}:null}validate(t,r,n){return!0}}class Cre extends At{priority=140;parse(t,r,n){switch(r){case"G":case"GG":case"GGG":return n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"});case"GGGGG":return n.era(t,{width:"narrow"});default:return n.era(t,{width:"wide"})||n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"})}}set(t,r,n){return r.era=n,t.setFullYear(n,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const Nr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ga={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function wr(e,t){return e&&{value:t(e.value),rest:e.rest}}function lr(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function Wa(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,i=r[2]?parseInt(r[2],10):0,l=r[3]?parseInt(r[3],10):0,c=r[5]?parseInt(r[5],10):0;return{value:n*(i*kx+l*Cx+c*mte),rest:t.slice(r[0].length)}}function aI(e){return lr(Nr.anyDigitsSigned,e)}function xr(e,t){switch(e){case 1:return lr(Nr.singleDigit,t);case 2:return lr(Nr.twoDigits,t);case 3:return lr(Nr.threeDigits,t);case 4:return lr(Nr.fourDigits,t);default:return lr(new RegExp("^\\d{1,"+e+"}"),t)}}function Sh(e,t){switch(e){case 1:return lr(Nr.singleDigitSigned,t);case 2:return lr(Nr.twoDigitsSigned,t);case 3:return lr(Nr.threeDigitsSigned,t);case 4:return lr(Nr.fourDigitsSigned,t);default:return lr(new RegExp("^-?\\d{1,"+e+"}"),t)}}function gN(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function iI(e,t){const r=t>0,n=r?t:1-t;let i;if(n<=50)i=e||100;else{const l=n+50,c=Math.trunc(l/100)*100,u=e>=l%100;i=e+c-(u?100:0)}return r?i:1-i}function sI(e){return e%400===0||e%4===0&&e%100!==0}class kre extends At{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,r,n){const i=l=>({year:l,isTwoDigitYear:r==="yy"});switch(r){case"y":return wr(xr(4,t),i);case"yo":return wr(n.ordinalNumber(t,{unit:"year"}),i);default:return wr(xr(r.length,t),i)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,n){const i=t.getFullYear();if(n.isTwoDigitYear){const c=iI(n.year,i);return t.setFullYear(c,0,1),t.setHours(0,0,0,0),t}const l=!("era"in r)||r.era===1?n.year:1-n.year;return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}}class Are extends At{priority=130;parse(t,r,n){const i=l=>({year:l,isTwoDigitYear:r==="YY"});switch(r){case"Y":return wr(xr(4,t),i);case"Yo":return wr(n.ordinalNumber(t,{unit:"year"}),i);default:return wr(xr(r.length,t),i)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,n,i){const l=vN(t,i);if(n.isTwoDigitYear){const u=iI(n.year,l);return t.setFullYear(u,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),Zi(t,i)}const c=!("era"in r)||r.era===1?n.year:1-n.year;return t.setFullYear(c,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),Zi(t,i)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class Mre extends At{priority=130;parse(t,r){return Sh(r==="R"?4:r.length,t)}set(t,r,n){const i=Tt(t,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),bc(i)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class Dre extends At{priority=130;parse(t,r){return Sh(r==="u"?4:r.length,t)}set(t,r,n){return t.setFullYear(n,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class Ere extends At{priority=120;parse(t,r,n){switch(r){case"Q":case"QQ":return xr(r.length,t);case"Qo":return n.ordinalNumber(t,{unit:"quarter"});case"QQQ":return n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(t,{width:"narrow",context:"formatting"});default:return n.quarter(t,{width:"wide",context:"formatting"})||n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,n){return t.setMonth((n-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class _re extends At{priority=120;parse(t,r,n){switch(r){case"q":case"qq":return xr(r.length,t);case"qo":return n.ordinalNumber(t,{unit:"quarter"});case"qqq":return n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(t,{width:"narrow",context:"standalone"});default:return n.quarter(t,{width:"wide",context:"standalone"})||n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,n){return t.setMonth((n-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class Ore extends At{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,r,n){const i=l=>l-1;switch(r){case"M":return wr(lr(Nr.month,t),i);case"MM":return wr(xr(2,t),i);case"Mo":return wr(n.ordinalNumber(t,{unit:"month"}),i);case"MMM":return n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(t,{width:"narrow",context:"formatting"});default:return n.month(t,{width:"wide",context:"formatting"})||n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,n){return t.setMonth(n,1),t.setHours(0,0,0,0),t}}class Tre extends At{priority=110;parse(t,r,n){const i=l=>l-1;switch(r){case"L":return wr(lr(Nr.month,t),i);case"LL":return wr(xr(2,t),i);case"Lo":return wr(n.ordinalNumber(t,{unit:"month"}),i);case"LLL":return n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(t,{width:"narrow",context:"standalone"});default:return n.month(t,{width:"wide",context:"standalone"})||n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,n){return t.setMonth(n,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function Pre(e,t,r){const n=Ge(e,r?.in),i=tI(n,r)-t;return n.setDate(n.getDate()-i*7),Ge(n,r?.in)}class Ire extends At{priority=100;parse(t,r,n){switch(r){case"w":return lr(Nr.week,t);case"wo":return n.ordinalNumber(t,{unit:"week"});default:return xr(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,n,i){return Zi(Pre(t,n,i),i)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function Rre(e,t,r){const n=Ge(e,r?.in),i=xN(n,r)-t;return n.setDate(n.getDate()-i*7),n}class Lre extends At{priority=100;parse(t,r,n){switch(r){case"I":return lr(Nr.week,t);case"Io":return n.ordinalNumber(t,{unit:"week"});default:return xr(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,n){return bc(Rre(t,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const Fre=[31,28,31,30,31,30,31,31,30,31,30,31],zre=[31,29,31,30,31,30,31,31,30,31,30,31];class Bre extends At{priority=90;subPriority=1;parse(t,r,n){switch(r){case"d":return lr(Nr.date,t);case"do":return n.ordinalNumber(t,{unit:"date"});default:return xr(r.length,t)}}validate(t,r){const n=t.getFullYear(),i=sI(n),l=t.getMonth();return i?r>=1&&r<=zre[l]:r>=1&&r<=Fre[l]}set(t,r,n){return t.setDate(n),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class $re extends At{priority=90;subpriority=1;parse(t,r,n){switch(r){case"D":case"DD":return lr(Nr.dayOfYear,t);case"Do":return n.ordinalNumber(t,{unit:"date"});default:return xr(r.length,t)}}validate(t,r){const n=t.getFullYear();return sI(n)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,n){return t.setMonth(0,n),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function bN(e,t,r){const n=lo(),i=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=Ge(e,r?.in),c=l.getDay(),f=(t%7+7)%7,m=7-i,h=t<0||t>6?t-(c+m)%7:(f+m)%7-(c+m)%7;return Sa(l,h,r)}class qre extends At{priority=90;parse(t,r,n){switch(r){case"E":case"EE":case"EEE":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,n,i){return t=bN(t,n,i),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class Hre extends At{priority=90;parse(t,r,n,i){const l=c=>{const u=Math.floor((c-1)/7)*7;return(c+i.weekStartsOn+6)%7+u};switch(r){case"e":case"ee":return wr(xr(r.length,t),l);case"eo":return wr(n.ordinalNumber(t,{unit:"day"}),l);case"eee":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeeee":return n.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,n,i){return t=bN(t,n,i),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class Ure extends At{priority=90;parse(t,r,n,i){const l=c=>{const u=Math.floor((c-1)/7)*7;return(c+i.weekStartsOn+6)%7+u};switch(r){case"c":case"cc":return wr(xr(r.length,t),l);case"co":return wr(n.ordinalNumber(t,{unit:"day"}),l);case"ccc":return n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"ccccc":return n.day(t,{width:"narrow",context:"standalone"});case"cccccc":return n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});default:return n.day(t,{width:"wide",context:"standalone"})||n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,n,i){return t=bN(t,n,i),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function Yre(e,t,r){const n=Ge(e,r?.in),i=gre(n,r),l=t-i;return Sa(n,l,r)}class Vre extends At{priority=90;parse(t,r,n){const i=l=>l===0?7:l;switch(r){case"i":case"ii":return xr(r.length,t);case"io":return n.ordinalNumber(t,{unit:"day"});case"iii":return wr(n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),i);case"iiiii":return wr(n.day(t,{width:"narrow",context:"formatting"}),i);case"iiiiii":return wr(n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),i);default:return wr(n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),i)}}validate(t,r){return r>=1&&r<=7}set(t,r,n){return t=Yre(t,n),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class Gre extends At{priority=80;parse(t,r,n){switch(r){case"a":case"aa":case"aaa":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,n){return t.setHours(gN(n),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class Wre extends At{priority=80;parse(t,r,n){switch(r){case"b":case"bb":case"bbb":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,n){return t.setHours(gN(n),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class Kre extends At{priority=80;parse(t,r,n){switch(r){case"B":case"BB":case"BBB":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,n){return t.setHours(gN(n),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class Qre extends At{priority=70;parse(t,r,n){switch(r){case"h":return lr(Nr.hour12h,t);case"ho":return n.ordinalNumber(t,{unit:"hour"});default:return xr(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,n){const i=t.getHours()>=12;return i&&n<12?t.setHours(n+12,0,0,0):!i&&n===12?t.setHours(0,0,0,0):t.setHours(n,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class Xre extends At{priority=70;parse(t,r,n){switch(r){case"H":return lr(Nr.hour23h,t);case"Ho":return n.ordinalNumber(t,{unit:"hour"});default:return xr(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,n){return t.setHours(n,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class Zre extends At{priority=70;parse(t,r,n){switch(r){case"K":return lr(Nr.hour11h,t);case"Ko":return n.ordinalNumber(t,{unit:"hour"});default:return xr(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,n){return t.getHours()>=12&&n<12?t.setHours(n+12,0,0,0):t.setHours(n,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class Jre extends At{priority=70;parse(t,r,n){switch(r){case"k":return lr(Nr.hour24h,t);case"ko":return n.ordinalNumber(t,{unit:"hour"});default:return xr(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,n){const i=n<=24?n%24:n;return t.setHours(i,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class ene extends At{priority=60;parse(t,r,n){switch(r){case"m":return lr(Nr.minute,t);case"mo":return n.ordinalNumber(t,{unit:"minute"});default:return xr(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,n){return t.setMinutes(n,0,0),t}incompatibleTokens=["t","T"]}class tne extends At{priority=50;parse(t,r,n){switch(r){case"s":return lr(Nr.second,t);case"so":return n.ordinalNumber(t,{unit:"second"});default:return xr(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,n){return t.setSeconds(n,0),t}incompatibleTokens=["t","T"]}class rne extends At{priority=30;parse(t,r){const n=i=>Math.trunc(i*Math.pow(10,-r.length+3));return wr(xr(r.length,t),n)}set(t,r,n){return t.setMilliseconds(n),t}incompatibleTokens=["t","T"]}class nne extends At{priority=10;parse(t,r){switch(r){case"X":return Wa(Ga.basicOptionalMinutes,t);case"XX":return Wa(Ga.basic,t);case"XXXX":return Wa(Ga.basicOptionalSeconds,t);case"XXXXX":return Wa(Ga.extendedOptionalSeconds,t);default:return Wa(Ga.extended,t)}}set(t,r,n){return r.timestampIsSet?t:Tt(t,t.getTime()-bh(t)-n)}incompatibleTokens=["t","T","x"]}class ane extends At{priority=10;parse(t,r){switch(r){case"x":return Wa(Ga.basicOptionalMinutes,t);case"xx":return Wa(Ga.basic,t);case"xxxx":return Wa(Ga.basicOptionalSeconds,t);case"xxxxx":return Wa(Ga.extendedOptionalSeconds,t);default:return Wa(Ga.extended,t)}}set(t,r,n){return r.timestampIsSet?t:Tt(t,t.getTime()-bh(t)-n)}incompatibleTokens=["t","T","X"]}class ine extends At{priority=40;parse(t){return aI(t)}set(t,r,n){return[Tt(t,n*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class sne extends At{priority=20;parse(t){return aI(t)}set(t,r,n){return[Tt(t,n),{timestampIsSet:!0}]}incompatibleTokens="*"}const lne={G:new Cre,y:new kre,Y:new Are,R:new Mre,u:new Dre,Q:new Ere,q:new _re,M:new Ore,L:new Tre,w:new Ire,I:new Lre,d:new Bre,D:new $re,E:new qre,e:new Hre,c:new Ure,i:new Vre,a:new Gre,b:new Wre,B:new Kre,h:new Qre,H:new Xre,K:new Zre,k:new Jre,m:new ene,s:new tne,S:new rne,X:new nne,x:new ane,t:new ine,T:new sne},one=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cne=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,une=/^'([^]*?)'?$/,dne=/''/g,fne=/\S/,mne=/[a-zA-Z]/;function pne(e,t,r,n){const i=()=>Tt(n?.in||r,NaN),l=vre(),c=n?.locale??l.locale??eI,u=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,f=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??l.weekStartsOn??l.locale?.options?.weekStartsOn??0;if(!t)return e?i():Ge(r,n?.in);const m={firstWeekContainsDate:u,weekStartsOn:f,locale:c},h=[new Sre(n?.in,r)],x=t.match(cne).map(N=>{const C=N[0];if(C in t1){const A=t1[C];return A(N,c.formatLong)}return N}).join("").match(one),v=[];for(let N of x){const C=N[0],A=lne[C];if(A){const{incompatibleTokens:k}=A;if(Array.isArray(k)){const D=v.find(O=>k.includes(O.token)||O.token===C);if(D)throw new RangeError(`The format string mustn't contain \`${D.fullToken}\` and \`${N}\` at the same time`)}else if(A.incompatibleTokens==="*"&&v.length>0)throw new RangeError(`The format string mustn't contain \`${N}\` and any other token at the same time`);v.push({token:C,fullToken:N});const M=A.run(e,N,c.match,m);if(!M)return i();h.push(M.setter),e=M.rest}else{if(C.match(mne))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");if(N==="''"?N="'":C==="'"&&(N=hne(N)),e.indexOf(N)===0)e=e.slice(N.length);else return i()}}if(e.length>0&&fne.test(e))return i();const g=h.map(N=>N.priority).sort((N,C)=>C-N).filter((N,C,A)=>A.indexOf(N)===C).map(N=>h.filter(C=>C.priority===N).sort((C,A)=>A.subPriority-C.subPriority)).map(N=>N[0]);let S=Ge(r,n?.in);if(isNaN(+S))return i();const y={};for(const N of g){if(!N.validate(S,m))return i();const C=N.set(S,y,m);Array.isArray(C)?(S=C[0],Object.assign(y,C[1])):S=C}return S}function hne(e){return e.match(une)[1].replace(dne,"'")}function xne(e,t,r){const[n,i]=as(r?.in,e,t);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}function vne(e,t,r){const[n,i]=as(r?.in,e,t);return+e1(n)==+e1(i)}function gne(e,t,r){const[n,i]=as(r?.in,e,t);return n.getFullYear()===i.getFullYear()}function Md(e,t,r){const n=+Ge(e,r?.in),[i,l]=[+Ge(t.start,r?.in),+Ge(t.end,r?.in)].sort((c,u)=>c-u);return n>=i&&n<=l}function bne(e,t,r){return Sa(e,-1,r)}function yne(e,t){const r=()=>Tt(t?.in,NaN),i=Sne(e);let l;if(i.date){const m=Cne(i.date,2);l=kne(m.restDateString,m.year)}if(!l||isNaN(+l))return r();const c=+l;let u=0,f;if(i.time&&(u=Ane(i.time),isNaN(u)))return r();if(i.timezone){if(f=Mne(i.timezone),isNaN(f))return r()}else{const m=new Date(c+u),h=Ge(0,t?.in);return h.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),h.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),h}return Ge(c+u+f,t?.in)}const Im={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},jne=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Nne=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,wne=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Sne(e){const t={},r=e.split(Im.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Im.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Im.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const i=Im.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function Cne(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,l=n[2]?parseInt(n[2]):null;return{year:l===null?i:l*100,restDateString:e.slice((n[1]||n[2]).length)}}function kne(e,t){if(t===null)return new Date(NaN);const r=e.match(jne);if(!r)return new Date(NaN);const n=!!r[4],i=Qu(r[1]),l=Qu(r[2])-1,c=Qu(r[3]),u=Qu(r[4]),f=Qu(r[5])-1;if(n)return Tne(t,u,f)?Dne(t,u,f):new Date(NaN);{const m=new Date(0);return!_ne(t,l,c)||!One(t,i)?new Date(NaN):(m.setUTCFullYear(t,l,Math.max(i,c)),m)}}function Qu(e){return e?parseInt(e):1}function Ane(e){const t=e.match(Nne);if(!t)return NaN;const r=Pb(t[1]),n=Pb(t[2]),i=Pb(t[3]);return Pne(r,n,i)?r*kx+n*Cx+i*1e3:NaN}function Pb(e){return e&&parseFloat(e.replace(",","."))||0}function Mne(e){if(e==="Z")return 0;const t=e.match(wne);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return Ine(n,i)?r*(n*kx+i*Cx):NaN}function Dne(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const i=n.getUTCDay()||7,l=(t-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+l),n}const Ene=[31,null,31,30,31,30,31,31,30,31,30,31];function lI(e){return e%400===0||e%4===0&&e%100!==0}function _ne(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Ene[t]||(lI(e)?29:28))}function One(e,t){return t>=1&&t<=(lI(e)?366:365)}function Tne(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Pne(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Ine(e,t){return t>=0&&t<=59}function Rn(e,t,r){const n=Ge(e,r?.in),i=n.getFullYear(),l=n.getDate(),c=Tt(e,0);c.setFullYear(i,t,15),c.setHours(0,0,0,0);const u=xre(c);return n.setMonth(t,Math.min(l,u)),n}function xp(e,t,r){const n=Ge(e,r?.in);return n.setHours(t),n}function vp(e,t,r){const n=Ge(e,r?.in);return n.setMinutes(t),n}function tc(e,t,r){const n=Ge(e,r?.in),i=Math.trunc(n.getMonth()/3)+1,l=t-i;return Rn(n,n.getMonth()+l*3)}function gp(e,t,r){const n=Ge(e,r?.in);return n.setSeconds(t),n}function Ya(e,t,r){const n=Ge(e,r?.in);return isNaN(+n)?Tt(e,NaN):(n.setFullYear(t),n)}function Yl(e,t,r){return Da(e,-t,r)}function oI(e,t,r){return hN(e,-1,r)}function HD(e,t,r){return yh(e,-1,r)}function Gs(e,t,r){return Ca(e,-t,r)}function Mx(){return typeof window<"u"}function Uc(e){return cI(e)?(e.nodeName||"").toLowerCase():"#document"}function qn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function di(e){var t;return(t=(cI(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function cI(e){return Mx()?e instanceof Node||e instanceof qn(e).Node:!1}function on(e){return Mx()?e instanceof Element||e instanceof qn(e).Element:!1}function si(e){return Mx()?e instanceof HTMLElement||e instanceof qn(e).HTMLElement:!1}function UD(e){return!Mx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof qn(e).ShadowRoot}const Rne=new Set(["inline","contents"]);function Zd(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=ua(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!Rne.has(i)}const Lne=new Set(["table","td","th"]);function Fne(e){return Lne.has(Uc(e))}const zne=[":popover-open",":modal"];function Dx(e){return zne.some(t=>{try{return e.matches(t)}catch{return!1}})}const Bne=["transform","translate","scale","rotate","perspective"],$ne=["transform","translate","scale","rotate","perspective","filter"],qne=["paint","layout","strict","content"];function yN(e){const t=jN(),r=on(e)?ua(e):e;return Bne.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||$ne.some(n=>(r.willChange||"").includes(n))||qne.some(n=>(r.contain||"").includes(n))}function Hne(e){let t=Ws(e);for(;si(t)&&!Nc(t);){if(yN(t))return t;if(Dx(t))return null;t=Ws(t)}return null}function jN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Une=new Set(["html","body","#document"]);function Nc(e){return Une.has(Uc(e))}function ua(e){return qn(e).getComputedStyle(e)}function Ex(e){return on(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ws(e){if(Uc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||UD(e)&&e.host||di(e);return UD(t)?t.host:t}function uI(e){const t=Ws(e);return Nc(t)?e.ownerDocument?e.ownerDocument.body:e.body:si(t)&&Zd(t)?t:uI(t)}function Dd(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=uI(e),l=i===((n=e.ownerDocument)==null?void 0:n.body),c=qn(i);if(l){const u=n1(c);return t.concat(c,c.visualViewport||[],Zd(i)?i:[],u&&r?Dd(u):[])}return t.concat(i,Dd(i,[],r))}function n1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const wc=Math.min,Vl=Math.max,Ch=Math.round,Rm=Math.floor,ni=e=>({x:e,y:e}),Yne={left:"right",right:"left",bottom:"top",top:"bottom"},Vne={start:"end",end:"start"};function Gne(e,t,r){return Vl(e,wc(t,r))}function _x(e,t){return typeof e=="function"?e(t):e}function Sc(e){return e.split("-")[0]}function Jd(e){return e.split("-")[1]}function Wne(e){return e==="x"?"y":"x"}function NN(e){return e==="y"?"height":"width"}const Kne=new Set(["top","bottom"]);function zl(e){return Kne.has(Sc(e))?"y":"x"}function wN(e){return Wne(zl(e))}function Qne(e,t,r){r===void 0&&(r=!1);const n=Jd(e),i=wN(e),l=NN(i);let c=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(c=kh(c)),[c,kh(c)]}function Xne(e){const t=kh(e);return[a1(e),t,a1(t)]}function a1(e){return e.replace(/start|end/g,t=>Vne[t])}const YD=["left","right"],VD=["right","left"],Zne=["top","bottom"],Jne=["bottom","top"];function eae(e,t,r){switch(e){case"top":case"bottom":return r?t?VD:YD:t?YD:VD;case"left":case"right":return t?Zne:Jne;default:return[]}}function tae(e,t,r,n){const i=Jd(e);let l=eae(Sc(e),r==="start",n);return i&&(l=l.map(c=>c+"-"+i),t&&(l=l.concat(l.map(a1)))),l}function kh(e){return e.replace(/left|right|bottom|top/g,t=>Yne[t])}function rae(e){return{top:0,right:0,bottom:0,left:0,...e}}function dI(e){return typeof e!="number"?rae(e):{top:e,right:e,bottom:e,left:e}}function Ah(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}var nae=typeof document<"u",aae=function(){},Mh=nae?j.useLayoutEffect:aae;const iae={...m1},sae=iae.useInsertionEffect,lae=sae||(e=>e());function oae(e){const t=j.useRef(()=>{});return lae(()=>{t.current=e}),j.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t.current==null?void 0:t.current(...n)},[])}function GD(e,t,r){let{reference:n,floating:i}=e;const l=zl(t),c=wN(t),u=NN(c),f=Sc(t),m=l==="y",h=n.x+n.width/2-i.width/2,x=n.y+n.height/2-i.height/2,v=n[u]/2-i[u]/2;let g;switch(f){case"top":g={x:h,y:n.y-i.height};break;case"bottom":g={x:h,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:x};break;case"left":g={x:n.x-i.width,y:x};break;default:g={x:n.x,y:n.y}}switch(Jd(t)){case"start":g[c]-=v*(r&&m?-1:1);break;case"end":g[c]+=v*(r&&m?-1:1);break}return g}async function cae(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:l,rects:c,elements:u,strategy:f}=e,{boundary:m="clippingAncestors",rootBoundary:h="viewport",elementContext:x="floating",altBoundary:v=!1,padding:g=0}=_x(t,e),S=dI(g),N=u[v?x==="floating"?"reference":"floating":x],C=Ah(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(N)))==null||r?N:N.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(u.floating)),boundary:m,rootBoundary:h,strategy:f})),A=x==="floating"?{x:n,y:i,width:c.floating.width,height:c.floating.height}:c.reference,k=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u.floating)),M=await(l.isElement==null?void 0:l.isElement(k))?await(l.getScale==null?void 0:l.getScale(k))||{x:1,y:1}:{x:1,y:1},D=Ah(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:A,offsetParent:k,strategy:f}):A);return{top:(C.top-D.top+S.top)/M.y,bottom:(D.bottom-C.bottom+S.bottom)/M.y,left:(C.left-D.left+S.left)/M.x,right:(D.right-C.right+S.right)/M.x}}const uae=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:l=[],platform:c}=r,u=l.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(t));let m=await c.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:x}=GD(m,n,f),v=n,g={},S=0;for(let N=0;N<u.length;N++){var y;const{name:C,fn:A}=u[N],{x:k,y:M,data:D,reset:O}=await A({x:h,y:x,initialPlacement:n,placement:v,strategy:i,middlewareData:g,rects:m,platform:{...c,detectOverflow:(y=c.detectOverflow)!=null?y:cae},elements:{reference:e,floating:t}});h=k??h,x=M??x,g={...g,[C]:{...g[C],...D}},O&&S<=50&&(S++,typeof O=="object"&&(O.placement&&(v=O.placement),O.rects&&(m=O.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:i}):O.rects),{x:h,y:x}=GD(m,v,f)),N=-1)}return{x:h,y:x,placement:v,strategy:i,middlewareData:g}},dae=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:l,platform:c,elements:u,middlewareData:f}=t,{element:m,padding:h=0}=_x(e,t)||{};if(m==null)return{};const x=dI(h),v={x:r,y:n},g=wN(i),S=NN(g),y=await c.getDimensions(m),N=g==="y",C=N?"top":"left",A=N?"bottom":"right",k=N?"clientHeight":"clientWidth",M=l.reference[S]+l.reference[g]-v[g]-l.floating[S],D=v[g]-l.reference[g],O=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let P=O?O[k]:0;(!P||!await(c.isElement==null?void 0:c.isElement(O)))&&(P=u.floating[k]||l.floating[S]);const T=M/2-D/2,$=P/2-y[S]/2-1,L=wc(x[C],$),q=wc(x[A],$),E=L,Z=P-y[S]-q,Q=P/2-y[S]/2+T,re=Gne(E,Q,Z),R=!f.arrow&&Jd(i)!=null&&Q!==re&&l.reference[S]/2-(Q<E?L:q)-y[S]/2<0,G=R?Q<E?Q-E:Q-Z:0;return{[g]:v[g]+G,data:{[g]:re,centerOffset:Q-re-G,...R&&{alignmentOffset:G}},reset:R}}}),fae=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:l,rects:c,initialPlacement:u,platform:f,elements:m}=t,{mainAxis:h=!0,crossAxis:x=!0,fallbackPlacements:v,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:y=!0,...N}=_x(e,t);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const C=Sc(i),A=zl(u),k=Sc(u)===u,M=await(f.isRTL==null?void 0:f.isRTL(m.floating)),D=v||(k||!y?[kh(u)]:Xne(u)),O=S!=="none";!v&&O&&D.push(...tae(u,y,S,M));const P=[u,...D],T=await f.detectOverflow(t,N),$=[];let L=((n=l.flip)==null?void 0:n.overflows)||[];if(h&&$.push(T[C]),x){const Q=Qne(i,c,M);$.push(T[Q[0]],T[Q[1]])}if(L=[...L,{placement:i,overflows:$}],!$.every(Q=>Q<=0)){var q,E;const Q=(((q=l.flip)==null?void 0:q.index)||0)+1,re=P[Q];if(re&&(!(x==="alignment"?A!==zl(re):!1)||L.every(pe=>zl(pe.placement)===A?pe.overflows[0]>0:!0)))return{data:{index:Q,overflows:L},reset:{placement:re}};let R=(E=L.filter(G=>G.overflows[0]<=0).sort((G,pe)=>G.overflows[1]-pe.overflows[1])[0])==null?void 0:E.placement;if(!R)switch(g){case"bestFit":{var Z;const G=(Z=L.filter(pe=>{if(O){const je=zl(pe.placement);return je===A||je==="y"}return!0}).map(pe=>[pe.placement,pe.overflows.filter(je=>je>0).reduce((je,we)=>je+we,0)]).sort((pe,je)=>pe[1]-je[1])[0])==null?void 0:Z[0];G&&(R=G);break}case"initialPlacement":R=u;break}if(i!==R)return{reset:{placement:R}}}return{}}}},mae=new Set(["left","top"]);async function pae(e,t){const{placement:r,platform:n,elements:i}=e,l=await(n.isRTL==null?void 0:n.isRTL(i.floating)),c=Sc(r),u=Jd(r),f=zl(r)==="y",m=mae.has(c)?-1:1,h=l&&f?-1:1,x=_x(t,e);let{mainAxis:v,crossAxis:g,alignmentAxis:S}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return u&&typeof S=="number"&&(g=u==="end"?S*-1:S),f?{x:g*h,y:v*m}:{x:v*m,y:g*h}}const hae=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:l,placement:c,middlewareData:u}=t,f=await pae(t,e);return c===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:i+f.x,y:l+f.y,data:{...f,placement:c}}}}};function fI(e){const t=ua(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=si(e),l=i?e.offsetWidth:r,c=i?e.offsetHeight:n,u=Ch(r)!==l||Ch(n)!==c;return u&&(r=l,n=c),{width:r,height:n,$:u}}function SN(e){return on(e)?e:e.contextElement}function oc(e){const t=SN(e);if(!si(t))return ni(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:l}=fI(t);let c=(l?Ch(r.width):r.width)/n,u=(l?Ch(r.height):r.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const xae=ni(0);function mI(e){const t=qn(e);return!jN()||!t.visualViewport?xae:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function vae(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==qn(e)?!1:t}function no(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),l=SN(e);let c=ni(1);t&&(n?on(n)&&(c=oc(n)):c=oc(e));const u=vae(l,r,n)?mI(l):ni(0);let f=(i.left+u.x)/c.x,m=(i.top+u.y)/c.y,h=i.width/c.x,x=i.height/c.y;if(l){const v=qn(l),g=n&&on(n)?qn(n):n;let S=v,y=n1(S);for(;y&&n&&g!==S;){const N=oc(y),C=y.getBoundingClientRect(),A=ua(y),k=C.left+(y.clientLeft+parseFloat(A.paddingLeft))*N.x,M=C.top+(y.clientTop+parseFloat(A.paddingTop))*N.y;f*=N.x,m*=N.y,h*=N.x,x*=N.y,f+=k,m+=M,S=qn(y),y=n1(S)}}return Ah({width:h,height:x,x:f,y:m})}function Ox(e,t){const r=Ex(e).scrollLeft;return t?t.left+r:no(di(e)).left+r}function pI(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Ox(e,r),i=r.top+t.scrollTop;return{x:n,y:i}}function gae(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const l=i==="fixed",c=di(n),u=t?Dx(t.floating):!1;if(n===c||u&&l)return r;let f={scrollLeft:0,scrollTop:0},m=ni(1);const h=ni(0),x=si(n);if((x||!x&&!l)&&((Uc(n)!=="body"||Zd(c))&&(f=Ex(n)),si(n))){const g=no(n);m=oc(n),h.x=g.x+n.clientLeft,h.y=g.y+n.clientTop}const v=c&&!x&&!l?pI(c,f):ni(0);return{width:r.width*m.x,height:r.height*m.y,x:r.x*m.x-f.scrollLeft*m.x+h.x+v.x,y:r.y*m.y-f.scrollTop*m.y+h.y+v.y}}function bae(e){return Array.from(e.getClientRects())}function yae(e){const t=di(e),r=Ex(e),n=e.ownerDocument.body,i=Vl(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),l=Vl(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+Ox(e);const u=-r.scrollTop;return ua(n).direction==="rtl"&&(c+=Vl(t.clientWidth,n.clientWidth)-i),{width:i,height:l,x:c,y:u}}const WD=25;function jae(e,t){const r=qn(e),n=di(e),i=r.visualViewport;let l=n.clientWidth,c=n.clientHeight,u=0,f=0;if(i){l=i.width,c=i.height;const h=jN();(!h||h&&t==="fixed")&&(u=i.offsetLeft,f=i.offsetTop)}const m=Ox(n);if(m<=0){const h=n.ownerDocument,x=h.body,v=getComputedStyle(x),g=h.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,S=Math.abs(n.clientWidth-x.clientWidth-g);S<=WD&&(l-=S)}else m<=WD&&(l+=m);return{width:l,height:c,x:u,y:f}}const Nae=new Set(["absolute","fixed"]);function wae(e,t){const r=no(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,l=si(e)?oc(e):ni(1),c=e.clientWidth*l.x,u=e.clientHeight*l.y,f=i*l.x,m=n*l.y;return{width:c,height:u,x:f,y:m}}function KD(e,t,r){let n;if(t==="viewport")n=jae(e,r);else if(t==="document")n=yae(di(e));else if(on(t))n=wae(t,r);else{const i=mI(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Ah(n)}function hI(e,t){const r=Ws(e);return r===t||!on(r)||Nc(r)?!1:ua(r).position==="fixed"||hI(r,t)}function Sae(e,t){const r=t.get(e);if(r)return r;let n=Dd(e,[],!1).filter(u=>on(u)&&Uc(u)!=="body"),i=null;const l=ua(e).position==="fixed";let c=l?Ws(e):e;for(;on(c)&&!Nc(c);){const u=ua(c),f=yN(c);!f&&u.position==="fixed"&&(i=null),(l?!f&&!i:!f&&u.position==="static"&&!!i&&Nae.has(i.position)||Zd(c)&&!f&&hI(e,c))?n=n.filter(h=>h!==c):i=u,c=Ws(c)}return t.set(e,n),n}function Cae(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const c=[...r==="clippingAncestors"?Dx(t)?[]:Sae(t,this._c):[].concat(r),n],u=c[0],f=c.reduce((m,h)=>{const x=KD(t,h,i);return m.top=Vl(x.top,m.top),m.right=wc(x.right,m.right),m.bottom=wc(x.bottom,m.bottom),m.left=Vl(x.left,m.left),m},KD(t,u,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function kae(e){const{width:t,height:r}=fI(e);return{width:t,height:r}}function Aae(e,t,r){const n=si(t),i=di(t),l=r==="fixed",c=no(e,!0,l,t);let u={scrollLeft:0,scrollTop:0};const f=ni(0);function m(){f.x=Ox(i)}if(n||!n&&!l)if((Uc(t)!=="body"||Zd(i))&&(u=Ex(t)),n){const g=no(t,!0,l,t);f.x=g.x+t.clientLeft,f.y=g.y+t.clientTop}else i&&m();l&&!n&&i&&m();const h=i&&!n&&!l?pI(i,u):ni(0),x=c.left+u.scrollLeft-f.x-h.x,v=c.top+u.scrollTop-f.y-h.y;return{x,y:v,width:c.width,height:c.height}}function Ib(e){return ua(e).position==="static"}function QD(e,t){if(!si(e)||ua(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return di(e)===r&&(r=r.ownerDocument.body),r}function xI(e,t){const r=qn(e);if(Dx(e))return r;if(!si(e)){let i=Ws(e);for(;i&&!Nc(i);){if(on(i)&&!Ib(i))return i;i=Ws(i)}return r}let n=QD(e,t);for(;n&&Fne(n)&&Ib(n);)n=QD(n,t);return n&&Nc(n)&&Ib(n)&&!yN(n)?r:n||Hne(e)||r}const Mae=async function(e){const t=this.getOffsetParent||xI,r=this.getDimensions,n=await r(e.floating);return{reference:Aae(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Dae(e){return ua(e).direction==="rtl"}const Eae={convertOffsetParentRelativeRectToViewportRelativeRect:gae,getDocumentElement:di,getClippingRect:Cae,getOffsetParent:xI,getElementRects:Mae,getClientRects:bae,getDimensions:kae,getScale:oc,isElement:on,isRTL:Dae};function vI(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function _ae(e,t){let r=null,n;const i=di(e);function l(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function c(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),l();const m=e.getBoundingClientRect(),{left:h,top:x,width:v,height:g}=m;if(u||t(),!v||!g)return;const S=Rm(x),y=Rm(i.clientWidth-(h+v)),N=Rm(i.clientHeight-(x+g)),C=Rm(h),k={rootMargin:-S+"px "+-y+"px "+-N+"px "+-C+"px",threshold:Vl(0,wc(1,f))||1};let M=!0;function D(O){const P=O[0].intersectionRatio;if(P!==f){if(!M)return c();P?c(!1,P):n=setTimeout(()=>{c(!1,1e-7)},1e3)}P===1&&!vI(m,e.getBoundingClientRect())&&c(),M=!1}try{r=new IntersectionObserver(D,{...k,root:i.ownerDocument})}catch{r=new IntersectionObserver(D,k)}r.observe(e)}return c(!0),l}function Oae(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=n,m=SN(e),h=i||l?[...m?Dd(m):[],...Dd(t)]:[];h.forEach(C=>{i&&C.addEventListener("scroll",r,{passive:!0}),l&&C.addEventListener("resize",r)});const x=m&&u?_ae(m,r):null;let v=-1,g=null;c&&(g=new ResizeObserver(C=>{let[A]=C;A&&A.target===m&&g&&(g.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var k;(k=g)==null||k.observe(t)})),r()}),m&&!f&&g.observe(m),g.observe(t));let S,y=f?no(e):null;f&&N();function N(){const C=no(e);y&&!vI(y,C)&&r(),y=C,S=requestAnimationFrame(N)}return r(),()=>{var C;h.forEach(A=>{i&&A.removeEventListener("scroll",r),l&&A.removeEventListener("resize",r)}),x?.(),(C=g)==null||C.disconnect(),g=null,f&&cancelAnimationFrame(S)}}const Tae=hae,Pae=fae,XD=dae,Iae=(e,t,r)=>{const n=new Map,i={platform:Eae,...r},l={...i.platform,_c:n};return uae(e,t,{...i,platform:l})};var Rae=typeof document<"u",Lae=function(){},bp=Rae?j.useLayoutEffect:Lae;function Dh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Dh(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const l=i[n];if(!(l==="_owner"&&e.$$typeof)&&!Dh(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function gI(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ZD(e,t){const r=gI(e);return Math.round(t*r)/r}function Rb(e){const t=j.useRef(e);return bp(()=>{t.current=e}),t}function Fae(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:l,floating:c}={},transform:u=!0,whileElementsMounted:f,open:m}=e,[h,x]=j.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[v,g]=j.useState(n);Dh(v,n)||g(n);const[S,y]=j.useState(null),[N,C]=j.useState(null),A=j.useCallback(pe=>{pe!==O.current&&(O.current=pe,y(pe))},[]),k=j.useCallback(pe=>{pe!==P.current&&(P.current=pe,C(pe))},[]),M=l||S,D=c||N,O=j.useRef(null),P=j.useRef(null),T=j.useRef(h),$=f!=null,L=Rb(f),q=Rb(i),E=Rb(m),Z=j.useCallback(()=>{if(!O.current||!P.current)return;const pe={placement:t,strategy:r,middleware:v};q.current&&(pe.platform=q.current),Iae(O.current,P.current,pe).then(je=>{const we={...je,isPositioned:E.current!==!1};Q.current&&!Dh(T.current,we)&&(T.current=we,_c.flushSync(()=>{x(we)}))})},[v,t,r,q,E]);bp(()=>{m===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,x(pe=>({...pe,isPositioned:!1})))},[m]);const Q=j.useRef(!1);bp(()=>(Q.current=!0,()=>{Q.current=!1}),[]),bp(()=>{if(M&&(O.current=M),D&&(P.current=D),M&&D){if(L.current)return L.current(M,D,Z);Z()}},[M,D,Z,L,$]);const re=j.useMemo(()=>({reference:O,floating:P,setReference:A,setFloating:k}),[A,k]),R=j.useMemo(()=>({reference:M,floating:D}),[M,D]),G=j.useMemo(()=>{const pe={position:r,left:0,top:0};if(!R.floating)return pe;const je=ZD(R.floating,h.x),we=ZD(R.floating,h.y);return u?{...pe,transform:"translate("+je+"px, "+we+"px)",...gI(R.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:je,top:we}},[r,u,R.floating,h.x,h.y]);return j.useMemo(()=>({...h,update:Z,refs:re,elements:R,floatingStyles:G}),[h,Z,re,R,G])}const zae=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?XD({element:n.current,padding:i}).fn(r):{}:n?XD({element:n,padding:i}).fn(r):{}}}},Bae=(e,t)=>({...Tae(e),options:[e,t]}),$ae=(e,t)=>({...Pae(e),options:[e,t]}),qae=(e,t)=>({...zae(e),options:[e,t]}),Hae={...m1};let JD=!1,Uae=0;const eE=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Uae++;function Yae(){const[e,t]=j.useState(()=>JD?eE():void 0);return Mh(()=>{e==null&&t(eE())},[]),j.useEffect(()=>{JD=!0},[]),e}const Vae=Hae.useId,bI=Vae||Yae,Gae=j.forwardRef(function(t,r){const{context:{placement:n,elements:{floating:i},middlewareData:{arrow:l,shift:c}},width:u=14,height:f=7,tipRadius:m=0,strokeWidth:h=0,staticOffset:x,stroke:v,d:g,style:{transform:S,...y}={},...N}=t,C=bI(),[A,k]=j.useState(!1);if(Mh(()=>{if(!i)return;ua(i).direction==="rtl"&&k(!0)},[i]),!i)return null;const[M,D]=n.split("-"),O=M==="top"||M==="bottom";let P=x;(O&&c!=null&&c.x||!O&&c!=null&&c.y)&&(P=null);const T=h*2,$=T/2,L=u/2*(m/-8+1),q=f/2*m/4,E=!!g,Z=P&&D==="end"?"bottom":"top";let Q=P&&D==="end"?"right":"left";P&&A&&(Q=D==="end"?"left":"right");const re=l?.x!=null?P||l.x:"",R=l?.y!=null?P||l.y:"",G=g||"M0,0"+(" H"+u)+(" L"+(u-L)+","+(f-q))+(" Q"+u/2+","+f+" "+L+","+(f-q))+" Z",pe={top:E?"rotate(180deg)":"",left:E?"rotate(90deg)":"rotate(-90deg)",bottom:E?"":"rotate(180deg)",right:E?"rotate(-90deg)":"rotate(90deg)"}[M];return a.jsxs("svg",{...N,"aria-hidden":!0,ref:r,width:E?u:u+T,height:u,viewBox:"0 0 "+u+" "+(f>u?f:u),style:{position:"absolute",pointerEvents:"none",[Q]:re,[Z]:R,[M]:O||E?"100%":"calc(100% - "+T/2+"px)",transform:[pe,S].filter(je=>!!je).join(" "),...y},children:[T>0&&a.jsx("path",{clipPath:"url(#"+C+")",fill:"none",stroke:v,strokeWidth:T+(g?0:1),d:G}),a.jsx("path",{stroke:T&&!g?N.fill:"none",d:G}),a.jsx("clipPath",{id:C,children:a.jsx("rect",{x:-$,y:$*(E?-1:1),width:u+T,height:u})})]})});function Wae(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(i=>i(r))},on(t,r){e.has(t)||e.set(t,new Set),e.get(t).add(r)},off(t,r){var n;(n=e.get(t))==null||n.delete(r)}}}const Kae=j.createContext(null),Qae=j.createContext(null),Xae=()=>{var e;return((e=j.useContext(Kae))==null?void 0:e.id)||null},Zae=()=>j.useContext(Qae);function Jae(e){const{open:t=!1,onOpenChange:r,elements:n}=e,i=bI(),l=j.useRef({}),[c]=j.useState(()=>Wae()),u=Xae()!=null,[f,m]=j.useState(n.reference),h=oae((g,S,y)=>{l.current.openEvent=g?S:void 0,c.emit("openchange",{open:g,event:S,reason:y,nested:u}),r?.(g,S,y)}),x=j.useMemo(()=>({setPositionReference:m}),[]),v=j.useMemo(()=>({reference:f||n.reference||null,floating:n.floating||null,domReference:n.reference}),[f,n.reference,n.floating]);return j.useMemo(()=>({dataRef:l,open:t,onOpenChange:h,elements:v,events:c,floatingId:i,refs:x}),[t,h,v,c,i,x])}function eie(e){e===void 0&&(e={});const{nodeId:t}=e,r=Jae({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,i=n.elements,[l,c]=j.useState(null),[u,f]=j.useState(null),h=i?.domReference||l,x=j.useRef(null),v=Zae();Mh(()=>{h&&(x.current=h)},[h]);const g=Fae({...e,elements:{...i,...u&&{reference:u}}}),S=j.useCallback(k=>{const M=on(k)?{getBoundingClientRect:()=>k.getBoundingClientRect(),getClientRects:()=>k.getClientRects(),contextElement:k}:k;f(M),g.refs.setReference(M)},[g.refs]),y=j.useCallback(k=>{(on(k)||k===null)&&(x.current=k,c(k)),(on(g.refs.reference.current)||g.refs.reference.current===null||k!==null&&!on(k))&&g.refs.setReference(k)},[g.refs]),N=j.useMemo(()=>({...g.refs,setReference:y,setPositionReference:S,domReference:x}),[g.refs,y,S]),C=j.useMemo(()=>({...g.elements,domReference:h}),[g.elements,h]),A=j.useMemo(()=>({...g,...n,refs:N,elements:C,nodeId:t}),[g,N,C,t,n]);return Mh(()=>{n.dataRef.current.floatingContext=A;const k=v?.nodesRef.current.find(M=>M.id===t);k&&(k.context=A)}),j.useMemo(()=>({...g,context:A,refs:N,elements:C}),[g,N,C,A])}var i1=function(t,r){return i1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(n[l]=i[l])},i1(t,r)};function Xr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i1(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ut=function(){return ut=Object.assign||function(r){for(var n,i=1,l=arguments.length;i<l;i++){n=arguments[i];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(r[c]=n[c])}return r},ut.apply(this,arguments)};function Ja(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,l;n<i;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return e.concat(l||Array.prototype.slice.call(t))}var tie=function(e){var t=e.showTimeSelectOnly,r=t===void 0?!1:t,n=e.showTime,i=n===void 0?!1:n,l=e.className,c=e.children,u=e.inline,f=r?"Choose Time":"Choose Date".concat(i?" and Time":"");return he.createElement("div",{className:l,"aria-label":f,role:u?void 0:"dialog","aria-modal":u?void 0:"true",translate:"no"},c)},rie=function(e,t){var r=j.useRef(null),n=j.useRef(e);j.useEffect(function(){n.current=e},[e]);var i=j.useCallback(function(l){var c,u=l.composed&&l.composedPath&&l.composedPath().find(function(f){return f instanceof Node})||l.target;r.current&&!r.current.contains(u)&&(t&&u instanceof HTMLElement&&u.classList.contains(t)||(c=n.current)===null||c===void 0||c.call(n,l))},[t]);return j.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),r},Tx=function(e){var t=e.children,r=e.onClickOutside,n=e.className,i=e.containerRef,l=e.style,c=e.ignoreClass,u=rie(r,c);return he.createElement("div",{className:n,style:l,ref:function(f){u.current=f,i&&(i.current=f)}},t)},Lm=null,tE=!1;function yI(){if(tE)return Lm;tE=!0;try{var e="date-fns-tz";Lm=require(e)}catch{Lm=null}return Lm}function rE(e,t){if(!t)return e;var r=yI();return r?r.toZonedTime(e,t):e}function Ti(e,t){if(!t)return e;var r=yI();return r?r.fromZonedTime(e,t):e}var Te;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(Te||(Te={}));function jI(){var e=typeof window<"u"?window:globalThis;return e}var ef=12;function jt(e){if(e==null)return new Date;var t=typeof e=="string"?yne(e):Ge(e);return bn(t)?t:new Date}function Al(e,t,r,n,i){i===void 0&&(i=jt());for(var l=Cc(r)||Cc(CN()),c=Array.isArray(t)?t:[t],u=0,f=c;u<f.length;u++){var m=f[u],h=pne(e,m,i,{locale:l});if(bn(h)&&(!n||e===Qt(h,m,r)))return h}if(!n&&e&&e.length>=8){var x=new Date(e);if(jc(x))return x}return null}function nie(e,t){if(t===void 0&&(t=jt()),!e)return null;var r=e.match(/\b(1\d{3}|2\d{3})\b/);if(!r||!r[1])return null;var n=parseInt(r[1],10),i=e.match(/(?:^|[/\-\s])?(0?[1-9]|1[0-2])(?:[/\-\s]|$)/),l=i&&i[1]?parseInt(i[1],10)-1:t.getMonth();return new Date(n,l,1)}function bn(e){return jc(e)}function Bl(e){return e==null?null:ri(e)&&jc(e)?e:null}function Qt(e,t,r){if(r==="en")return $D(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=r?Cc(r):void 0;return r&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),n=n||Cc(CN()),$D(e,t,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function gn(e,t){var r=t.dateFormat,n=t.locale,i=Array.isArray(r)&&r.length>0?r[0]:r;return e&&Qt(e,i,n)||""}var NI=" - ";function aie(e,t,r){if(!e&&!t)return"";var n=e?gn(e,r):"",i=t?gn(t,r):"",l=r.rangeSeparator||NI;return"".concat(n).concat(l).concat(i)}function iie(e,t){if(!e?.length)return"";var r=e[0]?gn(e[0],t):"";if(e.length===1)return r;if(e.length===2&&e[1]){var n=gn(e[1],t);return"".concat(r,", ").concat(n)}var i=e.length-1;return"".concat(r," (+").concat(i,")")}function Pi(e,t){var r=t.hour,n=r===void 0?0:r,i=t.minute,l=i===void 0?0:i,c=t.second,u=c===void 0?0:c;return xp(vp(gp(e,u),l),n)}function sie(e){return xN(e)}function lie(e,t){return Qt(e,"ddd",t)}function sd(e){return ro(e)}function qs(e,t,r){var n=Cc(t||CN());return Zi(e,{locale:n,weekStartsOn:r})}function qi(e){return Z4(e)}function ld(e){return Ax(e)}function nE(e){return e1(e)}function aE(){return ro(jt())}function iE(e){return Q4(e)}function oie(e){return yte(e)}function cie(e){return X4(e)}function Va(e,t){return e&&t?gne(e,t):!e&&!t}function sn(e,t){return e&&t?xne(e,t):!e&&!t}function Eh(e,t){return e&&t?vne(e,t):!e&&!t}function gt(e,t){return e&&t?gte(e,t):!e&&!t}function $l(e,t){return e&&t?bre(e,t):!e&&!t}function Tl(e,t,r){var n,i=ro(t),l=Q4(r);try{n=Md(e,{start:i,end:l})}catch{n=!1}return n}function CN(){var e=jI();return e.__localeId__}function Cc(e){if(typeof e=="string"){var t=jI();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function uie(e,t,r){return t(Qt(e,"EEEE",r))}function die(e,t){return Qt(e,"EEEEEE",t)}function fie(e,t){return Qt(e,"EEE",t)}function kN(e,t){return Qt(Rn(jt(),e),"LLLL",t)}function wI(e,t){return Qt(Rn(jt(),e),"LLL",t)}function mie(e,t){return Qt(tc(jt(),e),"QQQ",t)}function ia(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.maxDate,l=r.excludeDates,c=r.excludeDateIntervals,u=r.includeDates,f=r.includeDateIntervals,m=r.filterDate,h=r.disabled;return h?!0:tf(e,{minDate:n,maxDate:i})||l&&l.some(function(x){return x instanceof Date?gt(e,x):gt(e,x.date)})||c&&c.some(function(x){var v=x.start,g=x.end;return Md(e,{start:v,end:g})})||u&&!u.some(function(x){return gt(e,x)})||f&&!f.some(function(x){var v=x.start,g=x.end;return Md(e,{start:v,end:g})})||m&&!m(jt(e))||!1}function AN(e,t){var r=t===void 0?{}:t,n=r.excludeDates,i=r.excludeDateIntervals;return i&&i.length>0?i.some(function(l){var c=l.start,u=l.end;return Md(e,{start:c,end:u})}):n&&n.some(function(l){var c;return l instanceof Date?gt(e,l):gt(e,(c=l.date)!==null&&c!==void 0?c:new Date)})||!1}function SI(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.maxDate,l=r.excludeDates,c=r.includeDates,u=r.filterDate;return tf(e,{minDate:n?Z4(n):void 0,maxDate:i?X4(i):void 0})||l?.some(function(f){return sn(e,f instanceof Date?f:f.date)})||c&&!c.some(function(f){return sn(e,f)})||u&&!u(jt(e))||!1}function Fm(e,t,r,n){var i=pt(e),l=jn(e),c=pt(t),u=jn(t),f=pt(n);return i===c&&i===f?l<=r&&r<=u:i<c?f===i&&l<=r||f===c&&u>=r||f<c&&f>i:!1}function pie(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.maxDate,l=r.excludeDates,c=r.includeDates;return tf(e,{minDate:n,maxDate:i})||l&&l.some(function(u){return sn(u instanceof Date?u:u.date,e)})||c&&!c.some(function(u){return sn(u,e)})||!1}function zm(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.maxDate,l=r.excludeDates,c=r.includeDates,u=r.filterDate,f=r.disabled;return f?!0:tf(e,{minDate:n,maxDate:i})||l?.some(function(m){return Eh(e,m instanceof Date?m:m.date)})||c&&!c.some(function(m){return Eh(e,m)})||u&&!u(jt(e))||!1}function Bm(e,t,r){if(!t||!r||!jc(t)||!jc(r))return!1;var n=pt(t),i=pt(r);return n<=e&&i>=e}function yp(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.maxDate,l=r.excludeDates,c=r.includeDates,u=r.filterDate,f=r.disabled;if(f)return!0;var m=new Date(e,0,1);return tf(m,{minDate:n?Ax(n):void 0,maxDate:i?J4(i):void 0})||l?.some(function(h){return Va(m,h instanceof Date?h:h.date)})||c&&!c.some(function(h){return Va(m,h)})||u&&!u(jt(m))||!1}function $m(e,t,r,n){var i=pt(e),l=Fs(e),c=pt(t),u=Fs(t),f=pt(n);return i===c&&i===f?l<=r&&r<=u:i<c?f===i&&l<=r||f===c&&u>=r||f<c&&f>i:!1}function tf(e,t){var r,n=t===void 0?{}:t,i=n.minDate,l=n.maxDate;return(r=i&&yc(e,i)<0||l&&yc(e,l)>0)!==null&&r!==void 0?r:!1}function sE(e,t){return t.some(function(r){return tn(r)===tn(e)&&rn(r)===rn(e)&&$s(r)===$s(e)})}function lE(e,t){var r=t===void 0?{}:t,n=r.excludeTimes,i=r.includeTimes,l=r.filterTime;return n&&sE(e,n)||i&&!sE(e,i)||l&&!l(e)||!1}function oE(e,t){var r=t.minTime,n=t.maxTime;if(!r||!n)throw new Error("Both minTime and maxTime props required");var i=jt();i=xp(i,tn(e)),i=vp(i,rn(e)),i=gp(i,$s(e));var l=jt();l=xp(l,tn(r)),l=vp(l,rn(r)),l=gp(l,$s(r));var c=jt();c=xp(c,tn(n)),c=vp(c,rn(n)),c=gp(c,$s(n));var u;try{u=!Md(i,{start:l,end:c})}catch{u=!1}return u}function cE(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.includeDates,l=Yl(e,1);return n&&jh(n,l)>0||i&&i.every(function(c){return jh(c,l)>0})||!1}function uE(e,t){var r=t===void 0?{}:t,n=r.maxDate,i=r.includeDates,l=Da(e,1);return n&&jh(l,n)>0||i&&i.every(function(c){return jh(l,c)>0})||!1}function hie(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.includeDates,l=Ax(e),c=oI(l);return n&&Nh(n,c)>0||i&&i.every(function(u){return Nh(u,c)>0})||!1}function xie(e,t){var r=t===void 0?{}:t,n=r.maxDate,i=r.includeDates,l=J4(e),c=hN(l,1);return n&&Nh(c,n)>0||i&&i.every(function(u){return Nh(c,u)>0})||!1}function dE(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.includeDates,l=Gs(e,1);return n&&wh(n,l)>0||i&&i.every(function(c){return wh(c,l)>0})||!1}function vie(e,t){var r=t===void 0?{}:t,n=r.minDate,i=r.yearItemNumber,l=i===void 0?ef:i,c=ld(Gs(e,l)),u=Fi(c,l).endPeriod,f=n&&pt(n);return f&&f>u||!1}function fE(e,t){var r=t===void 0?{}:t,n=r.maxDate,i=r.includeDates,l=Ca(e,1);return n&&wh(l,n)>0||i&&i.every(function(c){return wh(l,c)>0})||!1}function gie(e,t){var r=t===void 0?{}:t,n=r.maxDate,i=r.yearItemNumber,l=i===void 0?ef:i,c=Ca(e,l),u=Fi(c,l).startPeriod,f=n&&pt(n);return f&&f<u||!1}function CI(e){var t=e.minDate,r=e.includeDates;if(r&&t){var n=r.filter(function(i){return yc(i,t)>=0});return ID(n)}else return r?ID(r):t}function kI(e){var t=e.maxDate,r=e.includeDates;if(r&&t){var n=r.filter(function(i){return yc(i,t)<=0});return PD(n)}else return r?PD(r):t}function mE(e,t){var r;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var n=new Map,i=0,l=e.length;i<l;i++){var c=e[i];if(ri(c)){var u=Qt(c,"MM.dd.yyyy"),f=n.get(u)||[];f.includes(t)||(f.push(t),n.set(u,f))}else if(typeof c=="object"){var m=Object.keys(c),h=(r=m[0])!==null&&r!==void 0?r:"",x=c[h];if(typeof h=="string"&&Array.isArray(x))for(var v=0,g=x.length;v<g;v++){var S=x[v];if(S){var u=Qt(S,"MM.dd.yyyy"),f=n.get(u)||[];f.includes(h)||(f.push(h),n.set(u,f))}}}}return n}function bie(e,t){return e.length!==t.length?!1:e.every(function(r,n){return r===t[n]})}function yie(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var r=new Map;return e.forEach(function(n){var i=n.date,l=n.holidayName;if(ri(i)){var c=Qt(i,"MM.dd.yyyy"),u=r.get(c)||{className:"",holidayNames:[]};if(!("className"in u&&u.className===t&&bie(u.holidayNames,[l]))){u.className=t;var f=u.holidayNames;u.holidayNames=f?Ja(Ja([],f,!0),[l],!1):[l],r.set(c,u)}}}),r}function jie(e,t,r,n,i){for(var l=i.length,c=[],u=0;u<l;u++){var f=e,m=i[u];m&&(f=pte(f,tn(m)),f=Ad(f,rn(m)),f=vte(f,$s(m)));var h=Ad(e,(r+1)*n);$i(f,t)&&Za(f,h)&&m!=null&&c.push(m)}return c}function Ko(e){return e<10?"0".concat(e):"".concat(e)}function Fi(e,t){t===void 0&&(t=ef);var r=Math.ceil(pt(e)/t)*t,n=r-(t-1);return{startPeriod:n,endPeriod:r}}function Nie(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+r-+t)/36e5)}function pE(e){var t=e.getSeconds(),r=e.getMilliseconds();return Ge(e.getTime()-t*1e3-r)}function AI(e,t){return pE(e).getTime()===pE(t).getTime()}function hE(e){if(!ri(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function Lb(e,t){if(!ri(e)||!ri(t))throw new Error("Invalid date received");var r=hE(e),n=hE(t);return Za(r,n)}function MI(e){return e.key===Te.Space}var Fb=(function(e){Xr(t,e);function t(r){var n=e.call(this,r)||this;return n.inputRef=he.createRef(),n.onTimeChange=function(i){var l,c;n.setState({time:i});var u=n.props.date,f=u instanceof Date&&!isNaN(+u),m=f?u:new Date;if(i?.includes(":")){var h=i.split(":"),x=h[0],v=h[1];m.setHours(Number(x)),m.setMinutes(Number(v))}(c=(l=n.props).onChange)===null||c===void 0||c.call(l,m)},n.renderTimeInput=function(){var i=n.state.time,l=n.props,c=l.date,u=l.timeString,f=l.customTimeInput;return f?j.cloneElement(f,{date:c,value:i,onChange:n.onTimeChange}):he.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var m;(m=n.inputRef.current)===null||m===void 0||m.focus()},required:!0,value:i,onChange:function(m){n.onTimeChange(m.target.value||u)}})},n.state={time:n.props.timeString},n}return t.getDerivedStateFromProps=function(r,n){return r.timeString!==n.time?{time:r.timeString}:null},t.prototype.render=function(){return he.createElement("div",{className:"react-datepicker__input-time-container"},he.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),he.createElement("div",{className:"react-datepicker-time__input-container"},he.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t})(j.Component),wie=(function(e){Xr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.dayEl=j.createRef(),r.handleClick=function(n){!r.isDisabled()&&r.props.onClick&&r.props.onClick(n)},r.handleMouseEnter=function(n){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(n)},r.handleOnKeyDown=function(n){var i,l,c=n.key;c===Te.Space&&(n.preventDefault(),n.key=Te.Enter),(l=(i=r.props).handleOnKeyDown)===null||l===void 0||l.call(i,n)},r.isSameDay=function(n){return gt(r.props.day,n)},r.isKeyboardSelected=function(){var n;if(r.props.disabledKeyboardNavigation)return!1;var i=r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(c){return r.isSameDayOrWeek(c)}):r.isSameDayOrWeek(r.props.selected),l=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!i&&r.isSameDayOrWeek(r.props.preSelection)&&!l},r.isDisabled=function(n){return n===void 0&&(n=r.props.day),ia(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate,disabled:r.props.disabled})},r.isExcluded=function(){return AN(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return gt(r.props.day,qs(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(n){return r.props.showWeekPicker&&gt(n,qs(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(n){return r.isSameDay(n)||r.isSameWeek(n)},r.getHighLightedClass=function(){var n=r.props,i=n.day,l=n.highlightDates;if(!l)return!1;var c=Qt(i,"MM.dd.yyyy");return l.get(c)},r.getHolidaysClass=function(){var n,i=r.props,l=i.day,c=i.holidays;if(!c)return[void 0];var u=Qt(l,"MM.dd.yyyy");return c.has(u)?[(n=c.get(u))===null||n===void 0?void 0:n.className]:[void 0]},r.isInRange=function(){var n=r.props,i=n.day,l=n.startDate,c=n.endDate;return!l||!c?!1:Tl(i,l,c)},r.isInSelectingRange=function(){var n,i=r.props,l=i.day,c=i.selectsStart,u=i.selectsEnd,f=i.selectsRange,m=i.selectsDisabledDaysInRange,h=i.startDate,x=i.swapRange,v=i.endDate,g=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;if(r.isAfterMonth()||r.isBeforeMonth()||!(c||u||f)||!g||!m&&r.isDisabled())return!1;if(c&&v&&(Za(g,v)||$l(g,v)))return Tl(l,g,v);if(u&&h&&($i(g,h)||$l(g,h)))return Tl(l,h,g);if(f&&h&&!v){if($l(g,h)||$i(g,h))return Tl(l,h,g);if(x&&Za(g,h))return Tl(l,g,h)}return!1},r.isSelectingRangeStart=function(){var n;if(!r.isInSelectingRange())return!1;var i=r.props,l=i.day,c=i.startDate,u=i.selectsStart,f=i.swapRange,m=i.selectsRange,h=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return u?gt(l,h):m&&f&&c&&h?gt(l,Za(h,c)?h:c):gt(l,c)},r.isSelectingRangeEnd=function(){var n;if(!r.isInSelectingRange())return!1;var i=r.props,l=i.day,c=i.endDate,u=i.selectsEnd,f=i.selectsRange,m=i.swapRange,h=i.startDate,x=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return u?gt(l,x):f&&m&&h&&x?gt(l,Za(x,h)?h:x):f?gt(l,x):gt(l,c)},r.isRangeStart=function(){var n=r.props,i=n.day,l=n.startDate,c=n.endDate;return!l||!c?!1:gt(l,i)},r.isRangeEnd=function(){var n=r.props,i=n.day,l=n.startDate,c=n.endDate;return!l||!c?!1:gt(c,i)},r.isWeekend=function(){var n=hre(r.props.day);return n===0||n===6},r.isAfterMonth=function(){return r.props.month!==void 0&&(r.props.month+1)%12===jn(r.props.day)},r.isBeforeMonth=function(){return r.props.month!==void 0&&(jn(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(jt())},r.isSelected=function(){var n;return r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(i){return r.isSameDayOrWeek(i)}):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(n){var i=r.props.dayClassName?r.props.dayClassName(n):void 0;return dt("react-datepicker__day",i,"react-datepicker__day--"+lie(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var n=r.props,i=n.day,l=n.ariaLabelPrefixWhenEnabled,c=l===void 0?"Choose":l,u=n.ariaLabelPrefixWhenDisabled,f=u===void 0?"Not available":u,m=r.isDisabled()||r.isExcluded()?f:c;return"".concat(m," ").concat(Qt(i,"PPPP",r.props.locale))},r.getTitle=function(){var n=r.props,i=n.day,l=n.holidays,c=l===void 0?new Map:l,u=n.excludeDates,f=Qt(i,"MM.dd.yyyy"),m=[];return c.has(f)&&m.push.apply(m,c.get(f).holidayNames),r.isExcluded()&&m.push(u?.filter(function(h){return h instanceof Date?gt(h,i):gt(h?.date,i)}).map(function(h){if(!(h instanceof Date))return h?.message})),m.join(", ")},r.getTabIndex=function(){var n=r.props.selected,i=r.props.preSelection,l=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(n)&&gt(i,n))?0:-1;return l},r.handleFocusDay=function(){var n;r.shouldFocusDay()&&((n=r.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(qD(r.props.day),r.props.day):qD(r.props.day)},r.render=function(){return he.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"gridcell",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&he.createElement("span",{className:"overlay"},r.getTitle()))},r}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var r=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(r=!1),this.isDayActiveElement()&&(r=!0),this.isDuplicateDay()&&(r=!1)),r},t.prototype.isDayActiveElement=function(){var r,n,i;return((n=(r=this.props.containerRef)===null||r===void 0?void 0:r.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t})(j.Component),Sie=(function(e){Xr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.weekNumberEl=j.createRef(),r.handleClick=function(n){r.props.onClick&&r.props.onClick(n)},r.handleOnKeyDown=function(n){var i,l,c=n.key;c===Te.Space&&(n.preventDefault(),n.key=Te.Enter),(l=(i=r.props).handleOnKeyDown)===null||l===void 0||l.call(i,n)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!gt(r.props.date,r.props.selected)&&gt(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||gt(r.props.date,r.props.selected)&&gt(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(n){var i=!1;r.getTabIndex()===0&&!n?.isInputFocused&&gt(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(i=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(r){this.handleFocusWeekNumber(r)},t.prototype.render=function(){var r=this.props,n=r.weekNumber,i=r.isWeekDisabled,l=r.ariaLabelPrefix,c=l===void 0?t.defaultProps.ariaLabelPrefix:l,u=r.onClick,f={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!u&&!i,"react-datepicker__week-number--selected":!!u&&gt(this.props.date,this.props.selected)};return he.createElement("div",{ref:this.weekNumberEl,className:dt(f),"aria-label":"".concat(c," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},n)},t})(j.Component),Cie=(function(e){Xr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.isDisabled=function(n){return ia(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.handleDayClick=function(n,i){r.props.onDayClick&&r.props.onDayClick(n,i)},r.handleDayMouseEnter=function(n){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(n)},r.handleWeekClick=function(n,i,l){for(var c,u,f,m=new Date(n),h=0;h<7;h++){var x=new Date(n);x.setDate(x.getDate()+h);var v=!r.isDisabled(x);if(v){m=x;break}}typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(m,i,l),r.props.showWeekPicker&&r.handleDayClick(m,l),((c=r.props.shouldCloseOnSelect)!==null&&c!==void 0?c:t.defaultProps.shouldCloseOnSelect)&&((f=(u=r.props).setOpen)===null||f===void 0||f.call(u,!1))},r.formatWeekNumber=function(n){return r.props.formatWeekNumber?r.props.formatWeekNumber(n):sie(n)},r.isWeekDisabled=function(){for(var n=r.startOfWeek(),i=Sa(n,6),l=new Date(n);l<=i;){if(!r.isDisabled(l))return!1;l=Sa(l,1)}return!0},r.renderDays=function(){var n=r.startOfWeek(),i=[],l=r.formatWeekNumber(n);if(r.props.showWeekNumber){var c=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,n,l):void 0;i.push(he.createElement(Sie,ut({key:"W"},t.defaultProps,r.props,{weekNumber:l,isWeekDisabled:r.isWeekDisabled(),date:n,onClick:c})))}return i.concat([0,1,2,3,4,5,6].map(function(u){var f=Sa(n,u);return he.createElement(wie,ut({},t.defaultProps,r.props,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:f.valueOf(),day:f,onClick:r.handleDayClick.bind(r,f),onMouseEnter:r.handleDayMouseEnter.bind(r,f)}))}))},r.startOfWeek=function(){return qs(r.props.day,r.props.locale,r.props.calendarStartDay)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!gt(r.startOfWeek(),r.props.selected)&&gt(r.startOfWeek(),r.props.preSelection)},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":gt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},n=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return he.createElement("div",{className:dt(r,n),role:"row"},this.renderDays())},t})(j.Component),Xu,kie=6,cc={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},zb=(Xu={},Xu[cc.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Xu[cc.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Xu[cc.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Xu),qm=1;function xE(e,t){return e?cc.FOUR_COLUMNS:t?cc.TWO_COLUMNS:cc.THREE_COLUMNS}var Aie=(function(e){Xr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.MONTH_REFS=Ja([],Array(12),!0).map(function(){return j.createRef()}),r.QUARTER_REFS=Ja([],Array(4),!0).map(function(){return j.createRef()}),r.isDisabled=function(n){return ia(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate,disabled:r.props.disabled})},r.isExcluded=function(n){return AN(n,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(n,i){var l,c;(c=(l=r.props).onDayClick)===null||c===void 0||c.call(l,n,i,r.props.orderInDisplay)},r.handleDayMouseEnter=function(n){var i,l;(l=(i=r.props).onDayMouseEnter)===null||l===void 0||l.call(i,n)},r.handleMouseLeave=function(){var n,i;(i=(n=r.props).onMouseLeave)===null||i===void 0||i.call(n)},r.isRangeStartMonth=function(n){var i=r.props,l=i.day,c=i.startDate,u=i.endDate;return!c||!u?!1:sn(Rn(l,n),c)},r.isRangeStartQuarter=function(n){var i=r.props,l=i.day,c=i.startDate,u=i.endDate;return!c||!u?!1:Eh(tc(l,n),c)},r.isRangeEndMonth=function(n){var i=r.props,l=i.day,c=i.startDate,u=i.endDate;return!c||!u?!1:sn(Rn(l,n),u)},r.isRangeEndQuarter=function(n){var i=r.props,l=i.day,c=i.startDate,u=i.endDate;return!c||!u?!1:Eh(tc(l,n),u)},r.isInSelectingRangeMonth=function(n){var i,l=r.props,c=l.day,u=l.selectsStart,f=l.selectsEnd,m=l.selectsRange,h=l.startDate,x=l.endDate,v=(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection;return!(u||f||m)||!v?!1:u&&x?Fm(v,x,n,c):f&&h||m&&h&&!x?Fm(h,v,n,c):!1},r.isSelectingMonthRangeStart=function(n){var i;if(!r.isInSelectingRangeMonth(n))return!1;var l=r.props,c=l.day,u=l.startDate,f=l.selectsStart,m=Rn(c,n),h=(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection;return f?sn(m,h):sn(m,u)},r.isSelectingMonthRangeEnd=function(n){var i;if(!r.isInSelectingRangeMonth(n))return!1;var l=r.props,c=l.day,u=l.endDate,f=l.selectsEnd,m=l.selectsRange,h=Rn(c,n),x=(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection;return f||m?sn(h,x):sn(h,u)},r.isInSelectingRangeQuarter=function(n){var i,l=r.props,c=l.day,u=l.selectsStart,f=l.selectsEnd,m=l.selectsRange,h=l.startDate,x=l.endDate,v=(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection;return!(u||f||m)||!v?!1:u&&x?$m(v,x,n,c):f&&h||m&&h&&!x?$m(h,v,n,c):!1},r.isWeekInMonth=function(n){var i=r.props.day,l=Sa(n,6);return sn(n,i)||sn(l,i)},r.isCurrentMonth=function(n,i){return pt(n)===pt(jt())&&i===jn(jt())},r.isCurrentQuarter=function(n,i){return pt(n)===pt(jt())&&i===Fs(jt())},r.isSelectedMonth=function(n,i,l){return jn(l)===i&&pt(n)===pt(l)},r.isSelectMonthInList=function(n,i,l){return l.some(function(c){return r.isSelectedMonth(n,i,c)})},r.isSelectedQuarter=function(n,i,l){return Fs(l)===i&&pt(n)===pt(l)},r.isSelectQuarterInList=function(n,i,l){return l.some(function(c){return r.isSelectedQuarter(n,i,c)})},r.isMonthSelected=function(){var n=r.props,i=n.day,l=n.selected,c=n.selectedDates,u=n.selectsMultiple,f=jn(i);return u?c?.some(function(m){return r.isSelectedMonth(i,f,m)}):!!l&&r.isSelectedMonth(i,f,l)},r.isQuarterSelected=function(){var n=r.props,i=n.day,l=n.selected,c=n.selectedDates,u=n.selectsMultiple,f=Fs(i);return u?c?.some(function(m){return r.isSelectedQuarter(i,f,m)}):!!l&&r.isSelectedQuarter(i,f,l)},r.renderWeeks=function(){if(!bn(r.props.day))return[];for(var n=[],i=r.props.fixedHeight,l=0,c=!1,u=qs(qi(r.props.day),r.props.locale,r.props.calendarStartDay),f=function(S){return r.props.showWeekPicker?qs(S,r.props.locale,r.props.calendarStartDay):r.props.preSelection},m=function(S){return r.props.showWeekPicker?qs(S,r.props.locale,r.props.calendarStartDay):r.props.selected},h=r.props.selected?m(r.props.selected):void 0,x=r.props.preSelection?f(r.props.preSelection):void 0;n.push(he.createElement(Cie,ut({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:l,day:u,month:jn(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:h,preSelection:x,showWeekNumber:r.props.showWeekNumbers}))),!c;){l++,u=yh(u,1);var v=i&&l>=kie,g=!i&&!r.isWeekInMonth(u);if(v||g)if(r.props.peekNextMonth)c=!0;else break}return n},r.onMonthClick=function(n,i){var l=r.isMonthDisabledForLabelDate(i),c=l.isDisabled,u=l.labelDate;c||r.handleDayClick(qi(u),n)},r.onMonthMouseEnter=function(n){var i=r.isMonthDisabledForLabelDate(n),l=i.isDisabled,c=i.labelDate;l||r.handleDayMouseEnter(qi(c))},r.handleMonthNavigation=function(n,i){var l,c,u,f;(c=(l=r.props).setPreSelection)===null||c===void 0||c.call(l,i),(f=(u=r.MONTH_REFS[n])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus()},r.handleKeyboardNavigation=function(n,i,l){var c,u=r.props,f=u.selected,m=u.preSelection,h=u.setPreSelection,x=u.minDate,v=u.maxDate,g=u.showFourColumnMonthYearPicker,S=u.showTwoColumnMonthYearPicker;if(m){var y=xE(g,S),N=r.getVerticalOffset(y),C=(c=zb[y])===null||c===void 0?void 0:c.grid,A=function(P,T,$){var L,q,E=T,Z=$;switch(P){case Te.ArrowRight:E=Da(T,qm),Z=$===11?0:$+qm;break;case Te.ArrowLeft:E=Yl(T,qm),Z=$===0?11:$-qm;break;case Te.ArrowUp:E=Yl(T,N),Z=!((L=C?.[0])===null||L===void 0)&&L.includes($)?$+12-N:$-N;break;case Te.ArrowDown:E=Da(T,N),Z=!((q=C?.[C.length-1])===null||q===void 0)&&q.includes($)?$-12+N:$+N;break}return{newCalculatedDate:E,newCalculatedMonth:Z}},k=function(P,T,$){for(var L=40,q=P,E=!1,Z=0,Q=A(q,T,$),re=Q.newCalculatedDate,R=Q.newCalculatedMonth;!E;){if(Z>=L){re=T,R=$;break}if(x&&re<x){q=Te.ArrowRight;var G=A(q,re,R);re=G.newCalculatedDate,R=G.newCalculatedMonth}if(v&&re>v){q=Te.ArrowLeft;var G=A(q,re,R);re=G.newCalculatedDate,R=G.newCalculatedMonth}if(pie(re,r.props)){var G=A(q,re,R);re=G.newCalculatedDate,R=G.newCalculatedMonth}else E=!0;Z++}return{newCalculatedDate:re,newCalculatedMonth:R}};if(i===Te.Enter){r.isMonthDisabled(l)||(r.onMonthClick(n,l),h?.(f));return}var M=k(i,m,l),D=M.newCalculatedDate,O=M.newCalculatedMonth;switch(i){case Te.ArrowRight:case Te.ArrowLeft:case Te.ArrowUp:case Te.ArrowDown:r.handleMonthNavigation(O,D);break}}},r.getVerticalOffset=function(n){var i,l;return(l=(i=zb[n])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&l!==void 0?l:0},r.onMonthKeyDown=function(n,i){var l=r.props,c=l.disabledKeyboardNavigation,u=l.handleOnMonthKeyDown,f=n.key;f!==Te.Tab&&n.preventDefault(),c||r.handleKeyboardNavigation(n,f,i),u&&u(n)},r.onQuarterClick=function(n,i){var l=tc(r.props.day,i);zm(l,r.props)||r.handleDayClick(nE(l),n)},r.onQuarterMouseEnter=function(n){var i=tc(r.props.day,n);zm(i,r.props)||r.handleDayMouseEnter(nE(i))},r.handleQuarterNavigation=function(n,i){var l,c,u,f;r.isDisabled(i)||r.isExcluded(i)||((c=(l=r.props).setPreSelection)===null||c===void 0||c.call(l,i),(f=(u=r.QUARTER_REFS[n-1])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus())},r.onQuarterKeyDown=function(n,i){var l,c,u=n.key;if(!r.props.disabledKeyboardNavigation)switch(u){case Te.Enter:r.onQuarterClick(n,i),(c=(l=r.props).setPreSelection)===null||c===void 0||c.call(l,r.props.selected);break;case Te.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(i===4?1:i+1,hN(r.props.preSelection,1));break;case Te.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(i===1?4:i-1,oI(r.props.preSelection));break}},r.isMonthDisabledForLabelDate=function(n){var i,l=r.props,c=l.day,u=l.disabled,f=l.minDate,m=l.maxDate,h=l.excludeDates,x=l.includeDates,v=Rn(c,n);return u?{isDisabled:!0,labelDate:Rn(c,n)}:{isDisabled:(i=(f||m||h||x)&&SI(v,r.props))!==null&&i!==void 0?i:!1,labelDate:v}},r.isMonthDisabled=function(n){var i=r.isMonthDisabledForLabelDate(n).isDisabled;return i},r.getMonthClassNames=function(n){var i=r.props,l=i.day,c=i.startDate,u=i.endDate,f=i.preSelection,m=i.monthClassName,h=m?m(Rn(l,n)):void 0,x=r.getSelection();return dt("react-datepicker__month-text","react-datepicker__month-".concat(n),h,{"react-datepicker__month-text--disabled":r.isMonthDisabled(n),"react-datepicker__month-text--selected":x?r.isSelectMonthInList(l,n,x):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&f&&r.isSelectedMonth(l,n,f)&&!r.isMonthSelected()&&!r.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":c&&u?Fm(c,u,n,l):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(n),"react-datepicker__month-text--range-end":r.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":r.isCurrentMonth(l,n)})},r.getTabIndex=function(n){if(r.props.preSelection==null)return"-1";var i=jn(r.props.preSelection),l=r.isMonthDisabledForLabelDate(i).isDisabled,c=n===i&&!(l||r.props.disabledKeyboardNavigation)?"0":"-1";return c},r.getQuarterTabIndex=function(n){if(r.props.preSelection==null)return"-1";var i=Fs(r.props.preSelection),l=zm(r.props.day,r.props),c=n===i&&!(l||r.props.disabledKeyboardNavigation)?"0":"-1";return c},r.getAriaLabel=function(n){var i=r.props,l=i.chooseDayAriaLabelPrefix,c=l===void 0?"Choose":l,u=i.disabledDayAriaLabelPrefix,f=u===void 0?"Not available":u,m=i.day,h=i.locale,x=Rn(m,n),v=r.isDisabled(x)||r.isExcluded(x)?f:c;return"".concat(v," ").concat(Qt(x,"MMMM yyyy",h))},r.getQuarterClassNames=function(n){var i=r.props,l=i.day,c=i.startDate,u=i.endDate,f=i.minDate,m=i.maxDate,h=i.excludeDates,x=i.includeDates,v=i.filterDate,g=i.preSelection,S=i.disabledKeyboardNavigation,y=i.disabled,N=(f||m||h||x||v||y)&&zm(tc(l,n),r.props),C=r.getSelection();return dt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":N,"react-datepicker__quarter-text--selected":C?r.isSelectQuarterInList(l,n,C):void 0,"react-datepicker__quarter-text--keyboard-selected":!S&&g&&r.isSelectedQuarter(l,n,g)&&!r.isQuarterSelected()&&!N,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":c&&u?$m(c,u,n,l):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":r.isCurrentQuarter(l,n)})},r.getMonthContent=function(n){var i=r.props,l=i.showFullMonthYearPicker,c=i.renderMonthContent,u=i.locale,f=i.day,m=wI(n,u),h=kN(n,u);return c?c(n,m,h,f):l?h:m},r.getQuarterContent=function(n){var i,l=r.props,c=l.renderQuarterContent,u=l.locale,f=mie(n,u);return(i=c?.(n,f))!==null&&i!==void 0?i:f},r.renderMonths=function(){var n,i=r.props,l=i.showTwoColumnMonthYearPicker,c=i.showFourColumnMonthYearPicker,u=i.day,f=i.selected,m=(n=zb[xE(c,l)])===null||n===void 0?void 0:n.grid;return m?.map(function(h,x){return he.createElement("div",{className:"react-datepicker__month-wrapper",key:x},h.map(function(v,g){return he.createElement("div",{ref:r.MONTH_REFS[v],key:g,onClick:function(S){r.onMonthClick(S,v)},onKeyDown:function(S){MI(S)&&(S.preventDefault(),S.key=Te.Enter),r.onMonthKeyDown(S,v)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(v)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(v)}:void 0,tabIndex:Number(r.getTabIndex(v)),className:r.getMonthClassNames(v),"aria-disabled":r.isMonthDisabled(v),role:"option","aria-label":r.getAriaLabel(v),"aria-current":r.isCurrentMonth(u,v)?"date":void 0,"aria-selected":f?r.isSelectedMonth(u,v,f):void 0},r.getMonthContent(v))}))})},r.renderQuarters=function(){var n=r.props,i=n.day,l=n.selected,c=[1,2,3,4];return he.createElement("div",{className:"react-datepicker__quarter-wrapper"},c.map(function(u,f){return he.createElement("div",{key:f,ref:r.QUARTER_REFS[f],role:"option",onClick:function(m){r.onQuarterClick(m,u)},onKeyDown:function(m){r.onQuarterKeyDown(m,u)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(u)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(u)}:void 0,className:r.getQuarterClassNames(u),"aria-selected":l?r.isSelectedQuarter(i,u,l):void 0,tabIndex:Number(r.getQuarterTabIndex(u)),"aria-current":r.isCurrentQuarter(i,u)?"date":void 0},r.getQuarterContent(u))}))},r.getClassNames=function(){var n=r.props,i=n.selectingDate,l=n.selectsStart,c=n.selectsEnd,u=n.showMonthYearPicker,f=n.showQuarterYearPicker,m=n.showWeekPicker;return dt("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(l||c)},{"react-datepicker__monthPicker":u},{"react-datepicker__quarterPicker":f},{"react-datepicker__weekPicker":m})},r}return t.prototype.getSelection=function(){var r=this.props,n=r.selected,i=r.selectedDates,l=r.selectsMultiple;if(l)return i;if(n)return[n]},t.prototype.render=function(){var r=this.props,n=r.showMonthYearPicker,i=r.showQuarterYearPicker,l=r.day,c=r.ariaLabelPrefix,u=c===void 0?"Month ":c,f=u?u.trim()+" ":"",m=bn(l)?"".concat(f).concat(Qt(l,"MMMM, yyyy",this.props.locale)):"",h=n||i;return h?he.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":m,role:"listbox"},n?this.renderMonths():this.renderQuarters()):he.createElement("div",{role:"table"},this.props.dayNamesHeader&&he.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),this.props.monthHeader&&he.createElement("div",{role:"rowgroup"},this.props.monthHeader),he.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":m,role:"rowgroup"},this.renderWeeks()),this.props.monthFooter&&he.createElement("div",{role:"rowgroup"},this.props.monthFooter))},t})(j.Component),Mie=(function(e){Xr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.monthOptionButtonsRef={},r.isSelectedMonth=function(n){return r.props.month===n},r.handleOptionKeyDown=function(n,i){var l;switch(i.key){case"Enter":i.preventDefault(),r.onChange(n);break;case"Escape":i.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{i.preventDefault();var c=(n+(i.key==="ArrowUp"?-1:1)+r.props.monthNames.length)%r.props.monthNames.length;(l=r.monthOptionButtonsRef[c])===null||l===void 0||l.focus();break}}},r.renderOptions=function(){return r.monthOptionButtonsRef={},r.props.monthNames.map(function(n,i){return he.createElement("div",{ref:function(l){r.monthOptionButtonsRef[i]=l,r.isSelectedMonth(i)&&l?.focus()},role:"button",tabIndex:0,className:r.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:r.onChange.bind(r,i),onKeyDown:r.handleOptionKeyDown.bind(r,i),"aria-selected":r.isSelectedMonth(i)?"true":void 0},r.isSelectedMonth(i)?he.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},r.onChange=function(n){return r.props.onChange(n)},r.handleClickOutside=function(){return r.props.onCancel()},r}return t.prototype.render=function(){return he.createElement(Tx,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t})(j.Component),Die=(function(e){Xr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(n){return n.map(function(i,l){return he.createElement("option",{key:i,value:l},i)})},r.renderSelectMode=function(n){return he.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(i){return r.onChange(parseInt(i.target.value))}},r.renderSelectOptions(n))},r.renderReadView=function(n,i){return he.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},he.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),he.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[r.props.month]))},r.renderDropdown=function(n){return he.createElement(Mie,ut({key:"dropdown"},r.props,{monthNames:n,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(n){var i=r.state.dropdownVisible,l=[r.renderReadView(!i,n)];return i&&l.unshift(r.renderDropdown(n)),l},r.onChange=function(n){r.toggleDropdown(),n!==r.props.month&&r.props.onChange(n)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(l){return wI(l,r.props.locale)}:function(l){return kN(l,r.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(n);break;case"select":i=this.renderSelectMode(n);break}return he.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},t})(j.Component),vE=5;function Eie(e,t,r){for(var n=[],i=e??Gs(r,vE),l=t??Ca(r,vE),c=qi(i),u=qi(l);!$i(c,u);)n.push(jt(c)),c=Da(c,1);return n}var _ie=(function(e){Xr(t,e);function t(r){var n=e.call(this,r)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(i){var l=r1(i),c=Va(n.props.date,i)&&sn(n.props.date,i);return he.createElement("div",{className:c?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:l,onClick:n.onChange.bind(n,l),"aria-selected":c?"true":void 0},c?he.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Qt(i,n.props.dateFormat,n.props.locale))})},n.onChange=function(i){return n.props.onChange(i)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:Eie(n.props.minDate,n.props.maxDate,n.props.date)},n}return t.prototype.render=function(){var r=dt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return he.createElement(Tx,{className:r,onClickOutside:this.handleClickOutside},this.renderOptions())},t})(j.Component),gE=5,Oie=(function(e){Xr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n,i,l=(n=r.props.minDate)!==null&&n!==void 0?n:Gs(r.props.date,gE),c=(i=r.props.maxDate)!==null&&i!==void 0?i:Ca(r.props.date,gE),u=qi(l),f=qi(c),m=[];!$i(u,f);){var h=r1(u);m.push(he.createElement("option",{key:h,value:h},Qt(u,r.props.dateFormat,r.props.locale))),u=Da(u,1)}return m},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return he.createElement("select",{value:r1(qi(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){var i=Qt(r.props.date,r.props.dateFormat,r.props.locale);return he.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},he.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),he.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},r.renderDropdown=function(){return he.createElement(_ie,ut({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,i=[r.renderReadView(!n)];return n&&i.unshift(r.renderDropdown()),i},r.onChange=function(n){r.toggleDropdown();var i=jt(n);Va(r.props.date,i)&&sn(r.props.date,i)||r.props.onChange(i)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return he.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)},t})(j.Component),Tie=(function(e){Xr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={height:null},r.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,i,l;r.list&&(r.list.scrollTop=(l=r.centerLi&&t.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-((i=(n=r.header)===null||n===void 0?void 0:n.clientHeight)!==null&&i!==void 0?i:0):r.list.clientHeight,r.centerLi))!==null&&l!==void 0?l:0)})},r.handleClick=function(n){var i,l;(r.props.minTime||r.props.maxTime)&&oE(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&lE(n,r.props)||(l=(i=r.props).onChange)===null||l===void 0||l.call(i,n)},r.isSelectedTime=function(n){var i=Bl(r.props.selected);return i&&AI(i,n)},r.isDisabledTime=function(n){return(r.props.minTime||r.props.maxTime)&&oE(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&lE(n,r.props)},r.liClasses=function(n){var i,l=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(n):void 0];return r.isSelectedTime(n)&&l.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(n)&&l.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(tn(n)*3600+rn(n)*60+$s(n))%(((i=r.props.intervals)!==null&&i!==void 0?i:t.defaultProps.intervals)*60)!==0&&l.push("react-datepicker__time-list-item--injected"),l.join(" ")},r.handleOnKeyDown=function(n,i){var l,c;n.key===Te.Space&&(n.preventDefault(),n.key=Te.Enter),(n.key===Te.ArrowUp||n.key===Te.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===Te.ArrowDown||n.key===Te.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===Te.Enter&&r.handleClick(i),(c=(l=r.props).handleOnKeyDown)===null||c===void 0||c.call(l,n)},r.renderTimes=function(){for(var n,i=[],l=typeof r.props.format=="string"?r.props.format:"p",c=(n=r.props.intervals)!==null&&n!==void 0?n:t.defaultProps.intervals,u=Bl(r.props.selected)||Bl(r.props.openToDate)||jt(),f=sd(u),m=r.props.injectTimes&&r.props.injectTimes.sort(function(N,C){return N.getTime()-C.getTime()}),h=60*Nie(u),x=h/c,v=0;v<x;v++){var g=Ad(f,v*c);if(i.push(g),m){var S=jie(f,g,v,c,m);i=i.concat(S)}}var y=i.reduce(function(N,C){return C.getTime()<=u.getTime()?C:N},i[0]);return i.map(function(N){return he.createElement("li",{key:N.valueOf(),onClick:r.handleClick.bind(r,N),className:r.liClasses(N),ref:function(C){N===y&&(r.centerLi=C)},onKeyDown:function(C){r.handleOnKeyDown(C,N)},tabIndex:N===y?0:-1,role:"option","aria-selected":r.isSelectedTime(N)?"true":void 0,"aria-disabled":r.isDisabledTime(N)?"true":void 0},Qt(N,l,r.props.locale))})},r.renderTimeCaption=function(){return r.props.showTimeCaption===!1?he.createElement(he.Fragment,null):he.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(r.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){r.header=n}},he.createElement("div",{className:"react-datepicker-time__header"},r.props.timeCaption))},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var r;(r=this.resizeObserver)===null||r===void 0||r.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var r=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){r.updateContainerHeight()}),this.resizeObserver.observe(n))},t.prototype.updateContainerHeight=function(){if(this.props.monthRef&&this.header){var r=this.props.monthRef.clientHeight-this.header.clientHeight;this.state.height!==r&&this.setState({height:r})}},t.prototype.render=function(){var r=this,n,i=this.state.height;return he.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),he.createElement("div",{className:"react-datepicker__time"},he.createElement("div",{className:"react-datepicker__time-box"},he.createElement("ul",{className:"react-datepicker__time-list",ref:function(l){r.list=l},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(r,n){return n.offsetTop-(r/2-n.clientHeight/2)},t})(j.Component),bE=3,Pie=(function(e){Xr(t,e);function t(r){var n=e.call(this,r)||this;return n.YEAR_REFS=Ja([],Array(n.props.yearItemNumber),!0).map(function(){return j.createRef()}),n.isDisabled=function(i){return ia(i,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(i){return AN(i,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var i;return(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection},n.updateFocusOnPaginate=function(i){var l=function(){var c,u;(u=(c=n.YEAR_REFS[i])===null||c===void 0?void 0:c.current)===null||u===void 0||u.focus()};window.requestAnimationFrame(l)},n.handleYearClick=function(i,l){n.props.onDayClick&&n.props.onDayClick(i,l)},n.handleYearNavigation=function(i,l){var c,u,f,m,h=n.props,x=h.date,v=h.yearItemNumber;if(!(x===void 0||v===void 0)){var g=Fi(x,v).startPeriod;n.isDisabled(l)||n.isExcluded(l)||((u=(c=n.props).setPreSelection)===null||u===void 0||u.call(c,l),i-g<0?n.updateFocusOnPaginate(v-(g-i)):i-g>=v?n.updateFocusOnPaginate(Math.abs(v-(i-g))):(m=(f=n.YEAR_REFS[i-g])===null||f===void 0?void 0:f.current)===null||m===void 0||m.focus())}},n.isSameDay=function(i,l){return gt(i,l)},n.isCurrentYear=function(i){return i===pt(jt())},n.isRangeStart=function(i){return n.props.startDate&&n.props.endDate&&Va(Ya(jt(),i),n.props.startDate)},n.isRangeEnd=function(i){return n.props.startDate&&n.props.endDate&&Va(Ya(jt(),i),n.props.endDate)},n.isInRange=function(i){return Bm(i,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(i){var l=n.props,c=l.selectsStart,u=l.selectsEnd,f=l.selectsRange,m=l.startDate,h=l.endDate;return!(c||u||f)||!n.selectingDate()?!1:c&&h?Bm(i,n.selectingDate(),h):u&&m||f&&m&&!h?Bm(i,m,n.selectingDate()):!1},n.isSelectingRangeStart=function(i){var l;if(!n.isInSelectingRange(i))return!1;var c=n.props,u=c.startDate,f=c.selectsStart,m=Ya(jt(),i);return f?Va(m,(l=n.selectingDate())!==null&&l!==void 0?l:null):Va(m,u??null)},n.isSelectingRangeEnd=function(i){var l;if(!n.isInSelectingRange(i))return!1;var c=n.props,u=c.endDate,f=c.selectsEnd,m=c.selectsRange,h=Ya(jt(),i);return f||m?Va(h,(l=n.selectingDate())!==null&&l!==void 0?l:null):Va(h,u??null)},n.isKeyboardSelected=function(i){if(!(n.props.disabledKeyboardNavigation||n.props.date===void 0||n.props.preSelection==null)){var l=n.props,c=l.minDate,u=l.maxDate,f=l.excludeDates,m=l.includeDates,h=l.filterDate,x=l.selected,v=ld(Ya(n.props.date,i)),g=(c||u||f||m||h)&&yp(i,n.props),S=!!x&&gt(v,ld(x)),y=gt(v,ld(n.props.preSelection));return!n.props.inline&&!S&&y&&!g}},n.isSelectedYear=function(i){var l=n.props,c=l.selectsMultiple,u=l.selected,f=l.selectedDates;return c?f?.some(function(m){return i===pt(m)}):!!u&&i===pt(u)},n.onYearClick=function(i,l){var c=n.props.date;c!==void 0&&n.handleYearClick(ld(Ya(c,l)),i)},n.onYearKeyDown=function(i,l){var c,u,f=i.key,m=n.props,h=m.date,x=m.yearItemNumber,v=m.handleOnKeyDown;if(f!==Te.Tab&&i.preventDefault(),!n.props.disabledKeyboardNavigation)switch(f){case Te.Enter:if(n.props.selected==null)break;n.onYearClick(i,l),(u=(c=n.props).setPreSelection)===null||u===void 0||u.call(c,n.props.selected);break;case Te.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(l+1,Ca(n.props.preSelection,1));break;case Te.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(l-1,Gs(n.props.preSelection,1));break;case Te.ArrowUp:{if(h===void 0||x===void 0||n.props.preSelection==null)break;var g=Fi(h,x).startPeriod,S=bE,y=l-S;if(y<g){var N=x%S;l>=g&&l<g+N?S=N:S+=N,y=l-S}n.handleYearNavigation(y,Gs(n.props.preSelection,S));break}case Te.ArrowDown:{if(h===void 0||x===void 0||n.props.preSelection==null)break;var C=Fi(h,x).endPeriod,S=bE,y=l+S;if(y>C){var N=x%S;l<=C&&l>C-N?S=N:S+=N,y=l+S}n.handleYearNavigation(y,Ca(n.props.preSelection,S));break}}v&&v(i)},n.getYearClassNames=function(i){var l=n.props,c=l.date,u=l.disabled,f=l.minDate,m=l.maxDate,h=l.excludeDates,x=l.includeDates,v=l.filterDate,g=l.yearClassName;return dt("react-datepicker__year-text","react-datepicker__year-".concat(i),c?g?.(Ya(c,i)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(i),"react-datepicker__year-text--disabled":(f||m||h||x||v||u)&&yp(i,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(i),"react-datepicker__year-text--range-start":n.isRangeStart(i),"react-datepicker__year-text--range-end":n.isRangeEnd(i),"react-datepicker__year-text--in-range":n.isInRange(i),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(i),"react-datepicker__year-text--today":n.isCurrentYear(i)})},n.getYearTabIndex=function(i){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var l=pt(n.props.preSelection),c=yp(i,n.props);return i===l&&!c?"0":"-1"},n.getYearContent=function(i){return n.props.renderYearContent?n.props.renderYearContent(i):i},n}return t.prototype.render=function(){var r=this,n=[],i=this.props,l=i.date,c=i.yearItemNumber,u=i.onYearMouseEnter,f=i.onYearMouseLeave;if(l===void 0)return null;for(var m=Fi(l,c),h=m.startPeriod,x=m.endPeriod,v=function(y){n.push(he.createElement("div",{ref:g.YEAR_REFS[y-h],onClick:function(N){r.onYearClick(N,y)},onKeyDown:function(N){MI(N)&&(N.preventDefault(),N.key=Te.Enter),r.onYearKeyDown(N,y)},tabIndex:Number(g.getYearTabIndex(y)),className:g.getYearClassNames(y),onMouseEnter:g.props.usePointerEvent?void 0:function(N){return u(N,y)},onPointerEnter:g.props.usePointerEvent?function(N){return u(N,y)}:void 0,onMouseLeave:g.props.usePointerEvent?void 0:function(N){return f(N,y)},onPointerLeave:g.props.usePointerEvent?function(N){return f(N,y)}:void 0,key:y,"aria-current":g.isCurrentYear(y)?"date":void 0},g.getYearContent(y)))},g=this,S=h;S<=x;S++)v(S);return he.createElement("div",{className:"react-datepicker__year"},he.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},t})(j.Component);function Iie(e,t,r,n){for(var i=[],l=0;l<2*t+1;l++){var c=e+t-l,u=!0;r&&(u=pt(r)<=c),n&&u&&(u=pt(n)>=c),u&&i.push(c)}return i}var Rie=(function(e){Xr(t,e);function t(r){var n=e.call(this,r)||this;n.yearOptionButtonsRef={},n.handleOptionKeyDown=function(u,f){var m;switch(f.key){case"Enter":f.preventDefault(),n.onChange(u);break;case"Escape":f.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":{f.preventDefault();var h=u+(f.key==="ArrowUp"?1:-1);n.yearOptionButtonsRef[h]&&((m=n.yearOptionButtonsRef[h])===null||m===void 0||m.focus());break}}},n.renderOptions=function(){n.yearOptionButtonsRef={};var u=n.props.year,f=n.state.yearsList.map(function(x){return he.createElement("div",{ref:function(v){n.yearOptionButtonsRef[x]=v,x===u&&v?.focus()},role:"button",tabIndex:0,className:u===x?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:x,onClick:n.onChange.bind(n,x),onKeyDown:n.handleOptionKeyDown.bind(n,x),"aria-selected":u===x?"true":void 0},u===x?he.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",x)}),m=n.props.minDate?pt(n.props.minDate):null,h=n.props.maxDate?pt(n.props.maxDate):null;return(!h||!n.state.yearsList.find(function(x){return x===h}))&&f.unshift(he.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},he.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!m||!n.state.yearsList.find(function(x){return x===m}))&&f.push(he.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},he.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),f},n.onChange=function(u){n.props.onChange(u)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(u){var f=n.state.yearsList.map(function(m){return m+u});n.setState({yearsList:f})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var i=r.yearDropdownItemNumber,l=r.scrollableYearDropdown,c=i||(l?10:5);return n.state={yearsList:Iie(n.props.year,c,n.props.minDate,n.props.maxDate)},n.dropdownRef=j.createRef(),n}return t.prototype.componentDidMount=function(){var r=this.dropdownRef.current;if(r){var n=r.children?Array.from(r.children):null,i=n?n.find(function(l){return l.ariaSelected}):null;r.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}},t.prototype.render=function(){var r=dt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return he.createElement(Tx,{className:r,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t})(j.Component),Lie=(function(e){Xr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=r.props.minDate?pt(r.props.minDate):1900,i=r.props.maxDate?pt(r.props.maxDate):2100,l=[],c=n;c<=i;c++)l.push(he.createElement("option",{key:c,value:c},c));return l},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return he.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){return he.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:r.toggleDropdown},he.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),he.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return he.createElement(Rie,ut({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,i=[r.renderReadView(!n)];return n&&i.unshift(r.renderDropdown()),i},r.onChange=function(n){r.toggleDropdown(),n!==r.props.year&&r.props.onChange(n)},r.toggleDropdown=function(n){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,n)})},r.handleYearChange=function(n,i){var l;(l=r.onSelect)===null||l===void 0||l.call(r,n,i),r.setOpen()},r.onSelect=function(n,i){var l,c;(c=(l=r.props).onSelect)===null||c===void 0||c.call(l,n,i)},r.setOpen=function(){var n,i;(i=(n=r.props).setOpen)===null||i===void 0||i.call(n,!0)},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return he.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)},t})(j.Component),Fie=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],DI="react-datepicker-ignore-onclickoutside",zie=function(e){var t=(e.className||"").split(/\s+/);return Fie.some(function(r){return t.indexOf(r)>=0})},Bie=(function(e){Xr(t,e);function t(r){var n=e.call(this,r)||this;return n.monthContainer=void 0,n.handleClickOutside=function(i){n.props.onClickOutside(i)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(i){var l,c;zie(i.target)&&((c=(l=n.props).onDropdownFocus)===null||c===void 0||c.call(l,i))},n.getDateInView=function(){var i=n.props,l=i.preSelection,c=i.selected,u=i.openToDate,f=CI(n.props),m=kI(n.props),h=jt(),x=u||c||l;return x||(f&&Za(h,f)?f:m&&$i(h,m)?m:h)},n.increaseMonth=function(){n.setState(function(i){var l=i.date;return{date:Da(l,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(i){var l=i.date;return{date:Yl(l,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(i,l,c){n.props.onSelect(i,l,c),n.props.setPreSelection&&n.props.setPreSelection(i)},n.handleDayMouseEnter=function(i){n.setState({selectingDate:i}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(i)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(i,l){n.setState({selectingDate:Ya(jt(),l)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(i,l)},n.handleYearMouseLeave=function(i,l){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(i,l)},n.handleYearChange=function(i){var l,c,u,f;(c=(l=n.props).onYearChange)===null||c===void 0||c.call(l,i),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(i),(f=(u=n.props).setOpen)===null||f===void 0||f.call(u,!0)),n.props.setPreSelection&&n.props.setPreSelection(i)},n.getEnabledPreSelectionDateForMonth=function(i){if(!ia(i,n.props))return i;for(var l=qi(i),c=cie(i),u=bte(c,l),f=null,m=0;m<=u;m++){var h=Sa(l,m);if(!ia(h,n.props)){f=h;break}}return f},n.handleMonthChange=function(i){var l,c,u,f=(l=n.getEnabledPreSelectionDateForMonth(i))!==null&&l!==void 0?l:i;n.handleCustomMonthChange(f),n.props.adjustDateOnChange&&(n.props.onSelect(f),(u=(c=n.props).setOpen)===null||u===void 0||u.call(c,!0)),n.props.setPreSelection&&n.props.setPreSelection(f)},n.handleCustomMonthChange=function(i){var l,c;(c=(l=n.props).onMonthChange)===null||c===void 0||c.call(l,i),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(i){n.handleYearChange(i),n.handleMonthChange(i)},n.changeYear=function(i){n.setState(function(l){var c=l.date;return{date:Ya(c,Number(i))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(i){n.setState(function(l){var c=l.date;return{date:Rn(c,Number(i))}},function(){var l,c;n.handleMonthChange(n.state.date),(c=(l=n.props).onMonthSelectedInChange)===null||c===void 0||c.call(l,0)})},n.changeMonthYear=function(i){n.setState(function(l){var c=l.date;return{date:Ya(Rn(c,jn(i)),pt(i))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(i,l){if(i===void 0&&(i=n.state.date),l===void 0&&(l=0),!bn(i))return[];var c=n.props.disabled,u=qs(i,n.props.locale,n.props.calendarStartDay),f=[];return n.props.showWeekNumbers&&f.push(he.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(c?"react-datepicker__day-name--disabled":""),role:"columnheader"},he.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),he.createElement("span",{"aria-hidden":"true"},n.props.weekLabel||"#"))),f.concat([0,1,2,3,4,5,6].map(function(m){var h=Sa(u,m),x=n.formatWeekday(h,n.props.locale),v=Qt(h,"EEEE",n.props.locale),g=n.props.weekDayClassName?n.props.weekDayClassName(h):void 0;if(n.props.renderCustomDayName){var S=n.props.renderCustomDayName({day:h,shortName:x,fullName:v,locale:n.props.locale,customDayNameCount:l});return he.createElement("div",{key:m,role:"columnheader",className:dt("react-datepicker__day-name",g,c?"react-datepicker__day-name--disabled":"")},S)}return he.createElement("div",{key:m,role:"columnheader",className:dt("react-datepicker__day-name",g,c?"react-datepicker__day-name--disabled":"")},he.createElement("span",{className:"react-datepicker__sr-only"},v),he.createElement("span",{"aria-hidden":"true"},x))}))},n.formatWeekday=function(i,l){return n.props.formatWeekDay?uie(i,n.props.formatWeekDay,l):n.props.useWeekdaysShort?fie(i,l):die(i,l)},n.decreaseYear=function(){n.setState(function(i){var l,c=i.date;return{date:Gs(c,n.props.showYearPicker?(l=n.props.yearItemNumber)!==null&&l!==void 0?l:t.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var i,l,c;if(!n.props.renderCustomHeader){var u=(i=n.props.monthsShown)!==null&&i!==void 0?i:t.defaultProps.monthsShown,f=n.props.showPreviousMonths?u-1:0,m=(l=n.props.monthSelectedIn)!==null&&l!==void 0?l:f,h=Yl(n.state.date,m),x;switch(!0){case n.props.disabled:x=!0;break;case n.props.showMonthYearPicker:x=dE(n.state.date,n.props);break;case n.props.showYearPicker:x=vie(n.state.date,n.props);break;case n.props.showQuarterYearPicker:x=hie(n.state.date,n.props);break;default:x=cE(h,n.props);break}if(!(!((c=n.props.forceShowMonthNavigation)!==null&&c!==void 0?c:t.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&x||n.props.showTimeSelectOnly)){var v=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],g=["react-datepicker__navigation","react-datepicker__navigation--previous"],S=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(S=n.decreaseYear),x&&n.props.showDisabledMonthNavigation&&(g.push("react-datepicker__navigation--previous--disabled"),S=void 0);var y=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,N=n.props,C=N.previousMonthButtonLabel,A=C===void 0?t.defaultProps.previousMonthButtonLabel:C,k=N.previousYearButtonLabel,M=k===void 0?t.defaultProps.previousYearButtonLabel:k,D=n.props,O=D.previousMonthAriaLabel,P=O===void 0?typeof A=="string"?A:"Previous Month":O,T=D.previousYearAriaLabel,$=T===void 0?typeof M=="string"?M:"Previous Year":T;return he.createElement("button",{type:"button",className:g.join(" "),onClick:S,onKeyDown:n.props.handleOnKeyDown,"aria-label":y?$:P},he.createElement("span",{className:v.join(" ")},y?M:A))}}},n.increaseYear=function(){n.setState(function(i){var l,c=i.date;return{date:Ca(c,n.props.showYearPicker?(l=n.props.yearItemNumber)!==null&&l!==void 0?l:t.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var i;if(!n.props.renderCustomHeader){var l;switch(!0){case n.props.disabled:l=!0;break;case n.props.showMonthYearPicker:l=fE(n.state.date,n.props);break;case n.props.showYearPicker:l=gie(n.state.date,n.props);break;case n.props.showQuarterYearPicker:l=xie(n.state.date,n.props);break;default:l=uE(n.state.date,n.props);break}if(!(!((i=n.props.forceShowMonthNavigation)!==null&&i!==void 0?i:t.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&l||n.props.showTimeSelectOnly)){var c=["react-datepicker__navigation","react-datepicker__navigation--next"],u=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&c.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&c.push("react-datepicker__navigation--next--with-today-button");var f=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(f=n.increaseYear),l&&n.props.showDisabledMonthNavigation&&(c.push("react-datepicker__navigation--next--disabled"),f=void 0);var m=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,h=n.props,x=h.nextMonthButtonLabel,v=x===void 0?t.defaultProps.nextMonthButtonLabel:x,g=h.nextYearButtonLabel,S=g===void 0?t.defaultProps.nextYearButtonLabel:g,y=n.props,N=y.nextMonthAriaLabel,C=N===void 0?typeof v=="string"?v:"Next Month":N,A=y.nextYearAriaLabel,k=A===void 0?typeof S=="string"?S:"Next Year":A;return he.createElement("button",{type:"button",className:c.join(" "),onClick:f,onKeyDown:n.props.handleOnKeyDown,"aria-label":m?k:C},he.createElement("span",{className:u.join(" ")},m?S:v))}}},n.renderCurrentMonth=function(i){i===void 0&&(i=n.state.date);var l=["react-datepicker__current-month"];return n.props.showYearDropdown&&l.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&l.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&l.push("react-datepicker__current-month--hasMonthYearDropdown"),he.createElement("h2",{className:l.join(" ")},bn(i)?Qt(i,n.props.dateFormat,n.props.locale):"")},n.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showYearDropdown||i))return he.createElement(Lie,ut({},t.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:pt(n.state.date)}))},n.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthDropdown||i))return he.createElement(Die,ut({},t.defaultProps,n.props,{month:jn(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthYearDropdown||i))return he.createElement(Oie,ut({},t.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(i){n.props.onSelect(aE(),i),n.props.setPreSelection&&n.props.setPreSelection(aE())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return he.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDayNamesHeader=function(i,l){return l===void 0&&(l=0),he.createElement("div",{className:"react-datepicker__day-names",role:"row"},n.header(i,l))},n.renderDefaultHeader=function(i){var l=i.monthDate,c=i.i,u=he.createElement("div",{className:dt("react-datepicker__header",{"react-datepicker__header--has-time-select":n.props.showTimeSelect,"react-datepicker__header--middle":n.props.monthHeaderPosition==="middle","react-datepicker__header--bottom":n.props.monthHeaderPosition==="bottom"})},n.renderCurrentMonth(l),he.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(c!==0),n.renderMonthYearDropdown(c!==0),n.renderYearDropdown(c!==0)));return n.props.monthHeaderPosition==="top"?u:he.createElement("div",{className:"react-datepicker__header-wrapper"},n.renderPreviousButton()||null,n.renderNextButton()||null,u)},n.renderCustomHeader=function(i){var l,c,u=i.monthDate,f=i.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var m=n.props,h=m.showYearPicker,x=m.yearItemNumber,v;if(h){var g=Fi(u,x),S=g.startPeriod,y=g.endPeriod;v={startYear:S,endYear:y}}var N=cE(n.state.date,n.props),C=uE(n.state.date,n.props),A=dE(n.state.date,n.props),k=fE(n.state.date,n.props);return he.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(c=(l=n.props).renderCustomHeader)===null||c===void 0?void 0:c.call(l,ut(ut(ut({},n.state),h&&{visibleYearsRange:v}),{customHeaderCount:f,monthDate:u,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:N,nextMonthButtonDisabled:C,prevYearButtonDisabled:A,nextYearButtonDisabled:k})))},n.renderYearHeader=function(i){var l=i.monthDate,c=n.props,u=c.showYearPicker,f=c.yearItemNumber,m=f===void 0?t.defaultProps.yearItemNumber:f,h=Fi(l,m),x=h.startPeriod,v=h.endPeriod;return he.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},u?"".concat(x," - ").concat(v):pt(l))},n.renderHeader=function(i){var l=i.monthDate,c=i.i,u=c===void 0?0:c,f={monthDate:l,i:u};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(f);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(f);default:return n.renderDefaultHeader(f)}},n.renderMonths=function(){var i,l;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var c=[],u=(i=n.props.monthsShown)!==null&&i!==void 0?i:t.defaultProps.monthsShown,f=n.props.showPreviousMonths?u-1:0,m=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Ca(n.state.date,f):Yl(n.state.date,f),h=(l=n.props.monthSelectedIn)!==null&&l!==void 0?l:f,x=0;x<u;++x){var v=x-h+f,g=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Ca(m,v):Da(m,v),S="month-".concat(x),y=x<u-1,N=x>0;c.push(he.createElement("div",{key:S,ref:function(C){n.monthContainer=C??void 0},className:"react-datepicker__month-container"},n.props.monthHeaderPosition==="top"&&n.renderHeader({monthDate:g,i:x}),he.createElement(Aie,ut({},t.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:g,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:x,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:y,monthShowsDuplicateDaysStart:N,dayNamesHeader:n.renderDayNamesHeader(g,x),monthHeader:n.props.monthHeaderPosition==="middle"?n.renderHeader({monthDate:g,i:x}):void 0,monthFooter:n.props.monthHeaderPosition==="bottom"?n.renderHeader({monthDate:g,i:x}):void 0}))))}return c}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return he.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),he.createElement(Pie,ut({},t.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return he.createElement(Tie,ut({},t.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var i,l;if(n.props.showTimeInput){if(n.props.selectsRange){var c=n.props,u=c.startDate,f=c.endDate,m=u?new Date(u):void 0,h=m&&bn(m)&&!!u,x=h?"".concat(Ko(m.getHours()),":").concat(Ko(m.getMinutes())):"",v=f?new Date(f):void 0,g=v&&bn(v)&&!!f,S=g?"".concat(Ko(v.getHours()),":").concat(Ko(v.getMinutes())):"";return he.createElement(he.Fragment,null,he.createElement(Fb,ut({},t.defaultProps,n.props,{date:m,timeString:x,onChange:function(A){var k,M;(M=(k=n.props).onTimeChange)===null||M===void 0||M.call(k,A,"start")},timeInputLabel:((i=n.props.timeInputLabel)!==null&&i!==void 0?i:"Time")+" (Start)"})),he.createElement(Fb,ut({},t.defaultProps,n.props,{date:v,timeString:S,onChange:function(A){var k,M;(M=(k=n.props).onTimeChange)===null||M===void 0||M.call(k,A,"end")},timeInputLabel:((l=n.props.timeInputLabel)!==null&&l!==void 0?l:"Time")+" (End)"})))}var y=n.props.selected?new Date(n.props.selected):void 0,N=y&&bn(y)&&!!n.props.selected,C=N?"".concat(Ko(y.getHours()),":").concat(Ko(y.getMinutes())):"";return he.createElement(Fb,ut({},t.defaultProps,n.props,{date:y,timeString:C,onChange:function(A){var k,M;(M=(k=n.props).onTimeChange)===null||M===void 0||M.call(k,A)}}))}},n.renderAriaLiveRegion=function(){var i;if(!bn(n.state.date))return he.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"});var l=Fi(n.state.date,(i=n.props.yearItemNumber)!==null&&i!==void 0?i:t.defaultProps.yearItemNumber),c=l.startPeriod,u=l.endPeriod,f;return n.props.showYearPicker?f="".concat(c," - ").concat(u):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?f=pt(n.state.date):f="".concat(kN(jn(n.state.date),n.props.locale)," ").concat(pt(n.state.date)),he.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&f)},n.renderChildren=function(){if(n.props.children)return he.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=j.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:DI,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:ef,monthHeaderPosition:"top"}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){r.setState({monthContainer:r.monthContainer})})())},t.prototype.componentDidUpdate=function(r){var n=this;if(this.props.preSelection&&bn(this.props.preSelection)&&(!gt(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var i=!sn(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!gt(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var r=this.props.container||tie;return he.createElement(Tx,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},he.createElement("div",{style:{display:"contents"},ref:this.containerRef},he.createElement(r,{className:dt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.props.monthHeaderPosition==="top"&&this.renderPreviousButton(),this.props.monthHeaderPosition==="top"&&this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t})(j.Component),$ie=function(e){var t=e.icon,r=e.className,n=r===void 0?"":r,i=e.onClick,l="react-datepicker__calendar-icon";if(typeof t=="string")return he.createElement("i",{className:"".concat(l," ").concat(t," ").concat(n),"aria-hidden":"true",onClick:i});if(he.isValidElement(t)){var c=t;return he.cloneElement(c,{className:"".concat(c.props.className||""," ").concat(l," ").concat(n),onClick:function(u){typeof c.props.onClick=="function"&&c.props.onClick(u),typeof i=="function"&&i(u)}})}return he.createElement("svg",{className:"".concat(l," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},he.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},EI=(function(e){Xr(t,e);function t(r){var n=e.call(this,r)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return F8.createPortal(this.props.children,this.el)},t})(j.Component),qie="[tabindex], a, button, input, select, textarea",Hie=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},_I=(function(e){Xr(t,e);function t(r){var n=e.call(this,r)||this;return n.getTabChildren=function(){var i;return Array.prototype.slice.call((i=n.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(qie),1,-1).filter(Hie)},n.handleFocusStart=function(){var i=n.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},n.handleFocusEnd=function(){var i=n.getTabChildren();i&&i.length>1&&i[0].focus()},n.tabLoopRef=j.createRef(),n}return t.prototype.render=function(){var r;return((r=this.props.enableTabLoop)!==null&&r!==void 0?r:t.defaultProps.enableTabLoop)?he.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},he.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,he.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t})(j.Component);function Uie(e){function t(r){var n,i=typeof r.hidePopper=="boolean"?r.hidePopper:!0,l=j.useRef(null),c=eie(ut({open:!i,whileElementsMounted:Oae,placement:r.popperPlacement,middleware:Ja([$ae({padding:15}),Bae(10),qae({element:l})],(n=r.popperModifiers)!==null&&n!==void 0?n:[],!0)},r.popperProps)),u=ut(ut({},r),{hidePopper:i,popperProps:ut(ut({},c),{arrowRef:l})});return he.createElement(e,ut({},u))}return t.displayName="withFloating(".concat(e.displayName||e.name||"Component",")"),t}var Yie=function(e){var t=e.className,r=e.wrapperClassName,n=e.hidePopper,i=n===void 0?!0:n,l=e.popperComponent,c=e.targetComponent,u=e.enableTabLoop,f=e.popperOnKeyDown,m=e.portalId,h=e.portalHost,x=e.popperProps,v=e.showArrow,g=e.popperTargetRef,S=e.monthHeaderPosition;j.useEffect(function(){g?.current&&x.refs.setPositionReference(g.current)},[g,x.refs]);var y=void 0;if(!i){var N=dt("react-datepicker-popper",!v&&"react-datepicker-popper-offset",S==="middle"&&"react-datepicker-popper--header-middle",S==="bottom"&&"react-datepicker-popper--header-bottom",t);y=he.createElement(_I,{enableTabLoop:u},he.createElement("div",{ref:x.refs.setFloating,style:x.floatingStyles,className:N,"data-placement":x.placement,onKeyDown:f},l,v&&he.createElement(Gae,{ref:x.arrowRef,context:x.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}e.popperContainer&&(y=j.createElement(e.popperContainer,{},y)),m&&!i&&(y=he.createElement(EI,{portalId:m,portalHost:h},y));var C=dt("react-datepicker-wrapper",r);return he.createElement(he.Fragment,null,he.createElement("div",{ref:x.refs.setReference,className:C},c),y)},Vie=Uie(Yie);function yE(e,t){return e&&t?jn(e)!==jn(t)||pt(e)!==pt(t):e!==t}var Bb="Date input not valid.",Gie=(function(e){Xr(t,e);function t(r){var n=e.call(this,r)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){var i=n.props.timeZone,l=n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:jt();return i?rE(l,i):l},n.modifyHolidays=function(){var i;return(i=n.props.holidays)===null||i===void 0?void 0:i.reduce(function(l,c){var u=Al(c.date,"yyyy-MM-dd",void 0,!1);return u?Ja(Ja([],l,!0),[ut(ut({},c),{date:u})],!1):l},[])},n.calcInitialState=function(){var i=n.props.timeZone,l=n.getPreSelection(),c=CI(n.props),u=kI(n.props),f=c&&Za(l,sd(c))?c:u&&$i(l,iE(u))?u:l,m=n.props.selectsRange?n.props.startDate:n.props.selected;return m&&i&&(m=rE(m,i)),{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:m??f,highlightDates:mE(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.getInputValue=function(){var i,l=n.props,c=l.locale,u=l.startDate,f=l.endDate,m=l.rangeSeparator,h=l.selected,x=l.selectedDates,v=l.selectsMultiple,g=l.selectsRange,S=l.formatMultipleDates,y=l.value,N=(i=n.props.dateFormat)!==null&&i!==void 0?i:t.defaultProps.dateFormat,C=n.state.inputValue;if(typeof y=="string")return y;if(typeof C=="string")return C;if(g)return aie(u,f,{dateFormat:N,locale:c,rangeSeparator:m});if(v){if(S){var A=function(k){return gn(k,{dateFormat:N,locale:c})};return S(x??[],A)}return iie(x??[],{dateFormat:N,locale:c})}return gn(h,{dateFormat:N,locale:c})},n.resetHiddenStatus=function(){n.setState(ut(ut({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(ut(ut({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var i,l;(l=(i=n.input)===null||i===void 0?void 0:i.focus)===null||l===void 0||l.call(i,{preventScroll:!0})},n.setBlur=function(){var i,l;(l=(i=n.input)===null||i===void 0?void 0:i.blur)===null||l===void 0||l.call(i),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(i,l){l===void 0&&(l=!1),n.setState({open:i,preSelection:i&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:$b},function(){i||n.setState(function(c){return{focused:l?c.focused:!1}},function(){!l&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return ri(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(i){var l,c,u=n.state.wasHidden,f=u?n.state.open:!0;u&&n.resetHiddenStatus(),n.state.preventFocus||((c=(l=n.props).onFocus)===null||c===void 0||c.call(l,i),f&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.resetInputValue=function(){n.setState(ut(ut({},n.state),{inputValue:null}))},n.handleBlur=function(i){var l,c;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((c=(l=n.props).onBlur)===null||c===void 0||c.call(l,i));var u=n.state.inputValue;if(typeof u=="string"&&u.length>0){var f=/[a-zA-Z0-9]/.test(u);!f&&n.props.selected&&n.setSelected(null,void 0,!0)}n.resetInputValue(),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(i){var l,c;(c=(l=n.props).onClickOutside)===null||c===void 0||c.call(l,i),!n.props.inline&&!i.defaultPrevented&&n.setOpen(!1),n.props.withPortal&&i.preventDefault()},n.handleChange=function(){for(var i,l,c,u,f,m,h,x,v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];var S=v[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,v),!S||typeof S.isDefaultPrevented!="function"||S.isDefaultPrevented()))){n.setState({inputValue:S?.target instanceof HTMLInputElement?S.target.value:null,lastPreSelectChange:Wie});var y=n.props,N=y.selectsRange,C=y.startDate,A=y.endDate,k=(i=n.props.dateFormat)!==null&&i!==void 0?i:t.defaultProps.dateFormat,M=(l=n.props.strictParsing)!==null&&l!==void 0?l:t.defaultProps.strictParsing,D=S?.target instanceof HTMLInputElement?S.target.value:"";if(N){var O=n.props.rangeSeparator,P=O.trim(),T=D.split(k.includes(P)?O:P,2).map(function(G){return G.trim()}),$=T[0],L=T[1],q=Al($??"",k,n.props.locale,M),E=q?Al(L??"",k,n.props.locale,M):null,Z=((c=Bl(C))===null||c===void 0?void 0:c.getTime())!==q?.getTime(),Q=((u=Bl(A))===null||u===void 0?void 0:u.getTime())!==E?.getTime();if(!Z&&!Q||q&&ia(q,n.props)||E&&ia(E,n.props))return;q&&n.setState({preSelection:q}),(m=(f=n.props).onChange)===null||m===void 0||m.call(f,[q,E],S)}else{var re=Al(D,k,n.props.locale,M,(h=n.props.selected)!==null&&h!==void 0?h:void 0);if(re||!D)n.setSelected(re,S,!0);else if(!n.props.inline){var R=nie(D,(x=n.state.preSelection)!==null&&x!==void 0?x:void 0);R&&(!n.props.minDate||!Za(R,n.props.minDate))&&(!n.props.maxDate||!$i(R,n.props.maxDate))&&n.setState({preSelection:R})}}}},n.handleSelect=function(i,l,c){var u;if(!n.props.readOnly){var f=n.props,m=f.selectsRange,h=f.startDate,x=f.endDate,v=f.locale,g=f.swapRange,S=(u=n.props.dateFormat)!==null&&u!==void 0?u:t.defaultProps.dateFormat,y=!m||h&&!x&&(g||!Lb(i,h));if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&y&&n.sendFocusBackToInput(),n.props.onChangeRaw){var N=gn(i,{dateFormat:S,locale:v});n.props.onChangeRaw(l,{date:i,formattedDate:N})}n.setSelected(i,l,!1,c),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect?n.setPreSelection(i):y&&n.setOpen(!1)}},n.setSelected=function(i,l,c,u){var f,m,h=n.props.timeZone,x=i;if(x&&h&&(x=Ti(x,h)),n.props.showYearPicker){if(x!==null&&yp(pt(x),n.props))return}else if(n.props.showMonthYearPicker){if(x!==null&&SI(x,n.props))return}else if(x!==null&&ia(x,n.props))return;var v=n.props,g=v.onChange,S=v.selectsRange,y=v.startDate,N=v.endDate,C=v.selectsMultiple,A=v.selectedDates,k=v.minTime,M=v.swapRange;if(!$l(n.props.selected,x)||n.props.allowSameDay||S||C)if(x!==null&&(n.props.selected&&(!c||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(x=Pi(x,{hour:tn(n.props.selected),minute:rn(n.props.selected),second:$s(n.props.selected)})),!c&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&k&&(x=Pi(x,{hour:k.getHours(),minute:k.getMinutes(),second:k.getSeconds()})),n.props.inline||n.setState({preSelection:x}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:u})),S){var D=g,O=!y&&!N,P=y&&!N,T=!y&&!!N,$=y&&N;O?D?.([x,null],l):P?x===null?D?.([null,null],l):Lb(x,y)?D?.(M?[x,y]:[x,null],l):D?.([y,x],l):T&&(x&&Lb(x,N)?D?.([x,N],l):D?.([x,null],l)),$&&D?.([x,null],l)}else if(C){var L=g;if(x!==null)if(!A?.length)L?.([x],l);else{var q=A.some(function(Z){return gt(Z,x)});if(q){var E=A.filter(function(Z){return!gt(Z,x)});L?.(E,l)}else L?.(Ja(Ja([],A,!0),[x],!1),l)}}else g?.(x,l);c||((m=(f=n.props).onSelect)===null||m===void 0||m.call(f,x,l),n.setState({inputValue:null}))},n.setPreSelection=function(i){if(!n.props.readOnly){var l=ri(n.props.minDate),c=ri(n.props.maxDate),u=!0;if(i){var f=sd(i);if(l&&c)u=Tl(i,n.props.minDate,n.props.maxDate);else if(l){var m=sd(n.props.minDate);u=$i(i,m)||$l(f,m)}else if(c){var h=iE(n.props.maxDate);u=Za(i,h)||$l(f,h)}}u&&n.setState({preSelection:i})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(i,l){var c,u;if(!n.props.selectsMultiple){var f=n.props,m=f.selectsRange,h=f.startDate,x=f.endDate,v=f.onChange,g=f.timeZone;if(m){var S=v;if(l==="start"){if(h){var y=Pi(h,{hour:tn(i),minute:rn(i)});n.setState({preSelection:y}),g&&(y=Ti(y,g)),S?.([y,x?g?Ti(x,g):x:null],void 0)}}else if(l==="end"){if(x){var N=Pi(x,{hour:tn(i),minute:rn(i)});n.setState({preSelection:N}),g&&(N=Ti(N,g)),S?.([h?g?Ti(h,g):h:null,N],void 0)}}else{var C=h&&!x;if(C){var y=Pi(h,{hour:tn(i),minute:rn(i)});n.setState({preSelection:y}),g&&(y=Ti(y,g)),S?.([y,null],void 0)}else if(h&&x){var N=Pi(x,{hour:tn(i),minute:rn(i)});n.setState({preSelection:N}),g&&(N=Ti(N,g)),S?.([g?Ti(h,g):h,N],void 0)}else{var A=Pi(n.getPreSelection(),{hour:tn(i),minute:rn(i)});n.setState({preSelection:A})}}}else{var k=n.props.selected?n.props.selected:n.getPreSelection(),A=n.props.selected?i:Pi(k,{hour:tn(i),minute:rn(i)});n.setState({preSelection:A}),A&&g&&(A=Ti(A,g)),(u=(c=n.props).onChange)===null||u===void 0||u.call(c,A)}n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var i,l;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(l=(i=n.props).onInputClick)===null||l===void 0||l.call(i)},n.handleTimeOnlyArrowKey=function(i){var l,c,u,f,m=Bl(n.props.selected)||n.state.preSelection||jt(),h=(l=n.props.timeIntervals)!==null&&l!==void 0?l:30,x=(c=n.props.dateFormat)!==null&&c!==void 0?c:t.defaultProps.dateFormat,v=Array.isArray(x)?x[0]:x,g=sd(m),S=tn(m)*60+rn(m),y=1440-h,N;if(i===Te.ArrowUp){var C=Math.max(0,S-h);N=Ad(g,C)}else{var C=Math.min(y,S+h);N=Ad(g,C)}var A=Qt(N,v||t.defaultProps.dateFormat,n.props.locale);if(n.setState({preSelection:N,inputValue:A}),!(n.props.selectsRange||n.props.selectsMultiple)){var k=n.props.selected?n.props.selected:n.getPreSelection(),M=n.props.selected?N:Pi(k,{hour:tn(N),minute:rn(N)});(f=(u=n.props).onChange)===null||f===void 0||f.call(u,M),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),requestAnimationFrame(function(){n.scrollToTimeOption(N)})}},n.handleTimeOnlyEnterKey=function(i){var l,c,u,f,m=i.target,h=m.value,x=(l=n.props.dateFormat)!==null&&l!==void 0?l:t.defaultProps.dateFormat,v=n.props.timeFormat||"p",g=n.state.preSelection||Bl(n.props.selected)||jt(),S=Al(h,x,n.props.locale,(c=n.props.strictParsing)!==null&&c!==void 0?c:!1,g),y=g;if(S&&bn(S))y=S;else{var N=((u=n.calendar)===null||u===void 0?void 0:u.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(".react-datepicker__time-list-item[tabindex='0']");if(N instanceof HTMLElement){var C=(f=N.textContent)===null||f===void 0?void 0:f.trim();if(C){var A=Al(C,v,n.props.locale,!1,g);A&&bn(A)&&(y=A)}}}n.handleTimeChange(y),n.setOpen(!1),n.sendFocusBackToInput()},n.scrollToTimeOption=function(i){var l,c;if(!((l=n.calendar)===null||l===void 0)&&l.containerRef.current){for(var u=n.calendar.containerRef.current,f=Array.from(u.querySelectorAll(".react-datepicker__time-list-item")),m=null,h=1/0,x=n.props.timeFormat||"p",v=0,g=f;v<g.length;v++){var S=g[v],y=(c=S.textContent)===null||c===void 0?void 0:c.trim();if(y){var N=Al(y,x,n.props.locale,!1,i);if(N&&bn(N)){if(AI(N,i)){m=S;break}var C=Math.abs(N.getTime()-i.getTime());C<h&&(h=C,m=S)}}}m&&(f.forEach(function(A){A.setAttribute("tabindex","-1")}),m.setAttribute("tabindex","0"),m.scrollIntoView({behavior:"smooth",block:"center"}))}},n.onInputKeyDown=function(i){var l,c,u,f,m,h;(c=(l=n.props).onKeyDown)===null||c===void 0||c.call(l,i);var x=i.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(x===Te.ArrowDown||x===Te.ArrowUp||x===Te.Enter)&&((u=n.onInputClick)===null||u===void 0||u.call(n));return}if(n.state.open&&n.props.showTimeSelectOnly){if(x===Te.ArrowDown||x===Te.ArrowUp){i.preventDefault(),n.handleTimeOnlyArrowKey(x);return}if(x===Te.Enter){i.preventDefault(),n.handleTimeOnlyEnterKey(i);return}}if(n.state.open){if(x===Te.ArrowDown||x===Te.ArrowUp){i.preventDefault();var v=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',g=((f=n.calendar)===null||f===void 0?void 0:f.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(v);g instanceof HTMLElement&&g.focus({preventScroll:!0});return}var S=jt(n.state.preSelection);x===Te.Enter?(i.preventDefault(),i.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===$b?(n.handleSelect(S,i),!n.props.shouldCloseOnSelect&&n.setPreSelection(S)):n.setOpen(!1)):x===Te.Escape?(i.preventDefault(),i.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):x===Te.Tab&&n.setOpen(!1),n.inputOk()||(h=(m=n.props).onInputError)===null||h===void 0||h.call(m,{code:1,msg:Bb})}},n.onPortalKeyDown=function(i){var l=i.key;l===Te.Escape&&(i.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(i){var l,c,u,f,m,h,x=n.props,v=x.minDate,g=x.maxDate,S=x.disabledKeyboardNavigation,y=x.showWeekPicker,N=x.shouldCloseOnSelect,C=x.locale,A=x.calendarStartDay,k=x.adjustDateOnChange,M=x.inline;if((c=(l=n.props).onKeyDown)===null||c===void 0||c.call(l,i),!S){var D=i.key,O=i.shiftKey,P=jt(n.state.preSelection),T=function(q,E){var Z=E;switch(q){case Te.ArrowRight:Z=y?yh(E,1):Sa(E,1);break;case Te.ArrowLeft:Z=y?HD(E):bne(E);break;case Te.ArrowUp:Z=HD(E);break;case Te.ArrowDown:Z=yh(E,1);break;case Te.PageUp:Z=O?Gs(E,1):Yl(E,1);break;case Te.PageDown:Z=O?Ca(E,1):Da(E,1);break;case Te.Home:Z=qs(E,C,A);break;case Te.End:Z=oie(E);break}return Z},$=function(q,E){for(var Z=40,Q=q,re=!1,R=0,G=T(q,E);!re;){if(R>=Z){G=E;break}v&&G<v&&(Q=Te.ArrowRight,G=ia(v,n.props)?T(Q,G):v),g&&G>g&&(Q=Te.ArrowLeft,G=ia(g,n.props)?T(Q,G):g),ia(G,n.props)?((Q===Te.PageUp||Q===Te.Home)&&(Q=Te.ArrowRight),(Q===Te.PageDown||Q===Te.End)&&(Q=Te.ArrowLeft),G=T(Q,G)):re=!0,R++}return G};if(D===Te.Enter){i.preventDefault(),n.handleSelect(P,i),!N&&n.setPreSelection(P);return}else if(D===Te.Escape){i.preventDefault(),n.setOpen(!1),n.inputOk()||(f=(u=n.props).onInputError)===null||f===void 0||f.call(u,{code:1,msg:Bb});return}var L=null;switch(D){case Te.ArrowLeft:case Te.ArrowRight:case Te.ArrowUp:case Te.ArrowDown:case Te.PageUp:case Te.PageDown:case Te.Home:case Te.End:L=$(D,P);break}if(!L){(h=(m=n.props).onInputError)===null||h===void 0||h.call(m,{code:1,msg:Bb});return}i.preventDefault(),n.setState({lastPreSelectChange:$b}),k&&n.setSelected(L),n.setPreSelection(L),M&&n.setState({shouldFocusDayInline:!0})}},n.onPopperKeyDown=function(i){var l=i.key;l===Te.Escape&&(i.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),n.sendFocusBackToInput();var l=n.props,c=l.selectsRange,u=l.onChange;u?.(c?[null,null]:null,i),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(i){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(i)&&n.setOpen(!1)},n.handleMonthSelectedInChange=function(i){n.setState({monthSelectedIn:i})},n.renderCalendar=function(){var i,l;return!n.props.inline&&!n.isCalendarOpen()?null:he.createElement(Bie,ut({showMonthYearDropdown:void 0,ref:function(c){n.calendar=c}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(i=n.props.dateFormatCalendar)!==null&&i!==void 0?i:t.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:yie(n.modifyHolidays()),outsideClickIgnoreClass:n.props.outsideClickIgnoreClass,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(l=n.props.dropdownMode)!==null&&l!==void 0?l:t.defaultProps.dropdownMode,onMonthSelectedInChange:n.handleMonthSelectedInChange}),n.props.children)},n.renderAriaLiveRegion=function(){var i,l=n.props.locale,c=(i=n.props.dateFormat)!==null&&i!==void 0?i:t.defaultProps.dateFormat,u=n.props.showTimeInput||n.props.showTimeSelect,f=u?"PPPPp":"PPPP",m;return n.props.selectsRange?m="Selected start date: ".concat(gn(n.props.startDate,{dateFormat:f,locale:l}),". ").concat(n.props.endDate?"End date: "+gn(n.props.endDate,{dateFormat:f,locale:l}):""):n.props.showTimeSelectOnly?m="Selected time: ".concat(gn(n.props.selected,{dateFormat:c,locale:l})):n.props.showYearPicker?m="Selected year: ".concat(gn(n.props.selected,{dateFormat:"yyyy",locale:l})):n.props.showMonthYearPicker?m="Selected month: ".concat(gn(n.props.selected,{dateFormat:"MMMM yyyy",locale:l})):n.props.showQuarterYearPicker?m="Selected quarter: ".concat(gn(n.props.selected,{dateFormat:"yyyy, QQQ",locale:l})):m="Selected date: ".concat(gn(n.props.selected,{dateFormat:f,locale:l})),he.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},m)},n.renderDateInput=function(){var i,l,c,u,f,m,h,x=dt(n.props.className,(i={},i[n.props.outsideClickIgnoreClass||t.defaultProps.outsideClickIgnoreClass]=n.state.open,i)),v=n.props.customInput||he.createElement("input",{type:"text"}),g=n.props.customInputRef||"ref",S={},y=(c=n.props["aria-describedby"])!==null&&c!==void 0?c:n.props.ariaDescribedBy,N=(u=n.props["aria-invalid"])!==null&&u!==void 0?u:n.props.ariaInvalid,C=(f=n.props["aria-label"])!==null&&f!==void 0?f:n.props.ariaLabel,A=(m=n.props["aria-labelledby"])!==null&&m!==void 0?m:n.props.ariaLabelledBy,k=(h=n.props["aria-required"])!==null&&h!==void 0?h:n.props.ariaRequired;return y!=null&&(S["aria-describedby"]=y),N!=null&&(S["aria-invalid"]=N),C!=null&&(S["aria-label"]=C),A!=null&&(S["aria-labelledby"]=A),k!=null&&(S["aria-required"]=k),j.cloneElement(v,ut((l={},l[g]=function(M){n.input=M},l.value=n.getInputValue(),l.onBlur=n.handleBlur,l.onChange=n.handleChange,l.onClick=n.onInputClick,l.onFocus=n.handleFocus,l.onKeyDown=n.onInputKeyDown,l.id=n.props.id,l.name=n.props.name,l.form=n.props.form,l.autoFocus=n.props.autoFocus,l.placeholder=n.props.placeholderText,l.disabled=n.props.disabled,l.autoComplete=n.props.autoComplete,l.className=dt(v.props.className,x),l.title=n.props.title,l.readOnly=n.props.readOnly,l.required=n.props.required,l.tabIndex=n.props.tabIndex,l),S))},n.renderClearButton=function(){var i=n.props,l=i.isClearable,c=i.disabled,u=i.selected,f=i.startDate,m=i.endDate,h=i.clearButtonTitle,x=i.clearButtonClassName,v=x===void 0?"":x,g=i.ariaLabelClose,S=g===void 0?"Close":g,y=i.selectedDates,N=i.readOnly;return l&&!N&&(u!=null||f!=null||m!=null||y?.length)?he.createElement("button",{type:"button",className:dt("react-datepicker__close-icon",v,{"react-datepicker__close-icon--disabled":c}),disabled:c,"aria-label":S,onClick:n.onClearClick,title:h,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:DI,readOnly:!1,rangeSeparator:NI,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:ef,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(r,n){var i,l,c,u;this.props.selectsRange&&yE(r.startDate,this.props.startDate)?this.setPreSelection(this.props.startDate):yE(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),this.props.selectsRange&&n.open===!1&&this.state.open===!0&&this.state.monthSelectedIn!==0&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:mE(this.props.highlightDates)}),!n.focused&&!$l(r.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((l=(i=this.props).onCalendarOpen)===null||l===void 0||l.call(i)),n.open===!0&&this.state.open===!1&&((u=(c=this.props).onCalendarClose)===null||u===void 0||u.call(c)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var r=this.props,n=r.showIcon,i=r.icon,l=r.calendarIconClassname,c=r.calendarIconClassName,u=r.toggleCalendarOnIconClick,f=this.state.open;return l&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),he.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&he.createElement($ie,ut({icon:i,className:dt(c,!c&&l,f&&"react-datepicker-ignore-onclickoutside")},u?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var n=this.state.open?he.createElement(_I,{enableTabLoop:this.props.enableTabLoop},he.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(n=he.createElement(EI,ut({portalId:this.props.portalId},this.props),n)),he.createElement(he.Fragment,null,this.renderInputContainer(),n)}return he.createElement(Vie,ut({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:r,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow,monthHeaderPosition:this.props.monthHeaderPosition}))},t})(j.Component),Wie="input",$b="navigate";function mr({open:e,onClose:t,title:r,children:n,wide:i}){const l=j.useRef(null);return j.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),j.useEffect(()=>{function c(u){u.key==="Escape"&&t()}return e&&window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[e,t]),e?a.jsxs("div",{ref:l,className:"fixed inset-0 z-50 flex items-start justify-center pt-[5vh] sm:pt-[10vh] px-4",onClick:c=>{c.target===l.current&&t()},children:[a.jsx("div",{className:"fixed inset-0 bg-black/60"}),a.jsxs("div",{className:`relative bg-[var(--bg-card)] border border-[var(--border)] rounded-xl shadow-2xl w-full ${i?"max-w-2xl":"max-w-lg"} max-h-[80vh] flex flex-col animate-fade-in`,children:[a.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-[var(--border-light)] shrink-0",children:[a.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:r}),a.jsx("button",{onClick:t,className:"p-1.5 rounded-lg text-[var(--text-dim)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:a.jsx(ai,{size:16})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto px-5 py-4",children:n})]})]}):null}function me({label:e,required:t,error:r,children:n}){return a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:[e,t&&a.jsx("span",{className:"text-rose-500 ml-0.5",children:"*"})]}),n,r&&a.jsx("p",{className:"text-xs text-rose-500 mt-1",children:r})]})}function Pe({value:e,onChange:t,placeholder:r,type:n="text",sensitive:i,...l}){const{masked:c}=Oa();return a.jsx("input",{type:n,value:e,onChange:u=>t(u.target.value),placeholder:r,className:`w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors ${i&&c?"sensitive-blur":""}`,...l})}function ka({value:e,onChange:t,...r}){const n=e?new Date(e.length>10?e:e+"T00:00:00"):null;function i(l){if(!l){t("");return}const c=l.getFullYear(),u=String(l.getMonth()+1).padStart(2,"0"),f=String(l.getDate()).padStart(2,"0");t(`${c}-${u}-${f}`)}return a.jsxs("div",{className:"relative cf-datepicker",children:[a.jsx(Gie,{selected:n,onChange:i,dateFormat:"dd MMM yyyy",maxDate:new Date,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",placeholderText:"Select date",className:"w-full px-3 py-2 pr-9 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors",...r}),a.jsx(iz,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)] pointer-events-none"})]})}function tt({value:e,onChange:t,options:r,placeholder:n}){return a.jsxs("select",{value:e,onChange:i=>t(i.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors",children:[n&&a.jsx("option",{value:"",children:n}),r.map(i=>a.jsx("option",{value:i.value,children:i.label},i.value))]})}function kc({value:e,onChange:t,placeholder:r,rows:n=3}){return a.jsx("textarea",{value:e,onChange:i=>t(i.target.value),placeholder:r,rows:n,className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors resize-none"})}function Kie({checked:e,onChange:t,label:r}){return a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e,onChange:n=>t(n.target.checked),className:"w-4 h-4 rounded border-[var(--border-input)] bg-[var(--bg-input)] text-violet-500 focus:ring-violet-500"}),a.jsx("span",{className:"text-sm text-[var(--text-secondary)]",children:r})]})}function un({onCancel:e,onSubmit:t,submitLabel:r="Save",loading:n}){return a.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4 mt-4 border-t border-[var(--border-light)]",children:[a.jsx("button",{onClick:e,disabled:n,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),a.jsxs("button",{onClick:t,disabled:n,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 flex items-center gap-1.5",children:[n&&a.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),n?"Saving...":r]})]})}function is({onClick:e,label:t="Deactivate"}){return a.jsx("button",{onClick:e,className:"px-4 py-2 text-xs font-semibold text-rose-400 hover:text-rose-300 hover:bg-rose-500/10 rounded-lg transition-colors",children:t})}const jE=[{key:"sip",label:"Adjust SIP",icon:NB,color:"text-blue-400",dimColor:"text-blue-400/60 hover:text-blue-400",activeBg:"bg-blue-500/20 border border-blue-500/40"},{key:"lumpsum",label:"Lumpsum",icon:Gz,color:"text-emerald-400",dimColor:"text-emerald-400/60 hover:text-emerald-400",activeBg:"bg-emerald-500/20 border border-emerald-500/40"},{key:"buysell",label:"Buy / Sell",icon:ZF,color:"text-amber-400",dimColor:"text-amber-400/60 hover:text-amber-400",activeBg:"bg-amber-500/20 border border-amber-500/40"}];function In(e){return e>=1e5?`${(e/1e5).toFixed(1)}L`:e>=1e3?`${(e/1e3).toFixed(0)}K`:`${Math.round(e)}`}function MN({exitOnly:e}){return a.jsx("div",{className:"py-4 text-center space-y-1",children:e?a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Only exit candidates here  use ",a.jsx("span",{className:"font-semibold text-amber-400",children:"Buy / Sell"})," tab"]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"No target allocations set"}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Use ",a.jsx("span",{className:"font-semibold text-violet-400",children:"Allocations"})," to set target % for each fund first"]})]})})}function DN({children:e,dimmed:t}){return a.jsx("div",{className:`bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-3.5 py-3 space-y-2 ${t?"opacity-50":""}`,children:e})}function EN({fundName:e}){const{main:t,plan:r}=Le(e);return a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-[11px] font-medium text-[var(--text-primary)] leading-tight",children:t}),r&&a.jsx("p",{className:"text-[9px] text-[var(--text-dim)]",children:r})]})}function _N({label:e,value:t,valueClass:r}){return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:e}),a.jsx("span",{className:`text-[11px] tabular-nums font-medium ${r||"text-[var(--text-secondary)]"}`,children:t})]})}function Qie({portfolio:e,holdings:t,totalValue:r}){const n=e.sipTarget||0,i=(e.rebalanceThreshold||.05)*100,l=t.some(v=>v.targetAllocationPct>0),c=t.some(v=>v.targetAllocationPct===0&&v.units>0);if(!l)return a.jsx(MN,{exitOnly:c});if(n<=0)return a.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"No SIP target set for this portfolio"});const u=t.filter(v=>v.targetAllocationPct>0).map(v=>{const g=r>0?v.currentValue/r*100:0,S=Math.abs(g-v.targetAllocationPct),y=S>i,C=v.targetAllocationPct/100*r-v.currentValue,A=v.targetAllocationPct/100*n;return{...v,currentPct:g,drift:S,drifted:y,gap:C,normalSIP:A}}),m=u.filter(v=>v.drifted&&v.gap>0).reduce((v,g)=>v+g.gap,0),h=u.map(v=>({...v,suggestedSIP:v.drifted&&v.gap>0&&m>0?v.gap/m*n:v.drifted&&v.gap<=0?0:v.normalSIP}));return u.some(v=>v.drifted)?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Funds drifted >",i.toFixed(0),"%: overweight  0, underweight  extra SIP. Others keep normal SIP."]}),a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Allocation"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Normal SIP"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Rebalance SIP"})]})}),a.jsx("tbody",{children:h.map(v=>{const g=v.drifted&&v.gap<=0,S=v.drifted&&v.gap>0,y=!v.drifted;return a.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 ${y?"opacity-50":g?"opacity-60":""}`,children:[a.jsxs("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px]",children:[a.jsx("p",{className:"truncate",children:Le(v.fundName).main}),Le(v.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(v.fundName).plan})]}),a.jsxs("td",{className:"py-2 px-2 text-right tabular-nums",children:[a.jsxs("span",{className:g?"text-amber-400":S?"text-blue-400":"text-[var(--text-dim)]",children:[v.currentPct.toFixed(1),"%"]}),a.jsxs("span",{className:"text-[var(--text-dim)]",children:[" / ",v.targetAllocationPct.toFixed(1),"%"]})]}),a.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:In(v.normalSIP)}),a.jsx("td",{className:"py-2 px-2 text-right font-semibold tabular-nums",children:g?a.jsx("span",{className:"text-amber-400/70",children:"0"}):S?a.jsx("span",{className:"text-blue-400",children:In(v.suggestedSIP)}):a.jsx("span",{className:"text-[var(--text-dim)]",children:In(v.suggestedSIP)})})]},v.holdingId)})}),a.jsx("tfoot",{children:a.jsxs("tr",{className:"border-t border-[var(--border)]",children:[a.jsx("td",{className:"py-1.5 px-2 text-xs font-bold text-[var(--text-primary)]",colSpan:2,children:"Total"}),a.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums",children:In(n)}),a.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-blue-400 tabular-nums",children:In(n)})]})})]})}),a.jsxs("div",{className:"sm:hidden space-y-2",children:[h.map(v=>{const g=v.drifted&&v.gap<=0,S=v.drifted&&v.gap>0,y=!v.drifted;return a.jsxs(DN,{dimmed:y||g,children:[a.jsx(EN,{fundName:v.fundName}),a.jsx(_N,{label:"Allocation",value:a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:g?"text-amber-400":S?"text-blue-400":"",children:[v.currentPct.toFixed(1),"%"]})," ",a.jsxs("span",{className:"text-[var(--text-dim)]",children:["/ ",v.targetAllocationPct.toFixed(1),"%"]})]})}),a.jsxs("div",{className:"flex items-center justify-between pt-1 border-t border-[var(--border-light)]",children:[a.jsxs("div",{className:"text-center flex-1",children:[a.jsx("p",{className:"text-[9px] text-[var(--text-dim)] uppercase",children:"Normal"}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:In(v.normalSIP)})]}),a.jsx("div",{className:"text-[var(--text-dim)] text-xs px-2",children:""}),a.jsxs("div",{className:"text-center flex-1",children:[a.jsx("p",{className:"text-[9px] text-[var(--text-dim)] uppercase",children:"Rebalance"}),a.jsx("p",{className:`text-xs font-semibold tabular-nums ${g?"text-amber-400/70":S?"text-blue-400":"text-[var(--text-dim)]"}`,children:g?"0":In(v.suggestedSIP)})]})]})]},v.holdingId)}),a.jsxs("div",{className:"flex items-center justify-between bg-[var(--bg-inset)] rounded-xl border border-[var(--border-light)] px-3.5 py-2.5",children:[a.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)]",children:"Total SIP"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:In(n)}),a.jsx("span",{className:"text-[var(--text-dim)]",children:""}),a.jsx("span",{className:"text-xs font-bold text-blue-400 tabular-nums",children:In(n)})]})]})]})]}):a.jsxs("p",{className:"text-xs text-[var(--text-dim)] py-2",children:["SIPs are balanced (within ",i.toFixed(0),"% threshold)"]})}function Xie({portfolio:e,holdings:t,totalValue:r}){const[n,i]=j.useState("");(e.rebalanceThreshold||.05)*100;const l=t.some(y=>y.targetAllocationPct>0),c=t.some(y=>y.targetAllocationPct===0&&y.units>0);if(!l)return a.jsx(MN,{exitOnly:c});const u=t.filter(y=>y.targetAllocationPct>0).map(y=>{const N=r>0?y.currentValue/r*100:0;return{...y,currentPct:N}}),f=j.useMemo(()=>{if(r<=0||u.length===0)return 0;const y=u.filter(k=>{const M=k.targetAllocationPct/100*r;return k.currentValue<M});if(y.length===0)return 0;const N=y.reduce((k,M)=>k+M.targetAllocationPct,0);if(N>=100)return 0;const C=y.reduce((k,M)=>k+M.currentValue,0),A=(N/100*r-C)/(1-N/100);return A>0?Math.ceil(A/100)*100:0},[u,r]),m=Number(n)||e.lumpsumTarget||f,h=j.useMemo(()=>{const y=m>0?r+m:r,N=u.map(A=>{const k=A.targetAllocationPct/100*y,M=m>0?Math.max(0,k-A.currentValue):0,D=y>0?(A.currentValue+M)/y*100:0,O=A.currentValue>k+1;return{...A,invest:M,newPct:D,isOverweight:O}}),C=N.reduce((A,k)=>A+k.invest,0);if(m>0&&C>0&&Math.abs(C-m)>1){const A=m/C;return N.map(k=>({...k,invest:k.invest>0?k.invest*A:0,newPct:y>0?(k.currentValue+(k.invest>0?k.invest*A:0))/y*100:0}))}return N},[u,m,r]),x=h.reduce((y,N)=>y+N.invest,0),v=h.some(y=>y.isOverweight),g=Number(n),S=g>0&&f>0&&g<f;return a.jsxs("div",{className:"space-y-2",children:[f>0&&a.jsx("div",{className:"flex items-center gap-2 px-2.5 py-1.5 rounded-md bg-emerald-500/10 border border-emerald-500/20",children:a.jsxs("p",{className:"text-xs text-emerald-400",children:[a.jsx("span",{className:"font-bold",children:K(f)})," needed to bring all underweight funds to target %"]})}),a.jsxs("div",{className:"flex items-end gap-3",children:[a.jsx("div",{className:"flex-1 max-w-[200px]",children:a.jsx(me,{label:"Invest Amount ()",children:a.jsx(Pe,{type:"number",value:n,onChange:i,placeholder:f>0?`${K(f)}`:"Enter amount..."})})}),!g&&!e.lumpsumTarget&&f>0&&a.jsx("p",{className:"text-xs text-emerald-400/70 pb-2.5",children:"Using suggested"}),!g&&e.lumpsumTarget>=100&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] pb-2.5",children:"Using lumpsum target"})]}),S&&a.jsxs("p",{className:"text-xs text-amber-400/80 px-1",children:["Below minimum  distributes proportionally but won't fully rebalance. Need ",K(f)," for exact target %."]}),h.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Allocation"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Invest"})]})}),a.jsx("tbody",{children:h.map(y=>a.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 ${y.invest===0?"opacity-50":""}`,children:[a.jsxs("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px]",children:[a.jsx("p",{className:"truncate",children:Le(y.fundName).main}),Le(y.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(y.fundName).plan})]}),a.jsxs("td",{className:"py-2 px-2 text-right tabular-nums",children:[a.jsxs("span",{className:y.isOverweight?"text-amber-400":y.invest>0?"text-blue-400":"text-[var(--text-dim)]",children:[y.currentPct.toFixed(1),"%"]}),a.jsxs("span",{className:"text-[var(--text-dim)]",children:["  ",y.newPct.toFixed(1),"%"]})]}),a.jsx("td",{className:"py-2 px-2 text-right font-semibold tabular-nums",children:y.isOverweight?a.jsx("span",{className:"text-amber-400/70 text-xs",children:"Overweight"}):y.invest>0?a.jsx("span",{className:"text-emerald-400",children:In(y.invest)}):a.jsx("span",{className:"text-[var(--text-dim)] text-xs",children:"Balanced"})})]},y.holdingId))}),x>0&&a.jsx("tfoot",{children:a.jsxs("tr",{className:"border-t border-[var(--border)]",children:[a.jsx("td",{className:"py-1.5 px-2 text-xs font-bold text-[var(--text-primary)]",colSpan:2,children:"Total"}),a.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-emerald-400 tabular-nums",children:K(x)})]})})]})}),a.jsxs("div",{className:"sm:hidden space-y-2",children:[h.map(y=>a.jsxs(DN,{dimmed:y.invest===0,children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsx(EN,{fundName:y.fundName}),a.jsx("div",{className:"text-right shrink-0",children:y.isOverweight?a.jsx("span",{className:"text-[10px] font-semibold px-2 py-0.5 rounded-full bg-amber-500/15 text-amber-400",children:"Overweight"}):y.invest>0?a.jsx("p",{className:"text-xs font-bold text-emerald-400 tabular-nums",children:In(y.invest)}):a.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:"Balanced"})})]}),a.jsx(_N,{label:"Allocation",value:a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:y.isOverweight?"text-amber-400":y.invest>0?"text-blue-400":"",children:[y.currentPct.toFixed(1),"%"]})," ",a.jsxs("span",{className:"text-[var(--text-dim)]",children:[" ",y.newPct.toFixed(1),"%"]})]})})]},y.holdingId)),x>0&&a.jsxs("div",{className:"flex items-center justify-between bg-[var(--bg-inset)] rounded-xl border border-[var(--border-light)] px-3.5 py-2.5",children:[a.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)]",children:"Total Invest"}),a.jsx("span",{className:"text-sm font-bold text-emerald-400 tabular-nums",children:K(x)})]})]})]}):a.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2 text-center",children:"All funds balanced"}),v&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Overweight funds can't be fixed by buying. Use ",a.jsx("span",{className:"font-semibold text-amber-400",children:"Buy / Sell"})," tab to sell overweight and buy underweight."]})]})}function Zie({portfolio:e,holdings:t,totalValue:r}){const n=(e.rebalanceThreshold||.05)*100,i=t.some(u=>u.targetAllocationPct>0),l=t.some(u=>u.targetAllocationPct===0&&u.units>0);if(!i&&!l)return a.jsx(MN,{});const c=t.filter(u=>u.targetAllocationPct>0||u.units>0).map(u=>{const f=r>0?u.currentValue/r*100:0,m=u.targetAllocationPct===0&&u.units>0,h=m||Math.abs(f-u.targetAllocationPct)>n,x=u.targetAllocationPct/100*r,v=h?x-u.currentValue:0;return{...u,currentPct:f,amount:v,isExit:m}}).filter(u=>Math.abs(u.amount)>=500);return c.length===0?a.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"Portfolio is balanced"}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Drift"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Action"})]})}),a.jsx("tbody",{children:c.map(u=>{const f=u.amount>0;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[a.jsxs("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px]",children:[a.jsx("p",{className:"truncate",children:Le(u.fundName).main}),Le(u.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(u.fundName).plan})]}),a.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:u.isExit?a.jsxs("span",{className:"text-[var(--accent-rose)]",children:[u.currentPct.toFixed(1),"%  Exit"]}):`${u.currentPct.toFixed(1)}%  ${u.targetAllocationPct.toFixed(1)}%`}),a.jsx("td",{className:"py-2 px-2 text-right",children:a.jsxs("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${f?"bg-emerald-500/20 text-emerald-400":"bg-rose-500/20 text-[var(--accent-rose)]"}`,children:[f?"Buy":u.isExit?"Exit":"Sell"," ",In(Math.abs(u.amount))]})})]},u.schemeCode||u.fundCode)})})]})}),a.jsx("div",{className:"sm:hidden space-y-2",children:c.map(u=>{const f=u.amount>0;return a.jsxs(DN,{children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsx(EN,{fundName:u.fundName}),a.jsxs("span",{className:`text-[11px] font-bold px-2.5 py-1 rounded-full shrink-0 ${f?"bg-emerald-500/20 text-emerald-400":"bg-rose-500/20 text-[var(--accent-rose)]"}`,children:[f?"Buy":u.isExit?"Exit":"Sell"," ",In(Math.abs(u.amount))]})]}),a.jsx(_N,{label:"Drift",value:u.isExit?a.jsxs("span",{className:"text-[var(--accent-rose)]",children:[u.currentPct.toFixed(1),"%  Exit"]}):a.jsxs(a.Fragment,{children:[a.jsxs("span",{children:[u.currentPct.toFixed(1),"%"]})," ",a.jsxs("span",{className:"text-[var(--text-dim)]",children:[" ",u.targetAllocationPct.toFixed(1),"%"]})]}),valueClass:f?"text-emerald-400":"text-amber-400"})]},u.schemeCode||u.fundCode)})})]})}function OI(){const{mfHoldings:e,mfPortfolios:t}=ht(),[r,n]=j.useState("buysell"),i=j.useMemo(()=>t.filter(f=>f.status!=="Inactive").map(f=>{const m=e.filter(y=>y.portfolioId===f.portfolioId&&y.units>0),h=m.reduce((y,N)=>y+N.currentValue,0),x=(f.rebalanceThreshold||.05)*100,v=m.filter(y=>{if(y.targetAllocationPct<=0)return!1;const N=h>0?y.currentValue/h*100:0;return Math.abs(N-y.targetAllocationPct)>x}).length,g=m.filter(y=>y.targetAllocationPct===0&&y.units>0&&y.currentValue>=500).length,S=m.some(y=>y.targetAllocationPct>0);return{...f,holdings:m,totalValue:h,driftedCount:v,exitCount:g,hasTargets:S}}).filter(f=>f.driftedCount>0||f.exitCount>0),[t,e]);if(i.length===0){const f=e.some(m=>m.targetAllocationPct>0);return a.jsx("div",{className:"py-8 text-center",children:f?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"All portfolios are balanced"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"No funds exceed their rebalance threshold"})]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No target allocations set"}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:["Use ",a.jsx("span",{className:"font-semibold text-violet-400",children:"Allocations"})," to set target % for each fund, then rebalance will show drift"]})]})})}const c=i.some(f=>(f.sipTarget||0)>=500)?jE:jE.filter(f=>f.key!=="sip"),u=c.some(f=>f.key===r)?r:c[0]?.key||"buysell";return a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"hidden sm:flex bg-[var(--bg-inset)] rounded-lg p-0.5",children:c.map(({key:f,label:m,icon:h,color:x,dimColor:v,activeBg:g})=>a.jsxs("button",{onClick:()=>n(f),className:`flex-1 flex items-center justify-center gap-1.5 py-2 rounded-md text-xs font-semibold transition-colors ${u===f?`${g} ${x} shadow-sm`:v}`,children:[a.jsx(h,{size:13})," ",m]},f))}),a.jsx("div",{className:"sm:hidden space-y-1.5",children:c.map(({key:f,label:m,icon:h,color:x,dimColor:v,activeBg:g})=>a.jsxs("button",{onClick:()=>n(f),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-semibold transition-colors ${u===f?`${g} ${x}`:`bg-[var(--bg-card)] border border-[var(--border)] ${v}`}`,children:[a.jsx(h,{size:16}),a.jsx("span",{children:m})]},f))}),i.map((f,m)=>a.jsxs("div",{className:"border border-[var(--border-light)] border-l-2 border-l-violet-500/50 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"px-3 py-2.5 bg-[var(--bg-inset)]",children:[a.jsxs("div",{className:"hidden sm:flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs font-bold text-violet-400 bg-violet-500/15 w-5 h-5 rounded flex items-center justify-center",children:m+1}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:f.portfolioName}),a.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:f.ownerName}),f.driftedCount>0&&a.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-amber-500/15 text-amber-400",children:[f.driftedCount," drifted"]}),f.exitCount>0&&a.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-rose-500/15 text-[var(--accent-rose)]",children:[f.exitCount," exit"]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-muted)]",children:[a.jsx("span",{className:"font-semibold text-[var(--text-secondary)]",children:K(f.totalValue)}),a.jsxs("span",{children:["Threshold: ",((f.rebalanceThreshold||.05)*100).toFixed(0),"%"]}),f.sipTarget>=100&&a.jsxs("span",{children:["SIP: ",K(f.sipTarget),"/mo"]})]})]}),a.jsxs("div",{className:"sm:hidden space-y-1.5",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs font-bold text-violet-400 bg-violet-500/15 w-5 h-5 rounded flex items-center justify-center shrink-0",children:m+1}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] flex-1 min-w-0 truncate",children:f.portfolioName})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap pl-7",children:[a.jsx("span",{className:"text-[11px] font-semibold text-[var(--text-secondary)] tabular-nums",children:K(f.totalValue)}),a.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:f.ownerName}),f.driftedCount>0&&a.jsxs("span",{className:"text-[10px] font-bold px-1.5 py-0.5 rounded-full bg-amber-500/15 text-amber-400",children:[f.driftedCount," drifted"]}),f.exitCount>0&&a.jsxs("span",{className:"text-[10px] font-bold px-1.5 py-0.5 rounded-full bg-rose-500/15 text-[var(--accent-rose)]",children:[f.exitCount," exit"]})]})]})]}),a.jsxs("div",{className:"px-3 py-2",children:[u==="sip"&&a.jsx(Qie,{portfolio:f,holdings:f.holdings,totalValue:f.totalValue}),u==="lumpsum"&&a.jsx(Xie,{portfolio:f,holdings:f.holdings,totalValue:f.totalValue}),u==="buysell"&&a.jsx(Zie,{portfolio:f,holdings:f.holdings,totalValue:f.totalValue})]})]},f.portfolioId))]})}const Jie="/logo-new.png",ese={mf:{label:"Mutual Funds",color:"bg-violet-500",order:1,route:"/investments/mutual-funds"},stocks:{label:"Stocks",color:"bg-blue-500",order:2,route:"/investments/stocks"},PPF:{label:"PPF",color:"bg-cyan-600",order:3,route:"/investments/other"},EPF:{label:"EPF",color:"bg-cyan-500",order:4,route:"/investments/other"},NPS:{label:"NPS",color:"bg-sky-500",order:5,route:"/investments/other"},"Fixed Deposit":{label:"Fixed Deposit",color:"bg-teal-500",order:6,route:"/investments/other"},FD:{label:"Fixed Deposit",color:"bg-teal-500",order:6,route:"/investments/other"},RD:{label:"RD",color:"bg-teal-400",order:7,route:"/investments/other"},SSY:{label:"SSY",color:"bg-pink-400",order:8,route:"/investments/other"},NSC:{label:"NSC",color:"bg-indigo-400",order:9,route:"/investments/other"},Bonds:{label:"Bonds",color:"bg-cyan-400",order:10,route:"/investments/other"},Debt:{label:"Debt",color:"bg-cyan-500",order:11,route:"/investments/other"},"Physical Gold":{label:"Physical Gold",color:"bg-amber-500",order:12,route:"/investments/other"},"Digital Gold":{label:"Digital Gold",color:"bg-amber-400",order:12,route:"/investments/other"},"Sovereign Gold Bond":{label:"SGB",color:"bg-amber-600",order:12,route:"/investments/other"},Gold:{label:"Gold",color:"bg-amber-500",order:12,route:"/investments/other"},"Physical Silver":{label:"Physical Silver",color:"bg-slate-400",order:13,route:"/investments/other"},"Digital Silver":{label:"Digital Silver",color:"bg-slate-300",order:13,route:"/investments/other"},Silver:{label:"Silver",color:"bg-slate-400",order:13,route:"/investments/other"},"Real Estate":{label:"Real Estate",color:"bg-orange-500",order:14,route:"/investments/other"},Property:{label:"Real Estate",color:"bg-orange-500",order:14,route:"/investments/other"},Crypto:{label:"Crypto",color:"bg-violet-400",order:15,route:"/investments/other"},Alternative:{label:"Alternative",color:"bg-violet-400",order:15,route:"/investments/other"},Equity:{label:"Equity",color:"bg-emerald-500",order:16,route:"/investments/other"},Other:{label:"Other",color:"bg-gray-500",order:17,route:"/investments/other"}},Hm=["from-violet-500 to-indigo-500","from-rose-500 to-pink-500","from-blue-500 to-cyan-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],NE=["bg-violet-500","bg-rose-500","bg-blue-500","bg-amber-500","bg-emerald-500"],tse=[{label:"Dashboard",path:"/dashboard",match:"/dashboard"},{label:"Family Members",path:"/family",match:"/family"},{label:"Bank Accounts",path:"/accounts/bank",match:"/accounts/bank"},{label:"Investment Accounts",path:"/accounts/investment",match:"/accounts/investment"},{label:"Insurance",path:"/insurance",match:"/insurance"},{label:"Mutual Funds",path:"/investments/mutual-funds",match:"/investments/mutual-funds"},{label:"Stocks",path:"/investments/stocks",match:"/investments/stocks"},{label:"Other Investments",path:"/investments/other",match:"/investments/other"},{label:"Liabilities",path:"/liabilities",match:"/liabilities"},{label:"Goals",path:"/goals",match:"/goals"}],rse={mf:"#8b5cf6",stocks:"#3b82f6",PPF:"#14b8a6",EPF:"#f59e0b",NPS:"#ec4899","Fixed Deposit":"#06b6d4",FD:"#06b6d4",RD:"#2dd4bf",SSY:"#f472b6",NSC:"#818cf8",Bonds:"#22d3ee",Debt:"#0ea5e9","Physical Gold":"#fbbf24","Digital Gold":"#f59e0b","Sovereign Gold Bond":"#d97706",Gold:"#fbbf24","Physical Silver":"#94a3b8","Digital Silver":"#cbd5e1",Silver:"#94a3b8","Real Estate":"#f97316",Property:"#f97316",Crypto:"#a78bfa",Alternative:"#a78bfa",Equity:"#10b981",Other:"#6b7280"};function nse(e){let t=0;for(let n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);return`hsl(${(t%360+360)%360}, 65%, 55%)`}function wE(e){return rse[e]||nse(e)}const ase={stocks:"Equity",PPF:"Debt",EPF:"Debt",NPS:"Debt","Fixed Deposit":"Debt",FD:"Debt",RD:"Debt",SSY:"Debt",NSC:"Debt",Bonds:"Debt",Debt:"Debt","Physical Gold":"Gold","Digital Gold":"Gold","Sovereign Gold Bond":"Gold",Gold:"Gold","Physical Silver":"Gold","Digital Silver":"Gold",Silver:"Gold","Real Estate":"Real Estate",Property:"Real Estate",Crypto:"Alternative",Alternative:"Alternative",Equity:"Equity",Other:"Other"},ise={Equity:"#8b5cf6",Debt:"#3b82f6",Gold:"#fbbf24","Real Estate":"#f97316",Cash:"#2dd4bf",Alternative:"#a78bfa",Other:"#6b7280"};function sse(e){if(!e)return"Equity";const t=e.toLowerCase();return t.includes("gold")||t.includes("silver")||t.includes("commodity")?"Gold":t.includes("liquid")||t.includes("money market")||t.includes("overnight")?"Cash":t.includes("gilt")||t.includes("government securities")||t.includes("constant maturity")||t.includes("debt")||t.includes("bond")||t.includes("income fund")||t.includes("corporate bond")||t.includes("banking & psu")||t.includes("short duration")||t.includes("medium duration")||t.includes("long duration")||t.includes("short term")||t.includes("medium term")||t.includes("floater")||t.includes("floating rate")||t.includes("credit")||t.includes("accrual")||t.includes("savings fund")||t.includes("ultra short")?"Debt":t.includes("multi asset")?"Multi-Asset":t.includes("hybrid")||t.includes("balanced")||t.includes("dynamic asset")||t.includes("arbitrage")||t.includes("retirement")||t.includes("aggressive")||t.includes("conservative")||t.includes("children")||t.includes("pension")||t.includes("fund of fund")||t.includes("fof")?"Hybrid":"Equity"}const lse={buyopp:"Buy Opportunities",rebalance:"Rebalance Alerts"};function ose(){const{theme:e,toggle:t}=iO(),{selectedMember:r,setSelectedMember:n,familyMembers:i}=Br(),{mfPortfolios:l,mfHoldings:c,stockPortfolios:u,stockHoldings:f,otherInvList:m,liabilityList:h,assetAllocations:x}=ht(),{user:v,signOut:g}=ao(),{masked:S,toggleMask:y,mv:N}=Oa(),C=Ks(),A=_a(),{criticalAlerts:k,upcomingReminders:M,investmentSignals:D}=dte(),[O,P]=j.useState(!1),[T,$]=j.useState(!1),[L,q]=j.useState(null),[E,Z]=j.useState(!1),Q=j.useRef(null),re=j.useRef(null),R=k.length+M.length,{buyOppCount:G,buyCount:pe,strongBuyCount:je,rebalanceCount:we}=D;j.useEffect(()=>{function z(U){Q.current&&!Q.current.contains(U.target)&&P(!1),re.current&&!re.current.contains(U.target)&&$(!1)}return(O||T)&&document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[O,T]);const F=i.findIndex(z=>z.memberId===r),ue=F>=0?i[F]:null,J=j.useMemo(()=>{const z=(ye,_e)=>r==="all"?ye:ye.filter(ze=>ze[_e]===r),U={},xe=(ye,_e,ze,Mt)=>{U[ye]||(U[ye]={items:[],invested:0}),U[ye].items.push({label:_e,value:ze}),U[ye].invested+=Mt};z((l||[]).filter(ye=>ye.status==="Active"),"ownerId").forEach(ye=>{const _e=(c||[]).filter(W=>W.portfolioId===ye.portfolioId&&W.units>0),ze=_e.reduce((W,H)=>W+H.currentValue,0),Mt=_e.reduce((W,H)=>W+H.investment,0);ze>0&&xe("mf",ye.portfolioName?.replace(/^PFL-/,"")||ye.portfolioName,ze,Mt)}),z((u||[]).filter(ye=>ye.status==="Active"),"ownerId").forEach(ye=>{const _e=(f||[]).filter(W=>W.portfolioId===ye.portfolioId),ze=_e.reduce((W,H)=>W+H.currentValue,0),Mt=_e.reduce((W,H)=>W+H.totalInvestment,0);ze>0&&xe("stocks",ye.portfolioName,ze,Mt)}),z((m||[]).filter(ye=>ye.status==="Active"),"familyMemberId").forEach(ye=>{const _e=ye.investmentType||"Other";xe(_e,ye.investmentName||_e,ye.currentValue,ye.investedAmount||0)});const Ce=Object.entries(U).map(([ye,{items:_e,invested:ze}])=>{const Mt=ese[ye]||{label:ye,color:"bg-gray-500",order:50,route:"/investments/other"},W=_e.reduce((H,te)=>H+te.value,0);return{key:ye,label:Mt.label,color:Mt.color,order:Mt.order,route:Mt.route,total:W,invested:ze,items:_e.sort((H,te)=>te.value-H.value)}}).filter(ye=>ye.total>0).sort((ye,_e)=>_e.total-ye.total),oe={Equity:0,Debt:0,Gold:0,Cash:0,"Real Estate":0,Alternative:0,Other:0},$e={};if(x)for(const ye of x)$e[ye.fundCode]=ye.assetAllocation;const Ie=(c||[]).filter(ye=>ye.units>0);(r==="all"?Ie:Ie.filter(ye=>{const _e=(l||[]).find(ze=>ze.portfolioId===ye.portfolioId);return _e&&_e.ownerId===r&&_e.status==="Active"})).forEach(ye=>{const _e=$e[ye.fundCode||ye.schemeCode];if(_e)for(const[ze,Mt]of Object.entries(_e)){const W=ye.currentValue*(Mt/100);ze==="Equity"?oe.Equity+=W:ze==="Debt"?oe.Debt+=W:ze==="Cash"?oe.Cash+=W:ze==="Commodities"||ze==="Gold"?oe.Gold+=W:ze==="Real Estate"?oe["Real Estate"]+=W:oe.Other+=W}else{const ze=sse(ye.fundName);ze==="Equity"?oe.Equity+=ye.currentValue:ze==="Debt"?oe.Debt+=ye.currentValue:ze==="Cash"?oe.Cash+=ye.currentValue:ze==="Gold"?oe.Gold+=ye.currentValue:ze==="Hybrid"?(oe.Equity+=ye.currentValue*.65,oe.Debt+=ye.currentValue*.35):ze==="Multi-Asset"?(oe.Equity+=ye.currentValue*.5,oe.Debt+=ye.currentValue*.3,oe.Gold+=ye.currentValue*.2):oe.Equity+=ye.currentValue}}),Ce.filter(ye=>ye.key==="stocks").forEach(ye=>{oe.Equity+=ye.total}),Ce.filter(ye=>ye.key!=="mf"&&ye.key!=="stocks").forEach(ye=>{const _e=ase[ye.key]||"Other";_e in oe?oe[_e]+=ye.total:oe.Other+=ye.total});const rt=Object.entries(oe).filter(([,ye])=>ye>0).map(([ye,_e])=>({cls:ye,total:_e,hex:ise[ye]||"#6b7280"})).sort((ye,_e)=>_e.total-ye.total),Nt=z((h||[]).filter(ye=>ye.status==="Active"),"familyMemberId"),zt=Nt.map(ye=>({label:ye.liabilityName||ye.liabilityType||"Loan",value:ye.outstandingBalance})),Ht=Nt.reduce((ye,_e)=>ye+_e.outstandingBalance,0),Xt=Ce.reduce((ye,_e)=>ye+_e.total,0),Zt=Ce.reduce((ye,_e)=>ye+_e.invested,0);return{netWorth:Xt-Ht,totalInv:Xt,totalInvested:Zt,sections:Ce,totalLiab:Ht,liabilities:zt,assetAllocation:rt}},[r,l,c,u,f,m,h,x]);function B(){P(!1),$(!1)}return a.jsxs("header",{className:"sticky top-0 z-30 shrink-0",children:[a.jsx("div",{className:"relative z-10 bg-[var(--bg-header)]/95 backdrop-blur-sm border-b border-[var(--border)]",children:a.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 h-14",children:[a.jsxs(Pl,{to:"/dashboard",className:"flex items-center gap-2",children:[a.jsx("img",{src:Jie,alt:"CF",className:"h-9 sm:h-12 w-auto"}),a.jsxs("span",{className:"hidden sm:flex items-baseline gap-1 text-lg tracking-tight",style:{fontFamily:"'Poppins', sans-serif"},children:[a.jsx("span",{className:"font-bold text-[var(--text-primary)]",children:"Capital"}),a.jsx("span",{className:"font-extrabold text-emerald-400",children:"Friends"})]})]}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[G>0&&a.jsxs("button",{onClick:()=>{q(L==="buyopp"?null:"buyopp"),B()},className:`hidden sm:flex relative p-2 rounded-lg transition-colors ${L==="buyopp"?"text-emerald-300 bg-emerald-500/20":"text-emerald-400 hover:text-emerald-300 hover:bg-emerald-500/10"}`,title:`${G} Buy Opportunit${G===1?"y":"ies"}${je>0?` (${je} Strong)`:""}`,children:[a.jsx(Mp,{size:18}),a.jsx("span",{className:"absolute -top-0.5 -right-0.5 min-w-[16px] h-4 flex items-center justify-center text-[9px] font-bold text-white bg-emerald-500 rounded-full px-1",children:G})]}),we>0&&a.jsxs("button",{onClick:()=>{q(L==="rebalance"?null:"rebalance"),B()},className:`hidden sm:flex relative p-2 rounded-lg transition-colors ${L==="rebalance"?"text-violet-300 bg-violet-500/20":"text-violet-400 hover:text-violet-300 hover:bg-violet-500/10"}`,title:`${we} fund${we===1?"":"s"} need rebalancing`,children:[a.jsx(YC,{size:18}),a.jsx("span",{className:"absolute -top-0.5 -right-0.5 min-w-[16px] h-4 flex items-center justify-center text-[9px] font-bold text-white bg-violet-500 rounded-full px-1",children:we})]}),a.jsx("button",{onClick:y,className:`hidden sm:block p-2 rounded-lg transition-colors ${S?"text-amber-400 bg-amber-500/10":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,title:S?"Data masked  click to reveal":"Mask sensitive data",children:S?a.jsx(kp,{size:18}):a.jsx(Cp,{size:18})}),a.jsx("button",{onClick:t,className:"hidden sm:block p-2 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",title:`Switch to ${e==="dark"?"light":"dark"} mode`,children:e==="dark"?a.jsx(ly,{size:18}):a.jsx(sy,{size:18})}),R>0&&a.jsxs("div",{className:"relative",ref:re,children:[a.jsxs("button",{onClick:()=>{$(!T),P(!1)},className:"relative p-2 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx(C1,{size:18}),a.jsx("span",{className:"absolute -top-0.5 -right-0.5 min-w-[16px] h-4 flex items-center justify-center text-[9px] font-bold text-white bg-rose-500 rounded-full px-1",children:R})]}),T&&a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-xl shadow-black/20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[a.jsx("div",{className:"px-3 py-2 border-b border-[var(--border-light)]",children:a.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:"Notifications"})}),a.jsxs("div",{className:"max-h-[300px] overflow-y-auto py-1",children:[k.map((z,U)=>{const xe={critical:"bg-rose-500",warning:"bg-amber-500",info:"bg-blue-500"}[z.type],Ne={critical:"bg-rose-500/15 text-rose-400",warning:"bg-amber-500/15 text-amber-400",info:"bg-blue-500/15 text-blue-400"}[z.type];return a.jsxs("button",{onClick:()=>{$(!1),C(z.navigateTo)},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${xe}`}),a.jsx("span",{className:"text-xs text-[var(--text-secondary)] flex-1 text-left truncate",children:z.title}),a.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded-full shrink-0 ${Ne}`,children:z.badge})]},`c-${U}`)}),k.length>0&&M.length>0&&a.jsx("div",{className:"mx-3 my-1 border-t border-[var(--border-light)]"}),M.map(z=>{const U=z.days<=7?"bg-rose-500/15 text-rose-400":z.days<=15?"bg-amber-500/15 text-amber-400":"bg-slate-500/15 text-[var(--text-muted)]";return a.jsxs("button",{onClick:()=>{$(!1),C("/reminders")},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[a.jsx("span",{className:"w-2 h-2 rounded-full shrink-0 bg-amber-500"}),a.jsx("span",{className:"text-xs text-[var(--text-secondary)] flex-1 truncate",children:z.title}),a.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded-full shrink-0 ${U}`,children:z.days===0?"Today":z.days<=30?`${z.days}d`:z.dateStr})]},`r-${z.reminderId}`)})]})]})]}),a.jsxs("div",{className:"relative",ref:Q,children:[a.jsxs("button",{onClick:()=>{P(!O),$(!1)},className:"flex items-center gap-1.5 pl-1 pr-2 py-1 rounded-full hover:bg-[var(--bg-hover)] transition-colors",children:[ue?a.jsx("div",{className:`w-8 h-8 rounded-full bg-gradient-to-br ${Hm[F%Hm.length]} flex items-center justify-center text-white text-xs font-bold shadow-sm`,children:ue.memberName.charAt(0)}):a.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-500 flex items-center justify-center text-white shadow-sm",children:a.jsx(Kl,{size:14})}),a.jsx(Gl,{size:14,className:`text-[var(--text-muted)] transition-transform ${O?"rotate-180":""}`})]}),O&&a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-xl shadow-black/20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[a.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)]",children:a.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:"Viewing as"})}),a.jsxs("div",{className:"py-1.5",children:[a.jsxs("button",{onClick:()=>{n("all"),P(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${r==="all"?"bg-violet-500/10":"hover:bg-[var(--bg-hover)]"}`,children:[a.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-violet-500 to-indigo-500 flex items-center justify-center text-white shadow-sm shrink-0",children:a.jsx(Kl,{size:15})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:`text-sm font-semibold truncate ${r==="all"?"text-violet-400":"text-[var(--text-primary)]"}`,children:"Everyone"}),a.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:"All family members"})]}),r==="all"&&a.jsx(ud,{size:16,className:"text-violet-400 shrink-0"})]}),i.length>0&&a.jsx("div",{className:"mx-4 my-1 border-t border-[var(--border-light)]"}),i.map((z,U)=>{const xe=r===z.memberId;return a.jsxs("button",{onClick:()=>{n(z.memberId),P(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${xe?`${NE[U%NE.length]}/10`:"hover:bg-[var(--bg-hover)]"}`,children:[a.jsx("div",{className:`w-9 h-9 rounded-full bg-gradient-to-br ${Hm[U%Hm.length]} flex items-center justify-center text-white text-sm font-bold shadow-sm shrink-0`,children:z.memberName.charAt(0)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold truncate text-[var(--text-primary)]",children:N(z.memberName,"name")}),a.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:z.relationship||"Family member"})]}),xe&&a.jsx(ud,{size:16,className:"text-emerald-400 shrink-0"})]},z.memberId)})]}),a.jsxs("div",{className:"sm:hidden border-t border-[var(--border-light)] py-1.5",children:[a.jsxs("button",{onClick:()=>{y(),P(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[S?a.jsx(kp,{size:16}):a.jsx(Cp,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:S?"Unmask Data":"Mask Data"})]}),a.jsxs("button",{onClick:()=>{t(),P(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[e==="dark"?a.jsx(ly,{size:16}):a.jsx(sy,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:e==="dark"?"Light Mode":"Dark Mode"})]})]}),a.jsxs("div",{className:"border-t border-[var(--border-light)] py-1.5",children:[a.jsxs(Pl,{to:"/settings",onClick:()=>P(!1),className:"w-full flex items-center gap-3 px-4 py-2.5 text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx(CO,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:"Settings"})]}),v&&a.jsx("div",{className:"px-4 py-1.5",children:a.jsx("p",{className:"text-[11px] text-[var(--text-muted)] truncate",children:N(v.email,"email")})}),a.jsxs("button",{onClick:()=>{g(),P(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-left text-rose-400 hover:bg-rose-500/10 transition-colors",children:[a.jsx(jO,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:"Sign out"})]})]})]})]})]})]})}),a.jsx(ute,{}),a.jsx("nav",{className:"hidden lg:block bg-[var(--bg-header)]/90 backdrop-blur-sm border-b border-[var(--border)]",children:a.jsxs("div",{className:"flex items-center px-3 sm:px-4 py-1.5",children:[a.jsx("div",{className:"flex items-center gap-1 overflow-x-auto no-scrollbar flex-1 min-w-0",children:tse.map(z=>{const U=A.pathname.startsWith(z.match);return a.jsx(Pl,{to:z.path,className:`whitespace-nowrap px-3 py-1.5 rounded-lg text-[13px] font-medium transition-colors ${U?"bg-violet-500/15 text-violet-400":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,children:z.label},z.path)})}),a.jsxs("button",{onClick:()=>{Z(!0),B()},className:`shrink-0 ml-3 flex items-center gap-1.5 px-3 py-1.5 rounded-lg transition-colors ${J.netWorth>=0?"bg-emerald-500/10 border border-emerald-500/20 hover:bg-emerald-500/15":"bg-rose-500/10 border border-rose-500/20 hover:bg-rose-500/15"}`,children:[a.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider ${J.netWorth>=0?"text-emerald-400/70":"text-rose-400/70"}`,children:"Net Worth"}),a.jsx("span",{className:`text-sm font-extrabold tabular-nums ${J.netWorth>=0?"text-emerald-400":"text-rose-400"}`,children:K(J.netWorth)}),a.jsx(yn,{size:12,className:J.netWorth>=0?"text-emerald-400/60":"text-rose-400/60"})]})]})}),a.jsxs("div",{className:"lg:hidden bg-[var(--bg-header)]/90 backdrop-blur-sm border-b border-[var(--border)] px-3 py-1.5 flex items-center gap-2 justify-end",children:[G>0&&a.jsxs("button",{onClick:()=>{q(L==="buyopp"?null:"buyopp"),B()},className:"relative p-1.5 rounded-lg text-emerald-400 hover:bg-emerald-500/10 transition-colors",children:[a.jsx(Mp,{size:16}),a.jsx("span",{className:"absolute -top-0.5 -right-0.5 min-w-[14px] h-3.5 flex items-center justify-center text-[8px] font-bold text-white bg-emerald-500 rounded-full px-0.5",children:G})]}),we>0&&a.jsxs("button",{onClick:()=>{q(L==="rebalance"?null:"rebalance"),B()},className:"relative p-1.5 rounded-lg text-violet-400 hover:bg-violet-500/10 transition-colors",children:[a.jsx(YC,{size:16}),a.jsx("span",{className:"absolute -top-0.5 -right-0.5 min-w-[14px] h-3.5 flex items-center justify-center text-[8px] font-bold text-white bg-violet-500 rounded-full px-0.5",children:we})]}),a.jsxs("button",{onClick:()=>{Z(!0),B()},className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg transition-colors ${J.netWorth>=0?"bg-emerald-500/10 border border-emerald-500/20 hover:bg-emerald-500/15":"bg-rose-500/10 border border-rose-500/20 hover:bg-rose-500/15"}`,children:[a.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider ${J.netWorth>=0?"text-emerald-400/70":"text-rose-400/70"}`,children:"Net Worth"}),a.jsx("span",{className:`text-sm font-extrabold tabular-nums ${J.netWorth>=0?"text-emerald-400":"text-rose-400"}`,children:K(J.netWorth)}),a.jsx(yn,{size:12,className:J.netWorth>=0?"text-emerald-400/60":"text-rose-400/60"})]})]}),E&&(()=>{const z=J.sections.map(U=>({name:U.label,value:U.total,fill:wE(U.key),pct:J.totalInv>0?U.total/J.totalInv*100:0,color:U.color,route:U.route}));return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-3",onClick:()=>Z(!1),children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),a.jsxs("div",{className:"relative w-full md:w-auto md:min-w-[720px] md:max-w-4xl max-h-[85vh] overflow-y-auto bg-[var(--bg-card)] rounded-2xl border border-[var(--border)] shadow-2xl shadow-black/40",onClick:U=>U.stopPropagation(),children:[a.jsx("button",{onClick:()=>Z(!1),className:"absolute top-4 right-4 z-20 p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors",children:a.jsx(ai,{size:18,className:"text-[var(--text-secondary)]"})}),J.assetAllocation.length>0&&a.jsxs("div",{className:"px-6 pt-6 pb-3 border-b border-[var(--border-light)]",children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider text-center mb-2",children:"Asset Allocation"}),a.jsx("div",{className:"flex h-3 rounded-full overflow-hidden",children:J.assetAllocation.map(U=>a.jsx("div",{style:{width:`${U.total/J.totalInv*100}%`,backgroundColor:U.hex},title:`${U.cls}: ${(U.total/J.totalInv*100).toFixed(1)}%`},U.cls))}),a.jsx("div",{className:"flex flex-wrap justify-center gap-x-4 gap-y-1 mt-2",children:J.assetAllocation.map(U=>a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:U.hex}}),a.jsxs("span",{className:"text-[10px] text-[var(--text-muted)] tabular-nums",children:[U.cls," ",(U.total/J.totalInv*100).toFixed(0),"%"]})]},U.cls))})]}),a.jsxs("div",{className:"flex flex-col md:flex-row",children:[a.jsxs("div",{className:"flex-shrink-0 md:w-[340px] pt-6 pb-4 md:pb-6 px-6 flex flex-col items-center justify-center md:border-r md:border-[var(--border-light)]",children:[a.jsxs("div",{className:"relative w-[200px] h-[200px] md:w-[260px] md:h-[260px]",children:[a.jsx(U1,{width:"100%",height:"100%",children:a.jsxs(pN,{children:[a.jsx(Sx,{data:z,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:"55%",outerRadius:"85%",paddingAngle:3,stroke:"none",isAnimationActive:!1,activeShape:null,children:z.map((U,xe)=>a.jsx(Hc,{fill:U.fill},xe))}),a.jsx(lN,{content:({active:U,payload:xe})=>{if(!U||!xe?.[0])return null;const Ne=xe[0].payload;return a.jsxs("div",{className:"bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-2.5 py-1.5 shadow-lg text-xs",children:[a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:Ne.name}),a.jsxs("span",{className:"text-[var(--text-muted)] ml-1.5",children:[K(Ne.value)," (",Ne.pct.toFixed(1),"%)"]})]})}})]})}),a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider",children:"Net Worth"}),a.jsx("p",{className:`text-lg md:text-xl font-bold tabular-nums ${J.netWorth>=0?"text-emerald-400":"text-rose-400"}`,children:K(J.netWorth)})]})]}),a.jsxs("div",{className:"w-full max-w-[280px] mt-4 grid grid-cols-2 gap-2",children:[a.jsxs("div",{className:"rounded-lg px-3 py-2.5 text-center",style:{backgroundColor:"rgba(139,92,246,0.08)"},children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider",children:"Investments"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums mt-0.5",children:K(J.totalInv)}),J.totalInvested>0&&a.jsxs("p",{className:"text-[10px] tabular-nums mt-0.5",style:{color:J.totalInv>=J.totalInvested?"#34d399":"#f87171"},children:[J.totalInv>=J.totalInvested?"+":"",K(J.totalInv-J.totalInvested)," P&L"]})]}),J.totalLiab>0?a.jsxs("div",{className:"rounded-lg px-3 py-2.5 text-center",style:{backgroundColor:"rgba(244,63,94,0.08)"},children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider",children:"Liabilities"}),a.jsx("p",{className:"text-sm font-bold text-rose-400 tabular-nums mt-0.5",children:K(J.totalLiab)}),a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)] tabular-nums mt-0.5",children:[J.liabilities.length," ",J.liabilities.length===1?"loan":"loans"]})]}):a.jsxs("div",{className:"rounded-lg px-3 py-2.5 text-center",style:{backgroundColor:"rgba(52,211,153,0.08)"},children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider",children:"Invested"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums mt-0.5",children:K(J.totalInvested)}),J.totalInvested>0&&a.jsxs("p",{className:"text-[10px] tabular-nums mt-0.5",style:{color:J.totalInv>=J.totalInvested?"#34d399":"#f87171"},children:[((J.totalInv-J.totalInvested)/J.totalInvested*100).toFixed(1),"% returns"]})]})]})]}),a.jsxs("div",{className:"flex-1 min-w-0 px-3 md:px-5 pt-4 md:pt-6 pb-5 flex flex-col justify-center",children:[a.jsxs("div",{className:"space-y-2",children:[J.sections.map(U=>{const xe=J.totalInv>0?U.total/J.totalInv*100:0,Ne=wE(U.key);return a.jsxs(Pl,{to:U.route,onClick:()=>Z(!1),className:"flex items-center gap-2.5 py-2.5 px-3 rounded-xl transition-colors group",style:{backgroundColor:`${Ne}12`},children:[a.jsx("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:Ne}}),a.jsx("span",{className:"text-[13px] font-medium text-[var(--text-primary)] flex-1 min-w-0 truncate",children:U.label}),a.jsx("span",{className:"text-[13px] font-bold text-[var(--text-primary)] tabular-nums shrink-0 w-[80px] text-right",children:K(U.total)}),a.jsxs("span",{className:"text-[10px] font-medium tabular-nums shrink-0 w-[40px] text-center py-0.5 rounded-full",style:{backgroundColor:`${Ne}20`,color:Ne},children:[xe.toFixed(0),"%"]})]},U.key)}),J.totalLiab>0&&a.jsxs(Pl,{to:"/liabilities",onClick:()=>Z(!1),className:"flex items-center gap-2.5 py-2.5 px-3 rounded-xl transition-colors group bg-rose-500/[0.07]",children:[a.jsx("span",{className:"w-2 h-2 rounded-full shrink-0 bg-rose-500"}),a.jsxs("span",{className:"text-[13px] font-medium text-[var(--text-primary)] flex-1 min-w-0",children:[J.liabilities.length," ",J.liabilities.length===1?"Loan":"Loans"]}),a.jsxs("span",{className:"text-[13px] font-bold text-rose-400 tabular-nums shrink-0",children:["",K(J.totalLiab)]})]})]}),a.jsxs("div",{className:"mt-4 pt-3 mx-1 border-t border-[var(--border-light)] flex items-center justify-between",children:[a.jsx("span",{className:"text-[10px] uppercase tracking-wider text-[var(--text-dim)]",children:"Net Worth"}),a.jsx("span",{className:`text-base font-bold tabular-nums ${J.netWorth>=0?"text-emerald-400":"text-rose-400"}`,children:K(J.netWorth)})]})]})]}),J.assetAllocation.length>0&&a.jsx("div",{className:"px-6 py-2.5 border-t border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] text-center",children:"Approximate. MF splits are estimated from fund names. Add Morningstar data in Fund Breakdown for accuracy."})})]})]})})(),L&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-16 sm:pt-24 px-3",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>q(null)}),a.jsxs("div",{className:"relative w-full max-w-3xl max-h-[75vh] rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-2xl shadow-black/40 overflow-hidden flex flex-col animate-in fade-in slide-in-from-top-4 duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-[var(--border-light)] shrink-0",children:[a.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:lse[L]}),a.jsx("button",{onClick:()=>q(null),className:"p-1.5 rounded-lg hover:bg-[var(--bg-hover)] text-[var(--text-dim)] transition-colors",children:a.jsx(ai,{size:16})})]}),a.jsxs("div",{className:"overflow-y-auto p-4",children:[L==="buyopp"&&a.jsx(V4,{}),L==="rebalance"&&a.jsx(OI,{})]})]})]})]})}const cse=[{label:"Dashboard",icon:Jz,path:"/dashboard"},{label:"Invest",icon:cp,path:"/investments/mutual-funds"},{label:"Accounts",icon:Rh,path:"/accounts/bank"},{label:"Goals",icon:Od,path:"/goals"},{label:"More",icon:Pz,path:"/more"}];function use(){return a.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-40 bg-[var(--bg-sidebar)] border-t border-[var(--border)] safe-bottom",children:a.jsx("div",{className:"flex items-center justify-around h-[56px]",children:cse.map(({label:e,icon:t,path:r})=>a.jsx(S_,{to:r,className:({isActive:n})=>`relative flex flex-col items-center justify-center gap-0.5 w-full h-full text-xs font-medium transition-colors ${n?"text-[var(--sidebar-active-text)]":"text-[var(--text-dim)]"}`,children:({isActive:n})=>a.jsxs(a.Fragment,{children:[n&&a.jsx("span",{className:"absolute top-0 w-10 h-[2.5px] bg-[var(--sidebar-active-text)] rounded-b-full"}),a.jsx("div",{className:`flex items-center justify-center w-9 h-9 rounded-xl transition-colors ${n?"bg-[var(--sidebar-active-bg)]":""}`,children:a.jsx(t,{size:19,strokeWidth:n?2.2:1.5})}),a.jsx("span",{className:n?"font-semibold":"",children:e})]})},r))})})}const dse="/logo-new.png";function _h(){return a.jsx("div",{className:"flex h-dvh items-center justify-center bg-[var(--bg-base)]",children:a.jsxs("div",{className:"flex flex-col items-center gap-6",children:[a.jsx("img",{src:dse,alt:"Capital Friends",className:"h-16 w-auto animate-pulse"}),a.jsx("div",{className:"w-40 h-1 rounded-full bg-[var(--border)] overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-violet-500 to-cyan-500 animate-loading-bar"})})]})})}const SE="jagadeeshmanne.hdfc@kphdfc";function ON({open:e,onClose:t}){const[r,n]=j.useState(!1);if(!e)return null;function i(){navigator.clipboard.writeText(SE).then(()=>{n(!0),setTimeout(()=>n(!1),2e3)})}return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",onClick:t,children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),a.jsxs("div",{className:"relative w-full max-w-sm mx-4 bg-[var(--bg-card)] rounded-2xl border border-[var(--border)] overflow-hidden",onClick:l=>l.stopPropagation(),children:[a.jsx("button",{onClick:t,className:"absolute top-3 right-3 z-20 p-1.5 rounded-full bg-[var(--bg-inset)] hover:bg-[var(--bg-hover)]",children:a.jsx(ai,{size:16,className:"text-[var(--text-muted)]"})}),a.jsxs("div",{className:"pt-6 pb-5 px-6 text-center",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-pink-500/20 flex items-center justify-center mx-auto mb-3",children:a.jsx(Wl,{size:24,className:"text-pink-400"})}),a.jsx("h3",{className:"text-lg font-bold text-[var(--text-primary)]",children:"Support the Developer"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"Capital Friends is free and always will be. If it helps your family, a small donation means a lot!"}),a.jsx("div",{className:"mt-4 bg-white rounded-xl p-3 inline-block mx-auto",children:a.jsx("img",{src:"/upi-qr-code.png",alt:"UPI QR Code",className:"w-48 h-48 object-contain"})}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-3",children:"Scan with any UPI app"}),a.jsxs("div",{className:"mt-3 flex items-center justify-center gap-2",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border)]",children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-0.5",children:"UPI ID"}),a.jsx("p",{className:"text-sm font-mono font-semibold text-[var(--text-primary)] select-all",children:SE})]}),a.jsx("button",{onClick:i,className:"shrink-0 px-3 py-2.5 rounded-lg text-xs font-semibold bg-pink-500/15 text-pink-400 hover:bg-pink-500/25 transition-colors flex items-center gap-1.5",children:r?a.jsxs(a.Fragment,{children:[a.jsx(ud,{size:14})," Copied"]}):a.jsxs(a.Fragment,{children:[a.jsx(Sz,{size:14})," Copy"]})})]}),a.jsxs("p",{className:"text-[11px] text-[var(--text-dim)] mt-4",children:["Developed with ",""," by ",a.jsx("span",{className:"font-semibold text-[var(--text-muted)]",children:"Jagadeesh Manne"})]})]})]})]})}function fse(){const{loading:e,error:t}=ht(),[r,n]=j.useState(!1),[i,l]=j.useState(()=>{try{return sessionStorage.getItem("cf_donate_dismissed")==="1"}catch{return!1}});function c(){l(!0);try{sessionStorage.setItem("cf_donate_dismissed","1")}catch{}}return e?a.jsx(_h,{}):t?a.jsx("div",{className:"flex h-dvh items-center justify-center bg-[var(--bg-base)]",children:a.jsxs("div",{className:"flex flex-col items-center gap-4 text-center px-6",children:[a.jsx("img",{src:"/logo-new.png",alt:"Capital Friends",className:"h-16 w-auto opacity-50"}),a.jsx("p",{className:"text-rose-400 text-sm font-medium",children:t}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 text-sm font-medium rounded-lg bg-violet-600 hover:bg-violet-500 text-white transition-colors",children:"Retry"})]})}):a.jsxs("div",{className:"flex flex-col h-dvh bg-[var(--bg-base)] overflow-hidden",children:[a.jsx(ose,{}),a.jsxs("main",{className:"flex-1 overflow-y-auto overscroll-contain pb-20 lg:pb-0",children:[a.jsx("div",{className:"px-3 sm:px-4 py-3 sm:py-4 w-full max-w-7xl mx-auto",children:a.jsx(y_,{})}),a.jsx("footer",{className:"border-t border-[var(--border-light)] mt-4",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 flex items-center justify-between gap-3 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("a",{href:"https://capitalfriends.in",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 no-underline shrink-0",children:[a.jsx("img",{src:"/logo-new.png",alt:"Capital Friends",className:"h-5 w-auto"}),a.jsxs("span",{style:{fontFamily:"'Poppins', sans-serif",fontSize:"11px"},children:[a.jsx("span",{className:"font-bold text-[var(--text-primary)]",children:"Capital"}),a.jsx("span",{className:"font-extrabold text-emerald-400",children:"Friends"})]})]}),a.jsx("span",{className:"text-[var(--border)] text-[10px]",children:""}),a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["Made with ",""," by ",a.jsx("span",{className:"font-semibold text-[var(--text-muted)]",children:"Jagadeesh"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("a",{href:"https://github.com/jagadeeshkmanne/capital-friends/issues/new",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg transition-colors no-underline shrink-0",style:{background:"rgba(139,92,246,0.08)",border:"1px solid rgba(139,92,246,0.15)"},children:[a.jsx(dO,{size:12,className:"text-violet-400"}),a.jsx("span",{className:"text-[11px] font-semibold text-violet-400",children:"Report Bug"})]}),a.jsxs("button",{onClick:()=>{n(!0),c()},className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg transition-colors shrink-0",style:{background:"rgba(245,158,11,0.08)",border:"1px solid rgba(245,158,11,0.15)"},children:[a.jsx(Wl,{size:12,className:"text-amber-400"}),a.jsx("span",{className:"text-[11px] font-semibold text-amber-400",children:"Donate"})]})]})]})})]}),a.jsx(use,{}),!i&&a.jsx("div",{className:"fixed bottom-20 lg:bottom-4 left-1/2 -translate-x-1/2 z-40 w-[calc(100%-32px)] max-w-md",children:a.jsxs("div",{className:"relative overflow-hidden rounded-xl border border-amber-500/25 p-3.5 shadow-lg backdrop-blur-sm",style:{background:"var(--bg-card)"},children:[a.jsx("button",{onClick:u=>{u.stopPropagation(),c()},className:"absolute top-2 right-2 p-1 rounded-full hover:bg-[var(--bg-hover)] transition-colors",children:a.jsx(ai,{size:14,className:"text-[var(--text-dim)]"})}),a.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>{n(!0),c()},children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-500/15 flex items-center justify-center shrink-0",children:a.jsx(Wl,{size:20,className:"text-amber-400"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("p",{className:"text-[11px] text-[var(--text-dim)]",children:["Built with ",a.jsx("span",{className:"text-amber-400",children:""})," by Jagadeesh Manne"]}),a.jsx("p",{className:"text-sm font-semibold text-amber-400 mt-0.5",children:"Support the Developer"}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5",children:"If Capital Friends helps you, consider buying me a chai!"})]})]})]})}),a.jsx(ON,{open:r,onClose:()=>n(!1)})]})}function mse(){const{isAuthenticated:e,loading:t}=ao(),{healthCheckCompleted:r,loading:n}=ht(),i=_a();return t&&!e?a.jsx(_h,{phase:"auth"}):!e&&!t?a.jsx(ny,{to:"/",replace:!0}):n?a.jsx(_h,{phase:"data"}):r===!1&&i.pathname!=="/health-check"?a.jsx(ny,{to:"/health-check",replace:!0}):a.jsx(y_,{})}const qb="/logo-new.png";function TI(){const{isAuthenticated:e,loading:t,error:r,signIn:n}=ao(),i=Ks(),[l,c]=j.useState(0),[u,f]=j.useState(!1),m=j.useRef(null),h=j.useCallback(()=>{m.current&&clearInterval(m.current),m.current=setInterval(()=>{f(S=>(S||c(y=>(y+1)%4),S))},5e3)},[]);j.useEffect(()=>(h(),()=>{m.current&&clearInterval(m.current)}),[h]);function x(S){c(S),h()}if(j.useEffect(()=>{e&&i("/dashboard",{replace:!0})},[e,i]),t)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#080d1a]",children:a.jsx("img",{src:qb,alt:"",className:"h-16 w-auto animate-pulse"})});const v=[{id:"ath",label:"ATH Tracking",icon:a.jsx(fc,{size:18}),color:"emerald",tagline:"Spot Buying Opportunities",desc:"See how far each mutual fund is from its All-Time High NAV. When a quality fund dips 10-20% below ATH, it's your signal to invest more  via SIP increase or lumpsum.",mock:a.jsx(hse,{})},{id:"rebalance",label:"Rebalancing",icon:a.jsx(Ap,{size:18}),color:"violet",tagline:"Know Exactly What to Buy or Sell",desc:"Set target allocation for each fund. When your portfolio drifts, Capital Friends tells you exactly how much to adjust  via SIP changes, lumpsum top-ups, or buy/sell actions.",mock:a.jsx(xse,{})},{id:"goals",label:"Goal Linking",icon:a.jsx(Od,{size:18}),color:"cyan",tagline:"Link Portfolios to Goals",desc:"Create goals like retirement, child education, or emergency fund. Link MF portfolios with allocation percentages. Goal progress updates automatically as NAVs change daily.",mock:a.jsx(vse,{})},{id:"dashboard",label:"Family View",icon:a.jsx(Kl,{size:18}),color:"amber",tagline:"Everyone's Wealth, One Dashboard",desc:"Switch between family members in one click. See combined or individual net worth, investments, insurance, loans  everything your family owns, in one place.",mock:a.jsx(pse,{})}],g=v[l];return a.jsxs("div",{className:"min-h-screen bg-[#080d1a] text-slate-200",children:[a.jsx("header",{className:"sticky top-0 z-50 bg-[#0a0f1f]/95 backdrop-blur-sm border-b border-white/[0.06]",children:a.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 h-14",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("img",{src:qb,alt:"CF",className:"h-12 w-auto"}),a.jsxs("span",{className:"flex items-baseline gap-1 text-lg tracking-tight",style:{fontFamily:"'Poppins', sans-serif"},children:[a.jsx("span",{className:"font-bold text-white",children:"Capital"}),a.jsx("span",{className:"font-extrabold text-emerald-400",children:"Friends"})]})]}),a.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-violet-600 to-cyan-600 text-white text-sm font-semibold hover:from-violet-500 hover:to-cyan-500 transition-all cursor-pointer",children:[a.jsx(kE,{s:14})," Sign In"]})]})}),a.jsxs("section",{className:"relative px-5 sm:px-8 lg:px-16 pt-10 sm:pt-14 pb-8 sm:pb-10 overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 left-1/4 w-[600px] h-[400px] bg-violet-600/8 rounded-full blur-[120px] pointer-events-none"}),a.jsx("div",{className:"absolute top-20 right-1/4 w-[400px] h-[300px] bg-cyan-600/6 rounded-full blur-[100px] pointer-events-none"}),a.jsxs("div",{className:"relative text-center",children:[a.jsx("span",{className:"inline-block text-xs font-bold uppercase tracking-[0.2em] text-violet-400 bg-violet-500/10 border border-violet-500/20 rounded-full px-4 py-1.5 mb-5",children:"Always Free  100% Private  Your Google Sheet"}),a.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-extrabold leading-[1.1] tracking-tight text-white",children:["One dashboard for your family's"," ",a.jsx("span",{className:"bg-gradient-to-r from-violet-400 to-cyan-400 bg-clip-text text-transparent",children:"entire wealth"})]}),a.jsxs("p",{className:"mt-5 text-base sm:text-lg text-slate-400 leading-relaxed max-w-2xl mx-auto",children:["Mutual funds, stocks, FDs, gold, insurance, loans  track everything for every family member. Manual entry means ",a.jsx("strong",{className:"text-white",children:"no bank credentials, no privacy risk"}),"."]}),r&&a.jsx("p",{className:"mt-5 text-sm text-rose-400",children:r})]})]}),a.jsxs("section",{className:"bg-gradient-to-b from-[#0d0a1a] to-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-10 sm:py-14",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white inline-flex items-center gap-3 flex-wrap justify-center",children:[a.jsx(Hs,{size:28,className:"text-amber-400 shrink-0"}),a.jsxs("span",{children:["What happens if something happens to ",a.jsx("span",{className:"text-amber-400",children:"you"}),"?"]})]}),a.jsxs("p",{className:"mt-4 text-lg text-slate-400 leading-relaxed",children:["Your family should know about every investment, every policy, every loan. Not someday. ",a.jsx("strong",{className:"text-white",children:"Right now."})]})]}),a.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[a.jsx(CE,{icon:a.jsx(Cp,{size:20}),color:"rose",title:"Without Capital Friends",items:["Scattered investments across 10+ platforms","Family has no idea what you own or owe","Insurance policies lost in email threads","Months of confusion, missed renewals, lost money"],bad:!0}),a.jsx(CE,{icon:a.jsx(ic,{size:20}),color:"emerald",title:"With Capital Friends",items:["One sheet  every investment, policy, and loan","Family receives email reports with full portfolio details","Reminders for SIPs, renewals, EMI payments","Complete clarity, instantly  when it matters most"]})]}),a.jsxs("p",{className:"text-center mt-8 text-base text-slate-500",children:["Built for ",a.jsx("strong",{className:"text-white",children:"you"})," to manage your wealth  and for your ",a.jsx("strong",{className:"text-white",children:"family"})," to access it when they need to."]})]}),a.jsxs("section",{className:"bg-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"How it Works"}),a.jsx("p",{className:"text-base text-slate-500",children:"Set up in 2 minutes  no bank credentials, no downloads"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-4",children:[a.jsx(Um,{num:1,icon:a.jsx(iB,{size:24}),color:"violet",title:"Sign In with Google",desc:"Go to capitalfriends.in and sign in with your Google account. That's all  no registration form, no passwords."}),a.jsx(Um,{num:2,icon:a.jsx(Fz,{size:24}),color:"emerald",title:"App Creates Your Sheet",desc:"The app creates a private Google Sheet in your own Google Drive. This sheet stores all your financial data. Only you can see it  not even the developer."}),a.jsx(Um,{num:3,icon:a.jsx(pO,{size:24}),color:"cyan",title:"Financial Health Check",desc:"Answer 7 simple yes/no questions about your financial health. Get your score and personalized recommendations instantly."}),a.jsx(Um,{num:4,icon:a.jsx(fc,{size:24}),color:"amber",title:"Start Tracking",desc:"Add family members, portfolios, goals, insurance, and loans. The app connects to AMFI for live mutual fund prices automatically."})]}),a.jsxs("p",{className:"text-center mt-10 text-sm text-slate-600",children:["Your sheet is named ",a.jsx("strong",{className:"text-slate-400",children:"Capital Friends - Your Name"})," and lives in your Google Drive. The web app is just a beautiful dashboard to view and manage it."]})]}),a.jsxs("section",{id:"features",className:"bg-[#0b1022] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",onMouseEnter:()=>f(!0),onMouseLeave:()=>{f(!1),h()},children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Features That Set Us Apart"}),a.jsx("p",{className:"text-base text-slate-500",children:"Things you won't find on other portfolio trackers"})]}),a.jsx("div",{className:"flex justify-center gap-2 sm:gap-3 mb-10 flex-wrap",children:v.map((S,y)=>{const N=y===l,C={emerald:"border-emerald-500",violet:"border-violet-500",cyan:"border-cyan-500",amber:"border-amber-500"},A={emerald:"text-emerald-400",violet:"text-violet-400",cyan:"text-cyan-400",amber:"text-amber-400"};return a.jsxs("button",{onClick:()=>x(y),className:`relative flex items-center gap-2 px-5 py-2.5 rounded-full border text-sm font-semibold transition-all cursor-pointer ${N?`${C[S.color]} bg-white/[0.05] ${A[S.color]}`:"border-white/[0.08] text-slate-500 hover:border-white/[0.15] hover:text-slate-300"}`,children:[a.jsx("span",{className:"shrink-0",children:S.icon}),S.label,N&&a.jsx("div",{className:"absolute bottom-0 left-4 right-4 h-0.5 bg-white/[0.06] rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full bg-current",style:{animation:"featureProgress 5s linear",animationPlayState:u?"paused":"running"}})})]},S.id)})}),a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-8 lg:gap-12",children:[a.jsxs("div",{className:"lg:flex-1 min-h-[280px]",children:[a.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:g.tagline}),a.jsx("p",{className:"mt-3 text-base text-slate-400 leading-relaxed",children:g.desc}),g.id==="ath"&&a.jsxs("div",{className:"mt-6 space-y-5",children:[a.jsx(en,{c:"emerald",t:"ATH tracking only for funds in your portfolios"}),a.jsx(en,{c:"emerald",t:"Color-coded signals: watch, consider, buy, strong buy"}),a.jsx(en,{c:"emerald",t:"Increase SIP or invest lumpsum when funds dip"}),a.jsx(en,{c:"emerald",t:"Daily NAV updates from AMFI data"})]}),g.id==="rebalance"&&a.jsxs("div",{className:"mt-6 space-y-5",children:[a.jsx(en,{c:"violet",t:"Adjust monthly SIP to rebalance gradually"}),a.jsx(en,{c:"violet",t:"Lumpsum top-up for quick rebalance"}),a.jsx(en,{c:"violet",t:"Buy/Sell amounts to match target"}),a.jsx(en,{c:"violet",t:"Configurable threshold per portfolio"})]}),g.id==="goals"&&a.jsxs("div",{className:"mt-6 space-y-5",children:[a.jsx(en,{c:"cyan",t:"Link multiple MF portfolios to each goal"}),a.jsx(en,{c:"cyan",t:"Built-in SIP + lumpsum calculator with inflation"}),a.jsx(en,{c:"cyan",t:"Auto-status: On Track, Needs Attention, Achieved"}),a.jsx(en,{c:"cyan",t:"Withdrawal planning for retirement goals"})]}),g.id==="dashboard"&&a.jsxs("div",{className:"mt-6 space-y-5",children:[a.jsx(en,{c:"amber",t:"One-click switch between family members"}),a.jsx(en,{c:"amber",t:"Combined net worth across everyone"}),a.jsx(en,{c:"amber",t:"MF, stocks, FD, gold, PPF, NPS, insurance"}),a.jsx(en,{c:"amber",t:"Email reports sent to family automatically"})]})]}),a.jsx("div",{className:"lg:flex-1 min-w-0 min-h-[380px] flex flex-col justify-center",children:g.mock})]}),a.jsx("style",{children:`
          @keyframes featureProgress {
            from { width: 0% }
            to { width: 100% }
          }
        `})]}),a.jsxs("section",{className:"bg-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Everything You Need"}),a.jsx("p",{className:"text-base text-slate-500",children:"One dashboard for your entire financial life"})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:[a.jsx(Ps,{icon:a.jsx(ac,{size:20}),c:"rose",t:"Stock Portfolios",d:"Buy/sell tracking, average cost, P&L with live NSE prices"}),a.jsx(Ps,{icon:a.jsx(vB,{size:20}),c:"orange",t:"FD, Gold, PPF, NPS",d:"Track any investment type  all counted in net worth"}),a.jsx(Ps,{icon:a.jsx(ic,{size:20}),c:"teal",t:"Insurance Tracker",d:"Life, health, term policies with premiums & renewal dates"}),a.jsx(Ps,{icon:a.jsx(Rh,{size:20}),c:"red",t:"Liabilities",d:"Loans & EMIs. Net worth = total assets minus debts"}),a.jsx(Ps,{icon:a.jsx(C1,{size:20}),c:"yellow",t:"Smart Reminders",d:"SIP dates, renewals, EMI payments, maturity alerts"}),a.jsx(Ps,{icon:a.jsx(Kl,{size:20}),c:"pink",t:"Family Sharing",d:"Invite family with Google accounts  shared dashboard"}),a.jsx(Ps,{icon:a.jsx(Ap,{size:20}),c:"blue",t:"Daily Auto-Refresh",d:"NAVs and stock prices update automatically every day"}),a.jsx(Ps,{icon:a.jsx(J0,{size:20}),c:"emerald",t:"Complete Privacy",d:"No servers, no database, no tracking  your Sheet only"})]})]}),a.jsxs("section",{className:"border-y border-white/[0.06]",children:[a.jsxs("div",{className:"bg-[#0b1022] px-5 sm:px-8 lg:px-16 py-10 sm:py-14 text-center",children:[a.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white inline-flex items-center gap-3",children:[a.jsx(J0,{size:28,className:"text-emerald-400 shrink-0"}),"Your Data Never Leaves Google"]}),a.jsxs("p",{className:"mt-3 text-base sm:text-lg text-slate-400 leading-relaxed",children:["No backend server. No database. No tracking. The web app is a static site. Your spreadsheet lives in ",a.jsx("strong",{className:"text-white",children:"your Google Drive"}),". We literally cannot access your financial data."]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row",children:[a.jsx(Yb,{icon:a.jsx(ic,{size:20}),t:"Manual Entry Only",d:"No bank linking, no credentials shared. You type your data  no one else has access.",bg:"bg-[#0d1326]",c:"emerald"}),a.jsx(Yb,{icon:a.jsx(J0,{size:20}),t:"Your Google Sheet",d:"A private spreadsheet in your Drive. Share only with family you choose.",bg:"bg-[#0f1530]",c:"violet"}),a.jsx(Yb,{icon:a.jsx(Wl,{size:20}),t:"Always Free",d:"No premium tier, no hidden fees, no ads. Free today, free forever.",bg:"bg-[#111838]",c:"amber"})]})]}),a.jsxs("section",{className:"bg-gradient-to-t from-[#080d1a] to-[#0d1128] border-t border-white/[0.06] px-5 sm:px-8 lg:px-16 py-16 text-center",children:[a.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-white",children:"Start managing your family's wealth today"}),a.jsx("p",{className:"mt-3 text-base text-slate-500",children:"Always free. No credit card. No bank linking. Just your Google account."}),a.jsxs("button",{onClick:n,className:"mt-8 inline-flex items-center gap-2.5 px-8 py-3.5 bg-gradient-to-r from-violet-600 to-cyan-600 text-white font-bold text-base rounded-xl hover:from-violet-500 hover:to-cyan-500 shadow-lg shadow-violet-900/30 transition-all hover:scale-[1.02] cursor-pointer",children:[a.jsx(kE,{s:20})," Sign in with Google  It's Free"]}),r&&a.jsx("p",{className:"mt-3 text-sm text-rose-400",children:r})]}),a.jsxs("footer",{className:"border-t border-white/[0.04] px-5 sm:px-8 lg:px-16 py-5 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-1.5 opacity-30",children:[a.jsx("img",{src:qb,alt:"",className:"h-5 w-auto"}),a.jsxs("span",{className:"text-xs font-bold text-white",style:{fontFamily:"'Poppins', sans-serif"},children:["Capital",a.jsx("span",{class:"text-emerald-400",children:"Friends"})]})]}),a.jsx("p",{className:"text-xs text-slate-600",children:"Your data. Your Google Drive. Your control."})]})]})}function CE({icon:e,title:t,items:r,bad:n}){const i=n?"border-rose-500/15":"border-emerald-500/15",l=n?"bg-rose-500/[0.04]":"bg-emerald-500/[0.04]",c=n?"bg-rose-500/10 text-rose-400":"bg-emerald-500/10 text-emerald-400",u=n?"text-rose-400":"text-emerald-400";return a.jsxs("div",{className:`rounded-2xl border ${i} ${l} p-6`,children:[a.jsxs("h3",{className:`text-lg font-bold ${u} mb-4 flex items-center gap-2.5`,children:[a.jsx("span",{className:`flex items-center justify-center w-8 h-8 rounded-lg ${c} shrink-0`,children:e}),t]}),a.jsx("ul",{className:"space-y-3",children:r.map((f,m)=>a.jsxs("li",{className:"flex items-start gap-2.5",children:[n?a.jsx("span",{className:"text-rose-500/60 mt-0.5 shrink-0",children:""}):a.jsx(Tc,{size:16,className:"text-emerald-500 mt-0.5 shrink-0"}),a.jsx("span",{className:"text-sm text-slate-300 leading-relaxed",children:f})]},m))})]})}function pse(){return a.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f]",children:[a.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Dashboard"}),a.jsx("div",{className:"flex gap-1.5",children:["Everyone","Jagadeesh","Priya","Arjun"].map((e,t)=>a.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full font-medium ${t===0?"bg-violet-500/20 text-violet-300":"text-slate-600"}`,children:e},e))})]}),a.jsxs("div",{className:"grid grid-cols-3 divide-x divide-white/[0.04]",children:[a.jsx(Hb,{l:"Net Worth",v:"45.2L",lc:"text-violet-400",vc:"text-white"}),a.jsx(Hb,{l:"Invested",v:"38.7L",lc:"text-slate-500",vc:"text-slate-300"}),a.jsx(Hb,{l:"P&L",v:"+6.5L",lc:"text-slate-500",vc:"text-emerald-400",extra:"+16.8%"})]}),a.jsxs("div",{className:"border-t border-white/[0.04]",children:[a.jsx(Ub,{n:"Axis Bluechip Fund",alloc:"30% / 25%",cur:"6.2L",pl:"+24.0%",ath:"5.2%",athC:"text-[#e67e00]",up:!0}),a.jsx(Ub,{n:"Parag Parikh Flexi Cap",alloc:"35% / 40%",cur:"4.8L",pl:"+37.1%",ath:"At ATH",athC:"text-emerald-500",up:!0}),a.jsx(Ub,{n:"SBI Small Cap Fund",alloc:"20% / 15%",cur:"1.8L",pl:"-10.0%",ath:"18.3%",athC:"text-[#d84315]",last:!0})]})]})}function hse(){const e=[{n:"HDFC Mid-Cap Opportunities",nav:"142.35",ath:"168.50",pct:"15.5%",color:"text-[#d84315]",signal:"Good Buy Signal",sigC:"text-[#d84315] bg-[#d84315]/15"},{n:"Axis Small Cap Fund",nav:"38.22",ath:"52.10",pct:"26.6%",color:"text-[#c62828]",signal:"Strong Buy",sigC:"text-[#c62828] bg-[#c62828]/15 font-bold"},{n:"Kotak Emerging Equity",nav:"89.10",ath:"92.40",pct:"3.6%",color:"text-[#b8860b]",signal:"Watch",sigC:"text-[#b8860b] bg-[#b8860b]/15"},{n:"Mirae Asset Large Cap",nav:"105.80",ath:"106.20",pct:"0.4%",color:"text-slate-500",signal:"Near ATH",sigC:"text-slate-500 bg-white/[0.04]"}];return a.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-semibold text-white",children:"Buy Opportunities"}),a.jsx("span",{className:"text-xs text-emerald-400 font-semibold bg-emerald-500/10 px-2.5 py-1 rounded-full",children:"2 signals"})]}),e.map((t,r)=>a.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${r<e.length-1?"border-b border-white/[0.03]":""}`,children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-slate-300 truncate",children:t.n}),a.jsxs("p",{className:"text-xs text-slate-600 mt-0.5",children:["NAV ","",t.nav,"  ATH ","",t.ath]})]}),a.jsxs("div",{className:"text-right shrink-0 ml-3",children:[a.jsxs("p",{className:`text-base font-bold tabular-nums ${t.color}`,children:[a.jsx(VF,{size:13,className:"inline -mt-0.5"})," ",t.pct]}),a.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded ${t.sigC}`,children:t.signal})]})]},r))]})}function xse(){const[e,t]=j.useState(0),r=["SIP Adjust","Lumpsum","Buy / Sell"],n=["New SIP","Lumpsum Top-up","Action"],l=[[{n:"Axis Bluechip",val:"SIP 6,000",cur:"30%",tgt:"25%",action:"Stop SIP",actionC:"text-amber-400"},{n:"Parag Parikh Flexi",val:"SIP 7,000",cur:"35%",tgt:"40%",action:"12,000/mo",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"SIP 4,000",cur:"20%",tgt:"15%",action:"Stop SIP",actionC:"text-amber-400"},{n:"HDFC Large Cap",val:"SIP 3,000",cur:"15%",tgt:"20%",action:"8,000/mo",actionC:"text-emerald-400"}],[{n:"Axis Bluechip",val:"3,00,000",cur:"30%",tgt:"25%",action:"No action",actionC:"text-slate-600"},{n:"Parag Parikh Flexi",val:"3,50,000",cur:"35%",tgt:"40%",action:"Invest 55,000",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"2,00,000",cur:"20%",tgt:"15%",action:"No action",actionC:"text-slate-600"},{n:"HDFC Large Cap",val:"1,50,000",cur:"15%",tgt:"20%",action:"Invest 45,000",actionC:"text-emerald-400"}],[{n:"Axis Bluechip",val:"3,00,000",cur:"30%",tgt:"25%",action:"Sell 50,000",actionC:"text-rose-400"},{n:"Parag Parikh Flexi",val:"3,50,000",cur:"35%",tgt:"40%",action:"Buy 50,000",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"2,00,000",cur:"20%",tgt:"15%",action:"Sell 50,000",actionC:"text-rose-400"},{n:"HDFC Large Cap",val:"1,50,000",cur:"15%",tgt:"20%",action:"Buy 50,000",actionC:"text-emerald-400"}]][e];return a.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-semibold text-white",children:"Rebalance Portfolio"}),a.jsx("span",{className:"text-xs text-violet-400 font-semibold bg-violet-500/10 px-2.5 py-1 rounded-full",children:"4 off-target"})]}),a.jsx("div",{className:"flex border-b border-white/[0.04]",children:r.map((c,u)=>a.jsx("button",{onClick:()=>t(u),className:`flex-1 text-xs font-semibold py-2.5 text-center cursor-pointer transition-colors ${u===e?"text-violet-400 border-b-2 border-violet-400":"text-slate-600 hover:text-slate-400"}`,children:c},c))}),a.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 border-b border-white/[0.04] bg-[#0a0f1f]/50 flex-wrap",children:[a.jsx("span",{className:"text-xs text-slate-500",children:"Portfolio Value"}),a.jsxs("span",{className:"text-sm text-white font-semibold tabular-nums",children:["","10,00,000"]}),e===0&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-xs text-slate-600",children:"|"}),a.jsx("span",{className:"text-xs text-slate-500",children:"Total SIP"}),a.jsxs("span",{className:"text-sm text-white font-semibold tabular-nums",children:["","20,000"]})]}),e===1&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-xs text-slate-600",children:"|"}),a.jsx("span",{className:"text-xs text-slate-500",children:"Lumpsum"}),a.jsx("input",{type:"text",readOnly:!0,value:"1,00,000",className:"bg-white/[0.04] border border-white/[0.08] rounded-md px-2 py-1 text-sm text-white font-semibold tabular-nums w-24 text-right cursor-default outline-none"})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"grid grid-cols-[1fr_50px_50px_1fr] gap-1 px-4 py-2.5 text-xs text-slate-600 font-semibold border-b border-white/[0.03]",children:[a.jsx("span",{children:"Fund / Value"}),a.jsx("span",{className:"text-center",children:"Current"}),a.jsx("span",{className:"text-center",children:"Target"}),a.jsx("span",{className:"text-right",children:n[e]})]}),l.map((c,u)=>a.jsxs("div",{className:`grid grid-cols-[1fr_50px_50px_1fr] gap-1 px-4 py-2.5 items-center ${u<l.length-1?"border-b border-white/[0.03]":""}`,children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("span",{className:"text-sm text-slate-300 truncate block",children:c.n}),a.jsxs("span",{className:"text-[10px] text-slate-600",children:["",c.val]})]}),a.jsx("span",{className:"text-sm text-center text-slate-400 tabular-nums",children:c.cur}),a.jsx("span",{className:"text-sm text-center text-slate-400 tabular-nums",children:c.tgt}),a.jsx("span",{className:`text-sm text-right font-semibold ${c.actionC}`,children:c.action})]},`${e}-${u}`))]})]})}function vse(){const e=[{n:"Retirement",tgt:"2Cr",cur:"28.5L",pct:14,sip:"45,000",yrs:"18 yrs",status:"On Track",sc:"text-blue-400 bg-blue-500/15",bc:"bg-blue-500"},{n:"Child Education",tgt:"50L",cur:"12.2L",pct:24,sip:"15,000",yrs:"12 yrs",status:"On Track",sc:"text-blue-400 bg-blue-500/15",bc:"bg-blue-500"},{n:"New Car",tgt:"15L",cur:"4.1L",pct:27,sip:"12,000",yrs:"3 yrs",status:"Needs Attention",sc:"text-amber-400 bg-amber-500/15",bc:"bg-amber-500"}];return a.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-semibold text-white",children:"Goals"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-slate-500",children:"2 On Track"}),a.jsx("span",{className:"text-xs text-amber-400",children:"1 Needs Attention"})]})]}),e.map((t,r)=>a.jsxs("div",{className:`px-4 py-3.5 ${r<e.length-1?"border-b border-white/[0.03]":""}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-semibold text-white",children:t.n}),a.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded-full ${t.sc}`,children:t.status})]}),a.jsxs("span",{className:"text-xs text-slate-500",children:["",t.sip,"/mo  ",t.yrs]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex-1 h-2.5 rounded-full bg-white/[0.06] overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${t.bc}`,style:{width:`${t.pct}%`}})}),a.jsxs("span",{className:"text-sm font-semibold text-slate-300 tabular-nums w-10 text-right",children:[t.pct,"%"]})]}),a.jsxs("div",{className:"flex justify-between mt-1.5 text-xs text-slate-600",children:[a.jsxs("span",{children:["",t.cur," of ","",t.tgt]}),a.jsxs("span",{className:"flex items-center gap-1 text-slate-500",children:[a.jsx(yO,{size:10})," 2 portfolios linked"]})]})]},r))]})}function kE({s:e=16}){return a.jsxs("svg",{viewBox:"0 0 24 24",width:e,height:e,className:"shrink-0",children:[a.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 01-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z",fill:"#4285F4"}),a.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),a.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),a.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}function Hb({l:e,v:t,lc:r,vc:n,extra:i}){return a.jsxs("div",{className:"py-3.5 text-center",children:[a.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider ${r}`,children:e}),a.jsxs("p",{className:`text-lg font-bold tabular-nums mt-0.5 ${n}`,children:[t,i&&a.jsx("span",{className:"text-sm ml-1 text-emerald-400",children:i})]})]})}function Ub({n:e,alloc:t,cur:r,pl:n,ath:i,athC:l,up:c,last:u}){return a.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${u?"":"border-b border-white/[0.03]"}`,children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-300",children:e}),a.jsxs("p",{className:"text-xs text-slate-600",children:["Alloc ",t,"  ",a.jsx("span",{className:l,children:i!=="At ATH"?`${i} below ATH`:i})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-200 tabular-nums",children:r}),a.jsx("p",{className:`text-sm font-semibold tabular-nums ${c?"text-emerald-400":"text-rose-400"}`,children:n})]})]})}function en({c:e,t}){const r={violet:"text-violet-400",cyan:"text-cyan-400",amber:"text-amber-400",emerald:"text-emerald-400"};return a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx(Tc,{size:16,className:`${r[e]} shrink-0`}),a.jsx("span",{className:"text-sm text-slate-300",children:t})]})}function Um({num:e,icon:t,color:r,title:n,desc:i}){const l={violet:["text-violet-400","bg-violet-500/10","border-violet-500/20","from-violet-500/20 to-violet-500/5"],emerald:["text-emerald-400","bg-emerald-500/10","border-emerald-500/20","from-emerald-500/20 to-emerald-500/5"],cyan:["text-cyan-400","bg-cyan-500/10","border-cyan-500/20","from-cyan-500/20 to-cyan-500/5"],amber:["text-amber-400","bg-amber-500/10","border-amber-500/20","from-amber-500/20 to-amber-500/5"]},[c,u,f,m]=l[r]||l.violet;return a.jsxs("div",{className:`relative rounded-2xl border ${f} bg-gradient-to-b ${m} p-6 text-center`,children:[a.jsx("span",{className:`inline-flex items-center justify-center w-12 h-12 rounded-xl ${u} ${c} mb-4`,children:t}),a.jsxs("span",{className:`absolute top-4 right-4 text-xs font-bold ${c} opacity-40`,children:["0",e]}),a.jsx("h3",{className:"text-base font-bold text-white mb-2",children:n}),a.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:i})]})}function Yb({icon:e,t,d:r,bg:n,c:i}){const l={emerald:"text-emerald-400",violet:"text-violet-400",amber:"text-amber-400"};return a.jsxs("div",{className:`flex-1 ${n} px-5 sm:px-8 lg:px-10 py-6 sm:py-8 border-b sm:border-b-0 sm:border-r border-white/[0.04] last:border-0`,children:[a.jsxs("p",{className:"text-base font-bold text-white flex items-center gap-2",children:[a.jsx("span",{className:`${l[i]} shrink-0`,children:e}),t]}),a.jsx("p",{className:"text-sm text-slate-500 mt-1.5 leading-relaxed",children:r})]})}const AE={violet:["text-violet-400","bg-violet-500/8","border-violet-500/10"],blue:["text-blue-400","bg-blue-500/8","border-blue-500/10"],emerald:["text-emerald-400","bg-emerald-500/8","border-emerald-500/10"],cyan:["text-cyan-400","bg-cyan-500/8","border-cyan-500/10"],rose:["text-rose-400","bg-rose-500/8","border-rose-500/10"],orange:["text-orange-400","bg-orange-500/8","border-orange-500/10"],teal:["text-teal-400","bg-teal-500/8","border-teal-500/10"],red:["text-red-400","bg-red-500/8","border-red-500/10"],yellow:["text-yellow-400","bg-yellow-500/8","border-yellow-500/10"],pink:["text-pink-400","bg-pink-500/8","border-pink-500/10"]};function Ps({icon:e,c:t,t:r,d:n}){const[i,l,c]=AE[t]||AE.violet;return a.jsxs("div",{className:`rounded-xl border ${c} ${l} p-5`,children:[a.jsxs("p",{className:"text-base font-bold text-white flex items-center gap-2",children:[a.jsx("span",{className:`${i} shrink-0`,children:e}),r]}),a.jsx("p",{className:"text-sm text-slate-500 mt-1.5 leading-relaxed",children:n})]})}function gse(){const{isAuthenticated:e,loading:t}=ao();return t?a.jsx(_h,{}):e?a.jsx(ny,{to:"/dashboard",replace:!0}):a.jsx(TI,{})}function bse(){const e=_a();return a.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-violet-500/15 rounded-2xl flex items-center justify-center mb-4",children:a.jsx(Nz,{size:32,className:"text-violet-400"})}),a.jsx("h3",{className:"text-xl font-semibold text-[var(--text-primary)] mb-2",children:"Coming Soon"}),a.jsx("p",{className:"text-[var(--text-muted)] text-sm max-w-sm",children:"This page is under construction. Navigate using the sidebar to explore available sections."}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-3 font-mono",children:e.pathname})]})}const yse=["Savings Account","Current Account","Fixed Deposit (FD)","Recurring Deposit (RD)","NRE Account","NRO Account","Minor Account"].map(e=>({value:e,label:e}));function jse({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:i}=ht(),l=!!e,[c,u]=j.useState({accountName:e?.accountName||"",memberId:e?.memberId||"",bankName:e?.bankName||"",accountNumber:e?.accountNumber||"",ifscCode:e?.ifscCode||"",branchName:e?.branchName||"",accountType:e?.accountType||"",status:e?.status||"Active"}),[f,m]=j.useState({}),[h,x]=j.useState(!1);function v(N,C){u(A=>({...A,[N]:C})),m(A=>({...A,[N]:void 0}))}function g(){const N={};return c.accountName.trim()||(N.accountName="Required"),c.memberId||(N.memberId="Required"),c.bankName.trim()||(N.bankName="Required"),String(c.accountNumber||"").trim()||(N.accountNumber="Required"),c.ifscCode.trim()||(N.ifscCode="Required"),c.branchName.trim()||(N.branchName="Required"),c.accountType||(N.accountType="Required"),m(N),Object.keys(N).length===0}async function S(){if(g()){x(!0);try{await t({...c,ifscCode:c.ifscCode.toUpperCase()})}finally{x(!1)}}}const y=i.map(N=>({value:N.memberId,label:`${N.memberName} (${N.relationship})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Account Name",required:!0,error:f.accountName,children:a.jsx(Pe,{value:c.accountName,onChange:N=>v("accountName",N),placeholder:"e.g., HDFC Savings"})}),a.jsx(me,{label:"Family Member",required:!0,error:f.memberId,children:a.jsx(tt,{value:c.memberId,onChange:N=>v("memberId",N),options:y,placeholder:"Select member..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Bank Name",required:!0,error:f.bankName,children:a.jsx(Pe,{value:c.bankName,onChange:N=>v("bankName",N),placeholder:"e.g., HDFC Bank"})}),a.jsx(me,{label:"Account Type",required:!0,error:f.accountType,children:a.jsx(tt,{value:c.accountType,onChange:N=>v("accountType",N),options:yse,placeholder:"Select type..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Account Number",required:!0,error:f.accountNumber,children:a.jsx(Pe,{sensitive:!0,value:c.accountNumber,onChange:N=>v("accountNumber",N),placeholder:"e.g., 1234567890"})}),a.jsx(me,{label:"IFSC Code",required:!0,error:f.ifscCode,children:a.jsx(Pe,{value:c.ifscCode,onChange:N=>v("ifscCode",N.toUpperCase()),placeholder:"e.g., HDFC0001234",maxLength:11})})]}),a.jsx(me,{label:"Branch Name",required:!0,error:f.branchName,children:a.jsx(Pe,{value:c.branchName,onChange:N=>v("branchName",N),placeholder:"e.g., Hyderabad - Kondapur"})}),l&&a.jsx(me,{label:"Status",children:a.jsx(tt,{value:c.status,onChange:N=>v("status",N),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[l&&r?a.jsx(is,{onClick:r}):a.jsx("div",{}),a.jsx(un,{onCancel:n,onSubmit:S,submitLabel:l?"Update":"Add Account",loading:h})]})]})}function fi({title:e="Loading"}){return a.jsxs("div",{className:"flex flex-col items-center justify-center py-32 gap-3",children:[a.jsx("span",{className:"w-7 h-7 border-[2.5px] border-violet-400/30 border-t-violet-400 rounded-full animate-spin"}),a.jsxs("span",{className:"text-sm font-semibold text-[var(--text-primary)]",children:[e,"..."]})]})}const ME={"Savings Account":"bg-blue-500/15 text-[var(--accent-blue)]",Savings:"bg-blue-500/15 text-[var(--accent-blue)]",Salary:"bg-emerald-500/15 text-emerald-400","Current Account":"bg-violet-500/15 text-[var(--accent-violet)]","Fixed Deposit":"bg-amber-500/15 text-[var(--accent-amber)]","Fixed Deposit (FD)":"bg-amber-500/15 text-[var(--accent-amber)]"};function DE(){const{selectedMember:e,member:t}=Br(),{banks:r,addBankAccount:n,updateBankAccount:i,deleteBankAccount:l}=ht(),{showToast:c,showBlockUI:u,hideBlockUI:f}=oi(),m=ci(),{mv:h}=Oa(),[x,v]=j.useState(null);if(r===null)return a.jsx(fi,{title:"Loading bank accounts",cards:3});const g=j.useMemo(()=>{const A=r.filter(k=>k.status!=="Inactive");return e==="all"?A:A.filter(k=>k.memberId===e)},[r,e]),S=j.useMemo(()=>new Set(g.map(A=>A.bankName)).size,[g]),y=j.useMemo(()=>g.filter(A=>A.accountType==="Savings"||A.accountType==="Savings Account"||A.accountType==="Salary").length,[g]);async function N(A){u("Saving...");try{x?.edit?await i(x.edit.accountId,A):await n(A),c(x?.edit?"Bank account updated":"Bank account added"),v(null)}catch(k){c(k.message||"Failed to save bank account","error")}finally{f()}}async function C(){if(x?.edit&&await m("Deactivate this bank account?",{title:"Deactivate Account",confirmLabel:"Deactivate"})){u("Deactivating...");try{await l(x.edit.accountId),c("Bank account deactivated"),v(null)}catch(A){c(A.message||"Failed to deactivate bank account","error")}finally{f()}}}return a.jsxs("div",{className:"space-y-4",children:[g.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(Qz,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No bank accounts",t?` for ${t.memberName}`:""]}),a.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first bank account"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[a.jsx(Vb,{label:"Total Accounts",value:g.length}),a.jsx(Vb,{label:"Banks",value:S}),a.jsx(Vb,{label:"Savings / Salary",value:y})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Qr,{size:14})," Add Account"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[580px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Bank"}),!t&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account No."}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Branch"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:g.map(A=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-4",children:a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:A.accountName})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:A.bankName}),!t&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:h(A.memberName,"name")}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${ME[A.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:A.accountType})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:h(A.accountNumber,"account")}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-dim)]",children:A.branchName}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>v({edit:A}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(da,{size:12})})})]},A.accountId))})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:g.map(A=>a.jsxs("div",{onClick:()=>v({edit:A}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:A.accountName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${ME[A.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:A.accountType})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[A.bankName,t?"":`  ${h(A.memberName,"name")}`]}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:h(A.accountNumber,"account")}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:A.branchName})]})]},A.accountId))})]})]}),a.jsx(mr,{open:!!x,onClose:()=>v(null),title:x?.edit?"Edit Bank Account":"Add Bank Account",children:a.jsx(jse,{initial:x?.edit||void 0,onSave:N,onDelete:x?.edit?C:void 0,onCancel:()=>v(null)})})]})}function Vb({label:e,value:t}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:t})]})}const Nse=["Demat + Trading","Mutual Fund","Trading","Direct AMC","Broker"].map(e=>({value:e,label:e}));function wse({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:i,activeBanks:l}=ht(),c=!!e,[u,f]=j.useState({accountName:e?.accountName||"",memberId:e?.memberId||"",bankAccountId:e?.bankAccountId||"",accountType:e?.accountType||"",platformBroker:e?.platformBroker||"",accountClientId:e?.accountClientId||"",dematDpId:e?.dematDpId||"",registeredEmail:e?.registeredEmail||"",registeredPhone:e?.registeredPhone||"",status:e?.status||"Active"}),[m,h]=j.useState({}),[x,v]=j.useState(!1);function g(k,M){f(D=>({...D,[k]:M})),h(D=>({...D,[k]:void 0}))}function S(k){f(M=>({...M,memberId:k,bankAccountId:""})),h(M=>({...M,memberId:void 0}))}function y(){const k={};return u.accountName.trim()||(k.accountName="Required"),u.memberId||(k.memberId="Required"),u.bankAccountId||(k.bankAccountId="Required"),u.accountType||(k.accountType="Required"),u.platformBroker.trim()||(k.platformBroker="Required"),u.registeredEmail.trim()||(k.registeredEmail="Required"),u.registeredPhone.trim()||(k.registeredPhone="Required"),h(k),Object.keys(k).length===0}async function N(){if(y()){v(!0);try{await t(u)}finally{v(!1)}}}const C=i.map(k=>({value:k.memberId,label:`${k.memberName} (${k.relationship})`})),A=j.useMemo(()=>u.memberId?l.filter(k=>k.memberId===u.memberId).map(k=>({value:k.accountId,label:`${k.accountName} - ${k.bankName}`})):[],[l,u.memberId]);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Account Name",required:!0,error:m.accountName,children:a.jsx(Pe,{value:u.accountName,onChange:k=>g("accountName",k),placeholder:"e.g., Zerodha Demat"})}),a.jsx(me,{label:"Family Member",required:!0,error:m.memberId,children:a.jsx(tt,{value:u.memberId,onChange:S,options:C,placeholder:"Select member..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Linked Bank Account",required:!0,error:m.bankAccountId,children:a.jsx(tt,{value:u.bankAccountId,onChange:k=>g("bankAccountId",k),options:A,placeholder:u.memberId?A.length?"Select bank account...":"No bank accounts for this member":"Select member first..."})}),a.jsx(me,{label:"Account Type",required:!0,error:m.accountType,children:a.jsx(tt,{value:u.accountType,onChange:k=>g("accountType",k),options:Nse,placeholder:"Select type..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Platform / Broker",required:!0,error:m.platformBroker,children:a.jsx(Pe,{value:u.platformBroker,onChange:k=>g("platformBroker",k),placeholder:"e.g., Zerodha, Groww"})}),a.jsx(me,{label:"Account / Client ID",error:m.accountClientId,children:a.jsx(Pe,{sensitive:!0,value:u.accountClientId,onChange:k=>g("accountClientId",k),placeholder:"e.g., ZR1234 (optional)"})})]}),a.jsx(me,{label:"Demat DP ID",error:m.dematDpId,children:a.jsx(Pe,{sensitive:!0,value:u.dematDpId,onChange:k=>g("dematDpId",k),placeholder:"16-digit DP ID (optional)",maxLength:16})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Registered Email",required:!0,error:m.registeredEmail,children:a.jsx(Pe,{sensitive:!0,type:"email",value:u.registeredEmail,onChange:k=>g("registeredEmail",k),placeholder:"email@example.com"})}),a.jsx(me,{label:"Registered Phone",required:!0,error:m.registeredPhone,children:a.jsx(Pe,{sensitive:!0,value:u.registeredPhone,onChange:k=>g("registeredPhone",k),placeholder:"9876543210"})})]}),c&&a.jsx(me,{label:"Status",children:a.jsx(tt,{value:u.status,onChange:k=>g("status",k),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[c&&r?a.jsx(is,{onClick:r}):a.jsx("div",{}),a.jsx(un,{onCancel:n,onSubmit:N,submitLabel:c?"Update":"Add Account",loading:x})]})]})}const EE={"Demat + Trading":"bg-violet-500/15 text-[var(--accent-violet)]","Mutual Fund":"bg-blue-500/15 text-[var(--accent-blue)]",Trading:"bg-orange-500/15 text-[var(--accent-orange)]",Demat:"bg-amber-500/15 text-[var(--accent-amber)]","Direct AMC":"bg-emerald-500/15 text-emerald-400",Broker:"bg-rose-500/15 text-[var(--accent-rose)]"};function Sse(){const{selectedMember:e,member:t}=Br(),{investmentAccounts:r,addInvestmentAccount:n,updateInvestmentAccount:i,deleteInvestmentAccount:l}=ht(),{showToast:c,showBlockUI:u,hideBlockUI:f}=oi(),m=ci(),{mv:h}=Oa(),[x,v]=j.useState(null);if(r===null)return a.jsx(fi,{title:"Loading investment accounts",cards:4});const g=j.useMemo(()=>{const k=r.filter(M=>M.status!=="Inactive");return e==="all"?k:k.filter(M=>M.memberId===e)},[r,e]),S=j.useMemo(()=>new Set(g.map(k=>k.platformBroker)).size,[g]),y=g.filter(k=>k.accountType==="Demat + Trading"||k.accountType==="Demat"||k.accountType==="Trading").length,N=g.filter(k=>k.accountType==="Mutual Fund"||k.accountType==="Direct AMC").length;async function C(k){u("Saving...");try{x?.edit?await i(x.edit.accountId,k):await n(k),c(x?.edit?"Investment account updated":"Investment account added"),v(null)}catch(M){c(M.message||"Failed to save investment account","error")}finally{f()}}async function A(){if(x?.edit&&await m("Deactivate this investment account?",{title:"Deactivate Account",confirmLabel:"Deactivate"})){u("Deactivating...");try{await l(x.edit.accountId),c("Investment account deactivated"),v(null)}catch(k){c(k.message||"Failed to deactivate investment account","error")}finally{f()}}}return a.jsxs("div",{className:"space-y-4",children:[g.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(uO,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No investment accounts",t?` for ${t.memberName}`:""]}),a.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first investment account"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(Ym,{label:"Total Accounts",value:g.length}),a.jsx(Ym,{label:"Platforms",value:S}),a.jsx(Ym,{label:"Demat / Trading",value:y}),a.jsx(Ym,{label:"Mutual Fund",value:N})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Qr,{size:14})," Add Account"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[620px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Platform"}),!t&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Client ID"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Bank"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:g.map(k=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-4",children:a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:k.accountName})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:k.platformBroker}),!t&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:h(k.memberName,"name")}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${EE[k.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:k.accountType})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:h(k.accountClientId,"clientId")}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-dim)]",children:k.bankAccountName}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>v({edit:k}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(da,{size:12})})})]},k.accountId))})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:g.map(k=>a.jsxs("div",{onClick:()=>v({edit:k}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:k.accountName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${EE[k.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:k.accountType})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[k.platformBroker,t?"":`  ${h(k.memberName,"name")}`]}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Client: ",h(k.accountClientId,"clientId")]}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:k.bankAccountName})]})]},k.accountId))})]})]}),a.jsx(mr,{open:!!x,onClose:()=>v(null),title:x?.edit?"Edit Investment Account":"Add Investment Account",wide:!0,children:a.jsx(wse,{initial:x?.edit||void 0,onSave:C,onDelete:x?.edit?A:void 0,onCancel:()=>v(null)})})]})}function Ym({label:e,value:t}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:t})]})}const Cse=["Term Life","Health","Motor","Home Insurance","Travel","Personal Accident","Life Insurance","Others"].map(e=>({value:e,label:e})),kse=[{value:"Active",label:"Active"},{value:"Expired",label:"Expired"},{value:"Surrendered",label:"Surrendered"},{value:"Lapsed",label:"Lapsed"},{value:"Inactive",label:"Inactive"}];function Ase({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:i}=ht(),l=!!e,[c,u]=j.useState({policyType:e?.policyType||"",company:e?.company||"",policyNumber:e?.policyNumber||"",policyName:e?.policyName||"",insuredMember:e?.insuredMember||"",memberId:e?.memberId||"",sumAssured:e?.sumAssured||"",nominee:e?.nominee||"",premium:e?.premium||"",premiumFrequency:e?.premiumFrequency||"Annual",status:e?.status||"Active",notes:e?.notes||""}),[f,m]=j.useState({}),[h,x]=j.useState(!1);function v(C,A){u(k=>({...k,[C]:A})),m(k=>({...k,[C]:void 0}))}function g(C){const A=i.find(k=>k.memberId===C);u(k=>({...k,memberId:C,insuredMember:A?.memberName||""})),m(k=>({...k,memberId:void 0}))}function S(){const C={};return c.policyType||(C.policyType="Required"),c.company.trim()||(C.company="Required"),c.policyNumber.trim()||(C.policyNumber="Required"),c.policyName.trim()||(C.policyName="Required"),c.memberId||(C.memberId="Required"),(!c.sumAssured||Number(c.sumAssured)<=0)&&(C.sumAssured="Must be > 0"),m(C),Object.keys(C).length===0}async function y(){if(S()){x(!0);try{await t({...c,sumAssured:Number(c.sumAssured),premium:Number(c.premium)||0})}finally{x(!1)}}}const N=i.map(C=>({value:C.memberId,label:`${C.memberName} (${C.relationship})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Policy Type",required:!0,error:f.policyType,children:a.jsx(tt,{value:c.policyType,onChange:C=>v("policyType",C),options:Cse,placeholder:"Select type..."})}),a.jsx(me,{label:"Insurance Company",required:!0,error:f.company,children:a.jsx(Pe,{value:c.company,onChange:C=>v("company",C),placeholder:"e.g., HDFC Life"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Policy Number",required:!0,error:f.policyNumber,children:a.jsx(Pe,{sensitive:!0,value:c.policyNumber,onChange:C=>v("policyNumber",C),placeholder:"e.g., HL-2024-78901"})}),a.jsx(me,{label:"Policy Name",required:!0,error:f.policyName,children:a.jsx(Pe,{value:c.policyName,onChange:C=>v("policyName",C),placeholder:"e.g., Click 2 Protect Life"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Insured Member",required:!0,error:f.memberId,children:a.jsx(tt,{value:c.memberId,onChange:g,options:N,placeholder:"Select member..."})}),a.jsx(me,{label:"Nominee",children:a.jsx(tt,{value:c.nominee,onChange:C=>v("nominee",C),options:N.map(C=>({...C,label:C.label.split(" (")[0]})),placeholder:"Select nominee (optional)..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(me,{label:"Sum Assured ()",required:!0,error:f.sumAssured,children:a.jsx(Pe,{type:"number",value:c.sumAssured,onChange:C=>v("sumAssured",C),placeholder:"e.g., 10000000"})}),a.jsx(me,{label:"Premium ()",children:a.jsx(Pe,{type:"number",value:c.premium,onChange:C=>v("premium",C),placeholder:"e.g., 12500"})}),a.jsx(me,{label:"Premium Frequency",children:a.jsx(tt,{value:c.premiumFrequency,onChange:C=>v("premiumFrequency",C),options:[{value:"Annual",label:"Annual"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"}]})})]}),l&&a.jsx(me,{label:"Status",children:a.jsx(tt,{value:c.status,onChange:C=>v("status",C),options:kse})}),a.jsx(me,{label:"Notes",children:a.jsx(kc,{value:c.notes,onChange:C=>v("notes",C),placeholder:"Additional information..."})}),a.jsxs("div",{className:"flex items-center justify-between",children:[l&&r?a.jsx(is,{onClick:r}):a.jsx("div",{}),a.jsx(un,{onCancel:n,onSubmit:y,submitLabel:l?"Update":"Add Policy",loading:h})]})]})}const _E={"Term Life":"bg-rose-500/15 text-[var(--accent-rose)]",Health:"bg-emerald-500/15 text-emerald-400",Motor:"bg-blue-500/15 text-[var(--accent-blue)]","Home Insurance":"bg-amber-500/15 text-[var(--accent-amber)]",Travel:"bg-violet-500/15 text-[var(--accent-violet)]","Life Insurance":"bg-rose-500/15 text-[var(--accent-rose)]","Personal Accident":"bg-orange-500/15 text-[var(--accent-orange)]"};function Mse(){const{selectedMember:e,member:t}=Br(),{insurancePolicies:r,addInsurance:n,updateInsurance:i,deleteInsurance:l}=ht(),{showToast:c,showBlockUI:u,hideBlockUI:f}=oi(),m=ci(),{mv:h}=Oa(),[x,v]=j.useState(null);if(r===null)return a.jsx(fi,{title:"Loading insurance",cards:5});const g=j.useMemo(()=>{const M=r.filter(D=>D.status!=="Inactive");return e==="all"?M:M.filter(D=>D.memberId===e)},[r,e]),S=g.reduce((M,D)=>M+(D.sumAssured||0),0),y=g.reduce((M,D)=>M+(D.premium||0),0),N=g.filter(M=>M.policyType==="Term Life"||M.policyType==="Life Insurance").reduce((M,D)=>M+(D.sumAssured||0),0),C=g.filter(M=>M.policyType==="Health").reduce((M,D)=>M+(D.sumAssured||0),0);async function A(M){u("Saving...");try{x?.edit?await i(x.edit.policyId,M):await n(M),c(x?.edit?"Insurance policy updated":"Insurance policy added"),v(null)}catch(D){c(D.message||"Failed to save insurance policy","error")}finally{f()}}async function k(){if(x?.edit&&await m("Deactivate this insurance policy?",{title:"Deactivate Policy",confirmLabel:"Deactivate"})){u("Deactivating...");try{await l(x.edit.policyId),c("Insurance policy deactivated"),v(null)}catch(M){c(M.message||"Failed to deactivate insurance policy","error")}finally{f()}}}return a.jsxs("div",{className:"space-y-4",children:[g.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(ic,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No insurance policies",t?` for ${t.memberName}`:""]}),a.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first policy"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[a.jsx(Zu,{label:"Policies",value:g.length}),a.jsx(Zu,{label:"Total Cover",value:K(S),bold:!0}),a.jsx(Zu,{label:"Life Cover",value:K(N)}),a.jsx(Zu,{label:"Health Cover",value:K(C)}),a.jsx(Zu,{label:"Annual Premium",value:K(y)})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[a.jsx("p",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider mb-3",children:"Coverage Adequacy"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(OE,{label:"Life Insurance",current:N,recommended:"10-15x annual income",tip:"Term life cover should be 10-15x your annual income to protect dependents",icon:"heart"}),a.jsx(OE,{label:"Health Insurance",current:C,recommended:"50L - 1Cr family floater",tip:"Considering medical inflation, a 50L-1Cr family floater is recommended",icon:"shield"})]})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Qr,{size:14})," Add Policy"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Policy"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Company"}),!t&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Insured"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Sum Assured"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Premium"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:g.map(M=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:M.policyName}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:h(M.policyNumber,"policy")})]}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${_E[M.policyType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.policyType})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:M.company}),!t&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:M.insuredMember}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(M.sumAssured)}),a.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:[K(M.premium),"/",M.premiumFrequency==="Annual"?"yr":"mo"]}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>v({edit:M}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(da,{size:12})})})]},M.policyId))})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:g.map(M=>a.jsxs("div",{onClick:()=>v({edit:M}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:M.policyName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${_E[M.policyType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.policyType})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[M.company,t?"":`  ${M.insuredMember}`]}),a.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Cover"}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(M.sumAssured)})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Premium"}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:[K(M.premium),"/",M.premiumFrequency==="Annual"?"yr":"mo"]})]})]})]},M.policyId))})]})]}),a.jsx(mr,{open:!!x,onClose:()=>v(null),title:x?.edit?"Edit Insurance Policy":"Add Insurance Policy",wide:!0,children:a.jsx(Ase,{initial:x?.edit||void 0,onSave:A,onDelete:x?.edit?k:void 0,onCancel:()=>v(null)})})]})}function OE({label:e,current:t,recommended:r,tip:n}){const i=t===0;return a.jsxs("div",{className:`rounded-lg border px-3 py-2.5 ${i?"border-rose-500/30 bg-rose-500/5":"border-[var(--border)] bg-[var(--bg-inset)]"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:e}),i?a.jsx("span",{className:"text-xs font-bold text-[var(--accent-rose)]",children:"Not covered"}):a.jsx("span",{className:"text-xs font-semibold text-emerald-400",children:K(t)})]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Recommended: ",r]}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5 italic",children:n})]})}function Zu({label:e,value:t,bold:r}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:`text-sm tabular-nums ${r?"font-bold":"font-semibold"} text-[var(--text-primary)]`,children:t})]})}const Dse=["Home Loan","Car Loan","Personal Loan","Education Loan","Gold Loan","Credit Card","Business Loan","Loan Against Property","Other"].map(e=>({value:e,label:e})),Ese=[{value:"Active",label:"Active"},{value:"Closed",label:"Closed"},{value:"Inactive",label:"Inactive"}];function _se({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:i,otherInvList:l}=ht(),c=!!e,[u,f]=j.useState({liabilityType:e?.liabilityType||"",lenderName:e?.lenderName||"",familyMemberId:e?.familyMemberId||"",outstandingBalance:e?.outstandingBalance||"",emiAmount:e?.emiAmount||"",interestRate:e?.interestRate||"",linkedInvestmentId:e?.linkedInvestmentId||"",status:e?.status||"Active",notes:e?.notes||""}),[m,h]=j.useState({}),[x,v]=j.useState(!1);function g(k,M){f(D=>({...D,[k]:M})),h(D=>({...D,[k]:void 0}))}function S(){const k={};return u.liabilityType||(k.liabilityType="Required"),u.lenderName.trim()||(k.lenderName="Required"),(!u.outstandingBalance||Number(u.outstandingBalance)<=0)&&(k.outstandingBalance="Must be > 0"),h(k),Object.keys(k).length===0}async function y(){if(S()){v(!0);try{await t({...u,outstandingBalance:Number(u.outstandingBalance),emiAmount:Number(u.emiAmount)||0,interestRate:Number(u.interestRate)||0,linkedInvestmentId:u.linkedInvestmentId||""})}finally{v(!1)}}}const N=i.map(k=>({value:k.memberId,label:`${k.memberName} (${k.relationship})`})),C=(l||[]).filter(k=>k.status!=="Inactive"),A=[{value:"",label:"None"},...C.map(k=>({value:k.investmentId,label:`${k.investmentName} (${k.investmentType}  ${K(k.currentValue)})`}))];return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Liability Type",required:!0,error:m.liabilityType,children:a.jsx(tt,{value:u.liabilityType,onChange:k=>g("liabilityType",k),options:Dse,placeholder:"Select type..."})}),a.jsx(me,{label:"Lender / Bank",required:!0,error:m.lenderName,children:a.jsx(Pe,{value:u.lenderName,onChange:k=>g("lenderName",k),placeholder:"e.g., HDFC Bank"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Family Member",children:a.jsx(tt,{value:u.familyMemberId,onChange:k=>g("familyMemberId",k),options:N,placeholder:"Select member (optional)..."})}),a.jsx(me,{label:"Outstanding Balance ()",required:!0,error:m.outstandingBalance,children:a.jsx(Pe,{type:"number",value:u.outstandingBalance,onChange:k=>g("outstandingBalance",k),placeholder:"e.g., 3500000"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"EMI Amount ()",children:a.jsx(Pe,{type:"number",value:u.emiAmount,onChange:k=>g("emiAmount",k),placeholder:"e.g., 32000"})}),a.jsx(me,{label:"Interest Rate (%)",children:a.jsx(Pe,{type:"number",value:u.interestRate,onChange:k=>g("interestRate",k),placeholder:"e.g., 8.5",step:"0.01"})})]}),a.jsx(me,{label:"Linked Investment",children:a.jsx(tt,{value:u.linkedInvestmentId,onChange:k=>g("linkedInvestmentId",k),options:A,placeholder:"Link to an investment (optional)..."})}),c&&a.jsx(me,{label:"Status",children:a.jsx(tt,{value:u.status,onChange:k=>g("status",k),options:Ese})}),a.jsx(me,{label:"Notes",children:a.jsx(kc,{value:u.notes,onChange:k=>g("notes",k),placeholder:"e.g., Flat in Kondapur"})}),a.jsxs("div",{className:"flex items-center justify-between",children:[c&&r?a.jsx(is,{onClick:r}):a.jsx("div",{}),a.jsx(un,{onCancel:n,onSubmit:y,submitLabel:c?"Update":"Add Liability",loading:x})]})]})}const TE={"Home Loan":"bg-blue-500/15 text-[var(--accent-blue)]","Car Loan":"bg-amber-500/15 text-[var(--accent-amber)]","Gold Loan":"bg-orange-500/15 text-[var(--accent-orange)]","Personal Loan":"bg-violet-500/15 text-[var(--accent-violet)]","Education Loan":"bg-emerald-500/15 text-emerald-400","Credit Card":"bg-rose-500/15 text-[var(--accent-rose)]"};function Ose(){const{selectedMember:e,member:t}=Br(),{liabilityList:r,otherInvList:n,addLiability:i,updateLiability:l,deleteLiability:c}=ht(),{showToast:u,showBlockUI:f,hideBlockUI:m}=oi(),h=ci(),[x,v]=j.useState(null);if(r===null)return a.jsx(fi,{title:"Loading liabilities",cards:4});const g=j.useMemo(()=>{const D=r.filter(O=>O.status!=="Inactive");return e==="all"?D:D.filter(O=>O.familyMemberId===e)},[r,e]),S=g.reduce((D,O)=>D+(O.outstandingBalance||0),0),y=g.reduce((D,O)=>D+(O.emiAmount||0),0),N=g.filter(D=>D.status==="Active").length,C=j.useMemo(()=>{const D={};return n&&n.forEach(O=>{D[O.investmentId]=O}),D},[n]),A=j.useMemo(()=>{const D={};return n&&n.forEach(O=>{O.linkedLiabilityId&&O.linkedLiabilityId.split(",").map(P=>P.trim()).filter(Boolean).forEach(P=>{D[P]=O})}),D},[n]);async function k(D){f("Saving...");try{x?.edit?await l(x.edit.liabilityId,D):await i(D),u(x?.edit?"Liability updated":"Liability added"),v(null)}catch(O){u(O.message||"Failed to save liability","error")}finally{m()}}async function M(){if(x?.edit&&await h("Deactivate this liability?",{title:"Deactivate Liability",confirmLabel:"Deactivate"})){f("Deactivating...");try{await c(x.edit.liabilityId),u("Liability deactivated"),v(null)}catch(D){u(D.message||"Failed to deactivate liability","error")}finally{m()}}}return a.jsxs("div",{className:"space-y-4",children:[g.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(Rh,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No liabilities",t?` for ${t.memberName}`:""]}),a.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add a liability"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(Vm,{label:"Liabilities",value:`${N} active`}),a.jsx(Vm,{label:"Outstanding",value:K(S),color:"rose",bold:!0}),a.jsx(Vm,{label:"Monthly EMI",value:K(y),color:"rose"}),a.jsx(Vm,{label:"Avg. Interest",value:g.length>0?`${(g.reduce((D,O)=>D+(O.interestRate||0),0)/g.length).toFixed(1)}%`:""})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Qr,{size:14})," Add Liability"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[640px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Lender"}),!t&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Outstanding"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"EMI"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Interest"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Remaining"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Asset"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:g.map(D=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${TE[D.liabilityType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:D.liabilityType}),D.notes&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:D.notes})]}),a.jsx("td",{className:"py-2.5 px-3 text-sm font-medium text-[var(--text-primary)]",children:D.lenderName}),!t&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:D.familyMemberName}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:K(D.outstandingBalance)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:D.emiAmount?`${K(D.emiAmount)}/mo`:""}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:D.interestRate?`${D.interestRate}%`:""}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:D.emiAmount>0&&D.outstandingBalance>0?`${Math.ceil(D.outstandingBalance/D.emiAmount)} mo`:""}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:(()=>{const O=D.linkedInvestmentId&&C[D.linkedInvestmentId]||A[D.liabilityId];return O?a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-primary)]",children:O.investmentName}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:O.investmentType})]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})()}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>v({edit:D}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(da,{size:12})})})]},D.liabilityId))})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:g.map(D=>a.jsxs("div",{onClick:()=>v({edit:D}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${TE[D.liabilityType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:D.liabilityType}),a.jsx("p",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:K(D.outstandingBalance)})]}),a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:D.lenderName}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[D.familyMemberName,D.notes?`  ${D.notes}`:""]}),a.jsxs("div",{className:"text-right",children:[D.emiAmount>0&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:["EMI: ",K(D.emiAmount),"/mo"]}),D.emiAmount>0&&D.outstandingBalance>0&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:[Math.ceil(D.outstandingBalance/D.emiAmount)," months left"]})]})]}),(()=>{const O=D.linkedInvestmentId&&C[D.linkedInvestmentId]||A[D.liabilityId];return O?a.jsxs("div",{className:"mt-1.5 flex items-center justify-between bg-blue-500/5 rounded px-2 py-1",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Linked"}),a.jsx("span",{className:"text-xs text-[var(--text-secondary)]",children:O.investmentName})]}):null})()]},D.liabilityId))})]})]}),a.jsx(mr,{open:!!x,onClose:()=>v(null),title:x?.edit?"Edit Liability":"Add Liability",children:a.jsx(_se,{initial:x?.edit||void 0,onSave:k,onDelete:x?.edit?M:void 0,onCancel:()=>v(null)})})]})}function Vm({label:e,value:t,color:r,bold:n}){const i=r==="rose"?"text-[var(--accent-rose)]":"text-[var(--text-primary)]";return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:`text-sm tabular-nums ${n?"font-bold":"font-semibold"} ${i}`,children:t})]})}const Tse="cf_market_data",PI=[{value:"Fixed Deposit",category:"Debt"},{value:"PPF",category:"Debt"},{value:"EPF",category:"Debt"},{value:"NPS",category:"Debt"},{value:"Sovereign Gold Bond",category:"Gold"},{value:"Physical Gold",category:"Gold"},{value:"Digital Gold",category:"Gold"},{value:"Real Estate",category:"Property"},{value:"Bonds",category:"Debt"},{value:"Physical Silver",category:"Silver"},{value:"Digital Silver",category:"Silver"},{value:"Crypto",category:"Alternative"},{value:"Other",category:"Other"}],Gb={"Real Estate":"Home Loan"},Pse=PI.map(e=>({value:e.value,label:e.value})),Ise=["Equity","Debt","Gold","Silver","Property","Alternative","Other"].map(e=>({value:e,label:e})),Rse=[{value:"Active",label:"Active"},{value:"Sold",label:"Sold"},{value:"Matured",label:"Matured"},{value:"Inactive",label:"Inactive"}],PE=[{value:"24K",label:"24K (99.9%)",factor:.999},{value:"22K",label:"22K (91.6%)",factor:.916},{value:"18K",label:"18K (75.0%)",factor:.75}],IE=[{value:"999",label:"999 Fine (99.9%)",factor:.999},{value:"925",label:"925 Sterling (92.5%)",factor:.925}];function jp(e){return["Physical Gold","Digital Gold","Sovereign Gold Bond"].includes(e)}function Lse(e){return["Physical Silver","Digital Silver"].includes(e)||e&&e.toLowerCase().includes("silver")}function Wb(e){return jp(e)||Lse(e)}function Fse(e){try{const t=sessionStorage.getItem(Tse);if(!t)return null;const r=JSON.parse(t);if(!r.metals)return null;const n=e==="gold"?"Gold":"Silver",i=r.metals.find(l=>l.name.toLowerCase().includes(n.toLowerCase()));return i?i.price:null}catch{return null}}function zse({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:i,liabilityList:l}=ht(),c=!!e;function u(R){return PI.find(G=>G.value===R)?.category||"Other"}const f=e?.dynamicFields?typeof e.dynamicFields=="string"?JSON.parse(e.dynamicFields):e.dynamicFields:{},[m,h]=j.useState({investmentType:e?.investmentType||"",investmentCategory:e?.investmentCategory||"",investmentName:e?.investmentName||"",customType:e?.customType||"",familyMemberId:e?.familyMemberId||"",investedAmount:e?.investedAmount||"",currentValue:e?.currentValue||"",linkedLiabilityIds:e?.linkedLiabilityId?e.linkedLiabilityId.split(",").map(R=>R.trim()).filter(Boolean):[],status:e?.status||"Active",notes:e?.notes||""}),[x,v]=j.useState(f.weightGrams||""),[g,S]=j.useState(f.purity||""),[y,N]=j.useState(null),[C,A]=j.useState(!1),[k,M]=j.useState({lenderName:"",outstandingBalance:"",emiAmount:"",interestRate:""});j.useEffect(()=>{if(!Wb(m.investmentType)||!x||Number(x)<=0){N(null);return}const R=jp(m.investmentType)?"gold":"silver",G=Fse(R);if(!G){N(null);return}const je=(R==="gold"?PE:IE).find(F=>F.value===g),we=je?je.factor:1;N(Math.round(Number(x)*G*we))},[m.investmentType,x,g]);const[D,O]=j.useState({}),[P,T]=j.useState(!1);function $(R,G){h(pe=>({...pe,[R]:G})),O(pe=>({...pe,[R]:void 0}))}function L(R){h(G=>({...G,investmentType:R,investmentCategory:u(R)})),O(G=>({...G,investmentType:void 0}))}function q(R,G){M(pe=>({...pe,[R]:G}))}function E(){const R={};return m.investmentType||(R.investmentType="Required"),m.investmentType==="Other"&&!m.customType?.trim()&&(R.customType="Specify the type"),m.investmentName.trim()||(R.investmentName="Required"),(!m.currentValue||Number(m.currentValue)<0)&&(R.currentValue="Required"),C&&(k.lenderName.trim()||(R.qlLender="Required"),(!k.outstandingBalance||Number(k.outstandingBalance)<=0)&&(R.qlOutstanding="Must be > 0")),O(R),Object.keys(R).length===0}async function Z(){if(!E())return;const R={...m,investmentType:m.investmentType==="Other"?m.customType.trim():m.investmentType,familyMember:m.familyMemberId,investedAmount:Number(m.investedAmount)||0,currentValue:Number(m.currentValue)||0,linkedLiabilityId:m.linkedLiabilityIds.join(",")};delete R.linkedLiabilityIds,delete R.customType,Wb(m.investmentType)&&(R.dynamicFields=JSON.stringify({weightGrams:Number(x)||0,purity:g||""})),C&&k.lenderName&&(R.quickLoan={liabilityType:Gb[m.investmentType]||"Personal Loan",lender:k.lenderName,outstanding:Number(k.outstandingBalance)||0,emiAmount:Number(k.emiAmount)||0,interestRate:Number(k.interestRate)||0}),T(!0);try{await t(R)}finally{T(!1)}}const Q=(l||[]).filter(R=>R.status!=="Inactive"),re=(i||[]).map(R=>({value:R.memberId,label:`${R.memberName} (${R.relationship})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Investment Type",required:!0,error:D.investmentType,children:a.jsx(tt,{value:m.investmentType,onChange:L,options:Pse,placeholder:"Select type..."})}),a.jsx(me,{label:"Category",children:a.jsx(tt,{value:m.investmentCategory,onChange:R=>$("investmentCategory",R),options:Ise,placeholder:"Auto-selected..."})})]}),m.investmentType==="Other"&&a.jsx(me,{label:"Custom Type",required:!0,error:D.customType,children:a.jsx(Pe,{value:m.customType||"",onChange:R=>$("customType",R),placeholder:"e.g., Art, Collectibles, ULIP..."})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Investment Name",required:!0,error:D.investmentName,children:a.jsx(Pe,{value:m.investmentName,onChange:R=>$("investmentName",R),placeholder:"e.g., HDFC FD - 7.5%"})}),a.jsx(me,{label:"Family Member",children:a.jsx(tt,{value:m.familyMemberId,onChange:R=>$("familyMemberId",R),options:re,placeholder:"Select member (optional)..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Invested Amount",children:a.jsx(Pe,{type:"number",value:m.investedAmount,onChange:R=>$("investedAmount",R),placeholder:"e.g., 500000"})}),a.jsx(me,{label:"Current Value",required:!0,error:D.currentValue,children:a.jsx(Pe,{type:"number",value:m.currentValue,onChange:R=>$("currentValue",R),placeholder:"e.g., 537500"})})]}),Wb(m.investmentType)&&a.jsxs("div",{className:"p-3 bg-[var(--bg-inset)] rounded-lg space-y-3",children:[a.jsxs("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider",children:[jp(m.investmentType)?"Gold":"Silver"," Details"]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(me,{label:"Weight (grams)",children:a.jsx(Pe,{type:"number",value:x,onChange:v,placeholder:"e.g., 50"})}),a.jsx(me,{label:"Purity",children:a.jsx(tt,{value:g,onChange:S,options:(jp(m.investmentType)?PE:IE).map(R=>({value:R.value,label:R.label})),placeholder:"Select purity..."})})]}),y!==null&&a.jsxs("div",{className:"flex items-center justify-between bg-[var(--bg-card)] rounded-lg px-3 py-2 border border-[var(--border)]",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Estimated market value"}),a.jsx("p",{className:"text-sm font-bold text-emerald-400 tabular-nums",children:K(y)})]}),a.jsx("button",{type:"button",onClick:()=>$("currentValue",String(y)),className:"text-xs font-semibold text-violet-400 hover:text-violet-300 px-3 py-1.5 rounded-lg bg-violet-500/10 border border-violet-500/20 transition-colors",children:"Use this value"})]})]}),Gb[m.investmentType]&&a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-4",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider mb-2",children:"Linked Loans"}),m.linkedLiabilityIds.length>0&&a.jsx("div",{className:"space-y-1.5 mb-3",children:m.linkedLiabilityIds.map(R=>{const G=Q.find(pe=>pe.liabilityId===R);return G?a.jsxs("div",{className:"flex items-center justify-between bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border)]",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:[G.liabilityType,"  ",G.lenderName]}),a.jsx("p",{className:"text-xs text-[var(--accent-rose)] tabular-nums",children:K(G.outstandingBalance)})]}),a.jsx("button",{type:"button",onClick:()=>$("linkedLiabilityIds",m.linkedLiabilityIds.filter(pe=>pe!==R)),className:"text-xs text-[var(--text-dim)] hover:text-[var(--accent-rose)] transition-colors px-2 py-1",children:"Remove"})]},R):null})}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("div",{className:"flex-1",children:a.jsx(tt,{value:"",onChange:R=>{R&&!m.linkedLiabilityIds.includes(R)&&($("linkedLiabilityIds",[...m.linkedLiabilityIds,R]),A(!1))},options:[{value:"",label:"Link an existing loan..."},...Q.filter(R=>!m.linkedLiabilityIds.includes(R.liabilityId)).map(R=>({value:R.liabilityId,label:`${R.liabilityType}  ${R.lenderName} (${K(R.outstandingBalance)})`}))]})})}),!c&&a.jsx("div",{className:"mt-2",children:a.jsx("button",{type:"button",onClick:()=>A(!C),className:"text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:C?" Cancel quick loan":`+ Create new loan (${Gb[m.investmentType]})`})}),C&&a.jsxs("div",{className:"mt-3 p-3 bg-[var(--bg-inset)] rounded-lg space-y-3",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider",children:"Quick Loan"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(me,{label:"Lender",required:!0,error:D.qlLender,children:a.jsx(Pe,{value:k.lenderName,onChange:R=>q("lenderName",R),placeholder:"e.g., HDFC Bank"})}),a.jsx(me,{label:"Outstanding Balance",required:!0,error:D.qlOutstanding,children:a.jsx(Pe,{type:"number",value:k.outstandingBalance,onChange:R=>q("outstandingBalance",R),placeholder:"e.g., 3500000"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(me,{label:"EMI (monthly)",children:a.jsx(Pe,{type:"number",value:k.emiAmount,onChange:R=>q("emiAmount",R),placeholder:"e.g., 32000"})}),a.jsx(me,{label:"Interest Rate %",children:a.jsx(Pe,{type:"number",value:k.interestRate,onChange:R=>q("interestRate",R),placeholder:"e.g., 8.5"})})]})]})]}),c&&a.jsx(me,{label:"Status",children:a.jsx(tt,{value:m.status,onChange:R=>$("status",R),options:Rse})}),a.jsx(me,{label:"Notes",children:a.jsx(kc,{value:m.notes,onChange:R=>$("notes",R),placeholder:"Additional information..."})}),a.jsxs("div",{className:"flex items-center justify-between",children:[c&&r?a.jsx(is,{onClick:r}):a.jsx("div",{}),a.jsx(un,{onCancel:n,onSubmit:Z,submitLabel:c?"Update":"Add Investment",loading:P})]})]})}const RE={Debt:"bg-blue-500/15 text-[var(--accent-blue)]",Gold:"bg-amber-500/15 text-[var(--accent-amber)]",Property:"bg-orange-500/15 text-[var(--accent-orange)]",Equity:"bg-emerald-500/15 text-emerald-400",Alternative:"bg-violet-500/15 text-[var(--accent-violet)]"};function Bse(){const{selectedMember:e,member:t}=Br(),{otherInvList:r,liabilityList:n,addOtherInvestment:i,updateOtherInvestment:l,deleteOtherInvestment:c}=ht(),{showToast:u,showBlockUI:f,hideBlockUI:m}=oi(),h=ci(),[x,v]=j.useState(null);if(r===null)return a.jsx(fi,{title:"Loading investments",cards:5});const g=j.useMemo(()=>{const M=r.filter(D=>D.status!=="Inactive");return e==="all"?M:M.filter(D=>D.familyMemberId===e)},[r,e]),S=g.reduce((M,D)=>M+(D.investedAmount||0),0),y=g.reduce((M,D)=>M+(D.currentValue||0),0),N=j.useMemo(()=>{const M={};return n.forEach(D=>{M[D.liabilityId]=D}),M},[n]),C=g.reduce((M,D)=>{if(!D.linkedLiabilityId)return M;const O=D.linkedLiabilityId.split(",").map(P=>P.trim()).filter(Boolean);return M+O.reduce((P,T)=>P+(N[T]?.outstandingBalance||0),0)},0);async function A(M){f("Saving...");try{x?.edit?await l(x.edit.investmentId,M):await i(M),u(x?.edit?"Investment updated":"Investment added"),v(null)}catch(D){u(D.message||"Failed to save investment","error")}finally{m()}}async function k(){if(x?.edit&&await h("Deactivate this investment?",{title:"Deactivate Investment",confirmLabel:"Deactivate"})){f("Deactivating...");try{await c(x.edit.investmentId),u("Investment deactivated"),v(null)}catch(M){u(M.message||"Failed to deactivate investment","error")}finally{m()}}}return a.jsxs("div",{className:"space-y-4",children:[g.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(NO,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No other investments",t?` for ${t.memberName}`:""]}),a.jsx("button",{onClick:()=>v("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add an investment"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(Gm,{label:"Invested",value:K(S)}),a.jsx(Gm,{label:"Current Value",value:K(y),bold:!0}),C>0&&a.jsx(Gm,{label:"Linked Loans",value:K(C),color:"rose"}),a.jsx(Gm,{label:"Holdings",value:g.length})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>v("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Qr,{size:14})," Add Investment"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[720px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Investment"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Category"}),!t&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Invested"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Loan"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:g.map(M=>{const D=(M.currentValue||0)-(M.investedAmount||0),O=D>=0;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:M.investmentName}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:M.investmentType})]}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${RE[M.investmentCategory]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.investmentCategory})}),!t&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:M.familyMemberName}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:K(M.investedAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(M.currentValue)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:M.investedAmount>0?a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${O?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[O?"+":"",K(D)]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:(()=>{const T=(M.linkedLiabilityId?M.linkedLiabilityId.split(",").map($=>$.trim()).filter(Boolean):[]).map($=>N[$]).filter(Boolean);return T.length===0?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):a.jsx("div",{className:"space-y-0.5",children:T.map($=>a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:K($.outstandingBalance)}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:$.liabilityType})]},$.liabilityId))})})()}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>v({edit:M}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(da,{size:12})})})]},M.investmentId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:g.map(M=>{const D=(M.currentValue||0)-(M.investedAmount||0),O=D>=0;return a.jsxs("div",{onClick:()=>v({edit:M}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:M.investmentName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${RE[M.investmentCategory]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.investmentCategory})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[M.familyMemberName,"  ",M.investmentType]}),a.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Invested"}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:K(M.investedAmount)})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Current"}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(M.currentValue)})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"P&L"}),M.investedAmount>0?a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${O?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[O?"+":"",K(D)]}):a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:""})]})]}),(()=>{const T=(M.linkedLiabilityId?M.linkedLiabilityId.split(",").map($=>$.trim()).filter(Boolean):[]).map($=>N[$]).filter(Boolean);return T.length===0?null:T.map($=>a.jsxs("div",{className:"mt-1.5 flex items-center justify-between bg-rose-500/5 rounded px-2 py-1",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:$.liabilityType}),a.jsx("span",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:K($.outstandingBalance)})]},$.liabilityId))})()]},M.investmentId)})})]})]}),a.jsx(mr,{open:!!x,onClose:()=>v(null),title:x?.edit?"Edit Investment":"Add Investment",wide:!0,children:a.jsx(zse,{initial:x?.edit||void 0,onSave:A,onDelete:x?.edit?k:void 0,onCancel:()=>v(null)})})]})}function Gm({label:e,value:t,sub:r,positive:n,bold:i,color:l}){const c=l==="rose"?"text-[var(--accent-rose)]":n===void 0?"text-[var(--text-primary)]":n?"text-emerald-400":"text-[var(--accent-rose)]";return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:`text-sm tabular-nums ${i?"font-bold":"font-semibold"} ${c}`,children:t}),r&&a.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${n?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}function $se({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:i,activeInvestmentAccounts:l}=ht(),c=!!e,[u,f]=j.useState({portfolioName:(e?.portfolioName||"").replace(/^PFL-/,""),investmentAccountId:e?.investmentAccountId||"",ownerId:e?.ownerId||"",initialInvestment:e?.initialInvestment||0,sipTarget:e?.sipTarget||"",lumpsumTarget:e?.lumpsumTarget||"",rebalanceThreshold:e?e.rebalanceThreshold*100:5}),[m,h]=j.useState({}),[x,v]=j.useState(!1),[g,S]=j.useState(!1);function y(D,O){f(P=>({...P,[D]:O})),h(P=>({...P,[D]:void 0}))}function N(D){f(O=>({...O,ownerId:D,investmentAccountId:""})),h(O=>({...O,ownerId:void 0}))}const C=l.filter(D=>u.ownerId?D.memberId===u.ownerId:!0).map(D=>({value:D.accountId,label:`${D.accountName} - ${D.platformBroker}`})),A=i.map(D=>({value:D.memberId,label:`${D.memberName} (${D.relationship})`}));function k(){const D={};return u.portfolioName.trim()||(D.portfolioName="Required"),u.ownerId||(D.ownerId="Required"),u.investmentAccountId||(D.investmentAccountId="Required"),h(D),Object.keys(D).length===0}async function M(){if(k()){v(!0);try{const D=l.find(P=>P.accountId===u.investmentAccountId),O=D?`${D.accountName} - ${D.platformBroker}`:u.investmentAccountId;await t({...u,investmentAccount:O,initialInvestment:Number(u.initialInvestment)||0,sipTarget:Number(u.sipTarget)||0,lumpsumTarget:Number(u.lumpsumTarget)||0,rebalanceThreshold:Number(u.rebalanceThreshold)})}finally{v(!1)}}}return a.jsxs("div",{className:"space-y-5",children:[a.jsx(me,{label:"Portfolio Name",required:!0,error:m.portfolioName,children:a.jsx(Pe,{value:u.portfolioName,onChange:D=>y("portfolioName",D),placeholder:"e.g., Long Term Wealth"})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Owner",required:!0,error:m.ownerId,children:a.jsx(tt,{value:u.ownerId,onChange:N,options:A,placeholder:"Select member..."})}),a.jsx(me,{label:"Investment Account",required:!0,error:m.investmentAccountId,children:a.jsx(tt,{value:u.investmentAccountId,onChange:D=>y("investmentAccountId",D),options:C,placeholder:u.ownerId?C.length?"Select account...":"No MF accounts":"Select owner first..."})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(me,{label:"SIP Target (/month)",children:a.jsx(Pe,{type:"number",value:u.sipTarget,onChange:D=>y("sipTarget",D),placeholder:"e.g., 50000"})}),a.jsx(me,{label:"Lumpsum Target ()",children:a.jsx(Pe,{type:"number",value:u.lumpsumTarget,onChange:D=>y("lumpsumTarget",D),placeholder:"e.g., 200000"})})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-xs font-semibold text-[var(--text-muted)] whitespace-nowrap",children:"Rebalance Threshold"}),a.jsx("div",{className:"w-20 shrink-0",children:a.jsx("input",{type:"number",value:u.rebalanceThreshold,onChange:D=>y("rebalanceThreshold",D.target.value),placeholder:"5",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})}),a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"%"})]}),!c&&a.jsx(me,{label:"Initial Investment ()",children:a.jsx(Pe,{type:"number",value:u.initialInvestment,onChange:D=>y("initialInvestment",D),placeholder:"0 if unknown"})}),c&&r&&g&&a.jsxs("div",{className:"flex items-center gap-3 px-3 py-2.5 bg-rose-500/10 border border-rose-500/20 rounded-lg",children:[a.jsx(Hs,{size:15,className:"text-rose-400 shrink-0"}),a.jsx("p",{className:"text-xs text-rose-300/90 flex-1",children:"This will deactivate the portfolio and hide it from views. Are you sure?"}),a.jsxs("div",{className:"flex gap-2 shrink-0",children:[a.jsx("button",{onClick:()=>S(!1),className:"px-2.5 py-1 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded transition-colors",children:"No"}),a.jsx("button",{onClick:r,className:"px-2.5 py-1 text-xs font-semibold text-white bg-rose-600 hover:bg-rose-500 rounded transition-colors",children:"Yes, Deactivate"})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 mt-4 border-t border-[var(--border-light)]",children:[c&&r?a.jsxs("button",{onClick:()=>S(!0),disabled:x,className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-amber-400 border border-amber-500/30 hover:bg-amber-500/15 hover:border-amber-500/50 rounded-lg transition-colors disabled:opacity-40",children:[a.jsx(Hs,{size:13}),"Deactivate"]}):a.jsx("div",{}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:n,disabled:x,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),a.jsxs("button",{onClick:M,disabled:x,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 flex items-center gap-1.5",children:[x&&a.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),x?"Saving...":c?"Update":"Create Portfolio"]})]})]})]})}function Ji(e){return Array.isArray?Array.isArray(e):LI(e)==="[object Array]"}function qse(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Hse(e){return e==null?"":qse(e)}function ei(e){return typeof e=="string"}function II(e){return typeof e=="number"}function Use(e){return e===!0||e===!1||Yse(e)&&LI(e)=="[object Boolean]"}function RI(e){return typeof e=="object"}function Yse(e){return RI(e)&&e!==null}function Ln(e){return e!=null}function Kb(e){return!e.trim().length}function LI(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const Vse="Incorrect 'index' type",Gse=e=>`Invalid value for key ${e}`,Wse=e=>`Pattern length exceeds max of ${e}.`,Kse=e=>`Missing ${e} property in key`,Qse=e=>`Property 'weight' in key '${e}' must be a positive integer`,LE=Object.prototype.hasOwnProperty;class Xse{constructor(t){this._keys=[],this._keyMap={};let r=0;t.forEach(n=>{let i=FI(n);this._keys.push(i),this._keyMap[i.id]=i,r+=i.weight}),this._keys.forEach(n=>{n.weight/=r})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function FI(e){let t=null,r=null,n=null,i=1,l=null;if(ei(e)||Ji(e))n=e,t=FE(e),r=s1(e);else{if(!LE.call(e,"name"))throw new Error(Kse("name"));const c=e.name;if(n=c,LE.call(e,"weight")&&(i=e.weight,i<=0))throw new Error(Qse(c));t=FE(c),r=s1(c),l=e.getFn}return{path:t,id:r,weight:i,src:n,getFn:l}}function FE(e){return Ji(e)?e:e.split(".")}function s1(e){return Ji(e)?e.join("."):e}function Zse(e,t){let r=[],n=!1;const i=(l,c,u)=>{if(Ln(l))if(!c[u])r.push(l);else{let f=c[u];const m=l[f];if(!Ln(m))return;if(u===c.length-1&&(ei(m)||II(m)||Use(m)))r.push(Hse(m));else if(Ji(m)){n=!0;for(let h=0,x=m.length;h<x;h+=1)i(m[h],c,u+1)}else c.length&&i(m,c,u+1)}};return i(e,ei(t)?t.split("."):t,0),n?r:r[0]}const Jse={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},ele={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},tle={location:0,threshold:.6,distance:100},rle={useExtendedSearch:!1,getFn:Zse,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var et={...ele,...Jse,...tle,...rle};const nle=/[^ ]+/g;function ale(e=1,t=3){const r=new Map,n=Math.pow(10,t);return{get(i){const l=i.match(nle).length;if(r.has(l))return r.get(l);const c=1/Math.pow(l,.5*e),u=parseFloat(Math.round(c*n)/n);return r.set(l,u),u},clear(){r.clear()}}}class TN{constructor({getFn:t=et.getFn,fieldNormWeight:r=et.fieldNormWeight}={}){this.norm=ale(r,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((r,n)=>{this._keysMap[r.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,ei(this.docs[0])?this.docs.forEach((t,r)=>{this._addString(t,r)}):this.docs.forEach((t,r)=>{this._addObject(t,r)}),this.norm.clear())}add(t){const r=this.size();ei(t)?this._addString(t,r):this._addObject(t,r)}removeAt(t){this.records.splice(t,1);for(let r=t,n=this.size();r<n;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(t,r){return t[this._keysMap[r]]}size(){return this.records.length}_addString(t,r){if(!Ln(t)||Kb(t))return;let n={v:t,i:r,n:this.norm.get(t)};this.records.push(n)}_addObject(t,r){let n={i:r,$:{}};this.keys.forEach((i,l)=>{let c=i.getFn?i.getFn(t):this.getFn(t,i.path);if(Ln(c)){if(Ji(c)){let u=[];const f=[{nestedArrIndex:-1,value:c}];for(;f.length;){const{nestedArrIndex:m,value:h}=f.pop();if(Ln(h))if(ei(h)&&!Kb(h)){let x={v:h,i:m,n:this.norm.get(h)};u.push(x)}else Ji(h)&&h.forEach((x,v)=>{f.push({nestedArrIndex:v,value:x})})}n.$[l]=u}else if(ei(c)&&!Kb(c)){let u={v:c,n:this.norm.get(c)};n.$[l]=u}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function zI(e,t,{getFn:r=et.getFn,fieldNormWeight:n=et.fieldNormWeight}={}){const i=new TN({getFn:r,fieldNormWeight:n});return i.setKeys(e.map(FI)),i.setSources(t),i.create(),i}function ile(e,{getFn:t=et.getFn,fieldNormWeight:r=et.fieldNormWeight}={}){const{keys:n,records:i}=e,l=new TN({getFn:t,fieldNormWeight:r});return l.setKeys(n),l.setIndexRecords(i),l}function Wm(e,{errors:t=0,currentLocation:r=0,expectedLocation:n=0,distance:i=et.distance,ignoreLocation:l=et.ignoreLocation}={}){const c=t/e.length;if(l)return c;const u=Math.abs(n-r);return i?c+u/i:u?1:c}function sle(e=[],t=et.minMatchCharLength){let r=[],n=-1,i=-1,l=0;for(let c=e.length;l<c;l+=1){let u=e[l];u&&n===-1?n=l:!u&&n!==-1&&(i=l-1,i-n+1>=t&&r.push([n,i]),n=-1)}return e[l-1]&&l-n>=t&&r.push([n,l-1]),r}const Il=32;function lle(e,t,r,{location:n=et.location,distance:i=et.distance,threshold:l=et.threshold,findAllMatches:c=et.findAllMatches,minMatchCharLength:u=et.minMatchCharLength,includeMatches:f=et.includeMatches,ignoreLocation:m=et.ignoreLocation}={}){if(t.length>Il)throw new Error(Wse(Il));const h=t.length,x=e.length,v=Math.max(0,Math.min(n,x));let g=l,S=v;const y=u>1||f,N=y?Array(x):[];let C;for(;(C=e.indexOf(t,S))>-1;){let P=Wm(t,{currentLocation:C,expectedLocation:v,distance:i,ignoreLocation:m});if(g=Math.min(P,g),S=C+h,y){let T=0;for(;T<h;)N[C+T]=1,T+=1}}S=-1;let A=[],k=1,M=h+x;const D=1<<h-1;for(let P=0;P<h;P+=1){let T=0,$=M;for(;T<$;)Wm(t,{errors:P,currentLocation:v+$,expectedLocation:v,distance:i,ignoreLocation:m})<=g?T=$:M=$,$=Math.floor((M-T)/2+T);M=$;let L=Math.max(1,v-$+1),q=c?x:Math.min(v+$,x)+h,E=Array(q+2);E[q+1]=(1<<P)-1;for(let Q=q;Q>=L;Q-=1){let re=Q-1,R=r[e.charAt(re)];if(y&&(N[re]=+!!R),E[Q]=(E[Q+1]<<1|1)&R,P&&(E[Q]|=(A[Q+1]|A[Q])<<1|1|A[Q+1]),E[Q]&D&&(k=Wm(t,{errors:P,currentLocation:re,expectedLocation:v,distance:i,ignoreLocation:m}),k<=g)){if(g=k,S=re,S<=v)break;L=Math.max(1,2*v-S)}}if(Wm(t,{errors:P+1,currentLocation:v,expectedLocation:v,distance:i,ignoreLocation:m})>g)break;A=E}const O={isMatch:S>=0,score:Math.max(.001,k)};if(y){const P=sle(N,u);P.length?f&&(O.indices=P):O.isMatch=!1}return O}function ole(e){let t={};for(let r=0,n=e.length;r<n;r+=1){const i=e.charAt(r);t[i]=(t[i]||0)|1<<n-r-1}return t}const Oh=String.prototype.normalize?(e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(e=>e);class BI{constructor(t,{location:r=et.location,threshold:n=et.threshold,distance:i=et.distance,includeMatches:l=et.includeMatches,findAllMatches:c=et.findAllMatches,minMatchCharLength:u=et.minMatchCharLength,isCaseSensitive:f=et.isCaseSensitive,ignoreDiacritics:m=et.ignoreDiacritics,ignoreLocation:h=et.ignoreLocation}={}){if(this.options={location:r,threshold:n,distance:i,includeMatches:l,findAllMatches:c,minMatchCharLength:u,isCaseSensitive:f,ignoreDiacritics:m,ignoreLocation:h},t=f?t:t.toLowerCase(),t=m?Oh(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const x=(g,S)=>{this.chunks.push({pattern:g,alphabet:ole(g),startIndex:S})},v=this.pattern.length;if(v>Il){let g=0;const S=v%Il,y=v-S;for(;g<y;)x(this.pattern.substr(g,Il),g),g+=Il;if(S){const N=v-Il;x(this.pattern.substr(N),N)}}else x(this.pattern,0)}searchIn(t){const{isCaseSensitive:r,ignoreDiacritics:n,includeMatches:i}=this.options;if(t=r?t:t.toLowerCase(),t=n?Oh(t):t,this.pattern===t){let y={isMatch:!0,score:0};return i&&(y.indices=[[0,t.length-1]]),y}const{location:l,distance:c,threshold:u,findAllMatches:f,minMatchCharLength:m,ignoreLocation:h}=this.options;let x=[],v=0,g=!1;this.chunks.forEach(({pattern:y,alphabet:N,startIndex:C})=>{const{isMatch:A,score:k,indices:M}=lle(t,y,N,{location:l+C,distance:c,threshold:u,findAllMatches:f,minMatchCharLength:m,includeMatches:i,ignoreLocation:h});A&&(g=!0),v+=k,A&&M&&(x=[...x,...M])});let S={isMatch:g,score:g?v/this.chunks.length:1};return g&&i&&(S.indices=x),S}}class al{constructor(t){this.pattern=t}static isMultiMatch(t){return zE(t,this.multiRegex)}static isSingleMatch(t){return zE(t,this.singleRegex)}search(){}}function zE(e,t){const r=e.match(t);return r?r[1]:null}class cle extends al{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const r=t===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class ule extends al{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const n=t.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class dle extends al{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const r=t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class fle extends al{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const r=!t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class mle extends al{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const r=t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class ple extends al{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const r=!t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class $I extends al{constructor(t,{location:r=et.location,threshold:n=et.threshold,distance:i=et.distance,includeMatches:l=et.includeMatches,findAllMatches:c=et.findAllMatches,minMatchCharLength:u=et.minMatchCharLength,isCaseSensitive:f=et.isCaseSensitive,ignoreDiacritics:m=et.ignoreDiacritics,ignoreLocation:h=et.ignoreLocation}={}){super(t),this._bitapSearch=new BI(t,{location:r,threshold:n,distance:i,includeMatches:l,findAllMatches:c,minMatchCharLength:u,isCaseSensitive:f,ignoreDiacritics:m,ignoreLocation:h})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class qI extends al{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let r=0,n;const i=[],l=this.pattern.length;for(;(n=t.indexOf(this.pattern,r))>-1;)r=n+l,i.push([n,r-1]);const c=!!i.length;return{isMatch:c,score:c?0:1,indices:i}}}const l1=[cle,qI,dle,fle,ple,mle,ule,$I],BE=l1.length,hle=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,xle="|";function vle(e,t={}){return e.split(xle).map(r=>{let n=r.trim().split(hle).filter(l=>l&&!!l.trim()),i=[];for(let l=0,c=n.length;l<c;l+=1){const u=n[l];let f=!1,m=-1;for(;!f&&++m<BE;){const h=l1[m];let x=h.isMultiMatch(u);x&&(i.push(new h(x,t)),f=!0)}if(!f)for(m=-1;++m<BE;){const h=l1[m];let x=h.isSingleMatch(u);if(x){i.push(new h(x,t));break}}}return i})}const gle=new Set([$I.type,qI.type]);class ble{constructor(t,{isCaseSensitive:r=et.isCaseSensitive,ignoreDiacritics:n=et.ignoreDiacritics,includeMatches:i=et.includeMatches,minMatchCharLength:l=et.minMatchCharLength,ignoreLocation:c=et.ignoreLocation,findAllMatches:u=et.findAllMatches,location:f=et.location,threshold:m=et.threshold,distance:h=et.distance}={}){this.query=null,this.options={isCaseSensitive:r,ignoreDiacritics:n,includeMatches:i,minMatchCharLength:l,findAllMatches:u,ignoreLocation:c,location:f,threshold:m,distance:h},t=r?t:t.toLowerCase(),t=n?Oh(t):t,this.pattern=t,this.query=vle(this.pattern,this.options)}static condition(t,r){return r.useExtendedSearch}searchIn(t){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:i,ignoreDiacritics:l}=this.options;t=i?t:t.toLowerCase(),t=l?Oh(t):t;let c=0,u=[],f=0;for(let m=0,h=r.length;m<h;m+=1){const x=r[m];u.length=0,c=0;for(let v=0,g=x.length;v<g;v+=1){const S=x[v],{isMatch:y,indices:N,score:C}=S.search(t);if(y){if(c+=1,f+=C,n){const A=S.constructor.type;gle.has(A)?u=[...u,...N]:u.push(N)}}else{f=0,c=0,u.length=0;break}}if(c){let v={isMatch:!0,score:f/c};return n&&(v.indices=u),v}}return{isMatch:!1,score:1}}}const o1=[];function yle(...e){o1.push(...e)}function c1(e,t){for(let r=0,n=o1.length;r<n;r+=1){let i=o1[r];if(i.condition(e,t))return new i(e,t)}return new BI(e,t)}const Th={AND:"$and",OR:"$or"},u1={PATH:"$path",PATTERN:"$val"},d1=e=>!!(e[Th.AND]||e[Th.OR]),jle=e=>!!e[u1.PATH],Nle=e=>!Ji(e)&&RI(e)&&!d1(e),$E=e=>({[Th.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function HI(e,t,{auto:r=!0}={}){const n=i=>{let l=Object.keys(i);const c=jle(i);if(!c&&l.length>1&&!d1(i))return n($E(i));if(Nle(i)){const f=c?i[u1.PATH]:l[0],m=c?i[u1.PATTERN]:i[f];if(!ei(m))throw new Error(Gse(f));const h={keyId:s1(f),pattern:m};return r&&(h.searcher=c1(m,t)),h}let u={children:[],operator:l[0]};return l.forEach(f=>{const m=i[f];Ji(m)&&m.forEach(h=>{u.children.push(n(h))})}),u};return d1(e)||(e=$E(e)),n(e)}function wle(e,{ignoreFieldNorm:t=et.ignoreFieldNorm}){e.forEach(r=>{let n=1;r.matches.forEach(({key:i,norm:l,score:c})=>{const u=i?i.weight:null;n*=Math.pow(c===0&&u?Number.EPSILON:c,(u||1)*(t?1:l))}),r.score=n})}function Sle(e,t){const r=e.matches;t.matches=[],Ln(r)&&r.forEach(n=>{if(!Ln(n.indices)||!n.indices.length)return;const{indices:i,value:l}=n;let c={indices:i,value:l};n.key&&(c.key=n.key.src),n.idx>-1&&(c.refIndex=n.idx),t.matches.push(c)})}function Cle(e,t){t.score=e.score}function kle(e,t,{includeMatches:r=et.includeMatches,includeScore:n=et.includeScore}={}){const i=[];return r&&i.push(Sle),n&&i.push(Cle),e.map(l=>{const{idx:c}=l,u={item:t[c],refIndex:c};return i.length&&i.forEach(f=>{f(l,u)}),u})}class oo{constructor(t,r={},n){this.options={...et,...r},this.options.useExtendedSearch,this._keyStore=new Xse(this.options.keys),this.setCollection(t,n)}setCollection(t,r){if(this._docs=t,r&&!(r instanceof TN))throw new Error(Vse);this._myIndex=r||zI(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){Ln(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const r=[];for(let n=0,i=this._docs.length;n<i;n+=1){const l=this._docs[n];t(l,n)&&(this.removeAt(n),n-=1,i-=1,r.push(l))}return r}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:r=-1}={}){const{includeMatches:n,includeScore:i,shouldSort:l,sortFn:c,ignoreFieldNorm:u}=this.options;let f=ei(t)?ei(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return wle(f,{ignoreFieldNorm:u}),l&&f.sort(c),II(r)&&r>-1&&(f=f.slice(0,r)),kle(f,this._docs,{includeMatches:n,includeScore:i})}_searchStringList(t){const r=c1(t,this.options),{records:n}=this._myIndex,i=[];return n.forEach(({v:l,i:c,n:u})=>{if(!Ln(l))return;const{isMatch:f,score:m,indices:h}=r.searchIn(l);f&&i.push({item:l,idx:c,matches:[{score:m,value:l,norm:u,indices:h}]})}),i}_searchLogical(t){const r=HI(t,this.options),n=(u,f,m)=>{if(!u.children){const{keyId:x,searcher:v}=u,g=this._findMatches({key:this._keyStore.get(x),value:this._myIndex.getValueForItemAtKeyId(f,x),searcher:v});return g&&g.length?[{idx:m,item:f,matches:g}]:[]}const h=[];for(let x=0,v=u.children.length;x<v;x+=1){const g=u.children[x],S=n(g,f,m);if(S.length)h.push(...S);else if(u.operator===Th.AND)return[]}return h},i=this._myIndex.records,l={},c=[];return i.forEach(({$:u,i:f})=>{if(Ln(u)){let m=n(r,u,f);m.length&&(l[f]||(l[f]={idx:f,item:u,matches:[]},c.push(l[f])),m.forEach(({matches:h})=>{l[f].matches.push(...h)}))}}),c}_searchObjectList(t){const r=c1(t,this.options),{keys:n,records:i}=this._myIndex,l=[];return i.forEach(({$:c,i:u})=>{if(!Ln(c))return;let f=[];n.forEach((m,h)=>{f.push(...this._findMatches({key:m,value:c[h],searcher:r}))}),f.length&&l.push({idx:u,item:c,matches:f})}),l}_findMatches({key:t,value:r,searcher:n}){if(!Ln(r))return[];let i=[];if(Ji(r))r.forEach(({v:l,i:c,n:u})=>{if(!Ln(l))return;const{isMatch:f,score:m,indices:h}=n.searchIn(l);f&&i.push({score:m,key:t,value:l,idx:c,norm:u,indices:h})});else{const{v:l,n:c}=r,{isMatch:u,score:f,indices:m}=n.searchIn(l);u&&i.push({score:f,key:t,value:l,norm:c,indices:m})}return i}}oo.version="7.1.0";oo.createIndex=zI;oo.parseIndex=ile;oo.config=et;oo.parseQuery=HI;yle(ble);let xa=null,Ju=null;function Ale(e){if(!e)return!1;const t=new Date(e),r=new Date;return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()&&t.getDate()===r.getDate()}function Mle(){return xa?Promise.resolve(xa):Ju||(Ju=rO("fundsList").then(e=>e&&Array.isArray(e.data)&&Ale(e.updatedAt)?(xa=e.data,xa):J8().then(t=>(xa=Array.isArray(t)?t:[],an("fundsList",xa),xa))).catch(()=>(Ju=null,[])),Ju)}function PN({value:e,onSelect:t,placeholder:r,disabled:n}){const[i,l]=j.useState(""),[c,u]=j.useState(xa||[]),[f,m]=j.useState(!xa),[h,x]=j.useState(!1),v=j.useRef(null);j.useEffect(()=>{if(xa){u(xa),m(!1);return}Mle().then(A=>{u(A),m(!1)})},[]),j.useEffect(()=>{function A(k){v.current&&!v.current.contains(k.target)&&x(!1)}return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]);const g=j.useMemo(()=>c.length?new oo(c,{keys:["fundName"],threshold:.3,distance:50,minMatchCharLength:2,includeScore:!0,ignoreLocation:!1,findAllMatches:!0}):null,[c]),S=j.useMemo(()=>!g||i.length<2?[]:g.search(i).slice(0,50).map(A=>A.item),[g,i]);function y(A){l(A),x(A.length>=2)}function N(A){t({schemeCode:A.fundCode||A.schemeCode,fundName:A.fundName,nav:A.nav,navDate:A.navDate}),l(""),x(!1)}function C(){t({schemeCode:"",fundName:"",nav:0,navDate:""}),l("")}return e?.fundName?a.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg px-3 py-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate",children:Le(e.fundName).main}),Le(e.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(e.fundName).plan})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:e.schemeCode}),e.nav>0&&a.jsxs("span",{className:"text-xs font-medium text-emerald-400",children:["NAV: ",e.nav.toFixed(2),e.navDate?` (${e.navDate})`:""]})]})]}),a.jsx("button",{type:"button",onClick:C,className:"shrink-0 p-1 rounded-md hover:bg-[var(--bg-hover)] text-[var(--text-dim)] hover:text-[var(--text-secondary)] transition-colors",children:a.jsx(ai,{size:14})})]}):a.jsxs("div",{ref:v,className:"relative",children:[a.jsxs("div",{className:"relative",children:[f?a.jsx(uc,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-400 animate-spin"}):a.jsx(k1,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)]"}),a.jsx("input",{type:"text",value:i,onChange:A=>y(A.target.value),onFocus:()=>i.length>=2&&x(!0),placeholder:f?"Loading funds...":r||"Search fund name...",disabled:n||f,className:"w-full bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg pl-9 pr-3 py-2 text-sm text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-violet-500/50 disabled:opacity-50 transition-colors"})]}),h&&S.length>0&&a.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl max-h-[240px] overflow-y-auto",children:S.map(A=>a.jsxs("button",{type:"button",onClick:()=>N(A),className:"w-full text-left px-3 py-2.5 hover:bg-[var(--bg-hover)] transition-colors border-b border-[var(--border-light)] last:border-0",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:Le(A.fundName).main}),Le(A.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(A.fundName).plan})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:A.fundCode||A.schemeCode}),A.nav>0&&a.jsxs("span",{className:"text-xs text-emerald-400 tabular-nums",children:["NAV: ",A.nav.toFixed(2),A.navDate?` (${A.navDate})`:""]})]})]},A.fundCode||A.schemeCode))}),h&&i.length>=2&&S.length===0&&!f&&a.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl p-4 text-center",children:a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:['No funds found for "',i,'"']})})]})}const Dle=[{value:"INITIAL",label:"Add Existing Holdings"},{value:"SIP",label:"SIP Investment"},{value:"LUMPSUM",label:"Lumpsum Investment"}];function Ele({portfolioId:e,fundCode:t,fundName:r,transactionType:n,onSave:i,onCancel:l}){const{mfPortfolios:c,mfHoldings:u}=ht(),{selectedMember:f}=Br(),m=j.useMemo(()=>{const E=c.filter(Z=>Z.status==="Active");return f==="all"?E:E.filter(Z=>Z.ownerId===f)},[c,f]),[h,x]=j.useState({portfolioId:e||"",fundCode:t||"",fundName:r||"",nav:0,navDate:"",transactionType:n||"SIP",date:new Date().toISOString().split("T")[0],units:"",price:"",notes:""}),[v,g]=j.useState({}),[S,y]=j.useState(!1),[N,C]=j.useState(!t);function A(E,Z){x(Q=>({...Q,[E]:Z})),g(Q=>({...Q,[E]:void 0}))}function k({schemeCode:E,fundName:Z,nav:Q,navDate:re}){x(R=>({...R,fundCode:E,fundName:Z,nav:Q||0,navDate:re||"",price:Q>0?String(Q):R.price})),g(R=>({...R,fundCode:void 0,fundName:void 0})),C(!1)}function M(E){x(Z=>({...Z,fundCode:E.schemeCode,fundName:E.fundName,nav:E.currentNav||0,navDate:"",price:E.currentNav>0?String(E.currentNav):Z.price})),g(Z=>({...Z,fundCode:void 0})),C(!1)}const D=j.useMemo(()=>h.portfolioId?u.filter(E=>E.portfolioId===h.portfolioId).sort((E,Z)=>Z.currentValue-E.currentValue):[],[u,h.portfolioId]),O=j.useMemo(()=>!h.portfolioId||!h.fundCode?null:u.find(E=>E.portfolioId===h.portfolioId&&E.schemeCode===h.fundCode),[u,h.portfolioId,h.fundCode]),P=h.fundCode&&!O,T=j.useMemo(()=>(Number(h.units)||0)*(Number(h.price)||0),[h.units,h.price]);function $(){const E={};return h.portfolioId||(E.portfolioId="Required"),h.fundCode||(E.fundCode="Select a fund"),h.date||(E.date="Required"),(!h.units||Number(h.units)<=0)&&(E.units="Must be > 0"),(!h.price||Number(h.price)<=0)&&(E.price="Must be > 0"),g(E),Object.keys(E).length===0}async function L(){if($()){y(!0);try{await i({portfolioId:h.portfolioId,fundCode:h.fundCode,fundName:h.fundName,transactionType:h.transactionType,purchaseDate:h.date,units:h.units,avgPrice:h.price,notes:h.notes})}finally{y(!1)}}}const q=m.map(E=>{const Z=E.portfolioName?.replace(/^PFL-/,"")||E.portfolioName,Q=E.ownerName?`${Z} (${E.ownerName})`:Z;return{value:E.portfolioId,label:Q}});return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Portfolio",required:!0,error:v.portfolioId,children:a.jsx(tt,{value:h.portfolioId,onChange:E=>{A("portfolioId",E),t||(A("fundCode",""),A("fundName",""),C(!1))},options:q,placeholder:"Select portfolio..."})}),a.jsx(me,{label:"Transaction Type",required:!0,children:a.jsx(tt,{value:h.transactionType,onChange:E=>A("transactionType",E),options:Dle})})]}),a.jsx(me,{label:"Fund",required:!0,error:v.fundCode,children:h.fundCode&&!N?a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:Le(h.fundName).main}),Le(h.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(h.fundName).plan})]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[h.fundCode,h.nav>0&&a.jsxs("span",{className:"ml-2 text-emerald-400",children:["NAV: ",h.nav.toFixed(2)]})]})]}),a.jsx("button",{type:"button",onClick:()=>{A("fundCode",""),A("fundName",""),C(!0)},className:"text-xs text-[var(--text-muted)] hover:text-[var(--text-primary)] underline shrink-0",children:"Change"})]}):a.jsxs("div",{className:"space-y-3",children:[D.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)] mb-1.5",children:"Portfolio Funds"}),a.jsx("div",{className:"rounded-lg border border-[var(--border)] bg-[var(--bg-inset)] overflow-hidden max-h-44 overflow-y-auto",children:D.map(E=>a.jsxs("button",{type:"button",onClick:()=>M(E),className:"w-full flex items-center gap-3 px-3 py-2 text-left hover:bg-[var(--bg-hover)] border-b border-[var(--border-light)] last:border-b-0 transition-colors group",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate group-hover:text-white transition-colors",children:Le(E.fundName).main}),Le(E.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(E.fundName).plan})]}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5",children:E.units>0?`${E.units.toFixed(0)} units  ${K(E.currentValue)}`:"Planned"})]}),a.jsx(Gl,{size:12,className:"text-[var(--text-dim)] -rotate-90 shrink-0 opacity-0 group-hover:opacity-100 transition-opacity"})]},E.holdingId))})]}),a.jsxs("div",{children:[D.length>0&&a.jsxs("p",{className:"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-dim)] mb-1.5 flex items-center gap-1",children:[a.jsx(k1,{size:10})," Or search new fund"]}),a.jsx(PN,{value:null,onSelect:k,placeholder:"Search fund by name or code..."})]})]})}),O&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Existing holding  will average out"}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Current: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:O.units.toFixed(2)})," units @ ",O.avgNav.toFixed(2)," avg NAV | Value: ",K(O.currentValue),O.targetAllocationPct>0&&a.jsxs("span",{children:["  Target: ",O.targetAllocationPct.toFixed(1),"%"]})]})]}),P&&a.jsxs("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:[a.jsx("p",{className:"text-xs text-violet-400 font-semibold",children:"New fund  will be added to portfolio"}),a.jsx("p",{className:"text-xs text-violet-300/70 mt-0.5",children:"Use Allocations to plan how much to invest before buying"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(me,{label:"Date",required:!0,error:v.date,children:a.jsx(ka,{value:h.date,onChange:E=>A("date",E)})}),a.jsx(me,{label:"Units",required:!0,error:v.units,children:a.jsx(Pe,{type:"number",value:h.units,onChange:E=>A("units",E),placeholder:"e.g., 150.50"})}),a.jsx(me,{label:"NAV ()",required:!0,error:v.price,children:a.jsx(Pe,{type:"number",value:h.price,onChange:E=>A("price",E),placeholder:"e.g., 178.45"})})]}),T>0&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:K(T)}),O&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:["New avg NAV: ",((O.investment+T)/(O.units+Number(h.units))).toFixed(2)," Total units: ",(O.units+Number(h.units)).toFixed(2)]})]}),a.jsx(me,{label:"Notes",children:a.jsx(Pe,{value:h.notes,onChange:E=>A("notes",E),placeholder:"Optional notes..."})}),a.jsx(un,{onCancel:l,onSubmit:L,submitLabel:h.transactionType==="SIP"?"Record SIP":h.transactionType==="LUMPSUM"?"Record Lumpsum":"Add Holdings",loading:S})]})}function _le({portfolioId:e,fundCode:t,onSave:r,onCancel:n}){const{mfPortfolios:i,mfHoldings:l}=ht(),{selectedMember:c}=Br(),u=j.useMemo(()=>{const L=i.filter(q=>q.status==="Active");return c==="all"?L:L.filter(q=>q.ownerId===c)},[i,c]),f=j.useMemo(()=>!e||!t?null:l.find(L=>L.portfolioId===e&&L.schemeCode===t),[l,e,t]),[m,h]=j.useState({portfolioId:e||"",fundCode:t||"",fundName:f?.fundName||"",date:new Date().toISOString().split("T")[0],units:"",price:f?.currentNav>0?String(f.currentNav):"",notes:""}),[x,v]=j.useState({}),[g,S]=j.useState(!1);function y(L,q){h(E=>({...E,[L]:q})),v(E=>({...E,[L]:void 0}))}const N=j.useMemo(()=>m.portfolioId?l.filter(L=>L.portfolioId===m.portfolioId&&L.units>0):[],[l,m.portfolioId]),C=N.find(L=>L.schemeCode===m.fundCode);function A(L){const q=N.find(E=>E.schemeCode===L);h(E=>({...E,fundCode:L,fundName:q?.fundName||"",price:q?.currentNav?.toString()||""})),v(E=>({...E,fundCode:void 0}))}function k(L){h(q=>({...q,portfolioId:L,fundCode:"",fundName:"",units:"",price:""})),v(q=>({...q,portfolioId:void 0}))}const M=j.useMemo(()=>(Number(m.units)||0)*(Number(m.price)||0),[m.units,m.price]),D=C?M-Number(m.units)*C.avgNav:0;function O(){const L={};return m.portfolioId||(L.portfolioId="Required"),m.fundCode||(L.fundCode="Required"),m.date||(L.date="Required"),(!m.units||Number(m.units)<=0)&&(L.units="Must be > 0"),C&&Number(m.units)>C.units&&(L.units=`Max ${C.units.toFixed(2)} units`),(!m.price||Number(m.price)<=0)&&(L.price="Must be > 0"),v(L),Object.keys(L).length===0}async function P(){if(O()){S(!0);try{await r(m)}finally{S(!1)}}}const T=u.map(L=>{const q=L.portfolioName?.replace(/^PFL-/,"")||L.portfolioName,E=L.ownerName?`${q} (${L.ownerName})`:q;return{value:L.portfolioId,label:E}}),$=N.map(L=>({value:L.schemeCode,label:`${L.fundName}  ${L.units.toFixed(0)} units  ${K(L.currentValue)}`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(me,{label:"Portfolio",required:!0,error:x.portfolioId,children:a.jsx(tt,{value:m.portfolioId,onChange:k,options:T,placeholder:"Select portfolio..."})}),a.jsx(me,{label:"Fund to Redeem",required:!0,error:x.fundCode,children:a.jsx(tt,{value:m.fundCode,onChange:A,options:$,placeholder:m.portfolioId?N.length?"Select fund...":"No holdings":"Select portfolio first..."})}),C&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:Le(C.fundName).main}),Le(C.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(C.fundName).plan})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:C.units.toFixed(2)})," units @ ",C.avgNav.toFixed(2)," avg | Current NAV: ",C.currentNav.toFixed(2)]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(me,{label:"Date",required:!0,error:x.date,children:a.jsx(ka,{value:m.date,onChange:L=>y("date",L)})}),a.jsx(me,{label:"Units",required:!0,error:x.units,children:a.jsx(Pe,{type:"number",value:m.units,onChange:L=>y("units",L),placeholder:C?`Max: ${C.units.toFixed(2)}`:""})}),a.jsx(me,{label:"NAV ()",required:!0,error:x.price,children:a.jsx(Pe,{type:"number",value:m.price,onChange:L=>y("price",L),placeholder:"e.g., 178.45"})})]}),M>0&&a.jsx("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Redemption Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:K(M)})]}),C&&a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. Gain/Loss"}),a.jsxs("p",{className:`text-sm font-bold tabular-nums ${D>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[D>=0?"+":"",K(D)]})]})]})}),a.jsx(me,{label:"Notes",children:a.jsx(Pe,{value:m.notes,onChange:L=>y("notes",L),placeholder:"Optional notes..."})}),a.jsx(un,{onCancel:n,onSubmit:P,submitLabel:"Redeem",loading:g})]})}function Ole({portfolioId:e,onSave:t,onCancel:r}){const{mfPortfolios:n,mfHoldings:i}=ht(),{selectedMember:l}=Br(),c=j.useMemo(()=>{const E=n.filter(Z=>Z.status==="Active");return l==="all"?E:E.filter(Z=>Z.ownerId===l)},[n,l]),[u,f]=j.useState({portfolioId:e||"",fromFundCode:"",fromFundName:"",toFundCode:"",toFundName:"",date:new Date().toISOString().split("T")[0],units:"",fromPrice:"",toPrice:"",targetAllocation:"",notes:""}),[m,h]=j.useState({}),[x,v]=j.useState(!1);function g(E,Z){f(Q=>({...Q,[E]:Z})),h(Q=>({...Q,[E]:void 0}))}function S(E){f(Z=>({...Z,portfolioId:E,fromFundCode:"",fromFundName:"",toFundCode:"",toFundName:"",units:"",fromPrice:"",toPrice:"",targetAllocation:""})),h(Z=>({...Z,portfolioId:void 0}))}const y=j.useMemo(()=>u.portfolioId?i.filter(E=>E.portfolioId===u.portfolioId&&E.units>0):[],[i,u.portfolioId]),N=y.find(E=>E.schemeCode===u.fromFundCode),C=j.useMemo(()=>!u.portfolioId||!u.toFundCode?null:i.find(E=>E.portfolioId===u.portfolioId&&E.schemeCode===u.toFundCode),[i,u.portfolioId,u.toFundCode]),A=u.toFundCode&&!C;function k(E){const Z=y.find(Q=>Q.schemeCode===E);f(Q=>({...Q,fromFundCode:E,fromFundName:Z?.fundName||"",fromPrice:Z?.currentNav?.toString()||""})),h(Q=>({...Q,fromFundCode:void 0}))}function M({schemeCode:E,fundName:Z}){const Q=i.find(re=>re.portfolioId===u.portfolioId&&re.schemeCode===E);f(re=>({...re,toFundCode:E,toFundName:Z,toPrice:Q?.currentNav?.toString()||re.toPrice,targetAllocation:""})),h(re=>({...re,toFundCode:void 0}))}const D=j.useMemo(()=>(Number(u.units)||0)*(Number(u.fromPrice)||0),[u.units,u.fromPrice]),O=D>0&&Number(u.toPrice)>0?D/Number(u.toPrice):0,P=N?D-Number(u.units)*N.avgNav:0;function T(){const E={};return u.portfolioId||(E.portfolioId="Required"),u.fromFundCode||(E.fromFundCode="Required"),u.toFundCode||(E.toFundCode="Required"),u.fromFundCode&&u.toFundCode&&u.fromFundCode===u.toFundCode&&(E.toFundCode="Must be different from source fund"),u.date||(E.date="Required"),(!u.units||Number(u.units)<=0)&&(E.units="Must be > 0"),N&&Number(u.units)>N.units&&(E.units=`Max ${N.units.toFixed(2)} units`),(!u.fromPrice||Number(u.fromPrice)<=0)&&(E.fromPrice="Must be > 0"),(!u.toPrice||Number(u.toPrice)<=0)&&(E.toPrice="Must be > 0"),h(E),Object.keys(E).length===0}async function $(){if(T()){v(!0);try{await t(u)}finally{v(!1)}}}const L=c.map(E=>{const Z=E.portfolioName?.replace(/^PFL-/,"")||E.portfolioName,Q=E.ownerName?`${Z} (${E.ownerName})`:Z;return{value:E.portfolioId,label:Q}}),q=y.map(E=>({value:E.schemeCode,label:E.fundName}));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(me,{label:"Portfolio",required:!0,error:m.portfolioId,children:a.jsx(tt,{value:u.portfolioId,onChange:S,options:L,placeholder:"Select portfolio..."})}),a.jsx(me,{label:"Switch From (Sell)",required:!0,error:m.fromFundCode,children:a.jsx(tt,{value:u.fromFundCode,onChange:k,options:q,placeholder:u.portfolioId?y.length?"Select fund to switch from...":"No holdings":"Select portfolio first..."})}),N&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:Le(N.fundName).main}),Le(N.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(N.fundName).plan})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:N.units.toFixed(2)})," units @ ",N.avgNav.toFixed(2)," avg | Current NAV: ",N.currentNav.toFixed(2)]})]}),a.jsx(me,{label:"Switch To (Buy)",required:!0,error:m.toFundCode,children:a.jsx(PN,{value:u.toFundCode?{schemeCode:u.toFundCode,fundName:u.toFundName}:null,onSelect:M,placeholder:"Search fund to switch into...",disabled:!u.portfolioId})}),C&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Existing holding  units will be added, NAV averaged out"}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Current: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:C.units.toFixed(2)})," units @ ",C.avgNav.toFixed(2)," avg | Alloc: ",C.targetAllocationPct.toFixed(1),"%"]})]}),A&&u.toFundCode&&a.jsx("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:a.jsx("p",{className:"text-xs text-violet-400 font-semibold",children:"New fund  will be added to portfolio"})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Switch Date",required:!0,error:m.date,children:a.jsx(ka,{value:u.date,onChange:E=>g("date",E)})}),a.jsx(me,{label:"Units to Switch",required:!0,error:m.units,children:a.jsx(Pe,{type:"number",value:u.units,onChange:E=>g("units",E),placeholder:N?`Max: ${N.units.toFixed(2)}`:""})})]}),a.jsxs("div",{className:`grid grid-cols-1 ${A?"sm:grid-cols-3":"sm:grid-cols-2"} gap-4`,children:[a.jsx(me,{label:"From Fund NAV ()",required:!0,error:m.fromPrice,children:a.jsx(Pe,{type:"number",value:u.fromPrice,onChange:E=>g("fromPrice",E),placeholder:"e.g., 178.45"})}),a.jsx(me,{label:"To Fund NAV ()",required:!0,error:m.toPrice,children:a.jsx(Pe,{type:"number",value:u.toPrice,onChange:E=>g("toPrice",E),placeholder:"e.g., 82.10"})}),A&&a.jsx(me,{label:"Target Allocation (%)",children:a.jsx(Pe,{type:"number",value:u.targetAllocation,onChange:E=>g("targetAllocation",E),placeholder:"e.g., 20"})})]}),D>0&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Switch Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:K(D)})]}),O>0&&a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Units Bought"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:O.toFixed(4)})]}),N&&a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. Gain/Loss"}),a.jsxs("p",{className:`text-sm font-bold tabular-nums ${P>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[P>=0?"+":"",K(P)]})]})]}),C&&O>0&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1 border-t border-[var(--border-light)] pt-1",children:["New total: ",(C.units+O).toFixed(2)," units  New avg NAV: ",((C.investment+D)/(C.units+O)).toFixed(2)]})]}),a.jsx(me,{label:"Notes",children:a.jsx(Pe,{value:u.notes,onChange:E=>g("notes",E),placeholder:"Optional notes..."})}),a.jsx(un,{onCancel:r,onSubmit:$,submitLabel:"Switch Funds",loading:x})]})}function Tle({portfolioId:e,onSave:t,onCancel:r}){const{mfHoldings:n,mfPortfolios:i}=ht(),l=i.find(T=>T.portfolioId===e),c=j.useMemo(()=>n.filter(T=>T.portfolioId===e),[n,e]),[u,f]=j.useState(()=>c.map(T=>({schemeCode:T.schemeCode,fundName:T.fundName,units:T.units,currentValue:T.currentValue,currentAllocationPct:T.currentAllocationPct,targetAllocationPct:T.targetAllocationPct,isNew:!1}))),[m,h]=j.useState(null),[x,v]=j.useState(""),[g,S]=j.useState(""),[y,N]=j.useState(!1),C=u.reduce((T,$)=>T+$.targetAllocationPct,0),A=u.reduce((T,$)=>T+$.currentValue,0);function k(T,$){f(L=>L.map(q=>q.schemeCode===T?{...q,targetAllocationPct:Number($)||0}:q)),S("")}function M(T){const $=u.find(L=>L.schemeCode===T);$&&$.units>0||f(L=>L.filter(q=>q.schemeCode!==T))}function D(){if(m){if(u.find(T=>T.schemeCode===m.schemeCode)){S("Fund already exists in portfolio");return}f(T=>[...T,{schemeCode:m.schemeCode,fundName:m.fundName,units:0,currentValue:0,currentAllocationPct:0,targetAllocationPct:Number(x)||0,isNew:!0}]),h(null),v(""),S("")}}async function O(){if(C>100){S(`Total allocation is ${C.toFixed(1)}%  must be  100%`);return}N(!0);try{await t(u.map(T=>({schemeCode:T.schemeCode,fundName:T.fundName,targetAllocationPct:T.targetAllocationPct,isNew:T.isNew})))}finally{N(!1)}}const P=l?.sipTarget||0;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:l?.portfolioName}),a.jsx("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)] mt-0.5 flex-wrap",children:a.jsxs("span",{children:["Current Value: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:K(A)})]})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Fund"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold whitespace-nowrap w-24",children:"Amount"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold whitespace-nowrap w-20",children:"Current %"}),a.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold whitespace-nowrap w-24",children:"Target %"}),a.jsx("th",{className:"w-8 px-2"})]})}),a.jsx("tbody",{children:u.map(T=>{const $=T.isNew&&T.targetAllocationPct>0&&T.targetAllocationPct<100&&A>0?T.targetAllocationPct/(100-T.targetAllocationPct)*A:0,L=T.isNew&&T.targetAllocationPct>0&&P>=100?T.targetAllocationPct/100*P:0;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[a.jsxs("td",{className:"py-2 px-2",children:[a.jsxs("p",{className:"text-xs text-[var(--text-primary)] leading-tight",children:[Le(T.fundName).main,T.isNew&&a.jsx("span",{className:"text-violet-400 ml-1 text-[10px]",children:"(new)"})]}),($>0||L>0)&&a.jsxs("p",{className:"text-xs text-blue-400 mt-0.5",children:["Invest: ",$>0&&a.jsx("span",{className:"font-semibold",children:K($)}),$>0&&L>0&&"  ",L>0&&a.jsxs("span",{className:"font-semibold",children:[K(L),"/mo SIP"]})]})]}),a.jsx("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums whitespace-nowrap",children:T.currentValue>0?K(T.currentValue):""}),a.jsxs("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums whitespace-nowrap",children:[T.currentAllocationPct.toFixed(1),"%"]}),a.jsx("td",{className:"py-2 px-2",children:a.jsx("input",{type:"number",value:T.targetAllocationPct,onChange:q=>k(T.schemeCode,q.target.value),className:"w-20 mx-auto block bg-[var(--bg-inset)] border border-[var(--border)] rounded px-2 py-1 text-xs text-center text-[var(--text-primary)] focus:outline-none focus:border-violet-500/50"})}),a.jsx("td",{className:"py-2 px-2 text-center",children:T.units===0&&a.jsx("button",{onClick:()=>M(T.schemeCode),className:"p-1 rounded hover:bg-rose-500/15 text-[var(--text-dim)] hover:text-[var(--accent-rose)] transition-colors",children:a.jsx(dc,{size:12})})})]},T.schemeCode)})}),a.jsx("tfoot",{children:a.jsxs("tr",{className:"border-t border-[var(--border)]",children:[a.jsx("td",{className:"py-2 px-2 text-xs font-bold text-[var(--text-primary)]",children:"Total"}),a.jsx("td",{className:"py-2 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums whitespace-nowrap",children:K(A)}),a.jsxs("td",{className:"py-2 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums whitespace-nowrap",children:[u.reduce((T,$)=>T+$.currentAllocationPct,0).toFixed(1),"%"]}),a.jsx("td",{className:"py-2 px-2 text-center",children:a.jsxs("span",{className:`text-xs font-bold tabular-nums ${C>100?"text-[var(--accent-rose)]":C===100?"text-emerald-400":"text-amber-400"}`,children:[C.toFixed(1),"%"]})}),a.jsx("td",{})]})})]})}),a.jsxs("div",{className:"sm:hidden space-y-2",children:[u.map(T=>{const $=T.isNew&&T.targetAllocationPct>0&&T.targetAllocationPct<100&&A>0?T.targetAllocationPct/(100-T.targetAllocationPct)*A:0,L=T.isNew&&T.targetAllocationPct>0&&P>=100?T.targetAllocationPct/100*P:0;return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-3.5 py-3 space-y-2",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:[Le(T.fundName).main,T.isNew&&a.jsx("span",{className:"text-violet-400 ml-1 text-[10px] font-semibold",children:"(new)"})]}),a.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5 text-[11px] text-[var(--text-dim)] flex-wrap",children:[T.currentValue>0&&a.jsx("span",{className:"tabular-nums",children:K(T.currentValue)}),T.currentValue>0&&a.jsx("span",{children:""}),a.jsxs("span",{className:"tabular-nums",children:["Current ",T.currentAllocationPct.toFixed(1),"%"]})]})]}),T.units===0&&a.jsx("button",{onClick:()=>M(T.schemeCode),className:"p-1.5 rounded-lg hover:bg-rose-500/15 text-[var(--text-dim)] hover:text-[var(--accent-rose)] transition-colors shrink-0",children:a.jsx(dc,{size:14})})]}),a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx("span",{className:"text-[10px] text-[var(--text-dim)] w-10 shrink-0",children:"Target"}),a.jsx("input",{type:"range",min:"0",max:"50",step:"0.5",value:T.targetAllocationPct,onChange:q=>k(T.schemeCode,q.target.value),className:"flex-1 h-1.5 rounded-full appearance-none cursor-pointer accent-violet-500",style:{background:`linear-gradient(to right, rgb(139 92 246) 0%, rgb(139 92 246) ${T.targetAllocationPct/50*100}%, var(--bg-inset) ${T.targetAllocationPct/50*100}%, var(--bg-inset) 100%)`}}),a.jsx("input",{type:"number",value:T.targetAllocationPct,onChange:q=>k(T.schemeCode,q.target.value),className:"w-14 bg-[var(--bg-inset)] border border-[var(--border)] rounded px-1.5 py-1 text-xs text-center text-[var(--text-primary)] tabular-nums focus:outline-none focus:border-violet-500/50 shrink-0"}),a.jsx("span",{className:"text-[10px] text-[var(--text-dim)] shrink-0",children:"%"})]}),($>0||L>0)&&a.jsxs("p",{className:"text-[11px] text-blue-400",children:["Invest: ",$>0&&a.jsx("span",{className:"font-semibold",children:K($)}),$>0&&L>0&&"  ",L>0&&a.jsxs("span",{className:"font-semibold",children:[K(L),"/mo SIP"]})]})]},T.schemeCode)}),a.jsxs("div",{className:"flex items-center justify-between bg-[var(--bg-inset)] rounded-xl border border-[var(--border-light)] px-3.5 py-2.5",children:[a.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)]",children:"Total Target"}),a.jsxs("span",{className:`text-sm font-bold tabular-nums ${C>100?"text-[var(--accent-rose)]":C===100?"text-emerald-400":"text-amber-400"}`,children:[C.toFixed(1),"%"]})]})]}),a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider mb-1",children:"Add New Fund"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"Set target % to see how much to invest. After buying, use Invest to record the transaction."}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(PN,{value:m,onSelect:T=>h(T.schemeCode?T:null),placeholder:"Search fund to add..."}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-28",children:a.jsx("input",{type:"number",value:x,onChange:T=>v(T.target.value),placeholder:"Target %",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})}),a.jsxs("button",{onClick:D,disabled:!m,className:"flex items-center gap-1 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors disabled:opacity-40 disabled:cursor-not-allowed",children:[a.jsx(Qr,{size:14})," Add"]})]})]})]})]}),g&&a.jsx("p",{className:"text-xs text-[var(--accent-rose)] font-medium",children:g}),a.jsx(un,{onCancel:r,onSubmit:O,submitLabel:"Save Allocations",loading:y})]})}const Qb=["Equity","Debt","Cash","Commodities","Real Estate","Other"],Xb=["Giant","Large","Mid","Small","Micro"],Zb=["India","Global"];function Ple({fund:e,initial:t,onSave:r,onCancel:n}){const[i,l]=j.useState(()=>{const D={};return Qb.forEach(O=>{D[O]=t?.assetAllocation?.[O]||0}),t?.assetAllocation&&Object.keys(t.assetAllocation).forEach(O=>{O in D||(D[O]=t.assetAllocation[O])}),D}),[c,u]=j.useState(()=>{const D={};return Xb.forEach(O=>{D[O]=t?.equityAllocation?.[O]||0}),t?.equityAllocation&&Object.keys(t.equityAllocation).forEach(O=>{O in D||(D[O]=t.equityAllocation[O])}),D}),[f,m]=j.useState(()=>{const D={};return Zb.forEach(O=>{D[O]=t?.geoAllocation?.[O]||0}),t?.geoAllocation&&Object.keys(t.geoAllocation).forEach(O=>{O in D||(D[O]=t.geoAllocation[O])}),D}),[h,x]=j.useState(!1),v=Object.values(i).reduce((D,O)=>D+O,0),g=Object.values(c).reduce((D,O)=>D+O,0),S=Object.values(f).reduce((D,O)=>D+O,0),y=i.Equity||0,N=v===100||v===0,C=g===100||g===0||y===0,A=S===100||S===0||y===0,k=N&&C&&A;async function M(){if(k){x(!0);try{const D={fundCode:e.fundCode,fundName:e.fundName,equity:i.Equity||0,debt:i.Debt||0,cash:i.Cash||0,commodities:i.Commodities||0,realEstate:i["Real Estate"]||0,customAsset:{},giantCap:c.Giant||0,largeCap:c.Large||0,midCap:c.Mid||0,smallCap:c.Small||0,microCap:c.Micro||0,customCap:{},geoIndia:f.India||0,geoGlobal:f.Global||0,customGeo:{}};Object.entries(i).forEach(([O,P])=>{!Qb.includes(O)&&P>0&&(D.customAsset[O]=P)}),Object.entries(c).forEach(([O,P])=>{!Xb.includes(O)&&P>0&&(D.customCap[O]=P)}),Object.entries(f).forEach(([O,P])=>{!Zb.includes(O)&&P>0&&(D.customGeo[O]=P)}),await r(D)}finally{x(!1)}}}return a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-4 py-2.5",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)] truncate",children:Le(e.fundName).main}),Le(e.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(e.fundName).plan})]}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] tabular-nums mt-0.5",children:e.fundCode})]}),a.jsx(Jb,{title:"Asset Class %",fields:i,setFields:l,standardKeys:Qb,total:v,valid:N}),y>0&&a.jsx(Jb,{title:"Market Cap %",subtitle:"Equity breakdown",fields:c,setFields:u,standardKeys:Xb,total:g,valid:C}),y>0&&a.jsx(Jb,{title:"Geography %",fields:f,setFields:m,standardKeys:Zb,total:S,valid:A}),a.jsxs("div",{className:"flex items-center justify-end gap-2 pt-3 border-t border-[var(--border-light)]",children:[a.jsx("button",{onClick:n,disabled:h,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-40",children:"Cancel"}),a.jsxs("button",{onClick:M,disabled:h||!k,className:"flex items-center gap-1.5 px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50",children:[h?a.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):a.jsx(wO,{size:12}),h?"Saving...":"Save"]})]})]})}function Jb({title:e,subtitle:t,fields:r,setFields:n,standardKeys:i,total:l,valid:c}){const[u,f]=j.useState(!1),[m,h]=j.useState("");function x(y,N){n(C=>({...C,[y]:Number(N)||0}))}function v(){const y=m.trim();!y||y in r||(n(N=>({...N,[y]:0})),h(""),f(!1))}function g(y){n(N=>{const C={...N};return delete C[y],C})}const S=Object.keys(r);return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("p",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider",children:e}),t&&a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["(",t,")"]})]}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-1.5",children:S.map(y=>{const N=!i.includes(y);return a.jsxs("div",{className:"relative",children:[a.jsxs("label",{className:"block text-[10px] text-[var(--text-dim)] mb-0.5 flex items-center gap-1",children:[y,N&&a.jsx("button",{onClick:()=>g(y),className:"text-[var(--text-dim)] hover:text-rose-400 transition-colors",children:a.jsx(ai,{size:8})})]}),a.jsx("input",{type:"number",min:"0",max:"100",value:r[y]||"",onChange:C=>x(y,C.target.value),className:"w-[72px] px-1.5 py-1 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-md tabular-nums text-center focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors"})]},y)})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:`text-[10px] tabular-nums ${c?"text-[var(--text-dim)]":"text-[var(--accent-rose)] font-semibold"}`,children:["Total: ",l,"% ",!c&&" must equal 100%",c&&l===100&&a.jsx("span",{className:"text-emerald-400 ml-1",children:""})]}),u?a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("input",{autoFocus:!0,value:m,onChange:y=>h(y.target.value),onKeyDown:y=>{y.key==="Enter"&&v(),y.key==="Escape"&&f(!1)},placeholder:"Field name",className:"w-24 px-1.5 py-0.5 text-[10px] bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-md focus:outline-none focus:border-[var(--sidebar-active-text)]"}),a.jsx("button",{onClick:v,className:"text-[10px] font-semibold text-emerald-400 hover:text-emerald-300",children:"Add"}),a.jsx("button",{onClick:()=>{f(!1),h("")},className:"text-[10px] text-[var(--text-dim)] hover:text-[var(--text-primary)]",children:a.jsx(ai,{size:10})})]}):a.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-0.5 text-[10px] font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[a.jsx(Qr,{size:10})," Add Field"]})]})]})}const ed=e=>e?.replace(/^PFL-/,"")||e;function Ile(e){if(!e)return"Other";const t=e.toLowerCase();return t.includes("gold")||t.includes("silver")||t.includes("commodity")?"Commodity":t.includes("liquid")||t.includes("money market")||t.includes("overnight")?"Liquid":t.includes("gilt")||t.includes("government securities")||t.includes("constant maturity")?"Gilt":t.includes("elss")||t.includes("tax saver")?"ELSS":t.includes("debt")||t.includes("bond")||t.includes("income fund")||t.includes("corporate bond")||t.includes("banking & psu")||t.includes("short duration")||t.includes("medium duration")||t.includes("long duration")||t.includes("short term")||t.includes("medium term")||t.includes("floater")||t.includes("floating rate")||t.includes("credit")||t.includes("accrual")||t.includes("savings fund")||t.includes("ultra short")?"Debt":t.includes("multi asset")?"Multi-Asset":t.includes("hybrid")||t.includes("balanced")||t.includes("dynamic asset")||t.includes("arbitrage")||t.includes("retirement")||t.includes("children")||t.includes("pension")?"Hybrid":t.includes("equity")||t.includes("flexi cap")||t.includes("large cap")||t.includes("mid cap")||t.includes("small cap")||t.includes("multi cap")||t.includes("focused")||t.includes("contra")||t.includes("value fund")||t.includes("thematic")||t.includes("sectoral")||t.includes("consumption")||t.includes("infrastructure")||t.includes("pharma")||t.includes("healthcare")||t.includes("technology")||t.includes("fmcg")||t.includes("mnc")||t.includes("opportunities fund")||t.includes("midcap")||t.includes("smallcap")||t.includes("largecap")||t.includes("large & mid")?"Equity":t.includes("index")||t.includes("etf")||t.includes("nifty")||t.includes("sensex")?"Index":t.includes("fund of fund")||t.includes("fof")||t.includes("aggressive")||t.includes("conservative")?"Hybrid":"Other"}const Rle={Equity:"#8b5cf6",Debt:"#0ea5e9",Cash:"#2dd4bf",Commodities:"#eab308","Real Estate":"#f97316",Other:"#94a3b8"},Lle={Giant:"#6366f1",Large:"#3b82f6",Mid:"#f59e0b",Small:"#ef4444",Micro:"#ec4899"},Fle={India:"#f97316",Global:"#06b6d4"},zle={Equity:"bg-violet-500",Debt:"bg-sky-500",Cash:"bg-teal-400",Commodities:"bg-yellow-500","Real Estate":"bg-orange-500",Other:"bg-slate-400"},Ble={Giant:"bg-indigo-500",Large:"bg-blue-500",Mid:"bg-amber-500",Small:"bg-rose-500",Micro:"bg-pink-500"},$le={India:"bg-orange-500",Global:"bg-cyan-500"};function f1(e){if(!e)return null;if(e instanceof Date)return isNaN(e.getTime())?null:e;const t=String(e),r=t.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})/);if(r)return new Date(Number(r[3]),Number(r[2])-1,Number(r[1]));const n=new Date(t);return isNaN(n.getTime())?null:n}function qE(e){return e>=20?{color:"#c62828",fontWeight:700}:e>=10?{color:"#d84315",fontWeight:700}:e>=5?{color:"#e67e00",fontWeight:600}:e>=1?{color:"#b8860b",fontWeight:600}:{color:"var(--text-dim)",fontWeight:400}}function qle(){const{selectedMember:e}=Br(),{mfPortfolios:t,mfHoldings:r,mfTransactions:n,activeMembers:i,activeInvestmentAccounts:l,addMFPortfolio:c,updateMFPortfolio:u,deleteMFPortfolio:f,investMF:m,redeemMF:h,switchMF:x,updateHoldingAllocations:v,deleteMFTransaction:g,editMFTransaction:S,assetAllocations:y,updateAssetAllocation:N}=ht(),{showToast:C,showBlockUI:A,hideBlockUI:k}=oi(),M=ci(),{mv:D}=Oa(),[O,P]=j.useState(null),[T,$]=j.useState("all"),[L,q]=j.useState("holdings"),[E,Z]=j.useState(!1),[Q,re]=j.useState("all"),[R,G]=j.useState(null),[pe,je]=j.useState(!1),[we,F]=j.useState(null),ue=j.useMemo(()=>t?t.filter(W=>W.status!=="Inactive").map(W=>{let H=l.find(Ue=>Ue.accountId===W.investmentAccountId);!H&&W.investmentAccountId&&(H=l.find(Ue=>`${Ue.accountName} - ${Ue.platformBroker}`===W.investmentAccountId));const te=H?.memberId||W.ownerId||"",ke=te?i.find(Ue=>Ue.memberId===te):null;return{...W,investmentAccountId:H?.accountId||W.investmentAccountId,ownerId:te,ownerName:ke?.memberName||W.ownerName||"",platform:H?.platformBroker||W.investmentAccountName||"",clientId:H?.accountClientId||""}}):[],[t,l,i]),J=j.useMemo(()=>ue.length?e==="all"?ue:ue.filter(W=>W.ownerId===e):[],[ue,e]),B=j.useMemo(()=>r?J.map(W=>{const H=r.filter(ke=>ke.portfolioId===W.portfolioId),te=(n||[]).filter(ke=>ke.portfolioId===W.portfolioId);return{...W,holdings:H,txns:te,fundCount:H.length}}):[],[J,r,n]),z=j.useMemo(()=>{const W=T==="all"?B:B.filter(Qe=>Qe.portfolioId===T),H=W.reduce((Qe,De)=>Qe+De.totalInvestment,0),te=W.reduce((Qe,De)=>Qe+De.currentValue,0),ke=W.reduce((Qe,De)=>Qe+De.unrealizedPL,0),Ue=W.reduce((Qe,De)=>Qe+De.realizedPL,0),se=ke+Ue,it=H>0?se/H*100:0,Ye=H>0?ke/H*100:0,Be=H>0?Ue/H*100:0,Je=W.reduce((Qe,De)=>Qe+De.fundCount,0),Ut=(r?T==="all"?r.filter(Qe=>W.some(De=>De.portfolioId===Qe.portfolioId)):r.filter(Qe=>Qe.portfolioId===T):[]).reduce((Qe,De)=>Qe+(De.ongoingSIP||0),0);return{invested:H,current:te,unrealizedPL:ke,unrealizedPLPct:Ye,realizedPL:Ue,realizedPLPct:Be,totalPL:se,totalPLPct:it,funds:Je,monthlySIP:Ut}},[B,T,r]),U=j.useMemo(()=>r?T==="all"?r.filter(W=>J.some(H=>H.portfolioId===W.portfolioId)):r.filter(W=>W.portfolioId===T):[],[r,J,T]),xe=j.useMemo(()=>n?(T==="all"?n.filter(H=>J.some(te=>te.portfolioId===H.portfolioId)):n.filter(H=>H.portfolioId===T)).sort((H,te)=>(f1(te.date)||0)-(f1(H.date)||0)):[],[n,J,T]),Ne=j.useMemo(()=>{const W=new Set;return xe.forEach(H=>{H.fundName&&W.add(H.fundName)}),[...W].sort()},[xe]),ne=j.useMemo(()=>Q==="all"?xe:xe.filter(W=>W.fundName===Q),[xe,Q]),Ee=j.useMemo(()=>{const W={};return U.forEach(H=>{W[H.portfolioId]=(W[H.portfolioId]||0)+H.currentValue}),U.map(H=>{const te=W[H.portfolioId]||0,ke=te>0?H.currentValue/te*100:0,Ue=H.investment>0?H.pl/H.investment*100:0,se=H.holdingId||`${H.portfolioId}::${H.schemeCode||H.fundCode}`;return{...H,currentAllocationPct:ke,plPct:Ue,_key:se}})},[U]),Ce=j.useMemo(()=>{if(T!=="all")return null;const W=[],H={};return Ee.forEach(te=>{H[te.portfolioId]||(H[te.portfolioId]={portfolioId:te.portfolioId,holdings:[]},W.push(H[te.portfolioId])),H[te.portfolioId].holdings.push(te)}),W},[Ee,T]),oe=j.useMemo(()=>{if(!r)return{};const W={};return B.forEach(H=>{const te=r.filter(Ye=>Ye.portfolioId===H.portfolioId&&Ye.units>0),ke=te.reduce((Ye,Be)=>Ye+Be.currentValue,0),Ue=(H.rebalanceThreshold||.05)*100;let se=0,it=0;te.forEach(Ye=>{Ye.athNav>0&&Ye.belowATHPct>=5&&se++;const Be=ke>0?Ye.currentValue/ke*100:0;Ye.targetAllocationPct>0&&Math.abs(Be-Ye.targetAllocationPct)>Ue&&it++}),W[H.portfolioId]={buyOpp:se,rebalance:it}}),W},[B,r]);j.useMemo(()=>{if(T!=="all")return oe[T]||{buyOpp:0,rebalance:0};let W=0,H=0;return Object.values(oe).forEach(te=>{W+=te.buyOpp,H+=te.rebalance}),{buyOpp:W,rebalance:H}},[T,oe]);const $e=j.useMemo(()=>{if(!U.length)return null;const W={};if(y)for(const De of y)W[De.fundCode]={asset:De.assetAllocation,equity:De.equityAllocation,geo:De.geoAllocation};const H={Equity:0,Debt:0,Cash:0,Commodities:0,"Real Estate":0,Other:0},te={Giant:0,Large:0,Mid:0,Small:0,Micro:0},ke={India:0,Global:0};let Ue=0,se=!1,it=0;for(const De of U){if(De.units<=0)continue;Ue+=De.currentValue;const We=W[De.fundCode||De.schemeCode];if(We?.asset){se=!0,it++;for(const[Fe,bt]of Object.entries(We.asset)){const Bt=De.currentValue*(bt/100);Fe in H?H[Fe]+=Bt:Fe==="Gold"?H.Commodities+=Bt:H.Other+=Bt}if(We.equity){const Fe=De.currentValue*((We.asset.Equity||0)/100);for(const[bt,Bt]of Object.entries(We.equity)){const Yt=Fe*(Bt/100);bt in te?te[bt]+=Yt:bt==="Large Cap"?te.Large+=Yt:bt==="Mid Cap"?te.Mid+=Yt:te.Small+=Yt}}if(We.geo){const Fe=De.currentValue*((We.asset.Equity||0)/100);for(const[bt,Bt]of Object.entries(We.geo)){const Yt=Fe*(Bt/100);bt in ke?ke[bt]+=Yt:ke.Global+=Yt}}}else{let Fe=De.category;(!Fe||Fe==="Other")&&(Fe=Ile(De.fundName)),Fe==="Equity"||Fe==="ELSS"||Fe==="Index"?H.Equity+=De.currentValue:Fe==="Debt"||Fe==="Gilt"?H.Debt+=De.currentValue:Fe==="Liquid"?H.Cash+=De.currentValue:Fe==="Commodity"?H.Commodities+=De.currentValue:Fe==="Multi-Asset"?(H.Equity+=De.currentValue*.5,H.Debt+=De.currentValue*.3,H.Commodities+=De.currentValue*.2):Fe==="Hybrid"||Fe==="FoF"?(H.Equity+=De.currentValue*.65,H.Debt+=De.currentValue*.35):H.Other+=De.currentValue}}if(Ue===0)return null;const Be=((De,We)=>Object.entries(De).filter(([,Fe])=>Fe>0).sort(([,Fe],[,bt])=>bt-Fe).map(([Fe,bt])=>({name:Fe,value:bt,pct:bt/Ue*100,fill:We[Fe]||"#94a3b8"})))(H,Rle),Je=Object.values(te).reduce((De,We)=>De+We,0),nt=Je>0?Object.entries(te).filter(([,De])=>De>0).sort(([,De],[,We])=>We-De).map(([De,We])=>({name:De,value:We,pct:We/Je*100,fill:Lle[De]||"#94a3b8"})):[],Ut=Object.values(ke).reduce((De,We)=>De+We,0),Qe=Ut>0?Object.entries(ke).filter(([,De])=>De>0).sort(([,De],[,We])=>We-De).map(([De,We])=>({name:De,value:We,pct:We/Ut*100,fill:Fle[De]||"#94a3b8"})):[];return{assetList:Be,capList:nt,geoList:Qe,hasDetailedAlloc:se,configuredCount:it,totalFunds:U.filter(De=>De.units>0).length}},[U,y]),Ie=j.useMemo(()=>{if(!U.length)return[];const W={};return U.forEach(H=>{if(!H.fundCode&&!H.schemeCode)return;const te=(H.fundCode||H.schemeCode).toString();W[te]||(W[te]={fundCode:te,fundName:H.fundName||""})}),Object.values(W).sort((H,te)=>H.fundName.localeCompare(te.fundName))},[U]);if(t===null||r===null)return a.jsx(fi,{title:"Loading mutual funds",cards:5});const Re=B.find(W=>W.portfolioId===T),rt=T==="all"?`All Portfolios (${J.length})`:`${ed(Re?.portfolioName)}  ${D(Re?.ownerName,"name")}`;async function Nt(W){A("Saving...");try{O?.editPortfolio?await u(O.editPortfolio.portfolioId,W):await c(W),C(O?.editPortfolio?"Portfolio updated":"Portfolio created"),P(null)}catch(H){C(H.message||"Failed to save portfolio","error")}finally{k()}}async function zt(){if(O?.editPortfolio&&await M("Deactivate this portfolio?",{title:"Deactivate Portfolio",confirmLabel:"Deactivate"})){A("Deactivating...");try{await f(O.editPortfolio.portfolioId),C("Portfolio deactivated"),$("all"),P(null)}catch(W){C(W.message||"Failed to deactivate portfolio","error")}finally{k()}}}async function Ht(W){A("Recording investment...");try{await m(W,W.transactionType),C("Investment recorded"),P(null)}catch(H){C(H.message||"Failed to record investment","error")}finally{k()}}async function Xt(W){A("Recording redemption...");try{await h(W),C("Redemption recorded"),P(null)}catch(H){C(H.message||"Failed to record redemption","error")}finally{k()}}async function Zt(W){A("Recording switch...");try{await x(W),C("Switch recorded"),P(null)}catch(H){C(H.message||"Failed to record switch","error")}finally{k()}}async function ye(W){if(await M("Delete this transaction? This will recalculate your holdings.",{title:"Delete Transaction",confirmLabel:"Delete"})){A("Deleting...");try{await g(W),C("Transaction deleted"),G(null)}catch(H){C(H.message||"Failed to delete transaction","error")}finally{k()}}}async function _e(W){A("Updating...");try{await S(W),C("Transaction updated"),P(null)}catch(H){C(H.message||"Failed to update transaction","error")}finally{k()}}async function ze(W){if(O?.allocations){A("Saving allocations...");try{await v(O.allocations,W),C("Allocations updated"),P(null)}catch(H){C(H.message||"Failed to update allocations","error")}finally{k()}}}async function Mt(W){A("Saving classification...");try{await N(W),C("Fund classified"),P(null)}catch(H){C(H.message||"Failed to save classification","error")}finally{k()}}return a.jsxs("div",{className:"space-y-4",children:[J.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(cp,{size:32,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No mutual fund portfolios yet"}),a.jsx("button",{onClick:()=>P("addPortfolio"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first portfolio"})]}):a.jsxs(a.Fragment,{children:[!we&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[a.jsxs("div",{className:"relative w-full sm:w-auto",children:[a.jsxs("button",{onClick:()=>Z(!E),className:"flex items-center gap-2 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm font-semibold text-[var(--text-primary)] hover:border-[var(--border-light)] transition-colors w-full sm:min-w-[220px]",children:[a.jsx(cp,{size:14,className:"text-violet-400 shrink-0"}),a.jsx("span",{className:"truncate",children:rt}),a.jsx(Gl,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${E?"rotate-180":""}`})]}),E&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>Z(!1)}),a.jsxs("div",{className:"absolute left-0 right-0 sm:right-auto top-full mt-1 z-40 bg-[var(--bg-dropdown)] border border-white/10 rounded-lg shadow-2xl sm:min-w-[300px] py-1 overflow-hidden",children:[a.jsxs("button",{onClick:()=>{$("all"),Z(!1),q("holdings")},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${T==="all"?"bg-[var(--sidebar-active-bg)] text-[var(--text-primary)] font-semibold":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:["All Portfolios (",J.length,")"]}),a.jsx("div",{className:"border-t border-[var(--border-light)]"}),B.map(W=>{const H=W.totalPL>=0,te=oe[W.portfolioId]||{};return a.jsx("button",{onClick:()=>{$(W.portfolioId),Z(!1),q("holdings")},className:`w-full text-left px-4 py-2.5 transition-colors ${T===W.portfolioId?"bg-[var(--sidebar-active-bg)]":"hover:bg-[var(--bg-hover)]"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("p",{className:`text-sm ${T===W.portfolioId?"font-semibold text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:ed(W.portfolioName)}),te.buyOpp>0&&a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 shrink-0",title:`${te.buyOpp} buy opportunities`}),te.rebalance>0&&a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-400 shrink-0",title:`${te.rebalance} funds need rebalancing`})]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[D(W.ownerName,"name"),"  ",W.platform,"  ",W.fundCount," funds"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(W.currentValue)}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${H?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[H?"+":"",W.totalPLPct.toFixed(1),"%"]})]})]})},W.portfolioId)})]})]})]}),a.jsxs("div",{className:"flex items-center gap-1.5 overflow-x-auto no-scrollbar",children:[Re&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>P({allocations:Re.portfolioId}),className:"shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(SO,{size:12})," Allocations"]}),a.jsxs("button",{onClick:()=>P({editPortfolio:Re}),className:"shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(da,{size:12})," Edit"]})]}),a.jsxs("button",{onClick:()=>P("addPortfolio"),className:"shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Qr,{size:13})," New Portfolio"]})]})]}),Re&&a.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-dim)] px-1 flex-wrap",children:[a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Platform:"})," ",Re.platform]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Client ID:"})," ",D(Re.clientId,"clientId")]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Funds:"})," ",Re.fundCount]}),Re.sipTarget>=100&&a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"SIP Target:"})," ",K(Re.sipTarget),"/mo"]}),Re.lumpsumTarget>=100&&a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Lumpsum Target:"})," ",K(Re.lumpsumTarget)]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Rebalance Threshold:"})," ",(Re.rebalanceThreshold*100).toFixed(0),"%"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[a.jsx(Qo,{label:"Invested",value:K(z.invested)}),a.jsx(Qo,{label:"Current Value",value:K(z.current),bold:!0}),a.jsx(Qo,{label:"Unrealized P&L",value:`${z.unrealizedPL>=0?"+":""}${K(z.unrealizedPL)}`,sub:`${z.unrealizedPLPct>=0?"+":""}${z.unrealizedPLPct.toFixed(1)}%`,positive:z.unrealizedPL>=0}),a.jsx(Qo,{label:"Realized P&L",value:`${z.realizedPL>=0?"+":""}${K(z.realizedPL)}`,sub:`${z.realizedPLPct>=0?"+":""}${z.realizedPLPct.toFixed(1)}%`,positive:z.realizedPL>=0}),a.jsx(Qo,{label:"Total P&L",value:`${z.totalPL>=0?"+":""}${K(z.totalPL)}`,sub:`${z.totalPLPct>=0?"+":""}${z.totalPLPct.toFixed(1)}%`,positive:z.totalPL>=0,bold:!0}),a.jsx(Qo,{label:"Monthly SIP",value:K(z.monthlySIP),sub:`${z.funds} funds`})]}),we?(()=>{const W=we,H=qE(W.belowATHPct),te=W.pl>=0,ke=B.find(se=>se.portfolioId===W.portfolioId),Ue=xe.filter(se=>se.fundCode===W.schemeCode&&se.portfolioId===W.portfolioId);return a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-2.5",children:[a.jsx("button",{onClick:()=>F(null),className:"p-1 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors mt-0.5 shrink-0",children:a.jsx(WF,{size:16})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] leading-tight",children:Le(W.fundName).main}),Le(W.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5",children:Le(W.fundName).plan})]}),ke&&a.jsxs("div",{className:"text-right shrink-0 mt-0.5",children:[a.jsx("p",{className:"text-[10px] font-semibold text-[var(--text-secondary)]",children:D(ke.ownerName,"name")}),a.jsxs("p",{className:"text-[10px] text-violet-400 bg-violet-500/10 px-2 py-0.5 rounded mt-0.5 inline-block",children:[ed(ke.portfolioName),"  ",ke.platform]})]})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-2.5 flex items-baseline justify-between",children:[a.jsx("p",{className:"text-lg font-bold text-[var(--text-primary)] tabular-nums",children:K(W.currentValue)}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${te?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[te?"+":"",K(W.pl)," (",te?"+":"",W.plPct.toFixed(1),"%)"]})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] divide-y divide-[var(--border-light)]",children:[a.jsx(Xo,{label:"Invested",value:K(W.investment)}),a.jsx(Xo,{label:"Units",value:W.units.toFixed(3)}),a.jsx(Xo,{label:"NAV (Current / Avg)",value:`${W.currentNav.toFixed(2)} / ${W.avgNav.toFixed(2)}`}),a.jsx(Xo,{label:"Allocation (Current / Target)",value:`${W.currentAllocationPct.toFixed(1)}% / ${W.targetAllocationPct.toFixed(1)}%`}),W.athNav>0&&a.jsx(Xo,{label:"ATH",value:W.belowATHPct>0?`${W.belowATHPct.toFixed(1)}% (${W.athNav.toFixed(0)})`:"At All-Time High",valueStyle:W.belowATHPct>0?H:{color:"#34d399"}}),W.ongoingSIP>0&&a.jsx(Xo,{label:"Monthly SIP",value:K(W.ongoingSIP),valueClass:"text-blue-400"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>P({invest:{portfolioId:W.portfolioId,fundCode:W.schemeCode,fundName:W.fundName}}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-emerald-400 bg-[var(--bg-card)] border border-[var(--border)] hover:bg-emerald-500/10 rounded-lg transition-colors",children:[a.jsx(Qr,{size:14})," Invest"]}),a.jsxs("button",{onClick:()=>P({redeem:{portfolioId:W.portfolioId,fundCode:W.schemeCode}}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-rose-400 bg-[var(--bg-card)] border border-[var(--border)] hover:bg-rose-500/10 rounded-lg transition-colors",children:[a.jsx(UC,{size:14})," Redeem"]}),a.jsxs("button",{onClick:()=>P({switchFunds:W.portfolioId}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-amber-400 bg-[var(--bg-card)] border border-[var(--border)] hover:bg-amber-500/10 rounded-lg transition-colors",children:[a.jsx(eg,{size:14})," Switch"]})]}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-dim)] px-1 mb-2",children:["Transactions (",Ue.length,")"]}),Ue.length>0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"NAV"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Gain/Loss"}),a.jsx("th",{className:"w-8"})]})}),a.jsx("tbody",{children:Ue.map((se,it)=>{const Ye=se.type==="BUY",Be=!Ye&&se.gainLoss!=null&&se.gainLoss!==0,Je=Be&&se.gainLoss>=0,nt={INITIAL:{bg:"bg-purple-500/15",text:"text-purple-400"},SIP:{bg:"bg-blue-500/15",text:"text-blue-400"},LUMPSUM:{bg:"bg-emerald-500/15",text:"text-emerald-400"},WITHDRAWAL:{bg:"bg-rose-500/15",text:"text-[var(--accent-rose)]"},SWITCH:{bg:"bg-amber-500/15",text:"text-amber-400"}}[se.transactionType]||{bg:"bg-gray-500/15",text:"text-[var(--text-muted)]"};return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:se.date}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${Ye?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:se.type}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${nt.bg} ${nt.text}`,children:se.transactionType})]})}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:se.units.toFixed(2)}),a.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:["",se.price.toFixed(2)]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(se.totalAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:Be?a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${Je?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Je?"+":"",K(se.gainLoss)]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),a.jsx("td",{className:"py-2.5 px-1",children:a.jsx(Km,{txn:se,isOpen:R===se.transactionId,onToggle:()=>G(R===se.transactionId?null:se.transactionId),onEdit:()=>{G(null),P({editTxn:se})},onDelete:()=>{G(null),ye(se.transactionId)}})})]},se.transactionId||`fd-txn-${it}`)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:Ue.map((se,it)=>{const Ye=se.type==="BUY",Be=!Ye&&se.gainLoss!=null&&se.gainLoss!==0,Je=Be&&se.gainLoss>=0;return a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${Ye?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:se.type}),a.jsx("span",{className:"text-xs font-semibold text-[var(--text-dim)]",children:se.transactionType})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:se.date}),a.jsx(Km,{txn:se,isOpen:R===se.transactionId,onToggle:()=>G(R===se.transactionId?null:se.transactionId),onEdit:()=>{G(null),P({editTxn:se})},onDelete:()=>{G(null),ye(se.transactionId)}})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsxs("p",{className:"text-[var(--text-dim)]",children:[se.units.toFixed(2)," units @ ",se.price.toFixed(2)]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(se.totalAmount)}),Be&&a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Je?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["G/L: ",Je?"+":"",K(se.gainLoss)]})]})]}),se.notes&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:se.notes})]},se.transactionId||`fd-txn-m-${it}`)})})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-8 flex flex-col items-center gap-2",children:[a.jsx(od,{size:24,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"No transactions yet"})]})]})]})})():a.jsxs(a.Fragment,{children:[$e&&$e.assetList.length>0&&a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsxs("button",{onClick:()=>je(W=>!W),className:"w-full flex items-center justify-between px-4 py-2.5 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("span",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Portfolio Breakdown"}),a.jsx(Gl,{size:14,className:`text-[var(--text-dim)] transition-transform duration-200 ${pe?"rotate-180":""}`})]}),pe&&a.jsxs("div",{className:"px-4 pb-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(ey,{title:"Asset Class",data:$e.assetList,bgMap:zle}),$e.capList.length>0?a.jsx(ey,{title:"Market Cap",data:$e.capList,bgMap:Ble}):a.jsx("div",{className:"flex items-center justify-center rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)] p-4",children:a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)] text-center",children:["Classify funds for",a.jsx("br",{}),"market cap breakdown"]})}),$e.geoList?.length>0?a.jsx(ey,{title:"Geography",data:$e.geoList,bgMap:$le}):a.jsx("div",{className:"flex items-center justify-center rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)] p-4",children:a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)] text-center",children:["Classify funds for",a.jsx("br",{}),"geography breakdown"]})})]}),!$e.hasDetailedAlloc&&a.jsx("p",{className:"text-[9px] text-[var(--text-dim)]/50 mt-2 text-center",children:"Based on fund category. Go to Fund Breakdown tab to add detailed data from Morningstar."}),$e.hasDetailedAlloc&&$e.configuredCount<$e.totalFunds&&a.jsxs("p",{className:"text-[9px] text-amber-400/70 mt-2 text-center",children:[$e.totalFunds-$e.configuredCount," of ",$e.totalFunds," funds not yet classified"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto no-scrollbar",children:[a.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5 shrink-0",children:[a.jsxs("button",{onClick:()=>q("holdings"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors whitespace-nowrap ${L==="holdings"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(bO,{size:12})," Holdings (",U.length,")"]}),a.jsxs("button",{onClick:()=>q("transactions"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors whitespace-nowrap ${L==="transactions"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(od,{size:12})," All Transactions (",xe.length,")"]}),a.jsxs("button",{onClick:()=>q("breakdown"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors whitespace-nowrap ${L==="breakdown"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(HC,{size:12})," Fund Breakdown (",Ie.length,")"]})]}),a.jsxs("div",{className:"flex items-center gap-1.5 ml-auto shrink-0",children:[a.jsxs("button",{onClick:()=>T!=="all"&&P({invest:T}),disabled:T==="all",className:`shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium rounded-lg border transition-colors ${T==="all"?"border-[var(--border)] text-[var(--text-dim)] cursor-not-allowed opacity-50 bg-[var(--bg-card)]":"text-emerald-400 hover:text-emerald-300 bg-[var(--bg-card)] border-[var(--border)] hover:bg-[var(--bg-hover)]"}`,children:[a.jsx(fc,{size:12})," Invest"]}),a.jsxs("button",{onClick:()=>T!=="all"&&U.length>0&&P({redeem:T}),disabled:T==="all"||U.length===0,className:`shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium rounded-lg border transition-colors ${T==="all"||U.length===0?"border-[var(--border)] text-[var(--text-dim)] cursor-not-allowed opacity-50 bg-[var(--bg-card)]":"text-rose-400 hover:text-rose-300 bg-[var(--bg-card)] border-[var(--border)] hover:bg-[var(--bg-hover)]"}`,children:[a.jsx(fO,{size:12})," Redeem"]}),a.jsxs("button",{onClick:()=>T!=="all"&&U.length>0&&P({switchFunds:T}),disabled:T==="all"||U.length===0,className:`shrink-0 flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium rounded-lg border transition-colors ${T==="all"||U.length===0?"border-[var(--border)] text-[var(--text-dim)] cursor-not-allowed opacity-50 bg-[var(--bg-card)]":"text-amber-400 hover:text-amber-300 bg-[var(--bg-card)] border-[var(--border)] hover:bg-[var(--bg-hover)]"}`,children:[a.jsx(eg,{size:12})," Switch"]})]})]}),L==="holdings"&&a.jsx(a.Fragment,{children:U.length>0?a.jsx("div",{className:T==="all"?"space-y-4":"",children:(T==="all"?Ce:[{portfolioId:T,holdings:Ee}]).map(W=>{const H=B.find(se=>se.portfolioId===W.portfolioId),te=W.holdings,ke=te.reduce((se,it)=>se+it.pl,0),Ue=ke>=0;return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[T==="all"&&H&&a.jsxs("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:ed(H.portfolioName)}),a.jsxs("div",{className:"flex items-center gap-3 text-xs tabular-nums",children:[a.jsx("span",{className:"text-[var(--text-muted)]",children:K(H.currentValue||0)}),a.jsxs("span",{className:`font-bold ${Ue?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Ue?"+":"",K(ke)]})]})]}),a.jsxs("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5",children:[D(H.ownerName,"name"),"  ",te.filter(se=>se.units>0).length," funds"]})]}),a.jsx("div",{className:"hidden lg:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:`border-b border-[var(--border-light)] ${T!=="all"?"bg-[var(--bg-inset)]":""}`,children:[a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Fund Name"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),a.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"NAV"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Avg"})]}),a.jsxs("th",{className:"text-center py-2 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"ATH"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Below Peak"})]}),a.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"Allocation %"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Target"})]}),a.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"Amount"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Invested"})]}),a.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"P&L"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"on Holdings"})]}),a.jsx("th",{className:"py-2 px-2 w-8"})]})}),a.jsx("tbody",{children:te.map(se=>{const it=qE(se.belowATHPct),Ye=se.units===0,Be=B.find(We=>We.portfolioId===se.portfolioId),Je=Be?.currentValue||0,nt=se.pl,Ut=nt>=0,Qe=Ye&&se.targetAllocationPct>0&&se.targetAllocationPct<100&&Je>0?se.targetAllocationPct/(100-se.targetAllocationPct)*Je:0,De=Ye&&se.targetAllocationPct>0&&Be?.sipTarget>=100?se.targetAllocationPct/100*Be.sipTarget:0;return a.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 transition-colors ${Ye?"opacity-60":"hover:bg-[var(--bg-hover)]"}`,children:[a.jsx("td",{className:"py-3.5 px-3 max-w-[240px]",children:a.jsxs("div",{children:[a.jsxs("button",{onClick:We=>{We.stopPropagation(),Ye||F(se)},className:`text-xs leading-tight text-left ${Ye?"text-[var(--text-secondary)] cursor-default":"text-[var(--text-secondary)] hover:text-violet-400 transition-colors cursor-pointer"}`,children:[Le(se.fundName).main,Ye&&a.jsx("span",{className:"ml-1.5 text-xs font-semibold text-violet-400 bg-violet-500/15 px-1.5 py-0.5 rounded",children:"Planned"}),Le(se.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] font-normal mt-0.5",children:Le(se.fundName).plan})]}),Ye&&(Qe>0||De>0)&&a.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[Qe>0&&a.jsxs("span",{className:"text-xs text-emerald-400 font-semibold",children:["Buy ",K(Qe)]}),De>0&&a.jsxs("span",{className:"text-xs text-blue-400 font-semibold",children:["SIP ",K(De),"/mo"]})]})]})}),a.jsx("td",{className:"py-3.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:Ye?"":se.units.toFixed(2)}),a.jsx("td",{className:"py-3.5 px-3 text-right",children:Ye?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:["",se.currentNav.toFixed(2)]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums mt-0.5",children:["",se.avgNav.toFixed(2)]})]})}),a.jsx("td",{className:"py-3.5 px-2 text-center",children:Ye?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):se.athNav>0&&se.belowATHPct>0?a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-bold tabular-nums",style:it,children:["",se.belowATHPct.toFixed(1),"%"]}),a.jsxs("p",{className:"text-[11px] text-[var(--text-muted)] tabular-nums mt-0.5",children:["",se.athNav.toFixed(0)]})]}):se.athNav>0?a.jsx("span",{className:"text-[10px] text-emerald-400/70 font-semibold",children:"AT HIGH"}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),a.jsx("td",{className:"py-3.5 px-3 text-right",children:Ye?a.jsxs("p",{className:"text-xs font-semibold text-violet-400 tabular-nums",children:[se.targetAllocationPct.toFixed(1),"%"]}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:[se.currentAllocationPct.toFixed(1),"%"]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums mt-0.5",children:[se.targetAllocationPct.toFixed(1),"%"]})]})}),a.jsx("td",{className:"py-3.5 px-3 text-right",children:Ye?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(se.currentValue)}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums mt-0.5",children:K(se.investment)})]})}),a.jsx("td",{className:"py-3.5 px-3 text-right",children:Ye?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Ut?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Ut?"+":"",K(nt)]}),a.jsxs("p",{className:`text-xs font-bold tabular-nums mt-0.5 ${Ut?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Ut?"+":"",se.plPct.toFixed(1),"%"]})]})}),a.jsx("td",{className:"py-3.5 px-2 text-center",children:a.jsxs("div",{className:"flex items-center gap-0.5 justify-center",children:[a.jsx("button",{onClick:We=>{We.stopPropagation(),P({invest:{portfolioId:se.portfolioId,fundCode:se.schemeCode,fundName:se.fundName}})},className:"w-6 h-6 flex items-center justify-center rounded-full bg-emerald-500/15 text-emerald-400 hover:bg-emerald-500/25 transition-colors",title:"Buy / Invest",children:a.jsx(Qr,{size:14,strokeWidth:2.5})}),!Ye&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:We=>{We.stopPropagation(),P({redeem:{portfolioId:se.portfolioId,fundCode:se.schemeCode}})},className:"w-6 h-6 flex items-center justify-center rounded-full bg-rose-500/15 text-rose-400 hover:bg-rose-500/25 transition-colors",title:"Sell / Redeem",children:a.jsx(UC,{size:14,strokeWidth:2.5})}),a.jsx("button",{onClick:We=>{We.stopPropagation(),P({switchFunds:se.portfolioId})},className:"w-6 h-6 flex items-center justify-center rounded-full bg-amber-500/15 text-amber-400 hover:bg-amber-500/25 transition-colors",title:"Switch Fund",children:a.jsx(eg,{size:14,strokeWidth:2.5})})]})]})})]},se._key)})})]})}),a.jsx("div",{className:"lg:hidden space-y-2 p-3",children:te.map(se=>{const it=se.units===0,Ye=se.pl>=0,Je=B.find(Ut=>Ut.portfolioId===se.portfolioId)?.currentValue||0,nt=it&&se.targetAllocationPct>0&&se.targetAllocationPct<100&&Je>0?se.targetAllocationPct/(100-se.targetAllocationPct)*Je:0;return it?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3 opacity-60",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-[11px] text-[var(--text-primary)] leading-tight",children:Le(se.fundName).main}),Le(se.fundName).plan&&a.jsx("p",{className:"text-[9px] text-[var(--text-dim)]",children:Le(se.fundName).plan})]}),a.jsx("span",{className:"text-[10px] font-semibold text-violet-400 bg-violet-500/15 px-1.5 py-0.5 rounded shrink-0",children:"Planned"})]}),a.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[a.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:["Target ",se.targetAllocationPct.toFixed(1),"%"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[nt>0&&a.jsx("span",{className:"text-xs text-emerald-400 font-semibold",children:K(nt)}),a.jsxs("button",{onClick:()=>P({invest:{portfolioId:se.portfolioId,fundCode:se.schemeCode,fundName:se.fundName}}),className:"flex items-center gap-1 text-[10px] font-semibold text-emerald-400 px-2 py-0.5 rounded bg-emerald-500/10",children:[a.jsx(Qr,{size:10,strokeWidth:2.5})," Buy"]})]})]})]},se._key):a.jsxs("button",{onClick:()=>F(se),className:"w-full bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3 text-left hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-[11px] font-medium text-[var(--text-primary)] leading-tight",children:Le(se.fundName).main}),Le(se.fundName).plan&&a.jsx("p",{className:"text-[9px] text-[var(--text-dim)]",children:Le(se.fundName).plan})]}),a.jsxs("div",{className:"text-right shrink-0",children:[a.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums",children:K(se.currentValue)}),a.jsxs("p",{className:`text-[11px] font-semibold tabular-nums ${Ye?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Ye?"+":"",K(se.pl)," (",Ye?"+":"",se.plPct.toFixed(1),"%)"]})]})]}),a.jsxs("div",{className:"flex items-center justify-between mt-1.5 text-[11px] tabular-nums",children:[a.jsxs("span",{className:"text-[var(--text-dim)]",children:["Invested ",K(se.investment)]}),a.jsx(yn,{size:12,className:"text-[var(--text-dim)]"})]})]},se._key)})})]},W.portfolioId)})}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(cp,{size:28,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No holdings",Re?" in this portfolio":""]}),a.jsx("button",{onClick:()=>P({invest:T!=="all"?T:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Add your first fund"})]})}),L==="transactions"&&a.jsxs(a.Fragment,{children:[Ne.length>1&&a.jsxs("div",{className:"flex items-center gap-2 px-1",children:[a.jsx(xO,{size:12,className:"text-[var(--text-dim)]"}),a.jsxs("select",{value:Q,onChange:W=>re(W.target.value),className:"text-xs bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg px-3 py-1.5 max-w-[350px] truncate",children:[a.jsxs("option",{value:"all",children:["All Funds (",xe.length,")"]}),Ne.map(W=>a.jsxs("option",{value:W,children:[W," (",xe.filter(H=>H.fundName===W).length,")"]},W))]}),Q!=="all"&&a.jsx("button",{onClick:()=>re("all"),className:"text-xs text-[var(--text-dim)] hover:text-[var(--text-muted)] underline",children:"Clear"})]}),ne.length>0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Fund"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"NAV"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Gain/Loss"}),a.jsx("th",{className:"w-8"})]})}),a.jsx("tbody",{children:ne.map((W,H)=>{const te=W.type==="BUY",ke=!te&&W.gainLoss!=null&&W.gainLoss!==0,Ue=ke&&W.gainLoss>=0,se=T==="all"?B.find(Ye=>Ye.portfolioId===W.portfolioId):null,it={INITIAL:{bg:"bg-purple-500/15",text:"text-purple-400"},SIP:{bg:"bg-blue-500/15",text:"text-blue-400"},LUMPSUM:{bg:"bg-emerald-500/15",text:"text-emerald-400"},WITHDRAWAL:{bg:"bg-rose-500/15",text:"text-[var(--accent-rose)]"},SWITCH:{bg:"bg-amber-500/15",text:"text-amber-400"}}[W.transactionType]||{bg:"bg-gray-500/15",text:"text-[var(--text-muted)]"};return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:W.date}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${te?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:W.type}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${it.bg} ${it.text}`,children:W.transactionType})]})}),a.jsxs("td",{className:"py-2.5 px-3",children:[a.jsxs("div",{className:"max-w-[200px]",children:[a.jsx("p",{className:"text-xs text-[var(--text-primary)] truncate",children:Le(W.fundName).main}),Le(W.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(W.fundName).plan})]}),se&&a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:ed(se.portfolioName)})]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:W.units.toFixed(2)}),a.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:["",W.price.toFixed(2)]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(W.totalAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:ke?a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${Ue?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Ue?"+":"",K(W.gainLoss)]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),a.jsx("td",{className:"py-2.5 px-1",children:a.jsx(Km,{txn:W,isOpen:R===W.transactionId,onToggle:()=>G(R===W.transactionId?null:W.transactionId),onEdit:()=>{G(null),P({editTxn:W})},onDelete:()=>{G(null),ye(W.transactionId)}})})]},W.transactionId||`txn-${H}`)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:ne.map((W,H)=>{const te=W.type==="BUY",ke=!te&&W.gainLoss!=null&&W.gainLoss!==0,Ue=ke&&W.gainLoss>=0;return a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${te?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:W.type}),a.jsx("span",{className:"text-xs font-semibold text-[var(--text-dim)]",children:W.transactionType})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:W.date}),a.jsx(Km,{txn:W,isOpen:R===W.transactionId,onToggle:()=>G(R===W.transactionId?null:W.transactionId),onEdit:()=>{G(null),P({editTxn:W})},onDelete:()=>{G(null),ye(W.transactionId)}})]})]}),a.jsxs("div",{className:"mb-1",children:[a.jsx("p",{className:"text-[11px] text-[var(--text-primary)] truncate",children:Le(W.fundName).main}),Le(W.fundName).plan&&a.jsx("p",{className:"text-[9px] text-[var(--text-dim)]",children:Le(W.fundName).plan})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsxs("p",{className:"text-[var(--text-dim)]",children:[W.units.toFixed(2)," units @ ",W.price.toFixed(2)]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(W.totalAmount)}),ke&&a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Ue?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["G/L: ",Ue?"+":"",K(W.gainLoss)]})]})]}),W.notes&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:W.notes})]},W.transactionId||`txn-m-${H}`)})})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(od,{size:28,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:Q!=="all"?"No transactions for this fund":"No transactions yet"}),Q!=="all"?a.jsx("button",{onClick:()=>re("all"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Show all transactions"}):a.jsx("button",{onClick:()=>P({invest:T!=="all"?T:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Make your first investment"})]})]}),L==="breakdown"&&a.jsx(a.Fragment,{children:Ie.length>0?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)] px-1",children:["Copy allocation data from ",a.jsx("span",{className:"font-semibold text-[var(--text-muted)]",children:"morningstar.in"}),"  Fund  Portfolio tab"]}),Ie.map(W=>{const H=y?.find(te=>te.fundCode===W.fundCode);return a.jsx(Vle,{fund:W,existing:H,onConfigure:()=>P({classifyFund:{fund:W,existing:H}})},W.fundCode)})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(HC,{size:28,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No funds to configure"})]})})]})]}),a.jsx(mr,{open:O==="addPortfolio"||!!O?.editPortfolio,onClose:()=>P(null),title:O?.editPortfolio?"Edit Portfolio":"New MF Portfolio",children:a.jsx($se,{initial:O?.editPortfolio||void 0,onSave:Nt,onDelete:O?.editPortfolio?zt:void 0,onCancel:()=>P(null)})}),a.jsx(mr,{open:!!O?.invest,onClose:()=>P(null),title:"Invest in Mutual Fund",wide:!0,children:a.jsx(Ele,{portfolioId:typeof O?.invest=="object"?O.invest.portfolioId:typeof O?.invest=="string"?O.invest:void 0,fundCode:typeof O?.invest=="object"?O.invest.fundCode:void 0,fundName:typeof O?.invest=="object"?O.invest.fundName:void 0,onSave:Ht,onCancel:()=>P(null)},O?.invest?.fundCode||O?.invest?.portfolioId||O?.invest)}),a.jsx(mr,{open:!!O?.redeem,onClose:()=>P(null),title:"Redeem Mutual Fund",wide:!0,children:a.jsx(_le,{portfolioId:typeof O?.redeem=="object"?O.redeem.portfolioId:typeof O?.redeem=="string"?O.redeem:void 0,fundCode:typeof O?.redeem=="object"?O.redeem.fundCode:void 0,onSave:Xt,onCancel:()=>P(null)},O?.redeem?.fundCode||O?.redeem?.portfolioId||O?.redeem)}),a.jsx(mr,{open:!!O?.switchFunds,onClose:()=>P(null),title:"Switch Funds",wide:!0,children:a.jsx(Ole,{portfolioId:typeof O?.switchFunds=="string"?O.switchFunds:void 0,onSave:Zt,onCancel:()=>P(null)})}),a.jsx(mr,{open:!!O?.allocations,onClose:()=>P(null),title:"Manage Portfolio Allocation",wide:!0,children:O?.allocations&&a.jsx(Tle,{portfolioId:O.allocations,onSave:ze,onCancel:()=>P(null)})}),a.jsx(mr,{open:O==="rebalance",onClose:()=>P(null),title:"Rebalance Alerts",wide:!0,children:O==="rebalance"&&a.jsx(OI,{})}),a.jsx(mr,{open:O==="buyOpp",onClose:()=>P(null),title:"Buy Opportunities",wide:!0,children:O==="buyOpp"&&a.jsx(V4,{})}),a.jsx(mr,{open:!!O?.editTxn,onClose:()=>P(null),title:"Edit Transaction",children:O?.editTxn&&a.jsx(Hle,{txn:O.editTxn,onSave:_e,onCancel:()=>P(null)})}),a.jsx(mr,{open:!!O?.classifyFund,onClose:()=>P(null),title:"Classify Fund",children:O?.classifyFund&&a.jsx(Ple,{fund:O.classifyFund.fund,initial:O.classifyFund.existing,onSave:Mt,onCancel:()=>P(null)})})]})}function Qo({label:e,value:t,sub:r,positive:n,bold:i}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:`text-sm tabular-nums ${i?"font-bold":"font-semibold"} ${n===void 0?"text-[var(--text-primary)]":n?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:t}),r&&a.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${n?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}function Xo({label:e,value:t,valueStyle:r,valueClass:n}){return a.jsxs("div",{className:"flex items-center justify-between px-3.5 py-2",children:[a.jsx("p",{className:"text-[11px] text-[var(--text-dim)]",children:e}),a.jsx("p",{className:`text-xs font-semibold tabular-nums ${n||"text-[var(--text-primary)]"}`,style:r,children:t})]})}function Km({txn:e,isOpen:t,onToggle:r,onEdit:n,onDelete:i}){const l=j.useRef(null),[c,u]=j.useState({top:0,right:0});if(!e.transactionId)return null;function f(m){if(m.stopPropagation(),!t&&l.current){const h=l.current.getBoundingClientRect();u({top:h.bottom+4,right:window.innerWidth-h.right})}r()}return a.jsxs(a.Fragment,{children:[a.jsx("button",{ref:l,onClick:f,className:"p-1 rounded-md text-[var(--text-dim)] hover:text-[var(--text-muted)] hover:bg-[var(--bg-hover)] transition-colors",title:"Actions",children:a.jsx(hO,{size:14})}),t&&_c.createPortal(a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{position:"fixed",inset:0,zIndex:9998},onClick:m=>{m.stopPropagation(),r()}}),a.jsxs("div",{style:{position:"fixed",top:c.top,right:c.right,zIndex:9999},className:"bg-[var(--bg-dropdown)] border border-white/10 rounded-lg shadow-2xl py-1 min-w-[120px] animate-fade-in",children:[a.jsxs("button",{onClick:m=>{m.stopPropagation(),n()},className:"w-full text-left px-3 py-2 text-xs text-[var(--text-secondary)] hover:bg-[var(--bg-hover)] hover:text-[var(--text-primary)] flex items-center gap-2 transition-colors",children:[a.jsx(da,{size:12})," Edit"]}),a.jsxs("button",{onClick:m=>{m.stopPropagation(),i()},className:"w-full text-left px-3 py-2 text-xs text-[var(--accent-rose)] hover:bg-rose-500/10 flex items-center gap-2 transition-colors",children:[a.jsx(dc,{size:12})," Delete"]})]})]}),document.body)]})}function Hle({txn:e,onSave:t,onCancel:r}){const[n,i]=j.useState(()=>{const y=f1(e.date);return y?y.toISOString().split("T")[0]:""}),[l,c]=j.useState(String(e.units||"")),[u,f]=j.useState(String(e.price||"")),[m,h]=j.useState(e.notes||""),[x,v]=j.useState(!1),g=(Number(l)||0)*(Number(u)||0);async function S(){if(!(!l||Number(l)<=0)&&!(!u||Number(u)<=0)){v(!0);try{await t({transactionId:e.transactionId,date:n,units:l,price:u,notes:m})}finally{v(!1)}}}return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:Le(e.fundName).main}),Le(e.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(e.fundName).plan}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[e.type,"  ",e.transactionType,"  ",e.transactionId]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Date"}),a.jsx(ka,{value:n,onChange:i})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Units"}),a.jsx("input",{type:"number",value:l,onChange:y=>c(y.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"NAV (price)"}),a.jsx("input",{type:"number",value:u,onChange:y=>f(y.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]})]}),g>0&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:K(g)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Notes"}),a.jsx("input",{type:"text",value:m,onChange:y=>h(y.target.value),placeholder:"Optional notes...",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-[var(--border-light)]",children:[a.jsx("button",{onClick:r,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:"Cancel"}),a.jsx("button",{onClick:S,disabled:x||!l||Number(l)<=0||!u||Number(u)<=0,className:"px-4 py-2 text-xs font-bold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Saving...":"Update Transaction"})]})]})}const HE=[{key:"Equity",bg:"bg-violet-500"},{key:"Debt",bg:"bg-sky-500"},{key:"Cash",bg:"bg-teal-400"},{key:"Commodities",bg:"bg-yellow-500"},{key:"Real Estate",bg:"bg-orange-500"},{key:"Other",bg:"bg-slate-400"}],Ule={Giant:"G",Large:"L",Mid:"M",Small:"S",Micro:"Mi"},Yle={India:"IN",Global:"GL"};function Vle({fund:e,existing:t,onConfigure:r}){const n=t?.assetAllocation&&Object.keys(t.assetAllocation).length>0,i=t?.equityAllocation&&Object.keys(t.equityAllocation).length>0,l=t?.geoAllocation&&Object.keys(t.geoAllocation).length>0;return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate",children:Le(e.fundName).main}),Le(e.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(e.fundName).plan})]}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] tabular-nums mt-0.5",children:e.fundCode})]}),a.jsx("button",{onClick:r,className:"p-1.5 rounded-lg text-[var(--text-dim)] hover:text-violet-400 hover:bg-violet-500/10 transition-colors shrink-0 ml-3",title:"Classify fund",children:a.jsx(SO,{size:14})})]}),n?a.jsxs("div",{className:"px-4 pb-3",children:[a.jsx("div",{className:"h-2 rounded-full overflow-hidden bg-[var(--bg-inset)] flex mb-1.5",children:HE.map(({key:c,bg:u})=>{const f=t.assetAllocation[c]||0;return f>0?a.jsx("div",{className:`h-full ${u}`,style:{width:`${f}%`}},c):null})}),a.jsxs("div",{className:"flex flex-wrap gap-x-3 gap-y-0.5",children:[HE.map(({key:c,bg:u})=>{const f=t.assetAllocation[c]||0;return f>0?a.jsxs("span",{className:"flex items-center gap-1 text-[11px] text-[var(--text-muted)] tabular-nums",children:[a.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${u}`}),f,"% ",c]},c):null}),i&&a.jsxs("span",{className:"text-[11px] text-[var(--text-dim)] tabular-nums ml-1",children:["| ",Object.entries(Ule).map(([c,u])=>{const f=t.equityAllocation[c]||0;return f>0?`${u}${f}`:""}).filter(Boolean).join(" ")]}),l&&a.jsxs("span",{className:"text-[11px] text-[var(--text-dim)] tabular-nums ml-1",children:["| ",Object.entries(Yle).map(([c,u])=>{const f=t.geoAllocation[c]||0;return f>0?`${u}${f}`:""}).filter(Boolean).join(" ")]})]})]}):a.jsxs("div",{className:"px-4 pb-3",children:[a.jsx("div",{className:"h-2 rounded-full bg-[var(--bg-inset)] mb-1"}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] italic",children:"Not configured  click  to classify"})]})]})}function ey({title:e,data:t,bgMap:r}){return a.jsxs("div",{className:"rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)] p-3",children:[a.jsx("p",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider mb-2 text-center",children:e}),a.jsx("div",{className:"w-full h-[120px]",children:a.jsx(U1,{width:"100%",height:"100%",children:a.jsxs(pN,{children:[a.jsx(Sx,{data:t,dataKey:"pct",nameKey:"name",cx:"50%",cy:"50%",innerRadius:30,outerRadius:48,paddingAngle:2,stroke:"none",children:t.map((n,i)=>a.jsx(Hc,{fill:n.fill},i))}),a.jsx(lN,{content:({payload:n})=>{if(!n?.length)return null;const i=n[0].payload;return a.jsxs("div",{className:"bg-[var(--bg-dropdown)] border border-white/10 rounded-lg px-2.5 py-1.5 shadow-xl",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:i.name}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:[i.pct.toFixed(1),"%"]})]})}})]})})}),a.jsx("div",{className:"flex flex-wrap justify-center gap-x-3 gap-y-0.5 mt-1",children:t.map(n=>a.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-[var(--text-muted)] tabular-nums",children:[a.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${r[n.name]||"bg-slate-500"}`}),n.name," ",n.pct.toFixed(0),"%"]},n.name))})]})}function Gle({initial:e,onSave:t,onDelete:r,onCancel:n}){const{activeMembers:i,activeInvestmentAccounts:l}=ht(),c=!!e,[u,f]=j.useState({portfolioName:e?.portfolioName||"",ownerId:e?.ownerId||"",investmentAccountId:e?.investmentAccountId||""}),[m,h]=j.useState({}),[x,v]=j.useState(!1);function g(k,M){f(D=>({...D,[k]:M})),h(D=>({...D,[k]:void 0}))}function S(k){f(M=>({...M,ownerId:k,investmentAccountId:""})),h(M=>({...M,ownerId:void 0}))}const y=j.useMemo(()=>u.ownerId?l.filter(k=>k.memberId===u.ownerId&&(k.accountType==="Demat + Trading"||k.accountType==="Trading")).map(k=>({value:k.accountId,label:`${k.accountName} - ${k.platformBroker}`})):[],[l,u.ownerId]);function N(){const k={};return u.portfolioName.trim()||(k.portfolioName="Required"),u.ownerId||(k.ownerId="Required"),u.investmentAccountId||(k.investmentAccountId="Required"),h(k),Object.keys(k).length===0}async function C(){if(N()){v(!0);try{await t(u)}finally{v(!1)}}}const A=i.map(k=>({value:k.memberId,label:`${k.memberName} (${k.relationship})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(me,{label:"Portfolio Name",required:!0,error:m.portfolioName,children:a.jsx(Pe,{value:u.portfolioName,onChange:k=>g("portfolioName",k),placeholder:"e.g., Long-Term Growth"})}),a.jsx(me,{label:"Owner",required:!0,error:m.ownerId,children:a.jsx(tt,{value:u.ownerId,onChange:S,options:A,placeholder:"Select family member..."})}),a.jsx(me,{label:"Investment Account",required:!0,error:m.investmentAccountId,children:a.jsx(tt,{value:u.investmentAccountId,onChange:k=>g("investmentAccountId",k),options:y,placeholder:u.ownerId?y.length?"Select demat account...":"No demat accounts for this member":"Select owner first..."})}),c&&r&&a.jsx(is,{onClick:r}),a.jsx(un,{onCancel:n,onSubmit:C,submitLabel:c?"Update":"Create Portfolio",loading:x})]})}let va=null,td=null;function Wle(e){if(!e)return!1;const t=new Date(e),r=new Date;return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()&&t.getDate()===r.getDate()}function Kle(){return va?Promise.resolve(va):td||(td=rO("stocksList").then(e=>e&&Array.isArray(e.data)&&Wle(e.updatedAt)?(va=e.data,va):oF().then(t=>(va=Array.isArray(t)?t:[],an("stocksList",va),va))).catch(()=>(td=null,[])),td)}function Qle({value:e,onSelect:t,placeholder:r,disabled:n}){const[i,l]=j.useState(""),[c,u]=j.useState(va||[]),[f,m]=j.useState(!va),[h,x]=j.useState(!1),[v,g]=j.useState(!1),S=j.useRef(null);j.useEffect(()=>{if(va){u(va),m(!1);return}Kle().then(M=>{u(M),m(!1)})},[]),j.useEffect(()=>{function M(D){S.current&&!S.current.contains(D.target)&&x(!1)}return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[]);const y=j.useMemo(()=>c.length?new oo(c,{keys:[{name:"symbol",weight:2},{name:"companyName",weight:1}],threshold:.3,distance:80,minMatchCharLength:1,includeScore:!0,ignoreLocation:!1,findAllMatches:!0}):null,[c]),N=j.useMemo(()=>!y||i.length<1?[]:y.search(i).slice(0,50).map(M=>M.item),[y,i]);function C(M){l(M),x(M.length>=1)}function A(M){t({symbol:M.symbol,companyName:M.companyName,exchange:M.exchange,sector:M.sector}),l(""),x(!1),g(!0),cF(M.symbol).then(D=>{D?.price>0&&t({symbol:M.symbol,companyName:M.companyName,exchange:M.exchange,sector:M.sector,price:D.price})}).catch(()=>{}).finally(()=>g(!1))}function k(){t({symbol:"",companyName:""}),l("")}return e?.symbol?a.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg px-3 py-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:[a.jsx("span",{className:"font-bold",children:e.symbol}),"  ",e.companyName]}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.sector&&a.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:e.sector}),v&&a.jsx(uc,{size:10,className:"text-violet-400 animate-spin"}),!v&&e.price>0&&a.jsxs("span",{className:"text-[10px] font-semibold text-emerald-400 tabular-nums",children:["CMP: ",e.price.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),a.jsx("button",{type:"button",onClick:k,className:"shrink-0 p-1 rounded-md hover:bg-[var(--bg-hover)] text-[var(--text-dim)] hover:text-[var(--text-secondary)] transition-colors",children:a.jsx(ai,{size:14})})]}):a.jsxs("div",{ref:S,className:"relative",children:[a.jsxs("div",{className:"relative",children:[f?a.jsx(uc,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-violet-400 animate-spin"}):a.jsx(k1,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)]"}),a.jsx("input",{type:"text",value:i,onChange:M=>C(M.target.value),onFocus:()=>i.length>=1&&x(!0),placeholder:f?"Loading stocks...":r||"Search stock symbol or name...",disabled:n||f,className:"w-full bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg pl-9 pr-3 py-2 text-sm text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-violet-500/50 disabled:opacity-50 transition-colors"})]}),h&&N.length>0&&a.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl max-h-[240px] overflow-y-auto",children:N.map(M=>a.jsxs("button",{type:"button",onClick:()=>A(M),className:"w-full text-left px-3 py-2.5 hover:bg-[var(--bg-hover)] transition-colors border-b border-[var(--border-light)] last:border-0",children:[a.jsxs("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:[a.jsx("span",{className:"font-bold",children:M.symbol}),"  ",M.companyName]}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[M.sector&&a.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:M.sector}),M.industry&&a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:[" ",M.industry]})]})]},M.symbol))}),h&&i.length>=1&&N.length===0&&!f&&a.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl p-4 text-center",children:a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:['No stocks found for "',i,'"']})})]})}function Xle({portfolioId:e,onSave:t,onCancel:r}){const{stockPortfolios:n}=ht(),{selectedMember:i}=Br(),l=j.useMemo(()=>{const A=n.filter(k=>k.status==="Active");return i==="all"?A:A.filter(k=>k.ownerId===i)},[n,i]),[c,u]=j.useState({portfolioId:e||"",symbol:"",companyName:"",exchange:"NSE",date:new Date().toISOString().split("T")[0],quantity:"",pricePerShare:"",brokerage:"0",notes:""}),[f,m]=j.useState({}),[h,x]=j.useState(!1);function v(A,k){u(M=>({...M,[A]:k})),m(M=>({...M,[A]:void 0}))}const g=j.useMemo(()=>{const A=Number(c.quantity)||0,k=Number(c.pricePerShare)||0;return A*k},[c.quantity,c.pricePerShare]),S=j.useMemo(()=>g+(Number(c.brokerage)||0),[g,c.brokerage]);function y(){const A={};return c.portfolioId||(A.portfolioId="Required"),c.symbol.trim()||(A.symbol="Required"),c.companyName.trim()||(A.companyName="Required"),c.date||(A.date="Required"),(!c.quantity||Number(c.quantity)<=0)&&(A.quantity="Must be > 0"),(!c.pricePerShare||Number(c.pricePerShare)<=0)&&(A.pricePerShare="Must be > 0"),m(A),Object.keys(A).length===0}async function N(){if(y()){x(!0);try{await t(c)}finally{x(!1)}}}const C=l.map(A=>{const k=A.portfolioName?.replace(/^PFL-/,"")||A.portfolioName,M=A.ownerName?`${k} (${A.ownerName})`:k;return{value:A.portfolioId,label:M}});return a.jsxs("div",{className:"space-y-4",children:[a.jsx(me,{label:"Portfolio",required:!0,error:f.portfolioId,children:a.jsx(tt,{value:c.portfolioId,onChange:A=>v("portfolioId",A),options:C,placeholder:"Select portfolio..."})}),a.jsx(me,{label:"Stock",required:!0,error:f.symbol,children:a.jsx(Qle,{value:c.symbol?{symbol:c.symbol,companyName:c.companyName,sector:c.sector,price:c.currentPrice}:null,onSelect:A=>{u(k=>({...k,symbol:A.symbol||"",companyName:A.companyName||"",sector:A.sector||"",currentPrice:A.price||k.currentPrice||0})),m(k=>({...k,symbol:void 0,companyName:void 0}))},placeholder:"Search by symbol or company name..."})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(me,{label:"Purchase Date",required:!0,error:f.date,children:a.jsx(ka,{value:c.date,onChange:A=>v("date",A)})}),a.jsx(me,{label:"Quantity (Shares)",required:!0,error:f.quantity,children:a.jsx(Pe,{type:"number",value:c.quantity,onChange:A=>v("quantity",A),placeholder:"e.g., 100"})}),a.jsx(me,{label:"Price per Share ()",required:!0,error:f.pricePerShare,children:a.jsx(Pe,{type:"number",value:c.pricePerShare,onChange:A=>v("pricePerShare",A),placeholder:"e.g., 2500"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Brokerage ()",children:a.jsx(Pe,{type:"number",value:c.brokerage,onChange:A=>v("brokerage",A),placeholder:"0"})}),a.jsx("div",{className:"flex flex-col justify-end",children:a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:K(g)}),Number(c.brokerage)>0&&a.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:["Net: ",K(S)]})]})})]}),a.jsx(me,{label:"Notes",children:a.jsx(Pe,{value:c.notes,onChange:A=>v("notes",A),placeholder:"Optional notes..."})}),a.jsx(un,{onCancel:r,onSubmit:N,submitLabel:"Buy Stock",loading:h})]})}function Zle({portfolioId:e,onSave:t,onCancel:r}){const{stockPortfolios:n,stockHoldings:i}=ht(),{selectedMember:l}=Br(),c=j.useMemo(()=>{const $=n.filter(L=>L.status==="Active");return l==="all"?$:$.filter(L=>L.ownerId===l)},[n,l]),[u,f]=j.useState({portfolioId:e||"",symbol:"",companyName:"",date:new Date().toISOString().split("T")[0],quantity:"",pricePerShare:"",brokerage:"0",notes:""}),[m,h]=j.useState({}),[x,v]=j.useState(!1);function g($,L){f(q=>({...q,[$]:L})),h(q=>({...q,[$]:void 0}))}const S=j.useMemo(()=>u.portfolioId?i.filter($=>$.portfolioId===u.portfolioId&&$.quantity>0):[],[i,u.portfolioId]),y=S.find($=>$.symbol===u.symbol),N=y?.quantity||0,C=j.useMemo(()=>{const $=Number(u.quantity)||0,L=Number(u.pricePerShare)||0;return $*L},[u.quantity,u.pricePerShare]),A=j.useMemo(()=>C-(Number(u.brokerage)||0),[C,u.brokerage]);function k($){const L=S.find(q=>q.symbol===$);f(q=>({...q,symbol:$,companyName:L?.companyName||""})),h(q=>({...q,symbol:void 0}))}function M($){f(L=>({...L,portfolioId:$,symbol:"",companyName:"",quantity:""})),h(L=>({...L,portfolioId:void 0}))}function D(){const $={};return u.portfolioId||($.portfolioId="Required"),u.symbol||($.symbol="Required"),u.date||($.date="Required"),(!u.quantity||Number(u.quantity)<=0)&&($.quantity="Must be > 0"),Number(u.quantity)>N&&($.quantity=`Max ${N} shares`),(!u.pricePerShare||Number(u.pricePerShare)<=0)&&($.pricePerShare="Must be > 0"),h($),Object.keys($).length===0}async function O(){if(D()){v(!0);try{await t(u)}finally{v(!1)}}}const P=c.map($=>{const L=$.portfolioName?.replace(/^PFL-/,"")||$.portfolioName,q=$.ownerName?`${L} (${$.ownerName})`:L;return{value:$.portfolioId,label:q}}),T=S.map($=>({value:$.symbol,label:`${$.symbol}  ${$.quantity} shares`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(me,{label:"Portfolio",required:!0,error:m.portfolioId,children:a.jsx(tt,{value:u.portfolioId,onChange:M,options:P,placeholder:"Select portfolio..."})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Stock to Sell",required:!0,error:m.symbol,children:a.jsx(tt,{value:u.symbol,onChange:k,options:T,placeholder:u.portfolioId?S.length?"Select stock...":"No holdings in this portfolio":"Select portfolio first..."})}),y&&a.jsx("div",{className:"flex flex-col justify-end",children:a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:y.companyName}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:N})," shares @ ",K(y.avgBuyPrice)," avg"]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Sale Date",required:!0,error:m.date,children:a.jsx(ka,{value:u.date,onChange:$=>g("date",$)})}),a.jsx(me,{label:"Quantity to Sell",required:!0,error:m.quantity,children:a.jsx(Pe,{type:"number",value:u.quantity,onChange:$=>g("quantity",$),placeholder:N?`Max: ${N}`:""})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Sale Price per Share ()",required:!0,error:m.pricePerShare,children:a.jsx(Pe,{type:"number",value:u.pricePerShare,onChange:$=>g("pricePerShare",$),placeholder:"e.g., 2750"})}),a.jsx(me,{label:"Brokerage ()",children:a.jsx(Pe,{type:"number",value:u.brokerage,onChange:$=>g("brokerage",$),placeholder:"0"})})]}),C>0&&a.jsx("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Net Sale Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:K(A)})]}),y&&a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. P&L"}),(()=>{const $=Number(u.quantity)*y.avgBuyPrice,L=A-$,q=L>=0;return a.jsxs("p",{className:`text-sm font-bold tabular-nums ${q?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[q?"+":"",K(L)]})})()]})]})}),a.jsx(me,{label:"Notes",children:a.jsx(Pe,{value:u.notes,onChange:$=>g("notes",$),placeholder:"Optional notes..."})}),a.jsx(un,{onCancel:r,onSubmit:O,submitLabel:"Sell Stock",loading:x})]})}function Jle(){const{selectedMember:e}=Br(),{stockPortfolios:t,stockHoldings:r,stockTransactions:n,activeInvestmentAccounts:i,activeMembers:l,addStockPortfolio:c,updateStockPortfolio:u,deleteStockPortfolio:f,buyStock:m,sellStock:h,editStockTransaction:x,deleteStockTransaction:v}=ht(),{showToast:g,showBlockUI:S,hideBlockUI:y}=oi(),N=ci(),{mv:C}=Oa(),[A,k]=j.useState(null),[M,D]=j.useState("all"),[O,P]=j.useState("holdings"),[T,$]=j.useState(!1),[L,q]=j.useState(null),E=j.useMemo(()=>{if(!t)return[];const z=t.filter(U=>U.status!=="Inactive").map(U=>{const xe=U.ownerId?l.find(Ne=>Ne.memberId===U.ownerId):null;return{...U,ownerName:xe?.memberName||U.ownerName||""}});return e==="all"?z:z.filter(U=>U.ownerId===e)},[t,e,l]),Z=j.useMemo(()=>r?E.map(z=>{const U=r.filter(Re=>Re.portfolioId===z.portfolioId),xe=(n||[]).filter(Re=>Re.portfolioId===z.portfolioId),Ne=U.reduce((Re,rt)=>Re+rt.totalInvestment,0),ne=U.reduce((Re,rt)=>Re+rt.currentValue,0),Ee=ne-Ne,Ce=xe.filter(Re=>Re.type==="SELL"&&Re.realizedPL!=null).reduce((Re,rt)=>Re+rt.realizedPL,0),oe=Ee+Ce,$e=Ne>0?oe/Ne*100:0,Ie=i.find(Re=>Re.accountId===z.investmentAccountId);return{...z,holdings:U,txns:xe,invested:Ne,current:ne,unrealizedPL:Ee,realizedPL:Ce,totalPL:oe,totalPLPct:$e,stockCount:U.length,platform:Ie?.platformBroker||z.investmentAccountName||"",clientId:Ie?.accountClientId||""}}):[],[E,r,n,i]),Q=j.useMemo(()=>{const z=M==="all"?Z:Z.filter(Ie=>Ie.portfolioId===M),U=z.reduce((Ie,Re)=>Ie+Re.invested,0),xe=z.reduce((Ie,Re)=>Ie+Re.current,0),Ne=z.reduce((Ie,Re)=>Ie+Re.unrealizedPL,0),ne=z.reduce((Ie,Re)=>Ie+Re.realizedPL,0),Ee=Ne+ne,Ce=U>0?Ee/U*100:0,oe=U>0?Ne/U*100:0,$e=z.reduce((Ie,Re)=>Ie+Re.stockCount,0);return{invested:U,current:xe,unrealizedPL:Ne,unrealizedPLPct:oe,realizedPL:ne,totalPL:Ee,totalPLPct:Ce,stocks:$e}},[Z,M]),re=j.useMemo(()=>r?M==="all"?r.filter(z=>E.some(U=>U.portfolioId===z.portfolioId)):r.filter(z=>z.portfolioId===M):[],[r,E,M]),R=j.useMemo(()=>n?(M==="all"?n.filter(U=>E.some(xe=>xe.portfolioId===U.portfolioId)):n.filter(U=>U.portfolioId===M)).sort((U,xe)=>new Date(xe.date)-new Date(U.date)):[],[n,E,M]);if(t===null||r===null)return a.jsx(fi,{title:"Loading stocks",cards:5});const G=Z.find(z=>z.portfolioId===M),pe=M==="all"?`All Portfolios (${E.length})`:G?.ownerName?`${G?.portfolioName}  ${C(G?.ownerName,"name")}`:G?.portfolioName;async function je(z){S("Saving...");try{A?.editPortfolio?await u(A.editPortfolio.portfolioId,z):await c(z),g(A?.editPortfolio?"Portfolio updated":"Portfolio created"),k(null)}catch(U){g(U.message||"Failed to save portfolio","error")}finally{y()}}async function we(){if(A?.editPortfolio&&await N("Deactivate this portfolio?",{title:"Deactivate Portfolio",confirmLabel:"Deactivate"})){S("Deactivating...");try{await f(A.editPortfolio.portfolioId),g("Portfolio deactivated"),D("all"),k(null)}catch(z){g(z.message||"Failed to deactivate portfolio","error")}finally{y()}}}async function F(z){S("Recording purchase...");try{await m(z),g("Stock purchase recorded"),k(null)}catch(U){g(U.message||"Failed to record purchase","error")}finally{y()}}async function ue(z){S("Recording sale...");try{await h(z),g("Stock sale recorded"),k(null)}catch(U){g(U.message||"Failed to record sale","error")}finally{y()}}async function J(z){if(await N("Delete this transaction? This will recalculate your holdings.",{title:"Delete Transaction",confirmLabel:"Delete"})){S("Deleting...");try{await v(z),g("Transaction deleted"),q(null)}catch(U){g(U.message||"Failed to delete transaction","error")}finally{y()}}}async function B(z){S("Updating...");try{await x(z),g("Transaction updated"),k(null)}catch(U){g(U.message||"Failed to update transaction","error")}finally{y()}}return a.jsxs("div",{className:"space-y-4",children:[E.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(ac,{size:32,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No stock portfolios yet"}),a.jsx("button",{onClick:()=>k("addPortfolio"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first portfolio"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>$(!T),className:"flex items-center gap-2 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm font-semibold text-[var(--text-primary)] hover:border-[var(--border-light)] transition-colors min-w-[220px]",children:[a.jsx(ac,{size:14,className:"text-violet-400 shrink-0"}),a.jsx("span",{className:"truncate",children:pe}),a.jsx(Gl,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${T?"rotate-180":""}`})]}),T&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>$(!1)}),a.jsxs("div",{className:"absolute left-0 top-full mt-1 z-40 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl min-w-[280px] py-1 overflow-hidden",children:[a.jsxs("button",{onClick:()=>{D("all"),$(!1),P("holdings")},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${M==="all"?"bg-[var(--sidebar-active-bg)] text-[var(--text-primary)] font-semibold":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:["All Portfolios (",E.length,")"]}),a.jsx("div",{className:"border-t border-[var(--border-light)]"}),Z.map(z=>{const U=z.totalPL>=0;return a.jsx("button",{onClick:()=>{D(z.portfolioId),$(!1),P("holdings")},className:`w-full text-left px-4 py-2.5 transition-colors ${M===z.portfolioId?"bg-[var(--sidebar-active-bg)]":"hover:bg-[var(--bg-hover)]"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-sm ${M===z.portfolioId?"font-semibold text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:z.portfolioName}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[C(z.ownerName,"name"),"  ",z.platform]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(z.current)}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${U?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[U?"+":"",z.totalPLPct.toFixed(1),"%"]})]})]})},z.portfolioId)})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[G&&a.jsxs("button",{onClick:()=>k({editPortfolio:G}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(da,{size:12})," Edit"]}),a.jsxs("button",{onClick:()=>k("addPortfolio"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Qr,{size:14})," New Portfolio"]})]})]}),G&&a.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-dim)] px-1 flex-wrap",children:[a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Platform:"})," ",G.platform]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Client ID:"})," ",C(G.clientId,"clientId")]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Stocks:"})," ",G.stockCount]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[a.jsx(rd,{label:"Invested",value:K(Q.invested)}),a.jsx(rd,{label:"Current Value",value:K(Q.current),bold:!0}),a.jsx(rd,{label:"Unrealized P&L",value:`${Q.unrealizedPL>=0?"+":""}${K(Q.unrealizedPL)}`,sub:`${Q.unrealizedPLPct>=0?"+":""}${Q.unrealizedPLPct.toFixed(1)}%`,positive:Q.unrealizedPL>=0}),a.jsx(rd,{label:"Realized P&L",value:`${Q.realizedPL>=0?"+":""}${K(Q.realizedPL)}`,positive:Q.realizedPL>=0}),a.jsx(rd,{label:"Total P&L",value:`${Q.totalPL>=0?"+":""}${K(Q.totalPL)}`,sub:`${Q.totalPLPct>=0?"+":""}${Q.totalPLPct.toFixed(1)}%`,positive:Q.totalPL>=0,bold:!0})]}),a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5",children:[a.jsxs("button",{onClick:()=>P("holdings"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${O==="holdings"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(bO,{size:12})," Holdings (",re.length,")"]}),a.jsxs("button",{onClick:()=>P("transactions"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${O==="transactions"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(od,{size:12})," Transactions (",R.length,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>M!=="all"&&k({buy:M}),disabled:M==="all",className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${M==="all"?"bg-emerald-600/40 text-white/50 cursor-not-allowed":"text-white bg-emerald-600 hover:bg-emerald-500"}`,title:M==="all"?"Select a portfolio first":"",children:[a.jsx(fc,{size:14})," Buy"]}),a.jsxs("button",{onClick:()=>M!=="all"&&re.length>0&&k({sell:M}),disabled:M==="all"||re.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${M==="all"||re.length===0?"bg-rose-600/40 text-white/50 cursor-not-allowed":"text-white bg-rose-600 hover:bg-rose-500"}`,title:M==="all"?"Select a portfolio first":"",children:[a.jsx(Mp,{size:14})," Sell"]})]})]}),O==="holdings"&&a.jsx(a.Fragment,{children:re.length>0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Stock"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Qty"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Avg Price"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current Price"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Invested"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current Value"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Returns"})]})}),a.jsxs("tbody",{children:[re.map(z=>{const U=z.unrealizedPL>=0,xe=M==="all"?Z.find(Ne=>Ne.portfolioId===z.portfolioId):null;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:z.companyName}),a.jsxs("p",{className:"text-xs font-mono text-[var(--text-dim)]",children:[z.symbol,xe&&a.jsxs("span",{className:"ml-1.5 text-[var(--text-dim)] font-sans",children:[" ",xe.portfolioName]})]})]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:z.quantity}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:K(z.avgBuyPrice)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(z.currentPrice)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:K(z.totalInvestment)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(z.currentValue)}),a.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-semibold tabular-nums ${U?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[U?"+":"",K(z.unrealizedPL)]}),a.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-bold tabular-nums ${U?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[U?"+":"",z.unrealizedPLPct.toFixed(1),"%"]})]},`${z.portfolioId}-${z.symbol}`)}),a.jsxs("tr",{className:"bg-[var(--bg-inset)] border-t-2 border-[var(--border-light)]",children:[a.jsxs("td",{className:"py-2.5 px-4 text-xs font-semibold text-[var(--text-muted)]",children:["Total (",re.length," stocks)"]}),a.jsx("td",{colSpan:3,className:"py-2.5 px-3"}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(Q.invested)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(Q.current)}),a.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-semibold tabular-nums ${Q.unrealizedPL>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Q.unrealizedPL>=0?"+":"",K(Q.unrealizedPL)]}),a.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-bold tabular-nums ${Q.unrealizedPL>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Q.unrealizedPLPct>=0?"+":"",Q.unrealizedPLPct.toFixed(1),"%"]})]})]})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:re.map(z=>{const U=z.unrealizedPL>=0,xe=M==="all"?Z.find(Ne=>Ne.portfolioId===z.portfolioId):null;return a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:z.companyName}),a.jsxs("p",{className:"text-xs font-mono text-[var(--text-dim)]",children:[z.symbol,xe&&a.jsxs("span",{className:"ml-1 font-sans",children:[" ",xe.portfolioName]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:`text-xs font-bold tabular-nums ${U?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[U?"+":"",z.unrealizedPLPct.toFixed(1),"%"]}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${U?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[U?"+":"",K(z.unrealizedPL)]})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs gap-2",children:[a.jsxs("div",{className:"text-[var(--text-dim)] min-w-0 truncate",children:[a.jsxs("span",{children:[z.quantity," shares"]}),a.jsx("span",{className:"mx-1",children:""}),a.jsxs("span",{children:["Avg ",K(z.avgBuyPrice)]}),a.jsx("span",{className:"mx-1",children:""}),a.jsxs("span",{children:["CMP ",K(z.currentPrice)]})]}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums shrink-0",children:K(z.currentValue)})]})]},`${z.portfolioId}-${z.symbol}`)})})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(ac,{size:28,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No holdings",G?" in this portfolio":""]}),a.jsx("button",{onClick:()=>k({buy:M!=="all"?M:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Buy your first stock"})]})}),O==="transactions"&&a.jsx(a.Fragment,{children:R.length>0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Stock"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Qty"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Price"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Brokerage"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Net"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Realized P&L"}),a.jsx("th",{className:"w-8 py-2 px-2"})]})}),a.jsx("tbody",{children:R.map(z=>{const U=z.type==="BUY",xe=!U&&z.realizedPL!=null,Ne=xe&&z.realizedPL>=0,ne=M==="all"?Z.find(Ee=>Ee.portfolioId===z.portfolioId):null;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-secondary)]",children:z.date}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${U?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:z.type})}),a.jsxs("td",{className:"py-2.5 px-3",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:z.symbol}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] truncate max-w-[140px]",children:[z.companyName,ne&&a.jsxs("span",{children:["  ",ne.portfolioName]})]})]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:z.quantity}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:K(z.pricePerShare)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:K(z.totalAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-dim)] tabular-nums",children:z.brokerage>0?K(z.brokerage):""}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(z.netAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:xe?a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${Ne?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[Ne?"+":"",K(z.realizedPL)]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx(UE,{txn:z,isOpen:L===z.transactionId,onToggle:()=>q(L===z.transactionId?null:z.transactionId),onEdit:()=>{q(null),k({editTxn:z})},onDelete:()=>{q(null),J(z.transactionId)}})})]},z.transactionId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:R.map(z=>{const U=z.type==="BUY",xe=!U&&z.realizedPL!=null,Ne=xe&&z.realizedPL>=0;return a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${U?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:z.type}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:z.symbol})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:z.date}),a.jsx(UE,{txn:z,isOpen:L===z.transactionId,onToggle:()=>q(L===z.transactionId?null:z.transactionId),onEdit:()=>{q(null),k({editTxn:z})},onDelete:()=>{q(null),J(z.transactionId)}})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[z.quantity," shares @ ",K(z.pricePerShare)]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(z.netAmount)}),xe&&a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${Ne?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["P&L: ",Ne?"+":"",K(z.realizedPL)]})]})]}),z.notes&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:z.notes})]},z.transactionId)})})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(od,{size:28,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions yet"}),a.jsx("button",{onClick:()=>k({buy:M!=="all"?M:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Make your first purchase"})]})})]}),a.jsx(mr,{open:A==="addPortfolio"||!!A?.editPortfolio,onClose:()=>k(null),title:A?.editPortfolio?"Edit Portfolio":"New Stock Portfolio",children:a.jsx(Gle,{initial:A?.editPortfolio||void 0,onSave:je,onDelete:A?.editPortfolio?we:void 0,onCancel:()=>k(null)})}),a.jsx(mr,{open:!!A?.buy,onClose:()=>k(null),title:"Buy Stock",wide:!0,children:a.jsx(Xle,{portfolioId:typeof A?.buy=="string"?A.buy:void 0,onSave:F,onCancel:()=>k(null)})}),a.jsx(mr,{open:!!A?.sell,onClose:()=>k(null),title:"Sell Stock",wide:!0,children:a.jsx(Zle,{portfolioId:typeof A?.sell=="string"?A.sell:void 0,onSave:ue,onCancel:()=>k(null)})}),a.jsx(mr,{open:!!A?.editTxn,onClose:()=>k(null),title:"Edit Transaction",children:A?.editTxn&&a.jsx(eoe,{txn:A.editTxn,onSave:B,onCancel:()=>k(null)})})]})}function rd({label:e,value:t,sub:r,positive:n,bold:i}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:`text-sm tabular-nums ${i?"font-bold":"font-semibold"} ${n===void 0?"text-[var(--text-primary)]":n?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:t}),r&&a.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${n?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:r})]})}function UE({txn:e,isOpen:t,onToggle:r,onEdit:n,onDelete:i}){const l=j.useRef(null),[c,u]=j.useState({top:0,right:0});if(!e.transactionId)return null;function f(m){if(m.stopPropagation(),!t&&l.current){const h=l.current.getBoundingClientRect();u({top:h.bottom+4,right:window.innerWidth-h.right})}r()}return a.jsxs(a.Fragment,{children:[a.jsx("button",{ref:l,onClick:f,className:"p-1 rounded-md text-[var(--text-dim)] hover:text-[var(--text-muted)] hover:bg-[var(--bg-hover)] transition-colors",title:"Actions",children:a.jsx(hO,{size:14})}),t&&_c.createPortal(a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{position:"fixed",inset:0,zIndex:9998},onClick:m=>{m.stopPropagation(),r()}}),a.jsxs("div",{style:{position:"fixed",top:c.top,right:c.right,zIndex:9999},className:"bg-[var(--bg-dropdown)] border border-white/10 rounded-lg shadow-2xl py-1 min-w-[120px] animate-fade-in",children:[a.jsxs("button",{onClick:m=>{m.stopPropagation(),n()},className:"w-full text-left px-3 py-2 text-xs text-[var(--text-secondary)] hover:bg-[var(--bg-hover)] hover:text-[var(--text-primary)] flex items-center gap-2 transition-colors",children:[a.jsx(da,{size:12})," Edit"]}),a.jsxs("button",{onClick:m=>{m.stopPropagation(),i()},className:"w-full text-left px-3 py-2 text-xs text-[var(--accent-rose)] hover:bg-rose-500/10 flex items-center gap-2 transition-colors",children:[a.jsx(dc,{size:12})," Delete"]})]})]}),document.body)]})}function eoe({txn:e,onSave:t,onCancel:r}){const[n,i]=j.useState(()=>{if(!e.date)return"";const k=String(e.date),M=k.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})/);if(M)return new Date(Number(M[3]),Number(M[2])-1,Number(M[1])).toISOString().split("T")[0];const D=new Date(k);return isNaN(D.getTime())?"":D.toISOString().split("T")[0]}),[l,c]=j.useState(String(e.quantity||"")),[u,f]=j.useState(String(e.pricePerShare||"")),[m,h]=j.useState(String(e.brokerage||"0")),[x,v]=j.useState(e.notes||""),[g,S]=j.useState(!1),y=(Number(l)||0)*(Number(u)||0),N=Number(m)||0,C=e.type==="BUY"?y+N:y-N;async function A(){if(!(!l||Number(l)<=0)&&!(!u||Number(u)<=0)){S(!0);try{await t({transactionId:e.transactionId,date:n,quantity:l,pricePerShare:u,brokerage:m,notes:x})}finally{S(!1)}}}return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:e.companyName}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[e.symbol,"  ",e.type,"  ",e.transactionId]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Date"}),a.jsx(ka,{value:n,onChange:i})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Quantity"}),a.jsx("input",{type:"number",value:l,onChange:k=>c(k.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Price per Share"}),a.jsx("input",{type:"number",value:u,onChange:k=>f(k.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Brokerage"}),a.jsx("input",{type:"number",value:m,onChange:k=>h(k.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]})]}),y>0&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)] flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:K(y)})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Net Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:K(C)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:"Notes"}),a.jsx("input",{type:"text",value:x,onChange:k=>v(k.target.value),placeholder:"Optional notes...",className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] text-[var(--text-primary)] rounded-lg"})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-[var(--border-light)]",children:[a.jsx("button",{onClick:r,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:"Cancel"}),a.jsx("button",{onClick:A,disabled:g||!l||Number(l)<=0||!u||Number(u)<=0,className:"px-4 py-2 text-xs font-bold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Saving...":"Update Transaction"})]})]})}const toe=["Self","Spouse","Father","Mother","Son","Daughter","Brother","Sister","Other"].map(e=>({value:e,label:e})),Qm={pan:/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/,aadhar:/^\d{12}$/,email:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,mobile:/^\d{10}$/};function roe({initial:e,onSave:t,onDelete:r,onCancel:n}){const i=!!e,[l,c]=j.useState({memberName:e?.memberName||"",relationship:e?.relationship||"",pan:e?.pan||"",aadhar:e?.aadhar||"",email:e?.email||"",mobile:e?.mobile||"",includeInEmailReports:e?.includeInEmailReports??!0,status:e?.status||"Active"}),[u,f]=j.useState({}),[m,h]=j.useState(!1),[x,v]=j.useState(()=>{const k=e?.dynamicFields||{};return Object.entries(k).map(([M,D])=>({key:M,value:D}))});function g(k,M){c(D=>({...D,[k]:M})),f(D=>({...D,[k]:void 0}))}function S(){const k={};return l.memberName.trim()||(k.memberName="Required"),l.relationship||(k.relationship="Required"),Qm.pan.test(l.pan.toUpperCase())||(k.pan="Format: ABCDE1234F"),Qm.aadhar.test(l.aadhar)||(k.aadhar="12 digits required"),Qm.email.test(l.email)||(k.email="Invalid email"),Qm.mobile.test(l.mobile)||(k.mobile="10 digits required"),f(k),Object.keys(k).length===0}function y(){v(k=>[...k,{key:"",value:""}])}function N(k,M,D){v(O=>O.map((P,T)=>T===k?{...P,[M]:D}:P))}function C(k){v(M=>M.filter((D,O)=>O!==k))}async function A(){if(!S())return;const k={};x.forEach(({key:M,value:D})=>{const O=M.trim();O&&(k[O]=D)}),h(!0);try{await t({...l,pan:l.pan.toUpperCase(),dynamicFields:k})}finally{h(!1)}}return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Member Name",required:!0,error:u.memberName,children:a.jsx(Pe,{value:l.memberName,onChange:k=>g("memberName",k),placeholder:"e.g., Jagadeesh"})}),a.jsx(me,{label:"Relationship",required:!0,error:u.relationship,children:a.jsx(tt,{value:l.relationship,onChange:k=>g("relationship",k),options:toe,placeholder:"Select..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"PAN",required:!0,error:u.pan,children:a.jsx(Pe,{sensitive:!0,value:l.pan,onChange:k=>g("pan",k.toUpperCase()),placeholder:"ABCDE1234F",maxLength:10})}),a.jsx(me,{label:"Aadhar",required:!0,error:u.aadhar,children:a.jsx(Pe,{sensitive:!0,value:l.aadhar,onChange:k=>g("aadhar",k.replace(/\D/g,"")),placeholder:"123456789012",maxLength:12})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Email",required:!0,error:u.email,children:a.jsx(Pe,{sensitive:!0,type:"email",value:l.email,onChange:k=>g("email",k),placeholder:"email@example.com"})}),a.jsx(me,{label:"Mobile",required:!0,error:u.mobile,children:a.jsx(Pe,{sensitive:!0,value:l.mobile,onChange:k=>g("mobile",k.replace(/\D/g,"")),placeholder:"9876543210",maxLength:10})})]}),a.jsx(Kie,{checked:l.includeInEmailReports,onChange:k=>g("includeInEmailReports",k),label:"Include in email reports"}),i&&a.jsx(me,{label:"Status",children:a.jsx(tt,{value:l.status,onChange:k=>g("status",k),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)]",children:"Custom Fields"}),a.jsxs("button",{onClick:y,type:"button",className:"flex items-center gap-1 text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[a.jsx(Qr,{size:12})," Add Field"]})]}),x.length===0&&a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"No custom fields. Add DOB, occupation, blood group, etc."}),a.jsx("div",{className:"space-y-2",children:x.map((k,M)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{value:k.key,onChange:D=>N(M,"key",D.target.value),placeholder:"Field name",className:"flex-1 px-2.5 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] transition-colors"}),a.jsx("input",{value:k.value,onChange:D=>N(M,"value",D.target.value),placeholder:"Value",className:"flex-1 px-2.5 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] transition-colors"}),a.jsx("button",{onClick:()=>C(M),type:"button",className:"p-1 text-[var(--text-dim)] hover:text-rose-400 transition-colors",children:a.jsx(dc,{size:13})})]},M))})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[i&&r?a.jsx(is,{onClick:r}):a.jsx("div",{}),a.jsx(un,{onCancel:n,onSubmit:A,submitLabel:i?"Update":"Add Member",loading:m})]})]})}const Xm=["from-violet-500 to-indigo-500","from-rose-500 to-pink-500","from-blue-500 to-cyan-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],YE={Self:"bg-violet-500/15 text-[var(--accent-violet)]",Spouse:"bg-rose-500/15 text-[var(--accent-rose)]",Father:"bg-blue-500/15 text-[var(--accent-blue)]",Mother:"bg-amber-500/15 text-[var(--accent-amber)]",Son:"bg-emerald-500/15 text-emerald-400",Daughter:"bg-emerald-500/15 text-emerald-400"};function noe(){const{members:e,addMember:t,updateMember:r,deleteMember:n}=ht(),{showToast:i,showBlockUI:l,hideBlockUI:c}=oi(),u=ci(),{mv:f}=Oa(),[m,h]=j.useState(null);if(e===null)return a.jsx(fi,{title:"Loading family",cards:3});const x=e.filter(S=>S.status!=="Inactive");async function v(S){l("Saving member...");try{m?.edit?await r(m.edit.memberId,S):await t(S),i(m?.edit?"Member updated":"Member added"),h(null)}catch(y){i(y.message||"Failed to save member","error")}finally{c()}}async function g(){if(m?.edit&&await u("Deactivate this family member?",{title:"Deactivate Member",confirmLabel:"Deactivate"})){l("Deactivating...");try{await n(m.edit.memberId),i("Member deactivated"),h(null)}catch(S){i(S.message||"Failed to deactivate member","error")}finally{c()}}}return[...new Set(x.flatMap(S=>Object.keys(S.dynamicFields||{})))],a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>h("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Qr,{size:14})," Add Member"]})}),x.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(Kl,{size:32,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No family members yet"}),a.jsx("button",{onClick:()=>h("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first member"})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[640px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Relationship"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"PAN"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Aadhaar"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Mobile"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:x.map((S,y)=>{const N=S.dynamicFields||{},C=Object.entries(N);return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-4",children:a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white bg-gradient-to-br ${Xm[y%Xm.length]}`,children:S.memberName.charAt(0)}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:f(S.memberName,"name")}),C.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mt-0.5",children:[C.slice(0,3).map(([A,k])=>a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)] bg-[var(--bg-inset)] px-1.5 py-0.5 rounded",children:[A,": ",k]},A)),C.length>3&&a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["+",C.length-3," more"]})]})]})]})}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${YE[S.relationship]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:S.relationship})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] font-mono tabular-nums",children:f(S.pan,"pan")||""}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] font-mono tabular-nums",children:f(S.aadhar,"aadhaar")||""}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] truncate max-w-[180px]",children:f(S.email,"email")}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:f(S.mobile,"mobile")}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>h({edit:S}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(da,{size:12})})})]},S.memberId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:x.map((S,y)=>{const N=S.dynamicFields||{},C=Object.entries(N);return a.jsxs("div",{onClick:()=>h({edit:S}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center gap-2.5 mb-1.5",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white bg-gradient-to-br ${Xm[y%Xm.length]}`,children:S.memberName.charAt(0)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:f(S.memberName,"name")}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${YE[S.relationship]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:S.relationship})]}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] truncate",children:f(S.email,"email")})]})]}),a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-1",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:f(S.mobile,"mobile")}),a.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)] font-mono",children:["PAN: ",f(S.pan,"pan")||""]}),S.aadhar&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] font-mono",children:["Aadhaar: ",f(S.aadhar,"aadhaar")]})]})]}),C.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mt-1.5",children:[C.slice(0,3).map(([A,k])=>a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)] bg-[var(--bg-inset)] px-1.5 py-0.5 rounded",children:[A,": ",k]},A)),C.length>3&&a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["+",C.length-3," more"]})]})]},S.memberId)})})]}),a.jsx(mr,{open:!!m,onClose:()=>h(null),title:m?.edit?"Edit Member":"Add Family Member",wide:!0,children:a.jsx(roe,{initial:m?.edit||void 0,onSave:v,onDelete:m?.edit?g:void 0,onCancel:()=>h(null)})})]})}const VE=["Retirement","Emergency Fund","Child Education","Home Purchase","Car","Travel","Wedding","Custom"].map(e=>({value:e,label:e})),GE=[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}],Zm={Retirement:{inflation:6,cagr:12},"Emergency Fund":{inflation:0,cagr:7},"Child Education":{inflation:10,cagr:12},"Home Purchase":{inflation:8,cagr:12},Wedding:{inflation:6,cagr:12},Car:{inflation:5,cagr:10},Travel:{inflation:6,cagr:10},Custom:{inflation:6,cagr:12}},WE=[{label:"Basics",icon:Od},{label:"Financials",icon:Dz},{label:"Review",icon:Tc}];function aoe({initial:e,onSave:t,onDelete:r,onCancel:n}){const i=!!e,{activeMembers:l}=ht(),c=(l||[]).map(T=>({value:T.memberId,label:T.relationship?`${T.memberName} (${T.relationship})`:T.memberName})),[u,f]=j.useState(0),[m,h]=j.useState(()=>{if(i){const T=(e.expectedInflation||.06)*100,$=(e.expectedCAGR||.12)*100,L=e.targetDate?Math.max(0,(new Date(e.targetDate)-new Date)/(365.25*24*60*60*1e3)):0,q=T/100;let E=e.targetAmount||0;q>0&&L>0&&e.goalType!=="Emergency Fund"&&(E=e.targetAmount/Math.pow(1+q,L));const Z=l.find(Q=>Q.memberName===e.familyMemberName);return{goalType:e.goalType||"",goalName:e.goalName||"",familyMemberId:Z?.memberId||"",todaysCost:Math.round(E).toString(),targetDate:e.targetDate||"",lumpsum:(e.lumpsumInvested||0).toString(),monthlySIP:(e.monthlyInvestment||0).toString(),inflation:T.toString(),cagr:$.toString(),priority:e.priority||"Medium",notes:e.notes||"",monthlyExpenses:(e.monthlyExpenses||"").toString(),emergencyMonths:(e.emergencyMonths||6).toString()}}return{goalType:"",goalName:"",familyMemberId:"",todaysCost:"",targetDate:"",lumpsum:"",monthlySIP:"",inflation:"6",cagr:"12",priority:"Medium",notes:"",monthlyExpenses:"",emergencyMonths:"6"}}),[x,v]=j.useState({}),[g,S]=j.useState(!1);function y(T,$){h(L=>({...L,[T]:$})),v(L=>({...L,[T]:void 0}))}j.useEffect(()=>{if(i||!m.goalType)return;const T=Zm[m.goalType]||Zm.Custom;h($=>({...$,inflation:T.inflation.toString(),cagr:T.cagr.toString()}))},[m.goalType,i]);const N=m.goalType==="Retirement",C=m.goalType==="Emergency Fund",A=j.useMemo(()=>{const T=(Number(m.inflation)||0)/100,L=(Number(m.cagr)||0)/100/12,q=Number(m.lumpsum)||0,E=Number(m.monthlyExpenses)||0,Z=Number(m.emergencyMonths)||6,Q=m.targetDate?Math.max(0,(new Date(m.targetDate)-new Date)/(365.25*24*60*60*1e3)):0,re=Math.round(Q*12);let R=0,G=0;N?(R=E*12*25,G=R*Math.pow(1+T,Q)):C?(R=E*Z,G=R):(R=Number(m.todaysCost)||0,G=T>0&&Q>0?R*Math.pow(1+T,Q):R),G=Math.round(G);const pe=q>0&&re>0?q*Math.pow(1+L,re):q;let je=0;if(G>0&&re>0){const B=G-pe;B>0&&L>0?je=B/((Math.pow(1+L,re)-1)/L):B>0&&(je=B/re),je=Math.max(0,Math.ceil(je))}const we=je>0&&L>0&&re>0?je*((Math.pow(1+L,re)-1)/L):je*re,F=Math.round(q+je*re),ue=Math.round(G-F),J=q>0&&pe>=G;return{todaysCost:R,inflatedTarget:G,yearsToGo:Q,months:re,fvLumpsum:Math.round(pe),requiredSIP:je,fvRequiredSIP:Math.round(we),planTotalInvested:F,planReturns:ue,lumpsumCoversGoal:J,hasTarget:G>0}},[m.todaysCost,m.targetDate,m.lumpsum,m.inflation,m.cagr,m.monthlyExpenses,m.emergencyMonths,N,C]);function k(T){const $={};return T===0&&(m.goalType||($.goalType="Required"),m.goalName.trim()||($.goalName="Required")),T===1&&(m.targetDate||($.targetDate="Required"),N||C?(!m.monthlyExpenses||Number(m.monthlyExpenses)<=0)&&($.monthlyExpenses="Required"):(!m.todaysCost||Number(m.todaysCost)<=0)&&($.todaysCost="Must be > 0")),v($),Object.keys($).length===0}function M(){const T={};return m.goalType||(T.goalType="Required"),m.goalName.trim()||(T.goalName="Required"),m.targetDate||(T.targetDate="Required"),N||C?(!m.monthlyExpenses||Number(m.monthlyExpenses)<=0)&&(T.monthlyExpenses="Required"):(!m.todaysCost||Number(m.todaysCost)<=0)&&(T.todaysCost="Must be > 0"),v(T),Object.keys(T).length===0}function D(){k(u)&&f(T=>Math.min(T+1,2))}async function O(){if(!M())return;const T=m.familyMemberId&&l.find($=>$.memberId===m.familyMemberId)?.memberName||"Family";S(!0);try{await t({goalType:m.goalType,goalName:m.goalName,familyMemberId:m.familyMemberId||"",familyMember:T,targetAmount:A.inflatedTarget,targetDate:m.targetDate,priority:m.priority,notes:m.notes,expectedInflation:(Number(m.inflation)||0)/100,expectedCAGR:(Number(m.cagr)||0)/100,monthlyInvestment:A.requiredSIP||0,lumpsumInvested:Number(m.lumpsum)||0,monthlyExpenses:N||C?Number(m.monthlyExpenses)||0:void 0,emergencyMonths:C?Number(m.emergencyMonths)||6:void 0,isRetirement:N,currentCost:A.todaysCost})}finally{S(!1)}}const P=m.familyMemberId&&l.find(T=>T.memberId===m.familyMemberId)?.memberName||"Family";return i?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Goal Type",required:!0,error:x.goalType,children:a.jsx(tt,{value:m.goalType,onChange:T=>y("goalType",T),options:VE,placeholder:"Select type..."})}),a.jsx(me,{label:"Goal Name",required:!0,error:x.goalName,children:a.jsx(Pe,{value:m.goalName,onChange:T=>y("goalName",T),placeholder:"e.g., Retirement Fund (2045)"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"For",error:x.familyMemberId,children:a.jsx(tt,{value:m.familyMemberId,onChange:T=>y("familyMemberId",T),options:c,placeholder:"Family (Default)"})}),a.jsx(me,{label:"Target Date",required:!0,error:x.targetDate,children:a.jsx(ka,{value:m.targetDate,onChange:T=>y("targetDate",T),maxDate:null})})]}),N||C?a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Monthly Expenses",required:!0,error:x.monthlyExpenses,children:a.jsx(Pe,{type:"number",value:m.monthlyExpenses,onChange:T=>y("monthlyExpenses",T),placeholder:"e.g., 50000"})}),C&&a.jsx(me,{label:"Emergency Months",children:a.jsx(Pe,{type:"number",value:m.emergencyMonths,onChange:T=>y("emergencyMonths",T),placeholder:"6"})})]}):a.jsx(me,{label:"Today's Cost",required:!0,error:x.todaysCost,children:a.jsx(Pe,{type:"number",value:m.todaysCost,onChange:T=>y("todaysCost",T),placeholder:"e.g., 1000000"})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[a.jsx(me,{label:"Inflation %",children:a.jsx(Pe,{type:"number",value:m.inflation,onChange:T=>y("inflation",T),placeholder:"6"})}),a.jsx(me,{label:"Expected CAGR %",children:a.jsx(Pe,{type:"number",value:m.cagr,onChange:T=>y("cagr",T),placeholder:"12"})}),a.jsx(me,{label:"Lumpsum Invested",children:a.jsx(Pe,{type:"number",value:m.lumpsum,onChange:T=>y("lumpsum",T),placeholder:"0"})})]}),A.hasTarget&&a.jsx(KE,{calc:A,inflation:m.inflation,isRetirement:N,isEmergency:C}),a.jsx(me,{label:"Priority",children:a.jsx(tt,{value:m.priority,onChange:T=>y("priority",T),options:GE})}),a.jsx(me,{label:"Notes",children:a.jsx(kc,{value:m.notes,onChange:T=>y("notes",T),placeholder:"Optional notes...",rows:2})}),a.jsxs("div",{className:"flex items-center justify-between",children:[r?a.jsx(is,{onClick:r}):a.jsx("div",{}),a.jsx(un,{onCancel:n,onSubmit:O,submitLabel:"Update Goal",loading:g})]})]}):a.jsxs("div",{className:"space-y-5",children:[a.jsx("div",{className:"flex items-center gap-1 mb-2",children:WE.map((T,$)=>{const L=T.icon,q=$===u,E=$<u;return a.jsxs("div",{className:"flex items-center flex-1",children:[a.jsxs("button",{onClick:()=>{$<u&&f($)},className:`flex items-center gap-1.5 text-xs font-semibold transition-colors ${q?"text-violet-400":E?"text-emerald-400 cursor-pointer":"text-[var(--text-dim)]"}`,children:[a.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold border ${q?"border-violet-400 bg-violet-500/15":E?"border-emerald-400 bg-emerald-500/15":"border-[var(--border)] bg-[var(--bg-inset)]"}`,children:E?a.jsx(Tc,{size:12}):a.jsx(L,{size:12})}),a.jsx("span",{className:"hidden sm:inline",children:T.label})]}),$<WE.length-1&&a.jsx("div",{className:`flex-1 h-px mx-2 ${E?"bg-emerald-400/40":"bg-[var(--border)]"}`})]},T.label)})}),u===0&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Tell us about your financial goal"}),a.jsx(me,{label:"Goal Type",required:!0,error:x.goalType,children:a.jsx(tt,{value:m.goalType,onChange:T=>y("goalType",T),options:VE,placeholder:"Select type..."})}),m.goalType&&a.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 rounded-lg bg-[var(--bg-inset)] border border-[var(--border-light)]",children:[a.jsx(fc,{size:12,className:"text-[var(--text-dim)] shrink-0"}),a.jsxs("p",{className:"text-[11px] text-[var(--text-muted)]",children:["Default: ",Zm[m.goalType]?.inflation||6,"% inflation, ",Zm[m.goalType]?.cagr||12,"% CAGR",N&&"  Uses 25x annual expenses rule",C&&"  No inflation applied"]})]}),a.jsx(me,{label:"Goal Name",required:!0,error:x.goalName,children:a.jsx(Pe,{value:m.goalName,onChange:T=>y("goalName",T),placeholder:"e.g., Retirement Fund (2045)"})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"For",error:x.familyMemberId,children:a.jsx(tt,{value:m.familyMemberId,onChange:T=>y("familyMemberId",T),options:c,placeholder:"Family (Default)"})}),a.jsx(me,{label:"Priority",children:a.jsx(tt,{value:m.priority,onChange:T=>y("priority",T),options:GE})})]})]}),u===1&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:N?"Set your retirement timeline and monthly expenses":C?"Set your emergency fund requirements":"Set your target and investment plan"}),N||C?a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Target Date",required:!0,error:x.targetDate,children:a.jsx(ka,{value:m.targetDate,onChange:T=>y("targetDate",T),maxDate:null})}),a.jsx(me,{label:"Monthly Expenses (Today)",required:!0,error:x.monthlyExpenses,children:a.jsx(Pe,{type:"number",value:m.monthlyExpenses,onChange:T=>y("monthlyExpenses",T),placeholder:"e.g., 50000"})}),C&&a.jsx(me,{label:"Emergency Fund (Months)",children:a.jsx(Pe,{type:"number",value:m.emergencyMonths,onChange:T=>y("emergencyMonths",T),placeholder:"6"})}),N&&a.jsx("div",{className:"sm:col-span-2",children:a.jsxs("p",{className:"text-[11px] text-[var(--text-dim)]",children:["Corpus = Monthly Expenses x 12 x 25 = ",K(A.todaysCost)," (today)"]})})]}):a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Target Date",required:!0,error:x.targetDate,children:a.jsx(ka,{value:m.targetDate,onChange:T=>y("targetDate",T),maxDate:null})}),a.jsx(me,{label:"Today's Cost",required:!0,error:x.todaysCost,children:a.jsx(Pe,{type:"number",value:m.todaysCost,onChange:T=>y("todaysCost",T),placeholder:"e.g., 1000000"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(me,{label:`Inflation Rate (%)${C?"  N/A":""}`,children:a.jsx(Pe,{type:"number",value:m.inflation,onChange:T=>y("inflation",T),placeholder:"6"})}),a.jsx(me,{label:"Expected Returns (CAGR %)",children:a.jsx(Pe,{type:"number",value:m.cagr,onChange:T=>y("cagr",T),placeholder:"12"})})]}),A.hasTarget&&a.jsx(KE,{calc:A,inflation:m.inflation,isRetirement:N,isEmergency:C}),a.jsx(me,{label:"Lumpsum You Plan to Invest (Optional)",children:a.jsx(Pe,{type:"number",value:m.lumpsum,onChange:T=>y("lumpsum",T),placeholder:"e.g., 500000"})}),A.hasTarget&&A.months>0&&a.jsx(QE,{calc:A,lumpsum:m.lumpsum}),a.jsx(me,{label:"Notes",children:a.jsx(kc,{value:m.notes,onChange:T=>y("notes",T),placeholder:"Optional notes...",rows:2})})]}),u===2&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Review your goal before saving"}),a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-4 space-y-3",children:[a.jsx(vn,{label:"Goal",value:m.goalName,bold:!0}),a.jsx(vn,{label:"Type",value:m.goalType,color:"violet"}),a.jsx(vn,{label:"Member",value:P}),a.jsx(vn,{label:"Priority",value:m.priority,badge:m.priority==="High"?"rose":m.priority==="Low"?"blue":"amber"}),a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3 space-y-2",children:[(N||C)&&a.jsx(vn,{label:"Monthly Expenses",value:K(Number(m.monthlyExpenses)||0)}),C&&a.jsx(vn,{label:"Emergency Months",value:m.emergencyMonths}),!N&&!C&&a.jsx(vn,{label:"Today's Cost",value:K(A.todaysCost)}),a.jsx(vn,{label:"Inflation",value:`${m.inflation}% p.a.`}),a.jsx(vn,{label:"Expected CAGR",value:`${m.cagr}% p.a.`}),a.jsx(vn,{label:"Future Value (Inflated)",value:K(A.inflatedTarget),bold:!0,color:"violet"})]}),a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3 space-y-2",children:[a.jsx(vn,{label:"Lumpsum",value:K(Number(m.lumpsum)||0)}),a.jsx(vn,{label:"Required SIP",value:`${K(A.requiredSIP)}/mo`,color:"emerald"}),a.jsx(vn,{label:"Target Date",value:m.targetDate}),a.jsx(vn,{label:"Time Remaining",value:A.yearsToGo>0?`${A.yearsToGo.toFixed(1)} years`:""})]})]}),A.hasTarget&&A.months>0&&a.jsx(QE,{calc:A,lumpsum:m.lumpsum,compact:!0})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-[var(--border-light)]",children:[a.jsx("div",{children:u>0&&a.jsxs("button",{onClick:()=>f(T=>T-1),className:"flex items-center gap-1 px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx(dz,{size:14})," Back"]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:n,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),u<2?a.jsxs("button",{onClick:D,className:"flex items-center gap-1 px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors",children:["Next ",a.jsx(yn,{size:14})]}):a.jsx("button",{onClick:O,disabled:g,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Saving...":"Create Goal"})]})]})]})}function KE({calc:e,inflation:t,isRetirement:r,isEmergency:n}){return n?a.jsx("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-blue-500/5 border border-blue-500/15",children:a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Emergency Fund: ",a.jsx("span",{className:"font-bold text-[var(--text-primary)]",children:K(e.inflatedTarget)}),a.jsx("span",{className:"text-[var(--text-dim)]",children:" (no inflation applied)"})]})}):a.jsxs("div",{className:"flex items-center justify-between gap-2 px-3 py-2 rounded-lg bg-violet-500/5 border border-violet-500/15",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-semibold text-[var(--text-dim)] uppercase tracking-wider",children:r?"Corpus Today":"Today's Cost"}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-secondary)]",children:K(e.todaysCost)})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[t,"% x ",e.yearsToGo.toFixed(1),"yrs"]}),a.jsx(yn,{size:12,className:"text-violet-400 mx-auto"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] font-semibold text-violet-400 uppercase tracking-wider",children:"Future Value"}),a.jsx("p",{className:"text-xs font-bold text-[var(--text-primary)]",children:K(e.inflatedTarget)})]})]})}function QE({calc:e,lumpsum:t,compact:r}){const n=Number(t)||0;return r?a.jsxs("div",{className:"rounded-lg border p-3 bg-violet-500/5 border-violet-500/15",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Required Monthly SIP"}),a.jsxs("span",{className:"text-sm font-bold text-violet-400 tabular-nums",children:[e.lumpsumCoversGoal?"0":K(e.requiredSIP),"/mo"]})]}),e.lumpsumCoversGoal&&a.jsx("p",{className:"text-[10px] text-emerald-400 mt-1",children:"Lumpsum alone covers this goal!"})]}):a.jsxs("div",{className:"rounded-lg border p-3 space-y-2 bg-violet-500/5 border-violet-500/15",children:[e.lumpsumCoversGoal?a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(Tc,{size:12,className:"text-emerald-400"}),a.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-emerald-400",children:"Lumpsum Covers Goal"})]}):a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-violet-400",children:"Required Monthly SIP"}),a.jsxs("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:[K(e.requiredSIP),"/mo"]})]}),e.planTotalInvested>0&&a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-2 space-y-1",children:[n>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-[11px] text-[var(--text-dim)]",children:["Lumpsum ",K(n)," grows to"]}),a.jsx("span",{className:"text-[11px] font-semibold text-emerald-400 tabular-nums",children:K(e.fvLumpsum)})]}),e.requiredSIP>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-[11px] text-[var(--text-dim)]",children:["SIP ",K(e.requiredSIP),"/mo x ",e.months," months"]}),a.jsx("span",{className:"text-[11px] font-semibold text-blue-400 tabular-nums",children:K(e.fvRequiredSIP)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[11px] text-[var(--text-dim)]",children:"Total You Invest"}),a.jsx("span",{className:"text-[11px] font-semibold text-[var(--text-primary)] tabular-nums",children:K(e.planTotalInvested)})]}),e.planReturns>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[11px] text-[var(--text-dim)]",children:"Wealth Created"}),a.jsxs("span",{className:"text-[11px] font-semibold text-emerald-400 tabular-nums",children:["+",K(e.planReturns)]})]})]})]})}function vn({label:e,value:t,bold:r,color:n,badge:i}){const l=n==="violet"?"text-violet-400":n==="emerald"?"text-emerald-400":"text-[var(--text-primary)]";if(i){const c=i==="rose"?"bg-rose-500/15 text-rose-400":i==="blue"?"bg-blue-500/15 text-blue-400":"bg-amber-500/15 text-amber-400";return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:e}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${c}`,children:t})]})}return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:e}),a.jsx("span",{className:`text-xs ${r?"font-bold text-sm":"font-semibold"} ${l}`,children:t})]})}function ioe({goal:e,onClose:t}){const{goalPortfolioMappings:r,mfPortfolios:n,mfHoldings:i}=ht(),l=j.useMemo(()=>{const u=r.filter(x=>x.goalId===e.goalId);if(u.length===0)return null;const f=u.map(x=>{const v=n.find(C=>C.portfolioId===x.portfolioId);if(!v)return null;const g=i.filter(C=>C.portfolioId===x.portfolioId&&C.units>0),S=g.reduce((C,A)=>C+A.currentValue,0),y=S*x.allocationPct/100,N=g.map(C=>{const A=S>0?C.currentValue/S:0,k=y*A,M=C.currentNav>0?k/C.currentNav:0,D=k-M*C.avgNav;return{fundName:C.fundName,currentValue:C.currentValue,withdrawValue:k,withdrawUnits:Math.min(M,C.units),currentNav:C.currentNav,taxableGain:D,availableUnits:C.units}}).filter(C=>C.withdrawValue>0);return{portfolioName:v.portfolioName,ownerName:v.ownerName,allocationPct:x.allocationPct,portfolioValue:S,linkedValue:y,fundWithdrawals:N}}).filter(Boolean),m=f.reduce((x,v)=>x+v.linkedValue,0),h=f.reduce((x,v)=>x+v.fundWithdrawals.reduce((g,S)=>g+S.taxableGain,0),0);return{portfolioDetails:f,totalLinked:m,totalTaxableGain:h}},[e,r,n,i]);if(!l)return a.jsxs("div",{className:"py-8 text-center space-y-2",children:[a.jsx(Hs,{size:24,className:"mx-auto text-amber-400"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No portfolios linked to this goal"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Link portfolios first to generate a withdrawal plan"}),a.jsx("button",{onClick:t,className:"mt-2 px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})]});const c=e.targetAmount>0?l.totalLinked/e.targetAmount*100:0;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-4 space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Goal Target"}),a.jsx("span",{className:"text-sm font-bold text-[var(--text-primary)]",children:K(e.targetAmount)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Available from Linked Portfolios"}),a.jsx("span",{className:`text-sm font-bold ${l.totalLinked>=e.targetAmount?"text-emerald-400":"text-amber-400"}`,children:K(l.totalLinked)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-card)] rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${c>=100?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${Math.min(c,100)}%`}})}),a.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[c.toFixed(0),"%"]})]}),l.totalTaxableGain>0&&a.jsxs("div",{className:"flex items-center justify-between pt-1",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Estimated Taxable Gain"}),a.jsx("span",{className:"text-xs font-semibold text-amber-400",children:K(l.totalTaxableGain)})]})]}),l.portfolioDetails.map(u=>a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] overflow-hidden",children:[a.jsxs("div",{className:"px-4 py-2.5 bg-[var(--bg-card)] border-b border-[var(--border-light)] flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:u.portfolioName}),a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[u.ownerName,"  ",u.allocationPct,"% allocated to goal"]})]}),a.jsx("span",{className:"text-xs font-bold text-[var(--text-primary)]",children:K(u.linkedValue)})]}),a.jsx("div",{className:"px-4 py-2",children:a.jsxs("table",{className:"w-full text-xs",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-[var(--text-dim)]",children:[a.jsx("th",{className:"text-left py-1 font-medium",children:"Fund"}),a.jsx("th",{className:"text-right py-1 font-medium",children:"Units"}),a.jsx("th",{className:"text-right py-1 font-medium",children:"Amount"}),a.jsx("th",{className:"text-right py-1 font-medium",children:"Gain"})]})}),a.jsx("tbody",{children:u.fundWithdrawals.map(f=>a.jsxs("tr",{className:"border-t border-[var(--border-light)]",children:[a.jsxs("td",{className:"py-1.5 text-[var(--text-secondary)] max-w-[180px]",children:[a.jsx("p",{className:"truncate",children:Le(f.fundName).main}),Le(f.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(f.fundName).plan})]}),a.jsx("td",{className:"py-1.5 text-right text-[var(--text-muted)] tabular-nums",children:f.withdrawUnits.toFixed(2)}),a.jsx("td",{className:"py-1.5 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:K(f.withdrawValue)}),a.jsx("td",{className:`py-1.5 text-right tabular-nums font-semibold ${f.taxableGain>=0?"text-emerald-400":"text-rose-400"}`,children:K(Math.abs(f.taxableGain))})]},f.fundName))})]})})]},u.portfolioName)),a.jsx("div",{className:"flex items-center justify-end gap-2 pt-4 border-t border-[var(--border-light)]",children:a.jsx("button",{onClick:t,className:"px-5 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})})]})}const soe={"On Track":"bg-blue-500/15 text-[var(--accent-blue)]",Behind:"bg-amber-500/15 text-[var(--accent-amber)]",Critical:"bg-rose-500/15 text-[var(--accent-rose)]","Needs Attention":"bg-amber-500/15 text-[var(--accent-amber)]",Achieved:"bg-emerald-500/15 text-emerald-400",Paused:"bg-slate-500/15 text-[var(--text-muted)]"},loe={High:"bg-rose-500/15 text-[var(--accent-rose)]",Medium:"bg-amber-500/15 text-[var(--accent-amber)]",Low:"bg-blue-500/15 text-[var(--accent-blue)]"},ooe={"On Track":"bg-blue-500",Behind:"bg-amber-500",Critical:"bg-rose-500","Needs Attention":"bg-amber-500",Achieved:"bg-emerald-500",Paused:"bg-slate-500"};function coe(){const{selectedMember:e,member:t}=Br(),{goalList:r,addGoal:n,updateGoal:i,deleteGoal:l,goalPortfolioMappings:c,updateGoalMappings:u,mfHoldings:f,activeMembers:m,mfPortfolios:h,stockPortfolios:x,otherInvList:v}=ht(),{showToast:g,showBlockUI:S,hideBlockUI:y}=oi(),N=ci(),[C,A]=j.useState(null),[k,M]=j.useState(null),[D,O]=j.useState(null),P=j.useRef(new Set),[T,$]=j.useState(null),[L,q]=j.useState([]),[E,Z]=j.useState(!1),[Q,re]=j.useState(!1),R=j.useMemo(()=>{if(!r)return[];const H=r.filter(te=>te.isActive!==!1);return e==="all"?H:H.filter(te=>te.familyMemberId===e)},[r,e]);function G(H){if(!H.familyMemberName||H.familyMemberName==="Family")return H.familyMemberName||"Family";const te=(m||[]).find(ke=>ke.memberName===H.familyMemberName);return te?.relationship?`${H.familyMemberName} (${te.relationship})`:H.familyMemberName}const pe=R.reduce((H,te)=>H+(te.targetAmount||0),0),je=R.reduce((H,te)=>H+(te.currentValue||0),0),we=R.reduce((H,te)=>H+(te.monthlyInvestment||0),0),F=R.reduce((H,te)=>H+(te.lumpsumNeeded||0),0),ue=pe>0?je/pe*100:0,J=R.filter(H=>H.status==="Needs Attention").length,B=R.filter(H=>H.status==="Achieved").length,z=new Set(["Equity","ELSS","Index"]),U=j.useMemo(()=>{if(!R.length||!c?.length||!f?.length)return[];const H=new Date,te=[];for(const ke of R){if(ke.status==="Achieved")continue;const se=(new Date(ke.targetDate)-H)/(365.25*24*60*60*1e3);if(se>3||se<=0)continue;const it=c.filter(Ut=>Ut.goalId===ke.goalId);if(!it.length)continue;let Ye=0,Be=0;for(const Ut of it){const Qe=f.filter(De=>De.portfolioId===Ut.portfolioId&&De.units>0);for(const De of Qe){const We=De.currentValue*(Ut.allocationPct/100);Ye+=We,z.has(De.category)?Be+=We:De.category==="Hybrid"&&(Be+=We*.65)}}const Je=Ye>0?Be/Ye*100:0,nt=se<1?30:se<2?50:70;Je>nt&&te.push({goalId:ke.goalId,goalName:ke.goalName,yearsLeft:se.toFixed(1),equityPct:Math.round(Je),maxEquity:nt,excessPct:Math.round(Je-nt)})}return te},[R,c,f]);j.useEffect(()=>{const H=new Set(R.filter(ke=>ke.status==="Achieved").map(ke=>ke.goalId)),te=P.current;for(const ke of H)if(!te.has(ke)){const Ue=R.find(se=>se.goalId===ke);Ue&&(O(Ue),setTimeout(()=>O(null),5e3))}P.current=H},[R]);function xe(H){return H?H.startsWith("PFL-STK-")?"Stock":H.startsWith("INV-")?"Other":"MF":"MF"}const Ne=j.useMemo(()=>{const H={};return(h||[]).forEach(te=>{H[te.portfolioId]={name:te.portfolioName?.replace(/^PFL-/,"")||te.portfolioName,value:te.currentValue||0,type:"MF",owner:te.ownerName||""}}),(x||[]).forEach(te=>{H[te.portfolioId]={name:te.portfolioName,value:te.currentValue||0,type:"Stock",owner:te.ownerName||""}}),(v||[]).forEach(te=>{H[te.investmentId]={name:te.investmentName,value:te.currentValue||0,type:"Other",owner:te.familyMemberName||""}}),H},[h,x,v]),ne=j.useMemo(()=>{const H=[];return(h||[]).filter(te=>te.status!=="Inactive").forEach(te=>{H.push({id:te.portfolioId,name:te.portfolioName?.replace(/^PFL-/,"")||te.portfolioName,value:te.currentValue||0,type:"MF",owner:te.ownerName||""})}),(x||[]).filter(te=>te.status!=="Inactive").forEach(te=>{H.push({id:te.portfolioId,name:te.portfolioName,value:te.currentValue||0,type:"Stock",owner:te.ownerName||""})}),(v||[]).filter(te=>te.status==="Active").forEach(te=>{H.push({id:te.investmentId,name:te.investmentName,value:te.currentValue||0,type:"Other",owner:te.familyMemberName||""})}),H},[h,x,v]),Ee=ne.filter(H=>H.type==="MF"),Ce=ne.filter(H=>H.type==="Stock"),oe=ne.filter(H=>H.type==="Other"),$e=j.useMemo(()=>{const H={};return(c||[]).forEach(te=>{if(te.goalId===T)return;H[te.portfolioId]||(H[te.portfolioId]={total:0,goals:[]}),H[te.portfolioId].total+=te.allocationPct;const ke=(r||[]).find(Ue=>Ue.goalId===te.goalId);H[te.portfolioId].goals.push({goalName:ke?.goalName||te.goalId,pct:te.allocationPct})}),H},[c,T,r]),Ie=j.useMemo(()=>{const H=[];for(const te of L){const Ue=($e[te.portfolioId]?.total||0)+(te.allocationPct||0);if(Ue>100){const se=ne.find(it=>it.id===te.portfolioId);H.push({name:se?.name||te.portfolioId,combined:Ue,excess:Ue-100})}}return H},[L,$e,ne]),Re=Ie.length===0;function rt(H){const te=(c||[]).filter(ke=>ke.goalId===H).map(ke=>({portfolioId:ke.portfolioId,allocationPct:ke.allocationPct,investmentType:ke.investmentType||xe(ke.portfolioId)}));q(te),$(H),Z(!1)}function Nt(){$(null),q([]),Z(!1)}function zt(H){T===H?Nt():rt(H)}function Ht(){const H=new Set(L.map(ke=>ke.portfolioId)),te=ne.find(ke=>!H.has(ke.id)&&($e[ke.id]?.total||0)<100);te&&(q(ke=>[...ke,{portfolioId:te.id,allocationPct:0,investmentType:te.type}]),Z(!0))}function Xt(H){q(te=>te.filter((ke,Ue)=>Ue!==H)),Z(!0)}function Zt(H,te,ke){q(Ue=>Ue.map((se,it)=>{if(it!==H)return se;if(te==="allocationPct"){const Ye=$e[se.portfolioId]?.total||0,Be=Math.max(0,100-Ye);return{...se,allocationPct:Math.max(0,Math.min(Be,Number(ke)||0))}}if(te==="portfolioId"){const Ye=ne.find(nt=>nt.id===ke),Be=$e[ke]?.total||0,Je=Math.max(0,100-Be);return{...se,portfolioId:ke,investmentType:Ye?.type||xe(ke),allocationPct:Math.min(se.allocationPct,Je)}}return se})),Z(!0)}async function ye(){if(Re){re(!0),S("Saving...");try{await u(T,L.filter(H=>H.allocationPct>0)),g("Allocation updated"),Nt()}catch(H){g(H.message||"Failed to save","error")}finally{y(),re(!1)}}}if(r===null)return a.jsx(fi,{title:"Loading goals",cards:5});async function _e(H){S("Saving...");try{C?.edit?await i(C.edit.goalId,H):await n(H),g(C?.edit?"Goal updated":"Goal added"),A(null)}catch(te){g(te.message||"Failed to save goal","error")}finally{y()}}async function ze(){if(C?.edit&&await N("Delete this goal?",{title:"Delete Goal",confirmLabel:"Delete"})){const H=C.edit.goalId,te=(c||[]).filter(ke=>ke.goalId===H);S("Deleting...");try{if(await l(H),A(null),te.length>0){const ke=te.some(Ue=>(c||[]).some(se=>se.portfolioId===Ue.portfolioId&&se.goalId!==H));g(ke?"Goal deleted  shared allocations freed":"Goal deleted")}else g("Goal deleted")}catch(ke){g(ke.message||"Failed to delete goal","error")}finally{y()}}}function Mt(H){return!H.targetAmount||H.targetAmount===0?0:Math.min((H.currentValue||0)/H.targetAmount*100,100)}function W(H){if(!H.targetDate)return null;const ke=(new Date(H.targetDate)-new Date)/(365.25*24*60*60*1e3);return ke>0?ke.toFixed(1):"0"}return a.jsxs("div",{className:"space-y-4",children:[R.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(Od,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No goals set",t?` for ${t.memberName}`:""]}),a.jsx("button",{onClick:()=>A("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first goal"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[a.jsx(Zo,{label:"Target",value:K(pe),bold:!0}),a.jsx(Zo,{label:"Current Value",value:K(je),bold:!0}),a.jsx(Zo,{label:"Gap",value:K(Math.max(pe-je,0)),positive:pe<=je,bold:!0}),a.jsx(Zo,{label:"Progress",value:`${ue.toFixed(1)}%`,sub:`${R.length} goal${R.length!==1?"s":""}${B>0?`  ${B} done`:""}`,positive:ue>=50,bold:!0}),a.jsx(Zo,{label:"Required SIP",value:K(we),sub:J>0?`${J} need attention`:"per month"}),a.jsx(Zo,{label:"Required Lumpsum",value:K(F),sub:"one-time today"})]}),D&&a.jsxs("div",{className:"relative bg-gradient-to-r from-emerald-500/10 via-yellow-500/10 to-emerald-500/10 rounded-xl border border-emerald-500/30 px-4 py-3 flex items-center gap-3 animate-fade-in overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:20}).map((H,te)=>a.jsx("span",{className:"absolute text-sm animate-confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*2}s`},children:["","","","",""][te%5]},te))}),a.jsx(VC,{size:20,className:"text-yellow-400 shrink-0 relative z-10"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-sm font-bold text-emerald-400",children:"Goal Achieved!"}),a.jsxs("p",{className:"text-xs text-[var(--text-secondary)]",children:[D.goalName,"  Congratulations!"]})]}),a.jsx("button",{onClick:()=>O(null),className:"ml-auto text-xs text-[var(--text-dim)] hover:text-[var(--text-primary)] relative z-10",children:"Dismiss"})]}),U.length>0&&a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-amber-500/20 p-4 space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(_B,{size:14,className:"text-amber-400"}),a.jsx("p",{className:"text-xs font-bold text-amber-400 uppercase tracking-wider",children:"De-risking Alerts"})]}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"These goals are approaching their deadline with high equity exposure. Consider moving funds to debt/liquid for capital protection."}),a.jsx("div",{className:"space-y-1.5",children:U.map(H=>a.jsxs("div",{className:"flex items-center justify-between bg-amber-500/5 rounded-lg px-3 py-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:H.goalName}),a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[H.yearsLeft," yrs left"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-xs font-bold text-amber-400",children:[H.equityPct,"% equity"]}),a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["Recommended max ",H.maxEquity,"%"]})]})]},H.goalId))})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>A("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Qr,{size:14})," Add Goal"]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:R.map(H=>{const te=Mt(H),ke=W(H),Ue=T===H.goalId,se=Ue?L:(c||[]).filter(Be=>Be.goalId===H.goalId),it=(c||[]).filter(Be=>Be.goalId===H.goalId).length,Ye=se.reduce((Be,Je)=>{const nt=Ne[Je.portfolioId];return Be+(nt?nt.value*Je.allocationPct/100:0)},0);return a.jsxs("div",{className:`bg-[var(--bg-card)] rounded-xl border overflow-hidden transition-colors ${Ue?"border-violet-500/40":"border-[var(--border)]"}`,children:[a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold text-[var(--text-primary)] truncate",children:H.goalName}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:G(H)}),a.jsx("span",{className:`text-[10px] font-semibold px-1.5 py-0.5 rounded ${loe[H.priority]||""}`,children:H.priority})]})]}),a.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded-full shrink-0 ${soe[H.status]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:H.status})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-inset)] rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full transition-all ${ooe[H.status]||"bg-blue-500"}`,style:{width:`${te}%`}})}),a.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums w-10 text-right",children:[te.toFixed(0),"%"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1.5 mb-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Current"}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(H.currentValue)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Target"}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(H.targetAmount)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Required SIP"}),a.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:[K(H.monthlyInvestment),"/mo"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Timeline"}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:H.status==="Achieved"?"Done":ke?`${ke} yrs left`:""})]})]}),a.jsxs("div",{className:"flex items-center gap-1 pt-2 border-t border-[var(--border-light)]",children:[a.jsxs("button",{onClick:Be=>{Be.stopPropagation(),zt(H.goalId)},className:`flex items-center gap-1 px-2.5 py-1.5 text-[10px] font-semibold rounded-lg transition-colors ${Ue?"bg-violet-500/20 text-violet-400":it>0?"text-violet-400 hover:bg-violet-500/10":"text-amber-400 hover:bg-amber-500/10"}`,children:[a.jsx(yO,{size:11}),Ue?"Linking...":it>0?`${it} linked`:"Link",!Ue&&it===0&&a.jsx("span",{className:"w-1.5 h-1.5 bg-amber-400 rounded-full animate-pulse"})]}),H.status==="Achieved"&&a.jsxs("button",{onClick:()=>M(H),className:"flex items-center gap-1 px-2.5 py-1.5 text-[10px] font-semibold text-[var(--text-dim)] hover:text-emerald-400 hover:bg-emerald-500/10 rounded-lg transition-colors",children:[a.jsx(fO,{size:11})," Withdraw"]}),a.jsxs("button",{onClick:()=>A({edit:H}),className:"flex items-center gap-1 px-2.5 py-1.5 text-[10px] font-semibold text-[var(--text-dim)] hover:text-[var(--text-primary)] hover:bg-white/5 rounded-lg transition-colors ml-auto",children:[a.jsx(da,{size:11})," Edit"]})]})]}),Ue&&a.jsxs("div",{className:"px-4 pb-4 space-y-2 border-t border-violet-500/20 bg-violet-500/[0.03]",children:[a.jsxs("div",{className:"flex items-center justify-between pt-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Gl,{size:12,className:"text-violet-400"}),a.jsx("span",{className:"text-xs font-semibold text-violet-400",children:"Link Investments"})]}),Ye>0&&a.jsxs("span",{className:"text-[10px] text-[var(--text-dim)]",children:["Linked value: ",K(Ye)]})]}),L.map((Be,Je)=>{const nt=ne.find(Fe=>Fe.id===Be.portfolioId),Ut=$e[Be.portfolioId],Qe=Ut?.total||0,De=100-Qe,We=Qe+(Be.allocationPct||0);return a.jsxs("div",{className:`bg-[var(--bg-card)] rounded-lg border p-2.5 space-y-1.5 ${We>100?"border-rose-500/40":"border-[var(--border-light)]"}`,children:[a.jsxs("select",{value:Be.portfolioId,onChange:Fe=>Zt(Je,"portfolioId",Fe.target.value),className:"w-full px-2 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)]",children:[Ee.length>0&&a.jsx("optgroup",{label:"MF Portfolios",children:Ee.map(Fe=>{const bt=($e[Fe.id]?.total||0)>=100,Bt=L.some((Yt,gr)=>gr!==Je&&Yt.portfolioId===Fe.id);return a.jsxs("option",{value:Fe.id,disabled:Bt||bt,children:[Fe.name,Fe.owner?` (${Fe.owner})`:"","  ",K(Fe.value),bt?" (Fully allocated)":""]},Fe.id)})}),Ce.length>0&&a.jsx("optgroup",{label:"Stock Portfolios",children:Ce.map(Fe=>{const bt=($e[Fe.id]?.total||0)>=100,Bt=L.some((Yt,gr)=>gr!==Je&&Yt.portfolioId===Fe.id);return a.jsxs("option",{value:Fe.id,disabled:Bt||bt,children:[Fe.name,Fe.owner?` (${Fe.owner})`:"","  ",K(Fe.value),bt?" (Fully allocated)":""]},Fe.id)})}),oe.length>0&&a.jsx("optgroup",{label:"Other Investments",children:oe.map(Fe=>{const bt=($e[Fe.id]?.total||0)>=100,Bt=L.some((Yt,gr)=>gr!==Je&&Yt.portfolioId===Fe.id);return a.jsxs("option",{value:Fe.id,disabled:Bt||bt,children:[Fe.name,Fe.owner?` (${Fe.owner})`:"","  ",K(Fe.value),bt?" (Fully allocated)":""]},Fe.id)})})]}),Qe>0&&a.jsxs("div",{className:`text-[10px] px-2 py-1 rounded ${We>100?"bg-rose-500/10 text-rose-400":"bg-blue-500/10 text-blue-400"}`,children:[Ut.goals.map(Fe=>`${Fe.goalName} (${Fe.pct}%)`).join(", "),"  ",a.jsxs("span",{className:"font-bold",children:["Available: ",Math.max(0,De),"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:"text-[10px] text-[var(--text-dim)]",children:"Allocation"}),a.jsx("input",{type:"number",value:Be.allocationPct,onChange:Fe=>Zt(Je,"allocationPct",Fe.target.value),className:"w-16 px-2 py-1 text-xs text-center bg-[var(--bg-input)] border border-[var(--border-input)] rounded-md text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)]",min:"0",max:De}),a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"%"}),a.jsx("button",{onClick:()=>Xt(Je),className:"p-1 text-[var(--text-dim)] hover:text-rose-400 rounded transition-colors ml-1",children:a.jsx(dc,{size:12})})]}),nt&&a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:["Contributes ",K(nt.value*Be.allocationPct/100)]})]})]},Je)}),Ie.length>0&&a.jsxs("div",{className:"bg-rose-500/10 border border-rose-500/20 rounded-lg px-3 py-2 space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(Hs,{size:12,className:"text-rose-400 shrink-0"}),a.jsx("span",{className:"text-[10px] font-bold text-rose-400 uppercase",children:"Over-allocated"})]}),Ie.map((Be,Je)=>a.jsxs("p",{className:"text-[10px] text-rose-300",children:[Be.name,": ",Be.combined,"% total (exceeds by ",Be.excess,"%)"]},Je))]}),(()=>{const Be=new Set(L.map(nt=>nt.portfolioId));return ne.some(nt=>!Be.has(nt.id)&&($e[nt.id]?.total||0)<100)&&a.jsxs("button",{onClick:Ht,className:"flex items-center gap-1.5 text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[a.jsx(Qr,{size:14})," Link Investment"]})})(),a.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2 border-t border-[var(--border-light)]",children:[a.jsx("button",{onClick:Nt,className:"px-4 py-1.5 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),a.jsx("button",{onClick:ye,disabled:!E||!Re||Q,className:"px-5 py-1.5 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Save"})]})]})]},H.goalId)})}),B>0&&a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-emerald-500/20 p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(VC,{size:14,className:"text-yellow-400"}),a.jsx("p",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Achieved Goals"})]}),a.jsx("div",{className:"flex gap-3 overflow-x-auto no-scrollbar pb-1",children:R.filter(H=>H.status==="Achieved").map(H=>a.jsxs("div",{className:"shrink-0 bg-emerald-500/10 border border-emerald-500/20 rounded-lg px-3 py-2 min-w-[160px]",children:[a.jsx("p",{className:"text-xs font-semibold text-emerald-400",children:H.goalName}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] mt-1",children:K(H.targetAmount)}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5",children:G(H)})]},H.goalId))})]})]}),a.jsx(mr,{open:!!C,onClose:()=>A(null),title:C?.edit?"Edit Goal":"Add Goal",wide:!0,children:a.jsx(aoe,{initial:C?.edit||void 0,onSave:_e,onDelete:C?.edit?ze:void 0,onCancel:()=>A(null)})}),a.jsx(mr,{open:!!k,onClose:()=>M(null),title:`Withdrawal Plan  ${k?.goalName||""}`,wide:!0,children:k&&a.jsx(ioe,{goal:k,onClose:()=>M(null)})})]})}function Zo({label:e,value:t,sub:r,positive:n,bold:i}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:`text-sm tabular-nums ${i?"font-bold":"font-semibold"} ${n===void 0?"text-[var(--text-primary)]":n?"text-emerald-400":"text-[var(--accent-amber)]"}`,children:t}),r&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:r})]})}const uoe=[{label:"Family Members",desc:"Manage family profiles",icon:Kl,path:"/family",color:"bg-violet-500/15 text-violet-400"},{label:"Investment Accounts",desc:"Demat & trading accounts",icon:uO,path:"/accounts/investment",color:"bg-blue-500/15 text-blue-400"},{label:"Insurance",desc:"Life & health policies",icon:ic,path:"/insurance",color:"bg-cyan-500/15 text-cyan-400"},{label:"Stocks",desc:"Stock portfolio holdings",icon:ac,path:"/investments/stocks",color:"bg-indigo-500/15 text-indigo-400"},{label:"Other Investments",desc:"FD, PPF, Gold, NPS & more",icon:NO,path:"/investments/other",color:"bg-teal-500/15 text-teal-400"},{label:"Liabilities",desc:"Loans & outstanding balances",icon:Rh,path:"/liabilities",color:"bg-rose-500/15 text-rose-400"},{label:"Reminders",desc:"View and manage reminders",icon:C1,path:"/reminders",color:"bg-amber-500/15 text-[var(--accent-amber)]"}],doe=[{label:"Health Check",desc:"Financial health questionnaire",icon:kO,path:"/health-check",color:"bg-emerald-500/15 text-emerald-400"},{label:"Settings",desc:"App configuration",icon:CO,path:"/settings",color:"bg-slate-500/15 text-[var(--text-muted)]"},{label:"About",desc:"Capital Friends v2.0",icon:gO,path:"/about",color:"bg-violet-500/15 text-[var(--accent-violet)]"}];function XE({item:e,onClick:t}){return a.jsxs("button",{onClick:t,className:"w-full flex items-center gap-3 bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-3.5 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[a.jsx("div",{className:`w-9 h-9 rounded-lg flex items-center justify-center shrink-0 ${e.color}`,children:a.jsx(e.icon,{size:17})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:e.label}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)]",children:e.desc})]}),a.jsx(yn,{size:14,className:"text-[var(--text-dim)] shrink-0"})]})}function foe(){const e=Ks(),[t,r]=j.useState(!1);return a.jsxs("div",{className:"space-y-5",children:[a.jsx("h1",{className:"text-base font-bold text-[var(--text-primary)]",children:"More"}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-dim)] px-1",children:"Navigate"}),a.jsx("div",{className:"space-y-1.5",children:uoe.map(n=>a.jsx(XE,{item:n,onClick:()=>e(n.path)},n.label))})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-dim)] px-1",children:"Tools & Settings"}),a.jsx("div",{className:"space-y-1.5",children:doe.map(n=>a.jsx(XE,{item:n,onClick:()=>e(n.path)},n.label))})]}),a.jsx("button",{onClick:()=>r(!0),className:"w-full text-left rounded-xl border border-amber-500/25 p-4 hover:border-amber-500/40 transition-colors",style:{background:"linear-gradient(135deg, rgba(245,158,11,0.06) 0%, rgba(139,92,246,0.04) 100%)"},children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center shrink-0 bg-amber-500/15",children:a.jsx(Wl,{size:20,className:"text-amber-400"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold text-amber-400",children:"Support the Developer"}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5",children:"Capital Friends is free. If it helps, consider a small donation!"})]}),a.jsx(yn,{size:14,className:"text-amber-400/60 shrink-0"})]})}),a.jsx(ON,{open:t,onClose:()=>r(!1)})]})}const Jm=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function moe(){const e=Ks(),{theme:t,toggle:r}=iO(),{members:n,settings:i,updateSettings:l,updateMember:c,healthCheckCompleted:u,refreshData:f,isRefreshing:m}=ht(),{user:h,signOut:x}=ao(),{masked:v,toggleMask:g,mv:S}=Oa(),[y,N]=j.useState(!1),C=n.filter(J=>J.status==="Active"),[A,k]=j.useState("Daily"),[M,D]=j.useState("09"),[O,P]=j.useState("Monday"),[T,$]=j.useState(!1),[L,q]=j.useState(!1),[E,Z]=j.useState(!1),[Q,re]=j.useState(null),[R,G]=j.useState(!1),[pe,je]=j.useState(null);j.useEffect(()=>{!i||!Object.keys(i).length||(i.EmailFrequency&&k(i.EmailFrequency),i.EmailHour!=null&&D(String(i.EmailHour).padStart(2,"0")),i.EmailDayOfWeek!=null&&P(Jm[Number(i.EmailDayOfWeek)]||"Monday"))},[i]);async function we(){$(!0),q(!1);try{const J=Jm.indexOf(O);await l({EmailFrequency:A==="None"?"None":A,EmailConfigured:A==="None"?"FALSE":"TRUE",EmailHour:String(parseInt(M,10)),EmailMinute:"0",EmailDayOfWeek:String(J>=0?J:1)}),q(!0),setTimeout(()=>q(!1),2e3)}catch(J){alert("Failed to save: "+J.message)}finally{$(!1)}}async function F(){G(!0),je(null);try{const J=await CF();je(J)}catch(J){je({error:J.message})}finally{G(!1)}}function ue(J){if(!J)return"Never";try{const B=new Date(J);if(isNaN(B.getTime()))return"Unknown";const z=Date.now(),U=Math.floor((z-B.getTime())/(1e3*60));if(U<1)return"Just now";if(U<60)return U+" min ago";const xe=Math.floor(U/60);return xe<24?xe+"h ago":B.toLocaleDateString("en-IN",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}catch{return"Unknown"}}return a.jsxs("div",{className:"space-y-4 max-w-xl mx-auto",children:[a.jsxs(nd,{children:[a.jsx(ep,{icon:a.jsx(HB,{size:14}),title:"Account"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(Ml,{label:"Signed in as",children:a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate max-w-[200px]",children:S(h?.email,"email")||""})}),a.jsx(Ml,{label:"Name",children:a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:h?.name||""})}),a.jsx("div",{className:"pt-1",children:a.jsxs("button",{onClick:x,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold text-red-500 border border-red-200 dark:border-red-800/40 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[a.jsx(jO,{size:12}),"Sign Out"]})})]})]}),a.jsxs(nd,{children:[a.jsx(ep,{icon:a.jsx(pB,{size:14}),title:"Preferences"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(Ml,{label:"Theme",children:a.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-3 py-1.5 text-xs font-semibold rounded-lg border border-[var(--border)] bg-[var(--bg-inset)] text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[t==="dark"?a.jsx(sy,{size:12}):a.jsx(ly,{size:12}),t==="dark"?"Dark":"Light"]})}),a.jsx("div",{className:"border-t border-[var(--border-light)]"}),a.jsx(Ml,{label:"Mask sensitive data",children:a.jsx("button",{onClick:g,className:`relative w-9 h-5 rounded-full transition-colors shrink-0 ${v?"bg-amber-500":"bg-[var(--bg-inset)] border border-[var(--border)]"}`,children:a.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full transition-all ${v?"left-[18px] bg-white":"left-0.5 bg-[var(--text-dim)]"}`})})}),a.jsxs("p",{className:"text-[11px] text-[var(--text-dim)]",children:["Hides PAN, Aadhaar, mobile, email & account numbers. Use the ",v?a.jsx(kp,{size:10,className:"inline text-amber-400"}):a.jsx(Cp,{size:10,className:"inline"})," icon in the header to quickly toggle."]}),v&&a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[a.jsx(kp,{size:13,className:"text-amber-400 shrink-0"}),a.jsx("p",{className:"text-[11px] text-amber-400 font-medium",children:"Data masking active  safe for screen sharing"})]})]})]}),a.jsxs(nd,{children:[a.jsx(ep,{icon:a.jsx(Az,{size:14}),title:"Data & Sync"}),a.jsxs("div",{className:"px-4 py-4 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"Sync App Data"}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5",children:"Re-fetch all data from your Google Sheet"})]}),a.jsxs("button",{onClick:()=>f(!0),disabled:m,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-lg border border-[var(--border)] text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-50",children:[a.jsx(yz,{size:12,className:m?"animate-pulse":""}),m?"Syncing...":"Sync Now"]})]}),a.jsx("div",{className:"border-t border-[var(--border-light)]"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"Refresh Market Data"}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5",children:"Update MF NAVs, ATH & Stock prices"})]}),a.jsxs("button",{onClick:F,disabled:R,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-lg bg-violet-600 text-white hover:bg-violet-500 transition-colors disabled:opacity-50",children:[a.jsx(Ap,{size:12,className:R?"animate-spin":""}),R?"Refreshing...":"Refresh Now"]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-[11px] text-[var(--text-dim)]",children:[a.jsxs("span",{children:["Last: ",a.jsx("span",{className:"font-medium text-[var(--text-muted)]",children:ue(i.masterDataLastSync)})]}),i._stale&&a.jsx("span",{className:"font-bold text-amber-600 px-1.5 py-0.5 rounded bg-amber-100 dark:bg-amber-900/30 text-[10px]",children:"STALE"}),i._navDataDate&&a.jsxs("span",{children:["NAV: ",a.jsx("span",{className:"font-medium text-[var(--text-muted)]",children:i._navDataDate})]})]})]}),pe&&a.jsx("div",{className:`text-xs px-3 py-2 rounded-lg ${pe.error?"bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400":"bg-green-50 text-green-600 dark:bg-green-900/20 dark:text-green-400"}`,children:pe.error?"Failed: "+pe.error:`Done  MF: ${pe.mf?.count||0} | ATH: ${pe.ath?.count||0} | Stocks: ${pe.stocks?.count||0} (${pe.duration})`})]})]}),a.jsxs(nd,{children:[a.jsx(ep,{icon:a.jsx(Lh,{size:14}),title:"Email Reports"}),a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx(Ml,{label:"Frequency",children:a.jsx(ty,{value:A,onChange:k,options:["Daily","Weekly","Monthly","None"]})}),A!=="None"&&a.jsx(Ml,{label:"Send time",children:a.jsx(ty,{value:M,onChange:D,options:Array.from({length:24},(J,B)=>String(B).padStart(2,"0")),suffix:":00"})}),A==="Weekly"&&a.jsx(Ml,{label:"Day",children:a.jsx(ty,{value:O,onChange:P,options:Jm.slice(1).concat(Jm[0])})}),a.jsx("div",{className:"flex justify-end pt-1",children:a.jsx("button",{onClick:we,disabled:T,className:"px-4 py-1.5 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50",children:T?"Saving...":L?"Saved!":"Save"})}),C.length>0&&a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"Send report to"}),a.jsx("div",{className:"space-y-2",children:C.map(J=>a.jsx(poe,{member:J,onToggle:c},J.memberId))})]}),C.length===0&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] pt-1",children:"Add family members to configure email recipients."}),a.jsx("div",{className:"border-t border-[var(--border-light)] pt-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-secondary)]",children:"Send Report Now"}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)]",children:"Send wealth report to all enabled members"})]}),a.jsxs("button",{onClick:async()=>{Z(!0),re(null);try{await kF(),re("sent"),setTimeout(()=>re(null),5e3)}catch{re("error"),setTimeout(()=>re(null),5e3)}finally{Z(!1)}},disabled:E,className:"flex items-center gap-1.5 px-3.5 py-1.5 text-xs font-semibold rounded-lg transition-colors disabled:opacity-50",style:{background:Q==="sent"?"rgba(16,185,129,0.1)":Q==="error"?"rgba(248,113,113,0.1)":"rgba(139,92,246,0.1)",color:Q==="sent"?"#34d399":Q==="error"?"#f87171":"#a78bfa",border:`1px solid ${Q==="sent"?"rgba(16,185,129,0.2)":Q==="error"?"rgba(248,113,113,0.2)":"rgba(139,92,246,0.2)"}`},children:[E?a.jsx(Ap,{size:12,className:"animate-spin"}):a.jsx(AB,{size:12}),E?"Sending...":Q==="sent"?"Sent!":Q==="error"?"Failed":"Send Now"]})]})})]})]}),a.jsx(nd,{children:a.jsxs("div",{className:"divide-y divide-[var(--border-light)]",children:[a.jsxs("button",{onClick:()=>e("/health-check"),className:"w-full flex items-center gap-3 px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shrink-0 bg-amber-500/15",children:a.jsx(kO,{size:15,className:"text-amber-400"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"Financial Health Check"}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)]",children:u?"Completed  update your answers":"Take the health check questionnaire"})]}),u&&a.jsx("span",{className:"text-[10px] font-bold text-emerald-400 px-1.5 py-0.5 rounded bg-emerald-500/10 shrink-0",children:"Done"}),a.jsx(yn,{size:14,className:"text-[var(--text-dim)] shrink-0"})]}),a.jsxs("button",{onClick:()=>e("/about"),className:"w-full flex items-center gap-3 px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shrink-0 bg-violet-500/15",children:a.jsx(gO,{size:15,className:"text-violet-400"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:"About Capital Friends"}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)]",children:"v2.0  Features, links & contact"})]}),a.jsx(yn,{size:14,className:"text-[var(--text-dim)] shrink-0"})]})]})}),a.jsx("button",{onClick:()=>N(!0),className:"w-full text-left rounded-xl border border-amber-500/25 p-4 hover:border-amber-500/40 transition-colors",style:{background:"linear-gradient(135deg, rgba(245,158,11,0.06) 0%, rgba(139,92,246,0.04) 100%)"},children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center shrink-0 bg-amber-500/15",children:a.jsx(Wl,{size:20,className:"text-amber-400"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold text-amber-400",children:"Support the Developer"}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5",children:"Capital Friends is free. If it helps your family, consider a small donation!"})]})]})}),a.jsx(ON,{open:y,onClose:()=>N(!1)})]})}function nd({children:e}){return a.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:e})}function ep({icon:e,title:t}){return a.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[var(--text-muted)]",children:e}),a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:t})]})})}function Ml({label:e,children:t}){return a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] shrink-0",children:e}),t]})}function ty({value:e,onChange:t,options:r,suffix:n}){return a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:e,onChange:i=>t(i.target.value),className:"appearance-none pl-3 pr-7 py-1.5 text-xs font-semibold bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-violet-500 cursor-pointer",children:r.map(i=>a.jsxs("option",{value:i,children:[i,n||""]},i))}),a.jsx(Gl,{size:10,className:"absolute right-2 top-1/2 -translate-y-1/2 text-[var(--text-dim)] pointer-events-none"})]})}function poe({member:e,onToggle:t}){const{mv:r}=Oa(),n=e.includeInEmailReports==="Yes"||e.includeInEmailReports===!0,[i,l]=j.useState(n),[c,u]=j.useState(!1);j.useEffect(()=>{l(n)},[n]);async function f(){const m=!i;l(m),u(!0);try{await t(e.memberId,{...e,includeInEmailReports:m?"Yes":"No"})}catch{l(!m)}finally{u(!1)}}return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-violet-100 dark:bg-violet-900/30 flex items-center justify-center shrink-0",children:a.jsx("span",{className:"text-[10px] font-bold text-violet-600",children:e.memberName?.charAt(0)?.toUpperCase()})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] truncate",children:r(e.memberName,"name")}),e.email&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] truncate",children:r(e.email,"email")})]})]}),a.jsx("button",{onClick:f,disabled:c,className:`relative w-9 h-5 rounded-full transition-colors shrink-0 disabled:opacity-50 ${i?"bg-violet-500":"bg-[var(--bg-inset)] border border-[var(--border)]"}`,children:a.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full transition-all ${i?"left-[18px] bg-white":"left-0.5 bg-[var(--text-dim)]"}`})})]})}const hoe=["SIP Due Date","Insurance Renewal","FD Maturity","Loan EMI","Investment Review","Custom"].map(e=>({value:e,label:e})),xoe=[{value:"One-time",label:"One-time"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"},{value:"Yearly",label:"Yearly"}],voe=[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}];function goe({initial:e,onSave:t,onDelete:r,onCancel:n}){const i=!!e,{activeMembers:l}=ht(),c=l.map(N=>({value:N.memberId,label:N.memberName})),[u,f]=j.useState({reminderType:e?.reminderType||"",title:e?.title||"",description:e?.description||"",familyMemberId:e?.familyMemberId||"",dueDate:e?.dueDate||"",advanceNoticeDays:e?.advanceNoticeDays?.toString()||"7",frequency:e?.frequency||"One-time",priority:e?.priority||"Medium",status:e?.status||"Pending"}),[m,h]=j.useState({}),[x,v]=j.useState(!1);function g(N,C){f(A=>({...A,[N]:C})),h(A=>({...A,[N]:void 0}))}function S(){const N={};return u.reminderType||(N.reminderType="Required"),u.title.trim()||(N.title="Required"),u.familyMemberId||(N.familyMemberId="Required"),u.dueDate||(N.dueDate="Required"),h(N),Object.keys(N).length===0}async function y(){if(S()){v(!0);try{await t({...u,advanceNoticeDays:Number(u.advanceNoticeDays)||7})}finally{v(!1)}}}return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Reminder Type",required:!0,error:m.reminderType,children:a.jsx(tt,{value:u.reminderType,onChange:N=>g("reminderType",N),options:hoe,placeholder:"Select type..."})}),a.jsx(me,{label:"Title",required:!0,error:m.title,children:a.jsx(Pe,{value:u.title,onChange:N=>g("title",N),placeholder:"e.g., HDFC SIP Due"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(me,{label:"Family Member",required:!0,error:m.familyMemberId,children:a.jsx(tt,{value:u.familyMemberId,onChange:N=>g("familyMemberId",N),options:c,placeholder:"Select member..."})}),a.jsx(me,{label:"Due Date",required:!0,error:m.dueDate,children:a.jsx(ka,{value:u.dueDate,onChange:N=>g("dueDate",N),maxDate:null})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(me,{label:"Frequency",children:a.jsx(tt,{value:u.frequency,onChange:N=>g("frequency",N),options:xoe})}),a.jsx(me,{label:"Priority",children:a.jsx(tt,{value:u.priority,onChange:N=>g("priority",N),options:voe})}),a.jsx(me,{label:"Advance Notice (days)",children:a.jsx(Pe,{type:"number",value:u.advanceNoticeDays,onChange:N=>g("advanceNoticeDays",N),placeholder:"7"})})]}),i&&a.jsx(me,{label:"Status",children:a.jsx(tt,{value:u.status,onChange:N=>g("status",N),options:[{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"}]})}),a.jsx(me,{label:"Description",children:a.jsx(kc,{value:u.description,onChange:N=>g("description",N),placeholder:"Optional details...",rows:2})}),a.jsxs("div",{className:"flex items-center justify-between",children:[i&&r?a.jsx(is,{onClick:r,label:"Delete"}):a.jsx("div",{}),a.jsx(un,{onCancel:n,onSubmit:y,submitLabel:i?"Update Reminder":"Add Reminder",loading:x})]})]})}const tp={"SIP Due Date":"bg-violet-500/15 text-[var(--accent-violet)]","Insurance Renewal":"bg-amber-500/15 text-[var(--accent-amber)]","FD Maturity":"bg-blue-500/15 text-[var(--accent-blue)]","Loan EMI":"bg-rose-500/15 text-[var(--accent-rose)]","Investment Review":"bg-emerald-500/15 text-emerald-400",Custom:"bg-slate-500/15 text-[var(--text-muted)]"},ZE={High:"bg-rose-500",Medium:"bg-amber-500",Low:"bg-blue-500"};function Jo(e){if(!e)return 1/0;const t=new Date(e)-new Date;return Math.ceil(t/(1440*60*1e3))}function boe(){const{selectedMember:e,member:t}=Br(),{reminderList:r,addReminder:n,updateReminder:i,deleteReminder:l}=ht(),{showToast:c,showBlockUI:u,hideBlockUI:f}=oi(),m=ci(),[h,x]=j.useState(null),v=j.useMemo(()=>{const M=r.filter(D=>D.isActive!==!1);return e==="all"?M:M.filter(D=>D.familyMemberId===e)},[r,e]),g=v.filter(M=>Jo(M.dueDate)<0).length,S=v.filter(M=>{const D=Jo(M.dueDate);return D>=0&&D<=7}).length,y=v.filter(M=>{const D=Jo(M.dueDate);return D>7&&D<=30}).length,N=[...v].sort((M,D)=>{const O=Jo(M.dueDate),P=Jo(D.dueDate);return O-P});async function C(M){u("Saving...");try{h?.edit?await i(h.edit.reminderId,M):await n(M),c(h?.edit?"Reminder updated":"Reminder added"),x(null)}catch(D){c(D.message||"Failed to save reminder","error")}finally{f()}}async function A(){if(h?.edit&&await m("Delete this reminder?",{title:"Delete Reminder",confirmLabel:"Delete"})){u("Deleting...");try{await l(h.edit.reminderId),c("Reminder deleted"),x(null)}catch(M){c(M.message||"Failed to delete reminder","error")}finally{f()}}}function k(M){const D=Jo(M);return D<0?{label:`${Math.abs(D)}d overdue`,cls:"bg-rose-500/20 text-[var(--accent-rose)]"}:D===0?{label:"Today",cls:"bg-rose-500/20 text-[var(--accent-rose)]"}:D<=7?{label:`${D}d`,cls:"bg-amber-500/20 text-[var(--accent-amber)]"}:D<=30?{label:`${D}d`,cls:"bg-blue-500/20 text-[var(--accent-blue)]"}:{label:`${D}d`,cls:"bg-slate-500/20 text-[var(--text-muted)]"}}return a.jsxs("div",{className:"space-y-4",children:[v.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(ez,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No reminders",t?` for ${t.memberName}`:""]}),a.jsx("button",{onClick:()=>x("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add a reminder"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(rp,{label:"Active",value:v.length}),g>0&&a.jsx(rp,{label:"Overdue",value:g,color:"rose"}),S>0&&a.jsx(rp,{label:"Due This Week",value:S,color:"amber"}),a.jsx(rp,{label:"Next 30 Days",value:y})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>x("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Qr,{size:14})," Add Reminder"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[680px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Reminder"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),!t&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Due Date"}),a.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Frequency"}),a.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:N.map(M=>{const D=k(M.dueDate);return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${ZE[M.priority]||"bg-slate-400"}`}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:M.title}),M.description&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] truncate max-w-[200px]",children:M.description})]})]})}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${tp[M.reminderType]||tp.Custom}`,children:M.reminderType})}),!t&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:M.familyMemberName}),a.jsx("td",{className:"py-2.5 px-3 text-center",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:M.dueDate}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${D.cls}`,children:D.label})]})}),a.jsx("td",{className:"py-2.5 px-3 text-center text-xs text-[var(--text-muted)]",children:M.frequency}),a.jsx("td",{className:"py-2.5 px-3 text-center",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${M.status==="Pending"?"bg-amber-500/15 text-[var(--accent-amber)]":"bg-emerald-500/15 text-emerald-400"}`,children:M.status})}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>x({edit:M}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(da,{size:12})})})]},M.reminderId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:N.map(M=>{const D=k(M.dueDate);return a.jsxs("div",{onClick:()=>x({edit:M}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${ZE[M.priority]||"bg-slate-400"}`}),a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:M.title})]}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ml-2 ${tp[M.reminderType]||tp.Custom}`,children:M.reminderType})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[M.familyMemberName,"  ",M.frequency]}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${D.cls}`,children:D.label})]})]},M.reminderId)})})]})]}),a.jsx(mr,{open:!!h,onClose:()=>x(null),title:h?.edit?"Edit Reminder":"Add Reminder",wide:!0,children:a.jsx(goe,{initial:h?.edit||void 0,onSave:C,onDelete:h?.edit?A:void 0,onCancel:()=>x(null)})})]})}function rp({label:e,value:t,color:r}){const n=r==="rose"?"text-[var(--accent-rose)]":r==="amber"?"text-[var(--accent-amber)]":"text-[var(--text-primary)]";return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:`text-sm font-bold tabular-nums ${n}`,children:t})]})}const JE={BUY:"bg-emerald-500/15 text-emerald-400",SELL:"bg-rose-500/15 text-[var(--accent-rose)]"},yoe={INITIAL:"bg-violet-500/15 text-[var(--accent-violet)]",SIP:"bg-blue-500/15 text-[var(--accent-blue)]",LUMPSUM:"bg-emerald-500/15 text-emerald-400",WITHDRAWAL:"bg-amber-500/15 text-[var(--accent-amber)]",SWITCH:"bg-orange-500/15 text-[var(--accent-orange)]"};function joe(){const{selectedMember:e}=Br(),{mfTransactions:t,mfPortfolios:r,stockTransactions:n,stockPortfolios:i}=ht(),[l,c]=j.useState("mf"),[u,f]=j.useState("all"),m=j.useMemo(()=>{let y=[...t].sort((N,C)=>new Date(C.date)-new Date(N.date));if(e!=="all"){const N=new Set(r.filter(C=>C.ownerId===e).map(C=>C.portfolioId));y=y.filter(C=>N.has(C.portfolioId))}return u!=="all"&&(y=y.filter(N=>N.type===u)),y},[t,r,e,u]),h=j.useMemo(()=>{let y=[...n].sort((N,C)=>new Date(C.date)-new Date(N.date));if(e!=="all"){const N=new Set(i.filter(C=>C.ownerId===e).map(C=>C.portfolioId));y=y.filter(C=>N.has(C.portfolioId))}return u!=="all"&&(y=y.filter(N=>N.type===u)),y},[n,i,e,u]),x=l==="mf"?m:h,v=x.filter(y=>y.type==="BUY").reduce((y,N)=>y+(N.totalAmount||0),0),g=x.filter(y=>y.type==="SELL").reduce((y,N)=>y+(N.totalAmount||0),0),S=x.reduce((y,N)=>y+(N.gainLoss||N.realizedPL||0),0);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(np,{label:"Transactions",value:x.length}),a.jsx(np,{label:"Total Bought",value:K(v)}),a.jsx(np,{label:"Total Sold",value:K(g)}),a.jsx(np,{label:"Realized P&L",value:`${S>=0?"+":""}${K(Math.abs(S))}`,positive:S>=0,bold:!0})]}),a.jsxs("div",{className:"flex items-center justify-between px-1",children:[a.jsx("div",{className:"flex gap-1",children:["mf","stocks"].map(y=>a.jsx("button",{onClick:()=>c(y),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${l===y?"bg-violet-500/20 text-violet-400 border border-violet-500/30":"text-[var(--text-dim)] hover:text-[var(--text-primary)] border border-transparent"}`,children:y==="mf"?"Mutual Funds":"Stocks"},y))}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(xO,{size:12,className:"text-[var(--text-dim)]"}),["all","BUY","SELL"].map(y=>a.jsx("button",{onClick:()=>f(y),className:`px-2 py-1 text-xs font-semibold rounded transition-colors ${u===y?"bg-[var(--bg-card)] text-[var(--text-primary)] border border-[var(--border)]":"text-[var(--text-dim)] hover:text-[var(--text-muted)]"}`,children:y==="all"?"All":y},y))]})]}),a.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:x.length===0?a.jsxs("div",{className:"py-12 flex flex-col items-center gap-3",children:[a.jsx(Bz,{size:32,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions found"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:l==="mf"?"Fund":"Stock"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Portfolio"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:l==="mf"?"Units":"Qty"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:l==="mf"?"NAV":"Price"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"})]})}),a.jsx("tbody",{children:x.map(y=>{const N=y.gainLoss||y.realizedPL||0;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-muted)] tabular-nums",children:y.date}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${JE[y.type]||""}`,children:y.type}),y.transactionType&&a.jsx("span",{className:`text-[10px] font-semibold px-1 py-0.5 rounded ${yoe[y.transactionType]||""}`,children:y.transactionType})]})}),a.jsxs("td",{className:"py-2.5 px-3",children:[y.fundName?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate max-w-[180px]",children:Le(y.fundName).main}),Le(y.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(y.fundName).plan})]}):a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate max-w-[180px]",children:y.companyName}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:y.fundCode||y.symbol})]}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)]",children:y.portfolioName||""}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:(y.units||y.quantity||0).toFixed(l==="mf"?2:0)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:K(y.price||y.pricePerShare||0)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(y.totalAmount||0)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:N!==0?a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${N>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[N>=0?"+":"",K(Math.abs(N))]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})]},y.transactionId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:x.map(y=>(y.gainLoss||y.realizedPL,a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("div",{className:"flex-1 min-w-0 mr-2",children:y.fundName?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:Le(y.fundName).main}),Le(y.fundName).plan&&a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:Le(y.fundName).plan})]}):a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:y.companyName})}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded shrink-0 ${JE[y.type]||""}`,children:y.type})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[y.date,"  ",y.portfolioName]}),a.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[a.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[(y.units||y.quantity||0).toFixed(l==="mf"?2:0)," @ ",K(y.price||y.pricePerShare||0)]}),a.jsx("span",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:K(y.totalAmount||0)})]})]},y.transactionId)))})]})})]})}function np({label:e,value:t,positive:r,bold:n}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:e}),a.jsx("p",{className:`text-sm tabular-nums ${n?"font-bold":"font-semibold"} ${r===void 0?"text-[var(--text-primary)]":r?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:t})]})}const Ua=[{id:"healthIns",question:"Does your family have Health Insurance?",tip:"50L to 1Cr family floater recommended (considering inflation & future expenses)",category:"Insurance",autoFromPolicies:!0},{id:"termLife",question:"Do you have adequate Term Life Insurance?",tip:"Recommended: 10-15x annual income",category:"Insurance",autoFromPolicies:!0},{id:"emergencyFund",question:"Do you have an Emergency Fund?",tip:"6-12 months of monthly expenses in liquid assets",category:"Savings"},{id:"familyAware",question:"Is your family aware of all investments?",tip:"Ensure nominees and family know about all assets",category:"Planning"},{id:"hasWill",question:"Do you have a Will?",tip:"Legal document for asset distribution",category:"Planning"},{id:"nominees",question:"Have you updated Nominees on all accounts?",tip:"Bank, demat, insurance, MF  all should have nominees",category:"Planning"},{id:"goals",question:"Do you have clearly defined Financial Goals?",tip:"Retirement, education, home  with target amounts and dates",category:"Goals"}];function Noe(){const e=Ks(),{members:t,insurancePolicies:r,goalList:n,otherInvList:i,healthCheckCompleted:l,completeHealthCheck:c}=ht(),u=t.filter(L=>L.status==="Active"),f=l===!1,[m,h]=j.useState(!1),[x,v]=j.useState(!0),[g,S]=j.useState(null),y=j.useMemo(()=>{const L={},q=r.filter(re=>re.policyType==="Health"&&re.status==="Active");L.healthIns=q.length>0;const E=r.filter(re=>re.policyType==="Term Life"&&re.status==="Active");L.termLife=E.length>0;const Z=n.filter(re=>re.goalType==="Emergency Fund"&&re.isActive),Q=i.filter(re=>re.investmentType==="FD"||re.investmentType==="PPF");return L.emergencyFund=Z.length>0||Q.length>0,L.goals=n.filter(re=>re.isActive).length>=2,L},[r,n,i]);j.useEffect(()=>{let L=!1;async function q(){const E=await tO("healthCheckAnswers");!L&&E&&(S(E),v(!1));try{const Z=await eO();!L&&Z&&(S(Z),an("healthCheckAnswers",Z))}catch{}L||v(!1)}return q(),()=>{L=!0}},[]);const[N,C]=j.useState(()=>{const L={};return Ua.forEach(q=>{L[q.id]=q.autoFromPolicies?y[q.id]?"yes":"no":y[q.id]?"yes":""}),L});j.useEffect(()=>{g&&C(L=>{const q={...L};return Ua.forEach(E=>{if(E.autoFromPolicies)q[E.id]=y[E.id]?"yes":"no";else{const Z=g[E.id];Z==="Yes"?q[E.id]="yes":Z==="No"&&(q[E.id]="no")}}),q})},[g,y]);const A=Object.values(N).filter(L=>L).length,k=Object.values(N).filter(L=>L==="yes").length,M=A===Ua.length,D=A>0?Math.round(k/Ua.length*100):0;function O(){return D>=80?"text-emerald-400":D>=50?"text-[var(--accent-amber)]":"text-[var(--accent-rose)]"}function P(){return D>=80?"Excellent":D>=60?"Good":D>=40?"Needs Work":"Critical"}const T=j.useMemo(()=>{const L=[];return N.healthIns!=="yes"&&L.push({severity:"critical",text:"Get Health Insurance for your family",action:"Minimum 5L cover recommended"}),N.termLife!=="yes"&&L.push({severity:"critical",text:"Get Term Life Insurance (10-15x annual income)",action:"Compare plans online"}),N.emergencyFund!=="yes"&&L.push({severity:"warning",text:"Build an Emergency Fund",action:"Save 6-12 months expenses in liquid fund/FD"}),N.familyAware!=="yes"&&L.push({severity:"warning",text:"Share investment details with family",action:"Create a document with all account info"}),N.hasWill!=="yes"&&L.push({severity:"warning",text:"Create a legal Will",action:"Consult a lawyer for Will registration"}),N.nominees!=="yes"&&L.push({severity:"warning",text:"Update nominees on all accounts",action:"Check bank, demat, insurance, MF accounts"}),N.goals!=="yes"&&L.push({severity:"info",text:"Define clear financial goals",action:"Use the Goal Planner to set targets"}),L},[N]),$=j.useCallback(async()=>{if(M){h(!0);try{const L={};Ua.forEach(q=>{L[q.id]=N[q.id]==="yes"?"Yes":"No"}),L.score=k,L.total=Ua.length,await c(L),e("/dashboard")}catch(L){console.error("Failed to save health check:",L)}finally{h(!1)}}},[M,N,k,c,e]);return a.jsxs("div",{className:"space-y-4 max-w-2xl mx-auto",children:[f&&a.jsxs("div",{className:"bg-violet-500/10 border border-violet-500/20 rounded-xl p-4",children:[a.jsx("h2",{className:"text-base font-bold text-violet-400 mb-1",children:"Welcome to Capital Friends!"}),a.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Before you start, please complete this quick Financial Health Check. It takes less than a minute and helps you understand where your family stands financially."})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(pO,{size:16,className:"text-violet-400"}),a.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:"Financial Health Score"})]}),a.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[A,"/",Ua.length," answered"]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative w-20 h-20",children:[a.jsxs("svg",{className:"w-20 h-20 -rotate-90",viewBox:"0 0 36 36",children:[a.jsx("path",{d:"M18 2.0845a 15.9155 15.9155 0 0 1 0 31.831a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"var(--border)",strokeWidth:"3"}),a.jsx("path",{d:"M18 2.0845a 15.9155 15.9155 0 0 1 0 31.831a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:`${D}, 100`,className:O(),strokeLinecap:"round"})]}),a.jsxs("span",{className:`absolute inset-0 flex items-center justify-center text-lg font-bold ${O()}`,children:[D,"%"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:`text-base font-bold ${O()}`,children:P()}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:[k," of ",Ua.length," checks passed"]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[u.length," family members tracked"]})]})]})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Health Check Questions"})}),a.jsx("div",{className:"divide-y divide-[var(--border-light)]",children:Ua.map((L,q)=>{const E=L.autoFromPolicies;return a.jsxs("div",{className:`px-4 py-3 ${E?"opacity-80":""}`,children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"text-sm text-[var(--text-primary)]",children:[a.jsxs("span",{className:"text-[var(--text-dim)] mr-2",children:[q+1,"."]}),L.question]}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5 ml-5",children:L.tip})]}),a.jsxs("div",{className:"flex gap-1 shrink-0",children:[a.jsx("button",{onClick:()=>!E&&C(Z=>({...Z,[L.id]:"yes"})),disabled:E,className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${N[L.id]==="yes"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"bg-[var(--bg-inset)] text-[var(--text-dim)] border border-[var(--border)] hover:text-[var(--text-primary)]"} ${E?"cursor-not-allowed":""}`,children:"Yes"}),a.jsx("button",{onClick:()=>!E&&C(Z=>({...Z,[L.id]:"no"})),disabled:E,className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${N[L.id]==="no"?"bg-rose-500/20 text-[var(--accent-rose)] border border-rose-500/30":"bg-[var(--bg-inset)] text-[var(--text-dim)] border border-[var(--border)] hover:text-[var(--text-primary)]"} ${E?"cursor-not-allowed":""}`,children:"No"})]})]}),E&&a.jsx("p",{className:"text-xs text-violet-400 mt-1 ml-5",children:y[L.id]?"Auto-detected: policy found in your data":"Auto-set: add a policy under Insurance to update"})]},L.id)})})]}),T.length>0&&M&&a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Recommendations"})}),a.jsx("div",{className:"divide-y divide-[var(--border-light)]",children:T.map((L,q)=>{const E=L.severity==="critical"?a.jsx(mO,{size:14,className:"text-[var(--accent-rose)]"}):L.severity==="warning"?a.jsx(Hs,{size:14,className:"text-[var(--accent-amber)]"}):a.jsx(hz,{size:14,className:"text-[var(--accent-blue)]"});return a.jsxs("div",{className:"flex items-start gap-3 px-4 py-3",children:[a.jsx("span",{className:"shrink-0 mt-0.5",children:E}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-[var(--text-primary)]",children:L.text}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:L.action})]})]},q)})})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[!M&&a.jsxs("p",{className:"text-xs text-[var(--accent-amber)] mb-3",children:["Please answer all ",Ua.length," questions before saving."]}),a.jsx("button",{onClick:$,disabled:!M||m,className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg text-sm font-bold transition-colors ${M&&!m?"bg-violet-600 hover:bg-violet-500 text-white":"bg-[var(--bg-inset)] text-[var(--text-dim)] cursor-not-allowed"}`,children:m?a.jsxs(a.Fragment,{children:[a.jsx(uc,{size:16,className:"animate-spin"}),"Saving..."]}):f?a.jsxs(a.Fragment,{children:["Save & Continue to Dashboard",a.jsx(QF,{size:16})]}):a.jsxs(a.Fragment,{children:[a.jsx(wO,{size:16}),"Update Health Check"]})})]})]})}const woe=[{icon:ac,color:"text-violet-400 bg-violet-500/15",text:"Track Mutual Funds, Stocks & Other Investments"},{icon:Kl,color:"text-blue-400 bg-blue-500/15",text:"Family member-wise portfolio management"},{icon:Od,color:"text-emerald-400 bg-emerald-500/15",text:"Goal planning with portfolio mapping"},{icon:ic,color:"text-cyan-400 bg-cyan-500/15",text:"Insurance, Liabilities & Bank Accounts"},{icon:PB,color:"text-amber-400 bg-amber-500/15",text:"ATH-based Buy Opportunities & Smart Rebalancing"},{icon:Lh,color:"text-rose-400 bg-rose-500/15",text:"Email reports, Reminders & Financial Health Check"}];function Soe(){return a.jsxs("div",{className:"space-y-4 max-w-lg mx-auto",children:[a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-6 text-center",children:[a.jsx("img",{src:"/logo-new.png",alt:"Capital Friends",className:"h-16 w-auto mx-auto mb-3"}),a.jsxs("h1",{className:"text-lg font-bold text-[var(--text-primary)]",style:{fontFamily:"'Poppins', sans-serif"},children:[a.jsx("span",{children:"Capital"}),a.jsx("span",{className:"text-emerald-400",children:"Friends"})]}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"Family Portfolio Manager"}),a.jsxs("div",{className:"flex items-center justify-center gap-3 mt-3",children:[a.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-lg text-[11px] font-semibold bg-violet-500/10 text-violet-400",children:"v2.0"}),a.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-lg text-[11px] font-medium bg-emerald-500/10 text-emerald-400",children:"Open Source"})]})]}),a.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:a.jsx("p",{className:"text-[13px] text-[var(--text-secondary)] leading-relaxed",children:"Capital Friends helps Indian families track, manage, and grow their wealth  all from a single Google Sheet powered by a modern web app."})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Features"})}),a.jsx("div",{className:"px-4 py-3 space-y-3",children:woe.map(e=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-7 h-7 rounded-lg flex items-center justify-center shrink-0 ${e.color}`,children:a.jsx(e.icon,{size:14})}),a.jsx("p",{className:"text-xs text-[var(--text-secondary)]",children:e.text})]},e.text))})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Links & Feedback"})}),a.jsxs("div",{className:"divide-y divide-[var(--border-light)]",children:[a.jsxs("a",{href:"https://github.com/jagadeeshkmanne/capital-friends",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center shrink-0 bg-slate-500/15 text-[var(--text-muted)]",children:a.jsx(Hz,{size:17})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:"GitHub Repository"}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)]",children:"View source code and contribute"})]}),a.jsx(yn,{size:14,className:"text-[var(--text-dim)] shrink-0"})]}),a.jsxs("a",{href:"https://capitalfriends.in",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center shrink-0 bg-emerald-500/15 text-emerald-400",children:a.jsx(vO,{size:17})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:"capitalfriends.in"}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)]",children:"Official website"})]}),a.jsx(yn,{size:14,className:"text-[var(--text-dim)] shrink-0"})]}),a.jsxs("a",{href:"https://github.com/jagadeeshkmanne/capital-friends/issues/new?labels=enhancement&template=feature_request.md&title=%5BFeature%5D+",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center shrink-0 bg-violet-500/15 text-violet-400",children:a.jsx(cB,{size:17})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:"Request a Feature"}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)]",children:"Suggest new features or improvements"})]}),a.jsx(yn,{size:14,className:"text-[var(--text-dim)] shrink-0"})]}),a.jsxs("a",{href:"https://github.com/jagadeeshkmanne/capital-friends/issues/new?labels=bug&template=bug_report.md&title=%5BBug%5D+",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center shrink-0 bg-rose-500/15 text-rose-400",children:a.jsx(dO,{size:17})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:"Report a Bug"}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)]",children:"Found something wrong? Let us know"})]}),a.jsx(yn,{size:14,className:"text-[var(--text-dim)] shrink-0"})]})]})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Contact"})}),a.jsxs("a",{href:"mailto:jagadeesh.k.manne@gmail.com",className:"flex items-center gap-3 px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center shrink-0 bg-blue-500/15 text-blue-400",children:a.jsx(Lh,{size:17})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:"jagadeesh.k.manne@gmail.com"}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)]",children:"Questions, feedback, or just say hi"})]}),a.jsx(yn,{size:14,className:"text-[var(--text-dim)] shrink-0"})]})]}),a.jsxs("div",{className:"text-center py-3",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Built with ",a.jsx(Wl,{size:10,className:"inline text-pink-400 mx-0.5"})," by Jagadeesh Manne"]}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-1",children:"React + Vite + Tailwind CSS + Google Apps Script"})]})]})}function Coe(){return Date.now().toString(36).toUpperCase()}function koe(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",t=r=>Array.from({length:r},()=>e[Math.floor(Math.random()*26)]).join("");return t(5)+Math.floor(1e3+Math.random()*9e3)+t(1)}function Aoe(){return String(Math.floor(2e11+Math.random()*8e11))}function e_(){return"9"+String(Math.floor(1e8+Math.random()*9e8))}function Moe(){return String(Math.floor(1e9+Math.random()*9e9))}function Doe(){const e=Coe();return{member:{memberName:`Test Member ${e}`,relationship:"Self",pan:koe(),aadhar:Aoe(),email:`test-${e.toLowerCase()}@example.com`,mobile:e_(),includeInEmailReports:!0},bank:{accountName:`Test Savings ${e}`,bankName:"Test Bank",accountNumber:Moe(),ifscCode:"TEST0001234",accountType:"Savings",branchName:"Test Branch"},investmentAccount:{accountName:`Test Demat ${e}`,accountType:"Demat",platformBroker:"Test Broker Platform",accountClientId:`CLI-${e}`,registeredEmail:`test-${e.toLowerCase()}@example.com`,registeredPhone:e_()},insurance:{policyType:"Term Life",company:"Test Insurance Co",policyNumber:`POL-${e}`,policyName:`Test Term Plan ${e}`,sumAssured:5e6,nominee:"Test Nominee",dynamicFields:{Premium:15e3,"Premium Frequency":"Annual"}},liability:{liabilityType:"Home Loan",lenderName:"Test Bank",outstandingBalance:45e5,dynamicFields:{"Principal Amount":5e6,"Interest Rate":8.5,"EMI Amount":45e3},notes:`Test liability ${e}`},otherInvestment:{investmentType:"Fixed Deposit",investmentName:`Test FD ${e}`,investedAmount:1e5,currentValue:105e3,investmentCategory:"Debt"},stockPortfolio:{portfolioName:`Test Stock Portfolio ${e}`,broker:"Test Broker"},reminder:{title:`Test Reminder ${e}`,description:"Automated test reminder",dueDate:new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0],category:"Insurance",priority:"Medium"},goal:{goalName:`Test Goal ${e}`,goalType:"Custom",targetAmount:1e6,targetDate:"2040-01-01",priority:"Medium",expectedInflation:.06,expectedCAGR:.12}}}function Eoe({status:e,text:t}){const r={pass:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",fail:"bg-rose-500/20 text-rose-400 border-rose-500/30",skip:"bg-amber-500/20 text-amber-400 border-amber-500/30",running:"bg-blue-500/20 text-blue-400 border-blue-500/30",pending:"bg-gray-500/20 text-gray-400 border-gray-500/30"};return a.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded border ${r[e]||r.pending}`,children:t||e.toUpperCase()})}function _oe(){const{user:e}=ao(),[t,r]=j.useState([]),[n,i]=j.useState(!1),[l,c]=j.useState(null),[u,f]=j.useState(!1),m=j.useCallback((N,C,A="")=>{r(k=>[...k,{test:N,status:C,detail:A,time:new Date().toLocaleTimeString()}])},[]),h=j.useCallback((N,C="")=>{r(A=>{const k=[...A];return k.length>0&&(k[k.length-1]={...k[k.length-1],status:N,detail:C}),k})},[]),x=async()=>{f(!0),c(null);try{const N=await Oe("test:diagnose");c(N)}catch(N){c({error:N.message})}finally{f(!1)}},v=async()=>{i(!0),r([]);const N=Doe();let C=null,A=null,k=null,M=null,D=null,O=null,P=null,T=null,$=null,L=null;try{m("API Echo Test","running");try{const E=await Oe("test:echo",{hello:"world"});E&&E.echo&&E.echo.hello==="world"?h("pass","Echo response received correctly"):h("fail","Unexpected response: "+JSON.stringify(E))}catch(E){h("fail",E.message)}m("Diagnostics","running");try{const E=await Oe("test:diagnose"),Z=Object.entries(E.sheets||{}).filter(([,re])=>!re.exists).map(([re])=>re);if(Z.length>0)h("fail",`Missing sheets: ${Z.join(", ")}`);else{const re=Object.keys(E.sheets).length;h("pass",`All ${re} sheets exist. SpreadsheetId: ${E.spreadsheetId}`)}const Q=Object.entries(E.dataTests||{}).filter(([,re])=>!re.success).map(([re,R])=>`${re}: ${R.error}`);Q.length>0&&m("Data Function Errors","fail",Q.join("; "))}catch(E){h("fail",E.message)}m("Load All Data (bulk)","running");try{const E=await Sp(),Z=Object.entries(E).map(([Q,re])=>`${Q}: ${Array.isArray(re)?re.length:"?"}`);h("pass",Z.join(", "))}catch(E){h("fail",E.message)}m("Members  Create","running");try{const E=await A_(N.member);C=E?.memberId,A=N.member.memberName,C?h("pass",`Created: ${C}`):h("fail","No memberId returned: "+JSON.stringify(E))}catch(E){h("fail",E.message)}m("Members  List","running");try{const E=await k_();Array.isArray(E)&&E.some(Q=>Q.memberId===C)?h("pass",`Found ${C} in ${E.length} member(s)`):h("fail",`Member ${C} not found. Got ${Array.isArray(E)?E.length:0} members: ${JSON.stringify(E).substring(0,200)}`)}catch(E){h("fail",E.message)}if(C){m("Members  Update","running");try{await M_({...N.member,memberId:C,memberName:"Updated Test Member"}),A="Updated Test Member",h("pass",'Updated name to "Updated Test Member"')}catch(E){h("fail",E.message)}}m("Banks  Create","running");try{const E=await __({...N.bank,memberId:C||"FM-001"});k=E?.accountId,h(k?"pass":"fail",k?`Created: ${k}`:"No accountId: "+JSON.stringify(E))}catch(E){h("fail",E.message)}m("Banks  List","running");try{const E=await E_();h("pass",`${Array.isArray(E)?E.length:0} account(s)`)}catch(E){h("fail",E.message)}m("Investment Accounts  Create","running");try{const E=await P_({...N.investmentAccount,memberId:C||"FM-001",bankAccountId:k||"BA-001"});M=E?.accountId,h(M?"pass":"fail",M?`Created: ${M}`:"No accountId: "+JSON.stringify(E))}catch(E){h("fail",E.message)}m("Investment Accounts  List","running");try{const E=await T_();h("pass",`${Array.isArray(E)?E.length:0} account(s)`)}catch(E){h("fail",E.message)}m("Insurance  Create","running");try{const E=await B_({...N.insurance,memberId:C||"FM-001",insuredMember:A||"Test Member"});D=E?.policyId,h(D?"pass":"fail",D?`Created: ${D}`:"No policyId: "+JSON.stringify(E))}catch(E){h("fail",E.message)}m("Insurance  List","running");try{const E=await z_();h("pass",`${Array.isArray(E)?E.length:0} policy/policies`)}catch(E){h("fail",E.message)}m("Liabilities  Create","running");try{const E=await H_({...N.liability,familyMember:C||"FM-001"});O=E?.liabilityId,h(O?"pass":"fail",O?`Created: ${O}`:"No liabilityId: "+JSON.stringify(E))}catch(E){h("fail",E.message)}m("Liabilities  List","running");try{const E=await q_();h("pass",`${Array.isArray(E)?E.length:0} liability/liabilities`)}catch(E){h("fail",E.message)}m("Other Investments  Create","running");try{const E=await V_({...N.otherInvestment,familyMember:C||"FM-001"});P=E?.investmentId,h(P?"pass":"fail",P?`Created: ${P}`:"No investmentId: "+JSON.stringify(E))}catch(E){h("fail",E.message)}m("Other Investments  List","running");try{const E=await Y_();h("pass",`${Array.isArray(E)?E.length:0} investment(s)`)}catch(E){h("fail",E.message)}m("Stock Portfolios  Create","running");try{const E=await K_({...N.stockPortfolio,owner:C||"FM-001"});T=E?.portfolioId,h(T?"pass":"fail",T?`Created: ${T}`:"No portfolioId: "+JSON.stringify(E))}catch(E){h("fail",E.message)}m("Stock Portfolios  List","running");try{const E=await W_();h("pass",`${Array.isArray(E)?E.length:0} portfolio(s)`)}catch(E){h("fail",E.message)}m("Reminders  Create","running");try{const E=await Z_(N.reminder);$=E?.reminderId,h($?"pass":"fail",$?`Created: ${$}`:"No reminderId: "+JSON.stringify(E))}catch(E){h("fail",E.message)}m("Reminders  List","running");try{const E=await X_();h("pass",`${Array.isArray(E)?E.length:0} reminder(s)`)}catch(E){h("fail",E.message)}m("Goals  Create","running");try{const E=await L_(N.goal);L=E?.goalId,h(L?"pass":"fail",L?`Created: ${L}`:"No goalId: "+JSON.stringify(E))}catch(E){h("fail",E.message)}m("Goals  List","running");try{const E=await R_();h("pass",`${Array.isArray(E)?E.length:0} goal(s)`)}catch(E){h("fail",E.message)}m("Cleanup  Delete test data","running");const q=[];if(L)try{await F_(L)}catch(E){q.push("goal: "+E.message)}if($)try{await J_($)}catch(E){q.push("reminder: "+E.message)}if(T)try{await Q_(T)}catch(E){q.push("stockPortfolio: "+E.message)}if(P)try{await G_(P)}catch(E){q.push("otherInv: "+E.message)}if(O)try{await U_(O)}catch(E){q.push("liability: "+E.message)}if(D)try{await $_(D)}catch(E){q.push("insurance: "+E.message)}if(M)try{await I_(M)}catch(E){q.push("invAcct: "+E.message)}if(k)try{await O_(k)}catch(E){q.push("bank: "+E.message)}if(C)try{await D_(C)}catch(E){q.push("member: "+E.message)}q.length>0?h("fail",q.join("; ")):h("pass","All test data cleaned up"),m("Final Load All (post-cleanup)","running");try{const E=await Sp(),Z=Object.entries(E).map(([Q,re])=>`${Q}: ${Array.isArray(re)?re.length:"?"}`);h("pass",Z.join(", "))}catch(E){h("fail",E.message)}}catch(q){m("UNEXPECTED ERROR","fail",q.message)}finally{i(!1)}},g=t.filter(N=>N.status==="pass").length,S=t.filter(N=>N.status==="fail").length,y=t.filter(N=>N.status!=="running").length;return a.jsx("div",{className:"min-h-screen bg-[var(--bg-main)] p-4 max-w-3xl mx-auto",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-bold text-[var(--text-primary)]",children:"API Test Suite"}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Signed in as ",e?.email||"unknown"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:x,disabled:u||n,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-[var(--bg-card)] border border-[var(--border)] text-[var(--text-secondary)] hover:bg-[var(--bg-elevated)] disabled:opacity-50 cursor-pointer",children:u?"Running...":"Diagnostics"}),a.jsx("button",{onClick:v,disabled:n,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-violet-600 text-white hover:bg-violet-700 disabled:opacity-50 cursor-pointer",children:n?"Running Tests...":"Run All Tests"})]})]}),y>0&&a.jsxs("div",{className:"flex gap-3 text-xs",children:[a.jsxs("span",{className:"text-emerald-400",children:["Pass: ",g]}),a.jsxs("span",{className:"text-rose-400",children:["Fail: ",S]}),a.jsxs("span",{className:"text-[var(--text-dim)]",children:["Total: ",y]})]}),l&&a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4 space-y-3",children:[a.jsx("h2",{className:"text-sm font-semibold text-[var(--text-primary)]",children:"Diagnostics Report"}),l.error?a.jsx("p",{className:"text-xs text-rose-400",children:l.error}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-xs text-[var(--text-secondary)] space-y-1",children:[a.jsxs("p",{children:[a.jsx("span",{className:"text-[var(--text-dim)]",children:"Spreadsheet:"})," ",l.spreadsheetName]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-[var(--text-dim)]",children:"ID:"})," ",a.jsx("code",{className:"text-[10px]",children:l.spreadsheetId})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-medium text-[var(--text-primary)] mb-1",children:"Sheets"}),a.jsx("div",{className:"grid grid-cols-2 gap-1",children:Object.entries(l.sheets||{}).map(([N,C])=>a.jsxs("div",{className:"flex items-center justify-between text-[11px] px-2 py-1 rounded bg-[var(--bg-elevated)]",children:[a.jsx("span",{className:"text-[var(--text-secondary)] truncate",children:N}),C.exists?a.jsxs("span",{className:"text-emerald-400 ml-1",children:[C.dataRows,"r"]}):a.jsx("span",{className:"text-rose-400 ml-1",children:"MISSING"})]},N))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-medium text-[var(--text-primary)] mb-1",children:"Data Functions"}),a.jsx("div",{className:"space-y-1",children:Object.entries(l.dataTests||{}).map(([N,C])=>a.jsxs("div",{className:"flex items-center justify-between text-[11px] px-2 py-1 rounded bg-[var(--bg-elevated)]",children:[a.jsx("span",{className:"text-[var(--text-secondary)]",children:N}),C.success?a.jsxs("span",{className:"text-emerald-400",children:[C.count," items"]}):a.jsx("span",{className:"text-rose-400 truncate ml-2 max-w-[200px]",title:C.error,children:C.error})]},N))})]}),l.safeCallErrors&&l.safeCallErrors.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-medium text-rose-400 mb-1",children:"SafeCall Errors"}),l.safeCallErrors.map((N,C)=>a.jsxs("p",{className:"text-[11px] text-rose-400",children:[N.fn,": ",N.error]},C))]})]})]}),t.length>0&&a.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:a.jsx("div",{className:"divide-y divide-[var(--border)]",children:t.map((N,C)=>a.jsxs("div",{className:"px-4 py-2 flex items-start gap-3",children:[a.jsx("div",{className:"mt-0.5 shrink-0",children:a.jsx(Eoe,{status:N.status})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:N.test}),N.detail&&a.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5 break-all",children:N.detail})]}),a.jsx("span",{className:"text-[10px] text-[var(--text-dim)] shrink-0",children:N.time})]},C))})}),t.length===0&&!l&&a.jsxs("div",{className:"text-center py-12 text-[var(--text-dim)]",children:[a.jsx("p",{className:"text-sm",children:'Click "Run All Tests" to test all CRUD operations'}),a.jsx("p",{className:"text-xs mt-1",children:'or "Diagnostics" to check spreadsheet structure'})]})]})})}const Ooe="modulepreload",Toe=function(e){return"/"+e},t_={},ap=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let f=function(m){return Promise.all(m.map(h=>Promise.resolve(h).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");i=f(r.map(m=>{if(m=Toe(m),m in t_)return;t_[m]=!0;const h=m.endsWith(".css"),x=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${x}`))return;const v=document.createElement("link");if(v.rel=h?"stylesheet":Ooe,h||(v.as="script"),v.crossOrigin="",v.href=m,u&&v.setAttribute("nonce",u),document.head.appendChild(v),h)return new Promise((g,S)=>{v.addEventListener("load",g),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return i.then(c=>{for(const u of c||[])u.status==="rejected"&&l(u.reason);return t().catch(l)})};function r_(e){return e>=0?"text-emerald-400":"text-red-400"}function ip(e){return e>=0?"+":""}function Poe(e){if(!e)return"Other";const t=e.toLowerCase();return t.includes("gold")||t.includes("silver")||t.includes("commodity")?"Commodity":t.includes("liquid")||t.includes("money market")||t.includes("overnight")?"Liquid":t.includes("gilt")||t.includes("government securities")||t.includes("constant maturity")?"Gilt":t.includes("elss")||t.includes("tax saver")?"ELSS":t.includes("debt")||t.includes("bond")||t.includes("income fund")||t.includes("corporate bond")||t.includes("banking & psu")||t.includes("short duration")||t.includes("medium duration")||t.includes("long duration")||t.includes("short term")||t.includes("medium term")||t.includes("floater")||t.includes("floating rate")||t.includes("credit")||t.includes("accrual")||t.includes("savings fund")||t.includes("ultra short")?"Debt":t.includes("multi asset")?"Multi-Asset":t.includes("hybrid")||t.includes("balanced")||t.includes("dynamic asset")||t.includes("arbitrage")||t.includes("retirement")||t.includes("children")||t.includes("pension")?"Hybrid":t.includes("equity")||t.includes("flexi cap")||t.includes("large cap")||t.includes("mid cap")||t.includes("small cap")||t.includes("multi cap")||t.includes("focused")||t.includes("contra")||t.includes("value fund")||t.includes("thematic")||t.includes("sectoral")||t.includes("consumption")||t.includes("infrastructure")||t.includes("pharma")||t.includes("healthcare")||t.includes("technology")||t.includes("fmcg")||t.includes("mnc")||t.includes("opportunities fund")||t.includes("midcap")||t.includes("smallcap")||t.includes("largecap")||t.includes("large & mid")?"Equity":t.includes("index")||t.includes("etf")||t.includes("nifty")||t.includes("sensex")?"Index":t.includes("fund of fund")||t.includes("fof")||t.includes("aggressive")||t.includes("conservative")?"Hybrid":"Other"}const Ioe={Equity:"#8b5cf6",Debt:"#60a5fa",Gold:"#fbbf24",Commodities:"#eab308","Real Estate":"#f97316",Hybrid:"#818cf8",Cash:"#94a3b8",Other:"#94a3b8"},n_=["#f97316","#8b5cf6","#fbbf24","#f59e0b","#34d399","#ec4899","#60a5fa","#3b82f6","#06b6d4","#10b981","#ef4444","#a855f7"],a_=["linear-gradient(135deg, #8b5cf6, #6366f1)","linear-gradient(135deg, #ec4899, #f43f5e)","linear-gradient(135deg, #3b82f6, #06b6d4)","linear-gradient(135deg, #f59e0b, #f97316)","linear-gradient(135deg, #10b981, #34d399)","linear-gradient(135deg, #ef4444, #dc2626)"],i_={Self:{bg:"rgba(139,92,246,0.1)",color:"#a78bfa"},Spouse:{bg:"rgba(236,72,153,0.1)",color:"#ec4899"},Father:{bg:"rgba(59,130,246,0.1)",color:"#60a5fa"},Mother:{bg:"rgba(245,158,11,0.1)",color:"#f59e0b"},Child:{bg:"rgba(59,130,246,0.1)",color:"#60a5fa"}};function na({label:e,color:t,badge:r,linkText:n,onClick:i}){return a.jsxs("div",{className:"-mx-6 -mt-6 px-6 py-3.5 mb-4 flex items-center justify-between rounded-t-xl",style:{background:"rgba(128,128,128,0.04)",borderBottom:"1px solid rgba(128,128,128,0.08)"},children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-[3px] h-3.5 rounded-sm opacity-60",style:{background:t||"currentColor"}}),a.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",style:{color:t||"var(--text-muted)"},children:e}),r!=null&&a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold",style:{background:t?`${t}15`:"rgba(128,128,128,0.1)",color:t||"var(--text-muted)"},children:r})]}),n&&a.jsxs("button",{onClick:i,className:"text-xs font-medium text-blue-400 hover:text-blue-300 transition-colors",children:[n," "]})]})}function Roe(){const e=Ks(),{selectedMember:t,familyMembers:r}=Br(),{masked:n,mv:i}=Oa(),{mfPortfolios:l,mfHoldings:c,stockPortfolios:u,stockHoldings:f,otherInvList:m,liabilityList:h,banks:x,investmentAccounts:v,insurancePolicies:g,reminderList:S,goalList:y,assetAllocations:N,activeMembers:C,activeBanks:A,activeInvestmentAccounts:k}=ht(),[M,D]=j.useState(!1),[O,P]=j.useState(!1),[T,$]=j.useState(!1),[L,q]=j.useState(null),E=j.useRef(null),Z=j.useRef(null),Q=j.useRef(null);j.useEffect(()=>{Promise.all([ap(()=>import("./html2canvas-pro.esm-BFE-rsXj.js"),[]),ap(()=>import("./jspdf.es.min-BYqV0tey.js").then(B=>B.j),[])]).then(([B,z])=>{Q.current={html2canvas:B.default,jsPDF:z.jsPDF}}).catch(B=>{B.message?.includes("dynamically imported module")&&window.location.reload()})},[]);const re=j.useMemo(()=>(C||[]).find(z=>z.relationship==="Self")?.pan||"",[C]),R=j.useCallback(async({forEmail:B=!1}={})=>{if(!E.current)throw new Error("Dashboard not ready");let z,U;if(Q.current)({html2canvas:z,jsPDF:U}=Q.current);else{const[_e,ze]=await Promise.all([ap(()=>import("./html2canvas-pro.esm-BFE-rsXj.js"),[]),ap(()=>import("./jspdf.es.min-BYqV0tey.js").then(Mt=>Mt.j),[])]);z=_e.default,U=ze.jsPDF}const xe=E.current;Z.current&&(Z.current.style.display="block"),await new Promise(_e=>setTimeout(_e,100));const Ne=await z(xe,{scale:B?1:2,useCORS:!0,backgroundColor:"#0f172a",logging:!1});Z.current&&(Z.current.style.display="none");const ne={orientation:"p",unit:"mm",format:"a4"};re&&!B&&(ne.encryption={userPassword:re,ownerPassword:re,userPermissions:["print","copy"]});const Ee=new U(ne),Ce=Ee.internal.pageSize.getWidth(),oe=Ee.internal.pageSize.getHeight(),$e=6,Ie=Ce-$e*2,Re=oe-$e*2,rt=Ie/Ne.width,Nt=Math.floor(Re/rt);let zt=0,Ht=0;for(;zt<Ne.height;){Ht>0&&Ee.addPage(),Ee.setFillColor(15,23,42),Ee.rect(0,0,Ce,oe,"F");const _e=Math.min(Nt,Ne.height-zt),ze=document.createElement("canvas");ze.width=Ne.width,ze.height=_e,ze.getContext("2d").drawImage(Ne,0,zt,Ne.width,_e,0,0,Ne.width,_e);const W=B?ze.toDataURL("image/jpeg",.65):ze.toDataURL("image/png"),H=_e*rt;Ee.addImage(W,B?"JPEG":"PNG",$e,$e,Ie,H),zt+=Nt,Ht++}const Xt=t==="all"?"Family":r?.find(_e=>_e.memberId===t)?.name||"Dashboard",Zt=new Date().toISOString().slice(0,10),ye=`Capital-Friends-${Xt}-${Zt}.pdf`;return{pdf:Ee,fileName:ye}},[t,r,re]),G=j.useCallback(async()=>{if(T)return;$(!0);const B=re?`${re.slice(0,2)}****${re.slice(-2)}`:"";re&&q({status:"generating",panHint:B});try{const{pdf:z,fileName:U}=await R();z.save(U),re&&(q({status:"done",panHint:B}),setTimeout(()=>q(null),8e3))}catch(z){console.error("PDF export failed:",z),q(null),window.print()}finally{$(!1)}},[T,R,re]),pe=j.useCallback(async()=>{if(!(M||O)){D(!0);try{const{pdf:B,fileName:z}=await R({forEmail:!0}),U=B.output("datauristring").split(",")[1];await AF(U,z),P(!0),setTimeout(()=>P(!1),3e3)}catch(B){alert("Failed to send email: "+B.message)}finally{D(!1)}}},[M,O,R]),je=re?"Download as PDF (password: your PAN)":"Download as PDF",we=(B,z)=>t==="all"?B:B.filter(U=>U[z]===t),F=j.useMemo(()=>{const B=we((l||[]).filter(de=>de.status==="Active"),"ownerId"),z=new Set(B.map(de=>de.portfolioId)),U=(c||[]).filter(de=>z.has(de.portfolioId)&&de.units>0),xe=U.reduce((de,Ae)=>de+Ae.investment,0),Ne=U.reduce((de,Ae)=>de+Ae.currentValue,0),ne=Ne-xe,Ee=we((u||[]).filter(de=>de.status==="Active"),"ownerId"),Ce=new Set(Ee.map(de=>de.portfolioId)),oe=(f||[]).filter(de=>Ce.has(de.portfolioId)),$e=oe.reduce((de,Ae)=>de+Ae.totalInvestment,0),Ie=oe.reduce((de,Ae)=>de+Ae.currentValue,0),Re=Ie-$e,rt=we((m||[]).filter(de=>de.status==="Active"),"familyMemberId"),Nt=rt.reduce((de,Ae)=>de+Ae.investedAmount,0),zt=rt.reduce((de,Ae)=>de+Ae.currentValue,0),Ht=zt-Nt,Xt=we((h||[]).filter(de=>de.status==="Active"),"familyMemberId"),Zt=Xt.reduce((de,Ae)=>de+Ae.outstandingBalance,0),ye=Xt.reduce((de,Ae)=>de+Ae.emiAmount,0),_e=we((g||[]).filter(de=>de.status==="Active"),"memberId"),ze=_e.filter(de=>de.policyType==="Term Life").reduce((de,Ae)=>de+Ae.sumAssured,0),Mt=_e.filter(de=>de.policyType==="Health").reduce((de,Ae)=>de+Ae.sumAssured,0),W=_e.reduce((de,Ae)=>de+(Ae.premium||0),0),H=we((x||[]).filter(de=>de.status==="Active"),"memberId"),te=we((v||[]).filter(de=>de.status==="Active"),"memberId"),ke=we((y||[]).filter(de=>de.isActive!==!1),"familyMemberId"),Ue=we((S||[]).filter(de=>de.isActive!==!1&&de.status!=="Completed"),"familyMemberId"),se=t==="all"?C||[]:(C||[]).filter(de=>de.memberId===t),it=Ne+Ie+zt,Ye=it-Zt,Be=xe+$e+Nt,Je=it-Be,nt=Be>0?Je/Be*100:0,Ut={};if(N)for(const de of N)de.assetAllocation&&(Ut[de.fundCode]=de.assetAllocation);const Qe={Equity:0,Debt:0,Gold:0,Hybrid:0,Commodities:0,"Real Estate":0,Cash:0,Other:0};U.forEach(de=>{const Ae=Ut[de.schemeCode||de.fundCode];if(Ae)for(const[Xe,Jt]of Object.entries(Ae))Xe in Qe?Qe[Xe]+=de.currentValue*(Jt/100):Qe.Other+=de.currentValue*(Jt/100);else{let Xe=de.category;(!Xe||Xe==="Other")&&(Xe=Poe(de.fundName)),Xe==="Equity"||Xe==="ELSS"||Xe==="Index"?Qe.Equity+=de.currentValue:Xe==="Debt"||Xe==="Gilt"?Qe.Debt+=de.currentValue:Xe==="Liquid"?Qe.Cash+=de.currentValue:Xe==="Commodity"?Qe.Commodities+=de.currentValue:Xe==="Multi-Asset"?(Qe.Equity+=de.currentValue*.5,Qe.Debt+=de.currentValue*.3,Qe.Commodities+=de.currentValue*.2):Xe==="Hybrid"||Xe==="FoF"?(Qe.Equity+=de.currentValue*.65,Qe.Debt+=de.currentValue*.35):Qe.Other+=de.currentValue}}),Qe.Equity+=Ie,rt.forEach(de=>{const Ae=(de.investmentType||"").toLowerCase();Ae.includes("gold")||Ae.includes("sgb")||Ae.includes("sovereign gold")?Qe.Gold+=de.currentValue:Ae.includes("silver")||Ae.includes("commodity")?Qe.Commodities+=de.currentValue:Ae.includes("fd")||Ae.includes("fixed")||Ae.includes("bond")||Ae.includes("ppf")||Ae.includes("epf")||Ae.includes("nps")||Ae.includes("rd")||Ae.includes("nsc")||Ae.includes("ssy")?Qe.Debt+=de.currentValue:Ae.includes("real estate")||Ae.includes("property")?Qe["Real Estate"]+=de.currentValue:Qe.Other+=de.currentValue});const De=Object.entries(Qe).filter(([,de])=>de>0).sort(([,de],[,Ae])=>Ae-de).map(([de,Ae])=>({name:de,value:Ae,pct:it>0?Ae/it*100:0,fill:Ioe[de]||"#94a3b8"})),We={};Ne>0&&(We["Mutual Funds"]=(We["Mutual Funds"]||0)+Ne),Ie>0&&(We.Stocks=(We.Stocks||0)+Ie),rt.forEach(de=>{const Ae=de.investmentType||"Other";We[Ae]=(We[Ae]||0)+de.currentValue});const Fe=Object.entries(We).filter(([,de])=>de>0).sort(([,de],[,Ae])=>Ae-de).map(([de,Ae],Xe)=>({name:de,value:Ae,pct:it>0?Ae/it*100:0,fill:n_[Xe%n_.length]})),bt=[];B.forEach(de=>{(c||[]).filter(Xe=>Xe.portfolioId===de.portfolioId&&Xe.units>0).forEach(Xe=>{if(Xe.athNav>0&&Xe.belowATHPct>=5){const{main:Jt}=Le(Xe.fundName);bt.push({fundName:Jt,portfolioName:de.portfolioName,ownerName:de.ownerName,belowATHPct:Xe.belowATHPct,isStrongBuy:Xe.belowATHPct>=10})}})}),bt.sort((de,Ae)=>Ae.belowATHPct-de.belowATHPct);const Bt=[];B.forEach(de=>{const Ae=(c||[]).filter(sr=>sr.portfolioId===de.portfolioId&&sr.units>0),Xe=Ae.reduce((sr,mi)=>sr+mi.currentValue,0),Jt=(de.rebalanceThreshold||.05)*100;Ae.forEach(sr=>{if(sr.targetAllocationPct>0&&Xe>0){const mi=sr.currentValue/Xe*100,il=mi-sr.targetAllocationPct;if(Math.abs(il)>Jt){const{main:sl}=Le(sr.fundName);Bt.push({fundName:sl,portfolioName:de.portfolioName,ownerName:de.ownerName,currentPct:Math.round(mi),targetPct:Math.round(sr.targetAllocationPct),drift:Math.round(il)})}}})}),Bt.sort((de,Ae)=>Math.abs(Ae.drift)-Math.abs(de.drift));const Yt=[];if(Ne>0){const de=[...new Set(B.map(Xe=>Xe.ownerName))].join(", "),Ae=[...new Set(B.map(Xe=>{const Jt=(v||[]).find(sr=>sr.accountId===Xe.investmentAccountId);return Jt?Jt.platformBroker:Xe.investmentAccountName||""}).filter(Boolean))].join(", ");Yt.push({type:"Mutual Funds",platform:Ae,owner:de,invested:xe,current:Ne,pl:ne})}if(Ie>0){const de=[...new Set(Ee.map(Xe=>Xe.ownerName))].join(", "),Ae=[...new Set(Ee.map(Xe=>{const Jt=(v||[]).find(sr=>sr.accountId===Xe.investmentAccountId);return Jt?Jt.platformBroker:Xe.investmentAccountName||""}).filter(Boolean))].join(", ");Yt.push({type:"Stocks",platform:Ae,owner:de,invested:$e,current:Ie,pl:Re})}const gr={};rt.forEach(de=>{const Ae=de.investmentType||"Other";gr[Ae]||(gr[Ae]={invested:0,current:0,owners:new Set,platforms:new Set}),gr[Ae].invested+=de.investedAmount,gr[Ae].current+=de.currentValue,gr[Ae].owners.add(de.familyMemberName),de.investmentName&&gr[Ae].platforms.add(de.investmentName)}),Object.entries(gr).forEach(([de,Ae])=>{const Xe=Ae.current-Ae.invested;Yt.push({type:de,platform:Ae.platforms.size<=2?[...Ae.platforms].join(", "):`${Ae.platforms.size} investments`,owner:[...Ae.owners].join(", "),invested:Ae.invested,current:Ae.current,pl:Ae.invested>0?Xe:null})});const kn={};return B.forEach(de=>{const Xe=U.filter(Jt=>Jt.portfolioId===de.portfolioId).reduce((Jt,sr)=>Jt+sr.currentValue,0);kn[de.ownerId]=(kn[de.ownerId]||0)+Xe}),Ee.forEach(de=>{const Xe=oe.filter(Jt=>Jt.portfolioId===de.portfolioId).reduce((Jt,sr)=>Jt+sr.currentValue,0);kn[de.ownerId]=(kn[de.ownerId]||0)+Xe}),rt.forEach(de=>{kn[de.familyMemberId]=(kn[de.familyMemberId]||0)+de.currentValue}),Xt.forEach(de=>{kn[de.familyMemberId]=(kn[de.familyMemberId]||0)-de.outstandingBalance}),{mfCurrentValue:Ne,mfInvested:xe,mfPL:ne,stkCurrentValue:Ie,stkInvested:$e,stkPL:Re,otherCurrentValue:zt,otherInvested:Nt,otherPL:Ht,totalLiabilities:Zt,totalEMI:ye,lifeCover:ze,healthCover:Mt,totalPremium:W,totalAssets:it,totalInvested:Be,totalPL:Je,plPct:nt,netWorth:Ye,assetClassList:De,allocByType:Fe,buyOpportunities:bt,rebalanceItems:Bt,investmentRows:Yt,activeLiabilities:Xt,activeInsurance:_e,activeGoals:ke,activeReminders:Ue,filteredBanks:H,filteredInvAccounts:te,filteredMembers:se,memberNetWorth:kn,activeMFPortfolios:B,activeStockPortfolios:Ee}},[t,l,c,u,f,m,h,x,v,g,y,S,N,C]),ue=j.useMemo(()=>{const B=[],z=we((g||[]).filter(Ce=>Ce.status==="Active"),"memberId");z.some(Ce=>Ce.policyType==="Term Life")||B.push({type:"critical",title:"No Term Life Insurance",description:"Family loses its sole income source if primary earner passes away. Get 10-15x annual income cover.",action:"Add Policy",navigateTo:"/insurance"});const xe=z.filter(Ce=>Ce.policyType==="Health").reduce((Ce,oe)=>Ce+oe.sumAssured,0);return xe===0?B.push({type:"critical",title:"No Health Insurance",description:"Medical emergencies without cover can wipe out years of savings. Get minimum 10L family cover.",action:"Add Policy",navigateTo:"/insurance"}):xe<5e5&&B.push({type:"warning",title:"Inadequate Health Insurance",description:`Current cover ${K(xe)} may not cover a single hospital stay. Consider upgrading.`,navigateTo:"/insurance"}),we((y||[]).filter(Ce=>Ce.isActive!==!1&&Ce.goalType==="Emergency Fund"),"familyMemberId").forEach(Ce=>{const oe=Ce.targetAmount>0?Ce.currentValue/Ce.targetAmount*100:0;if(oe<100){const $e=Ce.targetAmount-Ce.currentValue;B.push({type:(oe>=75,"warning"),title:`Emergency Fund at ${oe.toFixed(0)}%`,description:`Job loss or medical emergency forces debt. ${K($e)} more needed for full cushion.`,action:"View Goal",navigateTo:"/goals"})}}),we((S||[]).filter(Ce=>Ce.isActive!==!1),"familyMemberId").filter(Ce=>new Date(Ce.dueDate)<new Date).forEach(Ce=>{const oe=Math.ceil((new Date-new Date(Ce.dueDate))/864e5);B.push({type:"critical",title:Ce.title,description:`${oe} day${oe!==1?"s":""} overdue. ${Ce.description||""}`.trim(),navigateTo:"/reminders"})}),we((y||[]).filter(Ce=>Ce.isActive!==!1&&Ce.status==="Needs Attention"),"familyMemberId").forEach(Ce=>{B.push({type:"warning",title:`${Ce.goalName} needs attention`,description:"Progress is behind schedule. Consider increasing monthly investment.",action:"View Goal",navigateTo:"/goals"})}),B.slice(0,6)},[t,g,y,S]),J=j.useMemo(()=>{const B=we((S||[]).filter(U=>U.isActive!==!1&&U.status!=="Completed"),"familyMemberId"),z=new Date;return B.map(U=>{const xe=new Date(U.dueDate)-z,Ne=Math.ceil(xe/(1440*60*1e3));return{...U,days:Ne}}).filter(U=>U.days>=0).sort((U,xe)=>U.days-xe.days).slice(0,5)},[t,S]);return l===null||c===null?a.jsx(fi,{title:"Loading dashboard",cards:4}):a.jsxs(a.Fragment,{children:[L&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center print:hidden",style:{backgroundColor:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)"},onClick:()=>L.status==="done"&&q(null),children:a.jsxs("div",{className:"w-[340px] rounded-2xl border border-[var(--border)] p-6 shadow-2xl",style:{background:"var(--bg-card)"},onClick:B=>B.stopPropagation(),children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center",style:{background:L.status==="done"?"rgba(16,185,129,0.12)":"rgba(139,92,246,0.12)",border:`1px solid ${L.status==="done"?"rgba(16,185,129,0.2)":"rgba(139,92,246,0.2)"}`},children:L.status==="done"?a.jsx(ud,{size:28,className:"text-emerald-400"}):a.jsx(uc,{size:28,className:"text-violet-400 animate-spin"})})}),a.jsx("p",{className:"text-center text-base font-bold text-[var(--text-primary)]",children:L.status==="done"?"PDF Downloaded":"Generating PDF..."}),a.jsxs("div",{className:"mt-4 rounded-xl px-4 py-3 text-center",style:{background:"rgba(139,92,246,0.08)",border:"1px solid rgba(139,92,246,0.15)"},children:[a.jsx("p",{className:"text-[11px] uppercase tracking-wider text-[var(--text-dim)] font-semibold",children:"PDF Password"}),a.jsx("p",{className:"text-lg font-bold text-violet-400 mt-1 tracking-wider",children:"Your PAN"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:L.panHint})]}),L.status==="done"&&a.jsx("button",{onClick:()=>q(null),className:"w-full mt-4 py-2.5 rounded-xl text-sm font-semibold text-emerald-400 transition-colors hover:bg-emerald-500/10",style:{border:"1px solid rgba(16,185,129,0.2)"},children:"Got it"})]})}),a.jsxs("div",{className:"max-w-[1280px] mx-auto",ref:E,children:[a.jsx("style",{children:`
          @media print {
            @page { margin: 8mm; size: A4; }
            *, *::before, *::after { color-adjust: exact !important; -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }
            html, body { background: #0f172a !important; color: #e2e8f0 !important; overflow: visible !important; height: auto !important; }
            nav, header, footer, .print\\:hidden, [class*="BottomNav"], [class*="Sidebar"],
            [class*="safe-bottom"] { display: none !important; }
            div, main, section { overflow: visible !important; height: auto !important; max-height: none !important; }
            .flex.flex-col.h-dvh { height: auto !important; overflow: visible !important; display: block !important; }
            main.flex-1 { overflow: visible !important; padding-bottom: 0 !important; }
            .max-w-\\[1280px\\], .max-w-7xl { max-width: 100% !important; padding: 0 !important; margin: 0 auto !important; }
            .grid.grid-cols-1.md\\:grid-cols-2 { display: flex !important; flex-direction: column !important; gap: 8px !important; }
            .grid.grid-cols-1.md\\:grid-cols-2 > * { width: 100% !important; }
            .grid.grid-cols-1.md\\:grid-cols-3 { display: flex !important; flex-wrap: wrap !important; gap: 8px !important; }
            .grid.grid-cols-1.md\\:grid-cols-3 > * { flex: 1 1 30% !important; min-width: 180px !important; }
            .rounded-xl { break-inside: avoid; page-break-inside: avoid; }
            [class*="fixed"] { position: static !important; display: none !important; }
          }
        `}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"md:col-span-2 rounded-xl border border-[var(--border)] p-7",style:{background:"linear-gradient(135deg, var(--bg-card) 0%, var(--bg-card) 100%)"},children:[a.jsxs("div",{className:"-mx-7 -mt-7 px-7 py-3.5 mb-4 flex items-center justify-between rounded-t-xl",style:{background:"rgba(128,128,128,0.04)",borderBottom:"1px solid rgba(128,128,128,0.08)"},children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-[3px] h-3.5 rounded-sm opacity-60",style:{background:"var(--text-muted)"}}),a.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-[var(--text-muted)]",children:"Net Worth"})]}),a.jsxs("div",{className:"flex items-center gap-1.5 print:hidden",children:[a.jsxs("button",{onClick:G,disabled:T,className:"flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg text-xs font-medium text-[var(--text-secondary)] hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-50",title:je,children:[T?a.jsx(uc,{size:13,className:"animate-spin"}):a.jsx(_z,{size:13}),a.jsx("span",{className:"hidden sm:inline",children:T?"Exporting...":"PDF"})]}),a.jsxs("button",{onClick:pe,disabled:M,className:"flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg text-xs font-medium transition-colors disabled:opacity-50",style:{color:O?"#34d399":"var(--text-secondary)"},title:"Email wealth report",children:[O?a.jsx(ud,{size:13}):a.jsx(Lh,{size:13}),a.jsx("span",{className:"hidden sm:inline",children:M?"Sending...":O?"Sent!":"Email"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-[34px] font-bold text-[var(--text-primary)] tabular-nums leading-tight",children:K(F.netWorth)}),F.totalInvested>0&&a.jsxs("div",{className:"text-sm mt-1.5",children:[a.jsxs("span",{className:`font-semibold ${r_(F.totalPL)}`,children:[ip(F.totalPL),K(Math.abs(F.totalPL))]}),a.jsxs("span",{className:"text-[var(--text-dim)] ml-1",children:["(",ip(F.totalPL),F.plPct.toFixed(1),"% returns)"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-xs text-[var(--text-dim)]",children:"Total Assets"}),a.jsx("div",{className:"text-lg font-semibold text-[var(--text-secondary)] tabular-nums",children:K(F.totalAssets)}),F.totalLiabilities>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-xs text-[var(--text-dim)] mt-2",children:"Liabilities"}),a.jsx("div",{className:"text-lg font-semibold text-red-400 tabular-nums",children:K(F.totalLiabilities)})]})]})]}),F.assetClassList.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("div",{className:"flex h-2.5 rounded-[5px] overflow-hidden gap-0.5",children:F.assetClassList.map(B=>a.jsx("div",{style:{width:`${B.pct}%`,background:B.fill},title:`${B.name} ${B.pct.toFixed(0)}%`},B.name))}),a.jsx("div",{className:"flex gap-4 mt-2 text-xs flex-wrap",children:F.assetClassList.map(B=>a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"inline-block w-2 h-2 rounded-full",style:{background:B.fill}}),a.jsxs("span",{className:"text-[var(--text-secondary)] font-medium",children:[B.name," ",B.pct.toFixed(0),"%"]})]},B.name))})]})]}),F.allocByType.length>0&&a.jsxs("div",{className:"md:col-span-2 rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6",style:{padding:"20px"},children:[a.jsx(na,{label:"Asset Allocation",color:"var(--text-muted)"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5 items-center",children:[a.jsxs("div",{className:"flex flex-col items-center justify-center",children:[a.jsxs("div",{className:"relative w-[240px] h-[240px]",children:[a.jsx(U1,{width:"100%",height:"100%",children:a.jsxs(pN,{children:[a.jsx(Sx,{data:F.allocByType,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:67,outerRadius:110,paddingAngle:2,stroke:"none",children:F.allocByType.map((B,z)=>a.jsx(Hc,{fill:B.fill},z))}),a.jsx(lN,{content:({active:B,payload:z})=>{if(!B||!z?.[0])return null;const U=z[0].payload;return a.jsxs("div",{className:"bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-2.5 py-1.5 shadow-lg text-xs",children:[a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:U.name}),a.jsxs("span",{className:"text-[var(--text-muted)] ml-1.5",children:[K(U.value)," (",U.pct.toFixed(0),"%)"]})]})}})]})}),a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[a.jsx("div",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider",children:"Net Worth"}),a.jsx("div",{className:"text-2xl font-bold text-[var(--text-primary)] tabular-nums",children:K(F.netWorth)})]})]}),a.jsxs("div",{className:"w-full max-w-[280px] mt-4 grid grid-cols-2 gap-2",children:[a.jsxs("div",{className:"rounded-lg px-3 py-2.5 text-center",style:{backgroundColor:"rgba(139,92,246,0.08)"},children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider",children:"Assets"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums mt-0.5",children:K(F.totalAssets)}),F.totalInvested>0&&a.jsxs("p",{className:"text-[10px] tabular-nums mt-0.5",style:{color:F.totalPL>=0?"#34d399":"#f87171"},children:[F.totalPL>=0?"+":"",K(F.totalPL)," P&L"]})]}),F.totalLiabilities>0?a.jsxs("div",{className:"rounded-lg px-3 py-2.5 text-center",style:{backgroundColor:"rgba(244,63,94,0.08)"},children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider",children:"Liabilities"}),a.jsx("p",{className:"text-sm font-bold text-rose-400 tabular-nums mt-0.5",children:K(F.totalLiabilities)}),a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5",children:[F.activeLiabilities.length," ",F.activeLiabilities.length===1?"Loan":"Loans"]})]}):a.jsxs("div",{className:"rounded-lg px-3 py-2.5 text-center",style:{backgroundColor:"rgba(16,185,129,0.08)"},children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider",children:"Invested"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums mt-0.5",children:K(F.totalInvested)}),F.totalInvested>0&&a.jsxs("p",{className:"text-[10px] tabular-nums mt-0.5",style:{color:F.totalPL>=0?"#34d399":"#f87171"},children:[F.plPct>=0?"+":"",F.plPct.toFixed(1),"% returns"]})]})]})]}),a.jsxs("div",{children:[F.allocByType.map(B=>a.jsxs("div",{className:"flex items-center justify-between py-2.5 px-3.5 mb-1.5 rounded-lg text-[13px]",style:{background:"rgba(128,128,128,0.05)"},children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"inline-block w-2 h-2 rounded-full",style:{background:B.fill}}),a.jsx("span",{className:"text-[var(--text-secondary)] font-medium",children:B.name})]}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[var(--text-secondary)] font-semibold tabular-nums",children:K(B.value)}),a.jsxs("span",{className:"inline-flex items-center justify-center min-w-[36px] px-2 py-0.5 rounded-[5px] text-xs font-semibold tabular-nums",style:{background:"rgba(128,128,128,0.08)",color:B.fill},children:[B.pct.toFixed(0),"%"]})]})]},B.name)),F.totalLiabilities>0&&a.jsxs("div",{className:"flex items-center justify-between py-2.5 px-3.5 mb-1.5 rounded-lg text-[13px]",style:{background:"rgba(248,113,113,0.06)"},children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-red-400"}),a.jsxs("span",{className:"text-red-400 font-medium",children:[F.activeLiabilities.length," ",F.activeLiabilities.length===1?"Loan":"Loans"]})]}),a.jsxs("span",{className:"text-red-400 font-semibold tabular-nums",children:["",K(F.totalLiabilities)]})]})]})]})]}),ue.length>0&&a.jsxs("div",{className:"md:col-span-2 rounded-xl border bg-[var(--bg-card)] p-6",style:{borderColor:"rgba(244,63,94,0.12)"},children:[a.jsx(na,{label:"Action Required",color:"#fb7185",badge:ue.length}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:ue.map((B,z)=>{const U=B.type==="critical",xe=ue.length%2===1&&z===ue.length-1;return a.jsx("div",{className:`rounded-[10px] p-3.5 ${xe?"md:col-span-2":""}`,style:{background:U?"rgba(244,63,94,0.07)":"rgba(251,191,36,0.05)",border:`1px solid ${U?"rgba(244,63,94,0.18)":"rgba(251,191,36,0.12)"}`},children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-[26px] h-[26px] rounded-[7px] flex items-center justify-center text-[13px] shrink-0",style:{background:U?"rgba(244,63,94,0.12)":"rgba(251,191,36,0.1)",color:U?"#fb7185":"#fbbf24"},children:U?"":""}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm font-semibold",style:{color:U?"#fb7185":"#fbbf24"},children:B.title}),B.description&&a.jsx("div",{className:"text-[13px] text-[var(--text-muted)] mt-0.5 leading-relaxed",children:B.description}),B.action&&B.navigateTo&&a.jsxs("button",{onClick:()=>e(B.navigateTo),className:"text-xs font-medium mt-1.5 cursor-pointer",style:{color:U?"#fb7185":"#fbbf24"},children:[B.action," "]})]})]})},z)})})]}),F.buyOpportunities.length>0&&a.jsxs("div",{className:`rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors ${F.rebalanceItems.length===0?"md:col-span-2":""}`,onClick:()=>e("/investments/mutual-funds"),children:[a.jsx(na,{label:"Buy Opportunities",color:"#34d399",badge:F.buyOpportunities.length,linkText:"Mutual Funds",onClick:B=>{B.stopPropagation(),e("/investments/mutual-funds")}}),a.jsx("div",{className:"text-xs text-[var(--text-dim)] mb-2.5",children:"Funds trading below All-Time High"}),F.buyOpportunities.map((B,z)=>a.jsxs("div",{className:"flex items-center justify-between py-2.5",style:{borderBottom:z<F.buyOpportunities.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-[13px] text-[var(--text-primary)] font-medium truncate",children:B.fundName}),a.jsxs("div",{className:"text-xs text-[var(--text-dim)] mt-1.5",children:[B.ownerName,"'s ",B.portfolioName]})]}),a.jsxs("div",{className:"text-right shrink-0 ml-3",children:[a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-bold",style:{background:B.isStrongBuy?"rgba(34,211,238,0.12)":"rgba(251,191,36,0.10)",color:B.isStrongBuy?"#22d3ee":"#fbbf24"},children:B.isStrongBuy?"Strong Buy":"Buy"}),a.jsxs("div",{className:"text-xs mt-0.5 font-medium tabular-nums",style:{color:B.isStrongBuy?"#22d3ee":"#fbbf24"},children:[" ",B.belowATHPct.toFixed(1),"% below ATH"]})]})]},z)),a.jsxs("div",{className:"mt-3.5 py-3 px-3.5 rounded-r-md text-[11px] text-[var(--text-muted)] leading-relaxed",style:{background:"rgba(251,191,36,0.06)",borderLeft:"3px solid rgba(251,191,36,0.3)"},onClick:B=>B.stopPropagation(),children:[a.jsx("span",{className:"text-amber-400 font-semibold",children:"Note:"})," A fund significantly below ATH may indicate market correction ",a.jsx("em",{children:"or"})," fund-specific issues (poor management, regulatory action, etc.). Always research before investing."]})]}),F.rebalanceItems.length>0&&a.jsxs("div",{className:`rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors ${F.buyOpportunities.length===0?"md:col-span-2":""}`,onClick:()=>e("/investments/mutual-funds"),children:[a.jsx(na,{label:"Rebalance Needed",color:"#a78bfa",badge:F.rebalanceItems.length,linkText:"Portfolios",onClick:B=>{B.stopPropagation(),e("/investments/mutual-funds")}}),a.jsx("div",{className:"text-xs text-[var(--text-dim)] mb-2.5",children:"Allocation drifted beyond threshold"}),F.rebalanceItems.map((B,z)=>a.jsxs("div",{className:"flex items-center justify-between py-2.5",style:{borderBottom:z<F.rebalanceItems.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-[13px] text-[var(--text-primary)] font-medium truncate",children:B.fundName}),a.jsxs("div",{className:"text-xs text-[var(--text-dim)] mt-1.5",children:[B.ownerName,"'s ",B.portfolioName]})]}),a.jsxs("div",{className:"text-right shrink-0 ml-3",children:[a.jsxs("div",{className:"text-xs text-violet-400 font-semibold tabular-nums",children:[B.currentPct,"%  ",B.targetPct,"%"]}),a.jsxs("div",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:[B.drift>0?"+":"",B.drift,"% ",B.drift>0?"over":"under"," target"]})]})]},z))]}),F.investmentRows.length>0&&a.jsxs("div",{className:"md:col-span-2 rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors",onClick:()=>e("/investments/mutual-funds"),children:[a.jsx(na,{label:"Investments",color:"var(--text-muted)",linkText:"View All",onClick:B=>{B.stopPropagation(),e("/investments/mutual-funds")}}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Type"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Platform"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Owner"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Invested"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Current"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-right pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"P&L"})]})}),a.jsx("tbody",{children:F.investmentRows.map((B,z)=>{const U=B.pl,xe=B.invested>0&&U!=null?U/B.invested*100:null;return a.jsxs("tr",{children:[a.jsx("td",{className:"text-[13px] font-medium text-[var(--text-primary)] py-3.5",style:{borderBottom:z<F.investmentRows.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:B.type}),a.jsx("td",{className:"text-[13px] text-[var(--text-secondary)] py-3.5",style:{borderBottom:z<F.investmentRows.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:B.platform||""}),a.jsx("td",{className:"text-[13px] text-[var(--text-secondary)] py-3.5",style:{borderBottom:z<F.investmentRows.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:B.owner}),a.jsx("td",{className:"text-[13px] text-[var(--text-secondary)] py-3.5 tabular-nums",style:{borderBottom:z<F.investmentRows.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:B.invested>0?K(B.invested):""}),a.jsx("td",{className:"text-[13px] font-semibold text-[var(--text-primary)] py-3.5 tabular-nums",style:{borderBottom:z<F.investmentRows.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:K(B.current)}),a.jsx("td",{className:"text-[13px] py-3.5 text-right tabular-nums",style:{borderBottom:z<F.investmentRows.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:U!=null&&B.invested>0?a.jsxs("span",{className:`font-semibold ${r_(U)}`,children:[ip(U),K(Math.abs(U)),xe!=null&&a.jsxs("span",{className:"text-[var(--text-dim)] font-normal ml-1",children:["(",ip(U),xe.toFixed(1),"%)"]})]}):a.jsx("span",{className:"text-[var(--text-dim)]",children:""})})]},z)})})]})})]}),F.activeLiabilities.length>0&&a.jsxs("div",{className:`rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors ${J.length===0?"md:col-span-2":""}`,onClick:()=>e("/liabilities"),children:[a.jsx(na,{label:"Liabilities",color:"#f87171",linkText:"View",onClick:B=>{B.stopPropagation(),e("/liabilities")}}),a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("div",{className:"text-[22px] font-bold text-red-400 tabular-nums",children:K(F.totalLiabilities)}),F.totalEMI>0&&a.jsxs("div",{className:"text-xs text-right",children:[a.jsx("span",{className:"text-[var(--text-dim)]",children:"Total EMI:"})," ",a.jsxs("span",{className:"text-red-400 font-semibold tabular-nums",children:[K(F.totalEMI),"/m"]})]})]}),a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Loan"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"EMI"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-right pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Outstanding"})]})}),a.jsx("tbody",{children:F.activeLiabilities.map((B,z)=>a.jsxs("tr",{children:[a.jsxs("td",{className:"py-3.5",style:{borderBottom:z<F.activeLiabilities.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:[a.jsxs("div",{className:"text-[13px] font-medium text-[var(--text-primary)]",children:[B.lenderName," ",B.liabilityType]}),a.jsxs("div",{className:"text-xs text-[var(--text-dim)] mt-1.5",children:[B.familyMemberName,B.notes?`  ${B.notes}`:""]})]}),a.jsx("td",{className:"text-xs text-[var(--text-secondary)] py-3.5 tabular-nums",style:{borderBottom:z<F.activeLiabilities.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:B.emiAmount>0?`${K(B.emiAmount)}/m`:""}),a.jsx("td",{className:"text-sm font-semibold text-red-400 py-3.5 text-right tabular-nums",style:{borderBottom:z<F.activeLiabilities.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:K(B.outstandingBalance)})]},B.liabilityId||z))})]})]}),J.length>0&&a.jsxs("div",{className:`rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors ${F.activeLiabilities.length===0?"md:col-span-2":""}`,onClick:()=>e("/reminders"),children:[a.jsx(na,{label:"Upcoming Reminders",color:"var(--text-muted)",badge:J.length,linkText:"View All",onClick:B=>{B.stopPropagation(),e("/reminders")}}),J.map((B,z)=>{let U,xe,Ne;return B.days===0?(U="#fbbf24",xe="rgba(251,191,36,0.1)",Ne="Today"):B.days<=7?(U="#60a5fa",xe="transparent",Ne=`${B.days} day${B.days!==1?"s":""}`):(U="#94a3b8",xe="transparent",Ne=`${B.days} days`),a.jsxs("div",{className:"flex items-center justify-between py-2.5",style:{borderBottom:z<J.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-[13px] text-[var(--text-primary)] font-medium truncate",children:B.title}),a.jsxs("div",{className:"text-xs text-[var(--text-dim)] mt-1.5",children:[B.familyMemberName,B.frequency?`  ${B.frequency}`:""]})]}),B.days===0?a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold shrink-0",style:{background:xe,color:U},children:Ne}):a.jsx("span",{className:"text-xs font-medium shrink-0 tabular-nums",style:{color:U},children:Ne})]},B.reminderId||z)})]}),F.activeInsurance.length>0&&a.jsxs("div",{className:`rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors ${F.activeGoals.length===0?"md:col-span-2":""}`,onClick:()=>e("/insurance"),children:[a.jsx(na,{label:"Insurance Coverage",color:"var(--text-muted)",linkText:"View All",onClick:B=>{B.stopPropagation(),e("/insurance")}}),a.jsxs("div",{className:"flex gap-3 mb-4 flex-wrap",children:[F.lifeCover>0&&a.jsxs("div",{className:"flex items-center gap-1 text-[13px]",children:[a.jsx("span",{className:"text-[var(--text-dim)]",children:"Life:"}),a.jsx("span",{className:"font-semibold text-cyan-400",children:K(F.lifeCover)})]}),F.healthCover>0&&a.jsxs("div",{className:"flex items-center gap-1 text-[13px]",children:[a.jsx("span",{className:"text-[var(--text-dim)]",children:"Health:"}),a.jsx("span",{className:"font-semibold text-emerald-400",children:K(F.healthCover)})]}),F.totalPremium>0&&a.jsxs("div",{className:"flex items-center gap-1 text-[13px]",children:[a.jsx("span",{className:"text-[var(--text-dim)]",children:"Premium:"}),a.jsxs("span",{className:"font-medium text-[var(--text-muted)]",children:[K(F.totalPremium),"/yr"]})]})]}),a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Policy"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Nominee"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Policy No."}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-right pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Cover"})]})}),a.jsx("tbody",{children:F.activeInsurance.map((B,z)=>{const U=B.policyType==="Term Life"?"#22d3ee":B.policyType==="Health"?"#34d399":"#94a3b8";return a.jsxs("tr",{children:[a.jsxs("td",{className:"py-3.5",style:{borderBottom:z<F.activeInsurance.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:[a.jsx("div",{className:"text-[13px] font-medium text-[var(--text-primary)]",children:B.policyName}),a.jsxs("div",{className:"text-xs text-[var(--text-dim)] mt-1.5",children:[B.policyType,"  ",B.insuredMember]})]}),a.jsx("td",{className:"text-xs text-[var(--text-secondary)] py-3.5",style:{borderBottom:z<F.activeInsurance.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:B.nominee||""}),a.jsx("td",{className:"text-xs text-[var(--text-secondary)] font-medium py-3.5 tabular-nums",style:{borderBottom:z<F.activeInsurance.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:i(B.policyNumber,"policy")}),a.jsx("td",{className:"text-sm font-semibold py-3.5 text-right tabular-nums",style:{color:U,borderBottom:z<F.activeInsurance.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:K(B.sumAssured)})]},B.policyId||z)})})]})]}),F.activeGoals.length>0&&a.jsxs("div",{className:`rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors ${F.activeInsurance.length===0?"md:col-span-2":""}`,onClick:()=>e("/goals"),children:[a.jsx(na,{label:"Financial Goals",color:"var(--text-muted)",linkText:"View All",onClick:B=>{B.stopPropagation(),e("/goals")}}),F.activeGoals.map((B,z)=>{const U=B.targetAmount>0?Math.min(B.currentValue/B.targetAmount*100,100):0,xe=B.targetDate?new Date(B.targetDate).getFullYear():null;let Ne,ne;return U>=100?(Ne="#34d399",ne="Achieved"):B.status==="Needs Attention"?(Ne="#fbbf24",ne="Needs Attention"):B.status==="On Track"?(Ne="#60a5fa",ne="On Track"):(Ne="#a78bfa",ne=B.status||"In Progress"),a.jsxs("div",{className:z<F.activeGoals.length-1?"mb-4":"",children:[a.jsxs("div",{className:"flex items-center justify-between text-[13px]",children:[a.jsx("span",{className:"font-medium text-[var(--text-secondary)]",children:B.goalName}),a.jsxs("span",{className:"text-[var(--text-muted)] font-medium tabular-nums",children:[K(B.currentValue)," ",a.jsxs("span",{className:"text-[var(--text-dim)] font-normal",children:["/ ",K(B.targetAmount)]})]})]}),a.jsx("div",{className:"h-[5px] rounded-[3px] overflow-hidden mt-2",style:{background:"var(--bg-inset)"},children:a.jsx("div",{className:"h-full rounded-[3px]",style:{width:`${U}%`,background:Ne}})}),a.jsxs("div",{className:"flex items-center justify-between text-xs mt-2",children:[a.jsx("span",{className:"font-medium",style:{color:Ne},children:ne}),a.jsxs("span",{className:"text-[var(--text-dim)] tabular-nums",children:[U.toFixed(U>=100?0:1),"%",xe?`  ${xe}`:""]})]})]},B.goalId||z)})]}),a.jsx("div",{className:"md:col-span-2",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[F.filteredMembers.length>0&&a.jsxs("div",{className:"rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors",onClick:()=>e("/family"),children:[a.jsx(na,{label:"Family Members",color:"var(--text-muted)",linkText:"View",onClick:B=>{B.stopPropagation(),e("/family")}}),a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Member"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Role"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-right pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Net Worth"})]})}),a.jsx("tbody",{children:F.filteredMembers.map((B,z)=>{const U=F.memberNetWorth[B.memberId]||0,xe=F.netWorth||1,Ne=xe>0?Math.round(U/xe*100):0,ne=i_[B.relationship]||i_.Child;return a.jsxs("tr",{children:[a.jsx("td",{className:"py-3.5",style:{borderBottom:z<F.filteredMembers.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-[26px] h-[26px] rounded-full flex items-center justify-center text-[11px] font-bold text-white shrink-0",style:{background:a_[z%a_.length]},children:B.memberName?.charAt(0)||"?"}),a.jsx("span",{className:"text-[13px] font-medium text-[var(--text-primary)]",children:B.memberName})]})}),a.jsx("td",{className:"py-3.5",style:{borderBottom:z<F.filteredMembers.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold",style:{background:ne.bg,color:ne.color},children:B.relationship})}),a.jsxs("td",{className:"text-[13px] font-semibold text-[var(--text-primary)] py-3.5 text-right tabular-nums",style:{borderBottom:z<F.filteredMembers.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:[K(U),F.filteredMembers.length>1&&a.jsxs("span",{className:"text-[var(--text-dim)] font-normal ml-1",children:["(",Ne,"%)"]})]})]},B.memberId)})})]})]}),F.filteredBanks.length>0&&a.jsxs("div",{className:"rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors",onClick:()=>e("/accounts/bank"),children:[a.jsx(na,{label:"Bank Accounts",color:"var(--text-muted)",linkText:"View",onClick:B=>{B.stopPropagation(),e("/accounts/bank")}}),a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Account"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Owner"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-right pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"A/C Number"})]})}),a.jsx("tbody",{children:F.filteredBanks.map((B,z)=>a.jsxs("tr",{children:[a.jsx("td",{className:"text-[13px] font-medium text-[var(--text-primary)] py-3.5",style:{borderBottom:z<F.filteredBanks.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:B.accountName}),a.jsx("td",{className:"text-[13px] text-[var(--text-secondary)] py-3.5",style:{borderBottom:z<F.filteredBanks.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:B.memberName}),a.jsx("td",{className:"text-[13px] text-[var(--text-secondary)] font-medium py-3.5 text-right tabular-nums",style:{borderBottom:z<F.filteredBanks.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:i(B.accountNumber,"account")})]},B.accountId||z))})]})]}),F.filteredInvAccounts.length>0&&a.jsxs("div",{className:"rounded-xl border border-[var(--border)] bg-[var(--bg-card)] p-6 cursor-pointer hover:border-[var(--border-light)] transition-colors",onClick:()=>e("/accounts/investment"),children:[a.jsx(na,{label:"Investment Accounts",color:"var(--text-muted)",linkText:"View",onClick:B=>{B.stopPropagation(),e("/accounts/investment")}}),a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Platform"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-left pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Owner"}),a.jsx("th",{className:"text-[11px] font-semibold text-[var(--text-dim)] uppercase tracking-wide text-right pb-2",style:{borderBottom:"1px solid rgba(128,128,128,0.08)"},children:"Client ID"})]})}),a.jsx("tbody",{children:F.filteredInvAccounts.map((B,z)=>a.jsxs("tr",{children:[a.jsx("td",{className:"text-[13px] font-medium text-[var(--text-primary)] py-3.5",style:{borderBottom:z<F.filteredInvAccounts.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:B.platformBroker}),a.jsx("td",{className:"text-[13px] text-[var(--text-secondary)] py-3.5",style:{borderBottom:z<F.filteredInvAccounts.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:B.memberName}),a.jsx("td",{className:"text-[13px] text-[var(--text-secondary)] font-medium py-3.5 text-right tabular-nums",style:{borderBottom:z<F.filteredInvAccounts.length-1?"1px solid rgba(128,128,128,0.06)":"none"},children:i(B.accountClientId,"clientId")})]},B.accountId||z))})]})]})]})}),a.jsxs("div",{ref:Z,className:"md:col-span-2 mt-4 rounded-xl border border-[var(--border)] overflow-hidden",style:{display:"none",background:"linear-gradient(135deg, var(--bg-card) 0%, rgba(16,185,129,0.03) 100%)"},children:[a.jsxs("div",{className:"px-6 py-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx("img",{src:"/logo-new.png",alt:"Capital Friends",className:"h-8 w-auto"}),a.jsxs("div",{children:[a.jsxs("span",{style:{fontFamily:"'Poppins', sans-serif",fontSize:"14px"},children:[a.jsx("span",{className:"font-bold text-[var(--text-primary)]",children:"Capital"}),a.jsx("span",{className:"font-extrabold text-emerald-400",children:"Friends"})]}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] -mt-0.5",children:"Family Portfolio Manager"})]})]}),a.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg",style:{background:"rgba(16,185,129,0.08)",border:"1px solid rgba(16,185,129,0.15)"},children:[a.jsx(vO,{size:13,className:"text-emerald-400"}),a.jsx("span",{className:"text-xs font-semibold text-emerald-400",children:"capitalfriends.in"})]})]}),a.jsx("div",{className:"border-t border-[var(--border-light)]"}),a.jsxs("div",{className:"px-6 py-5 text-center",style:{background:"linear-gradient(180deg, rgba(245,158,11,0.05) 0%, rgba(139,92,246,0.05) 100%)"},children:[a.jsxs("p",{className:"text-sm font-semibold text-amber-400",children:[""," Support the Developer"]}),a.jsx("p",{className:"text-xs text-[var(--text-secondary)] mt-1",children:"Capital Friends is free and always will be. If it helps your family, a small donation means a lot!"}),a.jsx("div",{className:"mt-4 inline-block bg-white rounded-xl p-3",children:a.jsx("img",{src:"/upi-qr-code.png",alt:"UPI QR Code",className:"w-40 h-40 object-contain"})}),a.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-2",children:"Scan with any UPI app"}),a.jsxs("div",{className:"mt-2 inline-block bg-[var(--bg-inset)] rounded-lg px-4 py-2 border border-[var(--border)]",children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:"UPI ID"}),a.jsx("p",{className:"text-sm font-mono font-semibold text-[var(--text-primary)]",children:"jagadeeshmanne.hdfc@kphdfc"})]}),a.jsxs("p",{className:"text-[11px] text-[var(--text-dim)] mt-3",children:["Built with ",""," by Jagadeesh Manne"]})]})]})]})]})]})}function Loe(){return a.jsxs(i8,{children:[a.jsx(tr,{index:!0,element:a.jsx(gse,{})}),a.jsx(tr,{path:"login",element:a.jsx(TI,{})}),a.jsx(tr,{element:a.jsx(mse,{}),children:a.jsxs(tr,{element:a.jsx(fse,{}),children:[a.jsx(tr,{path:"dashboard",element:a.jsx(Roe,{})}),a.jsx(tr,{path:"family",element:a.jsx(noe,{})}),a.jsx(tr,{path:"accounts/bank",element:a.jsx(DE,{})}),a.jsx(tr,{path:"accounts/investment",element:a.jsx(Sse,{})}),a.jsx(tr,{path:"insurance",element:a.jsx(Mse,{})}),a.jsx(tr,{path:"investments/mutual-funds",element:a.jsx(qle,{})}),a.jsx(tr,{path:"investments/stocks",element:a.jsx(Jle,{})}),a.jsx(tr,{path:"investments/other",element:a.jsx(Bse,{})}),a.jsx(tr,{path:"liabilities",element:a.jsx(Ose,{})}),a.jsx(tr,{path:"goals",element:a.jsx(coe,{})}),a.jsx(tr,{path:"reports",element:a.jsx(joe,{})}),a.jsx(tr,{path:"reminders",element:a.jsx(boe,{})}),a.jsx(tr,{path:"health-check",element:a.jsx(Noe,{})}),a.jsx(tr,{path:"about",element:a.jsx(Soe,{})}),a.jsx(tr,{path:"test",element:a.jsx(_oe,{})}),a.jsx(tr,{path:"settings",element:a.jsx(moe,{})}),a.jsx(tr,{path:"more",element:a.jsx(foe,{})}),a.jsx(tr,{path:"accounts",element:a.jsx(DE,{})}),a.jsx(tr,{path:"*",element:a.jsx(bse,{})})]})})]})}s6.createRoot(document.getElementById("root")).render(a.jsx(D8,{children:a.jsx(IF,{children:a.jsx(RF,{children:a.jsx(i$,{children:a.jsx(WB,{children:a.jsx(KB,{children:a.jsx(FF,{children:a.jsx(zF,{children:a.jsx(Loe,{})})})})})})})})}));export{ap as _,Foe as c,li as g};
